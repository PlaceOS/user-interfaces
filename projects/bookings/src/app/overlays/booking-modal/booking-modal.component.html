<header>
    <h3>New Booking</h3>
</header>
<mat-dialog-content>
    <div class="body" *ngIf="!loading; else load_state">
        <div class="form" [formGroup]="form" *ngIf="form">
            <div class="field" *ngIf="form.controls.organiser">
                <label for="host">Host<span>*</span>:</label>
                <a-user-search-field name="host" formControlName="organiser"></a-user-search-field>
            </div>
            <div class="fieldset">
                <div class="field" *ngIf="form.controls.date">
                    <label for="start-time">Start Time:</label>
                    <a-time-field name="start-time" formControlName="date"></a-time-field>
                </div>
                <div class="field" *ngIf="form.controls.duration">
                    <label for="duration">Duration:</label>
                    <a-duration-field name="duration" formControlName="duration"></a-duration-field>
                </div>
            </div>
            <div class="field" *ngIf="form.controls.title">
                <label for="host">Title<span>*</span>:</label>
                <mat-form-field appearance="outline">
                    <input matInput name="title" placeholder="Meeting Title" formControlName="title" />
                    <mat-error>Title is required</mat-error>
                </mat-form-field>
            </div>
        </div>
    </div>
</mat-dialog-content>
<mat-dialog-actions>
    <footer *ngIf="!loading">
        <button mat-button name="close" class="inverse" mat-dialog-close>Cancel</button>
        <button mat-button name="save" (click)="save()">Save</button>
    </footer>
</mat-dialog-actions>
<ng-template #load_state>
    <div class="body">
        <div class="info-block">
            <div class="icon">
                <mat-spinner [diameter]="32"></mat-spinner>
            </div>
            <div class="text">Processing request...</div>
        </div>
    </div>
</ng-template>
