{"version":3,"file":"apps_concierge_src_app_day-view_day-view_module_ts.js","mappings":"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","names":["i0","space_r8","display_name","name","value_r9","ctx_r5","timeToOffset","now","offset_y","ctx_r16","endToOffset","event_r15","duration","ext","_r19","$implicit","ctx_r18","viewEvent","RoomBookingsTimelineComponent_ng_container_37_div_1_div_1_Template","i_r13","ctx_r14","date","tmp_3_0","ui_options","show_overflow","organiser","hjost","title","RoomBookingsTimelineComponent_ng_container_37_div_1_Template","ctx_r7","events","space_r12","id","_c1","RoomBookingsTimelineComponent","AsyncHandler","startOfMinute","Date","valueOf","is_today","isSameDay","this","constructor","_state","_dialog","super","offset_x","w_slots","h_slots","hours","Array","from","length","_","i","options","spaces","combineLatest","filtered","pipe","map","space","filter","event","resources","find","item","email","shareReplay","edit","e","newBooking","resetDate","setDate","previousDate","addDays","nextDate","ngOnInit","subscription","startPolling","console","log","differenceInMinutes","startOfDay","onResize","Math","floor","window","innerWidth","innerHeight","onScroll","_scroll_container","nativeElement","scrollLeft","scrollTop","ref","open","EventDetailsModalComponent","data","componentInstance","subscribe","remove","action","includes","SetupBreakdownModalComponent","_this","_asyncToGenerator","time","format","content","resp","openConfirmModal","icon","CalendarEvent","creator","mailbox","queryEvents","period_start","event_start","period_end","event_end","ical_uid","toPromise","reason","loading","removeEvent","calendar","host","system_id","system","catch","notifyError","close","notifySuccess","closeAll","t","i1","i2","core","Xpm","selectors","viewQuery","rf","ctx","RoomBookingsTimelineComponent_div_12_Template","RoomBookingsTimelineComponent_div_20_Template","RoomBookingsTimelineComponent_div_25_Template","RoomBookingsTimelineComponent_div_29_Template","RoomBookingsTimelineComponent_div_31_Template","RoomBookingsTimelineComponent_div_32_Template","RoomBookingsTimelineComponent_ng_container_37_Template","tmp_14_0","event_r4","_r6","approve","reject","tmp_2_0","images","_r9","ctx_r8","show","RoomBookingsApprovalsComponent","_org","pending","binding","mod","getModule","execute","_this2","decls","vars","consts","template","RoomBookingsApprovalsComponent_div_12_Template","RoomBookingsApprovalsComponent_div_14_Template","RoomBookingsApprovalsComponent_div_16_Template","RoomBookingsApprovalsComponent_button_17_Template","level_r2","RoomBookingsComponent","has_approvals","_router","_route","zones","levels","active_levels","updateZones","z","navigate","relativeTo","queryParams","zone_ids","join","setZones","updateUIOptions","o","setUIOptions","d","queryParamMap","params","has","get","split","level","levelWithID","building","buildings","bld","parent_id","_ref","take","zone","lvl","push","_x","apply","arguments","i3","features","$event","RoomBookingsComponent_mat_option_13_Template","RoomBookingsComponent_room_bookings_approvals_22_Template","DayViewComponent","links","_settings","route","attrs","_c0","ROUTES","path","component","DayViewModule","oAB","cJS","CommonModule","FormsModule","UIModule","SharedSpacesModule","SharedUsersModule","SharedCateringModule","RouterModule"],"sourceRoot":"webpack:///","sources":["./apps/concierge/src/app/day-view/room-timeline.component.ts","./apps/concierge/src/app/day-view/room-approvals.component.ts","./apps/concierge/src/app/day-view/room-bookings.component.ts","./apps/concierge/src/app/day-view/day-view.component.ts","./apps/concierge/src/app/day-view/day-view.module.ts"],"sourcesContent":["import { Component, ElementRef, ViewChild } from '@angular/core';\nimport {\n    add,\n    addDays,\n    differenceInMinutes,\n    format,\n    isSameDay,\n    startOfDay,\n    startOfMinute,\n} from 'date-fns';\nimport { EventsStateService } from './events-state.service';\nimport { combineLatest } from 'rxjs';\nimport { map, shareReplay } from 'rxjs/operators';\nimport {\n    AsyncHandler,\n    currentUser,\n    notifyError,\n    notifySuccess,\n    openConfirmModal,\n} from '@placeos/common';\nimport { MatDialog } from '@angular/material/dialog';\nimport {\n    CalendarEvent,\n    EventDetailsModalComponent,\n    SetupBreakdownModalComponent,\n    queryEvents,\n    removeEvent,\n} from '@placeos/events';\nimport { time } from 'console';\n\n@Component({\n    selector: 'room-bookings-timeline',\n    template: `\n        <div\n            class=\"relative flex items-center justify-center p-2 space-x-2 border-b border-gray-200\"\n        >\n            <app-icon class=\"text-2xl\">event</app-icon>\n            <h3 (dblclick)=\"resetDate()\">\n                {{ date | date: 'mediumDate' }}\n            </h3>\n            <button btn icon matRipple (click)=\"previousDate()\">\n                <app-icon>chevron_left</app-icon>\n            </button>\n            <button btn icon matRipple (click)=\"nextDate()\">\n                <app-icon>chevron_right</app-icon>\n            </button>\n            <div\n                class=\"absolute top-1/2 -translate-y-1/2 left-4 text-blue-500 text-sm\"\n                *ngIf=\"is_today\"\n            >\n                Today\n            </div>\n        </div>\n        <div\n            class=\"flex flex-col w-full flex-1 overflow-hidden\"\n            (window:resize)=\"onResize()\"\n        >\n            <div header class=\"flex items-center w-full h-16\">\n                <div\n                    times\n                    class=\"w-16 h-full flex flex-col items-center justify-end text-xs pb-2 opacity-60\"\n                >\n                    {{ date | date: 'z' }}\n                </div>\n                <div\n                    spaces\n                    class=\"relative flex-1 h-full overflow-hidden border-r border-gray-200\"\n                >\n                    <div\n                        class=\"flex absolute inset-y-0\"\n                        [style.left]=\"-offset_x + 'px'\"\n                    >\n                        <div\n                            class=\"flex flex-col items-center justify-center h-full w-56\"\n                            *ngFor=\"let space of spaces | async\"\n                        >\n                            {{ space.display_name || space.name }}\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div content class=\"flex w-full flex-1 h-px\">\n                <div\n                    times\n                    class=\"relative w-16 h-full overflow-y-hidden overflow-x-visible border-r border-gray-200\"\n                >\n                    <div\n                        class=\"absolute inset-x-0\"\n                        [style.top]=\"-offset_y + 'px'\"\n                    >\n                        <div\n                            class=\"relative block h-12\"\n                            *ngFor=\"let value of hours\"\n                        >\n                            <div\n                                class=\"absolute top-0 right-0 w-2 h-px bg-gray-200\"\n                            ></div>\n                            <div\n                                class=\"absolute top-0 right-3 -translate-y-1/2 text-xs opacity-60\"\n                            >\n                                {{ value % 12 ? value % 12 : '12'\n                                }}{{ value >= 12 ? 'PM' : 'AM' }}\n                            </div>\n                        </div>\n                        <div\n                            class=\"absolute bg-primary right-0 translate-x-1/2 -translate-y-1/2 h-2 w-2 rounded-full z-30\"\n                            [style.top]=\"timeToOffset(now) + 'px'\"\n                        ></div>\n                    </div>\n                </div>\n                <div spaces class=\"relative flex-1 h-full overflow-hidden w-px\">\n                    <div\n                        class=\"absolute top-0 flex h-full pointer-events-none\"\n                        [style.left]=\"-(offset_x % 224) + 'px'\"\n                    >\n                        <div\n                            *ngFor=\"let _ of w_slots\"\n                            class=\"w-56 h-full border-r border-gray-200\"\n                        ></div>\n                    </div>\n                    <div\n                        class=\"absolute left-0 w-full pointer-events-none\"\n                        [style.top]=\"-(offset_y % 48) + 'px'\"\n                    >\n                        <div\n                            *ngFor=\"let _ of h_slots\"\n                            class=\"h-12 w-full border-t border-gray-200\"\n                        ></div>\n                        <div\n                            *ngIf=\"is_today\"\n                            class=\"absolute inset-x-0 -translate-y-px h-0.5 bg-primary z-30\"\n                            [style.top]=\"\n                                timeToOffset(now) -\n                                offset_y -\n                                (48 - (offset_y % 48)) +\n                                48 +\n                                'px'\n                            \"\n                        >\n                            <div\n                                class=\"absolute bg-primary top-1/2 left-0 -translate-x-1/2 -translate-y-1/2 h-2 w-2 rounded-full\"\n                            ></div>\n                        </div>\n                    </div>\n                    <div\n                        #scroll_container\n                        class=\"relative w-full h-full overflow-auto z-10\"\n                        (scroll)=\"onScroll()\"\n                    >\n                        <div\n                            class=\"overflow-hidden relative\"\n                            [style.height]=\"24 * 3 + 'rem'\"\n                            [style.width]=\"\n                                (spaces | async)?.length * 14 + 'rem'\n                            \"\n                        >\n                            <ng-container\n                                *ngFor=\"\n                                    let space of spaces | async;\n                                    let i = index\n                                \"\n                            >\n                                <div\n                                    event\n                                    *ngFor=\"\n                                        let event of (events | async)[\n                                            space.id\n                                        ] || []\n                                    \"\n                                    class=\"absolute w-[13.625rem] hover:opacity-90\"\n                                    [style.left]=\"i * 14 + 0.125 + 'rem'\"\n                                    [style.top]=\"\n                                        timeToOffset(event.date) + 'px'\n                                    \"\n                                    [style.height]=\"\n                                        endToOffset(event.duration) + 'px'\n                                    \"\n                                    (click)=\"viewEvent(event)\"\n                                >\n                                    <div\n                                        class=\"absolute bg-pink-600/50 border border-pink-600 rounded-lg w-full\"\n                                        [style.height]=\"\n                                            endToOffset(\n                                                event.duration +\n                                                    (event.ext('setup') || 0) +\n                                                    event.ext('breakdown') || 0\n                                            ) + 'px'\n                                        \"\n                                        [style.top]=\"\n                                            -(\n                                                ((event.ext('setup') || 0) /\n                                                    60) *\n                                                48\n                                            ) + 'px'\n                                        \"\n                                        *ngIf=\"\n                                            (ui_options | async)\n                                                ?.show_overflow &&\n                                            (event.ext('setup') ||\n                                                event.ext('breakdown'))\n                                        \"\n                                    ></div>\n                                    <div\n                                        class=\"relative w-full h-full bg-gray-100 hover:bg-gray-200 rounded-lg overflow-hidden px-3 py-1 text-xs\"\n                                    >\n                                        <div\n                                            class=\"absolute left-0 inset-y-0 w-1 bg-pink-600\"\n                                        ></div>\n                                        <p class=\"truncate\">\n                                            {{ event.date | date: 'shortTime' }}\n                                            &ndash;\n                                            {{\n                                                event.organiser?.name ||\n                                                    event.hjost\n                                            }}\n                                        </p>\n                                        <p class=\"truncate\">\n                                            {{ event.title }}\n                                        </p>\n                                    </div>\n                                </div>\n                            </ng-container>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n            }\n        `,\n    ],\n})\nexport class RoomBookingsTimelineComponent extends AsyncHandler {\n    public date = Date.now();\n    public offset_x = 0;\n    public offset_y = 0;\n    public w_slots = [];\n    public h_slots = [];\n    public hours = Array.from({ length: 24 }, (_, i) => i);\n    public readonly ui_options = this._state.options;\n    public readonly spaces = this._state.spaces;\n    public readonly events = combineLatest([\n        this._state.spaces,\n        this._state.filtered,\n    ]).pipe(\n        map(([spaces, events]) => {\n            const map = {};\n            for (const space of spaces) {\n                map[space.id] = events.filter((event) =>\n                    event.resources.find(\n                        (item) =>\n                            item.id === space.id || item.email === space.email\n                    )\n                );\n            }\n            return map;\n        }),\n        shareReplay(1)\n    );\n\n    public get now() {\n        return startOfMinute(Date.now()).valueOf();\n    }\n\n    public readonly edit = (e) => this._state.newBooking(e);\n    public readonly resetDate = () => {\n        this.date = Date.now();\n        this._state.setDate(this.date);\n    };\n    public readonly previousDate = () => {\n        this.date = addDays(this.date, -1).valueOf();\n        this._state.setDate(this.date);\n    };\n    public readonly nextDate = () => {\n        this.date = addDays(this.date, 1).valueOf();\n        this._state.setDate(this.date);\n    };\n\n    public get is_today() {\n        return isSameDay(this.date, Date.now());\n    }\n\n    @ViewChild('scroll_container', { static: true })\n    private _scroll_container: ElementRef<HTMLDivElement>;\n\n    constructor(\n        private _state: EventsStateService,\n        private _dialog: MatDialog\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.subscription('poll', this._state.startPolling());\n        const date = Date.now();\n        console.log(\n            'Date Offset:',\n            this.timeToOffset(date),\n            new Date(),\n            differenceInMinutes(date, startOfDay(date))\n        );\n        this.onResize();\n    }\n\n    public timeToOffset(date: number) {\n        const diff = differenceInMinutes(date, startOfDay(date));\n        return (diff / 60) * 48;\n    }\n\n    public endToOffset(duration: number) {\n        return (duration / 60) * 48;\n    }\n\n    public onResize() {\n        const w_slots = Math.floor(window.innerWidth / 224) + 1;\n        const h_slots = Math.floor(window.innerHeight / 48);\n        this.w_slots = Array.from({ length: w_slots }, (_, i) => i);\n        this.h_slots = Array.from({ length: h_slots }, (_, i) => i);\n    }\n\n    public onScroll() {\n        this.offset_x = this._scroll_container.nativeElement.scrollLeft;\n        this.offset_y = this._scroll_container.nativeElement.scrollTop;\n    }\n\n    public viewEvent(event: CalendarEvent) {\n        const ref = this._dialog.open(EventDetailsModalComponent, {\n            data: event,\n        });\n        this.subscription(\n            'edit',\n            ref.componentInstance.edit.subscribe(() => this.edit(event))\n        );\n        this.subscription(\n            'remove',\n            ref.componentInstance.remove.subscribe(() => this.remove(event))\n        );\n        this.subscription(\n            'actions',\n            ref.componentInstance.action.subscribe((action) => {\n                if (action.includes('breakdown')) {\n                    this._dialog.open(SetupBreakdownModalComponent, {\n                        data: event,\n                    });\n                }\n            })\n        );\n    }\n\n    public async remove(item: CalendarEvent) {\n        const time = `${format(item.date, 'dd MMM yyyy h:mma')}`;\n        const resource_name = item.space?.display_name;\n        const content = `Delete the booking for ${resource_name} at ${time}`;\n        const resp = await openConfirmModal(\n            { title: `Delete booking`, content, icon: { content: 'delete' } },\n            this._dialog\n        );\n        if (item instanceof CalendarEvent && item.creator !== item.mailbox) {\n            item =\n                (\n                    await queryEvents({\n                        period_start: item.event_start,\n                        period_end: item.event_end,\n                        ical_uid: item.ical_uid,\n                    }).toPromise()\n                ).find((_) => _.ical_uid === (item as any).ical_uid) || item;\n        }\n        if (resp.reason !== 'done') return;\n        resp.loading('Requesting booking deletion...');\n        await removeEvent(item.id, {\n            calendar: item.host,\n            system_id: (item as any).system?.id,\n        })\n            .toPromise()\n            .catch((e) => {\n                notifyError(`Unable to delete booking. ${e}`);\n                resp.close();\n                throw e;\n            });\n        notifySuccess('Successfully deleted booking.');\n        this._dialog.closeAll();\n    }\n}\n","import { Component } from '@angular/core';\nimport { EventsStateService } from './events-state.service';\nimport { OrganisationService } from '@placeos/organisation';\nimport { getModule } from '@placeos/ts-client';\nimport { CalendarEvent } from '@placeos/events';\n\n@Component({\n    selector: 'room-bookings-approvals',\n    template: `\n        <div\n            class=\"flex flex-col h-full overflow-hidden border-l border-gray-200\"\n            [style.width]=\"show ? '' : '0px'\"\n        >\n            <div\n                class=\"flex items-center p-2 border-b border-gray-200 space-x-2\"\n            >\n                <button\n                    btn\n                    icon\n                    matRipple\n                    class=\"bg-gray-200\"\n                    (click)=\"show = !show\"\n                >\n                    <app-icon>chevron_right</app-icon>\n                </button>\n                <h3 class=\"flex-1\">\n                    Pending Approval ({{ (pending | async).length || '0' }})\n                </h3>\n                <button btn icon matRipple>\n                    <app-icon>search</app-icon>\n                </button>\n            </div>\n            <div class=\"flex-1 overflow-auto p-2 space-y-2\">\n                <div\n                    *ngIf=\"!(pending | async)?.length\"\n                    class=\"w-full h-full flex flex-col items-center justify-center space-y-2\"\n                >\n                    <img src=\"assets/icons/no-pending.svg\" />\n                    <p>No pending requests</p>\n                </div>\n                <div\n                    *ngFor=\"let event of pending | async\"\n                    class=\"relative border border-gray-200 p-2 w-full rounded\"\n                >\n                    <h3>{{ event.title }}</h3>\n                    <p class=\"opacity-30 text-xs mb-2\">\n                        {{ event.date | date: 'medium' }}\n                    </p>\n                    <div class=\"w-64 h-32 overflow-hidden mb-2\">\n                        <img\n                            class=\"object-cover min-w-full min-h-full\"\n                            [src]=\"\n                                (event.resources[0].email | space | async)\n                                    ?.images[0]\n                            \"\n                        />\n                    </div>\n                    <div class=\"flex items-center space-x-2 mb-2\">\n                        <div\n                            class=\"h-8 w-8 bg-gray-100 rounded-full flex items-center justify-center\"\n                        >\n                            <app-icon class=\"text-xl\">place</app-icon>\n                        </div>\n                        <div class=\"flex-1 text-xs\">\n                            {{\n                                (event.resources[0].email | space | async)\n                                    ?.display_name ||\n                                    (event.resources[0].email | space | async)\n                                        ?.name ||\n                                    'No Location'\n                            }}\n                        </div>\n                    </div>\n                    <div class=\"flex items-center space-x-2 mb-2\">\n                        <div\n                            class=\"h-8 w-8 bg-gray-100 rounded-full flex items-center justify-center\"\n                        >\n                            <app-icon class=\"text-xl\">person</app-icon>\n                        </div>\n                        <div class=\"flex-1 text-xs\">\n                            {{ event.organiser?.name || event.host }}\n                        </div>\n                    </div>\n                    <div class=\"flex items-center space-x-2\">\n                        <button\n                            btn\n                            matRipple\n                            class=\"border-green-600 bg-green-600/30 flex items-center space-x-2 text-black\"\n                            (click)=\"approve(event)\"\n                        >\n                            <div>Approve</div>\n                            <app-icon class=\"text-green-600\">done</app-icon>\n                        </button>\n                        <button\n                            btn\n                            matRipple\n                            class=\"border-red-600 bg-red-600/30 flex items-center space-x-2 text-black\"\n                            (click)=\"reject(event)\"\n                        >\n                            <div>Decline</div>\n                            <app-icon class=\"text-red-600\">close</app-icon>\n                        </button>\n                    </div>\n                </div>\n            </div>\n            <div\n                class=\"absolute bottom-0 left-0 right-0 top-14 p-2 flex flex-col items-center justify-center bg-white/80 space-y-2\"\n                *ngIf=\"loading\"\n            >\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p>Processing...</p>\n            </div>\n        </div>\n        <button\n            btn\n            icon\n            matRipple\n            class=\"bg-pending absolute top-2 -left-8 shadow text-white\"\n            *ngIf=\"!show\"\n            (click)=\"show = !show\"\n        >\n            <app-icon>chevron_left</app-icon>\n        </button>\n    `,\n    styles: [\n        `\n            :host {\n                display: block;\n                position: relative;\n                height: 100%;\n            }\n        `,\n    ],\n})\nexport class RoomBookingsApprovalsComponent {\n    public show = true;\n    public loading = false;\n    public readonly pending = this._state.pending;\n\n    constructor(\n        private _state: EventsStateService,\n        private _org: OrganisationService\n    ) {}\n\n    public async approve(event: CalendarEvent) {\n        const system_id = this._org.binding('approvals');\n        if (!system_id) return;\n        const mod = getModule(system_id, 'Approvals');\n        if (!mod) return;\n        this.loading = true;\n        await mod.execute('approve_event', [event.host, event.id]).catch();\n        this.loading = false;\n    }\n\n    public async reject(event: CalendarEvent) {\n        const system_id = this._org.binding('approvals');\n        if (!system_id) return;\n        const mod = getModule(system_id, 'EventApproval');\n        if (!mod) return;\n        this.loading = true;\n        await mod.execute('decline_event', [event.host, event.id]).catch();\n        this.loading = false;\n    }\n}\n","import { Component } from '@angular/core';\nimport { OrganisationService } from '@placeos/organisation';\nimport { EventsStateService } from './events-state.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AsyncHandler } from '@placeos/common';\nimport { take } from 'rxjs/operators';\n\n@Component({\n    selector: 'room-bookings',\n    template: `\n        <div class=\"absolute inset-0 flex flex-col overflow-hidden pl-8\">\n            <div class=\"flex items-center justify-between w-full py-4 pr-8\">\n                <h2 class=\"text-2xl font-medium\">Room Bookings</h2>\n                <button btn matRipple class=\"space-x-2\" (click)=\"newBooking()\">\n                    <div>New Booking</div>\n                    <app-icon>add</app-icon>\n                </button>\n            </div>\n            <div class=\"w-full flex items-center\">\n                <mat-form-field appearance=\"outline\" class=\"h-[3.5rem]\">\n                    <mat-select\n                        multiple\n                        [ngModel]=\"zones | async\"\n                        (ngModelChange)=\"updateZones($event)\"\n                        placeholder=\"All Levels\"\n                    >\n                        <mat-option\n                            *ngFor=\"let level of levels | async\"\n                            [value]=\"level.id\"\n                        >\n                            {{ level.display_name || level.name }}\n                        </mat-option>\n                    </mat-select>\n                </mat-form-field>\n                <div class=\"border-l h-full ml-8 mr-4\"></div>\n                <mat-slide-toggle\n                    class=\"m-2\"\n                    [ngModel]=\"(ui_options | async)?.show_overflow\"\n                    (ngModelChange)=\"updateUIOptions({ show_overflow: $event })\"\n                >\n                    <div class=\"text-xs\">Setup / Breakdown</div>\n                </mat-slide-toggle>\n            </div>\n            <div class=\"flex w-full flex-1 h-px border-t mt-4 border-gray-200\">\n                <room-bookings-timeline class=\"flex-1\"/>\n                <room-bookings-approvals *ngIf=\"has_approvals\"/>\n            </div>\n        </div>\n    `,\n    styles: [``],\n})\nexport class RoomBookingsComponent extends AsyncHandler {\n    public readonly zones = this._state.zones;\n    public readonly ui_options = this._state.options;\n    /** List of levels for the active building */\n    public readonly levels = this._org.active_levels;\n    /** List of levels for the active building */\n    public readonly updateZones = (z) => {\n        this._router.navigate([], {\n            relativeTo: this._route,\n            queryParams: { zone_ids: z.join(',') },\n        });\n        this._state.setZones(z);\n    };\n    public readonly updateUIOptions = (o) => this._state.setUIOptions(o);\n    /**  */\n    public readonly newBooking = (d?) => this._state.newBooking(d);\n\n    public get has_approvals() {\n        return this._org.binding('approvals');\n    }\n\n    constructor(\n        private _org: OrganisationService,\n        private _state: EventsStateService,\n        private _router: Router,\n        private _route: ActivatedRoute\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((params) => {\n                if (params.has('zone_ids')) {\n                    const zones = params.get('zone_ids').split(',');\n                    if (zones.length) {\n                        const level = this._org.levelWithID(zones);\n                        if (!level) return;\n                        this._org.building = this._org.buildings.find(\n                            (bld) => bld.id === level.parent_id\n                        );\n                    }\n                }\n            })\n        );\n        this.subscription(\n            'levels',\n            this._org.active_levels.subscribe(async (levels) => {\n                const zones = (\n                    await this.zones.pipe(take(1)).toPromise()\n                ).filter((zone) => levels.find((lvl) => lvl.id === zone));\n                if (!zones.length && levels.length) {\n                    zones.push(levels[0].id);\n                }\n                this.updateZones(zones);\n            })\n        );\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ApplicationLinkInternal, SettingsService } from '@placeos/common';\n\n@Component({\n    selector: '[app-dayview]',\n    template: `\n        <app-topbar></app-topbar>\n        <div class=\"flex flex-1 h-px\">\n            <app-sidebar></app-sidebar>\n            <main class=\"relative flex flex-col flex-1 w-1/2 h-full\">\n                <room-bookings></room-bookings>\n                <!-- <dayview-topbar></dayview-topbar>\n                <dayview-timeline></dayview-timeline> -->\n            </main>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                height: 100%;\n                width: 100%;\n                background-color: #fff;\n            }\n        `,\n    ],\n})\nexport class DayViewComponent implements OnInit {\n    public get links(): ApplicationLinkInternal[] {\n        return this._settings.get('app.general.menu') || [];\n    }\n\n    constructor(private _settings: SettingsService, private _router: Router) {}\n\n    public ngOnInit() {\n        if (!this.links.find((_) => _.route.includes('day-view'))) {\n            this._router.navigate([`/${this.links[0].route}`]);\n        }\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule, Route } from '@angular/router';\n\nimport { UIModule } from '../ui/ui.module';\n\nimport { DayViewComponent } from './day-view.component';\nimport { DayviewTopbarComponent } from './dayview-topbar.component';\nimport { DayviewTimelineComponent } from './dayview-timeline.component';\nimport { DayviewSpaceComponent } from './dayview-space.component';\nimport { DayviewEventComponent } from './dayview-event.component';\n\nimport { BookingModalComponent } from './booking-modal.component';\nimport { EventFormComponent } from './event-form.component';\nimport { SharedSpacesModule } from '@placeos/spaces';\nimport { SharedUsersModule } from '@placeos/users';\nimport { SharedCateringModule } from '@placeos/catering';\nimport { RoomBookingsComponent } from './room-bookings.component';\nimport { RoomBookingsTimelineComponent } from './room-timeline.component';\nimport { RoomBookingsApprovalsComponent } from './room-approvals.component';\n\nconst ROUTES: Route[] = [{ path: '', component: DayViewComponent }];\n\n@NgModule({\n    declarations: [\n        DayViewComponent,\n        DayviewTopbarComponent,\n        DayviewTimelineComponent,\n        DayviewSpaceComponent,\n        DayviewEventComponent,\n\n        BookingModalComponent,\n        EventFormComponent,\n\n        RoomBookingsComponent,\n        RoomBookingsTimelineComponent,\n        RoomBookingsApprovalsComponent,\n    ],\n    imports: [\n        CommonModule,\n        FormsModule,\n        UIModule,\n        SharedSpacesModule,\n        SharedUsersModule,\n        SharedCateringModule,\n        RouterModule.forChild(ROUTES),\n    ],\n})\nexport class DayViewModule {}\n"],"x_google_ignoreList":[]}