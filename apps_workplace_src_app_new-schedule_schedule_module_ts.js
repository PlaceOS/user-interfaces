"use strict";(self.webpackChunkworkplace=self.webpackChunkworkplace||[]).push([["apps_workplace_src_app_new-schedule_schedule_module_ts"],{5733:(Ht,I,l)=>{l.r(I),l.d(I,{AppScheduleModule:()=>Qt});var d=l(6362),m=l(587),it=l(9504),w=l(4244),g=l(4476),t=l(6723),_=l(1130),st=l(6484),v=l(9910),F=l(4390),h=l(1631),Y=l(4128),P=l(1588),Q=l(2218),at=l(8623),lt=l(4139),q=l(5939),C=l(9151),x=l(3910);
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */function rt(o,s){}const ct={bottomSheetState:(0,h.X$)("state",[(0,h.SB)("void, hidden",(0,h.oB)({transform:"translateY(100%)"})),(0,h.SB)("visible",(0,h.oB)({transform:"translateY(0%)"})),(0,h.eR)("visible => void, visible => hidden",(0,h.ru)([(0,h.jt)(`${_.mZ.COMPLEX} ${_.yN.ACCELERATION_CURVE}`),(0,h.IO)("@*",(0,h.pV)(),{optional:!0})])),(0,h.eR)("void => visible",(0,h.ru)([(0,h.jt)(`${_.mZ.EXITING} ${_.yN.DECELERATION_CURVE}`),(0,h.IO)("@*",(0,h.pV)(),{optional:!0})]))])},dt=new t.OlP("MatBottomSheetData");
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */class O{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}let ht=(()=>{class o extends g.en{constructor(e,n,i,a,r,c,p,f){super(),this._elementRef=e,this._changeDetectorRef=n,this._focusTrapFactory=i,this._interactivityChecker=a,this._ngZone=r,this.bottomSheetConfig=f,this._animationState="void",this._animationStateChanged=new t.vpe,this._elementFocusedBeforeOpened=null,this.attachDomPortal=qt=>(this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachDomPortal(qt)),this._document=p,this._breakpointSubscription=c.observe([v.u3.Medium,v.u3.Large,v.u3.XLarge]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",c.isMatched(v.u3.Medium)),this._toggleClass("mat-bottom-sheet-container-large",c.isMatched(v.u3.Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",c.isMatched(v.u3.XLarge))})}attachComponentPortal(e){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(e)}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(e){"hidden"===e.toState?this._restoreFocus():"visible"===e.toState&&this._trapFocus(),this._animationStateChanged.emit(e)}_onAnimationStart(e){this._animationStateChanged.emit(e)}_toggleClass(e,n){this._elementRef.nativeElement.classList.toggle(e,n)}_validatePortalAttached(){this._portalOutlet.hasAttached()}_setPanelClass(){this._elementRef.nativeElement.classList.add(...(0,st.Eq)(this.bottomSheetConfig.panelClass||[]))}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{e.removeEventListener("blur",i),e.removeEventListener("mousedown",i),e.removeAttribute("tabindex")};e.addEventListener("blur",i),e.addEventListener("mousedown",i)})),e.focus(n)}_focusByCssSelector(e,n){let i=this._elementRef.nativeElement.querySelector(e);i&&this._forceFocus(i,n)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(e)),this.bottomSheetConfig.autoFocus){case!1:case"dialog":const n=(0,F.ht)();n!==e&&!e.contains(n)&&e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.bottomSheetConfig.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeOpened;if(this.bottomSheetConfig.restoreFocus&&e&&"function"==typeof e.focus){const n=(0,F.ht)(),i=this._elementRef.nativeElement;(!n||n===this._document.body||n===i||i.contains(n))&&e.focus()}this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._elementFocusedBeforeOpened=(0,F.ht)(),this._elementRef.nativeElement.focus&&this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>this._elementRef.nativeElement.focus())})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(Y.qV),t.Y36(Y.ic),t.Y36(t.R0b),t.Y36(v.Yg),t.Y36(d.K0,8),t.Y36(O))},o.\u0275cmp=t.Xpm({type:o,selectors:[["mat-bottom-sheet-container"]],viewQuery:function(e,n){if(1&e&&t.Gf(g.Pl,7),2&e){let i;t.iGM(i=t.CRH())&&(n._portalOutlet=i.first)}},hostAttrs:["tabindex","-1","role","dialog","aria-modal","true",1,"mat-bottom-sheet-container"],hostVars:2,hostBindings:function(e,n){1&e&&t.WFA("@state.start",function(a){return n._onAnimationStart(a)})("@state.done",function(a){return n._onAnimationDone(a)}),2&e&&(t.uIk("aria-label",null==n.bottomSheetConfig?null:n.bottomSheetConfig.ariaLabel),t.d8E("@state",n._animationState))},features:[t.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,n){1&e&&t.YNc(0,rt,0,0,"ng-template",0)},directives:[g.Pl],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}\n"],encapsulation:2,data:{animation:[ct.bottomSheetState]}}),o})(),H=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[w.U8,_.BQ,g.eL],_.BQ]}),o})();
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
class M{constructor(s,e){this._overlayRef=e,this._afterDismissed=new Q.xQ,this._afterOpened=new Q.xQ,this.containerInstance=s,this.disableClose=s.bottomSheetConfig.disableClose,s._animationStateChanged.pipe((0,C.h)(n=>"done"===n.phaseName&&"visible"===n.toState),(0,x.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),s._animationStateChanged.pipe((0,C.h)(n=>"done"===n.phaseName&&"hidden"===n.toState),(0,x.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),e.dispose()}),e.detachments().pipe((0,x.q)(1)).subscribe(()=>{this._afterDismissed.next(this._result),this._afterDismissed.complete()}),(0,at.T)(e.backdropClick(),e.keydownEvents().pipe((0,C.h)(n=>n.keyCode===q.hY))).subscribe(n=>{!this.disableClose&&("keydown"!==n.type||!(0,q.Vb)(n))&&(n.preventDefault(),this.dismiss())})}dismiss(s){this._afterDismissed.closed||(this.containerInstance._animationStateChanged.pipe((0,C.h)(e=>"start"===e.phaseName),(0,x.q)(1)).subscribe(e=>{this._closeFallbackTimeout=setTimeout(()=>{this._overlayRef.dispose()},e.totalTime+100),this._overlayRef.detachBackdrop()}),this._result=s,this.containerInstance.exit())}afterDismissed(){return this._afterDismissed}afterOpened(){return this._afterOpened}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */const ut=new t.OlP("mat-bottom-sheet-default-options");let pt=(()=>{class o{constructor(e,n,i,a){this._overlay=e,this._injector=n,this._parentBottomSheet=i,this._defaultOptions=a,this._bottomSheetRefAtThisLevel=null}get _openedBottomSheetRef(){const e=this._parentBottomSheet;return e?e._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(e){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=e:this._bottomSheetRefAtThisLevel=e}open(e,n){const i=function mt(o,s){return Object.assign(Object.assign({},o),s)}
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */
/**
     * @license
     * Copyright Google LLC All Rights Reserved.
     *
     * Use of this source code is governed by an MIT-style license that can be
     * found in the LICENSE file at https://angular.io/license
     */(this._defaultOptions||new O,n),a=this._createOverlay(i),r=this._attachContainer(a,i),c=new M(r,a);if(e instanceof t.Rgc)r.attachTemplatePortal(new g.UE(e,null,{$implicit:i.data,bottomSheetRef:c}));else{const p=new g.C5(e,void 0,this._createInjector(i,c)),f=r.attachComponentPortal(p);c.instance=f.instance}return c.afterDismissed().subscribe(()=>{this._openedBottomSheetRef==c&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>c.containerInstance.enter()),this._openedBottomSheetRef.dismiss()):c.containerInstance.enter(),this._openedBottomSheetRef=c,c}dismiss(e){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(e)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}_attachContainer(e,n){const a=t.zs3.create({parent:n&&n.viewContainerRef&&n.viewContainerRef.injector||this._injector,providers:[{provide:O,useValue:n}]}),r=new g.C5(ht,n.viewContainerRef,a);return e.attach(r).instance}_createOverlay(e){const n=new w.X_({direction:e.direction,hasBackdrop:e.hasBackdrop,disposeOnNavigation:e.closeOnNavigation,maxWidth:"100%",scrollStrategy:e.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0")});return e.backdropClass&&(n.backdropClass=e.backdropClass),this._overlay.create(n)}_createInjector(e,n){const i=e&&e.viewContainerRef&&e.viewContainerRef.injector,a=[{provide:M,useValue:n},{provide:dt,useValue:e.data}];return e.direction&&(!i||!i.get(P.Is,null,t.XFs.Optional))&&a.push({provide:P.Is,useValue:{value:e.direction,change:(0,lt.of)()}}),t.zs3.create({parent:i||this._injector,providers:a})}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(w.aV),t.LFG(t.zs3),t.LFG(o,12),t.LFG(ut,8))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:H}),o})();var _t=l(1992),u=l(9377),V=l(8053),T=l(8325),X=l(7367),U=l(1170);function L(o,s){(0,U.Z)(1,arguments);var e=s||{},n=e.locale,i=n&&n.options&&n.options.weekStartsOn,a=null==i?0:(0,X.Z)(i),r=null==e.weekStartsOn?a:(0,X.Z)(e.weekStartsOn);if(!(r>=0&&r<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var c=(0,T.Z)(o),p=c.getDay(),f=(p<r?7:0)+p-r;return c.setDate(c.getDate()-f),c.setHours(0,0,0,0),c}function G(o){(0,U.Z)(1,arguments);var s=(0,T.Z)(o);return s.setDate(1),s.setHours(0,0,0,0),s}var B=l(475);function E(o,s){(0,U.Z)(2,arguments);var e=(0,T.Z)(o),n=(0,T.Z)(s);return e.getFullYear()===n.getFullYear()&&e.getMonth()===n.getMonth()}var D=l(312),S=l(7317),Z=l(5306);function ft(o,s){if(1&o&&(t.TgZ(0,"div",9),t._uU(1),t.ALo(2,"date"),t.qZA()),2&o){const e=s.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.id,"EE")," ")}}function gt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().setValue(a.id)}),t._uU(1),t.ALo(2,"date"),t.qZA()}if(2&o){const e=s.$implicit,n=t.oxw();t.ekj("text-opacity-30",!e.is_month)("text-primary",e.id===n.active_date)("text-black",e.id!==n.active_date)("bg-gray-200",e.id===n.active_date)("font-normal",e.id!==n.active_date),t.xp6(1),t.hij(" ",t.xi3(2,11,e.id,"d")," ")}}let $=(()=>{class o{constructor(){this.active_date=(0,u.Z)(Date.now()).valueOf(),this.offset=0,this.date_list=[],this.registerOnChange=e=>this._onChange=e,this.registerOnTouched=e=>this._onTouch=e}ngOnInit(){this.generateDates()}setValue(e){this.active_date=(0,u.Z)(e).valueOf(),this.offset=0,this._onChange&&this._onChange(e)}writeValue(e){this.active_date=(0,u.Z)(e).valueOf(),this.offset=0,this.generateDates()}changeMonth(e){this.offset+=e,this.generateDates()}generateDates(){const e=(0,V.Z)(this.active_date,this.offset);let n=L(G(e));const i=(0,u.Z)(Date.now()),a=[];for(;a.length<42;)a.push({id:n.valueOf(),is_past:(0,B.Z)(n,i),is_month:E(n,e)}),n=(0,D.Z)(n,1);this.date_list=a}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["schedule-calendar"]],features:[t._Bn([{provide:m.JU,useExisting:(0,t.Gpc)(()=>o),multi:!0}])],decls:17,vars:10,consts:[[1,"p-2"],[1,"flex","items-center","justify-between"],[1,"px-2","font-medium"],[1,""],["mat-icon-button","",3,"click"],[1,"flex","items-center","text-sm"],["class","flex-1 opacity-60 text-center",4,"ngFor","ngForOf"],[1,"flex","items-center","flex-wrap"],["mat-icon-button","","class","min-w-[14%] flex-1",3,"text-opacity-30","text-primary","text-black","bg-gray-200","font-normal","click",4,"ngFor","ngForOf"],[1,"flex-1","opacity-60","text-center"],["mat-icon-button","",1,"min-w-[14%]","flex-1",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3),t.ALo(4,"date"),t.qZA(),t.TgZ(5,"div",3)(6,"button",4),t.NdJ("click",function(){return n.changeMonth(-1)}),t.TgZ(7,"app-icon"),t._uU(8,"chevron_left"),t.qZA()(),t.TgZ(9,"button",4),t.NdJ("click",function(){return n.changeMonth(1)}),t.TgZ(10,"app-icon"),t._uU(11,"chevron_right"),t.qZA()()()(),t.TgZ(12,"div",5),t.YNc(13,ft,3,4,"div",6),t.ALo(14,"slice"),t.qZA(),t.TgZ(15,"div",7),t.YNc(16,gt,3,14,"button",8),t.qZA()()),2&e&&(t.xp6(3),t.hij(" ",t.xi3(4,3,(null==n.date_list[6]?null:n.date_list[6].id)||n.active_date,"LLLL")," "),t.xp6(10),t.Q6J("ngForOf",t.Dn7(14,6,n.date_list,0,7)),t.xp6(3),t.Q6J("ngForOf",n.date_list))},directives:[S.lW,Z.o,d.sg],pipes:[d.uU,d.OU],styles:[""]}),o})();var vt=l(4929),W=l(4509),bt=l(6365),R=l(8426),b=l(1810),J=l(3200),A=l(4505),y=l(7716),N=l(9095),j=l(6942),yt=l(8759);let k=(()=>{class o extends bt.KG{constructor(){super(),this._poll=new A.X(0),this._loading=new A.X(!1),this._filters=new A.X({shown_types:["event","desk","parking"]}),this._date=new A.X(Date.now()),this.events=(0,y.aj)([this._date,this._poll]).pipe((0,N.w)(([e])=>(0,R.u$)({period_start:(0,b.Z)((0,u.Z)(e)),period_end:(0,b.Z)((0,J.Z)(e))}))),this.desks=(0,y.aj)([this._date,this._poll]).pipe((0,N.w)(([e])=>(0,W.F2)({period_start:(0,b.Z)((0,u.Z)(e)),period_end:(0,b.Z)((0,J.Z)(e)),type:"desk"}))),this.parking=(0,y.aj)([this._date,this._poll]).pipe((0,N.w)(([e])=>(0,W.F2)({period_start:(0,b.Z)((0,u.Z)(e)),period_end:(0,b.Z)((0,J.Z)(e)),type:"parking"}))),this.bookings=(0,y.aj)([this.events,this.desks,this.parking]).pipe((0,j.U)(([e,n,i])=>[...e,...n,...i].sort((a,r)=>a.date-r.date)),(0,yt.b)(()=>this.timeout("end_loading",()=>this._loading.next(!1)))),this.filtered_bookings=(0,y.aj)([this.bookings,this._filters]).pipe((0,j.U)(([e,n])=>e.filter(i=>{var a,r;return i instanceof R.ym&&(null===(a=null==n?void 0:n.shown_types)||void 0===a?void 0:a.includes("event"))||(null===(r=null==n?void 0:n.shown_types)||void 0===r?void 0:r.includes(i.type))}))),this.filters=this._filters.asObservable(),this.date=this._date.asObservable(),this.loading=this._loading.asObservable(),this.subscription("date",(0,y.aj)([this._date,this._poll]).subscribe(e=>this._loading.next(!0)))}setDate(e){this._date.next(e)}toggleType(e,n=!1){return(0,vt.mG)(this,void 0,void 0,function*(){const i=this._filters.getValue()||{shown_types:[]},{shown_types:a}=i;a&&(a.includes(e)||n)?this._filters.next(Object.assign(Object.assign({},i),{shown_types:a.filter(r=>r!==e)})):this._filters.next(Object.assign(Object.assign({},i),{shown_types:[...a,e]}))})}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var z=l(1534);let K=(()=>{class o{constructor(e,n){this._state=e,this._sheet_ref=n,this.filters=this._state.filters,this.toggleType=i=>this._state.toggleType(i),this.dismiss=()=>this._sheet_ref.dismiss()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(k),t.Y36(M))},o.\u0275cmp=t.Xpm({type:o,selectors:[["schedule-filter-card"]],decls:42,vars:9,consts:[[1,"flex","items-center","border-b","border-gray-300","space-x-2","mb-4"],["mat-icon-button","",3,"click"],[1,"flex-1","w-1/2","text-center","font-medium"],[1,"space-y-4","border-b","border-gray-300","mb-4","pb-4"],["matRipple","",1,"flex","items-center","space-x-2","w-full","text-left",3,"click"],[1,"h-10","w-10","rounded-full","flex","items-center","justify-center","text-2xl"],[1,"flex-1"],[1,""],[1,"text-sm","opacity-60"],[3,"ngModel"],["src","assets/icons/desk-outline.svg",1,"w-6"],["mat-button","",1,"w-full",3,"click"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return n.dismiss()}),t.TgZ(2,"app-icon"),t._uU(3,"chevron_left"),t.qZA()(),t.TgZ(4,"h2",2),t._uU(5,"Booking Types"),t.qZA(),t._UZ(6,"app-icon"),t.qZA(),t.TgZ(7,"div",3)(8,"button",4),t.NdJ("click",function(){return n.toggleType("event")}),t.TgZ(9,"div",5)(10,"app-icon"),t._uU(11,"meeting_room"),t.qZA()(),t.TgZ(12,"div",6)(13,"div",7),t._uU(14,"Room"),t.qZA(),t.TgZ(15,"div",8),t._uU(16," Room and meeting invites "),t.qZA()(),t._UZ(17,"mat-checkbox",9),t.ALo(18,"async"),t.qZA(),t.TgZ(19,"button",4),t.NdJ("click",function(){return n.toggleType("desk")}),t.TgZ(20,"div",5),t._UZ(21,"img",10),t.qZA(),t.TgZ(22,"div",6)(23,"div",7),t._uU(24,"Desk"),t.qZA(),t.TgZ(25,"div",8),t._uU(26,"Desk bookings"),t.qZA()(),t._UZ(27,"mat-checkbox",9),t.ALo(28,"async"),t.qZA(),t.TgZ(29,"button",4),t.NdJ("click",function(){return n.toggleType("parking")}),t.TgZ(30,"div",5)(31,"app-icon"),t._uU(32,"drive_eta"),t.qZA()(),t.TgZ(33,"div",6)(34,"div",7),t._uU(35,"Parking"),t.qZA(),t.TgZ(36,"div",8),t._uU(37,"Car space bookings"),t.qZA()(),t._UZ(38,"mat-checkbox",9),t.ALo(39,"async"),t.qZA()(),t.TgZ(40,"button",11),t.NdJ("click",function(){return n.dismiss()}),t._uU(41," Apply Filters "),t.qZA()),2&e){let i,a,r;t.xp6(17),t.Q6J("ngModel",null==(i=t.lcZ(18,3,n.filters))||null==i.shown_types?null:i.shown_types.includes("event")),t.xp6(10),t.Q6J("ngModel",null==(a=t.lcZ(28,5,n.filters))||null==a.shown_types?null:a.shown_types.includes("desk")),t.xp6(11),t.Q6J("ngModel",null==(r=t.lcZ(39,7,n.filters))||null==r.shown_types?null:r.shown_types.includes("parking"))}},directives:[S.lW,Z.o,_.wG,z.oG,m.JJ,m.On],pipes:[d.Ov],styles:["mat-checkbox[_ngcontent-%COMP%]{pointer-events:none}\n/*# sourceMappingURL=schedule-filter-card.component.ts-angular-inline--79.css.map*/"]}),o})();function Zt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",7)(1,"div",8),t._uU(2,"Rooms"),t.qZA(),t.TgZ(3,"button",9),t.NdJ("click",function(){return t.CHM(e),t.oxw().toggleType("event",!0)}),t.TgZ(4,"app-icon"),t._uU(5,"close"),t.qZA()()()}}function Ct(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",7)(1,"div",8),t._uU(2,"Desks"),t.qZA(),t.TgZ(3,"button",9),t.NdJ("click",function(){return t.CHM(e),t.oxw().toggleType("desk",!0)}),t.TgZ(4,"app-icon"),t._uU(5,"close"),t.qZA()()()}}function xt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",7)(1,"div",8),t._uU(2,"Car Spaces"),t.qZA(),t.TgZ(3,"button",9),t.NdJ("click",function(){return t.CHM(e),t.oxw().toggleType("parking",!0)}),t.TgZ(4,"app-icon"),t._uU(5,"close"),t.qZA()()()}}function Tt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",10)(1,"div"),t._uU(2,"Rooms"),t.qZA(),t.TgZ(3,"button",9),t.NdJ("click",function(){return t.CHM(e),t.oxw().toggleType("event",!0)}),t.TgZ(4,"app-icon"),t._uU(5,"close"),t.qZA()()()}}function St(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",10)(1,"div"),t._uU(2,"Desks"),t.qZA(),t.TgZ(3,"button",9),t.NdJ("click",function(){return t.CHM(e),t.oxw().toggleType("desk",!0)}),t.TgZ(4,"app-icon"),t._uU(5,"close"),t.qZA()()()}}function At(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",10)(1,"div"),t._uU(2,"Car"),t.qZA(),t.TgZ(3,"button",9),t.NdJ("click",function(){return t.CHM(e),t.oxw().toggleType("parking",!0)}),t.TgZ(4,"app-icon"),t._uU(5,"close"),t.qZA()()()}}let tt=(()=>{class o{constructor(e,n){this._sheet=e,this._state=n,this.filters=this._state.filters,this.toggleType=(i,a=!1)=>this._state.toggleType(i,a)}openFilters(){this._sheet.open(K)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(pt),t.Y36(k))},o.\u0275cmp=t.Xpm({type:o,selectors:[["schedule-filters"]],decls:19,vars:18,consts:[[1,"hidden","sm:block","bg-white","border","border-gray-300","rounded","p-2"],[1,"font-medium","mb-2"],[1,"flex","flex-wrap","space-x-2"],["class","flex items-center rounded-3xl border border-gray-300",4,"ngIf"],[1,"sm:hidden","flex","items-center","space-x-2"],["mat-button","",1,"w-24",3,"click"],["class","flex items-center rounded-3xl border border-gray-300 bg-white text-sm pl-2",4,"ngIf"],[1,"flex","items-center","rounded-3xl","border","border-gray-300"],[1,"px-2"],["mat-icon-button","",3,"click"],[1,"flex","items-center","rounded-3xl","border","border-gray-300","bg-white","text-sm","pl-2"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"h3",1),t._uU(2,"Category Filters"),t.qZA(),t.TgZ(3,"div",2),t.YNc(4,Zt,6,0,"div",3),t.ALo(5,"async"),t.YNc(6,Ct,6,0,"div",3),t.ALo(7,"async"),t.YNc(8,xt,6,0,"div",3),t.ALo(9,"async"),t.qZA()(),t.TgZ(10,"div",4)(11,"button",5),t.NdJ("click",function(){return n.openFilters()}),t._uU(12," Filters "),t.qZA(),t.YNc(13,Tt,6,0,"div",6),t.ALo(14,"async"),t.YNc(15,St,6,0,"div",6),t.ALo(16,"async"),t.YNc(17,At,6,0,"div",6),t.ALo(18,"async"),t.qZA()),2&e){let i,a,r,c,p,f;t.xp6(4),t.Q6J("ngIf",null==(i=t.lcZ(5,6,n.filters))||null==i.shown_types?null:i.shown_types.includes("event")),t.xp6(2),t.Q6J("ngIf",null==(a=t.lcZ(7,8,n.filters))||null==a.shown_types?null:a.shown_types.includes("desk")),t.xp6(2),t.Q6J("ngIf",null==(r=t.lcZ(9,10,n.filters))||null==r.shown_types?null:r.shown_types.includes("parking")),t.xp6(5),t.Q6J("ngIf",null==(c=t.lcZ(14,12,n.filters))||null==c.shown_types?null:c.shown_types.includes("event")),t.xp6(2),t.Q6J("ngIf",null==(p=t.lcZ(16,14,n.filters))||null==p.shown_types?null:p.shown_types.includes("desk")),t.xp6(2),t.Q6J("ngIf",null==(f=t.lcZ(18,16,n.filters))||null==f.shown_types?null:f.shown_types.includes("parking"))}},directives:[d.O5,S.lW,Z.o],pipes:[d.Ov],styles:[""]}),o})(),et=(()=>{class o{constructor(e){this._state=e,this.filters=this._state.filters,this.date=this._state.date,this.toggleType=n=>this._state.toggleType(n),this.setDate=n=>this._state.setDate(n)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(k))},o.\u0275cmp=t.Xpm({type:o,selectors:[["schedule-sidebar"]],decls:38,vars:12,consts:[[1,"flex","flex-col","w-[18rem]","h-full","overflow-hidden","bg-white","border-r","border-gray-300"],[1,"border-b","border-gray-200",3,"ngModel","ngModelChange"],[1,"mx-4","mt-4","font-medium"],[1,"p-4","space-y-4"],["matRipple","",1,"flex","items-center","space-x-2","w-full","text-left",3,"click"],[1,"h-10","w-10","rounded-full","flex","items-center","justify-center","bg-gray-200","text-2xl"],[1,"flex-1"],[1,""],[1,"text-sm","opacity-60"],[3,"ngModel"],["src","assets/icons/desk-outline.svg",1,"w-6"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"schedule-calendar",1),t.NdJ("ngModelChange",function(a){return n.setDate(a)}),t.ALo(2,"async"),t.qZA(),t.TgZ(3,"h3",2),t._uU(4,"Filters"),t.qZA(),t.TgZ(5,"div",3)(6,"button",4),t.NdJ("click",function(){return n.toggleType("event")}),t.TgZ(7,"div",5)(8,"app-icon"),t._uU(9,"meeting_room"),t.qZA()(),t.TgZ(10,"div",6)(11,"div",7),t._uU(12,"Room"),t.qZA(),t.TgZ(13,"div",8),t._uU(14," Room and meeting invites "),t.qZA()(),t._UZ(15,"mat-checkbox",9),t.ALo(16,"async"),t.qZA(),t.TgZ(17,"button",4),t.NdJ("click",function(){return n.toggleType("desk")}),t.TgZ(18,"div",5),t._UZ(19,"img",10),t.qZA(),t.TgZ(20,"div",6)(21,"div",7),t._uU(22,"Desk"),t.qZA(),t.TgZ(23,"div",8),t._uU(24,"Desk bookings"),t.qZA()(),t._UZ(25,"mat-checkbox",9),t.ALo(26,"async"),t.qZA(),t.TgZ(27,"button",4),t.NdJ("click",function(){return n.toggleType("parking")}),t.TgZ(28,"div",5)(29,"app-icon"),t._uU(30,"drive_eta"),t.qZA()(),t.TgZ(31,"div",6)(32,"div",7),t._uU(33,"Parking"),t.qZA(),t.TgZ(34,"div",8),t._uU(35,"Car space bookings"),t.qZA()(),t._UZ(36,"mat-checkbox",9),t.ALo(37,"async"),t.qZA()()()),2&e){let i,a,r;t.xp6(1),t.Q6J("ngModel",t.lcZ(2,4,n.date)),t.xp6(14),t.Q6J("ngModel",null==(i=t.lcZ(16,6,n.filters))||null==i.shown_types?null:i.shown_types.includes("event")),t.xp6(10),t.Q6J("ngModel",null==(a=t.lcZ(26,8,n.filters))||null==a.shown_types?null:a.shown_types.includes("desk")),t.xp6(11),t.Q6J("ngModel",null==(r=t.lcZ(37,10,n.filters))||null==r.shown_types?null:r.shown_types.includes("parking"))}},directives:[$,m.JJ,m.On,_.wG,Z.o,z.oG],pipes:[d.Ov],styles:["mat-checkbox[_ngcontent-%COMP%]{pointer-events:none}\n/*# sourceMappingURL=schedule-sidebar.component.ts-angular-inline--80.css.map*/"]}),o})();var kt=l(5845),wt=l(4187);function Ft(o,s){if(1&o&&(t.TgZ(0,"div",7),t._uU(1),t.ALo(2,"date"),t.qZA()),2&o){const e=s.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.id,"EE")," ")}}function Ot(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().setValue(a.id)}),t._uU(1),t.ALo(2,"date"),t.qZA()}if(2&o){const e=s.$implicit,n=t.oxw();t.ekj("text-opacity-30",!e.is_month)("text-primary",e.id===n.active_date)("text-black",e.id!==n.active_date)("bg-gray-200",e.id===n.active_date)("font-normal",e.id!==n.active_date),t.xp6(1),t.hij(" ",t.xi3(2,11,e.id,"d")," ")}}let nt=(()=>{class o{constructor(){this.active_date=(0,u.Z)(Date.now()).valueOf(),this.offset=0,this.date_list=[],this.short_list=[],this.show_shortlist=!0,this.registerOnChange=e=>this._onChange=e,this.registerOnTouched=e=>this._onTouch=e}ngOnInit(){this.generateDates()}get list(){return this.show_shortlist?this.short_list:this.date_list}setValue(e){this.active_date=(0,u.Z)(e).valueOf(),this.offset=0,this._onChange&&this._onChange(e)}writeValue(e){this.active_date=(0,u.Z)(e).valueOf(),this.offset=0,this.generateDates()}changeMonth(e){this.offset+=e,this.generateDates()}generateDates(){const e=(0,V.Z)(this.active_date,this.offset);let n=L(G(e));const i=(0,u.Z)(Date.now());let a=[];for(;a.length<42;)a.push({id:n.valueOf(),is_past:(0,B.Z)(n,i),is_month:E(n,e)}),n=(0,D.Z)(n,1);for(this.date_list=a,n=L(e),a=[];a.length<7;)a.push({id:n.valueOf(),is_past:(0,B.Z)(n,i),is_month:E(n,e)}),n=(0,D.Z)(n,1);this.short_list=a}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["schedule-mobile-calendar"]],features:[t._Bn([{provide:m.JU,useExisting:(0,t.Gpc)(()=>o),multi:!0}])],decls:12,vars:10,consts:[[1,"p-2"],["matRipple","",1,"flex","items-center","w-full","p-2",3,"click"],[1,"px-2","font-medium"],[1,"flex","items-center","justify-center","text-sm","mb-2"],["class","opacity-60 text-center w-10 mx-2",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","flex-wrap"],["mat-icon-button","","class","min-w-10 h-10 mx-2",3,"text-opacity-30","text-primary","text-black","bg-gray-200","font-normal","click",4,"ngFor","ngForOf"],[1,"opacity-60","text-center","w-10","mx-2"],["mat-icon-button","",1,"min-w-10","h-10","mx-2",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return n.show_shortlist=!n.show_shortlist}),t.TgZ(2,"div",2),t._uU(3),t.ALo(4,"date"),t.qZA(),t.TgZ(5,"app-icon"),t._uU(6,"arrow_drop_down"),t.qZA()(),t.TgZ(7,"div",3),t.YNc(8,Ft,3,4,"div",4),t.ALo(9,"slice"),t.qZA(),t.TgZ(10,"div",5),t.YNc(11,Ot,3,14,"button",6),t.qZA()()),2&e&&(t.xp6(3),t.hij(" ",t.xi3(4,3,(null==n.date_list[6]?null:n.date_list[6].id)||n.active_date,"LLLL")," "),t.xp6(5),t.Q6J("ngForOf",t.Dn7(9,6,n.date_list,0,7)),t.xp6(3),t.Q6J("ngForOf",n.list))},directives:[_.wG,Z.o,d.sg,S.lW],pipes:[d.uU,d.OU],styles:[""]}),o})();var Mt=l(4502),Ut=l(9371),Lt=l(833),Bt=l(6012);function Et(o,s){1&o&&(t.TgZ(0,"span"),t._uU(1,"(Today)"),t.qZA())}function Dt(o,s){if(1&o&&t._UZ(0,"event-card",13),2&o){const e=t.oxw().$implicit;t.Q6J("event",e)}}function Rt(o,s){if(1&o&&t._UZ(0,"booking-card",14),2&o){const e=t.oxw().$implicit;t.Q6J("booking",e)}}function Jt(o,s){if(1&o&&(t.ynx(0),t.YNc(1,Dt,1,1,"event-card",11),t.YNc(2,Rt,1,1,"ng-template",null,12,t.W1O),t.BQk()),2&o){const e=s.$implicit,n=t.MAs(3),i=t.oxw(2);t.xp6(1),t.Q6J("ngIf",i.isEvent(e))("ngIfElse",n)}}const Nt=function(){return[]};function jt(o,s){if(1&o&&(t.ynx(0),t.YNc(1,Jt,4,2,"ng-container",10),t.ALo(2,"async"),t.ALo(3,"async"),t.BQk()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,2,e.loading)?t.DdM(6,Nt):t.lcZ(3,4,e.bookings))("ngForTrackBy",e.trackByFn)}}function It(o,s){1&o&&t._UZ(0,"mat-progress-bar",15)}function Yt(o,s){if(1&o&&(t.TgZ(0,"div",16),t._UZ(1,"img",17),t.TgZ(2,"p",18),t._uU(3),t.ALo(4,"date"),t.ALo(5,"async"),t.qZA()()),2&o){const e=t.oxw();t.xp6(3),t.hij(" No events and bookings for ",t.xi3(4,1,t.lcZ(5,4,e.date),"EEEE, dd LLL yyyy")," ")}}const Pt=[{path:"",component:(()=>{class o{constructor(e){this._state=e,this.bookings=this._state.filtered_bookings,this.date=this._state.date,this.loading=this._state.loading,this.is_today=this.date.pipe((0,j.U)(n=>(0,kt.Z)(n,Date.now()))),this.setDate=n=>this._state.setDate(n)}isEvent(e){return e instanceof R.ym}trackByFn(e,n){return null==n?void 0:n.id}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(k))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-schedule"]],decls:21,vars:19,consts:[[1,"flex","flex-col","sm:flex-row","flex-1","h-1/2","bg-[#E5E5E5]","relative"],[1,"hidden","sm:block"],[1,"w-full","bg-white","border-b","border-gray-300","sm:hidden"],[3,"ngModel","ngModelChange"],[1,"flex-1","h-full","p-4","overflow-auto","space-y-2"],[1,"font-medium","my-2"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["class","absolute inset-x-0 bottom-0","mode","indeterminate",4,"ngIf"],["empty_state",""],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"event",4,"ngIf","ngIfElse"],["booking_card",""],[3,"event"],[3,"booking"],["mode","indeterminate",1,"absolute","inset-x-0","bottom-0"],[1,"w-full","p-8","flex","flex-col","items-center","justify-center","space-y-4"],["src","assets/img/no-events.svg",1,"mr-4"],[1,"opacity-30"]],template:function(e,n){if(1&e&&(t._UZ(0,"topbar"),t.TgZ(1,"div",0),t._UZ(2,"schedule-sidebar",1),t.TgZ(3,"div",2)(4,"schedule-mobile-calendar",3),t.NdJ("ngModelChange",function(a){return n.setDate(a)}),t.ALo(5,"async"),t.qZA()(),t.TgZ(6,"div",4),t._UZ(7,"schedule-filters"),t.TgZ(8,"h3",5),t._uU(9),t.ALo(10,"date"),t.ALo(11,"async"),t.YNc(12,Et,2,0,"span",6),t.ALo(13,"async"),t.qZA(),t.YNc(14,jt,4,7,"ng-container",7),t.ALo(15,"async"),t.qZA(),t.YNc(16,It,1,0,"mat-progress-bar",8),t.ALo(17,"async"),t.qZA(),t._UZ(18,"footer-menu"),t.YNc(19,Yt,6,6,"ng-template",null,9,t.W1O)),2&e){const i=t.MAs(20);let a;t.xp6(4),t.Q6J("ngModel",t.lcZ(5,6,n.date)),t.xp6(5),t.hij(" ",t.xi3(10,8,t.lcZ(11,11,n.date),"EEE dd LLL yyyy")," "),t.xp6(3),t.Q6J("ngIf",t.lcZ(13,13,n.is_today)),t.xp6(2),t.Q6J("ngIf",null==(a=t.lcZ(15,15,n.bookings))?null:a.length)("ngIfElse",i),t.xp6(2),t.Q6J("ngIf",t.lcZ(17,17,n.loading))}},directives:[wt.o,et,nt,m.JJ,m.On,tt,d.O5,d.sg,Mt.j,Ut.E,Lt.pW,Bt.i],pipes:[d.Ov,d.uU],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%}\n/*# sourceMappingURL=schedule.component.ts-angular-inline--81.css.map*/"]}),o})()},{path:"**",redirectTo:""}];let Qt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[d.ez,_t.v,m.u5,H,it.Bz.forChild(Pt)]]}),o})()}}]);
//# sourceMappingURL=apps_workplace_src_app_new-schedule_schedule_module_ts.js.map