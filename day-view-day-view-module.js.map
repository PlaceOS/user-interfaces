{"version":3,"sources":["./src/app/day-view/day-view.component.ts","./src/app/day-view/day-view.module.ts","./src/app/day-view/dayview-timeline.component.ts","./src/app/day-view/dayview-space.component.ts","./src/app/day-view/dayview-event-details.component.ts","./src/app/day-view/dayview-topbar.component.ts","./src/app/day-view/dayview-event.component.ts"],"names":[],"mappings":"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","file":"day-view-day-view-module.js","sourcesContent":["import { Component } from '@angular/core';\n\n@Component({\n    selector: 'app-dayview',\n    template: `\n        <sidebar></sidebar>\n        <main class=\"relative\">\n            <dayview-topbar></dayview-topbar>\n            <dayview-timeline></dayview-timeline>\n        </main>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                height: 100%;\n                width: 100%;\n            }\n\n            sidebar {\n                height: 100%;\n            }\n\n            main {\n                display: flex;\n                flex-direction: column;\n                flex: 1;\n                min-width: 50%;\n                height: 100%;\n            }\n        `\n    ],\n})\nexport class DayViewComponent {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule, Route } from '@angular/router';\n\nimport { UIModule } from '../ui/ui.module';\n\nimport { DayViewComponent } from './day-view.component';\nimport { DayviewTopbarComponent } from './dayview-topbar.component';\nimport { DayviewTimelineComponent } from './dayview-timeline.component';\nimport { DayviewSpaceComponent } from './dayview-space.component';\nimport { DayviewEventComponent } from './dayview-event.component';\nimport { DayviewEventDetailsComponent } from './dayview-event-details.component';\n\nconst ROUTES: Route[] = [{ path: '', component: DayViewComponent }];\n\n@NgModule({\n    declarations: [\n        DayViewComponent,\n        DayviewTopbarComponent,\n        DayviewTimelineComponent,\n        DayviewSpaceComponent,\n        DayviewEventComponent,\n        DayviewEventDetailsComponent\n    ],\n    imports: [CommonModule, FormsModule, UIModule, RouterModule.forChild(ROUTES)],\n})\nexport class DayViewModule {}\n","import { Component, ElementRef, ViewChild } from '@angular/core';\nimport { combineLatest } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nimport { BaseClass } from '@user-interfaces/common';\nimport { OrganisationService } from '@user-interfaces/organisation';\nimport { SpacesService } from '@user-interfaces/spaces';\nimport { EventsStateService } from './events-state.service';\n\nconst HOUR_BLOCKS = new Array(24).fill(0).map((_, idx) => {\n    return (idx % 12 === 0 ? 12 : idx % 12) + (idx >= 12 ? ' PM' : ' AM');\n});\n\n@Component({\n    selector: 'dayview-timeline',\n    template: `\n        <div class=\"time h-full overflow-hidden\">\n            <div class=\"headers relative\">\n                <div class=\"white-space absolute inset-0\" style=\"bottom: 1em\"></div>\n            </div>\n            <div *ngFor=\"let time of blocks\" name=\"change-transform\" class=\"relative\" [style.transform]=\"'translateY(-' + scroll.y + 'px)'\">\n                <div class=\"text absolute w-full text-xs\">{{ time }}</div>\n                <div class=\"bar absolute\"></div>\n            </div>\n        </div>\n        <div class=\"h-full flex-1 flex flex-col\">\n            <div class=\"headers flex relative overflow-hidden\">\n                <div class=\"bar absolute\"></div>\n                <div\n                    *ngFor=\"let space of space_list | async\"\n                    name=\"change-transform\"\n                    class=\"relative w\"\n                    [style.transform]=\"'translateX(-' + scroll.x + 'px)'\"\n                >\n                    <div class=\"bar absolute\"></div>\n                    <div class=\"name m-2 text-center\">{{ space.display_name || space.name }}</div>\n                </div>\n            </div>\n            <div\n                #scroll_el\n                class=\"content relative flex flex-1 overflow-auto\"\n                (scroll)=\"onScroll()\"\n            >\n                <div #ref class=\"ref absolute\"></div>\n                <dayview-space\n                    *ngFor=\"let space of space_list | async\"\n                    [space]=\"space\"\n                ></dayview-space>\n                <div\n                    *ngFor=\"let time of blocks; let i = index\"\n                    class=\"block absolute w-full\"\n                    [style.width]=\"(space_list | async).length * 12 + 'em'\"\n                    [style.top]=\"i * 4 + 'em'\"\n                ></div>\n            </div>\n        </div>\n        <mat-progress-bar *ngIf=\"loading | async\" mode=\"indeterminate\"></mat-progress-bar>\n        <dayview-event-details *ngIf=\"event | async\" [event]=\"event | async\"></dayview-event-details>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                align-items: center;\n                flex: 1;\n                min-height: 50%;\n            }\n\n            .time {\n                width: 6em;\n            }\n\n            .time > div:not(.headers) {\n                height: 4em;\n            }\n\n            .bar {\n                width: 1em;\n                top: 0;\n                right: 0;\n                height: 1px;\n                background-color: rgba(0, 0, 0, 0.1);\n                z-index: 0;\n            }\n\n            .headers {\n                height: 4em;\n                max-width: calc(100vw - 12em);\n            }\n\n            .white-space {\n                background-color: #f0f0f0;\n                z-index: 999;\n            }\n\n            .headers .bar {\n                width: 1px;\n                bottom: 0;\n                right: -1px;\n                height: 2em;\n                background-color: rgba(0, 0, 0, 0.1);\n                top: auto;\n            }\n\n            .headers > .bar:first-child {\n                width: 1px;\n                bottom: 0;\n                right: auto;\n                left: 0;\n                height: 2em;\n                background-color: rgba(0, 0, 0, 0.1);\n                top: auto;\n            }\n\n            .w,\n            dayview-space {\n                width: 12em;\n                min-width: 12em;\n            }\n\n            dayview-space {\n                height: 96em;\n            }\n\n            .block {\n                height: 4em;\n                border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n                pointer-events: none;\n                min-width: 100%;\n                z-index: 0;\n            }\n\n            .text {\n                text-align: center;\n                transform: translateY(-50%);\n                padding: 0 2.5em;\n                opacity: 0.65;\n            }\n\n            .ref {\n                top: 0;\n                left: 0;\n                height: 1px;\n                width: 1px;\n                height: 96em;\n            }\n\n            .content {\n                max-width: calc(100vw - 12em);\n                border-top: 1px solid rgba(0, 0, 0, 0.1);\n                border-left: 1px solid rgba(0, 0, 0, 0.1);\n            }\n\n            mat-progress-bar {\n                position: absolute;\n                left: 0;\n                right: 0;\n                bottom: 0;\n            }\n\n            [name=\"change-transform\"] {\n                will-change: transform;\n            }\n        `,\n    ],\n})\nexport class DayviewTimelineComponent extends BaseClass {\n    /** Time blocks to display */\n    public readonly blocks: string[] = HOUR_BLOCKS;\n    /** Current scroll position of the content */\n    public scroll: { x: number; y: number } = { x: 0, y: 0 };\n    /** Reference Box */\n    public box: ClientRect;\n    /** Whether event data is loading */\n    public readonly loading = this._state.loading;\n    /** Whether event data is loading */\n    public readonly event = this._state.event;\n    /** List of spaces to display */\n    public readonly space_list = combineLatest([\n        this._org.active_building,\n        this._spaces.list,\n        this._state.zones,\n    ]).pipe(\n        map((details) => {\n            const [bld, spaces, zones] = details;\n            return (\n                spaces.filter(\n                    (space) =>\n                        space.zones.includes(bld.id) &&\n                        (!zones || !zones.length || space.zones.find((z) => zones.includes(z)))\n                ) || []\n            );\n        })\n    );\n\n    @ViewChild('ref') private _ref_el: ElementRef;\n\n    constructor(\n        private _org: OrganisationService,\n        private _spaces: SpacesService,\n        private _state: EventsStateService\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this._state.startPolling();\n    }\n\n    public ngOnDestroy() {\n        this._state.stopPolling();\n    }\n\n    public ngAfterViewInit() {\n        this.box = this._ref_el.nativeElement.getBoundingClientRect();\n    }\n\n    public onScroll() {\n        if (this._ref_el) {\n            requestAnimationFrame(() => {\n                const box = this._ref_el.nativeElement.getBoundingClientRect();\n                this.scroll = { x: this.box.left - box.left, y: this.box.top - box.top };\n            });\n        }\n    }\n}\n","import { Component, Input } from '@angular/core';\nimport { map } from 'rxjs/operators';\n\nimport { CalendarEvent } from '@user-interfaces/events';\nimport { Space } from '@user-interfaces/spaces';\nimport { EventsStateService } from './events-state.service';\n\n@Component({\n    selector: 'dayview-space',\n    template: `\n        <dayview-event *ngFor=\"let event of events | async\" [event]=\"event\"></dayview-event>\n        `,\n    styles: [\n        `\n            :host {\n                position: relative;\n                border-right: 1px solid rgba(0, 0, 0, 0.1);\n            }\n        `,\n    ],\n})\nexport class DayviewSpaceComponent {\n    /** Space to display events for */\n    @Input() public space: Space;\n\n    public shown_event: CalendarEvent;\n    /** List of events for the selected space */\n    public readonly events = this._state.filtered.pipe(\n        map((bookings) =>\n            bookings.filter((bkn) =>\n                bkn.resources.find((space) => this.space.email === space.email)\n            )\n        )\n    );\n\n    constructor(private _state: EventsStateService) {}\n\n    ngOnInit() {\n        this._state.filtered.subscribe((events) => {\n\n        });\n    }\n}\n","import { Component, Input } from '@angular/core';\nimport { format, addMinutes } from 'date-fns';\n\nimport { CalendarEvent } from '@user-interfaces/events';\nimport { SpacesService } from '@user-interfaces/spaces';\nimport { EventsStateService } from './events-state.service';\n\n@Component({\n    selector: 'dayview-event-details',\n    template: `\n        <div class=\"fixed inset-0\" (click)=\"close()\"></div>\n        <div name=\"panel\" class=\"absolute rounded shadow flex flex-col\" (click)=\"$event.stopPropagation()\">\n            <div class=\"p-4 overflow-auto flex-1\">\n                <h3 class=\"mb-0 pl-6 mb-1\">{{ event.organiser.name || event.host }}</h3>\n                <div class=\"text-bold mb-4 pl-6 text-dark-fade\">{{ event.date | date:'fullDate' }}</div>\n                <div class=\"flex items-center mb-2\">\n                    <app-icon class=\"mr-1\" [icon]=\"{ class: 'material-icons', content: 'title' }\"></app-icon>\n                    <span class=\"text-dark-fade\">{{ event.title }}</span>\n                </div>\n                <div class=\"flex items-center mb-2\">\n                    <app-icon class=\"mr-1\" [icon]=\"{ class: 'material-icons', content: 'schedule' }\"></app-icon>\n                    <span class=\"text-dark-fade\">{{ time }}</span>\n                </div>\n                <div class=\"flex items-center\">\n                    <app-icon class=\"mr-1\" [icon]=\"{ class: 'material-icons', content: 'schedule' }\"></app-icon>\n                    <span class=\"text-dark-fade\">{{ event.attendees.length }} Attendee{{ event.attendees.length === 1 ? '' : 's' }}</span>\n                </div>\n                <div class=\"flex flex-col mb-2\">\n                    <div class=\"flex items-center pl-6 mb-1\" *ngFor=\"let user of event.attendees\">\n                        <a-user-avatar class=\"text-sm pr-2\" [user]=\"user\"></a-user-avatar>\n                        <span>{{ user.name || (user.first_name + ' ' + user.last_name) }}</span>\n                    </div>\n                </div>\n                <div class=\"flex items-center mb-2\">\n                    <app-icon class=\"mr-1\" [icon]=\"{ class: 'material-icons', content: 'place' }\"></app-icon>\n                    <span class=\"text-dark-fade\">{{ location }}</span>\n                </div>\n                <div class=\"flex items-center\">\n                    <app-icon class=\"mr-1\" [icon]=\"{ class: 'material-icons', content: 'format_align_left' }\"></app-icon>\n                    <span class=\"text-dark-fade\">Notes</span>\n                </div>\n                <div class=\"flex items-center pl-6 mb-2\">\n                    <span class=\"text-dark-fade\" [innerHTML]=\"(event.body || '&lt; No notes &gt;') | sanitize\"></span>\n                </div>\n            </div>\n            <div name=\"actions\" class=\"flex items-center justify-content p-4 space-x-4\">\n                <button class=\"flex-1 inverse\" mat-button>Remove Booking</button>\n                <button class=\"flex-1\" mat-button>Edit Booking</button>\n            </div>\n            <button name=\"close\" mat-icon-button (click)=\"close()\">\n                <app-icon [icon]=\"{ class: 'material-icons', content: 'close' }\"></app-icon>\n            </button>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                z-index: 999;\n            }\n\n            [name=\"panel\"] {\n                padding-top: 0;\n                width: 26em;\n                left: 50%;\n                top: 6.5em;\n                transform: translateX(-50%);\n                background-color: #fff;\n                max-height: 80vh;\n            }\n\n            [name=\"actions\"] {\n                border-top: 1px solid #ccc;\n            }\n\n            [name=\"close\"] {\n                position: absolute;\n                top: .25em;\n                right: .25em;\n            }\n        `,\n    ],\n})\nexport class DayviewEventDetailsComponent {\n    /** Event to display */\n    @Input() public event: CalendarEvent;\n    /** Close displayed event */\n    public readonly close = () => this._state.setEvent(null);\n\n    public get location() {\n        const space = this._spaces.find(this.event.resources[0].id);\n        return `${space.level.display_name || space.level.name}, ${space.display_name || space.name}`;\n    }\n\n    public get time() {\n        const date = new Date(this.event.date);\n        return (\n            format(date, 'h:mm a') + ' - ' + format(addMinutes(date, this.event.duration), 'h:mm a')\n        );\n    }\n\n    constructor(private _state: EventsStateService, private _spaces: SpacesService) { }\n}\n","import { Component } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { first } from 'rxjs/operators';\n\nimport { BaseClass, Identity } from '@user-interfaces/common';\nimport { OrganisationService } from '@user-interfaces/organisation';\nimport { BookingUIOptions, EventsStateService } from './events-state.service';\n\n@Component({\n    selector: 'dayview-topbar',\n    template: `\n        <button mat-button>\n            <div class=\"flex items-center\">\n                <app-icon\n                    class=\"mr-2\"\n                    [icon]=\"{ class: 'material-icons', content: 'add' }\"\n                ></app-icon>\n                <div class=\"text\">New Booking</div>\n            </div>\n        </button>\n        <mat-form-field appearance=\"outline\">\n            <mat-select\n                multiple\n                [(ngModel)]=\"zones\"\n                (ngModelChange)=\"updateZones($event)\"\n                placeholder=\"All Levels\"\n            >\n                <mat-option *ngFor=\"let level of levels | async\" [value]=\"level.id\">\n                    {{ level.display_name || level.name }}\n                </mat-option>\n            </mat-select>\n        </mat-form-field>\n        <mat-form-field appearance=\"outline\">\n            <mat-select\n                multiple\n                [(ngModel)]=\"type_list\"\n                (ngModelChange)=\"updateTypes($event)\"\n                placeholder=\"No Events\"\n            >\n                <mat-select-trigger>Legend</mat-select-trigger>\n                <mat-option *ngFor=\"let type of types\" [value]=\"type.id\">\n                    {{ type.name }}\n                </mat-option>\n            </mat-select>\n        </mat-form-field>\n        <mat-slide-toggle\n            class=\"m-2\"\n            [ngModel]=\"(ui_options | async)?.show_overflow\"\n            (ngModelChange)=\"updateUIOptions({ show_overflow: $event })\"\n            ><div class=\"text-xs\">Setup / Breakdown</div></mat-slide-toggle\n        >\n        <mat-slide-toggle\n            class=\"m-2\"\n            [ngModel]=\"(ui_options | async)?.show_cleaning\"\n            (ngModelChange)=\"updateUIOptions({ show_cleaning: $event })\"\n            ><div class=\"text-xs\">Cleaners View</div></mat-slide-toggle\n        >\n        <div class=\"flex-full\"></div>\n        <searchbar class=\"mr-2\"></searchbar>\n        <date-options (dateChange)=\"setDate($event)\"></date-options>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                align-items: center;\n                background-color: #fff;\n                height: 5em;\n                padding: 0 2em;\n            }\n\n            .flex-full {\n                flex: 1;\n                width: 0.5em;\n            }\n\n            mat-form-field {\n                height: 3.25em;\n                width: 8em;\n                margin-left: 1em;\n            }\n\n            mat-slide-toggle div {\n                width: 5.5em;\n                white-space: initial;\n                line-height: 1.2em\n            }\n        `,\n    ],\n})\nexport class DayviewTopbarComponent extends BaseClass {\n    /** List of selected levels */\n    public zones: string[] = [];\n\n    public readonly types: Identity[] = [\n        { id: 'internal', name: 'Internal' },\n        { id: 'external', name: 'External' },\n        { id: 'cancelled', name: 'Cancelled' },\n    ];\n    /** List of selected types */\n    public type_list: string[] = this.types.map((i) => `${i.id}`);\n    /** Set filtered date */\n    public readonly setDate = (d) => this._state.setDate(d);\n    /** List of levels for the active building */\n    public readonly levels = this._org.active_levels;\n    /** List of levels for the active building */\n    public readonly ui_options = this._state.ui_options;\n    /** List of levels for the active building */\n    public readonly updateZones = (z) => {\n        this._router.navigate([], {\n            relativeTo: this._route,\n            queryParams: { zone_ids: z.join(',') },\n        });\n        this._state.setZones(z);\n    };\n    /** List of levels for the active building */\n    public readonly updateTypes = (types) =>\n        this._state.setFilters({\n            hide_type: this.types.reduce((list, item) => {\n                !types.includes(item.id) ? list.push(item) : '';\n                return list;\n            }, []),\n        });\n\n    public updateUIOptions(options: BookingUIOptions) {\n        this._state.setUIOptions(options);\n    }\n\n    constructor(\n        private _state: EventsStateService,\n        private _org: OrganisationService,\n        private _route: ActivatedRoute,\n        private _router: Router\n    ) {\n        super();\n    }\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _)).toPromise();\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((params) => {\n                if (params.has('zone_ids')) {\n                    const zones = params.get('zone_ids').split(',');\n                    if (zones.length) {\n                        const level = this._org.levelWithID(zones);\n                        if (!level) {\n                            return;\n                        }\n                        this._org.building = this._org.buildings.find(\n                            (bld) => bld.id === level.parent_id\n                        );\n                        this.zones = zones;\n                    }\n                }\n            })\n        );\n        this.subscription(\n            'levels',\n            this._org.active_levels.subscribe((levels) => {\n                this.zones = this.zones.filter((zone) => levels.find((lvl) => lvl.id === zone));\n                if (!this.zones.length && levels.length) {\n                    this.zones.push(levels[0].id);\n                }\n                this.updateZones(this.zones);\n            })\n        );\n        this.updateTypes(this.type_list);\n    }\n}\n","import { Component, Input, OnChanges, SimpleChanges } from '@angular/core';\nimport { startOfDay, differenceInMinutes, format, addMinutes } from 'date-fns';\n\nimport { CalendarEvent } from '@user-interfaces/events';\nimport { EventsStateService } from './events-state.service';\n\n@Component({\n    selector: 'dayview-event',\n    template: `\n        <div\n            *ngIf=\"(ui_options | async)?.show_overflow\"\n            [class]=\"'overflow-block absolute rounded overflow-hidden w-full ' + type\"\n            [style.top]=\"overflow_top * 100 + '%'\"\n            [style.height]=\"overflow_height * 100 + '%'\"\n        ></div>\n        <div\n            name=\"event\"\n            [class]=\"'absolute rounded overflow-hidden text-sm ' + type\"\n            *ngIf=\"event\"\n            [style.top]=\"top * 100 + '%'\"\n            [style.height]=\"height * 100 + '%'\"\n            (click)=\"view(event)\"\n        >\n            <div class=\"info\">{{ event.organiser?.name }}</div>\n            <div class=\"info flex items-center\" *ngIf=\"event.duration > 30\">\n                <app-icon class=\"mx-2\" [icon]=\"{ class: 'material-icons', content: 'title' }\"></app-icon>\n                {{ event.title }}\n            </div>\n            <div class=\"info flex items-center\" *ngIf=\"event.duration > 60\">\n                <app-icon class=\"mx-2\" [icon]=\"{ class: 'material-icons', content: 'schedule' }\"></app-icon>\n                {{ time }}\n            </div>\n            <div class=\"info flex items-center\" *ngIf=\"event.duration > 90\">\n                <app-icon class=\"mx-2\" [icon]=\"{ class: 'material-icons', content: 'user' }\"></app-icon>\n                {{ event.attendees.length }} Attendee{{ event.attendees.length === 1 ? '' : 's' }}\n            </div>\n        </div>\n        <div\n            *ngIf=\"(ui_options | async)?.show_cleaning\"\n            class=\"catering-block absolute rounded overflow-hidden flex w-full shadow p-2\"\n            [style.top]=\"overflow_top * 100 + '%'\"\n            [style.height]=\"overflow_height * 100 + '%'\"\n        >\n            <div [class]=\"'icon flex mr-2 text-3xl rounded ' + event.cleaning_status\">\n                <app-icon [icon]=\"{ class: 'material-icons', content: event.cleaning_status === 'done' ? 'done' : 'warning' }\"></app-icon>\n            </div>\n            <div class=\"text\">{{ event.cleaning_status === 'done' ? 'Finished' : 'Scheduled to' }} clean at {{ event.cleaning_time }}</div>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                border-right: 1px solid rgba(0, 0, 0, 0.1);\n            }\n\n            [name='event'] {\n                background-color: #ccc;\n                width: 12rem;\n                z-index: 100;\n                transition: box-shadow 200ms;\n            }\n\n            [name='event']:hover {\n                box-shadow: 0 1px 3px 1px rgba(0, 0, 0, 0.2), 0 1px 1px 0 rgba(0, 0, 0, 0.14),\n                    0 2px 1px -1px rgba(0, 0, 0, 0.12);\n                cursor: pointer;\n                z-index: 999;\n            }\n\n            .overflow-block {\n                opacity: .3;\n                width: 12rem;\n            }\n\n            .catering-block {\n                background-color: #fff;\n                width: 12rem;\n                z-index: 999;\n            }\n\n            .internal {\n                background-color: #00a4c7;\n                color: #fff;\n            }\n\n            .icon {\n                height: 1.5em;\n                width: 1.5em;\n                color: #ffbf1f;\n                background-color: #f0f0f0;\n            }\n\n            .icon.done {\n                color: #21a453;\n            }\n\n            .external {\n                background-color: #d85be0;\n                color: #fff;\n            }\n\n            .cancelled {\n                background-color: #eee;\n            }\n\n            .info:first-child {\n                padding: 0.75em 0.5em;\n            }\n\n            .info {\n                padding: 0.25em 0.5em;\n            }\n        `,\n    ],\n})\nexport class DayviewEventComponent implements OnChanges {\n    /** Event to display */\n    @Input() public event: CalendarEvent;\n    /** Top position for the event */\n    public top: number = -999;\n    /** Height of the event on the calendar */\n    public height: number = 0;\n    /** Top position for the event */\n    public overflow_top: number = -999;\n    /** Height of the event on the calendar */\n    public overflow_height: number = 0;\n\n    public readonly view = (e) => this._state.setEvent(e);\n\n    public readonly ui_options = this._state.ui_options;\n\n    public get time() {\n        const date = new Date(this.event.date);\n        return (\n            format(date, 'h:mm a') + ' - ' + format(addMinutes(date, this.event.duration), 'h:mm a')\n        );\n    }\n\n    public get type() {\n        return this.event.has_visitors\n            ? 'external'\n            : this.event.status === 'cancelled'\n            ? 'cancelled'\n            : 'internal';\n    }\n\n    constructor(private _state: EventsStateService) {}\n\n    public ngOnChanges(changes: SimpleChanges) {\n        if (changes.event && this.event) {\n            const start = startOfDay(new Date(this.event.date));\n            const diff = differenceInMinutes(new Date(this.event.date), start);\n            this.top = diff / (24 * 60);\n            this.height = this.event.duration / (24 * 60);\n            this.overflow_top = (diff - this.event.setup) / (24 * 60);\n            this.overflow_height =\n                (this.event.duration + this.event.setup + this.event.breakdown) / (24 * 60);\n        }\n    }\n}\n"],"sourceRoot":"webpack:///"}