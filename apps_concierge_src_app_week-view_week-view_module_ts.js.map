{"version":3,"file":"apps_concierge_src_app_week-view_week-view_module_ts.js","mappings":"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","sources":["./apps/concierge/src/app/week-view/week-view-day.component.ts","./apps/concierge/src/app/week-view/week-view-event.component.ts","./apps/concierge/src/app/week-view/week-view-timeline.component.ts","./apps/concierge/src/app/week-view/week-view-topbar.component.ts","./apps/concierge/src/app/week-view/week-view.component.ts","./apps/concierge/src/app/week-view/week-view.module.ts","./libs/users/src/index.ts","./libs/users/src/lib/location.class.ts"],"sourcesContent":["import { Component, Input, OnChanges, SimpleChanges } from '@angular/core';\nimport { timePeriodsIntersect } from '@placeos/common';\nimport { addDays, endOfDay, startOfWeek } from 'date-fns';\nimport { BehaviorSubject, combineLatest } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { EventsStateService } from '../day-view/events-state.service';\n\n@Component({\n    selector: 'week-view-day',\n    template: `\n        <header\n            class=\"flex items-center justify-center border-b border-base-200 bg-base-300 w-full py-3 text-white\"\n        >\n            {{ date | async | date: 'EEE, MMM d, y' }}\n        </header>\n        <div class=\"flex-1 h-1/2 overflow-auto w-full\">\n            <ng-container *ngIf=\"(events | async)?.length; else empty_state\">\n                <week-view-event\n                    *ngFor=\"let event of events | async\"\n                    [event]=\"event\"\n                ></week-view-event>\n            </ng-container>\n        </div>\n        <ng-template #empty_state>\n            <p class=\"text-center p-2\">No events</p>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                align-items: center;\n                height: 100%;\n            }\n        `,\n    ],\n})\nexport class WeekViewDayComponent implements OnChanges {\n    @Input() public index: number;\n\n    private _index = new BehaviorSubject<number>(0);\n\n    public readonly date = this._state.date.pipe(\n        map((date) => addDays(startOfWeek(date), this.index).valueOf())\n    );\n\n    public readonly events = combineLatest([\n        this._state.filtered,\n        this._state.date,\n        this._index,\n    ]).pipe(\n        map(([events, date, index]) => {\n            const start = addDays(startOfWeek(date), index).valueOf();\n            const end = endOfDay(start).valueOf();\n            return events.filter((bkn) =>\n                timePeriodsIntersect(\n                    start,\n                    end,\n                    bkn.date,\n                    bkn.date + bkn.duration * 60 * 1000\n                )\n            );\n        })\n    );\n\n    constructor(private _state: EventsStateService) {}\n\n    public ngOnChanges(changes: SimpleChanges) {\n        if (changes.index) {\n            this._index.next(this.index);\n        }\n    }\n}\n","import { Component, Input } from '@angular/core';\n\nimport { CalendarEvent } from '@placeos/events';\nimport { EventsStateService } from '../day-view/events-state.service';\nimport { SettingsService } from '@placeos/common';\n\n@Component({\n    selector: 'week-view-event',\n    template: `\n        <div\n            content\n            matRipple\n            *ngIf=\"event\"\n            (click)=\"view(event)\"\n            [class]=\"\n                'm-2 p-2 bg-base-100 shadow rounded border-2 text-black text-left font-normal ' +\n                (event?.state === 'done' ? 'done' : event?.type)\n            \"\n        >\n            <div class=\"text-base\">{{ event?.title }}</div>\n            <div class=\"text-sm\">{{ event?.date | date: time_format }}</div>\n            <div class=\"text-sm\">\n                {{ event?.attendees.length }} Attendee{{\n                    event?.attendees.length === 1 ? '' : 's'\n                }}\n            </div>\n        </div>\n    `,\n    styles: [\n        `\n            button {\n                background: none !important;\n                border: none !important;\n            }\n\n            [content] {\n                width: calc(100% - 1rem);\n            }\n\n            .done {\n                opacity: 0.5;\n            }\n\n            .done:hover {\n                opacity: 1;\n            }\n\n            .cancelled {\n                border-color: #626262;\n            }\n\n            .external {\n                border-color: #d85be0;\n            }\n\n            .internal {\n                border-color: #00a4c7;\n            }\n        `,\n    ],\n})\nexport class WeekViewEventComponent {\n    @Input() public event: CalendarEvent;\n\n    public readonly view = (e) => this._state.setEvent(e);\n\n    public get time_format() {\n        return this._settings.time_format;\n    }\n\n    constructor(\n        private _state: EventsStateService,\n        private _settings: SettingsService\n    ) {}\n}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { EventsStateService } from '../day-view/events-state.service';\n\n@Component({\n    selector: 'week-view-timeline',\n    template: `\n        <div class=\"flex divide-x border-base-200 h-full\">\n            <ng-container *ngFor=\"let i of weekdays\">\n                <ng-container\n                    *ngIf=\"\n                        (i !== 0 && i !== 6) || (options | async).show_weekends\n                    \"\n                >\n                    <week-view-day\n                        class=\"h-full flex-1\"\n                        [index]=\"i\"\n                    ></week-view-day>\n                </ng-container>\n            </ng-container>\n        </div>\n        <mat-progress-bar\n            *ngIf=\"loading | async\"\n            mode=\"indeterminate\"\n        ></mat-progress-bar>\n        <view-event-details\n            *ngIf=\"event | async\"\n            [event]=\"event | async\"\n        ></view-event-details>\n    `,\n    styles: [\n        `\n            :host {\n                position: relative;\n                height: 100%;\n                width: 100%;\n                overflow: hidden;\n            }\n        `,\n    ],\n})\nexport class WeekViewTimelineComponent implements OnInit, OnDestroy {\n    public readonly weekdays = [0, 1, 2, 3, 4, 5, 6];\n    public readonly options = this._state.options;\n    public readonly event = this._state.event;\n    public readonly loading = this._state.loading;\n\n    constructor(private _state: EventsStateService) {}\n\n    public ngOnInit(): void {\n        this._state.startPolling('week');\n    }\n\n    public ngOnDestroy() {\n        this._state.stopPolling();\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { first } from 'rxjs/operators';\n\nimport { AsyncHandler } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\n\nimport { EventsStateService } from '../day-view/events-state.service';\n\n@Component({\n    selector: 'week-view-topbar',\n    template: `\n        <button btn matRipple new class=\"w-12 xl:w-auto\" (click)=\"newBooking()\">\n            <div class=\"flex items-center\">\n                <app-icon class=\"mr-2\">add</app-icon>\n                <div class=\"hidden xl:block\">New Booking</div>\n            </div>\n        </button>\n        <mat-form-field appearance=\"outline\">\n            <mat-select\n                multiple\n                [(ngModel)]=\"zones\"\n                (ngModelChange)=\"updateZones($event)\"\n                placeholder=\"All Levels\"\n            >\n                <mat-option\n                    *ngFor=\"let level of levels | async\"\n                    [value]=\"level.id\"\n                >\n                    {{ level.display_name || level.name }}\n                </mat-option>\n            </mat-select>\n        </mat-form-field>\n        <mat-slide-toggle\n            class=\"m-2\"\n            [ngModel]=\"(options | async)?.show_weekends\"\n            (ngModelChange)=\"setWeekends($event)\"\n            ><div class=\"text-xs\">Show weekends</div></mat-slide-toggle\n        >\n        <div class=\"flex-1 w-0\"></div>\n        <!-- <searchbar class=\"mr-2\"></searchbar> -->\n        <date-options (dateChange)=\"setDate($event)\"></date-options>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                align-items: center;\n                background-color: var(--b1);\n                height: 5em;\n                padding: 0 1em;\n            }\n\n            button {\n                min-width: 0;\n                padding: 0 0.85rem;\n            }\n\n            mat-form-field {\n                height: 3.25em;\n                width: 8em;\n                margin-left: 1em;\n            }\n        `,\n    ],\n})\nexport class WeekViewTopbarComponent extends AsyncHandler implements OnInit {\n    /** List of selected levels */\n    public zones: string[] = [];\n    /** List of levels for the active building */\n    public readonly levels = this._org.active_levels;\n    /** Options set for week view */\n    public readonly options = this._state.options;\n    /** Set filtered date */\n    public readonly setDate = (d) => this._state.setDate(d);\n    /** Set filtered date */\n    public readonly setWeekends = (d) =>\n        this._state.setUIOptions({ show_weekends: d });\n    /**  */\n    public readonly newBooking = (d?) => this._state.newBooking(d);\n    /** List of levels for the active building */\n    public readonly updateZones = (z) => {\n        this._router.navigate([], {\n            relativeTo: this._route,\n            queryParams: { zone_ids: z.join(',') },\n        });\n        this._state.setZones(z);\n    };\n\n    constructor(\n        private _state: EventsStateService,\n        private _org: OrganisationService,\n        private _route: ActivatedRoute,\n        private _router: Router\n    ) {\n        super();\n    }\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _)).toPromise();\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((params) => {\n                if (params.has('zone_ids')) {\n                    const zones = params.get('zone_ids').split(',');\n                    if (zones.length) {\n                        const level = this._org.levelWithID(zones);\n                        this.zones = zones;\n                        if (!level) return;\n                        this._org.building = this._org.buildings.find(\n                            (bld) => bld.id === level.parent_id\n                        );\n                    }\n                }\n            })\n        );\n        this.subscription(\n            'levels',\n            this._org.active_levels.subscribe((levels) => {\n                this.zones = this.zones.filter((zone) =>\n                    levels.find((lvl) => lvl.id === zone)\n                );\n                if (!this.zones.length && levels.length) {\n                    this.zones.push(levels[0].id);\n                }\n                this.updateZones(this.zones);\n            })\n        );\n    }\n}\n","import { Component } from '@angular/core';\n\n@Component({\n    selector: '[app-weekview]',\n    template: `\n        <sidebar></sidebar>\n        <main class=\"relative overflow-hidden\">\n            <week-view-topbar></week-view-topbar>\n            <week-view-timeline></week-view-timeline>\n        </main>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                height: 100%;\n                width: 100%;\n                background: var(--b1);\n            }\n\n            sidebar {\n                height: 100%;\n            }\n\n            main {\n                display: flex;\n                flex-direction: column;\n                flex: 1;\n                min-width: 50%;\n                height: 100%;\n            }\n        `,\n    ],\n})\nexport class WeekViewComponent {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule, Route } from '@angular/router';\n\nimport { UIModule } from '../ui/ui.module';\n\nimport { SharedSpacesModule } from '@placeos/spaces';\nimport { SharedUsersModule } from '@placeos/users';\n\nimport { WeekViewComponent } from './week-view.component';\nimport { WeekViewTopbarComponent } from './week-view-topbar.component';\nimport { WeekViewTimelineComponent } from './week-view-timeline.component';\nimport { WeekViewDayComponent } from './week-view-day.component';\nimport { WeekViewEventComponent } from './week-view-event.component';\n\nconst ROUTES: Route[] = [\n    { path: '', component: WeekViewComponent },\n    { path: 'new', component: WeekViewComponent },\n];\n\n@NgModule({\n    declarations: [\n        WeekViewComponent,\n        WeekViewTopbarComponent,\n        WeekViewTimelineComponent,\n        WeekViewDayComponent,\n        WeekViewEventComponent,\n    ],\n    imports: [\n        CommonModule,\n        FormsModule,\n        UIModule,\n        SharedSpacesModule,\n        SharedUsersModule,\n        RouterModule.forChild(ROUTES),\n    ],\n})\nexport class WeekViewModule {}\n","export * from './lib/users.module';\nexport * from './lib/new-user-modal.component';\nexport * from './lib/find-availability-modal/find-availability-modal.component';\nexport * from './lib/user-form.component';\nexport * from './lib/location.class';\nexport * from './lib/user.class';\nexport * from './lib/user.utilities';\nexport * from './lib/users.module';\nexport * from './lib/guests.fn';\nexport * from './lib/staff.fn';\n","import { HashMap } from '@placeos/common';\nimport { getUnixTime } from 'date-fns';\n\nexport class MapLocation {\n    /** Source that the location was generated */\n    public type: 'desk' | 'wireless' | 'meeting' | 'other';\n    /** Details of the location */\n    public position: string | { x: number, y: number };\n    /** Accuracy of the location data */\n    public variance: number;\n    /** Unix epoch in seconds that the data was last updated */\n    public last_seen: number;\n    /** ID of the level associated with the location */\n    public level: string;\n    /** ID of the building associated with the location */\n    public building: string;\n    /** Whether user is currently at the location if fixed */\n    public at_location: boolean;\n    /**  */\n    public coordinates_from:\n        | 'top-left'\n        | 'top-right'\n        | 'bottom-left'\n        | 'bottom-right';\n\n    constructor(_data: HashMap = {}) {\n        this.type = _data.type || _data.location || 'other';\n        this.position = _data.position ||\n            _data.map_id || _data.asset_id || {\n                x: _data.x / _data.map_width || 0,\n                y: _data.y / _data.map_height || 0,\n            };\n        this.variance = _data.variance || 0;\n        this.last_seen = _data.last_seen || getUnixTime(new Date());\n        this.level = _data.level;\n        this.building = _data.building;\n        this.at_location = !!_data.at_location;\n        this.coordinates_from = _data.coordinates_from || 'top-left';\n    }\n}\n"],"names":["SimpleChanges","timePeriodsIntersect","addDays","endOfDay","startOfWeek","BehaviorSubject","combineLatest","map","EventsStateService","i0","ɵɵelement","ɵɵproperty","event_r1","ɵɵelementContainerStart","ɵɵtemplate","WeekViewDayComponent_ng_container_5_week_view_event_1_Template","ɵɵadvance","ɵɵpipeBind1","ctx_r1","events","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","WeekViewDayComponent","constructor","_state","_index","date","pipe","index","valueOf","filtered","start","end","filter","bkn","duration","ngOnChanges","changes","next","_","ɵɵdirectiveInject","i1","_2","selectors","inputs","features","ɵɵNgOnChangesFeature","decls","vars","consts","template","WeekViewDayComponent_Template","rf","ctx","WeekViewDayComponent_ng_container_5_Template","WeekViewDayComponent_ng_template_7_Template","ɵɵtemplateRefExtractor","ɵɵtextInterpolate1","ɵɵpipeBind2","tmp_2_0","length","empty_state_r3","CalendarEvent","SettingsService","ɵɵlistener","WeekViewEventComponent_div_0_Template_div_click_0_listener","ɵɵrestoreView","_r1","ɵɵnextContext","ɵɵresetView","view","event","ɵɵclassMap","state","type","ɵɵtextInterpolate","title","time_format","ɵɵtextInterpolate2","attendees","WeekViewEventComponent","_settings","e","setEvent","i2","WeekViewEventComponent_Template","WeekViewEventComponent_div_0_Template","i_r1","WeekViewTimelineComponent_ng_container_1_ng_container_1_Template","options","show_weekends","WeekViewTimelineComponent","weekdays","loading","ngOnInit","startPolling","ngOnDestroy","stopPolling","WeekViewTimelineComponent_Template","WeekViewTimelineComponent_ng_container_1_Template","WeekViewTimelineComponent_mat_progress_bar_2_Template","WeekViewTimelineComponent_view_event_details_4_Template","ActivatedRoute","Router","first","AsyncHandler","OrganisationService","level_r1","id","display_name","name","WeekViewTopbarComponent","_org","_route","_router","zones","levels","active_levels","setDate","d","setWeekends","setUIOptions","newBooking","updateZones","z","navigate","relativeTo","queryParams","zone_ids","join","setZones","_this","_asyncToGenerator","initialised","toPromise","subscription","queryParamMap","subscribe","params","has","get","split","level","levelWithID","building","buildings","find","bld","parent_id","zone","lvl","push","i3","ɵɵInheritDefinitionFeature","WeekViewTopbarComponent_Template","WeekViewTopbarComponent_Template_button_click_0_listener","ɵɵtwoWayListener","WeekViewTopbarComponent_Template_mat_select_ngModelChange_7_listener","$event","ɵɵtwoWayBindingSet","WeekViewTopbarComponent_mat_option_8_Template","WeekViewTopbarComponent_Template_mat_slide_toggle_ngModelChange_10_listener","WeekViewTopbarComponent_Template_date_options_dateChange_15_listener","ɵɵtwoWayProperty","WeekViewComponent","attrs","_c0","WeekViewComponent_Template","CommonModule","FormsModule","RouterModule","UIModule","SharedSpacesModule","SharedUsersModule","ROUTES","path","component","WeekViewModule","_3","forChild","declarations","imports","getUnixTime","MapLocation","_data","location","position","map_id","asset_id","x","map_width","y","map_height","variance","last_seen","Date","at_location","coordinates_from"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}