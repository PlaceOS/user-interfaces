{"version":3,"file":"apps_concierge_src_app_staff_staff_module_ts.js","mappings":"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","sources":["./apps/concierge/src/app/staff/emergency-contact-modal.component.ts","./apps/concierge/src/app/staff/emergency-contacts.component.ts","./apps/concierge/src/app/staff/new-staff.component.ts","./apps/concierge/src/app/staff/role-management-modal.component.ts","./apps/concierge/src/app/staff/staff-details.component.ts","./apps/concierge/src/app/staff/staff-listing.component.ts","./apps/concierge/src/app/staff/staff-state.service.ts","./apps/concierge/src/app/staff/staff-topbar.component.ts","./apps/concierge/src/app/staff/staff.component.ts","./apps/concierge/src/app/staff/staff.module.ts","./libs/bookings/src/index.ts","./libs/bookings/src/lib/desk.service.ts","./libs/users/src/index.ts","./libs/users/src/lib/location.class.ts"],"sourcesContent":["import { Component, Inject, ViewChild } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { EmergencyContact } from './emergency-contacts.component';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { OrganisationService } from '@placeos/organisation';\nimport { showMetadata, updateMetadata } from '@placeos/ts-client';\nimport { BehaviorSubject, combineLatest } from 'rxjs';\nimport { filter, map, shareReplay, switchMap, take } from 'rxjs/operators';\nimport { notifySuccess, randomString } from '@placeos/common';\nimport { CustomTooltipComponent } from '@placeos/components';\n\n@Component({\n    selector: 'emergency-contact-modal',\n    template: `\n        <header>\n            <h2>{{ contact ? 'Edit' : 'New' }} Emergency Contact</h2>\n            <div class=\"flex-1 w-0\"></div>\n            <button icon mat-dialog-close *ngIf=\"!loading\">\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <main class=\"p-4 w-[36rem]\" *ngIf=\"!loading; else load_state\">\n            <form [formGroup]=\"form\" class=\"space-y-4\">\n                <a-user-search-field\n                    ngModel\n                    (ngModelChange)=\"setUser($event)\"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                    class=\"mb-4\"\n                ></a-user-search-field>\n                <div class=\"flex flex-col\">\n                    <label for=\"name\">Name:</label>\n                    <mat-form-field appearance=\"outline\">\n                        <input\n                            matInput\n                            formControlName=\"name\"\n                            placeholder=\"Full name\"\n                        />\n                    </mat-form-field>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <div class=\"flex flex-col flex-1\">\n                        <label for=\"email\">Email:</label>\n                        <mat-form-field appearance=\"outline\">\n                            <input\n                                matInput\n                                formControlName=\"email\"\n                                type=\"email\"\n                                placeholder=\"Email address\"\n                            />\n                        </mat-form-field>\n                    </div>\n                    <div class=\"flex flex-col flex-1\">\n                        <label for=\"email\">Phone:</label>\n                        <mat-form-field appearance=\"outline\">\n                            <input\n                                matInput\n                                formControlName=\"phone\"\n                                type=\"tel\"\n                                placeholder=\"Emergency contact number\"\n                            />\n                        </mat-form-field>\n                    </div>\n                </div>\n                <div class=\"flex flex-col\">\n                    <label for=\"name\">Level:</label>\n                    <mat-form-field appearance=\"outline\">\n                        <mat-select\n                            formControlName=\"zone\"\n                            placeholder=\"All Levels\"\n                        >\n                            <mat-option value=\"\">All Levels</mat-option>\n                            <mat-option\n                                *ngFor=\"let level of levels | async\"\n                                [value]=\"level.id\"\n                            >\n                                {{ level.display_name || level.name }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                </div>\n                <div class=\"flex flex-col\">\n                    <label for=\"email\">Roles:</label>\n                    <div class=\"flex items-center space-x-2\">\n                        <mat-form-field\n                            class=\"no-subscript flex-1\"\n                            appearance=\"outline\"\n                        >\n                            <mat-select\n                                multiple\n                                formControlName=\"roles\"\n                                placeholder=\"Select roles\"\n                            >\n                                <ng-container\n                                    *ngFor=\"\n                                        let role of (data | async)?.roles || []\n                                    \"\n                                >\n                                    <mat-option *ngIf=\"role\" [value]=\"role\">\n                                        {{ role }}\n                                    </mat-option>\n                                </ng-container>\n                            </mat-select>\n                        </mat-form-field>\n                        <button\n                            btn\n                            matRipple\n                            class=\"space-x-2\"\n                            customTooltip\n                            [content]=\"role_form\"\n                        >\n                            <app-icon>add</app-icon>\n                            <div class=\"pr-2\">Add New Role</div>\n                        </button>\n                    </div>\n                </div>\n            </form>\n        </main>\n        <footer\n            *ngIf=\"!loading\"\n            class=\"flex justify-center items-center p-2 border-t border-base-200\"\n        >\n            <button btn matRipple class=\"w-32\" (click)=\"save()\">Save</button>\n        </footer>\n        <ng-template #load_state>\n            <main\n                loading\n                class=\"h-64 flex flex-col items-center justify-center\"\n            >\n                <mat-spinner [diameter]=\"48\" class=\"mb-4\"></mat-spinner>\n                <p>Saving contact details...</p>\n            </main>\n        </ng-template>\n        <ng-template #role_form>\n            <div class=\"bg-base-100 p-4 rounded \">\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        [(ngModel)]=\"role_name\"\n                        placeholder=\"Role name\"\n                    />\n                </mat-form-field>\n                <button btn matRipple class=\"w-full\" (click)=\"addRole()\">\n                    Save Role\n                </button>\n            </div>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class EmergencyContactModalComponent {\n    private _changes = new BehaviorSubject(0);\n\n    public loading = false;\n    public role_name: string;\n    public readonly contact?: EmergencyContact = this._data;\n    public readonly data = combineLatest([\n        this._org.active_building,\n        this._changes,\n    ]).pipe(\n        filter(([bld]) => !!bld),\n        switchMap(([bld]) => showMetadata(bld.id, 'emergency_contacts')),\n        map(({ details }) => (details as any) || { roles: [], contacts: [] }),\n        shareReplay(1)\n    );\n    public readonly form = new FormGroup({\n        id: new FormControl(this._data?.id || `ecntct-${randomString(8)}`),\n        name: new FormControl(this._data?.name || ''),\n        email: new FormControl(this._data?.email || ''),\n        phone: new FormControl(this._data?.phone || ''),\n        zone: new FormControl(this._data?.zone || ''),\n        roles: new FormControl(this._data?.roles || []),\n    });\n    /** List of levels for the active building */\n    public readonly levels = this._org.active_levels;\n\n    @ViewChild(CustomTooltipComponent) private _tooltip: CustomTooltipComponent;\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) private _data: EmergencyContact | undefined,\n        private _dialog_ref: MatDialogRef<EmergencyContactModalComponent>,\n        private _org: OrganisationService\n    ) {}\n\n    public async addRole() {\n        if (!this.role_name) return;\n        this._tooltip.close();\n        this.loading = true;\n        this._dialog_ref.disableClose = true;\n        const data: any = await this.data.pipe(take(1)).toPromise();\n        await updateMetadata(this._org.building.id, {\n            name: 'emergency_contacts',\n            description: 'Emergency Contacts',\n            details: {\n                roles: [...(data.roles || []), this.role_name].filter(\n                    (_) => !!_\n                ),\n                contacts: data.contacts,\n            },\n        }).toPromise();\n        this._changes.next(0);\n        this.form.patchValue({\n            roles: [...(this.form.value.roles || []), this.role_name],\n        });\n        this.role_name = '';\n        this.loading = false;\n        this._dialog_ref.disableClose = false;\n    }\n\n    public setUser(user: any) {\n        this.form.patchValue({\n            name: user?.name,\n            email: user?.email,\n            phone: user?.phone,\n        });\n    }\n\n    public async save() {\n        this.loading = true;\n        this._dialog_ref.disableClose = true;\n        const data: any = await this.data.pipe(take(1)).toPromise();\n        const contacts = data?.contacts || [];\n        const new_contacts = [\n            ...contacts.filter((_) => _.id !== this.contact?.id),\n            this.form.value,\n        ].sort((a, b) => a.name.localeCompare(b.name));\n        await updateMetadata(this._org.building.id, {\n            name: 'emergency_contacts',\n            description: 'Emergency Contacts',\n            details: { roles: data.roles || [], contacts: new_contacts },\n        }).toPromise();\n        this._dialog_ref.disableClose = true;\n        notifySuccess('Successfully updated emergency contacts.');\n        this.loading = false;\n        this._dialog_ref.close();\n    }\n}\n","import { Component } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { OrganisationService } from '@placeos/organisation';\nimport { showMetadata, updateMetadata } from '@placeos/ts-client';\nimport { BehaviorSubject, combineLatest, of } from 'rxjs';\nimport { filter, map, shareReplay, switchMap, take } from 'rxjs/operators';\nimport { EmergencyContactModalComponent } from './emergency-contact-modal.component';\nimport { notify, notifySuccess, openConfirmModal } from '@placeos/common';\nimport { RoleManagementModalComponent } from './role-management-modal.component';\nimport { Clipboard } from '@angular/cdk/clipboard';\n\nexport interface EmergencyContact {\n    id: string;\n    email: string;\n    name: string;\n    phone: string;\n    roles: string[];\n    zone: string;\n}\n\nexport interface EmergencyContactData {\n    contacts: EmergencyContact[];\n    roles: string[];\n}\n\n@Component({\n    selector: '[app-emergency-contacts]',\n    template: `\n        <app-topbar></app-topbar>\n        <div class=\"flex flex-1 h-px\">\n            <app-sidebar></app-sidebar>\n            <main class=\"flex flex-col flex-1 w-1/2 h-full\">\n                <section topbar class=\"px-8 py-4 flex flex-col\">\n                    <div class=\"flex items-center justify-between\">\n                        <h2 class=\"text-2xl font-medium\">Emergency Contacts</h2>\n                        <div class=\"flex items-center space-x-2\">\n                            <mat-form-field\n                                class=\"no-subscript\"\n                                appearance=\"outline\"\n                            >\n                                <app-icon class=\"text-2xl\" matPrefix>\n                                    search\n                                </app-icon>\n                                <input\n                                    matInput\n                                    [(ngModel)]=\"search\"\n                                    placeholder=\"Filter contacts...\"\n                                />\n                            </mat-form-field>\n                            <button\n                                btn\n                                matRipple\n                                class=\"space-x-2\"\n                                (click)=\"editContact()\"\n                            >\n                                <app-icon class=\"text-2xl\">add</app-icon>\n                                <div class=\"pr-2\">Add Contact</div>\n                            </button>\n                        </div>\n                    </div>\n                    <div class=\"flex items-center justify-between py-2 mt-2\">\n                        <mat-form-field\n                            class=\"no-subscript\"\n                            appearance=\"outline\"\n                        >\n                            <mat-select\n                                [ngModel]=\"role_filter.getValue()\"\n                                (ngModelChange)=\"role_filter.next($event)\"\n                                placeholder=\"All Roles\"\n                            >\n                                <mat-option value=\"\">All Roles</mat-option>\n                                <mat-option\n                                    *ngFor=\"let role of (roles | async) || []\"\n                                    [value]=\"role\"\n                                >\n                                    {{ role }}\n                                </mat-option>\n                            </mat-select>\n                        </mat-form-field>\n                        <div class=\"flex items-center space-x-2\">\n                            <button\n                                icon\n                                matRipple\n                                class=\"h-12 w-12 bg-secondary text-secondary-content rounded\"\n                                matTooltip=\"Manage Roles\"\n                                (click)=\"manageRoles()\"\n                            >\n                                <app-icon>list_alt</app-icon>\n                            </button>\n                        </div>\n                    </div>\n                </section>\n                <section class=\"w-full h-1/2 flex-1 overflow-auto px-8\">\n                    <simple-table\n                        class=\"min-w-[52rem] block text-sm\"\n                        [data]=\"filtered_contacts\"\n                        [filter]=\"search\"\n                        [empty_message]=\"\n                            search\n                                ? 'No matching contacts'\n                                : 'No emergency contacts for this building'\n                        \"\n                        [columns]=\"[\n                            {\n                                key: 'name',\n                                name: 'Person',\n                                content: person_template\n                            },\n                            {\n                                key: 'roles',\n                                name: 'Roles',\n                                content: roles_template,\n                                sortable: false\n                            },\n                            {\n                                key: 'zone',\n                                name: 'Zone',\n                                content: zone_template,\n                                size: '8rem',\n                                sortable: false\n                            },\n                            {\n                                key: 'actions',\n                                name: ' ',\n                                content: actions_template,\n                                size: '6rem',\n                                sortable: false\n                            }\n                        ]\"\n                        [sortable]=\"true\"\n                    ></simple-table>\n                    <div class=\"w-full h-12\"></div>\n                    <ng-template #person_template let-row=\"row\">\n                        <button\n                            class=\"px-4 py-2 text-left leading-tight\"\n                            (click)=\"copyToClipboard(row.email)\"\n                        >\n                            <div class=\"\">{{ row.name }}</div>\n                            <div class=\"text-[0.625rem] opacity-30 font-mono\">\n                                {{ row.email }}\n                            </div>\n                        </button>\n                    </ng-template>\n                    <ng-template #roles_template let-data=\"data\">\n                        <div class=\"flex flex-wrap p-2\">\n                            <span\n                                class=\"m-1 py-1 px-2 rounded-2xl text-xs font-mono bg-info text-info-content\"\n                                *ngFor=\"let role of data\"\n                            >\n                                {{ role }}\n                            </span>\n                        </div>\n                    </ng-template>\n                    <ng-template #zone_template let-data=\"data\">\n                        <div class=\"p-4\">\n                            {{ data ? (data | level)?.display_name : 'All' }}\n                        </div>\n                    </ng-template>\n                    <ng-template #actions_template let-row=\"row\">\n                        <div\n                            class=\"flex items-center justify-end w-full space-x-2 p-2\"\n                        >\n                            <button\n                                icon\n                                matRipple\n                                matTooltip=\"Edit Emergency Contact\"\n                                (click)=\"editContact(row)\"\n                            >\n                                <app-icon>edit</app-icon>\n                            </button>\n                            <button\n                                icon\n                                matRipple\n                                class=\"text-error\"\n                                (click)=\"removeContact(row)\"\n                                matTooltip=\"Remove Emergency Contact\"\n                            >\n                                <app-icon>delete</app-icon>\n                            </button>\n                        </div>\n                    </ng-template>\n                </section>\n            </main>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                height: 100%;\n                width: 100%;\n                background-color: var(--b1);\n            }\n        `,\n    ],\n})\nexport class EmergencyContactsComponent {\n    private _change = new BehaviorSubject<number>(0);\n\n    public search = '';\n    public readonly role_filter = new BehaviorSubject<string>('');\n    public readonly data = combineLatest([\n        this._org.active_building,\n        this._change,\n    ]).pipe(\n        filter(([bld]) => !!bld),\n        switchMap(([bld]) => showMetadata(bld.id, 'emergency_contacts')),\n        map(({ details }) => (details as any) || { roles: [], contacts: [] }),\n        shareReplay(1)\n    );\n    public readonly roles = this.data.pipe(map((_) => _?.roles || []));\n    public readonly contacts = this.data.pipe(map((_) => _?.contacts || []));\n    public readonly filtered_contacts = combineLatest([\n        this.contacts,\n        this.role_filter,\n    ]).pipe(\n        map(([list, role]) =>\n            list.filter((_) => !role || _.roles.includes(role))\n        )\n    );\n\n    public readonly copyToClipboard = (id: string) => {\n        const success = this._clipboard.copy(id);\n        if (success) notifySuccess(\"User's email copied to clipboard.\");\n    };\n\n    constructor(\n        private _org: OrganisationService,\n        private _dialog: MatDialog,\n        private _clipboard: Clipboard\n    ) {}\n\n    public ngOnInit() {}\n\n    public manageRoles() {\n        const ref = this._dialog.open(RoleManagementModalComponent, {});\n        ref.afterClosed().subscribe(() => this._change.next(Date.now()));\n    }\n\n    public editContact(contact?: EmergencyContact) {\n        const ref = this._dialog.open(EmergencyContactModalComponent, {\n            data: contact,\n        });\n        ref.afterClosed().subscribe(() => this._change.next(Date.now()));\n    }\n\n    public async removeContact(contact: EmergencyContact) {\n        const result = await openConfirmModal(\n            {\n                title: 'Remove Emergency Contact',\n                content: `Are you sure you want to remove ${contact.name} from the emergency contacts?`,\n                icon: { content: 'delete' },\n            },\n            this._dialog\n        );\n        if (result.reason !== 'done') return;\n        result.loading('Removing contact...');\n        const data: any = await this.data.pipe(take(1)).toPromise();\n        const new_contacts = (data?.contacts || []).filter(\n            (_) => _.id !== contact.id\n        );\n        await updateMetadata(this._org.building.id, {\n            name: 'emergency_contacts',\n            description: 'Emergency Contacts',\n            details: { roles: data.roles, contacts: new_contacts },\n        }).toPromise();\n        result.close();\n        this._change.next(Date.now());\n        notifySuccess('Successfully removed emergency contact.');\n    }\n}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\n\nimport { StaffStateService } from './staff-state.service';\n\n@Component({\n    selector: '[app-new-staff]',\n    template: `\n        <app-topbar></app-topbar>\n        <div class=\"flex flex-1 h-px\">\n            <app-sidebar></app-sidebar>\n            <main class=\"flex flex-col flex-1 w-1/2 h-full\">\n                <staff-topbar class=\"w-full\"></staff-topbar>\n                <staff-listings class=\"w-full flex-1 h-0\"></staff-listings>\n                <mat-progress-bar\n                    class=\"w-full\"\n                    *ngIf=\"loading | async\"\n                    mode=\"indeterminate\"\n                ></mat-progress-bar>\n            </main>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                height: 100%;\n                width: 100%;\n                background-color: var(--b1);\n            }\n        `,\n    ],\n})\nexport class NewStaffComponent implements OnInit, OnDestroy {\n    public readonly loading = this._state.loading;\n\n    constructor(private _state: StaffStateService) {}\n\n    public ngOnInit() {\n        this._state.startPolling();\n    }\n\n    public ngOnDestroy() {\n        this._state.stopPolling();\n    }\n}\n","import { Component, ViewChild } from '@angular/core';\nimport { MatDialogRef } from '@angular/material/dialog';\nimport { CustomTooltipComponent } from '@placeos/components';\nimport { OrganisationService } from '@placeos/organisation';\nimport { showMetadata, updateMetadata } from '@placeos/ts-client';\nimport { BehaviorSubject, combineLatest } from 'rxjs';\nimport { filter, map, shareReplay, switchMap, take } from 'rxjs/operators';\n\n@Component({\n    selector: 'role-management-modal',\n    template: `\n        <header>\n            <h2>Manage Roles</h2>\n            <button btn icon matRipple mat-dialog-close>\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <main\n            class=\"overflow-y-auto min-w-[20rem] divide-y divide-base-200 max-h-[65vh]\"\n        >\n            <button\n                btn\n                matRipple\n                class=\"flex items-center justify-center space-x-2 w-[calc(100%-1rem)] m-2\"\n                customTooltip\n                (click)=\"active = ''; role_name = ''\"\n                [content]=\"role_form\"\n            >\n                <div class=\"truncate\">New Role</div>\n                <app-icon>add</app-icon>\n            </button>\n            <ng-container *ngFor=\"let role of roles | async\">\n                <div\n                    class=\"flex items-center space-x-2 hover:bg-base-200:bg-base-300 p-2\"\n                >\n                    <div class=\"flex-1 truncate\">{{ role }}</div>\n                    <button\n                        btn\n                        icon\n                        matRipple\n                        (click)=\"active = role; role_name = role\"\n                        customTooltip\n                        [content]=\"role_form\"\n                    >\n                        <app-icon>edit</app-icon>\n                    </button>\n                    <button btn icon matRipple (click)=\"removeRole(role)\">\n                        <app-icon>delete</app-icon>\n                    </button>\n                </div>\n            </ng-container>\n        </main>\n        <ng-template #role_form>\n            <div class=\"bg-base-100 p-4 rounded \">\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        [(ngModel)]=\"role_name\"\n                        placeholder=\"Role name\"\n                    />\n                </mat-form-field>\n                <button btn matRipple class=\"w-full\" (click)=\"updateRoles()\">\n                    Save Role\n                </button>\n            </div>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class RoleManagementModalComponent {\n    private _changes = new BehaviorSubject(0);\n\n    public active: string;\n    public role_name: string;\n    public loading = false;\n    public readonly data = combineLatest([\n        this._org.active_building,\n        this._changes,\n    ]).pipe(\n        filter(([bld]) => !!bld),\n        switchMap(([bld]) => showMetadata(bld.id, 'emergency_contacts')),\n        map(({ details }) => {\n            const value = (details as any) || { roles: [], contacts: [] };\n            if (!value.roles) value.roles = [];\n            if (!value.contacts) value.contacts = [];\n            return value;\n        }),\n        shareReplay(1)\n    );\n    public readonly roles = this.data.pipe(map((_) => _.roles));\n\n    @ViewChild(CustomTooltipComponent) private _tooltip: CustomTooltipComponent;\n\n    public async removeRole(role: string) {\n        if (!role) return;\n        this.loading = true;\n        this._dialog_ref.disableClose = true;\n        const data: any = await this.data.pipe(take(1)).toPromise();\n        await updateMetadata(this._org.building.id, {\n            name: 'emergency_contacts',\n            description: 'Emergency Contacts',\n            details: {\n                roles: [...data.roles.filter((_) => _ !== role)]\n                    .filter((_) => !!_)\n                    .sort((a, b) => a.localeCompare(b)),\n                contacts: data.contacts.map((_) => ({\n                    ..._,\n                    roles: _.roles.filter((r) => r !== role),\n                })),\n            },\n        }).toPromise();\n        this._changes.next(0);\n        this.loading = false;\n        this._dialog_ref.disableClose = false;\n    }\n\n    public async updateRoles() {\n        if (!this.role_name) return;\n        this.loading = true;\n        this._tooltip.close();\n        this._dialog_ref.disableClose = true;\n        const data: any = await this.data.pipe(take(1)).toPromise();\n        await updateMetadata(this._org.building.id, {\n            name: 'emergency_contacts',\n            description: 'Emergency Contacts',\n            details: {\n                roles: [\n                    ...data.roles.filter((_) => _ !== this.active),\n                    this.role_name,\n                ]\n                    .filter((_) => !!_)\n                    .sort((a, b) => a.localeCompare(b)),\n                contacts: data.contacts,\n            },\n        }).toPromise();\n        this._changes.next(0);\n        this.role_name = '';\n        this.active = '';\n        this.loading = false;\n        this._dialog_ref.disableClose = false;\n    }\n\n    constructor(\n        private _org: OrganisationService,\n        private _dialog_ref: MatDialogRef<RoleManagementModalComponent>\n    ) {}\n}\n","import { Component, Input } from '@angular/core';\nimport { notifyError } from '@placeos/common';\nimport { StaffUser } from '@placeos/users';\n\nimport { StaffStateService } from './staff-state.service';\n\n@Component({\n    selector: 'staff-details',\n    template: `\n        <div\n            class=\"w-full flex items-center px-4 py-2 bg-base-100 border-b border-base-200 hover:opacity-80\"\n            details\n            *ngIf=\"user\"\n        >\n            <a-user-avatar [user]=\"user\"></a-user-avatar>\n            <div class=\"flex flex-col flex-1\">\n                <div class=\"px-2\">{{ user?.name }}</div>\n                <div class=\"px-2 text-xs text-opacity-50\">\n                    {{ user?.email }}\n                </div>\n            </div>\n            <div *ngIf=\"onsite\" class=\"text-xs opacity-50 px-4\">Onsite</div>\n            <div class=\"flex items-center\">\n                <action-icon\n                    [matTooltip]=\"onsite ? 'Checkout Staff' : 'Checkin Staff'\"\n                    [loading]=\"loading\"\n                    [content]=\"onsite ? 'event_busy' : 'event_available'\"\n                    (click)=\"onsite ? checkout() : checkin()\"\n                >\n                </action-icon>\n                <a\n                    icon\n                    matRipple\n                    matTooltip=\"Email Staff\"\n                    [attr.disabled]=\"!user?.email\"\n                    [href]=\"'mailto:' + user?.email\"\n                >\n                    <app-icon>email</app-icon>\n                </a>\n                <a\n                    icon\n                    matRipple\n                    matTooltip=\"Phone Staff\"\n                    [attr.disabled]=\"!user?.phone\"\n                    [href]=\"'tel:' + user?.phone\"\n                >\n                    <app-icon>call</app-icon>\n                </a>\n            </div>\n        </div>\n    `,\n    styles: [``],\n})\nexport class StaffDetailsComponent {\n    @Input() public user: StaffUser;\n    @Input() public onsite: boolean;\n\n    public loading: boolean;\n\n    public readonly checkin = async () => {\n        this.loading = true;\n        await this._state\n            .checkin(this.user)\n            .catch((e) => notifyError('Error checking in Staff member'));\n        this.loading = false;\n    };\n    public readonly checkout = async () => {\n        this.loading = true;\n        await this._state\n            .checkout(this.user)\n            .catch((e) => notifyError('Error checking out Staff member'));\n        this.loading = false;\n    };\n\n    constructor(private _state: StaffStateService) {}\n}\n","import { Component, ElementRef, ViewChild } from '@angular/core';\nimport { AsyncHandler } from '@placeos/common';\nimport { map } from 'rxjs/operators';\n\nimport { StaffStateService } from './staff-state.service';\n\nconst CHARS = '#abcdefghijklmnopqrstuvwxyz'.split('');\n\n@Component({\n    selector: 'staff-listings',\n    template: `\n        <div class=\"w-full p-2 flex items-center justify-center\">\n            <div\n                letter\n                *ngFor=\"let group of groups\"\n                class=\"capitalize h-6 w-6 flex items-center justify-center text-xs cursor-pointer\"\n                [class.disabled]=\"(user_list | async)[group].length <= 0\"\n                [class.active]=\"group === active_group\"\n                (click)=\"scrollTo(group)\"\n            >\n                {{ group }}\n            </div>\n        </div>\n        <div\n            class=\"flex-1 overflow-auto w-full relative bg-base-200\"\n            style=\"height: 50%\"\n            #container\n            (scroll)=\"onScroll($event)\"\n        >\n            <ng-container *ngIf=\"user_count | async; else empty_state\">\n                <ng-container *ngFor=\"let group of groups\">\n                    <ng-container *ngIf=\"(user_list | async)[group].length\">\n                        <div\n                            group\n                            [id]=\"'letter-' + (group === '#' ? '0' : group)\"\n                            class=\"capitalize bg-base-200 border-b text-sm font-medium sticky top-0 z-10\"\n                        >\n                            {{ group }}\n                        </div>\n                        <staff-details\n                            *ngFor=\"\n                                let user of (user_list | async)[group];\n                                let i = index\n                            \"\n                            [id]=\"'letter-' + group + '-' + i\"\n                            [user]=\"user\"\n                            [onsite]=\"\n                                (events | async)\n                                    ? (events | async)[user.email]\n                                    : false\n                            \"\n                        ></staff-details>\n                    </ng-container>\n                </ng-container>\n            </ng-container>\n        </div>\n        <mat-progress-bar\n            *ngIf=\"loading | async\"\n            mode=\"indeterminate\"\n        ></mat-progress-bar>\n        <ng-template #empty_state>\n            <div\n                class=\"absolute inset-0 flex flex-col items-center justify-center\"\n            >\n                <p>No matching staff members</p>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                width: 100%;\n                height: 50%;\n            }\n\n            [letter] {\n                transition: font-size 200ms, color 200ms;\n            }\n\n            [group] {\n                border-color: #ccc;\n                padding: 0.5rem 1.65rem;\n            }\n\n            .disabled {\n                opacity: 0.2;\n                pointer-events: none;\n            }\n\n            .active {\n                font-size: 1.25rem;\n                opacity: 1;\n                color: #d81b60;\n            }\n        `,\n    ],\n})\nexport class StaffListingComponent extends AsyncHandler {\n    public active_group = '#';\n\n    public readonly groups = CHARS;\n    public readonly events = this._state.user_events;\n    public readonly loading = this._state.loading;\n\n    public readonly user_count = this._state.filtered_users.pipe(\n        map((list) => list.length)\n    );\n\n    public readonly user_list = this._state.filtered_users.pipe(\n        map((list) => {\n            const user_map = {};\n            for (const char of CHARS) {\n                user_map[char] = (list || []).filter(\n                    (user) =>\n                        user.name.toLowerCase()[0].startsWith(char) ||\n                        (char === '#' &&\n                            !CHARS.includes(user.name.toLowerCase()[0]))\n                );\n            }\n            this.timeout('scroll', () => this.onScroll({}), 30);\n            return user_map;\n        })\n    );\n\n    @ViewChild('container') private _el: ElementRef<HTMLDivElement>;\n\n    constructor(private _state: StaffStateService) {\n        super();\n    }\n\n    public onScroll(_) {\n        const scroll_top = this._el.nativeElement.scrollTop;\n        for (const group of CHARS) {\n            const el: HTMLDivElement = document.querySelector(\n                `#letter-${group === '#' ? '0' : group}`\n            );\n            if (el) {\n                if (el.offsetTop - scroll_top > 0) {\n                    break;\n                }\n                this.active_group = group;\n            }\n        }\n    }\n\n    public scrollTo(group: string) {\n        const el = document.querySelector(`#letter-${group}-0`);\n        if (el) {\n            el.scrollIntoView({ behavior: 'smooth', block: 'center' });\n            this.active_group = group;\n        }\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { searchStaff, StaffUser } from '@placeos/users';\nimport { BehaviorSubject, combineLatest } from 'rxjs';\n\nimport {\n    Booking,\n    checkinBooking,\n    queryBookings,\n    saveBooking,\n} from '@placeos/bookings';\nimport { map, shareReplay, switchMap } from 'rxjs/operators';\nimport { endOfDay, getUnixTime, startOfDay } from 'date-fns';\nimport { AsyncHandler, timePeriodsIntersect } from '@placeos/common';\nimport { HashMap } from '@placeos/ts-client/dist/esm/utilities/types';\nimport { OrganisationService } from '@placeos/organisation';\n\nexport interface StaffFilters {\n    date?: number;\n    zones?: string[];\n    only_onsite?: boolean;\n}\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class StaffStateService extends AsyncHandler {\n    private _onsite: HashMap<boolean> = {};\n    private _events: HashMap<Booking> = {};\n\n    private _filters = new BehaviorSubject<StaffFilters>({});\n\n    private _search = new BehaviorSubject<string>('');\n\n    private _loading = new BehaviorSubject<boolean>(false);\n\n    private _users = new BehaviorSubject<StaffUser[]>([]);\n\n    public readonly loading = this._loading.asObservable();\n\n    public readonly filters = this._filters.asObservable();\n\n    public readonly users = this._filters.asObservable();\n\n    public readonly filtered_users = combineLatest([\n        this._search,\n        this._users,\n        this._filters,\n    ]).pipe(\n        map((details) => {\n            const [filter, users, options] = details;\n            return users.filter(\n                (i) =>\n                    (!filter ||\n                        i.name.toLowerCase().includes(filter) ||\n                        i.email.toLowerCase().includes(filter)) &&\n                    (!options.only_onsite || this._onsite[i.email])\n            );\n        })\n    );\n\n    public readonly user_events = combineLatest([this._filters]).pipe(\n        switchMap(async (_) => {\n            this._loading.next(true);\n            const bookings = await queryBookings({\n                period_start: getUnixTime(startOfDay(Date.now())),\n                period_end: getUnixTime(endOfDay(Date.now())),\n                type: 'staff',\n            }).toPromise();\n            const checkin_map = {};\n            const now = new Date().valueOf();\n            for (const bkn of bookings) {\n                if (\n                    timePeriodsIntersect(\n                        now,\n                        now,\n                        bkn.date,\n                        bkn.date + bkn.duration * 60 * 1000\n                    )\n                ) {\n                    checkin_map[bkn.asset_id] = bkn.checked_in;\n                    this._events[bkn.asset_id] = bkn;\n                }\n            }\n            this._onsite = checkin_map;\n            this._loading.next(false);\n            return checkin_map;\n        }),\n        shareReplay(1)\n    );\n\n    constructor(private _org: OrganisationService) {\n        super();\n        this.loadUsers();\n        this.user_events.subscribe();\n    }\n\n    public setFilters(filters: StaffFilters) {\n        this._filters.next({ ...this._filters.getValue(), ...filters });\n    }\n\n    public setSearchString(search: string) {\n        this._search.next(search);\n    }\n\n    public startPolling(delay: number = 30 * 1000) {\n        this.setFilters(this._filters.getValue());\n        this.interval(\n            'poll',\n            () => this.setFilters(this._filters.getValue()),\n            delay\n        );\n    }\n\n    public stopPolling() {\n        this.clearInterval('poll');\n    }\n\n    public async checkin(user: StaffUser) {\n        const result = await saveBooking({\n            booking_start: Math.floor(new Date().valueOf() / 1000),\n            booking_end: Math.floor(endOfDay(new Date()).valueOf() / 1000),\n            asset_id: user.email,\n            title: 'Checked-in Onsite',\n            description:\n                this._org.building.display_name || this._org.building.name,\n            zones: [this._org.building.id],\n            booking_type: 'staff',\n        } as any).toPromise();\n        await checkinBooking(result.id, true).toPromise();\n        this._events[user.email] = result;\n        this._onsite[user.email] = true;\n    }\n\n    public async checkout(user: StaffUser) {\n        const event = this._events[user.email];\n        if (event) {\n            const result = await saveBooking({\n                ...event.toJSON(),\n                booking_end: Math.floor(new Date().valueOf() / 1000),\n            } as any).toPromise();\n            await checkinBooking(result.id, false).toPromise();\n            this._events[user.email] = result;\n            this._onsite[user.email] = false;\n        }\n    }\n\n    private async loadUsers() {\n        const user_list = await searchStaff('').toPromise();\n        user_list.sort((a, b) => a.name.localeCompare(b.name));\n        this._users.next(user_list);\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { first } from 'rxjs/operators';\n\nimport { AsyncHandler } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { StaffStateService } from './staff-state.service';\n\n@Component({\n    selector: 'staff-topbar',\n    template: `\n        <div\n            class=\"flex items-center bg-base-100 h-20 px-4 border-b border-base-200 space-x-2\"\n        >\n            <mat-form-field appearance=\"outline\">\n                <mat-select\n                    multiple\n                    [(ngModel)]=\"zones\"\n                    (ngModelChange)=\"updateZones($event)\"\n                    placeholder=\"All Levels\"\n                >\n                    <mat-option\n                        *ngFor=\"let level of levels | async\"\n                        [value]=\"level.id\"\n                    >\n                        {{ level.display_name || level.name }}\n                    </mat-option>\n                </mat-select>\n            </mat-form-field>\n            <mat-slide-toggle\n                class=\"m-2\"\n                [ngModel]=\"(filters | async)?.only_onsite\"\n                (ngModelChange)=\"setFilters({ only_onsite: $event })\"\n                ><div class=\"text-xs\">Onsite Only</div></mat-slide-toggle\n            >\n            <div class=\"flex-1 w-2\"></div>\n            <searchbar\n                class=\"mr-2\"\n                (modelChange)=\"setSearch($event)\"\n            ></searchbar>\n        </div>\n    `,\n    styles: [\n        `\n            mat-form-field {\n                height: 3.25em;\n                width: 8em;\n            }\n        `,\n    ],\n})\nexport class StaffTopbarComponent extends AsyncHandler implements OnInit {\n    /** List of selected levels */\n    public zones: string[] = [];\n    /** List of levels for the active building */\n    public readonly levels = this._org.active_levels;\n\n    public readonly filters = this._state.filters;\n    /** Set filtered date */\n    public readonly setDate = (date) => this._state.setFilters({ date });\n    /** Set filtered date */\n    public readonly setFilters = (filters) => this._state.setFilters(filters);\n    /** Set filter string */\n    public readonly setSearch = (str) => this._state.setSearchString(str);\n    /** Update active zones for desks */\n    public readonly updateZones = (zones) => {\n        this._router.navigate([], {\n            relativeTo: this._route,\n            queryParams: { zone_ids: zones.join(',') },\n        });\n        this._state.setFilters({ zones });\n    };\n\n    constructor(\n        private _state: StaffStateService,\n        private _org: OrganisationService,\n        private _route: ActivatedRoute,\n        private _router: Router\n    ) {\n        super();\n    }\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _)).toPromise();\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((params) => {\n                if (params.has('zone_ids')) {\n                    const zones = params.get('zone_ids').split(',');\n                    if (zones.length) {\n                        const level = this._org.levelWithID(zones);\n                        if (!level) {\n                            return;\n                        }\n                        this._org.building = this._org.buildings.find(\n                            (bld) => bld.id === level.parent_id\n                        );\n                        this.zones = zones;\n                    }\n                }\n            })\n        );\n        this.subscription(\n            'levels',\n            this._org.active_levels.subscribe((levels) => {\n                this.zones = this.zones.filter((zone) =>\n                    levels.find((lvl) => lvl.id === zone)\n                );\n                if (!this.zones.length && levels.length) {\n                    this.zones.push(levels[0].id);\n                }\n                this.updateZones(this.zones);\n            })\n        );\n        this.setSearch('');\n    }\n}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\n\nimport { StaffStateService } from './staff-state.service';\n\n@Component({\n    selector: '[app-staff]',\n    template: `\n        <sidebar></sidebar>\n        <main class=\"relative overflow-hidden flex-1 flex flex-col\">\n            <staff-topbar class=\"w-full\"></staff-topbar>\n            <staff-listings class=\"w-full flex-1 h-0\"></staff-listings>\n            <mat-progress-bar\n                class=\"w-full\"\n                *ngIf=\"loading | async\"\n                mode=\"indeterminate\"\n            ></mat-progress-bar>\n        </main>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                height: 100%;\n                width: 100%;\n                background: var(--b1);\n            }\n        `,\n    ],\n})\nexport class StaffComponent implements OnInit, OnDestroy {\n    public readonly loading = this._state.loading;\n\n    constructor(private _state: StaffStateService) {}\n\n    public ngOnInit() {\n        this._state.startPolling();\n    }\n\n    public ngOnDestroy() {\n        this._state.stopPolling();\n    }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule, Route } from '@angular/router';\n\nimport { StaffComponent } from './staff.component';\nimport { StaffTopbarComponent } from './staff-topbar.component';\nimport { StaffListingComponent } from './staff-listing.component';\nimport { StaffDetailsComponent } from './staff-details.component';\nimport { UIModule } from '../ui/ui.module';\nimport { NewStaffComponent } from './new-staff.component';\nimport { EmergencyContactsComponent } from './emergency-contacts.component';\nimport { EmergencyContactModalComponent } from './emergency-contact-modal.component';\nimport { RoleManagementModalComponent } from './role-management-modal.component';\n\nconst ROUTES: Route[] = [\n    { path: '', component: StaffComponent },\n    { path: 'new', component: NewStaffComponent },\n    { path: 'emergency-contacts', component: EmergencyContactsComponent },\n];\n\nexport const COMPONENTS: Type<any>[] = [\n    NewStaffComponent,\n    StaffComponent,\n    StaffTopbarComponent,\n    StaffListingComponent,\n    StaffDetailsComponent,\n    EmergencyContactsComponent,\n    EmergencyContactModalComponent,\n    RoleManagementModalComponent,\n];\n\n@NgModule({\n    declarations: [...COMPONENTS],\n    imports: [\n        CommonModule,\n        FormsModule,\n        UIModule,\n        RouterModule.forChild(ROUTES),\n    ],\n})\nexport class StaffModule {}\n","export * from './lib/bookings.module';\nexport * from './lib/booking-form.service';\nexport * from './lib/booking.class';\nexport * from './lib/booking.utilities';\nexport * from './lib/bookings.fn';\nexport * from './lib/bookings.module';\nexport * from './lib/desk.service';\nexport * from './lib/lockers.service';\nexport * from './lib/booking-details-modal.component';\nexport * from './lib/booking-card.component';\nexport * from './lib/parking-select-modal/parking-select-modal.component';\n\nexport * from './lib/parking.service';\n","import { Injectable } from '@angular/core';\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\nimport {\n    currentUser,\n    DialogEvent,\n    notifyError,\n    notifySuccess,\n} from '@placeos/common';\nimport { endOfDay, getUnixTime, startOfDay } from 'date-fns';\nimport { first, map } from 'rxjs/operators';\n\nimport { OrganisationService } from 'libs/organisation/src/lib/organisation.service';\nimport { Desk } from 'libs/organisation/src/lib/desk.class';\nimport { StaffUser, User } from 'libs/users/src/lib/user.class';\n\nimport { queryBookings, saveBooking } from './bookings.fn';\nimport { DeskConfirmModalComponent } from './desk-confirm-modal.component';\nimport { DeskQuestionsModalComponent } from './desk-questions-modal.component';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class DesksService {\n    public can_set_date = true;\n    public error_on_host = true;\n\n    constructor(\n        private _org: OrganisationService,\n        private _dialog: MatDialog\n    ) {}\n\n    public async bookDesk({\n        desks,\n        host,\n        reason,\n        attendees,\n        date,\n    }: {\n        desks: Desk[];\n        host?: StaffUser;\n        attendees?: User[];\n        reason?: string;\n        date?: Date;\n    }) {\n        if (this.error_on_host && !host) {\n            return notifyError('You need to select a host to book a desk.');\n        } else {\n            host = host || currentUser();\n        }\n        reason = reason || '';\n        const level = this._org.levelWithID(\n            desks[0].zone instanceof Array ? desks[0].zone : [desks[0].zone?.id]\n        );\n        let ref: MatDialogRef<any> = this._dialog.open(\n            DeskQuestionsModalComponent\n        );\n        let success = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_: DialogEvent) => _.reason === 'done'))\n                .toPromise(),\n            ref\n                .afterClosed()\n                .pipe(map((_) => null))\n                .toPromise(),\n        ]);\n        if (!success) return;\n        ref.close();\n        ref = this._dialog.open(DeskConfirmModalComponent, {\n            data: {\n                host,\n                desks,\n                date: date ? new Date(date) : new Date(),\n                reason,\n                level,\n                can_set_date: this.can_set_date,\n            },\n        });\n        success = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_: DialogEvent) => _.reason === 'done'))\n                .toPromise(),\n            ref\n                .afterClosed()\n                .pipe(map((_) => null))\n                .toPromise(),\n        ]);\n        if (!success) return;\n        host = ref.componentInstance.host || host;\n        date = ref.componentInstance.date || date;\n        reason = ref.componentInstance.reason || reason;\n        if (!host) {\n            ref.close();\n            return notifyError('You need to select a host to book a desk. ');\n        }\n        ref.componentInstance.loading =\n            'Checking for existing desk bookings...';\n        const bookings = await queryBookings({\n            type: 'desk',\n            period_start: getUnixTime(startOfDay(date || new Date())),\n            period_end: getUnixTime(endOfDay(date || new Date())),\n        }).toPromise();\n        const desk_list = bookings.filter(\n            (d) => d.user_email.toLowerCase() === host.email.toLowerCase()\n        );\n        if (desk_list?.length) {\n            ref.close();\n            return notifyError(\n                'You currently already have a desk booked for the selected date.'\n            );\n        }\n        ref.componentInstance.loading = 'Booking desk...';\n        const users = [host, ...(attendees || [])];\n        await Promise.all([\n            desks.map((desk, idx) =>\n                this.makeDeskBooking(\n                    desk,\n                    host,\n                    date.valueOf() || new Date().valueOf(),\n                    reason,\n                    users[idx]\n                )\n            ),\n        ]);\n        notifySuccess('Successfully booked desk');\n        ref.close();\n        return true;\n    }\n\n    private async makeDeskBooking(\n        desk: Desk,\n        host: StaffUser,\n        date: number,\n        reason: string,\n        for_user: User = null\n    ) {\n        const location = `${desk.zone?.name}-${desk.id}`;\n        const level = this._org.levelWithID(\n            desk.zone instanceof Array ? desk.zone : [desk.zone?.id]\n        );\n        const zones = desk.zone?.id\n            ? [desk.zone?.id, level?.parent_id]\n            : [level?.parent_id];\n        const booking_data = {\n            booking_start: getUnixTime(startOfDay(date)),\n            user_id: for_user?.id || host.id,\n            user_name: for_user?.name || host.name,\n            user_email: for_user?.email || host.email,\n            booking_end: Math.floor(endOfDay(date).valueOf() / 1000),\n            asset_id: desk.id,\n            asset_name: desk.name,\n            title: reason,\n            description: location,\n            zones,\n            booking_type: 'desk',\n            extension_data: {\n                map_id: desk?.map_id || desk?.id,\n                groups: desk.groups,\n                for_user: for_user?.email,\n            },\n        };\n        return saveBooking(booking_data as any).toPromise();\n    }\n}\n","export * from './lib/users.module';\nexport * from './lib/new-user-modal.component';\nexport * from './lib/find-availability-modal/find-availability-modal.component';\nexport * from './lib/user-form.component';\nexport * from './lib/location.class';\nexport * from './lib/user.class';\nexport * from './lib/user.utilities';\nexport * from './lib/users.module';\nexport * from './lib/guests.fn';\nexport * from './lib/staff.fn';\n","import { HashMap } from '@placeos/common';\nimport { getUnixTime } from 'date-fns';\n\nexport class MapLocation {\n    /** Source that the location was generated */\n    public type: 'desk' | 'wireless' | 'meeting' | 'other';\n    /** Details of the location */\n    public position: string | { x: number, y: number };\n    /** Accuracy of the location data */\n    public variance: number;\n    /** Unix epoch in seconds that the data was last updated */\n    public last_seen: number;\n    /** ID of the level associated with the location */\n    public level: string;\n    /** ID of the building associated with the location */\n    public building: string;\n    /** Whether user is currently at the location if fixed */\n    public at_location: boolean;\n    /**  */\n    public coordinates_from:\n        | 'top-left'\n        | 'top-right'\n        | 'bottom-left'\n        | 'bottom-right';\n\n    constructor(_data: HashMap = {}) {\n        this.type = _data.type || _data.location || 'other';\n        this.position = _data.position ||\n            _data.map_id || _data.asset_id || {\n                x: _data.x / _data.map_width || 0,\n                y: _data.y / _data.map_height || 0,\n            };\n        this.variance = _data.variance || 0;\n        this.last_seen = _data.last_seen || getUnixTime(new Date());\n        this.level = _data.level;\n        this.building = _data.building;\n        this.at_location = !!_data.at_location;\n        this.coordinates_from = _data.coordinates_from || 'top-left';\n    }\n}\n"],"names":["MAT_DIALOG_DATA","MatDialogRef","FormControl","FormGroup","OrganisationService","showMetadata","updateMetadata","BehaviorSubject","combineLatest","filter","map","shareReplay","switchMap","take","notifySuccess","randomString","CustomTooltipComponent","i0","elementStart","text","elementEnd","property","level_r3","id","advance","textInterpolate1","display_name","name","role_r4","elementContainerStart","template","EmergencyContactModalComponent_main_5_ng_container_34_mat_option_1_Template","listener","EmergencyContactModalComponent_main_5_Template_a_user_search_field_ngModelChange_2_listener","$event","restoreView","_r1","ctx_r1","nextContext","resetView","setUser","element","EmergencyContactModalComponent_main_5_mat_option_26_Template","EmergencyContactModalComponent_main_5_ng_container_34_Template","form","pureFunction0","_c0","pipeBind1","levels","tmp_6_0","data","roles","_c1","role_form_r5","EmergencyContactModalComponent_footer_6_Template_button_click_1_listener","_r6","save","twoWayListener","EmergencyContactModalComponent_ng_template_9_Template_input_ngModelChange_2_listener","_r7","twoWayBindingSet","role_name","EmergencyContactModalComponent_ng_template_9_Template_button_click_3_listener","addRole","twoWayProperty","EmergencyContactModalComponent","constructor","_data","_dialog_ref","_org","_changes","loading","contact","active_building","pipe","bld","details","contacts","email","phone","zone","active_levels","_this","_asyncToGenerator","_tooltip","close","disableClose","toPromise","building","description","_","next","patchValue","value","user","_this2","new_contacts","sort","a","b","localeCompare","directiveInject","i1","i2","_2","selectors","viewQuery","EmergencyContactModalComponent_Query","rf","ctx","EmergencyContactModalComponent_button_4_Template","EmergencyContactModalComponent_main_5_Template","EmergencyContactModalComponent_footer_6_Template","EmergencyContactModalComponent_ng_template_7_Template","templateRefExtractor","EmergencyContactModalComponent_ng_template_9_Template","load_state_r8","MatDialog","openConfirmModal","RoleManagementModalComponent","Clipboard","role_r2","EmergencyContactsComponent_ng_template_32_Template_button_click_0_listener","row_r4","_r3","row","ctx_r4","copyToClipboard","textInterpolate","role_r6","EmergencyContactsComponent_ng_template_34_span_1_Template","data_r7","data_r8","EmergencyContactsComponent_ng_template_38_Template_button_click_1_listener","row_r10","_r9","editContact","EmergencyContactsComponent_ng_template_38_Template_button_click_4_listener","removeContact","EmergencyContactsComponent","_dialog","_clipboard","_change","search","role_filter","filtered_contacts","list","role","includes","success","copy","ngOnInit","manageRoles","ref","open","afterClosed","subscribe","Date","now","result","title","content","icon","reason","i3","attrs","decls","vars","consts","template","EmergencyContactsComponent_Template","EmergencyContactsComponent_Template_input_ngModelChange_12_listener","EmergencyContactsComponent_Template_button_click_13_listener","EmergencyContactsComponent_Template_mat_select_ngModelChange_20_listener","EmergencyContactsComponent_mat_option_23_Template","EmergencyContactsComponent_Template_button_click_26_listener","EmergencyContactsComponent_ng_template_32_Template","EmergencyContactsComponent_ng_template_34_Template","EmergencyContactsComponent_ng_template_36_Template","EmergencyContactsComponent_ng_template_38_Template","getValue","pureFunction4","_c6","pureFunction1","_c2","person_template_r11","_c3","roles_template_r12","_c4","zone_template_r13","_c5","actions_template_r14","StaffStateService","NewStaffComponent","_state","startPolling","ngOnDestroy","stopPolling","NewStaffComponent_Template","NewStaffComponent_mat_progress_bar_6_Template","RoleManagementModalComponent_ng_container_12_Template_button_click_4_listener","role_r3","_r2","$implicit","ctx_r3","active","RoleManagementModalComponent_ng_container_12_Template_button_click_7_listener","removeRole","RoleManagementModalComponent_ng_template_14_Template_input_ngModelChange_2_listener","RoleManagementModalComponent_ng_template_14_Template_button_click_3_listener","updateRoles","r","RoleManagementModalComponent_Query","RoleManagementModalComponent_Template_button_click_7_listener","RoleManagementModalComponent_ng_container_12_Template","RoleManagementModalComponent_ng_template_14_Template","notifyError","StaffUser","StaffDetailsComponent_div_0_div_7_Template","StaffDetailsComponent_div_0_Template_action_icon_click_9_listener","onsite","checkout","checkin","sanitizeUrl","StaffDetailsComponent","catch","e","inputs","StaffDetailsComponent_Template","StaffDetailsComponent_div_0_Template","ElementRef","AsyncHandler","StaffListingComponent_div_1_Template_div_click_0_listener","group_r3","scrollTo","classProp","user_list","length","active_group","group_r7","i_r6","user_r5","events","StaffListingComponent_ng_container_4_ng_container_1_ng_container_1_staff_details_3_Template","StaffListingComponent_ng_container_4_ng_container_1_ng_container_1_Template","StaffListingComponent_ng_container_4_ng_container_1_Template","groups","CHARS","split","StaffListingComponent","user_events","user_count","filtered_users","user_map","char","toLowerCase","startsWith","timeout","onScroll","scroll_top","_el","nativeElement","scrollTop","group","el","document","querySelector","offsetTop","scrollIntoView","behavior","block","StaffListingComponent_Query","StaffListingComponent_div_1_Template","StaffListingComponent_Template_div_scroll_2_listener","StaffListingComponent_ng_container_4_Template","StaffListingComponent_mat_progress_bar_6_Template","StaffListingComponent_ng_template_8_Template","empty_state_r8","searchStaff","checkinBooking","queryBookings","saveBooking","endOfDay","getUnixTime","startOfDay","timePeriodsIntersect","this","_onsite","_events","_filters","_search","_loading","_users","asObservable","filters","users","options","i","only_onsite","_ref","bookings","period_start","period_end","type","checkin_map","valueOf","bkn","date","duration","asset_id","checked_in","_x","apply","arguments","loadUsers","setFilters","setSearchString","delay","interval","clearInterval","booking_start","Math","floor","booking_end","zones","booking_type","_this3","event","toJSON","_this4","inject","factory","fac","providedIn","ActivatedRoute","Router","first","level_r1","StaffTopbarComponent","_route","_router","setDate","setSearch","str","updateZones","navigate","relativeTo","queryParams","zone_ids","join","initialised","subscription","queryParamMap","params","has","get","level","levelWithID","buildings","find","parent_id","lvl","push","features","InheritDefinitionFeature","StaffTopbarComponent_Template","StaffTopbarComponent_Template_mat_select_ngModelChange_2_listener","StaffTopbarComponent_mat_option_3_Template","StaffTopbarComponent_Template_mat_slide_toggle_ngModelChange_5_listener","StaffTopbarComponent_Template_searchbar_modelChange_10_listener","tmp_2_0","StaffComponent","StaffComponent_Template","StaffComponent_mat_progress_bar_4_Template","CommonModule","Type","FormsModule","RouterModule","UIModule","ROUTES","path","component","COMPONENTS","StaffModule","_3","forChild","declarations","imports","currentUser","DeskConfirmModalComponent","DeskQuestionsModalComponent","DesksService","can_set_date","error_on_host","bookDesk","desks","host","attendees","Array","Promise","race","componentInstance","desk_list","d","user_email","all","desk","idx","makeDeskBooking","for_user","location","booking_data","user_id","user_name","asset_name","extension_data","map_id","MapLocation","position","x","map_width","y","map_height","variance","last_seen","at_location","coordinates_from"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}