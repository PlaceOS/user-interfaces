(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{kanD:function(t,e,n){"use strict";n.r(e),n.d(e,"COMPONENTS",(function(){return G})),n.d(e,"StaffModule",(function(){return X}));var i=n("2kYt"),s=n("nIj0"),o=n("sEIs"),r=n("EM62"),c=n("D57K"),a=n("C05f"),l=n("HM3f"),f=n("YtkY"),b=n("TLy2"),u=n("wqq/"),d=n("9MvL"),h=n("KuCG"),m=n("20lr"),p=n("mjT4"),g=n("05Mk"),v=n("dJst");let _=(()=>{class t extends m.c{constructor(t,e,n){super(),this._staff=t,this._bookings=e,this._org=n,this._onsite={},this._events={},this._filters=new a.a({}),this._search=new a.a(""),this._loading=new a.a(!1),this._users=new a.a([]),this.loading=this._loading.asObservable(),this.filters=this._filters.asObservable(),this.users=this._filters.asObservable(),this.filtered_users=Object(l.b)([this._search,this._users,this._filters]).pipe(Object(f.a)(t=>{const[e,n,i]=t;return n.filter(t=>(!e||t.name.toLowerCase().includes(e)||t.email.toLowerCase().includes(e))&&(!i.only_onsite||this._onsite[t.email]))})),this.user_events=Object(l.b)([this._filters]).pipe(Object(b.a)(t=>Object(c.a)(this,void 0,void 0,(function*(){this._loading.next(!0);const t=yield this._bookings.query({period_start:Math.floor(Object(d.a)(new Date).valueOf()/1e3),period_end:Math.floor(Object(h.a)(new Date).valueOf()/1e3),type:"staff"}),e={},n=(new Date).valueOf();for(const i of t)Object(m.v)(n,n,i.date,i.date+60*i.duration*1e3)&&(e[i.asset_id]=i.checked_in,this._events[i.asset_id]=i);return this._onsite=e,this._loading.next(!1),e}))),Object(u.a)()),this.loadUsers()}setFilters(t){this._filters.next(Object.assign(Object.assign({},this._filters.getValue()),t))}setSearchString(t){this._search.next(t)}startPolling(t=3e4){this.setFilters(this._filters.getValue()),this.interval("poll",()=>this.setFilters(this._filters.getValue()),t)}stopPolling(){this.clearInterval("poll")}checkin(t){return Object(c.a)(this,void 0,void 0,(function*(){const e=yield this._bookings.save({booking_start:Math.floor((new Date).valueOf()/1e3),booking_end:Math.floor(Object(h.a)(new Date).valueOf()/1e3),asset_id:t.email,title:"Checked-in Onsite",description:this._org.building.display_name||this._org.building.name,zones:[this._org.building.id],booking_type:"staff"});yield this._bookings.checkIn(e,!0),this._events[t.email]=e,this._onsite[t.email]=!0}))}checkout(t){return Object(c.a)(this,void 0,void 0,(function*(){const e=this._events[t.email];if(e){const n=yield this._bookings.update(e.id,Object.assign(Object.assign({},e.toJSON()),{booking_end:Math.floor((new Date).valueOf()/1e3)}));yield this._bookings.checkIn(n,!1),this._events[t.email]=n,this._onsite[t.email]=!1}}))}loadUsers(){return Object(c.a)(this,void 0,void 0,(function*(){const t=yield this._staff.query();t.sort((t,e)=>t.name.localeCompare(e.name)),this._users.next(t)}))}}return t.\u0275fac=function(e){return new(e||t)(r.cc(p.c),r.cc(g.a),r.cc(v.c))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var y=n("UfDH"),O=n("jOdJ"),k=n("29Wa"),x=n("R7+U"),w=n("k8N0"),V=n("wobF"),U=n("mFH5");function j(t,e){if(1&t&&(r.Vb(0,"mat-option",7),r.Lc(1),r.Ub()),2&t){const t=e.$implicit;r.pc("value",t.id),r.Db(1),r.Nc(" ",t.display_name||t.name," ")}}let D=(()=>{class t extends m.c{constructor(t,e,n,i){super(),this._state=t,this._org=e,this._route=n,this._router=i,this.zones=[],this.levels=this._org.active_levels,this.filters=this._state.filters,this.setDate=t=>this._state.setFilters({date:t}),this.setFilters=t=>this._state.setFilters(t),this.setSearch=t=>this._state.setSearchString(t),this.updateZones=t=>{this._router.navigate([],{relativeTo:this._route,queryParams:{zone_ids:t.join(",")}}),this._state.setFilters({zones:t})}}ngOnInit(){return Object(c.a)(this,void 0,void 0,(function*(){yield this._org.initialised.pipe(Object(O.a)(t=>t)).toPromise(),this.subscription("route.query",this._route.queryParamMap.subscribe(t=>{if(t.has("zone_ids")){const e=t.get("zone_ids").split(",");if(e.length){const t=this._org.levelWithID(e);if(!t)return;this._org.building=this._org.buildings.find(e=>e.id===t.parent_id),this.zones=e}}})),this.subscription("levels",this._org.active_levels.subscribe(t=>{this.zones=this.zones.filter(e=>t.find(t=>t.id===e)),!this.zones.length&&t.length&&this.zones.push(t[0].id),this.updateZones(this.zones)})),this.setSearch("")}))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(_),r.Pb(v.c),r.Pb(o.a),r.Pb(o.d))},t.\u0275cmp=r.Jb({type:t,selectors:[["staff-topbar"]],features:[r.Ab],decls:10,vars:7,consts:[["appearance","outline"],["multiple","","placeholder","All Levels",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"m-2",3,"ngModel","ngModelChange"],[1,"text-xs"],[1,"flex-1","w-2"],[1,"mr-2",3,"modelChange"],[3,"value"]],template:function(t,e){if(1&t&&(r.Vb(0,"mat-form-field",0),r.Vb(1,"mat-select",1),r.fc("ngModelChange",(function(t){return e.zones=t}))("ngModelChange",(function(t){return e.updateZones(t)})),r.Jc(2,j,2,2,"mat-option",2),r.kc(3,"async"),r.Ub(),r.Ub(),r.Vb(4,"mat-slide-toggle",3),r.fc("ngModelChange",(function(t){return e.setFilters({only_onsite:t})})),r.kc(5,"async"),r.Vb(6,"div",4),r.Lc(7,"Onsite Only"),r.Ub(),r.Ub(),r.Qb(8,"div",5),r.Vb(9,"searchbar",6),r.fc("modelChange",(function(t){return e.setSearch(t)})),r.Ub()),2&t){let t=null;r.Db(1),r.pc("ngModel",e.zones),r.Db(1),r.pc("ngForOf",r.lc(3,3,e.levels)),r.Db(2),r.pc("ngModel",null==(t=r.lc(5,5,e.filters))?null:t.only_onsite)}},directives:[k.c,x.a,s.l,s.o,i.m,w.a,V.a,U.j],pipes:[i.b],styles:["[_nghost-%COMP%] {\n                display: flex;\n                align-items: center;\n                background-color: #fff;\n                height: 5em;\n                padding: 0 1em;\n                border-bottom: 1px solid #ccc;\n            }\n\n            [_nghost-%COMP%]    > *[_ngcontent-%COMP%]    + *[_ngcontent-%COMP%] {\n                margin-left: 0.5rem;\n            }\n\n            mat-form-field[_ngcontent-%COMP%] {\n                height: 3.25em;\n                width: 8em;\n            }"]}),t})();var M=n("FGQ9"),C=n("ZnXB"),I=n("Y2X+"),P=n("PBFl"),L=n("ukpX");function J(t,e){1&t&&(r.Vb(0,"div",11),r.Lc(1,"Onsite"),r.Ub())}let F=(()=>{class t{constructor(t){this._state=t,this.checkin=()=>Object(c.a)(this,void 0,void 0,(function*(){this.loading=!0,yield this._state.checkin(this.user).catch(t=>Object(m.l)("Error checking in Staff member")),this.loading=!1})),this.checkout=()=>Object(c.a)(this,void 0,void 0,(function*(){this.loading=!0,yield this._state.checkout(this.user).catch(t=>Object(m.l)("Error checking out Staff member")),this.loading=!1}))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(_))},t.\u0275cmp=r.Jb({type:t,selectors:[["staff-details"]],inputs:{user:"user",onsite:"onsite"},decls:16,vars:11,consts:[[1,"w-full","flex","items-center","px-4","py-2","bg-white","border-b","border-gray-200"],[3,"user"],[1,"flex","flex-col","flex-1"],[1,"px-2"],[1,"px-2","text-xs","text-opacity-50"],["class","text-xs opacity-50 px-4",4,"ngIf"],[1,"flex","items-center"],["className","material-icons",3,"matTooltip","loading","content","click"],["mat-icon-button","","matTooltip","Email Staff",3,"disabled","href"],["className","material-icons"],["mat-icon-button","","matTooltip","Phone Staff",3,"disabled","href"],[1,"text-xs","opacity-50","px-4"]],template:function(t,e){1&t&&(r.Vb(0,"div",0),r.Qb(1,"a-user-avatar",1),r.Vb(2,"div",2),r.Vb(3,"div",3),r.Lc(4),r.Ub(),r.Vb(5,"div",4),r.Lc(6),r.Ub(),r.Ub(),r.Jc(7,J,2,0,"div",5),r.Vb(8,"div",6),r.Vb(9,"action-icon",7),r.fc("click",(function(){return e.onsite?e.checkout():e.checkin()})),r.Ub(),r.Vb(10,"a",8),r.Vb(11,"app-icon",9),r.Lc(12,"email"),r.Ub(),r.Ub(),r.Vb(13,"a",10),r.Vb(14,"app-icon",9),r.Lc(15,"call"),r.Ub(),r.Ub(),r.Ub(),r.Ub()),2&t&&(r.Db(1),r.pc("user",e.user),r.Db(3),r.Mc(null==e.user?null:e.user.name),r.Db(2),r.Mc(null==e.user?null:e.user.email),r.Db(1),r.pc("ngIf",e.onsite),r.Db(2),r.pc("matTooltip",e.onsite?"Checkout Staff":"Checkin Staff")("loading",e.loading)("content",e.onsite?"event_busy":"event_available"),r.Db(1),r.pc("disabled",!(null!=e.user&&e.user.email))("href","mailto:"+(null==e.user?null:e.user.email),r.Ac),r.Db(3),r.pc("disabled",!(null!=e.user&&e.user.phone))("href","tel:"+(null==e.user?null:e.user.phone),r.Ac))},directives:[M.a,i.n,C.a,I.a,P.a,L.a],styles:["[_nghost-%COMP%]    > div[_ngcontent-%COMP%]:hover {\n            background-color: #f0f0f0 !important;\n        }"]}),t})();var S=n("66mq");const z=["container"];function N(t,e){if(1&t){const t=r.Wb();r.Vb(0,"div",7),r.fc("click",(function(){r.yc(t);const n=e.$implicit;return r.jc().scrollTo(n)})),r.kc(1,"async"),r.Lc(2),r.Ub()}if(2&t){const t=e.$implicit,n=r.jc();r.Hb("disabled",r.lc(1,5,n.user_list)[t].length<=0)("active",t===n.active_group),r.Db(2),r.Nc(" ",t," ")}}function q(t,e){if(1&t&&(r.Qb(0,"staff-details",12),r.kc(1,"async"),r.kc(2,"async")),2&t){const t=e.$implicit,n=e.index,i=r.jc(2).$implicit,s=r.jc(2);r.pc("id","letter-"+i+"-"+n)("user",t)("onsite",!!r.lc(1,3,s.events)&&r.lc(2,5,s.events)[t.email])}}function T(t,e){if(1&t&&(r.Tb(0),r.Vb(1,"div",10),r.Lc(2),r.Ub(),r.Jc(3,q,3,7,"staff-details",11),r.kc(4,"async"),r.Sb()),2&t){const t=r.jc().$implicit,e=r.jc(2);r.Db(1),r.pc("id","letter-"+("#"===t?"0":t)),r.Db(1),r.Nc(" ",t," "),r.Db(1),r.pc("ngForOf",r.lc(4,3,e.user_list)[t])}}function Q(t,e){if(1&t&&(r.Tb(0),r.Jc(1,T,5,5,"ng-container",9),r.kc(2,"async"),r.Sb()),2&t){const t=e.$implicit,n=r.jc(2);r.Db(1),r.pc("ngIf",r.lc(2,1,n.user_list)[t].length)}}function E(t,e){if(1&t&&(r.Tb(0),r.Jc(1,Q,3,3,"ng-container",8),r.Sb()),2&t){const t=r.jc();r.Db(1),r.pc("ngForOf",t.groups)}}function H(t,e){1&t&&r.Qb(0,"mat-progress-bar",13)}function A(t,e){1&t&&(r.Vb(0,"div",14),r.Vb(1,"p"),r.Lc(2,"No matching staff members"),r.Ub(),r.Ub())}const $="#abcdefghijklmnopqrstuvwxyz".split("");let K=(()=>{class t extends m.c{constructor(t){super(),this._state=t,this.active_group="#",this.groups=$,this.events=this._state.user_events,this.loading=this._state.loading,this.user_count=this._state.filtered_users.pipe(Object(f.a)(t=>t.length)),this.user_list=this._state.filtered_users.pipe(Object(f.a)(t=>{const e={};for(const n of $)e[n]=(t||[]).filter(t=>t.name.toLowerCase()[0].startsWith(n)||"#"===n&&!$.includes(t.name.toLowerCase()[0]));return this.timeout("scroll",()=>this.onScroll({}),30),e}))}onScroll(t){const e=this._el.nativeElement.scrollTop;for(const n of $){const t=document.querySelector("#letter-"+("#"===n?"0":n));if(t){if(t.offsetTop-e>0)break;this.active_group=n}}}scrollTo(t){const e=document.querySelector(`#letter-${t}-0`);e&&(e.scrollIntoView({behavior:"smooth",block:"center"}),this.active_group=t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(_))},t.\u0275cmp=r.Jb({type:t,selectors:[["staff-listings"]],viewQuery:function(t,e){if(1&t&&r.Pc(z,!0),2&t){let t;r.uc(t=r.gc())&&(e._el=t.first)}},features:[r.Ab],decls:10,vars:8,consts:[[1,"w-full","p-2","flex","items-center","justify-center"],["letter","","class","capitalize h-6 w-6 flex items-center justify-center text-xs cursor-pointer",3,"disabled","active","click",4,"ngFor","ngForOf"],[1,"flex-1","overflow-auto","w-full","relative","bg-gray-100",2,"height","50%",3,"scroll"],["container",""],[4,"ngIf","ngIfElse"],["mode","indeterminate",4,"ngIf"],["empty_state",""],["letter","",1,"capitalize","h-6","w-6","flex","items-center","justify-center","text-xs","cursor-pointer",3,"click"],[4,"ngFor","ngForOf"],[4,"ngIf"],["group","",1,"capitalize","bg-gray-300","border-b","text-sm","font-medium","sticky","top-0","z-10",3,"id"],[3,"id","user","onsite",4,"ngFor","ngForOf"],[3,"id","user","onsite"],["mode","indeterminate"],[1,"absolute","inset-0","flex","flex-col","items-center","justify-center"]],template:function(t,e){if(1&t&&(r.Vb(0,"div",0),r.Jc(1,N,3,7,"div",1),r.Ub(),r.Vb(2,"div",2,3),r.fc("scroll",(function(t){return e.onScroll(t)})),r.Jc(4,E,2,1,"ng-container",4),r.kc(5,"async"),r.Ub(),r.Jc(6,H,1,0,"mat-progress-bar",5),r.kc(7,"async"),r.Jc(8,A,3,0,"ng-template",null,6,r.Kc)),2&t){const t=r.vc(9);r.Db(1),r.pc("ngForOf",e.groups),r.Db(3),r.pc("ngIf",r.lc(5,4,e.user_count))("ngIfElse",t),r.Db(2),r.pc("ngIf",r.lc(7,6,e.loading))}},directives:[i.m,i.n,F,S.a],pipes:[i.b],styles:["[_nghost-%COMP%] {\n                display: flex;\n                flex-direction: column;\n                width: 100%;\n                height: 50%;\n            }\n\n            [letter][_ngcontent-%COMP%] {\n                transition: font-size 200ms, color 200ms;\n            }\n\n            [group][_ngcontent-%COMP%] {\n                border-color: #ccc;\n                padding: 0.5rem 1.65rem;\n            }\n\n            .disabled[_ngcontent-%COMP%] {\n                opacity: 0.2;\n                pointer-events: none;\n            }\n\n            .active[_ngcontent-%COMP%] {\n                font-size: 1.25rem;\n                opacity: 1;\n                color: #d81b60;\n            }"]}),t})();function W(t,e){1&t&&r.Qb(0,"mat-progress-bar",4)}let Y=(()=>{class t{constructor(t){this._state=t,this.loading=this._state.loading}ngOnInit(){this._state.startPolling()}ngOnDestroy(){this._state.stopPolling()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(_))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-staff"]],decls:6,vars:3,consts:[[1,"relative","overflow-hidden","flex-1","flex","flex-col"],[1,"w-full"],[1,"w-full","flex-1","h-0"],["class","w-full","mode","indeterminate",4,"ngIf"],["mode","indeterminate",1,"w-full"]],template:function(t,e){1&t&&(r.Qb(0,"sidebar"),r.Vb(1,"main",0),r.Qb(2,"staff-topbar",1),r.Qb(3,"staff-listings",2),r.Jc(4,W,1,0,"mat-progress-bar",3),r.kc(5,"async"),r.Ub()),2&t&&(r.Db(4),r.pc("ngIf",r.lc(5,1,e.loading)))},directives:[y.a,D,K,i.n,S.a],pipes:[i.b],styles:["[_nghost-%COMP%] {\n                display: flex;\n                height: 100%;\n                width: 100%;\n            }"]}),t})();var Z=n("oRDy");const B=[{path:"",component:Y}],G=[Y,D,K,F];let X=(()=>{class t{}return t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({factory:function(e){return new(e||t)},imports:[[i.c,s.h,Z.a,o.g.forChild(B)]]}),t})()},mjT4:function(t,e,n){"use strict";n.d(e,"a",(function(){return k})),n.d(e,"c",(function(){return x.a})),n.d(e,"b",(function(){return M}));var i=n("MIKl"),s=n("EM62"),o=n("2kYt"),r=n("nIj0"),c=n("29Wa"),a=n("Cd2c"),l=n("+Tre");function f(t,e){1&t&&(s.Vb(0,"mat-error"),s.Lc(1,"Name is required"),s.Ub())}function b(t,e){if(1&t&&(s.Vb(0,"div",4),s.Vb(1,"label",5),s.Lc(2,"Name"),s.Vb(3,"span"),s.Lc(4,"*"),s.Ub(),s.Lc(5,":"),s.Ub(),s.Vb(6,"mat-form-field",6),s.Qb(7,"input",7),s.Jc(8,f,2,0,"mat-error",8),s.Ub(),s.Ub()),2&t){const t=s.jc(2);s.Db(1),s.Hb("error",t.form.controls.name.invalid&&t.form.controls.name.touched),s.Db(7),s.pc("ngIf",t.form.controls.name.invalid)}}function u(t,e){1&t&&(s.Vb(0,"mat-error"),s.Lc(1,"A valid email is required"),s.Ub())}function d(t,e){if(1&t&&(s.Vb(0,"div",4),s.Vb(1,"label",9),s.Lc(2,"Email"),s.Vb(3,"span"),s.Lc(4,"*"),s.Ub(),s.Lc(5,":"),s.Ub(),s.Vb(6,"mat-form-field",6),s.Qb(7,"input",10),s.Jc(8,u,2,0,"mat-error",8),s.Ub(),s.Ub()),2&t){const t=s.jc(2);s.Db(1),s.Hb("error",t.form.controls.email.invalid&&t.form.controls.email.touched),s.Db(7),s.pc("ngIf",t.form.controls.email.invalid)}}function h(t,e){1&t&&(s.Vb(0,"mat-error"),s.Lc(1,"Organisation is required"),s.Ub())}function m(t,e){if(1&t&&(s.Vb(0,"div",4),s.Vb(1,"label",11),s.Lc(2,"Organisation"),s.Vb(3,"span"),s.Lc(4,"*"),s.Ub(),s.Lc(5,":"),s.Ub(),s.Vb(6,"mat-form-field",6),s.Qb(7,"input",12),s.Jc(8,h,2,0,"mat-error",8),s.Ub(),s.Ub()),2&t){const t=s.jc(2);s.Db(1),s.Hb("error",t.form.controls.organisation.invalid&&t.form.controls.organisation.touched),s.Db(7),s.pc("ngIf",t.form.controls.organisation.invalid)}}function p(t,e){1&t&&(s.Vb(0,"mat-error"),s.Lc(1,"Phone format is invalid"),s.Ub())}function g(t,e){if(1&t&&(s.Vb(0,"div",4),s.Vb(1,"label",13),s.Lc(2,"Phone:"),s.Ub(),s.Vb(3,"mat-form-field",6),s.Qb(4,"input",14),s.Jc(5,p,2,0,"mat-error",8),s.Ub(),s.Ub()),2&t){const t=s.jc(2);s.Db(1),s.Hb("error",t.form.controls.phone.invalid&&t.form.controls.phone.touched),s.Db(4),s.pc("ngIf",t.form.controls.phone.invalid)}}function v(t,e){1&t&&(s.Vb(0,"div",4),s.Vb(1,"mat-checkbox",15),s.Lc(2,"Assistance required"),s.Ub(),s.Ub())}function _(t,e){1&t&&(s.Vb(0,"div",4),s.Vb(1,"mat-checkbox",16),s.Lc(2,"Visit expected"),s.Ub(),s.Ub())}function y(t,e){if(1&t&&(s.Vb(0,"div",1),s.Vb(1,"form",2),s.Jc(2,b,9,3,"div",3),s.Jc(3,d,9,3,"div",3),s.Jc(4,m,9,3,"div",3),s.Jc(5,g,6,3,"div",3),s.Jc(6,v,3,0,"div",3),s.Jc(7,_,3,0,"div",3),s.Ub(),s.Ub()),2&t){const t=s.jc();s.Db(1),s.pc("formGroup",t.form),s.Db(1),s.pc("ngIf",t.form.controls.name),s.Db(1),s.pc("ngIf",t.form.controls.email),s.Db(1),s.pc("ngIf",t.form.controls.organisation),s.Db(1),s.pc("ngIf",t.form.controls.phone),s.Db(1),s.pc("ngIf",t.form.controls.assistance_required),s.Db(1),s.pc("ngIf",t.form.controls.visit_expected)}}let O=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Jb({type:t,selectors:[["user-form"]],inputs:{form:"form"},decls:1,vars:1,consts:[["class","user form",4,"ngIf"],[1,"user","form"],[3,"formGroup"],["class","field",4,"ngIf"],[1,"field"],["for","name"],["appearance","outline"],["matInput","","name","name","placeholder","Name","formControlName","name"],[4,"ngIf"],["for","email"],["matInput","","name","email","placeholder","Email Address","formControlName","email"],["for","organisation"],["matInput","","name","organisation","placeholder","Organisation","formControlName","organisation"],["for","phone"],["matInput","","name","phone","placeholder","Phone","formControlName","phone"],["color","primary","formControlName","assistance_required"],["color","primary","formControlName","visit_expected"]],template:function(t,e){1&t&&s.Jc(0,y,8,7,"div",0),2&t&&s.pc("ngIf",e.form)},directives:[o.n,r.r,r.m,r.g,c.c,a.b,r.c,r.l,r.e,c.b,l.a],styles:["label[_ngcontent-%COMP%]{min-width:100%;margin-right:1em;font-weight:700;font-size:.8em;width:100%;margin-top:0;margin-bottom:.5em}label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--pending)}label.error[_ngcontent-%COMP%]{color:var(--error)}.field[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),t})();n("/It1"),n("20lr"),n("xuqh"),n("vobO"),n("mqs+");class k{constructor(t){this.type=t.type||t.location||"other",this.position=t.position||t.map_id||{x:t.x/t.map_width,y:t.y/t.map_height},this.variance=t.variance||0,this.last_seen=t.last_seen||Math.floor((new Date).valueOf()/1e3),this.level=t.level,this.building=t.building,this.at_location=!!t.at_location}}n("D57K");var x=n("Vai6"),w=(n("HTl7"),n("OZ4H")),V=n("Rc+I"),U=n("PBFl"),j=n("ukpX"),D=n("csyo");let M=(()=>{class t{}return t.\u0275mod=s.Nb({type:t}),t.\u0275inj=s.Mb({factory:function(e){return new(e||t)},imports:[[o.c,r.h,r.p,w.f,V.b,l.b]]}),t})();s.Bc(i.a,[w.h,U.b,w.d,j.a,w.e,o.n,O,w.c,D.b],[])}}]);
//# sourceMappingURL=staff-staff-module.bb9f76174717d46bbbf0.js.map