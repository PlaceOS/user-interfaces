{"version":3,"mappings":"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","names":["rf","ctx","MAT_BOTTOM_SHEET_DATA","InjectionToken","constructor","this","data","hasBackdrop","disableClose","ariaLabel","closeOnNavigation","autoFocus","restoreFocus","matBottomSheetAnimations","bottomSheetState","trigger","state","style","transform","transition","animate","AnimationDurations","AnimationCurves","MatBottomSheetContainer","BasePortalOutlet","_elementRef","_changeDetectorRef","_focusTrapFactory","breakpointObserver","document","bottomSheetConfig","super","_animationState","_animationStateChanged","EventEmitter","_elementFocusedBeforeOpened","attachDomPortal","portal","_validatePortalAttached","_setPanelClass","_savePreviouslyFocusedElement","_portalOutlet","_document","_breakpointSubscription","observe","Breakpoints","subscribe","_toggleClass","isMatched","attachComponentPortal","attachTemplatePortal","enter","_destroyed","detectChanges","exit","markForCheck","ngOnDestroy","unsubscribe","_onAnimationDone","event","toState","_restoreFocus","_trapFocus","emit","_onAnimationStart","cssClass","add","classList","nativeElement","remove","hasAttached","element","panelClass","Array","isArray","forEach","_focusTrap","create","focusInitialElementWhenReady","activeElement","_getFocusedElementPierceShadowDom","contains","focus","toFocus","body","destroy","Promise","resolve","then","ɵfac","t","ɵngcc0","ɵngcc1","ɵngcc2","DOCUMENT","MatBottomSheetConfig","ɵcmp","type","selectors","viewQuery","CdkPortalOutlet","_t","first","hostAttrs","hostVars","hostBindings","$event","features","decls","vars","consts","template","MatBottomSheetContainer_ng_template_0_Template","directives","ɵngcc3","styles","encapsulation","animation","MatBottomSheetModule","ɵmod","ɵinj","imports","OverlayModule","MatCommonModule","PortalModule","containerInstance","_overlayRef","_afterDismissed","Subject","_afterOpened","pipe","filter","phaseName","take","next","complete","clearTimeout","_closeFallbackTimeout","dispose","detachments","_result","merge","backdropClick","keydownEvents","keyCode","ESCAPE","hasModifierKey","preventDefault","dismiss","result","closed","setTimeout","totalTime","detachBackdrop","afterDismissed","afterOpened","MAT_BOTTOM_SHEET_DEFAULT_OPTIONS","MatBottomSheet","_overlay","_injector","_parentBottomSheet","_defaultOptions","_bottomSheetRefAtThisLevel","parent","_openedBottomSheetRef","value","open","componentOrTemplateRef","config","_config","defaults","Object","assign","_applyConfigDefaults","overlayRef","_createOverlay","container","_attachContainer","ref","MatBottomSheetRef","TemplateRef","TemplatePortal","$implicit","bottomSheetRef","ComponentPortal","undefined","_createInjector","contentRef","instance","injector","Injector","viewContainerRef","providers","provide","useValue","containerPortal","attach","overlayConfig","OverlayConfig","direction","disposeOnNavigation","maxWidth","scrollStrategy","scrollStrategies","block","positionStrategy","position","global","centerHorizontally","bottom","backdropClass","userInjector","get","Directionality","InjectFlags","push","change","of","ɵngcc4","ɵprov","i0","factory","i1","token","providedIn","dirtyDate","dirtyOptions","requiredArgs","arguments","options","locale","localeWeekStartsOn","weekStartsOn","defaultWeekStartsOn","toInteger","RangeError","date","toDate","day","getDay","diff","setDate","getDate","setHours","dirtyDateLeft","dirtyDateRight","dateLeft","dateRight","getFullYear","getMonth","ScheduleCalendarComponent","startOfDay","Date","now","valueOf","fn","_onChange","_onTouch","ngOnInit","generateDates","setValue","new_value","active_date","offset","writeValue","changeMonth","addMonths","start","startOfWeek","startOfMonth","list","length","id","is_past","isBefore","is_month","isSameMonth","addDays","date_list","NG_VALUE_ACCESSOR","useExisting","forwardRef","multi","ScheduleStateService","BaseClass","BehaviorSubject","shown_types","combineLatest","_date","_poll","switchMap","queryEvents","period_start","getUnixTime","period_end","endOfDay","queryBookings","events","desks","parking","map","e","d","p","sort","a","b","tap","timeout","_loading","bookings","_filters","bkns","filters","_","CalendarEvent","n","_a","includes","r","_b","asObservable","subscription","toggleType","name","clear","getValue","ScheduleFilterCardComponent","_state","_sheet_ref","ScheduleFiltersComponent","_sheet","c","openFilters","ScheduleSidebarComponent","ScheduleMobileCalendarComponent","show_shortlist","short_list","ROUTES","path","component","filtered_bookings","loading","isSameDay","isEvent","item","trackByFn","index","ScheduleComponent","redirectTo","AppScheduleModule","CommonModule","SharedComponentModule","FormsModule","RouterModule"],"sources":["./node_modules/@angular/material/fesm2015/bottom-sheet.js","./node_modules/date-fns/esm/startOfWeek/index.js","./node_modules/date-fns/esm/startOfMonth/index.js","./node_modules/date-fns/esm/isSameMonth/index.js","./apps/workplace/src/app/new-schedule/schedule-calendar.component.ts","./apps/workplace/src/app/new-schedule/schedule-state.service.ts","./apps/workplace/src/app/new-schedule/schedule-filter-card.component.ts","./apps/workplace/src/app/new-schedule/schedule-filters.component.ts","./apps/workplace/src/app/new-schedule/schedule-sidebar.component.ts","./apps/workplace/src/app/new-schedule/schedule-mobile-calendar.component.ts","./apps/workplace/src/app/new-schedule/schedule.component.ts","./apps/workplace/src/app/new-schedule/schedule.module.ts"],"sourcesContent":["import * as i1 from '@angular/cdk/overlay';\nimport { OverlayModule, OverlayConfig, Overlay } from '@angular/cdk/overlay';\nimport { BasePortalOutlet, CdkPortalOutlet, PortalModule, TemplatePortal, ComponentPortal } from '@angular/cdk/portal';\nimport * as i0 from '@angular/core';\nimport { InjectionToken, EventEmitter, Component, ChangeDetectionStrategy, ViewEncapsulation, ElementRef, ChangeDetectorRef, Optional, Inject, ViewChild, NgModule, TemplateRef, Injector, InjectFlags, Injectable, SkipSelf } from '@angular/core';\nimport { AnimationDurations, AnimationCurves, MatCommonModule } from '@angular/material/core';\nimport { Breakpoints, BreakpointObserver } from '@angular/cdk/layout';\nimport { trigger, state, style, transition, animate } from '@angular/animations';\nimport { DOCUMENT } from '@angular/common';\nimport { FocusTrapFactory } from '@angular/cdk/a11y';\nimport { _getFocusedElementPierceShadowDom } from '@angular/cdk/platform';\nimport { Directionality } from '@angular/cdk/bidi';\nimport { Subject, merge, of } from 'rxjs';\nimport { ESCAPE, hasModifierKey } from '@angular/cdk/keycodes';\nimport { filter, take } from 'rxjs/operators';\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Injection token that can be used to access the data that was passed in to a bottom sheet. */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/cdk/a11y';\nimport * as ɵngcc2 from '@angular/cdk/layout';\nimport * as ɵngcc3 from '@angular/cdk/portal';\nimport * as ɵngcc4 from '@angular/cdk/overlay';\n\nfunction MatBottomSheetContainer_ng_template_0_Template(rf, ctx) { }\nconst MAT_BOTTOM_SHEET_DATA = new InjectionToken('MatBottomSheetData');\n/**\n * Configuration used when opening a bottom sheet.\n */\nclass MatBottomSheetConfig {\n    constructor() {\n        /** Data being injected into the child component. */\n        this.data = null;\n        /** Whether the bottom sheet has a backdrop. */\n        this.hasBackdrop = true;\n        /** Whether the user can use escape or clicking outside to close the bottom sheet. */\n        this.disableClose = false;\n        /** Aria label to assign to the bottom sheet element. */\n        this.ariaLabel = null;\n        /**\n         * Whether the bottom sheet should close when the user goes backwards/forwards in history.\n         * Note that this usually doesn't include clicking on links (unless the user is using\n         * the `HashLocationStrategy`).\n         */\n        this.closeOnNavigation = true;\n        // Note that this is disabled by default, because while the a11y recommendations are to focus\n        // the first focusable element, doing so prevents screen readers from reading out the\n        // rest of the bottom sheet content.\n        /** Whether the bottom sheet should focus the first focusable element on open. */\n        this.autoFocus = false;\n        /**\n         * Whether the bottom sheet should restore focus to the\n         * previously-focused element, after it's closed.\n         */\n        this.restoreFocus = true;\n    }\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Animations used by the Material bottom sheet. */\nconst matBottomSheetAnimations = {\n    /** Animation that shows and hides a bottom sheet. */\n    bottomSheetState: trigger('state', [\n        state('void, hidden', style({ transform: 'translateY(100%)' })),\n        state('visible', style({ transform: 'translateY(0%)' })),\n        transition('visible => void, visible => hidden', animate(`${AnimationDurations.COMPLEX} ${AnimationCurves.ACCELERATION_CURVE}`)),\n        transition('void => visible', animate(`${AnimationDurations.EXITING} ${AnimationCurves.DECELERATION_CURVE}`)),\n    ])\n};\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n// TODO(crisbeto): consolidate some logic between this, MatDialog and MatSnackBar\n/**\n * Internal component that wraps user-provided bottom sheet content.\n * @docs-private\n */\nclass MatBottomSheetContainer extends BasePortalOutlet {\n    constructor(_elementRef, _changeDetectorRef, _focusTrapFactory, breakpointObserver, document, \n    /** The bottom sheet configuration. */\n    bottomSheetConfig) {\n        super();\n        this._elementRef = _elementRef;\n        this._changeDetectorRef = _changeDetectorRef;\n        this._focusTrapFactory = _focusTrapFactory;\n        this.bottomSheetConfig = bottomSheetConfig;\n        /** The state of the bottom sheet animations. */\n        this._animationState = 'void';\n        /** Emits whenever the state of the animation changes. */\n        this._animationStateChanged = new EventEmitter();\n        /** Element that was focused before the bottom sheet was opened. */\n        this._elementFocusedBeforeOpened = null;\n        /**\n         * Attaches a DOM portal to the bottom sheet container.\n         * @deprecated To be turned into a method.\n         * @breaking-change 10.0.0\n         */\n        this.attachDomPortal = (portal) => {\n            this._validatePortalAttached();\n            this._setPanelClass();\n            this._savePreviouslyFocusedElement();\n            return this._portalOutlet.attachDomPortal(portal);\n        };\n        this._document = document;\n        this._breakpointSubscription = breakpointObserver\n            .observe([Breakpoints.Medium, Breakpoints.Large, Breakpoints.XLarge])\n            .subscribe(() => {\n            this._toggleClass('mat-bottom-sheet-container-medium', breakpointObserver.isMatched(Breakpoints.Medium));\n            this._toggleClass('mat-bottom-sheet-container-large', breakpointObserver.isMatched(Breakpoints.Large));\n            this._toggleClass('mat-bottom-sheet-container-xlarge', breakpointObserver.isMatched(Breakpoints.XLarge));\n        });\n    }\n    /** Attach a component portal as content to this bottom sheet container. */\n    attachComponentPortal(portal) {\n        this._validatePortalAttached();\n        this._setPanelClass();\n        this._savePreviouslyFocusedElement();\n        return this._portalOutlet.attachComponentPortal(portal);\n    }\n    /** Attach a template portal as content to this bottom sheet container. */\n    attachTemplatePortal(portal) {\n        this._validatePortalAttached();\n        this._setPanelClass();\n        this._savePreviouslyFocusedElement();\n        return this._portalOutlet.attachTemplatePortal(portal);\n    }\n    /** Begin animation of bottom sheet entrance into view. */\n    enter() {\n        if (!this._destroyed) {\n            this._animationState = 'visible';\n            this._changeDetectorRef.detectChanges();\n        }\n    }\n    /** Begin animation of the bottom sheet exiting from view. */\n    exit() {\n        if (!this._destroyed) {\n            this._animationState = 'hidden';\n            this._changeDetectorRef.markForCheck();\n        }\n    }\n    ngOnDestroy() {\n        this._breakpointSubscription.unsubscribe();\n        this._destroyed = true;\n    }\n    _onAnimationDone(event) {\n        if (event.toState === 'hidden') {\n            this._restoreFocus();\n        }\n        else if (event.toState === 'visible') {\n            this._trapFocus();\n        }\n        this._animationStateChanged.emit(event);\n    }\n    _onAnimationStart(event) {\n        this._animationStateChanged.emit(event);\n    }\n    _toggleClass(cssClass, add) {\n        const classList = this._elementRef.nativeElement.classList;\n        add ? classList.add(cssClass) : classList.remove(cssClass);\n    }\n    _validatePortalAttached() {\n        if (this._portalOutlet.hasAttached() && (typeof ngDevMode === 'undefined' || ngDevMode)) {\n            throw Error('Attempting to attach bottom sheet content after content is already attached');\n        }\n    }\n    _setPanelClass() {\n        const element = this._elementRef.nativeElement;\n        const panelClass = this.bottomSheetConfig.panelClass;\n        if (Array.isArray(panelClass)) {\n            // Note that we can't use a spread here, because IE doesn't support multiple arguments.\n            panelClass.forEach(cssClass => element.classList.add(cssClass));\n        }\n        else if (panelClass) {\n            element.classList.add(panelClass);\n        }\n    }\n    /** Moves the focus inside the focus trap. */\n    _trapFocus() {\n        const element = this._elementRef.nativeElement;\n        if (!this._focusTrap) {\n            this._focusTrap = this._focusTrapFactory.create(element);\n        }\n        if (this.bottomSheetConfig.autoFocus) {\n            this._focusTrap.focusInitialElementWhenReady();\n        }\n        else {\n            const activeElement = _getFocusedElementPierceShadowDom();\n            // Otherwise ensure that focus is on the container. It's possible that a different\n            // component tried to move focus while the open animation was running. See:\n            // https://github.com/angular/components/issues/16215. Note that we only want to do this\n            // if the focus isn't inside the bottom sheet already, because it's possible that the\n            // consumer turned off `autoFocus` in order to move focus themselves.\n            if (activeElement !== element && !element.contains(activeElement)) {\n                element.focus();\n            }\n        }\n    }\n    /** Restores focus to the element that was focused before the bottom sheet was opened. */\n    _restoreFocus() {\n        const toFocus = this._elementFocusedBeforeOpened;\n        // We need the extra check, because IE can set the `activeElement` to null in some cases.\n        if (this.bottomSheetConfig.restoreFocus && toFocus && typeof toFocus.focus === 'function') {\n            const activeElement = _getFocusedElementPierceShadowDom();\n            const element = this._elementRef.nativeElement;\n            // Make sure that focus is still inside the bottom sheet or is on the body (usually because a\n            // non-focusable element like the backdrop was clicked) before moving it. It's possible that\n            // the consumer moved it themselves before the animation was done, in which case we shouldn't\n            // do anything.\n            if (!activeElement || activeElement === this._document.body || activeElement === element ||\n                element.contains(activeElement)) {\n                toFocus.focus();\n            }\n        }\n        if (this._focusTrap) {\n            this._focusTrap.destroy();\n        }\n    }\n    /** Saves a reference to the element that was focused before the bottom sheet was opened. */\n    _savePreviouslyFocusedElement() {\n        this._elementFocusedBeforeOpened = _getFocusedElementPierceShadowDom();\n        // The `focus` method isn't available during server-side rendering.\n        if (this._elementRef.nativeElement.focus) {\n            Promise.resolve().then(() => this._elementRef.nativeElement.focus());\n        }\n    }\n}\nMatBottomSheetContainer.ɵfac = function MatBottomSheetContainer_Factory(t) { return new (t || MatBottomSheetContainer)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.FocusTrapFactory), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.BreakpointObserver), ɵngcc0.ɵɵdirectiveInject(DOCUMENT, 8), ɵngcc0.ɵɵdirectiveInject(MatBottomSheetConfig)); };\nMatBottomSheetContainer.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: MatBottomSheetContainer, selectors: [[\"mat-bottom-sheet-container\"]], viewQuery: function MatBottomSheetContainer_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(CdkPortalOutlet, 7);\n    } if (rf & 2) {\n        let _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx._portalOutlet = _t.first);\n    } }, hostAttrs: [\"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-modal\", \"true\", 1, \"mat-bottom-sheet-container\"], hostVars: 2, hostBindings: function MatBottomSheetContainer_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵsyntheticHostListener(\"@state.start\", function MatBottomSheetContainer_animation_state_start_HostBindingHandler($event) { return ctx._onAnimationStart($event); })(\"@state.done\", function MatBottomSheetContainer_animation_state_done_HostBindingHandler($event) { return ctx._onAnimationDone($event); });\n    } if (rf & 2) {\n        ɵngcc0.ɵɵattribute(\"aria-label\", ctx.bottomSheetConfig == null ? null : ctx.bottomSheetConfig.ariaLabel);\n        ɵngcc0.ɵɵsyntheticHostProperty(\"@state\", ctx._animationState);\n    } }, features: [ɵngcc0.ɵɵInheritDefinitionFeature], decls: 1, vars: 0, consts: [[\"cdkPortalOutlet\", \"\"]], template: function MatBottomSheetContainer_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵtemplate(0, MatBottomSheetContainer_ng_template_0_Template, 0, 0, \"ng-template\", 0);\n    } }, directives: [ɵngcc3.CdkPortalOutlet], styles: [\".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}\\n\"], encapsulation: 2, data: { animation: [matBottomSheetAnimations.bottomSheetState] } });\nMatBottomSheetContainer.ctorParameters = () => [\n    { type: ElementRef },\n    { type: ChangeDetectorRef },\n    { type: FocusTrapFactory },\n    { type: BreakpointObserver },\n    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [DOCUMENT,] }] },\n    { type: MatBottomSheetConfig }\n];\nMatBottomSheetContainer.propDecorators = {\n    _portalOutlet: [{ type: ViewChild, args: [CdkPortalOutlet, { static: true },] }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(MatBottomSheetContainer, [{\n        type: Component,\n        args: [{\n                selector: 'mat-bottom-sheet-container',\n                template: \"<ng-template cdkPortalOutlet></ng-template>\\r\\n\",\n                // In Ivy embedded views will be change detected from their declaration place, rather than where\n                // they were stamped out. This means that we can't have the bottom sheet container be OnPush,\n                // because it might cause the sheets that were opened from a template not to be out of date.\n                // tslint:disable-next-line:validate-decorators\n                changeDetection: ChangeDetectionStrategy.Default,\n                encapsulation: ViewEncapsulation.None,\n                animations: [matBottomSheetAnimations.bottomSheetState],\n                host: {\n                    'class': 'mat-bottom-sheet-container',\n                    'tabindex': '-1',\n                    'role': 'dialog',\n                    'aria-modal': 'true',\n                    '[attr.aria-label]': 'bottomSheetConfig?.ariaLabel',\n                    '[@state]': '_animationState',\n                    '(@state.start)': '_onAnimationStart($event)',\n                    '(@state.done)': '_onAnimationDone($event)'\n                },\n                styles: [\".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}\\n\"]\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc0.ChangeDetectorRef }, { type: ɵngcc1.FocusTrapFactory }, { type: ɵngcc2.BreakpointObserver }, { type: undefined, decorators: [{\n                type: Optional\n            }, {\n                type: Inject,\n                args: [DOCUMENT]\n            }] }, { type: MatBottomSheetConfig }]; }, { _portalOutlet: [{\n            type: ViewChild,\n            args: [CdkPortalOutlet, { static: true }]\n        }] }); })();\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nclass MatBottomSheetModule {\n}\nMatBottomSheetModule.ɵfac = function MatBottomSheetModule_Factory(t) { return new (t || MatBottomSheetModule)(); };\nMatBottomSheetModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: MatBottomSheetModule });\nMatBottomSheetModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({ imports: [[\n            OverlayModule,\n            MatCommonModule,\n            PortalModule,\n        ], MatCommonModule] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(MatBottomSheetModule, [{\n        type: NgModule,\n        args: [{\n                imports: [\n                    OverlayModule,\n                    MatCommonModule,\n                    PortalModule,\n                ],\n                exports: [MatBottomSheetContainer, MatCommonModule],\n                declarations: [MatBottomSheetContainer],\n                entryComponents: [MatBottomSheetContainer]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(MatBottomSheetModule, { declarations: function () { return [MatBottomSheetContainer]; }, imports: function () { return [OverlayModule,\n        MatCommonModule,\n        PortalModule]; }, exports: function () { return [MatBottomSheetContainer, MatCommonModule]; } }); })();\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Reference to a bottom sheet dispatched from the bottom sheet service.\n */\nclass MatBottomSheetRef {\n    constructor(containerInstance, _overlayRef) {\n        this._overlayRef = _overlayRef;\n        /** Subject for notifying the user that the bottom sheet has been dismissed. */\n        this._afterDismissed = new Subject();\n        /** Subject for notifying the user that the bottom sheet has opened and appeared. */\n        this._afterOpened = new Subject();\n        this.containerInstance = containerInstance;\n        this.disableClose = containerInstance.bottomSheetConfig.disableClose;\n        // Emit when opening animation completes\n        containerInstance._animationStateChanged.pipe(filter(event => event.phaseName === 'done' && event.toState === 'visible'), take(1))\n            .subscribe(() => {\n            this._afterOpened.next();\n            this._afterOpened.complete();\n        });\n        // Dispose overlay when closing animation is complete\n        containerInstance._animationStateChanged\n            .pipe(filter(event => event.phaseName === 'done' && event.toState === 'hidden'), take(1))\n            .subscribe(() => {\n            clearTimeout(this._closeFallbackTimeout);\n            _overlayRef.dispose();\n        });\n        _overlayRef.detachments().pipe(take(1)).subscribe(() => {\n            this._afterDismissed.next(this._result);\n            this._afterDismissed.complete();\n        });\n        merge(_overlayRef.backdropClick(), _overlayRef.keydownEvents().pipe(filter(event => event.keyCode === ESCAPE))).subscribe(event => {\n            if (!this.disableClose &&\n                (event.type !== 'keydown' || !hasModifierKey(event))) {\n                event.preventDefault();\n                this.dismiss();\n            }\n        });\n    }\n    /**\n     * Dismisses the bottom sheet.\n     * @param result Data to be passed back to the bottom sheet opener.\n     */\n    dismiss(result) {\n        if (!this._afterDismissed.closed) {\n            // Transition the backdrop in parallel to the bottom sheet.\n            this.containerInstance._animationStateChanged.pipe(filter(event => event.phaseName === 'start'), take(1)).subscribe(event => {\n                // The logic that disposes of the overlay depends on the exit animation completing, however\n                // it isn't guaranteed if the parent view is destroyed while it's running. Add a fallback\n                // timeout which will clean everything up if the animation hasn't fired within the specified\n                // amount of time plus 100ms. We don't need to run this outside the NgZone, because for the\n                // vast majority of cases the timeout will have been cleared before it has fired.\n                this._closeFallbackTimeout = setTimeout(() => {\n                    this._overlayRef.dispose();\n                }, event.totalTime + 100);\n                this._overlayRef.detachBackdrop();\n            });\n            this._result = result;\n            this.containerInstance.exit();\n        }\n    }\n    /** Gets an observable that is notified when the bottom sheet is finished closing. */\n    afterDismissed() {\n        return this._afterDismissed;\n    }\n    /** Gets an observable that is notified when the bottom sheet has opened and appeared. */\n    afterOpened() {\n        return this._afterOpened;\n    }\n    /**\n     * Gets an observable that emits when the overlay's backdrop has been clicked.\n     */\n    backdropClick() {\n        return this._overlayRef.backdropClick();\n    }\n    /**\n     * Gets an observable that emits when keydown events are targeted on the overlay.\n     */\n    keydownEvents() {\n        return this._overlayRef.keydownEvents();\n    }\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/** Injection token that can be used to specify default bottom sheet options. */\nconst MAT_BOTTOM_SHEET_DEFAULT_OPTIONS = new InjectionToken('mat-bottom-sheet-default-options');\n/**\n * Service to trigger Material Design bottom sheets.\n */\nclass MatBottomSheet {\n    constructor(_overlay, _injector, _parentBottomSheet, _defaultOptions) {\n        this._overlay = _overlay;\n        this._injector = _injector;\n        this._parentBottomSheet = _parentBottomSheet;\n        this._defaultOptions = _defaultOptions;\n        this._bottomSheetRefAtThisLevel = null;\n    }\n    /** Reference to the currently opened bottom sheet. */\n    get _openedBottomSheetRef() {\n        const parent = this._parentBottomSheet;\n        return parent ? parent._openedBottomSheetRef : this._bottomSheetRefAtThisLevel;\n    }\n    set _openedBottomSheetRef(value) {\n        if (this._parentBottomSheet) {\n            this._parentBottomSheet._openedBottomSheetRef = value;\n        }\n        else {\n            this._bottomSheetRefAtThisLevel = value;\n        }\n    }\n    open(componentOrTemplateRef, config) {\n        const _config = _applyConfigDefaults(this._defaultOptions || new MatBottomSheetConfig(), config);\n        const overlayRef = this._createOverlay(_config);\n        const container = this._attachContainer(overlayRef, _config);\n        const ref = new MatBottomSheetRef(container, overlayRef);\n        if (componentOrTemplateRef instanceof TemplateRef) {\n            container.attachTemplatePortal(new TemplatePortal(componentOrTemplateRef, null, {\n                $implicit: _config.data,\n                bottomSheetRef: ref\n            }));\n        }\n        else {\n            const portal = new ComponentPortal(componentOrTemplateRef, undefined, this._createInjector(_config, ref));\n            const contentRef = container.attachComponentPortal(portal);\n            ref.instance = contentRef.instance;\n        }\n        // When the bottom sheet is dismissed, clear the reference to it.\n        ref.afterDismissed().subscribe(() => {\n            // Clear the bottom sheet ref if it hasn't already been replaced by a newer one.\n            if (this._openedBottomSheetRef == ref) {\n                this._openedBottomSheetRef = null;\n            }\n        });\n        if (this._openedBottomSheetRef) {\n            // If a bottom sheet is already in view, dismiss it and enter the\n            // new bottom sheet after exit animation is complete.\n            this._openedBottomSheetRef.afterDismissed().subscribe(() => ref.containerInstance.enter());\n            this._openedBottomSheetRef.dismiss();\n        }\n        else {\n            // If no bottom sheet is in view, enter the new bottom sheet.\n            ref.containerInstance.enter();\n        }\n        this._openedBottomSheetRef = ref;\n        return ref;\n    }\n    /**\n     * Dismisses the currently-visible bottom sheet.\n     * @param result Data to pass to the bottom sheet instance.\n     */\n    dismiss(result) {\n        if (this._openedBottomSheetRef) {\n            this._openedBottomSheetRef.dismiss(result);\n        }\n    }\n    ngOnDestroy() {\n        if (this._bottomSheetRefAtThisLevel) {\n            this._bottomSheetRefAtThisLevel.dismiss();\n        }\n    }\n    /**\n     * Attaches the bottom sheet container component to the overlay.\n     */\n    _attachContainer(overlayRef, config) {\n        const userInjector = config && config.viewContainerRef && config.viewContainerRef.injector;\n        const injector = Injector.create({\n            parent: userInjector || this._injector,\n            providers: [{ provide: MatBottomSheetConfig, useValue: config }]\n        });\n        const containerPortal = new ComponentPortal(MatBottomSheetContainer, config.viewContainerRef, injector);\n        const containerRef = overlayRef.attach(containerPortal);\n        return containerRef.instance;\n    }\n    /**\n     * Creates a new overlay and places it in the correct location.\n     * @param config The user-specified bottom sheet config.\n     */\n    _createOverlay(config) {\n        const overlayConfig = new OverlayConfig({\n            direction: config.direction,\n            hasBackdrop: config.hasBackdrop,\n            disposeOnNavigation: config.closeOnNavigation,\n            maxWidth: '100%',\n            scrollStrategy: config.scrollStrategy || this._overlay.scrollStrategies.block(),\n            positionStrategy: this._overlay.position().global().centerHorizontally().bottom('0')\n        });\n        if (config.backdropClass) {\n            overlayConfig.backdropClass = config.backdropClass;\n        }\n        return this._overlay.create(overlayConfig);\n    }\n    /**\n     * Creates an injector to be used inside of a bottom sheet component.\n     * @param config Config that was used to create the bottom sheet.\n     * @param bottomSheetRef Reference to the bottom sheet.\n     */\n    _createInjector(config, bottomSheetRef) {\n        const userInjector = config && config.viewContainerRef && config.viewContainerRef.injector;\n        const providers = [\n            { provide: MatBottomSheetRef, useValue: bottomSheetRef },\n            { provide: MAT_BOTTOM_SHEET_DATA, useValue: config.data }\n        ];\n        if (config.direction && (!userInjector ||\n            !userInjector.get(Directionality, null, InjectFlags.Optional))) {\n            providers.push({\n                provide: Directionality,\n                useValue: { value: config.direction, change: of() }\n            });\n        }\n        return Injector.create({ parent: userInjector || this._injector, providers });\n    }\n}\nMatBottomSheet.ɵfac = function MatBottomSheet_Factory(t) { return new (t || MatBottomSheet)(ɵngcc0.ɵɵinject(ɵngcc4.Overlay), ɵngcc0.ɵɵinject(ɵngcc0.Injector), ɵngcc0.ɵɵinject(MatBottomSheet, 12), ɵngcc0.ɵɵinject(MAT_BOTTOM_SHEET_DEFAULT_OPTIONS, 8)); };\nMatBottomSheet.ɵprov = i0.ɵɵdefineInjectable({ factory: function MatBottomSheet_Factory() { return new MatBottomSheet(i0.ɵɵinject(i1.Overlay), i0.ɵɵinject(i0.INJECTOR), i0.ɵɵinject(MatBottomSheet, 12), i0.ɵɵinject(MAT_BOTTOM_SHEET_DEFAULT_OPTIONS, 8)); }, token: MatBottomSheet, providedIn: MatBottomSheetModule });\nMatBottomSheet.ctorParameters = () => [\n    { type: Overlay },\n    { type: Injector },\n    { type: MatBottomSheet, decorators: [{ type: Optional }, { type: SkipSelf }] },\n    { type: MatBottomSheetConfig, decorators: [{ type: Optional }, { type: Inject, args: [MAT_BOTTOM_SHEET_DEFAULT_OPTIONS,] }] }\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(MatBottomSheet, [{\n        type: Injectable,\n        args: [{ providedIn: MatBottomSheetModule }]\n    }], function () { return [{ type: ɵngcc4.Overlay }, { type: ɵngcc0.Injector }, { type: MatBottomSheet, decorators: [{\n                type: Optional\n            }, {\n                type: SkipSelf\n            }] }, { type: MatBottomSheetConfig, decorators: [{\n                type: Optional\n            }, {\n                type: Inject,\n                args: [MAT_BOTTOM_SHEET_DEFAULT_OPTIONS]\n            }] }]; }, null); })();\n/**\n * Applies default options to the bottom sheet config.\n * @param defaults Object containing the default values to which to fall back.\n * @param config The configuration to which the defaults will be applied.\n * @returns The new configuration object with defaults applied.\n */\nfunction _applyConfigDefaults(defaults, config) {\n    return Object.assign(Object.assign({}, defaults), config);\n}\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { MAT_BOTTOM_SHEET_DATA, MAT_BOTTOM_SHEET_DEFAULT_OPTIONS, MatBottomSheet, MatBottomSheetConfig, MatBottomSheetContainer, MatBottomSheetModule, MatBottomSheetRef, matBottomSheetAnimations };\n\n","import toDate from \"../toDate/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name startOfWeek\n * @category Week Helpers\n * @summary Return the start of a week for the given date.\n *\n * @description\n * Return the start of a week for the given date.\n * The result will be in the local timezone.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the original date\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @returns {Date} the start of a week\n * @throws {TypeError} 1 argument required\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n *\n * @example\n * // The start of a week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sun Aug 31 2014 00:00:00\n *\n * @example\n * // If the week starts on Monday, the start of the week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0), { weekStartsOn: 1 })\n * //=> Mon Sep 01 2014 00:00:00\n */\n\nexport default function startOfWeek(dirtyDate, dirtyOptions) {\n  requiredArgs(1, arguments);\n  var options = dirtyOptions || {};\n  var locale = options.locale;\n  var localeWeekStartsOn = locale && locale.options && locale.options.weekStartsOn;\n  var defaultWeekStartsOn = localeWeekStartsOn == null ? 0 : toInteger(localeWeekStartsOn);\n  var weekStartsOn = options.weekStartsOn == null ? defaultWeekStartsOn : toInteger(options.weekStartsOn); // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n\n  var date = toDate(dirtyDate);\n  var day = date.getDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setDate(date.getDate() - diff);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name startOfMonth\n * @category Month Helpers\n * @summary Return the start of a month for the given date.\n *\n * @description\n * Return the start of a month for the given date.\n * The result will be in the local timezone.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the start of a month\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The start of a month for 2 September 2014 11:55:00:\n * const result = startOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\n\nexport default function startOfMonth(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isSameMonth\n * @category Month Helpers\n * @summary Are the given dates in the same month?\n *\n * @description\n * Are the given dates in the same month?\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the first date to check\n * @param {Date|Number} dateRight - the second date to check\n * @returns {Boolean} the dates are in the same month\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Are 2 September 2014 and 25 September 2014 in the same month?\n * var result = isSameMonth(new Date(2014, 8, 2), new Date(2014, 8, 25))\n * //=> true\n */\n\nexport default function isSameMonth(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  return dateLeft.getFullYear() === dateRight.getFullYear() && dateLeft.getMonth() === dateRight.getMonth();\n}","import { Component, forwardRef, OnInit } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport {\n    addDays,\n    addMonths,\n    isBefore,\n    isSameMonth,\n    startOfDay,\n    startOfMonth,\n    startOfWeek,\n} from 'date-fns';\n\n@Component({\n    selector: 'schedule-calendar',\n    template: `\n        <div class=\"p-2\">\n            <div class=\"flex items-center justify-between\">\n                <div class=\"px-2 font-medium\">\n                    {{ date_list[6]?.id || active_date | date: 'LLLL' }}\n                </div>\n                <div class=\"\">\n                    <button mat-icon-button (click)=\"changeMonth(-1)\">\n                        <app-icon>chevron_left</app-icon>\n                    </button>\n                    <button mat-icon-button (click)=\"changeMonth(1)\">\n                        <app-icon>chevron_right</app-icon>\n                    </button>\n                </div>\n            </div>\n            <div class=\"flex items-center text-sm\">\n                <div\n                    class=\"flex-1 opacity-60 text-center\"\n                    *ngFor=\"let day of date_list | slice: 0:7\"\n                >\n                    {{ day.id | date: 'EE' }}\n                </div>\n            </div>\n            <div class=\"flex items-center flex-wrap\">\n                <button\n                    mat-icon-button\n                    class=\"min-w-[14%] flex-1\"\n                    *ngFor=\"let day of date_list\"\n                    [class.text-opacity-30]=\"!day.is_month\"\n                    [class.text-primary]=\"day.id === active_date\"\n                    [class.text-black]=\"day.id !== active_date\"\n                    [class.bg-gray-200]=\"day.id === active_date\"\n                    [class.font-normal]=\"day.id !== active_date\"\n                    (click)=\"setValue(day.id)\"\n                >\n                    {{ day.id | date: 'd' }}\n                </button>\n            </div>\n        </div>\n    `,\n    styles: [``],\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: forwardRef(() => ScheduleCalendarComponent),\n            multi: true,\n        },\n    ],\n})\nexport class ScheduleCalendarComponent implements OnInit, ControlValueAccessor {\n    public active_date = startOfDay(Date.now()).valueOf();\n    public offset = 0;\n    public date_list = [];\n\n    /** Form control on change handler */\n    private _onChange: (_: number) => void;\n    /** Form control on touch handler */\n    private _onTouch: (_: number) => void;\n\n    public ngOnInit() {\n        this.generateDates();\n    }\n\n    /**\n     * Update the form field value\n     * @param new_value New value to set on the form field\n     */\n    public setValue(new_value: number) {\n        this.active_date = startOfDay(new_value).valueOf();\n        this.offset = 0;\n        if (this._onChange) {\n            this._onChange(new_value);\n        }\n    }\n    /**\n     * Update local value when form control value is changed\n     * @param value The new value for the component\n     */\n    public writeValue(value: number) {\n        this.active_date = startOfDay(value).valueOf();\n        this.offset = 0;\n        this.generateDates();\n    }\n\n    public changeMonth(change: number) {\n        this.offset += change;\n        this.generateDates();\n    }\n\n    /* istanbul ignore next */\n    public readonly registerOnChange = (fn) => (this._onChange = fn);\n    /* istanbul ignore next */\n    public readonly registerOnTouched = (fn) => (this._onTouch = fn);\n\n    public generateDates() {\n        const date = addMonths(this.active_date, this.offset);\n        let start = startOfWeek(startOfMonth(date));\n        const now = startOfDay(Date.now());\n        const list = [];\n        while (list.length < 42) {\n            list.push({\n                id: start.valueOf(),\n                is_past: isBefore(start, now),\n                is_month: isSameMonth(start, date),\n            });\n            start = addDays(start, 1);\n        }\n        this.date_list = list;\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { queryBookings } from '@placeos/bookings';\nimport { BaseClass } from '@placeos/common';\nimport { CalendarEvent, queryEvents } from '@placeos/events';\nimport { endOfDay, getUnixTime, startOfDay } from 'date-fns';\nimport { BehaviorSubject, combineLatest } from 'rxjs';\nimport { map, switchMap, tap } from 'rxjs/operators';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class ScheduleStateService extends BaseClass {\n    private _poll = new BehaviorSubject(0);\n    private _loading = new BehaviorSubject(false);\n    private _filters = new BehaviorSubject({\n        shown_types: ['event', 'desk', 'parking'],\n    });\n    private _date = new BehaviorSubject(Date.now());\n    /** List of calendar events for the selected date */\n    public readonly events = combineLatest([this._date, this._poll]).pipe(\n        switchMap(([date]) =>\n            queryEvents({\n                period_start: getUnixTime(startOfDay(date)),\n                period_end: getUnixTime(endOfDay(date)),\n            })\n        )\n    );\n    /** List of desk bookings for the selected date */\n    public readonly desks = combineLatest([this._date, this._poll]).pipe(\n        switchMap(([date]) =>\n            queryBookings({\n                period_start: getUnixTime(startOfDay(date)),\n                period_end: getUnixTime(endOfDay(date)),\n                type: 'desk',\n            })\n        )\n    );\n    /** List of parking bookings for the selected date */\n    public readonly parking = combineLatest([this._date, this._poll]).pipe(\n        switchMap(([date]) =>\n            queryBookings({\n                period_start: getUnixTime(startOfDay(date)),\n                period_end: getUnixTime(endOfDay(date)),\n                type: 'parking',\n            })\n        )\n    );\n\n    /** List of events and bookings for the selected date */\n    public readonly bookings = combineLatest([\n        this.events,\n        this.desks,\n        this.parking,\n    ]).pipe(\n        map(([e, d, p]) => [...e, ...d, ...p].sort((a, b) => a.date - b.date)),\n        tap(() => this.timeout('end_loading', () => this._loading.next(false)))\n    );\n    /** Filtered list of events and bookings for the selected date */\n    public readonly filtered_bookings = combineLatest([\n        this.bookings,\n        this._filters,\n    ]).pipe(\n        map(([bkns, filters]) =>\n            bkns.filter(\n                (_) =>\n                    (_ instanceof CalendarEvent &&\n                        filters?.shown_types?.includes('event')) ||\n                    filters?.shown_types?.includes(_.type)\n            )\n        )\n    );\n    /** Currently selected date */\n    public readonly filters = this._filters.asObservable();\n    /** Currently selected date */\n    public readonly date = this._date.asObservable();\n    /** Whether events and bookings are loading */\n    public readonly loading = this._loading.asObservable();\n\n    constructor() {\n        super();\n        this.subscription(\n            'date',\n            combineLatest([this._date, this._poll]).subscribe((_) => this._loading.next(true))\n        );\n    }\n\n    public setDate(date: number) {\n        this._date.next(date);\n    }\n\n    public async toggleType(name: string, clear: boolean = false) {\n        const filters = this._filters.getValue() || { shown_types: [] };\n        const { shown_types } = filters\n        if (shown_types && (shown_types.includes(name) || clear)) {\n            this._filters.next({ ...filters, shown_types: shown_types.filter(_ => _ !== name) });\n        } else {\n            this._filters.next({ ...filters, shown_types: [...shown_types, name] });\n        }\n    }\n}\n","import { Component } from '@angular/core';\nimport { MatBottomSheetRef } from '@angular/material/bottom-sheet';\nimport { ScheduleStateService } from './schedule-state.service';\n\n@Component({\n    selector: 'schedule-filter-card',\n    template: `\n        <div class=\"flex items-center border-b border-gray-300 space-x-2 mb-4\">\n            <button mat-icon-button (click)=\"dismiss()\">\n                <app-icon>chevron_left</app-icon>\n            </button>\n            <h2 class=\"flex-1 w-1/2 text-center font-medium\">Booking Types</h2>\n            <app-icon></app-icon>\n        </div>\n        <div class=\"space-y-4 border-b border-gray-300 mb-4 pb-4\">\n            <button matRipple class=\"flex items-center space-x-2 w-full text-left\" (click)=\"toggleType('event')\">\n                <div\n                    class=\"h-10 w-10 rounded-full flex items-center justify-center text-2xl\"\n                >\n                    <app-icon>meeting_room</app-icon>\n                </div>\n                <div class=\"flex-1\">\n                    <div class=\"\">Room</div>\n                    <div class=\"text-sm opacity-60\">\n                        Room and meeting invites\n                    </div>\n                </div>\n                <mat-checkbox\n                    [ngModel]=\"\n                        (filters | async)?.shown_types?.includes('event')\n                    \"\n                ></mat-checkbox>\n            </button>\n            <button matRipple class=\"flex items-center space-x-2 w-full text-left\" (click)=\"toggleType('desk')\">\n                <div\n                    class=\"h-10 w-10 rounded-full flex items-center justify-center text-2xl\"\n                >\n                    <img src=\"assets/icons/desk-outline.svg\" class=\"w-6\" />\n                </div>\n                <div class=\"flex-1\">\n                    <div class=\"\">Desk</div>\n                    <div class=\"text-sm opacity-60\">Desk bookings</div>\n                </div>\n                <mat-checkbox\n                    [ngModel]=\"(filters | async)?.shown_types?.includes('desk')\"\n                ></mat-checkbox>\n            </button>\n            <button matRipple class=\"flex items-center space-x-2 w-full text-left\"  (click)=\"toggleType('parking')\">\n                <div\n                    class=\"h-10 w-10 rounded-full flex items-center justify-center text-2xl\"\n                >\n                    <app-icon>drive_eta</app-icon>\n                </div>\n                <div class=\"flex-1\">\n                    <div class=\"\">Parking</div>\n                    <div class=\"text-sm opacity-60\">Car space bookings</div>\n                </div>\n                <mat-checkbox\n                    [ngModel]=\"\n                        (filters | async)?.shown_types?.includes('parking')\n                    \"\n                ></mat-checkbox>\n            </button>\n        </div>\n        <button mat-button class=\"w-full\" (click)=\"dismiss()\">\n            Apply Filters\n        </button>\n    `,\n    styles: [`\n        mat-checkbox {\n            pointer-events: none;\n        }\n    `],\n})\nexport class ScheduleFilterCardComponent {\n    public readonly filters = this._state.filters;\n\n    public readonly toggleType = (t) => this._state.toggleType(t);\n    public readonly dismiss = () => this._sheet_ref.dismiss();\n\n    constructor(\n        private _state: ScheduleStateService,\n        private _sheet_ref: MatBottomSheetRef<ScheduleFilterCardComponent>\n    ) {}\n}\n","import { Component } from '@angular/core';\nimport { MatBottomSheet } from '@angular/material/bottom-sheet';\nimport { ScheduleFilterCardComponent } from './schedule-filter-card.component';\nimport { ScheduleStateService } from './schedule-state.service';\n\n@Component({\n    selector: 'schedule-filters',\n    template: `\n        <div\n            class=\"hidden sm:block bg-white border border-gray-300 rounded p-2\"\n        >\n            <h3 class=\"font-medium mb-2\">Category Filters</h3>\n            <div class=\"flex flex-wrap space-x-2\">\n                <div\n                    class=\"flex items-center rounded-3xl border border-gray-300\"\n                    *ngIf=\"(filters | async)?.shown_types?.includes('event')\"\n                >\n                    <div class=\" px-2\">Rooms</div>\n                    <button mat-icon-button (click)=\"toggleType('event', true)\">\n                        <app-icon>close</app-icon>\n                    </button>\n                </div>\n                <div\n                    class=\"flex items-center rounded-3xl border border-gray-300\"\n                    *ngIf=\"(filters | async)?.shown_types?.includes('desk')\"\n                >\n                    <div class=\"px-2\">Desks</div>\n                    <button mat-icon-button (click)=\"toggleType('desk', true)\">\n                        <app-icon>close</app-icon>\n                    </button>\n                </div>\n                <div\n                    class=\"flex items-center rounded-3xl border border-gray-300\"\n                    *ngIf=\"(filters | async)?.shown_types?.includes('parking')\"\n                >\n                    <div class=\" px-2\">Car Spaces</div>\n                    <button\n                        mat-icon-button\n                        (click)=\"toggleType('parking', true)\"\n                    >\n                        <app-icon>close</app-icon>\n                    </button>\n                </div>\n            </div>\n        </div>\n        <div class=\"sm:hidden flex items-center space-x-2\">\n            <button mat-button class=\"w-24\" (click)=\"openFilters()\">\n                Filters\n            </button>\n            <div\n                class=\"flex items-center rounded-3xl border border-gray-300 bg-white text-sm pl-2\"\n                *ngIf=\"(filters | async)?.shown_types?.includes('event')\"\n            >\n                <div>Rooms</div>\n                <button mat-icon-button (click)=\"toggleType('event', true)\">\n                    <app-icon>close</app-icon>\n                </button>\n            </div>\n            <div\n                class=\"flex items-center rounded-3xl border border-gray-300 bg-white text-sm pl-2\"\n                *ngIf=\"(filters | async)?.shown_types?.includes('desk')\"\n            >\n                <div>Desks</div>\n                <button mat-icon-button (click)=\"toggleType('desk', true)\">\n                    <app-icon>close</app-icon>\n                </button>\n            </div>\n            <div\n                class=\"flex items-center rounded-3xl border border-gray-300 bg-white text-sm pl-2\"\n                *ngIf=\"(filters | async)?.shown_types?.includes('parking')\"\n            >\n                <div>Car</div>\n                <button mat-icon-button (click)=\"toggleType('parking', true)\">\n                    <app-icon>close</app-icon>\n                </button>\n            </div>\n        </div>\n    `,\n    styles: [``],\n})\nexport class ScheduleFiltersComponent {\n    public readonly filters = this._state.filters;\n\n    public readonly toggleType = (t, c = false) => this._state.toggleType(t, c);\n\n    constructor(\n        private _sheet: MatBottomSheet,\n        private _state: ScheduleStateService\n    ) {}\n\n    public openFilters() {\n        this._sheet.open(ScheduleFilterCardComponent);\n    }\n}\n","import { Component } from '@angular/core';\nimport { ScheduleStateService } from './schedule-state.service';\n\n@Component({\n    selector: 'schedule-sidebar',\n    template: `\n        <div\n            class=\"flex flex-col w-[18rem] h-full overflow-hidden bg-white border-r border-gray-300\"\n        >\n            <schedule-calendar\n                class=\"border-b border-gray-200\"\n                [ngModel]=\"date | async\"\n                (ngModelChange)=\"setDate($event)\"\n            ></schedule-calendar>\n            <h3 class=\"mx-4 mt-4 font-medium\">Filters</h3>\n            <div class=\"p-4 space-y-4\">\n                <button\n                    matRipple\n                    class=\"flex items-center space-x-2 w-full text-left\"\n                    (click)=\"toggleType('event')\"\n                >\n                    <div\n                        class=\"h-10 w-10 rounded-full flex items-center justify-center bg-gray-200 text-2xl\"\n                    >\n                        <app-icon>meeting_room</app-icon>\n                    </div>\n                    <div class=\"flex-1\">\n                        <div class=\"\">Room</div>\n                        <div class=\"text-sm opacity-60\">\n                            Room and meeting invites\n                        </div>\n                    </div>\n                    <mat-checkbox\n                        [ngModel]=\"\n                            (filters | async)?.shown_types?.includes('event')\n                        \"\n                    ></mat-checkbox>\n                </button>\n                <button\n                    matRipple\n                    class=\"flex items-center space-x-2 w-full text-left\"\n                    (click)=\"toggleType('desk')\"\n                >\n                    <div\n                        class=\"h-10 w-10 rounded-full flex items-center justify-center bg-gray-200 text-2xl\"\n                    >\n                        <img src=\"assets/icons/desk-outline.svg\" class=\"w-6\" />\n                    </div>\n                    <div class=\"flex-1\">\n                        <div class=\"\">Desk</div>\n                        <div class=\"text-sm opacity-60\">Desk bookings</div>\n                    </div>\n                    <mat-checkbox\n                        [ngModel]=\"\n                            (filters | async)?.shown_types?.includes('desk')\n                        \"\n                    ></mat-checkbox>\n                </button>\n                <button\n                    matRipple\n                    class=\"flex items-center space-x-2 w-full text-left\"\n                    (click)=\"toggleType('parking')\"\n                >\n                    <div\n                        class=\"h-10 w-10 rounded-full flex items-center justify-center bg-gray-200 text-2xl\"\n                    >\n                        <app-icon>drive_eta</app-icon>\n                    </div>\n                    <div class=\"flex-1\">\n                        <div class=\"\">Parking</div>\n                        <div class=\"text-sm opacity-60\">Car space bookings</div>\n                    </div>\n                    <mat-checkbox\n                        [ngModel]=\"\n                            (filters | async)?.shown_types?.includes('parking')\n                        \"\n                    ></mat-checkbox>\n                </button>\n            </div>\n        </div>\n    `,\n    styles: [\n        `\n            mat-checkbox {\n                pointer-events: none;\n            }\n        `,\n    ],\n})\nexport class ScheduleSidebarComponent {\n    public readonly filters = this._state.filters;\n    public readonly date = this._state.date;\n    public readonly toggleType = (t) => this._state.toggleType(t);\n    public readonly setDate = (d) => this._state.setDate(d);\n\n    constructor(private _state: ScheduleStateService) {}\n}\n","import { Component, forwardRef, OnInit } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport {\n    addDays,\n    addMonths,\n    isBefore,\n    isSameMonth,\n    startOfDay,\n    startOfMonth,\n    startOfWeek,\n} from 'date-fns';\n\n@Component({\n    selector: 'schedule-mobile-calendar',\n    template: `\n        <div class=\"p-2\">\n            <button\n                class=\"flex items-center w-full p-2\"\n                matRipple\n                (click)=\"show_shortlist = !show_shortlist\"\n            >\n                <div class=\"px-2 font-medium\">\n                    {{ date_list[6]?.id || active_date | date: 'LLLL' }}\n                </div>\n                <app-icon>arrow_drop_down</app-icon>\n            </button>\n            <div class=\"flex items-center justify-center text-sm mb-2\">\n                <div\n                    class=\"opacity-60 text-center w-10 mx-2\"\n                    *ngFor=\"let day of date_list | slice: 0:7\"\n                >\n                    {{ day.id | date: 'EE' }}\n                </div>\n            </div>\n            <div class=\"flex items-center justify-between flex-wrap\">\n                <button\n                    mat-icon-button\n                    class=\"min-w-10 h-10 mx-2\"\n                    *ngFor=\"let day of list\"\n                    [class.text-opacity-30]=\"!day.is_month\"\n                    [class.text-primary]=\"day.id === active_date\"\n                    [class.text-black]=\"day.id !== active_date\"\n                    [class.bg-gray-200]=\"day.id === active_date\"\n                    [class.font-normal]=\"day.id !== active_date\"\n                    (click)=\"setValue(day.id)\"\n                >\n                    {{ day.id | date: 'd' }}\n                </button>\n            </div>\n        </div>\n    `,\n    styles: [``],\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: forwardRef(() => ScheduleMobileCalendarComponent),\n            multi: true,\n        },\n    ],\n})\nexport class ScheduleMobileCalendarComponent\n    implements OnInit, ControlValueAccessor {\n    public active_date = startOfDay(Date.now()).valueOf();\n    public offset = 0;\n    public date_list = [];\n    public short_list = [];\n    public show_shortlist = true;\n\n    /** Form control on change handler */\n    private _onChange: (_: number) => void;\n    /** Form control on touch handler */\n    private _onTouch: (_: number) => void;\n\n    public ngOnInit() {\n        this.generateDates();\n    }\n\n    public get list() {\n        return this.show_shortlist ? this.short_list : this.date_list;\n    }\n\n    /**\n     * Update the form field value\n     * @param new_value New value to set on the form field\n     */\n    public setValue(new_value: number) {\n        this.active_date = startOfDay(new_value).valueOf();\n        this.offset = 0;\n        if (this._onChange) {\n            this._onChange(new_value);\n        }\n    }\n    /**\n     * Update local value when form control value is changed\n     * @param value The new value for the component\n     */\n    public writeValue(value: number) {\n        this.active_date = startOfDay(value).valueOf();\n        this.offset = 0;\n        this.generateDates();\n    }\n\n    public changeMonth(change: number) {\n        this.offset += change;\n        this.generateDates();\n    }\n\n    /* istanbul ignore next */\n    public readonly registerOnChange = (fn) => (this._onChange = fn);\n    /* istanbul ignore next */\n    public readonly registerOnTouched = (fn) => (this._onTouch = fn);\n\n    public generateDates() {\n        const date = addMonths(this.active_date, this.offset);\n        let start = startOfWeek(startOfMonth(date));\n        const now = startOfDay(Date.now());\n        let list = [];\n        while (list.length < 42) {\n            list.push({\n                id: start.valueOf(),\n                is_past: isBefore(start, now),\n                is_month: isSameMonth(start, date),\n            });\n            start = addDays(start, 1);\n        }\n        this.date_list = list;\n        start = startOfWeek(date);\n        list = [];\n        while (list.length < 7) {\n            list.push({\n                id: start.valueOf(),\n                is_past: isBefore(start, now),\n                is_month: isSameMonth(start, date),\n            });\n            start = addDays(start, 1);\n        }\n        this.short_list = list;\n    }\n}\n","import { Component } from '@angular/core';\nimport { CalendarEvent } from '@placeos/events';\nimport { isSameDay } from 'date-fns';\nimport { map } from 'rxjs/operators';\nimport { ScheduleStateService } from './schedule-state.service';\n\n@Component({\n    selector: 'app-schedule',\n    template: `\n        <topbar></topbar>\n        <div class=\"flex flex-col sm:flex-row flex-1 h-1/2 bg-[#E5E5E5] relative\">\n            <schedule-sidebar class=\"hidden sm:block\"></schedule-sidebar>\n            <div class=\"w-full bg-white border-b border-gray-300 sm:hidden\">\n                <schedule-mobile-calendar\n                    [ngModel]=\"date | async\"\n                    (ngModelChange)=\"setDate($event)\"\n                ></schedule-mobile-calendar>\n            </div>\n            <div class=\"flex-1 h-full p-4 overflow-auto space-y-2\">\n                <schedule-filters></schedule-filters>\n                <h3 class=\"font-medium my-2\">\n                    {{ date | async | date: 'EEE dd LLL yyyy' }}\n                    <span *ngIf=\"is_today | async\">(Today)</span>\n                </h3>\n                <ng-container\n                    *ngIf=\"(bookings | async)?.length; else empty_state\"\n                >\n                    <ng-container *ngFor=\"let item of (loading | async) ? [] : bookings | async; trackBy: trackByFn\">\n                        <event-card\n                            *ngIf=\"isEvent(item); else booking_card\"\n                            [event]=\"item\"\n                        ></event-card>\n                        <ng-template #booking_card>\n                            <booking-card [booking]=\"item\"></booking-card>\n                        </ng-template>\n                    </ng-container>\n                </ng-container>\n            </div>\n            <mat-progress-bar\n                *ngIf=\"loading | async\"\n                class=\"absolute inset-x-0 bottom-0\"\n                mode=\"indeterminate\"\n            ></mat-progress-bar>\n        </div>\n        <footer-menu></footer-menu>\n        <ng-template #empty_state>\n            <div\n                class=\"w-full p-8 flex flex-col items-center justify-center space-y-4\"\n            >\n                <img src=\"assets/img/no-events.svg\" class=\"mr-4\" />\n                <p class=\"opacity-30\">\n                    No events and bookings for\n                    {{ date | async | date: 'EEEE, dd LLL yyyy' }}\n                </p>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class ScheduleComponent {\n    public readonly bookings = this._state.filtered_bookings;\n    public readonly date = this._state.date;\n    public readonly loading = this._state.loading;\n    public readonly is_today = this.date.pipe(\n        map((_) => isSameDay(_, Date.now()))\n    );\n    public readonly setDate = (d) => this._state.setDate(d);\n\n    public isEvent(item: any) {\n        return item instanceof CalendarEvent;\n    }\n\n    constructor(private _state: ScheduleStateService) {}\n\n    public trackByFn(index: number, item: any) {\n        return item?.id;\n    }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { Route, RouterModule } from '@angular/router';\nimport { MatBottomSheetModule } from '@angular/material/bottom-sheet';\nimport { SharedComponentModule } from '../components/shared.module';\nimport { ScheduleCalendarComponent } from './schedule-calendar.component';\nimport { ScheduleFilterCardComponent } from './schedule-filter-card.component';\nimport { ScheduleFiltersComponent } from './schedule-filters.component';\nimport { ScheduleSidebarComponent } from './schedule-sidebar.component';\nimport { ScheduleComponent } from './schedule.component';\nimport { ScheduleMobileCalendarComponent } from './schedule-mobile-calendar.component';\n\nconst ROUTES: Route[] = [\n    { path: '', component: ScheduleComponent },\n    { path: '**', redirectTo: '' },\n];\n\nconst COMPONENTS = [\n    ScheduleComponent,\n    ScheduleSidebarComponent,\n    ScheduleCalendarComponent,\n    ScheduleFiltersComponent,\n    ScheduleFilterCardComponent,\n    ScheduleMobileCalendarComponent\n];\n\n@NgModule({\n    declarations: [...COMPONENTS],\n    imports: [\n        CommonModule,\n        SharedComponentModule,\n        FormsModule,\n        MatBottomSheetModule,\n        RouterModule.forChild(ROUTES),\n    ],\n})\nexport class AppScheduleModule {}\n"],"sourceRoot":"webpack:///","file":"apps_workplace_src_app_new-schedule_schedule_module_ts.js"}