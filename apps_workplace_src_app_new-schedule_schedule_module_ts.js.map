{"version":3,"file":"apps_workplace_src_app_new-schedule_schedule_module_ts.js","mappings":"oTAkIO,IAAMA,EAA2B,MAAlC,MAAOA,EAMTC,YACYC,EACAC,GADAC,KAAAF,SACAE,KAAAD,aAPIC,KAAAC,QAAUD,KAAKF,OAAOG,QAEtBD,KAAAE,WAAcC,GAAMH,KAAKF,OAAOI,WAAWC,GAC3CH,KAAAI,QAAU,IAAMJ,KAAKD,WAAWK,SAK7C,CAACC,SAAAL,KAAA,mBAAAM,iBATKV,GAA2BW,MAAAC,KAAAD,MAAAE,MAAA,EAAAJ,SAAAL,KAAA,UAAAU,EAAAC,IAAA,MAA3Bf,EAA2BgB,UAAA,2BAAAC,MAAA,GAAAC,KAAA,GAAAC,OAAA,ggCAAAC,SAAA,SAAAC,EAAAC,MAAA,EAAAD,IAxH5BV,MAHJ,UAGIA,CADH,cAC0BA,MAAA,0BAASW,EAAAd,SAAS,GACrCG,MAAA,cAAUA,MAAA,kBACdA,UACAA,MAAA,UACIA,MAAA,wBACJA,QACAA,MAAA,cACJA,QAEIA,MADJ,UACIA,CADsD,cAKlDA,MAAA,0BAASW,EAAAhB,WAAW,QAAQ,GAKxBK,MAHJ,WAGIA,CADH,eACaA,MAAA,mBACdA,UAEIA,MADJ,WACIA,CADgB,YACFA,MAAA,0BAA4BA,QAC1CA,MAAA,YACIA,MAAA,0BAERA,UACAA,MAAA,uCAKJA,QACAA,MAAA,gBAIIA,MAAA,0BAASW,EAAAhB,WAAW,OAAO,GAE3BK,MAAA,YAGIA,MAAA,aACJA,QAEIA,MADJ,WACIA,CADgB,YACFA,MAAA,0BAA4BA,QAC1CA,MAAA,YACIA,MAAA,0BAERA,UACAA,MAAA,uCAGJA,QACAA,MAAA,gBAIIA,MAAA,0BAASW,EAAAhB,WAAW,UAAU,GAK1BK,MAHJ,WAGIA,CADH,eACaA,MAAA,gBACdA,UAEIA,MADJ,WACIA,CADgB,YACFA,MAAA,0BAA+BA,QAC7CA,MAAA,YACIA,MAAA,0BAERA,UACAA,MAAA,uCAKJA,QACAA,MAAA,gBAIIA,MAAA,0BAASW,EAAAhB,WAAW,UAAU,GAK1BK,MAHJ,WAGIA,CADH,eACaA,MAAA,aACdA,UAEIA,MADJ,WACIA,CADgB,YACFA,MAAA,0BAAgCA,QAC9CA,MAAA,YACIA,MAAA,0BAERA,UACAA,MAAA,uCAMRA,UAEIA,MADJ,YACIA,CADmB,gBAMfA,MAAA,0BAASW,EAAAd,SAAS,GAElBG,MAAA,0BAERA,4BA1GQA,MAAA,GAAAA,MAAA,IAAAA,MAAA,+BAiBkBA,MAAA,IAAAA,YAAA,mBAEVA,MAAA,GAAAA,MAAA,IAAAA,MAAA,sCAIJA,MAAA,GAAAA,MAAA,iBAAAY,EAAAZ,MAAA,MAAAW,EAAAjB,WAAA,MAAAkB,EAAAC,YAAA,KAAAD,EAAAC,YAAAC,SAAA,UAiBcd,MAAA,GAAAA,YAAA,mBAEVA,MAAA,GAAAA,MAAA,IAAAA,MAAA,uCAIJA,MAAA,GAAAA,MAAA,iBAAAe,EAAAf,MAAA,MAAAW,EAAAjB,WAAA,MAAAqB,EAAAF,YAAA,KAAAE,EAAAF,YAAAC,SAAA,SAecd,MAAA,GAAAA,YAAA,sBAEVA,MAAA,GAAAA,MAAA,IAAAA,MAAA,0CAIJA,MAAA,GAAAA,MAAA,iBAAAgB,EAAAhB,MAAA,MAAAW,EAAAjB,WAAA,MAAAsB,EAAAH,YAAA,KAAAG,EAAAH,YAAAC,SAAA,YAiBcd,MAAA,GAAAA,YAAA,uBAEVA,MAAA,GAAAA,MAAA,IAAAA,MAAA,2CAIJA,MAAA,GAAAA,MAAA,iBAAAiB,EAAAjB,MAAA,MAAAW,EAAAjB,WAAA,MAAAuB,EAAAJ,YAAA,KAAAI,EAAAJ,YAAAC,SAAA,YAcJd,MAAA,GAAAA,MAAA,IAAAA,MAAA,oPAYHX,CAA2B,2DC9GpBW,MAJJ,UAIIA,CADH,YACsBA,MAAA,wBAA6BA,QAChDA,MAAA,eAGIA,MAAA,mBAAAA,MAAAkB,GAAA,MAAAC,EAAAnB,QAAA,OAAAA,MAASmB,EAAAxB,WAAW,SAAS,GAAK,GAElCK,MAAA,cAAUA,MAAA,WAElBA,kBARuBA,MAAA,GAAAA,YAAA,2DAgBnBA,MAPJ,UAOIA,CADH,YACqBA,MAAA,wBAA6BA,QAC/CA,MAAA,eAGIA,MAAA,mBAAAA,MAAAoB,GAAA,MAAAD,EAAAnB,QAAA,OAAAA,MAASmB,EAAAxB,WAAW,QAAQ,GAAK,GAEjCK,MAAA,cAAUA,MAAA,WAElBA,kBARsBA,MAAA,GAAAA,YAAA,2DAgBlBA,MAPJ,UAOIA,CADH,YACsBA,MAAA,wBAA+BA,QAClDA,MAAA,eAIIA,MAAA,mBAAAA,MAAAqB,GAAA,MAAAF,EAAAnB,QAAA,OAAAA,MAASmB,EAAAxB,WAAW,WAAW,GAAK,GAEpCK,MAAA,cAAUA,MAAA,WAElBA,kBATuBA,MAAA,GAAAA,YAAA,6DAiBnBA,MAPJ,UAOIA,CADH,YACsBA,MAAA,wBAAgCA,QACnDA,MAAA,eAIIA,MAAA,mBAAAA,MAAAsB,GAAA,MAAAH,EAAAnB,QAAA,OAAAA,MAASmB,EAAAxB,WAAW,WAAW,GAAK,GAEpCK,MAAA,cAAUA,MAAA,WAElBA,kBATuBA,MAAA,GAAAA,YAAA,8DAiBnBA,MAPJ,UAOIA,CADH,YACsBA,MAAA,wBAA+BA,QAClDA,MAAA,eAIIA,MAAA,mBAAAA,MAAAuB,GAAA,MAAAJ,EAAAnB,QAAA,OAAAA,MAASmB,EAAAxB,WAAW,UAAU,GAAK,GAEnCK,MAAA,cAAUA,MAAA,WAElBA,kBATuBA,MAAA,GAAAA,YAAA,6DAkBnBA,MARJ,UAQIA,CADH,YACsBA,MAAA,wBAAmCA,QACtDA,MAAA,eAIIA,MAAA,mBAAAA,MAAAwB,GAAA,MAAAL,EAAAnB,QAAA,OAAAA,MAASmB,EAAAxB,WAAW,eAAe,GAAK,GAExCK,MAAA,cAAUA,MAAA,WAElBA,kBATuBA,MAAA,GAAAA,YAAA,kEA6BvBA,MAJJ,WAIIA,CADH,SACQA,MAAA,wBAA6BA,QAClCA,MAAA,eAGIA,MAAA,mBAAAA,MAAAyB,GAAA,MAAAN,EAAAnB,QAAA,OAAAA,MAASmB,EAAAxB,WAAW,SAAS,GAAK,GAElCK,MAAA,cAAUA,MAAA,WAElBA,kBARSA,MAAA,GAAAA,YAAA,4DAgBLA,MAPJ,WAOIA,CADH,SACQA,MAAA,wBAA6BA,QAClCA,MAAA,eAGIA,MAAA,mBAAAA,MAAA0B,GAAA,MAAAP,EAAAnB,QAAA,OAAAA,MAASmB,EAAAxB,WAAW,QAAQ,GAAK,GAEjCK,MAAA,cAAUA,MAAA,WAElBA,kBARSA,MAAA,GAAAA,YAAA,4DAgBLA,MAPJ,WAOIA,CADH,SACQA,MAAA,wBAA+BA,QACpCA,MAAA,eAGIA,MAAA,mBAAAA,MAAA2B,GAAA,MAAAR,EAAAnB,QAAA,OAAAA,MAASmB,EAAAxB,WAAW,WAAW,GAAK,GAEpCK,MAAA,cAAUA,MAAA,WAElBA,kBARSA,MAAA,GAAAA,YAAA,8DAgBLA,MAPJ,WAOIA,CADH,SACQA,MAAA,wBAAgCA,QACrCA,MAAA,eAGIA,MAAA,mBAAAA,MAAA4B,GAAA,MAAAT,EAAAnB,QAAA,OAAAA,MAASmB,EAAAxB,WAAW,WAAW,GAAK,GAEpCK,MAAA,cAAUA,MAAA,WAElBA,kBARSA,MAAA,GAAAA,YAAA,+DAgBLA,MAPJ,WAOIA,CADH,SACQA,MAAA,wBAA+BA,QACpCA,MAAA,eAGIA,MAAA,mBAAAA,MAAA6B,GAAA,MAAAV,EAAAnB,QAAA,OAAAA,MAASmB,EAAAxB,WAAW,UAAU,GAAK,GAEnCK,MAAA,cAAUA,MAAA,WAElBA,kBARSA,MAAA,GAAAA,YAAA,8DAgBLA,MAPJ,WAOIA,CADH,SACQA,MAAA,wBAAoCA,QACzCA,MAAA,eAGIA,MAAA,mBAAAA,MAAA8B,GAAA,MAAAX,EAAAnB,QAAA,OAAAA,MAASmB,EAAAxB,WAAW,eAAe,GAAK,GAExCK,MAAA,cAAUA,MAAA,WAElBA,kBARSA,MAAA,GAAAA,YAAA,0BAad,IAAM+B,EAAwB,MAA/B,MAAOA,EAKFC,WAAWC,GACd,OAAOxC,KAAKyC,UAAUC,IAAI,iBAAiBrB,SAASmB,EACxD,CAEA3C,YACY8C,EACA7C,EACA2C,GAFAzC,KAAA2C,SACA3C,KAAAF,SACAE,KAAAyC,YAXIzC,KAAAC,QAAUD,KAAKF,OAAOG,QAEtBD,KAAAE,WAAa,CAACC,EAAGyC,GAAI,IAAU5C,KAAKF,OAAOI,WAAWC,EAAGyC,EAUtE,CAEIC,cACH7C,KAAK2C,OAAOG,KAAKlD,EACrB,CAACS,SAAAL,KAAA,mBAAAM,iBAjBQgC,GAAwB/B,MAAAC,MAAAD,MAAAE,KAAAF,MAAAwC,MAAA,EAAA1C,SAAAL,KAAA,UAAAU,EAAAC,IAAA,MAAxB2B,EAAwB1B,UAAA,uBAAAC,MAAA,GAAAC,KAAA,GAAAC,OAAA,g3CAAAC,SAAA,SAAAC,EAAAC,MAAA,EAAAD,IAtNzBV,MAHJ,UAGIA,CADH,UAEOA,MAAA,wBACJA,QACAA,MAAA,WACIA,MAAA,EAAAyC,EAAA,8BAaAzC,MAAA,EAAA0C,EAAA,8BAgBA1C,MAAA,EAAA2C,EAAA,+BAiBA3C,MAAA,GAAA4C,EAAA,+BAiBA5C,MAAA,GAAA6C,EAAA,+BAiBA7C,MAAA,GAAA8C,EAAA,+BAmBR9C,UAEIA,MADJ,WACIA,CAD+C,eAM3CA,MAAA,0BAASW,EAAA2B,aAAa,GAGlBtC,MADJ,WACIA,CADoD,iBAC1BA,MAAA,kBAGlCA,YACAA,MAAA,GAAA+C,GAAA,+BAaA/C,MAAA,GAAAgD,GAAA,+BAgBAhD,MAAA,GAAAiD,GAAA,+BAgBAjD,MAAA,GAAAkD,GAAA,+BAgBAlD,MAAA,GAAAmD,GAAA,+BAgBAnD,MAAA,GAAAoD,GAAA,+BAgBJpD,0CAjNQA,MAAA,GAAAA,MAAA,IAAAA,MAAA,sCAKKA,MAAA,GAAAA,MAAA,cAAAqD,EAAArD,MAAA,KAAAW,EAAAjB,WAAA,MAAA2D,EAAAxC,YAAA,KAAAwC,EAAAxC,YAAAC,SAAA,UAaAd,MAAA,GAAAA,MAAA,eAAAsD,EAAAtD,MAAA,KAAAW,EAAAjB,WAAA,MAAA4D,EAAAzC,YAAA,KAAAyC,EAAAzC,YAAAC,SAAA,UAAAH,EAAAqB,WAAA,UAgBAhC,MAAA,GAAAA,MAAA,eAAAY,EAAAZ,MAAA,MAAAW,EAAAjB,WAAA,MAAAkB,EAAAC,YAAA,KAAAD,EAAAC,YAAAC,SAAA,aAAAH,EAAAqB,WAAA,YAiBAhC,MAAA,GAAAA,MAAA,eAAAuD,EAAAvD,MAAA,MAAAW,EAAAjB,WAAA,MAAA6D,EAAA1C,YAAA,KAAA0C,EAAA1C,YAAAC,SAAA,aAAAH,EAAAqB,WAAA,mBAiBAhC,MAAA,GAAAA,MAAA,eAAAwD,EAAAxD,MAAA,MAAAW,EAAAjB,WAAA,MAAA8D,EAAA3C,YAAA,KAAA2C,EAAA3C,YAAAC,SAAA,YAAAH,EAAAqB,WAAA,YAiBAhC,MAAA,GAAAA,MAAA,eAAAe,EAAAf,MAAA,MAAAW,EAAAjB,WAAA,MAAAqB,EAAAF,YAAA,KAAAE,EAAAF,YAAAC,SAAA,iBAAAH,EAAAqB,WAAA,iBAiCJhC,MAAA,GAAAA,MAAA,cAAAyD,EAAAzD,MAAA,MAAAW,EAAAjB,WAAA,MAAA+D,EAAA5C,YAAA,KAAA4C,EAAA5C,YAAAC,SAAA,UAaAd,MAAA,GAAAA,MAAA,eAAA0D,EAAA1D,MAAA,MAAAW,EAAAjB,WAAA,MAAAgE,EAAA7C,YAAA,KAAA6C,EAAA7C,YAAAC,SAAA,UAAAH,EAAAqB,WAAA,UAgBAhC,MAAA,GAAAA,MAAA,eAAAgB,EAAAhB,MAAA,MAAAW,EAAAjB,WAAA,MAAAsB,EAAAH,YAAA,KAAAG,EAAAH,YAAAC,SAAA,aAAAH,EAAAqB,WAAA,YAgBAhC,MAAA,GAAAA,MAAA,eAAA2D,EAAA3D,MAAA,MAAAW,EAAAjB,WAAA,MAAAiE,EAAA9C,YAAA,KAAA8C,EAAA9C,YAAAC,SAAA,aAAAH,EAAAqB,WAAA,mBAgBAhC,MAAA,GAAAA,MAAA,eAAA4D,EAAA5D,MAAA,MAAAW,EAAAjB,WAAA,MAAAkE,EAAA/C,YAAA,KAAA+C,EAAA/C,YAAAC,SAAA,YAAAH,EAAAqB,WAAA,YAgBAhC,MAAA,GAAAA,MAAA,eAAAiB,EAAAjB,MAAA,MAAAW,EAAAjB,WAAA,MAAAuB,EAAAJ,YAAA,KAAAI,EAAAJ,YAAAC,SAAA,iBAAAH,EAAAqB,WAAA,mEAkBJD,CAAwB,6DCjNrB/B,MAAA,eAKIA,MAAA,mBAAAA,MAAAkB,GAAA,MAAAC,EAAAnB,QAAA,OAAAA,MAASmB,EAAAxB,WAAW,SAAQ,GAKxBK,MAHJ,WAGIA,CADH,cACaA,MAAA,WACdA,UAEIA,MADJ,WACIA,CADgB,YACFA,MAAA,wBAA4BA,QAC1CA,MAAA,YACIA,MAAA,yBAERA,UACAA,MAAA,wCAKJA,sCAVsBA,MAAA,GAAAA,YAAA,iBAEVA,MAAA,GAAAA,MAAA,IAAAA,MAAA,sCAIJA,MAAA,GAAAA,MAAA,iBAAAY,EAAAZ,MAAA,KAAAmB,EAAAzB,WAAA,MAAAkB,EAAAC,YAAA,KAAAD,EAAAC,YAAAC,SAAA,oDAKRd,MAAA,eAKIA,MAAA,mBAAAA,MAAAoB,GAAA,MAAAD,EAAAnB,QAAA,OAAAA,MAASmB,EAAAxB,WAAW,QAAO,GAE3BK,MAAA,YAGIA,MAAA,YACJA,QAEIA,MADJ,WACIA,CADgB,YACFA,MAAA,wBAA4BA,QAC1CA,MAAA,YACIA,MAAA,wBAERA,UACAA,MAAA,wCAKJA,sCAVsBA,MAAA,GAAAA,YAAA,iBAEVA,MAAA,GAAAA,MAAA,IAAAA,MAAA,qCAIJA,MAAA,GAAAA,MAAA,iBAAAY,EAAAZ,MAAA,KAAAmB,EAAAzB,WAAA,MAAAkB,EAAAC,YAAA,KAAAD,EAAAC,YAAAC,SAAA,mDAKRd,MAAA,eAKIA,MAAA,mBAAAA,MAAAqB,GAAA,MAAAF,EAAAnB,QAAA,OAAAA,MAASmB,EAAAxB,WAAW,WAAU,GAK1BK,MAHJ,WAGIA,CADH,cACaA,MAAA,eACdA,UAEIA,MADJ,WACIA,CADgB,YACFA,MAAA,wBAA+BA,QAC7CA,MAAA,YACIA,MAAA,yBAERA,UACAA,MAAA,wCAKJA,sCAVsBA,MAAA,GAAAA,YAAA,oBAEVA,MAAA,GAAAA,MAAA,IAAAA,MAAA,yCAIJA,MAAA,GAAAA,MAAA,iBAAAY,EAAAZ,MAAA,KAAAmB,EAAAzB,WAAA,MAAAkB,EAAAC,YAAA,KAAAD,EAAAC,YAAAC,SAAA,sDAKRd,MAAA,eAKIA,MAAA,mBAAAA,MAAAsB,GAAA,MAAAH,EAAAnB,QAAA,OAAAA,MAASmB,EAAAxB,WAAW,WAAU,GAK1BK,MAHJ,WAGIA,CADH,cACaA,MAAA,YACdA,UAEIA,MADJ,WACIA,CADgB,YAChBA,MAAA,0BAEAA,QACAA,MAAA,YAAAA,MAAA,2BAGJA,UACAA,MAAA,wCAKJA,sCAXYA,MAAA,GAAAA,YAAA,8BAGAA,MAAA,GAAAA,YAAA,8CAIJA,cAAA,iBAAAwD,EAAAxD,MAAA,KAAAmB,EAAAzB,WAAA,MAAA8D,EAAA3C,YAAA,KAAA2C,EAAA3C,YAAAC,SAAA,sDAKRd,MAAA,eAKIA,MAAA,mBAAAA,MAAAuB,GAAA,MAAAJ,EAAAnB,QAAA,OAAAA,MAASmB,EAAAxB,WAAW,UAAS,GAKzBK,MAHJ,WAGIA,CADH,cACaA,MAAA,eACdA,UAEIA,MADJ,WACIA,CADgB,YAChBA,MAAA,0BAEAA,QACAA,MAAA,YAAAA,MAAA,2BAGJA,UACAA,MAAA,wCAKJA,sCAXYA,MAAA,GAAAA,YAAA,6BAGAA,MAAA,GAAAA,YAAA,6CAIJA,cAAA,iBAAAwD,EAAAxD,MAAA,KAAAmB,EAAAzB,WAAA,MAAA8D,EAAA3C,YAAA,KAAA2C,EAAA3C,YAAAC,SAAA,qDAKRd,MAAA,eAKIA,MAAA,mBAAAA,MAAAwB,GAAA,MAAAL,EAAAnB,QAAA,OAAAA,MAASmB,EAAAxB,WAAW,eAAc,GAK9BK,MAHJ,WAGIA,CADH,cACaA,MAAA,eACdA,UAEIA,MADJ,WACIA,CADgB,YAChBA,MAAA,0BAEAA,QACAA,MAAA,YAAAA,MAAA,2BAGJA,UACAA,MAAA,wCAOJA,sCAbYA,MAAA,GAAAA,YAAA,iCAGAA,MAAA,GAAAA,YAAA,kDAIJA,cAAA,iBAAAwD,EAAAxD,MAAA,KAAAmB,EAAAzB,WAAA,MAAA8D,EAAA3C,YAAA,KAAA2C,EAAA3C,YAAAC,SAAA,iBAkBjB,IAAM+C,EAAwB,MAA/B,MAAOA,EAMF7B,WAAWC,GACd,OAAOxC,KAAKyC,UAAUC,IAAI,iBAAiBrB,SAASmB,EACxD,CAEA3C,YACYC,EACA2C,GADAzC,KAAAF,SACAE,KAAAyC,YAXIzC,KAAAC,QAAUD,KAAKF,OAAOG,QACtBD,KAAAqE,KAAOrE,KAAKF,OAAOuE,KACnBrE,KAAAE,WAAcC,GAAMH,KAAKF,OAAOI,WAAWC,GAC3CH,KAAAsE,QAAWC,GAAMvE,KAAKF,OAAOwE,QAAQC,EASlD,CAAClE,SAAAL,KAAA,mBAAAM,iBAbK8D,GAAwB7D,MAAAC,KAAAD,MAAAE,MAAA,EAAAJ,SAAAL,KAAA,UAAAU,EAAAC,IAAA,MAAxByD,EAAwBxD,UAAA,uBAAAC,MAAA,GAAAC,KAAA,EAAAC,YAAA,IAAAyD,uBArKcC,oFAuFRA,4EACf,oCAEiCA,4EACjC,oCAsBeA,4EACf,oCAEiCA,4EACjC,oCAsBeA,4EACf,oCAEiCA,4EACjC,kxDApJhBlE,MAHJ,UAGIA,CADH,sCAIOA,MAAA,yBAAAmE,GAAA,OAAiBxD,EAAAoD,QAAAI,EAAe,GACnCnE,QACDA,MAAA,UAAAA,MAAA,KAA8CA,QAC9CA,MAAA,YA6HIA,MA5HA,EAAAoE,GAAA,iBA4HApE,CAtHC,EAAAqE,GAAA,iBAsHDrE,CA9FC,EAAAsE,GAAA,iBA8FDtE,CAtEC,EAAAuE,GAAA,iBAsEDvE,CA9CC,GAAAwE,GAAA,iBA8CDxE,CApBC,GAAAyE,GAAA,kBAiDTzE,iBA9JQA,cAAA,UAAAA,MAAA,IAAAW,EAAAmD,OASK9D,MAAA,GAAAA,MAAA,OAAAW,EAAAqB,WAAA,WAwBAhC,cAAA,OAAAW,EAAAqB,WAAA,UAwBAhC,cAAA,OAAAW,EAAAqB,WAAA,YAwBAhC,cAAA,OAAAW,EAAAqB,WAAA,mBA0BAhC,cAAA,OAAAW,EAAAqB,WAAA,YA0BAhC,cAAA,OAAAW,EAAAqB,WAAA,2OAmCR6B,CAAwB,gPCzIrB7D,MAAA,WAIIA,MAAA,mBACJA,kCADIA,cAAA,IAAAA,MAAA,IAAA0E,EAAAC,GAAA,kCAgBA3E,MAAA,qDAZJA,MAAA,eAUIA,MAAA,yBAAA4E,EAAA5E,MAAA6E,GAAAC,UAAAC,EAAA/E,QAAA,OAAAA,MAAS+E,EAAAC,SAAAJ,EAAAD,IAAgB,GAEzB3E,MAAA,EAAAiF,GAAA,cAIAjF,MAAA,mBACJA,8CARIA,MAJA,mBAAA4E,EAAAM,SAIAlF,CAJuC,aAAA4E,EAAAD,KAAAI,EAAAI,YAIvCnF,CAH2C,aAAA4E,EAAAD,KAAAI,EAAAI,YAG3CnF,CAF2C,aAAA4E,EAAAD,KAAAI,EAAAI,YAE3CnF,CAD2C,cAAA4E,EAAAD,KAAAI,EAAAI,aAMtCnF,cAAA,OAAA4E,EAAAQ,UAELpF,cAAA,IAAAA,MAAA,KAAA4E,EAAAD,GAAA,WAcb,IAAMU,EAA+B,MAAtC,MAAOA,EApEb/F,cAuEWG,KAAA0F,eAAcG,KAAWC,KAAKC,OAAOC,UACrChG,KAAAiG,OAAS,EACTjG,KAAAkG,UAAY,GACZlG,KAAAmG,WAAa,GACbnG,KAAAoG,gBAAiB,EA8CRpG,KAAAqG,iBAAoBC,GAAQtG,KAAKuG,UAAYD,EAE7CtG,KAAAwG,kBAAqBF,GAAQtG,KAAKyG,SAAWH,EAzCtDI,WACH1G,KAAK2G,eACT,CAEA,QAAWC,GACP,OAAO5G,KAAKoG,eAAiBpG,KAAKmG,WAAanG,KAAKkG,SACxD,CAMOX,SAASsB,GACZ7G,KAAK0F,eAAcG,KAAWgB,GAAWb,UACzChG,KAAKiG,OAAS,EACVjG,KAAKuG,WACLvG,KAAKuG,UAAUM,EAEvB,CAKOC,WAAWC,GACd/G,KAAK0F,eAAcG,KAAWkB,GAAOf,UACrChG,KAAKiG,OAAS,EACdjG,KAAK2G,eACT,CAEOK,aACHhH,KAAKiH,aAAajH,KAAKiG,OAC3B,CAEOgB,YAAYC,GACflH,KAAKiG,QAAUiB,EACflH,KAAK2G,eACT,CAOOA,gBACH,MAAMtC,KAAO8C,MAAUnH,KAAK0F,YAAa1F,KAAKiG,QAC9C,IAAImB,KAAQC,QAAYC,KAAajD,IACrC,MAAM0B,KAAMF,KAAWC,KAAKC,OAC5B,IAAIa,EAAO,GACX,KAAOA,EAAKW,OAAS,IACjBX,EAAKY,KAAK,CACNtC,GAAIkC,EAAMpB,UACVyB,WAASC,KAASN,EAAOrB,GACzBN,YAAUkC,KAAYP,EAAO/C,GAC7BsB,YAAUiC,KAAU9B,KAAKC,MAAOqB,KAEpCA,KAAQS,KAAQT,EAAO,GAQ3B,IANApH,KAAKkG,UAAYU,EACjBQ,GACoB,EACVC,KADU,IAAhBrH,KAAKiG,OACa5B,GACZgD,EAAYC,KAAajD,IACnCuC,EAAO,GACAA,EAAKW,OAAS,GACjBX,EAAKY,KAAK,CACNtC,GAAIkC,EAAMpB,UACVyB,WAASC,KAASN,EAAOrB,GACzBN,YAAUkC,KAAYP,EAAO/C,GAC7BsB,YAAUiC,KAAU9B,KAAKC,MAAOqB,KAEpCA,KAAQS,KAAQT,EAAO,GAE3BpH,KAAKmG,WAAaS,CACtB,CAACvG,SAAAL,KAAA,mBAAAM,iBAvFQsF,EAA+B,EAAAvF,SAAAL,KAAA,UAAAU,EAAAC,IAAA,MAA/BiF,EAA+BhF,UAAA,+BAAAkH,SAAA,CAAAvH,MAR7B,CACP,CACIwH,QAASC,KACTC,eAAaC,OAAW,IAAMtC,GAC9BuC,OAAO,MAEdtH,MAAA,GAAAC,KAAA,GAAAC,OAAA,i1BAAAC,SAAA,SAAAC,EAAAC,GAAA,EAAAD,IA7DWV,MAFR,UAEQA,CAFS,UAETA,CAD2C,cAKvCA,MAAA,0BAASW,EAAA8F,YAAY,GAErBzG,MAAA,mBACJA,QAEIA,MADJ,UACIA,CAD2B,cACJA,MAAA,0BAASW,EAAA+F,aAAA,EAAe,GAC3C1G,MAAA,cAAUA,MAAA,kBACdA,UACAA,MAAA,cAAuBA,MAAA,0BAASW,EAAA+F,YAAY,EAAE,GAC1C1G,MAAA,eAAUA,MAAA,oBACdA,UACAA,MAAA,eAGIA,MAAA,0BAAAW,EAAAkF,gBAAAlF,EAAAkF,cAAA,GAEA7F,MAAA,eAAUA,MAAA,sBAGtBA,cACAA,MAAA,YACIA,MAAA,GAAA6H,GAAA,+BAMJ7H,QACAA,MAAA,YACIA,MAAA,GAAA8H,GAAA,iBAmBR9H,iBA9CYA,MAAA,GAAAA,MAAA,IAAAA,MAAA,WAAAW,EAAAgF,UAAA,QAAAhF,EAAAgF,UAAA,GAAAhB,KAAAhE,EAAAwE,YAAA,kBAqBgBnF,MAAA,IAAAA,MAAA,UAAAA,MAAA,KAAAW,EAAAgF,UAAA,MAUA3F,MAAA,GAAAA,MAAA,UAAAW,EAAA0F,6DA0BvBhB,CAA+B,2BChDpCrF,MAAA,mCAiBYA,MAAA,UACKA,MAAA,wBAAkCA,eAAlCA,cAAA,IAAAA,MAAA,mEAYDA,MAAA,mBAIIA,MADA,kBAAAA,MAAA6E,GAAA,MAAAkD,EAAA/H,QAAA8E,UAAAC,EAAA/E,MAAA,UAAAA,MAAQ+E,EAAAiD,KAAAD,GAAU,EAClB/H,CADmB,kBAAAmE,GAAAnE,MAAA6E,GAAA,MAAAkD,EAAA/H,QAAA8E,UAAAC,EAAA/E,MAAA,UAAAA,MACT+E,EAAAkD,OAAAF,EAAA5D,GAAoB,GACjCnE,0CAHGA,MAAA,QAAA+H,6CAKA/H,MAAA,qBAIIA,MAFA,kBAAAA,MAAAsB,GAAA,MAAAyG,EAAA/H,QAAA8E,UAAAC,EAAA/E,MAAA,UAAAA,MAAQ+E,EAAAmD,YAAAH,GAAiB,EAEzB/H,CAF0B,oBAAAA,MAAAsB,GAAA,MAAAyG,EAAA/H,QAAA8E,UAAAC,EAAA/E,MAAA,UAAAA,MAChB+E,EAAAkD,OAAAF,GAAY,EACtB/H,CADuB,iBAAAA,MAAAsB,GAAA,MAAAyG,EAAA/H,QAAA8E,UAAAC,EAAA/E,MAAA,UAAAA,MAChB+E,EAAAoD,IAAAJ,GAAS,GACnB/H,0CAJGA,MAAA,UAAA+H,8BAdZ/H,MAAA,GAYIA,MANA,EAAAoI,GAAA,oBAMApI,CADC,EAAAqI,GAAA,yBAAArI,+DAJIA,QAAqBA,MAArB,OAAA+E,EAAAuD,QAAAP,GAAqB/H,CAAA,WAAAuI,8BAVlCvI,MAAA,GAGIA,MAAA,EAAAwI,GAAA,sEAGZxI,QACEA,MADF,UAAAA,MAAA,IAAA+E,EAAA0D,UACEzI,CAAA,eAAA+E,EAAA2D,kCAmBE1I,MAAA,+CAMJA,MAAA,2CAEIA,MAAA,YAGIA,MAAA,YACAA,MAAA,UACIA,MAAA,yDAGRA,gCAHQA,MAAA,GAAAA,MAAA,IAAAA,MAAA,8BAAAA,MAAA,IAAAA,MAAA,IAAA+E,EAAAjB,MAAA,2BCjFpB,MAAM6E,GAAkB,CACpB,CAAEC,KAAM,GAAIC,UDiGe,MAAzB,MAAOC,UAA0BC,KAY5BT,QAAQU,GACX,OAAOA,aAAgBC,IAC3B,CAEA,YAAWC,GACP,MAAoD,SAA7CC,aAAaC,QAAQ,mBAChC,CAEA9J,YACYC,EACA8J,EACAC,EACAC,EACAC,EACAtH,GAERuH,QAPQhK,KAAAF,SACAE,KAAA4J,cACA5J,KAAA6J,gBACA7J,KAAA8J,UACA9J,KAAA+J,UACA/J,KAAAyC,YAzBIzC,KAAAgJ,YAAWiB,OAAc,CACrCjK,KAAKF,OAAOoK,kBACZlK,KAAKF,OAAOqK,UACbC,QAAKC,KAAI,EAAErB,EAAUmB,KAAcA,EAAU,GAAKnB,IACrChJ,KAAAqE,KAAOrE,KAAKF,OAAOuE,KACnBrE,KAAAmK,QAAUnK,KAAKF,OAAOqK,QACtBnK,KAAA2F,SAAW3F,KAAKqE,KAAK+F,QACjCC,KAAKC,MAAM1C,KAAU0C,EAAGxE,KAAKC,SAEjB/F,KAAAsE,QAAWC,GAAMvE,KAAKF,OAAOwE,QAAQC,EAmBrD,CAEOmC,WACH1G,KAAKF,OAAOyK,cACZvK,KAAKwK,aAAa,OAAQxK,KAAKF,OAAO2K,eAC1C,CAEOxB,UAAUyB,EAAenB,GAC5B,OAAOA,GAAMrE,EACjB,CAEaqD,KAAKoC,GAAoB,IAAAC,EAAA5K,KAAA,SAAA6K,KAAA,YAClCD,EAAKd,QAAQgB,SAAS,CAAC,QAAS,UAAW,SACvCH,EAAMI,UAAYJ,EAAMK,UACxBL,SACI,EACUM,MAAY,CACdC,aAAcP,EAAMQ,YACpBC,WAAYT,EAAMU,UAClBC,SAAUX,EAAMW,WACjBC,aACLC,KAAMlB,GAAMA,EAAEgB,WAAaX,EAAMW,WAAaX,GAExDC,EAAKhB,YAAY6B,QAAQd,EAAO,EAZE,EAatC,CAEOlC,YAAYkC,GACf3K,KAAK8J,QAAQgB,SAAS,CAAC,QAAS,OAAOH,EAAMe,SAC7C1L,KAAK6J,cAAc4B,QAAQd,GAC3BgB,WAAW,KACP3L,KAAK6J,cAAc+B,KAAKC,WAAW,CAC/BC,UAAW,CACP,CACI5G,GAAIyF,EAAMoB,SACVC,KAAMrB,EAAMsB,YAActB,EAAMuB,cAGxCH,SAAUpB,EAAMoB,UACnB,EACF,IACP,CAEavD,OAAOe,EAA+B4C,GAAgB,GAAK,IAAAC,EAAApM,KAAA,SAAA6K,KAAA,YACpE,MAAMwB,EAAO,MAAGC,MAAO/C,EAAKlF,KAAM,uBAK5BkI,EAAU,cACZJ,EAAgB,uBAAyB,iBAJzC5C,aAAgBC,KACVD,EAAKiD,OAAOC,aACZlD,EAAK0C,YAAc1C,EAAKwC,eAGCM,IAC7BK,QAAI,EAASC,MACf,CAAEC,MAAO,iBAAkBL,UAASM,KAAM,CAAEN,QAAS,WACrDH,EAAKrC,SAELR,aAAgBC,MAAiBD,EAAKwB,UAAYxB,EAAKyB,UACvDzB,SACI,EACU0B,MAAY,CACdC,aAAc3B,EAAK4B,YACnBC,WAAY7B,EAAK8B,UACjBC,SAAU/B,EAAK+B,WAChBC,aACLC,KAAMlB,GAAMA,EAAEgB,WAAc/B,EAAa+B,WAAa/B,GAE5C,SAAhBmD,EAAKI,SACTJ,EAAKvC,QAAQ,wCACNZ,aAAgBC,KAAgBuD,KAAcC,MACjDb,EAAiB5C,EAAa0D,mBAAqB1D,EAAKrE,GACxD,CACIgI,SAAUd,EAAK3J,UAAUC,IAAI,wBACvB,KACC6G,EAAa2D,aAAYC,SAAeC,MAC/CC,UAAY9D,EAAa+D,QAAQpI,GACjCqI,WAAahE,EAAagE,eAAYC,EACtCC,WAAelE,EAAagE,SACrBhE,EAAagE,cACdC,IAGTjC,YACAmC,MAAOC,IACJC,cAAY,6BAA6BD,KACzCjB,EAAKmB,QACCF,KACT,EACLG,MAAc,iCACd1B,EAAKtM,OAAOiO,WAAWxE,GACvB6C,EAAKrC,QAAQiE,WAAW,EA9C4C,EA+CxE,CAEatF,IAAIa,GAAa,IAAA0E,EAAAjO,KAAA,SAAA6K,KAAA,YAC1B,MAAMwB,EAAO,MAAGC,MAAO/C,EAAKlF,KAAM,uBAE5BkI,EAAU,uBADMhD,EAAK0C,YAAc1C,EAAKwC,eACaM,IACrDK,QAAI,EAASC,MACf,CAAEC,MAAO,cAAeL,UAASM,KAAM,CAAEN,QAAS,WAClD0B,EAAKlE,SAGW,SAAhB2C,EAAKI,SACTJ,EAAKvC,QAAQ,2BAETZ,EAAKgE,YACCW,MAAuB3E,EAAKrE,GAAIqE,EAAKgE,UAAU,IAAK,EACpDY,MAAe5E,EAAKrE,IAAI,IAE7BqG,YACAmC,MAAOC,IACJC,cAAY,0BAA0BD,KACtCjB,EAAKmB,QACCF,KACT,EAELG,MAAc,+BACdG,EAAKnO,OAAOiO,WAAWxE,GACvB0E,EAAKlE,QAAQiE,WAAW,EAzBE,EA0B9B,CAAC3N,SAAAL,KAAA,mBAAAM,iBAlJQ+I,GAAiB9I,MAAAC,KAAAD,MAAAE,MAAAF,MAAAwC,MAAAxC,MAAA6N,MAAA7N,MAAA8N,OAAA9N,MAAA+N,MAAA,EAAAjO,SAAAL,KAAA,UAAAU,EAAAC,IAAA,MAAjB0I,EAAiBzI,UAAA,mBAAAkH,SAAA,CAAAvH,OAAAM,MAAA,GAAAC,KAAA,GAAAC,OAAA,wxBAAAC,SAAA,SAAAC,EAAAC,GAAA,KAAAD,EAAA,iBA7EtBV,MAAA,EAAAgO,GAAA,gBACAhO,MAAA,WAGIA,MAAA,wBAIIA,MADJ,UACIA,CAD8D,iDAG1DA,MAAA,yBAAAmE,GAAAnE,aAAAkB,GAAAlB,MAAiBW,EAAAoD,QAAAI,GAAe,GAExCnE,UACAA,MAAA,WACIA,MAAA,sBACAA,MAAA,UACIA,MAAA,sCACAA,MAAA,GAAAiO,GAAA,gCAGJjO,QACAA,MAAA,GAAAkO,GAAA,wCAyBJlO,QACAA,MAAA,GAAAmO,GAAA,6CAKJnO,QAEAA,MADA,GAAAoO,GAAA,oBACApO,CAD+B,GAAAqO,GAAA,yBAAArO,uCArDtBA,MAAA,QAAAW,EAAAuI,UASGlJ,MAAA,GAAAA,MAAA,UAAAA,MAAA,IAAAW,EAAAmD,OAOA9D,MAAA,GAAAA,MAAA,IAAAA,MAAA,MAAAA,MAAA,MAAAW,EAAAmD,MAAA,wBACO9D,MAAA,GAAAA,MAAA,OAAAA,MAAA,MAAAW,EAAAyE,WAKNpF,MAAA,GAAkCA,MAAlC,cAAAwD,EAAAxD,MAAA,MAAAW,EAAA8H,WAAA,KAAAjF,EAAAwD,OAAkChH,CAAA,WAAAsO,GA0BtCtO,MAAA,GAAAA,MAAA,OAAAA,MAAA,MAAAW,EAAAiJ,UAKK5J,MAAA,GAAAA,MAAA,QAAAW,EAAAuI,0QAwBTJ,CAAkB,MChG3B,CAAEF,KAAM,KAAM2F,WAAY,KAqBvB,IAAMC,GAAiB,MAAxB,MAAOA,EAAiB1O,SAAAL,KAAA,mBAAAM,iBAAjByO,EAAiB,EAAA1O,SAAAL,KAAA,UAAAU,EAAAsO,GAAA,MAAjBD,IAAiB1O,SAAAL,KAAA,UAAAU,EAAAuO,IAAA,UAPtBC,KACAC,IACAC,KACAC,KACAC,KAAaC,SAASrG,cAGjB6F,CAAiB","names":["ScheduleFilterCardComponent","constructor","_state","_sheet_ref","this","filters","toggleType","t","dismiss","static","__ngFactoryType__","i0","i1","i2","core","VBU","selectors","decls","vars","consts","template","rf","ctx","tmp_3_0","shown_types","includes","tmp_6_0","tmp_9_0","tmp_12_0","_r1","ctx_r1","_r3","_r4","_r5","_r6","_r7","_r8","_r9","_r10","_r11","_r12","_r13","ScheduleFiltersComponent","hasFeature","feature","_settings","get","_sheet","c","openFilters","open","i3","ScheduleFiltersComponent_div_5_Template","ScheduleFiltersComponent_div_7_Template","ScheduleFiltersComponent_div_9_Template","ScheduleFiltersComponent_div_11_Template","ScheduleFiltersComponent_div_13_Template","ScheduleFiltersComponent_div_15_Template","ScheduleFiltersComponent_div_22_Template","ScheduleFiltersComponent_div_24_Template","ScheduleFiltersComponent_div_26_Template","ScheduleFiltersComponent_div_28_Template","ScheduleFiltersComponent_div_30_Template","ScheduleFiltersComponent_div_32_Template","tmp_1_0","tmp_2_0","tmp_4_0","tmp_5_0","tmp_7_0","tmp_8_0","tmp_10_0","tmp_11_0","ScheduleSidebarComponent","date","setDate","d","i18n_0","$localize","$event","ScheduleSidebarComponent_button_6_Template","ScheduleSidebarComponent_button_7_Template","ScheduleSidebarComponent_button_8_Template","ScheduleSidebarComponent_button_9_Template","ScheduleSidebarComponent_button_10_Template","ScheduleSidebarComponent_button_11_Template","day_r1","id","day_r3","_r2","$implicit","ctx_r3","setValue","ScheduleMobileCalendarComponent_button_19_div_1_Template","is_month","active_date","is_today","ScheduleMobileCalendarComponent","startOfDay","Date","now","valueOf","offset","date_list","short_list","show_shortlist","registerOnChange","fn","_onChange","registerOnTouched","_onTouch","ngOnInit","generateDates","list","new_value","writeValue","value","resetMonth","changeMonth","change","addMonths","start","startOfWeek","startOfMonth","length","push","is_past","isBefore","isSameMonth","isSameDay","addDays","features","provide","NG_VALUE_ACCESSOR","useExisting","forwardRef","multi","ScheduleMobileCalendarComponent_div_16_Template","ScheduleMobileCalendarComponent_button_19_Template","item_r3","edit","remove","editBooking","end","ScheduleComponent_ng_container_14_ng_container_1_event_card_1_Template","ScheduleComponent_ng_container_14_ng_container_1_ng_template_2_Template","isEvent","booking_card_r6","ScheduleComponent_ng_container_14_ng_container_1_Template","bookings","trackByFn","ROUTES","path","component","ScheduleComponent","AsyncHandler","item","CalendarEvent","hide_nav","localStorage","getItem","_event_form","_booking_form","_router","_dialog","super","combineLatest","filtered_bookings","loading","pipe","map","_","triggerPoll","subscription","startPolling","index","event","_this","_asyncToGenerator","navigate","creator","mailbox","queryEvents","period_start","event_start","period_end","event_end","ical_uid","toPromise","find","newForm","type","setTimeout","form","patchValue","resources","asset_id","name","asset_name","description","remove_series","_this2","time","format","content","space","display_name","resp","openConfirmModal","title","icon","reason","removeEvent","removeBooking","recurring_event_id","calendar","currentUser","email","system_id","system","instance","undefined","start_time","catch","e","notifyError","close","notifySuccess","removeItem","closeAll","_this3","checkinBookingInstance","checkinBooking","i4","i5","i6","ScheduleComponent_topbar_0_Template","ScheduleComponent_span_12_Template","ScheduleComponent_ng_container_14_Template","ScheduleComponent_mat_progress_bar_16_Template","ScheduleComponent_footer_menu_18_Template","ScheduleComponent_ng_template_19_Template","empty_state_r7","redirectTo","AppScheduleModule","$C","G2t","CommonModule","SharedComponentModule","FormsModule","MatBottomSheetModule","RouterModule","forChild"],"ignoreList":[],"sourceRoot":"webpack:///","sources":["./apps/workplace/src/app/new-schedule/schedule-filter-card.component.ts","./apps/workplace/src/app/new-schedule/schedule-filters.component.ts","./apps/workplace/src/app/new-schedule/schedule-sidebar.component.ts","./apps/workplace/src/app/new-schedule/schedule-mobile-calendar.component.ts","./apps/workplace/src/app/new-schedule/schedule.component.ts","./apps/workplace/src/app/new-schedule/schedule.module.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { MatBottomSheetRef } from '@angular/material/bottom-sheet';\nimport { ScheduleStateService } from './schedule-state.service';\n\n@Component({\n    selector: 'schedule-filter-card',\n    template: `\n        <div\n            class=\"flex items-center border-b border-base-200 space-x-2 mb-4 text-xl\"\n        >\n            <button icon matRipple (click)=\"dismiss()\">\n                <app-icon>chevron_left</app-icon>\n            </button>\n            <h2 class=\"flex-1 w-1/2 text-center\">\n                {{ 'WPA.BOOKING_TYPES' | translate }}\n            </h2>\n            <app-icon></app-icon>\n        </div>\n        <div class=\"space-y-4 border-b border-base-200 mb-4 pb-4\">\n            <button\n                name=\"schedule-toggle-event-filter\"\n                matRipple\n                class=\"flex items-center space-x-2 w-full text-left pr-2\"\n                (click)=\"toggleType('event')\"\n            >\n                <div\n                    class=\"h-10 w-10 rounded-full flex items-center justify-center text-2xl\"\n                >\n                    <app-icon>meeting_room</app-icon>\n                </div>\n                <div class=\"flex-1\">\n                    <div class=\"\">{{ 'WPA.ROOM' | translate }}</div>\n                    <div class=\"text-sm opacity-60\">\n                        {{ 'WPA.SCHEULD_ROOM_FILTER' | translate }}\n                    </div>\n                </div>\n                <mat-checkbox\n                    [ngModel]=\"\n                        (filters | async)?.shown_types?.includes('event')\n                    \"\n                ></mat-checkbox>\n            </button>\n            <button\n                matRipple\n                name=\"schedule-toggle-desk-filter\"\n                class=\"flex items-center space-x-2 w-full text-left pr-2\"\n                (click)=\"toggleType('desk')\"\n            >\n                <div\n                    class=\"h-10 w-10 rounded-full flex items-center justify-center text-2xl\"\n                >\n                    <img src=\"assets/icons/desk-outline.svg\" class=\"w-6\" />\n                </div>\n                <div class=\"flex-1\">\n                    <div class=\"\">{{ 'WPA.DESK' | translate }}</div>\n                    <div class=\"text-sm opacity-60\">\n                        {{ 'WPA.SCHEDULE_DESK_FILTER' | translate }}\n                    </div>\n                </div>\n                <mat-checkbox\n                    [ngModel]=\"(filters | async)?.shown_types?.includes('desk')\"\n                ></mat-checkbox>\n            </button>\n            <button\n                matRipple\n                name=\"schedule-toggle-parking-filter\"\n                class=\"flex items-center space-x-2 w-full text-left pr-2\"\n                (click)=\"toggleType('parking')\"\n            >\n                <div\n                    class=\"h-10 w-10 rounded-full flex items-center justify-center text-2xl\"\n                >\n                    <app-icon>drive_eta</app-icon>\n                </div>\n                <div class=\"flex-1\">\n                    <div class=\"\">{{ 'WPA.PARKING' | translate }}</div>\n                    <div class=\"text-sm opacity-60\">\n                        {{ 'WPA.SCHEDULE_PARKING_FILTER' | translate }}\n                    </div>\n                </div>\n                <mat-checkbox\n                    [ngModel]=\"\n                        (filters | async)?.shown_types?.includes('parking')\n                    \"\n                ></mat-checkbox>\n            </button>\n            <button\n                matRipple\n                name=\"schedule-toggle-visitor-filter\"\n                class=\"flex items-center space-x-2 w-full text-left pr-2\"\n                (click)=\"toggleType('visitor')\"\n            >\n                <div\n                    class=\"h-10 w-10 rounded-full flex items-center justify-center text-2xl\"\n                >\n                    <app-icon>people</app-icon>\n                </div>\n                <div class=\"flex-1\">\n                    <div class=\"\">{{ 'WPA.VISITORS' | translate }}</div>\n                    <div class=\"text-sm opacity-60\">\n                        {{ 'WPA.SCHEDULE_VISITOR_FILTER' | translate }}s\n                    </div>\n                </div>\n                <mat-checkbox\n                    [ngModel]=\"\n                        (filters | async)?.shown_types?.includes('visitor')\n                    \"\n                ></mat-checkbox>\n            </button>\n        </div>\n        <div class=\"px-2 pb-2\">\n            <button\n                btn\n                matRipple\n                name=\"schedule-apply-filter\"\n                class=\"w-full\"\n                (click)=\"dismiss()\"\n            >\n                {{ 'WPA.FILTERS_APPLY' | translate }}\n            </button>\n        </div>\n    `,\n    styles: [\n        `\n            mat-checkbox {\n                pointer-events: none;\n            }\n        `,\n    ],\n})\nexport class ScheduleFilterCardComponent {\n    public readonly filters = this._state.filters;\n\n    public readonly toggleType = (t) => this._state.toggleType(t);\n    public readonly dismiss = () => this._sheet_ref.dismiss();\n\n    constructor(\n        private _state: ScheduleStateService,\n        private _sheet_ref: MatBottomSheetRef<ScheduleFilterCardComponent>\n    ) {}\n}\n","import { Component } from '@angular/core';\nimport { MatBottomSheet } from '@angular/material/bottom-sheet';\nimport { SettingsService } from '@placeos/common';\nimport { ScheduleFilterCardComponent } from './schedule-filter-card.component';\nimport { ScheduleStateService } from './schedule-state.service';\n\n@Component({\n    selector: 'schedule-filters',\n    template: `\n        <div\n            class=\"hidden sm:block bg-base-100 border border-base-200 rounded p-2\"\n        >\n            <h3 class=\"font-medium mb-2\">\n                {{ 'WPA.SCHEDULE_CAT_FILTERS' | translate }}\n            </h3>\n            <div class=\"flex flex-wrap space-x-2\">\n                <div\n                    class=\"flex items-center rounded-3xl border border-base-200\"\n                    *ngIf=\"(filters | async)?.shown_types?.includes('event')\"\n                >\n                    <div class=\" px-2\">{{ 'WPA.ROOMS' | translate }}</div>\n                    <button\n                        icon\n                        name=\"schedule-remove-event-filter\"\n                        (click)=\"toggleType('event', true)\"\n                    >\n                        <app-icon>close</app-icon>\n                    </button>\n                </div>\n                <div\n                    class=\"flex items-center rounded-3xl border border-base-200\"\n                    *ngIf=\"\n                        (filters | async)?.shown_types?.includes('desk') &&\n                        hasFeature('desks')\n                    \"\n                >\n                    <div class=\"px-2\">{{ 'WPA.DESKS' | translate }}</div>\n                    <button\n                        icon\n                        name=\"schedule-remove-desk-filter\"\n                        (click)=\"toggleType('desk', true)\"\n                    >\n                        <app-icon>close</app-icon>\n                    </button>\n                </div>\n                <div\n                    class=\"flex items-center rounded-3xl border border-base-200\"\n                    *ngIf=\"\n                        (filters | async)?.shown_types?.includes('parking') &&\n                        hasFeature('parking')\n                    \"\n                >\n                    <div class=\" px-2\">{{ 'WPA.PARKING' | translate }}</div>\n                    <button\n                        icon\n                        matRipple\n                        name=\"schedule-remove-parking-filter\"\n                        (click)=\"toggleType('parking', true)\"\n                    >\n                        <app-icon>close</app-icon>\n                    </button>\n                </div>\n                <div\n                    class=\"flex items-center rounded-3xl border border-base-200\"\n                    *ngIf=\"\n                        (filters | async)?.shown_types?.includes('visitor') &&\n                        hasFeature('visitor-invite')\n                    \"\n                >\n                    <div class=\" px-2\">{{ 'WPA.VISITORS' | translate }}</div>\n                    <button\n                        icon\n                        matRipple\n                        name=\"schedule-remove-visitor-filter\"\n                        (click)=\"toggleType('visitor', true)\"\n                    >\n                        <app-icon>close</app-icon>\n                    </button>\n                </div>\n                <div\n                    class=\"flex items-center rounded-3xl border border-base-200\"\n                    *ngIf=\"\n                        (filters | async)?.shown_types?.includes('locker') &&\n                        hasFeature('lockers')\n                    \"\n                >\n                    <div class=\" px-2\">{{ 'WPA.LOCKERS' | translate }}</div>\n                    <button\n                        icon\n                        matRipple\n                        name=\"schedule-remove-locker-filter\"\n                        (click)=\"toggleType('locker', true)\"\n                    >\n                        <app-icon>close</app-icon>\n                    </button>\n                </div>\n                <div\n                    class=\"flex items-center rounded-3xl border border-base-200\"\n                    *ngIf=\"\n                        (filters | async)?.shown_types?.includes(\n                            'group-evnet'\n                        ) && hasFeature('group-events')\n                    \"\n                >\n                    <div class=\" px-2\">{{ 'WPA.GROUP_EVENT' | translate }}</div>\n                    <button\n                        icon\n                        matRipple\n                        name=\"schedule-remove-locker-filter\"\n                        (click)=\"toggleType('group-event', true)\"\n                    >\n                        <app-icon>close</app-icon>\n                    </button>\n                </div>\n            </div>\n        </div>\n        <div class=\"sm:hidden flex items-center space-x-2\">\n            <button\n                btn\n                matRipple\n                name=\"schedule-open-filter-edit\"\n                class=\"min-w-0 sm:w-24\"\n                (click)=\"openFilters()\"\n            >\n                <div class=\"flex items-center justify-center space-x-2\">\n                    <app-icon class=\"text-xl\">filter_list</app-icon>\n                    <!-- <div class=\"mr-2\">{{ \"WPA.FILTERS\" | translate }}</div> -->\n                </div>\n            </button>\n            <div\n                class=\"flex items-center rounded-3xl border border-base-200 bg-base-100 text-sm pl-2\"\n                *ngIf=\"(filters | async)?.shown_types?.includes('event')\"\n            >\n                <div>{{ 'WPA.ROOMS' | translate }}</div>\n                <button\n                    icon\n                    name=\"schedule-remove-event-filter-mobile\"\n                    (click)=\"toggleType('event', true)\"\n                >\n                    <app-icon>close</app-icon>\n                </button>\n            </div>\n            <div\n                class=\"flex items-center rounded-3xl border border-base-200 bg-base-100 text-sm pl-2\"\n                *ngIf=\"\n                    (filters | async)?.shown_types?.includes('desk') &&\n                    hasFeature('desks')\n                \"\n            >\n                <div>{{ 'WPA.DESKS' | translate }}</div>\n                <button\n                    icon\n                    name=\"schedule-remove-desk-filter-mobile\"\n                    (click)=\"toggleType('desk', true)\"\n                >\n                    <app-icon>close</app-icon>\n                </button>\n            </div>\n            <div\n                class=\"flex items-center rounded-3xl border border-base-200 bg-base-100 text-sm pl-2\"\n                *ngIf=\"\n                    (filters | async)?.shown_types?.includes('parking') &&\n                    hasFeature('parking')\n                \"\n            >\n                <div>{{ 'WPA.PARKING' | translate }}</div>\n                <button\n                    icon\n                    name=\"schedule-remove-parking-filter-mobile\"\n                    (click)=\"toggleType('parking', true)\"\n                >\n                    <app-icon>close</app-icon>\n                </button>\n            </div>\n            <div\n                class=\"flex items-center rounded-3xl border border-base-200 bg-base-100 text-sm pl-2\"\n                *ngIf=\"\n                    (filters | async)?.shown_types?.includes('visitor') &&\n                    hasFeature('visitor-invite')\n                \"\n            >\n                <div>{{ 'WPA.VISITORS' | translate }}</div>\n                <button\n                    icon\n                    name=\"schedule-remove-visitor-filter-mobile\"\n                    (click)=\"toggleType('visitor', true)\"\n                >\n                    <app-icon>close</app-icon>\n                </button>\n            </div>\n            <div\n                class=\"flex items-center rounded-3xl border border-base-200 bg-base-100 text-sm pl-2\"\n                *ngIf=\"\n                    (filters | async)?.shown_types?.includes('locker') &&\n                    hasFeature('lockers')\n                \"\n            >\n                <div>{{ 'WPA.LOCKERS' | translate }}</div>\n                <button\n                    icon\n                    name=\"schedule-remove-locker-filter-mobile\"\n                    (click)=\"toggleType('locker', true)\"\n                >\n                    <app-icon>close</app-icon>\n                </button>\n            </div>\n            <div\n                class=\"flex items-center rounded-3xl border border-base-200 bg-base-100 text-sm pl-2\"\n                *ngIf=\"\n                    (filters | async)?.shown_types?.includes('group-event') &&\n                    hasFeature('group-events')\n                \"\n            >\n                <div>{{ 'WPA.GROUP_EVENTS' | translate }}</div>\n                <button\n                    icon\n                    name=\"schedule-remove-locker-filter-mobile\"\n                    (click)=\"toggleType('group-event', true)\"\n                >\n                    <app-icon>close</app-icon>\n                </button>\n            </div>\n        </div>\n    `,\n    styles: [``],\n})\nexport class ScheduleFiltersComponent {\n    public readonly filters = this._state.filters;\n\n    public readonly toggleType = (t, c = false) => this._state.toggleType(t, c);\n\n    public hasFeature(feature: string) {\n        return this._settings.get('app.features')?.includes(feature);\n    }\n\n    constructor(\n        private _sheet: MatBottomSheet,\n        private _state: ScheduleStateService,\n        private _settings: SettingsService\n    ) {}\n\n    public openFilters() {\n        this._sheet.open(ScheduleFilterCardComponent);\n    }\n}\n","import { Component } from '@angular/core';\nimport { SettingsService } from '@placeos/common';\nimport { ScheduleStateService } from './schedule-state.service';\n\n@Component({\n    selector: 'schedule-sidebar',\n    template: `\n        <div\n            class=\"flex flex-col w-[18rem] h-full overflow-hidden bg-base-100[#1F2021] border-r border-base-200\"\n        >\n            <date-calendar\n                class=\"border-b border-base-200\"\n                [ngModel]=\"date | async\"\n                (ngModelChange)=\"setDate($event)\"\n            ></date-calendar>\n            <h3 class=\"mx-4 mt-4 font-medium\" i18n>Filters</h3>\n            <div class=\"p-4 space-y-4 flex-1 h-1/2 overflow-auto\">\n                <button\n                    matRipple\n                    name=\"schedule-toggle-event-filter\"\n                    class=\"flex items-center space-x-2 w-full text-left\"\n                    *ngIf=\"hasFeature('spaces')\"\n                    (click)=\"toggleType('event')\"\n                >\n                    <div\n                        class=\"h-10 w-10 rounded-full flex items-center justify-center bg-base-200 text-2xl\"\n                    >\n                        <app-icon>place</app-icon>\n                    </div>\n                    <div class=\"flex-1\">\n                        <div class=\"\">{{ 'WPA.ROOM' | translate }}</div>\n                        <div class=\"text-sm opacity-60\">\n                            {{ 'WPA.SCHEDULE_ROOM_FILTER' | translate }}\n                        </div>\n                    </div>\n                    <mat-checkbox\n                        [ngModel]=\"\n                            (filters | async)?.shown_types?.includes('event')\n                        \"\n                    ></mat-checkbox>\n                </button>\n                <button\n                    matRipple\n                    name=\"schedule-toggle-desk-filter\"\n                    class=\"flex items-center space-x-2 w-full text-left\"\n                    *ngIf=\"hasFeature('desks')\"\n                    (click)=\"toggleType('desk')\"\n                >\n                    <div\n                        class=\"h-10 w-10 rounded-full flex items-center justify-center bg-base-200 text-2xl\"\n                    >\n                        <img src=\"assets/icons/desk-outline.svg\" class=\"w-6\" />\n                    </div>\n                    <div class=\"flex-1\">\n                        <div class=\"\">{{ 'WPA.DESK' | translate }}</div>\n                        <div class=\"text-sm opacity-60\">\n                            {{ 'WPA.SCHEDULE_DESK_FILTER' | translate }}\n                        </div>\n                    </div>\n                    <mat-checkbox\n                        [ngModel]=\"\n                            (filters | async)?.shown_types?.includes('desk')\n                        \"\n                    ></mat-checkbox>\n                </button>\n                <button\n                    matRipple\n                    name=\"schedule-toggle-parking-filter\"\n                    class=\"flex items-center space-x-2 w-full text-left\"\n                    *ngIf=\"hasFeature('parking')\"\n                    (click)=\"toggleType('parking')\"\n                >\n                    <div\n                        class=\"h-10 w-10 rounded-full flex items-center justify-center bg-base-200 text-2xl\"\n                    >\n                        <app-icon>drive_eta</app-icon>\n                    </div>\n                    <div class=\"flex-1\">\n                        <div class=\"\">{{ 'WPA.PARKING' | translate }}</div>\n                        <div class=\"text-sm opacity-60\">\n                            {{ 'WPA.SCHEDULE_PARKING_FILTER' | translate }}\n                        </div>\n                    </div>\n                    <mat-checkbox\n                        [ngModel]=\"\n                            (filters | async)?.shown_types?.includes('parking')\n                        \"\n                    ></mat-checkbox>\n                </button>\n                <button\n                    matRipple\n                    name=\"schedule-toggle-visitor-filter\"\n                    class=\"flex items-center space-x-2 w-full text-left\"\n                    *ngIf=\"hasFeature('visitor-invite')\"\n                    (click)=\"toggleType('visitor')\"\n                >\n                    <div\n                        class=\"h-10 w-10 rounded-full flex items-center justify-center bg-base-200 text-2xl\"\n                    >\n                        <app-icon>people</app-icon>\n                    </div>\n                    <div class=\"flex-1\">\n                        <div class=\"\" i18n>\n                            {{ 'WPA.VISITORS' | translate }}\n                        </div>\n                        <div class=\"text-sm opacity-60\" i18n>\n                            {{ 'WPA.SCHEDULE_VISITOR_FILTER' | translate }}\n                        </div>\n                    </div>\n                    <mat-checkbox\n                        [ngModel]=\"\n                            (filters | async)?.shown_types?.includes('visitor')\n                        \"\n                    ></mat-checkbox>\n                </button>\n                <button\n                    matRipple\n                    name=\"schedule-toggle-locker-filter\"\n                    class=\"flex items-center space-x-2 w-full text-left\"\n                    *ngIf=\"hasFeature('lockers')\"\n                    (click)=\"toggleType('locker')\"\n                >\n                    <div\n                        class=\"h-10 w-10 rounded-full flex items-center justify-center bg-base-200 text-2xl\"\n                    >\n                        <app-icon>door_back</app-icon>\n                    </div>\n                    <div class=\"flex-1\">\n                        <div class=\"\" i18n>\n                            {{ 'WPA.LOCKERS' | translate }}\n                        </div>\n                        <div class=\"text-sm opacity-60\" i18n>\n                            {{ 'WPA.SCHEDULE_LOCKER_FILTER' | translate }}\n                        </div>\n                    </div>\n                    <mat-checkbox\n                        [ngModel]=\"\n                            (filters | async)?.shown_types?.includes('locker')\n                        \"\n                    ></mat-checkbox>\n                </button>\n                <button\n                    matRipple\n                    name=\"schedule-toggle-locker-filter\"\n                    class=\"flex items-center space-x-2 w-full text-left\"\n                    *ngIf=\"hasFeature('group-events')\"\n                    (click)=\"toggleType('group-event')\"\n                >\n                    <div\n                        class=\"h-10 w-10 rounded-full flex items-center justify-center bg-base-200 text-2xl\"\n                    >\n                        <app-icon>door_back</app-icon>\n                    </div>\n                    <div class=\"flex-1\">\n                        <div class=\"\" i18n>\n                            {{ 'WPA.GROUP_EVENT' | translate }}\n                        </div>\n                        <div class=\"text-sm opacity-60\" i18n>\n                            {{ 'WPA.SCHEDULE_GROUP_EVENT_FILTER' | translate }}\n                        </div>\n                    </div>\n                    <mat-checkbox\n                        [ngModel]=\"\n                            (filters | async)?.shown_types?.includes(\n                                'group-event'\n                            )\n                        \"\n                    ></mat-checkbox>\n                </button>\n            </div>\n        </div>\n    `,\n    styles: [\n        `\n            mat-checkbox {\n                pointer-events: none;\n            }\n        `,\n    ],\n})\nexport class ScheduleSidebarComponent {\n    public readonly filters = this._state.filters;\n    public readonly date = this._state.date;\n    public readonly toggleType = (t) => this._state.toggleType(t);\n    public readonly setDate = (d) => this._state.setDate(d);\n\n    public hasFeature(feature: string) {\n        return this._settings.get('app.features')?.includes(feature);\n    }\n\n    constructor(\n        private _state: ScheduleStateService,\n        private _settings: SettingsService\n    ) {}\n}\n","import { Component, forwardRef, OnInit } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport {\n    addDays,\n    addMonths,\n    isBefore,\n    isSameDay,\n    isSameMonth,\n    startOfDay,\n    startOfMonth,\n    startOfWeek,\n} from 'date-fns';\n\n@Component({\n    selector: 'schedule-mobile-calendar',\n    template: `\n        <div class=\"p-2\">\n            <div class=\"flex items-center justify-between\">\n                <button\n                    btn\n                    matRipple\n                    class=\"clear font-medium\"\n                    (click)=\"resetMonth()\"\n                >\n                    {{ date_list[6]?.id || active_date | date: 'LLLL YYYY' }}\n                </button>\n                <div class=\"flex items-center\">\n                    <button icon matRipple (click)=\"changeMonth(-1)\">\n                        <app-icon>chevron_left</app-icon>\n                    </button>\n                    <button icon matRipple (click)=\"changeMonth(1)\">\n                        <app-icon>chevron_right</app-icon>\n                    </button>\n                    <button\n                        icon\n                        matRipple\n                        (click)=\"show_shortlist = !show_shortlist\"\n                    >\n                        <app-icon>arrow_drop_down</app-icon>\n                    </button>\n                </div>\n            </div>\n            <div class=\"flex items-center justify-center text-sm mb-2\">\n                <div\n                    class=\"opacity-60 text-center w-10 mx-2\"\n                    *ngFor=\"let day of date_list | slice: 0 : 7\"\n                >\n                    {{ day.id | date: 'EE' }}\n                </div>\n            </div>\n            <div class=\"flex items-center justify-between flex-wrap\">\n                <button\n                    icon\n                    matRipple\n                    class=\"min-w-[calc(14%-1rem)] flex-1 mx-2 h-9 overflow-visible\"\n                    *ngFor=\"let day of list\"\n                    [class.text-opacity-30]=\"!day.is_month\"\n                    [class.text-white]=\"day.id === active_date\"\n                    [class.text-black]=\"day.id !== active_date\"\n                    [class.bg-primary]=\"day.id === active_date\"\n                    [class.font-normal]=\"day.id !== active_date\"\n                    (click)=\"setValue(day.id)\"\n                >\n                    <div\n                        class=\"absolute -inset-0.5 border border-primary rounded-full\"\n                        *ngIf=\"day.is_today\"\n                    ></div>\n                    {{ day.id | date: 'd' }}\n                </button>\n            </div>\n        </div>\n    `,\n    styles: [``],\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: forwardRef(() => ScheduleMobileCalendarComponent),\n            multi: true,\n        },\n    ],\n})\nexport class ScheduleMobileCalendarComponent\n    implements OnInit, ControlValueAccessor\n{\n    public active_date = startOfDay(Date.now()).valueOf();\n    public offset = 0;\n    public date_list = [];\n    public short_list = [];\n    public show_shortlist = true;\n\n    /** Form control on change handler */\n    private _onChange: (_: number) => void;\n    /** Form control on touch handler */\n    private _onTouch: (_: number) => void;\n\n    public ngOnInit() {\n        this.generateDates();\n    }\n\n    public get list() {\n        return this.show_shortlist ? this.short_list : this.date_list;\n    }\n\n    /**\n     * Update the form field value\n     * @param new_value New value to set on the form field\n     */\n    public setValue(new_value: number) {\n        this.active_date = startOfDay(new_value).valueOf();\n        this.offset = 0;\n        if (this._onChange) {\n            this._onChange(new_value);\n        }\n    }\n    /**\n     * Update local value when form control value is changed\n     * @param value The new value for the component\n     */\n    public writeValue(value: number) {\n        this.active_date = startOfDay(value).valueOf();\n        this.offset = 0;\n        this.generateDates();\n    }\n\n    public resetMonth() {\n        this.changeMonth(-this.offset);\n    }\n\n    public changeMonth(change: number) {\n        this.offset += change;\n        this.generateDates();\n    }\n\n    /* istanbul ignore next */\n    public readonly registerOnChange = (fn) => (this._onChange = fn);\n    /* istanbul ignore next */\n    public readonly registerOnTouched = (fn) => (this._onTouch = fn);\n\n    public generateDates() {\n        const date = addMonths(this.active_date, this.offset);\n        let start = startOfWeek(startOfMonth(date));\n        const now = startOfDay(Date.now());\n        let list = [];\n        while (list.length < 7 * 6) {\n            list.push({\n                id: start.valueOf(),\n                is_past: isBefore(start, now),\n                is_month: isSameMonth(start, date),\n                is_today: isSameDay(Date.now(), start),\n            });\n            start = addDays(start, 1);\n        }\n        this.date_list = list;\n        start =\n            this.offset === 0\n                ? startOfWeek(date)\n                : startOfWeek(startOfMonth(date));\n        list = [];\n        while (list.length < 7) {\n            list.push({\n                id: start.valueOf(),\n                is_past: isBefore(start, now),\n                is_month: isSameMonth(start, date),\n                is_today: isSameDay(Date.now(), start),\n            });\n            start = addDays(start, 1);\n        }\n        this.short_list = list;\n    }\n}\n","import { Component } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { Router } from '@angular/router';\nimport {\n    Booking,\n    BookingFormService,\n    checkinBooking,\n    checkinBookingInstance,\n    queryBookings,\n    removeBooking,\n} from '@placeos/bookings';\nimport {\n    AsyncHandler,\n    currentUser,\n    notifyError,\n    notifySuccess,\n    openConfirmModal,\n    SettingsService,\n} from '@placeos/common';\nimport {\n    CalendarEvent,\n    EventFormService,\n    queryEvents,\n    removeEvent,\n} from '@placeos/events';\nimport { format, isSameDay } from 'date-fns';\nimport { map } from 'rxjs/operators';\nimport { ScheduleStateService } from './schedule-state.service';\nimport { combineLatest } from 'rxjs';\n\n@Component({\n    selector: 'app-schedule',\n    template: `\n        <topbar *ngIf=\"!hide_nav\"></topbar>\n        <div\n            class=\"flex flex-col sm:flex-row flex-1 h-1/2 bg-base-200 relative\"\n        >\n            <schedule-sidebar\n                class=\"hidden sm:block bg-base-100\"\n            ></schedule-sidebar>\n            <div class=\"w-full bg-base-100 border-b border-neutral sm:hidden\">\n                <schedule-mobile-calendar\n                    [ngModel]=\"date | async\"\n                    (ngModelChange)=\"setDate($event)\"\n                ></schedule-mobile-calendar>\n            </div>\n            <div class=\"flex-1 h-full p-4 overflow-auto space-y-2\">\n                <schedule-filters></schedule-filters>\n                <h3 class=\"font-medium my-2\">\n                    {{ date | async | date: 'EEE dd LLL yyyy' }}\n                    <span *ngIf=\"is_today | async\"\n                        >({{ 'COMMON.TODAY' | translate }})</span\n                    >\n                </h3>\n                <ng-container\n                    *ngIf=\"(bookings | async)?.length; else empty_state\"\n                >\n                    <ng-container\n                        *ngFor=\"\n                            let item of bookings | async;\n                            trackBy: trackByFn\n                        \"\n                    >\n                        <event-card\n                            *ngIf=\"isEvent(item); else booking_card\"\n                            [event]=\"item\"\n                            (edit)=\"edit(item)\"\n                            (remove)=\"remove(item, $event)\"\n                        ></event-card>\n                        <ng-template #booking_card>\n                            <booking-card\n                                [booking]=\"item\"\n                                (edit)=\"editBooking(item)\"\n                                (remove)=\"remove(item)\"\n                                (end)=\"end(item)\"\n                            ></booking-card>\n                        </ng-template>\n                    </ng-container>\n                </ng-container>\n            </div>\n            <mat-progress-bar\n                *ngIf=\"loading | async\"\n                class=\"absolute inset-x-0 bottom-0\"\n                mode=\"indeterminate\"\n            ></mat-progress-bar>\n        </div>\n        <footer-menu *ngIf=\"!hide_nav\"></footer-menu>\n        <ng-template #empty_state>\n            <div\n                class=\"w-full p-8 flex flex-col items-center justify-center space-y-4\"\n            >\n                <img src=\"assets/img/no-events.svg\" class=\"mr-4\" />\n                <p class=\"opacity-30\">\n                    {{ 'WPA.SCHEDULE_EMPTY' | translate }}\n                    {{ date | async | date: 'EEEE, dd LLL yyyy' }}\n                </p>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class ScheduleComponent extends AsyncHandler {\n    public readonly bookings = combineLatest([\n        this._state.filtered_bookings,\n        this._state.loading,\n    ]).pipe(map(([bookings, loading]) => (loading ? [] : bookings)));\n    public readonly date = this._state.date;\n    public readonly loading = this._state.loading;\n    public readonly is_today = this.date.pipe(\n        map((_) => isSameDay(_, Date.now())),\n    );\n    public readonly setDate = (d) => this._state.setDate(d);\n\n    public isEvent(item: any) {\n        return item instanceof CalendarEvent;\n    }\n\n    public get hide_nav() {\n        return localStorage.getItem('PlaceOS.hide_nav') === 'true';\n    }\n\n    constructor(\n        private _state: ScheduleStateService,\n        private _event_form: EventFormService,\n        private _booking_form: BookingFormService,\n        private _router: Router,\n        private _dialog: MatDialog,\n        private _settings: SettingsService,\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this._state.triggerPoll();\n        this.subscription('poll', this._state.startPolling());\n    }\n\n    public trackByFn(index: number, item: any) {\n        return item?.id;\n    }\n\n    public async edit(event: CalendarEvent) {\n        this._router.navigate(['/book', 'meeting', 'form']);\n        if (event.creator !== event.mailbox) {\n            event =\n                (\n                    await queryEvents({\n                        period_start: event.event_start,\n                        period_end: event.event_end,\n                        ical_uid: event.ical_uid,\n                    }).toPromise()\n                ).find((_) => _.ical_uid === event.ical_uid) || event;\n        }\n        this._event_form.newForm(event);\n    }\n\n    public editBooking(event: Booking) {\n        this._router.navigate(['/book', `new-${event.type}`]);\n        this._booking_form.newForm(event);\n        setTimeout(() => {\n            this._booking_form.form.patchValue({\n                resources: [\n                    {\n                        id: event.asset_id,\n                        name: event.asset_name || event.description,\n                    },\n                ],\n                asset_id: event.asset_id,\n            });\n        }, 100);\n    }\n\n    public async remove(item: CalendarEvent | Booking, remove_series = false) {\n        const time = `${format(item.date, 'dd MMM yyyy h:mma')}`;\n        const resource_name =\n            item instanceof CalendarEvent\n                ? item.space?.display_name\n                : item.asset_name || item.asset_id;\n        const content = `Delete the ${\n            remove_series ? 'recurring series of ' : ''\n        }booking for ${resource_name} at ${time}`;\n        const resp = await openConfirmModal(\n            { title: `Delete booking`, content, icon: { content: 'delete' } },\n            this._dialog,\n        );\n        if (item instanceof CalendarEvent && item.creator !== item.mailbox) {\n            item =\n                (\n                    await queryEvents({\n                        period_start: item.event_start,\n                        period_end: item.event_end,\n                        ical_uid: item.ical_uid,\n                    }).toPromise()\n                ).find((_) => _.ical_uid === (item as any).ical_uid) || item;\n        }\n        if (resp.reason !== 'done') return;\n        resp.loading('Requesting booking deletion...');\n        await (item instanceof CalendarEvent ? removeEvent : removeBooking)(\n            remove_series ? (item as any).recurring_event_id : item.id,\n            {\n                calendar: this._settings.get('app.no_user_calendar')\n                    ? null\n                    : (item as any).calendar || currentUser()?.email,\n                system_id: (item as any).system?.id,\n                instance: !!(item as any).instance || undefined,\n                start_time: !!(item as any).instance\n                    ? (item as any).instance\n                    : undefined,\n            } as any,\n        )\n            .toPromise()\n            .catch((e) => {\n                notifyError(`Unable to delete booking. ${e}`);\n                resp.close();\n                throw e;\n            });\n        notifySuccess('Successfully deleted booking.');\n        this._state.removeItem(item);\n        this._dialog.closeAll();\n    }\n\n    public async end(item: Booking) {\n        const time = `${format(item.date, 'dd MMM yyyy h:mma')}`;\n        const resource_name = item.asset_name || item.asset_id;\n        const content = `End the booking for ${resource_name} at ${time}`;\n        const resp = await openConfirmModal(\n            { title: `End booking`, content, icon: { content: 'delete' } },\n            this._dialog,\n        );\n\n        if (resp.reason !== 'done') return;\n        resp.loading('Ending booking...');\n        const promise = (\n            item.instance\n                ? checkinBookingInstance(item.id, item.instance, false)\n                : checkinBooking(item.id, false)\n        )\n            .toPromise()\n            .catch((e) => {\n                notifyError(`Unable to end booking. ${e}`);\n                resp.close();\n                throw e;\n            });\n        await promise;\n        notifySuccess('Successfully ended booking.');\n        this._state.removeItem(item);\n        this._dialog.closeAll();\n    }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { Route, RouterModule } from '@angular/router';\nimport { MatBottomSheetModule } from '@angular/material/bottom-sheet';\nimport { SharedComponentModule } from '../components/shared.module';\nimport { ScheduleFilterCardComponent } from './schedule-filter-card.component';\nimport { ScheduleFiltersComponent } from './schedule-filters.component';\nimport { ScheduleSidebarComponent } from './schedule-sidebar.component';\nimport { ScheduleComponent } from './schedule.component';\nimport { ScheduleMobileCalendarComponent } from './schedule-mobile-calendar.component';\n\nconst ROUTES: Route[] = [\n    { path: '', component: ScheduleComponent },\n    { path: '**', redirectTo: '' },\n];\n\nconst COMPONENTS = [\n    ScheduleComponent,\n    ScheduleSidebarComponent,\n    ScheduleFiltersComponent,\n    ScheduleFilterCardComponent,\n    ScheduleMobileCalendarComponent,\n];\n\n@NgModule({\n    declarations: [...COMPONENTS],\n    imports: [\n        CommonModule,\n        SharedComponentModule,\n        FormsModule,\n        MatBottomSheetModule,\n        RouterModule.forChild(ROUTES),\n    ],\n})\nexport class AppScheduleModule {}\n"],"x_google_ignoreList":[]}