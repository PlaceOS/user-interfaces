{"version":3,"mappings":"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","names":["i","Object","assign","t","e","arguments","length","r","prototype","hasOwnProperty","call","apply","this","create","constructor","s","setPrototypeOf","__proto__","String","fromCharCode","parseInt","slice","y","g","v","Paused","Uploading","Completed","Aborted","T","_request","_upload","state","size","progress","_file","_strategy","_finalising","_direct_upload","_progress","_current_parts","_pending_parts","_last_part","_memoization","_finishing","file","start","_finalise","_start","pause","abort","_currentParts","_restart","loaded","total","_updateProgress","destroy","_makeRequest","data","performSignedRequest","_onProgress","part","_nextPartIndex","shift","push","concat","_completePart","filter","_isComplete","_onError","onError","onProgress","updateStatus","then","onComplete","Promise","resolve","reject","_hashPart","n","md5","_getPartData","forEach","part_list","part_data","O","Array","_part_size","Math","floor","cancel","_processPart","signUpload","file_id","window","btoa","h","type","signature","setAccessUrl","url","split","_direct","_resume","toString","P","hash","parallel","_nextPart","responseXML","getElementsByTagName","textContent","resumable_id","_setPart","_generatePartManifest","signNextChunk","signChunk","part_update","lookup","L","_partSize","bind","_pad","B","status","expected","getResponseHeader","_performUpload","_getQueryParams","upload_id","join","exec","decodeURIComponent","N","size_bytes","path","sort","etag","JSON","stringify","FormFieldsModule","CommonModule","FormsModule","ReactiveFormsModule","MatFormFieldModule","MatInputModule","MatSelectModule","MatAutocompleteModule","MatTooltipModule","MatCheckboxModule","MatRadioModule","ComponentsModule","CounterComponent","add","value","min","ctrl_key","step","shift_key","max","setValue","remove","new_value","_onChange","writeValue","registerOnChange","fn","registerOnTouched","_onTouch","selectors","provide","NG_VALUE_ACCESSOR","useExisting","forwardRef","multi","decls","i0","ctx","dirtyDate","dirtyOptions","TypeError","originalDate","toDate","isValid","RangeError","options","format","representation","result","tzOffset","dateDelimiter","timeDelimiter","day","addLeadingZeros","getDate","month","getMonth","year","getFullYear","offset","getTimezoneOffset","absoluteOffset","abs","hourOffset","minuteOffset","sign","hour","getHours","minute","getMinutes","second","getSeconds","separator","time","FieldDateAdapter","NativeDateAdapter","date","displayFormat","factory","FIELD_DATE_FORMATS","parse","dateInput","display","monthYearLabel","dateA11yLabel","monthYearA11yLabel","DateFieldComponent","BaseClass","Date","valueOf","from","_from","startOfDay","until","_to","dirtyAmount","requiredArgs","amount","toInteger","addMonths","addYears","endOfDay","date_string","ngOnInit","toISOString","old_date","new_date","set","hours","minutes","formatISO","show_tooltip","setDisabledState","disabled","DateAdapter","useClass","MAT_DATE_FORMATS","useValue","_r0","defaultFormat","duration","locale","defaultLocale","zero","delimiter","reduce","acc","unit","token","replace","m","toUpperCase","formatDistance","DurationFieldComponent","duration_options","generateDurationOptions","ngOnChanges","changes","blocks","dayjs","option","specialPreprops","id","name","formatDuration","setSeconds","ctx_r4","TimeFieldComponent","show_select","_time_options","generateAvailableTimes","no_past_times","timeout","time_options","find","timeFormatString","a","b","localeCompare","startOfMinute","roundToNearestMinutes","nearestTo","showSelect","select_field","focus","open","subscription","openedChange","subscribe","datestamp","show_past","now","isSameDay","isAfter","end","addMinutes","ctx_r7","$event","ctx_r11","ctx_r13","UserSearchFieldComponent","q","searchStaff","Subject","search$","pipe","debounceTime","distinctUntilChanged","switchMap","query","loading","of","guests","forkJoin","searchGuests","query_fn","catchError","_","map","list","flatten","search","search_str","toLowerCase","item","clearTimeout","d","_input_el","_a","nativeElement","_b","blur","search_results$","user_list","resetSearchString","active_user","email","User","ElementRef","NewUserModalComponent","_data","super","EventEmitter","user","form","generateUserForm","saveChanges","markAllAsTouched","valid","new_user","event","emit","reason","metadata","MAT_DIALOG_DATA","UserFormComponent","hasError","invalid","touched","$","controls","E","i5","location","position","map_id","asset_id","x","map_width","map_height","variance","last_seen","getUnixTime","level","building","at_location","coordinates_from","GUEST_ENDPOINT","toQueryString","get","GuestUser","encodeURIComponent","CalendarEvent","STAFF_ENDPOINT","StaffUser","workerUri","workerOptions","_queue","_ready","self","Worker","_hashWorker","onmessage","_recievedMessage","onerror","err","console","error","ParallelHasher","blob","promise","_processNext","terminate","_processing","pop","postMessage","evt","success"],"sources":["./node_modules/@placeos/cloud-uploads/dist/cloud-uploads.module.js","./libs/form-fields/src/lib/form-fields.module.ts","./libs/form-fields/src/lib/counter.component.ts","./node_modules/date-fns/esm/formatISO/index.js","./libs/form-fields/src/lib/date-field.component.ts","./node_modules/date-fns/esm/addYears/index.js","./node_modules/date-fns/esm/formatDuration/index.js","./libs/form-fields/src/lib/duration-field.component.ts","./node_modules/date-fns/esm/startOfMinute/index.js","./libs/form-fields/src/lib/time-field.component.ts","./libs/form-fields/src/lib/user-search-field.component.ts","./libs/users/src/lib/new-user-modal.component.ts","./libs/users/src/lib/user-form.component.ts","./libs/users/src/lib/users.module.ts","./libs/users/src/lib/location.class.ts","./libs/users/src/lib/guests.fn.ts","./libs/users/src/lib/staff.fn.ts","./node_modules/ts-md5/dist/parallel_hasher.js"],"sourcesContent":["import{BehaviorSubject as t}from\"rxjs\";import{first as e}from\"rxjs/operators\";import{ParallelHasher as r}from\"ts-md5/dist/parallel_hasher\";function i(){return i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},i.apply(this,arguments)}function n(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,s(t,e)}function s(t,e){return s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},s(t,e)}var a={};function o(t,e){a[t]=e}var u=\"/api/files/v1/uploads\";function _(){return u}function p(t,e){void 0===e&&(e=!1);var r=e?1e3:1024;if(t<r)return t+(e?\" iB\":\" B\");var i=Math.floor(Math.log(t)/Math.log(r)),n=(e?\"kMGTPE\":\"KMGTPE\").charAt(i-1)+(e?\"iB\":\"B\");return(t/Math.pow(r,i)).toFixed(1)+\" \"+n}function h(t){var e=\"\";t.length%2>0&&(t=\"0\"+t);for(var r=0,i=t.length;r<i;r+=2)e+=String.fromCharCode(parseInt(t.slice(r,r+2),16));return e}function d(t){var e=\"\";if(t)for(var r in t)t.hasOwnProperty(r)&&null!=t[r]&&(e+=(e?\"&\":\"\")+r+\"=\"+encodeURIComponent(t[r]));return e}var l=\"\",c=\"\",f=/*#__PURE__*/function(){function t(t,e){var r=this;this._upload=void 0,this._endpoint=void 0,this._upload_id=void 0,this._params={},this._abort_ctrl=new AbortController,this._dispose=void 0,this._upload=t,this._endpoint=e,this._abort_ctrl.signal.addEventListener(\"abort\",function(){return r._dispose?r._dispose():\"\"})}t.setToken=function(t){l=t},t.setApiKey=function(t){c=t};var e=t.prototype;return e.initialiseSignedRequest=function(){try{var t,e=this,r=e._abort_ctrl.signal,n=e._upload.file;e._params.file_size=\"\"+n.size,e._params.file_name=n.name,e._params=i({},e._params,e._upload.params),(null==(t=n.dir_path)?void 0:t.length)>0&&(e._params.file_path=n.dir_path);var s=new Headers;s.append(\"Accept\",\"application/json\"),s.append(\"Content-Type\",\"application/json\"),l?s.append(\"Authorization\",\"Bearer \"+l):c&&s.append(\"X-API-Key\",\"\"+c);var a=d(e._params);return Promise.resolve(fetch(e._endpoint+\"/new\"+(a?\"?\"+a:\"\"),{headers:s,signal:r})).then(function(t){return t.json()})}catch(t){return Promise.reject(t)}},e.signUpload=function(t){try{var e=this,r=e._abort_ctrl.signal,i=new Headers;return i.append(\"Accept\",\"application/json\"),i.append(\"Content-Type\",\"application/json\"),l?i.append(\"Authorization\",\"Bearer \"+l):c&&i.append(\"X-API-Key\",\"\"+c),t.file_id&&(e._params.file_id=t.file_id),e._upload.mime_type&&(e._params.file_mime=t.mime_type),t.parameters&&(e._params.parameters=t.parameters),Promise.resolve(fetch(e._endpoint,{body:JSON.stringify(e._params),method:\"POST\",headers:i,signal:r})).then(function(t){return Promise.resolve(t.json()).then(function(t){return e._upload_id=t.upload_id,t})})}catch(t){return Promise.reject(t)}},e.signNextChunk=function(t,e,r,i){void 0===i&&(i=null);try{var n=this,s=n._abort_ctrl.signal,a=new Headers,o={part_list:r};i&&(o.part_data=i);var u=d({part:\"\"+t,file_id:e,file_mime:n._upload.mime_type});return Promise.resolve(fetch(n._endpoint+(u?\"?\"+u:\"\"),{body:JSON.stringify(o),method:\"PUT\",headers:a,signal:s})).then(function(t){return t.json()})}catch(t){return Promise.reject(t)}},e.signChunk=function(t,e){void 0===e&&(e=null);try{var r=this._abort_ctrl.signal,i=new Headers;i.append(\"Accept\",\"application/json\"),l?i.append(\"Authorization\",\"Bearer \"+l):c&&i.append(\"X-API-Key\",\"\"+c);var n=d({part:\"\"+t,file_id:e});return Promise.resolve(fetch(this._endpoint+\"/edit\"+(n?\"?\"+n:\"\"),{headers:i,signal:r})).then(function(t){return t.json()})}catch(t){return Promise.reject(t)}},e.updateStatus=function(t){void 0===t&&(t={});try{var e=this,r=e._abort_ctrl.signal,i=new Headers;return i.append(\"Accept\",\"application/json\"),i.append(\"Content-Type\",\"application/json\"),l?i.append(\"Authorization\",\"Bearer \"+l):c&&i.append(\"X-API-Key\",\"\"+c),Promise.resolve(fetch(e._endpoint+\"/\"+encodeURIComponent(e._upload_id),{headers:i,method:\"PUT\",body:JSON.stringify(t),signal:r})).then(function(t){return t.text()})}catch(t){return Promise.reject(t)}},e.abort=function(){this._abort_ctrl.abort()},e.destroy=function(){this.abort();var t=new Headers;if(t.append(\"Accept\",\"application/json\"),l?t.append(\"Authorization\",\"Bearer \"+l):c&&t.append(\"X-API-Key\",\"\"+c),this._upload_id)return fetch(this._endpoint+\"/\"+encodeURIComponent(this._upload_id),{headers:t,method:\"DELETE\"})},e.performSignedRequest=function(t,e){var r=this;return void 0===e&&(e=function(){}),new Promise(function(i,n){var s=new XMLHttpRequest;s.upload.addEventListener(\"progress\",function(t){return e(t)}),s.addEventListener(\"load\",function(r){e(r),s.status>=200&&s.status<300||s.status===t.expected?i(s):n(s.status+\": \"+s.statusText)});var a=function(t){r._upload.onError(t),n(t)};s.addEventListener(\"error\",function(){return a(s.status+\": \"+(s.statusText||\"unknown error\"))}),s.addEventListener(\"abort\",function(){return a(s.statusText||\"browser aborted\")}),s.open(t.signature.verb,t.signature.url,!0);var o=t.signature.headers;for(var u in o)!(u in o)||\"content-type\"===u.toLowerCase()&&r._upload.mime_type||s.setRequestHeader(u,o[u]);r._upload.mime_type&&s.setRequestHeader(\"Content-Type\",r._upload.mime_type),r._dispose=function(){s.abort(),n(\"user aborted\")},s.send(t.data||null)})},t}(),m=/*#__PURE__*/function(){function e(e,r,i,n,s){void 0===n&&(n={}),void 0===s&&(s=_()),this.file=void 0,this.retries=void 0,this.parallel=void 0,this.params=void 0,this._endpoint=void 0,this._state=new t({status:\"waiting\",progress:0,uploaded:0}),this._request=void 0,this._provider=void 0,this._access_url=\"\",this.size=void 0,this.status=this._state.asObservable(),this.mime_type=\"binary/octet-stream\",this.metadata=void 0,this.file=e,this.retries=r,this.parallel=i,this.params=n,this._endpoint=s}var r,n=e.prototype;return n.setAccessUrl=function(t){this._access_url=t},n.onProgress=function(t){var e=this._state.getValue();this._state.next(i({},e,{status:\"uploading\",uploaded:t,progress:Math.floor(t/this.file.size*1e3)/10}))},n.onComplete=function(){var t=this._state.getValue();this._state.next(i({},t,{status:\"complete\",progress:100}))},n.onError=function(t){var e=this._state.getValue();this._state.next(i({},e,{status:\"error\",error:t}))},n.resume=function(t){try{var e=this,r=e._state.getValue(),n=function(){if(![\"complete\",\"uploading\",\"cancelled\"].includes(r.status)){var n=function(){var t;null==(t=e._provider)||t.start()};t&&(e.parallel=t);var s=function(){if(!e._provider)return e._request=new f(e,e._endpoint),Promise.resolve(e._request.initialiseSignedRequest()).then(function(t){var n=a[t.residence]||null;n?(e._provider=new n(e._request,e),e._state.next(i({},r,{status:\"uploading\"}))):e.onError(\"No provider available to upload to\")})}();return s&&s.then?s.then(n):n()}}();return Promise.resolve(n&&n.then?n.then(function(){}):void 0)}catch(t){return Promise.reject(t)}},n.pause=function(){var t,e=this._state.getValue();\"uploading\"===e.status&&(null==(t=this._provider)||t.pause(),this._state.next(i({},e,{status:\"paused\"})))},n.cancel=function(){var t,e=this._state.getValue();[\"complete\",\"cancelled\"].includes(e.status)||(\"uploading\"===e.status&&(null==(t=this._provider)||t.destroy()),this._state.next(i({},e,{status:\"cancelled\"})))},(r=[{key:\"access_url\",get:function(){return this._access_url}},{key:\"waiting\",get:function(){var t;return\"waiting\"===(null==(t=this._state.getValue())?void 0:t.status)}},{key:\"in_progress\",get:function(){var t;return\"uploading\"===(null==(t=this._state.getValue())?void 0:t.status)}},{key:\"completed\",get:function(){var t;return\"complete\"===(null==(t=this._state.getValue())?void 0:t.status)}}])&&function(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(e.prototype,r),e}(),g=[],v=-1;function P(){return v+=1,g[v%=3]}var y,b={auto_start:!0,auto_remove:!1,remove_after:0,simultaneous:2,parallel:3,retries:4,providers:[]},z=b,E=[];function x(t){void 0===t&&(t={}),(z=i({},b,t)).endpoint&&(u=z.endpoint),function(t,e){var i;void 0===t&&(t=\"/node_modules/ts-md5/dist/md5_worker.js\"),(null==(i=g)?void 0:i.length)>0&&g.forEach(function(t){return t.terminate()}),g=[];for(var n=0;n<3;n+=1)g.push(new r(t,e))}(z.worker_url,z.worker_options),z.token&&f.setToken(z.token),z.api_key&&f.setApiKey(z.api_key),q(z.providers)}function q(t){t.forEach(function(t){return o(t.lookup,t)})}function w(t,r){if(void 0===r&&(r={}),!_())throw\"No API endpoint set\";var i=[];return t.forEach(function(t){var n=new m(t,z.retries,z.parallel,r);i.push(n),E.push(n),n.metadata=z.metadata,n.status.pipe(e(function(t){return\"complete\"===t.status})).subscribe(function(t){return function(t){var e=z.auto_start,r=z.remove_after;z.auto_remove&&(r?setTimeout(function(){return j(t)},r):j(t));var i=E.filter(function(t){return t.waiting});e&&i.length&&M()&&i[0].resume(z.parallel)}(n)}),z.auto_start&&M()&&n.resume(z.parallel)}),i}function S(){return[].concat(E)}function k(){E.forEach(function(t){return t.pause()})}function U(t){t.resume(z.parallel)}function C(){E.forEach(function(t){return t.resume(z.parallel)})}function A(t){z.metadata=t,E.forEach(function(e){return e.metadata=t})}function j(t){t.cancel(),E=E.filter(function(e){return e!==t})}function R(){E.forEach(function(t){return t.cancel()}),E=[]}function I(){E=E.filter(function(t){return!t.completed})}function M(){return E.filter(function(t){return t.in_progress}).length<z.simultaneous}!function(t){t[t.Paused=0]=\"Paused\",t[t.Uploading=1]=\"Uploading\",t[t.Completed=2]=\"Completed\",t[t.Aborted=3]=\"Aborted\"}(y||(y={}));var T=/*#__PURE__*/function(){function t(t,e){this._request=void 0,this._upload=void 0,this.state=y.Paused,this.size=void 0,this.progress=0,this._file=void 0,this._strategy=void 0,this._finalising=void 0,this._direct_upload=void 0,this._progress={},this._current_parts=[],this._pending_parts=[],this._last_part=void 0,this._memoization={},this._finishing=!1,this._request=t,this._upload=e,this._file=this._upload.file,this.size=this._file.size}var e=t.prototype;return e.start=function(){this.state<y.Uploading&&(this._finalising?this._finalise():this._start())},e.pause=function(){for(var t in this._strategy&&this.state===y.Uploading&&!this._direct_upload?(this.state=y.Paused,this._request.abort(),this._pending_parts=this._currentParts(),this._current_parts=[]):this._strategy&&!this._direct_upload||(this.state=y.Paused,this._request.abort(),this._restart()),this._progress)this._progress[t].loaded!==this._progress[t].total&&(this._progress[t].loaded=0);this._updateProgress()},e.destroy=function(){void 0!==this._strategy&&this.state<y.Completed&&(this._request.destroy(),this._restart(),this.state=y.Aborted)},e._restart=function(){this._strategy=void 0,this._current_parts=[],this._pending_parts=[]},e._makeRequest=function(t,e){var r=this;return e.data=t.data,this._request.performSignedRequest(e,function(e){return r._onProgress(t.part,e)})},e._nextPartIndex=function(){return this._pending_parts.length>0?this._last_part=this._pending_parts.shift():this._last_part+=1,this._current_parts.push(this._last_part),this._last_part},e._currentParts=function(){return this._current_parts.concat(this._pending_parts)},e._completePart=function(t){this._current_parts=this._current_parts.filter(function(e){return e!==t})},e._isComplete=function(t){var e=this._progress[t]||{},r=e.loaded;return r&&r===e.total},e._onProgress=function(t,e){this._progress[t]=i({},e),this._updateProgress()},e._onError=function(t){this.pause(),this._upload.onError(t)},e._updateProgress=function(){var t=0;for(var e in this._progress)t+=this._progress[e].loaded||0;this._upload.onProgress(t)},e._finalise=function(){try{var t=this;return t._request.updateStatus().then(function(){return t._upload.onComplete()},function(e){return t._onError(e)}),Promise.resolve()}catch(t){return Promise.reject(t)}},e._hashPart=function(t,e,r){try{var i=this,n=i._memoization[t],s=e();return Promise.resolve(n?{data:s,md5:n.md5,part:n.part}:r(s).then(function(e){return i._memoization[t]=e,{data:s,md5:e.md5,part:e.part}}))}catch(t){return Promise.reject(t)}},e._getPartData=function(){var t=this,e=this._currentParts(),r=[];return e.forEach(function(e){var i=t._memoization[\"\"+e];i&&r.push(i)}),{part_list:e,part_data:r}},t}(),O=/*#__PURE__*/function(t){function e(){for(var e,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this)._part_size=5242880,e}n(e,t);var r=e.prototype;return r._start=function(){var t=this;if(void 0===this._strategy){if(this.state=y.Uploading,this._strategy=null,9999*this._part_size<this.size&&(this._part_size=Math.floor(this.size/9999),this._part_size>5368709120))return this._upload.cancel(),void this._onError(\"file exceeds maximum size\");this._processPart(1).then(function(e){t.state===y.Uploading&&t._request.signUpload({file_id:window.btoa(h(e.md5))}).then(function(r){t._strategy=r.type,r.signature&&t._upload.setAccessUrl((r.signature.url||\"\").split(\"?\")[0]),\"direct_upload\"===r.type?t._direct(r,e):t._resume(r,e)},function(e){return t._onError(e)})},function(e){return t._onError(e)})}else this.state===y.Paused&&this._resume()},r._processPart=function(t){var e=this;return this._hashPart(t.toString(),function(){var r,i;return e.size>e._part_size?((i=t*e._part_size)>e.size&&(i=e.size),r=e._file.slice((t-1)*e._part_size,i)):r=e._file,r},function(e){return P().hash(e).then(function(e){return{md5:e,part:t}})})},r._resume=function(t,e){var r,i=this;if(void 0===t&&(t=null),void 0===e&&(e=null),t)if(\"parts\"===t.type)for(this._pending_parts=t.part_list,t.part_data&&(this._memoization=t.part_data),r=0;r<this._upload.parallel;r+=1)this._nextPart();else this._request.signUpload(t).then(function(t){var n=t.responseXML.getElementsByTagName(\"UploadId\")[0].textContent;i._request.updateStatus({resumable_id:n,file_id:window.btoa(h(e.md5)),part:1}).then(function(t){for(i._nextPartIndex(),i._setPart(t,e),r=1;r<i._upload.parallel;r+=1)i._nextPart()},function(t){i._restart(),i._onError(t)})},function(t){i._restart(),i._onError(t)});else for(r=0;r<this._upload.parallel;r+=1)this._nextPart()},r._generatePartManifest=function(){var t,e,r=\"<CompleteMultipartUpload>\";for(t=1;t<1e4&&(e=this._memoization[t]);t+=1)r+=\"<Part><PartNumber>\"+t+'</PartNumber><ETag>\"'+e.md5+'\"</ETag></Part>';return r+\"</CompleteMultipartUpload>\"},r._nextPart=function(){var t,e=this,r=this._nextPartIndex();(r-1)*this._part_size<this.size?this._processPart(r).then(function(i){e.state===y.Uploading&&(t=e._getPartData(),e._request.signNextChunk(r,window.btoa(h(i.md5)),t.part_list,t.part_data).then(function(t){e._setPart(t,i)},function(t){return e._onError(t)}))},function(t){return e._onError(t)}):1===this._currentParts.length&&this._currentParts[0]===r?(this._finishing=!0,this._request.signChunk(\"finish\").then(function(t){t.data=e._generatePartManifest(),e._request.signUpload(t).then(function(){return e._finalise()},function(t){return e._onError(t)})},function(t){return e._onError(t)})):this._finishing||(this._completePart(r),(t=this._getPartData()).part_update=!0,this._request.updateStatus(t))},r._setPart=function(t,e){var r=this;this._makeRequest(e,t).then(function(){return r._nextPart()},function(t){return r._onError(t)})},r._direct=function(t,e){var r=this,i=this._makeRequest(e,t);this._direct_upload=!0,i.then(function(){return r._finalise()},function(t){return r._onError(t)})},e}(T);O.lookup=\"AmazonS3\";var L=/*#__PURE__*/function(t){function e(){for(var e,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this)._partSize=2097152,e}n(e,t);var r=e.prototype;return r._start=function(){var t=this;if(void 0===this._strategy){if(this.state=y.Uploading,this._strategy=null,5e4*this._partSize<this.size&&(this._partSize=Math.floor(this.size/5e4),this._partSize>4194304))return this._upload.cancel(),void this._onError(\"file exceeds maximum size of 195GB\");this._processPart(1).then(function(e){t.state===y.Uploading&&t._request.signUpload({file_id:e.md5}).then(function(r){t._strategy=r.type,\"direct_upload\"===r.type?t._direct(r,e):t._resume(r,e)},t._onError.bind(t))},this._onError.bind(this))}else this.state===y.Paused&&this._resume()},r._processPart=function(t){var e=this;return this._hashPart(t.toString(),function(){var r,i;return e.size>e._partSize?((i=t*e._partSize)>e.size&&(i=e.size),r=e._file.slice((t-1)*e._partSize,i)):r=e._file,r},function(e){return P().hash(e).then(function(e){return{md5:window.btoa(h(e)),part:t}})})},r._resume=function(t,e){var r,i=this;if(void 0===t&&(t=null),void 0===e&&(e=null),t)if(\"parts\"===t.type)for(this._pending_parts=t.part_list,r=0;r<this._upload.parallel;r+=1)this._nextPart();else this._request.updateStatus({resumable_id:\"n/a\",file_id:e.md5,part:1}).then(function(t){for(i._nextPartIndex(),i._setPart(t,e),r=1;r<i._upload.parallel;r+=1)i._nextPart()},function(t){this._restart(),this._onError(t)});else for(r=0;r<this._upload.parallel;r+=1)this._nextPart()},r._generatePartManifest=function(){for(var t='<?xml version=\"1.0\" encoding=\"utf-8\"?><BlockList>',e=0;e<5e4&&e*this._partSize<this.size;e+=1)t+=\"<Latest>\"+window.btoa(this._pad(e+1))+\"</Latest>\";return t+\"</BlockList>\"},r._pad=function(t){for(var e=t.toString();e.length<6;)e=\"0\"+e;return e},r._nextPart=function(){var t=this,e=this._nextPartIndex();(e-1)*this._partSize<this.size?this._processPart(e).then(function(r){t.state===y.Uploading&&t._request.signNextChunk(e,r.md5,t._currentParts()).then(function(e){t._setPart(e,r)},t._onError.bind(t))},this._onError.bind(this)):1===this._currentParts.length&&this._currentParts[0]===e?(this._finishing=!0,this._request.signChunk(\"finish\").then(function(e){e.data=t._generatePartManifest(),t._request.signUpload(e).then(t._finalise.bind(t),t._onError.bind(t))},this._onError.bind(this))):this._finishing||(this._completePart(e),this._request.updateStatus({part_update:!0,part_list:this._currentParts()}))},r._setPart=function(t,e){var r=this;this._makeRequest(e,t).then(function(){r._completePart(e.part),r._nextPart()},this._onError.bind(this))},r._direct=function(t,e){var r=this,i=this._makeRequest(e,t);this._direct_upload=!0,i.then(function(){return r._finalise()},this._onError.bind(this))},e}(T);L.lookup=\"MicrosoftAzure\";var B=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var r=e.prototype;return r._start=function(){var t=this;void 0!==this._strategy&&this.state!==y.Paused||(this.state=y.Uploading,this._strategy=null,this._processPart(this._file).then(function(e){t.state===y.Uploading&&t._request.signUpload({file_id:e.md5}).then(function(r){t._strategy=r.type,\"direct_upload\"===r.type?t._direct(r,e):t._resume(r,e)},t._onError.bind(t))},this._onError.bind(this)))},r._processPart=function(t,e){return void 0===e&&(e=0),this._hashPart(e.toString(),function(){return t},function(t){return P().hash(t).then(function(t){return{md5:window.btoa(h(t)),part:e}})})},r._resume=function(t,e){var r=this;this._request.signUpload(t).then(function(i){if(\"status\"===t.type)if(i.status===t.expected){var n=parseInt(i.getResponseHeader(\"Range\").split(\"-\")[1],10)+1;r._processPart(r._file.slice(n),n).then(function(t){r.state===y.Uploading&&r._request.signChunk(n,t.md5).then(function(e){r._performUpload(e,t)},r._onError.bind(r))},r._onError.bind(r))}else r._finalise();else r._request.updateStatus({resumable_id:r._getQueryParams(i.getResponseHeader(\"Location\").split(\"?\")[1]).upload_id,file_id:e.md5,part:0}).then(function(t){return r._performUpload(t,e)},function(t){this._restart(),this._onError(t)})},this._onError.bind(this))},r._performUpload=function(t,e){var r=this;this._makeRequest(e,t).then(function(){return r._finalise()},this._onError.bind(this))},r._direct=function(t,e){var r=this,i=this._makeRequest(e,t);this._direct_upload=!0,i.then(function(){r._finalise()},this._onError.bind(this))},r._getQueryParams=function(t){t=t.split(\"+\").join(\" \");for(var e,r={},i=/[?&]?([^=]+)=([^&]*)/g;e=i.exec(t);)r[decodeURIComponent(e[1])]=decodeURIComponent(e[2]);return r},e}(T);B.lookup=\"GoogleCloudStorage\";var N=/*#__PURE__*/function(t){function e(){for(var e,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this)._partSize=2097152,e}n(e,t);var r=e.prototype;return r._start=function(){var t=this;if(void 0===this._strategy){if(this.state=y.Uploading,this._strategy=null,1e3*this._partSize<this.size&&(this._partSize=Math.floor(this.size/1e3),this._partSize>5368709120))return this._upload.cancel(),void this._onError(\"file exceeds maximum size\");this._processPart(1).then(function(e){t.state===y.Uploading&&t._request.signUpload({file_id:e.md5}).then(function(r){t._strategy=r.type,\"direct_upload\"===r.type?t._direct(r,e):t._resume(r,e)},t._onError.bind(t))},this._onError.bind(this))}else this.state===y.Paused&&this._resume()},r._processPart=function(t){var e=this;return this._hashPart(t.toString(),function(){var r,i;return e.size>e._partSize?((i=t*e._partSize)>e.size&&(i=e.size),r=e._file.slice((t-1)*e._partSize,i)):r=e._file,r},function(e){return P().hash(e).then(function(r){return{md5:r,part:t,size_bytes:e.size}})})},r._resume=function(t,e){var r,i=this;if(void 0===t&&(t=null),void 0===e&&(e=null),t)if(\"parts\"===t.type){if(this._pending_parts=t.part_list,t.part_data){var n;for(var s in this._memoization=t.part_data,this._memoization)this._memoization.hasOwnProperty(s)&&((n=this._memoization[s]).path||this._pending_parts.push(n.part));this._pending_parts=this._pending_parts.sort().filter(function(t,e,r){return!e||t!==r[e-1]})}for(r=0;r<this._upload.parallel;r+=1)this._nextPart()}else this._request.updateStatus({resumable_id:\"n/a\",file_id:e.md5,part:1}).then(function(t){for(i._nextPartIndex(),i._memoization[1].path=t.path,i._setPart(t,e),r=1;r<i._upload.parallel;r+=1)i._nextPart()},function(t){this._restart(),this._onError(t)});else for(r=0;r<this._upload.parallel;r+=1)this._nextPart()},r._generatePartManifest=function(){for(var t,e=[],r=1;r<1e4&&(t=this._memoization[r]);r+=1)e.push({path:t.path,etag:t.md5,size_bytes:t.size_bytes});return JSON.stringify(e)},r._nextPart=function(){var t,e=this,r=this._nextPartIndex();(r-1)*this._partSize<this.size?this._processPart(r).then(function(i){e.state===y.Uploading&&(t=e._getPartData(),e._request.signNextChunk(r,i.md5,t.part_list,t.part_data).then(function(t){e._memoization[r].path=t.path,e._setPart(t,i)},e._onError.bind(e)))},this._onError.bind(this)):1===this._currentParts.length&&this._currentParts[0]===r?(this._finishing=!0,this._request.signChunk(\"finish\").then(function(t){t.signature?(t.data=e._generatePartManifest(),e._request.signUpload(t).then(e._finalise.bind(e),e._onError.bind(e))):e._finalise()},this._onError.bind(this))):this._finishing||(this._completePart(r),(t=this._getPartData()).part_update=!0,this._request.updateStatus(t))},r._setPart=function(t,e){var r=this;this._makeRequest(e,t).then(function(){r._completePart(e.part),r._nextPart()},this._onError.bind(this))},r._direct=function(t,e){var r=this,i=this._makeRequest(e,t);this._direct_upload=!0,i.then(function(){return r._finalise()},this._onError.bind(this))},e}(T);N.lookup=\"OpenStackSwift\";export{O as Amazon,L as Azure,T as CloudProvider,B as Google,N as OpenStack,m as Upload,q as addProviders,h as hexToBinary,p as humanReadableByteCount,x as initialiseUploadService,S as listUploads,k as pauseAllUploads,o as registerUploadProvider,R as removeAllUploads,I as removeCompletedUploads,j as removeUpload,C as resumeAllUploads,U as resumeUpload,d as toQueryString,A as updateUploadMetadata,w as uploadFiles};\n","import { NgModule, Type } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\n\nimport { ComponentsModule } from '@placeos/components';\n\nimport { ActionFieldComponent } from './action-field.component';\nimport { CounterComponent } from './counter.component';\nimport { DateFieldComponent } from './date-field.component';\nimport { DurationFieldComponent } from './duration-field.component';\nimport { TimeFieldComponent } from './time-field.component';\nimport { UserListFieldComponent } from './user-list-field.component';\nimport { UserSearchFieldComponent } from './user-search-field.component';\nimport { ItemListFieldComponent } from './item-list-field.component';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatRadioModule } from '@angular/material/radio';\nimport { UploadListFieldComponent } from './upload-list-field.component';\nimport { UploadFileFieldComponent } from './upload-file-field.component';\nimport { AssetListFieldComponent } from './asset-list-field.component';\nimport { CateringListFieldComponent } from './catering-list-field.component';\nimport { SpaceListFieldComponent } from './space-list-field.component';\n\nexport * from './action-field.component';\nexport * from './counter.component';\nexport * from './date-field.component';\nexport * from './duration-field.component';\nexport * from './time-field.component';\nexport * from './user-list-field.component';\nexport * from './user-search-field.component';\n\nconst COMPONENTS: Type<any>[] = [\n    ActionFieldComponent,\n    CounterComponent,\n    DateFieldComponent,\n    DurationFieldComponent,\n    TimeFieldComponent,\n    UserListFieldComponent,\n    UserSearchFieldComponent,\n    ItemListFieldComponent,\n    UploadListFieldComponent,\n    UploadFileFieldComponent,\n    AssetListFieldComponent,\n    CateringListFieldComponent,\n    SpaceListFieldComponent\n];\n\n@NgModule({\n    declarations: [...COMPONENTS],\n    imports: [\n        CommonModule,\n        FormsModule,\n        ReactiveFormsModule,\n        MatFormFieldModule,\n        MatInputModule,\n        MatSelectModule,\n        MatAutocompleteModule,\n        MatTooltipModule,\n        MatCheckboxModule,\n        MatRadioModule,\n        ComponentsModule,\n    ],\n    exports: [...COMPONENTS],\n})\nexport class FormFieldsModule {}\n","import { Component, forwardRef, Input } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\n@Component({\n    selector: 'a-counter',\n    template: `\n        <div\n            counter\n            class=\"flex items-center text-base\"\n            (window:keydown.shift)=\"shift_key = true\"\n            (window:keydown.control)=\"ctrl_key = true\"\n            (window:keydown.meta)=\"ctrl_key = true\"\n            (window:keyup.shift)=\"shift_key = false\"\n            (window:keyup.control)=\"ctrl_key = false\"\n            (window:keyup.meta)=\"ctrl_key = false\"\n        >\n            <button\n                mat-icon-button\n                name=\"remove\"\n                type=\"button\"\n                [disabled]=\"!value || value === min\"\n                (click)=\"remove()\"\n            >\n                <app-icon>remove</app-icon>\n            </button>\n            <div value class=\"p-1 text-center\">{{ (render_fn ? render_fn(value) : value) || '0' }}</div>\n            <button\n                mat-icon-button\n                name=\"add\"\n                type=\"button\"\n                [disabled]=\"value === max\"\n                (click)=\"add()\"\n            >\n                <app-icon>add</app-icon>\n            </button>\n        </div>\n    `,\n    styles: [\n        `\n            [value] {\n                min-width: 3em;\n            }\n        `,\n    ],\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            /* istanbul ignore next */\n            useExisting: forwardRef(() => CounterComponent),\n            multi: true,\n        },\n    ],\n})\nexport class CounterComponent implements ControlValueAccessor {\n    /** Size of a single step */\n    @Input() public step = 1;\n    /** Maximum amount for the counter */\n    @Input() public max = 10;\n    /** Minimum amount for the counter */\n    @Input() public min = 0;\n    /** Custom function for rendering the counter value */\n    @Input() public render_fn: (v: number) => string;\n    /** Current value of the counter */\n    public value: number;\n    /** Whether shift key is being held by the user */\n    public shift_key: boolean;\n    /** Whether control key is being held by the user */\n    public ctrl_key: boolean;\n\n    /** Form control on change handler */\n    private _onChange: (_: number) => void;\n    /** Form control on touch handler */\n    private _onTouch: (_: number) => void;\n\n    /**\n     * Add the `step` to the current value\n     */\n    public add() {\n        if (!this.value) {\n            this.value = this.min || 0;\n        }\n        const step = this.ctrl_key ? 100 * this.step : this.shift_key ? 10 * this.step : this.step || 1;\n        this.value += step;\n        if (this.value > this.max) {\n            this.value = this.max || 10;\n        }\n        this.setValue(this.value);\n    }\n\n    /** Remove the `step` from the current value */\n    public remove() {\n        if (!this.value) {\n            this.value = this.min || 0;\n        }\n        const step = this.ctrl_key ? 100 * this.step : this.shift_key ? 10 * this.step : this.step || 1;\n        this.value -= step;\n        if (this.value < this.min) {\n            this.value = this.min || 0;\n        }\n        this.setValue(this.value);\n    }\n\n    /**\n     * Update the form field value\n     * @param new_value New value to set on the form field\n     */\n    public setValue(new_value: number): void {\n        this.value = new_value;\n        /* istanbul ignore else */\n        if (this._onChange) {\n            this._onChange(new_value);\n        }\n    }\n\n    /**\n     * Update local value when form control value is changed\n     * @param value The new value for the component\n     */\n    public writeValue(value: number) {\n        this.value = value;\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Registers a callback function that is called when the control's value changes in the UI.\n     * @param fn The callback function to register\n     */\n    public registerOnChange(fn: (_: number) => void): void {\n        this._onChange = fn;\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Registers a callback function is called by the forms API on initialization to update the form model on blur.\n     * @param fn The callback function to register\n     */\n    public registerOnTouched(fn: (_: number) => void): void {\n        this._onTouch = fn;\n    }\n}\n","import toDate from \"../toDate/index.js\";\nimport isValid from \"../isValid/index.js\";\nimport addLeadingZeros from \"../_lib/addLeadingZeros/index.js\";\n/**\n * @name formatISO\n * @category Common Helpers\n * @summary Format the date according to the ISO 8601 standard (http://support.sas.com/documentation/cdl/en/lrdict/64316/HTML/default/viewer.htm#a003169814.htm).\n *\n * @description\n * Return the formatted date string in ISO 8601 format. Options may be passed to control the parts and notations of the date.\n *\n * @param {Date|Number} date - the original date\n * @param {Object} [options] - an object with options.\n * @param {'extended'|'basic'} [options.format='extended'] - if 'basic', hide delimiters between date and time values.\n * @param {'complete'|'date'|'time'} [options.representation='complete'] - format date, time with time zone, or both.\n * @returns {String} the formatted date string\n * @throws {TypeError} 1 argument required\n * @throws {RangeError} `date` must not be Invalid Date\n * @throws {RangeError} `options.format` must be 'extended' or 'basic'\n * @throws {RangeError} `options.represenation` must be 'date', 'time' or 'complete'\n *\n * @example\n * // Represent 18 September 2019 in ISO 8601 format (UTC):\n * const result = formatISO(new Date(2019, 8, 18, 19, 0, 52))\n * //=> '2019-09-18T19:00:52Z'\n *\n * @example\n * // Represent 18 September 2019 in ISO 8601, short format (UTC):\n * const result = formatISO(new Date(2019, 8, 18, 19, 0, 52), { format: 'basic' })\n * //=> '20190918T190052'\n *\n * @example\n * // Represent 18 September 2019 in ISO 8601 format, date only:\n * const result = formatISO(new Date(2019, 8, 18, 19, 0, 52), { representation: 'date' })\n * //=> '2019-09-18'\n *\n * @example\n * // Represent 18 September 2019 in ISO 8601 format, time only (UTC):\n * const result = formatISO(new Date(2019, 8, 18, 19, 0, 52), { representation: 'time' })\n * //=> '19:00:52Z'\n */\n\nexport default function formatISO(dirtyDate, dirtyOptions) {\n  if (arguments.length < 1) {\n    throw new TypeError(\"1 argument required, but only \".concat(arguments.length, \" present\"));\n  }\n\n  var originalDate = toDate(dirtyDate);\n\n  if (!isValid(originalDate)) {\n    throw new RangeError('Invalid time value');\n  }\n\n  var options = dirtyOptions || {};\n  var format = options.format == null ? 'extended' : String(options.format);\n  var representation = options.representation == null ? 'complete' : String(options.representation);\n\n  if (format !== 'extended' && format !== 'basic') {\n    throw new RangeError(\"format must be 'extended' or 'basic'\");\n  }\n\n  if (representation !== 'date' && representation !== 'time' && representation !== 'complete') {\n    throw new RangeError(\"representation must be 'date', 'time', or 'complete'\");\n  }\n\n  var result = '';\n  var tzOffset = '';\n  var dateDelimiter = format === 'extended' ? '-' : '';\n  var timeDelimiter = format === 'extended' ? ':' : ''; // Representation is either 'date' or 'complete'\n\n  if (representation !== 'time') {\n    var day = addLeadingZeros(originalDate.getDate(), 2);\n    var month = addLeadingZeros(originalDate.getMonth() + 1, 2);\n    var year = addLeadingZeros(originalDate.getFullYear(), 4); // yyyyMMdd or yyyy-MM-dd.\n\n    result = \"\".concat(year).concat(dateDelimiter).concat(month).concat(dateDelimiter).concat(day);\n  } // Representation is either 'time' or 'complete'\n\n\n  if (representation !== 'date') {\n    // Add the timezone.\n    var offset = originalDate.getTimezoneOffset();\n\n    if (offset !== 0) {\n      var absoluteOffset = Math.abs(offset);\n      var hourOffset = addLeadingZeros(Math.floor(absoluteOffset / 60), 2);\n      var minuteOffset = addLeadingZeros(absoluteOffset % 60, 2); // If less than 0, the sign is +, because it is ahead of time.\n\n      var sign = offset < 0 ? '+' : '-';\n      tzOffset = \"\".concat(sign).concat(hourOffset, \":\").concat(minuteOffset);\n    } else {\n      tzOffset = 'Z';\n    }\n\n    var hour = addLeadingZeros(originalDate.getHours(), 2);\n    var minute = addLeadingZeros(originalDate.getMinutes(), 2);\n    var second = addLeadingZeros(originalDate.getSeconds(), 2); // If there's also date, separate it with time with 'T'\n\n    var separator = result === '' ? '' : 'T'; // Creates a time string consisting of hour, minute, and second, separated by delimiters, if defined.\n\n    var time = [hour, minute, second].join(timeDelimiter); // HHmmss or HH:mm:ss.\n\n    result = \"\".concat(result).concat(separator).concat(time).concat(tzOffset);\n  }\n\n  return result;\n}","import {\n    Component,\n    forwardRef,\n    Injectable,\n    Input,\n    OnInit,\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport {\n    DateAdapter,\n    MatDateFormats,\n    MAT_DATE_FORMATS,\n    NativeDateAdapter,\n} from '@angular/material/core';\nimport {\n    addYears,\n    endOfDay,\n    format,\n    formatISO,\n    set,\n    startOfDay,\n} from 'date-fns';\nimport { BaseClass } from 'libs/common/src/lib/base.class';\nimport { HashMap } from 'libs/common/src/lib/types';\n\n@Injectable()\nclass FieldDateAdapter extends NativeDateAdapter {\n    format(date: Date, displayFormat: HashMap | string): string {\n        if (displayFormat === 'input') {\n            return format(date, 'MMMM d, yyyy');\n        }\n        return format(date, 'MMM yyyy');\n    }\n}\nconst FIELD_DATE_FORMATS: MatDateFormats = {\n    parse: {\n        dateInput: 'LL',\n    },\n    display: {\n        dateInput: 'input',\n        monthYearLabel: 'MMM YYYY',\n        dateA11yLabel: 'LL',\n        monthYearA11yLabel: 'MMMM YYYY',\n    },\n};\n\n@Component({\n    selector: 'a-date-field',\n    template: `\n        <mat-form-field appearance=\"outline\" overlay (click)=\"picker.open()\">\n            <input\n                matInput\n                [ngModel]=\"date\"\n                [disabled]=\"disabled\"\n                [min]=\"from\"\n                [max]=\"until\"\n                (ngModelChange)=\"setValue($event)\"\n                [matDatepicker]=\"picker\"\n            />\n            <mat-datepicker-toggle\n                matSuffix\n                [for]=\"picker\"\n            ></mat-datepicker-toggle>\n            <mat-datepicker #picker></mat-datepicker>\n            <mat-error><ng-content></ng-content></mat-error>\n        </mat-form-field>\n    `,\n    styles: [\n        `\n            mat-form-field {\n                width: 100%;\n            }\n        `,\n    ],\n    providers: [\n        { provide: DateAdapter, useClass: FieldDateAdapter },\n        { provide: MAT_DATE_FORMATS, useValue: FIELD_DATE_FORMATS },\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: forwardRef(() => DateFieldComponent),\n            multi: true,\n        },\n    ],\n})\nexport class DateFieldComponent\n    extends BaseClass\n    implements OnInit, ControlValueAccessor\n{\n    /** Earliest date available the user is allowed to pick */\n    @Input('from') public _from: number = new Date().valueOf();\n    /** Latest date available the user is allowed to pick */\n    @Input('to') public _to: number;\n    /** Position of the tooltip */\n    @Input() public position: 'right' | 'left' = 'right';\n    /** Offset of the tooltip */\n    @Input() public offset: 'top' | 'bottom' = 'bottom';\n    /** Whether form control is disabled */\n    @Input() public disabled: boolean;\n    /** Whether to show the calendar tooltip */\n    public show_tooltip: boolean;\n    /** Currently selected date */\n    public date: string;\n\n    /** Form control on change handler */\n    private _onChange: (_: number) => void;\n    /** Form control on touch handler */\n    private _onTouch: (_: number) => void;\n\n    /** First allowed date on the calendar */\n    public get from(): Date {\n        return new Date(this._from) || startOfDay(new Date());\n    }\n    /** Current date value */\n    public get until(): Date {\n        return new Date(this._to) || addYears(endOfDay(new Date()), 1);\n    }\n    /** Display value for the current date */\n    public get date_string(): string {\n        return format(new Date(this.date), 'DD MMM YYYY');\n    }\n\n    public ngOnInit() {\n        this.date = new Date().toISOString();\n    }\n\n    /**\n     * Update the form field value\n     * @param new_value New value to set on the form field\n     */\n    public setValue(new_value: number) {\n        // Keep hours and minutes of the old date\n        const old_date = new Date(this.date);\n        let new_date = set(new_value, {\n            hours: old_date.getHours(),\n            minutes: old_date.getMinutes(),\n        }).valueOf();\n        // Check that new date is before from\n        if (new_date < this.from.valueOf()) {\n            new_date = this.from.valueOf();\n        }\n        this.date = formatISO(new_date || new Date());\n        if (this._onChange) {\n            this._onChange(new_date);\n        }\n        this.show_tooltip = false;\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Update local value when form control value is changed\n     * @param value The new value for the component\n     */\n    public writeValue(value: number) {\n        this.date = formatISO(value || new Date());\n        this.show_tooltip = false;\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Registers a callback function that is called when the control's value changes in the UI.\n     * @param fn The callback function to register\n     */\n    public registerOnChange(fn: (_: number) => void): void {\n        this._onChange = fn;\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Registers a callback function is called by the forms API on initialization to update the form model on blur.\n     * @param fn The callback function to register\n     */\n    public registerOnTouched(fn: (_: number) => void): void {\n        this._onTouch = fn;\n    }\n\n    public setDisabledState(disabled: boolean) {\n        this.disabled = disabled;\n    }\n}\n","import toInteger from \"../_lib/toInteger/index.js\";\nimport addMonths from \"../addMonths/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addYears\n * @category Year Helpers\n * @summary Add the specified number of years to the given date.\n *\n * @description\n * Add the specified number of years to the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of years to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the years added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 5 years to 1 September 2014:\n * const result = addYears(new Date(2014, 8, 1), 5)\n * //=> Sun Sep 01 2019 00:00:00\n */\n\nexport default function addYears(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addMonths(dirtyDate, amount * 12);\n}","import defaultLocale from \"../locale/en-US/index.js\";\nvar defaultFormat = ['years', 'months', 'weeks', 'days', 'hours', 'minutes', 'seconds'];\n/**\n * @name formatDuration\n * @category Common Helpers\n * @summary Formats a duration in human-readable format\n *\n * @description\n * Return human-readable duration string i.e. \"9 months 2 days\"\n *\n * @param {Duration} duration - the duration to format\n * @param {Object} [options] - an object with options.\n\n * @param {string[]} [options.format=['years', 'months', 'weeks', 'days', 'hours', 'minutes', 'seconds']] - the array of units to format\n * @param {boolean} [options.zero=false] - should be zeros be included in the output?\n * @param {string} [options.delimiter=' '] - delimiter string\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @returns {string} the formatted date string\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Format full duration\n * formatDuration({\n *   years: 2,\n *   months: 9,\n *   weeks: 1,\n *   days: 7,\n *   hours: 5,\n *   minutes: 9,\n *   seconds: 30\n * })\n * //=> '2 years 9 months 1 week 7 days 5 hours 9 minutes 30 seconds\n *\n * @example\n * // Format partial duration\n * formatDuration({ months: 9, days: 2 })\n * //=> '9 months 2 days'\n *\n * @example\n * // Customize the format\n * formatDuration(\n *   {\n *     years: 2,\n *     months: 9,\n *     weeks: 1,\n *     days: 7,\n *     hours: 5,\n *     minutes: 9,\n *     seconds: 30\n *   },\n *   { format: ['months', 'weeks'] }\n * ) === '9 months 1 week'\n *\n * @example\n * // Customize the zeros presence\n * formatDuration({ years: 0, months: 9 })\n * //=> '9 months'\n * formatDuration({ years: 0, months: 9 }, { zero: true })\n * //=> '0 years 9 months'\n *\n * @example\n * // Customize the delimiter\n * formatDuration({ years: 2, months: 9, weeks: 3 }, { delimiter: ', ' })\n * //=> '2 years, 9 months, 3 weeks'\n */\n\nexport default function formatDuration(duration, options) {\n  if (arguments.length < 1) {\n    throw new TypeError(\"1 argument required, but only \".concat(arguments.length, \" present\"));\n  }\n\n  var format = (options === null || options === void 0 ? void 0 : options.format) || defaultFormat;\n  var locale = (options === null || options === void 0 ? void 0 : options.locale) || defaultLocale;\n  var zero = (options === null || options === void 0 ? void 0 : options.zero) || false;\n  var delimiter = (options === null || options === void 0 ? void 0 : options.delimiter) || ' ';\n  var result = format.reduce(function (acc, unit) {\n    var token = \"x\".concat(unit.replace(/(^.)/, function (m) {\n      return m.toUpperCase();\n    }));\n    var addChunk = typeof duration[unit] === 'number' && (zero || duration[unit]);\n    return addChunk ? acc.concat(locale.formatDistance(token, duration[unit])) : acc;\n  }, []).join(delimiter);\n  return result;\n}","import { Component, forwardRef, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { Identity } from '@placeos/common';\nimport { formatDuration } from 'date-fns';\nimport * as dayjs from 'dayjs';\n\n\n\n@Component({\n    selector: 'a-duration-field',\n    template: `\n        <div class=\"duration-field\" [attr.disabled]=\"disabled\">\n            <mat-form-field appearance=\"outline\">\n                <mat-select\n                    #select\n                    [value]=\"duration\"\n                    [disabled]=\"disabled\"\n                    [placeholder]=\"duration + ' minutes'\"\n                    (valueChange)=\"setValue($event)\"\n                >\n                    <mat-option *ngFor=\"let option of duration_options\" [value]=\"option.id\">\n                        {{ option.name }}\n                    </mat-option>\n                </mat-select>\n                <mat-error><ng-content></ng-content></mat-error>\n            </mat-form-field>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                width: 100%;\n            }\n\n            mat-form-field {\n                width: 100%;\n            }\n        `,\n    ],\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: forwardRef(() => DurationFieldComponent),\n            multi: true,\n        },\n    ],\n})\nexport class DurationFieldComponent implements OnInit, OnChanges, ControlValueAccessor {\n    /** Maximum duration option available */\n    @Input() public max = 240;\n    /** Minimum duration option available */\n    @Input() public min = 30;\n    /** Step value between options */\n    @Input() public step = 15;\n    /** Reference time for displaying next to durations */\n    @Input() public time: number;\n    /** Whether form field is disabled */\n    @Input() public disabled: boolean;\n    /** Special case prepopulation i.e. out of step options */\n    @Input() public specialPreprops: Array<number> = [];\n\n    public duration = 60;\n    /** List of available duration options */\n    public duration_options: Identity[];\n\n    /** Form control on change handler */\n    private _onChange: (_: number) => void;\n    /** Form control on touch handler */\n    private _onTouch: (_: number) => void;\n\n    public ngOnInit(): void {\n        this.duration_options = this.generateDurationOptions(this.max, this.min, this.step);\n    }\n\n    public ngOnChanges(changes: SimpleChanges): void {\n        /* istanbul ignore else */\n        if (changes.max || changes.min || changes.step || changes.time) {\n            this.duration_options = this.generateDurationOptions(this.max, this.min, this.step);\n        }\n    }\n\n    /**\n     * Update the form field value\n     * @param new_value New value to set on the form field\n     */\n    public setValue(new_value: number): void {\n        this.duration = new_value;\n        /* istanbul ignore else */\n        if (this._onChange) {\n            this._onChange(+new_value);\n        }\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Update local value when form control value is changed\n     * @param value The new value for the component\n     */\n    public writeValue(value: number) {\n        this.duration = value;\n    }\n\n    public setDisabledState(disabled: boolean) {\n        this.disabled = disabled;\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Registers a callback function that is called when the control's value changes in the UI.\n     * @param fn The callback function to register\n     */\n    public registerOnChange(fn: (_: number) => void): void {\n        this._onChange = fn;\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Registers a callback function is called by the forms API on initialization to update the form model on blur.\n     * @param fn The callback function to register\n     */\n    public registerOnTouched(fn: (_: number) => void): void {\n        this._onTouch = fn;\n    }\n\n    private generateDurationOptions(max: number, min: number, step: number): Identity[] {\n        const blocks: Identity[] = [];\n        let time = min;\n        const date = this.time ? dayjs(this.time) : null;\n\n        // Add special case for 10min duration/prepropulation\n        for (const option of this.specialPreprops) {\n            blocks.push({\n                id: option,\n                name: date\n                    ? `${date.add(option, 'm').format('h:mm A')} (${formatDuration({\n                          hours: Math.floor(option / 60),\n                          minutes: option % 60,\n                      })})`\n                    : `${formatDuration({ hours: Math.floor(option / 60), minutes: option % 60 })}`,\n            });\n        }\n\n        while (time <= max) {\n            blocks.push({\n                id: time,\n                name: date\n                    ? `${date.add(time, 'm').format('h:mm A')} (${formatDuration({\n                          hours: Math.floor(time / 60),\n                          minutes: time % 60,\n                      })})`\n                    : `${formatDuration({ hours: Math.floor(time / 60), minutes: time % 60 })}`,\n            });\n            time += step;\n        }\n        return blocks;\n    }\n}\n","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name startOfMinute\n * @category Minute Helpers\n * @summary Return the start of a minute for the given date.\n *\n * @description\n * Return the start of a minute for the given date.\n * The result will be in the local timezone.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the start of a minute\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The start of a minute for 1 December 2014 22:15:45.400:\n * const result = startOfMinute(new Date(2014, 11, 1, 22, 15, 45, 400))\n * //=> Mon Dec 01 2014 22:15:00\n */\n\nexport default function startOfMinute(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  date.setSeconds(0, 0);\n  return date;\n}","import {\n    Component,\n    forwardRef,\n    Input,\n    OnChanges,\n    OnInit,\n    SimpleChanges,\n    ViewChild\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { MatSelect } from '@angular/material/select';\nimport { BaseClass, Identity, timeFormatString } from '@placeos/common';\nimport {\n    addMinutes,\n    endOfDay,\n    format,\n    isAfter,\n    isSameDay,\n    roundToNearestMinutes,\n    set,\n    startOfDay,\n    startOfMinute\n} from 'date-fns';\n\n@Component({\n    selector: 'a-time-field',\n    template: `\n        <mat-form-field\n            appearance=\"outline\"\n            [style.display]=\"show_select ? 'none' : ''\"\n            (keydown.enter)=\"showSelect()\"\n        >\n            <input\n                matInput\n                type=\"time\"\n                [disabled]=\"disabled\"\n                [ngModel]=\"time\"\n                (ngModelChange)=\"setValue($event)\"\n            />\n            <button mat-icon-button matSuffix class=\"relative top-1 -right-1\" (click)=\"showSelect()\">\n                <app-icon class=\"text-2xl text-black text-opacity-50\">\n                    arrow_drop_down\n                </app-icon>\n            </button>\n            <mat-error><ng-content></ng-content></mat-error>\n        </mat-form-field>\n        <mat-form-field appearance=\"outline\" *ngIf=\"show_select\">\n            <mat-select\n                #select\n                [value]=\"time\"\n                [disabled]=\"disabled\"\n                (valueChange)=\"setValue($event)\"\n            >\n                <mat-option\n                    *ngFor=\"let option of time_options\"\n                    [value]=\"option.id\"\n                >\n                    {{ option.name }}\n                </mat-option>\n            </mat-select>\n        </mat-form-field>\n    `,\n    styles: [\n        `\n            mat-form-field {\n                width: 100%;\n            }\n        `,\n    ],\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: forwardRef(() => TimeFieldComponent),\n            multi: true,\n        },\n    ],\n})\nexport class TimeFieldComponent\n    extends BaseClass\n    implements OnInit, OnChanges, ControlValueAccessor {\n    /** Time step between each allowed time option */\n    @Input() public step = 15;\n    /** Whether form field is disabled */\n    @Input() public disabled: boolean;\n    /** Whether past times are allowed */\n    @Input() public no_past_times = true;\n    /** String representing the currently set time */\n    public date: number = new Date().valueOf();\n    /** String representing the currently set time */\n    public time: string = format(new Date(), 'HH:mm');\n    /** Available time blocks for the selected date */\n    public _time_options: Identity[];\n    /** Whether select field should be shown */\n    public show_select: boolean;\n    /** Form control on change handler */\n    private _onChange: (_: number) => void;\n    /** Form control on touch handler */\n    private _onTouch: (_: number) => void;\n\n    /** Select field for selecting the time */\n    @ViewChild('select') private select_field: MatSelect;\n\n    public ngOnInit(): void {\n        this.show_select = true;\n        this._time_options = this.generateAvailableTimes(\n            this.date,\n            !this.no_past_times,\n            this.step\n        );\n        this.timeout('hide', () => (this.show_select = false));\n    }\n\n    public ngOnChanges(changes: SimpleChanges): void {\n        if (changes.no_past_times || changes.step) {\n            this._time_options = this.generateAvailableTimes(\n                this.date,\n                !this.no_past_times,\n                this.step\n            );\n        }\n    }\n\n    /** Available time blocks for the selected date */\n    public get time_options() {\n        const time = (this.time || '00:00').split(':');\n        const date = set(this.date, { hours: +time[0], minutes: +time[1] });\n        if (\n            date.getMinutes() % 15 !== 0 &&\n            !this._time_options.find(\n                (time) => time.id === format(date, 'HH:mm')\n            )\n        ) {\n            this._time_options.push({\n                name: `${format(date, timeFormatString())}`,\n                id: format(date, 'HH:mm'),\n            });\n            this._time_options.sort((a, b) =>\n                `${a.id}`.localeCompare(`${b.id}`)\n            );\n        }\n        return this._time_options;\n    }\n\n    /**\n     * Update the form field value\n     * @param new_value New value to set on the form field\n     */\n    public setValue(new_value: string): void {\n        this.time = new_value;\n        if (this._onChange) {\n            const time = (this.time || '00:00').split(':');\n            const date = startOfMinute(\n                set(this.date, { hours: +time[0], minutes: +time[1] })\n            );\n            this._onChange(date.valueOf());\n        }\n    }\n\n    /**\n     * Update local value when form control value is changed\n     * @param value The new value for the component\n     */\n    public writeValue(value: number) {\n        this.date = value || this.date;\n        let date = startOfMinute(this.date);\n        date = roundToNearestMinutes(date, { nearestTo: 5 });\n        this.time = format(date, 'HH:mm');\n        this._time_options = this.generateAvailableTimes(\n            this.date,\n            !this.no_past_times,\n            this.step\n        );\n    }\n\n    public setDisabledState(disabled: boolean) {\n        this.disabled = disabled;\n    }\n\n    /**\n     * Registers a callback function that is called when the control's value changes in the UI.\n     * @param fn The callback function to register\n     */\n    public registerOnChange(fn: (_: number) => void): void {\n        this._onChange = fn;\n    }\n\n    /**\n     * Registers a callback function is called by the forms API on initialization to update the form model on blur.\n     * @param fn The callback function to register\n     */\n    public registerOnTouched(fn: (_: number) => void): void {\n        this._onTouch = fn;\n    }\n\n    /**\n     * Show select field for time options\n     */\n    public showSelect() {\n        this.show_select = true;\n        this.timeout('on_shown', () => {\n            if (this.select_field) {\n                this.select_field.focus();\n                this.select_field.open();\n                this.subscription(\n                    'listen_close',\n                    this.select_field.openedChange.subscribe((state) => {\n                        if (!state) {\n                            this.show_select = false;\n                        }\n                    })\n                );\n            }\n        });\n    }\n\n    /**\n     * Generate a list of time options for the given date\n     * @param datestamp Date to generate options for\n     * @param show_past Whether past times should be options\n     */\n    private generateAvailableTimes(\n        datestamp: number,\n        show_past: boolean,\n        step: number = 15\n    ): Identity[] {\n        const now = new Date();\n        let date = new Date(datestamp);\n        const blocks = [];\n        if (show_past || (!isSameDay(date, now) && isAfter(date, now))) {\n            date = startOfDay(date);\n        } else if (isAfter(date, now)) {\n            date = now;\n        }\n        date = roundToNearestMinutes(date, { nearestTo: step });\n        const end = endOfDay(date);\n        // Add options for the rest of the day\n        while (isAfter(end, date)) {\n            blocks.push({\n                name: `${format(date, timeFormatString())}`,\n                id: format(date, 'HH:mm'),\n            });\n            date = addMinutes(date, step);\n        }\n        return blocks;\n    }\n}\n","/* eslint-disable @typescript-eslint/member-ordering */\nimport {\n    Component,\n    OnInit,\n    forwardRef,\n    Input,\n    ViewChild,\n    ElementRef,\n} from '@angular/core';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\nimport { Subject, Observable, of, forkJoin } from 'rxjs';\nimport {\n    switchMap,\n    debounceTime,\n    distinctUntilChanged,\n    map,\n    catchError,\n} from 'rxjs/operators';\n\nimport { BaseClass, flatten } from '@placeos/common';\nimport { searchGuests, searchStaff, User } from '@placeos/users';\n\n@Component({\n    selector: 'a-user-search-field',\n    template: `\n        <div class=\"user-search-field text-black\" form-field>\n            <mat-form-field overlay appearance=\"outline\">\n                <input\n                    #input\n                    matInput\n                    keyboard\n                    name=\"user-search\"\n                    [(ngModel)]=\"search_str\"\n                    (ngModelChange)=\"search$.next($event || '')\"\n                    [disabled]=\"disabled\"\n                    [placeholder]=\"placeholder || 'Search for user...'\"\n                    [matAutocomplete]=\"auto\"\n                    (keyup.enter)=\"\n                        validate && validate(search_str)\n                            ? setValue(search_str)\n                            : ''\n                    \"\n                    (blur)=\"resetSearchString()\"\n                    (focus)=\"cancelReset()\"\n                />\n                <app-icon matPrefix class=\"text-2xl relative\">search</app-icon>\n                <mat-spinner\n                    *ngIf=\"loading\"\n                    matSuffix\n                    diameter=\"16\"\n                ></mat-spinner>\n            </mat-form-field>\n            <mat-autocomplete\n                #auto=\"matAutocomplete\"\n                (optionSelected)=\"setValue($event.option.value)\"\n            >\n                <mat-option\n                    *ngFor=\"let option of user_list\"\n                    (click)=\"setValue(option); blurInput()\"\n                >\n                    <div class=\"leading-tight\">{{ option.name }}</div>\n                    <div class=\"text-xs text-black opacity-60\">\n                        {{ option.email }}\n                    </div>\n                </mat-option>\n                <mat-option\n                    *ngIf=\"search_str && validate && validate(search_str)\"\n                    class=\"relative pointer-events-none\"\n                >\n                    <div\n                        class=\"absolute inset-0 px-4 pointer-events-auto\"\n                        (mousedown)=\"\n                            $event.stopPropagation(); $event.preventDefault()\n                        \"\n                        (touchstart)=\"\n                            $event.stopPropagation(); $event.preventDefault()\n                        \"\n                        (click)=\"\n                            setValue(search_str);\n                            $event.stopPropagation();\n                            $event.preventDefault()\n                        \"\n                    >\n                        <div class=\"pointer-events-none\">\n                            Add external attendee \"{{ search_str }}\"\n                        </div>\n                    </div>\n                </mat-option>\n                <mat-option\n                    *ngIf=\"!user_list?.length && (search_str || error)\"\n                    [disabled]=\"!empty_fn\"\n                    (click)=\"empty_fn()\"\n                >\n                    {{ search_str ? 'No users found.' : '' }} {{ error }}\n                </mat-option>\n            </mat-autocomplete>\n        </div>\n    `,\n    styles: [\n        `\n            :host,\n            mat-form-field {\n                width: 100%;\n            }\n\n            app-icon {\n                top: 0.15em;\n                left: -0.15em;\n            }\n        `,\n    ],\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: forwardRef(() => UserSearchFieldComponent),\n            multi: true,\n        },\n    ],\n})\nexport class UserSearchFieldComponent\n    extends BaseClass\n    implements OnInit, ControlValueAccessor {\n    /** Whether form field is disabled */\n    @Input() public disabled: boolean;\n    /** Placeholder text to display */\n    @Input() public placeholder: string;\n    /** Limit available options to these */\n    @Input() public options: User[];\n    /** Whether guests should also show when searching for users */\n    @Input() public guests: boolean;\n    /** Message to display when no user matches have been found */\n    @Input() public error = '';\n    /** Function to validate the search string */\n    @Input() public validate: (s: string) => boolean;\n    /** Function to call when empty list option is clicked */\n    @Input() public empty_fn: () => void;\n    /** Function for filtering the results of the user list */\n    @Input() public filter: (_: any, s?: string) => boolean;\n\n    @Input() public query_fn: (_: string) => Observable<User[]> = (q) =>\n        searchStaff(q);\n    /** Currently selected user */\n    public active_user: User;\n    /** User list to display */\n    public user_list: User[];\n    /** Whether user list is loading */\n    public loading: boolean;\n    /** Current display value of the search input field  */\n    public search_str: string;\n    /** Subject holding the value of the search */\n    public search$ = new Subject<string>();\n    /** List of users from an API search */\n    public search_results$: Observable<User[]> = this.search$.pipe(\n        debounceTime(400),\n        distinctUntilChanged(),\n        switchMap((query) => {\n            this.loading = true;\n            return this.options && this.options.length > 0\n                ? of(this.options)\n                : query.length >= 3\n                ? !this.guests\n                    ? this.query_fn(query)\n                    : forkJoin([searchStaff(query), searchGuests(query)])\n                : of([]);\n        }),\n        catchError((_) => of([])),\n        map((list: User[]) => {\n            this.loading = false;\n            list = flatten(list);\n            const search = (this.search_str || '').toLowerCase();\n            return list.filter(\n                (item) => !this.filter || this.filter(item, search)\n            );\n        })\n    );\n\n    /** Form control on change handler */\n    private _onChange: (_: User) => void;\n    /** Form control on touch handler */\n    private _onTouch: (_: User) => void;\n\n    @ViewChild('input', { read: ElementRef })\n    private _input_el: ElementRef<HTMLInputElement>;\n\n    public cancelReset = () => this.clearTimeout('reset');\n\n    public blurInput = () => {\n        this.timeout('blur', () => this._input_el?.nativeElement?.blur());\n    };\n\n    public ngOnInit(): void {\n        // Process API results\n        this.subscription(\n            'search_results',\n            this.search_results$.subscribe((list) => (this.user_list = list))\n        );\n    }\n\n    /**\n     * Reset the search string back to the name of the active user\n     */\n    public resetSearchString() {\n        this.timeout(\n            'reset',\n            () => (this.search_str = this.active_user?.name || ''),\n            100\n        );\n    }\n\n    /**\n     * Update the form field value\n     * @param new_value New value to set on the form field\n     */\n    public setValue(new_value: User | string, email?: string): void {\n        if (\n            typeof new_value === 'string' &&\n            (new_value as any) === this.search_str\n        ) {\n            new_value = new User({\n                name: (this.search_str || email || '').split('@')[0],\n                email: this.search_str || email || '',\n            });\n        }\n        if (!(new_value instanceof User)) return;\n        this.active_user = new_value;\n        if (this._onChange) {\n            this._onChange(new_value);\n        }\n        this.resetSearchString();\n    }\n\n    /**\n     * Update local value when form control value is changed\n     * @param value The new value for the component\n     */\n    public writeValue(value: User) {\n        this.active_user = value;\n        this.resetSearchString();\n    }\n\n    public setDisabledState(disabled: boolean) {\n        this.disabled = disabled;\n    }\n\n    /**\n     * Registers a callback function that is called when the control's value changes in the UI.\n     * @param fn The callback function to register\n     */\n    public registerOnChange(fn: (_: User) => void): void {\n        this._onChange = fn;\n    }\n\n    /**\n     * Registers a callback function is called by the forms API on initialization to update the form model on blur.\n     * @param fn The callback function to register\n     */\n    public registerOnTouched(fn: (_: User) => void): void {\n        this._onTouch = fn;\n    }\n}\n","import { Component, OnInit, Output, EventEmitter, Inject } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { BaseClass, DialogEvent } from '@placeos/common';\n\nimport { User } from './user.class';\nimport { generateUserForm } from './user.utilities';\n\n@Component({\n    selector: 'new-user-modal',\n    template: `\n        <header>\n            <div class=\"heading\" mat-dialog-title>\n                {{ user?.id ? 'Edit' : 'Add' }} External Attendee\n            </div>\n            <div class=\"flex-1\"></div>\n            <button mat-icon-button mat-dialog-close>\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <main\n            class=\"flex flex-col items-center w-full p-2\"\n            *ngIf=\"!loading; else load_state\"\n        >\n            <user-form [form]=\"form\"></user-form>\n        </main>\n        <footer\n            class=\"flex items-center justify-center w-full p-2 border-t border-gray-300 space-x-2\"\n            *ngIf=\"!loading\"\n        >\n            <button mat-button class=\"inverse\" mat-dialog-close>Cancel</button>\n            <button mat-button (click)=\"saveChanges()\">Save</button>\n        </footer>\n        <ng-template #load_state>\n            <main class=\"flex flex-col items-center w-full p-2 space-y-2\">\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p>Saving attendee...</p>\n            </main>\n        </ng-template>\n    `,\n    styles: [\n        `\n            main {\n                min-height: 20em !important;\n                width: 100%;\n            }\n\n            footer button {\n                min-width: 8em;\n            }\n        `,\n    ],\n})\nexport class NewUserModalComponent extends BaseClass implements OnInit {\n    /** Emitter for user action on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** Form fields for the new user */\n    public form?: FormGroup;\n    /** New user data store */\n    public user?: User;\n    /** Whether user details are being saved */\n    public loading = false;\n\n    constructor(@Inject(MAT_DIALOG_DATA) private _data: any) {\n        super();\n    }\n\n    public ngOnInit(): void {\n        this.user = this._data.user || {};\n        this.form = generateUserForm(this.user);\n    }\n\n    public saveChanges() {\n        if (!this.form) return;\n        this.form.markAllAsTouched();\n        if (this.form.valid) {\n            const new_user = new User({\n                ...this.form.value,\n                type: 'external',\n            });\n            this.event.emit({ reason: 'done', metadata: new_user });\n        }\n    }\n}\n","import { Component, Input } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\n\n@Component({\n    selector: 'user-form',\n    template: `\n        <form user-form *ngIf=\"form\" [formGroup]=\"form\">\n            <div class=\"field\" *ngIf=\"form.controls.name\">\n                <label for=\"name\" [class.error]=\"hasError('name')\">\n                    Name<span>*</span>:\n                </label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        name=\"name\"\n                        placeholder=\"Name\"\n                        formControlName=\"name\"\n                    />\n                    <mat-error>Name is required</mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"field\" *ngIf=\"form.controls.email\">\n                <label for=\"email\" [class.error]=\"hasError('email')\">\n                    Email<span>*</span>:\n                </label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        name=\"email\"\n                        placeholder=\"Email Address\"\n                        formControlName=\"email\"\n                    />\n                    <mat-error>A valid email is required</mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"field\" *ngIf=\"form.controls.organisation\">\n                <label for=\"org\" [class.error]=\"hasError('organisation')\">\n                    Organisation<span>*</span>:\n                </label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        name=\"org\"\n                        placeholder=\"Organisation\"\n                        formControlName=\"organisation\"\n                    />\n                    <mat-error>Organisation is required</mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"field\" *ngIf=\"form.controls.phone\">\n                <label for=\"phone\" [class.error]=\"hasError('phone')\">\n                    Phone:\n                </label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        name=\"phone\"\n                        type=\"tel\"\n                        placeholder=\"Phone\"\n                        formControlName=\"phone\"\n                    />\n                    <mat-error>Phone format is invalid</mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"field\" *ngIf=\"form.controls.assistance_required\">\n                <mat-checkbox\n                    name=\"assistance-required\"\n                    color=\"primary\"\n                    formControlName=\"assistance_required\"\n                >\n                    Assistance required\n                </mat-checkbox>\n            </div>\n            <div class=\"field\" *ngIf=\"form.controls.visit_expected\">\n                <mat-checkbox\n                    name=\"visit-expected\"\n                    color=\"primary\"\n                    formControlName=\"visit_expected\"\n                >\n                    Visit expected\n                </mat-checkbox>\n            </div>\n        </form>\n    `,\n    styles: [\n        `\n            .field {\n                display: flex;\n                flex-wrap: wrap;\n            }\n\n            mat-form-field {\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class UserFormComponent {\n    /** Group of form fields used for creating the system */\n    @Input() public form?: FormGroup;\n\n    public hasError(name: string) {\n        const { invalid, touched } = this.form?.controls[name] || {};\n        return invalid && touched;\n    }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { ComponentsModule } from '@placeos/components';\n\nimport { NewUserModalComponent } from './new-user-modal.component';\nimport { UserFormComponent } from './user-form.component';\n\n@NgModule({\n    declarations: [NewUserModalComponent, UserFormComponent],\n    imports: [\n        CommonModule,\n        FormsModule,\n        ReactiveFormsModule,\n        MatDialogModule,\n        ComponentsModule,\n        MatCheckboxModule,\n    ],\n    exports: [NewUserModalComponent],\n})\nexport class SharedUsersModule {}\n","import { HashMap } from '@placeos/common';\nimport { getUnixTime } from 'date-fns';\n\nexport class MapLocation {\n    /** Source that the location was generated */\n    public type: 'desk' | 'wireless' | 'meeting' | 'other';\n    /** Details of the location */\n    public position: string | { x: number, y: number };\n    /** Accuracy of the location data */\n    public variance: number;\n    /** Unix epoch in seconds that the data was last updated */\n    public last_seen: number;\n    /** ID of the level associated with the location */\n    public level: string;\n    /** ID of the building associated with the location */\n    public building: string;\n    /** Whether user is currently at the location if fixed */\n    public at_location: boolean;\n    /**  */\n    public coordinates_from:\n        | 'top-left'\n        | 'top-right'\n        | 'bottom-left'\n        | 'bottom-right';\n\n    constructor(_data: HashMap = {}) {\n        this.type = _data.type || _data.location || 'other';\n        this.position = _data.position ||\n            _data.map_id || _data.asset_id || {\n                x: _data.x / _data.map_width || 0,\n                y: _data.y / _data.map_height || 0,\n            };\n        this.variance = _data.variance || 0;\n        this.last_seen = _data.last_seen || getUnixTime(new Date());\n        this.level = _data.level;\n        this.building = _data.building;\n        this.at_location = !!_data.at_location;\n        this.coordinates_from = _data.coordinates_from || 'top-left';\n    }\n}\n","import { del, get, patch } from '@placeos/ts-client';\nimport { map } from 'rxjs/operators';\n\nimport { CalendarEvent } from '../../../events/src/lib/event.class';\nimport { toQueryString } from 'libs/common/src/lib/api';\nimport { GuestUser } from './user.class';\nimport { Observable } from 'rxjs';\n\nconst GUEST_ENDPOINT = '/api/staff/v1/guests';\n\nexport interface GuestsQueryParams {\n    /** Comma seperated list of zone ids to check availability */\n    zone_ids?: string;\n    /** Comma seperated list of system(space) ids to check availability */\n    system_ids?: string;\n    /** Epoch in seconds for the start of the availability period */\n    period_start: number;\n    /** Epoch in seconds for the end of the availability period */\n    period_end: number;\n}\n\n/**\n * Search guests\n * @param q Search string for filtering guests\n */\nexport function searchGuests(q: string): Observable<GuestUser[]> {\n    const query = toQueryString({ q });\n    return get(`${GUEST_ENDPOINT}${q ? '?' + query : ''}`).pipe(\n        map((list) => list.map((item) => new GuestUser(item)))\n    );\n}\n\n/**\n * List guests\n * @param q Parameters to pass to the API request\n */\nexport function queryGuests(q: GuestsQueryParams): Observable<GuestUser[]> {\n    const query = toQueryString({ ...q });\n    return get(`${GUEST_ENDPOINT}${query ? '?' + query : ''}`).pipe(\n        map((list) => list.map((item) => new GuestUser(item)))\n    );\n}\n\n/**\n * Get guest details\n * @param id ID of the guest\n */\nexport function showGuest(id: string) {\n    return get(`${GUEST_ENDPOINT}/${encodeURIComponent(id)}`).pipe(\n        map((item) => new GuestUser(item))\n    );\n}\n\n/**\n * Update guest metadata\n * @param id ID of the guest\n * @param data New metadata state\n */\nexport function updateGuest(id: string, data: Partial<GuestUser>) {\n    return patch(`${GUEST_ENDPOINT}/${encodeURIComponent(id)}`, data).pipe(\n        map((item) => new GuestUser(item))\n    );\n}\n\n/**\n * Remove a guest\n * @param id ID of the guest to remove\n */\nexport function removeGuest(id: string) {\n    return del(`${GUEST_ENDPOINT}/${encodeURIComponent(id)}`, {\n        response_type: 'void',\n    });\n}\n\n/**\n * List upcoming meetings for a guest\n * @param id ID of the guest\n */\nexport function listGuestMeetings(id: string) {\n    return get(`${GUEST_ENDPOINT}/${encodeURIComponent(id)}/meetings`).pipe(\n        map((list) => list.map((item) => new CalendarEvent(item)))\n    );\n}\n","import { HashMap } from '@placeos/common';\nimport { get } from '@placeos/ts-client';\nimport { toQueryString } from 'libs/common/src/lib/api';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { StaffUser } from './user.class';\n\nconst STAFF_ENDPOINT = '/api/staff/v1/people';\n\n/**\n * Search staff members\n * @param q Search string for filtering staff\n */\nexport function searchStaff(q: string): Observable<StaffUser[]> {\n    const query = toQueryString({ q });\n    return get(`${STAFF_ENDPOINT}${q ? '?' + query : ''}`).pipe(\n        map((list) => list.map((item: HashMap) => new StaffUser(item)))\n    );\n}\n\n/**\n * Get user details\n * @param id User ID or email\n */\nexport function showStaff(id: string) {\n    return get(`${STAFF_ENDPOINT}/${encodeURIComponent(id)}`).pipe(\n        map((item) => new StaffUser(item))\n    );\n}\n\n/**\n * Get user with their location details\n * @param email User email\n */\nexport function locateStaff(email: string) {\n    return get(`${STAFF_ENDPOINT}/${email}`).pipe(\n        map((item) => new StaffUser(item))\n    );\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ParallelHasher = /** @class */ (function () {\n    function ParallelHasher(workerUri, workerOptions) {\n        this._queue = [];\n        this._ready = true;\n        var self = this;\n        if (Worker) {\n            self._hashWorker = new Worker(workerUri, workerOptions);\n            self._hashWorker.onmessage = self._recievedMessage.bind(self);\n            self._hashWorker.onerror = function (err) {\n                self._ready = false;\n                console.error('Hash worker failure', err);\n            };\n        }\n        else {\n            self._ready = false;\n            console.error('Web Workers are not supported in this browser');\n        }\n    }\n    ParallelHasher.prototype.hash = function (blob) {\n        var self = this;\n        var promise;\n        promise = new Promise(function (resolve, reject) {\n            self._queue.push({\n                blob: blob,\n                resolve: resolve,\n                reject: reject,\n            });\n            self._processNext();\n        });\n        return promise;\n    };\n    ParallelHasher.prototype.terminate = function () {\n        this._ready = false;\n        this._hashWorker.terminate();\n    };\n    // Processes the next item in the queue\n    ParallelHasher.prototype._processNext = function () {\n        if (this._ready && !this._processing && this._queue.length > 0) {\n            this._processing = this._queue.pop();\n            this._hashWorker.postMessage(this._processing.blob);\n        }\n    };\n    // Hash result is returned from the worker\n    ParallelHasher.prototype._recievedMessage = function (evt) {\n        var data = evt.data;\n        if (data.success) {\n            this._processing.resolve(data.result);\n        }\n        else {\n            this._processing.reject(data.result);\n        }\n        this._processing = null;\n        this._processNext();\n    };\n    return ParallelHasher;\n}());\nexports.ParallelHasher = ParallelHasher;\n"],"sourceRoot":"webpack:///","file":"default-libs_form-fields_src_index_ts.js"}