{"version":3,"file":"apps_concierge_src_app_points_points_module_ts.js","mappings":"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","names":["startOfHour","dirtyDate","requiredArgs","arguments","date","toDate","setMinutes","i0","option_r2","display_name","name","$event","_r5","rule_r4","$implicit","second","first","_c1","_r3","type","PointsAssetModalComponent_main_3_div_34_a_time_field_11_Template","rate","ctx_r5","renderPercent","PointsAssetModalComponent_main_3_mat_spinner_18_Template","PointsAssetModalComponent_main_3_mat_option_21_Template","PointsAssetModalComponent_main_3_mat_option_23_Template","PointsAssetModalComponent_main_3_div_34_Template","_r1","newRule","form","get","value","auto_r7","loading","asset_options","tmp_7_0","length","renderPrice","tmp_12_0","_c0","PointsAssetModalComponent","AsyncHandler","constructor","_spaces","_desks","_data","super","this","event","EventEmitter","FormGroup","id","FormControl","asset","asset_id","accept_points","discount_cap","unit_price","custom_rates","combineLatest","valueChanges","list","desks","pipe","map","spaces","search","toLowerCase","filter","_","includes","tap","shareReplay","setFilters","zones","subscription","subscribe","v","field","enable","disable","toFixed","setValue","Date","addHours","save","emit","reason","metadata","static","t","i1","i2","MAT_DIALOG_DATA","core","VBU","selectors","outputs","features","decls","vars","consts","template","rf","ctx","PointsAssetModalComponent_main_3_Template","PointsStateService","_dialog","_assets","BehaviorSubject","assets","asObservable","next","JSON","parse","localStorage","getItem","setItem","stringify","newAsset","_this","_asyncToGenerator","ref","open","data","details","Promise","race","componentInstance","toPromise","afterClosed","close","getValue","randomInt","removeAsset","jDH","factory","Éµfac","providedIn","data_r1","data_r2","ctx_r2","code","data_r4","data_r5","row_r7","_r6","row","edit","remove","PointsAssetsComponent","_org","currency_code","_state","asset_list","d","PointsAssetsComponent_ng_template_1_Template","PointsAssetsComponent_ng_template_3_Template","PointsAssetsComponent_ng_template_5_Template","PointsAssetsComponent_ng_template_7_Template","PointsAssetsComponent_ng_template_9_Template","_c6","type_template_r8","_c2","price_template_r9","_c3","bool_template_r10","_c4","discount_template_r11","_c5","action_template_r12","PointsOverviewComponent","points","desk_checkin","room_checkin","booking_cancel","wellness_card","ngOnInit","loadPoints","storePoints","PointsTopbarComponent","initialised","ngContentSelectors","ctx_r1","PointsComponent","_router","events","url_parts","url","split","page","parts","PointsComponent_button_3_Template","ROUTES","path","component","NewPointsComponent","NewPointsComponent_button_5_Template","children","redirectTo","pathMatch","PointsModule","$C","G2t","CommonModule","FormsModule","ReactiveFormsModule","UIModule","MatTabsModule","MatChipsModule","RouterModule","forChild"],"ignoreList":[],"sourceRoot":"webpack:///","sources":["./node_modules/date-fns/esm/startOfHour/index.js","./apps/concierge/src/app/points/asset-modal.component.ts","./apps/concierge/src/app/points/points-state.service.ts","./apps/concierge/src/app/points/points-assets.component.ts","./apps/concierge/src/app/points/points-overview.component.ts","./apps/concierge/src/app/points/points-topbar.component.ts","./apps/concierge/src/app/points/points.component.ts","./apps/concierge/src/app/points/new-points.component.ts","./apps/concierge/src/app/points/points.module.ts"],"sourcesContent":["import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name startOfHour\n * @category Hour Helpers\n * @summary Return the start of an hour for the given date.\n *\n * @description\n * Return the start of an hour for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the start of an hour\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The start of an hour for 2 September 2014 11:55:00:\n * const result = startOfHour(new Date(2014, 8, 2, 11, 55))\n * //=> Tue Sep 02 2014 11:00:00\n */\nexport default function startOfHour(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  date.setMinutes(0, 0, 0);\n  return date;\n}","import { Component, EventEmitter, Inject, Output } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { AsyncHandler, DialogEvent } from '@placeos/common';\nimport { SpacesService } from '@placeos/spaces';\nimport { addHours, startOfHour } from 'date-fns';\nimport { combineLatest } from 'rxjs';\nimport { map, shareReplay, tap } from 'rxjs/operators';\nimport { DesksStateService } from '../desks/desks-state.service';\n\n@Component({\n    selector: 'points-asset-modal',\n    template: `\n        <header>\n            <h2 class=\"text-lg\">\n                {{ form?.value?.id ? 'Edit' : 'New' }} Points Asset\n            </h2>\n        </header>\n        <main\n            class=\"min-w-[24rem] overflow-hidden\"\n            *ngIf=\"form\"\n            [formGroup]=\"form\"\n        >\n            <section class=\"p-2\">\n                <div class=\"flex items-center\">\n                    <label class=\"w-24\">Asset Type</label>\n                    <mat-form-field\n                        appearance=\"outline\"\n                        class=\"flex-1 h-[3.25rem]\"\n                    >\n                        <mat-select\n                            formControlName=\"type\"\n                            placeholder=\"Select asset type\"\n                        >\n                            <mat-option value=\"space\">Space</mat-option>\n                            <mat-option value=\"desk\">Desk</mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                </div>\n                <div class=\"flex items-center\">\n                    <label class=\"w-24\">Asset</label>\n                    <mat-form-field\n                        appearance=\"outline\"\n                        class=\"flex-1 h-[3.25rem]\"\n                    >\n                        <app-icon\n                            matPrefix\n                            class=\"text-2xl\"\n                            [class.opacity-30]=\"!form.get('type').value\"\n                            >search</app-icon\n                        >\n                        <input\n                            matInput\n                            formControlName=\"name\"\n                            placeholder=\"Search for asset...\"\n                            [matAutocomplete]=\"auto\"\n                        />\n                        <mat-spinner\n                            *ngIf=\"loading\"\n                            matSuffix\n                            [diameter]=\"32\"\n                        ></mat-spinner>\n                    </mat-form-field>\n                    <mat-autocomplete #auto=\"matAutocomplete\">\n                        <mat-option\n                            *ngFor=\"let option of asset_options | async\"\n                            [value]=\"option?.display_name || option?.name\"\n                        >\n                            {{ option?.display_name || option?.name }}\n                        </mat-option>\n                        <mat-option\n                            [disabled]=\"true\"\n                            *ngIf=\"!(asset_options | async)?.length\"\n                        >\n                            No matching options\n                        </mat-option>\n                    </mat-autocomplete>\n                </div>\n            </section>\n            <section class=\"border-t border-base-200 p-2\">\n                <div class=\"flex items-center\">\n                    <label class=\"flex-1\">Standard hourly rate</label>\n                    <a-counter\n                        class=\"border border-base-200 rounded\"\n                        formControlName=\"unit_price\"\n                        [min]=\"500\"\n                        [max]=\"80000\"\n                        [step]=\"500\"\n                        [render_fn]=\"renderPrice\"\n                    ></a-counter>\n                </div>\n                <div class=\"\">\n                    <h2>Rate Rules</h2>\n                    <div>\n                        <div\n                            rule\n                            class=\"flex items-center\"\n                            *ngFor=\"\n                                let rule of form.get('custom_rates')?.value ||\n                                    []\n                            \"\n                        >\n                            <div\n                                class=\"flex items-center flex-1 w-1/2 space-x-2\"\n                            >\n                                <mat-form-field\n                                    appearance=\"outline\"\n                                    class=\"flex-2 h-[3.25rem] w-32\"\n                                >\n                                    <mat-select\n                                        [(ngModel)]=\"rule.type\"\n                                        [ngModelOptions]=\"{ standalone: true }\"\n                                    >\n                                        <mat-option value=\"before\">\n                                            Before\n                                        </mat-option>\n                                        <mat-option value=\"between\">\n                                            Between\n                                        </mat-option>\n                                        <mat-option value=\"after\">\n                                            After\n                                        </mat-option>\n                                    </mat-select>\n                                </mat-form-field>\n                                <a-time-field\n                                    class=\"flex-1 mt-2 w-40\"\n                                    [(ngModel)]=\"rule.first\"\n                                    [ngModelOptions]=\"{ standalone: true }\"\n                                ></a-time-field>\n                                <a-time-field\n                                    class=\"flex-1 mt-2 w-40\"\n                                    [(ngModel)]=\"rule.second\"\n                                    [from]=\"rule.first\"\n                                    [ngModelOptions]=\"{ standalone: true }\"\n                                    *ngIf=\"rule.type === 'between'\"\n                                ></a-time-field>\n                            </div>\n                            <span class=\"mx-2\">&#64;</span>\n                            <a-counter\n                                class=\"border border-base-200 rounded\"\n                                [(ngModel)]=\"rule.rate\"\n                                [ngModelOptions]=\"{ standalone: true }\"\n                                [min]=\"0\"\n                                [max]=\"300\"\n                                [step]=\"5\"\n                                [render_fn]=\"renderPercent\"\n                            ></a-counter>\n                        </div>\n                    </div>\n                    <button\n                        btn\n                        matRipple\n                        class=\"clear w-full\"\n                        (click)=\"newRule()\"\n                    >\n                        <div class=\"flex items-center justify-center w-full\">\n                            <app-icon class=\"text-lg\">add</app-icon>\n                            <span class=\"underline\">Add new rule</span>\n                        </div>\n                    </button>\n                </div>\n            </section>\n            <section class=\"border-t border-base-200 p-2\">\n                <div class=\"flex items-center\">\n                    <label>Accept Points?</label>\n                    <mat-checkbox\n                        formControlName=\"accept_points\"\n                    ></mat-checkbox>\n                </div>\n                <div class=\"flex items-center\">\n                    <label class=\"flex-1\">Discount Cap</label>\n                    <a-counter\n                        class=\"border border-base-200 rounded\"\n                        formControlName=\"discount_cap\"\n                        [min]=\"0\"\n                        [max]=\"100\"\n                        [step]=\"5\"\n                        [render_fn]=\"renderPercent\"\n                    ></a-counter>\n                </div>\n            </section>\n        </main>\n        <footer\n            class=\"flex items-center justify-end p-2 space-x-2 border-t border-base-200\"\n        >\n            <button btn matRipple mat-dialog-close class=\"inverse w-32\">\n                Cancel\n            </button>\n            <button\n                btn\n                matRipple\n                class=\"w-32\"\n                [disabled]=\"!form.value.name\"\n                (click)=\"save()\"\n            >\n                Save\n            </button>\n        </footer>\n    `,\n    styles: [\n        `\n            label {\n                width: auto;\n                min-width: 0;\n                margin: 0 1rem 0 0;\n            }\n        `,\n    ],\n})\nexport class PointsAssetModalComponent extends AsyncHandler {\n    @Output() public event = new EventEmitter<DialogEvent>();\n\n    public form = new FormGroup({\n        id: new FormControl(this._data.asset?.id || ''),\n        asset_id: new FormControl(this._data.asset?.asset_id || ''),\n        name: new FormControl(this._data.asset?.name || ''),\n        type: new FormControl(this._data.asset?.type || ''),\n        accept_points: new FormControl(\n            this._data.asset?.accept_points ?? false\n        ),\n        discount_cap: new FormControl(this._data.asset?.discount_cap || 50),\n        unit_price: new FormControl(this._data.asset?.unit_price || 1000),\n        custom_rates: new FormControl(this._data.asset?.custom_rates || []),\n    });\n\n    public loading: boolean;\n\n    public readonly asset_options = combineLatest([\n        this.form.valueChanges,\n        this._spaces.list,\n        this._desks.desks,\n    ]).pipe(\n        map(([{ type, name }, spaces, desks]) => {\n            this.loading = true;\n            const search = (name || '').toLowerCase();\n            return !type\n                ? []\n                : type === 'space'\n                ? spaces.filter((_) => _.name.toLowerCase().includes(search))\n                : desks.filter((_) => _.name.toLowerCase().includes(search));\n        }),\n        tap(() => (this.loading = false)),\n        shareReplay(1)\n    );\n\n    constructor(\n        private _spaces: SpacesService,\n        private _desks: DesksStateService,\n        @Inject(MAT_DIALOG_DATA) private _data: { asset?: any }\n    ) {\n        super();\n        this._desks.setFilters({ zones: ['All'] });\n        this.subscription(\n            'type_change',\n            this.form.get('type').valueChanges.subscribe((v) => {\n                const field = this.form.get('name');\n                v ? field.enable() : field.disable();\n            })\n        );\n    }\n\n    public renderPrice(value: number = 0) {\n        return `$${(value / 100)?.toFixed(2)}`;\n    }\n\n    public renderPercent(value: number = 0) {\n        return `${value}%`;\n    }\n\n    public newRule() {\n        this.form.get('custom_rates').setValue([\n            ...this.form.get('custom_rates').value,\n            {\n                type: 'before',\n                first: startOfHour(new Date()),\n                second: addHours(startOfHour(new Date()), 1),\n                rate: 100,\n            },\n        ]);\n    }\n\n    public save() {\n        this.event.emit({ reason: 'done', metadata: { ...this.form.value } });\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { DialogEvent, randomInt } from '@placeos/common';\nimport { BehaviorSubject } from 'rxjs';\nimport { first } from 'rxjs/operators';\nimport { PointsAssetModalComponent } from './asset-modal.component';\nimport { PointAsset } from './points-assets.component';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class PointsStateService {\n    private _assets = new BehaviorSubject<PointAsset[]>([]);\n\n    public readonly assets = this._assets.asObservable();\n\n    constructor(private _dialog: MatDialog) {\n        this._assets.next(\n            JSON.parse(localStorage.getItem('PLACEOS.point_assets') || '[]')\n        );\n        this.assets.subscribe((list) => {\n            localStorage.setItem('PLACEOS.point_assets', JSON.stringify(list));\n        });\n    }\n\n    public async newAsset(asset?: Partial<PointAsset>) {\n        const ref = this._dialog.open(PointsAssetModalComponent, {\n            data: { asset },\n        });\n        const details: DialogEvent = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_) => _.reason === 'done'))\n                .toPromise(),\n            ref.afterClosed().toPromise(),\n        ]);\n        if (details.reason !== 'done') return ref.close();\n        this._assets.next([\n            ...this._assets.getValue().filter((_) => _.id !== asset?.id),\n            {\n                ...details.metadata,\n                id: details.metadata.id || `PA-${randomInt(999_999_999)}`,\n            },\n        ] as any);\n        ref.close();\n    }\n\n    public removeAsset(asset_id: string) {\n        this._assets.next(\n            this._assets.getValue().filter((_) => _.id !== asset_id)\n        );\n    }\n}\n","import { Component } from '@angular/core';\nimport { OrganisationService } from '@placeos/organisation';\nimport { PointsStateService } from './points-state.service';\n\nexport interface CustomRate {\n    rate: number;\n    conditions: any;\n}\n\nexport interface PointAsset {\n    id: string;\n    name: string;\n    type: 'space' | 'desk' | 'parking';\n    accept_points: boolean;\n    discount_cap: number;\n    unit_price: number;\n    custom_rates: CustomRate[];\n}\n\n@Component({\n    selector: 'points-assets',\n    template: `\n        <simple-table\n            class=\"block min-w-[32rem] w-full\"\n            [data]=\"asset_list\"\n            [columns]=\"[\n                { key: 'name', name: 'Name' },\n                { key: 'type', name: 'Type', content: type_template },\n                {\n                    key: 'unit_price',\n                    name: 'Unit Price',\n                    content: price_template\n                },\n                {\n                    key: 'accept_points',\n                    name: 'Points',\n                    content: bool_template,\n                    size: '5.5rem'\n                },\n                {\n                    key: 'discount_cap',\n                    name: 'Discount %',\n                    content: discount_template,\n                    size: '9rem'\n                },\n                {\n                    key: 'actions',\n                    name: ' ',\n                    content: action_template,\n                    size: '6.5rem'\n                }\n            ]\"\n            [sortable]=\"true\"\n            empty_message=\"No priced assets\"\n        >\n        </simple-table>\n        <ng-template #type_template let-data=\"data\">\n            <div class=\"p-2\">\n                <span class=\"bg-base-200 rounded capitalize px-2 py-1 text-sm\">\n                    {{ data }}\n                </span>\n            </div>\n        </ng-template>\n        <ng-template #price_template let-data=\"data\">\n            <span class=\"text-xs p-4 font-mono\">\n                {{ data / 100 | currency: code }} p/h\n            </span>\n        </ng-template>\n        <ng-template #bool_template let-data=\"data\">\n            <div\n                [class.bg-error]=\"!data\"\n                [class.bg-success]=\"data\"\n                class=\"rounded h-8 w-8 flex items-center justify-center text-2xl text-white mx-auto\"\n            >\n                <app-icon>{{ data ? 'done' : 'close' }}</app-icon>\n            </div>\n        </ng-template>\n        <ng-template #discount_template let-data=\"data\">\n            <div class=\"text-right p-4\">{{ data }}%</div>\n        </ng-template>\n        <ng-template #action_template let-row=\"row\">\n            <div class=\"flex items-center justify-end p-2 mx-auto\">\n                <button icon matRipple (click)=\"edit(row)\">\n                    <app-icon>edit</app-icon>\n                </button>\n                <button icon matRipple (click)=\"remove(row)\">\n                    <app-icon class=\"text-error\">delete</app-icon>\n                </button>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n                overflow-x: auto;\n                overflow-y: hidden;\n            }\n        `,\n    ],\n})\nexport class PointsAssetsComponent {\n    public asset_list = this._state.assets;\n\n    public readonly edit = (d) => this._state.newAsset(d);\n    public readonly remove = (d) => this._state.removeAsset(d?.id);\n\n    public get code() {\n        return this._org.currency_code;\n    }\n\n    constructor(\n        private _state: PointsStateService,\n        private _org: OrganisationService\n    ) {}\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n    selector: 'points-overview',\n    template: `\n        <h2\n            class=\"px-4 py-3 bg-secondary text-white w-full rounded font-medium text-lg shadow\"\n        >\n            Point Overview\n        </h2>\n        <section class=\"bg-base-100 w-full\">\n            <h2 class=\"p-2 underline font-medium text-lg\">Point Value</h2>\n            <div class=\"flex items-center space-x-2 p-4 mb-4\">\n                <span>1 point =</span>\n                <a-counter\n                    [step]=\"0.1\"\n                    [(ngModel)]=\"points.value\"\n                    (ngModelChange)=\"storePoints()\"\n                    [render_fn]=\"renderPrice\"\n                ></a-counter>\n                <app-icon matTooltip=\"Set point redemption caps on menu items\">\n                    info\n                </app-icon>\n            </div>\n        </section>\n        <section class=\"bg-base-100 w-full flex-1\">\n            <h2 class=\"p-2 underline font-medium text-lg\">Automatic Rewards</h2>\n            <div class=\"p-4\">\n                <div\n                    class=\"flex items-center space-x-2 p-2 border-b border-base-200\"\n                >\n                    <a-counter\n                        [(ngModel)]=\"points.desk_checkin\"\n                        (ngModelChange)=\"storePoints()\"\n                    ></a-counter>\n                    <span>Points for desk check-in</span>\n                </div>\n                <div\n                    class=\"flex items-center space-x-2 p-2 border-b border-base-200\"\n                >\n                    <a-counter\n                        [(ngModel)]=\"points.room_checkin\"\n                        (ngModelChange)=\"storePoints()\"\n                    ></a-counter>\n                    <span>Points for room check-in</span>\n                </div>\n                <div\n                    class=\"flex items-center space-x-2 p-2 border-b border-base-200\"\n                >\n                    <a-counter\n                        [(ngModel)]=\"points.booking_cancel\"\n                        (ngModelChange)=\"storePoints()\"\n                    ></a-counter>\n                    <span\n                        >Points for booking cancellation with 24 hour\n                        notice</span\n                    >\n                </div>\n                <div class=\"flex items-center space-x-2 p-2 \">\n                    <a-counter\n                        [(ngModel)]=\"points.wellness_card\"\n                        (ngModelChange)=\"storePoints()\"\n                    ></a-counter>\n                    <span>Points for completing wellness card</span>\n                </div>\n            </div>\n        </section>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n            }\n        `,\n    ],\n})\nexport class PointsOverviewComponent implements OnInit {\n    public points = {\n        value: 0.1,\n        desk_checkin: 2,\n        room_checkin: 2,\n        booking_cancel: 3,\n        wellness_card: 1,\n    };\n\n    public ngOnInit() {\n        this.loadPoints();\n    }\n\n    public renderPrice(value: number = 0) {\n        return `$${value?.toFixed(2)}`;\n    }\n\n    public loadPoints() {\n        this.points = {\n            ...this.points,\n            ...JSON.parse(\n                localStorage.getItem('PLACEOS.point_details') || '{}'\n            ),\n        };\n    }\n\n    public storePoints() {\n        localStorage.setItem(\n            'PLACEOS.point_details',\n            JSON.stringify(this.points)\n        );\n    }\n}\n","import { Component } from '@angular/core';\nimport { AsyncHandler } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { first } from 'rxjs/operators';\n\n@Component({\n    selector: 'points-topbar',\n    template: `\n        <div class=\"flex items-center bg-base-100 h-20 px-8 py-4 space-x-2\">\n            <h2 class=\"text-2xl font-medium\">Points Management</h2>\n            <div class=\"flex-1 w-px\"></div>\n            <!-- <searchbar class=\"mr-2\"></searchbar> -->\n            <date-options></date-options>\n            <div class=\"pl-2\">\n                <ng-content></ng-content>\n            </div>\n        </div>\n    `,\n    styles: [\n        `\n            mat-form-field {\n                height: 3.25em;\n                width: 8em;\n            }\n        `,\n    ],\n})\nexport class PointsTopbarComponent extends AsyncHandler {\n    constructor(private _org: OrganisationService) {\n        super();\n    }\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _)).toPromise();\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AsyncHandler } from '@placeos/common';\nimport { PointsStateService } from './points-state.service';\n\n@Component({\n    selector: 'placeos-points',\n    template: `\n        <sidebar></sidebar>\n        <main class=\"relative w-full flex flex-col bg-base-200\">\n            <points-topbar class=\"relative z-10\">\n                <button\n                    *ngIf=\"page === 'assets'\"\n                    btn\n                    matRipple\n                    (click)=\"newAsset()\"\n                >\n                    New Asset\n                </button>\n            </points-topbar>\n            <nav mat-tab-nav-bar>\n                <a\n                    mat-tab-link\n                    [routerLink]=\"['/points', 'overview']\"\n                    [active]=\"page === 'overview'\"\n                >\n                    Overview\n                </a>\n                <a\n                    mat-tab-link\n                    [routerLink]=\"['/points', 'assets']\"\n                    [active]=\"page === 'assets'\"\n                >\n                    Assets\n                </a>\n            </nav>\n            <div class=\"flex-1 w-full h-1/2 overflow-auto\">\n                <router-outlet></router-outlet>\n            </div>\n        </main>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class PointsComponent extends AsyncHandler implements OnInit {\n    /** Page being displayed */\n    public page: string;\n\n    public readonly newAsset = () => this._state.newAsset();\n\n    constructor(private _state: PointsStateService, private _router: Router) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.subscription(\n            'route.params',\n            this._router.events.subscribe(() => {\n                const url_parts = this._router.url?.split('/') || [''];\n                this.page = url_parts[url_parts.length - 1];\n            })\n        );\n        const parts = this._router.url?.split('/') || [''];\n        this.page = parts[parts.length - 1];\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AsyncHandler } from '@placeos/common';\nimport { PointsStateService } from './points-state.service';\n\n@Component({\n    selector: 'placeos-new-points',\n    template: `\n        <app-topbar></app-topbar>\n        <div class=\"flex flex-1 h-px\">\n            <app-sidebar></app-sidebar>\n            <main class=\"flex flex-col flex-1 w-1/2 h-full\">\n                <points-topbar class=\"relative z-10\">\n                    <button\n                        *ngIf=\"page === 'assets'\"\n                        btn\n                        matRipple\n                        class=\"w-40\"\n                        (click)=\"newAsset()\"\n                    >\n                        New Asset\n                    </button>\n                </points-topbar>\n                <div class=\"px-8 mb-4\">\n                    <nav mat-tab-nav-bar>\n                        <a\n                            mat-tab-link\n                            [routerLink]=\"[\n                                '/points-management',\n                                'new',\n                                'overview'\n                            ]\"\n                            [active]=\"page === 'overview'\"\n                        >\n                            Overview\n                        </a>\n                        <a\n                            mat-tab-link\n                            [routerLink]=\"[\n                                '/points-management',\n                                'new',\n                                'assets'\n                            ]\"\n                            [active]=\"page === 'assets'\"\n                        >\n                            Assets\n                        </a>\n                    </nav>\n                </div>\n                <div class=\"flex-1 w-full h-1/2 overflow-auto px-8\">\n                    <router-outlet></router-outlet>\n                </div>\n            </main>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                height: 100%;\n                width: 100%;\n                background-color: var(--b1);\n            }\n        `,\n    ],\n})\nexport class NewPointsComponent extends AsyncHandler implements OnInit {\n    /** Page being displayed */\n    public page: string;\n\n    public readonly newAsset = () => this._state.newAsset();\n\n    constructor(private _state: PointsStateService, private _router: Router) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.subscription(\n            'route.params',\n            this._router.events.subscribe(() => {\n                const url_parts = this._router.url?.split('/') || [''];\n                this.page = url_parts[url_parts.length - 1];\n            })\n        );\n        const parts = this._router.url?.split('/') || [''];\n        this.page = parts[parts.length - 1];\n    }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatChipsModule } from '@angular/material/chips';\nimport { MatTabsModule } from '@angular/material/tabs';\nimport { Route, RouterModule } from '@angular/router';\nimport { UIModule } from '../ui/ui.module';\nimport { PointsAssetModalComponent } from './asset-modal.component';\nimport { PointsAssetsComponent } from './points-assets.component';\nimport { PointsOverviewComponent } from './points-overview.component';\nimport { PointsTopbarComponent } from './points-topbar.component';\nimport { PointsComponent } from './points.component';\nimport { NewPointsComponent } from './new-points.component';\n\nconst ROUTES: Route[] = [\n    {\n        path: 'new',\n        component: NewPointsComponent,\n        children: [\n            { path: 'assets', component: PointsAssetsComponent },\n            { path: 'overview', component: PointsOverviewComponent },\n            { path: '**', redirectTo: 'overview', pathMatch: 'full' },\n        ],\n    },\n    {\n        path: '',\n        component: PointsComponent,\n        children: [\n            { path: 'assets', component: PointsAssetsComponent },\n            { path: 'overview', component: PointsOverviewComponent },\n            { path: '**', redirectTo: 'overview', pathMatch: 'full' },\n        ],\n    },\n];\n\n@NgModule({\n    declarations: [\n        NewPointsComponent,\n        PointsComponent,\n        PointsTopbarComponent,\n        PointsOverviewComponent,\n        PointsAssetsComponent,\n        PointsAssetModalComponent,\n    ],\n    imports: [\n        CommonModule,\n        FormsModule,\n        ReactiveFormsModule,\n        UIModule,\n        MatTabsModule,\n        MatChipsModule,\n        RouterModule.forChild(ROUTES),\n    ],\n})\nexport class PointsModule {}\n"],"x_google_ignoreList":[0]}