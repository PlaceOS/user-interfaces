(self.webpackChunkworkplace=self.webpackChunkworkplace||[]).push([[792],{4003:(gt,re,o)=>{"use strict";o.d(re,{H:()=>M});var e=o(3953),n=o(9707),l=o(7374),g=o(177);const p=["overlay"],f=()=>[];function b(w,x){if(1&w&&(e.j41(0,"div",15)(1,"span"),e.EFF(2),e.k0s()()),2&w){const I=e.XpG().$implicit;e.R7$(2),e.JRh(I.short)}}function d(w,x){if(1&w&&(e.j41(0,"div",13),e.DNE(1,b,3,1,"div",14),e.k0s()),2&w){const I=x.$implicit;e.R7$(),e.Y8G("ngIf",I.hour)}}function y(w,x){if(1&w){const I=e.RV6();e.j41(0,"div",16),e.bIt("click",function(){const C=e.eBV(I).$implicit,D=e.XpG();return e.Njj(D.setTime(C))}),e.nrm(1,"div",17),e.k0s()}if(2&w){const I=x.$implicit;e.AVh("unavailable",I.unavailable),e.R7$(),e.AVh("hour",I.hour)("divider",I.divider)}}function R(w,x){if(1&w&&e.nrm(0,"div",18),2&w){const I=e.XpG();e.xc7("left",I.vertical?"":100*I.model.today+"%")("top",I.vertical?100*I.model.today+"%":"")}}function m(w,x){if(1&w){const I=e.RV6();e.j41(0,"div",19)(1,"div",20),e.bIt("mousedown",function(){e.eBV(I);const C=e.XpG();return e.Njj(C.setMove("start"))})("touchstart",function(){e.eBV(I);const C=e.XpG();return e.Njj(C.setMove("start"))}),e.k0s(),e.j41(2,"div",21),e.bIt("mousedown",function(){e.eBV(I);const C=e.XpG();return e.Njj(C.setMove("start"))})("touchstart",function(){e.eBV(I);const C=e.XpG();return e.Njj(C.setMove("start"))}),e.k0s(),e.j41(3,"div",22),e.bIt("mousedown",function(){e.eBV(I);const C=e.XpG();return e.Njj(C.setMove("end"))})("touchstart",function(){e.eBV(I);const C=e.XpG();return e.Njj(C.setMove("end"))}),e.k0s()()}if(2&w){const I=e.XpG();e.xc7("left",I.vertical?"":100*I.model.start_time+"%")("top",I.vertical?100*I.model.start_time+"%":"")("width",I.vertical?"":100*I.model.duration+"%")("height",I.vertical?100*I.model.duration+"%":"")}}function v(w,x){if(1&w){const I=e.RV6();e.j41(0,"div",26),e.bIt("click",function(){e.eBV(I);const C=e.XpG().$implicit;return e.Njj(C.remove())}),e.j41(1,"i",27),e.EFF(2,"close"),e.k0s()()}}function O(w,x){if(1&w&&(e.j41(0,"div",29)(1,"div",24),e.EFF(2),e.k0s()()),2&w){const I=x.$implicit,_=e.XpG(3);e.xc7("width",_.vertical?"":I.duration/5*100+"%")("height",_.vertical?I.duration/5*100+"%":""),e.R7$(2),e.JRh(I.text)}}function S(w,x){if(1&w&&(e.j41(0,"div",13),e.DNE(1,O,3,5,"div",28),e.k0s()),2&w){const I=x.$implicit;e.R7$(),e.Y8G("ngForOf",I.events)}}function P(w,x){if(1&w&&(e.j41(0,"div",23)(1,"div",3)(2,"div",24),e.EFF(3),e.k0s(),e.DNE(4,v,3,0,"div",25),e.k0s(),e.j41(5,"div",4),e.DNE(6,S,2,1,"div",5),e.k0s()()),2&w){const I=x.$implicit;e.AVh("divider",I.divider),e.R7$(3),e.JRh(I.name),e.R7$(),e.Y8G("ngIf",I.remove),e.R7$(2),e.Y8G("ngForOf",I.blocks)}}let M=(()=>{class w extends n.Tv{constructor(){super(...arguments),this.date=l().valueOf(),this.duration=30,this.can_select=!0,this.dateChange=new e.bkB,this.durationChange=new e.bkB,this.groupsChange=new e.bkB,this.vertical=!1,this.model={}}ngOnInit(){this.model.start=l(this.date).hour(6).minute(30),this.model.end=l(this.date).hour(21).minute(30),this.generateBlocks(),this.updateTime(),this.interval("timer",()=>this.updateTime(),6e4);const I=l(),_=l().add(1,"d").startOf("d");this.timeout("update_date",()=>{this.updateStartEnd(),this.interval("update_date",()=>this.updateStartEnd(),864e5)},Math.floor(_.diff(I,"s")))}ngOnChanges(I){I.groups&&this.processGroups(),(I.date||I.duration)&&this.updateStartEnd()}updateStartEnd(){this.model.start=l(this.date).hour(6).minute(30),this.model.end=l(this.date).hour(21).minute(30),this.updatePeriod(),this.updateTime()}generateBlocks(){const _=this.model.end,C=[];for(let D=l(this.model.start);D.isBefore(_);D=D.add(5,"m"))C.push({id:D.format("HH:mm"),display:D.format("hh:00 a"),short:D.format("hh a"),hour:0===D.minute(),divider:D.minute()%30==0});this.model.blocks=C}processGroups(){this.timeout("process",()=>{this.model.groups=[];const I=l(this.model.start),_=this.model.end;for(const C of this.groups||[]){const D=[];for(let A=l(I);A.isBefore(_);A=A.add(5,"m")){const B=l(A).add(5,"m");let F=[];C.events&&(F=C.events.filter($=>{const U=l(this.date).hour(Math.floor($.start)).minute(Math.floor(60*$.start%60));return(U.isAfter(A,"m")||U.isSame(A,"m"))&&U.isBefore(B,"m")})),D.push({id:A.format("HH:mm"),events:F})}this.model.groups.push({...C,blocks:D})}this.checkInUseBlocks()},20)}checkInUseBlocks(){if(!this.model.blocks)return;const I=this.model.blocks.map(_=>({..._,unavailable:!1}));for(const _ of this.model.groups)for(const C of _.events||[]){const D=this.hoursToDate(C.start),A=l(D).add(C.duration,"m");for(let B=l(D);B.isBefore(A);B=B.add(5,"m")){const F=B.format("HH:mm"),$=I.find(U=>U.id===F);$&&($.unavailable=!0)}}this.model.blocks=I}hoursToDate(I){let _=l().startOf("d").hour(Math.floor(I)).minute(Math.floor(60*I%60));return _=_.minute(5*Math.floor(_.minute()/5)),_}timeToDate(I){const _=I.split(":");let C=l().startOf("d").hour(+_[0]).minute(+_[1]);return C=C.minute(5*Math.floor(C.minute()/5)),C}updatePeriod(){const I=l(this.date).startOf("m"),_=this.model.end.diff(this.model.start,"m")/60;this.model.start_time=I.diff(this.model.start,"m")/60/_,this.model.duration=this.duration/60/_}updateTime(){const I=l().startOf("m"),_=this.model.end.diff(this.model.start,"m")/60;this.model.today=I.diff(this.model.start,"m")/60/_}resetMove(){this.model.move=""}setMove(I){this.model.move=I}setTime(I){if(!I)return;const _=I.id.split(":"),C=l(this.date).hour(+_[0]).minute(+_[1]);this.date=C.valueOf(),this.dateChange.emit(this.date),this.updatePeriod()}move(I){this.timeout("move",()=>{if(this.model.move&&this.content){const _={x:I.touches&&I.touches.length>0&&I.touches[0].clientX||I.clientX,y:I.touches&&I.touches.length>0&&I.touches[0].clientY||I.clientY},C=this.content.nativeElement.getBoundingClientRect(),B=this.vertical?(_.y-C.top)/C.height:(_.x-C.left)/C.width,F=this.model.start.hour()+this.model.start.minute()/60,U=this.model.end.hour()+this.model.end.minute()/60-F,G=15,J=Math.ceil((U*B+F)*(60/G))/(60/G);if("end"===this.model.move){let te=l(this.date);const ne=l(this.date).hour(Math.floor(J)).minute(Math.floor(60*J%60));if(ne.isSame(te,"m")||ne.isBefore(te,"m"))te=l(ne).add(-this.duration,"m"),this.date=te.valueOf();else{const K=Math.floor(ne.diff(te,"m"));this.duration=Math.max(60,K||G),this.durationChange.emit(this.duration)}}else if("start"===this.model.move){const te=l(this.date).hour(Math.floor(J)).minute(Math.floor(60*J%60));this.date=te.valueOf()}this.dateChange.emit(this.date),this.updatePeriod()}},10)}static#e=this.\u0275fac=(()=>{let I;return function(C){return(I||(I=e.xGo(w)))(C||w)}})();static#t=this.\u0275cmp=e.VBU({type:w,selectors:[["event-timeline"]],viewQuery:function(_,C){if(1&_&&e.GBs(p,5),2&_){let D;e.mGM(D=e.lsd())&&(C.content=D.first)}},inputs:{groups:"groups",date:"date",duration:"duration",can_select:"can_select",klass:"klass"},outputs:{dateChange:"dateChange",durationChange:"durationChange",groupsChange:"groupsChange"},features:[e.Vt3,e.OA$],decls:15,vars:10,consts:[["overlay",""],[1,"times",3,"mouseup","touchend"],[1,"row","divider"],[1,"header"],[1,"line"],["class","mini-block",4,"ngFor","ngForOf"],[1,"content"],[1,"overlay","row"],[1,"line",3,"mousemove","touchmove"],["class","mini-block",3,"unavailable","click",4,"ngFor","ngForOf"],["class","current-time",3,"left","top",4,"ngIf"],["class","selected-time",3,"left","top","width","height",4,"ngIf"],["class","row",3,"divider",4,"ngFor","ngForOf"],[1,"mini-block"],["class","time",4,"ngIf"],[1,"time"],[1,"mini-block",3,"click"],[1,"bar"],[1,"current-time"],[1,"selected-time"],[1,"inner",3,"mousedown","touchstart"],[1,"knob","start",3,"mousedown","touchstart"],[1,"knob","end",3,"mousedown","touchstart"],[1,"row"],[1,"text"],["class","icon",3,"click",4,"ngIf"],[1,"icon",3,"click"],[1,"material-icons"],["class","item",3,"width","height",4,"ngFor","ngForOf"],[1,"item"]],template:function(_,C){if(1&_){const D=e.RV6();e.j41(0,"div")(1,"div",1),e.bIt("mouseup",function(){return e.eBV(D),e.Njj(C.resetMove())},!1,e.tSv)("touchend",function(){return e.eBV(D),e.Njj(C.resetMove())},!1,e.tSv),e.j41(2,"div",2),e.nrm(3,"div",3),e.j41(4,"div",4),e.DNE(5,d,2,1,"div",5),e.k0s()()(),e.j41(6,"div",6)(7,"div",7),e.nrm(8,"div",3),e.j41(9,"div",8,0),e.bIt("mousemove",function(B){return e.eBV(D),e.Njj(C.move(B))})("touchmove",function(B){return e.eBV(D),e.Njj(C.move(B))}),e.DNE(11,y,2,6,"div",9)(12,R,1,4,"div",10)(13,m,4,8,"div",11),e.k0s()(),e.DNE(14,P,7,5,"div",12),e.k0s()()}2&_&&(e.HbH("event-timeline"+(C.klass?" "+C.klass:"")),e.R7$(5),e.Y8G("ngForOf",C.model.blocks||e.lJ4(7,f)),e.R7$(6),e.Y8G("ngForOf",C.model.blocks||e.lJ4(8,f)),e.R7$(),e.Y8G("ngIf",C.model.today>0),e.R7$(),e.Y8G("ngIf",C.can_select),e.R7$(),e.Y8G("ngForOf",C.model.groups||e.lJ4(9,f)))},dependencies:[g.Sq,g.bT],styles:["[_nghost-%COMP%]{height:100%;width:100%}.times[_ngcontent-%COMP%]{position:sticky;top:0;left:0;overflow:auto;border:1px solid #ccc}.content[_ngcontent-%COMP%]{position:relative;overflow:auto;border:1px solid #ccc;border-top:none}.content[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{border-top:1px solid #ccc}.content[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:first-child{border-top:none}.content[_ngcontent-%COMP%]   .ovrelay[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{overflow:auto}.row[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;min-width:100%;min-height:2.5em;z-index:0}.row.divider[_ngcontent-%COMP%]{background-color:#f0f0f0;z-index:2}.overlay[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%;pointer-events:none;background:none;border:none;z-index:1}.overlay[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%], .overlay[_ngcontent-%COMP%]   .mini-block[_ngcontent-%COMP%]{pointer-events:auto}.overlay[_ngcontent-%COMP%]   .mini-block.unavailable[_ngcontent-%COMP%]{background-color:#0000000d}.overlay[_ngcontent-%COMP%]   .mini-block[_ngcontent-%COMP%]:first-child{opacity:0}.overlay[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:0;height:100%}.overlay[_ngcontent-%COMP%]   .bar.hour[_ngcontent-%COMP%]{border-left-style:solid}.overlay[_ngcontent-%COMP%]   .bar.divider[_ngcontent-%COMP%]{border-left:1px dashed rgba(0,0,0,.05)}.line[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;flex:1;min-width:10em;height:100%;overflow:hidden;pointer-events:none}.time[_ngcontent-%COMP%]{position:absolute;left:0;bottom:.5em;transform:translate(-50%);display:flex;align-items:center;white-space:nowrap}.header[_ngcontent-%COMP%]{position:sticky;display:flex;align-items:center;top:0;left:0;bottom:0;width:10em;border-right:1px solid #ccc;min-height:2.5em}.header[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{padding:.5em}.vertical[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{flex-direction:column;min-width:0;min-height:100%}.vertical[_ngcontent-%COMP%]   .mini-block[_ngcontent-%COMP%]{min-height:4px;min-width:2.5em}.vertical[_ngcontent-%COMP%]   .selected-time[_ngcontent-%COMP%]{inset:auto 0;border:none;border-top:2px solid var(--s);border-bottom:2px solid var(--s);pointer-events:auto}.vertical[_ngcontent-%COMP%]   .selected-time[_ngcontent-%COMP%]   .knob[_ngcontent-%COMP%]{position:absolute;top:0;left:1em;transform:translateY(calc(-50% - 1px));cursor:ns-resize}.vertical[_ngcontent-%COMP%]   .selected-time[_ngcontent-%COMP%]   .knob.end[_ngcontent-%COMP%]{inset:auto 1em 0 auto;transform:translateY(calc(50% + 1px))}.vertical[_ngcontent-%COMP%]   .curent-time[_ngcontent-%COMP%]{inset:auto 0;width:auto;height:2px;background-color:var(--s)}.mini-block[_ngcontent-%COMP%]{position:relative;min-width:4px;min-height:2.5em;height:100%;flex:1}.item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:#fff;position:absolute;top:0;left:0;bottom:0;background-color:rgba(var(--s),.54);border:1px solid rgba(255,255,255,.87)}.icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:1.2em;width:1.2em}.icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:1em;max-width:1em}.selected-time[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;background-color:rgba(var(--s),.2);border-left:2px solid var(--s);border-right:2px solid var(--s);pointer-events:auto}.selected-time[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{height:100%;width:100%;cursor:grab}.selected-time[_ngcontent-%COMP%]   .knob[_ngcontent-%COMP%]{position:absolute;top:1em;left:0;height:12px;width:12px;border-radius:100%;background-color:var(--s);transform:translate(calc(-50% - 1px));box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;cursor:ew-resize}.selected-time[_ngcontent-%COMP%]   .knob.end[_ngcontent-%COMP%]{inset:auto 0 1em auto;transform:translate(calc(50% + 1px))}.current-time[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;width:2px;background-color:var(--primary-dark)}"]})}return w})()},895:(gt,re,o)=>{"use strict";o.d(re,{e:()=>F});var e=o(9707),n=o(3953),l=o(177),h=o(2091),g=o(9434),p=o(6600),f=o(1007);const b=()=>["/book","meeting"],d=()=>["/book","spaces"],y=()=>["/book","new-desks"],R=()=>["/book","desks"],m=()=>["/book","new-parking"],v=()=>["/book","visitor"],O=()=>["/your-bookings"],S=()=>["/schedule"],P=$=>[$],M=()=>["/explore"];function w($,U){if(1&$&&(n.j41(0,"a",18)(1,"div",19)(2,"app-icon",20),n.EFF(3,"meeting_room"),n.k0s(),n.j41(4,"app-icon",21),n.EFF(5,"meeting_room"),n.k0s()(),n.j41(6,"div",22),n.pXf(7,1),n.k0s()()),2&$){const G=n.XpG(2);n.Y8G("routerLink",G.new_features?n.lJ4(1,b):n.lJ4(2,d))}}function x($,U){if(1&$&&(n.j41(0,"a",23)(1,"div",19)(2,"app-icon",20),n.EFF(3,"desk"),n.k0s(),n.j41(4,"app-icon",21),n.EFF(5,"desk"),n.k0s()(),n.j41(6,"div",22),n.pXf(7,2),n.k0s()()),2&$){const G=n.XpG(2);n.Y8G("routerLink",G.new_features?n.lJ4(1,y):n.lJ4(2,R))}}function I($,U){1&$&&(n.j41(0,"a",24)(1,"div",19)(2,"app-icon",20),n.EFF(3,"directions_car"),n.k0s(),n.j41(4,"app-icon",21),n.EFF(5,"directions_car"),n.k0s()(),n.j41(6,"div",22),n.pXf(7,3),n.k0s()()),2&$&&n.Y8G("routerLink",n.lJ4(1,m))}function _($,U){1&$&&(n.j41(0,"a",25)(1,"div",19)(2,"app-icon",20),n.EFF(3,"person_add"),n.k0s(),n.j41(4,"app-icon",21),n.EFF(5,"person_add"),n.k0s()(),n.j41(6,"div",22),n.pXf(7,4),n.k0s()()),2&$&&n.Y8G("routerLink",n.lJ4(1,v))}function C($,U){if(1&$&&(n.j41(0,"a",26)(1,"div",19)(2,"app-icon",20),n.EFF(3,"today"),n.k0s(),n.j41(4,"app-icon",21),n.EFF(5,"today"),n.k0s()(),n.j41(6,"div",22),n.pXf(7,5),n.k0s()()),2&$){const G=n.XpG(2);n.Y8G("routerLink",G.new_features?n.lJ4(1,O):n.lJ4(2,S))}}function D($,U){if(1&$){const G=n.RV6();n.j41(0,"div",10),n.bIt("click",function(){n.eBV(G);const te=n.XpG();return n.Njj(te.show_book_items=!1)}),n.nrm(1,"div",11),n.j41(2,"div",12),n.DNE(3,w,8,3,"a",13)(4,x,8,3,"a",14)(5,I,8,2,"a",15)(6,_,8,2,"a",16)(7,C,8,3,"a",17),n.k0s()()}if(2&$){const G=n.XpG();n.BMQ("dark",G.dark_mode),n.R7$(3),n.Y8G("ngIf",G.features.includes("spaces")),n.R7$(),n.Y8G("ngIf",G.features.includes("desks")),n.R7$(),n.Y8G("ngIf",G.features.includes("parking")),n.R7$(),n.Y8G("ngIf",G.features.includes("visitor-invite")),n.R7$(),n.Y8G("ngIf",G.features.includes("schedule"))}}function A($,U){if(1&$){const G=n.RV6();n.j41(0,"div",27)(1,"a",28)(2,"app-icon",29),n.EFF(3,"home"),n.k0s(),n.j41(4,"app-icon",30),n.EFF(5,"home"),n.k0s(),n.j41(6,"span",31),n.pXf(7,6),n.k0s()(),n.j41(8,"button",32),n.bIt("click",function(){n.eBV(G);const te=n.XpG();return n.Njj(te.show_book_items=!te.show_book_items)}),n.j41(9,"app-icon",33),n.EFF(10),n.k0s()(),n.j41(11,"a",34)(12,"app-icon",29),n.EFF(13,"place"),n.k0s(),n.j41(14,"app-icon",30),n.EFF(15,"place"),n.k0s(),n.j41(16,"span",31),n.pXf(17,7),n.k0s()(),n.j41(18,"div",35),n.nrm(19,"div",36),n.k0s()()}if(2&$){const G=n.XpG();n.BMQ("dark",G.dark_mode),n.R7$(),n.Y8G("routerLink",n.eq3(10,P,G.default_page)),n.R7$(7),n.AVh("bg-secondary",G.show_book_items)("text-white",G.show_book_items)("bg-base-200",!G.show_book_items),n.R7$(2),n.JRh(G.show_book_items?"close":"add"),n.R7$(),n.Y8G("routerLink",n.lJ4(12,M))}}function B($,U){1&$&&(n.j41(0,"div",27),n.nrm(1,"top-menu"),n.k0s())}let F=(()=>{class ${get default_page(){return this._settings.get("app.default_route")||"/dashboard"}get features(){return this._settings.get("app.features")||[]}get new_features(){return!!this._settings.get("app.new_features")}get dark_mode(){return!!this._settings.get("dark_mode")}constructor(G){this._settings=G,this.show_book_items=!1}static#e=this.\u0275fac=function(J){return new(J||$)(n.rXU(e.h$))};static#t=this.\u0275cmp=n.VBU({type:$,selectors:[["footer-menu"]],decls:4,vars:3,consts:()=>{let G,J,te,ne,K,k,j;return G=$localize`:␟a5fe7eda1ba37d634cc5c1dbce2a7bff7eb1dec5␟6490748841654176702:Book Meeting`,J=$localize`:␟59d710613ed33fdb662fd7ee88c4de696e139289␟8276275930819312928:Book Desk`,te=$localize`:␟6e9db23d216950394505312f93b287dde96b0990␟6055616164538866874:Book Car Space`,ne=$localize`:␟5ce047ca92a7474d89cf5b08a9913b0a93d28404␟4809719174148656467:Invite Visitor`,K=$localize`:␟cb6378e0658b04a6da5f440c47dbeb7f71584e72␟8703365535684640863:Your Bookings`,k=$localize`:␟92eee6be6de0b11c924e3ab27db30257159c0a7c␟2821179408673282599:Home`,j=$localize`:␟041a8f5e357685f1af16ffb9ffda7f2db6dcef20␟660809762116764762:Spaces`,[["simple_state",""],G,J,te,ne,K,k,j,["class","fixed z-20 inset-0 bottom-16 text-white",3,"click",4,"ngIf"],["class","flex items-center justify-center bg-base-100 border-t border-base-200 shadow relative h-16 w-full sm:hidden z-40",4,"ngIf","ngIfElse"],[1,"fixed","z-20","inset-0","bottom-16","text-white",3,"click"],[1,"absolute","inset-0","bg-black","opacity-50"],[1,"absolute","inset-x-0","bottom-0","flex","flex-wrap","items-end","justify-center","p-4"],["name","footer-nav-meeting","matRipple","","routerLinkActive","active","class","flex flex-col items-center justify-center space-y-2 w-1/3 m-2",3,"routerLink",4,"ngIf"],["matRipple","","name","footer-nav-desks","routerLinkActive","active","class","flex flex-col items-center justify-center space-y-2 w-1/3 m-2",3,"routerLink",4,"ngIf"],["matRipple","","name","footer-nav-parking","routerLinkActive","active","class","flex flex-col items-center justify-center space-y-2 text-base w-1/3 m-2",3,"routerLink",4,"ngIf"],["matRipple","","name","footer-nav-visitor-invite","routerLinkActive","active","class","flex flex-col items-center justify-center space-y-2 w-1/3 m-2",3,"routerLink",4,"ngIf"],["matRipple","","name","footer-nav-my-day","routerLinkActive","active","class","flex flex-col items-center justify-center space-y-2 text-base w-1/3  m-2",3,"routerLink",4,"ngIf"],["name","footer-nav-meeting","matRipple","","routerLinkActive","active",1,"flex","flex-col","items-center","justify-center","space-y-2","w-1/3","m-2",3,"routerLink"],[1,"bg-base-100","text-base-content","rounded-full","h-12","w-12","text-2xl","flex","items-center","justify-center"],["filled",""],["outline","","className","material-icons-outlined",1,"text-neutral"],[1,"text-xs"],["matRipple","","name","footer-nav-desks","routerLinkActive","active",1,"flex","flex-col","items-center","justify-center","space-y-2","w-1/3","m-2",3,"routerLink"],["matRipple","","name","footer-nav-parking","routerLinkActive","active",1,"flex","flex-col","items-center","justify-center","space-y-2","text-base","w-1/3","m-2",3,"routerLink"],["matRipple","","name","footer-nav-visitor-invite","routerLinkActive","active",1,"flex","flex-col","items-center","justify-center","space-y-2","w-1/3","m-2",3,"routerLink"],["matRipple","","name","footer-nav-my-day","routerLinkActive","active",1,"flex","flex-col","items-center","justify-center","space-y-2","text-base","w-1/3","m-2",3,"routerLink"],[1,"flex","items-center","justify-center","bg-base-100","border-t","border-base-200","shadow","relative","h-16","w-full","sm:hidden","z-40"],["matRipple","","name","footer-nav-home","routerLinkActive","text-secondary active",1,"flex","flex-col","items-center","justify-center","relative","flex-1",3,"routerLink"],["filled","",1,"text-2xl"],["outline","","className","material-icons-outlined",1,"text-2xl","!m-0"],[1,"text-sm"],["matRipple","",1,"flex","items-center","justify-center","w-12","h-12","mb-4","rounded-full","z-10",3,"click"],[1,"text-2xl"],["matRipple","","routerLinkActive","text-secondary active",1,"flex","flex-col","items-center","justify-center","relative","flex-1",3,"routerLink"],[1,"overflow-hidden","absolute","top-0","left-1/2","-translate-x-1/2","-translate-y-full","w-24","h-2"],[1,"w-16","h-16","rounded-full","bg-base-100","shadow","mx-auto","border-t","border-base-200"]]},template:function(J,te){if(1&J&&n.DNE(0,D,8,6,"div",8)(1,A,20,13,"div",9)(2,B,2,0,"ng-template",null,0,n.C5r),2&J){const ne=n.sdS(3);n.Y8G("ngIf",te.show_book_items),n.R7$(),n.Y8G("ngIf",te.features.length>3)("ngIfElse",ne)}},dependencies:[l.bT,h.Wk,h.wQ,g.R,p.r6,f.C],styles:["a.active[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{color:var(--s)!important}a.active[_ngcontent-%COMP%]{font-weight:500}a[_ngcontent-%COMP%]:not(.active)   [filled][_ngcontent-%COMP%], a.active[_ngcontent-%COMP%]   [outline][_ngcontent-%COMP%]{display:none}"]})}return $})()},3028:(gt,re,o)=>{"use strict";o.d(re,{f:()=>C});var e=o(9707),n=o(1864),l=o(3953),h=o(177),g=o(2091),p=o(9417),f=o(9434),b=o(6600),d=o(9183);const y=["input"],R=(D,A,B,F,$)=>({"w-[32rem]":D,"w-px":A,"opacity-100":B,"opacity-0":F,"pointer-events-none":$}),m=()=>["/explore"],v=D=>({space:D}),O=D=>({user:D}),S=(D,A,B)=>({locate:D,name:A,zone:B});function P(D,A){1&D&&l.nrm(0,"mat-spinner",13),2&D&&l.Y8G("diameter",32)}function M(D,A){1&D&&(l.j41(0,"div",14),l.pXf(1,2),l.k0s())}function w(D,A){if(1&D&&(l.j41(0,"a",16)(1,"div",17)(2,"div",18),l.EFF(3),l.k0s(),l.j41(4,"div",19),l.EFF(5),l.k0s()(),l.j41(6,"div",20),l.EFF(7),l.k0s()()),2&D){const B=A.$implicit;l.Y8G("routerLink",l.lJ4(5,m))("queryParams","space"===B.type?l.eq3(6,v,B.id):"user"===B.type||B.is_role?l.eq3(8,O,B.id):l.sMw(10,S,B.id,B.name,B.zone)),l.R7$(3),l.SpI(" ",B.name," "),l.R7$(2),l.SpI(" ",B.description," "),l.R7$(2),l.SpI(" ",B.type," ")}}function x(D,A){if(1&D&&(l.qex(0),l.DNE(1,w,8,14,"a",15),l.nI1(2,"async"),l.nI1(3,"slice"),l.bVm()),2&D){const B=l.XpG();l.R7$(),l.Y8G("ngForOf",l.brH(3,3,l.bMT(2,1,B.results),0,5))}}function I(D,A){1&D&&(l.j41(0,"div",14),l.pXf(1,3),l.k0s())}function _(D,A){if(1&D&&(l.DNE(0,I,2,0,"div",21),l.nI1(1,"async")),2&D){let B;const F=l.XpG();l.Y8G("ngIf",!(null!=(B=l.bMT(1,1,F.results))&&B.length))}}let C=(()=>{class D extends e.Tv{constructor(B){super(),this._service=B,this.results=this._service.search_results,this.loading=this._service.loading,this.show=!1,this.filter_str="",this.setFilter=F=>F instanceof Object?this.filter_str="":this._service.setFilter(F)}showInput(){this.show=!0,this._input_el.nativeElement.focus(),this.clearTimeout("close")}hideInput(){this.timeout("close",()=>this.show=!1)}static#e=this.\u0275fac=function(F){return new(F||D)(l.rXU(n.Xm))};static#t=this.\u0275cmp=l.VBU({type:D,selectors:[["global-search"]],viewQuery:function(F,$){if(1&F&&l.GBs(y,5),2&F){let U;l.mGM(U=l.lsd())&&($._input_el=U.first)}},features:[l.Vt3],decls:18,vars:25,consts:()=>{let B,F;return B=$localize`:␟868d77dc4a964d6ed72a5a17df93c700ed77012a␟7546564659170523657: No matches found. `,F=$localize`:␟7a9f8c3d66e397b8bc1a089e3c3a5ed2db5fdb17␟7365185463219571764: Start typing to search... `,[["input",""],["empty_state",""],B,F,[1,"h-full","w-12","relative"],["icon","","name","global-search","matRipple","",1,"h-10","w-10","rounded-full","bg-base-200",3,"click"],[1,"text-2xl"],["search","",1,"flex","items-center","absolute","top-1/2","right-2","-translate-y-1/2","max-w-[calc(100vw-4rem)]","bg-base-100","shadow","h-12","px-2","rounded-[24px]","space-x-2","border-2","border-neutral","z-50",3,"click","ngClass"],["placeholder","Search for people or spaces...",1,"flex-1","w-1/2","py-2","outline-none",3,"ngModelChange","blur","ngModel"],[3,"diameter",4,"ngIf"],["search","",1,"flex","flex-col","items-center","absolute","bottom-0","right-2","translate-y-[calc(100%-1rem)]","max-w-[calc(100vw-4rem)]","bg-base-100","shadow","rounded-b","pt-4","overflow-hidden","border","border-base-200",3,"ngClass"],["empty","","class","p-4 w-full text-center opacity-60",4,"ngIf","ngIfElse"],[4,"ngIf"],[3,"diameter"],["empty","",1,"p-4","w-full","text-center","opacity-60"],["matRipple","","class","w-full h-full flex items-center leading-tight p-4 hover:bg-neutral:bg-base-100/5",3,"routerLink","queryParams",4,"ngFor","ngForOf"],["matRipple","",1,"w-full","h-full","flex","items-center","leading-tight","p-4","hover:bg-neutral:bg-base-100/5",3,"routerLink","queryParams"],[1,"flex-1","overflow-hidden"],[1,"truncate","w-full"],[1,"text-xs","opacity-60"],[1,"text-xs","font-medium","p-2","capitalize","text-white","bg-secondary","text-secondary-content","rounded"],["empty","","class","p-4 w-full text-center opacity-60",4,"ngIf"]]},template:function(F,$){if(1&F){const U=l.RV6();l.j41(0,"div",4)(1,"button",5),l.bIt("click",function(){return l.eBV(U),l.Njj($.showInput())}),l.j41(2,"app-icon",6),l.EFF(3,"search"),l.k0s()(),l.j41(4,"div",7),l.bIt("click",function(){return l.eBV(U),l.Njj($.showInput())}),l.j41(5,"app-icon",6),l.EFF(6,"search"),l.k0s(),l.j41(7,"input",8,0),l.mxI("ngModelChange",function(J){return l.eBV(U),l.DH7($.filter_str,J)||($.filter_str=J),l.Njj(J)}),l.bIt("ngModelChange",function(J){return l.eBV(U),l.Njj($.setFilter(J))})("blur",function(){return l.eBV(U),l.Njj($.hideInput())}),l.k0s(),l.DNE(9,P,1,1,"mat-spinner",9),l.nI1(10,"async"),l.k0s(),l.j41(11,"div",10),l.DNE(12,M,2,0,"div",11),l.nI1(13,"async"),l.DNE(14,x,4,7,"ng-container",12),l.nI1(15,"async"),l.k0s()(),l.DNE(16,_,2,3,"ng-template",null,1,l.C5r)}if(2&F){let U;const G=l.sdS(17);l.R7$(4),l.Y8G("ngClass",l.s1E(13,R,$.show,!$.show,$.show,!$.show,!$.show)),l.R7$(3),l.R50("ngModel",$.filter_str),l.R7$(2),l.Y8G("ngIf",l.bMT(10,7,$.loading)),l.R7$(2),l.Y8G("ngClass",l.s1E(19,R,$.show,!$.show,$.show,!$.show,!$.show)),l.R7$(),l.Y8G("ngIf",!(null!=(U=l.bMT(13,9,$.results))&&U.length)&&$.filter_str)("ngIfElse",G),l.R7$(2),l.Y8G("ngIf",!l.bMT(15,11,$.loading)&&$.filter_str)}},dependencies:[h.YU,h.Sq,h.bT,g.Wk,p.me,p.BC,p.vS,f.R,b.r6,d.LG,h.Jj,h.P9],styles:["[search][_ngcontent-%COMP%]{transition:width .2s,opacity .2s}"]})}return D})()},5927:(gt,re,o)=>{"use strict";o.d(re,{p:()=>Tt});var e=o(177),n=o(9417),l=o(850),h=o(8834),g=o(2091),p=o(4351),f=o(3046),b=o(8113),d=o(7915),y=o(2168),R=o(4006),m=o(3719),v=o(9631),O=o(2798),S=o(9183),P=o(5272),M=o(3953),w=o(9707),x=o(2596),I=o(6299),_=o(6600);const C=["input"];function D(It,Gt){if(1&It&&M.nrm(0,"img",27),2&It){const At=M.XpG();M.Y8G("src","assets/icons/"+At.card_type+".svg",M.B4B)}}function A(It,Gt){if(1&It&&(M.j41(0,"mat-option",28),M.EFF(1),M.k0s()),2&It){const At=Gt.$implicit;M.Y8G("value",At[0]),M.R7$(),M.Lme(" ",At[1]," (",At[0],") ")}}function B(It,Gt){if(1&It&&(M.j41(0,"mat-option",28),M.EFF(1),M.k0s()),2&It){const At=Gt.$implicit;M.Y8G("value",At),M.R7$(),M.JRh(At)}}const F={card_number:"                ",cardholder:"",cvv:""},$=new e.vh("en-us","");let U=(()=>{class It extends w.Tv{constructor(){super(...arguments),this.details=new n.gE({card_number:new n.MJ(Array(16).fill("X").join()),cardholder:new n.MJ(""),exp_month:new n.MJ(""),exp_year:new n.MJ(""),cvv:new n.MJ("",[n.k0.minLength(3),n.k0.maxLength(4)])}),this.disabled=!1,this.months=Array(12).fill(0).map((At,tn)=>[$.transform((0,x.Z)(Date.now(),tn),"MM"),$.transform((0,x.Z)(Date.now(),tn),"MMM")]),this.years=Array(12).fill(0).map((At,tn)=>$.transform((0,I.e)(Date.now(),tn),"yyyy")),this.digits=Array(16).fill(0),this._index=0,this.registerOnChange=At=>this._onChange=At,this.registerOnTouched=At=>this._onTouch=At,this.setDisabledState=At=>this.disabled=At}get is_amex(){return(this.details.value?.card_number||"").startsWith("3")}get card_type(){const At=this.details.value?.card_number||"";return At.startsWith("3")?"amex":At.startsWith("4")?"visa":At.startsWith("5")?"mastercard":""}get card_display(){let At=this.details.value?.card_number||"";return this.card_focused&&(At=At.substring(0,this._index)+"\u2bd0"+At.substring(this._index+1)),this.is_amex?`${At.substring(0,4)}-${At.substring(4,10)}-${At.substring(10)}`:`${At.substring(0,4)}-${At.substring(4,8)}-${At.substring(8,12)}-${At.substring(12)}`}get card_focused(){return document.activeElement===this._input_el.nativeElement||document.activeElement===this._input_el.nativeElement.parentElement}ngOnInit(){this.subscription("changes",this.details.valueChanges.subscribe(At=>this.timeout("update",()=>this.setValue(this.details.getRawValue()))))}focusInput(){this._input_el.nativeElement.focus(),this._index=this._input_el.nativeElement.selectionStart||0}onInput(At){if(!At||!this.card_focused)return;const tn=this._index;if(tn<0||tn>16)return;let vn=this.details.value.card_number;if((At.code.startsWith("Digit")||At.code.startsWith("Numpad"))&&tn<(this.is_amex?15:16))vn=vn.substring(0,tn)+At.key+vn.substring(tn+1),this.details.patchValue({card_number:vn}),this._focusChange(tn,1);else if("Backspace"===At.code&&tn>0){let wn=this.details.value.card_number;wn=wn.substring(0,tn)+" "+wn.substring(tn+1),this.details.patchValue({card_number:wn}),this._focusChange(tn,-1)}else"ArrowLeft"===At.code?this._focusChange(tn,-1):"ArrowRight"===At.code&&" "!==vn[tn]&&this._focusChange(tn,1)}_focusChange(At,tn){this._index=Math.min(16,Math.max(0,At+tn))}setValue(At){this._onChange&&this._onChange(At)}writeValue(At){this.details.patchValue(At||F)}static#e=this.\u0275fac=(()=>{let At;return function(vn){return(At||(At=M.xGo(It)))(vn||It)}})();static#t=this.\u0275cmp=M.VBU({type:It,selectors:[["card-input-field"]],viewQuery:function(tn,vn){if(1&tn&&M.GBs(C,7),2&tn){let wn;M.mGM(wn=M.lsd())&&(vn._input_el=wn.first)}},features:[M.Jv_([{provide:n.kq,useExisting:(0,M.Rfq)(()=>It),multi:!0}]),M.Vt3],decls:41,vars:6,consts:()=>{let At,tn,vn,wn,ti,Qn,bn;return At=$localize`:␟c51ae86488666fc691751bf76d88811b37505c00␟1085309836704157602:Card Number`,tn=$localize`:␟cc927e92ada1f250e8c5ea7884d0b1294be56635␟4148395957159016439:Name on Card`,vn=$localize`:␟6402e768a1ac6a5f86edf0daccf05b3d9d63f465␟598947732489453783:Cardholder name is required`,wn=$localize`:␟48b5a0234304bd29aeaab8f2793b8245517a7102␟7043163776563263056:Expiry Month`,ti=$localize`:␟28b0c8359cc099ef3dcaddac4c1357d45751ac9d␟1539914853150581191:Expiry month is required`,Qn=$localize`:␟84a41ff903da0de49f3172fef0d0528701065d6e␟6698859483517525075:Expiry year is required`,bn=$localize`:␟11a0ab2762b4af425c3d20aa211a751e4785e04e␟203544573091191988:Invalid security code`,[["input",""],At,tn,vn,wn,ti,Qn,bn,[3,"keyup","formGroup"],[1,"flex","flex-col"],["for","card-number"],["tabindex","0",1,"border","border-base-200","p-2","h-12","mb-4","focus-within:shadow","focus-within:border-base-200","flex","items-center","font-mono","w-full","rounded","relative",3,"focus"],[1,"flex-1"],["type","tel","maxlength","17",1,"hidden","absolute",3,"keydown","value"],["class","h-8",3,"src",4,"ngIf"],[1,"flex","flex-col","flex-1"],["for","cardholder"],["appearance","outline"],["name","cardholder","matInput","","placeholder","Mr John Smith","formControlName","cardholder"],[1,"flex","items-center","space-x-2"],[1,"flex","flex-col","flex-1","w-1/4"],["placeholder","MM","formControlName","exp_month"],[3,"value",4,"ngFor","ngForOf"],["placeholder","YYYY","formControlName","exp_year"],["for","cvv"],["appearance","outline",1,"w-20"],["name","cvv","matInput","","formControlName","cvv","maxlength","4"],[1,"h-8",3,"src"],[3,"value"]]},template:function(tn,vn){if(1&tn){const wn=M.RV6();M.j41(0,"form",8),M.bIt("keyup",function(Qn){return M.eBV(wn),M.Njj(vn.onInput(Qn))},!1,M.tSv),M.j41(1,"div",9)(2,"label",10),M.pXf(3,1),M.k0s(),M.j41(4,"div",11),M.bIt("focus",function(){return M.eBV(wn),M.Njj(vn.focusInput())}),M.j41(5,"pre",12),M.EFF(6),M.k0s(),M.j41(7,"input",13,0),M.bIt("keydown",function(){return M.eBV(wn),M.Njj(!1)}),M.k0s(),M.DNE(9,D,1,1,"img",14),M.k0s()(),M.j41(10,"div",15)(11,"label",16),M.pXf(12,2),M.k0s(),M.j41(13,"mat-form-field",17),M.nrm(14,"input",18),M.j41(15,"mat-error"),M.pXf(16,3),M.k0s()()(),M.j41(17,"div",19)(18,"div",20)(19,"label",16),M.pXf(20,4),M.k0s(),M.j41(21,"mat-form-field",17)(22,"mat-select",21),M.DNE(23,A,2,3,"mat-option",22),M.k0s(),M.j41(24,"mat-error"),M.pXf(25,5),M.k0s()()(),M.j41(26,"div",20)(27,"label",16),M.EFF(28,"Expiry Year"),M.k0s(),M.j41(29,"mat-form-field",17)(30,"mat-select",23),M.DNE(31,B,2,2,"mat-option",22),M.k0s(),M.j41(32,"mat-error"),M.pXf(33,6),M.k0s()()(),M.j41(34,"div",9)(35,"label",24),M.EFF(36,"CVV"),M.k0s(),M.j41(37,"mat-form-field",25),M.nrm(38,"input",26),M.j41(39,"mat-error"),M.pXf(40,7),M.k0s()()()()()}2&tn&&(M.Y8G("formGroup",vn.details),M.R7$(6),M.JRh(vn.card_display),M.R7$(),M.Y8G("value",null==vn.details.value.card_number?null:vn.details.value.card_number.trim()),M.R7$(2),M.Y8G("ngIf",vn.card_type),M.R7$(14),M.Y8G("ngForOf",vn.months),M.R7$(8),M.Y8G("ngForOf",vn.years))},dependencies:[e.Sq,e.bT,n.qT,n.me,n.BC,n.cb,n.tU,n.j4,n.JD,m.rl,m.TL,v.fg,O.VO,_.wT],styles:["mat-form-field[_ngcontent-%COMP%]{height:3.25rem}"]})}return It})(),J=(()=>{class It{static#e=this.\u0275fac=function(tn){return new(tn||It)};static#t=this.\u0275mod=M.$C({type:It});static#n=this.\u0275inj=M.G2t({imports:[e.MD,n.YN,n.X1,m.RG,v.fS,R.hM,h.Hl,O.Ve,S.D6]})}return It})();M.wjB(P.$,[e.bT,n.BC,n.vS,R.tx,S.LG,U],[e.Jj,e.oe,e.vh]),o(4525);var ne=o(7236),K=o(5416),k=o(6471),j=o(9115),W=o(2765),ie=o(6850),ce=o(4823),oe=o(5951),me=o(7575);let Me=(()=>{class It{static#e=this.\u0275fac=function(tn){return new(tn||It)};static#t=this.\u0275mod=M.$C({type:It});static#n=this.\u0275inj=M.G2t({})}return It})();var ge=o(6939);o(9969);let lt=(()=>{class It{static#e=this.\u0275fac=function(tn){return new(tn||It)};static#t=this.\u0275mod=M.$C({type:It});static#n=this.\u0275inj=M.G2t({imports:[_.yE,Me,ge.jc]})}return It})();var Ft=o(8617);let Sn=(()=>{class It{static#e=this.\u0275fac=function(tn){return new(tn||It)};static#t=this.\u0275mod=M.$C({type:It});static#n=this.\u0275inj=M.G2t({imports:[Ft.Pd,_.yE,_.yE]})}return It})();var Zn=o(3881),ut=o(450);o(3028),o(7434),o(3476),o(1413),o(8e3),o(4003),o(6469),o(1007),o(895);const nn=[h.Hl,K._T,R.hM,m.RG,v.fS,S.D6,me.PO,l.jL,O.Ve,k.YN,_.pZ,j.Cn,W.g7,lt,ie.RI,Sn,ce.uc,oe.Wk,ut.mV,Zn.Ez];let Tt=(()=>{class It{static#e=this.\u0275fac=function(tn){return new(tn||It)};static#t=this.\u0275mod=M.$C({type:It});static#n=this.\u0275inj=M.G2t({imports:[e.MD,g.iI.forChild([]),n.YN,n.X1,p.hI,f.cQ,b.jX,d.SG,y.lx,J,nn,p.hI,f.cQ,b.jX,d.SG,y.lx,ne.s1,J,h.Hl,K._T,R.hM,m.RG,v.fS,S.D6,me.PO,l.jL,O.Ve,k.YN,_.pZ,j.Cn,W.g7,lt,ie.RI,Sn,ce.uc,oe.Wk,ut.mV,Zn.Ez]})}return It})()},1007:(gt,re,o)=>{"use strict";o.d(re,{C:()=>w});var e=o(9707),n=o(2185),l=o(3953),h=o(2091),g=o(177),p=o(9434),f=o(9115),b=o(6600),d=o(4823);const y=["menuContainer"],R=x=>[x];function m(x,I){if(1&x&&(l.j41(0,"span",11),l.EFF(1),l.k0s()),2&x){const _=l.XpG(2).$implicit;l.R7$(),l.JRh(_.name)}}function v(x,I){if(1&x&&(l.j41(0,"a",6)(1,"app-icon",7),l.EFF(2),l.k0s(),l.j41(3,"app-icon",8),l.EFF(4),l.k0s(),l.DNE(5,m,2,1,"span",9),l.nrm(6,"div",10),l.k0s()),2&x){const _=l.XpG().$implicit,C=l.XpG();l.Y8G("name","nav-"+_.id)("routerLink",l.eq3(6,R,_.route))("matTooltip",_.name),l.R7$(2),l.JRh(_.icon),l.R7$(2),l.SpI(" ",_.icon," "),l.R7$(),l.Y8G("ngIf",!C.hide_text)}}function O(x,I){if(1&x&&(l.qex(0),l.DNE(1,v,7,8,"a",5),l.bVm()),2&x){const _=I.$implicit,C=l.XpG();l.R7$(),l.Y8G("ngIf",C.features.includes(_.id)||"home"===_.id)}}function S(x,I){if(1&x&&(l.j41(0,"div",12)(1,"button",13)(2,"app-icon"),l.EFF(3,"menu"),l.k0s()()()),2&x){l.XpG();const _=l.sdS(5);l.R7$(),l.Y8G("matMenuTriggerFor",_)}}function P(x,I){if(1&x&&(l.j41(0,"a",15)(1,"div",16)(2,"app-icon",7),l.EFF(3),l.k0s(),l.j41(4,"app-icon",8),l.EFF(5),l.k0s(),l.j41(6,"div",11),l.EFF(7),l.k0s()()()),2&x){const _=l.XpG().$implicit;l.Y8G("routerLink",_.route),l.R7$(3),l.JRh(_.icon),l.R7$(2),l.SpI(" ",_.icon," "),l.R7$(2),l.JRh(_.name)}}function M(x,I){if(1&x&&(l.qex(0),l.DNE(1,P,8,4,"a",14),l.bVm()),2&x){const _=I.$implicit,C=l.XpG();l.R7$(),l.Y8G("ngIf",C.features.includes(_.id)||"home"===_.id)}}let w=(()=>{class x extends e.Tv{get features(){return this._settings.get("app.features")||[]}get default_page(){return this._settings.get("app.default_route")||"/dashboard"}get new_features(){return!!this._settings.get("app.new_features")}get type(){const _=this._router.url;return _.includes("dashboard")?"home":_.includes("book/spaces")?"spaces":_.includes("book/desks")?"desks":_.includes("book/locker")?"lockers":_.includes("book/parking")?"parking":_.includes("explore")?"explore":_.includes("schedule")?"schedule":""}constructor(_,C,D,A){super(),this._element=_,this._settings=C,this._org=D,this._router=A,this.buildings=this._org.building_list,this.building=this._org.active_building,this.previous_size=9999,this.checking=!1,this.mobile_menu=!1,this.hide_text=!1,this.setBuilding=B=>this._org.building=B,this.routes=[{id:"home",route:this.default_page,icon:"home",name:"Home"},{id:"spaces",route:"/book/meeting",icon:"meeting_room",name:"Book Room"},{id:"desks",route:"/book/new-desks",icon:"desk",name:"Book Desk"},{id:"lockers",route:"/book/locker",icon:"lock",name:"Book Locker"},{id:"parking",route:"/book/new-parking",icon:"directions_car",name:"Book Car Space"},{id:"visitor-invite",route:"/book/visitor",icon:"person",name:"Invite Visitors"},{id:"explore",route:"/explore",icon:"place",name:"Spaces"},{id:"schedule",route:"/your-bookings",icon:"event",name:"Your Bookings"},{id:"group-events",route:"/group-events",icon:"local_activity",name:"Events"}]}ngOnInit(){this.checking=!0}ngAfterViewInit(){this.timeout("check_menu",()=>this.checkMenu())}checkMenu(){const _=this.menu.nativeElement?.offsetWidth||0,C=this._element.nativeElement.parentElement.offsetWidth;if(this.checking=!1,_>C&&!this.hide_text)return this.hide_text=!0,this.timeout("check_menu",()=>this.checkMenu(),20),this.checking=!0,void(this.previous_size=C);this.hide_text&&(this.mobile_menu=_>C),C>this.previous_size&&this.hide_text&&(this.hide_text=!1,this.timeout("check_menu",()=>this.checkMenu(),20),this.checking=!0),this.previous_size=C}static#e=this.\u0275fac=function(C){return new(C||x)(l.rXU(l.aKT),l.rXU(e.h$),l.rXU(n.yb),l.rXU(h.Ix))};static#t=this.\u0275cmp=l.VBU({type:x,selectors:[["top-menu"]],viewQuery:function(C,D){if(1&C&&l.GBs(y,5),2&C){let A;l.mGM(A=l.lsd())&&(D.menu=A.first)}},features:[l.Vt3],decls:7,vars:7,consts:[["menuContainer",""],["menu","matMenu"],["menu","",1,"flex","items-center","justify-center","h-full","w-full","overflow-hidden","text-base-content","min-w-full",3,"resize"],[4,"ngFor","ngForOf"],["class","absolute inset-y-0 left-0 -right-16 flex items-center justify-end",4,"ngIf"],["matRipple","","class","flex items-center justify-center space-x-2 relative px-8","routerLinkActive","text-secondary active","matTooltipPosition","below",3,"name","routerLink","matTooltip",4,"ngIf"],["matRipple","","routerLinkActive","text-secondary active","matTooltipPosition","below",1,"flex","items-center","justify-center","space-x-2","relative","px-8",3,"name","routerLink","matTooltip"],["filled","",1,"text-xl"],["outline","","className","material-icons-outlined",1,"text-xl","!m-0"],["class","truncate",4,"ngIf"],["bar","",1,"absolute","bottom-0","inset-x-0","h-0.5","bg-secondary"],[1,"truncate"],[1,"absolute","inset-y-0","left-0","-right-16","flex","items-center","justify-end"],["icon","","matRipple","",3,"matMenuTriggerFor"],["mat-menu-item","","routerLinkActive","text-secondary active",3,"routerLink",4,"ngIf"],["mat-menu-item","","routerLinkActive","text-secondary active",3,"routerLink"],[1,"flex","items-center","space-x-2"]],template:function(C,D){if(1&C){const A=l.RV6();l.j41(0,"div",2,0),l.bIt("resize",function(){return l.eBV(A),l.Njj(D.checkMenu())},!1,l.tSv),l.DNE(2,O,2,1,"ng-container",3),l.k0s(),l.DNE(3,S,4,1,"div",4),l.j41(4,"mat-menu",null,1),l.DNE(6,M,2,1,"ng-container",3),l.k0s()}2&C&&(l.AVh("opacity-0",D.mobile_menu||D.checking)("!h-0",D.mobile_menu),l.R7$(2),l.Y8G("ngForOf",D.routes),l.R7$(),l.Y8G("ngIf",D.mobile_menu),l.R7$(3),l.Y8G("ngForOf",D.routes))},dependencies:[g.Sq,g.bT,h.Wk,h.wQ,p.R,f.kk,f.fb,f.Cp,b.r6,d.oV],styles:["[menu][_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{height:3.5rem;flex-shrink:1}[bar][_ngcontent-%COMP%]{display:none}.active[_ngcontent-%COMP%] > [bar][_ngcontent-%COMP%]{display:block}a[_ngcontent-%COMP%]:not([mat-menu-item]):not(.active){opacity:.6}a[_ngcontent-%COMP%]:not([mat-menu-item]):not(.active):hover{border-radius:.5rem;margin-top:.25rem;margin-bottom:.25rem;height:3rem;background-color:var(--b2);opacity:.4}a[_ngcontent-%COMP%]:not(.active)   [filled][_ngcontent-%COMP%], a.active[_ngcontent-%COMP%]   [outline][_ngcontent-%COMP%]{display:none}"]})}return x})()},7434:(gt,re,o)=>{"use strict";o.d(re,{G:()=>P});var e=o(9707),n=o(4351),l=o(3953),h=o(177),g=o(2091),p=o(9434),f=o(2238),b=o(6600),d=o(3028),y=o(1007);const R=()=>["/-"];function m(M,w){if(1&M&&l.nrm(0,"img",8),2&M){const x=l.XpG();l.AVh("hidden",x.title),l.Y8G("src",x.logo.src,l.B4B)}}function v(M,w){if(1&M&&(l.j41(0,"span"),l.EFF(1),l.k0s()),2&M){const x=l.XpG();l.R7$(),l.JRh(x.title)}}function O(M,w){1&M&&l.nrm(0,"global-search")}const S=[];let P=(()=>{class M{get logo(){return"dark"===this._settings.get("theme")?this._settings.get("app.logo_dark"):this._settings.get("app.logo_light")}get title(){return this._settings.value("page_title")}get search(){return!1!==this._settings.get("app.general.search")}get new_features(){return!!this._settings.get("app.new_features")}get user(){return(0,e.Ny)()}get features(){return this._settings.get("app.features")||S}constructor(x){this._settings=x,this.user_controls=n.NV}static#e=this.\u0275fac=function(I){return new(I||M)(l.rXU(e.h$))};static#t=this.\u0275cmp=l.VBU({type:M,selectors:[["topbar"]],decls:11,vars:6,consts:[["topbar","",1,"flex","items-center","justify-between","h-[3.5rem]","bg-base-100","border-b","border-base-200","z-50","shadow","relative"],["name","nav-logo",1,"p-2","h-full","flex","items-center","w-48",3,"routerLink"],["class","h-10 sm:block",3,"hidden","src",4,"ngIf"],[4,"ngIf"],[1,"flex-1","items-center","justify-center","h-full","w-1/2","hidden","sm:flex","relative"],[1,"w-48","flex","items-center","justify-end"],["icon","","matRipple","","avatar","","name","user-controls","customTooltip","",1,"h-10","w-10","rounded-full","mr-2","bg-base-200","flex","items-center","justify-center",3,"content"],[1,"text-2xl"],[1,"h-10","sm:block",3,"src"]],template:function(I,_){1&I&&(l.j41(0,"div",0)(1,"a",1),l.DNE(2,m,1,3,"img",2)(3,v,2,1,"span",3),l.k0s(),l.j41(4,"div",4),l.nrm(5,"top-menu"),l.k0s(),l.j41(6,"div",5),l.DNE(7,O,1,0,"global-search",3),l.j41(8,"button",6)(9,"app-icon",7),l.EFF(10,"person"),l.k0s()()()()),2&I&&(l.R7$(),l.Y8G("routerLink",l.lJ4(5,R)),l.R7$(),l.Y8G("ngIf",_.logo),l.R7$(),l.Y8G("ngIf",_.title),l.R7$(4),l.Y8G("ngIf",_.search),l.R7$(),l.Y8G("content",_.user_controls))},dependencies:[h.bT,g.Wk,p.R,f.I,b.r6,d.f,y.C],styles:[".flex-3[_ngcontent-%COMP%]{flex:3 3 0%}"]})}return M})()},6469:(gt,re,o)=>{"use strict";o.d(re,{R:()=>m});var e=o(3953),n=o(2659),l=o(9707),h=o(7374),p=o(177);const f=["block"],b=["time"];function d(v,O){if(1&v&&(e.j41(0,"div",14),e.EFF(1),e.k0s()),2&v){const S=e.XpG().$implicit;e.R7$(),e.JRh(S.display)}}function y(v,O){if(1&v&&(e.j41(0,"div",12),e.DNE(1,d,2,1,"div",13),e.k0s()),2&v){const S=O.$implicit;e.R7$(),e.Y8G("ngIf",S.hour)}}function R(v,O){if(1&v&&e.nrm(0,"div",12),2&v){const S=O.$implicit;e.AVh("shown-block",S.show)("hour",S.hour)("disabled",S.disabled)("unavailable",S.unavailable)}}let m=(()=>{class v extends l.Tv{constructor(){super(...arguments),this.offset={x:0,y:0},this.dateChange=new e.bkB,this.durationChange=new e.bkB,this.groupsChange=new e.bkB}ngOnInit(){this.generateBlocks()}ngOnChanges(S){S.groups&&this.checkInUseBlocks(),(S.date||S.duration)&&this.updateStartEnd()}get timeline_start(){return h(this.date).startOf("d")}get timeline_end(){return h(this.date).endOf("d")}generateBlocks(){this.blocks=[];const S=this.timeline_start,P=this.timeline_end,M=h();for(let w=S;w.isBefore(P,"m");w=w.add(5,"m"))this.blocks.push({id:w.format("HH:mm"),display:w.format("HH:mm"),hour:0===w.minute(),show:w.minute()%30==0,disabled:w.isBefore(M,"m")});this.checkInUseBlocks()}get display(){const S=h(this.date),P=h(this.date).add(this.duration,"m"),M=(0,n.a)({minutes:this.duration});return`${S.format("hh:mm A")} - ${P.format("hh:mm A")} (${M})`}move(S){this.timeout("move",()=>{if(this.active_move&&this.block){const P={x:S.touches&&S.touches.length>0&&S.touches[0].clientX||S.clientX,y:S.touches&&S.touches.length>0&&S.touches[0].clientY||S.clientY},M="bottom"===this.active_move?{x:0,y:0}:this.offset,w=this.block.nativeElement.getBoundingClientRect(),_=(P.y-M.y-w.top)/w.height,C=this.timeline_start.hour()+this.timeline_start.minute()/60,A=this.timeline_end.hour()+this.timeline_end.minute()/60-C,B=15,F=Math.ceil((A*_+C)*(60/B))/(60/B);if("bottom"===this.active_move){let $=h(this.date);const U=h(this.date).hour(Math.floor(F)).minute(Math.floor(60*F%60));if(U.isSame($,"m")||U.isBefore($,"m"))$=h(U).add(-this.duration,"m"),this.date=$.valueOf();else{const G=Math.floor(U.diff($,"m"));this.duration=Math.max(60,G||B),this.durationChange.emit(this.duration)}}else if("top"===this.active_move){const $=h(this.date).hour(Math.floor(F)).minute(Math.floor(60*F%60));this.date=$.valueOf()}this.dateChange.emit(this.date),this.updateStartEnd()}},10)}setMove(S){this.active_move=S}checkInUseBlocks(){if(!this.blocks||!this.groups)return;const S=this.blocks.map(P=>({...P,unavailable:!1}));for(const P of this.groups)for(const M of P.events||[]){const w=this.hoursToDate(M.start),x=h(w).add(M.duration,"m");for(let I=h(w);I.isBefore(x);I=I.add(5,"m")){const _=I.format("HH:mm"),C=S.find(D=>D.id===_);C&&(C.unavailable=!0)}}this.blocks=S}hoursToDate(S){let P=h().startOf("d").hour(Math.floor(S)).minute(Math.floor(60*S%60));return P=P.minute(5*Math.floor(P.minute()/5)),P}updateStartEnd(){this.updatePeriod()}resetMove(){this.active_move=""}updatePeriod(){const S=h(this.date).startOf("m"),P=this.timeline_end.diff(this.timeline_start,"m")/60;this.active_start=S.diff(this.timeline_start,"m")/60/P,this.active_length=this.duration/60/P}static#e=this.\u0275fac=(()=>{let S;return function(M){return(S||(S=e.xGo(v)))(M||v)}})();static#t=this.\u0275cmp=e.VBU({type:v,selectors:[["vertical-timeline"]],viewQuery:function(P,M){if(1&P&&(e.GBs(f,5),e.GBs(b,5)),2&P){let w;e.mGM(w=e.lsd())&&(M.block=w.first),e.mGM(w=e.lsd())&&(M.time=w.first)}},inputs:{date:"date",duration:"duration",groups:"groups"},outputs:{dateChange:"dateChange",durationChange:"durationChange",groupsChange:"groupsChange"},features:[e.Vt3,e.OA$],decls:13,vars:7,consts:[["block",""],["time",""],[1,"timeline",3,"mouseup","touchend"],[1,"content",3,"mousemove","touchmove"],[1,"timeblocks"],["class","blk",4,"ngFor","ngForOf"],[1,"eventblocks"],["class","blk",3,"shown-block","hour","disabled","unavailable",4,"ngFor","ngForOf"],[1,"selected-time"],[1,"inner",3,"mousedown","touchstart"],[1,"handle","top",3,"mousedown","touchstart"],[1,"handle","bottom",3,"mousedown","touchstart"],[1,"blk"],["class","text",4,"ngIf"],[1,"text"]],template:function(P,M){if(1&P){const w=e.RV6();e.j41(0,"div",2),e.bIt("mouseup",function(){return e.eBV(w),e.Njj(M.resetMove())},!1,e.tSv)("touchend",function(){return e.eBV(w),e.Njj(M.resetMove())},!1,e.tSv),e.j41(1,"div",3),e.bIt("mousemove",function(I){return e.eBV(w),e.Njj(M.move(I))})("touchmove",function(I){return e.eBV(w),e.Njj(M.move(I))}),e.j41(2,"div",4),e.DNE(3,y,2,1,"div",5),e.k0s(),e.j41(4,"div",6,0),e.DNE(6,R,1,8,"div",7),e.j41(7,"div",8,1)(9,"div",9),e.bIt("mousedown",function(){return e.eBV(w),e.Njj(M.setMove("top"))})("touchstart",function(){return e.eBV(w),e.Njj(M.setMove("top"))}),e.EFF(10),e.k0s(),e.j41(11,"div",10),e.bIt("mousedown",function(){return e.eBV(w),e.Njj(M.setMove("top"))})("touchstart",function(){return e.eBV(w),e.Njj(M.setMove("top"))}),e.k0s(),e.j41(12,"div",11),e.bIt("mousedown",function(){return e.eBV(w),e.Njj(M.setMove("bottom"))})("touchstart",function(){return e.eBV(w),e.Njj(M.setMove("bottom"))}),e.k0s()()()()()}2&P&&(e.R7$(3),e.Y8G("ngForOf",M.blocks),e.R7$(3),e.Y8G("ngForOf",M.blocks),e.R7$(),e.xc7("top",100*M.active_start+"%")("height",100*M.active_length+"%"),e.R7$(3),e.SpI(" ",M.display," "))},dependencies:[p.Sq,p.bT],styles:[".timeline[_ngcontent-%COMP%]{position:relative;width:100%;padding:1em;display:flex;align-items:center;justify-content:center;overflow:auto}.timeline[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;margin:auto;width:100%}.timeblocks[_ngcontent-%COMP%], .eventblocks[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.timeblocks[_ngcontent-%COMP%]{width:3em}.eventblocks[_ngcontent-%COMP%]{position:relative;flex:1;border:1px solid #ccc;width:50%;overflow:hidden}.eventblocks[_ngcontent-%COMP%]   .blk[_ngcontent-%COMP%]{position:relative}.blk[_ngcontent-%COMP%]{position:relative;min-height:.3em;flex:1;width:100%}.blk.shown-block[_ngcontent-%COMP%]{border-top:1px dashed #ccc}.blk.shown-block.hour[_ngcontent-%COMP%]{border-top:1px solid #ccc}.blk.shown-block[_ngcontent-%COMP%]:first-child{border:none}.blk[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:absolute;top:0;right:.5em;transform:translateY(-50%)}.blk.unavailable[_ngcontent-%COMP%]{background-color:rgba(var(--error),.1);pointer-events:none}.blk.disabled[_ngcontent-%COMP%]{background-color:#0000000d;pointer-events:none}.selected-time[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;border:2px solid var(--s);background-color:var(--s);color:#fff;z-index:100;touch-action:none;transition:top .1s,height .1s}.selected-time[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{height:100%;width:100%;padding:.25em 1em}.selected-time[_ngcontent-%COMP%]   .handle[_ngcontent-%COMP%]{position:absolute;height:1em;width:1em;border-radius:100%;background-color:var(--s);box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f}.selected-time[_ngcontent-%COMP%]   .handle.top[_ngcontent-%COMP%]{top:0;right:1em;transform:translateY(-50%)}.selected-time[_ngcontent-%COMP%]   .handle.bottom[_ngcontent-%COMP%]{bottom:0;left:1em;transform:translateY(50%)}"]})}return v})()},5164:(gt,re,o)=>{"use strict";var e=o(345),n=o(3953),l=o(9969);function g(a){return new n.wOt(3e3,!1)}function Oe(a){switch(a.length){case 0:return new l.sf;case 1:return a[0];default:return new l.ui(a)}}function we(a,r,c=new Map,T=new Map){const N=[],X=[];let se=-1,ye=null;if(r.forEach(ke=>{const rt=ke.get("offset"),St=rt==se,Rt=St&&ye||new Map;ke.forEach((Jt,an)=>{let sn=an,gn=Jt;if("offset"!==an)switch(sn=a.normalizePropertyName(sn,N),gn){case l.FX:gn=c.get(an);break;case l.kp:gn=T.get(an);break;default:gn=a.normalizeStyleValue(an,sn,gn,N)}Rt.set(sn,gn)}),St||X.push(Rt),ye=Rt,se=rt}),N.length)throw function G(a){return new n.wOt(3502,!1)}();return X}function We(a,r,c,T){switch(r){case"start":a.onStart(()=>T(c&&Xe(c,"start",a)));break;case"done":a.onDone(()=>T(c&&Xe(c,"done",a)));break;case"destroy":a.onDestroy(()=>T(c&&Xe(c,"destroy",a)))}}function Xe(a,r,c){const X=Me(a.element,a.triggerName,a.fromState,a.toState,r||a.phaseName,c.totalTime??a.totalTime,!!c.disabled),se=a._data;return null!=se&&(X._data=se),X}function Me(a,r,c,T,N="",X=0,se){return{element:a,triggerName:r,fromState:c,toState:T,phaseName:N,totalTime:X,disabled:!!se}}function ge(a,r,c){let T=a.get(r);return T||a.set(r,T=c),T}function pe(a){const r=a.indexOf(":");return[a.substring(1,r),a.slice(r+1)]}const Ee=typeof document>"u"?null:document.documentElement;function Ge(a){const r=a.parentNode||a.host||null;return r===Ee?null:r}let $e=null,tt=!1;function Le(a,r){for(;r;){if(r===a)return!0;r=Ge(r)}return!1}function De(a,r,c){if(c)return Array.from(a.querySelectorAll(r));const T=a.querySelector(r);return T?[T]:[]}let ue=(()=>{class a{validateStyleProperty(c){return function xt(a){$e||($e=function yt(){return typeof document<"u"?document.body:null}()||{},tt=!!$e.style&&"WebkitAppearance"in $e.style);let r=!0;return $e.style&&!function Qe(a){return"ebkit"==a.substring(1,6)}(a)&&(r=a in $e.style,!r&&tt&&(r="Webkit"+a.charAt(0).toUpperCase()+a.slice(1)in $e.style)),r}(c)}containsElement(c,T){return Le(c,T)}getParentElement(c){return Ge(c)}query(c,T,N){return De(c,T,N)}computeStyle(c,T,N){return N||""}animate(c,T,N,X,se,ye=[],ke){return new l.sf(N,X)}static#e=this.\u0275fac=function(T){return new(T||a)};static#t=this.\u0275prov=n.jDH({token:a,factory:a.\u0275fac})}return a})();class Q{static#e=this.NOOP=new ue}class Te{}const Nt=1e3,wt="ng-enter",Zt="ng-leave",ft="ng-trigger",lt=".ng-trigger",Ft="ng-animating",Ct=".ng-animating";function Wt(a){if("number"==typeof a)return a;const r=a.match(/^(-?[\.\d]+)(m?s)/);return!r||r.length<2?0:en(parseFloat(r[1]),r[2])}function en(a,r){return"s"===r?a*Nt:a}function on(a,r,c){return a.hasOwnProperty("duration")?a:function _n(a,r,c){let N,X=0,se="";if("string"==typeof a){const ye=a.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ye)return r.push(g()),{duration:0,delay:0,easing:""};N=en(parseFloat(ye[1]),ye[2]);const ke=ye[3];null!=ke&&(X=en(parseFloat(ke),ye[4]));const rt=ye[5];rt&&(se=rt)}else N=a;if(!c){let ye=!1,ke=r.length;N<0&&(r.push(function p(){return new n.wOt(3100,!1)}()),ye=!0),X<0&&(r.push(function f(){return new n.wOt(3101,!1)}()),ye=!0),ye&&r.splice(ke,0,g())}return{duration:N,delay:X,easing:se}}(a,r,c)}function ut(a,r,c){r.forEach((T,N)=>{const X=Pe(N);c&&!c.has(N)&&c.set(N,a.style[X]),a.style[X]=T})}function be(a,r){r.forEach((c,T)=>{const N=Pe(T);a.style[N]=""})}function Fe(a){return Array.isArray(a)?1==a.length?a[0]:(0,l.K2)(a):a}const ve=new RegExp("{{\\s*(.+?)\\s*}}","g");function ze(a){let r=[];if("string"==typeof a){let c;for(;c=ve.exec(a);)r.push(c[1]);ve.lastIndex=0}return r}function vt(a,r,c){const T=`${a}`,N=T.replace(ve,(X,se)=>{let ye=r[se];return null==ye&&(c.push(function d(a){return new n.wOt(3003,!1)}()),ye=""),ye.toString()});return N==T?a:N}const Ue=/-+([a-z0-9])/g;function Pe(a){return a.replace(Ue,(...r)=>r[1].toUpperCase())}function nt(a,r,c){switch(r.type){case l.If.Trigger:return a.visitTrigger(r,c);case l.If.State:return a.visitState(r,c);case l.If.Transition:return a.visitTransition(r,c);case l.If.Sequence:return a.visitSequence(r,c);case l.If.Group:return a.visitGroup(r,c);case l.If.Animate:return a.visitAnimate(r,c);case l.If.Keyframes:return a.visitKeyframes(r,c);case l.If.Style:return a.visitStyle(r,c);case l.If.Reference:return a.visitReference(r,c);case l.If.AnimateChild:return a.visitAnimateChild(r,c);case l.If.AnimateRef:return a.visitAnimateRef(r,c);case l.If.Query:return a.visitQuery(r,c);case l.If.Stagger:return a.visitStagger(r,c);default:throw function y(a){return new n.wOt(3004,!1)}()}}function Lt(a,r){return window.getComputedStyle(a)[r]}const jt=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Dt extends Te{normalizePropertyName(r,c){return Pe(r)}normalizeStyleValue(r,c,T,N){let X="";const se=T.toString().trim();if(jt.has(c)&&0!==T&&"0"!==T)if("number"==typeof T)X="px";else{const ye=T.match(/^[+-]?[\d\.]+([a-z]*)$/);ye&&0==ye[1].length&&N.push(function R(a,r){return new n.wOt(3005,!1)}())}return se+X}}const vn="*";const bn=new Set(["true","1"]),Jn=new Set(["false","0"]);function Cn(a,r){const c=bn.has(a)||Jn.has(a),T=bn.has(r)||Jn.has(r);return(N,X)=>{let se=a==vn||a==N,ye=r==vn||r==X;return!se&&c&&"boolean"==typeof N&&(se=N?bn.has(a):Jn.has(a)),!ye&&T&&"boolean"==typeof X&&(ye=X?bn.has(r):Jn.has(r)),se&&ye}}const Xn=new RegExp("s*:selfs*,?","g");function to(a,r,c,T){return new Vn(a).build(r,c,T)}class Vn{constructor(r){this._driver=r}build(r,c,T){const N=new ht(c);return this._resetContextStyleTimingState(N),nt(this,Fe(r),N)}_resetContextStyleTimingState(r){r.currentQuerySelector="",r.collectedStyles=new Map,r.collectedStyles.set("",new Map),r.currentTime=0}visitTrigger(r,c){let T=c.queryCount=0,N=c.depCount=0;const X=[],se=[];return"@"==r.name.charAt(0)&&c.errors.push(function m(){return new n.wOt(3006,!1)}()),r.definitions.forEach(ye=>{if(this._resetContextStyleTimingState(c),ye.type==l.If.State){const ke=ye,rt=ke.name;rt.toString().split(/\s*,\s*/).forEach(St=>{ke.name=St,X.push(this.visitState(ke,c))}),ke.name=rt}else if(ye.type==l.If.Transition){const ke=this.visitTransition(ye,c);T+=ke.queryCount,N+=ke.depCount,se.push(ke)}else c.errors.push(function v(){return new n.wOt(3007,!1)}())}),{type:l.If.Trigger,name:r.name,states:X,transitions:se,queryCount:T,depCount:N,options:null}}visitState(r,c){const T=this.visitStyle(r.styles,c),N=r.options&&r.options.params||null;if(T.containsDynamicStyles){const X=new Set,se=N||{};T.styles.forEach(ye=>{ye instanceof Map&&ye.forEach(ke=>{ze(ke).forEach(rt=>{se.hasOwnProperty(rt)||X.add(rt)})})}),X.size&&c.errors.push(function O(a,r){return new n.wOt(3008,!1)}(0,X.values()))}return{type:l.If.State,name:r.name,style:T,options:N?{params:N}:null}}visitTransition(r,c){c.queryCount=0,c.depCount=0;const T=nt(this,Fe(r.animation),c),N=function wn(a,r){const c=[];return"string"==typeof a?a.split(/\s*,\s*/).forEach(T=>function ti(a,r,c){if(":"==a[0]){const ke=function Qn(a,r){switch(a){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(c,T)=>parseFloat(T)>parseFloat(c);case":decrement":return(c,T)=>parseFloat(T)<parseFloat(c);default:return r.push(function B(a){return new n.wOt(3016,!1)}()),"* => *"}}(a,c);if("function"==typeof ke)return void r.push(ke);a=ke}const T=a.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==T||T.length<4)return c.push(function A(a){return new n.wOt(3015,!1)}()),r;const N=T[1],X=T[2],se=T[3];r.push(Cn(N,se)),"<"==X[0]&&(N!=vn||se!=vn)&&r.push(Cn(se,N))}(T,c,r)):c.push(a),c}(r.expr,c.errors);return{type:l.If.Transition,matchers:N,animation:T,queryCount:c.queryCount,depCount:c.depCount,options:xe(r.options)}}visitSequence(r,c){return{type:l.If.Sequence,steps:r.steps.map(T=>nt(this,T,c)),options:xe(r.options)}}visitGroup(r,c){const T=c.currentTime;let N=0;const X=r.steps.map(se=>{c.currentTime=T;const ye=nt(this,se,c);return N=Math.max(N,c.currentTime),ye});return c.currentTime=N,{type:l.If.Group,steps:X,options:xe(r.options)}}visitAnimate(r,c){const T=function kt(a,r){if(a.hasOwnProperty("duration"))return a;if("number"==typeof a)return Mt(on(a,r).duration,0,"");const c=a;if(c.split(/\s+/).some(X=>"{"==X.charAt(0)&&"{"==X.charAt(1))){const X=Mt(0,0,"");return X.dynamic=!0,X.strValue=c,X}const N=on(c,r);return Mt(N.duration,N.delay,N.easing)}(r.timings,c.errors);c.currentAnimateTimings=T;let N,X=r.styles?r.styles:(0,l.iF)({});if(X.type==l.If.Keyframes)N=this.visitKeyframes(X,c);else{let se=r.styles,ye=!1;if(!se){ye=!0;const rt={};T.easing&&(rt.easing=T.easing),se=(0,l.iF)(rt)}c.currentTime+=T.duration+T.delay;const ke=this.visitStyle(se,c);ke.isEmptyStep=ye,N=ke}return c.currentAnimateTimings=null,{type:l.If.Animate,timings:T,style:N,options:null}}visitStyle(r,c){const T=this._makeStyleAst(r,c);return this._validateStyleAst(T,c),T}_makeStyleAst(r,c){const T=[],N=Array.isArray(r.styles)?r.styles:[r.styles];for(let ye of N)"string"==typeof ye?ye===l.kp?T.push(ye):c.errors.push(new n.wOt(3002,!1)):T.push(new Map(Object.entries(ye)));let X=!1,se=null;return T.forEach(ye=>{if(ye instanceof Map&&(ye.has("easing")&&(se=ye.get("easing"),ye.delete("easing")),!X))for(let ke of ye.values())if(ke.toString().indexOf("{{")>=0){X=!0;break}}),{type:l.If.Style,styles:T,easing:se,offset:r.offset,containsDynamicStyles:X,options:null}}_validateStyleAst(r,c){const T=c.currentAnimateTimings;let N=c.currentTime,X=c.currentTime;T&&X>0&&(X-=T.duration+T.delay),r.styles.forEach(se=>{"string"!=typeof se&&se.forEach((ye,ke)=>{const rt=c.collectedStyles.get(c.currentQuerySelector),St=rt.get(ke);let Rt=!0;St&&(X!=N&&X>=St.startTime&&N<=St.endTime&&(c.errors.push(function M(a,r,c,T,N){return new n.wOt(3010,!1)}()),Rt=!1),X=St.startTime),Rt&&rt.set(ke,{startTime:X,endTime:N}),c.options&&function ae(a,r,c){const T=r.params||{},N=ze(a);N.length&&N.forEach(X=>{T.hasOwnProperty(X)||c.push(function b(a){return new n.wOt(3001,!1)}())})}(ye,c.options,c.errors)})})}visitKeyframes(r,c){const T={type:l.If.Keyframes,styles:[],options:null};if(!c.currentAnimateTimings)return c.errors.push(function w(){return new n.wOt(3011,!1)}()),T;let X=0;const se=[];let ye=!1,ke=!1,rt=0;const St=r.steps.map($n=>{const si=this._makeStyleAst($n,c);let gi=null!=si.offset?si.offset:function st(a){if("string"==typeof a)return null;let r=null;if(Array.isArray(a))a.forEach(c=>{if(c instanceof Map&&c.has("offset")){const T=c;r=parseFloat(T.get("offset")),T.delete("offset")}});else if(a instanceof Map&&a.has("offset")){const c=a;r=parseFloat(c.get("offset")),c.delete("offset")}return r}(si.styles),ii=0;return null!=gi&&(X++,ii=si.offset=gi),ke=ke||ii<0||ii>1,ye=ye||ii<rt,rt=ii,se.push(ii),si});ke&&c.errors.push(function x(){return new n.wOt(3012,!1)}()),ye&&c.errors.push(function I(){return new n.wOt(3200,!1)}());const Rt=r.steps.length;let Jt=0;X>0&&X<Rt?c.errors.push(function _(){return new n.wOt(3202,!1)}()):0==X&&(Jt=1/(Rt-1));const an=Rt-1,sn=c.currentTime,gn=c.currentAnimateTimings,Gn=gn.duration;return St.forEach(($n,si)=>{const gi=Jt>0?si==an?1:Jt*si:se[si],ii=gi*Gn;c.currentTime=sn+gn.delay+ii,gn.duration=ii,this._validateStyleAst($n,c),$n.offset=gi,T.styles.push($n)}),T}visitReference(r,c){return{type:l.If.Reference,animation:nt(this,Fe(r.animation),c),options:xe(r.options)}}visitAnimateChild(r,c){return c.depCount++,{type:l.If.AnimateChild,options:xe(r.options)}}visitAnimateRef(r,c){return{type:l.If.AnimateRef,animation:this.visitReference(r.animation,c),options:xe(r.options)}}visitQuery(r,c){const T=c.currentQuerySelector,N=r.options||{};c.queryCount++,c.currentQuery=r;const[X,se]=function ni(a){const r=!!a.split(/\s*,\s*/).find(c=>":self"==c);return r&&(a=a.replace(Xn,"")),a=a.replace(/@\*/g,lt).replace(/@\w+/g,c=>lt+"-"+c.slice(1)).replace(/:animating/g,Ct),[a,r]}(r.selector);c.currentQuerySelector=T.length?T+" "+X:X,ge(c.collectedStyles,c.currentQuerySelector,new Map);const ye=nt(this,Fe(r.animation),c);return c.currentQuery=null,c.currentQuerySelector=T,{type:l.If.Query,selector:X,limit:N.limit||0,optional:!!N.optional,includeSelf:se,animation:ye,originalSelector:r.selector,options:xe(r.options)}}visitStagger(r,c){c.currentQuery||c.errors.push(function C(){return new n.wOt(3013,!1)}());const T="full"===r.timings?{duration:0,delay:0,easing:"full"}:on(r.timings,c.errors,!0);return{type:l.If.Stagger,animation:nt(this,Fe(r.animation),c),timings:T,options:null}}}class ht{constructor(r){this.errors=r,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function xe(a){return a?(a={...a}).params&&(a.params=function ci(a){return a?{...a}:null}(a.params)):a={},a}function Mt(a,r,c){return{duration:a,delay:r,easing:c}}function Z(a,r,c,T,N,X,se=null,ye=!1){return{type:1,element:a,keyframes:r,preStyleProps:c,postStyleProps:T,duration:N,delay:X,totalTime:N+X,easing:se,subTimeline:ye}}class Ae{constructor(){this._map=new Map}get(r){return this._map.get(r)||[]}append(r,c){let T=this._map.get(r);T||this._map.set(r,T=[]),T.push(...c)}has(r){return this._map.has(r)}clear(){this._map.clear()}}const Qt=new RegExp(":enter","g"),ui=new RegExp(":leave","g");function vi(a,r,c,T,N,X=new Map,se=new Map,ye,ke,rt=[]){return(new zi).buildKeyframes(a,r,c,T,N,X,se,ye,ke,rt)}class zi{buildKeyframes(r,c,T,N,X,se,ye,ke,rt,St=[]){rt=rt||new Ae;const Rt=new xi(r,c,rt,N,X,St,[]);Rt.options=ke;const Jt=ke.delay?Wt(ke.delay):0;Rt.currentTimeline.delayNextStep(Jt),Rt.currentTimeline.setStyles([se],null,Rt.errors,ke),nt(this,T,Rt);const an=Rt.timelines.filter(sn=>sn.containsAnimation());if(an.length&&ye.size){let sn;for(let gn=an.length-1;gn>=0;gn--){const Gn=an[gn];if(Gn.element===c){sn=Gn;break}}sn&&!sn.allowOnlyTimelineStyles()&&sn.setStyles([ye],null,Rt.errors,ke)}return an.length?an.map(sn=>sn.buildKeyframes()):[Z(c,[],[],[],0,Jt,"",!1)]}visitTrigger(r,c){}visitState(r,c){}visitTransition(r,c){}visitAnimateChild(r,c){const T=c.subInstructions.get(c.element);if(T){const N=c.createSubContext(r.options),X=c.currentTimeline.currentTime,se=this._visitSubInstructions(T,N,N.options);X!=se&&c.transformIntoNewTimeline(se)}c.previousNode=r}visitAnimateRef(r,c){const T=c.createSubContext(r.options);T.transformIntoNewTimeline(),this._applyAnimationRefDelays([r.options,r.animation.options],c,T),this.visitReference(r.animation,T),c.transformIntoNewTimeline(T.currentTimeline.currentTime),c.previousNode=r}_applyAnimationRefDelays(r,c,T){for(const N of r){const X=N?.delay;if(X){const se="number"==typeof X?X:Wt(vt(X,N?.params??{},c.errors));T.delayNextStep(se)}}}_visitSubInstructions(r,c,T){let X=c.currentTimeline.currentTime;const se=null!=T.duration?Wt(T.duration):null,ye=null!=T.delay?Wt(T.delay):null;return 0!==se&&r.forEach(ke=>{const rt=c.appendInstructionToTimeline(ke,se,ye);X=Math.max(X,rt.duration+rt.delay)}),X}visitReference(r,c){c.updateOptions(r.options,!0),nt(this,r.animation,c),c.previousNode=r}visitSequence(r,c){const T=c.subContextCount;let N=c;const X=r.options;if(X&&(X.params||X.delay)&&(N=c.createSubContext(X),N.transformIntoNewTimeline(),null!=X.delay)){N.previousNode.type==l.If.Style&&(N.currentTimeline.snapshotCurrentStyles(),N.previousNode=Bi);const se=Wt(X.delay);N.delayNextStep(se)}r.steps.length&&(r.steps.forEach(se=>nt(this,se,N)),N.currentTimeline.applyStylesToKeyframe(),N.subContextCount>T&&N.transformIntoNewTimeline()),c.previousNode=r}visitGroup(r,c){const T=[];let N=c.currentTimeline.currentTime;const X=r.options&&r.options.delay?Wt(r.options.delay):0;r.steps.forEach(se=>{const ye=c.createSubContext(r.options);X&&ye.delayNextStep(X),nt(this,se,ye),N=Math.max(N,ye.currentTimeline.currentTime),T.push(ye.currentTimeline)}),T.forEach(se=>c.currentTimeline.mergeTimelineCollectedStyles(se)),c.transformIntoNewTimeline(N),c.previousNode=r}_visitTiming(r,c){if(r.dynamic){const T=r.strValue;return on(c.params?vt(T,c.params,c.errors):T,c.errors)}return{duration:r.duration,delay:r.delay,easing:r.easing}}visitAnimate(r,c){const T=c.currentAnimateTimings=this._visitTiming(r.timings,c),N=c.currentTimeline;T.delay&&(c.incrementTime(T.delay),N.snapshotCurrentStyles());const X=r.style;X.type==l.If.Keyframes?this.visitKeyframes(X,c):(c.incrementTime(T.duration),this.visitStyle(X,c),N.applyStylesToKeyframe()),c.currentAnimateTimings=null,c.previousNode=r}visitStyle(r,c){const T=c.currentTimeline,N=c.currentAnimateTimings;!N&&T.hasCurrentStyleProperties()&&T.forwardFrame();const X=N&&N.easing||r.easing;r.isEmptyStep?T.applyEmptyStep(X):T.setStyles(r.styles,X,c.errors,c.options),c.previousNode=r}visitKeyframes(r,c){const T=c.currentAnimateTimings,N=c.currentTimeline.duration,X=T.duration,ye=c.createSubContext().currentTimeline;ye.easing=T.easing,r.styles.forEach(ke=>{ye.forwardTime((ke.offset||0)*X),ye.setStyles(ke.styles,ke.easing,c.errors,c.options),ye.applyStylesToKeyframe()}),c.currentTimeline.mergeTimelineCollectedStyles(ye),c.transformIntoNewTimeline(N+X),c.previousNode=r}visitQuery(r,c){const T=c.currentTimeline.currentTime,N=r.options||{},X=N.delay?Wt(N.delay):0;X&&(c.previousNode.type===l.If.Style||0==T&&c.currentTimeline.hasCurrentStyleProperties())&&(c.currentTimeline.snapshotCurrentStyles(),c.previousNode=Bi);let se=T;const ye=c.invokeQuery(r.selector,r.originalSelector,r.limit,r.includeSelf,!!N.optional,c.errors);c.currentQueryTotal=ye.length;let ke=null;ye.forEach((rt,St)=>{c.currentQueryIndex=St;const Rt=c.createSubContext(r.options,rt);X&&Rt.delayNextStep(X),rt===c.element&&(ke=Rt.currentTimeline),nt(this,r.animation,Rt),Rt.currentTimeline.applyStylesToKeyframe(),se=Math.max(se,Rt.currentTimeline.currentTime)}),c.currentQueryIndex=0,c.currentQueryTotal=0,c.transformIntoNewTimeline(se),ke&&(c.currentTimeline.mergeTimelineCollectedStyles(ke),c.currentTimeline.snapshotCurrentStyles()),c.previousNode=r}visitStagger(r,c){const T=c.parentContext,N=c.currentTimeline,X=r.timings,se=Math.abs(X.duration),ye=se*(c.currentQueryTotal-1);let ke=se*c.currentQueryIndex;switch(X.duration<0?"reverse":X.easing){case"reverse":ke=ye-ke;break;case"full":ke=T.currentStaggerTime}const St=c.currentTimeline;ke&&St.delayNextStep(ke);const Rt=St.currentTime;nt(this,r.animation,c),c.previousNode=r,T.currentStaggerTime=N.currentTime-Rt+(N.startTime-T.currentTimeline.startTime)}}const Bi={};class xi{constructor(r,c,T,N,X,se,ye,ke){this._driver=r,this.element=c,this.subInstructions=T,this._enterClassName=N,this._leaveClassName=X,this.errors=se,this.timelines=ye,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Bi,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ke||new Hi(this._driver,c,0),ye.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(r,c){if(!r)return;const T=r;let N=this.options;null!=T.duration&&(N.duration=Wt(T.duration)),null!=T.delay&&(N.delay=Wt(T.delay));const X=T.params;if(X){let se=N.params;se||(se=this.options.params={}),Object.keys(X).forEach(ye=>{(!c||!se.hasOwnProperty(ye))&&(se[ye]=vt(X[ye],se,this.errors))})}}_copyOptions(){const r={};if(this.options){const c=this.options.params;if(c){const T=r.params={};Object.keys(c).forEach(N=>{T[N]=c[N]})}}return r}createSubContext(r=null,c,T){const N=c||this.element,X=new xi(this._driver,N,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(N,T||0));return X.previousNode=this.previousNode,X.currentAnimateTimings=this.currentAnimateTimings,X.options=this._copyOptions(),X.updateOptions(r),X.currentQueryIndex=this.currentQueryIndex,X.currentQueryTotal=this.currentQueryTotal,X.parentContext=this,this.subContextCount++,X}transformIntoNewTimeline(r){return this.previousNode=Bi,this.currentTimeline=this.currentTimeline.fork(this.element,r),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(r,c,T){const N={duration:c??r.duration,delay:this.currentTimeline.currentTime+(T??0)+r.delay,easing:""},X=new Kn(this._driver,r.element,r.keyframes,r.preStyleProps,r.postStyleProps,N,r.stretchStartingKeyframe);return this.timelines.push(X),N}incrementTime(r){this.currentTimeline.forwardTime(this.currentTimeline.duration+r)}delayNextStep(r){r>0&&this.currentTimeline.delayNextStep(r)}invokeQuery(r,c,T,N,X,se){let ye=[];if(N&&ye.push(this.element),r.length>0){r=(r=r.replace(Qt,"."+this._enterClassName)).replace(ui,"."+this._leaveClassName);let rt=this._driver.query(this.element,r,1!=T);0!==T&&(rt=T<0?rt.slice(rt.length+T,rt.length):rt.slice(0,T)),ye.push(...rt)}return!X&&0==ye.length&&se.push(function D(a){return new n.wOt(3014,!1)}()),ye}}class Hi{constructor(r,c,T,N){this._driver=r,this.element=c,this.startTime=T,this._elementTimelineStylesLookup=N,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(c),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(c,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(r){const c=1===this._keyframes.size&&this._pendingStyles.size;this.duration||c?(this.forwardTime(this.currentTime+r),c&&this.snapshotCurrentStyles()):this.startTime+=r}fork(r,c){return this.applyStylesToKeyframe(),new Hi(this._driver,r,c||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(r){this.applyStylesToKeyframe(),this.duration=r,this._loadKeyframe()}_updateStyle(r,c){this._localTimelineStyles.set(r,c),this._globalTimelineStyles.set(r,c),this._styleSummary.set(r,{time:this.currentTime,value:c})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(r){r&&this._previousKeyframe.set("easing",r);for(let[c,T]of this._globalTimelineStyles)this._backFill.set(c,T||l.kp),this._currentKeyframe.set(c,l.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(r,c,T,N){c&&this._previousKeyframe.set("easing",c);const X=N&&N.params||{},se=function Pi(a,r){const c=new Map;let T;return a.forEach(N=>{if("*"===N){T??=r.keys();for(let X of T)c.set(X,l.kp)}else for(let[X,se]of N)c.set(X,se)}),c}(r,this._globalTimelineStyles);for(let[ye,ke]of se){const rt=vt(ke,X,T);this._pendingStyles.set(ye,rt),this._localTimelineStyles.has(ye)||this._backFill.set(ye,this._globalTimelineStyles.get(ye)??l.kp),this._updateStyle(ye,rt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((r,c)=>{this._currentKeyframe.set(c,r)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((r,c)=>{this._currentKeyframe.has(c)||this._currentKeyframe.set(c,r)}))}snapshotCurrentStyles(){for(let[r,c]of this._localTimelineStyles)this._pendingStyles.set(r,c),this._updateStyle(r,c)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const r=[];for(let c in this._currentKeyframe)r.push(c);return r}mergeTimelineCollectedStyles(r){r._styleSummary.forEach((c,T)=>{const N=this._styleSummary.get(T);(!N||c.time>N.time)&&this._updateStyle(T,c.value)})}buildKeyframes(){this.applyStylesToKeyframe();const r=new Set,c=new Set,T=1===this._keyframes.size&&0===this.duration;let N=[];this._keyframes.forEach((ye,ke)=>{const rt=new Map([...this._backFill,...ye]);rt.forEach((St,Rt)=>{St===l.FX?r.add(Rt):St===l.kp&&c.add(Rt)}),T||rt.set("offset",ke/this.duration),N.push(rt)});const X=[...r.values()],se=[...c.values()];if(T){const ye=N[0],ke=new Map(ye);ye.set("offset",0),ke.set("offset",1),N=[ye,ke]}return Z(this.element,N,X,se,this.duration,this.startTime,this.easing,!1)}}class Kn extends Hi{constructor(r,c,T,N,X,se,ye=!1){super(r,c,se.delay),this.keyframes=T,this.preStyleProps=N,this.postStyleProps=X,this._stretchStartingKeyframe=ye,this.timings={duration:se.duration,delay:se.delay,easing:se.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let r=this.keyframes,{delay:c,duration:T,easing:N}=this.timings;if(this._stretchStartingKeyframe&&c){const X=[],se=T+c,ye=c/se,ke=new Map(r[0]);ke.set("offset",0),X.push(ke);const rt=new Map(r[0]);rt.set("offset",zo(ye)),X.push(rt);const St=r.length-1;for(let Rt=1;Rt<=St;Rt++){let Jt=new Map(r[Rt]);const an=Jt.get("offset");Jt.set("offset",zo((c+an*T)/se)),X.push(Jt)}T=se,c=0,N="",r=X}return Z(this.element,r,this.preStyleProps,this.postStyleProps,T,c,N,!0)}}function zo(a,r=3){const c=Math.pow(10,r-1);return Math.round(a*c)/c}function $o(a,r,c,T,N,X,se,ye,ke,rt,St,Rt,Jt){return{type:0,element:a,triggerName:r,isRemovalTransition:N,fromState:c,fromStyles:X,toState:T,toStyles:se,timelines:ye,queriedElements:ke,preStyleProps:rt,postStyleProps:St,totalTime:Rt,errors:Jt}}const $s={};class ko{constructor(r,c,T){this._triggerName=r,this.ast=c,this._stateStyles=T}match(r,c,T,N){return function no(a,r,c,T,N){return a.some(X=>X(r,c,T,N))}(this.ast.matchers,r,c,T,N)}buildStyles(r,c,T){let N=this._stateStyles.get("*");return void 0!==r&&(N=this._stateStyles.get(r?.toString())||N),N?N.buildStyles(c,T):new Map}build(r,c,T,N,X,se,ye,ke,rt,St){const Rt=[],Jt=this.ast.options&&this.ast.options.params||$s,sn=this.buildStyles(T,ye&&ye.params||$s,Rt),gn=ke&&ke.params||$s,Gn=this.buildStyles(N,gn,Rt),$n=new Set,si=new Map,gi=new Map,ii="void"===N,Ni={params:Gr(gn,Jt),delay:this.ast.options?.delay},Fn=St?[]:vi(r,c,this.ast.animation,X,se,sn,Gn,Ni,rt,Rt);let Rn=0;return Fn.forEach(fi=>{Rn=Math.max(fi.duration+fi.delay,Rn)}),Rt.length?$o(c,this._triggerName,T,N,ii,sn,Gn,[],[],si,gi,Rn,Rt):(Fn.forEach(fi=>{const Wi=fi.element,oi=ge(si,Wi,new Set);fi.preStyleProps.forEach(Oi=>oi.add(Oi));const Di=ge(gi,Wi,new Set);fi.postStyleProps.forEach(Oi=>Di.add(Oi)),Wi!==c&&$n.add(Wi)}),$o(c,this._triggerName,T,N,ii,sn,Gn,Fn,[...$n.values()],si,gi,Rn))}}function Gr(a,r){const c={...r};return Object.entries(a).forEach(([T,N])=>{null!=N&&(c[T]=N)}),c}class ar{constructor(r,c,T){this.styles=r,this.defaultParams=c,this.normalizer=T}buildStyles(r,c){const T=new Map,N=Gr(r,this.defaultParams);return this.styles.styles.forEach(X=>{"string"!=typeof X&&X.forEach((se,ye)=>{se&&(se=vt(se,N,c));const ke=this.normalizer.normalizePropertyName(ye,c);se=this.normalizer.normalizeStyleValue(ye,ke,se,c),T.set(ye,se)})}),T}}class cr{constructor(r,c,T){this.name=r,this.ast=c,this._normalizer=T,this.transitionFactories=[],this.states=new Map,c.states.forEach(N=>{this.states.set(N.name,new ar(N.style,N.options&&N.options.params||{},T))}),Sa(this.states,"true","1"),Sa(this.states,"false","0"),c.transitions.forEach(N=>{this.transitionFactories.push(new ko(r,N,this.states))}),this.fallbackTransition=function Da(a,r,c){return new ko(a,{type:l.If.Transition,animation:{type:l.If.Sequence,steps:[],options:null},matchers:[(se,ye)=>!0],options:null,queryCount:0,depCount:0},r)}(r,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(r,c,T,N){return this.transitionFactories.find(se=>se.match(r,c,T,N))||null}matchStyles(r,c,T){return this.fallbackTransition.buildStyles(r,c,T)}}function Sa(a,r,c){a.has(r)?a.has(c)||a.set(c,a.get(r)):a.has(c)&&a.set(r,a.get(c))}const Gl=new Ae;class Ja{constructor(r,c,T){this.bodyNode=r,this._driver=c,this._normalizer=T,this._animations=new Map,this._playersById=new Map,this.players=[]}register(r,c){const T=[],X=to(this._driver,c,T,[]);if(T.length)throw function J(a){return new n.wOt(3503,!1)}();this._animations.set(r,X)}_buildPlayer(r,c,T){const N=r.element,X=we(this._normalizer,r.keyframes,c,T);return this._driver.animate(N,X,r.duration,r.delay,r.easing,[],!0)}create(r,c,T={}){const N=[],X=this._animations.get(r);let se;const ye=new Map;if(X?(se=vi(this._driver,c,X,wt,Zt,new Map,new Map,T,Gl,N),se.forEach(St=>{const Rt=ge(ye,St.element,new Map);St.postStyleProps.forEach(Jt=>Rt.set(Jt,null))})):(N.push(function te(){return new n.wOt(3300,!1)}()),se=[]),N.length)throw function ne(a){return new n.wOt(3504,!1)}();ye.forEach((St,Rt)=>{St.forEach((Jt,an)=>{St.set(an,this._driver.computeStyle(Rt,an,l.kp))})});const rt=Oe(se.map(St=>{const Rt=ye.get(St.element);return this._buildPlayer(St,new Map,Rt)}));return this._playersById.set(r,rt),rt.onDestroy(()=>this.destroy(r)),this.players.push(rt),rt}destroy(r){const c=this._getPlayer(r);c.destroy(),this._playersById.delete(r);const T=this.players.indexOf(c);T>=0&&this.players.splice(T,1)}_getPlayer(r){const c=this._playersById.get(r);if(!c)throw function K(a){return new n.wOt(3301,!1)}();return c}listen(r,c,T,N){const X=Me(c,"","","");return We(this._getPlayer(r),T,X,N),()=>{}}command(r,c,T,N){if("register"==T)return void this.register(r,N[0]);if("create"==T)return void this.create(r,c,N[0]||{});const X=this._getPlayer(r);switch(T){case"play":X.play();break;case"pause":X.pause();break;case"reset":X.reset();break;case"restart":X.restart();break;case"finish":X.finish();break;case"init":X.init();break;case"setPosition":X.setPosition(parseFloat(N[0]));break;case"destroy":this.destroy(r)}}}const Ia="ng-animate-queued",qa="ng-animate-disabled",Xo=[],xa={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ys={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Po="__ng_removed";class gs{get params(){return this.options.params}constructor(r,c=""){this.namespaceId=c;const T=r&&r.hasOwnProperty("value");if(this.value=function Kr(a){return a??null}(T?r.value:r),T){const{value:X,...se}=r;this.options=se}else this.options={};this.options.params||(this.options.params={})}absorbOptions(r){const c=r.params;if(c){const T=this.options.params;Object.keys(c).forEach(N=>{null==T[N]&&(T[N]=c[N])})}}}const Us="void",Rs=new gs(Us);class Ir{constructor(r,c,T){this.id=r,this.hostElement=c,this._engine=T,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+r,ds(c,this._hostClassName)}listen(r,c,T,N){if(!this._triggers.has(c))throw function k(a,r){return new n.wOt(3302,!1)}();if(null==T||0==T.length)throw function j(a){return new n.wOt(3303,!1)}();if(!function Vs(a){return"start"==a||"done"==a}(T))throw function W(a,r){return new n.wOt(3400,!1)}();const X=ge(this._elementListeners,r,[]),se={name:c,phase:T,callback:N};X.push(se);const ye=ge(this._engine.statesByElement,r,new Map);return ye.has(c)||(ds(r,ft),ds(r,ft+"-"+c),ye.set(c,Rs)),()=>{this._engine.afterFlush(()=>{const ke=X.indexOf(se);ke>=0&&X.splice(ke,1),this._triggers.has(c)||ye.delete(c)})}}register(r,c){return!this._triggers.has(r)&&(this._triggers.set(r,c),!0)}_getTrigger(r){const c=this._triggers.get(r);if(!c)throw function ie(a){return new n.wOt(3401,!1)}();return c}trigger(r,c,T,N=!0){const X=this._getTrigger(c),se=new vs(this.id,c,r);let ye=this._engine.statesByElement.get(r);ye||(ds(r,ft),ds(r,ft+"-"+c),this._engine.statesByElement.set(r,ye=new Map));let ke=ye.get(c);const rt=new gs(T,this.id);if(!(T&&T.hasOwnProperty("value"))&&ke&&rt.absorbOptions(ke.options),ye.set(c,rt),ke||(ke=Rs),rt.value!==Us&&ke.value===rt.value){if(!function us(a,r){const c=Object.keys(a),T=Object.keys(r);if(c.length!=T.length)return!1;for(let N=0;N<c.length;N++){const X=c[N];if(!r.hasOwnProperty(X)||a[X]!==r[X])return!1}return!0}(ke.params,rt.params)){const gn=[],Gn=X.matchStyles(ke.value,ke.params,gn),$n=X.matchStyles(rt.value,rt.params,gn);gn.length?this._engine.reportError(gn):this._engine.afterFlush(()=>{be(r,Gn),ut(r,$n)})}return}const Jt=ge(this._engine.playersByElement,r,[]);Jt.forEach(gn=>{gn.namespaceId==this.id&&gn.triggerName==c&&gn.queued&&gn.destroy()});let an=X.matchTransition(ke.value,rt.value,r,rt.params),sn=!1;if(!an){if(!N)return;an=X.fallbackTransition,sn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:c,transition:an,fromState:ke,toState:rt,player:se,isFallbackTransition:sn}),sn||(ds(r,Ia),se.onStart(()=>{Wr(r,Ia)})),se.onDone(()=>{let gn=this.players.indexOf(se);gn>=0&&this.players.splice(gn,1);const Gn=this._engine.playersByElement.get(r);if(Gn){let $n=Gn.indexOf(se);$n>=0&&Gn.splice($n,1)}}),this.players.push(se),Jt.push(se),se}deregister(r){this._triggers.delete(r),this._engine.statesByElement.forEach(c=>c.delete(r)),this._elementListeners.forEach((c,T)=>{this._elementListeners.set(T,c.filter(N=>N.name!=r))})}clearElementCache(r){this._engine.statesByElement.delete(r),this._elementListeners.delete(r);const c=this._engine.playersByElement.get(r);c&&(c.forEach(T=>T.destroy()),this._engine.playersByElement.delete(r))}_signalRemovalForInnerTriggers(r,c){const T=this._engine.driver.query(r,lt,!0);T.forEach(N=>{if(N[Po])return;const X=this._engine.fetchNamespacesByElement(N);X.size?X.forEach(se=>se.triggerLeaveAnimation(N,c,!1,!0)):this.clearElementCache(N)}),this._engine.afterFlushAnimationsDone(()=>T.forEach(N=>this.clearElementCache(N)))}triggerLeaveAnimation(r,c,T,N){const X=this._engine.statesByElement.get(r),se=new Map;if(X){const ye=[];if(X.forEach((ke,rt)=>{if(se.set(rt,ke.value),this._triggers.has(rt)){const St=this.trigger(r,rt,Us,N);St&&ye.push(St)}}),ye.length)return this._engine.markElementAsRemoved(this.id,r,!0,c,se),T&&Oe(ye).onDone(()=>this._engine.processLeaveNode(r)),!0}return!1}prepareLeaveAnimationListeners(r){const c=this._elementListeners.get(r),T=this._engine.statesByElement.get(r);if(c&&T){const N=new Set;c.forEach(X=>{const se=X.name;if(N.has(se))return;N.add(se);const ke=this._triggers.get(se).fallbackTransition,rt=T.get(se)||Rs,St=new gs(Us),Rt=new vs(this.id,se,r);this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:se,transition:ke,fromState:rt,toState:St,player:Rt,isFallbackTransition:!0})})}}removeNode(r,c){const T=this._engine;if(r.childElementCount&&this._signalRemovalForInnerTriggers(r,c),this.triggerLeaveAnimation(r,c,!0))return;let N=!1;if(T.totalAnimations){const X=T.players.length?T.playersByQueriedElement.get(r):[];if(X&&X.length)N=!0;else{let se=r;for(;se=se.parentNode;)if(T.statesByElement.get(se)){N=!0;break}}}if(this.prepareLeaveAnimationListeners(r),N)T.markElementAsRemoved(this.id,r,!1,c);else{const X=r[Po];(!X||X===xa)&&(T.afterFlush(()=>this.clearElementCache(r)),T.destroyInnerAnimations(r),T._onRemovalComplete(r,c))}}insertNode(r,c){ds(r,this._hostClassName)}drainQueuedTransitions(r){const c=[];return this._queue.forEach(T=>{const N=T.player;if(N.destroyed)return;const X=T.element,se=this._elementListeners.get(X);se&&se.forEach(ye=>{if(ye.name==T.triggerName){const ke=Me(X,T.triggerName,T.fromState.value,T.toState.value);ke._data=r,We(T.player,ye.phase,ke,ye.callback)}}),N.markedForDestroy?this._engine.afterFlush(()=>{N.destroy()}):c.push(T)}),this._queue=[],c.sort((T,N)=>{const X=T.transition.ast.depCount,se=N.transition.ast.depCount;return 0==X||0==se?X-se:this._engine.driver.containsElement(T.element,N.element)?1:-1})}destroy(r){this.players.forEach(c=>c.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,r)}}class as{_onRemovalComplete(r,c){this.onRemovalComplete(r,c)}constructor(r,c,T){this.bodyNode=r,this.driver=c,this._normalizer=T,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(N,X)=>{}}get queuedPlayers(){const r=[];return this._namespaceList.forEach(c=>{c.players.forEach(T=>{T.queued&&r.push(T)})}),r}createNamespace(r,c){const T=new Ir(r,c,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,c)?this._balanceNamespaceList(T,c):(this.newHostElements.set(c,T),this.collectEnterElement(c)),this._namespaceLookup[r]=T}_balanceNamespaceList(r,c){const T=this._namespaceList,N=this.namespacesByHostElement;if(T.length-1>=0){let se=!1,ye=this.driver.getParentElement(c);for(;ye;){const ke=N.get(ye);if(ke){const rt=T.indexOf(ke);T.splice(rt+1,0,r),se=!0;break}ye=this.driver.getParentElement(ye)}se||T.unshift(r)}else T.push(r);return N.set(c,r),r}register(r,c){let T=this._namespaceLookup[r];return T||(T=this.createNamespace(r,c)),T}registerTrigger(r,c,T){let N=this._namespaceLookup[r];N&&N.register(c,T)&&this.totalAnimations++}destroy(r,c){r&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const T=this._fetchNamespace(r);this.namespacesByHostElement.delete(T.hostElement);const N=this._namespaceList.indexOf(T);N>=0&&this._namespaceList.splice(N,1),T.destroy(c),delete this._namespaceLookup[r]}))}_fetchNamespace(r){return this._namespaceLookup[r]}fetchNamespacesByElement(r){const c=new Set,T=this.statesByElement.get(r);if(T)for(let N of T.values())if(N.namespaceId){const X=this._fetchNamespace(N.namespaceId);X&&c.add(X)}return c}trigger(r,c,T,N){if(sa(c)){const X=this._fetchNamespace(r);if(X)return X.trigger(c,T,N),!0}return!1}insertNode(r,c,T,N){if(!sa(c))return;const X=c[Po];if(X&&X.setForRemoval){X.setForRemoval=!1,X.setForMove=!0;const se=this.collectedLeaveElements.indexOf(c);se>=0&&this.collectedLeaveElements.splice(se,1)}if(r){const se=this._fetchNamespace(r);se&&se.insertNode(c,T)}N&&this.collectEnterElement(c)}collectEnterElement(r){this.collectedEnterElements.push(r)}markElementAsDisabled(r,c){c?this.disabledNodes.has(r)||(this.disabledNodes.add(r),ds(r,qa)):this.disabledNodes.has(r)&&(this.disabledNodes.delete(r),Wr(r,qa))}removeNode(r,c,T){if(sa(c)){const N=r?this._fetchNamespace(r):null;N?N.removeNode(c,T):this.markElementAsRemoved(r,c,!1,T);const X=this.namespacesByHostElement.get(c);X&&X.id!==r&&X.removeNode(c,T)}else this._onRemovalComplete(c,T)}markElementAsRemoved(r,c,T,N,X){this.collectedLeaveElements.push(c),c[Po]={namespaceId:r,setForRemoval:N,hasAnimation:T,removedBeforeQueried:!1,previousTriggersValues:X}}listen(r,c,T,N,X){return sa(c)?this._fetchNamespace(r).listen(c,T,N,X):()=>{}}_buildInstruction(r,c,T,N,X){return r.transition.build(this.driver,r.element,r.fromState.value,r.toState.value,T,N,r.fromState.options,r.toState.options,c,X)}destroyInnerAnimations(r){let c=this.driver.query(r,lt,!0);c.forEach(T=>this.destroyActiveAnimationsForElement(T)),0!=this.playersByQueriedElement.size&&(c=this.driver.query(r,Ct,!0),c.forEach(T=>this.finishActiveQueriedAnimationOnElement(T)))}destroyActiveAnimationsForElement(r){const c=this.playersByElement.get(r);c&&c.forEach(T=>{T.queued?T.markedForDestroy=!0:T.destroy()})}finishActiveQueriedAnimationOnElement(r){const c=this.playersByQueriedElement.get(r);c&&c.forEach(T=>T.finish())}whenRenderingDone(){return new Promise(r=>{if(this.players.length)return Oe(this.players).onDone(()=>r());r()})}processLeaveNode(r){const c=r[Po];if(c&&c.setForRemoval){if(r[Po]=xa,c.namespaceId){this.destroyInnerAnimations(r);const T=this._fetchNamespace(c.namespaceId);T&&T.clearElementCache(r)}this._onRemovalComplete(r,c.setForRemoval)}r.classList?.contains(qa)&&this.markElementAsDisabled(r,!1),this.driver.query(r,".ng-animate-disabled",!0).forEach(T=>{this.markElementAsDisabled(T,!1)})}flush(r=-1){let c=[];if(this.newHostElements.size&&(this.newHostElements.forEach((T,N)=>this._balanceNamespaceList(T,N)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let T=0;T<this.collectedEnterElements.length;T++)ds(this.collectedEnterElements[T],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const T=[];try{c=this._flushAnimations(T,r)}finally{for(let N=0;N<T.length;N++)T[N]()}}else for(let T=0;T<this.collectedLeaveElements.length;T++)this.processLeaveNode(this.collectedLeaveElements[T]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(T=>T()),this._flushFns=[],this._whenQuietFns.length){const T=this._whenQuietFns;this._whenQuietFns=[],c.length?Oe(c).onDone(()=>{T.forEach(N=>N())}):T.forEach(N=>N())}}reportError(r){throw function ce(a){return new n.wOt(3402,!1)}()}_flushAnimations(r,c){const T=new Ae,N=[],X=new Map,se=[],ye=new Map,ke=new Map,rt=new Map,St=new Set;this.disabledNodes.forEach(An=>{St.add(An);const ri=this.driver.query(An,".ng-animate-queued",!0);for(let ei=0;ei<ri.length;ei++)St.add(ri[ei])});const Rt=this.bodyNode,Jt=Array.from(this.statesByElement.keys()),an=hr(Jt,this.collectedEnterElements),sn=new Map;let gn=0;an.forEach((An,ri)=>{const ei=wt+gn++;sn.set(ri,ei),An.forEach(ki=>ds(ki,ei))});const Gn=[],$n=new Set,si=new Set;for(let An=0;An<this.collectedLeaveElements.length;An++){const ri=this.collectedLeaveElements[An],ei=ri[Po];ei&&ei.setForRemoval&&(Gn.push(ri),$n.add(ri),ei.hasAnimation?this.driver.query(ri,".ng-star-inserted",!0).forEach(ki=>$n.add(ki)):si.add(ri))}const gi=new Map,ii=hr(Jt,Array.from($n));ii.forEach((An,ri)=>{const ei=Zt+gn++;gi.set(ri,ei),An.forEach(ki=>ds(ki,ei))}),r.push(()=>{an.forEach((An,ri)=>{const ei=sn.get(ri);An.forEach(ki=>Wr(ki,ei))}),ii.forEach((An,ri)=>{const ei=gi.get(ri);An.forEach(ki=>Wr(ki,ei))}),Gn.forEach(An=>{this.processLeaveNode(An)})});const Ni=[],Fn=[];for(let An=this._namespaceList.length-1;An>=0;An--)this._namespaceList[An].drainQueuedTransitions(c).forEach(ei=>{const ki=ei.player,wo=ei.element;if(Ni.push(ki),this.collectedEnterElements.length){const js=wo[Po];if(js&&js.setForMove){if(js.previousTriggersValues&&js.previousTriggersValues.has(ei.triggerName)){const Ul=js.previousTriggersValues.get(ei.triggerName),oa=this.statesByElement.get(ei.element);if(oa&&oa.has(ei.triggerName)){const Mc=oa.get(ei.triggerName);Mc.value=Ul,oa.set(ei.triggerName,Mc)}}return void ki.destroy()}}const Ma=!Rt||!this.driver.containsElement(Rt,wo),ia=gi.get(wo),$l=sn.get(wo),No=this._buildInstruction(ei,T,$l,ia,Ma);if(No.errors&&No.errors.length)return void Fn.push(No);if(Ma)return ki.onStart(()=>be(wo,No.fromStyles)),ki.onDestroy(()=>ut(wo,No.toStyles)),void N.push(ki);if(ei.isFallbackTransition)return ki.onStart(()=>be(wo,No.fromStyles)),ki.onDestroy(()=>ut(wo,No.toStyles)),void N.push(ki);const rd=[];No.timelines.forEach(js=>{js.stretchStartingKeyframe=!0,this.disabledNodes.has(js.element)||rd.push(js)}),No.timelines=rd,T.append(wo,No.timelines),se.push({instruction:No,player:ki,element:wo}),No.queriedElements.forEach(js=>ge(ye,js,[]).push(ki)),No.preStyleProps.forEach((js,Ul)=>{if(js.size){let oa=ke.get(Ul);oa||ke.set(Ul,oa=new Set),js.forEach((Mc,_h)=>oa.add(_h))}}),No.postStyleProps.forEach((js,Ul)=>{let oa=rt.get(Ul);oa||rt.set(Ul,oa=new Set),js.forEach((Mc,_h)=>oa.add(_h))})});if(Fn.length){const An=[];Fn.forEach(ri=>{An.push(function me(a,r){return new n.wOt(3505,!1)}())}),Ni.forEach(ri=>ri.destroy()),this.reportError(An)}const Rn=new Map,fi=new Map;se.forEach(An=>{const ri=An.element;T.has(ri)&&(fi.set(ri,ri),this._beforeAnimationBuild(An.player.namespaceId,An.instruction,Rn))}),N.forEach(An=>{const ri=An.element;this._getPreviousPlayers(ri,!1,An.namespaceId,An.triggerName,null).forEach(ki=>{ge(Rn,ri,[]).push(ki),ki.destroy()})});const Wi=Gn.filter(An=>Zo(An,ke,rt)),oi=new Map;Or(oi,this.driver,si,rt,l.kp).forEach(An=>{Zo(An,ke,rt)&&Wi.push(An)});const Oi=new Map;an.forEach((An,ri)=>{Or(Oi,this.driver,new Set(An),ke,l.FX)}),Wi.forEach(An=>{const ri=oi.get(An),ei=Oi.get(An);oi.set(An,new Map([...ri?.entries()??[],...ei?.entries()??[]]))});const Ao=[],Fo=[],Ko={};se.forEach(An=>{const{element:ri,player:ei,instruction:ki}=An;if(T.has(ri)){if(St.has(ri))return ei.onDestroy(()=>ut(ri,ki.toStyles)),ei.disabled=!0,ei.overrideTotalTime(ki.totalTime),void N.push(ei);let wo=Ko;if(fi.size>1){let ia=ri;const $l=[];for(;ia=ia.parentNode;){const No=fi.get(ia);if(No){wo=No;break}$l.push(ia)}$l.forEach(No=>fi.set(No,wo))}const Ma=this._buildAnimation(ei.namespaceId,ki,Rn,X,Oi,oi);if(ei.setRealPlayer(Ma),wo===Ko)Ao.push(ei);else{const ia=this.playersByElement.get(wo);ia&&ia.length&&(ei.parentPlayer=Oe(ia)),N.push(ei)}}else be(ri,ki.fromStyles),ei.onDestroy(()=>ut(ri,ki.toStyles)),Fo.push(ei),St.has(ri)&&N.push(ei)}),Fo.forEach(An=>{const ri=X.get(An.element);if(ri&&ri.length){const ei=Oe(ri);An.setRealPlayer(ei)}}),N.forEach(An=>{An.parentPlayer?An.syncPlayerEvents(An.parentPlayer):An.destroy()});for(let An=0;An<Gn.length;An++){const ri=Gn[An],ei=ri[Po];if(Wr(ri,Zt),ei&&ei.hasAnimation)continue;let ki=[];if(ye.size){let Ma=ye.get(ri);Ma&&Ma.length&&ki.push(...Ma);let ia=this.driver.query(ri,Ct,!0);for(let $l=0;$l<ia.length;$l++){let No=ye.get(ia[$l]);No&&No.length&&ki.push(...No)}}const wo=ki.filter(Ma=>!Ma.destroyed);wo.length?xr(this,ri,wo):this.processLeaveNode(ri)}return Gn.length=0,Ao.forEach(An=>{this.players.push(An),An.onDone(()=>{An.destroy();const ri=this.players.indexOf(An);this.players.splice(ri,1)}),An.play()}),Ao}afterFlush(r){this._flushFns.push(r)}afterFlushAnimationsDone(r){this._whenQuietFns.push(r)}_getPreviousPlayers(r,c,T,N,X){let se=[];if(c){const ye=this.playersByQueriedElement.get(r);ye&&(se=ye)}else{const ye=this.playersByElement.get(r);if(ye){const ke=!X||X==Us;ye.forEach(rt=>{rt.queued||!ke&&rt.triggerName!=N||se.push(rt)})}}return(T||N)&&(se=se.filter(ye=>!(T&&T!=ye.namespaceId||N&&N!=ye.triggerName))),se}_beforeAnimationBuild(r,c,T){const X=c.element,se=c.isRemovalTransition?void 0:r,ye=c.isRemovalTransition?void 0:c.triggerName;for(const ke of c.timelines){const rt=ke.element,St=rt!==X,Rt=ge(T,rt,[]);this._getPreviousPlayers(rt,St,se,ye,c.toState).forEach(an=>{const sn=an.getRealPlayer();sn.beforeDestroy&&sn.beforeDestroy(),an.destroy(),Rt.push(an)})}be(X,c.fromStyles)}_buildAnimation(r,c,T,N,X,se){const ye=c.triggerName,ke=c.element,rt=[],St=new Set,Rt=new Set,Jt=c.timelines.map(sn=>{const gn=sn.element;St.add(gn);const Gn=gn[Po];if(Gn&&Gn.removedBeforeQueried)return new l.sf(sn.duration,sn.delay);const $n=gn!==ke,si=function zr(a){const r=[];return zn(a,r),r}((T.get(gn)||Xo).map(Rn=>Rn.getRealPlayer())).filter(Rn=>!!Rn.element&&Rn.element===gn),gi=X.get(gn),ii=se.get(gn),Ni=we(this._normalizer,sn.keyframes,gi,ii),Fn=this._buildPlayer(sn,Ni,si);if(sn.subTimeline&&N&&Rt.add(gn),$n){const Rn=new vs(r,ye,gn);Rn.setRealPlayer(Fn),rt.push(Rn)}return Fn});rt.forEach(sn=>{ge(this.playersByQueriedElement,sn.element,[]).push(sn),sn.onDone(()=>function ur(a,r,c){let T=a.get(r);if(T){if(T.length){const N=T.indexOf(c);T.splice(N,1)}0==T.length&&a.delete(r)}return T}(this.playersByQueriedElement,sn.element,sn))}),St.forEach(sn=>ds(sn,Ft));const an=Oe(Jt);return an.onDestroy(()=>{St.forEach(sn=>Wr(sn,Ft)),ut(ke,c.toStyles)}),Rt.forEach(sn=>{ge(N,sn,[]).push(an)}),an}_buildPlayer(r,c,T){return c.length>0?this.driver.animate(r.element,c,r.duration,r.delay,r.easing,T):new l.sf(r.duration,r.delay)}}class vs{constructor(r,c,T){this.namespaceId=r,this.triggerName=c,this.element=T,this._player=new l.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(r){this._containsRealPlayer||(this._player=r,this._queuedCallbacks.forEach((c,T)=>{c.forEach(N=>We(r,T,void 0,N))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(r.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(r){this.totalTime=r}syncPlayerEvents(r){const c=this._player;c.triggerCallback&&r.onStart(()=>c.triggerCallback("start")),r.onDone(()=>this.finish()),r.onDestroy(()=>this.destroy())}_queueEvent(r,c){ge(this._queuedCallbacks,r,[]).push(c)}onDone(r){this.queued&&this._queueEvent("done",r),this._player.onDone(r)}onStart(r){this.queued&&this._queueEvent("start",r),this._player.onStart(r)}onDestroy(r){this.queued&&this._queueEvent("destroy",r),this._player.onDestroy(r)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(r){this.queued||this._player.setPosition(r)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(r){const c=this._player;c.triggerCallback&&c.triggerCallback(r)}}function sa(a){return a&&1===a.nodeType}function ra(a,r){const c=a.style.display;return a.style.display=r??"none",c}function Or(a,r,c,T,N){const X=[];c.forEach(ke=>X.push(ra(ke)));const se=[];T.forEach((ke,rt)=>{const St=new Map;ke.forEach(Rt=>{const Jt=r.computeStyle(rt,Rt,N);St.set(Rt,Jt),(!Jt||0==Jt.length)&&(rt[Po]=Ys,se.push(rt))}),a.set(rt,St)});let ye=0;return c.forEach(ke=>ra(ke,X[ye++])),se}function hr(a,r){const c=new Map;if(a.forEach(ye=>c.set(ye,[])),0==r.length)return c;const N=new Set(r),X=new Map;function se(ye){if(!ye)return 1;let ke=X.get(ye);if(ke)return ke;const rt=ye.parentNode;return ke=c.has(rt)?rt:N.has(rt)?1:se(rt),X.set(ye,ke),ke}return r.forEach(ye=>{const ke=se(ye);1!==ke&&c.get(ke).push(ye)}),c}function ds(a,r){a.classList?.add(r)}function Wr(a,r){a.classList?.remove(r)}function xr(a,r,c){Oe(c).onDone(()=>a.processLeaveNode(r))}function zn(a,r){for(let c=0;c<a.length;c++){const T=a[c];T instanceof l.ui?zn(T.players,r):r.push(T)}}function Zo(a,r,c){const T=c.get(a);if(!T)return!1;let N=r.get(a);return N?T.forEach(X=>N.add(X)):r.set(a,T),c.delete(a),!0}class Qs{constructor(r,c,T){this._driver=c,this._normalizer=T,this._triggerCache={},this.onRemovalComplete=(N,X)=>{},this._transitionEngine=new as(r.body,c,T),this._timelineEngine=new Ja(r.body,c,T),this._transitionEngine.onRemovalComplete=(N,X)=>this.onRemovalComplete(N,X)}registerTrigger(r,c,T,N,X){const se=r+"-"+N;let ye=this._triggerCache[se];if(!ye){const ke=[],St=to(this._driver,X,ke,[]);if(ke.length)throw function U(a,r){return new n.wOt(3404,!1)}();ye=function lr(a,r,c){return new cr(a,r,c)}(N,St,this._normalizer),this._triggerCache[se]=ye}this._transitionEngine.registerTrigger(c,N,ye)}register(r,c){this._transitionEngine.register(r,c)}destroy(r,c){this._transitionEngine.destroy(r,c)}onInsert(r,c,T,N){this._transitionEngine.insertNode(r,c,T,N)}onRemove(r,c,T){this._transitionEngine.removeNode(r,c,T)}disableAnimations(r,c){this._transitionEngine.markElementAsDisabled(r,c)}process(r,c,T,N){if("@"==T.charAt(0)){const[X,se]=pe(T);this._timelineEngine.command(X,c,se,N)}else this._transitionEngine.trigger(r,c,T,N)}listen(r,c,T,N,X){if("@"==T.charAt(0)){const[se,ye]=pe(T);return this._timelineEngine.listen(se,c,ye,X)}return this._transitionEngine.listen(r,c,T,N,X)}flush(r=-1){this._transitionEngine.flush(r)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(r){this._transitionEngine.afterFlushAnimationsDone(r)}}class Js{static#e=this.initialStylesByElement=new WeakMap;constructor(r,c,T){this._element=r,this._startStyles=c,this._endStyles=T,this._state=0;let N=Js.initialStylesByElement.get(r);N||Js.initialStylesByElement.set(r,N=new Map),this._initialStyles=N}start(){this._state<1&&(this._startStyles&&ut(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ut(this._element,this._initialStyles),this._endStyles&&(ut(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Js.initialStylesByElement.delete(this._element),this._startStyles&&(be(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(be(this._element,this._endStyles),this._endStyles=null),ut(this._element,this._initialStyles),this._state=3)}}function qo(a){let r=null;return a.forEach((c,T)=>{(function As(a){return"display"===a||"position"===a})(T)&&(r=r||new Map,r.set(T,c))}),r}class Gs{constructor(r,c,T,N){this.element=r,this.keyframes=c,this.options=T,this._specialStyles=N,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=T.duration,this._delay=T.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const r=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,r,this.options),this._finalKeyframe=r.length?r[r.length-1]:new Map;const c=()=>this._onFinish();this.domPlayer.addEventListener("finish",c),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",c)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(r){const c=[];return r.forEach(T=>{c.push(Object.fromEntries(T))}),c}_triggerWebAnimation(r,c,T){return r.animate(this._convertKeyframesToObject(c),T)}onStart(r){this._originalOnStartFns.push(r),this._onStartFns.push(r)}onDone(r){this._originalOnDoneFns.push(r),this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(r=>r()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}setPosition(r){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=r*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const r=new Map;this.hasStarted()&&this._finalKeyframe.forEach((T,N)=>{"offset"!==N&&r.set(N,this._finished?T:Lt(this.element,N))}),this.currentSnapshot=r}triggerCallback(r){const c="start"===r?this._onStartFns:this._onDoneFns;c.forEach(T=>T()),c.length=0}}class es{validateStyleProperty(r){return!0}validateAnimatableStyleProperty(r){return!0}containsElement(r,c){return Le(r,c)}getParentElement(r){return Ge(r)}query(r,c,T){return De(r,c,T)}computeStyle(r,c,T){return Lt(r,c)}animate(r,c,T,N,X,se=[]){const ke={duration:T,delay:N,fill:0==N?"both":"forwards"};X&&(ke.easing=X);const rt=new Map,St=se.filter(an=>an instanceof Gs);(function Ie(a,r){return 0===a||0===r})(T,N)&&St.forEach(an=>{an.currentSnapshot.forEach((sn,gn)=>rt.set(gn,sn))});let Rt=function Sn(a){return a.length?a[0]instanceof Map?a:a.map(r=>new Map(Object.entries(r))):[]}(c).map(an=>new Map(an));Rt=function Ze(a,r,c){if(c.size&&r.length){let T=r[0],N=[];if(c.forEach((X,se)=>{T.has(se)||N.push(se),T.set(se,X)}),N.length)for(let X=1;X<r.length;X++){let se=r[X];N.forEach(ye=>se.set(ye,Lt(a,ye)))}}return r}(r,Rt,rt);const Jt=function Ra(a,r){let c=null,T=null;return Array.isArray(r)&&r.length?(c=qo(r[0]),r.length>1&&(T=qo(r[r.length-1]))):r instanceof Map&&(c=qo(r)),c||T?new Js(a,c,T):null}(r,Rt);return new Gs(r,Rt,ke,Jt)}}const bs="@.disabled";class el{constructor(r,c,T,N){this.namespaceId=r,this.delegate=c,this.engine=T,this._onDestroy=N,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(r){this.delegate.destroyNode?.(r)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(r,c){return this.delegate.createElement(r,c)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}appendChild(r,c){this.delegate.appendChild(r,c),this.engine.onInsert(this.namespaceId,c,r,!1)}insertBefore(r,c,T,N=!0){this.delegate.insertBefore(r,c,T),this.engine.onInsert(this.namespaceId,c,r,N)}removeChild(r,c,T){this.engine.onRemove(this.namespaceId,c,this.delegate)}selectRootElement(r,c){return this.delegate.selectRootElement(r,c)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,c,T,N){this.delegate.setAttribute(r,c,T,N)}removeAttribute(r,c,T){this.delegate.removeAttribute(r,c,T)}addClass(r,c){this.delegate.addClass(r,c)}removeClass(r,c){this.delegate.removeClass(r,c)}setStyle(r,c,T,N){this.delegate.setStyle(r,c,T,N)}removeStyle(r,c,T){this.delegate.removeStyle(r,c,T)}setProperty(r,c,T){"@"==c.charAt(0)&&c==bs?this.disableAnimations(r,!!T):this.delegate.setProperty(r,c,T)}setValue(r,c){this.delegate.setValue(r,c)}listen(r,c,T){return this.delegate.listen(r,c,T)}disableAnimations(r,c){this.engine.disableAnimations(r,c)}}class Lo extends el{constructor(r,c,T,N,X){super(c,T,N,X),this.factory=r,this.namespaceId=c}setProperty(r,c,T){"@"==c.charAt(0)?"."==c.charAt(1)&&c==bs?this.disableAnimations(r,T=void 0===T||!!T):this.engine.process(this.namespaceId,r,c.slice(1),T):this.delegate.setProperty(r,c,T)}listen(r,c,T){if("@"==c.charAt(0)){const N=function Kl(a){switch(a){case"body":return document.body;case"document":return document;case"window":return window;default:return a}}(r);let X=c.slice(1),se="";return"@"!=X.charAt(0)&&([X,se]=function tl(a){const r=a.indexOf(".");return[a.substring(0,r),a.slice(r+1)]}(X)),this.engine.listen(this.namespaceId,N,X,se,ye=>{this.factory.scheduleListenerCallback(ye._data||-1,T,ye)})}return this.delegate.listen(r,c,T)}}class Li{constructor(r,c,T){this.delegate=r,this.engine=c,this._zone=T,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,c.onRemovalComplete=(N,X)=>{const se=X?.parentNode(N);se&&X.removeChild(se,N)}}createRenderer(r,c){const N=this.delegate.createRenderer(r,c);if(!r||!c?.data?.animation){const rt=this._rendererCache;let St=rt.get(N);return St||(St=new el("",N,this.engine,()=>rt.delete(N)),rt.set(N,St)),St}const X=c.id,se=c.id+"-"+this._currentId;this._currentId++,this.engine.register(se,r);const ye=rt=>{Array.isArray(rt)?rt.forEach(ye):this.engine.registerTrigger(X,se,r,rt.name,rt)};return c.data.animation.forEach(ye),new Lo(this,se,N,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(r,c,T){if(r>=0&&r<this._microtaskId)return void this._zone.run(()=>c(T));const N=this._animationCallbacksBuffer;0==N.length&&queueMicrotask(()=>{this._zone.run(()=>{N.forEach(X=>{const[se,ye]=X;se(ye)}),this._animationCallbacksBuffer=[]})}),N.push([c,T])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}var ts=o(177);const ns=[{provide:Te,useFactory:function Rr(){return new Dt}},{provide:Qs,useClass:(()=>{class a extends Qs{constructor(c,T,N){super(c,T,N)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(T){return new(T||a)(n.KVO(ts.qQ),n.KVO(Q),n.KVO(Te))};static#t=this.\u0275prov=n.jDH({token:a,factory:a.\u0275fac})}return a})()},{provide:n._9s,useFactory:function Xr(a,r,c){return new Li(a,r,c)},deps:[e.B7,Qs,n.SKi]}],ys=[{provide:Q,useFactory:()=>new es},{provide:n.bc$,useValue:"BrowserAnimations"},...ns],Ei=[{provide:Q,useClass:ue},{provide:n.bc$,useValue:"NoopAnimations"},...ns];let fr=(()=>{class a{static withConfig(c){return{ngModule:a,providers:c.disableAnimations?Ei:ys}}static#e=this.\u0275fac=function(T){return new(T||a)};static#t=this.\u0275mod=n.$C({type:a});static#n=this.\u0275inj=n.G2t({providers:ys,imports:[e.Bb]})}return a})();var ls=o(9417),ji=o(2091),nl=o(9418),He=o(4526),Ye=o(3586),Re=o(4421),bt=o(1639),Yt=o(5286),_i=o(5817),$i=o(8803);const ao=new _i.c($i.l);var Ar=o(4670),Hr=o(5006),la=o(8728),il=o(9090),cd=o(4725);function oo(a,r){return function(T){let N;if(N="function"==typeof a?a:function(){return a},"function"==typeof r)return T.lift(new _r(N,r));const X=Object.create(T,cd.f);return X.source=T,X.subjectFactory=N,X}}class _r{constructor(r,c){this.subjectFactory=r,this.selector=c}call(r,c){const{selector:T}=this,N=this.subjectFactory(),X=T(N).subscribe(r);return X.add(c.subscribe(N)),X}}var Es=o(9493),Yr=o(8841),sc=o(8002);const wa="Service workers are disabled or not supported by this browser";class qs{constructor(r){if(this.serviceWorker=r,r){const T=(0,Ye.R)(r,"controllerchange").pipe((0,Hr.T)(()=>r.controller)),N=(0,nl.v)(()=>(0,Re.of)(r.controller)),X=(0,bt.x)(N,T);this.worker=X.pipe((0,la.p)(St=>!!St)),this.registration=this.worker.pipe((0,il.n)(()=>r.getRegistration()));const rt=(0,Ye.R)(r,"message").pipe((0,Hr.T)(St=>St.data)).pipe((0,la.p)(St=>St&&St.type)).pipe(function ws(a){return a?oo(()=>new Yt.B7,a):oo(new Yt.B7)}());rt.connect(),this.events=rt}else this.worker=this.events=this.registration=function ol(a){return(0,nl.v)(()=>(0,He.$)(new Error(a)))}(wa)}postMessage(r,c){return this.worker.pipe((0,Es.s)(1),(0,Yr.M)(T=>{T.postMessage({action:r,...c})})).toPromise().then(()=>{})}postMessageWithOperation(r,c,T){const N=this.waitForOperationCompleted(T),X=this.postMessage(r,c);return Promise.all([X,N]).then(([,se])=>se)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(r){let c;return c="string"==typeof r?T=>T.type===r:T=>r.includes(T.type),this.events.pipe((0,la.p)(c))}nextEventOfType(r){return this.eventsOfType(r).pipe((0,Es.s)(1))}waitForOperationCompleted(r){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,la.p)(c=>c.nonce===r),(0,Es.s)(1),(0,Hr.T)(c=>{if(void 0!==c.result)return c.result;throw new Error(c.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let wr=(()=>{class a{get isEnabled(){return this.sw.isEnabled}constructor(c){if(this.sw=c,this.pushManager=null,this.subscriptionChanges=new Yt.B7,!c.isEnabled)return this.messages=ao,this.notificationClicks=ao,void(this.subscription=ao);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Hr.T)(N=>N.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Hr.T)(N=>N.data)),this.pushManager=this.sw.registration.pipe((0,Hr.T)(N=>N.pushManager));const T=this.pushManager.pipe((0,il.n)(N=>N.getSubscription()));this.subscription=(0,Ar.h)(T,this.subscriptionChanges)}requestSubscription(c){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(wa));const T={userVisibleOnly:!0};let N=this.decodeBase64(c.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),X=new Uint8Array(new ArrayBuffer(N.length));for(let se=0;se<N.length;se++)X[se]=N.charCodeAt(se);return T.applicationServerKey=X,this.pushManager.pipe((0,il.n)(se=>se.subscribe(T)),(0,Es.s)(1)).toPromise().then(se=>(this.subscriptionChanges.next(se),se))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,Es.s)(1),(0,il.n)(T=>{if(null===T)throw new Error("Not subscribed to push notifications.");return T.unsubscribe().then(N=>{if(!N)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(wa))}decodeBase64(c){return atob(c)}static#e=this.\u0275fac=function(T){return new(T||a)(n.KVO(qs))};static#t=this.\u0275prov=n.jDH({token:a,factory:a.\u0275fac})}return a})(),ka=(()=>{class a{get isEnabled(){return this.sw.isEnabled}constructor(c){if(this.sw=c,!c.isEnabled)return this.versionUpdates=ao,void(this.unrecoverable=ao);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(wa));const c=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:c},c)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(wa));const c=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:c},c)}static#e=this.\u0275fac=function(T){return new(T||a)(n.KVO(qs))};static#t=this.\u0275prov=n.jDH({token:a,factory:a.\u0275fac})}return a})();const sl=new n.nKC("");function Ti(a,r,c,T){return()=>{if(!(0,ts.UE)(T)||!("serviceWorker"in navigator)||!1===c.enabled)return;const N=a.get(n.SKi),X=a.get(n.o8S);let se;if(N.runOutsideAngular(()=>{const ye=navigator.serviceWorker,ke=()=>ye.controller?.postMessage({action:"INITIALIZE"});ye.addEventListener("controllerchange",ke),X.onDestroy(()=>{ye.removeEventListener("controllerchange",ke)})}),"function"==typeof c.registrationStrategy)se=c.registrationStrategy();else{const[ye,...ke]=(c.registrationStrategy||"registerWhenStable:30000").split(":");switch(ye){case"registerImmediately":se=(0,Re.of)(null);break;case"registerWithDelay":se=rl(+ke[0]||0);break;case"registerWhenStable":se=ke[0]?(0,Ar.h)(Pa(a),rl(+ke[0])):Pa(a);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${c.registrationStrategy}`)}}N.runOutsideAngular(()=>se.pipe((0,Es.s)(1)).subscribe(()=>navigator.serviceWorker.register(r,{scope:c.scope}).catch(ye=>console.error("Service worker registration failed with:",ye))))}}function rl(a){return(0,Re.of)(null).pipe((0,sc.c)(a))}function Pa(a){return a.get(n.o8S).isStable.pipe((0,la.p)(c=>c))}function Cs(a,r){return new qs((0,ts.UE)(r)&&!1!==a.enabled?navigator.serviceWorker:void 0)}class kr{}function El(a,r={}){return(0,n.EmA)([wr,ka,{provide:sl,useValue:a},{provide:kr,useValue:r},{provide:qs,useFactory:Cs,deps:[kr,n.Agw]},{provide:n.hnV,useFactory:Ti,deps:[n.zZn,sl,kr,n.Agw],multi:!0}])}let La=(()=>{class a{static register(c,T={}){return{ngModule:a,providers:[El(c,T)]}}static#e=this.\u0275fac=function(T){return new(T||a)};static#t=this.\u0275mod=n.$C({type:a});static#n=this.\u0275inj=n.G2t({providers:[wr,ka]})}return a})();var ca=o(5416),da=o(6600),rc=o(1626),dd=o(1780);class Oc{constructor(r,c="/assets/i18n/",T=".json"){this.http=r,this.prefix=c,this.suffix=T}getTranslation(r){return this.http.get(`${this.prefix}${r}${this.suffix}`)}}var io=o(467),al=o(4046),ks=o(5157),H=o(3368),at=o(9707),it=o(9420),Et=o(8026),pt=o(4129);const $t="8.20.0",Vt=globalThis;function cn(a,r,c){const T=c||Vt,N=T.__SENTRY__=T.__SENTRY__||{},X=N[$t]=N[$t]||{};return X[a]||(X[a]=r())}const mn="production";function Nn(){return li(Vt),Vt}function li(a){const r=a.__SENTRY__=a.__SENTRY__||{};return r.version=r.version||$t,r[$t]=r[$t]||{}}const Wn=Object.prototype.toString;function Bn(a){switch(Wn.call(a)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return dn(a,Error)}}function di(a,r){return Wn.call(a)===`[object ${r}]`}function Xi(a){return di(a,"ErrorEvent")}function Ii(a){return di(a,"DOMError")}function xo(a){return di(a,"String")}function Gi(a){return"object"==typeof a&&null!==a&&"__sentry_template_string__"in a&&"__sentry_template_values__"in a}function ll(a){return null===a||Gi(a)||"object"!=typeof a&&"function"!=typeof a}function Pr(a){return di(a,"Object")}function _e(a){return typeof Event<"u"&&dn(a,Event)}function ot(a){return!(!a||!a.then||"function"!=typeof a.then)}function dn(a,r){try{return a instanceof r}catch{return!1}}function Tn(a){return!("object"!=typeof a||null===a||!a.__isVue&&!a._isVue)}const Hn=Vt,Oo=80;function Ci(a,r={}){if(!a)return"<unknown>";try{let c=a;const T=5,N=[];let X=0,se=0;const ye=" > ",ke=ye.length;let rt;const St=Array.isArray(r)?r:r.keyAttrs,Rt=!Array.isArray(r)&&r.maxStringLength||Oo;for(;c&&X++<T&&(rt=uo(c,St),!("html"===rt||X>1&&se+N.length*ke+rt.length>=Rt));)N.push(rt),se+=rt.length,c=c.parentNode;return N.reverse().join(ye)}catch{return"<unknown>"}}function uo(a,r){const c=a,T=[];if(!c||!c.tagName)return"";if(Hn.HTMLElement&&c instanceof HTMLElement&&c.dataset){if(c.dataset.sentryComponent)return c.dataset.sentryComponent;if(c.dataset.sentryElement)return c.dataset.sentryElement}T.push(c.tagName.toLowerCase());const N=r&&r.length?r.filter(se=>c.getAttribute(se)).map(se=>[se,c.getAttribute(se)]):null;if(N&&N.length)N.forEach(se=>{T.push(`[${se[0]}="${se[1]}"]`)});else{c.id&&T.push(`#${c.id}`);const se=c.className;if(se&&xo(se)){const ye=se.split(/\s+/);for(const ke of ye)T.push(`.${ke}`)}}const X=["aria-label","type","name","title","alt"];for(const se of X){const ye=c.getAttribute(se);ye&&T.push(`[${se}="${ye}"]`)}return T.join("")}function xn(){try{return Hn.document.location.href}catch{return""}}function Yi(a){if(!Hn.HTMLElement)return null;let r=a;for(let T=0;T<5;T++){if(!r)return null;if(r instanceof HTMLElement){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}r=r.parentNode}return null}const co=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,pr=["debug","info","warn","error","log","assert","trace"],ha={};function Ks(a){if(!("console"in Vt))return a();const r=Vt.console,c={},T=Object.keys(ha);T.forEach(N=>{const X=ha[N];c[N]=r[N],r[N]=X});try{return a()}finally{T.forEach(N=>{r[N]=c[N]})}}const Mn=function Ho(){let a=!1;const r={enable:()=>{a=!0},disable:()=>{a=!1},isEnabled:()=>a};return pr.forEach(co?c=>{r[c]=(...T)=>{a&&Ks(()=>{Vt.console[c](`Sentry Logger [${c}]:`,...T)})}}:c=>{r[c]=()=>{}}),r}();function Ws(a,r=0){return"string"!=typeof a||0===r||a.length<=r?a:`${a.slice(0,r)}...`}function cl(a,r){if(!Array.isArray(a))return"";const c=[];for(let T=0;T<a.length;T++){const N=a[T];try{Tn(N)?c.push("[VueViewModel]"):c.push(String(N))}catch{c.push("[value cannot be serialized]")}}return c.join(r)}function Yo(a,r=[],c=!1){return r.some(T=>function Yf(a,r,c=!1){return!!xo(a)&&(function Ne(a){return di(a,"RegExp")}(r)?r.test(a):!!xo(r)&&(c?a===r:a.includes(r)))}(a,T,c))}function Qo(a,r,c){if(!(r in a))return;const T=a[r],N=c(T);"function"==typeof N&&Fa(N,T),a[r]=N}function Qr(a,r,c){try{Object.defineProperty(a,r,{value:c,writable:!0,configurable:!0})}catch{co&&Mn.log(`Failed to add non-enumerable property "${r}" to object`,a)}}function Fa(a,r){try{a.prototype=r.prototype=r.prototype||{},Qr(a,"__sentry_original__",r)}catch{}}function Jr(a){return a.__sentry_original__}function $p(a){if(Bn(a))return{message:a.message,name:a.name,stack:a.stack,...Na(a)};if(_e(a)){const r={type:a.type,target:hd(a.target),currentTarget:hd(a.currentTarget),...Na(a)};return typeof CustomEvent<"u"&&dn(a,CustomEvent)&&(r.detail=a.detail),r}return a}function hd(a){try{return function dt(a){return typeof Element<"u"&&dn(a,Element)}(a)?Ci(a):Object.prototype.toString.call(a)}catch{return"<unknown>"}}function Na(a){if("object"==typeof a&&null!==a){const r={};for(const c in a)Object.prototype.hasOwnProperty.call(a,c)&&(r[c]=a[c]);return r}return{}}function is(a){return zl(a,new Map)}function zl(a,r){if(function Ps(a){if(!Pr(a))return!1;try{const r=Object.getPrototypeOf(a).constructor.name;return!r||"Object"===r}catch{return!0}}(a)){const c=r.get(a);if(void 0!==c)return c;const T={};r.set(a,T);for(const N of Object.keys(a))typeof a[N]<"u"&&(T[N]=zl(a[N],r));return T}if(Array.isArray(a)){const c=r.get(a);if(void 0!==c)return c;const T=[];return r.set(a,T),a.forEach(N=>{T.push(zl(N,r))}),T}return a}function so(){const r=Vt.crypto||Vt.msCrypto;let c=()=>16*Math.random();try{if(r&&r.randomUUID)return r.randomUUID().replace(/-/g,"");r&&r.getRandomValues&&(c=()=>{const T=new Uint8Array(1);return r.getRandomValues(T),T[0]})}catch{}return"10000000100040008000100000000000".replace(/[018]/g,T=>(T^(15&c())>>T/4).toString(16))}function Ji(a){return a.exception&&a.exception.values?a.exception.values[0]:void 0}function Ms(a){const{message:r,event_id:c}=a;if(r)return r;const T=Ji(a);return T?T.type&&T.value?`${T.type}: ${T.value}`:T.type||T.value||c||"<unknown>":c||"<unknown>"}function fd(a,r,c){const T=a.exception=a.exception||{},N=T.values=T.values||[],X=N[0]=N[0]||{};X.value||(X.value=r||""),X.type||(X.type=c||"Error")}function lc(a,r){const c=Ji(a);if(!c)return;const N=c.mechanism;if(c.mechanism={type:"generic",handled:!0,...N,...r},r&&"data"in r){const X={...N&&N.data,...r.data};c.mechanism.data=X}}function Qf(a){if(a&&a.__sentry_captured__)return!0;try{Qr(a,"__sentry_captured__",!0)}catch{}return!1}function _d(a){return Array.isArray(a)?a:[a]}function Rc(){return{traceId:so(),spanId:so().substring(16)}}const gh=1e3;function Ba(){return Date.now()/gh}const er=function vh(){const{performance:a}=Vt;if(!a||!a.now)return Ba;const r=Date.now()-a.now(),c=null==a.timeOrigin?r:a.timeOrigin;return()=>(c+a.now())/gh}();let pd;const zs=(()=>{const{performance:a}=Vt;if(!a||!a.now)return void(pd="none");const r=36e5,c=a.now(),T=Date.now(),N=a.timeOrigin?Math.abs(a.timeOrigin+c-T):r,X=N<r,se=a.timing&&a.timing.navigationStart,ke="number"==typeof se?Math.abs(se+c-T):r;return X||ke<r?N<=ke?(pd="timeOrigin",a.timeOrigin):(pd="navigationStart",se):(pd="dateNow",T)})();function fa(a,r={}){if(r.user&&(!a.ipAddress&&r.user.ip_address&&(a.ipAddress=r.user.ip_address),!a.did&&!r.did&&(a.did=r.user.id||r.user.email||r.user.username)),a.timestamp=r.timestamp||er(),r.abnormal_mechanism&&(a.abnormal_mechanism=r.abnormal_mechanism),r.ignoreDuration&&(a.ignoreDuration=r.ignoreDuration),r.sid&&(a.sid=32===r.sid.length?r.sid:so()),void 0!==r.init&&(a.init=r.init),!a.did&&r.did&&(a.did=`${r.did}`),"number"==typeof r.started&&(a.started=r.started),a.ignoreDuration)a.duration=void 0;else if("number"==typeof r.duration)a.duration=r.duration;else{const c=a.timestamp-a.started;a.duration=c>=0?c:0}r.release&&(a.release=r.release),r.environment&&(a.environment=r.environment),!a.ipAddress&&r.ipAddress&&(a.ipAddress=r.ipAddress),!a.userAgent&&r.userAgent&&(a.userAgent=r.userAgent),"number"==typeof r.errors&&(a.errors=r.errors),r.status&&(a.status=r.status)}const md="_sentrySpan";function gd(a,r){r?Qr(a,md,r):delete a[md]}function du(a){return a[md]}class Cl{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=Rc()}clone(){const r=new Cl;return r._breadcrumbs=[...this._breadcrumbs],r._tags={...this._tags},r._extra={...this._extra},r._contexts={...this._contexts},r._user=this._user,r._level=this._level,r._session=this._session,r._transactionName=this._transactionName,r._fingerprint=this._fingerprint,r._eventProcessors=[...this._eventProcessors],r._requestSession=this._requestSession,r._attachments=[...this._attachments],r._sdkProcessingMetadata={...this._sdkProcessingMetadata},r._propagationContext={...this._propagationContext},r._client=this._client,r._lastEventId=this._lastEventId,gd(r,du(this)),r}setClient(r){this._client=r}setLastEventId(r){this._lastEventId=r}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(r){this._scopeListeners.push(r)}addEventProcessor(r){return this._eventProcessors.push(r),this}setUser(r){return this._user=r||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&fa(this._session,{user:r}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(r){return this._requestSession=r,this}setTags(r){return this._tags={...this._tags,...r},this._notifyScopeListeners(),this}setTag(r,c){return this._tags={...this._tags,[r]:c},this._notifyScopeListeners(),this}setExtras(r){return this._extra={...this._extra,...r},this._notifyScopeListeners(),this}setExtra(r,c){return this._extra={...this._extra,[r]:c},this._notifyScopeListeners(),this}setFingerprint(r){return this._fingerprint=r,this._notifyScopeListeners(),this}setLevel(r){return this._level=r,this._notifyScopeListeners(),this}setTransactionName(r){return this._transactionName=r,this._notifyScopeListeners(),this}setContext(r,c){return null===c?delete this._contexts[r]:this._contexts[r]=c,this._notifyScopeListeners(),this}setSession(r){return r?this._session=r:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(r){if(!r)return this;const c="function"==typeof r?r(this):r,[T,N]=c instanceof Fr?[c.getScopeData(),c.getRequestSession()]:Pr(c)?[r,r.requestSession]:[],{tags:X,extra:se,user:ye,contexts:ke,level:rt,fingerprint:St=[],propagationContext:Rt}=T||{};return this._tags={...this._tags,...X},this._extra={...this._extra,...se},this._contexts={...this._contexts,...ke},ye&&Object.keys(ye).length&&(this._user=ye),rt&&(this._level=rt),St.length&&(this._fingerprint=St),Rt&&(this._propagationContext=Rt),N&&(this._requestSession=N),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,gd(this,void 0),this._attachments=[],this._propagationContext=Rc(),this._notifyScopeListeners(),this}addBreadcrumb(r,c){const T="number"==typeof c?c:100;if(T<=0)return this;const N={timestamp:Ba(),...r},X=this._breadcrumbs;return X.push(N),this._breadcrumbs=X.length>T?X.slice(-T):X,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(r){return this._attachments.push(r),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:du(this)}}setSDKProcessingMetadata(r){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...r},this}setPropagationContext(r){return this._propagationContext=r,this}getPropagationContext(){return this._propagationContext}captureException(r,c){const T=c&&c.event_id?c.event_id:so();if(!this._client)return Mn.warn("No client configured on scope - will not capture exception!"),T;const N=new Error("Sentry syntheticException");return this._client.captureException(r,{originalException:r,syntheticException:N,...c,event_id:T},this),T}captureMessage(r,c,T){const N=T&&T.event_id?T.event_id:so();if(!this._client)return Mn.warn("No client configured on scope - will not capture message!"),N;const X=new Error(r);return this._client.captureMessage(r,c,{originalException:r,syntheticException:X,...T,event_id:N},this),N}captureEvent(r,c){const T=c&&c.event_id?c.event_id:so();return this._client?(this._client.captureEvent(r,{...c,event_id:T},this),T):(Mn.warn("No client configured on scope - will not capture event!"),T)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(r=>{r(this)}),this._notifyingListeners=!1)}}const Fr=Cl;class Ce{constructor(r,c){let T,N;T=r||new Fr,N=c||new Fr,this._stack=[{scope:T}],this._isolationScope=N}withScope(r){const c=this._pushScope();let T;try{T=r(c)}catch(N){throw this._popScope(),N}return ot(T)?T.then(N=>(this._popScope(),N),N=>{throw this._popScope(),N}):(this._popScope(),T)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const r=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:r}),r}_popScope(){return!(this._stack.length<=1||!this._stack.pop())}}function de(){const r=li(Nn());return r.stack=r.stack||new Ce(function Zf(){return cn("defaultCurrentScope",()=>new Fr)}(),function le(){return cn("defaultIsolationScope",()=>new Fr)}())}function Se(a){return de().withScope(a)}function et(a,r){const c=de();return c.withScope(()=>(c.getStackTop().scope=a,r(a)))}function mt(a){return de().withScope(()=>a(de().getIsolationScope()))}function rn(a){const r=li(a);return r.acs?r.acs:function Ut(){return{withIsolationScope:mt,withScope:Se,withSetScope:et,withSetIsolationScope:(a,r)=>mt(r),getCurrentScope:()=>de().getScope(),getIsolationScope:()=>de().getIsolationScope()}}()}function pn(){return rn(Nn()).getCurrentScope()}function qn(){return rn(Nn()).getIsolationScope()}function ro(...a){const c=rn(Nn());if(2===a.length){const[T,N]=a;return T?c.withSetScope(T,N):c.withScope(N)}return c.withScope(a[0])}function Mi(){return pn().getClient()}const nr=50,mr="?",yh=/\(error: (.*)\)/,ul=/captureMessage|captureException/;function Vp(...a){const r=a.sort((c,T)=>c[0]-T[0]).map(c=>c[1]);return(c,T=0,N=0)=>{const X=[],se=c.split("\n");for(let ye=T;ye<se.length;ye++){const ke=se[ye];if(ke.length>1024)continue;const rt=yh.test(ke)?ke.replace(yh,"$1"):ke;if(!rt.match(/\S*Error: /)){for(const St of r){const Rt=St(rt);if(Rt){X.push(Rt);break}}if(X.length>=nr+N)break}}return function Gp(a){if(!a.length)return[];const r=Array.from(a);return/sentryWrapped/.test(Ac(r).function||"")&&r.pop(),r.reverse(),ul.test(Ac(r).function||"")&&(r.pop(),ul.test(Ac(r).function||"")&&r.pop()),r.slice(0,nr).map(c=>({...c,filename:c.filename||Ac(r).filename,function:c.function||mr}))}(X.slice(N))}}function qf(a){return Array.isArray(a)?Vp(...a):a}function Ac(a){return a[a.length-1]||{}}const Kp="<anonymous>";function hl(a){try{return a&&"function"==typeof a&&a.name||Kp}catch{return Kp}}function Wp(a){const r=a.exception;if(r){const c=[];try{return r.values.forEach(T=>{T.stacktrace.frames&&c.push(...T.stacktrace.frames)}),c}catch{return}}}function ja(a,r=100,c=1/0){try{return hc("",a,r,c)}catch(T){return{ERROR:`**non-serializable** (${T})`}}}function Xl(a,r=3,c=102400){const T=ja(a,r);return function Eh(a){return function e_(a){return~-encodeURI(a).split(/%..|./).length}(JSON.stringify(a))}(T)>c?Xl(a,r-1,c):T}function hc(a,r,c=1/0,T=1/0,N=function dl(){const a="function"==typeof WeakSet,r=a?new WeakSet:[];return[function c(N){if(a)return!!r.has(N)||(r.add(N),!1);for(let X=0;X<r.length;X++)if(r[X]===N)return!0;return r.push(N),!1},function T(N){if(a)r.delete(N);else for(let X=0;X<r.length;X++)if(r[X]===N){r.splice(X,1);break}}]}()){const[X,se]=N;if(null==r||["number","boolean","string"].includes(typeof r)&&!Number.isNaN(r))return r;const ye=function wc(a,r){try{if("domain"===a&&r&&"object"==typeof r&&r._events)return"[Domain]";if("domainEmitter"===a)return"[DomainEmitter]";if(typeof global<"u"&&r===global)return"[Global]";if(typeof window<"u"&&r===window)return"[Window]";if(typeof document<"u"&&r===document)return"[Document]";if(Tn(r))return"[VueViewModel]";if(function Kt(a){return Pr(a)&&"nativeEvent"in a&&"preventDefault"in a&&"stopPropagation"in a}(r))return"[SyntheticEvent]";if("number"==typeof r&&r!=r)return"[NaN]";if("function"==typeof r)return`[Function: ${hl(r)}]`;if("symbol"==typeof r)return`[${String(r)}]`;if("bigint"==typeof r)return`[BigInt: ${String(r)}]`;const c=function Ev(a){const r=Object.getPrototypeOf(a);return r?r.constructor.name:"null prototype"}(r);return/^HTML(\w*)Element$/.test(c)?`[HTMLElement: ${c}]`:`[object ${c}]`}catch(c){return`**non-serializable** (${c})`}}(a,r);if(!ye.startsWith("[object "))return ye;if(r.__sentry_skip_normalization__)return r;const ke="number"==typeof r.__sentry_override_normalization_depth__?r.__sentry_override_normalization_depth__:c;if(0===ke)return ye.replace("object ","");if(X(r))return"[Circular ~]";const rt=r;if(rt&&"function"==typeof rt.toJSON)try{return hc("",rt.toJSON(),ke-1,T,N)}catch{}const St=Array.isArray(r)?[]:{};let Rt=0;const Jt=$p(r);for(const an in Jt)if(Object.prototype.hasOwnProperty.call(Jt,an)){if(Rt>=T){St[an]="[MaxProperties ~]";break}St[an]=hc(an,Jt[an],ke-1,T,N),Rt++}return se(r),St}var fl,a;function _a(a){return new Xs(r=>{r(a)})}function gr(a){return new Xs((r,c)=>{c(a)})}(a=fl||(fl={}))[a.PENDING=0]="PENDING",a[a.RESOLVED=1]="RESOLVED",a[a.REJECTED=2]="REJECTED";class Xs{constructor(r){Xs.prototype.__init.call(this),Xs.prototype.__init2.call(this),Xs.prototype.__init3.call(this),Xs.prototype.__init4.call(this),this._state=fl.PENDING,this._handlers=[];try{r(this._resolve,this._reject)}catch(c){this._reject(c)}}then(r,c){return new Xs((T,N)=>{this._handlers.push([!1,X=>{if(r)try{T(r(X))}catch(se){N(se)}else T(X)},X=>{if(c)try{T(c(X))}catch(se){N(se)}else N(X)}]),this._executeHandlers()})}catch(r){return this.then(c=>c,r)}finally(r){return new Xs((c,T)=>{let N,X;return this.then(se=>{X=!1,N=se,r&&r()},se=>{X=!0,N=se,r&&r()}).then(()=>{X?T(N):c(N)})})}__init(){this._resolve=r=>{this._setResult(fl.RESOLVED,r)}}__init2(){this._reject=r=>{this._setResult(fl.REJECTED,r)}}__init3(){this._setResult=(r,c)=>{if(this._state===fl.PENDING){if(ot(c))return void c.then(this._resolve,this._reject);this._state=r,this._value=c,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===fl.PENDING)return;const r=this._handlers.slice();this._handlers=[],r.forEach(c=>{c[0]||(this._state===fl.RESOLVED&&c[1](this._value),this._state===fl.REJECTED&&c[2](this._value),c[0]=!0)})}}}const Ui=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Hl(a,r,c,T=0){return new Xs((N,X)=>{const se=a[T];if(null===r||"function"!=typeof se)N(r);else{const ye=se({...r},c);Ui&&se.id&&null===ye&&Mn.log(`Event processor "${se.id}" dropped event`),ot(ye)?ye.then(ke=>Hl(a,ke,c,T+1).then(N)).then(null,X):Hl(a,ye,c,T+1).then(N).then(null,X)}})}const fc="baggage",Ch="sentry-",kc=/^sentry-/,Cv=8192;function t_(a){const r=function n_(a){if(a&&(xo(a)||Array.isArray(a)))return Array.isArray(a)?a.reduce((r,c)=>{const T=Ml(c);return Object.entries(T).forEach(([N,X])=>{r[N]=X}),r},{}):Ml(a)}(a);if(!r)return;const c=Object.entries(r).reduce((T,[N,X])=>(N.match(kc)&&(T[N.slice(Ch.length)]=X),T),{});return Object.keys(c).length>0?c:void 0}function zp(a){if(a)return function vd(a){if(0!==Object.keys(a).length)return Object.entries(a).reduce((r,[c,T],N)=>{const X=`${encodeURIComponent(c)}=${encodeURIComponent(T)}`,se=0===N?X:`${r},${X}`;return se.length>Cv?(co&&Mn.warn(`Not adding key: ${c} with val: ${T} to baggage header due to exceeding baggage size limits.`),r):se},"")}(Object.entries(a).reduce((c,[T,N])=>(N&&(c[`${Ch}${T}`]=N),c),{}))}function Ml(a){return a.split(",").map(r=>r.split("=").map(c=>decodeURIComponent(c.trim()))).reduce((r,[c,T])=>(c&&T&&(r[c]=T),r),{})}const ir="sentry.source",Pc="sentry.sample_rate",uu="sentry.op",Ts="sentry.origin",hs="sentry.idle_span_finish_reason",Mh="sentry.measurement_unit",i_="sentry.measurement_value",Xp="sentry.exclusive_time",Mv=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function bd(a=so(),r=so().substring(16),c){let T="";return void 0!==c&&(T=c?"-1":"-0"),`${a}-${r}${T}`}const jo="_sentryMetrics";function Ln(a){const r=a[jo];if(!r)return;const c={};for(const[,[T,N]]of r)(c[T]||(c[T]=[])).push(is(N));return c}const Ds=0,$a=1,ho=2;function Fc(a,r){a.setAttribute("http.response.status_code",r);const c=function Nr(a){if(a<400&&a>=100)return{code:$a};if(a>=400&&a<500)switch(a){case 401:return{code:ho,message:"unauthenticated"};case 403:return{code:ho,message:"permission_denied"};case 404:return{code:ho,message:"not_found"};case 409:return{code:ho,message:"already_exists"};case 413:return{code:ho,message:"failed_precondition"};case 429:return{code:ho,message:"resource_exhausted"};case 499:return{code:ho,message:"cancelled"};default:return{code:ho,message:"invalid_argument"}}if(a>=500&&a<600)switch(a){case 501:return{code:ho,message:"unimplemented"};case 503:return{code:ho,message:"unavailable"};case 504:return{code:ho,message:"deadline_exceeded"};default:return{code:ho,message:"internal_error"}}return{code:ho,message:"unknown_error"}}(r);"unknown_error"!==c.message&&a.setStatus(c)}const fs=1;function Tl(a){const{spanId:r,traceId:c}=a.spanContext(),{data:T,op:N,parent_span_id:X,status:se,origin:ye}=yi(a);return is({parent_span_id:X,span_id:r,trace_id:c,data:T,op:N,status:se,origin:ye})}function Ri(a){const{spanId:r,traceId:c}=a.spanContext(),{parent_span_id:T}=yi(a);return is({parent_span_id:T,span_id:r,trace_id:c})}function yd(a){const{traceId:r,spanId:c}=a.spanContext();return bd(r,c,Br(a))}function _c(a){return"number"==typeof a?Ua(a):Array.isArray(a)?a[0]+a[1]/1e9:a instanceof Date?Ua(a.getTime()):er()}function Ua(a){return a>9999999999?a/1e3:a}function yi(a){if(function Ed(a){return"function"==typeof a.getSpanJSON}(a))return a.getSpanJSON();try{const{spanId:r,traceId:c}=a.spanContext();if(function Nc(a){return!!(a.attributes&&a.startTime&&a.name&&a.endTime&&a.status)}(a)){const{attributes:T,startTime:N,name:X,endTime:se,parentSpanId:ye,status:ke}=a;return is({span_id:r,trace_id:c,data:T,description:X,parent_span_id:ye,start_timestamp:_c(N),timestamp:_c(se)||void 0,status:Bc(ke),op:T[uu],origin:T[Ts],_metrics_summary:Ln(a)})}return{span_id:r,trace_id:c}}catch{return{}}}function Br(a){const{traceFlags:r}=a.spanContext();return r===fs}function Bc(a){if(a&&a.code!==Ds)return a.code===$a?"ok":a.message||"unknown_error"}const pa="_sentryChildSpans",Dl="_sentryRootSpan";function fu(a,r){Qr(r,Dl,a[Dl]||a),a[pa]?a[pa].add(r):Qr(a,pa,new Set([r]))}function hi(a){const r=new Set;return function c(T){if(!r.has(T)&&Br(T)){r.add(T);const N=T[pa]?Array.from(T[pa]):[];for(const X of N)c(X)}}(a),Array.from(r)}function Ss(a){return a[Dl]||a}function Jo(){const r=rn(Nn());return r.getActiveSpan?r.getActiveSpan():du(pn())}const _u="_frozenDsc";function pc(a,r){Qr(a,_u,r)}function fo(a,r){const c=r.getOptions(),{publicKey:T}=r.getDsn()||{},N=is({environment:c.environment||mn,release:c.release,public_key:T,trace_id:a});return r.emit("createDsc",N),N}function ma(a){const r=Mi();if(!r)return{};const c=fo(yi(a).trace_id||"",r),T=Ss(a),N=T[_u];if(N)return N;const X=T.spanContext().traceState,se=X&&X.get("sentry.dsc"),ye=se&&t_(se);if(ye)return ye;const ke=yi(T),rt=ke.data||{},St=rt[Pc];null!=St&&(c.sample_rate=`${St}`);const Jt=ke.description;return"url"!==rt[ir]&&Jt&&(c.transaction=Jt),c.sampled=String(Br(T)),r.emit("createDsc",c,T),c}function pu(a,r){const{extra:c,tags:T,user:N,contexts:X,level:se,sdkProcessingMetadata:ye,breadcrumbs:ke,fingerprint:rt,eventProcessors:St,attachments:Rt,propagationContext:Jt,transactionName:an,span:sn}=r;_l(a,"extra",c),_l(a,"tags",T),_l(a,"user",N),_l(a,"contexts",X),_l(a,"sdkProcessingMetadata",ye),se&&(a.level=se),an&&(a.transactionName=an),sn&&(a.span=sn),ke.length&&(a.breadcrumbs=[...a.breadcrumbs,...ke]),rt.length&&(a.fingerprint=[...a.fingerprint,...rt]),St.length&&(a.eventProcessors=[...a.eventProcessors,...St]),Rt.length&&(a.attachments=[...a.attachments,...Rt]),a.propagationContext={...a.propagationContext,...Jt}}function _l(a,r,c){if(c&&Object.keys(c).length){a[r]={...a[r]};for(const T in c)Object.prototype.hasOwnProperty.call(c,T)&&(a[r][T]=c[T])}}function Sl(a,r,c,T,N,X){const{normalizeDepth:se=3,normalizeMaxBreadth:ye=1e3}=a,ke={...r,event_id:r.event_id||c.event_id||so(),timestamp:r.timestamp||Ba()},rt=c.integrations||a.integrations.map(Gn=>Gn.name);(function ga(a,r){const{environment:c,release:T,dist:N,maxValueLength:X=250}=r;"environment"in a||(a.environment="environment"in r?c:mn),void 0===a.release&&void 0!==T&&(a.release=T),void 0===a.dist&&void 0!==N&&(a.dist=N),a.message&&(a.message=Ws(a.message,X));const se=a.exception&&a.exception.values&&a.exception.values[0];se&&se.value&&(se.value=Ws(se.value,X));const ye=a.request;ye&&ye.url&&(ye.url=Ws(ye.url,X))})(ke,a),function Yp(a,r){r.length>0&&(a.sdk=a.sdk||{},a.sdk.integrations=[...a.sdk.integrations||[],...r])}(ke,rt),N&&N.emit("applyFrameMetadata",r),void 0===r.type&&function Ga(a,r){const c=Vt._sentryDebugIds;if(!c)return;let T;const N=Md.get(r);N?T=N:(T=new Map,Md.set(r,T));const X=Object.entries(c).reduce((se,[ye,ke])=>{let rt;const St=T.get(ye);St?rt=St:(rt=r(ye),T.set(ye,rt));for(let Rt=rt.length-1;Rt>=0;Rt--){const Jt=rt[Rt];if(Jt.filename){se[Jt.filename]=ke;break}}return se},{});try{a.exception.values.forEach(se=>{se.stacktrace.frames.forEach(ye=>{ye.filename&&(ye.debug_id=X[ye.filename])})})}catch{}}(ke,a.stackParser);const St=function Dh(a,r){if(!r)return a;const c=a?a.clone():new Fr;return c.update(r),c}(T,c.captureContext);c.mechanism&&lc(ke,c.mechanism);const Rt=N?N.getEventProcessors():[],Jt=function mi(){return cn("globalScope",()=>new Fr)}().getScopeData();X&&pu(Jt,X.getScopeData()),St&&pu(Jt,St.getScopeData());const an=[...c.attachments||[],...Jt.attachments];return an.length&&(c.attachments=an),function vr(a,r){const{fingerprint:c,span:T,breadcrumbs:N,sdkProcessingMetadata:X}=r;(function Cd(a,r){const{extra:c,tags:T,user:N,contexts:X,level:se,transactionName:ye}=r,ke=is(c);ke&&Object.keys(ke).length&&(a.extra={...ke,...a.extra});const rt=is(T);rt&&Object.keys(rt).length&&(a.tags={...rt,...a.tags});const St=is(N);St&&Object.keys(St).length&&(a.user={...St,...a.user});const Rt=is(X);Rt&&Object.keys(Rt).length&&(a.contexts={...Rt,...a.contexts}),se&&(a.level=se),ye&&"transaction"!==a.type&&(a.transaction=ye)})(a,r),T&&function s_(a,r){a.contexts={trace:Ri(r),...a.contexts},a.sdkProcessingMetadata={dynamicSamplingContext:ma(r),...a.sdkProcessingMetadata};const T=yi(Ss(r)).description;T&&!a.transaction&&"transaction"===a.type&&(a.transaction=T)}(a,T),function Is(a,r){a.fingerprint=a.fingerprint?_d(a.fingerprint):[],r&&(a.fingerprint=a.fingerprint.concat(r)),a.fingerprint&&!a.fingerprint.length&&delete a.fingerprint}(a,c),function or(a,r){const c=[...a.breadcrumbs||[],...r];a.breadcrumbs=c.length?c:void 0}(a,N),function os(a,r){a.sdkProcessingMetadata={...a.sdkProcessingMetadata,...r}}(a,X)}(ke,Jt),Hl([...Rt,...Jt.eventProcessors],ke,c).then(Gn=>(Gn&&function Hp(a){const r={};try{a.exception.values.forEach(T=>{T.stacktrace.frames.forEach(N=>{N.debug_id&&(N.abs_path?r[N.abs_path]=N.debug_id:N.filename&&(r[N.filename]=N.debug_id),delete N.debug_id)})})}catch{}if(0===Object.keys(r).length)return;a.debug_meta=a.debug_meta||{},a.debug_meta.images=a.debug_meta.images||[];const c=a.debug_meta.images;Object.entries(r).forEach(([T,N])=>{c.push({type:"sourcemap",code_file:T,debug_id:N})})}(Gn),"number"==typeof se&&se>0?function jc(a,r,c){if(!a)return null;const T={...a,...a.breadcrumbs&&{breadcrumbs:a.breadcrumbs.map(N=>({...N,...N.data&&{data:ja(N.data,r,c)}}))},...a.user&&{user:ja(a.user,r,c)},...a.contexts&&{contexts:ja(a.contexts,r,c)},...a.extra&&{extra:ja(a.extra,r,c)}};return a.contexts&&a.contexts.trace&&T.contexts&&(T.contexts.trace=a.contexts.trace,a.contexts.trace.data&&(T.contexts.trace.data=ja(a.contexts.trace.data,r,c))),a.spans&&(T.spans=a.spans.map(N=>({...N,...N.data&&{data:ja(N.data,r,c)}}))),T}(Gn,se,ye):Gn))}const Md=new WeakMap;const r_=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function vu(a,r){return pn().captureException(a,function mc(a){if(a)return function mu(a){return a instanceof Fr||"function"==typeof a}(a)||function gu(a){return Object.keys(a).some(r=>r_.includes(r))}(a)?{captureContext:a}:a}(r))}function Sh(a,r){return pn().captureEvent(a,r)}function a_(a,r){qn().setContext(a,r)}function bu(a){const r=Mi(),c=qn(),T=pn(),{release:N,environment:X=mn}=r&&r.getOptions()||{},{userAgent:se}=Vt.navigator||{},ye=function Jf(a){const r=er(),c={sid:so(),init:!0,timestamp:r,started:r,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function bh(a){return is({sid:`${a.sid}`,init:a.init,started:new Date(1e3*a.started).toISOString(),timestamp:new Date(1e3*a.timestamp).toISOString(),status:a.status,errors:a.errors,did:"number"==typeof a.did||"string"==typeof a.did?`${a.did}`:void 0,duration:a.duration,abnormal_mechanism:a.abnormal_mechanism,attrs:{release:a.release,environment:a.environment,ip_address:a.ipAddress,user_agent:a.userAgent}})}(c)};return a&&fa(c,a),c}({release:N,environment:X,user:T.getUser()||c.getUser(),...se&&{userAgent:se},...a}),ke=c.getSession();return ke&&"ok"===ke.status&&fa(ke,{status:"exited"}),Td(),c.setSession(ye),T.setSession(ye),ye}function Td(){const a=qn(),r=pn(),c=r.getSession()||a.getSession();c&&function tr(a,r){let c={};r?c={status:r}:"ok"===a.status&&(c={status:"exited"}),fa(a,c)}(c),va(),a.setSession(),r.setSession()}function va(){const a=qn(),r=pn(),c=Mi(),T=r.getSession()||a.getSession();T&&c&&c.captureSession(T)}function xh(a=!1){a?Td():va()}const Dd=[];function Rh(a){const r=a.defaultIntegrations||[],c=a.integrations;let T;r.forEach(se=>{se.isDefaultInstance=!0}),T=Array.isArray(c)?[...r,...c]:"function"==typeof c?_d(c(r)):r;const N=function _o(a){const r={};return a.forEach(c=>{const{name:T}=c,N=r[T];N&&!N.isDefaultInstance&&c.isDefaultInstance||(r[T]=c)}),Object.values(r)}(T),X=N.findIndex(se=>"Debug"===se.name);if(X>-1){const[se]=N.splice(X,1);N.push(se)}return N}function sr(a,r){for(const c of r)c&&c.afterAllSetup&&c.afterAllSetup(a)}function ba(a,r,c){if(c[r.name])Ui&&Mn.log(`Integration skipped because it was already installed: ${r.name}`);else{if(c[r.name]=r,-1===Dd.indexOf(r.name)&&"function"==typeof r.setupOnce&&(r.setupOnce(),Dd.push(r.name)),r.setup&&"function"==typeof r.setup&&r.setup(a),"function"==typeof r.preprocessEvent){const T=r.preprocessEvent.bind(r);a.on("preprocessEvent",(N,X)=>T(N,X,a))}if("function"==typeof r.processEvent){const T=r.processEvent.bind(r),N=Object.assign((X,se)=>T(X,se,a),{id:r.name});a.addEventProcessor(N)}Ui&&Mn.log(`Integration installed: ${r.name}`)}}const Zr=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],d_=(a={})=>({name:"InboundFilters",processEvent(r,c,T){const N=T.getOptions(),X=function Y(a={},r={}){return{allowUrls:[...a.allowUrls||[],...r.allowUrls||[]],denyUrls:[...a.denyUrls||[],...r.denyUrls||[]],ignoreErrors:[...a.ignoreErrors||[],...r.ignoreErrors||[],...a.disableErrorDefaults?[]:Zr],ignoreTransactions:[...a.ignoreTransactions||[],...r.ignoreTransactions||[]],ignoreInternal:void 0===a.ignoreInternal||a.ignoreInternal}}(a,N);return function ee(a,r){return r.ignoreInternal&&function In(a){try{return"SentryError"===a.exception.values[0].type}catch{}return!1}(a)?(Ui&&Mn.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${Ms(a)}`),!0):function Be(a,r){return!(a.type||!r||!r.length)&&function un(a){const r=[];let c;a.message&&r.push(a.message);try{c=a.exception.values[a.exception.values.length-1]}catch{}return c&&c.value&&(r.push(c.value),c.type&&r.push(`${c.type}: ${c.value}`)),r}(a).some(c=>Yo(c,r))}(a,r.ignoreErrors)?(Ui&&Mn.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${Ms(a)}`),!0):function jn(a){return!(a.type||!a.exception||!a.exception.values||0===a.exception.values.length||a.message||a.exception.values.some(r=>r.stacktrace||r.type&&"Error"!==r.type||r.value))}(a)?(Ui&&Mn.warn(`Event dropped due to not having an error message, error type or stacktrace.\nEvent: ${Ms(a)}`),!0):function ct(a,r){if("transaction"!==a.type||!r||!r.length)return!1;const c=a.transaction;return!!c&&Yo(c,r)}(a,r.ignoreTransactions)?(Ui&&Mn.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${Ms(a)}`),!0):function Bt(a,r){if(!r||!r.length)return!1;const c=On(a);return!!c&&Yo(c,r)}(a,r.denyUrls)?(Ui&&Mn.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${Ms(a)}.\nUrl: ${On(a)}`),!0):!function zt(a,r){if(!r||!r.length)return!0;const c=On(a);return!c||Yo(c,r)}(a,r.allowUrls)&&(Ui&&Mn.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${Ms(a)}.\nUrl: ${On(a)}`),!0)}(r,X)?null:r}});function On(a){try{let r;try{r=a.exception.values[0].stacktrace.frames}catch{}return r?function ai(a=[]){for(let r=a.length-1;r>=0;r--){const c=a[r];if(c&&"<anonymous>"!==c.filename&&"[native code]"!==c.filename)return c.filename||null}return null}(r):null}catch{return Ui&&Mn.error(`Cannot extract url for event ${Ms(a)}`),null}}let Zi;const po=new WeakMap,jr=()=>({name:"FunctionToString",setupOnce(){Zi=Function.prototype.toString;try{Function.prototype.toString=function(...a){const r=Jr(this),c=po.has(Mi())&&void 0!==r?r:this;return Zi.apply(c,a)}}catch{}},setup(a){po.set(a,!0)}}),tm=()=>{let a;return{name:"Dedupe",processEvent(r){if(r.type)return r;try{if(function Sd(a,r){return!(!r||!function Fy(a,r){const c=a.message,T=r.message;return!(!c&&!T||c&&!T||!c&&T||c!==T||!Rv(a,r)||!xv(a,r))}(a,r)&&!function Ny(a,r){const c=Av(r),T=Av(a);return!!(c&&T&&c.type===T.type&&c.value===T.value&&Rv(a,r)&&xv(a,r))}(a,r))}(r,a))return Ui&&Mn.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return a=r}}};function xv(a,r){let c=Wp(a),T=Wp(r);if(!c&&!T)return!0;if(c&&!T||!c&&T||T.length!==c.length)return!1;for(let N=0;N<T.length;N++){const X=T[N],se=c[N];if(X.filename!==se.filename||X.lineno!==se.lineno||X.colno!==se.colno||X.function!==se.function)return!1}return!0}function Rv(a,r){let c=a.fingerprint,T=r.fingerprint;if(!c&&!T)return!0;if(c&&!T||!c&&T)return!1;try{return c.join("")===T.join("")}catch{return!1}}function Av(a){return a.exception&&a.exception.values&&a.exception.values[0]}const wv=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function go(a,r=!1){const{host:c,path:T,pass:N,port:X,projectId:se,protocol:ye,publicKey:ke}=a;return`${ye}://${ke}${r&&N?`:${N}`:""}@${c}${X?`:${X}`:""}/${T&&`${T}/`}${se}`}function Eu(a){return{protocol:a.protocol,publicKey:a.publicKey||"",pass:a.pass||"",host:a.host,port:a.port||"",path:a.path||"",projectId:a.projectId}}function u_(a){const r="string"==typeof a?function Pv(a){const r=wv.exec(a);if(!r)return void Ks(()=>{console.error(`Invalid Sentry Dsn: ${a}`)});const[c,T,N="",X="",se="",ye=""]=r.slice(1);let ke="",rt=ye;const St=rt.split("/");if(St.length>1&&(ke=St.slice(0,-1).join("/"),rt=St.pop()),rt){const Rt=rt.match(/^\d+/);Rt&&(rt=Rt[0])}return Eu({host:X,pass:N,path:ke,projectId:rt,port:se,protocol:c,publicKey:T})}(a):Eu(a);if(r&&function xl(a){if(!co)return!0;const{port:r,projectId:c,protocol:T}=a;return!(["protocol","publicKey","host","projectId"].find(se=>!a[se]&&(Mn.error(`Invalid Sentry Dsn: ${se} missing`),!0))||(c.match(/^\d+$/)?function kv(a){return"http"===a||"https"===a}(T)?r&&isNaN(parseInt(r,10))&&(Mn.error(`Invalid Sentry Dsn: Invalid port ${r}`),1):(Mn.error(`Invalid Sentry Dsn: Invalid protocol ${T}`),1):(Mn.error(`Invalid Sentry Dsn: Invalid projectId ${c}`),1)))}(r))return r}const nm="7";function im(a){return`${a.protocol?`${a.protocol}:`:""}//${a.host}${a.port?`:${a.port}`:""}${a.path?`/${a.path}`:""}/api/`}function Lv(a,r,c){return r||`${function iD(a){return`${im(a)}${a.projectId}/envelope/`}(a)}?${function oD(a,r){return function ud(a){return Object.keys(a).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(a[r])}`).join("&")}({sentry_key:a.publicKey,sentry_version:nm,...r&&{sentry_client:`${r.name}/${r.version}`}})}(a,c)}`}const wh=Vt;function Ka(){if(!("fetch"in wh))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function Rl(a){return a&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(a.toString())}const Cu={},h_={};function gc(a,r){Cu[a]=Cu[a]||[],Cu[a].push(r)}function Ql(a,r){h_[a]||(r(),h_[a]=!0)}function Al(a,r){const c=a&&Cu[a];if(c)for(const T of c)try{T(r)}catch(N){co&&Mn.error(`Error while triggering instrumentation handler.\nType: ${a}\nName: ${hl(T)}\nError:`,N)}}const kh=Vt,Fi=Vt;let Ph;function Lh(a){const r="history";gc(r,a),Ql(r,Bv)}function Bv(){if(!function om(){const a=kh.chrome;return!(a&&a.app&&a.app.runtime||!("history"in kh)||!kh.history.pushState||!kh.history.replaceState)}())return;const a=Fi.onpopstate;function r(c){return function(...T){const N=T.length>2?T[2]:void 0;if(N){const X=Ph,se=String(N);Ph=se,Al("history",{from:X,to:se})}return c.apply(this,T)}}Fi.onpopstate=function(...c){const T=Fi.location.href,N=Ph;if(Ph=T,Al("history",{from:N,to:T}),a)try{return a.apply(this,c)}catch{}},Qo(Fi.history,"pushState",r),Qo(Fi.history,"replaceState",r)}function vc(a,r=[]){return[a,r]}function Uy(a,r){const[c,T]=a;return[c,[...T,r]]}function Hs(a,r){const c=a[1];for(const T of c)if(r(T,T[0].type))return!0;return!1}function Ro(a){return Vt.__SENTRY__&&Vt.__SENTRY__.encodePolyfill?Vt.__SENTRY__.encodePolyfill(a):(new TextEncoder).encode(a)}function Vy(a){const[r,c]=a;let T=JSON.stringify(r);function N(X){"string"==typeof T?T="string"==typeof X?T+X:[Ro(T),X]:T.push("string"==typeof X?Ro(X):X)}for(const X of c){const[se,ye]=X;if(N(`\n${JSON.stringify(se)}\n`),"string"==typeof ye||ye instanceof Uint8Array)N(ye);else{let ke;try{ke=JSON.stringify(ye)}catch{ke=JSON.stringify(ja(ye))}N(ke)}}return"string"==typeof T?T:function $v(a){const r=a.reduce((N,X)=>N+X.length,0),c=new Uint8Array(r);let T=0;for(const N of a)c.set(N,T),T+=N.length;return c}(T)}function Uv(a){return[{type:"span"},a]}function Vv(a){const r="string"==typeof a.data?Ro(a.data):a.data;return[is({type:"attachment",length:r.length,filename:a.filename,content_type:a.contentType,attachment_type:a.attachmentType}),r]}const Fh={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function wl(a){return Fh[a]}function sm(a){if(!a||!a.sdk)return;const{name:r,version:c}=a.sdk;return{name:r,version:c}}function Nh(a,r,c,T){const N=a.sdkProcessingMetadata&&a.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:a.event_id,sent_at:(new Date).toISOString(),...r&&{sdk:r},...!!c&&T&&{dsn:go(T)},...N&&{trace:is({...N})}}}class Wa extends Error{constructor(r,c="warn"){super(r),this.message=r,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=c}}function bc(a){if("boolean"==typeof a)return Number(a);const r="string"==typeof a?parseFloat(a):a;if(!("number"!=typeof r||isNaN(r)||r<0||r>1))return r;Ui&&Mn.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(a)} of type ${JSON.stringify(typeof a)}.`)}const Tu="Not capturing exception because it's already been captured.";class Ky{constructor(r){if(this._options=r,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],r.dsn?this._dsn=u_(r.dsn):Ui&&Mn.warn("No DSN provided, client will not send events."),this._dsn){const c=Lv(this._dsn,r.tunnel,r._metadata?r._metadata.sdk:void 0);this._transport=r.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...r.transportOptions,url:c})}}captureException(r,c,T){const N=so();if(Qf(r))return Ui&&Mn.log(Tu),N;const X={event_id:N,...c};return this._process(this.eventFromException(r,X).then(se=>this._captureEvent(se,X,T))),X.event_id}captureMessage(r,c,T,N){const X={event_id:so(),...T},se=Gi(r)?r:String(r),ye=ll(r)?this.eventFromMessage(se,c,X):this.eventFromException(r,X);return this._process(ye.then(ke=>this._captureEvent(ke,X,N))),X.event_id}captureEvent(r,c,T){const N=so();if(c&&c.originalException&&Qf(c.originalException))return Ui&&Mn.log(Tu),N;const X={event_id:N,...c};return this._process(this._captureEvent(r,X,(r.sdkProcessingMetadata||{}).capturedSpanScope||T)),X.event_id}captureSession(r){"string"!=typeof r.release?Ui&&Mn.warn("Discarded session because of missing or non-string release"):(this.sendSession(r),fa(r,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(r){const c=this._transport;return c?(this.emit("flush"),this._isClientDoneProcessing(r).then(T=>c.flush(r).then(N=>T&&N))):_a(!0)}close(r){return this.flush(r).then(c=>(this.getOptions().enabled=!1,this.emit("close"),c))}getEventProcessors(){return this._eventProcessors}addEventProcessor(r){this._eventProcessors.push(r)}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationByName(r){return this._integrations[r]}addIntegration(r){const c=this._integrations[r.name];ba(this,r,this._integrations),c||sr(this,[r])}sendEvent(r,c={}){this.emit("beforeSendEvent",r,c);let T=function Kv(a,r,c,T){const N=sm(c),X=a.type&&"replay_event"!==a.type?a.type:"event";!function rm(a,r){r&&(a.sdk=a.sdk||{},a.sdk.name=a.sdk.name||r.name,a.sdk.version=a.sdk.version||r.version,a.sdk.integrations=[...a.sdk.integrations||[],...r.integrations||[]],a.sdk.packages=[...a.sdk.packages||[],...r.packages||[]])}(a,c&&c.sdk);const se=Nh(a,N,T,r);return delete a.sdkProcessingMetadata,vc(se,[[{type:X},a]])}(r,this._dsn,this._options._metadata,this._options.tunnel);for(const X of c.attachments||[])T=Uy(T,Vv(X));const N=this.sendEnvelope(T);N&&N.then(X=>this.emit("afterSendEvent",r,X),null)}sendSession(r){const c=function Gv(a,r,c,T){const N=sm(c);return vc({sent_at:(new Date).toISOString(),...N&&{sdk:N},...!!T&&r&&{dsn:go(r)}},["aggregates"in a?[{type:"sessions"},a]:[{type:"session"},a.toJSON()]])}(r,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(c)}recordDroppedEvent(r,c,T){if(this._options.sendClientReports){const N=`${r}:${c}`;Ui&&Mn.log(`Adding outcome: "${N}"`),this._outcomes[N]=(this._outcomes[N]||0)+1}}on(r,c){const T=this._hooks[r]=this._hooks[r]||[];return T.push(c),()=>{const N=T.indexOf(c);N>-1&&T.splice(N,1)}}emit(r,...c){const T=this._hooks[r];T&&T.forEach(N=>N(...c))}sendEnvelope(r){return this.emit("beforeEnvelope",r),this._isEnabled()&&this._transport?this._transport.send(r).then(null,c=>(Ui&&Mn.error("Error while sending event:",c),c)):(Ui&&Mn.error("Transport disabled"),_a({}))}_setupIntegrations(){const{integrations:r}=this._options;this._integrations=function $c(a,r){const c={};return r.forEach(T=>{T&&ba(a,T,c)}),c}(this,r),sr(this,r)}_updateSessionFromEvent(r,c){let T=!1,N=!1;const X=c.exception&&c.exception.values;if(X){N=!0;for(const ke of X){const rt=ke.mechanism;if(rt&&!1===rt.handled){T=!0;break}}}const se="ok"===r.status;(se&&0===r.errors||se&&T)&&(fa(r,{...T&&{status:"crashed"},errors:r.errors||Number(N||T)}),this.captureSession(r))}_isClientDoneProcessing(r){return new Xs(c=>{let T=0;const X=setInterval(()=>{0==this._numProcessing?(clearInterval(X),c(!0)):(T+=1,r&&T>=r&&(clearInterval(X),c(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(r,c,T,N=qn()){const X=this.getOptions(),se=Object.keys(this._integrations);return!c.integrations&&se.length>0&&(c.integrations=se),this.emit("preprocessEvent",r,c),r.type||N.setLastEventId(r.event_id||c.event_id),Sl(X,r,c,T,this,N).then(ye=>{if(null===ye)return ye;const ke={...N.getPropagationContext(),...T?T.getPropagationContext():void 0};if((!ye.contexts||!ye.contexts.trace)&&ke){const{traceId:St,spanId:Rt,parentSpanId:Jt,dsc:an}=ke;ye.contexts={trace:is({trace_id:St,span_id:Rt,parent_span_id:Jt}),...ye.contexts};const sn=an||fo(St,this);ye.sdkProcessingMetadata={dynamicSamplingContext:sn,...ye.sdkProcessingMetadata}}return ye})}_captureEvent(r,c={},T){return this._processEvent(r,c,T).then(N=>N.event_id,N=>{if(Ui){const X=N;"log"===X.logLevel?Mn.log(X.message):Mn.warn(X)}})}_processEvent(r,c,T){const N=this.getOptions(),{sampleRate:X}=N,se=lm(r),ye=zv(r),ke=r.type||"error",rt=`before send for type \`${ke}\``,St=typeof X>"u"?void 0:bc(X);if(ye&&"number"==typeof St&&Math.random()>St)return this.recordDroppedEvent("sample_rate","error",r),gr(new Wa(`Discarding event because it's not included in the random sample (sampling rate = ${X})`,"log"));const Rt="replay_event"===ke?"replay":ke;return this._prepareEvent(r,c,T,(r.sdkProcessingMetadata||{}).capturedSpanIsolationScope).then(sn=>{if(null===sn)throw this.recordDroppedEvent("event_processor",Rt,r),new Wa("An event processor returned `null`, will not send event.","log");if(c.data&&!0===c.data.__sentry__)return sn;const Gn=function Wv(a,r,c,T){const{beforeSend:N,beforeSendTransaction:X,beforeSendSpan:se}=r;if(zv(c)&&N)return N(c,T);if(lm(c)){if(c.spans&&se){const ye=[];for(const ke of c.spans){const rt=se(ke);rt?ye.push(rt):a.recordDroppedEvent("before_send","span")}c.spans=ye}if(X)return X(c,T)}return c}(this,N,sn,c);return function am(a,r){const c=`${r} must return \`null\` or a valid event.`;if(ot(a))return a.then(T=>{if(!Pr(T)&&null!==T)throw new Wa(c);return T},T=>{throw new Wa(`${r} rejected with ${T}`)});if(!Pr(a)&&null!==a)throw new Wa(c);return a}(Gn,rt)}).then(sn=>{if(null===sn)throw this.recordDroppedEvent("before_send",Rt,r),lm(r)&&(this._outcomes.span=(this._outcomes.span||0)+(1+(r.spans||[]).length)),new Wa(`${rt} returned \`null\`, will not send event.`,"log");const gn=T&&T.getSession();!se&&gn&&this._updateSessionFromEvent(gn,sn);const Gn=sn.transaction_info;if(se&&Gn&&sn.transaction!==r.transaction){const $n="custom";sn.transaction_info={...Gn,source:$n}}return this.sendEvent(sn,c),sn}).then(null,sn=>{throw sn instanceof Wa?sn:(this.captureException(sn,{data:{__sentry__:!0},originalException:sn}),new Wa(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${sn}`))})}_process(r){this._numProcessing++,r.then(c=>(this._numProcessing--,c),c=>(this._numProcessing--,c))}_clearOutcomes(){const r=this._outcomes;return this._outcomes={},Object.entries(r).map(([c,T])=>{const[N,X]=c.split(":");return{reason:N,category:X,quantity:T}})}_flushOutcomes(){Ui&&Mn.log("Flushing outcomes...");const r=this._clearOutcomes();if(0===r.length)return void(Ui&&Mn.log("No outcomes to send"));if(!this._dsn)return void(Ui&&Mn.log("No dsn provided, will not send outcomes"));Ui&&Mn.log("Sending outcomes:",r);const c=function f_(a,r,c){return vc(r?{dsn:r}:{},[[{type:"client_report"},{timestamp:c||Ba(),discarded_events:a}]])}(r,this._options.tunnel&&go(this._dsn));this.sendEnvelope(c)}}function zv(a){return void 0===a.type}function lm(a){return"transaction"===a.type}function Wy(a,r,c=[r],T="npm"){const N=a._metadata||{};N.sdk||(N.sdk={name:`sentry.javascript.${r}`,packages:c.map(X=>({name:`${T}:@sentry/${X}`,version:$t})),version:$t}),a._metadata=N}const Ls=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Bh(a,r){const c=Id(a,r),T={type:r&&r.name,value:lD(r)};return c.length&&(T.stacktrace={frames:c}),void 0===T.type&&""===T.value&&(T.value="Unrecoverable error caught"),T}function dm(a,r){return{exception:{values:[Bh(a,r)]}}}function Id(a,r){const c=r.stacktrace||r.stack||"",T=function um(a){return a&&zy.test(a.message)?1:0}(r),N=function __(a){return"number"==typeof a.framesToPop?a.framesToPop:0}(r);try{return a(c,T,N)}catch{}return[]}const zy=/Minified React error #\d+;/i;function lD(a){const r=a&&a.message;return r?r.error&&"string"==typeof r.error.message?r.error.message:r:"No error message"}function hm(a,r,c,T,N){let X;if(Xi(r)&&r.error)return dm(a,r.error);if(Ii(r)||function lo(a){return di(a,"DOMException")}(r)){const se=r;if("stack"in r)X=dm(a,r);else{const ye=se.name||(Ii(se)?"DOMError":"DOMException"),ke=se.message?`${ye}: ${se.message}`:ye;X=pl(a,ke,c,T),fd(X,ke)}return"code"in se&&(X.tags={...X.tags,"DOMException.code":`${se.code}`}),X}return Bn(r)?dm(a,r):Pr(r)||_e(r)?(X=function jh(a,r,c,T){const N=Mi(),X=N&&N.getOptions().normalizeDepth,se=function fm(a){for(const r in a)if(Object.prototype.hasOwnProperty.call(a,r)){const c=a[r];if(c instanceof Error)return c}}(r),ye={__serialized__:Xl(r,X)};if(se)return{exception:{values:[Bh(a,se)]},extra:ye};const ke={exception:{values:[{type:_e(r)?r.constructor.name:T?"UnhandledRejection":"Error",value:Xy(r,{isUnhandledRejection:T})}]},extra:ye};if(c){const rt=Id(a,c);rt.length&&(ke.exception.values[0].stacktrace={frames:rt})}return ke}(a,r,c,N),lc(X,{synthetic:!0}),X):(X=pl(a,r,c,T),fd(X,`${r}`,void 0),lc(X,{synthetic:!0}),X)}function pl(a,r,c,T){const N={};if(T&&c){const X=Id(a,c);X.length&&(N.exception={values:[{value:r,stacktrace:{frames:X}}]})}if(Gi(r)){const{__sentry_template_string__:X,__sentry_template_values__:se}=r;return N.logentry={message:X,params:se},N}return N.message=r,N}function Xy(a,{isUnhandledRejection:r}){const c=function Lr(a,r=40){const c=Object.keys($p(a));c.sort();const T=c[0];if(!T)return"[object has no keys]";if(T.length>=r)return Ws(T,r);for(let N=c.length;N>0;N--){const X=c.slice(0,N).join(", ");if(!(X.length>r))return N===c.length?X:Ws(X,r)}return""}(a),T=r?"promise rejection":"exception";return Xi(a)?`Event \`ErrorEvent\` captured as ${T} with message \`${a.message}\``:_e(a)?`Event \`${function p_(a){try{const r=Object.getPrototypeOf(a);return r?r.constructor.name:void 0}catch{}}(a)}\` (type=${a.type}) captured as ${T}`:`Object captured as ${T} with keys: ${c}`}const Ai=Vt;let Du=0;function m_(){return Du>0}function Od(a,r={},c){if("function"!=typeof a)return a;try{const N=a.__sentry_wrapped__;if(N)return N;if(Jr(a))return a}catch{return a}const T=function(){const N=Array.prototype.slice.call(arguments);try{c&&"function"==typeof c&&c.apply(this,arguments);const X=N.map(se=>Od(se,r));return a.apply(this,X)}catch(X){throw function Hy(){Du++,setTimeout(()=>{Du--})}(),ro(se=>{se.addEventProcessor(ye=>(r.mechanism&&(fd(ye,void 0,void 0),lc(ye,r.mechanism)),ye.extra={...ye.extra,arguments:N},ye)),vu(X)}),X}};try{for(const N in a)Object.prototype.hasOwnProperty.call(a,N)&&(T[N]=a[N])}catch{}Fa(T,a),Qr(a,"__sentry_wrapped__",T);try{Object.getOwnPropertyDescriptor(T,"name").configurable&&Object.defineProperty(T,"name",{get:()=>a.name})}catch{}return T}class Jv extends Ky{constructor(r){const c={parentSpanIsAlwaysRootSpan:!0,...r};Wy(c,"browser",["browser"],Ai.SENTRY_SDK_SOURCE||"npm"),super(c),c.sendClientReports&&Ai.document&&Ai.document.addEventListener("visibilitychange",()=>{"hidden"===Ai.document.visibilityState&&this._flushOutcomes()})}eventFromException(r,c){return function Xv(a,r,c,T){const X=hm(a,r,c&&c.syntheticException||void 0,T);return lc(X),X.level="error",c&&c.event_id&&(X.event_id=c.event_id),_a(X)}(this._options.stackParser,r,c,this._options.attachStacktrace)}eventFromMessage(r,c="info",T){return function Hv(a,r,c="info",T,N){const se=pl(a,r,T&&T.syntheticException||void 0,N);return se.level=c,T&&T.event_id&&(se.event_id=T.event_id),_a(se)}(this._options.stackParser,r,c,T,this._options.attachStacktrace)}captureUserFeedback(r){if(!this._isEnabled())return void(Ls&&Mn.warn("SDK not enabled, will not capture user feedback."));const c=function Yv(a,{metadata:r,tunnel:c,dsn:T}){const N={event_id:a.event_id,sent_at:(new Date).toISOString(),...r&&r.sdk&&{sdk:{name:r.sdk.name,version:r.sdk.version}},...!!c&&!!T&&{dsn:go(T)}},X=function Qv(a){return[{type:"user_report"},a]}(a);return vc(N,[X])}(r,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(c)}_prepareEvent(r,c,T){return r.platform=r.platform||"javascript",super._prepareEvent(r,c,T)}}const Yy=1e3;let $h,yc,_m;function pm(a){gc("dom",a),Ql("dom",Zv)}function Zv(){if(!Fi.document)return;const a=Al.bind(null,"dom"),r=Fs(a,!0);Fi.document.addEventListener("click",r,!1),Fi.document.addEventListener("keypress",r,!1),["EventTarget","Node"].forEach(c=>{const T=Fi[c]&&Fi[c].prototype;!T||!T.hasOwnProperty||!T.hasOwnProperty("addEventListener")||(Qo(T,"addEventListener",function(N){return function(X,se,ye){if("click"===X||"keypress"==X)try{const ke=this,rt=ke.__sentry_instrumentation_handlers__=ke.__sentry_instrumentation_handlers__||{},St=rt[X]=rt[X]||{refCount:0};if(!St.handler){const Rt=Fs(a);St.handler=Rt,N.call(this,X,Rt,ye)}St.refCount++}catch{}return N.call(this,X,se,ye)}}),Qo(T,"removeEventListener",function(N){return function(X,se,ye){if("click"===X||"keypress"==X)try{const ke=this,rt=ke.__sentry_instrumentation_handlers__||{},St=rt[X];St&&(St.refCount--,St.refCount<=0&&(N.call(this,X,St.handler,ye),St.handler=void 0,delete rt[X]),0===Object.keys(rt).length&&delete ke.__sentry_instrumentation_handlers__)}catch{}return N.call(this,X,se,ye)}}))})}function Fs(a,r=!1){return c=>{if(!c||c._sentryCaptured)return;const T=function Qy(a){try{return a.target}catch{return null}}(c);if(function Iu(a,r){return!("keypress"!==a||r&&r.tagName&&("INPUT"===r.tagName||"TEXTAREA"===r.tagName||r.isContentEditable))}(c.type,T))return;Qr(c,"_sentryCaptured",!0),T&&!T._sentryId&&Qr(T,"_sentryId",so());const N="keypress"===c.type?"input":c.type;(function Su(a){if(a.type!==yc)return!1;try{if(!a.target||a.target._sentryId!==_m)return!1}catch{}return!0})(c)||(a({event:c,name:N,global:r}),yc=c.type,_m=T?T._sentryId:void 0),clearTimeout($h),$h=Fi.setTimeout(()=>{_m=void 0,yc=void 0},Yy)}}const Kc="__sentry_xhr_v3__";function g_(a){gc("xhr",a),Ql("xhr",Jy)}function Jy(){if(!Fi.XMLHttpRequest)return;const a=XMLHttpRequest.prototype;Qo(a,"open",function(r){return function(...c){const T=1e3*er(),N=xo(c[0])?c[0].toUpperCase():void 0,X=function qv(a){if(xo(a))return a;try{return a.toString()}catch{}}(c[1]);if(!N||!X)return r.apply(this,c);this[Kc]={method:N,url:X,request_headers:{}},"POST"===N&&X.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const se=()=>{const ye=this[Kc];if(ye&&4===this.readyState){try{ye.status_code=this.status}catch{}Al("xhr",{endTimestamp:1e3*er(),startTimestamp:T,xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?Qo(this,"onreadystatechange",function(ye){return function(...ke){return se(),ye.apply(this,ke)}}):this.addEventListener("readystatechange",se),Qo(this,"setRequestHeader",function(ye){return function(...ke){const[rt,St]=ke,Rt=this[Kc];return Rt&&xo(rt)&&xo(St)&&(Rt.request_headers[rt.toLowerCase()]=St),ye.apply(this,ke)}}),r.apply(this,c)}}),Qo(a,"send",function(r){return function(...c){const T=this[Kc];return T?(void 0!==c[0]&&(T.body=c[0]),Al("xhr",{startTimestamp:1e3*er(),xhr:this}),r.apply(this,c)):r.apply(this,c)}})}const v_=100;function Wc(a,r){const c=Mi(),T=qn();if(!c)return;const{beforeBreadcrumb:N=null,maxBreadcrumbs:X=v_}=c.getOptions();if(X<=0)return;const ye={timestamp:Ba(),...a},ke=N?Ks(()=>N(ye,r)):ye;null!==ke&&(c.emit&&c.emit("beforeAddBreadcrumb",ke,r),T.addBreadcrumb(ke,X))}function mm(){"console"in Vt&&pr.forEach(function(a){a in Vt.console&&Qo(Vt.console,a,function(r){return ha[a]=r,function(...c){Al("console",{args:c,level:a});const N=ha[a];N&&N.apply(Vt.console,c)}})})}function Uh(a){const r="fetch";gc(r,a),Ql(r,t0)}function t0(){(function jy(){if("string"==typeof EdgeRuntime)return!0;if(!Ka())return!1;if(Rl(wh.fetch))return!0;let a=!1;const r=wh.document;if(r&&"function"==typeof r.createElement)try{const c=r.createElement("iframe");c.hidden=!0,r.head.appendChild(c),c.contentWindow&&c.contentWindow.fetch&&(a=Rl(c.contentWindow.fetch)),r.head.removeChild(c)}catch(c){co&&Mn.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",c)}return a})()&&Qo(Vt,"fetch",function(a){return function(...r){const{method:c,url:T}=function Zy(a){if(0===a.length)return{method:"GET",url:""};if(2===a.length){const[c,T]=a;return{url:n0(c),method:gm(T,"method")?String(T.method).toUpperCase():"GET"}}const r=a[0];return{url:n0(r),method:gm(r,"method")?String(r.method).toUpperCase():"GET"}}(r),N={args:r,fetchData:{method:c,url:T},startTimestamp:1e3*er()};Al("fetch",{...N});const X=(new Error).stack;return a.apply(Vt,r).then(se=>(Al("fetch",{...N,endTimestamp:1e3*er(),response:se}),se),se=>{throw Al("fetch",{...N,endTimestamp:1e3*er(),error:se}),Bn(se)&&void 0===se.stack&&(se.stack=X,Qr(se,"framesToPop",1)),se})}})}function gm(a,r){return!!a&&"object"==typeof a&&!!a[r]}function n0(a){return"string"==typeof a?a:a?gm(a,"url")?a.url:a.toString?a.toString():"":""}const o0=["fatal","error","warning","log","info","debug"];function qy(a){return"warn"===a?"warning":o0.includes(a)?a:"log"}function zc(a){if(!a)return{};const r=a.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!r)return{};const c=r[6]||"",T=r[8]||"";return{host:r[4],path:r[5],protocol:r[2],search:c,hash:T,relative:r[5]+c+T}}const tE=(a={})=>{const r={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...a};return{name:"Breadcrumbs",setup(c){r.console&&function e0(a){const r="console";gc(r,a),Ql(r,mm)}(function r0(a){return function(c){if(Mi()!==a)return;const T={category:"console",data:{arguments:c.args,logger:"console"},level:qy(c.level),message:cl(c.args," ")};if("assert"===c.level){if(!1!==c.args[0])return;T.message=`Assertion failed: ${cl(c.args.slice(1)," ")||"console.assert"}`,T.data.arguments=c.args.slice(1)}Wc(T,{input:c.args,level:c.level})}}(c)),r.dom&&pm(function dD(a,r){return function(T){if(Mi()!==a)return;let N,X,se="object"==typeof r?r.serializeAttribute:void 0,ye="object"==typeof r&&"number"==typeof r.maxStringLength?r.maxStringLength:void 0;ye&&ye>1024&&(Ls&&Mn.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${ye} was configured. Sentry will use 1024 instead.`),ye=1024),"string"==typeof se&&(se=[se]);try{const rt=T.event,St=function a0(a){return!!a&&!!a.target}(rt)?rt.target:rt;N=Ci(St,{keyAttrs:se,maxStringLength:ye}),X=Yi(St)}catch{N="<unknown>"}if(0===N.length)return;const ke={category:`ui.${T.name}`,message:N};X&&(ke.data={"ui.component_name":X}),Wc(ke,{event:T.event,name:T.name,global:T.global})}}(c,r.dom)),r.xhr&&g_(function uD(a){return function(c){if(Mi()!==a)return;const{startTimestamp:T,endTimestamp:N}=c,X=c.xhr[Kc];if(!T||!N||!X)return;const{method:se,url:ye,status_code:ke,body:rt}=X;Wc({category:"xhr",data:{method:se,url:ye,status_code:ke},type:"http"},{xhr:c.xhr,input:rt,startTimestamp:T,endTimestamp:N})}}(c)),r.fetch&&Uh(function vm(a){return function(c){if(Mi()!==a)return;const{startTimestamp:T,endTimestamp:N}=c;if(N&&(!c.fetchData.url.match(/sentry_key/)||"POST"!==c.fetchData.method))if(c.error)Wc({category:"fetch",data:c.fetchData,level:"error",type:"http"},{data:c.error,input:c.args,startTimestamp:T,endTimestamp:N});else{const X=c.response;Wc({category:"fetch",data:{...c.fetchData,status_code:X&&X.status},type:"http"},{input:c.args,response:X,startTimestamp:T,endTimestamp:N})}}}(c)),r.history&&Lh(function kl(a){return function(c){if(Mi()!==a)return;let T=c.from,N=c.to;const X=zc(Ai.location.href);let se=T?zc(T):void 0;const ye=zc(N);(!se||!se.path)&&(se=X),X.protocol===ye.protocol&&X.host===ye.host&&(N=ye.relative),X.protocol===se.protocol&&X.host===se.host&&(T=se.relative),Wc({category:"navigation",data:{from:T,to:N}})}}(c)),r.sentry&&c.on("beforeSendEvent",function nE(a){return function(c){Mi()===a&&Wc({category:"sentry."+("transaction"===c.type?"transaction":"event"),event_id:c.event_id,level:c.level,message:Ms(c)},{event:c})}}(c))}}},Gh=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],l0=(a={})=>{const r={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...a};return{name:"BrowserApiErrors",setupOnce(){r.setTimeout&&Qo(Ai,"setTimeout",oE),r.setInterval&&Qo(Ai,"setInterval",oE),r.requestAnimationFrame&&Qo(Ai,"requestAnimationFrame",fD),r.XMLHttpRequest&&"XMLHttpRequest"in Ai&&Qo(XMLHttpRequest.prototype,"send",_D);const c=r.eventTarget;c&&(Array.isArray(c)?c:Gh).forEach(pD)}}};function oE(a){return function(...r){return r[0]=Od(r[0],{mechanism:{data:{function:hl(a)},handled:!1,type:"instrument"}}),a.apply(this,r)}}function fD(a){return function(r){return a.apply(this,[Od(r,{mechanism:{data:{function:"requestAnimationFrame",handler:hl(a)},handled:!1,type:"instrument"}})])}}function _D(a){return function(...r){const c=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(N=>{N in c&&"function"==typeof c[N]&&Qo(c,N,function(X){const se={mechanism:{data:{function:N,handler:hl(X)},handled:!1,type:"instrument"}},ye=Jr(X);return ye&&(se.mechanism.data.handler=hl(ye)),Od(X,se)})}),a.apply(this,r)}}function pD(a){const c=Ai[a]&&Ai[a].prototype;!c||!c.hasOwnProperty||!c.hasOwnProperty("addEventListener")||(Qo(c,"addEventListener",function(T){return function(N,X,se){try{"function"==typeof X.handleEvent&&(X.handleEvent=Od(X.handleEvent,{mechanism:{data:{function:"handleEvent",handler:hl(X),target:a},handled:!1,type:"instrument"}}))}catch{}return T.apply(this,[N,Od(X,{mechanism:{data:{function:"addEventListener",handler:hl(X),target:a},handled:!1,type:"instrument"}}),se])}}),Qo(c,"removeEventListener",function(T){return function(N,X,se){const ye=X;try{const ke=ye&&ye.__sentry_wrapped__;ke&&T.call(this,N,ke,se)}catch{}return T.call(this,N,ye,se)}}))}let bm=null;function c0(a){const r="error";gc(r,a),Ql(r,Ou)}function Ou(){bm=Vt.onerror,Vt.onerror=function(a,r,c,T,N){return Al("error",{column:T,error:N,line:c,msg:a,url:r}),!(!bm||bm.__SENTRY_LOADER__)&&bm.apply(this,arguments)},Vt.onerror.__SENTRY_INSTRUMENTED__=!0}let Xc=null;function ym(a){const r="unhandledrejection";gc(r,a),Ql(r,xd)}function xd(){Xc=Vt.onunhandledrejection,Vt.onunhandledrejection=function(a){return Al("unhandledrejection",a),!(Xc&&!Xc.__SENTRY_LOADER__)||Xc.apply(this,arguments)},Vt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const Pl=(a={})=>{const r={onerror:!0,onunhandledrejection:!0,...a};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(c){r.onerror&&(function sE(a){c0(r=>{const{stackParser:c,attachStacktrace:T}=Wh();if(Mi()!==a||m_())return;const{msg:N,url:X,line:se,column:ye,error:ke}=r,rt=function d0(a,r,c,T){const N=a.exception=a.exception||{},X=N.values=N.values||[],se=X[0]=X[0]||{},ye=se.stacktrace=se.stacktrace||{},ke=ye.frames=ye.frames||[],rt=isNaN(parseInt(T,10))?void 0:T,St=isNaN(parseInt(c,10))?void 0:c,Rt=xo(r)&&r.length>0?r:xn();return 0===ke.length&&ke.push({colno:rt,filename:Rt,function:mr,in_app:!0,lineno:St}),a}(hm(c,ke||N,void 0,T,!1),X,se,ye);rt.level="error",Sh(rt,{originalException:ke,mechanism:{handled:!1,type:"onerror"}})})}(c),Em("onerror")),r.onunhandledrejection&&(function b_(a){ym(r=>{const{stackParser:c,attachStacktrace:T}=Wh();if(Mi()!==a||m_())return;const N=function Kh(a){if(ll(a))return a;try{if("reason"in a)return a.reason;if("detail"in a&&"reason"in a.detail)return a.detail.reason}catch{}return a}(r),X=ll(N)?function rE(a){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(a)}`}]}}}(N):hm(c,N,void 0,T,!0);X.level="error",Sh(X,{originalException:N,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(c),Em("onunhandledrejection"))}}};function Em(a){Ls&&Mn.log(`Global Handler attached: ${a}`)}function Wh(){const a=Mi();return a&&a.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const zh=()=>({name:"HttpContext",preprocessEvent(a){if(!Ai.navigator&&!Ai.location&&!Ai.document)return;const r=a.request&&a.request.url||Ai.location&&Ai.location.href,{referrer:c}=Ai.document||{},{userAgent:T}=Ai.navigator||{},N={...a.request&&a.request.headers,...c&&{Referer:c},...T&&{"User-Agent":T}},X={...a.request,...r&&{url:r},headers:N};a.request=X}});function Cm(a,r,c=250,T,N,X,se){if(!(X.exception&&X.exception.values&&se&&dn(se.originalException,Error)))return;const ye=X.exception.values.length>0?X.exception.values[X.exception.values.length-1]:void 0;ye&&(X.exception.values=function f0(a,r){return a.map(c=>(c.value&&(c.value=Ws(c.value,r)),c))}(Mm(a,r,N,se.originalException,T,X.exception.values,ye,0),c))}function Mm(a,r,c,T,N,X,se,ye){if(X.length>=c+1)return X;let ke=[...X];if(dn(T[N],Error)){u0(se,ye);const rt=a(r,T[N]),St=ke.length;h0(rt,N,St,ye),ke=Mm(a,r,c,T[N],N,[rt,...ke],rt,St)}return Array.isArray(T.errors)&&T.errors.forEach((rt,St)=>{if(dn(rt,Error)){u0(se,ye);const Rt=a(r,rt),Jt=ke.length;h0(Rt,`errors[${St}]`,Jt,ye),ke=Mm(a,r,c,rt,N,[Rt,...ke],Rt,Jt)}}),ke}function u0(a,r){a.mechanism=a.mechanism||{type:"generic",handled:!0},a.mechanism={...a.mechanism,..."AggregateError"===a.type&&{is_exception_group:!0},exception_id:r}}function h0(a,r,c,T){a.mechanism=a.mechanism||{type:"generic",handled:!0},a.mechanism={...a.mechanism,type:"chained",source:r,exception_id:c,parent_id:T}}const Tm=(a={})=>{const r=a.limit||5,c=a.key||"cause";return{name:"LinkedErrors",preprocessEvent(T,N,X){const se=X.getOptions();Cm(Bh,se.stackParser,se.maxValueLength,c,r,T,N)}}};function Rd(a,r,c,T){const N={filename:a,function:"<anonymous>"===r?mr:r,in_app:!0};return void 0!==c&&(N.lineno=c),void 0!==T&&(N.colno=T),N}const p0=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,cE=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,m0=/\((\S*)(?::(\d+))(?::(\d+))\)/,dE=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,v0=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,vE=Vp([30,a=>{const r=p0.exec(a);if(r){const[,T,N,X]=r;return Rd(T,mr,+N,+X)}const c=cE.exec(a);if(c){if(c[2]&&0===c[2].indexOf("eval")){const se=m0.exec(c[2]);se&&(c[2]=se[1],c[3]=se[2],c[4]=se[3])}const[N,X]=E0(c[1]||mr,c[2]);return Rd(X,N,c[3]?+c[3]:void 0,c[4]?+c[4]:void 0)}}],[50,a=>{const r=dE.exec(a);if(r){if(r[3]&&r[3].indexOf(" > eval")>-1){const X=v0.exec(r[3]);X&&(r[1]=r[1]||"eval",r[3]=X[1],r[4]=X[2],r[5]="")}let T=r[3],N=r[1]||mr;return[N,T]=E0(N,T),Rd(T,N,r[4]?+r[4]:void 0,r[5]?+r[5]:void 0)}}]),E0=(a,r)=>{const c=-1!==a.indexOf("safari-extension"),T=-1!==a.indexOf("safari-web-extension");return c||T?[-1!==a.indexOf("@")?a.split("@")[0]:mr,c?`safari-extension:${r}`:`safari-web-extension:${r}`]:[a,r]},za=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,E_={};function C_(a){const r=E_[a];if(r)return r;let c=Fi[a];if(Rl(c))return E_[a]=c.bind(Fi);const T=Fi.document;if(T&&"function"==typeof T.createElement)try{const N=T.createElement("iframe");N.hidden=!0,T.head.appendChild(N);const X=N.contentWindow;X&&X[a]&&(c=X[a]),T.head.removeChild(N)}catch(N){za&&Mn.warn(`Could not create sandbox iframe for ${a} check, bailing to window.${a}: `,N)}return c&&(E_[a]=c.bind(Fi))}function bE(a){E_[a]=void 0}function Ad(...a){return C_("setTimeout")(...a)}const MD=6e4;function M_(a,r,c=Date.now()){return function C0(a,r){return a[r]||a.all||0}(a,r)>c}function M0(a,{statusCode:r,headers:c},T=Date.now()){const N={...a},X=c&&c["x-sentry-rate-limits"],se=c&&c["retry-after"];if(X)for(const ye of X.trim().split(",")){const[ke,rt,,,St]=ye.split(":",5),Rt=parseInt(ke,10),Jt=1e3*(isNaN(Rt)?60:Rt);if(rt)for(const an of rt.split(";"))"metric_bucket"===an?(!St||St.split(";").includes("custom"))&&(N[an]=T+Jt):N[an]=T+Jt;else N.all=T+Jt}else se?N.all=T+function CE(a,r=Date.now()){const c=parseInt(`${a}`,10);if(!isNaN(c))return 1e3*c;const T=Date.parse(`${a}`);return isNaN(T)?MD:T-r}(se,T):429===r&&(N.all=T+6e4);return N}const Hc=64;function T0(a,r){if("event"===r||"transaction"===r)return Array.isArray(a)?a[1]:void 0}function D0(a,r=C_("fetch")){let c=0,T=0;return function T_(a,r,c=function EE(a){const r=[];function T(se){return r.splice(r.indexOf(se),1)[0]||Promise.resolve(void 0)}return{$:r,add:function N(se){if(!function c(){return void 0===a||r.length<a}())return gr(new Wa("Not adding Promise because buffer limit was reached."));const ye=se();return-1===r.indexOf(ye)&&r.push(ye),ye.then(()=>T(ye)).then(null,()=>T(ye).then(null,()=>{})),ye},drain:function X(se){return new Xs((ye,ke)=>{let rt=r.length;if(!rt)return ye(!0);const St=setTimeout(()=>{se&&se>0&&ye(!1)},se);r.forEach(Rt=>{_a(Rt).then(()=>{--rt||(clearTimeout(St),ye(!0))},ke)})})}}}(a.bufferSize||Hc)){let T={};return{send:function X(se){const ye=[];if(Hs(se,(Rt,Jt)=>{const an=wl(Jt);if(M_(T,an)){const sn=T0(Rt,Jt);a.recordDroppedEvent("ratelimit_backoff",an,sn)}else ye.push(Rt)}),0===ye.length)return _a({});const ke=vc(se[0],ye),rt=Rt=>{Hs(ke,(Jt,an)=>{const sn=T0(Jt,an);a.recordDroppedEvent(Rt,wl(an),sn)})};return c.add(()=>r({body:Vy(ke)}).then(Rt=>(void 0!==Rt.statusCode&&(Rt.statusCode<200||Rt.statusCode>=300)&&Ui&&Mn.warn(`Sentry responded with status code ${Rt.statusCode} to sent event.`),T=M0(T,Rt),Rt),Rt=>{throw rt("network_error"),Rt})).then(Rt=>Rt,Rt=>{if(Rt instanceof Wa)return Ui&&Mn.error("Skipped sending event because buffer is full."),rt("queue_overflow"),_a({});throw Rt})},flush:se=>c.drain(se)}}(a,function N(X){const se=X.body.length;c+=se,T++;const ye={body:X.body,method:"POST",referrerPolicy:"origin",headers:a.headers,keepalive:c<=6e4&&T<15,...a.fetchOptions};if(!r)return bE("fetch"),gr("No fetch implementation available");try{return r(a.url,ye).then(ke=>(c-=se,T--,{statusCode:ke.status,headers:{"x-sentry-rate-limits":ke.headers.get("X-Sentry-Rate-Limits"),"retry-after":ke.headers.get("Retry-After")}}))}catch(ke){return bE("fetch"),c-=se,T--,gr(ke)}})}function TE(a={}){const r=function TD(a={}){return{defaultIntegrations:[d_(),jr(),l0(),tE(),Pl(),Tm(),tm(),zh()],release:"string"==typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:Ai.SENTRY_RELEASE&&Ai.SENTRY_RELEASE.id?Ai.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0,...a}}(a);if(function ME(){const a=Ai,c=a[a.chrome?"chrome":"browser"],T=c&&c.runtime&&c.runtime.id,N=Ai.location&&Ai.location.href||"",se=!!T&&Ai===Ai.top&&["chrome-extension:","moz-extension:","ms-browser-extension:"].some(ke=>N.startsWith(`${ke}//`));return!(!T||se||typeof a.nw<"u")}())return void Ks(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});Ls&&(Ka()||Mn.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const c={...r,stackParser:qf(r.stackParser||vE),integrations:Rh(r),transport:r.transport||D0},T=function yn(a,r){!0===r.debug&&(Ui?Mn.enable():Ks(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),pn().update(r.initialScope);const T=new a(r);return function Qi(a){pn().setClient(a)}(T),T.init(),T}(Jv,c);return r.autoSessionTracking&&function SD(){typeof Ai.document>"u"?Ls&&Mn.warn("Session tracking in non-browser environment with @sentry/browser is not supported."):(bu({ignoreDuration:!0}),xh(),Lh(({from:a,to:r})=>{void 0!==a&&a!==r&&(bu({ignoreDuration:!0}),xh())}))}(),T}function S0(a={}){if(!Ai.document)return void(Ls&&Mn.error("Global document not defined in showReportDialog call"));const r=pn(),c=r.getClient(),T=c&&c.getDsn();if(!T)return void(Ls&&Mn.error("DSN not configured for showReportDialog call"));if(r&&(a.user={...r.getUser(),...a.user}),!a.eventId){const ye=function Iv(){return qn().lastEventId()}();ye&&(a.eventId=ye)}const N=Ai.document.createElement("script");N.async=!0,N.crossOrigin="anonymous",N.src=function Fv(a,r){const c=u_(a);if(!c)return"";const T=`${im(c)}embed/error-page/`;let N=`dsn=${go(c)}`;for(const X in r)if("dsn"!==X&&"onClose"!==X)if("user"===X){const se=r.user;if(!se)continue;se.name&&(N+=`&name=${encodeURIComponent(se.name)}`),se.email&&(N+=`&email=${encodeURIComponent(se.email)}`)}else N+=`&${encodeURIComponent(X)}=${encodeURIComponent(r[X])}`;return`${T}?${N}`}(T,a),a.onLoad&&(N.onload=a.onLoad);const{onClose:X}=a;if(X){const ye=ke=>{if("__sentry_reportdialog_closed__"===ke.data)try{X()}finally{Ai.removeEventListener("message",ye)}};Ai.addEventListener("message",ye)}const se=Ai.document.head||Ai.document.body;se?se.appendChild(N):Ls&&Mn.error("Not injecting report dialog. No injection point found in HTML")}function Yc(a){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const r=a||function Om(){const a=Mi();return a&&a.getOptions()}();return!!r&&(r.enableTracing||"tracesSampleRate"in r||"tracesSampler"in r)}class Qc{constructor(r={}){this._traceId=r.traceId||so(),this._spanId=r.spanId||so().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:0}}end(r){}setAttribute(r,c){return this}setAttributes(r){return this}setStatus(r){return this}updateName(r){return this}isRecording(){return!1}addEvent(r,c,T){return this}addLink(r){return this}addLinks(r){return this}recordException(r,c){}}function Hh(a){if(!a||0===a.length)return;const r={};return a.forEach(c=>{const T=c.attributes||{},N=T[Mh],X=T[i_];"string"==typeof N&&"number"==typeof X&&(r[c.name]={value:X,unit:N})}),r}const wd="_sentryScope",S_="_sentryIsolationScope";function Au(a){return{scope:a[wd],isolationScope:a[S_]}}class I0{constructor(r={}){this._traceId=r.traceId||so(),this._spanId=r.spanId||so().substring(16),this._startTime=r.startTimestamp||er(),this._attributes={},this.setAttributes({[Ts]:"manual",[uu]:r.op,...r.attributes}),this._name=r.name,r.parentSpanId&&(this._parentSpanId=r.parentSpanId),"sampled"in r&&(this._sampled=r.sampled),r.endTimestamp&&(this._endTime=r.endTimestamp),this._events=[],this._isStandaloneSpan=r.isStandalone,this._endTime&&this._onSpanEnded()}addLink(r){return this}addLinks(r){return this}recordException(r,c){}spanContext(){const{_spanId:r,_traceId:c,_sampled:T}=this;return{spanId:r,traceId:c,traceFlags:T?fs:0}}setAttribute(r,c){return void 0===c?delete this._attributes[r]:this._attributes[r]=c,this}setAttributes(r){return Object.keys(r).forEach(c=>this.setAttribute(c,r[c])),this}updateStartTime(r){this._startTime=_c(r)}setStatus(r){return this._status=r,this}updateName(r){return this._name=r,this}end(r){this._endTime||(this._endTime=_c(r),function Ru(a){if(!Ui)return;const{description:r="< unknown name >",op:c="< unknown op >"}=yi(a),{spanId:T}=a.spanContext(),X=Ss(a)===a;Mn.log(`[Tracing] Finishing "${c}" ${X?"root ":""}span "${r}" with ID ${T}`)}(this),this._onSpanEnded())}getSpanJSON(){return is({data:this._attributes,description:this._name,op:this._attributes[uu],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:Bc(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Ts],_metrics_summary:Ln(this),profile_id:this._attributes["sentry.profile_id"],exclusive_time:this._attributes[Xp],measurements:Hh(this._events),is_segment:this._isStandaloneSpan&&Ss(this)===this||void 0,segment_id:this._isStandaloneSpan?Ss(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(r,c,T){Ui&&Mn.log("[Tracing] Adding an event to span:",r);const N=x_(c)?c:T||er(),X=x_(c)?{}:c||{},se={name:r,time:_c(N),attributes:X};return this._events.push(se),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const r=Mi();if(r&&r.emit("spanEnd",this),!this._isStandaloneSpan&&this!==Ss(this))return;if(this._isStandaloneSpan)return void(this._sampled?function O0(a){const r=Mi();if(!r)return;const c=a[1];if(!c||0===c.length)return void r.recordDroppedEvent("before_send","span");const T=r.getTransport();T&&T.send(a).then(null,N=>{Ui&&Mn.error("Error while sending span:",N)})}(function Gy(a,r){const T=ma(a[0]),N=r&&r.getDsn(),X=r&&r.getOptions().tunnel,se={sent_at:(new Date).toISOString(),...function c(St){return!!St.trace_id&&!!St.public_key}(T)&&{trace:T},...!!X&&N&&{dsn:go(N)}},ye=r&&r.getOptions().beforeSendSpan,ke=ye?St=>ye(yi(St)):St=>yi(St),rt=[];for(const St of a){const Rt=ke(St);Rt&&rt.push(Uv(Rt))}return vc(se,rt)}([this],r)):(Ui&&Mn.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),r&&r.recordDroppedEvent("sample_rate","span")));const T=this._convertSpanToTransaction();T&&(Au(this).scope||pn()).captureEvent(T)}_convertSpanToTransaction(){if(!wu(yi(this)))return;this._name||(Ui&&Mn.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:r,isolationScope:c}=Au(this),N=(r||pn()).getClient()||Mi();if(!0!==this._sampled)return Ui&&Mn.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(N&&N.recordDroppedEvent("sample_rate","transaction"));const se=hi(this).filter(Rt=>Rt!==this&&!function DE(a){return a instanceof I0&&a.isStandaloneSpan()}(Rt)).map(Rt=>yi(Rt)).filter(wu),ye=this._attributes[ir],ke={contexts:{trace:Tl(this)},spans:se.length>1e3?se.sort((Rt,Jt)=>Rt.start_timestamp-Jt.start_timestamp).slice(0,1e3):se,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:r,capturedSpanIsolationScope:c,...is({dynamicSamplingContext:ma(this)})},_metrics_summary:Ln(this),...ye&&{transaction_info:{source:ye}}},rt=Hh(this._events);return rt&&Object.keys(rt).length&&(Ui&&Mn.log("[Measurements] Adding measurements to transaction event",JSON.stringify(rt,void 0,2)),ke.measurements=rt),ke}}function x_(a){return a&&"number"==typeof a||a instanceof Date||Array.isArray(a)}function wu(a){return!!(a.start_timestamp&&a.timestamp&&a.span_id&&a.trace_id)}const Rm="__SENTRY_SUPPRESS_TRACING__";function Jl(a){const r=w_();if(r.startInactiveSpan)return r.startInactiveSpan(a);const c=function Am(a){const c={isStandalone:(a.experimental||{}).standalone,...a};if(a.startTime){const T={...c};return T.startTimestamp=_c(a.startTime),delete T.startTime,T}return c}(a),{forceTransaction:T,parentSpan:N}=a;return(a.scope?se=>ro(a.scope,se):void 0!==N?se=>R_(N,se):se=>se())(()=>{const se=pn(),ye=function wm(a){const r=du(a);if(!r)return;const c=Mi();return(c?c.getOptions():{}).parentSpanIsAlwaysRootSpan?Ss(r):r}(se);return a.onlyIfParent&&!ye?new Qc:function Yh({parentSpan:a,spanArguments:r,forceTransaction:c,scope:T}){if(!Yc())return new Qc;const N=qn();let X;if(a&&!c)X=function Qh(a,r,c){const{spanId:T,traceId:N}=a.spanContext(),X=!r.getScopeData().sdkProcessingMetadata[Rm]&&Br(a),se=X?new I0({...c,parentSpanId:T,traceId:N,sampled:X}):new Qc({traceId:N});fu(a,se);const ye=Mi();return ye&&(ye.emit("spanStart",se),c.endTimestamp&&ye.emit("spanEnd",se)),se}(a,T,r),fu(a,X);else if(a){const se=ma(a),{traceId:ye,spanId:ke}=a.spanContext(),rt=Br(a);X=IE({traceId:ye,parentSpanId:ke,...r},T,rt),pc(X,se)}else{const{traceId:se,dsc:ye,parentSpanId:ke,sampled:rt}={...N.getPropagationContext(),...T.getPropagationContext()};X=IE({traceId:se,parentSpanId:ke,...r},T,rt),ye&&pc(X,ye)}return function xm(a){if(!Ui)return;const{description:r="< unknown name >",op:c="< unknown op >",parent_span_id:T}=yi(a),{spanId:N}=a.spanContext(),X=Br(a),se=Ss(a),ye=se===a,ke=`[Tracing] Starting ${X?"sampled":"unsampled"} ${ye?"root ":""}span`,rt=[`op: ${c}`,`name: ${r}`,`ID: ${N}`];if(T&&rt.push(`parent ID: ${T}`),!ye){const{op:St,description:Rt}=yi(se);rt.push(`root ID: ${se.spanContext().spanId}`),St&&rt.push(`root op: ${St}`),Rt&&rt.push(`root description: ${Rt}`)}Mn.log(`${ke}\n  ${rt.join("\n  ")}`)}(X),function I_(a,r,c){a&&(Qr(a,S_,c),Qr(a,wd,r))}(X,T,N),X}({parentSpan:ye,spanArguments:c,forceTransaction:T,scope:se})})}function R_(a,r){const c=w_();return c.withActiveSpan?c.withActiveSpan(a,r):ro(T=>(gd(T,a||void 0),r(T)))}function w_(){return rn(Nn())}function IE(a,r,c){const T=Mi(),N=T&&T.getOptions()||{},{name:X="",attributes:se}=a,[ye,ke]=r.getScopeData().sdkProcessingMetadata[Rm]?[!1]:function D_(a,r){if(!Yc(a))return[!1];let c;c="function"==typeof a.tracesSampler?a.tracesSampler(r):void 0!==r.parentSampled?r.parentSampled:typeof a.tracesSampleRate<"u"?a.tracesSampleRate:1;const T=bc(c);return void 0===T?(Ui&&Mn.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):T?Math.random()<T?[!0,T]:(Ui&&Mn.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(c)})`),[!1,T]):(Ui&&Mn.log("[Tracing] Discarding transaction because "+("function"==typeof a.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),[!1,T])}(N,{name:X,parentSampled:c,attributes:se,transactionContext:{name:X,parentSampled:c}}),rt=new I0({...a,attributes:{[ir]:"custom",...a.attributes},sampled:ye});return void 0!==ke&&rt.setAttribute(Pc,ke),T&&T.emit("spanStart",rt),rt}const kd=(a,r,c,T)=>{let N,X;return se=>{r.value>=0&&(se||T)&&(X=r.value-(N||0),(X||void 0===N)&&(N=r.value,r.delta=X,r.rating=((a,r)=>a>r[1]?"poor":a>r[0]?"needs-improvement":"good")(r.value,c),a(r)))}},ku=()=>Fi.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],Pu=()=>{const a=ku();return a&&a.activationStart||0},Pd=(a,r)=>{const c=ku();let T="navigate";return c&&(Fi.document&&Fi.document.prerendering||Pu()>0?T="prerender":Fi.document&&Fi.document.wasDiscarded?T="restore":c.type&&(T=c.type.replace(/_/g,"-"))),{name:a,value:typeof r>"u"?-1:r,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:T}},Ll=(a,r,c)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(a)){const T=new PerformanceObserver(N=>{Promise.resolve().then(()=>{r(N.getEntries())})});return T.observe(Object.assign({type:a,buffered:!0},c||{})),T}}catch{}},Zh=a=>{const r=c=>{("pagehide"===c.type||Fi.document&&"hidden"===Fi.document.visibilityState)&&a(c)};Fi.document&&(addEventListener("visibilitychange",r,!0),addEventListener("pagehide",r,!0))},Lu=a=>{let r=!1;return c=>{r||(a(c),r=!0)}};let Fu=-1;const qh=a=>{"hidden"===Fi.document.visibilityState&&Fu>-1&&(Fu="visibilitychange"===a.type?a.timeStamp:0,removeEventListener("visibilitychange",qh,!0),removeEventListener("prerenderingchange",qh,!0))},Nu=()=>(Fi.document&&Fu<0&&(Fu="hidden"!==Fi.document.visibilityState||Fi.document.prerendering?1/0:0,addEventListener("visibilitychange",qh,!0),addEventListener("prerenderingchange",qh,!0)),{get firstHiddenTime(){return Fu}}),Bu=a=>{Fi.document&&Fi.document.prerendering?addEventListener("prerenderingchange",()=>a(),!0):a()},P_=[1800,3e3],ju=[.1,.25],xE=(a,r={})=>{((a,r={})=>{Bu(()=>{const c=Nu(),T=Pd("FCP");let N;const se=Ll("paint",ye=>{ye.forEach(ke=>{"first-contentful-paint"===ke.name&&(se.disconnect(),ke.startTime<c.firstHiddenTime&&(T.value=Math.max(ke.startTime-Pu(),0),T.entries.push(ke),N(!0)))})});se&&(N=kd(a,T,P_,r.reportAllChanges))})})(Lu(()=>{const c=Pd("CLS",0);let T,N=0,X=[];const se=ke=>{ke.forEach(rt=>{if(!rt.hadRecentInput){const St=X[0],Rt=X[X.length-1];N&&St&&Rt&&rt.startTime-Rt.startTime<1e3&&rt.startTime-St.startTime<5e3?(N+=rt.value,X.push(rt)):(N=rt.value,X=[rt])}}),N>c.value&&(c.value=N,c.entries=X,T())},ye=Ll("layout-shift",se);ye&&(T=kd(a,c,ju,r.reportAllChanges),Zh(()=>{se(ye.takeRecords()),T(!0)}),setTimeout(T,0))}))},RE=[100,300],xD=(a,r={})=>{Bu(()=>{const c=Nu(),T=Pd("FID");let N;const X=ke=>{ke.startTime<c.firstHiddenTime&&(T.value=ke.processingStart-ke.startTime,T.entries.push(ke),N(!0))},se=ke=>{ke.forEach(X)},ye=Ll("first-input",se);N=kd(a,T,RE,r.reportAllChanges),ye&&Zh(Lu(()=>{se(ye.takeRecords()),ye.disconnect()}))})};let ef=0,tf=1/0,nf=0;const A0=a=>{a.forEach(r=>{r.interactionId&&(tf=Math.min(tf,r.interactionId),nf=Math.max(nf,r.interactionId),ef=nf?(nf-tf)/7+1:0)})};let L_;const wE=[200,500],w0=()=>(L_?ef:performance.interactionCount||0)-0,yr=[],Jc={},P0=a=>{const r=yr[yr.length-1],c=Jc[a.interactionId];if(c||yr.length<10||r&&a.duration>r.latency){if(c)c.entries.push(a),c.latency=Math.max(c.latency,a.duration);else{const T={id:a.interactionId,latency:a.duration,entries:[a]};Jc[T.id]=T,yr.push(T)}yr.sort((T,N)=>N.latency-T.latency),yr.splice(10).forEach(T=>{delete Jc[T.id]})}},LE=(a,r={})=>{Bu(()=>{"interactionCount"in performance||L_||(L_=Ll("event",A0,{type:"event",buffered:!0,durationThreshold:0}));const c=Pd("INP");let T;const N=se=>{se.forEach(ke=>{ke.interactionId&&P0(ke),"first-input"===ke.entryType&&!yr.some(St=>St.entries.some(Rt=>ke.duration===Rt.duration&&ke.startTime===Rt.startTime))&&P0(ke)});const ye=(()=>{const a=Math.min(yr.length-1,Math.floor(w0()/50));return yr[a]})();ye&&ye.latency!==c.value&&(c.value=ye.latency,c.entries=ye.entries,T())},X=Ll("event",N,{durationThreshold:null!=r.durationThreshold?r.durationThreshold:40});T=kd(a,c,wE,r.reportAllChanges),X&&("PerformanceEventTiming"in Fi&&"interactionId"in PerformanceEventTiming.prototype&&X.observe({type:"first-input",buffered:!0}),Zh(()=>{N(X.takeRecords()),c.value<0&&w0()>0&&(c.value=0,c.entries=[]),T(!0)}))})},FE=[2500,4e3],L0={},NE=(a,r={})=>{Bu(()=>{const c=Nu(),T=Pd("LCP");let N;const X=ye=>{const ke=ye[ye.length-1];ke&&ke.startTime<c.firstHiddenTime&&(T.value=Math.max(ke.startTime-Pu(),0),T.entries=[ke],N())},se=Ll("largest-contentful-paint",X);if(se){N=kd(a,T,FE,r.reportAllChanges);const ye=Lu(()=>{L0[T.id]||(X(se.takeRecords()),se.disconnect(),L0[T.id]=!0,N(!0))});["keydown","click"].forEach(ke=>{Fi.document&&addEventListener(ke,()=>setTimeout(ye,0),!0)}),Zh(ye)}})},F0=[800,1800],Lm=a=>{Fi.document&&Fi.document.prerendering?Bu(()=>Lm(a)):Fi.document&&"complete"!==Fi.document.readyState?addEventListener("load",()=>Lm(a),!0):setTimeout(a,0)},BE=(a,r={})=>{const c=Pd("TTFB"),T=kd(a,c,F0,r.reportAllChanges);Lm(()=>{const N=ku();if(N){const X=N.responseStart;if(X<=0||X>performance.now())return;c.value=Math.max(X-Pu(),0),c.entries=[N],T(!0)}})},sf={},F_={};let rf,Zl,$u,Fm,Nm;function Bm(a,r=!1){return lf("cls",a,AD,rf,r)}function jE(a,r=!1){return lf("lcp",a,UE,$u,r)}function $E(a){return lf("fid",a,N0,Zl)}function N_(a){return lf("inp",a,GE,Nm)}function Zc(a,r){return jm(a,r),F_[a]||(function KE(a){const r={};"event"===a&&(r.durationThreshold=0),Ll(a,c=>{af(a,{entries:c})},r)}(a),F_[a]=!0),$m(a,r)}function af(a,r){const c=sf[a];if(c&&c.length)for(const T of c)try{T(r)}catch(N){za&&Mn.error(`Error while triggering instrumentation handler.\nType: ${a}\nName: ${hl(T)}\nError:`,N)}}function AD(){return xE(a=>{af("cls",{metric:a}),rf=a},{reportAllChanges:!0})}function N0(){return xD(a=>{af("fid",{metric:a}),Zl=a})}function UE(){return NE(a=>{af("lcp",{metric:a}),$u=a},{reportAllChanges:!0})}function VE(){return BE(a=>{af("ttfb",{metric:a}),Fm=a})}function GE(){return LE(a=>{af("inp",{metric:a}),Nm=a})}function lf(a,r,c,T,N=!1){let X;return jm(a,r),F_[a]||(X=c(),F_[a]=!0),T&&r({metric:T}),$m(a,r,N?X:void 0)}function jm(a,r){sf[a]=sf[a]||[],sf[a].push(r)}function $m(a,r,c){return()=>{c&&c();const T=sf[a];if(!T)return;const N=T.indexOf(r);-1!==N&&T.splice(N,1)}}function Um(a){return"number"==typeof a&&isFinite(a)}function Fd(a,r,c,{...T}){const N=yi(a).start_timestamp;return N&&N>r&&"function"==typeof a.updateStartTime&&a.updateStartTime(r),R_(a,()=>{const X=Jl({startTime:r,...T});return X&&X.end(c),X})}function Uu(){return Fi&&Fi.addEventListener&&Fi.performance}function ps(a){return a/1e3}const Vm=2147483647;let Fl,cf,B0=0,ss={};function B_(a,r,c,T,N,X){const se=X?r[X]:r[`${c}End`],ye=r[`${c}Start`];!ye||!se||Fd(a,T+ps(ye),T+ps(se),{op:"browser",name:N||c,attributes:{[Ts]:"auto.ui.browser.metrics"}})}function Km(a,r,c,T){const N=r[c];null!=N&&N<Vm&&(a[T]=N)}const Wm=[],j_=new Map;const tC={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"},Hm={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3};function V0(a,r={}){const c=new Map;let N,T=!1,X="externalFinish",se=!r.disableAutoFinish;const ye=[],{idleTimeout:ke=Hm.idleTimeout,finalTimeout:rt=Hm.finalTimeout,childSpanTimeout:St=Hm.childSpanTimeout,beforeSpanEnd:Rt}=r,Jt=Mi();if(!Jt||!Yc())return new Qc;const an=pn(),sn=Jo(),gn=function $_(a){const r=Jl(a);return gd(pn(),r),Ui&&Mn.log("[Tracing] Started span is an idle span"),r}(a);function Gn(){N&&(clearTimeout(N),N=void 0)}function $n(Fn){Gn(),N=setTimeout(()=>{!T&&0===c.size&&se&&(X="idleTimeout",gn.end(Fn))},ke)}function si(Fn){N=setTimeout(()=>{!T&&se&&(X="heartbeatFailed",gn.end(Fn))},St)}function Ni(Fn){T=!0,c.clear(),ye.forEach(Oi=>Oi()),gd(an,sn);const Rn=yi(gn),{start_timestamp:fi}=Rn;if(!fi)return;(Rn.data||{})[hs]||gn.setAttribute(hs,X),Mn.log(`[Tracing] Idle span "${Rn.op}" finished`);const oi=hi(gn).filter(Oi=>Oi!==gn);let Di=0;oi.forEach(Oi=>{Oi.isRecording()&&(Oi.setStatus({code:ho,message:"cancelled"}),Oi.end(Fn),Ui&&Mn.log("[Tracing] Cancelling span since span ended early",JSON.stringify(Oi,void 0,2)));const Ao=yi(Oi),{timestamp:Fo=0,start_timestamp:Ko=0}=Ao,An=Ko<=Fn,ei=Fo-Ko<=(rt+ke)/1e3;if(Ui){const ki=JSON.stringify(Oi,void 0,2);An?ei||Mn.log("[Tracing] Discarding span since it finished after idle span final timeout",ki):Mn.log("[Tracing] Discarding span since it happened after idle span was finished",ki)}(!ei||!An)&&(function Va(a,r){a[pa]&&a[pa].delete(r)}(gn,Oi),Di++)}),Di>0&&gn.setAttribute("sentry.idle_span_discarded_spans",Di)}return gn.end=new Proxy(gn.end,{apply(Fn,Rn,fi){Rt&&Rt(gn);const[Wi,...oi]=fi,Oi=_c(Wi||er()),Ao=hi(gn).filter(ei=>ei!==gn);if(!Ao.length)return Ni(Oi),Reflect.apply(Fn,Rn,[Oi,...oi]);const Fo=Ao.map(ei=>yi(ei).timestamp).filter(ei=>!!ei),Ko=Fo.length?Math.max(...Fo):void 0,An=yi(gn).start_timestamp,ri=Math.min(An?An+rt/1e3:1/0,Math.max(An||-1/0,Math.min(Oi,Ko||1/0)));return Ni(ri),Reflect.apply(Fn,Rn,[ri,...oi])}}),ye.push(Jt.on("spanStart",Fn=>{T||Fn===gn||yi(Fn).timestamp||hi(gn).includes(Fn)&&function gi(Fn){Gn(),c.set(Fn,!0),si(er()+St/1e3)}(Fn.spanContext().spanId)})),ye.push(Jt.on("spanEnd",Fn=>{T||function ii(Fn){c.has(Fn)&&c.delete(Fn),0===c.size&&$n(er()+ke/1e3)}(Fn.spanContext().spanId)})),ye.push(Jt.on("idleSpanEnableAutoFinish",Fn=>{Fn===gn&&(se=!0,$n(),c.size&&si())})),r.disableAutoFinish||$n(),setTimeout(()=>{T||(gn.setStatus({code:ho,message:"deadline_exceeded"}),X="finalTimeout",gn.end())},rt),gn}let uf=!1;function U_(){const a=Jo(),r=a&&Ss(a);if(r){const c="internal_error";Ui&&Mn.log(`[Tracing] Root span: ${c} -> Global error occured`),r.setStatus({code:ho,message:c})}}U_.tag="sentry_tracingErrorCallback";const qr={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0};function Ca(a){const{traceFetch:r,traceXHR:c,shouldCreateSpanForRequest:T,enableHTTPTimings:N,tracePropagationTargets:X}={traceFetch:qr.traceFetch,traceXHR:qr.traceXHR,...a},se="function"==typeof T?T:rt=>!0,ye=rt=>function Y0(a,r){const c=Ai.location&&Ai.location.href;if(c){let T,N;try{T=new URL(a,c),N=new URL(c).origin}catch{return!1}const X=T.origin===N;return r?Yo(T.toString(),r)||X&&Yo(T.pathname,r):X}{const T=!!a.match(/^\/(?!\/)/);return r?Yo(a,r):T}}(rt,X),ke={};r&&Uh(rt=>{const St=function W0(a,r,c,T,N="auto.http.browser"){if(!a.fetchData)return;const X=Yc()&&r(a.fetchData.url);if(a.endTimestamp&&X){const sn=a.fetchData.__span;if(!sn)return;const gn=T[sn];return void(gn&&(function Vu(a,r){if(r.response){Fc(a,r.response.status);const c=r.response&&r.response.headers&&r.response.headers.get("content-length");if(c){const T=parseInt(c);T>0&&a.setAttribute("http.response_content_length",T)}}else r.error&&a.setStatus({code:ho,message:"internal_error"});a.end()}(gn,a),delete T[sn]))}const se=pn(),ye=Mi(),{method:ke,url:rt}=a.fetchData,St=function X0(a){try{return new URL(a).href}catch{return}}(rt),Rt=St?zc(St).host:void 0,Jt=!!Jo(),an=X&&Jt?Jl({name:`${ke} ${rt}`,attributes:{url:rt,type:"fetch","http.method":ke,"http.url":St,"server.address":Rt,[Ts]:N,[uu]:"http.client"}}):new Qc;if(a.fetchData.__span=an.spanContext().spanId,T[an.spanContext().spanId]=an,c(a.fetchData.url)&&ye){const sn=a.args[0];a.args[1]=a.args[1]||{};const gn=a.args[1];gn.headers=function z0(a,r,c,T,N){const X=qn(),{traceId:se,spanId:ye,sampled:ke,dsc:rt}={...X.getPropagationContext(),...c.getPropagationContext()},St=N?yd(N):bd(se,ye,ke),Rt=zp(rt||(N?ma(N):fo(se,r))),Jt=T.headers||(typeof Request<"u"&&dn(a,Request)?a.headers:void 0);if(Jt){if(typeof Headers<"u"&&dn(Jt,Headers)){const an=new Headers(Jt);return an.append("sentry-trace",St),Rt&&an.append(fc,Rt),an}if(Array.isArray(Jt)){const an=[...Jt,["sentry-trace",St]];return Rt&&an.push([fc,Rt]),an}{const an="baggage"in Jt?Jt.baggage:void 0,sn=[];return Array.isArray(an)?sn.push(...an):an&&sn.push(an),Rt&&sn.push(Rt),{...Jt,"sentry-trace":St,baggage:sn.length>0?sn.join(","):void 0}}}return{"sentry-trace":St,baggage:Rt}}(sn,ye,se,gn,Yc()&&Jt?an:void 0)}return an}(rt,se,ye,ke);if(St){const Rt=G_(rt.fetchData.url),Jt=Rt?zc(Rt).host:void 0;St.setAttributes({"http.url":Rt,"server.address":Jt})}N&&St&&nC(St)}),c&&g_(rt=>{const St=function Q0(a,r,c,T){const N=a.xhr,X=N&&N[Kc];if(!N||N.__sentry_own_request__||!X)return;const se=Yc()&&r(X.url);if(a.endTimestamp&&se){const Jt=N.__sentry_xhr_span_id__;if(!Jt)return;const an=T[Jt];return void(an&&void 0!==X.status_code&&(Fc(an,X.status_code),an.end(),delete T[Jt]))}const ye=G_(X.url),ke=ye?zc(ye).host:void 0,rt=!!Jo(),St=se&&rt?Jl({name:`${X.method} ${X.url}`,attributes:{type:"xhr","http.method":X.method,"http.url":ye,url:X.url,"server.address":ke,[Ts]:"auto.http.browser",[uu]:"http.client"}}):new Qc;N.__sentry_xhr_span_id__=St.spanContext().spanId,T[N.__sentry_xhr_span_id__]=St;const Rt=Mi();return N.setRequestHeader&&c(X.url)&&Rt&&function $D(a,r,c){const T=pn(),N=qn(),{traceId:X,spanId:se,sampled:ye,dsc:ke}={...N.getPropagationContext(),...T.getPropagationContext()};!function V_(a,r,c){try{a.setRequestHeader("sentry-trace",r),c&&a.setRequestHeader(fc,c)}catch{}}(a,c&&Yc()?yd(c):bd(X,se,ye),zp(ke||(c?ma(c):fo(X,r))))}(N,Rt,Yc()&&rt?St:void 0),St}(rt,se,ye,ke);N&&St&&nC(St)})}function nC(a){const{url:r}=yi(a).data||{};if(!r||"string"!=typeof r)return;const c=Zc("resource",({entries:T})=>{T.forEach(N=>{(function H0(a){return"resource"===a.entryType&&"initiatorType"in a&&"string"==typeof a.nextHopProtocol&&("fetch"===a.initiatorType||"xmlhttprequest"===a.initiatorType)})(N)&&N.name.endsWith(r)&&(function jD(a){const{name:r,version:c}=function iC(a){let r="unknown",c="unknown",T="";for(const N of a){if("/"===N){[r,c]=a.split("/");break}if(!isNaN(Number(N))){r="h"===T?"http":T,c=a.split(T)[1];break}T+=N}return T===a&&(r=T),{name:r,version:c}}(a.nextHopProtocol),T=[];return T.push(["network.protocol.version",c],["network.protocol.name",r]),zs?[...T,["http.request.redirect_start",Ec(a.redirectStart)],["http.request.fetch_start",Ec(a.fetchStart)],["http.request.domain_lookup_start",Ec(a.domainLookupStart)],["http.request.domain_lookup_end",Ec(a.domainLookupEnd)],["http.request.connect_start",Ec(a.connectStart)],["http.request.secure_connection_start",Ec(a.secureConnectionStart)],["http.request.connection_end",Ec(a.connectEnd)],["http.request.request_start",Ec(a.requestStart)],["http.request.response_start",Ec(a.responseStart)],["http.request.response_end",Ec(a.responseEnd)]]:T}(N).forEach(se=>a.setAttribute(...se)),setTimeout(c))})})}function Ec(a=0){return((zs||performance.timeOrigin)+a)/1e3}function G_(a){try{return new URL(a,Ai.location.origin).href}catch{return}}const oC={...Hm,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!1,enableInp:!0,_experiments:{},...qr},Gu=(a={})=>{!function G0(){uf||(uf=!0,c0(U_),ym(U_))}();const{enableInp:r,enableLongTask:c,enableLongAnimationFrame:T,_experiments:{enableInteractions:N},beforeStartSpan:X,idleTimeout:se,finalTimeout:ye,childSpanTimeout:ke,markBackgroundSpan:rt,traceFetch:St,traceXHR:Rt,shouldCreateSpanForRequest:Jt,enableHTTPTimings:an,instrumentPageLoad:sn,instrumentNavigation:gn}={...oC,...a},Gn=function Gm(){const a=Uu();if(a&&zs){a.mark&&Fi.performance.mark("sentry-tracing-init");const r=function $0(){return $E(({metric:a})=>{const r=a.entries[a.entries.length-1];if(!r)return;const c=ps(zs),T=ps(r.startTime);za&&Mn.log("[Measurements] Adding FID"),ss.fid={value:a.value,unit:"millisecond"},ss["mark.fid"]={value:c+T,unit:"second"}})}(),c=function HE(){return Bm(({metric:a})=>{const r=a.entries[a.entries.length-1];r&&(za&&Mn.log("[Measurements] Adding CLS"),ss.cls={value:a.value,unit:""},cf=r)},!0)}(),T=function YE(){return jE(({metric:a})=>{const r=a.entries[a.entries.length-1];r&&(za&&Mn.log("[Measurements] Adding LCP"),ss.lcp={value:a.value,unit:"millisecond"},Fl=r)},!0)}(),N=function wD(){return function RD(a){return lf("ttfb",a,VE,Fm)}(({metric:a})=>{a.entries[a.entries.length-1]&&(za&&Mn.log("[Measurements] Adding TTFB"),ss.ttfb={value:a.value,unit:"millisecond"})})}();return()=>{r(),c(),T(),N()}}return()=>{}}();r&&function zm(){if(Uu()&&zs){const r=function PD(){return N_(({metric:a})=>{const r=Mi();if(!r||null==a.value)return;const c=a.entries.find(Fn=>Fn.duration===a.value&&tC[Fn.name]);if(!c)return;const{interactionId:T}=c,N=tC[c.name],X=r.getOptions(),se=ps(zs+c.startTime),ye=ps(a.value),ke=pn(),rt=Jo(),St=rt?Ss(rt):void 0,Jt=(null!=T?j_.get(T):void 0)||St,an=Jt?yi(Jt).description:ke.getScopeData().transactionName,sn=ke.getUser(),gn=r.getIntegrationByName("Replay"),Gn=gn&&gn.getReplayId(),$n=void 0!==sn?sn.email||sn.id||sn.ip_address:void 0;let si;try{si=ke.getScopeData().contexts.profile.profile_id}catch{}const Ni=Jl({name:Ci(c.target),op:`ui.interaction.${N}`,attributes:is({release:X.release,environment:X.environment,transaction:an,[Xp]:a.value,[Ts]:"auto.http.browser.inp",user:$n||void 0,profile_id:si||void 0,replay_id:Gn||void 0,"user_agent.original":Fi.navigator&&Fi.navigator.userAgent}),startTime:se,experimental:{standalone:!0}});Ni.addEvent("inp",{[Mh]:"millisecond",[i_]:a.value}),Ni.end(se+ye)})}();return()=>{r()}}return()=>{}}(),T&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?function zE(){new PerformanceObserver(r=>{for(const c of r.getEntries()){if(!Jo()||!c.scripts[0])return;const T=ps(zs+c.startTime),N=ps(c.duration),X={[Ts]:"auto.ui.browser.metrics"},se=c.scripts[0];if(se){const{invoker:ke,invokerType:rt,sourceURL:St,sourceFunctionName:Rt,sourceCharPosition:Jt}=se;X["browser.script.invoker"]=ke,X["browser.script.invoker_type"]=rt,St&&(X["code.filepath"]=St),Rt&&(X["code.function"]=Rt),-1!==Jt&&(X["browser.script.source_char_position"]=Jt)}const ye=Jl({name:"Main UI thread blocked",op:"ui.long-animation-frame",startTime:T,attributes:X});ye&&ye.end(T+N)}}).observe({type:"long-animation-frame",buffered:!0})}():c&&function j0(){Zc("longtask",({entries:a})=>{for(const r of a){if(!Jo())return;const c=ps(zs+r.startTime),T=ps(r.duration),N=Jl({name:"Main UI thread blocked",op:"ui.long-task",startTime:c,attributes:{[Ts]:"auto.ui.browser.metrics"}});N&&N.end(c+T)}})}(),N&&function XE(){Zc("event",({entries:a})=>{for(const r of a){if(!Jo())return;if("click"===r.name){const c=ps(zs+r.startTime),T=ps(r.duration),N={name:Ci(r.target),op:`ui.interaction.${r.name}`,startTime:c,attributes:{[Ts]:"auto.ui.browser.metrics"}},X=Yi(r.target);X&&(N.attributes["ui.component_name"]=X);const se=Jl(N);se&&se.end(c+T)}}})}();const $n={name:void 0,source:void 0};function si(gi,ii){const Ni="pageload"===ii.op,Fn=X?X(ii):ii,Rn=Fn.attributes||{};ii.name!==Fn.name&&(Rn[ir]="custom",Fn.attributes=Rn),$n.name=Fn.name,$n.source=Rn[ir];const fi=V0(Fn,{idleTimeout:se,finalTimeout:ye,childSpanTimeout:ke,disableAutoFinish:Ni,beforeSpanEnd:oi=>{Gn(),function kD(a){const r=Uu();if(!r||!Fi.performance.getEntries||!zs)return;za&&Mn.log("[Tracing] Adding & adjusting spans using Performance API");const c=ps(zs),T=r.getEntries(),{op:N,start_timestamp:X}=yi(a);if(T.slice(B0).forEach(se=>{const ye=ps(se.startTime),ke=ps(Math.max(0,se.duration));if(!("navigation"===N&&X&&c+ye<X))switch(se.entryType){case"navigation":!function QE(a,r,c){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(T=>{B_(a,r,T,c)}),B_(a,r,"secureConnection",c,"TLS/SSL","connectEnd"),B_(a,r,"fetch",c,"cache","domainLookupStart"),B_(a,r,"domainLookup",c,"DNS"),function JE(a,r,c){const T=c+ps(r.requestStart),N=c+ps(r.responseEnd),X=c+ps(r.responseStart);r.responseEnd&&(Fd(a,T,N,{op:"browser",name:"request",attributes:{[Ts]:"auto.ui.browser.metrics"}}),Fd(a,X,N,{op:"browser",name:"response",attributes:{[Ts]:"auto.ui.browser.metrics"}}))}(a,r,c)}(a,se,c);break;case"mark":case"paint":case"measure":{!function df(a,r,c,T,N){const X=ku(),se=ps(X?X.requestStart:0),ye=N+Math.max(c,se),ke=N+c,rt=ke+T,St={[Ts]:"auto.resource.browser.metrics"};ye!==ke&&(St["sentry.browser.measure_happened_before_request"]=!0,St["sentry.browser.measure_start_time"]=ye),Fd(a,ye,rt,{name:r.name,op:r.entryType,attributes:St})}(a,se,ye,ke,c);const rt=Nu(),St=se.startTime<rt.firstHiddenTime;"first-paint"===se.name&&St&&(za&&Mn.log("[Measurements] Adding FP"),ss.fp={value:se.startTime,unit:"millisecond"}),"first-contentful-paint"===se.name&&St&&(za&&Mn.log("[Measurements] Adding FCP"),ss.fcp={value:se.startTime,unit:"millisecond"});break}case"resource":!function U0(a,r,c,T,N,X){if("xmlhttprequest"===r.initiatorType||"fetch"===r.initiatorType)return;const se=zc(c),ye={[Ts]:"auto.resource.browser.metrics"};Km(ye,r,"transferSize","http.response_transfer_size"),Km(ye,r,"encodedBodySize","http.response_content_length"),Km(ye,r,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in r&&(ye["resource.render_blocking_status"]=r.renderBlockingStatus),se.protocol&&(ye["url.scheme"]=se.protocol.split(":").pop()),se.host&&(ye["server.address"]=se.host),ye["url.same_origin"]=c.includes(Fi.location.origin);const ke=X+T;Fd(a,ke,ke+N,{name:c.replace(Fi.location.origin,""),op:r.initiatorType?`resource.${r.initiatorType}`:"resource.other",attributes:ye})}(a,se,se.name,ye,ke,c)}}),B0=Math.max(T.length-1,0),function ZE(a){const r=Fi.navigator;if(!r)return;const c=r.connection;c&&(c.effectiveType&&a.setAttribute("effectiveConnectionType",c.effectiveType),c.type&&a.setAttribute("connectionType",c.type),Um(c.rtt)&&(ss["connection.rtt"]={value:c.rtt,unit:"millisecond"})),Um(r.deviceMemory)&&a.setAttribute("deviceMemory",`${r.deviceMemory} GB`),Um(r.hardwareConcurrency)&&a.setAttribute("hardwareConcurrency",String(r.hardwareConcurrency))}(a),"pageload"===N){(function eC(a){const r=ku();if(!r)return;const{responseStart:c,requestStart:T}=r;T<=c&&(za&&Mn.log("[Measurements] Adding TTFB Request Time"),a["ttfb.requestTime"]={value:c-T,unit:"millisecond"})})(ss),["fcp","fp","lcp"].forEach(ye=>{const ke=ss[ye];if(!ke||!X||c>=X)return;const rt=ke.value,St=c+ps(rt),Rt=Math.abs(1e3*(St-X));za&&Mn.log(`[Measurements] Normalized ${ye} from ${rt} to ${Rt} (${Rt-rt})`),ke.value=Rt});const se=ss["mark.fid"];se&&ss.fid&&(Fd(a,se.value,se.value+ps(ss.fid.value),{name:"first input delay",op:"ui.action",attributes:{[Ts]:"auto.ui.browser.metrics"}}),delete ss["mark.fid"]),"fcp"in ss||delete ss.cls,Object.entries(ss).forEach(([ye,ke])=>{!function Xh(a,r,c){const T=Jo(),N=T&&Ss(T);N&&N.addEvent(a,{[i_]:r,[Mh]:c})}(ye,ke.value,ke.unit)}),function qE(a){Fl&&(za&&Mn.log("[Measurements] Adding LCP Data"),Fl.element&&a.setAttribute("lcp.element",Ci(Fl.element)),Fl.id&&a.setAttribute("lcp.id",Fl.id),Fl.url&&a.setAttribute("lcp.url",Fl.url.trim().slice(0,200)),a.setAttribute("lcp.size",Fl.size)),cf&&cf.sources&&(za&&Mn.log("[Measurements] Adding CLS Data"),cf.sources.forEach((r,c)=>a.setAttribute(`cls.source.${c+1}`,Ci(r.node))))}(a)}Fl=void 0,cf=void 0,ss={}}(oi)}});function Wi(){["interactive","complete"].includes(Ai.document.readyState)&&gi.emit("idleSpanEnableAutoFinish",fi)}return Ni&&Ai.document&&(Ai.document.addEventListener("readystatechange",()=>{Wi()}),Wi()),fi}return{name:"BrowserTracing",afterAllSetup(gi){let ii,Ni=Ai.location&&Ai.location.href;gi.on("startNavigationSpan",Fn=>{Mi()===gi&&(ii&&!yi(ii).timestamp&&(Ls&&Mn.log(`[Tracing] Finishing current root span with op: ${yi(ii).op}`),ii.end()),ii=si(gi,{op:"navigation",...Fn}))}),gi.on("startPageLoadSpan",(Fn,Rn={})=>{if(Mi()!==gi)return;ii&&!yi(ii).timestamp&&(Ls&&Mn.log(`[Tracing] Finishing current root span with op: ${yi(ii).op}`),ii.end());const oi=function o_(a,r){const c=function Tv(a){if(!a)return;const r=a.match(Mv);if(!r)return;let c;return"1"===r[3]?c=!0:"0"===r[3]&&(c=!1),{traceId:r[1],parentSampled:c,parentSpanId:r[2]}}(a),T=t_(r),{traceId:N,parentSpanId:X,parentSampled:se}=c||{};return c?{traceId:N||so(),parentSpanId:X||so().substring(16),spanId:so().substring(16),sampled:se,dsc:T||{}}:{traceId:N||so(),spanId:so().substring(16)}}(Rn.sentryTrace||K_("sentry-trace"),Rn.baggage||K_("baggage"));pn().setPropagationContext(oi),ii=si(gi,{op:"pageload",...Fn})}),gi.on("spanEnd",Fn=>{const Rn=yi(Fn).op;if(Fn!==Ss(Fn)||"navigation"!==Rn&&"pageload"!==Rn)return;const fi=pn(),Wi=fi.getPropagationContext();fi.setPropagationContext({...Wi,sampled:void 0!==Wi.sampled?Wi.sampled:Br(Fn),dsc:Wi.dsc||ma(Fn)})}),Ai.location&&(sn&&function Qm(a,r,c){a.emit("startPageLoadSpan",r,c),pn().setTransactionName(r.name);const T=Jo();T&&yi(T)}(gi,{name:Ai.location.pathname,startTime:zs?zs/1e3:void 0,attributes:{[ir]:"url",[Ts]:"auto.pageload.browser"}}),gn&&Lh(({to:Fn,from:Rn})=>{void 0===Rn&&Ni&&-1!==Ni.indexOf(Fn)?Ni=void 0:Rn!==Fn&&(Ni=void 0,Jm(gi,{name:Ai.location.pathname,attributes:{[ir]:"url",[Ts]:"auto.navigation.browser"}}))})),rt&&function K0(){Ai&&Ai.document?Ai.document.addEventListener("visibilitychange",()=>{const a=Jo();if(!a)return;const r=Ss(a);if(Ai.document.hidden&&r){const c="cancelled",{op:T,status:N}=yi(r);Ls&&Mn.log(`[Tracing] Transaction: ${c} -> since tab moved to the background, op: ${T}`),N||r.setStatus({code:ho,message:c}),r.setAttribute("sentry.cancellation_reason","document.hidden"),r.end()}}):Ls&&Mn.warn("[Tracing] Could not set up background tab detection due to lack of global document")}(),N&&function W_(a,r,c,T){let N;Ai.document&&addEventListener("click",()=>{const se="ui.action.click",ye=Jo(),ke=ye&&Ss(ye);if(ke){const rt=yi(ke).op;if(["navigation","pageload"].includes(rt))return void(Ls&&Mn.warn(`[Tracing] Did not create ${se} span because a pageload or navigation span is in progress.`))}N&&(N.setAttribute(hs,"interactionInterrupted"),N.end(),N=void 0),T.name?N=V0({name:T.name,op:se,attributes:{[ir]:T.source||"url"}},{idleTimeout:a,finalTimeout:r,childSpanTimeout:c}):Ls&&Mn.warn(`[Tracing] Did not create ${se} transaction because _latestRouteName is missing.`)},{once:!1,capture:!0})}(se,ye,ke,$n),r&&function Xm(a){const r=({entries:c})=>{const T=Jo(),N=T&&Ss(T);c.forEach(X=>{if(!function WE(a){return"duration"in a}(X)||!N)return;const se=X.interactionId;if(null!=se&&!j_.has(se)){if(Wm.length>10){const ye=Wm.shift();j_.delete(ye)}Wm.push(se),j_.set(se,N)}})};Zc("event",r),Zc("first-input",r)}(),Ca({traceFetch:St,traceXHR:Rt,tracePropagationTargets:gi.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:Jt,enableHTTPTimings:an})}}};function Jm(a,r){qn().setPropagationContext(Rc()),pn().setPropagationContext(Rc()),a.emit("startNavigationSpan",r),pn().setTransactionName(r.name);const c=Jo();return"navigation"===(c&&yi(c).op)?c:void 0}function K_(a){const r=function Ki(a){return Hn.document&&Hn.document.querySelector?Hn.document.querySelector(a):null}(`meta[name=${a}]`);return r?r.getAttribute("content"):void 0}var sC=o(4337);const J0=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;const q0=typeof Zone<"u"&&Zone.root&&Zone.root.run;function Nl(a){return q0?Zone.root.run(a):a()}function X_(a){if(a instanceof Error)return!0;if(null===a||"object"!=typeof a)return!1;const r=a;return xo(r.name)&&xo(r.message)&&(void 0===r.stack||xo(r.stack))}let qm,lC=(()=>{class a{constructor(c){this._options={logErrors:!0,...c}}ngOnDestroy(){this._removeAfterSendEventListener&&this._removeAfterSendEventListener()}handleError(c){const T=this._extractError(c)||"Handled unknown error",N=Nl(()=>vu(T,{mechanism:{type:"angular",handled:!1}}));if(this._options.logErrors&&console.error(T),this._options.showDialog){const X=Mi();X&&!this._removeAfterSendEventListener?this._removeAfterSendEventListener=X.on("afterSendEvent",se=>{!se.type&&se.event_id&&Nl(()=>{S0({...this._options.dialogOptions,eventId:se.event_id})})}):X||Nl(()=>{S0({...this._options.dialogOptions,eventId:N})})}}_extractError(c){if(this._options.extractor){const T=this._defaultExtractor.bind(this);return this._options.extractor(c,T)}return this._defaultExtractor(c)}_defaultExtractor(c){const T=function hf(a){return a&&a.ngOriginalError?a.ngOriginalError:a}(c);return T instanceof rc.yz?function z_(a){return X_(a.error)?a.error:typeof ErrorEvent<"u"&&a.error instanceof ErrorEvent&&a.error.message?a.error.message:"string"==typeof a.error?`Server returned code ${a.status} with body "${a.error}"`:a.message}(T):"string"==typeof T||X_(T)?T:null}}return a.\u0275fac=function(c){return new(c||a)(n.KVO("errorHandlerOptions"))},a.\u0275prov=n.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function cC(a){return new lC(a)}function t1(a={}){return!1!==a.instrumentNavigation&&(qm=!0),Gu({...a,instrumentNavigation:!1})}let uC=(()=>{class a{constructor(c){this._router=c,this.navStart$=this._router.events.pipe((0,la.p)(T=>T instanceof ji.Z),(0,Yr.M)(T=>{if(!qm)return void(J0&&Mn.error("Angular integration has tracing enabled, but Tracing integration is not configured"));this._routingSpan&&(this._routingSpan.end(),this._routingSpan=null);const N=Mi(),X=function eE(a){return a.split(/[?#]/,1)[0]}(T.url);return N?(this._isPageloadOngoing()?this._pageloadOngoing=!1:Nl(()=>{Jm(N,{name:X,attributes:{[Ts]:"auto.navigation.angular",[ir]:"url"}})}),void(this._routingSpan=Nl(()=>Jl({name:`${T.url}`,op:"ui.angular.routing",attributes:{[Ts]:"auto.ui.angular",[ir]:"url",url:X,...T.navigationTrigger&&{navigationTrigger:T.navigationTrigger}}}))||null)):void 0})),this.resEnd$=this._router.events.pipe((0,la.p)(T=>T instanceof ji.gx),(0,Yr.M)(T=>{const N=function tg(a){const r=[];let c=a&&a.firstChild;for(;c;){const N=c&&c.routeConfig&&c.routeConfig.path;if(null==N)break;r.push(N),c=c.firstChild}const T=r.filter(N=>N).join("/");return T?`/${T}/`:"/"}(T.state.root);N&&pn().setTransactionName(N);const X=Jo();!function dC(a,r){const c=r&&yi(r).data||{};r&&"url"===c[ir]&&(r.updateName(a),r.setAttribute(ir,"route"),r.setAttribute(Ts,`auto.${yi(r).op}.angular`))}(N,X&&Ss(X))})),this.navEnd$=this._router.events.pipe((0,la.p)(T=>T instanceof ji.wF||T instanceof ji.j5||T instanceof ji.L6),(0,Yr.M)(()=>{this._routingSpan&&(Nl(()=>{this._routingSpan.end()}),this._routingSpan=null)})),this._routingSpan=null,this._pageloadOngoing=!0,this._subscription=new sC.y,this._subscription.add(this.navStart$.subscribe()),this._subscription.add(this.resEnd$.subscribe()),this._subscription.add(this.navEnd$.subscribe())}ngOnDestroy(){this._subscription.unsubscribe()}_isPageloadOngoing(){if(!this._pageloadOngoing)return!1;const c=Jo();if(!c)return this._pageloadOngoing=!1,!1;const T=Ss(c);return this._pageloadOngoing="pageload"===yi(T).op,this._pageloadOngoing}}return a.\u0275fac=function(c){return new(c||a)(n.KVO(ji.Ix))},a.\u0275prov=n.jDH({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Bd(a){let r,c=a[0],T=1;for(;T<a.length;){const N=a[T],X=a[T+1];if(T+=2,("optionalAccess"===N||"optionalCall"===N)&&null==c)return;"access"===N||"optionalAccess"===N?(r=c,c=X(c)):("call"===N||"optionalCall"===N)&&(c=X((...se)=>c.call(r,...se)),r=void 0)}return c}function Wu(a){return"/"===a[a.length-1]?a.slice(0,-1):a}function r1(){return typeof window<"u"&&(!function s1(){return!function aD(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}()&&"[object process]"===Object.prototype.toString.call(typeof process<"u"?process:0)}()||function a1(){return void 0!==Vt.process&&"renderer"===Vt.process.type}())}const Vo=Vt,og="sentryReplaySession",pC="replay_event",H_="Unable to send Replay",u1=5e3,h1=3,f1=15e4,jd=5e3,Ud=2e7;function _f(a,r){return a??r()}function Xu(a){let r,c=a[0],T=1;for(;T<a.length;){const N=a[T],X=a[T+1];if(T+=2,("optionalAccess"===N||"optionalCall"===N)&&null==c)return;"access"===N||"optionalAccess"===N?(r=c,c=X(c)):("call"===N||"optionalCall"===N)&&(c=X((...se)=>c.call(r,...se)),r=void 0)}return c}var Ns=function(a){return a[a.Document=0]="Document",a[a.DocumentType=1]="DocumentType",a[a.Element=2]="Element",a[a.Text=3]="Text",a[a.CDATA=4]="CDATA",a[a.Comment=5]="Comment",a}(Ns||{});function pf(a){const r=Xu([a,"optionalAccess",c=>c.host]);return Xu([r,"optionalAccess",c=>c.shadowRoot])===a}function mf(a){return"[object ShadowRoot]"===Object.prototype.toString.call(a)}function Q_(a){try{const r=a.rules||a.cssRules;return r?function p1(a){return a.includes(" background-clip: text;")&&!a.includes(" -webkit-background-clip: text;")&&(a=a.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),a}(Array.from(r,m1).join("")):null}catch{return null}}function m1(a){let r;if(function g1(a){return"styleSheet"in a}(a))try{r=Q_(a.styleSheet)||function gC(a){const{cssText:r}=a;if(r.split('"').length<3)return r;const c=["@import",`url(${JSON.stringify(a.href)})`];return""===a.layerName?c.push("layer"):a.layerName&&c.push(`layer(${a.layerName})`),a.supportsText&&c.push(`supports(${a.supportsText})`),a.media.length&&c.push(a.media.mediaText),c.join(" ")+";"}(a)}catch{}else if(function v1(a){return"selectorText"in a}(a)&&a.selectorText.includes(":"))return function vC(a){return a.replace(/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm,"$1\\$2")}(a.cssText);return r||a.cssText}class b1{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(r){return r?_f(Xu([this,"access",T=>T.getMeta,"call",T=>T(r),"optionalAccess",T=>T.id]),()=>-1):-1}getNode(r){return this.idNodeMap.get(r)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(r){return this.nodeMetaMap.get(r)||null}removeNodeFromMap(r){const c=this.getId(r);this.idNodeMap.delete(c),r.childNodes&&r.childNodes.forEach(T=>this.removeNodeFromMap(T))}has(r){return this.idNodeMap.has(r)}hasNode(r){return this.nodeMetaMap.has(r)}add(r,c){this.idNodeMap.set(c.id,r),this.nodeMetaMap.set(r,c)}replace(r,c){const T=this.getNode(r);if(T){const N=this.nodeMetaMap.get(T);N&&this.nodeMetaMap.set(c,N)}this.idNodeMap.set(r,c)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Er({maskInputOptions:a,tagName:r,type:c}){return"OPTION"===r&&(r="SELECT"),!!(a[r.toLowerCase()]||c&&a[c]||"password"===c||"INPUT"===r&&!c&&a.text)}function gf({isMasked:a,element:r,value:c,maskInputFn:T}){let N=c||"";return a?(T&&(N=T(N,r)),"*".repeat(N.length)):N}function Hu(a){return a.toLowerCase()}function y1(a){return a.toUpperCase()}const J_="__rrweb_original__";function ag(a){const r=a.type;return a.hasAttribute("data-rr-is-password")?"password":r?Hu(r):null}function Z_(a,r,c){return"INPUT"!==r||"radio"!==c&&"checkbox"!==c?a.value:a.getAttribute("value")||""}function C1(a,r){let c;try{c=new URL(a,_f(r,()=>window.location.href))}catch{return null}return _f(Xu([c.pathname.match(/\.([0-9a-z]+)(?:$)/i),"optionalAccess",X=>X[1]]),()=>null)}const lg={};function M1(a){const r=lg[a];if(r)return r;const c=window.document;let T=window[a];if(c&&"function"==typeof c.createElement)try{const N=c.createElement("iframe");N.hidden=!0,c.head.appendChild(N);const X=N.contentWindow;X&&X[a]&&(T=X[a]),c.head.removeChild(N)}catch{}return lg[a]=T.bind(window)}function cg(...a){return M1("setTimeout")(...a)}function q_(...a){return M1("clearTimeout")(...a)}let yC=1;const EC=new RegExp("[^a-z0-9-_:]"),vf=-2;function dg(){return yC++}let qc,T1;const MC=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,D1=/^(?:[a-z+]+:)?\/\//i,S1=/^www\..*/i,ep=/^(data:)([^,]*),(.*)/i;function Yu(a,r){return(a||"").replace(MC,(c,T,N,X,se,ye)=>{const ke=N||se||ye,rt=T||X||"";if(!ke)return c;if(D1.test(ke)||S1.test(ke))return`url(${rt}${ke}${rt})`;if(ep.test(ke))return`url(${rt}${ke}${rt})`;if("/"===ke[0])return`url(${rt}${function ql(a){let r="";return r=a.indexOf("//")>-1?a.split("/").slice(0,3).join("/"):a.split("/")[0],r=r.split("?")[0],r}(r)+ke}${rt})`;const St=r.split("/"),Rt=ke.split("/");St.pop();for(const Jt of Rt)"."!==Jt&&(".."===Jt?St.pop():St.push(Jt));return`url(${rt}${St.join("/")}${rt})`})}const VD=/^[^ \t\n\r\u000c]+/,I1=/^[, \t\n\r\u000c]+/;function Vd(a,r){if(!r||""===r.trim())return r;const c=a.createElement("a");return c.href=r,c.href}function tp(a){return!("svg"!==a.tagName&&!a.ownerSVGElement)}function bf(){const a=document.createElement("a");return a.href="",a.href}function ec(a,r,c,T,N,X){return T&&("src"===c||"href"===c&&("use"!==r||"#"!==T[0])||"xlink:href"===c&&"#"!==T[0]||"background"===c&&("table"===r||"td"===r||"th"===r)?Vd(a,T):"srcset"===c?function O1(a,r){if(""===r.trim())return r;let c=0;function T(X){let se;const ye=X.exec(r.substring(c));return ye?(se=ye[0],c+=se.length,se):""}const N=[];for(;T(I1),!(c>=r.length);){let X=T(VD);if(","===X.slice(-1))X=Vd(a,X.substring(0,X.length-1)),N.push(X);else{let se="";X=Vd(a,X);let ye=!1;for(;;){const ke=r.charAt(c);if(""===ke){N.push((X+se).trim());break}if(ye)")"===ke&&(ye=!1);else{if(","===ke){c+=1,N.push((X+se).trim());break}"("===ke&&(ye=!0)}se+=ke,c+=1}}}return N.join(", ")}(a,T):"style"===c?Yu(T,bf()):"object"===r&&"data"===c?Vd(a,T):"function"==typeof X?X(c,T,N):T)}function x1(a,r,c){return("video"===a||"audio"===a)&&"autoplay"===r}function Gd(a,r,c=1/0,T=0){return!a||a.nodeType!==a.ELEMENT_NODE||T>c?-1:r(a)?T:Gd(a.parentNode,r,c,T+1)}function Bl(a,r){return c=>{const T=c;if(null===T)return!1;try{if(a)if("string"==typeof a){if(T.matches(`.${a}`))return!0}else if(function ug(a,r){for(let c=a.classList.length;c--;)if(r.test(a.classList[c]))return!0;return!1}(T,a))return!0;return!(!r||!T.matches(r))}catch{return!1}}}function Kd(a,r,c,T,N,X){try{const se=a.nodeType===a.ELEMENT_NODE?a:a.parentElement;if(null===se)return!1;if("INPUT"===se.tagName){const rt=se.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(rt))return!0}let ye=-1,ke=-1;if(X){if(ke=Gd(se,Bl(T,N)),ke<0)return!0;ye=Gd(se,Bl(r,c),ke>=0?ke:1/0)}else{if(ye=Gd(se,Bl(r,c)),ye<0)return!1;ke=Gd(se,Bl(T,N),ye>=0?ye:1/0)}return ye>=0?!(ke>=0)||ye<=ke:!(ke>=0||!X)}catch{}return!!X}function Go(a){return null==a?"":a.toLowerCase()}function Ju(a,r){const{doc:c,mirror:T,blockClass:N,blockSelector:X,unblockSelector:se,maskAllText:ye,maskTextClass:ke,unmaskTextClass:rt,maskTextSelector:St,unmaskTextSelector:Rt,skipChild:Jt=!1,inlineStylesheet:an=!0,maskInputOptions:sn={},maskAttributeFn:gn,maskTextFn:Gn,maskInputFn:$n,slimDOMOptions:si,dataURLOptions:gi={},inlineImages:ii=!1,recordCanvas:Ni=!1,onSerialize:Fn,onIframeLoad:Rn,iframeLoadTimeout:fi=5e3,onStylesheetLoad:Wi,stylesheetLoadTimeout:oi=5e3,keepIframeSrcFn:Di=(()=>!1),newlyAddedElement:Oi=!1}=r;let{preserveWhiteSpace:Ao=!0}=r;const Fo=function hg(a,r){const{doc:c,mirror:T,blockClass:N,blockSelector:X,unblockSelector:se,maskAllText:ye,maskAttributeFn:ke,maskTextClass:rt,unmaskTextClass:St,maskTextSelector:Rt,unmaskTextSelector:Jt,inlineStylesheet:an,maskInputOptions:sn={},maskTextFn:gn,maskInputFn:Gn,dataURLOptions:$n={},inlineImages:si,recordCanvas:gi,keepIframeSrcFn:ii,newlyAddedElement:Ni=!1}=r,Fn=function yf(a,r){if(!r.hasNode(a))return;const c=r.getId(a);return 1===c?void 0:c}(c,T);switch(a.nodeType){case a.DOCUMENT_NODE:return"CSS1Compat"!==a.compatMode?{type:Ns.Document,childNodes:[],compatMode:a.compatMode}:{type:Ns.Document,childNodes:[]};case a.DOCUMENT_TYPE_NODE:return{type:Ns.DocumentType,name:a.name,publicId:a.publicId,systemId:a.systemId,rootId:Fn};case a.ELEMENT_NODE:return function A1(a,r){const{doc:c,blockClass:T,blockSelector:N,unblockSelector:X,inlineStylesheet:se,maskInputOptions:ye={},maskAttributeFn:ke,maskInputFn:rt,dataURLOptions:St={},inlineImages:Rt,recordCanvas:Jt,keepIframeSrcFn:an,newlyAddedElement:sn=!1,rootId:gn,maskTextClass:$n,unmaskTextClass:si,maskTextSelector:gi,unmaskTextSelector:ii}=r,Ni=function TC(a,r,c,T){try{if(T&&a.matches(T))return!1;if("string"==typeof r){if(a.classList.contains(r))return!0}else for(let N=a.classList.length;N--;)if(r.test(a.classList[N]))return!0;if(c)return a.matches(c)}catch{}return!1}(a,T,N,X),Fn=function CC(a){if(a instanceof HTMLFormElement)return"form";const r=Hu(a.tagName);return EC.test(r)?"div":r}(a);let Rn={};const fi=a.attributes.length;for(let oi=0;oi<fi;oi++){const Di=a.attributes[oi];Di.name&&!x1(Fn,Di.name)&&(Rn[Di.name]=ec(c,Fn,Hu(Di.name),Di.value,a,ke))}if("link"===Fn&&se){const oi=Array.from(c.styleSheets).find(Oi=>Oi.href===a.href);let Di=null;oi&&(Di=Q_(oi)),Di&&(delete Rn.rel,delete Rn.href,Rn._cssText=Yu(Di,oi.href))}if("style"===Fn&&a.sheet&&!(a.innerText||a.textContent||"").trim().length){const oi=Q_(a.sheet);oi&&(Rn._cssText=Yu(oi,bf()))}if("input"===Fn||"textarea"===Fn||"select"===Fn||"option"===Fn){const oi=a,Di=ag(oi),Oi=Z_(oi,y1(Fn),Di),Ao=oi.checked;if("submit"!==Di&&"button"!==Di&&Oi){const Fo=Kd(oi,$n,gi,si,ii,Er({type:Di,tagName:y1(Fn),maskInputOptions:ye}));Rn.value=gf({isMasked:Fo,element:oi,value:Oi,maskInputFn:rt})}Ao&&(Rn.checked=Ao)}if("option"===Fn&&(a.selected&&!ye.select?Rn.selected=!0:delete Rn.selected),"canvas"===Fn&&Jt)if("2d"===a.__context)(function E1(a){const r=a.getContext("2d");if(!r)return!0;for(let T=0;T<a.width;T+=50)for(let N=0;N<a.height;N+=50){const X=r.getImageData;if(new Uint32Array((J_ in X?X[J_]:X).call(r,T,N,Math.min(50,a.width-T),Math.min(50,a.height-N)).data.buffer).some(ke=>0!==ke))return!1}return!0})(a)||(Rn.rr_dataURL=a.toDataURL(St.type,St.quality));else if(!("__context"in a)){const oi=a.toDataURL(St.type,St.quality),Di=document.createElement("canvas");Di.width=a.width,Di.height=a.height,oi!==Di.toDataURL(St.type,St.quality)&&(Rn.rr_dataURL=oi)}if("img"===Fn&&Rt){qc||(qc=c.createElement("canvas"),T1=qc.getContext("2d"));const oi=a,Di=oi.crossOrigin;oi.crossOrigin="anonymous";const Oi=()=>{oi.removeEventListener("load",Oi);try{qc.width=oi.naturalWidth,qc.height=oi.naturalHeight,T1.drawImage(oi,0,0),Rn.rr_dataURL=qc.toDataURL(St.type,St.quality)}catch(Ao){console.warn(`Cannot inline img src=${oi.currentSrc}! Error: ${Ao}`)}Di?Rn.crossOrigin=Di:oi.removeAttribute("crossorigin")};oi.complete&&0!==oi.naturalWidth?Oi():oi.addEventListener("load",Oi)}if(("audio"===Fn||"video"===Fn)&&(Rn.rr_mediaState=a.paused?"paused":"played",Rn.rr_mediaCurrentTime=a.currentTime),sn||(a.scrollLeft&&(Rn.rr_scrollLeft=a.scrollLeft),a.scrollTop&&(Rn.rr_scrollTop=a.scrollTop)),Ni){const{width:oi,height:Di}=a.getBoundingClientRect();Rn={class:Rn.class,rr_width:`${oi}px`,rr_height:`${Di}px`}}let Wi;"iframe"===Fn&&!an(Rn.src)&&(!Ni&&!a.contentDocument&&(Rn.rr_src=Rn.src),delete Rn.src);try{customElements.get(Fn)&&(Wi=!0)}catch{}return{type:Ns.Element,tagName:Fn,attributes:Rn,childNodes:[],isSVG:tp(a)||void 0,needBlock:Ni,rootId:gn,isCustom:Wi}}(a,{doc:c,blockClass:N,blockSelector:X,unblockSelector:se,inlineStylesheet:an,maskAttributeFn:ke,maskInputOptions:sn,maskInputFn:Gn,dataURLOptions:$n,inlineImages:si,recordCanvas:gi,keepIframeSrcFn:ii,newlyAddedElement:Ni,rootId:Fn,maskAllText:ye,maskTextClass:rt,unmaskTextClass:St,maskTextSelector:Rt,unmaskTextSelector:Jt});case a.TEXT_NODE:return function R1(a,r){const{maskAllText:c,maskTextClass:T,unmaskTextClass:N,maskTextSelector:X,unmaskTextSelector:se,maskTextFn:ye,maskInputOptions:ke,maskInputFn:rt,rootId:St}=r,Rt=a.parentNode&&a.parentNode.tagName;let Jt=a.textContent;const an="STYLE"===Rt||void 0,sn="SCRIPT"===Rt||void 0,gn="TEXTAREA"===Rt||void 0;if(an&&Jt){try{a.nextSibling||a.previousSibling||Xu([a,"access",$n=>$n.parentNode,"access",$n=>$n.sheet,"optionalAccess",$n=>$n.cssRules])&&(Jt=Q_(a.parentNode.sheet))}catch($n){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${$n}`,a)}Jt=Yu(Jt,bf())}sn&&(Jt="SCRIPT_PLACEHOLDER");const Gn=Kd(a,T,X,N,se,c);return!an&&!sn&&!gn&&Jt&&Gn&&(Jt=ye?ye(Jt,a.parentElement):Jt.replace(/[\S]/g,"*")),gn&&Jt&&(ke.textarea||Gn)&&(Jt=rt?rt(Jt,a.parentNode):Jt.replace(/[\S]/g,"*")),"OPTION"===Rt&&Jt&&(Jt=gf({isMasked:Kd(a,T,X,N,se,Er({type:null,tagName:Rt,maskInputOptions:ke})),element:a,value:Jt,maskInputFn:rt})),{type:Ns.Text,textContent:Jt||"",isStyle:an,rootId:St}}(a,{maskAllText:ye,maskTextClass:rt,unmaskTextClass:St,maskTextSelector:Rt,unmaskTextSelector:Jt,maskTextFn:gn,maskInputOptions:sn,maskInputFn:Gn,rootId:Fn});case a.CDATA_SECTION_NODE:return{type:Ns.CDATA,textContent:"",rootId:Fn};case a.COMMENT_NODE:return{type:Ns.Comment,textContent:a.textContent||"",rootId:Fn};default:return!1}}(a,{doc:c,mirror:T,blockClass:N,blockSelector:X,maskAllText:ye,unblockSelector:se,maskTextClass:ke,unmaskTextClass:rt,maskTextSelector:St,unmaskTextSelector:Rt,inlineStylesheet:an,maskInputOptions:sn,maskAttributeFn:gn,maskTextFn:Gn,maskInputFn:$n,dataURLOptions:gi,inlineImages:ii,recordCanvas:Ni,keepIframeSrcFn:Di,newlyAddedElement:Oi});if(!Fo)return console.warn(a,"not serialized"),null;let Ko;Ko=T.hasNode(a)?T.getId(a):function DC(a,r){if(r.comment&&a.type===Ns.Comment)return!0;if(a.type===Ns.Element){if(r.script&&("script"===a.tagName||"link"===a.tagName&&("preload"===a.attributes.rel||"modulepreload"===a.attributes.rel)&&"script"===a.attributes.as||"link"===a.tagName&&"prefetch"===a.attributes.rel&&"string"==typeof a.attributes.href&&"js"===C1(a.attributes.href)))return!0;if(r.headFavicon&&("link"===a.tagName&&"shortcut icon"===a.attributes.rel||"meta"===a.tagName&&(Go(a.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===Go(a.attributes.name)||"icon"===Go(a.attributes.rel)||"apple-touch-icon"===Go(a.attributes.rel)||"shortcut icon"===Go(a.attributes.rel))))return!0;if("meta"===a.tagName){if(r.headMetaDescKeywords&&Go(a.attributes.name).match(/^description|keywords$/))return!0;if(r.headMetaSocial&&(Go(a.attributes.property).match(/^(og|twitter|fb):/)||Go(a.attributes.name).match(/^(og|twitter):/)||"pinterest"===Go(a.attributes.name)))return!0;if(r.headMetaRobots&&("robots"===Go(a.attributes.name)||"googlebot"===Go(a.attributes.name)||"bingbot"===Go(a.attributes.name)))return!0;if(r.headMetaHttpEquiv&&void 0!==a.attributes["http-equiv"])return!0;if(r.headMetaAuthorship&&("author"===Go(a.attributes.name)||"generator"===Go(a.attributes.name)||"framework"===Go(a.attributes.name)||"publisher"===Go(a.attributes.name)||"progid"===Go(a.attributes.name)||Go(a.attributes.property).match(/^article:/)||Go(a.attributes.property).match(/^product:/)))return!0;if(r.headMetaVerification&&("google-site-verification"===Go(a.attributes.name)||"yandex-verification"===Go(a.attributes.name)||"csrf-token"===Go(a.attributes.name)||"p:domain_verify"===Go(a.attributes.name)||"verify-v1"===Go(a.attributes.name)||"verification"===Go(a.attributes.name)||"shopify-checkout-api-token"===Go(a.attributes.name)))return!0}}return!1}(Fo,si)||!Ao&&Fo.type===Ns.Text&&!Fo.isStyle&&!Fo.textContent.replace(/^\s+|\s+$/gm,"").length?vf:dg();const An=Object.assign(Fo,{id:Ko});if(T.add(a,An),Ko===vf)return null;Fn&&Fn(a);let ri=!Jt;if(An.type===Ns.Element){ri=ri&&!An.needBlock,delete An.needBlock;const ei=a.shadowRoot;ei&&mf(ei)&&(An.isShadowHost=!0)}if((An.type===Ns.Document||An.type===Ns.Element)&&ri){si.headWhitespace&&An.type===Ns.Element&&"head"===An.tagName&&(Ao=!1);const ei={doc:c,mirror:T,blockClass:N,blockSelector:X,maskAllText:ye,unblockSelector:se,maskTextClass:ke,unmaskTextClass:rt,maskTextSelector:St,unmaskTextSelector:Rt,skipChild:Jt,inlineStylesheet:an,maskInputOptions:sn,maskAttributeFn:gn,maskTextFn:Gn,maskInputFn:$n,slimDOMOptions:si,dataURLOptions:gi,inlineImages:ii,recordCanvas:Ni,preserveWhiteSpace:Ao,onSerialize:Fn,onIframeLoad:Rn,iframeLoadTimeout:fi,onStylesheetLoad:Wi,stylesheetLoadTimeout:oi,keepIframeSrcFn:Di};for(const ki of Array.from(a.childNodes)){const wo=Ju(ki,ei);wo&&An.childNodes.push(wo)}if(function mC(a){return a.nodeType===a.ELEMENT_NODE}(a)&&a.shadowRoot)for(const ki of Array.from(a.shadowRoot.childNodes)){const wo=Ju(ki,ei);wo&&(mf(a.shadowRoot)&&(wo.isShadow=!0),An.childNodes.push(wo))}}return a.parentNode&&pf(a.parentNode)&&mf(a.parentNode)&&(An.isShadow=!0),An.type===Ns.Element&&"iframe"===An.tagName&&function Wd(a,r,c){const T=a.contentWindow;if(!T)return;let X,N=!1;try{X=T.document.readyState}catch{return}if("complete"!==X){const ye=cg(()=>{N||(r(),N=!0)},c);return void a.addEventListener("load",()=>{q_(ye),N=!0,r()})}const se="about:blank";if(T.location.href!==se||a.src===se||""===a.src)return cg(r,0),a.addEventListener("load",r);a.addEventListener("load",r)}(a,()=>{const ei=a.contentDocument;if(ei&&Rn){const ki=Ju(ei,{doc:ei,mirror:T,blockClass:N,blockSelector:X,unblockSelector:se,maskAllText:ye,maskTextClass:ke,unmaskTextClass:rt,maskTextSelector:St,unmaskTextSelector:Rt,skipChild:!1,inlineStylesheet:an,maskInputOptions:sn,maskAttributeFn:gn,maskTextFn:Gn,maskInputFn:$n,slimDOMOptions:si,dataURLOptions:gi,inlineImages:ii,recordCanvas:Ni,preserveWhiteSpace:Ao,onSerialize:Fn,onIframeLoad:Rn,iframeLoadTimeout:fi,onStylesheetLoad:Wi,stylesheetLoadTimeout:oi,keepIframeSrcFn:Di});ki&&Rn(a,ki)}},fi),An.type===Ns.Element&&"link"===An.tagName&&"string"==typeof An.attributes.rel&&("stylesheet"===An.attributes.rel||"preload"===An.attributes.rel&&"string"==typeof An.attributes.href&&"css"===C1(An.attributes.href))&&function Qu(a,r,c){let N,T=!1;try{N=a.sheet}catch{return}if(N)return;const X=cg(()=>{T||(r(),T=!0)},c);a.addEventListener("load",()=>{q_(X),T=!0,r()})}(a,()=>{if(Wi){const ei=Ju(a,{doc:c,mirror:T,blockClass:N,blockSelector:X,unblockSelector:se,maskAllText:ye,maskTextClass:ke,unmaskTextClass:rt,maskTextSelector:St,unmaskTextSelector:Rt,skipChild:!1,inlineStylesheet:an,maskInputOptions:sn,maskAttributeFn:gn,maskTextFn:Gn,maskInputFn:$n,slimDOMOptions:si,dataURLOptions:gi,inlineImages:ii,recordCanvas:Ni,preserveWhiteSpace:Ao,onSerialize:Fn,onIframeLoad:Rn,iframeLoadTimeout:fi,onStylesheetLoad:Wi,stylesheetLoadTimeout:oi,keepIframeSrcFn:Di});ei&&Wi(a,ei)}},oi),An}function ed(a){let r,c=a[0],T=1;for(;T<a.length;){const N=a[T],X=a[T+1];if(T+=2,("optionalAccess"===N||"optionalCall"===N)&&null==c)return;"access"===N||"optionalAccess"===N?(r=c,c=X(c)):("call"===N||"optionalCall"===N)&&(c=X((...se)=>c.call(r,...se)),r=void 0)}return c}function ea(a,r,c=document){const T={capture:!0,passive:!0};return c.addEventListener(a,r,T),()=>c.removeEventListener(a,r,T)}const zd="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let w1={map:{},getId:()=>(console.error(zd),-1),getNode:()=>(console.error(zd),null),removeNodeFromMap(){console.error(zd)},has:()=>(console.error(zd),!1),reset(){console.error(zd)}};function td(a,r,c={}){let T=null,N=0;return function(...X){const se=Date.now();!N&&!1===c.leading&&(N=se);const ye=r-(se-N),ke=this;ye<=0||ye>r?(T&&(function xC(...a){V1("clearTimeout")(...a)}(T),T=null),N=se,a.apply(ke,X)):!T&&!1!==c.trailing&&(T=mg(()=>{N=!1===c.leading?0:Date.now(),T=null,a.apply(ke,X)},ye))}}function k1(a,r,c,T,N=window){const X=N.Object.getOwnPropertyDescriptor(a,r);return N.Object.defineProperty(a,r,T?c:{set(se){mg(()=>{c.set.call(this,se)},0),X&&X.set&&X.set.call(this,se)}}),()=>k1(a,r,X||{},!0)}function np(a,r,c){try{if(!(r in a))return()=>{};const T=a[r],N=c(T);return"function"==typeof N&&(N.prototype=N.prototype||{},Object.defineProperties(N,{__rrweb_original__:{enumerable:!1,value:T}})),a[r]=N,()=>{a[r]=T}}catch{return()=>{}}}typeof window<"u"&&window.Proxy&&window.Reflect&&(w1=new Proxy(w1,{get:(a,r,c)=>("map"===r&&console.error(zd),Reflect.get(a,r,c))}));let ip=Date.now;function fg(a){const r=a.document;return{left:r.scrollingElement?r.scrollingElement.scrollLeft:void 0!==a.pageXOffset?a.pageXOffset:ed([r,"optionalAccess",c=>c.documentElement,"access",c=>c.scrollLeft])||ed([r,"optionalAccess",c=>c.body,"optionalAccess",c=>c.parentElement,"optionalAccess",c=>c.scrollLeft])||ed([r,"optionalAccess",c=>c.body,"optionalAccess",c=>c.scrollLeft])||0,top:r.scrollingElement?r.scrollingElement.scrollTop:void 0!==a.pageYOffset?a.pageYOffset:ed([r,"optionalAccess",c=>c.documentElement,"access",c=>c.scrollTop])||ed([r,"optionalAccess",c=>c.body,"optionalAccess",c=>c.parentElement,"optionalAccess",c=>c.scrollTop])||ed([r,"optionalAccess",c=>c.body,"optionalAccess",c=>c.scrollTop])||0}}function P1(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function L1(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function _g(a){return a?a.nodeType===a.ELEMENT_NODE?a:a.parentElement:null}function Xa(a,r,c,T,N){if(!a)return!1;const X=_g(a);if(!X)return!1;const se=Bl(r,c);if(!N){const rt=T&&X.matches(T);return se(X)&&!rt}const ye=Gd(X,se);let ke=-1;return!(ye<0)&&(T&&(ke=Gd(X,Bl(null,T))),ye>-1&&ke<0||ye<ke)}function Xd(a,r){return r.getId(a)===vf}function Zu(a,r){if(pf(a))return!1;const c=r.getId(a);return!r.has(c)||(!a.parentNode||a.parentNode.nodeType!==a.DOCUMENT_NODE)&&(!a.parentNode||Zu(a.parentNode,r))}function Hd(a){return!!a.changedTouches}function N1(a,r){return!("IFRAME"!==a.nodeName||!r.getMeta(a))}function B1(a,r){return!("LINK"!==a.nodeName||a.nodeType!==a.ELEMENT_NODE||!a.getAttribute||"stylesheet"!==a.getAttribute("rel")||!r.getMeta(a))}function qu(a){return!!ed([a,"optionalAccess",r=>r.shadowRoot])}/[1-9][0-9]{12}/.test(Date.now().toString())||(ip=()=>(new Date).getTime());class pg{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(r){return function n1(a,r){return a??r()}(this.styleIDMap.get(r),()=>-1)}has(r){return this.styleIDMap.has(r)}add(r,c){if(this.has(r))return this.getId(r);let T;return T=void 0===c?this.id++:c,this.styleIDMap.set(r,T),this.idStyleMap.set(T,r),T}getStyle(r){return this.idStyleMap.get(r)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function j1(a){let r=null;return ed([a,"access",c=>c.getRootNode,"optionalCall",c=>c(),"optionalAccess",c=>c.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&a.getRootNode().host&&(r=a.getRootNode().host),r}function $1(a){const r=a.ownerDocument;return!!r&&(r.contains(a)||function KD(a){const r=a.ownerDocument;if(!r)return!1;const c=function GD(a){let c,r=a;for(;c=j1(r);)r=c;return r}(a);return r.contains(c)}(a))}const U1={};function V1(a){const r=U1[a];if(r)return r;const c=window.document;let T=window[a];if(c&&"function"==typeof c.createElement)try{const N=c.createElement("iframe");N.hidden=!0,c.head.appendChild(N);const X=N.contentWindow;X&&X[a]&&(T=X[a]),c.head.removeChild(N)}catch{}return U1[a]=T.bind(window)}function mg(...a){return V1("setTimeout")(...a)}var qi=(a=>(a[a.DomContentLoaded=0]="DomContentLoaded",a[a.Load=1]="Load",a[a.FullSnapshot=2]="FullSnapshot",a[a.IncrementalSnapshot=3]="IncrementalSnapshot",a[a.Meta=4]="Meta",a[a.Custom=5]="Custom",a[a.Plugin=6]="Plugin",a))(qi||{}),eo=(a=>(a[a.Mutation=0]="Mutation",a[a.MouseMove=1]="MouseMove",a[a.MouseInteraction=2]="MouseInteraction",a[a.Scroll=3]="Scroll",a[a.ViewportResize=4]="ViewportResize",a[a.Input=5]="Input",a[a.TouchMove=6]="TouchMove",a[a.MediaInteraction=7]="MediaInteraction",a[a.StyleSheetRule=8]="StyleSheetRule",a[a.CanvasMutation=9]="CanvasMutation",a[a.Font=10]="Font",a[a.Log=11]="Log",a[a.Drag=12]="Drag",a[a.StyleDeclaration=13]="StyleDeclaration",a[a.Selection=14]="Selection",a[a.AdoptedStyleSheet=15]="AdoptedStyleSheet",a[a.CustomElement=16]="CustomElement",a))(eo||{}),Cr=(a=>(a[a.MouseUp=0]="MouseUp",a[a.MouseDown=1]="MouseDown",a[a.Click=2]="Click",a[a.ContextMenu=3]="ContextMenu",a[a.DblClick=4]="DblClick",a[a.Focus=5]="Focus",a[a.Blur=6]="Blur",a[a.TouchStart=7]="TouchStart",a[a.TouchMove_Departed=8]="TouchMove_Departed",a[a.TouchEnd=9]="TouchEnd",a[a.TouchCancel=10]="TouchCancel",a))(Cr||{}),Ha=(a=>(a[a.Mouse=0]="Mouse",a[a.Pen=1]="Pen",a[a.Touch=2]="Touch",a))(Ha||{});function gg(a){let r,c=a[0],T=1;for(;T<a.length;){const N=a[T],X=a[T+1];if(T+=2,("optionalAccess"===N||"optionalCall"===N)&&null==c)return;"access"===N||"optionalAccess"===N?(r=c,c=X(c)):("call"===N||"optionalCall"===N)&&(c=X((...se)=>c.call(r,...se)),r=void 0)}return c}function Ef(a){return"__ln"in a}class G1{constructor(){this.length=0,this.head=null,this.tail=null}get(r){if(r>=this.length)throw new Error("Position outside of list range");let c=this.head;for(let T=0;T<r;T++)c=gg([c,"optionalAccess",N=>N.next])||null;return c}addNode(r){const c={value:r,previous:null,next:null};if(r.__ln=c,r.previousSibling&&Ef(r.previousSibling)){const T=r.previousSibling.__ln.next;c.next=T,c.previous=r.previousSibling.__ln,r.previousSibling.__ln.next=c,T&&(T.previous=c)}else if(r.nextSibling&&Ef(r.nextSibling)&&r.nextSibling.__ln.previous){const T=r.nextSibling.__ln.previous;c.previous=T,c.next=r.nextSibling.__ln,r.nextSibling.__ln.previous=c,T&&(T.next=c)}else this.head&&(this.head.previous=c),c.next=this.head,this.head=c;null===c.next&&(this.tail=c),this.length++}removeNode(r){const c=r.__ln;this.head&&(c.previous?(c.previous.next=c.next,c.next?c.next.previous=c.previous:this.tail=c.previous):(this.head=c.next,this.head?this.head.previous=null:this.tail=null),r.__ln&&delete r.__ln,this.length--)}}const eh=(a,r)=>`${a}@${r}`;class K1{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=r=>{r.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const r=[],c=new Set,T=new G1,N=ke=>{let rt=ke,St=vf;for(;St===vf;)rt=rt&&rt.nextSibling,St=rt&&this.mirror.getId(rt);return St},X=ke=>{if(!ke.parentNode||!$1(ke))return;const rt=pf(ke.parentNode)?this.mirror.getId(j1(ke)):this.mirror.getId(ke.parentNode),St=N(ke);if(-1===rt||-1===St)return T.addNode(ke);const Rt=Ju(ke,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:Jt=>{N1(Jt,this.mirror)&&this.iframeManager.addIframe(Jt),B1(Jt,this.mirror)&&this.stylesheetManager.trackLinkElement(Jt),qu(ke)&&this.shadowDomManager.addShadowRoot(ke.shadowRoot,this.doc)},onIframeLoad:(Jt,an)=>{this.iframeManager.attachIframe(Jt,an),Jt.contentWindow&&this.canvasManager.addWindow(Jt.contentWindow),this.shadowDomManager.observeAttachShadow(Jt)},onStylesheetLoad:(Jt,an)=>{this.stylesheetManager.attachLinkElement(Jt,an)}});Rt&&(r.push({parentId:rt,nextId:St,node:Rt}),c.add(Rt.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const ke of this.movedSet)th(this.removes,ke,this.mirror)&&!this.movedSet.has(ke.parentNode)||X(ke);for(const ke of this.addedSet)!yg(this.droppedSet,ke)&&!th(this.removes,ke,this.mirror)||yg(this.movedSet,ke)?X(ke):this.droppedSet.add(ke);let se=null;for(;T.length;){let ke=null;if(se){const rt=this.mirror.getId(se.value.parentNode),St=N(se.value);-1!==rt&&-1!==St&&(ke=se)}if(!ke){let rt=T.tail;for(;rt;){const St=rt;if(rt=rt.previous,St){const Rt=this.mirror.getId(St.value.parentNode);if(-1===N(St.value))continue;if(-1!==Rt){ke=St;break}{const an=St.value;if(an.parentNode&&an.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&-1!==this.mirror.getId(an.parentNode.host)){ke=St;break}}}}}if(!ke){for(;T.head;)T.removeNode(T.head.value);break}se=ke.previous,T.removeNode(ke.value),X(ke.value)}const ye={texts:this.texts.map(ke=>({id:this.mirror.getId(ke.node),value:ke.value})).filter(ke=>!c.has(ke.id)).filter(ke=>this.mirror.has(ke.id)),attributes:this.attributes.map(ke=>{const{attributes:rt}=ke;if("string"==typeof rt.style){const St=JSON.stringify(ke.styleDiff),Rt=JSON.stringify(ke._unchangedStyles);St.length<rt.style.length&&(St+Rt).split("var(").length===rt.style.split("var(").length&&(rt.style=ke.styleDiff)}return{id:this.mirror.getId(ke.node),attributes:rt}}).filter(ke=>!c.has(ke.id)).filter(ke=>this.mirror.has(ke.id)),removes:this.removes,adds:r};!ye.texts.length&&!ye.attributes.length&&!ye.removes.length&&!ye.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(ye))},this.processMutation=r=>{if(!Xd(r.target,this.mirror))switch(r.type){case"characterData":{const c=r.target.textContent;!Xa(r.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&c!==r.oldValue&&this.texts.push({value:Kd(r.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&c?this.maskTextFn?this.maskTextFn(c,_g(r.target)):c.replace(/[\S]/g,"*"):c,node:r.target});break}case"attributes":{const c=r.target;let T=r.attributeName,N=r.target.getAttribute(T);if("value"===T){const se=ag(c),ye=c.tagName;N=Z_(c,ye,se);const ke=Er({maskInputOptions:this.maskInputOptions,tagName:ye,type:se});N=gf({isMasked:Kd(r.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,ke),element:c,value:N,maskInputFn:this.maskInputFn})}if(Xa(r.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||N===r.oldValue)return;let X=this.attributeMap.get(r.target);if("IFRAME"===c.tagName&&"src"===T&&!this.keepIframeSrcFn(N)){if(c.contentDocument)return;T="rr_src"}if(X||(X={node:r.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(X),this.attributeMap.set(r.target,X)),"type"===T&&"INPUT"===c.tagName&&"password"===(r.oldValue||"").toLowerCase()&&c.setAttribute("data-rr-is-password","true"),!x1(c.tagName,T)&&(X.attributes[T]=ec(this.doc,Hu(c.tagName),Hu(T),N,c,this.maskAttributeFn),"style"===T)){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const se=this.unattachedDoc.createElement("span");r.oldValue&&se.setAttribute("style",r.oldValue);for(const ye of Array.from(c.style)){const ke=c.style.getPropertyValue(ye),rt=c.style.getPropertyPriority(ye);ke!==se.style.getPropertyValue(ye)||rt!==se.style.getPropertyPriority(ye)?X.styleDiff[ye]=""===rt?ke:[ke,rt]:X._unchangedStyles[ye]=[ke,rt]}for(const ye of Array.from(se.style))""===c.style.getPropertyValue(ye)&&(X.styleDiff[ye]=!1)}break}case"childList":if(Xa(r.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;r.addedNodes.forEach(c=>this.genAdds(c,r.target)),r.removedNodes.forEach(c=>{const T=this.mirror.getId(c),N=pf(r.target)?this.mirror.getId(r.target.host):this.mirror.getId(r.target);Xa(r.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Xd(c,this.mirror)||!function F1(a,r){return-1!==r.getId(a)}(c,this.mirror)||(this.addedSet.has(c)?(vg(this.addedSet,c),this.droppedSet.add(c)):this.addedSet.has(r.target)&&-1===T||Zu(r.target,this.mirror)||(this.movedSet.has(c)&&this.movedMap[eh(T,N)]?vg(this.movedSet,c):this.removes.push({parentId:N,id:T,isShadow:!(!pf(r.target)||!mf(r.target))||void 0})),this.mapRemoves.push(c))})}},this.genAdds=(r,c)=>{if(!this.processedNodeManager.inOtherBuffer(r,this)&&!this.addedSet.has(r)&&!this.movedSet.has(r)){if(this.mirror.hasNode(r)){if(Xd(r,this.mirror))return;this.movedSet.add(r);let T=null;c&&this.mirror.hasNode(c)&&(T=this.mirror.getId(c)),T&&-1!==T&&(this.movedMap[eh(this.mirror.getId(r),T)]=!0)}else this.addedSet.add(r),this.droppedSet.delete(r);Xa(r,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(r.childNodes.forEach(T=>this.genAdds(T)),qu(r)&&r.shadowRoot.childNodes.forEach(T=>{this.processedNodeManager.add(T,this),this.genAdds(T,r)}))}}}init(r){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(c=>{this[c]=r[c]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function vg(a,r){a.delete(r),r.childNodes.forEach(c=>vg(a,c))}function th(a,r,c){return 0!==a.length&&bg(a,r,c)}function bg(a,r,c){const{parentNode:T}=r;if(!T)return!1;const N=c.getId(T);return!!a.some(X=>X.id===N)||bg(a,T,c)}function yg(a,r){return 0!==a.size&&Eg(a,r)}function Eg(a,r){const{parentNode:c}=r;return!!c&&(!!a.has(c)||Eg(a,c))}let nh;const vo=a=>nh?(...c)=>{try{return a(...c)}catch(T){if(nh&&!0===nh(T))return()=>{};throw T}}:a;function ta(a){let r,c=a[0],T=1;for(;T<a.length;){const N=a[T],X=a[T+1];if(T+=2,("optionalAccess"===N||"optionalCall"===N)&&null==c)return;"access"===N||"optionalAccess"===N?(r=c,c=X(c)):("call"===N||"optionalCall"===N)&&(c=X((...se)=>c.call(r,...se)),r=void 0)}return c}const ih=[];function Cf(a){try{if("composedPath"in a){const r=a.composedPath();if(r.length)return r[0]}else if("path"in a&&a.path.length)return a.path[0]}catch{}return a&&a.target}function W1(a,r){const c=new K1;ih.push(c),c.init(a);let T=window.MutationObserver||window.__rrMutationObserver;const N=ta([window,"optionalAccess",se=>se.Zone,"optionalAccess",se=>se.__symbol__,"optionalCall",se=>se("MutationObserver")]);N&&window[N]&&(T=window[N]);const X=new T(vo(se=>{a.onMutation&&!1===a.onMutation(se)||c.processMutations.bind(c)(se)}));return X.observe(r,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),X}function Cg({scrollCb:a,doc:r,mirror:c,blockClass:T,blockSelector:N,unblockSelector:X,sampling:se}){return ea("scroll",vo(td(vo(ke=>{const rt=Cf(ke);if(!rt||Xa(rt,T,N,X,!0))return;const St=c.getId(rt);if(rt===r&&r.defaultView){const Rt=fg(r.defaultView);a({id:St,x:Rt.left,y:Rt.top})}else a({id:St,x:rt.scrollLeft,y:rt.scrollTop})}),se.scroll||100)),r)}const wC=["INPUT","TEXTAREA","SELECT"],Mg=new WeakMap;function Tg({inputCb:a,doc:r,mirror:c,blockClass:T,blockSelector:N,unblockSelector:X,ignoreClass:se,ignoreSelector:ye,maskInputOptions:ke,maskInputFn:rt,sampling:St,userTriggeredOnInput:Rt,maskTextClass:Jt,unmaskTextClass:an,maskTextSelector:sn,unmaskTextSelector:gn}){function Gn(Rn){let fi=Cf(Rn);const Wi=Rn.isTrusted,oi=fi&&y1(fi.tagName);if("OPTION"===oi&&(fi=fi.parentElement),!fi||!oi||wC.indexOf(oi)<0||Xa(fi,T,N,X,!0))return;const Di=fi;if(Di.classList.contains(se)||ye&&Di.matches(ye))return;const Oi=ag(fi);let Ao=Z_(Di,oi,Oi),Fo=!1;const Ko=Er({maskInputOptions:ke,tagName:oi,type:Oi}),An=Kd(fi,Jt,sn,an,gn,Ko);("radio"===Oi||"checkbox"===Oi)&&(Fo=fi.checked),Ao=gf({isMasked:An,element:fi,value:Ao,maskInputFn:rt}),$n(fi,Rt?{text:Ao,isChecked:Fo,userTriggered:Wi}:{text:Ao,isChecked:Fo});const ri=fi.name;"radio"===Oi&&ri&&Fo&&r.querySelectorAll(`input[type="radio"][name="${ri}"]`).forEach(ei=>{if(ei!==fi){const ki=gf({isMasked:An,element:ei,value:Z_(ei,oi,Oi),maskInputFn:rt});$n(ei,Rt?{text:ki,isChecked:!Fo,userTriggered:!1}:{text:ki,isChecked:!Fo})}})}function $n(Rn,fi){const Wi=Mg.get(Rn);if(!Wi||Wi.text!==fi.text||Wi.isChecked!==fi.isChecked){Mg.set(Rn,fi);const oi=c.getId(Rn);vo(a)({...fi,id:oi})}}const gi=("last"===St.input?["change"]:["input","change"]).map(Rn=>ea(Rn,vo(Gn),r)),ii=r.defaultView;if(!ii)return()=>{gi.forEach(Rn=>Rn())};const Ni=ii.Object.getOwnPropertyDescriptor(ii.HTMLInputElement.prototype,"value");return Ni&&Ni.set&&gi.push(...[[ii.HTMLInputElement.prototype,"value"],[ii.HTMLInputElement.prototype,"checked"],[ii.HTMLSelectElement.prototype,"value"],[ii.HTMLTextAreaElement.prototype,"value"],[ii.HTMLSelectElement.prototype,"selectedIndex"],[ii.HTMLOptionElement.prototype,"selected"]].map(Rn=>k1(Rn[0],Rn[1],{set(){vo(Gn)({target:this,isTrusted:!1})}},!1,ii))),vo(()=>{gi.forEach(Rn=>Rn())})}function Yd(a){return function c(T,N){if(Tf("CSSGroupingRule")&&T.parentRule instanceof CSSGroupingRule||Tf("CSSMediaRule")&&T.parentRule instanceof CSSMediaRule||Tf("CSSSupportsRule")&&T.parentRule instanceof CSSSupportsRule||Tf("CSSConditionRule")&&T.parentRule instanceof CSSConditionRule){const se=Array.from(T.parentRule.cssRules).indexOf(T);N.unshift(se)}else if(T.parentStyleSheet){const se=Array.from(T.parentStyleSheet.cssRules).indexOf(T);N.unshift(se)}return N}(a,[])}function nd(a,r,c){let T,N;return a?(a.ownerNode?T=r.getId(a.ownerNode):N=c.getId(a),{styleId:N,id:T}):{}}function H1({mirror:a,stylesheetManager:r},c){let T=null;T=a.getId("#document"===c.nodeName?c:c.host);const N=ta("#document"===c.nodeName?[c,"access",se=>se.defaultView,"optionalAccess",se=>se.Document]:[c,"access",se=>se.ownerDocument,"optionalAccess",se=>se.defaultView,"optionalAccess",se=>se.ShadowRoot]),X=ta([N,"optionalAccess",se=>se.prototype])?Object.getOwnPropertyDescriptor(ta([N,"optionalAccess",se=>se.prototype]),"adoptedStyleSheets"):void 0;return null!==T&&-1!==T&&N&&X?(Object.defineProperty(c,"adoptedStyleSheets",{configurable:X.configurable,enumerable:X.enumerable,get(){return ta([X,"access",se=>se.get,"optionalAccess",se=>se.call,"call",se=>se(this)])},set(se){const ye=ta([X,"access",ke=>ke.set,"optionalAccess",ke=>ke.call,"call",ke=>ke(this,se)]);if(null!==T&&-1!==T)try{r.adoptStyleSheets(se,T)}catch{}return ye}}),vo(()=>{Object.defineProperty(c,"adoptedStyleSheets",{configurable:X.configurable,enumerable:X.enumerable,get:X.get,set:X.set})})):()=>{}}function Y1(a,r={}){const c=a.doc.defaultView;if(!c)return()=>{};let T;a.recordDOM&&(T=W1(a,a.doc));const N=function op({mousemoveCb:a,sampling:r,doc:c,mirror:T}){if(!1===r.mousemove)return()=>{};const N="number"==typeof r.mousemove?r.mousemove:50,X="number"==typeof r.mousemoveCallback?r.mousemoveCallback:500;let ye,se=[];const ke=td(vo(Rt=>{const Jt=Date.now()-ye;a(se.map(an=>(an.timeOffset-=Jt,an)),Rt),se=[],ye=null}),X),rt=vo(td(vo(Rt=>{const Jt=Cf(Rt),{clientX:an,clientY:sn}=Hd(Rt)?Rt.changedTouches[0]:Rt;ye||(ye=ip()),se.push({x:an,y:sn,id:T.getId(Jt),timeOffset:ip()-ye}),ke(typeof DragEvent<"u"&&Rt instanceof DragEvent?eo.Drag:Rt instanceof MouseEvent?eo.MouseMove:eo.TouchMove)}),N,{trailing:!1})),St=[ea("mousemove",rt,c),ea("touchmove",rt,c),ea("drag",rt,c)];return vo(()=>{St.forEach(Rt=>Rt())})}(a),X=function z1({mouseInteractionCb:a,doc:r,mirror:c,blockClass:T,blockSelector:N,unblockSelector:X,sampling:se}){if(!1===se.mouseInteraction)return()=>{};const ye=!0===se.mouseInteraction||void 0===se.mouseInteraction?{}:se.mouseInteraction,ke=[];let rt=null;return Object.keys(Cr).filter(Rt=>Number.isNaN(Number(Rt))&&!Rt.endsWith("_Departed")&&!1!==ye[Rt]).forEach(Rt=>{let Jt=Hu(Rt);const an=(Rt=>Jt=>{const an=Cf(Jt);if(Xa(an,T,N,X,!0))return;let sn=null,gn=Rt;if("pointerType"in Jt){switch(Jt.pointerType){case"mouse":sn=Ha.Mouse;break;case"touch":sn=Ha.Touch;break;case"pen":sn=Ha.Pen}sn===Ha.Touch&&(Cr[Rt]===Cr.MouseDown?gn="TouchStart":Cr[Rt]===Cr.MouseUp&&(gn="TouchEnd"))}else Hd(Jt)&&(sn=Ha.Touch);null!==sn?(rt=sn,(gn.startsWith("Touch")&&sn===Ha.Touch||gn.startsWith("Mouse")&&sn===Ha.Mouse)&&(sn=null)):Cr[Rt]===Cr.Click&&(sn=rt,rt=null);const Gn=Hd(Jt)?Jt.changedTouches[0]:Jt;if(!Gn)return;const $n=c.getId(an),{clientX:si,clientY:gi}=Gn;vo(a)({type:Cr[gn],id:$n,x:si,y:gi,...null!==sn&&{pointerType:sn}})})(Rt);if(window.PointerEvent)switch(Cr[Rt]){case Cr.MouseDown:case Cr.MouseUp:Jt=Jt.replace("mouse","pointer");break;case Cr.TouchStart:case Cr.TouchEnd:return}ke.push(ea(Jt,an,r))}),vo(()=>{ke.forEach(Rt=>Rt())})}(a),se=Cg(a),ye=function X1({viewportResizeCb:a},{win:r}){let c=-1,T=-1;return ea("resize",vo(td(vo(()=>{const X=P1(),se=L1();(c!==X||T!==se)&&(a({width:Number(se),height:Number(X)}),c=X,T=se)}),200)),r)}(a,{win:c}),ke=Tg(a),rt=function LC({mediaInteractionCb:a,blockClass:r,blockSelector:c,unblockSelector:T,mirror:N,sampling:X,doc:se}){const ye=vo(rt=>td(vo(St=>{const Rt=Cf(St);if(!Rt||Xa(Rt,r,c,T,!0))return;const{currentTime:Jt,volume:an,muted:sn,playbackRate:gn}=Rt;a({type:rt,id:N.getId(Rt),currentTime:Jt,volume:an,muted:sn,playbackRate:gn})}),X.media||500)),ke=[ea("play",ye(0),se),ea("pause",ye(1),se),ea("seeked",ye(2),se),ea("volumechange",ye(3),se),ea("ratechange",ye(4),se)];return vo(()=>{ke.forEach(rt=>rt())})}(a);let St=()=>{},Rt=()=>{},Jt=()=>{},an=()=>{};a.recordDOM&&(St=function kC({styleSheetRuleCb:a,mirror:r,stylesheetManager:c},{win:T}){if(!T.CSSStyleSheet||!T.CSSStyleSheet.prototype)return()=>{};const N=T.CSSStyleSheet.prototype.insertRule;T.CSSStyleSheet.prototype.insertRule=new Proxy(N,{apply:vo((St,Rt,Jt)=>{const[an,sn]=Jt,{id:gn,styleId:Gn}=nd(Rt,r,c.styleMirror);return(gn&&-1!==gn||Gn&&-1!==Gn)&&a({id:gn,styleId:Gn,adds:[{rule:an,index:sn}]}),St.apply(Rt,Jt)})});const X=T.CSSStyleSheet.prototype.deleteRule;let se,ye;T.CSSStyleSheet.prototype.deleteRule=new Proxy(X,{apply:vo((St,Rt,Jt)=>{const[an]=Jt,{id:sn,styleId:gn}=nd(Rt,r,c.styleMirror);return(sn&&-1!==sn||gn&&-1!==gn)&&a({id:sn,styleId:gn,removes:[{index:an}]}),St.apply(Rt,Jt)})}),T.CSSStyleSheet.prototype.replace&&(se=T.CSSStyleSheet.prototype.replace,T.CSSStyleSheet.prototype.replace=new Proxy(se,{apply:vo((St,Rt,Jt)=>{const[an]=Jt,{id:sn,styleId:gn}=nd(Rt,r,c.styleMirror);return(sn&&-1!==sn||gn&&-1!==gn)&&a({id:sn,styleId:gn,replace:an}),St.apply(Rt,Jt)})})),T.CSSStyleSheet.prototype.replaceSync&&(ye=T.CSSStyleSheet.prototype.replaceSync,T.CSSStyleSheet.prototype.replaceSync=new Proxy(ye,{apply:vo((St,Rt,Jt)=>{const[an]=Jt,{id:sn,styleId:gn}=nd(Rt,r,c.styleMirror);return(sn&&-1!==sn||gn&&-1!==gn)&&a({id:sn,styleId:gn,replaceSync:an}),St.apply(Rt,Jt)})}));const ke={};sp("CSSGroupingRule")?ke.CSSGroupingRule=T.CSSGroupingRule:(sp("CSSMediaRule")&&(ke.CSSMediaRule=T.CSSMediaRule),sp("CSSConditionRule")&&(ke.CSSConditionRule=T.CSSConditionRule),sp("CSSSupportsRule")&&(ke.CSSSupportsRule=T.CSSSupportsRule));const rt={};return Object.entries(ke).forEach(([St,Rt])=>{rt[St]={insertRule:Rt.prototype.insertRule,deleteRule:Rt.prototype.deleteRule},Rt.prototype.insertRule=new Proxy(rt[St].insertRule,{apply:vo((Jt,an,sn)=>{const[gn,Gn]=sn,{id:$n,styleId:si}=nd(an.parentStyleSheet,r,c.styleMirror);return($n&&-1!==$n||si&&-1!==si)&&a({id:$n,styleId:si,adds:[{rule:gn,index:[...Yd(an),Gn||0]}]}),Jt.apply(an,sn)})}),Rt.prototype.deleteRule=new Proxy(rt[St].deleteRule,{apply:vo((Jt,an,sn)=>{const[gn]=sn,{id:Gn,styleId:$n}=nd(an.parentStyleSheet,r,c.styleMirror);return(Gn&&-1!==Gn||$n&&-1!==$n)&&a({id:Gn,styleId:$n,removes:[{index:[...Yd(an),gn]}]}),Jt.apply(an,sn)})})}),vo(()=>{T.CSSStyleSheet.prototype.insertRule=N,T.CSSStyleSheet.prototype.deleteRule=X,se&&(T.CSSStyleSheet.prototype.replace=se),ye&&(T.CSSStyleSheet.prototype.replaceSync=ye),Object.entries(ke).forEach(([St,Rt])=>{Rt.prototype.insertRule=rt[St].insertRule,Rt.prototype.deleteRule=rt[St].deleteRule})})}(a,{win:c}),Rt=H1(a,a.doc),Jt=function PC({styleDeclarationCb:a,mirror:r,ignoreCSSAttributes:c,stylesheetManager:T},{win:N}){const X=N.CSSStyleDeclaration.prototype.setProperty;N.CSSStyleDeclaration.prototype.setProperty=new Proxy(X,{apply:vo((ye,ke,rt)=>{const[St,Rt,Jt]=rt;if(c.has(St))return X.apply(ke,[St,Rt,Jt]);const{id:an,styleId:sn}=nd(ta([ke,"access",gn=>gn.parentRule,"optionalAccess",gn=>gn.parentStyleSheet]),r,T.styleMirror);return(an&&-1!==an||sn&&-1!==sn)&&a({id:an,styleId:sn,set:{property:St,value:Rt,priority:Jt},index:Yd(ke.parentRule)}),ye.apply(ke,rt)})});const se=N.CSSStyleDeclaration.prototype.removeProperty;return N.CSSStyleDeclaration.prototype.removeProperty=new Proxy(se,{apply:vo((ye,ke,rt)=>{const[St]=rt;if(c.has(St))return se.apply(ke,[St]);const{id:Rt,styleId:Jt}=nd(ta([ke,"access",an=>an.parentRule,"optionalAccess",an=>an.parentStyleSheet]),r,T.styleMirror);return(Rt&&-1!==Rt||Jt&&-1!==Jt)&&a({id:Rt,styleId:Jt,remove:{property:St},index:Yd(ke.parentRule)}),ye.apply(ke,rt)})}),vo(()=>{N.CSSStyleDeclaration.prototype.setProperty=X,N.CSSStyleDeclaration.prototype.removeProperty=se})}(a,{win:c}),a.collectFonts&&(an=function FC({fontCb:a,doc:r}){const c=r.defaultView;if(!c)return()=>{};const T=[],N=new WeakMap,X=c.FontFace;c.FontFace=function(ke,rt,St){const Rt=new X(ke,rt,St);return N.set(Rt,{family:ke,buffer:"string"!=typeof rt,descriptors:St,fontSource:"string"==typeof rt?rt:JSON.stringify(Array.from(new Uint8Array(rt)))}),Rt};const se=np(r.fonts,"add",function(ye){return function(ke){return mg(vo(()=>{const rt=N.get(ke);rt&&(a(rt),N.delete(ke))}),0),ye.apply(this,[ke])}});return T.push(()=>{c.FontFace=X}),T.push(se),vo(()=>{T.forEach(ye=>ye())})}(a)));const sn=function Dg(a){const{doc:r,mirror:c,blockClass:T,blockSelector:N,unblockSelector:X,selectionCb:se}=a;let ye=!0;const ke=vo(()=>{const rt=r.getSelection();if(!rt||ye&&ta([rt,"optionalAccess",Jt=>Jt.isCollapsed]))return;ye=rt.isCollapsed||!1;const St=[],Rt=rt.rangeCount||0;for(let Jt=0;Jt<Rt;Jt++){const an=rt.getRangeAt(Jt),{startContainer:sn,startOffset:gn,endContainer:Gn,endOffset:$n}=an;Xa(sn,T,N,X,!0)||Xa(Gn,T,N,X,!0)||St.push({start:c.getId(sn),startOffset:gn,end:c.getId(Gn),endOffset:$n})}se({ranges:St})});return ke(),ea("selectionchange",ke)}(a),gn=function Mf({doc:a,customElementCb:r}){const c=a.defaultView;return c&&c.customElements?np(c.customElements,"define",function(N){return function(X,se,ye){try{r({define:{name:X}})}catch{}return N.apply(this,[X,se,ye])}}):()=>{}}(a),Gn=[];for(const $n of a.plugins)Gn.push($n.observer($n.callback,c,$n.options));return vo(()=>{ih.forEach($n=>$n.reset()),ta([T,"optionalAccess",$n=>$n.disconnect,"call",$n=>$n()]),N(),X(),se(),ye(),ke(),rt(),St(),Rt(),Jt(),an(),sn(),gn(),Gn.forEach($n=>$n())})}function Tf(a){return typeof window[a]<"u"}function sp(a){return!!(typeof window[a]<"u"&&window[a].prototype&&"insertRule"in window[a].prototype&&"deleteRule"in window[a].prototype)}class Qd{constructor(r){this.generateIdFn=r,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(r,c,T,N){const X=T||this.getIdToRemoteIdMap(r),se=N||this.getRemoteIdToIdMap(r);let ye=X.get(c);return ye||(ye=this.generateIdFn(),X.set(c,ye),se.set(ye,c)),ye}getIds(r,c){const T=this.getIdToRemoteIdMap(r),N=this.getRemoteIdToIdMap(r);return c.map(X=>this.getId(r,X,T,N))}getRemoteId(r,c,T){const N=T||this.getRemoteIdToIdMap(r);return"number"!=typeof c?c:N.get(c)||-1}getRemoteIds(r,c){const T=this.getRemoteIdToIdMap(r);return c.map(N=>this.getRemoteId(r,N,T))}reset(r){if(!r)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(r),this.iframeRemoteIdToIdMap.delete(r)}getIdToRemoteIdMap(r){let c=this.iframeIdToRemoteIdMap.get(r);return c||(c=new Map,this.iframeIdToRemoteIdMap.set(r,c)),c}getRemoteIdToIdMap(r){let c=this.iframeRemoteIdToIdMap.get(r);return c||(c=new Map,this.iframeRemoteIdToIdMap.set(r,c)),c}}function Df(a){let r,c=a[0],T=1;for(;T<a.length;){const N=a[T],X=a[T+1];if(T+=2,("optionalAccess"===N||"optionalCall"===N)&&null==c)return;"access"===N||"optionalAccess"===N?(r=c,c=X(c)):("call"===N||"optionalCall"===N)&&(c=X((...se)=>c.call(r,...se)),r=void 0)}return c}class WD{constructor(){this.crossOriginIframeMirror=new Qd(dg),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class NC{constructor(r){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Qd(dg),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=r.mutationCb,this.wrappedEmit=r.wrappedEmit,this.stylesheetManager=r.stylesheetManager,this.recordCrossOriginIframes=r.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Qd(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=r.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(r){this.iframes.set(r,!0),r.contentWindow&&this.crossOriginIframeMap.set(r.contentWindow,r)}addLoadListener(r){this.loadListener=r}attachIframe(r,c){this.mutationCb({adds:[{parentId:this.mirror.getId(r),nextId:null,node:c}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),Df([this,"access",T=>T.loadListener,"optionalCall",T=>T(r)]),r.contentDocument&&r.contentDocument.adoptedStyleSheets&&r.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.contentDocument.adoptedStyleSheets,this.mirror.getId(r.contentDocument))}handleMessage(r){const c=r;if("rrweb"!==c.data.type||c.origin!==c.data.origin||!r.source)return;const N=this.crossOriginIframeMap.get(r.source);if(!N)return;const X=this.transformCrossOriginEvent(N,c.data.event);X&&this.wrappedEmit(X,c.data.isCheckout)}transformCrossOriginEvent(r,c){switch(c.type){case qi.FullSnapshot:{this.crossOriginIframeMirror.reset(r),this.crossOriginIframeStyleMirror.reset(r),this.replaceIdOnNode(c.data.node,r);const T=c.data.node.id;return this.crossOriginIframeRootIdMap.set(r,T),this.patchRootIdOnNode(c.data.node,T),{timestamp:c.timestamp,type:qi.IncrementalSnapshot,data:{source:eo.Mutation,adds:[{parentId:this.mirror.getId(r),nextId:null,node:c.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case qi.Meta:case qi.Load:case qi.DomContentLoaded:return!1;case qi.Plugin:return c;case qi.Custom:return this.replaceIds(c.data.payload,r,["id","parentId","previousId","nextId"]),c;case qi.IncrementalSnapshot:switch(c.data.source){case eo.Mutation:return c.data.adds.forEach(T=>{this.replaceIds(T,r,["parentId","nextId","previousId"]),this.replaceIdOnNode(T.node,r);const N=this.crossOriginIframeRootIdMap.get(r);N&&this.patchRootIdOnNode(T.node,N)}),c.data.removes.forEach(T=>{this.replaceIds(T,r,["parentId","id"])}),c.data.attributes.forEach(T=>{this.replaceIds(T,r,["id"])}),c.data.texts.forEach(T=>{this.replaceIds(T,r,["id"])}),c;case eo.Drag:case eo.TouchMove:case eo.MouseMove:return c.data.positions.forEach(T=>{this.replaceIds(T,r,["id"])}),c;case eo.ViewportResize:return!1;case eo.MediaInteraction:case eo.MouseInteraction:case eo.Scroll:case eo.CanvasMutation:case eo.Input:return this.replaceIds(c.data,r,["id"]),c;case eo.StyleSheetRule:case eo.StyleDeclaration:return this.replaceIds(c.data,r,["id"]),this.replaceStyleIds(c.data,r,["styleId"]),c;case eo.Font:return c;case eo.Selection:return c.data.ranges.forEach(T=>{this.replaceIds(T,r,["start","end"])}),c;case eo.AdoptedStyleSheet:return this.replaceIds(c.data,r,["id"]),this.replaceStyleIds(c.data,r,["styleIds"]),Df([c,"access",T=>T.data,"access",T=>T.styles,"optionalAccess",T=>T.forEach,"call",T=>T(N=>{this.replaceStyleIds(N,r,["styleId"])})]),c}}return!1}replace(r,c,T,N){for(const X of N)!Array.isArray(c[X])&&"number"!=typeof c[X]||(c[X]=Array.isArray(c[X])?r.getIds(T,c[X]):r.getId(T,c[X]));return c}replaceIds(r,c,T){return this.replace(this.crossOriginIframeMirror,r,c,T)}replaceStyleIds(r,c,T){return this.replace(this.crossOriginIframeStyleMirror,r,c,T)}replaceIdOnNode(r,c){this.replaceIds(r,c,["id","rootId"]),"childNodes"in r&&r.childNodes.forEach(T=>{this.replaceIdOnNode(T,c)})}patchRootIdOnNode(r,c){r.type!==Ns.Document&&!r.rootId&&(r.rootId=c),"childNodes"in r&&r.childNodes.forEach(T=>{this.patchRootIdOnNode(T,c)})}}class Q1{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class Sg{constructor(r){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=r.mutationCb,this.scrollCb=r.scrollCb,this.bypassOptions=r.bypassOptions,this.mirror=r.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(r,c){if(!mf(r)||this.shadowDoms.has(r))return;this.shadowDoms.add(r),this.bypassOptions.canvasManager.addShadowRoot(r);const T=W1({...this.bypassOptions,doc:c,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},r);this.restoreHandlers.push(()=>T.disconnect()),this.restoreHandlers.push(Cg({...this.bypassOptions,scrollCb:this.scrollCb,doc:r,mirror:this.mirror})),mg(()=>{r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r.host)),this.restoreHandlers.push(H1({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},r))},0)}observeAttachShadow(r){!r.contentWindow||!r.contentDocument||this.patchAttachShadow(r.contentWindow.Element,r.contentDocument)}patchAttachShadow(r,c){const T=this;this.restoreHandlers.push(np(r.prototype,"attachShadow",function(N){return function(X){const se=N.call(this,X);return this.shadowRoot&&$1(this)&&T.addShadowRoot(this.shadowRoot,c),se}}))}reset(){this.restoreHandlers.forEach(r=>{try{r()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}class J1{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class Z1{constructor(r){this.trackedLinkElements=new WeakSet,this.styleMirror=new pg,this.mutationCb=r.mutationCb,this.adoptedStyleSheetCb=r.adoptedStyleSheetCb}attachLinkElement(r,c){"_cssText"in c.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:c.id,attributes:c.attributes}]}),this.trackLinkElement(r)}trackLinkElement(r){this.trackedLinkElements.has(r)||(this.trackedLinkElements.add(r),this.trackStylesheetInLinkElement(r))}adoptStyleSheets(r,c){if(0===r.length)return;const T={id:c,styleIds:[]},N=[];for(const X of r){let se;this.styleMirror.has(X)?se=this.styleMirror.getId(X):(se=this.styleMirror.add(X),N.push({styleId:se,rules:Array.from(X.rules||CSSRule,(ye,ke)=>({rule:m1(ye),index:ke}))})),T.styleIds.push(se)}N.length>0&&(T.styles=N),this.adoptedStyleSheetCb(T)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(r){}}class BC{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){!function OC(...a){V1("requestAnimationFrame")(...a)}(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(r,c){const T=this.nodeMap.get(r);return T&&Array.from(T).some(N=>N!==c)}add(r,c){this.nodeMap.set(r,(this.nodeMap.get(r)||new Set).add(c))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}let cs,Sf;try{if(2!==Array.from([1],a=>2*a)[0]){const a=document.createElement("iframe");document.body.appendChild(a),Array.from=Bd([a,"access",r=>r.contentWindow,"optionalAccess",r=>r.Array,"access",r=>r.from])||Array.from,document.body.removeChild(a)}}catch(a){console.debug("Unable to override Array.from",a)}const ml=function bC(){return new b1}();function tc(a={}){const{emit:r,checkoutEveryNms:c,checkoutEveryNth:T,blockClass:N="rr-block",blockSelector:X=null,unblockSelector:se=null,ignoreClass:ye="rr-ignore",ignoreSelector:ke=null,maskAllText:rt=!1,maskTextClass:St="rr-mask",unmaskTextClass:Rt=null,maskTextSelector:Jt=null,unmaskTextSelector:an=null,inlineStylesheet:sn=!0,maskAllInputs:gn,maskInputOptions:Gn,slimDOMOptions:$n,maskAttributeFn:si,maskInputFn:gi,maskTextFn:ii,maxCanvasSize:Ni=null,packFn:Fn,sampling:Rn={},dataURLOptions:fi={},mousemoveWait:Wi,recordDOM:oi=!0,recordCanvas:Di=!1,recordCrossOriginIframes:Oi=!1,recordAfter:Ao=("DOMContentLoaded"===a.recordAfter?a.recordAfter:"load"),userTriggeredOnInput:Fo=!1,collectFonts:Ko=!1,inlineImages:An=!1,plugins:ri,keepIframeSrcFn:ei=(()=>!1),ignoreCSSAttributes:ki=new Set([]),errorHandler:wo,onMutation:Ma,getCanvasManager:ia}=a;!function RC(a){nh=a}(wo);const $l=!Oi||window.parent===window;let No=!1;if(!$l)try{window.parent.document&&(No=!1)}catch{No=!0}if($l&&!r)throw new Error("emit function is required");void 0!==Wi&&void 0===Rn.mousemove&&(Rn.mousemove=Wi),ml.reset();const rd=!0===gn?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==Gn?Gn:{},au=!0===$n||"all"===$n?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===$n,headMetaDescKeywords:"all"===$n}:$n||{};!function IC(a=window){"NodeList"in a&&!a.NodeList.prototype.forEach&&(a.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in a&&!a.DOMTokenList.prototype.forEach&&(a.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...r)=>{let c=r[0];if(!(0 in r))throw new TypeError("1 argument is required");do{if(this===c)return!0}while(c=c&&c.parentNode);return!1})}();let js,Ul=0;const oa=Io=>{for(const Vl of ri||[])Vl.eventProcessor&&(Io=Vl.eventProcessor(Io));return Fn&&!No&&(Io=Fn(Io)),Io};cs=(Io,Vl)=>{const bo=Io;if(bo.timestamp=ip(),Bd([ih,"access",rs=>rs[0],"optionalAccess",rs=>rs.isFrozen,"call",rs=>rs()])&&bo.type!==qi.FullSnapshot&&!(bo.type===qi.IncrementalSnapshot&&bo.data.source===eo.Mutation)&&ih.forEach(rs=>rs.unfreeze()),$l)Bd([r,"optionalCall",rs=>rs(oa(bo),Vl)]);else if(No){const rs={type:"rrweb",event:oa(bo),origin:window.location.origin,isCheckout:Vl};window.parent.postMessage(rs,"*")}if(bo.type===qi.FullSnapshot)js=bo,Ul=0;else if(bo.type===qi.IncrementalSnapshot){if(bo.data.source===eo.Mutation&&bo.data.isAttachIframe)return;Ul++,(T&&Ul>=T||c&&js&&bo.timestamp-js.timestamp>c)&&ov(!0)}};const Mc=Io=>{cs({type:qi.IncrementalSnapshot,data:{source:eo.Mutation,...Io}})},_h=Io=>cs({type:qi.IncrementalSnapshot,data:{source:eo.Scroll,...Io}}),YM=Io=>cs({type:qi.IncrementalSnapshot,data:{source:eo.CanvasMutation,...Io}}),lu=new Z1({mutationCb:Mc,adoptedStyleSheetCb:Io=>cs({type:qi.IncrementalSnapshot,data:{source:eo.AdoptedStyleSheet,...Io}})}),cu="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new WD:new NC({mirror:ml,mutationCb:Mc,stylesheetManager:lu,recordCrossOriginIframes:Oi,wrappedEmit:cs});for(const Io of ri||[])Io.getMirror&&Io.getMirror({nodeMirror:ml,crossOriginIframeMirror:cu.crossOriginIframeMirror,crossOriginIframeStyleMirror:cu.crossOriginIframeStyleMirror});const nv=new BC,iv=function $C(a,r){try{return a?a(r):new J1}catch{return console.warn("Unable to initialize CanvasManager"),new J1}}(ia,{mirror:ml,win:window,mutationCb:Io=>cs({type:qi.IncrementalSnapshot,data:{source:eo.CanvasMutation,...Io}}),recordCanvas:Di,blockClass:N,blockSelector:X,unblockSelector:se,maxCanvasSize:Ni,sampling:Rn.canvas,dataURLOptions:fi,errorHandler:wo}),Ep="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new Q1:new Sg({mutationCb:Mc,scrollCb:_h,bypassOptions:{onMutation:Ma,blockClass:N,blockSelector:X,unblockSelector:se,maskAllText:rt,maskTextClass:St,unmaskTextClass:Rt,maskTextSelector:Jt,unmaskTextSelector:an,inlineStylesheet:sn,maskInputOptions:rd,dataURLOptions:fi,maskAttributeFn:si,maskTextFn:ii,maskInputFn:gi,recordCanvas:Di,inlineImages:An,sampling:Rn,slimDOMOptions:au,iframeManager:cu,stylesheetManager:lu,canvasManager:iv,keepIframeSrcFn:ei,processedNodeManager:nv},mirror:ml}),ov=(Io=!1)=>{if(!oi)return;cs({type:qi.Meta,data:{href:window.location.href,width:L1(),height:P1()}},Io),lu.reset(),Ep.init(),ih.forEach(bo=>bo.lock());const Vl=function SC(a,r){const{mirror:c=new b1,blockClass:T="rr-block",blockSelector:N=null,unblockSelector:X=null,maskAllText:se=!1,maskTextClass:ye="rr-mask",unmaskTextClass:ke=null,maskTextSelector:rt=null,unmaskTextSelector:St=null,inlineStylesheet:Rt=!0,inlineImages:Jt=!1,recordCanvas:an=!1,maskAllInputs:sn=!1,maskAttributeFn:gn,maskTextFn:Gn,maskInputFn:$n,slimDOM:si=!1,dataURLOptions:gi,preserveWhiteSpace:ii,onSerialize:Ni,onIframeLoad:Fn,iframeLoadTimeout:Rn,onStylesheetLoad:fi,stylesheetLoadTimeout:Wi,keepIframeSrcFn:oi=(()=>!1)}=r||{};return Ju(a,{doc:a,mirror:c,blockClass:T,blockSelector:N,unblockSelector:X,maskAllText:se,maskTextClass:ye,unmaskTextClass:ke,maskTextSelector:rt,unmaskTextSelector:St,skipChild:!1,inlineStylesheet:Rt,maskInputOptions:!0===sn?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===sn?{}:sn,maskAttributeFn:gn,maskTextFn:Gn,maskInputFn:$n,slimDOMOptions:!0===si||"all"===si?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===si,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===si?{}:si,dataURLOptions:gi,inlineImages:Jt,recordCanvas:an,preserveWhiteSpace:ii,onSerialize:Ni,onIframeLoad:Fn,iframeLoadTimeout:Rn,onStylesheetLoad:fi,stylesheetLoadTimeout:Wi,keepIframeSrcFn:oi,newlyAddedElement:!1})}(document,{mirror:ml,blockClass:N,blockSelector:X,unblockSelector:se,maskAllText:rt,maskTextClass:St,unmaskTextClass:Rt,maskTextSelector:Jt,unmaskTextSelector:an,inlineStylesheet:sn,maskAllInputs:rd,maskAttributeFn:si,maskInputFn:gi,maskTextFn:ii,slimDOM:au,dataURLOptions:fi,recordCanvas:Di,inlineImages:An,onSerialize:bo=>{N1(bo,ml)&&cu.addIframe(bo),B1(bo,ml)&&lu.trackLinkElement(bo),qu(bo)&&Ep.addShadowRoot(bo.shadowRoot,document)},onIframeLoad:(bo,rs)=>{cu.attachIframe(bo,rs),bo.contentWindow&&iv.addWindow(bo.contentWindow),Ep.observeAttachShadow(bo)},onStylesheetLoad:(bo,rs)=>{lu.attachLinkElement(bo,rs)},keepIframeSrcFn:ei});if(!Vl)return console.warn("Failed to snapshot the document");cs({type:qi.FullSnapshot,data:{node:Vl,initialOffset:fg(window)}}),ih.forEach(bo=>bo.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&lu.adoptStyleSheets(document.adoptedStyleSheets,ml.getId(document))};Sf=ov;try{const Io=[],Vl=rs=>vo(Y1)({onMutation:Ma,mutationCb:Mc,mousemoveCb:(Co,Ta)=>cs({type:qi.IncrementalSnapshot,data:{source:Ta,positions:Co}}),mouseInteractionCb:Co=>cs({type:qi.IncrementalSnapshot,data:{source:eo.MouseInteraction,...Co}}),scrollCb:_h,viewportResizeCb:Co=>cs({type:qi.IncrementalSnapshot,data:{source:eo.ViewportResize,...Co}}),inputCb:Co=>cs({type:qi.IncrementalSnapshot,data:{source:eo.Input,...Co}}),mediaInteractionCb:Co=>cs({type:qi.IncrementalSnapshot,data:{source:eo.MediaInteraction,...Co}}),styleSheetRuleCb:Co=>cs({type:qi.IncrementalSnapshot,data:{source:eo.StyleSheetRule,...Co}}),styleDeclarationCb:Co=>cs({type:qi.IncrementalSnapshot,data:{source:eo.StyleDeclaration,...Co}}),canvasMutationCb:YM,fontCb:Co=>cs({type:qi.IncrementalSnapshot,data:{source:eo.Font,...Co}}),selectionCb:Co=>{cs({type:qi.IncrementalSnapshot,data:{source:eo.Selection,...Co}})},customElementCb:Co=>{cs({type:qi.IncrementalSnapshot,data:{source:eo.CustomElement,...Co}})},blockClass:N,ignoreClass:ye,ignoreSelector:ke,maskAllText:rt,maskTextClass:St,unmaskTextClass:Rt,maskTextSelector:Jt,unmaskTextSelector:an,maskInputOptions:rd,inlineStylesheet:sn,sampling:Rn,recordDOM:oi,recordCanvas:Di,inlineImages:An,userTriggeredOnInput:Fo,collectFonts:Ko,doc:rs,maskAttributeFn:si,maskInputFn:gi,maskTextFn:ii,keepIframeSrcFn:ei,blockSelector:X,unblockSelector:se,slimDOMOptions:au,dataURLOptions:fi,mirror:ml,iframeManager:cu,stylesheetManager:lu,shadowDomManager:Ep,processedNodeManager:nv,canvasManager:iv,ignoreCSSAttributes:ki,plugins:Bd([ri,"optionalAccess",Co=>Co.filter,"call",Co=>Co(Ta=>Ta.observer),"optionalAccess",Co=>Co.map,"call",Co=>Co(Ta=>({observer:Ta.observer,options:Ta.options,callback:sv=>cs({type:qi.Plugin,data:{plugin:Ta.name,payload:sv}})}))])||[]},{});cu.addLoadListener(rs=>{try{Io.push(Vl(rs.contentDocument))}catch(Co){console.warn(Co)}});const bo=()=>{ov(),Io.push(Vl(document))};return"interactive"===document.readyState||"complete"===document.readyState?bo():(Io.push(ea("DOMContentLoaded",()=>{cs({type:qi.DomContentLoaded,data:{}}),"DOMContentLoaded"===Ao&&bo()})),Io.push(ea("load",()=>{cs({type:qi.Load,data:{}}),"load"===Ao&&bo()},window))),()=>{Io.forEach(rs=>rs()),nv.destroy(),Sf=void 0,function AC(){nh=void 0}()}}catch(Io){console.warn(Io)}}tc.mirror=ml,tc.takeFullSnapshot=function jC(a){if(!Sf)throw new Error("please take full snapshot after start recording");Sf(a)};const UC=3;function Ig(a){return a>9999999999?a:1e3*a}function Og(a){return a>9999999999?a/1e3:a}function Jd(a,r){"sentry.transaction"!==r.category&&(["ui.click","ui.input"].includes(r.category)?a.triggerUserActivity():a.checkAndHandleExpiredSession(),a.addUpdate(()=>(a.throttledAddEvent({type:qi.Custom,timestamp:1e3*(r.timestamp||0),data:{tag:"breadcrumb",payload:ja(r,10,1e3)}}),"console"===r.category)))}const GC="button,a";function q1(a){return a.closest(GC)||a}function eb(a){const r=id(a);return r&&r instanceof Element?q1(r):r}function id(a){return function If(a){return"object"==typeof a&&!!a&&"target"in a}(a)?a.target:a}let nc;class tb{constructor(r,c,T=Jd){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=c.timeout/1e3,this._threshold=c.threshold/1e3,this._scollTimeout=c.scrollTimeout/1e3,this._replay=r,this._ignoreSelector=c.ignoreSelector,this._addBreadcrumbEvent=T}addListeners(){const r=function xg(a){return nc||(nc=[],function KC(){Qo(Vo,"open",function(a){return function(...r){if(nc)try{nc.forEach(c=>c())}catch{}return a.apply(Vo,r)}})}()),nc.push(a),()=>{const r=nc?nc.indexOf(a):-1;r>-1&&nc.splice(r,1)}}(()=>{this._lastMutation=nb()});this._teardown=()=>{r(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(r,c){if(function zC(a,r){return!!(!WC.includes(a.tagName)||"INPUT"===a.tagName&&!["submit","button"].includes(a.getAttribute("type")||"")||"A"===a.tagName&&(a.hasAttribute("download")||a.hasAttribute("target")&&"_self"!==a.getAttribute("target"))||r&&a.matches(r))}(c,this._ignoreSelector)||!function XC(a){return!(!a.data||"number"!=typeof a.data.nodeId||!a.timestamp)}(r))return;const T={timestamp:Og(r.timestamp),clickBreadcrumb:r,clickCount:0,node:c};this._clicks.some(N=>N.node===T.node&&Math.abs(N.timestamp-T.timestamp)<1)||(this._clicks.push(T),1===this._clicks.length&&this._scheduleCheckClicks())}registerMutation(r=Date.now()){this._lastMutation=Og(r)}registerScroll(r=Date.now()){this._lastScroll=Og(r)}registerClick(r){const c=q1(r);this._handleMultiClick(c)}_handleMultiClick(r){this._getClicks(r).forEach(c=>{c.clickCount++})}_getClicks(r){return this._clicks.filter(c=>c.node===r)}_checkClicks(){const r=[],c=nb();this._clicks.forEach(T=>{!T.mutationAfter&&this._lastMutation&&(T.mutationAfter=T.timestamp<=this._lastMutation?this._lastMutation-T.timestamp:void 0),!T.scrollAfter&&this._lastScroll&&(T.scrollAfter=T.timestamp<=this._lastScroll?this._lastScroll-T.timestamp:void 0),T.timestamp+this._timeout<=c&&r.push(T)});for(const T of r){const N=this._clicks.indexOf(T);N>-1&&(this._generateBreadcrumbs(T),this._clicks.splice(N,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(r){const c=this._replay,X=!(r.scrollAfter&&r.scrollAfter<=this._scollTimeout||r.mutationAfter&&r.mutationAfter<=this._threshold),{clickCount:se,clickBreadcrumb:ye}=r;if(X){const ke=1e3*Math.min(r.mutationAfter||this._timeout,this._timeout),rt=ke<1e3*this._timeout?"mutation":"timeout",St={type:"default",message:ye.message,timestamp:ye.timestamp,category:"ui.slowClickDetected",data:{...ye.data,url:Vo.location.href,route:c.getCurrentRoute(),timeAfterClickMs:ke,endReason:rt,clickCount:se||1}};this._addBreadcrumbEvent(c,St)}else if(se>1){const ke={type:"default",message:ye.message,timestamp:ye.timestamp,category:"ui.multiClick",data:{...ye.data,url:Vo.location.href,route:c.getCurrentRoute(),clickCount:se,metric:!0}};this._addBreadcrumbEvent(c,ke)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=Ad(()=>this._checkClicks(),1e3)}}const WC=["A","BUTTON","INPUT"];function nb(){return Date.now()/1e3}function jl(a){return{timestamp:Date.now()/1e3,type:"default",...a}}var sh=function(a){return a[a.Document=0]="Document",a[a.DocumentType=1]="DocumentType",a[a.Element=2]="Element",a[a.Text=3]="Text",a[a.CDATA=4]="CDATA",a[a.Comment=5]="Comment",a}(sh||{});const QC=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function JC(a){const r={};!a["data-sentry-component"]&&a["data-sentry-element"]&&(a["data-sentry-component"]=a["data-sentry-element"]);for(const c in a)if(QC.has(c)){let T=c;("data-testid"===c||"data-test-id"===c)&&(T="testId"),r[T]=a[c]}return r}function sb(a,r){const c=tc.mirror.getId(a),T=c&&tc.mirror.getNode(c),N=T&&tc.mirror.getMeta(T),X=N&&function rh(a){return a.type===sh.Element}(N)?N:null;return{message:r,data:X?{nodeId:c,node:{id:c,tagName:X.tagName,textContent:Array.from(X.childNodes).map(se=>se.type===sh.Text&&se.textContent).filter(Boolean).map(se=>se.trim()).join(""),attributes:JC(X.attributes)}}:{}}}const qC={resource:function Rg(a){const{entryType:r,initiatorType:c,name:T,responseEnd:N,startTime:X,decodedBodySize:se,encodedBodySize:ye,responseStatus:ke,transferSize:rt}=a;return["fetch","xmlhttprequest"].includes(c)?null:{type:`${r}.${c}`,start:Rf(X),end:Rf(N),name:T,data:{size:rt,statusCode:ke,decodedBodySize:se,encodedBodySize:ye}}},paint:function tM(a){const{duration:r,entryType:c,name:T,startTime:N}=a,X=Rf(N);return{type:c,name:T,start:X,end:X+r,data:void 0}},navigation:function Af(a){const{entryType:r,name:c,decodedBodySize:T,duration:N,domComplete:X,encodedBodySize:se,domContentLoadedEventStart:ye,domContentLoadedEventEnd:ke,domInteractive:rt,loadEventStart:St,loadEventEnd:Rt,redirectCount:Jt,startTime:an,transferSize:sn,type:gn}=a;return 0===N?null:{type:`${r}.${gn}`,start:Rf(an),end:Rf(X),name:c,data:{size:sn,decodedBodySize:T,encodedBodySize:se,duration:N,domInteractive:rt,domContentLoadedEventStart:ye,domContentLoadedEventEnd:ke,loadEventStart:St,loadEventEnd:Rt,domComplete:X,redirectCount:Jt}}}};function xf(a,r){return({metric:c})=>{r.replayPerformanceEntries.push(a(c))}}function ab(a){const r=qC[a.entryType];return r?r(a):null}function Rf(a){return((zs||Vo.performance.timeOrigin)+a)/1e3}function nM(a){const r=a.entries[a.entries.length-1];return wf(a,"largest-contentful-paint",r?r.element:void 0)}function iM(a){const r=a.entries[0];return wf(a,"cumulative-layout-shift",r&&r.sources&&r.sources[0]?r.sources[0].node:void 0)}function oM(a){const r=a.entries[a.entries.length-1];return wf(a,"first-input-delay",r?r.target:void 0)}function XD(a){const r=a.entries[a.entries.length-1];return wf(a,"interaction-to-next-paint",r?r.target:void 0)}function wf(a,r,c){const T=a.value,N=a.rating,X=Rf(T);return{type:"web-vital",name:r,start:X,end:X,data:{value:T,size:T,rating:N,nodeId:c?tc.mirror.getId(c):void 0}}}const Do=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Ya(a,r){Do&&(Mn.info(a),r&&db(a))}function So(a,r){Do&&(Mn.info(a),r&&Ad(()=>{db(a)},0))}function db(a){Wc({category:"console",data:{logger:"replay"},level:"info",message:a},{level:"info"})}class kf extends Error{constructor(){super(`Event buffer exceeded maximum size of ${Ud}.`)}}class ub{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}addEvent(r){var c=this;return(0,io.A)(function*(){const T=JSON.stringify(r).length;if(c._totalSize+=T,c._totalSize>Ud)throw new kf;c.events.push(r)})()}finish(){return new Promise(r=>{const c=this.events;this.clear(),r(JSON.stringify(c))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const r=this.events.map(c=>c.timestamp).sort()[0];return r?Ig(r):null}}class sM{constructor(r){this._worker=r,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise((r,c)=>{this._worker.addEventListener("message",({data:T})=>{T.success?r():c()},{once:!0}),this._worker.addEventListener("error",T=>{c(T)},{once:!0})})),this._ensureReadyPromise}destroy(){Ya("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(r,c){const T=this._getAndIncrementId();return new Promise((N,X)=>{const se=({data:ye})=>{const ke=ye;if(ke.method===r&&ke.id===T){if(this._worker.removeEventListener("message",se),!ke.success)return Do&&Mn.error("[Replay]",ke.response),void X(new Error("Error in compression worker"));N(ke.response)}};this._worker.addEventListener("message",se),this._worker.postMessage({id:T,method:r,arg:c})})}_getAndIncrementId(){return this._id++}}class Ag{constructor(r){this._worker=new sM(r),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(r){const c=Ig(r.timestamp);(!this._earliestTimestamp||c<this._earliestTimestamp)&&(this._earliestTimestamp=c);const T=JSON.stringify(r);return this._totalSize+=T.length,this._totalSize>Ud?Promise.reject(new kf):this._sendEventToWorker(T)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,r=>{Do&&Mn.warn('[Replay] Sending "clear" message to worker failed',r)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(r){return this._worker.postMessage("addEvent",r)}_finishRequest(){var r=this;return(0,io.A)(function*(){const c=yield r._worker.postMessage("finish");return r._earliestTimestamp=null,r._totalSize=0,c})()}}class hb{constructor(r){this._fallback=new ub,this._compression=new Ag(r),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(r){this._used.hasCheckout=r}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(r){return this._used.addEvent(r)}finish(){var r=this;return(0,io.A)(function*(){return yield r.ensureWorkerIsLoaded(),r._used.finish()})()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}_ensureWorkerIsLoaded(){var r=this;return(0,io.A)(function*(){try{yield r._compression.ensureReady()}catch{return void Ya("[Replay] Failed to load the compression worker, falling back to simple buffer")}yield r._switchToCompressionWorker()})()}_switchToCompressionWorker(){var r=this;return(0,io.A)(function*(){const{events:c,hasCheckout:T}=r._fallback,N=[];for(const X of c)N.push(r._compression.addEvent(X));r._compression.hasCheckout=T,r._used=r._compression;try{yield Promise.all(N)}catch(X){Do&&Mn.warn("[Replay] Failed to add events when switching buffers.",X)}})()}}function kg(){try{return"sessionStorage"in Vo&&!!Vo.sessionStorage}catch{return!1}}function Ur(a){return void 0!==a&&Math.random()<a}function Pg(a){const r=Date.now();return{id:a.id||so(),started:a.started||r,lastActivity:a.lastActivity||r,segmentId:a.segmentId||0,sampled:a.sampled,previousSessionId:a.previousSessionId}}function Pf(a){if(kg())try{Vo.sessionStorage.setItem(og,JSON.stringify(a))}catch{}}function Lg({sessionSampleRate:a,allowBuffering:r,stickySession:c=!1},{previousSessionId:T}={}){const N=function pb(a,r){return Ur(a)?"session":!!r&&"buffer"}(a,r),X=Pg({sampled:N,previousSessionId:T});return c&&Pf(X),X}function rp(a,r,c=+new Date){return null===a||void 0===r||r<0||0!==r&&a+r<=c}function mb(a,{maxReplayDuration:r,sessionIdleExpire:c,targetTime:T=Date.now()}){return rp(a.started,r,T)||rp(a.lastActivity,c,T)}function gb(a,{sessionIdleExpire:r,maxReplayDuration:c}){return!(!mb(a,{sessionIdleExpire:r,maxReplayDuration:c})||"buffer"===a.sampled&&0===a.segmentId)}function ah({traceInternals:a,sessionIdleExpire:r,maxReplayDuration:c,previousSessionId:T},N){const X=N.stickySession&&function lM(a){if(!kg())return null;try{const r=Vo.sessionStorage.getItem(og);if(!r)return null;const c=JSON.parse(r);return So("[Replay] Loading existing session",a),Pg(c)}catch{return null}}(a);return X?gb(X,{sessionIdleExpire:r,maxReplayDuration:c})?(So("[Replay] Session in sessionStorage is expired, creating new one..."),Lg(N,{previousSessionId:X.id})):X:(So("[Replay] Creating new session",a),Lg(N,{previousSessionId:T}))}function ic(a,r,c){return!!vb(a,r)&&(Ng(a,r,c),!0)}function Ng(a,r,c){return qd.apply(this,arguments)}function qd(){return(qd=(0,io.A)(function*(a,r,c){if(!a.eventBuffer)return null;try{c&&"buffer"===a.recordingMode&&a.eventBuffer.clear(),c&&(a.eventBuffer.hasCheckout=!0);const N=function cM(a,r){try{if("function"==typeof r&&function Fg(a){return a.type===qi.Custom}(a))return r(a)}catch(c){return Do&&Mn.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",c),null}return a}(r,a.getOptions().beforeAddRecordingEvent);return N?yield a.eventBuffer.addEvent(N):void 0}catch(T){const N=T&&T instanceof kf?"addEventSizeExceeded":"addEvent";Do&&Mn.error(T),yield a.stop({reason:N});const X=Mi();X&&X.recordDroppedEvent("internal_sdk_error","replay")}})).apply(this,arguments)}function vb(a,r){if(!a.eventBuffer||a.isPaused()||!a.isEnabled())return!1;const c=Ig(r.timestamp);return!(c+a.timeouts.sessionIdlePause<Date.now()||c>a.getContext().initialTimestamp+a.getOptions().maxReplayDuration&&(So(`[Replay] Skipping event with timestamp ${c} because it is after maxReplayDuration`,a.getOptions()._experiments.traceInternals),1))}function Lf(a){return!a.type}function lp(a){return"transaction"===a.type}function lh(a){return"feedback"===a.type}function Eb(a){return!!a.category}function eu(a,r){return r.map(({type:c,start:T,end:N,name:X,data:se})=>{const ye=a.throttledAddEvent({type:qi.Custom,timestamp:T,data:{tag:"performanceSpan",payload:{op:c,description:X,startTimestamp:T,endTimestamp:N,data:se}}});return"string"==typeof ye?Promise.resolve(null):ye})}function Bg(a,r){a.isEnabled()&&null!==r&&(function Cb(a,r){return(!Do||!a.getOptions()._experiments.traceInternals)&&function Ku(a,r){const c=r&&r.getDsn(),T=r&&r.getOptions().tunnel;return function ng(a,r){return!!r&&a.includes(r.host)}(a,c)||function o1(a,r){return!!r&&Wu(a)===Wu(r)}(a,T)}(r,Mi())}(a,r.name)||a.addUpdate(()=>(eu(a,[r]),!0)))}function ch(a){if(!a)return;const r=new TextEncoder;try{if("string"==typeof a)return r.encode(a).length;if(a instanceof URLSearchParams)return r.encode(a.toString()).length;if(a instanceof FormData){const c=Tb(a);return r.encode(c).length}if(a instanceof Blob)return a.size;if(a instanceof ArrayBuffer)return a.byteLength}catch{}}function jg(a){if(!a)return;const r=parseInt(a,10);return isNaN(r)?void 0:r}function Mb(a){try{if("string"==typeof a)return[a];if(a instanceof URLSearchParams)return[a.toString()];if(a instanceof FormData)return[Tb(a)];if(!a)return[void 0]}catch{return Do&&Mn.warn("[Replay] Failed to serialize body",a),[void 0,"BODY_PARSE_ERROR"]}return Do&&Mn.info("[Replay] Skipping network body because of body type",a),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Nf(a,r){if(!a)return{headers:{},size:void 0,_meta:{warnings:[r]}};const c={...a._meta};return c.warnings=[...c.warnings||[],r],a._meta=c,a}function dp(a,r){if(!r)return null;const{startTimestamp:c,endTimestamp:T,url:N,method:X,statusCode:se,request:ye,response:ke}=r;return{type:a,start:c/1e3,end:T/1e3,name:N,data:is({method:X,statusCode:se,request:ye,response:ke})}}function dh(a){return{headers:{},size:a,_meta:{warnings:["URL_SKIPPED"]}}}function Cc(a,r,c){if(!r&&0===Object.keys(a).length)return;if(!r)return{headers:a};if(!c)return{headers:a,size:r};const T={headers:a,size:r},{body:N,warnings:X}=function yM(a){if(!a||"string"!=typeof a)return{body:a};const r=a.length>f1,c=function Ug(a){const r=a[0],c=a[a.length-1];return"["===r&&"]"===c||"{"===r&&"}"===c}(a);if(r){const T=a.slice(0,f1);return c?{body:T,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${T}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(c)try{return{body:JSON.parse(a)}}catch{}return{body:a}}(c);return T.body=N,X&&X.length>0&&(T._meta={warnings:X}),T}function $g(a,r){return Object.entries(a).reduce((c,[T,N])=>{const X=T.toLowerCase();return r.includes(X)&&a[T]&&(c[X]=N),c},{})}function Tb(a){return new URLSearchParams(a).toString()}function uh(a,r){const c=function Db(a,r=Vo.document.baseURI){if(a.startsWith("http://")||a.startsWith("https://")||a.startsWith(Vo.location.origin))return a;const c=new URL(a,r);if(c.origin!==new URL(r).origin)return a;const T=c.href;return!a.endsWith("/")&&T.endsWith("/")?T.slice(0,-1):T}(a);return Yo(c,r)}function Bf(){return Bf=(0,io.A)(function*(a,r,c){try{const T=yield function CM(a,r,c){return Gg.apply(this,arguments)}(a,r,c),N=dp("resource.fetch",T);Bg(c.replay,N)}catch(T){Do&&Mn.error("[Replay] Failed to capture fetch breadcrumb",T)}}),Bf.apply(this,arguments)}function Gg(){return Gg=(0,io.A)(function*(a,r,c){const T=Date.now(),{startTimestamp:N=T,endTimestamp:X=T}=r,{url:se,method:ye,status_code:ke=0,request_body_size:rt,response_body_size:St}=a.data,Rt=uh(se,c.networkDetailAllowUrls)&&!uh(se,c.networkDetailDenyUrls),Jt=Rt?function MM({networkCaptureBodies:a,networkRequestHeaders:r},c,T){const N=c?function xb(a,r){return 1===a.length&&"string"!=typeof a[0]?Rb(a[0],r):2===a.length?Rb(a[1],r):{}}(c,r):{};if(!a)return Cc(N,T,void 0);const X=Wg(c),[se,ye]=Mb(X),ke=Cc(N,T,se);return ye?Nf(ke,ye):ke}(c,r.input,rt):dh(rt),an=yield function Sb(a,r,c,T){return jf.apply(this,arguments)}(Rt,c,r.response,St);return{startTimestamp:N,endTimestamp:X,url:se,method:ye,statusCode:ke,request:Jt,response:an}}),Gg.apply(this,arguments)}function jf(){return jf=(0,io.A)(function*(a,{networkCaptureBodies:r,networkResponseHeaders:c},T,N){if(!a&&void 0!==N)return dh(N);const X=T?Ob(T.headers,c):{};if(!T||!r&&void 0!==N)return Cc(X,N,void 0);const[se,ye]=yield function Ib(a){return up.apply(this,arguments)}(T),ke=function Kg(a,{networkCaptureBodies:r,responseBodySize:c,captureDetails:T,headers:N}){try{const X=a&&a.length&&void 0===c?ch(a):c;return T?Cc(N,X,r?a:void 0):dh(X)}catch(X){return Do&&Mn.warn("[Replay] Failed to serialize response body",X),Cc(N,c,void 0)}}(se,{networkCaptureBodies:r,responseBodySize:N,captureDetails:a,headers:X});return ye?Nf(ke,ye):ke}),jf.apply(this,arguments)}function up(){return(up=(0,io.A)(function*(a){const r=function zg(a){try{return a.clone()}catch(r){Do&&Mn.warn("[Replay] Failed to clone response body",r)}}(a);if(!r)return[void 0,"BODY_PARSE_ERROR"];try{return[yield Ab(r)]}catch(c){return Do&&Mn.warn("[Replay] Failed to get text body from response",c),[void 0,"BODY_PARSE_ERROR"]}})).apply(this,arguments)}function Wg(a=[]){if(2===a.length&&"object"==typeof a[1])return a[1].body}function Ob(a,r){const c={};return r.forEach(T=>{a.get(T)&&(c[T]=a.get(T))}),c}function Rb(a,r){if(!a)return{};const c=a.headers;return c?c instanceof Headers?Ob(c,r):Array.isArray(c)?{}:$g(c,r):{}}function Ab(a){return new Promise((r,c)=>{const T=Ad(()=>c(new Error("Timeout while trying to read response body")),500);(function Xg(a){return wb.apply(this,arguments)})(a).then(N=>r(N),N=>c(N)).finally(()=>clearTimeout(T))})}function wb(){return(wb=(0,io.A)(function*(a){return yield a.text()})).apply(this,arguments)}function hp(){return(hp=(0,io.A)(function*(a,r,c){try{const T=function Pb(a,r,c){const T=Date.now(),{startTimestamp:N=T,endTimestamp:X=T,input:se,xhr:ye}=r,{url:ke,method:rt,status_code:St=0,request_body_size:Rt,response_body_size:Jt}=a.data;if(!ke)return null;if(!ye||!uh(ke,c.networkDetailAllowUrls)||uh(ke,c.networkDetailDenyUrls))return{startTimestamp:N,endTimestamp:X,url:ke,method:rt,statusCode:St,request:dh(Rt),response:dh(Jt)};const an=ye[Kc],sn=an?$g(an.request_headers,c.networkRequestHeaders):{},gn=$g(function Hg(a){const r=a.getAllResponseHeaders();return r?r.split("\r\n").reduce((c,T)=>{const[N,X]=T.split(": ");return X&&(c[N.toLowerCase()]=X),c},{}):{}}(ye),c.networkResponseHeaders),[Gn,$n]=c.networkCaptureBodies?Mb(se):[void 0],[si,gi]=c.networkCaptureBodies?function Lb(a){const r=[];try{return[a.responseText]}catch(c){r.push(c)}try{return function Fb(a,r){try{if("string"==typeof a)return[a];if(a instanceof Document)return[a.body.outerHTML];if("json"===r&&a&&"object"==typeof a)return[JSON.stringify(a)];if(!a)return[void 0]}catch{return Do&&Mn.warn("[Replay] Failed to serialize body",a),[void 0,"BODY_PARSE_ERROR"]}return Do&&Mn.info("[Replay] Skipping network body because of body type",a),[void 0,"UNPARSEABLE_BODY_TYPE"]}(a.response,a.responseType)}catch(c){r.push(c)}return Do&&Mn.warn("[Replay] Failed to get xhr response body",...r),[void 0]}(ye):[void 0],ii=Cc(sn,Rt,Gn),Ni=Cc(gn,Jt,si);return{startTimestamp:N,endTimestamp:X,url:ke,method:rt,statusCode:St,request:$n?Nf(ii,$n):ii,response:gi?Nf(Ni,gi):Ni}}(a,r,c),N=dp("resource.xhr",T);Bg(c.replay,N)}catch(T){Do&&Mn.error("[Replay] Failed to capture xhr breadcrumb",T)}})).apply(this,arguments)}function Bb(a){const r=Mi();try{const{networkDetailAllowUrls:c,networkDetailDenyUrls:T,networkCaptureBodies:N,networkRequestHeaders:X,networkResponseHeaders:se}=a.getOptions(),ye={replay:a,networkDetailAllowUrls:c,networkDetailDenyUrls:T,networkCaptureBodies:N,networkRequestHeaders:X,networkResponseHeaders:se};r&&r.on("beforeAddBreadcrumb",(ke,rt)=>function TM(a,r,c){if(r.data)try{(function QD(a){return"xhr"===a.category})(r)&&function ZD(a){return a&&a.xhr}(c)&&(function kb(a,r){const{xhr:c,input:T}=r;if(!c)return;const N=ch(T),X=c.getResponseHeader("content-length")?jg(c.getResponseHeader("content-length")):function Nb(a,r){try{return ch("json"===r&&a&&"object"==typeof a?JSON.stringify(a):a)}catch{return}}(c.response,c.responseType);void 0!==N&&(a.data.request_body_size=N),void 0!==X&&(a.data.response_body_size=X)}(r,c),function YD(a,r,c){hp.apply(this,arguments)}(r,c,a)),function JD(a){return"fetch"===a.category}(r)&&function qD(a){return a&&a.response}(c)&&(function EM(a,r){const{input:c,response:T}=r,X=ch(c?Wg(c):void 0),se=T?jg(T.headers.get("content-length")):void 0;void 0!==X&&(a.data.request_body_size=X),void 0!==se&&(a.data.response_body_size=se)}(r,c),function Vg(a,r,c){Bf.apply(this,arguments)}(r,c,a))}catch{Do&&Mn.warn("Error when enriching network breadcrumb")}}(ye,ke,rt))}catch{}}function jb(a){const r=Mi();pm((a=>r=>{if(!a.isEnabled())return;const c=function ZC(a){const{target:r,message:c}=function Zd(a){const r="click"===a.name;let c,T=null;try{T=r?eb(a.event):id(a.event),c=Ci(T,{maxStringLength:200})||"<unknown>"}catch{c="<unknown>"}return{target:T,message:c}}(a);return jl({category:`ui.${a.name}`,...sb(r,c)})}(r);if(!c)return;const T="click"===r.name,N=T?r.event:void 0;T&&a.clickDetector&&N&&N.target&&!N.altKey&&!N.metaKey&&!N.ctrlKey&&!N.shiftKey&&function oh(a,r,c){a.handleClick(r,c)}(a.clickDetector,c,eb(r.event)),Jd(a,c)})(a)),Lh(function bM(a){return r=>{if(!a.isEnabled())return;const c=function vM(a){const{from:r,to:c}=a,T=Date.now()/1e3;return{type:"navigation.push",start:T,end:T,name:c,data:{previous:r}}}(r);null!==c&&(a.getContext().urls.push(c.name),a.triggerUserActivity(),a.addUpdate(()=>(eu(a,[c]),!1)))}}(a)),function Ff(a){const r=Mi();r&&r.on("beforeAddBreadcrumb",c=>function uM(a,r){if(!a.isEnabled()||!Eb(r))return;const c=function hM(a){return!Eb(a)||["fetch","xhr","sentry.event","sentry.transaction"].includes(a.category)||a.category.startsWith("ui.")?null:"console"===a.category?function fM(a){const r=a.data&&a.data.arguments;if(!Array.isArray(r)||0===r.length)return jl(a);let c=!1;const T=r.map(N=>{if(!N)return N;if("string"==typeof N)return N.length>jd?(c=!0,`${N.slice(0,jd)}\u2026`):N;if("object"==typeof N)try{const X=ja(N,7);return JSON.stringify(X).length>jd?(c=!0,`${JSON.stringify(X,null,2).slice(0,jd)}\u2026`):X}catch{}return N});return jl({...a,data:{...a.data,arguments:T,...c?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}(a):jl(a)}(r);c&&Jd(a,c)}(a,c))}(a),Bb(a),function Oh(a){qn().addEventProcessor(a)}(function gM(a){return Object.assign((r,c)=>a.isEnabled()?function od(a){return"replay_event"===a.type}(r)?(delete r.breadcrumbs,r):(Lf(r)||lp(r)||lh(r))&&a.checkAndHandleExpiredSession()?lh(r)?(a.flush(),r.contexts.feedback.replay_id=a.getSessionId(),function pM(a,r){a.triggerUserActivity(),a.addUpdate(()=>!r.timestamp||(a.throttledAddEvent({type:qi.Custom,timestamp:1e3*r.timestamp,data:{tag:"breadcrumb",payload:{timestamp:r.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:r.event_id}}}}),!1))}(a,r),r):function _M(a,r){return!(a.type||!a.exception||!a.exception.values||!a.exception.values.length||!r.originalException||!r.originalException.__rrweb__)}(r,c)&&!a.getOptions()._experiments.captureExceptions?(Do&&Mn.log("[Replay] Ignoring error from rrweb internals",r),null):((function mM(a,r){return!("buffer"!==a.recordingMode||r.message===H_||!r.exception||r.type)&&Ur(a.getOptions().errorSampleRate)}(a,r)||"session"===a.recordingMode)&&(r.tags={...r.tags,replayId:a.getSessionId()}),r):r:r,{id:"Replay"})}(a)),r&&(r.on("beforeSendEvent",function yb(a){return r=>{!a.isEnabled()||!Lf(r)||function dM(a,r){const c=r.exception&&r.exception.values&&r.exception.values[0]&&r.exception.values[0].value;"string"==typeof c&&(c.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||c.match(/(does not match server-rendered HTML|Hydration failed because)/i))&&Jd(a,jl({category:"replay.hydrate-error",data:{url:xn()}}))}(a,r)}}(a)),r.on("afterSendEvent",function HD(a){return(r,c)=>{if(!a.isEnabled()||!Lf(r)&&!lp(r))return;const T=c&&c.statusCode;if(!(!T||T<200||T>=300)){if(lp(r))return void function cp(a,r){const c=a.getContext();r.contexts&&r.contexts.trace&&r.contexts.trace.trace_id&&c.traceIds.size<100&&c.traceIds.add(r.contexts.trace.trace_id)}(a,r);!function bb(a,r){const c=a.getContext();if(r.event_id&&c.errorIds.size<100&&c.errorIds.add(r.event_id),"buffer"!==a.recordingMode||!r.tags||!r.tags.replayId)return;const{beforeErrorSampling:T}=a.getOptions();"function"==typeof T&&!T(r)||Ad(()=>{a.sendBufferedReplayOrFlush()})}(a,r)}}}(a)),r.on("createDsc",T=>{const N=a.getSessionId();N&&a.isEnabled()&&"session"===a.recordingMode&&a.checkAndHandleExpiredSession()&&(T.replay_id=N)}),r.on("spanStart",T=>{a.lastActiveSpan=T}),r.on("spanEnd",T=>{a.lastActiveSpan=T}),r.on("beforeSendFeedback",(T,N)=>{const X=a.getSessionId();N&&N.includeReplay&&a.isEnabled()&&X&&T.contexts&&T.contexts.feedback&&(T.contexts.feedback.replay_id=X)}))}function Yg(){return(Yg=(0,io.A)(function*(a){try{return Promise.all(eu(a,[eS(Vo.performance.memory)]))}catch{return[]}})).apply(this,arguments)}function eS(a){const{jsHeapSizeLimit:r,totalJSHeapSize:c,usedJSHeapSize:T}=a,N=Date.now()/1e3;return{type:"memory",name:"memory",start:N,end:N,data:{memory:{jsHeapSizeLimit:r,totalJSHeapSize:c,usedJSHeapSize:T}}}}function Ub(a){let r=!1;return(c,T)=>{if(!a.checkAndHandleExpiredSession())return void(Do&&Mn.warn("[Replay] Received replay event after session expired."));const N=T||!r;r=!0,a.clickDetector&&function HC(a,r){try{if(!function ib(a){return a.type===UC}(r))return;const{source:c}=r.data;if(c===eo.Mutation&&a.registerMutation(r.timestamp),c===eo.Scroll&&a.registerScroll(r.timestamp),function YC(a){return a.data.source===eo.MouseInteraction}(r)){const{type:T,id:N}=r.data,X=tc.mirror.getNode(N);X instanceof HTMLElement&&T===Cr.Click&&a.registerClick(X)}}catch{}}(a.clickDetector,c),a.addUpdate(()=>{if("buffer"===a.recordingMode&&N&&a.setInitialState(),!ic(a,c,N))return!0;if(!N)return!1;if(function nS(a,r){!r||!a.session||0!==a.session.segmentId||ic(a,function tS(a){const r=a.getOptions();return{type:qi.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:a.isRecordingCanvas(),sessionSampleRate:r.sessionSampleRate,errorSampleRate:r.errorSampleRate,useCompressionOption:r.useCompression,blockAllMedia:r.blockAllMedia,maskAllText:r.maskAllText,maskAllInputs:r.maskAllInputs,useCompression:!!a.eventBuffer&&"worker"===a.eventBuffer.type,networkDetailHasUrls:r.networkDetailAllowUrls.length>0,networkCaptureBodies:r.networkCaptureBodies,networkRequestHasHeaders:r.networkRequestHeaders.length>0,networkResponseHasHeaders:r.networkResponseHeaders.length>0}}}}(a),!1)}(a,N),a.session&&a.session.previousSessionId)return!0;if("buffer"===a.recordingMode&&a.session&&a.eventBuffer){const X=a.eventBuffer.getEarliestTimestamp();X&&(Ya(`[Replay] Updating session start time to earliest event in buffer to ${new Date(X)}`,a.getOptions()._experiments.traceInternals),a.session.started=X,a.getOptions().stickySession&&Pf(a.session))}return"session"===a.recordingMode&&a.flush(),!0})}}function Vb(){return(Vb=(0,io.A)(function*({client:a,scope:r,replayId:c,event:T}){const X={event_id:c,integrations:"object"!=typeof a._integrations||null===a._integrations||Array.isArray(a._integrations)?void 0:Object.keys(a._integrations)};a.emit("preprocessEvent",T,X);const se=yield Sl(a.getOptions(),T,X,r,a,qn());if(!se)return null;se.platform=se.platform||"javascript";const ye=a.getSdkMetadata(),{name:ke,version:rt}=ye&&ye.sdk||{};return se.sdk={...se.sdk,name:ke||"sentry.javascript.unknown",version:rt||"0.0.0"},se})).apply(this,arguments)}function Gb(){return Gb=(0,io.A)(function*({recordingData:a,replayId:r,segmentId:c,eventContext:T,timestamp:N,session:X}){const se=function oS({recordingData:a,headers:r}){let c;const T=`${JSON.stringify(r)}\n`;if("string"==typeof a)c=`${T}${a}`;else{const X=(new TextEncoder).encode(T);c=new Uint8Array(X.length+a.length),c.set(X),c.set(a,X.length)}return c}({recordingData:a,headers:{segment_id:c}}),{urls:ye,errorIds:ke,traceIds:rt,initialTimestamp:St}=T,Rt=Mi(),Jt=pn(),an=Rt&&Rt.getTransport(),sn=Rt&&Rt.getDsn();if(!(Rt&&an&&sn&&X.sampled))return _a({});const gn={type:pC,replay_start_timestamp:St/1e3,timestamp:N/1e3,error_ids:ke,trace_ids:rt,urls:ye,replay_id:r,segment_id:c,replay_type:X.sampled},Gn=yield function sS(a){return Vb.apply(this,arguments)}({scope:Jt,client:Rt,replayId:r,event:gn});if(!Gn)return Rt.recordDroppedEvent("event_processor","replay",gn),Ya("An event processor returned `null`, will not send event."),_a({});delete Gn.sdkProcessingMetadata;const $n=function iS(a,r,c,T){return vc(Nh(a,sm(a),T,c),[[{type:"replay_event"},a],[{type:"replay_recording",length:"string"==typeof r?(new TextEncoder).encode(r).length:r.length},r]])}(Gn,se,sn,Rt.getOptions().tunnel);let si;try{si=yield an.send($n)}catch(ii){const Ni=new Error(H_);try{Ni.cause=ii}catch{}throw Ni}if("number"==typeof si.statusCode&&(si.statusCode<200||si.statusCode>=300))throw new SM(si.statusCode);const gi=M0({},si);if(M_(gi,"replay"))throw new Kb(gi);return si}),Gb.apply(this,arguments)}class SM extends Error{constructor(r){super(`Transport returned status code ${r}`)}}class Kb extends Error{constructor(r){super("Rate limit hit"),this.rateLimits=r}}function tu(a){return nu.apply(this,arguments)}function nu(){return nu=(0,io.A)(function*(a,r={count:0,interval:u1}){const{recordingData:c,options:T}=a;if(c.length)try{return yield function rS(a){return Gb.apply(this,arguments)}(a),!0}catch(N){if(N instanceof SM||N instanceof Kb)throw N;if(a_("Replays",{_retryCount:r.count}),Do&&T._experiments&&T._experiments.captureExceptions&&vu(N),r.count>=h1){const X=new Error(`${H_} - max retries exceeded`);try{X.cause=N}catch{}throw X}return r.interval*=++r.count,new Promise((X,se)=>{Ad((0,io.A)(function*(){try{yield tu(a,r),X(!0)}catch(ye){se(ye)}}),r.interval)})}}),nu.apply(this,arguments)}const Wb="__THROTTLED";class sd{constructor({options:r,recordingOptions:c}){sd.prototype.__init.call(this),sd.prototype.__init2.call(this),sd.prototype.__init3.call(this),sd.prototype.__init4.call(this),sd.prototype.__init5.call(this),sd.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=c,this._options=r,this._debouncedFlush=function $b(a,r,c){let T,N,X;const se=c&&c.maxWait?Math.max(c.maxWait,r):0;function ye(){return ke(),T=a(),T}function ke(){void 0!==N&&clearTimeout(N),void 0!==X&&clearTimeout(X),N=X=void 0}function St(){return N&&clearTimeout(N),N=Ad(ye,r),se&&void 0===X&&(X=Ad(ye,se)),T}return St.cancel=ke,St.flush=function rt(){return void 0!==N||void 0!==X?ye():T},St}(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=function zb(a,r,c){const T=new Map;let se=!1;return(...ye)=>{const ke=Math.floor(Date.now()/1e3);if((ye=>{const ke=ye-c;T.forEach((rt,St)=>{St<ke&&T.delete(St)})})(ke),[...T.values()].reduce((ye,ke)=>ye+ke,0)>=r){const St=se;return se=!0,St?"__SKIPPED":Wb}se=!1;const rt=T.get(ke)||0;return T.set(ke,rt+1),a(...ye)}}((se,ye)=>function ap(a,r,c){return vb(a,r)?Ng(a,r,c):Promise.resolve(null)}(this,se,ye),300,5);const{slowClickTimeout:T,slowClickIgnoreSelectors:N}=this.getOptions(),X=T?{threshold:Math.min(3e3,T),timeout:T,scrollTimeout:300,ignoreSelector:N?N.join(","):""}:void 0;X&&(this.clickDetector=new tb(this,X))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}initializeSampling(r){const{errorSampleRate:c,sessionSampleRate:T}=this._options,N=c<=0&&T<=0;if(this._requiresManualStart=N,!N){if(this._initializeSessionForSampling(r),!this.session)return void this._handleException(new Error("Unable to initialize and create session"));!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",So(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording())}}start(){if(this._isEnabled&&"session"===this.recordingMode)return void(Do&&Mn.info("[Replay] Recording is already in progress"));if(this._isEnabled&&"buffer"===this.recordingMode)return void(Do&&Mn.info("[Replay] Buffering is in progress, call `flush()` to save the replay"));So("[Replay] Starting replay in session mode",this._options._experiments.traceInternals),this._updateUserActivity();const r=ah({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=r,this._initializeRecording()}startBuffering(){if(this._isEnabled)return void(Do&&Mn.info("[Replay] Buffering is in progress, call `flush()` to save the replay"));So("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);const r=ah({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=r,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const r=this._canvas;this._stopRecording=tc({...this._recordingOptions,..."buffer"===this.recordingMode&&{checkoutEveryNms:6e4},emit:Ub(this),onMutation:this._onMutationHandler,...r?{recordCanvas:r.recordCanvas,getCanvasManager:r.getCanvasManager,sampling:r.sampling,dataURLOptions:r.dataURLOptions}:{}})}catch(r){this._handleException(r)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(r){return this._handleException(r),!1}}stop({forceFlush:r=!1,reason:c}={}){var T=this;return(0,io.A)(function*(){if(T._isEnabled){T._isEnabled=!1;try{Ya("[Replay] Stopping Replay"+(c?` triggered by ${c}`:""),T._options._experiments.traceInternals),T._removeListeners(),T.stopRecording(),T._debouncedFlush.cancel(),r&&(yield T._flush({force:!0})),T.eventBuffer&&T.eventBuffer.destroy(),T.eventBuffer=null,function _b(a){(function aM(){if(kg())try{Vo.sessionStorage.removeItem(og)}catch{}})(),a.session=void 0}(T)}catch(N){T._handleException(N)}}})()}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),Ya("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),Ya("[Replay] Resuming replay",this._options._experiments.traceInternals))}sendBufferedReplayOrFlush({continueRecording:r=!0}={}){var c=this;return(0,io.A)(function*(){if("session"===c.recordingMode)return c.flushImmediate();const T=Date.now();Ya("[Replay] Converting buffer to session",c._options._experiments.traceInternals),yield c.flushImmediate();const N=c.stopRecording();!r||!N||"session"!==c.recordingMode&&(c.recordingMode="session",c.session&&(c._updateUserActivity(T),c._updateSessionActivity(T),c._maybeSaveSession()),c.startRecording())})()}addUpdate(r){const c=r();"buffer"!==this.recordingMode&&!0!==c&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._checkSession())return;this.resume()}}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(!(this._lastActivity&&rp(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled))return!!this._checkSession();this.pause()}setInitialState(){const c=`${Vo.location.origin}${Vo.location.pathname}${Vo.location.hash}${Vo.location.search}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=c,this._context.initialTimestamp=Date.now(),this._context.urls.push(c)}throttledAddEvent(r,c){const T=this._throttledAddEvent(r,c);if(T===Wb){const N=jl({category:"replay.throttled"});this.addUpdate(()=>!ic(this,{type:5,timestamp:N.timestamp||0,data:{tag:"breadcrumb",payload:N,metric:!0}}))}return T}getCurrentRoute(){const r=this.lastActiveSpan||Jo(),c=r&&Ss(r),N=(c&&yi(c).data||{})[ir];if(c&&N&&["route","custom"].includes(N))return yi(c).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=function fb({useCompression:a,workerUrl:r}){if(a&&window.Worker){const c=function wg(a){try{const r=a||function rM(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?function cb(){const a=new Blob(['var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(J)return J.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),a=i.length;return q(i,n),j(i,a-8,r.d()),j(i,a-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});']);return URL.createObjectURL(a)}():""}();if(!r)return;Ya("[Replay] Using compression worker"+(a?` from ${a}`:""));const c=new Worker(r);return new hb(c)}catch{Ya("[Replay] Failed to create compression worker")}}(r);if(c)return c}return Ya("[Replay] Using simple buffer"),new ub}({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(r){Do&&Mn.error("[Replay]",r),Do&&this._options._experiments&&this._options._experiments.captureExceptions&&vu(r)}_initializeSessionForSampling(r){const T=ah({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:r},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:this._options.errorSampleRate>0});this.session=T}_checkSession(){if(!this.session)return!1;const r=this.session;return!gb(r,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(r),!1)}_refreshSession(r){var c=this;return(0,io.A)(function*(){c._isEnabled&&(yield c.stop({reason:"refresh session"}),c.initializeSampling(r.id))})()}_addListeners(){try{Vo.document.addEventListener("visibilitychange",this._handleVisibilityChange),Vo.addEventListener("blur",this._handleWindowBlur),Vo.addEventListener("focus",this._handleWindowFocus),Vo.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(jb(this),this._hasInitializedCoreListeners=!0)}catch(r){this._handleException(r)}this._performanceCleanupCallback=function na(a){function r(N){a.performanceEntries.includes(N)||a.performanceEntries.push(N)}function c({entries:N}){N.forEach(r)}const T=[];return["navigation","paint","resource"].forEach(N=>{T.push(Zc(N,c))}),T.push(jE(xf(nM,a)),Bm(xf(iM,a)),$E(xf(oM,a)),N_(xf(XD,a))),()=>{T.forEach(N=>N())}}(this)}_removeListeners(){try{Vo.document.removeEventListener("visibilitychange",this._handleVisibilityChange),Vo.removeEventListener("blur",this._handleWindowBlur),Vo.removeEventListener("focus",this._handleWindowFocus),Vo.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(r){this._handleException(r)}}__init(){this._handleVisibilityChange=()=>{"visible"===Vo.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const r=jl({category:"ui.blur"});this._doChangeToBackgroundTasks(r)}}__init3(){this._handleWindowFocus=()=>{const r=jl({category:"ui.focus"});this._doChangeToForegroundTasks(r)}}__init4(){this._handleKeyboardEvent=r=>{!function Of(a,r){if(!a.isEnabled())return;a.updateUserActivity();const c=function zD(a){const{metaKey:r,shiftKey:c,ctrlKey:T,altKey:N,key:X,target:se}=a;if(!se||function rb(a){return"INPUT"===a.tagName||"TEXTAREA"===a.tagName||a.isContentEditable}(se)||!X)return null;if(!(r||T||N)&&1===X.length)return null;const rt=Ci(se,{maxStringLength:200})||"<unknown>";return jl({category:"ui.keyDown",message:rt,data:{...sb(se,rt).data,metaKey:r,shiftKey:c,ctrlKey:T,altKey:N,key:X}})}(r);c&&Jd(a,c)}(this,r)}}_doChangeToBackgroundTasks(r){!this.session||mb(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(r&&this._createCustomBreadcrumb(r),this.conditionalFlush())}_doChangeToForegroundTasks(r){this.session&&(this.checkAndHandleExpiredSession()?r&&this._createCustomBreadcrumb(r):Ya("[Replay] Document has become active, but session has expired"))}_updateUserActivity(r=Date.now()){this._lastActivity=r}_updateSessionActivity(r=Date.now()){this.session&&(this.session.lastActivity=r,this._maybeSaveSession())}_createCustomBreadcrumb(r){this.addUpdate(()=>{this.throttledAddEvent({type:qi.Custom,timestamp:r.timestamp||0,data:{tag:"breadcrumb",payload:r}})})}_addPerformanceEntries(){const r=function eM(a){return a.map(ab).filter(Boolean)}(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(eu(this,r))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:r,eventBuffer:c}=this;if(!r||!c||this._requiresManualStart||r.segmentId)return;const T=c.getEarliestTimestamp();T&&T<this._context.initialTimestamp&&(this._context.initialTimestamp=T)}_popEventContext(){const r={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),r}_runFlush(){var r=this;return(0,io.A)(function*(){const c=r.getSessionId();if(r.session&&r.eventBuffer&&c){if(yield r._addPerformanceEntries(),r.eventBuffer&&r.eventBuffer.hasEvents&&(yield function DM(a){return Yg.apply(this,arguments)}(r),r.eventBuffer&&c===r.getSessionId()))try{r._updateInitialTimestampFromEventBuffer();const T=Date.now();if(T-r._context.initialTimestamp>r._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const N=r._popEventContext(),X=r.session.segmentId++;r._maybeSaveSession();const se=yield r.eventBuffer.finish();yield tu({replayId:c,recordingData:se,segmentId:X,eventContext:N,session:r.session,options:r.getOptions(),timestamp:T})}catch(T){r._handleException(T),r.stop({reason:"sendReplay"});const N=Mi();N&&N.recordDroppedEvent("send_error","replay")}}else Do&&Mn.error("[Replay] No session or eventBuffer found to flush.")})()}__init5(){var r=this;this._flush=(0,io.A)(function*({force:c=!1}={}){if(!r._isEnabled&&!c)return;if(!r.checkAndHandleExpiredSession())return void(Do&&Mn.error("[Replay] Attempting to finish replay event after session expired."));if(!r.session)return;const T=r.session.started,X=Date.now()-T;r._debouncedFlush.cancel();const se=X<r._options.minReplayDuration;if(se||X>r._options.maxReplayDuration+5e3)return Ya(`[Replay] Session duration (${Math.floor(X/1e3)}s) is too ${se?"short":"long"}, not sending replay.`,r._options._experiments.traceInternals),void(se&&r._debouncedFlush());const ke=r.eventBuffer;if(ke&&0===r.session.segmentId&&!ke.hasCheckout&&Ya("[Replay] Flushing initial segment without checkout.",r._options._experiments.traceInternals),!r._flushLock)return r._flushLock=r._runFlush(),yield r._flushLock,void(r._flushLock=void 0);try{yield r._flushLock}catch(rt){Do&&Mn.error(rt)}finally{r._debouncedFlush()}})}_maybeSaveSession(){this.session&&this._options.stickySession&&Pf(this.session)}__init6(){this._onMutationHandler=r=>{const c=r.length,T=this._options.mutationLimit,X=T&&c>T;if(c>this._options.mutationBreadcrumbLimit||X){const se=jl({category:"replay.mutations",data:{count:c,limit:X}});this._createCustomBreadcrumb(se)}return!X||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}}function fp(a,r){return[...a,...r].join(",")}const Xb='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',_p=["content-length","content-type","accept"];let Qg=!1;const xM=a=>new $f(a);class $f{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:r=5e3,flushMaxDelay:c=5500,minReplayDuration:T=4999,maxReplayDuration:N=36e5,stickySession:X=!0,useCompression:se=!0,workerUrl:ye,_experiments:ke={},maskAllText:rt=!0,maskAllInputs:St=!0,blockAllMedia:Rt=!0,mutationBreadcrumbLimit:Jt=750,mutationLimit:an=1e4,slowClickTimeout:sn=7e3,slowClickIgnoreSelectors:gn=[],networkDetailAllowUrls:Gn=[],networkDetailDenyUrls:$n=[],networkCaptureBodies:si=!0,networkRequestHeaders:gi=[],networkResponseHeaders:ii=[],mask:Ni=[],maskAttributes:Fn=["title","placeholder"],unmask:Rn=[],block:fi=[],unblock:Wi=[],ignore:oi=[],maskFn:Di,beforeAddRecordingEvent:Oi,beforeErrorSampling:Ao}={}){this.name=$f.id;const Fo=function IM({mask:a,unmask:r,block:c,unblock:T,ignore:N}){return{maskTextSelector:fp(a,[".sentry-mask","[data-sentry-mask]"]),unmaskTextSelector:fp(r,[]),blockSelector:fp(c,[".sentry-block","[data-sentry-block]",'base[href="/"]']),unblockSelector:fp(T,[]),ignoreSelector:fp(N,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}({mask:Ni,unmask:Rn,block:fi,unblock:Wi,ignore:oi});if(this._recordingOptions={maskAllInputs:St,maskAllText:rt,maskInputOptions:{password:!0},maskTextFn:Di,maskInputFn:Di,maskAttributeFn:(Ko,An,ri)=>function OM({el:a,key:r,maskAttributes:c,maskAllText:T,privacyOptions:N,value:X}){return!T||N.unmaskTextSelector&&a.matches(N.unmaskTextSelector)?X:c.includes(r)||"value"===r&&"INPUT"===a.tagName&&["submit","button"].includes(a.getAttribute("type")||"")?X.replace(/[\S]/g,"*"):X}({maskAttributes:Fn,maskAllText:rt,privacyOptions:Fo,key:Ko,value:An,el:ri}),...Fo,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:Ko=>{try{Ko.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:r,flushMaxDelay:c,minReplayDuration:Math.min(T,15e3),maxReplayDuration:Math.min(N,36e5),stickySession:X,useCompression:se,workerUrl:ye,blockAllMedia:Rt,maskAllInputs:St,maskAllText:rt,mutationBreadcrumbLimit:Jt,mutationLimit:an,slowClickTimeout:sn,slowClickIgnoreSelectors:gn,networkDetailAllowUrls:Gn,networkDetailDenyUrls:$n,networkCaptureBodies:si,networkRequestHeaders:Jg(gi),networkResponseHeaders:Jg(ii),beforeAddRecordingEvent:Oi,beforeErrorSampling:Ao,_experiments:ke},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Xb}`:Xb),this._isInitialized&&r1())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Qg}set _isInitialized(r){Qg=r}afterAllSetup(r){!r1()||this._replay||(this._setup(r),this._initialize(r))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}flush(r){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(r):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(this._replay&&this._replay.isEnabled())return this._replay.getSessionId()}_initialize(r){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(r),this._replay.initializeSampling())}_setup(r){const c=function lS(a,r){const c=r.getOptions(),T={sessionSampleRate:0,errorSampleRate:0,...is(a)},N=bc(c.replaysSessionSampleRate),X=bc(c.replaysOnErrorSampleRate);return null==N&&null==X&&Ks(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),null!=N&&(T.sessionSampleRate=N),null!=X&&(T.errorSampleRate=X),T}(this._initialOptions,r);this._replay=new sd({options:c,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(r){try{const c=r.getIntegrationByName("ReplayCanvas");if(!c)return;this._replay._canvas=c.getOptions()}catch{}}}function Jg(a){return[..._p,...a.map(r=>r.toLowerCase())]}$f.__initStatic();const RM={};var hh=o(285),Zg=o(6511),AM=o(3801),wM=o(4921),pp=o(785),kM=o(8482),PM=o(7080);function LM(a,r){1&a&&n.nrm(0,"global-chat")}function FM(a,r){1&a&&n.nrm(0,"debug-console")}const Hb=location.search;window.global=window;let Yb=(()=>{class a extends at.Tv{get debug(){return window.debug&&!0===this._settings.get("app.allow_debugging")}get has_chat(){return this._settings.get("app.chat.enabled")}constructor(c,T,N,X,se,ye,ke,rt,St,Rt,Jt){super(),this._analytics=c,this._settings=T,this._org=N,this._cache=X,this._snackbar=se,this._hotkey=ye,this._clipboard=ke,this._route=rt,this._router=St,this._maps=Rt,this._translate=Jt}ngOnInit(){var c=this;return(0,io.A)(function*(){(0,at.Rm)("APP","MOCKS:",RM),c._hotkey.listen(["Control","Alt","Shift","KeyM"],()=>{localStorage.setItem("mock",`${"true"!==localStorage.getItem("mock")}`),location.reload()}),c._hotkey.listen(["Control","Alt","Shift","KeyD"],()=>{c._settings.saveUserSetting("dark_mode",!c._settings.get("dark_mode")),(0,at.VX)("Toggled dark mode.")}),c._hotkey.listen(["Control","Alt","Shift","KeyC"],()=>{c._clipboard.copy(`${(0,ks.ShT)()}|${(0,ks.Be_)()}`),(0,at.VX)("Successfully copied token.")}),c._hotkey.listen(["Control","Alt","Shift","KeyV"],()=>{navigator.clipboard?.readText().then(N=>c._pasteToken(N))}),window.pasteToken=N=>c._pasteToken(N),c._route.queryParamMap.subscribe(N=>{if(N.has("hide_nav")&&localStorage.setItem("PlaceOS.hide_nav","true"),N.has("lang")){const X=N.get("lang");c._translate?.use(X),localStorage.setItem("PLACEOS.locale",X)}N.has("x-api-key")&&(0,ks.BCG)(N.get("x-api-key"))}),(0,at.To)(c._snackbar),yield c._settings.initialised.pipe((0,al.$)(N=>N)).toPromise(),(0,at.Xf)(c._settings.get("app.short_name"));const T=c._settings.get("composer")||{};if(T.mock=!!c._settings.get("mock")||location.origin.includes("demo.place.tech"),Hb){const N=(0,ks.omv)(Hb.substring(1));c._router.navigate([],{relativeTo:c._route,queryParams:N})}yield(0,at.jJ)(T).catch(N=>console.error(N)),yield c._org.initialised.pipe((0,al.$)(N=>N)).toPromise(),(0,at.WQ)(c._cache),T.local_login||c.timeout("wait_for_user",()=>c.onInitError(),3e4),yield at.U5.pipe((0,al.$)(N=>!!N)).toPromise(),c.clearTimeout("wait_for_user"),c._initLocale(),(0,pt.Z4)(c._settings.get("app.general.internal_user_domain")||`@${(0,at.Ny)()?.email?.split("@")[1]}`),c._initAnalytics(),function NM(a,r=.1){a&&function rC(a){const r={defaultIntegrations:[d_(),jr(),tE(),Pl(),Tm(),tm(),zh()],...a};return Wy(r,"angular"),function aC(){const r=n.xvI&&n.xvI.major?parseInt(n.xvI.major,10):void 0;r&&(r<14&&J0&&Mn.warn(`This Sentry SDK does not officially support Angular ${r}.`,"This SDK only supports Angular 14 and above.","If you're using lower Angular versions, check the Angular Version Compatibility table in our docs: https://docs.sentry.io/platforms/javascript/guides/angular/#angular-version-compatibility.","Otherwise, please consider upgrading your Angular version."),a_("angular",{version:r}))}(),TE(r)}({dsn:a,integrations:[t1(),xM({maskAllText:!1,blockAllMedia:!1})],tracesSampleRate:1,tracePropagationTargets:["localhost",/^https:\/\/[a-zA-Z0-9_\-]*\.[a-zA-Z0-9]*\/api/,/^https:\/\/[a-zA-Z0-9_\-]*\.placeos\.run*\/api/],replaysSessionSampleRate:r,replaysOnErrorSampleRate:1})}(c._settings.get("app.sentry_dsn"));try{const N=(0,ks.ShT)();(0,at.HQ)()&&(0,Zg.sM)("x-api-key"===N?{"x-api-key":(0,ks.Kz4)()}:{Authorization:`Bearer ${N}`}),c._settings.get("app.has_uploads")&&c.timeout("init_uploads",()=>{(0,hh.yd)({auto_start:!0,token:(0,ks.ShT)(),endpoint:"/api/engine/v2/uploads",worker_url:"assets/md5_worker.js",providers:[hh.LJ,hh.Y9,hh.yF,hh.xB]})}),(0,ks.vWy)()&&c.interval("auto-update-version",()=>c._checkReload(),15e3)}catch{}})()}onInitError(){(0,ks.TMs)()||(0,at.Ny)()?.is_logged_in||((0,ks.XTx)(),location.reload())}_initAnalytics(){const c=this._settings.get("app.analytics.tracking_id");c&&(this._analytics.init(c),this._analytics.load(c),this._analytics.setUser((0,at.Ny)().id))}_initLocale(){try{let c=localStorage.getItem("PLACEOS.locale");const T=this._settings.get("app.locales")||[];if(this._translate?.addLangs(T.map(N=>N.id)),c)this._translate?.use(c);else{const N=navigator.languages;for(const X of N)if(c=T.find(se=>se.id===X),c||(c=T.find(se=>X.includes(se.id))),c){this._translate?.use(X),localStorage.setItem("PLACEOS.locale",X);break}}}catch{}}_pasteToken(c){const T=c.split("|"),N=(0,ks.L2z)();localStorage.setItem(`${N}_access_token`,`${T[0]}`),localStorage.setItem(`${N}_refresh_token`,`${T[1]}`),localStorage.setItem(`${N}_expires_at`,`${(0,H.L)(new Date,6).valueOf()}`),(0,at.VX)("Successfully pasted token."),setTimeout(()=>location.reload(),2e3)}_checkReload(){(0,at.tU)()&&(location.reload(),this.timeout("reload",()=>location.href=`${location.origin}${location.pathname}`))}static#e=this.\u0275fac=function(T){return new(T||a)(n.rXU(at.p),n.rXU(at.h$),n.rXU(Et.y),n.rXU(ka),n.rXU(ca.UG),n.rXU(at.dr),n.rXU(AM.B0),n.rXU(ji.nX),n.rXU(ji.Ix),n.rXU(it._),n.rXU(dd.c$,8))};static#t=this.\u0275cmp=n.VBU({type:a,selectors:[["app-root"]],features:[n.Vt3],decls:6,vars:2,consts:[[1,"flex-1","w-full","relative","h-1/2"],[4,"ngIf"]],template:function(T,N){1&T&&(n.nrm(0,"global-banner"),n.j41(1,"div",0),n.nrm(2,"router-outlet"),n.k0s(),n.DNE(3,LM,1,0,"global-chat",1),n.nrm(4,"global-loading"),n.DNE(5,FM,1,0,"debug-console",1)),2&T&&(n.R7$(3),n.Y8G("ngIf",N.has_chat),n.R7$(2),n.Y8G("ngIf",N.debug))},dependencies:[ts.bT,ji.n3,wM.h,pp.p,kM.O,PM.K],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%}"]})}return a})();var ms=o(4351);const Qb=[{path:"-",component:ms.KO},{path:"unauthorised",component:ms.z},{path:"misconfigured",component:ms.J3},{path:"dashboard",canActivate:[ms.hO],canLoad:[ms.hO],loadChildren:()=>Promise.all([o.e(76),o.e(640)]).then(o.bind(o,4640)).then(a=>a.DashboardModule)},{path:"landing",canActivate:[ms.hO],canLoad:[ms.hO],loadChildren:()=>Promise.all([o.e(76),o.e(883)]).then(o.bind(o,5883)).then(a=>a.AppLandingModule)},{path:"book",canActivate:[ms.hO],canLoad:[ms.hO],loadChildren:()=>o.e(964).then(o.bind(o,5964)).then(a=>a.BookModule)},{path:"explore",canActivate:[ms.hO],canLoad:[ms.hO],loadChildren:()=>o.e(291).then(o.bind(o,1291)).then(a=>a.ExploreModule)},{path:"control",canActivate:[ms.hO],canLoad:[ms.hO],loadChildren:()=>o.e(376).then(o.bind(o,7376)).then(a=>a.ControlModule)},{path:"directory",canActivate:[ms.hO],canLoad:[ms.hO],loadChildren:()=>o.e(274).then(o.bind(o,2274)).then(a=>a.DirectoryModule)},{path:"your-bookings",canActivate:[ms.hO],canLoad:[ms.hO],loadChildren:()=>Promise.all([o.e(76),o.e(677)]).then(o.bind(o,6677)).then(a=>a.AppScheduleModule)},{path:"schedule",canActivate:[ms.hO],canLoad:[ms.hO],loadChildren:()=>Promise.all([o.e(76),o.e(671)]).then(o.bind(o,1671)).then(a=>a.AppScheduleModule)},{path:"group-events",canActivate:[ms.hO],canLoad:[ms.hO],loadChildren:()=>o.e(535).then(o.bind(o,4535)).then(a=>a.GroupEventsModule)},{path:"**",redirectTo:"-",pathMatch:"full"}];let BM=(()=>{class a{static#e=this.\u0275fac=function(T){return new(T||a)};static#t=this.\u0275mod=n.$C({type:a});static#n=this.\u0275inj=n.G2t({imports:[ji.iI.forRoot(Qb,{useHash:!0,paramsInheritanceStrategy:"always"}),ji.iI]})}return a})();o(4006),o(9434),o(3719),o(2798),o(9183),o(9608),o(9928),o(3020),o(5987),o(3601),o(4512),o(7374),o(8113),o(6469),o(4003),o(8834);var fh=o(5927);let bp=(()=>{class a{static#e=this.\u0275fac=function(T){return new(T||a)};static#t=this.\u0275mod=n.$C({type:a});static#n=this.\u0275inj=n.G2t({imports:[ts.MD,ls.YN,ls.X1,fh.p]})}return a})();var Wf=o(7915);function yp(a){return new Oc(a,"./assets/locale/",".json")}let iy=(()=>{class a{static#e=this.\u0275fac=function(T){return new(T||a)};static#t=this.\u0275mod=n.$C({type:a,bootstrap:[Yb]});static#n=this.\u0275inj=n.G2t({providers:[{provide:n.zcH,useValue:cC({showDialog:!1})},{provide:uC,deps:[ji.Ix]},{provide:n.hnV,useFactory:()=>()=>{},deps:[uC],multi:!0},(0,rc.$R)((0,rc.Sx)())],imports:[e.Bb,fr,BM,La.register("ngsw-worker.js",{enabled:true}),ls.YN,bp,fh.p,da.WX,ca._T,Wf.SG,dd.h.forRoot({defaultLanguage:"en",loader:{provide:dd.Wr,useFactory:yp,deps:[rc.Qq]}})]})}return a})();(0,n.SmG)(),e.sG().bootstrapModule(iy).catch(a=>console.error(a))},7236:(gt,re,o)=>{"use strict";o.d(re,{s1:()=>S,en:()=>M.en});var e=o(177),n=o(4351),l=o(3046),h=o(9417),m=(o(7471),o(8751),o(4358),o(6041),o(7807),o(8228),o(3618),o(3953));let S=(()=>{class w{static#e=this.\u0275fac=function(_){return new(_||w)};static#t=this.\u0275mod=m.$C({type:w});static#n=this.\u0275inj=m.G2t({imports:[e.MD,l.cQ,h.YN,h.X1,n.hI]})}return w})();o(2615);var M=o(5204)},8228:(gt,re,o)=>{"use strict";o.d(re,{i:()=>R,r:()=>y});var e=o(467),p=o(5204),f=o(3953);const b=[],d=new class h{constructor(v){this.images=[],Object.assign(this,v)}};function y(m){for(const v of m)b.find(({id:O})=>O===v.id)||b.push(v)}let R=(()=>{class m{transform(O){return(0,e.A)(function*(){if(!O)return d;let S=b.find(({id:M})=>M===O);if(S)return S;const P=yield(0,p.RF)(O).toPromise().catch(M=>null);return P?(S={...P},b.push(S),S):d})()}updateAssetGroupList(O){y(O)}static#e=this.\u0275fac=function(S){return new(S||m)};static#t=this.\u0275pipe=f.EJ8({name:"assetgroup",type:m,pure:!0})}return m})()},3618:(gt,re,o)=>{"use strict";o.d(re,{Q:()=>x});var e=o(3953),n=o(9417),l=o(4233),h=o(7471),g=o(6088),p=o(3747),f=o(9707),b=o(4512),d=o(3601),y=o(4006),R=o(177),m=o(9434),v=o(6600),O=o(4823);function S(I,_){if(1&I&&(e.j41(0,"div",15)(1,"app-icon"),e.EFF(2,"priority_high"),e.k0s()()),2&I){const C=e.XpG().$implicit,D=e.XpG();e.Y8G("matTooltip",D.err_tooltip(C))}}function P(I,_){if(1&I){const C=e.RV6();e.j41(0,"div",16)(1,"div",17),e.EFF(2),e.k0s(),e.j41(3,"div",18),e.EFF(4),e.k0s(),e.j41(5,"button",19),e.bIt("click",function(){const A=e.eBV(C).$implicit,B=e.XpG().$implicit,F=e.XpG();return e.Njj(F.removeRequestItem(B,A))}),e.j41(6,"app-icon"),e.EFF(7,"delete"),e.k0s()(),e.j41(8,"button",20),e.bIt("click",function(){const A=e.eBV(C).$implicit,B=e.XpG(2);return e.Njj(B.toggleFavourite(A))}),e.j41(9,"app-icon"),e.EFF(10),e.k0s()()()}if(2&I){const C=_.$implicit,D=e.XpG(2);e.R7$(2),e.SpI(" ",C.name||"Item"," "),e.R7$(2),e.SpI(" x",C.quantity," "),e.R7$(4),e.AVh("text-blue-400",D.favorites.includes(C.id)),e.Y8G("matTooltip",D.favorites.includes(C.id)?"Remove from favourites":"Add to favourites"),e.R7$(2),e.JRh(D.favorites.includes(C.id)?"favorite":"favorite_border")}}function M(I,_){if(1&I){const C=e.RV6();e.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div"),e.EFF(5),e.nI1(6,"date"),e.nI1(7,"date"),e.k0s(),e.DNE(8,S,3,1,"div",8),e.k0s()(),e.j41(9,"button",9),e.bIt("click",function(){const A=e.eBV(C).$implicit,B=e.XpG();return e.Njj(B.duplicateRequest(A))}),e.j41(10,"app-icon"),e.EFF(11,"content_copy"),e.k0s()(),e.j41(12,"button",10),e.bIt("click",function(){const A=e.eBV(C).$implicit,B=e.XpG();return e.Njj(B.editRequest(A))}),e.j41(13,"app-icon"),e.EFF(14,"edit"),e.k0s()(),e.j41(15,"button",11),e.bIt("click",function(){const A=e.eBV(C).$implicit,B=e.XpG();return e.Njj(B.removeRequest(A))}),e.j41(16,"app-icon"),e.EFF(17,"delete"),e.k0s()(),e.j41(18,"button",12),e.bIt("click",function(){const A=e.eBV(C).$implicit,B=e.XpG();return e.Njj(B.show_request[A.id]=!B.show_request[A.id])}),e.j41(19,"app-icon"),e.EFF(20),e.k0s()()(),e.j41(21,"div",13),e.DNE(22,P,11,6,"div",14),e.k0s()()}if(2&I){const C=_.$implicit,D=e.XpG();e.AVh("border-error",D.end_time<C.deliver_at)("border-base-300",D.end_time>=C.deliver_at),e.R7$(5),e.Lme(" Request for ",e.i5U(6,11,C.deliver_at_time,"mediumDate")," at ",e.i5U(7,14,C.deliver_at_time,D.time_format)," "),e.R7$(3),e.Y8G("ngIf",D.end_time<=C.deliver_at||D.rejected_ids.includes(C.id)||C.conflict),e.R7$(10),e.Y8G("matTooltip",D.show_request[C.id]?"Hide order items":"Show order items"),e.R7$(2),e.SpI(" ",D.show_request[C.id]?"expand_less":"expand_more"," "),e.R7$(),e.Y8G("@show",D.show_request[C.id]?"show":"hide"),e.R7$(),e.Y8G("ngForOf",C.items)}}const w=[];let x=(()=>{class I{err_tooltip(C){return this.rejected_ids.includes(C.id)||C.conflict?"Some of the items are not available for the selected date and time.":"Delivery time is outside of the event time.\nThis order will be ignored."}get favorites(){return this._settings.get("favourite_assets")||w}get end_time(){const C=(this.options.date||Date.now())+60*(this.options.duration||30)*1e3;return this.options.all_day?(0,b.D)(C).valueOf():C}get time_format(){return this._settings.time_format||"shortTime"}constructor(C,D,A){this._settings=C,this._dialog=D,this._state=A,this.options={},this.rejected_ids=[],this.asset_requests=[],this.disabled=!1,this.show_request={},this.selected=[],this.registerOnChange=B=>this._onChange=B,this.registerOnTouched=B=>this._onTouch=B,this.setDisabledState=B=>this.disabled=B}ngOnChanges(C){C.options&&(this.asset_requests=(this.asset_requests||[]).map(D=>new p.Y({...D,event:this.options})),this._state.setOptions({date:this.options.date,duration:this.options.duration}))}setValue(C){this.asset_requests=C,this._onChange&&this._onChange(this.asset_requests)}writeValue(C){console.log("Requests:",C),this.asset_requests=(C||[]).map(D=>new p.Y({...D,event:this.options,state:D.state}))}editRequest(C=new p.Y){const D=this.asset_requests.filter(F=>F.id!==C.id),A={};for(const F of D)for(const $ of F.items)A[$.id]=(A[$.id]||0)+$?.quantity||0;const B=this._dialog.open(h.f,{data:{items:C.items,details:{...this.options,date:this.options.all_day?(0,d.o)(this.options.date).valueOf():this.options.date,duration:this.options.all_day?Math.max(1440,this.options.duration):this.options.duration},exact_time:!!C.deliver_time,offset:C.deliver_offset,offset_day:C.deliver_day_offset,requested:A}});B.afterClosed().subscribe(F=>{const $=this.asset_requests.filter(J=>J.id!==C.id);if(!F?.length)return;for(const J of F)if(J.assets?.length){const te=[];J.item_ids=new Array(J.quantity).fill(0).map(ne=>{let K="";for(;(!K||te.includes(K))&&0<J.assets.length;)K=J.assets[(0,f.HO)(J.assets.length)].id;return te.push(K),K})}const U=new Date(this.options.date),G=new p.Y({...C,conflict:!1,_changed:C._changed||C.items.find(J=>F.find(te=>te.id===J.id)?.quantity!==J.quantity),items:F.map(J=>({...J})),event:this.options,deliver_offset:B.componentInstance.offset,deliver_time:B.componentInstance.exact_time?U.getHours()+U.getMinutes()/60:null,deliver_day_offset:B.componentInstance.offset_day||0});for(const J of G.items)if($.reduce((ne,K)=>ne+(K.items.find(k=>k.id===J.id)?.quantity||0),0)+J.quantity>J.assets.length)return void(0,f.UG)(`Not enough assets available to meet request [${J.name}].\n                        Another request for this asset has been made in this meeting.`,void 0,void 0,{duration:5e3});G.item_count<=0||this.setValue([...$,G])})}removeRequest(C){const D=this.asset_requests.filter(A=>A.id!==C.id);this.setValue(D)}duplicateRequest(C){const D=new p.Y({...C,id:`order-${(0,f.DU)(8)}`});this.setValue([...this.asset_requests,D])}removeRequestItem(C,D){const A=new p.Y({...C,items:C.items.filter(F=>F.id!==D.id)}),B=this.asset_requests.filter(F=>F.id!==C.id);this.setValue(A.items.length>0?[...B,A]:B)}toggleFavourite(C){const D=this.favorites;D.includes(C.id)?this._settings.saveUserSetting("favourite_assets",D.filter(B=>B!==C.id)):this._settings.saveUserSetting("favourite_assets",[...D,C.id])}static#e=this.\u0275fac=function(D){return new(D||I)(e.rXU(l.h),e.rXU(y.bZ),e.rXU(g.R))};static#t=this.\u0275cmp=e.VBU({type:I,selectors:[["asset-list-field"]],inputs:{options:"options",rejected_ids:"rejected_ids"},features:[e.Jv_([{provide:n.kq,useExisting:(0,e.Rfq)(()=>I),multi:!0}]),e.OA$],decls:8,vars:2,consts:[["list","",1,"space-y-2"],["request","","class","border shadow bg-base-100 rounded-xl overflow-hidden",3,"border-error","border-base-300",4,"ngFor","ngForOf"],["btn","","matRipple","","add-space","",1,"w-full","inverse","mt-2",3,"click","disabled"],[1,"flex","items-center","justify-center","space-x-2"],["request","",1,"border","shadow","bg-base-100","rounded-xl","overflow-hidden"],[1,"flex","items-center","space-x-2","p-4"],[1,"flex-1"],[1,"flex","items-center","space-x-4"],["class","flex items-center justify-center h-6 w-6 rounded-full bg-error text-error-content",3,"matTooltip",4,"ngIf"],["icon","","matRipple","","matTooltip","Duplicate Request",3,"click"],["icon","","matRipple","","matTooltip","Edit Request",3,"click"],["icon","","matRipple","","matTooltip","Remove Request",1,"text-error",3,"click"],["icon","","matRipple","",3,"click","matTooltip"],[1,"flex","flex-col","bg-base-200","divide-y","divide-base-100"],["class","flex items-center px-4 py-1 space-x-2 hover:opacity-90",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-center","h-6","w-6","rounded-full","bg-error","text-error-content",3,"matTooltip"],[1,"flex","items-center","px-4","py-1","space-x-2","hover:opacity-90"],[1,"flex","items-center","flex-1"],[1,"rounded","bg-success","text-success-content","text-xs","px-2","py-1"],["icon","","matRipple","","matTooltip","Remove Request Item",1,"text-error",3,"click"],["icon","","matRipple","","name","toggle-catering-item-favourite",3,"click","matTooltip"]],template:function(D,A){1&D&&(e.j41(0,"div",0),e.DNE(1,M,23,17,"div",1),e.k0s(),e.j41(2,"button",2),e.bIt("click",function(){return A.editRequest()}),e.j41(3,"div",3)(4,"app-icon"),e.EFF(5,"search"),e.k0s(),e.j41(6,"span"),e.EFF(7,"Add Asset"),e.k0s()()()),2&D&&(e.R7$(),e.Y8G("ngForOf",A.asset_requests),e.R7$(),e.Y8G("disabled",A.disabled))},dependencies:[R.Sq,R.bT,m.R,v.r6,O.oV,R.vh],data:{animation:[f.Ft]}})}return I})()},3747:(gt,re,o)=>{"use strict";o.d(re,{Y:()=>b});var e=o(9707),n=o(1406),l=o(906),h=o(3601),g=o(7926),p=o(2357);function f(d){let y=d.event?.date||d._time;return d.deliver_time&&(y=(0,n.h)(y,{hours:Math.floor(d.deliver_time),minutes:d.deliver_time%1*60}).valueOf()),(d.deliver_day_offset>0||d.event?.all_day)&&(y=(0,l.f)((0,h.o)(y),d.deliver_day_offset).valueOf()),(0,g.z)(y,d.deliver_offset).valueOf()}class b{get deliver_at(){return f(this)}get status(){return this._status}set status(y){this._status=y,this[`${this.event_id}_status`]=y}constructor(y={}){this.conflict=!1,this._changed=!1,this._time=(0,p.c)(Date.now()).valueOf(),this.id=y.id||`order-${(0,e.HO)(9999999,1e6)}`,this.event_id=y.event_id||y.parent_id||"",this.items=y.items||y.asset_ids?.map(m=>({id:m,quantity:1}))||[],this.item_count=this.items.reduce((m,v)=>m+v.quantity,0),this._status=y[`${this.event_id}_status`]||y.status||(y.extension_data||{})[`${this.event_id}_status`]||y.extension_data?.status||"in_storage",this.event=y.event||y||null;const R=this.event?.linked_bookings?.find(m=>m.extension_data.request_id===this.id);this._booking=R||y.booking||null,this._changed=!!y._changed||!R,this.notes=y.notes||y.description||"",this.deliver_time=y.deliver_time||y.extension_data?.deliver_time||void 0,this.deliver_offset=y.deliver_offset||y.extension_data?.deliver_offset||0,this.deliver_day_offset=y.deliver_day_offset||y.extension_data?.deliver_day_offset||0,this.deliver_at_time=f(this),this.conflict=!!y.conflict,this.ref_id=`${this.deliver_at_time}|${this.items.map(m=>`${m.id}:${m.quantity}`).join("|")}`}toJSON(){const y={...this};return delete y.event,delete y._changed,delete y._status,delete y._time,delete y.deliver_at_time,delete y.deliver_at,y.items=y.items.map(R=>({id:R.id,category_id:R.category_id,quantity:R.quantity,name:R.name,item_ids:R.item_ids})),y}}},8751:(gt,re,o)=>{"use strict";o.d(re,{o:()=>y});var e=o(3953),n=o(177),l=o(5507),h=o(9417),g=o(9434),p=o(5277),f=o(6600);function b(R,m){if(1&R){const v=e.RV6();e.qex(0),e.j41(1,"section",2),e.nrm(2,"image-carousel",3),e.j41(3,"button",4),e.bIt("click",function(){e.eBV(v);const S=e.XpG();return e.Njj(S.close.emit())}),e.j41(4,"app-icon"),e.EFF(5,"arrow_back"),e.k0s()(),e.j41(6,"button",5),e.bIt("click",function(){e.eBV(v);const S=e.XpG();return e.Njj(S.toggleFav.emit())}),e.j41(7,"app-icon"),e.EFF(8),e.k0s()()(),e.j41(9,"div",6)(10,"section",7)(11,"div")(12,"h2",8),e.EFF(13),e.k0s(),e.j41(14,"p"),e.EFF(15),e.k0s()(),e.j41(16,"a-counter",9),e.mxI("ngModelChange",function(S){e.eBV(v);const P=e.XpG();return e.DH7(P.item.quantity,S)||(P.item.quantity=S),e.Njj(S)}),e.bIt("ngModelChange",function(S){e.eBV(v);const P=e.XpG();return e.Njj(P.countChange.emit(S))}),e.k0s()(),e.nrm(17,"hr"),e.j41(18,"section",10)(19,"h2",11),e.EFF(20,"Details"),e.k0s(),e.j41(21,"div",12)(22,"p"),e.EFF(23),e.k0s()()()(),e.j41(24,"div",13)(25,"button",14),e.bIt("click",function(){e.eBV(v);const S=e.XpG();return S.active=!S.active,e.Njj(S.activeChange.emit(S.active))}),e.j41(26,"div",15)(27,"app-icon",16),e.EFF(28),e.k0s(),e.j41(29,"p"),e.EFF(30),e.k0s()()()(),e.bVm()}if(2&R){const v=e.XpG();e.R7$(2),e.Y8G("images",v.item.images),e.R7$(4),e.AVh("text-info-content",v.fav)("!bg-info",v.fav),e.R7$(2),e.SpI(" ",v.fav?"favorite":"favorite_border"," "),e.R7$(5),e.SpI(" ",v.item.name," "),e.R7$(2),e.SpI(" ",(null!=v.item.available?v.item.available:null==v.item.assets?null:v.item.assets.length)||0," Available "),e.R7$(),e.R50("ngModel",v.item.quantity),e.Y8G("min",1)("max",(null!=v.item.available?v.item.available:null==v.item.assets?null:v.item.assets.length)||1),e.R7$(7),e.JRh(v.item.description||"No description"),e.R7$(2),e.AVh("inverse",v.active),e.R7$(3),e.SpI(" ",v.active?"remove":"add"," "),e.R7$(2),e.SpI(" ",v.active?"Remove this asset":"Add this asset"," ")}}function d(R,m){1&R&&(e.j41(0,"div",17)(1,"p",18),e.EFF(2," Select an asset to view it's details "),e.k0s()())}let y=(()=>{class R{constructor(){this.active=!1,this.fav=!1,this.toggleFav=new e.bkB,this.activeChange=new e.bkB,this.countChange=new e.bkB,this.close=new e.bkB}ngOnInit(){this.item&&!this.item.quantity&&(this.item.quantity=1)}ngOnChanges(v){v.item&&this.item&&(this.item.quantity||(this.item.quantity=1))}static#e=this.\u0275fac=function(O){return new(O||R)};static#t=this.\u0275cmp=e.VBU({type:R,selectors:[["asset-details"]],inputs:{item:"item",active:"active",fav:"fav"},outputs:{toggleFav:"toggleFav",activeChange:"activeChange",countChange:"countChange",close:"close"},features:[e.OA$],decls:3,vars:2,consts:[["empty_state",""],[4,"ngIf","ngIfElse"],["image","",1,"relative","w-full","h-64","sm:h-40","bg-base-200"],[1,"absolute","inset-0",3,"images"],["icon","","matRipple","","close","",1,"absolute","top-2","left-2","bg-base-200","sm:hidden",3,"click"],["icon","","matRipple","","fav","",1,"absolute","top-2","right-2","bg-base-200",3,"click"],[1,"p-2","space-y-2","flex-1","h-1/2","overflow-auto"],["actions","",1,"z-0","flex","items-center","justify-between"],[1,"text-xl","font-medium","mb-2","mt-4"],[3,"ngModelChange","ngModel","min","max"],["details","",1,"space-y-2"],[1,"text-xl","font-medium"],[1,"flex","items-center","space-x-2"],[1,"p-2","border-t","border-base-200","shadow","sm:hidden"],["btn","","matRipple","","select","",1,"w-full",3,"click"],[1,"flex","items-center","justify-center"],[1,"text-2xl"],["empty","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[1,"opacity-30","text-center"]],template:function(O,S){if(1&O&&e.DNE(0,b,31,16,"ng-container",1)(1,d,3,0,"ng-template",null,0,e.C5r),2&O){const P=e.sdS(2);e.Y8G("ngIf",S.item)("ngIfElse",P)}},dependencies:[n.bT,l.s,h.BC,h.vS,g.R,p.H,f.r6],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:30%;min-width:20rem;height:100%;min-height:65vh}"]})}return R})()},6041:(gt,re,o)=>{"use strict";o.d(re,{t:()=>n});var e=o(3953);let n=(()=>{class l{static#e=this.\u0275fac=function(p){return new(p||l)};static#t=this.\u0275cmp=e.VBU({type:l,selectors:[["asset-filters-display"]],decls:0,vars:0,template:function(p,f){}})}return l})()},4358:(gt,re,o)=>{"use strict";o.d(re,{F:()=>B});var e=o(3953),n=o(6088),l=o(9707),h=o(3601),g=o(906),p=o(4512),f=o(7926),b=o(2037),d=o(177),y=o(3476),R=o(9417),m=o(9434),v=o(6600),O=o(3719),S=o(2798),P=o(9631),M=o(4823),w=o(2765);function x(F,$){1&F&&(e.j41(0,"h3",11),e.pXf(1,0),e.k0s())}function I(F,$){if(1&F&&(e.j41(0,"mat-option",18),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&F){const U=$.$implicit;e.Y8G("value",U.id),e.R7$(),e.SpI(" ",e.i5U(2,2,U.value,"mediumDate")," ")}}function _(F,$){if(1&F){const U=e.RV6();e.qex(0),e.j41(1,"label"),e.EFF(2,"Deliver Date:"),e.k0s(),e.j41(3,"mat-form-field",15)(4,"mat-select",16),e.mxI("ngModelChange",function(J){e.eBV(U);const te=e.XpG(2);return e.DH7(te.offset_day,J)||(te.offset_day=J),e.Njj(J)}),e.bIt("ngModelChange",function(J){e.eBV(U);const te=e.XpG(2);return e.Njj(te.offset_dayChange.next(J))}),e.DNE(5,I,3,5,"mat-option",17),e.k0s()(),e.bVm()}if(2&F){const U=e.XpG(2);e.R7$(4),e.R50("ngModel",U.offset_day),e.R7$(),e.Y8G("ngForOf",U.day_options)}}function C(F,$){if(1&F){const U=e.RV6();e.j41(0,"div",9)(1,"mat-checkbox",12),e.mxI("ngModelChange",function(J){e.eBV(U);const te=e.XpG();return e.DH7(te.at_time,J)||(te.at_time=J),e.Njj(J)}),e.bIt("ngModelChange",function(J){e.eBV(U);const te=e.XpG();return e.Njj(te.at_timeChange.next(J))}),e.EFF(2," Exact Time "),e.k0s(),e.DNE(3,_,6,2,"ng-container",13),e.j41(4,"label"),e.EFF(5,"Deliver After:"),e.k0s(),e.j41(6,"a-duration-field",14),e.nI1(7,"async"),e.mxI("ngModelChange",function(J){e.eBV(U);const te=e.XpG();return e.DH7(te.offset,J)||(te.offset=J),e.Njj(J)}),e.bIt("ngModelChange",function(J){e.eBV(U);const te=e.XpG();return e.Njj(te.offsetChange.next(J))}),e.k0s()()}if(2&F){let U;const G=e.XpG();e.R7$(),e.R50("ngModel",G.at_time),e.Y8G("matTooltip",G.exact_tooltip),e.R7$(2),e.Y8G("ngIf",G.day_options.length>1),e.R7$(3),e.R50("ngModel",G.offset),e.Y8G("time",G.offset_day>0?G.start_of_date:null==(U=e.bMT(7,9,G.options))?null:U.date)("step",G.step_interval)("min",G.min_offset)("max",G.max_offset-1)("use_24hr",G.use_24hr)}}function D(F,$){1&F&&(e.j41(0,"h3",19),e.pXf(1,1),e.k0s())}function A(F,$){if(1&F){const U=e.RV6();e.j41(0,"mat-checkbox",16),e.nI1(1,"async"),e.bIt("ngModelChange",function(){const J=e.eBV(U).$implicit,te=e.XpG();return e.Njj(te.toggleCategory(J.id))}),e.EFF(2),e.k0s()}if(2&F){const U=$.$implicit,G=e.XpG();e.Y8G("ngModel",e.bMT(1,3,G.category)===U.id),e.BMQ("name",U),e.R7$(2),e.SpI(" ",U.name," ")}}let B=(()=>{class F extends l.Tv{get start_of_date(){return(0,h.o)((0,g.f)(this._state.getOptions().date,this.offset_day)).valueOf()}get min_offset(){return this.offset_day>0?0:this._min_offset}get step_interval(){return this._settings.get("app.assets.step_interval")||5}get max_offset(){const U=Math.min((0,p.D)((0,g.f)(this._state.getOptions().date,this.offset_day)).valueOf(),(0,f.z)(this._state.getOptions().date,this._state.getOptions().duration).valueOf()),G=(0,b.o)(U,this._state.getOptions().date);return Math.min(G,Math.min(1439,this._max_offset))}get use_24hr(){return this._settings.get("app.use_24_hour_time")}constructor(U,G){super(),this._state=U,this._settings=G,this.search=!1,this.at_time=!1,this.at_timeChange=new e.bkB,this.offset=0,this.offsetChange=new e.bkB,this.offset_day=0,this.offset_dayChange=new e.bkB,this._min_offset=0,this._max_offset=60,this.search_value=this._state.search,this.category=this._state.category,this.categories=this._state.category_list,this.options=this._state.options,this.exact_tooltip="Deliver at exactly specified time. \nNote that changes to the booking will not be \nreflected in the order if this is set.",this.day_options=[],this.setSearch=J=>this._state.setSearch(J),this.toggleCategory=J=>this._state.toggleCategory(J)}ngOnInit(){this._min_offset=Math.max(this._settings.get("app.assets.min_offset"),0),this.subscription("filters",this._state.options.subscribe(()=>{this._max_offset=Math.max(15,(this._state.getOptions().duration||60)-this._settings.get("app.assets.end_offset")),this._updateDayOptions()})),this._updateDayOptions()}_updateDayOptions(){const{date:U,duration:G}=this._state.getOptions();if(G<=1440)return this.day_options=[];let J=(0,h.o)(U),te=0;const ne=(0,p.D)((0,f.z)(U,G)).valueOf(),K=[];for(;J.valueOf()<=ne;)K.push({id:te,value:J.valueOf()}),J=(0,g.f)(J,1),te++;this.day_options=K}static#e=this.\u0275fac=function(G){return new(G||F)(e.rXU(n.R),e.rXU(l.h$))};static#t=this.\u0275cmp=e.VBU({type:F,selectors:[["asset-filters"]],inputs:{search:"search",at_time:"at_time",offset:"offset",offset_day:"offset_day"},outputs:{at_timeChange:"at_timeChange",offsetChange:"offsetChange",offset_dayChange:"offset_dayChange"},features:[e.Vt3],decls:12,vars:15,consts:()=>{let U,G;return U=$localize`:␟07b96192315617e1c3c3f020fed4749eafda31eb␟637156553417356107: Options `,G=$localize`:␟24300e769843b029b0346b3ea18e51e4e97a3502␟3888583854485349732: Catergories `,[U,G,[1,"px-4","mt-3","mb-2"],["appearance","outline",1,"w-full","h-14"],["matPrefix","",1,"text-xl"],["matInput","","placeholder","Search menu...",3,"ngModelChange","ngModel"],["class","hidden sm:block font-medium px-2 py-2",4,"ngIf"],["class","flex flex-col px-2",4,"ngIf"],["class","hidden sm:block font-medium px-2 py-4",4,"ngIf"],[1,"flex","flex-col","px-2"],[3,"ngModel","ngModelChange",4,"ngFor","ngForOf"],[1,"hidden","sm:block","font-medium","px-2","py-2"],[3,"ngModelChange","ngModel","matTooltip"],[4,"ngIf"],[3,"ngModelChange","ngModel","time","step","min","max","use_24hr"],["appearance","outline",1,"w-full","no-subscript","mb-4"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"hidden","sm:block","font-medium","px-2","py-4"]]},template:function(G,J){1&G&&(e.j41(0,"div",2)(1,"mat-form-field",3)(2,"app-icon",4),e.EFF(3,"search"),e.k0s(),e.j41(4,"input",5),e.nI1(5,"async"),e.bIt("ngModelChange",function(ne){return J.setSearch(ne)}),e.k0s()()(),e.DNE(6,x,2,0,"h3",6)(7,C,8,11,"div",7)(8,D,2,0,"h3",8),e.j41(9,"div",9),e.DNE(10,A,3,5,"mat-checkbox",10),e.nI1(11,"async"),e.k0s()),2&G&&(e.AVh("sm:hidden",!J.search),e.R7$(4),e.Y8G("ngModel",e.bMT(5,11,J.search_value)),e.R7$(2),e.Y8G("ngIf",!J.search),e.R7$(),e.Y8G("ngIf",!J.search),e.R7$(),e.Y8G("ngIf",!J.search),e.R7$(),e.AVh("sm:hidden",J.search)("sm:pt-1",!J.search),e.R7$(),e.Y8G("ngForOf",e.bMT(11,13,J.categories)))},dependencies:[d.Sq,d.bT,y.y,R.me,R.BC,R.vS,m.R,v.wT,O.rl,O.JW,S.VO,P.fg,M.oV,w.So,d.Jj,d.vh],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:16rem}"]})}return F})()},7807:(gt,re,o)=>{"use strict";o.d(re,{I:()=>x});var e=o(3953),n=o(6088),l=o(9928),h=o(9714),g=o(5006),p=o(177),f=o(9434),b=o(3208),d=o(6600),y=o(9183);function R(I,_){if(1&I&&(e.j41(0,"div",20)(1,"span",21),e.EFF(2),e.k0s()()),2&I){const C=e.XpG().$implicit;e.R7$(2),e.SpI(" ",C.quantity||1," ")}}function m(I,_){if(1&I&&e.nrm(0,"img",22),2&I){const C=e.XpG().$implicit;e.Y8G("source",C.images[0])}}function v(I,_){1&I&&e.nrm(0,"img",23)}function O(I,_){if(1&I){const C=e.RV6();e.j41(0,"li",10)(1,"button",11),e.bIt("click",function(){const A=e.eBV(C).$implicit,B=e.XpG(3);return e.Njj(B.selectAsset(A))}),e.j41(2,"div",12),e.DNE(3,R,3,1,"div",13)(4,m,1,1,"img",14)(5,v,1,0,"ng-template",null,2,e.C5r),e.k0s(),e.j41(7,"div",15)(8,"div",16)(9,"div"),e.EFF(10),e.k0s(),e.j41(11,"div",17),e.EFF(12),e.k0s()(),e.j41(13,"div",18)(14,"p"),e.EFF(15),e.k0s()()()(),e.j41(16,"button",19),e.bIt("click",function(){const A=e.eBV(C).$implicit,B=e.XpG(3);return e.Njj(B.toggleFav.emit(A))}),e.j41(17,"app-icon"),e.EFF(18),e.k0s()()()}if(2&I){const C=_.$implicit,D=e.sdS(6),A=e.XpG(3);e.R7$(3),e.Y8G("ngIf",A.selected.includes(C.id)),e.R7$(),e.Y8G("ngIf",null==C.images?null:C.images.length)("ngIfElse",D),e.R7$(6),e.JRh(C.name||"Asset"),e.R7$(2),e.SpI(" ",C.category," "),e.R7$(3),e.SpI(" ",C.available||(null==C.assets?null:C.assets.length)||"0"," Available "),e.R7$(),e.AVh("text-info",A.isFavourite(C.id)),e.R7$(2),e.JRh(A.isFavourite(C.id)?"favorite":"favorite_border")}}function S(I,_){if(1&I&&(e.j41(0,"ul",8),e.DNE(1,O,19,9,"li",9),e.nI1(2,"async"),e.k0s()),2&I){const C=e.XpG(2);e.R7$(),e.Y8G("ngForOf",e.bMT(2,1,C.assets))}}function P(I,_){if(1&I&&(e.qex(0),e.DNE(1,S,3,3,"ul",7),e.nI1(2,"async"),e.bVm()),2&I){let C;const D=e.XpG(),A=e.sdS(9);e.R7$(),e.Y8G("ngIf",null==(C=e.bMT(2,2,D.assets))?null:C.length)("ngIfElse",A)}}function M(I,_){1&I&&(e.j41(0,"div",24)(1,"p",25),e.EFF(2," No available assets for selected time and/or filters "),e.k0s()())}function w(I,_){1&I&&(e.j41(0,"div",26),e.nrm(1,"mat-spinner",27),e.j41(2,"p",28),e.EFF(3,"Finding available assets..."),e.k0s()()),2&I&&(e.R7$(),e.Y8G("diameter",32))}let x=(()=>{class I{constructor(C){this._asset_state=C,this.selected="",this.favorites=[],this.selected_items=[],this.requested={},this.toggleFav=new e.bkB,this.onSelect=new e.bkB,this._requested_items=new l.t({}),this.counts=new l.t({}),this.loading=this._asset_state.loading,this.assets=(0,h.zV)([this.counts,this._asset_state.filtered_assets,this._requested_items]).pipe((0,g.T)(([D,A,B])=>{for(const F of A){F.quantity=D[F.id]||0;const $=this.selected_items.find(U=>U.id===F.id);$&&($.assets=F.assets),void 0!==B[F.id]&&(F.available=Math.max((F.assets?.length||0)-B[F.id],0))}return A.filter(F=>null!=F.available&&F.available>0||null==F.available&&F.assets?.length>0)}))}ngOnChanges(C){if(C.selected_items&&this.selected_items?.length){const D={};for(const A of this.selected_items)D[A.id]=A.quantity;this.counts.next(D)}C.requested&&this._requested_items.next(this.requested)}isFavourite(C){return this.favorites.includes(C)}selectAsset(C){this.onSelect.emit(C)}static#e=this.\u0275fac=function(D){return new(D||I)(e.rXU(n.R))};static#t=this.\u0275cmp=e.VBU({type:I,selectors:[["asset-list"]],inputs:{selected:"selected",favorites:"favorites",selected_items:"selected_items",requested:"requested"},outputs:{toggleFav:"toggleFav",onSelect:"onSelect"},features:[e.OA$],decls:12,vars:7,consts:[["empty_state",""],["load_state",""],["placeholder",""],[1,"w-full","h-full","overflow-auto","py-2","bg-base-200"],[1,"font-bold","px-2"],["count","",1,"text-sm","opacity-60","mb-4","px-2"],[4,"ngIf","ngIfElse"],["class","list-style-none space-y-2 p-2",4,"ngIf","ngIfElse"],[1,"list-style-none","space-y-2","p-2"],["asset","","matRipple","","class","relative p-2 rounded-lg w-full shadow border bg-base-100 border-base-200",4,"ngFor","ngForOf"],["asset","","matRipple","",1,"relative","p-2","rounded-lg","w-full","shadow","border","bg-base-100","border-base-200"],["select","",1,"w-full","h-full","flex","items-center","pr-10",3,"click"],[1,"relative","w-16","h-16","rounded-xl","bg-base-200","mr-4","flex","items-center","justify-center","overflow-hidden","border","border-base-200"],["class","absolute top-1 left-1 border border-base-300 bg-base-200 rounded-full h-6 w-6 flex items-center justify-center",4,"ngIf"],["auth","","class","object-cover h-full",3,"source",4,"ngIf","ngIfElse"],[1,"space-y-2","text-left","flex-1"],[1,"font-medium","flex","items-center","justify-between"],[1,"opacity-60","text-xs"],[1,"flex","items-center","text-sm","space-x-2"],["icon","","matRipple","","fav","",1,"absolute","top-1","right-1",3,"click"],[1,"absolute","top-1","left-1","border","border-base-300","bg-base-200","rounded-full","h-6","w-6","flex","items-center","justify-center"],[1,"text-xs"],["auth","",1,"object-cover","h-full",3,"source"],["src","assets/icons/asset-placeholder.svg",1,"m-auto"],["empty","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[1,"opacity-30","text-center"],["loading","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[3,"diameter"],[1,"opacity-30"]],template:function(D,A){if(1&D&&(e.j41(0,"div",3)(1,"h3",4),e.EFF(2,"Results"),e.k0s(),e.j41(3,"p",5),e.EFF(4),e.nI1(5,"async"),e.k0s(),e.DNE(6,P,3,4,"ng-container",6),e.nI1(7,"async"),e.k0s(),e.DNE(8,M,3,0,"ng-template",null,0,e.C5r)(10,w,4,1,"ng-template",null,1,e.C5r)),2&D){let B;const F=e.sdS(11);e.R7$(4),e.SpI(" ",(null==(B=e.bMT(5,3,A.assets))?null:B.length)||0," result(s) found "),e.R7$(2),e.Y8G("ngIf",!e.bMT(7,5,A.loading))("ngIfElse",F)}},dependencies:[p.Sq,p.bT,f.R,b.U,d.r6,y.LG,p.Jj],styles:["[_nghost-%COMP%]{width:100%;height:100%}"]})}return I})()},7471:(gt,re,o)=>{"use strict";o.d(re,{f:()=>O});var e=o(4006),n=o(9707),l=o(6088),h=o(3953),g=o(177),p=o(9434),f=o(6600),b=o(8751),d=o(4358),y=o(6041),R=o(7807);function m(S,P){if(1&S){const M=h.RV6();h.j41(0,"button",21),h.bIt("click",function(){h.eBV(M);const x=h.XpG();return h.Njj(x.displayed=null)}),h.EFF(1," Back "),h.k0s()}}const v=[];let O=(()=>{class S{get favorites(){return this._settings.get("favourite_assets")||v}get selected_ids(){return this.selected.map(M=>M.id).join(",")}get count(){return this.selected.reduce((M,w)=>M+w.quantity,0)}isSelected(M){return M&&this.selected_ids.includes(M)}constructor(M,w,x){this._settings=M,this._state=w,this._data=x,this.displayed=null,this.selected=[...this._data.items||[]],this.exact_time=this._data.exact_time??!1,this.requested=this._data.requested;const{duration:I}=this._data.details;this._state.setOptions(this._data.details),this.offset=Math.min(Math.max(this._settings.get("app.assets.min_offset"),this._data.offset||0),(I||60)-this._settings.get("app.assets.end_offset")),this.offset_day=this._data.offset_day||0}setSelected(M,w){const x=this.selected.filter(I=>I.id!==M.id);w&&x.push(M),this.selected=[...x]}updateSelectedCount(M){if(!this.displayed)return;const w=this.selected.find(x=>x.id===this.displayed.id);w&&(w.quantity=M,w.assets=this.displayed.assets)}toggleFavourite(M){const w=this.favorites;w.includes(M.id)?this._settings.saveUserSetting("favourite_assets",w.filter(I=>I!==M.id)):this._settings.saveUserSetting("favourite_assets",[...w,M.id])}static#e=this.\u0275fac=function(w){return new(w||S)(h.rXU(n.h$),h.rXU(l.R),h.rXU(e.Vh))};static#t=this.\u0275cmp=h.VBU({type:S,selectors:[["asset-select-modal"]],decls:33,vars:25,consts:[[1,"w-[100vw]","h-[100vh]","sm:relative","sm:w-auto","sm:h-auto","flex","flex-col","bg-base-100"],[1,"flex","items-center","space-x-4","w-full"],["icon","","mat-dialog-close","",1,"bg-base-200"],[1,"flex-1","flex","items-center","divide-x","divide-base-200","min-h-[65vh]","h-[65vh]","sm:max-h-[65vh]","sm:max-w-[95vw]","w-full","overflow-hidden"],[1,"flex","flex-col","items-center","flex-1","w-1/2","h-full","sm:h-[65vh]"],[1,"h-full","hidden","sm:block",3,"at_timeChange","offsetChange","offset_dayChange","at_time","offset","offset_day"],[1,"flex","flex-col","items-center","flex-1","w-1/2","h-full","sm:min-w-[20rem]","sm:h-[65vh]"],[1,"w-full","border-b","border-base-200"],[1,"flex-1","h-1/2","w-full","overflow-hidden",3,"toggleFav","onSelect","selected","favorites","selected_items","requested"],[1,"h-full","w-full","sm:h-[65vh]","absolute","sm:relative","sm:flex","sm:max-w-[20rem]","bg-base-100","z-20",3,"activeChange","countChange","toggleFav","close","item","active","fav"],[1,"flex","sm:hidden","flex-col-reverse","items-center","justify-end","p-2","border-t","border-base-200"],["btn","","matRipple","","back-btn","","class","inverse sm:hidden w-full sm:w-auto",3,"click",4,"ngIf"],["btn","","matRipple","","save","",1,"w-full","sm:w-auto","sm:mb-0",3,"mat-dialog-close"],[1,"hidden","sm:flex","items-center","justify-between","p-2","border-t","border-base-200","w-full"],["btn","","matRipple","",1,"clear","text-secondary",3,"mat-dialog-close"],[1,"flex","items-center"],[1,"text-xl"],[1,"mr-1","underline"],[1,"opacity-60","text-sm"],["btn","","matRipple","",3,"click","disabled"],[1,"mr-1"],["btn","","matRipple","","back-btn","",1,"inverse","sm:hidden","w-full","sm:w-auto",3,"click"]],template:function(w,x){1&w&&(h.j41(0,"div",0)(1,"header",1)(2,"button",2)(3,"app-icon"),h.EFF(4,"close"),h.k0s()(),h.j41(5,"h3"),h.EFF(6,"Add Assets"),h.k0s()(),h.j41(7,"main",3)(8,"div",4)(9,"asset-filters",5),h.mxI("at_timeChange",function(_){return h.DH7(x.exact_time,_)||(x.exact_time=_),_})("offsetChange",function(_){return h.DH7(x.offset,_)||(x.offset=_),_})("offset_dayChange",function(_){return h.DH7(x.offset_day,_)||(x.offset_day=_),_}),h.k0s()(),h.j41(10,"div",6),h.nrm(11,"asset-filters-display",7),h.j41(12,"asset-list",8),h.bIt("toggleFav",function(_){return x.toggleFavourite(_)})("onSelect",function(_){return x.displayed=_}),h.k0s()(),h.j41(13,"asset-details",9),h.bIt("activeChange",function(_){return x.setSelected(x.displayed,_)})("countChange",function(_){return x.updateSelectedCount(_)})("toggleFav",function(){return x.toggleFavourite(x.displayed)})("close",function(){return x.displayed=null}),h.k0s()(),h.j41(14,"footer",10),h.DNE(15,m,2,0,"button",11),h.j41(16,"button",12),h.EFF(17," View List "),h.k0s()(),h.j41(18,"footer",13)(19,"button",14)(20,"div",15)(21,"app-icon",16),h.EFF(22,"arrow_back"),h.k0s(),h.j41(23,"div",17),h.EFF(24,"Back to form"),h.k0s()()(),h.j41(25,"p",18),h.EFF(26),h.k0s(),h.j41(27,"button",19),h.bIt("click",function(){return x.setSelected(x.displayed,!x.isSelected(null==x.displayed?null:x.displayed.id))}),h.j41(28,"div",15)(29,"app-icon",16),h.EFF(30),h.k0s(),h.j41(31,"div",20),h.EFF(32),h.k0s()()()()()),2&w&&(h.R7$(9),h.R50("at_time",x.exact_time)("offset",x.offset)("offset_day",x.offset_day),h.R7$(3),h.Y8G("selected",x.selected_ids)("favorites",x.favorites)("selected_items",x.selected)("requested",x.requested),h.R7$(),h.AVh("hidden",!x.displayed)("inset-0",x.displayed),h.Y8G("item",x.displayed)("active",x.selected_ids.includes((null==x.displayed?null:x.displayed.id)||""))("fav",!!x.displayed&&x.favorites.includes((null==x.displayed?null:x.displayed.id)||"")),h.R7$(2),h.Y8G("ngIf",x.displayed),h.R7$(),h.AVh("mb-2",x.displayed),h.Y8G("mat-dialog-close",x.selected),h.R7$(3),h.Y8G("mat-dialog-close",x.selected),h.R7$(7),h.SpI("",x.count," asset(s) added"),h.R7$(),h.AVh("inverse",x.isSelected(null==x.displayed?null:x.displayed.id)),h.Y8G("disabled",!x.displayed),h.R7$(3),h.SpI(" ",x.isSelected(null==x.displayed?null:x.displayed.id)?"remove":"add"," "),h.R7$(2),h.SpI(" ",x.isSelected(null==x.displayed?null:x.displayed.id)?"Remove from Booking":"Add to booking"," "))},dependencies:[g.bT,p.R,f.r6,e.tx,b.o,d.F,y.t,R.I]})}return S})()},6088:(gt,re,o)=>{"use strict";o.d(re,{R:()=>A});var e=o(9928),n=o(9714),l=o(4421),h=o(8728),g=o(3020),p=o(9090),f=o(8841),b=o(8712),d=o(3921),y=o(5006),R=o(5204),m=o(5645),v=o(5987),O=o(3601),S=o(4512),P=o(2357),M=o(350),w=o(7926),x=o(8228),I=o(2185),_=o(2615),C=o(5157),D=o(3953);let A=(()=>{class B{constructor($){this._org=$,this._options=new e.t({date:Date.now()}),this._search=new e.t(""),this._category=new e.t([]),this._loading=new e.t(""),this.search=this._search.asObservable(),this.category=this._category.asObservable(),this.options=this._options.asObservable(),this.loading=this._loading.asObservable(),this.rules=(0,n.zV)([this._options,this._org.active_building]).pipe((0,h.p)(([U,G])=>!!G),(0,g.B)(300),(0,p.n)(([U,G])=>(this._loading.next(this._loading.getValue()+"[Rules]"),(0,_.$z)(G.id||U.zone||""))),(0,f.M)(U=>this._loading.next(this._loading.getValue().replace(/\[Rules\]/g,""))),(0,b.t)(1)),this.asset_list=(0,l.of)(0).pipe((0,p.n)(()=>(this._loading.next(this._loading.getValue()+"[Assets]"),(0,R._B)())),(0,f.M)(U=>this._loading.next(this._loading.getValue().replace(/\[Assets\]/g,""))),(0,b.t)(1)),this.asset_bookings=this._options.pipe((0,g.B)(300),(0,p.n)(({zone:U,date:G})=>(this._loading.next(this._loading.getValue()+"[Bookings]"),(0,m.tj)({zones:U||"",period_start:(0,v._)((0,O.o)(G)),period_end:(0,v._)((0,S.D)(G)),type:"asset-request"}))),(0,f.M)(U=>this._loading.next(this._loading.getValue().replace(/\[Bookings\]/g,""))),(0,b.t)(1)),this.available_groups=(0,n.zV)([this._options,this._org.active_building]).pipe((0,g.B)(300),(0,p.n)(([{zone:U,date:G,duration:J,ignore:te},ne])=>(0,R.LZ)({zones:ne.id||U||"",period_start:(0,v._)((0,P.c)(G)),period_end:(0,v._)((0,M.V)((0,w.z)(G,J||30))),type:"asset-request",rejected:!1},te).pipe((0,d.W)(()=>(0,l.of)([])))),(0,y.T)(U=>U.sort((G,J)=>G.name.localeCompare(J.name))),(0,f.M)(U=>(0,x.r)(U)),(0,b.t)(1)),this.category_list=this._org.active_building.pipe((0,p.n)(U=>(0,R.vt)({zone_id:U.id})),(0,y.T)(U=>U.sort((G,J)=>G.name.localeCompare(J.name))),(0,b.t)(1)),this.filtered_assets=(0,n.zV)([this._search,this._category,this.available_groups,this.rules]).pipe((0,y.T)(([U,G,J,te])=>{const ne=U.toLowerCase();return J.filter(k=>k.assets?.length&&(!G.length||G.includes(k.category_id))&&(k.name.toLowerCase().includes(ne)||k.description.toLowerCase().includes(ne))&&(0,_.WH)(k,te,this._options.getValue()))}),(0,b.t)(1)),this.settings=(0,n.zV)([this._org.active_building]).pipe((0,h.p)(([U])=>!!U),(0,p.n)(([U])=>(0,C.bpY)(U.id,"assets-settings").pipe((0,d.W)(G=>(0,l.of)({})))),(0,y.T)(U=>U.details||{}),(0,b.t)(1)),this.disabled_rooms=this.settings.pipe((0,y.T)(U=>U.disabled_rooms||[]))}setSearch($){this._search.next(`${$}`)}toggleCategory($){const U=this._category.getValue();U.includes($)?this._category.next(U.filter(G=>G!==$)):this._category.next([...U,$])}getOptions(){return this._options.getValue()}setOptions($){this._options.next({...this._options.value,...$})}static#e=this.\u0275fac=function(U){return new(U||B)(D.KVO(I.yb))};static#t=this.\u0275prov=D.jDH({token:B,factory:B.\u0275fac,providedIn:"root"})}return B})()},2615:(gt,re,o)=>{"use strict";o.d(re,{$z:()=>S,WH:()=>P});var e=o(9707),n=o(9255),l=o(3901),h=o(9824),g=o(5611),p=o(5006),f=o(3921),b=o(5157),d=o(4421);const O={};function S(M,w=!1){return M?((!O[M]||w)&&(O[M]=(0,b.bpY)(M,"assets_config").pipe((0,p.T)(x=>x.details instanceof Array?x.details:[]),(0,f.W)(x=>(0,d.of)([])))),O[M]):(0,d.of)([])}function P(M,w,x){const I=Date.now(),_=new Date(x.date),C=A=>M.name===A.name||M.category.name.includes(A.name)||x.resources.some(B=>B.zones.includes(A.name))||x.space?.zones.includes(A.name)||"*"===A.name,D=A=>A.rules.reduce((B,F)=>{switch(F[0]){case"is_before":return B+((0,n.Y)(I,(0,l.O)(_,F[1]))?1:0);case"within_hours":return B+((0,h.d)(I,(0,l.O)(_,F[1]))?1:0);case"after_hour":return B+((0,h.d)(_,(0,g.a)(_,F[1]))?1:0);case"before_hour":return B+((0,n.Y)(_,(0,g.a)(_,F[1]))?1:0);case"min_length":return B+(x.duration>=(0,e.II)(F[1])?1:0);case"max_length":return B+(x.duration<=(0,e.II)(F[1])?1:0);case"visitor_type":return B+(x.ext("visitor_type")===F[1]?1:0);default:return B+1}},0);for(const A of w)if(C(A)&&D(A)<A.rules.length)return!1;return!0}},5204:(gt,re,o)=>{"use strict";o.d(re,{LZ:()=>$e,RF:()=>te,_B:()=>K,en:()=>yt,vt:()=>x});var e=o(467),n=o(5157),l=o(8385),h=o(5006),g=o(9090),p=o(8841),f=o(4421),b=o(696),d=o(9714),y=o(5987),R=o(3601),m=o(4512),v=o(7926),O=o(5645),S=o(3857),P=o(9707),M=o(3747);const w="/api/engine/v2";function x(De={}){const V=(0,l.z)(De);return(0,n.JtY)(`${w}/asset_categories${V?"?"+V:""}`).pipe((0,h.T)(ue=>ue))}const F=new Map;function $(De={}){const V=(0,l.z)(De);return F.has(De.zones)?(0,f.of)(F.get(De.zones)):(0,n.JtY)(`${w}/asset_types${V?"?"+V:""}`).pipe((0,h.T)(ue=>ue),(0,g.n)(ue=>(0,b.p)(ue.map(Q=>K({limit:200,...De,type_id:Q.id}).pipe((0,h.T)(Te=>({...Q,assets:Te})))))),(0,p.M)(ue=>{F.set(De.zones,ue),setTimeout(()=>F.delete(De.zones),3e5)}))}function te(De){return(0,n.JtY)(`${w}/asset_types/${De}`).pipe((0,h.T)(V=>V))}function K(De={}){const V=(0,l.z)(De);return(0,n.JtY)(`${w}/assets${V?"?"+V:""}`).pipe((0,h.T)(ue=>ue))}function $e(De,V){return De.type="asset-request",(0,d.zV)([$(De),(0,O.tj)(De)]).pipe((0,h.T)(([ue,Q])=>(Q=Q.filter(Te=>"declined"!==Te.status&&"cancelled"!==Te.status),ue.map(Te=>({...Te,assets:Te.assets.filter(Je=>V?.includes(Je.id)||!Q.find(Nt=>!V.includes(Nt.id)&&(Nt.asset_id===Je.id||Nt.asset_ids?.includes(Je.id))))})))))}function yt(De,V){return Le.apply(this,arguments)}function Le(){return(Le=(0,e.A)(function*({id:De,ical_uid:V,from_booking:ue},{date:Q,duration:Te,all_day:Je,host:Nt,location_name:qt,location_id:hn,zones:wt,reset_state:Zt},ft=[],lt=!1){const Ft=yield(0,O.tj)({period_start:(0,y._)(Je?(0,R.o)(Q):Q),period_end:(0,y._)(Je?(0,m.D)((0,v.z)(Q,Te)):(0,v.z)(Q,Te)),type:"asset-request",zones:wt.join(",")}).toPromise(),Ct=De&&V?yield(0,O.tj)({period_start:(0,y._)((0,R.o)(Q)),period_end:(0,y._)((0,m.D)(Q)),type:"asset-request",email:Nt,event_id:ue?"":De,booking_id:ue?De:"",ical_uid:V}).toPromise():[],Wt=Ct.map(ae=>[ae.id,new M.Y(ae.extension_data.request)]);ft?.forEach(ae=>ae.conflict=!1);let en=lt?ft.map(ae=>ae.id):function Pt(De,V,ue=!1){if((!De||De?.length<=0)&&V?.length)return[];if(!V)return[];const Q=[];for(const Te of De){const Je=V.find(Nt=>Nt.id===Te.id);(!Je||Je.ref_id!==Te.ref_id)&&Q.push(Te.id)}return Q}(ft,Wt.map(([ae,ve])=>ve),Zt);if(Zt){const ae=Ct.filter(ve=>ve.approved||ve.rejected);en=(0,P.Am)([...en,...ae.map(ve=>ve.extension_data.request_id)])}const on=Wt.filter(([ae,ve])=>!en.includes(ve.id)),_n=Wt.filter(([ae,{id:ve}])=>en.includes(ve)),Sn=ft.filter(({id:ae})=>en.includes(ae)),Zn=Ft.filter(ae=>!ae.rejected&&(!Ct.find(ve=>ve.id===ae.id)||on.find(([ve])=>ae.event_id===ve)));let ut=(0,P.Bq)(Zn.map(ae=>ae.asset_ids));for(const[ae,ve]of on)ut=[...ut,...(0,P.Bq)(ve.items.map(ze=>ze.item_ids))];const be=yield $e({period_start:(0,y._)(Je?(0,R.o)(Q):Q),period_end:(0,y._)(Je?(0,m.D)((0,v.z)(Q,Te)):(0,v.z)(Q,Te)),type:"asset-request"},Ct.map(ae=>ae.id)).toPromise();console.log("Used IDs:",ut),console.log("Changed Assets:",Sn),console.log("Requests:",Ft),console.log("Bookings:",Ct),console.log("Filtered:",Zn),console.log("Unchanged:",on),console.log("Available Groups:",be);const Fe=Sn.map(ae=>{let ve=(0,P.Bq)(ae.items.map(({id:vt,item_ids:Ue,quantity:Pe})=>{const Ke=be.find(Ze=>Ze.id===vt)?.assets;if(!Ke)return Ue;const Ie=[];return new Array(Pe).fill(0).map((Ze,nt)=>{const Lt=ut.includes(Ue[nt])||Ie.includes(Ue[nt])||!Ue[nt]?Ke?.find(({id:jt})=>!ut.includes(jt)&&!Ie.includes(jt))?.id:Ue[nt];if(!Lt)throw ae.conflict=!0,"Unable to find available asset for request";return Ie.push(Lt),Lt})}));const ze=Ct.find(vt=>vt.asset_ids.find(Ue=>ae.items?.find(Pe=>Pe.item_ids.includes(Ue))));return ut=[...ut,...ve],(0,O.sH)(new S.Q({type:"asset-request",booking_type:"asset-request",date:Q,duration:Te,all_day:Je,description:qt,user_email:Nt,asset_id:ve[0],asset_ids:ve,asset_name:ae.items.map(vt=>vt.name).join(", "),title:ae.items.map(vt=>vt.name).join(", "),approved:!Zt&&ze?.approved&&!ae._changed,rejected:!Zt&&ze?.rejected&&!ae._changed,extension_data:{parent_id:De,request_id:ae.id,location_id:hn,request:new M.Y({...ae,event:null})},zones:wt||[]}),{ical_uid:V,event_id:ue?"":De})});return(0,e.A)(function*(){yield Promise.all(_n.map(([ae])=>(0,O.UN)(ae).toPromise())),yield Promise.all(Fe.map(ae=>ae.toPromise()))})})).apply(this,arguments)}},7915:(gt,re,o)=>{"use strict";o.d(re,{Qr:()=>l.Q,nx:()=>n.n,oZ:()=>w,ZM:()=>C.Z,$H:()=>x.$,wu:()=>D.w,SG:()=>e.S,Z$:()=>g.Z$,Jm:()=>h.Jm,tj:()=>g.tj,vB:()=>g.vB,UN:()=>g.UN,DO:()=>g.DO});var e=o(8742),n=o(8379),l=o(3857),h=o(7141),g=o(5645),p=o(467),f=o(9707),b=o(5987),d=o(3601),y=o(4512),R=o(4046),m=o(5006),v=o(8026),O=o(3367),S=o(7254),P=o(3953),M=o(4006);let w=(()=>{class A{constructor(F,$){this._org=F,this._dialog=$,this.can_set_date=!0,this.error_on_host=!0}bookDesk({desks:F,host:$,reason:U,attendees:G,date:J}){var te=this;return(0,p.A)(function*(){if(te.error_on_host&&!$)return(0,f.UG)("You need to select a host to book a desk.");$=$||(0,f.Ny)(),U=U||"";const ne=te._org.levelWithID(F[0].zone instanceof Array?F[0].zone:[F[0].zone?.id]);let K=te._dialog.open(S.b),k=yield Promise.race([K.componentInstance.event.pipe((0,R.$)(ce=>"done"===ce.reason)).toPromise(),K.afterClosed().pipe((0,m.T)(ce=>null)).toPromise()]);if(!k||(K.close(),K=te._dialog.open(O.I,{data:{host:$,desks:F,date:J?new Date(J):new Date,reason:U,level:ne,can_set_date:te.can_set_date}}),k=yield Promise.race([K.componentInstance.event.pipe((0,R.$)(ce=>"done"===ce.reason)).toPromise(),K.afterClosed().pipe((0,m.T)(ce=>null)).toPromise()]),!k))return;if(J=K.componentInstance.date||J,U=K.componentInstance.reason||U,!($=K.componentInstance.host||$))return K.close(),(0,f.UG)("You need to select a host to book a desk. ");if(K.componentInstance.loading="Checking for existing desk bookings...",(yield(0,g.tj)({type:"desk",period_start:(0,b._)((0,d.o)(J||new Date)),period_end:(0,b._)((0,y.D)(J||new Date))}).toPromise()).filter(ce=>ce.user_email.toLowerCase()===$.email.toLowerCase())?.length)return K.close(),(0,f.UG)("You currently already have a desk booked for the selected date.");K.componentInstance.loading="Booking desk...";const ie=[$,...G||[]];return yield Promise.all([F.map((ce,oe)=>te.makeDeskBooking(ce,$,J.valueOf()||(new Date).valueOf(),U,ie[oe]))]),(0,f.VX)("Successfully booked desk"),K.close(),!0})()}makeDeskBooking(F,$,U,G,J=null){var te=this;return(0,p.A)(function*(){const ne=`${F.zone?.name}-${F.id}`,K=te._org.levelWithID(F.zone instanceof Array?F.zone:[F.zone?.id]),k=F.zone?.id?[F.zone?.id,K?.parent_id]:[K?.parent_id],j={booking_start:(0,b._)((0,d.o)(U)),user_id:J?.id||$.id,user_name:J?.name||$.name,user_email:J?.email||$.email,booking_end:Math.floor((0,y.D)(U).valueOf()/1e3),asset_id:F.id,asset_name:F.name,title:G,description:ne,zones:k,booking_type:"desk",extension_data:{map_id:F?.map_id||F?.id,groups:F.groups,for_user:J?.email}};return(0,g.X0)(j).toPromise()})()}static#e=this.\u0275fac=function($){return new($||A)(P.KVO(v.y),P.KVO(M.bZ))};static#t=this.\u0275prov=P.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})();var x=o(8796),C=(o(1781),o(7547),o(7642)),D=o(1593)},7547:(gt,re,o)=>{"use strict";o.d(re,{F:()=>J});var e=o(3953),n=o(9707),l=o(5818),h=o(4361),g=o(7926),p=o(2659),f=o(5006),d=(o(3857),o(1781)),y=o(5354),R=o(8026),m=o(1593),v=o(5713),O=o(4006),S=o(2091),P=o(177),M=o(9434),w=o(907);const x=()=>["./"],I=te=>({booking:te});function _(te,ne){if(1&te&&(e.j41(0,"span",6),e.EFF(1),e.k0s()),2&te){const K=e.XpG(2);e.R7$(),e.SpI("",K.day,",\xa0")}}function C(te,ne){if(1&te&&(e.j41(0,"h4",3),e.DNE(1,_,2,1,"span",4),e.EFF(2),e.nI1(3,"date"),e.j41(4,"span",5),e.EFF(5),e.nI1(6,"date"),e.k0s()()),2&te){const K=e.XpG();e.R7$(),e.Y8G("ngIf",K.show_day),e.R7$(),e.SpI(" ",e.i5U(3,3,null==K.booking?null:K.booking.date,K.time_format)," "),e.R7$(3),e.SpI("(",e.i5U(6,6,null==K.booking?null:K.booking.date,"z"),")")}}function D(te,ne){if(1&te&&(e.j41(0,"app-icon"),e.EFF(1),e.k0s()),2&te){const K=e.XpG(2);e.R7$(),e.JRh(K.type)}}function A(te,ne){if(1&te&&(e.j41(0,"div",19)(1,"app-icon"),e.EFF(2,"place"),e.k0s(),e.j41(3,"div",20),e.EFF(4),e.k0s()()),2&te){const K=e.XpG(2);e.R7$(4),e.JRh(K.location)}}function B(te,ne){1&te&&(e.j41(0,"div",21),e.EFF(1," Associate "),e.k0s())}function F(te,ne){1&te&&(e.j41(0,"div",21),e.EFF(1," Event "),e.k0s())}function $(te,ne){if(1&te&&(e.j41(0,"div",21),e.EFF(1),e.k0s()),2&te){const K=e.XpG(2);e.R7$(),e.SpI(" ","cancelled"!==K.booking.status?"RESERVED":"RELEASED"," ")}}function U(te,ne){if(1&te){const K=e.RV6();e.j41(0,"a",7),e.bIt("click",function(){e.eBV(K);const j=e.XpG();return e.Njj(j.viewDetails())}),e.j41(1,"div",8)(2,"h4",9),e.EFF(3),e.k0s(),e.j41(4,"div",10)(5,"status-pill",11),e.EFF(6),e.k0s()(),e.j41(7,"div",12)(8,"div",13),e.DNE(9,D,2,1,"app-icon",14),e.j41(10,"div",15),e.EFF(11),e.k0s()(),e.DNE(12,A,5,1,"div",16),e.k0s(),e.j41(13,"app-icon",17),e.EFF(14," chevron_right "),e.k0s(),e.DNE(15,B,2,0,"div",18)(16,F,2,0,"div",18)(17,$,2,1,"div",18),e.nI1(18,"async"),e.k0s()()}if(2&te){const K=e.XpG(),k=e.sdS(3);e.Y8G("routerLink",e.lJ4(14,x))("queryParams",e.eq3(15,I,null==K.booking?null:K.booking.id)),e.R7$(3),e.JRh(null==K.booking?null:K.booking.title),e.R7$(2),e.Y8G("status",K.status),e.R7$(),e.JRh(K.period),e.R7$(3),e.Y8G("ngIf","desk"!==K.type)("ngIfElse",k),e.R7$(2),e.SpI(" ",K.raw_description||(null==K.booking?null:K.booking.asset_id)," "),e.R7$(),e.Y8G("ngIf",K.location),e.R7$(3),e.Y8G("ngIf",!K.for_current_user&&"group-event"!==(null==K.booking?null:K.booking.booking_type)),e.R7$(),e.Y8G("ngIf","group-event"===(null==K.booking?null:K.booking.booking_type)),e.R7$(),e.Y8G("ngIf",e.bMT(18,12,K.is_reserved_parking_space))}}function G(te,ne){1&te&&e.nrm(0,"img",22)}let J=(()=>{class te extends y.T{get for_current_user(){return this.booking?.user_email.toLowerCase()===(0,n.Ny)()?.email.toLowerCase()}get time_format(){return this._settings.time_format}get status(){return this.booking?.is_done?"neutral":"approved"===this.booking?.status?"success":"declined"===this.booking?.status||"cancelled"===this.booking?.status?"error":"warning"}constructor(K,k,j,W,ie){super(),this._dialog=K,this._route=k,this._org=j,this._settings=W,this._parking=ie,this.show_day=!1,this.edit=new e.bkB,this.remove=new e.bkB,this.end=new e.bkB,this.raw_description="",this.is_reserved_parking_space=this._parking.assigned_space.pipe((0,f.T)(ce=>"parking"===this.booking.booking_type&&ce&&this.booking.asset_id===ce.id))}ngOnInit(){this.subscription("route.query",this._route.queryParamMap.subscribe(K=>K.has("booking")&&this.booking?.id===K.get("event")?this.viewDetails():""))}ngOnChanges(K){K.booking&&(this.raw_description=this.removeHtmlTags(this.booking?.description))}get type(){return"desk"===this.booking?.type?"desk":"parking"===this.booking?.type?"drive_eta":"book"}get day(){const K=this.booking?.date||Date.now();return`${(0,l.r)(Date.now(),K)?"Today":(0,h.GP)(K,"EEEE")}`}get location(){const K=this._org.levelWithID(this.booking?.zones||[]);return`${K?.display_name||K?.name||""}`}get period(){if(this.booking?.is_all_day)return"All Day";const K=this.booking?.date||Date.now(),k=this.booking?.duration||60,j=(0,g.z)(K,k),W=(0,p.a)({hours:Math.floor(k/60),minutes:k%60}).replace(" hour","hr").replace(" minute","min");return`${(0,h.GP)(K,this.time_format)} - ${(0,h.GP)(j,this.time_format)} (${W})`}removeHtmlTags(K){return(new DOMParser).parseFromString(K,"text/html").body.textContent||""}viewDetails(){this.booking&&this.timeout("open",()=>{const j=this._dialog.open("group-event"===this.booking.booking_type?v.E:d.W,{data:"group-event"===this.booking.booking_type?{booking:this.booking,concierge:!1}:this.booking});this.subscription("edit",j.componentInstance.edit?.subscribe(()=>this.edit.emit())),this.subscription("remove",j.componentInstance.remove?.subscribe(()=>this.remove.emit())),this.subscription("end",j.componentInstance.end?.subscribe(()=>this.end.emit()))})}static#e=this.\u0275fac=function(k){return new(k||te)(e.rXU(O.bZ),e.rXU(S.nX),e.rXU(R.y),e.rXU(n.h$),e.rXU(m.w))};static#t=this.\u0275cmp=e.VBU({type:te,selectors:[["booking-card"]],inputs:{booking:"booking",show_day:"show_day"},outputs:{edit:"edit",remove:"remove",end:"end"},features:[e.Vt3,e.OA$],decls:4,vars:2,consts:[["desk_icon",""],["class","mb-2 flex items-center",4,"ngIf"],["name","view-booking-details","class","w-full cursor-pointer overflow-hidden relative",3,"routerLink","queryParams","click",4,"ngIf"],[1,"mb-2","flex","items-center"],["day","",4,"ngIf"],[1,"text-xs","px-2"],["day",""],["name","view-booking-details",1,"w-full","cursor-pointer","overflow-hidden","relative",3,"click","routerLink","queryParams"],[1,"w-full","bg-base-100","border","border-base-300","rounded-xl","shadow","py-4","relative"],[1,"px-4","text-lg"],[1,"flex","mx-4","my-2"],[3,"status"],[1,"flex","flex-wrap","flex-col","sm:flex-row","sm:divide-x","divide-base-200-500","py-2","space-y-2","sm:space-y-0"],[1,"flex","items-center","px-4","max-w-[33%]"],[4,"ngIf","ngIfElse"],[1,"mx-2","truncate","flex-1","w-1/2"],["class","flex items-center px-4",4,"ngIf"],[1,"absolute","top-1/2","right-1","text-4xl","-translate-y-1/2"],["class","absolute top-2 right-2 bg-warning/50 rounded-xl px-2 py-1 text-xs",4,"ngIf"],[1,"flex","items-center","px-4"],[1,"mx-2","truncate"],[1,"absolute","top-2","right-2","bg-warning/50","rounded-xl","px-2","py-1","text-xs"],["src","assets/icons/desk-outline.svg",1,"w-5","h-5"]],template:function(k,j){1&k&&e.DNE(0,C,7,9,"h4",1)(1,U,19,17,"a",2)(2,G,1,0,"ng-template",null,0,e.C5r),2&k&&(e.Y8G("ngIf",j.booking),e.R7$(),e.Y8G("ngIf",j.booking))},dependencies:[P.bT,M.R,w.F,P.Jj,P.vh],styles:["[_nghost-%COMP%]{display:block;width:100%;position:relative}"]})}return te})()},1781:(gt,re,o)=>{"use strict";o.d(re,{W:()=>ce});var e=o(467),n=o(3953),l=o(4006),h=o(9707),g=o(7926),p=o(2659),f=o(4361),b=o(620),d=o(1865),y=o(8026),m=(o(3857),o(5645)),v=o(7904),O=o(177),S=o(9183),P=o(9434),M=o(4918),w=o(5277),x=o(907),I=o(9115),_=o(6600),C=o(4823);const D=()=>({disable_pan:!0,disable_zoom:!0});function A(oe,me){1&oe&&n.nrm(0,"div",27)}function B(oe,me){if(1&oe&&(n.j41(0,"div",28),n.nrm(1,"image-carousel",29),n.k0s()),2&oe){const he=n.XpG();n.R7$(),n.Y8G("images",null==he.booking||null==he.booking.extension_data?null:he.booking.extension_data.images)}}function F(oe,me){if(1&oe&&(n.j41(0,"div",35)(1,"app-icon"),n.EFF(2),n.k0s(),n.j41(3,"div",36),n.EFF(4),n.k0s()()),2&oe){const he=n.XpG(3);n.R7$(2),n.JRh(he.booking.checked_in?"done":"arrow_back"),n.R7$(2),n.SpI(" ",he.booking.checked_in?"Checked in":"Check in"," ")}}function $(oe,me){1&oe&&n.nrm(0,"mat-spinner",37),2&oe&&n.Y8G("diameter",32)}function U(oe,me){if(1&oe){const he=n.RV6();n.j41(0,"button",33),n.bIt("click",function(){n.eBV(he);const we=n.XpG(2);return n.Njj(we.toggleCheckedIn())}),n.DNE(1,F,5,2,"div",34)(2,$,1,1,"ng-template",null,1,n.C5r),n.k0s()}if(2&oe){const he=n.sdS(3),Oe=n.XpG(2);n.AVh("bg-success",Oe.booking.checked_in),n.Y8G("disabled",Oe.checking_in),n.R7$(),n.Y8G("ngIf",!Oe.checking_in)("ngIfElse",he)}}function G(oe,me){if(1&oe&&(n.j41(0,"div",30),n.DNE(1,U,4,5,"button",31),n.j41(2,"button",32)(3,"app-icon"),n.EFF(4,"more_horiz"),n.k0s()()()),2&oe){const he=n.XpG(),Oe=n.sdS(43);n.R7$(),n.Y8G("ngIf",!(he.booking.checked_out_at||he.checked_out||he.auto_checkin||"upcoming"!==he.booking.state&&"in_progress"!==he.booking.state)),n.R7$(),n.Y8G("matMenuTriggerFor",Oe)}}function J(oe,me){if(1&oe&&(n.j41(0,"div",51)(1,"div",52)(2,"span",45),n.EFF(3),n.k0s()(),n.j41(4,"div",53),n.EFF(5),n.k0s()()),2&oe){const he=me.$implicit;n.R7$(3),n.JRh(he.name||"Item"),n.R7$(2),n.SpI(" x",he.quantity," ")}}function te(oe,me){if(1&oe){const he=n.RV6();n.j41(0,"div",42)(1,"button",43),n.bIt("click",function(){const we=n.eBV(he).$implicit,We=n.XpG(2);return n.Njj(We.show_request[we.id]=!We.show_request[we.id])}),n.j41(2,"div",44)(3,"div",45),n.EFF(4),n.nI1(5,"date"),n.k0s()(),n.j41(6,"div",46)(7,"app-icon"),n.EFF(8),n.k0s()(),n.j41(9,"div",47)(10,"app-icon",48),n.EFF(11),n.k0s()()(),n.j41(12,"div",49),n.DNE(13,J,6,2,"div",50),n.k0s()()}if(2&oe){const he=me.$implicit,Oe=n.XpG(2);n.R7$(4),n.SpI(" Requested for ",n.i5U(5,18,he.deliver_at,"MMM d, "+Oe.time_format)," "),n.R7$(2),n.AVh("bg-success","approved"===he.state)("text-success-content","approved"===he.state)("bg-warning","approved"!==he.state&&"rejected"!==he.state)("text-warning-content","approved"!==he.state&&"rejected"!==he.state)("bg-error","rejected"===he.state)("text-error-content","rejected"===he.state),n.Y8G("matTooltip",he.state||"Tentative"),n.R7$(2),n.SpI(" ","approved"===he.state?"done":"rejected"===he.state?"close":"schedule"," "),n.R7$(3),n.SpI(" ",Oe.show_request[he.id]?"expand_less":"expand_more"," "),n.R7$(),n.Y8G("@show",Oe.show_request[he.id]?"show":"hide"),n.R7$(),n.Y8G("ngForOf",he.items)}}function ne(oe,me){if(1&oe&&(n.qex(0),n.j41(1,"div",38)(2,"h3",39),n.pXf(3,3),n.k0s(),n.j41(4,"div",40),n.DNE(5,te,14,21,"div",41),n.k0s()(),n.bVm()),2&oe){const he=n.XpG();n.R7$(3),n.uP7((null==he.booking.valid_assets?null:he.booking.valid_assets.length)||0),n.nnv(3),n.R7$(2),n.Y8G("ngForOf",he.booking.valid_assets)}}function K(oe,me){if(1&oe&&(n.qex(0),n.nrm(1,"interactive-map",54),n.bVm()),2&oe){const he=n.XpG();n.R7$(),n.Y8G("src",null==he.level?null:he.level.map_id)("features",he.features)("options",n.lJ4(3,D))}}function k(oe,me){if(1&oe){const he=n.RV6();n.j41(0,"button",55),n.bIt("click",function(){n.eBV(he);const we=n.XpG();return n.Njj(we.edit.emit())}),n.j41(1,"div",56)(2,"app-icon"),n.EFF(3,"edit"),n.k0s(),n.j41(4,"div"),n.pXf(5,4),n.k0s()()()}}function j(oe,me){if(1&oe){const he=n.RV6();n.j41(0,"button",57),n.bIt("click",function(){n.eBV(he);const we=n.XpG();return n.Njj(we.setDeskHeight())}),n.j41(1,"div",56)(2,"app-icon",58),n.EFF(3," height "),n.k0s(),n.j41(4,"div"),n.pXf(5,5),n.k0s()()()}}function W(oe,me){if(1&oe){const he=n.RV6();n.j41(0,"button",57),n.bIt("click",function(){n.eBV(he);const we=n.XpG();return n.Njj(we.remove.emit())}),n.j41(1,"div",56)(2,"app-icon",59),n.EFF(3,"delete"),n.k0s(),n.j41(4,"div"),n.pXf(5,6),n.k0s()()()}}function ie(oe,me){if(1&oe){const he=n.RV6();n.j41(0,"button",57),n.bIt("click",function(){n.eBV(he);const we=n.XpG();return n.Njj(we.end.emit())}),n.j41(1,"div",56)(2,"app-icon",59),n.EFF(3,"delete"),n.k0s(),n.j41(4,"div"),n.pXf(5,7),n.k0s()()()}}let ce=(()=>{class oe{get level(){return this._org.levelWithID(this.booking?.zones||[])}get building(){const he=this._org.buildings.find(Oe=>(this.booking?.zones||[]).includes(Oe.id));if(this._settings.get("app.use_region")){const Oe=this._org.regions.find(we=>(this.booking?.zones||[]).includes(we.id)||we.id===he?.parent_id);if(Oe)return Oe}return he}get can_edit(){return"visitor"!==this.booking.booking_type&&"parking"!==this.booking.booking_type}get auto_checkin(){return this._settings.get(`app.${this.booking?.type||"bookings"}.auto_checkin`)}get is_checked_in(){return this.booking.checked_in}get desk_height_enabled(){return"desk"===this.booking?.type&&this._settings.get("app.desks.height_enabled")}get is_in_progress(){const he=Date.now(),Oe=1e3*this.booking?.booking_start,we=1e3*this.booking?.booking_end;return this.booking?.all_day?Oe<=he:Oe<=he&&he<=we}get time_format(){return this._settings.time_format}get booking_status(){return this.booking?.is_done?"neutral":"approved"===this.booking?.status?"success":"declined"===this.booking?.status?"error":"warning"}constructor(he,Oe,we,We){this._booking=he,this._settings=Oe,this._org=we,this._dialog=We,this.edit=new n.bkB,this.remove=new n.bkB,this.end=new n.bkB,this.booking=this._booking,this.hide_map=!1,this.checked_out=!1,this.checking_in=!1,this.features=[{location:this.booking?.asset_id,content:d.V}],this.has_assets=!!this.booking?.linked_bookings?.find(Xe=>"asset-request"===Xe.booking_type),console.log("Building",this.building,this._settings.get("app.use_region"))}get period(){if(this.booking?.is_all_day)return"All Day";const he=this.booking?.date||Date.now(),Oe=this.booking?.duration||60,we=(0,g.z)(he,Oe),We=(0,p.a)({hours:Math.floor(Oe/60),minutes:Oe%60}).replace(" hour","hr").replace(" minute","min");return`${(0,f.GP)(he,this.time_format)} - ${(0,f.GP)(we,this.time_format)} (${We})`}toggleCheckedIn(){var he=this;return(0,e.A)(function*(){he.checking_in=!0,yield(0,m.Z$)(he.booking.id,!he.booking.checked_in).toPromise().catch(Oe=>{throw(0,h.UG)("Error checking in booking"),he.checking_in=!1,Oe}),he.booking.checked_in=!he.booking.checked_in,he.checked_out=!he.booking.checked_in,(0,h.VX)("Successfully "+(he.booking.checked_in?"checked in":"ended booking")),he.checking_in=!1})()}status(he){const Oe=this.booking.linked_bookings.find(we=>we.asset_id===he);return Oe.status?Oe.status:Oe?Oe.approved?"approved":Oe.rejected?"rejected":"pending":"pending"}viewLocation(){this.hide_map=!0,this._dialog.open(b.V,{maxWidth:"95vw",maxHeight:"95vh",data:{item:{id:this._booking.asset_id,name:this._booking.asset_name,map_id:this._booking.extension_data.map_id||this.booking.asset_id,level:this.level}}}).afterClosed().subscribe(()=>this.hide_map=!1)}setDeskHeight(){this._dialog.open(v.R,{data:{id:this.booking.asset_ids[0]||this.booking.asset_id}})}static#e=this.\u0275fac=function(Oe){return new(Oe||oe)(n.rXU(l.Vh),n.rXU(h.h$),n.rXU(y.y),n.rXU(l.bZ))};static#t=this.\u0275cmp=n.VBU({type:oe,selectors:[["booking-details-modal"]],outputs:{edit:"edit",remove:"remove",end:"end"},decls:48,vars:23,consts:()=>{let he,Oe,we,We,Xe,Me;return he=$localize`:␟2c8ce65c566300dc9063f69c615fda2e3a6b896a␟2102851380219026584: Details `,Oe=$localize`:␟9e3da900d415898c8ff7b522c5eecccfe4de018e␟31749697777503671: Assets (${"\ufffd0\ufffd"}:INTERPOLATION:) `,we=$localize`:␟53f264e5fad94a425174c18cf299eeac7482f258␟1612171114840935381:Edit booking`,We=$localize`:␟35729dbbde462f39a391c9abc24a3f79eebfba7a␟7190557592686051728:Set Desk Height`,Xe=$localize`:␟55883ef2b67c24d30f999a5ade421493fdc9e14a␟1139994899162365077:Delete booking`,Me=$localize`:␟2f3dfd27ad1999e91bb66ad271f967d6e543956f␟834898868131691573:End booking`,[["menu","matMenu"],["loading_state",""],he,Oe,we,We,Xe,Me,[1,"w-[100vw]","h-[100vh]","sm:relative","sm:inset-auto","sm:w-[51rem]","sm:h-auto","sm:max-h-[80vh]","bg-base-100","sm:bg-base-200","sm:dark:bg-neutral-600","sm:rounded","overflow-auto","space-y-2","pb-2"],[1,"sm:flex","flex-col","items-center","pb-4","max-h-screen","sm:max-h-[80vh]","sm:px-16","sm:border-b","bg-base-100","border-base-200"],["class","h-8 w-full sm:hidden block",4,"ngIf"],["class","bg-neutral w-full h-64 sm:rounded-b overflow-hidden",4,"ngIf"],["title","",1,"px-3","mt-2","text-xl","font-medium","w-full"],[1,"sm:flex","items-center","justify-between","w-full"],[1,"flex","m-2"],[3,"status"],["actions","","class","flex items-center space-x-2 px-2",4,"ngIf"],[1,"sm:flex","flex-wrap","sm:px-12"],[1,"sm:p-4","sm:bg-base-100","sm:dark:bg-neutral-700","rounded","sm:m-2","sm:border","border-base-200","flex-grow-[4]","min-w-1/3","sm:w-[16rem]"],[1,"px-3","mt-2","text-lg","font-medium","mb-2"],[1,"flex","items-center","px-2","space-x-2"],[4,"ngIf"],["map","",1,"mt-4","sm:my-2","h-64","sm:h-48","relative","border","border-base-200","overflow-hidden","rounded","sm:bg-base-100","m-2","flex-grow-[3]","min-w-1/3","w-[calc(100%-1rem)]","p-2","sm:w-[16rem]",3,"click"],["icon","","matRipple","","mat-dialog-close","",1,"absolute","top-0","left-2","bg-neutral","text-white"],["xPosition","before"],["mat-menu-item","","mat-dialog-close","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click",4,"ngIf"],[1,"h-8","w-full","sm:hidden","block"],[1,"bg-neutral","w-full","h-64","sm:rounded-b","overflow-hidden"],[1,"w-full","h-64",3,"images"],["actions","",1,"flex","items-center","space-x-2","px-2"],["btn","","matRipple","","class","flex-1 h-10 border-none",3,"bg-success","disabled","click",4,"ngIf"],["icon","","matRipple","",1,"bg-secondary","rounded","text-white","h-10","w-10",3,"matMenuTriggerFor"],["btn","","matRipple","",1,"flex-1","h-10","border-none",3,"click","disabled"],["class","flex items-center space-x-2 justify-center",4,"ngIf","ngIfElse"],[1,"flex","items-center","space-x-2","justify-center"],[1,"mr-4"],[1,"mx-auto",3,"diameter"],[1,"mt-4","sm:p-4","sm:bg-base-100","sm:dark:bg-neutral-700","rounded","sm:m-2","sm:border","border-base-200","flex-grow-[3]","min-w-1/3","sm:w-[16rem]"],[1,"mx-3","pt-2","text-lg","font-medium"],[1,"flex","flex-col","space-y-2"],["request","","class","border border-base-300 bg-base-100 rounded-xl overflow-hidden",4,"ngFor","ngForOf"],["request","",1,"border","border-base-300","bg-base-100","rounded-xl","overflow-hidden"],["matRipple","",1,"flex","items-center","space-x-2","p-3","w-full",3,"click"],[1,"flex-1","text-left"],[1,"text-sm"],[1,"flex","items-center","justify-center","rounded-full","w-8","h-8",3,"matTooltip"],[1,"flex","items-center","justify-center","rounded-full","w-8","h-8"],[1,"text-2xl"],[1,"flex","flex-col","bg-base-200","divide-y","divide-base-100"],["class","flex items-center px-3 py-1 space-x-2 hover:opacity-90",4,"ngFor","ngForOf"],[1,"flex","items-center","px-3","py-1","space-x-2","hover:opacity-90"],[1,"flex","items-center","flex-1"],[1,"rounded","bg-success","text-success-content","text-xs","px-2","py-1"],[1,"pointer-events-none",3,"src","features","options"],["mat-menu-item","","mat-dialog-close","",3,"click"],[1,"flex","items-center","space-x-2","text-base"],["mat-menu-item","",3,"click"],["className","material-symbols-rounded"],[1,"text-error"]]},template:function(Oe,we){if(1&Oe){const We=n.RV6();n.j41(0,"div",8)(1,"div",9),n.DNE(2,A,1,0,"div",10)(3,B,2,1,"div",11),n.j41(4,"h3",12),n.EFF(5),n.k0s(),n.j41(6,"div",13)(7,"div",14)(8,"status-pill",15),n.EFF(9),n.k0s()(),n.DNE(10,G,5,2,"div",16),n.k0s()(),n.j41(11,"div",17)(12,"div",18)(13,"h3",19),n.pXf(14,2),n.k0s(),n.j41(15,"div",20)(16,"app-icon"),n.EFF(17,"event"),n.k0s(),n.j41(18,"div"),n.EFF(19),n.nI1(20,"date"),n.k0s()(),n.j41(21,"div",20)(22,"app-icon"),n.EFF(23,"schedule"),n.k0s(),n.j41(24,"div"),n.EFF(25),n.k0s()(),n.j41(26,"div",20)(27,"app-icon"),n.EFF(28,"map"),n.k0s(),n.j41(29,"div"),n.EFF(30),n.k0s()(),n.j41(31,"div",20)(32,"app-icon"),n.EFF(33,"place"),n.k0s(),n.j41(34,"div"),n.EFF(35),n.k0s()()(),n.DNE(36,ne,6,2,"ng-container",21),n.j41(37,"button",22),n.bIt("click",function(){return n.eBV(We),n.Njj(we.viewLocation())}),n.DNE(38,K,2,4,"ng-container",21),n.k0s()(),n.j41(39,"button",23)(40,"app-icon"),n.EFF(41,"close"),n.k0s()()(),n.j41(42,"mat-menu",24,0),n.DNE(44,k,6,0,"button",25)(45,j,6,0,"button",26)(46,W,6,0,"button",26)(47,ie,6,0,"button",26),n.k0s()}2&Oe&&(n.R7$(2),n.Y8G("ngIf",!(null!=we.booking&&null!=we.booking.extension_data&&null!=we.booking.extension_data.images&&we.booking.extension_data.images.length)),n.R7$(),n.Y8G("ngIf",null==we.booking||null==we.booking.extension_data||null==we.booking.extension_data.images?null:we.booking.extension_data.images.length),n.R7$(),n.AVh("pt-4",!(null!=we.booking&&null!=we.booking.extension_data&&we.booking.extension_data.images)),n.R7$(),n.SpI(" ",we.booking.title," "),n.R7$(3),n.Y8G("status",we.booking_status),n.R7$(),n.SpI(" ",we.period," "),n.R7$(),n.Y8G("ngIf",!we.booking.is_done),n.R7$(9),n.JRh(n.i5U(20,20,we.booking.date,"EEEE, dd LLLL y")),n.R7$(6),n.JRh(we.period),n.R7$(5),n.Lme(" ",(null==we.level?null:we.level.display_name)||(null==we.level?null:we.level.name),", ",we.booking.asset_name||we.booking.asset_id," "),n.R7$(5),n.Lme(" ",(null==we.building?null:we.building.display_name)||(null==we.building?null:we.building.name)," ",null!=we.building&&we.building.address?", "+we.building.address:""," "),n.R7$(),n.Y8G("ngIf",we.has_assets),n.R7$(2),n.Y8G("ngIf",!we.hide_map),n.R7$(6),n.Y8G("ngIf",we.can_edit),n.R7$(),n.Y8G("ngIf",we.is_checked_in&&we.desk_height_enabled),n.R7$(),n.Y8G("ngIf",!we.is_in_progress),n.R7$(),n.Y8G("ngIf",we.is_in_progress))},dependencies:[O.Sq,O.bT,l.tx,S.LG,P.R,M.S,w.H,x.F,I.kk,I.fb,I.Cp,_.r6,C.oV,O.vh]})}return oe})()},8379:(gt,re,o)=>{"use strict";o.d(re,{n:()=>ie});var e=o(467),n=o(2091),l=o(9707),h=o(5157),g=o(3601),p=o(5987),f=o(7926),b=o(4361),d=o(9928),y=o(9714),R=o(4421),m=o(4670),v=o(6651),O=o(696),S=o(8712),P=o(1713),M=o(3020),w=o(9090),x=o(8841),I=o(5006),_=o(8728),C=o(3921),D=o(4046),A=o(9493),B=o(8026),F=o(3857),$=o(7141),U=o(5645),G=o(7254),J=o(4525),te=o(4089),ne=o(5204),K=o(6088),k=o(3953),j=o(4006);const W=["desk","parking","locker","catering"];let ie=(()=>{class ce extends l.Tv{get view(){return this._view.getValue()}get booking(){return this._booking.getValue()}resourceUserName(me){return this._resource_use[me]}newForm(me=new F.Q({all_day:this._settings.get("app.bookings.all_day_default")})){this.form.reset(),this.form.patchValue((0,h.jv5)({...me,...me.extension_data},[null,void 0,""])),this.subscription("form_change",this.form.valueChanges.subscribe(()=>{const{date:he,duration:Oe}=this.form.getRawValue();this._assets.setOptions({date:he,duration:Oe}),this.storeForm()})),this.timeout("date",()=>{this.form.patchValue({date:me.date,duration:me.duration})}),this._booking.next(new F.Q(me)),this._options.next({type:this._options.getValue().type})}constructor(me,he,Oe,we,We,Xe){super(),this._router=me,this._settings=he,this._org=Oe,this._dialog=we,this._payments=We,this._assets=Xe,this._view=new d.t("form"),this._options=new d.t({type:"desk"}),this._booking=new d.t(null),this._resource_use={},this._loading=new d.t(""),this.last_success=new F.Q(JSON.parse(sessionStorage.getItem("PLACEOS.last_booked_booking")||"{}")),this.loading=this._loading.asObservable(),this.options=this._options.pipe((0,S.t)(1)),this.form=(0,$.Rr)(),this.resources=(0,y.zV)([this._org.active_building,this.options.pipe((0,P.w)("type"))]).pipe((0,M.B)(300),(0,w.n)(([Me,{type:ge}])=>{if(!Me)return(0,R.of)([]);switch(ge){case"desk":return this._loading.next("Loading desks..."),this.loadResourceList("desks");case"parking":return this._loading.next("Loading parking spaces..."),this.loadResourceList("parking-spaces");case"locker":return this._loading.next("Loading lockers..."),this.loadResourceList("lockers")}return(0,R.of)([])}),(0,x.M)(()=>this._loading.next("")),(0,S.t)(1)),this.features=this.resources.pipe((0,I.T)(Me=>{const ge=[];for(const{features:pe}of Me)pe instanceof Array&&pe.forEach(Ee=>ge.push(Ee));return(0,l.Am)(ge).sort((pe,Ee)=>pe.localeCompare(Ee))}),(0,S.t)(1)),this.booking_rules=(0,y.zV)([this._org.building_list,this._options]).pipe((0,w.n)(([Me,{type:ge}])=>Promise.all(Me.map(pe=>(0,h.bpY)(pe.id,`${ge}_booking_rules`).toPromise()))),(0,I.T)(Me=>{const ge={};for(const pe of Me)ge[pe.id]=pe.details instanceof Array?pe.details:[];return ge}),(0,S.t)(1)),this.available_resources=(0,y.zV)([this.options,this.resources,this.booking_rules,(0,m.h)(this.form.get("date").valueChanges,(0,v.O)(1e3)),(0,m.h)(this.form.get("duration").valueChanges,(0,v.O)(1e3))]).pipe((0,_.p)(()=>this.form.getRawValue().date>0&&this.form.getRawValue().duration>0),(0,M.B)(500),(0,x.M)(([{type:Me}])=>this._loading.next(`Checking ${Me} availability...`)),(0,w.n)(([Me,ge,pe])=>{var{all_day:Ee,date:Ge,duration:Qe,user:$e}=this.form.getRawValue();return Ee&&(Ge=(0,g.o)(Ge).valueOf(),Qe=1439),(0,U.$F)({period_start:(0,p._)(Ge),period_end:(0,p._)((0,f.z)(Ge,Qe)),type:Me.type,zones:Me.zone_id||this._org.building?.id||this._org.organisation.id}).pipe((0,I.T)(tt=>{const xt=this.form.getRawValue().date;(0,f.z)(xt,this.form.getRawValue().duration).valueOf(),this._resource_use={};for(const Le of tt)this._resource_use[Le]=" ";return ge.filter(Le=>!(0,l.RH)({date:Ge,duration:Qe,resource:Le,host:$e||(0,l.Ny)()},pe[Le.zone?.id]||pe[Le.zone?.parent_id]||pe[this._org.building.id]||[]).hidden&&(!Le.groups?.length||Le.groups.some(V=>(0,l.Ny)().groups.includes(V)))&&!1!==Le.bookable&&(!Me.features||Me.features?.every(V=>Le.features.includes(V)))&&(!Me.zone_id||Me.zone_id===Le.zone?.id||Me.zone_id===Le.zone?.parent_id)&&!tt.includes(Le.id)&&!Le.assigned_to)},(0,C.W)(tt=>(0,R.of)([]))))}),(0,x.M)(Me=>this._loading.next("")),(0,S.t)(1)),this.grouped_availability=(0,y.zV)([this.options,this.available_resources]).pipe((0,I.T)(([Me,ge])=>{const pe=[],Ee=[...ge].sort((Qe,$e)=>Qe.zone?.id?.localeCompare($e.zone?.id)),Ge=Me.members?.length?Me.members:[(0,l.Ny)()];for(;Ee.length;){const Qe=[];let $e=Ee.pop();for(;Qe.length<Ge.length&&(!Qe.length||Qe.find(tt=>tt.zone?.id===$e.zone?.id));)Qe.push($e),$e=Ee.pop();Qe.length<Ge.length||pe.push(Qe)}return pe})),this.subscription("router.bookings",this._router.events.subscribe(Me=>{Me instanceof n.wF&&!Me.url.includes("book")&&!W.find(ge=>Me.url.includes(ge))&&this.clearForm()})),this._org.initialised.pipe((0,D.$)(Me=>Me)).subscribe(()=>this.setOptions({}))}setView(me){this._view.next(me)}setOptions(me){this._options.next({...this._options.getValue(),...me})}setFeature(me,he){if(!me?.length)return;const Oe=this._options.getValue()?.features||[];he&&!Oe.includes(me)&&Oe.push(me),!he&&Oe.includes(me)&&Oe.splice(Oe.findIndex(we=>we===me),1),this.setOptions({features:Oe})}resetForm(){if(!sessionStorage.getItem("PLACEOS.booking_form"))return this.newForm();const me=this._booking.getValue();this.form.reset({user:(0,l.Ny)(),booked_by:(0,l.Ny)()}),this.form.patchValue((0,h.jv5)({...me||{},...me?.extension_data||{}},[null,void 0,""])),this._options.next({type:this._options.getValue().type})}clearForm(){sessionStorage.removeItem("PLACEOS.booking_form"),sessionStorage.removeItem("PLACEOS.booking_form_options"),this.newForm()}storeForm(){sessionStorage.setItem("PLACEOS.booking_form",JSON.stringify({...this._booking.getValue(),...(0,h.jv5)(this.form.getRawValue()||{},[null,void 0,""])})),sessionStorage.setItem("PLACEOS.booking_form_filters",JSON.stringify(this._options.getValue()||{}))}loadForm(){this.form.reset({user:(0,l.Ny)(),booked_by:(0,l.Ny)()});const me=JSON.parse(sessionStorage.getItem("PLACEOS.booking_form")||"{}"),he=new F.Q(me);this._booking.next(he);const Oe=(0,h.jv5)({...me,...he||{},...he?.extension_data||{}},[null,void 0,""]);this.form.patchValue(Oe),this.setOptions({...JSON.parse(sessionStorage.getItem("PLACEOS.booking_form_filters")||"{}")})}clearOldState(){sessionStorage.removeItem("PLACEOS.last_booked_booking"),this.last_success=new F.Q}openBookingLinkModal(me=!1){if(this.form.markAllAsTouched(),!this.form.valid&&!me)return;const he=new F.Q({...this.booking,...this.form.getRawValue()});this._dialog.open(te.g,{data:he})}confirmPost(){var me=this;return(0,e.A)(function*(){yield me.checkQuestions();const he=me._options.getValue(),Oe=me.form.getRawValue();let we=`Would you like to book the ${he.type} ${Oe.asset_name} for ${(0,b.GP)(Oe.date,"dd MMM yyyy")}${Oe.duration<720?" at "+(0,b.GP)(Oe.date,"h:mm a"):""}`;he.group&&(we=`${we}.<br>You group members will be assigned desks nearby your selected desk.`);const We=yield(0,l.GE)({title:`Book ${he.type}`,content:we,icon:{content:"event_available"}},me._dialog);if("done"!==We?.reason)throw"User cancelled";We.loading("Performing booking request..."),he.group?yield me.postFormForGroup().catch(Xe=>{throw(0,l.UG)(JSON.stringify(Xe)),We.close(),Xe}):yield me.postForm().catch(Xe=>{throw(0,l.UG)(JSON.stringify(Xe)),We.close(),Xe}),We.close()})()}postForm(me=!1){var he=this;return(0,e.A)(function*(){if(!he.form)throw"No form for booking";if(!he.form.valid)throw`Some form fields are invalid. [${(0,l.F7)(he.form).join(", ")}]`;he.form.patchValue({booking_type:he.form.getRawValue().booking_type||he._options.getValue().type});let Oe=he.form.getRawValue(),we=he._booking.getValue()||new F.Q;if(me||(yield he.checkResourceAvailable({...we,...Oe},he._options.getValue().type)),he._payments.payment_module){const Ge=yield he._payments.makePayment({type:he._options.getValue().type,resource_name:Oe.asset_name,date:Oe.date,duration:Oe.duration,all_day:Oe.all_day});if(!Ge?.success)return;Oe.extension_data={invoice:Ge,invoice_id:Ge.invoice_id}}!Oe.zones?.length&&he._booking.getValue().zones?.length&&(Oe.zones=he._booking.getValue().zones),he._loading.next("Saving booking"),delete Oe.booking_asset,Oe.all_day&&(Oe.date=(0,g.o)(Oe.date).valueOf(),Oe.duration=1439);const{event_id:We,parent_id:Xe}=Oe;delete Oe.event_id,delete Oe.parent_id;const Me=Oe.resources||[],ge=Me[0]?.zone?(0,l.Am)([he._org.organisation.id,he._org.region?.id,Me[0]?.zone?.parent_id,Me[0]?.zone?.id]):[he._org.organisation.id,he._org.region?.id],pe=yield(0,U.X0)(new F.Q({...he._options.getValue(),...Oe,description:Oe.asset_name||Oe.description,user_name:Oe.user?.name,user_id:(Oe.user?.id?.includes("@")?"":Oe?.user?.id)||(0,l.Ny)()?.id,extension_data:{...Oe.extension_data||{},group:Oe.group,phone:Oe.phone,department:Oe.user?.department||(0,l.Ny)()?.department},approved:!he._settings.get("app.bookings.no_approval"),zones:(0,l.Am)([...ge,...Oe.zones||[]])}),We?{ical_uid:Oe.ical_uid,event_id:We}:Xe?{booking_id:Xe}:{}).toPromise().catch(Ge=>{throw he._loading.next(""),Ge?.error||Ge});if(Oe.assets?.length||we.extension_data.assets?.length){const Ge=yield(0,ne.en)({...pe,from_booking:!0},{date:Oe.date,duration:Oe.duration,all_day:Oe.all_day,host:Oe.booked_by_email,zones:[he._org.building?.id]},Oe.assets).catch(Qe=>{throw console.error("Couldn't update asset requests",Qe),409===Qe?.status&&(0,l.UG)("Some assets are already booked for the selected time"),he._loading.next(""),Qe?.error||Qe});if(!Ge)throw"Unable to validate asset requests";yield Ge()}he._loading.next("");const{booking_type:Ee}=Oe;return he.clearForm(),he.form?.patchValue({booking_type:Ee}),he.last_success=pe,sessionStorage.setItem("PLACEOS.last_booked_booking",JSON.stringify(pe)),he.setView("success"),pe})()}postFormForGroup(){var me=this;return(0,e.A)(function*(){const{members:he,group:Oe,type:we}=me._options.getValue();if(!Oe)throw"No group available to book for";const We=he.filter(Pt=>Pt.email!==(0,l.Ny)().email);if(We.length<=0)throw"No members in your group to book for.";const Xe=me.form.getRawValue(),Me=yield me.available_resources.pipe((0,A.s)(1)).toPromise(),ge=Me.find(Pt=>Pt.id===Xe.asset_id||Pt.map_id===Xe.asset_id),pe=me._org.levelWithID([ge.zone?.id]),Ee=[ge,...yield me._getNearbyResources(pe.map_id,Xe.asset_id,Me,We.length)],Ge=(0,l.Am)([(0,l.Ny)(),...We],"email"),Qe=yield Promise.all(Ge.map((Pt,yt)=>me.checkResourceAvailable({...Xe,asset_id:Ee[yt].map_id||Ee[yt].id,user_email:Pt.email},we))),$e=Ge.filter((Pt,yt)=>!Qe[yt]),tt=`${(0,l.Ny)().email}[${(0,b.GP)(Date.now(),"yyyy-MM-dd")}]`;let xt="";for(let Pt=0;Pt<Ge.length;Pt++){if(!Qe[Pt])continue;const yt=Ge[Pt],Le=Ee[Pt];me.form.patchValue({...Xe,parent_id:xt,user:yt,user_email:yt.email,user_id:yt.id,asset_id:Le?.id,asset_name:Le.name,description:Le.name,map_id:Le?.map_id||Le?.id,group:tt,zones:Le.zone?(0,l.Am)([me._org.organisation.id,me._org.region?.id,Le?.zone?.parent_id,Le?.zone?.id]):[me._org.organisation.id,me._org.region?.id]});const De=yield me.postForm(!0);De.id&&!xt&&(xt=De.id)}$e.length&&(0,l.WS)(`Some members of your group already have a desk booking. [${$e.map(Pt=>Pt.name||Pt.email)?.join(", ")}]`)})()}checkQuestions(){var me=this;return(0,e.A)(function*(){if(!1!==me._settings.get("app.desks.ignore_questions"))return;const he=me._dialog.open(G.b);if("done"!==(yield Promise.race([he.componentInstance.event.pipe((0,D.$)(We=>"done"===We.reason)).toPromise(),he.afterClosed().toPromise()]))?.reason)throw"User cancelled";const we=he.componentInstance.form.getRawValue();for(const We in we)if(we[We])throw"User failed questionaire";he.close()})()}checkResourceAvailable({id:me,asset_id:he,date:Oe,duration:we,user_email:We},Xe){var Me=this;return(0,e.A)(function*(){if(!We)throw"No user was selected to book for";if("group-event"===Xe)return!0;let pe=(yield(0,U.tj)({period_start:(0,p._)(Oe),period_end:(0,p._)(Oe+60*we*1e3),type:Xe,email:We,limit:1e3}).toPromise()).filter(Ge=>"declined"!==Ge.status&&"cancelled"!==Ge.status&&!Ge.rejected);if(pe.find(Ge=>Ge.asset_id===he&&me!==Ge.id))throw he.includes("@")?`${he} already has an invite for the selected time`:`${he} is not available at the selected time`;const Ee=Me._settings.get(`app.bookings.allowed_daily_${Xe}_count`)??1;if(Ee>0&&pe.filter(Ge=>Ge.user_email.toLowerCase()===(We||(0,l.Ny)()?.email).toLowerCase()&&Ge.id!==me).length>=Ee){const Ge=We===(0,l.Ny)()?.email;throw`${Ge?"You":We} already ${Ge?"have":"has"} a booking at the selected time`}return!0})()}loadResourceList(me){const he=this._settings.get("app.use_region"),Oe=We=>(We?.metadata[me]?.details instanceof Array?We.metadata[me]?.details:[]).map(Xe=>"lockers"!==me?{...Xe,id:Xe.id||Xe.map_id,zone:We.zone}:Xe.lockers?.map(Me=>({...Me,bank_id:Xe.id,zone:Me.zone}))||[]),we=he?this._org.building.parent_id:this._org.building.id;if(he){const We=this._org.building.parent_id,Xe=this._org.buildings.filter(Me=>Me.parent_id===We);return(0,O.p)(Xe.map(Me=>(0,h.WsZ)(Me.id,{name:me}).pipe((0,I.T)(ge=>(0,l.Bq)(ge.map(Oe)))))).pipe((0,I.T)(Me=>(0,l.Bq)(Me)))}return(0,h.WsZ)(we,{name:me}).pipe((0,I.T)(We=>(0,l.Bq)(We.map(Oe))))}_getNearbyResources(me,he,Oe,we){return(0,e.A)(function*(){const We=[];let Xe=Oe.filter(Me=>Me.id!==he&&Me.map_id!==he);for(let Me=0;Me<we;Me++){const ge=yield(0,$.Jm)(me,he,Xe.map(pe=>pe.map_id||pe.id));ge&&(We.push(Oe.find(pe=>pe.id===ge||pe.map_id===ge)),Xe=Xe.filter(pe=>pe.id!==ge&&pe.map_id!==ge))}return We})()}static#e=this.\u0275fac=function(he){return new(he||ce)(k.KVO(n.Ix),k.KVO(l.h$),k.KVO(B.y),k.KVO(j.bZ),k.KVO(J.h),k.KVO(K.R))};static#t=this.\u0275prov=k.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})()},4089:(gt,re,o)=>{"use strict";o.d(re,{g:()=>y});var e=o(4006),n=o(4233),l=o(4571),g=(o(3857),o(3953)),p=o(9434),f=o(6600),b=o(6781),d=o(4616);let y=(()=>{class R{constructor(v,O){this._event=v,this._settings=O,this.outlook_link=(0,l.gP)(this._event),this.google_link=(0,l.dB)(this._event),this.ical_link=(0,l._V)(this._event)}static#e=this.\u0275fac=function(O){return new(O||R)(g.rXU(e.Vh),g.rXU(n.h))};static#t=this.\u0275cmp=g.VBU({type:R,selectors:[["booking-link-modal"]],decls:22,vars:12,consts:()=>{let v,O,S;return v=$localize`:␟34c16b14ad0e33db574c8bea543e66e766aa3a01␟4015832758698516701:Create in Outlook`,O=$localize`:␟f745484670e6b6bbb8a1c327c222e665fb25b863␟3788591245559456526:Create in Google Calendar`,S=$localize`:␟1af54061e7f4bcfb1048ffaa05c9b8f7c4b41679␟4894641609416495396:Download iCal File`,[v,O,S,[1,"p-4","w-full","pb-2"],[1,"flex","flex-col","items-center","space-y-4","p-4","relative"],["btn","","matRipple","","target","_blank","rel","noopener noreferer",1,"flex","items-center","p-2","space-x-2","pr-4","w-64","rounded","inverse",3,"href"],["src","assets/icons/outlook.svg",1,"w-6"],["src","assets/icons/gcal.svg",1,"w-6"],[1,"text-xl"],["icon","","mat-dialog-close","",1,"absolute","top-2","right-0"]]},template:function(O,S){1&O&&(g.j41(0,"div",3),g.EFF(1,"Add event to your calendar"),g.k0s(),g.j41(2,"div",4)(3,"a",5),g.nI1(4,"sanitize"),g.nrm(5,"img",6),g.j41(6,"span"),g.pXf(7,0),g.k0s()(),g.j41(8,"a",5),g.nI1(9,"sanitize"),g.nrm(10,"img",7),g.j41(11,"span"),g.pXf(12,1),g.k0s()(),g.j41(13,"a",5),g.nI1(14,"safe"),g.j41(15,"app-icon",8),g.EFF(16,"download"),g.k0s(),g.j41(17,"span"),g.pXf(18,2),g.k0s()()(),g.j41(19,"button",9)(20,"app-icon"),g.EFF(21,"close"),g.k0s()()),2&O&&(g.R7$(3),g.Y8G("href",g.i5U(4,3,S.outlook_link,"url"),g.B4B),g.R7$(5),g.Y8G("href",g.i5U(9,6,S.google_link,"url"),g.B4B),g.R7$(5),g.Y8G("href",g.i5U(14,9,S.ical_link,"url"),g.B4B))},dependencies:[e.tx,p.R,f.r6,b.m,d.a],styles:["[_nghost-%COMP%]{position:relative}"]})}return R})()},3857:(gt,re,o)=>{"use strict";o.d(re,{Q:()=>P});var e=o(9707),n=o(7926),l=o(5987),h=o(9548),g=o(2037),p=o(3601),f=o(4512),b=o(5818),d=o(3368),y=o(9824),R=o(9255),m=o(9015),v=o(3747);const O=["user","booked_by","resources","assets","members"];class P{get group(){return this.extension_data.group||""}get is_all_day(){return this.all_day||this.duration>=720}get valid_assets(){if(this._b_valid_cache_expiry>Date.now()&&this._b_valid_asset_cache.length)return this._b_valid_asset_cache;const w=this.linked_bookings;return this._b_valid_asset_cache=(this.extension_data.assets||[]).map(x=>new v.Y({...x,event:this})).filter(x=>x.deliver_at<this.date_end).map(x=>{const I=w.find(_=>_.extension_data.request_id===x.id);return I&&(x.state=I.approved?"approved":I.rejected?"rejected":"pending"),x}),this._b_valid_cache_expiry=(0,n.z)(Date.now(),5).valueOf(),this._b_valid_asset_cache}constructor(w={}){this._b_valid_asset_cache=[],this._b_valid_cache_expiry=0,this.id=w.id||"",this.parent_id=w.parent_id||"",this.asset_id=w.asset_id||"",this.asset_ids=w.asset_ids||[w.asset_id].filter(x=>x),this.asset_name=w.asset_name||w.extension_data?.asset_name||w.description||w.asset_id||"",this.zones=w.zones||[],this.booking_start=Math.floor(w.date/1e3)||w.booking_start||(0,l._)((0,h.X)((0,n.z)(Date.now(),5),{nearestTo:5})),this.booking_end=Math.floor(w.date/1e3)+60*w.duration||w.booking_end||(0,l._)((0,n.z)(1e3*this.booking_start,w.duration||60)),this.booking_type=w.booking_type||" ",this.type=w.type||w.booking_type||"booking",this.date=w.date||1e3*this.booking_start||Date.now(),this.duration=w.duration||Math.abs((0,g.o)(1e3*this.booking_start,1e3*this.booking_end))||60,this.date_end=1e3*this.booking_end||this.date+60*this.duration*1e3,this.timezone=w.timezone||Intl.DateTimeFormat().resolvedOptions().timeZone,this.user_email=w.user_email||"",this.user_id=w.user_id||"",this.user_name=w.user_name||"",this.title=w.title??(this.booking_type?`${(0,e.Zr)(this.booking_type)} Booking`.trim():""),this.description=w.description||"",this.checked_in=!!w.checked_in,this.rejected=!!w.rejected,this.approved=!!w.approved,this.deleted=!!w.deleted,this.booked_by_id=w.booked_by_id||"",this.booked_by_name=w.booked_by_name||"",this.booked_by_email=w.booked_by_email||"",this.approver_id=w.approver_id||"",this.approver_email=w.approver_email||"",this.approver_name=w.approver_name||"",this.extension_data=w.extension_data||{},this.access=!!w.extension_data?.access,this.event_id=w.event_id,this.permission=(w.permission||"PRIVATE").toUpperCase(),this.attendees=w.attendees||w.guests||w.members||[],this.tags=w.tags||w.extension_data?.tags||[],this.images=w.images||[],this.all_day=w.all_day||this.duration>=1440,this.induction=(w.induction||w.extension_data?.induction||"inducted"===w.process_state)??!1,this.all_day&&(this.date=(0,p.o)(this.date).getTime(),this.duration=Math.max(1439,this.duration-(this.duration%24*60==0?1:0)),this.date_end=(0,f.D)((0,n.z)(this.date,this.duration-1).valueOf()).getTime()),this.checked_out_at=w.checked_out_at,this.linked_event=w.linked_event||null,this.linked_bookings=w.linked_bookings||[],this.images=w.images||[],this.status=this.checked_out_at>0?"ended":this.rejected||this.deleted?"declined":this.approved?"approved":"tentative",this.process_state=w.process_state||"pending",this.recurrence_type=w.recurrence_type||"none",this.recurrence_days=w.recurrence_days,this.recurrence_nth_of_month=w.recurrence_nth_of_month,this.recurrence_interval=w.recurrence_interval,this.recurrence_end=w.recurrence_end,this.instance=w.instance;for(const x in w)!(x in this)&&!O.includes(x)&&w[x]&&(this.extension_data[x]=w[x]||this.extension_data[x]);this.extension_data.assets=(this.extension_data.assets||[]).map(x=>new v.Y({...x,event:this,date:this.date})),this.extension_data.tags=w.tags||[],this.extension_data.request&&(this.extension_data.request=new v.Y({...this.extension_data.request,event:this,date:this.date}))}toJSON(){const w={...this};return this.id||delete w.id,w.extension_data.assets=w.extension_data.assets.map(x=>new v.Y({...x,event:null})),w.extension_data.request&&(w.extension_data.request=new v.Y({...w.extension_data.request,event:null})),w.parent_id||delete w.parent_id,delete w.date,delete w.duration,(0,e.Xm)(w),w}get location(){return this.extension_data?.location||this.description}get is_today(){return(0,b.r)(this.date,new Date)}get is_done(){const w=new Date,x=this.all_day?(0,d.L)(this.date,24):(0,n.z)(this.date,this.duration),I=1e3*(this.checked_out_at||this.extension_data.checked_out_at||0);let _=x.getTime();return!!(I&&Date.now()>I)||(0,y.d)(w,new Date(_))}get state(){const w=new Date,x=this.date;return(0,R.Y)(w,(0,m.W)(x,{minutes:-15}))?"future":(0,R.Y)(w,x)?"upcoming":(0,R.Y)(w,(0,m.W)(x,{minutes:15}))?"started":(0,R.Y)(w,(0,m.W)(x,{minutes:this.duration}))?"in_progress":"done"}}},7141:(gt,re,o)=>{"use strict";o.d(re,{Jm:()=>m,Rr:()=>R,s8:()=>O});var e=o(467),n=o(9417),l=o(9707),h=o(690),g=o(6511),p=o(3857),f=o(9548),b=o(7926),d=o(2037);function R(S=new p.Q){const P=new n.gE({id:new n.MJ(S.id||""),parent_id:new n.MJ(S.parent_id||""),event_id:new n.MJ(S.event_id||""),ical_uid:new n.MJ(S.extension_data.ical_uid||""),date:new n.MJ(S.date,[n.k0.required]),date_end:new n.MJ(S.date_end),all_day:new n.MJ(S.all_day??!1),name:new n.MJ(S.extension_data.name||S.asset_name||""),duration:new n.MJ(S.duration,[h.k]),booking_type:new n.MJ(S.booking_type),zones:new n.MJ(S.zones),title:new n.MJ(S.title),description:new n.MJ(S.description),booking_asset:new n.MJ(null),resources:new n.MJ([]),company:new n.MJ(""),asset_id:new n.MJ(S.asset_id,[n.k0.required]),asset_name:new n.MJ(S.description),assets:new n.MJ(S.extension_data?.assets||[]),attendees:new n.MJ(S.attendees||[]),map_id:new n.MJ(S.extension_data?.map_id),featured:new n.MJ(S.extension_data?.featured||!1),user:new n.MJ((0,l.Ny)()),user_id:new n.MJ(S.user_id),group:new n.MJ(S.group),user_email:new n.MJ(S.user_email),user_name:new n.MJ(S.user_name),timezone:new n.MJ(S.timezone||""),booked_by:new n.MJ((0,l.Ny)()),booked_by_id:new n.MJ(S.booked_by_id),booked_by_email:new n.MJ(S.booked_by_email),secondary_resource:new n.MJ(S.extension_data?.other_asset_type||S.extension_data?.secondary_resource),location:new n.MJ(S.extension_data.location||""),attendance_type:new n.MJ(S.extension_data.attendance_type||"ANY"),phone:new n.MJ(S.extension_data.phone||""),permission:new n.MJ(S.permission||"PRIVATE"),images:new n.MJ(S.images||[]),tags:new n.MJ(S.tags||[]),plate_number:new n.MJ(S.extension_data.plate_number||""),recurrence_type:new n.MJ(S.recurrence_type||"none"),recurrence_days:new n.MJ(S.recurrence_days),recurrence_nth_of_month:new n.MJ(S.recurrence_nth_of_month),recurrence_interval:new n.MJ(S.recurrence_interval),recurrence_end:new n.MJ(S.recurrence_end),notes:new n.MJ(S.extension_data.notes||"")});return P.valueChanges.subscribe(M=>{const w=M.user,x=M.booked_by||(0,l.Ny)();(x||w)&&P.patchValue({user:w||x,user_id:w?.id||x?.id,user_email:w?.email||x?.email,name:w?.name||x?.name,booked_by_id:x?.id,booked_by_email:x?.email},{emitEvent:!1}),P.getRawValue().date<Date.now()&&P.value.id?P.get("date")?.disable({emitEvent:!1}):P.get("date")?.enable({emitEvent:!1})}),P.controls.resources.valueChanges.subscribe(M=>function y(S,P){if(!P)return S.patchValue({asset_id:void 0});S.patchValue({asset_id:P.id,asset_name:P.name,map_id:P.map_id||P.id,description:P.name,zones:P.zone?[P.zone?.parent_id,P.zone?.id]:[],booking_asset:P},{emitEvent:!1})}(P,(M||[])[0])),P.controls.duration.valueChanges.subscribe(M=>{P.patchValue({date_end:(0,f.X)((0,b.z)(P.getRawValue().date,M),{nearestTo:5,roundingMethod:"ceil"}).valueOf()},{emitEvent:!1})}),P.controls.date_end.valueChanges.subscribe(M=>{M<(0,b.z)(P.getRawValue().date,30).valueOf()?P.patchValue({date_end:(0,f.X)((0,b.z)(P.getRawValue().date,30),{nearestTo:5,roundingMethod:"ceil"}).valueOf(),duration:30},{emitEvent:!1}):P.patchValue({duration:(0,d.o)(M,P.getRawValue().date)},{emitEvent:!1})}),P.controls.date.valueChanges.subscribe(M=>{P.patchValue({date_end:(0,f.X)((0,b.z)(M,P.value.duration),{nearestTo:5,roundingMethod:"ceil"}).valueOf()},{emitEvent:!1}),M<Date.now()&&!P.value.id&&P.patchValue({date:(0,f.X)(Date.now(),{nearestTo:5,roundingMethod:"ceil"}).valueOf()},{emitEvent:!1})}),"started"===S.state&&P.get("date").disable(),P}function m(S,P){return v.apply(this,arguments)}function v(){return(v=(0,e.A)(function*(S,P,M=[]){const w=document.createElement("div");w.style.position="absolute",w.style.top="-9999px",w.style.width="1000px",w.style.height="1000px",document.body.appendChild(w);const x=yield(0,g.Rx)({url:S,element:w}),I=(0,g.tk)(x),_=("string"==typeof P?I.mappings[P]:P)||{x:.5,y:.5};let C=10,D="";for(const A of M){const{x:B,y:F}=I.mappings[A]||{x:2,y:2},$=Math.sqrt((B-_.x)*(B-_.x)+(F-_.y)*(F-_.y));$<C&&(C=$,D=A)}return document.body.removeChild(w),(0,g.b2)(x),D})).apply(this,arguments)}function O(S){return new p.Q({id:S.id,user_email:S.host,asset_id:S.system?.id,asset_name:S.system?.display_name||S.system?.name,booking_type:"room",approved:"approved"===S.status,extension_data:{...S}})}},5645:(gt,re,o)=>{"use strict";o.d(re,{$F:()=>O,DO:()=>M,Kq:()=>K,UN:()=>_,X0:()=>I,Z$:()=>G,kX:()=>te,sH:()=>w,tj:()=>v,vB:()=>D});var e=o(467),n=o(5157),l=o(4421),h=o(5006),g=o(3921),p=o(8385),f=o(3857),d=(o(3693),o(5987)),y=o(7926),R=o(9707);const m="/api/staff/v1/bookings";function v(j){const W=(0,p.z)(j);return(0,n.JtY)(`${m}${W?"?"+W:""}`).pipe((0,h.T)(ie=>ie.map(ce=>new f.Q(ce))),(0,g.W)(ie=>(0,l.of)([])))}function O(j){const W=(0,p.z)(j);return(0,n.JtY)(`${m}/booked${W?"?"+W:""}`).pipe((0,h.T)(ie=>ie),(0,g.W)(ie=>(0,l.of)([])))}function M(j){return(0,n.JtY)(`${m}/${encodeURIComponent(j)}`).pipe((0,h.T)(W=>new f.Q(W)))}function w(j,W){const ie=(0,p.z)(W);return(0,n.bEY)(`${m}${ie?"?"+ie:""}`,j).pipe((0,h.T)(ce=>new f.Q(ce)))}const I=(j,W)=>{const ie=j.id;return delete j.id,ie?function x(j,W,ie="patch"){return("patch"===ie?n.F6F:n.yJg)(`${m}/${encodeURIComponent(j)}`,W).pipe((0,h.T)(ce=>new f.Q(ce)))}(ie,j):w(j,W)};function _(j){return(0,n.yHY)(`${m}/${encodeURIComponent(j)}`,{response_type:"void"})}function D(j){return(0,n.bEY)(`${m}/${encodeURIComponent(j)}/reject`,"").pipe((0,h.T)(W=>new f.Q(W)))}function G(j,W){const ie=(0,p.z)({state:W});return(0,n.bEY)(`${m}/${encodeURIComponent(j)}/check_in?${ie}`,"").pipe((0,h.T)(ce=>new f.Q(ce)),(0,g.W)(function(){var ce=(0,e.A)(function*(oe){const me=yield oe.json();throw me.error||me.message||me});return function(oe){return ce.apply(this,arguments)}}()))}function te(j,W,ie,ce,oe="room",me=[0,0]){return v({type:oe,period_start:(0,d._)(W),period_end:(0,d._)((0,y.z)(W,ie))}).pipe((0,h.T)(he=>j.map(Oe=>!he.find(we=>we.asset_id===Oe&&(!ce||ce!==we.id)))))}function K(j,W,ie){return k.apply(this,arguments)}function k(){return(k=(0,e.A)(function*(j,W,ie){const ce=yield v({type:W,period_start:(0,d._)(j.date),period_end:(0,d._)((0,y.z)(j.date,j.duration))}).pipe((0,h.T)(me=>me.filter(he=>he.parent_id===j.id))).toPromise();yield Promise.all(ce.map(me=>_(me.id).toPromise())),yield Promise.all(j.linked_bookings.filter(me=>me.booking_type===W).map(me=>_(me.id).toPromise()));const oe=j.system?.zones||(0,R.Am)((0,R.Bq)(j.resources.map(me=>me.zones)))||[];yield Promise.all(ie.map(me=>{const he=ce.find(Oe=>Oe.asset_ids.find(we=>me.items?.find(We=>We.item_ids.includes(we))));return w(new f.Q({type:W,booking_type:W,date:j.date,duration:j.duration,description:j.title,user_email:j.host,asset_id:me.email,asset_name:me.name,title:me.name,attendees:[me],approved:he?.approved&&!me._changed,rejected:he?.rejected&&!me._changed,extension_data:{parent_id:j.id,name:me.name,location_id:j.location},zones:oe}),{ical_uid:j.ical_uid,event_id:j.id}).toPromise()}))})).apply(this,arguments)}},8742:(gt,re,o)=>{"use strict";o.d(re,{S:()=>Ge});var e=o(177),n=o(9417),l=o(8834),h=o(2765),g=o(5084),p=o(4006),f=o(3719),b=o(9631),d=o(9183),y=o(5951),R=o(846),m=o(8705),v=o(7758),O=o(827),S=o(3850),ie=(o(7547),o(1781),o(3367),o(7254),o(2280),o(4174),o(4365),o(3662),o(215),o(622),o(8874),o(6724),o(9138),o(9145),o(258),o(8559),o(8952),o(7642),o(4844),o(6416),o(4089),o(850)),ce=o(6600),me=(o(4854),o(4823)),pe=(o(482),o(1511),o(2657),o(2394),o(647),o(8720),o(7904),o(3953));let Ge=(()=>{class Qe{static#e=this.\u0275fac=function(xt){return new(xt||Qe)};static#t=this.\u0275mod=pe.$C({type:Qe});static#n=this.\u0275inj=pe.G2t({providers:[n.X1],imports:[e.MD,n.YN,n.X1,y.Wk,b.fS,f.RG,g.X6,l.Hl,p.hM,d.D6,h.g7,ie.jL,m.c,R.h,ce.pZ,me.uc,O.l,v.j,S.k]})}return Qe})()},3367:(gt,re,o)=>{"use strict";o.d(re,{I:()=>x});var e=o(3953),n=o(4006),l=o(9707),h=o(177),g=o(9417),p=o(9631),f=o(3719),b=o(9183),d=o(9608),y=o(8e3),R=o(6600);function m(I,_){1&I&&(e.j41(0,"button",10)(1,"i",11),e.EFF(2,"close"),e.k0s()())}function v(I,_){if(1&I){const C=e.RV6();e.j41(0,"div",20)(1,"label"),e.pXf(2,5),e.k0s(),e.j41(3,"a-user-search-field",21),e.mxI("ngModelChange",function(A){e.eBV(C);const B=e.XpG(2);return e.DH7(B.host,A)||(B.host=A),e.Njj(A)}),e.k0s()()}if(2&I){const C=e.XpG(2);e.R7$(3),e.R50("ngModel",C.host)}}function O(I,_){if(1&I&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&I){const C=e.XpG(2);e.R7$(),e.SpI(" ",e.i5U(2,1,C.date,"mediumDate")," ")}}function S(I,_){if(1&I){const C=e.RV6();e.j41(0,"a-date-field",22),e.mxI("ngModelChange",function(A){e.eBV(C);const B=e.XpG(2);return e.DH7(B.date,A)||(B.date=A),e.Njj(A)}),e.k0s()}if(2&I){const C=e.XpG(2);e.R50("ngModel",C.date)}}function P(I,_){if(1&I){const C=e.RV6();e.j41(0,"div",23)(1,"label"),e.pXf(2,6),e.k0s(),e.j41(3,"mat-form-field",24)(4,"input",25),e.mxI("ngModelChange",function(A){e.eBV(C);const B=e.XpG(2);return e.DH7(B.reason,A)||(B.reason=A),e.Njj(A)}),e.k0s()()()}if(2&I){const C=e.XpG(2);e.R7$(4),e.R50("ngModel",C.reason)}}function M(I,_){if(1&I){const C=e.RV6();e.qex(0),e.j41(1,"main",12),e.DNE(2,v,4,1,"div",13),e.j41(3,"div",14)(4,"label"),e.pXf(5,2),e.k0s(),e.DNE(6,O,3,4,"div",15)(7,S,1,1,"a-date-field",16),e.k0s(),e.DNE(8,P,5,1,"div",17),e.j41(9,"p"),e.pXf(10,3),e.k0s()(),e.j41(11,"footer",18)(12,"button",19),e.bIt("click",function(){e.eBV(C);const A=e.XpG();return e.Njj(A.confirm())}),e.pXf(13,4),e.k0s()(),e.bVm()}if(2&I){const C=e.XpG();e.R7$(2),e.Y8G("ngIf",C.can_set_host),e.R7$(4),e.Y8G("ngIf",!C.can_set_date),e.R7$(),e.Y8G("ngIf",C.can_set_date),e.R7$(),e.Y8G("ngIf",!C.hide_reason),e.R7$(2),e.uP7(1===C.desks.length?"":"s")(C.desk_list)((null==C.level?null:C.level.display_name)||(null==C.level?null:C.level.name)),e.nnv(10)}}function w(I,_){if(1&I&&(e.j41(0,"main",26),e.nrm(1,"mat-spinner",27),e.j41(2,"p"),e.EFF(3),e.k0s()()),2&I){const C=e.XpG();e.R7$(),e.Y8G("diameter",48),e.R7$(2),e.JRh(C.loading)}}let x=(()=>{class I{get desk_list(){return this.desks.map(C=>C.name).join(", ")}get hide_reason(){return!!this._settings.get("app.desks.hide_reason")}get can_set_host(){return!!this._settings.get("app.desks.can_book_for_others")}constructor(C,D){this._data=C,this._settings=D,this.event=new e.bkB,this.desks=this._data.desks||[],this.date=this._data.date,this.host=this._data.host,this.can_set_date=this._data.can_set_date,this.reason=this._data.reason,this.level=this._data.level}confirm(){this.loading="Requesting desk booking...",this.event.emit({reason:"done"})}static#e=this.\u0275fac=function(D){return new(D||I)(e.rXU(n.Vh),e.rXU(l.h$))};static#t=this.\u0275cmp=e.VBU({type:I,selectors:[["desk-flow-confirm-modal-component"]],outputs:{event:"event"},decls:8,vars:3,consts:()=>{let C,D,A,B,F,$;return C=$localize`:␟d513554c23b779e029147a285f1f84f1479488fc␟1554073776118278895:Confirm Booking`,D=$localize`:␟2f933b826a570836cab04f683970a2d22068458c␟3973931101896534797:Date`,A=$localize`:␟5012a6a10d31e79f5865c2fc7f680b84a14accca␟4161419473863623687: Your desk${"\ufffd0\ufffd"}:INTERPOLATION: will be ${"\ufffd1\ufffd"}:INTERPOLATION_1: on ${"\ufffd2\ufffd"}:INTERPOLATION_2: `,B=$localize`:␟68e710782ccb5398b3acb8844caf0b199da2c3da␟9178182467454450952:Confirm`,F=$localize`:␟fe22ca53e651df951dac25b67c17894b0980f767␟6641024648411549335:Host`,$=$localize`:␟4ba250869daa372b54d24fafc0ea934769ee4076␟4775550080689015987:Reason`,[["load_state",""],C,D,A,B,F,$,[1,"flex-1"],["icon","","mat-dialog-close","",4,"ngIf"],[4,"ngIf","ngIfElse"],["icon","","mat-dialog-close",""],[1,"material-icons"],[1,"p-4"],["host","","class","flex flex-col",4,"ngIf"],["date","",1,"mb-4"],[4,"ngIf"],[3,"ngModel","ngModelChange",4,"ngIf"],["reason","","class","flex flex-col mb-4",4,"ngIf"],[1,"flex","items-center","justify-center","p-2"],["btn","","matRipple","",3,"click"],["host","",1,"flex","flex-col"],[1,"mb-4",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["reason","",1,"flex","flex-col","mb-4"],["appearance","outline"],["matInput","","placeholder","Reason",3,"ngModelChange","ngModel"],["load","",1,"flex","flex-col","p-12","items-center","justify-center"],[1,"mb-4",3,"diameter"]]},template:function(D,A){if(1&D&&(e.j41(0,"header")(1,"h2"),e.pXf(2,1),e.k0s(),e.nrm(3,"div",7),e.DNE(4,m,3,0,"button",8),e.k0s(),e.DNE(5,M,14,7,"ng-container",9)(6,w,4,2,"ng-template",null,0,e.C5r)),2&D){const B=e.sdS(7);e.R7$(4),e.Y8G("ngIf",!A.loading),e.R7$(),e.Y8G("ngIf",!A.loading)("ngIfElse",B)}},dependencies:[h.bT,g.me,g.BC,g.vS,p.fg,f.rl,n.tx,b.LG,d.G,y.$,R.r6,h.vh],styles:["main[_ngcontent-%COMP%]{width:24rem;max-width:calc(100vw - 4.5rem)}"]})}return I})()},6416:(gt,re,o)=>{"use strict";o.d(re,{d:()=>x});var e=o(3953),n=o(9417),l=o(4233),h=o(622),g=o(4006),p=o(177),f=o(2765),b=o(9434),d=o(3208),y=o(6600);const R=()=>[],m=()=>({standalone:!0});function v(I,_){if(1&I){const C=e.RV6();e.j41(0,"mat-checkbox",27),e.bIt("ngModelChange",function(A){const B=e.eBV(C).$implicit,F=e.XpG(3);return e.Njj(F.setFeature(B,A))}),e.EFF(1),e.k0s()}if(2&I){const C=_.$implicit,D=e.XpG(3);e.Y8G("ngModel",(D.selected_features||e.lJ4(3,R)).includes(C))("ngModelOptions",e.lJ4(4,m)),e.R7$(),e.SpI(" ",C," ")}}function O(I,_){if(1&I&&(e.j41(0,"div",23)(1,"label",24),e.EFF(2,"Type"),e.k0s(),e.j41(3,"div",25),e.DNE(4,v,2,5,"mat-checkbox",26),e.k0s()()),2&I){const C=e.XpG(2);e.R7$(4),e.Y8G("ngForOf",C.features)}}function S(I,_){if(1&I&&e.nrm(0,"img",28),2&I){const C=e.XpG().$implicit;e.Y8G("source",C.images[0])}}function P(I,_){1&I&&e.nrm(0,"img",29)}function M(I,_){if(1&I){const C=e.RV6();e.j41(0,"div",10),e.DNE(1,O,5,1,"div",11),e.j41(2,"div",12),e.DNE(3,S,1,1,"img",13)(4,P,1,0,"ng-template",null,0,e.C5r),e.k0s(),e.j41(6,"div",14)(7,"div",15),e.EFF(8),e.k0s(),e.j41(9,"div",16)(10,"app-icon",17),e.EFF(11,"place"),e.k0s(),e.j41(12,"p"),e.EFF(13),e.k0s()(),e.j41(14,"div",18)(15,"button",19),e.bIt("click",function(){const A=e.eBV(C).$implicit,B=e.XpG();return e.Njj(B.changeResources(A))}),e.j41(16,"div",20),e.PLo(17,2),e.nrm(18,"app-icon"),e.YFu(),e.k0s()(),e.j41(19,"button",21),e.bIt("click",function(){const A=e.eBV(C).$implicit,B=e.XpG();return e.Njj(B.removeResource(A))}),e.j41(20,"div",20),e.PLo(21,3),e.nrm(22,"app-icon"),e.YFu(),e.k0s()()()(),e.j41(23,"button",22),e.bIt("click",function(){const A=e.eBV(C).$implicit,B=e.XpG();return e.Njj(B.toggleFavourite(A))}),e.j41(24,"app-icon"),e.EFF(25),e.k0s()()()}if(2&I){const C=_.$implicit,D=e.sdS(5),A=e.XpG();e.R7$(),e.Y8G("ngIf",null==A.features?null:A.features.length),e.R7$(2),e.Y8G("ngIf",null==C.images?null:C.images.length)("ngIfElse",D),e.R7$(5),e.SpI(" ",C.name||C.id||C.map_id||"Desk"," "),e.R7$(5),e.JRh((null==C.zone?null:C.zone.display_name)||(null==C.zone?null:C.zone.name)),e.R7$(10),e.AVh("text-blue-400",A.favorites.includes(null==C?null:C.id)),e.R7$(2),e.JRh(A.favorites.includes(null==C?null:C.id)?"favorite":"favorite_border")}}const w=[];let x=(()=>{class I{get favorites(){return this._settings.get(h.S)||w}constructor(C,D){this._settings=C,this._dialog=D,this.features=[],this.room_size=3,this.items=[],this.disabled=!1,this.selected_features=[],this.registerOnChange=A=>this._onChange=A,this.registerOnTouched=A=>this._onTouch=A,this.setDisabledState=A=>this.disabled=A}changeResources(){const C=this._dialog.open(h.O,{data:{items:this.items,options:{capacity:this.room_size}}});C.afterClosed().subscribe(D=>{D||(D=C.componentInstance.selected),this.setValue(D)})}removeResource(C){this.setValue(this.items.filter(D=>D.id!==C.id))}setValue(C){this.items=C,this._onChange&&this._onChange(this.items)}writeValue(C){this.items=C||[]}toggleFavourite(C){if(!C?.id)return;const D=this.favorites;D.includes(C.id)?this._settings.saveUserSetting(h.S,D.filter(B=>B!==C.id)):this._settings.saveUserSetting(h.S,[...D,C.id])}static#e=this.\u0275fac=function(D){return new(D||I)(e.rXU(l.h),e.rXU(g.bZ))};static#t=this.\u0275cmp=e.VBU({type:I,selectors:[["desk-list-field"]],inputs:{features:"features"},features:[e.Jv_([{provide:n.kq,useExisting:(0,e.Rfq)(()=>I),multi:!0}])],decls:10,vars:1,consts:()=>{let C,D,A;return C=$localize`:␟76b072e559d819bff20d8a487e73f64b3afe4f86␟1087109089519255800:Add Desk`,D=$localize`:␟ca9092fdbbb85e5828de77fdf85c49b918cec128␟559636443235347532:${"\ufffd#18\ufffd"}:START_TAG_APP_ICON:edit${"\ufffd/#18\ufffd"}:CLOSE_TAG_APP_ICON: Change `,A=$localize`:␟a386ba350cdee69beeb12a908d96f0724ddc2054␟2582674642057285571:${"\ufffd#22\ufffd"}:START_TAG_APP_ICON:close${"\ufffd/#22\ufffd"}:CLOSE_TAG_APP_ICON: Remove `,[["placeholder",""],C,D,A,["list","",1,"space-y-2"],["desk","","class","relative p-2 rounded-lg w-full flex items-center shadow border border-base-200",4,"ngFor","ngForOf"],["btn","","matRipple","","name","add-desk",1,"w-full","inverse","mt-2",3,"click"],[1,"flex","items-center","justify-center","space-x-2"],[1,"flex","items-center","flex-wrap","sm:space-x-2","mb-2"],[1,"flex-1","min-w-[256px]","space-y-2"],["desk","",1,"relative","p-2","rounded-lg","w-full","flex","items-center","shadow","border","border-base-200"],["class","flex flex-col",4,"ngIf"],[1,"w-20","h-20","rounded-xl","bg-base-200","mr-4","overflow-hidden","flex","items-center","justify-center"],["auth","","class","min-h-full object-cover",3,"source",4,"ngIf","ngIfElse"],[1,"space-y-2","pb-4"],[1,"font-medium"],[1,"flex","items-center","text-sm","space-x-2"],[1,"text-blue-500"],[1,"absolute","bottom-0","right-0","flex","items-center","justify-end","text-xs"],["btn","","matRipple","","name","edit-desk",1,"clear",3,"click"],[1,"flex","items-center","space-x-2"],["btn","","matRipple","","name","remove-desk",1,"clear",3,"click"],["icon","","matRipple","","name","toggle-desk-favourite",1,"absolute","top-1","right-1",3,"click"],[1,"flex","flex-col"],["for","title"],["features","",1,"flex","items-center","flex-wrap","space-x-2"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngFor","ngForOf"],[3,"ngModelChange","ngModel","ngModelOptions"],["auth","",1,"min-h-full","object-cover",3,"source"],["src","assets/icons/desk-placeholder.svg",1,"m-auto"]]},template:function(D,A){1&D&&(e.j41(0,"div",4),e.DNE(1,M,26,8,"div",5),e.k0s(),e.j41(2,"button",6),e.bIt("click",function(){return A.changeResources()}),e.j41(3,"div",7)(4,"app-icon"),e.EFF(5,"search"),e.k0s(),e.j41(6,"span"),e.pXf(7,1),e.k0s()()(),e.j41(8,"div",8),e.nrm(9,"div",9),e.k0s()),2&D&&(e.R7$(),e.Y8G("ngForOf",A.items))},dependencies:[p.Sq,p.bT,n.BC,n.vS,f.So,b.R,d.U,y.r6]})}return I})()},7254:(gt,re,o)=>{"use strict";o.d(re,{b:()=>y});var e=o(3953),n=o(9417),h=(o(9707),o(177)),g=o(5951),p=o(4006),f=o(6600);function b(R,m){if(1&R){const v=e.RV6();e.j41(0,"div",8)(1,"h2",9),e.pXf(2,1),e.k0s(),e.j41(3,"main",10)(4,"div",11)(5,"label"),e.PLo(6,2),e.nrm(7,"span"),e.YFu(),e.k0s(),e.j41(8,"mat-radio-group",12)(9,"mat-radio-button",13),e.EFF(10,"Yes"),e.k0s(),e.j41(11,"mat-radio-button",13),e.EFF(12,"No"),e.k0s()()(),e.j41(13,"div",11)(14,"label"),e.PLo(15,3),e.nrm(16,"span"),e.YFu(),e.k0s(),e.j41(17,"mat-radio-group",14)(18,"mat-radio-button",13),e.EFF(19,"Yes"),e.k0s(),e.j41(20,"mat-radio-button",13),e.EFF(21,"No"),e.k0s()()(),e.j41(22,"div",15)(23,"label"),e.PLo(24,4),e.nrm(25,"span"),e.YFu(),e.k0s(),e.j41(26,"mat-radio-group",16)(27,"mat-radio-button",13),e.EFF(28,"Yes"),e.k0s(),e.j41(29,"mat-radio-button",13),e.EFF(30,"No"),e.k0s()()()(),e.j41(31,"footer",17)(32,"button",18),e.bIt("click",function(){e.eBV(v);const S=e.XpG();return e.Njj(S.submit())}),e.pXf(33,5),e.k0s()(),e.j41(34,"button",19)(35,"i",20),e.EFF(36,"close"),e.k0s()()()}if(2&R){const v=e.XpG();e.R7$(3),e.Y8G("formGroup",v.form),e.R7$(6),e.Y8G("value",!0),e.R7$(2),e.Y8G("value",!1),e.R7$(7),e.Y8G("value",!0),e.R7$(2),e.Y8G("value",!1),e.R7$(7),e.Y8G("value",!0),e.R7$(2),e.Y8G("value",!1)}}function d(R,m){1&R&&(e.j41(0,"main",21)(1,"p",22),e.pXf(2,6),e.k0s(),e.j41(3,"button",19)(4,"i",20),e.EFF(5,"close"),e.k0s()()())}let y=(()=>{class R{constructor(){this.event=new e.bkB,this.form=new n.gE({travelled:new n.MJ(!1),unwell:new n.MJ(!1),contact:new n.MJ(!1)})}submit(){this.form.markAllAsTouched(),Object.keys(this.form.value).find(v=>!0===this.form.value[v]||"true"===this.form.value[v])?this.failure=!0:this.event.emit({reason:"done"})}static#e=this.\u0275fac=function(O){return new(O||R)};static#t=this.\u0275cmp=e.VBU({type:R,selectors:[["desk-question-modal"]],outputs:{event:"event"},decls:3,vars:2,consts:()=>{let v,O,S,P,M,w;return v=$localize`:␟02006a13b8e6aacb7a6e15bafd8004ed529f5d81␟877348132538805077:COVID-19 Questionnaire`,O=$localize`:␟dad7efbd2320e5ea935aef911f18cbcb24690133␟1650520403092579087: Have you travelled overseas within the last 14 days?${"\ufffd#7\ufffd"}:START_TAG_SPAN:*${"\ufffd/#7\ufffd"}:CLOSE_TAG_SPAN:`,S=$localize`:␟cf50bf8de6c6db836da440c89a375631f7ba3fb0␟1182497320820036810: Are you unwell or experiencing any cold or flu-like symptoms?${"\ufffd#16\ufffd"}:START_TAG_SPAN:*${"\ufffd/#16\ufffd"}:CLOSE_TAG_SPAN:`,P=$localize`:␟273153c91358de15d124ff2966859d9949080f4c␟737527639567676154: Have you had contact with anyone with suspected COVID-19?${"\ufffd#25\ufffd"}:START_TAG_SPAN:*${"\ufffd/#25\ufffd"}:CLOSE_TAG_SPAN:`,M=$localize`:␟71c77bb8cecdf11ec3eead24dd1ba506573fa9cd␟935187492052582731:Submit`,w=$localize`:␟17d62f424c2c025579e1ec0e3f5ad971f57681df␟4401678084033805848: Your request to work from the office has been rejected based on your response to the compulsory Covid-19 questions. Please feel free to submit a new request when circumstances change in a way that changes your answer to the questions. `,[["fail_state",""],v,O,S,P,M,w,["class","relative",4,"ngIf","ngIfElse"],[1,"relative"],[1,"p-4","text-xl"],[1,"p-4",3,"formGroup"],[1,"flex","flex-col","mb-4"],["formControlName","travelled",1,"space-x-2"],[3,"value"],["formControlName","unwell",1,"space-x-2"],[1,"flex","flex-col"],["formControlName","contact",1,"space-x-2"],[1,"flex","justify-center","items-center","p-2"],["btn","","matRipple","",3,"click"],["close","","icon","","matRipple","","mat-dialog-close",""],[1,"material-icons"],["failure","",1,"pt-8","relative"],[1,"p-4"]]},template:function(O,S){if(1&O&&e.DNE(0,b,37,7,"div",7)(1,d,6,0,"ng-template",null,0,e.C5r),2&O){const P=e.sdS(2);e.Y8G("ngIf",!S.failure)("ngIfElse",P)}},dependencies:[h.bT,n.BC,n.cb,n.j4,n.JD,g.VT,g._g,p.tx,f.r6],styles:["main[_ngcontent-%COMP%]{width:24rem;max-width:calc(100vw - 4.5rem)}[close][_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem}"]})}return R})()},2280:(gt,re,o)=>{"use strict";o.d(re,{L:()=>P});var e=o(3953),n=o(1865),l=o(177),h=o(9434),g=o(4918),p=o(5277),f=o(6600);const b=()=>[],d=()=>({disable_pan:!0,disable_zoom:!0});function y(M,w){if(1&M&&e.nrm(0,"image-carousel",22),2&M){const x=e.XpG(2);e.Y8G("images",x.desk.images)}}function R(M,w){if(1&M&&(e.j41(0,"div",25)(1,"div",26),e.EFF(2),e.k0s()()),2&M){const x=w.$implicit;e.R7$(2),e.JRh(x)}}function m(M,w){if(1&M&&(e.j41(0,"section",23)(1,"h2",14),e.pXf(2,3),e.k0s(),e.DNE(3,R,3,1,"div",24),e.k0s()),2&M){const x=e.XpG(2);e.R7$(3),e.Y8G("ngForOf",x.desk.features||e.lJ4(1,b))}}function v(M,w){if(1&M&&(e.j41(0,"section",27),e.nrm(1,"interactive-map",28),e.k0s()),2&M){const x=e.XpG(2);e.R7$(),e.Y8G("src",x.map_url)("focus",x.desk.map_id||x.desk.id)("features",x.features)("options",e.lJ4(4,d))}}function O(M,w){if(1&M){const x=e.RV6();e.qex(0),e.j41(1,"section",6),e.DNE(2,y,1,1,"image-carousel",7),e.j41(3,"button",8),e.bIt("click",function(){e.eBV(x);const _=e.XpG();return e.Njj(_.close.emit())}),e.j41(4,"app-icon"),e.EFF(5,"arrow_back"),e.k0s()(),e.j41(6,"button",9),e.bIt("click",function(){e.eBV(x);const _=e.XpG();return e.Njj(_.toggleFav.emit())}),e.j41(7,"app-icon"),e.EFF(8),e.k0s()()(),e.j41(9,"div",10)(10,"section",11)(11,"h2",12),e.EFF(12),e.k0s()(),e.j41(13,"section",13)(14,"h2",14),e.EFF(15,"Details"),e.k0s(),e.j41(16,"div",15)(17,"app-icon"),e.EFF(18,"person"),e.k0s(),e.j41(19,"p"),e.pXf(20,1),e.k0s()(),e.j41(21,"div",15)(22,"app-icon"),e.EFF(23,"desk"),e.k0s(),e.j41(24,"p"),e.EFF(25),e.k0s()(),e.j41(26,"div",15)(27,"app-icon"),e.EFF(28,"place"),e.k0s(),e.j41(29,"p"),e.EFF(30),e.k0s()()(),e.DNE(31,m,4,2,"section",16)(32,v,2,5,"section",17),e.k0s(),e.j41(33,"div",18)(34,"button",19),e.bIt("click",function(){e.eBV(x);const _=e.XpG();return _.active=!_.active,e.Njj(_.activeChange.emit(_.active))}),e.j41(35,"div",20)(36,"app-icon",21),e.EFF(37),e.k0s(),e.j41(38,"p"),e.pXf(39,2),e.k0s()()()(),e.bVm()}if(2&M){const x=e.XpG();e.R7$(),e.AVh("sm:h-64",null==x.desk.images?null:x.desk.images.length)("h-40",null==x.desk.images?null:x.desk.images.length)("sm:h-0",!(null!=x.desk.images&&x.desk.images.length))("h-12",!(null!=x.desk.images&&x.desk.images.length))("!bg-transparent",!(null!=x.desk.images&&x.desk.images.length)),e.R7$(),e.Y8G("ngIf",null==x.desk.images?null:x.desk.images.length),e.R7$(4),e.AVh("text-info-content",x.fav)("!bg-info",x.fav),e.R7$(2),e.JRh(x.fav?"favorite":"favorite_border"),e.R7$(4),e.SpI(" ",x.desk.display_name||x.desk.name||x.desk.id," "),e.R7$(13),e.SpI(" ",x.desk.display_name||x.desk.name||x.desk.id," "),e.R7$(5),e.JRh((null==x.desk.zone?null:x.desk.zone.display_name)||(null==x.desk.zone?null:x.desk.zone.name)),e.R7$(),e.Y8G("ngIf",null==x.desk.features?null:x.desk.features.length),e.R7$(),e.Y8G("ngIf",!x.hide_map),e.R7$(2),e.AVh("inverse",x.active),e.R7$(3),e.JRh(x.active?"remove":"add"),e.R7$(2),e.uP7(x.active),e.nnv(39)}}function S(M,w){1&M&&(e.j41(0,"div",29)(1,"p",30),e.pXf(2,4),e.k0s()())}let P=(()=>{class M{constructor(){this.fav=!1,this.active=!1,this.hide_map=!1,this.close=new e.bkB,this.toggleFav=new e.bkB,this.activeChange=new e.bkB,this.map_url="",this.features=[]}ngOnChanges(x){x.desk&&this.desk&&this.updateFeature()}updateFeature(){this.map_url=this.desk.zone.map_id,this.features=[{location:this.desk.map_id||this.desk.id,content:n.V}]}static#e=this.\u0275fac=function(I){return new(I||M)};static#t=this.\u0275cmp=e.VBU({type:M,selectors:[["desk-details"]],inputs:{desk:"desk",fav:"fav",active:"active",hide_map:"hide_map"},outputs:{close:"close",toggleFav:"toggleFav",activeChange:"activeChange"},features:[e.OA$],decls:3,vars:2,consts:()=>{let x,I,_,C,D;return x=$localize`:␟f3cd229363e020d7ceb13bb351bb87f86dda78ef␟6431414344811875961:Single desk`,I=$localize`:␟193cbdbbcae6ad83fa2f2ac8d7dcb6b41c384a89␟2952235329246771628:{VAR_SELECT, select, true {Remove from booking } false {Add to booking }}`,I=e.k04(I,{VAR_SELECT:"\ufffd0\ufffd"}),_=$localize`:␟fc6b8194e480db3111367487d3a97bdf5a6333a7␟5607930927273386767: ${I}:ICU: `,C=$localize`:␟bf10c600bd861cfd0a23f4759562ee0ae9dbe19f␟1551920764795208868:Facilities`,D=$localize`:␟c6efe811f5410838382ce9adb2636cb75d783ebc␟4621791550614740403: Select a desk to view it's details `,[["emptyState",""],x,_,C,D,[4,"ngIf","ngIfElse"],["image","",1,"relative","w-full","bg-base-300"],["class","absolute inset-0",3,"images",4,"ngIf"],["icon","","matRipple","","name","close-desk-details",1,"absolute","top-2","left-2","bg-base-200","sm:hidden","text-base-content",3,"click"],["icon","","matRipple","","name","toggle-desk-favourite-details",1,"absolute","top-2","right-2","bg-base-200",3,"click"],[1,"p-2","space-y-2","flex-1","h-[calc(100%-19.75rem)]","overflow-auto"],["actions","",1,"z-0","pb-2","border-b"],[1,"text-xl","font-medium","mb-2","mt-4"],["details","",1,"space-y-2","pb-2","border-b"],[1,"text-xl","font-medium"],[1,"flex","items-center","space-x-2"],["facilities","","class","space-y-2 pb-2 border-b",4,"ngIf"],["map","","class","w-full mx-auto h-64 sm:h-48 relative border border-base-200 overflow-hidden rounded",4,"ngIf"],[1,"px-2","pt-2","pb-[5.5rem]","border-t","border-base-200","shadow","sm:hidden"],["btn","","matRipple","","name","toggle-desk-details",1,"w-full",3,"click"],[1,"flex","items-center","justify-center"],[1,"text-2xl"],[1,"absolute","inset-0",3,"images"],["facilities","",1,"space-y-2","pb-2","border-b"],["class","flex items-center flex-wrap space-x-2",4,"ngFor","ngForOf"],[1,"flex","items-center","flex-wrap","space-x-2"],["for","feat",1,"flex-1","w-1/2"],["map","",1,"w-full","mx-auto","h-64","sm:h-48","relative","border","border-base-200","overflow-hidden","rounded"],[1,"pointer-events-none",3,"src","focus","features","options"],["empty","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[1,"opacity-30","text-center"]]},template:function(I,_){if(1&I&&e.DNE(0,O,40,25,"ng-container",5)(1,S,3,0,"ng-template",null,0,e.C5r),2&I){const C=e.sdS(2);e.Y8G("ngIf",_.desk)("ngIfElse",C)}},dependencies:[l.Sq,l.bT,h.R,g.S,p.H,f.r6],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:30%;min-width:20rem;height:100%;min-height:65vh;background:#fff}"]})}return M})()},4174:(gt,re,o)=>{"use strict";o.d(re,{_:()=>S});var e=o(3953),n=o(9707),l=o(4365),h=o(8379),g=o(4512),p=o(6665),f=o(177),b=o(9434),d=o(6600);const y=()=>[];function R(P,M){if(1&P&&(e.qex(0),e.EFF(1),e.nI1(2,"date"),e.nI1(3,"date"),e.bVm()),2&P){const w=e.XpG();e.R7$(),e.Lme(" ",e.i5U(2,2,w.start,w.time_format)," \u2014 ",e.i5U(3,5,w.end,w.time_format)," ")}}function m(P,M){1&P&&(e.qex(0),e.EFF(1,"All Day"),e.bVm())}function v(P,M){if(1&P){const w=e.RV6();e.j41(0,"div",15)(1,"p"),e.EFF(2),e.k0s(),e.j41(3,"button",16),e.bIt("click",function(){const I=e.eBV(w).$implicit,_=e.XpG();return e.Njj(_.setFeature(I,!1))}),e.j41(4,"app-icon"),e.EFF(5,"close"),e.k0s()()()}if(2&P){const w=M.$implicit;e.R7$(2),e.JRh(w)}}function O(P,M){if(1&P){const w=e.RV6();e.j41(0,"div",17)(1,"span"),e.pXf(2,3),e.k0s(),e.j41(3,"button",18),e.bIt("click",function(){e.eBV(w);const I=e.XpG();return e.Njj(I.setOptions({show_fav:!1}))}),e.j41(4,"app-icon"),e.EFF(5,"close"),e.k0s()()()}}let S=(()=>{class P extends n.Tv{get all_day(){return this._state.form.value.all_day}get start(){return this._state.form.value.date}get end(){const{date:w,duration:x,all_day:I}=this._state.form.value;return I?(0,g.D)(w):w+60*x*1e3}get time_format(){return this._settings.time_format}constructor(w,x,I){super(),this._bsheet=w,this._state=x,this._settings=I,this.view="list",this.viewChange=new e.bkB,this.options=this._state.options,this.setOptions=_=>this._state.setOptions(_),this.setFeature=(_,C)=>this._state.setFeature(_,C),this.editFilter=()=>this._bsheet.open(l.C)}static#e=this.\u0275fac=function(x){return new(x||P)(e.rXU(p.VK),e.rXU(h.n),e.rXU(n.h$))};static#t=this.\u0275cmp=e.VBU({type:P,selectors:[["desk-filters-display"]],inputs:{view:"view"},outputs:{viewChange:"viewChange"},features:[e.Vt3],decls:19,vars:17,consts:()=>{let w,x,I,_;return w=$localize`:␟19eaa5cd51d70d9ea957eecac78cfd811e9b93d8␟5208858215712453646: Filters `,x=$localize`:␟992a9a6a193a56c5b8846dc972c5e1977ee5f1aa␟8553228906889869186: Map `,I=$localize`:␟4b286e90831dd637c5cd3eb20544664ee7112669␟7787942140742011951: List `,_=$localize`:␟d6ad8326be48837fe776a268abc758d1c7ba4f05␟1305804744685886428:Favourites Only`,[w,x,I,_,["actions","",1,"sm:hidden","space-x-2","flex","flex-row","items-center","p-2"],["btn","","matRipple","","name","edit-desk-filters",1,"flex-1","w-1/2",3,"click"],[1,"flex","items-center"],["btn","","matRipple","","name","view-desk-map",1,"rounded-l","rounded-r-none",3,"click"],["btn","","matRipple","","name","view-desk-list",1,"rounded-r","rounded-l-none",3,"click"],["filters","",1,"flex","items-center","flex-wrap","p-2","w-[35rem]","max-w-full","sm:max-w-[35rem]"],["filter-item","","date",""],["filter-item","","time",""],[4,"ngIf"],["filter-item","","features","",4,"ngFor","ngForOf"],["filter-item","",4,"ngIf"],["filter-item","","features",""],["icon","","matRipple","","name","remove-desk-filter",1,"-mr-4",3,"click"],["filter-item",""],["icon","","matRipple","","name","remove-desk-favs-filter",1,"-mr-4",3,"click"]]},template:function(x,I){if(1&x&&(e.j41(0,"section",4)(1,"button",5),e.bIt("click",function(){return I.editFilter()}),e.pXf(2,0),e.k0s(),e.j41(3,"div",6)(4,"button",7),e.bIt("click",function(){return I.view="map",I.viewChange.emit(I.view)}),e.pXf(5,1),e.k0s(),e.j41(6,"button",8),e.bIt("click",function(){return I.view="list",I.viewChange.emit(I.view)}),e.pXf(7,2),e.k0s()()(),e.j41(8,"section",9)(9,"div",10),e.EFF(10),e.nI1(11,"date"),e.k0s(),e.j41(12,"div",11),e.DNE(13,R,4,8,"ng-container",12)(14,m,2,0,"ng-container",12),e.k0s(),e.DNE(15,v,6,1,"div",13),e.nI1(16,"async"),e.DNE(17,O,6,0,"div",14),e.nI1(18,"async"),e.k0s()),2&x){let _,C;e.R7$(4),e.AVh("inverse","map"!==I.view),e.R7$(2),e.AVh("inverse","list"!==I.view),e.R7$(4),e.JRh(e.i5U(11,9,I.start,"mediumDate")),e.R7$(3),e.Y8G("ngIf",!I.all_day),e.R7$(),e.Y8G("ngIf",I.all_day),e.R7$(),e.Y8G("ngForOf",(null==(_=e.bMT(16,12,I.options))?null:_.features)||e.lJ4(16,y)),e.R7$(2),e.Y8G("ngIf",null==(C=e.bMT(18,14,I.options))?null:C.show_fav)}},dependencies:[f.Sq,f.bT,b.R,d.r6,f.Jj,f.vh],styles:["[filter-item][_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 1rem;height:2rem;font-size:.875rem;border:1px solid rgba(0,0,0,.2);border-radius:1.25rem;margin-right:.5rem;margin-bottom:.5rem}[filter-item][_ngcontent-%COMP%]:hover{background:#0000001a}[filter-item][_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:.5rem}"]})}return P})()},4365:(gt,re,o)=>{"use strict";o.d(re,{C:()=>ie});var e=o(9707),n=o(4512),l=o(906),h=o(8026),g=o(8379),p=o(5006),f=o(9714),b=o(3953),d=o(6665),y=o(177),R=o(9417),m=o(3719),v=o(2765),O=o(6600),S=o(9608),P=o(3476),M=o(1413),w=o(9434),x=o(2798),I=o(6062),_=o(1780);const C=()=>({standalone:!0}),D=()=>[];function A(ce,oe){if(1&ce){const me=b.RV6();b.j41(0,"button",33),b.bIt("click",function(){b.eBV(me);const Oe=b.XpG();return b.Njj(Oe.close())}),b.j41(1,"app-icon"),b.EFF(2,"keyboard_arrow_left"),b.k0s()()}}function B(ce,oe){if(1&ce&&(b.j41(0,"mat-option",37),b.EFF(1),b.k0s()),2&ce){const me=oe.$implicit;b.Y8G("value",me),b.R7$(),b.SpI(" ",me.display_name||me.name," ")}}function F(ce,oe){if(1&ce){const me=b.RV6();b.j41(0,"mat-form-field",34)(1,"mat-select",35),b.bIt("ngModelChange",function(Oe){b.eBV(me);const we=b.XpG();return b.Njj(we.setRegion(Oe))}),b.DNE(2,B,2,2,"mat-option",36),b.nI1(3,"async"),b.k0s()()}if(2&ce){const me=b.XpG();b.R7$(),b.Y8G("ngModel",me.region)("ngModelOptions",b.lJ4(5,C)),b.R7$(),b.Y8G("ngForOf",b.bMT(3,3,me.regions))}}function $(ce,oe){if(1&ce&&(b.j41(0,"mat-option",37),b.EFF(1),b.k0s()),2&ce){const me=oe.$implicit;b.Y8G("value",me),b.R7$(),b.SpI(" ",me.display_name||me.name," ")}}function U(ce,oe){if(1&ce){const me=b.RV6();b.j41(0,"mat-form-field",34)(1,"mat-select",38),b.nI1(2,"async"),b.nI1(3,"async"),b.nI1(4,"async"),b.bIt("ngModelChange",function(Oe){b.eBV(me);const we=b.XpG();return b.Njj(we.setBuilding(Oe))}),b.DNE(5,$,2,2,"mat-option",36),b.nI1(6,"async"),b.k0s()()}if(2&ce){let me;const he=b.XpG();b.R7$(),b.Y8G("ngModel",b.bMT(2,4,he.building))("ngModelOptions",b.lJ4(12,C))("placeholder",(null==(me=b.bMT(3,6,he.building))?null:me.display_name)||(null==(me=b.bMT(4,8,he.building))?null:me.name)),b.R7$(4),b.Y8G("ngForOf",b.bMT(6,10,he.buildings))}}function G(ce,oe){if(1&ce&&(b.j41(0,"div",42),b.EFF(1),b.nI1(2,"building"),b.j41(3,"span",43),b.EFF(4," - "),b.k0s()()),2&ce){let me;const he=b.XpG().$implicit;b.R7$(),b.SpI(" ",null==(me=b.bMT(2,1,he.parent_id))?null:me.display_name," ")}}function J(ce,oe){if(1&ce&&(b.j41(0,"mat-option",37)(1,"div",40),b.DNE(2,G,5,3,"div",41),b.j41(3,"div"),b.EFF(4),b.k0s()()()),2&ce){const me=oe.$implicit,he=b.XpG(2);b.Y8G("value",me.id),b.R7$(2),b.Y8G("ngIf",he.use_region),b.R7$(2),b.SpI(" ",me.display_name||me.name," ")}}function te(ce,oe){if(1&ce){const me=b.RV6();b.j41(0,"mat-form-field",34)(1,"mat-select",39),b.nI1(2,"async"),b.bIt("ngModelChange",function(Oe){b.eBV(me);const we=b.XpG();return b.Njj(we.setOptions({zone_id:Oe}))}),b.DNE(3,J,5,3,"mat-option",36),b.nI1(4,"async"),b.k0s()()}if(2&ce){let me;const he=b.XpG();b.R7$(),b.Y8G("ngModel",null==(me=b.bMT(2,3,he.options))?null:me.zone_id)("ngModelOptions",b.lJ4(7,C)),b.R7$(2),b.Y8G("ngForOf",b.bMT(4,5,he.levels))}}function ne(ce,oe){1&ce&&(b.j41(0,"div",44)(1,"mat-checkbox",45),b.pXf(2,6),b.k0s()())}function K(ce,oe){if(1&ce){const me=b.RV6();b.j41(0,"div",46)(1,"div",47)(2,"label"),b.pXf(3,7),b.k0s(),b.j41(4,"a-time-field",48),b.bIt("ngModelChange",function(Oe){b.eBV(me);const we=b.XpG();return b.Njj(we.form.patchValue({date:Oe}))}),b.k0s()(),b.j41(5,"div",47)(6,"label"),b.pXf(7,8),b.k0s(),b.nrm(8,"a-duration-field",49),b.k0s()()}if(2&ce){let me;const he=b.XpG();b.R7$(4),b.Y8G("ngModel",he.form.value.date)("ngModelOptions",b.lJ4(8,C))("use_24hr",he.use_24hr),b.R7$(4),b.Y8G("time",null==(me=he.form.get("date"))?null:me.value)("max",600)("min",60)("step",60)("use_24hr",he.use_24hr)}}function k(ce,oe){if(1&ce){const me=b.RV6();b.j41(0,"div",52)(1,"div",53),b.EFF(2),b.k0s(),b.j41(3,"mat-checkbox",54),b.nI1(4,"async"),b.bIt("ngModelChange",function(Oe){const we=b.eBV(me).$implicit,We=b.XpG(2);return b.Njj(We.setFeature(we,Oe))}),b.k0s()()}if(2&ce){let me;const he=oe.$implicit,Oe=b.XpG(2);b.R7$(2),b.JRh(he),b.R7$(),b.Y8G("ngModel",((null==(me=b.bMT(4,3,Oe.options))?null:me.features)||b.lJ4(5,D)).includes(he))("ngModelOptions",b.lJ4(6,C))}}function j(ce,oe){if(1&ce&&(b.j41(0,"section",50)(1,"h2",27),b.pXf(2,9),b.k0s(),b.DNE(3,k,5,7,"div",51),b.nI1(4,"async"),b.k0s()),2&ce){const me=b.XpG();b.R7$(3),b.Y8G("ngForOf",b.bMT(4,1,me.features))}}function W(ce,oe){if(1&ce){const me=b.RV6();b.j41(0,"div",55)(1,"button",56),b.bIt("click",function(){b.eBV(me);const Oe=b.XpG();return b.Njj(Oe.close())}),b.pXf(2,10),b.k0s()()}}let ie=(()=>{class ce{get building(){return this._org.building}set building(me){this._org.building=me}get region(){return this._org.region}set region(me){this._org.region=me}get allow_time_changes(){return!!this._settings.get("app.desks.allow_time_changes")}get allow_all_day(){return this.allow_time_changes&&!!this._settings.get("app.desks.allow_all_day")}get end_date(){return(0,n.D)((0,l.f)(Date.now(),this._settings.get("app.desks.available_period")||90))}get use_24hr(){return this._settings.get("app.use_24_hour_time")}get use_region(){return this._settings.get("app.use_region")}constructor(me,he,Oe,we){this._bsheet_ref=me,this._state=he,this._org=Oe,this._settings=we,this.can_close=!1,this.options=this._state.options,this.features=this._state.features,this.buildings=this._org.active_buildings,this.form=this._state.form,this.regions=this._org.region_list,this.levels=(0,f.zV)([this._org.active_region,this._org.active_building]).pipe((0,p.T)(([We,Xe])=>(this.use_region?this._org.levelsForRegion(We):this._org.levelsForBuilding(Xe)).filter(pe=>!pe.tags.includes("parking")).sort((pe,Ee)=>pe.parent_id.localeCompare(Ee.parent_id)||(pe.display_name||"").localeCompare(Ee.display_name||"")))),this.close=()=>this._bsheet_ref.dismiss(),this.setOptions=We=>this._state.setOptions(We),this.setFeature=(We,Xe)=>this._state.setFeature(We,Xe),this.setLevel=We=>{},this.can_close=!!this._bsheet_ref}static#e=this.\u0275fac=function(he){return new(he||ce)(b.rXU(d.eN,8),b.rXU(g.n),b.rXU(h.y),b.rXU(e.h$))};static#t=this.\u0275cmp=b.VBU({type:ce,selectors:[["desk-filters"]],inputs:{hide_levels:"hide_levels"},decls:39,vars:30,consts:()=>{let me,he,Oe,we,We,Xe,Me,ge,pe,Ee,Ge,Qe,$e;return me=$localize`:␟a42190bd19b1cc93828e70bd0ef7a119f4c22aca␟7734428352389083660:Desk Filters`,he=$localize`:␟4f8b2bb476981727ab34ed40fde1218361f92c45␟5028777105388019087:Details`,Oe=$localize`:␟ed31c09fd77c36238c13d83635f3fe5294c733d2␟471816275243265264:Location`,we=$localize`:␟2f933b826a570836cab04f683970a2d22068458c␟3973931101896534797:Date`,We=$localize`:␟bde3d9fd949ba4c6014b8e64c1362753bca1cf0c␟5010873675481014004: ${"\ufffd0\ufffd"}:INTERPOLATION: `,Xe=$localize`:␟cd942cf7297cb47f1a116efdedff1c8547c6ea3e␟5737771872454551963: ${"\ufffd0\ufffd"}:INTERPOLATION: `,Me=$localize`:␟130845b58eba8e50c98f3fba117a0168cdba4f31␟8264413387051126615:Any Region`,ge=$localize`:␟50407595967bf29832e873b41f9de3502d5c3e03␟7323982518822503502:Any Level`,pe=$localize`:␟d7f43e20f3a729fa3de32bc7a1f709ccd722eae5␟835486935962207481: All Day `,Ee=$localize`:␟7c0a71d337783e527c1c8e91e433b301c5b1d8a8␟4204880191779081093:Start Time`,Ge=$localize`:␟e1f10d9bf4d3c37490cd5bf82007444ae7af46b1␟3845185958891849368:End Time`,Qe=$localize`:␟f61c6867295f3b53d23557021f2f4e0aa1d0b8fc␟8650499415827640724:Type`,$e=$localize`:␟c17e2cc448524a39eb83b2937cea3235a2e8bf37␟2296888311792137027: Apply Filters `,[me,he,Oe,we,We,Xe,pe,Ee,Ge,Qe,$e,[1,"flex","rounded-t-md","items-center","border-b","border-base-200","pb-2","sm:hidden"],[1,"flex-1","pl-2"],["icon","","matRipple","","name","close-desk-filters","class","sm:hidden",3,"click",4,"ngIf"],[1,"font-medium","flex-2","text-center"],[1,"flex-1"],[1,"max-h-[65vh]","p-2","overflow-y-auto","overflow-x-hidden","divide-y","divide-base-200","w-full","max-w-[100vw]","sm:max-w-[30vw]",3,"formGroup"],["details",""],[1,"text-lg","font-medium","mb-1"],[1,"flex-1","min-w-[8rem]","flex","flex-col"],["for","location"],["appearance","outline","class","w-full",4,"ngIf"],[1,"flex-1","min-w-[256px]"],["name","date","formControlName","date",3,"to"],["class","flex justify-end -mt-2 mb-2",4,"ngIf"],["class","flex items-center space-x-2",4,"ngIf"],["favs","",1,"space-y-2","pb-4"],[1,"text-lg","font-medium"],[1,"flex","items-center"],["for","fav",1,"flex-1","w-1/2"],["name","fav",3,"ngModelChange","ngModel","ngModelOptions"],["class","space-y-2","features","",4,"ngIf"],["class","px-2 py-2 w-full border-t border-base-200",4,"ngIf"],["icon","","matRipple","","name","close-desk-filters",1,"sm:hidden",3,"click"],["appearance","outline",1,"w-full"],["name","region","placeholder",Me,3,"ngModelChange","ngModel","ngModelOptions"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["name","building",3,"ngModelChange","ngModel","ngModelOptions","placeholder"],["name","location","placeholder",ge,3,"ngModelChange","ngModel","ngModelOptions"],[1,"flex","flex-col-reverse"],["class","opacity-30 text-xs",4,"ngIf"],[1,"opacity-30","text-xs"],[1,"opacity-0"],[1,"flex","justify-end","-mt-2","mb-2"],["formControlName","all_day"],[1,"flex","items-center","space-x-2"],[1,"flex-1","w-1/3"],["name","start-time",3,"ngModelChange","ngModel","ngModelOptions","use_24hr"],["formControlName","duration",3,"time","max","min","step","use_24hr"],["features","",1,"space-y-2"],["class","flex items-center flex-wrap space-x-2",4,"ngFor","ngForOf"],[1,"flex","items-center","flex-wrap","space-x-2"],["for","feat",1,"flex-1","w-1/2"],[3,"ngModelChange","ngModel","ngModelOptions"],[1,"px-2","py-2","w-full","border-t","border-base-200"],["btn","","matRipple","","name","apply-desk-filters",1,"w-full",3,"click"]]},template:function(he,Oe){if(1&he&&(b.j41(0,"div",11)(1,"div",12),b.DNE(2,A,3,0,"button",13),b.k0s(),b.j41(3,"h3",14),b.pXf(4,0),b.k0s(),b.nrm(5,"div",15),b.k0s(),b.j41(6,"form",16)(7,"section",17)(8,"h2",18),b.pXf(9,1),b.k0s(),b.j41(10,"div",19)(11,"label",20),b.pXf(12,2),b.k0s(),b.DNE(13,F,4,6,"mat-form-field",21),b.nI1(14,"async"),b.DNE(15,U,7,13,"mat-form-field",21),b.nI1(16,"async"),b.DNE(17,te,5,8,"mat-form-field",21),b.k0s(),b.j41(18,"div",22)(19,"label"),b.pXf(20,3),b.k0s(),b.j41(21,"a-date-field",23),b.EFF(22),b.nI1(23,"translate"),b.k0s()(),b.DNE(24,ne,3,0,"div",24)(25,K,9,9,"div",25),b.k0s(),b.j41(26,"section",26)(27,"h2",27),b.pXf(28,4),b.nI1(29,"translate"),b.k0s(),b.j41(30,"div",28)(31,"div",29),b.pXf(32,5),b.nI1(33,"translate"),b.k0s(),b.j41(34,"mat-checkbox",30),b.nI1(35,"async"),b.bIt("ngModelChange",function(We){return Oe.setOptions({show_fav:We})}),b.k0s()()(),b.DNE(36,j,5,3,"section",31),b.nI1(37,"async"),b.k0s(),b.DNE(38,W,3,0,"div",32)),2&he){let we,We,Xe,Me;b.R7$(2),b.Y8G("ngIf",Oe.can_close),b.R7$(4),b.Y8G("formGroup",Oe.form),b.R7$(7),b.Y8G("ngIf",Oe.use_region&&(null==(we=b.bMT(14,15,Oe.regions))?null:we.length)),b.R7$(2),b.Y8G("ngIf",!Oe.use_region&&(null==(We=b.bMT(16,17,Oe.buildings))?null:We.length)>1),b.R7$(2),b.Y8G("ngIf",!Oe.hide_levels),b.R7$(4),b.Y8G("to",Oe.end_date),b.R7$(),b.SpI(" ",b.bMT(23,19,"FORM.DATE_ERROR")," "),b.R7$(2),b.Y8G("ngIf",Oe.allow_all_day),b.R7$(),b.Y8G("ngIf",!Oe.form.value.all_day),b.R7$(4),b.uP7(b.bMT(29,21,"COMMON.FAVOURITES")),b.nnv(28),b.R7$(4),b.uP7(b.bMT(33,23,"DESKS.SHOW_FAVOURITES")),b.nnv(32),b.R7$(),b.Y8G("ngModel",null==(Xe=b.bMT(35,25,Oe.options))?null:Xe.show_fav)("ngModelOptions",b.lJ4(29,C)),b.R7$(2),b.Y8G("ngIf",null==(Me=b.bMT(37,27,Oe.features))?null:Me.length),b.R7$(2),b.Y8G("ngIf",Oe.can_close)}},dependencies:[y.Sq,y.bT,R.qT,R.BC,R.cb,R.vS,R.j4,R.JD,m.rl,v.So,O.wT,S.G,P.y,M.t,w.R,x.VO,O.r6,y.Jj,I.b,_.D9],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:100%;max-width:100vw}"]})}return ce})()},3662:(gt,re,o)=>{"use strict";o.d(re,{D:()=>w});var e=o(3953),n=o(9714),l=o(5006),h=o(8379),g=o(177),p=o(9183),f=o(9434),b=o(3208),d=o(6600);function y(x,I){1&x&&(e.j41(0,"div",22)(1,"app-icon"),e.EFF(2,"done"),e.k0s()())}function R(x,I){if(1&x&&e.nrm(0,"img",23),2&x){const _=e.XpG().$implicit;e.Y8G("source",_.images[0])}}function m(x,I){1&x&&e.nrm(0,"img",24)}function v(x,I){if(1&x){const _=e.RV6();e.j41(0,"li",11)(1,"button",12),e.bIt("click",function(){const D=e.eBV(_).$implicit,A=e.XpG(3);return e.Njj(A.selectDesk(D))}),e.j41(2,"div",13),e.DNE(3,y,3,0,"div",14)(4,R,1,1,"img",15)(5,m,1,0,"ng-template",null,2,e.C5r),e.k0s(),e.j41(7,"div",16)(8,"span",17),e.EFF(9),e.k0s(),e.j41(10,"div",18)(11,"app-icon",19),e.EFF(12,"place"),e.k0s(),e.j41(13,"p",20),e.EFF(14),e.k0s()()()(),e.j41(15,"button",21),e.bIt("click",function(){const D=e.eBV(_).$implicit,A=e.XpG(3);return e.Njj(A.toggleFav.emit(D))}),e.j41(16,"app-icon"),e.EFF(17),e.k0s()()()}if(2&x){const _=I.$implicit,C=e.sdS(6),D=e.XpG(3);e.AVh("!border-info",D.active===_.id),e.R7$(3),e.Y8G("ngIf",D.selected.includes(_.id)),e.R7$(),e.Y8G("ngIf",null==_.images?null:_.images.length)("ngIfElse",C),e.R7$(5),e.SpI(" ",_.name||_.id||"Desk"," "),e.R7$(5),e.SpI(" ",(null==_.zone?null:_.zone.display_name)||(null==_.zone?null:_.zone.name)||"<No Level>"," "),e.R7$(),e.AVh("text-info",D.isFavourite(_.id)),e.R7$(2),e.JRh(D.isFavourite(_.id)?"favorite":"favorite_border")}}function O(x,I){if(1&x&&(e.j41(0,"ul",9),e.DNE(1,v,18,10,"li",10),e.nI1(2,"async"),e.k0s()),2&x){const _=e.XpG(2);e.R7$(),e.Y8G("ngForOf",e.bMT(2,1,_.desks))}}function S(x,I){if(1&x&&(e.qex(0),e.DNE(1,O,3,3,"ul",8),e.nI1(2,"async"),e.bVm()),2&x){let _;const C=e.XpG(),D=e.sdS(10);e.R7$(),e.Y8G("ngIf",null==(_=e.bMT(2,2,C.desks))?null:_.length)("ngIfElse",D)}}function P(x,I){1&x&&(e.j41(0,"div",25),e.nrm(1,"mat-spinner",26),e.j41(2,"p",27),e.EFF(3,"Finding available desks..."),e.k0s()()),2&x&&(e.R7$(),e.Y8G("diameter",32))}function M(x,I){1&x&&(e.j41(0,"div",28)(1,"p",29),e.EFF(2," No available desk for selected time and/or filters "),e.k0s()())}let w=(()=>{class x{constructor(_){this._state=_,this.active="",this.selected="",this.favorites=[],this.onSelect=new e.bkB,this.toggleFav=new e.bkB,this.desks=(0,n.zV)([this._state.options,this._state.available_resources]).pipe((0,l.T)(([{show_fav:C},D])=>D.filter(A=>!C||this.isFavourite(A.id)))),this.loading=this._state.loading}isFavourite(_){return this.favorites.includes(_)}selectDesk(_){this.onSelect.emit(_)}static#e=this.\u0275fac=function(C){return new(C||x)(e.rXU(h.n))};static#t=this.\u0275cmp=e.VBU({type:x,selectors:[["desk-list"]],inputs:{active:"active",selected:"selected",favorites:"favorites"},outputs:{onSelect:"onSelect",toggleFav:"toggleFav"},decls:11,vars:7,consts:()=>{let _,C;return _=$localize`:␟80ed5b776a26a78099e230e0e89d96c33ba44e24␟5968132631442328843:Results`,C=$localize`:␟99a2ae2a83b9fba5f9d4547746782447904ccf7b␟1931205204318295377: ${"\ufffd0\ufffd"}:INTERPOLATION: result(s) found `,[["load_state",""],["empty_state",""],["placeholder",""],_,C,[1,"font-bold"],["count","",1,"text-sm","opacity-60","mb-4"],[4,"ngIf","ngIfElse"],["class","list-style-none space-y-2",4,"ngIf","ngIfElse"],[1,"list-style-none","space-y-2"],["desk","","class","relative rounded-lg w-full shadow border bg-base-100 border-base-200 overflow-hidden",3,"!border-info",4,"ngFor","ngForOf"],["desk","",1,"relative","rounded-lg","w-full","shadow","border","bg-base-100","border-base-200","overflow-hidden"],["name","select-desk","matRipple","",1,"w-full","h-full","flex","p-2",3,"click"],[1,"relative","w-20","h-20","rounded-xl","bg-base-200","mr-4","flex","items-center","justify-center"],["class","absolute top-1 left-1 border border-neutral bg-base-200 rounded-full h-6 w-6 flex items-center justify-center text-white",4,"ngIf"],["auth","","class","object-cover h-full",3,"source",4,"ngIf","ngIfElse"],[1,"space-y-2","pt-2","flex-1","text-left"],[1,"font-medium"],[1,"flex","items-center","text-sm","space-x-2"],[1,"text-info"],[1,"text-xs"],["icon","","matRipple","","name","toggle-desk-favourite",1,"absolute","top-1","right-1",3,"click"],[1,"absolute","top-1","left-1","border","border-neutral","bg-base-200","rounded-full","h-6","w-6","flex","items-center","justify-center","text-white"],["auth","",1,"object-cover","h-full",3,"source"],["src","assets/icons/desk-placeholder.svg",1,"m-auto"],["loading","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[3,"diameter"],[1,"opacity-30"],["empty","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[1,"opacity-30","text-center"]]},template:function(C,D){if(1&C&&(e.j41(0,"h3",5),e.pXf(1,3),e.k0s(),e.j41(2,"p",6),e.pXf(3,4),e.nI1(4,"async"),e.k0s(),e.DNE(5,S,3,4,"ng-container",7),e.nI1(6,"async"),e.DNE(7,P,4,1,"ng-template",null,0,e.C5r)(9,M,3,0,"ng-template",null,1,e.C5r)),2&C){let A,B;const F=e.sdS(8);e.R7$(4),e.uP7((null==(A=e.bMT(4,3,D.desks))?null:A.length)||0),e.nnv(3),e.R7$(),e.Y8G("ngIf",!(null!=(B=e.bMT(6,5,D.loading))&&B.length))("ngIfElse",F)}},dependencies:[g.Sq,g.bT,p.LG,f.R,b.U,d.r6,g.Jj],styles:["[_nghost-%COMP%]{width:100%;height:100%;padding:.5rem;background:#0000000d;overflow-y:auto}"]})}return x})()},215:(gt,re,o)=>{"use strict";o.d(re,{Z:()=>C});var e=o(3953),n=o(9707),l=o(5006),h=o(8379),g=o(9928),p=o(9714),f=o(5897),b=o(2882),d=o(2185),y=o(177),R=o(9417),m=o(3719),v=o(6600),O=o(4918),S=o(2798),P=o(6062);const M=()=>({controls:!0}),w=()=>({standalone:!0});function x(D,A){if(1&D&&(e.j41(0,"div",10),e.EFF(1),e.nI1(2,"building"),e.j41(3,"span",11),e.EFF(4," - "),e.k0s()()),2&D){let B;const F=e.XpG().$implicit;e.R7$(),e.SpI(" ",null==(B=e.bMT(2,1,F.parent_id))?null:B.display_name," ")}}function I(D,A){if(1&D&&(e.j41(0,"mat-option",7)(1,"div",8),e.DNE(2,x,5,3,"div",9),e.j41(3,"div"),e.EFF(4),e.k0s()()()),2&D){const B=A.$implicit,F=e.XpG(2);e.Y8G("value",B),e.R7$(2),e.Y8G("ngIf",F.use_region),e.R7$(2),e.SpI(" ",B.display_name||B.name," ")}}function _(D,A){if(1&D){const B=e.RV6();e.j41(0,"mat-form-field",4)(1,"mat-select",5),e.mxI("ngModelChange",function($){e.eBV(B);const U=e.XpG();return e.DH7(U.level,$)||(U.level=$),e.Njj($)}),e.bIt("ngModelChange",function($){e.eBV(B);const U=e.XpG();return e.Njj(U.setOptions({zone_ids:[$.id]}))}),e.DNE(2,I,5,3,"mat-option",6),e.nI1(3,"async"),e.k0s()()}if(2&D){const B=e.XpG();e.R7$(),e.R50("ngModel",B.level),e.Y8G("ngModelOptions",e.lJ4(5,w)),e.R7$(),e.Y8G("ngForOf",e.bMT(3,3,B.levels))}}let C=(()=>{class D extends n.Tv{get map_url(){return this.level?.map_id||""}get use_region(){return!!this._settings.get("app.use_region")}constructor(B,F,$){super(),this._state=B,this._settings=F,this._org=$,this.is_displayed=!1,this.active="",this.onSelect=new e.bkB,this.desks=this._state.available_resources,this.loading=this._state.loading,this.zoom=1,this.center={x:.5,y:.5},this.coordinates=void 0,this._change=new g.t(0),this.levels=(0,p.zV)([this._org.active_region,this._org.active_building]).pipe((0,l.T)(([U,G])=>(this.use_region?this._org.levelsForRegion(U):this._org.levelsForBuilding(G)).filter(ne=>!ne.tags.includes("parking")).sort((ne,K)=>ne.parent_id.localeCompare(K.parent_id)||(ne.display_name||"").localeCompare(K.display_name||"")))),this.setOptions=U=>this._state.setOptions(U),this.actions=this._state.available_resources.pipe((0,l.T)(U=>U.map(G=>({id:G.map_id||G.id,action:["touchend","mouseup"],callback:()=>this.selectDesk(G)})))),this.features=(0,p.zV)([this._state.resources,this._state.available_resources]).pipe((0,l.T)(([U])=>this._settings.get("app.desks.hide_user")?[]:U.map(G=>({location:G.id,content:b.Y,full_size:!0,no_scale:!0,data:{id:G.map_id||G.id,map_id:G.name,name:G.name||G.map_id,user:this._state.resourceUserName(G.id)},z_index:20})))),this.styles=(0,p.zV)([this._state.resources,this._state.available_resources,this._change]).pipe((0,l.T)(([U,G])=>U.reduce((J,te)=>{const ne=this._settings.get("app.explore.colors")||{},K=this.active===te.id?"active":G.find(k=>k.id===te.id)?"free":this._state.resourceUserName(te.id)?"busy":"not-bookable";return J[`#${te.map_id||te.id}`]={fill:"active"===K?"#512DA8":ne[`desk-${K}`]||ne[`${K}`]||f.U[`${K}`]},J},{})))}ngOnInit(){this.subscription("levels_update",this._state.options.subscribe(({zone_id:B})=>{const F=this._org.levelWithID([B]);F&&(this.level=F)}))}ngOnChanges(B){B.active&&this._change.next(Date.now())}selectDesk(B){this.onSelect.emit(B)}setLevel(B){this.setOptions({zone_id:B?.id});const F=this._org.buildings.find($=>$.id===B?.parent_id);if(F){const[$,U]=F.location.split(",").map(G=>parseFloat(G));this.coordinates={latitude:$,longitude:U}}this.level=B}setZoom(B){this.zoom=Math.max(.5,Math.min(10,B))}resetMap(){this.zoom=1,this.center={x:.5,y:.5}}static#e=this.\u0275fac=function(F){return new(F||D)(e.rXU(h.n),e.rXU(n.h$),e.rXU(d.yb))};static#t=this.\u0275cmp=e.VBU({type:D,selectors:[["desk-map"]],inputs:{is_displayed:"is_displayed",active:"active"},outputs:{onSelect:"onSelect"},features:[e.Vt3,e.OA$],decls:8,vars:17,consts:()=>{let B;return B=$localize`:␟50407595967bf29832e873b41f9de3502d5c3e03␟7323982518822503502:Any Level`,[[1,"bg-base-100","p-2","border-b","border-base-200","w-full"],["levels","","appearance","outline","class","w-full",4,"ngIf"],[1,"relative","flex-1","w-full"],[3,"zoomChange","centerChange","src","zoom","center","styles","features","actions","options"],["levels","","appearance","outline",1,"w-full"],["name","location","placeholder",B,3,"ngModelChange","ngModel","ngModelOptions"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"flex","flex-col-reverse"],["class","opacity-30 text-xs",4,"ngIf"],[1,"opacity-30","text-xs"],[1,"opacity-0"]]},template:function(F,$){if(1&F&&(e.j41(0,"div",0),e.DNE(1,_,4,6,"mat-form-field",1),e.nI1(2,"async"),e.k0s(),e.j41(3,"div",2)(4,"interactive-map",3),e.nI1(5,"async"),e.nI1(6,"async"),e.nI1(7,"async"),e.mxI("zoomChange",function(G){return e.DH7($.zoom,G)||($.zoom=G),G})("centerChange",function(G){return e.DH7($.center,G)||($.center=G),G}),e.k0s()()),2&F){let U;e.R7$(),e.Y8G("ngIf",null==(U=e.bMT(2,8,$.levels))?null:U.length),e.R7$(3),e.Y8G("src",$.map_url),e.R50("zoom",$.zoom)("center",$.center),e.Y8G("styles",e.bMT(5,10,$.styles))("features",e.bMT(6,12,$.features))("actions",e.bMT(7,14,$.actions))("options",e.lJ4(16,M))}},dependencies:[y.Sq,y.bT,R.BC,R.vS,m.rl,v.wT,O.S,S.VO,y.Jj,P.b],styles:["[_nghost-%COMP%]{position:relative;background:#0000000d;display:flex;flex-direction:column}button[_ngcontent-%COMP%]{border-radius:0}"]})}return D})()},622:(gt,re,o)=>{"use strict";o.d(re,{O:()=>M,S:()=>P});var e=o(4006),n=o(9707),l=o(8379),h=o(3953),g=o(177),p=o(9434),f=o(6600),b=o(2280),d=o(4365),y=o(4174),R=o(3662),m=o(215);function v(w,x){if(1&w){const I=h.RV6();h.j41(0,"desk-list",30),h.bIt("toggleFav",function(C){h.eBV(I);const D=h.XpG();return h.Njj(D.toggleFavourite(C))})("onSelect",function(C){h.eBV(I);const D=h.XpG();return h.Njj(D.displayed=C)}),h.k0s()}if(2&w){const I=h.XpG();h.Y8G("active",null==I.displayed?null:I.displayed.id)("selected",I.selected_ids)("favorites",I.favorites)}}function O(w,x){if(1&w){const I=h.RV6();h.j41(0,"button",31),h.bIt("click",function(){h.eBV(I);const C=h.XpG();return h.Njj(C.displayed=null)}),h.pXf(1,6),h.k0s()}}function S(w,x){if(1&w){const I=h.RV6();h.j41(0,"desk-map",32),h.bIt("onSelect",function(C){h.eBV(I);const D=h.XpG();return h.Njj(D.displayed=C)}),h.k0s()}if(2&w){const I=h.XpG();h.Y8G("is_displayed",!!I.displayed)("active",null==I.displayed?null:I.displayed.id)}}const P="favourite_desks";let M=(()=>{class w{get selected_ids(){return this.selected.map(I=>I.id).join(",")}get favorites(){return this._settings.get(P)||[]}constructor(I,_,C,D){this._dialog_ref=I,this._settings=_,this._event_form=C,this._data=D,this.selected=[],this.view="list",this.selected=[...D.items||[]],this._event_form.setOptions(D.options)}isSelected(I){return I&&this.selected_ids.includes(I)}setSelected(I,_){const C=this.selected.filter(D=>D.id!==I.id);_&&C.push(I),this.selected=C,!this._data.options.group&&_&&(this.displayed=null,setTimeout(()=>this._dialog_ref.close([I]),50))}toggleFavourite(I){const _=this.favorites;_.includes(I.id)?this._settings.saveUserSetting(P,_.filter(D=>D!==I.id)):this._settings.saveUserSetting(P,[..._,I.id])}static#e=this.\u0275fac=function(_){return new(_||w)(h.rXU(e.CP),h.rXU(n.h$),h.rXU(l.n),h.rXU(e.Vh))};static#t=this.\u0275cmp=h.VBU({type:w,selectors:[["desk-select-modal"]],decls:39,vars:27,consts:()=>{let I,_,C,D,A,B;return I=$localize`:␟4221741642af22ed8e17ee106c326def85e70c61␟1749010714240797250:Find Desk`,_=$localize`:␟30d3439b0e0095fe69503245f3bd7a2e9498be7c␟8443571736703532556: View List `,C=$localize`:␟18843b85d1a4f17fefafd07bc5cde636dca44295␟819716823718458903:Back to form`,D=$localize`:␟f566e50852be3f327b040870cbf63b59ea3b8d8c␟3611851363359647609: ${"\ufffd0\ufffd"}:INTERPOLATION: desk(s) added `,A=$localize`:␟f45c34c7afdabef75762747a20f4113d65eb2312␟6426755559249487826: ${"\ufffd0\ufffd"}:INTERPOLATION: `,B=$localize`:␟ccda1d41ca79703a85a3a598c1d97e040a32b766␟874721418273731876: Back `,[["map_view",""],I,_,C,D,A,B,[1,"w-[100vw]","h-[100vh]","sm:relative","sm:w-auto","sm:h-auto","flex","flex-col","bg-base-100"],[1,"flex","items-center","space-x-4","w-full"],["icon","","mat-dialog-close","",1,"bg-base-200"],[1,"hidden","sm:flex","items-center","justify-end","flex-1"],["btn","","matRipple","","name","view-desk-map",1,"rounded-l","rounded-r-none",3,"click"],["btn","","matRipple","","name","view-desk-list",1,"rounded-r","rounded-l-none",3,"click"],[1,"flex","items-center","divide-x","divide-base-200","h-[65vh]","w-[calc(100vw-4rem)]","overflow-hidden"],[1,"h-full","hidden","sm:flex","max-w-[20rem]","sm:h-[65vh]","sm:max-h-full",3,"hide_levels"],[1,"flex","flex-col","items-center","flex-1","w-1/2","h-full","sm:h-[65vh]"],[1,"w-full","border-b","border-base-200",3,"viewChange","view"],["class","flex-1 h-1/2 bg-base-200",3,"active","selected","favorites","toggleFav","onSelect",4,"ngIf","ngIfElse"],[1,"h-full","w-full","sm:h-[65vh]","absolute","sm:relative","sm:flex","sm:max-w-[20rem]","z-20","bg-base-100","block",3,"activeChange","toggleFav","close","desk","active","hide_map","fav"],[1,"flex","sm:hidden","flex-col-reverse","items-center","justify-end","px-2","pt-2","pb-[5.5rem]","border-t","border-base-200","w-full"],["btn","","matRipple","","name","desk-return","class","inverse sm:hidden w-full",3,"click",4,"ngIf"],["btn","","matRipple","","name","save-desks",1,"w-full","sm:w-32","sm:mb-0",3,"mat-dialog-close"],[1,"hidden","sm:flex","items-center","justify-between","p-2","border-t","border-base-200","w-full"],["btn","","matRipple","","name","desk-return",1,"clear","text-secondary",3,"mat-dialog-close"],[1,"flex","items-center"],[1,"text-xl"],[1,"mr-1","underline"],[1,"opacity-60","text-sm"],["btn","","matRipple","","name","toggle-desk",3,"click","disabled"],[1,"mr-1"],[1,"flex-1","h-1/2","bg-base-200",3,"toggleFav","onSelect","active","selected","favorites"],["btn","","matRipple","","name","desk-return",1,"inverse","sm:hidden","w-full",3,"click"],[1,"flex-1","h-1/2","w-full",3,"onSelect","is_displayed","active"]]},template:function(_,C){if(1&_){const D=h.RV6();h.j41(0,"div",7)(1,"header",8)(2,"button",9)(3,"app-icon"),h.EFF(4,"close"),h.k0s()(),h.j41(5,"h3"),h.pXf(6,1),h.k0s(),h.j41(7,"div",10)(8,"button",11),h.bIt("click",function(){return h.eBV(D),h.Njj(C.view="map")}),h.EFF(9," Map "),h.k0s(),h.j41(10,"button",12),h.bIt("click",function(){return h.eBV(D),h.Njj(C.view="list")}),h.EFF(11," List "),h.k0s()()(),h.j41(12,"main",13),h.nrm(13,"desk-filters",14),h.j41(14,"div",15)(15,"desk-filters-display",16),h.mxI("viewChange",function(B){return h.eBV(D),h.DH7(C.view,B)||(C.view=B),h.Njj(B)}),h.k0s(),h.DNE(16,v,1,3,"desk-list",17),h.k0s(),h.j41(17,"desk-details",18),h.bIt("activeChange",function(B){return h.eBV(D),h.Njj(C.setSelected(C.displayed,B))})("toggleFav",function(){return h.eBV(D),h.Njj(C.toggleFavourite(C.displayed))})("close",function(){return h.eBV(D),h.Njj(C.displayed=null)}),h.k0s()(),h.j41(18,"footer",19),h.DNE(19,O,2,0,"button",20),h.j41(20,"button",21),h.pXf(21,2),h.k0s()(),h.j41(22,"footer",22)(23,"button",23)(24,"div",24)(25,"app-icon",25),h.EFF(26,"arrow_back"),h.k0s(),h.j41(27,"div",26),h.pXf(28,3),h.k0s()()(),h.j41(29,"p",27),h.pXf(30,4),h.k0s(),h.j41(31,"button",28),h.bIt("click",function(){return h.eBV(D),h.Njj(C.setSelected(C.displayed,!C.isSelected(null==C.displayed?null:C.displayed.id)))}),h.j41(32,"div",24)(33,"app-icon",25),h.EFF(34),h.k0s(),h.j41(35,"div",29),h.pXf(36,5),h.k0s()()()()(),h.DNE(37,S,1,2,"ng-template",null,0,h.C5r)}if(2&_){const D=h.sdS(38);h.R7$(8),h.AVh("inverse","map"!==C.view),h.R7$(2),h.AVh("inverse","list"!==C.view),h.R7$(3),h.Y8G("hide_levels","list"!==C.view),h.R7$(2),h.R50("view",C.view),h.R7$(),h.Y8G("ngIf","list"===C.view)("ngIfElse",D),h.R7$(),h.AVh("hidden",!C.displayed)("inset-0",C.displayed),h.Y8G("desk",C.displayed)("active",C.selected_ids.includes(null==C.displayed?null:C.displayed.id))("hide_map","map"===C.view)("fav",C.displayed&&C.favorites.includes(null==C.displayed?null:C.displayed.id)),h.R7$(2),h.Y8G("ngIf",C.displayed),h.R7$(),h.AVh("mb-2",C.displayed),h.Y8G("mat-dialog-close",C.selected),h.R7$(3),h.Y8G("mat-dialog-close",C.selected),h.R7$(7),h.uP7(C.selected.length),h.nnv(30),h.R7$(),h.AVh("inverse",C.isSelected(null==C.displayed?null:C.displayed.id)),h.Y8G("disabled",!C.displayed),h.R7$(3),h.JRh(C.isSelected(null==C.displayed?null:C.displayed.id)?"remove":"add"),h.R7$(2),h.uP7(C.isSelected(null==C.displayed?null:C.displayed.id)?"Remove from Booking":"Add to booking"),h.nnv(36)}},dependencies:[g.bT,e.tx,p.R,f.r6,b.L,d.C,y._,R.D,m.Z],encapsulation:2})}return w})()},7904:(gt,re,o)=>{"use strict";o.d(re,{R:()=>M});var e=o(467),n=o(4006),l=o(9707),h=o(2185),g=o(5157),p=o(3953),f=o(177),b=o(9417),d=o(3719),y=o(6600),R=o(9434),m=o(3051),v=o(2798),O=o(3881);function S(w,x){if(1&w){const I=p.RV6();p.j41(0,"div",4)(1,"div",5),p.pXf(2,1),p.k0s(),p.j41(3,"div",6),p.pXf(4,2),p.k0s(),p.j41(5,"div",7)(6,"label"),p.EFF(7,"Presets"),p.k0s(),p.j41(8,"div",8)(9,"mat-form-field",9)(10,"mat-select",10),p.mxI("ngModelChange",function(C){p.eBV(I);const D=p.XpG();return p.DH7(D.preset,C)||(D.preset=C),p.Njj(C)}),p.bIt("ngModelChange",function(C){p.eBV(I);const D=p.XpG();return p.Njj(D.setPreset(C))}),p.j41(11,"mat-option",11),p.EFF(12,"None"),p.k0s(),p.j41(13,"mat-option",12),p.EFF(14,"Standing"),p.k0s(),p.j41(15,"mat-option",13),p.EFF(16,"Seated"),p.k0s()()(),p.j41(17,"button",14),p.bIt("click",function(){p.eBV(I);const C=p.XpG();return p.Njj(C.edit_presets=!0)}),p.j41(18,"app-icon"),p.EFF(19,"edit"),p.k0s()()(),p.j41(20,"label"),p.EFF(21,"Current Height"),p.k0s(),p.j41(22,"div",15)(23,"mat-slider",16)(24,"input",17),p.mxI("ngModelChange",function(C){p.eBV(I);const D=p.XpG();return p.DH7(D.height,C)||(D.height=C),p.Njj(C)}),p.bIt("ngModelChange",function(){p.eBV(I);const C=p.XpG();return p.Njj(C.updatePreset(C.height))}),p.k0s()(),p.j41(25,"div",18),p.EFF(26),p.k0s()()(),p.j41(27,"button",19),p.bIt("click",function(){p.eBV(I);const C=p.XpG();return p.Njj(C.setDeskHeight())}),p.EFF(28," Apply Settings "),p.k0s(),p.j41(29,"button",20)(30,"app-icon"),p.EFF(31,"close"),p.k0s()()()}if(2&w){const I=p.XpG();p.R7$(10),p.R50("ngModel",I.preset),p.R7$(13),p.Y8G("displayWith",I.formatLabel),p.R7$(),p.R50("ngModel",I.height),p.R7$(2),p.SpI(" ",I.height.toFixed(1),"cm ")}}function P(w,x){if(1&w){const I=p.RV6();p.j41(0,"desk-height-presets",21),p.bIt("close",function(){p.eBV(I);const C=p.XpG();return p.Njj(C.edit_presets=!1)}),p.k0s()}2&w&&p.Y8G("show_close",!0)}let M=(()=>{class w{constructor(I,_,C,D){this._data=I,this._org=_,this._settings=C,this._dialog_ref=D,this.desk_id=this._data.id,this.edit_presets=!1,this.height=71}ngOnInit(){const I=this._settings.get("desk_sitting_height"),_=this._settings.get("desk_standing_height");!I&&!_&&(this.edit_presets=!0);const C=parseInt(localStorage.getItem("PLACEOS.last_desk_height"),10);this.height=C||I||71,this.height===I?this.preset="sitting":this.height===_&&(this.preset="standing")}updatePreset(I){const _=this._settings.get("desk_sitting_height")||71,C=this._settings.get("desk_standing_height")||102;this.preset=I===_?"sitting":I===C?"standing":null}setPreset(I){switch(console.log("Set preset:",I),I){case"standing":this.height=this._settings.get("desk_standing_height")||102;break;case"sitting":this.height=this._settings.get("desk_sitting_height")||71;break;default:this.height=70}}setDeskHeight(){var I=this;return(0,e.A)(function*(){const _=I._org.binding("desks");if(localStorage.setItem("PLACEOS.last_desk_height",`${I.height}`),!_)return I._dialog_ref.close();yield(0,g.f_4)(_,"DeskControl").execute("set_desk_height",[I.desk_id,I.height]).catch(D=>{throw(0,l.UG)("Error setting desk height."+D),D}),(0,l.VX)("Successfully set desk height"),I._dialog_ref.close()})()}formatLabel(I){return`${I.toFixed(1)}cm`}static#e=this.\u0275fac=function(_){return new(_||w)(p.rXU(n.Vh),p.rXU(h.yb),p.rXU(l.h$),p.rXU(n.CP))};static#t=this.\u0275cmp=p.VBU({type:w,selectors:[["desk-settings-modal"]],decls:3,vars:2,consts:()=>{let I,_;return I=$localize`:␟ec37a2ac1276a5f69d65d5ba86b2e98c41b201a9␟7032027191807032897:Desk Height`,_=$localize`:␟de53fc27bc96d3e69d6c7d9b0a19619db7cc1076␟8247461324425873330: Set your desk height for the best experience `,[["desk_height_tooltip",""],I,_,["class","relative p-4 bg-base-100 rounded shadow w-[20rem]",4,"ngIf","ngIfElse"],[1,"relative","p-4","bg-base-100","rounded","shadow","w-[20rem]"],[1,"text-lg"],[1,"text-xs","opacity-60","mb-4"],[1,"flex","flex-col","mt-2","mb-4"],[1,"flex","items-center","space-x-2","pb-4"],["appearance","outline",1,"no-subscript","flex-1","w-1/2"],["placeholder","No selected preset",3,"ngModelChange","ngModel"],["value",""],["value","standing"],["value","sitting"],["icon","","matRipple","",1,"rounded","h-12","w-12","bg-secondary","text-secondary-content",3,"click"],[1,"flex","items-center","space-x-2"],["min","60","max","120","step","0.5","discrete","",1,"flex-1",3,"displayWith"],["matSliderThumb","",3,"ngModelChange","ngModel"],[1,"text-sm","w-12","text-right"],["btn","","matRipple","",1,"w-full",3,"click"],["icon","","matRipple","","mat-dialog-close","",1,"absolute","top-0","right-0"],[3,"close","show_close"]]},template:function(_,C){if(1&_&&p.DNE(0,S,32,4,"div",3)(1,P,1,1,"ng-template",null,0,p.C5r),2&_){const D=p.sdS(2);p.Y8G("ngIf",!C.edit_presets)("ngIfElse",D)}},dependencies:[f.bT,b.me,b.BC,b.vS,d.rl,n.tx,y.wT,R.R,m.q,v.VO,y.r6,O.IV,O.OU],encapsulation:2})}return w})()},8874:(gt,re,o)=>{"use strict";o.d(re,{j:()=>ce});var e=o(467),n=o(3953),l=o(9417),h=o(4046),g=o(9707),p=o(9525),f=o(4217),b=o(8026),d=o(8379),y=o(3693),R=o(177),m=o(9631),v=o(3719),O=o(9183),S=o(850),P=o(6600),M=o(9608),w=o(3476),x=o(1413),I=o(840),_=o(2798);const C=()=>({standalone:!0});function D(oe,me){if(1&oe&&(n.j41(0,"mat-option",47),n.EFF(1),n.k0s()),2&oe){const he=me.$implicit;n.Y8G("value",he.id),n.R7$(),n.SpI(" ",he.display_name||he.name," ")}}function A(oe,me){if(1&oe){const he=n.RV6();n.j41(0,"div",32)(1,"label",44),n.PLo(2,11),n.nrm(3,"span"),n.YFu(),n.k0s(),n.j41(4,"mat-form-field",42)(5,"mat-select",45),n.bIt("ngModelChange",function(we){n.eBV(he);const We=n.XpG(4);return n.Njj(We.form.patchValue({zones:[we]}))}),n.DNE(6,D,2,2,"mat-option",46),n.nI1(7,"async"),n.k0s()()()}if(2&oe){const he=n.XpG(4);n.R7$(5),n.Y8G("ngModel",he.form.value.zones[0])("ngModelOptions",n.lJ4(5,C)),n.R7$(),n.Y8G("ngForOf",n.bMT(7,3,he.buildings))}}function B(oe,me){if(1&oe){const he=n.RV6();n.j41(0,"mat-option",54),n.bIt("click",function(){const we=n.eBV(he).$implicit,We=n.XpG(5);return n.Njj(We.setVisitor(we))}),n.j41(1,"div",55)(2,"div"),n.EFF(3),n.k0s(),n.j41(4,"div",56),n.EFF(5),n.k0s()()()}if(2&oe){const he=me.$implicit;n.Y8G("value",he.name),n.R7$(3),n.JRh(he.name),n.R7$(2),n.Lme(" ",he.email," ",he.company?"| "+he.company:""," ")}}function F(oe,me){if(1&oe){const he=n.RV6();n.j41(0,"mat-option",54),n.bIt("click",function(){const we=n.eBV(he).$implicit,We=n.XpG(5);return n.Njj(We.setVisitor(we))}),n.j41(1,"div",55)(2,"div"),n.EFF(3),n.k0s(),n.j41(4,"div",56),n.EFF(5),n.k0s()()()}if(2&oe){const he=me.$implicit;n.Y8G("value",he.email),n.R7$(3),n.JRh(he.name),n.R7$(2),n.Lme(" ",he.email," ",he.company?"| "+he.company:""," ")}}function $(oe,me){if(1&oe){const he=n.RV6();n.qex(0),n.j41(1,"div",32)(2,"label",48),n.PLo(3,12),n.nrm(4,"span"),n.YFu(),n.k0s(),n.j41(5,"mat-form-field",42)(6,"input",49),n.bIt("focus",function(){n.eBV(he);const we=n.XpG(4);return n.Njj(we.filterVisitors(we.form.value.asset_name))}),n.k0s()(),n.j41(7,"mat-autocomplete",null,3),n.DNE(9,B,6,4,"mat-option",50),n.k0s()(),n.j41(10,"div",32)(11,"label",51),n.PLo(12,13),n.nrm(13,"span"),n.YFu(),n.k0s(),n.j41(14,"mat-form-field",42)(15,"input",52),n.bIt("focus",function(){n.eBV(he);const we=n.XpG(4);return n.Njj(we.filterVisitors(we.form.value.asset_id))}),n.k0s(),n.j41(16,"mat-error"),n.pXf(17,14),n.k0s()(),n.j41(18,"mat-autocomplete",null,4),n.DNE(20,F,6,4,"mat-option",50),n.k0s()(),n.j41(21,"div",32)(22,"label",48),n.pXf(23,15),n.k0s(),n.j41(24,"mat-form-field",42),n.nrm(25,"input",53),n.k0s()(),n.bVm()}if(2&oe){const he=n.sdS(8),Oe=n.sdS(19),we=n.XpG(4);n.R7$(6),n.Y8G("matAutocomplete",he),n.R7$(3),n.Y8G("ngForOf",we.filtered_visitors),n.R7$(6),n.Y8G("matAutocomplete",Oe),n.R7$(5),n.Y8G("ngForOf",we.filtered_visitors)}}function U(oe,me){if(1&oe){const he=n.RV6();n.j41(0,"form",30),n.DNE(1,A,8,6,"div",31),n.j41(2,"div",32)(3,"label",33),n.PLo(4,7),n.nrm(5,"span"),n.YFu(),n.k0s(),n.nrm(6,"a-date-field",34),n.k0s(),n.j41(7,"div",35)(8,"div",36)(9,"label",37),n.PLo(10,8),n.nrm(11,"span"),n.YFu(),n.k0s(),n.j41(12,"a-time-field",38),n.bIt("ngModelChange",function(we){n.eBV(he);const We=n.XpG(3);return n.Njj(We.form.patchValue({date:we}))}),n.k0s()(),n.j41(13,"div",36)(14,"label",39),n.PLo(15,9),n.nrm(16,"span"),n.YFu(),n.k0s(),n.nrm(17,"a-duration-field",40),n.k0s()(),n.DNE(18,$,26,4,"ng-container",22),n.j41(19,"div",32)(20,"label",41),n.pXf(21,10),n.k0s(),n.j41(22,"mat-form-field",42),n.nrm(23,"input",43),n.k0s()()()}if(2&oe){const he=n.XpG(3),Oe=n.sdS(6);n.Y8G("formGroup",he.form),n.R7$(),n.Y8G("ngIf",(null==he.buildings?null:he.buildings.length)>1),n.R7$(11),n.Y8G("ngModel",he.form.value.date)("ngModelOptions",n.lJ4(10,C))("disabled",he.form.value.all_day)("use_24hr",he.use_24hr),n.R7$(5),n.Y8G("time",he.form.value.date)("use_24hr",he.use_24hr),n.R7$(),n.Y8G("ngIf",!he.multiple)("ngIfElse",Oe)}}function G(oe,me){if(1&oe){const he=n.RV6();n.j41(0,"div",24)(1,"div",25)(2,"h2",26),n.pXf(3,5),n.k0s()(),n.DNE(4,U,24,11,"form",27),n.j41(5,"div",28)(6,"button",29),n.bIt("click",function(){n.eBV(he);const we=n.XpG(2);return n.Njj(we.sendInvite())}),n.pXf(7,6),n.k0s()()()}if(2&oe){const he=n.XpG(2);n.R7$(4),n.Y8G("ngIf",he.form)}}function J(oe,me){if(1&oe&&(n.qex(0),n.DNE(1,G,8,1,"div",23),n.nI1(2,"async"),n.bVm()),2&oe){const he=n.XpG(),Oe=n.sdS(4);n.R7$(),n.Y8G("ngIf",!n.bMT(2,2,he.loading)&&!he.loading_many)("ngIfElse",Oe)}}function te(oe,me){if(1&oe&&(n.PLo(0,16,1),n.eu8(1),n.YFu()),2&oe){const he=n.XpG(2);n.R7$(),n.uP7((null==he.last_success?null:he.last_success.asset_name)||(null==he.last_success?null:he.last_success.asset_id)),n.nnv(0)}}function ne(oe,me){if(1&oe&&(n.PLo(0,16,2),n.eu8(1),n.YFu()),2&oe){const he=n.XpG(2);n.R7$(),n.uP7(he.last_count)(1==he.last_count?"":"s"),n.nnv(0)}}function K(oe,me){if(1&oe&&(n.PLo(0,17,1),n.eu8(1),n.YFu()),2&oe){const he=n.XpG(2);n.R7$(),n.uP7((null==he.last_success?null:he.last_success.asset_name)||(null==he.last_success?null:he.last_success.asset_id)),n.nnv(0)}}function k(oe,me){if(1&oe&&(n.PLo(0,17,2),n.eu8(1),n.YFu()),2&oe){const he=n.XpG(2);n.R7$(),n.uP7(he.last_count)(1==he.last_count?"":"s"),n.nnv(0)}}function j(oe,me){if(1&oe){const he=n.RV6();n.j41(0,"div",57)(1,"div",58)(2,"h2",59),n.PLo(3,16),n.DNE(4,te,2,1,"ng-container",60)(5,ne,2,2,"ng-container",60),n.YFu(),n.k0s(),n.nrm(6,"img",61),n.j41(7,"p"),n.PLo(8,17),n.j41(9,"i"),n.DNE(10,K,2,1,"ng-container",60)(11,k,2,2,"ng-container",60),n.k0s(),n.nI1(12,"date"),n.nI1(13,"date"),n.YFu(),n.k0s()(),n.j41(14,"div",62)(15,"div",63)(16,"button",64),n.bIt("click",function(){n.eBV(he);const we=n.XpG();return n.Njj(we.onDone())}),n.pXf(17,18),n.k0s(),n.j41(18,"button",64),n.bIt("click",function(){n.eBV(he);const we=n.XpG();return n.Njj(we.sent=!1)}),n.pXf(19,19),n.k0s()()()()}if(2&oe){const he=n.XpG();n.R7$(4),n.Y8G("ngIf",!he.multiple),n.R7$(),n.Y8G("ngIf",he.multiple),n.R7$(5),n.Y8G("ngIf",!he.multiple),n.R7$(),n.Y8G("ngIf",he.multiple),n.R7$(2),n.uP7((null==he.building?null:he.building.display_name)||(null==he.building?null:he.building.name))(n.i5U(12,7,null==he.last_success?null:he.last_success.date,"mediumDate"))(n.i5U(13,10,null==he.last_success?null:he.last_success.date,he.time_format)),n.nnv(8)}}function W(oe,me){1&oe&&(n.j41(0,"div",65),n.nrm(1,"mat-spinner",66),n.j41(2,"p"),n.pXf(3,20),n.k0s()()),2&oe&&(n.R7$(),n.Y8G("diameter",32))}function ie(oe,me){if(1&oe&&(n.j41(0,"div",67)(1,"label",48),n.PLo(2,21),n.nrm(3,"span"),n.YFu(),n.k0s(),n.nrm(4,"a-user-list-field",68),n.k0s()),2&oe){const he=n.XpG();n.Y8G("formGroup",he.form),n.R7$(4),n.Y8G("guests_only",!0)}}let ce=(()=>{class oe extends g.Tv{get multiple(){return this._settings.get("app.bookings.multiple_visitors")}get building(){return this._settings.get("app.use_region")?this._org.region:this._org.building}get form(){return this._service.form}get time_format(){return this._settings.time_format}get use_24hr(){return this._settings.get("app.use_24_hour_time")}constructor(he,Oe,we){super(),this._service=he,this._settings=Oe,this._org=we,this.done=new n.bkB,this.sent=!1,this.loading=this._service.loading,this.loading_many=!1,this.buildings=this._org.active_buildings,this.last_success=this._service.last_success,this.last_count=0,this.visitors=[],this.filtered_visitors=[]}ngOnInit(){var he=this;return(0,e.A)(function*(){he.sent=!1,he._service.clearOldState(),yield he.initFormZone(),he.form.get("asset_id").setValidators([l.k0.required,l.k0.email]);const Oe=he._settings.get("visitor-invitees")||[];for(const we of Oe){const[We,Xe,Me]=we.split("|");he.visitors.push({email:We,name:Xe,company:Me})}he.filterVisitors(""),he.subscription("email",he.form.get("asset_id").valueChanges.subscribe(we=>he.filterVisitors(we))),he.subscription("name",he.form.get("asset_name").valueChanges.subscribe(we=>he.filterVisitors(we))),he.multiple&&he.form.patchValue({asset_id:"multiple@place.tech"})})()}setVisitor(he){this.form.patchValue({asset_id:he.email,asset_name:he.name,company:he.company,phone:he.phone})}filterVisitors(he){const Oe=(he||"").toLowerCase();this.filtered_visitors=this.visitors.filter(({email:we,name:We,company:Xe})=>we.toLowerCase().includes(Oe)||We.toLowerCase().includes(Oe)||Xe.toLowerCase().includes(Oe))}onDone(){this.done.emit(),this.sent=!1}sendInvite(){var he=this;return(0,e.A)(function*(){if(he.form.markAllAsTouched(),!he.form.valid||he.multiple&&!he.form.value.assets.length)return(0,p.UG)(`Some fields are invalid. [${(0,f.F7)(he.form).join(", ")||"visitors"}]`);const{asset_id:Oe,asset_name:we,company:We}=he.form.value,Me=`${Oe}|${we}|${We}`,ge=he._settings.get("visitor-invitees")||[];he._settings.saveUserSetting("visitor-invitees",[...ge.filter(pe=>!pe.includes(Oe)),Me]),yield he.multiple?he._bookForMany():he._bookForOne(),he.last_success=he._service.last_success,yield he.initFormZone(),he.sent=!0})()}initFormZone(){var he=this;return(0,e.A)(function*(){yield he._org.initialised.pipe((0,h.$)(Oe=>Oe)).toPromise(),he._service.setOptions({type:"visitor"}),he.form.patchValue({booking_type:"visitor",zones:[he._org.building?.id]}),he.multiple&&he.form.patchValue({asset_id:"multiple@place.tech"})})()}_bookForOne(){var he=this;return(0,e.A)(function*(){const Oe=he.form.value;he.form.patchValue({name:Oe.asset_name,attendees:[new y.KJ({name:Oe.asset_name,email:Oe.asset_id,organisation:Oe.company,phone:Oe.phone})]}),yield he._service.postForm().catch(we=>{throw(0,p.UG)(we),we})})()}_bookForMany(){var he=this;return(0,e.A)(function*(){he.loading_many=!0;const Oe=`grp-${(0,f.DU)(8)}`,we=he.form.value,We=we.assets;he.last_count=We.length;for(const Xe of We)Xe.email&&(he.form.patchValue({...we,booking_type:"visitor",asset_id:Xe.email,asset_name:Xe.name,user:(0,g.Ny)(),description:Oe,name:Xe.name,assets:[],attendees:[new y.KJ({name:Xe.name,email:Xe.email,organisation:Xe.company||Xe.organisation,phone:Xe.phone})]}),yield he._service.postForm().catch(Me=>{throw(0,p.UG)(Me),he.loading_many=!1,Me}));he.loading_many=!1})()}static#e=this.\u0275fac=function(Oe){return new(Oe||oe)(n.rXU(d.n),n.rXU(g.h$),n.rXU(b.y))};static#t=this.\u0275cmp=n.VBU({type:oe,selectors:[["invite-visitor-form"]],outputs:{done:"done"},features:[n.Vt3],decls:7,vars:2,consts:()=>{let he,Oe,we,We,Xe,Me,ge,pe,Ee,Ge,Qe,$e,tt,xt,Pt,yt,Le,De;return he=$localize`:␟5ce047ca92a7474d89cf5b08a9913b0a93d28404␟4809719174148656467:Invite Visitor`,Oe=$localize`:␟207022d8123aa7a8693ff4c53cd28fea3d5bdff2␟994966389368964414: Send Visitor Invite `,we=$localize`:␟04cfb5fd033651743bc4b9408bd52ba4ee894070␟3158758063619980932:Date${"\ufffd#5\ufffd"}:START_TAG_SPAN:*${"\ufffd/#5\ufffd"}:CLOSE_TAG_SPAN:`,We=$localize`:␟eac10bd97a4b6b06a0221c661de781836b7a1e1c␟145741817832495807: Start Time${"\ufffd#11\ufffd"}:START_TAG_SPAN:*${"\ufffd/#11\ufffd"}:CLOSE_TAG_SPAN:`,Xe=$localize`:␟85d5c3a89bab9a7475a7db095089e161586cb7a1␟5960185837188220843:End Time${"\ufffd#16\ufffd"}:START_TAG_SPAN:*${"\ufffd/#16\ufffd"}:CLOSE_TAG_SPAN:`,Me=$localize`:␟8aaaa9966e2e05be99e9b239f3b257767366b8bf␟495507623260232513:Reason for visit`,ge=$localize`:␟a2a7f73f9ff1df08f9f055ead8f1b25a91c060a3␟4333771954088602266:Select building`,pe=$localize`:␟299cead719c6fe6ad6f5fba06ac22e21f0c4acb2␟5685627853493098762: Building${"\ufffd#3\ufffd"}:START_TAG_SPAN:*${"\ufffd/#3\ufffd"}:CLOSE_TAG_SPAN:`,Ee=$localize`:␟cf671ca02377cd191d8b3c68c7befb5984469f16␟4464638374806874490:Visitor Name${"\ufffd#4\ufffd"}:START_TAG_SPAN:*${"\ufffd/#4\ufffd"}:CLOSE_TAG_SPAN:`,Ge=$localize`:␟df470c6a7cce24cc7887968eabb3ee0c1bbd3f7c␟195607823904920605: Visitor Email${"\ufffd#13\ufffd"}:START_TAG_SPAN:*${"\ufffd/#13\ufffd"}:CLOSE_TAG_SPAN:`,Qe=$localize`:␟d025fcfed88fe09dce74563ddafbfefb47111f11␟5102326149417665173: A valid email is required `,$e=$localize`:␟6ef0619a37140118b9e640c6cc36ee4e9fb4372a␟1826215573205981970:Company`,tt=$localize`:␟3813db8d52465bf6153aa3eab78e731607297455␟2924076986947727128: Visitor invite sent to ${"\ufffd*4:1\ufffd\ufffd#1:1\ufffd"}:START_TAG_NG_CONTAINER: ${"\ufffd0:1\ufffd"}:INTERPOLATION: ${"[\ufffd/#1:1\ufffd\ufffd/*4:1\ufffd|\ufffd/#1:2\ufffd\ufffd/*5:2\ufffd]"}:CLOSE_TAG_NG_CONTAINER:${"\ufffd*5:2\ufffd\ufffd#1:2\ufffd"}:START_TAG_NG_CONTAINER_1: ${"\ufffd0:2\ufffd"}:INTERPOLATION_1: visitor${"\ufffd1:2\ufffd"}:INTERPOLATION_2: ${"[\ufffd/#1:1\ufffd\ufffd/*4:1\ufffd|\ufffd/#1:2\ufffd\ufffd/*5:2\ufffd]"}:CLOSE_TAG_NG_CONTAINER:`,tt=n.k04(tt),xt=$localize`:␟797ad60704f8979ef5951430ea9947b27782284b␟941544886358218249: Invite has been sent to ${"\ufffd#9\ufffd"}:START_ITALIC_TEXT:${"\ufffd*10:1\ufffd\ufffd#1:1\ufffd"}:START_TAG_NG_CONTAINER: ${"\ufffd0:1\ufffd"}:INTERPOLATION: ${"[\ufffd/#1:1\ufffd\ufffd/*10:1\ufffd|\ufffd/#1:2\ufffd\ufffd/*11:2\ufffd]"}:CLOSE_TAG_NG_CONTAINER:${"\ufffd*11:2\ufffd\ufffd#1:2\ufffd"}:START_TAG_NG_CONTAINER_1: ${"\ufffd0:2\ufffd"}:INTERPOLATION_1: visitor${"\ufffd1:2\ufffd"}:INTERPOLATION_2: ${"[\ufffd/#1:1\ufffd\ufffd/*10:1\ufffd|\ufffd/#1:2\ufffd\ufffd/*11:2\ufffd]"}:CLOSE_TAG_NG_CONTAINER:${"\ufffd/#9\ufffd"}:CLOSE_ITALIC_TEXT: to attend ${"\ufffd0\ufffd"}:INTERPOLATION_3: from ${"\ufffd1\ufffd"}:INTERPOLATION_4: at ${"\ufffd2\ufffd"}:INTERPOLATION_5: `,xt=n.k04(xt),Pt=$localize`:␟af6a082ad33b2635f588016703e454c8fb7f7e0f␟7858372686370953213: Great, thanks `,yt=$localize`:␟63356c3f7d6177e1e29a68e272010f75eacb3c97␟3676425961094889121: Book Another Visitor `,Le=$localize`:␟59c7bf21621b0422b39735ebc6af2ccb26d894e3␟6183159301460846057:Sending invitation...`,De=$localize`:␟6e457c162b83dc787ae4a7a9bda0ca1f3b021b6c␟5958588135415093025:Visitors${"\ufffd#3\ufffd"}:START_TAG_SPAN:*${"\ufffd/#3\ufffd"}:CLOSE_TAG_SPAN:`,[["send_state",""],["load_state",""],["multi_state",""],["name_auto","matAutocomplete"],["email_auto","matAutocomplete"],he,Oe,we,We,Xe,Me,pe,Ee,Ge,Qe,$e,tt,xt,Pt,yt,Le,De,[4,"ngIf","ngIfElse"],["class","relative flex flex-col bg-base-100 overflow-auto max-h-full",4,"ngIf","ngIfElse"],[1,"relative","flex","flex-col","bg-base-100","overflow-auto","max-h-full"],[1,"w-full","border-b","border-base-200","sm:px-16","px-4","py-4"],[1,"text-2xl","font-medium"],["class","sm:px-16 px-4 py-4",3,"formGroup",4,"ngIf"],[1,"sticky","sm:px-16","px-4","py-4","border-t","bg-base-100","border-base-200","bottom-0"],["btn","","matRipple","","send","",1,"w-full","sm:w-auto",3,"click"],[1,"sm:px-16","px-4","py-4",3,"formGroup"],["class","flex flex-col",4,"ngIf"],[1,"flex","flex-col"],["for","date"],["name","date","formControlName","date"],[1,"flex","items-center","space-x-2"],[1,"flex-1","flex","flex-col","w-1/3"],["for","start-time"],["name","start-time",3,"ngModelChange","ngModel","ngModelOptions","disabled","use_24hr"],["for","end-time"],["name","end-time","formControlName","duration",3,"time","use_24hr"],["for","reason"],["appearance","outline"],["name","reason","matInput","","formControlName","description","placeholder","e.g. Meeting Catchup"],["for","building"],["name","building","placeholder",ge,3,"ngModelChange","ngModel","ngModelOptions"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["for","visitor-name"],["matInput","","name","visitor-name","formControlName","asset_name","placeholder","Name of the visitor",3,"focus","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],["for","visitor-email"],["matInput","","name","visitor-email","type","email","formControlName","asset_id","placeholder","Email of the visitor",3,"focus","matAutocomplete"],["matInput","","name","company","formControlName","company","placeholder","Company of the visitor"],[3,"click","value"],[1,"flex","flex-col","leading-tight"],[1,"text-xs","opacity-60"],["sent","",1,"absolute","inset-0","bg-base-100","flex","flex-col","items-center","justify-center","text-center"],[1,"w-full","max-w-[32rem]","flex-1","h-1/2","space-y-2","m-8"],[1,"text-3xl"],[4,"ngIf"],["src","assets/icons/sent.svg",1,"mx-auto"],[1,"w-full","p-2","border-t","border-base-200"],[1,"mx-auto","flex","items-center","space-x-2","w-full","max-w-[32rem]"],["btn","","matRipple","",1,"flex-1",3,"click"],["loading","",1,"relative","flex","flex-col","items-center","justify-center","rounded","overflow-hidden","w-full","h-full","min-h-[18rem]"],[3,"diameter"],[1,"flex","flex-col",3,"formGroup"],["formControlName","assets",3,"guests_only"]]},template:function(Oe,we){if(1&Oe&&n.DNE(0,J,3,4,"ng-container",22)(1,j,20,13,"ng-template",null,0,n.C5r)(3,W,4,1,"ng-template",null,1,n.C5r)(5,ie,5,2,"ng-template",null,2,n.C5r),2&Oe){const We=n.sdS(2);n.Y8G("ngIf",!we.sent)("ngIfElse",We)}},dependencies:[R.Sq,R.bT,l.qT,l.me,l.BC,l.cb,l.vS,l.j4,l.JD,m.fg,v.rl,v.TL,O.LG,S.$3,P.wT,S.pN,M.G,w.y,x.t,I.T,_.VO,P.r6,R.Jj,R.vh]})}return oe})()},4854:(gt,re,o)=>{"use strict";o.d(re,{E:()=>d});var e=o(3953),n=o(9707),l=o(5897),h=o(177),g=o(6600),p=o(4823);const f=()=>[];function b(y,R){if(1&y){const m=e.RV6();e.j41(0,"button",3),e.bIt("click",function(){const O=e.eBV(m).$implicit,S=e.XpG();return e.Njj(S.clicked.emit(O))}),e.nrm(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7),e.j41(5,"div",8),e.EFF(6),e.k0s(),e.nrm(7,"div",9),e.k0s()}if(2&y){const m=R.$implicit,v=e.XpG();e.xc7("grid-column-start",m.position[0]+1)("grid-row-start",m.position[1]+1)("grid-column-end",m.position[0]+(m.size[0]+1))("background-color",v.status(m))("grid-row-end",m.position[1]+(m.size[1]+1)),e.AVh("opacity-60",v.selected&&v.selected!==m.id),e.Y8G("matTooltip",m.name)("disabled",!1===m.bookable),e.R7$(6),e.SpI(" ",m.name," ")}}let d=(()=>{class y{get columns(){let m=1;for(const v of this.bank?.lockers||[]){const O=v.position[0]+v.size[0];O>m&&(m=O)}return m}constructor(m){this._settings=m,this.bank_status={10:"busy",7:"pending"},this.selected="",this.clicked=new e.bkB}status(m){const v=this._settings.get("app.explore.colors")||{},O=this.bank_status[m.id]||"free";return v[`lockers-${O}`]||v[`${O}`]||l.U[`${O}`]}static#e=this.\u0275fac=function(v){return new(v||y)(e.rXU(n.h$))};static#t=this.\u0275cmp=e.VBU({type:y,selectors:[["locker-grid"]],inputs:{bank:"bank",bank_status:"bank_status",selected:"selected"},outputs:{clicked:"clicked"},decls:4,vars:7,consts:[[1,"p-4","text-xl","font-medium"],[1,"flex-1","grid","gap-2","overflow-hidden","max-h-full","h-[75vh]","min-w-[60vw]","p-2"],["matRipple","","class","relative border border-base-200 rounded bg-teal-300 overflow-hidden",3,"opacity-60","grid-column-start","grid-row-start","grid-column-end","background-color","grid-row-end","matTooltip","disabled","click",4,"ngFor","ngForOf"],["matRipple","",1,"relative","border","border-base-200","rounded","bg-teal-300","overflow-hidden",3,"click","matTooltip","disabled"],["handle","",1,"absolute","top-1/2","-translate-y-1/2","left-2","w-1","h-6","bg-neutral","rounded"],["vent","",1,"absolute","left-1/2","-translate-x-1/2","top-2","w-3/5","h-1","bg-neutral","rounded-t"],["vent","",1,"absolute","left-1/2","-translate-x-1/2","top-4","w-3/5","h-1","bg-neutral","rounded-t"],["vent","",1,"absolute","left-1/2","-translate-x-1/2","top-6","w-3/5","h-1","bg-neutral","rounded-t"],[1,"absolute","left-1/2","-translate-x-1/2","top-8","text-[0.6rem]","font-medium","text-black/60"],[1,"absolute","inset-0","hover:bg-neutral"]],template:function(v,O){1&v&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.j41(2,"div",1),e.DNE(3,b,8,15,"button",2),e.k0s()),2&v&&(e.R7$(),e.SpI(" ",null==O.bank?null:O.bank.name," "),e.R7$(),e.xc7("grid-template-columns","repeat("+O.columns+", 1fr)")("grid-template-rows","repeat("+(null==O.bank?null:O.bank.height)+", 1fr)"),e.R7$(),e.Y8G("ngForOf",(null==O.bank?null:O.bank.lockers)||e.lJ4(6,f)))},dependencies:[h.Sq,g.r6,p.oV],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}button[disabled][_ngcontent-%COMP%]{pointer-events:none;opacity:.75;background-color:#ccc!important}"]})}return y})()},1511:(gt,re,o)=>{"use strict";o.d(re,{g:()=>I});var e=o(3953),n=o(9417),l=o(4233),h=o(482),g=o(4006),p=o(177),f=o(2765),b=o(9434),d=o(3208),y=o(6600);const R=()=>[],m=()=>({standalone:!0});function v(_,C){if(1&_){const D=e.RV6();e.j41(0,"mat-checkbox",28),e.bIt("ngModelChange",function(B){const F=e.eBV(D).$implicit,$=e.XpG(3);return e.Njj($.setFeature(F,B))}),e.EFF(1),e.k0s()}if(2&_){const D=C.$implicit,A=e.XpG(3);e.Y8G("ngModel",(A.selected_features||e.lJ4(3,R)).includes(D))("ngModelOptions",e.lJ4(4,m)),e.R7$(),e.SpI(" ",D," ")}}function O(_,C){if(1&_&&(e.j41(0,"div",24)(1,"label",25),e.EFF(2,"Type"),e.k0s(),e.j41(3,"div",26),e.DNE(4,v,2,5,"mat-checkbox",27),e.k0s()()),2&_){const D=e.XpG(2);e.R7$(4),e.Y8G("ngForOf",D.features)}}function S(_,C){if(1&_&&e.nrm(0,"img",29),2&_){const D=e.XpG().$implicit;e.Y8G("source",D.images[0])}}function P(_,C){1&_&&e.nrm(0,"img",30)}function M(_,C){1&_&&(e.j41(0,"div",16)(1,"app-icon",17),e.EFF(2,"accessible"),e.k0s(),e.j41(3,"p"),e.EFF(4,"Disability Accessible"),e.k0s()())}function w(_,C){if(1&_){const D=e.RV6();e.j41(0,"div",10),e.DNE(1,O,5,1,"div",11),e.j41(2,"div",12),e.DNE(3,S,1,1,"img",13)(4,P,1,0,"ng-template",null,0,e.C5r),e.k0s(),e.j41(6,"div",14)(7,"div",15),e.EFF(8),e.k0s(),e.j41(9,"div",16)(10,"app-icon",17),e.EFF(11,"place"),e.k0s(),e.j41(12,"p"),e.EFF(13),e.k0s()(),e.DNE(14,M,5,0,"div",18),e.j41(15,"div",19)(16,"button",20),e.bIt("click",function(){const B=e.eBV(D).$implicit,F=e.XpG();return e.Njj(F.changeResources(B))}),e.j41(17,"div",21),e.PLo(18,2),e.nrm(19,"app-icon"),e.YFu(),e.k0s()(),e.j41(20,"button",22),e.bIt("click",function(){const B=e.eBV(D).$implicit,F=e.XpG();return e.Njj(F.removeResource(B))}),e.j41(21,"div",21),e.PLo(22,3),e.nrm(23,"app-icon"),e.YFu(),e.k0s()()()(),e.j41(24,"button",23),e.bIt("click",function(){e.eBV(D);const B=e.XpG();return e.Njj(B.toggleFavourite(B.asset))}),e.j41(25,"app-icon"),e.EFF(26),e.k0s()()()}if(2&_){const D=C.$implicit,A=e.sdS(5),B=e.XpG();e.R7$(),e.Y8G("ngIf",null==B.features?null:B.features.length),e.R7$(2),e.Y8G("ngIf",null==D.images?null:D.images.length)("ngIfElse",A),e.R7$(5),e.SpI(" ",D.name||"Locker"," "),e.R7$(5),e.JRh((null==D.zone?null:D.zone.display_name)||(null==D.zone?null:D.zone.name)),e.R7$(),e.Y8G("ngIf",D.accessible),e.R7$(10),e.AVh("text-blue-400",B.favorites.includes(null==B.asset?null:B.asset.id)),e.R7$(2),e.JRh(B.favorites.includes(null==B.asset?null:B.asset.id)?"favorite":"favorite_border")}}const x=[];let I=(()=>{class _{get favorites(){return this._settings.get(h.F)||x}constructor(D,A){this._settings=D,this._dialog=A,this.features=[],this.room_size=3,this.items=[],this.disabled=!1,this.selected_features=[],this.registerOnChange=B=>this._onChange=B,this.registerOnTouched=B=>this._onTouch=B,this.setDisabledState=B=>this.disabled=B}changeResources(){const D=this._dialog.open(h.P,{data:{items:this.items,options:{capacity:this.room_size}}});D.afterClosed().subscribe(A=>{A||(A=D.componentInstance.selected),this.setValue(A)})}removeResource(D){this.setValue(this.items.filter(A=>A.id!==D.id))}setValue(D){this.items=D,this._onChange&&this._onChange(this.items)}writeValue(D){this.items=D||[]}toggleFavourite(D){const A=this.favorites;A.includes(D.id)?this._settings.saveUserSetting(h.F,A.filter(F=>F!==D.id)):this._settings.saveUserSetting(h.F,[...A,D.id])}static#e=this.\u0275fac=function(A){return new(A||_)(e.rXU(l.h),e.rXU(g.bZ))};static#t=this.\u0275cmp=e.VBU({type:_,selectors:[["locker-list-field"]],inputs:{features:"features"},features:[e.Jv_([{provide:n.kq,useExisting:(0,e.Rfq)(()=>_),multi:!0}])],decls:10,vars:1,consts:()=>{let D,A,B;return D=$localize`:␟8b5f83031c9399ae009db8ff4c788e3f8ce20062␟6395293173369343552:Add Locker`,A=$localize`:␟ca9092fdbbb85e5828de77fdf85c49b918cec128␟559636443235347532:${"\ufffd#19\ufffd"}:START_TAG_APP_ICON:edit${"\ufffd/#19\ufffd"}:CLOSE_TAG_APP_ICON: Change `,B=$localize`:␟a386ba350cdee69beeb12a908d96f0724ddc2054␟2582674642057285571:${"\ufffd#23\ufffd"}:START_TAG_APP_ICON:close${"\ufffd/#23\ufffd"}:CLOSE_TAG_APP_ICON: Remove `,[["placeholder",""],D,A,B,["list","",1,"space-y-2"],["locker","","class","relative p-2 rounded-lg w-full flex items-center shadow border border-base-200",4,"ngFor","ngForOf"],["btn","","matRipple","","name","add-locker",1,"w-full","inverse","mt-2",3,"click"],[1,"flex","items-center","justify-center","space-x-2"],[1,"flex","items-center","flex-wrap","sm:space-x-2","mb-2"],[1,"flex-1","min-w-[256px]","space-y-2"],["locker","",1,"relative","p-2","rounded-lg","w-full","flex","items-center","shadow","border","border-base-200"],["class","flex flex-col",4,"ngIf"],[1,"w-20","h-20","rounded-xl","bg-base-200","mr-4","overflow-hidden","flex","items-center","justify-center"],["auth","","class","min-h-full object-cover",3,"source",4,"ngIf","ngIfElse"],[1,"space-y-2","pb-4"],[1,"font-medium"],[1,"flex","items-center","text-sm","space-x-2"],[1,"text-blue-500","text-base"],["class","flex items-center text-sm space-x-2",4,"ngIf"],[1,"absolute","bottom-0","right-0","flex","items-center","justify-end","text-xs"],["btn","","matRipple","","name","edit-locker",1,"clear",3,"click"],[1,"flex","items-center","space-x-2"],["btn","","matRipple","","name","remove-locker",1,"clear",3,"click"],["icon","","matRipple","","name","toggle-locker-favourite",1,"absolute","top-1","right-1",3,"click"],[1,"flex","flex-col"],["for","title"],["features","",1,"flex","items-center","flex-wrap","space-x-2"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngFor","ngForOf"],[3,"ngModelChange","ngModel","ngModelOptions"],["auth","",1,"min-h-full","object-cover",3,"source"],["src","assets/icons/locker-placeholder.svg",1,"m-auto"]]},template:function(A,B){1&A&&(e.j41(0,"div",4),e.DNE(1,w,27,9,"div",5),e.k0s(),e.j41(2,"button",6),e.bIt("click",function(){return B.changeResources()}),e.j41(3,"div",7)(4,"app-icon"),e.EFF(5,"search"),e.k0s(),e.j41(6,"span"),e.pXf(7,1),e.k0s()()(),e.j41(8,"div",8),e.nrm(9,"div",9),e.k0s()),2&A&&(e.R7$(),e.Y8G("ngForOf",B.items))},dependencies:[p.Sq,p.bT,n.BC,n.vS,f.So,b.R,d.U,y.r6]})}return _})()},647:(gt,re,o)=>{"use strict";o.d(re,{k:()=>x});var e=o(3953),n=o(9714),l=o(5006),h=o(8379),g=o(8796),p=o(177),f=o(9183),b=o(9434),d=o(3208),y=o(6600);function R(I,_){1&I&&(e.j41(0,"div",22)(1,"app-icon"),e.EFF(2,"done"),e.k0s()())}function m(I,_){if(1&I&&e.nrm(0,"img",23),2&I){const C=e.XpG().$implicit;e.Y8G("source",C.images[0])}}function v(I,_){1&I&&e.nrm(0,"img",24)}function O(I,_){if(1&I){const C=e.RV6();e.j41(0,"li",11)(1,"button",12),e.bIt("click",function(){const A=e.eBV(C).$implicit,B=e.XpG(3);return e.Njj(B.selectLockerBank(A))}),e.j41(2,"div",13),e.DNE(3,R,3,0,"div",14)(4,m,1,1,"img",15)(5,v,1,0,"ng-template",null,2,e.C5r),e.k0s(),e.j41(7,"div",16)(8,"span",17),e.EFF(9),e.k0s(),e.j41(10,"div",18)(11,"app-icon",19),e.EFF(12,"place"),e.k0s(),e.j41(13,"p",20),e.EFF(14),e.k0s()(),e.j41(15,"div",18)(16,"app-icon",19),e.EFF(17,"people"),e.k0s(),e.j41(18,"p",20),e.EFF(19),e.k0s()()()(),e.j41(20,"button",21),e.bIt("click",function(){const A=e.eBV(C).$implicit,B=e.XpG(3);return e.Njj(B.toggleFav.emit(A))}),e.j41(21,"app-icon"),e.EFF(22),e.k0s()()()}if(2&I){const C=_.$implicit,D=e.sdS(6),A=e.XpG(3);e.AVh("!border-blue-400",A.active===C.id),e.R7$(3),e.Y8G("ngIf",A.selected.includes(C.id)),e.R7$(),e.Y8G("ngIf",null==C.images?null:C.images.length)("ngIfElse",D),e.R7$(5),e.SpI(" ",C.name||C.id||"Locker_bank"," "),e.R7$(5),e.SpI(" ",(null==C.zone?null:C.zone.display_name)||(null==C.zone?null:C.zone.name)||"<No Level>"," "),e.R7$(5),e.Lme(" ",C.available||0," / ",C.lockers.length||1," Available "),e.R7$(),e.AVh("text-blue-400",A.isFavourite(C.id)),e.R7$(2),e.JRh(A.isFavourite(C.id)?"favorite":"favorite_border")}}function S(I,_){if(1&I&&(e.j41(0,"ul",9),e.DNE(1,O,23,12,"li",10),e.nI1(2,"async"),e.k0s()),2&I){const C=e.XpG(2);e.R7$(),e.Y8G("ngForOf",e.bMT(2,1,C.locker_banks))}}function P(I,_){if(1&I&&(e.qex(0),e.DNE(1,S,3,3,"ul",8),e.nI1(2,"async"),e.bVm()),2&I){let C;const D=e.XpG(),A=e.sdS(10);e.R7$(),e.Y8G("ngIf",null==(C=e.bMT(2,2,D.locker_banks))?null:C.length)("ngIfElse",A)}}function M(I,_){1&I&&(e.j41(0,"div",25),e.nrm(1,"mat-spinner",26),e.j41(2,"p",27),e.EFF(3,"Finding available locker banks..."),e.k0s()()),2&I&&(e.R7$(),e.Y8G("diameter",32))}function w(I,_){1&I&&(e.j41(0,"div",28)(1,"p",29),e.EFF(2," No available locker banks for selected time and/or filters "),e.k0s()())}let x=(()=>{class I{constructor(C,D){this._state=C,this._lockers=D,this.active="",this.selected="",this.favorites=[],this.onSelect=new e.bkB,this.toggleFav=new e.bkB,this.locker_banks=(0,n.zV)([this._state.options,this._state.available_resources,this._lockers.lockers_banks$]).pipe((0,l.T)(([{show_fav:A},B,F])=>F.filter($=>(!A||this.isFavourite($.id))&&B.find(U=>U.bank_id===$.id)).map($=>({...$,available:B.filter(U=>U.bank_id===$.id).length,lockers:$.lockers.map(U=>({...U,zone:$.zone}))})))),this.loading=this._state.loading}isFavourite(C){return this.favorites.includes(C)}selectLockerBank(C){this.onSelect.emit(C)}static#e=this.\u0275fac=function(D){return new(D||I)(e.rXU(h.n),e.rXU(g.$))};static#t=this.\u0275cmp=e.VBU({type:I,selectors:[["locker-bank-list"]],inputs:{active:"active",selected:"selected",favorites:"favorites"},outputs:{onSelect:"onSelect",toggleFav:"toggleFav"},decls:11,vars:7,consts:()=>{let C,D;return C=$localize`:␟80ed5b776a26a78099e230e0e89d96c33ba44e24␟5968132631442328843:Results`,D=$localize`:␟5b237ca854e67fef69541b67dc32656a82b0972b␟8158044446606709450: ${"\ufffd0\ufffd"}:INTERPOLATION: result(s) found `,[["load_state",""],["empty_state",""],["placeholder",""],C,D,[1,"font-bold"],["count","",1,"text-sm","opacity-60","mb-4"],[4,"ngIf","ngIfElse"],["class","list-style-none space-y-2 min-w-[50vh]",4,"ngIf","ngIfElse"],[1,"list-style-none","space-y-2","min-w-[50vh]"],["locker_bank","","class","relative rounded-lg w-full shadow border bg-base-100 border-base-200 overflow-hidden",3,"!border-blue-400",4,"ngFor","ngForOf"],["locker_bank","",1,"relative","rounded-lg","w-full","shadow","border","bg-base-100","border-base-200","overflow-hidden"],["name","select-locker_bank","matRipple","",1,"w-full","h-full","flex","p-2",3,"click"],[1,"relative","w-20","h-20","rounded-xl","bg-base-200","mr-4","flex","items-center","justify-center"],["class","absolute top-1 left-1 border border-neutral bg-base-200 rounded-full h-6 w-6 flex items-center justify-center text-white",4,"ngIf"],["auth","","class","object-cover h-full",3,"source",4,"ngIf","ngIfElse"],[1,"space-y-2","pt-2","flex-1","text-left"],[1,"font-medium"],[1,"flex","items-center","text-sm","space-x-2"],[1,"text-blue-500"],[1,"text-xs"],["icon","","matRipple","","name","toggle-locker_bank-favourite",1,"absolute","top-1","right-1",3,"click"],[1,"absolute","top-1","left-1","border","border-neutral","bg-base-200","rounded-full","h-6","w-6","flex","items-center","justify-center","text-white"],["auth","",1,"object-cover","h-full",3,"source"],["src","assets/icons/locker-placeholder.svg",1,"m-auto"],["loading","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[3,"diameter"],[1,"opacity-30"],["empty","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[1,"opacity-30","text-center"]]},template:function(D,A){if(1&D&&(e.j41(0,"h3",5),e.pXf(1,3),e.k0s(),e.j41(2,"p",6),e.pXf(3,4),e.nI1(4,"async"),e.k0s(),e.DNE(5,P,3,4,"ng-container",7),e.nI1(6,"async"),e.DNE(7,M,4,1,"ng-template",null,0,e.C5r)(9,w,3,0,"ng-template",null,1,e.C5r)),2&D){let B,F;const $=e.sdS(8);e.R7$(4),e.uP7((null==(B=e.bMT(4,3,A.locker_banks))?null:B.length)||0),e.nnv(3),e.R7$(),e.Y8G("ngIf",!(null!=(F=e.bMT(6,5,A.loading))&&F.length))("ngIfElse",$)}},dependencies:[p.Sq,p.bT,f.LG,b.R,d.U,y.r6,p.Jj],styles:["[_nghost-%COMP%]{width:100%;height:100%;padding:.5rem;background:#0000000d;overflow-y:auto}"]})}return I})()},2394:(gt,re,o)=>{"use strict";o.d(re,{B:()=>v});var e=o(3953),n=o(9707),l=o(2657),h=o(8379),g=o(4512),p=o(6665),f=o(177),b=o(9434),d=o(6600);const y=()=>[];function R(O,S){if(1&O){const P=e.RV6();e.j41(0,"div",14)(1,"p"),e.EFF(2),e.k0s(),e.j41(3,"button",15),e.bIt("click",function(){const w=e.eBV(P).$implicit,x=e.XpG();return e.Njj(x.setFeature(w,!1))}),e.j41(4,"app-icon"),e.EFF(5,"close"),e.k0s()()()}if(2&O){const P=S.$implicit;e.R7$(2),e.JRh(P)}}function m(O,S){if(1&O){const P=e.RV6();e.j41(0,"div",16)(1,"span"),e.pXf(2,3),e.k0s(),e.j41(3,"button",17),e.bIt("click",function(){e.eBV(P);const w=e.XpG();return e.Njj(w.setOptions({show_fav:!1}))}),e.j41(4,"app-icon"),e.EFF(5,"close"),e.k0s()()()}}let v=(()=>{class O extends n.Tv{get start(){return this._state.form.value.date}get end(){const{date:P,duration:M,all_day:w}=this._state.form.value;return w?(0,g.D)(P):P+60*M*1e3}get time_format(){return this._settings.time_format}constructor(P,M,w){super(),this._bsheet=P,this._state=M,this._settings=w,this.view="list",this.viewChange=new e.bkB,this.options=this._state.options,this.setOptions=x=>this._state.setOptions(x),this.setFeature=(x,I)=>this._state.setFeature(x,I),this.editFilter=()=>this._bsheet.open(l.x)}static#e=this.\u0275fac=function(M){return new(M||O)(e.rXU(p.VK),e.rXU(h.n),e.rXU(n.h$))};static#t=this.\u0275cmp=e.VBU({type:O,selectors:[["locker-filters-display"]],inputs:{view:"view"},outputs:{viewChange:"viewChange"},features:[e.Vt3],decls:20,vars:23,consts:()=>{let P,M,w,x;return P=$localize`:␟19eaa5cd51d70d9ea957eecac78cfd811e9b93d8␟5208858215712453646: Filters `,M=$localize`:␟992a9a6a193a56c5b8846dc972c5e1977ee5f1aa␟8553228906889869186: Map `,w=$localize`:␟4b286e90831dd637c5cd3eb20544664ee7112669␟7787942140742011951: List `,x=$localize`:␟d6ad8326be48837fe776a268abc758d1c7ba4f05␟1305804744685886428:Favourites Only`,[P,M,w,x,["actions","",1,"sm:hidden","space-x-2","flex","flex-row","items-center","p-2"],["btn","","matRipple","","name","edit-locker-filters",1,"flex-1","w-1/2",3,"click"],[1,"flex","items-center"],["btn","","matRipple","","name","view-locker-map",1,"rounded-l","rounded-r-none",3,"click"],["btn","","matRipple","","name","view-locker-list",1,"rounded-r","rounded-l-none",3,"click"],["filters","",1,"flex","items-center","flex-wrap","p-2","w-[35rem]","max-w-full","sm:max-w-[35rem]"],["filter-item","","date",""],["filter-item","","time",""],["filter-item","","features","",4,"ngFor","ngForOf"],["filter-item","",4,"ngIf"],["filter-item","","features",""],["icon","","matRipple","","name","remove-locker-filter",1,"-mr-4",3,"click"],["filter-item",""],["icon","","matRipple","","name","remove-locker-favs-filter",1,"-mr-4",3,"click"]]},template:function(M,w){if(1&M&&(e.j41(0,"section",4)(1,"button",5),e.bIt("click",function(){return w.editFilter()}),e.pXf(2,0),e.k0s(),e.j41(3,"div",6)(4,"button",7),e.bIt("click",function(){return w.view="map",w.viewChange.emit(w.view)}),e.pXf(5,1),e.k0s(),e.j41(6,"button",8),e.bIt("click",function(){return w.view="list",w.viewChange.emit(w.view)}),e.pXf(7,2),e.k0s()()(),e.j41(8,"section",9)(9,"div",10),e.EFF(10),e.nI1(11,"date"),e.k0s(),e.j41(12,"div",11),e.EFF(13),e.nI1(14,"date"),e.nI1(15,"date"),e.k0s(),e.DNE(16,R,6,1,"div",12),e.nI1(17,"async"),e.DNE(18,m,6,0,"div",13),e.nI1(19,"async"),e.k0s()),2&M){let x,I;e.R7$(4),e.AVh("inverse","map"!==w.view),e.R7$(2),e.AVh("inverse","list"!==w.view),e.R7$(4),e.JRh(e.i5U(11,9,w.start,"mediumDate")),e.R7$(3),e.Lme(" ",e.i5U(14,12,w.start,w.time_format)," \u2014 ",e.i5U(15,15,w.end,w.time_format)," "),e.R7$(3),e.Y8G("ngForOf",(null==(x=e.bMT(17,18,w.options))?null:x.features)||e.lJ4(22,y)),e.R7$(2),e.Y8G("ngIf",null==(I=e.bMT(19,20,w.options))?null:I.show_fav)}},dependencies:[f.Sq,f.bT,b.R,d.r6,f.Jj,f.vh],styles:["[filter-item][_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 1rem;height:2rem;font-size:.875rem;border:1px solid rgba(0,0,0,.2);border-radius:1.25rem;margin-right:.5rem;margin-bottom:.5rem}[filter-item][_ngcontent-%COMP%]:hover{background:#0000001a}[filter-item][_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:.5rem}"]})}return O})()},2657:(gt,re,o)=>{"use strict";o.d(re,{x:()=>G});var e=o(9707),n=o(4512),l=o(906),h=o(8026),g=o(8379),p=o(3953),f=o(6665),b=o(177),d=o(9417),y=o(3719),R=o(2765),m=o(6600),v=o(9608),O=o(3476),S=o(1413),P=o(9434),M=o(2798),w=o(1780);const x=()=>({standalone:!0}),I=()=>[];function _(J,te){if(1&J){const ne=p.RV6();p.j41(0,"button",31),p.bIt("click",function(){p.eBV(ne);const k=p.XpG();return p.Njj(k.close())}),p.j41(1,"app-icon"),p.EFF(2,"keyboard_arrow_left"),p.k0s()()}}function C(J,te){if(1&J&&(p.j41(0,"mat-option",36),p.EFF(1),p.k0s()),2&J){const ne=te.$implicit;p.Y8G("value",ne),p.R7$(),p.SpI(" ",ne.display_name||ne.name," ")}}function D(J,te){if(1&J){const ne=p.RV6();p.j41(0,"div",32)(1,"label"),p.pXf(2,7),p.k0s(),p.j41(3,"mat-form-field",33)(4,"mat-select",34),p.mxI("ngModelChange",function(k){p.eBV(ne);const j=p.XpG();return p.DH7(j.building,k)||(j.building=k),p.Njj(k)}),p.bIt("ngModelChange",function(k){p.eBV(ne);const j=p.XpG();return p.Njj(j.setOptions({zone_id:null==k?null:k.id}))}),p.DNE(5,C,2,2,"mat-option",35),p.nI1(6,"async"),p.k0s()()()}if(2&J){const ne=p.XpG();p.R7$(4),p.R50("ngModel",ne.building),p.Y8G("ngModelOptions",p.lJ4(5,x)),p.R7$(),p.Y8G("ngForOf",p.bMT(6,3,ne.buildings))}}function A(J,te){if(1&J&&(p.j41(0,"mat-option",36),p.EFF(1),p.k0s()),2&J){const ne=te.$implicit;p.Y8G("value",ne.id),p.R7$(),p.SpI(" ",ne.display_name||ne.name," ")}}function B(J,te){if(1&J){const ne=p.RV6();p.j41(0,"div",32)(1,"label"),p.EFF(2,"Level"),p.k0s(),p.j41(3,"mat-form-field",37)(4,"mat-select",38),p.bIt("ngModelChange",function(k){p.eBV(ne);const j=p.XpG();return p.Njj(j.setOptions({zone_id:k||j.building.id}))}),p.DNE(5,A,2,2,"mat-option",35),p.nI1(6,"async"),p.k0s()()()}if(2&J){const ne=p.XpG();p.R7$(4),p.Y8G("disabled",!ne.building)("ngModelOptions",p.lJ4(5,x)),p.R7$(),p.Y8G("ngForOf",p.bMT(6,3,ne.levels))}}function F(J,te){if(1&J){const ne=p.RV6();p.j41(0,"div",41)(1,"div",42),p.EFF(2),p.k0s(),p.j41(3,"mat-checkbox",43),p.nI1(4,"async"),p.bIt("ngModelChange",function(k){const j=p.eBV(ne).$implicit,W=p.XpG(2);return p.Njj(W.setFeature(j,k))}),p.k0s()()}if(2&J){let ne;const K=te.$implicit,k=p.XpG(2);p.R7$(2),p.JRh(K),p.R7$(),p.Y8G("ngModel",((null==(ne=p.bMT(4,3,k.options))?null:ne.features)||p.lJ4(5,I)).includes(K))("ngModelOptions",p.lJ4(6,x))}}function $(J,te){if(1&J&&(p.j41(0,"section",39)(1,"h2",17),p.pXf(2,8),p.k0s(),p.DNE(3,F,5,7,"div",40),p.nI1(4,"async"),p.k0s()),2&J){const ne=p.XpG();p.R7$(3),p.Y8G("ngForOf",p.bMT(4,1,ne.features))}}function U(J,te){if(1&J){const ne=p.RV6();p.j41(0,"div",44)(1,"button",45),p.bIt("click",function(){p.eBV(ne);const k=p.XpG();return p.Njj(k.close())}),p.pXf(2,9),p.k0s()()}}let G=(()=>{class J{get building(){return this._org.building}set building(ne){this._org.building=ne}get allow_time_changes(){return!!this._settings.get("app.lockers.allow_time_changes")}get allow_all_day(){return this.allow_time_changes&&!!this._settings.get("app.lockers.allow_all_day")}get end_date(){return(0,n.D)((0,l.f)(Date.now(),this._settings.get("app.lockers.available_period")||90))}get use_24hr(){return this._settings.get("app.use_24_hour_time")}constructor(ne,K,k,j){this._bsheet_ref=ne,this._state=K,this._org=k,this._settings=j,this.can_close=!1,this.options=this._state.options,this.features=this._state.features,this.buildings=this._org.active_buildings,this.levels=this._org.active_levels,this.form=this._state.form,this.close=()=>this._bsheet_ref.dismiss(),this.setOptions=W=>this._state.setOptions(W),this.setFeature=(W,ie)=>this._state.setFeature(W,ie),this.setLevel=W=>{},this.can_close=!!this._bsheet_ref}static#e=this.\u0275fac=function(K){return new(K||J)(p.rXU(f.eN,8),p.rXU(g.n),p.rXU(h.y),p.rXU(e.h$))};static#t=this.\u0275cmp=p.VBU({type:J,selectors:[["locker-filters"]],decls:42,vars:36,consts:()=>{let ne,K,k,j,W,ie,ce,oe,me,he;return ne=$localize`:␟229669497e532a4055b24a971df68ec327b07e30␟2717350382225268503:Locker Filters`,K=$localize`:␟4f8b2bb476981727ab34ed40fde1218361f92c45␟5028777105388019087:Details`,k=$localize`:␟2f933b826a570836cab04f683970a2d22068458c␟3973931101896534797:Date`,j=$localize`:␟7c0a71d337783e527c1c8e91e433b301c5b1d8a8␟4204880191779081093:Start Time`,W=$localize`:␟e1f10d9bf4d3c37490cd5bf82007444ae7af46b1␟3845185958891849368:End Time`,ie=$localize`:␟bde3d9fd949ba4c6014b8e64c1362753bca1cf0c␟5010873675481014004: ${"\ufffd0\ufffd"}:INTERPOLATION: `,ce=$localize`:␟d73a29823cb90d2c49c4f6ee3dc0cbad14a63586␟7993989716494624155: ${"\ufffd0\ufffd"}:INTERPOLATION: `,oe=$localize`:␟6e8be3c170a661414dbcf0e4be5ce2ba65f62615␟5782981899482871069:Building`,me=$localize`:␟f61c6867295f3b53d23557021f2f4e0aa1d0b8fc␟8650499415827640724:Type`,he=$localize`:␟c17e2cc448524a39eb83b2937cea3235a2e8bf37␟2296888311792137027: Apply Filters `,[ne,K,k,j,W,ie,ce,oe,me,he,[1,"flex","rounded-t-md","items-center","border-b","border-base-200","pb-2","sm:p-4"],[1,"flex-1","pl-2"],["icon","","matRipple","","name","close-locker-filters","class","sm:hidden",3,"click",4,"ngIf"],[1,"font-medium","flex-2","text-center"],[1,"flex-1"],[1,"max-h-[65vh]","p-2","overflow-y-auto","overflow-x-hidden","divide-y","divide-base-200","w-full","max-w-[100vw]","sm:max-w-[30vw]",3,"formGroup"],["details",""],[1,"text-lg","font-medium"],["class","flex-1 min-w-[256px] flex flex-col",4,"ngIf"],[1,"flex-1","min-w-[256px]"],["name","date","formControlName","date",3,"to"],[1,"flex","items-center","space-x-2"],[1,"flex-1","w-1/3"],["name","start-time",3,"ngModelChange","ngModel","ngModelOptions","use_24hr"],["formControlName","duration",3,"time","max","min","step","use_24hr"],["favs","",1,"space-y-2","pb-4"],[1,"flex","items-center"],["for","fav",1,"flex-1","w-1/2"],["name","fav",3,"ngModelChange","ngModel","ngModelOptions"],["class","space-y-2","features","",4,"ngIf"],["class","px-2 py-2 w-full border-t border-base-200",4,"ngIf"],["icon","","matRipple","","name","close-locker-filters",1,"sm:hidden",3,"click"],[1,"flex-1","min-w-[256px]","flex","flex-col"],["appearance","outline",1,"w-full"],["name","building","placeholder","Select building",3,"ngModelChange","ngModel","ngModelOptions"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["appearance","outline"],["placeholder","Any Level","ngModel","",3,"ngModelChange","disabled","ngModelOptions"],["features","",1,"space-y-2"],["class","flex items-center flex-wrap space-x-2",4,"ngFor","ngForOf"],[1,"flex","items-center","flex-wrap","space-x-2"],["for","feat",1,"flex-1","w-1/2"],[3,"ngModelChange","ngModel","ngModelOptions"],[1,"px-2","py-2","w-full","border-t","border-base-200"],["btn","","matRipple","","name","apply-locker-filters",1,"w-full",3,"click"]]},template:function(K,k){if(1&K&&(p.j41(0,"div",10)(1,"div",11),p.DNE(2,_,3,0,"button",12),p.k0s(),p.j41(3,"h3",13),p.pXf(4,0),p.k0s(),p.nrm(5,"div",14),p.k0s(),p.j41(6,"form",15)(7,"section",16)(8,"h2",17),p.pXf(9,1),p.k0s(),p.DNE(10,D,7,6,"div",18),p.nI1(11,"async"),p.DNE(12,B,7,6,"div",18),p.nI1(13,"async"),p.j41(14,"div",19)(15,"label"),p.pXf(16,2),p.k0s(),p.j41(17,"a-date-field",20),p.EFF(18),p.nI1(19,"translate"),p.k0s()(),p.j41(20,"div",21)(21,"div",22)(22,"label"),p.pXf(23,3),p.k0s(),p.j41(24,"a-time-field",23),p.bIt("ngModelChange",function(W){return k.form.patchValue({date:W})}),p.k0s()(),p.j41(25,"div",22)(26,"label"),p.pXf(27,4),p.k0s(),p.nrm(28,"a-duration-field",24),p.k0s()()(),p.j41(29,"section",25)(30,"h2",17),p.pXf(31,5),p.nI1(32,"translate"),p.k0s(),p.j41(33,"div",26)(34,"div",27),p.pXf(35,6),p.nI1(36,"translate"),p.k0s(),p.j41(37,"mat-checkbox",28),p.nI1(38,"async"),p.bIt("ngModelChange",function(W){return k.setOptions({show_fav:W})}),p.k0s()()(),p.DNE(39,$,5,3,"section",29),p.nI1(40,"async"),p.k0s(),p.DNE(41,U,3,0,"div",30)),2&K){let j,W,ie,ce,oe;p.R7$(2),p.Y8G("ngIf",k.can_close),p.R7$(4),p.Y8G("formGroup",k.form),p.R7$(4),p.Y8G("ngIf",null==(j=p.bMT(11,20,k.buildings))?null:j.length),p.R7$(2),p.Y8G("ngIf",(null==(W=p.bMT(13,22,k.levels))?null:W.length)>1),p.R7$(5),p.Y8G("to",k.end_date),p.R7$(),p.SpI(" ",p.bMT(19,24,"FORM.DATE_ERROR")," "),p.R7$(6),p.Y8G("ngModel",k.form.value.date)("ngModelOptions",p.lJ4(34,x))("use_24hr",k.use_24hr),p.R7$(4),p.Y8G("time",null==(ie=k.form.get("date"))?null:ie.value)("max",600)("min",60)("step",60)("use_24hr",k.use_24hr),p.R7$(4),p.uP7(p.bMT(32,26,"COMMON.FAVOURITES")),p.nnv(31),p.R7$(4),p.uP7(p.bMT(36,28,"LOCKERS.SHOW_FAVOURITES")),p.nnv(35),p.R7$(),p.Y8G("ngModel",null==(ce=p.bMT(38,30,k.options))?null:ce.show_fav)("ngModelOptions",p.lJ4(35,x)),p.R7$(2),p.Y8G("ngIf",null==(oe=p.bMT(40,32,k.features))?null:oe.length),p.R7$(2),p.Y8G("ngIf",k.can_close)}},dependencies:[b.Sq,b.bT,d.qT,d.BC,d.cb,d.vS,d.j4,d.JD,y.rl,R.So,m.wT,v.G,O.y,S.t,P.R,M.VO,m.r6,b.Jj,w.D9],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:100%;max-width:100vw}"]})}return J})()},8720:(gt,re,o)=>{"use strict";o.d(re,{U:()=>M});var e=o(3953),n=o(9707),l=o(5006),h=o(8379),g=o(9714),p=o(5897),f=o(4810),b=o(177),d=o(9417),y=o(3719),R=o(6600),m=o(9434),v=o(4918),O=o(2798);const S=()=>({standalone:!0});function P(w,x){if(1&w&&(e.j41(0,"mat-option",10),e.EFF(1),e.k0s()),2&w){const I=x.$implicit;e.Y8G("value",I),e.R7$(),e.SpI(" ",I.display_name||I.name," ")}}let M=(()=>{class w extends n.Tv{get map_url(){return this.level?.map_id||""}constructor(I,_){super(),this._state=I,this._settings=_,this.is_displayed=!1,this.onSelect=new e.bkB,this.lockers=this._state.available_resources,this.loading=this._state.loading,this.zoom=1,this.center={x:.5,y:.5},this.setOptions=C=>this._state.setOptions(C),this.levels=this._state.available_resources.pipe((0,l.T)(C=>(0,n.Am)(C.map(D=>D.zone),"id"))),this.actions=this._state.available_resources.pipe((0,l.T)(C=>C.map(D=>({id:D.map_id||D.id,action:["touchend","mouseup"],callback:()=>this.selectLocker(D)})))),this.features=this._state.resources.pipe((0,l.T)(C=>this._settings.get("app.lockers.hide_user")?[]:C.map(D=>({location:D.id,content:f.B,full_size:!0,no_scale:!0,data:{id:D.map_id||D.id,map_id:D.name,name:D.name||D.map_id,user:this._state.resourceUserName(D.id)},z_index:20})))),this.styles=(0,g.zV)([this._state.resources,this._state.available_resources]).pipe((0,l.T)(([C,D])=>C.reduce((A,B)=>{const F=this._settings.get("app.explore.colors")||{},$=D.find(U=>U.id===B.id)?"free":"busy";return A[`#${B.map_id||B.id}`]={fill:F[`locker-${$}`]||F[`${$}`]||p.U[`${$}`]},A},{})))}ngOnInit(){this.subscription("levels_update",this.levels.subscribe(I=>{I.find(_=>_.id===this.level?.id)||(this.level=I[0])}))}selectLocker(I){this.onSelect.emit(I)}setZoom(I){this.zoom=Math.max(.5,Math.min(10,I))}resetMap(){this.zoom=1,this.center={x:.5,y:.5}}static#e=this.\u0275fac=function(_){return new(_||w)(e.rXU(h.n),e.rXU(n.h$))};static#t=this.\u0275cmp=e.VBU({type:w,selectors:[["locker-map"]],inputs:{is_displayed:"is_displayed"},outputs:{onSelect:"onSelect"},features:[e.Vt3],decls:21,vars:18,consts:[[3,"zoomChange","centerChange","src","zoom","center","features","styles","actions"],[1,"absolute","inset-x-0","top-0","bg-base-100","p-2","border-b","border-base-200"],["levels","","appearance","outline",1,"w-full","h-[3.25rem]"],[3,"ngModelChange","ngModel","ngModelOptions"],[3,"value",4,"ngFor","ngForOf"],["zoom","",1,"absolute","bottom-2","right-2","rounded-lg","border","border-base-200","bg-base-100","flex","flex-col","overflow-hidden"],["zoom-in","","icon","","matRipple","",3,"click"],[1,"border-t","border-base-200","w-full"],["zoom-out","","icon","","matRipple","",3,"click"],["reset","","icon","","matRipple","",3,"click"],[3,"value"]],template:function(_,C){1&_&&(e.j41(0,"interactive-map",0),e.nI1(1,"async"),e.nI1(2,"async"),e.nI1(3,"async"),e.mxI("zoomChange",function(A){return e.DH7(C.zoom,A)||(C.zoom=A),A})("centerChange",function(A){return e.DH7(C.center,A)||(C.center=A),A}),e.k0s(),e.j41(4,"div",1)(5,"mat-form-field",2)(6,"mat-select",3),e.mxI("ngModelChange",function(A){return e.DH7(C.level,A)||(C.level=A),A}),e.DNE(7,P,2,2,"mat-option",4),e.nI1(8,"async"),e.k0s()()(),e.j41(9,"div",5)(10,"button",6),e.bIt("click",function(){return C.setZoom(1.1*C.zoom)}),e.j41(11,"app-icon"),e.EFF(12,"zoom_in"),e.k0s()(),e.nrm(13,"div",7),e.j41(14,"button",8),e.bIt("click",function(){return C.setZoom(C.zoom*(1/1.1))}),e.j41(15,"app-icon"),e.EFF(16,"zoom_out"),e.k0s()(),e.nrm(17,"div",7),e.j41(18,"button",9),e.bIt("click",function(){return C.resetMap()}),e.j41(19,"app-icon"),e.EFF(20,"refresh"),e.k0s()()()),2&_&&(e.Y8G("src",C.map_url),e.R50("zoom",C.zoom)("center",C.center),e.Y8G("features",e.bMT(1,9,C.features))("styles",e.bMT(2,11,C.styles))("actions",e.bMT(3,13,C.actions)),e.R7$(6),e.R50("ngModel",C.level),e.Y8G("ngModelOptions",e.lJ4(17,S)),e.R7$(),e.Y8G("ngForOf",e.bMT(8,15,C.levels)))},dependencies:[b.Sq,d.BC,d.vS,y.rl,R.wT,m.R,v.S,O.VO,R.r6,b.Jj],styles:["[_nghost-%COMP%]{position:relative;background:#0000000d;padding-top:4rem}button[_ngcontent-%COMP%]{border-radius:0}"]})}return w})()},482:(gt,re,o)=>{"use strict";o.d(re,{F:()=>x,P:()=>I});var e=o(4006),n=o(9707),l=o(8379),h=o(3953),g=o(177),p=o(9434),f=o(6600),b=o(4854),d=o(2657),y=o(2394),R=o(647),m=o(8720);function v(_,C){if(1&_){const D=h.RV6();h.j41(0,"locker-bank-list",32),h.bIt("toggleFav",function(B){h.eBV(D);const F=h.XpG(2);return h.Njj(F.toggleFavourite(B))})("onSelect",function(B){h.eBV(D);const F=h.XpG(2);return h.Njj(F.bank=B)}),h.k0s()}if(2&_){const D=h.XpG(2);h.Y8G("active",null==D.displayed?null:D.displayed.id)("selected",D.selected_ids)("favorites",D.favorites)}}function O(_,C){if(1&_&&(h.qex(0),h.DNE(1,v,1,3,"locker-bank-list",31),h.bVm()),2&_){const D=h.XpG(),A=h.sdS(39);h.R7$(),h.Y8G("ngIf","list"===D.view)("ngIfElse",A)}}function S(_,C){if(1&_){const D=h.RV6();h.j41(0,"button",33),h.bIt("click",function(){h.eBV(D);const B=h.XpG();return h.Njj(B.displayed=null)}),h.pXf(1,7),h.k0s()}}function P(_,C){if(1&_){const D=h.RV6();h.j41(0,"button",34),h.bIt("click",function(){h.eBV(D);const B=h.XpG();return B.bank=null,h.Njj(B.displayed=null)}),h.EFF(1," Return "),h.k0s()}}function M(_,C){if(1&_){const D=h.RV6();h.j41(0,"locker-map",35),h.bIt("onSelect",function(B){h.eBV(D);const F=h.XpG();return h.Njj(F.displayed=B)}),h.k0s()}if(2&_){const D=h.XpG();h.Y8G("is_displayed",!!D.displayed)}}function w(_,C){if(1&_){const D=h.RV6();h.j41(0,"locker-grid",36),h.bIt("clicked",function(B){h.eBV(D);const F=h.XpG();return h.Njj(F.displayed=B)}),h.k0s()}if(2&_){const D=h.XpG();h.Y8G("bank",D.bank)("selected",null==D.displayed?null:D.displayed.id)}}const x="favourite_lockers";let I=(()=>{class _{get selected_ids(){return this.selected.map(D=>D.id).join(",")}get favorites(){return this._settings.get(x)||[]}constructor(D,A,B,F){this._dialog_ref=D,this._settings=A,this._event_form=B,this._data=F,this.selected=[],this.view="list",this.bank=null,this.selected=[...F.items||[]],this._event_form.setOptions(F.options)}isSelected(D){return D&&this.selected_ids.includes(D)}setSelected(D,A){const B=this.selected.filter(F=>F.id!==D.id);A&&B.push(D),this.selected=B,!this._data.options.group&&A&&this._dialog_ref.close([D])}toggleFavourite(D){const A=this.favorites;A.includes(D.id)?this._settings.saveUserSetting(x,A.filter(F=>F!==D.id)):this._settings.saveUserSetting(x,[...A,D.id])}static#e=this.\u0275fac=function(A){return new(A||_)(h.rXU(e.CP),h.rXU(n.h$),h.rXU(l.n),h.rXU(e.Vh))};static#t=this.\u0275cmp=h.VBU({type:_,selectors:[["locker-select-modal"]],decls:42,vars:19,consts:()=>{let D,A,B,F,$,U;return D=$localize`:␟a97cf1d9e290adb3e67030e67ae6cc914390a70d␟6506914875226692064:Find Locker`,A=$localize`:␟30d3439b0e0095fe69503245f3bd7a2e9498be7c␟8443571736703532556: View List `,B=$localize`:␟18843b85d1a4f17fefafd07bc5cde636dca44295␟819716823718458903:Back to form`,F=$localize`:␟613a2ac6bcd89376b2b66c414f54a2120304f542␟3218631102043895117: ${"\ufffd0\ufffd"}:INTERPOLATION: locker(s) added `,$=$localize`:␟b175289321a7bd20ba6e53bafb26c0604ecec7e5␟7444538929505592211: ${"\ufffd0\ufffd"}:INTERPOLATION: `,U=$localize`:␟ccda1d41ca79703a85a3a598c1d97e040a32b766␟874721418273731876: Back `,[["map_view",""],["bank_view",""],D,A,B,F,$,U,[1,"w-[100vw]","h-[100vh]","sm:relative","sm:w-auto","sm:h-auto","flex","flex-col","bg-base-100"],[1,"flex","items-center","space-x-4","w-full"],["icon","","mat-dialog-close","",1,"bg-base-200"],[1,"hidden","sm:flex","items-center","justify-end","flex-1"],["btn","","matRipple","","name","view-locker-map",1,"rounded-l","rounded-r-none",3,"click"],["btn","","matRipple","","name","view-locker-list",1,"rounded-r","rounded-l-none",3,"click"],[1,"flex-1","flex","items-center","divide-x","divide-base-200","min-h-[65vh]","h-[65vh]","sm:max-h-[65vh]","sm:max-w-[95vw]","w-full","overflow-hidden"],[1,"h-full","hidden","sm:flex","max-w-[20rem]","sm:h-[65vh]","sm:max-h-full"],[1,"flex","flex-col","items-center","flex-1","w-1/2","h-full","sm:h-[65vh]"],[1,"w-full","border-b","border-base-200",3,"viewChange","view"],[4,"ngIf","ngIfElse"],[1,"flex","sm:hidden","flex-col-reverse","items-center","justify-end","px-2","pt-2","pb-[5.5rem]","border-t","border-base-200","w-full"],["btn","","matRipple","","name","locker-return","class","inverse sm:hidden w-full",3,"click",4,"ngIf"],["btn","","matRipple","","name","save-lockers",1,"w-full","sm:w-32","sm:mb-0",3,"mat-dialog-close"],[1,"hidden","sm:flex","items-center","justify-between","p-2","border-t","border-base-200","w-full"],["btn","","matRipple","","name","locker-return",1,"clear","text-secondary",3,"mat-dialog-close"],[1,"flex","items-center"],[1,"text-xl"],[1,"mr-1","underline"],[1,"opacity-60","text-sm","text-center"],["btn","","matRipple","","name","clear-bank","class","inverse mr-2 w-32",3,"click",4,"ngIf"],["btn","","matRipple","","name","toggle-locker",3,"click","disabled"],[1,"mr-1"],["class","flex-1 h-1/2 bg-base-200",3,"active","selected","favorites","toggleFav","onSelect",4,"ngIf","ngIfElse"],[1,"flex-1","h-1/2","bg-base-200",3,"toggleFav","onSelect","active","selected","favorites"],["btn","","matRipple","","name","locker-return",1,"inverse","sm:hidden","w-full",3,"click"],["btn","","matRipple","","name","clear-bank",1,"inverse","mr-2","w-32",3,"click"],[1,"flex-1","h-1/2","w-full",3,"onSelect","is_displayed"],[1,"flex-1","h-1/2","bg-base-200",3,"clicked","bank","selected"]]},template:function(A,B){if(1&A){const F=h.RV6();h.j41(0,"div",8)(1,"header",9)(2,"button",10)(3,"app-icon"),h.EFF(4,"close"),h.k0s()(),h.j41(5,"h3"),h.pXf(6,2),h.k0s(),h.j41(7,"div",11)(8,"button",12),h.bIt("click",function(){return h.eBV(F),h.Njj(B.view="map")}),h.EFF(9," Map "),h.k0s(),h.j41(10,"button",13),h.bIt("click",function(){return h.eBV(F),h.Njj(B.view="list")}),h.EFF(11," List "),h.k0s()()(),h.j41(12,"main",14),h.nrm(13,"locker-filters",15),h.j41(14,"div",16)(15,"locker-filters-display",17),h.mxI("viewChange",function(U){return h.eBV(F),h.DH7(B.view,U)||(B.view=U),h.Njj(U)}),h.k0s(),h.DNE(16,O,2,2,"ng-container",18),h.k0s()(),h.j41(17,"footer",19),h.DNE(18,S,2,0,"button",20),h.j41(19,"button",21),h.pXf(20,3),h.k0s()(),h.j41(21,"footer",22)(22,"button",23)(23,"div",24)(24,"app-icon",25),h.EFF(25,"arrow_back"),h.k0s(),h.j41(26,"div",26),h.pXf(27,4),h.k0s()()(),h.j41(28,"p",27),h.pXf(29,5),h.k0s(),h.j41(30,"div",24),h.DNE(31,P,2,0,"button",28),h.j41(32,"button",29),h.bIt("click",function(){return h.eBV(F),h.Njj(B.setSelected(B.displayed,!B.isSelected(null==B.displayed?null:B.displayed.id)))}),h.j41(33,"div",24)(34,"app-icon",25),h.EFF(35),h.k0s(),h.j41(36,"div",30),h.pXf(37,6),h.k0s()()()()()(),h.DNE(38,M,1,1,"ng-template",null,0,h.C5r)(40,w,1,2,"ng-template",null,1,h.C5r)}if(2&A){const F=h.sdS(41);h.R7$(8),h.AVh("inverse","map"!==B.view),h.R7$(2),h.AVh("inverse","list"!==B.view),h.R7$(5),h.R50("view",B.view),h.R7$(),h.Y8G("ngIf",!B.bank)("ngIfElse",F),h.R7$(2),h.Y8G("ngIf",B.displayed),h.R7$(),h.AVh("mb-2",B.displayed),h.Y8G("mat-dialog-close",B.selected),h.R7$(3),h.Y8G("mat-dialog-close",B.selected),h.R7$(7),h.uP7(B.selected.length),h.nnv(29),h.R7$(2),h.Y8G("ngIf",B.bank),h.R7$(),h.AVh("inverse",B.isSelected(null==B.displayed?null:B.displayed.id)),h.Y8G("disabled",!B.displayed),h.R7$(3),h.JRh(B.isSelected(null==B.displayed?null:B.displayed.id)?"remove":"add"),h.R7$(2),h.uP7(B.isSelected(null==B.displayed?null:B.displayed.id)?"Remove from Booking":"Add to booking"),h.nnv(37)}},dependencies:[g.bT,e.tx,p.R,f.r6,b.E,d.x,y.B,R.k,m.U],encapsulation:2})}return _})()},8796:(gt,re,o)=>{"use strict";o.d(re,{$:()=>O});var e=o(467),n=o(9707),l=o(5157),h=o(9928),g=o(9714),p=o(4421),f=o(8728),b=o(9090),d=o(3921),y=o(5006),R=o(8712),m=o(8026),v=o(3953);let O=(()=>{class S{setLevel(M){this._level.next(M)}constructor(M){this._org=M,this._level=new h.t(""),this._change=new h.t(0),this.lockers_banks$=(0,g.zV)([this._org.active_building,this._change]).pipe((0,f.p)(([w])=>!!w),(0,b.n)(([w])=>(0,l.WsZ)(w.id,{name:"lockers"}).pipe((0,d.W)(()=>(0,p.of)(new l.Pdm)))),(0,y.T)(w=>(0,n.Bq)(w.map(x=>x.metadata.lockers?.details instanceof Array?x.metadata.lockers?.details.map(I=>({...I,zone:x.zone})):[]))),(0,R.t)(1)),this.lockers$=this.lockers_banks$.pipe((0,y.T)(w=>{const x=[];for(const I of w)x.push(...I.lockers.map(_=>({..._,bank_id:I.id,map_id:I.map_id,level_id:I.zone.id})));return x})),this.filtered_lockers$=(0,g.zV)([this._level,this.lockers$]).pipe((0,y.T)(([w,x])=>x.filter(I=>(!w||I.level_id===w)&&I.bookable)))}saveLockers(M){var w=this;return(0,e.A)(function*(){yield(0,l.D58)(w._org.building.id,{name:"lockers",description:"",details:M}),w._change.next(Date.now())})()}static#e=this.\u0275fac=function(w){return new(w||S)(v.KVO(m.y))};static#t=this.\u0275prov=v.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})()},6724:(gt,re,o)=>{"use strict";o.d(re,{o:()=>v});var e=o(3953),n=o(4351),l=o(2185),h=o(177),g=o(9434),p=o(4918),f=o(5277),b=o(6600);const d=()=>({disable_pan:!0,disable_zoom:!0});function y(O,S){if(1&O&&e.nrm(0,"image-carousel",21),2&O){const P=e.XpG(2);e.Y8G("images",P.space.images)}}function R(O,S){if(1&O){const P=e.RV6();e.qex(0),e.j41(1,"section",5),e.DNE(2,y,1,1,"image-carousel",6),e.j41(3,"button",7),e.bIt("click",function(){e.eBV(P);const w=e.XpG();return e.Njj(w.close.emit())}),e.j41(4,"app-icon"),e.EFF(5,"arrow_back"),e.k0s()(),e.j41(6,"button",8),e.bIt("click",function(){e.eBV(P);const w=e.XpG();return e.Njj(w.toggleFav.emit())}),e.j41(7,"app-icon"),e.EFF(8),e.k0s()()(),e.j41(9,"div",9)(10,"section",10)(11,"h2",11),e.EFF(12),e.k0s()(),e.nrm(13,"hr"),e.j41(14,"section",12)(15,"h2",13),e.pXf(16,1),e.k0s(),e.j41(17,"div",14)(18,"app-icon"),e.EFF(19,"people"),e.k0s(),e.j41(20,"p"),e.pXf(21,2),e.k0s()(),e.j41(22,"div",14)(23,"app-icon"),e.EFF(24,"meeting_room"),e.k0s(),e.j41(25,"p"),e.EFF(26),e.k0s()(),e.j41(27,"div",14)(28,"app-icon"),e.EFF(29,"place"),e.k0s(),e.j41(30,"p"),e.EFF(31),e.k0s()()(),e.nrm(32,"hr"),e.j41(33,"section",15),e.nrm(34,"interactive-map",16),e.k0s()(),e.j41(35,"div",17)(36,"button",18),e.bIt("click",function(){e.eBV(P);const w=e.XpG();return w.active=!w.active,e.Njj(w.activeChange.emit(w.active))}),e.j41(37,"div",19)(38,"app-icon",20),e.EFF(39),e.k0s(),e.j41(40,"p"),e.EFF(41),e.k0s()()()(),e.bVm()}if(2&O){const P=e.XpG();e.R7$(),e.AVh("sm:h-40",null==P.space.images?null:P.space.images.length)("h-64",null==P.space.images?null:P.space.images.length)("sm:h-0",!(null!=P.space.images&&P.space.images.length))("h-12",!(null!=P.space.images&&P.space.images.length))("!bg-transparent",!(null!=P.space.images&&P.space.images.length)),e.R7$(),e.Y8G("ngIf",null==P.space.images?null:P.space.images.length),e.R7$(4),e.AVh("text-info-content",P.fav)("!bg-info",P.fav),e.R7$(2),e.JRh(P.fav?"favorite":"favorite_border"),e.R7$(4),e.SpI(" ",P.space.display_name||P.space.name," "),e.R7$(9),e.uP7(P.space.capacity),e.nnv(21),e.R7$(5),e.SpI(" ",(null==P.level?null:P.level.display_name)||(null==P.level?null:P.level.name)," "),e.R7$(5),e.SpI(" ",(null==P.building?null:P.building.address)||(null==P.building?null:P.building.display_name)||(null==P.building?null:P.building.name)," "),e.R7$(3),e.Y8G("src",P.map_url)("focus",P.space.map_id)("features",P.features)("options",e.lJ4(28,d)),e.R7$(2),e.AVh("inverse",P.active),e.R7$(3),e.JRh(P.active?"remove":"add"),e.R7$(2),e.SpI(" ",P.active?"Remove this room":"Add this room"," ")}}function m(O,S){1&O&&(e.j41(0,"div",22)(1,"p",23),e.pXf(2,3),e.k0s()())}let v=(()=>{class O{get level(){return this._org.levelWithID([this.space?.zone.id])||this.space?.zone}get building(){return this._org.buildings.find(P=>this.space?.zone.id===P.id||this.space?.zone.parent_id===P.id)}constructor(P){this._org=P,this.fav=!1,this.active=!1,this.activeChange=new e.bkB,this.close=new e.bkB,this.toggleFav=new e.bkB,this.map_url="",this.features=[]}ngOnChanges(P){P.space&&this.space&&this._updateFeature()}_updateFeature(){this.map_url=this.level?.map_id,this.features=[{location:this.space?.map_id,content:n.VT}]}static#e=this.\u0275fac=function(M){return new(M||O)(e.rXU(l.yb))};static#t=this.\u0275cmp=e.VBU({type:O,selectors:[["parking-space-details"]],inputs:{space:"space",fav:"fav",active:"active"},outputs:{activeChange:"activeChange",close:"close",toggleFav:"toggleFav"},features:[e.OA$],decls:3,vars:2,consts:()=>{let P,M,w;return P=$localize`:␟4f8b2bb476981727ab34ed40fde1218361f92c45␟5028777105388019087:Details`,M=$localize`:␟2fe5caca246424da5e7fcee12a1fe341335e1286␟2731085793954892186:${"\ufffd0\ufffd"}:INTERPOLATION: People`,w=$localize`:␟2d39d1ca65d735d7f800e458ce54af6a25652395␟7182911930527299079: Select a space to view it's details `,[["empty_state",""],P,M,w,[4,"ngIf","ngIfElse"],["image","",1,"relative","w-full","bg-base-200"],["class","absolute inset-0",3,"images",4,"ngIf"],["icon","","matRipple","","close","",1,"absolute","top-2","left-2","bg-base-200","sm:hidden",3,"click"],["icon","","matRipple","","fav","",1,"absolute","top-2","right-2","bg-base-200",3,"click"],[1,"p-2","space-y-2","flex-1","h-1/2","overflow-auto"],["actions","",1,"z-0"],[1,"text-xl","font-medium","mb-2","mt-4"],["details","",1,"space-y-2"],[1,"text-xl","font-medium"],[1,"flex","items-center","space-x-2"],["map","",1,"w-full","mx-auto","h-64","sm:h-48","relative","border","border-base-200","overflow-hidden","rounded"],[1,"pointer-events-none",3,"src","focus","features","options"],[1,"p-2","border-t","border-base-200","shadow","sm:hidden"],["btn","","matRipple","",1,"w-full",3,"click"],[1,"flex","items-center","justify-center"],[1,"text-2xl"],[1,"absolute","inset-0",3,"images"],["empty","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[1,"opacity-30","text-center"]]},template:function(M,w){if(1&M&&e.DNE(0,R,42,29,"ng-container",4)(1,m,3,0,"ng-template",null,0,e.C5r),2&M){const x=e.sdS(2);e.Y8G("ngIf",w.space)("ngIfElse",x)}},dependencies:[h.bT,g.R,p.S,f.H,b.r6],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:30%;min-width:20rem;height:100%;min-height:65vh}"]})}return O})()},9138:(gt,re,o)=>{"use strict";o.d(re,{X:()=>O});var e=o(467),n=o(3953),l=o(9707),h=o(2185),g=o(9493),p=o(9145),f=o(8379),b=o(6665),d=o(177),y=o(9434),R=o(6600);function m(S,P){if(1&S&&(n.j41(0,"div",15),n.EFF(1),n.k0s()),2&S){const M=n.XpG();n.R7$(),n.SpI(" ",M.location," ")}}function v(S,P){if(1&S){const M=n.RV6();n.j41(0,"div",16)(1,"p"),n.EFF(2),n.k0s(),n.j41(3,"button",17),n.bIt("click",function(){const x=n.eBV(M).$implicit,I=n.XpG();return n.Njj(I.removeFeature(x))}),n.j41(4,"app-icon"),n.EFF(5,"close"),n.k0s()()()}if(2&S){const M=P.$implicit;n.R7$(2),n.JRh(M)}}let O=(()=>{class S extends l.Tv{get start(){return this._event_form.form.value.date}get end(){const{date:M,duration:w}=this._event_form.form.value;return M+60*w*1e3}get time_format(){return this._settings.time_format}constructor(M,w,x,I){super(),this._bsheet=M,this._event_form=w,this._org=x,this._settings=I,this.view="list",this.viewChange=new n.bkB,this.options=this._event_form.options,this.location="",this.editFilters=()=>this._bsheet.open(p.R)}ngOnInit(){this.subscription("opts",this.options.subscribe(({zone_id:M})=>this._updateLocation([M])))}removeFeature(M){var w=this;return(0,e.A)(function*(){const x=yield w._event_form.options.pipe((0,g.s)(1)).toPromise();w._event_form.setOptions({...x,features:(x.features||[]).filter(I=>I!==M)})})()}_updateLocation(M=[]){const x=this._org.levelWithID(M)||this._org.building;this.location=x?.display_name||x?.name||""}static#e=this.\u0275fac=function(w){return new(w||S)(n.rXU(b.VK),n.rXU(f.n),n.rXU(h.yb),n.rXU(l.h$))};static#t=this.\u0275cmp=n.VBU({type:S,selectors:[["parking-space-filters-display"]],inputs:{view:"view"},outputs:{viewChange:"viewChange"},features:[n.Vt3],decls:22,vars:23,consts:()=>{let M,w,x,I;return M=$localize`:␟19eaa5cd51d70d9ea957eecac78cfd811e9b93d8␟5208858215712453646: Filters `,w=$localize`:␟992a9a6a193a56c5b8846dc972c5e1977ee5f1aa␟8553228906889869186: Map `,x=$localize`:␟4b286e90831dd637c5cd3eb20544664ee7112669␟7787942140742011951: List `,I=$localize`:␟e1bcafb95323d9492bfdfa190a129131e6255cdb␟7211304359187007121: Min. ${"\ufffd0\ufffd"}:INTERPOLATION: People `,[M,w,x,I,["actions","",1,"sm:hidden","space-x-2","flex","items-center","p-2"],["matRipple","","filters","",1,"flex-1","w-1/2",3,"click"],[1,"flex","items-center"],["matRipple","","map","",1,"rounded-l","rounded-r-none",3,"click"],["matRipple","","list","",1,"rounded-r","rounded-l-none",3,"click"],["filters","",1,"flex","items-center","flex-wrap","p-2","w-[35rem]","max-w-full","sm:max-w-[35rem]"],["filter-item","","zone","","class","dark:border-base-200-500",4,"ngIf"],["filter-item","","date","",1,"dark:border-base-200-500"],["filter-item","","time","",1,"dark:border-base-200-500"],["filter-item","","count","",1,"dark:border-base-200-500"],["filter-item","",4,"ngFor","ngForOf"],["filter-item","","zone","",1,"dark:border-base-200-500"],["filter-item",""],["icon","","matRipple","",1,"-mr-4",3,"click"]]},template:function(w,x){if(1&w&&(n.j41(0,"section",4)(1,"button",5),n.bIt("click",function(){return x.editFilters()}),n.pXf(2,0),n.k0s(),n.j41(3,"div",6)(4,"button",7),n.bIt("click",function(){return x.view="map",x.viewChange.emit(x.view)}),n.pXf(5,1),n.k0s(),n.j41(6,"button",8),n.bIt("click",function(){return x.view="list",x.viewChange.emit(x.view)}),n.pXf(7,2),n.k0s()()(),n.j41(8,"section",9),n.DNE(9,m,2,1,"div",10),n.j41(10,"div",11),n.EFF(11),n.nI1(12,"date"),n.k0s(),n.j41(13,"div",12),n.EFF(14),n.nI1(15,"date"),n.nI1(16,"date"),n.k0s(),n.j41(17,"div",13),n.pXf(18,3),n.nI1(19,"async"),n.k0s(),n.DNE(20,v,6,1,"div",14),n.nI1(21,"async"),n.k0s()),2&w){let I,_;n.R7$(4),n.AVh("inverse","map"!==x.view),n.R7$(2),n.AVh("inverse","list"!==x.view),n.R7$(3),n.Y8G("ngIf",x.location),n.R7$(2),n.SpI(" ",n.i5U(12,10,x.start,"mediumDate")," "),n.R7$(3),n.Lme(" ",n.i5U(15,13,x.start,x.time_format)," \u2014 ",n.i5U(16,16,x.end,x.time_format)," "),n.R7$(5),n.uP7((null==(I=n.bMT(19,19,x.options))?null:I.capcaity)||2),n.nnv(18),n.R7$(),n.Y8G("ngForOf",null==(_=n.bMT(21,21,x.options))?null:_.features)}},dependencies:[d.Sq,d.bT,y.R,R.r6,d.Jj,d.vh],styles:["[filter-item][_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 1rem;height:2rem;font-size:.875rem;border:1px solid rgba(0,0,0,.2);border-radius:1.25rem;margin-right:.5rem;margin-bottom:.5rem}[filter-item][_ngcontent-%COMP%]:hover{background:#0000001a}[filter-item][_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:.5rem}"]})}return S})()},9145:(gt,re,o)=>{"use strict";o.d(re,{R:()=>W});var e=o(467),n=o(9707),l=o(2185),h=o(5006),g=o(9493),p=o(8379),f=o(3953),b=o(6665),d=o(177),y=o(9417),R=o(3719),m=o(2765),v=o(6600),O=o(9608),S=o(3476),P=o(1413),M=o(9434),w=o(2798);const x=()=>({standalone:!0});function I(ie,ce){if(1&ie){const oe=f.RV6();f.j41(0,"button",32),f.bIt("click",function(){f.eBV(oe);const he=f.XpG();return f.Njj(he.close())}),f.j41(1,"app-icon"),f.EFF(2,"keyboard_arrow_left"),f.k0s()()}}function _(ie,ce){if(1&ie&&(f.j41(0,"mat-option",37),f.EFF(1),f.k0s()),2&ie){const oe=ce.$implicit;f.Y8G("value",oe),f.R7$(),f.SpI(" ",oe.display_name||oe.name," ")}}function C(ie,ce){if(1&ie){const oe=f.RV6();f.j41(0,"mat-form-field",34)(1,"mat-select",35),f.nI1(2,"async"),f.nI1(3,"async"),f.nI1(4,"async"),f.bIt("ngModelChange",function(he){f.eBV(oe);const Oe=f.XpG(2);return f.Njj(Oe.setBuilding(he))}),f.DNE(5,_,2,2,"mat-option",36),f.nI1(6,"async"),f.k0s()()}if(2&ie){let oe;const me=f.XpG(2);f.R7$(),f.Y8G("ngModel",f.bMT(2,4,me.building))("ngModelOptions",f.lJ4(12,x))("placeholder",(null==(oe=f.bMT(3,6,me.building))?null:oe.display_name)||(null==(oe=f.bMT(4,8,me.building))?null:oe.name)),f.R7$(4),f.Y8G("ngForOf",f.bMT(6,10,me.buildings))}}function D(ie,ce){if(1&ie&&(f.j41(0,"mat-option",37),f.EFF(1),f.k0s()),2&ie){const oe=ce.$implicit;f.Y8G("value",oe.id),f.R7$(),f.SpI(" ",oe.display_name||oe.name," ")}}function A(ie,ce){if(1&ie){const oe=f.RV6();f.j41(0,"mat-form-field",34)(1,"mat-select",38),f.nI1(2,"async"),f.bIt("ngModelChange",function(he){f.eBV(oe);const Oe=f.XpG(2);return f.Njj(Oe.setOptions({zone_id:he}))}),f.DNE(3,D,2,2,"mat-option",36),f.nI1(4,"async"),f.k0s()()}if(2&ie){let oe;const me=f.XpG(2);f.R7$(),f.Y8G("ngModel",null==(oe=f.bMT(2,3,me.options))?null:oe.zone_id)("ngModelOptions",f.lJ4(7,x)),f.R7$(2),f.Y8G("ngForOf",f.bMT(4,5,me.levels))}}function B(ie,ce){if(1&ie&&(f.qex(0),f.DNE(1,C,7,13,"mat-form-field",33),f.nI1(2,"async"),f.DNE(3,A,5,8,"mat-form-field",33),f.bVm()),2&ie){let oe;const me=f.XpG();f.R7$(),f.Y8G("ngIf",(null==(oe=f.bMT(2,2,me.buildings))?null:oe.length)>1),f.R7$(2),f.Y8G("ngIf",!me.hide_levels)}}function F(ie,ce){if(1&ie&&(f.j41(0,"mat-option",37),f.EFF(1),f.k0s()),2&ie){const oe=ce.$implicit;f.Y8G("value",oe),f.R7$(),f.SpI(" ",oe.display_name||oe.name," ")}}function $(ie,ce){if(1&ie){const oe=f.RV6();f.j41(0,"mat-form-field",34)(1,"mat-select",39),f.bIt("ngModelChange",function(he){f.eBV(oe);const Oe=f.XpG(2);return f.Njj(Oe.setRegion(he))}),f.DNE(2,F,2,2,"mat-option",36),f.nI1(3,"async"),f.k0s()()}if(2&ie){const oe=f.XpG(2);f.R7$(),f.Y8G("ngModel",oe.region)("ngModelOptions",f.lJ4(5,x)),f.R7$(),f.Y8G("ngForOf",f.bMT(3,3,oe.regions))}}function U(ie,ce){if(1&ie&&(f.j41(0,"mat-option",37),f.EFF(1),f.k0s()),2&ie){const oe=ce.$implicit;f.Y8G("value",oe.id),f.R7$(),f.SpI(" ",oe.display_name||oe.name," ")}}function G(ie,ce){if(1&ie&&(f.j41(0,"mat-optgroup",42),f.DNE(1,U,2,2,"mat-option",36),f.k0s()),2&ie){const oe=ce.$implicit;f.Y8G("label",oe.name),f.R7$(),f.Y8G("ngForOf",oe.levels)}}function J(ie,ce){if(1&ie){const oe=f.RV6();f.j41(0,"mat-form-field",34)(1,"mat-select",40),f.nI1(2,"async"),f.bIt("ngModelChange",function(he){f.eBV(oe);const Oe=f.XpG(2);return f.Njj(Oe.setOptions({zone_id:he}))}),f.j41(3,"mat-option",37),f.EFF(4,"Any Level"),f.k0s(),f.DNE(5,G,2,2,"mat-optgroup",41),f.nI1(6,"async"),f.k0s()()}if(2&ie){let oe;const me=f.XpG(2);f.R7$(),f.Y8G("ngModel",null==(oe=f.bMT(2,3,me.options))?null:oe.zone_id)("ngModelOptions",f.lJ4(7,x)),f.R7$(4),f.Y8G("ngForOf",f.bMT(6,5,me.region_levels))}}function te(ie,ce){if(1&ie&&(f.qex(0),f.DNE(1,$,4,6,"mat-form-field",33),f.nI1(2,"async"),f.DNE(3,J,7,8,"mat-form-field",33),f.bVm()),2&ie){let oe;const me=f.XpG();f.R7$(),f.Y8G("ngIf",null==(oe=f.bMT(2,2,me.regions))?null:oe.length),f.R7$(2),f.Y8G("ngIf",!me.hide_levels)}}function ne(ie,ce){if(1&ie){const oe=f.RV6();f.j41(0,"div",43)(1,"div",44)(2,"label",45),f.PLo(3,7),f.nrm(4,"span"),f.YFu(),f.k0s(),f.j41(5,"a-time-field",46),f.bIt("ngModelChange",function(he){f.eBV(oe);const Oe=f.XpG();return f.Njj(Oe.form.patchValue({date:he}))}),f.k0s()(),f.j41(6,"div",44)(7,"label",47),f.PLo(8,8),f.nrm(9,"span"),f.YFu(),f.k0s(),f.nrm(10,"a-duration-field",48),f.k0s()()}if(2&ie){const oe=f.XpG();f.R7$(5),f.Y8G("ngModel",oe.form.value.date)("ngModelOptions",f.lJ4(6,x))("use_24hr",oe.use_24hr),f.R7$(5),f.Y8G("time",null==oe.form||null==oe.form.value?null:oe.form.value.date)("max",oe.max_duration)("use_24hr",oe.use_24hr)}}function K(ie,ce){if(1&ie){const oe=f.RV6();f.j41(0,"div",27)(1,"div",51),f.EFF(2),f.k0s(),f.j41(3,"mat-checkbox",52),f.nI1(4,"async"),f.bIt("ngModelChange",function(he){const Oe=f.eBV(oe).$implicit,we=f.XpG(2);return f.Njj(we.toggleFeature(Oe,he))}),f.k0s()()}if(2&ie){let oe;const me=ce.$implicit,he=f.XpG(2);f.R7$(2),f.JRh(me),f.R7$(),f.Y8G("ngModel",null==(oe=f.bMT(4,3,he.options))||null==oe.features?null:oe.features.includes(me))("ngModelOptions",f.lJ4(5,x))}}function k(ie,ce){if(1&ie&&(f.j41(0,"section",49)(1,"h2",18),f.pXf(2,9),f.k0s(),f.DNE(3,K,5,6,"div",50),f.nI1(4,"async"),f.k0s()),2&ie){const oe=f.XpG();f.R7$(3),f.Y8G("ngForOf",f.bMT(4,1,oe.features))}}function j(ie,ce){if(1&ie){const oe=f.RV6();f.j41(0,"div",53)(1,"button",54),f.bIt("click",function(){f.eBV(oe);const he=f.XpG();return f.Njj(he.close())}),f.pXf(2,10),f.k0s()()}}let W=(()=>{class ie{setBuilding(oe){this._org.building=oe}get bld(){return this._org.building}get form(){return this._form.form}get max_duration(){return this._settings.get("app.events.max_duration")||480}get use_24hr(){return this._settings.get("app.use_24_hour_time")}get use_region(){return!!this._settings.get("app.use_region")}constructor(oe,me,he,Oe){this._bsheet_ref=oe,this._settings=me,this._form=he,this._org=Oe,this.can_close=!1,this.options=this._form.options,this.levels=this._org.active_levels.pipe((0,h.T)(we=>{for(const We of we){const Xe=this._org.buildings.find(Me=>Me.id===We.parent_id);We.bld=Xe?.display_name||Xe?.name||""}return we.filter(We=>We.tags.includes("parking"))})),this.buildings=this._org.active_buildings,this.regions=this._org.region_list,this.region_levels=this._org.active_region.pipe((0,h.T)(we=>this._org.buildings.filter(Me=>!we||Me.parent_id===we.id).map(Me=>({id:Me.id,name:Me.display_name||Me.name,levels:this._org.levels.filter(ge=>ge.parent_id===Me.id&&ge.tags.includes("parking"))})).filter(Me=>Me.levels.length))),this.features=this._form.features,this.close=()=>this._bsheet_ref.dismiss(),this.setOptions=we=>this._form.setOptions(we),this.can_close=!!this._bsheet_ref}toggleFeature(oe,me){var he=this;return(0,e.A)(function*(){const{features:Oe}=yield he.options.pipe((0,g.s)(1)).toPromise(),we=(Oe||[]).filter(We=>oe!==We);me&&we.push(oe),he.setOptions({features:we})})()}static#e=this.\u0275fac=function(me){return new(me||ie)(f.rXU(b.eN,8),f.rXU(n.h$),f.rXU(p.n),f.rXU(l.yb))};static#t=this.\u0275cmp=f.VBU({type:ie,selectors:[["parking-space-filters"]],inputs:{hide_levels:"hide_levels"},decls:33,vars:14,consts:()=>{let oe,me,he,Oe,we,We,Xe,Me,ge,pe,Ee,Ge,Qe,$e;return oe=$localize`:␟36173168a4643aa78634e9242a63f3a40862f166␟7173310086383878456:Space Filters`,me=$localize`:␟4f8b2bb476981727ab34ed40fde1218361f92c45␟5028777105388019087:Details`,he=$localize`:␟ed31c09fd77c36238c13d83635f3fe5294c733d2␟471816275243265264:Location`,Oe=$localize`:␟04cfb5fd033651743bc4b9408bd52ba4ee894070␟3158758063619980932:Date${"\ufffd#18\ufffd"}:START_TAG_SPAN:*${"\ufffd/#18\ufffd"}:CLOSE_TAG_SPAN:`,we=$localize`:␟e06c2195d60fdee7b259bd3ff16eb3d594c42b2b␟608708688936992021: Date and time must be in the future `,We=$localize`:␟62ab0c2bf8d16ce7baf2c8b1da2c561d99522256␟4158925728608139729:Favourites`,Xe=$localize`:␟ac378c0b437746af89a84b4909ab5b83c5ff55a3␟165958440274527719: Only show favourite spaces `,Me=$localize`:␟50407595967bf29832e873b41f9de3502d5c3e03␟7323982518822503502:Any Level`,ge=$localize`:␟130845b58eba8e50c98f3fba117a0168cdba4f31␟8264413387051126615:Any Region`,pe=$localize`:␟50407595967bf29832e873b41f9de3502d5c3e03␟7323982518822503502:Any Level`,Ee=$localize`:␟34a7595cdc15925514038224946986bfd90dc0ed␟3039786638368843634:Start Time${"\ufffd#4\ufffd"}:START_TAG_SPAN:*${"\ufffd/#4\ufffd"}:CLOSE_TAG_SPAN:`,Ge=$localize`:␟85d5c3a89bab9a7475a7db095089e161586cb7a1␟5960185837188220843:End Time${"\ufffd#9\ufffd"}:START_TAG_SPAN:*${"\ufffd/#9\ufffd"}:CLOSE_TAG_SPAN:`,Qe=$localize`:␟bf10c600bd861cfd0a23f4759562ee0ae9dbe19f␟1551920764795208868:Facilities`,$e=$localize`:␟c17e2cc448524a39eb83b2937cea3235a2e8bf37␟2296888311792137027: Apply Filters `,[oe,me,he,Oe,we,We,Xe,Ee,Ge,Qe,$e,[1,"flex","items-center","border-b","border-base-200","pb-2","sm:hidden"],[1,"flex-1","pl-2"],["icon","","matRipple","","close","",3,"click",4,"ngIf"],[1,"font-medium","flex-2","text-center"],[1,"flex-1"],[1,"max-h-[65vh]","p-2","overflow-y-auto","overflow-x-hidden","divide-y","divide-base-200","w-full","max-w-[100vw]",3,"formGroup"],["details",""],[1,"text-lg","font-medium"],[1,"flex-1","min-w-[256px]","flex","flex-col"],["for","location"],[4,"ngIf"],[1,"flex-1","min-w-[256px]"],["for","date"],["name","date","formControlName","date"],["class","flex items-center space-x-2",4,"ngIf"],["favs","",1,"space-y-2","pb-4"],[1,"flex","items-center"],["for","fav",1,"flex-1","w-1/2"],["name","fav",3,"ngModelChange","ngModel","ngModelOptions"],["features","","class","space-y-2",4,"ngIf"],["class","px-2 pt-2 w-full border-t border-base-200",4,"ngIf"],["icon","","matRipple","","close","",3,"click"],["appearance","outline","class","w-full",4,"ngIf"],["appearance","outline",1,"w-full"],["name","building",3,"ngModelChange","ngModel","ngModelOptions","placeholder"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["name","location","placeholder",Me,3,"ngModelChange","ngModel","ngModelOptions"],["name","region","placeholder",ge,3,"ngModelChange","ngModel","ngModelOptions"],["name","location","placeholder",pe,3,"ngModelChange","ngModel","ngModelOptions"],[3,"label",4,"ngFor","ngForOf"],[3,"label"],[1,"flex","items-center","space-x-2"],[1,"flex-1","w-1/3"],["for","start-time"],["name","start-time",3,"ngModelChange","ngModel","ngModelOptions","use_24hr"],["for","end-time"],["name","end-time","formControlName","duration",3,"time","max","use_24hr"],["features","",1,"space-y-2"],["class","flex items-center",4,"ngFor","ngForOf"],["for","feat",1,"flex-1","w-1/2"],["name","feat",3,"ngModelChange","ngModel","ngModelOptions"],[1,"px-2","pt-2","w-full","border-t","border-base-200"],["btn","","matRipple","","close","",1,"w-full",3,"click"]]},template:function(me,he){if(1&me&&(f.j41(0,"div",11)(1,"div",12),f.DNE(2,I,3,0,"button",13),f.k0s(),f.j41(3,"h3",14),f.pXf(4,0),f.k0s(),f.nrm(5,"div",15),f.k0s(),f.j41(6,"form",16)(7,"section",17)(8,"h2",18),f.pXf(9,1),f.k0s(),f.j41(10,"div",19)(11,"label",20),f.pXf(12,2),f.k0s(),f.DNE(13,B,4,4,"ng-container",21)(14,te,4,4,"ng-container",21),f.k0s(),f.j41(15,"div",22)(16,"label",23),f.PLo(17,3),f.nrm(18,"span"),f.YFu(),f.k0s(),f.j41(19,"a-date-field",24),f.pXf(20,4),f.k0s()(),f.DNE(21,ne,11,7,"div",25),f.k0s(),f.j41(22,"section",26)(23,"h2",18),f.pXf(24,5),f.k0s(),f.j41(25,"div",27)(26,"div",28),f.pXf(27,6),f.k0s(),f.j41(28,"mat-checkbox",29),f.nI1(29,"async"),f.bIt("ngModelChange",function(we){return he.setOptions({show_fav:we})}),f.k0s()()(),f.DNE(30,k,5,3,"section",30),f.nI1(31,"async"),f.k0s(),f.DNE(32,j,3,0,"div",31)),2&me){let Oe,we;f.R7$(2),f.Y8G("ngIf",he.can_close),f.R7$(4),f.Y8G("formGroup",he.form),f.R7$(7),f.Y8G("ngIf",!he.use_region),f.R7$(),f.Y8G("ngIf",he.use_region),f.R7$(7),f.Y8G("ngIf",!1),f.R7$(7),f.Y8G("ngModel",null==(Oe=f.bMT(29,9,he.options))?null:Oe.show_fav)("ngModelOptions",f.lJ4(13,x)),f.R7$(2),f.Y8G("ngIf",null==(we=f.bMT(31,11,he.features))?null:we.length),f.R7$(2),f.Y8G("ngIf",he.can_close)}},dependencies:[d.Sq,d.bT,y.qT,y.BC,y.cb,y.vS,y.j4,y.JD,R.rl,m.So,v.wT,v.D7,O.G,S.y,P.t,M.R,w.VO,v.r6,d.Jj],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:100%;max-width:100vw}"]})}return ie})()},258:(gt,re,o)=>{"use strict";o.d(re,{w:()=>w});var e=o(3953),n=o(9714),l=o(5006),h=o(8379),g=o(177),p=o(9183),f=o(9434),b=o(3208),d=o(6600);function y(x,I){1&x&&(e.j41(0,"div",24)(1,"app-icon"),e.EFF(2,"done"),e.k0s()())}function R(x,I){if(1&x&&e.nrm(0,"img",25),2&x){const _=e.XpG().$implicit;e.Y8G("source",_.images[0])}}function m(x,I){1&x&&e.nrm(0,"img",26)}function v(x,I){if(1&x){const _=e.RV6();e.j41(0,"li",14)(1,"button",15),e.bIt("click",function(){const D=e.eBV(_).$implicit,A=e.XpG(3);return e.Njj(A.selectSpace(D))}),e.j41(2,"div",16),e.DNE(3,y,3,0,"div",17)(4,R,1,1,"img",18)(5,m,1,0,"ng-template",null,2,e.C5r),e.k0s(),e.j41(7,"div",19)(8,"div",20),e.EFF(9),e.k0s(),e.j41(10,"div",21)(11,"app-icon",22),e.EFF(12,"place"),e.k0s(),e.j41(13,"p"),e.EFF(14),e.k0s()(),e.j41(15,"div",21)(16,"app-icon",22),e.EFF(17,"people"),e.k0s(),e.j41(18,"p"),e.pXf(19,5),e.k0s()()()(),e.j41(20,"button",23),e.bIt("click",function(){const D=e.eBV(_).$implicit,A=e.XpG(3);return e.Njj(A.toggleFav.emit(D))}),e.j41(21,"app-icon"),e.EFF(22),e.k0s()()()}if(2&x){const _=I.$implicit,C=e.sdS(6),D=e.XpG(3);e.AVh("!border-info",D.active===_.id),e.R7$(3),e.Y8G("ngIf",D.selected.includes(_.id)),e.R7$(),e.Y8G("ngIf",null==_.images?null:_.images.length)("ngIfElse",C),e.R7$(5),e.SpI(" ",_.name||"Meeting Space"," "),e.R7$(5),e.SpI(" ",_.location||(null==_.level?null:_.level.display_name)||(null==_.level?null:_.level.name)||(null==_.zone?null:_.zone.display_name)||(null==_.zone?null:_.zone.name)," "),e.R7$(5),e.uP7(_.capacity<1?2:_.capacity),e.nnv(19),e.R7$(),e.AVh("text-info",D.isFavourite(_.id)),e.R7$(2),e.JRh(D.isFavourite(_.id)?"favorite":"favorite_border")}}function O(x,I){if(1&x&&(e.j41(0,"ul",12),e.DNE(1,v,23,11,"li",13),e.nI1(2,"async"),e.k0s()),2&x){const _=e.XpG(2);e.R7$(),e.Y8G("ngForOf",e.bMT(2,1,_.assets))}}function S(x,I){if(1&x&&(e.qex(0),e.DNE(1,O,3,3,"ul",11),e.nI1(2,"async"),e.bVm()),2&x){let _;const C=e.XpG(),D=e.sdS(8);e.R7$(),e.Y8G("ngIf",null==(_=e.bMT(2,2,C.assets))?null:_.length)("ngIfElse",D)}}function P(x,I){1&x&&(e.j41(0,"div",27)(1,"p",28),e.pXf(2,6),e.k0s()())}function M(x,I){1&x&&(e.j41(0,"div",29),e.nrm(1,"mat-spinner",30),e.j41(2,"p",31),e.pXf(3,7),e.k0s()()),2&x&&(e.R7$(),e.Y8G("diameter",32))}let w=(()=>{class x{constructor(_){this._form=_,this.active="",this.selected="",this.favorites=[],this.onSelect=new e.bkB,this.toggleFav=new e.bkB,this.assets=(0,n.zV)([this._form.options,this._form.available_resources]).pipe((0,l.T)(([{show_fav:C},D])=>D.filter(A=>!C||this.isFavourite(A.id)))),this.loading=this._form.loading}isFavourite(_){return this.favorites.includes(_)}selectSpace(_){this.onSelect.emit(_)}static#e=this.\u0275fac=function(C){return new(C||x)(e.rXU(h.n))};static#t=this.\u0275cmp=e.VBU({type:x,selectors:[["parking-space-list"]],inputs:{active:"active",selected:"selected",favorites:"favorites"},outputs:{onSelect:"onSelect",toggleFav:"toggleFav"},decls:11,vars:7,consts:()=>{let _,C,D,A,B;return _=$localize`:␟80ed5b776a26a78099e230e0e89d96c33ba44e24␟5968132631442328843:Results`,C=$localize`:␟dd662afda8b27e3c6818b705321ddcc36bd571c0␟4264834071624535187: ${"\ufffd0\ufffd"}:INTERPOLATION: result(s) found `,D=$localize`:␟08719ea79f574b595da7d187fda2fa8c491b5de7␟4552898751936658514: ${"\ufffd0\ufffd"}:INTERPOLATION: People `,A=$localize`:␟027c29534f5dc45741b226edfebb3f7f578384b0␟3831747985282777621: No available spaces for selected time and/or filters `,B=$localize`:␟8dad32dda6491a1051df9156e98031c0e634b413␟126579492602011343:Finding available spaces...`,[["empty_state",""],["load_state",""],["placeholder",""],_,C,D,A,B,[1,"font-bold"],["count","",1,"text-sm","opacity-60","mb-4"],[4,"ngIf","ngIfElse"],["class","list-style-none space-y-2",4,"ngIf","ngIfElse"],[1,"list-style-none","space-y-2"],["space","","class","relative p-2 rounded-lg w-full shadow border bg-base-100 border-base-200",3,"!border-info",4,"ngFor","ngForOf"],["space","",1,"relative","p-2","rounded-lg","w-full","shadow","border","bg-base-100","border-base-200"],["matRipple","","select","",1,"w-full","h-full","flex","items-center",3,"click"],[1,"relative","w-20","h-20","rounded-xl","bg-base-200","mr-4","overflow-hidden","flex","items-center","justify-center"],["class","absolute top-1 left-1 border border-neutral bg-base-200 rounded-full h-6 w-6 flex items-center justify-center text-white",4,"ngIf"],["auth","","class","object-cover h-full",3,"source",4,"ngIf","ngIfElse"],[1,"space-y-2"],[1,"font-medium","truncate","mr-10"],[1,"flex","items-center","text-sm","space-x-2"],[1,"text-info"],["icon","","matRipple","","fav","",1,"absolute","top-1","right-1",3,"click"],[1,"absolute","top-1","left-1","border","border-neutral","bg-base-200","rounded-full","h-6","w-6","flex","items-center","justify-center","text-white"],["auth","",1,"object-cover","h-full",3,"source"],["src","assets/icons/car-placeholder.svg",1,"m-auto"],["empty","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[1,"opacity-30","text-center"],["loading","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[3,"diameter"],[1,"opacity-30"]]},template:function(C,D){if(1&C&&(e.j41(0,"h3",8),e.pXf(1,3),e.k0s(),e.j41(2,"p",9),e.pXf(3,4),e.nI1(4,"async"),e.k0s(),e.DNE(5,S,3,4,"ng-container",10),e.nI1(6,"async"),e.DNE(7,P,3,0,"ng-template",null,0,e.C5r)(9,M,4,1,"ng-template",null,1,e.C5r)),2&C){let A;const B=e.sdS(10);e.R7$(4),e.uP7((null==(A=e.bMT(4,3,D.assets))?null:A.length)||0),e.nnv(3),e.R7$(),e.Y8G("ngIf",!e.bMT(6,5,D.loading))("ngIfElse",B)}},dependencies:[g.Sq,g.bT,p.LG,f.R,b.U,d.r6,g.Jj],styles:["[_nghost-%COMP%]{width:100%;height:100%;padding:.5rem;overflow:auto}"]})}return x})()},8559:(gt,re,o)=>{"use strict";o.d(re,{G:()=>f});var e=o(4351),n=o(3953),l=o(177),h=o(9434);function g(b,d){1&b&&n.nrm(0,"div",16)}function p(b,d){1&b&&(n.j41(0,"app-icon",17),n.EFF(1," done "),n.k0s())}let f=(()=>{class b{get selected(){return!0===this._data.selected}constructor(y){this._data=y}static#e=this.\u0275fac=function(R){return new(R||b)(n.rXU(e.Nw))};static#t=this.\u0275cmp=n.VBU({type:b,selectors:[["parking-space-location-pin"]],decls:17,vars:2,consts:[[1,"absolute","bottom-0","left-1/2","-translate-x-1/2"],["width","66","height","80","viewBox","0 0 66 80","fill","none","xmlns","http://www.w3.org/2000/svg"],["filter","url(#filter0_d_1065_10313)"],["d","M19.724 53.0408C25.0871 60.3435 30.5582 65.8583 31.0184 66.3178C31.4558 66.755 32.0489 67.0007 32.6674 67.0008H32.6678C33.2863 67.0007 33.8795 66.755 34.3169 66.3178C34.7771 65.8583 40.2481 60.3435 45.6112 53.0408C48.2928 49.3894 50.963 45.2701 52.9663 41.0957C54.9629 36.935 56.3331 32.6459 56.3342 28.6724C56.364 25.5564 55.7725 22.4657 54.5941 19.5809C53.415 16.6946 51.6722 14.0724 49.4675 11.8677C47.2629 9.66308 44.6407 7.92024 41.7544 6.74121C38.8711 5.5634 35.782 4.97184 32.6676 5.00103C29.5533 4.97184 26.4642 5.5634 23.5809 6.74121C20.6946 7.92024 18.0724 9.66308 15.8677 11.8677C13.6631 14.0724 11.9202 16.6946 10.7412 19.5809C9.56278 22.4657 8.97122 25.5565 9.00108 28.6726C9.0022 32.646 10.3724 36.9351 12.369 41.0957C14.3723 45.2701 17.0425 49.3894 19.724 53.0408Z","fill","#309251","stroke","#0B421D","stroke-width","2"],["id","filter0_d_1065_10313","x","0","y","0","width","65.3353","height","80.001","filterUnits","userSpaceOnUse","color-interpolation-filters","sRGB"],["flood-opacity","0","result","BackgroundImageFix"],["in","SourceAlpha","type","matrix","values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0","result","hardAlpha"],["dy","4"],["stdDeviation","4"],["in2","hardAlpha","operator","out"],["type","matrix","values","0 0 0 0 0.0196078 0 0 0 0 0.109804 0 0 0 0 0.172549 0 0 0 0.2 0"],["mode","normal","in2","BackgroundImageFix","result","effect1_dropShadow_1065_10313"],["mode","normal","in","SourceGraphic","in2","effect1_dropShadow_1065_10313","result","shape"],[1,"absolute","top-0","left-0","w-full","h-3/4","flex","items-center","justify-center"],["class","relative z-10 h-4 w-4 rounded-full bg-base-100 border-2 border-[#0B421D]",4,"ngIf"],["class","relative text-white z-10 text-2xl",4,"ngIf"],[1,"relative","z-10","h-4","w-4","rounded-full","bg-base-100","border-2","border-[#0B421D]"],[1,"relative","text-white","z-10","text-2xl"]],template:function(R,m){1&R&&(n.j41(0,"div",0),n.qSk(),n.j41(1,"svg",1)(2,"g",2),n.nrm(3,"path",3),n.k0s(),n.j41(4,"defs")(5,"filter",4),n.nrm(6,"feFlood",5)(7,"feColorMatrix",6)(8,"feOffset",7)(9,"feGaussianBlur",8)(10,"feComposite",9)(11,"feColorMatrix",10)(12,"feBlend",11)(13,"feBlend",12),n.k0s()()(),n.joV(),n.j41(14,"div",13),n.DNE(15,g,1,0,"div",14)(16,p,2,0,"app-icon",15),n.k0s()()),2&R&&(n.R7$(15),n.Y8G("ngIf",!m.selected),n.R7$(),n.Y8G("ngIf",m.selected))},dependencies:[l.bT,h.R],encapsulation:2})}return b})()},8952:(gt,re,o)=>{"use strict";o.d(re,{S:()=>M});var e=o(3953),n=o(9707),l=o(8113),h=o(5006),g=o(3020),p=o(8559),f=o(9420),b=o(177),d=o(9417),y=o(3719),R=o(6600),m=o(4918),v=o(2798);const O=()=>({controls:!0});function S(w,x){if(1&w){const I=e.RV6();e.qex(0),e.j41(1,"interactive-map",5),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"async"),e.mxI("zoomChange",function(C){e.eBV(I);const D=e.XpG();return e.DH7(D.zoom,C)||(D.zoom=C),e.Njj(C)})("centerChange",function(C){e.eBV(I);const D=e.XpG();return e.DH7(D.center,C)||(D.center=C),e.Njj(C)}),e.k0s(),e.bVm()}if(2&w){const I=e.XpG();e.R7$(),e.Y8G("src",I.map_url),e.R50("zoom",I.zoom)("center",I.center),e.Y8G("styles",e.bMT(2,7,I.styles))("features",e.bMT(3,9,I.features))("actions",e.bMT(4,11,I.actions))("options",e.lJ4(13,O))}}function P(w,x){if(1&w&&(e.j41(0,"mat-option",6),e.EFF(1),e.k0s()),2&w){const I=x.$implicit;e.Y8G("value",I),e.R7$(),e.SpI(" ",I.display_name||I.name," ")}}let M=(()=>{class w extends n.Tv{get map_url(){return this.level?.map_id||""}constructor(I,_){super(),this._event_form=I,this._maps_people=_,this.selected=[],this.is_displayed=!1,this.onSelect=new e.bkB,this.zoom=1,this.center={x:.5,y:.5},this._seletedSpace=C=>()=>this.onSelect.emit(C),this.level=null,this.levels=this._event_form.available_spaces.pipe((0,h.T)(C=>(0,n.Am)(C.map(({level:D})=>D)))),this.features=this._event_form.available_spaces.pipe((0,g.B)(1e3),(0,h.T)(C=>C.map(D=>({location:D.map_id,content:p.G,data:{...D,selected:this.selected.includes(D.id)}})))),this.actions=this._event_form.available_spaces.pipe((0,h.T)(C=>C.map(D=>({id:D.map_id,action:["touchend","mouseup"],callback:this._seletedSpace(D)}))))}ngOnInit(){this.subscription("spaces",this._event_form.available_spaces.subscribe(I=>{!this.level&&I.length&&(this.level=I[0].level)}))}setLevel(I){this.level=I,this._maps_people.setCustomZone(I.parent_id)}setZoom(I){this.zoom=Math.max(.5,Math.min(10,I))}resetMap(){this.zoom=1,this.center={x:.5,y:.5}}static#e=this.\u0275fac=function(_){return new(_||w)(e.rXU(l.Ws),e.rXU(f._))};static#t=this.\u0275cmp=e.VBU({type:w,selectors:[["parking-space-map"]],inputs:{selected:"selected",is_displayed:"is_displayed"},outputs:{onSelect:"onSelect"},features:[e.Vt3],decls:6,vars:5,consts:[[4,"ngIf"],[1,"absolute","inset-x-0","top-0","bg-base-100","p-2","border-b","border-base-200"],["levels","","appearance","outline",1,"w-full","h-[3.25rem]"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"zoomChange","centerChange","src","zoom","center","styles","features","actions","options"],[3,"value"]],template:function(_,C){1&_&&(e.DNE(0,S,5,14,"ng-container",0),e.j41(1,"div",1)(2,"mat-form-field",2)(3,"mat-select",3),e.mxI("ngModelChange",function(A){return e.DH7(C.level,A)||(C.level=A),A}),e.bIt("ngModelChange",function(A){return C.setLevel(A)}),e.DNE(4,P,2,2,"mat-option",4),e.nI1(5,"async"),e.k0s()()()),2&_&&(e.Y8G("ngIf",C.is_displayed),e.R7$(3),e.R50("ngModel",C.level),e.R7$(),e.Y8G("ngForOf",e.bMT(5,3,C.levels)))},dependencies:[b.Sq,b.bT,d.BC,d.vS,y.rl,R.wT,m.S,v.VO,b.Jj],styles:["[_nghost-%COMP%]{position:relative;background:#0000000d;padding-top:4rem}button[_ngcontent-%COMP%]{border-radius:0}"]})}return w})()},7642:(gt,re,o)=>{"use strict";o.d(re,{$:()=>M,Z:()=>P});var e=o(4006),n=o(9707),l=o(8379),h=o(3953),g=o(177),p=o(9434),f=o(6600),b=o(9145),d=o(9138),y=o(258),R=o(8952),m=o(6724);function v(w,x){if(1&w){const I=h.RV6();h.j41(0,"parking-space-list",26),h.bIt("toggleFav",function(C){h.eBV(I);const D=h.XpG();return h.Njj(D.toggleFavourite(C))})("onSelect",function(C){h.eBV(I);const D=h.XpG();return h.Njj(D.displayed=C)}),h.k0s()}if(2&w){const I=h.XpG();h.Y8G("active",null==I.displayed?null:I.displayed.id)("selected",I.selected_ids)("favorites",I.favorites)}}function O(w,x){if(1&w){const I=h.RV6();h.j41(0,"button",27),h.bIt("click",function(){h.eBV(I);const C=h.XpG();return h.Njj(C.displayed=null)}),h.pXf(1,5),h.k0s()}}function S(w,x){if(1&w){const I=h.RV6();h.j41(0,"parking-space-map",28),h.bIt("onSelect",function(C){h.eBV(I);const D=h.XpG();return h.Njj(D.displayed=C)}),h.k0s()}if(2&w){const I=h.XpG();h.Y8G("selected",I.selected_ids)("is_displayed",!!I.displayed)}}const P="favourite_parking_spaces";let M=(()=>{class w{get selected_ids(){return this.selected.map(I=>I.id).join(",")}get favorites(){return this._settings.get(P)||[]}constructor(I,_,C,D){this._dialog_ref=I,this._settings=_,this._event_form=C,this._data=D,this.selected=[],this.view="list",this.selected=[...D.spaces||[]],this._event_form.setOptions(D.options)}isSelected(I){return I&&this.selected_ids.includes(I)}setSelected(I,_){const C=this.selected.filter(D=>D.id!==I.id);_&&C.push(I),this.selected=C,!this._data.options.group&&_&&this._dialog_ref.close([I])}toggleFavourite(I){const _=this.favorites;_.includes(I.id)?this._settings.saveUserSetting(P,_.filter(D=>D!==I.id)):this._settings.saveUserSetting(P,[..._,I.id])}static#e=this.\u0275fac=function(_){return new(_||w)(h.rXU(e.CP),h.rXU(n.h$),h.rXU(l.n),h.rXU(e.Vh))};static#t=this.\u0275cmp=h.VBU({type:w,selectors:[["parking-space-select-modal"]],decls:34,vars:22,consts:()=>{let I,_,C,D,A;return I=$localize`:␟8db1ccf77dfb75785bcf8e9090ad65ea6ab69884␟6275162452894389177:Find Parking Space`,_=$localize`:␟30d3439b0e0095fe69503245f3bd7a2e9498be7c␟8443571736703532556: View List `,C=$localize`:␟18843b85d1a4f17fefafd07bc5cde636dca44295␟819716823718458903:Back to form`,D=$localize`:␟f5e618f8255889ca7743db771c50b6181b8eb362␟7685760017883569970: ${"\ufffd0\ufffd"}:INTERPOLATION: bay(s) added `,A=$localize`:␟ccda1d41ca79703a85a3a598c1d97e040a32b766␟874721418273731876: Back `,[["map_view",""],I,_,C,D,A,[1,"w-[100vw]","h-[100vh]","sm:relative","sm:w-auto","sm:h-auto","flex","flex-col","bg-base-100"],[1,"flex","items-center","space-x-4","w-full"],["icon","","matRipple","","mat-dialog-close","",1,"bg-base-200"],[1,"flex-1","flex","items-center","divide-x","divide-base-200","min-h-[65vh]","h-[65vh]","sm:max-h-[65vh]","sm:max-w-[95vw]","w-full","overflow-hidden"],[1,"h-full","hidden","sm:flex","max-w-[20rem]","sm:h-[65vh]","sm:max-h-full",3,"hide_levels"],[1,"flex","flex-col","items-center","flex-1","w-1/2","h-full","sm:h-[65vh]"],[1,"w-full","border-b","border-base-200",3,"viewChange","view"],["class","flex-1 h-1/2 bg-base-200",3,"active","selected","favorites","toggleFav","onSelect",4,"ngIf","ngIfElse"],[1,"h-full","w-full","sm:h-[65vh]","absolute","sm:relative","sm:flex","sm:max-w-[20rem]","z-20","bg-base-100","block",3,"activeChange","toggleFav","close","space","active","fav"],[1,"flex","sm:hidden","flex-col-reverse","items-center","justify-end","p-2","border-t","border-base-200","w-full"],["btn","","matRipple","","return","","class","inverse sm:hidden w-full",3,"click",4,"ngIf"],["btn","","matRipple","","save","",1,"w-full","sm:w-32","sm:mb-0",3,"mat-dialog-close"],[1,"hidden","sm:flex","items-center","justify-between","p-2","border-t","border-base-200","w-full"],["btn","","matRipple","",1,"clear","text-secondary",3,"mat-dialog-close"],[1,"flex","items-center"],[1,"text-xl"],[1,"mr-1","underline"],[1,"opacity-60","text-sm"],["btn","","matRipple","",3,"click","disabled"],[1,"mr-1"],[1,"flex-1","h-1/2","bg-base-200",3,"toggleFav","onSelect","active","selected","favorites"],["btn","","matRipple","","return","",1,"inverse","sm:hidden","w-full",3,"click"],[1,"flex-1","h-1/2","w-full",3,"onSelect","selected","is_displayed"]]},template:function(_,C){if(1&_){const D=h.RV6();h.j41(0,"div",6)(1,"header",7)(2,"button",8)(3,"app-icon"),h.EFF(4,"close"),h.k0s()(),h.j41(5,"h3"),h.pXf(6,1),h.k0s()(),h.j41(7,"main",9),h.nrm(8,"parking-space-filters",10),h.j41(9,"div",11)(10,"parking-space-filters-display",12),h.mxI("viewChange",function(B){return h.eBV(D),h.DH7(C.view,B)||(C.view=B),h.Njj(B)}),h.k0s(),h.DNE(11,v,1,3,"parking-space-list",13),h.k0s(),h.j41(12,"parking-space-details",14),h.bIt("activeChange",function(B){return h.eBV(D),h.Njj(C.setSelected(C.displayed,B))})("toggleFav",function(){return h.eBV(D),h.Njj(C.toggleFavourite(C.displayed))})("close",function(){return h.eBV(D),h.Njj(C.displayed=null)}),h.k0s()(),h.j41(13,"footer",15),h.DNE(14,O,2,0,"button",16),h.j41(15,"button",17),h.pXf(16,2),h.k0s()(),h.j41(17,"footer",18)(18,"button",19)(19,"div",20)(20,"app-icon",21),h.EFF(21,"arrow_back"),h.k0s(),h.j41(22,"div",22),h.pXf(23,3),h.k0s()()(),h.j41(24,"p",23),h.pXf(25,4),h.k0s(),h.j41(26,"button",24),h.bIt("click",function(){return h.eBV(D),h.Njj(C.setSelected(C.displayed,!C.isSelected(null==C.displayed?null:C.displayed.id)))}),h.j41(27,"div",20)(28,"app-icon",21),h.EFF(29),h.k0s(),h.j41(30,"div",25),h.EFF(31),h.k0s()()()()(),h.DNE(32,S,1,2,"ng-template",null,0,h.C5r)}if(2&_){const D=h.sdS(33);h.R7$(8),h.Y8G("hide_levels","list"!==C.view),h.R7$(2),h.R50("view",C.view),h.R7$(),h.Y8G("ngIf","list"===C.view)("ngIfElse",D),h.R7$(),h.AVh("hidden",!C.displayed)("inset-0",C.displayed),h.Y8G("space",C.displayed)("active",C.selected_ids.includes(null==C.displayed?null:C.displayed.id))("fav",C.displayed&&C.favorites.includes(null==C.displayed?null:C.displayed.id)),h.R7$(2),h.Y8G("ngIf",C.displayed),h.R7$(),h.AVh("mb-2",C.displayed),h.Y8G("mat-dialog-close",C.selected),h.R7$(3),h.Y8G("mat-dialog-close",C.selected),h.R7$(7),h.uP7(C.selected.length),h.nnv(25),h.R7$(),h.AVh("inverse",C.isSelected(null==C.displayed?null:C.displayed.id)),h.Y8G("disabled",!C.displayed),h.R7$(3),h.JRh(C.isSelected(null==C.displayed?null:C.displayed.id)?"remove":"add"),h.R7$(2),h.SpI(" ",C.isSelected(null==C.displayed?null:C.displayed.id)?"Remove from Booking":"Add to booking"," ")}},dependencies:[g.bT,e.tx,p.R,f.r6,b.R,d.X,y.w,R.S,m.o]})}return w})()},4844:(gt,re,o)=>{"use strict";o.d(re,{I:()=>O});var e=o(3953),n=o(9417),l=o(4233),h=o(7642),g=o(4006),p=o(177),f=o(9434),b=o(3208),d=o(6600);function y(S,P){if(1&S&&e.nrm(0,"img",24),2&S){const M=e.XpG().$implicit;e.Y8G("source",M.images[0])}}function R(S,P){1&S&&e.nrm(0,"img",25)}function m(S,P){if(1&S){const M=e.RV6();e.j41(0,"div",12)(1,"div",13),e.DNE(2,y,1,1,"img",14)(3,R,1,0,"ng-template",null,0,e.C5r),e.k0s(),e.j41(5,"div",15)(6,"div",16),e.EFF(7),e.k0s(),e.j41(8,"div",17)(9,"app-icon",18),e.EFF(10,"place"),e.k0s(),e.j41(11,"p"),e.EFF(12),e.k0s()(),e.j41(13,"div",17)(14,"app-icon",18),e.EFF(15,"people"),e.k0s(),e.j41(16,"p"),e.pXf(17,2),e.k0s()(),e.j41(18,"div",19)(19,"button",20),e.bIt("click",function(){const x=e.eBV(M).$implicit,I=e.XpG();return e.Njj(I.changeResources(x))}),e.j41(20,"div",21),e.PLo(21,3),e.nrm(22,"app-icon",9)(23,"div"),e.YFu(),e.k0s()(),e.j41(24,"button",22),e.bIt("click",function(){const x=e.eBV(M).$implicit,I=e.XpG();return e.Njj(I.removeResource(x))}),e.j41(25,"div",21),e.PLo(26,4),e.nrm(27,"app-icon",9)(28,"div"),e.YFu(),e.k0s()()()(),e.j41(29,"button",23),e.bIt("click",function(){e.eBV(M);const x=e.XpG();return e.Njj(x.toggleFavourite(x.asset))}),e.j41(30,"app-icon"),e.EFF(31),e.k0s()()()}if(2&S){const M=P.$implicit,w=e.sdS(4),x=e.XpG();e.R7$(2),e.Y8G("ngIf",null==M.images?null:M.images.length)("ngIfElse",w),e.R7$(5),e.SpI(" ",M.name||"Meeting Resource"," "),e.R7$(5),e.SpI(" ",M.location||(null==M.level?null:M.level.display_name)||(null==M.level?null:M.level.name)||(null==M.zone?null:M.zone.display_name)||(null==M.zone?null:M.zone.name)," "),e.R7$(5),e.uP7(M.capacity<1?2:M.capacity||1)(M.capacity<1?2:M.capacity||1),e.nnv(17),e.R7$(12),e.AVh("text-blue-400",x.favorites.includes(null==x.asset?null:x.asset.id)),e.R7$(2),e.JRh(x.favorites.includes(null==x.asset?null:x.asset.id)?"favorite":"favorite_border")}}const v=[];let O=(()=>{class S{get favorites(){return this._settings.get("favourite_spaces")||v}constructor(M,w){this._settings=M,this._dialog=w,this.disable_date=!1,this.room_size=3,this.spaces=[],this.disabled=!1,this.registerOnChange=x=>this._onChange=x,this.registerOnTouched=x=>this._onTouch=x,this.setDisabledState=x=>this.disabled=x}changeResources(){this._dialog.open(h.$,{data:{spaces:this.spaces,options:{capacity:this.room_size,disable_date:this.disable_date}}}).afterClosed().subscribe(w=>{w&&this.setValue(w)})}removeResource(M){this.setValue(this.spaces.filter(w=>w.id!==M.id))}setValue(M){this.spaces=M,this._onChange&&this._onChange(this.spaces)}writeValue(M){this.spaces=M||[]}toggleFavourite(M){const w=this.favorites;w.includes(M.id)?this._settings.saveUserSetting(h.Z,w.filter(I=>I!==M.id)):this._settings.saveUserSetting(h.Z,[...w,M.id])}static#e=this.\u0275fac=function(w){return new(w||S)(e.rXU(l.h),e.rXU(g.bZ))};static#t=this.\u0275cmp=e.VBU({type:S,selectors:[["parking-space-list-field"]],inputs:{disable_date:"disable_date"},features:[e.Jv_([{provide:n.kq,useExisting:(0,e.Rfq)(()=>S),multi:!0}])],decls:10,vars:1,consts:()=>{let M,w,x,I,_;return M=$localize`:␟45491a2ead2b592aec7b4d19300c0715230f334d␟1439078713747050312:Add Parking Resource`,w=$localize`:␟de78e9a461c1eabe0e350a345933557c629d0ed1␟3604407389403754414:{VAR_PLURAL, plural, =1 {Person } other {People }}`,w=e.k04(w,{VAR_PLURAL:"\ufffd1\ufffd"}),x=$localize`:␟45802327683c8bd728df5113a59afcd09367e8e9␟259696738555613759: ${"\ufffd0\ufffd"}:INTERPOLATION: ${w}:ICU: `,I=$localize`:␟c5519f0af04771a54fd52f587819c2f86c19691a␟3410599700979759406:${"\ufffd#22\ufffd"}:START_TAG_APP_ICON:edit${"\ufffd/#22\ufffd"}:CLOSE_TAG_APP_ICON:${"\ufffd#23\ufffd"}:START_TAG_DIV:Change${"\ufffd/#23\ufffd"}:CLOSE_TAG_DIV:`,_=$localize`:␟00e1d7e28d4673ed2d4813ab8c6beb9d7e687e8f␟913695604792961336:${"\ufffd#27\ufffd"}:START_TAG_APP_ICON:close${"\ufffd/#27\ufffd"}:CLOSE_TAG_APP_ICON:${"\ufffd#28\ufffd"}:START_TAG_DIV:Remove${"\ufffd/#28\ufffd"}:CLOSE_TAG_DIV:`,[["placeholder",""],M,x,I,_,["list","",1,"space-y-2"],["space","","class","relative p-2 rounded-lg w-full flex items-center shadow border border-base-200",4,"ngFor","ngForOf"],["btn","","matRipple","","add-space","",1,"w-full","inverse","mt-2",3,"click"],[1,"flex","items-center","justify-center","space-x-2"],[1,"text-2xl"],[1,"flex","items-center","flex-wrap","sm:space-x-2","mb-2"],[1,"flex-1","min-w-[256px]","space-y-2"],["space","",1,"relative","p-2","rounded-lg","w-full","flex","items-center","shadow","border","border-base-200"],[1,"w-24","h-24","rounded-xl","bg-base-200","mr-4","overflow-hidden","flex","items-center","justify-center"],["auth","","class","object-cover h-full",3,"source",4,"ngIf","ngIfElse"],[1,"space-y-2","pb-4"],[1,"font-medium"],[1,"flex","items-center","text-sm","space-x-2"],[1,"text-blue-500"],[1,"absolute","bottom-0","right-0","flex","items-center","justify-end","text-xs"],["btn","","matRipple","","edit-space","",1,"clear",3,"click"],[1,"flex","items-center","space-x-2"],["btn","","matRipple","","remove-space","",1,"clear",3,"click"],["icon","","matRipple","","fav","",1,"absolute","top-1","right-1",3,"click"],["auth","",1,"object-cover","h-full",3,"source"],["src","assets/icons/car-placeholder.svg",1,"m-auto"]]},template:function(w,x){1&w&&(e.j41(0,"div",5),e.DNE(1,m,32,9,"div",6),e.k0s(),e.j41(2,"button",7),e.bIt("click",function(){return x.changeResources()}),e.j41(3,"div",8)(4,"app-icon",9),e.EFF(5,"search"),e.k0s(),e.j41(6,"span"),e.pXf(7,1),e.k0s()()(),e.j41(8,"div",10),e.nrm(9,"div",11),e.k0s()),2&w&&(e.R7$(),e.Y8G("ngForOf",x.spaces))},dependencies:[p.Sq,p.bT,f.R,b.U,d.r6]})}return S})()},1593:(gt,re,o)=>{"use strict";o.d(re,{w:()=>x});var e=o(9707),n=o(2185),l=o(5157),h=o(9928),g=o(9714),p=o(696),f=o(4421),b=o(5006),d=o(8728),y=o(9090),R=o(8841),m=o(8712),v=o(3921),O=o(5645),S=o(5987),P=o(3601),M=o(4512),w=o(3953);let x=(()=>{class I extends e.Tv{constructor(C,D){super(),this._org=C,this._settings=D,this._loading=new h.t([]),this.loading=this._loading.asObservable(),this.levels=this._org.level_list.pipe((0,b.T)(A=>{if(!this._settings.get("app.use_region")){const B=this._org.buildingsForRegion(),F=B.map(U=>U.id),$=A.filter(U=>F.includes(U.parent_id)&&U.tags.includes("parking"));return $.map(U=>({...U,display_name:`${B.find(G=>G.id===U.parent_id)?.display_name} - ${U.display_name}`})),$}return A.filter(B=>B.parent_id===this._org.building.id&&B.tags.includes("parking"))})),this.spaces=(0,g.zV)([this.levels]).pipe((0,d.p)(([A])=>!!A[0]?.id),(0,y.n)(([A])=>(this._loading.next([...this._loading.getValue(),"spaces"]),(0,p.p)(A.map(B=>(0,l.bpY)(B.id,"parking-spaces").pipe((0,b.T)(F=>(F.details instanceof Array?F.details:[]).map($=>({...$,zone_id:B.id})))))))),(0,b.T)(A=>(0,e.Bq)(A)),(0,R.M)(()=>this._loading.next(this._loading.getValue().filter(A=>"spaces"!==A))),(0,m.t)(1)),this.users=(0,g.zV)([this._org.active_building]).pipe((0,d.p)(([A])=>!!A?.id),(0,y.n)(([A])=>(this._loading.next([...this._loading.getValue(),"users"]),(0,l.bpY)(A.id,"parking-users"))),(0,b.T)(A=>A.details instanceof Array?A.details:[]),(0,R.M)(()=>this._loading.next(this._loading.getValue().filter(A=>"users"!==A))),(0,m.t)(1)),this.assigned_space=this.spaces.pipe((0,b.T)(A=>A.find(B=>B.assigned_to?.toLowerCase()===(0,e.Ny)().email?.toLowerCase()))),this.user_details=this.users.pipe((0,b.T)(A=>A.find(B=>B.email?.toLowerCase()===(0,e.Ny)().email?.toLowerCase()))),this.deny_parking_access=this.user_details.pipe((0,b.T)(A=>!!A?.deny)),this.booked_space=(0,g.zV)([this._org.active_building,this.spaces]).pipe((0,b.T)(([A,B])=>(0,O.tj)({period_start:(0,S._)((0,P.o)(Date.now())),period_end:(0,S._)((0,M.D)(Date.now())),type:"parking"}).pipe((0,v.W)(()=>(0,f.of)([])),(0,b.T)(F=>F.map($=>B.find(U=>U.id===$.asset_id)).filter($=>!!$)))),(0,b.T)(A=>A[0]),(0,m.t)(1)),this.subscription("spaces",this.assigned_space.subscribe())}static#e=this.\u0275fac=function(D){return new(D||I)(w.KVO(n.yb),w.KVO(e.h$))};static#t=this.\u0275prov=w.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})()},6576:(gt,re,o)=>{"use strict";o.d(re,{Sh:()=>d,CH:()=>b,Yj:()=>v,f6:()=>m});var e=o(5157),n=o(5006),l=o(9707),h=o(735),g=o(2037);class p{constructor(S={}){this.id=S.id||"",this.name=S.name||"",this.primary=!!S.primary,this.summary=S.summary||"",this.can_edit=!!S.can_edit,this.resource=new h.$(S.resource||S.system),this.availability=(S.availability||[]).map(({starts_at:P,ends_at:M,date:w,duration:x,status:I})=>({date:new Date(w||1e3*P).valueOf(),duration:x||(0,g.o)(1e3*M,1e3*P),status:I})),this.hidden=!!S.hidden}}const f="/api/staff/v1/calendars";function b(){return(0,e.JtY)(f).pipe((0,n.T)(O=>O.map(S=>new p(S))))}function d(O){const S=(0,l.zJ)(O);return(0,e.JtY)(`${f}/availability${S?"?"+S:""}`).pipe((0,n.T)(P=>P.map(M=>new p(M))))}const y=O=>(0,n.T)(S=>S.filter(P=>!!P.resource).map(P=>new h.$({...P.resource,level:O?.levelWithID(P.resource.zones),availability:P.availability})).filter(P=>P.bookable));function m(O){const S=(0,l.zJ)(O);return(0,e.JtY)(`${f}/free_busy${S?"?"+S:""}`).pipe((0,n.T)(P=>P))}function v(O,S){const P=(0,l.zJ)(O);return(0,e.JtY)(`${f}/free_busy${P?"?"+P:""}`).pipe((0,n.T)(M=>M.map(w=>new p(w))),y(S))}},5892:(gt,re,o)=>{"use strict";o.d(re,{T:()=>e});class e{get custom_id(){const l=this.option_list.map(h=>h.id).join("+");return`${this.id}[${l}]${this.in_order?"":"menu"}`}constructor(l={}){this.id=l.id||"",this.name=l.name||l.id||"",this.category=l.category||"",this.unit_price=l.unit_price||0,this.description=l.description||"",this.quantity=l.quantity||0,this.discount_cap=l.discount_cap||0,this.accept_points=!!l.accept_points,this.tags=l.tags||[],this.images=l.images||[],this.options=l.options||[];const h=this.options.some(g=>!0===g.active);this.option_list=(h?this.options.filter(g=>!0===g.active):l.option_list)||[],this.hide_for_zones=l.hide_for_zones||[],this.unit_price_with_options=this.unit_price+this.option_list.map(g=>g.unit_price||0).reduce((g,p)=>g+p,0),this.total_cost=this.unit_price_with_options*this.quantity,this.options_string=this.options?.map(g=>g.id||"").sort((g,p)=>g.localeCompare(p)).join(",")||"",this.in_order=l.in_order??!1}}},5555:(gt,re,o)=>{"use strict";o.d(re,{M:()=>d});var e=o(9707),n=o(5892),l=o(1406),h=o(906),g=o(3601),p=o(7926),f=o(2357);function b(y){let R=y.event?.date||y._time;return y.deliver_time&&(R=(0,l.h)(R,{hours:Math.floor(y.deliver_time),minutes:y.deliver_time%1*60}).valueOf()),(y.deliver_day_offset>0||y.event?.all_day)&&(R=(0,h.f)((0,g.o)(R),y.deliver_day_offset).valueOf()),(0,p.z)(R,y.deliver_offset).valueOf()}class d{get deliver_at(){return b(this)}get status(){return this._status}set status(R){this._status=R,this[`${this.event_id}_status`]=R}constructor(R={}){this._time=(0,f.c)(Date.now()).valueOf(),this.id=R.id||`order-${(0,e.HO)(9999999,1e6)}`,this.system_id=R.system_id||"",this.event_id=R.event_id||R.event?.id||"",this.items=(R.items||[]).map(m=>m instanceof n.T?m:new n.T(m)),this.item_count=this.items.reduce((m,v)=>m+v.quantity,0),this.total_cost=this.items.reduce((m,v)=>m+(v.total_cost||0),0),this.charge_code=R.charge_code||"",this.status=R[`${this.event_id}_status`]||R.status||"accepted",this.invoice_number=R.invoice_number||"",this.event=R.event||null,this.notes=R.notes||"",this.deliver_time=R.deliver_time||void 0,this.deliver_offset=R.deliver_offset||0,this.deliver_day_offset=R.deliver_day_offset||0,this.deliver_at_time=b(this)}}},9707:(gt,re,o)=>{"use strict";o.d(re,{Ft:()=>R,Tv:()=>e.T,p:()=>n.p,dr:()=>l.d,mx:()=>me.mx,_e:()=>b._,h$:()=>h.h,CS:()=>ut,MH:()=>ue,xv:()=>f.x,gd:()=>O.gd,Zr:()=>O.Zr,a6:()=>O.a6,Ny:()=>U.N,U5:()=>U.U,PE:()=>O.PE,XE:()=>Wt,Bq:()=>O.Bq,qq:()=>A,F7:()=>O.F7,tU:()=>w,HQ:()=>O.HQ,Rm:()=>O.Rm,UG:()=>S.UG,uA:()=>S.uA,VX:()=>S.VX,WS:()=>S.WS,GE:()=>O.GE,HO:()=>O.HO,DU:()=>O.DU,Xm:()=>O.Xm,RH:()=>en,Xf:()=>O.Xf,To:()=>S.To,WQ:()=>x,jJ:()=>B,ej:()=>O.ej,II:()=>Ft,dH:()=>O.dH,zJ:()=>m.z,Am:()=>O.Am});var e=o(5354),n=o(3114),l=o(7643),h=o(4233),g=o(5157),f=o(3885),b=o(9420),d=o(9969);(0,d.hZ)("show",[(0,d.kY)(":enter",[(0,d.iF)({opacity:0,height:0}),(0,d.i0)(300,(0,d.iF)({opacity:1,height:"*"}))]),(0,d.kY)(":leave",[(0,d.iF)({opacity:1,height:"*"}),(0,d.i0)(300,(0,d.iF)({opacity:0,height:0}))])]);const R=(0,d.hZ)("show",[(0,d.wk)("show",(0,d.iF)({opacity:1,height:"*"})),(0,d.wk)("hide",(0,d.iF)({opacity:0,height:0,"pointer-events":"none"})),(0,d.kY)("show <=> hide",(0,d.i0)("200ms ease-in"))]);var m=o(8385),v=o(467),O=o(4217),S=o(9525);let P,M=!1;function w(){return M}function x(nt,Lt=3e5){nt.isEnabled&&(P&&clearInterval(P),P=setInterval(()=>{(0,O.Rm)("CACHE","Checking for updates..."),function _(nt){C.apply(this,arguments)}(nt)},Lt))}function C(){return(C=(0,v.A)(function*(nt){if(nt.isEnabled&&(yield nt.checkForUpdate())){if((0,O.Rm)("CACHE","Activating changes to the cache..."),!(yield nt.activateUpdate()))return;M=!0,(0,S.uA)("Newer version of the application is available","Refresh",()=>location.reload())}})).apply(this,arguments)}var D=o(4361);function A(nt){let Lt=nt.pattern||"";return Lt=Lt.charAt(0).toUpperCase()+Lt.slice(1),Lt?`${Lt} until ${(0,D.GP)(new Date(nt.end),"do MMM yyyy")}`:"<No Recurrence>"}function B(nt){return F.apply(this,arguments)}function F(){return(F=(0,v.A)(function*(nt){const Lt=nt.protocol||location.protocol,jt=nt.domain||location.hostname,Dt=nt.port||location.port,nn=nt.use_domain?`${Lt}//${jt}:${Dt}`:location.origin,Tt=(location.pathname+"/").replace("//","/"),It=nt.mock||location.href.includes("mock=true")||"true"===localStorage.getItem("mock"),Gt={auth_type:"auth_code",scope:"public",host:`${jt}${Dt?":"+Dt:""}`,auth_uri:`${nn}/auth/oauth/authorize`,token_uri:`${nn}/auth/oauth/token`,redirect_uri:`${location.origin}${Tt}oauth-resp.html`,handle_login:!nt.local_login,use_iframe:!0,mock:It};return localStorage&&localStorage.setItem("mock",`${!!It&&!location.href.includes("mock=false")}`),It&&(0,S.uA)("Application in mock mode."),(0,g.mjH)(Gt)})).apply(this,arguments)}o(3060);var U=o(6202);(0,O.Am)((0,O.Bq)([{value:"Dateline Standard Time",abbr:"DST",offset:-12,isdst:!1,text:"(UTC-12:00) International Date Line West",utc:["Etc/GMT+12"]},{value:"UTC-11",abbr:"U",offset:-11,isdst:!1,text:"(UTC-11:00) Coordinated Universal Time-11",utc:["Etc/GMT+11","Pacific/Midway","Pacific/Niue","Pacific/Pago_Pago"]},{value:"Hawaiian Standard Time",abbr:"HST",offset:-10,isdst:!1,text:"(UTC-10:00) Hawaii",utc:["Etc/GMT+10","Pacific/Honolulu","Pacific/Johnston","Pacific/Rarotonga","Pacific/Tahiti"]},{value:"Alaskan Standard Time",abbr:"AKDT",offset:-8,isdst:!0,text:"(UTC-09:00) Alaska",utc:["America/Anchorage","America/Juneau","America/Nome","America/Sitka","America/Yakutat"]},{value:"Pacific Standard Time (Mexico)",abbr:"PDT",offset:-7,isdst:!0,text:"(UTC-08:00) Baja California",utc:["America/Santa_Isabel"]},{value:"Pacific Daylight Time",abbr:"PDT",offset:-7,isdst:!0,text:"(UTC-07:00) Pacific Time (US & Canada)",utc:["America/Dawson","America/Los_Angeles","America/Tijuana","America/Vancouver","America/Whitehorse"]},{value:"Pacific Standard Time",abbr:"PST",offset:-8,isdst:!1,text:"(UTC-08:00) Pacific Time (US & Canada)",utc:["America/Dawson","America/Los_Angeles","America/Tijuana","America/Vancouver","America/Whitehorse","PST8PDT"]},{value:"US Mountain Standard Time",abbr:"UMST",offset:-7,isdst:!1,text:"(UTC-07:00) Arizona",utc:["America/Creston","America/Dawson_Creek","America/Hermosillo","America/Phoenix","Etc/GMT+7"]},{value:"Mountain Standard Time (Mexico)",abbr:"MDT",offset:-6,isdst:!0,text:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",utc:["America/Chihuahua","America/Mazatlan"]},{value:"Mountain Standard Time",abbr:"MDT",offset:-6,isdst:!0,text:"(UTC-07:00) Mountain Time (US & Canada)",utc:["America/Boise","America/Cambridge_Bay","America/Denver","America/Edmonton","America/Inuvik","America/Ojinaga","America/Yellowknife","MST7MDT"]},{value:"Central America Standard Time",abbr:"CAST",offset:-6,isdst:!1,text:"(UTC-06:00) Central America",utc:["America/Belize","America/Costa_Rica","America/El_Salvador","America/Guatemala","America/Managua","America/Tegucigalpa","Etc/GMT+6","Pacific/Galapagos"]},{value:"Central Standard Time",abbr:"CDT",offset:-5,isdst:!0,text:"(UTC-06:00) Central Time (US & Canada)",utc:["America/Chicago","America/Indiana/Knox","America/Indiana/Tell_City","America/Matamoros","America/Menominee","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Rainy_River","America/Rankin_Inlet","America/Resolute","America/Winnipeg","CST6CDT"]},{value:"Central Standard Time (Mexico)",abbr:"CDT",offset:-5,isdst:!0,text:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",utc:["America/Bahia_Banderas","America/Cancun","America/Merida","America/Mexico_City","America/Monterrey"]},{value:"Canada Central Standard Time",abbr:"CCST",offset:-6,isdst:!1,text:"(UTC-06:00) Saskatchewan",utc:["America/Regina","America/Swift_Current"]},{value:"SA Pacific Standard Time",abbr:"SPST",offset:-5,isdst:!1,text:"(UTC-05:00) Bogota, Lima, Quito",utc:["America/Bogota","America/Cayman","America/Coral_Harbour","America/Eirunepe","America/Guayaquil","America/Jamaica","America/Lima","America/Panama","America/Rio_Branco","Etc/GMT+5"]},{value:"Eastern Standard Time",abbr:"EDT",offset:-4,isdst:!0,text:"(UTC-05:00) Eastern Time (US & Canada)",utc:["America/Detroit","America/Havana","America/Indiana/Petersburg","America/Indiana/Vincennes","America/Indiana/Winamac","America/Iqaluit","America/Kentucky/Monticello","America/Louisville","America/Montreal","America/Nassau","America/New_York","America/Nipigon","America/Pangnirtung","America/Port-au-Prince","America/Thunder_Bay","America/Toronto","EST5EDT"]},{value:"US Eastern Standard Time",abbr:"UEDT",offset:-4,isdst:!0,text:"(UTC-05:00) Indiana (East)",utc:["America/Indiana/Marengo","America/Indiana/Vevay","America/Indianapolis"]},{value:"Venezuela Standard Time",abbr:"VST",offset:-4.5,isdst:!1,text:"(UTC-04:30) Caracas",utc:["America/Caracas"]},{value:"Paraguay Standard Time",abbr:"PYT",offset:-4,isdst:!1,text:"(UTC-04:00) Asuncion",utc:["America/Asuncion"]},{value:"Atlantic Standard Time",abbr:"ADT",offset:-3,isdst:!0,text:"(UTC-04:00) Atlantic Time (Canada)",utc:["America/Glace_Bay","America/Goose_Bay","America/Halifax","America/Moncton","America/Thule","Atlantic/Bermuda"]},{value:"Central Brazilian Standard Time",abbr:"CBST",offset:-4,isdst:!1,text:"(UTC-04:00) Cuiaba",utc:["America/Campo_Grande","America/Cuiaba"]},{value:"SA Western Standard Time",abbr:"SWST",offset:-4,isdst:!1,text:"(UTC-04:00) Georgetown, La Paz, Manaus, San Juan",utc:["America/Anguilla","America/Antigua","America/Aruba","America/Barbados","America/Blanc-Sablon","America/Boa_Vista","America/Curacao","America/Dominica","America/Grand_Turk","America/Grenada","America/Guadeloupe","America/Guyana","America/Kralendijk","America/La_Paz","America/Lower_Princes","America/Manaus","America/Marigot","America/Martinique","America/Montserrat","America/Port_of_Spain","America/Porto_Velho","America/Puerto_Rico","America/Santo_Domingo","America/St_Barthelemy","America/St_Kitts","America/St_Lucia","America/St_Thomas","America/St_Vincent","America/Tortola","Etc/GMT+4"]},{value:"Pacific SA Standard Time",abbr:"PSST",offset:-4,isdst:!1,text:"(UTC-04:00) Santiago",utc:["America/Santiago","Antarctica/Palmer"]},{value:"Newfoundland Standard Time",abbr:"NDT",offset:-2.5,isdst:!0,text:"(UTC-03:30) Newfoundland",utc:["America/St_Johns"]},{value:"E. South America Standard Time",abbr:"ESAST",offset:-3,isdst:!1,text:"(UTC-03:00) Brasilia",utc:["America/Sao_Paulo"]},{value:"Argentina Standard Time",abbr:"AST",offset:-3,isdst:!1,text:"(UTC-03:00) Buenos Aires",utc:["America/Argentina/La_Rioja","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Buenos_Aires","America/Catamarca","America/Cordoba","America/Jujuy","America/Mendoza"]},{value:"SA Eastern Standard Time",abbr:"SEST",offset:-3,isdst:!1,text:"(UTC-03:00) Cayenne, Fortaleza",utc:["America/Araguaina","America/Belem","America/Cayenne","America/Fortaleza","America/Maceio","America/Paramaribo","America/Recife","America/Santarem","Antarctica/Rothera","Atlantic/Stanley","Etc/GMT+3"]},{value:"Greenland Standard Time",abbr:"GDT",offset:-3,isdst:!0,text:"(UTC-03:00) Greenland",utc:["America/Godthab"]},{value:"Montevideo Standard Time",abbr:"MST",offset:-3,isdst:!1,text:"(UTC-03:00) Montevideo",utc:["America/Montevideo"]},{value:"Bahia Standard Time",abbr:"BST",offset:-3,isdst:!1,text:"(UTC-03:00) Salvador",utc:["America/Bahia"]},{value:"UTC-02",abbr:"U",offset:-2,isdst:!1,text:"(UTC-02:00) Coordinated Universal Time-02",utc:["America/Noronha","Atlantic/South_Georgia","Etc/GMT+2"]},{value:"Mid-Atlantic Standard Time",abbr:"MDT",offset:-1,isdst:!0,text:"(UTC-02:00) Mid-Atlantic - Old",utc:[]},{value:"Azores Standard Time",abbr:"ADT",offset:0,isdst:!0,text:"(UTC-01:00) Azores",utc:["America/Scoresbysund","Atlantic/Azores"]},{value:"Cape Verde Standard Time",abbr:"CVST",offset:-1,isdst:!1,text:"(UTC-01:00) Cape Verde Is.",utc:["Atlantic/Cape_Verde","Etc/GMT+1"]},{value:"Morocco Standard Time",abbr:"MDT",offset:1,isdst:!0,text:"(UTC) Casablanca",utc:["Africa/Casablanca","Africa/El_Aaiun"]},{value:"UTC",abbr:"UTC",offset:0,isdst:!1,text:"(UTC) Coordinated Universal Time",utc:["America/Danmarkshavn","Etc/GMT"]},{value:"GMT Standard Time",abbr:"GMT",offset:0,isdst:!1,text:"(UTC) Edinburgh, London",utc:["Europe/Isle_of_Man","Europe/Guernsey","Europe/Jersey","Europe/London"]},{value:"British Summer Time",abbr:"BST",offset:1,isdst:!0,text:"(UTC+01:00) Edinburgh, London",utc:["Europe/Isle_of_Man","Europe/Guernsey","Europe/Jersey","Europe/London"]},{value:"GMT Standard Time",abbr:"GDT",offset:1,isdst:!0,text:"(UTC) Dublin, Lisbon",utc:["Atlantic/Canary","Atlantic/Faeroe","Atlantic/Madeira","Europe/Dublin","Europe/Lisbon"]},{value:"Greenwich Standard Time",abbr:"GST",offset:0,isdst:!1,text:"(UTC) Monrovia, Reykjavik",utc:["Africa/Abidjan","Africa/Accra","Africa/Bamako","Africa/Banjul","Africa/Bissau","Africa/Conakry","Africa/Dakar","Africa/Freetown","Africa/Lome","Africa/Monrovia","Africa/Nouakchott","Africa/Ouagadougou","Africa/Sao_Tome","Atlantic/Reykjavik","Atlantic/St_Helena"]},{value:"W. Europe Standard Time",abbr:"WEDT",offset:2,isdst:!0,text:"(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna",utc:["Arctic/Longyearbyen","Europe/Amsterdam","Europe/Andorra","Europe/Berlin","Europe/Busingen","Europe/Gibraltar","Europe/Luxembourg","Europe/Malta","Europe/Monaco","Europe/Oslo","Europe/Rome","Europe/San_Marino","Europe/Stockholm","Europe/Vaduz","Europe/Vatican","Europe/Vienna","Europe/Zurich"]},{value:"Central Europe Standard Time",abbr:"CEDT",offset:2,isdst:!0,text:"(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague",utc:["Europe/Belgrade","Europe/Bratislava","Europe/Budapest","Europe/Ljubljana","Europe/Podgorica","Europe/Prague","Europe/Tirane"]},{value:"Romance Standard Time",abbr:"RDT",offset:2,isdst:!0,text:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",utc:["Africa/Ceuta","Europe/Brussels","Europe/Copenhagen","Europe/Madrid","Europe/Paris"]},{value:"Central European Standard Time",abbr:"CEDT",offset:2,isdst:!0,text:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",utc:["Europe/Sarajevo","Europe/Skopje","Europe/Warsaw","Europe/Zagreb"]},{value:"W. Central Africa Standard Time",abbr:"WCAST",offset:1,isdst:!1,text:"(UTC+01:00) West Central Africa",utc:["Africa/Algiers","Africa/Bangui","Africa/Brazzaville","Africa/Douala","Africa/Kinshasa","Africa/Lagos","Africa/Libreville","Africa/Luanda","Africa/Malabo","Africa/Ndjamena","Africa/Niamey","Africa/Porto-Novo","Africa/Tunis","Etc/GMT-1"]},{value:"Namibia Standard Time",abbr:"NST",offset:1,isdst:!1,text:"(UTC+01:00) Windhoek",utc:["Africa/Windhoek"]},{value:"GTB Standard Time",abbr:"GDT",offset:3,isdst:!0,text:"(UTC+02:00) Athens, Bucharest",utc:["Asia/Nicosia","Europe/Athens","Europe/Bucharest","Europe/Chisinau"]},{value:"Middle East Standard Time",abbr:"MEDT",offset:3,isdst:!0,text:"(UTC+02:00) Beirut",utc:["Asia/Beirut"]},{value:"Egypt Standard Time",abbr:"EST",offset:2,isdst:!1,text:"(UTC+02:00) Cairo",utc:["Africa/Cairo"]},{value:"Syria Standard Time",abbr:"SDT",offset:3,isdst:!0,text:"(UTC+02:00) Damascus",utc:["Asia/Damascus"]},{value:"E. Europe Standard Time",abbr:"EEDT",offset:3,isdst:!0,text:"(UTC+02:00) E. Europe",utc:["Asia/Nicosia","Europe/Athens","Europe/Bucharest","Europe/Chisinau","Europe/Helsinki","Europe/Kiev","Europe/Mariehamn","Europe/Nicosia","Europe/Riga","Europe/Sofia","Europe/Tallinn","Europe/Uzhgorod","Europe/Vilnius","Europe/Zaporozhye"]},{value:"South Africa Standard Time",abbr:"SAST",offset:2,isdst:!1,text:"(UTC+02:00) Harare, Pretoria",utc:["Africa/Blantyre","Africa/Bujumbura","Africa/Gaborone","Africa/Harare","Africa/Johannesburg","Africa/Kigali","Africa/Lubumbashi","Africa/Lusaka","Africa/Maputo","Africa/Maseru","Africa/Mbabane","Etc/GMT-2"]},{value:"FLE Standard Time",abbr:"FDT",offset:3,isdst:!0,text:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius",utc:["Europe/Helsinki","Europe/Kiev","Europe/Mariehamn","Europe/Riga","Europe/Sofia","Europe/Tallinn","Europe/Uzhgorod","Europe/Vilnius","Europe/Zaporozhye"]},{value:"Turkey Standard Time",abbr:"TDT",offset:3,isdst:!1,text:"(UTC+03:00) Istanbul",utc:["Europe/Istanbul"]},{value:"Israel Standard Time",abbr:"JDT",offset:3,isdst:!0,text:"(UTC+02:00) Jerusalem",utc:["Asia/Jerusalem"]},{value:"Libya Standard Time",abbr:"LST",offset:2,isdst:!1,text:"(UTC+02:00) Tripoli",utc:["Africa/Tripoli"]},{value:"Jordan Standard Time",abbr:"JST",offset:3,isdst:!1,text:"(UTC+03:00) Amman",utc:["Asia/Amman"]},{value:"Arabic Standard Time",abbr:"AST",offset:3,isdst:!1,text:"(UTC+03:00) Baghdad",utc:["Asia/Baghdad"]},{value:"Kaliningrad Standard Time",abbr:"KST",offset:3,isdst:!1,text:"(UTC+02:00) Kaliningrad",utc:["Europe/Kaliningrad"]},{value:"Arab Standard Time",abbr:"AST",offset:3,isdst:!1,text:"(UTC+03:00) Kuwait, Riyadh",utc:["Asia/Aden","Asia/Bahrain","Asia/Kuwait","Asia/Qatar","Asia/Riyadh"]},{value:"E. Africa Standard Time",abbr:"EAST",offset:3,isdst:!1,text:"(UTC+03:00) Nairobi",utc:["Africa/Addis_Ababa","Africa/Asmera","Africa/Dar_es_Salaam","Africa/Djibouti","Africa/Juba","Africa/Kampala","Africa/Khartoum","Africa/Mogadishu","Africa/Nairobi","Antarctica/Syowa","Etc/GMT-3","Indian/Antananarivo","Indian/Comoro","Indian/Mayotte"]},{value:"Moscow Standard Time",abbr:"MSK",offset:3,isdst:!1,text:"(UTC+03:00) Moscow, St. Petersburg, Volgograd, Minsk",utc:["Europe/Kirov","Europe/Moscow","Europe/Simferopol","Europe/Volgograd","Europe/Minsk"]},{value:"Samara Time",abbr:"SAMT",offset:4,isdst:!1,text:"(UTC+04:00) Samara, Ulyanovsk, Saratov",utc:["Europe/Astrakhan","Europe/Samara","Europe/Ulyanovsk"]},{value:"Iran Standard Time",abbr:"IDT",offset:4.5,isdst:!0,text:"(UTC+03:30) Tehran",utc:["Asia/Tehran"]},{value:"Arabian Standard Time",abbr:"AST",offset:4,isdst:!1,text:"(UTC+04:00) Abu Dhabi, Muscat",utc:["Asia/Dubai","Asia/Muscat","Etc/GMT-4"]},{value:"Azerbaijan Standard Time",abbr:"ADT",offset:5,isdst:!0,text:"(UTC+04:00) Baku",utc:["Asia/Baku"]},{value:"Mauritius Standard Time",abbr:"MST",offset:4,isdst:!1,text:"(UTC+04:00) Port Louis",utc:["Indian/Mahe","Indian/Mauritius","Indian/Reunion"]},{value:"Georgian Standard Time",abbr:"GET",offset:4,isdst:!1,text:"(UTC+04:00) Tbilisi",utc:["Asia/Tbilisi"]},{value:"Caucasus Standard Time",abbr:"CST",offset:4,isdst:!1,text:"(UTC+04:00) Yerevan",utc:["Asia/Yerevan"]},{value:"Afghanistan Standard Time",abbr:"AST",offset:4.5,isdst:!1,text:"(UTC+04:30) Kabul",utc:["Asia/Kabul"]},{value:"West Asia Standard Time",abbr:"WAST",offset:5,isdst:!1,text:"(UTC+05:00) Ashgabat, Tashkent",utc:["Antarctica/Mawson","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Dushanbe","Asia/Oral","Asia/Samarkand","Asia/Tashkent","Etc/GMT-5","Indian/Kerguelen","Indian/Maldives"]},{value:"Yekaterinburg Time",abbr:"YEKT",offset:5,isdst:!1,text:"(UTC+05:00) Yekaterinburg",utc:["Asia/Yekaterinburg"]},{value:"Pakistan Standard Time",abbr:"PKT",offset:5,isdst:!1,text:"(UTC+05:00) Islamabad, Karachi",utc:["Asia/Karachi"]},{value:"India Standard Time",abbr:"IST",offset:5.5,isdst:!1,text:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",utc:["Asia/Kolkata"]},{value:"Sri Lanka Standard Time",abbr:"SLST",offset:5.5,isdst:!1,text:"(UTC+05:30) Sri Jayawardenepura",utc:["Asia/Colombo"]},{value:"Nepal Standard Time",abbr:"NST",offset:5.75,isdst:!1,text:"(UTC+05:45) Kathmandu",utc:["Asia/Kathmandu"]},{value:"Central Asia Standard Time",abbr:"CAST",offset:6,isdst:!1,text:"(UTC+06:00) Nur-Sultan (Astana)",utc:["Antarctica/Vostok","Asia/Almaty","Asia/Bishkek","Asia/Qyzylorda","Asia/Urumqi","Etc/GMT-6","Indian/Chagos"]},{value:"Bangladesh Standard Time",abbr:"BST",offset:6,isdst:!1,text:"(UTC+06:00) Dhaka",utc:["Asia/Dhaka","Asia/Thimphu"]},{value:"Myanmar Standard Time",abbr:"MST",offset:6.5,isdst:!1,text:"(UTC+06:30) Yangon (Rangoon)",utc:["Asia/Rangoon","Indian/Cocos"]},{value:"SE Asia Standard Time",abbr:"SAST",offset:7,isdst:!1,text:"(UTC+07:00) Bangkok, Hanoi, Jakarta",utc:["Antarctica/Davis","Asia/Bangkok","Asia/Hovd","Asia/Jakarta","Asia/Phnom_Penh","Asia/Pontianak","Asia/Saigon","Asia/Vientiane","Etc/GMT-7","Indian/Christmas"]},{value:"N. Central Asia Standard Time",abbr:"NCAST",offset:7,isdst:!1,text:"(UTC+07:00) Novosibirsk",utc:["Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk"]},{value:"China Standard Time",abbr:"CST",offset:8,isdst:!1,text:"(UTC+08:00) Beijing, Chongqing, Hong Kong, Urumqi",utc:["Asia/Hong_Kong","Asia/Macau","Asia/Shanghai"]},{value:"North Asia Standard Time",abbr:"NAST",offset:8,isdst:!1,text:"(UTC+08:00) Krasnoyarsk",utc:["Asia/Krasnoyarsk"]},{value:"Singapore Standard Time",abbr:"MPST",offset:8,isdst:!1,text:"(UTC+08:00) Kuala Lumpur, Singapore",utc:["Asia/Brunei","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Makassar","Asia/Manila","Asia/Singapore","Etc/GMT-8"]},{value:"W. Australia Standard Time",abbr:"WAST",offset:8,isdst:!1,text:"(UTC+08:00) Perth",utc:["Antarctica/Casey","Australia/Perth"]},{value:"Taipei Standard Time",abbr:"TST",offset:8,isdst:!1,text:"(UTC+08:00) Taipei",utc:["Asia/Taipei"]},{value:"Ulaanbaatar Standard Time",abbr:"UST",offset:8,isdst:!1,text:"(UTC+08:00) Ulaanbaatar",utc:["Asia/Choibalsan","Asia/Ulaanbaatar"]},{value:"North Asia East Standard Time",abbr:"NAEST",offset:8,isdst:!1,text:"(UTC+08:00) Irkutsk",utc:["Asia/Irkutsk"]},{value:"Japan Standard Time",abbr:"JST",offset:9,isdst:!1,text:"(UTC+09:00) Osaka, Sapporo, Tokyo",utc:["Asia/Dili","Asia/Jayapura","Asia/Tokyo","Etc/GMT-9","Pacific/Palau"]},{value:"Korea Standard Time",abbr:"KST",offset:9,isdst:!1,text:"(UTC+09:00) Seoul",utc:["Asia/Pyongyang","Asia/Seoul"]},{value:"Cen. Australia Standard Time",abbr:"CAST",offset:9.5,isdst:!1,text:"(UTC+09:30) Adelaide",utc:["Australia/Adelaide","Australia/Broken_Hill"]},{value:"AUS Central Standard Time",abbr:"ACST",offset:9.5,isdst:!1,text:"(UTC+09:30) Darwin",utc:["Australia/Darwin"]},{value:"E. Australia Standard Time",abbr:"EAST",offset:10,isdst:!1,text:"(UTC+10:00) Brisbane",utc:["Australia/Brisbane","Australia/Lindeman"]},{value:"AUS Eastern Standard Time",abbr:"AEST",offset:10,isdst:!1,text:"(UTC+10:00) Canberra, Melbourne, Sydney",utc:["Australia/Melbourne","Australia/Sydney"]},{value:"West Pacific Standard Time",abbr:"WPST",offset:10,isdst:!1,text:"(UTC+10:00) Guam, Port Moresby",utc:["Antarctica/DumontDUrville","Etc/GMT-10","Pacific/Guam","Pacific/Port_Moresby","Pacific/Saipan","Pacific/Truk"]},{value:"Tasmania Standard Time",abbr:"TST",offset:10,isdst:!1,text:"(UTC+10:00) Hobart",utc:["Australia/Currie","Australia/Hobart"]},{value:"Yakutsk Standard Time",abbr:"YST",offset:9,isdst:!1,text:"(UTC+09:00) Yakutsk",utc:["Asia/Chita","Asia/Khandyga","Asia/Yakutsk"]},{value:"Central Pacific Standard Time",abbr:"CPST",offset:11,isdst:!1,text:"(UTC+11:00) Solomon Is., New Caledonia",utc:["Antarctica/Macquarie","Etc/GMT-11","Pacific/Efate","Pacific/Guadalcanal","Pacific/Kosrae","Pacific/Noumea","Pacific/Ponape"]},{value:"Vladivostok Standard Time",abbr:"VST",offset:11,isdst:!1,text:"(UTC+11:00) Vladivostok",utc:["Asia/Sakhalin","Asia/Ust-Nera","Asia/Vladivostok"]},{value:"New Zealand Standard Time",abbr:"NZST",offset:12,isdst:!1,text:"(UTC+12:00) Auckland, Wellington",utc:["Antarctica/McMurdo","Pacific/Auckland"]},{value:"UTC+12",abbr:"U",offset:12,isdst:!1,text:"(UTC+12:00) Coordinated Universal Time+12",utc:["Etc/GMT-12","Pacific/Funafuti","Pacific/Kwajalein","Pacific/Majuro","Pacific/Nauru","Pacific/Tarawa","Pacific/Wake","Pacific/Wallis"]},{value:"Fiji Standard Time",abbr:"FST",offset:12,isdst:!1,text:"(UTC+12:00) Fiji",utc:["Pacific/Fiji"]},{value:"Magadan Standard Time",abbr:"MST",offset:12,isdst:!1,text:"(UTC+12:00) Magadan",utc:["Asia/Anadyr","Asia/Kamchatka","Asia/Magadan","Asia/Srednekolymsk"]},{value:"Kamchatka Standard Time",abbr:"KDT",offset:13,isdst:!0,text:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old",utc:["Asia/Kamchatka"]},{value:"Tonga Standard Time",abbr:"TST",offset:13,isdst:!1,text:"(UTC+13:00) Nuku'alofa",utc:["Etc/GMT-13","Pacific/Enderbury","Pacific/Fakaofo","Pacific/Tongatapu"]},{value:"Samoa Standard Time",abbr:"SST",offset:13,isdst:!1,text:"(UTC+13:00) Samoa",utc:["Pacific/Apia"]}].map(nt=>nt.utc))).sort();var te=o(285),ne=o(5817),K=o(1604),k=o(2727);o(2185),o(686);var me=o(7619),he=o(9928),Oe=o(9714),we=o(9601),We=o(762),Xe=o(1080);o(3004);const ge={leading:!0,trailing:!1};class $e{constructor(Lt,jt,Dt,nn){this.duration=Lt,this.scheduler=jt,this.leading=Dt,this.trailing=nn}call(Lt,jt){return jt.subscribe(new tt(Lt,this.duration,this.scheduler,this.leading,this.trailing))}}class tt extends We.v{constructor(Lt,jt,Dt,nn,Tt){super(Lt),this.duration=jt,this.scheduler=Dt,this.leading=nn,this.trailing=Tt,this._hasTrailingValue=!1,this._trailingValue=null}_next(Lt){this.throttled?this.trailing&&(this._trailingValue=Lt,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(xt,this.duration,{subscriber:this})),this.leading?this.destination.next(Lt):this.trailing&&(this._trailingValue=Lt,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const Lt=this.throttled;Lt&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),Lt.unsubscribe(),this.remove(Lt),this.throttled=null)}}function xt(nt){const{subscriber:Lt}=nt;Lt.clearThrottle()}var Pt=o(5006),yt=o(4046),Le=o(8841),De=o(3953);const V=["keypress","mousemove","touchmove","scroll","wheel"];let ue=(()=>{class nt{constructor(){this._last_action=new he.t(Date.now()),this._update=jt=>this._onUserInteraction(),this._event_names=V,this.last_action=(0,Oe.zV)([this._last_action,(0,we.Y)(1e3)]).pipe(function Qe(nt,Lt=Xe.b,jt=ge){return Dt=>Dt.lift(new $e(nt,Lt,jt.leading,jt.trailing))}(300),(0,Pt.T)(([jt])=>jt)),this.idle_time=this.last_action.pipe((0,Pt.T)(jt=>Date.now()-jt))}_onUserInteraction(){this._last_action.next(Date.now())}idleFor(jt){const Dt=this.startListening();return this.idle_time.pipe((0,yt.$)(nn=>nn>=jt),(0,Le.M)(()=>Dt()))}startListening(){this._last_action.next(Date.now());for(const jt of this._event_names)document.body.addEventListener(jt,this._update);return()=>this.stopListening()}stopListening(){for(const jt of this._event_names)document.body.removeEventListener(jt,this._update)}static#e=this.\u0275fac=function(Dt){return new(Dt||nt)};static#t=this.\u0275prov=De.jDH({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})();var Q=o(7926),Te=o(9255),Je=o(9824);const ft={month:43200,months:43200,week:10080,weeks:10080,day:1440,days:1440,hour:60,hours:60,minute:1,minutes:1},lt={auto_approve:!0,hidden:!1};function Ft(nt){const Lt=(nt||"").split(" ");return Lt.length>1?+Lt[0]*ft[Lt[1].toLowerCase()]:0}function Ct(nt,Lt=new Date){return(0,Q.z)(Lt,Ft(nt))}function Wt(nt,Lt,jt){return nt.filter(Dt=>!en({...Lt,resource:Dt},jt)?.hidden)}function en(nt,Lt){if(!(Lt instanceof Array))return lt;for(const jt of Lt)if(("*"===jt.zone||jt.zone===nt.resource.zone?.id||nt.resource.zones?.includes(jt.zone))&&on(nt,jt))return jt.rules;return lt}function on({date:nt,duration:Lt,host:jt,resource:Dt},nn){const Tt=new Date(nt);let It=0;const{conditions:Gt}=nn;return!Gt||(Gt.groups instanceof Array&&Gt.groups.every(At=>jt?.groups?.includes(At))&&(It+=1),Gt.is_before&&(0,Te.Y)((0,Q.z)(nt,Lt),Ct(Gt.is_before))&&(It+=1),Gt.is_after&&(0,Je.d)(nt,Ct(Gt.is_after))&&(It+=1),Gt.min_length&&Gt.min_length<=Lt&&(It+=1),Gt.is_between&&Tt.getHours()+Tt.getMinutes()/60>=Gt.is_between[0]&&Tt.getHours()+Tt.getMinutes()/60<Gt.is_between[1]&&(It+=1),Gt.is_period&&nt>=Gt.is_period[0]&&nt<Gt.is_period[1]&&(It+=1),Gt.max_length&&Gt.max_length>=Lt&&(It+=1),Gt.resource_ids&&Gt.resource_ids.includes(Dt.id)&&(It+=1),Gt.locations&&Gt.locations.includes(Dt.name)&&(It+=1),It>=Object.keys(Gt).length)}var Sn=o(6871),Zn=o(4006);let ut=(()=>{class nt{constructor(jt){this._dialog=jt,this._upload_list=new he.t([]),this.upload_list=this._upload_list.asObservable(),localStorage&&this._upload_list.next(JSON.parse(localStorage.getItem("BACKOFFICE.uploads")||"[]"))}clearList(){const jt=this._upload_list.getValue().filter(Dt=>Dt.progress<100&&!Dt.error);this._upload_list.next(jt)}uploadFileWithPermissions(jt){var Dt=this;return new Promise((nn,Tt)=>{this._dialog.open(Sn.U,{data:{file:jt}}).afterClosed().subscribe(function(){var Gt=(0,v.A)(function*(At){if(At){const tn=yield Dt.uploadFile(At.file,At.is_public,At.permissions).catch(vn=>{throw Tt(vn),vn});nn(tn)}else Tt()});return function(At){return Gt.apply(this,arguments)}}())})}uploadFile(jt,Dt=!0,nn="none"){return new Promise(Tt=>{let It=!1;const Gt=At=>{It||(Tt(At.id),It=!0),this._upload_list.next([...this._upload_list.getValue().filter(tn=>tn.id!==At.id),At])};(function j(nt,Lt=!0,jt="none"){return new ne.c(Dt=>{const nn=new FileReader;nn.addEventListener("loadend",Tt=>{const Gt=k.Ot(Tt.target.result,nt.type),tn=(0,te.Zn)([Gt],{file_name:nt.name,permissions:jt,public:Lt})[0],vn={id:(0,O.HO)(999999999999),name:nt.name,progress:0,link:"",formatted_size:(0,te.jG)(nt.size),size:nt.size,upload:tn};tn.status.pipe((0,K.v)(wn=>"complete"!==wn.status,!0)).subscribe(wn=>{tn.access_url&&(vn.link=Lt?tn.access_url:`${location.origin}/api/engine/v2/uploads/${encodeURIComponent(tn.id)}/url`),vn.progress=wn.progress,Dt.next(vn),"error"===wn.status&&Dt.error({...vn,error:wn.error}),"complete"===wn.status&&Dt.complete()}),Dt.next(vn)}),nn.readAsArrayBuffer(nt)})})(jt,Dt,nn).subscribe(Gt,Gt,()=>this._updateUploadHistory())})}_updateUploadHistory(){const jt=this._upload_list.getValue().filter(Dt=>Dt.progress>=100);jt.forEach(Dt=>delete Dt.upload),localStorage&&localStorage.setItem("PLACEOS.uploads",JSON.stringify(jt))}static#e=this.\u0275fac=function(Dt){return new(Dt||nt)(De.KVO(Zn.bZ))};static#t=this.\u0275prov=De.jDH({token:nt,factory:nt.\u0275fac,providedIn:"root"})}return nt})()},8385:(gt,re,o)=>{"use strict";o.d(re,{z:()=>n});const e=[void 0,null,""];function n(l){let h="";if(l)for(const g in l)g in l&&!e.includes(l[g])&&(h+=`${h?"&":""}${g}=${encodeURIComponent(l[g])}`);return h}},5354:(gt,re,o)=>{"use strict";o.d(re,{T:()=>h});var e=o(9928),n=o(4337),l=o(3953);let h=(()=>{class g{constructor(){this._timers={},this._intervals={},this._subscriptions={},this._initialised=new e.t(!1),this.initialised=this._initialised.asObservable()}get is_initialised(){return this._initialised.getValue()}ngOnDestroy(){this.destroy()}destroy(){for(const f in this._timers)f in this._timers&&this.clearTimeout(f);for(const f in this._intervals)f in this._intervals&&this.clearInterval(f);for(const f in this._subscriptions)f in this._subscriptions&&this.unsub(f)}timeout(f,b,d=300){if(!(f&&b&&b instanceof Function))throw new Error(f?"Cannot create named timeout without a name":"Cannot create a timeout without a callback");this.clearTimeout(f),this._timers[f]=setTimeout(()=>{b(),delete this._timers[f]},d)}clearTimeout(f){this._timers[f]&&(clearTimeout(this._timers[f]),delete this._timers[f])}interval(f,b,d=300){if(!(f&&b&&b instanceof Function))throw new Error(f?"Cannot create named interval without a name":"Cannot create a interval without a callback");this.clearInterval(f),this._intervals[f]=setInterval(()=>b(),d)}clearInterval(f){this._intervals[f]&&(clearInterval(this._intervals[f]),delete this._intervals[f])}subscription(f,b){this.unsub(f),this._subscriptions[f]=b}hasSubscription(f){return this._subscriptions[f]instanceof n.y||!!this._subscriptions[f]}unsub(f){f in this._subscriptions&&(this._subscriptions[f]instanceof n.y?this._subscriptions[f].unsubscribe():this._subscriptions[f]&&this._subscriptions[f](),delete this._subscriptions[f])}unsubWith(f){const b=Object.keys(this._subscriptions).filter(d=>d.includes(f));for(const d of b)this.unsub(d)}static#e=this.\u0275fac=function(b){return new(b||g)};static#t=this.\u0275prov=l.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()},4571:(gt,re,o)=>{"use strict";o.d(re,{_V:()=>y,dB:()=>R,gP:()=>m});var e=o(4361),n=o(2357),l=o(1406),h=o(7926),g=o(8385),p=o(7619),f=o(4217);function b(O){const S=(0,p.il)(O,"UTC");return`${(0,e.GP)(S,"yyyyMMdd")}T${(0,e.GP)(S,"HHmmss")}Z`}function d(O){return`${(0,e.GP)(O,"yyyyMMdd")}`}function y(O){const S=[],P=v(`${O.body||""}${O.id?"\n\n[ID|"+O.id+"]":""}`),M=v(`${O.location}`);S.push(["BEGIN","VCALENDAR"]),S.push(["VERSION","2.0"]),S.push(["BEGIN","VEVENT"]),S.push(["URL",`${O.meeting_url}`]),S.push(["DTSTART",`${new Date(O.all_day?(0,n.c)((0,l.h)(O.date,{hours:6,minutes:0})):O.date).toISOString()}`]),S.push(["DTEND",`${O.all_day?(0,n.c)((0,l.h)(O.date,{hours:18,minutes:0})).toISOString():(0,h.z)(O.date,O.duration??60).toISOString()}`]),S.push(["SUMMARY",`${O.title}`]),S.push(["DESCRIPTION",P]),S.push(["LOCATION",M]);const w=O.organiser?.name||O.host?.split("@")||O.user_name||"User";return S.push(["ORGANIZER",`CN=${w}:MAILTO:${O.host||O.user_email}`]),`data:text/calendar;charset=utf8,${S.map(([I,_])=>`${I}:${encodeURIComponent(_)}`).join("\n")}`}function R(O){const S=O.all_day?d:b,P={action:"TEMPLATE",text:O.title,details:`${O.body||""}${O.id?"\n\n[ID|"+O.id+"]":""}`,location:O.location,trp:!1,dates:`${S(O.date)}/${S((0,h.z)(O.date,O.duration??60))}`},M=(O.attendees||[]).map(x=>x.email||x),w=((O.resources?.length?O.resources:null)||[O.system]).map(x=>x?.email||x);return(M.length||w.length)&&(P.add=(0,f.Am)([...M,...w]).join()),`https://calendar.google.com/calendar/render?${(0,g.z)(P)}`}function m(O,S="office"){O.date||(O.date=Date.now());const P={path:"/calendar/action/compose",rru:"addevent",startdt:new Date(O.date).toISOString(),enddt:(0,h.z)(O.date,O.duration??60).toISOString(),subject:O.title,body:`${O.body||""}${O.id?"\n\n[ID|"+O.id+"]":""}`,location:O.location,allday:O.all_day??!1};O.all_day&&delete P.enddt;const M=(O.attendees||[]).map(x=>x.email||x),w=((O.resources?.length?O.resources:null)||[O.system]).map(x=>x?.email||x);return(M.length||w.length)&&(P.to=(0,f.Am)([...M,...w]).join()),"office"===S?`https://outlook.office.com/calendar/0/action/compose?${(0,g.z)(P)}`:`https://outlook.live.com/calendar/0/action/compose?${(0,g.z)(P)}`}function v(O){return O.replace(/,/gm,",").replace(/;/gm,";").replace(/\r\n/gm,"\n").replace(/\n/gm,"\\n").replace(/(\\n)[\s\t]+/gm,"\\n")}},4217:(gt,re,o)=>{"use strict";o.d(re,{Am:()=>d,Bq:()=>I,DU:()=>m,F7:()=>G,GE:()=>v,HO:()=>y,HQ:()=>K,PE:()=>w,Rm:()=>f,Xf:()=>p,Xm:()=>J,Zr:()=>te,a6:()=>S,dH:()=>_,ej:()=>me,gd:()=>j,st:()=>b});var e=o(467),n=o(9417),l=o(4046),h=o(841);let g="APP";function p(he){g=he}function f(he,Oe,we,We="debug",Xe=!1,Me=g){if(!window.jest&&(window.debug||Xe)){const ge=["color: #E91E63","color: #3F51B5","color: default"];we?console[We](`%c[${Me}]%c[${he}] %c${Oe}`,...ge,we):console[We](`%c[${Me}]%c[${he}] %c${Oe}`,...ge)}}function b(he,Oe){const we=he[0];return Oe&&we in Oe?he.length>1?b(he.slice(1),Oe[we]||{}):Oe[we]:null}function d(he=[],Oe=""){const we=[];return he.filter(We=>{const Xe=Oe?We[Oe]:We,Me=we.includes(Xe);return Me||we.push(Xe),!Me})}function y(he,Oe=0){return Math.floor(Math.random()*(he-Oe))+Oe}function m(he,Oe="abcdefghijklmnopqrstwvxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"){let we="";for(let We=0;We<he;We++)we+=Oe[y(Oe.length)];return we}function v(he,Oe){return O.apply(this,arguments)}function O(){return(O=(0,e.A)(function*(he,Oe){const we=Oe.open(h.B,{...h.f,data:he});return{...yield Promise.race([we.componentInstance.event.pipe((0,l.$)(We=>"done"===We.reason)).toPromise(),we.afterClosed().toPromise()]),loading:We=>we.componentInstance.loading=We,close:()=>we.close()}})).apply(this,arguments)}function S(he,Oe=","){const we=new RegExp('(\\,|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^\\,\\r\\n]*))',"gi");let We=null;const Xe=[[]];for(;We=we.exec(he);)We[1].length&&","!==We[1]&&Xe.push([]),Xe[Xe.length-1].push(We[2]?We[2]?.replace(new RegExp('""',"g"),'"'):We[3]);const Me=Xe.splice(0,1)[0];return Xe.map(pe=>{const Ee={};for(let Ge=0;Ge<pe.length;Ge++){const Qe=(Me[Ge]||"").split(" ").join("_").toLowerCase();try{Ee[Qe]=JSON.parse(pe[Ge]?.replace("|",","))}catch{Ee[Qe]=pe[Ge]||""}("TRUE"===Ee[Qe]||"FALSE"===Ee[Qe])&&(Ee[Qe]="TRUE"===Ee[Qe])}return Ee})}function w(he,Oe){const we=document.createElement("a");we.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(Oe)),we.setAttribute("download",he),we.style.display="none",document.body.appendChild(we),we.click(),document.body.removeChild(we)}function I(he){const Oe=[...he],we=[];for(;Oe.length;){const We=Oe.pop();Array.isArray(We)?Oe.push(...We):we.push(We)}return we.reverse()}function _(he,Oe,we,We){return he>=we&&he<We||we>=he&&we<Oe||Oe>we&&Oe<=We||We>he&&We<=Oe}function G(he,Oe=""){let we=[];for(const We in he.controls)he.controls[We]instanceof n.gE?we=[...we,...G(he.controls[We],`${We}.`)]:he.controls[We].valid||we.push(`${Oe}${We}`);return we}function J(he){for(const Oe in he)(null==he[Oe]||""===he[Oe])&&delete he[Oe]}function te(he){return`${he[0].toUpperCase()}${he.substring(1)}`}function K(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function j(he,Oe,we,We){const Me=W(we-he),ge=W(We-Oe);he=W(he),we=W(we);const pe=Math.sin(Me/2)*Math.sin(Me/2)+Math.sin(ge/2)*Math.sin(ge/2)*Math.cos(he)*Math.cos(we);return 2*Math.atan2(Math.sqrt(pe),Math.sqrt(1-pe))*6371}function W(he){return he*(Math.PI/180)}function ie(he){return[parseInt(he.slice(1,3),16),parseInt(he.slice(3,5),16),parseInt(he.slice(5,7),16)]}function me(he,Oe,we){const Me=function ce(he,Oe,we){let Xe=he[1]+(Oe[1]-he[1])*we,Me=he[2]+(Oe[2]-he[2])*we;return[Math.round(he[0]+(Oe[0]-he[0])*we),Math.round(Xe),Math.round(Me)]}(ie(he),ie(Oe),we);return function oe(he,Oe,we){function We(Xe){const Me=Xe.toString(16);return 1==Me.length?"0"+Me:Me}return"#"+We(he)+We(Oe)+We(we)}(Me[0],Me[1],Me[2])}!function B(he){let Oe=1779033703^he.length;for(let we=0;we<he.length;we++)Oe=Math.imul(Oe^he.charCodeAt(we),3432918353),Oe=Oe<<13|Oe>>>19;return function(){return Oe=Math.imul(Oe^Oe>>>16,2246822507),Oe=Math.imul(Oe^Oe>>>13,3266489909),(Oe^=Oe>>>16)>>>0}}("PlaceOS")()},3114:(gt,re,o)=>{"use strict";o.d(re,{p:()=>h});var e=o(4217),n=o(3953),l=o(345);let h=(()=>{class g{constructor(f){this.title=f,this.enabled=!0,this.app_name="GA_APP",this.timers={}}init(f=""){window.gtag||(window.dataLayer=window.dataLayer||[],function(b,d,y,R,m){b[R]=b[R]||[],b[R].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var v=d.getElementsByTagName(y)[0],O=d.createElement(y);O.async=!0,O.src="https://www.googletagmanager.com/gtm.js?id="+m,v.parentNode.insertBefore(O,v)}(window,document,"script","dataLayer",f),(0,e.Rm)("Analytics","Service","Injected Google Analytics into page")),this.service=window.gtag}push(f){window.dataLayer.push(f)}load(f){if(!this.enabled)throw new Error("Google Analytics needs to be enabled before being initialised");if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");(0,e.Rm)("Analytics","Service",`Setup with tracking ID: ${f}`),this.page("")}setUser(f){if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");this.enabled&&this.timeout(`user|${f}`,()=>{(0,e.Rm)("Analytics","Service",`Set user ID: ${f}`),this.service("set","userId",f),this.event("authentication","user-id available")},100)}send(f,b){if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");this.enabled&&this.timeout(`end|${f}`,()=>{this.push({...b,event:"event"})})}event(f,b,d,y){if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");this.enabled&&this.timeout(`event|${f}|${b}|${d}|${y}`,()=>{(0,e.Rm)("Analytics","Service",`Event: ${f}, ${b}${d?", "+d:""}${y?", "+y:""}`),this.push({event:"event",category:f,action:b,label:d})},100)}screen(f,b){if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");f&&this.enabled&&this.timeout(`event|${f}|${b||this.app_name}`,()=>{(0,e.Rm)("Analytics","Service",`Screen: ${f}${b?", "+b:""}`),this.push({event:"screenview",appName:b||this.app_name,screenName:f})},100)}page(f,b=!1){if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");this.enabled&&(this.last_route=f||"/",this.timeout(`page|${f}`,()=>{(0,e.Rm)("Analytics","Service",`Page: ${f}`),this.push({event:"pageview",url:`${b?location.origin:""}${f}`})},100))}timing(f,b,d,y){if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");this.enabled&&this.timeout(`page|${f}|${b}|${d}|${y}`,()=>{(0,e.Rm)("Analytics","Service",`Timing: ${f}, ${b}, ${d}${y?", "+y:""}`),this.push({event:"timing",category:f,variable:b,value:d,label:y})},100)}timeout(f,b,d=300){this.timers[f]&&(clearTimeout(this.timers[f]),delete this.timers[f]),this.timers[f]=setTimeout(()=>{b instanceof Function&&b(),delete this.timers[f]},d)}static#e=this.\u0275fac=function(b){return new(b||g)(n.KVO(l.hE))};static#t=this.\u0275prov=n.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()},7643:(gt,re,o)=>{"use strict";o.d(re,{d:()=>g});var e=o(9928),n=o(4217),l=o(3953);const h=["control","shift","alt","meta","os"];let g=(()=>{class p{constructor(){this.keydown_states={},this.keydown_observers={},this.combo_end=[],this.registered_combos=[],this.counter=0,window.addEventListener("keydown",b=>{const d=this.mapKey((b.code||"").toLowerCase());this.last_down!==d&&(this.keydown_states[d]||(this.keydown_states[d]=new e.t(null),this.keydown_observers[d]=this.keydown_states[d].asObservable()),this.keydown_states[d].next(++this.counter),this.combo_end.indexOf(d)>=0&&b.preventDefault(),this.last_down=d)}),window.addEventListener("keyup",b=>{const d=this.mapKey((b.code||"").toLowerCase());this.keydown_states[d]?.next(null),this.last_down===d&&(this.last_down=null)})}listen(b,d){const y=(b=b instanceof Array?b:b.split("+")).map(R=>this.mapKey(R.toLowerCase()));if(y.length>0&&this.validCombination(y)){this.registered_combos.push(y);const R=y[y.length-1];return this.keydown_states[R]||(this.keydown_states[R]=new e.t(null),this.keydown_observers[R]=this.keydown_states[R].asObservable()),this.updateCombinationEndList(),this.keydown_observers[R].subscribe(m=>{if(m){const v=[];if(y.length>0){for(const S of y){const P=this.keydown_states[S];v.push(P&&P.getValue()||-1)}for(let S=0;S<y.length-1;S++)if(v[S]>v[S+1])return}v.reduce((S,P)=>S+(P>0?1:-1),0)>=y.length&&d()}})}return null}mapKey(b){return b.indexOf("alt")>=0||b.indexOf("shift")>=0||b.indexOf("control")>=0?b.replace("left","").replace("right",""):b}updateCombinationEndList(){for(const d of this.registered_combos)this.combo_end.push(d[d.length-1]);this.combo_end=(0,n.Am)([])}validCombination(b){let d=0;for(const y of b)h.indexOf(y)<0&&d++;return d>0}static#e=this.\u0275fac=function(d){return new(d||p)};static#t=this.\u0275prov=l.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})()},9420:(gt,re,o)=>{"use strict";o.d(re,{_:()=>O,u:()=>v});var e=o(4233),n=o(2185),l=o(9928),h=o(9714),g=o(8728),p=o(3020),f=o(8841),b=o(5006),d=o(8712),y=o(5354),R=o(4217),m=o(3953),v=function(S){return S[S.GoogleMaps=0]="GoogleMaps",S[S.Mapbox=1]="Mapbox",S}(v||{});let O=(()=>{class S extends y.T{get map_keys(){return this._settings.get("app.maps_people.keys")||{}}get use_service(){return this._settings.get("app.maps_people.use_zones")||[]}get map_service(){return this._map_service.getValue()}get map_token(){return this._map_token.getValue()}get is_ready(){return this._ready.getValue()}constructor(M,w){super(),this._settings=M,this._org=w,this._map_service=new l.t(null),this._map_token=new l.t(""),this._ready=new l.t(!1),this._injected={},this._custom_zone=new l.t(""),this.available$=(0,h.zV)([this._org.active_building,this._custom_zone,this._org.initialised]).pipe((0,g.p)(([x])=>!!x),(0,p.B)(300),(0,f.M)(()=>this._injectMapsApiKeys()),(0,b.T)(([x,I])=>this.map_keys.mapsindoors&&(this.use_service.includes(I||x.id)||this.use_service.includes("*"))),(0,d.t)(1))}setCustomZone(M){this._custom_zone.next(M)}_injectMapsApiKeys(){(0,R.Rm)("MapsPeople","Initializing Maps API Keys"),this._ready.next(!1);const{mapsindoors:M,google:w,mapbox:x}=this.map_keys;if(M){if(M&&!this._injected.mapsindoors){const I=document.createElement("script");I.src=`https://app.mapsindoors.com/mapsindoors/js/sdk/4.35.0/mapsindoors-4.35.0.js.gz?apikey=${M}`,document.body.appendChild(I),this._injected.mapsindoors=!0}if(w&&x)return void(0,R.Rm)("MapsPeople","Both Google and Mapbox keys provided",void 0,"error");if(w&&!this._injected.google){const I=document.createElement("script");I.src=`https://maps.googleapis.com/maps/api/js?libraries=geometry&key=${w}`,document.body.appendChild(I),this._map_service.next(v.GoogleMaps),this._injected.google=!0}else if(x&&!this._injected.mapbox){const I=document.createElement("script");I.src="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.js",document.body.appendChild(I);const _=document.createElement("link");_.rel="stylesheet",_.href="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.css",document.head.appendChild(_),this._map_service.next(v.Mapbox),this._map_token.next(x),this._injected.mapbox=!0}(w||x)&&((0,R.Rm)("MapsPeople","Initialized Maps API Keys for "+(w?"Google Maps":"Mapbox")),this.timeout("ready",()=>this._ready.next(!0),300))}}static#e=this.\u0275fac=function(w){return new(w||S)(m.KVO(e.h),m.KVO(n.yb))};static#t=this.\u0275prov=m.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})()},9525:(gt,re,o)=>{"use strict";o.d(re,{To:()=>l,UG:()=>p,VX:()=>g,WS:()=>f,uA:()=>b});let e,n=!1;function l(d,y=!1){e=d,n=y}function h(d,y,R="OK",m,v={}){if(!e)return!n&&console.warn("Snackbar service hasn't been initialised");const O=e.open(y,R,{panelClass:[d],duration:5e3,...v});R&&(m=m||(()=>O.dismiss()),O.onAction().subscribe(()=>m()))}function g(d,y,R,m={}){!n&&console.debug(d),"string"!=typeof d&&(d="Success"),h("success",d,y,R,m)}function p(d,y,R,m={}){!n&&console.debug(d),"string"!=typeof d&&(d=d?.error||d?.message||"An error occurred"),h("error",d,y,R,m)}function f(d,y,R,m={}){!n&&console.debug(d),h("warn",d,y,R,m)}function b(d,y,R,m={}){!n&&console.debug(d),h("info",d,y,R,m)}},686:(gt,re,o)=>{"use strict";o.d(re,{V:()=>P});var e=o(467),n=o(5157),l=o(9928),h=o(5286),g=o(9714),p=o(4421),f=o(8712),b=o(8728),d=o(9090),y=o(5006),R=o(5354),m=o(4217),v=o(3953);function O(M,w,x){var I=M[w];return M[w]=(..._)=>{x(_),I.call(M,..._)},I}let S=localStorage.getItem("PLACEOS.DEVICE_ID")||`DEV-${(0,m.DU)(8)}`,P=(()=>{class M extends R.T{setMetadata(x){}constructor(){var x;super(),x=this,this._disable_handling=!1,this._system_id=new l.t(""),this._events=new h.B7,this._event_history=this._events.pipe((0,f.t)(2e4)),this._metadata=null,this._logging_bindings=this._system_id.pipe((0,b.p)(I=>!!I),(0,d.n)(I=>(0,g.zV)([(0,p.of)(I),this._bindTo(I,"enabled")])),(0,b.p)(([I,_])=>!!_),(0,y.T)(([I])=>this.subscription("post_events",this._event_history.subscribe(function(){var _=(0,e.A)(function*(C){x._disable_handling=!0,yield(0,n.f_4)(I,"Logger").execute("post_event",[C]).catch(),x._disable_handling=!1});return function(C){return _.apply(this,arguments)}}())))),this.history=this._event_history,localStorage.setItem("PLACEOS.DEVICE_ID",S),this._patchConsoleMethods(),this._logging_bindings.subscribe(),(0,m.Rm)("Logger","Remote logging initialised...")}setSystem(x){this._system_id.next(x)}_patchConsoleMethods(){const x=["log","debug","info","warn","error"];for(const I of x)O(console,I,(..._)=>this._handleEvent(I,_))}_handleEvent(x,I,_="console"){if(I.includes('"Logger"')||this._disable_handling)return;const C=[...I[0]];C[0]="string"==typeof C[0]?C[0].replace(/\%c/g,""):C[0],this._events.next({id:`${_}-${(0,m.HO)(9999999999)}`,device_id:S,type:_,subtype:x,timestamp:Date.now(),raw:I,data:C.filter(D=>"string"!=typeof D||!D.startsWith("color:")),metadata:this._metadata||null})}_bindTo(x,I,_="Logger"){const C=(0,n.f_4)(x,_).binding(I);return this.subscription(`bind:${I}`,C.bind()),C.listen()}static#e=this.\u0275fac=function(I){return new(I||M)};static#t=this.\u0275prov=v.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})()},4233:(gt,re,o)=>{"use strict";o.d(re,{h:()=>S});var e=o(467),n=o(9928),l=o(5157),h=o(5818),g=o(4361),p=o(4046),f=o(4217),b=o(3060),d=o(5354),y=o(3885),R=o(6202),m=o(3114),v=o(3953),O=o(345);let S=(()=>{class P extends d.T{set overrides(w){this._overrides.next(w),this._applyCssVariables()}listen(w){return this._observables[w]||(this._subjects[w]=new n.t(null),this._observables[w]=this._subjects[w].asObservable()),this._observables[w]}post(w,x){this._observables[w]||(this._subjects[w]=new n.t(null),this._observables[w]=this._subjects[w].asObservable()),this._subjects[w].next(x)}value(w){return this._observables[w]?this._subjects[w].getValue():null}get title(){return this._title.getTitle()}set title(w){this._title.setTitle(`${w} | ${this.get("app.name")||this._app_name}`),this.get("app.analytics.tracking_id")&&this._analytics?.send("pagename",{title:w})}constructor(w,x){super(),this._title=w,this._analytics=x,this._app_name="PlaceOS",this._overrides=new n.t([]),this._user_settings=new n.t({}),this._subjects={},this._observables={},this._pending_settings={};const I=new Date,_=new Date(y.x.time),C=(0,h.r)(I,_)?`Today at ${(0,g.GP)(_,"h:mma")}`:(0,g.GP)(_,"do MMM yyyy, h:mma");(0,f.Rm)("CORE",`${y.x.semver}`,null,"debug",!0),(0,f.Rm)("APP",`${y.x.hash} | Built: ${C}`,null,"debug",!0),this.init()}init(){var w=this;return(0,e.A)(function*(){w.get("debug")&&(window.debug=!0),w.get("app")?.name&&(w._app_name=w.get("app").name),w._app_name=location.pathname.replace(/[\\\/]/g,"").trim()||w._app_name,(0,f.Xf)(w._app_name.split("-").join("_").toUpperCase()),(0,f.Rm)("Settings","Successfully loaded settings"),w._initialised.next(!0),window.debug&&(window.application||(window.application={}),window.application.settings=w),w.subscription("user_settings",w._user_settings.subscribe(_=>w._applyUserSettings(_)));const x=yield R.U.pipe((0,p.$)(_=>!!_)).toPromise(),I=yield(0,l.bpY)(x.id,"settings").toPromise();w._user_settings.next(I.details||{}),w._initDarkMode(),w._applyTheme(),w._setFontSize()})()}get app_name(){return this._app_name}get time_format(){return this.get("app.use_24_hour_time")?"HH:mm":"h:mm a"}get(w){const x=w.split(".");if("app"!==x[0])return(0,f.st)(x,this._pending_settings)??(0,f.st)(x,this._user_settings.getValue())??(0,f.st)(x,b.a);const I=[...this._overrides.getValue()];for(const _ of I){const C=(0,f.st)(x.slice(1),_);if(null!=C)return C}return(0,f.st)(x,b.a)}saveUserSetting(w,x){this._pending_settings[w]=x,"dark_mode"===w&&this.setTheme(x?"dark":""),"font_size"===w&&this._setFontSize(),this.timeout("save_settings",()=>this._savePendingChanges(),5e3)}overrideCssVariable(w,x,I=!1){let _=document.getElementById(`css-var-overrides+${w}`);_||(_=document.createElement("style"),_.id=`css-var-overrides+${w}`,document.head.appendChild(_)),_.innerText=`html, body { --${w}: ${x} ${I?"!important":""}}`}setTheme(w){this.get("theme")!==w&&(this.saveUserSetting("theme",w),this._applyTheme())}_applyCssVariables(){const w=this.get("app.css_variables")||{};let x="body { ";for(const _ in w)x+=`--${_}: ${w[_]}; `;x+="}";let I=document.getElementById("css-var-overrides");I||(I=document.createElement("style"),I.id="css-var-overrides",document.head.appendChild(I)),I.innerText=x}_savePendingChanges(){var w=this;return(0,e.A)(function*(){const x=(0,R.N)();!x?.id||!Object.keys(w._pending_settings).length||(yield(0,l.D58)(x.id,{name:"settings",description:"",details:{...w._user_settings.getValue(),...w._pending_settings}}).toPromise(),w._user_settings.next({...w._user_settings.getValue(),...w._pending_settings}),w._pending_settings={})})()}_applyUserSettings(w){return(0,e.A)(function*(){})()}_setFontSize(){this.get("font_size")&&this.overrideCssVariable("font-size",`${this.get("font_size")}px`)}_applyTheme(){const w=this.get("theme"),x=document.body.classList.value.split(" ");for(const I of x)I.startsWith("theme-")&&document.body.classList.remove(I);w?document.body.classList.add(`theme-${w}`):document.body.classList.remove(`theme-${w}`)}_initDarkMode(){this.get("theme")}static#e=this.\u0275fac=function(x){return new(x||P)(v.KVO(O.hE),v.KVO(m.p,8))};static#t=this.\u0275prov=v.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})()},3060:(gt,re,o)=>{"use strict";o.d(re,{a:()=>d});const d={debug:!0,composer:{domain:"",route:"/staff",protocol:"",port:"",use_domain:!1,local_login:!1},app:{name:"Workplace",title:"Workplace Application",description:"PlaceOS Workplace UI written with Angular Framework",short_name:"STAFF",logo_light:{type:"img",src:"assets/logo-light.svg"},logo_dark:{type:"img",src:"assets/logo-dark.svg"},locales:[{id:"en",name:"English",flag:"\u{1f1e6}\u{1f1fa}"}],features:["spaces","desks","explore","parking","help","schedule","wfh","lockers","visitor-invite","group-events"],currency:"",default_route:"/landing",use_geolocation:!1,use_24_hour_time:!1,new_features:!0,can_deliver:!0,no_user_calendar:!1,basic_user_search:!1,no_maps:!0,general:{banner:{id:"2",type:"info",content:""},search:!0,dark_mode:!0},help:[{name:"About PlaceOS",link:"https://place.technology/resources",icon:{type:"icon",class:"material-icons",content:"dns"},background:"https://static1.squarespace.com/static/52142586e4b0c09536a144ad/5c8ed203a4222fa1927bbab3/5cb7cba66e9a7f63584b4d39/1555549341622/too-many-buttons.jpg?format=2500w"},{name:"General Enquiries",link:"mailto:equiries@place.technology?subject=Staff%20App%20Demo",icon:{type:"icon",class:"material-icons",content:"mail"},background:"assets/img/it-banner.jpg"},{name:"Contact PlaceOS",link:"https://place.technology/contact-1",icon:{type:"icon",class:"material-icons",content:"call"},background:"https://images.squarespace-cdn.com/content/v1/52142586e4b0c09536a144ad/1569984759306-M6ZOKD64OG009U68MYUL/ke17ZwdGBToddI8pDm48kCX-V5vw-8h9IBXN10-_8XN7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0p4Wyba38KfG317vYluk45_zZdtnDCZTLKcP2mivxmYi50xvY5saIGKMgOza9mH4XA/image-asset.jpeg?format=2500w"},{name:"About Us",link:"https://place.technology/",icon:{type:"icon",class:"material-icons",content:"business"},background:"https://images.squarespace-cdn.com/content/v1/52142586e4b0c09536a144ad/1569985184499-QF839PTJ2EV30KIZF59X/ke17ZwdGBToddI8pDm48kLkXF2pIyv_F2eUT9F60jBl7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0iyqMbMesKd95J-X4EagrgU9L3Sa3U8cogeb0tjXbfawd0urKshkc5MgdBeJmALQKw/image-asset.jpeg?format=2500w"}],events:{multiple_spaces:!1,desk_start:9,can_book_for_others:!1,has_catering:!0,has_assets:!0,catering_enabled:"bld-01",allow_all_day:!0,hide_notes:!1,hide_attendees:!1,features_label:"",features_on_form:!1,booking_unavailable:!1,allow_externals:!0,allow_recurrence:!1},space_display:{show_images:!1},directory:{show_avatars:!0,min_search_length:3},explore:{colors:{"space-free":"#43a047","space-pending":"#ffb300","space-busy":"#e53935","space-not-bookable":"#ccc","space-unknown":"#000","zone-low":"#43a047","zone-medium":"#ffb300","zone-high":"#e53935"},can_select_building:!0,show_legend_group_names:!0,show_legend:!0,hide_zones:!0,use_zone_polygons:!1,show_simple_sensor_info:!1,legend:[["Available","#43a047"],["In Use","#e53935"],["Pending","#ffb300"],["Signs of Life","#1565c0"]]},bookings:{no_approval:!1,all_day_default:!1,allowed_daily_visitor_count:100,multiple_visitors:!0},desks:{can_book_lockers:!0,can_book_for_others:!0,allow_groups:!0,allow_time_changes:!0,allow_all_day:!0,auto_allocation:!1,show_calendar_links:!0,hide_map:!1},analytics:{enabled:!0,tracking_id:""},chat:{enabled:!1},hide_contacts:!1,schedule:{use_websocket:!1,legend:[{name:"Accepted",color:"#21A453"},{name:"Pending",color:"#ffbf1f"},{name:"Rejected",color:"#f44336"}]}}}},7619:(gt,re,o)=>{"use strict";o.d(re,{mx:()=>xt,il:()=>Pt});var e=o(1113);const f={year:0,month:1,day:2,hour:3,minute:4,second:5},y={};function m(Le,De,V,ue,Q,Te,Je){const Nt=new Date(0);return Nt.setUTCFullYear(Le,De,V),Nt.setUTCHours(ue,Q,Te,Je),Nt}const v=36e5,O=6e4,S={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function w(Le,De){const V=function p(Le,De){const V=function R(Le){if(!y[Le]){const De=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z"));y[Le]="06/25/2014, 00:00:00"===De||"\u200e06\u200e/\u200e25\u200e/\u200e2014\u200e \u200e00\u200e:\u200e00\u200e:\u200e00"===De?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:Le,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:Le,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return y[Le]}(De);return"formatToParts"in V?function b(Le,De){try{const V=Le.formatToParts(De),ue=[];for(let Q=0;Q<V.length;Q++){const Te=f[V[Q].type];void 0!==Te&&(ue[Te]=parseInt(V[Q].value,10))}return ue}catch(V){if(V instanceof RangeError)return[NaN];throw V}}(V,Le):function d(Le,De){const V=Le.format(De),ue=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(V);return[parseInt(ue[3],10),parseInt(ue[1],10),parseInt(ue[2],10),parseInt(ue[4],10),parseInt(ue[5],10),parseInt(ue[6],10)]}(V,Le)}(Le,De),ue=m(V[0],V[1]-1,V[2],V[3]%24,V[4],V[5],0).getTime();let Q=Le.getTime();const Te=Q%1e3;return Q-=Te>=0?Te:1e3+Te,ue-Q}function I(Le,De){return-23<=Le&&Le<=23&&(null==De||0<=De&&De<=59)}const _={};function tt(Le,De){return-function P(Le,De,V){if(!Le)return 0;let Q,Te,ue=S.timezoneZ.exec(Le);if(ue)return 0;if(ue=S.timezoneHH.exec(Le),ue)return Q=parseInt(ue[1],10),I(Q)?-Q*v:NaN;if(ue=S.timezoneHHMM.exec(Le),ue){Q=parseInt(ue[2],10);const Je=parseInt(ue[3],10);return I(Q,Je)?(Te=Math.abs(Q)*v+Je*O,"+"===ue[1]?-Te:Te):NaN}if(function C(Le){if(_[Le])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:Le}),_[Le]=!0,!0}catch{return!1}}(Le)){De=new Date(De||Date.now());const Je=V?De:function M(Le){return m(Le.getFullYear(),Le.getMonth(),Le.getDate(),Le.getHours(),Le.getMinutes(),Le.getSeconds(),Le.getMilliseconds())}(De),Nt=w(Je,Le);return-(V?Nt:function x(Le,De,V){let Q=Le.getTime()-De;const Te=w(new Date(Q),V);if(De===Te)return De;Q-=Te-De;const Je=w(new Date(Q),V);return Te===Je?Te:Math.max(Te,Je)}(De,Nt,Le))}return NaN}(Le,De)}const xt=Intl?.DateTimeFormat()?.resolvedOptions()?.timeZone||"Australia/Sydney";function Pt(Le,De=xt){const V=tt(De)-tt(xt);return(0,e.A)(Le,V).valueOf()}},6202:(gt,re,o)=>{"use strict";o.d(re,{N:()=>v,U:()=>m});var e=o(5157),n=o(9928),l=o(8002),h=o(762);class p{constructor(S,P){this.count=S,this.source=P}call(S,P){return P.subscribe(new f(S,this.count,this.source))}}class f extends h.v{constructor(S,P,M){super(S),this.count=P,this.source=M}error(S){if(!this.isStopped){const{source:P,count:M}=this;if(0===M)return super.error(S);M>-1&&(this.count=M-1),P.subscribe(this._unsubscribeAndRecycle())}}}var b=o(5006),d=o(3693);const y=new d.Gp,R=new n.t(null),m=R.asObservable();function v(){return R.getValue()||y}setTimeout(()=>{try{if(jest)return}catch{}(0,e.VLL)("current").pipe((0,l.c)(1e3),function g(O=-1){return S=>S.lift(new p(O,S))}(10),(0,b.T)(O=>new d.Gp(O))).subscribe(O=>R.next(O))},300)},3885:(gt,re,o)=>{"use strict";o.d(re,{x:()=>e});const e={dirty:!1,raw:"10af837",hash:"10af837",distance:null,tag:null,semver:null,suffix:"10af837",semverString:null,version:"1.12.0",time:1722920152573}},4351:(gt,re,o)=>{"use strict";o.d(re,{Rt:()=>ne.R,hO:()=>we,l4:()=>J.l,hI:()=>e.h,In:()=>A.I,Dd:()=>A.D,Nw:()=>P.N,VJ:()=>U.V,VT:()=>x.V,J3:()=>C,KO:()=>G.K,z:()=>O,NV:()=>te.N});var e=o(846),h=(o(3938),o(841),o(9707));o(4418);var v=o(3953);let O=(()=>{class We{static#e=this.\u0275fac=function(ge){return new(ge||We)};static#t=this.\u0275cmp=v.VBU({type:We,selectors:[["app-unauthorised"]],decls:9,vars:0,consts:()=>{let Me,ge,pe;return Me=$localize`:␟56a20d819b6e59b0de025988a3f9ed7d6a1bc08c␟4136336337692896315:Access forbidden.`,ge=$localize`:␟7afe2eb69e486929c5a29d67e6f24975f97604c4␟8887025903012875176: You do not have permission to view this page and your access attempt has been recorded. `,pe=$localize`:␟1520ecc736c82366b62d64a515b1c3b222c9e1df␟1824441478452454363: Contact your Administrator if you feel that you should have access. `,[Me,ge,pe,[1,"unauthorised","rounded","m-4","text-center","bg-base-100","text-black","border","border-base-200","p-4","shadow"],[1,"text-4xl"],[1,"text-2xl"],[1,"py-4"]]},template:function(ge,pe){1&ge&&(v.j41(0,"div",3)(1,"h1",4),v.EFF(2,"403"),v.k0s(),v.j41(3,"h3",5),v.pXf(4,0),v.k0s(),v.j41(5,"p",6),v.pXf(6,1),v.k0s(),v.j41(7,"p"),v.pXf(8,2),v.k0s()())},styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center}.unauthorised[_ngcontent-%COMP%]{width:28em;max-width:calc(100vw - 1rem)}@media (prefers-color-scheme: dark){.unauthorised[_ngcontent-%COMP%]{background-color:#262626;color:#fff}}"]})}return We})();o(1193);var P=o(4918),x=(o(9489),o(877),o(1865));o(5384),o(2124);let C=(()=>{class We{static#e=this.\u0275fac=function(ge){return new(ge||We)};static#t=this.\u0275cmp=v.VBU({type:We,selectors:[["app-misconfigured"]],decls:7,vars:0,consts:()=>{let Me,ge,pe;return Me=$localize`:@@forbiddenLabel␟182e7b1880a89160c510e11db17c3137d00fed03␟6873959187081594674: Application Misconfigured. `,ge=$localize`:@@invalidPermissionLabel␟8ae6c247ea026216ce78c84ad733caad125e7429␟8256914760043331527: This application requires a zone of type org, building and level to operate. `,pe=$localize`:@@contactAdminLabel␟511dd82ef95cf509a8d011fa1191ee690b27114c␟5752634679579289146: If this issue persists please contact your administrator. `,[Me,ge,pe,["content","",1,"rounded","m-4","text-center","bg-base-100","text-black","border","border-base-200","p-4","shadow"],[1,"text-2xl"],[1,"py-4"]]},template:function(ge,pe){1&ge&&(v.j41(0,"div",3)(1,"h3",4),v.pXf(2,0),v.k0s(),v.j41(3,"p",5),v.pXf(4,1),v.k0s(),v.j41(5,"p"),v.pXf(6,2),v.k0s()())},styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center}[content][_ngcontent-%COMP%]{width:28em;max-width:calc(100vw - 1rem)}@media (prefers-color-scheme: dark){[content][_ngcontent-%COMP%]{background-color:#262626;color:#fff}}"]})}return We})();o(2734);var A=o(2238),U=(o(4616),o(5080),o(4921),o(620)),G=o(8283),J=o(5991),te=o(4633),ne=o(5843),k=(o(375),o(5157)),W=o(467),ie=o(4046),ce=o(9714),oe=o(4233),me=o(8026),he=o(2091);class Oe{}let we=(()=>{class We{constructor(Me,ge,pe,Ee){this._router=Me,this._settings=ge,this._org=pe,this._access=Ee}canActivate(Me,ge){var pe=this;return(0,W.A)(function*(){return pe.checkUser()})()}canLoad(Me,ge){var pe=this;return(0,W.A)(function*(){return pe.checkUser()})()}checkUser(){var Me=this;return(0,W.A)(function*(){yield(0,ce.zV)([(0,k.XYg)(),Me._org.initialised]).pipe((0,ie.$)(([Ge,Qe])=>Ge&&Qe)).toPromise();const ge=yield h.U5.pipe((0,ie.$)(Ge=>!!Ge)).toPromise(),pe=Me._access?.group?[Me._access.group]:Me._settings.get("app.allow_access_groups")||[],Ee=!(!ge||pe.length&&!pe.find(Ge=>ge.groups.includes(Ge)));return Ee||Me._router.navigate(["/unauthorised"]),!!Ee})()}static#e=this.\u0275fac=function(ge){return new(ge||We)(v.KVO(he.Ix),v.KVO(oe.h),v.KVO(me.y),v.KVO(Oe,8))};static#t=this.\u0275prov=v.jDH({token:We,factory:We.\u0275fac,providedIn:"root"})}return We})()},6539:(gt,re,o)=>{"use strict";o.d(re,{B:()=>R});var e=o(9707),n=o(4351),l=o(3953),h=o(177),g=o(9417),p=o(3881),f=o(450),b=o(9434);function d(m,v){if(1&m){const O=l.RV6();l.j41(0,"div",9)(1,"div",10)(2,"app-icon",11),l.EFF(3,"mode_night"),l.k0s()(),l.j41(4,"div",12),l.pXf(5,2),l.k0s(),l.j41(6,"mat-slide-toggle",13),l.bIt("ngModelChange",function(P){l.eBV(O);const M=l.XpG();return l.Njj(M.setDarkMode(P))}),l.k0s()()}if(2&m){const O=l.XpG();l.R7$(6),l.Y8G("ngModel",O.dark_mode)}}function y(m,v){if(1&m){const O=l.RV6();l.qex(0),l.j41(1,"div",15),l.pXf(2,3),l.k0s(),l.j41(3,"div",16)(4,"span",17),l.EFF(5,"A"),l.k0s(),l.j41(6,"mat-slider",18)(7,"input",19),l.bIt("ngModelChange",function(P){l.eBV(O);const M=l.XpG();return l.Njj(M.applySetting("font_size",P))}),l.k0s()(),l.j41(8,"span",6),l.EFF(9,"A"),l.k0s(),l.j41(10,"span",20),l.EFF(11),l.k0s()(),l.bVm()}if(2&m){const O=l.XpG();l.R7$(6),l.Y8G("min",10)("max",24)("step",2),l.R7$(),l.Y8G("ngModel",O.font_size),l.R7$(4),l.SpI(" ",O.font_size,"px ")}}let R=(()=>{class m extends e.Tv{get dark_mode(){return"dark"===this._settings.get("theme")}get can_change_dark_mode(){return!!this._settings.get("app.general.dark_mode")}get accessible(){return!!this._settings.get("accessible")}get font_size(){return this._settings.get("font_size")||16}constructor(O,S){super(),this._data=O,this._settings=S,this.applySetting=(P,M)=>this.timeout("apply_setting",()=>this._settings.saveUserSetting(P,M),1e3),this.close=()=>this._data?.close()}setDarkMode(O){const S=this._settings.get("theme");O&&"dark"!==S?this._settings.setTheme("dark"):!O&&"dark"===S&&this._settings.setTheme("light")}static#e=this.\u0275fac=function(S){return new(S||m)(l.rXU(n.Dd),l.rXU(e.h$))};static#t=this.\u0275cmp=l.VBU({type:m,selectors:[["accessibility-tooltip"]],features:[l.Vt3],decls:15,vars:3,consts:()=>{let O,S,P,M;return O=$localize`:␟d22b673a92b43eabbdebd80b1539a553703c84f6␟6572705143012462182:Display & Accessibility`,S=$localize`:␟0f027c150c7e9465a5cdf64c4d07c33aca92384d␟127744830115363320:Large Accessibility Sizes`,P=$localize`:␟c943d5ecc32b916a210d7c984fe5f55771ad0b1a␟3279636347259347513:Dark Mode`,M=$localize`:␟3fc32876e34616b005d861eafe737cf4d2793184␟8609643488577372847: Adjust your preferred reading size below. `,[O,S,P,M,[1,"flex","flex-col","w-[18.5rem]","rounded","bg-base-100","shadow","relative","-top-12","-right-1","overflow-hidden"],[1,"flex","items-center","space-x-2","p-2",3,"click"],[1,"text-2xl"],[1,""],["action","","class","flex items-center space-x-2 w-full text-left h-auto px-4",4,"ngIf"],["action","",1,"flex","items-center","space-x-2","w-full","text-left","h-auto","px-4"],[1,"flex","items-center","justify-center","rounded-full","w-8","h-8","bg-base-200","my-2"],[1,"text-xl"],[1,"flex-1","text-sm"],[3,"ngModelChange","ngModel"],[4,"ngIf"],[1,"px-8","py-4","bg-base-200","text-center"],[1,"flex","items-center","px-4","space-x-4"],[1,"text-sm"],[1,"flex-1","w-1/2","text-[16px]",3,"min","max","step"],["matSliderThumb","",1,"text-[16px]",3,"ngModelChange","ngModel"],[1,"text-base","py-1","px-2","rounded","bg-base-300","text-white","my-2"]]},template:function(S,P){1&S&&(l.j41(0,"div",4)(1,"div",5),l.bIt("click",function(){return P.close()}),l.j41(2,"app-icon",6),l.EFF(3,"arrow_back"),l.k0s(),l.j41(4,"div",7),l.pXf(5,0),l.k0s()(),l.DNE(6,d,7,1,"div",8),l.j41(7,"div",9)(8,"div",10)(9,"app-icon",11),l.EFF(10,"playlist_add"),l.k0s()(),l.j41(11,"div",12),l.pXf(12,1),l.k0s(),l.j41(13,"mat-slide-toggle",13),l.bIt("ngModelChange",function(w){return P.applySetting("accessible",w)}),l.k0s()(),l.DNE(14,y,12,5,"ng-container",14),l.k0s()),2&S&&(l.R7$(6),l.Y8G("ngIf",P.can_change_dark_mode),l.R7$(7),l.Y8G("ngModel",P.accessible),l.R7$(),l.Y8G("ngIf",P.accessible))},dependencies:[h.bT,g.me,g.BC,g.vS,p.IV,p.OU,f.sG,b.R],styles:["[_nghost-%COMP%] > div[_ngcontent-%COMP%] > [action][_ngcontent-%COMP%]{border-top:1px solid #ccc}"]})}return m})()},5843:(gt,re,o)=>{"use strict";o.d(re,{R:()=>x});var e=o(3953),n=o(4006),l=o(9707),h=o(177),g=o(9417),p=o(6600),f=o(9115),b=o(3719),d=o(2798),y=o(9631),R=o(2765),m=o(9434);function v(I,_){1&I&&(e.j41(0,"button",8)(1,"app-icon"),e.EFF(2,"close"),e.k0s()())}function O(I,_){if(1&I){const C=e.RV6();e.j41(0,"div",9)(1,"mat-checkbox",10),e.bIt("ngModelChange",function(A){e.eBV(C);const B=e.XpG();return e.Njj(B.saveNotesSetting(A))}),e.EFF(2," Require notes for orders "),e.k0s()()}if(2&I){const C=e.XpG();e.R7$(),e.Y8G("ngModel",C.require_notes)}}function S(I,_){if(1&I&&(e.j41(0,"mat-option",28),e.EFF(1),e.k0s()),2&I){const C=_.$implicit;e.Y8G("value",C.id),e.R7$(),e.SpI(" ",C.name," ")}}function P(I,_){if(1&I){const C=e.RV6();e.j41(0,"div",22),e.nrm(1,"div",23),e.j41(2,"mat-form-field",13)(3,"mat-select",24),e.mxI("ngModelChange",function(A){const B=e.eBV(C).$implicit;return e.DH7(B[0],A)||(B[0]=A),e.Njj(A)}),e.DNE(4,S,2,2,"mat-option",25),e.k0s()(),e.j41(5,"mat-form-field",13)(6,"input",26),e.mxI("ngModelChange",function(A){const B=e.eBV(C).$implicit;return e.DH7(B[1],A)||(B[1]=A),e.Njj(A)}),e.k0s(),e.j41(7,"mat-error"),e.EFF(8,"Rule value is required"),e.k0s()(),e.j41(9,"button",27),e.bIt("click",function(){const A=e.eBV(C).index,B=e.XpG().$implicit;return e.Njj(B.rules.splice(A,1))}),e.j41(10,"app-icon"),e.EFF(11,"delete"),e.k0s()()()}if(2&I){const C=_.$implicit,D=e.XpG(2);e.R7$(3),e.R50("ngModel",C[0]),e.R7$(),e.Y8G("ngForOf",D.rule_types),e.R7$(2),e.R50("ngModel",C[1])}}function M(I,_){if(1&I){const C=e.RV6();e.j41(0,"div",11)(1,"div",12)(2,"mat-form-field",13)(3,"input",14),e.mxI("ngModelChange",function(A){const B=e.eBV(C).$implicit;return e.DH7(B.name,A)||(B.name=A),e.Njj(A)}),e.k0s(),e.j41(4,"mat-error"),e.EFF(5,"Ruleset name is required"),e.k0s()(),e.j41(6,"button",15)(7,"app-icon"),e.EFF(8,"more_vert"),e.k0s()(),e.j41(9,"mat-menu",null,0)(11,"button",16),e.bIt("click",function(){const A=e.eBV(C).$implicit,B=e.XpG();return A.rules.push(["",""]),e.Njj(B.show_rules=A.id)}),e.j41(12,"div",17)(13,"app-icon",18),e.EFF(14,"add"),e.k0s(),e.j41(15,"div"),e.EFF(16,"Add Rule"),e.k0s()()(),e.j41(17,"button",16),e.bIt("click",function(){const A=e.eBV(C).$implicit,B=e.XpG();return e.Njj(B.show_rules=B.show_rules!==A.id?A.id:"")}),e.j41(18,"div",17)(19,"app-icon",18),e.EFF(20),e.k0s(),e.j41(21,"div"),e.EFF(22),e.k0s()()(),e.j41(23,"button",16),e.bIt("click",function(){const A=e.eBV(C).index,B=e.XpG();return e.Njj(B.rulesets.splice(A,1))}),e.j41(24,"div",19)(25,"app-icon",18),e.EFF(26,"delete"),e.k0s(),e.j41(27,"div"),e.EFF(28,"Remove Ruleset"),e.k0s()()()()(),e.j41(29,"div",20),e.DNE(30,P,12,3,"div",21),e.k0s()()}if(2&I){const C=_.$implicit,D=e.sdS(10),A=e.XpG();e.R7$(3),e.R50("ngModel",C.name),e.R7$(3),e.Y8G("matMenuTriggerFor",D),e.R7$(14),e.JRh(A.show_rules===C.id?"expand_less":"expand_more"),e.R7$(2),e.SpI(" ",A.show_rules===C.id?"Hide":"Show"," Rules "),e.R7$(7),e.xc7("height",(A.show_rules===C.id?4*C.rules.length:0)+"em"),e.R7$(),e.Y8G("ngForOf",C.rules)}}const w=[{id:"after_hour",name:"After Hour of Day"},{id:"before_hour",name:"Before Hour of Day"},{id:"min_length",name:"Min. Meeting Length"},{id:"max_length",name:"Max. Meeting Length"},{id:"is_before",name:"Is Hours before Meeting"},{id:"within_hours",name:"Within Hours before Meeting"},{id:"visitor_type",name:"Visitor Type"},{id:"groups",name:"User in Groups"}];let x=(()=>{class I extends l.Tv{get new_id(){return"ruleset-"+Math.floor(99999999*Math.random())}get can_save_notes(){return!!this._data.saveNotes}constructor(C){super(),this._data=C,this.event=new e.bkB,this.loading=!1,this.require_notes=this._data.require_notes,this.resource_name=this._data.resource_name||"Catering",this.rule_types=w,this.rulesets=(C.config||[]).map(D=>(D.rules=D.rules.map(A=>[A[0],JSON.stringify(A[1])]),D))}saveNotesSetting(C){this.timeout("save-notes",()=>this._data.saveNotes?this._data.saveNotes(C):"",1e3)}saveChanges(){this.loading=!0;const C=this.rulesets.map(D=>({...D,rules:D.rules.map(A=>{let B=A[1];try{B=JSON.parse(A[1])}catch{}return[A[0],B]})}));this.event.emit({reason:"done",metadata:C})}static#e=this.\u0275fac=function(D){return new(D||I)(e.rXU(n.Vh))};static#t=this.\u0275cmp=e.VBU({type:I,selectors:[["attached-resource-config-modal"]],outputs:{event:"event"},features:[e.Vt3],decls:12,vars:4,consts:[["menu","matMenu"],["icon","","mat-dialog-close","",4,"ngIf"],[1,"overflow-auto","text-center","max-w-lg","min-w-[32rem]","px-4","pt-2","pb-4","space-y-2"],["class","text-left p-2 rounded bg-base-200",4,"ngIf"],["btn","","matRipple","",1,"w-full",3,"click"],["class","ruleset mb-2",4,"ngFor","ngForOf"],[1,"flex","py-2","px-4","items-center","justify-end","border-t","border-solid","border-base-200"],["btn","","matRipple","",1,"w-36",3,"click"],["icon","","mat-dialog-close",""],[1,"text-left","p-2","rounded","bg-base-200"],[3,"ngModelChange","ngModel"],[1,"ruleset","mb-2"],[1,"flex","items-center","mb-2","space-x-2"],["appearance","outline",1,"flex-1","no-subscript"],["matInput","","name","name","placeholder","Zone ID, Category or Tag","required","",3,"ngModelChange","ngModel"],["icon","","matRipple","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],[1,"flex","items-center","space-x-2"],[1,"text-2xl"],[1,"flex","items-center","space-x-2","text-error"],["name","rules",1,"overflow-hidden"],["class","flex items-center pl-7 h-16 space-x-2 relative",4,"ngFor","ngForOf"],[1,"flex","items-center","pl-7","h-16","space-x-2","relative"],[1,"absolute","left-3","top-1/2","-translate-y-full","w-4","h-32","border-b-2","border-l-2","border-base-200"],["name","booking-type","placeholder","Select Rule",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["matInput","","name","value","placeholder","Rule value","required","",3,"ngModelChange","ngModel"],["icon","","matRipple","",3,"click"],[3,"value"]],template:function(D,A){1&D&&(e.j41(0,"header")(1,"h3"),e.EFF(2),e.k0s(),e.DNE(3,v,3,0,"button",1),e.k0s(),e.j41(4,"main",2),e.DNE(5,O,3,1,"div",3),e.j41(6,"button",4),e.bIt("click",function(){return A.rulesets.push({id:A.new_id,rules:[]})}),e.EFF(7," New Ruleset "),e.k0s(),e.DNE(8,M,31,7,"div",5),e.k0s(),e.j41(9,"footer",6)(10,"button",7),e.bIt("click",function(){return A.saveChanges()}),e.EFF(11," Save Changes "),e.k0s()()),2&D&&(e.R7$(2),e.SpI("Edit ",A.resource_name," Configuration"),e.R7$(),e.Y8G("ngIf",!A.loading),e.R7$(2),e.Y8G("ngIf",A.can_save_notes),e.R7$(3),e.Y8G("ngForOf",A.rulesets))},dependencies:[h.Sq,h.bT,g.me,g.BC,g.YS,g.vS,p.wT,f.kk,f.fb,f.Cp,b.rl,b.TL,d.VO,p.r6,n.tx,y.fg,R.So,m.R],styles:["[name=rules][_ngcontent-%COMP%]{transition:height .2s}"]})}return I})()},3208:(gt,re,o)=>{"use strict";o.d(re,{U:()=>p});var e=o(467),n=o(9707),l=o(5157),h=o(3953);const g=new Map;let p=(()=>{class f extends n.Tv{constructor(d){super(),this._image_el=d}ngOnChanges(d){d.source&&this.source&&this._loadImage()}_loadImage(){var d=this;return(0,e.A)(function*(){if(!d._image_el||!(0,l.kup)())return d.timeout("load",()=>d._loadImage(),300);if(!d.source.includes("/api/engine/v2/uploads"))return void(d._image_el.nativeElement.src=d.source);if(g.has(d.source))return void(d._image_el.nativeElement.src=g.get(d.source));const y=(0,l.ShT)();console.log("Image Token:",y),document.cookie=`${"x-api-key"===y?"api-key="+encodeURIComponent((0,l.Kz4)()):"bearer_token="+encodeURIComponent(y)};max-age=30;path=/api/engine/v2/uploads;samesite=strict;${"https:"===location.protocol?"secure;":""}`;const m=yield(yield fetch(d.source)).blob(),v=URL.createObjectURL(m);g.set(d.source,v),d._image_el.nativeElement.src=v})()}static#e=this.\u0275fac=function(y){return new(y||f)(h.rXU(h.aKT))};static#t=this.\u0275dir=h.FsC({type:f,selectors:[["img","auth",""]],inputs:{source:"source"},features:[h.Vt3,h.OA$]})}return f})()},375:(gt,re,o)=>{"use strict";o.d(re,{D:()=>P});var e=o(467),n=o(3953),l=o(9707),h=o(2185),g=o(8363),p=o(9493),f=o(4006),b=o(177),d=o(6600),y=o(9183),R=o(2765),m=o(9434);function v(M,w){if(1&M){const x=n.RV6();n.j41(0,"tr",14),n.bIt("click",function(){const _=n.eBV(x).$implicit,C=n.XpG(2);return n.Njj(C.toggleRoom(_.id))}),n.j41(1,"td"),n.nrm(2,"mat-checkbox",15),n.k0s(),n.j41(3,"td"),n.EFF(4),n.k0s(),n.j41(5,"td",16)(6,"div",17),n.EFF(7),n.k0s()()()}if(2&M){const x=w.$implicit,I=n.XpG(2);n.R7$(2),n.Y8G("checked",I.selected.includes(x.id)),n.R7$(2),n.JRh(x.display_name||x.name),n.R7$(2),n.AVh("bg-success",!(null!=I.disabled_rooms&&I.disabled_rooms.includes(x.id)))("bg-error",null==I.disabled_rooms?null:I.disabled_rooms.includes(x.id)),n.R7$(),n.SpI(" ",null!=I.disabled_rooms&&I.disabled_rooms.includes(x.id)?"Disabled":"Enabled"," ")}}function O(M,w){if(1&M){const x=n.RV6();n.j41(0,"main",7)(1,"table",8)(2,"thead",9)(3,"tr")(4,"td",10),n.bIt("click",function(){n.eBV(x);const _=n.XpG();return n.Njj(_.toggleRoom("*"))}),n.nrm(5,"mat-checkbox",11),n.nI1(6,"async"),n.nI1(7,"async"),n.k0s(),n.nrm(8,"td"),n.j41(9,"td",12),n.EFF(10),n.nI1(11,"async"),n.k0s()()(),n.j41(12,"tbody"),n.DNE(13,v,8,7,"tr",13),n.nI1(14,"async"),n.k0s()()()}if(2&M){let x,I,_;const C=n.XpG();n.R7$(5),n.Y8G("checked",(null==(x=n.bMT(6,4,C.rooms))?null:x.length)===C.selected.length)("indeterminate",C.selected.length>0&&(null==(I=n.bMT(7,6,C.rooms))?null:I.length)!==C.selected.length),n.R7$(5),n.SpI(" ",null==(_=n.bMT(11,8,C.rooms))?null:_.length," Room(s) "),n.R7$(3),n.Y8G("ngForOf",n.bMT(14,10,C.rooms))}}function S(M,w){1&M&&(n.j41(0,"main",18),n.nrm(1,"mat-spinner",19),n.j41(2,"p"),n.EFF(3,"Saving disabled room list..."),n.k0s()())}let P=(()=>{class M{constructor(x,I){this._data=x,this._org=I,this.change=new n.bkB,this.loading=!1,this.selected=[],this.rooms=(0,g.Ot)(this._org.building.id),this.type=this._data.type,this.disabled_rooms=this._data.disabled_rooms}toggleRoom(x){var I=this;return(0,e.A)(function*(){if("*"===x){const _=yield I.rooms.pipe((0,p.s)(1)).toPromise();I.selected=I.selected.length!==_.length?_.map(C=>C.id):[]}else I.selected=I.selected.includes(x)?I.selected.filter(_=>_!==x):[...I.selected,x]})()}enableSelected(){var x=this;return(0,e.A)(function*(){x.loading=!0;const _=x.disabled_rooms.filter(C=>!x.selected.includes(C));x.disabled_rooms=_,x.change.next(_)})()}disableSelected(){var x=this;return(0,e.A)(function*(){x.loading=!0;const _=(0,l.Am)(x.disabled_rooms.concat(x.selected));x.disabled_rooms=_,x.change.next(_)})()}static#e=this.\u0275fac=function(I){return new(I||M)(n.rXU(f.Vh),n.rXU(h.yb))};static#t=this.\u0275cmp=n.VBU({type:M,selectors:[["catering-rooms-state-modal"]],outputs:{change:"change"},decls:15,vars:3,consts:[["load_state",""],[1,"flex","items-center","justify-between","p-2"],[1,"p-2"],["icon","","mat-dialog-close",""],["class","max-h-[65vh] overflow-auto",4,"ngIf","ngIfElse"],[1,"flex","items-center","p-2","justify-end","space-x-2","border-t","border-base-200"],["btn","","matRipple","",3,"click"],[1,"max-h-[65vh]","overflow-auto"],[1,"min-w-[32rem]"],[1,"border-b","border-base-200"],[1,"w-12",3,"click"],[1,"pointer-events-none",3,"checked","indeterminate"],[1,"text-right","text-xs"],["class","hover:bg-neutral:bg-base-100/5",3,"click",4,"ngFor","ngForOf"],[1,"hover:bg-neutral:bg-base-100/5",3,"click"],[1,"pointer-events-none",3,"checked"],[1,"text-center"],[1,"ml-auto","px-3","py-1","rounded-2xl","text-white","w-24"],[1,"w-64","h-48","p-8","flex","flex-col","items-center","justify-center","space-y-2"],["diameter","32"]],template:function(I,_){if(1&I){const C=n.RV6();n.j41(0,"div")(1,"header",1)(2,"h3",2),n.EFF(3),n.k0s(),n.j41(4,"button",3)(5,"app-icon"),n.EFF(6,"close"),n.k0s()()(),n.DNE(7,O,15,12,"main",4),n.j41(8,"footer",5)(9,"button",6),n.bIt("click",function(){return n.eBV(C),n.Njj(_.enableSelected())}),n.EFF(10," Enable Selected "),n.k0s(),n.j41(11,"button",6),n.bIt("click",function(){return n.eBV(C),n.Njj(_.disableSelected())}),n.EFF(12," Disable Selected "),n.k0s()()(),n.DNE(13,S,4,0,"ng-template",null,0,n.C5r)}if(2&I){const C=n.sdS(14);n.R7$(3),n.SpI("Set ",_.type," Availability for Rooms"),n.R7$(4),n.Y8G("ngIf",!_.loading)("ngIfElse",C)}},dependencies:[b.Sq,b.bT,d.r6,f.tx,y.LG,R.So,m.R,b.Jj],styles:["td[_ngcontent-%COMP%]{padding:.5rem}"]})}return M})()},3938:(gt,re,o)=>{"use strict";o.d(re,{J:()=>p});var e=o(3953),n=o(5157),l=o(9707),h=o(4046),g=o(8728);let p=(()=>{class f extends l.Tv{constructor(d,y){super(),this._element=d,this._renderer=y,this.sys="",this.mod="",this.index=1,this.bind="",this.exec="",this.delay=100,this.on_event="",this.params=null,this.ignore=!1,this.model=null,this.modelChange=new e.bkB,this._binding=!1,this._old_model=null}ngOnInit(){(0,n.XYg)()?.pipe((0,h.$)(d=>d)).subscribe(d=>this.bindVariable())}ngOnChanges(d){(d.sys||d.mod||d.bind)&&this.bindVariable(),d.model&&this._old_model!==this.model&&null!=this.model&&(this._old_model=this.model,this.execute()),d.on_event&&this.on_event&&this.subscription("on_event",this._renderer.listen(this._element.nativeElement,this.on_event,()=>this.execute()))}bindVariable(){(0,n.kup)()&&this.bind&&this.sys&&this.mod&&!this._binding&&this.timeout("bind",()=>{const y=(0,n.f_4)(this.sys,this.mod,this.index).binding(this.bind);this._binding=!0,this.subscription("binding",y.bind()),this.subscription("on_changes",y.listen().pipe((0,g.p)(R=>null!=R)).subscribe(R=>{setTimeout(()=>{this._binding=!1,this.clearTimeout("bound"),!this.ignore&&(this.model=R,this._old_model=this.model,this.modelChange.emit(this.model))},10)})),this.timeout("bound",()=>this._binding=!1,200)},20)}execute(){(0,n.kup)()&&this.exec&&this.sys&&this.mod&&!this._timers.execute&&this.timeout("execute",()=>{const d=(0,n.f_4)(this.sys,this.mod,this.index);let y=this.params;this.bind&&(y=this.params||[this.model]),d.execute(this.exec,y||[]).then(R=>{this.bind||(this.model=R,this._old_model=this.model,this.modelChange.emit(this.model))})},this.delay)}static#e=this.\u0275fac=function(y){return new(y||f)(e.rXU(e.aKT),e.rXU(e.sFG))};static#t=this.\u0275dir=e.FsC({type:f,selectors:[["i","bind",""],["","binding",""],["co-bind"]],inputs:{sys:"sys",mod:"mod",index:"index",bind:"bind",exec:"exec",delay:"delay",on_event:[0,"onEvent","on_event"],params:"params",ignore:"ignore",model:"model"},outputs:{modelChange:"modelChange"},features:[e.Vt3,e.OA$]})}return f})()},5550:(gt,re,o)=>{"use strict";o.d(re,{C:()=>d});var e=o(4351),n=o(2185),l=o(3953),h=o(177),g=o(9417),p=o(5951),f=o(9434);function b(y,R){if(1&y){const m=l.RV6();l.j41(0,"mat-radio-button",8),l.bIt("click",function(){const O=l.eBV(m).$implicit,S=l.XpG();return l.Njj(S.setBuilding(O))}),l.EFF(1),l.k0s()}if(2&y){const m=R.$implicit;l.Y8G("value",m.id),l.R7$(),l.SpI(" ",m.display_name||m.name," ")}}let d=(()=>{class y{constructor(m,v){this._data=m,this._org=v,this.buildings=this._org.active_buildings,this.building=this._org.active_building,this.setBuilding=O=>{this._org.building=O,this._org.saveBuilding(O.id),this._data?.close()},this.close=()=>this._data?.close()}static#e=this.\u0275fac=function(v){return new(v||y)(l.rXU(e.Dd),l.rXU(n.yb))};static#t=this.\u0275cmp=l.VBU({type:y,selectors:[["building-select"]],decls:14,vars:11,consts:()=>{let m;return m=$localize`:␟f6bc545a20f571c426f74d4d3522b71334f2b845␟4543839253815117286: Select a building location `,[m,[1,"flex","flex-col","w-[18.5rem]","rounded","bg-base-100","shadow","p-2","relative","-top-12","-right-1","overflow-auto","max-h-[65vh]",3,"click"],[1,"flex","items-center","space-x-2"],[1,"text-2xl"],[1,""],[1,"text-xs","opacity-60","mb-4","px-2"],[1,"flex","flex-col","space-y-2","px-2",3,"ngModel"],[3,"value","click",4,"ngFor","ngForOf"],[3,"click","value"]]},template:function(v,O){if(1&v&&(l.j41(0,"div",1),l.bIt("click",function(){return O.close()}),l.j41(1,"div",2)(2,"app-icon",3),l.EFF(3,"arrow_back"),l.k0s(),l.j41(4,"div",4),l.EFF(5),l.nI1(6,"async"),l.nI1(7,"async"),l.k0s()(),l.j41(8,"div",5),l.pXf(9,0),l.k0s(),l.j41(10,"mat-radio-group",6),l.nI1(11,"async"),l.DNE(12,b,2,2,"mat-radio-button",7),l.nI1(13,"async"),l.k0s()()),2&v){let S,P;l.R7$(5),l.SpI(" ",(null==(S=l.bMT(6,3,O.building))?null:S.display_name)||(null==(S=l.bMT(7,5,O.building))?null:S.name)," "),l.R7$(5),l.Y8G("ngModel",null==(P=l.bMT(11,7,O.building))?null:P.id),l.R7$(2),l.Y8G("ngForOf",l.bMT(13,9,O.buildings))}},dependencies:[h.Sq,g.BC,g.vS,p.VT,p._g,f.R,h.Jj]})}return y})()},6062:(gt,re,o)=>{"use strict";o.d(re,{b:()=>l});var e=o(2185),n=o(3953);let l=(()=>{class h{constructor(p){this._org=p}transform(p){return this._org.buildings.find(f=>p instanceof Array?p.includes(f.id):f.id===p)}static#e=this.\u0275fac=function(f){return new(f||h)(n.rXU(e.yb,16))};static#t=this.\u0275pipe=n.EJ8({name:"building",type:h,pure:!0})}return h})()},5991:(gt,re,o)=>{"use strict";o.d(re,{l:()=>d});var e=o(4006),n=o(222),l=o(3953),h=o(177),g=o(9434),p=o(6781);function f(y,R){if(1&y&&(l.nrm(0,"main",4),l.nI1(1,"safe")),2&y){const m=l.XpG();l.Y8G("innerHTML",l.i5U(1,1,m.changelog,"html"),l.npT)}}function b(y,R){1&y&&(l.j41(0,"div",5)(1,"app-icon",6),l.EFF(2,"close"),l.k0s(),l.j41(3,"div",7),l.EFF(4,"No changelog"),l.k0s()())}let d=(()=>{class y{constructor(m){this._data=m}get changelog(){return(0,n.xI)(this._data.changelog||"",{async:!1})}static#e=this.\u0275fac=function(v){return new(v||y)(l.rXU(e.Vh))};static#t=this.\u0275cmp=l.VBU({type:y,selectors:[["changelog-modal"]],decls:9,vars:2,consts:[["empty_state",""],["mat-dialog-title",""],["icon","","mat-dialog-close",""],["class","p-4 markdown max-h-[65vh] max-w-[80vw] overflow-auto",3,"innerHTML",4,"ngIf","ngIfElse"],[1,"p-4","markdown","max-h-[65vh]","max-w-[80vw]","overflow-auto",3,"innerHTML"],[1,"flex","items-center","justify-center","flex-col","space-y-2"],[1,"text-3xl"],[1,"text"]],template:function(v,O){if(1&v&&(l.j41(0,"header")(1,"h3",1),l.EFF(2,"Changelog"),l.k0s(),l.j41(3,"button",2)(4,"app-icon"),l.EFF(5,"close"),l.k0s()()(),l.DNE(6,f,2,4,"main",3)(7,b,5,0,"ng-template",null,0,l.C5r)),2&v){const S=l.sdS(8);l.R7$(6),l.Y8G("ngIf",O.changelog)("ngIfElse",S)}},dependencies:[h.bT,e.tx,e.BI,g.R,p.m]})}return y})()},7080:(gt,re,o)=>{"use strict";o.d(re,{K:()=>J});var e=o(9707),n=o(2185),l=o(5157),h=o(9928),g=o(9714),p=o(8728),f=o(5006),b=o(9090),d=o(8712),y=o(4119),R=o(222),m=o(3953);let v=(()=>{class te extends e.Tv{get connected(){return!!this._socket}constructor(K,k){super(),this._org=K,this._settings=k,this._chat_messages=new h.t([]),this._progress_message=new h.t(null),this._chat_system=this._org.active_building.pipe((0,p.p)(j=>!!j),(0,f.T)(j=>this._org.binding("chat_room"))),this._chat_id="",this.chat_hint=this._chat_system.pipe((0,p.p)(j=>!!j),(0,b.n)(j=>{const ie=(0,l.f_4)(j,"LLM").binding("user_hint");return this.subscription("binding:LLM:user_hint",ie.bind()),ie.listen()}),(0,d.t)(1)),this._change=new h.t(0),this._chat_pipe=(0,g.zV)([this._chat_system,this._change]).pipe((0,b.n)(([j])=>{const W="x-api-key"!==(0,l.ShT)()?`bearer_token=${encodeURIComponent((0,l.ShT)())}`:`x-api-key=${(0,l.Kz4)()}`,ie=`ws${location.origin.replace("http","")}/api/engine/v2/chatgpt/chat/${encodeURIComponent(j)}?${W}${this._chat_id?"&resume="+encodeURIComponent(this._chat_id):""}`;return this._socket=(0,y.K)({url:ie,serializer:ce=>"object"==typeof ce?JSON.stringify(ce):ce,deserializer:ce=>{let oe=ce.data;try{oe=JSON.parse(ce.data)}catch{}return oe}}),this.subscription("chat-ws",this._socket.subscribe(ce=>this._onMessage(ce),ce=>this._cleanup(),()=>this._cleanup())),this._socket}),(0,d.t)(1)),this.messages=this._chat_messages.asObservable(),this.progress=this._progress_message.asObservable()}startChat(){if(!this._socket)return this._change.next(Date.now()),(0,e.Rm)("CHAT","Starting chat connection."),this.subscription("chat",this._chat_pipe.subscribe()),()=>this.endChat()}endChat(){(0,e.Rm)("CHAT","Dropping chat connection."),this._socket?.complete(),this._cleanup()}close(){this.endChat(),this._chat_id="",this._chat_messages.next([])}sendMessage(K){K&&(this._onMessage({chat_id:"",message:K,user_id:(0,e.Ny)().id}),this._socket?.next(K))}_timeoutSocket(K=55e3){this.timeout("socket",()=>{const k=this._chat_messages.getValue();if(k.length>0&&"assistant"!==k[k.length-1].user_id)return this._timeoutSocket(K);this.endChat()},K)}_cleanup(){this._socket=null,this.unsubWith("chat")}_onMessage(K){K.chat_id&&(this._chat_id=K.chat_id),"progress"===K.type?(this._progress_message.next({id:`msg-${(0,e.DU)(6)}`,chat_id:K.chat_id,message:K.message,content:R.qg(K.message,{async:!1}),user_id:K.user_id||"assistant",function:K.function,timestamp:Date.now()}),"task_complete"===K.function&&this._settings.post("CHAT:task_complete",K.task_id)):(this._chat_messages.next([...this._chat_messages.getValue(),{id:`msg-${(0,e.DU)(6)}`,chat_id:K.chat_id,message:K.message,content:R.qg(K.message,{async:!1}),user_id:K.user_id||"assistant",timestamp:Date.now()}]),"response"===K.type&&this._progress_message.next(null)),this._timeoutSocket()}static#e=this.\u0275fac=function(k){return new(k||te)(m.KVO(n.yb),m.KVO(e.h$))};static#t=this.\u0275prov=m.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})();var O=o(177),S=o(9417),P=o(6600),M=o(9434),w=o(4616),x=o(7025);const I=["input"],_=["container"];function C(te,ne){if(1&te&&(m.j41(0,"div",21),m.EFF(1),m.nI1(2,"async"),m.k0s()),2&te){const K=m.XpG(3);m.R7$(),m.SpI(" ",m.bMT(2,1,K.hint)," ")}}function D(te,ne){1&te&&(m.j41(0,"div",27),m.EFF(1," Assistant "),m.k0s())}function A(te,ne){if(1&te){const K=m.RV6();m.j41(0,"div",22),m.nI1(1,"async"),m.bIt("click",function(){const j=m.eBV(K).$implicit,W=m.XpG(3);return m.Njj(W.show_time[j.id]=!W.show_time[j.id])}),m.j41(2,"div",23),m.DNE(3,D,2,0,"div",24),m.j41(4,"div",25),m.EFF(5),m.nI1(6,"dateFrom"),m.k0s()(),m.nrm(7,"div",26),m.nI1(8,"sanitize"),m.k0s()}if(2&te){const K=ne.$implicit,k=m.XpG(3);m.AVh("pr-4",K.user_id!==k.user.id)("pl-4",K.user_id===k.user.id)("items-left",K.user_id!==k.user.id)("items-end",K.user_id===k.user.id)("waiting-margin",m.bMT(1,13,k.waiting)),m.R7$(3),m.Y8G("ngIf",K.user_id!==k.user.id),m.R7$(2),m.SpI(" ",m.bMT(6,15,K.timestamp+k.offset)," "),m.R7$(2),m.Y8G("innerHTML",m.bMT(8,17,K.content),m.npT)}}function B(te,ne){if(1&te&&(m.nrm(0,"div",35),m.nI1(1,"async"),m.nI1(2,"sanitize")),2&te){const K=m.XpG(4);m.Y8G("innerHTML",m.bMT(2,3,m.bMT(1,1,K.progress).content),m.npT)}}function F(te,ne){if(1&te){const K=m.RV6();m.j41(0,"div",28)(1,"button",29),m.bIt("click",function(){m.eBV(K);const j=m.XpG(3);return m.Njj(j.show_info=!j.show_info)}),m.j41(2,"div",23)(3,"app-icon",30),m.EFF(4),m.nI1(5,"async"),m.k0s(),m.j41(6,"p",31),m.EFF(7),m.nI1(8,"async"),m.nI1(9,"async"),m.k0s()(),m.j41(10,"div",32),m.nrm(11,"div",33),m.DNE(12,B,3,5,"div",34),m.k0s()()()}if(2&te){const K=m.XpG(3);m.R7$(4),m.JRh(K.icons[m.bMT(5,3,K.progress).function]||"info"),m.R7$(3),m.SpI(" ",m.bMT(8,5,K.progress).message||m.bMT(9,7,K.progress).function," "),m.R7$(5),m.Y8G("ngIf",K.show_info)}}function $(te,ne){if(1&te&&(m.j41(0,"div",36),m.nrm(1,"div",37)(2,"div",38)(3,"div",39),m.j41(4,"span",40),m.EFF(5,"Waiting for reply..."),m.k0s()()),2&te){const K=m.XpG(3);m.xc7("bottom",K.height+8+"px")}}function U(te,ne){if(1&te){const K=m.RV6();m.j41(0,"div",6)(1,"div",7)(2,"h3",8),m.EFF(3,"Virtual Assistant"),m.k0s(),m.j41(4,"button",9),m.bIt("click",function(){m.eBV(K);const j=m.XpG(2);return m.Njj(j.toggleChat())}),m.j41(5,"app-icon"),m.EFF(6,"close"),m.k0s()()(),m.j41(7,"div",10,0)(9,"div",11)(10,"app-icon",12),m.EFF(11,"forum"),m.k0s(),m.j41(12,"p",13),m.EFF(13),m.nrm(14,"br"),m.EFF(15," Welcome to the virtual assistant. "),m.k0s()(),m.DNE(16,C,3,3,"div",14),m.nI1(17,"async"),m.DNE(18,A,9,19,"div",15),m.nI1(19,"async"),m.DNE(20,F,13,9,"div",16),m.nI1(21,"async"),m.k0s(),m.DNE(22,$,6,2,"div",17),m.nI1(23,"async"),m.j41(24,"div",18)(25,"textarea",19,1),m.mxI("ngModelChange",function(j){m.eBV(K);const W=m.XpG(2);return m.DH7(W.message,j)||(W.message=j),m.Njj(j)}),m.bIt("ngModelChange",function(){m.eBV(K);const j=m.XpG(2);return m.Njj(j.resizeInput())})("keyup.enter",function(){m.eBV(K);const j=m.XpG(2);return m.Njj(j.sendMessage())}),m.k0s(),m.j41(27,"button",20),m.bIt("click",function(){m.eBV(K);const j=m.XpG(2);return m.Njj(j.sendMessage())}),m.j41(28,"app-icon"),m.EFF(29,"send"),m.k0s()()()()}if(2&te){const K=m.XpG(2);m.R7$(13),m.SpI(" Hi ",K.user.name,". "),m.R7$(3),m.Y8G("ngIf",m.bMT(17,9,K.hint)),m.R7$(2),m.Y8G("ngForOf",m.bMT(19,11,K.messages)),m.R7$(2),m.Y8G("ngIf",m.bMT(21,13,K.progress)),m.R7$(2),m.Y8G("ngIf",m.bMT(23,15,K.waiting)),m.R7$(3),m.xc7("height",K.height+"px"),m.R50("ngModel",K.message),m.R7$(2),m.Y8G("disabled",!K.message)}}function G(te,ne){if(1&te){const K=m.RV6();m.j41(0,"div",3)(1,"button",4),m.bIt("click",function(){m.eBV(K);const j=m.XpG();return m.Njj(j.toggleChat())}),m.j41(2,"app-icon"),m.EFF(3,"chat"),m.k0s()(),m.DNE(4,U,30,17,"div",5),m.k0s()}if(2&te){const K=m.XpG();m.R7$(4),m.Y8G("ngIf",K.show)}}let J=(()=>{class te extends e.Tv{get can_show(){return this._settings.get("app.chat.enabled")}toggleChat(){this.show=!this.show,this.show||this._chat.close()}constructor(K,k){super(),this._settings=K,this._chat=k,this.show=!1,this.show_info=!1,this.message="",this.show_time={},this.offset=0,this.height=56,this.icons={list_function_schemas:"help",call_function:"settings",task_complete:"check_circle"},this.hint=this._chat.chat_hint,this.messages=this._chat.messages,this.progress=this._chat.progress,this.waiting=this._chat.messages.pipe((0,f.T)(j=>0!==j.length&&j[j.length-1]?.user_id===this.user?.id))}ngOnInit(){this.subscription("current_user",e.U5.subscribe(K=>this.user=K)),this.subscription("hint",this.hint.subscribe(()=>this.scrollToBottom(500))),this.subscription("messages",this.messages.subscribe(()=>this.scrollToBottom())),this.subscription("progress",this.progress.subscribe(K=>K?this.scrollToBottom():this.show_info=!1)),this.interval("offset",()=>this.offset=this.offset?0:1,2e4)}resizeInput(){this.height=Math.max(this._input_el.nativeElement.scrollHeight,56)}sendMessage(){if(this.message){if(!this._chat.connected)return this._chat.startChat(),this.timeout("send",()=>this.sendMessage(),100);this._chat.sendMessage(this.message),this.message="",this.height=56,setTimeout(()=>this._input_el.nativeElement.focus(),100)}}scrollToBottom(K=300){this.timeout("scroll",()=>{this._container_el?.nativeElement&&(this._container_el.nativeElement.scrollTop=this._container_el.nativeElement.scrollHeight)},K)}static#e=this.\u0275fac=function(k){return new(k||te)(m.rXU(e.h$),m.rXU(v))};static#t=this.\u0275cmp=m.VBU({type:te,selectors:[["global-chat"]],viewQuery:function(k,j){if(1&k&&(m.GBs(I,5),m.GBs(_,5)),2&k){let W;m.mGM(W=m.lsd())&&(j._input_el=W.first),m.mGM(W=m.lsd())&&(j._container_el=W.first)}},features:[m.Vt3],decls:1,vars:1,consts:[["container",""],["input",""],["class","absolute bottom-0 right-0 p-2",4,"ngIf"],[1,"absolute","bottom-0","right-0","p-2"],["icon","","matRipple","",1,"bg-base-100","rounded-full","border","border-base-300","shadow",3,"click"],["class","absolute bottom-2 right-2 bg-base-200 rounded-xl border border-base-300 shadow overflow-hidden w-[40rem] max-w-[calc(100vw-1rem)]",4,"ngIf"],[1,"absolute","bottom-2","right-2","bg-base-200","rounded-xl","border","border-base-300","shadow","overflow-hidden","w-[40rem]","max-w-[calc(100vw-1rem)]"],[1,"flex","items-center","justify-between","bg-base-100","w-full","p-2","border-b","border-base-300"],[1,"pl-4"],["icon","","matRipple","",3,"click"],[1,"h-[32rem]","max-h-[60vh]","overflow-auto"],[1,"w-full","flex","flex-col","items-center","justify-center","p-8","space-y-2"],[1,"text-8xl"],[1,"text-center","text-xl"],["class","m-2 bg-base-100 border-base-300 p-4 rounded shadow text-sm",4,"ngIf"],["class","flex flex-col m-2",3,"pr-4","pl-4","items-left","items-end","waiting-margin","click",4,"ngFor","ngForOf"],["class","p-4",4,"ngIf"],["class","absolute right-2 flex items-center justify-center space-x-2 p-1 rounded-2xl bg-base-100 border border-neutral",3,"bottom",4,"ngIf"],[1,"flex","bg-base-100","focus-within:outline","outline-info","border-t","border-base-300","max-h-[10rem]","overflow-y-auto"],["placeholder","New message...",1,"p-4","flex-1","w-1/2","focus:outline-none","resize-none","overflow-hidden",3,"ngModelChange","keyup.enter","ngModel"],["icon","","matRipple","",1,"mt-2",3,"click","disabled"],[1,"m-2","bg-base-100","border-base-300","p-4","rounded","shadow","text-sm"],[1,"flex","flex-col","m-2",3,"click"],[1,"flex","items-center","space-x-2"],["class","text-sm text-base-content opacity-60 px-2 py-1",4,"ngIf"],[1,"text-xs","text-base-content","opacity-40","px-2","py-1"],["message","",1,"bg-base-100","border-base-300","p-4","rounded","shadow","text-sm","markdown","selectable",3,"innerHTML"],[1,"text-sm","text-base-content","opacity-60","px-2","py-1"],[1,"p-4"],[1,"block","p-2","rounded","border-base-300","bg-info","text-info-content","w-full",3,"click"],[1,"text-2xl"],[1,"text-sm"],[1,"relative","overflow-hidden","w-full","rounded"],[1,"absolute","inset-0","bg-base-100","opacity-10"],["class","text-xs text-mono text-left p-2 break-words",3,"innerHTML",4,"ngIf"],[1,"text-xs","text-mono","text-left","p-2","break-words",3,"innerHTML"],[1,"absolute","right-2","flex","items-center","justify-center","space-x-2","p-1","rounded-2xl","bg-base-100","border","border-neutral"],[1,"h-2","w-2","bg-neutral","rounded-full","animate-bounce"],[1,"h-2","w-2","bg-neutral","rounded-full","animate-bounce","anim-delay-1"],[1,"h-2","w-2","bg-neutral","rounded-full","animate-bounce","anim-delay-2"],[1,"sr-only"]],template:function(k,j){1&k&&m.DNE(0,G,5,1,"div",2),2&k&&m.Y8G("ngIf",j.can_show)},dependencies:[O.Sq,O.bT,S.me,S.BC,S.vS,P.r6,M.R,O.Jj,w.a,x.l],styles:[".anim-delay-1[_ngcontent-%COMP%]{animation-delay:.25s}.anim-delay-2[_ngcontent-%COMP%]{animation-delay:.5s}.waiting-margin[_ngcontent-%COMP%]:last-child{padding-bottom:2rem}"]})}return te})()},846:(gt,re,o)=>{"use strict";o.d(re,{h:()=>Qn});var e=o(177),n=o(9417),l=o(4006),h=o(9115),g=o(3719),p=o(2798),f=o(850),b=o(5084),d=o(9631),y=o(6471),R=o(9183),m=o(3801),v=o(6600),O=o(6695),S=o(5887),P=o(6939),M=o(4823),w=o(2765),x=o(5951),I=o(3881),_=o(450),C=o(5571),D=o(1626),A=o(1780),F=(o(3938),o(3953)),$=o(9434);o(4418);var K=o(1193),j=(o(841),o(4918));o(1865),o(5384),o(6781);var pe=o(4616),Ge=(o(2734),o(2238)),tt=(o(5080),o(4921),o(2042));o(9707),o(785);var De=o(620),V=o(5277),Te=(o(7022),o(8283),o(8482)),Je=o(494);o(2354),o(5991),o(2185),o(6062);var ft=o(4633),on=(o(5550),o(6962),o(6926),o(6539),o(3835),o(3208));o(6871),o(2124),o(5354),o(7987),o(7080),o(7025),o(5843),o(907),o(375);var Dt=o(9489),nn=o(877),tn=(o(7558),o(6821),o(8328),o(2897),o(3051));const vn=[f.jL,h.Cn,g.RG,p.Ve,v.pZ,f.jL,p.Ve,l.hM,b.X6,d.fS,m.FQ,R.D6,y.YN,O.Ou,S.N0,P.jc,tt.NQ,Je.E9,M.uc,w.g7,x.Wk,I.Ez,_.mV,C.Vg];let Qn=(()=>{class bn{static#e=this.\u0275fac=function(kn){return new(kn||bn)};static#t=this.\u0275mod=F.$C({type:bn});static#n=this.\u0275inj=F.G2t({providers:[{provide:j.N,useValue:{}},(0,D.$R)((0,D.Sx)())],imports:[e.MD,n.YN,n.X1,A.h.forChild(),vn,f.jL,h.Cn,g.RG,p.Ve,v.pZ,f.jL,p.Ve,l.hM,b.X6,d.fS,m.FQ,R.D6,y.YN,O.Ou,S.N0,P.jc,tt.NQ,Je.E9,M.uc,w.g7,x.Wk,I.Ez,_.mV,C.Vg,A.h]})}return bn})();F.wjB(K.a,function(){return[e.bT,on.U]},[]),F.wjB(j.S,function(){return[e.bT,v.r6,M.oV,$.R,Dt.F,nn.B]},function(){return[e.Jj]}),F.wjB(De.V,function(){return[e.bT,v.r6,l.tx,R.LG,$.R,j.S]},[]),F.wjB(V.H,function(){return[e.Sq,e.bT,v.r6,$.R,on.U]},[]),F.wjB(Te.O,function(){return[e.Sq,e.bT,e.ux,e.e1,e.fG,n.me,n.BC,n.vS,v.r6,Je.yg,Je.E$,Je.d6,$.R,Ge.I]},function(){return[e.Jj,e.vh,pe.a]}),F.wjB(ft.N,function(){return[e.bT,v.r6,M.oV,$.R,K.a,Ge.I,tn.q]},function(){return[e.Jj,e.vh,A.D9]})},841:(gt,re,o)=>{"use strict";o.d(re,{B:()=>m,f:()=>R});var e=o(3953),n=o(4006),l=o(5354),h=o(177),g=o(6600),p=o(9183),f=o(9434);function b(v,O){if(1&v&&(e.j41(0,"main",3),e.nrm(1,"app-icon",4)(2,"p",5),e.k0s()),2&v){const S=e.XpG();e.R7$(),e.Y8G("icon",S.icon),e.R7$(),e.Y8G("innerHTML",S.content,e.npT)}}function d(v,O){if(1&v){const S=e.RV6();e.j41(0,"footer",6)(1,"button",7),e.EFF(2),e.k0s(),e.j41(3,"button",8),e.bIt("click",function(){e.eBV(S);const M=e.XpG();return e.Njj(M.onConfirm())}),e.EFF(4),e.k0s()()}if(2&v){const S=e.XpG();e.R7$(2),e.SpI(" ",S.cancel_text," "),e.R7$(2),e.SpI(" ",S.confirm_text," ")}}function y(v,O){if(1&v&&(e.j41(0,"main",9)(1,"div",10),e.nrm(2,"mat-spinner",11),e.j41(3,"p"),e.EFF(4),e.k0s()()()),2&v){const S=e.XpG();e.R7$(4),e.JRh(S.loading)}}const R={height:"auto",width:"24em",maxHeight:"calc(100vh - 2em)",maxWidth:"calc(100vw - 2em)"};let m=(()=>{class v extends l.T{constructor(S,P){super(),this._dialog_ref=S,this._data=P,this.event=new e.bkB,this.title=this._data.title||"Confirm",this.content=this._data.content||"Are you sure?",this.confirm_text=this._data.confirm_text||"Accept",this.cancel_text=this._data.cancel_text||"Cancel",this.icon=this._data.icon||{class:"material-icons",content:"done"},this.disableClose=()=>this._dialog_ref.disableClose=!0,this.enableClose=()=>this._dialog_ref.disableClose=!1}ngOnInit(){this._data.close_delay&&this.timeout("close",()=>this._dialog_ref.close(),this._data.close_delay)}onConfirm(){this.event.emit({reason:"done"})}static#e=this.\u0275fac=function(P){return new(P||v)(e.rXU(n.CP),e.rXU(n.Vh))};static#t=this.\u0275cmp=e.VBU({type:v,selectors:[["confirm-modal"]],outputs:{event:"event"},features:[e.Vt3],decls:7,vars:4,consts:[["load_state",""],["class","flex flex-col items-center space-y-2 p-4",4,"ngIf","ngIfElse"],["class","flex items-center justify-center p-2 space-x-2",4,"ngIf"],[1,"flex","flex-col","items-center","space-y-2","p-4"],[1,"text-5xl",3,"icon"],["content","",1,"text-center","text-sm","w-[22rem]",3,"innerHTML"],[1,"flex","items-center","justify-center","p-2","space-x-2"],["btn","","matRipple","","mat-dialog-close","",1,"inverse","w-32"],["btn","","matRipple","","name","accept",1,"w-32",3,"click"],["loading",""],[1,"w-full","h-48","flex","flex-col","items-center","justify-center","space-y-2"],["diameter","32"]],template:function(P,M){if(1&P&&(e.j41(0,"header")(1,"h3"),e.EFF(2),e.k0s()(),e.DNE(3,b,3,2,"main",1)(4,d,5,2,"footer",2)(5,y,5,1,"ng-template",null,0,e.C5r)),2&P){const w=e.sdS(6);e.R7$(2),e.JRh(M.title),e.R7$(),e.Y8G("ngIf",!M.loading)("ngIfElse",w),e.R7$(),e.Y8G("ngIf",!M.loading)}},dependencies:[h.bT,g.r6,n.tx,p.LG,f.R]})}return v})()},2734:(gt,re,o)=>{"use strict";o.d(re,{r:()=>De});var e=o(3953),n=o(6695),l=o(2042),h=o(5887),g=o(5024),p=o(9928),f=o(5286),b=o(4670),d=o(4421),y=o(9714),R=o(4085),m=o(5006);class he extends g.qS{get data(){return this._data.value}set data(ue){ue=Array.isArray(ue)?ue:[],this._data.next(ue),this._renderChangesSubscription||this._filterData(ue)}get filter(){return this._filter.value}set filter(ue){this._filter.next(ue),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(ue){this._sort=ue,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(ue){this._paginator=ue,this._updateChangeSubscription()}constructor(ue=[]){super(),this._renderData=new p.t([]),this._filter=new p.t(""),this._internalPageChanges=new f.B7,this._renderChangesSubscription=null,this.sortingDataAccessor=(Q,Te)=>{const Je=Q[Te];if((0,R.o1)(Je)){const Nt=Number(Je);return Nt<9007199254740991?Nt:Je}return Je},this.sortData=(Q,Te)=>{const Je=Te.active,Nt=Te.direction;return Je&&""!=Nt?Q.sort((qt,hn)=>{let wt=this.sortingDataAccessor(qt,Je),Zt=this.sortingDataAccessor(hn,Je);const ft=typeof wt,lt=typeof Zt;ft!==lt&&("number"===ft&&(wt+=""),"number"===lt&&(Zt+=""));let Ft=0;return null!=wt&&null!=Zt?wt>Zt?Ft=1:wt<Zt&&(Ft=-1):null!=wt?Ft=1:null!=Zt&&(Ft=-1),Ft*("asc"==Nt?1:-1)}):Q},this.filterPredicate=(Q,Te)=>{const Je=Object.keys(Q).reduce((qt,hn)=>qt+Q[hn]+"\u25ec","").toLowerCase(),Nt=Te.trim().toLowerCase();return-1!=Je.indexOf(Nt)},this._data=new p.t(ue),this._updateChangeSubscription()}_updateChangeSubscription(){const ue=this._sort?(0,b.h)(this._sort.sortChange,this._sort.initialized):(0,d.of)(null),Q=this._paginator?(0,b.h)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,d.of)(null),Je=(0,y.zV)([this._data,this._filter]).pipe((0,m.T)(([hn])=>this._filterData(hn))),Nt=(0,y.zV)([Je,ue]).pipe((0,m.T)(([hn])=>this._orderData(hn))),qt=(0,y.zV)([Nt,Q]).pipe((0,m.T)(([hn])=>this._pageData(hn)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=qt.subscribe(hn=>this._renderData.next(hn))}_filterData(ue){return this.filteredData=null==this.filter||""===this.filter?ue:ue.filter(Q=>this.filterPredicate(Q,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(ue){return this.sort?this.sortData(ue.slice(),this.sort):ue}_pageData(ue){if(!this.paginator)return ue;const Q=this.paginator.pageIndex*this.paginator.pageSize;return ue.slice(Q,Q+this.paginator.pageSize)}_updatePaginator(ue){Promise.resolve().then(()=>{const Q=this.paginator;if(Q&&(Q.length=ue,Q.pageIndex>0)){const Te=Math.ceil(Q.length/Q.pageSize)-1||0,Je=Math.min(Q.pageIndex,Te);Je!==Q.pageIndex&&(Q.pageIndex=Je,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}var Oe=o(9707),we=o(5817),We=o(177);const Xe=(V,ue,Q,Te,Je,Nt,qt)=>({first:V,last:ue,index:Q,data:Te,row:Je,key:Nt,name:qt});function Me(V,ue){if(1&V&&(e.j41(0,"div",12),e.EFF(1),e.k0s()),2&V){const Q=e.XpG(),Te=Q.$implicit,Je=Q.index,Nt=e.XpG();e.xc7("width",(Nt.column_size[Je]||"8")+"em")("flex","flex"===Nt.column_size[Je]?"1":""),e.R7$(),e.SpI(" ",Nt.display_column[Je]||Te," ")}}function ge(V,ue){1&V&&(e.j41(0,"span",16),e.EFF(1," N/A "),e.k0s())}function pe(V,ue){if(1&V&&(e.qex(0),e.EFF(1),e.DNE(2,ge,2,0,"span",15),e.bVm()),2&V){const Q=e.XpG(2).$implicit,Te=e.XpG().$implicit;e.R7$(),e.JRh(Q[Te]),e.R7$(),e.Y8G("ngIf",null==Q[Te]||""===Q[Te])}}function Ee(V,ue){1&V&&e.eu8(0)}function Ge(V,ue){if(1&V&&e.DNE(0,Ee,1,0,"ng-container",17),2&V){const Q=e.XpG(2),Te=Q.$implicit,Je=Q.index,Nt=e.XpG(),qt=Nt.$implicit,hn=Nt.index,wt=e.XpG();e.Y8G("ngTemplateOutlet",wt.template[qt])("ngTemplateOutletContext",e.sGs(2,Xe,0===Je,Je===wt.data_source.data.length-1||Je===wt.data_source.length-1,hn,Te[qt],Te,qt,wt.display_column[hn]||qt))}}function Qe(V,ue){if(1&V&&(e.qex(0),e.DNE(1,pe,3,2,"ng-container",14)(2,Ge,1,10,"ng-template",null,1,e.C5r),e.bVm()),2&V){const Q=e.sdS(3),Te=e.XpG(2).$implicit,Je=e.XpG();e.R7$(),e.Y8G("ngIf",!Je.template[Te])("ngIfElse",Q)}}function $e(V,ue){if(1&V&&(e.j41(0,"div",18),e.EFF(1),e.k0s()),2&V){const Q=e.XpG().index;e.R7$(),e.JRh(Q+1)}}function tt(V,ue){if(1&V&&(e.j41(0,"div",13),e.DNE(1,Qe,4,2,"ng-container",14)(2,$e,2,1,"ng-template",null,0,e.C5r),e.k0s()),2&V){const Q=e.sdS(3),Te=e.XpG(),Je=Te.$implicit,Nt=Te.index,qt=e.XpG();e.xc7("width",(qt.column_size[Nt]||"8")+"em")("flex","flex"===qt.column_size[Nt]?"1":""),e.R7$(),e.Y8G("ngIf","_index"!==Je)("ngIfElse",Q)}}function xt(V,ue){if(1&V&&(e.qex(0)(1,9),e.DNE(2,Me,2,5,"div",10)(3,tt,4,6,"div",11),e.bVm()()),2&V){const Q=ue.$implicit;e.R7$(),e.Y8G("cdkColumnDef",Q)}}function Pt(V,ue){1&V&&e.nrm(0,"cdk-header-row",19)}function yt(V,ue){if(1&V){const Q=e.RV6();e.j41(0,"cdk-row",20),e.bIt("click",function(){const Je=e.eBV(Q).$implicit,Nt=e.XpG();return e.Njj(Nt.row_clicked.emit(Je))}),e.k0s()}}function Le(V,ue){if(1&V&&(e.j41(0,"p",21),e.EFF(1),e.k0s()),2&V){const Q=e.XpG();e.R7$(),e.SpI(" ",Q.empty||"No data to display"," ")}}let De=(()=>{class V extends Oe.Tv{constructor(){super(...arguments),this.pagination=!1,this.page_size=7,this.column_size=[],this.template={},this.row_clicked=new e.bkB,this.data_source=new he([])}ngAfterViewInit(){this.data_source.sort=this._sort,this.data_source.paginator=this.pagination?this._paginator:null,this.data_source.filterPredicate=(Q,Te)=>{for(const Je in Q){if("string"==typeof Q[Je]&&Q[Je].toLowerCase().includes(Te.toLowerCase()))return!0;if(Q[Je]===Te)return!0}return!1}}ngOnChanges(Q){Q.dataSource&&this.dataSource&&(this.dataSource instanceof we.c?this.subscription("data",this.dataSource.subscribe(Te=>this.data_source.data=Te)):this.data_source.data=this.dataSource),Q.pagination&&(this.data_source.paginator=this.pagination?this._paginator:null),Q.filter&&(this.data_source.filter=(this.filter||"").trim().toLowerCase()),Q.columns&&this.columns&&(this.display_column=this.columns.map((Te,Je)=>(this.display_column||[])[Je]||Te.split("_").join(" "))),this.column_size||(this.column_size=[]),Q.reset_page&&this.reset_page!==Q.reset_page.previousValue&&this._paginator?.firstPage()}static#e=this.\u0275fac=(()=>{let Q;return function(Je){return(Q||(Q=e.xGo(V)))(Je||V)}})();static#t=this.\u0275cmp=e.VBU({type:V,selectors:[["custom-table"]],viewQuery:function(Te,Je){if(1&Te&&(e.GBs(n.iy,5),e.GBs(l.B4,5)),2&Te){let Nt;e.mGM(Nt=e.lsd())&&(Je._paginator=Nt.first),e.mGM(Nt=e.lsd())&&(Je._sort=Nt.first)}},inputs:{dataSource:"dataSource",pagination:"pagination",page_size:"page_size",filter:"filter",display_column:"display_column",columns:"columns",column_size:"column_size",empty:"empty",template:"template",reset_page:"reset_page"},outputs:{row_clicked:"row_clicked"},features:[e.Vt3,e.OA$],decls:7,vars:8,consts:[["index_outlet",""],["cell_outlet",""],["matSort","",1,"block","border","border-base-200","divide-y","divide-base-200","text-sm",3,"dataSource"],[4,"ngFor","ngForOf"],["class","sticky flex items-center bg-base-100 top-0 z-10",4,"cdkHeaderRowDef"],["row","","class","flex z-0 relative hover:bg-neutral:bg-base-100/5 divide-x divide-base-200",3,"click",4,"cdkRowDef","cdkRowDefColumns"],["cdkNoDataRow",""],["footer","",3,"hidden"],[3,"pageSize","hidePageSize","showFirstLastButtons"],[3,"cdkColumnDef"],["cdk-header-cell","","class","capitalize p-2 h-12 bg-base-300 flex items-center","mat-sort-header","",3,"width","flex",4,"cdkHeaderCellDef"],["cdk-cell","","class","p-2 truncate flex items-center",3,"width","flex",4,"cdkCellDef"],["cdk-header-cell","","mat-sort-header","",1,"capitalize","p-2","h-12","bg-base-300","flex","items-center"],["cdk-cell","",1,"p-2","truncate","flex","items-center"],[4,"ngIf","ngIfElse"],["class","opacity-30",4,"ngIf"],[1,"opacity-30"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"w-full","text-center"],[1,"sticky","flex","items-center","bg-base-100","top-0","z-10"],["row","",1,"flex","z-0","relative","hover:bg-neutral:bg-base-100/5","divide-x","divide-base-200",3,"click"],[1,"w-full","p-4","text-center","opacity-30"]],template:function(Te,Je){1&Te&&(e.j41(0,"cdk-table",2),e.DNE(1,xt,4,1,"ng-container",3)(2,Pt,1,0,"cdk-header-row",4)(3,yt,1,0,"cdk-row",5)(4,Le,2,1,"ng-template",6),e.k0s(),e.j41(5,"div",7),e.nrm(6,"mat-paginator",8),e.k0s()),2&Te&&(e.Y8G("dataSource",Je.data_source),e.R7$(),e.Y8G("ngForOf",Je.columns),e.R7$(),e.Y8G("cdkHeaderRowDef",Je.columns),e.R7$(),e.Y8G("cdkRowDefColumns",Je.columns),e.R7$(2),e.Y8G("hidden",!Je.pagination),e.R7$(),e.Y8G("pageSize",Je.page_size)("hidePageSize",!0)("showFirstLastButtons",!0))},dependencies:[We.Sq,We.bT,We.T3,n.iy,h.Rk,h.oh,h.cO,h.n5,h.AL,h.hc,h.wA,h.hi,h.u4,l.B4,l.aE],styles:["cdk-header-row[_ngcontent-%COMP%]{font-weight:500;text-transform:capitalize;min-height:3rem}"]})}return V})()},2238:(gt,re,o)=>{"use strict";o.d(re,{D:()=>S,I:()=>P});var e=o(6939),n=o(3953),l=o(9707),h=o(7987),g=o(177),p=o(4616);const f=["customTooltip",""],b=["*"];function d(M,w){1&M&&n.eu8(0)}function y(M,w){if(1&M&&(n.qex(0),n.DNE(1,d,1,0,"ng-container",4),n.bVm()),2&M){const x=n.XpG(2);n.R7$(),n.Y8G("ngComponentOutlet",x.content)("ngComponentOutletInjector",x.injector)}}function R(M,w){if(1&M&&(n.qex(0),n.nrm(1,"div",5),n.nI1(2,"sanitize"),n.bVm()),2&M){const x=n.XpG(2);n.R7$(),n.Y8G("innerHTML",n.bMT(2,1,x.content),n.npT)}}function m(M,w){1&M&&n.eu8(0)}function v(M,w){if(1&M&&(n.qex(0),n.DNE(1,m,1,0,"ng-container",6),n.bVm()),2&M){const x=n.XpG(2);n.R7$(),n.Y8G("ngTemplateOutlet",x.content)("ngTemplateOutletContext",x.data)}}function O(M,w){if(1&M&&(n.j41(0,"div",1),n.DNE(1,y,2,2,"ng-container",2)(2,R,3,3,"ng-container",2)(3,v,2,2,"ng-container",3),n.k0s()),2&M){const x=n.XpG();n.Y8G("ngSwitch",x.type),n.R7$(),n.Y8G("ngSwitchCase","component"),n.R7$(),n.Y8G("ngSwitchCase","html")}}let S=(()=>{class M{constructor(x){this.data=x.data,this.close=x.close||(()=>null)}static#e=this.\u0275fac=function(I){n.QTQ()};static#t=this.\u0275prov=n.jDH({token:M,factory:M.\u0275fac})}return M})(),P=(()=>{class M extends l.Tv{constructor(x,I,_){super(),this._element=x,this._overlay=I,this._injector=_,this.backdrop=!0,this.hover=!1,this.delay=0,this.type="template",this._overlay_ref=null,this.onClick=()=>this.open(),this.onTouch=()=>this.open(),this.onEnter=()=>this.hover?this.open():"",this.onLeave=()=>this.hover?this.close():""}ngOnChanges(x){this._updateInjector(),this._overlay_ref&&(x.x_pos||x.y_pos||x.content)&&this.open()}ngOnDestroy(){super.ngOnDestroy(),this.close()}open(){this.content&&this.timeout("open",()=>{this.hover&&this.delay&&this.timeout("onclose",()=>this.close(),this.delay),this._updateType(),this._overlay_ref&&this.close(),this._portal&&(this._element.nativeElement.getBoundingClientRect(),this._overlay_ref=this._overlay.create({hasBackdrop:!!this.backdrop&&!this.hover,positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withPositions([{originX:this.x_pos||"end",originY:("top"===this.y_pos?"bottom":"bottom"==this.y_pos?"top":this.y_pos)||"top",overlayX:this.x_pos||"end",overlayY:this.y_pos||"top"}])}),this._overlay_ref.attach(this._portal),this.backdrop&&this.subscription("backdrop",this._overlay_ref.backdropClick().subscribe(()=>this.close())))},50)}close(){this.clearTimeout("open"),this._overlay_ref&&(this._overlay_ref.dispose(),this._overlay_ref=null)}_updateType(){this.type="string"==typeof this.content?"html":this.content instanceof n.C4Q?"template":"component"}_updateInjector(){this.injector=n.zZn.create({providers:[{provide:S,useValue:{data:this.data,close:()=>this.close()}}],parent:this._injector})}static#e=this.\u0275fac=function(I){return new(I||M)(n.rXU(n.aKT),n.rXU(h.hJ),n.rXU(n.zZn))};static#t=this.\u0275cmp=n.VBU({type:M,selectors:[["","customTooltip",""]],viewQuery:function(I,_){if(1&I&&n.GBs(e.bV,5),2&I){let C;n.mGM(C=n.lsd())&&(_._portal=C.first)}},hostBindings:function(I,_){1&I&&n.bIt("click",function(){return _.onClick()})("touchend",function(){return _.onTouch()})("mouseenter",function(){return _.onEnter()})("mouseleave",function(){return _.onLeave()})},inputs:{x_pos:[0,"xPosition","x_pos"],y_pos:[0,"yPosition","y_pos"],content:"content",data:"data",backdrop:"backdrop",hover:"hover",delay:"delay"},features:[n.Vt3,n.OA$],attrs:f,ngContentSelectors:b,decls:2,vars:0,consts:[["cdk-portal",""],["custom-tooltip","",1,"relative","print:hidden",3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngComponentOutlet","ngComponentOutletInjector"],[3,"innerHTML"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(I,_){1&I&&(n.NAR(),n.SdG(0),n.DNE(1,O,4,3,"ng-template",0))},dependencies:[g.OI,g.T3,g.ux,g.e1,g.fG,e.Qq,p.a],encapsulation:2})}return M})()},7025:(gt,re,o)=>{"use strict";o.d(re,{l:()=>h});var e=o(2037),n=o(4361),l=o(3953);let h=(()=>{class g{transform(f){const b=Date.now();let d=(0,e.o)(b,f);const y=d<0;if(d=Math.abs(d),d<1)return y?"Soon":"Now";if(1===d)return y?"In 1 min":"1 min";if(d<60)return y?`In ${d} min`:`${d} min`;if(d<1440){const R=Math.floor(d/60);return y?`In ${R} hour${1===R?"":"s"}`:(0,n.GP)(f,"H:mm")}return d<10080?(Math.floor(d/1440),(0,n.GP)(f,y?"dd MMM yyyy":"E H:mm")):d<525600?(Math.floor(d/1440),(0,n.GP)(f,y?"dd MMM yyyy":"LLL d H:mm")):"Just now"}static#e=this.\u0275fac=function(b){return new(b||g)};static#t=this.\u0275pipe=l.EJ8({name:"dateFrom",type:g,pure:!0})}return g})()},8482:(gt,re,o)=>{"use strict";o.d(re,{O:()=>B});var e=o(467),n=o(9928),l=o(9714),h=o(5006),g=o(4046),p=o(7643),f=o(5354),b=o(686),d=o(2354),y=o(2185),R=o(9707),m=o(3953);function v(F,$){if(1&F&&(m.qex(0),m.j41(1,"a",25),m.nI1(2,"sanitize"),m.EFF(3),m.k0s(),m.bVm()),2&F){const U=m.XpG().$implicit;m.R7$(),m.Y8G("href",m.bMT(2,2,U),m.B4B),m.R7$(2),m.JRh(U)}}function O(F,$){if(1&F&&(m.qex(0),m.EFF(1," ["),m.j41(2,"span",26),m.EFF(3,"Object"),m.k0s(),m.EFF(4,"] "),m.bVm()),2&F){const U=m.XpG().$implicit,G=m.XpG(4);m.R7$(2),m.Y8G("content",G.json_tooltip)("data",U)("hover",!0)("backdrop",!1)}}function S(F,$){if(1&F&&(m.qex(0),m.EFF(1),m.bVm()),2&F){const U=m.XpG().$implicit;m.R7$(),m.JRh(U)}}function P(F,$){if(1&F&&(m.j41(0,"div",21),m.qex(1,22),m.DNE(2,v,4,4,"ng-container",23)(3,O,5,4,"ng-container",23)(4,S,2,1,"ng-container",24),m.bVm(),m.k0s()),2&F){const U=$.$implicit,G=m.XpG(4);m.BMQ("data-type",G.type(U)),m.R7$(),m.Y8G("ngSwitch",G.type(U)),m.R7$(),m.Y8G("ngSwitchCase","link"),m.R7$(),m.Y8G("ngSwitchCase","object")}}function M(F,$){if(1&F&&(m.j41(0,"div",18)(1,"div",19),m.EFF(2),m.nI1(3,"date"),m.k0s(),m.j41(4,"div"),m.EFF(5),m.k0s(),m.j41(6,"div"),m.EFF(7),m.k0s(),m.DNE(8,P,5,4,"div",20),m.k0s()),2&F){const U=$.$implicit,G=m.XpG(3);m.R7$(2),m.SpI(" ",m.i5U(3,8,U.timestamp,"MMM d HH:mm:ss")," "),m.R7$(2),m.HbH("uppercase text-xs p-1 "+G.colors[U.type]+" rounded font-mono"),m.R7$(),m.SpI(" ",U.type," "),m.R7$(),m.HbH("capitalize text-xs p-1 "+G.colors[U.subtype]+" rounded font-mono w-16 text-center"),m.R7$(),m.SpI(" ",U.subtype," "),m.R7$(),m.Y8G("ngForOf",U.data)}}function w(F,$){if(1&F&&(m.j41(0,"cdk-virtual-scroll-viewport",15),m.DNE(1,M,9,11,"div",16),m.nI1(2,"async"),m.nrm(3,"div",17),m.k0s()),2&F){const U=m.XpG(2);m.R7$(),m.Y8G("cdkVirtualForOf",m.bMT(2,2,U.filtered_logs))("cdkVirtualForTrackBy",U.trackByFn)}}function x(F,$){if(1&F&&(m.j41(0,"span",27),m.EFF(1),m.nI1(2,"async"),m.k0s()),2&F){let U;const G=m.XpG(2);m.R7$(),m.SpI(" ",(null==(U=m.bMT(2,1,G.filtered_logs))?null:U.length)||"0"," of ")}}function I(F,$){if(1&F){const U=m.RV6();m.j41(0,"div",4)(1,"div",5)(2,"div",6),m.EFF(3,"Console"),m.k0s(),m.j41(4,"button",7),m.bIt("click",function(){m.eBV(U);const J=m.XpG();return m.Njj(J.show=!1)}),m.j41(5,"app-icon"),m.EFF(6,"close"),m.k0s()()(),m.DNE(7,w,4,4,"cdk-virtual-scroll-viewport",8),m.nI1(8,"async"),m.j41(9,"div",9),m.nrm(10,"div",10)(11,"div",11),m.j41(12,"input",12,1),m.nI1(14,"async"),m.bIt("ngModelChange",function(J){m.eBV(U);const te=m.XpG();return m.Njj(te.filter.next(J))}),m.k0s(),m.j41(15,"div",13),m.DNE(16,x,3,3,"span",14),m.nI1(17,"async"),m.EFF(18),m.nI1(19,"async"),m.k0s()()()}if(2&F){let U,G,J;const te=m.XpG(),ne=m.sdS(3);m.R7$(7),m.Y8G("ngIf",null==(U=m.bMT(8,5,te.filtered_logs))?null:U.length)("ngIfElse",ne),m.R7$(5),m.Y8G("ngModel",m.bMT(14,7,te.filter)),m.R7$(4),m.Y8G("ngIf",null==(G=m.bMT(17,9,te.filter))?null:G.length),m.R7$(2),m.SpI(" ",null==(J=m.bMT(19,11,te.logs))?null:J.length," ")}}function _(F,$){if(1&F){const U=m.RV6();m.j41(0,"button",28),m.bIt("mousedown",function(){m.eBV(U);const J=m.XpG();return m.Njj(J.onStart())})("touchstart",function(){m.eBV(U);const J=m.XpG();return m.Njj(J.onStart())})("mouseup",function(){m.eBV(U);const J=m.XpG();return m.Njj(J.onEnd())})("touchend",function(){m.eBV(U);const J=m.XpG();return m.Njj(J.onEnd())}),m.k0s()}}function C(F,$){if(1&F&&(m.j41(0,"div",29)(1,"div",30),m.EFF(2),m.k0s()()),2&F){const U=m.XpG();m.R7$(2),m.SpI(" No ",U.filter.getValue()?"matching":""," logs ")}}const D={console:"bg-success-light text-black",network:"bg-success text-success-content",dom:"bg-warning-light text-black",log:"bg-info-light text-black",info:"bg-info text-info-content",warn:"bg-warning text-warning-content",debug:"bg-base-300 text-base-content",error:"bg-error text-error-content"},A=["tel:","mailto:","http:","https:","ftp:","ws:","wss:"];let B=(()=>{class F extends f.T{get can_activate(){return!!this._settings.get("app.debug_console")}constructor(U,G,J,te){super(),this._org=U,this._logs=G,this._hotkey=J,this._settings=te,this.show=!1,this.colors=D,this.json_tooltip=d.o,this.filter=new n.t(""),this.logs=new n.t([]),this.filtered_logs=(0,l.zV)([this.filter,this.logs]).pipe((0,h.T)(([ne,K])=>K.filter(k=>k.type.toLowerCase().includes(ne.toLowerCase())||k.subtype.toLowerCase().includes(ne.toLowerCase())||`${k.data}`.toLowerCase().includes(ne.toLowerCase())))),this.onStart=()=>this.timeout("show",()=>this.show=!0,5e3),this.onEnd=()=>this.clearTimeout("show")}ngOnInit(){var U=this;return(0,e.A)(function*(){yield U._org.initialised.pipe((0,g.$)(G=>G)).toPromise(),U.subscription("binding",U._org.active_building.subscribe(()=>{console.log("Binding:",U._org.binding("remote_logger")),U._logs.setSystem(U._org.binding("remote_logger"))})),U.subscription("logs",U._logs.history.subscribe(G=>{let J=U.logs.getValue();J.length>(U._settings.get("app.log_limits")||2e4)&&J.splice(0,1),U.logs.next([...J,G])})),U.subscription("toggle",U._hotkey.listen(["Control","Backquote"],()=>U.show=!U.show)),console.log("Binding:",U._org.binding("remote_logger")),U._logs.setSystem(U._org.binding("remote_logger"))})()}type(U){return"string"==typeof U&&A.find(G=>U.startsWith(G))?"link":U instanceof Object?"object":"string"}trackByFn(U,G){return G?.timestamp}static#e=this.\u0275fac=function(G){return new(G||F)(m.rXU(y.yb),m.rXU(b.V),m.rXU(p.d),m.rXU(R.h$))};static#t=this.\u0275cmp=m.VBU({type:F,selectors:[["debug-console"]],inputs:{show:"show"},features:[m.Vt3],decls:4,vars:2,consts:[["empty_state",""],["search_input",""],["class","absolute bottom-2 left-2 max-w-[80vw] w-[40rem] border border-base-300 bg-base-200 text-base-content shadow rounded overflow-hidden h-[24rem] max-h-[65vh] flex flex-col z-[998]",4,"ngIf"],["activation","","class","absolute bottom-0 right-0 h-12 w-12",3,"mousedown","touchstart","mouseup","touchend",4,"ngIf"],[1,"absolute","bottom-2","left-2","max-w-[80vw]","w-[40rem]","border","border-base-300","bg-base-200","text-base-content","shadow","rounded","overflow-hidden","h-[24rem]","max-h-[65vh]","flex","flex-col","z-[998]"],[1,"flex","items-center","justify-between","bg-base-100","border-b","border-base-300"],[1,"p-2"],["icon","","matRipple","",3,"click"],["itemSize","32","class","flex-1 h-[30rem] max-h-full w-full",4,"ngIf","ngIfElse"],[1,"absolute","bottom-1","right-1","rounded-lg","p-1","flex","items-center","w-[20rem]","overflow-hidden"],[1,"absolute","inset-0","bg-base-content","opacity-60","z-0"],[1,"absolute","inset-1","bg-base-content","opacity-90","rounded","z-0"],["name","log-filter","placeholder","Filter logs...",1,"relative","border-none","flex-1","text-sm","px-2","py-1","font-mono","rounded","text-base-100",3,"ngModelChange","ngModel"],[1,"relative","font-mono","text-xs","px-2","text-center","text-base-100"],["class","font-mono",4,"ngIf"],["itemSize","32",1,"flex-1","h-[30rem]","max-h-full","w-full"],["class","font-mono h-8 truncate p-2 text-sm flex items-center max-w-full hover:bg-base-100 space-x-1",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"h-8","w-full"],[1,"font-mono","h-8","truncate","p-2","text-sm","flex","items-center","max-w-full","hover:bg-base-100","space-x-1"],[1,"uppercase","text-xs","p-1","bg-base-100/10","rounded","font-mono"],["class","font-mono pl-1",4,"ngFor","ngForOf"],[1,"font-mono","pl-1"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["target","_blank","rel","noopener noreferer",1,"font-mono",3,"href"],["customTooltip","","xPosition","center","yPosition","bottom",1,"underline","font-mono","hover:text-info",3,"content","data","hover","backdrop"],[1,"font-mono"],["activation","",1,"absolute","bottom-0","right-0","h-12","w-12",3,"mousedown","touchstart","mouseup","touchend"],[1,"flex-1","flex","flex-col","items-center","justify-center","h-[30rem]","w-full"],[1,"text-2xl","opacity-30"]],template:function(G,J){1&G&&m.DNE(0,I,20,13,"div",2)(1,_,1,0,"button",3)(2,C,3,1,"ng-template",null,0,m.C5r),2&G&&(m.Y8G("ngIf",J.show),m.R7$(),m.Y8G("ngIf",J.can_activate))}})}return F})()},3051:(gt,re,o)=>{"use strict";o.d(re,{q:()=>d});var e=o(3953),n=o(9707),l=o(177),h=o(9417),g=o(6600),p=o(3881);function f(y,R){1&y&&(e.j41(0,"div",16),e.EFF(1," Before you can set a desk height, presets must be set "),e.k0s())}function b(y,R){if(1&y){const m=e.RV6();e.j41(0,"button",17),e.bIt("click",function(){e.eBV(m);const O=e.XpG();return e.Njj(O.onClose())}),e.EFF(1," Save Presets "),e.k0s()}}let d=(()=>{class y{constructor(m){this._settings=m,this.show_close=!1,this.close=new e.bkB,this.not_set=!1,this.desk_sitting_height=71,this.desk_standing_height=101}ngOnInit(){this.not_set=!this._settings.get("desk_sitting_height")&&!this._settings.get("desk_standing_height"),this.desk_sitting_height=this._settings.get("desk_sitting_height")||71,this.desk_standing_height=this._settings.get("desk_standing_height")||101}onClose(){this.saveSetting("desk_sitting_height",this.desk_sitting_height),this.saveSetting("desk_standing_height",this.desk_standing_height),this.close.emit()}formatLabel(m){return`${m.toFixed(1)}cm`}saveSetting(m,v){console.log("Save setting",m,v),this._settings.saveUserSetting(m,v)}static#e=this.\u0275fac=function(v){return new(v||y)(e.rXU(n.h$))};static#t=this.\u0275cmp=e.VBU({type:y,selectors:[["desk-height-presets"]],inputs:{show_close:"show_close"},outputs:{close:"close"},decls:24,vars:8,consts:()=>{let m,v,O;return m=$localize`:␟4a9ae1d6024ac45fcd744f2b33fcc1078684204c␟1586279176802880074:Desk Height Presets`,v=$localize`:␟76aa055a2b4d990ee2773112c433cbca362d5cf3␟2517995078699734025: Desk height presets allow you to store and recall your preferred desk height when checking into a booked desk that supports height adjustment. `,O=$localize`:␟7cdb9f15155eef16ce00f29f1d835dc2360f266f␟3844660402650950250: Set your desk height for the best experience. `,[m,v,O,[1,"relative","p-4","bg-base-100","rounded","shadow","w-[20rem]"],[1,"text-lg","mb-2"],[1,"text-xs","opacity-60","mb-4"],["class","text-xs mb-4 -mx-2 p-2 rounded bg-warning text-warning-content",4,"ngIf"],[1,"flex","flex-col","mt-2"],[1,"flex","items-center","space-x-2"],["min","60","max","80","step","0.5","discrete","",1,"flex-1",3,"displayWith"],["matSliderThumb","",3,"ngModelChange","ngModel"],[1,"text-sm","w-12","text-right"],[1,"flex","items-center","space-x-2","mr-2"],["min","90","max","120","step","0.5","discrete","",1,"flex-1",3,"displayWith"],[1,"text-sm","w-12","text-right","mr-2"],["btn","","matRipple","","class","w-full mt-2",3,"click",4,"ngIf"],[1,"text-xs","mb-4","-mx-2","p-2","rounded","bg-warning","text-warning-content"],["btn","","matRipple","",1,"w-full","mt-2",3,"click"]]},template:function(v,O){1&v&&(e.j41(0,"div",3)(1,"div",4),e.pXf(2,0),e.k0s(),e.j41(3,"div",5),e.pXf(4,1),e.k0s(),e.DNE(5,f,2,0,"div",6),e.j41(6,"div",5),e.pXf(7,2),e.k0s(),e.j41(8,"div",7)(9,"label"),e.EFF(10,"Sitting Height"),e.k0s(),e.j41(11,"div",8)(12,"mat-slider",9)(13,"input",10),e.mxI("ngModelChange",function(P){return e.DH7(O.desk_sitting_height,P)||(O.desk_sitting_height=P),P}),e.bIt("ngModelChange",function(P){return O.saveSetting("desk_sitting_height",P)}),e.k0s()(),e.j41(14,"div",11),e.EFF(15),e.k0s()(),e.j41(16,"label"),e.EFF(17,"Standing Height"),e.k0s(),e.j41(18,"div",12)(19,"mat-slider",13)(20,"input",10),e.mxI("ngModelChange",function(P){return e.DH7(O.desk_standing_height,P)||(O.desk_standing_height=P),P}),e.bIt("ngModelChange",function(P){return O.saveSetting("desk_standing_height",P)}),e.k0s()(),e.j41(21,"div",14),e.EFF(22),e.k0s()()(),e.DNE(23,b,2,0,"button",15),e.k0s()),2&v&&(e.R7$(5),e.Y8G("ngIf",O.not_set&&O.show_close),e.R7$(7),e.Y8G("displayWith",O.formatLabel),e.R7$(),e.R50("ngModel",O.desk_sitting_height),e.R7$(2),e.SpI(" ",O.desk_sitting_height.toFixed(1),"cm "),e.R7$(4),e.Y8G("displayWith",O.formatLabel),e.R7$(),e.R50("ngModel",O.desk_standing_height),e.R7$(2),e.SpI(" ",O.desk_standing_height.toFixed(1),"cm "),e.R7$(),e.Y8G("ngIf",O.show_close))},dependencies:[l.bT,h.me,h.BC,h.vS,g.r6,p.IV,p.OU]})}return y})()},7022:(gt,re,o)=>{"use strict";o.d(re,{b:()=>l});var e=o(2659),n=o(3953);let l=(()=>{class h{transform(p,f=!1){let b=(0,e.a)({hours:Math.floor(p/60),minutes:p%60});return f&&(b=b.replace("hour","h").replace("minute","m").replace(/s/gi,"")),b}static#e=this.\u0275fac=function(f){return new(f||h)};static#t=this.\u0275pipe=n.EJ8({name:"duration",type:h,pure:!0})}return h})()},785:(gt,re,o)=>{"use strict";o.d(re,{p:()=>p});var e=o(9707),n=o(3953),l=o(177),h=o(9434);function g(f,b){if(1&f){const d=n.RV6();n.j41(0,"div",1)(1,"div",2),n.EFF(2),n.k0s(),n.j41(3,"button",3),n.bIt("click",function(){n.eBV(d);const R=n.XpG();return n.Njj(R.close())}),n.j41(4,"app-icon"),n.EFF(5,"close"),n.k0s()()()}if(2&f){const d=n.XpG();n.AVh("bg-info","info"===d.banner.type||!d.banner.type)("text-info-content","info"===d.banner.type||!d.banner.type)("bg-warning","warn"===d.banner.type)("text-warning-content","warn"===d.banner.type)("bg-error","error"===d.banner.type)("text-error-content","error"===d.banner.type),n.R7$(2),n.JRh(null==d.banner?null:d.banner.content)}}let p=(()=>{class f{get has_viewed(){return!this.banner?.content||localStorage.getItem("PLACE.last_banner")===this.banner.id}get banner(){return this._settings.get("app.general.banner")}constructor(d){this._settings=d}close(){localStorage.setItem("PLACE.last_banner",this.banner?.id||"")}static#e=this.\u0275fac=function(y){return new(y||f)(n.rXU(e.h$))};static#t=this.\u0275cmp=n.VBU({type:f,selectors:[["global-banner"]],decls:1,vars:1,consts:[["class","flex items-center w-full p-4 space-x-4",3,"bg-info","text-info-content","bg-warning","text-warning-content","bg-error","text-error-content",4,"ngIf"],[1,"flex","items-center","w-full","p-4","space-x-4"],[1,"flex-1"],["icon","",3,"click"]],template:function(y,R){1&y&&n.DNE(0,g,6,13,"div",0),2&y&&n.Y8G("ngIf",!R.has_viewed)},dependencies:[l.bT,h.R],styles:["[_nghost-%COMP%]{display:block;width:100%}"]})}return f})()},4921:(gt,re,o)=>{"use strict";o.d(re,{h:()=>R});var e=o(467),n=o(4046),l=o(5157),h=o(9707),g=o(8026),p=o(3953),f=o(177),b=o(9183);function d(m,v){1&m&&(p.j41(0,"div",2),p.EFF(1," Unable to reach server... Some features may not work. "),p.k0s())}function y(m,v){1&m&&(p.j41(0,"div",3),p.nrm(1,"mat-spinner",4),p.k0s()),2&m&&(p.R7$(),p.Y8G("diameter",64))}let R=(()=>{class m extends h.Tv{get online(){return(0,l.sc7)()}constructor(O,S){super(),this._org=O,this._settings=S}ngOnInit(){var O=this;return(0,e.A)(function*(){O.loading=!0,yield O._org.initialised.pipe((0,n.$)(S=>S)).toPromise(),yield O._settings.initialised.pipe((0,n.$)(S=>S)).toPromise(),O.interval("has_token",()=>{!(0,l.kup)()||!(0,l.ShT)()||(O.loading=!1,O.clearInterval("has_token"))},1e3)})()}static#e=this.\u0275fac=function(S){return new(S||m)(p.rXU(g.y),p.rXU(h.h$))};static#t=this.\u0275cmp=p.VBU({type:m,selectors:[["global-loading"]],features:[p.Vt3],decls:2,vars:2,consts:[["class","fixed bottom-2 left-1/2 -translate-x-1/2 shadow rounded-3xl px-4 py-2 bg-error text-white text-xs",4,"ngIf"],["loader","","class","fixed inset-0 flex items-center justify-center pointer-events-auto bg-base-100",4,"ngIf"],[1,"fixed","bottom-2","left-1/2","-translate-x-1/2","shadow","rounded-3xl","px-4","py-2","bg-error","text-white","text-xs"],["loader","",1,"fixed","inset-0","flex","items-center","justify-center","pointer-events-auto","bg-base-100"],[3,"diameter"]],template:function(S,P){1&S&&p.DNE(0,d,2,0,"div",0)(1,y,2,1,"div",1),2&S&&(p.Y8G("ngIf",!P.online),p.R7$(),p.Y8G("ngIf",P.loading))},dependencies:[f.bT,b.LG],styles:["[_nghost-%COMP%]{pointer-events:none}[_nghost-%COMP%] > [loader][_ngcontent-%COMP%]{z-index:997;background-image:url(\"data:image/svg+xml,%3Csvg width='36' height='36' viewBox='0 0 36 36' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M36 0H0v36h36V0zM15.126 2H2v13.126c.367.094.714.24 1.032.428L15.554 3.032c-.188-.318-.334-.665-.428-1.032zM18 4.874V18H4.874c-.094-.367-.24-.714-.428-1.032L16.968 4.446c.318.188.665.334 1.032.428zM22.874 2h11.712L20 16.586V4.874c1.406-.362 2.512-1.468 2.874-2.874zm10.252 18H20v13.126c.367.094.714.24 1.032.428l12.522-12.522c-.188-.318-.334-.665-.428-1.032zM36 22.874V36H22.874c-.094-.367-.24-.714-.428-1.032l12.522-12.522c.318.188.665.334 1.032.428zm0-7.748V3.414L21.414 18h11.712c.362-1.406 1.468-2.512 2.874-2.874zm-18 18V21.414L3.414 36h11.712c.362-1.406 1.468-2.512 2.874-2.874zM4.874 20h11.712L2 34.586V22.874c1.406-.362 2.512-1.468 2.874-2.874z' fill='%23000000' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E\")}"]})}return m})()},6926:(gt,re,o)=>{"use strict";o.d(re,{o:()=>b});var e=o(9707),n=o(4351),l=o(3953),h=o(177),g=o(6600),p=o(9434);function f(d,y){if(1&d&&(l.j41(0,"a",6)(1,"div",7)(2,"div",8),l.nrm(3,"app-icon",9),l.k0s(),l.j41(4,"div",10),l.EFF(5),l.k0s()()()),2&d){const R=y.$implicit;l.Y8G("href",R.link,l.B4B),l.R7$(3),l.Y8G("icon",R.icon),l.R7$(2),l.JRh(R.name)}}let b=(()=>{class d{get tiles(){return this._settings.get("app.help")||[]}constructor(R,m){this._data=R,this._settings=m,this.close=()=>{this._data?.close()}}static#e=this.\u0275fac=function(m){return new(m||d)(l.rXU(n.Dd),l.rXU(e.h$))};static#t=this.\u0275cmp=l.VBU({type:d,selectors:[["help-tooltip"]],decls:7,vars:1,consts:()=>{let R;return R=$localize`:␟258586f2141d5b6c98ef28c38ac6f55a81a301b2␟7393197899734735120:Help & Support`,[R,[1,"flex","flex-col","w-[18.5rem]","rounded","bg-base-100","shadow","relative","-top-12","-right-1","divide-y","divide-base-200",3,"click"],[1,"flex","items-center","space-x-2","p-2","border-b"],[1,"text-2xl"],[1,""],["btn","","matRipple","","class","clear w-full text-left h-auto","target","_blank","ref","noreferer noopener",3,"href",4,"ngFor","ngForOf"],["btn","","matRipple","","target","_blank","ref","noreferer noopener",1,"clear","w-full","text-left","h-auto",3,"href"],[1,"flex","items-center","space-x-2","py-2","w-full"],[1,"flex","items-center","justify-center","rounded-full","w-8","h-8","bg-base-200"],[1,"text-xl",3,"icon"],[1,"flex-1"]]},template:function(m,v){1&m&&(l.j41(0,"div",1),l.bIt("click",function(){return v.close()}),l.j41(1,"div",2)(2,"app-icon",3),l.EFF(3,"arrow_back"),l.k0s(),l.j41(4,"div",4),l.pXf(5,0),l.k0s()(),l.DNE(6,f,6,3,"a",5),l.k0s()),2&m&&(l.R7$(6),l.Y8G("ngForOf",v.tiles))},dependencies:[h.Sq,g.r6,p.R],styles:["a[_ngcontent-%COMP%]:not(:last-child){border-bottom-width:1px!important;border-bottom-style:solid!important;border-radius:0}"]})}return d})()},9434:(gt,re,o)=>{"use strict";o.d(re,{R:()=>f});var e=o(3953),n=o(177),l=o(6781);const h=["*"];function g(b,d){if(1&b&&(e.j41(0,"i"),e.EFF(1),e.SdG(2),e.k0s()),2&b){const y=e.XpG();e.HbH((null==y.icon?null:y.icon.class)||y.className),e.R7$(),e.SpI(" ",null==y.icon?null:y.icon.content," ")}}function p(b,d){if(1&b&&(e.nrm(0,"img",3),e.nI1(1,"safe")),2&b){const y=e.XpG();e.Y8G("src",e.i5U(1,1,y.icon.src,"resource"),e.B4B)}}let f=(()=>{class b{constructor(){this.className="material-icons"}static#e=this.\u0275fac=function(R){return new(R||b)};static#t=this.\u0275cmp=e.VBU({type:b,selectors:[["app-icon"],["icon"]],inputs:{className:"className",icon:"icon"},ngContentSelectors:h,decls:3,vars:2,consts:[[1,"flex","items-center","justify-center","h-[1.25em]","w-[1.25em]"],[3,"class",4,"ngIf"],["class","h-[1em] w-[1em]",3,"src",4,"ngIf"],[1,"h-[1em]","w-[1em]",3,"src"]],template:function(R,m){1&R&&(e.NAR(),e.j41(0,"div",0),e.DNE(1,g,3,3,"i",1)(2,p,2,4,"img",2),e.k0s()),2&R&&(e.R7$(),e.Y8G("ngIf",!m.icon||"img"!==m.icon.type),e.R7$(),e.Y8G("ngIf",m.icon&&"img"===m.icon.type))},dependencies:[n.bT,l.m],styles:["i[_ngcontent-%COMP%]{font-size:1em}"]})}return b})()},5277:(gt,re,o)=>{"use strict";o.d(re,{H:()=>d});var e=o(3953);function n(y,R){if(1&y&&e.nrm(0,"img",8),2&y){const m=e.XpG().$implicit;e.Y8G("source",m.url||m)}}function l(y,R){if(1&y&&(e.j41(0,"div",6),e.DNE(1,n,1,1,"img",7),e.k0s()),2&y){const m=R.$implicit,v=e.XpG();e.xc7("transform","translateX(-"+100*v.offset+"%)"),e.R7$(),e.Y8G("ngIf",m)}}function h(y,R){1&y&&(e.j41(0,"div",9)(1,"app-icon",10),e.EFF(2,"image_not_supported"),e.k0s(),e.j41(3,"p"),e.EFF(4,"No images"),e.k0s()())}function g(y,R){if(1&y){const m=e.RV6();e.j41(0,"button",11),e.bIt("click",function(){e.eBV(m);const O=e.XpG();return e.Njj(O.offset=O.offset-1)}),e.j41(1,"app-icon",12),e.EFF(2,"chevron_left"),e.k0s()()}if(2&y){const m=e.XpG();e.Y8G("disabled",0===m.offset)}}function p(y,R){if(1&y){const m=e.RV6();e.j41(0,"button",13),e.bIt("click",function(){e.eBV(m);const O=e.XpG();return e.Njj(O.offset=O.offset+1)}),e.j41(1,"app-icon",12),e.EFF(2,"chevron_right"),e.k0s()()}if(2&y){const m=e.XpG();e.Y8G("disabled",m.offset>=(null==m.images?null:m.images.length)-1)}}function f(y,R){if(1&y&&e.nrm(0,"button",16),2&y){const m=R.index,v=e.XpG(2);e.AVh("!bg-base-100",v.offset===m)}}function b(y,R){if(1&y&&(e.j41(0,"div",14),e.DNE(1,f,1,2,"button",15),e.k0s()),2&y){const m=e.XpG();e.R7$(),e.Y8G("ngForOf",m.images)}}let d=(()=>{class y{constructor(){this.images=[],this.offset=0}static#e=this.\u0275fac=function(v){return new(v||y)};static#t=this.\u0275cmp=e.VBU({type:y,selectors:[["image-carousel"]],inputs:{images:"images"},decls:6,vars:5,consts:[[1,"h-full","w-full","relative","overflow-hidden","flex"],["image","","class","h-full min-w-full relative flex items-center justify-center overflow-hidden",3,"transform",4,"ngFor","ngForOf"],["class","h-full w-full relative flex flex-col items-center justify-center opacity-30 space-y-2",4,"ngIf"],["matRipple","","class","opacity-0 hover:opacity-30 flex items-center justify-center absolute left-0 inset-y-0 w-1/3 bg-neutral text-white",3,"disabled","click",4,"ngIf"],["matRipple","","class","opacity-0 hover:opacity-30 flex items-center justify-center absolute right-0 inset-y-0 w-1/3 bg-neutral text-white",3,"disabled","click",4,"ngIf"],["class","absolute bottom-1 left-1/2 -translate-x-1/2 text-sm opacity-30 space-x-2",4,"ngIf"],["image","",1,"h-full","min-w-full","relative","flex","items-center","justify-center","overflow-hidden"],["auth","","class","h-full object-contain",3,"source",4,"ngIf"],["auth","",1,"h-full","object-contain",3,"source"],[1,"h-full","w-full","relative","flex","flex-col","items-center","justify-center","opacity-30","space-y-2"],[1,"text-5xl"],["matRipple","",1,"opacity-0","hover:opacity-30","flex","items-center","justify-center","absolute","left-0","inset-y-0","w-1/3","bg-neutral","text-white",3,"click","disabled"],[1,"text-4xl"],["matRipple","",1,"opacity-0","hover:opacity-30","flex","items-center","justify-center","absolute","right-0","inset-y-0","w-1/3","bg-neutral","text-white",3,"click","disabled"],[1,"absolute","bottom-1","left-1/2","-translate-x-1/2","text-sm","opacity-30","space-x-2"],["matRipple","","class","h-4 w-4 rounded-full bg-base-300 shadow",3,"!bg-base-100",4,"ngFor","ngForOf"],["matRipple","",1,"h-4","w-4","rounded-full","bg-base-300","shadow"]],template:function(v,O){1&v&&(e.j41(0,"div",0),e.DNE(1,l,2,3,"div",1)(2,h,5,0,"div",2)(3,g,3,1,"button",3)(4,p,3,1,"button",4)(5,b,2,1,"div",5),e.k0s()),2&v&&(e.R7$(),e.Y8G("ngForOf",O.images),e.R7$(),e.Y8G("ngIf",!(null!=O.images&&O.images.length)),e.R7$(),e.Y8G("ngIf",null==O.images?null:O.images.length),e.R7$(),e.Y8G("ngIf",null==O.images?null:O.images.length),e.R7$(),e.Y8G("ngIf",null==O.images?null:O.images.length))},styles:["[_nghost-%COMP%]{display:block;height:100%;width:100%}[image][_ngcontent-%COMP%]{transition:transform .3s}"]})}return y})()},6821:(gt,re,o)=>{"use strict";o.d(re,{d:()=>g});var e=o(4006),n=o(3953),l=o(6600),h=o(9434);let g=(()=>{class p{constructor(b){this.url=b}static#e=this.\u0275fac=function(d){return new(d||p)(n.rXU(e.Vh))};static#t=this.\u0275cmp=n.VBU({type:p,selectors:[["image-viewer"]],decls:5,vars:1,consts:[[1,"h-screen","w-screen","bg-base-200"],[1,"object-contain","object-center","w-full","h-full",3,"src"],["icon","","matRipple","","mat-dialog-close","",1,"absolute","top-1","right-1","bg-base-100"]],template:function(d,y){1&d&&(n.j41(0,"div",0),n.nrm(1,"img",1),n.j41(2,"button",2)(3,"app-icon"),n.EFF(4,"close"),n.k0s()()()),2&d&&(n.R7$(),n.Y8G("src",y.url,n.B4B))},dependencies:[l.r6,e.tx,h.R]})}return p})()},2124:(gt,re,o)=>{"use strict";o.d(re,{M:()=>$});var e=o(467),n=o(9707),l=o(2455),h=o(2185),g=o(9714),p=o(8728),f=o(5006),b=o(4046),d=o(9420),y=o(3953),R=o(177),m=o(3719),v=o(6600),O=o(9631),S=o(9183),P=o(4823),M=o(9434),w=o(1780);const x=["searchInput"],I=["searchResultItems"];function _(U,G){1&U&&(y.j41(0,"div",11),y.nrm(1,"mat-spinner",12),y.k0s()),2&U&&(y.R7$(),y.Y8G("diameter",48))}function C(U,G){if(1&U&&(y.j41(0,"div",13),y.nrm(1,"img",14),y.j41(2,"p",15),y.EFF(3),y.nI1(4,"translate"),y.k0s()()),2&U){const J=y.XpG();y.R7$(3),y.SpI(" ",y.bMT(4,1,J.geolocation_error_message)," ")}}function D(U,G){if(1&U){const J=y.RV6();y.j41(0,"li",21)(1,"button",22),y.bIt("click",function(){const ne=y.eBV(J).$implicit,K=y.XpG(2);return K.getRoute(ne),y.Njj(K.search_result_items=[])}),y.j41(2,"div",23)(3,"div"),y.EFF(4),y.k0s(),y.j41(5,"div",24),y.EFF(6),y.k0s()()()()}if(2&U){const J=G.$implicit;y.R7$(4),y.JRh(J.properties.name),y.R7$(2),y.Lme(" ",J.properties.roomId,", Level ",J.properties.floorName," ")}}function A(U,G){if(1&U){const J=y.RV6();y.qex(0),y.j41(1,"div",16)(2,"h3",17),y.EFF(3),y.k0s(),y.j41(4,"button",18),y.bIt("click",function(){y.eBV(J);const ne=y.XpG();return y.Njj(ne.search_result_items=[])}),y.j41(5,"app-icon"),y.EFF(6,"close"),y.k0s()()(),y.j41(7,"ul",19),y.DNE(8,D,7,3,"li",20),y.nI1(9,"slice"),y.k0s(),y.bVm()}if(2&U){const J=y.XpG();y.R7$(3),y.SpI(" Results (",J.search_result_items.length||"0",") "),y.R7$(5),y.Y8G("ngForOf",y.brH(9,2,J.search_result_items,0,10))}}function F(U){return U*(Math.PI/180)}let $=(()=>{class U extends n.Tv{constructor(J,te,ne){super(),this._api_service=J,this._state=te,this._org=ne,this.default_zoom=19,this.live_data_status="enabled",this.search_result_items=[],this.selected_destination=null,this.actions_hashmap={},this.user_latitude=null,this.user_longitude=null,this.geolocation_error_message="",this.route_error_message="",this.coordinates=null,this.buildings=this._org.building_list,this.building=this._org.active_building,this.setBuilding=K=>{this._org.building=K,this._setLocationToBuilding()},this.levels=(0,g.zV)([this.building,this._state.options]).pipe((0,p.p)(([K])=>!!K),(0,f.T)(([K])=>[{id:this._org.building.id,name:"All Levels"},...this._org.levelsForBuilding(K)])),this.floor_mapping={}}ngOnInit(){var J=this;return(0,e.A)(function*(){J.loading=!0,yield J._org.initialised.pipe((0,b.$)(ne=>!!ne)).toPromise(),J.setBuilding(J._org.building),J.custom_coordinates&&(J.coordinates=J.custom_coordinates);const te=()=>{J._getUserLocation(),document.removeEventListener("click",te)};document.addEventListener("click",te),yield J._initMapView()})()}ngOnChanges(J){var te=this;return(0,e.A)(function*(){if((J.styles||J.actions)&&(yield te.renderSpaceStatus(),yield te.mapActions()),J.locate&&te.locate&&mapsindoors){const ne={q:te.searchElement.nativeElement.value},K=yield mapsindoors?.services.LocationsService.getLocations(ne);K.length&&te.getRoute(K[0])}te.mapFloorsToIndex(),te.loading=!1})()}ngAfterViewInit(){this.maps_service?.addListener("click",(J,te)=>{const ne=this.actions_hashmap[J.id];ne&&ne.callback(te)})}_initMapView(){if(!this._api_service.is_ready||!window.mapsindoors)return void this.timeout("init",()=>this._initMapView(),1e3);const J={element:document.getElementById("maps-indoors"),center:{lat:this.user_latitude,lng:this.user_longitude},zoom:this.default_zoom||19,maxZoom:24};this._api_service.map_service===d.u.GoogleMaps?((0,n.Rm)("MapsIndoors","Using Google Maps API"),this.view_instance=new mapsindoors.mapView.GoogleMapsView(J)):(J.accessToken=this._api_service.map_token,console.log("View Options:",J),(0,n.Rm)("MapsIndoors","Using Mapbox API"),this.view_instance=new mapsindoors.mapView.MapboxView(J)),this.view_instance?(this.maps_service=new mapsindoors.MapsIndoors({mapView:this.view_instance}),this.map_instance=this.view_instance.getMap(),this.initDirections(),this.handleLocationChange(),this.mapFloorsToIndex(),this._setLocationToBuilding()):(0,n.Rm)("MapsIndoors","Failed to initialise map view instance.",void 0,"warn")}initDirections(){const J=this._api_service.map_service===d.u.GoogleMaps?new mapsindoors.directions.GoogleMapsProvider:new mapsindoors.directions.MapboxProvider(this._api_service.map_token);this.directions_service=new mapsindoors.services.DirectionsService(J),this.directions_renderer=new mapsindoors.directions.DirectionsRenderer({mapsIndoors:this.maps_service})}mapFloorsToIndex(){var J=this;return(0,e.A)(function*(){const te=yield J.maps_service?.getBuilding(),K=te?.buildingInfo?.fields?.floorMapping?.value?.split(",\n").map(j=>j.split(":"));console.log("Pairs:",K,te),J.floor_mapping=K?.reduce((j,[W,ie])=>(j[W]=ie,j),{})||{};const k=yield J.maps_service?.getFloor();k&&J.floor_mapping&&J._state.setLevel(J.floor_mapping[k])})()}handleLocationChange(){const J=document.createElement("div");new mapsindoors.FloorSelector(J,this.maps_service),this._api_service.map_service===d.u.GoogleMaps?this.map_instance.controls[google.maps.ControlPosition.RIGHT_TOP].push(J):this.view_instance.getMap().addControl({onAdd:()=>J,onRemove:()=>{}}),this.maps_service?.addListener("building_changed",te=>{const ne=this._org.buildings.find(K=>{K.name.toLowerCase(),te.buildingInfo?.name.toLowerCase(),this.setBuilding(ne)})}),this.maps_service?.addListener("floor_changed",te=>{te&&this.floor_mapping&&this._state.setLevel(this.floor_mapping[te])})}onSearch(){const J={q:this.searchElement.nativeElement.value};mapsindoors?.services.LocationsService.getLocations(J).then(te=>{console.log("Locations:",te,this.map_instance.getZoom()),this.search_result_items=te})}_getUserLocation(){var J=this;return(0,e.A)(function*(){return"geolocation"in navigator?J.coordinates?(console.log("Using custom coordinates:",J.coordinates),J.user_latitude=J.coordinates.latitude,void(J.user_longitude=J.coordinates.longitude)):(navigator.geolocation.watchPosition(ne=>J._updateGeolocation(ne),ne=>J._handleGeolocationError(ne)),void navigator.geolocation.getCurrentPosition(ne=>{if(!J._userWithinRadius([ne.coords.latitude,ne.coords.longitude]))return J._setLocationToBuilding();J._updateGeolocation(ne),J.map_instance.setCenter({lat:ne.coords.latitude,lng:ne.coords.longitude})},()=>J._setLocationToBuilding(),{timeout:1e4,enableHighAccuracy:!0})):((0,n.Rm)("MapsIndoors","User's geolocation not available.",void 0,"warn"),J._setLocationToBuilding())})()}_userWithinRadius([J,te],ne=1){const[K,k]=this._org.building?.location.split(",")||[];return!(K&&k&&function B(U,G,J,te){const K=F(J-U),k=F(te-G);U=F(U),J=F(J);const j=Math.sin(K/2)*Math.sin(K/2)+Math.sin(k/2)*Math.sin(k/2)*Math.cos(U)*Math.cos(J);return 2*Math.atan2(Math.sqrt(j),Math.sqrt(1-j))*6371}(parseFloat(K),parseFloat(k),J,te)>=ne)}_setLocationToBuilding(){(0,n.Rm)("MapsIndoors","Settings location to building:",[this._org.building?.display_name||this._org.building?.name,this._org.building?.location]);const[J,te]=this._org.building?.location.split(",");this.map_instance&&this.map_instance.setCenter({lat:parseFloat(J),lng:parseFloat(te)})}_updateGeolocation(J){if(!J?.coords)return;(0,n.Rm)("MapsIndoors","Settings location to user:",J.coords,"warn");const{latitude:te,longitude:ne}=J.coords;(te!==this.user_latitude||ne!==this.user_longitude)&&(this.user_latitude=te,this.user_longitude=ne,this.getRoute(this.selected_destination))}_handleGeolocationError(J){(0,n.UG)(`Error retrieving your geolocation. [${J.message}]`)}getRoute(J){var te=this;return(0,e.A)(function*(){if(te.maps_service?.highlight([]),!te.directions_service||!J)return;console.log("Directions Service:",te.directions_service),(0,n.Rm)("MapsIndoors","Getting route to location:",[J,te.user_latitude,te.user_longitude]),te.selected_destination=J;const ne={lat:J.properties.anchor.coordinates[1],lng:J.properties.anchor.coordinates[0],floor:J.properties.floor},K=(te.floor_mapping||{})[J.properties.floor];if(K&&te._state.setLevel(K),!te._userWithinRadius([te.user_latitude,te.user_longitude],1e3))return te.map_instance.setZoom(19),te.map_instance.setCenter(ne),te.maps_service.setFloor(ne.floor),void te.maps_service.highlight([J.id]);if(!te.user_latitude||!te.user_longitude)return(0,n.UG)("Unable to find a route.");const j={origin:{lat:te.user_latitude,lng:te.user_longitude},destination:ne};console.log("Route Parameters:",j);const W=yield te.directions_service.getRoute(j).catch(ie=>{(0,n.Rm)("MapsIndoors","Error fetching route: ",ie.message||ie,"warn"),ie instanceof TypeError&&ie.message?.includes("origin")&&(0,n.UG)("Error: Origin location is outside of map area.")});W&&(console.log("Route:",W),te.directions_renderer?.setRoute(W))})()}renderSpaceStatus(){var J=this;return(0,e.A)(function*(){if(!J.styles)return;const te=[];for(const ne in J.styles){const K=J.styles[ne].fill;if(ne){const k=ne.substring(1);te.push(J._setPolygonFill(k,K))}}return yield Promise.all(te)})()}mapActions(){var J=this;return(0,e.A)(function*(){return J.actions?.reduce((te,ne)=>(te[ne.id]=ne,te),{})})()}_setPolygonFill(J,te){return this.maps_service?.setDisplayRule(J,{polygonVisible:!0,polygonFillOpacity:.6,polygonZoomFrom:16,polygonZoomTo:22,visible:!0,polygonFillColor:te})}static#e=this.\u0275fac=function(te){return new(te||U)(y.rXU(n._e),y.rXU(l.O),y.rXU(h.yb))};static#t=this.\u0275cmp=y.VBU({type:U,selectors:[["indoor-maps"]],viewQuery:function(te,ne){if(1&te&&(y.GBs(x,7),y.GBs(I,5)),2&te){let K;y.mGM(K=y.lsd())&&(ne.searchElement=K.first),y.mGM(K=y.lsd())&&(ne.searchResults=K.first)}},inputs:{styles:"styles",actions:"actions",custom_coordinates:"custom_coordinates",locate:"locate",default_zoom:"default_zoom"},features:[y.Vt3,y.OA$],decls:12,vars:3,consts:[["searchInput",""],["id","maps-indoors",1,"absolute","inset-0","flex","items-center","justify-center"],["class","absolute inset-0 flex items-center justify-center",4,"ngIf"],["class","absolute inset-0 flex flex-col space-y-2 items-center justify-center",4,"ngIf"],[1,"absolute","flex","flex-col","h-min","w-min","top-2","left-2","bg-base-100","text-base-content","rounded-lg","z-50","p-2","shadow"],["appearance","outline",1,"map","no-subscript"],["matInput","","name","location-search","type","text","placeholder","Search",3,"keyup.enter"],["matSuffix","",1,"h-10","relative"],["icon","","name","indoor-map-search","matRipple","","aria-label","search button","matTooltip","Search...",1,"hover:bg-base-200",3,"click"],["matPrefix","",1,"text-2xl","relative"],[4,"ngIf"],[1,"absolute","inset-0","flex","items-center","justify-center"],[3,"diameter"],[1,"absolute","inset-0","flex","flex-col","space-y-2","items-center","justify-center"],["src","assets/icons/not-found.svg","alt","graphic of magnifying glass","width","200px",1,"items-center"],[1,"opacity-60","text-sm","text-center","mt-10"],[1,"flex","items-center","justify-between","px-2","my-2","space-x-2"],[1,"font-medium","text-lg"],["icon","","matRipple","","matTooltip","Clear Results",1,"hover:bg-base-200",3,"click"],[1,"list-none","m-0","p-0","w-full","space-y-2","max-h-[65vh]","overflow-auto"],["class","w-full even:bg-base-200 hover:bg-base-300 rounded border border-base-200",4,"ngFor","ngForOf"],[1,"w-full","even:bg-base-200","hover:bg-base-300","rounded","border","border-base-200"],[1,"flex","items-center","w-full","p-2","space-x-2","text-left",3,"click"],[1,"flex","flex-col","flex-1"],[1,"opacity-30","text-xs"]],template:function(te,ne){if(1&te){const K=y.RV6();y.nrm(0,"div",1),y.DNE(1,_,2,1,"div",2)(2,C,5,3,"div",3),y.j41(3,"div",4)(4,"mat-form-field",5)(5,"input",6,0),y.bIt("keyup.enter",function(){return y.eBV(K),y.Njj(ne.onSearch())}),y.k0s(),y.j41(7,"div",7)(8,"button",8),y.bIt("click",function(){return y.eBV(K),y.Njj(ne.onSearch())}),y.j41(9,"app-icon",9),y.EFF(10," search "),y.k0s()()()(),y.DNE(11,A,10,6,"ng-container",10),y.k0s()}2&te&&(y.R7$(),y.Y8G("ngIf",ne.loading),y.R7$(),y.Y8G("ngIf",ne.geolocation_error_message),y.R7$(9),y.Y8G("ngIf",null==ne.search_result_items?null:ne.search_result_items.length))},dependencies:[R.Sq,R.bT,m.rl,m.JW,m.yw,v.r6,O.fg,S.LG,P.oV,M.R,R.P9,w.D9],styles:["[_nghost-%COMP%]{height:100%;width:100%}mat-spinner[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%)}"]})}return U})()},4918:(gt,re,o)=>{"use strict";o.d(re,{N:()=>d,S:()=>y});var e=o(3953),n=o(9707),l=o(2185),h=o(2455);const g=["*","*"];function p(R,m){if(1&R){const v=e.RV6();e.qex(0),e.j41(1,"map-renderer",3),e.mxI("zoomChange",function(S){e.eBV(v);const P=e.XpG();return e.DH7(P.zoom,S)||(P.zoom=S),e.Njj(S)}),e.bIt("zoomChange",function(S){e.eBV(v);const P=e.XpG();return e.Njj(P.zoomChange.next(S))})("mapInfo",function(S){e.eBV(v);const P=e.XpG();return e.Njj(P.mapInfo.next(S))}),e.SdG(2),e.k0s(),e.bVm()}if(2&R){const v=e.XpG();e.R7$(),e.Y8G("src",v.src),e.R50("zoom",v.zoom),e.Y8G("reset",v.reset)("styles",v.styles||(null==v.metadata?null:v.metadata.styles))("features",v.features||(null==v.metadata?null:v.metadata.features))("actions",v.actions||(null==v.metadata?null:v.metadata.actions))("labels",v.labels||(null==v.metadata?null:v.metadata.labels))}}function f(R,m){if(1&R){const v=e.RV6();e.j41(0,"maps-indoors",4),e.bIt("zoneChange",function(S){e.eBV(v);const P=e.XpG();return e.Njj(P.onLevelChange(S))}),e.mxI("zoomChange",function(S){e.eBV(v);const P=e.XpG();return e.DH7(P.zoom,S)||(P.zoom=S),e.Njj(S)}),e.bIt("zoomChange",function(S){e.eBV(v);const P=e.XpG();return e.Njj(P.zoomChange.next(S))}),e.SdG(1,1),e.k0s()}if(2&R){const v=e.XpG();e.Y8G("zone",v.location),e.R50("zoom",v.zoom),e.Y8G("options",v.options)("reset",v.reset)("focus",v.focus)("metadata",v.metadata)}}function b(R,m){if(1&R){const v=e.RV6();e.j41(0,"div",5)(1,"button",6),e.bIt("click",function(){e.eBV(v);const S=e.XpG();return e.Njj(S.zoom=1.1*S.zoom)}),e.j41(2,"app-icon"),e.EFF(3,"add"),e.k0s()(),e.j41(4,"button",7),e.bIt("click",function(){e.eBV(v);const S=e.XpG();return e.Njj(S.zoom=S.zoom*(10/11))}),e.j41(5,"app-icon"),e.EFF(6,"remove"),e.k0s()(),e.j41(7,"button",8),e.bIt("click",function(){e.eBV(v);const S=e.XpG();return e.Njj(S.reset=S.reset+1)}),e.j41(8,"app-icon"),e.EFF(9,"refresh"),e.k0s()()()}}const d=new e.nKC("Data for Map Features");let y=(()=>{class R extends n.Tv{get location(){return this._org.levels.find(v=>v.map_id===this.src)}constructor(v,O,S){super(),this._mapspeople=v,this._org=O,this._explore=S,this.zoom=1,this.center={x:.5,y:.5},this.reset=0,this.metadata={},this.options={},this.zoomChange=new e.bkB,this.centerChange=new e.bkB,this.mapInfo=new e.bkB,this.use_mapsindoors$=this._mapspeople.available$}ngOnChanges(v){(v.actions||v.labels||v.styles||v.features)&&(this.metadata={actions:this.actions||[],labels:this.labels||[],styles:this.styles||{},features:this.features||[]})}onLevelChange(v){(0,n.Rm)("Map","Level changed to:",v?.display_name||v?.name||v),this._explore.setLevel(v.id)}static#e=this.\u0275fac=function(O){return new(O||R)(e.rXU(n._e),e.rXU(l.yb),e.rXU(h.O))};static#t=this.\u0275cmp=e.VBU({type:R,selectors:[["interactive-map"]],inputs:{src:"src",zoom:"zoom",center:"center",reset:"reset",metadata:"metadata",styles:"styles",features:"features",labels:"labels",actions:"actions",options:"options",focus:"focus"},outputs:{zoomChange:"zoomChange",centerChange:"centerChange",mapInfo:"mapInfo"},features:[e.Vt3,e.OA$],ngContentSelectors:g,decls:5,vars:5,consts:[["mapsindoors_template",""],[4,"ngIf","ngIfElse"],["zoom","","class","absolute bottom-16 right-1 border border-base-200 divide-y divide-base-200 shadow flex flex-col bg-base-100 text-base-content rounded overflow-hidden",4,"ngIf"],[3,"zoomChange","mapInfo","src","zoom","reset","styles","features","actions","labels"],[3,"zoneChange","zoomChange","zone","zoom","options","reset","focus","metadata"],["zoom","",1,"absolute","bottom-16","right-1","border","border-base-200","divide-y","divide-base-200","shadow","flex","flex-col","bg-base-100","text-base-content","rounded","overflow-hidden"],["icon","","matRipple","","matTooltip","Zoom In","matTooltipPosition","left",1,"rounded-none",3,"click"],["icon","","matRipple","","matTooltip","Zoom Out","matTooltipPosition","left",1,"rounded-none",3,"click"],["icon","","matRipple","","matTooltip","Reset Zoom and Position","matTooltipPosition","left",1,"rounded-none",3,"click"]],template:function(O,S){if(1&O&&(e.NAR(g),e.DNE(0,p,3,7,"ng-container",1),e.nI1(1,"async"),e.DNE(2,f,2,6,"ng-template",null,0,e.C5r)(4,b,10,0,"div",2)),2&O){const P=e.sdS(3);e.Y8G("ngIf",!e.bMT(1,3,S.use_mapsindoors$))("ngIfElse",P),e.R7$(4),e.Y8G("ngIf",null==S.options?null:S.options.controls)}}})}return R})()},2354:(gt,re,o)=>{"use strict";o.d(re,{o:()=>l});var e=o(2238),n=o(3953);let l=(()=>{class h{constructor(p){this.json=p?.data||"",this._updateFormatting()}ngOnChanges(p){p.json&&this._updateFormatting()}_updateFormatting(){this.formatted_json=JSON.stringify(this.json,void 0,4)}static#e=this.\u0275fac=function(f){return new(f||h)(n.rXU(e.D,8))};static#t=this.\u0275cmp=n.VBU({type:h,selectors:[["json-display"]],inputs:{json:"json"},features:[n.OA$],decls:3,vars:1,consts:[[1,"bg-base-100","shadow","rounded","overflow-auto","max-w-[80vw]","max-h-[80vh]","p-2","border","border-base-300"],[1,"font-mono","text-sm","bg-base-200","p-2","rounded","break-all","w-full"]],template:function(f,b){1&f&&(n.j41(0,"div",0)(1,"pre",1),n.EFF(2),n.k0s()()),2&f&&(n.R7$(2),n.JRh(b.formatted_json))},styles:["pre[_ngcontent-%COMP%]{white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}"]})}return h})()},3835:(gt,re,o)=>{"use strict";o.d(re,{O:()=>b});var e=o(9707),n=o(4351),l=o(3953),h=o(1780),g=o(177),p=o(9434);function f(d,y){if(1&d){const R=l.RV6();l.j41(0,"button",6),l.bIt("click",function(){const v=l.eBV(R).$implicit,O=l.XpG();return l.Njj(O.setLocale(v.id))}),l.EFF(1),l.k0s()}if(2&d){const R=y.$implicit;l.R7$(),l.Lme(" ",R.name," - ",R.flag," ")}}let b=(()=>{class d{get locales(){return this._settings.get("app.locales")||[]}constructor(R,m,v){this._data=R,this._settings=m,this._translation=v,this.setLocale=O=>{this._translation.use(O),localStorage.setItem("PLACEOS.locale",O)},this.close=()=>this._data?.close()}static#e=this.\u0275fac=function(m){return new(m||d)(l.rXU(n.Dd),l.rXU(e.h$),l.rXU(h.c$))};static#t=this.\u0275cmp=l.VBU({type:d,selectors:[["language-select"]],decls:11,vars:7,consts:[[1,"flex","flex-col","w-[18.5rem]","rounded","bg-base-100","shadow","relative","-top-12","-right-1",3,"click"],[1,"flex","items-center","space-x-2","p-2"],[1,"text-2xl"],[1,""],[1,"text-xs","opacity-60","mb-4","px-2","p-4"],["class","w-full p-4 border-t border-base-200 text-left",3,"click",4,"ngFor","ngForOf"],[1,"w-full","p-4","border-t","border-base-200","text-left",3,"click"]],template:function(m,v){1&m&&(l.j41(0,"div",0),l.bIt("click",function(){return v.close()}),l.j41(1,"div",1)(2,"app-icon",2),l.EFF(3,"arrow_back"),l.k0s(),l.j41(4,"div",3),l.EFF(5),l.nI1(6,"translate"),l.k0s()(),l.j41(7,"div",4),l.EFF(8),l.nI1(9,"translate"),l.k0s(),l.DNE(10,f,2,2,"button",5),l.k0s()),2&m&&(l.R7$(5),l.JRh(l.bMT(6,3,"COMMON.LANGUAGE")),l.R7$(3),l.SpI(" ",l.bMT(9,5,"COMMON.LANGUAGE_SELECT")," "),l.R7$(2),l.Y8G("ngForOf",v.locales))},dependencies:[g.Sq,p.R,h.D9]})}return d})()},2897:(gt,re,o)=>{"use strict";o.d(re,{B:()=>p});var e=o(3953);const n="0123456789".split(""),l="0123456789.".split(""),h="abcdefghijklmnopqrstuvwxyz".split(""),g="abcdefghijklmnopqrstuvwxyz0123456789".split("");let p=(()=>{class f{constructor(d){this._el=d,this.restriction="decimals",this.custom_list=[]}onKeyDown(d){const y=d,R=y.key;if(!(-1!==["ArrowLeft","ArrowRight","Tab","Backspace","Home"].indexOf(R)||"a"===y.key&&(y.ctrlKey||y.metaKey)||"c"===y.key&&(y.ctrlKey||y.metaKey)||"v"===y.key&&(y.ctrlKey||y.metaKey)||"x"===y.key&&(y.ctrlKey||y.metaKey)))switch(this.restriction){case"letters":-1===h.indexOf(R)&&y.preventDefault();break;case"alphanumeric":-1===g.indexOf(R)&&y.preventDefault();break;case"custom":-1===this.custom_list.indexOf(R)&&y.preventDefault();break;case"decimals":-1===l.indexOf(R)&&y.preventDefault();break;default:-1===n.indexOf(R)&&y.preventDefault()}}static#e=this.\u0275fac=function(y){return new(y||f)(e.rXU(e.aKT))};static#t=this.\u0275dir=e.FsC({type:f,selectors:[["","limitInput",""]],hostBindings:function(y,R){1&y&&e.bIt("keydown",function(v){return R.onKeyDown(v)})},inputs:{restriction:"restriction",custom_list:"custom_list"}})}return f})()},7558:(gt,re,o)=>{"use strict";o.d(re,{I:()=>d});var e=o(467),n=o(9714),l=o(4918),h=o(9493),g=o(9707),p=o(3953);const f=["canvas"],b=["map-canvas",""];let d=(()=>{class y extends g.Tv{get ratioed_height(){return+(this.width*this.ratio).toFixed(2)}constructor(m){super(),this._data=m,this.zoom=1,this.ratio=1,this.svg_ratio=1,this.width=1e4}ngOnInit(){this.subscription("state",(0,n.zV)([this._data.ratio$,this._data.zoom$,this._data.svg_ratio$]).subscribe(([m,v,O])=>this._handleMapChange(m,v,O))),this.subscription("polygons",this._data.polygons$.subscribe(m=>this._handleStateChange(m)))}_handleMapChange(m,v,O){var S=this;return(0,e.A)(function*(){const P=S.ratio;S.zoom=v,S.ratio=m,S.svg_ratio=O;const w=S.width*S.ratio/10;if(P===m)return;const x=S.canvas_element.nativeElement;x.width=S.width/10,x.height=w;const I=yield S._data.polygons$.pipe((0,h.s)(1)).toPromise();S._handleStateChange(I)})()}_handleStateChange(m){const v=this.canvas_element.nativeElement;v.getContext("2d").clearRect(0,0,v.width,v.height),m.forEach(S=>this._drawPolygon(S))}_drawPolygon(m){const v=m.points;if(!v?.length)return;const O=this.canvas_element.nativeElement,S=O.getContext("2d"),P=O.width,M=O.height;if(S.fillStyle=m.color+"80",S.beginPath(),S.moveTo(v[0][0]*P,v[0][1]*M),v.forEach(([w,x])=>S.lineTo(w*P,x*M)),S.closePath(),S.fill(),S.strokeStyle=(0,g.ej)(m.color,"#888888",.5),S.lineWidth=3,S.beginPath(),S.moveTo(v[0][0]*P,v[0][1]*M),v.forEach(([w,x])=>S.lineTo(w*P,x*M)),S.closePath(),S.stroke(),!1!==this._data.draw_points&&(S.fillStyle="#fff",S.strokeStyle=m.color,S.lineWidth=4,v.forEach(([w,x])=>{S.beginPath(),S.arc(w*P,x*M,8,0,2*Math.PI),S.fill(),S.stroke()})),!1!==this._data.draw_labels){const w=v.reduce((x,[I,_])=>[x[0]+I,x[1]+_],[0,0]);w[0]/=v.length,w[1]/=v.length,S.textAlign="center",S.textBaseline="middle",S.fillStyle="#FFF",S.font="32px sans-serif",S.fillText(m.name,w[0]*P+1,w[1]*M+2),S.fillStyle="#000",S.fillText(m.name,w[0]*P,w[1]*M)}}static#e=this.\u0275fac=function(v){return new(v||y)(p.rXU(l.N))};static#t=this.\u0275cmp=p.VBU({type:y,selectors:[["","map-canvas",""]],viewQuery:function(v,O){if(1&v&&p.GBs(f,7),2&v){let S;p.mGM(S=p.lsd())&&(O.canvas_element=S.first)}},features:[p.Vt3],attrs:b,decls:2,vars:4,consts:[["canvas",""],[1,"absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2"]],template:function(v,O){1&v&&p.nrm(0,"canvas",1,0),2&v&&p.xc7("width",O.width*O.svg_ratio*O.zoom+"%")("height",O.width*O.svg_ratio*O.ratio*O.zoom+"%")},encapsulation:2})}return y})()},620:(gt,re,o)=>{"use strict";o.d(re,{V:()=>b});var e=o(3953),n=o(4006),l=o(9707),h=o(8026),g=o(1865);const p=()=>({disable_pan:!0,disable_zoom:!0});function f(d,y){if(1&d&&(e.j41(0,"div",7)(1,"interactive-map",8),e.nrm(2,"mat-spinner",9),e.k0s(),e.j41(3,"div",10),e.EFF(4),e.k0s()()),2&d){const R=e.XpG();e.R7$(),e.Y8G("src",null==R.level?null:R.level.map_id)("focus",null==R.item?null:R.item.map_id)("features",R.features)("options",e.lJ4(5,p)),e.R7$(3),e.SpI(" ",(null==R.level?null:R.level.display_name)||(null==R.level?null:R.level.name)," ")}}let b=(()=>{class d extends l.Tv{get level(){return this.item.level||this._org.levelWithID(this.item.zones||[])}constructor(R,m){super(),this._data=R,this._org=m,this.event=new e.bkB,this.item=this._data.item,this.style_map={},this.item.level?.id||delete this.item.level}ngOnInit(){this.timeout("init",()=>{this.processFeature(),this.processStyles()},1e3)}processStyles(){const R={};this.item?.map_id&&(R["#zones"]={display:"none"},R["#Zones"]={display:"none"}),this.style_map=R}processFeature(){if(!this.item)return null;this.features=[{location:this.item.map_id,track_id:"focus_item",content:g.V,data:{name:this.item.name},z_index:99,zoom:100}]}static#e=this.\u0275fac=function(m){return new(m||d)(e.rXU(n.Vh),e.rXU(h.y))};static#t=this.\u0275cmp=e.VBU({type:d,selectors:[["map-locate-modal"]],outputs:{event:"event"},features:[e.Vt3],decls:10,vars:2,consts:[[1,"h-[calc(100vh-4rem)]","w-screen","sm:h-auto","sm:w-auto"],[1,"p-4"],[1,"text-2xl"],[1,"ml-2","text-xl","font-medium"],["body","","class","relative overflow-hidden h-[65vh] w-full sm:max-h-[65vh]",4,"ngIf"],[1,"w-full","border-t","border-base-200","flex","items-center","justify-center","p-2"],["btn","","matRipple","","mat-dialog-close","",1,"inverse","w-32"],["body","",1,"relative","overflow-hidden","h-[65vh]","w-full","sm:max-h-[65vh]"],[1,"pointer-events-none",3,"src","focus","features","options"],["diameter","64"],[1,"absolute","top-2","right-2","py-2","px-4","bg-base-100","rounded-3xl","shadow","border","border-base-200"]],template:function(m,v){1&m&&(e.j41(0,"div",0)(1,"header",1)(2,"app-icon",2),e.EFF(3,"place"),e.k0s(),e.j41(4,"h1",3),e.EFF(5),e.k0s()(),e.DNE(6,f,5,6,"div",4),e.j41(7,"footer",5)(8,"button",6),e.EFF(9," Close "),e.k0s()()()),2&m&&(e.R7$(5),e.SpI(" ",v.item.display_name||v.item.name," "),e.R7$(),e.Y8G("ngIf",v.level))},styles:["[body][_ngcontent-%COMP%]{min-width:80vw!important}"]})}return d})()},1865:(gt,re,o)=>{"use strict";o.d(re,{V:()=>f});var e=o(4918),n=o(3953),l=o(177);const h=["map-pin",""];function g(b,d){if(1&b&&(n.j41(0,"div",2),n.EFF(1),n.k0s()),2&b){const y=n.XpG();n.R7$(),n.SpI(" ",y.message," ")}}function p(b,d){if(1&b){const y=n.RV6();n.qSk(),n.j41(0,"svg",3),n.bIt("click",function(){n.eBV(y);const m=n.XpG();return n.Njj(m.action())}),n.j41(1,"g"),n.nrm(2,"path",4),n.k0s()()}if(2&b){const y=n.XpG();n.AVh("action",y.action),n.R7$(2),n.xc7("fill",y.fill)("stroke",y.stroke)}}let f=(()=>{class b{constructor(y){this._details=y,this.message=this._details.message,this.fill=this._details.fill||"#e53935",this.stroke=this._details.stroke||"#fff",this.action=this._details.action||null}ngOnInit(){setTimeout(()=>this.show=!0,300),setTimeout(()=>this.show_message=!0,1e3)}static#e=this.\u0275fac=function(R){return new(R||b)(n.rXU(e.N))};static#t=this.\u0275cmp=n.VBU({type:b,selectors:[["","map-pin",""]],attrs:h,decls:2,vars:2,consts:[["name","message","class","p-2 m-2 rounded bg-base-100 text-gray-700 shadow",4,"ngIf"],["name","pin","viewBox","0 0 380 560",3,"action","click",4,"ngIf"],["name","message",1,"p-2","m-2","rounded","bg-base-100","text-gray-700","shadow"],["name","pin","viewBox","0 0 380 560",3,"click"],["stroke-width","25","d","M182.9,551.7c0,0.1,0.2,0.3,0.2,0.3S358.3,283,358.3,194.6c0-130.1-88.8-186.7-175.4-186.9\n            C96.3,7.9,7.5,64.5,7.5,194.6c0,88.4,175.3,357.4,175.3,357.4S182.9,551.7,182.9,551.7z M122.2,187.2c0-33.6,27.2-60.8,60.8-60.8\n            c33.6,0,60.8,27.2,60.8,60.8S216.5,248,182.9,248C149.4,248,122.2,220.8,122.2,187.2z"]],template:function(R,m){1&R&&n.DNE(0,g,2,1,"div",0)(1,p,3,6,"svg",1),2&R&&(n.Y8G("ngIf",m.message&&m.show_message),n.R7$(),n.Y8G("ngIf",m.show))},dependencies:[l.bT],styles:["[_nghost-%COMP%]{position:absolute;bottom:50%;left:50%;width:24rem;display:flex;flex-direction:column;align-items:center;transform:translate(-50%);z-index:-1}div[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-in-top 1s}.action[_ngcontent-%COMP%]{pointer-events:auto}svg[_ngcontent-%COMP%]{width:2rem;animation:_ngcontent-%COMP%_fade-in-top 1s}@keyframes _ngcontent-%COMP%_fade-in-top{0%{opacity:0;transform:translateY(-100%)}to{opacity:1;transform:translateY(0)}}"]})}return b})()},5384:(gt,re,o)=>{"use strict";o.d(re,{o:()=>d});var e=o(6863),n=o(4918),l=o(3953),h=o(177);const g=["map-radius",""];function p(y,R){if(1&y&&(l.j41(0,"span",6),l.EFF(1),l.k0s()),2&y){const m=l.XpG(3);l.R7$(),l.SpI(" Last updated: ",m.last_seen_at," ")}}function f(y,R){if(1&y&&(l.j41(0,"div",4),l.EFF(1),l.DNE(2,p,2,1,"span",5),l.k0s()),2&y){const m=l.XpG(2);l.xc7("top","-"+m.radius/2*m.zoom+"px"),l.R7$(),l.SpI(" ",m.message," "),l.R7$(),l.Y8G("ngIf",m.last_seen)}}function b(y,R){if(1&y){const m=l.RV6();l.qex(0,1),l.bIt("resize",function(){l.eBV(m);const O=l.XpG();return l.Njj(O.updateRadius())},!1,l.tSv),l.nrm(1,"div",2),l.DNE(2,f,3,4,"div",3),l.bVm()}if(2&y){const m=l.XpG();l.R7$(),l.xc7("border-color",m.stroke)("background-color",m.fill+"40")("width",m.radius*m.zoom+"px")("height",m.radius*m.zoom+"px"),l.R7$(),l.Y8G("ngIf",m.message&&m.show_message)}}let d=(()=>{class y{get last_seen_at(){return(0,e.m)(1e3*this.last_seen)+" ago"}constructor(m,v){this._details=m,this._el=v,this.zoom=1,this.radius=this._details.radius||10,this.message=this._details.message,this.fill=this._details.fill||"#e53935",this.stroke=this._details.stroke||"#e53935",this.last_seen=this._details.last_seen||0,this._details.zoom$?.subscribe(O=>Math.max(.5,this.zoom=O||1))}ngOnInit(){setTimeout(()=>this.show=!0,300),setTimeout(()=>this.show_message=!0,1e3)}ngAfterViewInit(){this.updateRadius()}updateRadius(){const m=this._el.nativeElement.getBoundingClientRect();if(!m.width)return setTimeout(()=>this.updateRadius(),300);this.radius=Math.max(64,(this._details.radius||10)*(m.width||10))}static#e=this.\u0275fac=function(v){return new(v||y)(l.rXU(n.N),l.rXU(l.aKT))};static#t=this.\u0275cmp=l.VBU({type:y,selectors:[["","map-radius",""]],attrs:g,decls:1,vars:1,consts:[[3,"resize",4,"ngIf"],[3,"resize"],["radius","",1,"center","border-4","rounded-full","border-dashed"],["message","","class","p-2 m-2 rounded bg-base-100 text-gray-700 shadow absolute top-0 whitespace-no-wrap flex flex-col w-64",3,"top",4,"ngIf"],["message","",1,"p-2","m-2","rounded","bg-base-100","text-gray-700","shadow","absolute","top-0","whitespace-no-wrap","flex","flex-col","w-64"],["class","text-xs",4,"ngIf"],[1,"text-xs"]],template:function(v,O){1&v&&l.DNE(0,b,3,9,"ng-container",0),2&v&&l.Y8G("ngIf",O.show&&O.radius)},dependencies:[h.bT],styles:["[_nghost-%COMP%]{position:absolute;height:100%;width:100%}[message][_ngcontent-%COMP%]{transform:translate(-50%,-120%);animation:_ngcontent-%COMP%_fade-in-top 1s}@keyframes _ngcontent-%COMP%_fade-in-top{0%{opacity:0;transform:translate(-50%,-220%)}to{opacity:1;transform:translate(-50%,-120%)}}"]})}return y})()},9489:(gt,re,o)=>{"use strict";o.d(re,{F:()=>F});var e=o(467),n=o(3953),l=o(9707),h=o(6511),g=o(5157),p=o(9928),f=o(5006),b=o(4918),d=o(177),y=o(9183),R=o(4616);const m=["outlet"],v=["feature"];function O($,U){1&$&&n.nrm(0,"mat-spinner",7),2&$&&n.Y8G("diameter",48)}function S($,U){if(1&$&&(n.qex(0),n.DNE(1,O,1,1,"mat-spinner",6),n.bVm()),2&$){const G=n.XpG();n.R7$(),n.Y8G("ngIf",!G.viewer||G.loading)}}function P($,U){1&$&&n.eu8(0)}function M($,U){if(1&$&&(n.qex(0),n.DNE(1,P,1,0,"ng-container",14),n.bVm()),2&$){const G=n.XpG(2),J=G.$implicit,te=G.index,ne=n.XpG(2);n.R7$(),n.Y8G("ngComponentOutlet",J.content)("ngComponentOutletInjector",ne.injectors[te])}}function w($,U){if(1&$&&(n.qex(0),n.nrm(1,"div",15),n.nI1(2,"sanitize"),n.bVm()),2&$){const G=n.XpG(2).$implicit;n.R7$(),n.Y8G("innerHTML",n.bMT(2,1,G.content),n.npT)}}function x($,U){1&$&&n.eu8(0)}function I($,U){if(1&$&&(n.qex(0),n.DNE(1,x,1,0,"ng-container",16),n.bVm()),2&$){const G=n.XpG(2).$implicit;n.R7$(),n.Y8G("ngTemplateOutlet",G.content)("ngTemplateOutletContext",G.data)}}function _($,U){if(1&$&&(n.j41(0,"div")(1,"div",11,2),n.DNE(3,M,2,2,"ng-container",12)(4,w,3,3,"ng-container",12)(5,I,2,2,"ng-container",13),n.k0s()()),2&$){const G=n.XpG().$implicit,J=n.XpG(2);n.R7$(),n.Y8G("ngSwitch",J.type(G.content)),n.BMQ("no-scale",G.no_scale)("el-id",G.location)("track-id",G.track_id)("view-id",J.viewer),n.R7$(2),n.Y8G("ngSwitchCase","component"),n.R7$(),n.Y8G("ngSwitchCase","html")}}function C($,U){if(1&$&&(n.qex(0),n.DNE(1,_,6,7,"div",10),n.bVm()),2&$){const G=U.$implicit;n.R7$(),n.Y8G("ngIf",G)}}function D($,U){if(1&$&&(n.j41(0,"div",8),n.DNE(1,C,2,1,"ng-container",9),n.k0s()),2&$){const G=n.XpG();n.R7$(),n.Y8G("ngForOf",G.features)("ngForTrackBy",G.trackByFn)}}function A($,U){1&$&&(n.j41(0,"div",17)(1,"div",18),n.EFF(2,"No map"),n.k0s()())}let F=(()=>{class $ extends l.Tv{onResize(){this.zoom=1,this.center={x:.5,y:.5},this.updateDisplay()}type(G){return"string"==typeof G?"html":G instanceof n.C4Q?"template":"component"}constructor(G){super(),this._injector=G,this.zoom=1,this.center={x:.5,y:.5},this.reset=0,this.zoomChange=new n.bkB,this.centerChange=new n.bkB,this.mapInfo=new n.bkB,this.injectors=[],this.feature_list=[],this._on_changes=new p.t(null),this._extra_data={ratio$:this._on_changes.pipe((0,f.T)(J=>J.ratio)),svg_ratio$:this._on_changes.pipe((0,f.T)(J=>J.svg_ratio)),zoom$:this._on_changes.pipe((0,f.T)(J=>J.zoom)),position:this._on_changes.pipe((0,f.T)(J=>J.center))}}ngOnInit(){(0,h.Of)()}ngOnDestroy(){this.viewer&&(0,h.b2)(this.viewer)}ngOnChanges(G){G.src&&this.src&&this.createView().catch(J=>console.warn(J)),G.features&&this.updateInjectors(),this.viewer&&(G.focus&&this.focus?this.focusOn(this.focus):(G.zoom&&G.zoom.previousValue!=G.zoom.currentValue||G.center&&!function B($,U){return $.x===U.x&&$.y===U.y}(G.center.previousValue,G.center.currentValue))&&this.updateDisplay(),(G.styles||G.features||G.labels||G.actions)&&this.timeout("update_view",()=>this.updateView())),G.reset&&G.reset.currentValue!==G.reset.previousValue&&(this.zoom=1,this.center={x:.5,y:.5},this.updateDisplay())}ngAfterViewInit(){this.createView().catch(G=>console.warn(G))}updateView(){try{if(!(0,h.tk)(this.viewer)||this.loading)return this.timeout("update_view",()=>this.updateView());this.updateFeatureList(),(0,h.Ay)(this.viewer,{styles:this.styles,features:this.feature_list,labels:this.labels,actions:this.actions,options:this.options})}catch{}}updateDisplay(){try{(0,h.Ay)(this.viewer,{zoom:this.zoom,desired_zoom:this.zoom,center:this.center,desired_center:this.center,options:this.options})}catch{}}createView(){var G=this;return(0,e.A)(function*(){if(!(0,g.kup)())return G.timeout("create_view",()=>G.createView().catch(te=>console.warn(te)),300);const J=G.src?.toLowerCase()||"";if(J.includes("svg")||J.includes("upload"))if(G.src&&G._outlet_el?.nativeElement&&!G.loading){G.loading=!0,G.viewer&&((0,h.Ay)(G.viewer,{styles:G.styles,features:[],labels:G.labels,actions:G.actions,options:G.options}),(0,h.b2)(G.viewer)),G.updateFeatureList();const te=(0,g.ShT)();document.cookie=`${"x-api-key"===te?"api-key="+encodeURIComponent((0,g.Kz4)()):"bearer_token="+encodeURIComponent(te)};max-age=30;path=/api/engine/v2/uploads;samesite=strict;${"https:"===location.protocol?"secure;":""}`,G.viewer=yield(0,h.Rx)({element:G._outlet_el?.nativeElement,url:G.src,styles:G.styles,zoom:G.zoom,desired_zoom:G.zoom,center:G.center,features:G.feature_list,labels:G.labels,actions:G.actions,options:G.options}),G.loading=!1,G.subscription("view_changes",(0,h.mn)(G.viewer)?.subscribe(K=>{G._outlet_el.nativeElement.getBoundingClientRect(),G._on_changes.next({...K}),G.zoomChange.emit(K.zoom),G.centerChange.emit(K.center)}));const ne=(0,h.tk)(G.viewer);G.mapInfo.emit(ne.mappings),G.focus&&G.focusOn(G.focus)}else(G.src&&!G._outlet_el?.nativeElement||G.loading)&&G.timeout("create_view",()=>G.createView().catch(te=>console.warn(te)))})()}focusOn(G){if(!G||!this.viewer)return;const J=(0,h.tk)(this.viewer);if(!J)return;const te=J.mappings[G];te&&(this.center={x:1-(te.x+te.w/2),y:1-(te.y+te.h/4)},this.updateDisplay())}trackByFn(G,J){return J?.track_id}updateFeatureList(){this.feature_list=(this.features||[]).map((G,J)=>({...G,content:this._feature_list.toArray()[J]?.nativeElement})).filter(G=>G.content)}updateInjectors(){const G=this.injectors||[];this.injectors=(this.features||[]).map(J=>G.find(te=>te.get(b.N)?.track_id&&te.get(b.N)?.track_id===J.track_id)||n.zZn.create({providers:[{provide:b.N,useValue:{track_id:J.track_id,...J.data,...this._extra_data}}],parent:this._injector}))}static#e=this.\u0275fac=function(J){return new(J||$)(n.rXU(n.zZn))};static#t=this.\u0275cmp=n.VBU({type:$,selectors:[["map-renderer"]],viewQuery:function(J,te){if(1&J&&(n.GBs(m,5),n.GBs(v,5)),2&J){let ne;n.mGM(ne=n.lsd())&&(te._outlet_el=ne.first),n.mGM(ne=n.lsd())&&(te._feature_list=ne)}},hostBindings:function(J,te){1&J&&n.bIt("resize",function(){return te.onResize()},!1,n.tSv)},inputs:{src:"src",styles:"styles",zoom:"zoom",center:"center",features:"features",labels:"labels",actions:"actions",reset:"reset",options:"options",focus:"focus"},outputs:{zoomChange:"zoomChange",centerChange:"centerChange",mapInfo:"mapInfo"},features:[n.Vt3,n.OA$],decls:6,vars:5,consts:[["outlet",""],["empty_state",""],["feature",""],["tabindex","0","role","map",1,"absolute","inset-0"],[4,"ngIf","ngIfElse"],["hidden","",4,"ngIf"],["class","absolute",3,"diameter",4,"ngIf"],[1,"absolute",3,"diameter"],["hidden",""],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[1,"pointer-events-none",3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngComponentOutlet","ngComponentOutletInjector"],[3,"innerHTML"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"absolute","inset-0","flex","items-center","justify-center"],[1,"opacity-30"]],template:function(J,te){if(1&J&&(n.nrm(0,"div",3,0),n.DNE(2,S,2,1,"ng-container",4)(3,D,2,2,"div",5)(4,A,3,0,"ng-template",null,1,n.C5r)),2&J){const ne=n.sdS(5);n.AVh("hidden",!te.src),n.R7$(2),n.Y8G("ngIf",te.src)("ngIfElse",ne),n.R7$(),n.Y8G("ngIf",null==te.injectors?null:te.injectors.length)}},dependencies:[d.OI,d.Sq,d.bT,d.T3,d.ux,d.e1,d.fG,y.LG,R.a],styles:["[_nghost-%COMP%]{height:100%;width:100%}mat-spinner[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%)}"]})}return $})()},877:(gt,re,o)=>{"use strict";o.d(re,{B:()=>P});var e=o(467),n=o(3953),l=o(2185),h=o(9707),g=o(9420),p=o(9493),f=o(177),b=o(6600),d=o(9183),y=o(9434);const R=["map_container"];function m(M,w){1&M&&n.nrm(0,"mat-spinner",6)}function v(M,w){if(1&M){const x=n.RV6();n.j41(0,"button",3),n.bIt("click",function(){n.eBV(x);const _=n.XpG();return n.Njj(_.toggleDirections())}),n.j41(1,"app-icon"),n.EFF(2,"place"),n.k0s(),n.j41(3,"div",4),n.EFF(4),n.k0s(),n.DNE(5,m,1,0,"mat-spinner",5),n.k0s()}if(2&M){const x=n.XpG();n.R7$(4),n.SpI(" ",x.viewing_directions?"Hide":"Show"," Directions "),n.R7$(),n.Y8G("ngIf",x.loading_directions)}}const O=18.5,S={};let P=(()=>{class M extends h.Tv{constructor(x,I){super(),this._maps_people=x,this._org=I,this.zoom=O,this.zoomChange=new n.bkB,this.zoneChange=new n.bkB,this.show_directions=!1,this.viewing_directions=!1,this.loading_directions=!1,this.ignore_zoom=!1,this._floor_list=[],this._added_floor_selector=!1;const _=sessionStorage.getItem("PLACEOS.mapsindoors.resources")||"{}",C=JSON.parse(_);for(const D in C)C.hasOwnProperty(D)&&(S[D]=C[D])}ngOnInit(){this.id=(0,h.DU)(8),this._initialised.next(!1),this._initialiseServices()}ngOnChanges(x){if(!this.is_initialised)return this.timeout("on_changes",()=>this.ngOnChanges(x));x.zone&&this.zone&&this._centerOnZone(),x.focus&&this.focus&&this._focusOnLocation(),x.metadata&&this._updateMapStyling(),x.zoom&&this.zoom&&!this.ignore_zoom&&this._services?.map?.setZoom(this.zoom),x.reset&&(this._services?.map?.setZoom(O),this._centerOnZone()),x.options&&this._addFloorSelector()}_setResource(x,I){S[x]=I,this.timeout("set_resource",()=>{sessionStorage.setItem("PLACEOS.mapsindoors.resources",JSON.stringify(S))})}_initialiseServices(){if(!this._maps_people.is_ready||!window.mapsindoors)return void this.timeout("init",()=>this._initialiseServices(),1e3);const[x,I]=(this._org.building?.location||"-33.8567844,151.2152967").split(","),_={element:this._container.nativeElement,center:{lat:parseFloat(x),lng:parseFloat(I)},zoom:O,maxZoom:24};let C=null;switch(this._maps_people.map_service){case g.u.GoogleMaps:(0,h.Rm)("MapsIndoors","Using Google Maps API"),C=new mapsindoors.mapView.GoogleMapsView(_);break;case g.u.Mapbox:_.accessToken=this._maps_people.map_token,(0,h.Rm)("MapsIndoors","Using Mapbox API"),C=new mapsindoors.mapView.MapboxView(_)}if(!C)return void(0,h.WS)("Failed to initialise map view.");const D=this._maps_people.map_service===g.u.GoogleMaps?new mapsindoors.directions.GoogleMapsProvider:new mapsindoors.directions.MapboxProvider(this._maps_people.map_token),A=new mapsindoors.MapsIndoors({mapView:C});this._services={mapsindoors:A,view:C,map:C.getMap(),directions:new mapsindoors.services.DirectionsService(D),directions_renderer:new mapsindoors.directions.DirectionsRenderer({mapsIndoors:A})},console.log("Resource:",this._services.mapsindoors),this._initialised.next(!0),this.zone&&(this._services.map.setZoom(O),this._centerOnZone()),this._addFloorSelector(),this._services.mapsindoors.addListener("building_changed",B=>this._handleBuildingChange(B)),this._services.mapsindoors.addListener("floor_changed",B=>this._handleLevelChange(B)),this._services.mapsindoors.addListener("zoom_changed",B=>this._handleZoomChange(B)),this._services.mapsindoors.addListener("click",B=>this._handleUserClick(B)),this.timeout("resize",()=>window.dispatchEvent(new Event("resize")),100),window.maps_indoors=this._services,this.timeout("focus",()=>this._focusOnLocation()),this.timeout("init_zoom",()=>this._handleZoomChange(O))}toggleDirections(){var x=this;return(0,e.A)(function*(){if(x.viewing_directions)return x._services.directions_renderer.setRoute(null),x._focusOnLocation(),void(x.viewing_directions=!1);if(!x.focus)return;const I=yield x._search(x.focus);if(!I?.length)return void(0,h.UG)("Failed to find location.");x.loading_directions=!0;const _=I[0],[C,D]=_.properties?.anchor?.coordinates||[0,0];navigator.geolocation.getCurrentPosition(function(){var B=(0,e.A)(function*(F){const $=(0,h.gd)(D,C,F.coords.latitude,F.coords.longitude),U={origin:{lat:F.coords.latitude,lng:F.coords.longitude},destination:{lat:D,lng:C},travelMode:$<2?"WALKING":"DRIVING"};console.log("Route Parameters:",U,$);const G=yield x._services.directions.getRoute(U).catch(J=>{(0,h.Rm)("MapsIndoors","Error fetching route: ",J.message||J,"warn");const te=J instanceof TypeError&&J.message?.includes("origin");x.loading_directions=!1,te&&(0,h.UG)("Error: Origin location is outside of map area.")});G&&(console.log("Route:",G),x._services.directions_renderer.setRoute(G),x.viewing_directions=!0,x.loading_directions=!1)});return function(F){return B.apply(this,arguments)}}(),()=>(0,h.UG)("Failed to get your current location."),{timeout:1e4,enableHighAccuracy:!0})})()}_handleZoomChange(x){this.timeout("zoom_change",()=>{this.ignore_zoom=!0,this.zoom=x,this.zoomChange.emit(x),this.timeout("reset_ignore_zoom",()=>this.ignore_zoom=!1,50)},100)}_handleBuildingChange(x){const I=x.externalId||x.id;(0,h.Rm)("MapsIndoors",`Building switched to "${I}"`);const _=x.floors||{};if(this._floor_list=Object.keys(_).map(D=>({index:D,..._[D]})),(0,h.Rm)("MapsIndoors","Floor List:",this._floor_list),!this._services)return;const C=this._org.buildings.find(D=>D.id===I||D.map_id===I);this.timeout("set_floor",()=>{!this._setFloorFromZone()&&x.defaultFloor&&this._handleLevelChange(x.defaultFloor)}),C&&(this._org.building=C)}_handleLevelChange(x){var I=this;return(0,e.A)(function*(){(0,h.Rm)("MapsIndoors",`Level switched to "${x}"`);const _=I._floor_list.find(B=>B.index===x),C=_?.externalId||_?.id;if(!I._services)return;const D=yield I._org.active_levels.pipe((0,p.s)(1)).toPromise();if(!D)return;const A=D.find(B=>B.map_id===C||B.id===C);A&&(I.zone=A,I.zoneChange.emit(A))})()}_handleUserClick(x){(0,h.Rm)("MapsIndoors","Click occurred",x);const I=x.properties?.externalId||x.properties?.roomId||x.id,_=this.metadata?.actions||[];(0,h.Rm)("MapsIndoors","Registered Actions",_);const C=["mousedown","touchstart","enter","leave"];for(const D of _)if((D.id===I||"*"===D.id)&&!C.includes(D.action)){D.callback(x);break}}_search(x){var I=this;return(0,e.A)(function*(){if(I._services)return mapsindoors?.services.LocationsService.getLocations({q:x})})()}_updateMapStyling(){var x=this;return(0,e.A)(function*(){if(!x._services)return;const I=x.metadata?.styles||{};for(const _ in I){if(!I[_].fill)continue;let C=S[_];if(!C){const A=_.replace(/#/,""),B=yield x._search(A);if(!B.length)continue;C=B.find(F=>F.properties?.externalId===A||F.properties?.roomId===A||F.id===A),C&&x._setResource(_,C)}C&&x._services.mapsindoors.setDisplayRule(C.id,{extrusionHeight:0,extrusionVisible:!1,polygonVisible:!0,polygonFillColor:I[_].fill})}})()}_focusOnLocation(){var x=this;return(0,e.A)(function*(){if(!x.focus)return;const I=yield x._search(x.focus);if(!I?.length)return void(0,h.UG)("Failed to find location.");const _=I.find(A=>A.properties?.externalId===x.focus)||I[0],[C,D]=_.properties?.anchor?.coordinates||[0,0];x._services.map.setZoom(O),x._services.map.setCenter({lat:D,lng:C}),x._services.mapsindoors.setFloor(_.properties?.floor),x._services.mapsindoors.highlight([_.id])})()}_centerOnZone(){!this._services||!this.zone||this.timeout("set_center",()=>{const x=this._org.buildings.find(C=>C.id===this.zone.parent_id);if(!x)return;const[I,_]=x?.location.split(",");this._services.map.setCenter({lat:parseFloat(I),lng:parseFloat(_)}),this._setFloorFromZone()})}_setFloorFromZone(){if(!this.zone.map_id||!this._services)return!1;const x=this.zone.map_id,I=this._floor_list.find(_=>_.index===x||_.externalId===x||_.id===x);return!!I&&(this._services.mapsindoors.setFloor(I.index),!0)}_addFloorSelector(){if(!this.options?.controls||this._added_floor_selector)return;const x=document.createElement("div");new mapsindoors.FloorSelector(x,this._services.mapsindoors),this._maps_people.map_service===g.u.GoogleMaps?this._services.map.controls[google.maps.ControlPosition.RIGHT_TOP].push(x):this._services.map.addControl({onAdd:()=>x,onRemove:()=>{}}),this._added_floor_selector=!0}static#e=this.\u0275fac=function(I){return new(I||M)(n.rXU(h._e),n.rXU(l.yb))};static#t=this.\u0275cmp=n.VBU({type:M,selectors:[["maps-indoors"]],viewQuery:function(I,_){if(1&I&&n.GBs(R,7),2&I){let C;n.mGM(C=n.lsd())&&(_._container=C.first)}},inputs:{zone:"zone",metadata:"metadata",options:"options",focus:"focus",zoom:"zoom",reset:"reset"},outputs:{zoomChange:"zoomChange",zoneChange:"zoneChange"},features:[n.Vt3,n.OA$],decls:3,vars:1,consts:[["map_container",""],[1,"absolute","inset-0","z-0"],["btn","","matRipple","","class","absolute bottom-2 left-2 bg-base-100 text-base-content shadow z-10 border-base-200 space-x-2",3,"click",4,"ngIf"],["btn","","matRipple","",1,"absolute","bottom-2","left-2","bg-base-100","text-base-content","shadow","z-10","border-base-200","space-x-2",3,"click"],[1,"pr-2"],["diameter","24",4,"ngIf"],["diameter","24"]],template:function(I,_){1&I&&(n.nrm(0,"div",1,0),n.DNE(2,v,6,2,"button",2)),2&I&&(n.R7$(2),n.Y8G("ngIf",_.focus&&!_.show_directions&&(null==_.options?null:_.options.controls)))},dependencies:[f.bT,b.r6,d.LG,y.R]})}return M})()},4418:(gt,re,o)=>{"use strict";o.d(re,{S:()=>f});var e=o(3953),n=o(9707),l=o(177),h=o(6600),g=o(9434);function p(b,d){if(1&b){const y=e.RV6();e.j41(0,"button",2),e.bIt("click",function(){const m=e.eBV(y).$implicit,v=e.XpG();return v.action.emit(m.id),e.Njj(v.show=!1)}),e.nrm(1,"app-icon",3),e.k0s()}if(2&b){const y=d.$implicit,R=d.index,m=e.XpG();e.xc7("top",m.show?-110*R-60+"%":""),e.R7$(),e.Y8G("icon",y)}}let f=(()=>{class b extends n.Tv{constructor(){super(...arguments),this.actions=[],this.action=new e.bkB}close(){this.timeout("close",()=>this.show=!1)}static#e=this.\u0275fac=(()=>{let y;return function(m){return(y||(y=e.xGo(b)))(m||b)}})();static#t=this.\u0275cmp=e.VBU({type:b,selectors:[["a-popout-menu"]],inputs:{actions:"actions"},outputs:{action:"action"},features:[e.Vt3],decls:4,vars:4,consts:[["icon","","matRipple","","class","small absolute text-base center shadow",3,"top","click",4,"ngFor","ngForOf"],["name","root","icon","","matRipple","",3,"click"],["icon","","matRipple","",1,"small","absolute","text-base","center","shadow",3,"click"],[3,"icon"]],template:function(R,m){1&R&&(e.DNE(0,p,2,3,"button",0),e.j41(1,"button",1),e.bIt("click",function(){return m.show=!m.show})("click",function(){return m.show?m.close():""},!1,e.tSv),e.j41(2,"app-icon"),e.EFF(3),e.k0s()()),2&R&&(e.Y8G("ngForOf",m.actions),e.R7$(),e.AVh("show",m.show),e.R7$(2),e.JRh(m.show?"add":"more_vert"))},dependencies:[l.Sq,h.r6,g.R],styles:["[_nghost-%COMP%]{position:relative}app-icon[_ngcontent-%COMP%]{transition:transform .2s}button[_ngcontent-%COMP%]{background-color:#fff;color:rgba(#000,.85);font-size:1.25rem;height:2.5em;width:2.5em}button.show[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{transform:rotate(45deg)}button.small[_ngcontent-%COMP%]{transition:top .2s,left .2s}"]})}return b})()},8283:(gt,re,o)=>{"use strict";o.d(re,{K:()=>f});var e=o(467),n=o(4046),l=o(9707),h=o(8026),g=o(3953),p=o(2091);let f=(()=>{class b{constructor(y,R,m){this._settings=y,this._org=R,this._router=m}ngOnInit(){var y=this;return(0,e.A)(function*(){yield y._settings.initialised.pipe((0,n.$)(R=>R)).toPromise(),yield y._org.initialised.pipe((0,n.$)(R=>R)).toPromise(),y._settings.get("app.default_route")&&y._router.navigate(y._settings.get("app.default_route").split("/"))})()}static#e=this.\u0275fac=function(R){return new(R||b)(g.rXU(l.h$),g.rXU(h.y),g.rXU(p.Ix))};static#t=this.\u0275cmp=g.VBU({type:b,selectors:[["page-redirect"]],decls:0,vars:0,template:function(R,m){}})}return b})()},6962:(gt,re,o)=>{"use strict";o.d(re,{q:()=>y});var e=o(467),n=o(4351),l=o(2185),h=o(3953),g=o(177),p=o(9417),f=o(5951),b=o(9434);function d(R,m){if(1&R){const v=h.RV6();h.j41(0,"mat-radio-button",8),h.bIt("click",function(){const S=h.eBV(v).$implicit,P=h.XpG();return h.Njj(P.setRegion(S))}),h.EFF(1),h.k0s()}if(2&R){const v=m.$implicit;h.Y8G("value",v.id),h.R7$(),h.SpI(" ",v.display_name||v.name," ")}}let y=(()=>{class R{constructor(v,O){var S=this;this._data=v,this._org=O,this.regions=this._org.region_list,this.region=this._org.active_region,this.setRegion=function(){var P=(0,e.A)(function*(M){yield S._org.setRegion(M),S._org.saveBuilding(S._org.building.id),S._data?.close()});return function(M){return P.apply(this,arguments)}}(),this.close=()=>this._data?.close()}static#e=this.\u0275fac=function(O){return new(O||R)(h.rXU(n.Dd),h.rXU(l.yb))};static#t=this.\u0275cmp=h.VBU({type:R,selectors:[["region-select"]],decls:14,vars:11,consts:()=>{let v;return v=$localize`:␟234e996785a944c8e8c7df16179eaa04405b3446␟5361505502593902636:Select a region`,[v,[1,"flex","flex-col","w-[18.5rem]","rounded","bg-base-100","shadow","p-2","relative","-top-12","-right-1","overflow-auto","max-h-[65vh]",3,"click"],[1,"flex","items-center","space-x-2"],[1,"text-2xl"],[1,""],[1,"text-xs","opacity-60","mb-4","px-2"],[1,"flex","flex-col","space-y-2","px-2",3,"ngModel"],[3,"value","click",4,"ngFor","ngForOf"],[3,"click","value"]]},template:function(O,S){if(1&O&&(h.j41(0,"div",1),h.bIt("click",function(){return S.close()}),h.j41(1,"div",2)(2,"app-icon",3),h.EFF(3,"arrow_back"),h.k0s(),h.j41(4,"div",4),h.EFF(5),h.nI1(6,"async"),h.nI1(7,"async"),h.k0s()(),h.j41(8,"div",5),h.pXf(9,0),h.k0s(),h.j41(10,"mat-radio-group",6),h.nI1(11,"async"),h.DNE(12,d,2,2,"mat-radio-button",7),h.nI1(13,"async"),h.k0s()()),2&O){let P,M;h.R7$(5),h.SpI(" ",(null==(P=h.bMT(6,3,S.region))?null:P.display_name)||(null==(P=h.bMT(7,5,S.region))?null:P.name)," "),h.R7$(5),h.Y8G("ngModel",null==(M=h.bMT(11,7,S.region))?null:M.id),h.R7$(2),h.Y8G("ngForOf",h.bMT(13,9,S.regions))}},dependencies:[g.Sq,p.BC,p.vS,f.VT,f._g,b.R,g.Jj]})}return R})()},6781:(gt,re,o)=>{"use strict";o.d(re,{m:()=>l});var e=o(3953),n=o(345);let l=(()=>{class h{constructor(p){this.sanitizer=p}transform(p,f="html"){switch(f){case"resource":return this.sanitizer.bypassSecurityTrustResourceUrl(p);case"url":return this.sanitizer.bypassSecurityTrustUrl(p);case"script":return this.sanitizer.bypassSecurityTrustScript(p);case"style":return this.sanitizer.bypassSecurityTrustStyle(p);default:return this.sanitizer.bypassSecurityTrustHtml(p)}}static#e=this.\u0275fac=function(f){return new(f||h)(e.rXU(n.up,16))};static#t=this.\u0275pipe=e.EJ8({name:"safe",type:h,pure:!0})}return h})()},4616:(gt,re,o)=>{"use strict";o.d(re,{a:()=>h});var e=o(3953),n=o(345),l=function(g){return g[g.NONE=0]="NONE",g[g.HTML=1]="HTML",g[g.STYLE=2]="STYLE",g[g.SCRIPT=3]="SCRIPT",g[g.URL=4]="URL",g[g.RESOURCE_URL=5]="RESOURCE_URL",g}(l||{});let h=(()=>{class g{constructor(f){this.sanitizer=f}transform(f,b="html"){switch(b){case"resource":return this.sanitizer.sanitize(l.RESOURCE_URL,f);case"url":return this.sanitizer.sanitize(l.URL,f);case"script":return this.sanitizer.sanitize(l.SCRIPT,f);case"style":return this.sanitizer.sanitize(l.STYLE,f);default:return this.sanitizer.sanitize(l.HTML,f)}}static#e=this.\u0275fac=function(b){return new(b||g)(e.rXU(n.up,16))};static#t=this.\u0275pipe=e.EJ8({name:"sanitize",type:g,pure:!0})}return g})()},8328:(gt,re,o)=>{"use strict";o.d(re,{O:()=>J});var e=o(467),n=o(3953),l=o(9707),h=o(9928),g=o(9714),p=o(3020),f=o(5006),b=o(8712),d=o(9493),y=o(177),R=o(6600),m=o(2765),v=o(9434);const O=(te,ne,K,k,j,W,ie)=>({first:te,last:ne,index:K,data:k,row:j,key:W,name:ie}),S=(te,ne,K,k)=>({first:te,last:ne,index:K,row:k});function P(te,ne){if(1&te){const K=n.RV6();n.j41(0,"div",6)(1,"mat-checkbox",7),n.nI1(2,"async"),n.nI1(3,"async"),n.bIt("change",function(j){n.eBV(K);const W=n.XpG();return n.Njj(W.selectAll(j.checked))}),n.k0s()()}if(2&te){let K,k;const j=n.XpG();n.xc7("grid-column","1 / 2"),n.R7$(),n.Y8G("checked",j.selected.length===(null==(K=n.bMT(2,4,j.data_view$))?null:K.length))("indeterminate",j.selected.length>0&&j.selected.length<(null==(k=n.bMT(3,6,j.data_view$))?null:k.length))}}function M(te,ne){if(1&te&&(n.j41(0,"app-icon",11),n.EFF(1),n.k0s()),2&te){const K=n.XpG().$implicit,k=n.XpG();n.R7$(),n.SpI(" ",(null==k.sort?null:k.sort.key)===K.key&&null!=k.sort&&k.sort.reverse?"arrow_upward":"arrow_downward"," ")}}function w(te,ne){if(1&te){const K=n.RV6();n.j41(0,"button",8),n.bIt("click",function(){const j=n.eBV(K).$implicit,W=n.XpG();return n.Njj(W.setSort(j.key))}),n.j41(1,"div",9),n.EFF(2),n.k0s(),n.DNE(3,M,2,1,"app-icon",10),n.k0s()}if(2&te){const K=ne.$implicit,k=ne.index,j=n.XpG();n.xc7("grid-column",1+k+(j.selectable?1:0)+" / "+(2+k+(j.selectable?1:0))),n.AVh("pointer-events-none",!j.sortable||!1===K.sortable)("active",(null==j.sort?null:j.sort.key)===K.key)("border-r",k!==j.active_columns.length-1)("width",K.size),n.Y8G("id","column-"+K.key),n.R7$(2),n.JRh(K.name||K.key),n.R7$(),n.Y8G("ngIf",j.sortable&&!1!==K.sortable)}}function x(te,ne){if(1&te){const K=n.RV6();n.j41(0,"div",15),n.nI1(1,"async"),n.bIt("mouseenter",function(){n.eBV(K);const j=n.XpG().index,W=n.XpG();return n.Njj(W.active_row=j)})("touchstart",function(){n.eBV(K);const j=n.XpG().index,W=n.XpG();return n.Njj(W.active_row=j)}),n.j41(2,"mat-checkbox",16),n.bIt("change",function(j){n.eBV(K);const W=n.XpG().index,ie=n.XpG();return n.Njj(ie.select(W,j.checked))}),n.k0s()()}if(2&te){let K;const k=n.XpG().index,j=n.XpG();n.xc7("grid-column","1 / 2"),n.AVh("border-b",k!==(null==(K=n.bMT(1,5,j.data_view$))?null:K.length)-1),n.R7$(2),n.Y8G("checked",j.selected.includes(k))}}function I(te,ne){if(1&te&&(n.j41(0,"span",23),n.EFF(1),n.k0s()),2&te){const K=n.XpG(2).$implicit;n.R7$(),n.SpI(" ",K.empty||"N/A"," ")}}function _(te,ne){if(1&te&&(n.j41(0,"div",21),n.EFF(1),n.DNE(2,I,2,1,"span",22),n.k0s()),2&te){const K=n.XpG().$implicit,k=n.XpG().$implicit;n.R7$(),n.SpI(" ",k[K.key]," "),n.R7$(),n.Y8G("ngIf",null==k[K.key]||""===k[K.key])}}function C(te,ne){1&te&&n.eu8(0)}function D(te,ne){if(1&te&&(n.qex(0),n.DNE(1,C,1,0,"ng-container",24),n.nI1(2,"async"),n.nI1(3,"async"),n.bVm()),2&te){let K;const k=n.XpG().$implicit,j=n.XpG(),W=j.$implicit,ie=j.index,ce=n.XpG();n.R7$(),n.Y8G("ngTemplateOutlet",k.content)("ngTemplateOutletContext",n.sGs(6,O,0===ie,ie===(null==(K=n.bMT(2,2,ce.data_view$))?null:K.length)-1||ie===(null==(K=n.bMT(3,4,ce.data_view$))?null:K.length)-1,ie,W[k.key],W,k.key,k.name||k.key))}}function A(te,ne){if(1&te){const K=n.RV6();n.j41(0,"div",17),n.nI1(1,"async"),n.bIt("mouseenter",function(){n.eBV(K);const j=n.XpG().index,W=n.XpG();return n.Njj(W.active_row=j)})("touchstart",function(){n.eBV(K);const j=n.XpG().index,W=n.XpG();return n.Njj(W.active_row=j)}),n.qex(2,18),n.DNE(3,_,3,2,"div",19)(4,D,4,14,"ng-container",20),n.bVm(),n.k0s()}if(2&te){let K;const k=ne.$implicit,j=ne.index,W=n.XpG().index,ie=n.XpG();n.xc7("grid-column",1+j+(ie.selectable?1:0)+" / "+(2+j+(ie.selectable?1:0))),n.AVh("border-b",W!==(null==(K=n.bMT(1,10,ie.data_view$))?null:K.length)-1)("border-r",j!==ie.active_columns.length-1)("width",k.size),n.R7$(2),n.Y8G("ngSwitch",ie.columnType(k)),n.R7$(2),n.Y8G("ngSwitchCase","template")}}function B(te,ne){1&te&&n.eu8(0)}function F(te,ne){if(1&te&&(n.j41(0,"div",25),n.DNE(1,B,1,0,"ng-container",24),n.nI1(2,"async"),n.nI1(3,"async"),n.k0s()),2&te){let K;const k=n.XpG(),j=k.$implicit,W=k.index,ie=n.XpG();n.xc7("grid-column","span "+ie.active_columns.length),n.R7$(),n.Y8G("ngTemplateOutlet",ie.child_template)("ngTemplateOutletContext",n.ziG(8,S,0===W,W===(null==(K=n.bMT(2,4,ie.data_view$))?null:K.length)-1||W===(null==(K=n.bMT(3,6,ie.data_view$))?null:K.length)-1,W,j))}}function $(te,ne){if(1&te&&(n.qex(0),n.DNE(1,x,3,7,"div",12)(2,A,5,12,"div",13)(3,F,4,13,"div",14),n.bVm()),2&te){const K=ne.$implicit,k=n.XpG();n.R7$(),n.Y8G("ngIf",k.selectable),n.R7$(),n.Y8G("ngForOf",k.active_columns),n.R7$(),n.Y8G("ngIf",k.show_children[K.id]&&k.child_template)}}function U(te,ne){if(1&te&&(n.j41(0,"div",26),n.EFF(1),n.k0s()),2&te){const K=n.XpG();n.xc7("grid-column-start","span "+K.active_columns.length),n.R7$(),n.SpI(" ",K.empty_message," ")}}function G(te,ne){if(1&te){const K=n.RV6();n.j41(0,"div",27)(1,"div",28),n.EFF(2),n.k0s(),n.j41(3,"button",29),n.bIt("click",function(){n.eBV(K);const j=n.XpG();return n.Njj(j.setPage(j.page-1))}),n.j41(4,"app-icon"),n.EFF(5,"chevron_left"),n.k0s()(),n.j41(6,"button",29),n.bIt("click",function(){n.eBV(K);const j=n.XpG();return n.Njj(j.setPage(j.page+1))}),n.j41(7,"app-icon"),n.EFF(8,"chevron_right"),n.k0s()(),n.j41(9,"button",29),n.bIt("click",function(){n.eBV(K);const j=n.XpG();return n.Njj(j.setPage(0))}),n.j41(10,"app-icon"),n.EFF(11,"first_page"),n.k0s()(),n.j41(12,"button",29),n.bIt("click",function(){n.eBV(K);const j=n.XpG();return n.Njj(j.setPage(j.total_pages-1))}),n.j41(13,"app-icon"),n.EFF(14,"last_page"),n.k0s()()()}if(2&te){const K=n.XpG();n.R7$(2),n.E5c(" ",K.page*(K.page_size||9999)+1," \u2013 ",(K.page+1)*(K.page_size||9999)>K.total_count?K.total_count:(K.page+1)*(K.page_size||9999)," of ",K.total_count," "),n.R7$(),n.Y8G("disabled",0===K.page),n.R7$(3),n.Y8G("disabled",K.page===K.total_pages-1),n.R7$(3),n.Y8G("disabled",0===K.page),n.R7$(3),n.Y8G("disabled",K.page===K.total_pages-1)}}let J=(()=>{class te extends l.Tv{constructor(){super(...arguments),this.columns=[],this.selectable=!1,this.filter="",this.sortable=!1,this.selected=[],this.page_size=0,this.empty_message="No data to list",this.child_template=null,this.show_children={},this.selectedChange=new n.bkB,this.rowClicked=new n.bkB,this.page=0,this.total_count=0,this.total_pages=0,this.active_row=-1,this.active_columns=[],this._data$=new h.t([]),this._filter$=new h.t(""),this._sort$=new h.t(null),this.data_view$=null}get sort(){return this._sort$.getValue()}get data$(){return this.data instanceof Array?this._data$:this.data}get column_count(){return this.active_columns.length+(this.selectable?1:0)}get column_template(){const K=this.active_columns.map(k=>k.size||"auto").join(" ");return this.selectable?`3.5rem ${K}`:K}ngOnChanges(K){K.filter&&this._filter$.next(this.filter),K.columns&&(this.active_columns=this.columns.filter(k=>!1!==k.show)),K.data&&(this.data_view$=(0,g.zV)([this.data$,this._filter$,this._sort$]).pipe((0,p.B)(300),(0,f.T)(([k,j,W])=>(k=[...k],j&&(k=k.filter(ie=>Object.values(ie).some(ce=>JSON.stringify(ce)?.toLowerCase().includes((j||"").toLowerCase())))),W&&k.length&&(k=k.sort("number"==typeof k[0][W.key]?(ce,oe)=>{const me=ce[W.key]-oe[W.key];return W.reverse?-me:me}:(ce,oe)=>{const me=JSON.stringify(ce[W.key]||""),he=JSON.stringify(oe[W.key]||""),Oe=me.localeCompare(he);return W.reverse?-Oe:Oe})),this.selected=[],this.page=0,this.page_size&&(this.total_count=k.length,this.total_pages=Math.ceil(this.total_count/this.page_size)),k)),(0,b.t)(1)))}columnType(K){return K.content instanceof n.C4Q?"template":"raw"}gridSquare(K,k){return`${K} / ${k} / ${K+1} / ${k+1}`}select(K,k){k?this.selected.push(K):this.selected=this.selected.filter(j=>j!==K)}selectAll(K){var k=this;return(0,e.A)(function*(){const j=yield k.data_view$.pipe((0,d.s)(1)).toPromise();k.selected=K?j.map((W,ie)=>ie):[]})()}setSort(K){const k=this._sort$.getValue();this._sort$.next(k&&k.key===K?k.reverse?null:{key:K,reverse:!0}:{key:K,reverse:!1})}setPage(K){this.timeout("set_page",()=>this.page=K,100)}static#e=this.\u0275fac=(()=>{let K;return function(j){return(K||(K=n.xGo(te)))(j||te)}})();static#t=this.\u0275cmp=n.VBU({type:te,selectors:[["simple-table"]],inputs:{data:"data",columns:"columns",selectable:"selectable",filter:"filter",sortable:"sortable",selected:"selected",page_size:"page_size",empty_message:"empty_message",child_template:"child_template",show_children:"show_children"},outputs:{selectedChange:"selectedChange",rowClicked:"rowClicked"},features:[n.Vt3,n.OA$],decls:9,vars:15,consts:[["role","table",1,"grid","border","border-base-300",3,"click","touchend","mouseleave"],["id","column-selector","class","sticky top-0 flex items-center justify-between px-2 border-r border-b border-base-200 bg-base-300 min-h-full z-20",3,"gridColumn",4,"ngIf"],["header","","matRipple","","class","sticky top-0 flex items-center justify-between p-4 border-b border-base-200 bg-base-300 min-h-full z-20",3,"id","gridColumn","pointer-events-none","active","border-r","width","click",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["class","flex items-center justify-center p-8 opacity-30",3,"gridColumnStart",4,"ngIf"],["class","sticky bottom-0 w-full flex items-center justify-end space-x-2 p-2 bg-base-200",4,"ngIf"],["id","column-selector",1,"sticky","top-0","flex","items-center","justify-between","px-2","border-r","border-b","border-base-200","bg-base-300","min-h-full","z-20"],[3,"change","checked","indeterminate"],["header","","matRipple","",1,"sticky","top-0","flex","items-center","justify-between","p-4","border-b","border-base-200","bg-base-300","min-h-full","z-20",3,"click","id"],[1,"font-medium"],["class","text-[1.25em]",4,"ngIf"],[1,"text-[1.25em]"],["id","column-selector","class","flex items-center justify-between px-2 border-r border-base-200 min-h-full z-10",3,"gridColumn","border-b","mouseenter","touchstart",4,"ngIf"],["class","flex items-center justify-between border-base-200 min-h-full z-10",3,"gridColumn","border-b","border-r","width","mouseenter","touchstart",4,"ngFor","ngForOf"],["child-node","","class","border-b last:border-t last:border-b-0 border-base-200",3,"gridColumn",4,"ngIf"],["id","column-selector",1,"flex","items-center","justify-between","px-2","border-r","border-base-200","min-h-full","z-10",3,"mouseenter","touchstart"],[3,"change","checked"],[1,"flex","items-center","justify-between","border-base-200","min-h-full","z-10",3,"mouseenter","touchstart"],[3,"ngSwitch"],["class","p-4",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"p-4"],["class","opacity-30",4,"ngIf"],[1,"opacity-30"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["child-node","",1,"border-b","last:border-t","last:border-b-0","border-base-200"],[1,"flex","items-center","justify-center","p-8","opacity-30"],[1,"sticky","bottom-0","w-full","flex","items-center","justify-end","space-x-2","p-2","bg-base-200"],[1,"px-4","py-2"],["icon","","matRipple","",3,"click","disabled"]],template:function(k,j){if(1&k&&(n.j41(0,"div",0),n.bIt("click",function(){return j.active_row>=0?j.rowClicked.emit(j.active_row):null})("touchend",function(){return j.active_row=-1})("mouseleave",function(){return j.active_row=-1}),n.DNE(1,P,4,8,"div",1)(2,w,4,13,"button",2)(3,$,4,3,"ng-container",3),n.nI1(4,"async"),n.nI1(5,"slice"),n.DNE(6,U,2,3,"div",4),n.nI1(7,"async"),n.k0s(),n.DNE(8,G,15,7,"div",5)),2&k){let W;n.xc7("grid-template-columns",j.column_template),n.R7$(),n.Y8G("ngIf",j.selectable),n.R7$(),n.Y8G("ngForOf",j.active_columns),n.R7$(),n.Y8G("ngForOf",n.brH(5,9,n.bMT(4,7,j.data_view$),j.page*(j.page_size||9999),(j.page+1)*(j.page_size||9999))),n.R7$(3),n.Y8G("ngIf",!(null!=(W=n.bMT(7,13,j.data_view$))&&W.length)),n.R7$(2),n.Y8G("ngIf",j.page_size)}},dependencies:[y.Sq,y.bT,y.T3,y.ux,y.e1,y.fG,R.r6,m.So,v.R,y.Jj,y.P9],styles:["[_nghost-%COMP%], [_nghost-%COMP%] > button[_ngcontent-%COMP%]{min-width:100%}[header][_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{opacity:0}[header][_ngcontent-%COMP%]:hover   app-icon[_ngcontent-%COMP%]{opacity:.3}[header][_ngcontent-%COMP%]:hover.pointer-events-none   app-icon[_ngcontent-%COMP%]{opacity:0}[header].active[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{opacity:1}"]})}return te})()},907:(gt,re,o)=>{"use strict";o.d(re,{F:()=>y});var e=o(3953),n=o(177),l=o(9434);const h=["*"];function g(R,m){1&R&&(e.qex(0),e.EFF(1," check_circle "),e.bVm())}function p(R,m){1&R&&(e.qex(0),e.EFF(1,"cancel"),e.bVm())}function f(R,m){1&R&&(e.qex(0),e.EFF(1,"block"),e.bVm())}function b(R,m){1&R&&(e.qex(0),e.EFF(1,"info"),e.bVm())}function d(R,m){1&R&&(e.qex(0),e.EFF(1,"warning"),e.bVm())}let y=(()=>{class R{static#e=this.\u0275fac=function(O){return new(O||R)};static#t=this.\u0275cmp=e.VBU({type:R,selectors:[["status-pill"]],inputs:{status:"status"},ngContentSelectors:h,decls:10,vars:31,consts:[[1,"flex","items-center","bg-opacity-30","rounded-2xl","px-2","py-1","text-base","space-x-2","font-medium","text-black"],[1,"rounded-full","h-5","w-5","flex","items-center","justify-center"],[1,"text-2xl",3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"]],template:function(O,S){1&O&&(e.NAR(),e.j41(0,"div",0)(1,"div",1)(2,"app-icon",2),e.DNE(3,g,2,0,"ng-container",3)(4,p,2,0,"ng-container",3)(5,f,2,0,"ng-container",3)(6,b,2,0,"ng-container",3)(7,d,2,0,"ng-container",4),e.k0s()(),e.j41(8,"div"),e.SdG(9),e.k0s()()),2&O&&(e.AVh("bg-success-light","success"===S.status)("bg-warning-light","warning"===S.status)("bg-error-light","error"===S.status)("bg-info-light","info"===S.status)("bg-base-200","neutral"===S.status),e.R7$(),e.AVh("text-success","success"===S.status)("text-warning","warning"===S.status)("text-error","error"===S.status)("text-info","info"===S.status)("text-base-content","neutral"===S.status)("opacity-40","neutral"===S.status),e.R7$(),e.Y8G("ngSwitch",S.status),e.R7$(),e.Y8G("ngSwitchCase","success"),e.R7$(),e.Y8G("ngSwitchCase","error"),e.R7$(),e.Y8G("ngSwitchCase","neutral"),e.R7$(),e.Y8G("ngSwitchCase","info"),e.R7$(2),e.AVh("opacity-40","neutral"===S.status)("text-base-content","neutral"===S.status))},dependencies:[n.ux,n.e1,n.fG,l.R]})}return R})()},6871:(gt,re,o)=>{"use strict";o.d(re,{U:()=>v});var e=o(4006),n=o(3953),l=o(177),h=o(9417),g=o(6600),p=o(3719),f=o(2798),b=o(9631),d=o(2765),y=o(9434);const R=(O,S,P)=>({file:O,is_public:S,permissions:P});function m(O,S){if(1&O){const P=n.RV6();n.j41(0,"div",2)(1,"label"),n.EFF(2,"Permissions"),n.k0s(),n.j41(3,"mat-form-field",3)(4,"mat-select",6),n.mxI("ngModelChange",function(w){n.eBV(P);const x=n.XpG();return n.DH7(x.permissions,w)||(x.permissions=w),n.Njj(w)}),n.j41(5,"mat-option",11),n.EFF(6,"None"),n.k0s(),n.j41(7,"mat-option",12),n.EFF(8,"Support"),n.k0s(),n.j41(9,"mat-option",13),n.EFF(10,"Admin"),n.k0s()()()()}if(2&O){const P=n.XpG();n.R7$(4),n.R50("ngModel",P.permissions)}}let v=(()=>{class O{constructor(P,M){this._dialog_ref=P,this._data=M,this.file=this._data.file,this.is_public=!0,this.permissions="none",this.file=this._data.file}close(){this._dialog_ref.close()}static#e=this.\u0275fac=function(M){return new(M||O)(n.rXU(e.CP),n.rXU(e.Vh))};static#t=this.\u0275cmp=n.VBU({type:O,selectors:[["upload-permissions-modal"]],decls:21,vars:8,consts:[["btn","","icon","","mat-dialog-close",""],[1,"p-4","min-w-[20rem]"],[1,"flex","flex-col","space-y-2"],["appearance","outline"],["matInput","","disabled","true","placeholder","File Name",3,"ngModel"],[1,"pb-4"],[3,"ngModelChange","ngModel"],["class","flex flex-col space-y-2",4,"ngIf"],[1,"flex","items-center","justify-end","space-x-2","px-4","py-2","border-t","border-base-200"],["btn","","mat-dialog-close","",1,"inverse","w-32"],["btn","",1,"w-32",3,"mat-dialog-close"],["value","none"],["value","support"],["value","admin"]],template:function(M,w){1&M&&(n.j41(0,"header")(1,"h2"),n.EFF(2,"Upload File"),n.k0s(),n.j41(3,"button",0)(4,"app-icon"),n.EFF(5,"close"),n.k0s()()(),n.j41(6,"main",1)(7,"div",2)(8,"label"),n.EFF(9,"File Name"),n.k0s(),n.j41(10,"mat-form-field",3),n.nrm(11,"input",4),n.k0s()(),n.j41(12,"div",5)(13,"mat-checkbox",6),n.mxI("ngModelChange",function(I){return n.DH7(w.is_public,I)||(w.is_public=I),I}),n.EFF(14,"Public"),n.k0s()(),n.DNE(15,m,11,1,"div",7),n.k0s(),n.j41(16,"footer",8)(17,"button",9),n.EFF(18,"Cancel"),n.k0s(),n.j41(19,"button",10),n.EFF(20," Upload "),n.k0s()()),2&M&&(n.R7$(11),n.Y8G("ngModel",w.file.name),n.R7$(2),n.R50("ngModel",w.is_public),n.R7$(2),n.Y8G("ngIf",!w.is_public),n.R7$(4),n.Y8G("mat-dialog-close",n.sMw(4,R,w.file,w.is_public,w.permissions)))},dependencies:[l.bT,h.me,h.BC,h.vS,g.wT,p.rl,f.VO,e.tx,b.fg,d.So,y.R]})}return O})()},1193:(gt,re,o)=>{"use strict";o.d(re,{a:()=>p}),o(3693);var n=o(3953);function l(f,b){if(1&f&&(n.j41(0,"div",4),n.EFF(1),n.k0s()),2&f){const d=n.XpG(2);n.R7$(),n.SpI(" ",d.initials," ")}}function h(f,b){if(1&f&&(n.j41(0,"div",2),n.DNE(1,l,2,1,"div",3),n.k0s()),2&f){const d=n.XpG(),y=n.sdS(2);n.BMQ("user-id",d.user.id),n.R7$(),n.Y8G("ngIf",!d.user.photo)("ngIfElse",y)}}function g(f,b){if(1&f&&n.nrm(0,"img",5),2&f){const d=n.XpG();n.Y8G("source",d.user.photo)}}let p=(()=>{class f{get initials(){if(!this.user)return"NA";const d=this.user.name||"",y=d.replace(/[()[\]\-+=\\/]+/gi,"").split(" ");return y.length>1?`${y[0][0]}${y[y.length-1][0]}`:d.slice(0,2)}static#e=this.\u0275fac=function(y){return new(y||f)};static#t=this.\u0275cmp=n.VBU({type:f,selectors:[["a-user-avatar"]],inputs:{user:"user"},decls:3,vars:1,consts:[["image_state",""],["class","flex items-center justify-center rounded-full overflow-hidden",4,"ngIf"],[1,"flex","items-center","justify-center","rounded-full","overflow-hidden"],["initials","","class","text-base-content text-opacity-80 uppercase",4,"ngIf","ngIfElse"],["initials","",1,"text-base-content","text-opacity-80","uppercase"],["auth","",1,"h-full","w-full",3,"source"]],template:function(y,R){1&y&&n.DNE(0,h,2,3,"div",1)(1,g,1,1,"ng-template",null,0,n.C5r),2&y&&n.Y8G("ngIf",R.user)},styles:["[_nghost-%COMP%] > div[_ngcontent-%COMP%]{height:2.5em;width:2.5em;background-color:var(--b2);overflow:hidden;border:2px solid var(--b1)}.initials[_ngcontent-%COMP%]{font-size:1em}"]})}return f})()},4633:(gt,re,o)=>{"use strict";o.d(re,{N:()=>A});var e=o(467),n=o(9707),l=o(4351),h=o(2185),g=o(5157),p=o(9987),f=o(6539),b=o(5550),d=o(6926),y=o(3835),R=o(6962),m=o(8791),v=o(3953),O=o(4006);function S(B,F){if(1&B&&(v.j41(0,"div",32)(1,"button",18)(2,"div",19)(3,"div",20)(4,"app-icon"),v.EFF(5,"layers"),v.k0s()(),v.j41(6,"div",33),v.EFF(7),v.nI1(8,"async"),v.nI1(9,"async"),v.k0s(),v.j41(10,"app-icon",22),v.EFF(11," chevron_right "),v.k0s()()()()),2&B){let $;const U=v.XpG();v.Y8G("content",U.region_select),v.R7$(7),v.SpI(" ",(null==($=v.bMT(8,2,U.region))?null:$.display_name)||(null==($=v.bMT(9,4,U.region))?null:$.name)," ")}}function P(B,F){if(1&B&&(v.j41(0,"div",32)(1,"button",18)(2,"div",19)(3,"div",20)(4,"app-icon"),v.EFF(5,"business"),v.k0s()(),v.j41(6,"div",33),v.EFF(7),v.nI1(8,"async"),v.nI1(9,"async"),v.k0s(),v.j41(10,"app-icon",22),v.EFF(11," chevron_right "),v.k0s()()()()),2&B){let $;const U=v.XpG();v.Y8G("content",U.building_select),v.R7$(7),v.SpI(" ",(null==($=v.bMT(8,2,U.building))?null:$.display_name)||(null==($=v.bMT(9,4,U.building))?null:$.name)," ")}}function M(B,F){if(1&B&&(v.j41(0,"div",17)(1,"button",18)(2,"div",19)(3,"div",20)(4,"app-icon"),v.EFF(5,"help"),v.k0s()(),v.j41(6,"div",21),v.pXf(7,4),v.k0s(),v.j41(8,"app-icon",22),v.EFF(9,"chevron_right"),v.k0s()()()()),2&B){const $=v.XpG();v.Y8G("content",$.help_tooltip)}}function w(B,F){if(1&B){const $=v.RV6();v.j41(0,"div")(1,"button",34),v.bIt("click",function(){v.eBV($);const G=v.XpG();return v.Njj(G.openWfhModal())}),v.j41(2,"div",19)(3,"div",20)(4,"app-icon"),v.EFF(5,"share_location"),v.k0s()(),v.j41(6,"div",21),v.pXf(7,5),v.k0s(),v.j41(8,"app-icon",22),v.EFF(9,"chevron_right"),v.k0s()()()()}}function x(B,F){if(1&B&&(v.j41(0,"div",17)(1,"button",18)(2,"div",19)(3,"div",20)(4,"app-icon"),v.EFF(5,"desk"),v.k0s()(),v.j41(6,"div",21),v.pXf(7,6),v.k0s(),v.j41(8,"app-icon",22),v.EFF(9,"chevron_right"),v.k0s()()()()),2&B){const $=v.XpG(),U=v.sdS(24);v.AVh("!border-b",!(null!=$.locales&&$.locales.length)),v.Y8G("content",U)}}function I(B,F){1&B&&v.nrm(0,"desk-height-presets")}function _(B,F){if(1&B&&(v.j41(0,"div",35)(1,"button",18)(2,"div",19)(3,"div",20)(4,"app-icon"),v.EFF(5,"mode_night"),v.k0s()(),v.j41(6,"div",21),v.pXf(7,7),v.nI1(8,"translate"),v.nI1(9,"translate"),v.k0s(),v.j41(10,"app-icon",22),v.EFF(11,"chevron_right"),v.k0s()()()()),2&B){const $=v.XpG();v.Y8G("content",$.language_tooltip),v.R7$(9),v.uP7(v.bMT(8,3,"COMMON.LANGUAGE_LABEL"))(v.bMT(9,5,"COMMON.LANGUAGE")),v.nnv(7)}}function C(B,F){if(1&B){const $=v.RV6();v.j41(0,"button",34),v.bIt("click",function(){v.eBV($);const G=v.XpG();return v.Njj(G.newSupportTicket())}),v.j41(1,"div",19)(2,"div",20)(3,"app-icon"),v.EFF(4,"support_agent"),v.k0s()(),v.j41(5,"div",21),v.pXf(6,8),v.k0s()()()}}function D(B,F){if(1&B){const $=v.RV6();v.j41(0,"button",36),v.bIt("click",function(){v.eBV($);const G=v.XpG();return v.Njj(G.reloadPage())}),v.EFF(1," New Version "),v.k0s()}}let A=(()=>{class B{get user(){return(0,n.Ny)()}get groups(){return this.user.groups.join("\n")}get version(){return n.xv}get features(){return this._settings.get("app.features")||[]}get locales(){return this._settings.get("app.locales")||[]}get desk_height(){return this._settings.get("app.desks.height_enabled")}get use_region(){return this._settings.get("app.use_region")}get disable_building_select(){return this._settings.get("app.disable_building_select")}get has_new_version(){return(0,n.tU)()}constructor($,U,G){this._settings=$,this._org=U,this._dialog=G,this.building=this._org.active_building,this.region=this._org.active_region,this.regions=this._org.region_list,this.region_select=R.q,this.building_select=b.C,this.help_tooltip=d.o,this.accessibility_tooltip=f.B,this.language_tooltip=y.O}logout(){(0,g.rig)()}reloadPage(){location.reload()}newSupportTicket(){this._settings.get("app.external_support_url")?window.open(this._settings.get("app.external_support_url"),"_blank"):this._dialog.open(m.c)}openWfhModal(){this._dialog.open(p.$)}viewChangelog(){var $=this;return(0,e.A)(function*(){const U=yield(yield fetch("https://raw.githubusercontent.com/PlaceOS/user-interfaces/develop/CHANGELOG.md")).text();$._dialog.open(l.l4,{data:{changelog:U}})})()}saveSetting($,U){console.log("Save setting",$,U),this._settings.saveUserSetting($,U)}formatLabel($){return`${$.toFixed(1)}cm`}static#e=this.\u0275fac=function(U){return new(U||B)(v.rXU(n.h$),v.rXU(h.yb),v.rXU(O.bZ))};static#t=this.\u0275cmp=v.VBU({type:B,selectors:[["user-controls"]],decls:41,vars:26,consts:()=>{let $,U,G,J,te,ne,K,k;return $=$localize`:␟d22b673a92b43eabbdebd80b1539a553703c84f6␟6572705143012462182:Display & Accessibility`,U=$localize`:␟a9bc2f36435d7979f179c544151bca38e4fe20cc␟3324363634810141643: Sign Out `,G=$localize`:␟0b1694897c27c2a5bbdf582a7f7d2bac898f3505␟6267525301152196009:Version: `,J=$localize`:␟258586f2141d5b6c98ef28c38ac6f55a81a301b2␟7393197899734735120:Help & Support`,te=$localize`:␟e97c857b4582bee9a86c573ca8e2e17150ae003a␟6974851687339955511:Work Location Settings`,ne=$localize`:␟6f3ddfacb6cc158043b77530f74c15dc406019fe␟8687640110841202898:Desk Settings`,K=$localize`:␟5a0db2e7be57ba081264f141f3ee4a8b683f1f6e␟6210988327734808594: ${"\ufffd0\ufffd"}:INTERPOLATION:: ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,k=$localize`:␟b862b54c42ded9ebb47260f60b0f75985c5fab18␟270482714535552546:Raise a support ticket`,[["desk_height_tooltip",""],$,U,G,J,te,ne,K,k,[1,"rounded","bg-base-100","shadow","mt-1","flex","flex-col","relative","divide-y","divide-base-200"],["avatar","",1,"flex","flex-col","items-center","p-2","w-[18rem]"],[1,"text-2xl",3,"user","matTooltip"],[1,""],[1,"text-xs","opacity-60","truncate"],["customTooltip","","class","relative",3,"content",4,"ngIf"],["customTooltip","",3,"content",4,"ngIf"],[4,"ngIf"],["customTooltip","",3,"content"],["btn","","matRipple","",1,"clear","w-full","text-left","h-[3.5rem]"],[1,"w-full","flex","items-center","space-x-2"],[1,"flex","items-center","justify-center","rounded-full","w-8","h-8","bg-base-200"],[1,"flex-1"],[1,"opacity-60","text-2xl"],["customTooltip","",3,"content","!border-b",4,"ngIf"],["customTooltip","","class","!border-b",3,"content",4,"ngIf"],["btn","","matRipple","","class","clear w-full text-left h-[3.5rem]",3,"click",4,"ngIf"],[1,"flex","flex-col","items-center","p-4"],[1,"flex","items-center","justify-center","space-x-2","mb-4"],["btn","","matRipple","",1,"inverse",3,"click"],["btn","","matRipple","",3,"click",4,"ngIf"],[1,"text-xs","opacity-60","w-full"],[1,"underline","p-0","m-0","bg-none","border-none","text-xs",3,"click"],["customTooltip","",1,"relative",3,"content"],[1,"flex-1","truncate","w-px"],["btn","","matRipple","",1,"clear","w-full","text-left","h-[3.5rem]",3,"click"],["customTooltip","",1,"!border-b",3,"content"],["btn","","matRipple","",3,"click"]]},template:function(U,G){if(1&U){const J=v.RV6();v.j41(0,"div",9)(1,"div",10),v.nrm(2,"a-user-avatar",11),v.j41(3,"div",12),v.EFF(4),v.k0s(),v.j41(5,"div",13),v.EFF(6),v.k0s()(),v.DNE(7,S,12,6,"div",14),v.nI1(8,"async"),v.DNE(9,P,12,6,"div",14)(10,M,10,1,"div",15)(11,w,10,0,"div",16),v.j41(12,"div",17)(13,"button",18)(14,"div",19)(15,"div",20)(16,"app-icon"),v.EFF(17,"mode_night"),v.k0s()(),v.j41(18,"div",21),v.pXf(19,1),v.k0s(),v.j41(20,"app-icon",22),v.EFF(21,"chevron_right"),v.k0s()()()(),v.DNE(22,x,10,3,"div",23)(23,I,1,0,"ng-template",null,0,v.C5r)(25,_,12,7,"div",24)(26,C,7,0,"button",25),v.j41(27,"div",26)(28,"div",27)(29,"button",28),v.bIt("click",function(){return v.eBV(J),v.Njj(G.logout())}),v.pXf(30,2),v.k0s(),v.DNE(31,D,2,0,"button",29),v.k0s(),v.j41(32,"div",30),v.qex(33),v.pXf(34,3),v.bVm(),v.j41(35,"button",31),v.bIt("click",function(){return v.eBV(J),v.Njj(G.viewChangelog())}),v.EFF(36),v.k0s()(),v.j41(37,"div",30),v.EFF(38),v.nI1(39,"date"),v.nI1(40,"date"),v.k0s()()()}2&U&&(v.R7$(2),v.Y8G("user",G.user)("matTooltip",G.groups),v.R7$(2),v.JRh(null==G.user?null:G.user.name),v.R7$(2),v.JRh(null==G.user?null:G.user.email),v.R7$(),v.Y8G("ngIf",v.bMT(8,18,G.regions).length),v.R7$(2),v.Y8G("ngIf",!G.disable_building_select&&!G.use_region),v.R7$(),v.Y8G("ngIf",G.features.includes("help")),v.R7$(),v.Y8G("ngIf",G.features.includes("wfh")),v.R7$(),v.AVh("!border-b",!(null!=G.locales&&G.locales.length&&G.desk_height)),v.Y8G("content",G.accessibility_tooltip),v.R7$(10),v.Y8G("ngIf",G.desk_height),v.R7$(3),v.Y8G("ngIf",null==G.locales?null:G.locales.length),v.R7$(),v.Y8G("ngIf",G.features.includes("support-ticket")),v.R7$(5),v.Y8G("ngIf",G.has_new_version),v.R7$(5),v.SpI(" ",G.version.hash," "),v.R7$(2),v.Lme(" ",v.i5U(39,20,G.version.time,"longDate")," (",v.i5U(40,23,G.version.time,"shortTime"),") "))}})}return B})()},5080:(gt,re,o)=>{"use strict";o.d(re,{e:()=>v});var e=o(6939),n=o(9707),l=o(3953),h=o(7987),g=o(177);const p=["keyboard",""],f=["*"];function b(O,S){if(1&O&&l.nrm(0,"div",7),2&O){const P=l.XpG(4);l.AVh("bg-success","shift"===P.state)}}function d(O,S){if(1&O){const P=l.RV6();l.qex(0),l.j41(1,"div",5),l.bIt("focus",function(){l.eBV(P);const w=l.XpG(3);return l.Njj(w.focusInput())})("click",function(){const w=l.eBV(P).$implicit,x=l.XpG(3);return l.Njj(x.handleKeyPress(w))}),l.EFF(2),l.DNE(3,b,1,2,"div",6),l.k0s(),l.bVm()}if(2&O){const P=S.$implicit;l.R7$(),l.AVh("special","{"===P[0]&&P.length>1)("space","{space}"===P),l.BMQ("key",P),l.R7$(),l.SpI(" ","{space}"===P?"Space":"{caps}"===P?"Caps Lock":"{backspace}"===P?"Backspace":P," "),l.R7$(),l.Y8G("ngIf","{caps}"===P)}}function y(O,S){if(1&O&&(l.j41(0,"div",3),l.DNE(1,d,4,7,"ng-container",4),l.k0s()),2&O){const P=S.$implicit;l.R7$(),l.Y8G("ngForOf",P)}}function R(O,S){if(1&O&&(l.j41(0,"div",1),l.DNE(1,y,2,1,"div",2),l.k0s()),2&O){const P=l.XpG();l.R7$(),l.Y8G("ngForOf",P.keyset)}}const m=["0123456789".split(""),"qwertyuiop".split(""),"asdfghjkl".split(""),"zxcvbnm".split(""),["{caps}","{space}","{backspace}"]];let v=(()=>{class O extends n.Tv{constructor(P,M){super(),this._element=P,this._overlay=M,this.keyset=m,this.state="normal",this._overlay_ref=null,this.onFocus=()=>{O.enabled&&(this.open(),this.clearTimeout("blur"))},this.onBlur=()=>this.timeout("blur",()=>this.close())}ngOnChanges(P){P.keyset&&(this.keyset||(this.keyset=m))}ngOnDestroy(){super.ngOnDestroy(),this.close()}focusInput(){this._element?.nativeElement?.blur(),this._element?.nativeElement?.focus()}open(){this._overlay_ref||this._portal&&(this._overlay_ref=this._overlay.create({positionStrategy:this._overlay.position().global().bottom().centerHorizontally()}),this._overlay_ref.attach(this._portal))}close(){this._overlay_ref&&(this._overlay_ref.dispose(),this._overlay_ref=null)}handleKeyPress(P){let M=this._element.nativeElement.selectionStart;const w=this._element.nativeElement.value||"";switch(P.toLowerCase()){case"{caps}":case"{shift}":this.state="shift";break;case"{backspace}":this._element.nativeElement.value=`${w.substr(0,M-1)}${w.substr(M,w.length)}`,M=Math.max(0,M-1);break;case"{space}":this._element.nativeElement.value=`${w.substr(0,M)} ${w.substr(M,w.length)}`,M+=1;break;default:"shift"===this.state&&(this.state="normal"),this._element.nativeElement.value=`${w.substr(0,M)}${P}${w.substr(M,w.length)}`,M+=1}this._element.nativeElement.dispatchEvent(new InputEvent("input")),this.updateKeyState(),this.timeout("focus",()=>{this.focusInput(),this._element.nativeElement.selectionStart=M,this._element.nativeElement.selectionEnd=M},50)}updateKeyState(){this.keyset=this.keyset.map(P=>P.map(M=>M.length>1?M:M["normal"!==this.state?"toUpperCase":"toLowerCase"]()))}static#e=this.\u0275fac=function(M){return new(M||O)(l.rXU(l.aKT),l.rXU(h.hJ))};static#t=this.\u0275cmp=l.VBU({type:O,selectors:[["input","keyboard",""],["textarea","keyboard",""]],viewQuery:function(M,w){if(1&M&&l.GBs(e.bV,5),2&M){let x;l.mGM(x=l.lsd())&&(w._portal=x.first)}},hostBindings:function(M,w){1&M&&l.bIt("focus",function(){return w.onFocus()})("blur",function(){return w.onBlur()})},inputs:{keyset:"keyset"},features:[l.Vt3,l.OA$],attrs:p,ngContentSelectors:f,decls:2,vars:0,consts:[["cdk-portal",""],["keyboard-view","",1,"w-screen","flex","flex-col","space-y-4","bg-base-200","p-2","border-t","border-base-200"],["row","","class","flex items-center justify-center space-x-2",4,"ngFor","ngForOf"],["row","",1,"flex","items-center","justify-center","space-x-2"],[4,"ngFor","ngForOf"],["tabindex","0",1,"rounded-xl","p-2","border","border-base-200","relative","cursor-pointer","bg-base-100",3,"focus","click"],["dot","","class","absolute top-2 right-2 h-2 w-2 rounded-full bg-base-200",3,"bg-success",4,"ngIf"],["dot","",1,"absolute","top-2","right-2","h-2","w-2","rounded-full","bg-base-200"]],template:function(M,w){1&M&&(l.NAR(),l.SdG(0),l.DNE(1,R,2,1,"ng-template",0))},dependencies:[g.Sq,g.bT,e.Qq],styles:["[key][_ngcontent-%COMP%]{height:3.5rem;width:4rem;transition:box-shadow .2s,top .2s;box-shadow:0 4px 0 .04px #0000001a}[key].special[_ngcontent-%COMP%]{width:10rem}[key].space[_ngcontent-%COMP%]{flex:1;min-width:10rem;max-width:25rem}[key][_ngcontent-%COMP%]:hover{top:2px;box-shadow:0 2px 0 .04px #0000001a}[key][_ngcontent-%COMP%]:active{top:4px;box-shadow:0 0 0 .04px #0000001a}"]})}return O})()},8113:(gt,re,o)=>{"use strict";o.d(re,{LR:()=>n.L,Ws:()=>e.W,jX:()=>p.j,OA:()=>l.OA,qq:()=>h.qq,Uv:()=>g.Uv,UU:()=>l.UU,Nn:()=>l.Nn,ue:()=>l.ue});var e=o(6101),n=o(6727),l=o(1416),h=o(1280),g=o(1761),p=o(7758);o(4035),o(1765),o(711),o(5713),o(7535)},1765:(gt,re,o)=>{"use strict";o.d(re,{w:()=>A});var e=o(467),n=o(3953),l=o(5818),h=o(4361),g=o(7926),p=o(2659),f=o(9707),d=(o(6727),o(4035)),y=o(8026),R=o(2011),m=o(5713),v=o(4006),O=o(2091);const S=()=>["./"],P=B=>({event:B});function M(B,F){if(1&B&&(n.j41(0,"span",5),n.EFF(1),n.k0s()),2&B){const $=n.XpG(2);n.R7$(),n.SpI("",$.day,",\xa0")}}function w(B,F){if(1&B&&(n.j41(0,"h4",2),n.DNE(1,M,2,1,"span",3),n.EFF(2),n.nI1(3,"date"),n.j41(4,"span",4),n.EFF(5),n.nI1(6,"date"),n.k0s()()),2&B){const $=n.XpG();n.R7$(),n.Y8G("ngIf",$.show_day),n.R7$(),n.SpI(" ",n.i5U(3,3,null==$.event?null:$.event.date,$.time_format)," "),n.R7$(3),n.SpI("(",n.i5U(6,6,null==$.event?null:$.event.date,"z"),")")}}function x(B,F){1&B&&(n.j41(0,"div",12)(1,"app-icon"),n.EFF(2,"restaurant"),n.k0s(),n.j41(3,"div",14),n.EFF(4,"Catered"),n.k0s()())}function I(B,F){if(1&B&&(n.j41(0,"div",21),n.nrm(1,"a-user-avatar",22),n.k0s()),2&B){const $=F.$implicit;n.R7$(),n.Y8G("user",$)}}function _(B,F){if(1&B&&(n.j41(0,"div",21)(1,"div",23),n.EFF(2),n.k0s()()),2&B){const $=n.XpG(3);n.R7$(2),n.SpI(" +",(null==$.event||null==$.event.attendees?null:$.event.attendees.length)-5," ")}}function C(B,F){if(1&B&&(n.j41(0,"div",18),n.DNE(1,I,2,1,"div",19),n.nI1(2,"slice"),n.DNE(3,_,3,1,"div",20),n.k0s()),2&B){const $=n.XpG(2);n.R7$(),n.Y8G("ngForOf",n.brH(2,2,null==$.event?null:$.event.attendees,0,6===(null==$.event||null==$.event.attendees?null:$.event.attendees.length)?6:5)),n.R7$(2),n.Y8G("ngIf",(null==$.event||null==$.event.attendees?null:$.event.attendees.length)>6)}}function D(B,F){if(1&B){const $=n.RV6();n.j41(0,"a",6),n.bIt("click",function(){n.eBV($);const G=n.XpG();return n.Njj(G.viewDetails())}),n.j41(1,"div",7)(2,"h4",8),n.EFF(3),n.k0s(),n.j41(4,"div",9)(5,"status-pill",10),n.EFF(6),n.k0s()(),n.j41(7,"div",11)(8,"div",12)(9,"app-icon"),n.EFF(10,"meeting_room"),n.k0s(),n.j41(11,"div",13),n.EFF(12),n.k0s()(),n.j41(13,"div",12)(14,"app-icon"),n.EFF(15,"person_outline"),n.k0s(),n.j41(16,"div",14),n.EFF(17),n.k0s()(),n.DNE(18,x,5,0,"div",15),n.j41(19,"div",12)(20,"app-icon"),n.EFF(21,"people"),n.k0s(),n.j41(22,"div",14),n.EFF(23),n.k0s()()(),n.j41(24,"app-icon",16),n.EFF(25," chevron_right "),n.k0s(),n.DNE(26,C,4,6,"div",17),n.k0s()()}if(2&B){let $;const U=n.XpG();n.Y8G("routerLink",n.lJ4(11,S))("queryParams",n.eq3(12,P,null==U.event?null:U.event.id)),n.R7$(3),n.JRh(null==U.event?null:U.event.title),n.R7$(2),n.Y8G("status",U.status),n.R7$(),n.JRh(U.period),n.R7$(6),n.SpI(" ",U.location," "),n.R7$(5),n.SpI(" ",(null==U.event||null==U.event.organiser?null:U.event.organiser.name)||(null==U.event||null==U.event.organiser?null:U.event.organiser.email)," "),n.R7$(),n.Y8G("ngIf",null==U.event||null==($=U.event.ext("catering"))?null:$.length),n.R7$(5),n.Lme(" ",null==U.event||null==U.event.attendees?null:U.event.attendees.length," ",1===(null==U.event||null==U.event.attendees?null:U.event.attendees.length)?"Person":"People"," "),n.R7$(3),n.Y8G("ngIf",null==U.event||null==U.event.attendees?null:U.event.attendees.length)}}let A=(()=>{class B extends f.Tv{get time_format(){return this._settings.time_format}get status(){return"done"===this.event?.state?"neutral":"approved"===this.event?.status?"success":"tentative"===this.event?.status?"warning":"declined"===this.event?.status?"error":"warning"}constructor($,U,G,J,te){super(),this._dialog=$,this._route=U,this._org=G,this._space_pipe=J,this._settings=te,this.show_day=!1,this.edit=new n.bkB,this.remove=new n.bkB,this.location=""}ngOnInit(){var $=this;return(0,e.A)(function*(){$.subscription("route.query",$._route.queryParamMap.subscribe(U=>U.has("event")&&$.event?.id===U.get("event")?$.viewDetails():"")),$.location=yield $.getLocationString()})()}ngOnChanges($){var U=this;return(0,e.A)(function*(){$.event&&U.event&&(U.location=yield U.getLocationString())})()}get day(){const $=this.event?.date||Date.now();return`${(0,l.r)(Date.now(),$)?"Today":(0,h.GP)($,"EEEE")}`}getLocationString(){var $=this;return(0,e.A)(function*(){const U=$.event?.resources[0]||$.event?.system||$.event?.space||{},G=yield $._space_pipe.transform(U.id||U.email),J=G?.zones||[],te=$._org.levelWithID(J)||$._org.buildings.find(ne=>J.includes(ne.id));return`${te?(te.display_name||te.name)+", ":""} ${G?.display_name||G?.name}`})()}get period(){if(this.event?.all_day)return"All Day";const $=this.event?.date||Date.now(),U=this.event?.duration||60,G=(0,g.z)($,U),J=this.event?.duration>1440,te=(0,p.a)({hours:Math.floor(U/60),minutes:U%60}).replace(" hour","hr").replace(" minute","min");return`${(0,h.GP)($,(J?"MMM d, ":"")+this.time_format)} - ${(0,h.GP)(G,(J?"MMM d, ":"")+this.time_format)} ${U<1440?"("+te+")":""}`}viewDetails(){this.event&&this.timeout("open",()=>{if(this.event.extension_data?.shared_event)return void this._dialog.open(m.E,{data:{event:this.event,concierge:!1}});const $=this._dialog.open(d.b,{data:this.event});this.subscription("edit",$.componentInstance.edit.subscribe(()=>this.edit.emit())),this.subscription("remove",$.componentInstance.remove.subscribe(U=>this.remove.emit(U)))})}static#e=this.\u0275fac=function(U){return new(U||B)(n.rXU(v.bZ),n.rXU(O.nX),n.rXU(y.y),n.rXU(R.J),n.rXU(f.h$))};static#t=this.\u0275cmp=n.VBU({type:B,selectors:[["event-card"]],inputs:{event:"event",show_day:"show_day"},outputs:{edit:"edit",remove:"remove"},features:[n.Jv_([R.J]),n.Vt3,n.OA$],decls:2,vars:2,consts:[["class","mb-2 flex items-center","date","",4,"ngIf"],["name","view-event-details","class","w-full cursor-pointer relative",3,"routerLink","queryParams","click",4,"ngIf"],["date","",1,"mb-2","flex","items-center"],["day","",4,"ngIf"],[1,"text-xs","px-2"],["day",""],["name","view-event-details",1,"w-full","cursor-pointer","relative",3,"click","routerLink","queryParams"],[1,"w-full","bg-base-100","border","border-base-300","rounded-xl","shadow","py-4","relative"],[1,"px-4","text-lg"],[1,"flex","mx-4","my-2"],[3,"status"],[1,"flex","flex-wrap","flex-col","sm:flex-row","sm:divide-x","divide-base-200-500","py-2","space-y-2","sm:space-y-0"],[1,"flex","items-center","px-4"],[1,"mx-2","truncate"],[1,"mx-2"],["class","flex items-center px-4",4,"ngIf"],[1,"absolute","top-1/2","right-1","text-4xl","-translate-y-1/2"],["class","absolute bottom-2 right-2 sm:bottom-auto sm:top-2 text-sm sm:text-base flex items-center pr-4",4,"ngIf"],[1,"absolute","bottom-2","right-2","sm:bottom-auto","sm:top-2","text-sm","sm:text-base","flex","items-center","pr-4"],["class","h-10 w-6",4,"ngFor","ngForOf"],["class","h-10 w-6",4,"ngIf"],[1,"h-10","w-6"],[3,"user"],[1,"bg-secondary","rounded-full","h-10","w-10","border-2","border-base-100","flex","items-center","justify-center","text-secondary-content"]],template:function(U,G){1&U&&n.DNE(0,w,7,9,"h4",0)(1,D,27,14,"a",1),2&U&&(n.Y8G("ngIf",G.event),n.R7$(),n.Y8G("ngIf",G.event))},styles:["[_nghost-%COMP%]{display:block;width:100%}"]})}return B})()},4035:(gt,re,o)=>{"use strict";o.d(re,{b:()=>Oe});var e=o(467),n=o(3953),l=o(4006),h=o(7926),g=o(2659),p=o(4361),f=o(5987),b=o(6727),d=o(1865),y=o(8026),R=o(2011),m=o(5170),v=o(602),O=o(9707),S=o(735),P=o(5157),M=o(620),w=o(1416);const x=()=>({disable_pan:!0,disable_zoom:!0});function I(we,We){1&we&&n.nrm(0,"div",55)}function _(we,We){if(1&we&&(n.j41(0,"div",56),n.nrm(1,"image-carousel",57),n.k0s()),2&we){const Xe=n.XpG();n.R7$(),n.Y8G("images",null==Xe.event||null==Xe.event.system?null:Xe.event.system.images)}}function C(we,We){if(1&we){const Xe=n.RV6();n.j41(0,"button",61),n.bIt("click",function(){n.eBV(Xe);const ge=n.XpG(2);return n.Njj(ge.checkin())}),n.j41(1,"div",62)(2,"app-icon"),n.EFF(3),n.k0s(),n.j41(4,"div",63),n.pXf(5,9),n.k0s()()()}if(2&we){const Xe=n.XpG(2);n.AVh("bg-success","pending"!==Xe.room_status)("border-none","pending"!==Xe.room_status)("pointer-events-none","pending"!==Xe.room_status),n.R7$(3),n.JRh("pending"===Xe.room_status?"arrow_back":"done"),n.R7$(2),n.uP7("pending"===Xe.room_status?"Check in":"Checked in"),n.nnv(5)}}function D(we,We){if(1&we&&(n.j41(0,"button",64)(1,"app-icon"),n.EFF(2,"more_horiz"),n.k0s()()),2&we){n.XpG(2);const Xe=n.sdS(75);n.Y8G("matMenuTriggerFor",Xe)}}function A(we,We){if(1&we&&(n.j41(0,"div",58),n.DNE(1,C,6,8,"button",59)(2,D,3,1,"button",60),n.k0s()),2&we){const Xe=n.XpG();n.R7$(),n.Y8G("ngIf",Xe.room_status&&(null==Xe.event?null:Xe.event.can_check_in)&&"free"!==Xe.room_status),n.R7$(),n.Y8G("ngIf",Xe.allow_edit)}}function B(we,We){if(1&we&&(n.qex(0),n.EFF(1),n.bVm()),2&we){const Xe=n.XpG();n.R7$(),n.SpI(" ",(null==Xe.level?null:Xe.level.display_name)||(null==Xe.level?null:Xe.level.name),", ")}}function F(we,We){if(1&we&&(n.j41(0,"div",29)(1,"app-icon"),n.EFF(2,"place"),n.k0s(),n.j41(3,"div"),n.EFF(4),n.k0s()()),2&we){const Xe=n.XpG();n.R7$(4),n.Lme(" ",(null==Xe.building?null:Xe.building.display_name)||(null==Xe.building?null:Xe.building.name),", ",null==Xe.building?null:Xe.building.address," ")}}function $(we,We){if(1&we&&(n.j41(0,"span",81),n.EFF(1),n.k0s()),2&we){const Xe=n.XpG().$implicit,Me=n.XpG(3);n.Y8G("matTooltip",Me.optionList(Xe)),n.R7$(),n.SpI(" ",(null==Xe.option_list?null:Xe.option_list.length)||"0"," option(s) ")}}function U(we,We){if(1&we&&(n.j41(0,"div",76)(1,"div",77)(2,"span",71),n.EFF(3),n.k0s(),n.DNE(4,$,2,2,"span",78),n.k0s(),n.j41(5,"div",79),n.EFF(6),n.k0s(),n.j41(7,"div",80),n.EFF(8),n.nI1(9,"currency"),n.k0s()()),2&we){const Xe=We.$implicit,Me=n.XpG(3);n.R7$(3),n.JRh(Xe.name||"Item"),n.R7$(),n.Y8G("ngIf",null==Xe.option_list?null:Xe.option_list.length),n.R7$(2),n.SpI(" x",Xe.quantity," "),n.R7$(2),n.SpI(" ",n.i5U(9,4,Xe.unit_price_with_options/100,Me.currency_code)," ea ")}}function G(we,We){if(1&we){const Xe=n.RV6();n.j41(0,"div",68)(1,"div",69)(2,"div",70)(3,"div",71),n.EFF(4),n.nI1(5,"date"),n.k0s(),n.j41(6,"div",72),n.EFF(7),n.nI1(8,"currency"),n.k0s()(),n.j41(9,"button",73),n.bIt("click",function(){const ge=n.eBV(Xe).$implicit,pe=n.XpG(2);return n.Njj(pe.show_order[ge.id]=!pe.show_order[ge.id])}),n.j41(10,"app-icon"),n.EFF(11),n.k0s()()(),n.j41(12,"div",74),n.DNE(13,U,10,7,"div",75),n.k0s()()}if(2&we){const Xe=We.$implicit,Me=n.XpG(2);n.R7$(4),n.SpI(" Order at ",n.i5U(5,7,Xe.deliver_at,"MMM d, "+Me.time_format)," "),n.R7$(3),n.Lme(" ",Xe.item_count," item(s) for ",n.i5U(8,10,Xe.total_cost/100,Me.currency_code)," "),n.R7$(2),n.Y8G("matTooltip",Me.show_order[Xe.id]?"Hide order items":"Show order items"),n.R7$(2),n.SpI(" ",Me.show_order[Xe.id]?"expand_less":"expand_more"," "),n.R7$(),n.Y8G("@show",Me.show_order[Xe.id]?"show":"hide"),n.R7$(),n.Y8G("ngForOf",Xe.items)}}function J(we,We){if(1&we&&(n.qex(0),n.j41(1,"div",32)(2,"h3",65),n.pXf(3,10),n.k0s(),n.j41(4,"div",66),n.DNE(5,G,14,13,"div",67),n.k0s()(),n.bVm()),2&we){const Xe=n.XpG();n.R7$(5),n.Y8G("ngForOf",Xe.event.valid_catering)}}function te(we,We){if(1&we&&(n.qex(0),n.nrm(1,"interactive-map",82),n.bVm()),2&we){const Xe=n.XpG();n.R7$(),n.Y8G("src",null==Xe.level?null:Xe.level.map_id)("features",Xe.features)("options",n.lJ4(3,x))}}function ne(we,We){if(1&we&&(n.nrm(0,"div",85),n.nI1(1,"sanitize")),2&we){const Xe=n.XpG(2);n.Y8G("innerHTML",n.bMT(1,1,Xe.body)||"Unable to sanitize notes contents",n.npT)}}function K(we,We){if(1&we&&(n.j41(0,"div",32)(1,"h3",83),n.pXf(2,11),n.k0s(),n.DNE(3,ne,2,3,"div",84),n.k0s()),2&we){const Xe=n.XpG();n.R7$(3),n.Y8G("ngIf",Xe.body)}}function k(we,We){if(1&we&&(n.j41(0,"div",76)(1,"div",77)(2,"span",71),n.EFF(3),n.k0s()(),n.j41(4,"div",79),n.EFF(5),n.k0s()()),2&we){const Xe=We.$implicit;n.R7$(3),n.JRh(Xe.name||"Item"),n.R7$(2),n.SpI(" x",Xe.quantity," ")}}function j(we,We){if(1&we){const Xe=n.RV6();n.j41(0,"div",88)(1,"button",89),n.bIt("click",function(){const ge=n.eBV(Xe).$implicit,pe=n.XpG(2);return n.Njj(pe.show_request[ge.id]=!pe.show_request[ge.id])}),n.j41(2,"div",90)(3,"div",71),n.EFF(4),n.nI1(5,"date"),n.k0s()(),n.j41(6,"div",91)(7,"app-icon"),n.EFF(8),n.k0s()(),n.j41(9,"div",92)(10,"app-icon",93),n.EFF(11),n.k0s()()(),n.j41(12,"div",74),n.DNE(13,k,6,2,"div",75),n.k0s()()}if(2&we){const Xe=We.$implicit,Me=n.XpG(2);n.R7$(4),n.SpI(" Requested for ",n.i5U(5,18,Xe.deliver_at,"MMM d, "+Me.time_format)," "),n.R7$(2),n.AVh("bg-success","approved"===Xe.state)("text-success-content","approved"===Xe.state)("bg-warning","approved"!==Xe.state&&"rejected"!==Xe.state)("text-warning-content","approved"!==Xe.state&&"rejected"!==Xe.state)("bg-error","rejected"===Xe.state)("text-error-content","rejected"===Xe.state),n.Y8G("matTooltip",Xe.state||"Tentative"),n.R7$(2),n.SpI(" ","approved"===Xe.state?"done":"rejected"===Xe.state?"close":"schedule"," "),n.R7$(3),n.SpI(" ",Me.show_request[Xe.id]?"expand_less":"expand_more"," "),n.R7$(),n.Y8G("@show",Me.show_request[Xe.id]?"show":"hide"),n.R7$(),n.Y8G("ngForOf",Xe.items)}}function W(we,We){if(1&we&&(n.qex(0),n.j41(1,"div",32)(2,"h3",86),n.pXf(3,12),n.k0s(),n.j41(4,"div",66),n.DNE(5,j,14,21,"div",87),n.k0s()(),n.bVm()),2&we){const Xe=n.XpG();n.R7$(3),n.uP7((null==Xe.event.valid_assets?null:Xe.event.valid_assets.length)||0),n.nnv(3),n.R7$(2),n.Y8G("ngForOf",Xe.event.valid_assets)}}function ie(we,We){if(1&we){const Xe=n.RV6();n.j41(0,"div",94)(1,"attendee-list",95),n.bIt("click",function(){n.eBV(Xe);const ge=n.XpG();return n.Njj(ge.show_attendees=!1)}),n.k0s()()}if(2&we){const Xe=n.XpG();n.R7$(),n.Y8G("list",Xe.event.attendees)("host",Xe.event.host)}}function ce(we,We){if(1&we){const Xe=n.RV6();n.j41(0,"button",96),n.bIt("click",function(){n.eBV(Xe);const ge=n.XpG();return n.Njj(ge.edit.emit(ge.space))}),n.j41(1,"div",52)(2,"app-icon"),n.EFF(3,"edit"),n.k0s(),n.j41(4,"div"),n.pXf(5,13),n.k0s()()()}if(2&we){const Xe=n.XpG();n.Y8G("matTooltip",Xe.can_edit?"":Xe.no_edit_message)("disabled",!Xe.can_edit)}}function oe(we,We){if(1&we){const Xe=n.RV6();n.j41(0,"button",51),n.bIt("click",function(){n.eBV(Xe);const ge=n.XpG();return n.Njj(ge.remove.emit(!0))}),n.j41(1,"div",52)(2,"app-icon"),n.EFF(3,"delete"),n.k0s(),n.j41(4,"div"),n.pXf(5,14),n.k0s()()()}}function me(we,We){if(1&we){const Xe=n.RV6();n.j41(0,"button",51),n.bIt("click",function(){const ge=n.eBV(Xe).$implicit,pe=n.XpG();return n.Njj(pe.action.emit(ge.id))}),n.j41(1,"div",52)(2,"app-icon"),n.EFF(3),n.k0s(),n.j41(4,"div"),n.pXf(5,15),n.k0s()()()}if(2&we){const Xe=We.$implicit;n.R7$(3),n.JRh(Xe.icon),n.R7$(2),n.uP7(Xe.name),n.nnv(5)}}const he=[];let Oe=(()=>{class we{get can_edit(){return!0}get body(){return this.event.body.replace(/\\n\\n\[ID\|.*\]/gm,"")}get allow_edit(){return!this._settings.get("app.events.booking_unavailable")}get custom_actions(){return this._settings.get("app.events.custom_actions")||he}get time_format(){return this._settings.time_format}get event_status(){return"done"===this.event?.state?"neutral":"approved"===this.event?.status?"success":"tentative"===this.event?.status?"warning":"declined"===this.event?.status?"error":"warning"}constructor(Xe,Me,ge,pe,Ee){this._event=Xe,this._org=Me,this._space_pipe=ge,this._settings=pe,this._dialog=Ee,this.action=new n.bkB,this.edit=new n.bkB,this.remove=new n.bkB,this.show_order={},this.show_request={},this.room_status="",this.hide_map=!1,this.hide_edit=!1,this.show_attendees=!1,this.event=this._event,this.no_edit_message="Editing bookings long than \n a day is not available",this.features=[{location:this.event?.system?.map_id,content:d.V}],this.has_catering=this.event?.ext("catering")?.length>0,this.has_assets=!!this.event?.linked_bookings?.find(Ge=>"asset-request"===Ge.booking_type),this.level=new v.P,this.building=new m.t,this.space=new S.$,this.accept_count=this._event.attendees.reduce((Ge,Qe)=>Ge+("accepted"===Qe.response_status?1:0),0),this.declined_count=this._event.attendees.reduce((Ge,Qe)=>Ge+("declined"===Qe.response_status?1:0),0),this.pending_count=this._event.attendees.reduce((Ge,Qe)=>Ge+("tentative"===Qe.response_status||"needsAction"===Qe.response_status?1:0),0),this._load().then()}get period(){if(this.event?.all_day)return"All Day";const Xe=this.event?.date||Date.now(),Me=this.event?.duration||60,ge=(0,h.z)(Xe,Me),pe=this.event?.duration>1440,Ee=(0,g.a)({hours:Math.floor(Me/60),minutes:Me%60}).replace(" hour","hr").replace(" minute","min");return`${(0,p.GP)(Xe,(pe?"MMM d, ":"")+this.time_format)} - ${(0,p.GP)(ge,(pe?"MMM d, ":"")+this.time_format)} ${Me<1440?"("+Ee+")":""}`}optionList(Xe){return Xe.option_list?.map(Me=>Me.name).join("\n")}checkin(){var Xe=this;return(0,e.A)(function*(){const Me=(0,P.f_4)(Xe.space?.id,"Bookings");Me&&(yield Me.execute("checkin",[(0,f._)(Xe.event.date)]).catch(ge=>(0,O.UG)(`Error checking in booking. ${ge}`)),Xe.room_status="busy")})()}_load(){var Xe=this;return(0,e.A)(function*(){if(Xe.space=yield Xe._space_pipe.transform(Xe._event.system?.id||Xe._event.system?.email),Xe.level=Xe._org.levelWithID(Xe.space.zones),Xe.building=Xe._org.buildings.find(ge=>Xe.space.zones.includes(ge.id)),Xe.features=[{location:Xe.space.map_id,content:d.V}],Xe.event.extension_data.catering?.length||Xe.event.extension_data.assets?.length)return;const Me=yield(0,w.A5)(Xe._event.id,Xe.space.id).toPromise();Me&&(Xe._event=new b.L({...Xe._event,extension_data:{...Xe._event.extension_data,...Me}}))})()}status(Xe){const Me=this.event.linked_bookings.find(ge=>ge.asset_id===Xe);return Me.status?Me.status:Me?Me.approved?"approved":Me.rejected?"rejected":"pending":"pending"}viewLocation(){this.hide_map=!0,this._dialog.open(M.V,{maxWidth:"95vw",maxHeight:"95vh",data:{item:this.space}}).afterClosed().subscribe(()=>{this.hide_map=!1})}static#e=this.\u0275fac=function(Me){return new(Me||we)(n.rXU(l.Vh),n.rXU(y.y),n.rXU(R.J),n.rXU(O.h$),n.rXU(l.bZ))};static#t=this.\u0275cmp=n.VBU({type:we,selectors:[["event-details-modal"]],outputs:{action:"action",edit:"edit",remove:"remove"},features:[n.Jv_([R.J])],decls:85,vars:33,consts:()=>{let Xe,Me,ge,pe,Ee,Ge,Qe,$e,tt,xt,Pt,yt,Le,De,V;return Xe=$localize`:␟2c8ce65c566300dc9063f69c615fda2e3a6b896a␟2102851380219026584: Details `,Me=$localize`:␟dc34e61df786db36347c8dc09510fa3d5d4c6253␟8291262399353359697:Attendees`,ge=$localize`:␟8ee85ef5a3693fb53511af55f66b8543941a5968␟5528514721268144968: See All `,pe=$localize`:␟4f20f2d5a6882190892e58b85f6ccbedfa737952␟2807800733729323332:Yes`,Ee=$localize`:␟3d3ae7deebc5949b0c1c78b9847886a94321d9fd␟3542042671420335679:No`,Ge=$localize`:␟e6a27066251ca1e04c5be86ad758380856df2506␟4416413576346763682:Pending`,Qe=$localize`:␟01072150a2c93fe7032783804ebfa5a1e41f3685␟6139423482037031714: Host `,$e=$localize`:␟e634daa29c58868c9c9c4d9fcc7ba1c016fac86b␟4014175048517775632:Delete event`,tt=$localize`:␟e00cf812605b14c9c2390da404d3cd3ea67f19a6␟3151361020738293834: ${"\ufffd0\ufffd"}:INTERPOLATION: `,xt=$localize`:␟ef2612559c447d8f4c218c06bb66af9de8edf365␟6975755512274629403: Catering `,Pt=$localize`:␟195b2f1c65301b0700459c9d0ae2ce407ed9c7bf␟4484880822148672471: Notes `,yt=$localize`:␟e30ee857e7399db3f72ec7aa8aa9b56ce76fca96␟3391582008093299175: Assets (${"\ufffd0\ufffd"}:INTERPOLATION:) `,Le=$localize`:␟56c74224d22c7379fdbf9d0a00c8bf519a9ee661␟2772374745622574688:Edit event`,De=$localize`:␟ecb2e91e2775870da0ea8e51b4951994493672fb␟3974228098480354844:Delete Series`,V=$localize`:␟8fcf89a6df3c02c129a41d4b202221a4013f107c␟941732683947462971:${"\ufffd0\ufffd"}:INTERPOLATION:`,[["menu","matMenu"],Xe,Me,ge,pe,Ee,Ge,Qe,$e,tt,xt,Pt,yt,Le,De,V,[1,"w-[100vw]","h-[100vh]","sm:relative","sm:inset-auto","sm:w-[51rem]","sm:h-auto","sm:max-h-[80vh]","bg-base-100","sm:bg-base-200","sm:dark:bg-neutral-600","sm:rounded","overflow-auto","space-y-2","pb-2"],[1,"sm:flex","flex-col","items-center","pb-4","max-h-screen","sm:max-h-[80vh]","sm:px-16","sm:border-b","bg-base-100","border-base-200"],["binding","","mod","Bookings","bind","status",3,"modelChange","model","sys"],["class","h-8 w-full sm:hidden block",4,"ngIf"],["class","bg-neutral w-full h-64 sm:rounded-b overflow-hidden",4,"ngIf"],["title","",1,"px-3","mt-2","text-xl","font-medium","w-full"],[1,"sm:flex","items-center","justify-between","w-full"],[1,"flex","m-2"],[3,"status"],["actions","","class","flex items-center space-x-2 px-2",4,"ngIf"],[1,"sm:flex","flex-wrap","sm:px-12"],[1,"sm:p-4","sm:bg-base-100","sm:dark:bg-neutral-700","rounded","sm:m-2","sm:border","border-base-200","flex-grow-[3]","min-w-1/3","sm:w-[16rem]","space-y-2"],[1,"px-3","mt-2","text-lg","font-medium","mb-2"],[1,"flex","items-center","px-2","space-x-2"],[4,"ngIf"],["class","flex items-center px-2 space-x-2",4,"ngIf"],[1,"mt-4","sm:p-4","sm:bg-base-100","sm:dark:bg-neutral-700","rounded","sm:m-2","sm:border","border-base-200","flex-grow-[3]","min-w-1/3","sm:w-[16rem]"],[1,"mx-3","border-t","border-base-200","sm:border-none","flex","items-center","justify-between"],[1,"text-lg","font-medium"],["matRipple","","show-attendees","",1,"clear","text-xs","underline",3,"click"],[1,"flex","items-center","p-1"],[1,"flex","flex-col","flex-1","items-center","justify-center","space-y-1"],[1,"text-lg"],[1,"text-sm","uppercase"],[1,"mx-3","mt-2","pt-2","text-lg","font-medium","border-t","border-base-200"],["host","",1,"px-2","flex","items-center","space-x-2"],[3,"user"],[1,"text-sm","flex-1","w-px"],[1,"opacity-60","truncate","w-full",3,"title"],["map","",1,"mt-4","sm:mt-2","h-64","sm:h-48","relative","border","border-base-200","overflow-hidden","rounded","sm:bg-base-100","sm:dark:bg-neutral-700","m-2","flex-grow-[3]","min-w-1/3","p-2","w-[calc(100%-1rem)]","sm:w-[16rem]",3,"click"],["class","mt-4 sm:p-4 sm:bg-base-100 sm:dark:bg-neutral-700 rounded sm:m-2 sm:border border-base-200 flex-grow-[3] min-w-1/3 sm:w-[16rem]",4,"ngIf"],["icon","","matRipple","","mat-dialog-close","",1,"absolute","top-2","left-2","bg-neutral","text-white"],["class","absolute inset-0 z-50",4,"ngIf"],["xPosition","before"],["mat-menu-item","","mat-dialog-close","",3,"matTooltip","disabled","click",4,"ngIf"],["mat-menu-item","",3,"click"],[1,"flex","items-center","space-x-2","text-base"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[1,"h-8","w-full","sm:hidden","block"],[1,"bg-neutral","w-full","h-64","sm:rounded-b","overflow-hidden"],[1,"w-full","h-64",3,"images"],["actions","",1,"flex","items-center","space-x-2","px-2"],["btn","","matRipple","","class","flex-1 h-10",3,"bg-success","border-none","pointer-events-none","click",4,"ngIf"],["icon","","matRipple","","class","bg-secondary rounded text-white h-10 w-10",3,"matMenuTriggerFor",4,"ngIf"],["btn","","matRipple","",1,"flex-1","h-10",3,"click"],[1,"flex","items-center","space-x-2","justify-center"],[1,"mr-4"],["icon","","matRipple","",1,"bg-secondary","rounded","text-white","h-10","w-10",3,"matMenuTriggerFor"],[1,"mx-3","my-2","text-lg","font-medium"],[1,"flex","flex-col","space-y-2"],["order","","class","border border-base-300 bg-base-100 rounded-xl overflow-hidden",4,"ngFor","ngForOf"],["order","",1,"border","border-base-300","bg-base-100","rounded-xl","overflow-hidden"],[1,"flex","items-center","space-x-2","p-3"],[1,"flex-1"],[1,"text-sm"],[1,"text-xs","opacity-60"],["icon","","matRipple","",3,"click","matTooltip"],[1,"flex","flex-col","bg-base-200","divide-y","divide-base-100"],["class","flex items-center px-3 py-1 space-x-2 hover:opacity-90",4,"ngFor","ngForOf"],[1,"flex","items-center","px-3","py-1","space-x-2","hover:opacity-90"],[1,"flex","items-center","flex-1"],["class","text-xs opacity-60 ml-4 font-normal",3,"matTooltip",4,"ngIf"],[1,"rounded","bg-success","text-success-content","text-xs","px-2","py-1"],[1,"rounded","bg-info","text-info-content","text-xs","px-2","py-1"],[1,"text-xs","opacity-60","ml-4","font-normal",3,"matTooltip"],[1,"pointer-events-none",3,"src","features","options"],[1,"mx-3","text-lg","font-medium","border-t","sm:border-none","border-base-200"],["notes","","class","mx-4 overflow-hidden max-w-full",3,"innerHTML",4,"ngIf"],["notes","",1,"mx-4","overflow-hidden","max-w-full",3,"innerHTML"],[1,"mx-3","pt-2","text-lg","font-medium"],["request","","class","border border-base-300 bg-base-100 rounded-xl overflow-hidden",4,"ngFor","ngForOf"],["request","",1,"border","border-base-300","bg-base-100","rounded-xl","overflow-hidden"],["matRipple","",1,"flex","items-center","space-x-2","p-3","w-full",3,"click"],[1,"flex-1","text-left"],[1,"flex","items-center","justify-center","rounded-full","w-8","h-8",3,"matTooltip"],[1,"flex","items-center","justify-center","rounded-full","w-8","h-8"],[1,"text-2xl"],[1,"absolute","inset-0","z-50"],[3,"click","list","host"],["mat-menu-item","","mat-dialog-close","",3,"click","matTooltip","disabled"]]},template:function(Me,ge){if(1&Me){const pe=n.RV6();n.j41(0,"div",16)(1,"div",17)(2,"i",18),n.mxI("modelChange",function(Ge){return n.eBV(pe),n.DH7(ge.room_status,Ge)||(ge.room_status=Ge),n.Njj(Ge)}),n.k0s(),n.DNE(3,I,1,0,"div",19)(4,_,2,1,"div",20),n.j41(5,"h3",21),n.EFF(6),n.k0s(),n.j41(7,"div",22)(8,"div",23)(9,"status-pill",24),n.EFF(10),n.k0s()(),n.DNE(11,A,3,2,"div",25),n.k0s()(),n.j41(12,"div",26)(13,"div",27)(14,"h3",28),n.pXf(15,1),n.k0s(),n.j41(16,"div",29)(17,"app-icon"),n.EFF(18,"event"),n.k0s(),n.j41(19,"div"),n.EFF(20),n.nI1(21,"date"),n.k0s()(),n.j41(22,"div",29)(23,"app-icon"),n.EFF(24,"schedule"),n.k0s(),n.j41(25,"div"),n.EFF(26),n.k0s()(),n.j41(27,"div",29)(28,"app-icon"),n.EFF(29,"map"),n.k0s(),n.j41(30,"div"),n.DNE(31,B,2,1,"ng-container",30),n.EFF(32),n.k0s()(),n.DNE(33,F,5,2,"div",31),n.k0s(),n.j41(34,"div",32)(35,"div",33)(36,"h3",34),n.pXf(37,2),n.k0s(),n.j41(38,"button",35),n.bIt("click",function(){return n.eBV(pe),n.Njj(ge.show_attendees=!0)}),n.pXf(39,3),n.k0s()(),n.j41(40,"div",36)(41,"div",37)(42,"div",38),n.EFF(43),n.k0s(),n.j41(44,"div",39),n.pXf(45,4),n.k0s()(),n.j41(46,"div",37)(47,"div",38),n.EFF(48),n.k0s(),n.j41(49,"div",39),n.pXf(50,5),n.k0s()(),n.j41(51,"div",37)(52,"div",38),n.EFF(53),n.k0s(),n.j41(54,"div",39),n.pXf(55,6),n.k0s()()(),n.j41(56,"h3",40),n.pXf(57,7),n.k0s(),n.j41(58,"div",41),n.nrm(59,"a-user-avatar",42),n.j41(60,"div",43)(61,"div"),n.EFF(62),n.k0s(),n.j41(63,"div",44),n.EFF(64),n.k0s()()()(),n.DNE(65,J,6,1,"ng-container",30),n.j41(66,"button",45),n.bIt("click",function(){return n.eBV(pe),n.Njj(ge.viewLocation())}),n.DNE(67,te,2,4,"ng-container",30),n.k0s(),n.DNE(68,K,4,1,"div",46)(69,W,6,2,"ng-container",30),n.j41(70,"button",47)(71,"app-icon"),n.EFF(72,"close"),n.k0s()(),n.DNE(73,ie,2,2,"div",48),n.k0s(),n.j41(74,"mat-menu",49,0),n.DNE(76,ce,6,2,"button",50),n.j41(77,"button",51),n.bIt("click",function(){return n.eBV(pe),n.Njj(ge.remove.emit())}),n.j41(78,"div",52)(79,"app-icon"),n.EFF(80,"delete"),n.k0s(),n.j41(81,"div"),n.pXf(82,8),n.k0s()()(),n.DNE(83,oe,6,0,"button",53)(84,me,6,2,"button",54),n.k0s()()}2&Me&&(n.R7$(2),n.R50("model",ge.room_status),n.Y8G("sys",null==ge.space?null:ge.space.id),n.R7$(),n.Y8G("ngIf",!(null!=ge.event&&null!=ge.event.system&&null!=ge.event.system.images&&ge.event.system.images.length)),n.R7$(),n.Y8G("ngIf",null==ge.event||null==ge.event.system||null==ge.event.system.images?null:ge.event.system.images.length),n.R7$(),n.AVh("pt-4",!(null!=ge.event&&null!=ge.event.system&&null!=ge.event.system.images&&ge.event.system.images.length)),n.R7$(),n.SpI(" ",ge.event.title," "),n.R7$(3),n.Y8G("status",ge.event_status),n.R7$(),n.SpI(" ",ge.period," "),n.R7$(),n.Y8G("ngIf","done"!==ge.event.state),n.R7$(9),n.JRh(n.i5U(21,30,ge.event.date,"EEEE, dd LLLL y")),n.R7$(6),n.JRh(ge.period),n.R7$(5),n.Y8G("ngIf",ge.level),n.R7$(),n.SpI(" ",(null==ge.event||null==ge.event.system?null:ge.event.system.display_name)||(null==ge.event||null==ge.event.system?null:ge.event.system.name)||(null==ge.event?null:ge.event.location)," "),n.R7$(),n.Y8G("ngIf",ge.building),n.R7$(10),n.JRh(ge.accept_count||0),n.R7$(5),n.JRh(ge.declined_count||0),n.R7$(5),n.JRh(ge.pending_count||0),n.R7$(6),n.Y8G("user",ge.event.organiser),n.R7$(3),n.JRh(null==ge.event.organiser?null:ge.event.organiser.name),n.R7$(),n.Y8G("title",ge.event.host),n.R7$(),n.SpI(" ",ge.event.host," "),n.R7$(),n.Y8G("ngIf",ge.has_catering),n.R7$(2),n.Y8G("ngIf",!ge.hide_map),n.R7$(),n.Y8G("ngIf",ge.body),n.R7$(),n.Y8G("ngIf",ge.has_assets),n.R7$(4),n.Y8G("ngIf",ge.show_attendees),n.R7$(3),n.Y8G("ngIf",!ge.hide_edit),n.R7$(7),n.Y8G("ngIf",ge.event.recurring_event_id),n.R7$(),n.Y8G("ngForOf",ge.custom_actions))},data:{animation:[O.Ft]}})}return we})()},6101:(gt,re,o)=>{"use strict";o.d(re,{W:()=>we});var e=o(467),n=o(2091),l=o(5157),h=o(9928),g=o(9714),p=o(696),f=o(4421),b=o(4670),d=o(6651),y=o(9090),R=o(5006),m=o(8712),v=o(1713),O=o(8728),S=o(3020),P=o(8841),M=o(3921),w=o(522),x=o(3176),I=o(3601),_=o(4415),C=o(9707),D=o(4233),A=o(8026),B=o(5645),F=o(6727),$=o(1416),U=o(1761),G=o(7141),J=o(4525),te=o(2671),ne=o(8363),K=o(1280),k=o(2011),j=o(5204),W=o(3693),ie=o(6088),ce=o(3747),oe=o(3953),me=o(4006);const he=["book/rooms","book/spaces","book/meeting","schedule/view","confirm/success","upcoming"];let we=(()=>{class We extends C.Tv{get options_value(){return this._options.getValue()}get is_multiday(){return this._event.getValue()?.duration>1440}get view(){return this._view.getValue()}get form(){return this._form}get event(){return this._event.getValue()}get favorite_spaces(){return this._settings.get("favourite_spaces")||[]}get has_calendar(){return!0!==this._settings.get("app.events.use_bookings")}constructor(Me,ge,pe,Ee,Ge,Qe){super(),this._org=Me,this._router=ge,this._payments=pe,this._settings=Ee,this._assets=Ge,this._dialog=Qe,this._view=new h.t("form"),this._options=new h.t({zone_ids:[],features:[]}),this._form=(0,U.Ss)(void 0,this._settings),this._date=new h.t(Date.now()),this._event=new h.t(null),this._loading=new h.t(""),this._changed=new h.t(0),this.last_success=new F.L(JSON.parse(sessionStorage.getItem("PLACEOS.last_booked_event")||"{}")),this.loading=this._loading.asObservable(),this.options=this._options.asObservable(),this.booking_rules=this._org.building_list.pipe((0,y.n)(tt=>Promise.all(tt.map(xt=>(0,l.bpY)(xt.id,"room_booking_rules").toPromise()))),(0,R.T)(tt=>{const xt={};for(const Pt of tt)xt[Pt.id]=Pt.details instanceof Array?Pt.details:[];return xt}),(0,m.t)(1)),this.spaces=(0,g.zV)([this._options.pipe((0,v.w)("zone_ids")),this._org.active_building.pipe((0,O.p)(tt=>!!tt),(0,v.w)("id"))]).pipe((0,S.B)(300),(0,P.M)(tt=>this.unsubWith("bind:")),(0,y.n)(([{zone_ids:tt}])=>{this._loading.next("Loading space list for location...");const xt=this._settings.get("app.use_region");return tt?.length||(tt=[(xt?this._org.building?.parent_id:this._org.building?.id)||this._org.building?.id]),(0,p.p)(tt.map(Pt=>(0,ne.Ot)(Pt).pipe((0,M.W)(()=>(0,f.of)([])))))}),(0,R.T)(tt=>(0,C.Bq)(tt)),(0,P.M)(tt=>this._loading.next("")),(0,m.t)(1)),this.features=this.spaces.pipe((0,R.T)(tt=>(0,C.Am)((0,C.Bq)(tt.map(xt=>xt.features))))),this.filtered_spaces=(0,g.zV)([this.spaces,this.options]).pipe((0,R.T)(([tt,{show_fav:xt,features:Pt,capacity:yt}])=>tt.filter(Le=>{const De=((0,C.Ny)()?.email||"@").split("@")[1],V=(this._settings.get("app.events.restrict_spaces")||{})[De],ue=this._settings.get("app.events.limit_spaces")||{},Q=Object.keys(ue),Te=Le.zones.find(Je=>Q.includes(Je));return Le.bookable&&(!V||Le.zones.includes(V))&&(!Te||ue[Te]===De)&&(!xt||this.favorite_spaces.includes(Le.id))&&Pt.every(Je=>Le.features.includes(Je))&&Le.capacity>=Math.max(0,yt||0)}).slice(0,Math.min(100,tt.length))),(0,m.t)(1)),this._space_bookings=(0,g.zV)([this.spaces,this.filtered_spaces]).pipe((0,w.F)(([tt],[xt])=>tt!==xt),(0,y.n)(([tt,xt])=>(0,g.zV)((xt||[]).map(Pt=>{const yt=(0,l.f_4)(Pt.id,"Bookings").binding("bookings"),Le=yt.listen().pipe((0,R.T)(De=>(De||[]).map(V=>new F.L(V))));return this.hasSubscription(`bind:${Pt.id}`)||this.subscription(`bind:${Pt.id}`,yt.bind()),Le}))),(0,m.t)(1)),this.current_available_spaces=(0,g.zV)([this.filtered_spaces,this._space_bookings,this.booking_rules,(0,b.h)(this.form.valueChanges,(0,d.O)(1e3)),this._changed]).pipe((0,S.B)(300),(0,R.T)(([tt,xt,Pt])=>{this._loading.next("Updating available spaces...");let{ical_uid:yt,date:Le,duration:De,all_day:V}=this._form.getRawValue();return((tt=(0,C.XE)(tt,{date:Le,duration:De,resource:null,host:(0,C.Ny)()},Pt[this._org.building?.id]||[]))||[]).filter((ue,Q)=>{const Te=V?(0,I.o)(Le).valueOf():Le,Je=Te+6e4*(V?Math.max(1440,De):De);let Nt=xt[Q]||[];return this.last_success?.system?.id===ue.id&&(Nt=[...Nt,this.last_success]),(0,K.U1)(Te,Je,Nt.filter(qt=>qt.ical_uid!==yt))}).sort((ue,Q)=>ue.capacity-Q.capacity)}),(0,P.M)(tt=>this._loading.next("")),(0,m.t)(1)),this.future_available_spaces=(0,g.zV)([this.filtered_spaces,this.booking_rules,this.form.valueChanges.pipe((0,S.B)(400),(0,x.Z)({}))]).pipe((0,O.p)(()=>!this._loading.getValue()),(0,S.B)(300),(0,y.n)(([tt,xt])=>{if(!tt.length)return(0,f.of)([]);this._loading.next("Retrieving available spaces...");let{date:Pt,duration:yt,all_day:Le}=this._form.getRawValue();return(this.has_calendar?$.UR:B.kX)((tt=(0,C.XE)(tt,{date:Pt,duration:yt,resource:null,host:(0,C.Ny)()},xt[this._org.building?.id]||[])).map(({id:V})=>V),Le?(0,I.o)(Pt).valueOf():Pt,Le?Math.max(1440,yt):yt,this?.event?.resources[0]?.id||this.event?.system?.id||this.event?.id||void 0,void 0,[this.event?.date,this.event?.duration]).pipe((0,R.T)(V=>{var ue=tt.filter((Q,Te)=>V[Te]);return(0,C.XE)(ue,{date:Pt,duration:yt,resource:null,host:(0,C.Ny)()},xt[this._org.building?.id]||[])}),(0,M.W)(V=>[]))}),(0,P.M)(tt=>this._loading.next("")),(0,m.t)(1)),this.available_spaces=this._date.pipe((0,y.n)(tt=>Math.abs((0,_.c)(tt,Date.now()))<(this._settings.get("app.events.cache_duration_in_days")||14)?this.current_available_spaces:this.future_available_spaces),(0,m.t)(1)),this.cancelPostForm=()=>this.unsub("post-event-form"),this._space_pipe=new k.J(this._org),this.subscription("router.events",this._router.events.subscribe(tt=>{tt instanceof n.wF&&!he.some(xt=>tt.url.includes(xt))&&this.clearForm()}));const $e={};this.subscription("form_change",this._form.valueChanges.subscribe(({date:tt,duration:xt})=>{(tt&&tt!==$e.date||xt&&xt!==$e.duration)&&(this._assets.setOptions({date:this.form.value.date,duration:this.form.value.duration}),$e.date=tt,$e.duration=xt),tt&&tt!==this._date.getValue()&&this._date.next(tt),this.storeForm()}))}listenForStatusChanges(){this.subscription("status:rooms",this.available_spaces.subscribe())}setView(Me){this.timeout("set_view",()=>this._view.next(Me),50)}setOptions(Me){this._options.next({...this._options.getValue(),...Me})}newForm(Me=new F.L({all_day:this._settings.get("app.events.all_day_default")})){var ge=this;return(0,e.A)(function*(){if(ge._event.next(Me),Me.recurring_event_id){const pe=yield(0,$.ue)(Me.recurring_event_id).toPromise().catch(Ee=>null);pe&&(ge._event.getValue().recurrence={...pe.recurrence,_pattern:pe.recurrence.pattern})}ge._assets.setOptions({ignore:(0,C.Bq)(Me.linked_bookings?.map(pe=>pe.asset_ids||[pe.asset_id])||[])});for(const pe in Me.resources){const Ee=Me.resources[pe];Me.resources[pe]=yield ge._space_pipe.transform(Ee.id||Ee.email)}ge._date.next(Me.date),ge.timeout("post-event-form",()=>{ge._form.patchValue({date:Me.date||ge._form.value.date})},1e3),ge.resetForm()})()}resetForm(){this._form.reset();const Me=this._event.getValue()||{extension_data:{}};this._assets.setOptions({ignore:(0,C.Bq)(Me.linked_bookings?.map(pe=>pe.asset_ids||[pe.asset_id])||[])});const ge=!!Me.extension_data.catering[0];this._form.patchValue({...Me.extension_data,...Me,duration:Me.duration>=720?30:Me.duration,organiser:Me?.organiser||(0,C.Ny)()||new W.KJ({email:Me?.host}),catering_charge_code:Me.extension_data.catering[0]?.charge_code||(Me.id&&ge?" ":""),assets:(Me.extension_data.assets||[]).map(pe=>new ce.Y({...pe,event:Me}))}),this._form.patchValue({date:Me.date||this._form.value.date,date_end:Me.date_end||this._form.value.date_end}),this._options.next({features:[]}),this.storeForm()}clearForm(){sessionStorage.removeItem("PLACEOS.event_form"),this.unsubWith("status:"),this.unsubWith("bind:"),this.newForm()}storeForm(){sessionStorage.setItem("PLACEOS.event_form",JSON.stringify(this._form.getRawValue()||{}))}loadForm(){if(!sessionStorage.getItem("PLACEOS.event_form"))return this.newForm();const Me=JSON.parse(sessionStorage.getItem("PLACEOS.event_form")||"{}");Me.id&&Me.id!==this._event.getValue()?.id&&(0,$.ue)(Me.id).subscribe(ge=>{this._event.next(ge),this._assets.setOptions({ignore:(0,C.Bq)(ge.linked_bookings?.map(pe=>pe.asset_ids||[pe.asset_id])||[])})}),this._form.patchValue({...Me})}openEventLinkModal(Me=!1){const ge=this._form;if(ge.markAllAsTouched(),!ge.valid&&!Me)return;const pe=new F.L({...ge.getRawValue(),assets:[]});this._dialog.open(te.t,{data:pe}).afterClosed().subscribe(Ge=>Ge?this._router.navigate(["/"]):"")}postForm(Me=!1,ge=[],pe=!1){var Ee=this;return new Promise(function(){var Ge=(0,e.A)(function*(Qe,$e){Ee._loading.next("Creating event...");const tt=Ee._form;tt.markAllAsTouched();const xt=Ee.event||new F.L;if(!tt.valid&&!Me)return Ee._loading.next(""),$e(`Some form fields are invalid. [${(0,C.F7)(tt).join(", ")}]`);const Pt=Ee.event?.ical_uid;let yt=Ee._form.getRawValue(),{id:Le,host:De,date:V,duration:ue,creator:Q,all_day:Te,assets:Je,recurrence:Nt}=yt,qt=tt.get("resources")?.value||[];ge.length&&(qt=qt.filter(be=>!ge.includes(be.email)&&!ge.includes(be.id)));let hn=tt.get("catering")?.value||[];Nt?._pattern&&"none"!==Nt?._pattern&&(Ee.form.patchValue({recurring:!0}),yt=Ee._form.getRawValue());let wt=!1,Zt=qt.some(be=>!xt.resources?.find(Fe=>Fe.id===be.id));(!Le||V!==xt.date||ue!==xt.duration)&&qt.length&&(wt=!0,yield Ee.checkSelectedSpacesAreAvailable(qt,Te?(0,I.o)(V).valueOf():V,Te?Math.max(1440,ue):ue,Pt||Le||"").catch(be=>{throw Ee._loading.next(""),$e(be),be})),qt=tt.get("resources")?.value||[];const ft=De===(0,C.Ny)()?.email||Q===(0,C.Ny)()?.email;if(!qt.length&&Ee._settings.get("app.events.no_space_resource")){const be=yield Ee._space_pipe.transform(Ee._settings.get("app.events.no_space_resource"));qt.push(be)}const lt=(0,C.Am)([...yt.attendees,yt.organiser||(0,C.Ny)()],"email");if(!qt.length&&lt.find(be=>be.is_external)){Ee._loading.next("");const be="External attendees require a space to be booked";throw $e(be),be}const Ft=qt[0]?.id,Ct=Le?{system_id:Ee.event?.resources[0]?.id||Ee.event?.system?.id||Ft}:{};if(ft&&!pe&&(Ct.calendar=De||Q),Ee._payments.payment_module&&qt.length){const be=yield Ee._payments.makePayment({type:"space",resource_name:qt[0].display_name||qt[0].name,date:V,duration:ue,all_day:Te});if(!be?.success)return Ee._loading.next("");yt.extension_data={invoice:be,invoice_id:be.invoice_id}}const Wt=yt.date;for(const be of hn)be.notes=yt.catering_notes,be.charge_code=yt.catering_charge_code;if(qt.length){let[be,Fe]=[0,0];for(const ae of qt){const ve=Ee._settings.get(`app.events.overflow.${ae.id}`);ve?.setup&&(be=ve.setup),ve?.breakdown&&(Fe=ve.breakdown)}yt.setup=yt.setup_time||be,yt.breakdown=yt.breakdown_time||Fe}const en=(Je||[]).map(be=>new ce.Y(be).toJSON()),on=yield Ee._makeBooking(new F.L({...yt,old_system:Ee.event?.system,host:Ee._settings.get("app.events.force_host")||(Ee._settings.get("app.events.room_as_host")?yt.resources[0].email:"")||yt.host,title:yt.title||"Space Booking",attendees:lt.map(be=>{const Fe={...be};return delete Fe.visit_expected,Fe}),date:Wt,catering:hn,assets:en,extension_data:Ee._settings.get("app.events.force_host")||Ee._settings.get("app.events.room_as_host")?{host_override:yt.host,department:yt.organiser?.department||(0,C.Ny)()?.department}:{department:yt.organiser?.department||(0,C.Ny)()?.department}}),Ct).catch(be=>{throw $e(be),Ee._loading.next(""),be}),_n=((0,C.Ny)()?.email||"@").split("@")[1],Sn=lt.filter(be=>be.is_external&&be.email!==xt.host&&!be.email.includes(_n)&&be.visit_expected);let Zn=!1;const ut=function(){var be=(0,e.A)(function*(Fe){if(Ee.form.value.id){if(Zn)return void(0,C.UG)(`Unable to update all asset requests for event.\n${Fe}`)}else yield(0,$.Nn)(on.id,qt.length?{calendar:Ee.form.value.host||(0,C.Ny)()?.email,system_id:qt[0].id}:{}).toPromise(),console.warn("Couldn't update asset requests",Fe),(0,C.UG)(409===Fe?.status?"Some assets are already booked for the selected time":"Unable to book the selected assets.");throw Ee._loading.next(""),Fe});return function(ae){return be.apply(this,arguments)}}();if(Sn.length&&(yield(0,B.Kq)(on,"visitor",Sn).catch(ut)),Je?.length||xt.extension_data.assets?.length){Zn=!0;const be=yield(0,j.en)(on,{date:V,duration:ue,host:De,all_day:Te,location_name:qt[0]?.display_name||qt[0]?.name||"",location_id:qt[0]?.id||"",zones:qt[0]?.level?.parent_id?(0,C.Am)([Ee._org.organisation.id,Ee._org.region?.id,qt[0]?.level?.parent_id,qt[0]?.level?.id]).filter(Fe=>!!Fe):[Ee._org.building?.id],reset_state:wt},Je,Zt||wt).catch(ut);if(!be)throw"Unable to validate asset requests";yield be(),Zn=!1}Ee.clearForm(),Ee.last_success=on,sessionStorage.setItem("PLACEOS.last_booked_event",JSON.stringify(on)),Ee.setView("success"),Ee.timeout("post_finshed",()=>Ee._changed.next(Date.now())),Qe(on),Ee._loading.next("")});return function(Qe,$e){return Ge.apply(this,arguments)}}())}_makeBooking(Me,ge){var pe=this;return(0,e.A)(function*(){return pe._updateVisitorList(Me.attendees),(pe.has_calendar?(0,$.Az)(Me,ge):(0,B.X0)((0,G.s8)({...Me.toJSON(),status:pe._settings.get("app.bookings.no_approval")?"approved":"tentative"})).pipe((0,R.T)(Ee=>(0,U.Uv)(Ee)))).toPromise()})()}checkSelectedSpacesAreAvailable(Me,ge,pe,Ee){var Ge=this;return(0,e.A)(function*(){if(!Me?.length)return!0;if(Ge.has_calendar){if(!(yield(0,$.UR)(Me.map(({id:$e})=>$e),ge,pe,Ge?.event?.resources[0]?.id||Ge.event?.system?.id||Ge.event?.id||void 0,void 0,[Ge.event?.date,Ge.event?.duration]).toPromise()).every($e=>$e))throw(Me.length>1?"The selected space":"Some of the selected spaces")+" is not available at the selected time"}else if(!(yield(0,B.kX)(Me.map($e=>$e.id),ge,pe,Ee).toPromise()).every($e=>$e))throw(Me.length>1?"The selected space":"Some of the selected spaces")+" are not available at the selected time";return!0})()}_updateVisitorList(Me){const ge=Me.filter(Ee=>Ee.is_external);if(!ge?.length)return;const pe=this._settings.get("visitor-invitees")||[];this._settings.saveUserSetting("visitor-invitees",(0,C.Am)([...pe.filter(Ee=>!Ee.includes(Ee.email)),...ge.map(Ee=>`${Ee.email}|${Ee.name}|${Ee.organisation}`)]))}static#e=this.\u0275fac=function(ge){return new(ge||We)(oe.KVO(A.y),oe.KVO(n.Ix),oe.KVO(J.h),oe.KVO(D.h),oe.KVO(ie.R),oe.KVO(me.bZ))};static#t=this.\u0275prov=oe.jDH({token:We,factory:We.\u0275fac,providedIn:"root"})}return We})()},2671:(gt,re,o)=>{"use strict";o.d(re,{t:()=>y});var e=o(4006),n=o(4571),h=(o(6727),o(9707)),g=o(3953),p=o(9434),f=o(6600),b=o(6781),d=o(4616);let y=(()=>{class R{constructor(v,O){this._event=v,this._dialog=O,this.outlook_link=(0,n.gP)(this._event),this.google_link=(0,n.dB)(this._event),this.ical_link=(0,n._V)(this._event),this.has_actioned=!1}close(){if(!this.has_actioned)return(0,h.UG)("You need to select a calendar option to finish creating this booking");this._dialog.close(!0)}static#e=this.\u0275fac=function(O){return new(O||R)(g.rXU(e.Vh),g.rXU(e.CP))};static#t=this.\u0275cmp=g.VBU({type:R,selectors:[["event-link-modal"]],decls:24,vars:13,consts:()=>{let v,O,S,P,M;return v=$localize`:␟29e3480e3d010232704522cde3ca29d23cc7725f␟5139383754155835256:Add event to your calendar`,O=$localize`:␟34c16b14ad0e33db574c8bea543e66e766aa3a01␟4015832758698516701:Create in Outlook`,S=$localize`:␟f745484670e6b6bbb8a1c327c222e665fb25b863␟3788591245559456526:Create in Google Calendar`,P=$localize`:␟1af54061e7f4bcfb1048ffaa05c9b8f7c4b41679␟4894641609416495396:Download iCal File`,M=$localize`:␟4dc1e9a4bbd21cf153990984cd4ecb4444117098␟6327967827692127661: Close `,[v,O,S,P,M,[1,"p-4","w-full","pb-2"],[1,"flex","flex-col","items-center","space-y-4","p-4","relative"],["btn","","matRipple","","target","_blank","rel","noopener noreferer",1,"flex","items-center","p-2","space-x-2","pr-4","w-64","rounded","inverse",3,"click","href"],["src","assets/icons/outlook.svg",1,"w-6"],["src","assets/icons/gcal.svg",1,"w-6"],[1,"text-xl"],["btn","","matRipple","",1,"w-64",3,"click"],["icon","","matRipple","",1,"absolute","top-2","right-0",3,"mat-dialog-close"]]},template:function(O,S){1&O&&(g.j41(0,"div",5),g.pXf(1,0),g.k0s(),g.j41(2,"div",6)(3,"a",7),g.nI1(4,"sanitize"),g.bIt("click",function(){return S.has_actioned=!0}),g.nrm(5,"img",8),g.j41(6,"span"),g.pXf(7,1),g.k0s()(),g.j41(8,"a",7),g.nI1(9,"sanitize"),g.bIt("click",function(){return S.has_actioned=!0}),g.nrm(10,"img",9),g.j41(11,"span"),g.pXf(12,2),g.k0s()(),g.j41(13,"a",7),g.nI1(14,"safe"),g.bIt("click",function(){return S.has_actioned=!0}),g.j41(15,"app-icon",10),g.EFF(16,"download"),g.k0s(),g.j41(17,"span"),g.pXf(18,3),g.k0s()(),g.j41(19,"button",11),g.bIt("click",function(){return S.close()}),g.pXf(20,4),g.k0s()(),g.j41(21,"button",12)(22,"app-icon"),g.EFF(23,"close"),g.k0s()()),2&O&&(g.R7$(3),g.Y8G("href",g.i5U(4,4,S.outlook_link,"url"),g.B4B),g.R7$(5),g.Y8G("href",g.i5U(9,7,S.google_link,"url"),g.B4B),g.R7$(5),g.Y8G("href",g.i5U(14,10,S.ical_link,"url"),g.B4B),g.R7$(8),g.Y8G("mat-dialog-close",S.has_actioned))},dependencies:[e.tx,p.R,f.r6,b.m,d.a],styles:["[_nghost-%COMP%]{position:relative}"]})}return R})()},6727:(gt,re,o)=>{"use strict";o.d(re,{L:()=>_,i:()=>x});var e=o(9707),n=o(5987),l=o(9548),h=o(7926),g=o(2037),p=o(3601),f=o(4512),b=o(5818),d=o(4361),y=o(9255),R=o(9015),m=o(9824),v=o(5555),O=o(735),S=o(3693),P=o(1280),M=o(3747);let w={id:"default",name:"Default User"};function x(C){C&&(w=C)}const I=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];class _{get images(){return this.extension_data.images||[]}get is_all_day(){return this.all_day||this.duration>=720}get view_access(){return this.extension_data.view_access||"PRIVATE"}ext(D){return this.extension_data[D]}constructor(D={}){this._valid_asset_cache=[],this._valid_cache_expiry=0,this.id=D.event_id||D.id||"",this.event_start=D.event_start||(0,n._)(D.date||(0,l.X)((0,h.z)(new Date,3),{nearestTo:5})),this.event_end=D.event_end||(0,n._)((0,h.z)(1e3*this.event_start,D.duration||30)),this.calendar=D.calendar||"",this.creator=(D.creator||w.email)?.toLowerCase()||"",this.host=(D.host||this.creator||D.host_email||w.email||"").toLowerCase();const A=D.attendees||[];this.attendees=A.filter(te=>!te.resource).map(te=>new S.KJ(te)),this.resources=(0,e.Am)(D.resources||A.filter(te=>te.resource).map(te=>new O.$(te)),"email")||[],this.title=D.title,this.body=D.body||"",this.private=!!D.private,this.all_day=!!D.all_day,this.date=1e3*this.event_start||this.date,this.date_end=1e3*this.event_end||this.date_end,this.duration=(0,g.o)(this.date_end,this.date),this.all_day&&(this.date=(0,p.o)(this.date).getTime(),this.duration=Math.max(1439,this.duration-1),this.date_end=(0,f.D)((0,h.z)(this.date,this.duration).valueOf()-1).getTime());const B=this.body.match(/\[ID\|([^\]]+)\]/),F=B?B[1]:null;this.timezone=D.timezone||Intl.DateTimeFormat().resolvedOptions().timeZone,this.meeting_url=D.meeting_url||D.online_meeting_url||"",this.meeting_id=F||D.meeting_id||D.online_meeting_id||"",this.meeting_provider=D.meeting_provider||D.online_meeting_provider||"",this.recurring=!!D.recurring,this.recurring_event_id=D.recurring_event_id||"",this.organiser=this.attendees.find(te=>te.email===this.host),this.from_bookings=D.from_bookings??!1,this.master=D.master?new _(D.master):null,this.mailbox=D.mailbox||"",this.ical_uid=D.ical_uid,this.linked_bookings=D.linked_bookings||[],this.update_master=D.update_master??!1,this.recurrence=D.recurring?{start:1e3*this.event_start||new Date(1e3*D.recurrence.range_start).valueOf(),end:D.recurrence.end||new Date(1e3*D.recurrence.range_end).valueOf(),interval:D.recurrence.interval,pattern:D.recurrence.pattern,occurrences:D.recurrence.occurrences,days_of_week:D.recurrence.days_of_week?.map(te=>"number"==typeof te?te:I.indexOf(te))||[]}:{};const $=D.system;$?.email&&!this.resources.find(te=>te.email===$.email)&&this.resources.push(new O.$($)),this.system=$||this.resources[0]||null,!$&&D.system_id&&(this.system={id:D.system_id}),this.old_system=D.old_system||D.system,this.is_system_event=this.body.includes("main_event_id"),this.attachments=D.attachments||[],this.extension_data=D.extension_data||{},this.status=(0,P.NU)({...D,...this})||"none",this.location=D.location||this.space?.display_name||this.space?.name||"",this.setup_time=D.setup_time||0,this.breakdown_time=D.breakdown_time||0,this.type="declined"===this.status?"cancelled":this.attendees.find(te=>te.is_external)?"external":"internal";for(const te in D)te in this||(this.extension_data[te]=D[te]||this.extension_data[te]);const U={date:this.date,duration:this.duration,date_end:this.date_end,all_day:this.all_day,space:this.space,organiser:this.organiser};this.extension_data.catering=(this.extension_data.catering||[]).map(te=>new v.M({...te,event:U}));const G=this.linked_bookings.filter(te=>"asset-request"===te.booking_type).map(te=>te.extension_data?.request).filter(te=>!!te),J=(G.length?G:this.extension_data.assets)||[];this.extension_data.images=this.extension_data.images||D.images||[],this.extension_data.assets=J.map(te=>new M.Y({...te,event:U}))}get guests(){return this.attendees.filter(D=>!!D.is_external)}get space(){return this.resources[0]||null}get is_today(){return(0,b.r)(this.date,Date.now())}get valid_catering(){return(this.ext("catering")||[]).filter(D=>D.deliver_at<this.date_end)}get valid_assets(){if(this._valid_cache_expiry>Date.now()&&this._valid_asset_cache.length)return this._valid_asset_cache;const D=this.linked_bookings;return this._valid_asset_cache=(this.ext("assets")||[]).map(A=>new M.Y({...A,event:this})).filter(A=>A.deliver_at<this.date_end).map(A=>{const B=D.find(F=>F.extension_data.request_id===A.id);return B&&(A.state=B.approved?"approved":B.rejected?"rejected":"pending"),A}),this._valid_cache_expiry=(0,h.z)(Date.now(),5).valueOf(),this._valid_asset_cache}toJSON(){const D={...this},A=this.all_day?(0,p.o)(this.date):this.date,B=this.all_day?(0,f.D)(this.date_end).valueOf()+1:this.date_end;D.event_start=(0,n._)(A),D.event_end=(0,n._)(B);const F=this.attendees;this.recurring=this.recurrence?.pattern&&"none"!==this.recurrence._pattern,this.recurring&&(D.recurrence=(0,P.Ov)({...this.recurrence,start:this.date}),delete D.recurrence.start,delete D.recurrence.end),D.recurrence=D.recurrence&&Object.keys(D.recurrence).length?D.recurrence:null,D.attendees=(0,e.Am)([...F,...this.resources.map($=>({...$,resource:!0}))],"email"),this.all_day&&(D.setup_time=0,D.breakdown_time=0,D.extension_data.all_day_date=(0,d.GP)(A,"yyyy-MM-dd")),D.extension_data.catering=D.extension_data.catering.map($=>new v.M({...$,event:null})),D.extension_data.assets=D.extension_data.assets.map($=>new M.Y({...$,event:null})),D.system_id=this.system?.id;for(const $ of["catering","date","date_end","duration","status","linked_bookings","_valid_asset_cache","_valid_cache_expiry","type"])$ in D&&delete D[$];return D.update_master||delete D.recurring_event_id,(0,e.Xm)(D),D}get state(){const D=new Date,A=this.date;return(0,y.Y)(D,(0,R.W)(A,{minutes:-15}))?"future":(0,y.Y)(D,A)?"upcoming":(0,y.Y)(D,(0,R.W)(A,{minutes:15}))?"started":(0,y.Y)(D,(0,R.W)(A,{minutes:this.duration}))?"in_progress":"done"}get can_check_in(){const D=new Date;return this.is_today||(0,m.d)(D,(0,h.z)(this.date,-5))&&(0,y.Y)(D,(0,h.z)(this.date,this.duration))}}},1416:(gt,re,o)=>{"use strict";o.d(re,{A5:()=>$,Az:()=>w,Fk:()=>F,Nn:()=>x,OA:()=>A,S:()=>B,UR:()=>J,UU:()=>v,ue:()=>S,zZ:()=>U});var e=o(5157),n=o(4421),l=o(9714),h=o(5006),g=o(3921),p=o(8385),f=o(3693),b=o(6727),d=o(7926),y=o(5987),R=o(6576);const m="/api/staff/v1/events";function v(te){const ne=(0,p.z)(te);return(0,e.JtY)(`${m}${ne?"?"+ne:""}`).pipe((0,h.T)(K=>K.map(k=>new b.L(k))),(0,g.W)(K=>(0,n.of)([])))}function S(te,ne={}){const K=(0,p.z)(ne);return(0,e.JtY)(`${m}/${encodeURIComponent(te)}${K?"?"+K:""}`).pipe((0,h.T)(k=>new b.L(k)))}const w=(te,ne)=>{const K=te.update_master&&te.recurring_event_id||te.id;return delete te?.status,K?function M(te,ne,K={},k="patch"){const j=(0,p.z)(K);return("patch"===k?e.F6F:e.yJg)(`${m}/${encodeURIComponent(te)}${j?"?"+j:""}`,new b.L(ne).toJSON()).pipe((0,h.T)(W=>new b.L(W)))}(K,{...te,id:K},ne):function P(te){return(0,e.bEY)(`${m}`,new b.L(te).toJSON()).pipe((0,h.T)(ne=>new b.L(ne)))}(te)};function x(te,ne={}){const K=(0,p.z)(ne);return(0,e.yHY)(`${m}/${encodeURIComponent(te)}${K?"?"+K:""}`,{response_type:"void"})}function A(te,ne,K,k={}){const j=(0,p.z)({...k,state:K});return(0,e.bEY)(`${m}/${encodeURIComponent(te)}/guests/${ne}/checkin${j?"?"+j:""}`,"").pipe((0,h.T)(W=>new f.So(W)))}function B(te,ne,K={}){const k=(0,p.z)(K);return(0,e.bEY)(`${m}/${encodeURIComponent(te)}/attendee${k?"?"+k:""}`,ne).pipe((0,h.T)(j=>new f.So(j)))}function F(te,ne,K={}){const k=(0,p.z)(K);return(0,e.yHY)(`${m}/${encodeURIComponent(te)}/attendee/${encodeURIComponent(ne.email)}${k?"?"+k:""}`).pipe((0,h.T)(j=>new f.So(j)))}function $(te,ne,K={}){const k=(0,p.z)({...K});return(0,e.JtY)(`${m}/${encodeURIComponent(te)}/metadata/${encodeURIComponent(ne)}${k?"?"+k:""}`).pipe((0,h.T)(j=>j))}function U(te,ne,K,k={}){const j=(0,p.z)({...k});return(0,e.F6F)(`${m}/${encodeURIComponent(te)}/metadata/${encodeURIComponent(ne)}${j?"?"+j:""}`,K).pipe((0,h.T)(W=>W))}function J(te,ne,K,k,j,W=[0,0]){const ie=(0,d.z)(ne,K).valueOf();return(0,l.zV)([(0,R.Sh)({system_ids:te.join(),period_start:(0,y._)(ne),period_end:(0,y._)(ie)}).pipe((0,g.W)(ce=>(0,n.of)([]))),k&&te.includes(k)?(0,R.Yj)({period_start:(0,y._)(ne),period_end:(0,y._)(ie),system_ids:k}):(0,n.of)([])]).pipe((0,h.T)(([ce,oe])=>{const me=te.map(he=>!!ce.find(Oe=>Oe.id===he||Oe.resource?.id===he));return oe.length&&oe[0].id===k&&te.includes(k)&&oe[0].inUseAt(W[0]||ne,W[1]||K)&&(me[te.indexOf(k)]=!0),me}))}},7758:(gt,re,o)=>{"use strict";o.d(re,{j:()=>we});var e=o(467),n=o(177),l=o(9417),h=o(8834),g=o(6600),p=o(5084),f=o(4006),b=o(3719),d=o(9631),y=o(9183),R=o(5951),m=o(8705),v=o(846),O=o(827),S=o(3953);function P(We,Xe){if(1&We){const Me=S.RV6();S.j41(0,"button",8),S.bIt("click",function(){S.eBV(Me);const pe=S.XpG();return S.Njj(pe.close.emit())}),S.j41(1,"app-icon"),S.EFF(2,"arrow_back"),S.k0s()()}}function M(We,Xe){1&We&&S.nrm(0,"div",9)}function w(We,Xe){1&We&&(S.j41(0,"div",18),S.EFF(1," Host "),S.k0s())}function x(We,Xe){if(1&We&&(S.j41(0,"div",11),S.nrm(1,"a-user-avatar",12),S.j41(2,"div",13)(3,"div",14),S.EFF(4),S.k0s(),S.DNE(5,w,2,0,"div",15),S.k0s(),S.j41(6,"div",16),S.nrm(7,"div",17),S.k0s()()),2&We){const Me=S.XpG().$implicit,ge=S.XpG();S.R7$(),S.Y8G("user",Me),S.R7$(3),S.JRh(Me.name),S.R7$(),S.Y8G("ngIf",ge.host===Me.email),S.R7$(2),S.AVh("bg-success",Me.checked_in)("bg-pending",!Me.checked_in),S.Y8G("matTooltip",Me.checked_in?"Checked in":"Not checked in")}}function I(We,Xe){if(1&We&&(S.qex(0),S.DNE(1,x,8,8,"div",10),S.bVm()),2&We){const Me=Xe.$implicit,ge=S.XpG();S.R7$(),S.Y8G("ngIf",!Me.resource&&(ge.host!==Me.email||ge.show_host))}}let _=(()=>{class We{constructor(){this.host="",this.show_host=!0,this.list=[],this.hide_close=!1,this.custom_title="",this.close=new S.bkB}static#e=this.\u0275fac=function(ge){return new(ge||We)};static#t=this.\u0275cmp=S.VBU({type:We,selectors:[["attendee-list"]],inputs:{host:"host",show_host:"show_host",list:"list",hide_close:"hide_close",custom_title:"custom_title"},outputs:{close:"close"},decls:8,vars:5,consts:()=>{let Me;return Me=$localize`:␟c68a77fe1aa97a8e5588bafc6b5cb8ced3e3d288␟5922903057904788374: ${"\ufffd0\ufffd"}:INTERPOLATION: ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,[Me,[1,"w-full","h-full","overflow-hidden","flex","flex-col","bg-base-100"],[1,"flex","items-center","border-b","border-base-200","p-2","min-h-12"],["close","","icon","","matRipple","",3,"click",4,"ngIf"],[1,"flex-1","text-center","font-medium"],["class","w-12",4,"ngIf"],[1,"flex-1","w-full","overflow-auto"],[4,"ngFor","ngForOf"],["close","","icon","","matRipple","",3,"click"],[1,"w-12"],["attendee","","class","flex items-center p-2 space-x-2 hover:bg-base-200",4,"ngIf"],["attendee","",1,"flex","items-center","p-2","space-x-2","hover:bg-base-200"],[3,"user"],[1,"flex-1","w-1/2"],[1,"truncate"],["class","opacity-60 text-sm",4,"ngIf"],[1,"p-2"],[1,"h-3","w-3","rounded-full",3,"matTooltip"],[1,"opacity-60","text-sm"]]},template:function(ge,pe){1&ge&&(S.j41(0,"div",1)(1,"div",2),S.DNE(2,P,3,0,"button",3),S.j41(3,"div",4),S.pXf(4,0),S.k0s(),S.DNE(5,M,1,0,"div",5),S.k0s(),S.j41(6,"div",6),S.DNE(7,I,2,1,"ng-container",7),S.k0s()()),2&ge&&(S.R7$(2),S.Y8G("ngIf",!pe.hide_close),S.R7$(2),S.uP7(pe.list.length)(pe.custom_title?pe.custom_title:1===pe.list.length?"Attendee":"Attendees"),S.nnv(4),S.R7$(),S.Y8G("ngIf",!pe.hide_close),S.R7$(2),S.Y8G("ngForOf",pe.list))}})}return We})();var C=o(1765),D=o(4035),F=(o(2671),o(711),o(7535)),$=o(5713),U=o(6727),G=o(6202),J=o(4046),te=o(9434),ne=o(1193),K=o(4918),k=o(5277),j=o(907),W=o(3938),ie=o(9115),ce=o(4823),oe=o(4616),me=o(3208),he=o(2011);let we=(()=>{class We{ngOnInit(){return(0,e.A)(function*(){yield G.U.pipe((0,J.$)(Me=>!!Me)).toPromise(),(0,U.i)((0,G.N)())})()}static#e=this.\u0275fac=function(ge){return new(ge||We)};static#t=this.\u0275mod=S.$C({type:We});static#n=this.\u0275inj=S.G2t({providers:[l.X1],imports:[n.MD,l.YN,l.X1,R.Wk,d.fS,b.RG,p.X6,h.Hl,f.hM,y.D6,m.c,v.h,g.pZ,O.l]})}return We})();S.wjB(D.b,[n.Sq,n.bT,f.tx,te.R,ne.a,K.S,k.H,j.F,W.J,ie.kk,ie.fb,ie.Cp,g.r6,ce.oV,_],[n.oe,n.vh,oe.a]),S.wjB(_,[n.Sq,n.bT,te.R,ne.a,g.r6,ce.oV],[]),S.wjB(C.w,[n.Sq,n.bT,te.R,ne.a,j.F],[n.P9,n.vh]),S.wjB($.E,[n.bT,f.tx,te.R,K.S,me.U,ie.kk,ie.fb,ie.Cp,g.r6,_],[n.Jj,n.vh,oe.a,he.J]),S.wjB(F.T,[n.bT,te.R,me.U,g.r6],[n.vh])},7535:(gt,re,o)=>{"use strict";o.d(re,{T:()=>_});var e=o(467),n=o(9707),l=o(5713),h=o(2011),g=o(8026),f=(o(6727),o(3953)),b=o(4006);function d(C,D){if(1&C&&f.nrm(0,"img",15),2&C){const A=f.XpG(2);f.Y8G("source",A.event.images[0])}}function y(C,D){1&C&&(f.j41(0,"p",16),f.EFF(1," No description "),f.k0s())}function R(C,D){if(1&C&&(f.j41(0,"div"),f.EFF(1),f.k0s()),2&C){const A=f.XpG(2);f.R7$(),f.SpI(" ",A.space.display_name||A.space.name||""," ")}}function m(C,D){1&C&&(f.j41(0,"div",16),f.EFF(1," Room to be confirmed "),f.k0s())}function v(C,D){1&C&&(f.j41(0,"div",16),f.EFF(1," Remote event "),f.k0s())}function O(C,D){if(1&C){const A=f.RV6();f.j41(0,"button",2),f.bIt("click",function(){f.eBV(A);const F=f.XpG();return f.Njj(F.viewDetails())}),f.j41(1,"div",3),f.DNE(2,d,1,1,"img",4),f.k0s(),f.j41(3,"div",5)(4,"div",6),f.EFF(5),f.nI1(6,"date"),f.nI1(7,"date"),f.k0s(),f.j41(8,"h2",7),f.EFF(9),f.k0s(),f.j41(10,"div",8)(11,"p",9),f.EFF(12),f.k0s(),f.DNE(13,y,2,0,"p",10),f.k0s(),f.j41(14,"div",11)(15,"app-icon",12),f.EFF(16,"place"),f.k0s(),f.DNE(17,R,2,1,"div",13)(18,m,2,0,"div",10)(19,v,2,0,"div",10),f.k0s(),f.j41(20,"div",11)(21,"app-icon",12),f.EFF(22,"people"),f.k0s(),f.j41(23,"div",14),f.EFF(24),f.k0s()()()()}if(2&C){const A=f.XpG();f.R7$(2),f.Y8G("ngIf",null==A.event.images?null:A.event.images.length),f.R7$(3),f.Lme(" ",f.i5U(6,11,A.event.date,"EEE d MMM"),", ",f.i5U(7,14,A.event.date,A.time_format)," "),f.R7$(3),f.Y8G("title",A.event.title),f.R7$(),f.SpI(" ",A.event.title," "),f.R7$(3),f.JRh(A.raw_description),f.R7$(),f.Y8G("ngIf",!A.raw_description.trim()),f.R7$(4),f.Y8G("ngIf",A.is_onsite&&A.has_space),f.R7$(),f.Y8G("ngIf",A.is_onsite&&!A.has_space),f.R7$(),f.Y8G("ngIf",!A.is_onsite),f.R7$(5),f.SpI(" ",(null==A.event.attendees?null:A.event.attendees.length)||"0"," attending ")}}function S(C,D){if(1&C&&f.nrm(0,"img",15),2&C){const A=f.XpG(2);f.Y8G("source",A.event.images[0])}}function P(C,D){1&C&&(f.j41(0,"p",16),f.EFF(1," No description "),f.k0s())}function M(C,D){if(1&C&&(f.j41(0,"div"),f.EFF(1),f.k0s()),2&C){const A=f.XpG(2);f.R7$(),f.SpI(" ",A.space.display_name||A.space.name||""," ")}}function w(C,D){1&C&&(f.j41(0,"div",16),f.EFF(1," Room to be confirmed "),f.k0s())}function x(C,D){1&C&&(f.j41(0,"div",16),f.EFF(1," Remote event "),f.k0s())}function I(C,D){if(1&C){const A=f.RV6();f.j41(0,"button",17),f.bIt("click",function(){f.eBV(A);const F=f.XpG();return f.Njj(F.viewDetails())}),f.j41(1,"div",18),f.DNE(2,S,1,1,"img",4),f.k0s(),f.j41(3,"div",19)(4,"app-icon",20),f.EFF(5,"star"),f.k0s(),f.j41(6,"div",21),f.EFF(7,"Featured"),f.k0s()(),f.j41(8,"div",22)(9,"div",23)(10,"div",24),f.EFF(11),f.nI1(12,"date"),f.k0s(),f.j41(13,"div",25),f.EFF(14),f.nI1(15,"date"),f.k0s()(),f.j41(16,"div",26)(17,"h3",27),f.EFF(18),f.k0s(),f.j41(19,"div",28),f.EFF(20),f.nI1(21,"date"),f.nI1(22,"date"),f.nI1(23,"date"),f.k0s(),f.j41(24,"div",29)(25,"p",30),f.EFF(26),f.k0s(),f.DNE(27,P,2,0,"p",10),f.k0s(),f.j41(28,"div",11)(29,"app-icon",12),f.EFF(30,"place"),f.k0s(),f.DNE(31,M,2,1,"div",13)(32,w,2,0,"div",10)(33,x,2,0,"div",10),f.k0s(),f.j41(34,"div",11)(35,"app-icon",12),f.EFF(36,"people"),f.k0s(),f.j41(37,"div",14),f.EFF(38),f.k0s()()()(),f.j41(39,"div",31),f.EFF(40," View Details "),f.k0s()()}if(2&C){const A=f.XpG();f.R7$(2),f.Y8G("ngIf",null==A.event.images?null:A.event.images.length),f.R7$(9),f.SpI(" ",f.i5U(12,13,A.event.date,"MMM")," "),f.R7$(3),f.JRh(f.i5U(15,16,A.event.date,"d")),f.R7$(4),f.JRh(A.event.title),f.R7$(2),f.E5c(" ",f.i5U(21,19,A.event.date,"EEEE")," ",f.i5U(22,22,A.event.date,A.time_format)," - ",f.i5U(23,25,A.event.date+60*A.event.duration*1e3,A.time_format)," "),f.R7$(6),f.JRh(A.raw_description),f.R7$(),f.Y8G("ngIf",!A.raw_description.trim()),f.R7$(4),f.Y8G("ngIf",A.is_onsite&&A.has_space),f.R7$(),f.Y8G("ngIf",A.is_onsite&&!A.has_space),f.R7$(),f.Y8G("ngIf",!A.is_onsite),f.R7$(5),f.SpI(" ",(null==A.event.attendees?null:A.event.attendees.length)||"0"," attending ")}}let _=(()=>{class C{get time_format(){return this._settings.time_format}get is_onsite(){return"ONLINE"!==this.event?.extension_data.attendance_type}get has_space(){return!!this.space?.id}get is_online(){return!this.is_onsite||"ANY"===this.event?.extension_data.attendance_type}get group_event_calendar(){return this._settings.get("app.group_events_calendar")}constructor(A,B,F){this._settings=A,this._dialog=B,this._org=F,this.raw_description=""}ngOnInit(){var A=this;return(0,e.A)(function*(){const B=new h.J(A._org),F=A.event.resources.find($=>$.email!==A.group_event_calendar);A.space=yield B.transform(F?.id||F?.email),A.raw_description=A.removeHtmlTags(A.event.body)})()}removeHtmlTags(A){return(new DOMParser).parseFromString(A,"text/html").body.textContent||""}viewDetails(){this._dialog.open(l.E,{data:{event:this.event,concierge:!1}})}static#e=this.\u0275fac=function(B){return new(B||C)(f.rXU(n.h$),f.rXU(b.bZ),f.rXU(g.y))};static#t=this.\u0275cmp=f.VBU({type:C,selectors:[["group-event-card"]],inputs:{event:"event",featured:"featured"},decls:3,vars:2,consts:[["featured_card",""],["matRipple","","class","border border-base-300 hover:border-info flex flex-col bg-base-100 rounded-xl shadow hover:shadow-2xl overflow-hidden w-60 h-[20rem]",3,"click",4,"ngIf","ngIfElse"],["matRipple","",1,"border","border-base-300","hover:border-info","flex","flex-col","bg-base-100","rounded-xl","shadow","hover:shadow-2xl","overflow-hidden","w-60","h-[20rem]",3,"click"],[1,"relative","flex","items-center","justify-between","h-28","min-h-28","w-full","bg-base-200","overflow-hidden","border-b","border-base-200"],["auth","","class","absolute top-0 left-0 h-full w-full object-center object-cover",3,"source",4,"ngIf"],[1,"p-4","flex-1","h-1/2","w-full"],[1,"opacity-60","text-sm","text-left"],[1,"text-xl","mb-2","text-left","truncate","w-full",3,"title"],[1,"opacity-60","text-xs","flex-1","overflow-hidden","h-[4.5rem]","mb-2","text-left"],[1,"line-clamp-4"],["class","opacity-30",4,"ngIf"],[1,"flex","items-center","space-x-2","text-sm"],[1,"text-info"],[4,"ngIf"],[1,""],["auth","",1,"absolute","top-0","left-0","h-full","w-full","object-center","object-cover",3,"source"],[1,"opacity-30"],["matRipple","",1,"border","border-base-300","hover:border-info","flex","bg-base-100","rounded-xl","shadow","hover:shadow-2xl","overflow-hidden","w-[63rem]","max-w-full","h-56","mx-auto",3,"click"],[1,"relative","flex","items-center","justify-between","h-full","min-w-56","w-1/2","max-w-[20rem]","bg-base-200","overflow-hidden","border-r","border-base-200"],[1,"absolute","top-0","left-0","rounded-br-xl","py-2","pl-2","pr-4","space-x-2","bg-info","text-info-content","flex","items-center","text-sm"],[1,"text-base"],[1,"uppercase"],["details","",1,"flex","px-8","py-4","space-x-4"],[1,"flex","flex-col","items-center"],[1,"text-sm","opacity-30"],[1,"text-lg"],[1,"flex","flex-col","space-y-2"],[1,"text-left"],["time","",1,"text-sm","opacity-30","text-left"],[1,"h-20","overflow-hidden","text-left"],[1,"line-clamp-3"],[1,"absolute","top-4","right-4","bg-secondary","text-secondary-content","rounded","px-4","py-2","w-32","text-center","truncate"]],template:function(B,F){if(1&B&&f.DNE(0,O,25,17,"button",1)(1,I,41,28,"ng-template",null,0,f.C5r),2&B){const $=f.sdS(2);f.Y8G("ngIf",!F.featured)("ngIfElse",$)}},styles:["button[_ngcontent-%COMP%]{transition:box-shadow .3s,border .2s}"]})}return C})()},5713:(gt,re,o)=>{"use strict";o.d(re,{E:()=>A});var e=o(467),n=o(3953),l=o(4006),h=o(9707),g=o(4351),p=o(2185),f=o(2011),b=o(1416);function d(B,F){if(1&B&&n.nrm(0,"img",36),2&B){const $=n.XpG();n.Y8G("source",null==$.event.extension_data?null:$.event.extension_data.images[0])}}function y(B,F){1&B&&(n.j41(0,"div",37)(1,"app-icon",38),n.EFF(2,"star"),n.k0s(),n.j41(3,"div",39),n.EFF(4,"Featured"),n.k0s()())}function R(B,F){if(1&B&&(n.qex(0),n.j41(1,"div",40)(2,"app-icon"),n.EFF(3,"star"),n.k0s(),n.j41(4,"div",41),n.EFF(5),n.k0s()(),n.j41(6,"div",40)(7,"app-icon"),n.EFF(8,"help"),n.k0s(),n.j41(9,"div",41),n.EFF(10),n.k0s()(),n.bVm()),2&B){const $=n.XpG();n.R7$(),n.AVh("bg-base-200",!$.is_interested)("text-base-content",!$.is_interested)("opacity-30",!$.is_interested)("bg-success",$.is_interested)("text-success-content",$.is_interested)("opacity-100",$.is_interested),n.R7$(4),n.SpI(" ",$.is_interested?"":"Not ","Interested "),n.R7$(),n.AVh("bg-base-200",!$.is_going)("text-base-content",!$.is_going)("opacity-30",!$.is_going)("bg-success",$.is_going)("text-success-content",$.is_going)("opacity-100",$.is_going),n.R7$(4),n.SpI(" ",$.is_going?"":"Not ","Going ")}}function m(B,F){if(1&B&&(n.j41(0,"div"),n.EFF(1),n.nI1(2,"space"),n.nI1(3,"async"),n.k0s()),2&B){let $;const U=n.XpG();n.R7$(),n.SpI(" ",null==($=n.bMT(3,3,n.bMT(2,1,U.system_id)))?null:$.display_name," ")}}function v(B,F){1&B&&(n.j41(0,"div",42),n.EFF(1," Room to be confirmed "),n.k0s())}function O(B,F){if(1&B&&(n.j41(0,"div",42),n.EFF(1),n.k0s()),2&B){const $=n.XpG();n.R7$(),n.SpI(" ",$.is_onsite?"Can be attended online":"Remote Event"," ")}}function S(B,F){1&B&&(n.j41(0,"span",42),n.EFF(1," No description "),n.k0s())}function P(B,F){if(1&B&&n.nrm(0,"interactive-map",50),2&B){const $=n.XpG(2);n.Y8G("src",null==$.level?null:$.level.map_id)("features",$.features)("styles",$.styles)}}function M(B,F){if(1&B&&(n.j41(0,"div"),n.EFF(1),n.nI1(2,"space"),n.nI1(3,"async"),n.k0s()),2&B){let $;const U=n.XpG(2);n.R7$(),n.SpI(" ",null==($=n.bMT(3,3,n.bMT(2,1,U.system_id)))?null:$.display_name," ")}}function w(B,F){1&B&&(n.j41(0,"div",42),n.EFF(1," Room to be confirmed "),n.k0s())}function x(B,F){if(1&B&&(n.j41(0,"span"),n.EFF(1),n.k0s()),2&B){const $=n.XpG(2);n.R7$(),n.Lme(" ",$.building.display_name||$.building.name,", ",(null==$.level?null:$.level.display_name)||(null==$.level?null:$.level.name)," ")}}function I(B,F){1&B&&(n.j41(0,"span",42),n.EFF(1," No location set for this event "),n.k0s())}function _(B,F){if(1&B&&(n.j41(0,"a",51),n.EFF(1),n.k0s()),2&B){const $=n.XpG(2);n.AVh("underline",$.event.meeting_url),n.Y8G("href",$.event.meeting_url,n.B4B),n.R7$(),n.SpI(" ",$.is_onsite?"Can be attended online":"Remote Event"," ")}}function C(B,F){if(1&B){const $=n.RV6();n.j41(0,"div",43)(1,"div",44)(2,"button",45),n.bIt("click",function(){n.eBV($);const G=n.XpG();return n.Njj(G.viewLocation())}),n.DNE(3,P,1,3,"interactive-map",46),n.k0s(),n.j41(4,"div",47),n.DNE(5,M,4,5,"div",12)(6,w,2,0,"div",30),n.j41(7,"div",48),n.DNE(8,x,2,2,"span",12)(9,I,2,0,"span",30),n.k0s(),n.DNE(10,_,2,4,"a",49),n.k0s()()()}if(2&B){const $=n.XpG();n.R7$(3),n.Y8G("ngIf",!$.showing_map),n.R7$(2),n.Y8G("ngIf",$.is_onsite&&$.has_space),n.R7$(),n.Y8G("ngIf",$.is_onsite&&!$.has_space),n.R7$(2),n.Y8G("ngIf",$.building&&$.level),n.R7$(),n.Y8G("ngIf",!$.building||!$.level),n.R7$(),n.Y8G("ngIf",$.is_online)}}function D(B,F){if(1&B){const $=n.RV6();n.j41(0,"div",52)(1,"button",53),n.bIt("click",function(){n.eBV($);const G=n.XpG();return n.Njj(G.show_attendees=!1)}),n.k0s(),n.j41(2,"div",54)(3,"attendee-list",55),n.bIt("click",function(){n.eBV($);const G=n.XpG();return n.Njj(G.show_attendees=!1)}),n.k0s()()()}if(2&B){const $=n.XpG();n.R7$(3),n.Y8G("show_host",!1)("list",$.event.attendees)("host",$.event.user_email)}}let A=(()=>{class B{get time_format(){return this._settings.time_format}get featured(){return this.event.featured||this.event.extension_data?.featured}get is_onsite(){return"ONLINE"!==this.event.extension_data.attendance_type}get has_space(){return!!this.space?.id}get is_online(){return!this.is_onsite||"ANY"===this.event.extension_data.attendance_type}get body(){if(this.is_online)return this.event.body;let $=this.event.body;const U=['<div style="margin-bottom:24px; overflow:hidden; white-space:nowrap">________________________________________________________________________________</div>',"<p>________________________________________________________________________________</p>"];for(const G of U){const J=$.indexOf(G),te=$.lastIndexOf(G);$=$.substring(0,J)+$.substring(te)}for(const G of U)$=$.replace(G,"");return $}get attendance(){return this.event.attendees?.filter($=>$.checked_in)?.length||0}get is_interested(){return!!this.guest_details}get is_going(){return this.guest_details?.checked_in}get system_id(){return this.space?.id}get guest_details(){const $=(0,h.Ny)();return this.event.attendees?.find(U=>U.email===$.email)}get group_event_calendar(){return this._settings.get("app.group_events_calendar")}constructor($,U,G,J,te){this._data=$,this._org=U,this._settings=G,this._dialog=J,this._dialog_ref=te,this.edit=new n.bkB,this.remove=new n.bkB,this.event=this._data.event,this.concierge=this._data.concierge,this.features=[],this.locate="",this.showing_map=!1,this.show_attendees=!1,this.styles={},this.raw_description=""}ngOnInit(){var $=this;return(0,e.A)(function*(){const U=new f.J($._org),G=$.event.resources.find(K=>K.email!==$.group_event_calendar);$.space=yield U.transform(G?.id||G?.email);const J=$.event.extension_data?.map_id,te=$.space?.map_id||J;te&&($.styles[`#${te}`]={fill:"green"},$.features=[{location:te,content:g.VT,data:{}}]);const ne=$.space?.zones||[];$.level=$._org.levelWithID(ne),$.building=$._org.buildings.find(K=>ne.includes(K.id))||$._org.building,$.locate=J||"",$.raw_description=$.removeHtmlTags($.event.body)})()}removeHtmlTags($){return((new DOMParser).parseFromString($,"text/html").body.textContent||"").trim()}viewLocation(){if(!this.space?.map_id)return(0,h.uA)("Unable to locate space on map.");this.showing_map=!0,this._dialog.open(g.VJ,{maxWidth:"95vw",maxHeight:"95vh",data:{item:this.space}}).afterClosed().subscribe(()=>{this.showing_map=!1})}toggleInterest(){var $=this;return(0,e.A)(function*(){let U=$.guest_details;console.log("User:",U,$.is_interested),$.is_interested&&U?(yield(0,b.Fk)($.event.id,(0,h.Ny)(),{system_id:$.event.system?.id}).toPromise(),$.event.attendees=($.event.attendees||[]).filter(G=>G.email!==U.email)):(U=yield(0,b.S)($.event.id,(0,h.Ny)(),{system_id:$.event.system?.id}).toPromise(),$.event.attendees=(0,h.Am)([...$.event.attendees||[],U],"email"))})()}toggleAttendance(){var $=this;return(0,e.A)(function*(){let U=$.guest_details;if(U||(U=yield(0,b.S)($.event.id,(0,h.Ny)(),{system_id:$.event.system?.id}).toPromise(),$.event.attendees=(0,h.Am)([...$.event.attendees||[],U],"email")),U={...(0,h.Ny)(),...U||{}},!U.email)return;yield(0,b.OA)($.event.id,U.email,!$.is_going,{system_id:$.event.system?.id}).toPromise();const G=$.event.attendees.find(J=>J.email===U.email);G&&(G.checked_in=!$.is_going)})()}static#e=this.\u0275fac=function(U){return new(U||B)(n.rXU(l.Vh),n.rXU(p.yb),n.rXU(h.h$),n.rXU(l.bZ),n.rXU(l.CP))};static#t=this.\u0275cmp=n.VBU({type:B,selectors:[["group-event-details-modal"]],outputs:{edit:"edit",remove:"remove"},decls:101,vars:38,consts:[["concierge_menu","matMenu"],["menu","matMenu"],[1,"relative","w-[48rem]","max-w-[calc(100vw-1rem)]","max-h-[80vh]","overflow-hidden"],[1,"relative","flex","items-center","justify-between","h-52","w-full","bg-base-200","overflow-hidden"],["auth","","class","absolute top-1/2 left-1/2 min-h-full min-w-full object-cover -translate-x-1/2 -translate-y-1/2",3,"source",4,"ngIf"],["class","absolute top-0 left-0 rounded-br py-2 pl-2 pr-4 space-x-2 bg-info text-info-content flex items-center text-sm",4,"ngIf"],["icon","","mat-dialog-close","",1,"absolute","top-1","right-1","overflow-hidden"],[1,"absolute","inset-0","bg-base-100","opacity-30","z-0"],[1,"z-10"],[1,"flex","items-center","justify-between","py-4","px-8","border-b","border-base-200"],[1,"text-left","text-xl"],[1,"flex","items-center","space-x-2"],[4,"ngIf"],["btn","","matRipple","",1,"clear","bg-base-200","text-base-content","w-[2.75rem]",3,"disabled","matMenuTriggerFor"],[1,"text-2xl"],["mat-menu-item","",3,"disabled"],[1,"mr-2"],["mat-menu-item","","mat-dialog-close","",3,"click"],["mat-menu-item","",3,"click"],[1,"text-2xl","text-error"],["mat-menu-item","",1,"flex","items-center","space-x-2",3,"click"],[1,"flex","flex-1","max-h-[calc(80vh-18rem)]","overflow-y-auto","overflow-x-hidden","p-8","space-x-6"],[1,"flex","flex-1","flex-col","space-y-2","w-1/3"],[1,"flex","items-center","space-x-4"],[1,"flex","items-center","justify-center","w-10","h-10","bg-base-200","rounded-full"],[1,"font-medium","pt-4"],[1,"flex","flex-col"],[1,"text-sm"],[1,"text-sm","opacity-30"],[1,"flex","flex-col","text-sm"],["class","opacity-30",4,"ngIf"],["matRipple","",1,"flex","items-center","space-x-4","rounded","min-h-12",3,"click"],[1,"text-sm","pb-4"],["event-details","",3,"innerHTML"],["class","flex w-[20rem]",4,"ngIf"],["class","absolute inset-0 z-50",4,"ngIf"],["auth","",1,"absolute","top-1/2","left-1/2","min-h-full","min-w-full","object-cover","-translate-x-1/2","-translate-y-1/2",3,"source"],[1,"absolute","top-0","left-0","rounded-br","py-2","pl-2","pr-4","space-x-2","bg-info","text-info-content","flex","items-center","text-sm"],[1,"text-base"],[1,"uppercase"],["btn","",1,"flex","items-center","px-4","h-10","rounded","space-x-2"],[1,"pr-2"],[1,"opacity-30"],[1,"flex","w-[20rem]"],[1,"border","border-base-300","w-full"],["matRipple","",1,"relative","w-full","h-40","bg-base-200",3,"click"],[3,"src","features","styles",4,"ngIf"],[1,"p-4","space-y-2"],[1,"opacity-30","text-sm","!mt-0"],["class","opacity-30 mt-4","target","_blank","rel","noopener noreferrer",3,"underline","href",4,"ngIf"],[3,"src","features","styles"],["target","_blank","rel","noopener noreferrer",1,"opacity-30","mt-4",3,"href"],[1,"absolute","inset-0","z-50"],[1,"absolute","inset-0","bg-base-content","opacity-60",3,"click"],[1,"absolute","left-1/2","-translate-x-1/2","w-[24rem]","inset-y-8","rounded","shadow","overflow-hidden"],[3,"click","show_host","list","host"]],template:function(U,G){if(1&U){const J=n.RV6();n.j41(0,"div",2)(1,"div",3),n.DNE(2,d,1,1,"img",4),n.k0s(),n.DNE(3,y,5,0,"div",5),n.j41(4,"button",6),n.nrm(5,"div",7),n.j41(6,"app-icon",8),n.EFF(7,"close"),n.k0s()(),n.j41(8,"div",9)(9,"h3",10),n.EFF(10),n.k0s(),n.j41(11,"div",11),n.DNE(12,R,11,26,"ng-container",12),n.j41(13,"button",13)(14,"app-icon",14),n.EFF(15,"more_horiz"),n.k0s()(),n.j41(16,"mat-menu",null,0)(18,"button",15)(19,"div",11)(20,"app-icon",14),n.EFF(21," confirmation_number "),n.k0s(),n.j41(22,"div",16),n.EFF(23,"Promote Event"),n.k0s()()(),n.j41(24,"button",17),n.bIt("click",function(){return n.eBV(J),n.Njj(G.edit.emit())}),n.j41(25,"div",11)(26,"app-icon",14),n.EFF(27,"edit"),n.k0s(),n.j41(28,"div",16),n.EFF(29,"Edit Event"),n.k0s()()(),n.j41(30,"button",15)(31,"div",11)(32,"app-icon",14),n.EFF(33,"content_copy"),n.k0s(),n.j41(34,"div",16),n.EFF(35,"Copy URL"),n.k0s()()(),n.j41(36,"button",18),n.bIt("click",function(){return n.eBV(J),n.Njj(G.remove.emit())}),n.j41(37,"div",11)(38,"app-icon",19),n.EFF(39," delete "),n.k0s(),n.j41(40,"div",16),n.EFF(41,"Delete Event"),n.k0s()()()(),n.j41(42,"mat-menu",null,1)(44,"button",20),n.bIt("click",function(){return n.eBV(J),n.Njj(G.toggleInterest())}),n.j41(45,"div",11)(46,"app-icon"),n.EFF(47," star "),n.k0s(),n.j41(48,"span"),n.EFF(49),n.k0s()()(),n.j41(50,"button",18),n.bIt("click",function(){return n.eBV(J),n.Njj(G.toggleAttendance())}),n.j41(51,"div",11)(52,"app-icon"),n.EFF(53," help "),n.k0s(),n.j41(54,"span"),n.EFF(55),n.k0s()()()()()(),n.j41(56,"div",21)(57,"div",22)(58,"div",23)(59,"div",24)(60,"app-icon"),n.EFF(61,"person"),n.k0s()(),n.j41(62,"div"),n.EFF(63),n.k0s()(),n.j41(64,"h3",25),n.EFF(65,"When and where"),n.k0s(),n.j41(66,"div",23)(67,"div",24)(68,"app-icon"),n.EFF(69,"calendar_today"),n.k0s()(),n.j41(70,"div",26)(71,"div",27),n.EFF(72,"Date and Time"),n.k0s(),n.j41(73,"div",28),n.EFF(74),n.nI1(75,"date"),n.nI1(76,"date"),n.nI1(77,"date"),n.k0s()()(),n.j41(78,"div",23)(79,"div",24)(80,"app-icon"),n.EFF(81,"place"),n.k0s()(),n.j41(82,"div",29),n.DNE(83,m,4,5,"div",12)(84,v,2,0,"div",30)(85,O,2,1,"div",30),n.k0s()(),n.j41(86,"button",31),n.bIt("click",function(){return n.eBV(J),n.Njj(G.show_attendees=!0)}),n.j41(87,"div",24)(88,"app-icon"),n.EFF(89,"person"),n.k0s()(),n.j41(90,"div"),n.EFF(91),n.k0s()(),n.j41(92,"h3",25),n.EFF(93,"About this event"),n.k0s(),n.j41(94,"div",32),n.nrm(95,"span",33),n.nI1(96,"sanitize"),n.DNE(97,S,2,0,"span",30),n.k0s()(),n.j41(98,"div"),n.DNE(99,C,11,6,"div",34),n.k0s()()(),n.DNE(100,D,4,3,"div",35)}if(2&U){const J=n.sdS(17),te=n.sdS(43);n.R7$(2),n.Y8G("ngIf",null==G.event.extension_data||null==G.event.extension_data.images?null:G.event.extension_data.images.length),n.R7$(),n.Y8G("ngIf",G.featured),n.R7$(7),n.SpI(" ",G.event.title," "),n.R7$(2),n.Y8G("ngIf",!G.concierge),n.R7$(),n.Y8G("disabled","done"===G.event.state)("matMenuTriggerFor",G.concierge?J:te),n.R7$(5),n.Y8G("disabled",!0),n.R7$(12),n.Y8G("disabled",!0),n.R7$(16),n.AVh("text-error",G.is_interested),n.R7$(3),n.SpI(" ",G.is_interested?"Revoke":"Indicate"," Interest "),n.R7$(3),n.AVh("text-error",G.is_going),n.R7$(3),n.SpI(" ",G.is_going?"Revoke":"Indicate"," Going "),n.R7$(8),n.SpI(" Event by ",(null==G.event.organiser?null:G.event.organiser.name)||G.event.host," "),n.R7$(11),n.E5c(" ",n.i5U(75,27,G.event.date,"EEEE, d MMMM, yyyy")," . ",n.i5U(76,30,G.event.date,G.time_format)," - ",n.i5U(77,33,G.event.date+60*G.event.duration*1e3,G.time_format)," "),n.R7$(9),n.Y8G("ngIf",G.is_onsite&&G.has_space),n.R7$(),n.Y8G("ngIf",G.is_onsite&&!G.has_space),n.R7$(),n.Y8G("ngIf",G.is_online),n.R7$(6),n.Lme(" ",G.attendance," going, ",null==G.event.attendees?null:G.event.attendees.length," interested "),n.R7$(4),n.Y8G("innerHTML",n.bMT(96,36,G.body),n.npT),n.R7$(2),n.Y8G("ngIf",!G.raw_description.trim()),n.R7$(2),n.Y8G("ngIf",G.level),n.R7$(),n.Y8G("ngIf",G.show_attendees)}}})}return B})()},1280:(gt,re,o)=>{"use strict";o.d(re,{NU:()=>M,qq:()=>x,Ov:()=>w,U1:()=>_});var e=o(906);function n(D,A){return(0,e.f)(D,7*A)}var h=o(5458),g=o(6299),p=o(5987),f=o(3601),b=o(4512),d=o(4361),y=o(7926),R=o(9824),m=o(2037),v=o(2357);function O(D,A){return+(0,v.c)(D)==+(0,v.c)(A)}const P=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];function M(D){return"cancelled"===D.status?"declined":D.resources?.length?D.resources.every(A=>"accepted"===A.response_status||D.approved)?"approved":D.resources.some(A=>"tentative"===A.response_status||"needsAction"===A.response_status)?"tentative":"declined":"approved"}function w(D){let A=D.start||1e3*D.range_start,B=D.end||D.range_end;if(D.occurrences>1)switch(D.pattern){case"daily":B=(0,e.f)(A||Date.now(),(D.occurrences-1)*D.interval).valueOf();break;case"weekly":B=n(A||Date.now(),(D.occurrences-1)*D.interval).valueOf();break;case"month_day":case"monthly":B=(0,h.P)(A||Date.now(),(D.occurrences-1)*D.interval).valueOf(),B=(0,e.f)(B,7).valueOf();break;case"yearly":B=(0,g.e)(A||Date.now(),(D.occurrences-1)*D.interval).valueOf()}return{range_start:(0,p._)((0,f.o)(A)),range_end:(0,p._)((0,b.D)(B)),interval:D.interval,pattern:D.pattern,days_of_week:D.days_of_week?.map(F=>"number"==typeof F?P[F]:F)||[]}}function x({interval:D,pattern:A,start:B,end:F,occurrences:$}){let U="";if(D){switch(A){case"daily":U=U.concat(D>1?`Every ${D} days`:"Daily"),$>1&&(F=(0,e.f)(B||Date.now(),($-1)*D).valueOf());break;case"weekly":U=U.concat(D>1?`Every ${D} weeks`:"Weekly"),$>1&&(F=n(B||Date.now(),($-1)*D).valueOf());break;case"month_day":case"monthly":U=U.concat(D>1?`Every ${D} months`:"Monthly"),$>1&&(F=(0,h.P)(B||Date.now(),($-1)*D).valueOf());break;case"yearly":U=U.concat(D>1?`Every ${D} yeats`:"Yearly"),$>1&&(F=(0,g.e)(B||Date.now(),($-1)*D).valueOf())}$>=1&&(U=U.concat(`, until ${(0,d.GP)(F,"MMM do, yyyy")}`))}return U}function _(D,A,B,F=29){const $=function I(D,A=29){let B=new Date(0);const F=[];D.sort((U,G)=>U.date-G.date);for(const U of D){const G=new Date((0,y.z)(U.date,-U.extension_data?.setup_time||0)),J=(0,y.z)(U.date,U.duration+(U.extension_data?.breakdown_time||0));(0,R.d)(U.date,B)?(Math.abs((0,m.o)(G,B))>=A&&F.push({start:B.valueOf(),end:U.date}),B=J):O(B,U.date)&&(B=J)}const $=B.valueOf();return F.push({start:$,end:10*($||Date.now())}),F}(B,F);for(const U of $)if(D>=U.start&&D<U.end&&A>U.start&&A<=U.end)return!0;return!1}},711:(gt,re,o)=>{"use strict";o.d(re,{N:()=>w});var e=o(467),n=o(9417),l=o(4006),h=o(6727),g=o(1416),p=o(9707),f=o(3953),b=o(177),d=o(9183),y=o(3476),R=o(9434),m=o(6600);const v=()=>[5,10];function O(x,I){1&x&&(f.j41(0,"button",5)(1,"app-icon"),f.EFF(2,"close"),f.k0s()())}function S(x,I){if(1&x&&(f.j41(0,"main",6)(1,"div",7)(2,"label",8),f.EFF(3,"Setup Duration"),f.k0s(),f.nrm(4,"a-duration-field",9),f.k0s(),f.j41(5,"div",7)(6,"label",10),f.EFF(7,"Breakdown Duration"),f.k0s(),f.nrm(8,"a-duration-field",11),f.k0s()()),2&x){const _=f.XpG();f.Y8G("formGroup",_.form),f.R7$(4),f.Y8G("min",0)("custom_options",f.lJ4(5,v)),f.R7$(4),f.Y8G("min",0)("custom_options",f.lJ4(6,v))}}function P(x,I){if(1&x){const _=f.RV6();f.j41(0,"footer",12)(1,"button",13),f.bIt("click",function(){f.eBV(_);const D=f.XpG();return f.Njj(D.save())}),f.EFF(2,"Save Changes"),f.k0s()()}}function M(x,I){1&x&&(f.j41(0,"div",14),f.nrm(1,"mat-spinner",15),f.j41(2,"p",16),f.EFF(3," Saving setup and breakdown durations... "),f.k0s()()),2&x&&(f.R7$(),f.Y8G("diameter",32))}let w=(()=>{class x{constructor(_,C){this._event=_,this._dialog_ref=C,this.loading=!1,this.form=new n.gE({setup:new n.MJ(this._event.setup_time||0),breakdown:new n.MJ(this._event.breakdown_time||0)})}save(){var _=this;return(0,e.A)(function*(){_.loading=!0,_._dialog_ref.disableClose=!0;const A={system_id:_._event?.resources[0]?.id||_._event?.system?.id};let B=yield(0,g.Az)(new h.L({..._._event,setup_time:_.form.value.setup,breakdown_time:_.form.value.breakdown}).toJSON(),A).toPromise().catch(F=>null);if(B||(B=yield(0,g.zZ)(_._event.id,A.system_id,{..._._event.extension_data,setup_time:_.form.value.setup,breakdown_time:_.form.value.breakdown,setup:_.form.value.setup,breakdown:_.form.value.breakdown}).toPromise().catch(F=>null)),!B)return _.loading=!1,_._dialog_ref.disableClose=!1,void(0,p.UG)("Error updating setup and breakdown.");(0,p.VX)("Succesfully updated setup and breakdown period."),_._dialog_ref.disableClose=!1,_.loading=!1,_._dialog_ref.close(B)})()}static#e=this.\u0275fac=function(C){return new(C||x)(f.rXU(l.Vh),f.rXU(l.CP))};static#t=this.\u0275cmp=f.VBU({type:x,selectors:[["setup-breakdown-modal"]],decls:8,vars:4,consts:[["load_state",""],[1,"space-x-4","min-h-16"],["btn","","icon","","mat-dialog-close","","matRipple","",4,"ngIf"],["class","p-4 min-w-[20rem] w-full",3,"formGroup",4,"ngIf","ngIfElse"],["class","flex justify-end px-4 py-2 border-t border-base-200",4,"ngIf"],["btn","","icon","","mat-dialog-close","","matRipple",""],[1,"p-4","min-w-[20rem]","w-full",3,"formGroup"],[1,"flex","flex-col","space-y-2"],["for","setup"],["name","setup","formControlName","setup",3,"min","custom_options"],["for","breakdown"],["name","breakdown","formControlName","breakdown",3,"min","custom_options"],[1,"flex","justify-end","px-4","py-2","border-t","border-base-200"],["btn","","matRipple","",3,"click"],[1,"flex","flex-col","items-center","justify-center","h-64","w-64"],[3,"diameter"],[1,"text-center","p-4"]],template:function(C,D){if(1&C&&(f.j41(0,"header",1)(1,"h2"),f.EFF(2,"Set Event's Setup and Breakdown"),f.k0s(),f.DNE(3,O,3,0,"button",2),f.k0s(),f.DNE(4,S,9,7,"main",3)(5,P,3,0,"footer",4)(6,M,4,1,"ng-template",null,0,f.C5r)),2&C){const A=f.sdS(7);f.R7$(3),f.Y8G("ngIf",!D.loading),f.R7$(),f.Y8G("ngIf",!D.loading)("ngIfElse",A),f.R7$(),f.Y8G("ngIf",!D.loading)}},dependencies:[b.bT,n.BC,n.cb,n.j4,n.JD,l.tx,d.LG,y.y,R.R,m.r6]})}return x})()},1761:(gt,re,o)=>{"use strict";o.d(re,{Ss:()=>M,Uv:()=>_});var e=o(9417),n=o(9015),l=o(4273),p=o(5611),f=o(3601),b=o(9548),d=o(7926),y=o(2037),R=o(9707),m=o(6727),v=o(690),O=o(3693);(0,n.W)(function h(C,D){const A=(0,l.a)(C);return A.setMinutes(D),A}((0,p.a)(new Date,6),0),{days:-1});const P=C=>D=>C.value?.length&&!D.value?{catering_field:"Catering sub-fields are required"}:null;function M(C=new m.L,D){C||(C=new m.L);const A=new e.gE({id:new e.MJ(C.id),ical_uid:new e.MJ(C.ical_uid),host:new e.MJ(C.host||C.organiser?.email||(0,R.Ny)()?.email||"",[e.k0.required]),organiser:new e.MJ(C.organiser||new O.KJ({email:C.host||""})),creator:new e.MJ(C.creator||(0,R.Ny)()?.email),calendar:new e.MJ(C.calendar),attendees:new e.MJ(C.attendees||[]),resources:new e.MJ(C.resources||[]),title:new e.MJ(C.title),body:new e.MJ(C.body),private:new e.MJ(C.private),date:new e.MJ(C.date,[e.k0.required]),duration:new e.MJ(C.duration,[v.k]),all_day:new e.MJ(C.all_day),date_end:new e.MJ(C.date_end),recurring:new e.MJ(C.recurring),recurrence:new e.MJ(C.recurrence),recurring_event_id:new e.MJ(C.recurring_event_id),master:new e.MJ(C.master),attachments:new e.MJ(C.attachments),catering:new e.MJ(C.extension_data?.catering),catering_notes:new e.MJ(C.extension_data?.catering[0]?.notes||""),catering_charge_code:new e.MJ(C.extension_data?.catering[0]?.charge_code||""),setup_time:new e.MJ(C.setup_time||0),breakdown_time:new e.MJ(C.breakdown_time||0),assets:new e.MJ(C.extension_data?.assets),visitor_type:new e.MJ(C.extension_data?.visitor_type),location:new e.MJ(C.location),needs_space:new e.MJ(!0),needs_parking:new e.MJ(C.extension_data?.needs_parking||!1),event_type:new e.MJ(C.extension_data?.event_type||""),category:new e.MJ(C.extension_data?.category||""),tags:new e.MJ(C.extension_data?.tags||[]),update_master:new e.MJ(!1),system:new e.MJ(C.system),attendance_type:new e.MJ(C.extension_data?.attendance_type||"ONSITE"),timezone:new e.MJ(C.timezone||R.mx),shared_event:new e.MJ(C.extension_data?.shared_event||!1),view_access:new e.MJ(C.extension_data?.view_access||"PRIVATE"),images:new e.MJ(C.extension_data?.images||[]),featured:new e.MJ(C.extension_data?.featured||!1)});A.get("organiser").valueChanges.subscribe(F=>A.controls.host.setValue(F?.email)),A.get("resources").valueChanges.subscribe(F=>{A.controls.system.setValue(F?.length?F[0]:null),A.controls.assets[F?.length?"enable":"disable"]()});const B=()=>{!A.value.catering?.length||!A.getRawValue().date||A.patchValue({catering:A.value.catering.map(F=>({...F,event:{date:A.value.all_day?(0,f.o)(A.getRawValue().date):A.getRawValue().date,duration:A.value.all_day?1440:A.value.duration}}))},{emitEvent:!1})};return A.valueChanges.subscribe(F=>{A.getRawValue().date<Date.now()&&A.value.id?A.get("date")?.disable({emitEvent:!1}):A.get("date")?.enable({emitEvent:!1}),(F.date||F.duration||F.all_day)&&B()}),A.controls.duration.valueChanges.subscribe(F=>{A.patchValue({date_end:(0,b.X)((0,d.z)(A.getRawValue().date,F),{nearestTo:5,roundingMethod:"ceil"}).valueOf()},{emitEvent:!1}),B()}),A.controls.date_end.valueChanges.subscribe(F=>{F<(0,d.z)(A.getRawValue().date,30).valueOf()?A.patchValue({date_end:(0,b.X)((0,d.z)(A.getRawValue().date,30),{nearestTo:5,roundingMethod:"ceil"}).valueOf(),duration:30},{emitEvent:!1}):A.patchValue({duration:(0,y.o)(F,A.getRawValue().date)},{emitEvent:!1}),B()}),A.controls.date.valueChanges.subscribe(F=>{A.patchValue({date_end:(0,b.X)((0,d.z)(F,A.value.duration),{nearestTo:5,roundingMethod:"ceil"}).valueOf()},{emitEvent:!1}),F<Date.now()&&!A.value.id&&A.patchValue({date:(0,b.X)(Date.now(),{nearestTo:5,roundingMethod:"ceil"}).valueOf()},{emitEvent:!1}),"custom_display"!==A.value.recurrence?._pattern&&"none"!==A.value.recurrence?._pattern&&A.patchValue({recurrence:{...A.value.recurrence,days_of_week:[new Date(F).getDay()]}}),B()}),A.controls.catering.valueChanges.subscribe(F=>{(A.getRawValue().catering||[])?.length&&(D?.get("app.events.catering_notes_required")||D.value("require_catering_notes"))?(A.get("catering_notes")?.setValidators([e.k0.required]),A.get("catering_notes").patchValue(A.value.catering_notes)):(A.get("catering_notes")?.clearValidators(),A.get("catering_notes").setErrors(null)),A.updateValueAndValidity()}),A.get("catering_charge_code").setValidators([P(A.get("catering"))]),C.id&&(A.get("host").disable(),A.get("organiser").disable()),"started"===C.state&&A.get("date").disable(),A}function _(C){let D=[{id:C.user_id,name:C.user_name,email:C.user_email,organizer:!0}];return"visitor"===C.booking_type&&D.push(new O.KJ({name:C.asset_name||C.description,email:C.asset_id,checked_in:C.checked_in})),D=D.concat(C.attendees),new m.L({...C,...C.extension_data,attendees:D,id:C.id||C.extension_data.id,host:C.user_email,from_bookings:!0})}},690:(gt,re,o)=>{"use strict";o.d(re,{k:()=>l});var e=o(9824),n=o(7926);const l=g=>{const p=g.parent?.get("date");return p&&(0,e.d)(Date.now(),(0,n.z)(p.value,g.value))?{duration:!0}:null}},1864:(gt,re,o)=>{"use strict";o.d(re,{XU:()=>Zt.X,Xm:()=>J,s4:()=>qt.s,Oe:()=>hn.O,Rp:()=>Je});var e=o(177),n=o(9417),l=o(4351),h=o(450),g=o(7987),p=o(6939),f=o(8705),b=o(8742),R=(o(468),o(3134),o(9707)),m=o(467),v=o(5157),O=o(9928),S=o(4421),P=o(9714),M=o(8728),w=o(9090),x=o(5006),I=o(8712),_=o(3020),C=o(8841),D=o(3921),A=o(4046),B=o(735),F=o(2372),$=o(8026),U=o(2185),G=o(3953);let J=(()=>{class lt{constructor(Ct,Wt,en){this._org=Ct,this._settings=Wt,this._maps_people=en,this._emergency_contacts=new O.t([]),this._filter=new O.t(""),this._loading=new O.t(!1),this.emergency_contacts=this._emergency_contacts.asObservable(),this._role_assigned_contacts=this._org.active_building.pipe((0,M.p)(on=>!!on),(0,w.n)(on=>(0,v.bpY)(on.id,"emergency_contacts")),(0,x.T)(({details:on})=>on?.contacts||[]),(0,I.t)(1)),this._user_search=this._filter.pipe((0,_.B)(400),(0,C.M)(()=>this._loading.next(!0)),(0,w.n)(on=>on?.length>2?this.search_fn(on).pipe((0,D.W)(()=>(0,S.of)([]))):(0,S.of)([])),(0,I.t)(1)),this._space_search=this._filter.pipe((0,_.B)(400),(0,C.M)(()=>this._loading.next(!0)),(0,w.n)(on=>on?.length>2?(0,v.BbB)({q:on,zone_id:this._org.organisation.id}).pipe((0,x.T)(({data:_n})=>_n.filter(Sn=>Sn.map_id).map(Sn=>new B.$({...Sn,level:this._org.levelWithID(Sn.zones)})))):(0,S.of)([])),(0,D.W)(()=>[])),this._maps_people_search=(0,P.zV)([this._maps_people.available$,this._filter,this._org.active_building]).pipe((0,_.B)(1e3),(0,w.n)(([on,_n])=>on&&_n.length>2?mapsindoors?.services.LocationsService.getLocations({q:_n}):(0,S.of)([])),(0,x.T)(on=>on.map(_n=>({id:_n.properties?.externalId||_n.properties?.roomId||_n.roomId||_n.id,map_id:_n.properties?.externalId||_n.properties?.roomId||_n.roomId||"",type:"feature",name:_n.properties?.name||"",description:`${_n.properties?.roomId} , Level ${_n.properties?.floorName}`}))),(0,I.t)(1)),this._points_of_interest=this._org.active_building.pipe((0,M.p)(on=>!!on),(0,w.n)(()=>(0,v.WsZ)(this._org.building.id,{name:"maps_features"}).pipe((0,D.W)(()=>(0,S.of)({details:[]})))),(0,x.T)(on=>{const _n=[];for(const Sn of on){const Zn=Sn.metadata.points_of_interest;if(Zn)for(const ut of Zn.details)_n.push({id:ut.id,type:"feature",name:ut.name,description:"",zone:Sn.zone})}return _n})),this.search_results=(0,P.zV)([this._filter,this._space_search,this._user_search,this._emergency_contacts,this._role_assigned_contacts,this._points_of_interest,this._maps_people_search]).pipe((0,x.T)(([on,_n,Sn,Zn,ut,be,Fe])=>{const ae=on.toLowerCase(),ve=[...Fe,..._n.filter(ze=>ze.email.toLowerCase().includes(ae)||ze.name.toLowerCase().includes(ae)||ze.display_name.toLowerCase().includes(ae)).map(ze=>({id:ze.id,type:"space",name:ze.display_name||ze.name,description:`Capacity: ${ze.capacity} `})),...(0,R.Bq)(ut.map(ze=>ze.roles.map(vt=>({id:ze.email,type:vt||"contact",is_role:!0,name:ze.name,description:ze.email})))).filter(ze=>ze.name.toLowerCase().includes(ae)||ze.description.toLowerCase().includes(ae)||ze.type.toLowerCase().includes(ae)),...Zn.map(ze=>({id:ze.email,type:ze.type||"contact",is_role:!0,name:ze.name,description:ze.email})).filter(ze=>ze.name.toLowerCase().includes(ae)||ze.description.toLowerCase().includes(ae)||ze.type.toLowerCase().includes(ae)),...Sn.map(ze=>({id:ze.email,type:"user",name:ze.name,description:ze.email})),...be.filter(ze=>ze.name.toLowerCase().includes(ae)).map(ze=>({id:ze.id,type:"feature",name:ze.name,description:"",zone:ze.zone?.id}))];return ve.sort((ze,vt)=>ze.name.localeCompare(vt.name)),ve}),(0,C.M)(()=>this._loading.next(!1)),(0,I.t)(1)),this.loading=this._loading.asObservable(),this.search_fn=on=>this._settings.get("app.basic_user_search")?(0,v.n1$)({q:on,authority_id:(0,v.kup)()?.id}).pipe((0,x.T)(_n=>_n.data)):(0,F.N8)(on),this.search_results.subscribe(),this.init()}init(){var Ct=this;return(0,m.A)(function*(){yield Ct._org.initialised.pipe((0,A.$)(en=>en)).toPromise();const Wt=(0,U.WS)(Ct._org.binding("location_services"),"LocationServices");if(Wt){const en=Wt.binding("emergency_contacts");en.listen().subscribe(on=>{const _n=[];for(const Sn in on)for(const Zn of on[Sn])_n.push({...Zn,type:Sn});Ct._emergency_contacts.next(_n)}),en.bind()}})()}setFilter(Ct){this._filter.next(Ct)}static#e=this.\u0275fac=function(Wt){return new(Wt||lt)(G.KVO($.y),G.KVO(R.h$),G.KVO(R._e))};static#t=this.\u0275prov=G.jDH({token:lt,factory:lt.\u0275fac,providedIn:"root"})}return lt})();o(2091);var ne=o(9434),j=(o(5080),o(850),o(6600)),W=o(9183),We=o(8303),ge=(o(9801),o(1207),o(6301)),Pt=(o(2882),o(7146),o(2035),o(9303),o(4810),o(795),o(7889),o(2238)),yt=o(3208),Le=o(3719),De=o(4006),V=o(9631),ue=o(3476),Q=o(8e3);let Je=(()=>{class lt{static#e=this.\u0275fac=function(Wt){return new(Wt||lt)};static#t=this.\u0275mod=G.$C({type:lt});static#n=this.\u0275inj=G.G2t({imports:[e.MD,l.hI,n.YN,n.X1,h.mV,g.z_,p.jc,f.c,b.S]})}return lt})();G.wjB(We.x,[e.Sq,e.bT,Pt.I,yt.U],[]),G.wjB(ge.t,[e.bT,ne.R,Le.rl,Le.TL,j.r6,De.tx,V.fg,W.LG,n.me,n.BC,n.cb,n.j4,n.JD,ue.y,Q.$],[e.Jj,e.vh]),o(1104);var qt=o(5897),hn=o(2455),Zt=(o(1369),o(4498));o(9591)},2035:(gt,re,o)=>{"use strict";o.d(re,{T:()=>b});var e=o(4006),n=o(4233);function l(d){var y=this;d="object"==typeof d?d:{},y.revision=3,y.imageTypes={bmp:"image/bmp",gif:"image/gif",jpeg:"image/jpeg",jpg:"image/jpg",png:"image/png","svg+xml":"image/svg+xml",tiff:"image/tiff",webp:"image/webp","x-icon":"image/x-icon"},y.toTable=d.toTable,y.domElement=y.toTable?document.createElement("div"):document.createElement("canvas"),y.url=d.url||"",y.size=d.size||280,y.qrc=!1,y.colorLight=d.colorLight||"#fff",y.colorDark=d.colorDark||"#000",y.ecclevel=d.ecclevel||1,y.noBorder=d.noBorder,y.borderSize=d.borderSize||4;var R,m,v,O,S,P,M,w=[],x=[],I=[],_=[],C=[],D=[],A=function(ne,K){var k;ne>K&&(k=ne,ne=K,K=k),k=K,k*=K,k+=K,k>>=1,_[k+=ne]=1},B=function(ne,K){var k;for(I[ne+v*K]=1,k=-2;k<2;k++)I[ne+k+v*(K-2)]=1,I[ne-2+v*(K+k+1)]=1,I[ne+2+v*(K+k)]=1,I[ne+k+1+v*(K+2)]=1;for(k=0;k<2;k++)A(ne-1,K+k),A(ne+1,K-k),A(ne-k,K-1),A(ne+k,K+1)},F=function(ne){for(;ne>=255;)ne=((ne-=255)>>8)+(255&ne);return ne},$=function(ne,K,k,j){var W,ie,ce,oe=l.gexp,me=l.glog;for(W=0;W<j;W++)w[k+W]=0;for(W=0;W<K;W++){if(255!=(ce=me[w[ne+W]^w[k]]))for(ie=1;ie<j;ie++)w[k+ie-1]=w[k+ie]^oe[F(ce+D[j-ie])];else for(ie=k;ie<k+j;ie++)w[ie]=w[ie+1];w[k+j-1]=255==ce?0:oe[F(ce+D[0])]}},U=function(ne,K){var k;return ne>K&&(k=ne,ne=K,K=k),k=K,k+=K*K,k>>=1,_[k+=ne]},G=function(ne){var K,k,j,W;switch(ne){case 0:for(k=0;k<v;k++)for(K=0;K<v;K++)K+k&1||U(K,k)||(I[K+k*v]^=1);break;case 1:for(k=0;k<v;k++)for(K=0;K<v;K++)1&k||U(K,k)||(I[K+k*v]^=1);break;case 2:for(k=0;k<v;k++)for(j=0,K=0;K<v;K++,j++)3==j&&(j=0),j||U(K,k)||(I[K+k*v]^=1);break;case 3:for(W=0,k=0;k<v;k++,W++)for(3==W&&(W=0),j=W,K=0;K<v;K++,j++)3==j&&(j=0),j||U(K,k)||(I[K+k*v]^=1);break;case 4:for(k=0;k<v;k++)for(j=0,W=k>>1&1,K=0;K<v;K++,j++)3==j&&(j=0,W=!W),W||U(K,k)||(I[K+k*v]^=1);break;case 5:for(W=0,k=0;k<v;k++,W++)for(3==W&&(W=0),j=0,K=0;K<v;K++,j++)3==j&&(j=0),(K&k&1)+!(!j|!W)||U(K,k)||(I[K+k*v]^=1);break;case 6:for(W=0,k=0;k<v;k++,W++)for(3==W&&(W=0),j=0,K=0;K<v;K++,j++)3==j&&(j=0),(K&k&1)+(j&&j==W)&1||U(K,k)||(I[K+k*v]^=1);break;case 7:for(W=0,k=0;k<v;k++,W++)for(3==W&&(W=0),j=0,K=0;K<v;K++,j++)3==j&&(j=0),(j&&j==W)+(K+k&1)&1||U(K,k)||(I[K+k*v]^=1)}},J=function(ne){var K,k=0;for(K=0;K<=ne;K++)C[K]>=5&&(k+=l.N1+C[K]-5);for(K=3;K<ne-1;K+=2)C[K-2]==C[K+2]&&C[K+2]==C[K-1]&&C[K-1]==C[K+1]&&3*C[K-1]==C[K]&&(0==C[K-3]||K+3>ne||3*C[K-3]>=4*C[K]||3*C[K+3]>=4*C[K])&&(k+=l.N3);return k},te=function(){var ne,K,k,j,W,ie=0,ce=0;for(K=0;K<v-1;K++)for(ne=0;ne<v-1;ne++)(I[ne+v*K]&&I[ne+1+v*K]&&I[ne+v*(K+1)]&&I[ne+1+v*(K+1)]||!(I[ne+v*K]||I[ne+1+v*K]||I[ne+v*(K+1)]||I[ne+1+v*(K+1)]))&&(ie+=l.N2);for(K=0;K<v;K++){for(C[0]=0,k=j=ne=0;ne<v;ne++)(W=I[ne+v*K])==j?C[k]++:C[++k]=1,ce+=(j=W)?1:-1;ie+=J(k)}ce<0&&(ce=-ce);var oe=ce,me=0;for(oe+=oe<<2,oe<<=1;oe>v*v;)oe-=v*v,me++;for(ie+=me*l.N4,ne=0;ne<v;ne++){for(C[0]=0,k=j=K=0;K<v;K++)(W=I[ne+v*K])==j?C[k]++:C[++k]=1,j=W;ie+=J(k)}return ie};y.genframe=function(ne){var K,k,j,W,ie,ce,oe,me,he=l.eccblocks,Oe=l.gexp,we=l.glog;W=ne.length,m=0;do{if(m++,j=4*(R-1)+16*(m-1),O=he[j++],S=he[j++],P=he[j++],M=he[j],W<=(j=P*(O+S)+S-3+(m<=9)))break}while(m<40);for(v=17+4*m,ie=P+(P+M)*(O+S)+S,W=0;W<ie;W++)x[W]=0;for(w=ne.slice(0),W=0;W<v*v;W++)I[W]=0;for(W=0;W<(v*(v+1)+1)/2;W++)_[W]=0;for(W=0;W<3;W++){for(j=0,k=0,1==W&&(j=v-7),2==W&&(k=v-7),I[k+3+v*(j+3)]=1,K=0;K<6;K++)I[k+K+v*j]=1,I[k+v*(j+K+1)]=1,I[k+6+v*(j+K)]=1,I[k+K+1+v*(j+6)]=1;for(K=1;K<5;K++)A(k+K,j+1),A(k+1,j+K+1),A(k+5,j+K),A(k+K+1,j+5);for(K=2;K<4;K++)I[k+K+v*(j+2)]=1,I[k+2+v*(j+K+1)]=1,I[k+4+v*(j+K)]=1,I[k+K+1+v*(j+4)]=1}if(m>1)for(W=l.adelta[m],k=v-7;;){for(K=v-7;K>W-3&&(B(K,k),!(K<W));)K-=W;if(k<=W+9)break;B(6,k-=W),B(k,6)}for(I[8+v*(v-8)]=1,k=0;k<7;k++)A(7,k),A(v-8,k),A(7,k+v-7);for(K=0;K<8;K++)A(K,7),A(K+v-8,7),A(K,v-8);for(K=0;K<9;K++)A(K,8);for(K=0;K<8;K++)A(K+v-8,8),A(8,K);for(k=0;k<7;k++)A(8,k+v-7);for(K=0;K<v-14;K++)1&K?(A(8+K,6),A(6,8+K)):(I[8+K+6*v]=1,I[6+v*(8+K)]=1);if(m>6)for(W=l.vpat[m-7],j=17,K=0;K<6;K++)for(k=0;k<3;k++,j--)1&(j>11?m>>j-12:W>>j)?(I[5-K+v*(2-k+v-11)]=1,I[2-k+v-11+v*(5-K)]=1):(A(5-K,2-k+v-11),A(2-k+v-11,5-K));for(k=0;k<v;k++)for(K=0;K<=k;K++)I[K+v*k]&&A(K,k);for(ie=w.length,ce=0;ce<ie;ce++)x[ce]=w.charCodeAt(ce);if(w=x.slice(0),ie>=(K=P*(O+S)+S)-2&&(ie=K-2,m>9&&ie--),ce=ie,m>9){for(w[ce+2]=0,w[ce+3]=0;ce--;)w[ce+3]|=255&(W=w[ce])<<4,w[ce+2]=W>>4;w[2]|=255&ie<<4,w[1]=ie>>4,w[0]=64|ie>>12}else{for(w[ce+1]=0,w[ce+2]=0;ce--;)w[ce+2]|=255&(W=w[ce])<<4,w[ce+1]=W>>4;w[1]|=255&ie<<4,w[0]=64|ie>>4}for(ce=ie+3-(m<10);ce<K;)w[ce++]=236,w[ce++]=17;for(D[0]=1,ce=0;ce<M;ce++){for(D[ce+1]=1,oe=ce;oe>0;oe--)D[oe]=D[oe]?D[oe-1]^Oe[F(we[D[oe]]+ce)]:D[oe-1];D[0]=Oe[F(we[D[0]]+ce)]}for(ce=0;ce<=M;ce++)D[ce]=we[D[ce]];for(j=K,k=0,ce=0;ce<O;ce++)$(k,P,j,M),k+=P,j+=M;for(ce=0;ce<S;ce++)$(k,P+1,j,M),k+=P+1,j+=M;for(k=0,ce=0;ce<P;ce++){for(oe=0;oe<O;oe++)x[k++]=w[ce+oe*P];for(oe=0;oe<S;oe++)x[k++]=w[O*P+ce+oe*(P+1)]}for(oe=0;oe<S;oe++)x[k++]=w[O*P+ce+oe*(P+1)];for(ce=0;ce<M;ce++)for(oe=0;oe<O+S;oe++)x[k++]=w[K+ce+oe*M];for(w=x,K=k=v-1,j=ie=1,me=(P+M)*(O+S)+S,ce=0;ce<me;ce++)for(W=w[ce],oe=0;oe<8;oe++,W<<=1){128&W&&(I[K+v*k]=1);do{ie?K--:(K++,j?0!=k?k--:(j=!j,6==(K-=2)&&(K--,k=9)):k!=v-1?k++:(j=!j,6==(K-=2)&&(K--,k-=8))),ie=!ie}while(U(K,k))}for(w=I.slice(0),W=0,k=3e4,j=0;j<8&&(G(j),(K=te())<k&&(k=K,W=j),7!=W);j++)I=w.slice(0);for(W!=j&&G(W),k=l.fmtword[W+(R-1<<3)],j=0;j<8;j++,k>>=1)1&k&&(I[v-1-j+8*v]=1,j<6?I[8+v*j]=1:I[8+v*(j+1)]=1);for(j=0;j<7;j++,k>>=1)1&k&&(I[8+v*(v-7+j)]=1,j?I[6-j+8*v]=1:I[7+8*v]=1);return I},y.init=function(){R=y.ecclevel;var ne=y.genframe(y.url);y.toTable?y.tableWrite(ne,v):y.canvasWrite(ne,v)},y.init()}l.prototype={canvasWrite:function(d,y){if(!this.qrc&&(this.qrc=this.getContext(this.domElement),!this.qrc))return this.toTable=!0,this.domElement=document.createElement("div"),void this.tableWrite(d,y);var R=this.size,m=this.qrc;m.lineWidth=1;var v=R;v/=y+10,v=Math.round(v-.5);var O=4;this.noBorder?(m.canvas.width=m.canvas.height=v*y,O=0):m.canvas.width=m.canvas.height=R,m.clearRect(0,0,R,R),m.fillStyle=this.colorLight,m.fillRect(0,0,v*(y+8),v*(y+8)),m.fillStyle=this.colorDark;for(var S=0;S<y;S++)for(var P=0;P<y;P++)d[P*y+S]&&m.fillRect(v*(O+S),v*(O+P),v,v)},tableWrite:function(d,y){var R=this,m=Math.round(this.size/y-3.5)+"px",v=y+(R.noBorder?0:2*R.borderSize),O=R.borderSize,S="width:"+m+";height:"+m+";",P=R.colorLight,M=R.colorDark,w=document.createElement("table");w.style.cssText="border:0;border-collapse:collapse;";for(var x,I=document.createElement("tr"),_=document.createElement("td"),C=function(){return _.cloneNode()},D=function(){var J=C();return J.style.cssText=S+"background:"+P,J},A=function(J){for(var te=J.firstChild,ne=0;ne<O;ne++)J.insertBefore(D(),te),J.appendChild(D())},B=0;B<y;B++){var F=I.cloneNode();w.appendChild(F);for(var $=0;$<y;$++)if(1===d[B*y+$]){var U=(x=void 0,(x=C()).style.cssText=S+"background:"+M,x);F.appendChild(U)}else{var G=D();F.appendChild(G)}R.noBorder||A(F)}R.noBorder||function(J){for(var te=J.firstChild,ne=0;ne<R.borderSize;ne++){for(var K=I.cloneNode(),k=0;k<v;k++){var j=D();K.appendChild(j)}J.appendChild(K),J.insertBefore(K.cloneNode(!0),te)}}(w),R.domElement.innerHTML="",R.domElement.appendChild(w)},getContext:function(d){return d.getContext&&d.getContext("2d")?d.getContext("2d"):(console.log("Browser does not have 2d Canvas support"),!1)},toImage:function(d){if(this.qrc){var y=this.imageTypes[d];if(!y)throw new Error(d+" is not a valid image type ");var R=new Image;return R.src=this.domElement.toDataURL(y),R}}},l.adelta=[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28],l.vpat=[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177],l.fmtword=[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],l.eccblocks=[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],l.glog=[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175],l.gexp=[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],l.N1=3,l.N2=3,l.N3=40,l.N4=10;var g=o(3953),p=o(9434);let b=(()=>{class d{constructor(R,m){this._data=R,this._settings=m,this.space=this._data.space,this.qr_code=function h(d,y="#fff0",R="#000"){return new l({url:d||"Hello",size:360,colorLight:y,colorDark:R,toTable:!1,ecclevel:1,noBorder:!0,borderSize:0})?.toImage("svg+xml")?.src}(`${location.origin}${(this._settings.get("app.booking_qr_path")||"workplace/#/explore?space={{id}}").replace("{{id}}",this._data.space?.email)}`)}static#e=this.\u0275fac=function(m){return new(m||d)(g.rXU(e.Vh),g.rXU(n.h))};static#t=this.\u0275cmp=g.VBU({type:d,selectors:[["explore-book-qr"]],decls:9,vars:2,consts:()=>{let R;return R=$localize`:␟cbd43c9fe40f6bb5fd5497b1436b4dce15539dfb␟381017318285325317:Book - ${"\ufffd0\ufffd"}:INTERPOLATION:`,[R,[1,"truncate"],[1,"flex-1"],["icon","","mat-dialog-close",""],[1,"p-4"],[1,"w-64","h-64","m-auto",3,"src"]]},template:function(m,v){1&m&&(g.j41(0,"header")(1,"h2",1),g.pXf(2,0),g.k0s(),g.nrm(3,"div",2),g.j41(4,"button",3)(5,"app-icon"),g.EFF(6,"close"),g.k0s()()(),g.j41(7,"main",4),g.nrm(8,"img",5),g.k0s()),2&m&&(g.R7$(2),g.uP7(null==v.space?null:v.space.name),g.nnv(2),g.R7$(6),g.Y8G("src",v.qr_code,g.B4B))},dependencies:[p.R,e.tx]})}return d})()},6301:(gt,re,o)=>{"use strict";o.d(re,{t:()=>O});var e=o(467),n=o(4006),l=o(9707),h=o(6101),g=o(3953),p=o(2091);function f(S,P){1&S&&(g.j41(0,"button",10)(1,"app-icon"),g.EFF(2,"close"),g.k0s()())}function b(S,P){1&S&&(g.j41(0,"div",15)(1,"label",24),g.EFF(2,"Host"),g.j41(3,"span"),g.EFF(4,"*"),g.k0s(),g.EFF(5,":"),g.k0s(),g.nrm(6,"a-user-search-field",25),g.k0s())}function d(S,P){if(1&S&&(g.j41(0,"div",26)(1,"label"),g.pXf(2,5),g.k0s(),g.j41(3,"div",27),g.EFF(4),g.nI1(5,"date"),g.nI1(6,"date"),g.k0s()()),2&S){const M=g.XpG(3);g.R7$(4),g.Lme(" ",g.i5U(5,2,M.form.value.date,"mediumDate")," at ",g.i5U(6,5,M.form.value.date,M.time_format)," ")}}function y(S,P){if(1&S&&(g.j41(0,"div",28)(1,"label"),g.pXf(2,6),g.k0s(),g.nrm(3,"a-duration-field",29),g.k0s()),2&S){const M=g.XpG(3);g.R7$(3),g.Y8G("time",M.form.value.date)("max",M.max_duration)("use_24hr",M.use_24hr_time)}}function R(S,P){if(1&S&&(g.j41(0,"main",14)(1,"div",15)(2,"label",16),g.EFF(3,"Title"),g.j41(4,"span"),g.EFF(5,"*"),g.k0s(),g.EFF(6,":"),g.k0s(),g.j41(7,"mat-form-field",17),g.nrm(8,"input",18),g.j41(9,"mat-error"),g.pXf(10,3),g.k0s()()(),g.DNE(11,b,7,0,"div",19),g.j41(12,"div",15)(13,"label"),g.pXf(14,4),g.k0s(),g.j41(15,"div",20),g.EFF(16),g.k0s()(),g.j41(17,"div",21),g.DNE(18,d,7,8,"div",22)(19,y,4,3,"div",23),g.k0s()()),2&S){const M=g.XpG(2);g.Y8G("formGroup",M.form),g.R7$(11),g.Y8G("ngIf",M.can_book_for_others),g.R7$(5),g.SpI(" ",(null==M.form.controls.resources||null==M.form.controls.resources.value[0]?null:M.form.controls.resources.value[0].display_name)||(null==M.form.controls.resources||null==M.form.controls.resources.value[0]?null:M.form.controls.resources.value[0].name)," "),g.R7$(2),g.Y8G("ngIf",M.form.controls.date),g.R7$(),g.Y8G("ngIf",M.form.controls.duration)}}function m(S,P){if(1&S){const M=g.RV6();g.qex(0),g.DNE(1,R,20,5,"main",11),g.j41(2,"footer",12)(3,"button",13),g.bIt("click",function(){g.eBV(M);const x=g.XpG();return g.Njj(x.save())}),g.pXf(4,2),g.k0s()(),g.bVm()}if(2&S){const M=g.XpG();g.R7$(),g.Y8G("ngIf",M.form)}}function v(S,P){if(1&S&&(g.j41(0,"div",30),g.nrm(1,"mat-spinner",31),g.j41(2,"p"),g.EFF(3),g.nI1(4,"async"),g.k0s()()),2&S){const M=g.XpG();g.R7$(),g.Y8G("diameter",48),g.R7$(2),g.JRh(g.bMT(4,2,M.loading))}}let O=(()=>{class S{get form(){return this._event_form.form}get max_duration(){return this._settings.get("app.events.max_duration")||240}get can_book_for_others(){return this._settings.get("app.events.can_book_for_others")}get use_24hr_time(){return this._settings.get("app.use_24_hour_time")}get time_format(){return this._settings.time_format}constructor(M,w,x,I,_){this._data=M,this._settings=w,this._event_form=x,this._dialog_ref=I,this._router=_,this.loading=this._event_form.loading}ngOnInit(){this._event_form.newForm(),this.form.patchValue({resources:[this._data.space],host:(0,l.Ny)().email,organiser:(0,l.Ny)()})}save(){var M=this;return(0,e.A)(function*(){yield M._event_form.postForm().catch(w=>{throw(0,l.UG)(w),w}),M._settings.app_name.toLowerCase().includes("workplace")?M._router.navigate(["/book","meeting","success"]):(0,l.VX)("Successfully booked room."),M._dialog_ref.close()})()}static#e=this.\u0275fac=function(w){return new(w||S)(g.rXU(n.Vh),g.rXU(l.h$),g.rXU(h.W),g.rXU(n.CP),g.rXU(p.Ix))};static#t=this.\u0275cmp=g.VBU({type:S,selectors:[["explore-booking-modal"]],decls:10,vars:7,consts:()=>{let M,w,x,I,_,C,D;return M=$localize`:␟bd532c9813cc0577fcc3ff32640a61afef2bf40a␟6464057252608386690:New Booking`,w=$localize`:␟2fa313c798ad138557539ba3c6a3bfdc426eaaa2␟2367152680379951719: Save `,x=$localize`:␟5cf0071757dd8065e052662e4d191a210c766579␟2997066279074525950:Booking Title`,I=$localize`:␟35a900d9fa8e824539ca4b0d1a10bd2f7f8c1172␟8953173802652113530:Booking title is required`,_=$localize`:␟0f342dcd63b8732a5599eb91ce166b55335dbbc4␟1329943553963489238:Space:`,C=$localize`:␟05fa0bded36de6e73a1fa44838b627349dace044␟6899410641137821757:Date:`,D=$localize`:␟e17a1d75189da843f541f7764f188f2b19a97df2␟4220765745195024064:Duration:`,[["load_state",""],M,w,I,_,C,D,[1,"flex-1"],["icon","","matRipple","","mat-dialog-close","",4,"ngIf"],[4,"ngIf","ngIfElse"],["icon","","matRipple","","mat-dialog-close",""],["class","p-4 max-w-[85vw]",3,"formGroup",4,"ngIf"],[1,"flex","justify-center","p-2","border-t","border-base-200"],["btn","","matRipple","",1,"w-32",3,"click"],[1,"p-4","max-w-[85vw]",3,"formGroup"],[1,"flex","flex-col"],["for","title"],["appearance","outline"],["matInput","","name","title","formControlName","title","placeholder",x],["class","flex flex-col",4,"ngIf"],["name","space",1,"px-4","py-3","border","border-base-200","rounded","w-full","mb-4"],[1,"flex","sm:space-x-4","flex-wrap"],["class","flex flex-col flex-1 w-full sm:w-auto",4,"ngIf"],["class","flex flex-col w-full sm:w-auto",4,"ngIf"],["for","host"],["name","host","formControlName","organiser",1,"mb-4"],[1,"flex","flex-col","flex-1","w-full","sm:w-auto"],[1,"px-4","py-3","border","border-base-200","rounded","w-full","mb-4"],[1,"flex","flex-col","w-full","sm:w-auto"],["formControlName","duration",1,"w-full",3,"time","max","use_24hr"],["load","",1,"h-64","flex","flex-col","items-center","justify-center"],[1,"m-4",3,"diameter"]]},template:function(w,x){if(1&w&&(g.j41(0,"header")(1,"h2"),g.pXf(2,1),g.k0s(),g.nrm(3,"div",7),g.DNE(4,f,3,0,"button",8),g.nI1(5,"async"),g.k0s(),g.DNE(6,m,5,1,"ng-container",9),g.nI1(7,"async"),g.DNE(8,v,5,4,"ng-template",null,0,g.C5r)),2&w){const I=g.sdS(9);g.R7$(4),g.Y8G("ngIf",!g.bMT(5,3,x.loading)),g.R7$(2),g.Y8G("ngIf",!g.bMT(7,5,x.loading))("ngIfElse",I)}},styles:["header[_ngcontent-%COMP%]{max-width:calc(100vw + 100%)}[load][_ngcontent-%COMP%]{width:32rem;max-width:calc(100vw - 2rem)}"]})}return S})()},2882:(gt,re,o)=>{"use strict";o.d(re,{Y:()=>d});var e=o(4918),n=o(3953),l=o(177),h=o(2238);function g(y,R){if(1&y&&(n.j41(0,"p",9),n.EFF(1),n.k0s()),2&y){const m=n.XpG(2);n.R7$(),n.JRh(m.user)}}function p(y,R){if(1&y&&(n.j41(0,"p",10),n.EFF(1),n.k0s()),2&y){const m=n.XpG(2);n.R7$(),n.SpI(" ",m.department," ")}}function f(y,R){if(1&y&&(n.j41(0,"p",11),n.EFF(1),n.nI1(2,"date"),n.nI1(3,"date"),n.k0s()),2&y){const m=n.XpG(2);n.R7$(),n.Lme(" ",n.i5U(2,2,m.start,"shortTime")," \u2013 ",n.i5U(3,5,m.end,"shortTime")," ")}}function b(y,R){if(1&y&&(n.j41(0,"div",2),n.nrm(1,"div",3),n.j41(2,"div",4)(3,"h4",5),n.EFF(4),n.k0s(),n.DNE(5,g,2,1,"p",6)(6,p,2,1,"p",7)(7,f,4,8,"p",8),n.k0s()()),2&y){const m=n.XpG();n.HbH("absolute rounded bg-base-100 p-4 top-0 left-0 shadow pointer-events-none "+m.x_pos+" "+m.y_pos),n.Y8G("id",m.map_id),n.R7$(4),n.SpI(" ",m.name||m.map_id||m.id," "),n.R7$(),n.Y8G("ngIf",m.user),n.R7$(),n.Y8G("ngIf",m.user&&m.department),n.R7$(),n.Y8G("ngIf",m.start)}}let d=(()=>{class y{constructor(m,v){this._details=m,this._element=v,this.id=this._details.id,this.map_id=this._details.map_id,this.name=this._details.name,this.user=this._details.user,this.start=this._details.start,this.end=this._details.end,this.status=this._details.status,this.department=this._details.department}ngOnInit(m=0){m>10||setTimeout(()=>{const v=this._element.nativeElement.parentElement?.parentElement;if(!v)return this.ngOnInit(++m);const O_y=parseInt(v.style.top,10)/100,O_x=parseInt(v.style.left,10)/100;this.y_pos=O_y>=.5?"bottom":"top",this.x_pos=O_x>=.5?"right":"left"},200)}get available_until(){return""}static#e=this.\u0275fac=function(v){return new(v||y)(n.rXU(e.N),n.rXU(n.aKT))};static#t=this.\u0275cmp=n.VBU({type:y,selectors:[["explore-desk-info"]],decls:3,vars:8,consts:[["desk_tooltip",""],["customTooltip","",1,"h-full","w-full","pointer-events-auto","relative","z-20",3,"content","backdrop","xPosition","yPosition","hover","delay"],["name","space-info",3,"id"],[1,"arrow"],[1,"details"],["map-id","",1,"m-0","font-medium"],["user","","class","mt-2 text-sm",4,"ngIf"],["user","","class","mt-1 text-sm",4,"ngIf"],["start","","class","mt-1 text-sm",4,"ngIf"],["user","",1,"mt-2","text-sm"],["user","",1,"mt-1","text-sm"],["start","",1,"mt-1","text-sm"]],template:function(v,O){if(1&v&&(n.nrm(0,"div",1),n.DNE(1,b,8,7,"ng-template",null,0,n.C5r)),2&v){const S=n.sdS(2);n.Y8G("content",S)("backdrop",!1)("xPosition","center")("yPosition","center")("hover",!0)("delay",3e3),n.BMQ("id",O.id)("map_id",O.map_id)}},dependencies:[l.bT,h.I,l.vh],styles:["[name=space-info][_ngcontent-%COMP%]{width:16rem}[name=status][_ngcontent-%COMP%]{background-color:#43a047;font-weight:500}[name=status].busy[_ngcontent-%COMP%]{background-color:#e53935}[name=status].pending[_ngcontent-%COMP%]{background-color:#ffb300}[name=status].not-bookable[_ngcontent-%COMP%]{background-color:#757575}"]})}return y})()},1104:(gt,re,o)=>{"use strict";o.d(re,{v:()=>te});var e=o(467),n=o(5157),l=o(4512),h=o(5987),g=o(3601),p=o(906),f=o(9928),b=o(4421),d=o(9714),y=o(8728),R=o(9090),m=o(3921),v=o(5006),O=o(8712),S=o(3020),P=o(8841),M=o(9493),w=o(4046),x=o(8379),I=o(9707),_=o(8026),C=o(7451),D=o(7146),A=o(2882),B=o(1207),F=o(5897),$=o(2455),U=o(5645),G=o(3953),J=o(4006);let te=(()=>{class ne extends I.Tv{constructor(k,j,W,ie,ce){var oe;super(),oe=this,this._state=k,this._org=j,this._settings=W,this._bookings=ie,this._dialog=ce,this._in_use=new f.t([]),this._options=new f.t({}),this._presence=new f.t([]),this._signs_of_life=new f.t([]),this._statuses={},this._users={},this._departments={},this._checked_in=new f.t([]),this.booking_rules=this._org.active_building.pipe((0,y.p)(me=>!!me),(0,R.n)(me=>(0,n.bpY)(me.id,"desk_booking_rules").pipe((0,m.W)(()=>(0,b.of)({details:[]})))),(0,v.T)(me=>me?.details instanceof Array?me.details:[]),(0,O.t)(1)),this.desk_list=this._state.level.pipe((0,S.B)(50),(0,R.n)(me=>(0,n.bpY)(me.id,"desks").pipe((0,m.W)(()=>(0,b.of)({details:[]})),(0,v.T)(he=>(he?.details instanceof Array?he.details:[]).map(Oe=>new C.g({...Oe,zone:me}))))),(0,m.W)(me=>[]),(0,O.t)(1)),this._bind=(0,d.zV)([this._state.level,this._state.options]).pipe((0,S.B)(300),(0,y.p)(([me,{is_public:he}])=>!!me&&!he),(0,v.T)(([me])=>{this._statuses={};const he=this._org.binding("area_management");if(!he)return;let Oe=(0,n.f_4)(he,"AreaManagement")?.binding(me.id);Oe&&(this.subscription("lvl-in_use",Oe.listen().subscribe(we=>this.processBindingChange(we||{},he))),this.subscription("lvl-in_use_bind",Oe.bind()))})),this._booking_list=(0,d.zV)([this._options,this._state.level]).pipe((0,y.p)(([me,he])=>(me.use_api||me.date>(0,l.D)(Date.now()).valueOf())&&!!he),(0,R.n)(([me,he])=>(0,U.tj)({type:"desk",period_start:(0,h._)((0,g.o)(me.date||Date.now())),period_end:(0,h._)((0,l.D)(me.date||Date.now())),zones:he.id})),(0,S.B)(200),(0,P.M)(me=>{this._in_use.next(me.map(he=>he.asset_id)),this._checked_in.next(me.filter(he=>he.checked_in).map(he=>he.asset_id))}),(0,O.t)(1)),this._state_change=(0,d.zV)([this.desk_list,this._in_use,this._presence,this._checked_in,this._signs_of_life,this.booking_rules,this._options]).pipe((0,S.B)(50),(0,v.T)(function(){var me=(0,e.A)(function*([he,Oe,we,We,Xe,Me]){oe._statuses={};const ge=yield oe._state.level.pipe((0,M.s)(1)).toPromise();for(const{id:pe,bookable:Ee}of he){const Ge=Oe.some(Pt=>pe===Pt),Qe=we.some(Pt=>pe===Pt),$e=Xe.some(Pt=>pe===Pt),tt=We.some(Pt=>pe===Pt)||Ge&&oe._settings.get("app.desk.auto_checkin"),xt=(0,I.RH)({date:Date.now(),duration:60,host:(0,I.Ny)(),resource:{id:pe,zones:[ge.parent_id,ge.id]}},Me)?.hidden;oe._statuses[pe]=Ee&&!xt?Ge||Qe||tt?Qe||tt?"busy":"pending":$e?"signs-of-life":"free":"not-bookable"}oe.processDesks(he)});return function(he){return me.apply(this,arguments)}}())),this.init()}init(){var k=this;return(0,e.A)(function*(){yield k._org.initialised.pipe((0,w.$)(j=>j)).toPromise(),k.setOptions({enable_booking:!1!==k._settings.get("app.desks.enable_maps")}),k.subscription("bookings",k._booking_list.subscribe()),k.subscription("bind",k._bind.subscribe()),k.subscription("booking_rules",k.booking_rules.subscribe()),k.subscription("changes",k._state_change.subscribe()),k.subscription("desks",k.desk_list.subscribe(j=>k.processDesks(j)))})()}setOptions(k){this._options.next({...this._options.getValue(),...k})}processBindingChange({value:k},j){const W=(k||[]).filter(me=>!["desk","booking"].includes(me.location)),ie=(k||[]).filter(me=>"desk"===me.location||"booking"===me.location&&"desk"===me.type);(this._options.getValue().date||Date.now())<=(0,l.D)(Date.now()).valueOf()&&!this._options.getValue().use_api&&(this._in_use.next(ie.filter(me=>"booking"===me.location).map(me=>me.map_id||me.asset_id)),this._checked_in.next(ie.filter(me=>"booking"===me.location&&me.checked_in).map(me=>me.map_id||me.asset_id)),this._presence.next(ie.filter(me=>me.at_location).map(me=>me.map_id||me.asset_id)),this._signs_of_life.next(ie.filter(me=>me.signs_of_life).map(me=>me.map_id||me.asset_id)));const oe=this._settings.get("app.department_map")||{};for(const me of ie)this._users[me.map_id||me.asset_id]=me.staff_name,this._departments[me.map_id||me.asset_id]=oe[me.department]||"";this.processDevices(W,j),this.timeout("update",()=>this.updateStatus(),100)}updateStatus(){const k={},j=this._settings.get("app.explore.colors")||{};for(const W in this._statuses)this._statuses[W]&&(k[`#${W}`]={fill:j[`desk-${this._statuses[W]}`]||j[`${this._statuses[W]}`]||F.U[`${this._statuses[W]}`]});this._state.setStyles("desks",k)}processDevices(k,j){const W=[];for(const ie of k){const ce=ie.x/ie.map_width,oe=ie.y/ie.map_height;W.push({track_id:`device:hover:${ce},${oe}`,location:{x:ie.coordinates_from?.includes("right")?1-ce:ce,y:ie.coordinates_from?.includes("bottom")?1-oe:oe},content:B.r,z_index:20,data:{...ie,system:j}})}this._state.setFeatures("devices",W)}processDesks(k){var j=this;const W=[],ie=[],ce=this._options.getValue();for(const oe of k){if(W.push({track_id:`desk:hover:${oe.map_id||oe.id}`,location:oe.id,content:A.Y,full_size:!0,no_scale:!0,data:{id:oe.map_id||oe.id,map_id:oe.name,name:oe.name||oe.map_id,user:this._users[oe.map_id]||oe.staff_name,status:this._statuses[oe.map_id],department:this._departments[oe.map_id]||""},z_index:20}),!oe.bookable)continue;let me=!0;const he=function(){var Oe=(0,e.A)(function*(){if(!me)return;if("free"!==j._statuses[oe.id])return(0,I.UG)(`${oe.name||"Desk"} is unavailable at this time.`);if(oe.groups?.length&&!oe.groups.find(ge=>(0,I.Ny)().groups.includes(ge)))return(0,I.UG)(`You are not allowed to book ${oe.name}.`);j._bookings.newForm(),j._bookings.setOptions({type:"desk"}),ce.date&&(j._bookings.form.patchValue({date:ce.date}),j._bookings.form.patchValue({all_day:!!ce.all_day}));let{date:we,duration:We,user:Xe}=yield j._setBookingTime(j._bookings.form.value.date,j._bookings.form.value.duration,j._options.getValue()?.custom??!1,oe);Xe=Xe||ce.host||(0,I.Ny)();const Me=Xe?.email;j._bookings.form.patchValue({resources:[oe],asset_id:oe.id,asset_name:oe.name,date:we,duration:ce.all_day?720:We,map_id:oe?.map_id||oe?.id,description:oe.name,user:Xe,user_email:Me,booking_type:"desk",zones:oe.zone?[oe.zone?.parent_id,oe.zone?.id]:[]}),yield j._bookings.confirmPost().catch(ge=>{throw console.log(ge),(0,I.UG)(`Failed to book desk ${oe.name||oe.id}. ${ge.message||ge.error||ge}`),ge}),j._users[oe.map_id]=(ce.host||(0,I.Ny)())?.name,(0,I.VX)(`Successfully booked desk ${oe.name||oe.id}`)});return function(){return Oe.apply(this,arguments)}}();["mousedown","touchstart"].forEach(Oe=>ie.push({id:oe.id,action:Oe,priority:10,callback:()=>{me=!0,this.timeout("booking",()=>me=!1)}})),["mouseup","touchend"].forEach(Oe=>ie.push({id:oe.id,action:Oe,priority:10,callback:he}))}this._state.setActions("desks",this._options.getValue().enable_booking?ie:[]),this._state.setFeatures("desks",W),this.timeout("update",()=>this.updateStatus(),100)}_setBookingTime(k,j,W=!1,ie=null){var ce=this;return(0,e.A)(function*(){let oe=null;if(ce._settings.get("app.desks.allow_time_changes")){const me=(0,l.D)((0,p.f)(Date.now(),ce._settings.get("app.desks.available_period")||90)),Oe=yield ce._dialog.open(D.A,{data:{date:k,duration:j,until:me,host:W,resource:ie}}).afterClosed().toPromise();if(!Oe)throw"User cancelled";k=Oe.date,j=Oe.duration,oe=Oe.user}return{date:k,duration:j,user:oe}})()}static#e=this.\u0275fac=function(j){return new(j||ne)(G.KVO($.O),G.KVO(_.y),G.KVO(I.h$),G.KVO(x.n),G.KVO(J.bZ))};static#t=this.\u0275prov=G.jDH({token:ne,factory:ne.\u0275fac})}return ne})()},1207:(gt,re,o)=>{"use strict";o.d(re,{r:()=>x});var e=o(467),n=o(5157),l=o(6863),h=o(2037),g=o(9707),p=o(4918),f=o(3953),b=o(177),d=o(2238);const y=["explore-device-info",""];function R(I,_){if(1&I&&(f.j41(0,"p",23)(1,"label"),f.pXf(2,4),f.k0s(),f.EFF(3),f.k0s()),2&I){const C=f.XpG(2);f.R7$(3),f.SpI(" ",C.mac," ")}}function m(I,_){if(1&I&&(f.j41(0,"p",24)(1,"label"),f.pXf(2,5),f.k0s(),f.EFF(3),f.k0s()),2&I){const C=f.XpG(2);f.R7$(3),f.SpI(" ",C.manufacturer," ")}}function v(I,_){if(1&I&&(f.j41(0,"p",25)(1,"label"),f.pXf(2,6),f.k0s(),f.EFF(3),f.k0s()),2&I){const C=f.XpG(2);f.R7$(3),f.SpI(" ",C.os," ")}}function O(I,_){if(1&I&&(f.j41(0,"p",26)(1,"label"),f.pXf(2,7),f.k0s(),f.EFF(3),f.k0s()),2&I){const C=f.XpG(2);f.R7$(3),f.SpI(" ",C.ssid," ")}}function S(I,_){if(1&I&&(f.j41(0,"p",27)(1,"label"),f.pXf(2,8),f.k0s(),f.EFF(3),f.k0s()),2&I){const C=f.XpG(2);f.R7$(3),f.SpI(" ",(null==C.user?null:C.user.name)||(null==C.user?null:C.user.username)||C.username," ")}}function P(I,_){if(1&I&&(f.j41(0,"p",28)(1,"label"),f.pXf(2,9),f.k0s(),f.EFF(3),f.k0s()),2&I){const C=f.XpG(2);f.R7$(3),f.SpI(" ",C.user.type," ")}}function M(I,_){if(1&I){const C=f.RV6();f.j41(0,"div",14),f.bIt("mouseleave",function(){f.eBV(C);const A=f.XpG();return f.Njj(A.close())}),f.nrm(1,"div",15),f.j41(2,"div",16),f.DNE(3,R,4,1,"p",17),f.j41(4,"p")(5,"label"),f.pXf(6,2),f.k0s(),f.EFF(7),f.k0s(),f.j41(8,"p")(9,"label"),f.pXf(10,3),f.k0s(),f.EFF(11),f.k0s(),f.DNE(12,m,4,1,"p",18)(13,v,4,1,"p",19)(14,O,4,1,"p",20)(15,S,4,1,"p",21)(16,P,4,1,"p",22),f.k0s()()}if(2&I){const C=f.XpG();f.R7$(3),f.Y8G("ngIf",C.mac&&!C.hide_fields.includes("mac")),f.R7$(4),f.SpI(" ",C.variance,"m"),f.R7$(4),f.SpI(" ",C.last_seen,""),f.R7$(),f.Y8G("ngIf",C.manufacturer&&!C.hide_fields.includes("manufacturer")),f.R7$(),f.Y8G("ngIf",C.os&&!C.hide_fields.includes("os")),f.R7$(),f.Y8G("ngIf",C.ssid&&!C.hide_fields.includes("ssid")),f.R7$(),f.Y8G("ngIf",C.username&&!C.hide_fields.includes("username")),f.R7$(),f.Y8G("ngIf",C.user&&!C.hide_fields.includes("user"))}}const w=[];let x=(()=>{class I extends g.Tv{get hide_fields(){return this._settings.get("app.explore.hide_device_fields")||w}get last_seen(){return(0,l.m)(1e3*(this._details.last_seen||0),{addSuffix:!0})}get diameter(){return 100*this._details.variance*this.zoom}get distance(){return Math.abs((0,h.o)(1e3*(this._details.last_seen||0),new Date))}get distance_color(){return this.distance<10?"#43a047":this.distance<20?"#ffb300":"#e53935"}constructor(C,D,A){super(),this._details=C,this._settings=D,this._element=A,this.username="",this.user=this._details.user,this.mac=this._details.mac,this.manufacturer=this._details.manufacturer,this.os=this._details.os,this.ssid=this._details.ssid,this.variance=this._details.variance?.toFixed(2),this.bg_color=this._details.bg_color||this.distance_color,this.zoom=1}ngOnInit(C=0){C>10||setTimeout(()=>{const D=this._element.nativeElement.parentElement?.parentElement;if(!D)return this.ngOnInit(++C);const A_y=parseInt(D.style.top,10)/100,A_x=parseInt(D.style.left,10)/100;this.y_pos=A_y>=.5?"bottom":"top",this.x_pos=A_x>=.5?"end":"start",this.subscription("zoom",this._details.zoom$.subscribe(B=>this.zoom=B))},200)}loadUser(){var C=this;return(0,e.A)(function*(){if(C.username)return;const D=(0,n.f_4)(C._details.system,"LocationServices");if(!D)return;C.username="Loading...";const A=yield D.execute("check_ownership_of",[C.mac]).catch(B=>null);C.username=A&&A.assigned_to?A.assigned_to:""})()}static#e=this.\u0275fac=function(D){return new(D||I)(f.rXU(p.N),f.rXU(g.h$),f.rXU(f.aKT))};static#t=this.\u0275cmp=f.VBU({type:I,selectors:[["","explore-device-info",""]],features:[f.Vt3],attrs:y,decls:7,vars:9,consts:()=>{let C,D,A,B,F,$,U,G;return C=$localize`:␟4e79bc7b2a23c2e4e80d256c8167411cf124bd20␟1921442792032576180:Accuracy:`,D=$localize`:␟1c564bebf178f9c70f2c66a80393137bfa0d2ea8␟5291488112436395082:Last Seen:`,A=$localize`:␟14802d5580219b4522c9c50e1a9f401aee191e1e␟5080596488336446120:MAC:`,B=$localize`:␟a082daef9c0b66268ce56dfa8d96d47a04d2c4b1␟6296767522110275448:Manufacturer:`,F=$localize`:␟5544405b325c518c94412239610d44250d5a223a␟2346706060395913038:OS:`,$=$localize`:␟afd0fc7b37f54299537ba2abc9babf749adf383e␟4345272263810420547:SSID:`,U=$localize`:␟67fc3fe0566f8700b84a908c35497759db78addc␟140822705245800362:Username:`,G=$localize`:␟e78c0d60ac39787f62c9159646fe0b3c1ed55a1d␟2736556170366900089:Type:`,[["dot",""],["device_tooltip",""],C,D,A,B,F,$,U,G,["name","radius",1,"radius","absolute","center","bg-info","bg-opacity-25","border-8","border-dashed","border-blue-600","rounded-full"],["shadow","",1,"absolute","center","bg-neutral","h-8","w-8","rounded-full"],["name","dot",1,"h-3","w-3","absolute","center","rounded-full","shadow","border-2","border-white"],["customTooltip","",1,"absolute","inset-0","pointer-events-auto",3,"mouseenter","content","backdrop","xPosition","yPosition","hover"],["name","device-info",1,"w-64","rounded","bg-base-100","p-4","top-0","left-0","shadow","pointer-events-none","mx-2",3,"mouseleave"],[1,"arrow"],[1,"details"],["class","break-words",4,"ngIf"],["type","",4,"ngIf"],["os","",4,"ngIf"],["ssid","",4,"ngIf"],["username","",4,"ngIf"],["user","",4,"ngIf"],[1,"break-words"],["type",""],["os",""],["ssid",""],["username",""],["user",""]]},template:function(D,A){if(1&D){const B=f.RV6();f.nrm(0,"div",10)(1,"div",11)(2,"div",12,0),f.j41(4,"div",13),f.bIt("mouseenter",function(){return f.eBV(B),f.Njj(A.loadUser())}),f.k0s(),f.DNE(5,M,17,8,"ng-template",null,1,f.C5r)}if(2&D){const B=f.sdS(6);f.Aen("height: "+A.diameter+"%; width: "+A.diameter+"%;"),f.R7$(2),f.xc7("background-color",A.bg_color),f.R7$(2),f.Y8G("content",B)("backdrop",!1)("xPosition",A.x_pos)("yPosition",A.y_pos)("hover",!0)}},dependencies:[b.bT,d.I],styles:["[_nghost-%COMP%]{pointer-events:auto}[_nghost-%COMP%] > [name=dot][_ngcontent-%COMP%]{background-color:#616161}[_nghost-%COMP%]:hover > [name=radius][_ngcontent-%COMP%]{opacity:1}[name=radius][_ngcontent-%COMP%]{opacity:0;transition:opacity .2s;pointer-events:none}"]})}return I})()},4810:(gt,re,o)=>{"use strict";o.d(re,{B:()=>f});var e=o(4351),n=o(795),l=o(3953),h=o(4006),g=o(2238);function p(b,d){if(1&b&&(l.j41(0,"div",3)(1,"h3",4),l.EFF(2),l.k0s(),l.j41(3,"p",5),l.EFF(4),l.k0s()()),2&b){const y=l.XpG();l.HbH("absolute rounded bg-base-100 p-4 top-0 left-0 shadow pointer-events-none "+y.x_pos+" "+y.y_pos),l.Y8G("id",y.map_id),l.R7$(2),l.JRh(y.bank.name),l.R7$(2),l.Lme(" ",y.in_use_count," lockers in use of ",y.bank.lockers.length||1," ")}}let f=(()=>{class b{constructor(y,R,m){this._details=y,this._element=R,this._dialog=m,this.bank=this._details.bank,this.in_use_count=this._details.in_use_count}ngOnInit(y=0){y>10||setTimeout(()=>{const R=this._element.nativeElement.parentElement?.parentElement;if(!R)return this.ngOnInit(++y);const m_y=parseInt(R.style.top,10)/100,m_x=parseInt(R.style.left,10)/100;this.y_pos=m_y>=.5?"bottom":"top",this.x_pos=m_x>=.5?"right":"left"},200)}openBankModal(){this._dialog.open(n.c,{data:{...this._details}})}static#e=this.\u0275fac=function(R){return new(R||b)(l.rXU(e.Nw),l.rXU(l.aKT),l.rXU(h.bZ))};static#t=this.\u0275cmp=l.VBU({type:b,selectors:[["explore-locker-bank-info"]],decls:4,vars:6,consts:[["desk_tooltip",""],[1,"h-full","w-full","pointer-events-auto","relative",3,"click"],["customTooltip","",1,"h-full","w-full","pointer-events-auto","relative",3,"content","backdrop","xPosition","yPosition","hover","delay"],["name","space-info",3,"id"],[1,"font-medium"],[1,"whitespace-nowrap","text-sm"]],template:function(R,m){if(1&R){const v=l.RV6();l.j41(0,"button",1),l.bIt("click",function(){return l.eBV(v),l.Njj(m.openBankModal())}),l.nrm(1,"div",2),l.k0s(),l.DNE(2,p,5,6,"ng-template",null,0,l.C5r)}if(2&R){const v=l.sdS(3);l.R7$(),l.Y8G("content",v)("backdrop",!1)("xPosition","center")("yPosition","center")("hover",!0)("delay",3e3)}},dependencies:[g.I]})}return b})()},795:(gt,re,o)=>{"use strict";o.d(re,{c:()=>f});var e=o(4006),l=(o(8796),o(3953)),h=o(9434),g=o(6600),p=o(4854);let f=(()=>{class b{constructor(y){this._data=y,this.bank=this._data.bank,this.lockers=this._data.lockers.reduce((R,m)=>(R[m.id]="busy",R),{})}static#e=this.\u0275fac=function(R){return new(R||b)(l.rXU(e.Vh))};static#t=this.\u0275cmp=l.VBU({type:b,selectors:[["explore-locker-bank-modal"]],decls:8,vars:3,consts:[[1,"text-xl","font-medium"],["btn","","icon","","matRipple","","mat-dialog-close",""],[1,"h-[65vh]","overflow-hidden"],[3,"bank","bank_status"]],template:function(R,m){1&R&&(l.j41(0,"header")(1,"h2",0),l.EFF(2),l.k0s(),l.j41(3,"button",1)(4,"app-icon"),l.EFF(5,"close"),l.k0s()()(),l.j41(6,"main",2),l.nrm(7,"locker-grid",3),l.k0s()),2&R&&(l.R7$(2),l.JRh(m.bank.name),l.R7$(5),l.Y8G("bank",m.bank)("bank_status",m.lockers))},dependencies:[h.R,g.r6,e.tx,p.E]})}return b})()},9591:(gt,re,o)=>{"use strict";o.d(re,{K:()=>O});var e=o(8796),n=o(2455),l=o(9707),h=o(5006),g=o(8728),p=o(9928),f=o(9714),b=o(4421),d=o(5157),y=o(2185),R=o(4810),m=o(5897),v=o(3953);let O=(()=>{class S extends l.Tv{constructor(M,w,x,I){super(),this._lockers=M,this._explore=w,this._org=x,this._settings=I,this._status=new p.t([]),this.lockers$=this._lockers.filtered_lockers$,this.status=(0,f.zV)([this._explore.level,this._explore.options,this._org.active_building]).pipe((0,h.T)(([_,{is_public:C}])=>{if(!_||C)return[];const D=this._org.binding("area_management");if(!D)return(0,b.of)({});let A=(0,d.f_4)(D,"AreaManagement").binding(_.id);this.subscription("lvl-in_use",A.listen().subscribe(B=>this._status.next(B?.value?.filter(F=>"locker"===F.location)||[]))),this.subscription("lvl-in_use_bind",A.bind())})),this.locker_status=(0,f.zV)([this._explore.level,this._lockers.lockers_banks$,this.lockers$,this._status]).pipe((0,h.T)(([_,C,D,A])=>{if(!_)return[];const B=[],F={},$=this._settings.get("app.explore.colors")||{},U=(0,l.Am)(C.filter(G=>G.level_id===_.id).map(G=>G.id));for(const G of U){const J=D.filter(j=>j.bank_id===G);let te=0;for(const j of J)te+=A.find(ie=>ie.locker_id===j.id&&ie.allocated)?1:0;const ne=C.find(j=>j.id===G);B.push({location:ne.map_id,content:R.B,full_size:!0,no_scale:!0,z_index:20,data:{bank:ne,lockers:D,in_use_count:te,locker_count:J.length,system:this._org.binding("area_management")}});const K=te/J.length,k=K>.8?"busy":K>.3?"pending":"free";F[`#${ne.map_id}`]={fill:$[`lockers-${k}`]||$[`${k}`]||m.U[`${k}`]}}this._explore.setStyles("lockers",F),this._explore.setFeatures("lockers",B)})),this.subscription("level",this._explore.level.pipe((0,g.p)(_=>!!_)).subscribe(_=>this._lockers.setLevel(_.id))),this.subscription("status",this.status.subscribe()),this.subscription("locker_status",this.locker_status.subscribe())}static#e=this.\u0275fac=function(w){return new(w||S)(v.KVO(e.$),v.KVO(n.O),v.KVO(y.yb),v.KVO(l.h$))};static#t=this.\u0275prov=v.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})()},468:(gt,re,o)=>{"use strict";o.d(re,{O:()=>M});var e=o(467),n=o(9707),l=o(4046),h=o(8026),g=o(2455),p=o(3953),f=o(2091),b=o(177),d=o(6600),y=o(3719),R=o(2798),m=o(9417);function v(w,x){if(1&w&&(p.j41(0,"mat-option",6),p.EFF(1),p.k0s()),2&w){const I=x.$implicit;p.Y8G("value",I),p.R7$(),p.SpI(" ",I.display_name||I.name," ")}}function O(w,x){if(1&w){const I=p.RV6();p.j41(0,"mat-form-field",3)(1,"mat-select",4),p.nI1(2,"async"),p.bIt("ngModelChange",function(C){p.eBV(I);const D=p.XpG();return p.Njj(D.setBuilding(C))}),p.DNE(3,v,2,2,"mat-option",5),p.nI1(4,"async"),p.k0s()()}if(2&w){const I=p.XpG();p.R7$(),p.Y8G("ngModel",p.bMT(2,2,I.building)),p.R7$(2),p.Y8G("ngForOf",p.bMT(4,4,I.buildings))}}function S(w,x){if(1&w&&(p.j41(0,"mat-option",6),p.EFF(1),p.k0s()),2&w){const I=x.$implicit;p.Y8G("value",I),p.R7$(),p.SpI(" ",I.display_name||I.name," ")}}function P(w,x){if(1&w){const I=p.RV6();p.j41(0,"mat-form-field",7),p.nI1(1,"async"),p.j41(2,"mat-select",8),p.nI1(3,"async"),p.bIt("ngModelChange",function(C){p.eBV(I);const D=p.XpG();return p.Njj(D.setLevel(C))}),p.DNE(4,S,2,2,"mat-option",5),p.nI1(5,"async"),p.k0s()()}if(2&w){let I;const _=p.XpG();p.BMQ("has-bld",(null==(I=p.bMT(1,3,_.buildings))?null:I.length)>1),p.R7$(2),p.Y8G("ngModel",p.bMT(3,5,_.level)),p.R7$(2),p.Y8G("ngForOf",p.bMT(5,7,_.levels))}}let M=(()=>{class w extends n.Tv{constructor(I,_,C,D){super(),this._org=I,this._state=_,this._router=C,this._route=D,this.buildings=this._org.active_buildings,this.building=this._org.active_building,this.levels=this._org.active_levels,this.level=this._state.level,this.setLevel=A=>{this._state.setFeatures("_located",[]),this.timeout("set_level",()=>this._router.navigate([],{relativeTo:this._route,queryParams:{zone:A.id}}),201)},this.setBuilding=A=>this._org.building=A}ngOnInit(){var I=this;return(0,e.A)(function*(){yield I._org.initialised.pipe((0,l.$)(_=>_)).toPromise(),I.subscription("route.query",I._route.queryParamMap.subscribe(_=>_.has("zone")?I._state.setLevel(_.get("zone")):""))})()}static#e=this.\u0275fac=function(_){return new(_||w)(p.rXU(h.y),p.rXU(g.O),p.rXU(f.Ix),p.rXU(f.nX))};static#t=this.\u0275cmp=p.VBU({type:w,selectors:[["explore-map-controls"]],features:[p.Vt3],decls:5,vars:6,consts:()=>{let I,_;return I=$localize`:␟dea1f8bc2b32584fadf07ef815709b946d3726ff␟1533056789917995243:Select Building...`,_=$localize`:␟025373b97845a8c2b54d2eb17d9c479f64207b11␟7854898325453225869:Select Level...`,[[1,"flex","space-x-2","w-full"],["overlay","","buildings","","class","flex-1 min-w-[10.5rem] no-subscript","has-bld","true","appearance","outline",4,"ngIf"],["overlay","","levels","","class","flex-1 min-w-[10.25rem] no-subscript","appearance","outline",4,"ngIf"],["overlay","","buildings","","has-bld","true","appearance","outline",1,"flex-1","min-w-[10.5rem]","no-subscript"],["placeholder",I,3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["overlay","","levels","","appearance","outline",1,"flex-1","min-w-[10.25rem]","no-subscript"],["placeholder",_,3,"ngModelChange","ngModel"]]},template:function(_,C){if(1&_&&(p.j41(0,"div",0),p.DNE(1,O,5,6,"mat-form-field",1),p.nI1(2,"async"),p.DNE(3,P,6,9,"mat-form-field",2),p.nI1(4,"async"),p.k0s()),2&_){let D,A;p.R7$(),p.Y8G("ngIf",(null==(D=p.bMT(2,2,C.buildings))?null:D.length)>1),p.R7$(2),p.Y8G("ngIf",null==(A=p.bMT(4,4,C.levels))?null:A.length)}},dependencies:[b.Sq,b.bT,d.wT,y.rl,R.VO,m.BC,m.vS,b.Jj],styles:["mat-form-field[has-bld=true][_ngcontent-%COMP%]{max-width:calc(50vw - 2.5rem)}[full][_nghost-%COMP%]   mat-form-field[_ngcontent-%COMP%]{max-width:calc(50% - 2.5rem)}"]})}return w})()},3134:(gt,re,o)=>{"use strict";o.d(re,{k:()=>ne});var e=o(467),n=o(5157),l=o(9493),h=o(4046),g=o(9707),p=o(8390),f=o(7401),b=o(1865),d=o(5384),y=o(8026),R=o(2011),m=o(2455),v=o(5897),O=o(1369),S=o(1104),P=o(4498),M=o(9591),w=o(9420),x=o(3953),I=o(2091),_=o(177),C=o(4918),D=o(450),A=o(9417),B=o(468);const F=()=>({controls:!0});function $(K,k){if(1&K){const j=x.RV6();x.j41(0,"div",7)(1,"mat-slide-toggle",8),x.nI1(2,"async"),x.bIt("ngModelChange",function(ie){x.eBV(j);const ce=x.XpG(2);return x.Njj(ce.toggleZones(ie))}),x.k0s(),x.j41(3,"label",9),x.pXf(4,0),x.k0s()()}if(2&K){let j;const W=x.XpG(2);x.R7$(),x.Y8G("ngModel",!(null!=(j=x.bMT(2,1,W.options))&&null!=j.disable&&j.disable.includes("zones")))}}function U(K,k){if(1&K&&(x.j41(0,"div",5),x.nrm(1,"explore-map-controls"),x.DNE(2,$,5,3,"div",6),x.k0s()),2&K){const j=x.XpG();x.R7$(2),x.Y8G("ngIf",!j.hide_zones)}}function G(K,k){if(1&K&&(x.j41(0,"div",7),x.nrm(1,"div",13),x.j41(2,"div",14),x.EFF(3),x.k0s()()),2&K){const j=k.$implicit;x.R7$(),x.xc7("background-color",j[1]),x.R7$(2),x.JRh(j[0])}}function J(K,k){if(1&K&&(x.j41(0,"div",10)(1,"h3",11),x.pXf(2,1),x.k0s(),x.DNE(3,G,4,3,"div",12),x.k0s()),2&K){const j=x.XpG();x.R7$(3),x.Y8G("ngForOf",j.legend)}}const te=[];let ne=(()=>{class K extends g.Tv{toggleZones(j){var W=this;return(0,e.A)(function*(){const ie=yield W.options.pipe((0,l.s)(1)).toPromise(),ce=j?ie.disable?.filter(oe=>"zones"!==oe&&"devices"!==oe)||[]:(0,g.Am)([...ie.disable||[],"zones","devices"]);W.setOptions({disable:ce})})()}get show_legend(){return!!this._settings.get("app.explore.show_legend")}get hide_zones(){return!!this._settings.get("app.explore.hide_zones")}get legend(){return this._settings.get("app.explore.legend")||te}constructor(j,W,ie,ce,oe,me,he,Oe,we,We,Xe,Me,ge){super(),this._state=j,this._s=W,this._desks=ie,this._zones=ce,this._parking=oe,this._lockers=me,this._route=he,this._router=Oe,this._spaces=we,this._org=We,this._settings=Xe,this._space_pipe=Me,this._maps=ge,this.url=this._state.map_url,this.styles=this._state.map_styles,this.positions=this._state.map_positions,this.features=this._state.map_features,this.actions=this._state.map_actions,this.labels=this._state.map_labels,this.options=this._state.options,this.message=this._state.message,this.setOptions=pe=>this._state.setOptions(pe),this.locate="",this.use_mapsindoors$=this._maps.available$}ngOnInit(){var j=this;return(0,e.A)(function*(){j._state.reset(),yield j._spaces.initialised.pipe((0,h.$)(W=>W)).toPromise(),j.toggleZones(!1),j.subscription("parking_poll",j._parking.startPolling()),j.subscription("route.query",j._route.queryParamMap.subscribe(function(){var W=(0,e.A)(function*(ie){if((ie.has("level")||ie.has("zone"))&&j._state.setLevel(ie.get("level")||ie.get("zone")),j._state.setFeatures("_located",[]),ie.has("space"))j.locateSpace(ie.get("space"));else if(ie.has("user")){let ce=j._settings.value("last_search");if((!ce||ie.get("user")!==ce.email)&&(ce=null,ce=yield(0,p.SZ)(ie.get("user")).toPromise()),!ce)return(0,g.UG)(`Unable to user details for ${ie.get("user")}`);j.locateUser(ce instanceof Array?ce[0]:ce).catch(oe=>{(0,g.UG)(`Unable to locate ${ie.get("user")}`),j._router.navigate([],{relativeTo:j._route,queryParams:{}})})}else ie.has("locate")?j._locateFeature(ie.get("locate"),ie.get("name")):j.timeout("update_location",()=>{j._state.setFeatures("_located",[])})});return function(ie){return W.apply(this,arguments)}}()))})()}updateZoom(j){this._state.setPositions(j,this._state.positions.center)}updateCenter(j){this._state.setPositions(this._state.positions.zoom,j)}_locateFeature(j,W=""){const ie=j.includes(","),ce=j.split(","),oe={track_id:`locate-${j}`,location:ie?{x:parseFloat(ce[0]),y:parseFloat(ce[1])}:j,content:b.V,z_index:99,data:{message:W}};this.locate=j,this.timeout("update_location",()=>this._state.setFeatures("_located",[oe]))}locateSpace(j){var W=this;return(0,e.A)(function*(){const ie=yield W._space_pipe.transform(j);if(!ie)return(0,g.UG)("Unable to load space details.");W._state.setLevel(W._org.levelWithID(ie.zones)?.id);const ce={track_id:`locate-${ie.id}`,location:ie.map_id,content:b.V,z_index:99,data:{message:`${ie.display_name||ie.name} is here`}};W.timeout("update_location",()=>W._state.setFeatures("_located",[ce]))})()}locateUser(j){var W=this;return(0,e.A)(function*(){let ie=W._org.binding("location_services");if(!ie)throw"Location services is not setup for this application.";"string"==typeof ie&&(ie={system_id:ie,module:"LocationServices",priority:[]});const oe=(yield(0,n.f_4)(ie.system_id,ie.module).execute("locate_user",[j.email,j.username||j.id])).map(we=>new p.g8(we));if(oe.sort((we,We)=>ie.priority.indexOf(we.type)-ie.priority.indexOf(We.type)),!oe?.length)throw"No locations for the given user";W._state.setLevel(W._org.levelWithID([oe[0]?.level])?.id);const me=oe[0].position,{coordinates_from:he}=oe[0],Oe={track_id:`locate-${j.id}`,location:"wireless"===oe[0].type?{x:he?.includes("right")?1-me.x:me.x,y:he?.includes("bottom")?1-me.y:me.y}:me,content:"wireless"===oe[0].type?d.o:b.V,z_index:99,data:{message:`${j.name} is here`,radius:oe[0].variance,last_seen:oe[0].last_seen}};W.timeout("update_location",()=>{W._state.setFeatures("_located",[Oe])})})()}static#e=this.\u0275fac=function(W){return new(W||K)(x.rXU(m.O),x.rXU(v.s),x.rXU(S.v),x.rXU(O.M),x.rXU(P.X),x.rXU(M.K),x.rXU(I.nX),x.rXU(I.Ix),x.rXU(f.b),x.rXU(y.y),x.rXU(g.h$),x.rXU(R.J),x.rXU(w._))};static#t=this.\u0275cmp=x.VBU({type:K,selectors:[["explore-map-view"]],features:[x.Jv_([S.v,v.s,O.M,P.X,M.K,R.J]),x.Vt3],decls:9,vars:22,consts:()=>{let j,W;return j=$localize`:␟dab9a30ea9f109a7395ec84fe144c4f70d50c32d␟4377629928032707348:Zones`,W=$localize`:␟5c5419db944ed6a96f9515a2ac0ee390ec8cf3b5␟7297822327994766046:Legend`,[j,W,[3,"src","styles","features","actions","labels","focus","options"],["controls","","class","absolute top-2 left-2 max-w-[calc(100vw-1rem)] bg-base-100 border border-base-200 rounded p-2 space-y-2 overflow-hidden",4,"ngIf"],["legend","","class","absolute bottom-2 left-2 p-2 rounded bg-base-100 border border-base-200",4,"ngIf"],["controls","",1,"absolute","top-2","left-2","max-w-[calc(100vw-1rem)]","bg-base-100","border","border-base-200","rounded","p-2","space-y-2","overflow-hidden"],["class","flex items-center space-x-2",4,"ngIf"],[1,"flex","items-center","space-x-2"],["name","zones",1,"ml-2",3,"ngModelChange","ngModel"],["for","zones",1,"mb-0"],["legend","",1,"absolute","bottom-2","left-2","p-2","rounded","bg-base-100","border","border-base-200"],[1,"mb-2","font-medium"],["class","flex items-center space-x-2",4,"ngFor","ngForOf"],[1,"w-3","h-3","rounded-full","border","border-base-200"],[1,"text-sm"]]},template:function(W,ie){1&W&&(x.nrm(0,"interactive-map",2),x.nI1(1,"async"),x.nI1(2,"async"),x.nI1(3,"async"),x.nI1(4,"async"),x.nI1(5,"async"),x.DNE(6,U,3,1,"div",3),x.nI1(7,"async"),x.DNE(8,J,4,1,"div",4)),2&W&&(x.Y8G("src",x.bMT(1,9,ie.url))("styles",x.bMT(2,11,ie.styles))("features",x.bMT(3,13,ie.features))("actions",x.bMT(4,15,ie.actions))("labels",x.bMT(5,17,ie.labels))("focus",ie.locate)("options",x.lJ4(21,F)),x.R7$(6),x.Y8G("ngIf",!x.bMT(7,19,ie.use_mapsindoors$)),x.R7$(2),x.Y8G("ngIf",ie.show_legend&&ie.legend.length))},dependencies:[_.Sq,_.bT,C.S,D.sG,A.BC,A.vS,B.O,_.Jj],styles:["[_nghost-%COMP%]{height:100%;width:100%}[zones][_ngcontent-%COMP%]{top:3.5rem}"]})}return K})()},7889:(gt,re,o)=>{"use strict";o.d(re,{N:()=>p});var e=o(9707),n=o(4351),l=o(3953),h=o(177);function g(f,b){if(1&f&&(l.j41(0,"div",7)(1,"div",8),l.EFF(2," Plate Number "),l.k0s(),l.j41(3,"div",9),l.EFF(4),l.k0s()()),2&f){const d=l.XpG();l.R7$(4),l.SpI(" ",d.plate_number||"ABC3"," ")}}let p=(()=>{class f{get is_concierge(){return this._settings.app_name.toLowerCase().includes("concierge")}constructor(d,y,R){this._data=d,this._element=y,this._settings=R,this.status=this._data.assigned_to===this._data.user&&this._data.user?"reserved":this._data.status,this.user=this._data.user,this.name=this._data.name,this.map_id=this._data.map_id,this.plate_number=this._data.plate_number}static#e=this.\u0275fac=function(y){return new(y||f)(l.rXU(n.Nw),l.rXU(l.aKT),l.rXU(e.h$))};static#t=this.\u0275cmp=l.VBU({type:f,selectors:[["explore-parking-info"]],decls:9,vars:15,consts:[[1,"absolute","bg-base-300","p-2","rounded-lg","!rounded-tl-none","shadow","top-1/2","left-1/2","text-left"],[1,"absolute","top-0.5","left-0.5","triangle"],[1,"flex","space-x-2"],[1,"flex","flex-col","leading-tight","min-w-24","pl-1"],[1,"whitespace-nowrap"],[1,"capitalize","text-sm","font-medium"],["class","flex flex-col relative h-full px-2 rounded bg-base-100 text-base-content shadow leading-tight",4,"ngIf"],[1,"flex","flex-col","relative","h-full","px-2","rounded","bg-base-100","text-base-content","shadow","leading-tight"],[1,"text-[0.625rem]","w-full","text-center","pt-1","whitespace-nowrap","font-medium"],[1,"font-mono","pb-1","w-full","text-center","uppercase"]],template:function(y,R){1&y&&(l.j41(0,"div",0),l.nrm(1,"div",1),l.j41(2,"div",2)(3,"div",3)(4,"div",4),l.EFF(5),l.k0s(),l.j41(6,"div",5),l.EFF(7),l.k0s()(),l.DNE(8,g,5,1,"div",6),l.k0s()()),2&y&&(l.AVh("!bg-error","busy"===R.status)("!text-error-content","busy"===R.status)("!bg-warning","reserved"===R.status)("!text-warning-content","reserved"===R.status)("!bg-success","free"===R.status)("!text-success-content","free"===R.status),l.R7$(5),l.JRh(R.name),l.R7$(2),l.SpI(" ",R.status," "),l.R7$(),l.Y8G("ngIf",R.is_concierge&&R.plate_number))},dependencies:[h.bT],styles:[".triangle[_ngcontent-%COMP%]{width:0px;height:0px;border-style:solid;border-width:.5rem .5rem 0 0;border-color:currentColor transparent transparent transparent;transform:rotate(0)}"]})}return f})()},4498:(gt,re,o)=>{"use strict";o.d(re,{X:()=>G});var e=o(467),n=o(9707),l=o(5157),h=o(5987),g=o(2357),p=o(350),f=o(3601),b=o(4512),d=o(906),y=o(9928),R=o(9714),m=o(4421),v=o(696),O=o(5006),S=o(3020),P=o(9090),M=o(8712),w=o(9493),x=o(8026),I=o(5645),_=o(2455),C=o(5897),D=o(8379),A=o(7146),B=o(7889),F=o(1593),$=o(3953),U=o(4006);let G=(()=>{class J extends n.Tv{constructor(ne,K,k,j,W,ie){super(),this._org=ne,this._state=K,this._settings=k,this._bookings=j,this._parking=W,this._dialog=ie,this._options=new y.t({}),this._poll=new y.t(0),this.options=this._options.asObservable(),this.on_book=null,this.levels=this._org.active_levels.pipe((0,O.T)(ce=>ce.filter(oe=>oe.tags.includes("parking")))),this.events=(0,R.zV)([this._org.active_building,this._options,this._poll,this._state.options]).pipe((0,S.B)(300),(0,P.n)(([ce,oe,me,{is_public:he}])=>he?(0,m.of)([]):(0,I.tj)({period_start:(0,h._)((0,g.c)(oe.date||Date.now())),period_end:(0,h._)((0,p.V)(oe.date||Date.now())),type:"parking",zones:this._settings.get("app.use_region")?ce?.parent_id:ce?.id})),(0,M.t)(1)),this.user_events=(0,R.zV)([this._options]).pipe((0,P.n)(([ce])=>(0,I.tj)({period_start:(0,h._)((0,f.o)(ce.date||Date.now())),period_end:(0,h._)((0,b.D)(ce.date||Date.now())),type:"parking",email:ce?.user||(0,n.Ny)()?.email})),(0,M.t)(1)),this.spaces=this.levels.pipe((0,P.n)(ce=>(0,v.p)(ce.map(oe=>(0,l.bpY)(oe.id,"parking-spaces").pipe((0,O.T)(me=>(me.details instanceof Array?me.details:[]).map(he=>({...he,zone_id:oe.id}))))))),(0,O.T)(ce=>(0,n.Bq)(ce)),(0,M.t)(1)),this.active_spaces=(0,R.zV)([this.spaces,this._state.level]).pipe((0,O.T)(([ce,oe])=>ce.filter(me=>me.zone_id===oe.id))),this._users={},this._plate_numbers={},this.available_spaces=(0,R.zV)([this.events,this.active_spaces,this._parking.users]).pipe((0,O.T)(([ce,oe,me])=>{const he=oe.filter(Oe=>{const we=ce.find(Me=>Me.asset_id===Oe.id),We=`${we?.user_email||Oe.assigned_to||""}`.toLowerCase(),Xe=me.find(Me=>Me.email.toLowerCase()===We.toLowerCase());return this._users[Oe.id]=We,this._plate_numbers[Oe.id]=we?.extension_data?.plate_number||Xe?.plate_number||void 0,!We});return this._updateParkingSpaces(oe,he),he})),this.subscription("spaces",this.available_spaces.subscribe()),this.setOptions({enable_booking:!1!==this._settings.get("app.parking.enable_maps")})}startPolling(){return this.interval("poll",()=>this._poll.next(Date.now()),1e4),this._poll.next(Date.now()),()=>this.stopPolling()}stopPolling(){this.clearInterval("poll")}setOptions(ne){this._options.next({...this._options.getValue(),...ne})}_updateParkingSpaces(ne,K){var k=this;return(0,e.A)(function*(){const j={},W=[],ie=[],ce=k._settings.get("app.explore.colors")||{};let oe=k._options.getValue();yield k._parking.assigned_space.pipe((0,w.s)(1)).toPromise();const he=yield k._parking.deny_parking_access.pipe((0,w.s)(1)).toPromise(),Oe=yield k._parking.booked_space.pipe((0,w.s)(1)).toPromise();for(const we of ne){const We=!!K.find(pe=>pe.id===we.id),Xe=!!we.assigned_to,Me=We?"free":Xe?"pending":"busy";if(j[`#${we.map_id}`]={fill:ce[`parking-${Me}`]||ce[`${Me}`]||C.U[`${Me}`],opacity:.6},W.push({location:`${we.map_id}`,content:B.N,z_index:20,hover:!0,data:{...we,user:k._users[we.id],plate_number:k._plate_numbers[we.id],status:"pending"===Me&&Xe?"reserved":Me}}),!We)continue;const ge=function(){var pe=(0,e.A)(function*(){if(k.on_book)return yield k.on_book(we),void k._poll.next(Date.now());if(he)return(0,n.UG)(`Your user account has been denied parking access to ${we.zone?.display_name||we.zone?.name}.`);if(Xe)return(0,n.UG)(`You are already assigned to parking space "${we.name||we.id}".`);if(Oe?.find(xt=>xt.id===we.id))return(0,n.UG)("You already have a parking space booked for the selected time.");if("free"!==Me)return(0,n.UG)(`${we.name||"Parking Space"} is unavailable at this time.`);if(we.groups?.length&&!we.groups.find(xt=>(0,n.Ny)().groups.includes(xt)))return(0,n.UG)(`You are not allowed to book ${we.name}.`);k._bookings.newForm(),k._bookings.setOptions({type:"parking"}),oe=k._options.getValue(),oe.date&&(k._bookings.form.patchValue({date:oe.date}),k._bookings.form.patchValue({all_day:!!oe.all_day}));let{date:Ee,duration:Ge,user:Qe}=yield k._setBookingTime(k._bookings.form.value.date,k._bookings.form.value.duration,k._options.getValue()?.custom??!1,we);Qe=Qe||oe.host||(0,n.Ny)();const $e=Qe?.email,tt=k._state.active_level;k._bookings.form.patchValue({resources:[we],asset_id:we.id,asset_name:we.name,date:Ee,duration:oe.all_day?720:Ge,map_id:we?.map_id||we?.id,description:we.name,user:Qe,user_email:$e,booking_type:"parking",zones:we.zone?[we.zone?.parent_id,we.zone?.id]:[tt.parent_id,tt.id]}),yield k._bookings.confirmPost().catch(xt=>{throw"User cancelled"===xt||(0,n.UG)(`Failed to book parking space ${we.name||we.id}. ${xt.message||xt.error||xt}`),xt}),(0,n.VX)(`Successfully booked parking space ${we.name||we.id}`),k._poll.next(Date.now())});return function(){return pe.apply(this,arguments)}}();ie.push({id:we?.map_id||we?.id,action:"click",priority:10,callback:ge})}k._state.setActions("parking",oe.enable_booking?ie:[]),k._state.setStyles("parking",j),k._state.setFeatures("parking",W)})()}_setBookingTime(ne,K,k=!1,j=null){var W=this;return(0,e.A)(function*(){let ie=null;if(W._settings.get("app.parking.allow_time_changes")){const ce=(0,b.D)((0,d.f)(Date.now(),W._settings.get("app.parking.available_period")||90)),me=yield W._dialog.open(A.A,{data:{date:ne,duration:K,until:ce,host:k,resource:j}}).afterClosed().toPromise();if(!me)throw"User cancelled";ne=me.date,K=me.duration,ie=me.user}return{date:ne,duration:K,user:ie}})()}static#e=this.\u0275fac=function(K){return new(K||J)($.KVO(x.y),$.KVO(_.O),$.KVO(n.h$),$.KVO(D.n),$.KVO(F.w),$.KVO(U.bZ))};static#t=this.\u0275prov=$.jDH({token:J,factory:J.\u0275fac})}return J})()},9303:(gt,re,o)=>{"use strict";o.d(re,{P:()=>v});var e=o(9707),n=o(4351),l=o(3953),h=o(177),g=o(9434),p=o(2238),f=o(6600);function b(O,S){if(1&O&&(l.j41(0,"div",5)(1,"app-icon"),l.EFF(2,"thermostat"),l.k0s(),l.j41(3,"div",6),l.EFF(4),l.k0s()()),2&O){const P=l.XpG(2);l.R7$(4),l.SpI("",P.temp,"\u02daF")}}function d(O,S){if(1&O&&(l.j41(0,"div",5)(1,"app-icon"),l.EFF(2,"opacity"),l.k0s(),l.j41(3,"div",6),l.EFF(4),l.k0s()()),2&O){const P=l.XpG(2);l.R7$(4),l.SpI("",P.humidity,"%")}}function y(O,S){1&O&&(l.j41(0,"div",7)(1,"app-icon",8),l.EFF(2,"error"),l.k0s()())}function R(O,S){if(1&O&&(l.j41(0,"div",2),l.DNE(1,b,5,1,"div",3)(2,d,5,1,"div",3)(3,y,3,0,"div",4),l.k0s()),2&O){const P=l.XpG();l.R7$(),l.Y8G("ngIf",P.temp),l.R7$(),l.Y8G("ngIf",P.humidity),l.R7$(),l.Y8G("ngIf",P.temp>82)}}let m="",v=(()=>{class O extends e.Tv{get show(){return m===this._details.id}set show(P){this.timeout("show",()=>m=P?this._details.id:"")}constructor(P){super(),this._details=P,this.temp=this._details.temp||0,this.humidity=this._details.humidity||0}static#e=this.\u0275fac=function(M){return new(M||O)(l.rXU(n.Nw))};static#t=this.\u0275cmp=l.VBU({type:O,selectors:[["explore-sensor-info"]],features:[l.Vt3],decls:5,vars:1,consts:[["stats",""],["icon","","matRipple","","customTooltip","","yPosition","center","xPosition","center",1,"absolute","top-1/2","left-1/2","w-7","h-7","min-w-0","-translate-x-1/2","-translate-y-1/2","bg-base-100","shadow","pointer-events-auto",3,"content"],[1,"absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2","bg-base-100","rounded-lg","border","border-base-200","p-2","text-xl"],["class","flex items-center space-x-2 whitespace-nowrap pr-2",4,"ngIf"],["class","absolute top-0 right-0 rounded-full translate-x-1/2 -translate-y-1/2 bg-base-100 border border-base-200",4,"ngIf"],[1,"flex","items-center","space-x-2","whitespace-nowrap","pr-2"],[1,""],[1,"absolute","top-0","right-0","rounded-full","translate-x-1/2","-translate-y-1/2","bg-base-100","border","border-base-200"],[1,"text-error","text-xl"]],template:function(M,w){if(1&M&&(l.j41(0,"button",1)(1,"app-icon"),l.EFF(2," visibility "),l.k0s()(),l.DNE(3,R,4,3,"ng-template",null,0,l.C5r)),2&M){const x=l.sdS(4);l.Y8G("content",x)}},dependencies:[h.bT,g.R,p.I,f.r6]})}return O})()},8303:(gt,re,o)=>{"use strict";o.d(re,{x:()=>R});var e=o(4351),n=o(4233),l=o(3953);function h(m,v){if(1&m&&l.nrm(0,"img",18),2&m){const O=l.XpG(2);l.Y8G("source",O.space.images[0])}}function g(m,v){1&m&&l.nrm(0,"div",19)}function p(m,v){if(1&m&&(l.j41(0,"div",20),l.EFF(1),l.k0s()),2&m){const O=l.XpG(2);l.R7$(),l.SpI(" ",O.available_until," ")}}function f(m,v){if(1&m&&(l.j41(0,"div",21)(1,"span"),l.pXf(2,3),l.k0s(),l.EFF(3),l.k0s()),2&m){const O=l.XpG(2);l.R7$(3),l.Lme("",O.space.capacity," ",1===O.space.capacity?"person":"people"," ")}}function b(m,v){if(1&m&&(l.j41(0,"li",24),l.EFF(1),l.k0s()),2&m){const O=v.$implicit;l.R7$(),l.SpI(" ",O," ")}}function d(m,v){if(1&m&&(l.j41(0,"ul",22),l.DNE(1,b,2,1,"li",23),l.k0s()),2&m){const O=l.XpG(2);l.R7$(),l.Y8G("ngForOf",O.space.features)}}function y(m,v){if(1&m&&(l.j41(0,"div",5),l.nrm(1,"div",6),l.j41(2,"div",7)(3,"div",8),l.DNE(4,h,1,1,"img",9)(5,g,1,0,"div",10),l.k0s(),l.j41(6,"div",11)(7,"div",12),l.EFF(8," "),l.pXf(9,2),l.EFF(10," "),l.k0s(),l.DNE(11,p,2,1,"div",13),l.k0s(),l.j41(12,"div",14)(13,"h4",15),l.EFF(14),l.k0s(),l.DNE(15,f,4,2,"div",16)(16,d,2,1,"ul",17),l.k0s()()()),2&m){const O=l.XpG();l.AVh("-translate-x-full","end"===O.x_pos)("-translate-y-full","bottom"===O.y_pos),l.Y8G("id",null==O.space?null:O.space.id),l.R7$(3),l.AVh("bg-neutral",O.space.images[0])("h-32",O.space.images[0])("h-8",!O.space.images[0]),l.R7$(),l.Y8G("ngIf",O.space.images[0]),l.R7$(),l.Y8G("ngIf",O.space.images[0]),l.R7$(2),l.HbH("capitalize rounded p-1 px-2 text-light border border-white shadow "+O.status),l.R7$(2),l.uP7(O.status),l.nnv(9),l.R7$(2),l.Y8G("ngIf","not-bookable"!==O.status),l.R7$(3),l.SpI(" ",O.space.display_name||O.space.name," "),l.R7$(),l.Y8G("ngIf",O.space.capacity>=0),l.R7$(),l.Y8G("ngIf",(null==O.space.features?null:O.space.features.length)>0&&O.show_features)}}let R=(()=>{class m{get show_features(){return!this._settings.get("app.spaces.hide_features")}constructor(O,S,P){this._details=O,this._settings=S,this._element=P,this.space=this._details.space,this.events=this._details.events,this.status=this._details.status}ngOnInit(){setTimeout(()=>this.updateOffset(),200)}updateOffset(){const O=this._element.nativeElement.getBoundingClientRect();this.x_pos=O.x<document.body.clientWidth/2?"start":"end",this.y_pos=O.y<document.body.clientHeight/2?"top":"bottom"}get available_until(){return""}static#e=this.\u0275fac=function(S){return new(S||m)(l.rXU(e.Nw),l.rXU(n.h),l.rXU(l.aKT))};static#t=this.\u0275cmp=l.VBU({type:m,selectors:[["explore-space-info"]],decls:4,vars:7,consts:()=>{let O,S;return O=$localize`:␟86e6b3a473ea3e05830d2aef91c81199de1b9d33␟3658078071800974217:{VAR_SELECT, select, free {Free } busy {Busy } pending {Pending } reserved {Reserved } other {Not Bookable }}`,O=l.k04(O,{VAR_SELECT:"\ufffd0\ufffd"}),S=$localize`:␟36c2a5db33c6cfc9e239e589f975f5492bbb0550␟2292396409867038415:Capacity: `,[["tooltip",""],["space_tooltip",""],O,S,["customTooltip","",1,"h-full","w-full","pointer-events-auto","relative","hidden","sm:block","cursor-pointer",3,"mouseenter","content","backdrop","xPosition","yPosition","hover","delay"],["name","space-info",1,"absolute","rounded","bg-base-100","top-0","left-0","transform","shadow","pointer-events-none","overflow-hidden",3,"id"],[1,"arrow"],[1,"relative"],[1,"w-full","overflow-hidden","flex","items-center","justify-center","relative","bg-opacity-20"],["auth","","class","object-cover min-h-full min-w-full",3,"source",4,"ngIf"],["class","absolute inset-0 bg-neutral",4,"ngIf"],[1,"absolute","top-2","left-2","flex","flex-wrap","text-sm"],["status",""],["available-until","",4,"ngIf"],[1,"flex","flex-col","py-4","px-2"],[1,"font-medium","text-xl","mb-2","px-2"],["capacity","","class","text-base px-2 mb-2",4,"ngIf"],["class","flex flex-wrap",4,"ngIf"],["auth","",1,"object-cover","min-h-full","min-w-full",3,"source"],[1,"absolute","inset-0","bg-neutral"],["available-until",""],["capacity","",1,"text-base","px-2","mb-2"],[1,"flex","flex-wrap"],["class","text-xs px-2 py-1 m-1 rounded-2xl bg-base-200 font-medium",4,"ngFor","ngForOf"],[1,"text-xs","px-2","py-1","m-1","rounded-2xl","bg-base-200","font-medium"]]},template:function(S,P){if(1&S){const M=l.RV6();l.j41(0,"div",4,0),l.bIt("mouseenter",function(){return l.eBV(M),l.Njj(P.updateOffset())}),l.k0s(),l.DNE(2,y,17,20,"ng-template",null,1,l.C5r)}if(2&S){const M=l.sdS(3);l.Y8G("content",M)("backdrop",!1)("xPosition","center")("yPosition","center")("hover",!0)("delay",3e3),l.BMQ("id",(null==P.space?null:P.space.map_id)||(null==P.space?null:P.space.id))}},styles:["[name=space-info][_ngcontent-%COMP%]{width:16rem}[status][_ngcontent-%COMP%]{background-color:#43a047;font-weight:500}[status].busy[_ngcontent-%COMP%]{background-color:#e53935}[status].pending[_ngcontent-%COMP%]{background-color:#ffb300}[status].not-bookable[_ngcontent-%COMP%]{background-color:#757575}"]})}return m})()},5897:(gt,re,o)=>{"use strict";o.d(re,{U:()=>D,s:()=>A});var e=o(467),n=o(5157),l=o(8728),h=o(9090),g=o(3921),p=o(5006),f=o(8712),b=o(9493),d=o(4421),y=o(9714),R=o(9707),m=o(9525),v=o(735),O=o(6727),S=o(6101),P=o(8026),M=o(2455),w=o(8303),x=o(6301),I=o(2035),_=o(3953),C=o(4006);const D={free:"#43a047",pending:"#ffb300",reserved:"#e65100",busy:"#e53935","signs-of-life":"#1565c0","not-bookable":"#757575",unknown:"#757575"};let A=(()=>{class B extends R.Tv{constructor($,U,G,J,te){super(),this._state=$,this._settings=U,this._event_form=G,this._dialog=J,this._org=te,this._bookings={},this._statuses={},this._panning=!0,this._last_action="",this.booking_rules=this._org.active_building.pipe((0,l.p)(ne=>!!ne),(0,h.n)(ne=>(0,n.bpY)(ne.id,"room_booking_rules").pipe((0,g.W)(()=>(0,d.of)({details:[]})))),(0,p.T)(ne=>ne?.details instanceof Array?ne.details:[]),(0,f.t)(1)),this._bind=(0,y.zV)([this._state.spaces,this._state.options]).pipe((0,l.p)(([ne,{is_public:K}])=>!K),(0,p.T)(([ne])=>{if(this.unsubWith("b-"),this.unsubWith("s-"),this._statuses={},ne?.length){for(const K of ne){const k=(0,n.f_4)(K.id,"Bookings");let j=k.binding("bookings");this.subscription(`b-${K.id}`,j.listen().subscribe(W=>this.handleBookingsChange(ne,K,W))),this.subscription(`b-bind-${K.id}`,j.bind()),j=k.binding("status"),this.subscription(`s-${K.id}`,j.listen().subscribe(W=>this.handleStatusChange(ne,K,W))),this.subscription(`s-bind-${K.id}`,j.bind())}this.updateActions(ne),this._updateHoverElements(ne)}})),this.subscription("spaces",this._bind.subscribe())}bookSpace($,U=!1){var G=this;return(0,e.A)(function*(){if(G._panning&&"down"===G._last_action)return;const J=yield G.booking_rules.pipe((0,b.s)(1)).toPromise(),{hidden:te}=(0,R.RH)({date:Date.now(),duration:60,resource:$,host:(0,R.Ny)()},J)||{};return te?(0,m.UG)("You do not have permission to book this space at this time."):"free"!==G._statuses[$.id]&&!U||!$.bookable?(0,m.UG)(`${$.display_name||$.name} is unavailable for the selected time and duration`):(G._event_form.newForm(),G._event_form.form.patchValue({host:(0,R.Ny)()?.email,resources:[$]}),G._settings.get("app.events.booking_unavailable")?G._event_form.openEventLinkModal():void G._dialog.open(G._settings.get("app.explore.show_booking_qr")?I.T:x.t,{data:{space:$}}))})()}handleBookingsChange($,U,G){G&&(this._bookings[U.id]=G.map(J=>new O.L(J)),this.timeout("update_hover_els",()=>this._updateHoverElements($),100))}handleStatusChange($,U,G){U.bookable?this._statuses[U.id]=G||"free":delete this._statuses[U.id],this.timeout("update_statuses",()=>{this.clearTimeout("update_hover_els"),this._updateStatus($),this._updateHoverElements($)},100)}_updateStatus($){var U=this;return(0,e.A)(function*(){const G={},J=U._settings.get("app.explore.colors")||{};for(const te of $){if(!U._statuses[te.id])continue;const ne=U._statuses[te.id];G[`#${te.map_id}`]={fill:J[`space-${ne}`]||J[`${ne}`]||D[`${ne}`],opacity:.6}}U._state.setStyles("spaces",G)})()}_updateHoverElements($){const U=[];for(const G of $)G.map_id&&U.push({location:G.map_id,full_size:!0,no_scale:!0,content:w.x,z_index:10,data:{space:new v.$(G),events:this._bookings[G.id],status:this._statuses[G.id]||"not-bookable"}});this._state.setFeatures("spaces",U)}updateActions($){const U=[];for(const G of $)if(G.map_id){for(const J of["mousedown","touchstart"])U.push({id:G.map_id,action:J,priority:5,callback:()=>{this._panning=!1,this.timeout("panning",()=>this._panning=!0,300),this._last_action="down"}});for(const J of["mouseup","touchend"])U.push({id:G.map_id,action:J,priority:5,callback:()=>{this.bookSpace(G),this._last_action="up"}})}this.timeout("set-actions",()=>this._state.setActions("spaces",U),50)}static#e=this.\u0275fac=function(U){return new(U||B)(_.KVO(M.O),_.KVO(R.h$),_.KVO(S.W),_.KVO(C.bZ),_.KVO(P.y))};static#t=this.\u0275prov=_.jDH({token:B,factory:B.\u0275fac})}return B})()},2455:(gt,re,o)=>{"use strict";o.d(re,{O:()=>w});var e=o(467),n=o(5157),l=o(9928),h=o(9714),g=o(4421),p=o(8728),f=o(9090),b=o(5006),d=o(3921),y=o(8712),R=o(3020),m=o(4046),v=o(9707),O=o(8026),S=o(735),P=o(7401),M=o(3953);let w=(()=>{class x extends v.Tv{get positions(){return this._positions.getValue()}get active_level(){return this._level.getValue()}constructor(_,C,D){super(),this._org=_,this._spaces=C,this._settings=D,this._level=new l.t(null),this._positions=new l.t({zoom:1,center:{x:.5,y:.5}}),this._styles=new l.t({}),this._features=new l.t({}),this._actions=new l.t({}),this._labels=new l.t({}),this._options=new l.t({is_public:!1,disable:["zones","devices"]}),this._message=new l.t(""),this.level=this._level.asObservable(),this.message=this._message.asObservable(),this.spaces=(0,h.zV)([this._level,this._org.initialised]).pipe((0,p.p)(([A,B])=>B),(0,f.n)(([A])=>(0,n.BbB)({zone_id:A?.id||this._org.organisation.id,limit:50}).pipe((0,b.T)(({data:B})=>B.map(F=>new S.$(F))),(0,d.W)(B=>(0,g.of)([])))),(0,y.t)(1)),this.map_url=this._level.pipe((0,b.T)(A=>(A?A.map_id:"")||"")),this.map_positions=this._positions.asObservable(),this.map_features=(0,h.zV)([this._features,this._options]).pipe((0,R.B)(200),(0,b.T)(([A,B])=>{let F=[];for(const $ in A)B.disable?.includes($)||B.disable_features?.includes($)||"zones-canvas"===$&&B.disable?.includes("zones")||(F=F.concat(A[$]));return F})),this.map_actions=(0,h.zV)([this._actions,this._options]).pipe((0,R.B)(200),(0,b.T)(([A,B])=>{let F=[];for(const $ in A)B.disable?.includes($)||B.disable_actions?.includes($)||(F=F.concat(A[$]));return F})),this.map_labels=(0,h.zV)([this._labels,this._options]).pipe((0,R.B)(200),(0,b.T)(([A,B])=>{let F=[];for(const $ in A)B.disable?.includes($)||B.disable_labels?.includes($)||(F=F.concat(A[$]));return F})),this.map_styles=(0,h.zV)([this._styles,this._options]).pipe((0,R.B)(200),(0,b.T)(([A,B])=>{let F={text:{display:"none"}};for(const $ in A)B.disable?.includes($)||B.disable_styles?.includes($)||(F={...F,...A[$]});return B.disable?.includes("zones")&&(F["#zones"]={display:"none"},F["#Zones"]={display:"none"}),F})),this.options=this._options.asObservable(),this.init()}init(){var _=this;return(0,e.A)(function*(){yield _._org.initialised.pipe((0,m.$)(C=>C)).toPromise(),_._org.active_levels.pipe((0,p.p)(C=>!!C)).subscribe(C=>{const D=_._level.getValue();!C.find(B=>D?.id===B.id)&&C.length&&_.setLevel(C[0].id),_._settings.get("app.explore.disable_actions")&&_.setOptions({disable_actions:_._settings.get("app.explore.disable_actions")}),_._settings.get("app.explore.disable_labels")&&_.setOptions({disable_labels:_._settings.get("app.explore.disable_labels")}),_._settings.get("app.explore.disable_features")&&_.setOptions({disable_features:_._settings.get("app.explore.disable_features")}),_._settings.get("app.explore.disable_styles")&&_.setOptions({disable_styles:_._settings.get("app.explore.disable_styles")})})})()}setOptions(_){const C=this._options.getValue(),D=(0,v.Am)([..._.disable||C.disable,...this._settings.get("app.explore.disable")||[]]);this._options.next({...this._options.getValue(),..._,disable:D})}reset(){this._styles.next({}),this._features.next({}),this._labels.next({}),this._actions.next({}),this._options.next({is_public:!1,disable:["zones","devices"]}),this.setPositions(1,{x:.5,y:.5})}setLevel(_){const C=this._org.levelWithID([_]);C&&this._level.next(C)}setStyles(_,C){const D=this._styles.getValue();D[_]=C,this._styles.next(D)}setFeatures(_,C){const D=this._features.getValue();D[_]=C,this._features.next(D)}setActions(_,C){const D=this._actions.getValue();D[_]=C,this._actions.next(D)}setLabels(_,C){const D=this._labels.getValue();D[_]=C,this._labels.next(D)}setPositions(_,C){this._positions.next({zoom:_,center:C})}static#e=this.\u0275fac=function(C){return new(C||x)(M.KVO(O.y),M.KVO(P.b),M.KVO(v.h$))};static#t=this.\u0275prov=M.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}return x})()},1369:(gt,re,o)=>{"use strict";o.d(re,{M:()=>P});var e=o(467),n=o(5157),l=o(8728),h=o(5006),g=o(3020),p=o(4046),f=o(9707),b=o(8026),d=o(2455),y=o(5897),R=o(9303),m=o(9928),v=o(9714),O=o(7558),S=o(3953);let P=(()=>{class w extends f.Tv{constructor(I,_,C){super(),this._state=I,this._org=_,this._settings=C,this._area_list=[],this._statuses={},this._count_key={},this._location={},this._label_location={},this._capacity={},this._draw={},this._points={},this._features=[],this._polygons$=new m.t([]),this._bind=(0,v.zV)([this._org.active_building,this._state.level,this._state.options]).pipe((0,l.p)(([D,A,{is_public:B}])=>!!D&&!!A&&!B),(0,h.T)(([D,A])=>{this._statuses={};let B=this._org.binding("area_management");if(!B)return;const F=(0,n.f_4)(B,"AreaManagement").binding(`${A.id}:areas`),$=(0,n.f_4)(B,"AreaManagement").binding(`${A.id}`),U=(0,v.zV)([F.listen(),$.listen()]).pipe((0,g.B)(100),(0,h.T)(([G,J])=>[...G?.value||[],...(J?.value||[]).filter(te=>"area"===te.location)]));this.subscription("zones-status",U.subscribe(G=>this.parseData(G))),this.subscription("binding",F.bind()),this.subscription("zone-binding",$.bind())})),this.init()}init(){var I=this;return(0,e.A)(function*(){yield I._org.initialised.pipe((0,p.$)(C=>C)).toPromise();const _=yield Promise.all(I._org.levels.map(C=>(0,n.bpY)(C.id,"map_regions").toPromise()));I._area_list=[];for(const C of _){const D=C?.details?.areas;if(D)for(const A of D){const{capacity:B,hide_label:F,label_location:$,draw_polygon:U,area_count_key:G}=A.properties||{},{coordinates:J}=A.geometry||{};I._capacity[A.id]=B||100,I._count_key[A.id]=G||"",I._location[A.id]=J?.length?M(J):null,I._label_location[A.id]=!1===F?$||I._location[A.id]:null,I._draw[A.id]=!!U||I._settings.get("app.explore.use_zone_polygons"),I._points[A.id]=J||[],I._area_list.push(A.map_id||A.id)}}I._state.setFeatures("zones-canvas",[{track_id:"zones-canvas",location:{x:.5,y:.5},content:O.I,data:{polygons$:I._polygons$,draw_points:!1,draw_labels:!1}}]),I.updateStatus(),I.subscription("bind",I._bind.subscribe())})()}parseData(I=[]){console.log("Zones:",I);const _=[],C=[];for(const D of I){const A=D.map_id||D.area_id,B=D.capacity||this._capacity[A]||100,$=(D[this._count_key[A]||this._settings.get("app.explore.area_count_key")||"count"]||0)/B;if(this._statuses[A]=D.at_location?"busy":$<.4?"free":$<.75?"pending":"busy",!this._location[A])continue;let U="";D.count&&(U+=`${D.count||0} User Device${1===D.count?"":"s"}\n`),D.temperature&&(U+=`Temperature: ${D.temperature} \u02daC\n`),D.people_count>0&&(U+=`${D.people_count_sum} ${1===D.people_count_sum?"Person":"People"}\n`),D.humidity&&(U+=`Humidity: ${D.humidity}%\n`),D.queue_size&&(U+=`Queue Size: ${D.queue_size}%\n`),D.counter&&(U+=`Count: ${D.counter}\n`),this._label_location[A]&&!this._settings.get("app.explore.show_zone_labels")&&_.push({location:this._label_location[A],content:U,z_index:100}),this._settings.get("app.explore.show_zone_sensor_info")&&(D.temperature||D.humidity)&&C.push({track_id:`sensors:${A}`,location:this._location[A],content:R.P,data:{id:A,temp:D.temperature||10,humidity:D.humidity||10},z_index:98})}this._features=C,this._state.setLabels("zones",_),this.updateStatus()}updateStatus(){const I={},C=this._settings.get("app.explore.colors")||{},D=[];for(const A in this._statuses){const B=C[`zone-${this._statuses[A]}`]||C[`${this._statuses[A]}`]||y.U[`${this._statuses[A]}`];this._draw[A]?D.push({name:A,points:this._points[A],color:B}):I[`#${A}`]={fill:B,opacity:.6}}this._polygons$.next(D),this._state.setFeatures("zones",[...this._features]),this._state.setStyles("zones-styles",I)}static#e=this.\u0275fac=function(_){return new(_||w)(S.KVO(d.O),S.KVO(b.y),S.KVO(f.h$))};static#t=this.\u0275prov=S.jDH({token:w,factory:w.\u0275fac})}return w})();function M(w){const x=(w||[]).reduce((I,[_,C])=>({x_min:_<I.x_min?_:I.x_min,x_max:_>I.x_max?_:I.x_max,y_min:C<I.y_min?C:I.y_min,y_max:C>I.y_max?C:I.y_max}),{x_min:100,x_max:-100,y_min:100,y_max:-100});return{x:x.x_min+(x.x_max-x.x_min)/2,y:x.y_min+(x.y_max-x.y_min)/2}}},9801:(gt,re,o)=>{"use strict";o.d(re,{l:()=>p});var e=o(2455),n=o(3953),l=o(9434),h=o(6600),g=o(4823);let p=(()=>{class f{constructor(d){this._state=d,this.zoomIn=()=>this._state.setPositions(Math.min(10,1.2*this._state.positions.zoom),this._state.positions.center),this.zoomOut=()=>this._state.setPositions(Math.max(1,this._state.positions.zoom*(1/1.2)),this._state.positions.center),this.reset=()=>this._state.setPositions(1,{x:.5,y:.5})}static#e=this.\u0275fac=function(y){return new(y||f)(n.rXU(e.O))};static#t=this.\u0275cmp=n.VBU({type:f,selectors:[["explore-zoom-controls"]],decls:9,vars:0,consts:()=>{let d,y,R;return d=$localize`:␟34fb6028a6630cf3a7308084b31e86e89d057965␟1470758907984185227:Zoom In`,y=$localize`:␟677ce9c57b5558cb10f0b39327d5a965bfb21dc5␟1356460275822781324:Zoom Out`,R=$localize`:␟77981432124895c410e5b9157b3deb948831ffc6␟5016012668378976433:Reset Zoom & Center`,[["z-in","","icon","","matRipple","","matTooltip",d,1,"bg-base-100",3,"click"],["z-out","","icon","","matRipple","","matTooltip",y,1,"bg-base-100",3,"click"],["reset","","icon","","matRipple","","matTooltip",R,1,"bg-base-100",3,"click"]]},template:function(y,R){1&y&&(n.j41(0,"button",0),n.bIt("click",function(){return R.zoomIn()}),n.j41(1,"app-icon"),n.EFF(2,"add"),n.k0s()(),n.j41(3,"button",1),n.bIt("click",function(){return R.zoomOut()}),n.j41(4,"app-icon"),n.EFF(5,"remove"),n.k0s()(),n.j41(6,"button",2),n.bIt("click",function(){return R.reset()}),n.j41(7,"app-icon"),n.EFF(8,"autorenew"),n.k0s()())},dependencies:[l.R,h.r6,g.oV],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}button[_ngcontent-%COMP%]{border:1px solid #9998;border-radius:0}button[_ngcontent-%COMP%]:first-child{border-radius:.25rem .25rem 0 0;border-bottom:none}button[_ngcontent-%COMP%]:last-child{border-radius:0 0 .25rem .25rem;border-top:none}"]})}return f})()},7146:(gt,re,o)=>{"use strict";o.d(re,{A:()=>P});var e=o(9417),n=o(4006),l=o(9707),h=o(3953),g=o(177),p=o(9434),f=o(6600),b=o(9608),d=o(3476),y=o(1413),R=o(8e3);const m=()=>({standalone:!0});function v(M,w){if(1&M&&(h.j41(0,"div",7)(1,"div",13)(2,"label"),h.EFF(3,"Resource:"),h.k0s(),h.j41(4,"div",14),h.EFF(5),h.k0s()()()),2&M){const x=h.XpG(2);h.R7$(5),h.SpI(" ",x.resource.name||x.resource.map_id||"Unknown Resource"," ")}}function O(M,w){1&M&&(h.j41(0,"div",7)(1,"div",8)(2,"label"),h.EFF(3,"Host"),h.k0s(),h.nrm(4,"a-user-search-field",15),h.k0s()())}function S(M,w){if(1&M){const x=h.RV6();h.j41(0,"main",5),h.DNE(1,v,6,1,"div",6)(2,O,5,0,"div",6),h.j41(3,"div",7)(4,"div",8)(5,"label"),h.EFF(6,"Date"),h.k0s(),h.j41(7,"a-date-field",9),h.EFF(8," Date and time must be in the future "),h.k0s()()(),h.j41(9,"div",7)(10,"div",10)(11,"label"),h.EFF(12,"Start Time"),h.k0s(),h.j41(13,"a-time-field",11),h.bIt("ngModelChange",function(_){h.eBV(x);const C=h.XpG();return h.Njj(C.form.patchValue({date:_}))}),h.k0s()(),h.j41(14,"div",10)(15,"label"),h.EFF(16,"End Time"),h.k0s(),h.nrm(17,"a-duration-field",12),h.k0s()()()}if(2&M){let x;const I=h.XpG();h.Y8G("formGroup",I.form),h.R7$(),h.Y8G("ngIf",I.resource),h.R7$(),h.Y8G("ngIf",I.host),h.R7$(5),h.Y8G("to",I.book_until),h.R7$(6),h.Y8G("ngModel",I.form.value.date)("ngModelOptions",h.lJ4(12,m))("use_24hr",I.use_24hr_time),h.R7$(4),h.Y8G("time",null==(x=I.form.get("date"))?null:x.value)("max",600)("min",60)("step",60)("use_24hr",I.use_24hr_time)}}let P=(()=>{class M{get use_24hr_time(){return this._settings.get("app.use_24_hour_time")}constructor(x,I){this._data=x,this._settings=I,this.host=this._data.host,this.form=new e.gE({user:new e.MJ(this._data.user),date:new e.MJ(this._data.date),duration:new e.MJ(this._data.duration)}),this.book_until=this._data.until,this.resource=this._data.resource}static#e=this.\u0275fac=function(I){return new(I||M)(h.rXU(n.Vh),h.rXU(l.h$))};static#t=this.\u0275cmp=h.VBU({type:M,selectors:[["set-datetime-modal"]],decls:10,vars:2,consts:[["classs","flex items-center justify-between"],["icon","","mat-dialog-close",""],["class","w-[24rem] max-w-[85vw] pt-4",3,"formGroup",4,"ngIf"],[1,"w-full","p-2","border-t","border-base-200","flex","items-center","justify-center"],["btn","","matRipple","",1,"w-32",3,"mat-dialog-close"],[1,"w-[24rem]","max-w-[85vw]","pt-4",3,"formGroup"],["class","flex flex-col sm:flex-row space-x-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto",4,"ngIf"],[1,"flex","flex-col","sm:flex-row","space-x-0","sm:space-x-2","w-[640px]","max-w-[calc(100%-2rem)]","mx-auto"],[1,"flex","flex-col","flex-1","w-full","sm:w-1/4"],["formControlName","date",3,"to"],[1,"flex","flex-col","flex-1","w-full","sm:w-1/3"],[3,"ngModelChange","ngModel","ngModelOptions","use_24hr"],["formControlName","duration",3,"time","max","min","step","use_24hr"],[1,"flex","flex-col","flex-1","w-full","sm:w-1/4","mb-2"],[1,"px-4","py-3","border","border-base-200","rounded","w-full","mb-4"],["formControlName","user",1,"mb-4"]],template:function(I,_){1&I&&(h.j41(0,"header",0)(1,"h2"),h.EFF(2,"Set date and time"),h.k0s(),h.j41(3,"button",1)(4,"app-icon"),h.EFF(5,"close"),h.k0s()()(),h.DNE(6,S,18,13,"main",2),h.j41(7,"footer",3)(8,"button",4),h.EFF(9," Continue "),h.k0s()()),2&I&&(h.R7$(6),h.Y8G("ngIf",_.form),h.R7$(2),h.Y8G("mat-dialog-close",_.form.value))},dependencies:[g.bT,p.R,f.r6,n.tx,e.BC,e.cb,e.vS,e.j4,e.JD,b.G,d.y,y.t,R.$]})}return M})()},3046:(gt,re,o)=>{"use strict";o.d(re,{cQ:()=>e.c});var e=o(8705);o(5507),o(9608),o(1413),o(840),o(8e3),o(6864)},9842:(gt,re,o)=>{"use strict";o.d(re,{W:()=>h});var e=o(3953),n=o(9434);const l=["*"];let h=(()=>{class g{constructor(){this.on_action=new e.bkB,this.show_tooltip=!1}performAction(){this.show_tooltip=!this.show_tooltip,this.on_action.emit()}static#e=this.\u0275fac=function(b){return new(b||g)};static#t=this.\u0275cmp=e.VBU({type:g,selectors:[["an-action-field"]],inputs:{name:"name",disabled:"disabled"},outputs:{on_action:"onAction"},ngContentSelectors:l,decls:5,vars:3,consts:[["type","button","role","button","form-field","","tabindex","0",1,"flex","items-center","rounded","p-2","border","border-base-200","hover:border-base-200","w-full",3,"keydown.enter"],["placeholder","",1,"flex-1","w-0","truncate",3,"click"],[1,"text-xl",3,"click"]],template:function(b,d){1&b&&(e.NAR(),e.j41(0,"button",0),e.bIt("keydown.enter",function(){return d.performAction()}),e.j41(1,"div",1),e.bIt("click",function(){return d.performAction()}),e.SdG(2),e.k0s(),e.j41(3,"app-icon",2),e.bIt("click",function(){return d.performAction()}),e.EFF(4),e.k0s()()),2&b&&(e.BMQ("disabled",d.disabled)("name",d.name),e.R7$(4),e.SpI(" arrow_drop_",d.show_tooltip?"up":"down"," "))},dependencies:[n.R],styles:["[_nghost-%COMP%] > div[_ngcontent-%COMP%]:hover{box-shadow:inset 0 0 0 1px #000}"]})}return g})()},5507:(gt,re,o)=>{"use strict";o.d(re,{s:()=>b});var e=o(3953),n=o(9417),l=o(177),h=o(6600),g=o(9434),p=o(2897);function f(d,y){if(1&d&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&d){const R=e.XpG();e.R7$(),e.SpI(" ",(R.render_fn?R.render_fn(R.value):R.value)||"0"," ")}}let b=(()=>{class d{constructor(){this.step=1,this.max=999,this.min=0,this.focused=!1}add(){this.value||(this.value=this.min||0),this.value+=this.ctrl_key?100*this.step:this.shift_key?10*this.step:this.step||1,this.value>this.max&&(this.value=this.max||10),this.setValue(this.value)}remove(){this.value||(this.value=this.min||0),this.value-=this.ctrl_key?100*this.step:this.shift_key?10*this.step:this.step||1,this.value<this.min&&(this.value=this.min||0),this.setValue(this.value)}setValue(R){R<this.min&&(R=this.min),R>this.max&&(R=this.max),R/this.step%1!=0&&(R=Math.round(R*(1/this.step))/(1/this.step)),this.value=R,this._onChange&&this._onChange(R)}writeValue(R){this.value=R}registerOnChange(R){this._onChange=R}registerOnTouched(R){this._onTouch=R}static#e=this.\u0275fac=function(m){return new(m||d)};static#t=this.\u0275cmp=e.VBU({type:d,selectors:[["a-counter"]],inputs:{step:"step",max:"max",min:"min",render_fn:"render_fn"},features:[e.Jv_([{provide:n.kq,useExisting:(0,e.Rfq)(()=>d),multi:!0}])],decls:10,vars:4,consts:[["counter","",1,"flex","items-center","text-base","space-x-2","p-2",3,"keydown.shift","keydown.control","keydown.meta","keyup.shift","keyup.control","keyup.meta"],["decrease","","icon","","matRipple","","type","button",1,"border","border-error","text-error","rounded","h-10","w-10",3,"click","disabled"],["value","",1,"relative","p-1","flex","items-center","justify-center","w-16","h-10","rounded","border","border-base-300"],[4,"ngIf"],["type","text","limitInput","",1,"absolute","inset-0","opacity-0","focus:opacity-100","p-2",3,"ngModelChange","focus","blur","ngModel"],["increase","","icon","","matRipple","","type","button",1,"border","border-success","text-success","rounded","h-10","w-10",3,"click","disabled"]],template:function(m,v){1&m&&(e.j41(0,"div",0),e.bIt("keydown.shift",function(){return v.shift_key=!0},!1,e.tSv)("keydown.control",function(){return v.ctrl_key=!0},!1,e.tSv)("keydown.meta",function(){return v.ctrl_key=!0},!1,e.tSv)("keyup.shift",function(){return v.shift_key=!1},!1,e.tSv)("keyup.control",function(){return v.ctrl_key=!1},!1,e.tSv)("keyup.meta",function(){return v.ctrl_key=!1},!1,e.tSv),e.j41(1,"button",1),e.bIt("click",function(){return v.remove()}),e.j41(2,"app-icon"),e.EFF(3,"remove"),e.k0s()(),e.j41(4,"div",2),e.DNE(5,f,2,1,"span",3),e.j41(6,"input",4),e.mxI("ngModelChange",function(S){return e.DH7(v.value,S)||(v.value=S),S}),e.bIt("focus",function(){return v.focused=!0})("blur",function(){return v.setValue(+v.value),v.focused=!1}),e.k0s()(),e.j41(7,"button",5),e.bIt("click",function(){return v.add()}),e.j41(8,"app-icon"),e.EFF(9,"add"),e.k0s()()()),2&m&&(e.R7$(),e.Y8G("disabled",!v.value||v.value===v.min),e.R7$(4),e.Y8G("ngIf",!v.focused),e.R7$(),e.R50("ngModel",v.value),e.R7$(),e.Y8G("disabled",v.value===v.max))},dependencies:[l.bT,n.me,n.BC,n.vS,h.r6,g.R,p.B]})}return d})()},9058:(gt,re,o)=>{"use strict";o.d(re,{I:()=>w});var e=o(3953),n=o(9417),l=o(9707),h=o(3601),g=o(1406),p=o(5458),f=o(7793),b=o(9497),d=o(9255),y=o(7518),R=o(906),m=o(177),v=o(6600),O=o(9434);function S(x,I){if(1&x&&(e.j41(0,"div",10),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&x){const _=I.$implicit;e.R7$(),e.SpI(" ",e.i5U(2,1,null==_?null:_.id,"EE")," ")}}function P(x,I){1&x&&e.nrm(0,"div",14)}function M(x,I){if(1&x){const _=e.RV6();e.j41(0,"button",11),e.bIt("click",function(){const D=e.eBV(_).$implicit,A=e.XpG();return e.Njj(A.setValue(D.id))}),e.EFF(1),e.nI1(2,"date"),e.DNE(3,P,1,0,"div",12),e.nrm(4,"div",13),e.k0s()}if(2&x){const _=I.$implicit,C=e.XpG();e.AVh("hover:bg-base-100",_.id!==C.active_date)("!text-base-300",!_.is_month)("text-secondary-content",_.id===C.active_date)("text-base-content",_.id!==C.active_date)("bg-secondary",_.id===C.active_date)("font-normal",_.id!==C.active_date),e.Y8G("disabled",_.id<C.from||_.id>C.to),e.R7$(),e.SpI(" ",e.i5U(2,15,_.id,"d")," "),e.R7$(2),e.Y8G("ngIf",C.today===_.id)}}let w=(()=>{class x extends l.Tv{constructor(_){super(),this._settings=_,this.from=0,this.to=10*Date.now(),this.offset_weekday=0,this.today=(0,h.o)(Date.now()).valueOf(),this.date=Date.now(),this.active_date=(0,h.o)(Date.now()).valueOf(),this.offset=0,this.date_list=[],this.registerOnChange=C=>this._onChange=C,this.registerOnTouched=C=>this._onTouch=C}ngOnInit(){this.generateDates()}ngOnChanges(_){_.offset_weekday&&this.generateDates()}setValue(_){if(_<this.from||_>=this.to)return;const C=new Date(_);this.date=(0,g.h)(this.date,{date:C.getDate(),month:C.getMonth(),year:C.getFullYear()}).valueOf(),this.active_date=(0,h.o)(this.date).valueOf(),this._onChange&&this._onChange(_)}writeValue(_){this.date=_,this.active_date=(0,h.o)(_).valueOf(),this.offset=0,this.generateDates()}changeMonth(_){this.offset+=_,this.generateDates()}generateDates(){const _=this._settings.get("app.week_start")||this.offset_weekday,C=(0,p.P)(this.date,this.offset);let D=(0,f.k)((0,b.w)(C),{weekStartsOn:_});const A=(0,h.o)(Date.now()),B=[];for(;B.length<42;)B.push({id:D.valueOf(),is_past:(0,d.Y)(D,A),is_month:(0,y.t)(D,C)}),D=(0,R.f)(D,1);this.date_list=B}static#e=this.\u0275fac=function(C){return new(C||x)(e.rXU(l.h$))};static#t=this.\u0275cmp=e.VBU({type:x,selectors:[["date-calendar"]],inputs:{from:"from",to:"to",offset_weekday:"offset_weekday"},features:[e.Jv_([{provide:n.kq,useExisting:(0,e.Rfq)(()=>x),multi:!0}]),e.Vt3,e.OA$],decls:17,vars:12,consts:[[1,"p-2"],[1,"flex","items-center","justify-between"],[1,"pl-1.5","pr-2","font-medium"],[1,"flex","items-center"],["icon","","matRipple","","name","schedule-next-month",3,"click","disabled"],["icon","","matRipple","","name","schedule-previous-month",3,"click","disabled"],[1,"flex","items-center","text-sm","mb-2","pb-2","border-b","border-base-200"],["class","flex-1 opacity-60 text-center",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","flex-wrap"],["icon","","name","schedule-set-date","class","min-w-[14%] w-9 h-9 relative overflow-visible my-0.5",3,"hover:bg-base-100","!text-base-300","text-secondary-content","text-base-content","bg-secondary","font-normal","disabled","click",4,"ngFor","ngForOf"],[1,"flex-1","opacity-60","text-center"],["icon","","name","schedule-set-date",1,"min-w-[14%]","w-9","h-9","relative","overflow-visible","my-0.5",3,"click","disabled"],["class","absolute -inset-[2px] border border-secondary rounded-full overflow-hidden","matRipple","",4,"ngIf"],["matRipple","",1,"absolute","inset-0","overflow-hidden","rounded-full"],["matRipple","",1,"absolute","-inset-[2px]","border","border-secondary","rounded-full","overflow-hidden"]],template:function(C,D){1&C&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.EFF(3),e.nI1(4,"date"),e.k0s(),e.j41(5,"div",3)(6,"button",4),e.bIt("click",function(){return D.changeMonth(-1)}),e.j41(7,"app-icon"),e.EFF(8,"chevron_left"),e.k0s()(),e.j41(9,"button",5),e.bIt("click",function(){return D.changeMonth(1)}),e.j41(10,"app-icon"),e.EFF(11,"chevron_right"),e.k0s()()()(),e.j41(12,"div",6),e.DNE(13,S,3,4,"div",7),e.nI1(14,"slice"),e.k0s(),e.j41(15,"div",8),e.DNE(16,M,5,18,"button",9),e.k0s()()),2&C&&(e.R7$(3),e.SpI(" ",e.i5U(4,5,(null==D.date_list[6]?null:D.date_list[6].id)||D.date,"LLLL YYYY")," "),e.R7$(3),e.Y8G("disabled",(null==D.date_list[0]?null:D.date_list[0].id)<D.from),e.R7$(3),e.Y8G("disabled",(null==D.date_list[34]?null:D.date_list[34].id)>D.to),e.R7$(4),e.Y8G("ngForOf",e.brH(14,8,D.date_list,0,7)),e.R7$(3),e.Y8G("ngForOf",D.date_list))},dependencies:[m.Sq,m.bT,v.r6,O.R,m.P9,m.vh]})}return x})()},9608:(gt,re,o)=>{"use strict";o.d(re,{G:()=>m});var e=o(3953),n=o(9417),l=o(2238),h=o(3601),g=o(6299),p=o(4512),f=o(1406),b=o(5354);const d=["*"];function y(v,O){1&v&&(e.j41(0,"span"),e.SdG(1),e.k0s())}function R(v,O){if(1&v){const S=e.RV6();e.j41(0,"div",6)(1,"date-calendar",7),e.bIt("ngModelChange",function(M){e.eBV(S);const w=e.XpG();return e.Njj(w.setValue(M))}),e.k0s()()}if(2&v){const S=e.XpG();e.R7$(),e.Y8G("ngModel",S.date)("from",S.from)("to",S.until)("offset_weekday",S.week_start)}}let m=(()=>{class v extends b.T{get has_error(){return this._control?.invalid&&this._control?.touched}constructor(S){super(),this._injector=S,this.from_date=(0,h.o)(Date.now()).valueOf(),this.week_start=0,this.short=!1,this.date=Date.now()}get from(){return new Date(this.from_date)||(0,h.o)(new Date)}get until(){return new Date(this.to_date)||(0,g.e)((0,p.D)(new Date),1)}ngOnInit(){this._control=this._injector.get(n.vO),this.date=Date.now()}setValue(S){const P=new Date(this.date);let M=(0,f.h)(S,{hours:P.getHours(),minutes:P.getMinutes()}).valueOf();M<this.from.valueOf()&&(M=this.from.valueOf()),this.date=M,this._onChange&&this._onChange(M),this._tooltip?.close()}writeValue(S){this.date=S||Date.now(),this._tooltip?.close()}registerOnChange(S){this._onChange=S}registerOnTouched(S){this._onTouch=S}setDisabledState(S){this.disabled=S}static#e=this.\u0275fac=function(P){return new(P||v)(e.rXU(e.zZn))};static#t=this.\u0275cmp=e.VBU({type:v,selectors:[["a-date-field"]],viewQuery:function(P,M){if(1&P&&e.GBs(l.I,5),2&P){let w;e.mGM(w=e.lsd())&&(M._tooltip=w.first)}},inputs:{from_date:[0,"from","from_date"],to_date:[0,"to","to_date"],week_start:"week_start",disabled:"disabled",short:"short"},features:[e.Jv_([{provide:n.kq,useExisting:(0,e.Rfq)(()=>v),multi:!0}]),e.Vt3],ngContentSelectors:d,decls:11,vars:9,consts:[["calendar_picker",""],["customTooltip","","yPosition","top","matRipple","",1,"flex","items-center","justify-between","border","border-neutral","rounded","h-12","w-full",3,"content","disabled"],[1,"px-4","py-2","flex-1","truncate","w-1/2","text-left","font-normal"],[1,"h-10","w-10","flex","items-center","justify-center","text-2xl"],[1,"error","h-5","p-1","text-xs","text-error"],[4,"ngIf"],[1,"relative","w-[18rem]","rounded","bg-base-100","px-2","py-4"],[3,"ngModelChange","ngModel","from","to","offset_weekday"]],template:function(P,M){if(1&P&&(e.NAR(),e.j41(0,"button",1)(1,"p",2),e.EFF(2),e.nI1(3,"date"),e.k0s(),e.j41(4,"div",3)(5,"app-icon"),e.EFF(6,"today"),e.k0s()()(),e.j41(7,"div",4),e.DNE(8,y,2,0,"span",5),e.k0s(),e.DNE(9,R,2,4,"ng-template",null,0,e.C5r)),2&P){const w=e.sdS(10);e.AVh("opacity-30",M.disabled),e.Y8G("content",w)("disabled",M.disabled),e.R7$(2),e.SpI(" ",e.i5U(3,6,M.date,M.short?"MMM d, yyyy":"MMMM d, yyyy")," "),e.R7$(6),e.Y8G("ngIf",M.has_error)}}})}return v})()},3476:(gt,re,o)=>{"use strict";o.d(re,{y:()=>m});var e=o(3953),n=o(9417),l=o(7926),h=o(2659),g=o(177),p=o(3719),f=o(2798),b=o(6600);const d=["*"];function y(v,O){if(1&v&&(e.qex(0),e.EFF(1),e.nI1(2,"date"),e.bVm()),2&v){const S=e.XpG().$implicit,P=e.XpG();e.R7$(),e.E5c(" ",S.date?e.i5U(2,3,S.date,S.id>=1440?"mediumDate":P.use_24hr?"HH : mm":"h : mm a")+" (":"","",S.name,"",S.date?")":""," ")}}function R(v,O){if(1&v&&(e.j41(0,"mat-option",5),e.DNE(1,y,3,6,"ng-container",6),e.EFF(2),e.k0s()),2&v){const S=O.$implicit,P=e.XpG();e.Y8G("value",S.id),e.R7$(),e.Y8G("ngIf",!P.force),e.R7$(),e.SpI(" ",P.force," ")}}let m=(()=>{class v{constructor(){this.max=240,this.min=30,this.step=15,this.custom_options=[],this.use_24hr=!1,this.duration=60,this.duration_options=[]}ngOnInit(){this.duration_options=this.generateDurationOptions(this.max,this.min,this.step),this._updateOption()}ngOnChanges(S){(S.max||S.min||S.step||S.time||S.custom_options)&&(this.duration_options=this.generateDurationOptions(this.max,this.min,this.step),this._updateOption())}setValue(S){this.duration=S,this._onChange&&this._onChange(+S)}writeValue(S){this.duration=S,this._updateOption()}setDisabledState(S){this.disabled=S}registerOnChange(S){this._onChange=S}registerOnTouched(S){this._onTouch=S}generateDurationOptions(S,P,M){const w=[];let x=P;const I=this.time?this.time:null;for(const _ of this.custom_options)w.push({id:_,date:I?(0,l.z)(I,_).valueOf():void 0,name:_>=1440?`${(0,h.a)({days:Math.floor(_/1440)})}`:`${(0,h.a)({hours:Math.floor(_/60),minutes:_%60})}`});for(;x<=S;)w.push({id:x,date:I?(0,l.z)(I,x).valueOf():void 0,name:0===x?(0,h.a)({minutes:0},{zero:!0}):x>=1440?`${(0,h.a)({days:Math.floor(x/1440)})}`:`${(0,h.a)({hours:Math.floor(x/60),minutes:x%60})}`}),x+=M;return w.sort((_,C)=>_.id-C.id),w}_updateOption(){this.duration_options?.length&&this.duration_options.findIndex(P=>P.id===this.duration)<0&&this.setValue(this.min)}static#e=this.\u0275fac=function(P){return new(P||v)};static#t=this.\u0275cmp=e.VBU({type:v,selectors:[["a-duration-field"]],inputs:{max:"max",min:"min",step:"step",time:"time",disabled:"disabled",custom_options:"custom_options",force:"force",use_24hr:"use_24hr"},features:[e.Jv_([{provide:n.kq,useExisting:(0,e.Rfq)(()=>v),multi:!0}]),e.OA$],ngContentSelectors:d,decls:7,vars:5,consts:[["select",""],[1,"duration-field"],["appearance","outline"],[3,"valueChange","value","disabled","placeholder"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[4,"ngIf"]],template:function(P,M){if(1&P){const w=e.RV6();e.NAR(),e.j41(0,"div",1)(1,"mat-form-field",2)(2,"mat-select",3,0),e.bIt("valueChange",function(I){return e.eBV(w),e.Njj(M.setValue(I))}),e.DNE(4,R,3,3,"mat-option",4),e.k0s(),e.j41(5,"mat-error"),e.SdG(6),e.k0s()()()}2&P&&(e.BMQ("disabled",M.disabled),e.R7$(2),e.Y8G("value",M.duration)("disabled",M.disabled)("placeholder",M.duration+" minutes"),e.R7$(2),e.Y8G("ngForOf",M.duration_options))},dependencies:[g.Sq,g.bT,p.rl,p.TL,f.VO,b.wT,g.vh],styles:["[_nghost-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]{width:100%}"]})}return v})()},8705:(gt,re,o)=>{"use strict";o.d(re,{c:()=>ht});var e=o(177),n=o(9417),l=o(3801),h=o(6471),g=o(6600),p=o(3719),f=o(9631),b=o(2798),d=o(850),y=o(4823),R=o(2765),m=o(5951),v=o(846),P=(o(9842),o(5507),o(9608)),M=o(3476),x=(o(1413),o(840)),I=o(8e3),_=o(3953),C=o(7336),D=o(9434);function A(st,kt){if(1&st){const xe=_.RV6();_.j41(0,"mat-chip-row",5),_.bIt("removed",function(){const Z=_.eBV(xe).$implicit,Ae=_.XpG();return _.Njj(Ae.remove(Z))}),_.j41(1,"span",6),_.EFF(2),_.k0s(),_.j41(3,"button",7)(4,"app-icon"),_.EFF(5,"cancel"),_.k0s()()()}if(2&st){const xe=kt.$implicit;_.R7$(2),_.JRh(xe),_.R7$(),_.BMQ("aria-label","Remove "+xe)}}let $=(()=>{class st{constructor(){this.separators=[C.Fm,C.KE],this.placeholder="",this.value=[],this.add=xe=>function B(st,kt){if(!st)return;const xe=kt.input,Mt=kt.value,Z=st.value;if(Mt.includes(",")){const Ae=Mt.split(",");for(const Ve of Ae)(Ve||"").trim()&&(Z.push(Ve.trim()),st.setValue(Z))}else(Mt||"").trim()&&(Z.push(Mt.trim()),st.setValue(Z));xe&&(xe.value="")}({value:this.value,setValue:Mt=>this.setValue(Mt)},xe),this.remove=xe=>function F(st,kt){if(!st)return;const xe=st.value,Mt=xe.indexOf(kt);Mt>=0&&(xe.splice(Mt,1),st.setValue(xe))}({value:this.value,setValue:Mt=>this.setValue(Mt)},xe)}setValue(xe){this.value=xe,this._onChange&&this._onChange(xe)}writeValue(xe){this.value=xe}registerOnChange(xe){this._onChange=xe}registerOnTouched(xe){this._onTouch=xe}static#e=this.\u0275fac=function(Mt){return new(Mt||st)};static#t=this.\u0275cmp=_.VBU({type:st,selectors:[["item-list-field"]],inputs:{separators:"separators",placeholder:"placeholder"},features:[_.Jv_([{provide:n.kq,useExisting:(0,_.Rfq)(()=>st),multi:!0}])],decls:5,vars:5,consts:[["chipList",""],["appearance","outline",1,"w-full"],["aria-label","Zone Tags"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur"],[3,"removed"],[1,"truncate","max-w-md"],["matChipRemove",""]],template:function(Mt,Z){if(1&Mt){const Ae=_.RV6();_.j41(0,"mat-form-field",1)(1,"mat-chip-grid",2,0),_.DNE(3,A,6,2,"mat-chip-row",3),_.k0s(),_.j41(4,"input",4),_.bIt("matChipInputTokenEnd",function(_t){return _.eBV(Ae),_.Njj(Z.add(_t))}),_.k0s()()}if(2&Mt){const Ae=_.sdS(2);_.R7$(3),_.Y8G("ngForOf",Z.value),_.R7$(),_.Y8G("placeholder",Z.placeholder||"User groups...")("matChipInputFor",Ae)("matChipInputSeparatorKeyCodes",Z.separators)("matChipInputAddOnBlur",!0)}},dependencies:[e.Sq,p.rl,h.HW,h.D7,h.Zv,h.jH,D.R]})}return st})();var U=o(9707),ne=(o(1604),o(2727),o(285),o(9183)),We=o(4809),Xe=o(1772),ge=(o(744),o(6864)),Ee=(o(3138),o(2756)),Ge=o(8791),Qe=o(9058),$e=o(2185),tt=o(5157),xt=o(1406),Pt=o(3601),yt=o(4512),Le=o(4421),De=o(8728),V=o(9090),ue=o(3921),Q=o(5006),Te=o(8712);const Je=()=>({standalone:!0});function Nt(st,kt){if(1&st&&(_.j41(0,"mat-option",26),_.EFF(1),_.k0s()),2&st){const xe=kt.$implicit;_.Y8G("value",xe.id),_.R7$(),_.SpI(" ",xe.display_name||xe.name," ")}}function qt(st,kt){1&st&&(_.j41(0,"mat-checkbox",27),_.EFF(1," Auto Approve Bookings "),_.k0s())}function hn(st,kt){if(1&st&&(_.j41(0,"div",28)(1,"label",29),_.EFF(2),_.k0s(),_.nrm(3,"item-list-field",30),_.k0s()),2&st){const xe=_.XpG();_.R7$(2),_.SpI("",xe.form.value.rules.hidden?"Prevent":"Allow"," Booking for Groups:")}}function wt(st,kt){1&st&&(_.j41(0,"div",28)(1,"label",31),_.EFF(2,"Locations:"),_.k0s(),_.nrm(3,"item-list-field",32),_.k0s())}function Zt(st,kt){if(1&st&&(_.j41(0,"div",2)(1,"label",35),_.EFF(2),_.k0s(),_.nrm(3,"a-duration-field",36),_.k0s()),2&st){const xe=_.XpG(2);_.R7$(2),_.SpI("",xe.form.value.rules.hidden?"Prevent":"Allow"," booking with a minimum length of:"),_.R7$(),_.Y8G("min",15)("max",1440)("step",15)}}function ft(st,kt){if(1&st&&(_.j41(0,"div",2)(1,"label",37),_.EFF(2),_.k0s(),_.nrm(3,"a-duration-field",38),_.k0s()),2&st){const xe=_.XpG(2);_.R7$(2),_.SpI("",xe.form.value.rules.hidden?"Prevent":"Allow"," booking with a maximum length up to:"),_.R7$(),_.Y8G("min",xe.form.value.conditions.min_length||15)("max",1440)("step",15)}}function lt(st,kt){if(1&st&&(_.j41(0,"div",33),_.DNE(1,Zt,4,4,"div",34)(2,ft,4,4,"div",34),_.k0s()),2&st){const xe=_.XpG();_.R7$(),_.Y8G("ngIf",xe.available_conditions.includes("min_length")),_.R7$(),_.Y8G("ngIf",xe.available_conditions.includes("max_length"))}}function Ft(st,kt){if(1&st&&(_.j41(0,"mat-option",26),_.EFF(1),_.k0s()),2&st){const xe=kt.$implicit;_.Y8G("value",xe),_.R7$(),_.SpI(" ",xe," ")}}function Ct(st,kt){if(1&st&&(_.j41(0,"div",28)(1,"label",39),_.EFF(2),_.k0s(),_.j41(3,"mat-form-field",40)(4,"mat-select",41),_.DNE(5,Ft,2,2,"mat-option",7),_.k0s(),_.j41(6,"mat-error"),_.EFF(7,"A valid time is required"),_.k0s()()()),2&st){const xe=_.XpG();_.R7$(2),_.SpI("",xe.form.value.rules.hidden?"Prevent":"Allow"," booking before:"),_.R7$(3),_.Y8G("ngForOf",xe.duration_blocks)}}function Wt(st,kt){if(1&st&&(_.j41(0,"mat-option",26),_.EFF(1),_.k0s()),2&st){const xe=kt.$implicit;_.Y8G("value",xe),_.R7$(),_.SpI(" ",xe," ")}}function en(st,kt){if(1&st&&(_.j41(0,"div",28)(1,"label",42),_.EFF(2),_.k0s(),_.j41(3,"mat-form-field",40)(4,"mat-select",43),_.DNE(5,Wt,2,2,"mat-option",7),_.k0s(),_.j41(6,"mat-error"),_.EFF(7,"A valid time is required"),_.k0s()()()),2&st){const xe=_.XpG();_.R7$(2),_.SpI("",xe.form.value.rules.hidden?"Prevent":"Allow"," booking after:"),_.R7$(3),_.Y8G("ngForOf",xe.duration_blocks)}}function on(st,kt){if(1&st){const xe=_.RV6();_.j41(0,"div",28)(1,"label",42),_.EFF(2),_.k0s(),_.j41(3,"div",1)(4,"a-date-field",44),_.bIt("ngModelChange",function(Z){_.eBV(xe);const Ae=_.XpG();return _.Njj(Ae.setIsPeriod(Z,Ae.form.value.conditions.is_period[1]))}),_.k0s(),_.j41(5,"a-date-field",45),_.bIt("ngModelChange",function(Z){_.eBV(xe);const Ae=_.XpG();return _.Njj(Ae.setIsPeriod(Ae.form.value.conditions.is_period[0],Z))}),_.k0s()()()}if(2&st){const xe=_.XpG();_.R7$(2),_.SpI("",xe.form.value.rules.hidden?"Prevent":"Allow"," booking between dates:"),_.R7$(2),_.Y8G("ngModel",xe.form.value.conditions.is_period[0])("ngModelOptions",_.lJ4(6,Je)),_.R7$(),_.Y8G("from",xe.form.value.conditions.is_period[0])("ngModel",xe.form.value.conditions.is_period[1])("ngModelOptions",_.lJ4(7,Je))}}function _n(st,kt){if(1&st&&(_.j41(0,"mat-option",26),_.EFF(1),_.nI1(2,"date"),_.k0s()),2&st){const xe=kt.$implicit,Mt=_.XpG(2);_.Y8G("value",xe.id),_.R7$(),_.SpI(" ",_.i5U(2,2,xe.value,Mt.time_format)," ")}}function Sn(st,kt){if(1&st&&(_.j41(0,"mat-option",26),_.EFF(1),_.nI1(2,"date"),_.k0s()),2&st){const xe=_.XpG().$implicit,Mt=_.XpG(2);_.Y8G("value",xe.id),_.R7$(),_.SpI(" ",_.i5U(2,2,xe.value,Mt.time_format)," ")}}function Zn(st,kt){if(1&st&&(_.qex(0),_.DNE(1,Sn,3,5,"mat-option",51),_.bVm()),2&st){const xe=kt.$implicit,Mt=_.XpG(2);_.R7$(),_.Y8G("ngIf",xe.id>(Mt.form.value.conditions.is_between[0]||6))}}function ut(st,kt){if(1&st){const xe=_.RV6();_.j41(0,"div",28)(1,"label",46),_.EFF(2),_.k0s(),_.j41(3,"div",47)(4,"mat-form-field",40)(5,"mat-select",48),_.bIt("ngModelChange",function(Z){_.eBV(xe);const Ae=_.XpG();return _.Njj(Ae.setIsBetween(Z,Ae.form.value.conditions.is_between[1]))}),_.DNE(6,_n,3,5,"mat-option",7),_.k0s()(),_.j41(7,"mat-form-field",40)(8,"mat-select",49),_.bIt("ngModelChange",function(Z){_.eBV(xe);const Ae=_.XpG();return _.Njj(Ae.setIsBetween(Ae.form.value.conditions.is_between[0],Z))}),_.DNE(9,Zn,2,1,"ng-container",50),_.k0s(),_.j41(10,"mat-error"),_.EFF(11,"A valid end time is required"),_.k0s()()()()}if(2&st){const xe=_.XpG();_.R7$(2),_.SpI("",xe.form.value.rules.hidden?"Prevent":"Allow"," booking between:"),_.R7$(3),_.Y8G("ngModel",xe.form.value.conditions.is_between[0]||6)("ngModelOptions",_.lJ4(7,Je)),_.R7$(),_.Y8G("ngForOf",xe.time_blocks),_.R7$(2),_.Y8G("ngModel",xe.form.value.conditions.is_between[1]||18)("ngModelOptions",_.lJ4(8,Je)),_.R7$(),_.Y8G("ngForOf",xe.time_blocks)}}function be(st,kt){if(1&st&&(_.j41(0,"div",28)(1,"label",52),_.EFF(2),_.k0s(),_.nrm(3,"item-list-field",53),_.k0s()),2&st){const xe=_.XpG();_.R7$(2),_.SpI(" ",xe.form.value.rules.hidden?"Prevent":"Allow"," booking these resources: ")}}let Fe=(()=>{class st{get time_format(){return this._settings.time_format}constructor(xe,Mt){this._org=xe,this._settings=Mt,this.save=!1,this.rulesetChange=new _.bkB,this.available_conditions=[],this.building_zones=this._org.active_building.pipe((0,De.p)(Z=>!!Z),(0,V.n)(Z=>(0,tt.smM)({parent_id:Z.id}).pipe((0,ue.W)(()=>(0,Le.of)({data:[]})))),(0,Q.T)(Z=>Z.data),(0,Te.t)(1)),this.time_blocks=new Array(96).fill(0).map((Z,Ae)=>{const Ve=Math.floor(Ae/4),_t=Ae%4*15;return{id:Ve+_t/60,value:(0,xt.h)(new Date,{hours:Ve,minutes:_t})}}),this.duration_blocks=["1 Day","2 Days","3 Days","4 Days","5 Days","1 Week","2 Weeks","3 Weeks","4 Weeks","1 Month","2 Months","3 Months","4 Months","5 Months","6 Months"],this.form=new n.gE({id:new n.MJ(`ruleset-${(0,U.DU)(8)}`),zone:new n.MJ("*",n.k0.required),name:new n.MJ("",n.k0.required),rules:new n.gE({auto_approve:new n.MJ(!1),hidden:new n.MJ(!1)}),conditions:new n.gE({groups:new n.MJ([]),locations:new n.MJ([]),min_length:new n.MJ(0),max_length:new n.MJ(1440),is_before:new n.MJ("1 Week"),is_after:new n.MJ("1 Day"),is_between:new n.MJ([6,18]),is_period:new n.MJ([(0,Pt.o)(Date.now()).valueOf(),(0,yt.D)(Date.now()).valueOf()]),resource_ids:new n.MJ([])})})}ngOnChanges(xe){xe.ruleset&&this.ruleset&&(this.available_conditions=Object.keys(this.ruleset.conditions||{}),this.form.patchValue(this.ruleset)),xe.save&&this.save!==xe.save.previousValue&&!xe.save.firstChange&&this.post()}setIsBetween(xe,Mt){!xe||!Mt||(xe>Mt&&(Mt=xe+.25),this.form.patchValue({conditions:{is_between:[xe,Mt]}}))}setIsPeriod(xe,Mt){!xe||!Mt||(xe>Mt&&(Mt=xe),this.form.patchValue({conditions:{is_period:[(0,Pt.o)(xe).valueOf(),(0,yt.D)(Mt).valueOf()]}}))}post(){if(!this.form.valid)return(0,U.UG)(`Some form fields are invalid. [${(0,U.F7)(this.form).join(", ")}]`);const xe=this.form.getRawValue(),Mt=Object.keys(xe.conditions);for(const Z of Mt)this.available_conditions.includes(Z)||delete xe.conditions[Z];this.rulesetChange.emit(xe)}static#e=this.\u0275fac=function(Mt){return new(Mt||st)(_.rXU($e.yb),_.rXU(U.h$))};static#t=this.\u0275cmp=_.VBU({type:st,selectors:[["booking-rules-form"]],inputs:{ruleset:"ruleset",save:"save"},outputs:{rulesetChange:"rulesetChange"},features:[_.OA$],decls:65,vars:16,consts:[[1,"flex","flex-col","space-y-2",3,"formGroup"],[1,"flex","items-center","space-x-2"],[1,"flex","flex-col","flex-1"],["for","zone"],["appearance","outline"],["name","zone","formControlName","zone"],["value","*"],[3,"value",4,"ngFor","ngForOf"],["for","name"],["matInput","","name","name","formControlName","name","placeholder","Ruleset Name"],["formGroupName","rules",1,"flex","items-center","space-x-2"],["name","hidden","formControlName","hidden","matTooltip","Prevent user from booking the resource if the conditions match"],["name","auto_approve","formControlName","auto_approve","matTooltip","Whether resource should be auto-approved when booking if the conditions match",4,"ngIf"],[1,"flex","flex-col"],["name","zone","multiple","","placeholder","No Conditions. Match all resources in zone",3,"ngModelChange","ngModel","ngModelOptions"],["value","groups"],["value","locations"],["value","min_length"],["value","max_length"],["value","is_before"],["value","is_after"],["value","is_between"],["value","is_period"],["value","resource_ids"],["class","flex flex-col","formGroupName","conditions",4,"ngIf"],["class","flex items-center space-x-2","formGroupName","conditions",4,"ngIf"],[3,"value"],["name","auto_approve","formControlName","auto_approve","matTooltip","Whether resource should be auto-approved when booking if the conditions match"],["formGroupName","conditions",1,"flex","flex-col"],["for","groups"],["name","groups","formControlName","groups","placeholder","User groups"],["for","locations"],["name","locations","formControlName","locations","placeholder","Locations"],["formGroupName","conditions",1,"flex","items-center","space-x-2"],["class","flex flex-col flex-1",4,"ngIf"],["for","min_length"],["name","min_length","formControlName","min_length",3,"min","max","step"],["for","max_length"],["name","max_length","formControlName","max_length",3,"min","max","step"],["for","is-before"],["appearance","outline",1,"flex-1"],["name","is-before","formControlName","is_before"],["for","is-after"],["name","is-after","formControlName","is_after"],[1,"flex-1",3,"ngModelChange","ngModel","ngModelOptions"],[1,"flex-1",3,"ngModelChange","from","ngModel","ngModelOptions"],["for","is_between"],[1,"flex","items-center","space-x-2","w-full"],["name","start-time",3,"ngModelChange","ngModel","ngModelOptions"],["name","end-time",3,"ngModelChange","ngModel","ngModelOptions"],[4,"ngFor","ngForOf"],[3,"value",4,"ngIf"],["for","resource_ids"],["name","resource_ids","formControlName","resource_ids","placeholder","Resource IDs"]],template:function(Mt,Z){1&Mt&&(_.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),_.EFF(4,"Zone"),_.j41(5,"span"),_.EFF(6,"*"),_.k0s(),_.EFF(7,":"),_.k0s(),_.j41(8,"mat-form-field",4)(9,"mat-select",5)(10,"mat-option",6),_.EFF(11,"Any Zone"),_.k0s(),_.DNE(12,Nt,2,2,"mat-option",7),_.nI1(13,"async"),_.k0s(),_.j41(14,"mat-error"),_.EFF(15,"A valid zone is required"),_.k0s()()(),_.j41(16,"div",2)(17,"label",8),_.EFF(18,"Name"),_.j41(19,"span"),_.EFF(20,"*"),_.k0s(),_.EFF(21,":"),_.k0s(),_.j41(22,"mat-form-field",4),_.nrm(23,"input",9),_.j41(24,"mat-error"),_.EFF(25,"A valid name is required"),_.k0s()()()(),_.j41(26,"div",10)(27,"div",2)(28,"mat-checkbox",11),_.EFF(29," Prevent Bookings "),_.k0s()(),_.j41(30,"div",2),_.DNE(31,qt,2,0,"mat-checkbox",12),_.k0s()(),_.j41(32,"div",13)(33,"label",3),_.EFF(34,"Rule Conditions:"),_.k0s(),_.j41(35,"mat-form-field",4)(36,"mat-select",14),_.mxI("ngModelChange",function(Ve){return _.DH7(Z.available_conditions,Ve)||(Z.available_conditions=Ve),Ve}),_.j41(37,"mat-option",15),_.EFF(38,"Groups"),_.k0s(),_.j41(39,"mat-option",16),_.EFF(40,"Locations"),_.k0s(),_.j41(41,"mat-option",17),_.EFF(42," Minimum Length "),_.k0s(),_.j41(43,"mat-option",18),_.EFF(44," Maximum Length "),_.k0s(),_.j41(45,"mat-option",19),_.EFF(46," Is Within Days "),_.k0s(),_.j41(47,"mat-option",20),_.EFF(48," Is After Days "),_.k0s(),_.j41(49,"mat-option",21),_.EFF(50," Is Between Hours "),_.k0s(),_.j41(51,"mat-option",22),_.EFF(52," Between Dates "),_.k0s(),_.j41(53,"mat-option",23),_.EFF(54,"Resources"),_.k0s()(),_.j41(55,"mat-error"),_.EFF(56,"A valid zone is required"),_.k0s()()(),_.DNE(57,hn,4,1,"div",24)(58,wt,4,0,"div",24)(59,lt,3,2,"div",25)(60,Ct,8,2,"div",24)(61,en,8,2,"div",24)(62,on,6,8,"div",24)(63,ut,12,9,"div",24)(64,be,4,1,"div",24),_.k0s()),2&Mt&&(_.Y8G("formGroup",Z.form),_.R7$(12),_.Y8G("ngForOf",_.bMT(13,13,Z.building_zones)),_.R7$(19),_.Y8G("ngIf",!Z.form.value.rules.hidden),_.R7$(5),_.R50("ngModel",Z.available_conditions),_.Y8G("ngModelOptions",_.lJ4(15,Je)),_.R7$(21),_.Y8G("ngIf",Z.available_conditions.includes("groups")),_.R7$(),_.Y8G("ngIf",Z.available_conditions.includes("locations")),_.R7$(),_.Y8G("ngIf",Z.available_conditions.includes("min_length")||Z.available_conditions.includes("max_length")),_.R7$(),_.Y8G("ngIf",Z.available_conditions.includes("is_before")),_.R7$(),_.Y8G("ngIf",Z.available_conditions.includes("is_after")),_.R7$(),_.Y8G("ngIf",Z.available_conditions.includes("is_period")),_.R7$(),_.Y8G("ngIf",Z.available_conditions.includes("is_between")),_.R7$(),_.Y8G("ngIf",Z.available_conditions.includes("resource_ids")))},styles:["[_nghost-%COMP%]{display:block;padding:.5rem}"]})}return st})();var ae=o(467),ve=o(3693);const ze=[],vt=new ve.Gp;let Ue=(()=>{class st{transform(xe){return(0,ae.A)(function*(){if(!xe)return vt;let Mt=ze.find(({id:Z,email:Ae})=>Z===xe||Ae===xe);return Mt||(Mt=yield(0,tt.VLL)(xe).toPromise().catch(()=>null),Mt?(Mt=new ve.Gp(Mt),ze.push(Mt),console.log("Place User:",Mt),Mt):vt)})()}static#e=this.\u0275fac=function(Mt){return new(Mt||st)};static#t=this.\u0275pipe=_.EJ8({name:"placeuser",type:st,pure:!0})}return st})();var Pe=o(4351);const Ke=["startDate"],Ie=["endDate"],Ze=[[["input","startDate",""]],[["input","endDate",""]]],nt=["input[startDate]","input[endDate]"];function Lt(st,kt){if(1&st){const xe=_.RV6();_.j41(0,"div",5)(1,"date-range-calendar",6),_.bIt("startChange",function(Z){_.eBV(xe);const Ae=_.XpG();return _.Njj(Ae.setStartDate(Z))})("endChange",function(Z){_.eBV(xe);const Ae=_.XpG();return _.Njj(Ae.setEndDate(Z))}),_.k0s()()}if(2&st){const xe=_.XpG();_.R7$(),_.Y8G("month",(null==xe.start_date||null==xe.start_date.control?null:xe.start_date.control.value)||xe.now)("from",xe.from)("to",xe.until)("offset_weekday",xe.week_start)}}let jt=(()=>{class st extends U.Tv{constructor(){super(...arguments),this.from_date=(0,Pt.o)(Date.now()).valueOf(),this.week_start=0,this.disabled=!1,this.short=!1,this.now=Date.now()}setStartDate(xe){this.start_date&&this.start_date.control.setValue(xe)}setEndDate(xe){this._tooltip?.close(),this.end_date&&this.end_date.control.setValue(xe)}static#e=this.\u0275fac=(()=>{let xe;return function(Z){return(xe||(xe=_.xGo(st)))(Z||st)}})();static#t=this.\u0275cmp=_.VBU({type:st,selectors:[["date-range-field"]],contentQueries:function(Mt,Z,Ae){if(1&Mt&&(_.wni(Ae,Ke,5,n.vO),_.wni(Ae,Ie,5,n.vO)),2&Mt){let Ve;_.mGM(Ve=_.lsd())&&(Z.start_date=Ve.first),_.mGM(Ve=_.lsd())&&(Z.end_date=Ve.first)}},viewQuery:function(Mt,Z){if(1&Mt&&_.GBs(Pe.In,5),2&Mt){let Ae;_.mGM(Ae=_.lsd())&&(Z._tooltip=Ae.first)}},inputs:{from_date:[0,"from","from_date"],to_date:[0,"to","to_date"],week_start:"week_start",disabled:"disabled",short:"short"},features:[_.Vt3],ngContentSelectors:nt,decls:16,vars:12,consts:[["calendar_picker",""],["matRipple","","type","button","role","date-picker","customTooltip","","yPosition","top",1,"flex","items-center","rounded","px-4","py-2","border","border-neutral","hover:border-base-content","focus:outline-2","outline-base-content","space-x-2","min-w-max",3,"content","disabled"],[1,"flex-1","whitespace-nowrap"],[1,"text-2xl"],[1,"hidden"],[1,"relative","w-[18.25rem]","rounded","bg-base-100","px-2","py-4"],[3,"startChange","endChange","month","from","to","offset_weekday"]],template:function(Mt,Z){if(1&Mt&&(_.NAR(Ze),_.j41(0,"button",1)(1,"div",2),_.EFF(2),_.nI1(3,"date"),_.k0s(),_.j41(4,"div"),_.EFF(5,"\u2013"),_.k0s(),_.j41(6,"div",2),_.EFF(7),_.nI1(8,"date"),_.k0s(),_.j41(9,"app-icon",3),_.EFF(10,"today"),_.k0s()(),_.j41(11,"div",4),_.SdG(12),_.SdG(13,1),_.k0s(),_.DNE(14,Lt,2,4,"ng-template",null,0,_.C5r)),2&Mt){const Ae=_.sdS(15);_.AVh("opacity-30",Z.disabled),_.Y8G("content",Ae)("disabled",Z.disabled),_.R7$(2),_.SpI(" ",_.i5U(3,6,(null==Z.start_date?null:Z.start_date.value)||Z.now,"MMM d, yyyy")," "),_.R7$(5),_.SpI(" ",_.i5U(8,9,(null==Z.end_date?null:Z.end_date.value)||Z.now,"MMM d, yyyy")," ")}}})}return st})();var Dt=o(5818),nn=o(5458),Tt=o(7793),It=o(9497),Gt=o(906),At=o(9255),tn=o(9824),vn=o(7518);function wn(st,kt){if(1&st&&(_.j41(0,"div",8),_.EFF(1),_.nI1(2,"date"),_.k0s()),2&st){const xe=kt.$implicit;_.R7$(),_.SpI(" ",_.i5U(2,1,xe,"EEE")," ")}}function ti(st,kt){1&st&&_.nrm(0,"div",16)}function Qn(st,kt){1&st&&_.nrm(0,"div",17)}function bn(st,kt){1&st&&_.nrm(0,"div",18)}function Jn(st,kt){1&st&&_.nrm(0,"div",19)}function Cn(st,kt){1&st&&_.nrm(0,"div",20)}function kn(st,kt){if(1&st){const xe=_.RV6();_.j41(0,"button",9),_.bIt("click",function(){const Z=_.eBV(xe).$implicit,Ae=_.XpG();return _.Njj(Ae.selectDate(Z.id))})("mouseenter",function(){const Z=_.eBV(xe).$implicit,Ae=_.XpG();return _.Njj(Ae.setHoveredDate(Z.id))}),_.DNE(1,ti,1,0,"div",10)(2,Qn,1,0,"div",11)(3,bn,1,0,"div",12)(4,Jn,1,0,"div",13),_.j41(5,"div",14),_.EFF(6),_.nI1(7,"date"),_.k0s(),_.DNE(8,Cn,1,0,"div",15),_.k0s()}if(2&st){const xe=kt.$implicit,Mt=_.XpG();_.AVh("text-secondary-content",xe.is_start||xe.is_end),_.Y8G("disabled",xe.disabled),_.R7$(),_.Y8G("ngIf",xe.is_selected&&!xe.is_start&&!xe.is_end),_.R7$(),_.Y8G("ngIf",xe.is_start&&Mt.end_after_start),_.R7$(),_.Y8G("ngIf",xe.is_end&&Mt.end_after_start),_.R7$(),_.Y8G("ngIf",xe.is_start||xe.is_end),_.R7$(),_.AVh("opacity-30",!xe.is_month),_.R7$(),_.SpI(" ",_.i5U(7,11,xe.id,"d")," "),_.R7$(2),_.Y8G("ngIf",xe.is_today)}}let Xn=(()=>{class st{constructor(){this.from_date=(0,Pt.o)(Date.now()).valueOf(),this.offset_weekday=0,this.month=(0,Pt.o)(Date.now()).valueOf(),this.startChange=new _.bkB,this.endChange=new _.bkB,this.hovered_date=null,this.weekdays=[],this.month_days=[]}get end_after_start(){return this.end&&this.end>this.start&&!(0,Dt.r)(this.end,this.start)}ngOnInit(){this._setWeekdays(),this._setMonthDays()}ngOnChanges(xe){xe.offset_weekday&&(this._setWeekdays(),this._setMonthDays()),xe.start&&(this._setMonthDays(),this.month=this.start||Date.now()),xe.month&&this._setMonthDays(),xe.end&&this._setMonthDays()}selectDate(xe){!this.start||xe<this.start?(this.start=xe,this.startChange.emit(xe)):(this.end=xe,this.endChange.emit(xe)),this._setMonthDays()}setHoveredDate(xe){this.start&&(this.end=xe,this._setMonthDays())}trackByFn(xe,Mt){return Mt.id}nextMonth(){this.month=(0,nn.P)(this.month,1).valueOf(),this._setMonthDays()}previousMonth(){this.month=(0,nn.P)(this.month,-1).valueOf(),this._setMonthDays()}_setMonthDays(){const xe=(0,Tt.k)((0,It.w)(this.month),{weekStartsOn:this.offset_weekday});this.month_days=Array.from(Array(42).keys()).map(Mt=>{const Z=(0,Gt.f)(xe,Mt).valueOf();return{id:Z,disabled:this.from_date&&(0,At.Y)(Z,this.from_date)||this.to_date&&(0,tn.d)(Z,this.to_date),is_today:(0,Dt.r)(Z,Date.now()),is_start:(0,Dt.r)(Z,this.start),is_end:(0,Dt.r)(Z,this.end),is_month:(0,vn.t)(Z,this.month),is_selected:this.end&&Z>=(0,Pt.o)(this.start).valueOf()&&Z<=(0,yt.D)(this.end).valueOf()}})}_setWeekdays(){const xe=(0,Tt.k)(Date.now(),{weekStartsOn:this.offset_weekday});this.weekdays=Array.from(Array(7).keys()).map(Mt=>(0,Gt.f)(xe,Mt))}static#e=this.\u0275fac=function(Mt){return new(Mt||st)};static#t=this.\u0275cmp=_.VBU({type:st,selectors:[["date-range-calendar"]],inputs:{from_date:[0,"from","from_date"],to_date:[0,"to","to_date"],offset_weekday:"offset_weekday",start:"start",end:"end",month:"month"},outputs:{startChange:"startChange",endChange:"endChange"},features:[_.OA$],decls:15,vars:7,consts:[[1,"flex","items-center","justify-between"],["month","",1,"font-medium","px-2"],[1,"flex","items-center","space-x-2"],["icon","","matRipple","",3,"click"],[1,"grid","grid-cols-7","grid-rows-7","gap-1","w-[17.25rem]","h-[17.25rem]"],[1,"col-span-full","grid","grid-cols-7","border-b","border-base-200"],["weekday","","class","relative flex items-center justify-center text-sm opacity-60",4,"ngFor","ngForOf"],["class","relative h-9 w-9 hover:bg-base-200 rounded-full",3,"text-secondary-content","disabled","click","mouseenter",4,"ngFor","ngForOf","ngForTrackBy"],["weekday","",1,"relative","flex","items-center","justify-center","text-sm","opacity-60"],[1,"relative","h-9","w-9","hover:bg-base-200","rounded-full",3,"click","mouseenter","disabled"],["class","absolute inset-y-0 -inset-x-0.5 border-y border-base-content border-dashed bg-base-200",4,"ngIf"],["class","absolute inset-y-0 -right-0.5 w-[calc(50%+2px)] border-y border-base-content border-dashed bg-base-200",4,"ngIf"],["class","absolute inset-y-0 -left-0.5 w-[calc(50%+2px)] border-y border-base-content border-dashed bg-base-200",4,"ngIf"],["class","absolute inset-0 flex items-center justify-center bg-secondary rounded-full z-10",4,"ngIf"],["matRipple","",1,"absolute","inset-0","flex","items-center","justify-center","rounded-full","z-20"],["class","absolute -inset-[3px] flex items-center justify-center border border-secondary rounded-full z-10",4,"ngIf"],[1,"absolute","inset-y-0","-inset-x-0.5","border-y","border-base-content","border-dashed","bg-base-200"],[1,"absolute","inset-y-0","-right-0.5","w-[calc(50%+2px)]","border-y","border-base-content","border-dashed","bg-base-200"],[1,"absolute","inset-y-0","-left-0.5","w-[calc(50%+2px)]","border-y","border-base-content","border-dashed","bg-base-200"],[1,"absolute","inset-0","flex","items-center","justify-center","bg-secondary","rounded-full","z-10"],[1,"absolute","-inset-[3px]","flex","items-center","justify-center","border","border-secondary","rounded-full","z-10"]],template:function(Mt,Z){1&Mt&&(_.j41(0,"div",0)(1,"div",1),_.EFF(2),_.nI1(3,"date"),_.k0s(),_.j41(4,"div",2)(5,"button",3),_.bIt("click",function(){return Z.previousMonth()}),_.j41(6,"app-icon"),_.EFF(7,"chevron_left"),_.k0s()(),_.j41(8,"button",3),_.bIt("click",function(){return Z.nextMonth()}),_.j41(9,"app-icon"),_.EFF(10,"chevron_right"),_.k0s()()()(),_.j41(11,"div",4)(12,"div",5),_.DNE(13,wn,3,4,"div",6),_.k0s(),_.DNE(14,kn,9,14,"button",7),_.k0s()),2&Mt&&(_.R7$(2),_.SpI(" ",_.i5U(3,4,Z.month,"MMMM yyyy")," "),_.R7$(11),_.Y8G("ngForOf",Z.weekdays),_.R7$(),_.Y8G("ngForOf",Z.month_days)("ngForTrackBy",Z.trackByFn))},dependencies:[e.Sq,e.bT,g.r6,D.R,e.vh]})}return st})();var to=o(2238),Si=o(5080),Vn=o(3208),ni=o(4006);let ht=(()=>{class st{static#e=this.\u0275fac=function(Mt){return new(Mt||st)};static#t=this.\u0275mod=_.$C({type:st});static#n=this.\u0275inj=_.G2t({imports:[e.MD,n.YN,n.X1,g.pZ,n.X1,p.RG,f.fS,b.Ve,d.jL,y.uc,R.g7,m.Wk,h.YN,l.FQ,v.h]})}return st})();_.wjB(P.G,[e.bT,n.BC,n.vS,g.r6,D.R,to.I,Qe.I],[e.vh]),_.wjB(jt,[g.r6,D.R,to.I,Xn],[e.vh]),_.wjB(x.T,[e.Sq,e.bT,n.me,n.BC,n.vS,g.r6,p.rl,p.yw,g.wT,d.$3,d.pN,d.Vn,y.oV,h.HW,h.D7,h.Zv,h.jH,D.R,ne.LG],[e.Jj,Ue]),_.wjB(I.$,[e.Sq,e.bT,n.me,n.BC,n.vS,p.rl,p.JW,p.yw,f.fg,g.wT,d.$3,d.pN,D.R,Si.e,ne.LG],[]),_.wjB(We.K,[e.Sq,e.bT,n.BC,n.vS,g.r6,m.VT,m._g,D.R,Vn.U],[e.Jj]),_.wjB(ge.$,[e.Sq,e.bT,g.r6,p.rl,y.oV,h.HW,h.D7,h.Zv,h.jH,D.R,Vn.U,ne.LG],[e.Jj]),_.wjB(Ge.c,[e.Sq,e.bT,n.qT,n.me,n.BC,n.cb,n.j4,n.JD,g.r6,p.rl,p.TL,f.fg,b.VO,g.wT,D.R,ni.tx,ne.LG,Xe.d,ge.$],[e.Jj]),_.wjB(Ee.Z,[e.bT,n.me,n.Q0,n.BC,n.vS,g.r6,p.rl,p.yw,f.fg,b.VO,g.wT,m.VT,m._g,D.R,ni.tx,P.G],[]),_.wjB(Fe,[e.Sq,e.bT,n.me,n.BC,n.cb,n.vS,n.j4,n.JD,n.$R,p.rl,p.TL,f.fg,b.VO,g.wT,y.oV,R.So,P.G,M.y,$],[e.Jj,e.vh])},744:(gt,re,o)=>{"use strict";o.d(re,{I:()=>te});var e=o(467),n=o(3953),l=o(9417),h=o(9707),g=o(2372),p=o(3693),f=o(6576),b=o(4421),d=o(4279),y=o(7354),R=o(762),m=o(7765),v=o(3004);class S{constructor(K){this.resultSelector=K}call(K,k){return k.subscribe(new P(K,this.resultSelector))}}class P extends R.v{constructor(K,k,j=Object.create(null)){super(K),this.resultSelector=k,this.iterators=[],this.active=0,this.resultSelector="function"==typeof k?k:void 0}_next(K){const k=this.iterators;(0,y.c)(K)?k.push(new w(K)):k.push("function"==typeof K[m.lJ]?new M(K[m.lJ]()):new x(this.destination,this,K))}_complete(){const K=this.iterators,k=K.length;if(this.unsubscribe(),0!==k){this.active=k;for(let j=0;j<k;j++){let W=K[j];W.stillUnsubscribed?this.destination.add(W.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const K=this.iterators,k=K.length,j=this.destination;for(let ce=0;ce<k;ce++){let oe=K[ce];if("function"==typeof oe.hasValue&&!oe.hasValue())return}let W=!1;const ie=[];for(let ce=0;ce<k;ce++){let oe=K[ce],me=oe.next();if(oe.hasCompleted()&&(W=!0),me.done)return void j.complete();ie.push(me.value)}this.resultSelector?this._tryresultSelector(ie):j.next(ie),W&&j.complete()}_tryresultSelector(K){let k;try{k=this.resultSelector.apply(this,K)}catch(j){return void this.destination.error(j)}this.destination.next(k)}}class M{constructor(K){this.iterator=K,this.nextResult=K.next()}hasValue(){return!0}next(){const K=this.nextResult;return this.nextResult=this.iterator.next(),K}hasCompleted(){const K=this.nextResult;return!(!K||!K.done)}}class w{constructor(K){this.array=K,this.index=0,this.length=0,this.length=K.length}[m.lJ](){return this}next(K){const k=this.index++;return k<this.length?{value:this.array[k],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class x extends v.gn{constructor(K,k,j){super(K),this.parent=k,this.observable=j,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[m.lJ](){return this}next(){const K=this.buffer;return 0===K.length&&this.isComplete?{value:null,done:!0}:{value:K.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(K){this.buffer.push(K),this.parent.checkIterators()}subscribe(){return(0,v.tS)(this.observable,new v.zA(this))}}var I=o(9090),_=o(3921),C=o(5006),D=o(8712),A=o(9493),B=o(177),F=o(3719),$=o(2798),U=o(6600);function G(ne,K){if(1&ne&&(n.j41(0,"mat-option",5)(1,"div",6)(2,"div"),n.EFF(3),n.k0s(),n.j41(4,"span",7),n.EFF(5,"\xa0|\xa0"),n.k0s(),n.j41(6,"div",8),n.EFF(7),n.k0s()()()),2&ne){const k=K.$implicit;n.Y8G("value",null==k?null:k.email),n.R7$(3),n.JRh(k.name),n.R7$(4),n.JRh(null==k?null:k.email)}}function J(ne,K){1&ne&&n.eu8(0)}let te=(()=>{class ne{constructor(){this.users=(0,b.of)(1).pipe((0,I.n)(()=>(0,f.CH)().pipe((0,_.W)(k=>(0,b.of)([])))),(0,I.n)(k=>function O(...ne){const K=ne[ne.length-1];return"function"==typeof K&&ne.pop(),(0,d.c)(ne,void 0).lift(new S(K))}(...k.map(j=>(0,g.SZ)(j.id).pipe((0,_.W)(W=>(0,b.of)(null)))))),(0,C.T)(k=>(0,h.Am)([(0,h.Ny)(),...k],"email")),(0,D.t)(1)),this.disabled=!1,this.registerOnChange=k=>this._onChange=k,this.registerOnTouched=k=>this._onTouch=k,this.setDisabledState=k=>this.disabled=k}setValue(k){var j=this;return(0,e.A)(function*(){const W=yield j.users.pipe((0,A.s)(1)).toPromise();j.item=W?.find(ie=>ie.email===k),j.item||(j.item=new p.KJ({email:k})),j._onChange&&j._onChange(j.item)})()}writeValue(k){this.item=k,k?.email||(this.item=(0,h.Ny)())}static#e=this.\u0275fac=function(j){return new(j||ne)};static#t=this.\u0275cmp=n.VBU({type:ne,selectors:[["host-select-field"]],features:[n.Jv_([{provide:l.kq,useExisting:(0,n.Rfq)(()=>ne),multi:!0}])],decls:8,vars:9,consts:()=>{let k;return k=$localize`:␟1cdb1c4c30b26c94c19e88ecdbde0e55665504d4␟5838187330179805553:Host is required`,[k,["appearance","outline",1,"w-full"],[3,"ngModelChange","ngModel","disabled","placeholder"],["class","leading-tight",3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"leading-tight",3,"value"],[1,"flex","flex-col"],[1,"hidden"],[1,"text-xs","opacity-60"]]},template:function(j,W){1&j&&(n.j41(0,"mat-form-field",1)(1,"mat-select",2),n.bIt("ngModelChange",function(ce){return W.setValue(ce)}),n.DNE(2,G,8,3,"mat-option",3),n.nI1(3,"async"),n.k0s(),n.j41(4,"mat-error"),n.pXf(5,0),n.k0s()(),n.DNE(6,J,1,0,"ng-container",4),n.nI1(7,"async")),2&j&&(n.R7$(),n.Y8G("ngModel",null==W.item?null:W.item.email)("disabled",W.disabled)("placeholder",null!=W.item&&W.item.email?W.item.name||W.item.email:"Select host"),n.R7$(),n.Y8G("ngForOf",n.bMT(3,5,W.users)),n.R7$(4),n.Y8G("ngIf",n.bMT(7,7,W.users)))},dependencies:[B.Sq,B.bT,l.BC,l.vS,F.rl,F.TL,$.VO,U.wT,B.Jj]})}return ne})()},6864:(gt,re,o)=>{"use strict";o.d(re,{$:()=>D});var e=o(467),n=o(7336),l=o(3953),h=o(9417),g=o(9928),p=o(9714),f=o(5006),b=o(9493),d=o(9707),y=o(6821),R=o(3801),m=o(4006);const v=["image_list"],O=["file_input"];function S(A,B){if(1&A){const F=l.RV6();l.j41(0,"div",17),l.nrm(1,"img",18),l.j41(2,"div",19),l.nrm(3,"div",20),l.j41(4,"div",21)(5,"button",22),l.bIt("click",function(){const U=l.eBV(F).$implicit,G=l.XpG();return l.Njj(G.copyLink(U))}),l.j41(6,"app-icon"),l.EFF(7,"link"),l.k0s()(),l.j41(8,"button",22),l.bIt("click",function(){const U=l.eBV(F).$implicit,G=l.XpG();return l.Njj(G.viewImage(U))}),l.j41(9,"app-icon"),l.EFF(10,"visibility"),l.k0s()(),l.j41(11,"button",22),l.bIt("click",function(){const U=l.eBV(F).$implicit,G=l.XpG();return l.Njj(G.removeImage(U))}),l.j41(12,"app-icon"),l.EFF(13,"close"),l.k0s()()()()()}if(2&A){const F=B.$implicit,$=l.XpG();l.xc7("transform","translate(-"+$.offset+"00%)"),l.R7$(),l.Y8G("source",F)}}function P(A,B){if(1&A&&l.nrm(0,"mat-progress-spinner",27),2&A){const F=l.XpG().$implicit;l.Y8G("value",F.progress)("diameter",64)}}function M(A,B){1&A&&(l.j41(0,"app-icon",28),l.EFF(1,"warning"),l.k0s())}function w(A,B){1&A&&(l.j41(0,"div",29)(1,"app-icon",30),l.EFF(2,"refresh"),l.k0s()())}function x(A,B){if(1&A){const F=l.RV6();l.j41(0,"div",23),l.bIt("click",function(){const U=l.eBV(F).$implicit,G=l.XpG();return l.Njj(G.retryUpload(U))}),l.DNE(1,P,1,2,"mat-progress-spinner",24)(2,M,2,0,"app-icon",25)(3,w,3,0,"div",26),l.k0s()}if(2&A){const F=B.$implicit,$=l.XpG();l.xc7("transform","translate(-"+$.offset+"00%)"),l.Y8G("matTooltip",F.error),l.R7$(),l.Y8G("ngIf",!F.error),l.R7$(),l.Y8G("ngIf",F.error),l.R7$(),l.Y8G("ngIf",F.error)}}function I(A,B){if(1&A){const F=l.RV6();l.j41(0,"button",31),l.bIt("click",function(){l.eBV(F);const U=l.XpG();return l.Njj(U.offset=U.offset-1)}),l.j41(1,"app-icon"),l.EFF(2,"chevron_left"),l.k0s()()}if(2&A){const F=l.XpG();l.Y8G("disabled",0===F.offset)}}function _(A,B){if(1&A){const F=l.RV6();l.j41(0,"button",32),l.bIt("click",function(){l.eBV(F);const U=l.XpG();return l.Njj(U.offset=U.offset+1)}),l.j41(1,"app-icon"),l.EFF(2,"chevron_right"),l.k0s()()}if(2&A){const F=l.XpG();l.Y8G("disabled",F.offset>=F.length-F.view_space)}}function C(A,B){if(1&A){const F=l.RV6();l.j41(0,"mat-chip-row",33),l.bIt("removed",function(){const U=l.eBV(F).$implicit,G=l.XpG();return l.Njj(G.removeImage(U))}),l.j41(1,"div",34),l.EFF(2),l.k0s(),l.j41(3,"button",35)(4,"app-icon"),l.EFF(5,"cancel"),l.k0s()()()}if(2&A){const F=B.$implicit;l.R7$(2),l.JRh(F),l.R7$(),l.BMQ("aria-label","Remove "+F)}}let D=(()=>{class A extends d.Tv{get length(){return this.list.length+this._upload_list.getValue().length+1}constructor(F,$,U){super(),this._clipboard=F,this._uploads=$,this._dialog=U,this.list=[],this.upload_ids=new g.t([]),this._upload_list=new g.t([]),this.upload_list=this._upload_list.asObservable(),this.offset=0,this.view_space=0,this.separators=[n.KE,n.Fm],this.uploads=(0,p.zV)([this.upload_list,this.upload_ids]).pipe((0,f.T)(([G,J])=>G.filter(te=>J.includes(te.id)))),this.registerOnChange=G=>this._onChange=G,this.registerOnTouched=G=>this._onTouch=G}ngAfterViewInit(){this.timeout("init_view_space",()=>{const F=this._list_el.nativeElement.getBoundingClientRect();this.view_space=Math.floor(F.width/152)},100),this.subscription("upload_changes",this.upload_list.subscribe(F=>{const $=this.upload_ids.getValue();for(const U of $){const G=F.find(J=>J.id===U);G&&G.progress>=100&&(this.addImageUrl(G.link),this.upload_ids.next(this.upload_ids.getValue().filter(J=>J!==U)))}}))}copyLink(F){this._clipboard.copy(F),(0,d.uA)("Copied image URL to clipboard")}viewImage(F){this._dialog.open(y.d,{data:F})}removeImage(F){this.setValue(this.list.filter($=>$!==F))}addImage(F){F.value&&(this.setValue((0,d.Am)([...this.list,F.value])),F.chipInput.inputElement.value="")}addImageUrl(F){this.setValue((0,d.Am)([...this.list,F]))}retryUpload(F){F.error&&(F.error=null,F.upload.resume())}uploadImages(F){var $=this;return(0,e.A)(function*(){const U=F.target;if(U?.files){const G=U.files;if(G.length){$.interval("update_status",()=>$._updateUploadHistory());for(let J=0;J<G.length;J++){const te=yield $._uploads.uploadFileWithPermissions(G[J]);$.upload_ids.next([...$.upload_ids.getValue(),te]),$._file_input.nativeElement.value=""}}}})()}setValue(F){this.list=F,this._onChange&&this._onChange(F)}writeValue(F){this.list=F||[]}_updateUploadHistory(){var F=this;return(0,e.A)(function*(){const $=F.upload_ids.getValue();if(0===$.length)return;const G=(yield F._uploads.upload_list.pipe((0,b.s)(1)).toPromise()).filter(te=>$.find(ne=>ne===te.id)),J=G.filter(te=>te.progress>=100);F._upload_list.next(G),J.forEach(te=>delete te.upload),J.length>=$.length&&F.clearInterval("update_status")})()}static#e=this.\u0275fac=function($){return new($||A)(l.rXU(R.B0),l.rXU(d.CS),l.rXU(m.bZ))};static#t=this.\u0275cmp=l.VBU({type:A,selectors:[["image-list-field"]],viewQuery:function($,U){if(1&$&&(l.GBs(v,5),l.GBs(O,5)),2&$){let G;l.mGM(G=l.lsd())&&(U._list_el=G.first),l.mGM(G=l.lsd())&&(U._file_input=G.first)}},features:[l.Jv_([{provide:h.kq,useExisting:(0,l.Rfq)(()=>A),multi:!0}]),l.Vt3],decls:19,vars:12,consts:()=>{let F,$;return F=$localize`:␟dc952a36d53a7092578b8706e3c6e28fd59866bf␟7586116958417863153:Add image via URL`,$=$localize`:␟3f0243e1118dafecaa05696a3dffcbfb83295f9b␟889671581456916004:Upload Image(s)`,[["image_list",""],["file_input",""],["chipList",""],$,["images","",1,"space-x-2","py-2","overflow-hidden","mb-2","w-full","flex","items-center","relative",3,"resize"],["image","",1,"relative","rounded","border-2","border-base-200","border-dashed","flex-shrink-0","flex","flex-col","items-center","justify-center","h-32","w-36","hover:bg-base-content/10",":bg-base-100/10","cursor-pointer"],[1,"text-4xl","opacity-60"],[1,"opacity-60"],["type","file",1,"absolute","inset-0","opacity-0","h-32","w-32","cursor-pointer",3,"change"],["image","","class","bg-center bg-cover h-32 w-36 relative rounded overflow-hidden flex-shrink-0 bg-base-200",3,"transform",4,"ngFor","ngForOf"],["image","","class","bg-center bg-cover h-32 w-36 rounded border border-base-content/10 /5 bg-base-200  flex items-center justify-center flex-shrink-0",3,"transform","matTooltip","click",4,"ngFor","ngForOf"],["icon","","matRipple","","class","absolute top-1/2 left-0 transform -translate-y-1/2 bg-base-100",3,"disabled","click",4,"ngIf"],["icon","","matRipple","","class","absolute top-1/2 right-0 transform -translate-y-1/2 bg-base-100",3,"disabled","click",4,"ngIf"],["appearance","outline",1,"w-full"],["aria-label","Image List"],[3,"removed",4,"ngFor","ngForOf"],["placeholder",F,3,"matChipInputTokenEnd","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur"],["image","",1,"bg-center","bg-cover","h-32","w-36","relative","rounded","overflow-hidden","flex-shrink-0","bg-base-200"],["auth","",1,"object-contain","absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2","z-10","pointer-events-none",3,"source"],["overlay","",1,"absolute","inset-0","text-base-100","z-20"],["bg","",1,"absolute","inset-0","opacity-0","bg-black"],["actions","",1,"absolute","top-0","left-0","right-0","flex","items-center","justify-center","space-x-2","opacity-0"],["icon","",3,"click"],["image","",1,"bg-center","bg-cover","h-32","w-36","rounded","border","border-base-content/10","/5","bg-base-200","flex","items-center","justify-center","flex-shrink-0",3,"click","matTooltip"],["mode","determinate",3,"value","diameter",4,"ngIf"],["class","text-error text-6xl",4,"ngIf"],["overlay","","class","absolute inset-0 hover:bg-base-content hover:bg-opacity-50 text-base-100 flex items-center justify-center",4,"ngIf"],["mode","determinate",3,"value","diameter"],[1,"text-error","text-6xl"],["overlay","",1,"absolute","inset-0","hover:bg-base-content","hover:bg-opacity-50","text-base-100","flex","items-center","justify-center"],[1,"text-3xl","opacity-0"],["icon","","matRipple","",1,"absolute","top-1/2","left-0","transform","-translate-y-1/2","bg-base-100",3,"click","disabled"],["icon","","matRipple","",1,"absolute","top-1/2","right-0","transform","-translate-y-1/2","bg-base-100",3,"click","disabled"],[3,"removed"],[1,"truncate","max-w-md"],["matChipRemove",""]]},template:function($,U){if(1&$){const G=l.RV6();l.j41(0,"div",4,0),l.bIt("resize",function(){return l.eBV(G),l.Njj(U.ngAfterViewInit())},!1,l.tSv),l.j41(2,"div",5)(3,"app-icon",6),l.EFF(4,"add"),l.k0s(),l.j41(5,"p",7),l.pXf(6,3),l.k0s(),l.j41(7,"input",8,1),l.bIt("change",function(te){return l.eBV(G),l.Njj(U.uploadImages(te))}),l.k0s()(),l.DNE(9,S,14,3,"div",9)(10,x,4,6,"div",10),l.nI1(11,"async"),l.DNE(12,I,3,1,"button",11)(13,_,3,1,"button",12),l.k0s(),l.j41(14,"mat-form-field",13)(15,"mat-chip-grid",14,2),l.DNE(17,C,6,2,"mat-chip-row",15),l.k0s(),l.j41(18,"input",16),l.bIt("matChipInputTokenEnd",function(te){return l.eBV(G),l.Njj(U.addImage(te))}),l.k0s()()}if(2&$){const G=l.sdS(16);l.R7$(2),l.xc7("transform","translate(-"+U.offset+"00%)"),l.R7$(7),l.Y8G("ngForOf",U.list),l.R7$(),l.Y8G("ngForOf",l.bMT(11,10,U.uploads)),l.R7$(2),l.Y8G("ngIf",U.length>U.view_space),l.R7$(),l.Y8G("ngIf",U.length>U.view_space),l.R7$(4),l.Y8G("ngForOf",U.list),l.R7$(),l.Y8G("matChipInputFor",G)("matChipInputSeparatorKeyCodes",U.separators)("matChipInputAddOnBlur",!0)}},styles:["[_nghost-%COMP%]{width:100%}[overlay][_ngcontent-%COMP%]{transition:background .2s}[image][_ngcontent-%COMP%]:hover   [actions][_ngcontent-%COMP%], [image][_ngcontent-%COMP%]:hover > app-icon[_ngcontent-%COMP%]{opacity:1!important}[image][_ngcontent-%COMP%]:hover   [bg][_ngcontent-%COMP%]{opacity:.4!important}[actions][_ngcontent-%COMP%], [image][_ngcontent-%COMP%] > app-icon[_ngcontent-%COMP%]{transition:opacity .2s}[image][_ngcontent-%COMP%]{transition:transform .2s}"]})}return A})()},3138:(gt,re,o)=>{"use strict";o.d(re,{E:()=>S});var e=o(3953),n=o(9417),l=o(1280),h=o(2756),g=o(4512),p=o(906),f=o(6299),b=o(4233),d=o(4006),y=o(177),R=o(3719),m=o(2798),v=o(6600);function O(P,M){if(1&P&&(e.j41(0,"mat-option",8),e.EFF(1),e.k0s()),2&P){const w=e.XpG();e.R7$(),e.SpI(" ",w.formatted_value," ")}}let S=(()=>{class P{constructor(w,x){this._dialog=w,this._settings=x,this.date=Date.now(),this.value={pattern:"none"}}ngOnChanges(w){if(w.date&&this.date){const x=new Date(this.date).getDate(),I=Math.floor(x/7)+(x%7?1:0);this.instance_of_month=`${I}${2===I?"nd":3===I?"rd":"th"}`,(4===I&&x>=25||5===I)&&(this.instance_of_month="Last"),1===I&&(this.instance_of_month="First"),this.value={...this.value,start:this.date,days_of_week:this.value.pattern?this.value.days_of_week:[new Date(this.date).getDay()]},this.setValue(this.value)}}get formatted_value(){return(0,l.qq)(this.value)}setValue(w){this.value=w,this._onChange&&this._onChange(w)}writeValue(w){this.value=w||{}}registerOnChange(w){this._onChange=w}registerOnTouched(w){this._onTouch=w}openCustomRecurrenceModal(){this.value.pattern||(this.value.days_of_week=[new Date(this.date).getDay()]);const w=this._dialog.open(h.Z,{data:{value:this.value}});this.setValue({...this.value,_pattern:"none"}),w.afterClosed().subscribe(x=>{this.setValue({...x||this.value,_pattern:x?"custom_display":this.old_value})})}setSimple(w){const x=new Date(this.date).getDay(),I=this._settings.get("app.default_recurrence_period")||180;this.old_value=this.value._pattern,"none"===w?this.setValue({pattern:null,_pattern:"none",days_of_week:[x]}):"daily"===w||"weekly"===w||"monthly"===w?this.setValue({pattern:w,_pattern:w,start:this.date,end:(0,g.D)((0,p.f)(this.date,I)).valueOf(),days_of_week:[x],interval:1}):"yearly"===w&&this.setValue({pattern:w,_pattern:w,start:this.date,end:(0,f.e)(this.date,7).valueOf(),days_of_week:[x],interval:1})}static#e=this.\u0275fac=function(x){return new(x||P)(e.rXU(d.bZ),e.rXU(b.h))};static#t=this.\u0275cmp=e.VBU({type:P,selectors:[["recurrence-field"]],inputs:{date:"date"},features:[e.Jv_([{provide:n.kq,useExisting:(0,e.Rfq)(()=>P),multi:!0}]),e.OA$],decls:15,vars:11,consts:[["appearance","outline",1,"w-full"],["placeholder","Doesn't repeat",3,"ngModelChange","ngModel"],["value","none"],["value","daily"],["value","weekly"],["value","monthly"],["value","custom_display",4,"ngIf"],["value","custom",3,"click"],["value","custom_display"]],template:function(x,I){1&x&&(e.j41(0,"mat-form-field",0)(1,"mat-select",1),e.bIt("ngModelChange",function(C){return I.setSimple(C)}),e.j41(2,"mat-option",2),e.EFF(3,"Doesn't repeat"),e.k0s(),e.j41(4,"mat-option",3),e.EFF(5,"Daily"),e.k0s(),e.j41(6,"mat-option",4),e.EFF(7),e.nI1(8,"date"),e.k0s(),e.j41(9,"mat-option",5),e.EFF(10),e.nI1(11,"date"),e.k0s(),e.DNE(12,O,2,1,"mat-option",6),e.j41(13,"mat-option",7),e.bIt("click",function(){return I.openCustomRecurrenceModal()}),e.EFF(14," Custom... "),e.k0s()()()),2&x&&(e.R7$(),e.Y8G("ngModel",I.value._pattern),e.R7$(6),e.SpI(" Weekly on ",e.i5U(8,5,I.date,"EEEE")," "),e.R7$(3),e.Lme(" ",I.instance_of_month," ",e.i5U(11,8,I.date,"EEEE")," of Month "),e.R7$(2),e.Y8G("ngIf","custom_display"===I.value._pattern))},dependencies:[y.bT,n.BC,n.vS,R.rl,m.VO,v.wT,y.vh],styles:["[value][_ngcontent-%COMP%]{min-width:3em}"]})}return P})()},2756:(gt,re,o)=>{"use strict";o.d(re,{Z:()=>p});var e=o(4006),n=o(906),l=o(3953);function h(f,b){1&f&&(l.j41(0,"h2",24),l.EFF(1," Repeat on "),l.k0s())}function g(f,b){if(1&f){const d=l.RV6();l.j41(0,"div",25)(1,"button",26),l.bIt("click",function(){l.eBV(d);const R=l.XpG();return l.Njj(R.toggleDayOfWeek(0))}),l.EFF(2," S "),l.k0s(),l.j41(3,"button",26),l.bIt("click",function(){l.eBV(d);const R=l.XpG();return l.Njj(R.toggleDayOfWeek(1))}),l.EFF(4," M "),l.k0s(),l.j41(5,"button",26),l.bIt("click",function(){l.eBV(d);const R=l.XpG();return l.Njj(R.toggleDayOfWeek(2))}),l.EFF(6," T "),l.k0s(),l.j41(7,"button",26),l.bIt("click",function(){l.eBV(d);const R=l.XpG();return l.Njj(R.toggleDayOfWeek(3))}),l.EFF(8," W "),l.k0s(),l.j41(9,"button",26),l.bIt("click",function(){l.eBV(d);const R=l.XpG();return l.Njj(R.toggleDayOfWeek(4))}),l.EFF(10," T "),l.k0s(),l.j41(11,"button",26),l.bIt("click",function(){l.eBV(d);const R=l.XpG();return l.Njj(R.toggleDayOfWeek(5))}),l.EFF(12," F "),l.k0s(),l.j41(13,"button",26),l.bIt("click",function(){l.eBV(d);const R=l.XpG();return l.Njj(R.toggleDayOfWeek(6))}),l.EFF(14," S "),l.k0s()()}if(2&f){const d=l.XpG();l.R7$(),l.AVh("inverse",!(null!=d.data.days_of_week&&d.data.days_of_week.includes(0))),l.R7$(2),l.AVh("inverse",!(null!=d.data.days_of_week&&d.data.days_of_week.includes(1))),l.R7$(2),l.AVh("inverse",!(null!=d.data.days_of_week&&d.data.days_of_week.includes(2))),l.R7$(2),l.AVh("inverse",!(null!=d.data.days_of_week&&d.data.days_of_week.includes(3))),l.R7$(2),l.AVh("inverse",!(null!=d.data.days_of_week&&d.data.days_of_week.includes(4))),l.R7$(2),l.AVh("inverse",!(null!=d.data.days_of_week&&d.data.days_of_week.includes(5))),l.R7$(2),l.AVh("inverse",!(null!=d.data.days_of_week&&d.data.days_of_week.includes(6)))}}let p=(()=>{class f{constructor(d){this._data=d,this.data={...this._data.value,end:this._data.value.end||(0,n.f)(new Date,7).valueOf(),interval:this._data.value.interval||1,pattern:this._data.value.pattern?this._data.value.pattern:"weekly",occurrences:this._data.value.occurrences||1},this.ends_key="never"}toggleDayOfWeek(d){this.data.days_of_week||(this.data.days_of_week=[]),this.data.days_of_week.includes(d)?this.data.days_of_week=this.data.days_of_week.filter(y=>y!==d):this.data.days_of_week.push(d)}static#e=this.\u0275fac=function(y){return new(y||f)(l.rXU(e.Vh))};static#t=this.\u0275cmp=l.VBU({type:f,selectors:[["recurrence-modal"]],decls:42,vars:13,consts:[["btn","","icon","","mat-dialog-close","","matRipple",""],[1,"p-4"],[1,"flex","items-center","space-x-2","mb-4"],["appearance","outline",1,"w-16"],["matInput","","type","number",3,"ngModelChange","ngModel"],["appearance","outline"],[3,"ngModelChange","ngModel"],["value","daily"],["value","weekly"],["value","month_day"],["for","repeat-on","class","mb-2",4,"ngIf"],["class","flex items-center space-x-2 mb-4","name","repeat-on",4,"ngIf"],["for","ends-at"],["name","ends-at",3,"ngModelChange","ngModel"],[1,"flex","items-center"],["value","never",3,"click"],[1,"flex","items-center","space-x-2"],["value","on"],[3,"ngModelChange","ngModel","disabled"],["value","after"],["matInput","","type","number",3,"ngModelChange","ngModel","disabled"],["matSuffix",""],[1,"px-4","py-2","flex","items-center","justify-end","border-t","border-base-200"],["btn","","matRipple","",1,"w-32",3,"click","mat-dialog-close"],["for","repeat-on",1,"mb-2"],["name","repeat-on",1,"flex","items-center","space-x-2","mb-4"],["btn","","matRipple","",1,"w-12",3,"click"]],template:function(y,R){1&y&&(l.j41(0,"header")(1,"h2"),l.EFF(2,"Custom Recurrence"),l.k0s(),l.j41(3,"button",0)(4,"app-icon"),l.EFF(5,"close"),l.k0s()()(),l.j41(6,"main",1)(7,"div",2)(8,"div"),l.EFF(9,"Repeat every"),l.k0s(),l.j41(10,"mat-form-field",3)(11,"input",4),l.mxI("ngModelChange",function(v){return l.DH7(R.data.interval,v)||(R.data.interval=v),v}),l.k0s()(),l.j41(12,"mat-form-field",5)(13,"mat-select",6),l.mxI("ngModelChange",function(v){return l.DH7(R.data.pattern,v)||(R.data.pattern=v),v}),l.j41(14,"mat-option",7),l.EFF(15),l.k0s(),l.j41(16,"mat-option",8),l.EFF(17),l.k0s(),l.j41(18,"mat-option",9),l.EFF(19),l.k0s()()()(),l.DNE(20,h,2,0,"h2",10)(21,g,15,14,"div",11),l.j41(22,"h2",12),l.EFF(23,"Ends"),l.k0s(),l.j41(24,"mat-radio-group",13),l.mxI("ngModelChange",function(v){return l.DH7(R.ends_key,v)||(R.ends_key=v),v}),l.j41(25,"div",14)(26,"mat-radio-button",15),l.bIt("click",function(){return R.data.occurrences=0}),l.EFF(27," Never "),l.k0s()(),l.j41(28,"div",16)(29,"mat-radio-button",17),l.EFF(30,"On"),l.k0s(),l.j41(31,"a-date-field",18),l.mxI("ngModelChange",function(v){return l.DH7(R.data.end,v)||(R.data.end=v),v}),l.k0s()(),l.j41(32,"div",16)(33,"mat-radio-button",19),l.EFF(34,"After"),l.k0s(),l.j41(35,"mat-form-field",5)(36,"input",20),l.mxI("ngModelChange",function(v){return l.DH7(R.data.occurrences,v)||(R.data.occurrences=v),v}),l.k0s(),l.j41(37,"span",21),l.EFF(38,"occurences"),l.k0s()()()()(),l.j41(39,"footer",22)(40,"button",23),l.bIt("click",function(){return R.data.occurrences="never"===R.ends_key?0:R.data.occurrences}),l.EFF(41," Save "),l.k0s()()),2&y&&(l.R7$(11),l.R50("ngModel",R.data.interval),l.R7$(2),l.R50("ngModel",R.data.pattern),l.R7$(2),l.SpI(" day",1===R.data.interval?"":"s"," "),l.R7$(2),l.SpI(" week",1===R.data.interval?"":"s"," "),l.R7$(2),l.SpI(" month",1===R.data.interval?"":"s"," "),l.R7$(),l.Y8G("ngIf","weekly"===R.data.pattern),l.R7$(),l.Y8G("ngIf","weekly"===R.data.pattern),l.R7$(3),l.R50("ngModel",R.ends_key),l.R7$(7),l.R50("ngModel",R.data.end),l.Y8G("disabled","on"!==R.ends_key),l.R7$(5),l.R50("ngModel",R.data.occurrences),l.Y8G("disabled","after"!==R.ends_key),l.R7$(4),l.Y8G("mat-dialog-close",R.data))},styles:["mat-form-field[_ngcontent-%COMP%], a-date-field[_ngcontent-%COMP%]{height:3.25rem}mat-radio-button[_ngcontent-%COMP%]{width:8rem}"]})}return f})()},1772:(gt,re,o)=>{"use strict";o.d(re,{d:()=>b});var e=o(3953),n=o(9417),l=o(9707),h=o(5055);const p=["container"],f=["editor"];let b=(()=>{class d extends l.Tv{constructor(){super(...arguments),this.placeholder="",this.readonly=!1,this._updateFn=()=>this.setValue(this._editor.root.innerHTML),this.registerOnChange=R=>this._onChange=R,this.registerOnTouched=R=>this._onTouch=R}ngOnChanges(R){}ngAfterViewInit(){this._initialiseEditor()}setValue(R){this._onChange&&this._onChange(R)}writeValue(R){this.timeout("write",()=>{if(this._editor){const m=this._editor.clipboard.convert(R);this._editor.setContents(m,"silent")}else this.timeout("write",()=>this.writeValue(R))})}_initialiseEditor(){this._editor=new h(this._editor_el.nativeElement,{bounds:this._container_el.nativeElement,placeholder:this.placeholder,modules:{toolbar:[[{size:["small",!1,"large","huge"]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}]]},readOnly:this.readonly,theme:"snow"}),this._editor.on("text-change",this._updateFn),this.subscription("changes",()=>this._editor.off("text-change",this._updateFn))}static#e=this.\u0275fac=(()=>{let R;return function(v){return(R||(R=e.xGo(d)))(v||d)}})();static#t=this.\u0275cmp=e.VBU({type:d,selectors:[["rich-text-input"]],viewQuery:function(m,v){if(1&m&&(e.GBs(p,5),e.GBs(f,5)),2&m){let O;e.mGM(O=e.lsd())&&(v._container_el=O.first),e.mGM(O=e.lsd())&&(v._editor_el=O.first)}},inputs:{placeholder:"placeholder",readonly:"readonly"},features:[e.Jv_([{provide:n.kq,useExisting:(0,e.Rfq)(()=>d),multi:!0}]),e.Vt3,e.OA$],decls:4,vars:0,consts:[["container",""],["editor",""]],template:function(m,v){1&m&&(e.j41(0,"div",null,0),e.nrm(2,"div",null,1),e.k0s())}})}return d})()},4809:(gt,re,o)=>{"use strict";o.d(re,{K:()=>O});var e=o(3953),n=o(9417),l=o(4233),h=o(5752),g=o(2185),p=o(9928),f=o(3020),b=o(4006);const d=()=>({standalone:!0});function y(S,P){if(1&S&&e.nrm(0,"img",30),2&S){const M=e.XpG().$implicit;e.Y8G("source",M.images[0])}}function R(S,P){1&S&&e.nrm(0,"img",31)}function m(S,P){if(1&S){const M=e.RV6();e.j41(0,"div",18)(1,"div",19),e.DNE(2,y,1,1,"img",20)(3,R,1,0,"ng-template",null,0,e.C5r),e.k0s(),e.j41(5,"div",21)(6,"div",22),e.EFF(7),e.k0s(),e.j41(8,"div",23)(9,"app-icon",24),e.EFF(10,"place"),e.k0s(),e.j41(11,"p"),e.EFF(12),e.k0s()(),e.j41(13,"div",23)(14,"app-icon",24),e.EFF(15,"people"),e.k0s(),e.j41(16,"p"),e.pXf(17,6),e.k0s()(),e.j41(18,"div",25)(19,"button",26),e.bIt("click",function(){const x=e.eBV(M).$implicit,I=e.XpG();return e.Njj(I.changeSpaces(x))}),e.j41(20,"div",27),e.PLo(21,7),e.nrm(22,"app-icon"),e.YFu(),e.k0s()(),e.j41(23,"button",28),e.bIt("click",function(){const x=e.eBV(M).$implicit,I=e.XpG();return e.Njj(I.removeSpace(x))}),e.j41(24,"div",27),e.PLo(25,8),e.nrm(26,"app-icon"),e.YFu(),e.k0s()()()(),e.j41(27,"button",29),e.bIt("click",function(){const x=e.eBV(M).$implicit,I=e.XpG();return e.Njj(I.toggleFavourite(x))}),e.j41(28,"app-icon"),e.EFF(29),e.k0s()()()}if(2&S){let M;const w=P.$implicit,x=e.sdS(4),I=e.XpG();e.R7$(2),e.Y8G("ngIf",null==w.images?null:w.images.length)("ngIfElse",x),e.R7$(5),e.SpI(" ",w.display_name||w.name||"Meeting Space"," "),e.R7$(5),e.SpI(" ",w.location||(null==(M=I.level(w.zones))?null:M.display_name)||(null==(M=I.level(w.zones))?null:M.name)," "),e.R7$(5),e.uP7(w.capacity<1?2:w.capacity)(w.capacity),e.nnv(17),e.R7$(10),e.AVh("text-blue-400",I.favorites.includes(null==w?null:w.id)),e.R7$(2),e.JRh(I.favorites.includes(null==w?null:w.id)?"favorite":"favorite_border")}}const v=[];let O=(()=>{class S{get favorites(){return this._settings.get("favourite_spaces")||v}constructor(M,w,x){this._settings=M,this._org=w,this._dialog=x,this.multiday=!1,this.room_size=4,this.spaces=new p.t([]),this.space_list=this.spaces.pipe((0,f.B)(300)),this.disabled=!1,this.registerOnChange=I=>this._onChange=I,this.registerOnTouched=I=>this._onTouch=I,this.setDisabledState=I=>this.disabled=I}ngOnDestroy(){this._dialog_ref&&this._dialog_ref.close()}level(M){return this._org.levelWithID(M)}changeSpaces(){this._dialog_ref=this._dialog.open(h.d,{data:{spaces:this.spaces.getValue(),options:{capacity:this.room_size},multiday:this.multiday}}),this._dialog_ref.afterClosed().subscribe(()=>{this.setValue(this._dialog_ref?.componentInstance?.selected),this._dialog_ref=void 0})}removeSpace(M){this.setValue(this.spaces.getValue().filter(w=>w.id!==M.id))}setValue(M){this.spaces.next(M||[]),this._onChange&&this._onChange(M||[])}writeValue(M){this.spaces.next(M||[])}toggleFavourite(M){if(!M?.id)return;const w=this.favorites;w.includes(M.id)?this._settings.saveUserSetting("favourite_spaces",w.filter(I=>I!==M.id)):this._settings.saveUserSetting("favourite_spaces",[...w,M.id])}static#e=this.\u0275fac=function(w){return new(w||S)(e.rXU(l.h),e.rXU(g.yb),e.rXU(b.bZ))};static#t=this.\u0275cmp=e.VBU({type:S,selectors:[["space-list-field"]],inputs:{multiday:"multiday"},features:[e.Jv_([{provide:n.kq,useExisting:(0,e.Rfq)(()=>S),multi:!0}])],decls:23,vars:9,consts:()=>{let M,w,x,I,_,C,D,A,B;return M=$localize`:␟1b75f93ee5764eaf4e3e5b35f9142aa730286aba␟2378084019110582405:Select Room Size${"\ufffd#5\ufffd"}:START_TAG_SPAN:*${"\ufffd/#5\ufffd"}:CLOSE_TAG_SPAN:`,w=$localize`:␟9a4b4695fcd5f591ff27d32d69654210c1edbce8␟5941148565596549711: Min. 2 People `,x=$localize`:␟c08792b3fa94dc973ac18033a872580a83beded9␟5844713600133557099: Min. 4 People `,I=$localize`:␟94d037a05d336158339e193309f967a769878040␟694015482067564775: Min. 10 People `,_=$localize`:␟2a4f48e169dc20ba9ed88d3bfe38f47ecc9204e6␟4961016996305563664:Add Space`,C=$localize`:␟ed210c8c0f2511082633f06a2c94b8410f6cd9bf␟426413428618668868:{VAR_PLURAL, plural, =1 {Person } other {People
                            }}`,C=e.k04(C,{VAR_PLURAL:"\ufffd1\ufffd"}),D=$localize`:␟ddc17cbb67fd49c13c14733c877b09fb9bd86d87␟686822217414553756: ${"\ufffd0\ufffd"}:INTERPOLATION: ${C}:ICU: `,A=$localize`:␟ca9092fdbbb85e5828de77fdf85c49b918cec128␟559636443235347532:${"\ufffd#22\ufffd"}:START_TAG_APP_ICON:edit${"\ufffd/#22\ufffd"}:CLOSE_TAG_APP_ICON: Change `,B=$localize`:␟a386ba350cdee69beeb12a908d96f0724ddc2054␟2582674642057285571:${"\ufffd#26\ufffd"}:START_TAG_APP_ICON:close${"\ufffd/#26\ufffd"}:CLOSE_TAG_APP_ICON: Remove `,[["placeholder",""],M,w,x,I,_,D,A,B,[1,"flex","items-center","flex-wrap","sm:space-x-2","mb-2"],[1,"flex-1","min-w-[256px]","space-y-2"],[1,"flex","items-center"],["aria-label","Select Room Size",1,"space-x-4",3,"ngModelChange","ngModel","ngModelOptions"],[3,"value"],["list","",1,"space-y-2"],["space","","class","relative p-2 rounded-lg w-full flex items-center shadow border border-base-200",4,"ngFor","ngForOf"],["btn","","matRipple","","name","add-space",1,"w-full","inverse","mt-2",3,"click"],[1,"flex","items-center","justify-center","space-x-2"],["space","",1,"relative","p-2","rounded-lg","w-full","flex","items-center","shadow","border","border-base-200"],[1,"w-24","h-24","rounded-xl","bg-base-200","mr-4","overflow-hidden","flex","items-center","justify-center"],["auth","","class","min-h-full object-cover",3,"source",4,"ngIf","ngIfElse"],[1,"sm:space-y-2","pb-4"],[1,"font-medium"],[1,"flex","items-center","text-sm","space-x-2"],[1,"text-blue-500"],[1,"absolute","bottom-0","right-0","flex","items-center","justify-end","text-xs"],["btn","","matRipple","","name","edit-space",1,"clear",3,"click"],[1,"flex","items-center","space-x-2"],["btn","","matRipple","","name","remove-space",1,"clear",3,"click"],["icon","","matRipple","","name","toggle-space-favourite",1,"absolute","top-1","right-1",3,"click"],["auth","",1,"min-h-full","object-cover",3,"source"],["src","assets/icons/room-placeholder.svg",1,"m-auto"]]},template:function(w,x){1&w&&(e.j41(0,"div")(1,"div",9)(2,"div",10)(3,"label"),e.PLo(4,1),e.nrm(5,"span"),e.YFu(),e.k0s(),e.j41(6,"div",11)(7,"mat-radio-group",12),e.mxI("ngModelChange",function(_){return e.DH7(x.room_size,_)||(x.room_size=_),_}),e.j41(8,"mat-radio-button",13),e.pXf(9,2),e.k0s(),e.j41(10,"mat-radio-button",13),e.pXf(11,3),e.k0s(),e.j41(12,"mat-radio-button",13),e.pXf(13,4),e.k0s()()()()()(),e.j41(14,"div",14),e.DNE(15,m,30,9,"div",15),e.nI1(16,"async"),e.k0s(),e.j41(17,"button",16),e.bIt("click",function(){return x.changeSpaces()}),e.j41(18,"div",17)(19,"app-icon"),e.EFF(20,"search"),e.k0s(),e.j41(21,"span"),e.pXf(22,5),e.k0s()()()),2&w&&(e.R7$(7),e.R50("ngModel",x.room_size),e.Y8G("ngModelOptions",e.lJ4(8,d)),e.R7$(),e.Y8G("value",1),e.R7$(2),e.Y8G("value",4),e.R7$(2),e.Y8G("value",10),e.R7$(3),e.Y8G("ngForOf",e.bMT(16,6,x.space_list)))}})}return S})()},8791:(gt,re,o)=>{"use strict";o.d(re,{c:()=>P});var e=o(467),n=o(9417),l=o(9707),h=o(2185),g=o(5157),p=o(3953),f=o(4006);function b(M,w){if(1&M&&(p.j41(0,"mat-option",34),p.EFF(1),p.k0s()),2&M){const x=w.$implicit;p.Y8G("value",x.display_name||x.name),p.R7$(),p.SpI(" ",x.display_name||x.name," ")}}function d(M,w){if(1&M&&(p.j41(0,"mat-option",34),p.EFF(1),p.k0s()),2&M){const x=w.$implicit;p.Y8G("value",(null==x?null:x.name)||x),p.R7$(),p.SpI(" ",x.name||x," ")}}function y(M,w){if(1&M&&(p.j41(0,"div",24)(1,"label"),p.pXf(2,9),p.k0s(),p.j41(3,"mat-form-field",25)(4,"mat-select",35),p.DNE(5,d,2,2,"mat-option",27),p.k0s()()()),2&M){const x=p.XpG(2);p.R7$(5),p.Y8G("ngForOf",x.support_request_types)}}function R(M,w){1&M&&(p.j41(0,"mat-error",36),p.pXf(1,10),p.k0s())}function m(M,w){1&M&&(p.j41(0,"div")(1,"label",29),p.pXf(2,11),p.k0s(),p.nrm(3,"image-list-field",37),p.k0s())}function v(M,w){if(1&M&&(p.j41(0,"main",17)(1,"form",18)(2,"div",19)(3,"div",20)(4,"label"),p.PLo(5,2),p.nrm(6,"span"),p.YFu(),p.k0s(),p.j41(7,"mat-form-field",21),p.nrm(8,"input",22),p.j41(9,"mat-error"),p.pXf(10,3),p.k0s()()(),p.j41(11,"div",20)(12,"label"),p.PLo(13,4),p.nrm(14,"span"),p.YFu(),p.k0s(),p.j41(15,"mat-form-field",21),p.nrm(16,"input",23),p.j41(17,"mat-error"),p.pXf(18,5),p.k0s()()()(),p.j41(19,"div",24)(20,"label"),p.pXf(21,6),p.k0s(),p.j41(22,"mat-form-field",25)(23,"mat-select",26),p.DNE(24,b,2,2,"mat-option",27),p.nI1(25,"async"),p.k0s()()(),p.DNE(26,y,6,1,"div",28),p.j41(27,"div")(28,"label",29),p.PLo(29,7),p.nrm(30,"span"),p.YFu(),p.k0s(),p.nrm(31,"rich-text-input",30),p.DNE(32,R,2,0,"mat-error",31),p.k0s(),p.DNE(33,m,4,0,"div",32),p.k0s(),p.j41(34,"div",33),p.pXf(35,8),p.k0s()()),2&M){const x=p.XpG();p.R7$(),p.Y8G("formGroup",x.form),p.R7$(23),p.Y8G("ngForOf",p.bMT(25,5,x.buildings)),p.R7$(2),p.Y8G("ngIf",null==x.support_request_types?null:x.support_request_types.length),p.R7$(6),p.Y8G("ngIf",x.desc_error),p.R7$(),p.Y8G("ngIf",x.allow_images)}}function O(M,w){if(1&M){const x=p.RV6();p.j41(0,"footer",38)(1,"button",39),p.bIt("click",function(){p.eBV(x);const _=p.XpG();return p.Njj(_.submit())}),p.pXf(2,12),p.k0s()()}}function S(M,w){1&M&&(p.j41(0,"main",40),p.nrm(1,"mat-spinner",41),p.j41(2,"p"),p.EFF(3,"Sending support ticket..."),p.k0s()()),2&M&&(p.R7$(),p.Y8G("diameter",32))}let P=(()=>{class M{get desc_error(){return!this.form.controls.description.valid&&this.form.controls.description.touched}get support_email(){return this._settings.get("app.support_email")||"support@place.tech"}get support_request_types(){return this._settings.get("app.support_issue_types")||[]}get allow_images(){return this._settings.get("app.allow_support_ticket_images")}constructor(x,I,_){this._dialog_ref=x,this._org=I,this._settings=_,this.loading=!1,this.form=new n.gE({name:new n.MJ("",[n.k0.required]),email:new n.MJ("",[n.k0.required]),location:new n.MJ(""),description:new n.MJ("",[n.k0.required]),issue_type:new n.MJ(""),images:new n.MJ([])}),this.buildings=this._org.building_list}ngOnInit(){const x=(0,l.Ny)();x&&this.form.patchValue({name:x.name,email:x.email}),this._org.building&&this.form.patchValue({location:this._org.building.display_name||this._org.building.name})}submit(){var x=this;return(0,e.A)(function*(){if(x.loading=!0,x.form.markAllAsTouched(),x.form.updateValueAndValidity(),x.form.valid){const I=x._org.binding("smtp");if(!I)return(0,l.UG)("Mailing system not configured for application.");const _=(0,g.f_4)(I,"Mailer"),{name:C,email:D,location:A,description:B,images:F,issue_type:$}=x.form.value,U=x.support_request_types.find(G=>G.name===$)?.email||x.support_email;yield _.execute("send_mail",[U,"Support Ticket from Workplace Application"+($?" - "+$:""),`${C}\n${D}\n\n${A}\n\n${B.replace(/<[^>]+>/g,"")}\n\n${F.join("\n")}`,`<p>${C}</p><p>${D}</p><p>${A}</p><p>${B}</p>${F.join("<br>")}`,[],[],[],[],null,`${D}`]),x._dialog_ref.close(),x.loading=!1,(0,l.VX)("Successfully submitted support ticket")}})()}static#e=this.\u0275fac=function(I){return new(I||M)(p.rXU(f.CP),p.rXU(h.yb),p.rXU(l.h$))};static#t=this.\u0275cmp=p.VBU({type:M,selectors:[["support-ticket-modal"]],decls:10,vars:3,consts:()=>{let x,I,_,C,D,A,B,F,$,U,G,J;return x=$localize`:␟b862b54c42ded9ebb47260f60b0f75985c5fab18␟270482714535552546:Raise a support ticket`,I=$localize`:␟84f7804a7a51f1144c5a3fda7b9b881af4212c4a␟5257092898921510014:Name${"\ufffd#6\ufffd"}:START_TAG_SPAN:*${"\ufffd/#6\ufffd"}:CLOSE_TAG_SPAN:`,_=$localize`:␟5b752f143ab30faa45a2679b5e7a28bbf3fb246d␟3833692663709091545:Name is required`,C=$localize`:␟15032ab5f5dcf10cb837008e8ff61acb42e957db␟8600249315708032613:Email${"\ufffd#14\ufffd"}:START_TAG_SPAN:*${"\ufffd/#14\ufffd"}:CLOSE_TAG_SPAN:`,D=$localize`:␟9b2fd2a81342b5821f47ce0e6f2383b1403fd659␟8552587679160911578:Email is required`,A=$localize`:␟ed31c09fd77c36238c13d83635f3fe5294c733d2␟471816275243265264:Location`,B=$localize`:␟bd571e4b6aa662ccde3593b99728c60a9c4e2722␟5204458475414246750: Issue Description${"\ufffd#30\ufffd"}:START_TAG_SPAN:*${"\ufffd/#30\ufffd"}:CLOSE_TAG_SPAN:`,F=$localize`:␟860180fb81e0877ec8059acbf30938f5d31daede␟2365971609064887430: Completing this form will raise an incident in your support management platform `,$=$localize`:␟712648c55b8f81cc494ffeff1c304f275dcafc61␟3187063371811307868:Issue Type`,U=$localize`:␟ae855fe6e11d47178c1051e1a3f9e78c5bb7fb4e␟124716140796903078: Description is required `,G=$localize`:␟b73f7f5060fb22a1e9ec462b1bb02493fa3ab866␟414887388288176527:Images`,J=$localize`:␟932802b79d36312ecbe949fc5b703fef638f41df␟1413112058430688330: Submit `,[["load_state",""],x,I,_,C,D,A,B,F,$,U,G,J,[1,"flex","items-center","justify-between"],["icon","","mat-dialog-close",""],["class","w-[32rem] max-w-[85vw]",4,"ngIf","ngIfElse"],["class","p-2 border-t border-base-200 flex items-center justify-center",4,"ngIf"],[1,"w-[32rem]","max-w-[85vw]"],[1,"p-2",3,"formGroup"],[1,"flex","items-center","sm:space-x-2","flex-wrap"],[1,"flex","flex-col","flex-1"],["appearance","outline"],["matInput","","placeholder","Name","formControlName","name"],["matInput","","placeholder","Email","formControlName","email"],[1,"flex","flex-col"],["appearance","outline",1,"w-full"],["placeholder","Location","formControlName","location"],[3,"value",4,"ngFor","ngForOf"],["class","flex flex-col",4,"ngIf"],[1,"mb-4"],["placeholder","Issue Description","formControlName","description"],["class","text-xs my-2",4,"ngIf"],[4,"ngIf"],[1,"italic","text-center","text-xs","mb-2"],[3,"value"],["placeholder","Issue Type","formControlName","issue_type"],[1,"text-xs","my-2"],["formControlName","images"],[1,"p-2","border-t","border-base-200","flex","items-center","justify-center"],["btn","","matRipple","",1,"w-32",3,"click"],[1,"w-[32rem]","min-h-[24rem]","max-w-[100vw]","flex","flex-col","items-center","justify-center","space-y-2"],[3,"diameter"]]},template:function(I,_){if(1&I&&(p.j41(0,"header",13)(1,"h2"),p.pXf(2,1),p.k0s(),p.j41(3,"button",14)(4,"app-icon"),p.EFF(5,"close"),p.k0s()()(),p.DNE(6,v,36,7,"main",15)(7,O,3,0,"footer",16)(8,S,4,1,"ng-template",null,0,p.C5r)),2&I){const C=p.sdS(9);p.R7$(6),p.Y8G("ngIf",!_.loading)("ngIfElse",C),p.R7$(),p.Y8G("ngIf",!_.loading)}},styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]})}return M})()},1413:(gt,re,o)=>{"use strict";o.d(re,{t:()=>I});var e=o(3953),n=o(9417),l=o(9707),h=o(3601),g=o(4361),p=o(1406),f=o(2357),b=o(9548),d=o(5818),y=o(9824),R=o(4512),m=o(7926),v=o(177),O=o(3719),S=o(2798),P=o(6600);const M=["select"];function w(_,C){if(1&_&&(e.j41(0,"mat-option",5),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&_){const D=e.XpG();e.Y8G("value",D.force_time),e.R7$(),e.SpI(" ",e.i5U(2,2,D.force_time,D.use_24hr?"HH : mm":"h : mm a")," ")}}function x(_,C){if(1&_&&(e.j41(0,"mat-option",5),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&_){const D=C.$implicit,A=e.XpG();e.Y8G("value",D.id),e.R7$(),e.Lme(" ",e.i5U(2,3,D.date,A.use_24hr?"HH : mm":"h : mm a")," ",A.extra_info_fn(D.date)," ")}}let I=(()=>{class _ extends l.Tv{constructor(){super(...arguments),this.step=15,this.no_past_times=!0,this.use_24hr=!1,this.extra_info_fn=D=>"",this.from=(0,h.o)(Date.now()).valueOf(),this.date=(new Date).valueOf(),this.time=(0,g.GP)(new Date,"HH:mm")}ngOnInit(){this.show_select=!0,this._time_options=this.generateAvailableTimes(this.date,!this.no_past_times,this.step),this.timeout("hide",()=>this.show_select=!1)}ngOnChanges(D){(D.no_past_times||D.step)&&(this._time_options=this.generateAvailableTimes(this.date,!this.no_past_times,this.step))}get time_options(){const D=(this.time||"00:00").split(":"),A=(0,p.h)(this.date,{hours:+D[0],minutes:+D[1]});return A.getMinutes()%15!=0&&!this._time_options.find(B=>B.id===(0,g.GP)(A,"HH:mm"))&&(this._time_options.push({date:A,id:(0,g.GP)(A,"HH:mm")}),this._time_options.sort((B,F)=>`${B.id}`.localeCompare(`${F.id}`))),this._time_options}setValue(D){if(this.time=D,this._onChange){const A=(this.time||"00:00").split(":"),B=(0,f.c)((0,p.h)(this.date,{hours:+A[0],minutes:+A[1]}));this._onChange(B.valueOf())}}writeValue(D){this.date=D||this.date;let A=(0,f.c)(this.date);A=(0,b.X)(A,{nearestTo:5}),this.time=(0,g.GP)(A,"HH:mm"),this._time_options=this.generateAvailableTimes(this.date,!this.no_past_times,this.step)}setDisabledState(D){this.disabled=D,this._time_options=this.generateAvailableTimes(this.date,!this.no_past_times||D,this.step)}registerOnChange(D){this._onChange=D}registerOnTouched(D){this._onTouch=D}showSelect(){this.show_select=!0,this.timeout("on_shown",()=>{this.select_field&&(this.select_field.focus(),this.select_field.open(),this.subscription("listen_close",this.select_field.openedChange.subscribe(D=>{D||(this.show_select=!1)})))})}generateAvailableTimes(D,A,B=15){const F=new Date(Math.max(this.from,Date.now()));let $=new Date(D);const U=[];A||!(0,d.r)($,F)&&(0,y.d)($,F)?$=(0,h.o)($):(0,y.d)($,F)&&($=new Date(F)),$=(0,b.X)($,{nearestTo:B});const G=(0,R.D)($);for(;(0,y.d)(G,$);)U.push({date:$.valueOf(),id:(0,g.GP)($,"HH:mm")}),$=(0,m.z)($,B);return U}static#e=this.\u0275fac=(()=>{let D;return function(B){return(D||(D=e.xGo(_)))(B||_)}})();static#t=this.\u0275cmp=e.VBU({type:_,selectors:[["a-time-field"]],viewQuery:function(A,B){if(1&A&&e.GBs(M,5),2&A){let F;e.mGM(F=e.lsd())&&(B.select_field=F.first)}},inputs:{step:"step",disabled:"disabled",no_past_times:"no_past_times",use_24hr:"use_24hr",force_time:"force_time",extra_info_fn:"extra_info_fn",from:"from"},features:[e.Jv_([{provide:n.kq,useExisting:(0,e.Rfq)(()=>_),multi:!0}]),e.Vt3,e.OA$],decls:5,vars:4,consts:[["select",""],["appearance","outline"],[3,"ngModelChange","ngModel","disabled"],[3,"value",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(A,B){if(1&A){const F=e.RV6();e.j41(0,"mat-form-field",1)(1,"mat-select",2,0),e.bIt("ngModelChange",function(U){return e.eBV(F),e.Njj(B.setValue(U))}),e.DNE(3,w,3,5,"mat-option",3)(4,x,3,6,"mat-option",4),e.k0s()()}2&A&&(e.R7$(),e.Y8G("ngModel",B.force_time||B.time)("disabled",B.disabled),e.R7$(2),e.Y8G("ngIf",B.force_time),e.R7$(),e.Y8G("ngForOf",B.time_options))},dependencies:[v.Sq,v.bT,n.BC,n.vS,O.rl,S.VO,P.wT,v.vh],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]})}return _})()},840:(gt,re,o)=>{"use strict";o.d(re,{T:()=>te});var e=o(3953),n=o(9417),l=o(9707),h=o(5006),g=o(3020),p=o(9090),f=o(3921),b=o(8841),d=o(4046),y=o(7336),R=o(9928),m=o(9714),v=o(4421),O=o(1543),S=o(6039),P=o(2372),M=o(3693),w=o(4129),x=o(5157),I=o(4006);const _=["search_field"];function C(ne,K){if(1&ne&&(e.j41(0,"app-icon",22),e.nI1(1,"placeuser"),e.nI1(2,"async"),e.EFF(3),e.nI1(4,"placeuser"),e.nI1(5,"async"),e.k0s()),2&ne){let k,j;const W=e.XpG().$implicit,ie=e.XpG();e.Y8G("matTooltip",null==(k=e.bMT(2,4,e.bMT(1,2,null==W?null:W.email)))?null:k.location_name_time(ie.time)),e.R7$(3),e.SpI(" ",null==(j=e.bMT(5,8,e.bMT(4,6,null==W?null:W.email)))?null:j.location_icon(ie.time)," ")}}function D(ne,K){if(1&ne){const k=e.RV6();e.j41(0,"mat-chip-row",18),e.bIt("removed",function(){const W=e.eBV(k).$implicit,ie=e.XpG();return e.Njj(ie.removeUser(W))}),e.j41(1,"div",19)(2,"div"),e.EFF(3),e.k0s(),e.DNE(4,C,6,10,"app-icon",20),e.k0s(),e.j41(5,"button",21)(6,"app-icon"),e.EFF(7,"cancel"),e.k0s()()()}if(2&ne){const k=K.$implicit;e.AVh("bg-warning",k.is_external),e.R7$(3),e.JRh(k.name||k.email),e.R7$(),e.Y8G("ngIf",!k.is_external),e.R7$(),e.BMQ("aria-label","Remove "+(k.name||k.email))}}function A(ne,K){1&ne&&e.nrm(0,"mat-spinner",23)}function B(ne,K){if(1&ne){const k=e.RV6();e.j41(0,"mat-option",24),e.bIt("click",function(){e.eBV(k);const W=e.XpG();return e.Njj(W.addUserFromEmail())}),e.pXf(1,4),e.k0s()}if(2&ne){const k=e.XpG();e.R7$(),e.uP7(k.search$.getValue()),e.nnv(1)}}function F(ne,K){if(1&ne){const k=e.RV6();e.j41(0,"mat-option",25),e.bIt("click",function(){const W=e.eBV(k).$implicit,ie=e.XpG();return e.Njj(ie.addUser(W))}),e.EFF(1),e.nrm(2,"br"),e.j41(3,"span",26),e.EFF(4),e.k0s()()}if(2&ne){const k=K.$implicit;e.R7$(),e.SpI(" ",k.name,""),e.R7$(3),e.JRh(k.email)}}function $(ne,K){if(1&ne){const k=e.RV6();e.j41(0,"div",27)(1,"button",28),e.bIt("click",function(){e.eBV(k);const W=e.XpG();return e.Njj(W.openNewUserModal())}),e.PLo(2,5),e.j41(3,"div",29),e.nrm(4,"span",30),e.k0s(),e.YFu(),e.k0s(),e.j41(5,"button",31),e.PLo(6,6),e.j41(7,"div",29),e.nrm(8,"span",30),e.k0s(),e.j41(9,"input",32),e.bIt("change",function(W){e.eBV(k);const ie=e.XpG();return e.Njj(ie.addUsersFromFile(W))}),e.k0s(),e.YFu(),e.k0s(),e.j41(10,"button",33),e.bIt("click",function(){e.eBV(k);const W=e.XpG();return W.downloadCSVTemplate(),e.Njj(W.download.emit())}),e.PLo(11,7),e.j41(12,"div",29),e.nrm(13,"span",30),e.k0s(),e.YFu(),e.k0s()()}}function U(ne){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(ne)}const G=["text/csv","text/plain"],J=["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"];let te=(()=>{class ne extends l.Tv{searchStaff(k){return this._settings.get("app.basic_user_search")?(0,x.n1$)({q:k,authority_id:(0,x.kup)()?.id}).pipe((0,h.T)(j=>j.data.map(W=>new M.KJ(W)))):(0,P.N8)(k)}get search_valid_email(){return U(this.search$.getValue())}constructor(k,j){super(),this._dialog=k,this._settings=j,this.time=Date.now(),this.limit=3,this.guests=!1,this.guests_only=!1,this.hide_actions=!1,this.custom_template=!1,this.new_user=new e.bkB,this.download=new e.bkB,this.separatorKeysCodes=[y.Fm,y.KE],this.loading=!1,this.search$=new R.t(""),this.user_list$=this.search$.pipe((0,g.B)(300),(0,p.n)(W=>(this.loading=!0,(W?this.guests?(0,m.zV)([this.searchStaff(W),(0,S.qI)(W)]).pipe((0,h.T)(([ie,ce])=>{this.guests_only&&(ie=[]);const oe=[],me=this._settings.get("visitor-invitees")||[];for(const he of me){const[Oe,we,We]=he.split("|");oe.push({email:Oe,name:we,company:We})}return(0,l.Am)(ie.concat(ce).concat(oe),"email")})):this.searchStaff(W):(0,v.of)([])).pipe((0,f.W)(ie=>(0,v.of)([]))))),(0,b.M)(W=>this.loading=!1)),this.active_list=[],this.validFn=W=>U(W),this.emptyClick=()=>this.openNewUserModal(new M.KJ)}updateSearch(k=""){this.timeout("search",()=>this.search$.next(k))}addUserFromEmail(k=""){if(k||(k=this.search$.getValue()),!U(k))return;const j=new M.KJ({id:k,email:k,name:k.split("@")[0]});this.addUser(j);const{name:W,organisation:ie}=j,ce=`${k}|${W}|${ie}`,oe=this._settings.get("visitor-invitees")||[];this._settings.saveUserSetting("visitor-invitees",[...oe.filter(me=>!me.includes(k)),ce]),this.timeout("clear_search",()=>{this.search$.next(""),this._search_el.nativeElement.value=""},100)}addUser(k){const j=this.active_list?.filter(W=>W.id!==k.id)||[];this.setValue([...j,new M.KJ({...k,id:k.id||k.email,visit_expected:(k.id||!0===k.is_external?null:k.visit_expected)??!0})]),this.timeout("clear_search",()=>{this.search$.next(""),this._search_el.nativeElement.value=""},100)}removeUser(k){const j=this.active_list.filter(W=>W.id!==k.id);this.setValue(j)}addUsersFromFile(k){if(k.target){const j=k.target.files[0];if(j){if(!G.includes(j.type)||J.includes(j.type))return void(0,l.UG)("Only CSV files are supported");const W=new FileReader;W.readAsText(j,"UTF-8"),W.addEventListener("load",ie=>{this.processCsvData(ie.srcElement.result),k.target.value=""}),W.addEventListener("error",ie=>(0,l.UG)("Error reading file."))}}}processCsvData(k){const j=(0,l.a6)(k)||[],W=(0,l.Ny)()?.staff_id||"unknown";for(const ie of j){ie.name=ie.name||`${ie.first_name} ${ie.last_name}`;const ce=(ie.name||`${Math.floor(99999999*Math.random())}`).split(" ").join("_").toLowerCase();ie.email||(ie.email=`${ce}+${W}@guest.${w.pd}`);const oe=this._settings.get("app.bookings.internal_emails")||["place.tech"];ie.visit_expected=ie.visit_expected??!oe.find(me=>ie.email.endsWith(me)),ie.phone=""+ie.phone,this.addUser(new M.KJ(ie))}}downloadCSVTemplate(){this.custom_template||(0,l.PE)("template.csv","Organisation,First Name,Last Name,Email,Phone,Assistance Required,Visit Expected\nFake Org,John,Smith,john.smith@example.com,01234567898,false,true")}setValue(k){this.active_list=k,this._onChange&&this._onChange(k)}writeValue(k){this.active_list=k}setDisabledState(k){this.disabled=k}registerOnChange(k){this._onChange=k}registerOnTouched(k){this._onTouch=k}displayFn(k){return k?.name||""}openNewUserModal(k=new M.KJ){const j=this._dialog.open(O.a,{width:"auto",height:"auto",data:{user:k}});j.componentInstance?.event.pipe((0,d.$)(W=>"done"===W.reason)).subscribe(W=>{this.addUser(W.metadata),j.close()})}static#e=this.\u0275fac=function(j){return new(j||ne)(e.rXU(I.bZ),e.rXU(l.h$))};static#t=this.\u0275cmp=e.VBU({type:ne,selectors:[["a-user-list-field"]],viewQuery:function(j,W){if(1&j&&e.GBs(_,5),2&j){let ie;e.mGM(ie=e.lsd())&&(W._search_el=ie.first)}},inputs:{time:"time",disabled:"disabled",limit:"limit",guests:"guests",guests_only:"guests_only",hide_actions:"hide_actions",custom_template:"custom_template",filter:"filter"},outputs:{new_user:"new_user",download:"download"},features:[e.Jv_([{provide:n.kq,useExisting:(0,e.Rfq)(()=>ne),multi:!0}]),e.Vt3],decls:17,vars:14,consts:()=>{let k,j,W,ie,ce;return k=$localize`:␟5ecf84665fa441ea616e171804e6652d010c9ed2␟5361968336322693258:Type a name or email`,j=$localize`:␟8ddbc311625de88f24142f65336765837378c1ca␟2206723750290169400: Add external user with email "${"\ufffd0\ufffd"}:INTERPOLATION:" `,W=$localize`:Add new external attendee␟afa9063944169ae2cd6bd8c0d5e943468ab77e90␟145038058737617323:${"\ufffd#3\ufffd"}:START_TAG_DIV: Add ${"\ufffd#4\ufffd"}:START_TAG_SPAN:External${"\ufffd/#4\ufffd"}:CLOSE_TAG_SPAN:${"\ufffd/#3\ufffd"}:CLOSE_TAG_DIV:`,ie=$localize`:Upload attendee list from CSV file␟0115abeee77902eeda78bb11be738c011e8be933␟4462048288204440387:${"\ufffd#7\ufffd"}:START_TAG_DIV: Upload ${"\ufffd#8\ufffd"}:START_TAG_SPAN:CSV${"\ufffd/#8\ufffd"}:CLOSE_TAG_SPAN:${"\ufffd/#7\ufffd"}:CLOSE_TAG_DIV:${"\ufffd#9\ufffd\ufffd/#9\ufffd"}:TAG_INPUT:`,ce=$localize`:Download template CSV file␟f761a83c085b86f026cdf949cf8015ee62d8ca8c␟6030611805365927572:${"\ufffd#12\ufffd"}:START_TAG_DIV:${"\ufffd#13\ufffd"}:START_TAG_SPAN:CSV${"\ufffd/#13\ufffd"}:CLOSE_TAG_SPAN: Template ${"\ufffd/#12\ufffd"}:CLOSE_TAG_DIV:`,[["origin","matAutocompleteOrigin"],["chipList",""],["search_field",""],["auto","matAutocomplete"],j,W,ie,ce,["form-field","",1,"mb-4"],["search",""],["appearance","outline","matAutocompleteOrigin","",1,"w-full"],["aria-label","User Seleciom"],["user","",3,"bg-warning","removed",4,"ngFor","ngForOf"],["placeholder",k,"name","user_email",3,"ngModelChange","matChipInputTokenEnd","ngModel","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes"],["diameter","24","matSuffix","",4,"ngIf"],[3,"click",4,"ngIf"],["class","leading-tight",3,"click",4,"ngFor","ngForOf"],["class","flex items-center space-x-2 -mt-4","actions","",4,"ngIf"],["user","",3,"removed"],[1,"flex","items-center","space-x-2"],[3,"matTooltip",4,"ngIf"],["matChipRemove","","remove",""],[3,"matTooltip"],["diameter","24","matSuffix",""],[3,"click"],[1,"leading-tight",3,"click"],[1,"text-xs"],["actions","",1,"flex","items-center","space-x-2","-mt-4"],["btn","","matRipple","","type","button","name","new-contact",1,"inverse","flex-1","sm:flex-none",3,"click"],[1,"flex","items-center","justify-center"],[1,"hidden","sm:inline"],["btn","","matRipple","","type","button","name","upload-csv",1,"relative","inverse","flex-1","sm:flex-none"],["type","file",1,"opacity-0","absolute","inset-0",3,"change"],["btn","","matRipple","","type","button","name","download-template",1,"inverse","flex-1","sm:flex-none",3,"click"]]},template:function(j,W){if(1&j){const ie=e.RV6();e.j41(0,"div",8)(1,"div",9)(2,"mat-form-field",10,0)(4,"mat-chip-grid",11,1),e.DNE(6,D,8,5,"mat-chip-row",12),e.k0s(),e.j41(7,"input",13,2),e.nI1(9,"async"),e.bIt("ngModelChange",function(oe){return e.eBV(ie),e.Njj(W.updateSearch(oe))})("matChipInputTokenEnd",function(oe){return e.eBV(ie),e.Njj(W.addUserFromEmail(oe.value))}),e.k0s(),e.DNE(10,A,1,0,"mat-spinner",14),e.k0s(),e.j41(11,"mat-autocomplete",null,3),e.DNE(13,B,2,1,"mat-option",15)(14,F,5,2,"mat-option",16),e.nI1(15,"async"),e.k0s()(),e.DNE(16,$,14,0,"div",17),e.k0s()}if(2&j){const ie=e.sdS(5),ce=e.sdS(12);e.BMQ("disabled",W.disabled),e.R7$(6),e.Y8G("ngForOf",W.active_list),e.R7$(),e.Y8G("ngModel",e.bMT(9,10,W.search$))("matAutocomplete",ce)("matChipInputFor",ie)("matChipInputSeparatorKeyCodes",W.separatorKeysCodes),e.R7$(3),e.Y8G("ngIf",W.loading),e.R7$(3),e.Y8G("ngIf",W.search_valid_email),e.R7$(),e.Y8G("ngForOf",e.bMT(15,12,W.user_list$)),e.R7$(2),e.Y8G("ngIf",!W.hide_actions)}}})}return ne})()},8e3:(gt,re,o)=>{"use strict";o.d(re,{$:()=>_});var e=o(3953),n=o(9417),l=o(5286),h=o(4421),g=o(696),p=o(5006),f=o(3020),b=o(522),d=o(9090),y=o(3921),R=o(9707),m=o(6039),v=o(2372),O=o(3693),S=o(5157);const P=["input"];function M(C,D){1&C&&e.nrm(0,"mat-spinner",11)}function w(C,D){if(1&C){const A=e.RV6();e.j41(0,"mat-option",12),e.bIt("click",function(){const F=e.eBV(A).$implicit,$=e.XpG();return $.setValue(F),e.Njj($.blurInput())}),e.j41(1,"div",13),e.EFF(2),e.k0s(),e.j41(3,"div",14),e.EFF(4),e.k0s()()}if(2&C){const A=D.$implicit;e.R7$(2),e.JRh(A.name),e.R7$(2),e.SpI(" ",A.email," ")}}function x(C,D){if(1&C){const A=e.RV6();e.j41(0,"mat-option",15)(1,"div",16),e.bIt("mousedown",function(F){return e.eBV(A),F.stopPropagation(),e.Njj(F.preventDefault())})("touchstart",function(F){return e.eBV(A),F.stopPropagation(),e.Njj(F.preventDefault())})("click",function(F){e.eBV(A);const $=e.XpG();return $.setValue($.search_str),F.stopPropagation(),e.Njj(F.preventDefault())}),e.j41(2,"div",17),e.pXf(3,2),e.k0s()()()}if(2&C){const A=e.XpG();e.R7$(3),e.uP7(A.search_str),e.nnv(3)}}function I(C,D){if(1&C){const A=e.RV6();e.j41(0,"mat-option",18),e.bIt("click",function(){e.eBV(A);const F=e.XpG();return e.Njj(F.empty_fn())}),e.EFF(1),e.k0s()}if(2&C){const A=e.XpG();e.Y8G("disabled",!A.empty_fn),e.R7$(),e.Lme(" ",A.search_str?"No users found.":""," ",A.error," ")}}let _=(()=>{class C extends R.Tv{constructor(A){super(),this._settings=A,this.error="",this.query_fn=B=>this._settings.get("app.basic_user_search")?(0,S.n1$)({q:B,authority_id:(0,S.kup)()?.id}).pipe((0,p.T)(F=>F.data.map($=>new O.KJ($)))):(0,v.N8)(B),this.search$=new l.B7,this.search_results$=this.search$.pipe((0,f.B)(400),(0,b.F)(),(0,d.n)(B=>(this.loading=!0,this.options&&this.options.length>0?(0,h.of)(this.options):B.length>=3?this.guests?(0,g.p)([(0,v.N8)(B),(0,m.qI)(B)]):this.query_fn(B):(0,h.of)([]))),(0,y.W)(B=>(0,h.of)([])),(0,p.T)(B=>{this.loading=!1,B=(0,R.Bq)(B);const F=(this.search_str||"").toLowerCase();return B.filter($=>!this.filter||this.filter($,F))})),this.cancelReset=()=>this.clearTimeout("reset"),this.blurInput=()=>{this.timeout("blur",()=>this._input_el?.nativeElement?.blur())}}ngOnInit(){this.subscription("search_results",this.search_results$.subscribe(A=>this.user_list=A)),this.resetSearchString()}resetSearchString(){this.timeout("reset",()=>this.search_str=this.active_user?.name||"",100)}setValue(A,B){if(!A)return;"string"==typeof A&&A===this.search_str&&(A=new O.KJ({name:(this.search_str||B||"").split("@")[0],email:this.search_str||B||""}));const F=A;!("name"in F)&&!("email"in F)||(this.active_user=F,this._onChange&&this._onChange(F),this.resetSearchString())}writeValue(A){this.active_user=A,this.resetSearchString()}setDisabledState(A){this.disabled=A}registerOnChange(A){this._onChange=A}registerOnTouched(A){this._onTouch=A}static#e=this.\u0275fac=function(B){return new(B||C)(e.rXU(R.h$))};static#t=this.\u0275cmp=e.VBU({type:C,selectors:[["a-user-search-field"]],viewQuery:function(B,F){if(1&B&&e.GBs(P,5,e.aKT),2&B){let $;e.mGM($=e.lsd())&&(F._input_el=$.first)}},inputs:{disabled:"disabled",placeholder:"placeholder",options:"options",guests:"guests",error:"error",validate:"validate",empty_fn:"empty_fn",filter:"filter",query_fn:"query_fn"},features:[e.Jv_([{provide:n.kq,useExisting:(0,e.Rfq)(()=>C),multi:!0}]),e.Vt3],decls:11,vars:8,consts:()=>{let A;return A=$localize`:␟bda749fab8de2e52f25203a840d2aca70b8e5b4d␟1390235508766899631: Add external attendee "${"\ufffd0\ufffd"}:INTERPOLATION:" `,[["input",""],["auto","matAutocomplete"],A,["appearance","outline",1,"w-full","no-subscript"],["matInput","","keyboard","","name","user-search",3,"ngModelChange","keyup.enter","blur","focus","ngModel","disabled","placeholder","matAutocomplete"],["matPrefix","",1,"text-2xl","relative"],["matSuffix","","diameter","16",4,"ngIf"],[3,"optionSelected"],[3,"click",4,"ngFor","ngForOf"],["class","relative pointer-events-none",4,"ngIf"],[3,"disabled","click",4,"ngIf"],["matSuffix","","diameter","16"],[3,"click"],[1,"leading-tight"],[1,"text-xs","opacity-60"],[1,"relative","pointer-events-none"],[1,"absolute","inset-0","px-4","pointer-events-auto",3,"mousedown","touchstart","click"],[1,"pointer-events-none"],[3,"click","disabled"]]},template:function(B,F){if(1&B){const $=e.RV6();e.j41(0,"mat-form-field",3)(1,"input",4,0),e.mxI("ngModelChange",function(G){return e.eBV($),e.DH7(F.search_str,G)||(F.search_str=G),e.Njj(G)}),e.bIt("ngModelChange",function(G){return e.eBV($),e.Njj(F.search$.next(G||""))})("keyup.enter",function(){return e.eBV($),e.Njj(F.validate&&F.validate(F.search_str)?F.setValue(F.search_str):"")})("blur",function(){return e.eBV($),e.Njj(F.resetSearchString())})("focus",function(){return e.eBV($),e.Njj(F.cancelReset())}),e.k0s(),e.j41(3,"app-icon",5),e.EFF(4,"search"),e.k0s(),e.DNE(5,M,1,0,"mat-spinner",6),e.k0s(),e.j41(6,"mat-autocomplete",7,1),e.bIt("optionSelected",function(G){return e.eBV($),e.Njj(F.setValue(G.option.value))}),e.DNE(8,w,5,2,"mat-option",8)(9,x,4,1,"mat-option",9)(10,I,2,3,"mat-option",10),e.k0s()}if(2&B){const $=e.sdS(7);e.R7$(),e.R50("ngModel",F.search_str),e.Y8G("disabled",F.disabled)("placeholder",F.placeholder||"Search for user...")("matAutocomplete",$),e.R7$(4),e.Y8G("ngIf",F.loading),e.R7$(3),e.Y8G("ngForOf",F.user_list),e.R7$(),e.Y8G("ngIf",F.search_str&&F.validate&&F.validate(F.search_str)),e.R7$(),e.Y8G("ngIf",!(null!=F.user_list&&F.user_list.length)&&(F.search_str||F.error))}},styles:["[_nghost-%COMP%]{display:block}app-icon[_ngcontent-%COMP%]{top:.15em;left:-.15em}"]})}return C})()},2185:(gt,re,o)=>{"use strict";o.d(re,{gB:()=>f.g,yb:()=>n.y,WS:()=>p}),o(6612);var n=o(8026),l=o(5157);function p(b,d){return b?b instanceof Object?(0,l.f_4)(b.system_id,b.module||d):(0,l.f_4)(b,d):null}var f=o(7451)},5170:(gt,re,o)=>{"use strict";o.d(re,{t:()=>n});var e=o(602);class n{constructor(h={}){this.id=h.id||"",this.parent_id=h.parent_id||"",this.name=h.name||"";const g=h.settings||{};this.display_name=h.display_name,this.images=this.images||[];const p=g.discovery_info||g;this.zone_id=h.zone_id||h.zone,this.extras=(h.extras||p.extras||[]).map(b=>({id:b.extra_id||b.id,name:b.extra_name||b.name})),this.loan_items=(h.loan_items||p.loan_items||[]).map(b=>({id:b.extra_id||b.id,name:b.extra_name||b.name})),this.levels=(h.levels||p.levels||[]).map(b=>new e.P({...b,building_id:this.id})),this._roles=h.roles||p.roles||{},this._lockers=h.lockers||h.locker_structure||p.locker_structure||{},this._systems=h.systems||p.systems||{},this._phone_numbers=h.phone_numbers||p.phone_numbers||{},this.location=h.location||p.location||"0,0",this.room_configurations=h.room_configurations||p.room_configurations||[],this.attributes=h.attributes||p.attributes||[];const f=[];if(h.neighbourhoods)for(const b in h.neighbourhoods)if(b in h.neighbourhoods){const d=h.neighbourhoods[b]||{};for(const y in d)y in d&&f.push({id:d[y],name:y,level_id:b})}this.bindings=h.bindings||{},this.searchables=f,this.map_id=h.map_id||"",this.timezone=h.timezone||p.timezone||g.timezone||"",this.catering_hours=h.catering_hours||p.catering_hours||g.catering_hours||{start:7,end:20},this.visitor_space=h.visitor_space||p.visitor_space||g.visitor_space||"",this.holding_bay=h.holding_bay||p.holding_bay||g.holding_bay||"",this.code=h.code||p.code||g.code||"",this.address=h.address||p.address||g.address||"",this.orientations=h.orientations||p.orientations||g.orientations||{},this.booking_details=h.booking_details||p.booking_details||g.booking_details||null,this.catering_restricted_from=h.catering_restricted_from||p.catering_restricted_from||g.catering_restricted_from||-1440,this.currency=h.currency||p.currency||g.currency||"USD"}role(h){return[...this._roles[h]||[]]}get role_names(){return Object.keys(this._roles).filter(h=>h in this._roles)}get lockers(){return{...this._lockers||{}}}get systems(){return{...this._systems||{}}}get phone_numbers(){return{...this._phone_numbers||{}}}featuresForLevel(h){return(this.searchables||[]).filter(g=>g.level_id===h)}}},7451:(gt,re,o)=>{"use strict";o.d(re,{g:()=>l});var e=o(5157);const n=["zone","qr_code","toJSON"];class l{constructor(g={}){this.toJSON=()=>this.format(),this.id=g.id||"",this.map_id=g.map_id||g.id||"",this.name=g.name||"",this.bookable=g.bookable??!1,this.zone=g.zone||new e.kMc,this.groups=g.groups||[],this.qr_code=g.qr_code||"",this.features=g.features||[],this.images=g.images||[];for(const p in g)p in this||(this[p]=g[p])}format(){const g={...this};for(const p of n)delete g[p];return(0,e.jv5)(g,[void 0,null,[]]),g}}},602:(gt,re,o)=>{"use strict";o.d(re,{P:()=>e});class e{constructor(l={}){this.settings={},this.id=l.id||"",this.parent_id=l.parent_id||"",this.name=l.name||"",this.display_name=l.display_name||"",this.map_id=l.map_id||"",this.capacity=l.capacity||0,this.location=l.location||"",this.locations=l.locations||[],this.tags=l.tags||[],this.images=l.images||[];const h=this.display_name.split(" ");this.number=((h.length>=2?h[h.length-1]:this.display_name[0])?.toUpperCase()||"").substring(0,2)}}},6612:(gt,re,o)=>{"use strict";o.d(re,{B:()=>n});var e=o(4217);class n{constructor(h={}){this.id=h.id||"",this.name=h.name||"",this.description=h.description||"",this.tags=h.tags||[],this.count=h.count||0,this.capacity=h.capacity||0,this.bindings=h.bindings||{},this._settings=h.settings||{}}setting(h){const g=h.split(".");return(0,e.st)(g,this._settings)}}},8026:(gt,re,o)=>{"use strict";o.d(re,{y:()=>ks});var e=o(467),n=o(5157),l=o(9928),h=o(9714),g=o(4421),p=o(5006),f=o(8712),b=o(4046),d=o(8728),y=o(3020),R=o(3921),m=o(9525),v=o(4233),O=o(5170),S=o(602),P=o(6612);class M{constructor(at){this.id=at.id||"",this.name=at.name||"",this.display_name=at.display_name||"",this.timezone=at.timezone||"",this.images=at.images||[],this.bindings=at.bindings||{},this.address=at.address||""}}var w=o(9707);function x(H){return typeof H>"u"||null===H}var te={isNothing:x,isObject:function I(H){return"object"==typeof H&&null!==H},toArray:function _(H){return Array.isArray(H)?H:x(H)?[]:[H]},repeat:function D(H,at){var Et,it="";for(Et=0;Et<at;Et+=1)it+=H;return it},isNegativeZero:function A(H){return 0===H&&Number.NEGATIVE_INFINITY===1/H},extend:function C(H,at){var it,Et,pt,$t;if(at)for(it=0,Et=($t=Object.keys(at)).length;it<Et;it+=1)H[pt=$t[it]]=at[pt];return H}};function ne(H,at){var it="",Et=H.reason||"(unknown reason)";return H.mark?(H.mark.name&&(it+='in "'+H.mark.name+'" '),it+="("+(H.mark.line+1)+":"+(H.mark.column+1)+")",!at&&H.mark.snippet&&(it+="\n\n"+H.mark.snippet),Et+" "+it):Et}function K(H,at){Error.call(this),this.name="YAMLException",this.reason=H,this.mark=at,this.message=ne(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}(K.prototype=Object.create(Error.prototype)).constructor=K,K.prototype.toString=function(at){return this.name+": "+ne(this,at)};var k=K;function j(H,at,it,Et,pt){var $t="",Vt="",cn=Math.floor(pt/2)-1;return Et-at>cn&&(at=Et-cn+($t=" ... ").length),it-Et>cn&&(it=Et+cn-(Vt=" ...").length),{str:$t+H.slice(at,it).replace(/\t/g,"\u2192")+Vt,pos:Et-at+$t.length}}function W(H,at){return te.repeat(" ",at-H.length)+H}var ce=function ie(H,at){if(at=Object.create(at||null),!H.buffer)return null;at.maxLength||(at.maxLength=79),"number"!=typeof at.indent&&(at.indent=1),"number"!=typeof at.linesBefore&&(at.linesBefore=3),"number"!=typeof at.linesAfter&&(at.linesAfter=2);for(var $t,it=/\r?\n|\r|\0/g,Et=[0],pt=[],Vt=-1;$t=it.exec(H.buffer);)pt.push($t.index),Et.push($t.index+$t[0].length),H.position<=$t.index&&Vt<0&&(Vt=Et.length-2);Vt<0&&(Vt=Et.length-1);var mn,Nn,cn="",li=Math.min(H.line+at.linesAfter,pt.length).toString().length,Wn=at.maxLength-(at.indent+li+3);for(mn=1;mn<=at.linesBefore&&!(Vt-mn<0);mn++)Nn=j(H.buffer,Et[Vt-mn],pt[Vt-mn],H.position-(Et[Vt]-Et[Vt-mn]),Wn),cn=te.repeat(" ",at.indent)+W((H.line-mn+1).toString(),li)+" | "+Nn.str+"\n"+cn;for(Nn=j(H.buffer,Et[Vt],pt[Vt],H.position,Wn),cn+=te.repeat(" ",at.indent)+W((H.line+1).toString(),li)+" | "+Nn.str+"\n",cn+=te.repeat("-",at.indent+li+3+Nn.pos)+"^\n",mn=1;mn<=at.linesAfter&&!(Vt+mn>=pt.length);mn++)Nn=j(H.buffer,Et[Vt+mn],pt[Vt+mn],H.position-(Et[Vt]-Et[Vt+mn]),Wn),cn+=te.repeat(" ",at.indent)+W((H.line+mn+1).toString(),li)+" | "+Nn.str+"\n";return cn.replace(/\n$/,"")},oe=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],me=["scalar","sequence","mapping"],we=function Oe(H,at){if(at=at||{},Object.keys(at).forEach(function(it){if(-1===oe.indexOf(it))throw new k('Unknown option "'+it+'" is met in definition of "'+H+'" YAML type.')}),this.options=at,this.tag=H,this.kind=at.kind||null,this.resolve=at.resolve||function(){return!0},this.construct=at.construct||function(it){return it},this.instanceOf=at.instanceOf||null,this.predicate=at.predicate||null,this.represent=at.represent||null,this.representName=at.representName||null,this.defaultStyle=at.defaultStyle||null,this.multi=at.multi||!1,this.styleAliases=function he(H){var at={};return null!==H&&Object.keys(H).forEach(function(it){H[it].forEach(function(Et){at[String(Et)]=it})}),at}(at.styleAliases||null),-1===me.indexOf(this.kind))throw new k('Unknown kind "'+this.kind+'" is specified for "'+H+'" YAML type.')};function We(H,at){var it=[];return H[at].forEach(function(Et){var pt=it.length;it.forEach(function($t,Vt){$t.tag===Et.tag&&$t.kind===Et.kind&&$t.multi===Et.multi&&(pt=Vt)}),it[pt]=Et}),it}function Me(H){return this.extend(H)}Me.prototype.extend=function(at){var it=[],Et=[];if(at instanceof we)Et.push(at);else if(Array.isArray(at))Et=Et.concat(at);else{if(!at||!Array.isArray(at.implicit)&&!Array.isArray(at.explicit))throw new k("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");at.implicit&&(it=it.concat(at.implicit)),at.explicit&&(Et=Et.concat(at.explicit))}it.forEach(function($t){if(!($t instanceof we))throw new k("Specified list of YAML types (or a single Type object) contains a non-Type object.");if($t.loadKind&&"scalar"!==$t.loadKind)throw new k("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if($t.multi)throw new k("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),Et.forEach(function($t){if(!($t instanceof we))throw new k("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var pt=Object.create(Me.prototype);return pt.implicit=(this.implicit||[]).concat(it),pt.explicit=(this.explicit||[]).concat(Et),pt.compiledImplicit=We(pt,"implicit"),pt.compiledExplicit=We(pt,"explicit"),pt.compiledTypeMap=function Xe(){var at,it,H={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function Et(pt){pt.multi?(H.multi[pt.kind].push(pt),H.multi.fallback.push(pt)):H[pt.kind][pt.tag]=H.fallback[pt.tag]=pt}for(at=0,it=arguments.length;at<it;at+=1)arguments[at].forEach(Et);return H}(pt.compiledImplicit,pt.compiledExplicit),pt};var Qe=new Me({explicit:[new we("tag:yaml.org,2002:str",{kind:"scalar",construct:function(H){return null!==H?H:""}}),new we("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(H){return null!==H?H:[]}}),new we("tag:yaml.org,2002:map",{kind:"mapping",construct:function(H){return null!==H?H:{}}})]}),Pt=new we("tag:yaml.org,2002:null",{kind:"scalar",resolve:function $e(H){if(null===H)return!0;var at=H.length;return 1===at&&"~"===H||4===at&&("null"===H||"Null"===H||"NULL"===H)},construct:function tt(){return null},predicate:function xt(H){return null===H},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"}),V=new we("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function yt(H){if(null===H)return!1;var at=H.length;return 4===at&&("true"===H||"True"===H||"TRUE"===H)||5===at&&("false"===H||"False"===H||"FALSE"===H)},construct:function Le(H){return"true"===H||"True"===H||"TRUE"===H},predicate:function De(H){return"[object Boolean]"===Object.prototype.toString.call(H)},represent:{lowercase:function(H){return H?"true":"false"},uppercase:function(H){return H?"TRUE":"FALSE"},camelcase:function(H){return H?"True":"False"}},defaultStyle:"lowercase"});function ue(H){return 48<=H&&H<=57||65<=H&&H<=70||97<=H&&H<=102}function Q(H){return 48<=H&&H<=55}function Te(H){return 48<=H&&H<=57}var hn=new we("tag:yaml.org,2002:int",{kind:"scalar",resolve:function Je(H){if(null===H)return!1;var pt,at=H.length,it=0,Et=!1;if(!at)return!1;if(("-"===(pt=H[it])||"+"===pt)&&(pt=H[++it]),"0"===pt){if(it+1===at)return!0;if("b"===(pt=H[++it])){for(it++;it<at;it++)if("_"!==(pt=H[it])){if("0"!==pt&&"1"!==pt)return!1;Et=!0}return Et&&"_"!==pt}if("x"===pt){for(it++;it<at;it++)if("_"!==(pt=H[it])){if(!ue(H.charCodeAt(it)))return!1;Et=!0}return Et&&"_"!==pt}if("o"===pt){for(it++;it<at;it++)if("_"!==(pt=H[it])){if(!Q(H.charCodeAt(it)))return!1;Et=!0}return Et&&"_"!==pt}}if("_"===pt)return!1;for(;it<at;it++)if("_"!==(pt=H[it])){if(!Te(H.charCodeAt(it)))return!1;Et=!0}return!(!Et||"_"===pt)},construct:function Nt(H){var Et,at=H,it=1;if(-1!==at.indexOf("_")&&(at=at.replace(/_/g,"")),("-"===(Et=at[0])||"+"===Et)&&("-"===Et&&(it=-1),Et=(at=at.slice(1))[0]),"0"===at)return 0;if("0"===Et){if("b"===at[1])return it*parseInt(at.slice(2),2);if("x"===at[1])return it*parseInt(at.slice(2),16);if("o"===at[1])return it*parseInt(at.slice(2),8)}return it*parseInt(at,10)},predicate:function qt(H){return"[object Number]"===Object.prototype.toString.call(H)&&H%1==0&&!te.isNegativeZero(H)},represent:{binary:function(H){return H>=0?"0b"+H.toString(2):"-0b"+H.toString(2).slice(1)},octal:function(H){return H>=0?"0o"+H.toString(8):"-0o"+H.toString(8).slice(1)},decimal:function(H){return H.toString(10)},hexadecimal:function(H){return H>=0?"0x"+H.toString(16).toUpperCase():"-0x"+H.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),wt=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),lt=/^[-+]?[0-9]+e/,Wt=new we("tag:yaml.org,2002:float",{kind:"scalar",resolve:function Zt(H){return!(null===H||!wt.test(H)||"_"===H[H.length-1])},construct:function ft(H){var at,it;return it="-"===(at=H.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(at[0])>=0&&(at=at.slice(1)),".inf"===at?1===it?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===at?NaN:it*parseFloat(at,10)},predicate:function Ct(H){return"[object Number]"===Object.prototype.toString.call(H)&&(H%1!=0||te.isNegativeZero(H))},represent:function Ft(H,at){var it;if(isNaN(H))switch(at){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===H)switch(at){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===H)switch(at){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(te.isNegativeZero(H))return"-0.0";return it=H.toString(10),lt.test(it)?it.replace("e",".e"):it},defaultStyle:"lowercase"}),on=Qe.extend({implicit:[Pt,V,hn,Wt]}),_n=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Sn=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$"),Fe=new we("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function Zn(H){return null!==H&&(null!==_n.exec(H)||null!==Sn.exec(H))},construct:function ut(H){var at,it,Et,pt,$t,Vt,cn,Bn,mn=0,Nn=null;if(null===(at=_n.exec(H))&&(at=Sn.exec(H)),null===at)throw new Error("Date resolve error");if(it=+at[1],Et=+at[2]-1,pt=+at[3],!at[4])return new Date(Date.UTC(it,Et,pt));if($t=+at[4],Vt=+at[5],cn=+at[6],at[7]){for(mn=at[7].slice(0,3);mn.length<3;)mn+="0";mn=+mn}return at[9]&&(Nn=6e4*(60*+at[10]+ +(at[11]||0)),"-"===at[9]&&(Nn=-Nn)),Bn=new Date(Date.UTC(it,Et,pt,$t,Vt,cn,mn)),Nn&&Bn.setTime(Bn.getTime()-Nn),Bn},instanceOf:Date,represent:function be(H){return H.toISOString()}}),ve=new we("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function ae(H){return"<<"===H||null===H}}),ze="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r",Ie=new we("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function vt(H){if(null===H)return!1;var at,it,Et=0,pt=H.length,$t=ze;for(it=0;it<pt;it++)if(!((at=$t.indexOf(H.charAt(it)))>64)){if(at<0)return!1;Et+=6}return Et%8==0},construct:function Ue(H){var at,it,Et=H.replace(/[\r\n=]/g,""),pt=Et.length,$t=ze,Vt=0,cn=[];for(at=0;at<pt;at++)at%4==0&&at&&(cn.push(Vt>>16&255),cn.push(Vt>>8&255),cn.push(255&Vt)),Vt=Vt<<6|$t.indexOf(Et.charAt(at));return 0==(it=pt%4*6)?(cn.push(Vt>>16&255),cn.push(Vt>>8&255),cn.push(255&Vt)):18===it?(cn.push(Vt>>10&255),cn.push(Vt>>2&255)):12===it&&cn.push(Vt>>4&255),new Uint8Array(cn)},predicate:function Ke(H){return"[object Uint8Array]"===Object.prototype.toString.call(H)},represent:function Pe(H){var Et,pt,at="",it=0,$t=H.length,Vt=ze;for(Et=0;Et<$t;Et++)Et%3==0&&Et&&(at+=Vt[it>>18&63],at+=Vt[it>>12&63],at+=Vt[it>>6&63],at+=Vt[63&it]),it=(it<<8)+H[Et];return 0==(pt=$t%3)?(at+=Vt[it>>18&63],at+=Vt[it>>12&63],at+=Vt[it>>6&63],at+=Vt[63&it]):2===pt?(at+=Vt[it>>10&63],at+=Vt[it>>4&63],at+=Vt[it<<2&63],at+=Vt[64]):1===pt&&(at+=Vt[it>>2&63],at+=Vt[it<<4&63],at+=Vt[64],at+=Vt[64]),at}}),Ze=Object.prototype.hasOwnProperty,nt=Object.prototype.toString,Dt=new we("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function Lt(H){if(null===H)return!0;var it,Et,pt,$t,Vt,at=[],cn=H;for(it=0,Et=cn.length;it<Et;it+=1){if(Vt=!1,"[object Object]"!==nt.call(pt=cn[it]))return!1;for($t in pt)if(Ze.call(pt,$t)){if(Vt)return!1;Vt=!0}if(!Vt)return!1;if(-1!==at.indexOf($t))return!1;at.push($t)}return!0},construct:function jt(H){return null!==H?H:[]}}),nn=Object.prototype.toString,Gt=new we("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function Tt(H){if(null===H)return!0;var at,it,Et,pt,$t,Vt=H;for($t=new Array(Vt.length),at=0,it=Vt.length;at<it;at+=1){if("[object Object]"!==nn.call(Et=Vt[at])||1!==(pt=Object.keys(Et)).length)return!1;$t[at]=[pt[0],Et[pt[0]]]}return!0},construct:function It(H){if(null===H)return[];var at,it,Et,pt,$t,Vt=H;for($t=new Array(Vt.length),at=0,it=Vt.length;at<it;at+=1)Et=Vt[at],pt=Object.keys(Et),$t[at]=[pt[0],Et[pt[0]]];return $t}}),At=Object.prototype.hasOwnProperty,wn=new we("tag:yaml.org,2002:set",{kind:"mapping",resolve:function tn(H){if(null===H)return!0;var at,it=H;for(at in it)if(At.call(it,at)&&null!==it[at])return!1;return!0},construct:function vn(H){return null!==H?H:{}}}),ti=on.extend({implicit:[Fe,ve],explicit:[Ie,Dt,Gt,wn]}),Qn=Object.prototype.hasOwnProperty,bn=1,Jn=2,Cn=3,kn=4,Xn=1,to=2,Si=3,Vn=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,ni=/[\x85\u2028\u2029]/,ci=/[,\[\]\{\}]/,ht=/^(?:!|!!|![a-z\-]+!)$/i,st=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function kt(H){return Object.prototype.toString.call(H)}function xe(H){return 10===H||13===H}function Mt(H){return 9===H||32===H}function Z(H){return 9===H||32===H||10===H||13===H}function Ae(H){return 44===H||91===H||93===H||123===H||125===H}function Ve(H){var at;return 48<=H&&H<=57?H-48:97<=(at=32|H)&&at<=102?at-97+10:-1}function _t(H){return 120===H?2:117===H?4:85===H?8:0}function Qt(H){return 48<=H&&H<=57?H-48:-1}function Pn(H){return 48===H?"\0":97===H?"\x07":98===H?"\b":116===H||9===H?"\t":110===H?"\n":118===H?"\v":102===H?"\f":114===H?"\r":101===H?"\x1b":32===H?" ":34===H?'"':47===H?"/":92===H?"\\":78===H?"\x85":95===H?"\xa0":76===H?"\u2028":80===H?"\u2029":""}function ui(H){return H<=65535?String.fromCharCode(H):String.fromCharCode(55296+(H-65536>>10),56320+(H-65536&1023))}for(var vi=new Array(256),zi=new Array(256),Bi=0;Bi<256;Bi++)vi[Bi]=Pn(Bi)?1:0,zi[Bi]=Pn(Bi);function xi(H,at){this.input=H,this.filename=at.filename||null,this.schema=at.schema||ti,this.onWarning=at.onWarning||null,this.legacy=at.legacy||!1,this.json=at.json||!1,this.listener=at.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=H.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Hi(H,at){var it={name:H.filename,buffer:H.input.slice(0,-1),position:H.position,line:H.line,column:H.position-H.lineStart};return it.snippet=ce(it),new k(at,it)}function Kn(H,at){throw Hi(H,at)}function zo(H,at){H.onWarning&&H.onWarning.call(null,Hi(H,at))}var Pi={YAML:function(at,it,Et){var pt,$t,Vt;null!==at.version&&Kn(at,"duplication of %YAML directive"),1!==Et.length&&Kn(at,"YAML directive accepts exactly one argument"),null===(pt=/^([0-9]+)\.([0-9]+)$/.exec(Et[0]))&&Kn(at,"ill-formed argument of the YAML directive"),$t=parseInt(pt[1],10),Vt=parseInt(pt[2],10),1!==$t&&Kn(at,"unacceptable YAML version of the document"),at.version=Et[0],at.checkLineBreaks=Vt<2,1!==Vt&&2!==Vt&&zo(at,"unsupported YAML version of the document")},TAG:function(at,it,Et){var pt,$t;2!==Et.length&&Kn(at,"TAG directive accepts exactly two arguments"),$t=Et[1],ht.test(pt=Et[0])||Kn(at,"ill-formed tag handle (first argument) of the TAG directive"),Qn.call(at.tagMap,pt)&&Kn(at,'there is a previously declared suffix for "'+pt+'" tag handle'),st.test($t)||Kn(at,"ill-formed tag prefix (second argument) of the TAG directive");try{$t=decodeURIComponent($t)}catch{Kn(at,"tag prefix is malformed: "+$t)}at.tagMap[pt]=$t}};function $o(H,at,it,Et){var pt,$t,Vt,cn;if(at<it){if(cn=H.input.slice(at,it),Et)for(pt=0,$t=cn.length;pt<$t;pt+=1)9===(Vt=cn.charCodeAt(pt))||32<=Vt&&Vt<=1114111||Kn(H,"expected valid JSON character");else Vn.test(cn)&&Kn(H,"the stream contains non-printable characters");H.result+=cn}}function $s(H,at,it,Et){var pt,$t,Vt,cn;for(te.isObject(it)||Kn(H,"cannot merge mappings; the provided source object is unacceptable"),Vt=0,cn=(pt=Object.keys(it)).length;Vt<cn;Vt+=1)Qn.call(at,$t=pt[Vt])||(at[$t]=it[$t],Et[$t]=!0)}function ko(H,at,it,Et,pt,$t,Vt,cn,mn){var Nn,li;if(Array.isArray(pt))for(Nn=0,li=(pt=Array.prototype.slice.call(pt)).length;Nn<li;Nn+=1)Array.isArray(pt[Nn])&&Kn(H,"nested arrays are not supported inside keys"),"object"==typeof pt&&"[object Object]"===kt(pt[Nn])&&(pt[Nn]="[object Object]");if("object"==typeof pt&&"[object Object]"===kt(pt)&&(pt="[object Object]"),pt=String(pt),null===at&&(at={}),"tag:yaml.org,2002:merge"===Et)if(Array.isArray($t))for(Nn=0,li=$t.length;Nn<li;Nn+=1)$s(H,at,$t[Nn],it);else $s(H,at,$t,it);else!H.json&&!Qn.call(it,pt)&&Qn.call(at,pt)&&(H.line=Vt||H.line,H.lineStart=cn||H.lineStart,H.position=mn||H.position,Kn(H,"duplicated mapping key")),"__proto__"===pt?Object.defineProperty(at,pt,{configurable:!0,enumerable:!0,writable:!0,value:$t}):at[pt]=$t,delete it[pt];return at}function Sr(H){var at;10===(at=H.input.charCodeAt(H.position))?H.position++:13===at?(H.position++,10===H.input.charCodeAt(H.position)&&H.position++):Kn(H,"a line break is expected"),H.line+=1,H.lineStart=H.position,H.firstTabInLine=-1}function no(H,at,it){for(var Et=0,pt=H.input.charCodeAt(H.position);0!==pt;){for(;Mt(pt);)9===pt&&-1===H.firstTabInLine&&(H.firstTabInLine=H.position),pt=H.input.charCodeAt(++H.position);if(at&&35===pt)do{pt=H.input.charCodeAt(++H.position)}while(10!==pt&&13!==pt&&0!==pt);if(!xe(pt))break;for(Sr(H),pt=H.input.charCodeAt(H.position),Et++,H.lineIndent=0;32===pt;)H.lineIndent++,pt=H.input.charCodeAt(++H.position)}return-1!==it&&0!==Et&&H.lineIndent<it&&zo(H,"deficient indentation"),Et}function Gr(H){var it,at=H.position;return!(45!==(it=H.input.charCodeAt(at))&&46!==it||it!==H.input.charCodeAt(at+1)||it!==H.input.charCodeAt(at+2)||(at+=3,it=H.input.charCodeAt(at),0!==it&&!Z(it)))}function ar(H,at){1===at?H.result+=" ":at>1&&(H.result+=te.repeat("\n",at-1))}function Ja(H,at){var it,mn,Et=H.tag,pt=H.anchor,$t=[],cn=!1;if(-1!==H.firstTabInLine)return!1;for(null!==H.anchor&&(H.anchorMap[H.anchor]=$t),mn=H.input.charCodeAt(H.position);0!==mn&&(-1!==H.firstTabInLine&&(H.position=H.firstTabInLine,Kn(H,"tab characters must not be used in indentation")),45===mn&&Z(H.input.charCodeAt(H.position+1)));)if(cn=!0,H.position++,no(H,!0,-1)&&H.lineIndent<=at)$t.push(null),mn=H.input.charCodeAt(H.position);else if(it=H.line,dr(H,at,Cn,!1,!0),$t.push(H.result),no(H,!0,-1),mn=H.input.charCodeAt(H.position),(H.line===it||H.lineIndent>at)&&0!==mn)Kn(H,"bad indentation of a sequence entry");else if(H.lineIndent<at)break;return!!cn&&(H.tag=Et,H.anchor=pt,H.kind="sequence",H.result=$t,!0)}function Za(H){var at,pt,$t,Vt,it=!1,Et=!1;if(33!==(Vt=H.input.charCodeAt(H.position)))return!1;if(null!==H.tag&&Kn(H,"duplication of a tag property"),60===(Vt=H.input.charCodeAt(++H.position))?(it=!0,Vt=H.input.charCodeAt(++H.position)):33===Vt?(Et=!0,pt="!!",Vt=H.input.charCodeAt(++H.position)):pt="!",at=H.position,it){do{Vt=H.input.charCodeAt(++H.position)}while(0!==Vt&&62!==Vt);H.position<H.length?($t=H.input.slice(at,H.position),Vt=H.input.charCodeAt(++H.position)):Kn(H,"unexpected end of the stream within a verbatim tag")}else{for(;0!==Vt&&!Z(Vt);)33===Vt&&(Et?Kn(H,"tag suffix cannot contain exclamation marks"):(pt=H.input.slice(at-1,H.position+1),ht.test(pt)||Kn(H,"named tag handle cannot contain such characters"),Et=!0,at=H.position+1)),Vt=H.input.charCodeAt(++H.position);$t=H.input.slice(at,H.position),ci.test($t)&&Kn(H,"tag suffix cannot contain flow indicator characters")}$t&&!st.test($t)&&Kn(H,"tag name cannot contain such characters: "+$t);try{$t=decodeURIComponent($t)}catch{Kn(H,"tag name is malformed: "+$t)}return it?H.tag=$t:Qn.call(H.tagMap,pt)?H.tag=H.tagMap[pt]+$t:"!"===pt?H.tag="!"+$t:"!!"===pt?H.tag="tag:yaml.org,2002:"+$t:Kn(H,'undeclared tag handle "'+pt+'"'),!0}function qa(H){var at,it;if(38!==(it=H.input.charCodeAt(H.position)))return!1;for(null!==H.anchor&&Kn(H,"duplication of an anchor property"),it=H.input.charCodeAt(++H.position),at=H.position;0!==it&&!Z(it)&&!Ae(it);)it=H.input.charCodeAt(++H.position);return H.position===at&&Kn(H,"name of an anchor node must contain at least one character"),H.anchor=H.input.slice(at,H.position),!0}function dr(H,at,it,Et,pt){var $t,Vt,cn,Wn,Bn,di,Xi,Ii,lo,mn=1,Nn=!1,li=!1;if(null!==H.listener&&H.listener("open",H),H.tag=null,H.anchor=null,H.kind=null,H.result=null,$t=Vt=cn=kn===it||Cn===it,Et&&no(H,!0,-1)&&(Nn=!0,H.lineIndent>at?mn=1:H.lineIndent===at?mn=0:H.lineIndent<at&&(mn=-1)),1===mn)for(;Za(H)||qa(H);)no(H,!0,-1)?(Nn=!0,cn=$t,H.lineIndent>at?mn=1:H.lineIndent===at?mn=0:H.lineIndent<at&&(mn=-1)):cn=!1;if(cn&&(cn=Nn||pt),(1===mn||kn===it)&&(Ii=bn===it||Jn===it?at:at+1,lo=H.position-H.lineStart,1===mn?cn&&(Ja(H,lo)||function Ia(H,at,it){var Et,pt,$t,Vt,cn,mn,Gi,Nn=H.tag,li=H.anchor,Wn={},Bn=Object.create(null),di=null,Xi=null,Ii=null,lo=!1,xo=!1;if(-1!==H.firstTabInLine)return!1;for(null!==H.anchor&&(H.anchorMap[H.anchor]=Wn),Gi=H.input.charCodeAt(H.position);0!==Gi;){if(!lo&&-1!==H.firstTabInLine&&(H.position=H.firstTabInLine,Kn(H,"tab characters must not be used in indentation")),Et=H.input.charCodeAt(H.position+1),$t=H.line,63!==Gi&&58!==Gi||!Z(Et)){if(Vt=H.line,cn=H.lineStart,mn=H.position,!dr(H,it,Jn,!1,!0))break;if(H.line===$t){for(Gi=H.input.charCodeAt(H.position);Mt(Gi);)Gi=H.input.charCodeAt(++H.position);if(58===Gi)Z(Gi=H.input.charCodeAt(++H.position))||Kn(H,"a whitespace character is expected after the key-value separator within a block mapping"),lo&&(ko(H,Wn,Bn,di,Xi,null,Vt,cn,mn),di=Xi=Ii=null),xo=!0,lo=!1,pt=!1,di=H.tag,Xi=H.result;else{if(!xo)return H.tag=Nn,H.anchor=li,!0;Kn(H,"can not read an implicit mapping pair; a colon is missed")}}else{if(!xo)return H.tag=Nn,H.anchor=li,!0;Kn(H,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===Gi?(lo&&(ko(H,Wn,Bn,di,Xi,null,Vt,cn,mn),di=Xi=Ii=null),xo=!0,lo=!0,pt=!0):lo?(lo=!1,pt=!0):Kn(H,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),H.position+=1,Gi=Et;if((H.line===$t||H.lineIndent>at)&&(lo&&(Vt=H.line,cn=H.lineStart,mn=H.position),dr(H,at,kn,!0,pt)&&(lo?Xi=H.result:Ii=H.result),lo||(ko(H,Wn,Bn,di,Xi,Ii,Vt,cn,mn),di=Xi=Ii=null),no(H,!0,-1),Gi=H.input.charCodeAt(H.position)),(H.line===$t||H.lineIndent>at)&&0!==Gi)Kn(H,"bad indentation of a mapping entry");else if(H.lineIndent<at)break}return lo&&ko(H,Wn,Bn,di,Xi,null,Vt,cn,mn),xo&&(H.tag=Nn,H.anchor=li,H.kind="mapping",H.result=Wn),xo}(H,lo,Ii))||function Sa(H,at){var Et,pt,$t,cn,li,Wn,Bn,di,Ii,lo,xo,Gi,it=!0,Vt=H.tag,mn=H.anchor,Xi=Object.create(null);if(91===(Gi=H.input.charCodeAt(H.position)))li=93,di=!1,cn=[];else{if(123!==Gi)return!1;li=125,di=!0,cn={}}for(null!==H.anchor&&(H.anchorMap[H.anchor]=cn),Gi=H.input.charCodeAt(++H.position);0!==Gi;){if(no(H,!0,at),(Gi=H.input.charCodeAt(H.position))===li)return H.position++,H.tag=Vt,H.anchor=mn,H.kind=di?"mapping":"sequence",H.result=cn,!0;it?44===Gi&&Kn(H,"expected the node content, but found ','"):Kn(H,"missed comma between flow collection entries"),xo=null,Wn=Bn=!1,63===Gi&&Z(H.input.charCodeAt(H.position+1))&&(Wn=Bn=!0,H.position++,no(H,!0,at)),Et=H.line,pt=H.lineStart,$t=H.position,dr(H,at,bn,!1,!0),lo=H.tag,Ii=H.result,no(H,!0,at),Gi=H.input.charCodeAt(H.position),(Bn||H.line===Et)&&58===Gi&&(Wn=!0,Gi=H.input.charCodeAt(++H.position),no(H,!0,at),dr(H,at,bn,!1,!0),xo=H.result),di?ko(H,cn,Xi,lo,Ii,xo,Et,pt,$t):cn.push(Wn?ko(H,null,Xi,lo,Ii,xo,Et,pt,$t):Ii),no(H,!0,at),44===(Gi=H.input.charCodeAt(H.position))?(it=!0,Gi=H.input.charCodeAt(++H.position)):it=!1}Kn(H,"unexpected end of the stream within a flow collection")}(H,Ii)?li=!0:(Vt&&function Gl(H,at){var it,Et,li,Wn,pt=Xn,$t=!1,Vt=!1,cn=at,mn=0,Nn=!1;if(124===(Wn=H.input.charCodeAt(H.position)))Et=!1;else{if(62!==Wn)return!1;Et=!0}for(H.kind="scalar",H.result="";0!==Wn;)if(43===(Wn=H.input.charCodeAt(++H.position))||45===Wn)Xn===pt?pt=43===Wn?Si:to:Kn(H,"repeat of a chomping mode identifier");else{if(!((li=Qt(Wn))>=0))break;0===li?Kn(H,"bad explicit indentation width of a block scalar; it cannot be less than one"):Vt?Kn(H,"repeat of an indentation width identifier"):(cn=at+li-1,Vt=!0)}if(Mt(Wn)){do{Wn=H.input.charCodeAt(++H.position)}while(Mt(Wn));if(35===Wn)do{Wn=H.input.charCodeAt(++H.position)}while(!xe(Wn)&&0!==Wn)}for(;0!==Wn;){for(Sr(H),H.lineIndent=0,Wn=H.input.charCodeAt(H.position);(!Vt||H.lineIndent<cn)&&32===Wn;)H.lineIndent++,Wn=H.input.charCodeAt(++H.position);if(!Vt&&H.lineIndent>cn&&(cn=H.lineIndent),xe(Wn))mn++;else{if(H.lineIndent<cn){pt===Si?H.result+=te.repeat("\n",$t?1+mn:mn):pt===Xn&&$t&&(H.result+="\n");break}for(Et?Mt(Wn)?(Nn=!0,H.result+=te.repeat("\n",$t?1+mn:mn)):Nn?(Nn=!1,H.result+=te.repeat("\n",mn+1)):0===mn?$t&&(H.result+=" "):H.result+=te.repeat("\n",mn):H.result+=te.repeat("\n",$t?1+mn:mn),$t=!0,Vt=!0,mn=0,it=H.position;!xe(Wn)&&0!==Wn;)Wn=H.input.charCodeAt(++H.position);$o(H,it,H.position,!1)}}return!0}(H,Ii)||function cr(H,at){var it,Et,pt;if(39!==(it=H.input.charCodeAt(H.position)))return!1;for(H.kind="scalar",H.result="",H.position++,Et=pt=H.position;0!==(it=H.input.charCodeAt(H.position));)if(39===it){if($o(H,Et,H.position,!0),39!==(it=H.input.charCodeAt(++H.position)))return!0;Et=H.position,H.position++,pt=H.position}else xe(it)?($o(H,Et,pt,!0),ar(H,no(H,!1,at)),Et=pt=H.position):H.position===H.lineStart&&Gr(H)?Kn(H,"unexpected end of the document within a single quoted scalar"):(H.position++,pt=H.position);Kn(H,"unexpected end of the stream within a single quoted scalar")}(H,Ii)||function Da(H,at){var it,Et,pt,$t,Vt,cn;if(34!==(cn=H.input.charCodeAt(H.position)))return!1;for(H.kind="scalar",H.result="",H.position++,it=Et=H.position;0!==(cn=H.input.charCodeAt(H.position));){if(34===cn)return $o(H,it,H.position,!0),H.position++,!0;if(92===cn){if($o(H,it,H.position,!0),xe(cn=H.input.charCodeAt(++H.position)))no(H,!1,at);else if(cn<256&&vi[cn])H.result+=zi[cn],H.position++;else if((Vt=_t(cn))>0){for(pt=Vt,$t=0;pt>0;pt--)(Vt=Ve(cn=H.input.charCodeAt(++H.position)))>=0?$t=($t<<4)+Vt:Kn(H,"expected hexadecimal character");H.result+=ui($t),H.position++}else Kn(H,"unknown escape sequence");it=Et=H.position}else xe(cn)?($o(H,it,Et,!0),ar(H,no(H,!1,at)),it=Et=H.position):H.position===H.lineStart&&Gr(H)?Kn(H,"unexpected end of the document within a double quoted scalar"):(H.position++,Et=H.position)}Kn(H,"unexpected end of the stream within a double quoted scalar")}(H,Ii)?li=!0:function Oa(H){var at,it,Et;if(42!==(Et=H.input.charCodeAt(H.position)))return!1;for(Et=H.input.charCodeAt(++H.position),at=H.position;0!==Et&&!Z(Et)&&!Ae(Et);)Et=H.input.charCodeAt(++H.position);return H.position===at&&Kn(H,"name of an alias node must contain at least one character"),it=H.input.slice(at,H.position),Qn.call(H.anchorMap,it)||Kn(H,'unidentified alias "'+it+'"'),H.result=H.anchorMap[it],no(H,!0,-1),!0}(H)?(li=!0,(null!==H.tag||null!==H.anchor)&&Kn(H,"alias node should not have any properties")):function lr(H,at,it){var pt,$t,Vt,cn,mn,Nn,li,di,Wn=H.kind,Bn=H.result;if(Z(di=H.input.charCodeAt(H.position))||Ae(di)||35===di||38===di||42===di||33===di||124===di||62===di||39===di||34===di||37===di||64===di||96===di||(63===di||45===di)&&(Z(pt=H.input.charCodeAt(H.position+1))||it&&Ae(pt)))return!1;for(H.kind="scalar",H.result="",$t=Vt=H.position,cn=!1;0!==di;){if(58===di){if(Z(pt=H.input.charCodeAt(H.position+1))||it&&Ae(pt))break}else if(35===di){if(Z(H.input.charCodeAt(H.position-1)))break}else{if(H.position===H.lineStart&&Gr(H)||it&&Ae(di))break;if(xe(di)){if(mn=H.line,Nn=H.lineStart,li=H.lineIndent,no(H,!1,-1),H.lineIndent>=at){cn=!0,di=H.input.charCodeAt(H.position);continue}H.position=Vt,H.line=mn,H.lineStart=Nn,H.lineIndent=li;break}}cn&&($o(H,$t,Vt,!1),ar(H,H.line-mn),$t=Vt=H.position,cn=!1),Mt(di)||(Vt=H.position+1),di=H.input.charCodeAt(++H.position)}return $o(H,$t,Vt,!1),!!H.result||(H.kind=Wn,H.result=Bn,!1)}(H,Ii,bn===it)&&(li=!0,null===H.tag&&(H.tag="?")),null!==H.anchor&&(H.anchorMap[H.anchor]=H.result)):0===mn&&(li=cn&&Ja(H,lo))),null===H.tag)null!==H.anchor&&(H.anchorMap[H.anchor]=H.result);else if("?"===H.tag){for(null!==H.result&&"scalar"!==H.kind&&Kn(H,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+H.kind+'"'),Wn=0,Bn=H.implicitTypes.length;Wn<Bn;Wn+=1)if((Xi=H.implicitTypes[Wn]).resolve(H.result)){H.result=Xi.construct(H.result),H.tag=Xi.tag,null!==H.anchor&&(H.anchorMap[H.anchor]=H.result);break}}else if("!"!==H.tag){if(Qn.call(H.typeMap[H.kind||"fallback"],H.tag))Xi=H.typeMap[H.kind||"fallback"][H.tag];else for(Xi=null,Wn=0,Bn=(di=H.typeMap.multi[H.kind||"fallback"]).length;Wn<Bn;Wn+=1)if(H.tag.slice(0,di[Wn].tag.length)===di[Wn].tag){Xi=di[Wn];break}Xi||Kn(H,"unknown tag !<"+H.tag+">"),null!==H.result&&Xi.kind!==H.kind&&Kn(H,"unacceptable node kind for !<"+H.tag+'> tag; it should be "'+Xi.kind+'", not "'+H.kind+'"'),Xi.resolve(H.result,H.tag)?(H.result=Xi.construct(H.result,H.tag),null!==H.anchor&&(H.anchorMap[H.anchor]=H.result)):Kn(H,"cannot resolve a node with !<"+H.tag+"> explicit tag")}return null!==H.listener&&H.listener("close",H),null!==H.tag||null!==H.anchor||li}function yl(H){var it,Et,pt,Vt,at=H.position,$t=!1;for(H.version=null,H.checkLineBreaks=H.legacy,H.tagMap=Object.create(null),H.anchorMap=Object.create(null);0!==(Vt=H.input.charCodeAt(H.position))&&(no(H,!0,-1),Vt=H.input.charCodeAt(H.position),!(H.lineIndent>0||37!==Vt));){for($t=!0,Vt=H.input.charCodeAt(++H.position),it=H.position;0!==Vt&&!Z(Vt);)Vt=H.input.charCodeAt(++H.position);for(pt=[],(Et=H.input.slice(it,H.position)).length<1&&Kn(H,"directive name must not be less than one character in length");0!==Vt;){for(;Mt(Vt);)Vt=H.input.charCodeAt(++H.position);if(35===Vt){do{Vt=H.input.charCodeAt(++H.position)}while(0!==Vt&&!xe(Vt));break}if(xe(Vt))break;for(it=H.position;0!==Vt&&!Z(Vt);)Vt=H.input.charCodeAt(++H.position);pt.push(H.input.slice(it,H.position))}0!==Vt&&Sr(H),Qn.call(Pi,Et)?Pi[Et](H,Et,pt):zo(H,'unknown document directive "'+Et+'"')}no(H,!0,-1),0===H.lineIndent&&45===H.input.charCodeAt(H.position)&&45===H.input.charCodeAt(H.position+1)&&45===H.input.charCodeAt(H.position+2)?(H.position+=3,no(H,!0,-1)):$t&&Kn(H,"directives end mark is expected"),dr(H,H.lineIndent-1,kn,!1,!0),no(H,!0,-1),H.checkLineBreaks&&ni.test(H.input.slice(at,H.position))&&zo(H,"non-ASCII line breaks are interpreted as content"),H.documents.push(H.result),H.position===H.lineStart&&Gr(H)?46===H.input.charCodeAt(H.position)&&(H.position+=3,no(H,!0,-1)):H.position<H.length-1&&Kn(H,"end of the stream or a document separator is expected")}function Xo(H,at){at=at||{},0!==(H=String(H)).length&&(10!==H.charCodeAt(H.length-1)&&13!==H.charCodeAt(H.length-1)&&(H+="\n"),65279===H.charCodeAt(0)&&(H=H.slice(1)));var it=new xi(H,at),Et=H.indexOf("\0");for(-1!==Et&&(it.position=Et,Kn(it,"null byte is not allowed in input")),it.input+="\0";32===it.input.charCodeAt(it.position);)it.lineIndent+=1,it.position+=1;for(;it.position<it.length-1;)yl(it);return it.documents}function ol(H,at){return function(){throw new Error("Function yaml."+H+" is removed in js-yaml 4. Use yaml."+at+" instead, which is now safe by default.")}}var Pa=function Ys(H,at){var it=Xo(H,at);if(0!==it.length){if(1===it.length)return it[0];throw new k("expected a single document in the stream, but found more")}};ol("safeLoad","load"),ol("safeLoadAll","loadAll"),ol("safeDump","dump");var io=o(3953),al=o(2091);let ks=(()=>{class H{get settings(){return this._settings}get region_settings(){return this._region_settings}get building_settings(){return this._building_settings}regionSettings(it=""){const Et=this._active_region.getValue();return!it&&Et&&(it=Et?.id),this._region_settings&&this._region_settings[it]||{}}buildingSettings(it=""){return!it&&this.building&&(it=this.building?.id||this.buildings[0]?.id),this._building_settings&&this._building_settings[it]||{}}get organisation(){return this._organisation}get regions(){return this._regions.getValue()}get region(){return this._active_region.getValue()}set region(it){this.setRegion(it)}setRegion(it){var Et=this;return(0,e.A)(function*(){it&&(Et._active_region.next(it),yield Et.loadRegionData(it),Et._setBuildingFromTimezone(),Et.building?.parent_id!==it.id&&Et.buildingsForRegion(it).length?Et.building=Et.buildingsForRegion(it)[0]:Et._updateSettingOverrides())})()}get buildings(){return this._buildings.getValue()||[]}get building(){return this._active_building.getValue()}set building(it){it&&(this._active_building.next(it),this.loadBuildingData(it).then(()=>this._updateSettingOverrides()),this.regions.length&&this.region?.id!==it.parent_id&&(this.region=this.regions.find(Et=>Et.id===this.building.parent_id)))}get timezone(){return Intl.DateTimeFormat().resolvedOptions().timeZone}get currency_code(){return this._service.get("app.currency")||this.building?.currency||"USD"}binding(it){return this.building?.bindings[it]||this._organisation?.bindings[it]}find(it){return this.buildings.find(Et=>Et.id===it)}get levels(){return this._levels.getValue()}constructor(it,Et){this._service=it,this._router=Et,this._initialised=new l.t(!1),this.initialised=this._initialised.asObservable(),this._regions=new l.t([]),this._active_region=new l.t(null),this._buildings=new l.t([]),this._active_building=new l.t(null),this._levels=new l.t([]),this._loaded_data=[],this.app_key=`${(this._service.app_name||"workplace").toLowerCase()}_app`,this.region_list=this._regions.asObservable(),this.building_list=this._buildings.asObservable(),this.level_list=this._levels.asObservable(),this.active_region=this._active_region.asObservable(),this.active_building=this._active_building.asObservable(),this.active_buildings=(0,h.zV)([this._buildings,this._active_region]).pipe((0,p.T)(([pt,$t])=>$t?this.buildingsForRegion($t):this.buildings)),this.active_levels=(0,h.zV)([this._levels,this._active_building]).pipe((0,p.T)(([pt,$t])=>$t?this.levelsForBuilding($t):[]),(0,f.t)(1)),this._settings=[],this._region_settings={},this._building_settings={},(0,n.XYg)().pipe((0,b.$)(pt=>pt)).subscribe(()=>setTimeout(()=>this.init(),1e3)),(0,h.zV)([this.active_region,this.active_building]).pipe((0,d.p)(([pt,$t])=>!!$t),(0,y.B)(300)).subscribe(()=>this._updateSettingOverrides())}levelWithID(it){return this.levels.find(Et=>it?.includes(Et.id))}levelsForBuilding(it=this.building){return this.levels.filter(Et=>Et.parent_id&&Et.parent_id===it?.id)}buildingsForRegion(it=this.region){return this.buildings.filter(Et=>Et.parent_id===it?.id)}levelsForRegion(it=this.region){const Et=this.buildingsForRegion(it);return this.levels.filter(pt=>pt.parent_id&&Et.find($t=>$t.id===pt.parent_id))}addZone(it){if(it.tags.includes("region")){const Et=new M(it),pt=this._regions.getValue().filter($t=>$t.id!==Et.id);pt.push(Et),this._regions.next(pt)}else if(it.tags.includes("building")){const Et=new O.t(it);let pt=this._buildings.getValue().filter($t=>$t.id!==Et.id);pt.push(Et),pt=pt.sort(($t,Vt)=>($t.name||"").localeCompare(Vt.name||"")),this._buildings.next(pt)}else if(it.tags.includes("level")){const Et=new S.P(it);let pt=this._levels.getValue().filter($t=>$t.id!==Et.id);pt.push(Et),pt=pt.sort(($t,Vt)=>($t.name||"").localeCompare(Vt.name||"")),this._levels.next(pt)}else console.warn("Unable to add zone as it is missing the required tag.",it.id)}removeZone(it){if(it.tags.includes("region")){const Et=this._regions.getValue().filter(pt=>pt.id!==it.id);this._regions.next(Et)}else if(it.tags.includes("building")){const Et=this._buildings.getValue().filter(pt=>pt.id!==it.id);this._buildings.next(Et)}else if(it.tags.includes("level")){const Et=this._levels.getValue().filter(pt=>pt.id!==it.id);this._levels.next(Et)}else console.warn("Unable to remove zone as it is missing the required tag.",it.id)}init(it=0){var Et=this;return(0,e.A)(function*(){Et._initialised.next(!1),yield Et.load().catch(pt=>{throw(0,m.UG)("Error loading organisation data. Retrying..."),setTimeout(()=>Et.init(it),Math.min(1e4,300*++it)),pt}),Et._initialised.next(!0),window.debug&&(window.application||(window.application={}),window.application.orgs=Et)})()}load(){var it=this;return(0,e.A)(function*(){if(yield it.loadOrganisation(),yield it.loadRegions(),it._regions.getValue().length)for(const Et of it._regions.getValue()){const pt=yield it.loadBuildings(Et.id);if(pt.length){it._buildings.next(pt);break}}else it._buildings.next(yield it.loadBuildings());yield it.loadSettings(),it._buildings.getValue()?.length||((0,w.Rm)("ORG","Unable to find any building zones"),it._router.navigate(["/misconfigured"])),yield it.loadLevels(),it._updateSettingOverrides()})()}loadOrganisation(){var it=this;return(0,e.A)(function*(){const Et=yield(0,n.smM)({tags:"org"}).pipe((0,p.T)(pt=>pt.data)).toPromise();if(Et.length){const pt=(0,n.kup)(),$t=Et.find(cn=>(0,n.TMs)()||cn.id===pt?.config?.org_zone)||Et[0],Vt=(yield(0,n.bpY)($t.id,"bindings").toPromise())?.details;it._organisation=new P.B({...$t,bindings:Vt})}else(0,w.Rm)("ORG","Unable to find organisation"),it._router.navigate(["/misconfigured"])})()}loadRegions(){var it=this;return(0,e.A)(function*(){const Et=yield(0,n.smM)({tags:"region",parent_id:it._organisation?.id||"",limit:500}).pipe((0,p.T)(pt=>pt.data.map($t=>new M($t))),(0,R.W)(()=>(0,g.of)([]))).toPromise();it._regions.next(Et)})()}loadRegionData(it){var Et=this;return(0,e.A)(function*(){if(Et._loaded_data[it.id])return;const[pt,$t,Vt]=yield Promise.all([(0,n.bpY)(it.id,Et.app_key).pipe((0,p.T)(cn=>cn?.details)).toPromise(),(0,n.bpY)(it.id,"bindings").pipe((0,p.T)(cn=>cn?.details)).toPromise(),Et.loadBuildings(it.id)]);Et._buildings.next((0,w.Am)([...Et._buildings.getValue(),...Vt],"id")),Et._loaded_data[it.id]=!0,it.bindings=$t,Et._region_settings[it.id]=pt})()}loadBuildings(it=this._organisation?.id){return(0,e.A)(function*(){return yield(0,n.smM)({tags:"building",parent_id:it,limit:500}).pipe((0,p.T)(pt=>pt.data.map($t=>new O.t($t)))).toPromise()})()}loadBuildingData(it){var Et=this;return(0,e.A)(function*(){if(!it||Et._loaded_data[it.id])return;const[pt,$t,Vt,cn]=yield Promise.all([(0,n.bpY)(it.id,Et.app_key).pipe((0,p.T)(mn=>mn?.details),(0,R.W)(()=>(0,g.of)({}))).toPromise(),(0,n.bpY)(it.id,"bindings").pipe((0,p.T)(mn=>mn?.details),(0,R.W)(()=>(0,g.of)({}))).toPromise(),(0,n.bpY)(it.id,"booking_rules").pipe((0,p.T)(mn=>mn?.details),(0,R.W)(()=>(0,g.of)({}))).toPromise(),(0,n.smE)({parent_id:it.id}).pipe((0,R.W)(()=>(0,g.of)({data:{}})),(0,p.T)(mn=>{try{return Pa(mn?.data.find(Nn=>Nn.encryption_level===n.cor.None)||{settings_string:""})}catch{return{}}})).toPromise()]);console.log("Building Settings:",it.display_name||it.name,it.id,pt),Et._building_settings[it.id]={...cn||{},...pt||{}},it.bindings=$t,it.booking_rules=Vt,Et._loaded_data[it.id]=!0,Et._updateSettingOverrides()})()}loadLevels(){var it=this;return(0,e.A)(function*(){const Et=yield(0,n.smM)({tags:"level",limit:2500}).pipe((0,p.T)($t=>$t.data)).toPromise();Et?.length||it._router.navigate(["/misconfigured"]);let pt=Et.map($t=>new S.P($t));pt=pt.sort(($t,Vt)=>($t.name||"").localeCompare(Vt.name||"")),it._levels.next(pt)})()}get available_room_configs(){return this.buildings.map(it=>[...it.room_configurations]).reduce((it,Et)=>it.concat(Et),[]).sort((it,Et)=>it.name.localeCompare(Et.name))}loadSettings(){var it=this;return(0,e.A)(function*(){if(!it._organisation)return;const Et=(yield(0,n.bpY)(it._organisation?.id,it.app_key).toPromise())?.details,pt=(yield(0,n.bpY)(it._organisation?.id,"settings").toPromise())?.details;it._settings=[pt,Et],it._service.overrides=[...it._settings],yield it._initialiseActiveBuilding(),it._updateSettingOverrides()})()}saveBuilding(it){const Et=this._buildings.getValue().find(pt=>pt.id===it)?.parent_id;Et&&Et!==this._organisation.id&&sessionStorage.setItem("PLACEOS.region",Et),sessionStorage.setItem("PLACEOS.building",it)}_initialiseActiveBuilding(){return new Promise(it=>{const Et=sessionStorage.getItem("PLACEOS.building");if(Et&&this.buildings.find($t=>$t.id===Et))return this.building=this.buildings.find($t=>$t.id===Et),it();this._service.get("app.use_geolocation")&&"geolocation"in navigator?navigator.geolocation.getCurrentPosition($t=>{const{latitude:Vt,longitude:cn}=$t.coords;let mn=null;for(const Nn of this.buildings)if(Nn.location&&"0,0"!==Nn.location)if(mn){const[li,Wn]=(mn.location||"0,0").split(","),[Bn,di]=(Nn.location||"0,0").split(",");Math.sqrt(Math.pow(Vt-+Bn,2)+Math.pow(cn-+di,2))<Math.sqrt(Math.pow(Vt-+li,2)+Math.pow(cn-+Wn,2))&&(mn=Nn)}else mn=Nn;mn&&(this.building=mn),this.building?.id||this._setDefaultBuilding(),it()},()=>{this.building?.id||this._setDefaultBuilding(),it()}):this.building?.id||(this._setDefaultBuilding(),it())})}_setDefaultBuilding(){var it=this;return(0,e.A)(function*(){if(!it.buildings.length)return;const Et=sessionStorage.getItem("PLACEOS.region");if(yield Et?it.setRegion(it._regions.getValue().find($t=>$t.id===Et)):it._setRegionFromTimezone(),it._setBuildingFromTimezone(),it.building)return;const pt=it._service.get("app.default_building");pt&&(it.building=it.buildings.find(({id:$t})=>$t===pt)),it.building||(it.building=it.buildings[0])})()}_setRegionFromTimezone(){var it=this;return(0,e.A)(function*(){const Et=it.regions,pt=it.timezone;for(const Vt of Et)if(Vt.timezone===pt)return yield it.setRegion(Vt);const $t=pt.split("/")[0];for(const Vt of Et)if(Vt.timezone.startsWith($t))return yield it.setRegion(Vt)})()}_setBuildingFromTimezone(){const it=this.buildings.filter($t=>!this.region||$t.parent_id===this.region?.id),Et=this.timezone;for(const $t of it)if($t.timezone===Et)return void(this.building=$t);const pt=Et.split("/")[0];for(const $t of it)if($t.timezone.startsWith(pt))return void(this.building=$t)}_updateSettingOverrides(){setTimeout(()=>this._service.overrides=[this.buildingSettings(this.building?.id),this.regionSettings(this.region?.id),...this._settings],300)}static#e=this.\u0275fac=function(Et){return new(Et||H)(io.KVO(v.h),io.KVO(al.Ix))};static#t=this.\u0275prov=io.jDH({token:H,factory:H.\u0275fac,providedIn:"root"})}return H})()},5272:(gt,re,o)=>{"use strict";o.d(re,{$:()=>y});var e=o(467),n=o(3953),l=o(4006),h=o(8026);function g(R,m){if(1&R&&(n.PLo(0,3,1),n.eu8(1),n.nI1(2,"date"),n.nI1(3,"date"),n.YFu()),2&R){const v=n.XpG(3);n.R7$(3),n.uP7(n.i5U(2,2,v.details.date,"shortTime"))(n.i5U(3,5,v.details.date+60*v.details.duration*1e3,"shortTime")),n.nnv(0)}}function p(R,m){if(1&R){const v=n.RV6();n.qex(0),n.j41(1,"main",14)(2,"h2",15),n.pXf(3,2),n.k0s(),n.nrm(4,"img",16),n.j41(5,"p",17),n.PLo(6,3),n.nI1(7,"date"),n.DNE(8,g,4,8,"ng-container",18),n.YFu(),n.k0s(),n.j41(9,"p",19),n.pXf(10,4),n.k0s(),n.j41(11,"p",20)(12,"strong"),n.EFF(13),n.nI1(14,"currency"),n.k0s()(),n.j41(15,"card-input-field",21),n.mxI("ngModelChange",function(S){n.eBV(v);const P=n.XpG(2);return n.DH7(P.card_details,S)||(P.card_details=S),n.Njj(S)}),n.k0s()(),n.j41(16,"footer",22)(17,"button",23),n.bIt("click",function(){n.eBV(v);const S=n.XpG(2);return n.Njj(S.processPayment())}),n.pXf(18,5),n.k0s()(),n.j41(19,"button",24)(20,"i",25),n.EFF(21,"close"),n.k0s()(),n.bVm()}if(2&R){const v=n.XpG(2);n.R7$(8),n.Y8G("ngIf",!v.details.all_day),n.uP7(v.details.type)(v.details.resource_name)(n.i5U(7,6,v.details.date,"mediumDate")),n.nnv(6),n.R7$(5),n.JRh(n.i5U(14,9,v.details.amount/100,v.code)),n.R7$(2),n.R50("ngModel",v.card_details)}}function f(R,m){if(1&R&&(n.j41(0,"div",12),n.DNE(1,p,22,12,"ng-container",13),n.k0s()),2&R){const v=n.XpG(),O=n.sdS(5);n.R7$(),n.Y8G("ngIf",!v.success)("ngIfElse",O)}}function b(R,m){if(1&R&&(n.j41(0,"div",26),n.nrm(1,"mat-spinner",27),n.j41(2,"p"),n.EFF(3),n.nI1(4,"async"),n.k0s()()),2&R){const v=n.XpG();n.R7$(3),n.JRh(n.bMT(4,1,v.loading))}}function d(R,m){if(1&R&&(n.j41(0,"main",28)(1,"h2",15),n.pXf(2,6),n.k0s(),n.j41(3,"h3",29),n.EFF(4),n.k0s(),n.j41(5,"p"),n.pXf(6,7),n.nI1(7,"currency"),n.k0s(),n.j41(8,"p"),n.pXf(9,8),n.k0s(),n.j41(10,"p"),n.EFF(11),n.nI1(12,"date"),n.k0s(),n.j41(13,"p"),n.pXf(14,9),n.nI1(15,"date"),n.nI1(16,"date"),n.k0s()(),n.nrm(17,"img",30),n.j41(18,"footer",31)(19,"button",32),n.pXf(20,10),n.k0s()()),2&R){const v=n.XpG();n.R7$(4),n.SpI(" Ref #",v.transaction_id," "),n.R7$(3),n.uP7(n.i5U(7,6,v.details.amount/100,v.code)),n.nnv(6),n.R7$(2),n.uP7(v.details.resource_name),n.nnv(9),n.R7$(2),n.JRh(n.i5U(12,9,v.details.date,"mediumDate")),n.R7$(5),n.uP7(n.i5U(15,12,v.details.date,"shortTime"))(n.i5U(16,15,v.details.date+60*v.details.duration*1e3,"shortTime")),n.nnv(14)}}let y=(()=>{class R{get code(){return this._org.currency_code}constructor(v,O){this._data=v,this._org=O,this.event=new n.bkB,this.details=this._data,this.loading=this._data.loading,this.success=!1,this.transaction_id="12345678"}processPayment(){var v=this;return(0,e.A)(function*(){!v.card_details||!v._validCardDetails()||(v.event.emit(v.card_details),yield v._data.makePayment(v.card_details),v.success=!0)})()}_validCardDetails(){return(this.card_details?.cardholder.length||0)>0&&(this.card_details?.cvv.length||0)>=3}static#e=this.\u0275fac=function(O){return new(O||R)(n.rXU(l.Vh),n.rXU(h.y))};static#t=this.\u0275cmp=n.VBU({type:R,selectors:[["payment-modal"]],outputs:{event:"event"},decls:6,vars:4,consts:()=>{let v,O,S,P,M,w,x,I,_;return v=$localize`:␟4d64c520c43eead598939b50c326e665c6e88fa4␟7177958266181561076:Booking Payment`,O=$localize`:␟00a4b4852357812c8f53bb8e5c7598d479bea113␟6612380128469929872: You are requesting a ${"\ufffd0\ufffd"}:INTERPOLATION: booking in ${"\ufffd1\ufffd"}:INTERPOLATION_1: for ${"\ufffd2\ufffd"}:INTERPOLATION_2: ${"\ufffd*8:1\ufffd\ufffd#1:1\ufffd"}:START_TAG_NG_CONTAINER: between ${"\ufffd0:1\ufffd"}:INTERPOLATION_3: and ${"\ufffd1:1\ufffd"}:INTERPOLATION_4: ${"\ufffd/#1:1\ufffd\ufffd/*8:1\ufffd"}:CLOSE_TAG_NG_CONTAINER:`,S=$localize`:␟7a9510cbfdcb53b8dcac3f0bd7958196958333ff␟2305336913310307878:You booking will cost:`,P=$localize`:␟9069fc3477fe6107249755afedd9fe14140bb201␟8427617350792373644: Make Payment `,M=$localize`:␟dbbd5277093a2dbc265472510779d835afc39f45␟8206804611071524488:Payment Successful`,w=$localize`:␟bb02e353442d9b1ec8fc7d9875465cafb134f7e4␟2765198892596811562:${"\ufffd0\ufffd"}:INTERPOLATION: paid.`,x=$localize`:␟931d5e8e4e517671212210e9d716fa2721c9e67c␟6374111499070607459:${"\ufffd0\ufffd"}:INTERPOLATION: booked.`,I=$localize`:␟e2ddd0e2db3568ac26e9f86a9e366f864a4e6e94␟783447026381975793: ${"\ufffd0\ufffd"}:INTERPOLATION: and ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,_=$localize`:␟001127b263e7132960af8fa70cce4c2635980fbc␟8163835392610431386: Great, thanks. `,[["load_state",""],["success_state",""],v,O,S,P,M,w,x,I,_,["class","relative max-h-[100vh] overflow-auto",4,"ngIf","ngIfElse"],[1,"relative","max-h-[100vh]","overflow-auto"],[4,"ngIf","ngIfElse"],[1,"px-4","pt-8","w-[24rem]","space-y-2","flex","flex-col","items-center","relative"],[1,"text-2xl","font-medium"],["src","assets/icons/cost.svg",1,"w-1/2"],[1,"text-sm","text-center","pb-2"],[4,"ngIf"],[1,"text-sm"],[1,"text-lg","font-medium","text-center"],[1,"w-full",3,"ngModelChange","ngModel"],[1,"p-4"],["matRipple","",1,"w-full",3,"click"],["icon","","matRipple","","mat-dialog-close","",1,"absolute","top-1","left-1"],[1,"material-icons","text-2xl"],[1,"w-full","h-full","flex","flex-col","items-center","justify-center","p-8"],["diameter","32"],[1,"px-8","pt-8","w-[24rem]","flex","flex-col","relative"],[1,"text-xl","font-medium","mb-2"],["src","assets/icons/payment-confirmed.svg",1,"w-full"],[1,"p-4","border-t","border-base-200"],["btn","","matRipple","","mat-dialog-close","",1,"w-full"]]},template:function(O,S){if(1&O&&(n.DNE(0,f,2,2,"div",11),n.nI1(1,"async"),n.DNE(2,b,5,3,"ng-template",null,0,n.C5r)(4,d,21,18,"ng-template",null,1,n.C5r)),2&O){const P=n.sdS(3);n.Y8G("ngIf",!n.bMT(1,2,S.loading))("ngIfElse",P)}}})}return R})()},4525:(gt,re,o)=>{"use strict";o.d(re,{h:()=>P});var e=o(467),n=o(5157),l=o(9928),h=o(4421),g=o(9090),p=o(8841),f=o(8712),b=o(4233),d=o(6202),y=o(8026),R=o(5272),m=o(3953),v=o(4006);const S="Payment";let P=(()=>{class M{get payment_module(){return this._org.binding("payments")}constructor(x,I,_){this._org=x,this._settings=I,this._dialog=_,this._loading=new l.t(""),this._active_card=new l.t(""),this.loading=this._loading.asObservable(),this.payment_sources=(0,h.of)(1).pipe((0,g.n)(()=>{const C=(0,n.f_4)(this.payment_module,S);return C?C.execute("list_payment_methods",["card"]):(0,h.of)([])}),(0,p.M)(C=>C[0]?this._active_card.next(C[0].id):""),(0,f.t)(1))}makePayment(x){var I=this;return(0,e.A)(function*(){if(!I.payment_module)throw"Payments not enabled";const[_,C]=yield I._getCostOfProduct(x?.type).catch(G=>[0,60]);if(console.log("Cost:",_,C),_<=0)return;let D=I._settings.get("STRIPE_Customer_ID");D||(D=yield I._newCustomerID()),I._settings.saveUserSetting("STRIPE_Customer_ID",D);const A=_*(x.duration/C);let B;const F=function(){var G=(0,e.A)(function*(J){B=yield I._processPayment(A,D,J).catch(te=>{throw I._loading.next(""),te})});return function(te){return G.apply(this,arguments)}}(),$={...x,rate:`$${(_/100).toFixed(2)} per hour`,amount:A,makePayment:F,loading:I.loading};return yield I._dialog.open(R.$,{data:$}).afterClosed().toPromise(),B})()}_addPaymentMethod(x){var I=this;return(0,e.A)(function*(){const _=(0,n.f_4)(I.payment_module,S);if(!_)throw"Unable to load module";const C=yield _.execute("add_payment_method",["card",null,null,null,null,null,null,null,null,null,null,null,x]);return C.id||C})()}_getCostOfProduct(x){var I=this;return(0,e.A)(function*(){let _=[0,60];const C=(0,n.f_4)(I.payment_module,S);if(!C)return _;const D=yield C.execute("get_product_prices",[null,null,x]);return D.length?D:_})()}_processPayment(x,I,_){var C=this;return(0,e.A)(function*(){C._loading.next("Checking payment method..."),console.log("Getting payment method...");const D=_?yield C._addPaymentMethod(_):C._active_card.getValue();if(!D)throw"No payment source selected";C._loading.next("Processing payment..."),console.log("Processing payment...");const A=(0,n.f_4)(C.payment_module,S);if(!A)throw"Unable to load module";const B=yield A.execute("create_payment_intent",[x,C._org.building.currency||"USD",null,null,I,null,null,null,(0,d.N)()?.email]);if(!B)throw"Failed to create payment";return console.log("Confirming payment..."),yield A.execute("confirm_payment_intent",[B,D]),C._loading.next(""),{success:!0,state:"approved",invoice_id:B,amount:x,created_at:Date.now(),updated_at:Date.now()}})()}_newCustomerID(){var x=this;return(0,e.A)(function*(){const I=(0,n.f_4)(x.payment_module,S);if(!I)throw"Unable to load module";const _=(0,d.N)();return yield I.execute("create_customer",[0,null,null,null,`${_.id}|${_.name}|FromPlaceOS`,_.email])})()}static#e=this.\u0275fac=function(I){return new(I||M)(m.KVO(y.y),m.KVO(b.h),m.KVO(v.bZ))};static#t=this.\u0275prov=m.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}return M})()},2168:(gt,re,o)=>{"use strict";o.d(re,{lx:()=>e.l,bh:()=>l.b,Ot:()=>n.Ot});var e=o(827),n=o(8363),l=o(7401);o(5752),o(2011)},5752:(gt,re,o)=>{"use strict";o.d(re,{d:()=>b});var e=o(4006),n=o(9707),l=o(6101),h=o(3953);function g(d,y){if(1&d){const R=h.RV6();h.j41(0,"space-list",29),h.bIt("toggleFav",function(v){h.eBV(R);const O=h.XpG();return h.Njj(O.toggleFavourite(v))})("onSelect",function(v){h.eBV(R);const O=h.XpG();return h.Njj(O.displayed=v)}),h.k0s()}if(2&d){const R=h.XpG();h.Y8G("active",null==R.displayed?null:R.displayed.id)("selected",R.selected_ids)("favorites",R.favorites)}}function p(d,y){if(1&d){const R=h.RV6();h.j41(0,"button",30),h.bIt("click",function(){h.eBV(R);const v=h.XpG();return h.Njj(v.displayed=null)}),h.pXf(1,5),h.k0s()}}function f(d,y){if(1&d){const R=h.RV6();h.j41(0,"space-map",31),h.bIt("onSelect",function(v){h.eBV(R);const O=h.XpG();return h.Njj(O.displayed=v)}),h.k0s()}if(2&d){const R=h.XpG();h.Y8G("selected",R.selected_ids)("is_displayed",!!R.displayed)("active",null==R.displayed?null:R.displayed.id)}}let b=(()=>{class d{get selected_ids(){return this.selected.map(R=>R.id).join(",")}get favorites(){return this._settings.get("favourite_spaces")||[]}constructor(R,m,v,O){this._dialog_ref=R,this._settings=m,this._event_form=v,this._data=O,this.selected=[],this.view="list",this.multiday=!!this._data.multiday,this.selected=[...O.spaces||[]],this._event_form.setOptions(O.options)}isSelected(R){return R&&this.selected_ids.includes(R)}setSelected(R,m){const v=this.selected.filter(O=>O.id!==R.id);m&&v.push(R),this.selected=v,!this._settings.get("app.events.allow_multiple_spaces")&&m&&(this.selected=[R],this._dialog_ref.close([R]))}toggleFavourite(R){const m=this.favorites;m.includes(R.id)?this._settings.saveUserSetting("favourite_spaces",m.filter(O=>O!==R.id)):this._settings.saveUserSetting("favourite_spaces",[...m,R.id])}static#e=this.\u0275fac=function(m){return new(m||d)(h.rXU(e.CP),h.rXU(n.h$),h.rXU(l.W),h.rXU(e.Vh))};static#t=this.\u0275cmp=h.VBU({type:d,selectors:[["new-space-select-modal"]],decls:39,vars:29,consts:()=>{let R,m,v,O,S;return R=$localize`:␟2a8f5812e693119f28847362c97c1924c4b5e2ad␟3245405487284732016:Find Space`,m=$localize`:␟30d3439b0e0095fe69503245f3bd7a2e9498be7c␟8443571736703532556: View List `,v=$localize`:␟18843b85d1a4f17fefafd07bc5cde636dca44295␟819716823718458903:Back to form`,O=$localize`:␟7651117c4dcb18eb274657230a366a428c9a113b␟8164592885301950366: ${"\ufffd0\ufffd"}:INTERPOLATION: room(s) added `,S=$localize`:␟ccda1d41ca79703a85a3a598c1d97e040a32b766␟874721418273731876: Back `,[["map_view",""],R,m,v,O,S,[1,"w-[100vw]","h-[100vh]","sm:relative","sm:w-auto","sm:h-auto","flex","flex-col","bg-base-100"],[1,"flex","items-center","space-x-4","w-full"],["icon","","matRipple","","mat-dialog-close","",1,"bg-base-200"],[1,"hidden","sm:flex","items-center","justify-end","flex-1"],["btn","","matRipple","","map","",1,"rounded-l","rounded-r-none",3,"click"],["btn","","matRipple","","list","",1,"rounded-r","rounded-l-none",3,"click"],[1,"flex-1","flex","items-center","divide-x","divide-base-200","min-h-[65vh]","h-[65vh]","sm:max-h-[65vh]","sm:max-w-[95vw]","w-full","overflow-hidden"],[1,"h-full","hidden","sm:flex","max-w-[20rem]","sm:h-[65vh]","sm:max-h-full",3,"multiday","hide_levels","viewing_map"],[1,"flex","flex-col","items-center","flex-1","w-1/2","h-full","sm:h-[65vh]"],[1,"w-full","border-b","border-base-200",3,"viewChange","view"],["class","flex-1 h-1/2 bg-base-200",3,"active","selected","favorites","toggleFav","onSelect",4,"ngIf","ngIfElse"],[1,"h-full","w-full","sm:h-[65vh]","absolute","sm:relative","flex","sm:flex-col","sm:max-w-[20rem]","z-20","bg-base-100",3,"activeChange","toggleFav","close","space","hide_map","active","fav"],[1,"flex","sm:hidden","flex-col-reverse","items-center","justify-end","px-2","pt-2","pb-[5.5rem]","border-t","border-base-200","w-full"],["btn","","matRipple","","name","spaces-return","class","inverse sm:hidden w-full",3,"click",4,"ngIf"],["btn","","matRipple","","name","save-spaces",1,"w-full","sm:w-32","sm:mb-0",3,"mat-dialog-close"],[1,"hidden","sm:flex","items-center","justify-between","p-2","border-t","border-base-200","w-full"],["btn","","matRipple","","name","spaces-return",1,"clear","text-secondary",3,"mat-dialog-close"],[1,"flex","items-center"],[1,"text-xl"],[1,"mr-1","underline"],[1,"opacity-60","text-sm"],["btn","","matRipple","","name","toggle-space",3,"click","disabled"],[1,"mr-1"],[1,"flex-1","h-1/2","bg-base-200",3,"toggleFav","onSelect","active","selected","favorites"],["btn","","matRipple","","name","spaces-return",1,"inverse","sm:hidden","w-full",3,"click"],[1,"flex-1","h-1/2","w-full",3,"onSelect","selected","is_displayed","active"]]},template:function(m,v){if(1&m){const O=h.RV6();h.j41(0,"div",6)(1,"header",7)(2,"button",8)(3,"app-icon"),h.EFF(4,"close"),h.k0s()(),h.j41(5,"h3"),h.pXf(6,1),h.k0s(),h.j41(7,"div",9)(8,"button",10),h.bIt("click",function(){return h.eBV(O),h.Njj(v.view="map")}),h.EFF(9," Map "),h.k0s(),h.j41(10,"button",11),h.bIt("click",function(){return h.eBV(O),h.Njj(v.view="list")}),h.EFF(11," List "),h.k0s()()(),h.j41(12,"main",12),h.nrm(13,"space-filters",13),h.j41(14,"div",14)(15,"space-filters-display",15),h.mxI("viewChange",function(P){return h.eBV(O),h.DH7(v.view,P)||(v.view=P),h.Njj(P)}),h.k0s(),h.DNE(16,g,1,3,"space-list",16),h.k0s(),h.j41(17,"space-details",17),h.bIt("activeChange",function(P){return h.eBV(O),h.Njj(v.setSelected(v.displayed,P))})("toggleFav",function(){return h.eBV(O),h.Njj(v.toggleFavourite(v.displayed))})("close",function(){return h.eBV(O),h.Njj(v.displayed=null)}),h.k0s()(),h.j41(18,"footer",18),h.DNE(19,p,2,0,"button",19),h.j41(20,"button",20),h.pXf(21,2),h.k0s()(),h.j41(22,"footer",21)(23,"button",22)(24,"div",23)(25,"app-icon",24),h.EFF(26,"arrow_back"),h.k0s(),h.j41(27,"div",25),h.pXf(28,3),h.k0s()()(),h.j41(29,"p",26),h.pXf(30,4),h.k0s(),h.j41(31,"button",27),h.bIt("click",function(){return h.eBV(O),h.Njj(v.setSelected(v.displayed,!v.isSelected(null==v.displayed?null:v.displayed.id)))}),h.j41(32,"div",23)(33,"app-icon",24),h.EFF(34),h.k0s(),h.j41(35,"div",28),h.EFF(36),h.k0s()()()()(),h.DNE(37,f,1,3,"ng-template",null,0,h.C5r)}if(2&m){const O=h.sdS(38);h.R7$(8),h.AVh("inverse","map"!==v.view),h.R7$(2),h.AVh("inverse","list"!==v.view),h.R7$(3),h.Y8G("multiday",v.multiday)("hide_levels","list"!==v.view)("viewing_map","map"===v.view),h.R7$(2),h.R50("view",v.view),h.R7$(),h.Y8G("ngIf","list"===v.view)("ngIfElse",O),h.R7$(),h.AVh("hidden",!v.displayed)("inset-0",v.displayed),h.Y8G("space",v.displayed)("hide_map","map"===v.view)("active",v.selected_ids.includes(null==v.displayed?null:v.displayed.id))("fav",v.displayed&&v.favorites.includes(null==v.displayed?null:v.displayed.id)),h.R7$(2),h.Y8G("ngIf",v.displayed),h.R7$(),h.AVh("mb-2",v.displayed),h.Y8G("mat-dialog-close",v.selected),h.R7$(3),h.Y8G("mat-dialog-close",v.selected),h.R7$(7),h.uP7(v.selected.length),h.nnv(30),h.R7$(),h.AVh("inverse",v.isSelected(null==v.displayed?null:v.displayed.id)),h.Y8G("disabled",!v.displayed),h.R7$(3),h.JRh(v.isSelected(null==v.displayed?null:v.displayed.id)?"remove":"add"),h.R7$(2),h.SpI(" ",v.isSelected(null==v.displayed?null:v.displayed.id)?"Remove from Booking":"Add to booking"," ")}}})}return d})()},735:(gt,re,o)=>{"use strict";o.d(re,{$:()=>n});var e=o(602);class n{constructor(h={}){this.id=h.id||"",this.name=h.name||"",this.display_name=h.display_name||"",this.email=(h.email||"").toLowerCase(),this.capacity=h.capacity||-1,this.feature_list=h.feature_list||h.features||[],this.bookable=!!h.bookable,this.zones=h.zones||[],this.support_url=h.support_url||"",this.map_id=h.map_id||"",this.images=h.images||[],this.configurations=h.configurations||[],this.features=h.features||[],this.response_status=h.response_status,this.level=h.level||new e.P,this.availability=h.availability||[]}inUseAt(h,g){const p=h+60*g*1e3;return this.availability.filter(f=>f.date==h&&f.date+60*f.duration*1e3==p&&"free"!==f.status).length>0}}},2011:(gt,re,o)=>{"use strict";o.d(re,{J:()=>R,U:()=>y});var e=o(467),n=o(5157),l=o(8026),h=o(735),g=o(4046),p=o(3953);const f=[],b={},d=new h.$({email:"empty.space@place.os"});function y(m){for(const v of m)f.find(({id:O})=>O===v.id)||f.push(v)}setInterval(()=>{for(const m in b)b[m]=b[m]-1,b[m]<=0&&delete b[m]},1e4);let R=(()=>{class m{constructor(O){this._org=O}transform(O){var S=this;return(0,e.A)(function*(){S._org&&(yield S._org.initialised.pipe((0,g.$)(x=>x)).toPromise());const P=O?.includes("@");if(!O)return d;let M=f.find(({id:x,email:I})=>x===O||I===O);if(M)return M;if(b[O])return d;if(!P){const x=yield(0,n.V4n)(O).toPromise().catch(I=>null);if(x)return M=new h.$({...x,level:S._org?.levelWithID([...x.zones])}),f.push(M),M}const w=(yield(0,n.Kfl)({in:O,zone_id:S._org?.organisation.id}).toPromise()).data;return 1===w.length?(M=new h.$({...w[0],level:S._org?.levelWithID([...w[0].zones])}),f.push(M),M):d})()}updateSpaceList(O){y(O)}static#e=this.\u0275fac=function(S){return new(S||m)(p.rXU(l.y,24))};static#t=this.\u0275pipe=p.EJ8({name:"space",type:m,pure:!0})}return m})()},8363:(gt,re,o)=>{"use strict";o.d(re,{Ot:()=>O}),o(9707);var n=o(5157),l=o(4421),h=o(5006),g=o(8841),p=o(8712),b=(o(4129),o(735)),d=o(2011);const y={};function O(M){return M?(y[M]||(y[M]=(0,n.BbB)({zone_id:M,limit:500}).pipe((0,h.T)(w=>(w.data||[]).map(x=>new b.$(x))),(0,g.M)(w=>(0,d.U)(w)),(0,p.t)(1))),y[M]):(0,l.of)([])}},827:(gt,re,o)=>{"use strict";o.d(re,{l:()=>jt});var e=o(177),n=o(9417),l=o(4006),h=o(6665),g=o(2765),p=o(846),f=o(8705),b=o(5752),d=o(3953),y=o(1865),R=o(8026);const m=()=>({disable_pan:!0,disable_zoom:!0});function v(Dt,nn){if(1&Dt&&d.nrm(0,"image-carousel",23),2&Dt){const Tt=d.XpG(2);d.Y8G("images",Tt.space.images)}}function O(Dt,nn){if(1&Dt&&(d.j41(0,"div",16)(1,"p"),d.pXf(2,4),d.k0s()()),2&Dt){const Tt=nn.$implicit;d.R7$(2),d.uP7(Tt),d.nnv(2)}}function S(Dt,nn){if(1&Dt&&(d.j41(0,"section",24)(1,"h2",15),d.pXf(2,3),d.k0s(),d.DNE(3,O,3,1,"div",25),d.k0s()),2&Dt){const Tt=d.XpG(2);d.R7$(3),d.Y8G("ngForOf",Tt.space.features)}}function P(Dt,nn){if(1&Dt&&(d.j41(0,"section",26),d.nrm(1,"interactive-map",27),d.k0s()),2&Dt){const Tt=d.XpG(2);d.R7$(),d.Y8G("src",Tt.map_url)("focus",Tt.space.map_id)("features",Tt.features)("options",d.lJ4(4,m))}}function M(Dt,nn){if(1&Dt){const Tt=d.RV6();d.qex(0),d.j41(1,"section",7),d.DNE(2,v,1,1,"image-carousel",8),d.j41(3,"button",9),d.bIt("click",function(){d.eBV(Tt);const Gt=d.XpG();return d.Njj(Gt.close.emit())}),d.j41(4,"app-icon"),d.EFF(5,"arrow_back"),d.k0s()(),d.j41(6,"button",10),d.bIt("click",function(){d.eBV(Tt);const Gt=d.XpG();return d.Njj(Gt.toggleFav.emit())}),d.j41(7,"app-icon"),d.EFF(8),d.k0s()()(),d.j41(9,"div",11)(10,"section",12)(11,"h2",13),d.EFF(12),d.k0s()(),d.nrm(13,"hr"),d.j41(14,"section",14)(15,"h2",15),d.pXf(16,1),d.k0s(),d.j41(17,"div",16)(18,"app-icon"),d.EFF(19,"people"),d.k0s(),d.j41(20,"p"),d.pXf(21,2),d.k0s()(),d.j41(22,"div",16)(23,"app-icon"),d.EFF(24,"meeting_room"),d.k0s(),d.j41(25,"p"),d.EFF(26),d.k0s()(),d.j41(27,"div",16)(28,"app-icon"),d.EFF(29,"place"),d.k0s(),d.j41(30,"p"),d.EFF(31),d.k0s()()(),d.nrm(32,"hr"),d.DNE(33,S,4,1,"section",17)(34,P,2,5,"section",18),d.k0s(),d.j41(35,"div",19)(36,"button",20),d.bIt("click",function(){d.eBV(Tt);const Gt=d.XpG();return Gt.active=!Gt.active,d.Njj(Gt.activeChange.emit(Gt.active))}),d.j41(37,"div",21)(38,"app-icon",22),d.EFF(39),d.k0s(),d.j41(40,"p"),d.EFF(41),d.k0s()()()(),d.bVm()}if(2&Dt){const Tt=d.XpG();d.R7$(),d.AVh("sm:h-64",null==Tt.space.images?null:Tt.space.images.length)("h-40",null==Tt.space.images?null:Tt.space.images.length)("sm:h-0",!(null!=Tt.space.images&&Tt.space.images.length))("h-12",!(null!=Tt.space.images&&Tt.space.images.length))("!bg-transparent",!(null!=Tt.space.images&&Tt.space.images.length)),d.R7$(),d.Y8G("ngIf",null==Tt.space.images?null:Tt.space.images.length),d.R7$(4),d.AVh("text-white",!Tt.fav)("text-blue-400",Tt.fav),d.R7$(2),d.JRh(Tt.fav?"favorite":"favorite_border"),d.R7$(4),d.SpI(" ",Tt.space.display_name||Tt.space.name," "),d.R7$(9),d.uP7(Tt.space.capacity),d.nnv(21),d.R7$(5),d.SpI(" ",(null==Tt.level?null:Tt.level.display_name)||(null==Tt.level?null:Tt.level.name)," "),d.R7$(5),d.SpI(" ",(null==Tt.building?null:Tt.building.address)||(null==Tt.building?null:Tt.building.display_name)||(null==Tt.building?null:Tt.building.name)," "),d.R7$(2),d.Y8G("ngIf",null==Tt.space.features?null:Tt.space.features.length),d.R7$(),d.Y8G("ngIf",!Tt.hide_map),d.R7$(2),d.AVh("inverse",Tt.active),d.R7$(3),d.JRh(Tt.active?"remove":"add"),d.R7$(2),d.SpI(" ",Tt.active?"Remove this room":"Add this room"," ")}}function w(Dt,nn){1&Dt&&(d.j41(0,"div",28)(1,"p",29),d.pXf(2,5),d.k0s()())}let x=(()=>{class Dt{get level(){return this._org.levelWithID(this.space?.zones)||this.space?.level}get building(){return this._org.buildings.find(Tt=>this.space?.zones.includes(Tt.id))}constructor(Tt){this._org=Tt,this.fav=!1,this.active=!1,this.hide_map=!1,this.activeChange=new d.bkB,this.close=new d.bkB,this.toggleFav=new d.bkB,this.map_url="",this.features=[]}ngOnChanges(Tt){Tt.space&&this.space&&this._updateFeature()}_updateFeature(){this.map_url=this.level?.map_id,this.features=[{location:this.space?.map_id,content:y.V}]}static#e=this.\u0275fac=function(It){return new(It||Dt)(d.rXU(R.y))};static#t=this.\u0275cmp=d.VBU({type:Dt,selectors:[["space-details"]],inputs:{space:"space",fav:"fav",active:"active",hide_map:"hide_map"},outputs:{activeChange:"activeChange",close:"close",toggleFav:"toggleFav"},features:[d.OA$],decls:3,vars:2,consts:()=>{let Tt,It,Gt,At,tn;return Tt=$localize`:␟4f8b2bb476981727ab34ed40fde1218361f92c45␟5028777105388019087:Details`,It=$localize`:␟2fe5caca246424da5e7fcee12a1fe341335e1286␟2731085793954892186:${"\ufffd0\ufffd"}:INTERPOLATION: People`,Gt=$localize`:␟45b5b90d7df8adeb648858761739fa700117c0d5␟3223773701700202859:Room Facilities`,At=$localize`:␟9a6f64944a2acf1f8315f9ffac43e3fe58bac31f␟1353747351482281557:${"\ufffd0\ufffd"}:INTERPOLATION:`,tn=$localize`:␟02434c6ff0f41cc7f311ace51ce0787ae315e5fb␟5676660199414904214: Select a room to view it's details `,[["empty_state",""],Tt,It,Gt,At,tn,[4,"ngIf","ngIfElse"],["image","",1,"relative","w-full","bg-neutral"],["class","absolute inset-0",3,"images",4,"ngIf"],["icon","","matRipple","","name","close-space-details",1,"absolute","top-2","left-2","bg-neutral","sm:hidden","text-white",3,"click"],["icon","","matRipple","","name","toggle-space-favourite-details",1,"absolute","top-2","right-2","bg-neutral",3,"click"],[1,"p-2","space-y-2","flex-1","h-1/2","overflow-auto"],["actions","",1,"z-0"],[1,"text-xl","font-medium","mb-2","mt-4"],["details","",1,"space-y-2"],[1,"text-xl","font-medium"],[1,"flex","items-center","space-x-2"],["facilities","","class","space-y-2",4,"ngIf"],["map","","class","w-full mx-auto h-64 sm:h-48 relative border border-base-200 overflow-hidden rounded",4,"ngIf"],[1,"px-2","pt-2","pb-[5.5rem]","border-t","border-base-200","shadow","sm:hidden"],["btn","","matRipple","","name","toggle-space-details",1,"w-full",3,"click"],[1,"flex","items-center","justify-center"],[1,"text-2xl"],[1,"absolute","inset-0",3,"images"],["facilities","",1,"space-y-2"],["class","flex items-center space-x-2",4,"ngFor","ngForOf"],["map","",1,"w-full","mx-auto","h-64","sm:h-48","relative","border","border-base-200","overflow-hidden","rounded"],[1,"pointer-events-none",3,"src","focus","features","options"],["empty","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[1,"opacity-30","text-center"]]},template:function(It,Gt){if(1&It&&d.DNE(0,M,42,26,"ng-container",6)(1,w,3,0,"ng-template",null,0,d.C5r),2&It){const At=d.sdS(2);d.Y8G("ngIf",Gt.space)("ngIfElse",At)}},styles:["[_nghost-%COMP%]{position:relative;display:flex;flex-direction:column;width:30%;min-width:20rem;height:100%;min-height:65vh}"]})}return Dt})();var I=o(6101);function _(Dt,nn){1&Dt&&(d.j41(0,"div",24)(1,"app-icon"),d.EFF(2,"done"),d.k0s()())}function C(Dt,nn){if(1&Dt&&d.nrm(0,"img",25),2&Dt){const Tt=d.XpG().$implicit;d.Y8G("source",Tt.images[0])}}function D(Dt,nn){1&Dt&&d.nrm(0,"img",26)}function A(Dt,nn){if(1&Dt){const Tt=d.RV6();d.j41(0,"li",13)(1,"button",14),d.bIt("click",function(){const Gt=d.eBV(Tt).$implicit,At=d.XpG(3);return d.Njj(At.selectSpace(Gt))}),d.j41(2,"div",15),d.DNE(3,_,3,0,"div",16)(4,C,1,1,"img",17)(5,D,1,0,"ng-template",null,2,d.C5r),d.k0s(),d.j41(7,"div",18)(8,"div",19),d.EFF(9),d.k0s(),d.j41(10,"div",20)(11,"app-icon",21),d.EFF(12,"place"),d.k0s(),d.j41(13,"p",22),d.EFF(14),d.k0s()(),d.j41(15,"div",20)(16,"app-icon",21),d.EFF(17,"people"),d.k0s(),d.j41(18,"p"),d.pXf(19,4),d.k0s()()()(),d.j41(20,"button",23),d.bIt("click",function(){const Gt=d.eBV(Tt).$implicit,At=d.XpG(3);return d.Njj(At.toggleFav.emit(Gt))}),d.j41(21,"app-icon"),d.EFF(22),d.k0s()()()}if(2&Dt){let Tt;const It=nn.$implicit,Gt=d.sdS(6),At=d.XpG(3);d.AVh("!border-info",At.active===It.id),d.R7$(3),d.Y8G("ngIf",At.selected.includes(It.id)),d.R7$(),d.Y8G("ngIf",null==It.images?null:It.images.length)("ngIfElse",Gt),d.R7$(5),d.SpI(" ",It.display_name||It.name||"Meeting Space"," "),d.R7$(5),d.SpI(" ",It.location||(null==(Tt=At.level(It.zones))?null:Tt.display_name)||(null==(Tt=At.level(It.zones))?null:Tt.name)," "),d.R7$(5),d.uP7(It.capacity<1?2:It.capacity),d.nnv(19),d.R7$(),d.AVh("text-info",At.isFavourite(It.id)),d.R7$(2),d.JRh(At.isFavourite(It.id)?"favorite":"favorite_border")}}function B(Dt,nn){if(1&Dt&&(d.j41(0,"ul",11),d.DNE(1,A,23,11,"li",12),d.nI1(2,"async"),d.k0s()),2&Dt){const Tt=d.XpG(2);d.R7$(),d.Y8G("ngForOf",d.bMT(2,1,Tt.available_spaces))}}function F(Dt,nn){if(1&Dt&&(d.qex(0),d.DNE(1,B,3,3,"ul",10),d.nI1(2,"async"),d.bVm()),2&Dt){let Tt;const It=d.XpG(),Gt=d.sdS(8);d.R7$(),d.Y8G("ngIf",null==(Tt=d.bMT(2,2,It.available_spaces))?null:Tt.length)("ngIfElse",Gt)}}function $(Dt,nn){1&Dt&&(d.j41(0,"div",27)(1,"p",28),d.pXf(2,5),d.k0s()())}function U(Dt,nn){1&Dt&&(d.j41(0,"div",29),d.nrm(1,"mat-spinner",30),d.j41(2,"p",31),d.pXf(3,6),d.k0s()()),2&Dt&&(d.R7$(),d.Y8G("diameter",32))}let G=(()=>{class Dt{constructor(Tt,It){this._event_form=Tt,this._org=It,this.active="",this.selected="",this.favorites=[],this.onSelect=new d.bkB,this.toggleFav=new d.bkB,this.loading=this._event_form.loading,this.available_spaces=this._event_form.available_spaces}level(Tt){return this._org.levelWithID(Tt)}ngOnInit(){this._event_form.setView("find")}isFavourite(Tt){return this.favorites.includes(Tt)}selectSpace(Tt){this.onSelect.emit(Tt)}static#e=this.\u0275fac=function(It){return new(It||Dt)(d.rXU(I.W),d.rXU(R.y))};static#t=this.\u0275cmp=d.VBU({type:Dt,selectors:[["space-list"]],inputs:{active:"active",selected:"selected",favorites:"favorites"},outputs:{onSelect:"onSelect",toggleFav:"toggleFav"},decls:11,vars:7,consts:()=>{let Tt,It,Gt,At;return Tt=$localize`:␟f3733dfad4477862079351d9f8cf60c7964cc3e3␟2290177789691483092: ${"\ufffd0\ufffd"}:INTERPOLATION: result(s) found `,It=$localize`:␟08719ea79f574b595da7d187fda2fa8c491b5de7␟4552898751936658514: ${"\ufffd0\ufffd"}:INTERPOLATION: People `,Gt=$localize`:␟027c29534f5dc45741b226edfebb3f7f578384b0␟3831747985282777621: No available spaces for selected time and/or filters `,At=$localize`:␟8dad32dda6491a1051df9156e98031c0e634b413␟126579492602011343:Finding available spaces...`,[["empty_state",""],["load_state",""],["space_placeholder",""],Tt,It,Gt,At,[1,"font-bold"],["count","",1,"text-sm","opacity-60","mb-4"],[4,"ngIf","ngIfElse"],["class","list-style-none space-y-2",4,"ngIf","ngIfElse"],[1,"list-style-none","space-y-2"],["space","","class","relative p-2 rounded-lg w-full shadow border bg-base-100 border-base-200",3,"!border-info",4,"ngFor","ngForOf"],["space","",1,"relative","p-2","rounded-lg","w-full","shadow","border","bg-base-100","border-base-200"],["matRipple","","name","select-space",1,"w-full","h-full","flex","items-center",3,"click"],[1,"relative","min-w-[5rem]","w-20","h-20","rounded-xl","bg-base-200","mr-4","overflow-hidden","flex","items-center","justify-center"],["class","absolute top-1 left-1 border border-neutral bg-base-200 rounded-full h-6 w-6 flex items-center justify-center text-white",4,"ngIf"],["auth","","class","object-cover h-full",3,"source",4,"ngIf","ngIfElse"],[1,"space-y-2"],[1,"font-medium","truncate","mr-10"],[1,"flex","items-center","text-sm","space-x-2"],[1,"text-info"],[1,"truncate"],["icon","","matRipple","","name","toggle-space-favourite",1,"absolute","top-1","right-1",3,"click"],[1,"absolute","top-1","left-1","border","border-neutral","bg-base-200","rounded-full","h-6","w-6","flex","items-center","justify-center","text-white"],["auth","",1,"object-cover","h-full",3,"source"],["src","assets/icons/room-placeholder.svg",1,"m-auto"],["empty","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[1,"opacity-30","text-center"],["loading","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[3,"diameter"],[1,"opacity-30"]]},template:function(It,Gt){if(1&It&&(d.j41(0,"h3",7),d.EFF(1,"Results"),d.k0s(),d.j41(2,"p",8),d.pXf(3,3),d.nI1(4,"async"),d.k0s(),d.DNE(5,F,3,4,"ng-container",9),d.nI1(6,"async"),d.DNE(7,$,3,0,"ng-template",null,0,d.C5r)(9,U,4,1,"ng-template",null,1,d.C5r)),2&It){let At;const tn=d.sdS(10);d.R7$(4),d.uP7((null==(At=d.bMT(4,3,Gt.available_spaces))?null:At.length)||0),d.nnv(3),d.R7$(),d.Y8G("ngIf",!d.bMT(6,5,Gt.loading))("ngIfElse",tn)}},styles:["[_nghost-%COMP%]{width:100%;height:100%;padding:.5rem;overflow:auto}"]})}return Dt})();var J=o(467),te=o(9707),ne=o(3601),K=o(4512),k=o(906),j=o(9714),W=o(5006),ie=o(9493),ce=o(7401);const oe=()=>({standalone:!0});function me(Dt,nn){if(1&Dt){const Tt=d.RV6();d.j41(0,"button",32),d.bIt("click",function(){d.eBV(Tt);const Gt=d.XpG();return d.Njj(Gt.close())}),d.j41(1,"app-icon"),d.EFF(2,"keyboard_arrow_left"),d.k0s()()}}function he(Dt,nn){if(1&Dt&&(d.j41(0,"mat-option",36),d.EFF(1),d.k0s()),2&Dt){const Tt=nn.$implicit;d.Y8G("value",Tt),d.R7$(),d.SpI(" ",Tt.display_name||Tt.name," ")}}function Oe(Dt,nn){if(1&Dt){const Tt=d.RV6();d.j41(0,"mat-form-field",33)(1,"mat-select",34),d.bIt("ngModelChange",function(Gt){d.eBV(Tt);const At=d.XpG();return d.Njj(At.setRegion(Gt))}),d.DNE(2,he,2,2,"mat-option",35),d.nI1(3,"async"),d.k0s()()}if(2&Dt){const Tt=d.XpG();d.R7$(),d.Y8G("ngModel",Tt.region)("ngModelOptions",d.lJ4(5,oe)),d.R7$(),d.Y8G("ngForOf",d.bMT(3,3,Tt.regions))}}function we(Dt,nn){if(1&Dt&&(d.j41(0,"mat-option",36),d.EFF(1),d.k0s()),2&Dt){const Tt=nn.$implicit;d.Y8G("value",Tt),d.R7$(),d.SpI(" ",Tt.display_name||Tt.name," ")}}function We(Dt,nn){if(1&Dt){const Tt=d.RV6();d.j41(0,"mat-form-field",33)(1,"mat-select",37),d.nI1(2,"async"),d.nI1(3,"async"),d.nI1(4,"async"),d.bIt("ngModelChange",function(Gt){d.eBV(Tt);const At=d.XpG();return d.Njj(At.setBuilding(Gt))}),d.DNE(5,we,2,2,"mat-option",35),d.nI1(6,"async"),d.k0s()()}if(2&Dt){let Tt;const It=d.XpG();d.R7$(),d.Y8G("ngModel",d.bMT(2,4,It.building))("ngModelOptions",d.lJ4(12,oe))("placeholder",(null==(Tt=d.bMT(3,6,It.building))?null:Tt.display_name)||(null==(Tt=d.bMT(4,8,It.building))?null:Tt.name)),d.R7$(4),d.Y8G("ngForOf",d.bMT(6,10,It.buildings))}}function Xe(Dt,nn){if(1&Dt&&(d.j41(0,"div",41),d.EFF(1),d.nI1(2,"building"),d.j41(3,"span",42),d.EFF(4," - "),d.k0s()()),2&Dt){let Tt;const It=d.XpG().$implicit;d.R7$(),d.SpI(" ",null==(Tt=d.bMT(2,1,It.parent_id))?null:Tt.display_name," ")}}function Me(Dt,nn){if(1&Dt&&(d.j41(0,"mat-option",36)(1,"div",39),d.DNE(2,Xe,5,3,"div",40),d.j41(3,"div"),d.EFF(4),d.k0s()()()),2&Dt){const Tt=nn.$implicit,It=d.XpG(2);d.Y8G("value",Tt.id),d.R7$(2),d.Y8G("ngIf",It.use_region),d.R7$(2),d.SpI(" ",Tt.display_name||Tt.name," ")}}function ge(Dt,nn){if(1&Dt){const Tt=d.RV6();d.j41(0,"mat-form-field",33)(1,"mat-select",38),d.nI1(2,"async"),d.bIt("ngModelChange",function(Gt){d.eBV(Tt);const At=d.XpG();return d.Njj(At.setOptions({zone_ids:Gt}))}),d.DNE(3,Me,5,3,"mat-option",35),d.nI1(4,"async"),d.k0s()()}if(2&Dt){let Tt;const It=d.XpG();d.R7$(),d.Y8G("ngModel",null==(Tt=d.bMT(2,4,It.options))?null:Tt.zone_ids)("ngModelOptions",d.lJ4(8,oe))("multiple",!0),d.R7$(2),d.Y8G("ngForOf",d.bMT(4,6,It.levels))}}function pe(Dt,nn){if(1&Dt){const Tt=d.RV6();d.j41(0,"div",43)(1,"label",24),d.EFF(2),d.nI1(3,"translate"),d.j41(4,"span"),d.EFF(5,"*"),d.k0s()(),d.j41(6,"a-date-field",44),d.bIt("ngModelChange",function(Gt){d.eBV(Tt);const At=d.XpG();return d.Njj(At.form.patchValue({date_end:Gt}))}),d.EFF(7),d.nI1(8,"translate"),d.k0s()()}if(2&Dt){const Tt=d.XpG();d.R7$(2),d.SpI(" ",d.bMT(3,7,"FORM.END_DATE"),""),d.R7$(4),d.Y8G("ngModel",Tt.form.getRawValue().date_end)("ngModelOptions",d.lJ4(11,oe))("from",Tt.start_date)("to",Tt.end_date)("short",!0),d.R7$(),d.SpI(" ",d.bMT(8,9,"FORM.DATE_ERROR")," ")}}function Ee(Dt,nn){1&Dt&&(d.j41(0,"div",45)(1,"mat-checkbox",46),d.pXf(2,5),d.k0s()())}function Ge(Dt,nn){if(1&Dt){const Tt=d.RV6();d.j41(0,"div",48)(1,"label",52),d.EFF(2),d.nI1(3,"translate"),d.j41(4,"span"),d.EFF(5,"*"),d.k0s()(),d.j41(6,"a-time-field",53),d.bIt("ngModelChange",function(Gt){d.eBV(Tt);const At=d.XpG(2);return d.Njj(At.form.patchValue({date_end:Gt}))}),d.k0s()()}if(2&Dt){let Tt;const It=d.XpG(2);d.R7$(2),d.SpI(" ",d.bMT(3,5,"FORM.END_TIME"),""),d.R7$(4),d.Y8G("ngModel",It.form.value.date_end)("ngModelOptions",d.lJ4(7,oe))("from",null==It.form||null==(Tt=It.form.getRawValue())?null:Tt.date)("use_24hr",It.use_24hr)}}function Qe(Dt,nn){if(1&Dt&&(d.j41(0,"div",48)(1,"label",52),d.EFF(2),d.nI1(3,"translate"),d.j41(4,"span"),d.EFF(5,"*"),d.k0s()(),d.nrm(6,"a-duration-field",54),d.k0s()),2&Dt){let Tt;const It=d.XpG(2);d.R7$(2),d.SpI(" ",d.bMT(3,4,"FORM.END_TIME"),""),d.R7$(4),d.Y8G("time",null==It.form||null==(Tt=It.form.getRawValue())?null:Tt.date)("max",It.max_duration)("use_24hr",It.use_24hr)}}function $e(Dt,nn){if(1&Dt){const Tt=d.RV6();d.j41(0,"div",47)(1,"div",48)(2,"label",49),d.PLo(3,6),d.nrm(4,"span"),d.YFu(),d.k0s(),d.j41(5,"a-time-field",50),d.bIt("ngModelChange",function(Gt){d.eBV(Tt);const At=d.XpG();return d.Njj(At.form.patchValue({date:Gt}))}),d.k0s()(),d.DNE(6,Ge,7,8,"div",51)(7,Qe,7,6,"div",51),d.k0s()}if(2&Dt){const Tt=d.XpG();d.R7$(5),d.Y8G("ngModel",Tt.form.getRawValue().date)("ngModelOptions",d.lJ4(5,oe))("use_24hr",Tt.use_24hr),d.R7$(),d.Y8G("ngIf",Tt.multiday),d.R7$(),d.Y8G("ngIf",!Tt.multiday)}}function tt(Dt,nn){if(1&Dt){const Tt=d.RV6();d.j41(0,"section",55)(1,"h2",56),d.pXf(2,7),d.nI1(3,"translate"),d.k0s(),d.j41(4,"div",57)(5,"div",58),d.pXf(6,8),d.nI1(7,"translate"),d.k0s(),d.j41(8,"mat-checkbox",59),d.nI1(9,"async"),d.bIt("ngModelChange",function(Gt){d.eBV(Tt);const At=d.XpG();return d.Njj(At.setOptions({show_fav:Gt}))}),d.k0s()()()}if(2&Dt){let Tt;const It=d.XpG();d.R7$(3),d.uP7(d.bMT(3,4,"COMMON.FAVOURITES")),d.nnv(2),d.R7$(4),d.uP7(d.bMT(7,6,"ROOMS.SHOW_FAVOURITES")),d.nnv(6),d.R7$(),d.Y8G("ngModel",null==(Tt=d.bMT(9,8,It.options))?null:Tt.show_fav)("ngModelOptions",d.lJ4(10,oe))}}function xt(Dt,nn){if(1&Dt){const Tt=d.RV6();d.j41(0,"div",57)(1,"div",63),d.EFF(2),d.k0s(),d.j41(3,"mat-checkbox",64),d.nI1(4,"async"),d.bIt("ngModelChange",function(Gt){d.eBV(Tt);const At=d.XpG().$implicit,tn=d.XpG(2);return d.Njj(tn.toggleFeature(At,Gt))}),d.k0s()()}if(2&Dt){let Tt;const It=d.XpG().$implicit,Gt=d.XpG(2);d.R7$(2),d.SpI(" ",Gt.feature_display[It]||It," "),d.R7$(),d.Y8G("ngModel",null==(Tt=d.bMT(4,3,Gt.options))||null==Tt.features?null:Tt.features.includes(It))("ngModelOptions",d.lJ4(5,oe))}}function Pt(Dt,nn){if(1&Dt&&(d.qex(0),d.DNE(1,xt,5,6,"div",62),d.bVm()),2&Dt){const Tt=nn.$implicit,It=d.XpG(2);d.R7$(),d.Y8G("ngIf",!It.hide_features.includes(Tt))}}function yt(Dt,nn){if(1&Dt&&(d.j41(0,"section",60)(1,"h2",56),d.pXf(2,9),d.k0s(),d.DNE(3,Pt,2,1,"ng-container",61),d.nI1(4,"async"),d.k0s()),2&Dt){const Tt=d.XpG();d.R7$(3),d.Y8G("ngForOf",d.bMT(4,1,Tt.features))}}function Le(Dt,nn){if(1&Dt){const Tt=d.RV6();d.j41(0,"div",65)(1,"button",66),d.bIt("click",function(){d.eBV(Tt);const Gt=d.XpG();return d.Njj(Gt.close())}),d.pXf(2,10),d.k0s()()}}let De=(()=>{class Dt{get allow_all_day(){return!!this._settings.get("app.events.allow_all_day")}get use_region(){return!!this._settings.get("app.use_region")}get bld(){return this._org.building}get region(){return this._org.region}get form(){return this._event_form.form}get max_duration(){return this._settings.get("app.events.max_duration")||480}get feature_display(){return this._settings.get("app.events.feature_decriptions")||{}}get hide_features(){return this._settings.get("app.events.hide_features")||[]}get use_24hr(){return this._settings.get("app.use_24_hour_time")}get start_date(){return(0,ne.o)(this.form.getRawValue().date).valueOf()}get end_date(){return(0,K.D)((0,k.f)(Date.now(),this._settings.get("app.events.allowed_future_days")||180))}constructor(Tt,It,Gt,At,tn,vn){this._bsheet_ref=Tt,this._settings=It,this._event_form=Gt,this._org=At,this._spaces=tn,this._mapspeople=vn,this.can_close=!1,this.options=this._event_form.options,this.building=this._org.active_building,this.buildings=this._org.active_buildings,this.levels=(0,j.zV)([this._org.active_region,this._org.active_building]).pipe((0,W.T)(([wn,ti])=>(this.use_region?this._org.levelsForRegion(wn):this._org.levelsForBuilding(ti)).filter(Jn=>!Jn.tags.includes("parking")).sort((Jn,Cn)=>Jn.parent_id.localeCompare(Cn.parent_id)||(Jn.display_name||"").localeCompare(Cn.display_name||"")))),this.regions=this._org.region_list,this.using_mapspeople=this._mapspeople.available$,this.features=(0,j.zV)([this._spaces.features,this._event_form.available_spaces]).pipe((0,W.T)(([wn,ti])=>(0,te.Am)(wn.concat((0,te.Bq)(ti.map(Qn=>Qn.features)))))),this.close=()=>this._bsheet_ref.dismiss(),this.setOptions=wn=>this._event_form.setOptions(wn),this.can_close=!!this._bsheet_ref}setBuilding(Tt){this._org.building=Tt}setRegion(Tt){this._org.region=Tt}toggleFeature(Tt,It){var Gt=this;return(0,J.A)(function*(){const{features:At}=yield Gt.options.pipe((0,ie.s)(1)).toPromise(),tn=(At||[]).filter(vn=>Tt!==vn);It&&tn.push(Tt),Gt.setOptions({features:tn})})()}static#e=this.\u0275fac=function(It){return new(It||Dt)(d.rXU(h.eN,8),d.rXU(te.h$),d.rXU(I.W),d.rXU(R.y),d.rXU(ce.b),d.rXU(te._e))};static#t=this.\u0275cmp=d.VBU({type:Dt,selectors:[["space-filters"]],inputs:{multiday:"multiday",hide_levels:"hide_levels",viewing_map:"viewing_map"},decls:35,vars:29,consts:()=>{let Tt,It,Gt,At,tn,vn,wn,ti,Qn,bn,Jn,Cn,kn;return Tt=$localize`:␟36173168a4643aa78634e9242a63f3a40862f166␟7173310086383878456:Space Filters`,It=$localize`:␟4f8b2bb476981727ab34ed40fde1218361f92c45␟5028777105388019087:Details`,Gt=$localize`:␟ed31c09fd77c36238c13d83635f3fe5294c733d2␟471816275243265264:Location`,At=$localize`:␟04cfb5fd033651743bc4b9408bd52ba4ee894070␟3158758063619980932:Date${"\ufffd#22\ufffd"}:START_TAG_SPAN:*${"\ufffd/#22\ufffd"}:CLOSE_TAG_SPAN:`,tn=$localize`:␟beead5a3a21b1ca4abe67610030f8a520995de4e␟3894192522062036998: ${"\ufffd0\ufffd"}:INTERPOLATION: `,vn=$localize`:␟130845b58eba8e50c98f3fba117a0168cdba4f31␟8264413387051126615:Any Region`,wn=$localize`:␟50407595967bf29832e873b41f9de3502d5c3e03␟7323982518822503502:Any Level`,ti=$localize`:␟d7f43e20f3a729fa3de32bc7a1f709ccd722eae5␟835486935962207481: All Day `,Qn=$localize`:␟02d39ddac5bbf95c424df03d5f0d22cc257556bd␟4735431816432396893: Start Time${"\ufffd#4\ufffd"}:START_TAG_SPAN:*${"\ufffd/#4\ufffd"}:CLOSE_TAG_SPAN:`,bn=$localize`:␟bde3d9fd949ba4c6014b8e64c1362753bca1cf0c␟5010873675481014004: ${"\ufffd0\ufffd"}:INTERPOLATION: `,Jn=$localize`:␟210742da6591a33630e0bfba757b95e6a1d99b20␟1614226322496100282: ${"\ufffd0\ufffd"}:INTERPOLATION: `,Cn=$localize`:␟bf10c600bd861cfd0a23f4759562ee0ae9dbe19f␟1551920764795208868:Facilities`,kn=$localize`:␟c17e2cc448524a39eb83b2937cea3235a2e8bf37␟2296888311792137027: Apply Filters `,[Tt,It,Gt,At,tn,ti,Qn,bn,Jn,Cn,kn,[1,"flex","items-center","border-b","border-base-200","pb-2","sm:hidden"],[1,"flex-1","pl-2"],["icon","","matRipple","","name","close-space-filters",3,"click",4,"ngIf"],[1,"font-medium","flex-2","text-center"],[1,"flex-1"],[1,"max-h-[65vh]","p-2","overflow-y-auto","overflow-x-hidden","divide-y","divide-base-200","w-full","max-w-[100vw]",3,"formGroup"],["details",""],[1,"text-lg","font-medium","mb-1"],[1,"flex-1","min-w-[8rem]","flex","flex-col"],["for","location"],["appearance","outline","class","w-full",4,"ngIf"],[1,"flex","items-center","flex-wrap","sm:space-x-2"],[1,"flex-1","min-w-[8rem]"],["for","date"],["name","date",3,"ngModelChange","ngModel","ngModelOptions","to","short"],["class","flex-1 min-w-[8rem] relative",4,"ngIf"],["class","flex justify-end -mt-2 mb-2",4,"ngIf"],["class","flex items-center space-x-2",4,"ngIf"],["favs","","class","space-y-2 pb-4",4,"ngIf"],["features","","class","space-y-2",4,"ngIf"],["class","px-2 pt-2 w-full border-t border-base-200",4,"ngIf"],["icon","","matRipple","","name","close-space-filters",3,"click"],["appearance","outline",1,"w-full"],["name","region","placeholder",vn,3,"ngModelChange","ngModel","ngModelOptions"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["name","building",3,"ngModelChange","ngModel","ngModelOptions","placeholder"],["name","location","placeholder",wn,3,"ngModelChange","ngModel","ngModelOptions","multiple"],[1,"flex","flex-col-reverse"],["class","opacity-30 text-xs",4,"ngIf"],[1,"opacity-30","text-xs"],[1,"opacity-0"],[1,"flex-1","min-w-[8rem]","relative"],["name","date",3,"ngModelChange","ngModel","ngModelOptions","from","to","short"],[1,"flex","justify-end","-mt-2","mb-2"],["formControlName","all_day"],[1,"flex","items-center","space-x-2"],[1,"flex-1","w-1/3"],["for","start-time"],["name","start-time",3,"ngModelChange","ngModel","ngModelOptions","use_24hr"],["class","flex-1 w-1/3",4,"ngIf"],["for","end-time"],["name","end-time",3,"ngModelChange","ngModel","ngModelOptions","from","use_24hr"],["name","end-time","formControlName","duration",3,"time","max","use_24hr"],["favs","",1,"space-y-2","pb-4"],[1,"text-lg","font-medium"],[1,"flex","items-center"],["for","fav",1,"flex-1","w-1/2"],["name","fav",3,"ngModelChange","ngModel","ngModelOptions"],["features","",1,"space-y-2"],[4,"ngFor","ngForOf"],["class","flex items-center",4,"ngIf"],["for","feat",1,"flex-1","w-1/2"],["name","feat",3,"ngModelChange","ngModel","ngModelOptions"],[1,"px-2","pt-2","w-full","border-t","border-base-200"],["btn","","matRipple","","name","apply-space-filters",1,"w-full",3,"click"]]},template:function(It,Gt){if(1&It&&(d.j41(0,"div",11)(1,"div",12),d.DNE(2,me,3,0,"button",13),d.k0s(),d.j41(3,"h3",14),d.pXf(4,0),d.k0s(),d.nrm(5,"div",15),d.k0s(),d.j41(6,"form",16)(7,"section",17)(8,"h2",18),d.pXf(9,1),d.k0s(),d.j41(10,"div",19)(11,"label",20),d.pXf(12,2),d.k0s(),d.DNE(13,Oe,4,6,"mat-form-field",21),d.nI1(14,"async"),d.DNE(15,We,7,13,"mat-form-field",21),d.nI1(16,"async"),d.DNE(17,ge,5,9,"mat-form-field",21),d.k0s(),d.j41(18,"div",22)(19,"div",23)(20,"label",24),d.PLo(21,3),d.nrm(22,"span"),d.YFu(),d.k0s(),d.j41(23,"a-date-field",25),d.bIt("ngModelChange",function(tn){return Gt.form.patchValue({date:tn})}),d.pXf(24,4),d.nI1(25,"translate"),d.k0s()(),d.DNE(26,pe,9,12,"div",26),d.k0s(),d.DNE(27,Ee,3,0,"div",27)(28,$e,8,6,"div",28),d.k0s(),d.DNE(29,tt,10,11,"section",29),d.nI1(30,"async"),d.DNE(31,yt,5,3,"section",30),d.nI1(32,"async"),d.nI1(33,"async"),d.k0s(),d.DNE(34,Le,3,0,"div",31)),2&It){let At,tn,vn;d.R7$(2),d.Y8G("ngIf",Gt.can_close),d.R7$(4),d.Y8G("formGroup",Gt.form),d.R7$(7),d.Y8G("ngIf",Gt.use_region&&(null==(At=d.bMT(14,16,Gt.regions))?null:At.length)),d.R7$(2),d.Y8G("ngIf",!Gt.use_region&&(null==(tn=d.bMT(16,18,Gt.buildings))?null:tn.length)>1),d.R7$(2),d.Y8G("ngIf",!Gt.hide_levels),d.R7$(6),d.Y8G("ngModel",Gt.form.getRawValue().date)("ngModelOptions",d.lJ4(28,oe))("to",Gt.end_date)("short",!0),d.R7$(2),d.uP7(d.bMT(25,20,"FORM.DATE_ERROR")),d.nnv(24),d.R7$(),d.Y8G("ngIf",Gt.multiday),d.R7$(),d.Y8G("ngIf",Gt.allow_all_day),d.R7$(),d.Y8G("ngIf",!Gt.form.value.all_day),d.R7$(),d.Y8G("ngIf",!Gt.viewing_map||!d.bMT(30,22,Gt.using_mapspeople)),d.R7$(2),d.Y8G("ngIf",(null==(vn=d.bMT(32,24,Gt.features))?null:vn.length)&&(!Gt.viewing_map||!d.bMT(33,26,Gt.using_mapspeople))),d.R7$(3),d.Y8G("ngIf",Gt.can_close)}},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:100%;max-width:100vw}"]})}return Dt})();var V=o(9434),ue=o(6600);function Q(Dt,nn){if(1&Dt){const Tt=d.RV6();d.j41(0,"button",17),d.bIt("click",function(){d.eBV(Tt);const Gt=d.XpG();return d.Njj(Gt.removeAllFeatures())}),d.EFF(1," Clear Filters "),d.k0s()}}function Te(Dt,nn){if(1&Dt&&(d.j41(0,"div",18),d.EFF(1),d.k0s()),2&Dt){const Tt=d.XpG();d.R7$(),d.SpI(" ",Tt.location," ")}}function Je(Dt,nn){if(1&Dt&&(d.qex(0),d.EFF(1),d.nI1(2,"date"),d.nI1(3,"date"),d.bVm()),2&Dt){const Tt=d.XpG();d.R7$(),d.Lme(" ",d.i5U(2,2,Tt.start,Tt.time_format)," \u2014 ",d.i5U(3,5,Tt.end,Tt.time_format)," ")}}function Nt(Dt,nn){1&Dt&&(d.qex(0),d.EFF(1,"All Day"),d.bVm())}function qt(Dt,nn){if(1&Dt){const Tt=d.RV6();d.j41(0,"div",19)(1,"p",20),d.EFF(2),d.k0s(),d.j41(3,"button",21),d.bIt("click",function(){const Gt=d.eBV(Tt).$implicit,At=d.XpG();return d.Njj(At.removeFeature(Gt))}),d.j41(4,"app-icon"),d.EFF(5,"close"),d.k0s()()()}if(2&Dt){const Tt=nn.$implicit;d.R7$(2),d.JRh(Tt)}}let hn=(()=>{class Dt extends te.Tv{get all_day(){return this._event_form.form.value.all_day}get start(){return this._event_form.form.value.date}get end(){const{date:Tt,duration:It}=this._event_form.form.value;return Tt+60*It*1e3}get time_format(){return this._settings.time_format}constructor(Tt,It,Gt,At){super(),this._bsheet=Tt,this._event_form=It,this._org=Gt,this._settings=At,this.view="list",this.viewChange=new d.bkB,this.options=this._event_form.options,this.location="",this.editFilters=()=>this._bsheet.open(De)}ngOnInit(){this.subscription("opts",this.options.subscribe(({zone_ids:Tt})=>this._updateLocation(Tt)))}removeFeature(Tt){var It=this;return(0,J.A)(function*(){const Gt=yield It._event_form.options.pipe((0,ie.s)(1)).toPromise();It._event_form.setOptions({...Gt,features:(Gt.features||[]).filter(At=>At!==Tt)})})()}removeAllFeatures(){var Tt=this;return(0,J.A)(function*(){const It=yield Tt._event_form.options.pipe((0,ie.s)(1)).toPromise();Tt._event_form.setOptions({...It,features:[]})})()}_updateLocation(Tt=[]){const Gt=this._org.levelWithID(Tt)||this._org.building;this.location=Gt?.display_name||Gt?.name||""}static#e=this.\u0275fac=function(It){return new(It||Dt)(d.rXU(h.VK),d.rXU(I.W),d.rXU(R.y),d.rXU(te.h$))};static#t=this.\u0275cmp=d.VBU({type:Dt,selectors:[["space-filters-display"]],inputs:{view:"view"},outputs:{viewChange:"viewChange"},features:[d.Vt3],decls:23,vars:20,consts:()=>{let Tt,It,Gt,At;return Tt=$localize`:␟19eaa5cd51d70d9ea957eecac78cfd811e9b93d8␟5208858215712453646: Filters `,It=$localize`:␟992a9a6a193a56c5b8846dc972c5e1977ee5f1aa␟8553228906889869186: Map `,Gt=$localize`:␟4b286e90831dd637c5cd3eb20544664ee7112669␟7787942140742011951: List `,At=$localize`:␟dfdd3d7879401ba6edca2e5198df414f15c112c2␟5300384898733875729: Min. ${"\ufffd0\ufffd"}:INTERPOLATION: People `,[Tt,It,Gt,At,["actions","",1,"sm:hidden","space-x-2","flex","items-center","p-2"],["btn","","matRipple","","name","edit-space-filters",1,"flex-1","w-1/2",3,"click"],[1,"flex","items-center"],["btn","","matRipple","","name","view-space-map",1,"rounded-l","rounded-r-none",3,"click"],["btn","","matRipple","","name","view-space-list",1,"rounded-r","rounded-l-none",3,"click"],["filters","",1,"flex","items-center","flex-wrap","p-2","w-[35rem]","max-w-full","sm:max-w-[35rem]"],["btn","","matRipple","","name","clear-space-filters","class","min-h-[2rem] mb-2 mr-2",3,"click",4,"ngIf"],["filter-item","","zone","","class","dark:border-base-200-500",4,"ngIf"],["filter-item","","date","",1,"dark:border-base-200-500"],["filter-item","","time","",1,"dark:border-base-200-500"],[4,"ngIf"],["filter-item","","count","",1,"dark:border-base-200-500"],["filter-item","",4,"ngFor","ngForOf"],["btn","","matRipple","","name","clear-space-filters",1,"min-h-[2rem]","mb-2","mr-2",3,"click"],["filter-item","","zone","",1,"dark:border-base-200-500"],["filter-item",""],[1,"truncate"],["icon","","matRipple","","name","remove-space-filter",1,"-mr-4",3,"click"]]},template:function(It,Gt){if(1&It&&(d.j41(0,"section",4)(1,"button",5),d.bIt("click",function(){return Gt.editFilters()}),d.pXf(2,0),d.k0s(),d.j41(3,"div",6)(4,"button",7),d.bIt("click",function(){return Gt.view="map",Gt.viewChange.emit(Gt.view)}),d.pXf(5,1),d.k0s(),d.j41(6,"button",8),d.bIt("click",function(){return Gt.view="list",Gt.viewChange.emit(Gt.view)}),d.pXf(7,2),d.k0s()()(),d.j41(8,"section",9),d.DNE(9,Q,2,0,"button",10),d.nI1(10,"async"),d.DNE(11,Te,2,1,"div",11),d.j41(12,"div",12),d.EFF(13),d.nI1(14,"date"),d.k0s(),d.j41(15,"div",13),d.DNE(16,Je,4,8,"ng-container",14)(17,Nt,2,0,"ng-container",14),d.k0s(),d.j41(18,"div",15),d.pXf(19,3),d.nI1(20,"async"),d.k0s(),d.DNE(21,qt,6,1,"div",16),d.nI1(22,"async"),d.k0s()),2&It){let At,tn,vn;d.R7$(4),d.AVh("inverse","map"!==Gt.view),d.R7$(2),d.AVh("inverse","list"!==Gt.view),d.R7$(3),d.Y8G("ngIf",(null==(At=d.bMT(10,11,Gt.options))||null==At.features?null:At.features.length)>1),d.R7$(2),d.Y8G("ngIf",Gt.location),d.R7$(2),d.SpI(" ",d.i5U(14,13,Gt.start,"mediumDate")," "),d.R7$(3),d.Y8G("ngIf",!Gt.all_day),d.R7$(),d.Y8G("ngIf",Gt.all_day),d.R7$(3),d.uP7((null==(tn=d.bMT(20,16,Gt.options))?null:tn.capacity)||2),d.nnv(19),d.R7$(),d.Y8G("ngForOf",null==(vn=d.bMT(22,18,Gt.options))?null:vn.features)}},dependencies:[e.Sq,e.bT,V.R,ue.r6,e.Jj,e.vh],styles:["[filter-item][_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 1rem;min-height:2rem;font-size:.875rem;border:1px solid rgba(0,0,0,.2);border-radius:1.25rem;margin-right:.5rem;margin-bottom:.5rem;max-width:100%;text-align:center}[filter-item][_ngcontent-%COMP%]:hover{background:#0000001a}[filter-item][_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:.5rem}"]})}return Dt})();var wt=o(9928),Zt=o(3020),ft=o(5897),lt=o(4351);function Ft(Dt,nn){1&Dt&&d.nrm(0,"div",16)}function Ct(Dt,nn){1&Dt&&(d.j41(0,"app-icon",17),d.EFF(1," done "),d.k0s())}let Wt=(()=>{class Dt{get color(){return this.active?"#F4511E":this.selected?"#D32F2F":"#309251"}constructor(Tt){this._data=Tt,this.selected=!0===this._data.selected,this.active=!0===this._data.active}static#e=this.\u0275fac=function(It){return new(It||Dt)(d.rXU(lt.Nw))};static#t=this.\u0275cmp=d.VBU({type:Dt,selectors:[["space-location-pin"]],decls:17,vars:3,consts:[[1,"absolute","bottom-0","left-1/2","-translate-x-1/2"],["width","44","height","60","viewBox","0 0 66 80","fill","none","xmlns","http://www.w3.org/2000/svg"],["filter","url(#filter0_d_1065_10313)"],["d","M19.724 53.0408C25.0871 60.3435 30.5582 65.8583 31.0184 66.3178C31.4558 66.755 32.0489 67.0007 32.6674 67.0008H32.6678C33.2863 67.0007 33.8795 66.755 34.3169 66.3178C34.7771 65.8583 40.2481 60.3435 45.6112 53.0408C48.2928 49.3894 50.963 45.2701 52.9663 41.0957C54.9629 36.935 56.3331 32.6459 56.3342 28.6724C56.364 25.5564 55.7725 22.4657 54.5941 19.5809C53.415 16.6946 51.6722 14.0724 49.4675 11.8677C47.2629 9.66308 44.6407 7.92024 41.7544 6.74121C38.8711 5.5634 35.782 4.97184 32.6676 5.00103C29.5533 4.97184 26.4642 5.5634 23.5809 6.74121C20.6946 7.92024 18.0724 9.66308 15.8677 11.8677C13.6631 14.0724 11.9202 16.6946 10.7412 19.5809C9.56278 22.4657 8.97122 25.5565 9.00108 28.6726C9.0022 32.646 10.3724 36.9351 12.369 41.0957C14.3723 45.2701 17.0425 49.3894 19.724 53.0408Z","stroke","#0B421D","stroke-width","2"],["id","filter0_d_1065_10313","x","0","y","0","width","65.3353","height","80.001","filterUnits","userSpaceOnUse","color-interpolation-filters","sRGB"],["flood-opacity","0","result","BackgroundImageFix"],["in","SourceAlpha","type","matrix","values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0","result","hardAlpha"],["dy","4"],["stdDeviation","4"],["in2","hardAlpha","operator","out"],["type","matrix","values","0 0 0 0 0.0196078 0 0 0 0 0.109804 0 0 0 0 0.172549 0 0 0 0.2 0"],["mode","normal","in2","BackgroundImageFix","result","effect1_dropShadow_1065_10313"],["mode","normal","in","SourceGraphic","in2","effect1_dropShadow_1065_10313","result","shape"],[1,"absolute","top-0","left-0","w-full","h-3/4","flex","items-center","justify-center"],["class","relative z-10 h-4 w-4 rounded-full bg-base-100 border-2 border-[#0B421D]",4,"ngIf"],["class","relative text-white z-10 text-2xl",4,"ngIf"],[1,"relative","z-10","h-4","w-4","rounded-full","bg-base-100","border-2","border-[#0B421D]"],[1,"relative","text-white","z-10","text-2xl"]],template:function(It,Gt){1&It&&(d.j41(0,"div",0),d.qSk(),d.j41(1,"svg",1)(2,"g",2),d.nrm(3,"path",3),d.k0s(),d.j41(4,"defs")(5,"filter",4),d.nrm(6,"feFlood",5)(7,"feColorMatrix",6)(8,"feOffset",7)(9,"feGaussianBlur",8)(10,"feComposite",9)(11,"feColorMatrix",10)(12,"feBlend",11)(13,"feBlend",12),d.k0s()()(),d.joV(),d.j41(14,"div",13),d.DNE(15,Ft,1,0,"div",14)(16,Ct,2,0,"app-icon",15),d.k0s()()),2&It&&(d.R7$(3),d.BMQ("fill",Gt.color),d.R7$(12),d.Y8G("ngIf",!Gt.selected),d.R7$(),d.Y8G("ngIf",Gt.selected))},dependencies:[e.bT,V.R],encapsulation:2})}return Dt})();const en=()=>({controls:!0}),on=()=>({standalone:!0});function _n(Dt,nn){if(1&Dt&&(d.j41(0,"div",10),d.EFF(1),d.nI1(2,"building"),d.j41(3,"span",11),d.EFF(4," - "),d.k0s()()),2&Dt){let Tt;const It=d.XpG().$implicit;d.R7$(),d.SpI(" ",null==(Tt=d.bMT(2,1,It.parent_id))?null:Tt.display_name," ")}}function Sn(Dt,nn){if(1&Dt&&(d.j41(0,"mat-option",7)(1,"div",8),d.DNE(2,_n,5,3,"div",9),d.j41(3,"div"),d.EFF(4),d.k0s()()()),2&Dt){const Tt=nn.$implicit,It=d.XpG(2);d.Y8G("value",Tt),d.R7$(2),d.Y8G("ngIf",It.use_region),d.R7$(2),d.SpI(" ",Tt.display_name||Tt.name," ")}}function Zn(Dt,nn){if(1&Dt){const Tt=d.RV6();d.j41(0,"mat-form-field",4)(1,"mat-select",5),d.mxI("ngModelChange",function(Gt){d.eBV(Tt);const At=d.XpG();return d.DH7(At.level,Gt)||(At.level=Gt),d.Njj(Gt)}),d.bIt("ngModelChange",function(Gt){d.eBV(Tt);const At=d.XpG();return d.Njj(At.setOptions({zone_ids:[Gt.id]}))}),d.DNE(2,Sn,5,3,"mat-option",6),d.nI1(3,"async"),d.k0s()()}if(2&Dt){const Tt=d.XpG();d.R7$(),d.R50("ngModel",Tt.level),d.Y8G("ngModelOptions",d.lJ4(5,on)),d.R7$(),d.Y8G("ngForOf",d.bMT(3,3,Tt.levels))}}let ut=(()=>{class Dt extends te.Tv{get map_url(){return this.level?.map_id||""}get use_region(){return!!this._settings.get("app.use_region")}constructor(Tt,It,Gt){super(),this._event_form=Tt,this._org=It,this._settings=Gt,this.selected=[],this.is_displayed=!1,this.onSelect=new d.bkB,this.zoom=1,this.center={x:.5,y:.5},this.coordinates=void 0,this._seletedSpace=At=>()=>{this.onSelect.emit(At),this._change.next(Date.now())},this.level=null,this._change=new wt.t(0),this.levels=(0,j.zV)([this._org.active_region,this._org.active_building]).pipe((0,W.T)(([At,tn])=>(this.use_region?this._org.levelsForRegion(At):this._org.levelsForBuilding(tn)).filter(ti=>!ti.tags.includes("parking")).sort((ti,Qn)=>ti.parent_id.localeCompare(Qn.parent_id)||(ti.display_name||"").localeCompare(Qn.display_name||"")))),this.setOptions=At=>this._event_form.setOptions(At),this.features=(0,j.zV)([this._event_form.available_spaces,this._change]).pipe((0,Zt.B)(300),(0,W.T)(([At])=>At.map(tn=>({location:tn.map_id,content:Wt,data:{...tn,active:this.active===tn.id,selected:this.selected.includes(tn.id)}})))),this.actions=this._event_form.available_spaces.pipe((0,W.T)(At=>At.map(tn=>({id:tn.map_id,action:["touchend","mouseup"],callback:this._seletedSpace(tn)})))),this.styles=(0,j.zV)([this._event_form.spaces,this._event_form.available_spaces]).pipe((0,W.T)(([At,tn])=>At.reduce((vn,wn)=>{const ti=this._settings.get("app.explore.colors")||{},Qn=tn.find(bn=>bn.id===wn.id)?"free":"busy";return vn[`#${wn.map_id||wn.id}`]={fill:ti[`space-${Qn}`]||ti[`${Qn}`]||ft.U[`${Qn}`]},vn},{})))}ngOnInit(){this.subscription("levels_update",this._event_form.options.subscribe(({zone_ids:Tt})=>{const It=this._org.levelWithID(Tt);It&&(this.level=It)}))}setLevel(Tt){console.log("Set Level",Tt),this.setOptions({zone_ids:[Tt?.id]});const It=this._org.buildings.find(Gt=>Gt.id===Tt?.parent_id);if(It){const[Gt,At]=(Tt.location||It.location).split(",").map(tn=>parseFloat(tn));this.coordinates={latitude:Gt,longitude:At}}this.level=Tt}setZoom(Tt){this.zoom=Math.max(.5,Math.min(10,Tt))}resetMap(){this.zoom=1,this.center={x:.5,y:.5}}static#e=this.\u0275fac=function(It){return new(It||Dt)(d.rXU(I.W),d.rXU(R.y),d.rXU(te.h$))};static#t=this.\u0275cmp=d.VBU({type:Dt,selectors:[["space-map"]],inputs:{selected:"selected",active:"active",is_displayed:"is_displayed"},outputs:{onSelect:"onSelect"},features:[d.Vt3],decls:8,vars:17,consts:()=>{let Tt;return Tt=$localize`:␟50407595967bf29832e873b41f9de3502d5c3e03␟7323982518822503502:Any Level`,[[1,"bg-base-100","p-2","border-b","border-base-200","w-full"],["appearance","outline","class","w-full",4,"ngIf"],[1,"relative","flex-1","w-full"],[3,"zoomChange","centerChange","src","zoom","center","styles","features","actions","options"],["appearance","outline",1,"w-full"],["name","location","placeholder",Tt,3,"ngModelChange","ngModel","ngModelOptions"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"flex","flex-col-reverse"],["class","opacity-30 text-xs",4,"ngIf"],[1,"opacity-30","text-xs"],[1,"opacity-0"]]},template:function(It,Gt){if(1&It&&(d.j41(0,"div",0),d.DNE(1,Zn,4,6,"mat-form-field",1),d.nI1(2,"async"),d.k0s(),d.j41(3,"div",2)(4,"interactive-map",3),d.nI1(5,"async"),d.nI1(6,"async"),d.nI1(7,"async"),d.mxI("zoomChange",function(tn){return d.DH7(Gt.zoom,tn)||(Gt.zoom=tn),tn})("centerChange",function(tn){return d.DH7(Gt.center,tn)||(Gt.center=tn),tn}),d.k0s()()),2&It){let At;d.R7$(),d.Y8G("ngIf",null==(At=d.bMT(2,8,Gt.levels))?null:At.length),d.R7$(3),d.Y8G("src",Gt.map_url),d.R50("zoom",Gt.zoom)("center",Gt.center),d.Y8G("styles",d.bMT(5,10,Gt.styles))("features",d.bMT(6,12,Gt.features))("actions",d.bMT(7,14,Gt.actions))("options",d.lJ4(16,en))}},styles:["[_nghost-%COMP%]{position:relative;background:#0000000d;display:flex;flex-direction:column}button[_ngcontent-%COMP%]{border-radius:0}"]})}return Dt})();o(2011);var Fe=o(4918),ae=o(5277),ve=o(3208),ze=o(9183),vt=o(3719),Ue=o(2798),Pe=o(9608),Ke=o(3476),Ie=o(1413),Ze=o(6062),nt=o(1780);let jt=(()=>{class Dt{static#e=this.\u0275fac=function(It){return new(It||Dt)};static#t=this.\u0275mod=d.$C({type:Dt});static#n=this.\u0275inj=d.G2t({imports:[e.MD,l.hM,p.h,f.c,h.vF,g.g7,n.YN,n.X1]})}return Dt})();d.wjB(b.d,[e.bT,l.tx,V.R,ue.r6,x,G,De,hn,ut],[]),d.wjB(x,[e.Sq,e.bT,V.R,Fe.S,ae.H,ue.r6],[]),d.wjB(G,[e.Sq,e.bT,V.R,ve.U,ue.r6,ze.LG],[e.Jj]),d.wjB(De,[e.Sq,e.bT,V.R,ue.wT,vt.rl,Ue.VO,ue.r6,g.So,Pe.G,Ke.y,Ie.t,n.qT,n.BC,n.cb,n.vS,n.j4,n.JD],[e.Jj,Ze.b,nt.D9]),d.wjB(ut,[e.Sq,e.bT,Fe.S,ue.wT,vt.rl,Ue.VO,n.BC,n.vS],[e.Jj,Ze.b])},7401:(gt,re,o)=>{"use strict";o.d(re,{b:()=>m});var e=o(467),n=o(5157),l=o(5006),h=o(4046),g=o(9928),p=o(8026),f=o(735),b=o(9707),d=o(2011),y=o(3953);let R,m=(()=>{class v{get space_list(){return this._list.getValue()}constructor(S,P){this._org=S,this._settings=P,this._list=new g.t([]),this._initialised=new g.t(!1),this.initialised=this._initialised.asObservable(),this.list=this._list.asObservable(),this.features=this.list.pipe((0,l.T)(M=>(0,b.Am)((0,b.Bq)(M.map(w=>w.features))))),this._compare=M=>M.zones.includes(this._org.building.id),R=new d.J(S),this._init()}_init(){var S=this;return(0,e.A)(function*(){yield S._org.initialised.pipe((0,h.$)(P=>P)).toPromise(),S._settings.get("app.prevent_space_init")?S._initialised.next(!0):S.loadSpaces()})()}filter(S=this._compare){return this._list.getValue().filter(P=>S(P))}loadSpace(S){var P=this;return(0,e.A)(function*(){const M=yield(0,n.V4n)(S).toPromise(),w=new f.$({...M,level:P._org.levelWithID([...M.zones])});R.updateSpaceList([w])})()}find(S){return this._list.getValue().find(({id:P})=>S===P)}loadSpaces(){var S=this;return(0,e.A)(function*(){const w=(yield(0,n.BbB)({zone_id:S._org.organisation.id,limit:5e3}).pipe((0,l.T)(x=>x.data)).toPromise()).map(x=>new f.$({...x,level:S._org.levelWithID([...x.zones])})).filter(x=>x.map_id);S._list.next(w),R.updateSpaceList(w),S._initialised.next(!0)})()}static#e=this.\u0275fac=function(P){return new(P||v)(y.KVO(p.y),y.KVO(b.h$))};static#t=this.\u0275prov=y.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})()},8390:(gt,re,o)=>{"use strict";o.d(re,{X1:()=>l.X,g8:()=>g,kR:()=>e.k,Gp:()=>p.Gp,KJ:()=>p.KJ,N8:()=>d.N8,SZ:()=>d.SZ});var e=o(3850),l=(o(1543),o(8737)),h=o(5987);class g{constructor(R={}){this.type=R.type||R.location||"other",this.position=R.position||R.map_id||R.asset_id||{x:R.x/R.map_width||0,y:R.y/R.map_height||0},this.variance=R.variance||0,this.last_seen=R.last_seen||(0,h._)(new Date),this.level=R.level,this.building=R.building,this.at_location=!!R.at_location,this.coordinates_from=R.coordinates_from||"top-left"}}var p=o(3693),d=(o(4129),o(6039),o(2372))},8737:(gt,re,o)=>{"use strict";o.d(re,{X:()=>J});var e=o(4006),n=o(9707),l=o(5818),h=o(5987),g=o(3601),p=o(4512),f=o(4273);function b(te){return(0,f.a)(1e3*te)}var y=o(2037),R=o(7926),m=o(6576),v=o(9928),O=o(9714),S=o(4421),P=o(3020),M=o(9090),w=o(3921),x=o(5006),I=o(7849),_=o(8712),C=o(3953);const D=["container"],A=()=>[];function B(te,ne){if(1&te&&(C.j41(0,"div",32),C.EFF(1),C.k0s()),2&te){const K=ne.index,k=C.XpG();C.xc7("left",-k.offset_x+"px"),C.BMQ("disabled",k.today&&k.current_hour>K),C.R7$(),C.Lme(" ",K%12==0?"12":K%12,"",K>=12?"pm":"am"," ")}}function F(te,ne){if(1&te){const K=C.RV6();C.j41(0,"div",33),C.nrm(1,"a-user-avatar",12),C.j41(2,"div",34),C.EFF(3),C.k0s(),C.j41(4,"button",35),C.bIt("click",function(){const j=C.eBV(K).$implicit,W=C.XpG();return C.Njj(W.removeUser(j))}),C.j41(5,"app-icon"),C.EFF(6,"close"),C.k0s()()()}if(2&te){const K=ne.$implicit,k=C.XpG();C.xc7("top",-k.offset_y+"px"),C.R7$(),C.Y8G("user",K),C.R7$(2),C.SpI(" ",K.name||k.host.email," ")}}function $(te,ne){if(1&te&&C.nrm(0,"div",36),2&te){const K=ne.index,k=C.XpG();C.xc7("left",-(k.offset_x+1)+"px"),C.BMQ("disabled",k.today&&k.current_hour>K)}}function U(te,ne){if(1&te&&(C.j41(0,"div",37),C.EFF(1),C.nI1(2,"date"),C.k0s()),2&te){const K=C.XpG();C.R7$(),C.SpI(" ",C.i5U(2,1,K.date,"shortTime")," ")}}function G(te,ne){if(1&te&&(C.nrm(0,"user-availability-list",25),C.nI1(1,"async"),C.nI1(2,"async")),2&te){const K=ne.$implicit,k=C.XpG();C.Y8G("user",K)("date",k.date)("availability",C.bMT(1,3,k.availability)?C.bMT(2,5,k.availability)[K.email.toLowerCase()]:C.lJ4(7,A))}}let J=(()=>{class te extends n.Tv{get today(){return(0,l.r)(this.date,Date.now())}get current_hour(){return(new Date).getHours()}get selection_left(){const K=new Date(this.date);return 5*(K.getHours()+K.getMinutes()/60)}get selection_width(){return this.duration/60*5}constructor(K,k,j){super(),this._data=K,this._renderer=k,this._dialog_ref=j,this.users=new v.t([]),this.search="",this.date=this._data.date||Date.now(),this.duration=this._data.duration||60,this.offset_y=0,this.offset_x=0,this.host=this._data.host,this.hours=new Array(24).fill(0),this.on_change=new v.t(0),this.availability=(0,O.zV)([this.users,this.on_change]).pipe((0,P.B)(300),(0,M.n)(([W])=>(0,m.f6)({calendars:[this.host.email,...W.map(ie=>ie.email.toLowerCase())].join(","),period_start:(0,h._)((0,g.o)(this.date)),period_end:(0,h._)((0,p.D)(this.date))}).pipe((0,w.W)(()=>(0,S.of)([])))),(0,x.T)(W=>{const ie={};for(const ce of W)ie[ce.id.toLowerCase()]=ce.availability.filter(oe=>"busy"===oe.status).map(oe=>{const me=b(oe.starts_at),he=(0,y.o)(b(oe.ends_at),b(oe.starts_at));return{date:me,duration:he,start:(me.getHours()+me.getMinutes()/60)/24*100,size:he/60/24*100}});return ie}),(0,I.U)({}),(0,_.t)(1)),this.move_time=!1,this._start_time=0,this._move_last=0,this._move_size=1920,this.users.next([...this._data.users])}addUser(K){this.users.next([...this.users.getValue().filter(k=>k.email!==K.email),K]),this.user=null}removeUser(K){this.users.next(this.users.getValue().filter(k=>k.email!==K.email)),this.user=null}closeAndUpdate(){this._dialog_ref.close(!0)}ngAfterViewInit(){const K=new Date(this.date);this.timeout("init",()=>{const k=this._container_el.nativeElement.querySelector(`[hour="${K.getHours()}"]`);if(k){const j=this._container_el.nativeElement.getBoundingClientRect(),W=k.getBoundingClientRect();this._container_el.nativeElement.scrollTo(W.left-128-j.left,0)}this.onScroll()},300)}onScroll(){this.offset_x=this._container_el.nativeElement.scrollLeft,this.offset_y=this._container_el.nativeElement.scrollTop}startMovePeriod(K){K.preventDefault(),K.stopPropagation(),this._move_last=K instanceof MouseEvent?K.clientX:K.touches[0].clientX,this.move_time=!0,this._start_time=this.date,K instanceof MouseEvent?this.subscription("on_move",this._renderer.listen("window","mousemove",k=>this._onMovePeriod(k))):this.subscription("on_move",this._renderer.listen("window","touchmove",k=>this._onMovePeriod(k))),K instanceof MouseEvent?this.subscription("on_move_end",this._renderer.listen("window","mouseup",()=>this._onMoveEnd())):this.subscription("on_move_end",this._renderer.listen("window","touchend",()=>this._onMoveEnd()))}startMoveDuration(K){K.preventDefault(),K.stopPropagation(),this._move_last=K instanceof MouseEvent?K.clientX:K.touches[0].clientX,this._start_time=this.duration,K instanceof MouseEvent?this.subscription("on_move",this._renderer.listen("window","mousemove",k=>this._onMoveDuration(k))):this.subscription("on_move",this._renderer.listen("window","touchmove",k=>this._onMoveDuration(k))),K instanceof MouseEvent?this.subscription("on_move_end",this._renderer.listen("window","mouseup",()=>this._onMoveEnd())):this.subscription("on_move_end",this._renderer.listen("window","touchend",()=>this._onMoveEnd()))}_onMovePeriod(K){const k=this._move_last-(K instanceof MouseEvent?K.clientX:K.touches[0].clientX),W=(k>0?-1:1)*Math.floor(Math.abs(k/this._move_size*24*60)/5)*5;if(W){const ie=this.date;this.date=(0,R.z)(this._start_time,W).valueOf(),this.date<Date.now()&&(this.date=ie)}}_onMoveDuration(K){const k=this._move_last-(K instanceof MouseEvent?K.clientX:K.touches[0].clientX),W=(k>0?-1:1)*Math.floor(Math.abs(k/this._move_size*24*60)/5)*5;W&&(this.duration=Math.max(30,this._start_time+W))}_onMoveEnd(){this.unsub("on_move"),this.unsub("on_move_end"),this._move_last=0,this.move_time=!1}static#e=this.\u0275fac=function(k){return new(k||te)(C.rXU(e.Vh),C.rXU(C.sFG),C.rXU(e.CP))};static#t=this.\u0275cmp=C.VBU({type:te,selectors:[["find-availability-modal"]],viewQuery:function(k,j){if(1&k&&C.GBs(D,7),2&k){let W;C.mGM(W=C.lsd())&&(j._container_el=W.first)}},features:[C.Vt3],decls:45,vars:31,consts:[["container",""],[1,"relative","flex","items-center","justify-center","p-4"],[1,"text-center"],["icon","","matRipple","","mat-dialog-close","",1,"absolute","top-1/2","left-1","-translate-y-1/2"],[1,"flex","flex-col","h-[calc(100vh-7rem)]","sm:h-[65vh]","overflow-hidden"],[1,"w-full","flex","flex-col","sm:flex-row","space-y-2","sm:space-y-0","sm:space-x-2","p-2"],[1,"max-h-[3.25rem]","flex-1",3,"ngModelChange","ngModel"],[1,"grid","flex-1","h-1/2","w-full","border-t","border-base-200","relative","overflow-hidden","divide-x","divide-y","divide-base-200","max-w-[100vw]","sm:max-w-[80vw]"],["times","",1,"col-start-2","h-10","flex","overflow-hidden","border-l","border-base-200"],["hour","","class","relative border-r border-base-200 h-10 min-w-[5rem] p-2",3,"left",4,"ngFor","ngForOf"],["users","",1,"row-start-2","w-24","overflow-hidden"],["host","",1,"flex","flex-col","items-center","justify-center","h-32","w-24","relative","border-b","border-base-200","py-2"],[1,"text-2xl",3,"user"],[1,"text-xs","break-words","overflow-hidden","max-w-full","px-2","text-center"],["person","","class","flex flex-col items-center justify-center h-32 w-24 relative border-b border-base-200 py-2",3,"top",4,"ngFor","ngForOf"],["blocks","",1,"relative","row-start-2","overflow-hidden"],["fixed","",1,"absolute","inset-0","flex","overflow-hidden"],["divider","","class","relative h-full min-w-[5rem] border-l border-base-200",3,"left",4,"ngFor","ngForOf"],["selection","",1,"absolute","inset-y-0","!border-x-2","!border-info","z-20","cursor-grab","active:cursor-grabbing",3,"mousedown","touchstart"],[1,"absolute","inset-0","bg-info","opacity-30"],["handle","",1,"absolute","top-1/2","-left-px","-translate-x-1/2","-translate-y-1/2","h-3","w-3","rounded-full","bg-info"],["handle","",1,"absolute","top-1/2","-right-px","translate-x-1/2","-translate-y-1/2","h-3","w-3","rounded-full","bg-info","hover:h-4","hover:w-4","active:bg-secondary",3,"mousedown","touchstart"],[1,"bg-base-100","border","border-base-200","p-2","absolute","top-2","left-1/2","-translate-x-1/2","shadow","text-xs","whitespace-nowrap","rounded"],["class","bg-base-100 border border-base-200 p-2 absolute top-12 left-1/2 -translate-x-1/2 shadow text-xs whitespace-nowrap rounded",4,"ngIf"],["scroll","",1,"absolute","inset-0","overflow-auto",3,"scroll"],[1,"pointer-events-none",3,"user","date","availability"],["class","pointer-events-none",3,"user","date","availability",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","p-2","border-t","border-base-200","w-full"],["btn","","matRipple","",1,"clear","text-secondary",3,"mat-dialog-close"],[1,"flex","items-center"],[1,"text-xl"],[1,"mr-1","underline"],["hour","",1,"relative","border-r","border-base-200","h-10","min-w-[5rem]","p-2"],["person","",1,"flex","flex-col","items-center","justify-center","h-32","w-24","relative","border-b","border-base-200","py-2"],[1,"text-xs","break-words","max-w-full","px-2","text-center"],["icon","",1,"absolute","-top-1","-left-1",3,"click"],["divider","",1,"relative","h-full","min-w-[5rem]","border-l","border-base-200"],[1,"bg-base-100","border","border-base-200","p-2","absolute","top-12","left-1/2","-translate-x-1/2","shadow","text-xs","whitespace-nowrap","rounded"]],template:function(k,j){if(1&k){const W=C.RV6();C.j41(0,"header",1)(1,"h2",2),C.EFF(2,"Find Availability"),C.k0s(),C.j41(3,"button",3)(4,"app-icon"),C.EFF(5,"close"),C.k0s()()(),C.j41(6,"main",4)(7,"div",5)(8,"a-date-field",6),C.mxI("ngModelChange",function(ce){return C.eBV(W),C.DH7(j.date,ce)||(j.date=ce),C.Njj(ce)}),C.bIt("ngModelChange",function(){return C.eBV(W),C.Njj(j.on_change.next(j.on_change.getValue()+1))}),C.k0s(),C.j41(9,"a-user-search-field",6),C.mxI("ngModelChange",function(ce){return C.eBV(W),C.DH7(j.user,ce)||(j.user=ce),C.Njj(ce)}),C.bIt("ngModelChange",function(ce){return C.eBV(W),C.Njj(j.addUser(ce))}),C.k0s()(),C.j41(10,"div",7)(11,"div",8),C.DNE(12,B,2,5,"div",9),C.k0s(),C.j41(13,"div",10)(14,"div",11),C.nrm(15,"a-user-avatar",12),C.j41(16,"div",13),C.EFF(17),C.k0s()(),C.DNE(18,F,7,4,"div",14),C.nI1(19,"async"),C.k0s(),C.j41(20,"div",15)(21,"div",16),C.DNE(22,$,1,3,"div",17),C.j41(23,"div",18),C.bIt("mousedown",function(ce){return C.eBV(W),C.Njj(j.startMovePeriod(ce))})("touchstart",function(ce){return C.eBV(W),C.Njj(j.startMovePeriod(ce))}),C.nrm(24,"div",19)(25,"div",20),C.j41(26,"div",21),C.bIt("mousedown",function(ce){return C.eBV(W),C.Njj(j.startMoveDuration(ce))})("touchstart",function(ce){return C.eBV(W),C.Njj(j.startMoveDuration(ce))}),C.k0s(),C.j41(27,"div",22),C.EFF(28),C.nI1(29,"duration"),C.k0s(),C.DNE(30,U,3,4,"div",23),C.k0s()(),C.j41(31,"div",24,0),C.bIt("scroll",function(){return C.eBV(W),C.Njj(j.onScroll())}),C.nrm(33,"user-availability-list",25),C.nI1(34,"async"),C.nI1(35,"async"),C.DNE(36,G,3,8,"user-availability-list",26),C.nI1(37,"async"),C.k0s()()()(),C.j41(38,"footer",27)(39,"button",28)(40,"div",29)(41,"app-icon",30),C.EFF(42,"arrow_back"),C.k0s(),C.j41(43,"div",31),C.EFF(44,"Back to form"),C.k0s()()()()}2&k&&(C.R7$(8),C.R50("ngModel",j.date),C.R7$(),C.R50("ngModel",j.user),C.R7$(3),C.Y8G("ngForOf",j.hours),C.R7$(2),C.xc7("top",-j.offset_y+"px"),C.R7$(),C.Y8G("user",j.host),C.R7$(2),C.SpI(" ",j.host.name||j.host.email," "),C.R7$(),C.Y8G("ngForOf",C.bMT(19,20,j.users)),C.R7$(4),C.Y8G("ngForOf",j.hours),C.R7$(),C.xc7("left","calc("+j.selection_left+"rem - "+j.offset_x+"px)")("width",j.selection_width+"rem"),C.R7$(5),C.SpI(" ",C.bMT(29,22,j.duration)," "),C.R7$(2),C.Y8G("ngIf",j.move_time),C.R7$(3),C.Y8G("user",j.host)("date",j.date)("availability",C.bMT(34,24,j.availability)?C.bMT(35,26,j.availability)[j.host.email]:C.lJ4(30,A)),C.R7$(3),C.Y8G("ngForOf",C.bMT(37,28,j.users)),C.R7$(3),C.Y8G("mat-dialog-close",!0))},styles:[".grid[_ngcontent-%COMP%]{grid-template-columns:6rem 1fr;grid-template-rows:2.5rem minmax(0,1fr)}[disabled=true][_ngcontent-%COMP%], [disabled=true][_ngcontent-%COMP%]   [header][_ngcontent-%COMP%]{background:var(--b3)!important;pointer-events:none}[disabled=true][_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{opacity:.3}"]})}return te})()},6039:(gt,re,o)=>{"use strict";o.d(re,{qI:()=>f,qc:()=>d});var e=o(5157),n=o(5006),h=(o(6727),o(8385)),g=o(3693);const p="/api/staff/v1/guests";function f(v){const O=(0,h.z)({q:v});return(0,e.JtY)(`${p}${v?"?"+O:""}`).pipe((0,n.T)(S=>S.map(P=>new g.So(P))))}function d(v){return(0,e.JtY)(`${p}/${encodeURIComponent(v)}`).pipe((0,n.T)(O=>new g.So(O)))}},1543:(gt,re,o)=>{"use strict";o.d(re,{a:()=>O});var e=o(3953),n=o(4006),l=o(9707),h=o(3693),g=o(4129),p=o(177),f=o(9434),b=o(6600),d=o(9183),y=o(7111);function R(S,P){if(1&S&&(e.j41(0,"main",6),e.nrm(1,"user-form",7),e.k0s()),2&S){const M=e.XpG();e.R7$(),e.Y8G("form",M.form)}}function m(S,P){if(1&S){const M=e.RV6();e.j41(0,"footer",8)(1,"button",9),e.EFF(2," Cancel "),e.k0s(),e.j41(3,"button",10),e.bIt("click",function(){e.eBV(M);const x=e.XpG();return e.Njj(x.saveChanges())}),e.EFF(4,"Save"),e.k0s()()}}function v(S,P){1&S&&(e.j41(0,"main",11),e.nrm(1,"mat-spinner",12),e.j41(2,"p"),e.EFF(3,"Saving attendee..."),e.k0s()())}let O=(()=>{class S extends l.Tv{constructor(M){super(),this._data=M,this.event=new e.bkB,this.form=(0,g.nu)(this.user||new h.KJ),this.loading=!1,this.user=this._data.user||{},this.form=(0,g.nu)(this.user)}ngOnInit(){}saveChanges(){if(this.form&&(this.form.markAllAsTouched(),this.form.valid)){const M=new h.KJ({...this.form.value,is_external:!0});this.event.emit({reason:"done",metadata:M})}}static#e=this.\u0275fac=function(w){return new(w||S)(e.rXU(n.Vh))};static#t=this.\u0275cmp=e.VBU({type:S,selectors:[["new-user-modal"]],outputs:{event:"event"},features:[e.Vt3],decls:11,vars:4,consts:[["load_state",""],["mat-dialog-title","",1,"heading"],[1,"flex-1"],["icon","","mat-dialog-close",""],["class","flex flex-col items-center w-full p-2",4,"ngIf","ngIfElse"],["class","flex items-center justify-center w-full p-2 border-t border-base-200 space-x-2",4,"ngIf"],[1,"flex","flex-col","items-center","w-full","p-2"],[3,"form"],[1,"flex","items-center","justify-center","w-full","p-2","border-t","border-base-200","space-x-2"],["btn","","matRipple","","mat-dialog-close","",1,"inverse"],["btn","","matRipple","",3,"click"],[1,"flex","flex-col","items-center","w-full","p-2","space-y-2"],["diameter","32"]],template:function(w,x){if(1&w&&(e.j41(0,"header")(1,"div",1),e.EFF(2),e.k0s(),e.nrm(3,"div",2),e.j41(4,"button",3)(5,"app-icon"),e.EFF(6,"close"),e.k0s()()(),e.DNE(7,R,2,1,"main",4)(8,m,5,0,"footer",5)(9,v,4,0,"ng-template",null,0,e.C5r)),2&w){const I=e.sdS(10);e.R7$(2),e.SpI(" ",null!=x.user&&x.user.id?"Edit":"Add"," External Attendee "),e.R7$(5),e.Y8G("ngIf",!x.loading)("ngIfElse",I),e.R7$(),e.Y8G("ngIf",!x.loading)}},dependencies:[p.bT,n.tx,n.BI,f.R,b.r6,d.LG,y.f],styles:["main[_ngcontent-%COMP%]{min-height:20em!important;width:100%}footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:8em}"]})}return S})()},2372:(gt,re,o)=>{"use strict";o.d(re,{N8:()=>p,SZ:()=>f});var e=o(5157),n=o(8385),l=o(5006),h=o(3693);const g="/api/staff/v1/people";function p(d){const y=(0,n.z)({q:d,fields:["id","name","email","username","organisation","department"].join(",")});return(0,e.JtY)(`${g}${d?"?"+y:""}`).pipe((0,l.T)(R=>R.map(m=>new h.Gp(m))))}function f(d){return(0,e.JtY)(`${g}/${encodeURIComponent(d)}`).pipe((0,l.T)(y=>new h.Gp(y)))}},7111:(gt,re,o)=>{"use strict";o.d(re,{f:()=>S});var e=o(3953),n=o(177),l=o(9417),h=o(3719),g=o(9631),p=o(2765),f=o(1780);function b(P,M){if(1&P&&(e.j41(0,"div",3)(1,"label",4),e.EFF(2," Name"),e.j41(3,"span"),e.EFF(4,"*"),e.k0s(),e.EFF(5,": "),e.k0s(),e.j41(6,"mat-form-field",5),e.nrm(7,"input",6),e.j41(8,"mat-error"),e.EFF(9,"Name is required"),e.k0s()()()),2&P){const w=e.XpG(2);e.R7$(),e.AVh("error",w.hasError("name"))}}function d(P,M){if(1&P&&(e.j41(0,"div",3)(1,"label",7),e.EFF(2," Email"),e.j41(3,"span"),e.EFF(4,"*"),e.k0s(),e.EFF(5,": "),e.k0s(),e.j41(6,"mat-form-field",5),e.nrm(7,"input",8),e.j41(8,"mat-error"),e.EFF(9,"A valid email is required"),e.k0s()()()),2&P){const w=e.XpG(2);e.R7$(),e.AVh("error",w.hasError("email"))}}function y(P,M){if(1&P&&(e.j41(0,"div",3)(1,"label",9),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"span"),e.EFF(5,"*"),e.k0s(),e.EFF(6,": "),e.k0s(),e.j41(7,"mat-form-field",5),e.nrm(8,"input",10),e.j41(9,"mat-error"),e.EFF(10),e.nI1(11,"translate"),e.k0s()()()),2&P){const w=e.XpG(2);e.R7$(),e.AVh("error",w.hasError("organisation")),e.R7$(),e.SpI(" ",e.bMT(3,4,"COMMON.ORGANISATION"),""),e.R7$(8),e.SpI(" ",e.bMT(11,6,"COMMON.ORGANISATION")," is required ")}}function R(P,M){if(1&P&&(e.j41(0,"div",3)(1,"label",11),e.EFF(2," Phone: "),e.k0s(),e.j41(3,"mat-form-field",5),e.nrm(4,"input",12),e.j41(5,"mat-error"),e.EFF(6,"Phone format is invalid"),e.k0s()()()),2&P){const w=e.XpG(2);e.R7$(),e.AVh("error",w.hasError("phone"))}}function m(P,M){1&P&&(e.j41(0,"div",3)(1,"mat-checkbox",13),e.EFF(2," Assistance required "),e.k0s()())}function v(P,M){1&P&&(e.j41(0,"div",3)(1,"mat-checkbox",14),e.EFF(2," Visit expected "),e.k0s()())}function O(P,M){if(1&P&&(e.j41(0,"form",1),e.DNE(1,b,10,2,"div",2)(2,d,10,2,"div",2)(3,y,12,8,"div",2)(4,R,7,2,"div",2)(5,m,3,0,"div",2)(6,v,3,0,"div",2),e.k0s()),2&P){const w=e.XpG();e.Y8G("formGroup",w.form),e.R7$(),e.Y8G("ngIf",w.form.controls.name),e.R7$(),e.Y8G("ngIf",w.form.controls.email),e.R7$(),e.Y8G("ngIf",w.form.controls.organisation),e.R7$(),e.Y8G("ngIf",w.form.controls.phone),e.R7$(),e.Y8G("ngIf",w.form.controls.assistance_required),e.R7$(),e.Y8G("ngIf",w.form.controls.visit_expected)}}let S=(()=>{class P{hasError(w){const{invalid:x,touched:I}=this.form?.controls[w]||{};return x&&I}static#e=this.\u0275fac=function(x){return new(x||P)};static#t=this.\u0275cmp=e.VBU({type:P,selectors:[["user-form"]],inputs:{form:"form"},decls:1,vars:1,consts:[["user-form","","class","w-full",3,"formGroup",4,"ngIf"],["user-form","",1,"w-full",3,"formGroup"],["class","flex flex-col w-full",4,"ngIf"],[1,"flex","flex-col","w-full"],["for","name"],["appearance","outline"],["matInput","","name","name","placeholder","Name","formControlName","name"],["for","email"],["matInput","","name","email","placeholder","Email Address","formControlName","email"],["for","org"],["matInput","","name","org","placeholder","e.g. Conteso","formControlName","organisation"],["for","phone"],["matInput","","name","phone","type","tel","placeholder","Phone","formControlName","phone"],["name","assistance-required","color","primary","formControlName","assistance_required"],["name","visit-expected","color","primary","formControlName","visit_expected"]],template:function(x,I){1&x&&e.DNE(0,O,7,7,"form",0),2&x&&e.Y8G("ngIf",I.form)},dependencies:[n.bT,l.qT,l.me,l.BC,l.cb,l.j4,l.JD,h.rl,h.TL,g.fg,p.So,f.D9],styles:["[_nghost-%COMP%], mat-form-field[_ngcontent-%COMP%]{width:100%}"]})}return P})()},3693:(gt,re,o)=>{"use strict";o.d(re,{Gp:()=>p,KJ:()=>h,So:()=>g});var e=o(4217),n=o(4129),l=o(4361);class h{constructor(b={}){this.id=b.id||b.email||`USER::${(0,e.DU)(8)}`,this.name=b.name||"",this.email=b.email||"",this.first_name=b.first_name||b.name||"",this.last_name=b.last_name||"",this.phone=b.phone||"",this.organisation=b.organisation||"",this.notes=b.notes||"",this.photo=b.photo||"",this.username=b.username||"",this.organizer=!!b.organizer,this.checked_in=!!b.checked_in,this.required=b.required??!0,this.resource=b.resource??!1,this.response_status=b.response_status||"";const d=b.groups||[];this.department=b.department??"",b.sys_admin&&d.push("placeos_admin"),b.support&&d.push("placeos_support"),b.department&&d.push(b.department),this.groups=d,this.extension_data=b.extension_data||{},this.extension_data.assistance_required=b.assistance_required||this.extension_data.assistance_required,this.is_external=!this.email?.endsWith(`${n.pd}`),this.visit_expected=b.visit_expected??!0,this.assistance_required=!!this.extension_data?.assistance_required;for(const y in b)y in this||(this.extension_data[y]=b[y])}}class g extends h{constructor(b={}){super(b),this.preferred_beverage=b.preferred_beverage||"",this.accepted_terms_conditions=b.accepted_terms_conditions||!1,this.attachments=b.extension_data?.attachments||b.attachments||[],this.status=b.booking?.approved?"approved":b.booking?.rejected?"declined":b.extension_data?.status||b.status||"pending",this.booking=b.booking,this.extension_data.event=b.event_metadata}}class p extends h{get location(){return this.location_time(Date.now())}location_time(b){b||(b=Date.now());const d=new Date(b),y=d.getDay(),R=(0,l.GP)(d,"yyyy-MM-dd");return this.work_overrides[R]?.location||this.work_preferences.find(m=>m.day_of_week===y)?.location||"wfo"}get location_name(){return this.location_name_time(Date.now())}location_name_time(b){b||(b=Date.now());const d=this.location_time(b),y=this.in_hours_time(b);if(d.includes("w")&&!y)return"Outside working hours";switch(d){case"wfh":return"Working from Home";case"wfo":return"Working from Office";case"ooo":return"Out of Office";case"aol":return"Away on Leave";default:return"Unknown"}}get in_hours(){return this.in_hours_time(Date.now())}location_icon(b){b||(b=Date.now());const d=this.location_time(b),y=this.in_hours_time(b);return"wfh"===d&&y?"home":"wfo"===d&&y?"business":"event_busy"}in_hours_time(b){b||(b=Date.now());const d=new Date(b),y=d.getDay(),R=(0,l.GP)(d,"yyyy-MM-dd"),m=this.work_overrides[R]||this.work_preferences.find(P=>P.day_of_week===y);if(!m)return!1;const v=m.start_time,O=m.end_time,S=d.getHours()+d.getMinutes()/60;return v<=S&&S<O}constructor(b={}){super(b),this.card_number=b.card_number||"",this.staff_id=b.staff_id||"",this.is_logged_in=!!b.is_logged_in,this.work_preferences=b.work_preferences||[],this.work_overrides=b.work_overrides||{}}}},9577:(gt,re,o)=>{"use strict";o.d(re,{a:()=>b});var e=o(467),n=o(6039),l=o(2372),h=o(3693),g=o(3953);const p=[],f=new h.KJ;let b=(()=>{class d{transform(R){return(0,e.A)(function*(){if(!R)return f;let m=p.find(({id:v,email:O})=>v===R||O===R);return m||(m=yield(0,l.SZ)(R).toPromise().catch(()=>null),m||(m=yield(0,n.qc)(R).toPromise().catch(()=>null),m)?(p.push(m),m):f)})()}static#e=this.\u0275fac=function(m){return new(m||d)};static#t=this.\u0275pipe=g.EJ8({name:"user",type:d,pure:!0})}return d})()},4129:(gt,re,o)=>{"use strict";o.d(re,{Z4:()=>p,nu:()=>d,pd:()=>g});var e=o(9417);o(4217),o(3693);let g="@place.tech";function p(R){g=R}function d(R){if(!R)throw Error("No user passed");const m={name:new e.MJ(R.name||"",[e.k0.required]),email:new e.MJ(R.email||"",[e.k0.email,e.k0.required]),organisation:new e.MJ(R.organisation||"",e.k0.required),phone:new e.MJ(R.phone||"",e.k0.pattern(/^\+?(\d[\d\s\-\(\)]{5,13}\d)$/)),assistance_required:new e.MJ(R.assistance_required||!1),visit_expected:new e.MJ(R.visit_expected??!0)};return new e.gE(m)}},3850:(gt,re,o)=>{"use strict";o.d(re,{k:()=>U});var e=o(177),n=o(9417),l=o(9183),h=o(9115),g=o(4006),p=o(2765),f=o(846),b=o(8705),m=(o(1543),o(7111),o(9577),o(9987)),v=o(8737),S=(o(3693),o(3953));function P(G,J){if(1&G&&(S.j41(0,"div",2)(1,"div",3),S.EFF(2),S.nI1(3,"date"),S.nI1(4,"date"),S.k0s()()),2&G){const te=J.$implicit;S.xc7("left",te.start+"%")("width",te.size+"%"),S.R7$(2),S.Lme(" ",S.i5U(3,6,te.date,"shortTime")," - ",S.i5U(4,9,te.date.valueOf()+60*te.duration*1e3,"shortTime")," ")}}let M=(()=>{class G{constructor(){this.availability=[],this.date=Date.now()}static#e=this.\u0275fac=function(ne){return new(ne||G)};static#t=this.\u0275cmp=S.VBU({type:G,selectors:[["user-availability-list"]],inputs:{user:"user",availability:"availability",date:"date"},decls:2,vars:1,consts:[[1,"relative","w-[120rem]","h-32","inset-y-0","border-b","border-base-200"],["event","","class","absolute inset-y-0 bg-error text-white p-2 overflow-hidden border border-red-700 rounded",3,"left","width",4,"ngFor","ngForOf"],["event","",1,"absolute","inset-y-0","bg-error","text-white","p-2","overflow-hidden","border","border-red-700","rounded"],[1,"text-xs","max-w-full"]],template:function(ne,K){1&ne&&(S.j41(0,"div",0),S.DNE(1,P,5,12,"div",1),S.k0s()),2&ne&&(S.R7$(),S.Y8G("ngForOf",K.availability))},dependencies:[e.Sq,e.vh],styles:["[_nghost-%COMP%]{display:block}"]})}return G})();var w=o(1413),x=o(9434),I=o(1193),_=o(6600),C=o(3719),D=o(2798),A=o(9608),B=o(8e3),F=o(7022);let U=(()=>{class G{static#e=this.\u0275fac=function(ne){return new(ne||G)};static#t=this.\u0275mod=S.$C({type:G});static#n=this.\u0275inj=S.G2t({imports:[e.MD,n.YN,n.X1,g.hM,b.c,f.h,p.g7,l.D6,h.Cn]})}return G})();S.wjB(m.$,[e.Sq,e.bT,n.BC,n.vS,g.tx,w.t,x.R,I.a,_.wT,h.kk,h.fb,h.Cp,C.rl,D.VO,_.r6,l.LG],[e.vh]),S.wjB(v.X,[e.Sq,e.bT,n.BC,n.vS,g.tx,A.G,B.$,x.R,I.a,_.r6,M],[e.Jj,e.vh,F.b])},9987:(gt,re,o)=>{"use strict";o.d(re,{$:()=>I});var e=o(467),n=o(9707),l=o(906),h=o(7793),g=o(1406),p=o(4361),f=o(4273),b=o(1666),R=o(5157),m=o(3953),v=o(4006);function O(_,C){if(1&_&&(m.j41(0,"span"),m.EFF(1),m.k0s()),2&_){const D=m.XpG(2);m.R7$(),m.SpI("from ","wfh"===D.option?"home":"office","")}}function S(_,C){if(1&_&&(m.j41(0,"mat-option",30),m.EFF(1),m.k0s()),2&_){const D=C.$implicit;m.Y8G("value",D.id),m.R7$(),m.SpI(" ",D.name," ")}}function P(_,C){if(1&_){const D=m.RV6();m.j41(0,"div",23)(1,"label",24),m.EFF(2),m.nI1(3,"date"),m.k0s(),m.j41(4,"a-time-field",25),m.mxI("ngModelChange",function(B){const F=m.eBV(D).$implicit,$=m.XpG(2);return m.DH7($.start_times[F],B)||($.start_times[F]=B),m.Njj(B)}),m.bIt("ngModelChange",function(){m.eBV(D);const B=m.XpG(2);return m.Njj(B.changed=!0)}),m.k0s(),m.j41(5,"a-time-field",26),m.mxI("ngModelChange",function(B){const F=m.eBV(D).$implicit,$=m.XpG(2);return m.DH7($.end_times[F],B)||($.end_times[F]=B),m.Njj(B)}),m.bIt("ngModelChange",function(){m.eBV(D);const B=m.XpG(2);return m.Njj(B.changed=!0)}),m.k0s(),m.j41(6,"mat-form-field",27)(7,"mat-select",28),m.mxI("ngModelChange",function(B){const F=m.eBV(D).$implicit,$=m.XpG(2);return m.DH7($.settings[F].location,B)||($.settings[F].location=B),m.Njj(B)}),m.bIt("ngModelChange",function(){m.eBV(D);const B=m.XpG(2);return m.Njj(B.changed=!0)}),m.DNE(8,S,2,2,"mat-option",29),m.k0s()()()}if(2&_){const D=C.$implicit,A=m.XpG(2);m.R7$(2),m.JRh(m.i5U(3,6,A.days[D],"EEEE")),m.R7$(2),m.R50("ngModel",A.start_times[D]),m.R7$(),m.R50("ngModel",A.end_times[D]),m.Y8G("from",A.start_times[D]),m.R7$(2),m.R50("ngModel",A.settings[D].location),m.R7$(),m.Y8G("ngForOf",A.options)}}function M(_,C){if(1&_){const D=m.RV6();m.j41(0,"div",4)(1,"div",5),m.nrm(2,"a-user-avatar",6),m.j41(3,"div"),m.EFF(4),m.k0s(),m.j41(5,"div",7),m.EFF(6),m.k0s(),m.j41(7,"div",7),m.EFF(8),m.k0s()(),m.j41(9,"div",8)(10,"h3",9),m.EFF(11," Today's Working Location "),m.k0s(),m.j41(12,"button",10)(13,"div",11)(14,"div",12),m.EFF(15),m.k0s(),m.j41(16,"app-icon",13),m.EFF(17,"arrow_drop_down"),m.k0s()()(),m.j41(18,"div",14)(19,"div",15)(20,"app-icon"),m.EFF(21),m.k0s()(),m.j41(22,"div",16),m.EFF(23),m.DNE(24,O,2,1,"span",17),m.EFF(25," day"),m.nrm(26,"br"),m.EFF(27),m.k0s()()(),m.j41(28,"div",18)(29,"h3",9),m.EFF(30," Office Day Defaults "),m.k0s(),m.DNE(31,P,9,9,"div",19),m.k0s(),m.j41(32,"div",20)(33,"button",21),m.bIt("click",function(){m.eBV(D);const B=m.XpG();return m.Njj(B.saveChanges())}),m.EFF(34," Update "),m.k0s()(),m.j41(35,"button",22)(36,"app-icon"),m.EFF(37,"close"),m.k0s()()()}if(2&_){const D=m.XpG(),A=m.sdS(2);m.R7$(2),m.Y8G("user",D.user),m.R7$(2),m.JRh(D.user.name),m.R7$(2),m.JRh(D.user.email),m.R7$(2),m.JRh(D.user.phone),m.R7$(4),m.Y8G("matMenuTriggerFor",A),m.R7$(3),m.JRh(D.option_name),m.R7$(6),m.JRh("wfh"===D.option?"home":"domain"),m.R7$(2),m.SpI(" Today is a ","aol"===D.option?"leave":"working"," "),m.R7$(),m.Y8G("ngIf","aol"!==D.option),m.R7$(3),m.Lme(" ","aol"===D.option?"Unavailable":"Available"," for ","wfh"===D.option?"online":""," meetings "),m.R7$(4),m.Y8G("ngForOf",D.available_weekdays),m.R7$(2),m.Y8G("disabled",!D.changed)}}function w(_,C){if(1&_){const D=m.RV6();m.j41(0,"button",31),m.bIt("click",function(){const B=m.eBV(D).$implicit,F=m.XpG();return F.option=B.id,m.Njj(F.changed=!0)}),m.EFF(1),m.k0s()}if(2&_){const D=C.$implicit;m.BMQ("id",D.id),m.R7$(),m.SpI(" ",D.name," ")}}function x(_,C){1&_&&(m.j41(0,"div",32),m.nrm(1,"mat-spinner",33),m.j41(2,"p"),m.EFF(3,"Saving changes to work location settings..."),m.k0s()()),2&_&&(m.R7$(),m.Y8G("diameter",32))}let I=(()=>{class _{get option_name(){return this.options.find(D=>D.id===this.option)?.name||""}constructor(D){this._dialog_ref=D,this.options=[{id:"wfo",name:"Working from office"},{id:"wfh",name:"Working from home"},{id:"aol",name:"Away on Leave"}],this.option=this.options[0].id,this.settings=[],this.weekdays=[],this.changed=!1,this.loading=!1,this.available_weekdays=[1,2,3,4,5],this.days=new Array(7).fill(0).map((A,B)=>(0,l.f)((0,h.k)((0,l.f)(Date.now(),30)),B)),this.start_times=[],this.end_times=[]}ngOnInit(){const D=(0,n.Ny)();this.settings=D.work_preferences,this.option=D.location||"wfo",this.settings?.length<7&&(this.settings=new Array(7).fill({}).map((A,B)=>({day_of_week:B,start_time:9,end_time:17,location:"wfo"}))),this.start_times=this.settings.map((A,B)=>{const F=Math.floor(A.start_time),$=Math.round(60*(A.start_time-F));return(0,g.h)(this.days[B],{hours:F,minutes:$}).valueOf()}),this.end_times=this.settings.map((A,B)=>{const F=Math.floor(A.end_time),$=Math.round(60*(A.end_time-F));return(0,g.h)(this.days[B],{hours:F,minutes:$}).valueOf()}),this._initWeekdays()}get user(){return(0,n.Ny)()}saveChanges(D=!0){var A=this;return(0,e.A)(function*(){A.loading=!0,A._dialog_ref.disableClose=!0;const B=(new Date).getDay(),F=(0,p.GP)(Date.now(),"yyyy-MM-dd");var $={};$[F]={day_of_week:B,start_time:9,end_time:17,location:A.option};for(const G of A.settings){const J=new Date(A.start_times[G.day_of_week]),te=new Date(A.end_times[G.day_of_week]);G.start_time=J.getHours()+J.getMinutes()/60,G.end_time=te.getHours()+te.getMinutes()/60,G.day_of_week===B&&($[F].start_time=G.start_time,$[F].end_time=G.end_time)}const U=yield(0,R.VLL)("current").toPromise();yield(0,R.TKu)(U.id,{...U,work_preferences:A.settings,work_overrides:$}).toPromise(),A.loading=!1,A._dialog_ref.disableClose=!1,D&&(location.reload(),A._dialog_ref.close())})()}_initWeekdays(){let D=new Date;this.weekdays=this.available_weekdays.map(A=>function d(_,C,D){const A=(0,b.q)(),B=D?.weekStartsOn??D?.locale?.options?.weekStartsOn??A.weekStartsOn??A.locale?.options?.weekStartsOn??0,F=(0,f.a)(_),$=F.getDay(),J=7-B;return(0,l.f)(F,C<0||C>6?C-($+J)%7:((C%7+7)%7+J)%7-($+J)%7)}(D,A).valueOf())}static#e=this.\u0275fac=function(A){return new(A||_)(m.rXU(v.CP))};static#t=this.\u0275cmp=m.VBU({type:_,selectors:[["wfh-settings-modal"]],decls:6,vars:3,consts:[["menu","matMenu"],["load_state",""],["class","relative flex flex-col rounded overflow-hidden w-[40rem] max-w-full",4,"ngIf","ngIfElse"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[1,"relative","flex","flex-col","rounded","overflow-hidden","w-[40rem]","max-w-full"],[1,"w-full","px-4","py-8","flex","flex-col","items-center","border-b","border-base-200"],[3,"user"],[1,"text-xs","opacity-30"],[1,"w-full","p-4","flex","flex-col","border-b","border-base-200"],[1,"-mt-2","mb-2","text-sm","font-medium"],["btn","","matRipple","","today-location","",1,"inverse","rounded-3xl","w-[20rem]","max-w-[calc(100%-2rem)]","mx-auto",3,"matMenuTriggerFor"],[1,"flex","items-center","justify-between","w-full"],[1,"flex-1","w-1/2"],[1,"text-2xl"],[1,"flex","items-center","pt-4","space-x-2","mx-auto"],[1,"h-8","w-8","rounded-full","bg-base-200","flex","items-center","justify-center"],[1,"flex-1","w-1/2","text-sm"],[4,"ngIf"],[1,"w-full","p-4","flex","flex-col"],["class","flex items-center space-x-2 w-full overflow-hidden even:bg-base-200 rounded p-2",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-end","px-4","pb-4"],["btn","","matRipple","","save","",3,"click","disabled"],["icon","","matRipple","","mat-dialog-close","",1,"absolute","top-0","left-0"],[1,"flex","items-center","space-x-2","w-full","overflow-hidden","even:bg-base-200","rounded","p-2"],[1,"w-24","min-w-0","m-0"],[1,"h-12","w-36",3,"ngModelChange","ngModel"],[1,"h-12","w-36",3,"ngModelChange","ngModel","from"],["appearance","outline",1,"flex-2","no-subscript"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-menu-item","",3,"click"],["loading","",1,"relative","bg-base-100","flex","flex-col","justify-center","items-center","rounded","overflow-hidden","w-[24rem]","h-[18rem]","text-center","space-y-2"],[3,"diameter"]],template:function(A,B){if(1&A&&(m.DNE(0,M,38,13,"div",2),m.j41(1,"mat-menu",null,0),m.DNE(3,w,2,2,"button",3),m.k0s(),m.DNE(4,x,4,1,"ng-template",null,1,m.C5r)),2&A){const F=m.sdS(5);m.Y8G("ngIf",!B.loading)("ngIfElse",F),m.R7$(3),m.Y8G("ngForOf",B.options)}}})}return _})()},285:(gt,re,o)=>{"use strict";o.d(re,{LJ:()=>me,Y9:()=>he,Zn:()=>G,jG:()=>v,xB:()=>we,yF:()=>Oe,yd:()=>$});var e=o(9928),n=o(4046),l=o(416);function h(We,Xe){for(var Me=0;Me<Xe.length;Me++){var ge=Xe[Me];ge.enumerable=ge.enumerable||!1,ge.configurable=!0,"value"in ge&&(ge.writable=!0),Object.defineProperty(We,ge.key,ge)}}function g(We,Xe,Me){return Xe&&h(We.prototype,Xe),Me&&h(We,Me),We}function p(){return p=Object.assign||function(We){for(var Xe=1;Xe<arguments.length;Xe++){var Me=arguments[Xe];for(var ge in Me)Object.prototype.hasOwnProperty.call(Me,ge)&&(We[ge]=Me[ge])}return We},p.apply(this,arguments)}function f(We,Xe){We.prototype=Object.create(Xe.prototype),We.prototype.constructor=We,b(We,Xe)}function b(We,Xe){return(b=Object.setPrototypeOf||function(Me,ge){return Me.__proto__=ge,Me})(We,Xe)}var d={},R="/api/engine/v2/uploads";function m(){return R}function v(We,Xe){void 0===Xe&&(Xe=!1);var Me=Xe?1e3:1024;if(We<Me)return We+(Xe?" iB":" B");var ge=Math.floor(Math.log(We)/Math.log(Me)),pe=(Xe?"kMGTPE":"KMGTPE").charAt(ge-1)+(Xe?"iB":"B");return(We/Math.pow(Me,ge)).toFixed(1)+" "+pe}function O(We){var Xe="";We.length%2>0&&(We="0"+We);for(var Me=0,ge=We.length;Me<ge;Me+=2)Xe+=String.fromCharCode(parseInt(We.slice(Me,Me+2),16));return Xe}function S(We){var Xe="";if(We)for(var Me in We)We.hasOwnProperty(Me)&&null!=We[Me]&&(Xe+=(Xe?"&":"")+Me+"="+encodeURIComponent(We[Me]));return Xe}var P="",M="",w=function(){function We(Me,ge){var pe=this;this._upload=void 0,this._endpoint=void 0,this.upload_id=void 0,this._params={},this._abort_ctrl=new AbortController,this._dispose=void 0,this._upload=Me,this._endpoint=ge,this._abort_ctrl.signal.addEventListener("abort",function(){return pe._dispose?pe._dispose():""})}We.setToken=function(Me){P=Me},We.setApiKey=function(Me){M=Me};var Xe=We.prototype;return Xe.initialise=function(){try{var Me,ge=this,pe=ge._abort_ctrl.signal,Ee=ge._upload,Ge=Ee.file,Qe=Ee.mime_type;ge._params.file_size=""+Ge.size,ge._params.file_name=Ge.name,Qe&&"binary/octet-stream"!==Qe&&(ge._params.file_mime=Qe),ge._params=p({},ge._params,ge._upload.params),(null==(Me=Ge.dir_path)?void 0:Me.length)>0&&(ge._params.file_path=Ge.dir_path);var $e=ge.base_request_headers,tt=S(ge._params);return Promise.resolve(fetch(ge._endpoint+"/new"+(tt?"?"+tt:""),{headers:$e,signal:pe})).then(function(xt){return xt.json()})}catch(xt){return Promise.reject(xt)}},Xe.create=function(Me){try{var ge=this,pe=ge._abort_ctrl.signal,Ee=ge.base_request_headers;return Me.file_id&&(ge._params.file_id=Me.file_id),ge._upload.mime_type&&(ge._params.file_mime=Me.mime_type),Me.parameters&&(ge._params.parameters=Me.parameters),Me.permissions&&(ge._params.permissions=Me.permissions),Me.public&&(ge._params.public=Me.public),Me.expires&&(ge._params.expires=Me.expires||0),Promise.resolve(fetch(""+ge._endpoint,{body:JSON.stringify(ge._params),method:"POST",headers:Ee,signal:pe})).then(function(Ge){return Promise.resolve(Ge.json()).then(function(Qe){return ge.upload_id=Qe.upload_id,Qe})})}catch(Ge){return Promise.reject(Ge)}},Xe.sign=function(Me,ge){void 0===ge&&(ge="");try{var pe=this;if(!pe.upload_id)throw new Error("Upload resource not initialised");var Ee=pe._abort_ctrl.signal,Ge=pe.base_request_headers,Qe=new URLSearchParams;return Qe.set("part",Me.toString()),ge&&Qe.set("file_id",encodeURIComponent(ge)),Promise.resolve(fetch(pe._endpoint+"/"+pe.encoded_id+"/edit?"+Qe.toString(),{method:"GET",headers:Ge,signal:Ee})).then(function($e){return Promise.resolve($e.json())})}catch($e){return Promise.reject($e)}},Xe.update=function(Me){void 0===Me&&(Me={});try{var ge=this;if(!ge.upload_id)throw new Error("Upload resource not initialised");var pe=ge._abort_ctrl.signal,Ee=ge.base_request_headers;return Promise.resolve(fetch(ge._endpoint+"/"+ge.encoded_id,{body:JSON.stringify(Me),method:"PUT",headers:Ee,signal:pe})).then(function(Ge){return Promise.resolve(Ge.json())})}catch(Ge){return Promise.reject(Ge)}},Xe.signedRequest=function(Me){try{return Promise.resolve(fetch(Me.signature.url,{body:Me.data,method:Me.signature.verb,headers:Me.signature.headers})).then(function(ge){return Promise.resolve(ge.text()).then(function(pe){var Ee={body:pe,responseXML:null};try{Ee.responseXML=(new window.DOMParser).parseFromString(Ee.body,"text/xml")}catch{}return Ee})})}catch(ge){return Promise.reject(ge)}},Xe.signNextChunk=function(Me,ge,pe,Ee){void 0===Ee&&(Ee=null);try{var Ge=this;if(!Ge.upload_id)throw new Error("Upload resource not initialised");var Qe=Ge._abort_ctrl.signal,$e={part_list:pe};Ee&&($e.part_data=Ee);var tt=Ge.base_request_headers,xt=S({part:""+Me,file_id:ge,file_mime:Ge._upload.mime_type});return Promise.resolve(fetch(Ge._endpoint+"/"+Ge.encoded_id+(xt?"?"+xt:""),{body:JSON.stringify($e),method:Object.keys($e).length>0?"PATCH":"PUT",headers:tt,signal:Qe})).then(function(Pt){return Promise.resolve(Pt.json())})}catch(Pt){return Promise.reject(Pt)}},Xe.signChunk=function(Me,ge){void 0===ge&&(ge=null);try{var Ee=this._abort_ctrl.signal,Ge=this.base_request_headers,Qe=S({part:""+Me,file_id:ge});return Promise.resolve(fetch(this._endpoint+"/edit"+(Qe?"?"+Qe:""),{headers:Ge,signal:Ee})).then(function($e){return Promise.resolve($e.json())})}catch($e){return Promise.reject($e)}},Xe.updateStatus=function(Me){void 0===Me&&(Me={});try{var ge=this;if(!ge.upload_id)throw new Error("Upload resource not initialised");var pe=ge._abort_ctrl.signal;return Promise.resolve(fetch(ge._endpoint+"/"+ge.encoded_id,{headers:ge.base_request_headers,method:Object.keys(Me).length>0?"PATCH":"PUT",body:JSON.stringify(Me),signal:pe})).then(function(Ee){return Promise.resolve(Ee.json())})}catch(Ee){return Promise.reject(Ee)}},Xe.abort=function(){this._abort_ctrl.abort()},Xe.destroy=function(){this.abort();var Me=new Headers;if(Me.append("Accept","application/json"),P?Me.append("Authorization","Bearer "+P):M&&Me.append("X-API-Key",""+M),this.upload_id)return fetch(this._endpoint+"/"+this.encoded_id,{headers:Me,method:"DELETE"})},Xe.performSignedRequest=function(Me,ge){var pe=this;return void 0===ge&&(ge=function(){}),new Promise(function(Ee,Ge){var Qe=new XMLHttpRequest;Qe.upload.addEventListener("progress",function(Pt){return ge(Pt)}),Qe.addEventListener("load",function(Pt){ge(Pt),Qe.status>=200&&Qe.status<300||Qe.status===Me.expected?Ee(Qe):Ge(Qe.status+": "+Qe.statusText)});var $e=function(Pt){pe._upload.onError(Pt),Ge(Pt)};Qe.addEventListener("error",function(){return $e(Qe.status+": "+(Qe.statusText||"unknown error"))}),Qe.addEventListener("abort",function(){return $e(Qe.statusText||"browser aborted")}),Qe.open(Me.signature.verb,Me.signature.url,!0);var tt=Me.signature.headers;for(var xt in tt)xt in tt&&Qe.setRequestHeader(xt,tt[xt]);pe._dispose=function(){Qe.abort(),Ge("user aborted")},Qe.send(Me.data||null)})},g(We,[{key:"encoded_id",get:function(){return encodeURIComponent(""+(this.upload_id||""))}},{key:"base_request_headers",get:function(){var Me=new Headers;return Me.append("Accept","application/json"),Me.append("Content-Type","application/json"),P?Me.append("Authorization","Bearer "+P):M&&Me.append("X-API-Key",""+M),Me}}]),We}(),x=function(){function We(Me,ge,pe,Ee,Ge){void 0===Ee&&(Ee={}),void 0===Ge&&(Ge=m()),this.file=void 0,this.retries=void 0,this.parallel=void 0,this.params=void 0,this._endpoint=void 0,this._state=new e.t({status:"waiting",progress:0,uploaded:0}),this._request=void 0,this._provider=void 0,this._access_url="",this.size=void 0,this.status=this._state.asObservable(),this.mime_type="binary/octet-stream",this.metadata=void 0,this.file=Me,this.retries=ge,this.parallel=pe,this.params=Ee,this._endpoint=Ge,this.mime_type=Me?.type||this.mime_type}var Xe=We.prototype;return Xe.setAccessUrl=function(Me){this._access_url=Me},Xe.onProgress=function(Me){var ge=this._state.getValue();this._state.next(p({},ge,{status:"uploading",uploaded:Me,progress:Math.floor(Me/this.file.size*1e3)/10}))},Xe.onComplete=function(){var Me=this._state.getValue();this._state.next(p({},Me,{status:"complete",progress:100}))},Xe.onError=function(Me){var ge=this._state.getValue();this._state.next(p({},ge,{status:"error",error:Me}))},Xe.resume=function(Me){try{var ge=this,pe=ge._state.getValue(),Ee=function(){if(!["complete","uploading","cancelled"].includes(pe.status)){var Ge=function(){var $e;null==($e=ge._provider)||$e.start()};Me&&(ge.parallel=Me);var Qe=function(){if(!ge._provider)return ge._request=new w(ge,ge._endpoint),Promise.resolve(ge._request.initialise()).then(function($e){var tt=d[$e.residence]||null;tt?(ge._provider=new tt(ge._request,ge),ge._state.next(p({},pe,{status:"uploading"}))):ge.onError("No provider available to upload to")})}();return Qe&&Qe.then?Qe.then(Ge):Ge()}}();return Promise.resolve(Ee&&Ee.then?Ee.then(function(){}):void 0)}catch(Ge){return Promise.reject(Ge)}},Xe.pause=function(){var Me,ge=this._state.getValue();"uploading"===ge.status&&(null==(Me=this._provider)||Me.pause(),this._state.next(p({},ge,{status:"paused"})))},Xe.cancel=function(){var Me,ge=this._state.getValue();["complete","cancelled"].includes(ge.status)||("uploading"===ge.status&&(null==(Me=this._provider)||Me.destroy()),this._state.next(p({},ge,{status:"cancelled"})))},g(We,[{key:"id",get:function(){var Me;return null==(Me=this._request)?void 0:Me.upload_id}},{key:"access_url",get:function(){return this._access_url}},{key:"waiting",get:function(){var Me;return"waiting"===(null==(Me=this._state.getValue())?void 0:Me.status)}},{key:"in_progress",get:function(){var Me;return"uploading"===(null==(Me=this._state.getValue())?void 0:Me.status)}},{key:"completed",get:function(){var Me;return"complete"===(null==(Me=this._state.getValue())?void 0:Me.status)}}]),We}(),I=[],_=-1;function C(){return _+=1,I[_%=3]}var D,We,A={auto_start:!0,auto_remove:!1,remove_after:0,simultaneous:2,parallel:3,retries:4,providers:[]},B=A,F=[];function $(We){void 0===We&&(We={}),(B=p({},A,We)).endpoint&&(R=B.endpoint),function(Xe,Me){var ge;void 0===Xe&&(Xe="/node_modules/ts-md5/dist/md5_worker.js"),(null==(ge=I)?void 0:ge.length)>0&&I.forEach(function(Ee){return Ee.terminate()}),I=[];for(var pe=0;pe<3;pe+=1)I.push(new l.LL(Xe,Me))}(B.worker_url,B.worker_options),B.token&&w.setToken(B.token),B.api_key&&w.setApiKey(B.api_key),function U(We){We.forEach(function(Xe){return function y(We,Xe){d[We]=Xe}(Xe.lookup,Xe)})}(B.providers)}function G(We,Xe){if(void 0===Xe&&(Xe={}),!m())throw"No API endpoint set";var Me=[];return We.forEach(function(ge){var pe=new x(ge,B.retries,B.parallel,Xe);Me.push(pe),F.push(pe),pe.metadata=B.metadata,pe.status.pipe((0,n.$)(function(Ee){return"complete"===Ee.status})).subscribe(function(Ee){return function(Ge){var Qe=B.auto_start,$e=B.remove_after;B.auto_remove&&($e?setTimeout(function(){return j(Ge)},$e):j(Ge));var tt=F.filter(function(xt){return xt.waiting});Qe&&tt.length&&ce()&&tt[0].resume(B.parallel)}(pe)}),B.auto_start&&ce()&&pe.resume(B.parallel)}),Me}function j(We){We.cancel(),F=F.filter(function(Xe){return Xe!==We})}function ce(){return F.filter(function(We){return We.in_progress}).length<B.simultaneous}(We=D||(D={}))[We.Paused=0]="Paused",We[We.Uploading=1]="Uploading",We[We.Completed=2]="Completed",We[We.Aborted=3]="Aborted";var oe=function(){function We(Me,ge){this._request=void 0,this._upload=void 0,this.state=D.Paused,this.size=void 0,this.progress=0,this._file=void 0,this._strategy=void 0,this._finalising=void 0,this._direct_upload=void 0,this._progress={},this._current_parts=[],this._pending_parts=[],this._last_part=0,this._memoization={},this._finishing=!1,this._request=Me,this._upload=ge,this._file=this._upload.file,this.size=this._file.size}var Xe=We.prototype;return Xe.start=function(){this.state<D.Uploading&&(this._finalising?this._finalise():this._start())},Xe.pause=function(){for(var Me in this._strategy&&this.state===D.Uploading&&!this._direct_upload?(this.state=D.Paused,this._request.abort(),this._pending_parts=this._currentParts(),this._current_parts=[]):this._strategy&&!this._direct_upload||(this.state=D.Paused,this._request.abort(),this._restart()),this._progress)this._progress[Me].loaded!==this._progress[Me].total&&(this._progress[Me].loaded=0);this._updateProgress()},Xe.destroy=function(){void 0!==this._strategy&&this.state<D.Completed&&(this._request.destroy(),this._restart(),this.state=D.Aborted)},Xe._restart=function(){this._strategy=void 0,this._current_parts=[],this._pending_parts=[]},Xe._makeRequest=function(Me,ge){var pe=this;return ge.data=Me.data,this._request.performSignedRequest(ge,function(Ee){return pe._onProgress(Me.part,Ee)})},Xe._nextPartIndex=function(){return this._pending_parts.length>0?this._last_part=this._pending_parts.shift():this._last_part+=1,this._current_parts.push(this._last_part),this._last_part},Xe._currentParts=function(){return this._current_parts.concat(this._pending_parts)},Xe._completePart=function(Me){this._current_parts=this._current_parts.filter(function(ge){return ge!==Me})},Xe._isComplete=function(Me){var ge=this._progress[Me]||{},pe=ge.loaded;return pe&&pe===ge.total},Xe._onProgress=function(Me,ge){this._progress[Me]=p({},ge),this._updateProgress()},Xe._onError=function(Me){console.error("Error:",Me),this.pause(),this._upload.onError(Me)},Xe._updateProgress=function(){var Me=0;for(var ge in this._progress)Me+=this._progress[ge].loaded||0;this._upload.onProgress(Me)},Xe._finalise=function(){try{var Me=this;return Me._request.updateStatus().then(function(){return Me._upload.onComplete()},function(ge){return Me._onError(ge)}),Promise.resolve()}catch(ge){return Promise.reject(ge)}},Xe._hashPart=function(Me,ge,pe){try{var Ee=this,Ge=Ee._memoization[Me],Qe=ge();return Promise.resolve(Ge?{data:Qe,md5:Ge.md5,part:Ge.part}:pe(Qe).then(function($e){return Ee._memoization[Me]=$e,{data:Qe,md5:$e.md5,part:$e.part}}))}catch($e){return Promise.reject($e)}},Xe._getPartData=function(){var Me=this,ge=this._currentParts().filter(function(Ee){return"number"==typeof Ee}),pe=[];return ge.forEach(function(Ee){var Ge=Me._memoization[""+Ee];Ge&&pe.push(Ge)}),{part_list:ge,part_data:pe}},We}(),me=function(We){function Xe(){for(var ge,pe=arguments.length,Ee=new Array(pe),Ge=0;Ge<pe;Ge++)Ee[Ge]=arguments[Ge];return(ge=We.call.apply(We,[this].concat(Ee))||this)._part_size=5242880,ge}f(Xe,We);var Me=Xe.prototype;return Me._start=function(){try{var ge=this;return Promise.resolve(function(){if(void 0===ge._strategy)return ge.state=D.Uploading,ge._strategy=null,9999*ge._part_size<ge.size&&(ge._part_size=Math.floor(ge.size/9999),ge._part_size>5368709120)?(ge._upload.cancel(),void ge._onError("file exceeds maximum size")):Promise.resolve(ge._processPart(1).catch(function(pe){return ge._onError(pe)})).then(function(pe){if(pe&&ge.state===D.Uploading)return Promise.resolve(ge._request.create({file_id:window.btoa(O(pe.md5))}).catch(function(Ee){return ge._onError(Ee)})).then(function(Ee){Ee&&(ge._strategy=Ee.type,Ee.signature&&ge._upload.setAccessUrl((Ee.signature.url||"").split("?")[0]),"direct_upload"===Ee.type?ge._direct(Ee,pe):ge._resume(Ee,pe))})});ge.state===D.Paused&&ge._resume()}())}catch(pe){return Promise.reject(pe)}},Me._processPart=function(ge){var pe=this;return this._hashPart(ge.toString(),function(){var Ee,Ge;return pe.size>pe._part_size?((Ge=ge*pe._part_size)>pe.size&&(Ge=pe.size),Ee=pe._file.slice((ge-1)*pe._part_size,Ge)):Ee=pe._file,Ee},function(Ee){return C().hash(Ee).then(function(Ge){return{md5:Ge,part:ge}})})},Me._resume=function(ge,pe){void 0===ge&&(ge=null),void 0===pe&&(pe=null);try{var Ee,Ge=this;return Promise.resolve(function(){if(ge)return function(){if("parts"!==ge.type)return Promise.resolve(Ge._request.signedRequest(ge).catch(function(Qe){Ge._restart(),Ge._onError(Qe)})).then(function(Qe){if(Qe){var $e=Qe.responseXML.getElementsByTagName("UploadId")[0].textContent;return Promise.resolve(Ge._request.updateStatus({resumable_id:$e,file_id:window.btoa(O(pe.md5)),part:1}).catch(function(tt){Ge._restart(),Ge._onError(tt)})).then(function(tt){if(tt)for(Ge._nextPartIndex(),Ge._setPart(tt,pe),Ee=1;Ee<Ge._upload.parallel;Ee+=1)Ge._nextPart()})}});for(Ge._pending_parts=ge.part_list,ge.part_data&&(Ge._memoization=ge.part_data),Ee=0;Ee<Ge._upload.parallel;Ee+=1)Ge._nextPart()}();for(Ee=0;Ee<Ge._upload.parallel;Ee+=1)Ge._nextPart()}())}catch(Qe){return Promise.reject(Qe)}},Me._generatePartManifest=function(){var ge,pe,Ee="<CompleteMultipartUpload>";for(ge=1;ge<1e4&&(pe=this._memoization[ge]);ge+=1)Ee+="<Part><PartNumber>"+ge+'</PartNumber><ETag>"'+pe.md5+'"</ETag></Part>';return Ee+"</CompleteMultipartUpload>"},Me._nextPart=function(){var ge,pe=this,Ee=this._nextPartIndex();(Ee-1)*this._part_size<this.size?this._processPart(Ee).then(function(Ge){pe.state===D.Uploading&&(ge=pe._getPartData(),pe._request.signNextChunk(Ee,window.btoa(O(Ge.md5)),ge.part_list,ge.part_data).then(function(Qe){return pe._setPart(Qe,Ge)},function(Qe){return pe._onError(Qe)}))},function(Ge){return pe._onError(Ge)}):1===this._currentParts().length&&this._currentParts()[0]===Ee?(this._finishing=!0,this._request.sign("finish").then(function(Ge){Ge.data=pe._generatePartManifest(),pe._request.signedRequest(Ge).then(function(){return pe._finalise()},function(Qe){return pe._onError(Qe)})},function(Ge){return pe._onError(Ge)})):this._finishing||(this._completePart(Ee),(ge=this._getPartData()).part_update=!0,this._request.updateStatus(ge))},Me._setPart=function(ge,pe){var Ee=this;this._makeRequest(pe,ge).then(function(){Ee._completePart(pe?.part),Ee._nextPart()},function(Ge){return Ee._onError(Ge)})},Me._direct=function(ge,pe){var Ee=this,Ge=this._makeRequest(pe,ge);this._direct_upload=!0,Ge.then(function(){return Ee._finalise()},function(Qe){return Ee._onError(Qe)})},Xe}(oe);me.lookup="AmazonS3";var he=function(We){function Xe(){for(var ge,pe=arguments.length,Ee=new Array(pe),Ge=0;Ge<pe;Ge++)Ee[Ge]=arguments[Ge];return(ge=We.call.apply(We,[this].concat(Ee))||this)._partSize=2097152,ge}f(Xe,We);var Me=Xe.prototype;return Me._start=function(){var ge=this;if(void 0===this._strategy){if(this.state=D.Uploading,this._strategy=null,5e4*this._partSize<this.size&&(this._partSize=Math.floor(this.size/5e4),this._partSize>4194304))return this._upload.cancel(),void this._onError("file exceeds maximum size of 195GB");this._processPart(1).then(function(pe){ge.state===D.Uploading&&ge._request.create({file_id:pe.md5}).then(function(Ee){ge._strategy=Ee.type,"direct_upload"===Ee.type?ge._direct(Ee,pe):ge._resume(Ee,pe)},ge._onError.bind(ge))},this._onError.bind(this))}else this.state===D.Paused&&this._resume()},Me._processPart=function(ge){var pe=this;return this._hashPart(ge.toString(),function(){var Ee,Ge;return pe.size>pe._partSize?((Ge=ge*pe._partSize)>pe.size&&(Ge=pe.size),Ee=pe._file.slice((ge-1)*pe._partSize,Ge)):Ee=pe._file,Ee},function(Ee){return C().hash(Ee).then(function(Ge){return{md5:window.btoa(O(Ge)),part:ge}})})},Me._resume=function(ge,pe){var Ee,Ge=this;if(void 0===ge&&(ge=null),void 0===pe&&(pe=null),ge)if("parts"===ge.type)for(this._pending_parts=ge.part_list,Ee=0;Ee<this._upload.parallel;Ee+=1)this._nextPart();else this._request.updateStatus({resumable_id:"n/a",file_id:pe.md5,part:1}).then(function(Qe){for(Ge._nextPartIndex(),Ge._setPart(Qe,pe),Ee=1;Ee<Ge._upload.parallel;Ee+=1)Ge._nextPart()},function(Qe){this._restart(),this._onError(Qe)});else for(Ee=0;Ee<this._upload.parallel;Ee+=1)this._nextPart()},Me._generatePartManifest=function(){for(var ge='<?xml version="1.0" encoding="utf-8"?><BlockList>',pe=0;pe<5e4&&pe*this._partSize<this.size;pe+=1)ge+="<Latest>"+window.btoa(this._pad(pe+1))+"</Latest>";return ge+"</BlockList>"},Me._pad=function(ge){for(var pe=ge.toString();pe.length<6;)pe="0"+pe;return pe},Me._nextPart=function(){var ge=this,pe=this._nextPartIndex();(pe-1)*this._partSize<this.size?this._processPart(pe).then(function(Ee){ge.state===D.Uploading&&ge._request.signNextChunk(pe,Ee.md5,ge._currentParts()).then(function(Ge){ge._setPart(Ge,Ee)},ge._onError.bind(ge))},this._onError.bind(this)):1===this._currentParts.length&&this._currentParts[0]===pe?(this._finishing=!0,this._request.sign("finish").then(function(Ee){Ee.data=ge._generatePartManifest(),ge._request.signedRequest(Ee).then(ge._finalise.bind(ge),ge._onError.bind(ge))},this._onError.bind(this))):this._finishing||(this._completePart(pe),this._request.updateStatus({part_update:!0,part_list:this._currentParts()}))},Me._setPart=function(ge,pe){var Ee=this;this._makeRequest(pe,ge).then(function(){Ee._completePart(pe.part),Ee._nextPart()},this._onError.bind(this))},Me._direct=function(ge,pe){var Ee=this,Ge=this._makeRequest(pe,ge);this._direct_upload=!0,Ge.then(function(){return Ee._finalise()},this._onError.bind(this))},Xe}(oe);he.lookup="MicrosoftAzure";var Oe=function(We){function Xe(){return We.apply(this,arguments)||this}f(Xe,We);var Me=Xe.prototype;return Me._start=function(){var ge=this;void 0!==this._strategy&&this.state!==D.Paused||(this.state=D.Uploading,this._strategy=null,this._processPart(this._file).then(function(pe){ge.state===D.Uploading&&ge._request.create({file_id:pe.md5}).then(function(Ee){ge._strategy=Ee.type,"direct_upload"===Ee.type?ge._direct(Ee,pe):ge._resume(Ee,pe)},ge._onError.bind(ge))},this._onError.bind(this)))},Me._processPart=function(ge,pe){return void 0===pe&&(pe=0),this._hashPart(pe.toString(),function(){return ge},function(Ee){return C().hash(Ee).then(function(Ge){return{md5:window.btoa(O(Ge)),part:pe}})})},Me._resume=function(ge,pe){var Ee=this;this._request.signedRequest(ge).then(function(Ge){if("status"===ge.type)if(Ge.status===ge.expected){var Qe=parseInt(Ge.getResponseHeader("Range").split("-")[1],10)+1;Ee._processPart(Ee._file.slice(Qe),Qe).then(function($e){Ee.state===D.Uploading&&Ee._request.signChunk(Qe,$e.md5).then(function(tt){Ee._performUpload(tt,$e)},Ee._onError.bind(Ee))},Ee._onError.bind(Ee))}else Ee._finalise();else Ee._request.updateStatus({resumable_id:Ee._getQueryParams(Ge.getResponseHeader("Location").split("?")[1]).upload_id,file_id:pe.md5,part:0}).then(function($e){return Ee._performUpload($e,pe)},function($e){this._restart(),this._onError($e)})},this._onError.bind(this))},Me._performUpload=function(ge,pe){var Ee=this;this._makeRequest(pe,ge).then(function(){return Ee._finalise()},this._onError.bind(this))},Me._direct=function(ge,pe){var Ee=this,Ge=this._makeRequest(pe,ge);this._direct_upload=!0,Ge.then(function(){Ee._finalise()},this._onError.bind(this))},Me._getQueryParams=function(ge){ge=ge.split("+").join(" ");for(var pe,Ee={},Ge=/[?&]?([^=]+)=([^&]*)/g;pe=Ge.exec(ge);)Ee[decodeURIComponent(pe[1])]=decodeURIComponent(pe[2]);return Ee},Xe}(oe);Oe.lookup="GoogleCloudStorage";var we=function(We){function Xe(){for(var ge,pe=arguments.length,Ee=new Array(pe),Ge=0;Ge<pe;Ge++)Ee[Ge]=arguments[Ge];return(ge=We.call.apply(We,[this].concat(Ee))||this)._partSize=2097152,ge}f(Xe,We);var Me=Xe.prototype;return Me._start=function(){var ge=this;if(void 0===this._strategy){if(this.state=D.Uploading,this._strategy=null,1e3*this._partSize<this.size&&(this._partSize=Math.floor(this.size/1e3),this._partSize>5368709120))return this._upload.cancel(),void this._onError("file exceeds maximum size");this._processPart(1).then(function(pe){ge.state===D.Uploading&&ge._request.create({file_id:pe.md5}).then(function(Ee){ge._strategy=Ee.type,"direct_upload"===Ee.type?ge._direct(Ee,pe):ge._resume(Ee,pe)},ge._onError.bind(ge))},this._onError.bind(this))}else this.state===D.Paused&&this._resume()},Me._processPart=function(ge){var pe=this;return this._hashPart(ge.toString(),function(){var Ee,Ge;return pe.size>pe._partSize?((Ge=ge*pe._partSize)>pe.size&&(Ge=pe.size),Ee=pe._file.slice((ge-1)*pe._partSize,Ge)):Ee=pe._file,Ee},function(Ee){return C().hash(Ee).then(function(Ge){return{md5:Ge,part:ge,size_bytes:Ee.size}})})},Me._resume=function(ge,pe){var Ee,Ge=this;if(void 0===ge&&(ge=null),void 0===pe&&(pe=null),ge)if("parts"===ge.type){if(this._pending_parts=ge.part_list,ge.part_data){var Qe;for(var $e in this._memoization=ge.part_data,this._memoization)this._memoization.hasOwnProperty($e)&&((Qe=this._memoization[$e]).path||this._pending_parts.push(Qe.part));this._pending_parts=this._pending_parts.sort().filter(function(tt,xt,Pt){return!xt||tt!==Pt[xt-1]})}for(Ee=0;Ee<this._upload.parallel;Ee+=1)this._nextPart()}else this._request.updateStatus({resumable_id:"n/a",file_id:pe.md5,part:1}).then(function(tt){for(Ge._nextPartIndex(),Ge._memoization[1].path=tt.path,Ge._setPart(tt,pe),Ee=1;Ee<Ge._upload.parallel;Ee+=1)Ge._nextPart()},function(tt){this._restart(),this._onError(tt)});else for(Ee=0;Ee<this._upload.parallel;Ee+=1)this._nextPart()},Me._generatePartManifest=function(){for(var ge,pe=[],Ee=1;Ee<1e4&&(ge=this._memoization[Ee]);Ee+=1)pe.push({path:ge.path,etag:ge.md5,size_bytes:ge.size_bytes});return JSON.stringify(pe)},Me._nextPart=function(){var ge,pe=this,Ee=this._nextPartIndex();(Ee-1)*this._partSize<this.size?this._processPart(Ee).then(function(Ge){pe.state===D.Uploading&&(ge=pe._getPartData(),pe._request.signNextChunk(Ee,Ge.md5,ge.part_list,ge.part_data).then(function(Qe){pe._memoization[Ee].path=Qe.path,pe._setPart(Qe,Ge)},pe._onError.bind(pe)))},this._onError.bind(this)):1===this._currentParts.length&&this._currentParts[0]===Ee?(this._finishing=!0,this._request.sign("finish").then(function(Ge){Ge.signature?(Ge.data=pe._generatePartManifest(),pe._request.signedRequest(Ge).then(pe._finalise.bind(pe),pe._onError.bind(pe))):pe._finalise()},this._onError.bind(this))):this._finishing||(this._completePart(Ee),(ge=this._getPartData()).part_update=!0,this._request.updateStatus(ge))},Me._setPart=function(ge,pe){var Ee=this;this._makeRequest(pe,ge).then(function(){Ee._completePart(pe.part),Ee._nextPart()},this._onError.bind(this))},Me._direct=function(ge,pe){var Ee=this,Ge=this._makeRequest(pe,ge);this._direct_upload=!0,Ge.then(function(){return Ee._finalise()},this._onError.bind(this))},Xe}(oe);we.lookup="OpenStackSwift"},6511:(gt,re,o)=>{"use strict";o.d(re,{Of:()=>Sn,Rx:()=>Ft,tk:()=>ie,mn:()=>me,b2:()=>_n,sM:()=>en,Ay:()=>on});var e=o(4337),n=o(9928),l=o(5286),h=o(3586),g=o(4670),p=o(8728),f=o(5006),b=o(3004);class y{constructor(be,Fe){this.keySelector=be,this.flushes=Fe}call(be,Fe){return Fe.subscribe(new R(be,this.keySelector,this.flushes))}}class R extends b.gn{constructor(be,Fe,ae){super(be),this.keySelector=Fe,this.values=new Set,ae&&this.add((0,b.tS)(ae,new b.zA(this)))}notifyNext(){this.values.clear()}notifyError(be){this._error(be)}_next(be){this.keySelector?this._useKeySelector(be):this._finalizeNext(be,be)}_useKeySelector(be){let Fe;const{destination:ae}=this;try{Fe=this.keySelector(be)}catch(ve){return void ae.error(ve)}this._finalizeNext(Fe,be)}_finalizeNext(be,Fe){const{values:ae}=this;ae.has(be)||(ae.add(be),this.destination.next(Fe))}}var m=o(416);function v(){return(v=Object.assign||function(ut){for(var be=1;be<arguments.length;be++){var Fe=arguments[be];for(var ae in Fe)Object.prototype.hasOwnProperty.call(Fe,ae)&&(ut[ae]=Fe[ae])}return ut}).apply(this,arguments)}function O(ut,be){(null==be||be>ut.length)&&(be=ut.length);for(var Fe=0,ae=new Array(be);Fe<be;Fe++)ae[Fe]=ut[Fe];return ae}function S(ut,be){var Fe=typeof Symbol<"u"&&ut[Symbol.iterator]||ut["@@iterator"];if(Fe)return(Fe=Fe.call(ut)).next.bind(Fe);if(Array.isArray(ut)||(Fe=function(ve,ze){if(ve){if("string"==typeof ve)return O(ve,void 0);var vt=Object.prototype.toString.call(ve).slice(8,-1);return"Object"===vt&&ve.constructor&&(vt=ve.constructor.name),"Map"===vt||"Set"===vt?Array.from(ve):"Arguments"===vt||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(vt)?O(ve,void 0):void 0}}(ut))||be&&ut&&"number"==typeof ut.length){Fe&&(ut=Fe);var ae=0;return function(){return ae>=ut.length?{done:!0}:{done:!1,value:ut[ae++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var P={},M={};function w(ut,be,Fe){if(void 0===Fe&&(Fe=300),!(ut&&be&&be instanceof Function))throw new Error(ut?"Cannot create named timeout without a name":"Cannot create a timeout without a callback");x(ut),P[ut]=setTimeout(function(){be(),delete P[ut]},Fe)}function x(ut){P[ut]&&(clearTimeout(P[ut]),delete P[ut])}function I(ut,be){_(ut),M[ut]=be}function _(ut){M&&M[ut]&&(M[ut]instanceof e.y?M[ut].unsubscribe():M[ut](),delete M[ut])}function C(ut,be,Fe,ae,ve,ze){if(void 0===ae&&(ae="debug"),void 0===ve&&(ve=!1),void 0===ze&&(ze="SVG VIEWER"),window.debug||ve){var vt,Ue,Pe=["color: #E91E63","color: #ffb300","color: default"];Fe?(vt=console)[ae].apply(vt,["%c["+ze+"]%c["+ut+"] %c"+be].concat(Pe,[Fe])):(Ue=console)[ae].apply(Ue,["%c["+ze+"]%c["+ut+"] %c"+be].concat(Pe))}}function D(ut){for(var be,Fe=ut.replace(/[!"#$%&'()*+,.\/;<=>?@[\\\]^`{|}~]/g,"\\$&").split(" "),ae=S(Fe);!(be=ae()).done;){var ve=be.value;Fe.splice(Fe.indexOf(ve),1,[ve.replace(/^\\/g,"")])}return Fe.join(" ")}function A(ut){return ut?ut instanceof MouseEvent?{x:ut.clientX,y:ut.clientY}:ut.touches&&ut.touches.length>0?{x:ut.touches[0].clientX,y:ut.touches[0].clientY}:{x:-1,y:-1}:{x:-1,y:-1}}function F(ut,be,Fe,ae){var ve,ze;void 0===ae&&(ae=1);var vt=null==(ve=ut.element)?void 0:ve.querySelector(".svg-viewer__svg-overlays");if(null!=(ze=ut.element)&&ze.querySelector("svg")&&vt){var Ue=Fe||vt?.getBoundingClientRect()||{};return{x:Math.max(0,Math.min(1,(be.x-Ue.left)/Ue.width*ae)),y:Math.max(0,Math.min(1,(be.y-Ue.top)/Ue.height*ae))}}return C("DOM","Unable to find SVG element",void 0,"warn"),{x:-1,y:-1}}function U(ut,be){return Math.sqrt(Math.pow(ut.x-be.x,2)+Math.pow(ut.y-be.y,2))}function G(ut,be,Fe){return{x:ut.x+(be.x-ut.x)*Fe,y:ut.y+(be.y-ut.y)*Fe}}function J(ut){if(!ut)return"";var be=v({},ut);for(var Fe in be)be[Fe]instanceof Object&&(be[Fe]=""+be[Fe]);return be}function te(ut){return ut<26?ut+65:ut<52?ut+71:ut<62?ut-4:62===ut?43:63===ut?47:65}var ne={top:0,left:0,bottom:0,right:0,height:0,width:0},K=function(){function ut(be){var Fe,ae,ve,ze,vt,Ue,Pe;if(this.id=be.id||"map-"+Math.floor(999999*Math.random()),this.url=be.url||"local-"+m.VV.hashAsciiStr(be.svg_data||""),this.element=be.element||null,this.labels=be.labels||[],this.features=be.features||[],this.actions=be.actions||[],this.styles=be.styles||{},this.svg_data=be.svg_data||"",this.content_ratio=be.content_ratio||{x:1,y:1},this.zoom=be.zoom||1,this.center={x:null!=(Fe=null==(ae=be.center)?void 0:ae.x)?Fe:.5,y:null!=(ve=null==(ze=be.center)?void 0:ze.y)?ve:.5},this.rotate=be.rotate||0,this.ratio=be.ratio||1,this.svg_ratio=be.svg_ratio||1,this.max_resolution=be.max_resolution||window.innerWidth*window.innerHeight*10,this.focus=be.focus||null,this.options=be.options||{},this.mappings=be.mappings||{},this.box={top:(be.box||ne).top,left:(be.box||ne).left,height:(be.box||ne).height,width:(be.box||ne).width},this.desired_zoom=be.desired_zoom||be.zoom||this.zoom,this.desired_center={x:(null==(vt=be.desired_center)?void 0:vt.x)||this.center.x,y:(null==(Ue=be.desired_center)?void 0:Ue.y)||this.center.y},this.updated_count=(be.updated_count||0)+1,this.zoom!==this.desired_zoom){var Ke=this.desired_zoom-this.zoom>=0?1:-1,Ie=Math.min(.05,Math.abs(this.desired_zoom-this.zoom)),Ze=Math.round(Ie/Math.abs(this.desired_zoom-this.zoom)*1e3)/1e3;this.zoom=.05===Ie?this.zoom+Ke*Ie:this.desired_zoom,this.center={x:this.center.x+(this.desired_center.x-this.center.x)*Ze,y:this.center.y+(this.desired_center.y-this.center.y)*Ze}}else if(this.desired_center.x!==this.center.x||this.desired_center.y!==this.center.y){var nt=this.desired_center.x-this.center.x>=0?1:-1,Lt=this.desired_center.y-this.center.y>=0?1:-1,jt=Math.min(.01,Math.abs(this.desired_center.x-this.center.x)),Dt=jt/Math.abs(this.desired_center.x-this.center.x)*Math.abs(this.desired_center.y-this.center.y);this.center={x:this.center.x+nt*jt,y:this.center.y+Lt*Dt}}this.needs_update=this.desired_zoom!==this.zoom||this.desired_center.x!==this.center.x||this.desired_center.y!==this.center.y,this.use_gpu=null==(Pe=be?.use_gpu)||Pe}return ut.prototype.contains=function(be){this.svg_data.includes('id="'+be+'"')},ut}(),k=new n.t([]),j=new l.B7,W=j.pipe((0,p.p)(function(ut){return"resize"===ut}));function ie(ut){return k.getValue().find(function(be){return be.id===ut})}function oe(ut,be){var Fe=Oe();if(!((ut=Fe.find(function(ve){return ve.id===(ut instanceof K?ut.id:ut)}))instanceof K))return null;delete be.url;var ae=new K(v({},ut,be));return he(ae),ae.needs_update&&w(ut.id+"_updating",function(){return oe(ae,{})},16),ae}function me(ut){return k.pipe((0,p.p)(function(be){return!!be.find(function(Fe){return Fe.id===ut})}),(0,f.T)(function(be){return be.find(function(Fe){return Fe.id===ut})}),function d(ut,be){return Fe=>Fe.lift(new y(ut,be))}())}function he(ut){var be=Oe().filter(function(Fe){return Fe.id!==ut.id});be.push(ut),k.next(be)}function Oe(){return k.getValue()}var we,We,Xe,Me,ge,pe,Ee,Ge=new n.t({}),Qe={},$e=!1,tt=!1,xt=["click","mousedown","mousemove","mouseup","touchstart","touchmove","touchend","mousewheel","wheel"],Pt=["mousedown","mousemove","mousewheel","wheel","touchstart","touchmove"],yt=!1;function Le(ut,be,Fe){if(void 0===Fe&&(Fe=we),!$e){tt=!0;var ae=ie(ut);if(ae){var ve=A(be),ze={x:Math.max(0,Math.min(1,(ve.x-Fe.x)/ae.box.width/ae.desired_zoom/ae.svg_ratio+ae.center.x)),y:Math.max(0,Math.min(1,(ve.y-Fe.y)/ae.box.height/ae.desired_zoom/ae.svg_ratio+ae.center.y))};we=ve,oe(ae,{center:ze,desired_center:ze})}}}function De(){C("INPUT","Ending pinch/pan..."),x("pan_start"),$e=!1,tt=!1,Me&&window.removeEventListener("mousemove",Me),ge&&window.removeEventListener("mouseup",ge),pe&&window.removeEventListener("touchmove",pe),Ee&&window.removeEventListener("touchend",Ee),Me=ge=pe=Ee=We=null}window.addEventListener("blur",function(){return De()});var V=function(ut){try{return Promise.resolve(new Promise(function(be){hn[ut.id]||(hn[ut.id]=[]),hn[ut.id].push(be),w("resize-"+ut.id,function(){var Fe=ut.element;if(!Fe)throw new Error("No element set on viewer");var ae=Fe.querySelector(".svg-viewer__view-container"),ve=Fe.querySelector(".svg-viewer__svg-overlays"),ze=Fe.querySelector("#"+ut.id),vt=Fe.querySelector(".svg-viewer"),Ue=Fe.querySelector(".svg-viewer__svg-output"),Pe=Fe.querySelector("iframe"),Ke=vt?.getBoundingClientRect()||{},Ie=ae?.getBoundingClientRect()||{};if(!(ve&&Ue&&Pe&&ae))throw new Error("Viewer elements not ready yet.");requestAnimationFrame(function(){try{var Ze,nt,Lt=Ke.height/Ke.width,jt=(null==(Ze=Ue.firstElementChild)||null==(nt=Ze.viewBox)?void 0:nt.baseVal)||{},Dt=jt.height/jt.width;Ue.firstElementChild&&(Ue.firstElementChild.style.width="200%");var nn=(Ke.width-32)*Math.min(1,Lt/Dt),Tt={width:nn,height:nn*Dt};ve.style.width=jt.width+"px",ve.style.height=jt.height+"px",ae.style.width=jt.width+"px",ae.style.height=jt.height+"px",Pe.style.width=jt.width+"px",Pe.style.height=jt.height+"px",Pe.width=""+jt.width,Pe.height=""+jt.height;var It=Math.min(Ke.height/jt.height,Ke.width/jt.width),Gt=ze?.getBoundingClientRect(),At=ve?.getBoundingClientRect(),tn={x:1,y:1};Gt&&At&&(tn={x:At.width*It*.975/Gt.width,y:At.height*It*.975/Gt.height}),qt[ut.id]="";var vn=oe(ut,{ratio:Tt.height/Tt.width,svg_ratio:It,box:Ie,content_ratio:tn});return vn?(ut=vn,Promise.resolve(Zt(ut).catch(function(wn){return console.warn(wn),!1})).then(function(wn){wn&&(hn[ut.id].forEach(function(ti){return ti()}),hn[ut.id]=[])})):Promise.resolve()}catch(wn){return Promise.reject(wn)}})},100)}))}catch(be){return Promise.reject(be)}},ue={},Q={},Te={},Je={},Nt={},qt={},hn={};function Zt(ut){return ue[ut.id]||(ue[ut.id]=new Promise(function(be){var Fe=requestAnimationFrame(function(){if(ue[ut.id]){var ae=ut.element;if(!ae)throw new Error("No element set on viewer");var ve=ae.querySelector("style"),ze="",vt=ae.querySelector(".svg-viewer__render-container"),Ue="scale("+ut.zoom*ut.svg_ratio+")";if(!vt||!ve)throw new Error("Viewer is not setup yet.");var Pe=100*ut.zoom*ut.svg_ratio*(ut.center.x-.5),Ke=100*ut.zoom*ut.svg_ratio*(ut.center.y-.5);vt.style.transform=(ut.use_gpu?"translate3d("+Pe+"%, "+Ke+"%, 0)":"translate("+Pe+"%, "+Ke+"%)")+" "+Ue+" rotate("+ut.rotate+"deg)",ze+="#"+ut.id+' .svg-viewer__svg-overlay-item > *:not([no-scale="true"]) { transform: rotate(-'+ut.rotate+"deg) scale("+1/ut.zoom*(1/ut.svg_ratio)+"); }",ve.innerHTML=ze+="#"+ut.id+" .svg-viewer__svg-overlay-item > * { transform: rotate(-"+ut.rotate+"deg); height: 100%; width: 100%; }",function Ie(Ze){try{if((JSON.stringify(v({},Ze.styles))||"").localeCompare(qt[Ze.id])){var nt=Ze.element;if(!nt)throw new Error("No element set on viewer");var Lt=nt.querySelector(".svg-viewer__iframe");if(!Lt)throw new Error("No iframe created for viewer");if(!Lt.contentWindow)return Lt.onload=function(){setTimeout(function(){return Ie(Ze)},50),setTimeout(function(){return Ie(Ze)},500)},Promise.resolve();var jt={};jt["[empty"+Math.floor(999999*Math.random())+"]"]={};var Dt=lt(v({},Ze.styles,jt));Lt.contentWindow.postMessage(JSON.stringify({id:"svg-styles",content:Dt}),"*")}return Promise.resolve()}catch(nn){return Promise.reject(nn)}}(ut),function(Ie){var Ze=JSON.stringify(Ie.focus);if(Ie.focus&&Ze!==Qe[Ie.id]){var nt,Lt=Math.max(.5,Math.min(10,Ie.focus.zoom_level||1));nt="string"==typeof Ie.focus.location?function B(ut,be,Fe){var ae,ve,ze=null==(ae=ut.element)?void 0:ae.querySelector(".svg-viewer__svg-overlays"),vt=null==(ve=ut.element)?void 0:ve.querySelector("svg"),Ue=vt?.querySelector("#"+D(be));if(Ue&&vt&&ze){var Pe=Fe||ze?.getBoundingClientRect()||{},Ke=Ue?.getBoundingClientRect()||{};return{x:(Ke.left+Ke.width/2-Pe.left)/Pe.width,y:(Ke.top+Ke.height/2-Pe.top)/Pe.height}}return C("DOM","Unable to find element with ID "+be,void 0,"warn"),{x:-1,y:-1}}(Ie,Ie.focus.location):Ie.focus.location,Qe[Ie.id]=Ze;var jt={x:1-nt.x,y:1-nt.y};oe(Ie,{center:jt,desired_center:jt,zoom:Lt,desired_zoom:Lt})}}(ut),ft(ut),delete ue[ut.id],cancelAnimationFrame(Fe),be()}})})),ue[ut.id]}function ft(ut){var be,Fe,ae=null==(be=ut.element)?void 0:be.querySelector("svg");if(Object.keys(ut.mappings||{}).length){var ve=null==(Fe=ut.element)?void 0:Fe.querySelector(".svg-viewer__svg-overlays");if(ve&&ae){if(!ve.getBoundingClientRect().width)return w(ut.id+"|render-overlays",function(){return ft(ut)},50);requestAnimationFrame(function(){(function(ze){var vt=ze.labels.filter(function(vn){return!vn.zoom_level||vn.zoom_level<=ze.zoom}),Ue=JSON.stringify(vt);if(Ue!==Te[ze.id]){var Pe,Ke=null==(Pe=ze.element)?void 0:Pe.querySelector(".svg-viewer__svg-overlays");if(!Ke)return;Array.from(Ke.querySelectorAll("[label]")).filter(function(vn){return vn.parentNode}).forEach(function(vn){return Ke.removeChild(vn)});for(var Ie,Ze=S(vt);!(Ie=Ze()).done;){var nt,Lt,jt,Dt=Ie.value,nn={x:0,y:0},Tt="~Nothing~";"string"==typeof Dt.location?(nn=ze.mappings[Dt.location]||nn,Tt="#"+Dt.location):(null!=(nt=Dt.location)&&nt.y||null!=(Lt=Dt.location)&&Lt.x)&&(Tt="loc-"+(nn=Dt.location).x+"-"+nn.y);var It=document.createElement("div");It.setAttribute("label","true"),It.classList.add("svg-viewer__svg-overlay-item"),It.classList.add("label"),It.style.top=100*nn.y+"%",It.style.left=100*nn.x+"%";var Gt,At=document.createElement("div"),tn=document.createElement("label");tn.classList.add("svg-viewer__label"),tn.setAttribute("for",Tt),null!=(jt=Dt.css_class)&&jt.length&&(Gt=tn.classList).add.apply(Gt,Dt.css_class),Dt.z_index&&(It.style.zIndex=""+Dt.z_index),tn.textContent=Dt.content,At.appendChild(tn),It.appendChild(At),Ke.appendChild(It)}C("RENDER","Added "+ze.labels.length+" labels to view."),Te[ze.id]=Ue}})(ut),function(ze){var vt=JSON.stringify(ze.actions.map(function(Dt){return v({},Dt,{callback:""})}));if(vt!==Nt[ze.id]){var Ue,Pe=null==(Ue=ze.element)?void 0:Ue.querySelector(".svg-viewer__svg-overlays");if(!Pe)return;Array.from(Pe.querySelectorAll(".action-zone")).filter(function(Dt){return Dt.parentNode&&Pe.contains(Dt.parentNode)}).forEach(function(Dt){return Pe.removeChild(Dt)});for(var Ke,Ie=S(ze.actions);!(Ke=Ie()).done;){var Ze=Ke.value;if(Ze.action&&Ze.id&&"*"!==Ze.id&&!1!==Ze.zone){var nt=document.createElement("button");nt.id=""+Ze.id;var Lt=ze.mappings[Ze.id]||{x:0,y:0},jt=ze.mappings[Ze.id]||{w:0,h:0};nt.classList.add("svg-viewer__svg-overlay-item"),nt.classList.add("action-zone"),nt.style.top=100*Lt.y+"%",nt.style.left=100*Lt.x+"%",(jt.w||jt.h)&&(nt.style.width=100*jt.w+"%",nt.style.height=100*jt.h+"%",nt.style.transform="translate(-50%, -50%)"),Pe.appendChild(nt)}}Nt[ze.id]=vt}}(ut),function(ze){var vt=JSON.stringify(ze.features.map(function(Gt){return v({},Gt,{content:"",data:J(Gt.data)})}));if(vt!==Je[ze.id]){var Ue,Pe=null==(Ue=ze.element)?void 0:Ue.querySelector(".svg-viewer__svg-overlays");if(!Pe)return console.log("Unable to get overlay element.");var Ke=Pe.querySelectorAll(".feature"),Ie=[];window.overlay_el=Pe,Ke.forEach(function(Gt){if(Gt.parentNode){var At=Gt.getAttribute("track-id");"none"!==At&&ze.features.find(function(tn){return tn.track_id===At})?Ie.push(Gt):Pe.removeChild(Gt)}});for(var Ze,nt=S(ze.features);!(Ze=nt()).done;){var Lt,jt,Dt=Ze.value;if(Dt.content&&!Ie.includes(Dt.content)){var nn={x:0,y:0},Tt={w:0,h:0},It=document.createElement("button");"string"==typeof Dt.location?(It.id=""+Dt.location,nn=ze.mappings[Dt.location]||nn,(Dt.hover||Dt.full_size)&&(Tt=ze.mappings[Dt.location]||Tt)):(null!=(Lt=Dt.location)&&Lt.y||null!=(jt=Dt.location)&&jt.x)&&(nn=Dt.location),(nn.x||nn.y)&&(It.classList.add("svg-viewer__svg-overlay-item"),It.setAttribute("feature","true"),It.setAttribute("track-id",""+(Dt.track_id||"none")),It.classList.add("feature"),Dt.z_index&&(It.style.zIndex=""+Dt.z_index),Dt.hover&&It.classList.add("svg-viewer__svg-overlay-item__hover"),It.style.top=100*nn.y+"%",It.style.left=100*nn.x+"%",Tt.w||Tt.h?(It.style.width=100*Tt.w+"%",It.style.height=100*Tt.h+"%"):(It.style.width="1%",It.style.height=1/ze.ratio+"%"),It.style.transform="translate(-50%, -50%)",Dt.content instanceof Node&&It.appendChild(Dt.content),Pe.appendChild(It))}}C("RENDER","Added "+ze.features.length+" features to view."),Je[ze.id]=vt}}(ut)})}}}function lt(ut){var be="";for(var Fe in ut)if(ut[Fe]){var ae="";for(var ve in ut[Fe])ut[Fe][ve]&&(ae+=ve+": "+ut[Fe][ve]+"; ");be+="svg "+Fe.split(" ").map(function(ze){return D(ze)}).join(" ")+" { "+ae+" } "}return be}I("on_resize",W.subscribe(function(){for(var ut,be=function(){var ae=ut.value;try{w("resize-"+ae.id,function(){return V(ae)})}catch(ve){console.warn(ve)}},Fe=S(Oe());!(ut=Fe()).done;)be()}));var Ft=function(ut){try{var be=function(ve){return I((Fe=new K(v({},ut,{svg_data:ve}))).id+"-render",me(Fe.id).subscribe(function(ze){return Zt(ze).catch(function(vt){return console.warn(vt)})})),he(Fe),Promise.resolve(function(ze){try{var vt,Ue,Pe=ze.element;if(!Pe)throw new Error("No element set on viewer");var Ke=document.createElement("div"),Ie=document.createElement("style"),Ze=document.createElement("div"),nt=document.createElement("div"),Lt=document.createElement("div"),jt=document.createElement("div"),Dt=document.createElement("iframe");nt.appendChild(Lt),nt.appendChild(jt),Ke.appendChild(Ie),Ke.appendChild(Ze),Ze.appendChild(nt),Ke.classList.add("svg-viewer"),Ke.id=ze.id,Ie.id=ze.id,Dt.id="svg-display",Dt.classList.add("svg-viewer__iframe"),Ze.classList.add("svg-viewer__view-container"),nt.classList.add("svg-viewer__render-container"),jt.classList.add("svg-viewer__svg-overlays"),Lt.classList.add("svg-viewer__svg-output"),Lt.id="svg-output",Lt.innerHTML=ze.svg_data;var nn=(null==(vt=Lt.firstElementChild)||null==(Ue=vt.viewBox)?void 0:Ue.baseVal)||{};Ze.style.width=nn.width+"px",Ze.style.height=nn.height+"px",jt.style.width=nn.width+"px",jt.style.height=nn.height+"px",jt.appendChild(Dt),Pe.appendChild(Ke);var Tt=Ze?.getBoundingClientRect()||{},It=oe(ze,{box:Tt});return It?(ze=It,Promise.resolve(function Gt(At){return new Promise(function(tn){requestAnimationFrame(function(){var vn,wn=null==(vn=At.element)?void 0:vn.querySelector("svg");if(!wn||!wn.clientWidth)return w(At.id+"-setup",function(){return Gt(At).then(function(Qn){return tn()})},100);var ti=Q[At.url]||function(Qn){if(!Qn)return{};var bn={},Jn=Qn?.getBoundingClientRect()||{},Cn=Qn.querySelectorAll("[id]");return Qn.id="svg-viewer-root",bn["svg-viewer-root"]={x:.5,y:.5,w:1,h:1},Cn.forEach(function(kn){var Xn=kn?.getBoundingClientRect()||{};bn[kn.id]={x:Math.floor((Xn.left+Xn.width/2-Jn.left)/Jn.width*1e5)/1e5,y:Math.floor((Xn.top+Xn.height/2-Jn.top)/Jn.height*1e5)/1e5,w:Math.floor(Xn.width/Jn.width*1e5)/1e5,h:Math.floor(Xn.height/Jn.height*1e5)/1e5}}),bn}(wn);Q[At.url]=ti,oe(At,{mappings:ti}),wn.style.display="none",function(Qn){try{var bn=JSON.stringify(v({},Qn.styles))||"";if(bn.localeCompare(qt[Qn.id])){var Jn,Cn,kn=Qn.element;if(!kn)throw new Error("No element set on viewer");var Xn=kn.querySelector(".svg-viewer__iframe"),to=kn.querySelector(".svg-viewer__svg-output");if(!Xn)throw new Error("No iframe created for viewer");var Si=(null==(Jn=to.firstElementChild)||null==(Cn=Jn.viewBox)?void 0:Cn.baseVal)||{},Vn=""+Qn.svg_data;Vn=/<svg[^>]*width="[^>]*>/.test(Vn)?Vn:Vn.replace("<svg",'<svg width="'+Si.width+'" height="'+Si.height+'" ');var ni=function(ci){for(var ht=2,st="",kt=ci.length,xe=0,Mt=0;Mt<kt;Mt++)Mt>0&&4*Mt/3%76==0&&(st+="\r\n"),xe|=ci[Mt]<<(16>>>(ht=Mt%3)&24),2!==ht&&ci.length-Mt!=1||(st+=String.fromCodePoint(te(xe>>>18&63),te(xe>>>12&63),te(xe>>>6&63),te(63&xe)),xe=0);return st.substr(0,st.length-2+ht)+(2===ht?"":1===ht?"=":"==")}(function(ci){for(var ht,st,kt=ci.length,xe=0,Mt=0;Mt<kt;Mt++){var Z;(st=null!=(Z=ci.codePointAt(Mt))?Z:0)>65536&&Mt++,xe+=st<128?1:st<2048?2:st<65536?3:st<2097152?4:st<67108864?5:6}ht=new Uint8Array(xe);for(var Ae=0,Ve=0;Ae<xe;Ve++){var _t;(st=null!=(_t=ci.codePointAt(Ve))?_t:0)<128?ht[Ae++]=st:st<2048?(ht[Ae++]=192+(st>>>6),ht[Ae++]=128+(63&st)):st<65536?(ht[Ae++]=224+(st>>>12),ht[Ae++]=128+(st>>>6&63),ht[Ae++]=128+(63&st)):st<2097152?(ht[Ae++]=240+(st>>>18),ht[Ae++]=128+(st>>>12&63),ht[Ae++]=128+(st>>>6&63),ht[Ae++]=128+(63&st),Ve++):st<67108864?(ht[Ae++]=248+(st>>>24),ht[Ae++]=128+(st>>>18&63),ht[Ae++]=128+(st>>>12&63),ht[Ae++]=128+(st>>>6&63),ht[Ae++]=128+(63&st),Ve++):(ht[Ae++]=252+(st>>>30),ht[Ae++]=128+(st>>>24&63),ht[Ae++]=128+(st>>>18&63),ht[Ae++]=128+(st>>>12&63),ht[Ae++]=128+(st>>>6&63),ht[Ae++]=128+(63&st),Ve++)}return ht}('<html><head><style>*{overflow:hidden;}html,body{padding:0;margin:0;}</style><style id="style">'+lt(v({},Qn.styles,{}))+"</style>\n<script>\n    function updateStyles(evt) {\n        try {\n            var message = JSON.parse(evt.data);\n            if (message.id === 'svg-styles') {\n                const style_el = document.getElementById('style');\n                style_el.innerHTML = message.content;\n            }\n        } catch(e) {}\n    }\n\n    if (window.addEventListener) {\n        window.addEventListener(\"message\", updateStyles, false);\n    } else {\n        window.attachEvent(\"onmessage\", updateStyles);\n    }\n<\/script></head><body>"+Vn+"</body></html>"));Xn.src="data:text/html;base64,"+ni,qt[Qn.id]=bn}Promise.resolve()}catch(ci){return Promise.reject(ci)}}(At),ft(At),tn()})})}(ze)).then(function(){(function(Gt,At){void 0===At&&(At=xt);var tn=Ge.getValue(),vn=Gt.element;tn[Gt.id]&&tn[Gt.id].unsubscribe();for(var wn,ti=[],Qn=function(){var Jn=wn.value;ti.push((0,h.R)(vn,Jn).pipe((0,f.T)(function(Cn){return{id:Gt.id,type:Jn,event:Cn}})))},bn=S(At);!(wn=bn()).done;)Qn();tn[Gt.id]=g.h.apply(void 0,ti).subscribe(function(Jn){var Cn,Vn,ni,kn=Jn.id,Xn=Jn.type,to=Jn.event;switch(Pt.includes(Xn)&&to.preventDefault(),function(Si){var Vn,ni=Si.type,ci=Si.event,ht=ie(Si.id);if(ht&&null!=(Vn=ht.actions)&&Vn.length){var st=ht.actions.sort(function(kt,xe){return(xe.priority||0)-(kt.priority||0)}).find(function(kt){var xe;return kt.action.includes(ni)&&("*"===kt.id||kt.id===(null==(xe=ci.target)?void 0:xe.id))});st&&st.callback(ci,F(ht,A(ci)))}}(Jn),Xn){case"touchstart":case"mousedown":(null==(Cn=to.touches)?void 0:Cn.length)>=2?function(Si,Vn){C("INPUT","Starting pinching..."),pe&&window.removeEventListener("touchmove",pe);var ni=ie(Si);if($e=!0,ni&&!ni.options.disable_zoom){var ci=[{x:Vn.touches[0].clientX,y:Vn.touches[0].clientY},{x:Vn.touches[1].clientX,y:Vn.touches[1].clientY}],ht=ci.map(function(kt){return F(ni,kt)}),st={x:(ht[0].x+ht[1].x)/2,y:(ht[0].y+ht[1].y)/2};We={x:1-st.x,y:1-st.y},Xe=U(ci[0],ci[1]),Vn instanceof MouseEvent||(pe=function(kt){return kt.touches.length>=2?function(xe,Mt,Z){void 0===Z&&(Z=Xe);var Ae=ie(xe);if(Ae&&!Ae.options.disable_zoom){var Ve=[{x:Mt.touches[0].clientX,y:Mt.touches[0].clientY},{x:Mt.touches[1].clientX,y:Mt.touches[1].clientY}],_t=U(Ve[0],Ve[1]),Qt=Math.max(.5,Math.min(10,Ae.zoom*_t/Z)),Pn=Qt!=Ae.zoom?G(Ae.center,We,1-Ae.zoom/Qt):Ae.center;Xe=_t,oe(Ae,{zoom:Qt,center:Pn,desired_zoom:Qt,desired_center:Pn})}}(Si,kt,Xe):""},window.addEventListener("touchmove",pe))}}(kn,to):function(Si,Vn){if(!$e){C("INPUT","Starting panning...");var ni=ie(Si);Me&&window.removeEventListener("mousemove",Me),Me&&window.removeEventListener("mouseup",ge),pe&&window.removeEventListener("touchmove",pe),pe&&window.removeEventListener("touchend",Ee),ni&&!ni.options.disable_pan&&(we=A(Vn),Vn instanceof MouseEvent?(Me=function(ci){return Le(Si,ci,we)},ge=function(){return De()},window.addEventListener("mousemove",Me),window.addEventListener("mouseup",ge)):(pe=function(ci){return Le(Si,ci,we)},Ee=function(){return De()},window.addEventListener("touchmove",pe),window.addEventListener("touchend",Ee)),w("pan_start",function(){return tt=!0},200))}}(kn,to);break;case"touchend":case"mouseup":tt||$e||(Vn=to,(ni=ie(kn))&&C("INPUT","Clicked:",F(ni,A(Vn)))),De();break;case"mousewheel":case"wheel":!function(Si,Vn){var ni=ie(Si);if(ni){var ci=Math.min(10,Math.max(.5,ni.zoom*(1+(Vn.deltaY>=0?-.02:.02)))),ht=F(ni,A(Vn));We={x:1-ht.x,y:1-ht.y},w("clear_action_start",function(){return We=null});var st=ci!=ni.zoom?G(ni.center,We,1-ni.zoom/ci):ni.center;oe(ni,{zoom:ci,center:st,desired_zoom:ci,desired_center:st})}}(kn,to)}}),Ge.next(tn)})(ze),yt||(window.addEventListener("resize",function(){j.next("resize")}),window.addEventListener("blur",function(){return De()}),yt=!0),V(ze)})):Promise.resolve()}catch(Gt){return Promise.reject(Gt)}}(Fe)).then(function(){return Fe.id})},Fe=Oe().find(function(ve){return ve.url===ut.url});if(Fe)return Promise.resolve(Fe.id);var ae=ut.svg_data;return Promise.resolve(ae?be(ae):Promise.resolve(function(ve){void 0===ve&&(ve="");try{var ze=new Headers;if(ve.startsWith(location.origin)||ve.startsWith("/"))for(var vt in Wt)ze.append(vt,Wt[vt]);return Ct[ve]?Promise.resolve(Ct[ve]):Promise.resolve(fetch(ve,{headers:ze}).catch(function(Ue){return C("SVG VIEWER","Failed to load map",Ue,"error"),{text:function(){return Promise.resolve("")}}})).then(function(Ue){return Promise.resolve(Ue.text()).then(function(Pe){return Ct[ve]=Pe,Pe})})}catch(Ue){return Promise.reject(Ue)}}(ut.url)).then(be))}catch(ve){return Promise.reject(ve)}},Ct={},Wt={};function en(ut){for(var be in ut)Wt[be.toLowerCase()]=ut[be]}function on(ut,be){return oe(ut,be)}function _n(ut){var be,Fe=ie(ut);if(Fe){var ae,ve,ze,vt=null==(be=Fe.element)?void 0:be.querySelector(".svg-viewer");vt&&(Fe.element.removeChild(vt),ae=Fe,ve=Oe().filter(function(Ue){return Ue.id!==ae.id}),k.next(ve),ze=""+ut,Object.keys(M).filter(function(Ue){return Ue.includes(ze)}).forEach(function(Ue){return _(Ue)}))}}function Sn(){var ut=document.getElementById("svg-viewer-global");ut||((ut=document.createElement("style")).id="svg-viewer-global",ut.innerHTML=Zn,document.head.appendChild(ut),C("Styles","Added global viewer styles to document"))}var Zn="\n    .svg-viewer {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        overflow: hidden;\n    }\n    .svg-viewer__view-container {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n    }\n\n    .svg-viewer__render-container {\n        position: absolute;\n        top: 0%;\n        left: 0%;\n        right: 0%;\n        bottom: 0%;\n        transform-box: fill-box;\n    }\n\n    .svg-viewer__svg-output {\n        position: absolute;\n        top: -100%;\n        left: -100%;\n        right: -100%;\n        bottom: -100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transform: translateZ(0);\n        pointer-events: none;\n    }\n\n    .svg-viewer__svg-output svg {\n        opacity: 0;\n        height: auto;\n        max-width: 200%;\n        max-height: 200%;\n        width: 2000px;\n    }\n\n    .svg-viewer__svg-overlays {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        pointer-events: none;\n    }\n\n    .svg-viewer__label {\n        text-shadow: black 1px 1px;\n        color: white;\n        white-space: pre-line;\n        text-align: center;\n        min-width: 10em;\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        z-index: 1\n    }\n\n    .svg-viewer__svg-overlay-item {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        height: 0.1%;\n        width: 0.1%;\n        position: absolute;\n        transform-origin: center;\n    }\n\n    .svg-viewer__svg-overlay-item > * {\n        will-change: transform;\n    }\n\n    .svg-viewer__svg-overlay-item__hover {\n        pointer-events: auto;\n    }\n\n    .svg-viewer__svg-overlay-item__hover > * {\n        display: none;\n    }\n\n    .svg-viewer__svg-overlay-item__hover:hover > * {\n        display: initial;\n    }\n\n    .svg-viewer__svg-overlay-item.action-zone {\n        pointer-events: auto;\n        background: none;\n        outline: none;\n        border: none;\n    }\n"},5157:(gt,re,o)=>{"use strict";function m(Y,ee,Be,ct){return new(Be||(Be=Promise))(function(zt,un){function In(jn){try{On(ct.next(jn))}catch(Zi){un(Zi)}}function ai(jn){try{On(ct.throw(jn))}catch(Zi){un(Zi)}}function On(jn){jn.done?zt(jn.value):function Bt(zt){return zt instanceof Be?zt:new Be(function(un){un(zt)})}(jn.value).then(In,ai)}On((ct=ct.apply(Y,ee||[])).next())})}o.d(re,{cor:()=>Cs,Pdm:()=>Gi,kMc:()=>Pr,Kz4:()=>xi,kup:()=>ko,jv5:()=>Ie,L2z:()=>vi,omv:()=>ve,yHY:()=>Zs,JtY:()=>qo,f_4:()=>d_,XTx:()=>Ia,vWy:()=>cr,TMs:()=>no,sc7:()=>Sr,WsZ:()=>Ci,rig:()=>qa,XYg:()=>ar,F6F:()=>es,bEY:()=>As,yJg:()=>Gs,smE:()=>Zf,BbB:()=>fn,Kfl:()=>rn,n1$:()=>Ch,smM:()=>ir,Be_:()=>zo,BCG:()=>Bi,mjH:()=>Sa,bpY:()=>dn,V4n:()=>pn,VLL:()=>kc,ShT:()=>Kn,D58:()=>Tn,TKu:()=>t_}),"function"==typeof SuppressedError&&SuppressedError;var W=o(4526),ie=o(4421),Te=o(5817),Je=o(4337),Nt=o(4787);function qt(Y,ee={}){const{selector:Be}=ee,ct=function he(Y,ee){var Be={};for(var ct in Y)Object.prototype.hasOwnProperty.call(Y,ct)&&ee.indexOf(ct)<0&&(Be[ct]=Y[ct]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var Bt=0;for(ct=Object.getOwnPropertySymbols(Y);Bt<ct.length;Bt++)ee.indexOf(ct[Bt])<0&&Object.prototype.propertyIsEnumerable.call(Y,ct[Bt])&&(Be[ct[Bt]]=Y[ct[Bt]])}return Be}(ee,["selector"]);return new Te.c(Bt=>{const zt=new AbortController,un=zt.signal;let In=!0,ai=!1;const On=new Je.y;let jn;if(On.add(()=>{ai=!0,In&&zt.abort()}),ct){if(ct.signal)if(ct.signal.aborted)zt.abort();else{const Zi=ct.signal,Eo=()=>{un.aborted||zt.abort()};Zi.addEventListener("abort",Eo),On.add(()=>Zi.removeEventListener("abort",Eo))}jn=Object.assign({},ct,{signal:un})}else jn={signal:un};return fetch(Y,jn).then(Zi=>{Be?On.add((0,Nt.H)(Be(Zi)).subscribe(Eo=>Bt.next(Eo),Eo=>{In=!1,ai||Bt.error(Eo)},()=>{In=!1,Bt.complete()})):(In=!1,Bt.next(Zi),Bt.complete())}).catch(Zi=>{In=!1,ai||Bt.error(Zi)}),On})}var hn=o(8728),wt=o(9493),Zt=o(9090),ft=o(5286),lt=o(3004);class Ct{constructor(ee,Be){this.notifier=ee,this.source=Be}call(ee,Be){return Be.subscribe(new Wt(ee,this.notifier,this.source))}}class Wt extends lt.gn{constructor(ee,Be,ct){super(ee),this.notifier=Be,this.source=ct}error(ee){if(!this.isStopped){let Be=this.errors,ct=this.retries,Bt=this.retriesSubscription;if(ct)this.errors=void 0,this.retriesSubscription=void 0;else{Be=new ft.B7;try{const{notifier:zt}=this;ct=zt(Be)}catch(zt){return super.error(zt)}Bt=(0,lt.tS)(ct,new lt.zA(this))}this._unsubscribeAndRecycle(),this.errors=Be,this.retries=ct,this.retriesSubscription=Bt,Be.next(ee)}}_unsubscribe(){const{errors:ee,retriesSubscription:Be}=this;ee&&(ee.unsubscribe(),this.errors=void 0),Be&&(Be.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:ee}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=ee,this.source.subscribe(this)}}var en=o(8456),on=o(993),_n=o(1299),Sn=o(9928),Zn=o(5006),ut=o(416);function be(Y,ee,Be,ct="debug",Bt){if(window.debug){const un=["color: #0288D1",`color:${Bt||"#009688"}`,"color: default"];Be?Fe()?console[ct](`%c[PlaceOS]%c[${Y}] %c${ee}`,...un,Be):console[ct](`[PlaceOS][${Y}] ${ee}`,Be):Fe()?console[ct](`%c[PlaceOS]%c[${Y}] %c${ee}`,...un):console[ct](`[PlaceOS][${Y}] ${ee}`)}}function Fe(){return!(document.documentMode||/Edge/.test(navigator.userAgent))}function ae(){var Y,ee,Be,ct,Bt,zt;const un=null!==(Y=window.location)&&void 0!==Y&&Y.hash?null===(ee=window.location)||void 0===ee?void 0:ee.hash.slice(1):(null===(Be=window.location)||void 0===Be?void 0:Be.href.split("#")[1])||"";let In=null!==(ct=window.location)&&void 0!==ct&&ct.search?null===(Bt=window.location)||void 0===Bt?void 0:Bt.search.slice(1):(null===(zt=window.location)||void 0===zt?void 0:zt.href.split("?")[1])||"",ai={};if(un)if(un.indexOf("?")>=0){const jn=un.split("?");ai=ve(jn[0]),In||(In=jn[1])}else ai=ve(un);let On={};return In&&(On=ve(In)),Object.assign(Object.assign({},ai),On)}function ve(Y){const ee={},Be=Y.split("&");for(const ct of Be){const Bt=ct.split("=");Bt[1]&&(ee[decodeURIComponent(Bt[0])]=decodeURIComponent(Bt[1]))}return ee}const ze="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function Ue(Y){var ee,Be,ct,Bt,zt;const un=((null===(ee=window.location)||void 0===ee?void 0:ee.hash)||"").replace(new RegExp(`${Y}[a-zA-Z0-9_+-.%=]*&?`,"g"),"").replace(/&&/g,"&").replace(/#&/g,"#").replace(/&$/g,"#"),In=((null===(Be=window.location)||void 0===Be?void 0:Be.search)||"").replace(new RegExp(`${Y}[a-zA-Z0-9_+-.%=]*&?`,"g"),"").replace(/&&/g,"&").replace(/\?&/g,"#").replace(/&$/g,"#");null!==(ct=window.history)&&void 0!==ct&&ct.replaceState&&(null===(Bt=window.history)||void 0===Bt||Bt.replaceState(null,"",`${null===(zt=window.location)||void 0===zt?void 0:zt.pathname}${un}${In}`))}function Ie(Y,ee){for(const Be in Y)Y.hasOwnProperty(Be)&&ee.indexOf(Y[Be])>=0&&delete Y[Be];return Y}class jt{abort(){be("Stub","Aborted")}}function Dt(Y){let ee="";if(Y)for(const Be in Y)Y.hasOwnProperty(Be)&&null!=Y[Be]&&(ee+=`${ee?"&":""}${Be}=${encodeURIComponent(Y[Be])}`);return ee}const nn={};function At(Y,ee,Be=300){if(!(Y&&ee&&ee instanceof Function))throw new Error(Y?"Cannot create named timeout without a name":"Cannot create a timeout without a callback");tn(Y),nn[Y]=setTimeout(()=>{ee(),delete nn[Y]},Be)}function tn(Y){nn[Y]&&(clearTimeout(nn[Y]),delete nn[Y])}const bn={id:"mock-authority",name:"localhost:4200",description:"",domain:"localhost:4200",login_url:"/login?continue={{url}}",logout_url:"/logout",session:!0,production:!1,config:{},version:"2.0.0"};var Jn=o(6299),Cn=o(3368),kn=o(9255),Xn=o(1113);let ni,ci,Vn={};const ht={};let st="",kt="";const xe=new Sn.t(""),Mt=new Sn.t("");let Z="/api/engine/v2";const Ae=new Sn.t(!1),Ve=Ae.asObservable();let _t=0;function Qt(){var Y,ee;return`${Vn.secure||(null===(Y=window.location)||void 0===Y?void 0:Y.protocol.indexOf("https"))>=0?"https:":"http:"}//${Vn.host||(null===(ee=window.location)||void 0===ee?void 0:ee.host)}${Pn()}`}function Pn(){return"ACA Engine"===Vn.version?"/control/api":Z}function vi(){return st}function Bi(Y,ee=!0){ni.setItem(`${st}_x-api-key`,`${Y}`),ni.setItem("trusted",`${ee}`),function Hi(Y,ee=(0,Cn.L)(new Date,2).valueOf()){Vn.ignore_api_key&&"x-api-key"===Y||(ni.setItem(`${st}_expires_at`,`${ee}`),ni.setItem(`${st}_access_token`,Y))}("x-api-key",(0,Jn.e)(new Date,5).valueOf())}function xi(){return Da("x-api-key",!1)||""}function Kn(Y=!0){if(Vn.mock)return"mock-token";if(!ni)return"";if(xi()&&!Vn.ignore_api_key)return"x-api-key";const ee=ni.getItem(`${st}_expires_at`)||"",Be=xe.getValue();return(0,kn.Y)(+ee,new Date)&&(be("Auth","Token expired. Requesting new token..."),Ia(),ht.load_authority||(_t+=1,At("re-authorise",()=>Za().catch(ct=>be("Auth",`Failed to get token: ${ct}`)),200*Math.min(20,_t))),!Y)?"":Be||ni.getItem(`${st}_access_token`)||""}function zo(){return Mt.getValue()||ni.getItem(`${st}_refresh_token`)||""}function Pi(){var Y;return Vn.host||(null===(Y=window.location)||void 0===Y?void 0:Y.host)}function ko(){return ci}function Sr(){return Ae.getValue()}function no(){return!!Vn.mock}function ar(){return Ve}function lr(){return"true"===Da("trust")||"true"===Da("trusted")}function cr(){return!!xi()&&!Vn.ignore_api_key||"true"===Da("fixed_device")}function Da(Y,ee=!0){let ct=ae()[Y];if(ni){const Bt=`${vi()}_${Y}`;ct=ct||ni.getItem(Bt)||ni.getItem(Y)||"",ee&&ni.setItem(Bt,`${ct}`)}return ct}function Sa(Y){var ee;return Vn=Y||Vn,Vn.token_header=null!==(ee=Vn.token_header)&&void 0!==ee?ee:function nt(){return window.location!==window.parent.location}(),window.AbortController||(window.AbortController=jt),ni="session"===Vn.storage?sessionStorage:localStorage,st=ut.VV.hashStr(Vn.redirect_uri,!1),Oa()}function Ja(){return be("Auth","Refreshing authorty."),ci=void 0,Oa()}function Ia(){be("Auth","Invalidating tokens."),ni.removeItem(`${st}_access_token`),ni.removeItem(`${st}_expires_at`),xe.getValue()&&xe.next("")}function Za(Y,ee=ci){return ht.authorise||(ht.authorise=new Promise((Be,ct)=>{if(!ee)return delete ht.authorise,ct("Authority is not loaded");be("Auth","Authorising user...");const Bt=()=>{if(Kn(!1))be("Auth","Valid token found."),delete ht.authorise,Be(Kn());else{const zt=[()=>{be("Auth","Successfully generated token."),Be(Kn()),delete ht.authorise},()=>{be("Auth","Failed to generate token."),ct("Failed to generate token"),setTimeout(()=>delete ht.authorise,200)}];Vn&&"password"===Vn.auth_type?(be("Auth","Logging in with credentials."),function Kr(Y){return sa(function as(Y){return`${Y.token_uri||"/auth/token"}?${Dt({grant_type:"password",client_id:st,client_secret:Y.client_secret,redirect_uri:Y.redirect_uri,authority:ci?.id,scope:Y.scope,username:Y.username,password:Y.password})}`}(Y))}(Vn).then(...zt),_t=0):kt||zo()?(be("Auth","Generating token with "+(kt?"code":"refresh token")),ur().then(...zt),_t=0):ee.session?(be("Auth","Users has session. Authorising application..."),function dr(Y){return m(this,void 0,void 0,function*(){var ee;const Be=function gs(Y){const ee=function ra(){const Y=function vt(Y=40){let ee="";for(let Be=0;Be<Y;Be++)ee+=ze.charAt(Math.floor(Math.random()*ze.length));return ee}();return ni.setItem(`${st}_nonce`,Y),Y}();Y=Y?`${ee};${Y}`:ee;const Be=!!Vn&&(Vn.auth_uri||"").indexOf("?")>=0,ct=(Vn?Vn.auth_uri:null)||"/auth/oauth/authorize",Bt=lr()||"auth_code"===Vn.auth_type?"code":"token";let zt=`${ct}${Be?"&":"?"}response_type=${encodeURIComponent(Bt)}&client_id=${encodeURIComponent(st)}&state=${encodeURIComponent(Y)}&redirect_uri=${encodeURIComponent(Vn.redirect_uri)}&scope=${encodeURIComponent(Vn.scope)}`;if("auth_code"===Vn.auth_type){const{challenge:un,verify:In}=function Rs(Y=43){const ee=new Array(Y).fill(0).map(()=>Us[Math.floor(Math.random()*Us.length)]).join(""),Be=on.Kp(on.Cw(ee));return{challenge:ee,verify:on.if(_n.hash(Be)).split("=")[0].replace(/\//g,"_").replace(/\+/g,"-")}}();sessionStorage.setItem(`${st}_challenge`,un),zt+="&code_challenge_method=S256",zt+=`&code_challenge=${In}`}return zt}(Y);if(Vn.use_iframe)return function yl(Y){return ht.iframe_auth||(ht.iframe_auth=new Promise((ee,Be)=>{be("Auth","Authorizing in an iFrame...");const ct=document.createElement("iframe");ct.style.position="absolute",ct.style.top="0",ct.style.left="0",ct.style.height="1px",ct.style.width="1px",ct.style.zIndex="-1",ct.id="place-authorize",ct.src=`${Y}`;const Bt=zt=>{var un;if(zt.origin===(null===(un=window.location)||void 0===un?void 0:un.origin)&&"place-os"===zt.data.type){const In=zt.data;if(be("Auth","Received credentials from iFrame..."),document.body.removeChild(ct),tn("iframe_auth"),window.removeEventListener("message",Bt),delete ht.iframe_auth,In.token)return ee(),Vs(Object.assign({access_token:In.token},In));kt=In.code||"",ur().then(ai=>ee(ai),ai=>Be(ai))}};At("iframe_auth",()=>{be("Auth","Unable to resolve iFrame after 15 seconds..."),Be()},15e3),window.addEventListener("message",Bt),ct.onerror=zt=>{be("Auth","iFrame error.",zt),delete ht.iframe_auth,Be()},document.body.appendChild(ct)})),ht.iframe_auth}(Be);null===(ee=window.location)||void 0===ee||ee.assign(Be)})}(Y).then(...zt)):(be("Auth","No user session"),xa(ee),ct("No user session"),setTimeout(()=>delete ht.authorise,200))}};(function Ys(){return ht.check_token||(ht.check_token=new Promise((Y,ee)=>m(this,void 0,void 0,function*(){Kn()?(be("Auth","Valid token found."),Y(Kn())):(be("Auth","No token. Checking URL for auth credentials..."),(yield function Po(){return ht.check_params||(ht.check_params=new Promise(Y=>{be("Auth","Checking for auth parameters...");let ee=ae();if((!ee||Object.keys(ee).length<=0)&&sessionStorage&&(ee=JSON.parse(sessionStorage.getItem("ENGINE.auth.params")||"{}")),ee&&(ee.code||ee.access_token||ee.refresh_token)){ee.code&&(kt=ee.code,Ue("code")),ee.refresh_token&&(ni.setItem(`${st}_refresh_token`,ee.refresh_token),Ue("refresh_token"));const Be=ni.getItem(`${st}_nonce`)||"",ct=(ee.state||"").split(";");Ue("state"),Ue("token_type"),Be===ct[0]?(Vs(ee),Y(!!ee.access_token)):Y(!1)}else Y(!1);At("check_params_promise",()=>delete ht.check_params,50)})),ht.check_params}())?Y(!0):ee()),delete ht.check_token}))),ht.check_token})().then(Bt,Bt)})),ht.authorise}function qa(){const Y=()=>{for(let Be=0;Be<ni.length;Be++){const ct=ni.key(Be);ct&&ct.indexOf(st)>=0&&ni.removeItem(ct)}const ee=ci?ci.logout_url:"/logout";setTimeout(()=>{var Be;return null===(Be=window.location)||void 0===Be?void 0:Be.assign(ee)},300),Ae.next(!1)};(function vs(){return ht.revoke_token||(ht.revoke_token=new Promise((Y,ee)=>{be("Auth","Revoking token...");const ct=Bt=>{be("Auth","Error revoking token.",Bt),ee(Bt),delete ht.revoke_token};qt(`${Vn.token_uri||"/auth/token"}?token=${Kn()}`,{method:"POST"}).subscribe(Bt=>{if(!Bt.ok)return ct(Bt);be("Auth","Successfully revoked token."),xe.next(""),Mt.next(""),ni.removeItem(`${st}_access_token`),ni.removeItem(`${st}_refresh_token`),Y(),delete ht.revoke_token},ct)})),ht.revoke_token})().then(Y,Y)}function Oa(Y=0){return ht.load_authority||(ht.load_authority=new Promise(ee=>{var Be;if(Ae.next(!1),Vn.mock)return ci=bn,be("Auth","System in mock mode"),Ae.next(!0),void ee();be("Auth",`Fixed: ${cr()} | Trusted: ${lr()}`),be("Auth","Loading authority...");const ct=Vn.secure||(null===(Be=window.location)||void 0===Be?void 0:Be.protocol.indexOf("https"))>=0,Bt=zt=>{be("Auth",`Failed to load authority(${zt})`),Ae.next(!1),At("load_authority",()=>{delete ht.load_authority,Oa(Y).then(un=>ee())},300*Math.min(20,++Y))};qt(`${ct?"https:":"http:"}//${Pi()}/auth/authority`,{credentials:"same-origin"}).subscribe(zt=>m(this,void 0,void 0,function*(){if(!zt.ok)return Bt(yield zt.text().catch(In=>In));ci=yield zt.json(),Z=/[2-9]\.[0-9]+\.[0-9]+/g.test(ci.version||"")?"/api/engine/v2":"/control/api",be("Auth","Loaded authority.",[],"group"),ci&&(be("Auth",`Name: ${ci.name}`),be("Auth",`Version: ${ci.version}`),be("Auth",`Domain: ${ci.domain}`),be("Auth",`Session: ${ci.session}`),be("Auth",`Production: ${ci.production}`),be("Auth",`Config Keys: ${Object.keys(ci.config||{}).length}`)),be("Auth","",[],"groupEnd");const un=()=>{Ae.next(!0),be("Auth","Application set online."),ee()};delete ht.load_authority,Za("").then(un,un)}),Bt)})),ht.load_authority}let Xo=!1;function xa(Y){var ee,Be;if(!1!==Vn.handle_login&&!Xo){be("Auth","Redirecting to login page...");const ct=null===(ee=Y.login_url)||void 0===ee?void 0:ee.replace("{{url}}",encodeURIComponent(null===(Be=window.location)||void 0===Be?void 0:Be.href));throw setTimeout(()=>{var Bt;return null===(Bt=window.location)||void 0===Bt?void 0:Bt.assign(ct)},300),Xo=!0,new Error("Redirecting to login page...")}be("Auth","Login being handled locally."),delete ht.authorise}const Us="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".split("");function ur(){return sa(...function Ir(){let ee=(Vn.token_uri||"/auth/token")+`?client_id=${encodeURIComponent(st)}`,Be="";if(ee+=`&redirect_uri=${encodeURIComponent(Vn.redirect_uri)}`,zo()){ee+=`&refresh_token=${encodeURIComponent(zo())}`,ee+="&grant_type=refresh_token";const ct=ee.split("?");ee=ct[0],Be=ct[1]}else{ee+=`&code=${encodeURIComponent(kt)}`,ee+="&grant_type=authorization_code";const ct=sessionStorage.getItem(`${st}_challenge`);ct&&(ee+=`&code_verifier=${ct}`,sessionStorage.removeItem(`${st}_challenge`)),kt=""}return[ee,Be]}())}function sa(Y,ee=""){return ht.generate_tokens||(ht.generate_tokens=new Promise((Be,ct)=>{be("Auth","Generating new token...");const Bt=zt=>{be("Auth","Error generating new tokens.",zt),ni.removeItem(`${st}_refresh_token`),Mt.next(""),ct(),delete ht.generate_tokens};qt(Y,{method:"POST",body:ee,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).subscribe(zt=>m(this,void 0,void 0,function*(){if(!zt.ok)return Bt(zt);Vs(yield zt.json()),Be(),delete ht.generate_tokens}),Bt)})),ht.generate_tokens}function Vs(Y){const ee=function to(Y,ee){return(0,Xn.A)(Y,1e3*ee)}(new Date,Math.max(60,parseInt(Y.expires_in,10)-300));be("Auth","Tokens generated storing..."),lr()&&(Y.access_token&&(ni.setItem(`${st}_access_token`,Y.access_token),Ue("access_token")),Y.refresh_token&&(ni.setItem(`${st}_refresh_token`,Y.refresh_token),Ue("refresh_token"))),Y.expires_in&&(ni.setItem(`${st}_expires_at`,`${ee.valueOf()}`),Ue("expires_in")),Ae.next(!0),xe.next(Y.access_token||""),Mt.next(Y.refresh_token||"")}var Or=o(8002);const hr={};function zr(Y,ee,Be,ct=hr){const Bt=function zn(Y,ee,Be=hr){const Bt=ee.replace(/(http|https)?:\/\/[a-zA-Z0-9.]*:?([0-9]*)?/g,"").replace(/^\//,"").split("?")[0].split("/"),zt=Object.keys(Be).reduce((un,In)=>(0===In.indexOf(`${Y}|`)&&un.push(Be[In]),un),[]);for(const un of zt)if(un.path_structure.length===Bt.length){let In=!0;for(let ai=0;ai<un.path_structure.length;ai++)if(!un.path_structure[ai]&&un.path_parts[ai]!==Bt[ai]){In=!1;break}if(In)return un}return null}(Y,ee,ct);if(Bt){const zt=function us(Y,ee,Be){const ct=Y.replace(/(http|https):\/\/[a-zA-Z0-9.]*:?([0-9]*)?/g,"").split("?"),Bt=ct[0].replace(/^\//g,""),un=ve(ct[1]||""),In=Bt.split("/"),ai={};for(const jn of ee.path_structure)jn&&(ai[jn]=In[ee.path_structure.indexOf(jn)]);const On={url:Y,path:ee.path,method:ee.method,metadata:ee.metadata,route_params:ai,query_params:un,body:Be};return be("HTTP(M)",`MATCHED ${On.method}:`,On),On}(ee,Bt,Be);return function Zo(Y,ee){const Be=Y.callback?Y.callback(ee):Y.metadata,ct=Y.delay_variance||100,Bt=Y.delay||300,zt=Math.floor(Math.random()*ct-ct/2)+Bt;return be("HTTP(M)",`RESP ${ee.method}:`,[ee.url,Be]),(0,Nt.H)([Be]).pipe((0,Or.c)(Math.max(200,zt)))}(Bt,zt)}return null}const Ra={};function qo(Y,ee,Be=bs){return ee||(ee={response_type:"json"}),Be("GET",Y,Object.assign({response_type:"json"},ee))}function As(Y,ee,Be,ct=bs){return Be||(Be={response_type:"json"}),ct("POST",Y,Object.assign({body:ee,response_type:"json"},Be))}function Gs(Y,ee,Be,ct=bs){return Be||(Be={response_type:"json"}),ct("PUT",Y,Object.assign({body:ee,response_type:"json"},Be))}function es(Y,ee,Be,ct=bs){return Be||(Be={response_type:"json"}),ct("PATCH",Y,Object.assign({body:ee,response_type:"json"},Be))}function Zs(Y,ee,Be=bs){return ee||(ee={response_type:"void"}),Be("DELETE",Y,Object.assign({response_type:"void"},ee))}function aa(Y,ee){return m(this,arguments,void 0,function*(Be,ct,Bt=Ra){if(Be.headers){const zt={};Be.headers.forEach?Be.headers.forEach((un,In)=>zt[In.toLowerCase()]=un):Object.keys(Be.headers).forEach(un=>zt[un.toLowerCase()]=Be.headers[un]),Bt[Be.url||""]=zt}switch(ct){case"json":return yield Be.json().catch(()=>({}));case"text":return yield Be.text()}})}const mo=()=>{Ia(),Ja().then(()=>null,()=>setTimeout(()=>mo(),1e3))};function bs(Y,ee,Be,ct=no,Bt=zr,zt=aa){if(ct()){const un=Bt(Y,ee,Be?.body);if(un)return un}return Be.headers=Be.headers||{},Be.headers["Content-Type"]="application/json",function $s(){return xe.pipe((0,Zn.T)(Y=>!!function $o(){return!!Kn()}()))}().pipe((0,hn.p)(un=>un),(0,wt.s)(1),(0,Zt.n)(un=>("x-api-key"===Kn()?Be.headers["X-API-Key"]=xi():Be.headers.Authorization=`Bearer ${Kn()}`,qt(ee,Object.assign(Object.assign({},Be),{body:JSON.stringify(Be.body),method:Y,credentials:"same-origin"})))),(0,Zt.n)(un=>un.ok?zt(un,Be.response_type):(0,W.$)(un)),function Ft(Y){return ee=>ee.lift(new Ct(Y,ee))}(un=>un.pipe((0,en.ZZ)((In,ai)=>511===In.status?(xa(ko()),(0,ie.of)(In)):ai+1>4||401!==In.status?(0,W.$)(In||{}):(be("HTTP","Auth error",In),mo(),(0,ie.of)(In))))))}let Li={},ts={},To="";const Rr=Y=>Y;function ns(Y){const{query_params:ee,fn:Be,path:ct,endpoint:Bt}=Y,zt=Dt(ee),un=`${Bt||Qt()}${ct?"/"+ct:""}${zt?"?"+zt:""}`;return qo(un).pipe((0,Zn.T)(In=>{const ai=function Aa(Y,ee,Be){const ct=function Js(Y,ee=Ra){return ee[Y]||{}}("/"===Y[0]?`${location.origin}${Y}`:Y),Bt={total:0,next:null};if(ct&&ct["x-total-count"]){const zt=+(ct["x-total-count"]||0);(ee.length<2||ee.length<12&&ee.indexOf("offset=")>=0)&&(Li[Be]=zt),ts[Be]=zt,Bt.total=zt}return ct&&ct.link&&(To=function Ke(Y){if(0===Y.length)throw new Error("Input must not be of zero length");const ee=Y.split(","),Be={};for(const ct of ee){const Bt=ct.split(";");if(2!==Bt.length)throw new Error("Section could not be split on ';'");const zt=Bt[0].replace(/<(.*)>/,"$1").trim();Be[Bt[1].replace(/rel="(.*)"/,"$1").trim()]=zt}return Be}(ct.link||"").next,Bt.next=ve(To.split("?")[1])),Bt}(un,zt,ct);return{total:ai.total||0,next:ai.next?()=>ns({query_params:ai.next,fn:Be,endpoint:Bt,path:ct}):null,data:In&&In instanceof Array?In.map(On=>(Be||Rr)(On)):!In||In instanceof Array||!In.results?[]:In.results.map(On=>On)}}))}function ys(Y){const{query_params:ee,id:Be,path:ct,fn:Bt}=Y,zt=Dt(ee);return qo(`${Qt()}/${ct}/${Be}${zt?"?"+zt:""}`).pipe((0,Zn.T)(In=>(Bt||Rr)(In)))}function Uo(Y){const{id:ee,query_params:Be,form_data:ct,method:Bt,path:zt,fn:un}=Y,In=Dt(Object.assign(Object.assign({},Be),{version:ct.version||0}));return("put"===Bt?Gs:es)(`${Qt()}/${zt}/${ee}${In?"?"+In:""}`,ct).pipe((0,Zn.T)(On=>(un||Rr)(On)))}class ji{constructor(ee={}){this.id=ee.id||"",this.name=ee.name||"",this.created_at=ee.created_at||0,this.updated_at=ee.updated_at||0,this.version=ee.version||0}toJSON(){const ee=Object.assign({},this);return ee.version=this.version,delete ee.created_at,Ie(ee,[void 0,null,""])}}var Cs=function(Y){return Y[Y.None=0]="None",Y[Y.Support=1]="Support",Y[Y.Admin=2]="Admin",Y[Y.NeverDisplay=3]="NeverDisplay",Y}(Cs||{});class kr extends ji{get value(){return this.settings_string}constructor(ee={}){super(ee),this.parent_id=ee.parent_id||"",this.updated_at=ee.updated_at||Math.floor((new Date).getTime()/1e3),this.settings_string=ee.settings_string||"",this.encryption_level=ee.encryption_level||Cs.None,this.keys=ee.keys||[],this.modified_by_id=ee.modified_by_id||""}}var El=function(Y){return Y[Y.SSH=0]="SSH",Y[Y.Device=1]="Device",Y[Y.Service=2]="Service",Y[Y.Websocket=3]="Websocket",Y[Y.Logic=99]="Logic",Y}(El||{});class La extends ji{constructor(ee={}){var Be;super(ee),this.description=ee.description||"",this.module_name=ee.module_name||"",this.role=null!==(Be=ee.role)&&void 0!==Be?Be:El.Logic,this.default_uri=ee.default_uri||"",this.default_port=ee.default_port||1,this.ignore_connected=ee.ignore_connected||!1,this.class_name=ee.class_name||"",this.repository_id=ee.repository_id||"",this.file_name=ee.file_name||"",this.commit=ee.commit||"",this.update_available=ee.update_available||!1,this.update_info=ee.update_info,this.settings=ee.settings||[null,null,null,null],"object"!=typeof this.settings&&(this.settings=[null,null,null,null]);for(const ct in Cs)!isNaN(Number(ct))&&!this.settings[ct]&&(this.settings[ct]=new kr({parent_id:this.id,encryption_level:+ct}))}}class Gi{constructor(ee={}){this.id=ee.id||ee.parent_id||"",this.name=ee.name||"",this.description=ee.description||"";try{this.details=("string"==typeof ee.details?JSON.parse(ee.details):ee.details)||{}}catch{this.details=ee.details||{}}this.editors=ee.editors||[],this.schema=ee.schema||"",this.updated_at=1e3*(ee.updated_at||0)||Date.now(),this.modified_by_id=ee.modified_by_id||"",this.version=ee.version||0}}class ll extends ji{get system_id(){return this.control_system_id}get actions(){const ee=this._actions;return{functions:(ee.functions||[]).map(Bt=>Object.assign(Object.assign({},Bt),{args:Object.assign({},Bt.args)})),mailers:(ee.mailers||[]).map(Bt=>Object.assign(Object.assign({},Bt),{emails:[...Bt.emails]}))}}get conditions(){const ee=this._conditions;return{comparisons:(ee.comparisons||[]).map(Bt=>Object.assign(Object.assign({},Bt),{left:"object"==typeof Bt.left?Object.assign({},Bt.left):Bt.left,right:"object"==typeof Bt.right?Object.assign({},Bt.right):Bt.right})),time_dependents:(ee.time_dependents||[]).map(Bt=>Object.assign({},Bt))}}constructor(ee={}){super(ee),this.description=ee.description||"",this._actions=ee.actions||{functions:[],mailers:[]},this._conditions=ee.conditions||{comparisons:[],time_dependents:[]},this.debounce_period=ee.debounce_period||0,this.important=ee.important||!1,this.enabled=ee.enabled||!1,this.webhook_secret=ee.webhook_secret||"",this.control_system_id=ee.system_id||ee.control_system_id||"",this.zone_id=ee.zone_id||"",this.system_name=ee.system_name||(ee.control_system?ee.control_system.name:""),this.enable_webhook=ee.enable_webhook||!1,this.exec_enabled=ee.exec_enabled||!1,this.supported_methods=ee.supported_methods||["POST"],this.activated_count=ee.activated_count||ee.trigger_count||0}}class Pr extends ji{constructor(ee={}){super(ee),this.settings=[null,null,null,null],this.trigger_list=[],this.description=ee.description||"",this.tags=ee.tags||[],this.triggers=ee.triggers||[],this.settings=ee.settings||[null,null,null,null],this.parent_id=ee.parent_id||"",this.location=ee.location||"",this.display_name=ee.display_name||"",this.code=ee.code||"",this.type=ee.type||"",this.count=ee.count||0,this.capacity=ee.capacity||0,this.map_id=ee.map_id||"",this.timezone=ee.timezone||"",this.images=ee.images||[],"object"!=typeof this.settings&&(this.settings=[null,null,null,null]);for(const Be in Cs)!isNaN(Number(Be))&&!this.settings[Be]&&(this.settings[Be]=new kr({parent_id:this.id,encryption_level:+Be}));ee.trigger_data&&ee.trigger_data instanceof Array&&(this.trigger_list=ee.trigger_data.map(Be=>new ll(Be)))}}class _e{constructor(ee={}){this.zone=new Pr(ee.zone),this.keys=ee.keys||[],this.metadata={};const Be=ee.metadata||{};for(const ct of this.keys)this.metadata[ct]=new Gi(Be[ct])}}const dt="metadata";function Ne(Y){return new Gi(Y)}function dn(Y,ee,Be={}){return ys({id:Y,query_params:Object.assign(Object.assign({},Be),{name:ee}),fn:ct=>Ne(ct[ee]),path:dt})}function Tn(Y,ee,Be="put"){return Uo({id:Y,form_data:ee,query_params:{},method:Be,fn:Ne,path:dt})}function Ci(Y,ee){return function fr(Y){const{id:ee,task_name:Be,form_data:ct,method:Bt,path:zt,callback:un}=Y,In=Dt(ct),ai=`${Qt()}/${zt}/${ee}/${Be}`;return("post"!==Bt&&"put"!==Bt&&Bt?("del"===Bt?Zs:qo)(`${ai}${In?"?"+In:""}`,{response_type:"json"}):("put"===Bt?Gs:As)(ai,ct)).pipe((0,Zn.T)(jn=>(un||(Zi=>Zi))(jn)))}({id:Y,task_name:"children",form_data:ee,method:"get",callback:Be=>Be.map(ct=>new _e(Object.assign(Object.assign({},ct),{keys:Object.keys(ct.metadata)}))),path:dt})}class uo extends ji{constructor(ee={}){var Be;super(ee),this.settings=[null,null,null,null],this.module_list=[],this.display_name=ee.display_name||"",this.description=ee.description||"",this.email=ee.email||"",this.code=ee.code||"",this.capacity=ee.capacity||0,this.features=ee.features||[],this.bookable=ee.bookable||!1,this.public=null!==(Be=ee.public)&&void 0!==Be&&Be,this.installed_ui_devices=ee.installed_ui_devices||0,this.support_url=ee.support_url||"",this.map_id=ee.map_id||"",this.modules=ee.modules||[],this.images=ee.images||[],this.zones=ee.zones||[],this.settings=ee.settings||[null,null,null,null],this.timezone=ee.timezone||"","object"!=typeof this.settings&&(this.settings=[null,null,null,null]);for(const ct in Cs)!isNaN(Number(ct))&&!this.settings[ct]&&(this.settings[ct]=new kr({parent_id:this.id,encryption_level:+ct}));ee.module_data&&ee.module_data instanceof Array&&(this.module_list=ee.module_data.map(ct=>new xn(ct)))}}class xn extends ji{get system_id(){return this.control_system_id}constructor(ee={}){var Be;super(ee),this.settings=[null,null,null,null],this.driver_id=ee.driver_id||ee.dependency_id||"",this.control_system_id=ee.control_system_id||"",this.edge_id=ee.edge_id||"",this.ip=ee.ip||"",this.tls=ee.tls||!1,this.udp=ee.udp||!1,this.port=ee.port||1,this.makebreak=ee.makebreak||!1,this.uri=ee.uri||"",this.custom_name=ee.custom_name||"",this.role=null!==(Be=ee.role)&&void 0!==Be?Be:El.Logic,this.notes=ee.notes||"",this.ignore_connected=ee.ignore_connected||!1,this.connected=ee.connected,this.running=ee.running||!1,this.updated_at=ee.updated_at||0,this.system=new uo(ee.control_system||ee.system),this.has_runtime_error=ee.has_runtime_error||!1,this.error_timestamp=ee.error_timestamp||0,this.driver=new La(ee.dependency||ee.driver),this.settings=ee.settings||[null,null,null,null],"object"!=typeof this.settings&&(this.settings=[null,null,null,null]);for(const ct in Cs)!isNaN(Number(ct))&&!this.settings[ct]&&(this.settings[ct]=new kr({parent_id:this.id,encryption_level:+ct}))}toJSON(ee=!1){const Be=super.toJSON();return(Be.role!==El.Logic&&!ee||!Be.control_system_id)&&delete Be.control_system_id,delete Be.driver,delete Be.system,delete Be.error_timestamp,delete Be.has_runtime_error,Be}}const Cl="settings";function Fr(Y){return new kr(Y)}function Zf(Y={}){return ns({query_params:Y,fn:Fr,path:Cl})}const mt="systems";function Ut(Y){return new uo(Y)}function fn(Y={}){return ns({query_params:Y,fn:Ut,path:mt})}function rn(Y={}){return ns({query_params:Y,fn:Ut,path:`${mt}/with_emails`})}function pn(Y,ee={}){return ys({id:Y,query_params:ee,fn:Ut,path:mt})}class Ui extends ji{constructor(ee={}){super(ee),this.password="",this.confirm_password="",this.authority_id=ee.authority_id||"",this.email=ee.email||"",this.email_digest=ee.email_digest||"",this.phone=ee.phone||"",this.country=ee.country||"",this.building=ee.building||"",this.image=ee.image||"",this.metadata=ee.metadata||"",this.login_name=ee.login_name||"",this.staff_id=ee.staff_id||"",this.first_name=ee.first_name||"",this.last_name=ee.last_name||"",this.support=!!ee.support,this.sys_admin=!!ee.sys_admin,this.ui_theme=ee.ui_theme||"",this.card_number=ee.card_number||"",this.groups=ee.groups||[],this.department=ee.department||"",this.work_preferences=ee.work_preferences||[],this.work_overrides=ee.work_overrides||{}}}const Hl="users";function fc(Y){return new Ui(Y)}function Ch(Y={}){return ns({query_params:Y,fn:fc,path:Hl})}function kc(Y,ee={}){return ys({id:Y,query_params:ee,fn:fc,path:Hl})}function t_(Y,ee,Be="patch"){return Uo({id:Y,form_data:ee,query_params:{},method:Be,fn:fc,path:Hl})}const Ml="zones";function vd(Y){return new Pr(Y)}function ir(Y={}){return ns({query_params:Y,fn:vd,path:Ml})}var pc=o(4119),fo=function(Y){return Y[Y.PARSE_ERROR=0]="PARSE_ERROR",Y[Y.BAD_REQUEST=1]="BAD_REQUEST",Y[Y.ACCESS_DENIED=2]="ACCESS_DENIED",Y[Y.REQUEST_FAILED=3]="REQUEST_FAILED",Y[Y.UNKNOWN_CMD=4]="UNKNOWN_CMD",Y[Y.SYS_NOT_FOUND=5]="SYS_NOT_FOUND",Y[Y.MOD_NOT_FOUND=6]="MOD_NOT_FOUND",Y[Y.UNEXPECTED_FAILURE=7]="UNEXPECTED_FAILURE",Y}(fo||{}),ma=function(Y){return Y.Info="info",Y.Debug="debug",Y.Warning="warn",Y.Error="error",Y.Fatal="fatal",Y.Trace="trace",Y}(ma||{});const _s={},Cd=15;let os,or=0,s_=0;const Is={},Sl={},ga={},Md={},Ga=new Sn.t(!1);ga._place_os_status=Ga.asObservable();const Hp=new Sn.t([0,0]);ga._place_os_sync=Hp.asObservable();let jc,mu,Yp=Date.now(),Dh=0,mc=null,r_=0;const gu=1e4,vu=new ft.B7;function Sh(){return Qt().indexOf("/control/")>=0?"/control/websocket":`${Pn()}/systems/control`}function a_(){return Ga.getValue()}function Sv(Y,ee=0,Be=Il){return Be(Object.assign({id:++or,cmd:"bind"},Y),ee)}function Il(Y,ee=gu,Be=0){const ct=`${Y.cmd}|${Y.sys}|${Y.mod}${Y.index}|${Y.name}|${Y.args}|${function Lt(Y=Date.now(),ee=6e4){return Math.floor(Y/ee)}()}`;if(Is[ct])be("WS","Request already in progress. Waiting...",Y);else{const Bt=Object.assign(Object.assign({},Y),{key:ct});Bt.promise=new Promise((zt,un)=>{const In=()=>{delete Is[ct],Is[ct]=null,Il(Y,ee,Be).then(ai=>zt(ai),ai=>un(ai))};if(os&&a_()){no()&&function Rh(Y,ee,Be){const ct=`${Y.sys}|${Y.mod}_${Y.index}|${Y.name}`,Bt=function pu(Y){return _s[Y]}(Y.sys),zt=Bt&&Bt[Y.mod]?Bt[Y.mod][Y.index-1||0]:null;if(zt){switch(Y.cmd){case"bind":Be[ct]=zt.listen(Y.name).subscribe(un=>{setTimeout(()=>{ee.next({type:"notify",value:un,meta:Y})},Math.floor(100*Math.random()+50))});break;case"unbind":Be[ct]&&(Be[ct].unsubscribe(),delete Be[ct],tn(`${ct}`))}At(`${Y.id}-response`,()=>{const un={id:Y.id,type:"success",value:"exec"===Y.cmd?zt.call(Y.name,Y.args):null};ee.next(un)},10)}else At(`${Y.id}-error`,()=>ee.next({id:Y.id,type:"error",code:Bt?fo.SYS_NOT_FOUND:fo.MOD_NOT_FOUND}),10)}(Y,os,Md),Bt.resolve=zt,Bt.reject=un;const ai=`${Y.sys}, ${Y.mod}_${Y.index}, ${Y.name}`;be("WS",`[${Y.cmd.toUpperCase()}](${Y.id}) ${ai}`,Y.args),os.next(Y),ee>0&&At(`${ct}`,()=>{un("Request timed out."),delete Is[ct],Is[ct]=null},ee)}else mc?setTimeout(()=>In(),1e3):Oh().then(()=>In())}),Is[ct]=Bt}return Is[ct].promise}function Zp(Y){if("pong"!==Y&&Y instanceof Object){if("notify"===Y.type&&Y.meta)!function em(Y,ee,Be=Sl,ct=ga){const Bt=`${Y.sys}|${Y.mod}_${Y.index}|${Y.name}`;Be[Bt]||(Be[Bt]=new Sn.t(null),ct[Bt]=Be[Bt].asObservable());be("WS",`[NOTIFY] ${`${Y.sys}, ${Y.mod}_${Y.index}, ${Y.name}`} changed`,[Be[Bt].getValue(),"\u2192",ee]),Be[Bt].next(ee)}(Y.meta,Y.value);else if("success"===Y.type)!function Ih(Y){const ee=Object.keys(Is).map(Be=>Is[Be]).find(Be=>Be?.id===Y.id);be("WS",`[SUCCESS](${Y.id})`),ee&&ee.resolve&&(ee.resolve(Y.value),delete Is[ee.key])}(Y);else if("debug"===Y.type){be("WS",`[DEBUG] ${Y.mod}${Y.klass||""} \u2192`,Y.msg);const ee=Y.meta||{mod:"",index:""};vu.next({mod_id:Y.mod||"<empty>",module:`${ee.mod}_${ee.index}`,class_name:Y.klass||"<empty>",message:Y.msg||"<empty>",level:Y.level||ma.Debug,time:Math.floor((new Date).getTime()/1e3)})}else"error"===Y.type?function qp(Y){let ee="UNEXPECTED FAILURE";switch(Y.code){case fo.ACCESS_DENIED:ee="ACCESS DENIED";break;case fo.BAD_REQUEST:ee="BAD REQUEST";break;case fo.MOD_NOT_FOUND:ee="MODULE NOT FOUND";break;case fo.SYS_NOT_FOUND:ee="SYSTEM NOT FOUND";break;case fo.PARSE_ERROR:ee="PARSE ERROR";break;case fo.REQUEST_FAILED:ee="REQUEST FAILED";break;case fo.UNKNOWN_CMD:ee="UNKNOWN COMMAND"}be("WS",`[ERROR] ${ee}(${Y.id}): ${Y.msg}`,void 0,"error");const Be=Object.keys(Is).map(ct=>Is[ct]).filter(ct=>ct).find(ct=>ct.id===Y.id);Be&&Be.reject&&(Be.reject(Y),tn(`${Be.key}`),delete Is[Be.key])}(Y):Y.cmd||be("WS","Invalid websocket message",Y,"error");tn(`${Y.id}`)}else"pong"===Y&&(r_=Date.now(),be("WS","Pong!"))}function Oh(Y=0){return null==mc&&(mc=new Promise(ee=>{if(Y>40)return location.reload();Dh++,Yp=Date.now(),os=no()?function _o(){const Y=new ft.B7;return Y.subscribe(ee=>Zp(ee)),Y}():function bu(){if(!ko()||!Kn())return null;const Y=function Gr(){return!!Vn.secure}()||location.protocol.indexOf("https")>=0;let ee=`ws${Y?"s":""}://${Pi()}${Sh()}${cr()?"?fixed_device=true":""}`;const Be=Kn();let ct="x-api-key"===Be?`api-key=${xi()}`:`bearer_token=${Be}`;return function ui(){return!!Vn.token_header}()||function Ze(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}()?(be("WS","Authenticating through URL query parameter..."),ee+=`${ee.indexOf("?")>=0?"&":"?"}${ct}`):(be("WS","Authenticating through cookie..."),ct+=`;max-age=120;path=${Sh()};`,ct+=(Y?"secure;":"")+"samesite=strict",document.cookie=ct,be("WS","Cookies:",[document.cookie,ct])),be("WS",`Creating websocket connection to ws${Y?"s":""}://${Pi()}${Sh()}`),(0,pc.K)({url:ee,serializer:Bt=>"object"==typeof Bt?JSON.stringify(Bt):Bt,deserializer:Bt=>{let zt=Bt.data;if("pong"===zt)return zt;try{return JSON.parse(Bt.data)}catch{return zt}}})}(),os?(be("WS(Debug)","Authority:",[ko()]),be("WS","Connecting to websocket..."),os.subscribe(Be=>{Ga.getValue()||(be("WS","Connection established."),ee()),Ga.next(!0),Dh=0,Dd(),Zp(Be)},Be=>{os=void 0,mc=null,$c(),Dd(),function xh(Y){Ga.next(!1),be("WS","Websocket error:",Y,void 0,"error"),401===Y.status&&Ia(),Ja(),Td()}(Be)},()=>{os=void 0,mc=null,$c(),be("WS","Connection closed by browser."),Ga.next(!1),Td()}),jc&&clearInterval(jc),r_=Date.now(),va(),jc=setInterval(()=>va(),1e3*Cd),Dd(),s_+=1,mu=setTimeout(()=>{be("WS","Unhealthy connection. Reconnecting..."),Ga.next(!1),mc=null,Td()},3e4)):(os?be("WS",`Waiting on auth(${Y}). Retrying in ${1e3*Math.min(10,Y+1)}ms...`,[!!Kn(),!!ko()],"info"):be("WS",`Failed to create websocket(${Y}). Retrying in ${1e3*Math.min(10,Y+1)}ms...`,void 0,"error"),setTimeout(()=>{mc=null,Oh(Y).then(Be=>ee(Be))},1e3*Math.min(10,++Y)))})),mc}function Td(){Hp.next([s_,Date.now()-Yp]),os&&a_()&&(os.complete(),jc&&(clearInterval(jc),jc=void 0)),be("WS",`Reconnecting in ${Math.min(5e3,300*Dh||1e3)}ms...`),At("reconnect",()=>Oh(),Math.min(5e3,300*(Dh+1)||1e3))}function va(){if(Date.now()-r_>4*Cd*1e3)return Td();os?.next("ping")}function Dd(){mu&&(clearTimeout(mu),mu=void 0)}function $c(){for(const Y in Is)Is[Y]&&delete Is[Y]}ga._place_os_debug_events=vu.asObservable();var sr=o(522),ba=function(Y){return Y[Y.NONE=0]="NONE",Y[Y.BIND=1]="BIND",Y[Y.UNBIND=2]="UNBIND",Y}(ba||{});class yu{constructor(ee,Be){this._module=ee,this._pending=ba.NONE,this._binding_count=0,this._stale_bindings=0,this.name=Be,function Qp(){return ga._place_os_status}().pipe((0,sr.F)()).subscribe(ct=>{ct&&(this._stale_bindings||this._pending===ba.BIND)?(be("VAR","Re-binding to status variable",this.binding()),this.rebind()):ct||(tn(`rebind:${JSON.stringify(this.binding())}`),be("VAR","Binding dropped due to disconnection, re-binding when possible.",this.binding()),this._stale_bindings=this._binding_count||this._stale_bindings,this._binding_count=0)})}get count(){return this._binding_count}get value(){return function Ly(Y,ee=Sl){const Be=`${Y.sys}|${Y.mod}_${Y.index}|${Y.name}`;if(ee[Be])return ee[Be].getValue()}(this.binding())}listen(){return function Py(Y,ee=Sl,Be=ga){const ct=`${Y.sys}|${Y.mod}_${Y.index}|${Y.name}`;return ee[ct]||(ee[ct]=new Sn.t(void 0),Be[ct]=ee[ct].asObservable()),Be[ct]}(this.binding())}bind(){return(this._binding_count<=0&&this._stale_bindings<=0||this._pending===ba.UNBIND)&&(this._pending=ba.BIND,Sv(this.binding()).then(()=>{this._binding_count++,this._pending=ba.NONE}).catch(()=>null)),()=>this.unbind()}unbind(){1===this._binding_count&&this._pending===ba.NONE?(this._pending=ba.UNBIND,function Iv(Y,ee=0,Be=Il){return Be(Object.assign({id:++or,cmd:"unbind"},Y),ee)}(this.binding()).then(()=>{this._pending===ba.UNBIND&&(this._pending=ba.NONE),this._binding_count--})):this._binding_count=Math.max(this._binding_count-1,0)}rebind(){return m(this,void 0,void 0,function*(){!this._stale_bindings&&this._pending!==ba.BIND||At(`rebind:${JSON.stringify(this.binding())}`,()=>m(this,void 0,void 0,function*(){yield Sv(this.binding()),this._binding_count=this._stale_bindings||1,this._stale_bindings=0}),100)})}binding(){return{sys:this._module.system.id,mod:this._module.name,index:this._module.index,name:this.name}}}class Uc{constructor(ee,Be){this._system=ee,this._id=Be,this._bindings={}}get id(){return`${this.name}_${this.index}`}get system(){return this._system}get index(){const Be=this._id.split("_").pop();return parseInt(Be||"",10)||1}get name(){const ee=this._id.split("_");return ee.pop(),ee.join("_")}binding(ee){return this._bindings[ee]||(this._bindings[ee]=new yu(this,ee)),this._bindings[ee]}execute(ee,Be,ct=gu){return function l_(Y,ee=gu,Be=Il){return Be(Object.assign({id:++or,cmd:"exec"},Y),ee)}({sys:this._system.id,mod:this.name,index:this.index,name:ee,args:Be},ct)}}class Zr{constructor(ee){this._module_list={},this.id=ee}module(ee,Be=1){if(!ee)throw new Error("Invalid module ID");const ct=ee.split("_");ct.length>1&&Number.isInteger(+ct[ct.length-1])&&(Be=+ct[ct.length-1],ct.pop()),Be<1&&(Be=1);const Bt=ct.join("_");for(this._module_list[Bt]||(this._module_list[Bt]=[]);this._module_list[Bt].length<Be;)this._module_list[Bt].push(new Uc(this,`${Bt}_${this._module_list[Bt].length+1}`));return this._module_list[Bt][Be-1]}}const Ah={};function d_(Y,ee,Be=1){return function c_(Y){return Ah[Y]||(Ah[Y]=new Zr(Y)),Ah[Y]}(Y).module(ee,Be)}},2727:(gt,re,o)=>{"use strict";function S(x,I){return function l(x,I){x=x||[],"string"==typeof(I=I||{})&&(I={type:I});try{return new Blob(x,I)}catch(A){if("TypeError"!==A.name)throw A;for(var C=new(typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder),D=0;D<x.length;D+=1)C.append(x[D]);return C.getBlob(I.type)}}([x],I)}o.d(re,{Ot:()=>S})},993:(gt,re)=>{"use strict";re.if=h,re.Kp=function g(b){if(b.length%4!=0)throw new Error("Unable to parse base64 string.");var d=b.indexOf("=");if(-1!==d&&d<b.length-2)throw new Error("Unable to parse base64 string.");for(var v,y=b.endsWith("==")?2:b.endsWith("=")?1:0,R=b.length,m=new Uint8Array(R/4*3),O=0,S=0;O<R;O+=4,S+=3)v=l(b.charCodeAt(O))<<18|l(b.charCodeAt(O+1))<<12|l(b.charCodeAt(O+2))<<6|l(b.charCodeAt(O+3)),m[S]=v>>16,m[S+1]=v>>8&255,m[S+2]=255&v;return m.subarray(0,m.length-y)},re.Cw=function p(b){return h((arguments.length>1&&void 0!==arguments[1]?arguments[1]:new TextEncoder).encode(b))};var e=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],n=[255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];function l(b){if(b>=n.length)throw new Error("Unable to parse base64 string.");var d=n[b];if(255===d)throw new Error("Unable to parse base64 string.");return d}function h(b){var y,d="",R=b.length;for(y=2;y<R;y+=3)d+=e[b[y-2]>>2],d+=e[(3&b[y-2])<<4|b[y-1]>>4],d+=e[(15&b[y-1])<<2|b[y]>>6],d+=e[63&b[y]];return y===R+1&&(d+=e[b[y-2]>>2],d+=e[(3&b[y-2])<<4],d+="=="),y===R&&(d+=e[b[y-2]>>2],d+=e[(3&b[y-2])<<4|b[y-1]>>4],d+=e[(15&b[y-1])<<2],d+="="),d}},7374:function(gt){gt.exports=function(){"use strict";var o=6e4,e=36e5,n="millisecond",l="second",h="minute",g="hour",p="day",f="week",b="month",d="quarter",y="year",R="date",m="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,O=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,S={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function($){var U=["th","st","nd","rd"],G=$%100;return"["+$+(U[(G-20)%10]||U[G]||U[0])+"]"}},P=function($,U,G){var J=String($);return!J||J.length>=U?$:""+Array(U+1-J.length).join(G)+$},M={s:P,z:function($){var U=-$.utcOffset(),G=Math.abs(U),J=Math.floor(G/60),te=G%60;return(U<=0?"+":"-")+P(J,2,"0")+":"+P(te,2,"0")},m:function $(U,G){if(U.date()<G.date())return-$(G,U);var J=12*(G.year()-U.year())+(G.month()-U.month()),te=U.clone().add(J,b),ne=G-te<0,K=U.clone().add(J+(ne?-1:1),b);return+(-(J+(G-te)/(ne?te-K:K-te))||0)},a:function($){return $<0?Math.ceil($)||0:Math.floor($)},p:function($){return{M:b,y,w:f,d:p,D:R,h:g,m:h,s:l,ms:n,Q:d}[$]||String($||"").toLowerCase().replace(/s$/,"")},u:function($){return void 0===$}},w="en",x={};x[w]=S;var I="$isDayjsObject",_=function($){return $ instanceof B||!(!$||!$[I])},C=function $(U,G,J){var te;if(!U)return w;if("string"==typeof U){var ne=U.toLowerCase();x[ne]&&(te=ne),G&&(x[ne]=G,te=ne);var K=U.split("-");if(!te&&K.length>1)return $(K[0])}else{var k=U.name;x[k]=U,te=k}return!J&&te&&(w=te),te||!J&&w},D=function($,U){if(_($))return $.clone();var G="object"==typeof U?U:{};return G.date=$,G.args=arguments,new B(G)},A=M;A.l=C,A.i=_,A.w=function($,U){return D($,{locale:U.$L,utc:U.$u,x:U.$x,$offset:U.$offset})};var B=function(){function $(G){this.$L=C(G.locale,null,!0),this.parse(G),this.$x=this.$x||G.x||{},this[I]=!0}var U=$.prototype;return U.parse=function(G){this.$d=function(J){var te=J.date,ne=J.utc;if(null===te)return new Date(NaN);if(A.u(te))return new Date;if(te instanceof Date)return new Date(te);if("string"==typeof te&&!/Z$/i.test(te)){var K=te.match(v);if(K){var k=K[2]-1||0,j=(K[7]||"0").substring(0,3);return ne?new Date(Date.UTC(K[1],k,K[3]||1,K[4]||0,K[5]||0,K[6]||0,j)):new Date(K[1],k,K[3]||1,K[4]||0,K[5]||0,K[6]||0,j)}}return new Date(te)}(G),this.init()},U.init=function(){var G=this.$d;this.$y=G.getFullYear(),this.$M=G.getMonth(),this.$D=G.getDate(),this.$W=G.getDay(),this.$H=G.getHours(),this.$m=G.getMinutes(),this.$s=G.getSeconds(),this.$ms=G.getMilliseconds()},U.$utils=function(){return A},U.isValid=function(){return this.$d.toString()!==m},U.isSame=function(G,J){var te=D(G);return this.startOf(J)<=te&&te<=this.endOf(J)},U.isAfter=function(G,J){return D(G)<this.startOf(J)},U.isBefore=function(G,J){return this.endOf(J)<D(G)},U.$g=function(G,J,te){return A.u(G)?this[J]:this.set(te,G)},U.unix=function(){return Math.floor(this.valueOf()/1e3)},U.valueOf=function(){return this.$d.getTime()},U.startOf=function(G,J){var te=this,ne=!!A.u(J)||J,K=A.p(G),k=function(Oe,we){var We=A.w(te.$u?Date.UTC(te.$y,we,Oe):new Date(te.$y,we,Oe),te);return ne?We:We.endOf(p)},j=function(Oe,we){return A.w(te.toDate()[Oe].apply(te.toDate("s"),(ne?[0,0,0,0]:[23,59,59,999]).slice(we)),te)},W=this.$W,ie=this.$M,ce=this.$D,oe="set"+(this.$u?"UTC":"");switch(K){case y:return ne?k(1,0):k(31,11);case b:return ne?k(1,ie):k(0,ie+1);case f:var me=this.$locale().weekStart||0,he=(W<me?W+7:W)-me;return k(ne?ce-he:ce+(6-he),ie);case p:case R:return j(oe+"Hours",0);case g:return j(oe+"Minutes",1);case h:return j(oe+"Seconds",2);case l:return j(oe+"Milliseconds",3);default:return this.clone()}},U.endOf=function(G){return this.startOf(G,!1)},U.$set=function(G,J){var te,ne=A.p(G),K="set"+(this.$u?"UTC":""),k=(te={},te[p]=K+"Date",te[R]=K+"Date",te[b]=K+"Month",te[y]=K+"FullYear",te[g]=K+"Hours",te[h]=K+"Minutes",te[l]=K+"Seconds",te[n]=K+"Milliseconds",te)[ne],j=ne===p?this.$D+(J-this.$W):J;if(ne===b||ne===y){var W=this.clone().set(R,1);W.$d[k](j),W.init(),this.$d=W.set(R,Math.min(this.$D,W.daysInMonth())).$d}else k&&this.$d[k](j);return this.init(),this},U.set=function(G,J){return this.clone().$set(G,J)},U.get=function(G){return this[A.p(G)]()},U.add=function(G,J){var te,ne=this;G=Number(G);var K=A.p(J),k=function(ie){var ce=D(ne);return A.w(ce.date(ce.date()+Math.round(ie*G)),ne)};if(K===b)return this.set(b,this.$M+G);if(K===y)return this.set(y,this.$y+G);if(K===p)return k(1);if(K===f)return k(7);var j=(te={},te[h]=o,te[g]=e,te[l]=1e3,te)[K]||1,W=this.$d.getTime()+G*j;return A.w(W,this)},U.subtract=function(G,J){return this.add(-1*G,J)},U.format=function(G){var J=this,te=this.$locale();if(!this.isValid())return te.invalidDate||m;var ne=G||"YYYY-MM-DDTHH:mm:ssZ",K=A.z(this),k=this.$H,j=this.$m,W=this.$M,ie=te.weekdays,ce=te.months,me=function(we,We,Xe,Me){return we&&(we[We]||we(J,ne))||Xe[We].slice(0,Me)},he=function(we){return A.s(k%12||12,we,"0")},Oe=te.meridiem||function(we,We,Xe){var Me=we<12?"AM":"PM";return Xe?Me.toLowerCase():Me};return ne.replace(O,function(we,We){return We||function(Xe){switch(Xe){case"YY":return String(J.$y).slice(-2);case"YYYY":return A.s(J.$y,4,"0");case"M":return W+1;case"MM":return A.s(W+1,2,"0");case"MMM":return me(te.monthsShort,W,ce,3);case"MMMM":return me(ce,W);case"D":return J.$D;case"DD":return A.s(J.$D,2,"0");case"d":return String(J.$W);case"dd":return me(te.weekdaysMin,J.$W,ie,2);case"ddd":return me(te.weekdaysShort,J.$W,ie,3);case"dddd":return ie[J.$W];case"H":return String(k);case"HH":return A.s(k,2,"0");case"h":return he(1);case"hh":return he(2);case"a":return Oe(k,j,!0);case"A":return Oe(k,j,!1);case"m":return String(j);case"mm":return A.s(j,2,"0");case"s":return String(J.$s);case"ss":return A.s(J.$s,2,"0");case"SSS":return A.s(J.$ms,3,"0");case"Z":return K}return null}(we)||K.replace(":","")})},U.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},U.diff=function(G,J,te){var ne,K=this,k=A.p(J),j=D(G),W=(j.utcOffset()-this.utcOffset())*o,ie=this-j,ce=function(){return A.m(K,j)};switch(k){case y:ne=ce()/12;break;case b:ne=ce();break;case d:ne=ce()/3;break;case f:ne=(ie-W)/6048e5;break;case p:ne=(ie-W)/864e5;break;case g:ne=ie/e;break;case h:ne=ie/o;break;case l:ne=ie/1e3;break;default:ne=ie}return te?ne:A.a(ne)},U.daysInMonth=function(){return this.endOf(b).$D},U.$locale=function(){return x[this.$L]},U.locale=function(G,J){if(!G)return this.$L;var te=this.clone(),ne=C(G,J,!0);return ne&&(te.$L=ne),te},U.clone=function(){return A.w(this.$d,this)},U.toDate=function(){return new Date(this.valueOf())},U.toJSON=function(){return this.isValid()?this.toISOString():null},U.toISOString=function(){return this.$d.toISOString()},U.toString=function(){return this.$d.toUTCString()},$}(),F=B.prototype;return D.prototype=F,[["$ms",n],["$s",l],["$m",h],["$H",g],["$W",p],["$M",b],["$y",y],["$D",R]].forEach(function($){F[$[1]]=function(U){return this.$g(U,$[0],$[1])}}),D.extend=function($,U){return $.$i||($(U,B,D),$.$i=!0),D},D.locale=C,D.isDayjs=_,D.unix=function($){return D(1e3*$)},D.en=x[w],D.Ls=x,D.p={},D}()},1299:function(gt,re,o){var e;!function(n,l){var h={};!function(n){"use strict";n.__esModule=!0,n.digestLength=32,n.blockSize=64;var l=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function h(v,O,S,P,M){for(var w,x,I,_,C,D,A,B,F,$,U,G,J;M>=64;){for(w=O[0],x=O[1],I=O[2],_=O[3],C=O[4],D=O[5],A=O[6],B=O[7],$=0;$<16;$++)v[$]=(255&S[U=P+4*$])<<24|(255&S[U+1])<<16|(255&S[U+2])<<8|255&S[U+3];for($=16;$<64;$++)v[$]=((G=((F=v[$-2])>>>17|F<<15)^(F>>>19|F<<13)^F>>>10)+v[$-7]|0)+((J=((F=v[$-15])>>>7|F<<25)^(F>>>18|F<<14)^F>>>3)+v[$-16]|0);for($=0;$<64;$++)G=(((C>>>6|C<<26)^(C>>>11|C<<21)^(C>>>25|C<<7))+(C&D^~C&A)|0)+(B+(l[$]+v[$]|0)|0)|0,J=((w>>>2|w<<30)^(w>>>13|w<<19)^(w>>>22|w<<10))+(w&x^w&I^x&I)|0,B=A,A=D,D=C,C=_+G|0,_=I,I=x,x=w,w=G+J|0;O[0]+=w,O[1]+=x,O[2]+=I,O[3]+=_,O[4]+=C,O[5]+=D,O[6]+=A,O[7]+=B,P+=64,M-=64}return P}var g=function(){function v(){this.digestLength=n.digestLength,this.blockSize=n.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return v.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},v.prototype.clean=function(){for(var O=0;O<this.buffer.length;O++)this.buffer[O]=0;for(O=0;O<this.temp.length;O++)this.temp[O]=0;this.reset()},v.prototype.update=function(O,S){if(void 0===S&&(S=O.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var P=0;if(this.bytesHashed+=S,this.bufferLength>0){for(;this.bufferLength<64&&S>0;)this.buffer[this.bufferLength++]=O[P++],S--;64===this.bufferLength&&(h(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(S>=64&&(P=h(this.temp,this.state,O,P,S),S%=64);S>0;)this.buffer[this.bufferLength++]=O[P++],S--;return this},v.prototype.finish=function(O){if(!this.finished){var S=this.bytesHashed,P=this.bufferLength,M=S/536870912|0,w=S<<3,x=S%64<56?64:128;this.buffer[P]=128;for(var I=P+1;I<x-8;I++)this.buffer[I]=0;this.buffer[x-8]=M>>>24&255,this.buffer[x-7]=M>>>16&255,this.buffer[x-6]=M>>>8&255,this.buffer[x-5]=M>>>0&255,this.buffer[x-4]=w>>>24&255,this.buffer[x-3]=w>>>16&255,this.buffer[x-2]=w>>>8&255,this.buffer[x-1]=w>>>0&255,h(this.temp,this.state,this.buffer,0,x),this.finished=!0}for(I=0;I<8;I++)O[4*I+0]=this.state[I]>>>24&255,O[4*I+1]=this.state[I]>>>16&255,O[4*I+2]=this.state[I]>>>8&255,O[4*I+3]=this.state[I]>>>0&255;return this},v.prototype.digest=function(){var O=new Uint8Array(this.digestLength);return this.finish(O),O},v.prototype._saveState=function(O){for(var S=0;S<this.state.length;S++)O[S]=this.state[S]},v.prototype._restoreState=function(O,S){for(var P=0;P<this.state.length;P++)this.state[P]=O[P];this.bytesHashed=S,this.finished=!1,this.bufferLength=0},v}();n.Hash=g;var p=function(){function v(O){this.inner=new g,this.outer=new g,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var S=new Uint8Array(this.blockSize);if(O.length>this.blockSize)(new g).update(O).finish(S).clean();else for(var P=0;P<O.length;P++)S[P]=O[P];for(P=0;P<S.length;P++)S[P]^=54;for(this.inner.update(S),P=0;P<S.length;P++)S[P]^=106;for(this.outer.update(S),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate),P=0;P<S.length;P++)S[P]=0}return v.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},v.prototype.clean=function(){for(var O=0;O<this.istate.length;O++)this.ostate[O]=this.istate[O]=0;this.inner.clean(),this.outer.clean()},v.prototype.update=function(O){return this.inner.update(O),this},v.prototype.finish=function(O){return this.outer.finished?this.outer.finish(O):(this.inner.finish(O),this.outer.update(O,this.digestLength).finish(O)),this},v.prototype.digest=function(){var O=new Uint8Array(this.digestLength);return this.finish(O),O},v}();function f(v){var O=(new g).update(v),S=O.digest();return O.clean(),S}function b(v,O){var S=new p(v).update(O),P=S.digest();return S.clean(),P}function d(v,O,S,P){var M=P[0];if(0===M)throw new Error("hkdf: cannot expand more");O.reset(),M>1&&O.update(v),S&&O.update(S),O.update(P),O.finish(v),P[0]++}n.HMAC=p,n.hash=f,n.default=f,n.hmac=b;var y=new Uint8Array(n.digestLength);n.hkdf=function R(v,O,S,P){void 0===O&&(O=y),void 0===P&&(P=32);for(var M=new Uint8Array([1]),w=b(O,v),x=new p(w),I=new Uint8Array(x.digestLength),_=I.length,C=new Uint8Array(P),D=0;D<P;D++)_===I.length&&(d(I,x,S,M),_=0),C[D]=I[_++];return x.clean(),I.fill(0),M.fill(0),C},n.pbkdf2=function m(v,O,S,P){for(var M=new p(v),w=M.digestLength,x=new Uint8Array(4),I=new Uint8Array(w),_=new Uint8Array(w),C=new Uint8Array(P),D=0;D*w<P;D++){var A=D+1;x[0]=A>>>24&255,x[1]=A>>>16&255,x[2]=A>>>8&255,x[3]=A>>>0&255,M.reset(),M.update(O),M.update(x),M.finish(_);for(var B=0;B<w;B++)I[B]=_[B];for(B=2;B<=S;B++){M.reset(),M.update(_).finish(_);for(var F=0;F<w;F++)I[F]^=_[F]}for(B=0;B<w&&D*w+B<P;B++)C[D*w+B]=I[B]}for(D=0;D<w;D++)I[D]=_[D]=0;for(D=0;D<4;D++)x[D]=0;return M.clean(),C}}(h);var g=h.default;for(var p in h)g[p]=h[p];"object"==typeof gt.exports?gt.exports=g:void 0!==(e=function(){return g}.call(h,o,h,gt))&&(gt.exports=e)}()},5055:function(gt){typeof self<"u"&&self,gt.exports=function(re){var o={};function e(n){if(o[n])return o[n].exports;var l=o[n]={i:n,l:!1,exports:{}};return re[n].call(l.exports,l,l.exports,e),l.l=!0,l.exports}return e.m=re,e.c=o,e.d=function(n,l,h){e.o(n,l)||Object.defineProperty(n,l,{configurable:!1,enumerable:!0,get:h})},e.n=function(n){var l=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(l,"a",l),l},e.o=function(n,l){return Object.prototype.hasOwnProperty.call(n,l)},e.p="",e(e.s=109)}([function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=e(17),l=e(18),h=e(19),g=e(45),p=e(46),f=e(47),b=e(48),d=e(49),y=e(12),R=e(32),m=e(33),v=e(31),O=e(1);o.default={Scope:O.Scope,create:O.create,find:O.find,query:O.query,register:O.register,Container:n.default,Format:l.default,Leaf:h.default,Embed:b.default,Scroll:g.default,Block:f.default,Inline:p.default,Text:d.default,Attributor:{Attribute:y.default,Class:R.default,Style:m.default,Store:v.default}}},function(re,o,e){"use strict";var v,n=this&&this.__extends||(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,S){O.__proto__=S}||function(O,S){for(var P in S)S.hasOwnProperty(P)&&(O[P]=S[P])},function(O,S){function P(){this.constructor=O}v(O,S),O.prototype=null===S?Object.create(S):(P.prototype=S.prototype,new P)});Object.defineProperty(o,"__esModule",{value:!0});var l=function(v){function O(S){var P=this;return(P=v.call(this,S="[Parchment] "+S)||this).message=S,P.name=P.constructor.name,P}return n(O,v),O}(Error);o.ParchmentError=l;var b,h={},g={},p={},f={};function R(v,O){var S;if(void 0===O&&(O=b.ANY),"string"==typeof v)S=f[v]||h[v];else if(v instanceof Text||v.nodeType===Node.TEXT_NODE)S=f.text;else if("number"==typeof v)v&b.LEVEL&b.BLOCK?S=f.block:v&b.LEVEL&b.INLINE&&(S=f.inline);else if(v instanceof HTMLElement){var P=(v.getAttribute("class")||"").split(/\s+/);for(var M in P)if(S=g[P[M]])break;S=S||p[v.tagName]}return null==S?null:O&b.LEVEL&S.scope&&O&b.TYPE&S.scope?S:null}o.DATA_KEY="__blot",function(v){v[v.TYPE=3]="TYPE",v[v.LEVEL=12]="LEVEL",v[v.ATTRIBUTE=13]="ATTRIBUTE",v[v.BLOT=14]="BLOT",v[v.INLINE=7]="INLINE",v[v.BLOCK=11]="BLOCK",v[v.BLOCK_BLOT=10]="BLOCK_BLOT",v[v.INLINE_BLOT=6]="INLINE_BLOT",v[v.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",v[v.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",v[v.ANY=15]="ANY"}(b=o.Scope||(o.Scope={})),o.create=function d(v,O){var S=R(v);if(null==S)throw new l("Unable to create "+v+" blot");var P=S,M=v instanceof Node||v.nodeType===Node.TEXT_NODE?v:P.create(O);return new P(M,O)},o.find=function y(v,O){return void 0===O&&(O=!1),null==v?null:null!=v[o.DATA_KEY]?v[o.DATA_KEY].blot:O?y(v.parentNode,O):null},o.query=R,o.register=function m(){for(var v=[],O=0;O<arguments.length;O++)v[O]=arguments[O];if(v.length>1)return v.map(function(M){return m(M)});var S=v[0];if("string"!=typeof S.blotName&&"string"!=typeof S.attrName)throw new l("Invalid definition");if("abstract"===S.blotName)throw new l("Cannot register abstract class");return f[S.blotName||S.attrName]=S,"string"==typeof S.keyName?h[S.keyName]=S:(null!=S.className&&(g[S.className]=S),null!=S.tagName&&(S.tagName=Array.isArray(S.tagName)?S.tagName.map(function(M){return M.toUpperCase()}):S.tagName.toUpperCase(),(Array.isArray(S.tagName)?S.tagName:[S.tagName]).forEach(function(M){(null==p[M]||null==S.className)&&(p[M]=S)}))),S}},function(re,o,e){var n=e(51),l=e(11),h=e(3),g=e(20),f=function(b){this.ops=Array.isArray(b)?b:null!=b&&Array.isArray(b.ops)?b.ops:[]};f.prototype.insert=function(b,d){var y={};return 0===b.length?this:(y.insert=b,null!=d&&"object"==typeof d&&Object.keys(d).length>0&&(y.attributes=d),this.push(y))},f.prototype.delete=function(b){return b<=0?this:this.push({delete:b})},f.prototype.retain=function(b,d){if(b<=0)return this;var y={retain:b};return null!=d&&"object"==typeof d&&Object.keys(d).length>0&&(y.attributes=d),this.push(y)},f.prototype.push=function(b){var d=this.ops.length,y=this.ops[d-1];if(b=h(!0,{},b),"object"==typeof y){if("number"==typeof b.delete&&"number"==typeof y.delete)return this.ops[d-1]={delete:y.delete+b.delete},this;if("number"==typeof y.delete&&null!=b.insert&&"object"!=typeof(y=this.ops[(d-=1)-1]))return this.ops.unshift(b),this;if(l(b.attributes,y.attributes)){if("string"==typeof b.insert&&"string"==typeof y.insert)return this.ops[d-1]={insert:y.insert+b.insert},"object"==typeof b.attributes&&(this.ops[d-1].attributes=b.attributes),this;if("number"==typeof b.retain&&"number"==typeof y.retain)return this.ops[d-1]={retain:y.retain+b.retain},"object"==typeof b.attributes&&(this.ops[d-1].attributes=b.attributes),this}}return d===this.ops.length?this.ops.push(b):this.ops.splice(d,0,b),this},f.prototype.chop=function(){var b=this.ops[this.ops.length-1];return b&&b.retain&&!b.attributes&&this.ops.pop(),this},f.prototype.filter=function(b){return this.ops.filter(b)},f.prototype.forEach=function(b){this.ops.forEach(b)},f.prototype.map=function(b){return this.ops.map(b)},f.prototype.partition=function(b){var d=[],y=[];return this.forEach(function(R){(b(R)?d:y).push(R)}),[d,y]},f.prototype.reduce=function(b,d){return this.ops.reduce(b,d)},f.prototype.changeLength=function(){return this.reduce(function(b,d){return d.insert?b+g.length(d):d.delete?b-d.delete:b},0)},f.prototype.length=function(){return this.reduce(function(b,d){return b+g.length(d)},0)},f.prototype.slice=function(b,d){b=b||0,"number"!=typeof d&&(d=1/0);for(var y=[],R=g.iterator(this.ops),m=0;m<d&&R.hasNext();){var v;m<b?v=R.next(b-m):(v=R.next(d-m),y.push(v)),m+=g.length(v)}return new f(y)},f.prototype.compose=function(b){var d=g.iterator(this.ops),y=g.iterator(b.ops),R=[],m=y.peek();if(null!=m&&"number"==typeof m.retain&&null==m.attributes){for(var v=m.retain;"insert"===d.peekType()&&d.peekLength()<=v;)v-=d.peekLength(),R.push(d.next());m.retain-v>0&&y.next(m.retain-v)}for(var O=new f(R);d.hasNext()||y.hasNext();)if("insert"===y.peekType())O.push(y.next());else if("delete"===d.peekType())O.push(d.next());else{var S=Math.min(d.peekLength(),y.peekLength()),P=d.next(S),M=y.next(S);if("number"==typeof M.retain){var w={};"number"==typeof P.retain?w.retain=S:w.insert=P.insert;var x=g.attributes.compose(P.attributes,M.attributes,"number"==typeof P.retain);if(x&&(w.attributes=x),O.push(w),!y.hasNext()&&l(O.ops[O.ops.length-1],w)){var I=new f(d.rest());return O.concat(I).chop()}}else"number"==typeof M.delete&&"number"==typeof P.retain&&O.push(M)}return O.chop()},f.prototype.concat=function(b){var d=new f(this.ops.slice());return b.ops.length>0&&(d.push(b.ops[0]),d.ops=d.ops.concat(b.ops.slice(1))),d},f.prototype.diff=function(b,d){if(this.ops===b.ops)return new f;var y=[this,b].map(function(S){return S.map(function(P){if(null!=P.insert)return"string"==typeof P.insert?P.insert:"\0";throw new Error("diff() called "+(S===b?"on":"with")+" non-document")}).join("")}),R=new f,m=n(y[0],y[1],d),v=g.iterator(this.ops),O=g.iterator(b.ops);return m.forEach(function(S){for(var P=S[1].length;P>0;){var M=0;switch(S[0]){case n.INSERT:M=Math.min(O.peekLength(),P),R.push(O.next(M));break;case n.DELETE:M=Math.min(P,v.peekLength()),v.next(M),R.delete(M);break;case n.EQUAL:M=Math.min(v.peekLength(),O.peekLength(),P);var w=v.next(M),x=O.next(M);l(w.insert,x.insert)?R.retain(M,g.attributes.diff(w.attributes,x.attributes)):R.push(x).delete(M)}P-=M}}),R.chop()},f.prototype.eachLine=function(b,d){d=d||"\n";for(var y=g.iterator(this.ops),R=new f,m=0;y.hasNext();){if("insert"!==y.peekType())return;var v=y.peek(),O=g.length(v)-y.peekLength(),S="string"==typeof v.insert?v.insert.indexOf(d,O)-O:-1;if(S<0)R.push(y.next());else if(S>0)R.push(y.next(S));else{if(!1===b(R,y.next(1).attributes||{},m))return;m+=1,R=new f}}R.length()>0&&b(R,{},m)},f.prototype.transform=function(b,d){if(d=!!d,"number"==typeof b)return this.transformPosition(b,d);for(var y=g.iterator(this.ops),R=g.iterator(b.ops),m=new f;y.hasNext()||R.hasNext();)if("insert"!==y.peekType()||!d&&"insert"===R.peekType())if("insert"===R.peekType())m.push(R.next());else{var v=Math.min(y.peekLength(),R.peekLength()),O=y.next(v),S=R.next(v);if(O.delete)continue;S.delete?m.push(S):m.retain(v,g.attributes.transform(O.attributes,S.attributes,d))}else m.retain(g.length(y.next()));return m.chop()},f.prototype.transformPosition=function(b,d){d=!!d;for(var y=g.iterator(this.ops),R=0;y.hasNext()&&R<=b;){var m=y.peekLength(),v=y.peekType();y.next(),"delete"!==v?("insert"===v&&(R<b||!d)&&(b+=m),R+=m):b-=Math.min(m,b-R)}return b},re.exports=f},function(re,o){"use strict";var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString,l=Object.defineProperty,h=Object.getOwnPropertyDescriptor,g=function(y){return"function"==typeof Array.isArray?Array.isArray(y):"[object Array]"===n.call(y)},p=function(y){if(!y||"[object Object]"!==n.call(y))return!1;var v,R=e.call(y,"constructor"),m=y.constructor&&y.constructor.prototype&&e.call(y.constructor.prototype,"isPrototypeOf");if(y.constructor&&!R&&!m)return!1;for(v in y);return typeof v>"u"||e.call(y,v)},f=function(y,R){l&&"__proto__"===R.name?l(y,R.name,{enumerable:!0,configurable:!0,value:R.newValue,writable:!0}):y[R.name]=R.newValue},b=function(y,R){if("__proto__"===R){if(!e.call(y,R))return;if(h)return h(y,R).value}return y[R]};re.exports=function d(){var y,R,m,v,O,S,P=arguments[0],M=1,w=arguments.length,x=!1;for("boolean"==typeof P&&(x=P,P=arguments[1]||{},M=2),(null==P||"object"!=typeof P&&"function"!=typeof P)&&(P={});M<w;++M)if(null!=(y=arguments[M]))for(R in y)m=b(P,R),P!==(v=b(y,R))&&(x&&v&&(p(v)||(O=g(v)))?(O?(O=!1,S=m&&g(m)?m:[]):S=m&&p(m)?m:{},f(P,{name:R,newValue:d(x,S,v)})):typeof v<"u"&&f(P,{name:R,newValue:v}));return P}},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=o.BlockEmbed=o.bubbleFormats=void 0;var n=function(){function A(B,F){for(var $=0;$<F.length;$++){var U=F[$];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(B,U.key,U)}}return function(B,F,$){return F&&A(B.prototype,F),$&&A(B,$),B}}(),l=function A(B,F,$){null===B&&(B=Function.prototype);var U=Object.getOwnPropertyDescriptor(B,F);if(void 0===U){var G=Object.getPrototypeOf(B);return null===G?void 0:A(G,F,$)}if("value"in U)return U.value;var J=U.get;return void 0===J?void 0:J.call($)},g=P(e(3)),f=P(e(2)),d=P(e(0)),R=P(e(16)),v=P(e(6)),S=P(e(7));function P(A){return A&&A.__esModule?A:{default:A}}function M(A,B){if(!(A instanceof B))throw new TypeError("Cannot call a class as a function")}function w(A,B){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!B||"object"!=typeof B&&"function"!=typeof B?A:B}function x(A,B){if("function"!=typeof B&&null!==B)throw new TypeError("Super expression must either be null or a function, not "+typeof B);A.prototype=Object.create(B&&B.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(A,B):A.__proto__=B)}var _=function(A){function B(){return M(this,B),w(this,(B.__proto__||Object.getPrototypeOf(B)).apply(this,arguments))}return x(B,A),n(B,[{key:"attach",value:function(){l(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"attach",this).call(this),this.attributes=new d.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new f.default).insert(this.value(),(0,g.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function($,U){var G=d.default.query($,d.default.Scope.BLOCK_ATTRIBUTE);null!=G&&this.attributes.attribute(G,U)}},{key:"formatAt",value:function($,U,G,J){this.format(G,J)}},{key:"insertAt",value:function($,U,G){if("string"==typeof U&&U.endsWith("\n")){var J=d.default.create(C.blotName);this.parent.insertBefore(J,0===$?this:this.next),J.insertAt(0,U.slice(0,-1))}else l(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"insertAt",this).call(this,$,U,G)}}]),B}(d.default.Embed);_.scope=d.default.Scope.BLOCK_BLOT;var C=function(A){function B(F){M(this,B);var $=w(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,F));return $.cache={},$}return x(B,A),n(B,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(d.default.Leaf).reduce(function($,U){return 0===U.length()?$:$.insert(U.value(),D(U))},new f.default).insert("\n",D(this))),this.cache.delta}},{key:"deleteAt",value:function($,U){l(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"deleteAt",this).call(this,$,U),this.cache={}}},{key:"formatAt",value:function($,U,G,J){U<=0||(d.default.query(G,d.default.Scope.BLOCK)?$+U===this.length()&&this.format(G,J):l(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"formatAt",this).call(this,$,Math.min(U,this.length()-$-1),G,J),this.cache={})}},{key:"insertAt",value:function($,U,G){if(null!=G)return l(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"insertAt",this).call(this,$,U,G);if(0!==U.length){var J=U.split("\n"),te=J.shift();te.length>0&&($<this.length()-1||null==this.children.tail?l(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"insertAt",this).call(this,Math.min($,this.length()-1),te):this.children.tail.insertAt(this.children.tail.length(),te),this.cache={});var ne=this;J.reduce(function(K,k){return(ne=ne.split(K,!0)).insertAt(0,k),k.length},$+te.length)}}},{key:"insertBefore",value:function($,U){var G=this.children.head;l(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"insertBefore",this).call(this,$,U),G instanceof R.default&&G.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=l(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function($,U){l(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"moveChildren",this).call(this,$,U),this.cache={}}},{key:"optimize",value:function($){l(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"optimize",this).call(this,$),this.cache={}}},{key:"path",value:function($){return l(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"path",this).call(this,$,!0)}},{key:"removeChild",value:function($){l(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"removeChild",this).call(this,$),this.cache={}}},{key:"split",value:function($){var U=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(U&&(0===$||$>=this.length()-1)){var G=this.clone();return 0===$?(this.parent.insertBefore(G,this),this):(this.parent.insertBefore(G,this.next),G)}var J=l(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"split",this).call(this,$,U);return this.cache={},J}}]),B}(d.default.Block);function D(A){var B=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==A||("function"==typeof A.formats&&(B=(0,g.default)(B,A.formats())),null==A.parent||"scroll"==A.parent.blotName||A.parent.statics.scope!==A.statics.scope)?B:D(A.parent,B)}C.blotName="block",C.tagName="P",C.defaultChild="break",C.allowedChildren=[v.default,d.default.Embed,S.default],o.bubbleFormats=D,o.BlockEmbed=_,o.default=C},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=o.overload=o.expandConfig=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ne){return typeof ne}:function(ne){return ne&&"function"==typeof Symbol&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},l=function(){return function(K,k){if(Array.isArray(K))return K;if(Symbol.iterator in Object(K))return function ne(K,k){var j=[],W=!0,ie=!1,ce=void 0;try{for(var me,oe=K[Symbol.iterator]();!(W=(me=oe.next()).done)&&(j.push(me.value),!k||j.length!==k);W=!0);}catch(he){ie=!0,ce=he}finally{try{!W&&oe.return&&oe.return()}finally{if(ie)throw ce}}return j}(K,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(){function ne(K,k){for(var j=0;j<k.length;j++){var W=k[j];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(K,W.key,W)}}return function(K,k,j){return k&&ne(K.prototype,k),j&&ne(K,j),K}}();e(50);var p=D(e(2)),b=D(e(14)),y=D(e(8)),m=D(e(9)),O=D(e(0)),S=e(15),P=D(S),w=D(e(3)),I=D(e(10)),C=D(e(34));function D(ne){return ne&&ne.__esModule?ne:{default:ne}}function A(ne,K,k){return K in ne?Object.defineProperty(ne,K,{value:k,enumerable:!0,configurable:!0,writable:!0}):ne[K]=k,ne}var F=(0,I.default)("quill"),$=function(){function ne(K){var k=this,j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function B(ne,K){if(!(ne instanceof K))throw new TypeError("Cannot call a class as a function")}(this,ne),this.options=U(K,j),this.container=this.options.container,null==this.container)return F.error("Invalid Quill container",K);this.options.debug&&ne.debug(this.options.debug);var W=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new y.default,this.scroll=O.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new b.default(this.scroll),this.selection=new P.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(y.default.events.EDITOR_CHANGE,function(ce){ce===y.default.events.TEXT_CHANGE&&k.root.classList.toggle("ql-blank",k.editor.isBlank())}),this.emitter.on(y.default.events.SCROLL_UPDATE,function(ce,oe){var me=k.selection.lastRange,he=me&&0===me.length?me.index:void 0;G.call(k,function(){return k.editor.update(null,oe,he)},ce)});var ie=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+W+"<p><br></p></div>");this.setContents(ie),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return h(ne,null,[{key:"debug",value:function(k){!0===k&&(k="log"),I.default.level(k)}},{key:"find",value:function(k){return k.__quill||O.default.find(k)}},{key:"import",value:function(k){return null==this.imports[k]&&F.error("Cannot import "+k+". Are you sure it was registered?"),this.imports[k]}},{key:"register",value:function(k,j){var W=this,ie=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof k){var ce=k.attrName||k.blotName;"string"==typeof ce?this.register("formats/"+ce,k,j):Object.keys(k).forEach(function(oe){W.register(oe,k[oe],j)})}else null!=this.imports[k]&&!ie&&F.warn("Overwriting "+k+" with",j),this.imports[k]=j,(k.startsWith("blots/")||k.startsWith("formats/"))&&"abstract"!==j.blotName?O.default.register(j):k.startsWith("modules")&&"function"==typeof j.register&&j.register()}}]),h(ne,[{key:"addContainer",value:function(k){var j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof k){var W=k;(k=document.createElement("div")).classList.add(W)}return this.container.insertBefore(k,j),k}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(k,j,W){var ie=this,ce=J(k,j,W),oe=l(ce,4);return G.call(this,function(){return ie.editor.deleteText(k,j)},W=oe[3],k=oe[0],-1*(j=oe[1]))}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var k=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(k),this.container.classList.toggle("ql-disabled",!k)}},{key:"focus",value:function(){var k=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=k,this.scrollIntoView()}},{key:"format",value:function(k,j){var W=this;return G.call(this,function(){var ce=W.getSelection(!0),oe=new p.default;if(null==ce)return oe;if(O.default.query(k,O.default.Scope.BLOCK))oe=W.editor.formatLine(ce.index,ce.length,A({},k,j));else{if(0===ce.length)return W.selection.format(k,j),oe;oe=W.editor.formatText(ce.index,ce.length,A({},k,j))}return W.setSelection(ce,y.default.sources.SILENT),oe},arguments.length>2&&void 0!==arguments[2]?arguments[2]:y.default.sources.API)}},{key:"formatLine",value:function(k,j,W,ie,ce){var me,oe=this,he=J(k,j,W,ie,ce),Oe=l(he,4);return j=Oe[1],me=Oe[2],G.call(this,function(){return oe.editor.formatLine(k,j,me)},ce=Oe[3],k=Oe[0],0)}},{key:"formatText",value:function(k,j,W,ie,ce){var me,oe=this,he=J(k,j,W,ie,ce),Oe=l(he,4);return j=Oe[1],me=Oe[2],G.call(this,function(){return oe.editor.formatText(k,j,me)},ce=Oe[3],k=Oe[0],0)}},{key:"getBounds",value:function(k){var W;W="number"==typeof k?this.selection.getBounds(k,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.selection.getBounds(k.index,k.length);var ie=this.container.getBoundingClientRect();return{bottom:W.bottom-ie.top,height:W.height,left:W.left-ie.left,right:W.right-ie.left,top:W.top-ie.top,width:W.width}}},{key:"getContents",value:function(){var k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-k,W=J(k,j),ie=l(W,2);return this.editor.getContents(k=ie[0],j=ie[1])}},{key:"getFormat",value:function(){var k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0);return"number"==typeof k?this.editor.getFormat(k,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.editor.getFormat(k.index,k.length)}},{key:"getIndex",value:function(k){return k.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(k){return this.scroll.leaf(k)}},{key:"getLine",value:function(k){return this.scroll.line(k)}},{key:"getLines",value:function(){var k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof k?this.scroll.lines(k.index,k.length):this.scroll.lines(k,j)}},{key:"getModule",value:function(k){return this.theme.modules[k]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-k,W=J(k,j),ie=l(W,2);return this.editor.getText(k=ie[0],j=ie[1])}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(k,j,W){var ie=this;return G.call(this,function(){return ie.editor.insertEmbed(k,j,W)},arguments.length>3&&void 0!==arguments[3]?arguments[3]:ne.sources.API,k)}},{key:"insertText",value:function(k,j,W,ie,ce){var me,oe=this,he=J(k,0,W,ie,ce),Oe=l(he,4);return me=Oe[2],G.call(this,function(){return oe.editor.insertText(k,j,me)},ce=Oe[3],k=Oe[0],j.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(k,j,W){this.clipboard.dangerouslyPasteHTML(k,j,W)}},{key:"removeFormat",value:function(k,j,W){var ie=this,ce=J(k,j,W),oe=l(ce,4);return j=oe[1],G.call(this,function(){return ie.editor.removeFormat(k,j)},W=oe[3],k=oe[0])}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(k){var j=this;return G.call(this,function(){k=new p.default(k);var ie=j.getLength(),ce=j.editor.deleteText(0,ie),oe=j.editor.applyDelta(k),me=oe.ops[oe.ops.length-1];return null!=me&&"string"==typeof me.insert&&"\n"===me.insert[me.insert.length-1]&&(j.editor.deleteText(j.getLength()-1,1),oe.delete(1)),ce.compose(oe)},arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.default.sources.API)}},{key:"setSelection",value:function(k,j,W){if(null==k)this.selection.setRange(null,j||ne.sources.API);else{var ie=J(k,j,W),ce=l(ie,4);W=ce[3],this.selection.setRange(new S.Range(k=ce[0],j=ce[1]),W),W!==y.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(k){var j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.default.sources.API,W=(new p.default).insert(k);return this.setContents(W,j)}},{key:"update",value:function(){var k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y.default.sources.USER,j=this.scroll.update(k);return this.selection.update(k),j}},{key:"updateContents",value:function(k){var j=this,W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.default.sources.API;return G.call(this,function(){return k=new p.default(k),j.editor.applyDelta(k,W)},W,!0)}}]),ne}();function U(ne,K){if((K=(0,w.default)(!0,{container:ne,modules:{clipboard:!0,keyboard:!0,history:!0}},K)).theme&&K.theme!==$.DEFAULTS.theme){if(K.theme=$.import("themes/"+K.theme),null==K.theme)throw new Error("Invalid theme "+K.theme+". Did you register it?")}else K.theme=C.default;var k=(0,w.default)(!0,{},K.theme.DEFAULTS);[k,K].forEach(function(ie){ie.modules=ie.modules||{},Object.keys(ie.modules).forEach(function(ce){!0===ie.modules[ce]&&(ie.modules[ce]={})})});var W=Object.keys(k.modules).concat(Object.keys(K.modules)).reduce(function(ie,ce){var oe=$.import("modules/"+ce);return null==oe?F.error("Cannot load "+ce+" module. Are you sure you registered it?"):ie[ce]=oe.DEFAULTS||{},ie},{});return null!=K.modules&&K.modules.toolbar&&K.modules.toolbar.constructor!==Object&&(K.modules.toolbar={container:K.modules.toolbar}),K=(0,w.default)(!0,{},$.DEFAULTS,{modules:W},k,K),["bounds","container","scrollingContainer"].forEach(function(ie){"string"==typeof K[ie]&&(K[ie]=document.querySelector(K[ie]))}),K.modules=Object.keys(K.modules).reduce(function(ie,ce){return K.modules[ce]&&(ie[ce]=K.modules[ce]),ie},{}),K}function G(ne,K,k,j){if(this.options.strict&&!this.isEnabled()&&K===y.default.sources.USER)return new p.default;var W=null==k?null:this.getSelection(),ie=this.editor.delta,ce=ne();if(null!=W&&(!0===k&&(k=W.index),null==j?W=te(W,ce,K):0!==j&&(W=te(W,k,j,K)),this.setSelection(W,y.default.sources.SILENT)),ce.length()>0){var oe,he,me=[y.default.events.TEXT_CHANGE,ce,ie,K];(oe=this.emitter).emit.apply(oe,[y.default.events.EDITOR_CHANGE].concat(me)),K!==y.default.sources.SILENT&&(he=this.emitter).emit.apply(he,me)}return ce}function J(ne,K,k,j,W){var ie={};return"number"==typeof ne.index&&"number"==typeof ne.length?"number"!=typeof K?(W=j,j=k,k=K,K=ne.length,ne=ne.index):(K=ne.length,ne=ne.index):"number"!=typeof K&&(W=j,j=k,k=K,K=0),"object"===(typeof k>"u"?"undefined":n(k))?(ie=k,W=j):"string"==typeof k&&(null!=j?ie[k]=j:W=k),[ne,K,ie,W=W||y.default.sources.API]}function te(ne,K,k,j){if(null==ne)return null;var W=void 0,ie=void 0;if(K instanceof p.default){var ce=[ne.index,ne.index+ne.length].map(function(Oe){return K.transformPosition(Oe,j!==y.default.sources.USER)}),oe=l(ce,2);W=oe[0],ie=oe[1]}else{var me=[ne.index,ne.index+ne.length].map(function(Oe){return Oe<K||Oe===K&&j===y.default.sources.USER?Oe:k>=0?Oe+k:Math.max(K,Oe+k)}),he=l(me,2);W=he[0],ie=he[1]}return new S.Range(W,ie-W)}$.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},$.events=y.default.events,$.sources=y.default.sources,$.version="1.3.7",$.imports={delta:p.default,parchment:O.default,"core/module":m.default,"core/theme":C.default},o.expandConfig=U,o.overload=J,o.default=$},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function v(O,S){for(var P=0;P<S.length;P++){var M=S[P];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(O,M.key,M)}}return function(O,S,P){return S&&v(O.prototype,S),P&&v(O,P),O}}(),l=function v(O,S,P){null===O&&(O=Function.prototype);var M=Object.getOwnPropertyDescriptor(O,S);if(void 0===M){var w=Object.getPrototypeOf(O);return null===w?void 0:v(w,S,P)}if("value"in M)return M.value;var x=M.get;return void 0===x?void 0:x.call(P)},g=b(e(7)),f=b(e(0));function b(v){return v&&v.__esModule?v:{default:v}}var m=function(v){function O(){return function d(v,O){if(!(v instanceof O))throw new TypeError("Cannot call a class as a function")}(this,O),function y(v,O){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?v:O}(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return function R(v,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function, not "+typeof O);v.prototype=Object.create(O&&O.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(v,O):v.__proto__=O)}(O,v),n(O,[{key:"formatAt",value:function(P,M,w,x){if(O.compare(this.statics.blotName,w)<0&&f.default.query(w,f.default.Scope.BLOT)){var I=this.isolate(P,M);x&&I.wrap(w,x)}else l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"formatAt",this).call(this,P,M,w,x)}},{key:"optimize",value:function(P){if(l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,P),this.parent instanceof O&&O.compare(this.statics.blotName,this.parent.statics.blotName)>0){var M=this.parent.isolate(this.offset(),this.length());this.moveChildren(M),M.wrap(this)}}}],[{key:"compare",value:function(P,M){var w=O.order.indexOf(P),x=O.order.indexOf(M);return w>=0||x>=0?w-x:P===M?0:P<M?-1:1}}]),O}(f.default.Inline);m.allowedChildren=[m,f.default.Embed,g.default],m.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],o.default=m},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var b=function(d){function y(){return function g(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}(this,y),function p(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?d:y}(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return function f(d,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}(y,d),y}(function h(d){return d&&d.__esModule?d:{default:d}}(e(0)).default.Text);o.default=b},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function S(P,M){for(var w=0;w<M.length;w++){var x=M[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(P,x.key,x)}}return function(P,M,w){return M&&S(P.prototype,M),w&&S(P,w),P}}(),l=function S(P,M,w){null===P&&(P=Function.prototype);var x=Object.getOwnPropertyDescriptor(P,M);if(void 0===x){var I=Object.getPrototypeOf(P);return null===I?void 0:S(I,M,w)}if("value"in x)return x.value;var _=x.get;return void 0===_?void 0:_.call(w)},g=b(e(54));function b(S){return S&&S.__esModule?S:{default:S}}var m=(0,b(e(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(S){document.addEventListener(S,function(){for(var P=arguments.length,M=Array(P),w=0;w<P;w++)M[w]=arguments[w];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(x){var I;x.__quill&&x.__quill.emitter&&(I=x.__quill.emitter).handleDOM.apply(I,M)})})});var O=function(S){function P(){!function d(S,P){if(!(S instanceof P))throw new TypeError("Cannot call a class as a function")}(this,P);var M=function y(S,P){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||"object"!=typeof P&&"function"!=typeof P?S:P}(this,(P.__proto__||Object.getPrototypeOf(P)).call(this));return M.listeners={},M.on("error",m.error),M}return function R(S,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function, not "+typeof P);S.prototype=Object.create(P&&P.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(S,P):S.__proto__=P)}(P,S),n(P,[{key:"emit",value:function(){m.log.apply(m,arguments),l(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(w){for(var x=arguments.length,I=Array(x>1?x-1:0),_=1;_<x;_++)I[_-1]=arguments[_];(this.listeners[w.type]||[]).forEach(function(C){var D=C.node,A=C.handler;(w.target===D||D.contains(w.target))&&A.apply(void 0,[w].concat(I))})}},{key:"listenDOM",value:function(w,x,I){this.listeners[w]||(this.listeners[w]=[]),this.listeners[w].push({node:x,handler:I})}}]),P}(g.default);O.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},O.sources={API:"api",SILENT:"silent",USER:"user"},o.default=O},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var l=function h(g){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(function n(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")})(this,h),this.quill=g,this.options=p};l.DEFAULTS={},o.default=l},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=["error","warn","log","info"],l="warn";function h(p){if(n.indexOf(p)<=n.indexOf(l)){for(var f,b=arguments.length,d=Array(b>1?b-1:0),y=1;y<b;y++)d[y-1]=arguments[y];(f=console)[p].apply(f,d)}}function g(p){return n.reduce(function(f,b){return f[b]=h.bind(console,b,p),f},{})}h.level=g.level=function(p){l=p},o.default=g},function(re,o,e){var n=Array.prototype.slice,l=e(52),h=e(53),g=re.exports=function(d,y,R){return R||(R={}),d===y||(d instanceof Date&&y instanceof Date?d.getTime()===y.getTime():!d||!y||"object"!=typeof d&&"object"!=typeof y?R.strict?d===y:d==y:function b(d,y,R){var m,v;if(p(d)||p(y)||d.prototype!==y.prototype)return!1;if(h(d))return!!h(y)&&(d=n.call(d),y=n.call(y),g(d,y,R));if(f(d)){if(!f(y)||d.length!==y.length)return!1;for(m=0;m<d.length;m++)if(d[m]!==y[m])return!1;return!0}try{var O=l(d),S=l(y)}catch{return!1}if(O.length!=S.length)return!1;for(O.sort(),S.sort(),m=O.length-1;m>=0;m--)if(O[m]!=S[m])return!1;for(m=O.length-1;m>=0;m--)if(!g(d[v=O[m]],y[v],R))return!1;return typeof d==typeof y}(d,y,R))};function p(d){return null==d}function f(d){return!(!d||"object"!=typeof d||"number"!=typeof d.length||"function"!=typeof d.copy||"function"!=typeof d.slice||d.length>0&&"number"!=typeof d[0])}},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=e(1),l=function(){function h(g,p,f){void 0===f&&(f={}),this.attrName=g,this.keyName=p,this.scope=null!=f.scope?f.scope&n.Scope.LEVEL|n.Scope.TYPE&n.Scope.ATTRIBUTE:n.Scope.ATTRIBUTE,null!=f.whitelist&&(this.whitelist=f.whitelist)}return h.keys=function(g){return[].map.call(g.attributes,function(p){return p.name})},h.prototype.add=function(g,p){return!!this.canAdd(g,p)&&(g.setAttribute(this.keyName,p),!0)},h.prototype.canAdd=function(g,p){return null!=n.query(g,n.Scope.BLOT&(this.scope|n.Scope.TYPE))&&(null==this.whitelist||("string"==typeof p?this.whitelist.indexOf(p.replace(/["']/g,""))>-1:this.whitelist.indexOf(p)>-1))},h.prototype.remove=function(g){g.removeAttribute(this.keyName)},h.prototype.value=function(g){var p=g.getAttribute(this.keyName);return this.canAdd(g,p)&&p?p:""},h}();o.default=l},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=o.Code=void 0;var n=function(){return function(C,D){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return function _(C,D){var A=[],B=!0,F=!1,$=void 0;try{for(var G,U=C[Symbol.iterator]();!(B=(G=U.next()).done)&&(A.push(G.value),!D||A.length!==D);B=!0);}catch(J){F=!0,$=J}finally{try{!B&&U.return&&U.return()}finally{if(F)throw $}}return A}(C,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function _(C,D){for(var A=0;A<D.length;A++){var B=D[A];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(C,B.key,B)}}return function(C,D,A){return D&&_(C.prototype,D),A&&_(C,A),C}}(),h=function _(C,D,A){null===C&&(C=Function.prototype);var B=Object.getOwnPropertyDescriptor(C,D);if(void 0===B){var F=Object.getPrototypeOf(C);return null===F?void 0:_(F,D,A)}if("value"in B)return B.value;var $=B.get;return void 0===$?void 0:$.call(A)},p=S(e(2)),b=S(e(0)),y=S(e(4)),m=S(e(6)),O=S(e(7));function S(_){return _&&_.__esModule?_:{default:_}}function P(_,C){if(!(_ instanceof C))throw new TypeError("Cannot call a class as a function")}function M(_,C){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?_:C}function w(_,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);_.prototype=Object.create(C&&C.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(_,C):_.__proto__=C)}var x=function(_){function C(){return P(this,C),M(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return w(C,_),C}(m.default);x.blotName="code",x.tagName="CODE";var I=function(_){function C(){return P(this,C),M(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return w(C,_),l(C,[{key:"delta",value:function(){var A=this,B=this.domNode.textContent;return B.endsWith("\n")&&(B=B.slice(0,-1)),B.split("\n").reduce(function(F,$){return F.insert($).insert("\n",A.formats())},new p.default)}},{key:"format",value:function(A,B){if(A!==this.statics.blotName||!B){var F=this.descendant(O.default,this.length()-1),U=n(F,1)[0];U?.deleteAt(U.length()-1,1),h(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"format",this).call(this,A,B)}}},{key:"formatAt",value:function(A,B,F,$){if(0!==B&&null!=b.default.query(F,b.default.Scope.BLOCK)&&(F!==this.statics.blotName||$!==this.statics.formats(this.domNode))){var U=this.newlineIndex(A);if(!(U<0||U>=A+B)){var G=this.newlineIndex(A,!0)+1,J=U-G+1,te=this.isolate(G,J),ne=te.next;te.format(F,$),ne instanceof C&&ne.formatAt(0,A-G+B-J,F,$)}}}},{key:"insertAt",value:function(A,B,F){if(null==F){var $=this.descendant(O.default,A),U=n($,2);U[0].insertAt(U[1],B)}}},{key:"length",value:function(){var A=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?A:A+1}},{key:"newlineIndex",value:function(A){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,A).lastIndexOf("\n");var F=this.domNode.textContent.slice(A).indexOf("\n");return F>-1?A+F:-1}},{key:"optimize",value:function(A){this.domNode.textContent.endsWith("\n")||this.appendChild(b.default.create("text","\n")),h(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"optimize",this).call(this,A);var B=this.next;null!=B&&B.prev===this&&B.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===B.statics.formats(B.domNode)&&(B.optimize(A),B.moveChildren(this),B.remove())}},{key:"replace",value:function(A){h(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"replace",this).call(this,A),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(B){var F=b.default.find(B);null==F?B.parentNode.removeChild(B):F instanceof b.default.Embed?F.remove():F.unwrap()})}}],[{key:"create",value:function(A){var B=h(C.__proto__||Object.getPrototypeOf(C),"create",this).call(this,A);return B.setAttribute("spellcheck",!1),B}},{key:"formats",value:function(){return!0}}]),C}(y.default);I.blotName="code-block",I.tagName="PRE",I.TAB="  ",o.Code=x,o.default=I},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ne){return typeof ne}:function(ne){return ne&&"function"==typeof Symbol&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},l=function(){return function(K,k){if(Array.isArray(K))return K;if(Symbol.iterator in Object(K))return function ne(K,k){var j=[],W=!0,ie=!1,ce=void 0;try{for(var me,oe=K[Symbol.iterator]();!(W=(me=oe.next()).done)&&(j.push(me.value),!k||j.length!==k);W=!0);}catch(he){ie=!0,ce=he}finally{try{!W&&oe.return&&oe.return()}finally{if(ie)throw ce}}return j}(K,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(){function ne(K,k){for(var j=0;j<k.length;j++){var W=k[j];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(K,W.key,W)}}return function(K,k,j){return k&&ne(K.prototype,k),j&&ne(K,j),K}}(),p=B(e(2)),b=B(e(20)),y=B(e(0)),m=B(e(13)),O=B(e(24)),S=e(4),P=B(S),w=B(e(16)),I=B(e(21)),C=B(e(11)),A=B(e(3));function B(ne){return ne&&ne.__esModule?ne:{default:ne}}var U=/^[ -~]*$/,G=function(){function ne(K){(function $(ne,K){if(!(ne instanceof K))throw new TypeError("Cannot call a class as a function")})(this,ne),this.scroll=K,this.delta=this.getDelta()}return h(ne,[{key:"applyDelta",value:function(k){var j=this,W=!1;this.scroll.update();var ie=this.scroll.length();return this.scroll.batchStart(),(k=function te(ne){return ne.reduce(function(K,k){if(1===k.insert){var j=(0,I.default)(k.attributes);return delete j.image,K.insert({image:k.attributes.image},j)}if(null!=k.attributes&&(!0===k.attributes.list||!0===k.attributes.bullet)&&((k=(0,I.default)(k)).attributes.list?k.attributes.list="ordered":(k.attributes.list="bullet",delete k.attributes.bullet)),"string"==typeof k.insert){var W=k.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return K.insert(W,k.attributes)}return K.push(k)},new p.default)}(k)).reduce(function(ce,oe){var me=oe.retain||oe.delete||oe.insert.length||1,he=oe.attributes||{};if(null!=oe.insert){if("string"==typeof oe.insert){var Oe=oe.insert;Oe.endsWith("\n")&&W&&(W=!1,Oe=Oe.slice(0,-1)),ce>=ie&&!Oe.endsWith("\n")&&(W=!0),j.scroll.insertAt(ce,Oe);var we=j.scroll.line(ce),We=l(we,2),Xe=We[0],Me=We[1],ge=(0,A.default)({},(0,S.bubbleFormats)(Xe));if(Xe instanceof P.default){var pe=Xe.descendant(y.default.Leaf,Me),Ee=l(pe,1);ge=(0,A.default)(ge,(0,S.bubbleFormats)(Ee[0]))}he=b.default.attributes.diff(ge,he)||{}}else if("object"===n(oe.insert)){var Qe=Object.keys(oe.insert)[0];if(null==Qe)return ce;j.scroll.insertAt(ce,Qe,oe.insert[Qe])}ie+=me}return Object.keys(he).forEach(function($e){j.scroll.formatAt(ce,me,$e,he[$e])}),ce+me},0),k.reduce(function(ce,oe){return"number"==typeof oe.delete?(j.scroll.deleteAt(ce,oe.delete),ce):ce+(oe.retain||oe.insert.length||1)},0),this.scroll.batchEnd(),this.update(k)}},{key:"deleteText",value:function(k,j){return this.scroll.deleteAt(k,j),this.update((new p.default).retain(k).delete(j))}},{key:"formatLine",value:function(k,j){var W=this,ie=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(ie).forEach(function(ce){if(null==W.scroll.whitelist||W.scroll.whitelist[ce]){var oe=W.scroll.lines(k,Math.max(j,1)),me=j;oe.forEach(function(he){var Oe=he.length();if(he instanceof m.default){var we=k-he.offset(W.scroll),We=he.newlineIndex(we+me)-we+1;he.formatAt(we,We,ce,ie[ce])}else he.format(ce,ie[ce]);me-=Oe})}}),this.scroll.optimize(),this.update((new p.default).retain(k).retain(j,(0,I.default)(ie)))}},{key:"formatText",value:function(k,j){var W=this,ie=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(ie).forEach(function(ce){W.scroll.formatAt(k,j,ce,ie[ce])}),this.update((new p.default).retain(k).retain(j,(0,I.default)(ie)))}},{key:"getContents",value:function(k,j){return this.delta.slice(k,k+j)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(k,j){return k.concat(j.delta())},new p.default)}},{key:"getFormat",value:function(k){var j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,W=[],ie=[];0===j?this.scroll.path(k).forEach(function(oe){var he=l(oe,1)[0];he instanceof P.default?W.push(he):he instanceof y.default.Leaf&&ie.push(he)}):(W=this.scroll.lines(k,j),ie=this.scroll.descendants(y.default.Leaf,k,j));var ce=[W,ie].map(function(oe){if(0===oe.length)return{};for(var me=(0,S.bubbleFormats)(oe.shift());Object.keys(me).length>0;){var he=oe.shift();if(null==he)return me;me=J((0,S.bubbleFormats)(he),me)}return me});return A.default.apply(A.default,ce)}},{key:"getText",value:function(k,j){return this.getContents(k,j).filter(function(W){return"string"==typeof W.insert}).map(function(W){return W.insert}).join("")}},{key:"insertEmbed",value:function(k,j,W){return this.scroll.insertAt(k,j,W),this.update((new p.default).retain(k).insert(function F(ne,K,k){return K in ne?Object.defineProperty(ne,K,{value:k,enumerable:!0,configurable:!0,writable:!0}):ne[K]=k,ne}({},j,W)))}},{key:"insertText",value:function(k,j){var W=this,ie=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return j=j.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(k,j),Object.keys(ie).forEach(function(ce){W.scroll.formatAt(k,j.length,ce,ie[ce])}),this.update((new p.default).retain(k).insert(j,(0,I.default)(ie)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var k=this.scroll.children.head;return!(k.statics.blotName!==P.default.blotName||k.children.length>1)&&k.children.head instanceof w.default}},{key:"removeFormat",value:function(k,j){var W=this.getText(k,j),ie=this.scroll.line(k+j),ce=l(ie,2),oe=ce[0],me=ce[1],he=0,Oe=new p.default;null!=oe&&(he=oe instanceof m.default?oe.newlineIndex(me)-me+1:oe.length()-me,Oe=oe.delta().slice(me,me+he-1).insert("\n"));var We=this.getContents(k,j+he).diff((new p.default).insert(W).concat(Oe)),Xe=(new p.default).retain(k).concat(We);return this.applyDelta(Xe)}},{key:"update",value:function(k){var j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],W=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,ie=this.delta;if(1===j.length&&"characterData"===j[0].type&&j[0].target.data.match(U)&&y.default.find(j[0].target)){var ce=y.default.find(j[0].target),oe=(0,S.bubbleFormats)(ce),me=ce.offset(this.scroll),he=j[0].oldValue.replace(O.default.CONTENTS,""),Oe=(new p.default).insert(he),we=(new p.default).insert(ce.value());k=(new p.default).retain(me).concat(Oe.diff(we,W)).reduce(function(Xe,Me){return Me.insert?Xe.insert(Me.insert,oe):Xe.push(Me)},new p.default),this.delta=ie.compose(k)}else this.delta=this.getDelta(),(!k||!(0,C.default)(ie.compose(k),this.delta))&&(k=ie.diff(this.delta,W));return k}}]),ne}();function J(ne,K){return Object.keys(K).reduce(function(k,j){return null==ne[j]||(K[j]===ne[j]?k[j]=K[j]:Array.isArray(K[j])?K[j].indexOf(ne[j])<0&&(k[j]=K[j].concat([ne[j]])):k[j]=[K[j],ne[j]]),k},{})}o.default=G},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=o.Range=void 0;var n=function(){return function(C,D){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return function _(C,D){var A=[],B=!0,F=!1,$=void 0;try{for(var G,U=C[Symbol.iterator]();!(B=(G=U.next()).done)&&(A.push(G.value),!D||A.length!==D);B=!0);}catch(J){F=!0,$=J}finally{try{!B&&U.return&&U.return()}finally{if(F)throw $}}return A}(C,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function _(C,D){for(var A=0;A<D.length;A++){var B=D[A];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(C,B.key,B)}}return function(C,D,A){return D&&_(C.prototype,D),A&&_(C,A),C}}(),g=O(e(0)),f=O(e(21)),d=O(e(11)),R=O(e(8));function O(_){return _&&_.__esModule?_:{default:_}}function S(_){if(Array.isArray(_)){for(var C=0,D=Array(_.length);C<_.length;C++)D[C]=_[C];return D}return Array.from(_)}function P(_,C){if(!(_ instanceof C))throw new TypeError("Cannot call a class as a function")}var M=(0,O(e(10)).default)("quill:selection"),w=function _(C){var D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;P(this,_),this.index=C,this.length=D},x=function(){function _(C,D){var A=this;P(this,_),this.emitter=D,this.scroll=C,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=g.default.create("cursor",this),this.lastRange=this.savedRange=new w(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){A.mouseDown||setTimeout(A.update.bind(A,R.default.sources.USER),1)}),this.emitter.on(R.default.events.EDITOR_CHANGE,function(B,F){B===R.default.events.TEXT_CHANGE&&F.length()>0&&A.update(R.default.sources.SILENT)}),this.emitter.on(R.default.events.SCROLL_BEFORE_UPDATE,function(){if(A.hasFocus()){var B=A.getNativeRange();null!=B&&B.start.node!==A.cursor.textNode&&A.emitter.once(R.default.events.SCROLL_UPDATE,function(){try{A.setNativeRange(B.start.node,B.start.offset,B.end.node,B.end.offset)}catch{}})}}),this.emitter.on(R.default.events.SCROLL_OPTIMIZE,function(B,F){if(F.range){var $=F.range;A.setNativeRange($.startNode,$.startOffset,$.endNode,$.endOffset)}}),this.update(R.default.sources.SILENT)}return l(_,[{key:"handleComposition",value:function(){var D=this;this.root.addEventListener("compositionstart",function(){D.composing=!0}),this.root.addEventListener("compositionend",function(){if(D.composing=!1,D.cursor.parent){var A=D.cursor.restore();if(!A)return;setTimeout(function(){D.setNativeRange(A.startNode,A.startOffset,A.endNode,A.endOffset)},1)}})}},{key:"handleDragging",value:function(){var D=this;this.emitter.listenDOM("mousedown",document.body,function(){D.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){D.mouseDown=!1,D.update(R.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(D,A){if(null==this.scroll.whitelist||this.scroll.whitelist[D]){this.scroll.update();var B=this.getNativeRange();if(null!=B&&B.native.collapsed&&!g.default.query(D,g.default.Scope.BLOCK)){if(B.start.node!==this.cursor.textNode){var F=g.default.find(B.start.node,!1);if(null==F)return;if(F instanceof g.default.Leaf){var $=F.split(B.start.offset);F.parent.insertBefore(this.cursor,$)}else F.insertBefore(this.cursor,B.start.node);this.cursor.attach()}this.cursor.format(D,A),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(D){var A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,B=this.scroll.length();D=Math.min(D,B-1),A=Math.min(D+A,B-1)-D;var F=void 0,$=this.scroll.leaf(D),U=n($,2),G=U[0],J=U[1];if(null==G)return null;var te=G.position(J,!0),ne=n(te,2);F=ne[0],J=ne[1];var K=document.createRange();if(A>0){K.setStart(F,J);var k=this.scroll.leaf(D+A),j=n(k,2);if(null==(G=j[0]))return null;var W=G.position(J=j[1],!0),ie=n(W,2);return K.setEnd(F=ie[0],J=ie[1]),K.getBoundingClientRect()}var ce="left",oe=void 0;return F instanceof Text?(J<F.data.length?(K.setStart(F,J),K.setEnd(F,J+1)):(K.setStart(F,J-1),K.setEnd(F,J),ce="right"),oe=K.getBoundingClientRect()):(oe=G.domNode.getBoundingClientRect(),J>0&&(ce="right")),{bottom:oe.top+oe.height,height:oe.height,left:oe[ce],right:oe[ce],top:oe.top,width:0}}},{key:"getNativeRange",value:function(){var D=document.getSelection();if(null==D||D.rangeCount<=0)return null;var A=D.getRangeAt(0);if(null==A)return null;var B=this.normalizeNative(A);return M.info("getNativeRange",B),B}},{key:"getRange",value:function(){var D=this.getNativeRange();return null==D?[null,null]:[this.normalizedToRange(D),D]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(D){var A=this,B=[[D.start.node,D.start.offset]];D.native.collapsed||B.push([D.end.node,D.end.offset]);var F=B.map(function(G){var J=n(G,2),te=J[0],ne=J[1],K=g.default.find(te,!0),k=K.offset(A.scroll);return 0===ne?k:K instanceof g.default.Container?k+K.length():k+K.index(te,ne)}),$=Math.min(Math.max.apply(Math,S(F)),this.scroll.length()-1),U=Math.min.apply(Math,[$].concat(S(F)));return new w(U,$-U)}},{key:"normalizeNative",value:function(D){if(!I(this.root,D.startContainer)||!D.collapsed&&!I(this.root,D.endContainer))return null;var A={start:{node:D.startContainer,offset:D.startOffset},end:{node:D.endContainer,offset:D.endOffset},native:D};return[A.start,A.end].forEach(function(B){for(var F=B.node,$=B.offset;!(F instanceof Text)&&F.childNodes.length>0;)if(F.childNodes.length>$)F=F.childNodes[$],$=0;else{if(F.childNodes.length!==$)break;$=(F=F.lastChild)instanceof Text?F.data.length:F.childNodes.length+1}B.node=F,B.offset=$}),A}},{key:"rangeToNative",value:function(D){var A=this,B=D.collapsed?[D.index]:[D.index,D.index+D.length],F=[],$=this.scroll.length();return B.forEach(function(U,G){U=Math.min($-1,U);var te=A.scroll.leaf(U),ne=n(te,2),k=ne[1],j=ne[0].position(k,0!==G),W=n(j,2);F.push(W[0],k=W[1])}),F.length<2&&(F=F.concat(F)),F}},{key:"scrollIntoView",value:function(D){var A=this.lastRange;if(null!=A){var B=this.getBounds(A.index,A.length);if(null!=B){var F=this.scroll.length()-1,$=this.scroll.line(Math.min(A.index,F)),G=n($,1)[0],J=G;if(A.length>0){var te=this.scroll.line(Math.min(A.index+A.length,F));J=n(te,1)[0]}if(null!=G&&null!=J){var K=D.getBoundingClientRect();B.top<K.top?D.scrollTop-=K.top-B.top:B.bottom>K.bottom&&(D.scrollTop+=B.bottom-K.bottom)}}}}},{key:"setNativeRange",value:function(D,A){var B=arguments.length>2&&void 0!==arguments[2]?arguments[2]:D,F=arguments.length>3&&void 0!==arguments[3]?arguments[3]:A,$=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(M.info("setNativeRange",D,A,B,F),null==D||null!=this.root.parentNode&&null!=D.parentNode&&null!=B.parentNode){var U=document.getSelection();if(null!=U)if(null!=D){this.hasFocus()||this.root.focus();var G=(this.getNativeRange()||{}).native;if(null==G||$||D!==G.startContainer||A!==G.startOffset||B!==G.endContainer||F!==G.endOffset){"BR"==D.tagName&&(A=[].indexOf.call(D.parentNode.childNodes,D),D=D.parentNode),"BR"==B.tagName&&(F=[].indexOf.call(B.parentNode.childNodes,B),B=B.parentNode);var J=document.createRange();J.setStart(D,A),J.setEnd(B,F),U.removeAllRanges(),U.addRange(J)}}else U.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(D){var A=arguments.length>1&&void 0!==arguments[1]&&arguments[1],B=arguments.length>2&&void 0!==arguments[2]?arguments[2]:R.default.sources.API;if("string"==typeof A&&(B=A,A=!1),M.info("setRange",D),null!=D){var F=this.rangeToNative(D);this.setNativeRange.apply(this,S(F).concat([A]))}else this.setNativeRange(null);this.update(B)}},{key:"update",value:function(){var D=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R.default.sources.USER,A=this.lastRange,B=this.getRange(),F=n(B,2),U=F[1];if(this.lastRange=F[0],null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,d.default)(A,this.lastRange)){var G;!this.composing&&null!=U&&U.native.collapsed&&U.start.node!==this.cursor.textNode&&this.cursor.restore();var te,J=[R.default.events.SELECTION_CHANGE,(0,f.default)(this.lastRange),(0,f.default)(A),D];(G=this.emitter).emit.apply(G,[R.default.events.EDITOR_CHANGE].concat(J)),D!==R.default.sources.SILENT&&(te=this.emitter).emit.apply(te,J)}}}]),_}();function I(_,C){return C instanceof Text&&(C=C.parentNode),_.contains(C)}o.Range=w,o.default=x},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function R(m,v){for(var O=0;O<v.length;O++){var S=v[O];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}return function(m,v,O){return v&&R(m.prototype,v),O&&R(m,O),m}}(),l=function R(m,v,O){null===m&&(m=Function.prototype);var S=Object.getOwnPropertyDescriptor(m,v);if(void 0===S){var P=Object.getPrototypeOf(m);return null===P?void 0:R(P,v,O)}if("value"in S)return S.value;var M=S.get;return void 0===M?void 0:M.call(O)};var y=function(R){function m(){return function f(R,m){if(!(R instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),function b(R,m){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?R:m}(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return function d(R,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);R.prototype=Object.create(m&&m.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(R,m):R.__proto__=m)}(m,R),n(m,[{key:"insertInto",value:function(O,S){0===O.children.length?l(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"insertInto",this).call(this,O,S):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),m}(function p(R){return R&&R.__esModule?R:{default:R}}(e(0)).default.Embed);y.blotName="break",y.tagName="BR",o.default=y},function(re,o,e){"use strict";var b,n=this&&this.__extends||(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var R in y)y.hasOwnProperty(R)&&(d[R]=y[R])},function(d,y){function R(){this.constructor=d}b(d,y),d.prototype=null===y?Object.create(y):(R.prototype=y.prototype,new R)});Object.defineProperty(o,"__esModule",{value:!0});var l=e(44),h=e(30),g=e(1),p=function(b){function d(y){var R=b.call(this,y)||this;return R.build(),R}return n(d,b),d.prototype.appendChild=function(y){this.insertBefore(y)},d.prototype.attach=function(){b.prototype.attach.call(this),this.children.forEach(function(y){y.attach()})},d.prototype.build=function(){var y=this;this.children=new l.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(R){try{var m=f(R);y.insertBefore(m,y.children.head||void 0)}catch(v){if(v instanceof g.ParchmentError)return;throw v}})},d.prototype.deleteAt=function(y,R){if(0===y&&R===this.length())return this.remove();this.children.forEachAt(y,R,function(m,v,O){m.deleteAt(v,O)})},d.prototype.descendant=function(y,R){var m=this.children.find(R),v=m[0],O=m[1];return null==y.blotName&&y(v)||null!=y.blotName&&v instanceof y?[v,O]:v instanceof d?v.descendant(y,O):[null,-1]},d.prototype.descendants=function(y,R,m){void 0===R&&(R=0),void 0===m&&(m=Number.MAX_VALUE);var v=[],O=m;return this.children.forEachAt(R,m,function(S,P,M){(null==y.blotName&&y(S)||null!=y.blotName&&S instanceof y)&&v.push(S),S instanceof d&&(v=v.concat(S.descendants(y,P,O))),O-=M}),v},d.prototype.detach=function(){this.children.forEach(function(y){y.detach()}),b.prototype.detach.call(this)},d.prototype.formatAt=function(y,R,m,v){this.children.forEachAt(y,R,function(O,S,P){O.formatAt(S,P,m,v)})},d.prototype.insertAt=function(y,R,m){var v=this.children.find(y),O=v[0];if(O)O.insertAt(v[1],R,m);else{var P=null==m?g.create("text",R):g.create(R,m);this.appendChild(P)}},d.prototype.insertBefore=function(y,R){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(m){return y instanceof m}))throw new g.ParchmentError("Cannot insert "+y.statics.blotName+" into "+this.statics.blotName);y.insertInto(this,R)},d.prototype.length=function(){return this.children.reduce(function(y,R){return y+R.length()},0)},d.prototype.moveChildren=function(y,R){this.children.forEach(function(m){y.insertBefore(m,R)})},d.prototype.optimize=function(y){if(b.prototype.optimize.call(this,y),0===this.children.length)if(null!=this.statics.defaultChild){var R=g.create(this.statics.defaultChild);this.appendChild(R),R.optimize(y)}else this.remove()},d.prototype.path=function(y,R){void 0===R&&(R=!1);var m=this.children.find(y,R),v=m[0],O=m[1],S=[[this,y]];return v instanceof d?S.concat(v.path(O,R)):(null!=v&&S.push([v,O]),S)},d.prototype.removeChild=function(y){this.children.remove(y)},d.prototype.replace=function(y){y instanceof d&&y.moveChildren(this),b.prototype.replace.call(this,y)},d.prototype.split=function(y,R){if(void 0===R&&(R=!1),!R){if(0===y)return this;if(y===this.length())return this.next}var m=this.clone();return this.parent.insertBefore(m,this.next),this.children.forEachAt(y,this.length(),function(v,O,S){v=v.split(O,R),m.appendChild(v)}),m},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(y,R){var m=this,v=[],O=[];y.forEach(function(S){S.target===m.domNode&&"childList"===S.type&&(v.push.apply(v,S.addedNodes),O.push.apply(O,S.removedNodes))}),O.forEach(function(S){if(!(null!=S.parentNode&&"IFRAME"!==S.tagName&&document.body.compareDocumentPosition(S)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var P=g.find(S);null!=P&&(null==P.domNode.parentNode||P.domNode.parentNode===m.domNode)&&P.detach()}}),v.filter(function(S){return S.parentNode==m.domNode}).sort(function(S,P){return S===P?0:S.compareDocumentPosition(P)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(S){var P=null;null!=S.nextSibling&&(P=g.find(S.nextSibling));var M=f(S);(M.next!=P||null==M.next)&&(null!=M.parent&&M.parent.removeChild(m),m.insertBefore(M,P||void 0))})},d}(h.default);function f(b){var d=g.find(b);if(null==d)try{d=g.create(b)}catch{d=g.create(g.Scope.INLINE),[].slice.call(b.childNodes).forEach(function(R){d.domNode.appendChild(R)}),b.parentNode&&b.parentNode.replaceChild(d.domNode,b),d.attach()}return d}o.default=p},function(re,o,e){"use strict";var b,n=this&&this.__extends||(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var R in y)y.hasOwnProperty(R)&&(d[R]=y[R])},function(d,y){function R(){this.constructor=d}b(d,y),d.prototype=null===y?Object.create(y):(R.prototype=y.prototype,new R)});Object.defineProperty(o,"__esModule",{value:!0});var l=e(12),h=e(31),g=e(17),p=e(1),f=function(b){function d(y){var R=b.call(this,y)||this;return R.attributes=new h.default(R.domNode),R}return n(d,b),d.formats=function(y){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?y.tagName.toLowerCase():void 0)},d.prototype.format=function(y,R){var m=p.query(y);m instanceof l.default?this.attributes.attribute(m,R):R&&null!=m&&(y!==this.statics.blotName||this.formats()[y]!==R)&&this.replaceWith(y,R)},d.prototype.formats=function(){var y=this.attributes.values(),R=this.statics.formats(this.domNode);return null!=R&&(y[this.statics.blotName]=R),y},d.prototype.replaceWith=function(y,R){var m=b.prototype.replaceWith.call(this,y,R);return this.attributes.copy(m),m},d.prototype.update=function(y,R){var m=this;b.prototype.update.call(this,y,R),y.some(function(v){return v.target===m.domNode&&"attributes"===v.type})&&this.attributes.build()},d.prototype.wrap=function(y,R){var m=b.prototype.wrap.call(this,y,R);return m instanceof d&&m.statics.scope===this.statics.scope&&this.attributes.move(m),m},d}(g.default);o.default=f},function(re,o,e){"use strict";var p,n=this&&this.__extends||(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,b){f.__proto__=b}||function(f,b){for(var d in b)b.hasOwnProperty(d)&&(f[d]=b[d])},function(f,b){function d(){this.constructor=f}p(f,b),f.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)});Object.defineProperty(o,"__esModule",{value:!0});var l=e(30),h=e(1),g=function(p){function f(){return null!==p&&p.apply(this,arguments)||this}return n(f,p),f.value=function(b){return!0},f.prototype.index=function(b,d){return this.domNode===b||this.domNode.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},f.prototype.position=function(b,d){var y=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return b>0&&(y+=1),[this.parent.domNode,y]},f.prototype.value=function(){var b;return(b={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,b},f.scope=h.Scope.INLINE_BLOT,f}(l.default);o.default=g},function(re,o,e){var n=e(11),l=e(3),h={attributes:{compose:function(p,f,b){"object"!=typeof p&&(p={}),"object"!=typeof f&&(f={});var d=l(!0,{},f);for(var y in b||(d=Object.keys(d).reduce(function(R,m){return null!=d[m]&&(R[m]=d[m]),R},{})),p)void 0!==p[y]&&void 0===f[y]&&(d[y]=p[y]);return Object.keys(d).length>0?d:void 0},diff:function(p,f){"object"!=typeof p&&(p={}),"object"!=typeof f&&(f={});var b=Object.keys(p).concat(Object.keys(f)).reduce(function(d,y){return n(p[y],f[y])||(d[y]=void 0===f[y]?null:f[y]),d},{});return Object.keys(b).length>0?b:void 0},transform:function(p,f,b){if("object"!=typeof p)return f;if("object"==typeof f){if(!b)return f;var d=Object.keys(f).reduce(function(y,R){return void 0===p[R]&&(y[R]=f[R]),y},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(p){return new g(p)},length:function(p){return"number"==typeof p.delete?p.delete:"number"==typeof p.retain?p.retain:"string"==typeof p.insert?p.insert.length:1}};function g(p){this.ops=p,this.index=0,this.offset=0}g.prototype.hasNext=function(){return this.peekLength()<1/0},g.prototype.next=function(p){p||(p=1/0);var f=this.ops[this.index];if(f){var b=this.offset,d=h.length(f);if(p>=d-b?(p=d-b,this.index+=1,this.offset=0):this.offset+=p,"number"==typeof f.delete)return{delete:p};var y={};return f.attributes&&(y.attributes=f.attributes),"number"==typeof f.retain?y.retain=p:y.insert="string"==typeof f.insert?f.insert.substr(b,p):f.insert,y}return{retain:1/0}},g.prototype.peek=function(){return this.ops[this.index]},g.prototype.peekLength=function(){return this.ops[this.index]?h.length(this.ops[this.index])-this.offset:1/0},g.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},g.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var p=this.offset,f=this.index,b=this.next(),d=this.ops.slice(this.index);return this.offset=p,this.index=f,[b].concat(d)}return[]},re.exports=h},function(re,o){var e=function(){"use strict";function n(m,v){return null!=v&&m instanceof v}var l,h,g;try{l=Map}catch{l=function(){}}try{h=Set}catch{h=function(){}}try{g=Promise}catch{g=function(){}}function p(m,v,O,S,P){"object"==typeof v&&(O=v.depth,S=v.prototype,P=v.includeNonEnumerable,v=v.circular);var M=[],w=[],x=typeof Buffer<"u";return typeof v>"u"&&(v=!0),typeof O>"u"&&(O=1/0),function I(_,C){if(null===_)return null;if(0===C)return _;var D,A;if("object"!=typeof _)return _;if(n(_,l))D=new l;else if(n(_,h))D=new h;else if(n(_,g))D=new g(function(K,k){_.then(function(j){K(I(j,C-1))},function(j){k(I(j,C-1))})});else if(p.__isArray(_))D=[];else if(p.__isRegExp(_))D=new RegExp(_.source,R(_)),_.lastIndex&&(D.lastIndex=_.lastIndex);else if(p.__isDate(_))D=new Date(_.getTime());else{if(x&&Buffer.isBuffer(_))return D=Buffer.allocUnsafe?Buffer.allocUnsafe(_.length):new Buffer(_.length),_.copy(D),D;n(_,Error)?D=Object.create(_):typeof S>"u"?(A=Object.getPrototypeOf(_),D=Object.create(A)):(D=Object.create(S),A=S)}if(v){var B=M.indexOf(_);if(-1!=B)return w[B];M.push(_),w.push(D)}for(var F in n(_,l)&&_.forEach(function(K,k){var j=I(k,C-1),W=I(K,C-1);D.set(j,W)}),n(_,h)&&_.forEach(function(K){var k=I(K,C-1);D.add(k)}),_){var $;A&&($=Object.getOwnPropertyDescriptor(A,F)),(!$||null!=$.set)&&(D[F]=I(_[F],C-1))}if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(_);for(F=0;F<U.length;F++){var G=U[F];(J=Object.getOwnPropertyDescriptor(_,G))&&!J.enumerable&&!P||(D[G]=I(_[G],C-1),J.enumerable||Object.defineProperty(D,G,{enumerable:!1}))}}if(P){var te=Object.getOwnPropertyNames(_);for(F=0;F<te.length;F++){var J,ne=te[F];(J=Object.getOwnPropertyDescriptor(_,ne))&&J.enumerable||(D[ne]=I(_[ne],C-1),Object.defineProperty(D,ne,{enumerable:!1}))}}return D}(m,O)}function f(m){return Object.prototype.toString.call(m)}function R(m){var v="";return m.global&&(v+="g"),m.ignoreCase&&(v+="i"),m.multiline&&(v+="m"),v}return p.clonePrototype=function(v){if(null===v)return null;var O=function(){};return O.prototype=v,new O},p.__objToStr=f,p.__isDate=function b(m){return"object"==typeof m&&"[object Date]"===f(m)},p.__isArray=function d(m){return"object"==typeof m&&"[object Array]"===f(m)},p.__isRegExp=function y(m){return"object"==typeof m&&"[object RegExp]"===f(m)},p.__getRegExpFlags=R,p}();"object"==typeof re&&re.exports&&(re.exports=e)},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=function(){return function(A,B){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return function D(A,B){var F=[],$=!0,U=!1,G=void 0;try{for(var te,J=A[Symbol.iterator]();!($=(te=J.next()).done)&&(F.push(te.value),!B||F.length!==B);$=!0);}catch(ne){U=!0,G=ne}finally{try{!$&&J.return&&J.return()}finally{if(U)throw G}}return F}(A,B);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function D(A,B){for(var F=0;F<B.length;F++){var $=B[F];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(A,$.key,$)}}return function(A,B,F){return B&&D(A.prototype,B),F&&D(A,F),A}}(),h=function D(A,B,F){null===A&&(A=Function.prototype);var $=Object.getOwnPropertyDescriptor(A,B);if(void 0===$){var U=Object.getPrototypeOf(A);return null===U?void 0:D(U,B,F)}if("value"in $)return $.value;var G=$.get;return void 0===G?void 0:G.call(F)},p=M(e(0)),b=M(e(8)),d=e(4),y=M(d),m=M(e(16)),O=M(e(13)),P=M(e(25));function M(D){return D&&D.__esModule?D:{default:D}}function _(D){return D instanceof y.default||D instanceof d.BlockEmbed}var C=function(D){function A(B,F){!function w(D,A){if(!(D instanceof A))throw new TypeError("Cannot call a class as a function")}(this,A);var $=function x(D,A){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!A||"object"!=typeof A&&"function"!=typeof A?D:A}(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,B));return $.emitter=F.emitter,Array.isArray(F.whitelist)&&($.whitelist=F.whitelist.reduce(function(U,G){return U[G]=!0,U},{})),$.domNode.addEventListener("DOMNodeInserted",function(){}),$.optimize(),$.enable(),$}return function I(D,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function, not "+typeof A);D.prototype=Object.create(A&&A.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(D,A):D.__proto__=A)}(A,D),l(A,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(F,$){var U=this.line(F),G=n(U,2),J=G[0],te=G[1],ne=this.line(F+$),k=n(ne,1)[0];if(h(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"deleteAt",this).call(this,F,$),null!=k&&J!==k&&te>0){if(J instanceof d.BlockEmbed||k instanceof d.BlockEmbed)return void this.optimize();if(J instanceof O.default){var j=J.newlineIndex(J.length(),!0);if(j>-1&&(J=J.split(j+1))===k)return void this.optimize()}else if(k instanceof O.default){var W=k.newlineIndex(0);W>-1&&k.split(W+1)}J.moveChildren(k,k.children.head instanceof m.default?null:k.children.head),J.remove()}this.optimize()}},{key:"enable",value:function(){this.domNode.setAttribute("contenteditable",!(arguments.length>0&&void 0!==arguments[0])||arguments[0])}},{key:"formatAt",value:function(F,$,U,G){null!=this.whitelist&&!this.whitelist[U]||(h(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"formatAt",this).call(this,F,$,U,G),this.optimize())}},{key:"insertAt",value:function(F,$,U){if(null==U||null==this.whitelist||this.whitelist[$]){if(F>=this.length())if(null==U||null==p.default.query($,p.default.Scope.BLOCK)){var G=p.default.create(this.statics.defaultChild);this.appendChild(G),null==U&&$.endsWith("\n")&&($=$.slice(0,-1)),G.insertAt(0,$,U)}else{var J=p.default.create($,U);this.appendChild(J)}else h(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,F,$,U);this.optimize()}}},{key:"insertBefore",value:function(F,$){if(F.statics.scope===p.default.Scope.INLINE_BLOT){var U=p.default.create(this.statics.defaultChild);U.appendChild(F),F=U}h(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertBefore",this).call(this,F,$)}},{key:"leaf",value:function(F){return this.path(F).pop()||[null,-1]}},{key:"line",value:function(F){return F===this.length()?this.line(F-1):this.descendant(_,F)}},{key:"lines",value:function(){return function G(J,te,ne){var K=[],k=ne;return J.children.forEachAt(te,ne,function(j,W,ie){_(j)?K.push(j):j instanceof p.default.Container&&(K=K.concat(G(j,W,k))),k-=ie}),K}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],$=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(h(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,F,$),F.length>0&&this.emitter.emit(b.default.events.SCROLL_OPTIMIZE,F,$))}},{key:"path",value:function(F){return h(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"path",this).call(this,F).slice(1)}},{key:"update",value:function(F){if(!0!==this.batch){var $=b.default.sources.USER;"string"==typeof F&&($=F),Array.isArray(F)||(F=this.observer.takeRecords()),F.length>0&&this.emitter.emit(b.default.events.SCROLL_BEFORE_UPDATE,$,F),h(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"update",this).call(this,F.concat([])),F.length>0&&this.emitter.emit(b.default.events.SCROLL_UPDATE,$,F)}}}]),A}(p.default.Scroll);C.blotName="scroll",C.className="ql-editor",C.tagName="DIV",C.defaultChild="block",C.allowedChildren=[y.default,d.BlockEmbed,P.default],o.default=C},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.SHORTKEY=o.default=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(oe){return typeof oe}:function(oe){return oe&&"function"==typeof Symbol&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},l=function(){return function(me,he){if(Array.isArray(me))return me;if(Symbol.iterator in Object(me))return function oe(me,he){var Oe=[],we=!0,We=!1,Xe=void 0;try{for(var ge,Me=me[Symbol.iterator]();!(we=(ge=Me.next()).done)&&(Oe.push(ge.value),!he||Oe.length!==he);we=!0);}catch(pe){We=!0,Xe=pe}finally{try{!we&&Me.return&&Me.return()}finally{if(We)throw Xe}}return Oe}(me,he);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(){function oe(me,he){for(var Oe=0;Oe<he.length;Oe++){var we=he[Oe];we.enumerable=we.enumerable||!1,we.configurable=!0,"value"in we&&(we.writable=!0),Object.defineProperty(me,we.key,we)}}return function(me,he,Oe){return he&&oe(me.prototype,he),Oe&&oe(me,Oe),me}}(),p=D(e(21)),b=D(e(11)),y=D(e(3)),m=D(e(2)),O=D(e(20)),P=D(e(0)),w=D(e(5)),I=D(e(10)),C=D(e(9));function D(oe){return oe&&oe.__esModule?oe:{default:oe}}function A(oe,me,he){return me in oe?Object.defineProperty(oe,me,{value:he,enumerable:!0,configurable:!0,writable:!0}):oe[me]=he,oe}var U=(0,I.default)("quill:keyboard"),G=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",J=function(oe){function me(he,Oe){!function B(oe,me){if(!(oe instanceof me))throw new TypeError("Cannot call a class as a function")}(this,me);var we=function F(oe,me){if(!oe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!me||"object"!=typeof me&&"function"!=typeof me?oe:me}(this,(me.__proto__||Object.getPrototypeOf(me)).call(this,he,Oe));return we.bindings={},Object.keys(we.options.bindings).forEach(function(We){"list autofill"===We&&null!=he.scroll.whitelist&&!he.scroll.whitelist.list||we.options.bindings[We]&&we.addBinding(we.options.bindings[We])}),we.addBinding({key:me.keys.ENTER,shiftKey:null},j),we.addBinding({key:me.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(we.addBinding({key:me.keys.BACKSPACE},{collapsed:!0},ne),we.addBinding({key:me.keys.DELETE},{collapsed:!0},K)):(we.addBinding({key:me.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},ne),we.addBinding({key:me.keys.DELETE},{collapsed:!0,suffix:/^.?$/},K)),we.addBinding({key:me.keys.BACKSPACE},{collapsed:!1},k),we.addBinding({key:me.keys.DELETE},{collapsed:!1},k),we.addBinding({key:me.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},ne),we.listen(),we}return function $(oe,me){if("function"!=typeof me&&null!==me)throw new TypeError("Super expression must either be null or a function, not "+typeof me);oe.prototype=Object.create(me&&me.prototype,{constructor:{value:oe,enumerable:!1,writable:!0,configurable:!0}}),me&&(Object.setPrototypeOf?Object.setPrototypeOf(oe,me):oe.__proto__=me)}(me,oe),h(me,null,[{key:"match",value:function(Oe,we){return we=ce(we),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(We){return!!we[We]!==Oe[We]&&null!==we[We]})&&we.key===(Oe.which||Oe.keyCode)}}]),h(me,[{key:"addBinding",value:function(Oe){var we=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},We=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},Xe=ce(Oe);if(null==Xe||null==Xe.key)return U.warn("Attempted to add invalid keyboard binding",Xe);"function"==typeof we&&(we={handler:we}),"function"==typeof We&&(We={handler:We}),Xe=(0,y.default)(Xe,we,We),this.bindings[Xe.key]=this.bindings[Xe.key]||[],this.bindings[Xe.key].push(Xe)}},{key:"listen",value:function(){var Oe=this;this.quill.root.addEventListener("keydown",function(we){if(!we.defaultPrevented){var Xe=(Oe.bindings[we.which||we.keyCode]||[]).filter(function(Je){return me.match(we,Je)});if(0!==Xe.length){var Me=Oe.quill.getSelection();if(null!=Me&&Oe.quill.hasFocus()){var ge=Oe.quill.getLine(Me.index),pe=l(ge,2),Ee=pe[0],Ge=pe[1],Qe=Oe.quill.getLeaf(Me.index),$e=l(Qe,2),tt=$e[0],xt=$e[1],Pt=0===Me.length?[tt,xt]:Oe.quill.getLeaf(Me.index+Me.length),yt=l(Pt,2),Le=yt[0],De=yt[1],V=tt instanceof P.default.Text?tt.value().slice(0,xt):"",ue=Le instanceof P.default.Text?Le.value().slice(De):"",Q={collapsed:0===Me.length,empty:0===Me.length&&Ee.length()<=1,format:Oe.quill.getFormat(Me),offset:Ge,prefix:V,suffix:ue};Xe.some(function(Je){if(null!=Je.collapsed&&Je.collapsed!==Q.collapsed||null!=Je.empty&&Je.empty!==Q.empty||null!=Je.offset&&Je.offset!==Q.offset)return!1;if(Array.isArray(Je.format)){if(Je.format.every(function(Nt){return null==Q.format[Nt]}))return!1}else if("object"===n(Je.format)&&!Object.keys(Je.format).every(function(Nt){return!0===Je.format[Nt]?null!=Q.format[Nt]:!1===Je.format[Nt]?null==Q.format[Nt]:(0,b.default)(Je.format[Nt],Q.format[Nt])}))return!1;return!(null!=Je.prefix&&!Je.prefix.test(Q.prefix)||null!=Je.suffix&&!Je.suffix.test(Q.suffix))&&!0!==Je.handler.call(Oe,Me,Q)})&&we.preventDefault()}}}})}}]),me}(C.default);function te(oe,me){var he;return A(he={key:oe,shiftKey:me,altKey:null},oe===J.keys.LEFT?"prefix":"suffix",/^$/),A(he,"handler",function(We){var Xe=We.index;oe===J.keys.RIGHT&&(Xe+=We.length+1);var Me=this.quill.getLeaf(Xe);return!(l(Me,1)[0]instanceof P.default.Embed&&(oe===J.keys.LEFT?me?this.quill.setSelection(We.index-1,We.length+1,w.default.sources.USER):this.quill.setSelection(We.index-1,w.default.sources.USER):me?this.quill.setSelection(We.index,We.length+1,w.default.sources.USER):this.quill.setSelection(We.index+We.length+1,w.default.sources.USER),1))}),he}function ne(oe,me){if(!(0===oe.index||this.quill.getLength()<=1)){var he=this.quill.getLine(oe.index),we=l(he,1)[0],We={};if(0===me.offset){var Xe=this.quill.getLine(oe.index-1),ge=l(Xe,1)[0];if(null!=ge&&ge.length()>1){var pe=we.formats(),Ee=this.quill.getFormat(oe.index-1,1);We=O.default.attributes.diff(pe,Ee)||{}}}var Ge=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(me.prefix)?2:1;this.quill.deleteText(oe.index-Ge,Ge,w.default.sources.USER),Object.keys(We).length>0&&this.quill.formatLine(oe.index-Ge,Ge,We,w.default.sources.USER),this.quill.focus()}}function K(oe,me){var he=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(me.suffix)?2:1;if(!(oe.index>=this.quill.getLength()-he)){var Oe={},we=0,We=this.quill.getLine(oe.index),Me=l(We,1)[0];if(me.offset>=Me.length()-1){var ge=this.quill.getLine(oe.index+1),Ee=l(ge,1)[0];if(Ee){var Ge=Me.formats(),Qe=this.quill.getFormat(oe.index,1);Oe=O.default.attributes.diff(Ge,Qe)||{},we=Ee.length()}}this.quill.deleteText(oe.index,he,w.default.sources.USER),Object.keys(Oe).length>0&&this.quill.formatLine(oe.index+we-1,he,Oe,w.default.sources.USER)}}function k(oe){var me=this.quill.getLines(oe),he={};if(me.length>1){var Oe=me[0].formats(),we=me[me.length-1].formats();he=O.default.attributes.diff(we,Oe)||{}}this.quill.deleteText(oe,w.default.sources.USER),Object.keys(he).length>0&&this.quill.formatLine(oe.index,1,he,w.default.sources.USER),this.quill.setSelection(oe.index,w.default.sources.SILENT),this.quill.focus()}function j(oe,me){var he=this;oe.length>0&&this.quill.scroll.deleteAt(oe.index,oe.length);var Oe=Object.keys(me.format).reduce(function(we,We){return P.default.query(We,P.default.Scope.BLOCK)&&!Array.isArray(me.format[We])&&(we[We]=me.format[We]),we},{});this.quill.insertText(oe.index,"\n",Oe,w.default.sources.USER),this.quill.setSelection(oe.index+1,w.default.sources.SILENT),this.quill.focus(),Object.keys(me.format).forEach(function(we){null==Oe[we]&&(Array.isArray(me.format[we])||"link"!==we&&he.quill.format(we,me.format[we],w.default.sources.USER))})}function W(oe){return{key:J.keys.TAB,shiftKey:!oe,format:{"code-block":!0},handler:function(he){var Oe=P.default.query("code-block"),we=he.index,We=he.length,Xe=this.quill.scroll.descendant(Oe,we),Me=l(Xe,2),ge=Me[0],pe=Me[1];if(null!=ge){var Ee=this.quill.getIndex(ge),Ge=ge.newlineIndex(pe,!0)+1,Qe=ge.newlineIndex(Ee+pe+We),$e=ge.domNode.textContent.slice(Ge,Qe).split("\n");pe=0,$e.forEach(function(tt,xt){oe?(ge.insertAt(Ge+pe,Oe.TAB),pe+=Oe.TAB.length,0===xt?we+=Oe.TAB.length:We+=Oe.TAB.length):tt.startsWith(Oe.TAB)&&(ge.deleteAt(Ge+pe,Oe.TAB.length),pe-=Oe.TAB.length,0===xt?we-=Oe.TAB.length:We-=Oe.TAB.length),pe+=tt.length+1}),this.quill.update(w.default.sources.USER),this.quill.setSelection(we,We,w.default.sources.SILENT)}}}}function ie(oe){return{key:oe[0].toUpperCase(),shortKey:!0,handler:function(he,Oe){this.quill.format(oe,!Oe.format[oe],w.default.sources.USER)}}}function ce(oe){if("string"==typeof oe||"number"==typeof oe)return ce({key:oe});if("object"===(typeof oe>"u"?"undefined":n(oe))&&(oe=(0,p.default)(oe,!1)),"string"==typeof oe.key)if(null!=J.keys[oe.key.toUpperCase()])oe.key=J.keys[oe.key.toUpperCase()];else{if(1!==oe.key.length)return null;oe.key=oe.key.toUpperCase().charCodeAt(0)}return oe.shortKey&&(oe[G]=oe.shortKey,delete oe.shortKey),oe}J.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},J.DEFAULTS={bindings:{bold:ie("bold"),italic:ie("italic"),underline:ie("underline"),indent:{key:J.keys.TAB,format:["blockquote","indent","list"],handler:function(me,he){if(he.collapsed&&0!==he.offset)return!0;this.quill.format("indent","+1",w.default.sources.USER)}},outdent:{key:J.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(me,he){if(he.collapsed&&0!==he.offset)return!0;this.quill.format("indent","-1",w.default.sources.USER)}},"outdent backspace":{key:J.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(me,he){null!=he.format.indent?this.quill.format("indent","-1",w.default.sources.USER):null!=he.format.list&&this.quill.format("list",!1,w.default.sources.USER)}},"indent code-block":W(!0),"outdent code-block":W(!1),"remove tab":{key:J.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(me){this.quill.deleteText(me.index-1,1,w.default.sources.USER)}},tab:{key:J.keys.TAB,handler:function(me){this.quill.history.cutoff();var he=(new m.default).retain(me.index).delete(me.length).insert("\t");this.quill.updateContents(he,w.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(me.index+1,w.default.sources.SILENT)}},"list empty enter":{key:J.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(me,he){this.quill.format("list",!1,w.default.sources.USER),he.format.indent&&this.quill.format("indent",!1,w.default.sources.USER)}},"checklist enter":{key:J.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(me){var he=this.quill.getLine(me.index),Oe=l(he,2),we=Oe[0],We=Oe[1],Xe=(0,y.default)({},we.formats(),{list:"checked"}),Me=(new m.default).retain(me.index).insert("\n",Xe).retain(we.length()-We-1).retain(1,{list:"unchecked"});this.quill.updateContents(Me,w.default.sources.USER),this.quill.setSelection(me.index+1,w.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:J.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(me,he){var Oe=this.quill.getLine(me.index),we=l(Oe,2),We=we[0],Xe=we[1],Me=(new m.default).retain(me.index).insert("\n",he.format).retain(We.length()-Xe-1).retain(1,{header:null});this.quill.updateContents(Me,w.default.sources.USER),this.quill.setSelection(me.index+1,w.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(me,he){var Oe=he.prefix.length,we=this.quill.getLine(me.index),We=l(we,2),Xe=We[0],Me=We[1];if(Me>Oe)return!0;var ge=void 0;switch(he.prefix.trim()){case"[]":case"[ ]":ge="unchecked";break;case"[x]":ge="checked";break;case"-":case"*":ge="bullet";break;default:ge="ordered"}this.quill.insertText(me.index," ",w.default.sources.USER),this.quill.history.cutoff();var pe=(new m.default).retain(me.index-Me).delete(Oe+1).retain(Xe.length()-2-Me).retain(1,{list:ge});this.quill.updateContents(pe,w.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(me.index-Oe,w.default.sources.SILENT)}},"code exit":{key:J.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(me){var he=this.quill.getLine(me.index),Oe=l(he,2),we=Oe[0],We=Oe[1],Xe=(new m.default).retain(me.index+we.length()-We-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Xe,w.default.sources.USER)}},"embed left":te(J.keys.LEFT,!1),"embed left shift":te(J.keys.LEFT,!0),"embed right":te(J.keys.RIGHT,!1),"embed right shift":te(J.keys.RIGHT,!0)}},o.default=J,o.SHORTKEY=G},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=function(){return function(S,P){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return function O(S,P){var M=[],w=!0,x=!1,I=void 0;try{for(var C,_=S[Symbol.iterator]();!(w=(C=_.next()).done)&&(M.push(C.value),!P||M.length!==P);w=!0);}catch(D){x=!0,I=D}finally{try{!w&&_.return&&_.return()}finally{if(x)throw I}}return M}(S,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function O(S,P,M){null===S&&(S=Function.prototype);var w=Object.getOwnPropertyDescriptor(S,P);if(void 0===w){var x=Object.getPrototypeOf(S);return null===x?void 0:O(x,P,M)}if("value"in w)return w.value;var I=w.get;return void 0===I?void 0:I.call(M)},h=function(){function O(S,P){for(var M=0;M<P.length;M++){var w=P[M];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(S,w.key,w)}}return function(S,P,M){return P&&O(S.prototype,P),M&&O(S,M),S}}(),p=d(e(0)),b=d(e(7));function d(O){return O&&O.__esModule?O:{default:O}}var v=function(O){function S(P,M){!function y(O,S){if(!(O instanceof S))throw new TypeError("Cannot call a class as a function")}(this,S);var w=function R(O,S){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S||"object"!=typeof S&&"function"!=typeof S?O:S}(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,P));return w.selection=M,w.textNode=document.createTextNode(S.CONTENTS),w.domNode.appendChild(w.textNode),w._length=0,w}return function m(O,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function, not "+typeof S);O.prototype=Object.create(S&&S.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(O,S):O.__proto__=S)}(S,O),h(S,null,[{key:"value",value:function(){}}]),h(S,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(M,w){if(0!==this._length)return l(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"format",this).call(this,M,w);for(var x=this,I=0;null!=x&&x.statics.scope!==p.default.Scope.BLOCK_BLOT;)I+=x.offset(x.parent),x=x.parent;null!=x&&(this._length=S.CONTENTS.length,x.optimize(),x.formatAt(I,S.CONTENTS.length,M,w),this._length=0)}},{key:"index",value:function(M,w){return M===this.textNode?0:l(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"index",this).call(this,M,w)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){l(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var M=this.textNode,w=this.selection.getNativeRange(),x=void 0,I=void 0,_=void 0;if(null!=w&&w.start.node===M&&w.end.node===M){var C=[M,w.start.offset,w.end.offset];x=C[0],I=C[1],_=C[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==S.CONTENTS){var D=this.textNode.data.split(S.CONTENTS).join("");this.next instanceof b.default?(x=this.next.domNode,this.next.insertAt(0,D),this.textNode.data=S.CONTENTS):(this.textNode.data=D,this.parent.insertBefore(p.default.create(this.textNode),this),this.textNode=document.createTextNode(S.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=I){var A=[I,_].map(function(F){return Math.max(0,Math.min(x.data.length,F-1))}),B=n(A,2);return{startNode:x,startOffset:I=B[0],endNode:x,endOffset:_=B[1]}}}}},{key:"update",value:function(M,w){var x=this;if(M.some(function(_){return"characterData"===_.type&&_.target===x.textNode})){var I=this.restore();I&&(w.range=I)}}},{key:"value",value:function(){return""}}]),S}(p.default.Embed);v.blotName="cursor",v.className="ql-cursor",v.tagName="span",v.CONTENTS="\ufeff",o.default=v},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var l=p(e(0)),h=e(4),g=p(h);function p(R){return R&&R.__esModule?R:{default:R}}var y=function(R){function m(){return function f(R,m){if(!(R instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),function b(R,m){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?R:m}(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return function d(R,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);R.prototype=Object.create(m&&m.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(R,m):R.__proto__=m)}(m,R),m}(l.default.Container);y.allowedChildren=[g.default,h.BlockEmbed,y],o.default=y},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ColorStyle=o.ColorClass=o.ColorAttributor=void 0;var n=function(){function v(O,S){for(var P=0;P<S.length;P++){var M=S[P];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(O,M.key,M)}}return function(O,S,P){return S&&v(O.prototype,S),P&&v(O,P),O}}(),l=function v(O,S,P){null===O&&(O=Function.prototype);var M=Object.getOwnPropertyDescriptor(O,S);if(void 0===M){var w=Object.getPrototypeOf(O);return null===w?void 0:v(w,S,P)}if("value"in M)return M.value;var x=M.get;return void 0===x?void 0:x.call(P)},g=function p(v){return v&&v.__esModule?v:{default:v}}(e(0));var y=function(v){function O(){return function f(v,O){if(!(v instanceof O))throw new TypeError("Cannot call a class as a function")}(this,O),function b(v,O){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?v:O}(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return function d(v,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function, not "+typeof O);v.prototype=Object.create(O&&O.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(v,O):v.__proto__=O)}(O,v),n(O,[{key:"value",value:function(P){var M=l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"value",this).call(this,P);return M.startsWith("rgb(")?"#"+(M=M.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map(function(w){return("00"+parseInt(w).toString(16)).slice(-2)}).join(""):M}}]),O}(g.default.Attributor.Style),R=new g.default.Attributor.Class("color","ql-color",{scope:g.default.Scope.INLINE}),m=new y("color","color",{scope:g.default.Scope.INLINE});o.ColorAttributor=y,o.ColorClass=R,o.ColorStyle=m},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.sanitize=o.default=void 0;var n=function(){function m(v,O){for(var S=0;S<O.length;S++){var P=O[S];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(v,P.key,P)}}return function(v,O,S){return O&&m(v.prototype,O),S&&m(v,S),v}}(),l=function m(v,O,S){null===v&&(v=Function.prototype);var P=Object.getOwnPropertyDescriptor(v,O);if(void 0===P){var M=Object.getPrototypeOf(v);return null===M?void 0:m(M,O,S)}if("value"in P)return P.value;var w=P.get;return void 0===w?void 0:w.call(S)};var y=function(m){function v(){return function f(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v),function b(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?m:v}(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return function d(m,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}(v,m),n(v,[{key:"format",value:function(S,P){if(S!==this.statics.blotName||!P)return l(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,S,P);P=this.constructor.sanitize(P),this.domNode.setAttribute("href",P)}}],[{key:"create",value:function(S){var P=l(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,S);return S=this.sanitize(S),P.setAttribute("href",S),P.setAttribute("rel","noopener noreferrer"),P.setAttribute("target","_blank"),P}},{key:"formats",value:function(S){return S.getAttribute("href")}},{key:"sanitize",value:function(S){return R(S,this.PROTOCOL_WHITELIST)?S:this.SANITIZED_URL}}]),v}(function p(m){return m&&m.__esModule?m:{default:m}}(e(6)).default);function R(m,v){var O=document.createElement("a");O.href=m;var S=O.href.slice(0,O.href.indexOf(":"));return v.indexOf(S)>-1}y.blotName="link",y.tagName="A",y.SANITIZED_URL="about:blank",y.PROTOCOL_WHITELIST=["http","https","mailto","tel"],o.default=y,o.sanitize=R},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},l=function(){function v(O,S){for(var P=0;P<S.length;P++){var M=S[P];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(O,M.key,M)}}return function(O,S,P){return S&&v(O.prototype,S),P&&v(O,P),O}}(),g=b(e(23)),f=b(e(107));function b(v){return v&&v.__esModule?v:{default:v}}var y=0;function R(v,O){v.setAttribute(O,"true"!==v.getAttribute(O))}var m=function(){function v(O){var S=this;(function d(v,O){if(!(v instanceof O))throw new TypeError("Cannot call a class as a function")})(this,v),this.select=O,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){S.togglePicker()}),this.label.addEventListener("keydown",function(P){switch(P.keyCode){case g.default.keys.ENTER:S.togglePicker();break;case g.default.keys.ESCAPE:S.escape(),P.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return l(v,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),R(this.label,"aria-expanded"),R(this.options,"aria-hidden")}},{key:"buildItem",value:function(S){var P=this,M=document.createElement("span");return M.tabIndex="0",M.setAttribute("role","button"),M.classList.add("ql-picker-item"),S.hasAttribute("value")&&M.setAttribute("data-value",S.getAttribute("value")),S.textContent&&M.setAttribute("data-label",S.textContent),M.addEventListener("click",function(){P.selectItem(M,!0)}),M.addEventListener("keydown",function(w){switch(w.keyCode){case g.default.keys.ENTER:P.selectItem(M,!0),w.preventDefault();break;case g.default.keys.ESCAPE:P.escape(),w.preventDefault()}}),M}},{key:"buildLabel",value:function(){var S=document.createElement("span");return S.classList.add("ql-picker-label"),S.innerHTML=f.default,S.tabIndex="0",S.setAttribute("role","button"),S.setAttribute("aria-expanded","false"),this.container.appendChild(S),S}},{key:"buildOptions",value:function(){var S=this,P=document.createElement("span");P.classList.add("ql-picker-options"),P.setAttribute("aria-hidden","true"),P.tabIndex="-1",P.id="ql-picker-options-"+y,y+=1,this.label.setAttribute("aria-controls",P.id),this.options=P,[].slice.call(this.select.options).forEach(function(M){var w=S.buildItem(M);P.appendChild(w),!0===M.selected&&S.selectItem(w)}),this.container.appendChild(P)}},{key:"buildPicker",value:function(){var S=this;[].slice.call(this.select.attributes).forEach(function(P){S.container.setAttribute(P.name,P.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var S=this;this.close(),setTimeout(function(){return S.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(S){var P=arguments.length>1&&void 0!==arguments[1]&&arguments[1],M=this.container.querySelector(".ql-selected");if(S!==M&&(M?.classList.remove("ql-selected"),null!=S&&(S.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(S.parentNode.children,S),S.hasAttribute("data-value")?this.label.setAttribute("data-value",S.getAttribute("data-value")):this.label.removeAttribute("data-value"),S.hasAttribute("data-label")?this.label.setAttribute("data-label",S.getAttribute("data-label")):this.label.removeAttribute("data-label"),P))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===(typeof Event>"u"?"undefined":n(Event))){var w=document.createEvent("Event");w.initEvent("change",!0,!0),this.select.dispatchEvent(w)}this.close()}}},{key:"update",value:function(){var S=void 0;if(this.select.selectedIndex>-1){var P=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];S=this.select.options[this.select.selectedIndex],this.selectItem(P)}else this.selectItem(null);var M=null!=S&&S!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",M)}}]),v}();o.default=m},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var l=U(e(0)),g=U(e(5)),p=e(4),f=U(p),d=U(e(16)),R=U(e(25)),v=U(e(24)),S=U(e(35)),M=U(e(6)),x=U(e(22)),_=U(e(7)),D=U(e(55)),B=U(e(42)),$=U(e(23));function U(G){return G&&G.__esModule?G:{default:G}}g.default.register({"blots/block":f.default,"blots/block/embed":p.BlockEmbed,"blots/break":d.default,"blots/container":R.default,"blots/cursor":v.default,"blots/embed":S.default,"blots/inline":M.default,"blots/scroll":x.default,"blots/text":_.default,"modules/clipboard":D.default,"modules/history":B.default,"modules/keyboard":$.default}),l.default.register(f.default,d.default,v.default,M.default,x.default,_.default),o.default=g.default},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=e(1),l=function(){function h(g){this.domNode=g,this.domNode[n.DATA_KEY]={blot:this}}return Object.defineProperty(h.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),h.create=function(g){if(null==this.tagName)throw new n.ParchmentError("Blot definition missing tagName");var p;return Array.isArray(this.tagName)?("string"==typeof g&&(g=g.toUpperCase(),parseInt(g).toString()===g&&(g=parseInt(g))),p="number"==typeof g?document.createElement(this.tagName[g-1]):this.tagName.indexOf(g)>-1?document.createElement(g):document.createElement(this.tagName[0])):p=document.createElement(this.tagName),this.className&&p.classList.add(this.className),p},h.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},h.prototype.clone=function(){var g=this.domNode.cloneNode(!1);return n.create(g)},h.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[n.DATA_KEY]},h.prototype.deleteAt=function(g,p){this.isolate(g,p).remove()},h.prototype.formatAt=function(g,p,f,b){var d=this.isolate(g,p);if(null!=n.query(f,n.Scope.BLOT)&&b)d.wrap(f,b);else if(null!=n.query(f,n.Scope.ATTRIBUTE)){var y=n.create(this.statics.scope);d.wrap(y),y.format(f,b)}},h.prototype.insertAt=function(g,p,f){var b=null==f?n.create("text",p):n.create(p,f),d=this.split(g);this.parent.insertBefore(b,d)},h.prototype.insertInto=function(g,p){void 0===p&&(p=null),null!=this.parent&&this.parent.children.remove(this);var f=null;g.children.insertBefore(this,p),null!=p&&(f=p.domNode),(this.domNode.parentNode!=g.domNode||this.domNode.nextSibling!=f)&&g.domNode.insertBefore(this.domNode,f),this.parent=g,this.attach()},h.prototype.isolate=function(g,p){var f=this.split(g);return f.split(p),f},h.prototype.length=function(){return 1},h.prototype.offset=function(g){return void 0===g&&(g=this.parent),null==this.parent||this==g?0:this.parent.children.offset(this)+this.parent.offset(g)},h.prototype.optimize=function(g){null!=this.domNode[n.DATA_KEY]&&delete this.domNode[n.DATA_KEY].mutations},h.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},h.prototype.replace=function(g){null!=g.parent&&(g.parent.insertBefore(this,g.next),g.remove())},h.prototype.replaceWith=function(g,p){var f="string"==typeof g?n.create(g,p):g;return f.replace(this),f},h.prototype.split=function(g,p){return 0===g?this:this.next},h.prototype.update=function(g,p){},h.prototype.wrap=function(g,p){var f="string"==typeof g?n.create(g,p):g;return null!=this.parent&&this.parent.insertBefore(f,this.next),f.appendChild(this),f},h.blotName="abstract",h}();o.default=l},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=e(12),l=e(32),h=e(33),g=e(1),p=function(){function f(b){this.attributes={},this.domNode=b,this.build()}return f.prototype.attribute=function(b,d){d?b.add(this.domNode,d)&&(null!=b.value(this.domNode)?this.attributes[b.attrName]=b:delete this.attributes[b.attrName]):(b.remove(this.domNode),delete this.attributes[b.attrName])},f.prototype.build=function(){var b=this;this.attributes={};var d=n.default.keys(this.domNode),y=l.default.keys(this.domNode),R=h.default.keys(this.domNode);d.concat(y).concat(R).forEach(function(m){var v=g.query(m,g.Scope.ATTRIBUTE);v instanceof n.default&&(b.attributes[v.attrName]=v)})},f.prototype.copy=function(b){var d=this;Object.keys(this.attributes).forEach(function(y){var R=d.attributes[y].value(d.domNode);b.format(y,R)})},f.prototype.move=function(b){var d=this;this.copy(b),Object.keys(this.attributes).forEach(function(y){d.attributes[y].remove(d.domNode)}),this.attributes={}},f.prototype.values=function(){var b=this;return Object.keys(this.attributes).reduce(function(d,y){return d[y]=b.attributes[y].value(b.domNode),d},{})},f}();o.default=p},function(re,o,e){"use strict";var p,n=this&&this.__extends||(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,b){f.__proto__=b}||function(f,b){for(var d in b)b.hasOwnProperty(d)&&(f[d]=b[d])},function(f,b){function d(){this.constructor=f}p(f,b),f.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)});function h(p,f){return(p.getAttribute("class")||"").split(/\s+/).filter(function(d){return 0===d.indexOf(f+"-")})}Object.defineProperty(o,"__esModule",{value:!0});var g=function(p){function f(){return null!==p&&p.apply(this,arguments)||this}return n(f,p),f.keys=function(b){return(b.getAttribute("class")||"").split(/\s+/).map(function(d){return d.split("-").slice(0,-1).join("-")})},f.prototype.add=function(b,d){return!!this.canAdd(b,d)&&(this.remove(b),b.classList.add(this.keyName+"-"+d),!0)},f.prototype.remove=function(b){h(b,this.keyName).forEach(function(y){b.classList.remove(y)}),0===b.classList.length&&b.removeAttribute("class")},f.prototype.value=function(b){var y=(h(b,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(b,y)?y:""},f}(e(12).default);o.default=g},function(re,o,e){"use strict";var p,n=this&&this.__extends||(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,b){f.__proto__=b}||function(f,b){for(var d in b)b.hasOwnProperty(d)&&(f[d]=b[d])},function(f,b){function d(){this.constructor=f}p(f,b),f.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)});function h(p){var f=p.split("-"),b=f.slice(1).map(function(d){return d[0].toUpperCase()+d.slice(1)}).join("");return f[0]+b}Object.defineProperty(o,"__esModule",{value:!0});var g=function(p){function f(){return null!==p&&p.apply(this,arguments)||this}return n(f,p),f.keys=function(b){return(b.getAttribute("style")||"").split(";").map(function(d){return d.split(":")[0].trim()})},f.prototype.add=function(b,d){return!!this.canAdd(b,d)&&(b.style[h(this.keyName)]=d,!0)},f.prototype.remove=function(b){b.style[h(this.keyName)]="",b.getAttribute("style")||b.removeAttribute("style")},f.prototype.value=function(b){var d=b.style[h(this.keyName)];return this.canAdd(b,d)?d:""},f}(e(12).default);o.default=g},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function g(p,f){for(var b=0;b<f.length;b++){var d=f[b];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(p,d.key,d)}}return function(p,f,b){return f&&g(p.prototype,f),b&&g(p,b),p}}();var h=function(){function g(p,f){(function l(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")})(this,g),this.quill=p,this.options=f,this.modules={}}return n(g,[{key:"init",value:function(){var f=this;Object.keys(this.options.modules).forEach(function(b){null==f.modules[b]&&f.addModule(b)})}},{key:"addModule",value:function(f){var b=this.quill.constructor.import("modules/"+f);return this.modules[f]=new b(this.quill,this.options.modules[f]||{}),this.modules[f]}}]),g}();h.DEFAULTS={modules:{}},h.themes={default:h},o.default=h},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function O(S,P){for(var M=0;M<P.length;M++){var w=P[M];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(S,w.key,w)}}return function(S,P,M){return P&&O(S.prototype,P),M&&O(S,M),S}}(),l=function O(S,P,M){null===S&&(S=Function.prototype);var w=Object.getOwnPropertyDescriptor(S,P);if(void 0===w){var x=Object.getPrototypeOf(S);return null===x?void 0:O(x,P,M)}if("value"in w)return w.value;var I=w.get;return void 0===I?void 0:I.call(M)},g=b(e(0)),f=b(e(7));function b(O){return O&&O.__esModule?O:{default:O}}var m="\ufeff",v=function(O){function S(P){!function d(O,S){if(!(O instanceof S))throw new TypeError("Cannot call a class as a function")}(this,S);var M=function y(O,S){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S||"object"!=typeof S&&"function"!=typeof S?O:S}(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,P));return M.contentNode=document.createElement("span"),M.contentNode.setAttribute("contenteditable",!1),[].slice.call(M.domNode.childNodes).forEach(function(w){M.contentNode.appendChild(w)}),M.leftGuard=document.createTextNode(m),M.rightGuard=document.createTextNode(m),M.domNode.appendChild(M.leftGuard),M.domNode.appendChild(M.contentNode),M.domNode.appendChild(M.rightGuard),M}return function R(O,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function, not "+typeof S);O.prototype=Object.create(S&&S.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(O,S):O.__proto__=S)}(S,O),n(S,[{key:"index",value:function(M,w){return M===this.leftGuard?0:M===this.rightGuard?1:l(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"index",this).call(this,M,w)}},{key:"restore",value:function(M){var w=void 0,x=void 0,I=M.data.split(m).join("");if(M===this.leftGuard)if(this.prev instanceof f.default){var _=this.prev.length();this.prev.insertAt(_,I),w={startNode:this.prev.domNode,startOffset:_+I.length}}else x=document.createTextNode(I),this.parent.insertBefore(g.default.create(x),this),w={startNode:x,startOffset:I.length};else M===this.rightGuard&&(this.next instanceof f.default?(this.next.insertAt(0,I),w={startNode:this.next.domNode,startOffset:I.length}):(x=document.createTextNode(I),this.parent.insertBefore(g.default.create(x),this.next),w={startNode:x,startOffset:I.length}));return M.data=m,w}},{key:"update",value:function(M,w){var x=this;M.forEach(function(I){if("characterData"===I.type&&(I.target===x.leftGuard||I.target===x.rightGuard)){var _=x.restore(I.target);_&&(w.range=_)}})}}]),S}(g.default.Embed);o.default=v},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.AlignStyle=o.AlignClass=o.AlignAttribute=void 0;var l=function h(d){return d&&d.__esModule?d:{default:d}}(e(0));var g={scope:l.default.Scope.BLOCK,whitelist:["right","center","justify"]},p=new l.default.Attributor.Attribute("align","align",g),f=new l.default.Attributor.Class("align","ql-align",g),b=new l.default.Attributor.Style("align","text-align",g);o.AlignAttribute=p,o.AlignClass=f,o.AlignStyle=b},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.BackgroundStyle=o.BackgroundClass=void 0;var l=function g(b){return b&&b.__esModule?b:{default:b}}(e(0)),h=e(26);var p=new l.default.Attributor.Class("background","ql-bg",{scope:l.default.Scope.INLINE}),f=new h.ColorAttributor("background","background-color",{scope:l.default.Scope.INLINE});o.BackgroundClass=p,o.BackgroundStyle=f},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.DirectionStyle=o.DirectionClass=o.DirectionAttribute=void 0;var l=function h(d){return d&&d.__esModule?d:{default:d}}(e(0));var g={scope:l.default.Scope.BLOCK,whitelist:["rtl"]},p=new l.default.Attributor.Attribute("direction","dir",g),f=new l.default.Attributor.Class("direction","ql-direction",g),b=new l.default.Attributor.Style("direction","direction",g);o.DirectionAttribute=p,o.DirectionClass=f,o.DirectionStyle=b},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.FontClass=o.FontStyle=void 0;var n=function(){function O(S,P){for(var M=0;M<P.length;M++){var w=P[M];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(S,w.key,w)}}return function(S,P,M){return P&&O(S.prototype,P),M&&O(S,M),S}}(),l=function O(S,P,M){null===S&&(S=Function.prototype);var w=Object.getOwnPropertyDescriptor(S,P);if(void 0===w){var x=Object.getPrototypeOf(S);return null===x?void 0:O(x,P,M)}if("value"in w)return w.value;var I=w.get;return void 0===I?void 0:I.call(M)},g=function p(O){return O&&O.__esModule?O:{default:O}}(e(0));var y={scope:g.default.Scope.INLINE,whitelist:["serif","monospace"]},R=new g.default.Attributor.Class("font","ql-font",y),m=function(O){function S(){return function f(O,S){if(!(O instanceof S))throw new TypeError("Cannot call a class as a function")}(this,S),function b(O,S){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S||"object"!=typeof S&&"function"!=typeof S?O:S}(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return function d(O,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function, not "+typeof S);O.prototype=Object.create(S&&S.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(O,S):O.__proto__=S)}(S,O),n(S,[{key:"value",value:function(M){return l(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"value",this).call(this,M).replace(/["']/g,"")}}]),S}(g.default.Attributor.Style),v=new m("font","font-family",y);o.FontStyle=v,o.FontClass=R},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.SizeStyle=o.SizeClass=void 0;var l=function h(f){return f&&f.__esModule?f:{default:f}}(e(0));var g=new l.default.Attributor.Class("size","ql-size",{scope:l.default.Scope.INLINE,whitelist:["small","large","huge"]}),p=new l.default.Attributor.Style("size","font-size",{scope:l.default.Scope.INLINE,whitelist:["10px","18px","32px"]});o.SizeClass=g,o.SizeStyle=p},function(re,o,e){"use strict";re.exports={align:{"":e(76),center:e(77),right:e(78),justify:e(79)},background:e(80),blockquote:e(81),bold:e(82),clean:e(83),code:e(58),"code-block":e(58),color:e(84),direction:{"":e(85),rtl:e(86)},float:{center:e(87),full:e(88),left:e(89),right:e(90)},formula:e(91),header:{1:e(92),2:e(93)},italic:e(94),image:e(95),indent:{"+1":e(96),"-1":e(97)},link:e(98),list:{ordered:e(99),bullet:e(100),check:e(101)},script:{sub:e(102),super:e(103)},strike:e(104),underline:e(105),video:e(106)}},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.getLastChangeIndex=o.default=void 0;var n=function(){function P(M,w){for(var x=0;x<w.length;x++){var I=w[x];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,I.key,I)}}return function(M,w,x){return w&&P(M.prototype,w),x&&P(M,x),M}}(),h=d(e(0)),p=d(e(5));function d(P){return P&&P.__esModule?P:{default:P}}var v=function(P){function M(w,x){!function y(P,M){if(!(P instanceof M))throw new TypeError("Cannot call a class as a function")}(this,M);var I=function R(P,M){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!M||"object"!=typeof M&&"function"!=typeof M?P:M}(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,w,x));return I.lastRecorded=0,I.ignoreChange=!1,I.clear(),I.quill.on(p.default.events.EDITOR_CHANGE,function(_,C,D,A){_!==p.default.events.TEXT_CHANGE||I.ignoreChange||(I.options.userOnly&&A!==p.default.sources.USER?I.transform(C):I.record(C,D))}),I.quill.keyboard.addBinding({key:"Z",shortKey:!0},I.undo.bind(I)),I.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},I.redo.bind(I)),/Win/i.test(navigator.platform)&&I.quill.keyboard.addBinding({key:"Y",shortKey:!0},I.redo.bind(I)),I}return function m(P,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function, not "+typeof M);P.prototype=Object.create(M&&M.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(P,M):P.__proto__=M)}(M,P),n(M,[{key:"change",value:function(x,I){if(0!==this.stack[x].length){var _=this.stack[x].pop();this.stack[I].push(_),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(_[x],p.default.sources.USER),this.ignoreChange=!1;var C=S(_[x]);this.quill.setSelection(C)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(x,I){if(0!==x.ops.length){this.stack.redo=[];var _=this.quill.getContents().diff(I),C=Date.now();if(this.lastRecorded+this.options.delay>C&&this.stack.undo.length>0){var D=this.stack.undo.pop();_=_.compose(D.undo),x=D.redo.compose(x)}else this.lastRecorded=C;this.stack.undo.push({redo:x,undo:_}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(x){this.stack.undo.forEach(function(I){I.undo=x.transform(I.undo,!0),I.redo=x.transform(I.redo,!0)}),this.stack.redo.forEach(function(I){I.undo=x.transform(I.undo,!0),I.redo=x.transform(I.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),M}(d(e(9)).default);function S(P){var M=P.reduce(function(x,I){return x+(I.delete||0)},0),w=P.length()-M;return function O(P){var M=P.ops[P.ops.length-1];return null!=M&&(null!=M.insert?"string"==typeof M.insert&&M.insert.endsWith("\n"):null!=M.attributes&&Object.keys(M.attributes).some(function(w){return null!=h.default.query(w,h.default.Scope.BLOCK)}))}(P)&&(w-=1),w}v.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},o.default=v,o.getLastChangeIndex=S},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=o.BaseTooltip=void 0;var n=function(){function j(W,ie){for(var ce=0;ce<ie.length;ce++){var oe=ie[ce];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(W,oe.key,oe)}}return function(W,ie,ce){return ie&&j(W.prototype,ie),ce&&j(W,ce),W}}(),l=function j(W,ie,ce){null===W&&(W=Function.prototype);var oe=Object.getOwnPropertyDescriptor(W,ie);if(void 0===oe){var me=Object.getPrototypeOf(W);return null===me?void 0:j(me,ie,ce)}if("value"in oe)return oe.value;var he=oe.get;return void 0===he?void 0:he.call(ce)},g=C(e(3)),f=C(e(2)),d=C(e(8)),R=C(e(23)),v=C(e(34)),S=C(e(59)),M=C(e(60)),x=C(e(28)),_=C(e(61));function C(j){return j&&j.__esModule?j:{default:j}}function D(j,W){if(!(j instanceof W))throw new TypeError("Cannot call a class as a function")}function A(j,W){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!W||"object"!=typeof W&&"function"!=typeof W?j:W}function B(j,W){if("function"!=typeof W&&null!==W)throw new TypeError("Super expression must either be null or a function, not "+typeof W);j.prototype=Object.create(W&&W.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(j,W):j.__proto__=W)}var F=[!1,"center","right","justify"],$=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],U=[!1,"serif","monospace"],G=["1","2","3",!1],J=["small",!1,"large","huge"],te=function(j){function W(ie,ce){D(this,W);var oe=A(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,ie,ce));return ie.emitter.listenDOM("click",document.body,function he(Oe){if(!document.body.contains(ie.root))return document.body.removeEventListener("click",he);null!=oe.tooltip&&!oe.tooltip.root.contains(Oe.target)&&document.activeElement!==oe.tooltip.textbox&&!oe.quill.hasFocus()&&oe.tooltip.hide(),null!=oe.pickers&&oe.pickers.forEach(function(we){we.container.contains(Oe.target)||we.close()})}),oe}return B(W,j),n(W,[{key:"addModule",value:function(ce){var oe=l(W.prototype.__proto__||Object.getPrototypeOf(W.prototype),"addModule",this).call(this,ce);return"toolbar"===ce&&this.extendToolbar(oe),oe}},{key:"buildButtons",value:function(ce,oe){ce.forEach(function(me){(me.getAttribute("class")||"").split(/\s+/).forEach(function(Oe){if(Oe.startsWith("ql-")&&(Oe=Oe.slice(3),null!=oe[Oe]))if("direction"===Oe)me.innerHTML=oe[Oe][""]+oe[Oe].rtl;else if("string"==typeof oe[Oe])me.innerHTML=oe[Oe];else{var we=me.value||"";null!=we&&oe[Oe][we]&&(me.innerHTML=oe[Oe][we])}})})}},{key:"buildPickers",value:function(ce,oe){var me=this;this.pickers=ce.map(function(Oe){if(Oe.classList.contains("ql-align"))return null==Oe.querySelector("option")&&k(Oe,F),new M.default(Oe,oe.align);if(Oe.classList.contains("ql-background")||Oe.classList.contains("ql-color")){var we=Oe.classList.contains("ql-background")?"background":"color";return null==Oe.querySelector("option")&&k(Oe,$,"background"===we?"#ffffff":"#000000"),new S.default(Oe,oe[we])}return null==Oe.querySelector("option")&&(Oe.classList.contains("ql-font")?k(Oe,U):Oe.classList.contains("ql-header")?k(Oe,G):Oe.classList.contains("ql-size")&&k(Oe,J)),new x.default(Oe)}),this.quill.on(d.default.events.EDITOR_CHANGE,function(){me.pickers.forEach(function(we){we.update()})})}}]),W}(v.default);te.DEFAULTS=(0,g.default)(!0,{},v.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var W=this,ie=this.container.querySelector("input.ql-image[type=file]");null==ie&&((ie=document.createElement("input")).setAttribute("type","file"),ie.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),ie.classList.add("ql-image"),ie.addEventListener("change",function(){if(null!=ie.files&&null!=ie.files[0]){var ce=new FileReader;ce.onload=function(oe){var me=W.quill.getSelection(!0);W.quill.updateContents((new f.default).retain(me.index).delete(me.length).insert({image:oe.target.result}),d.default.sources.USER),W.quill.setSelection(me.index+1,d.default.sources.SILENT),ie.value=""},ce.readAsDataURL(ie.files[0])}}),this.container.appendChild(ie)),ie.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var ne=function(j){function W(ie,ce){D(this,W);var oe=A(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,ie,ce));return oe.textbox=oe.root.querySelector('input[type="text"]'),oe.listen(),oe}return B(W,j),n(W,[{key:"listen",value:function(){var ce=this;this.textbox.addEventListener("keydown",function(oe){R.default.match(oe,"enter")?(ce.save(),oe.preventDefault()):R.default.match(oe,"escape")&&(ce.cancel(),oe.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var ce=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=oe?this.textbox.value=oe:ce!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+ce)||""),this.root.setAttribute("data-mode",ce)}},{key:"restoreFocus",value:function(){var ce=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=ce}},{key:"save",value:function(){var ce=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var oe=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",ce,d.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",ce,d.default.sources.USER)),this.quill.root.scrollTop=oe;break;case"video":ce=function K(j){var W=j.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||j.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return W?(W[1]||"https")+"://www.youtube.com/embed/"+W[2]+"?showinfo=0":(W=j.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(W[1]||"https")+"://player.vimeo.com/video/"+W[2]+"/":j}(ce);case"formula":if(!ce)break;var me=this.quill.getSelection(!0);if(null!=me){var he=me.index+me.length;this.quill.insertEmbed(he,this.root.getAttribute("data-mode"),ce,d.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(he+1," ",d.default.sources.USER),this.quill.setSelection(he+2,d.default.sources.USER)}}this.textbox.value="",this.hide()}}]),W}(_.default);function k(j,W){var ie=arguments.length>2&&void 0!==arguments[2]&&arguments[2];W.forEach(function(ce){var oe=document.createElement("option");ce===ie?oe.setAttribute("selected","selected"):oe.setAttribute("value",ce),j.appendChild(oe)})}o.BaseTooltip=ne,o.default=te},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function l(){this.head=this.tail=null,this.length=0}return l.prototype.append=function(){for(var h=[],g=0;g<arguments.length;g++)h[g]=arguments[g];this.insertBefore(h[0],null),h.length>1&&this.append.apply(this,h.slice(1))},l.prototype.contains=function(h){for(var g,p=this.iterator();g=p();)if(g===h)return!0;return!1},l.prototype.insertBefore=function(h,g){h&&(h.next=g,null!=g?(h.prev=g.prev,null!=g.prev&&(g.prev.next=h),g.prev=h,g===this.head&&(this.head=h)):null!=this.tail?(this.tail.next=h,h.prev=this.tail,this.tail=h):(h.prev=null,this.head=this.tail=h),this.length+=1)},l.prototype.offset=function(h){for(var g=0,p=this.head;null!=p;){if(p===h)return g;g+=p.length(),p=p.next}return-1},l.prototype.remove=function(h){this.contains(h)&&(null!=h.prev&&(h.prev.next=h.next),null!=h.next&&(h.next.prev=h.prev),h===this.head&&(this.head=h.next),h===this.tail&&(this.tail=h.prev),this.length-=1)},l.prototype.iterator=function(h){return void 0===h&&(h=this.head),function(){var g=h;return null!=h&&(h=h.next),g}},l.prototype.find=function(h,g){void 0===g&&(g=!1);for(var p,f=this.iterator();p=f();){var b=p.length();if(h<b||g&&h===b&&(null==p.next||0!==p.next.length()))return[p,h];h-=b}return[null,0]},l.prototype.forEach=function(h){for(var g,p=this.iterator();g=p();)h(g)},l.prototype.forEachAt=function(h,g,p){if(!(g<=0))for(var y,f=this.find(h),R=h-f[1],m=this.iterator(f[0]);(y=m())&&R<h+g;){var v=y.length();h>R?p(y,h-R,Math.min(g,R+v-h)):p(y,0,Math.min(v,h+g-R)),R+=v}},l.prototype.map=function(h){return this.reduce(function(g,p){return g.push(h(p)),g},[])},l.prototype.reduce=function(h,g){for(var p,f=this.iterator();p=f();)g=h(g,p);return g},l}();o.default=n},function(re,o,e){"use strict";var b,n=this&&this.__extends||(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var R in y)y.hasOwnProperty(R)&&(d[R]=y[R])},function(d,y){function R(){this.constructor=d}b(d,y),d.prototype=null===y?Object.create(y):(R.prototype=y.prototype,new R)});Object.defineProperty(o,"__esModule",{value:!0});var l=e(17),h=e(1),g={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},f=function(b){function d(y){var R=b.call(this,y)||this;return R.scroll=R,R.observer=new MutationObserver(function(m){R.update(m)}),R.observer.observe(R.domNode,g),R.attach(),R}return n(d,b),d.prototype.detach=function(){b.prototype.detach.call(this),this.observer.disconnect()},d.prototype.deleteAt=function(y,R){this.update(),0===y&&R===this.length()?this.children.forEach(function(m){m.remove()}):b.prototype.deleteAt.call(this,y,R)},d.prototype.formatAt=function(y,R,m,v){this.update(),b.prototype.formatAt.call(this,y,R,m,v)},d.prototype.insertAt=function(y,R,m){this.update(),b.prototype.insertAt.call(this,y,R,m)},d.prototype.optimize=function(y,R){var m=this;void 0===y&&(y=[]),void 0===R&&(R={}),b.prototype.optimize.call(this,R);for(var v=[].slice.call(this.observer.takeRecords());v.length>0;)y.push(v.pop());for(var O=function(w,x){void 0===x&&(x=!0),null!=w&&w!==m&&null!=w.domNode.parentNode&&(null==w.domNode[h.DATA_KEY].mutations&&(w.domNode[h.DATA_KEY].mutations=[]),x&&O(w.parent))},S=function(w){null==w.domNode[h.DATA_KEY]||null==w.domNode[h.DATA_KEY].mutations||(w instanceof l.default&&w.children.forEach(S),w.optimize(R))},P=y,M=0;P.length>0;M+=1){if(M>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(P.forEach(function(w){var x=h.find(w.target,!0);null!=x&&(x.domNode===w.target&&("childList"===w.type?(O(h.find(w.previousSibling,!1)),[].forEach.call(w.addedNodes,function(I){var _=h.find(I,!1);O(_,!1),_ instanceof l.default&&_.children.forEach(function(C){O(C,!1)})})):"attributes"===w.type&&O(x.prev)),O(x))}),this.children.forEach(S),v=(P=[].slice.call(this.observer.takeRecords())).slice();v.length>0;)y.push(v.pop())}},d.prototype.update=function(y,R){var m=this;void 0===R&&(R={}),(y=y||this.observer.takeRecords()).map(function(v){var O=h.find(v.target,!0);return null==O?null:null==O.domNode[h.DATA_KEY].mutations?(O.domNode[h.DATA_KEY].mutations=[v],O):(O.domNode[h.DATA_KEY].mutations.push(v),null)}).forEach(function(v){null==v||v===m||null==v.domNode[h.DATA_KEY]||v.update(v.domNode[h.DATA_KEY].mutations||[],R)}),null!=this.domNode[h.DATA_KEY].mutations&&b.prototype.update.call(this,this.domNode[h.DATA_KEY].mutations,R),this.optimize(y,R)},d.blotName="scroll",d.defaultChild="block",d.scope=h.Scope.BLOCK_BLOT,d.tagName="DIV",d}(l.default);o.default=f},function(re,o,e){"use strict";var f,n=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,d){b.__proto__=d}||function(b,d){for(var y in d)d.hasOwnProperty(y)&&(b[y]=d[y])},function(b,d){function y(){this.constructor=b}f(b,d),b.prototype=null===d?Object.create(d):(y.prototype=d.prototype,new y)});Object.defineProperty(o,"__esModule",{value:!0});var l=e(18),h=e(1);var p=function(f){function b(){return null!==f&&f.apply(this,arguments)||this}return n(b,f),b.formats=function(d){if(d.tagName!==b.tagName)return f.formats.call(this,d)},b.prototype.format=function(d,y){var R=this;d!==this.statics.blotName||y?f.prototype.format.call(this,d,y):(this.children.forEach(function(m){m instanceof l.default||(m=m.wrap(b.blotName,!0)),R.attributes.copy(m)}),this.unwrap())},b.prototype.formatAt=function(d,y,R,m){null!=this.formats()[R]||h.query(R,h.Scope.ATTRIBUTE)?this.isolate(d,y).format(R,m):f.prototype.formatAt.call(this,d,y,R,m)},b.prototype.optimize=function(d){f.prototype.optimize.call(this,d);var y=this.formats();if(0===Object.keys(y).length)return this.unwrap();var R=this.next;R instanceof b&&R.prev===this&&function g(f,b){if(Object.keys(f).length!==Object.keys(b).length)return!1;for(var d in f)if(f[d]!==b[d])return!1;return!0}(y,R.formats())&&(R.moveChildren(this),R.remove())},b.blotName="inline",b.scope=h.Scope.INLINE_BLOT,b.tagName="SPAN",b}(l.default);o.default=p},function(re,o,e){"use strict";var p,n=this&&this.__extends||(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,b){f.__proto__=b}||function(f,b){for(var d in b)b.hasOwnProperty(d)&&(f[d]=b[d])},function(f,b){function d(){this.constructor=f}p(f,b),f.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)});Object.defineProperty(o,"__esModule",{value:!0});var l=e(18),h=e(1),g=function(p){function f(){return null!==p&&p.apply(this,arguments)||this}return n(f,p),f.formats=function(b){var d=h.query(f.blotName).tagName;if(b.tagName!==d)return p.formats.call(this,b)},f.prototype.format=function(b,d){null!=h.query(b,h.Scope.BLOCK)&&(b!==this.statics.blotName||d?p.prototype.format.call(this,b,d):this.replaceWith(f.blotName))},f.prototype.formatAt=function(b,d,y,R){null!=h.query(y,h.Scope.BLOCK)?this.format(y,R):p.prototype.formatAt.call(this,b,d,y,R)},f.prototype.insertAt=function(b,d,y){if(null==y||null!=h.query(d,h.Scope.INLINE))p.prototype.insertAt.call(this,b,d,y);else{var R=this.split(b),m=h.create(d,y);R.parent.insertBefore(m,R)}},f.prototype.update=function(b,d){navigator.userAgent.match(/Trident/)?this.build():p.prototype.update.call(this,b,d)},f.blotName="block",f.scope=h.Scope.BLOCK_BLOT,f.tagName="P",f}(l.default);o.default=g},function(re,o,e){"use strict";var g,n=this&&this.__extends||(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,f){p.__proto__=f}||function(p,f){for(var b in f)f.hasOwnProperty(b)&&(p[b]=f[b])},function(p,f){function b(){this.constructor=p}g(p,f),p.prototype=null===f?Object.create(f):(b.prototype=f.prototype,new b)});Object.defineProperty(o,"__esModule",{value:!0});var h=function(g){function p(){return null!==g&&g.apply(this,arguments)||this}return n(p,g),p.formats=function(f){},p.prototype.format=function(f,b){g.prototype.formatAt.call(this,0,this.length(),f,b)},p.prototype.formatAt=function(f,b,d,y){0===f&&b===this.length()?this.format(d,y):g.prototype.formatAt.call(this,f,b,d,y)},p.prototype.formats=function(){return this.statics.formats(this.domNode)},p}(e(19).default);o.default=h},function(re,o,e){"use strict";var p,n=this&&this.__extends||(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,b){f.__proto__=b}||function(f,b){for(var d in b)b.hasOwnProperty(d)&&(f[d]=b[d])},function(f,b){function d(){this.constructor=f}p(f,b),f.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)});Object.defineProperty(o,"__esModule",{value:!0});var l=e(19),h=e(1),g=function(p){function f(b){var d=p.call(this,b)||this;return d.text=d.statics.value(d.domNode),d}return n(f,p),f.create=function(b){return document.createTextNode(b)},f.value=function(b){var d=b.data;return d.normalize&&(d=d.normalize()),d},f.prototype.deleteAt=function(b,d){this.domNode.data=this.text=this.text.slice(0,b)+this.text.slice(b+d)},f.prototype.index=function(b,d){return this.domNode===b?d:-1},f.prototype.insertAt=function(b,d,y){null==y?(this.text=this.text.slice(0,b)+d+this.text.slice(b),this.domNode.data=this.text):p.prototype.insertAt.call(this,b,d,y)},f.prototype.length=function(){return this.text.length},f.prototype.optimize=function(b){p.prototype.optimize.call(this,b),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof f&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},f.prototype.position=function(b,d){return void 0===d&&(d=!1),[this.domNode,b]},f.prototype.split=function(b,d){if(void 0===d&&(d=!1),!d){if(0===b)return this;if(b===this.length())return this.next}var y=h.create(this.domNode.splitText(b));return this.parent.insertBefore(y,this.next),this.text=this.statics.value(this.domNode),y},f.prototype.update=function(b,d){var y=this;b.some(function(R){return"characterData"===R.type&&R.target===y.domNode})&&(this.text=this.statics.value(this.domNode))},f.prototype.value=function(){return this.text},f.blotName="text",f.scope=h.Scope.INLINE_BLOT,f}(l.default);o.default=g},function(re,o,e){"use strict";var n=document.createElement("div");if(n.classList.toggle("test-class",!1),n.classList.contains("test-class")){var l=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(h,g){return arguments.length>1&&!this.contains(h)==!g?g:l.call(this,h)}}String.prototype.startsWith||(String.prototype.startsWith=function(h,g){return this.substr(g=g||0,h.length)===h}),String.prototype.endsWith||(String.prototype.endsWith=function(h,g){var p=this.toString();("number"!=typeof g||!isFinite(g)||Math.floor(g)!==g||g>p.length)&&(g=p.length);var f=p.indexOf(h,g-=h.length);return-1!==f&&f===g}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(g){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof g)throw new TypeError("predicate must be a function");for(var d,p=Object(this),f=p.length>>>0,b=arguments[1],y=0;y<f;y++)if(g.call(b,d=p[y],y,p))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(re,o){var e=-1,n=1,l=0;function h(M,w,x){if(M==w)return M?[[l,M]]:[];(x<0||M.length<x)&&(x=null);var I=b(M,w),_=M.substring(0,I);I=d(M=M.substring(I),w=w.substring(I));var C=M.substring(M.length-I),D=function g(M,w){var x;if(!M)return[[n,w]];if(!w)return[[e,M]];var I=M.length>w.length?M:w,_=M.length>w.length?w:M,C=I.indexOf(_);if(-1!=C)return x=[[n,I.substring(0,C)],[l,_],[n,I.substring(C+_.length)]],M.length>w.length&&(x[0][0]=x[2][0]=e),x;if(1==_.length)return[[e,M],[n,w]];var D=function y(M,w){var x=M.length>w.length?M:w,I=M.length>w.length?w:M;if(x.length<4||2*I.length<x.length)return null;function _(J,te,ne){for(var W,ie,ce,oe,K=J.substring(ne,ne+Math.floor(J.length/4)),k=-1,j="";-1!=(k=te.indexOf(K,k+1));){var me=b(J.substring(ne),te.substring(k)),he=d(J.substring(0,ne),te.substring(0,k));j.length<he+me&&(j=te.substring(k-he,k)+te.substring(k,k+me),W=J.substring(0,ne-he),ie=J.substring(ne+me),ce=te.substring(0,k-he),oe=te.substring(k+me))}return 2*j.length>=J.length?[W,ie,ce,oe,j]:null}var A,B,F,$,U,C=_(x,I,Math.ceil(x.length/4)),D=_(x,I,Math.ceil(x.length/2));return C||D?(A=D?C&&C[4].length>D[4].length?C:D:C,M.length>w.length?(B=A[0],F=A[1],$=A[2],U=A[3]):($=A[0],U=A[1],B=A[2],F=A[3]),[B,F,$,U,A[4]]):null}(M,w);if(D){var B=D[1],$=D[3],U=D[4],G=h(D[0],D[2]),J=h(B,$);return G.concat([[l,U]],J)}return function p(M,w){for(var x=M.length,I=w.length,_=Math.ceil((x+I)/2),C=_,D=2*_,A=new Array(D),B=new Array(D),F=0;F<D;F++)A[F]=-1,B[F]=-1;A[C+1]=0,B[C+1]=0;for(var $=x-I,U=$%2!=0,G=0,J=0,te=0,ne=0,K=0;K<_;K++){for(var k=-K+G;k<=K-J;k+=2){for(var j=C+k,ie=(W=k==-K||k!=K&&A[j-1]<A[j+1]?A[j+1]:A[j-1]+1)-k;W<x&&ie<I&&M.charAt(W)==w.charAt(ie);)W++,ie++;if(A[j]=W,W>x)J+=2;else if(ie>I)G+=2;else if(U&&(ce=C+$-k)>=0&&ce<D&&-1!=B[ce]&&W>=(oe=x-B[ce]))return f(M,w,W,ie)}for(var me=-K+te;me<=K-ne;me+=2){for(var oe,ce=C+me,he=(oe=me==-K||me!=K&&B[ce-1]<B[ce+1]?B[ce+1]:B[ce-1]+1)-me;oe<x&&he<I&&M.charAt(x-oe-1)==w.charAt(I-he-1);)oe++,he++;if(B[ce]=oe,oe>x)ne+=2;else if(he>I)te+=2;else if(!U){var W;if((j=C+$-me)>=0&&j<D&&-1!=A[j]&&(ie=C+(W=A[j])-j,W>=(oe=x-oe)))return f(M,w,W,ie)}}}return[[e,M],[n,w]]}(M,w)}(M=M.substring(0,M.length-I),w=w.substring(0,w.length-I));return _&&D.unshift([l,_]),C&&D.push([l,C]),R(D),null!=x&&(D=function O(M,w){var x=function v(M,w){if(0===w)return[l,M];for(var x=0,I=0;I<M.length;I++){var _=M[I];if(_[0]===e||_[0]===l){var C=x+_[1].length;if(w===C)return[I+1,M];if(w<C){M=M.slice();var D=w-x,A=[_[0],_[1].slice(0,D)],B=[_[0],_[1].slice(D)];return M.splice(I,1,A,B),[I+1,M]}x=C}}throw new Error("cursor_pos is out of bounds!")}(M,w),I=x[1],_=x[0],C=I[_],D=I[_+1];if(null==C)return M;if(C[0]!==l)return M;if(null!=D&&C[1]+D[1]===D[1]+C[1])return I.splice(_,2,D,C),P(I,_,2);if(null!=D&&0===D[1].indexOf(C[1])){I.splice(_,2,[D[0],C[1]],[0,C[1]]);var A=D[1].slice(C[1].length);return A.length>0&&I.splice(_+2,0,[D[0],A]),P(I,_,3)}return M}(D,x)),function S(M){for(var w=!1,x=function(D){return D.charCodeAt(0)>=56320&&D.charCodeAt(0)<=57343},I=function(D){return D.charCodeAt(D.length-1)>=55296&&D.charCodeAt(D.length-1)<=56319},_=2;_<M.length;_+=1)M[_-2][0]===l&&I(M[_-2][1])&&M[_-1][0]===e&&x(M[_-1][1])&&M[_][0]===n&&x(M[_][1])&&(w=!0,M[_-1][1]=M[_-2][1].slice(-1)+M[_-1][1],M[_][1]=M[_-2][1].slice(-1)+M[_][1],M[_-2][1]=M[_-2][1].slice(0,-1));if(!w)return M;var C=[];for(_=0;_<M.length;_+=1)M[_][1].length>0&&C.push(M[_]);return C}(D)}function f(M,w,x,I){var _=M.substring(0,x),C=w.substring(0,I),D=M.substring(x),A=w.substring(I),B=h(_,C),F=h(D,A);return B.concat(F)}function b(M,w){if(!M||!w||M.charAt(0)!=w.charAt(0))return 0;for(var x=0,I=Math.min(M.length,w.length),_=I,C=0;x<_;)M.substring(C,_)==w.substring(C,_)?C=x=_:I=_,_=Math.floor((I-x)/2+x);return _}function d(M,w){if(!M||!w||M.charAt(M.length-1)!=w.charAt(w.length-1))return 0;for(var x=0,I=Math.min(M.length,w.length),_=I,C=0;x<_;)M.substring(M.length-_,M.length-C)==w.substring(w.length-_,w.length-C)?C=x=_:I=_,_=Math.floor((I-x)/2+x);return _}function R(M){M.push([l,""]);for(var D,w=0,x=0,I=0,_="",C="";w<M.length;)switch(M[w][0]){case n:I++,C+=M[w][1],w++;break;case e:x++,_+=M[w][1],w++;break;case l:x+I>1?(0!==x&&0!==I&&(0!==(D=b(C,_))&&(w-x-I>0&&M[w-x-I-1][0]==l?M[w-x-I-1][1]+=C.substring(0,D):(M.splice(0,0,[l,C.substring(0,D)]),w++),C=C.substring(D),_=_.substring(D)),0!==(D=d(C,_))&&(M[w][1]=C.substring(C.length-D)+M[w][1],C=C.substring(0,C.length-D),_=_.substring(0,_.length-D))),0===x?M.splice(w-I,x+I,[n,C]):0===I?M.splice(w-x,x+I,[e,_]):M.splice(w-x-I,x+I,[e,_],[n,C]),w=w-x-I+(x?1:0)+(I?1:0)+1):0!==w&&M[w-1][0]==l?(M[w-1][1]+=M[w][1],M.splice(w,1)):w++,I=0,x=0,_="",C=""}""===M[M.length-1][1]&&M.pop();var A=!1;for(w=1;w<M.length-1;)M[w-1][0]==l&&M[w+1][0]==l&&(M[w][1].substring(M[w][1].length-M[w-1][1].length)==M[w-1][1]?(M[w][1]=M[w-1][1]+M[w][1].substring(0,M[w][1].length-M[w-1][1].length),M[w+1][1]=M[w-1][1]+M[w+1][1],M.splice(w-1,1),A=!0):M[w][1].substring(0,M[w+1][1].length)==M[w+1][1]&&(M[w-1][1]+=M[w+1][1],M[w][1]=M[w][1].substring(M[w+1][1].length)+M[w+1][1],M.splice(w+1,1),A=!0)),w++;A&&R(M)}var m=h;function P(M,w,x){for(var I=w+x-1;I>=0&&I>=w-1;I--)if(I+1<M.length){var _=M[I],C=M[I+1];_[0]===C[1]&&M.splice(I,2,[_[0],_[1]+C[1]])}return M}m.INSERT=n,m.DELETE=e,m.EQUAL=l,re.exports=m},function(re,o){function e(n){var l=[];for(var h in n)l.push(h);return l}(re.exports="function"==typeof Object.keys?Object.keys:e).shim=e},function(re,o){var e="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function n(h){return"[object Arguments]"==Object.prototype.toString.call(h)}function l(h){return h&&"object"==typeof h&&"number"==typeof h.length&&Object.prototype.hasOwnProperty.call(h,"callee")&&!Object.prototype.propertyIsEnumerable.call(h,"callee")||!1}(o=re.exports=e?n:l).supported=n,o.unsupported=l},function(re,o){"use strict";var e=Object.prototype.hasOwnProperty,n="~";function l(){}function h(p,f,b){this.fn=p,this.context=f,this.once=b||!1}function g(){this._events=new l,this._eventsCount=0}Object.create&&(l.prototype=Object.create(null),(new l).__proto__||(n=!1)),g.prototype.eventNames=function(){var b,d,f=[];if(0===this._eventsCount)return f;for(d in b=this._events)e.call(b,d)&&f.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(b)):f},g.prototype.listeners=function(f,b){var y=this._events[n?n+f:f];if(b)return!!y;if(!y)return[];if(y.fn)return[y.fn];for(var R=0,m=y.length,v=new Array(m);R<m;R++)v[R]=y[R].fn;return v},g.prototype.emit=function(f,b,d,y,R,m){var v=n?n+f:f;if(!this._events[v])return!1;var P,M,O=this._events[v],S=arguments.length;if(O.fn){switch(O.once&&this.removeListener(f,O.fn,void 0,!0),S){case 1:return O.fn.call(O.context),!0;case 2:return O.fn.call(O.context,b),!0;case 3:return O.fn.call(O.context,b,d),!0;case 4:return O.fn.call(O.context,b,d,y),!0;case 5:return O.fn.call(O.context,b,d,y,R),!0;case 6:return O.fn.call(O.context,b,d,y,R,m),!0}for(M=1,P=new Array(S-1);M<S;M++)P[M-1]=arguments[M];O.fn.apply(O.context,P)}else{var x,w=O.length;for(M=0;M<w;M++)switch(O[M].once&&this.removeListener(f,O[M].fn,void 0,!0),S){case 1:O[M].fn.call(O[M].context);break;case 2:O[M].fn.call(O[M].context,b);break;case 3:O[M].fn.call(O[M].context,b,d);break;case 4:O[M].fn.call(O[M].context,b,d,y);break;default:if(!P)for(x=1,P=new Array(S-1);x<S;x++)P[x-1]=arguments[x];O[M].fn.apply(O[M].context,P)}}return!0},g.prototype.on=function(f,b,d){var y=new h(b,d||this),R=n?n+f:f;return this._events[R]?this._events[R].fn?this._events[R]=[this._events[R],y]:this._events[R].push(y):(this._events[R]=y,this._eventsCount++),this},g.prototype.once=function(f,b,d){var y=new h(b,d||this,!0),R=n?n+f:f;return this._events[R]?this._events[R].fn?this._events[R]=[this._events[R],y]:this._events[R].push(y):(this._events[R]=y,this._eventsCount++),this},g.prototype.removeListener=function(f,b,d,y){var R=n?n+f:f;if(!this._events[R])return this;if(!b)return 0==--this._eventsCount?this._events=new l:delete this._events[R],this;var m=this._events[R];if(m.fn)m.fn===b&&(!y||m.once)&&(!d||m.context===d)&&(0==--this._eventsCount?this._events=new l:delete this._events[R]);else{for(var v=0,O=[],S=m.length;v<S;v++)(m[v].fn!==b||y&&!m[v].once||d&&m[v].context!==d)&&O.push(m[v]);O.length?this._events[R]=1===O.length?O[0]:O:0==--this._eventsCount?this._events=new l:delete this._events[R]}return this},g.prototype.removeAllListeners=function(f){var b;return f?this._events[b=n?n+f:f]&&(0==--this._eventsCount?this._events=new l:delete this._events[b]):(this._events=new l,this._eventsCount=0),this},g.prototype.off=g.prototype.removeListener,g.prototype.addListener=g.prototype.on,g.prototype.setMaxListeners=function(){return this},g.prefixed=n,g.EventEmitter=g,typeof re<"u"&&(re.exports=g)},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.matchText=o.matchSpacing=o.matchNewline=o.matchBlot=o.matchAttributor=o.default=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Qe){return typeof Qe}:function(Qe){return Qe&&"function"==typeof Symbol&&Qe.constructor===Symbol&&Qe!==Symbol.prototype?"symbol":typeof Qe},l=function(){return function($e,tt){if(Array.isArray($e))return $e;if(Symbol.iterator in Object($e))return function Qe($e,tt){var xt=[],Pt=!0,yt=!1,Le=void 0;try{for(var V,De=$e[Symbol.iterator]();!(Pt=(V=De.next()).done)&&(xt.push(V.value),!tt||xt.length!==tt);Pt=!0);}catch(ue){yt=!0,Le=ue}finally{try{!Pt&&De.return&&De.return()}finally{if(yt)throw Le}}return xt}($e,tt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(){function Qe($e,tt){for(var xt=0;xt<tt.length;xt++){var Pt=tt[xt];Pt.enumerable=Pt.enumerable||!1,Pt.configurable=!0,"value"in Pt&&(Pt.writable=!0),Object.defineProperty($e,Pt.key,Pt)}}return function($e,tt,xt){return tt&&Qe($e.prototype,tt),xt&&Qe($e,xt),$e}}(),p=B(e(3)),b=B(e(2)),y=B(e(0)),m=B(e(5)),O=B(e(10)),P=B(e(9)),M=e(36),w=e(37),I=B(e(13)),_=e(26),C=e(38),D=e(39),A=e(40);function B(Qe){return Qe&&Qe.__esModule?Qe:{default:Qe}}function F(Qe,$e,tt){return $e in Qe?Object.defineProperty(Qe,$e,{value:tt,enumerable:!0,configurable:!0,writable:!0}):Qe[$e]=tt,Qe}var J=(0,O.default)("quill:clipboard"),te="__ql-matcher",ne=[[Node.TEXT_NODE,Ge],[Node.TEXT_NODE,ge],["br",function We(Qe,$e){return ce($e,"\n")||$e.insert("\n"),$e}],[Node.ELEMENT_NODE,ge],[Node.ELEMENT_NODE,we],[Node.ELEMENT_NODE,pe],[Node.ELEMENT_NODE,Oe],[Node.ELEMENT_NODE,function Ee(Qe,$e){var tt={},xt=Qe.style||{};return xt.fontStyle&&"italic"===ie(Qe).fontStyle&&(tt.italic=!0),xt.fontWeight&&(ie(Qe).fontWeight.startsWith("bold")||parseInt(ie(Qe).fontWeight)>=700)&&(tt.bold=!0),Object.keys(tt).length>0&&($e=W($e,tt)),parseFloat(xt.textIndent||0)>0&&($e=(new b.default).insert("\t").concat($e)),$e}],["li",function Me(Qe,$e){var tt=y.default.query(Qe);if(null==tt||"list-item"!==tt.blotName||!ce($e,"\n"))return $e;for(var xt=-1,Pt=Qe.parentNode;!Pt.classList.contains("ql-clipboard");)"list"===(y.default.query(Pt)||{}).blotName&&(xt+=1),Pt=Pt.parentNode;return xt<=0?$e:$e.compose((new b.default).retain($e.length()-1).retain(1,{indent:xt}))}],["b",he.bind(he,"bold")],["i",he.bind(he,"italic")],["style",function Xe(){return new b.default}]],K=[M.AlignAttribute,C.DirectionAttribute].reduce(function(Qe,$e){return Qe[$e.keyName]=$e,Qe},{}),k=[M.AlignStyle,w.BackgroundStyle,_.ColorStyle,C.DirectionStyle,D.FontStyle,A.SizeStyle].reduce(function(Qe,$e){return Qe[$e.keyName]=$e,Qe},{}),j=function(Qe){function $e(tt,xt){!function $(Qe,$e){if(!(Qe instanceof $e))throw new TypeError("Cannot call a class as a function")}(this,$e);var Pt=function U(Qe,$e){if(!Qe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!$e||"object"!=typeof $e&&"function"!=typeof $e?Qe:$e}(this,($e.__proto__||Object.getPrototypeOf($e)).call(this,tt,xt));return Pt.quill.root.addEventListener("paste",Pt.onPaste.bind(Pt)),Pt.container=Pt.quill.addContainer("ql-clipboard"),Pt.container.setAttribute("contenteditable",!0),Pt.container.setAttribute("tabindex",-1),Pt.matchers=[],ne.concat(Pt.options.matchers).forEach(function(yt){var Le=l(yt,2),V=Le[1];!xt.matchVisual&&V===pe||Pt.addMatcher(Le[0],V)}),Pt}return function G(Qe,$e){if("function"!=typeof $e&&null!==$e)throw new TypeError("Super expression must either be null or a function, not "+typeof $e);Qe.prototype=Object.create($e&&$e.prototype,{constructor:{value:Qe,enumerable:!1,writable:!0,configurable:!0}}),$e&&(Object.setPrototypeOf?Object.setPrototypeOf(Qe,$e):Qe.__proto__=$e)}($e,Qe),h($e,[{key:"addMatcher",value:function(xt,Pt){this.matchers.push([xt,Pt])}},{key:"convert",value:function(xt){if("string"==typeof xt)return this.container.innerHTML=xt.replace(/\>\r?\n +\</g,"><"),this.convert();var Pt=this.quill.getFormat(this.quill.selection.savedRange.index);if(Pt[I.default.blotName]){var yt=this.container.innerText;return this.container.innerHTML="",(new b.default).insert(yt,F({},I.default.blotName,Pt[I.default.blotName]))}var Le=this.prepareMatching(),De=l(Le,2),Q=me(this.container,De[0],De[1]);return ce(Q,"\n")&&null==Q.ops[Q.ops.length-1].attributes&&(Q=Q.compose((new b.default).retain(Q.length()-1).delete(1))),J.log("convert",this.container.innerHTML,Q),this.container.innerHTML="",Q}},{key:"dangerouslyPasteHTML",value:function(xt,Pt){var yt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m.default.sources.API;if("string"==typeof xt)this.quill.setContents(this.convert(xt),Pt),this.quill.setSelection(0,m.default.sources.SILENT);else{var Le=this.convert(Pt);this.quill.updateContents((new b.default).retain(xt).concat(Le),yt),this.quill.setSelection(xt+Le.length(),m.default.sources.SILENT)}}},{key:"onPaste",value:function(xt){var Pt=this;if(!xt.defaultPrevented&&this.quill.isEnabled()){var yt=this.quill.getSelection(),Le=(new b.default).retain(yt.index),De=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(m.default.sources.SILENT),setTimeout(function(){Le=Le.concat(Pt.convert()).delete(yt.length),Pt.quill.updateContents(Le,m.default.sources.USER),Pt.quill.setSelection(Le.length()-yt.length,m.default.sources.SILENT),Pt.quill.scrollingContainer.scrollTop=De,Pt.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var xt=this,Pt=[],yt=[];return this.matchers.forEach(function(Le){var De=l(Le,2),V=De[0],ue=De[1];switch(V){case Node.TEXT_NODE:yt.push(ue);break;case Node.ELEMENT_NODE:Pt.push(ue);break;default:[].forEach.call(xt.container.querySelectorAll(V),function(Q){Q[te]=Q[te]||[],Q[te].push(ue)})}}),[Pt,yt]}}]),$e}(P.default);function W(Qe,$e,tt){return"object"===(typeof $e>"u"?"undefined":n($e))?Object.keys($e).reduce(function(xt,Pt){return W(xt,Pt,$e[Pt])},Qe):Qe.reduce(function(xt,Pt){return Pt.attributes&&Pt.attributes[$e]?xt.push(Pt):xt.insert(Pt.insert,(0,p.default)({},F({},$e,tt),Pt.attributes))},new b.default)}function ie(Qe){if(Qe.nodeType!==Node.ELEMENT_NODE)return{};var $e="__ql-computed-style";return Qe[$e]||(Qe[$e]=window.getComputedStyle(Qe))}function ce(Qe,$e){for(var tt="",xt=Qe.ops.length-1;xt>=0&&tt.length<$e.length;--xt){var Pt=Qe.ops[xt];if("string"!=typeof Pt.insert)break;tt=Pt.insert+tt}return tt.slice(-1*$e.length)===$e}function oe(Qe){if(0===Qe.childNodes.length)return!1;var $e=ie(Qe);return["block","list-item"].indexOf($e.display)>-1}function me(Qe,$e,tt){return Qe.nodeType===Qe.TEXT_NODE?tt.reduce(function(xt,Pt){return Pt(Qe,xt)},new b.default):Qe.nodeType===Qe.ELEMENT_NODE?[].reduce.call(Qe.childNodes||[],function(xt,Pt){var yt=me(Pt,$e,tt);return Pt.nodeType===Qe.ELEMENT_NODE&&(yt=$e.reduce(function(Le,De){return De(Pt,Le)},yt),yt=(Pt[te]||[]).reduce(function(Le,De){return De(Pt,Le)},yt)),xt.concat(yt)},new b.default):new b.default}function he(Qe,$e,tt){return W(tt,Qe,!0)}function Oe(Qe,$e){var tt=y.default.Attributor.Attribute.keys(Qe),xt=y.default.Attributor.Class.keys(Qe),Pt=y.default.Attributor.Style.keys(Qe),yt={};return tt.concat(xt).concat(Pt).forEach(function(Le){var De=y.default.query(Le,y.default.Scope.ATTRIBUTE);null!=De&&(yt[De.attrName]=De.value(Qe),yt[De.attrName])||(null!=(De=K[Le])&&(De.attrName===Le||De.keyName===Le)&&(yt[De.attrName]=De.value(Qe)||void 0),null!=(De=k[Le])&&(De.attrName===Le||De.keyName===Le)&&(yt[(De=k[Le]).attrName]=De.value(Qe)||void 0))}),Object.keys(yt).length>0&&($e=W($e,yt)),$e}function we(Qe,$e){var tt=y.default.query(Qe);if(null==tt)return $e;if(tt.prototype instanceof y.default.Embed){var xt={},Pt=tt.value(Qe);null!=Pt&&(xt[tt.blotName]=Pt,$e=(new b.default).insert(xt,tt.formats(Qe)))}else"function"==typeof tt.formats&&($e=W($e,tt.blotName,tt.formats(Qe)));return $e}function ge(Qe,$e){return ce($e,"\n")||(oe(Qe)||$e.length()>0&&Qe.nextSibling&&oe(Qe.nextSibling))&&$e.insert("\n"),$e}function pe(Qe,$e){if(oe(Qe)&&null!=Qe.nextElementSibling&&!ce($e,"\n\n")){var tt=Qe.offsetHeight+parseFloat(ie(Qe).marginTop)+parseFloat(ie(Qe).marginBottom);Qe.nextElementSibling.offsetTop>Qe.offsetTop+1.5*tt&&$e.insert("\n")}return $e}function Ge(Qe,$e){var tt=Qe.data;if("O:P"===Qe.parentNode.tagName)return $e.insert(tt.trim());if(0===tt.trim().length&&Qe.parentNode.classList.contains("ql-clipboard"))return $e;if(!ie(Qe.parentNode).whiteSpace.startsWith("pre")){var xt=function(yt,Le){return(Le=Le.replace(/[^\u00a0]/g,"")).length<1&&yt?" ":Le};tt=(tt=tt.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,xt.bind(xt,!0)),(null==Qe.previousSibling&&oe(Qe.parentNode)||null!=Qe.previousSibling&&oe(Qe.previousSibling))&&(tt=tt.replace(/^\s+/,xt.bind(xt,!1))),(null==Qe.nextSibling&&oe(Qe.parentNode)||null!=Qe.nextSibling&&oe(Qe.nextSibling))&&(tt=tt.replace(/\s+$/,xt.bind(xt,!1)))}return $e.insert(tt)}j.DEFAULTS={matchers:[],matchVisual:!0},o.default=j,o.matchAttributor=Oe,o.matchBlot=we,o.matchNewline=ge,o.matchSpacing=pe,o.matchText=Ge},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function R(m,v){for(var O=0;O<v.length;O++){var S=v[O];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}return function(m,v,O){return v&&R(m.prototype,v),O&&R(m,O),m}}(),l=function R(m,v,O){null===m&&(m=Function.prototype);var S=Object.getOwnPropertyDescriptor(m,v);if(void 0===S){var P=Object.getPrototypeOf(m);return null===P?void 0:R(P,v,O)}if("value"in S)return S.value;var M=S.get;return void 0===M?void 0:M.call(O)};var y=function(R){function m(){return function f(R,m){if(!(R instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),function b(R,m){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?R:m}(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return function d(R,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);R.prototype=Object.create(m&&m.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(R,m):R.__proto__=m)}(m,R),n(m,[{key:"optimize",value:function(O){l(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,O),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return l(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),m}(function p(R){return R&&R.__esModule?R:{default:R}}(e(6)).default);y.blotName="bold",y.tagName=["STRONG","B"],o.default=y},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.addControls=o.default=void 0;var n=function(){return function(B,F){if(Array.isArray(B))return B;if(Symbol.iterator in Object(B))return function A(B,F){var $=[],U=!0,G=!1,J=void 0;try{for(var ne,te=B[Symbol.iterator]();!(U=(ne=te.next()).done)&&($.push(ne.value),!F||$.length!==F);U=!0);}catch(K){G=!0,J=K}finally{try{!U&&te.return&&te.return()}finally{if(G)throw J}}return $}(B,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function A(B,F){for(var $=0;$<F.length;$++){var U=F[$];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(B,U.key,U)}}return function(B,F,$){return F&&A(B.prototype,F),$&&A(B,$),B}}(),g=O(e(2)),f=O(e(0)),d=O(e(5)),R=O(e(10)),v=O(e(9));function O(A){return A&&A.__esModule?A:{default:A}}function M(A,B){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!B||"object"!=typeof B&&"function"!=typeof B?A:B}var x=(0,R.default)("quill:toolbar"),I=function(A){function B(F,$){!function P(A,B){if(!(A instanceof B))throw new TypeError("Cannot call a class as a function")}(this,B);var J,U=M(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,F,$));if(Array.isArray(U.options.container)){var G=document.createElement("div");C(G,U.options.container),F.container.parentNode.insertBefore(G,F.container),U.container=G}else U.container="string"==typeof U.options.container?document.querySelector(U.options.container):U.options.container;return U.container instanceof HTMLElement?(U.container.classList.add("ql-toolbar"),U.controls=[],U.handlers={},Object.keys(U.options.handlers).forEach(function(te){U.addHandler(te,U.options.handlers[te])}),[].forEach.call(U.container.querySelectorAll("button, select"),function(te){U.attach(te)}),U.quill.on(d.default.events.EDITOR_CHANGE,function(te,ne){te===d.default.events.SELECTION_CHANGE&&U.update(ne)}),U.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){var te=U.quill.selection.getRange(),ne=n(te,1);U.update(ne[0])}),U):(J=x.error("Container required for toolbar",U.options),M(U,J))}return function w(A,B){if("function"!=typeof B&&null!==B)throw new TypeError("Super expression must either be null or a function, not "+typeof B);A.prototype=Object.create(B&&B.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(A,B):A.__proto__=B)}(B,A),l(B,[{key:"addHandler",value:function($,U){this.handlers[$]=U}},{key:"attach",value:function($){var U=this,G=[].find.call($.classList,function(te){return 0===te.indexOf("ql-")});if(G){if(G=G.slice(3),"BUTTON"===$.tagName&&$.setAttribute("type","button"),null==this.handlers[G]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[G])return void x.warn("ignoring attaching to disabled format",G,$);if(null==f.default.query(G))return void x.warn("ignoring attaching to nonexistent format",G,$)}$.addEventListener("SELECT"===$.tagName?"change":"click",function(te){var ne=void 0;if("SELECT"===$.tagName){if($.selectedIndex<0)return;var K=$.options[$.selectedIndex];ne=!K.hasAttribute("selected")&&(K.value||!1)}else ne=!$.classList.contains("ql-active")&&($.value||!$.hasAttribute("value")),te.preventDefault();U.quill.focus();var k=U.quill.selection.getRange(),W=n(k,1)[0];if(null!=U.handlers[G])U.handlers[G].call(U,ne);else if(f.default.query(G).prototype instanceof f.default.Embed){if(!(ne=prompt("Enter "+G)))return;U.quill.updateContents((new g.default).retain(W.index).delete(W.length).insert(function S(A,B,F){return B in A?Object.defineProperty(A,B,{value:F,enumerable:!0,configurable:!0,writable:!0}):A[B]=F,A}({},G,ne)),d.default.sources.USER)}else U.quill.format(G,ne,d.default.sources.USER);U.update(W)}),this.controls.push([G,$])}}},{key:"update",value:function($){var U=null==$?{}:this.quill.getFormat($);this.controls.forEach(function(G){var J=n(G,2),te=J[0],ne=J[1];if("SELECT"===ne.tagName){var K=void 0;if(null==$)K=null;else if(null==U[te])K=ne.querySelector("option[selected]");else if(!Array.isArray(U[te])){var k=U[te];"string"==typeof k&&(k=k.replace(/\"/g,'\\"')),K=ne.querySelector('option[value="'+k+'"]')}null==K?(ne.value="",ne.selectedIndex=-1):K.selected=!0}else if(null==$)ne.classList.remove("ql-active");else if(ne.hasAttribute("value")){var j=U[te]===ne.getAttribute("value")||null!=U[te]&&U[te].toString()===ne.getAttribute("value")||null==U[te]&&!ne.getAttribute("value");ne.classList.toggle("ql-active",j)}else ne.classList.toggle("ql-active",null!=U[te])})}}]),B}(v.default);function _(A,B,F){var $=document.createElement("button");$.setAttribute("type","button"),$.classList.add("ql-"+B),null!=F&&($.value=F),A.appendChild($)}function C(A,B){Array.isArray(B[0])||(B=[B]),B.forEach(function(F){var $=document.createElement("span");$.classList.add("ql-formats"),F.forEach(function(U){if("string"==typeof U)_($,U);else{var G=Object.keys(U)[0],J=U[G];Array.isArray(J)?function D(A,B,F){var $=document.createElement("select");$.classList.add("ql-"+B),F.forEach(function(U){var G=document.createElement("option");!1!==U?G.setAttribute("value",U):G.setAttribute("selected","selected"),$.appendChild(G)}),A.appendChild($)}($,G,J):_($,G,J)}}),A.appendChild($)})}I.DEFAULTS={},I.DEFAULTS={container:null,handlers:{clean:function(){var B=this,F=this.quill.getSelection();if(null!=F)if(0==F.length){var $=this.quill.getFormat();Object.keys($).forEach(function(U){null!=f.default.query(U,f.default.Scope.INLINE)&&B.quill.format(U,!1)})}else this.quill.removeFormat(F,d.default.sources.USER)},direction:function(B){var F=this.quill.getFormat().align;"rtl"===B&&null==F?this.quill.format("align","right",d.default.sources.USER):!B&&"right"===F&&this.quill.format("align",!1,d.default.sources.USER),this.quill.format("direction",B,d.default.sources.USER)},indent:function(B){var F=this.quill.getSelection(),$=this.quill.getFormat(F),U=parseInt($.indent||0);if("+1"===B||"-1"===B){var G="+1"===B?1:-1;"rtl"===$.direction&&(G*=-1),this.quill.format("indent",U+G,d.default.sources.USER)}},link:function(B){!0===B&&(B=prompt("Enter link URL:")),this.quill.format("link",B,d.default.sources.USER)},list:function(B){var F=this.quill.getSelection(),$=this.quill.getFormat(F);this.quill.format("list","check"===B?"checked"!==$.list&&"unchecked"!==$.list&&"unchecked":B,d.default.sources.USER)}}},o.default=I,o.addControls=C},function(re,o){re.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function R(m,v){for(var O=0;O<v.length;O++){var S=v[O];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}return function(m,v,O){return v&&R(m.prototype,v),O&&R(m,O),m}}(),l=function R(m,v,O){null===m&&(m=Function.prototype);var S=Object.getOwnPropertyDescriptor(m,v);if(void 0===S){var P=Object.getPrototypeOf(m);return null===P?void 0:R(P,v,O)}if("value"in S)return S.value;var M=S.get;return void 0===M?void 0:M.call(O)};var y=function(R){function m(v,O){!function f(R,m){if(!(R instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m);var S=function b(R,m){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?R:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v));return S.label.innerHTML=O,S.container.classList.add("ql-color-picker"),[].slice.call(S.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(P){P.classList.add("ql-primary")}),S}return function d(R,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);R.prototype=Object.create(m&&m.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(R,m):R.__proto__=m)}(m,R),n(m,[{key:"buildItem",value:function(O){var S=l(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"buildItem",this).call(this,O);return S.style.backgroundColor=O.getAttribute("value")||"",S}},{key:"selectItem",value:function(O,S){l(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"selectItem",this).call(this,O,S);var P=this.label.querySelector(".ql-color-label"),M=O&&O.getAttribute("data-value")||"";P&&("line"===P.tagName?P.style.stroke=M:P.style.fill=M)}}]),m}(function p(R){return R&&R.__esModule?R:{default:R}}(e(28)).default);o.default=y},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function R(m,v){for(var O=0;O<v.length;O++){var S=v[O];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}return function(m,v,O){return v&&R(m.prototype,v),O&&R(m,O),m}}(),l=function R(m,v,O){null===m&&(m=Function.prototype);var S=Object.getOwnPropertyDescriptor(m,v);if(void 0===S){var P=Object.getPrototypeOf(m);return null===P?void 0:R(P,v,O)}if("value"in S)return S.value;var M=S.get;return void 0===M?void 0:M.call(O)};var y=function(R){function m(v,O){!function f(R,m){if(!(R instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m);var S=function b(R,m){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?R:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v));return S.container.classList.add("ql-icon-picker"),[].forEach.call(S.container.querySelectorAll(".ql-picker-item"),function(P){P.innerHTML=O[P.getAttribute("data-value")||""]}),S.defaultItem=S.container.querySelector(".ql-selected"),S.selectItem(S.defaultItem),S}return function d(R,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);R.prototype=Object.create(m&&m.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(R,m):R.__proto__=m)}(m,R),n(m,[{key:"selectItem",value:function(O,S){l(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"selectItem",this).call(this,O,S),this.label.innerHTML=(O=O||this.defaultItem).innerHTML}}]),m}(function p(R){return R&&R.__esModule?R:{default:R}}(e(28)).default);o.default=y},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function g(p,f){for(var b=0;b<f.length;b++){var d=f[b];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(p,d.key,d)}}return function(p,f,b){return f&&g(p.prototype,f),b&&g(p,b),p}}();var h=function(){function g(p,f){var b=this;(function l(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")})(this,g),this.quill=p,this.boundsContainer=f||document.body,this.root=p.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){b.root.style.marginTop=-1*b.quill.root.scrollTop+"px"}),this.hide()}return n(g,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(f){var b=f.left+f.width/2-this.root.offsetWidth/2,d=f.bottom+this.quill.root.scrollTop;this.root.style.left=b+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var y=this.boundsContainer.getBoundingClientRect(),R=this.root.getBoundingClientRect(),m=0;return R.right>y.right&&(this.root.style.left=b+(m=y.right-R.right)+"px"),R.left<y.left&&(this.root.style.left=b+(m=y.left-R.left)+"px"),R.bottom>y.bottom&&(this.root.style.top=d-(f.bottom-f.top+(R.bottom-R.top))+"px",this.root.classList.add("ql-flip")),m}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),g}();o.default=h},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=function(){return function(A,B){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return function D(A,B){var F=[],$=!0,U=!1,G=void 0;try{for(var te,J=A[Symbol.iterator]();!($=(te=J.next()).done)&&(F.push(te.value),!B||F.length!==B);$=!0);}catch(ne){U=!0,G=ne}finally{try{!$&&J.return&&J.return()}finally{if(U)throw G}}return F}(A,B);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function D(A,B,F){null===A&&(A=Function.prototype);var $=Object.getOwnPropertyDescriptor(A,B);if(void 0===$){var U=Object.getPrototypeOf(A);return null===U?void 0:D(U,B,F)}if("value"in $)return $.value;var G=$.get;return void 0===G?void 0:G.call(F)},h=function(){function D(A,B){for(var F=0;F<B.length;F++){var $=B[F];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(A,$.key,$)}}return function(A,B,F){return B&&D(A.prototype,B),F&&D(A,F),A}}(),p=P(e(3)),b=P(e(8)),d=e(43),y=P(d),m=P(e(27)),v=e(15),S=P(e(41));function P(D){return D&&D.__esModule?D:{default:D}}function M(D,A){if(!(D instanceof A))throw new TypeError("Cannot call a class as a function")}function w(D,A){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!A||"object"!=typeof A&&"function"!=typeof A?D:A}function x(D,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function, not "+typeof A);D.prototype=Object.create(A&&A.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(D,A):D.__proto__=A)}var I=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],_=function(D){function A(B,F){M(this,A),null!=F.modules.toolbar&&null==F.modules.toolbar.container&&(F.modules.toolbar.container=I);var $=w(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,B,F));return $.quill.container.classList.add("ql-snow"),$}return x(A,D),h(A,[{key:"extendToolbar",value:function(F){F.container.classList.add("ql-snow"),this.buildButtons([].slice.call(F.container.querySelectorAll("button")),S.default),this.buildPickers([].slice.call(F.container.querySelectorAll("select")),S.default),this.tooltip=new C(this.quill,this.options.bounds),F.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function($,U){F.handlers.link.call(F,!U.format.link)})}}]),A}(y.default);_.DEFAULTS=(0,p.default)(!0,{},y.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(A){if(A){var B=this.quill.getSelection();if(null==B||0==B.length)return;var F=this.quill.getText(B);/^\S+@\S+\.\S+$/.test(F)&&0!==F.indexOf("mailto:")&&(F="mailto:"+F),this.quill.theme.tooltip.edit("link",F)}else this.quill.format("link",!1)}}}}});var C=function(D){function A(B,F){M(this,A);var $=w(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,B,F));return $.preview=$.root.querySelector("a.ql-preview"),$}return x(A,D),h(A,[{key:"listen",value:function(){var F=this;l(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function($){F.root.classList.contains("ql-editing")?F.save():F.edit("link",F.preview.textContent),$.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function($){if(null!=F.linkRange){var U=F.linkRange;F.restoreFocus(),F.quill.formatText(U,"link",!1,b.default.sources.USER),delete F.linkRange}$.preventDefault(),F.hide()}),this.quill.on(b.default.events.SELECTION_CHANGE,function($,U,G){if(null!=$){if(0===$.length&&G===b.default.sources.USER){var J=F.quill.scroll.descendant(m.default,$.index),te=n(J,2),ne=te[0];if(null!=ne){F.linkRange=new v.Range($.index-te[1],ne.length());var k=m.default.formats(ne.domNode);return F.preview.textContent=k,F.preview.setAttribute("href",k),F.show(),void F.position(F.quill.getBounds(F.linkRange))}}else delete F.linkRange;F.hide()}})}},{key:"show",value:function(){l(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),A}(d.BaseTooltip);C.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),o.default=_},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var l=Pt(e(29)),h=e(36),g=e(38),p=e(64),b=Pt(e(65)),y=Pt(e(66)),R=e(67),m=Pt(R),v=e(37),O=e(26),S=e(39),P=e(40),w=Pt(e(56)),I=Pt(e(68)),C=Pt(e(27)),A=Pt(e(69)),F=Pt(e(70)),U=Pt(e(71)),J=Pt(e(72)),ne=Pt(e(73)),K=e(13),k=Pt(K),W=Pt(e(74)),ce=Pt(e(75)),me=Pt(e(57)),Oe=Pt(e(41)),We=Pt(e(28)),Me=Pt(e(59)),pe=Pt(e(60)),Ge=Pt(e(61)),$e=Pt(e(108)),xt=Pt(e(62));function Pt(yt){return yt&&yt.__esModule?yt:{default:yt}}l.default.register({"attributors/attribute/direction":g.DirectionAttribute,"attributors/class/align":h.AlignClass,"attributors/class/background":v.BackgroundClass,"attributors/class/color":O.ColorClass,"attributors/class/direction":g.DirectionClass,"attributors/class/font":S.FontClass,"attributors/class/size":P.SizeClass,"attributors/style/align":h.AlignStyle,"attributors/style/background":v.BackgroundStyle,"attributors/style/color":O.ColorStyle,"attributors/style/direction":g.DirectionStyle,"attributors/style/font":S.FontStyle,"attributors/style/size":P.SizeStyle},!0),l.default.register({"formats/align":h.AlignClass,"formats/direction":g.DirectionClass,"formats/indent":p.IndentClass,"formats/background":v.BackgroundStyle,"formats/color":O.ColorStyle,"formats/font":S.FontClass,"formats/size":P.SizeClass,"formats/blockquote":b.default,"formats/code-block":k.default,"formats/header":y.default,"formats/list":m.default,"formats/bold":w.default,"formats/code":K.Code,"formats/italic":I.default,"formats/link":C.default,"formats/script":A.default,"formats/strike":F.default,"formats/underline":U.default,"formats/image":J.default,"formats/video":ne.default,"formats/list/item":R.ListItem,"modules/formula":W.default,"modules/syntax":ce.default,"modules/toolbar":me.default,"themes/bubble":$e.default,"themes/snow":xt.default,"ui/icons":Oe.default,"ui/picker":We.default,"ui/icon-picker":pe.default,"ui/color-picker":Me.default,"ui/tooltip":Ge.default},!0),o.default=l.default},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.IndentClass=void 0;var n=function(){function m(v,O){for(var S=0;S<O.length;S++){var P=O[S];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(v,P.key,P)}}return function(v,O,S){return O&&m(v.prototype,O),S&&m(v,S),v}}(),l=function m(v,O,S){null===v&&(v=Function.prototype);var P=Object.getOwnPropertyDescriptor(v,O);if(void 0===P){var M=Object.getPrototypeOf(v);return null===M?void 0:m(M,O,S)}if("value"in P)return P.value;var w=P.get;return void 0===w?void 0:w.call(S)},g=function p(m){return m&&m.__esModule?m:{default:m}}(e(0));var y=function(m){function v(){return function f(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v),function b(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?m:v}(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return function d(m,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}(v,m),n(v,[{key:"add",value:function(S,P){if("+1"===P||"-1"===P){var M=this.value(S)||0;P="+1"===P?M+1:M-1}return 0===P?(this.remove(S),!0):l(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"add",this).call(this,S,P)}},{key:"canAdd",value:function(S,P){return l(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"canAdd",this).call(this,S,P)||l(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"canAdd",this).call(this,S,parseInt(P))}},{key:"value",value:function(S){return parseInt(l(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,S))||void 0}}]),v}(g.default.Attributor.Class),R=new y("indent","ql-indent",{scope:g.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});o.IndentClass=R},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var b=function(d){function y(){return function g(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}(this,y),function p(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?d:y}(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return function f(d,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}(y,d),y}(function h(d){return d&&d.__esModule?d:{default:d}}(e(4)).default);b.blotName="blockquote",b.tagName="blockquote",o.default=b},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function y(R,m){for(var v=0;v<m.length;v++){var O=m[v];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(R,O.key,O)}}return function(R,m,v){return m&&y(R.prototype,m),v&&y(R,v),R}}();var d=function(y){function R(){return function p(y,R){if(!(y instanceof R))throw new TypeError("Cannot call a class as a function")}(this,R),function f(y,R){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||"object"!=typeof R&&"function"!=typeof R?y:R}(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return function b(y,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function, not "+typeof R);y.prototype=Object.create(R&&R.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(y,R):y.__proto__=R)}(R,y),n(R,null,[{key:"formats",value:function(v){return this.tagName.indexOf(v.tagName)+1}}]),R}(function g(y){return y&&y.__esModule?y:{default:y}}(e(4)).default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],o.default=d},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=o.ListItem=void 0;var n=function(){function M(w,x){for(var I=0;I<x.length;I++){var _=x[I];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(w,_.key,_)}}return function(w,x,I){return x&&M(w.prototype,x),I&&M(w,I),w}}(),l=function M(w,x,I){null===w&&(w=Function.prototype);var _=Object.getOwnPropertyDescriptor(w,x);if(void 0===_){var C=Object.getPrototypeOf(w);return null===C?void 0:M(C,x,I)}if("value"in _)return _.value;var D=_.get;return void 0===D?void 0:D.call(I)},g=y(e(0)),f=y(e(4)),d=y(e(25));function y(M){return M&&M.__esModule?M:{default:M}}function m(M,w){if(!(M instanceof w))throw new TypeError("Cannot call a class as a function")}function v(M,w){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||"object"!=typeof w&&"function"!=typeof w?M:w}function O(M,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function, not "+typeof w);M.prototype=Object.create(w&&w.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(M,w):M.__proto__=w)}var S=function(M){function w(){return m(this,w),v(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return O(w,M),n(w,[{key:"format",value:function(I,_){I!==P.blotName||_?l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,I,_):this.replaceWith(g.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(I,_){return this.parent.isolate(this.offset(this.parent),this.length()),I===this.parent.statics.blotName?(this.parent.replaceWith(I,_),this):(this.parent.unwrap(),l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"replaceWith",this).call(this,I,_))}}],[{key:"formats",value:function(I){return I.tagName===this.tagName?void 0:l(w.__proto__||Object.getPrototypeOf(w),"formats",this).call(this,I)}}]),w}(f.default);S.blotName="list-item",S.tagName="LI";var P=function(M){function w(x){m(this,w);var I=v(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,x)),_=function(D){if(D.target.parentNode===x){var A=I.statics.formats(x),B=g.default.find(D.target);"checked"===A?B.format("list","unchecked"):"unchecked"===A&&B.format("list","checked")}};return x.addEventListener("touchstart",_),x.addEventListener("mousedown",_),I}return O(w,M),n(w,null,[{key:"create",value:function(I){var _="ordered"===I?"OL":"UL",C=l(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,_);return("checked"===I||"unchecked"===I)&&C.setAttribute("data-checked","checked"===I),C}},{key:"formats",value:function(I){return"OL"===I.tagName?"ordered":"UL"===I.tagName?I.hasAttribute("data-checked")?"true"===I.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),n(w,[{key:"format",value:function(I,_){this.children.length>0&&this.children.tail.format(I,_)}},{key:"formats",value:function(){return function R(M,w,x){return w in M?Object.defineProperty(M,w,{value:x,enumerable:!0,configurable:!0,writable:!0}):M[w]=x,M}({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(I,_){if(I instanceof S)l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertBefore",this).call(this,I,_);else{var C=null==_?this.length():_.offset(this),D=this.split(C);D.parent.insertBefore(I,D)}}},{key:"optimize",value:function(I){l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,I);var _=this.next;null!=_&&_.prev===this&&_.statics.blotName===this.statics.blotName&&_.domNode.tagName===this.domNode.tagName&&_.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(_.moveChildren(this),_.remove())}},{key:"replace",value:function(I){if(I.statics.blotName!==this.statics.blotName){var _=g.default.create(this.statics.defaultChild);I.moveChildren(_),this.appendChild(_)}l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"replace",this).call(this,I)}}]),w}(d.default);P.blotName="list",P.scope=g.default.Scope.BLOCK_BLOT,P.tagName=["OL","UL"],P.defaultChild="list-item",P.allowedChildren=[S],o.ListItem=S,o.default=P},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var b=function(d){function y(){return function g(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}(this,y),function p(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?d:y}(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return function f(d,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}(y,d),y}(function h(d){return d&&d.__esModule?d:{default:d}}(e(56)).default);b.blotName="italic",b.tagName=["EM","I"],o.default=b},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function R(m,v){for(var O=0;O<v.length;O++){var S=v[O];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}return function(m,v,O){return v&&R(m.prototype,v),O&&R(m,O),m}}(),l=function R(m,v,O){null===m&&(m=Function.prototype);var S=Object.getOwnPropertyDescriptor(m,v);if(void 0===S){var P=Object.getPrototypeOf(m);return null===P?void 0:R(P,v,O)}if("value"in S)return S.value;var M=S.get;return void 0===M?void 0:M.call(O)};var y=function(R){function m(){return function f(R,m){if(!(R instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),function b(R,m){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?R:m}(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return function d(R,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);R.prototype=Object.create(m&&m.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(R,m):R.__proto__=m)}(m,R),n(m,null,[{key:"create",value:function(O){return"super"===O?document.createElement("sup"):"sub"===O?document.createElement("sub"):l(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,O)}},{key:"formats",value:function(O){return"SUB"===O.tagName?"sub":"SUP"===O.tagName?"super":void 0}}]),m}(function p(R){return R&&R.__esModule?R:{default:R}}(e(6)).default);y.blotName="script",y.tagName=["SUB","SUP"],o.default=y},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var b=function(d){function y(){return function g(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}(this,y),function p(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?d:y}(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return function f(d,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}(y,d),y}(function h(d){return d&&d.__esModule?d:{default:d}}(e(6)).default);b.blotName="strike",b.tagName="S",o.default=b},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var b=function(d){function y(){return function g(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}(this,y),function p(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?d:y}(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return function f(d,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}(y,d),y}(function h(d){return d&&d.__esModule?d:{default:d}}(e(6)).default);b.blotName="underline",b.tagName="U",o.default=b},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function v(O,S){for(var P=0;P<S.length;P++){var M=S[P];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(O,M.key,M)}}return function(O,S,P){return S&&v(O.prototype,S),P&&v(O,P),O}}(),l=function v(O,S,P){null===O&&(O=Function.prototype);var M=Object.getOwnPropertyDescriptor(O,S);if(void 0===M){var w=Object.getPrototypeOf(O);return null===w?void 0:v(w,S,P)}if("value"in M)return M.value;var x=M.get;return void 0===x?void 0:x.call(P)},g=function f(v){return v&&v.__esModule?v:{default:v}}(e(0)),p=e(27);var R=["alt","height","width"],m=function(v){function O(){return function b(v,O){if(!(v instanceof O))throw new TypeError("Cannot call a class as a function")}(this,O),function d(v,O){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?v:O}(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return function y(v,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function, not "+typeof O);v.prototype=Object.create(O&&O.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(v,O):v.__proto__=O)}(O,v),n(O,[{key:"format",value:function(P,M){R.indexOf(P)>-1?M?this.domNode.setAttribute(P,M):this.domNode.removeAttribute(P):l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"format",this).call(this,P,M)}}],[{key:"create",value:function(P){var M=l(O.__proto__||Object.getPrototypeOf(O),"create",this).call(this,P);return"string"==typeof P&&M.setAttribute("src",this.sanitize(P)),M}},{key:"formats",value:function(P){return R.reduce(function(M,w){return P.hasAttribute(w)&&(M[w]=P.getAttribute(w)),M},{})}},{key:"match",value:function(P){return/\.(jpe?g|gif|png)$/.test(P)||/^data:image\/.+;base64/.test(P)}},{key:"sanitize",value:function(P){return(0,p.sanitize)(P,["http","https","data"])?P:"//:0"}},{key:"value",value:function(P){return P.getAttribute("src")}}]),O}(g.default.Embed);m.blotName="image",m.tagName="IMG",o.default=m},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function v(O,S){for(var P=0;P<S.length;P++){var M=S[P];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(O,M.key,M)}}return function(O,S,P){return S&&v(O.prototype,S),P&&v(O,P),O}}(),l=function v(O,S,P){null===O&&(O=Function.prototype);var M=Object.getOwnPropertyDescriptor(O,S);if(void 0===M){var w=Object.getPrototypeOf(O);return null===w?void 0:v(w,S,P)}if("value"in M)return M.value;var x=M.get;return void 0===x?void 0:x.call(P)},h=e(4),p=function f(v){return v&&v.__esModule?v:{default:v}}(e(27));var R=["height","width"],m=function(v){function O(){return function b(v,O){if(!(v instanceof O))throw new TypeError("Cannot call a class as a function")}(this,O),function d(v,O){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?v:O}(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return function y(v,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function, not "+typeof O);v.prototype=Object.create(O&&O.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(v,O):v.__proto__=O)}(O,v),n(O,[{key:"format",value:function(P,M){R.indexOf(P)>-1?M?this.domNode.setAttribute(P,M):this.domNode.removeAttribute(P):l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"format",this).call(this,P,M)}}],[{key:"create",value:function(P){var M=l(O.__proto__||Object.getPrototypeOf(O),"create",this).call(this,P);return M.setAttribute("frameborder","0"),M.setAttribute("allowfullscreen",!0),M.setAttribute("src",this.sanitize(P)),M}},{key:"formats",value:function(P){return R.reduce(function(M,w){return P.hasAttribute(w)&&(M[w]=P.getAttribute(w)),M},{})}},{key:"sanitize",value:function(P){return p.default.sanitize(P)}},{key:"value",value:function(P){return P.getAttribute("src")}}]),O}(h.BlockEmbed);m.blotName="video",m.className="ql-video",m.tagName="IFRAME",o.default=m},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=o.FormulaBlot=void 0;var n=function(){function P(M,w){for(var x=0;x<w.length;x++){var I=w[x];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,I.key,I)}}return function(M,w,x){return w&&P(M.prototype,w),x&&P(M,x),M}}(),l=function P(M,w,x){null===M&&(M=Function.prototype);var I=Object.getOwnPropertyDescriptor(M,w);if(void 0===I){var _=Object.getPrototypeOf(M);return null===_?void 0:P(_,w,x)}if("value"in I)return I.value;var C=I.get;return void 0===C?void 0:C.call(x)},g=y(e(35)),f=y(e(5)),d=y(e(9));function y(P){return P&&P.__esModule?P:{default:P}}function R(P,M){if(!(P instanceof M))throw new TypeError("Cannot call a class as a function")}function m(P,M){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!M||"object"!=typeof M&&"function"!=typeof M?P:M}function v(P,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function, not "+typeof M);P.prototype=Object.create(M&&M.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(P,M):P.__proto__=M)}var O=function(P){function M(){return R(this,M),m(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return v(M,P),n(M,null,[{key:"create",value:function(x){var I=l(M.__proto__||Object.getPrototypeOf(M),"create",this).call(this,x);return"string"==typeof x&&(window.katex.render(x,I,{throwOnError:!1,errorColor:"#f00"}),I.setAttribute("data-value",x)),I}},{key:"value",value:function(x){return x.getAttribute("data-value")}}]),M}(g.default);O.blotName="formula",O.className="ql-formula",O.tagName="SPAN";var S=function(P){function M(){R(this,M);var w=m(this,(M.__proto__||Object.getPrototypeOf(M)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return w}return v(M,P),n(M,null,[{key:"register",value:function(){f.default.register(O,!0)}}]),M}(d.default);o.FormulaBlot=O,o.default=S},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=o.CodeToken=o.CodeBlock=void 0;var n=function(){function x(I,_){for(var C=0;C<_.length;C++){var D=_[C];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(I,D.key,D)}}return function(I,_,C){return _&&x(I.prototype,_),C&&x(I,C),I}}(),l=function x(I,_,C){null===I&&(I=Function.prototype);var D=Object.getOwnPropertyDescriptor(I,_);if(void 0===D){var A=Object.getPrototypeOf(I);return null===A?void 0:x(A,_,C)}if("value"in D)return D.value;var B=D.get;return void 0===B?void 0:B.call(C)},g=m(e(0)),f=m(e(5)),d=m(e(9));function m(x){return x&&x.__esModule?x:{default:x}}function v(x,I){if(!(x instanceof I))throw new TypeError("Cannot call a class as a function")}function O(x,I){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!I||"object"!=typeof I&&"function"!=typeof I?x:I}function S(x,I){if("function"!=typeof I&&null!==I)throw new TypeError("Super expression must either be null or a function, not "+typeof I);x.prototype=Object.create(I&&I.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(x,I):x.__proto__=I)}var P=function(x){function I(){return v(this,I),O(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return S(I,x),n(I,[{key:"replaceWith",value:function(C){this.domNode.textContent=this.domNode.textContent,this.attach(),l(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"replaceWith",this).call(this,C)}},{key:"highlight",value:function(C){var D=this.domNode.textContent;this.cachedText!==D&&((D.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=C(D),this.domNode.normalize(),this.attach()),this.cachedText=D)}}]),I}(m(e(13)).default);P.className="ql-syntax";var M=new g.default.Attributor.Class("token","hljs",{scope:g.default.Scope.INLINE}),w=function(x){function I(_,C){v(this,I);var D=O(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,_,C));if("function"!=typeof D.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var A=null;return D.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(A),A=setTimeout(function(){D.highlight(),A=null},D.options.interval)}),D.highlight(),D}return S(I,x),n(I,null,[{key:"register",value:function(){f.default.register(M,!0),f.default.register(P,!0)}}]),n(I,[{key:"highlight",value:function(){var C=this;if(!this.quill.selection.composing){this.quill.update(f.default.sources.USER);var D=this.quill.getSelection();this.quill.scroll.descendants(P).forEach(function(A){A.highlight(C.options.highlight)}),this.quill.update(f.default.sources.SILENT),null!=D&&this.quill.setSelection(D,f.default.sources.SILENT)}}}]),I}(d.default);w.DEFAULTS={highlight:null==window.hljs?null:function(x){return window.hljs.highlightAuto(x).value},interval:1e3},o.CodeBlock=P,o.CodeToken=M,o.default=w},function(re,o){re.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(re,o){re.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(re,o){re.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(re,o){re.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(re,o){re.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(re,o){re.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(re,o){re.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(re,o){re.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(re,o){re.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(re,o){re.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(re,o){re.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(re,o){re.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(re,o){re.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(re,o){re.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(re,o){re.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(re,o){re.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(re,o){re.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(re,o){re.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(re,o){re.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(re,o){re.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(re,o){re.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(re,o){re.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(re,o){re.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(re,o){re.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(re,o){re.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(re,o){re.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(re,o){re.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(re,o){re.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(re,o){re.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(re,o){re.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(re,o){re.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(re,o){re.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(re,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=o.BubbleTooltip=void 0;var n=function I(_,C,D){null===_&&(_=Function.prototype);var A=Object.getOwnPropertyDescriptor(_,C);if(void 0===A){var B=Object.getPrototypeOf(_);return null===B?void 0:I(B,C,D)}if("value"in A)return A.value;var F=A.get;return void 0===F?void 0:F.call(D)},l=function(){function I(_,C){for(var D=0;D<C.length;D++){var A=C[D];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(_,A.key,A)}}return function(_,C,D){return C&&I(_.prototype,C),D&&I(_,D),_}}(),g=v(e(3)),f=v(e(8)),b=e(43),d=v(b),y=e(15),m=v(e(41));function v(I){return I&&I.__esModule?I:{default:I}}function O(I,_){if(!(I instanceof _))throw new TypeError("Cannot call a class as a function")}function S(I,_){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||"object"!=typeof _&&"function"!=typeof _?I:_}function P(I,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function, not "+typeof _);I.prototype=Object.create(_&&_.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(I,_):I.__proto__=_)}var M=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],w=function(I){function _(C,D){O(this,_),null!=D.modules.toolbar&&null==D.modules.toolbar.container&&(D.modules.toolbar.container=M);var A=S(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,C,D));return A.quill.container.classList.add("ql-bubble"),A}return P(_,I),l(_,[{key:"extendToolbar",value:function(D){this.tooltip=new x(this.quill,this.options.bounds),this.tooltip.root.appendChild(D.container),this.buildButtons([].slice.call(D.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(D.container.querySelectorAll("select")),m.default)}}]),_}(d.default);w.DEFAULTS=(0,g.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(_){_?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var x=function(I){function _(C,D){O(this,_);var A=S(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,C,D));return A.quill.on(f.default.events.EDITOR_CHANGE,function(B,F,$,U){if(B===f.default.events.SELECTION_CHANGE)if(null!=F&&F.length>0&&U===f.default.sources.USER){A.show(),A.root.style.left="0px",A.root.style.width="",A.root.style.width=A.root.offsetWidth+"px";var G=A.quill.getLines(F.index,F.length);if(1===G.length)A.position(A.quill.getBounds(F));else{var J=G[G.length-1],te=A.quill.getIndex(J),ne=Math.min(J.length()-1,F.index+F.length-te),K=A.quill.getBounds(new y.Range(te,ne));A.position(K)}}else document.activeElement!==A.textbox&&A.quill.hasFocus()&&A.hide()}),A}return P(_,I),l(_,[{key:"listen",value:function(){var D=this;n(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){D.root.classList.remove("ql-editing")}),this.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!D.root.classList.contains("ql-hidden")){var A=D.quill.getSelection();null!=A&&D.position(D.quill.getBounds(A))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(D){var A=n(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"position",this).call(this,D),B=this.root.querySelector(".ql-tooltip-arrow");if(B.style.marginLeft="",0===A)return A;B.style.marginLeft=-1*A-B.offsetWidth/2+"px"}}]),_}(b.BaseTooltip);x.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),o.BubbleTooltip=x,o.default=w},function(re,o,e){re.exports=e(63)}]).default},9928:(gt,re,o)=>{"use strict";o.d(re,{t:()=>l});var e=o(5286),n=o(2145);class l extends e.B7{constructor(g){super(),this._value=g}get value(){return this.getValue()}_subscribe(g){const p=super._subscribe(g);return p&&!p.closed&&g.next(this._value),p}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new n.P;return this._value}next(g){super.next(this._value=g)}}},2351:(gt,re,o)=>{"use strict";o.d(re,{E:()=>g});var e=o(1235),n=o(4421),l=o(4526);class g{constructor(f,b,d){this.kind=f,this.value=b,this.error=d,this.hasValue="N"===f}observe(f){switch(this.kind){case"N":return f.next&&f.next(this.value);case"E":return f.error&&f.error(this.error);case"C":return f.complete&&f.complete()}}do(f,b,d){switch(this.kind){case"N":return f&&f(this.value);case"E":return b&&b(this.error);case"C":return d&&d()}}accept(f,b,d){return f&&"function"==typeof f.next?this.observe(f):this.do(f,b,d)}toObservable(){switch(this.kind){case"N":return(0,n.of)(this.value);case"E":return(0,l.$)(this.error);case"C":return(0,e.I)()}throw new Error("unexpected notification kind value")}static createNext(f){return typeof f<"u"?new g("N",f):g.undefinedValueNotification}static createError(f){return new g("E",void 0,f)}static createComplete(){return g.completeNotification}}g.completeNotification=new g("C"),g.undefinedValueNotification=new g("N",void 0)},5817:(gt,re,o)=>{"use strict";o.d(re,{c:()=>d});var e=o(762),l=o(91),h=o(178),p=o(5722),f=o(8167),b=o(614);let d=(()=>{class R{constructor(v){this._isScalar=!1,v&&(this._subscribe=v)}lift(v){const O=new R;return O.source=this,O.operator=v,O}subscribe(v,O,S){const{operator:P}=this,M=function g(R,m,v){if(R){if(R instanceof e.v)return R;if(R[l.D])return R[l.D]()}return R||m||v?new e.v(R,m,v):new e.v(h.I)}(v,O,S);if(M.add(P?P.call(M,this.source):this.source||b.$.useDeprecatedSynchronousErrorHandling&&!M.syncErrorThrowable?this._subscribe(M):this._trySubscribe(M)),b.$.useDeprecatedSynchronousErrorHandling&&M.syncErrorThrowable&&(M.syncErrorThrowable=!1,M.syncErrorThrown))throw M.syncErrorValue;return M}_trySubscribe(v){try{return this._subscribe(v)}catch(O){b.$.useDeprecatedSynchronousErrorHandling&&(v.syncErrorThrown=!0,v.syncErrorValue=O),function n(R){for(;R;){const{closed:m,destination:v,isStopped:O}=R;if(m||O)return!1;R=v&&v instanceof e.v?v:null}return!0}(v)?v.error(O):console.warn(O)}}forEach(v,O){return new(O=y(O))((S,P)=>{let M;M=this.subscribe(w=>{try{v(w)}catch(x){P(x),M&&M.unsubscribe()}},P,S)})}_subscribe(v){const{source:O}=this;return O&&O.subscribe(v)}[p.s](){return this}pipe(...v){return 0===v.length?this:(0,f.m)(v)(this)}toPromise(v){return new(v=y(v))((O,S)=>{let P;this.subscribe(M=>P=M,M=>S(M),()=>O(P))})}}return R.create=m=>new R(m),R})();function y(R){if(R||(R=b.$.Promise||Promise),!R)throw new Error("no Promise impl found");return R}},178:(gt,re,o)=>{"use strict";o.d(re,{I:()=>l});var e=o(614),n=o(8253);const l={closed:!0,next(h){},error(h){if(e.$.useDeprecatedSynchronousErrorHandling)throw h;(0,n.T)(h)},complete(){}}},6607:(gt,re,o)=>{"use strict";o.d(re,{m:()=>M});var e=o(5286),n=o(8189),h=o(6228);const f=new class g extends h.q{}(class l extends n.R{constructor(I,_){super(I,_),this.scheduler=I,this.work=_}schedule(I,_=0){return _>0?super.schedule(I,_):(this.delay=_,this.state=I,this.scheduler.flush(this),this)}execute(I,_){return _>0||this.closed?super.execute(I,_):this._execute(I,_)}requestAsyncId(I,_,C=0){return null!==C&&C>0||null===C&&this.delay>0?super.requestAsyncId(I,_,C):I.flush(this)}});var b=o(4337),d=o(762),y=o(2351);class v extends d.v{constructor(I,_,C=0){super(I),this.scheduler=_,this.delay=C}static dispatch(I){const{notification:_,destination:C}=I;_.observe(C),this.unsubscribe()}scheduleMessage(I){this.destination.add(this.scheduler.schedule(v.dispatch,this.delay,new O(I,this.destination)))}_next(I){this.scheduleMessage(y.E.createNext(I))}_error(I){this.scheduleMessage(y.E.createError(I)),this.unsubscribe()}_complete(){this.scheduleMessage(y.E.createComplete()),this.unsubscribe()}}class O{constructor(I,_){this.notification=I,this.destination=_}}var S=o(2145),P=o(1259);class M extends e.B7{constructor(I=Number.POSITIVE_INFINITY,_=Number.POSITIVE_INFINITY,C){super(),this.scheduler=C,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=I<1?1:I,this._windowTime=_<1?1:_,_===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(I){if(!this.isStopped){const _=this._events;_.push(I),_.length>this._bufferSize&&_.shift()}super.next(I)}nextTimeWindow(I){this.isStopped||(this._events.push(new w(this._getNow(),I)),this._trimBufferThenGetEvents()),super.next(I)}_subscribe(I){const _=this._infiniteTimeWindow,C=_?this._events:this._trimBufferThenGetEvents(),D=this.scheduler,A=C.length;let B;if(this.closed)throw new S.P;if(this.isStopped||this.hasError?B=b.y.EMPTY:(this.observers.push(I),B=new P.Y(this,I)),D&&I.add(I=new v(I,D)),_)for(let F=0;F<A&&!I.closed;F++)I.next(C[F]);else for(let F=0;F<A&&!I.closed;F++)I.next(C[F].value);return this.hasError?I.error(this.thrownError):this.isStopped&&I.complete(),B}_getNow(){return(this.scheduler||f).now()}_trimBufferThenGetEvents(){const I=this._getNow(),_=this._bufferSize,C=this._windowTime,D=this._events,A=D.length;let B=0;for(;B<A&&!(I-D[B].time<C);)B++;return A>_&&(B=Math.max(B,A-_)),B>0&&D.splice(0,B),D}}class w{constructor(I,_){this.time=I,this.value=_}}},5286:(gt,re,o)=>{"use strict";o.d(re,{B7:()=>b,PJ:()=>f,kQ:()=>d});var e=o(5817),n=o(762),l=o(4337),h=o(2145),g=o(1259),p=o(91);class f extends n.v{constructor(R){super(R),this.destination=R}}let b=(()=>{class y extends e.c{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p.D](){return new f(this)}lift(m){const v=new d(this,this);return v.operator=m,v}next(m){if(this.closed)throw new h.P;if(!this.isStopped){const{observers:v}=this,O=v.length,S=v.slice();for(let P=0;P<O;P++)S[P].next(m)}}error(m){if(this.closed)throw new h.P;this.hasError=!0,this.thrownError=m,this.isStopped=!0;const{observers:v}=this,O=v.length,S=v.slice();for(let P=0;P<O;P++)S[P].error(m);this.observers.length=0}complete(){if(this.closed)throw new h.P;this.isStopped=!0;const{observers:m}=this,v=m.length,O=m.slice();for(let S=0;S<v;S++)O[S].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(m){if(this.closed)throw new h.P;return super._trySubscribe(m)}_subscribe(m){if(this.closed)throw new h.P;return this.hasError?(m.error(this.thrownError),l.y.EMPTY):this.isStopped?(m.complete(),l.y.EMPTY):(this.observers.push(m),new g.Y(this,m))}asObservable(){const m=new e.c;return m.source=this,m}}return y.create=(R,m)=>new d(R,m),y})();class d extends b{constructor(R,m){super(),this.destination=R,this.source=m}next(R){const{destination:m}=this;m&&m.next&&m.next(R)}error(R){const{destination:m}=this;m&&m.error&&this.destination.error(R)}complete(){const{destination:R}=this;R&&R.complete&&this.destination.complete()}_subscribe(R){const{source:m}=this;return m?this.source.subscribe(R):l.y.EMPTY}}},1259:(gt,re,o)=>{"use strict";o.d(re,{Y:()=>n});var e=o(4337);class n extends e.y{constructor(h,g){super(),this.subject=h,this.subscriber=g,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const h=this.subject,g=h.observers;if(this.subject=null,!g||0===g.length||h.isStopped||h.closed)return;const p=g.indexOf(this.subscriber);-1!==p&&g.splice(p,1)}}},762:(gt,re,o)=>{"use strict";o.d(re,{v:()=>f});var e=o(8099),n=o(178),l=o(4337),h=o(91),g=o(614),p=o(8253);class f extends l.y{constructor(y,R,m){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=n.I;break;case 1:if(!y){this.destination=n.I;break}if("object"==typeof y){y instanceof f?(this.syncErrorThrowable=y.syncErrorThrowable,this.destination=y,y.add(this)):(this.syncErrorThrowable=!0,this.destination=new b(this,y));break}default:this.syncErrorThrowable=!0,this.destination=new b(this,y,R,m)}}[h.D](){return this}static create(y,R,m){const v=new f(y,R,m);return v.syncErrorThrowable=!1,v}next(y){this.isStopped||this._next(y)}error(y){this.isStopped||(this.isStopped=!0,this._error(y))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(y){this.destination.next(y)}_error(y){this.destination.error(y),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:y}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=y,this}}class b extends f{constructor(y,R,m,v){super(),this._parentSubscriber=y;let O,S=this;(0,e.T)(R)?O=R:R&&(O=R.next,m=R.error,v=R.complete,R!==n.I&&(S=Object.create(R),(0,e.T)(S.unsubscribe)&&this.add(S.unsubscribe.bind(S)),S.unsubscribe=this.unsubscribe.bind(this))),this._context=S,this._next=O,this._error=m,this._complete=v}next(y){if(!this.isStopped&&this._next){const{_parentSubscriber:R}=this;g.$.useDeprecatedSynchronousErrorHandling&&R.syncErrorThrowable?this.__tryOrSetError(R,this._next,y)&&this.unsubscribe():this.__tryOrUnsub(this._next,y)}}error(y){if(!this.isStopped){const{_parentSubscriber:R}=this,{useDeprecatedSynchronousErrorHandling:m}=g.$;if(this._error)m&&R.syncErrorThrowable?(this.__tryOrSetError(R,this._error,y),this.unsubscribe()):(this.__tryOrUnsub(this._error,y),this.unsubscribe());else if(R.syncErrorThrowable)m?(R.syncErrorValue=y,R.syncErrorThrown=!0):(0,p.T)(y),this.unsubscribe();else{if(this.unsubscribe(),m)throw y;(0,p.T)(y)}}}complete(){if(!this.isStopped){const{_parentSubscriber:y}=this;if(this._complete){const R=()=>this._complete.call(this._context);g.$.useDeprecatedSynchronousErrorHandling&&y.syncErrorThrowable?(this.__tryOrSetError(y,R),this.unsubscribe()):(this.__tryOrUnsub(R),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(y,R){try{y.call(this._context,R)}catch(m){if(this.unsubscribe(),g.$.useDeprecatedSynchronousErrorHandling)throw m;(0,p.T)(m)}}__tryOrSetError(y,R,m){if(!g.$.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{R.call(this._context,m)}catch(v){return g.$.useDeprecatedSynchronousErrorHandling?(y.syncErrorValue=v,y.syncErrorThrown=!0,!0):((0,p.T)(v),!0)}return!1}_unsubscribe(){const{_parentSubscriber:y}=this;this._context=null,this._parentSubscriber=null,y.unsubscribe()}}},4337:(gt,re,o)=>{"use strict";o.d(re,{y:()=>p});var e=o(7354),n=o(1456),l=o(8099);const g=(()=>{function b(d){return Error.call(this),this.message=d?`${d.length} errors occurred during unsubscription:\n${d.map((y,R)=>`${R+1}) ${y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=d,this}return b.prototype=Object.create(Error.prototype),b})();class p{constructor(d){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,d&&(this._ctorUnsubscribe=!0,this._unsubscribe=d)}unsubscribe(){let d;if(this.closed)return;let{_parentOrParents:y,_ctorUnsubscribe:R,_unsubscribe:m,_subscriptions:v}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,y instanceof p)y.remove(this);else if(null!==y)for(let O=0;O<y.length;++O)y[O].remove(this);if((0,l.T)(m)){R&&(this._unsubscribe=void 0);try{m.call(this)}catch(O){d=O instanceof g?f(O.errors):[O]}}if((0,e.c)(v)){let O=-1,S=v.length;for(;++O<S;){const P=v[O];if((0,n.G)(P))try{P.unsubscribe()}catch(M){d=d||[],M instanceof g?d=d.concat(f(M.errors)):d.push(M)}}}if(d)throw new g(d)}add(d){let y=d;if(!d)return p.EMPTY;switch(typeof d){case"function":y=new p(d);case"object":if(y===this||y.closed||"function"!=typeof y.unsubscribe)return y;if(this.closed)return y.unsubscribe(),y;if(!(y instanceof p)){const v=y;y=new p,y._subscriptions=[v]}break;default:throw new Error("unrecognized teardown "+d+" added to Subscription.")}let{_parentOrParents:R}=y;if(null===R)y._parentOrParents=this;else if(R instanceof p){if(R===this)return y;y._parentOrParents=[R,this]}else{if(-1!==R.indexOf(this))return y;R.push(this)}const m=this._subscriptions;return null===m?this._subscriptions=[y]:m.push(y),y}remove(d){const y=this._subscriptions;if(y){const R=y.indexOf(d);-1!==R&&y.splice(R,1)}}}var b;function f(b){return b.reduce((d,y)=>d.concat(y instanceof g?y.errors:y),[])}p.EMPTY=((b=new p).closed=!0,b)},614:(gt,re,o)=>{"use strict";o.d(re,{$:()=>n});let e=!1;const n={Promise:void 0,set useDeprecatedSynchronousErrorHandling(l){if(l){const h=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+h.stack)}else e&&console.log("RxJS: Back to a better error behavior. Thank you. <3");e=l},get useDeprecatedSynchronousErrorHandling(){return e}}},3004:(gt,re,o)=>{"use strict";o.d(re,{gn:()=>p,tS:()=>b,zA:()=>h});var e=o(762),n=o(5817),l=o(135);class h extends e.v{constructor(y){super(),this.parent=y}_next(y){this.parent.notifyNext(y)}_error(y){this.parent.notifyError(y),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class p extends e.v{notifyNext(y){this.destination.next(y)}notifyError(y){this.destination.error(y)}notifyComplete(){this.destination.complete()}}function b(d,y){if(y.closed)return;if(d instanceof n.c)return d.subscribe(y);let R;try{R=(0,l.i)(d)(y)}catch(m){y.error(m)}return R}},4725:(gt,re,o)=>{"use strict";o.d(re,{G:()=>p,f:()=>f});var e=o(5286),n=o(5817),h=(o(762),o(4337)),g=o(3110);class p extends n.c{constructor(m,v){super(),this.source=m,this.subjectFactory=v,this._refCount=0,this._isComplete=!1}_subscribe(m){return this.getSubject().subscribe(m)}getSubject(){const m=this._subject;return(!m||m.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let m=this._connection;return m||(this._isComplete=!1,m=this._connection=new h.y,m.add(this.source.subscribe(new b(this.getSubject(),this))),m.closed&&(this._connection=null,m=h.y.EMPTY)),m}refCount(){return(0,g.B)()(this)}}const f=(()=>{const R=p.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:R._subscribe},_isComplete:{value:R._isComplete,writable:!0},getSubject:{value:R.getSubject},connect:{value:R.connect},refCount:{value:R.refCount}}})();class b extends e.PJ{constructor(m,v){super(m),this.connectable=v}_error(m){this._unsubscribe(),super._error(m)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const m=this.connectable;if(m){this.connectable=null;const v=m._connection;m._refCount=0,m._subject=null,m._connection=null,v&&v.unsubscribe()}}}},9714:(gt,re,o)=>{"use strict";o.d(re,{zV:()=>R});var e=o(2234),n=o(7354),l=o(762);class h extends l.v{notifyNext(S,P,M,w,x){this.destination.next(P)}notifyError(S,P){this.destination.error(S)}notifyComplete(S){this.destination.complete()}}class g extends l.v{constructor(S,P,M){super(),this.parent=S,this.outerValue=P,this.outerIndex=M,this.index=0}_next(S){this.parent.notifyNext(this.outerValue,S,this.outerIndex,this.index++,this)}_error(S){this.parent.notifyError(S,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var p=o(135),f=o(5817);function b(O,S,P,M,w=new g(O,P,M)){if(!w.closed)return S instanceof f.c?S.subscribe(w):(0,p.i)(S)(w)}var d=o(4279);const y={};function R(...O){let S,P;return(0,e.m)(O[O.length-1])&&(P=O.pop()),"function"==typeof O[O.length-1]&&(S=O.pop()),1===O.length&&(0,n.c)(O[0])&&(O=O[0]),(0,d.c)(O,P).lift(new m(S))}class m{constructor(S){this.resultSelector=S}call(S,P){return P.subscribe(new v(S,this.resultSelector))}}class v extends h{constructor(S,P){super(S),this.resultSelector=P,this.active=0,this.values=[],this.observables=[]}_next(S){this.values.push(y),this.observables.push(S)}_complete(){const S=this.observables,P=S.length;if(0===P)this.destination.complete();else{this.active=P,this.toRespond=P;for(let M=0;M<P;M++)this.add(b(this,S[M],void 0,M))}}notifyComplete(S){0==(this.active-=1)&&this.destination.complete()}notifyNext(S,P,M){const w=this.values,I=this.toRespond?w[M]===y?--this.toRespond:this.toRespond:0;w[M]=P,0===I&&(this.resultSelector?this._tryResultSelector(w):this.destination.next(w.slice()))}_tryResultSelector(S){let P;try{P=this.resultSelector.apply(this,S)}catch(M){return void this.destination.error(M)}this.destination.next(P)}}},1639:(gt,re,o)=>{"use strict";o.d(re,{x:()=>h});var e=o(4421),n=o(6201);function h(...g){return function l(){return(0,n.U)(1)}()((0,e.of)(...g))}},9418:(gt,re,o)=>{"use strict";o.d(re,{v:()=>h});var e=o(5817),n=o(4787),l=o(1235);function h(g){return new e.c(p=>{let f;try{f=g()}catch(d){return void p.error(d)}return(f?(0,n.H)(f):(0,l.I)()).subscribe(p)})}},4119:(gt,re,o)=>{"use strict";o.d(re,{K:()=>d});var e=o(5286),n=o(762),l=o(5817),h=o(4337),g=o(6607);const p={url:"",deserializer:y=>JSON.parse(y.data),serializer:y=>JSON.stringify(y)};class b extends e.kQ{constructor(R,m){if(super(),R instanceof l.c)this.destination=m,this.source=R;else{const v=this._config=Object.assign({},p);if(this._output=new e.B7,"string"==typeof R)v.url=R;else for(let O in R)R.hasOwnProperty(O)&&(v[O]=R[O]);if(!v.WebSocketCtor&&WebSocket)v.WebSocketCtor=WebSocket;else if(!v.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new g.m}}lift(R){const m=new b(this._config,this.destination);return m.operator=R,m.source=this,m}_resetState(){this._socket=null,this.source||(this.destination=new g.m),this._output=new e.B7}multiplex(R,m,v){const O=this;return new l.c(S=>{try{O.next(R())}catch(M){S.error(M)}const P=O.subscribe(M=>{try{v(M)&&S.next(M)}catch(w){S.error(w)}},M=>S.error(M),()=>S.complete());return()=>{try{O.next(m())}catch(M){S.error(M)}P.unsubscribe()}})}_connectSocket(){const{WebSocketCtor:R,protocol:m,url:v,binaryType:O}=this._config,S=this._output;let P=null;try{P=m?new R(v,m):new R(v),this._socket=P,O&&(this._socket.binaryType=O)}catch(w){return void S.error(w)}const M=new h.y(()=>{this._socket=null,P&&1===P.readyState&&P.close()});P.onopen=w=>{const{_socket:x}=this;if(!x)return P.close(),void this._resetState();const{openObserver:I}=this._config;I&&I.next(w);const _=this.destination;this.destination=n.v.create(C=>{if(1===P.readyState)try{const{serializer:D}=this._config;P.send(D(C))}catch(D){this.destination.error(D)}},C=>{const{closingObserver:D}=this._config;D&&D.next(void 0),C&&C.code?P.close(C.code,C.reason):S.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),this._resetState()},()=>{const{closingObserver:C}=this._config;C&&C.next(void 0),P.close(),this._resetState()}),_&&_ instanceof g.m&&M.add(_.subscribe(this.destination))},P.onerror=w=>{this._resetState(),S.error(w)},P.onclose=w=>{this._resetState();const{closeObserver:x}=this._config;x&&x.next(w),w.wasClean?S.complete():S.error(w)},P.onmessage=w=>{try{const{deserializer:x}=this._config;S.next(x(w))}catch(x){S.error(x)}}}_subscribe(R){const{source:m}=this;return m?m.subscribe(R):(this._socket||this._connectSocket(),this._output.subscribe(R),R.add(()=>{const{_socket:v}=this;0===this._output.observers.length&&(v&&1===v.readyState&&v.close(),this._resetState())}),R)}unsubscribe(){const{_socket:R}=this;R&&1===R.readyState&&R.close(),this._resetState(),super.unsubscribe()}}function d(y){return new b(y)}},1235:(gt,re,o)=>{"use strict";o.d(re,{I:()=>l,w:()=>n});var e=o(5817);const n=new e.c(g=>g.complete());function l(g){return g?function h(g){return new e.c(p=>g.schedule(()=>p.complete()))}(g):n}},696:(gt,re,o)=>{"use strict";o.d(re,{p:()=>p});var e=o(5817),n=o(7354),l=o(5006),h=o(1456),g=o(4787);function p(...b){if(1===b.length){const d=b[0];if((0,n.c)(d))return f(d,null);if((0,h.G)(d)&&Object.getPrototypeOf(d)===Object.prototype){const y=Object.keys(d);return f(y.map(R=>d[R]),y)}}if("function"==typeof b[b.length-1]){const d=b.pop();return f(b=1===b.length&&(0,n.c)(b[0])?b[0]:b,null).pipe((0,l.T)(y=>d(...y)))}return f(b,null)}function f(b,d){return new e.c(y=>{const R=b.length;if(0===R)return void y.complete();const m=new Array(R);let v=0,O=0;for(let S=0;S<R;S++){const P=(0,g.H)(b[S]);let M=!1;y.add(P.subscribe({next:w=>{M||(M=!0,O++),m[S]=w},error:w=>y.error(w),complete:()=>{v++,(v===R||!M)&&(O===R&&y.next(d?d.reduce((w,x,I)=>(w[x]=m[I],w),{}):m),y.complete())}}))}})}},4787:(gt,re,o)=>{"use strict";o.d(re,{H:()=>S});var e=o(5817),n=o(135),l=o(4337),h=o(5722),f=o(2496),b=o(7765),R=o(5998),m=o(5253);function S(P,M){return M?function O(P,M){if(null!=P){if(function y(P){return P&&"function"==typeof P[h.s]}(P))return function g(P,M){return new e.c(w=>{const x=new l.y;return x.add(M.schedule(()=>{const I=P[h.s]();x.add(I.subscribe({next(_){x.add(M.schedule(()=>w.next(_)))},error(_){x.add(M.schedule(()=>w.error(_)))},complete(){x.add(M.schedule(()=>w.complete()))}}))})),x})}(P,M);if((0,R.y)(P))return function p(P,M){return new e.c(w=>{const x=new l.y;return x.add(M.schedule(()=>P.then(I=>{x.add(M.schedule(()=>{w.next(I),x.add(M.schedule(()=>w.complete()))}))},I=>{x.add(M.schedule(()=>w.error(I)))}))),x})}(P,M);if((0,m.X)(P))return(0,f.V)(P,M);if(function v(P){return P&&"function"==typeof P[b.lJ]}(P)||"string"==typeof P)return function d(P,M){if(!P)throw new Error("Iterable cannot be null");return new e.c(w=>{const x=new l.y;let I;return x.add(()=>{I&&"function"==typeof I.return&&I.return()}),x.add(M.schedule(()=>{I=P[b.lJ](),x.add(M.schedule(function(){if(w.closed)return;let _,C;try{const D=I.next();_=D.value,C=D.done}catch(D){return void w.error(D)}C?w.complete():(w.next(_),this.schedule())}))})),x})}(P,M)}throw new TypeError((null!==P&&typeof P||P)+" is not observable")}(P,M):P instanceof e.c?P:new e.c((0,n.i)(P))}},4279:(gt,re,o)=>{"use strict";o.d(re,{c:()=>h});var e=o(5817),n=o(4385),l=o(2496);function h(g,p){return p?(0,l.V)(g,p):new e.c((0,n.v)(g))}},3586:(gt,re,o)=>{"use strict";o.d(re,{R:()=>p});var e=o(5817),n=o(7354),l=o(8099),h=o(5006);function p(R,m,v,O){return(0,l.T)(v)&&(O=v,v=void 0),O?p(R,m,v).pipe((0,h.T)(S=>(0,n.c)(S)?O(...S):O(S))):new e.c(S=>{f(R,m,function P(M){S.next(arguments.length>1?Array.prototype.slice.call(arguments):M)},S,v)})}function f(R,m,v,O,S){let P;if(function y(R){return R&&"function"==typeof R.addEventListener&&"function"==typeof R.removeEventListener}(R)){const M=R;R.addEventListener(m,v,S),P=()=>M.removeEventListener(m,v,S)}else if(function d(R){return R&&"function"==typeof R.on&&"function"==typeof R.off}(R)){const M=R;R.on(m,v),P=()=>M.off(m,v)}else if(function b(R){return R&&"function"==typeof R.addListener&&"function"==typeof R.removeListener}(R)){const M=R;R.addListener(m,v),P=()=>M.removeListener(m,v)}else{if(!R||!R.length)throw new TypeError("Invalid event target");for(let M=0,w=R.length;M<w;M++)f(R[M],m,v,O,S)}O.add(P)}},9601:(gt,re,o)=>{"use strict";o.d(re,{Y:()=>h});var e=o(5817),n=o(1080),l=o(9132);function h(p=0,f=n.b){return(!(0,l.k)(p)||p<0)&&(p=0),(!f||"function"!=typeof f.schedule)&&(f=n.b),new e.c(b=>(b.add(f.schedule(g,p,{subscriber:b,counter:0,period:p})),b))}function g(p){const{subscriber:f,counter:b,period:d}=p;f.next(b),this.schedule({subscriber:f,counter:b+1,period:d},d)}},4670:(gt,re,o)=>{"use strict";o.d(re,{h:()=>g});var e=o(5817),n=o(2234),l=o(6201),h=o(4279);function g(...p){let f=Number.POSITIVE_INFINITY,b=null,d=p[p.length-1];return(0,n.m)(d)?(b=p.pop(),p.length>1&&"number"==typeof p[p.length-1]&&(f=p.pop())):"number"==typeof d&&(f=p.pop()),null===b&&1===p.length&&p[0]instanceof e.c?p[0]:(0,l.U)(f)((0,h.c)(p,b))}},4421:(gt,re,o)=>{"use strict";o.d(re,{of:()=>h});var e=o(2234),n=o(4279),l=o(2496);function h(...g){let p=g[g.length-1];return(0,e.m)(p)?(g.pop(),(0,l.V)(g,p)):(0,n.c)(g)}},4526:(gt,re,o)=>{"use strict";o.d(re,{$:()=>n});var e=o(5817);function n(h,g){return new e.c(g?p=>g.schedule(l,0,{error:h,subscriber:p}):p=>p.error(h))}function l({error:h,subscriber:g}){g.error(h)}},6651:(gt,re,o)=>{"use strict";o.d(re,{O:()=>g});var e=o(5817),n=o(1080),l=o(9132),h=o(2234);function g(f=0,b,d){let y=-1;return(0,l.k)(b)?y=Number(b)<1?1:Number(b):(0,h.m)(b)&&(d=b),(0,h.m)(d)||(d=n.b),new e.c(R=>{const m=(0,l.k)(f)?f:+f-d.now();return d.schedule(p,m,{index:0,period:y,subscriber:R})})}function p(f){const{index:b,period:d,subscriber:y}=f;if(y.next(b),!y.closed){if(-1===d)return y.complete();f.index=b+1,this.schedule(f,d)}}},3921:(gt,re,o)=>{"use strict";o.d(re,{W:()=>n});var e=o(3004);function n(g){return function(f){const b=new l(g),d=f.lift(b);return b.caught=d}}class l{constructor(p){this.selector=p}call(p,f){return f.subscribe(new h(p,this.selector,this.caught))}}class h extends e.gn{constructor(p,f,b){super(p),this.selector=f,this.caught=b}error(p){if(!this.isStopped){let f;try{f=this.selector(p,this.caught)}catch(y){return void super.error(y)}this._unsubscribeAndRecycle();const b=new e.zA(this);this.add(b);const d=(0,e.tS)(f,b);d!==b&&this.add(d)}}}},3574:(gt,re,o)=>{"use strict";o.d(re,{H:()=>n});var e=o(8456);function n(l,h){return(0,e.ZZ)(l,h,1)}},3020:(gt,re,o)=>{"use strict";o.d(re,{B:()=>l});var e=o(762),n=o(1080);function l(f,b=n.b){return d=>d.lift(new h(f,b))}class h{constructor(b,d){this.dueTime=b,this.scheduler=d}call(b,d){return d.subscribe(new g(b,this.dueTime,this.scheduler))}}class g extends e.v{constructor(b,d,y){super(b),this.dueTime=d,this.scheduler=y,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(b){this.clearDebounce(),this.lastValue=b,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(p,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:b}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(b)}}clearDebounce(){const b=this.debouncedSubscription;null!==b&&(this.remove(b),b.unsubscribe(),this.debouncedSubscription=null)}}function p(f){f.debouncedNext()}},7849:(gt,re,o)=>{"use strict";o.d(re,{U:()=>n});var e=o(762);function n(g=null){return p=>p.lift(new l(g))}class l{constructor(p){this.defaultValue=p}call(p,f){return f.subscribe(new h(p,this.defaultValue))}}class h extends e.v{constructor(p,f){super(p),this.defaultValue=f,this.isEmpty=!0}_next(p){this.isEmpty=!1,this.destination.next(p)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},8002:(gt,re,o)=>{"use strict";o.d(re,{c:()=>g});var e=o(1080),l=o(762),h=o(2351);function g(d,y=e.b){const m=function n(d){return d instanceof Date&&!isNaN(+d)}(d)?+d-y.now():Math.abs(d);return v=>v.lift(new p(m,y))}class p{constructor(y,R){this.delay=y,this.scheduler=R}call(y,R){return R.subscribe(new f(y,this.delay,this.scheduler))}}class f extends l.v{constructor(y,R,m){super(y),this.delay=R,this.scheduler=m,this.queue=[],this.active=!1,this.errored=!1}static dispatch(y){const R=y.source,m=R.queue,v=y.scheduler,O=y.destination;for(;m.length>0&&m[0].time-v.now()<=0;)m.shift().notification.observe(O);if(m.length>0){const S=Math.max(0,m[0].time-v.now());this.schedule(y,S)}else this.unsubscribe(),R.active=!1}_schedule(y){this.active=!0,this.destination.add(y.schedule(f.dispatch,this.delay,{source:this,destination:this.destination,scheduler:y}))}scheduleNotification(y){if(!0===this.errored)return;const R=this.scheduler,m=new b(R.now()+this.delay,y);this.queue.push(m),!1===this.active&&this._schedule(R)}_next(y){this.scheduleNotification(h.E.createNext(y))}_error(y){this.errored=!0,this.queue=[],this.destination.error(y),this.unsubscribe()}_complete(){this.scheduleNotification(h.E.createComplete()),this.unsubscribe()}}class b{constructor(y,R){this.time=y,this.notification=R}}},522:(gt,re,o)=>{"use strict";o.d(re,{F:()=>n});var e=o(762);function n(g,p){return f=>f.lift(new l(g,p))}class l{constructor(p,f){this.compare=p,this.keySelector=f}call(p,f){return f.subscribe(new h(p,this.compare,this.keySelector))}}class h extends e.v{constructor(p,f,b){super(p),this.keySelector=b,this.hasKey=!1,"function"==typeof f&&(this.compare=f)}compare(p,f){return p===f}_next(p){let f;try{const{keySelector:d}=this;f=d?d(p):p}catch(d){return this.destination.error(d)}let b=!1;if(this.hasKey)try{const{compare:d}=this;b=d(this.key,f)}catch(d){return this.destination.error(d)}else this.hasKey=!0;b||(this.key=f,this.destination.next(p))}}},1713:(gt,re,o)=>{"use strict";o.d(re,{w:()=>n});var e=o(522);function n(l,h){return(0,e.F)((g,p)=>h?h(g[l],p[l]):g[l]===p[l])}},8728:(gt,re,o)=>{"use strict";o.d(re,{p:()=>n});var e=o(762);function n(g,p){return function(b){return b.lift(new l(g,p))}}class l{constructor(p,f){this.predicate=p,this.thisArg=f}call(p,f){return f.subscribe(new h(p,this.predicate,this.thisArg))}}class h extends e.v{constructor(p,f,b){super(p),this.predicate=f,this.thisArg=b,this.count=0}_next(p){let f;try{f=this.predicate.call(this.thisArg,p,this.count++)}catch(b){return void this.destination.error(b)}f&&this.destination.next(p)}}},7312:(gt,re,o)=>{"use strict";o.d(re,{j:()=>l});var e=o(762),n=o(4337);function l(p){return f=>f.lift(new h(p))}class h{constructor(f){this.callback=f}call(f,b){return b.subscribe(new g(f,this.callback))}}class g extends e.v{constructor(f,b){super(f),this.add(new n.y(b))}}},4046:(gt,re,o)=>{"use strict";o.d(re,{$:()=>f});var e=o(9994),n=o(8728),l=o(9493),h=o(7849),g=o(3314),p=o(5241);function f(b,d){const y=arguments.length>=2;return R=>R.pipe(b?(0,n.p)((m,v)=>b(m,v,R)):p.D,(0,l.s)(1),y?(0,h.U)(d):(0,g.v)(()=>new e.G))}},5006:(gt,re,o)=>{"use strict";o.d(re,{T:()=>n});var e=o(762);function n(g,p){return function(b){if("function"!=typeof g)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return b.lift(new l(g,p))}}class l{constructor(p,f){this.project=p,this.thisArg=f}call(p,f){return f.subscribe(new h(p,this.project,this.thisArg))}}class h extends e.v{constructor(p,f,b){super(p),this.project=f,this.count=0,this.thisArg=b||this}_next(p){let f;try{f=this.project.call(this.thisArg,p,this.count++)}catch(b){return void this.destination.error(b)}this.destination.next(f)}}},6201:(gt,re,o)=>{"use strict";o.d(re,{U:()=>l});var e=o(8456),n=o(5241);function l(h=Number.POSITIVE_INFINITY){return(0,e.ZZ)(n.D,h)}},8456:(gt,re,o)=>{"use strict";o.d(re,{ZZ:()=>h});var e=o(5006),n=o(4787),l=o(3004);function h(b,d,y=Number.POSITIVE_INFINITY){return"function"==typeof d?R=>R.pipe(h((m,v)=>(0,n.H)(b(m,v)).pipe((0,e.T)((O,S)=>d(m,O,v,S))),y)):("number"==typeof d&&(y=d),R=>R.lift(new g(b,y)))}class g{constructor(d,y=Number.POSITIVE_INFINITY){this.project=d,this.concurrent=y}call(d,y){return y.subscribe(new p(d,this.project,this.concurrent))}}class p extends l.gn{constructor(d,y,R=Number.POSITIVE_INFINITY){super(d),this.project=y,this.concurrent=R,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(d){this.active<this.concurrent?this._tryNext(d):this.buffer.push(d)}_tryNext(d){let y;const R=this.index++;try{y=this.project(d,R)}catch(m){return void this.destination.error(m)}this.active++,this._innerSub(y)}_innerSub(d){const y=new l.zA(this),R=this.destination;R.add(y);const m=(0,l.tS)(d,y);m!==y&&R.add(m)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(d){this.destination.next(d)}notifyComplete(){const d=this.buffer;this.active--,d.length>0?this._next(d.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},3110:(gt,re,o)=>{"use strict";o.d(re,{B:()=>n});var e=o(762);function n(){return function(p){return p.lift(new l(p))}}class l{constructor(p){this.connectable=p}call(p,f){const{connectable:b}=this;b._refCount++;const d=new h(p,b),y=f.subscribe(d);return d.closed||(d.connection=b.connect()),y}}class h extends e.v{constructor(p,f){super(p),this.connectable=f}_unsubscribe(){const{connectable:p}=this;if(!p)return void(this.connection=null);this.connectable=null;const f=p._refCount;if(f<=0)return void(this.connection=null);if(p._refCount=f-1,f>1)return void(this.connection=null);const{connection:b}=this,d=p._connection;this.connection=null,d&&(!b||d===b)&&d.unsubscribe()}}},8712:(gt,re,o)=>{"use strict";o.d(re,{t:()=>n});var e=o(6607);function n(h,g,p){let f;return f=h&&"object"==typeof h?h:{bufferSize:h,windowTime:g,refCount:!1,scheduler:p},b=>b.lift(function l({bufferSize:h=Number.POSITIVE_INFINITY,windowTime:g=Number.POSITIVE_INFINITY,refCount:p,scheduler:f}){let b,y,d=0,R=!1,m=!1;return function(O){let S;d++,!b||R?(R=!1,b=new e.m(h,g,f),S=b.subscribe(this),y=O.subscribe({next(P){b.next(P)},error(P){R=!0,b.error(P)},complete(){m=!0,y=void 0,b.complete()}}),m&&(y=void 0)):S=b.subscribe(this),this.add(()=>{d--,S.unsubscribe(),S=void 0,y&&!m&&p&&0===d&&(y.unsubscribe(),y=void 0,b=void 0)})}}(f))}},7753:(gt,re,o)=>{"use strict";o.d(re,{i:()=>n});var e=o(762);function n(g){return p=>p.lift(new l(g))}class l{constructor(p){this.total=p}call(p,f){return f.subscribe(new h(p,this.total))}}class h extends e.v{constructor(p,f){super(p),this.total=f,this.count=0}_next(p){++this.count>this.total&&this.destination.next(p)}}},3176:(gt,re,o)=>{"use strict";o.d(re,{Z:()=>l});var e=o(1639),n=o(2234);function l(...h){const g=h[h.length-1];return(0,n.m)(g)?(h.pop(),p=>(0,e.x)(h,p,g)):p=>(0,e.x)(h,p)}},9090:(gt,re,o)=>{"use strict";o.d(re,{n:()=>h});var e=o(5006),n=o(4787),l=o(3004);function h(f,b){return"function"==typeof b?d=>d.pipe(h((y,R)=>(0,n.H)(f(y,R)).pipe((0,e.T)((m,v)=>b(y,m,R,v))))):d=>d.lift(new g(f))}class g{constructor(b){this.project=b}call(b,d){return d.subscribe(new p(b,this.project))}}class p extends l.gn{constructor(b,d){super(b),this.project=d,this.index=0}_next(b){let d;const y=this.index++;try{d=this.project(b,y)}catch(R){return void this.destination.error(R)}this._innerSub(d)}_innerSub(b){const d=this.innerSubscription;d&&d.unsubscribe();const y=new l.zA(this),R=this.destination;R.add(y),this.innerSubscription=(0,l.tS)(b,y),this.innerSubscription!==y&&R.add(this.innerSubscription)}_complete(){const{innerSubscription:b}=this;(!b||b.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(b){this.destination.next(b)}}},9493:(gt,re,o)=>{"use strict";o.d(re,{s:()=>h});var e=o(762),n=o(434),l=o(1235);function h(f){return b=>0===f?(0,l.I)():b.lift(new g(f))}class g{constructor(b){if(this.total=b,this.total<0)throw new n.k}call(b,d){return d.subscribe(new p(b,this.total))}}class p extends e.v{constructor(b,d){super(b),this.total=d,this.count=0}_next(b){const d=this.total,y=++this.count;y<=d&&(this.destination.next(b),y===d&&(this.destination.complete(),this.unsubscribe()))}}},7605:(gt,re,o)=>{"use strict";o.d(re,{Q:()=>n});var e=o(3004);function n(g){return p=>p.lift(new l(g))}class l{constructor(p){this.notifier=p}call(p,f){const b=new h(p),d=(0,e.tS)(this.notifier,new e.zA(b));return d&&!b.seenValue?(b.add(d),f.subscribe(b)):b}}class h extends e.gn{constructor(p){super(p),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},1604:(gt,re,o)=>{"use strict";o.d(re,{v:()=>n});var e=o(762);function n(g,p=!1){return f=>f.lift(new l(g,p))}class l{constructor(p,f){this.predicate=p,this.inclusive=f}call(p,f){return f.subscribe(new h(p,this.predicate,this.inclusive))}}class h extends e.v{constructor(p,f,b){super(p),this.predicate=f,this.inclusive=b,this.index=0}_next(p){const f=this.destination;let b;try{b=this.predicate(p,this.index++)}catch(d){return void f.error(d)}this.nextOrComplete(p,b)}nextOrComplete(p,f){const b=this.destination;f?b.next(p):(this.inclusive&&b.next(p),b.complete())}}},8841:(gt,re,o)=>{"use strict";o.d(re,{M:()=>h});var e=o(762),n=o(8803),l=o(8099);function h(f,b,d){return function(R){return R.lift(new g(f,b,d))}}class g{constructor(b,d,y){this.nextOrObserver=b,this.error=d,this.complete=y}call(b,d){return d.subscribe(new p(b,this.nextOrObserver,this.error,this.complete))}}class p extends e.v{constructor(b,d,y,R){super(b),this._tapNext=n.l,this._tapError=n.l,this._tapComplete=n.l,this._tapError=y||n.l,this._tapComplete=R||n.l,(0,l.T)(d)?(this._context=this,this._tapNext=d):d&&(this._context=d,this._tapNext=d.next||n.l,this._tapError=d.error||n.l,this._tapComplete=d.complete||n.l)}_next(b){try{this._tapNext.call(this._context,b)}catch(d){return void this.destination.error(d)}this.destination.next(b)}_error(b){try{this._tapError.call(this._context,b)}catch(d){return void this.destination.error(d)}this.destination.error(b)}_complete(){try{this._tapComplete.call(this._context)}catch(b){return void this.destination.error(b)}return this.destination.complete()}}},3314:(gt,re,o)=>{"use strict";o.d(re,{v:()=>l});var e=o(9994),n=o(762);function l(f=p){return b=>b.lift(new h(f))}class h{constructor(b){this.errorFactory=b}call(b,d){return d.subscribe(new g(b,this.errorFactory))}}class g extends n.v{constructor(b,d){super(b),this.errorFactory=d,this.hasValue=!1}_next(b){this.hasValue=!0,this.destination.next(b)}_complete(){if(this.hasValue)return this.destination.complete();{let b;try{b=this.errorFactory()}catch(d){b=d}this.destination.error(b)}}}function p(){return new e.G}},2496:(gt,re,o)=>{"use strict";o.d(re,{V:()=>l});var e=o(5817),n=o(4337);function l(h,g){return new e.c(p=>{const f=new n.y;let b=0;return f.add(g.schedule(function(){b!==h.length?(p.next(h[b++]),p.closed||f.add(this.schedule())):p.complete()})),f})}},8189:(gt,re,o)=>{"use strict";o.d(re,{R:()=>l});var e=o(4337);class n extends e.y{constructor(g,p){super()}schedule(g,p=0){return this}}class l extends n{constructor(g,p){super(g,p),this.scheduler=g,this.work=p,this.pending=!1}schedule(g,p=0){if(this.closed)return this;this.state=g;const f=this.id,b=this.scheduler;return null!=f&&(this.id=this.recycleAsyncId(b,f,p)),this.pending=!0,this.delay=p,this.id=this.id||this.requestAsyncId(b,this.id,p),this}requestAsyncId(g,p,f=0){return setInterval(g.flush.bind(g,this),f)}recycleAsyncId(g,p,f=0){if(null!==f&&this.delay===f&&!1===this.pending)return p;clearInterval(p)}execute(g,p){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const f=this._execute(g,p);if(f)return f;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(g,p){let b,f=!1;try{this.work(g)}catch(d){f=!0,b=!!d&&d||new Error(d)}if(f)return this.unsubscribe(),b}_unsubscribe(){const g=this.id,p=this.scheduler,f=p.actions,b=f.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==b&&f.splice(b,1),null!=g&&(this.id=this.recycleAsyncId(p,g,null)),this.delay=null}}},6228:(gt,re,o)=>{"use strict";o.d(re,{q:()=>n});let e=(()=>{class l{constructor(g,p=l.now){this.SchedulerAction=g,this.now=p}schedule(g,p=0,f){return new this.SchedulerAction(this,g).schedule(f,p)}}return l.now=()=>Date.now(),l})();class n extends e{constructor(h,g=e.now){super(h,()=>n.delegate&&n.delegate!==this?n.delegate.now():g()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(h,g=0,p){return n.delegate&&n.delegate!==this?n.delegate.schedule(h,g,p):super.schedule(h,g,p)}flush(h){const{actions:g}=this;if(this.active)return void g.push(h);let p;this.active=!0;do{if(p=h.execute(h.state,h.delay))break}while(h=g.shift());if(this.active=!1,p){for(;h=g.shift();)h.unsubscribe();throw p}}}},5516:(gt,re,o)=>{"use strict";o.d(re,{$:()=>R});let e=1;const n=Promise.resolve(),l={};function h(v){return v in l&&(delete l[v],!0)}const g={setImmediate(v){const O=e++;return l[O]=!0,n.then(()=>h(O)&&v()),O},clearImmediate(v){h(v)}};var f=o(8189),d=o(6228);const R=new class y extends d.q{flush(O){this.active=!0,this.scheduled=void 0;const{actions:S}=this;let P,M=-1,w=S.length;O=O||S.shift();do{if(P=O.execute(O.state,O.delay))break}while(++M<w&&(O=S.shift()));if(this.active=!1,P){for(;++M<w&&(O=S.shift());)O.unsubscribe();throw P}}}(class b extends f.R{constructor(O,S){super(O,S),this.scheduler=O,this.work=S}requestAsyncId(O,S,P=0){return null!==P&&P>0?super.requestAsyncId(O,S,P):(O.actions.push(this),O.scheduled||(O.scheduled=g.setImmediate(O.flush.bind(O,null))))}recycleAsyncId(O,S,P=0){if(null!==P&&P>0||null===P&&this.delay>0)return super.recycleAsyncId(O,S,P);0===O.actions.length&&(g.clearImmediate(S),O.scheduled=void 0)}})},1080:(gt,re,o)=>{"use strict";o.d(re,{b:()=>h});var e=o(8189);const h=new(o(6228).q)(e.R)},7765:(gt,re,o)=>{"use strict";o.d(re,{lJ:()=>n});const n=function e(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},5722:(gt,re,o)=>{"use strict";o.d(re,{s:()=>e});const e="function"==typeof Symbol&&Symbol.observable||"@@observable"},91:(gt,re,o)=>{"use strict";o.d(re,{D:()=>e});const e="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},434:(gt,re,o)=>{"use strict";o.d(re,{k:()=>n});const n=(()=>{function l(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return l.prototype=Object.create(Error.prototype),l})()},9994:(gt,re,o)=>{"use strict";o.d(re,{G:()=>n});const n=(()=>{function l(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return l.prototype=Object.create(Error.prototype),l})()},2145:(gt,re,o)=>{"use strict";o.d(re,{P:()=>n});const n=(()=>{function l(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return l.prototype=Object.create(Error.prototype),l})()},8253:(gt,re,o)=>{"use strict";function e(n){setTimeout(()=>{throw n},0)}o.d(re,{T:()=>e})},5241:(gt,re,o)=>{"use strict";function e(n){return n}o.d(re,{D:()=>e})},7354:(gt,re,o)=>{"use strict";o.d(re,{c:()=>e});const e=Array.isArray||(n=>n&&"number"==typeof n.length)},5253:(gt,re,o)=>{"use strict";o.d(re,{X:()=>e});const e=n=>n&&"number"==typeof n.length&&"function"!=typeof n},8099:(gt,re,o)=>{"use strict";function e(n){return"function"==typeof n}o.d(re,{T:()=>e})},9132:(gt,re,o)=>{"use strict";o.d(re,{k:()=>n});var e=o(7354);function n(l){return!(0,e.c)(l)&&l-parseFloat(l)+1>=0}},1456:(gt,re,o)=>{"use strict";function e(n){return null!==n&&"object"==typeof n}o.d(re,{G:()=>e})},8982:(gt,re,o)=>{"use strict";o.d(re,{A:()=>n});var e=o(5817);function n(l){return!!l&&(l instanceof e.c||"function"==typeof l.lift&&"function"==typeof l.subscribe)}},5998:(gt,re,o)=>{"use strict";function e(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}o.d(re,{y:()=>e})},2234:(gt,re,o)=>{"use strict";function e(n){return n&&"function"==typeof n.schedule}o.d(re,{m:()=>e})},8803:(gt,re,o)=>{"use strict";function e(){}o.d(re,{l:()=>e})},8167:(gt,re,o)=>{"use strict";o.d(re,{F:()=>n,m:()=>l});var e=o(5241);function n(...h){return l(h)}function l(h){return 0===h.length?e.D:1===h.length?h[0]:function(p){return h.reduce((f,b)=>b(f),p)}}},135:(gt,re,o)=>{"use strict";o.d(re,{i:()=>R});var e=o(4385),n=o(8253),h=o(7765),p=o(5722),b=o(5253),d=o(5998),y=o(1456);const R=m=>{if(m&&"function"==typeof m[p.s])return(m=>v=>{const O=m[p.s]();if("function"!=typeof O.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return O.subscribe(v)})(m);if((0,b.X)(m))return(0,e.v)(m);if((0,d.y)(m))return(m=>v=>(m.then(O=>{v.closed||(v.next(O),v.complete())},O=>v.error(O)).then(null,n.T),v))(m);if(m&&"function"==typeof m[h.lJ])return(m=>v=>{const O=m[h.lJ]();for(;;){let S;try{S=O.next()}catch(P){return v.error(P),v}if(S.done){v.complete();break}if(v.next(S.value),v.closed)break}return"function"==typeof O.return&&v.add(()=>{O.return&&O.return()}),v})(m);{const O=`You provided ${(0,y.G)(m)?"an invalid object":`'${m}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(O)}}},4385:(gt,re,o)=>{"use strict";o.d(re,{v:()=>e});const e=n=>l=>{for(let h=0,g=n.length;h<g&&!l.closed;h++)l.next(n[h]);l.complete()}},416:(gt,re,o)=>{"use strict";o.d(re,{VV:()=>e,LL:()=>l});class e{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(g,p=!1){return this.onePassHasher.start().appendStr(g).end(p)}static hashAsciiStr(g,p=!1){return this.onePassHasher.start().appendAsciiStr(g).end(p)}static _hex(g){const p=e.hexChars,f=e.hexOut;let b,d,y,R;for(R=0;R<4;R+=1)for(d=8*R,b=g[R],y=0;y<8;y+=2)f[d+1+y]=p.charAt(15&b),b>>>=4,f[d+0+y]=p.charAt(15&b),b>>>=4;return f.join("")}static _md5cycle(g,p){let f=g[0],b=g[1],d=g[2],y=g[3];f+=(b&d|~b&y)+p[0]-680876936|0,f=(f<<7|f>>>25)+b|0,y+=(f&b|~f&d)+p[1]-389564586|0,y=(y<<12|y>>>20)+f|0,d+=(y&f|~y&b)+p[2]+606105819|0,d=(d<<17|d>>>15)+y|0,b+=(d&y|~d&f)+p[3]-1044525330|0,b=(b<<22|b>>>10)+d|0,f+=(b&d|~b&y)+p[4]-176418897|0,f=(f<<7|f>>>25)+b|0,y+=(f&b|~f&d)+p[5]+1200080426|0,y=(y<<12|y>>>20)+f|0,d+=(y&f|~y&b)+p[6]-1473231341|0,d=(d<<17|d>>>15)+y|0,b+=(d&y|~d&f)+p[7]-45705983|0,b=(b<<22|b>>>10)+d|0,f+=(b&d|~b&y)+p[8]+1770035416|0,f=(f<<7|f>>>25)+b|0,y+=(f&b|~f&d)+p[9]-1958414417|0,y=(y<<12|y>>>20)+f|0,d+=(y&f|~y&b)+p[10]-42063|0,d=(d<<17|d>>>15)+y|0,b+=(d&y|~d&f)+p[11]-1990404162|0,b=(b<<22|b>>>10)+d|0,f+=(b&d|~b&y)+p[12]+1804603682|0,f=(f<<7|f>>>25)+b|0,y+=(f&b|~f&d)+p[13]-40341101|0,y=(y<<12|y>>>20)+f|0,d+=(y&f|~y&b)+p[14]-1502002290|0,d=(d<<17|d>>>15)+y|0,b+=(d&y|~d&f)+p[15]+1236535329|0,b=(b<<22|b>>>10)+d|0,f+=(b&y|d&~y)+p[1]-165796510|0,f=(f<<5|f>>>27)+b|0,y+=(f&d|b&~d)+p[6]-1069501632|0,y=(y<<9|y>>>23)+f|0,d+=(y&b|f&~b)+p[11]+643717713|0,d=(d<<14|d>>>18)+y|0,b+=(d&f|y&~f)+p[0]-373897302|0,b=(b<<20|b>>>12)+d|0,f+=(b&y|d&~y)+p[5]-701558691|0,f=(f<<5|f>>>27)+b|0,y+=(f&d|b&~d)+p[10]+38016083|0,y=(y<<9|y>>>23)+f|0,d+=(y&b|f&~b)+p[15]-660478335|0,d=(d<<14|d>>>18)+y|0,b+=(d&f|y&~f)+p[4]-405537848|0,b=(b<<20|b>>>12)+d|0,f+=(b&y|d&~y)+p[9]+568446438|0,f=(f<<5|f>>>27)+b|0,y+=(f&d|b&~d)+p[14]-1019803690|0,y=(y<<9|y>>>23)+f|0,d+=(y&b|f&~b)+p[3]-187363961|0,d=(d<<14|d>>>18)+y|0,b+=(d&f|y&~f)+p[8]+1163531501|0,b=(b<<20|b>>>12)+d|0,f+=(b&y|d&~y)+p[13]-1444681467|0,f=(f<<5|f>>>27)+b|0,y+=(f&d|b&~d)+p[2]-51403784|0,y=(y<<9|y>>>23)+f|0,d+=(y&b|f&~b)+p[7]+1735328473|0,d=(d<<14|d>>>18)+y|0,b+=(d&f|y&~f)+p[12]-1926607734|0,b=(b<<20|b>>>12)+d|0,f+=(b^d^y)+p[5]-378558|0,f=(f<<4|f>>>28)+b|0,y+=(f^b^d)+p[8]-2022574463|0,y=(y<<11|y>>>21)+f|0,d+=(y^f^b)+p[11]+1839030562|0,d=(d<<16|d>>>16)+y|0,b+=(d^y^f)+p[14]-35309556|0,b=(b<<23|b>>>9)+d|0,f+=(b^d^y)+p[1]-1530992060|0,f=(f<<4|f>>>28)+b|0,y+=(f^b^d)+p[4]+1272893353|0,y=(y<<11|y>>>21)+f|0,d+=(y^f^b)+p[7]-155497632|0,d=(d<<16|d>>>16)+y|0,b+=(d^y^f)+p[10]-1094730640|0,b=(b<<23|b>>>9)+d|0,f+=(b^d^y)+p[13]+681279174|0,f=(f<<4|f>>>28)+b|0,y+=(f^b^d)+p[0]-358537222|0,y=(y<<11|y>>>21)+f|0,d+=(y^f^b)+p[3]-722521979|0,d=(d<<16|d>>>16)+y|0,b+=(d^y^f)+p[6]+76029189|0,b=(b<<23|b>>>9)+d|0,f+=(b^d^y)+p[9]-640364487|0,f=(f<<4|f>>>28)+b|0,y+=(f^b^d)+p[12]-421815835|0,y=(y<<11|y>>>21)+f|0,d+=(y^f^b)+p[15]+530742520|0,d=(d<<16|d>>>16)+y|0,b+=(d^y^f)+p[2]-995338651|0,b=(b<<23|b>>>9)+d|0,f+=(d^(b|~y))+p[0]-198630844|0,f=(f<<6|f>>>26)+b|0,y+=(b^(f|~d))+p[7]+1126891415|0,y=(y<<10|y>>>22)+f|0,d+=(f^(y|~b))+p[14]-1416354905|0,d=(d<<15|d>>>17)+y|0,b+=(y^(d|~f))+p[5]-57434055|0,b=(b<<21|b>>>11)+d|0,f+=(d^(b|~y))+p[12]+1700485571|0,f=(f<<6|f>>>26)+b|0,y+=(b^(f|~d))+p[3]-1894986606|0,y=(y<<10|y>>>22)+f|0,d+=(f^(y|~b))+p[10]-1051523|0,d=(d<<15|d>>>17)+y|0,b+=(y^(d|~f))+p[1]-2054922799|0,b=(b<<21|b>>>11)+d|0,f+=(d^(b|~y))+p[8]+1873313359|0,f=(f<<6|f>>>26)+b|0,y+=(b^(f|~d))+p[15]-30611744|0,y=(y<<10|y>>>22)+f|0,d+=(f^(y|~b))+p[6]-1560198380|0,d=(d<<15|d>>>17)+y|0,b+=(y^(d|~f))+p[13]+1309151649|0,b=(b<<21|b>>>11)+d|0,f+=(d^(b|~y))+p[4]-145523070|0,f=(f<<6|f>>>26)+b|0,y+=(b^(f|~d))+p[11]-1120210379|0,y=(y<<10|y>>>22)+f|0,d+=(f^(y|~b))+p[2]+718787259|0,d=(d<<15|d>>>17)+y|0,b+=(y^(d|~f))+p[9]-343485551|0,b=(b<<21|b>>>11)+d|0,g[0]=f+g[0]|0,g[1]=b+g[1]|0,g[2]=d+g[2]|0,g[3]=y+g[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(e.stateIdentity),this}appendStr(g){const p=this._buffer8,f=this._buffer32;let d,y,b=this._bufferLength;for(y=0;y<g.length;y+=1){if(d=g.charCodeAt(y),d<128)p[b++]=d;else if(d<2048)p[b++]=192+(d>>>6),p[b++]=63&d|128;else if(d<55296||d>56319)p[b++]=224+(d>>>12),p[b++]=d>>>6&63|128,p[b++]=63&d|128;else{if(d=1024*(d-55296)+(g.charCodeAt(++y)-56320)+65536,d>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");p[b++]=240+(d>>>18),p[b++]=d>>>12&63|128,p[b++]=d>>>6&63|128,p[b++]=63&d|128}b>=64&&(this._dataLength+=64,e._md5cycle(this._state,f),b-=64,f[0]=f[16])}return this._bufferLength=b,this}appendAsciiStr(g){const p=this._buffer8,f=this._buffer32;let d,b=this._bufferLength,y=0;for(;;){for(d=Math.min(g.length-y,64-b);d--;)p[b++]=g.charCodeAt(y++);if(b<64)break;this._dataLength+=64,e._md5cycle(this._state,f),b=0}return this._bufferLength=b,this}appendByteArray(g){const p=this._buffer8,f=this._buffer32;let d,b=this._bufferLength,y=0;for(;;){for(d=Math.min(g.length-y,64-b);d--;)p[b++]=g[y++];if(b<64)break;this._dataLength+=64,e._md5cycle(this._state,f),b=0}return this._bufferLength=b,this}getState(){const g=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[g[0],g[1],g[2],g[3]]}}setState(g){const p=g.buffer,f=g.state,b=this._state;let d;for(this._dataLength=g.length,this._bufferLength=g.buflen,b[0]=f[0],b[1]=f[1],b[2]=f[2],b[3]=f[3],d=0;d<p.length;d+=1)this._buffer8[d]=p.charCodeAt(d)}end(g=!1){const p=this._bufferLength,f=this._buffer8,b=this._buffer32,d=1+(p>>2);this._dataLength+=p;const y=8*this._dataLength;if(f[p]=128,f[p+1]=f[p+2]=f[p+3]=0,b.set(e.buffer32Identity.subarray(d),d),p>55&&(e._md5cycle(this._state,b),b.set(e.buffer32Identity)),y<=4294967295)b[14]=y;else{const R=y.toString(16).match(/(.*?)(.{0,8})$/);if(null===R)return;const m=parseInt(R[2],16),v=parseInt(R[1],16)||0;b[14]=m,b[15]=v}return e._md5cycle(this._state,b),g?this._state:e._hex(this._state)}}if(e.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),e.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),e.hexChars="0123456789abcdef",e.hexOut=[],e.onePassHasher=new e,"5d41402abc4b2a76b9719d911017c592"!==e.hashStr("hello"))throw new Error("Md5 self test failed.");class l{constructor(g,p){this._queue=[],this._ready=!0;const f=this;Worker?(f._hashWorker=new Worker(g,p),f._hashWorker.onmessage=f._recievedMessage.bind(f),f._hashWorker.onerror=b=>{f._ready=!1,console.error("Hash worker failure",b)}):(f._ready=!1,console.error("Web Workers are not supported in this browser"))}hash(g){const p=this;let f;return f=new Promise((b,d)=>{p._queue.push({blob:g,resolve:b,reject:d}),p._processNext()}),f}terminate(){this._ready=!1,this._hashWorker.terminate()}_processNext(){this._ready&&!this._processing&&this._queue.length>0&&(this._processing=this._queue.pop(),this._hashWorker.postMessage(this._processing.blob))}_recievedMessage(g){var p,f;const b=g.data;b.success?null===(p=this._processing)||void 0===p||p.resolve(b.result):null===(f=this._processing)||void 0===f||f.reject(b.result),this._processing=void 0,this._processNext()}}},9969:(gt,re,o)=>{"use strict";o.d(re,{FX:()=>F,If:()=>e,K2:()=>p,MA:()=>m,Os:()=>g,P:()=>O,hZ:()=>l,i0:()=>h,i7:()=>d,iF:()=>f,kY:()=>y,kp:()=>n,sf:()=>A,ui:()=>B,wk:()=>b});var e=function($){return $[$.State=0]="State",$[$.Transition=1]="Transition",$[$.Sequence=2]="Sequence",$[$.Group=3]="Group",$[$.Animate=4]="Animate",$[$.Keyframes=5]="Keyframes",$[$.Style=6]="Style",$[$.Trigger=7]="Trigger",$[$.Reference=8]="Reference",$[$.AnimateChild=9]="AnimateChild",$[$.AnimateRef=10]="AnimateRef",$[$.Query=11]="Query",$[$.Stagger=12]="Stagger",$}(e||{});const n="*";function l($,U){return{type:e.Trigger,name:$,definitions:U,options:{}}}function h($,U=null){return{type:e.Animate,styles:U,timings:$}}function g($,U=null){return{type:e.Group,steps:$,options:U}}function p($,U=null){return{type:e.Sequence,steps:$,options:U}}function f($){return{type:e.Style,styles:$,offset:null}}function b($,U,G){return{type:e.State,name:$,styles:U,options:G}}function d($){return{type:e.Keyframes,steps:$}}function y($,U,G=null){return{type:e.Transition,expr:$,animation:U,options:G}}function m($=null){return{type:e.AnimateChild,options:$}}function O($,U,G=null){return{type:e.Query,selector:$,animation:U,options:G}}class A{constructor(U=0,G=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=U+G}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(U=>U()),this._onDoneFns=[])}onStart(U){this._originalOnStartFns.push(U),this._onStartFns.push(U)}onDone(U){this._originalOnDoneFns.push(U),this._onDoneFns.push(U)}onDestroy(U){this._onDestroyFns.push(U)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(U=>U()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(U=>U()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(U){this._position=this.totalTime?U*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(U){const G="start"==U?this._onStartFns:this._onDoneFns;G.forEach(J=>J()),G.length=0}}class B{constructor(U){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=U;let G=0,J=0,te=0;const ne=this.players.length;0==ne?queueMicrotask(()=>this._onFinish()):this.players.forEach(K=>{K.onDone(()=>{++G==ne&&this._onFinish()}),K.onDestroy(()=>{++J==ne&&this._onDestroy()}),K.onStart(()=>{++te==ne&&this._onStart()})}),this.totalTime=this.players.reduce((K,k)=>Math.max(K,k.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(U=>U()),this._onDoneFns=[])}init(){this.players.forEach(U=>U.init())}onStart(U){this._onStartFns.push(U)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(U=>U()),this._onStartFns=[])}onDone(U){this._onDoneFns.push(U)}onDestroy(U){this._onDestroyFns.push(U)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(U=>U.play())}pause(){this.players.forEach(U=>U.pause())}restart(){this.players.forEach(U=>U.restart())}finish(){this._onFinish(),this.players.forEach(U=>U.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(U=>U.destroy()),this._onDestroyFns.forEach(U=>U()),this._onDestroyFns=[])}reset(){this.players.forEach(U=>U.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(U){const G=U*this.totalTime;this.players.forEach(J=>{const te=J.totalTime?Math.min(1,G/J.totalTime):1;J.setPosition(te)})}getPosition(){const U=this.players.reduce((G,J)=>null===G||J.totalTime>G.totalTime?J:G,null);return null!=U?U.getPosition():0}beforeDestroy(){this.players.forEach(U=>{U.beforeDestroy&&U.beforeDestroy()})}triggerCallback(U){const G="start"==U?this._onStartFns:this._onDoneFns;G.forEach(J=>J()),G.length=0}}const F="!"},8617:(gt,re,o)=>{"use strict";o.d(re,{Ae:()=>_,Ai:()=>hn,Au:()=>te,Bu:()=>ne,FN:()=>Ft,GX:()=>pe,Pd:()=>Zn,Q_:()=>Sn,Z7:()=>k,_G:()=>Pt,kB:()=>Ee,px:()=>I,vR:()=>Ct,vr:()=>$,w6:()=>yt});var e=o(177),n=o(3953),l=o(6860),h=o(5286),g=o(4337),p=o(9928),f=o(4421),b=o(7336),d=o(8841),y=o(3020),R=o(8728),m=o(5006),v=o(7753),O=o(522),S=o(7605),P=o(2318),M=o(4085),w=o(9327);const x=" ";function I(ut,be,Fe){const ae=C(ut,be);Fe=Fe.trim(),!ae.some(ve=>ve.trim()===Fe)&&(ae.push(Fe),ut.setAttribute(be,ae.join(x)))}function _(ut,be,Fe){const ae=C(ut,be);Fe=Fe.trim();const ve=ae.filter(ze=>ze!==Fe);ve.length?ut.setAttribute(be,ve.join(x)):ut.removeAttribute(be)}function C(ut,be){return ut.getAttribute(be)?.match(/\S+/g)??[]}const A="cdk-describedby-message",B="cdk-describedby-host";let F=0,$=(()=>{class ut{constructor(Fe,ae){this._platform=ae,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+F++,this._document=Fe,this._id=(0,n.WQX)(n.sZ2)+"-"+F++}describe(Fe,ae,ve){if(!this._canBeDescribed(Fe,ae))return;const ze=U(ae,ve);"string"!=typeof ae?(G(ae,this._id),this._messageRegistry.set(ze,{messageElement:ae,referenceCount:0})):this._messageRegistry.has(ze)||this._createMessageElement(ae,ve),this._isElementDescribedByMessage(Fe,ze)||this._addMessageReference(Fe,ze)}removeDescription(Fe,ae,ve){if(!ae||!this._isElementNode(Fe))return;const ze=U(ae,ve);if(this._isElementDescribedByMessage(Fe,ze)&&this._removeMessageReference(Fe,ze),"string"==typeof ae){const vt=this._messageRegistry.get(ze);vt&&0===vt.referenceCount&&this._deleteMessageElement(ze)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const Fe=this._document.querySelectorAll(`[${B}="${this._id}"]`);for(let ae=0;ae<Fe.length;ae++)this._removeCdkDescribedByReferenceIds(Fe[ae]),Fe[ae].removeAttribute(B);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(Fe,ae){const ve=this._document.createElement("div");G(ve,this._id),ve.textContent=Fe,ae&&ve.setAttribute("role",ae),this._createMessagesContainer(),this._messagesContainer.appendChild(ve),this._messageRegistry.set(U(Fe,ae),{messageElement:ve,referenceCount:0})}_deleteMessageElement(Fe){this._messageRegistry.get(Fe)?.messageElement?.remove(),this._messageRegistry.delete(Fe)}_createMessagesContainer(){if(this._messagesContainer)return;const Fe="cdk-describedby-message-container",ae=this._document.querySelectorAll(`.${Fe}[platform="server"]`);for(let ze=0;ze<ae.length;ze++)ae[ze].remove();const ve=this._document.createElement("div");ve.style.visibility="hidden",ve.classList.add(Fe),ve.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&ve.setAttribute("platform","server"),this._document.body.appendChild(ve),this._messagesContainer=ve}_removeCdkDescribedByReferenceIds(Fe){const ae=C(Fe,"aria-describedby").filter(ve=>0!=ve.indexOf(A));Fe.setAttribute("aria-describedby",ae.join(" "))}_addMessageReference(Fe,ae){const ve=this._messageRegistry.get(ae);I(Fe,"aria-describedby",ve.messageElement.id),Fe.setAttribute(B,this._id),ve.referenceCount++}_removeMessageReference(Fe,ae){const ve=this._messageRegistry.get(ae);ve.referenceCount--,_(Fe,"aria-describedby",ve.messageElement.id),Fe.removeAttribute(B)}_isElementDescribedByMessage(Fe,ae){const ve=C(Fe,"aria-describedby"),ze=this._messageRegistry.get(ae),vt=ze&&ze.messageElement.id;return!!vt&&-1!=ve.indexOf(vt)}_canBeDescribed(Fe,ae){if(!this._isElementNode(Fe))return!1;if(ae&&"object"==typeof ae)return!0;const ve=null==ae?"":`${ae}`.trim(),ze=Fe.getAttribute("aria-label");return!(!ve||ze&&ze.trim()===ve)}_isElementNode(Fe){return Fe.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(ae){return new(ae||ut)(n.KVO(e.qQ),n.KVO(l.OD))};static#t=this.\u0275prov=n.jDH({token:ut,factory:ut.\u0275fac,providedIn:"root"})}return ut})();function U(ut,be){return"string"==typeof ut?`${be||""}/${ut}`:ut}function G(ut,be){ut.id||(ut.id=`${A}-${be}-${F++}`)}class J{constructor(be,Fe){this._items=be,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new h.B7,this._typeaheadSubscription=g.y.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=ae=>ae.disabled,this._pressedLetters=[],this.tabOut=new h.B7,this.change=new h.B7,be instanceof n.rOR?this._itemChangesSubscription=be.changes.subscribe(ae=>this._itemsChanged(ae.toArray())):(0,n.Hps)(be)&&(this._effectRef=(0,n.QZP)(()=>this._itemsChanged(be()),{injector:Fe}))}skipPredicate(be){return this._skipPredicateFn=be,this}withWrap(be=!0){return this._wrap=be,this}withVerticalOrientation(be=!0){return this._vertical=be,this}withHorizontalOrientation(be){return this._horizontal=be,this}withAllowedModifierKeys(be){return this._allowedModifierKeys=be,this}withTypeAhead(be=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,d.M)(Fe=>this._pressedLetters.push(Fe)),(0,y.B)(be),(0,R.p)(()=>this._pressedLetters.length>0),(0,m.T)(()=>this._pressedLetters.join(""))).subscribe(Fe=>{const ae=this._getItemsArray();for(let ve=1;ve<ae.length+1;ve++){const ze=(this._activeItemIndex+ve)%ae.length,vt=ae[ze];if(!this._skipPredicateFn(vt)&&0===vt.getLabel().toUpperCase().trim().indexOf(Fe)){this.setActiveItem(ze);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(be=!0){return this._homeAndEnd=be,this}withPageUpDown(be=!0,Fe=10){return this._pageUpAndDown={enabled:be,delta:Fe},this}setActiveItem(be){const Fe=this._activeItem;this.updateActiveItem(be),this._activeItem!==Fe&&this.change.next(this._activeItemIndex)}onKeydown(be){const Fe=be.keyCode,ve=["altKey","ctrlKey","metaKey","shiftKey"].every(ze=>!be[ze]||this._allowedModifierKeys.indexOf(ze)>-1);switch(Fe){case b.wn:return void this.tabOut.next();case b.n6:if(this._vertical&&ve){this.setNextItemActive();break}return;case b.i7:if(this._vertical&&ve){this.setPreviousItemActive();break}return;case b.LE:if(this._horizontal&&ve){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case b.UQ:if(this._horizontal&&ve){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case b.yZ:if(this._homeAndEnd&&ve){this.setFirstItemActive();break}return;case b.Kp:if(this._homeAndEnd&&ve){this.setLastItemActive();break}return;case b.w_:if(this._pageUpAndDown.enabled&&ve){const ze=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(ze>0?ze:0,1);break}return;case b.dB:if(this._pageUpAndDown.enabled&&ve){const ze=this._activeItemIndex+this._pageUpAndDown.delta,vt=this._getItemsArray().length;this._setActiveItemByIndex(ze<vt?ze:vt-1,-1);break}return;default:return void((ve||(0,b.rp)(be,"shiftKey"))&&(be.key&&1===be.key.length?this._letterKeyStream.next(be.key.toLocaleUpperCase()):(Fe>=b.A&&Fe<=b.Z||Fe>=b.f2&&Fe<=b.bn)&&this._letterKeyStream.next(String.fromCharCode(Fe))))}this._pressedLetters=[],be.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(be){const Fe=this._getItemsArray(),ae="number"==typeof be?be:Fe.indexOf(be);this._activeItem=Fe[ae]??null,this._activeItemIndex=ae}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(be){this._wrap?this._setActiveInWrapMode(be):this._setActiveInDefaultMode(be)}_setActiveInWrapMode(be){const Fe=this._getItemsArray();for(let ae=1;ae<=Fe.length;ae++){const ve=(this._activeItemIndex+be*ae+Fe.length)%Fe.length;if(!this._skipPredicateFn(Fe[ve]))return void this.setActiveItem(ve)}}_setActiveInDefaultMode(be){this._setActiveItemByIndex(this._activeItemIndex+be,be)}_setActiveItemByIndex(be,Fe){const ae=this._getItemsArray();if(ae[be]){for(;this._skipPredicateFn(ae[be]);)if(!ae[be+=Fe])return;this.setActiveItem(be)}}_getItemsArray(){return(0,n.Hps)(this._items)?this._items():this._items instanceof n.rOR?this._items.toArray():this._items}_itemsChanged(be){if(this._activeItem){const Fe=be.indexOf(this._activeItem);Fe>-1&&Fe!==this._activeItemIndex&&(this._activeItemIndex=Fe)}}}class te extends J{setActiveItem(be){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(be),this.activeItem&&this.activeItem.setActiveStyles()}}class ne extends J{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(be){return this._origin=be,this}setActiveItem(be){super.setActiveItem(be),this.activeItem&&this.activeItem.focus(this._origin)}}let k=(()=>{class ut{constructor(Fe){this._platform=Fe}isDisabled(Fe){return Fe.hasAttribute("disabled")}isVisible(Fe){return function W(ut){return!!(ut.offsetWidth||ut.offsetHeight||"function"==typeof ut.getClientRects&&ut.getClientRects().length)}(Fe)&&"visible"===getComputedStyle(Fe).visibility}isTabbable(Fe){if(!this._platform.isBrowser)return!1;const ae=function j(ut){try{return ut.frameElement}catch{return null}}(function Me(ut){return ut.ownerDocument&&ut.ownerDocument.defaultView||window}(Fe));if(ae&&(-1===we(ae)||!this.isVisible(ae)))return!1;let ve=Fe.nodeName.toLowerCase(),ze=we(Fe);return Fe.hasAttribute("contenteditable")?-1!==ze:!("iframe"===ve||"object"===ve||this._platform.WEBKIT&&this._platform.IOS&&!function We(ut){let be=ut.nodeName.toLowerCase(),Fe="input"===be&&ut.type;return"text"===Fe||"password"===Fe||"select"===be||"textarea"===be}(Fe))&&("audio"===ve?!!Fe.hasAttribute("controls")&&-1!==ze:"video"===ve?-1!==ze&&(null!==ze||this._platform.FIREFOX||Fe.hasAttribute("controls")):Fe.tabIndex>=0)}isFocusable(Fe,ae){return function Xe(ut){return!function ce(ut){return function me(ut){return"input"==ut.nodeName.toLowerCase()}(ut)&&"hidden"==ut.type}(ut)&&(function ie(ut){let be=ut.nodeName.toLowerCase();return"input"===be||"select"===be||"button"===be||"textarea"===be}(ut)||function oe(ut){return function he(ut){return"a"==ut.nodeName.toLowerCase()}(ut)&&ut.hasAttribute("href")}(ut)||ut.hasAttribute("contenteditable")||Oe(ut))}(Fe)&&!this.isDisabled(Fe)&&(ae?.ignoreVisibility||this.isVisible(Fe))}static#e=this.\u0275fac=function(ae){return new(ae||ut)(n.KVO(l.OD))};static#t=this.\u0275prov=n.jDH({token:ut,factory:ut.\u0275fac,providedIn:"root"})}return ut})();function Oe(ut){if(!ut.hasAttribute("tabindex")||void 0===ut.tabIndex)return!1;let be=ut.getAttribute("tabindex");return!(!be||isNaN(parseInt(be,10)))}function we(ut){if(!Oe(ut))return null;const be=parseInt(ut.getAttribute("tabindex")||"",10);return isNaN(be)?-1:be}class ge{get enabled(){return this._enabled}set enabled(be){this._enabled=be,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(be,this._startAnchor),this._toggleAnchorTabIndex(be,this._endAnchor))}constructor(be,Fe,ae,ve,ze=!1,vt){this._element=be,this._checker=Fe,this._ngZone=ae,this._document=ve,this._injector=vt,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,ze||this.attachAnchors()}destroy(){const be=this._startAnchor,Fe=this._endAnchor;be&&(be.removeEventListener("focus",this.startAnchorListener),be.remove()),Fe&&(Fe.removeEventListener("focus",this.endAnchorListener),Fe.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(be){return new Promise(Fe=>{this._executeOnStable(()=>Fe(this.focusInitialElement(be)))})}focusFirstTabbableElementWhenReady(be){return new Promise(Fe=>{this._executeOnStable(()=>Fe(this.focusFirstTabbableElement(be)))})}focusLastTabbableElementWhenReady(be){return new Promise(Fe=>{this._executeOnStable(()=>Fe(this.focusLastTabbableElement(be)))})}_getRegionBoundary(be){const Fe=this._element.querySelectorAll(`[cdk-focus-region-${be}], [cdkFocusRegion${be}], [cdk-focus-${be}]`);return"start"==be?Fe.length?Fe[0]:this._getFirstTabbableElement(this._element):Fe.length?Fe[Fe.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(be){const Fe=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Fe){if(!this._checker.isFocusable(Fe)){const ae=this._getFirstTabbableElement(Fe);return ae?.focus(be),!!ae}return Fe.focus(be),!0}return this.focusFirstTabbableElement(be)}focusFirstTabbableElement(be){const Fe=this._getRegionBoundary("start");return Fe&&Fe.focus(be),!!Fe}focusLastTabbableElement(be){const Fe=this._getRegionBoundary("end");return Fe&&Fe.focus(be),!!Fe}hasAttached(){return this._hasAttached}_getFirstTabbableElement(be){if(this._checker.isFocusable(be)&&this._checker.isTabbable(be))return be;const Fe=be.children;for(let ae=0;ae<Fe.length;ae++){const ve=Fe[ae].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Fe[ae]):null;if(ve)return ve}return null}_getLastTabbableElement(be){if(this._checker.isFocusable(be)&&this._checker.isTabbable(be))return be;const Fe=be.children;for(let ae=Fe.length-1;ae>=0;ae--){const ve=Fe[ae].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Fe[ae]):null;if(ve)return ve}return null}_createAnchor(){const be=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,be),be.classList.add("cdk-visually-hidden"),be.classList.add("cdk-focus-trap-anchor"),be.setAttribute("aria-hidden","true"),be}_toggleAnchorTabIndex(be,Fe){be?Fe.setAttribute("tabindex","0"):Fe.removeAttribute("tabindex")}toggleAnchors(be){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(be,this._startAnchor),this._toggleAnchorTabIndex(be,this._endAnchor))}_executeOnStable(be){this._injector?(0,n.mal)(be,{injector:this._injector}):setTimeout(be)}}let pe=(()=>{class ut{constructor(Fe,ae,ve){this._checker=Fe,this._ngZone=ae,this._injector=(0,n.WQX)(n.zZn),this._document=ve}create(Fe,ae=!1){return new ge(Fe,this._checker,this._ngZone,this._document,ae,this._injector)}static#e=this.\u0275fac=function(ae){return new(ae||ut)(n.KVO(k),n.KVO(n.SKi),n.KVO(e.qQ))};static#t=this.\u0275prov=n.jDH({token:ut,factory:ut.\u0275fac,providedIn:"root"})}return ut})(),Ee=(()=>{class ut{get enabled(){return this.focusTrap?.enabled||!1}set enabled(Fe){this.focusTrap&&(this.focusTrap.enabled=Fe)}constructor(Fe,ae,ve){this._elementRef=Fe,this._focusTrapFactory=ae,this._previouslyFocusedElement=null,(0,n.WQX)(l.OD).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(Fe){const ae=Fe.autoCapture;ae&&!ae.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,l.vc)(),this.focusTrap?.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(ae){return new(ae||ut)(n.rXU(n.aKT),n.rXU(pe),n.rXU(e.qQ))};static#t=this.\u0275dir=n.FsC({type:ut,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",n.L39],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",n.L39]},exportAs:["cdkTrapFocus"],standalone:!0,features:[n.GFd,n.OA$]})}return ut})();function Pt(ut){return 0===ut.buttons||0===ut.detail}function yt(ut){const be=ut.touches&&ut.touches[0]||ut.changedTouches&&ut.changedTouches[0];return!(!be||-1!==be.identifier||null!=be.radiusX&&1!==be.radiusX||null!=be.radiusY&&1!==be.radiusY)}const Le=new n.nKC("cdk-input-modality-detector-options"),De={ignoreKeys:[b.A$,b.W3,b.eg,b.Ge,b.FX]},ue=(0,l.BQ)({passive:!0,capture:!0});let Q=(()=>{class ut{get mostRecentModality(){return this._modality.value}constructor(Fe,ae,ve,ze){this._platform=Fe,this._mostRecentTarget=null,this._modality=new p.t(null),this._lastTouchMs=0,this._onKeydown=vt=>{this._options?.ignoreKeys?.some(Ue=>Ue===vt.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,l.Fb)(vt))},this._onMousedown=vt=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Pt(vt)?"keyboard":"mouse"),this._mostRecentTarget=(0,l.Fb)(vt))},this._onTouchstart=vt=>{yt(vt)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,l.Fb)(vt))},this._options={...De,...ze},this.modalityDetected=this._modality.pipe((0,v.i)(1)),this.modalityChanged=this.modalityDetected.pipe((0,O.F)()),Fe.isBrowser&&ae.runOutsideAngular(()=>{ve.addEventListener("keydown",this._onKeydown,ue),ve.addEventListener("mousedown",this._onMousedown,ue),ve.addEventListener("touchstart",this._onTouchstart,ue)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ue),document.removeEventListener("mousedown",this._onMousedown,ue),document.removeEventListener("touchstart",this._onTouchstart,ue))}static#e=this.\u0275fac=function(ae){return new(ae||ut)(n.KVO(l.OD),n.KVO(n.SKi),n.KVO(e.qQ),n.KVO(Le,8))};static#t=this.\u0275prov=n.jDH({token:ut,factory:ut.\u0275fac,providedIn:"root"})}return ut})();const Te=new n.nKC("liveAnnouncerElement",{providedIn:"root",factory:function Je(){return null}}),Nt=new n.nKC("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let qt=0,hn=(()=>{class ut{constructor(Fe,ae,ve,ze){this._ngZone=ae,this._defaultOptions=ze,this._document=ve,this._liveElement=Fe||this._createLiveElement()}announce(Fe,...ae){const ve=this._defaultOptions;let ze,vt;return 1===ae.length&&"number"==typeof ae[0]?vt=ae[0]:[ze,vt]=ae,this.clear(),clearTimeout(this._previousTimeout),ze||(ze=ve&&ve.politeness?ve.politeness:"polite"),null==vt&&ve&&(vt=ve.duration),this._liveElement.setAttribute("aria-live",ze),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(Ue=>this._currentResolve=Ue)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=Fe,"number"==typeof vt&&(this._previousTimeout=setTimeout(()=>this.clear(),vt)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const Fe="cdk-live-announcer-element",ae=this._document.getElementsByClassName(Fe),ve=this._document.createElement("div");for(let ze=0;ze<ae.length;ze++)ae[ze].remove();return ve.classList.add(Fe),ve.classList.add("cdk-visually-hidden"),ve.setAttribute("aria-atomic","true"),ve.setAttribute("aria-live","polite"),ve.id="cdk-live-announcer-"+qt++,this._document.body.appendChild(ve),ve}_exposeAnnouncerToModals(Fe){const ae=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let ve=0;ve<ae.length;ve++){const ze=ae[ve],vt=ze.getAttribute("aria-owns");vt?-1===vt.indexOf(Fe)&&ze.setAttribute("aria-owns",vt+" "+Fe):ze.setAttribute("aria-owns",Fe)}}static#e=this.\u0275fac=function(ae){return new(ae||ut)(n.KVO(Te,8),n.KVO(n.SKi),n.KVO(e.qQ),n.KVO(Nt,8))};static#t=this.\u0275prov=n.jDH({token:ut,factory:ut.\u0275fac,providedIn:"root"})}return ut})();var Zt=function(ut){return ut[ut.IMMEDIATE=0]="IMMEDIATE",ut[ut.EVENTUAL=1]="EVENTUAL",ut}(Zt||{});const ft=new n.nKC("cdk-focus-monitor-default-options"),lt=(0,l.BQ)({passive:!0,capture:!0});let Ft=(()=>{class ut{constructor(Fe,ae,ve,ze,vt){this._ngZone=Fe,this._platform=ae,this._inputModalityDetector=ve,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new h.B7,this._rootNodeFocusAndBlurListener=Ue=>{for(let Ke=(0,l.Fb)(Ue);Ke;Ke=Ke.parentElement)"focus"===Ue.type?this._onFocus(Ue,Ke):this._onBlur(Ue,Ke)},this._document=ze,this._detectionMode=vt?.detectionMode||Zt.IMMEDIATE}monitor(Fe,ae=!1){const ve=(0,M.i8)(Fe);if(!this._platform.isBrowser||1!==ve.nodeType)return(0,f.of)();const ze=(0,l.KT)(ve)||this._getDocument(),vt=this._elementInfo.get(ve);if(vt)return ae&&(vt.checkChildren=!0),vt.subject;const Ue={checkChildren:ae,subject:new h.B7,rootNode:ze};return this._elementInfo.set(ve,Ue),this._registerGlobalListeners(Ue),Ue.subject}stopMonitoring(Fe){const ae=(0,M.i8)(Fe),ve=this._elementInfo.get(ae);ve&&(ve.subject.complete(),this._setClasses(ae),this._elementInfo.delete(ae),this._removeGlobalListeners(ve))}focusVia(Fe,ae,ve){const ze=(0,M.i8)(Fe);ze===this._getDocument().activeElement?this._getClosestElementsInfo(ze).forEach(([Ue,Pe])=>this._originChanged(Ue,ae,Pe)):(this._setOrigin(ae),"function"==typeof ze.focus&&ze.focus(ve))}ngOnDestroy(){this._elementInfo.forEach((Fe,ae)=>this.stopMonitoring(ae))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Fe){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Fe)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:Fe&&this._isLastInteractionFromInputLabel(Fe)?"mouse":"program"}_shouldBeAttributedToTouch(Fe){return this._detectionMode===Zt.EVENTUAL||!!Fe?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(Fe,ae){Fe.classList.toggle("cdk-focused",!!ae),Fe.classList.toggle("cdk-touch-focused","touch"===ae),Fe.classList.toggle("cdk-keyboard-focused","keyboard"===ae),Fe.classList.toggle("cdk-mouse-focused","mouse"===ae),Fe.classList.toggle("cdk-program-focused","program"===ae)}_setOrigin(Fe,ae=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Fe,this._originFromTouchInteraction="touch"===Fe&&ae,this._detectionMode===Zt.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Fe,ae){const ve=this._elementInfo.get(ae),ze=(0,l.Fb)(Fe);!ve||!ve.checkChildren&&ae!==ze||this._originChanged(ae,this._getFocusOrigin(ze),ve)}_onBlur(Fe,ae){const ve=this._elementInfo.get(ae);!ve||ve.checkChildren&&Fe.relatedTarget instanceof Node&&ae.contains(Fe.relatedTarget)||(this._setClasses(ae),this._emitOrigin(ve,null))}_emitOrigin(Fe,ae){Fe.subject.observers.length&&this._ngZone.run(()=>Fe.subject.next(ae))}_registerGlobalListeners(Fe){if(!this._platform.isBrowser)return;const ae=Fe.rootNode,ve=this._rootNodeFocusListenerCount.get(ae)||0;ve||this._ngZone.runOutsideAngular(()=>{ae.addEventListener("focus",this._rootNodeFocusAndBlurListener,lt),ae.addEventListener("blur",this._rootNodeFocusAndBlurListener,lt)}),this._rootNodeFocusListenerCount.set(ae,ve+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,S.Q)(this._stopInputModalityDetector)).subscribe(ze=>{this._setOrigin(ze,!0)}))}_removeGlobalListeners(Fe){const ae=Fe.rootNode;if(this._rootNodeFocusListenerCount.has(ae)){const ve=this._rootNodeFocusListenerCount.get(ae);ve>1?this._rootNodeFocusListenerCount.set(ae,ve-1):(ae.removeEventListener("focus",this._rootNodeFocusAndBlurListener,lt),ae.removeEventListener("blur",this._rootNodeFocusAndBlurListener,lt),this._rootNodeFocusListenerCount.delete(ae))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Fe,ae,ve){this._setClasses(Fe,ae),this._emitOrigin(ve,ae),this._lastFocusOrigin=ae}_getClosestElementsInfo(Fe){const ae=[];return this._elementInfo.forEach((ve,ze)=>{(ze===Fe||ve.checkChildren&&ze.contains(Fe))&&ae.push([ze,ve])}),ae}_isLastInteractionFromInputLabel(Fe){const{_mostRecentTarget:ae,mostRecentModality:ve}=this._inputModalityDetector;if("mouse"!==ve||!ae||ae===Fe||"INPUT"!==Fe.nodeName&&"TEXTAREA"!==Fe.nodeName||Fe.disabled)return!1;const ze=Fe.labels;if(ze)for(let vt=0;vt<ze.length;vt++)if(ze[vt].contains(ae))return!0;return!1}static#e=this.\u0275fac=function(ae){return new(ae||ut)(n.KVO(n.SKi),n.KVO(l.OD),n.KVO(Q),n.KVO(e.qQ,8),n.KVO(ft,8))};static#t=this.\u0275prov=n.jDH({token:ut,factory:ut.\u0275fac,providedIn:"root"})}return ut})(),Ct=(()=>{class ut{constructor(Fe,ae){this._elementRef=Fe,this._focusMonitor=ae,this._focusOrigin=null,this.cdkFocusChange=new n.bkB}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const Fe=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(Fe,1===Fe.nodeType&&Fe.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(ae=>{this._focusOrigin=ae,this.cdkFocusChange.emit(ae)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(ae){return new(ae||ut)(n.rXU(n.aKT),n.rXU(Ft))};static#t=this.\u0275dir=n.FsC({type:ut,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0})}return ut})();var Wt=function(ut){return ut[ut.NONE=0]="NONE",ut[ut.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",ut[ut.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",ut}(Wt||{});const en="cdk-high-contrast-black-on-white",on="cdk-high-contrast-white-on-black",_n="cdk-high-contrast-active";let Sn=(()=>{class ut{constructor(Fe,ae){this._platform=Fe,this._document=ae,this._breakpointSubscription=(0,n.WQX)(w.QP).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Wt.NONE;const Fe=this._document.createElement("div");Fe.style.backgroundColor="rgb(1,2,3)",Fe.style.position="absolute",this._document.body.appendChild(Fe);const ae=this._document.defaultView||window,ve=ae&&ae.getComputedStyle?ae.getComputedStyle(Fe):null,ze=(ve&&ve.backgroundColor||"").replace(/ /g,"");switch(Fe.remove(),ze){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Wt.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Wt.BLACK_ON_WHITE}return Wt.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Fe=this._document.body.classList;Fe.remove(_n,en,on),this._hasCheckedHighContrastMode=!0;const ae=this.getHighContrastMode();ae===Wt.BLACK_ON_WHITE?Fe.add(_n,en):ae===Wt.WHITE_ON_BLACK&&Fe.add(_n,on)}}static#e=this.\u0275fac=function(ae){return new(ae||ut)(n.KVO(l.OD),n.KVO(e.qQ))};static#t=this.\u0275prov=n.jDH({token:ut,factory:ut.\u0275fac,providedIn:"root"})}return ut})(),Zn=(()=>{class ut{constructor(Fe){Fe._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(ae){return new(ae||ut)(n.KVO(Sn))};static#t=this.\u0275mod=n.$C({type:ut});static#n=this.\u0275inj=n.G2t({imports:[P.w5]})}return ut})()},8203:(gt,re,o)=>{"use strict";o.d(re,{dS:()=>f,jI:()=>d});var e=o(3953),n=o(177);const l=new e.nKC("cdk-dir-doc",{providedIn:"root",factory:function h(){return(0,e.WQX)(n.qQ)}}),g=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let f=(()=>{class y{constructor(m){this.value="ltr",this.change=new e.bkB,m&&(this.value=function p(y){const R=y?.toLowerCase()||"";return"auto"===R&&typeof navigator<"u"&&navigator?.language?g.test(navigator.language)?"rtl":"ltr":"rtl"===R?"rtl":"ltr"}((m.body?m.body.dir:null)||(m.documentElement?m.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(v){return new(v||y)(e.KVO(l,8))};static#t=this.\u0275prov=e.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})(),d=(()=>{class y{static#e=this.\u0275fac=function(v){return new(v||y)};static#t=this.\u0275mod=e.$C({type:y});static#n=this.\u0275inj=e.G2t({})}return y})()},3801:(gt,re,o)=>{"use strict";o.d(re,{B0:()=>h,FQ:()=>f});var e=o(177),n=o(3953);class l{constructor(d,y){this._document=y;const R=this._textarea=this._document.createElement("textarea"),m=R.style;m.position="fixed",m.top=m.opacity="0",m.left="-999em",R.setAttribute("aria-hidden","true"),R.value=d,R.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(R)}copy(){const d=this._textarea;let y=!1;try{if(d){const R=this._document.activeElement;d.select(),d.setSelectionRange(0,d.value.length),y=this._document.execCommand("copy"),R&&R.focus()}}catch{}return y}destroy(){const d=this._textarea;d&&(d.remove(),this._textarea=void 0)}}let h=(()=>{class b{constructor(y){this._document=y}copy(y){const R=this.beginCopy(y),m=R.copy();return R.destroy(),m}beginCopy(y){return new l(y,this._document)}static#e=this.\u0275fac=function(R){return new(R||b)(n.KVO(e.qQ))};static#t=this.\u0275prov=n.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})(),f=(()=>{class b{static#e=this.\u0275fac=function(R){return new(R||b)};static#t=this.\u0275mod=n.$C({type:b});static#n=this.\u0275inj=n.G2t({})}return b})()},4085:(gt,re,o)=>{"use strict";o.d(re,{FG:()=>g,OE:()=>l,a1:()=>p,cc:()=>b,he:()=>n,i8:()=>f,o1:()=>h});var e=o(3953);function n(d){return null!=d&&"false"!=`${d}`}function l(d,y=0){return h(d)?Number(d):y}function h(d){return!isNaN(parseFloat(d))&&!isNaN(Number(d))}function g(d){return Array.isArray(d)?d:[d]}function p(d){return null==d?"":"string"==typeof d?d:`${d}px`}function f(d){return d instanceof e.aKT?d.nativeElement:d}function b(d,y=/\s+/){const R=[];if(null!=d){const m=Array.isArray(d)?d:`${d}`.split(y);for(const v of m){const O=`${v}`.trim();O&&R.push(O)}}return R}},5024:(gt,re,o)=>{"use strict";o.d(re,{CB:()=>v,DQ:()=>m,Q3:()=>d,hx:()=>b,qS:()=>p,sL:()=>y,xn:()=>R,y4:()=>f,zP:()=>S});var e=o(4725),n=o(8982),l=o(4421),h=o(5286),g=o(3953);class p{}function f(P){return P&&"function"==typeof P.connect&&!(P instanceof e.G)}class b extends p{constructor(M){super(),this._data=M}connect(){return(0,n.A)(this._data)?this._data:(0,l.of)(this._data)}disconnect(){}}var d=function(P){return P[P.REPLACED=0]="REPLACED",P[P.INSERTED=1]="INSERTED",P[P.MOVED=2]="MOVED",P[P.REMOVED=3]="REMOVED",P}(d||{});const y=new g.nKC("_ViewRepeater");class R{applyChanges(M,w,x,I,_){M.forEachOperation((C,D,A)=>{let B,F;if(null==C.previousIndex){const $=x(C,D,A);B=w.createEmbeddedView($.templateRef,$.context,$.index),F=d.INSERTED}else null==A?(w.remove(D),F=d.REMOVED):(B=w.get(D),w.move(B,A),F=d.MOVED);_&&_({context:B?.context,operation:F,record:C})})}detach(){}}class m{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(M,w,x,I,_){M.forEachOperation((C,D,A)=>{let B,F;null==C.previousIndex?(B=this._insertView(()=>x(C,D,A),A,w,I(C)),F=B?d.INSERTED:d.REPLACED):null==A?(this._detachAndCacheView(D,w),F=d.REMOVED):(B=this._moveView(D,A,w,I(C)),F=d.MOVED),_&&_({context:B?.context,operation:F,record:C})})}detach(){for(const M of this._viewCache)M.destroy();this._viewCache=[]}_insertView(M,w,x,I){const _=this._insertViewFromCache(w,x);if(_)return void(_.context.$implicit=I);const C=M();return x.createEmbeddedView(C.templateRef,C.context,C.index)}_detachAndCacheView(M,w){const x=w.detach(M);this._maybeCacheView(x,w)}_moveView(M,w,x,I){const _=x.get(M);return x.move(_,w),_.context.$implicit=I,_}_maybeCacheView(M,w){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(M);else{const x=w.indexOf(M);-1===x?M.destroy():w.remove(x)}}_insertViewFromCache(M,w){const x=this._viewCache.pop();return x&&w.insert(x,M),x||null}}class v{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(M=!1,w,x=!0,I){this._multiple=M,this._emitChanges=x,this.compareWith=I,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new h.B7,w&&w.length&&(M?w.forEach(_=>this._markSelected(_)):this._markSelected(w[0]),this._selectedToEmit.length=0)}select(...M){this._verifyValueAssignment(M),M.forEach(x=>this._markSelected(x));const w=this._hasQueuedChanges();return this._emitChangeEvent(),w}deselect(...M){this._verifyValueAssignment(M),M.forEach(x=>this._unmarkSelected(x));const w=this._hasQueuedChanges();return this._emitChangeEvent(),w}setSelection(...M){this._verifyValueAssignment(M);const w=this.selected,x=new Set(M);M.forEach(_=>this._markSelected(_)),w.filter(_=>!x.has(this._getConcreteValue(_,x))).forEach(_=>this._unmarkSelected(_));const I=this._hasQueuedChanges();return this._emitChangeEvent(),I}toggle(M){return this.isSelected(M)?this.deselect(M):this.select(M)}clear(M=!0){this._unmarkAll();const w=this._hasQueuedChanges();return M&&this._emitChangeEvent(),w}isSelected(M){return this._selection.has(this._getConcreteValue(M))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(M){this._multiple&&this.selected&&this._selected.sort(M)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(M){M=this._getConcreteValue(M),this.isSelected(M)||(this._multiple||this._unmarkAll(),this.isSelected(M)||this._selection.add(M),this._emitChanges&&this._selectedToEmit.push(M))}_unmarkSelected(M){M=this._getConcreteValue(M),this.isSelected(M)&&(this._selection.delete(M),this._emitChanges&&this._deselectedToEmit.push(M))}_unmarkAll(){this.isEmpty()||this._selection.forEach(M=>this._unmarkSelected(M))}_verifyValueAssignment(M){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(M,w){if(this.compareWith){w=w??this._selection;for(let x of w)if(this.compareWith(M,x))return x;return M}return M}}let S=(()=>{class P{constructor(){this._listeners=[]}notify(w,x){for(let I of this._listeners)I(w,x)}listen(w){return this._listeners.push(w),()=>{this._listeners=this._listeners.filter(x=>w!==x)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(x){return new(x||P)};static#t=this.\u0275prov=g.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})()},2529:(gt,re,o)=>{"use strict";o.d(re,{Pe:()=>O,Ph:()=>F,lG:()=>A,sU:()=>P});var e=o(8617),n=o(7987),l=o(6860),h=o(6939),g=o(177),p=o(3953),f=o(7336),b=o(5286),d=o(9418),y=o(4421),R=o(8203),m=o(3176);function v($,U){}class O{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let P=(()=>{class $ extends h.lb{constructor(G,J,te,ne,K,k,j,W){super(),this._elementRef=G,this._focusTrapFactory=J,this._config=ne,this._interactivityChecker=K,this._ngZone=k,this._overlayRef=j,this._focusMonitor=W,this._platform=(0,p.WQX)(l.OD),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=(0,p.WQX)(p.gRc),this._injector=(0,p.WQX)(p.zZn),this._isDestroyed=!1,this.attachDomPortal=ie=>{this._portalOutlet.hasAttached();const ce=this._portalOutlet.attachDomPortal(ie);return this._contentAttached(),ce},this._document=te,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(G){this._ariaLabelledByQueue.push(G),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(G){const J=this._ariaLabelledByQueue.indexOf(G);J>-1&&(this._ariaLabelledByQueue.splice(J,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(G){this._portalOutlet.hasAttached();const J=this._portalOutlet.attachComponentPortal(G);return this._contentAttached(),J}attachTemplatePortal(G){this._portalOutlet.hasAttached();const J=this._portalOutlet.attachTemplatePortal(G);return this._contentAttached(),J}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(G,J){this._interactivityChecker.isFocusable(G)||(G.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const te=()=>{G.removeEventListener("blur",te),G.removeEventListener("mousedown",te),G.removeAttribute("tabindex")};G.addEventListener("blur",te),G.addEventListener("mousedown",te)})),G.focus(J)}_focusByCssSelector(G,J){let te=this._elementRef.nativeElement.querySelector(G);te&&this._forceFocus(te,J)}_trapFocus(){this._isDestroyed||(0,p.mal)(()=>{const G=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||G.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}},{injector:this._injector})}_restoreFocus(){const G=this._config.restoreFocus;let J=null;if("string"==typeof G?J=this._document.querySelector(G):"boolean"==typeof G?J=G?this._elementFocusedBeforeDialogWasOpened:null:G&&(J=G),this._config.restoreFocus&&J&&"function"==typeof J.focus){const te=(0,l.vc)(),ne=this._elementRef.nativeElement;(!te||te===this._document.body||te===ne||ne.contains(te))&&(this._focusMonitor?(this._focusMonitor.focusVia(J,this._closeInteractionType),this._closeInteractionType=null):J.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const G=this._elementRef.nativeElement,J=(0,l.vc)();return G===J||G.contains(J)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,l.vc)()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(J){return new(J||$)(p.rXU(p.aKT),p.rXU(e.GX),p.rXU(g.qQ,8),p.rXU(O),p.rXU(e.Z7),p.rXU(p.SKi),p.rXU(n.yY),p.rXU(e.FN))};static#t=this.\u0275cmp=p.VBU({type:$,selectors:[["cdk-dialog-container"]],viewQuery:function(J,te){if(1&J&&p.GBs(h.I3,7),2&J){let ne;p.mGM(ne=p.lsd())&&(te._portalOutlet=ne.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(J,te){2&J&&p.BMQ("id",te._config.id||null)("role",te._config.role)("aria-modal",te._config.ariaModal)("aria-labelledby",te._config.ariaLabel?null:te._ariaLabelledByQueue[0])("aria-label",te._config.ariaLabel)("aria-describedby",te._config.ariaDescribedBy||null)},standalone:!0,features:[p.Vt3,p.aNF],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(J,te){1&J&&p.DNE(0,v,0,0,"ng-template",0)},dependencies:[h.I3],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return $})();class M{constructor(U,G){this.overlayRef=U,this.config=G,this.closed=new b.B7,this.disableClose=G.disableClose,this.backdropClick=U.backdropClick(),this.keydownEvents=U.keydownEvents(),this.outsidePointerEvents=U.outsidePointerEvents(),this.id=G.id,this.keydownEvents.subscribe(J=>{J.keyCode===f._f&&!this.disableClose&&!(0,f.rp)(J)&&(J.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=U.detachments().subscribe(()=>{!1!==G.closeOnOverlayDetachments&&this.close()})}close(U,G){if(this.containerInstance){const J=this.closed;this.containerInstance._closeInteractionType=G?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),J.next(U),J.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(U="",G=""){return this.overlayRef.updateSize({width:U,height:G}),this}addPanelClass(U){return this.overlayRef.addPanelClass(U),this}removePanelClass(U){return this.overlayRef.removePanelClass(U),this}}const w=new p.nKC("DialogScrollStrategy",{providedIn:"root",factory:()=>{const $=(0,p.WQX)(n.hJ);return()=>$.scrollStrategies.block()}}),x=new p.nKC("DialogData"),I=new p.nKC("DefaultDialogConfig");let D=0,A=(()=>{class ${get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(G,J,te,ne,K,k){this._overlay=G,this._injector=J,this._defaultOptions=te,this._parentDialog=ne,this._overlayContainer=K,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new b.B7,this._afterOpenedAtThisLevel=new b.B7,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,d.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,m.Z)(void 0))),this._scrollStrategy=k}open(G,J){(J={...this._defaultOptions||new O,...J}).id=J.id||"cdk-dialog-"+D++,J.id&&this.getDialogById(J.id);const ne=this._getOverlayConfig(J),K=this._overlay.create(ne),k=new M(K,J),j=this._attachContainer(K,k,J);return k.containerInstance=j,this._attachDialogContent(G,k,j,J),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(k),k.closed.subscribe(()=>this._removeOpenDialog(k,!0)),this.afterOpened.next(k),k}closeAll(){B(this.openDialogs,G=>G.close())}getDialogById(G){return this.openDialogs.find(J=>J.id===G)}ngOnDestroy(){B(this._openDialogsAtThisLevel,G=>{!1===G.config.closeOnDestroy&&this._removeOpenDialog(G,!1)}),B(this._openDialogsAtThisLevel,G=>G.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(G){const J=new n.rR({positionStrategy:G.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:G.scrollStrategy||this._scrollStrategy(),panelClass:G.panelClass,hasBackdrop:G.hasBackdrop,direction:G.direction,minWidth:G.minWidth,minHeight:G.minHeight,maxWidth:G.maxWidth,maxHeight:G.maxHeight,width:G.width,height:G.height,disposeOnNavigation:G.closeOnNavigation});return G.backdropClass&&(J.backdropClass=G.backdropClass),J}_attachContainer(G,J,te){const ne=te.injector||te.viewContainerRef?.injector,K=[{provide:O,useValue:te},{provide:M,useValue:J},{provide:n.yY,useValue:G}];let k;te.container?"function"==typeof te.container?k=te.container:(k=te.container.type,K.push(...te.container.providers(te))):k=P;const j=new h.A8(k,te.viewContainerRef,p.zZn.create({parent:ne||this._injector,providers:K}),te.componentFactoryResolver);return G.attach(j).instance}_attachDialogContent(G,J,te,ne){if(G instanceof p.C4Q){const K=this._createInjector(ne,J,te,void 0);let k={$implicit:ne.data,dialogRef:J};ne.templateContext&&(k={...k,..."function"==typeof ne.templateContext?ne.templateContext():ne.templateContext}),te.attachTemplatePortal(new h.VA(G,null,k,K))}else{const K=this._createInjector(ne,J,te,this._injector),k=te.attachComponentPortal(new h.A8(G,ne.viewContainerRef,K,ne.componentFactoryResolver));J.componentRef=k,J.componentInstance=k.instance}}_createInjector(G,J,te,ne){const K=G.injector||G.viewContainerRef?.injector,k=[{provide:x,useValue:G.data},{provide:M,useValue:J}];return G.providers&&("function"==typeof G.providers?k.push(...G.providers(J,G,te)):k.push(...G.providers)),G.direction&&(!K||!K.get(R.dS,null,{optional:!0}))&&k.push({provide:R.dS,useValue:{value:G.direction,change:(0,y.of)()}}),p.zZn.create({parent:K||ne,providers:k})}_removeOpenDialog(G,J){const te=this.openDialogs.indexOf(G);te>-1&&(this.openDialogs.splice(te,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((ne,K)=>{ne?K.setAttribute("aria-hidden",ne):K.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),J&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const G=this._overlayContainer.getContainerElement();if(G.parentElement){const J=G.parentElement.children;for(let te=J.length-1;te>-1;te--){const ne=J[te];ne!==G&&"SCRIPT"!==ne.nodeName&&"STYLE"!==ne.nodeName&&!ne.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(ne,ne.getAttribute("aria-hidden")),ne.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const G=this._parentDialog;return G?G._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(J){return new(J||$)(p.KVO(n.hJ),p.KVO(p.zZn),p.KVO(I,8),p.KVO($,12),p.KVO(n.Sf),p.KVO(w))};static#t=this.\u0275prov=p.jDH({token:$,factory:$.\u0275fac,providedIn:"root"})}return $})();function B($,U){let G=$.length;for(;G--;)U($[G])}let F=(()=>{class ${static#e=this.\u0275fac=function(J){return new(J||$)};static#t=this.\u0275mod=p.$C({type:$});static#n=this.\u0275inj=p.G2t({providers:[A],imports:[n.z_,h.jc,e.Pd,h.jc]})}return $})()},7336:(gt,re,o)=>{"use strict";o.d(re,{A:()=>oe,A$:()=>b,FX:()=>p,Fm:()=>g,G_:()=>n,Ge:()=>qt,KE:()=>Xn,Kp:()=>S,LE:()=>x,SJ:()=>A,UQ:()=>M,W3:()=>f,Z:()=>Nt,_f:()=>R,bn:()=>k,dB:()=>O,eg:()=>Mt,f2:()=>B,i7:()=>w,n6:()=>I,rp:()=>Z,t6:()=>m,w_:()=>v,wn:()=>l,yZ:()=>P});const n=8,l=9,g=13,p=16,f=17,b=18,R=27,m=32,v=33,O=34,S=35,P=36,M=37,w=38,x=39,I=40,A=46,B=48,k=57,oe=65,Nt=90,qt=91,Xn=188,Mt=224;function Z(Ae,...Ve){return Ve.length?Ve.some(_t=>Ae[_t]):Ae.altKey||Ae.shiftKey||Ae.ctrlKey||Ae.metaKey}},9327:(gt,re,o)=>{"use strict";o.d(re,{QP:()=>I,Rp:()=>C});var e=o(3953),n=o(4085),l=o(5286),h=o(9714),g=o(1639),p=o(5817),f=o(9493),b=o(7753),d=o(3020),y=o(5006),R=o(3176),m=o(7605),v=o(6860);const S=new Set;let P,M=(()=>{class D{constructor(B,F){this._platform=B,this._nonce=F,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):x}matchMedia(B){return(this._platform.WEBKIT||this._platform.BLINK)&&function w(D,A){if(!S.has(D))try{P||(P=document.createElement("style"),A&&P.setAttribute("nonce",A),P.setAttribute("type","text/css"),document.head.appendChild(P)),P.sheet&&(P.sheet.insertRule(`@media ${D} {body{ }}`,0),S.add(D))}catch(B){console.error(B)}}(B,this._nonce),this._matchMedia(B)}static#e=this.\u0275fac=function(F){return new(F||D)(e.KVO(v.OD),e.KVO(e.BIS,8))};static#t=this.\u0275prov=e.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();function x(D){return{matches:"all"===D||""===D,media:D,addListener:()=>{},removeListener:()=>{}}}let I=(()=>{class D{constructor(B,F){this._mediaMatcher=B,this._zone=F,this._queries=new Map,this._destroySubject=new l.B7}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(B){return _((0,n.FG)(B)).some($=>this._registerQuery($).mql.matches)}observe(B){const $=_((0,n.FG)(B)).map(G=>this._registerQuery(G).observable);let U=(0,h.zV)($);return U=(0,g.x)(U.pipe((0,f.s)(1)),U.pipe((0,b.i)(1),(0,d.B)(0))),U.pipe((0,y.T)(G=>{const J={matches:!1,breakpoints:{}};return G.forEach(({matches:te,query:ne})=>{J.matches=J.matches||te,J.breakpoints[ne]=te}),J}))}_registerQuery(B){if(this._queries.has(B))return this._queries.get(B);const F=this._mediaMatcher.matchMedia(B),U={observable:new p.c(G=>{const J=te=>this._zone.run(()=>G.next(te));return F.addListener(J),()=>{F.removeListener(J)}}).pipe((0,R.Z)(F),(0,y.T)(({matches:G})=>({query:B,matches:G})),(0,m.Q)(this._destroySubject)),mql:F};return this._queries.set(B,U),U}static#e=this.\u0275fac=function(F){return new(F||D)(e.KVO(M),e.KVO(e.SKi))};static#t=this.\u0275prov=e.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();function _(D){return D.map(A=>A.split(",")).reduce((A,B)=>A.concat(B)).map(A=>A.trim())}const C={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},2318:(gt,re,o)=>{"use strict";o.d(re,{Wv:()=>R,w5:()=>m});var e=o(4085),n=o(3953),l=o(5817),h=o(5286),g=o(5006),p=o(8728),f=o(3020);let d=(()=>{class v{create(S){return typeof MutationObserver>"u"?null:new MutationObserver(S)}static#e=this.\u0275fac=function(P){return new(P||v)};static#t=this.\u0275prov=n.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})(),y=(()=>{class v{constructor(S){this._mutationObserverFactory=S,this._observedElements=new Map,this._ngZone=(0,n.WQX)(n.SKi)}ngOnDestroy(){this._observedElements.forEach((S,P)=>this._cleanupObserver(P))}observe(S){const P=(0,e.i8)(S);return new l.c(M=>{const x=this._observeElement(P).pipe((0,g.T)(I=>I.filter(_=>!function b(v){if("characterData"===v.type&&v.target instanceof Comment)return!0;if("childList"===v.type){for(let O=0;O<v.addedNodes.length;O++)if(!(v.addedNodes[O]instanceof Comment))return!1;for(let O=0;O<v.removedNodes.length;O++)if(!(v.removedNodes[O]instanceof Comment))return!1;return!0}return!1}(_))),(0,p.p)(I=>!!I.length)).subscribe(I=>{this._ngZone.run(()=>{M.next(I)})});return()=>{x.unsubscribe(),this._unobserveElement(P)}})}_observeElement(S){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(S))this._observedElements.get(S).count++;else{const P=new h.B7,M=this._mutationObserverFactory.create(w=>P.next(w));M&&M.observe(S,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(S,{observer:M,stream:P,count:1})}return this._observedElements.get(S).stream})}_unobserveElement(S){this._observedElements.has(S)&&(this._observedElements.get(S).count--,this._observedElements.get(S).count||this._cleanupObserver(S))}_cleanupObserver(S){if(this._observedElements.has(S)){const{observer:P,stream:M}=this._observedElements.get(S);P&&P.disconnect(),M.complete(),this._observedElements.delete(S)}}static#e=this.\u0275fac=function(P){return new(P||v)(n.KVO(d))};static#t=this.\u0275prov=n.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})(),R=(()=>{class v{get disabled(){return this._disabled}set disabled(S){this._disabled=S,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(S){this._debounce=(0,e.OE)(S),this._subscribe()}constructor(S,P){this._contentObserver=S,this._elementRef=P,this.event=new n.bkB,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const S=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?S.pipe((0,f.B)(this.debounce)):S).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#e=this.\u0275fac=function(P){return new(P||v)(n.rXU(y),n.rXU(n.aKT))};static#t=this.\u0275dir=n.FsC({type:v,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",n.L39],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[n.GFd]})}return v})(),m=(()=>{class v{static#e=this.\u0275fac=function(P){return new(P||v)};static#t=this.\u0275mod=n.$C({type:v});static#n=this.\u0275inj=n.G2t({providers:[d]})}return v})()},8170:(gt,re,o)=>{"use strict";o.d(re,{a:()=>d});var e=o(3953),n=o(5286),l=o(5817),h=o(8728),g=o(8712),p=o(7605);class b{constructor(R){this._box=R,this._destroyed=new n.B7,this._resizeSubject=new n.B7,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(m=>this._resizeSubject.next(m)))}observe(R){return this._elementObservables.has(R)||this._elementObservables.set(R,new l.c(m=>{const v=this._resizeSubject.subscribe(m);return this._resizeObserver?.observe(R,{box:this._box}),()=>{this._resizeObserver?.unobserve(R),v.unsubscribe(),this._elementObservables.delete(R)}}).pipe((0,h.p)(m=>m.some(v=>v.target===R)),(0,g.t)({bufferSize:1,refCount:!0}),(0,p.Q)(this._destroyed))),this._elementObservables.get(R)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let d=(()=>{class y{constructor(){this._observers=new Map,this._ngZone=(0,e.WQX)(e.SKi)}ngOnDestroy(){for(const[,m]of this._observers)m.destroy();this._observers.clear()}observe(m,v){const O=v?.box||"content-box";return this._observers.has(O)||this._observers.set(O,new b(O)),this._observers.get(O).observe(m)}static#e=this.\u0275fac=function(v){return new(v||y)};static#t=this.\u0275prov=e.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})()},7987:(gt,re,o)=>{"use strict";o.d(re,{$Q:()=>$e,Sf:()=>k,WB:()=>tt,hJ:()=>Ee,rR:()=>A,rW:()=>ce,yY:()=>j,z_:()=>yt});var e=o(494),n=o(177),l=o(3953),h=o(4085),g=o(6860),p=o(8728),f=o(7605),b=o(1604),d=o(8203),y=o(6939),R=o(5286),m=o(4337),v=o(4670),O=o(7336);const S=(0,g.CZ)();class P{constructor(V,ue){this._viewportRuler=V,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=ue}attach(){}enable(){if(this._canBeEnabled()){const V=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=V.style.left||"",this._previousHTMLStyles.top=V.style.top||"",V.style.left=(0,h.a1)(-this._previousScrollPosition.left),V.style.top=(0,h.a1)(-this._previousScrollPosition.top),V.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const V=this._document.documentElement,Q=V.style,Te=this._document.body.style,Je=Q.scrollBehavior||"",Nt=Te.scrollBehavior||"";this._isEnabled=!1,Q.left=this._previousHTMLStyles.left,Q.top=this._previousHTMLStyles.top,V.classList.remove("cdk-global-scrollblock"),S&&(Q.scrollBehavior=Te.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),S&&(Q.scrollBehavior=Je,Te.scrollBehavior=Nt)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const ue=this._document.body,Q=this._viewportRuler.getViewportSize();return ue.scrollHeight>Q.height||ue.scrollWidth>Q.width}}class w{constructor(V,ue,Q,Te){this._scrollDispatcher=V,this._ngZone=ue,this._viewportRuler=Q,this._config=Te,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(V){this._overlayRef=V}enable(){if(this._scrollSubscription)return;const V=this._scrollDispatcher.scrolled(0).pipe((0,p.p)(ue=>!ue||!this._overlayRef.overlayElement.contains(ue.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=V.subscribe(()=>{const ue=this._viewportRuler.getViewportScrollPosition().top;Math.abs(ue-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=V.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class x{enable(){}disable(){}attach(){}}function I(De,V){return V.some(ue=>De.bottom<ue.top||De.top>ue.bottom||De.right<ue.left||De.left>ue.right)}function _(De,V){return V.some(ue=>De.top<ue.top||De.bottom>ue.bottom||De.left<ue.left||De.right>ue.right)}class C{constructor(V,ue,Q,Te){this._scrollDispatcher=V,this._viewportRuler=ue,this._ngZone=Q,this._config=Te,this._scrollSubscription=null}attach(V){this._overlayRef=V}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const ue=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Q,height:Te}=this._viewportRuler.getViewportSize();I(ue,[{width:Q,height:Te,bottom:Te,right:Q,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let D=(()=>{class De{constructor(ue,Q,Te,Je){this._scrollDispatcher=ue,this._viewportRuler=Q,this._ngZone=Te,this.noop=()=>new x,this.close=Nt=>new w(this._scrollDispatcher,this._ngZone,this._viewportRuler,Nt),this.block=()=>new P(this._viewportRuler,this._document),this.reposition=Nt=>new C(this._scrollDispatcher,this._viewportRuler,this._ngZone,Nt),this._document=Je}static#e=this.\u0275fac=function(Q){return new(Q||De)(l.KVO(e.R),l.KVO(e.Xj),l.KVO(l.SKi),l.KVO(n.qQ))};static#t=this.\u0275prov=l.jDH({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})();class A{constructor(V){if(this.scrollStrategy=new x,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,V){const ue=Object.keys(V);for(const Q of ue)void 0!==V[Q]&&(this[Q]=V[Q])}}}class ${constructor(V,ue){this.connectionPair=V,this.scrollableViewProperties=ue}}let J=(()=>{class De{constructor(ue){this._attachedOverlays=[],this._document=ue}ngOnDestroy(){this.detach()}add(ue){this.remove(ue),this._attachedOverlays.push(ue)}remove(ue){const Q=this._attachedOverlays.indexOf(ue);Q>-1&&this._attachedOverlays.splice(Q,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(Q){return new(Q||De)(l.KVO(n.qQ))};static#t=this.\u0275prov=l.jDH({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})(),te=(()=>{class De extends J{constructor(ue,Q){super(ue),this._ngZone=Q,this._keydownListener=Te=>{const Je=this._attachedOverlays;for(let Nt=Je.length-1;Nt>-1;Nt--)if(Je[Nt]._keydownEvents.observers.length>0){const qt=Je[Nt]._keydownEvents;this._ngZone?this._ngZone.run(()=>qt.next(Te)):qt.next(Te);break}}}add(ue){super.add(ue),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(Q){return new(Q||De)(l.KVO(n.qQ),l.KVO(l.SKi,8))};static#t=this.\u0275prov=l.jDH({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})(),ne=(()=>{class De extends J{constructor(ue,Q,Te){super(ue),this._platform=Q,this._ngZone=Te,this._cursorStyleIsSet=!1,this._pointerDownListener=Je=>{this._pointerDownEventTarget=(0,g.Fb)(Je)},this._clickListener=Je=>{const Nt=(0,g.Fb)(Je),qt="click"===Je.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Nt;this._pointerDownEventTarget=null;const hn=this._attachedOverlays.slice();for(let wt=hn.length-1;wt>-1;wt--){const Zt=hn[wt];if(Zt._outsidePointerEvents.observers.length<1||!Zt.hasAttached())continue;if(K(Zt.overlayElement,Nt)||K(Zt.overlayElement,qt))break;const ft=Zt._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>ft.next(Je)):ft.next(Je)}}}add(ue){if(super.add(ue),!this._isAttached){const Q=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(Q)):this._addEventListeners(Q),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Q.style.cursor,Q.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const ue=this._document.body;ue.removeEventListener("pointerdown",this._pointerDownListener,!0),ue.removeEventListener("click",this._clickListener,!0),ue.removeEventListener("auxclick",this._clickListener,!0),ue.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(ue.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(ue){ue.addEventListener("pointerdown",this._pointerDownListener,!0),ue.addEventListener("click",this._clickListener,!0),ue.addEventListener("auxclick",this._clickListener,!0),ue.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(Q){return new(Q||De)(l.KVO(n.qQ),l.KVO(g.OD),l.KVO(l.SKi,8))};static#t=this.\u0275prov=l.jDH({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})();function K(De,V){const ue=typeof ShadowRoot<"u"&&ShadowRoot;let Q=V;for(;Q;){if(Q===De)return!0;Q=ue&&Q instanceof ShadowRoot?Q.host:Q.parentNode}return!1}let k=(()=>{class De{constructor(ue,Q){this._platform=Q,this._document=ue}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const ue="cdk-overlay-container";if(this._platform.isBrowser||(0,g.v8)()){const Te=this._document.querySelectorAll(`.${ue}[platform="server"], .${ue}[platform="test"]`);for(let Je=0;Je<Te.length;Je++)Te[Je].remove()}const Q=this._document.createElement("div");Q.classList.add(ue),(0,g.v8)()?Q.setAttribute("platform","test"):this._platform.isBrowser||Q.setAttribute("platform","server"),this._document.body.appendChild(Q),this._containerElement=Q}static#e=this.\u0275fac=function(Q){return new(Q||De)(l.KVO(n.qQ),l.KVO(g.OD))};static#t=this.\u0275prov=l.jDH({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})();class j{constructor(V,ue,Q,Te,Je,Nt,qt,hn,wt,Zt=!1,ft){this._portalOutlet=V,this._host=ue,this._pane=Q,this._config=Te,this._ngZone=Je,this._keyboardDispatcher=Nt,this._document=qt,this._location=hn,this._outsideClickDispatcher=wt,this._animationsDisabled=Zt,this._injector=ft,this._backdropElement=null,this._backdropClick=new R.B7,this._attachments=new R.B7,this._detachments=new R.B7,this._locationChanges=m.y.EMPTY,this._backdropClickHandler=lt=>this._backdropClick.next(lt),this._backdropTransitionendHandler=lt=>{this._disposeBackdrop(lt.target)},this._keydownEvents=new R.B7,this._outsidePointerEvents=new R.B7,this._renders=new R.B7,Te.scrollStrategy&&(this._scrollStrategy=Te.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=Te.positionStrategy,this._afterRenderRef=(0,l.O8t)(()=>(0,l.Tzd)(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(V){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const ue=this._portalOutlet.attach(V);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),(0,l.mal)(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof ue?.onDestroy&&ue.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),ue}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const V=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),V}dispose(){const V=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,V&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(V){V!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=V,this.hasAttached()&&(V.attach(this),this.updatePosition()))}updateSize(V){this._config={...this._config,...V},this._updateElementSize()}setDirection(V){this._config={...this._config,direction:V},this._updateElementDirection()}addPanelClass(V){this._pane&&this._toggleClasses(this._pane,V,!0)}removePanelClass(V){this._pane&&this._toggleClasses(this._pane,V,!1)}getDirection(){const V=this._config.direction;return V?"string"==typeof V?V:V.value:"ltr"}updateScrollStrategy(V){V!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=V,this.hasAttached()&&(V.attach(this),V.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const V=this._pane.style;V.width=(0,h.a1)(this._config.width),V.height=(0,h.a1)(this._config.height),V.minWidth=(0,h.a1)(this._config.minWidth),V.minHeight=(0,h.a1)(this._config.minHeight),V.maxWidth=(0,h.a1)(this._config.maxWidth),V.maxHeight=(0,h.a1)(this._config.maxHeight)}_togglePointerEvents(V){this._pane.style.pointerEvents=V?"":"none"}_attachBackdrop(){const V="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(V)})}):this._backdropElement.classList.add(V)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const V=this._backdropElement;if(V){if(this._animationsDisabled)return void this._disposeBackdrop(V);V.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{V.addEventListener("transitionend",this._backdropTransitionendHandler)}),V.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(V)},500))}}_toggleClasses(V,ue,Q){const Te=(0,h.FG)(ue||[]).filter(Je=>!!Je);Te.length&&(Q?V.classList.add(...Te):V.classList.remove(...Te))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const V=this._renders.pipe((0,f.Q)((0,v.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),V.unsubscribe())})})}_disposeScrollStrategy(){const V=this._scrollStrategy;V&&(V.disable(),V.detach&&V.detach())}_disposeBackdrop(V){V&&(V.removeEventListener("click",this._backdropClickHandler),V.removeEventListener("transitionend",this._backdropTransitionendHandler),V.remove(),this._backdropElement===V&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const W="cdk-overlay-connected-position-bounding-box",ie=/([A-Za-z%]+)$/;class ce{get positions(){return this._preferredPositions}constructor(V,ue,Q,Te,Je){this._viewportRuler=ue,this._document=Q,this._platform=Te,this._overlayContainer=Je,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new R.B7,this._resizeSubscription=m.y.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(V)}attach(V){this._validatePositions(),V.hostElement.classList.add(W),this._overlayRef=V,this._boundingBox=V.hostElement,this._pane=V.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const V=this._originRect,ue=this._overlayRect,Q=this._viewportRect,Te=this._containerRect,Je=[];let Nt;for(let qt of this._preferredPositions){let hn=this._getOriginPoint(V,Te,qt),wt=this._getOverlayPoint(hn,ue,qt),Zt=this._getOverlayFit(wt,ue,Q,qt);if(Zt.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(qt,hn);this._canFitWithFlexibleDimensions(Zt,wt,Q)?Je.push({position:qt,origin:hn,overlayRect:ue,boundingBoxRect:this._calculateBoundingBoxRect(hn,qt)}):(!Nt||Nt.overlayFit.visibleArea<Zt.visibleArea)&&(Nt={overlayFit:Zt,overlayPoint:wt,originPoint:hn,position:qt,overlayRect:ue})}if(Je.length){let qt=null,hn=-1;for(const wt of Je){const Zt=wt.boundingBoxRect.width*wt.boundingBoxRect.height*(wt.position.weight||1);Zt>hn&&(hn=Zt,qt=wt)}return this._isPushed=!1,void this._applyPosition(qt.position,qt.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Nt.position,Nt.originPoint);this._applyPosition(Nt.position,Nt.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&oe(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(W),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const V=this._lastPosition;if(V){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ue=this._getOriginPoint(this._originRect,this._containerRect,V);this._applyPosition(V,ue)}else this.apply()}withScrollableContainers(V){return this._scrollables=V,this}withPositions(V){return this._preferredPositions=V,-1===V.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(V){return this._viewportMargin=V,this}withFlexibleDimensions(V=!0){return this._hasFlexibleDimensions=V,this}withGrowAfterOpen(V=!0){return this._growAfterOpen=V,this}withPush(V=!0){return this._canPush=V,this}withLockedPosition(V=!0){return this._positionLocked=V,this}setOrigin(V){return this._origin=V,this}withDefaultOffsetX(V){return this._offsetX=V,this}withDefaultOffsetY(V){return this._offsetY=V,this}withTransformOriginOn(V){return this._transformOriginSelector=V,this}_getOriginPoint(V,ue,Q){let Te,Je;if("center"==Q.originX)Te=V.left+V.width/2;else{const Nt=this._isRtl()?V.right:V.left,qt=this._isRtl()?V.left:V.right;Te="start"==Q.originX?Nt:qt}return ue.left<0&&(Te-=ue.left),Je="center"==Q.originY?V.top+V.height/2:"top"==Q.originY?V.top:V.bottom,ue.top<0&&(Je-=ue.top),{x:Te,y:Je}}_getOverlayPoint(V,ue,Q){let Te,Je;return Te="center"==Q.overlayX?-ue.width/2:"start"===Q.overlayX?this._isRtl()?-ue.width:0:this._isRtl()?0:-ue.width,Je="center"==Q.overlayY?-ue.height/2:"top"==Q.overlayY?0:-ue.height,{x:V.x+Te,y:V.y+Je}}_getOverlayFit(V,ue,Q,Te){const Je=he(ue);let{x:Nt,y:qt}=V,hn=this._getOffset(Te,"x"),wt=this._getOffset(Te,"y");hn&&(Nt+=hn),wt&&(qt+=wt);let lt=0-qt,Ft=qt+Je.height-Q.height,Ct=this._subtractOverflows(Je.width,0-Nt,Nt+Je.width-Q.width),Wt=this._subtractOverflows(Je.height,lt,Ft),en=Ct*Wt;return{visibleArea:en,isCompletelyWithinViewport:Je.width*Je.height===en,fitsInViewportVertically:Wt===Je.height,fitsInViewportHorizontally:Ct==Je.width}}_canFitWithFlexibleDimensions(V,ue,Q){if(this._hasFlexibleDimensions){const Te=Q.bottom-ue.y,Je=Q.right-ue.x,Nt=me(this._overlayRef.getConfig().minHeight),qt=me(this._overlayRef.getConfig().minWidth);return(V.fitsInViewportVertically||null!=Nt&&Nt<=Te)&&(V.fitsInViewportHorizontally||null!=qt&&qt<=Je)}return!1}_pushOverlayOnScreen(V,ue,Q){if(this._previousPushAmount&&this._positionLocked)return{x:V.x+this._previousPushAmount.x,y:V.y+this._previousPushAmount.y};const Te=he(ue),Je=this._viewportRect,Nt=Math.max(V.x+Te.width-Je.width,0),qt=Math.max(V.y+Te.height-Je.height,0),hn=Math.max(Je.top-Q.top-V.y,0),wt=Math.max(Je.left-Q.left-V.x,0);let Zt=0,ft=0;return Zt=Te.width<=Je.width?wt||-Nt:V.x<this._viewportMargin?Je.left-Q.left-V.x:0,ft=Te.height<=Je.height?hn||-qt:V.y<this._viewportMargin?Je.top-Q.top-V.y:0,this._previousPushAmount={x:Zt,y:ft},{x:V.x+Zt,y:V.y+ft}}_applyPosition(V,ue){if(this._setTransformOrigin(V),this._setOverlayElementStyles(ue,V),this._setBoundingBoxStyles(ue,V),V.panelClass&&this._addPanelClasses(V.panelClass),this._positionChanges.observers.length){const Q=this._getScrollVisibility();if(V!==this._lastPosition||!this._lastScrollVisibility||!function Oe(De,V){return De===V||De.isOriginClipped===V.isOriginClipped&&De.isOriginOutsideView===V.isOriginOutsideView&&De.isOverlayClipped===V.isOverlayClipped&&De.isOverlayOutsideView===V.isOverlayOutsideView}(this._lastScrollVisibility,Q)){const Te=new $(V,Q);this._positionChanges.next(Te)}this._lastScrollVisibility=Q}this._lastPosition=V,this._isInitialRender=!1}_setTransformOrigin(V){if(!this._transformOriginSelector)return;const ue=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Q,Te=V.overlayY;Q="center"===V.overlayX?"center":this._isRtl()?"start"===V.overlayX?"right":"left":"start"===V.overlayX?"left":"right";for(let Je=0;Je<ue.length;Je++)ue[Je].style.transformOrigin=`${Q} ${Te}`}_calculateBoundingBoxRect(V,ue){const Q=this._viewportRect,Te=this._isRtl();let Je,Nt,qt,Zt,ft,lt;if("top"===ue.overlayY)Nt=V.y,Je=Q.height-Nt+this._viewportMargin;else if("bottom"===ue.overlayY)qt=Q.height-V.y+2*this._viewportMargin,Je=Q.height-qt+this._viewportMargin;else{const Ft=Math.min(Q.bottom-V.y+Q.top,V.y),Ct=this._lastBoundingBoxSize.height;Je=2*Ft,Nt=V.y-Ft,Je>Ct&&!this._isInitialRender&&!this._growAfterOpen&&(Nt=V.y-Ct/2)}if("end"===ue.overlayX&&!Te||"start"===ue.overlayX&&Te)lt=Q.width-V.x+2*this._viewportMargin,Zt=V.x-this._viewportMargin;else if("start"===ue.overlayX&&!Te||"end"===ue.overlayX&&Te)ft=V.x,Zt=Q.right-V.x;else{const Ft=Math.min(Q.right-V.x+Q.left,V.x),Ct=this._lastBoundingBoxSize.width;Zt=2*Ft,ft=V.x-Ft,Zt>Ct&&!this._isInitialRender&&!this._growAfterOpen&&(ft=V.x-Ct/2)}return{top:Nt,left:ft,bottom:qt,right:lt,width:Zt,height:Je}}_setBoundingBoxStyles(V,ue){const Q=this._calculateBoundingBoxRect(V,ue);!this._isInitialRender&&!this._growAfterOpen&&(Q.height=Math.min(Q.height,this._lastBoundingBoxSize.height),Q.width=Math.min(Q.width,this._lastBoundingBoxSize.width));const Te={};if(this._hasExactPosition())Te.top=Te.left="0",Te.bottom=Te.right=Te.maxHeight=Te.maxWidth="",Te.width=Te.height="100%";else{const Je=this._overlayRef.getConfig().maxHeight,Nt=this._overlayRef.getConfig().maxWidth;Te.height=(0,h.a1)(Q.height),Te.top=(0,h.a1)(Q.top),Te.bottom=(0,h.a1)(Q.bottom),Te.width=(0,h.a1)(Q.width),Te.left=(0,h.a1)(Q.left),Te.right=(0,h.a1)(Q.right),Te.alignItems="center"===ue.overlayX?"center":"end"===ue.overlayX?"flex-end":"flex-start",Te.justifyContent="center"===ue.overlayY?"center":"bottom"===ue.overlayY?"flex-end":"flex-start",Je&&(Te.maxHeight=(0,h.a1)(Je)),Nt&&(Te.maxWidth=(0,h.a1)(Nt))}this._lastBoundingBoxSize=Q,oe(this._boundingBox.style,Te)}_resetBoundingBoxStyles(){oe(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){oe(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(V,ue){const Q={},Te=this._hasExactPosition(),Je=this._hasFlexibleDimensions,Nt=this._overlayRef.getConfig();if(Te){const Zt=this._viewportRuler.getViewportScrollPosition();oe(Q,this._getExactOverlayY(ue,V,Zt)),oe(Q,this._getExactOverlayX(ue,V,Zt))}else Q.position="static";let qt="",hn=this._getOffset(ue,"x"),wt=this._getOffset(ue,"y");hn&&(qt+=`translateX(${hn}px) `),wt&&(qt+=`translateY(${wt}px)`),Q.transform=qt.trim(),Nt.maxHeight&&(Te?Q.maxHeight=(0,h.a1)(Nt.maxHeight):Je&&(Q.maxHeight="")),Nt.maxWidth&&(Te?Q.maxWidth=(0,h.a1)(Nt.maxWidth):Je&&(Q.maxWidth="")),oe(this._pane.style,Q)}_getExactOverlayY(V,ue,Q){let Te={top:"",bottom:""},Je=this._getOverlayPoint(ue,this._overlayRect,V);return this._isPushed&&(Je=this._pushOverlayOnScreen(Je,this._overlayRect,Q)),"bottom"===V.overlayY?Te.bottom=this._document.documentElement.clientHeight-(Je.y+this._overlayRect.height)+"px":Te.top=(0,h.a1)(Je.y),Te}_getExactOverlayX(V,ue,Q){let Nt,Te={left:"",right:""},Je=this._getOverlayPoint(ue,this._overlayRect,V);return this._isPushed&&(Je=this._pushOverlayOnScreen(Je,this._overlayRect,Q)),Nt=this._isRtl()?"end"===V.overlayX?"left":"right":"end"===V.overlayX?"right":"left","right"===Nt?Te.right=this._document.documentElement.clientWidth-(Je.x+this._overlayRect.width)+"px":Te.left=(0,h.a1)(Je.x),Te}_getScrollVisibility(){const V=this._getOriginRect(),ue=this._pane.getBoundingClientRect(),Q=this._scrollables.map(Te=>Te.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:_(V,Q),isOriginOutsideView:I(V,Q),isOverlayClipped:_(ue,Q),isOverlayOutsideView:I(ue,Q)}}_subtractOverflows(V,...ue){return ue.reduce((Q,Te)=>Q-Math.max(Te,0),V)}_getNarrowedViewportRect(){const V=this._document.documentElement.clientWidth,ue=this._document.documentElement.clientHeight,Q=this._viewportRuler.getViewportScrollPosition();return{top:Q.top+this._viewportMargin,left:Q.left+this._viewportMargin,right:Q.left+V-this._viewportMargin,bottom:Q.top+ue-this._viewportMargin,width:V-2*this._viewportMargin,height:ue-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(V,ue){return"x"===ue?null==V.offsetX?this._offsetX:V.offsetX:null==V.offsetY?this._offsetY:V.offsetY}_validatePositions(){}_addPanelClasses(V){this._pane&&(0,h.FG)(V).forEach(ue=>{""!==ue&&-1===this._appliedPanelClasses.indexOf(ue)&&(this._appliedPanelClasses.push(ue),this._pane.classList.add(ue))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(V=>{this._pane.classList.remove(V)}),this._appliedPanelClasses=[])}_getOriginRect(){const V=this._origin;if(V instanceof l.aKT)return V.nativeElement.getBoundingClientRect();if(V instanceof Element)return V.getBoundingClientRect();const ue=V.width||0,Q=V.height||0;return{top:V.y,bottom:V.y+Q,left:V.x,right:V.x+ue,height:Q,width:ue}}}function oe(De,V){for(let ue in V)V.hasOwnProperty(ue)&&(De[ue]=V[ue]);return De}function me(De){if("number"!=typeof De&&null!=De){const[V,ue]=De.split(ie);return ue&&"px"!==ue?null:parseFloat(V)}return De||null}function he(De){return{top:Math.floor(De.top),right:Math.floor(De.right),bottom:Math.floor(De.bottom),left:Math.floor(De.left),width:Math.floor(De.width),height:Math.floor(De.height)}}const Xe="cdk-global-overlay-wrapper";class Me{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(V){const ue=V.getConfig();this._overlayRef=V,this._width&&!ue.width&&V.updateSize({width:this._width}),this._height&&!ue.height&&V.updateSize({height:this._height}),V.hostElement.classList.add(Xe),this._isDisposed=!1}top(V=""){return this._bottomOffset="",this._topOffset=V,this._alignItems="flex-start",this}left(V=""){return this._xOffset=V,this._xPosition="left",this}bottom(V=""){return this._topOffset="",this._bottomOffset=V,this._alignItems="flex-end",this}right(V=""){return this._xOffset=V,this._xPosition="right",this}start(V=""){return this._xOffset=V,this._xPosition="start",this}end(V=""){return this._xOffset=V,this._xPosition="end",this}width(V=""){return this._overlayRef?this._overlayRef.updateSize({width:V}):this._width=V,this}height(V=""){return this._overlayRef?this._overlayRef.updateSize({height:V}):this._height=V,this}centerHorizontally(V=""){return this.left(V),this._xPosition="center",this}centerVertically(V=""){return this.top(V),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const V=this._overlayRef.overlayElement.style,ue=this._overlayRef.hostElement.style,Q=this._overlayRef.getConfig(),{width:Te,height:Je,maxWidth:Nt,maxHeight:qt}=Q,hn=!("100%"!==Te&&"100vw"!==Te||Nt&&"100%"!==Nt&&"100vw"!==Nt),wt=!("100%"!==Je&&"100vh"!==Je||qt&&"100%"!==qt&&"100vh"!==qt),Zt=this._xPosition,ft=this._xOffset,lt="rtl"===this._overlayRef.getConfig().direction;let Ft="",Ct="",Wt="";hn?Wt="flex-start":"center"===Zt?(Wt="center",lt?Ct=ft:Ft=ft):lt?"left"===Zt||"end"===Zt?(Wt="flex-end",Ft=ft):("right"===Zt||"start"===Zt)&&(Wt="flex-start",Ct=ft):"left"===Zt||"start"===Zt?(Wt="flex-start",Ft=ft):("right"===Zt||"end"===Zt)&&(Wt="flex-end",Ct=ft),V.position=this._cssPosition,V.marginLeft=hn?"0":Ft,V.marginTop=wt?"0":this._topOffset,V.marginBottom=this._bottomOffset,V.marginRight=hn?"0":Ct,ue.justifyContent=Wt,ue.alignItems=wt?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const V=this._overlayRef.overlayElement.style,ue=this._overlayRef.hostElement,Q=ue.style;ue.classList.remove(Xe),Q.justifyContent=Q.alignItems=V.marginTop=V.marginBottom=V.marginLeft=V.marginRight=V.position="",this._overlayRef=null,this._isDisposed=!0}}let ge=(()=>{class De{constructor(ue,Q,Te,Je){this._viewportRuler=ue,this._document=Q,this._platform=Te,this._overlayContainer=Je}global(){return new Me}flexibleConnectedTo(ue){return new ce(ue,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(Q){return new(Q||De)(l.KVO(e.Xj),l.KVO(n.qQ),l.KVO(g.OD),l.KVO(k))};static#t=this.\u0275prov=l.jDH({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})(),pe=0,Ee=(()=>{class De{constructor(ue,Q,Te,Je,Nt,qt,hn,wt,Zt,ft,lt,Ft){this.scrollStrategies=ue,this._overlayContainer=Q,this._componentFactoryResolver=Te,this._positionBuilder=Je,this._keyboardDispatcher=Nt,this._injector=qt,this._ngZone=hn,this._document=wt,this._directionality=Zt,this._location=ft,this._outsideClickDispatcher=lt,this._animationsModuleType=Ft}create(ue){const Q=this._createHostElement(),Te=this._createPaneElement(Q),Je=this._createPortalOutlet(Te),Nt=new A(ue);return Nt.direction=Nt.direction||this._directionality.value,new j(Je,Q,Te,Nt,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(l.uvJ))}position(){return this._positionBuilder}_createPaneElement(ue){const Q=this._document.createElement("div");return Q.id="cdk-overlay-"+pe++,Q.classList.add("cdk-overlay-pane"),ue.appendChild(Q),Q}_createHostElement(){const ue=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(ue),ue}_createPortalOutlet(ue){return this._appRef||(this._appRef=this._injector.get(l.o8S)),new y.aI(ue,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(Q){return new(Q||De)(l.KVO(D),l.KVO(k),l.KVO(l.OM3),l.KVO(ge),l.KVO(te),l.KVO(l.zZn),l.KVO(l.SKi),l.KVO(n.qQ),l.KVO(d.dS),l.KVO(n.aZ),l.KVO(ne),l.KVO(l.bc$,8))};static#t=this.\u0275prov=l.jDH({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})();const Ge=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Qe=new l.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const De=(0,l.WQX)(Ee);return()=>De.scrollStrategies.reposition()}});let $e=(()=>{class De{constructor(ue){this.elementRef=ue}static#e=this.\u0275fac=function(Q){return new(Q||De)(l.rXU(l.aKT))};static#t=this.\u0275dir=l.FsC({type:De,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return De})(),tt=(()=>{class De{get offsetX(){return this._offsetX}set offsetX(ue){this._offsetX=ue,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(ue){this._offsetY=ue,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(ue){this._disposeOnNavigation=ue}constructor(ue,Q,Te,Je,Nt){this._overlay=ue,this._dir=Nt,this._backdropSubscription=m.y.EMPTY,this._attachSubscription=m.y.EMPTY,this._detachSubscription=m.y.EMPTY,this._positionSubscription=m.y.EMPTY,this._disposeOnNavigation=!1,this._ngZone=(0,l.WQX)(l.SKi),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new l.bkB,this.positionChange=new l.bkB,this.attach=new l.bkB,this.detach=new l.bkB,this.overlayKeydown=new l.bkB,this.overlayOutsideClick=new l.bkB,this._templatePortal=new y.VA(Q,Te),this._scrollStrategyFactory=Je,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(ue){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),ue.origin&&this.open&&this._position.apply()),ue.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Ge);const ue=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=ue.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=ue.detachments().subscribe(()=>this.detach.emit()),ue.keydownEvents().subscribe(Q=>{this.overlayKeydown.next(Q),Q.keyCode===O._f&&!this.disableClose&&!(0,O.rp)(Q)&&(Q.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(Q=>{const Te=this._getOriginElement(),Je=(0,g.Fb)(Q);(!Te||Te!==Je&&!Te.contains(Je))&&this.overlayOutsideClick.next(Q)})}_buildConfig(){const ue=this._position=this.positionStrategy||this._createPositionStrategy(),Q=new A({direction:this._dir,positionStrategy:ue,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(Q.width=this.width),(this.height||0===this.height)&&(Q.height=this.height),(this.minWidth||0===this.minWidth)&&(Q.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(Q.minHeight=this.minHeight),this.backdropClass&&(Q.backdropClass=this.backdropClass),this.panelClass&&(Q.panelClass=this.panelClass),Q}_updatePositionStrategy(ue){const Q=this.positions.map(Te=>({originX:Te.originX,originY:Te.originY,overlayX:Te.overlayX,overlayY:Te.overlayY,offsetX:Te.offsetX||this.offsetX,offsetY:Te.offsetY||this.offsetY,panelClass:Te.panelClass||void 0}));return ue.setOrigin(this._getOrigin()).withPositions(Q).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const ue=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(ue),ue}_getOrigin(){return this.origin instanceof $e?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof $e?this.origin.elementRef.nativeElement:this.origin instanceof l.aKT?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(ue=>{this.backdropClick.emit(ue)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe((0,b.v)(()=>this.positionChange.observers.length>0)).subscribe(ue=>{this._ngZone.run(()=>this.positionChange.emit(ue)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(Q){return new(Q||De)(l.rXU(Ee),l.rXU(l.C4Q),l.rXU(l.c1b),l.rXU(Qe),l.rXU(d.dS,8))};static#t=this.\u0275dir=l.FsC({type:De,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",l.L39],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",l.L39],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",l.L39],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",l.L39],push:[2,"cdkConnectedOverlayPush","push",l.L39],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",l.L39]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[l.GFd,l.OA$]})}return De})();const Pt={provide:Qe,deps:[Ee],useFactory:function xt(De){return()=>De.scrollStrategies.reposition()}};let yt=(()=>{class De{static#e=this.\u0275fac=function(Q){return new(Q||De)};static#t=this.\u0275mod=l.$C({type:De});static#n=this.\u0275inj=l.G2t({providers:[Ee,Pt],imports:[d.jI,y.jc,e.E9,e.E9]})}return De})()},6860:(gt,re,o)=>{"use strict";o.d(re,{BD:()=>P,BQ:()=>R,CZ:()=>S,Fb:()=>_,KT:()=>x,MU:()=>b,OD:()=>h,r5:()=>m,v8:()=>C,vc:()=>I});var e=o(3953),n=o(177);let l;try{l=typeof Intl<"u"&&Intl.v8BreakIterator}catch{l=!1}let p,h=(()=>{class D{constructor(B){this._platformId=B,this.isBrowser=this._platformId?(0,n.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!l)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(F){return new(F||D)(e.KVO(e.Agw))};static#t=this.\u0275prov=e.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}return D})();const f=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function b(){if(p)return p;if("object"!=typeof document||!document)return p=new Set(f),p;let D=document.createElement("input");return p=new Set(f.filter(A=>(D.setAttribute("type",A),D.type===A))),p}let d;function R(D){return function y(){if(null==d&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>d=!0}))}finally{d=d||!1}return d}()?D:!!D.capture}var m=function(D){return D[D.NORMAL=0]="NORMAL",D[D.NEGATED=1]="NEGATED",D[D.INVERTED=2]="INVERTED",D}(m||{});let v,O,M;function S(){if(null==O){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return O=!1,O;if("scrollBehavior"in document.documentElement.style)O=!0;else{const D=Element.prototype.scrollTo;O=!!D&&!/\{\s*\[native code\]\s*\}/.test(D.toString())}}return O}function P(){if("object"!=typeof document||!document)return m.NORMAL;if(null==v){const D=document.createElement("div"),A=D.style;D.dir="rtl",A.width="1px",A.overflow="auto",A.visibility="hidden",A.pointerEvents="none",A.position="absolute";const B=document.createElement("div"),F=B.style;F.width="2px",F.height="1px",D.appendChild(B),document.body.appendChild(D),v=m.NORMAL,0===D.scrollLeft&&(D.scrollLeft=1,v=0===D.scrollLeft?m.NEGATED:m.INVERTED),D.remove()}return v}function x(D){if(function w(){if(null==M){const D=typeof document<"u"?document.head:null;M=!(!D||!D.createShadowRoot&&!D.attachShadow)}return M}()){const A=D.getRootNode?D.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&A instanceof ShadowRoot)return A}return null}function I(){let D=typeof document<"u"&&document?document.activeElement:null;for(;D&&D.shadowRoot;){const A=D.shadowRoot.activeElement;if(A===D)break;D=A}return D}function _(D){return D.composedPath?D.composedPath()[0]:D.target}function C(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},6939:(gt,re,o)=>{"use strict";o.d(re,{A8:()=>y,I3:()=>x,Qq:()=>w,VA:()=>R,aI:()=>S,bV:()=>M,jc:()=>_,lb:()=>v});var e=o(3953),n=o(177);class d{attach(A){return this._attachedHost=A,A.attach(this)}detach(){let A=this._attachedHost;null!=A&&(this._attachedHost=null,A.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(A){this._attachedHost=A}}class y extends d{constructor(A,B,F,$,U){super(),this.component=A,this.viewContainerRef=B,this.injector=F,this.componentFactoryResolver=$,this.projectableNodes=U}}class R extends d{constructor(A,B,F,$){super(),this.templateRef=A,this.viewContainerRef=B,this.context=F,this.injector=$}get origin(){return this.templateRef.elementRef}attach(A,B=this.context){return this.context=B,super.attach(A)}detach(){return this.context=void 0,super.detach()}}class m extends d{constructor(A){super(),this.element=A instanceof e.aKT?A.nativeElement:A}}class v{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(A){return A instanceof y?(this._attachedPortal=A,this.attachComponentPortal(A)):A instanceof R?(this._attachedPortal=A,this.attachTemplatePortal(A)):this.attachDomPortal&&A instanceof m?(this._attachedPortal=A,this.attachDomPortal(A)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(A){this._disposeFn=A}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class S extends v{constructor(A,B,F,$,U){super(),this.outletElement=A,this._componentFactoryResolver=B,this._appRef=F,this._defaultInjector=$,this.attachDomPortal=G=>{const J=G.element,te=this._document.createComment("dom-portal");J.parentNode.insertBefore(te,J),this.outletElement.appendChild(J),this._attachedPortal=G,super.setDisposeFn(()=>{te.parentNode&&te.parentNode.replaceChild(J,te)})},this._document=U}attachComponentPortal(A){const F=(A.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(A.component);let $;return A.viewContainerRef?($=A.viewContainerRef.createComponent(F,A.viewContainerRef.length,A.injector||A.viewContainerRef.injector,A.projectableNodes||void 0),this.setDisposeFn(()=>$.destroy())):($=F.create(A.injector||this._defaultInjector||e.zZn.NULL),this._appRef.attachView($.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView($.hostView),$.destroy()})),this.outletElement.appendChild(this._getComponentRootNode($)),this._attachedPortal=A,$}attachTemplatePortal(A){let B=A.viewContainerRef,F=B.createEmbeddedView(A.templateRef,A.context,{injector:A.injector});return F.rootNodes.forEach($=>this.outletElement.appendChild($)),F.detectChanges(),this.setDisposeFn(()=>{let $=B.indexOf(F);-1!==$&&B.remove($)}),this._attachedPortal=A,F}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(A){return A.hostView.rootNodes[0]}}let M=(()=>{class D extends R{constructor(B,F){super(B,F)}static#e=this.\u0275fac=function(F){return new(F||D)(e.rXU(e.C4Q),e.rXU(e.c1b))};static#t=this.\u0275dir=e.FsC({type:D,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],standalone:!0,features:[e.Vt3]})}return D})(),w=(()=>{class D extends M{static#e=this.\u0275fac=(()=>{let B;return function($){return(B||(B=e.xGo(D)))($||D)}})();static#t=this.\u0275dir=e.FsC({type:D,selectors:[["","cdk-portal",""],["","portal",""]],exportAs:["cdkPortal"],standalone:!0,features:[e.Jv_([{provide:M,useExisting:D}]),e.Vt3]})}return D})(),x=(()=>{class D extends v{constructor(B,F,$){super(),this._componentFactoryResolver=B,this._viewContainerRef=F,this._isInitialized=!1,this.attached=new e.bkB,this.attachDomPortal=U=>{const G=U.element,J=this._document.createComment("dom-portal");U.setAttachedHost(this),G.parentNode.insertBefore(J,G),this._getRootNode().appendChild(G),this._attachedPortal=U,super.setDisposeFn(()=>{J.parentNode&&J.parentNode.replaceChild(G,J)})},this._document=$}get portal(){return this._attachedPortal}set portal(B){this.hasAttached()&&!B&&!this._isInitialized||(this.hasAttached()&&super.detach(),B&&super.attach(B),this._attachedPortal=B||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(B){B.setAttachedHost(this);const F=null!=B.viewContainerRef?B.viewContainerRef:this._viewContainerRef,U=(B.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(B.component),G=F.createComponent(U,F.length,B.injector||F.injector,B.projectableNodes||void 0);return F!==this._viewContainerRef&&this._getRootNode().appendChild(G.hostView.rootNodes[0]),super.setDisposeFn(()=>G.destroy()),this._attachedPortal=B,this._attachedRef=G,this.attached.emit(G),G}attachTemplatePortal(B){B.setAttachedHost(this);const F=this._viewContainerRef.createEmbeddedView(B.templateRef,B.context,{injector:B.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=B,this._attachedRef=F,this.attached.emit(F),F}_getRootNode(){const B=this._viewContainerRef.element.nativeElement;return B.nodeType===B.ELEMENT_NODE?B:B.parentNode}static#e=this.\u0275fac=function(F){return new(F||D)(e.rXU(e.OM3),e.rXU(e.c1b),e.rXU(n.qQ))};static#t=this.\u0275dir=e.FsC({type:D,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[e.Vt3]})}return D})(),_=(()=>{class D{static#e=this.\u0275fac=function(F){return new(F||D)};static#t=this.\u0275mod=e.$C({type:D});static#n=this.\u0275inj=e.G2t({})}return D})()},494:(gt,re,o)=>{"use strict";o.d(re,{yg:()=>Oe,uv:()=>Xe,Gj:()=>Le,E$:()=>xt,d6:()=>$e,R:()=>We,E9:()=>De,Xj:()=>ge});var e=o(4085),n=o(3953),l=o(5286),h=o(4421),g=o(5817),p=o(3586),f=o(8189),d=o(6228);const R=new class y extends d.q{flush(ue){this.active=!0,this.scheduled=void 0;const{actions:Q}=this;let Te,Je=-1,Nt=Q.length;ue=ue||Q.shift();do{if(Te=ue.execute(ue.state,ue.delay))break}while(++Je<Nt&&(ue=Q.shift()));if(this.active=!1,Te){for(;++Je<Nt&&(ue=Q.shift());)ue.unsubscribe();throw Te}}}(class b extends f.R{constructor(ue,Q){super(ue,Q),this.scheduler=ue,this.work=Q}requestAsyncId(ue,Q,Te=0){return null!==Te&&Te>0?super.requestAsyncId(ue,Q,Te):(ue.actions.push(this),ue.scheduled||(ue.scheduled=requestAnimationFrame(()=>ue.flush(null))))}recycleAsyncId(ue,Q,Te=0){if(null!==Te&&Te>0||null===Te&&this.delay>0)return super.recycleAsyncId(ue,Q,Te);0===ue.actions.length&&(cancelAnimationFrame(Q),ue.scheduled=void 0)}});var v=o(5516),O=o(4337),S=o(8982),P=o(522),M=o(1080),w=o(3004);class I{constructor(ue){this.durationSelector=ue}call(ue,Q){return Q.subscribe(new _(ue,this.durationSelector))}}class _ extends w.gn{constructor(ue,Q){super(ue),this.durationSelector=Q,this.hasValue=!1}_next(ue){if(this.value=ue,this.hasValue=!0,!this.throttled){let Q;try{const{durationSelector:Je}=this;Q=Je(ue)}catch(Je){return this.destination.error(Je)}const Te=(0,w.tS)(Q,new w.zA(this));!Te||Te.closed?this.clearThrottle():this.add(this.throttled=Te)}}clearThrottle(){const{value:ue,hasValue:Q,throttled:Te}=this;Te&&(this.remove(Te),this.throttled=void 0,Te.unsubscribe()),Q&&(this.value=void 0,this.hasValue=!1,this.destination.next(ue))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var C=o(6651);function D(V,ue=M.b){return function x(V){return function(Q){return Q.lift(new I(V))}}(()=>(0,C.O)(V,ue))}var A=o(8728),B=o(7605),F=o(3176),$=o(762);class G{call(ue,Q){return Q.subscribe(new J(ue))}}class J extends $.v{constructor(ue){super(ue),this.hasPrev=!1}_next(ue){let Q;this.hasPrev?Q=[this.prev,ue]:this.hasPrev=!0,this.prev=ue,Q&&this.destination.next(Q)}}var te=o(9090),ne=o(8712),K=o(6860),k=o(177),j=o(8203),W=o(5024);const ie=["contentWrapper"],ce=["*"],oe=new n.nKC("VIRTUAL_SCROLL_STRATEGY");class me{constructor(ue,Q,Te){this._scrolledIndexChange=new l.B7,this.scrolledIndexChange=this._scrolledIndexChange.pipe((0,P.F)()),this._viewport=null,this._itemSize=ue,this._minBufferPx=Q,this._maxBufferPx=Te}attach(ue){this._viewport=ue,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(ue,Q,Te){this._itemSize=ue,this._minBufferPx=Q,this._maxBufferPx=Te,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(ue,Q){this._viewport&&this._viewport.scrollToOffset(ue*this._itemSize,Q)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const ue=this._viewport.getRenderedRange(),Q={start:ue.start,end:ue.end},Te=this._viewport.getViewportSize(),Je=this._viewport.getDataLength();let Nt=this._viewport.measureScrollOffset(),qt=this._itemSize>0?Nt/this._itemSize:0;if(Q.end>Je){const wt=Math.ceil(Te/this._itemSize),Zt=Math.max(0,Math.min(qt,Je-wt));qt!=Zt&&(qt=Zt,Nt=Zt*this._itemSize,Q.start=Math.floor(qt)),Q.end=Math.max(0,Math.min(Je,Q.start+wt))}const hn=Nt-Q.start*this._itemSize;if(hn<this._minBufferPx&&0!=Q.start){const wt=Math.ceil((this._maxBufferPx-hn)/this._itemSize);Q.start=Math.max(0,Q.start-wt),Q.end=Math.min(Je,Math.ceil(qt+(Te+this._minBufferPx)/this._itemSize))}else{const wt=Q.end*this._itemSize-(Nt+Te);if(wt<this._minBufferPx&&Q.end!=Je){const Zt=Math.ceil((this._maxBufferPx-wt)/this._itemSize);Zt>0&&(Q.end=Math.min(Je,Q.end+Zt),Q.start=Math.max(0,Math.floor(qt-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(Q),this._viewport.setRenderedContentOffset(this._itemSize*Q.start),this._scrolledIndexChange.next(Math.floor(qt))}}function he(V){return V._scrollStrategy}let Oe=(()=>{class V{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new me(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(Q){this._itemSize=(0,e.OE)(Q)}get minBufferPx(){return this._minBufferPx}set minBufferPx(Q){this._minBufferPx=(0,e.OE)(Q)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(Q){this._maxBufferPx=(0,e.OE)(Q)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}static#e=this.\u0275fac=function(Te){return new(Te||V)};static#t=this.\u0275dir=n.FsC({type:V,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},standalone:!0,features:[n.Jv_([{provide:oe,useFactory:he,deps:[(0,n.Rfq)(()=>V)]}]),n.OA$]})}return V})(),We=(()=>{class V{constructor(Q,Te,Je){this._ngZone=Q,this._platform=Te,this._scrolled=new l.B7,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Je}register(Q){this.scrollContainers.has(Q)||this.scrollContainers.set(Q,Q.elementScrolled().subscribe(()=>this._scrolled.next(Q)))}deregister(Q){const Te=this.scrollContainers.get(Q);Te&&(Te.unsubscribe(),this.scrollContainers.delete(Q))}scrolled(Q=20){return this._platform.isBrowser?new g.c(Te=>{this._globalSubscription||this._addGlobalListener();const Je=Q>0?this._scrolled.pipe(D(Q)).subscribe(Te):this._scrolled.subscribe(Te);return this._scrolledCount++,()=>{Je.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,h.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Q,Te)=>this.deregister(Te)),this._scrolled.complete()}ancestorScrolled(Q,Te){const Je=this.getAncestorScrollContainers(Q);return this.scrolled(Te).pipe((0,A.p)(Nt=>!Nt||Je.indexOf(Nt)>-1))}getAncestorScrollContainers(Q){const Te=[];return this.scrollContainers.forEach((Je,Nt)=>{this._scrollableContainsElement(Nt,Q)&&Te.push(Nt)}),Te}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Q,Te){let Je=(0,e.i8)(Te),Nt=Q.getElementRef().nativeElement;do{if(Je==Nt)return!0}while(Je=Je.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Q=this._getWindow();return(0,p.R)(Q.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(Te){return new(Te||V)(n.KVO(n.SKi),n.KVO(K.OD),n.KVO(k.qQ,8))};static#t=this.\u0275prov=n.jDH({token:V,factory:V.\u0275fac,providedIn:"root"})}return V})(),Xe=(()=>{class V{constructor(Q,Te,Je,Nt){this.elementRef=Q,this.scrollDispatcher=Te,this.ngZone=Je,this.dir=Nt,this._destroyed=new l.B7,this._elementScrolled=new g.c(qt=>this.ngZone.runOutsideAngular(()=>(0,p.R)(this.elementRef.nativeElement,"scroll").pipe((0,B.Q)(this._destroyed)).subscribe(qt)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(Q){const Te=this.elementRef.nativeElement,Je=this.dir&&"rtl"==this.dir.value;null==Q.left&&(Q.left=Je?Q.end:Q.start),null==Q.right&&(Q.right=Je?Q.start:Q.end),null!=Q.bottom&&(Q.top=Te.scrollHeight-Te.clientHeight-Q.bottom),Je&&(0,K.BD)()!=K.r5.NORMAL?(null!=Q.left&&(Q.right=Te.scrollWidth-Te.clientWidth-Q.left),(0,K.BD)()==K.r5.INVERTED?Q.left=Q.right:(0,K.BD)()==K.r5.NEGATED&&(Q.left=Q.right?-Q.right:Q.right)):null!=Q.right&&(Q.left=Te.scrollWidth-Te.clientWidth-Q.right),this._applyScrollToOptions(Q)}_applyScrollToOptions(Q){const Te=this.elementRef.nativeElement;(0,K.CZ)()?Te.scrollTo(Q):(null!=Q.top&&(Te.scrollTop=Q.top),null!=Q.left&&(Te.scrollLeft=Q.left))}measureScrollOffset(Q){const Te="left",Nt=this.elementRef.nativeElement;if("top"==Q)return Nt.scrollTop;if("bottom"==Q)return Nt.scrollHeight-Nt.clientHeight-Nt.scrollTop;const qt=this.dir&&"rtl"==this.dir.value;return"start"==Q?Q=qt?"right":Te:"end"==Q&&(Q=qt?Te:"right"),qt&&(0,K.BD)()==K.r5.INVERTED?Q==Te?Nt.scrollWidth-Nt.clientWidth-Nt.scrollLeft:Nt.scrollLeft:qt&&(0,K.BD)()==K.r5.NEGATED?Q==Te?Nt.scrollLeft+Nt.scrollWidth-Nt.clientWidth:-Nt.scrollLeft:Q==Te?Nt.scrollLeft:Nt.scrollWidth-Nt.clientWidth-Nt.scrollLeft}static#e=this.\u0275fac=function(Te){return new(Te||V)(n.rXU(n.aKT),n.rXU(We),n.rXU(n.SKi),n.rXU(j.dS,8))};static#t=this.\u0275dir=n.FsC({type:V,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return V})(),ge=(()=>{class V{constructor(Q,Te,Je){this._platform=Q,this._change=new l.B7,this._changeListener=Nt=>{this._change.next(Nt)},this._document=Je,Te.runOutsideAngular(()=>{if(Q.isBrowser){const Nt=this._getWindow();Nt.addEventListener("resize",this._changeListener),Nt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Q=this._getWindow();Q.removeEventListener("resize",this._changeListener),Q.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Q={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Q}getViewportRect(){const Q=this.getViewportScrollPosition(),{width:Te,height:Je}=this.getViewportSize();return{top:Q.top,left:Q.left,bottom:Q.top+Je,right:Q.left+Te,height:Je,width:Te}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Q=this._document,Te=this._getWindow(),Je=Q.documentElement,Nt=Je.getBoundingClientRect();return{top:-Nt.top||Q.body.scrollTop||Te.scrollY||Je.scrollTop||0,left:-Nt.left||Q.body.scrollLeft||Te.scrollX||Je.scrollLeft||0}}change(Q=20){return Q>0?this._change.pipe(D(Q)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Q=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Q.innerWidth,height:Q.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(Te){return new(Te||V)(n.KVO(K.OD),n.KVO(n.SKi),n.KVO(k.qQ,8))};static#t=this.\u0275prov=n.jDH({token:V,factory:V.\u0275fac,providedIn:"root"})}return V})();const pe=new n.nKC("VIRTUAL_SCROLLABLE");let Ee=(()=>{class V extends Xe{constructor(Q,Te,Je,Nt){super(Q,Te,Je,Nt)}measureViewportSize(Q){const Te=this.elementRef.nativeElement;return"horizontal"===Q?Te.clientWidth:Te.clientHeight}static#e=this.\u0275fac=function(Te){return new(Te||V)(n.rXU(n.aKT),n.rXU(We),n.rXU(n.SKi),n.rXU(j.dS,8))};static#t=this.\u0275dir=n.FsC({type:V,features:[n.Vt3]})}return V})();const Qe=typeof requestAnimationFrame<"u"?R:v.$;let $e=(()=>{class V extends Ee{get orientation(){return this._orientation}set orientation(Q){this._orientation!==Q&&(this._orientation=Q,this._calculateSpacerSize())}constructor(Q,Te,Je,Nt,qt,hn,wt,Zt){super(Q,hn,Je,qt),this.elementRef=Q,this._changeDetectorRef=Te,this._scrollStrategy=Nt,this.scrollable=Zt,this._platform=(0,n.WQX)(K.OD),this._detachedSubject=new l.B7,this._renderedRangeSubject=new l.B7,this._orientation="vertical",this.appendOnly=!1,this.scrolledIndexChange=new g.c(ft=>this._scrollStrategy.scrolledIndexChange.subscribe(lt=>Promise.resolve().then(()=>this.ngZone.run(()=>ft.next(lt))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=O.y.EMPTY,this._injector=(0,n.WQX)(n.zZn),this._isDestroyed=!1,this._viewportChanges=wt.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,F.Z)(null),D(0,Qe),(0,B.Q)(this._destroyed)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),this._isDestroyed=!0,super.ngOnDestroy()}attach(Q){this.ngZone.runOutsideAngular(()=>{this._forOf=Q,this._forOf.dataStream.pipe((0,B.Q)(this._detachedSubject)).subscribe(Te=>{const Je=Te.length;Je!==this._dataLength&&(this._dataLength=Je,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(Q){return this.getElementRef().nativeElement.getBoundingClientRect()[Q]}setTotalContentSize(Q){this._totalContentSize!==Q&&(this._totalContentSize=Q,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(Q){(function Ge(V,ue){return V.start==ue.start&&V.end==ue.end})(this._renderedRange,Q)||(this.appendOnly&&(Q={start:0,end:Math.max(this._renderedRange.end,Q.end)}),this._renderedRangeSubject.next(this._renderedRange=Q),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(Q,Te="to-start"){Q=this.appendOnly&&"to-start"===Te?0:Q;const Nt="horizontal"==this.orientation,qt=Nt?"X":"Y";let wt=`translate${qt}(${Number((Nt&&this.dir&&"rtl"==this.dir.value?-1:1)*Q)}px)`;this._renderedContentOffset=Q,"to-end"===Te&&(wt+=` translate${qt}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=wt&&(this._renderedContentTransform=wt,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(Q,Te="auto"){const Je={behavior:Te};"horizontal"===this.orientation?Je.start=Q:Je.top=Q,this.scrollable.scrollTo(Je)}scrollToIndex(Q,Te="auto"){this._scrollStrategy.scrollToIndex(Q,Te)}measureScrollOffset(Q){let Te;return Te=this.scrollable==this?Je=>super.measureScrollOffset(Je):Je=>this.scrollable.measureScrollOffset(Je),Math.max(0,Te(Q??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(Q){let Te;const qt="rtl"==this.dir?.value;Te="start"==Q?qt?"right":"left":"end"==Q?qt?"left":"right":Q||("horizontal"===this.orientation?"left":"top");const hn=this.scrollable.measureBoundingClientRectWithScrollOffset(Te);return this.elementRef.nativeElement.getBoundingClientRect()[Te]-hn}measureRenderedContentSize(){const Q=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?Q.offsetWidth:Q.offsetHeight}measureRangeSize(Q){return this._forOf?this._forOf.measureRangeSize(Q,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(Q){Q&&this._runAfterChangeDetection.push(Q),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isDestroyed||this.ngZone.run(()=>{this._changeDetectorRef.markForCheck(),this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,(0,n.mal)(()=>{this._isChangeDetectionPending=!1;const Q=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const Te of Q)Te()},{injector:this._injector})})}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}static#e=this.\u0275fac=function(Te){return new(Te||V)(n.rXU(n.aKT),n.rXU(n.gRc),n.rXU(n.SKi),n.rXU(oe,8),n.rXU(j.dS,8),n.rXU(We),n.rXU(ge),n.rXU(pe,8))};static#t=this.\u0275cmp=n.VBU({type:V,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(Te,Je){if(1&Te&&n.GBs(ie,7),2&Te){let Nt;n.mGM(Nt=n.lsd())&&(Je._contentWrapper=Nt.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(Te,Je){2&Te&&n.AVh("cdk-virtual-scroll-orientation-horizontal","horizontal"===Je.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==Je.orientation)},inputs:{orientation:"orientation",appendOnly:[2,"appendOnly","appendOnly",n.L39]},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[n.Jv_([{provide:Xe,useFactory:(Q,Te)=>Q||Te,deps:[[new n.Xx1,new n.y_5(pe)],V]}]),n.GFd,n.Vt3,n.aNF],ngContentSelectors:ce,decls:4,vars:4,consts:[["contentWrapper",""],[1,"cdk-virtual-scroll-content-wrapper"],[1,"cdk-virtual-scroll-spacer"]],template:function(Te,Je){1&Te&&(n.NAR(),n.j41(0,"div",1,0),n.SdG(2),n.k0s(),n.nrm(3,"div",2)),2&Te&&(n.R7$(3),n.xc7("width",Je._totalContentWidth)("height",Je._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0})}return V})();function tt(V,ue,Q){if(!Q.getBoundingClientRect)return 0;const Je=Q.getBoundingClientRect();return"horizontal"===V?"start"===ue?Je.left:Je.right:"start"===ue?Je.top:Je.bottom}let xt=(()=>{class V{get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(Q){this._cdkVirtualForOf=Q,(0,W.y4)(Q)?this._dataSourceChanges.next(Q):this._dataSourceChanges.next(new W.hx((0,S.A)(Q)?Q:Array.from(Q||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(Q){this._needsUpdate=!0,this._cdkVirtualForTrackBy=Q?(Te,Je)=>Q(Te+(this._renderedRange?this._renderedRange.start:0),Je):void 0}set cdkVirtualForTemplate(Q){Q&&(this._needsUpdate=!0,this._template=Q)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(Q){this._viewRepeater.viewCacheSize=(0,e.OE)(Q)}constructor(Q,Te,Je,Nt,qt,hn){this._viewContainerRef=Q,this._template=Te,this._differs=Je,this._viewRepeater=Nt,this._viewport=qt,this.viewChange=new l.B7,this._dataSourceChanges=new l.B7,this.dataStream=this._dataSourceChanges.pipe((0,F.Z)(null),function U(){return V=>V.lift(new G)}(),(0,te.n)(([wt,Zt])=>this._changeDataSource(wt,Zt)),(0,ne.t)(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new l.B7,this.dataStream.subscribe(wt=>{this._data=wt,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe((0,B.Q)(this._destroyed)).subscribe(wt=>{this._renderedRange=wt,this.viewChange.observers.length&&hn.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}measureRangeSize(Q,Te){if(Q.start>=Q.end)return 0;const Je=Q.start-this._renderedRange.start,Nt=Q.end-Q.start;let qt,hn;for(let wt=0;wt<Nt;wt++){const Zt=this._viewContainerRef.get(wt+Je);if(Zt&&Zt.rootNodes.length){qt=hn=Zt.rootNodes[0];break}}for(let wt=Nt-1;wt>-1;wt--){const Zt=this._viewContainerRef.get(wt+Je);if(Zt&&Zt.rootNodes.length){hn=Zt.rootNodes[Zt.rootNodes.length-1];break}}return qt&&hn?tt(Te,"end",hn)-tt(Te,"start",qt):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const Q=this._differ.diff(this._renderedItems);Q?this._applyChanges(Q):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((Q,Te)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(Q,Te):Te)),this._needsUpdate=!0)}_changeDataSource(Q,Te){return Q&&Q.disconnect(this),this._needsUpdate=!0,Te?Te.connect(this):(0,h.of)()}_updateContext(){const Q=this._data.length;let Te=this._viewContainerRef.length;for(;Te--;){const Je=this._viewContainerRef.get(Te);Je.context.index=this._renderedRange.start+Te,Je.context.count=Q,this._updateComputedContextProperties(Je.context),Je.detectChanges()}}_applyChanges(Q){this._viewRepeater.applyChanges(Q,this._viewContainerRef,(Nt,qt,hn)=>this._getEmbeddedViewArgs(Nt,hn),Nt=>Nt.item),Q.forEachIdentityChange(Nt=>{this._viewContainerRef.get(Nt.currentIndex).context.$implicit=Nt.item});const Te=this._data.length;let Je=this._viewContainerRef.length;for(;Je--;){const Nt=this._viewContainerRef.get(Je);Nt.context.index=this._renderedRange.start+Je,Nt.context.count=Te,this._updateComputedContextProperties(Nt.context)}}_updateComputedContextProperties(Q){Q.first=0===Q.index,Q.last=Q.index===Q.count-1,Q.even=Q.index%2==0,Q.odd=!Q.even}_getEmbeddedViewArgs(Q,Te){return{templateRef:this._template,context:{$implicit:Q.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:Te}}static#e=this.\u0275fac=function(Te){return new(Te||V)(n.rXU(n.c1b),n.rXU(n.C4Q),n.rXU(n._q3),n.rXU(W.sL),n.rXU($e,4),n.rXU(n.SKi))};static#t=this.\u0275dir=n.FsC({type:V,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},standalone:!0,features:[n.Jv_([{provide:W.sL,useClass:W.DQ}])]})}return V})(),Le=(()=>{class V{static#e=this.\u0275fac=function(Te){return new(Te||V)};static#t=this.\u0275mod=n.$C({type:V});static#n=this.\u0275inj=n.G2t({})}return V})(),De=(()=>{class V{static#e=this.\u0275fac=function(Te){return new(Te||V)};static#t=this.\u0275mod=n.$C({type:V});static#n=this.\u0275inj=n.G2t({imports:[j.jI,Le,j.jI,Le]})}return V})()},5887:(gt,re,o)=>{"use strict";o.d(re,{AL:()=>A,EZ:()=>x,I8:()=>ie,L_:()=>D,N0:()=>qt,RT:()=>Le,Rk:()=>ue,To:()=>J,VP:()=>U,Y$:()=>oe,ZM:()=>$e,c7:()=>$,cO:()=>_,df:()=>j,hc:()=>me,hi:()=>k,ki:()=>Je,lH:()=>yt,lQ:()=>te,n5:()=>C,oh:()=>W,pe:()=>Pt,sY:()=>F,u4:()=>he,wA:()=>ce,yT:()=>xt});var e=o(8203),n=o(5024),l=o(6860),h=o(494),g=o(177),p=o(3953),f=o(5286),b=o(9928),d=o(8982),y=o(4421),R=o(7605);const m=[[["caption"]],[["colgroup"],["col"]],"*"],v=["caption","colgroup, col","*"];function O(wt,Zt){1&wt&&p.SdG(0,2)}function S(wt,Zt){1&wt&&(p.j41(0,"thead",0),p.eu8(1,1),p.k0s(),p.j41(2,"tbody",0),p.eu8(3,2)(4,3),p.k0s(),p.j41(5,"tfoot",0),p.eu8(6,4),p.k0s())}function P(wt,Zt){1&wt&&p.eu8(0,1)(1,2)(2,3)(3,4)}function M(wt,Zt){if(1&wt&&(p.j41(0,"th",3),p.EFF(1),p.k0s()),2&wt){const ft=p.XpG();p.xc7("text-align",ft.justify),p.R7$(),p.SpI(" ",ft.headerText," ")}}function w(wt,Zt){if(1&wt&&(p.j41(0,"td",4),p.EFF(1),p.k0s()),2&wt){const ft=Zt.$implicit,lt=p.XpG();p.xc7("text-align",lt.justify),p.R7$(),p.SpI(" ",lt.dataAccessor(ft,lt.name)," ")}}const x=new p.nKC("CDK_TABLE"),I=new p.nKC("text-column-options");let _=(()=>{class wt{constructor(ft){this.template=ft}static#e=this.\u0275fac=function(lt){return new(lt||wt)(p.rXU(p.C4Q))};static#t=this.\u0275dir=p.FsC({type:wt,selectors:[["","cdkCellDef",""]],standalone:!0})}return wt})(),C=(()=>{class wt{constructor(ft){this.template=ft}static#e=this.\u0275fac=function(lt){return new(lt||wt)(p.rXU(p.C4Q))};static#t=this.\u0275dir=p.FsC({type:wt,selectors:[["","cdkHeaderCellDef",""]],standalone:!0})}return wt})(),D=(()=>{class wt{constructor(ft){this.template=ft}static#e=this.\u0275fac=function(lt){return new(lt||wt)(p.rXU(p.C4Q))};static#t=this.\u0275dir=p.FsC({type:wt,selectors:[["","cdkFooterCellDef",""]],standalone:!0})}return wt})(),A=(()=>{class wt{get name(){return this._name}set name(ft){this._setNameInput(ft)}get sticky(){return this._sticky}set sticky(ft){ft!==this._sticky&&(this._sticky=ft,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(ft){ft!==this._stickyEnd&&(this._stickyEnd=ft,this._hasStickyChanged=!0)}constructor(ft){this._table=ft,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){const ft=this._hasStickyChanged;return this.resetStickyChanged(),ft}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(ft){ft&&(this._name=ft,this.cssClassFriendlyName=ft.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static#e=this.\u0275fac=function(lt){return new(lt||wt)(p.rXU(x,8))};static#t=this.\u0275dir=p.FsC({type:wt,selectors:[["","cdkColumnDef",""]],contentQueries:function(lt,Ft,Ct){if(1&lt&&(p.wni(Ct,_,5),p.wni(Ct,C,5),p.wni(Ct,D,5)),2&lt){let Wt;p.mGM(Wt=p.lsd())&&(Ft.cell=Wt.first),p.mGM(Wt=p.lsd())&&(Ft.headerCell=Wt.first),p.mGM(Wt=p.lsd())&&(Ft.footerCell=Wt.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",p.L39],stickyEnd:[2,"stickyEnd","stickyEnd",p.L39]},standalone:!0,features:[p.Jv_([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:wt}]),p.GFd]})}return wt})();class B{constructor(Zt,ft){ft.nativeElement.classList.add(...Zt._columnCssClassName)}}let F=(()=>{class wt extends B{constructor(ft,lt){super(ft,lt)}static#e=this.\u0275fac=function(lt){return new(lt||wt)(p.rXU(A),p.rXU(p.aKT))};static#t=this.\u0275dir=p.FsC({type:wt,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[p.Vt3]})}return wt})(),$=(()=>{class wt extends B{constructor(ft,lt){super(ft,lt);const Ft=ft._table?._getCellRole();Ft&&lt.nativeElement.setAttribute("role",Ft)}static#e=this.\u0275fac=function(lt){return new(lt||wt)(p.rXU(A),p.rXU(p.aKT))};static#t=this.\u0275dir=p.FsC({type:wt,selectors:[["cdk-footer-cell"],["td","cdk-footer-cell",""]],hostAttrs:[1,"cdk-footer-cell"],standalone:!0,features:[p.Vt3]})}return wt})(),U=(()=>{class wt extends B{constructor(ft,lt){super(ft,lt);const Ft=ft._table?._getCellRole();Ft&&lt.nativeElement.setAttribute("role",Ft)}static#e=this.\u0275fac=function(lt){return new(lt||wt)(p.rXU(A),p.rXU(p.aKT))};static#t=this.\u0275dir=p.FsC({type:wt,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[p.Vt3]})}return wt})();class G{constructor(){this.tasks=[],this.endTasks=[]}}const J=new p.nKC("_COALESCED_STYLE_SCHEDULER");let te=(()=>{class wt{constructor(ft){this._currentSchedule=null,this._ngZone=(0,p.WQX)(p.SKi)}schedule(ft){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(ft)}scheduleEnd(ft){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(ft)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new G,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const ft=this._currentSchedule;this._currentSchedule=new G;for(const lt of ft.tasks)lt();for(const lt of ft.endTasks)lt()}this._currentSchedule=null})))}static#e=this.\u0275fac=function(lt){return new(lt||wt)(p.KVO(p.SKi))};static#t=this.\u0275prov=p.jDH({token:wt,factory:wt.\u0275fac})}return wt})(),K=(()=>{class wt{constructor(ft,lt){this.template=ft,this._differs=lt}ngOnChanges(ft){if(!this._columnsDiffer){const lt=ft.columns&&ft.columns.currentValue||[];this._columnsDiffer=this._differs.find(lt).create(),this._columnsDiffer.diff(lt)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(ft){return this instanceof k?ft.headerCell.template:this instanceof j?ft.footerCell.template:ft.cell.template}static#e=this.\u0275fac=function(lt){return new(lt||wt)(p.rXU(p.C4Q),p.rXU(p._q3))};static#t=this.\u0275dir=p.FsC({type:wt,features:[p.OA$]})}return wt})(),k=(()=>{class wt extends K{get sticky(){return this._sticky}set sticky(ft){ft!==this._sticky&&(this._sticky=ft,this._hasStickyChanged=!0)}constructor(ft,lt,Ft){super(ft,lt),this._table=Ft,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(ft){super.ngOnChanges(ft)}hasStickyChanged(){const ft=this._hasStickyChanged;return this.resetStickyChanged(),ft}resetStickyChanged(){this._hasStickyChanged=!1}static#e=this.\u0275fac=function(lt){return new(lt||wt)(p.rXU(p.C4Q),p.rXU(p._q3),p.rXU(x,8))};static#t=this.\u0275dir=p.FsC({type:wt,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",p.L39]},standalone:!0,features:[p.GFd,p.Vt3,p.OA$]})}return wt})(),j=(()=>{class wt extends K{get sticky(){return this._sticky}set sticky(ft){ft!==this._sticky&&(this._sticky=ft,this._hasStickyChanged=!0)}constructor(ft,lt,Ft){super(ft,lt),this._table=Ft,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(ft){super.ngOnChanges(ft)}hasStickyChanged(){const ft=this._hasStickyChanged;return this.resetStickyChanged(),ft}resetStickyChanged(){this._hasStickyChanged=!1}static#e=this.\u0275fac=function(lt){return new(lt||wt)(p.rXU(p.C4Q),p.rXU(p._q3),p.rXU(x,8))};static#t=this.\u0275dir=p.FsC({type:wt,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",p.L39]},standalone:!0,features:[p.GFd,p.Vt3,p.OA$]})}return wt})(),W=(()=>{class wt extends K{constructor(ft,lt,Ft){super(ft,lt),this._table=Ft}static#e=this.\u0275fac=function(lt){return new(lt||wt)(p.rXU(p.C4Q),p.rXU(p._q3),p.rXU(x,8))};static#t=this.\u0275dir=p.FsC({type:wt,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},standalone:!0,features:[p.Vt3]})}return wt})(),ie=(()=>{class wt{static#e=this.mostRecentCellOutlet=null;constructor(ft){this._viewContainer=ft,wt.mostRecentCellOutlet=this}ngOnDestroy(){wt.mostRecentCellOutlet===this&&(wt.mostRecentCellOutlet=null)}static#t=this.\u0275fac=function(lt){return new(lt||wt)(p.rXU(p.c1b))};static#n=this.\u0275dir=p.FsC({type:wt,selectors:[["","cdkCellOutlet",""]],standalone:!0})}return wt})(),ce=(()=>{class wt{static#e=this.\u0275fac=function(lt){return new(lt||wt)};static#t=this.\u0275cmp=p.VBU({type:wt,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[p.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(lt,Ft){1&lt&&p.eu8(0,0)},dependencies:[ie],encapsulation:2})}return wt})(),oe=(()=>{class wt{static#e=this.\u0275fac=function(lt){return new(lt||wt)};static#t=this.\u0275cmp=p.VBU({type:wt,selectors:[["cdk-footer-row"],["tr","cdk-footer-row",""]],hostAttrs:["role","row",1,"cdk-footer-row"],standalone:!0,features:[p.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(lt,Ft){1&lt&&p.eu8(0,0)},dependencies:[ie],encapsulation:2})}return wt})(),me=(()=>{class wt{static#e=this.\u0275fac=function(lt){return new(lt||wt)};static#t=this.\u0275cmp=p.VBU({type:wt,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[p.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(lt,Ft){1&lt&&p.eu8(0,0)},dependencies:[ie],encapsulation:2})}return wt})(),he=(()=>{class wt{constructor(ft){this.templateRef=ft,this._contentClassName="cdk-no-data-row"}static#e=this.\u0275fac=function(lt){return new(lt||wt)(p.rXU(p.C4Q))};static#t=this.\u0275dir=p.FsC({type:wt,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0})}return wt})();const Oe=["top","bottom","left","right"];class we{constructor(Zt,ft,lt,Ft,Ct=!0,Wt=!0,en){this._isNativeHtmlTable=Zt,this._stickCellCss=ft,this.direction=lt,this._coalescedStyleScheduler=Ft,this._isBrowser=Ct,this._needsPositionStickyOnElement=Wt,this._positionListener=en,this._cachedCellWidths=[],this._borderCellCss={top:`${ft}-border-elem-top`,bottom:`${ft}-border-elem-bottom`,left:`${ft}-border-elem-left`,right:`${ft}-border-elem-right`}}clearStickyPositioning(Zt,ft){const lt=[];for(const Ft of Zt)if(Ft.nodeType===Ft.ELEMENT_NODE){lt.push(Ft);for(let Ct=0;Ct<Ft.children.length;Ct++)lt.push(Ft.children[Ct])}this._coalescedStyleScheduler.schedule(()=>{for(const Ft of lt)this._removeStickyStyle(Ft,ft)})}updateStickyColumns(Zt,ft,lt,Ft=!0){Zt.length&&this._isBrowser&&(ft.some(Ct=>Ct)||lt.some(Ct=>Ct))?this._coalescedStyleScheduler.schedule(()=>{const Ct=Zt[0],Wt=Ct.children.length,en=this._getCellWidths(Ct,Ft),on=this._getStickyStartColumnPositions(en,ft),_n=this._getStickyEndColumnPositions(en,lt),Sn=ft.lastIndexOf(!0),Zn=lt.indexOf(!0),ut="rtl"===this.direction,be=ut?"right":"left",Fe=ut?"left":"right";for(const ae of Zt)for(let ve=0;ve<Wt;ve++){const ze=ae.children[ve];ft[ve]&&this._addStickyStyle(ze,be,on[ve],ve===Sn),lt[ve]&&this._addStickyStyle(ze,Fe,_n[ve],ve===Zn)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===Sn?[]:en.slice(0,Sn+1).map((ae,ve)=>ft[ve]?ae:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===Zn?[]:en.slice(Zn).map((ae,ve)=>lt[ve+Zn]?ae:null).reverse()}))}):this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}))}stickRows(Zt,ft,lt){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{const Ft="bottom"===lt?Zt.slice().reverse():Zt,Ct="bottom"===lt?ft.slice().reverse():ft,Wt=[],en=[],on=[];for(let Sn=0,Zn=0;Sn<Ft.length;Sn++){if(!Ct[Sn])continue;Wt[Sn]=Zn;const ut=Ft[Sn];on[Sn]=this._isNativeHtmlTable?Array.from(ut.children):[ut];const be=ut.getBoundingClientRect().height;Zn+=be,en[Sn]=be}const _n=Ct.lastIndexOf(!0);for(let Sn=0;Sn<Ft.length;Sn++){if(!Ct[Sn])continue;const Zn=Wt[Sn],ut=Sn===_n;for(const be of on[Sn])this._addStickyStyle(be,lt,Zn,ut)}"top"===lt?this._positionListener?.stickyHeaderRowsUpdated({sizes:en,offsets:Wt,elements:on}):this._positionListener?.stickyFooterRowsUpdated({sizes:en,offsets:Wt,elements:on})})}updateStickyFooterContainer(Zt,ft){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{const lt=Zt.querySelector("tfoot");lt&&(ft.some(Ft=>!Ft)?this._removeStickyStyle(lt,["bottom"]):this._addStickyStyle(lt,"bottom",0,!1))})}_removeStickyStyle(Zt,ft){for(const Ft of ft)Zt.style[Ft]="",Zt.classList.remove(this._borderCellCss[Ft]);Oe.some(Ft=>-1===ft.indexOf(Ft)&&Zt.style[Ft])?Zt.style.zIndex=this._getCalculatedZIndex(Zt):(Zt.style.zIndex="",this._needsPositionStickyOnElement&&(Zt.style.position=""),Zt.classList.remove(this._stickCellCss))}_addStickyStyle(Zt,ft,lt,Ft){Zt.classList.add(this._stickCellCss),Ft&&Zt.classList.add(this._borderCellCss[ft]),Zt.style[ft]=`${lt}px`,Zt.style.zIndex=this._getCalculatedZIndex(Zt),this._needsPositionStickyOnElement&&(Zt.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(Zt){const ft={top:100,bottom:10,left:1,right:1};let lt=0;for(const Ft of Oe)Zt.style[Ft]&&(lt+=ft[Ft]);return lt?`${lt}`:""}_getCellWidths(Zt,ft=!0){if(!ft&&this._cachedCellWidths.length)return this._cachedCellWidths;const lt=[],Ft=Zt.children;for(let Ct=0;Ct<Ft.length;Ct++)lt.push(Ft[Ct].getBoundingClientRect().width);return this._cachedCellWidths=lt,lt}_getStickyStartColumnPositions(Zt,ft){const lt=[];let Ft=0;for(let Ct=0;Ct<Zt.length;Ct++)ft[Ct]&&(lt[Ct]=Ft,Ft+=Zt[Ct]);return lt}_getStickyEndColumnPositions(Zt,ft){const lt=[];let Ft=0;for(let Ct=Zt.length;Ct>0;Ct--)ft[Ct]&&(lt[Ct]=Ft,Ft+=Zt[Ct]);return lt}}const $e=new p.nKC("CDK_SPL");let xt=(()=>{class wt{constructor(ft,lt){this.viewContainer=ft,this.elementRef=lt;const Ft=(0,p.WQX)(x);Ft._rowOutlet=this,Ft._outletAssigned()}static#e=this.\u0275fac=function(lt){return new(lt||wt)(p.rXU(p.c1b),p.rXU(p.aKT))};static#t=this.\u0275dir=p.FsC({type:wt,selectors:[["","rowOutlet",""]],standalone:!0})}return wt})(),Pt=(()=>{class wt{constructor(ft,lt){this.viewContainer=ft,this.elementRef=lt;const Ft=(0,p.WQX)(x);Ft._headerRowOutlet=this,Ft._outletAssigned()}static#e=this.\u0275fac=function(lt){return new(lt||wt)(p.rXU(p.c1b),p.rXU(p.aKT))};static#t=this.\u0275dir=p.FsC({type:wt,selectors:[["","headerRowOutlet",""]],standalone:!0})}return wt})(),yt=(()=>{class wt{constructor(ft,lt){this.viewContainer=ft,this.elementRef=lt;const Ft=(0,p.WQX)(x);Ft._footerRowOutlet=this,Ft._outletAssigned()}static#e=this.\u0275fac=function(lt){return new(lt||wt)(p.rXU(p.c1b),p.rXU(p.aKT))};static#t=this.\u0275dir=p.FsC({type:wt,selectors:[["","footerRowOutlet",""]],standalone:!0})}return wt})(),Le=(()=>{class wt{constructor(ft,lt){this.viewContainer=ft,this.elementRef=lt;const Ft=(0,p.WQX)(x);Ft._noDataRowOutlet=this,Ft._outletAssigned()}static#e=this.\u0275fac=function(lt){return new(lt||wt)(p.rXU(p.c1b),p.rXU(p.aKT))};static#t=this.\u0275dir=p.FsC({type:wt,selectors:[["","noDataRowOutlet",""]],standalone:!0})}return wt})(),ue=(()=>{class wt{_getCellRole(){if(void 0===this._cellRoleInternal){const ft=this._elementRef.nativeElement.getAttribute("role"),lt="grid"===ft||"treegrid"===ft?"gridcell":"cell";this._cellRoleInternal=this._isNativeHtmlTable&&"cell"===lt?null:lt}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(ft){this._trackByFn=ft}get dataSource(){return this._dataSource}set dataSource(ft){this._dataSource!==ft&&this._switchDataSource(ft)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(ft){this._multiTemplateDataRows=ft,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(ft){this._fixedLayout=ft,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(ft,lt,Ft,Ct,Wt,en,on,_n,Sn,Zn,ut,be){this._differs=ft,this._changeDetectorRef=lt,this._elementRef=Ft,this._dir=Wt,this._platform=on,this._viewRepeater=_n,this._coalescedStyleScheduler=Sn,this._viewportRuler=Zn,this._stickyPositioningListener=ut,this._onDestroy=new f.B7,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new p.bkB,this.viewChange=new b.t({start:0,end:Number.MAX_VALUE}),this._injector=(0,p.WQX)(p.zZn),Ct||Ft.nativeElement.setAttribute("role","table"),this._document=en,this._isServer=!on.isBrowser,this._isNativeHtmlTable="TABLE"===Ft.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((ft,lt)=>this.trackBy?this.trackBy(lt.dataIndex,lt.data):lt),this._viewportRuler.change().pipe((0,R.Q)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(ft=>{ft?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,n.y4)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const ft=this._dataDiffer.diff(this._renderRows);if(!ft)return this._updateNoDataRow(),void this.contentChanged.next();const lt=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(ft,lt,(Ft,Ct,Wt)=>this._getEmbeddedViewArgs(Ft.item,Wt),Ft=>Ft.item.data,Ft=>{Ft.operation===n.Q3.INSERTED&&Ft.context&&this._renderCellTemplateForItem(Ft.record.item.rowDef,Ft.context)}),this._updateRowIndexContext(),ft.forEachIdentityChange(Ft=>{lt.get(Ft.currentIndex).context.$implicit=Ft.item.data}),this._updateNoDataRow(),(0,p.mal)(()=>{this.updateStickyColumnStyles()},{injector:this._injector}),this.contentChanged.next()}addColumnDef(ft){this._customColumnDefs.add(ft)}removeColumnDef(ft){this._customColumnDefs.delete(ft)}addRowDef(ft){this._customRowDefs.add(ft)}removeRowDef(ft){this._customRowDefs.delete(ft)}addHeaderRowDef(ft){this._customHeaderRowDefs.add(ft),this._headerRowDefChanged=!0}removeHeaderRowDef(ft){this._customHeaderRowDefs.delete(ft),this._headerRowDefChanged=!0}addFooterRowDef(ft){this._customFooterRowDefs.add(ft),this._footerRowDefChanged=!0}removeFooterRowDef(ft){this._customFooterRowDefs.delete(ft),this._footerRowDefChanged=!0}setNoDataRow(ft){this._customNoDataRow=ft}updateStickyHeaderRowStyles(){const ft=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){const Ft=Te(this._headerRowOutlet,"thead");Ft&&(Ft.style.display=ft.length?"":"none")}const lt=this._headerRowDefs.map(Ft=>Ft.sticky);this._stickyStyler.clearStickyPositioning(ft,["top"]),this._stickyStyler.stickRows(ft,lt,"top"),this._headerRowDefs.forEach(Ft=>Ft.resetStickyChanged())}updateStickyFooterRowStyles(){const ft=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){const Ft=Te(this._footerRowOutlet,"tfoot");Ft&&(Ft.style.display=ft.length?"":"none")}const lt=this._footerRowDefs.map(Ft=>Ft.sticky);this._stickyStyler.clearStickyPositioning(ft,["bottom"]),this._stickyStyler.stickRows(ft,lt,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,lt),this._footerRowDefs.forEach(Ft=>Ft.resetStickyChanged())}updateStickyColumnStyles(){const ft=this._getRenderedRows(this._headerRowOutlet),lt=this._getRenderedRows(this._rowOutlet),Ft=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...ft,...lt,...Ft],["left","right"]),this._stickyColumnStylesNeedReset=!1),ft.forEach((Ct,Wt)=>{this._addStickyColumnStyles([Ct],this._headerRowDefs[Wt])}),this._rowDefs.forEach(Ct=>{const Wt=[];for(let en=0;en<lt.length;en++)this._renderRows[en].rowDef===Ct&&Wt.push(lt[en]);this._addStickyColumnStyles(Wt,Ct)}),Ft.forEach((Ct,Wt)=>{this._addStickyColumnStyles([Ct],this._footerRowDefs[Wt])}),Array.from(this._columnDefsByName.values()).forEach(Ct=>Ct.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs();const lt=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||lt,this._forceRecalculateCellWidths=lt,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){const ft=[],lt=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let Ft=0;Ft<this._data.length;Ft++){let Ct=this._data[Ft];const Wt=this._getRenderRowsForData(Ct,Ft,lt.get(Ct));this._cachedRenderRowsMap.has(Ct)||this._cachedRenderRowsMap.set(Ct,new WeakMap);for(let en=0;en<Wt.length;en++){let on=Wt[en];const _n=this._cachedRenderRowsMap.get(on.data);_n.has(on.rowDef)?_n.get(on.rowDef).push(on):_n.set(on.rowDef,[on]),ft.push(on)}}return ft}_getRenderRowsForData(ft,lt,Ft){return this._getRowDefs(ft,lt).map(Wt=>{const en=Ft&&Ft.has(Wt)?Ft.get(Wt):[];if(en.length){const on=en.shift();return on.dataIndex=lt,on}return{data:ft,rowDef:Wt,dataIndex:lt}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Q(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(lt=>{this._columnDefsByName.has(lt.name),this._columnDefsByName.set(lt.name,lt)})}_cacheRowDefs(){this._headerRowDefs=Q(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Q(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Q(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const ft=this._rowDefs.filter(lt=>!lt.when);this._defaultRowDef=ft[0]}_renderUpdatedColumns(){const ft=(Wt,en)=>Wt||!!en.getColumnsDiff(),lt=this._rowDefs.reduce(ft,!1);lt&&this._forceRenderDataRows();const Ft=this._headerRowDefs.reduce(ft,!1);Ft&&this._forceRenderHeaderRows();const Ct=this._footerRowDefs.reduce(ft,!1);return Ct&&this._forceRenderFooterRows(),lt||Ft||Ct}_switchDataSource(ft){this._data=[],(0,n.y4)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),ft||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=ft}_observeRenderChanges(){if(!this.dataSource)return;let ft;(0,n.y4)(this.dataSource)?ft=this.dataSource.connect(this):(0,d.A)(this.dataSource)?ft=this.dataSource:Array.isArray(this.dataSource)&&(ft=(0,y.of)(this.dataSource)),this._renderChangeSubscription=ft.pipe((0,R.Q)(this._onDestroy)).subscribe(lt=>{this._data=lt||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((ft,lt)=>this._renderRow(this._headerRowOutlet,ft,lt)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((ft,lt)=>this._renderRow(this._footerRowOutlet,ft,lt)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(ft,lt){const Ft=Array.from(lt.columns||[]).map(en=>this._columnDefsByName.get(en)),Ct=Ft.map(en=>en.sticky),Wt=Ft.map(en=>en.stickyEnd);this._stickyStyler.updateStickyColumns(ft,Ct,Wt,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(ft){const lt=[];for(let Ft=0;Ft<ft.viewContainer.length;Ft++){const Ct=ft.viewContainer.get(Ft);lt.push(Ct.rootNodes[0])}return lt}_getRowDefs(ft,lt){if(1==this._rowDefs.length)return[this._rowDefs[0]];let Ft=[];if(this.multiTemplateDataRows)Ft=this._rowDefs.filter(Ct=>!Ct.when||Ct.when(lt,ft));else{let Ct=this._rowDefs.find(Wt=>Wt.when&&Wt.when(lt,ft))||this._defaultRowDef;Ct&&Ft.push(Ct)}return Ft}_getEmbeddedViewArgs(ft,lt){return{templateRef:ft.rowDef.template,context:{$implicit:ft.data},index:lt}}_renderRow(ft,lt,Ft,Ct={}){const Wt=ft.viewContainer.createEmbeddedView(lt.template,Ct,Ft);return this._renderCellTemplateForItem(lt,Ct),Wt}_renderCellTemplateForItem(ft,lt){for(let Ft of this._getCellTemplates(ft))ie.mostRecentCellOutlet&&ie.mostRecentCellOutlet._viewContainer.createEmbeddedView(Ft,lt);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const ft=this._rowOutlet.viewContainer;for(let lt=0,Ft=ft.length;lt<Ft;lt++){const Wt=ft.get(lt).context;Wt.count=Ft,Wt.first=0===lt,Wt.last=lt===Ft-1,Wt.even=lt%2==0,Wt.odd=!Wt.even,this.multiTemplateDataRows?(Wt.dataIndex=this._renderRows[lt].dataIndex,Wt.renderIndex=lt):Wt.index=this._renderRows[lt].dataIndex}}_getCellTemplates(ft){return ft&&ft.columns?Array.from(ft.columns,lt=>{const Ft=this._columnDefsByName.get(lt);return ft.extractCellTemplate(Ft)}):[]}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const ft=(lt,Ft)=>lt||Ft.hasStickyChanged();this._headerRowDefs.reduce(ft,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(ft,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(ft,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new we(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,y.of)()).pipe((0,R.Q)(this._onDestroy)).subscribe(lt=>{this._stickyStyler.direction=lt,this.updateStickyColumnStyles()})}_getOwnDefs(ft){return ft.filter(lt=>!lt._table||lt._table===this)}_updateNoDataRow(){const ft=this._customNoDataRow||this._noDataRow;if(!ft)return;const lt=0===this._rowOutlet.viewContainer.length;if(lt===this._isShowingNoDataRow)return;const Ft=this._noDataRowOutlet.viewContainer;if(lt){const Ct=Ft.createEmbeddedView(ft.templateRef),Wt=Ct.rootNodes[0];1===Ct.rootNodes.length&&Wt?.nodeType===this._document.ELEMENT_NODE&&(Wt.setAttribute("role","row"),Wt.classList.add(ft._contentClassName))}else Ft.clear();this._isShowingNoDataRow=lt,this._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(lt){return new(lt||wt)(p.rXU(p._q3),p.rXU(p.gRc),p.rXU(p.aKT),p.kS0("role"),p.rXU(e.dS,8),p.rXU(g.qQ),p.rXU(l.OD),p.rXU(n.sL),p.rXU(J),p.rXU(h.Xj),p.rXU($e,12),p.rXU(p.SKi,8))};static#t=this.\u0275cmp=p.VBU({type:wt,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(lt,Ft,Ct){if(1&lt&&(p.wni(Ct,he,5),p.wni(Ct,A,5),p.wni(Ct,W,5),p.wni(Ct,k,5),p.wni(Ct,j,5)),2&lt){let Wt;p.mGM(Wt=p.lsd())&&(Ft._noDataRow=Wt.first),p.mGM(Wt=p.lsd())&&(Ft._contentColumnDefs=Wt),p.mGM(Wt=p.lsd())&&(Ft._contentRowDefs=Wt),p.mGM(Wt=p.lsd())&&(Ft._contentHeaderRowDefs=Wt),p.mGM(Wt=p.lsd())&&(Ft._contentFooterRowDefs=Wt)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(lt,Ft){2&lt&&p.AVh("cdk-table-fixed-layout",Ft.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",p.L39],fixedLayout:[2,"fixedLayout","fixedLayout",p.L39]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[p.Jv_([{provide:x,useExisting:wt},{provide:n.sL,useClass:n.xn},{provide:J,useClass:te},{provide:$e,useValue:null}]),p.GFd,p.aNF],ngContentSelectors:v,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(lt,Ft){1&lt&&(p.NAR(m),p.SdG(0),p.SdG(1,1),p.DNE(2,O,1,0)(3,S,7,0)(4,P,4,0)),2&lt&&(p.R7$(2),p.vxM(Ft._isServer?2:-1),p.R7$(),p.vxM(Ft._isNativeHtmlTable?3:4))},dependencies:[Pt,xt,Le,yt],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}return wt})();function Q(wt,Zt){return wt.concat(Array.from(Zt))}function Te(wt,Zt){const ft=Zt.toUpperCase();let lt=wt.viewContainer.element.nativeElement;for(;lt;){const Ft=1===lt.nodeType?lt.nodeName:null;if(Ft===ft)return lt;if("TABLE"===Ft)break;lt=lt.parentNode}return null}let Je=(()=>{class wt{get name(){return this._name}set name(ft){this._name=ft,this._syncColumnDefName()}constructor(ft,lt){this._table=ft,this._options=lt,this.justify="start",this._options=lt||{}}ngOnInit(){this._syncColumnDefName(),void 0===this.headerText&&(this.headerText=this._createDefaultHeaderText()),this.dataAccessor||(this.dataAccessor=this._options.defaultDataAccessor||((ft,lt)=>ft[lt])),this._table&&(this.columnDef.cell=this.cell,this.columnDef.headerCell=this.headerCell,this._table.addColumnDef(this.columnDef))}ngOnDestroy(){this._table&&this._table.removeColumnDef(this.columnDef)}_createDefaultHeaderText(){const ft=this.name;return this._options&&this._options.defaultHeaderTextTransform?this._options.defaultHeaderTextTransform(ft):ft[0].toUpperCase()+ft.slice(1)}_syncColumnDefName(){this.columnDef&&(this.columnDef.name=this.name)}static#e=this.\u0275fac=function(lt){return new(lt||wt)(p.rXU(ue,8),p.rXU(I,8))};static#t=this.\u0275cmp=p.VBU({type:wt,selectors:[["cdk-text-column"]],viewQuery:function(lt,Ft){if(1&lt&&(p.GBs(A,7),p.GBs(_,7),p.GBs(C,7)),2&lt){let Ct;p.mGM(Ct=p.lsd())&&(Ft.columnDef=Ct.first),p.mGM(Ct=p.lsd())&&(Ft.cell=Ct.first),p.mGM(Ct=p.lsd())&&(Ft.headerCell=Ct.first)}},inputs:{name:"name",headerText:"headerText",dataAccessor:"dataAccessor",justify:"justify"},standalone:!0,features:[p.aNF],decls:3,vars:0,consts:[["cdkColumnDef",""],["cdk-header-cell","",3,"text-align",4,"cdkHeaderCellDef"],["cdk-cell","",3,"text-align",4,"cdkCellDef"],["cdk-header-cell",""],["cdk-cell",""]],template:function(lt,Ft){1&lt&&(p.qex(0,0),p.DNE(1,M,2,3,"th",1)(2,w,2,3,"td",2),p.bVm())},dependencies:[A,C,F,_,U],encapsulation:2})}return wt})(),qt=(()=>{class wt{static#e=this.\u0275fac=function(lt){return new(lt||wt)};static#t=this.\u0275mod=p.$C({type:wt});static#n=this.\u0275inj=p.G2t({imports:[h.E9]})}return wt})()},177:(gt,re,o)=>{"use strict";o.d(re,{AJ:()=>vs,Jj:()=>no,MD:()=>as,N0:()=>Wr,OI:()=>ci,P9:()=>Rs,Pc:()=>cr,QT:()=>l,Sm:()=>P,Sq:()=>kt,T3:()=>Kn,UE:()=>Kr,VF:()=>g,Vy:()=>sa,Xr:()=>ra,YU:()=>ni,ZD:()=>h,_b:()=>to,aZ:()=>w,bT:()=>Z,e1:()=>Pn,fG:()=>ui,fw:()=>M,hb:()=>O,hj:()=>d,oe:()=>Po,qQ:()=>f,ux:()=>Qt,vh:()=>Ja});var e=o(3953);let n=null;function l(){return n}function h(_e){n??=_e}class g{}const f=new e.nKC("");let b=(()=>{class _e{historyGo(Ne){throw new Error("")}static#e=this.\u0275fac=function(ot){return new(ot||_e)};static#t=this.\u0275prov=e.jDH({token:_e,factory:()=>(0,e.WQX)(y),providedIn:"platform"})}return _e})();const d=new e.nKC("");let y=(()=>{class _e extends b{constructor(){super(),this._doc=(0,e.WQX)(f),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return l().getBaseHref(this._doc)}onPopState(Ne){const ot=l().getGlobalEventTarget(this._doc,"window");return ot.addEventListener("popstate",Ne,!1),()=>ot.removeEventListener("popstate",Ne)}onHashChange(Ne){const ot=l().getGlobalEventTarget(this._doc,"window");return ot.addEventListener("hashchange",Ne,!1),()=>ot.removeEventListener("hashchange",Ne)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Ne){this._location.pathname=Ne}pushState(Ne,ot,Kt){this._history.pushState(Ne,ot,Kt)}replaceState(Ne,ot,Kt){this._history.replaceState(Ne,ot,Kt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Ne=0){this._history.go(Ne)}getState(){return this._history.state}static#e=this.\u0275fac=function(ot){return new(ot||_e)};static#t=this.\u0275prov=e.jDH({token:_e,factory:()=>new _e,providedIn:"platform"})}return _e})();function R(_e,dt){if(0==_e.length)return dt;if(0==dt.length)return _e;let Ne=0;return _e.endsWith("/")&&Ne++,dt.startsWith("/")&&Ne++,2==Ne?_e+dt.substring(1):1==Ne?_e+dt:_e+"/"+dt}function m(_e){const dt=_e.match(/#|\?|$/),Ne=dt&&dt.index||_e.length;return _e.slice(0,Ne-("/"===_e[Ne-1]?1:0))+_e.slice(Ne)}function v(_e){return _e&&"?"!==_e[0]?"?"+_e:_e}let O=(()=>{class _e{historyGo(Ne){throw new Error("")}static#e=this.\u0275fac=function(ot){return new(ot||_e)};static#t=this.\u0275prov=e.jDH({token:_e,factory:()=>(0,e.WQX)(P),providedIn:"root"})}return _e})();const S=new e.nKC("");let P=(()=>{class _e extends O{constructor(Ne,ot){super(),this._platformLocation=Ne,this._removeListenerFns=[],this._baseHref=ot??this._platformLocation.getBaseHrefFromDOM()??(0,e.WQX)(f).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ne){this._removeListenerFns.push(this._platformLocation.onPopState(Ne),this._platformLocation.onHashChange(Ne))}getBaseHref(){return this._baseHref}prepareExternalUrl(Ne){return R(this._baseHref,Ne)}path(Ne=!1){const ot=this._platformLocation.pathname+v(this._platformLocation.search),Kt=this._platformLocation.hash;return Kt&&Ne?`${ot}${Kt}`:ot}pushState(Ne,ot,Kt,dn){const Tn=this.prepareExternalUrl(Kt+v(dn));this._platformLocation.pushState(Ne,ot,Tn)}replaceState(Ne,ot,Kt,dn){const Tn=this.prepareExternalUrl(Kt+v(dn));this._platformLocation.replaceState(Ne,ot,Tn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ne=0){this._platformLocation.historyGo?.(Ne)}static#e=this.\u0275fac=function(ot){return new(ot||_e)(e.KVO(b),e.KVO(S,8))};static#t=this.\u0275prov=e.jDH({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})(),M=(()=>{class _e extends O{constructor(Ne,ot){super(),this._platformLocation=Ne,this._baseHref="",this._removeListenerFns=[],null!=ot&&(this._baseHref=ot)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ne){this._removeListenerFns.push(this._platformLocation.onPopState(Ne),this._platformLocation.onHashChange(Ne))}getBaseHref(){return this._baseHref}path(Ne=!1){const ot=this._platformLocation.hash??"#";return ot.length>0?ot.substring(1):ot}prepareExternalUrl(Ne){const ot=R(this._baseHref,Ne);return ot.length>0?"#"+ot:ot}pushState(Ne,ot,Kt,dn){let Tn=this.prepareExternalUrl(Kt+v(dn));0==Tn.length&&(Tn=this._platformLocation.pathname),this._platformLocation.pushState(Ne,ot,Tn)}replaceState(Ne,ot,Kt,dn){let Tn=this.prepareExternalUrl(Kt+v(dn));0==Tn.length&&(Tn=this._platformLocation.pathname),this._platformLocation.replaceState(Ne,ot,Tn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ne=0){this._platformLocation.historyGo?.(Ne)}static#e=this.\u0275fac=function(ot){return new(ot||_e)(e.KVO(b),e.KVO(S,8))};static#t=this.\u0275prov=e.jDH({token:_e,factory:_e.\u0275fac})}return _e})(),w=(()=>{class _e{constructor(Ne){this._subject=new e.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Ne;const ot=this._locationStrategy.getBaseHref();this._basePath=function C(_e){if(new RegExp("^(https?:)?//").test(_e)){const[,Ne]=_e.split(/\/\/[^\/]+/);return Ne}return _e}(m(_(ot))),this._locationStrategy.onPopState(Kt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Kt.state,type:Kt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Ne=!1){return this.normalize(this._locationStrategy.path(Ne))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Ne,ot=""){return this.path()==this.normalize(Ne+v(ot))}normalize(Ne){return _e.stripTrailingSlash(function I(_e,dt){if(!_e||!dt.startsWith(_e))return dt;const Ne=dt.substring(_e.length);return""===Ne||["/",";","?","#"].includes(Ne[0])?Ne:dt}(this._basePath,_(Ne)))}prepareExternalUrl(Ne){return Ne&&"/"!==Ne[0]&&(Ne="/"+Ne),this._locationStrategy.prepareExternalUrl(Ne)}go(Ne,ot="",Kt=null){this._locationStrategy.pushState(Kt,"",Ne,ot),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ne+v(ot)),Kt)}replaceState(Ne,ot="",Kt=null){this._locationStrategy.replaceState(Kt,"",Ne,ot),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ne+v(ot)),Kt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Ne=0){this._locationStrategy.historyGo?.(Ne)}onUrlChange(Ne){return this._urlChangeListeners.push(Ne),this._urlChangeSubscription??=this.subscribe(ot=>{this._notifyUrlChangeListeners(ot.url,ot.state)}),()=>{const ot=this._urlChangeListeners.indexOf(Ne);this._urlChangeListeners.splice(ot,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Ne="",ot){this._urlChangeListeners.forEach(Kt=>Kt(Ne,ot))}subscribe(Ne,ot,Kt){return this._subject.subscribe({next:Ne,error:ot,complete:Kt})}static#e=this.normalizeQueryParams=v;static#t=this.joinWithSlash=R;static#n=this.stripTrailingSlash=m;static#i=this.\u0275fac=function(ot){return new(ot||_e)(e.KVO(O))};static#o=this.\u0275prov=e.jDH({token:_e,factory:()=>function x(){return new w((0,e.KVO)(O))}(),providedIn:"root"})}return _e})();function _(_e){return _e.replace(/\/index.html$/,"")}const D={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var A=function(_e){return _e[_e.Decimal=0]="Decimal",_e[_e.Percent=1]="Percent",_e[_e.Currency=2]="Currency",_e[_e.Scientific=3]="Scientific",_e}(A||{}),F=function(_e){return _e[_e.Format=0]="Format",_e[_e.Standalone=1]="Standalone",_e}(F||{}),$=function(_e){return _e[_e.Narrow=0]="Narrow",_e[_e.Abbreviated=1]="Abbreviated",_e[_e.Wide=2]="Wide",_e[_e.Short=3]="Short",_e}($||{}),U=function(_e){return _e[_e.Short=0]="Short",_e[_e.Medium=1]="Medium",_e[_e.Long=2]="Long",_e[_e.Full=3]="Full",_e}(U||{});const G={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function ce(_e,dt){return $e((0,e.H5H)(_e)[e.KH2.DateFormat],dt)}function oe(_e,dt){return $e((0,e.H5H)(_e)[e.KH2.TimeFormat],dt)}function me(_e,dt){return $e((0,e.H5H)(_e)[e.KH2.DateTimeFormat],dt)}function he(_e,dt){const Ne=(0,e.H5H)(_e),ot=Ne[e.KH2.NumberSymbols][dt];if(typeof ot>"u"){if(dt===G.CurrencyDecimal)return Ne[e.KH2.NumberSymbols][G.Decimal];if(dt===G.CurrencyGroup)return Ne[e.KH2.NumberSymbols][G.Group]}return ot}function pe(_e){if(!_e[e.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${_e[e.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function $e(_e,dt){for(let Ne=dt;Ne>-1;Ne--)if(typeof _e[Ne]<"u")return _e[Ne];throw new Error("Locale data API: locale data undefined")}function tt(_e){const[dt,Ne]=_e.split(":");return{hours:+dt,minutes:+Ne}}const Le=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,De={},V=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ue=function(_e){return _e[_e.Short=0]="Short",_e[_e.ShortGMT=1]="ShortGMT",_e[_e.Long=2]="Long",_e[_e.Extended=3]="Extended",_e}(ue||{}),Q=function(_e){return _e[_e.FullYear=0]="FullYear",_e[_e.Month=1]="Month",_e[_e.Date=2]="Date",_e[_e.Hours=3]="Hours",_e[_e.Minutes=4]="Minutes",_e[_e.Seconds=5]="Seconds",_e[_e.FractionalSeconds=6]="FractionalSeconds",_e[_e.Day=7]="Day",_e}(Q||{}),Te=function(_e){return _e[_e.DayPeriods=0]="DayPeriods",_e[_e.Days=1]="Days",_e[_e.Months=2]="Months",_e[_e.Eras=3]="Eras",_e}(Te||{});function Je(_e,dt,Ne,ot){let Kt=function vt(_e){if(Pe(_e))return _e;if("number"==typeof _e&&!isNaN(_e))return new Date(_e);if("string"==typeof _e){if(_e=_e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(_e)){const[Kt,dn=1,Tn=1]=_e.split("-").map(Hn=>+Hn);return Nt(Kt,dn-1,Tn)}const Ne=parseFloat(_e);if(!isNaN(_e-Ne))return new Date(Ne);let ot;if(ot=_e.match(Le))return function Ue(_e){const dt=new Date(0);let Ne=0,ot=0;const Kt=_e[8]?dt.setUTCFullYear:dt.setFullYear,dn=_e[8]?dt.setUTCHours:dt.setHours;_e[9]&&(Ne=Number(_e[9]+_e[10]),ot=Number(_e[9]+_e[11])),Kt.call(dt,Number(_e[1]),Number(_e[2])-1,Number(_e[3]));const Tn=Number(_e[4]||0)-Ne,Hn=Number(_e[5]||0)-ot,Oo=Number(_e[6]||0),Ci=Math.floor(1e3*parseFloat("0."+(_e[7]||0)));return dn.call(dt,Tn,Hn,Oo,Ci),dt}(ot)}const dt=new Date(_e);if(!Pe(dt))throw new Error(`Unable to convert "${_e}" into a date`);return dt}(_e);dt=qt(Ne,dt)||dt;let Hn,Tn=[];for(;dt;){if(Hn=V.exec(dt),!Hn){Tn.push(dt);break}{Tn=Tn.concat(Hn.slice(1));const uo=Tn.pop();if(!uo)break;dt=uo}}let Oo=Kt.getTimezoneOffset();ot&&(Oo=ae(ot,Oo),Kt=function ze(_e,dt,Ne){const ot=Ne?-1:1,Kt=_e.getTimezoneOffset();return function ve(_e,dt){return(_e=new Date(_e.getTime())).setMinutes(_e.getMinutes()+dt),_e}(_e,ot*(ae(dt,Kt)-Kt))}(Kt,ot,!0));let Ci="";return Tn.forEach(uo=>{const xn=function Fe(_e){if(be[_e])return be[_e];let dt;switch(_e){case"G":case"GG":case"GGG":dt=Ft(Te.Eras,$.Abbreviated);break;case"GGGG":dt=Ft(Te.Eras,$.Wide);break;case"GGGGG":dt=Ft(Te.Eras,$.Narrow);break;case"y":dt=ft(Q.FullYear,1,0,!1,!0);break;case"yy":dt=ft(Q.FullYear,2,0,!0,!0);break;case"yyy":dt=ft(Q.FullYear,3,0,!1,!0);break;case"yyyy":dt=ft(Q.FullYear,4,0,!1,!0);break;case"Y":dt=ut(1);break;case"YY":dt=ut(2,!0);break;case"YYY":dt=ut(3);break;case"YYYY":dt=ut(4);break;case"M":case"L":dt=ft(Q.Month,1,1);break;case"MM":case"LL":dt=ft(Q.Month,2,1);break;case"MMM":dt=Ft(Te.Months,$.Abbreviated);break;case"MMMM":dt=Ft(Te.Months,$.Wide);break;case"MMMMM":dt=Ft(Te.Months,$.Narrow);break;case"LLL":dt=Ft(Te.Months,$.Abbreviated,F.Standalone);break;case"LLLL":dt=Ft(Te.Months,$.Wide,F.Standalone);break;case"LLLLL":dt=Ft(Te.Months,$.Narrow,F.Standalone);break;case"w":dt=Zn(1);break;case"ww":dt=Zn(2);break;case"W":dt=Zn(1,!0);break;case"d":dt=ft(Q.Date,1);break;case"dd":dt=ft(Q.Date,2);break;case"c":case"cc":dt=ft(Q.Day,1);break;case"ccc":dt=Ft(Te.Days,$.Abbreviated,F.Standalone);break;case"cccc":dt=Ft(Te.Days,$.Wide,F.Standalone);break;case"ccccc":dt=Ft(Te.Days,$.Narrow,F.Standalone);break;case"cccccc":dt=Ft(Te.Days,$.Short,F.Standalone);break;case"E":case"EE":case"EEE":dt=Ft(Te.Days,$.Abbreviated);break;case"EEEE":dt=Ft(Te.Days,$.Wide);break;case"EEEEE":dt=Ft(Te.Days,$.Narrow);break;case"EEEEEE":dt=Ft(Te.Days,$.Short);break;case"a":case"aa":case"aaa":dt=Ft(Te.DayPeriods,$.Abbreviated);break;case"aaaa":dt=Ft(Te.DayPeriods,$.Wide);break;case"aaaaa":dt=Ft(Te.DayPeriods,$.Narrow);break;case"b":case"bb":case"bbb":dt=Ft(Te.DayPeriods,$.Abbreviated,F.Standalone,!0);break;case"bbbb":dt=Ft(Te.DayPeriods,$.Wide,F.Standalone,!0);break;case"bbbbb":dt=Ft(Te.DayPeriods,$.Narrow,F.Standalone,!0);break;case"B":case"BB":case"BBB":dt=Ft(Te.DayPeriods,$.Abbreviated,F.Format,!0);break;case"BBBB":dt=Ft(Te.DayPeriods,$.Wide,F.Format,!0);break;case"BBBBB":dt=Ft(Te.DayPeriods,$.Narrow,F.Format,!0);break;case"h":dt=ft(Q.Hours,1,-12);break;case"hh":dt=ft(Q.Hours,2,-12);break;case"H":dt=ft(Q.Hours,1);break;case"HH":dt=ft(Q.Hours,2);break;case"m":dt=ft(Q.Minutes,1);break;case"mm":dt=ft(Q.Minutes,2);break;case"s":dt=ft(Q.Seconds,1);break;case"ss":dt=ft(Q.Seconds,2);break;case"S":dt=ft(Q.FractionalSeconds,1);break;case"SS":dt=ft(Q.FractionalSeconds,2);break;case"SSS":dt=ft(Q.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":dt=Wt(ue.Short);break;case"ZZZZZ":dt=Wt(ue.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":dt=Wt(ue.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":dt=Wt(ue.Long);break;default:return null}return be[_e]=dt,dt}(uo);Ci+=xn?xn(Kt,Ne,Oo):"''"===uo?"'":uo.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Ci}function Nt(_e,dt,Ne){const ot=new Date(0);return ot.setFullYear(_e,dt,Ne),ot.setHours(0,0,0),ot}function qt(_e,dt){const Ne=function te(_e){return(0,e.H5H)(_e)[e.KH2.LocaleId]}(_e);if(De[Ne]??={},De[Ne][dt])return De[Ne][dt];let ot="";switch(dt){case"shortDate":ot=ce(_e,U.Short);break;case"mediumDate":ot=ce(_e,U.Medium);break;case"longDate":ot=ce(_e,U.Long);break;case"fullDate":ot=ce(_e,U.Full);break;case"shortTime":ot=oe(_e,U.Short);break;case"mediumTime":ot=oe(_e,U.Medium);break;case"longTime":ot=oe(_e,U.Long);break;case"fullTime":ot=oe(_e,U.Full);break;case"short":const Kt=qt(_e,"shortTime"),dn=qt(_e,"shortDate");ot=hn(me(_e,U.Short),[Kt,dn]);break;case"medium":const Tn=qt(_e,"mediumTime"),Hn=qt(_e,"mediumDate");ot=hn(me(_e,U.Medium),[Tn,Hn]);break;case"long":const Oo=qt(_e,"longTime"),Ci=qt(_e,"longDate");ot=hn(me(_e,U.Long),[Oo,Ci]);break;case"full":const uo=qt(_e,"fullTime"),xn=qt(_e,"fullDate");ot=hn(me(_e,U.Full),[uo,xn])}return ot&&(De[Ne][dt]=ot),ot}function hn(_e,dt){return dt&&(_e=_e.replace(/\{([^}]+)}/g,function(Ne,ot){return null!=dt&&ot in dt?dt[ot]:Ne})),_e}function wt(_e,dt,Ne="-",ot,Kt){let dn="";(_e<0||Kt&&_e<=0)&&(Kt?_e=1-_e:(_e=-_e,dn=Ne));let Tn=String(_e);for(;Tn.length<dt;)Tn="0"+Tn;return ot&&(Tn=Tn.slice(Tn.length-dt)),dn+Tn}function ft(_e,dt,Ne=0,ot=!1,Kt=!1){return function(dn,Tn){let Hn=function lt(_e,dt){switch(_e){case Q.FullYear:return dt.getFullYear();case Q.Month:return dt.getMonth();case Q.Date:return dt.getDate();case Q.Hours:return dt.getHours();case Q.Minutes:return dt.getMinutes();case Q.Seconds:return dt.getSeconds();case Q.FractionalSeconds:return dt.getMilliseconds();case Q.Day:return dt.getDay();default:throw new Error(`Unknown DateType value "${_e}".`)}}(_e,dn);if((Ne>0||Hn>-Ne)&&(Hn+=Ne),_e===Q.Hours)0===Hn&&-12===Ne&&(Hn=12);else if(_e===Q.FractionalSeconds)return function Zt(_e,dt){return wt(_e,3).substring(0,dt)}(Hn,dt);const Oo=he(Tn,G.MinusSign);return wt(Hn,dt,Oo,ot,Kt)}}function Ft(_e,dt,Ne=F.Format,ot=!1){return function(Kt,dn){return function Ct(_e,dt,Ne,ot,Kt,dn){switch(Ne){case Te.Months:return function k(_e,dt,Ne){const ot=(0,e.H5H)(_e),dn=$e([ot[e.KH2.MonthsFormat],ot[e.KH2.MonthsStandalone]],dt);return $e(dn,Ne)}(dt,Kt,ot)[_e.getMonth()];case Te.Days:return function K(_e,dt,Ne){const ot=(0,e.H5H)(_e),dn=$e([ot[e.KH2.DaysFormat],ot[e.KH2.DaysStandalone]],dt);return $e(dn,Ne)}(dt,Kt,ot)[_e.getDay()];case Te.DayPeriods:const Tn=_e.getHours(),Hn=_e.getMinutes();if(dn){const Ci=function Ee(_e){const dt=(0,e.H5H)(_e);return pe(dt),(dt[e.KH2.ExtraData][2]||[]).map(ot=>"string"==typeof ot?tt(ot):[tt(ot[0]),tt(ot[1])])}(dt),uo=function Ge(_e,dt,Ne){const ot=(0,e.H5H)(_e);pe(ot);const dn=$e([ot[e.KH2.ExtraData][0],ot[e.KH2.ExtraData][1]],dt)||[];return $e(dn,Ne)||[]}(dt,Kt,ot),xn=Ci.findIndex(Ki=>{if(Array.isArray(Ki)){const[Yi,co]=Ki,ua=Tn>=Yi.hours&&Hn>=Yi.minutes,pr=Tn<co.hours||Tn===co.hours&&Hn<co.minutes;if(Yi.hours<co.hours){if(ua&&pr)return!0}else if(ua||pr)return!0}else if(Ki.hours===Tn&&Ki.minutes===Hn)return!0;return!1});if(-1!==xn)return uo[xn]}return function ne(_e,dt,Ne){const ot=(0,e.H5H)(_e),dn=$e([ot[e.KH2.DayPeriodsFormat],ot[e.KH2.DayPeriodsStandalone]],dt);return $e(dn,Ne)}(dt,Kt,ot)[Tn<12?0:1];case Te.Eras:return function j(_e,dt){return $e((0,e.H5H)(_e)[e.KH2.Eras],dt)}(dt,ot)[_e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Ne}`)}}(Kt,dn,_e,dt,Ne,ot)}}function Wt(_e){return function(dt,Ne,ot){const Kt=-1*ot,dn=he(Ne,G.MinusSign),Tn=Kt>0?Math.floor(Kt/60):Math.ceil(Kt/60);switch(_e){case ue.Short:return(Kt>=0?"+":"")+wt(Tn,2,dn)+wt(Math.abs(Kt%60),2,dn);case ue.ShortGMT:return"GMT"+(Kt>=0?"+":"")+wt(Tn,1,dn);case ue.Long:return"GMT"+(Kt>=0?"+":"")+wt(Tn,2,dn)+":"+wt(Math.abs(Kt%60),2,dn);case ue.Extended:return 0===ot?"Z":(Kt>=0?"+":"")+wt(Tn,2,dn)+":"+wt(Math.abs(Kt%60),2,dn);default:throw new Error(`Unknown zone width "${_e}"`)}}}const en=0,on=4;function Sn(_e){const dt=_e.getDay(),Ne=0===dt?-3:on-dt;return Nt(_e.getFullYear(),_e.getMonth(),_e.getDate()+Ne)}function Zn(_e,dt=!1){return function(Ne,ot){let Kt;if(dt){const dn=new Date(Ne.getFullYear(),Ne.getMonth(),1).getDay()-1,Tn=Ne.getDate();Kt=1+Math.floor((Tn+dn)/7)}else{const dn=Sn(Ne),Tn=function _n(_e){const dt=Nt(_e,en,1).getDay();return Nt(_e,0,1+(dt<=on?on:on+7)-dt)}(dn.getFullYear()),Hn=dn.getTime()-Tn.getTime();Kt=1+Math.round(Hn/6048e5)}return wt(Kt,_e,he(ot,G.MinusSign))}}function ut(_e,dt=!1){return function(Ne,ot){return wt(Sn(Ne).getFullYear(),_e,he(ot,G.MinusSign),dt)}}const be={};function ae(_e,dt){_e=_e.replace(/:/g,"");const Ne=Date.parse("Jan 01, 1970 00:00:00 "+_e)/6e4;return isNaN(Ne)?dt:Ne}function Pe(_e){return _e instanceof Date&&!isNaN(_e.valueOf())}const Ke=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Ie=22,Ze=".",nt="0",Lt=";",jt=",",Dt="#";function Gt(_e,dt,Ne,ot,Kt){const Tn=function vn(_e,dt="-"){const Ne={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ot=_e.split(Lt),Kt=ot[0],dn=ot[1],Tn=-1!==Kt.indexOf(Ze)?Kt.split(Ze):[Kt.substring(0,Kt.lastIndexOf(nt)+1),Kt.substring(Kt.lastIndexOf(nt)+1)],Hn=Tn[0],Oo=Tn[1]||"";Ne.posPre=Hn.substring(0,Hn.indexOf(Dt));for(let uo=0;uo<Oo.length;uo++){const xn=Oo.charAt(uo);xn===nt?Ne.minFrac=Ne.maxFrac=uo+1:xn===Dt?Ne.maxFrac=uo+1:Ne.posSuf+=xn}const Ci=Hn.split(jt);if(Ne.gSize=Ci[1]?Ci[1].length:0,Ne.lgSize=Ci[2]||Ci[1]?(Ci[2]||Ci[1]).length:0,dn){const uo=Kt.length-Ne.posPre.length-Ne.posSuf.length,xn=dn.indexOf(Dt);Ne.negPre=dn.substring(0,xn).replace(/'/g,""),Ne.negSuf=dn.slice(xn+uo).replace(/'/g,"")}else Ne.negPre=dt+Ne.posPre,Ne.negSuf=Ne.posSuf;return Ne}(function Oe(_e,dt){return(0,e.H5H)(_e)[e.KH2.NumberFormats][dt]}(dt,A.Currency),he(dt,G.MinusSign));return Tn.minFrac=function yt(_e){let dt;const Ne=D[_e];return Ne&&(dt=Ne[2]),"number"==typeof dt?dt:2}(ot),Tn.maxFrac=Tn.minFrac,function It(_e,dt,Ne,ot,Kt,dn,Tn=!1){let Hn="",Oo=!1;if(isFinite(_e)){let Ci=function ti(_e){let ot,Kt,dn,Tn,Hn,dt=Math.abs(_e)+"",Ne=0;for((Kt=dt.indexOf(Ze))>-1&&(dt=dt.replace(Ze,"")),(dn=dt.search(/e/i))>0?(Kt<0&&(Kt=dn),Kt+=+dt.slice(dn+1),dt=dt.substring(0,dn)):Kt<0&&(Kt=dt.length),dn=0;dt.charAt(dn)===nt;dn++);if(dn===(Hn=dt.length))ot=[0],Kt=1;else{for(Hn--;dt.charAt(Hn)===nt;)Hn--;for(Kt-=dn,ot=[],Tn=0;dn<=Hn;dn++,Tn++)ot[Tn]=Number(dt.charAt(dn))}return Kt>Ie&&(ot=ot.splice(0,Ie-1),Ne=Kt-1,Kt=1),{digits:ot,exponent:Ne,integerLen:Kt}}(_e);Tn&&(Ci=function wn(_e){if(0===_e.digits[0])return _e;const dt=_e.digits.length-_e.integerLen;return _e.exponent?_e.exponent+=2:(0===dt?_e.digits.push(0,0):1===dt&&_e.digits.push(0),_e.integerLen+=2),_e}(Ci));let uo=dt.minInt,xn=dt.minFrac,Ki=dt.maxFrac;if(dn){const Ks=dn.match(Ke);if(null===Ks)throw new Error(`${dn} is not a valid digit info`);const Ho=Ks[1],Mn=Ks[3],Ws=Ks[5];null!=Ho&&(uo=bn(Ho)),null!=Mn&&(xn=bn(Mn)),null!=Ws?Ki=bn(Ws):null!=Mn&&xn>Ki&&(Ki=xn)}!function Qn(_e,dt,Ne){if(dt>Ne)throw new Error(`The minimum number of digits after fraction (${dt}) is higher than the maximum (${Ne}).`);let ot=_e.digits,Kt=ot.length-_e.integerLen;const dn=Math.min(Math.max(dt,Kt),Ne);let Tn=dn+_e.integerLen,Hn=ot[Tn];if(Tn>0){ot.splice(Math.max(_e.integerLen,Tn));for(let xn=Tn;xn<ot.length;xn++)ot[xn]=0}else{Kt=Math.max(0,Kt),_e.integerLen=1,ot.length=Math.max(1,Tn=dn+1),ot[0]=0;for(let xn=1;xn<Tn;xn++)ot[xn]=0}if(Hn>=5)if(Tn-1<0){for(let xn=0;xn>Tn;xn--)ot.unshift(0),_e.integerLen++;ot.unshift(1),_e.integerLen++}else ot[Tn-1]++;for(;Kt<Math.max(0,dn);Kt++)ot.push(0);let Oo=0!==dn;const Ci=dt+_e.integerLen,uo=ot.reduceRight(function(xn,Ki,Yi,co){return co[Yi]=(Ki+=xn)<10?Ki:Ki-10,Oo&&(0===co[Yi]&&Yi>=Ci?co.pop():Oo=!1),Ki>=10?1:0},0);uo&&(ot.unshift(uo),_e.integerLen++)}(Ci,xn,Ki);let Yi=Ci.digits,co=Ci.integerLen;const ua=Ci.exponent;let pr=[];for(Oo=Yi.every(Ks=>!Ks);co<uo;co++)Yi.unshift(0);for(;co<0;co++)Yi.unshift(0);co>0?pr=Yi.splice(co,Yi.length):(pr=Yi,Yi=[0]);const ha=[];for(Yi.length>=dt.lgSize&&ha.unshift(Yi.splice(-dt.lgSize,Yi.length).join(""));Yi.length>dt.gSize;)ha.unshift(Yi.splice(-dt.gSize,Yi.length).join(""));Yi.length&&ha.unshift(Yi.join("")),Hn=ha.join(he(Ne,ot)),pr.length&&(Hn+=he(Ne,Kt)+pr.join("")),ua&&(Hn+=he(Ne,G.Exponential)+"+"+ua)}else Hn=he(Ne,G.Infinity);return Hn=_e<0&&!Oo?dt.negPre+Hn+dt.negSuf:dt.posPre+Hn+dt.posSuf,Hn}(_e,Tn,dt,G.CurrencyGroup,G.CurrencyDecimal,Kt).replace("\xa4",Ne).replace("\xa4","").trim()}function bn(_e){const dt=parseInt(_e);if(isNaN(dt))throw new Error("Invalid integer literal when parsing "+_e);return dt}function to(_e,dt){dt=encodeURIComponent(dt);for(const Ne of _e.split(";")){const ot=Ne.indexOf("="),[Kt,dn]=-1==ot?[Ne,""]:[Ne.slice(0,ot),Ne.slice(ot+1)];if(Kt.trim()===dt)return decodeURIComponent(dn)}return null}const Si=/\s+/,Vn=[];let ni=(()=>{class _e{constructor(Ne,ot){this._ngEl=Ne,this._renderer=ot,this.initialClasses=Vn,this.stateMap=new Map}set klass(Ne){this.initialClasses=null!=Ne?Ne.trim().split(Si):Vn}set ngClass(Ne){this.rawClass="string"==typeof Ne?Ne.trim().split(Si):Ne}ngDoCheck(){for(const ot of this.initialClasses)this._updateState(ot,!0);const Ne=this.rawClass;if(Array.isArray(Ne)||Ne instanceof Set)for(const ot of Ne)this._updateState(ot,!0);else if(null!=Ne)for(const ot of Object.keys(Ne))this._updateState(ot,!!Ne[ot]);this._applyStateDiff()}_updateState(Ne,ot){const Kt=this.stateMap.get(Ne);void 0!==Kt?(Kt.enabled!==ot&&(Kt.changed=!0,Kt.enabled=ot),Kt.touched=!0):this.stateMap.set(Ne,{enabled:ot,changed:!0,touched:!0})}_applyStateDiff(){for(const Ne of this.stateMap){const ot=Ne[0],Kt=Ne[1];Kt.changed?(this._toggleClass(ot,Kt.enabled),Kt.changed=!1):Kt.touched||(Kt.enabled&&this._toggleClass(ot,!1),this.stateMap.delete(ot)),Kt.touched=!1}}_toggleClass(Ne,ot){(Ne=Ne.trim()).length>0&&Ne.split(Si).forEach(Kt=>{ot?this._renderer.addClass(this._ngEl.nativeElement,Kt):this._renderer.removeClass(this._ngEl.nativeElement,Kt)})}static#e=this.\u0275fac=function(ot){return new(ot||_e)(e.rXU(e.aKT),e.rXU(e.sFG))};static#t=this.\u0275dir=e.FsC({type:_e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}return _e})(),ci=(()=>{class _e{constructor(Ne){this._viewContainerRef=Ne,this.ngComponentOutlet=null,this._inputsUsed=new Map}_needToReCreateNgModuleInstance(Ne){return void 0!==Ne.ngComponentOutletNgModule||void 0!==Ne.ngComponentOutletNgModuleFactory}_needToReCreateComponentInstance(Ne){return void 0!==Ne.ngComponentOutlet||void 0!==Ne.ngComponentOutletContent||void 0!==Ne.ngComponentOutletInjector||this._needToReCreateNgModuleInstance(Ne)}ngOnChanges(Ne){if(this._needToReCreateComponentInstance(Ne)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){const ot=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(Ne)&&(this._moduleRef?.destroy(),this._moduleRef=this.ngComponentOutletNgModule?(0,e.w6W)(this.ngComponentOutletNgModule,ht(ot)):this.ngComponentOutletNgModuleFactory?this.ngComponentOutletNgModuleFactory.create(ht(ot)):void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:ot,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(const Ne of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(Ne,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(Ne){for(const[ot,Kt]of this._inputsUsed)Kt?(Ne.setInput(ot,this.ngComponentOutletInputs[ot]),this._inputsUsed.set(ot,!1)):(Ne.setInput(ot,void 0),this._inputsUsed.delete(ot))}static#e=this.\u0275fac=function(ot){return new(ot||_e)(e.rXU(e.c1b))};static#t=this.\u0275dir=e.FsC({type:_e,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[e.OA$]})}return _e})();function ht(_e){return _e.get(e.Vns).injector}class st{constructor(dt,Ne,ot,Kt){this.$implicit=dt,this.ngForOf=Ne,this.index=ot,this.count=Kt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let kt=(()=>{class _e{set ngForOf(Ne){this._ngForOf=Ne,this._ngForOfDirty=!0}set ngForTrackBy(Ne){this._trackByFn=Ne}get ngForTrackBy(){return this._trackByFn}constructor(Ne,ot,Kt){this._viewContainer=Ne,this._template=ot,this._differs=Kt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Ne){Ne&&(this._template=Ne)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Ne=this._ngForOf;!this._differ&&Ne&&(this._differ=this._differs.find(Ne).create(this.ngForTrackBy))}if(this._differ){const Ne=this._differ.diff(this._ngForOf);Ne&&this._applyChanges(Ne)}}_applyChanges(Ne){const ot=this._viewContainer;Ne.forEachOperation((Kt,dn,Tn)=>{if(null==Kt.previousIndex)ot.createEmbeddedView(this._template,new st(Kt.item,this._ngForOf,-1,-1),null===Tn?void 0:Tn);else if(null==Tn)ot.remove(null===dn?void 0:dn);else if(null!==dn){const Hn=ot.get(dn);ot.move(Hn,Tn),xe(Hn,Kt)}});for(let Kt=0,dn=ot.length;Kt<dn;Kt++){const Hn=ot.get(Kt).context;Hn.index=Kt,Hn.count=dn,Hn.ngForOf=this._ngForOf}Ne.forEachIdentityChange(Kt=>{xe(ot.get(Kt.currentIndex),Kt)})}static ngTemplateContextGuard(Ne,ot){return!0}static#e=this.\u0275fac=function(ot){return new(ot||_e)(e.rXU(e.c1b),e.rXU(e.C4Q),e.rXU(e._q3))};static#t=this.\u0275dir=e.FsC({type:_e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return _e})();function xe(_e,dt){_e.context.$implicit=dt.item}let Z=(()=>{class _e{constructor(Ne,ot){this._viewContainer=Ne,this._context=new Ae,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ot}set ngIf(Ne){this._context.$implicit=this._context.ngIf=Ne,this._updateView()}set ngIfThen(Ne){Ve("ngIfThen",Ne),this._thenTemplateRef=Ne,this._thenViewRef=null,this._updateView()}set ngIfElse(Ne){Ve("ngIfElse",Ne),this._elseTemplateRef=Ne,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Ne,ot){return!0}static#e=this.\u0275fac=function(ot){return new(ot||_e)(e.rXU(e.c1b),e.rXU(e.C4Q))};static#t=this.\u0275dir=e.FsC({type:_e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return _e})();class Ae{constructor(){this.$implicit=null,this.ngIf=null}}function Ve(_e,dt){if(dt&&!dt.createEmbeddedView)throw new Error(`${_e} must be a TemplateRef, but received '${(0,e.Tbb)(dt)}'.`)}class _t{constructor(dt,Ne){this._viewContainerRef=dt,this._templateRef=Ne,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(dt){dt&&!this._created?this.create():!dt&&this._created&&this.destroy()}}let Qt=(()=>{class _e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(Ne){this._ngSwitch=Ne,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(Ne){this._defaultViews.push(Ne)}_matchCase(Ne){const ot=Ne===this._ngSwitch;return this._lastCasesMatched||=ot,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),ot}_updateDefaultCases(Ne){if(this._defaultViews.length>0&&Ne!==this._defaultUsed){this._defaultUsed=Ne;for(const ot of this._defaultViews)ot.enforceState(Ne)}}static#e=this.\u0275fac=function(ot){return new(ot||_e)};static#t=this.\u0275dir=e.FsC({type:_e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return _e})(),Pn=(()=>{class _e{constructor(Ne,ot,Kt){this.ngSwitch=Kt,Kt._addCase(),this._view=new _t(Ne,ot)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(ot){return new(ot||_e)(e.rXU(e.c1b),e.rXU(e.C4Q),e.rXU(Qt,9))};static#t=this.\u0275dir=e.FsC({type:_e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return _e})(),ui=(()=>{class _e{constructor(Ne,ot,Kt){Kt._addDefault(new _t(Ne,ot))}static#e=this.\u0275fac=function(ot){return new(ot||_e)(e.rXU(e.c1b),e.rXU(e.C4Q),e.rXU(Qt,9))};static#t=this.\u0275dir=e.FsC({type:_e,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return _e})(),Kn=(()=>{class _e{constructor(Ne){this._viewContainerRef=Ne,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Ne){if(this._shouldRecreateView(Ne)){const ot=this._viewContainerRef;if(this._viewRef&&ot.remove(ot.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Kt=this._createContextForwardProxy();this._viewRef=ot.createEmbeddedView(this.ngTemplateOutlet,Kt,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(Ne){return!!Ne.ngTemplateOutlet||!!Ne.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(Ne,ot,Kt)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,ot,Kt),get:(Ne,ot,Kt)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,ot,Kt)}})}static#e=this.\u0275fac=function(ot){return new(ot||_e)(e.rXU(e.c1b))};static#t=this.\u0275dir=e.FsC({type:_e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[e.OA$]})}return _e})();function Pi(_e,dt){return new e.wOt(2100,!1)}class $o{createSubscription(dt,Ne){return(0,e.O8t)(()=>dt.subscribe({next:Ne,error:ot=>{throw ot}}))}dispose(dt){(0,e.O8t)(()=>dt.unsubscribe())}}class $s{createSubscription(dt,Ne){return dt.then(Ne,ot=>{throw ot})}dispose(dt){}}const ko=new $s,Sr=new $o;let no=(()=>{class _e{constructor(Ne){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=Ne}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(Ne){if(!this._obj){if(Ne)try{this.markForCheckOnValueUpdate=!1,this._subscribe(Ne)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return Ne!==this._obj?(this._dispose(),this.transform(Ne)):this._latestValue}_subscribe(Ne){this._obj=Ne,this._strategy=this._selectStrategy(Ne),this._subscription=this._strategy.createSubscription(Ne,ot=>this._updateLatestValue(Ne,ot))}_selectStrategy(Ne){if((0,e.jNT)(Ne))return ko;if((0,e.zjR)(Ne))return Sr;throw Pi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Ne,ot){Ne===this._obj&&(this._latestValue=ot,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(ot){return new(ot||_e)(e.rXU(e.gRc,16))};static#t=this.\u0275pipe=e.EJ8({name:"async",type:_e,pure:!1,standalone:!0})}return _e})(),cr=(()=>{class _e{transform(Ne){if(null==Ne)return null;if("string"!=typeof Ne)throw Pi();return Ne.toUpperCase()}static#e=this.\u0275fac=function(ot){return new(ot||_e)};static#t=this.\u0275pipe=e.EJ8({name:"uppercase",type:_e,pure:!0,standalone:!0})}return _e})();const Sa=new e.nKC(""),Gl=new e.nKC("");let Ja=(()=>{class _e{constructor(Ne,ot,Kt){this.locale=Ne,this.defaultTimezone=ot,this.defaultOptions=Kt}transform(Ne,ot,Kt,dn){if(null==Ne||""===Ne||Ne!=Ne)return null;try{return Je(Ne,ot??this.defaultOptions?.dateFormat??"mediumDate",dn||this.locale,Kt??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Tn){throw Pi()}}static#e=this.\u0275fac=function(ot){return new(ot||_e)(e.rXU(e.xe9,16),e.rXU(Sa,24),e.rXU(Gl,24))};static#t=this.\u0275pipe=e.EJ8({name:"date",type:_e,pure:!0,standalone:!0})}return _e})(),Po=(()=>{class _e{constructor(Ne,ot="USD"){this._locale=Ne,this._defaultCurrencyCode=ot}transform(Ne,ot=this._defaultCurrencyCode,Kt="symbol",dn,Tn){if(!function gs(_e){return!(null==_e||""===_e||_e!=_e)}(Ne))return null;Tn||=this._locale,"boolean"==typeof Kt&&(Kt=Kt?"symbol":"code");let Hn=ot||this._defaultCurrencyCode;"code"!==Kt&&(Hn="symbol"===Kt||"symbol-narrow"===Kt?function xt(_e,dt,Ne="en"){const ot=function Me(_e){return(0,e.H5H)(_e)[e.KH2.Currencies]}(Ne)[_e]||D[_e]||[],Kt=ot[1];return"narrow"===dt&&"string"==typeof Kt?Kt:ot[0]||_e}(Hn,"symbol"===Kt?"wide":"narrow",Tn):Kt);try{return Gt(function Us(_e){if("string"==typeof _e&&!isNaN(Number(_e)-parseFloat(_e)))return Number(_e);if("number"!=typeof _e)throw new Error(`${_e} is not a number`);return _e}(Ne),Tn,Hn,ot,dn)}catch(Oo){throw Pi()}}static#e=this.\u0275fac=function(ot){return new(ot||_e)(e.rXU(e.xe9,16),e.rXU(e.Ocv,16))};static#t=this.\u0275pipe=e.EJ8({name:"currency",type:_e,pure:!0,standalone:!0})}return _e})();let Rs=(()=>{class _e{transform(Ne,ot,Kt){if(null==Ne)return null;if(!this.supports(Ne))throw Pi();return Ne.slice(ot,Kt)}supports(Ne){return"string"==typeof Ne||Array.isArray(Ne)}static#e=this.\u0275fac=function(ot){return new(ot||_e)};static#t=this.\u0275pipe=e.EJ8({name:"slice",type:_e,pure:!1,standalone:!0})}return _e})(),as=(()=>{class _e{static#e=this.\u0275fac=function(ot){return new(ot||_e)};static#t=this.\u0275mod=e.$C({type:_e});static#n=this.\u0275inj=e.G2t({})}return _e})();const vs="browser",ur="server";function Kr(_e){return _e===vs}function sa(_e){return _e===ur}let ra=(()=>{class _e{static#e=this.\u0275prov=(0,e.jDH)({token:_e,providedIn:"root",factory:()=>Kr((0,e.WQX)(e.Agw))?new Or((0,e.WQX)(f),window):new ds})}return _e})();class Or{constructor(dt,Ne){this.document=dt,this.window=Ne,this.offset=()=>[0,0]}setOffset(dt){this.offset=Array.isArray(dt)?()=>dt:dt}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(dt){this.window.scrollTo(dt[0],dt[1])}scrollToAnchor(dt){const Ne=function hr(_e,dt){const Ne=_e.getElementById(dt)||_e.getElementsByName(dt)[0];if(Ne)return Ne;if("function"==typeof _e.createTreeWalker&&_e.body&&"function"==typeof _e.body.attachShadow){const ot=_e.createTreeWalker(_e.body,NodeFilter.SHOW_ELEMENT);let Kt=ot.currentNode;for(;Kt;){const dn=Kt.shadowRoot;if(dn){const Tn=dn.getElementById(dt)||dn.querySelector(`[name="${dt}"]`);if(Tn)return Tn}Kt=ot.nextNode()}}return null}(this.document,dt);Ne&&(this.scrollToElement(Ne),Ne.focus())}setHistoryScrollRestoration(dt){this.window.history.scrollRestoration=dt}scrollToElement(dt){const Ne=dt.getBoundingClientRect(),ot=Ne.left+this.window.pageXOffset,Kt=Ne.top+this.window.pageYOffset,dn=this.offset();this.window.scrollTo(ot-dn[0],Kt-dn[1])}}class ds{setOffset(dt){}getScrollPosition(){return[0,0]}scrollToPosition(dt){}scrollToAnchor(dt){}setHistoryScrollRestoration(dt){}}class Wr{}},1626:(gt,re,o)=>{"use strict";o.d(re,{$R:()=>ze,Qq:()=>me,Sx:()=>Pe,yz:()=>j});var e=o(467),n=o(3953),l=o(4421),h=o(5817),g=o(4787),p=o(3574),f=o(8728),b=o(5006),d=o(7312),y=o(9090),R=o(177);class m{}class v{}class O{constructor(st){this.normalizedNames=new Map,this.lazyUpdate=null,st?"string"==typeof st?this.lazyInit=()=>{this.headers=new Map,st.split("\n").forEach(kt=>{const xe=kt.indexOf(":");if(xe>0){const Mt=kt.slice(0,xe),Z=Mt.toLowerCase(),Ae=kt.slice(xe+1).trim();this.maybeSetNormalizedName(Mt,Z),this.headers.has(Z)?this.headers.get(Z).push(Ae):this.headers.set(Z,[Ae])}})}:typeof Headers<"u"&&st instanceof Headers?(this.headers=new Map,st.forEach((kt,xe)=>{this.setHeaderEntries(xe,kt)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(st).forEach(([kt,xe])=>{this.setHeaderEntries(kt,xe)})}:this.headers=new Map}has(st){return this.init(),this.headers.has(st.toLowerCase())}get(st){this.init();const kt=this.headers.get(st.toLowerCase());return kt&&kt.length>0?kt[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(st){return this.init(),this.headers.get(st.toLowerCase())||null}append(st,kt){return this.clone({name:st,value:kt,op:"a"})}set(st,kt){return this.clone({name:st,value:kt,op:"s"})}delete(st,kt){return this.clone({name:st,value:kt,op:"d"})}maybeSetNormalizedName(st,kt){this.normalizedNames.has(kt)||this.normalizedNames.set(kt,st)}init(){this.lazyInit&&(this.lazyInit instanceof O?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(st=>this.applyUpdate(st)),this.lazyUpdate=null))}copyFrom(st){st.init(),Array.from(st.headers.keys()).forEach(kt=>{this.headers.set(kt,st.headers.get(kt)),this.normalizedNames.set(kt,st.normalizedNames.get(kt))})}clone(st){const kt=new O;return kt.lazyInit=this.lazyInit&&this.lazyInit instanceof O?this.lazyInit:this,kt.lazyUpdate=(this.lazyUpdate||[]).concat([st]),kt}applyUpdate(st){const kt=st.name.toLowerCase();switch(st.op){case"a":case"s":let xe=st.value;if("string"==typeof xe&&(xe=[xe]),0===xe.length)return;this.maybeSetNormalizedName(st.name,kt);const Mt=("a"===st.op?this.headers.get(kt):void 0)||[];Mt.push(...xe),this.headers.set(kt,Mt);break;case"d":const Z=st.value;if(Z){let Ae=this.headers.get(kt);if(!Ae)return;Ae=Ae.filter(Ve=>-1===Z.indexOf(Ve)),0===Ae.length?(this.headers.delete(kt),this.normalizedNames.delete(kt)):this.headers.set(kt,Ae)}else this.headers.delete(kt),this.normalizedNames.delete(kt)}}setHeaderEntries(st,kt){const xe=(Array.isArray(kt)?kt:[kt]).map(Z=>Z.toString()),Mt=st.toLowerCase();this.headers.set(Mt,xe),this.maybeSetNormalizedName(st,Mt)}forEach(st){this.init(),Array.from(this.normalizedNames.keys()).forEach(kt=>st(this.normalizedNames.get(kt),this.headers.get(kt)))}}class P{encodeKey(st){return I(st)}encodeValue(st){return I(st)}decodeKey(st){return decodeURIComponent(st)}decodeValue(st){return decodeURIComponent(st)}}const w=/%(\d[a-f0-9])/gi,x={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function I(ht){return encodeURIComponent(ht).replace(w,(st,kt)=>x[kt]??st)}function _(ht){return`${ht}`}class C{constructor(st={}){if(this.updates=null,this.cloneFrom=null,this.encoder=st.encoder||new P,st.fromString){if(st.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function M(ht,st){const kt=new Map;return ht.length>0&&ht.replace(/^\?/,"").split("&").forEach(Mt=>{const Z=Mt.indexOf("="),[Ae,Ve]=-1==Z?[st.decodeKey(Mt),""]:[st.decodeKey(Mt.slice(0,Z)),st.decodeValue(Mt.slice(Z+1))],_t=kt.get(Ae)||[];_t.push(Ve),kt.set(Ae,_t)}),kt}(st.fromString,this.encoder)}else st.fromObject?(this.map=new Map,Object.keys(st.fromObject).forEach(kt=>{const xe=st.fromObject[kt],Mt=Array.isArray(xe)?xe.map(_):[_(xe)];this.map.set(kt,Mt)})):this.map=null}has(st){return this.init(),this.map.has(st)}get(st){this.init();const kt=this.map.get(st);return kt?kt[0]:null}getAll(st){return this.init(),this.map.get(st)||null}keys(){return this.init(),Array.from(this.map.keys())}append(st,kt){return this.clone({param:st,value:kt,op:"a"})}appendAll(st){const kt=[];return Object.keys(st).forEach(xe=>{const Mt=st[xe];Array.isArray(Mt)?Mt.forEach(Z=>{kt.push({param:xe,value:Z,op:"a"})}):kt.push({param:xe,value:Mt,op:"a"})}),this.clone(kt)}set(st,kt){return this.clone({param:st,value:kt,op:"s"})}delete(st,kt){return this.clone({param:st,value:kt,op:"d"})}toString(){return this.init(),this.keys().map(st=>{const kt=this.encoder.encodeKey(st);return this.map.get(st).map(xe=>kt+"="+this.encoder.encodeValue(xe)).join("&")}).filter(st=>""!==st).join("&")}clone(st){const kt=new C({encoder:this.encoder});return kt.cloneFrom=this.cloneFrom||this,kt.updates=(this.updates||[]).concat(st),kt}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(st=>this.map.set(st,this.cloneFrom.map.get(st))),this.updates.forEach(st=>{switch(st.op){case"a":case"s":const kt=("a"===st.op?this.map.get(st.param):void 0)||[];kt.push(_(st.value)),this.map.set(st.param,kt);break;case"d":if(void 0===st.value){this.map.delete(st.param);break}{let xe=this.map.get(st.param)||[];const Mt=xe.indexOf(_(st.value));-1!==Mt&&xe.splice(Mt,1),xe.length>0?this.map.set(st.param,xe):this.map.delete(st.param)}}}),this.cloneFrom=this.updates=null)}}class A{constructor(){this.map=new Map}set(st,kt){return this.map.set(st,kt),this}get(st){return this.map.has(st)||this.map.set(st,st.defaultValue()),this.map.get(st)}delete(st){return this.map.delete(st),this}has(st){return this.map.has(st)}keys(){return this.map.keys()}}function F(ht){return typeof ArrayBuffer<"u"&&ht instanceof ArrayBuffer}function $(ht){return typeof Blob<"u"&&ht instanceof Blob}function U(ht){return typeof FormData<"u"&&ht instanceof FormData}class J{constructor(st,kt,xe,Mt){let Z;if(this.url=kt,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=st.toUpperCase(),function B(ht){switch(ht){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Mt?(this.body=void 0!==xe?xe:null,Z=Mt):Z=xe,Z&&(this.reportProgress=!!Z.reportProgress,this.withCredentials=!!Z.withCredentials,Z.responseType&&(this.responseType=Z.responseType),Z.headers&&(this.headers=Z.headers),Z.context&&(this.context=Z.context),Z.params&&(this.params=Z.params),this.transferCache=Z.transferCache),this.headers??=new O,this.context??=new A,this.params){const Ae=this.params.toString();if(0===Ae.length)this.urlWithParams=kt;else{const Ve=kt.indexOf("?");this.urlWithParams=kt+(-1===Ve?"?":Ve<kt.length-1?"&":"")+Ae}}else this.params=new C,this.urlWithParams=kt}serializeBody(){return null===this.body?null:"string"==typeof this.body||F(this.body)||$(this.body)||U(this.body)||function G(ht){return typeof URLSearchParams<"u"&&ht instanceof URLSearchParams}(this.body)?this.body:this.body instanceof C?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||U(this.body)?null:$(this.body)?this.body.type||null:F(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof C?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(st={}){const kt=st.method||this.method,xe=st.url||this.url,Mt=st.responseType||this.responseType,Z=st.transferCache??this.transferCache,Ae=void 0!==st.body?st.body:this.body,Ve=st.withCredentials??this.withCredentials,_t=st.reportProgress??this.reportProgress;let Qt=st.headers||this.headers,Pn=st.params||this.params;const ui=st.context??this.context;return void 0!==st.setHeaders&&(Qt=Object.keys(st.setHeaders).reduce((vi,zi)=>vi.set(zi,st.setHeaders[zi]),Qt)),st.setParams&&(Pn=Object.keys(st.setParams).reduce((vi,zi)=>vi.set(zi,st.setParams[zi]),Pn)),new J(kt,xe,Ae,{params:Pn,headers:Qt,context:ui,reportProgress:_t,responseType:Mt,withCredentials:Ve,transferCache:Z})}}var te=function(ht){return ht[ht.Sent=0]="Sent",ht[ht.UploadProgress=1]="UploadProgress",ht[ht.ResponseHeader=2]="ResponseHeader",ht[ht.DownloadProgress=3]="DownloadProgress",ht[ht.Response=4]="Response",ht[ht.User=5]="User",ht}(te||{});class ne{constructor(st,kt=200,xe="OK"){this.headers=st.headers||new O,this.status=void 0!==st.status?st.status:kt,this.statusText=st.statusText||xe,this.url=st.url||null,this.ok=this.status>=200&&this.status<300}}class K extends ne{constructor(st={}){super(st),this.type=te.ResponseHeader}clone(st={}){return new K({headers:st.headers||this.headers,status:void 0!==st.status?st.status:this.status,statusText:st.statusText||this.statusText,url:st.url||this.url||void 0})}}class k extends ne{constructor(st={}){super(st),this.type=te.Response,this.body=void 0!==st.body?st.body:null}clone(st={}){return new k({body:void 0!==st.body?st.body:this.body,headers:st.headers||this.headers,status:void 0!==st.status?st.status:this.status,statusText:st.statusText||this.statusText,url:st.url||this.url||void 0})}}class j extends ne{constructor(st){super(st,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${st.url||"(unknown url)"}`:`Http failure response for ${st.url||"(unknown url)"}: ${st.status} ${st.statusText}`,this.error=st.error||null}}function oe(ht,st){return{body:st,headers:ht.headers,context:ht.context,observe:ht.observe,params:ht.params,reportProgress:ht.reportProgress,responseType:ht.responseType,withCredentials:ht.withCredentials,transferCache:ht.transferCache}}let me=(()=>{class ht{constructor(kt){this.handler=kt}request(kt,xe,Mt={}){let Z;if(kt instanceof J)Z=kt;else{let _t,Qt;_t=Mt.headers instanceof O?Mt.headers:new O(Mt.headers),Mt.params&&(Qt=Mt.params instanceof C?Mt.params:new C({fromObject:Mt.params})),Z=new J(kt,xe,void 0!==Mt.body?Mt.body:null,{headers:_t,context:Mt.context,params:Qt,reportProgress:Mt.reportProgress,responseType:Mt.responseType||"json",withCredentials:Mt.withCredentials,transferCache:Mt.transferCache})}const Ae=(0,l.of)(Z).pipe((0,p.H)(_t=>this.handler.handle(_t)));if(kt instanceof J||"events"===Mt.observe)return Ae;const Ve=Ae.pipe((0,f.p)(_t=>_t instanceof k));switch(Mt.observe||"body"){case"body":switch(Z.responseType){case"arraybuffer":return Ve.pipe((0,b.T)(_t=>{if(null!==_t.body&&!(_t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _t.body}));case"blob":return Ve.pipe((0,b.T)(_t=>{if(null!==_t.body&&!(_t.body instanceof Blob))throw new Error("Response is not a Blob.");return _t.body}));case"text":return Ve.pipe((0,b.T)(_t=>{if(null!==_t.body&&"string"!=typeof _t.body)throw new Error("Response is not a string.");return _t.body}));default:return Ve.pipe((0,b.T)(_t=>_t.body))}case"response":return Ve;default:throw new Error(`Unreachable: unhandled observe type ${Mt.observe}}`)}}delete(kt,xe={}){return this.request("DELETE",kt,xe)}get(kt,xe={}){return this.request("GET",kt,xe)}head(kt,xe={}){return this.request("HEAD",kt,xe)}jsonp(kt,xe){return this.request("JSONP",kt,{params:(new C).append(xe,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(kt,xe={}){return this.request("OPTIONS",kt,xe)}patch(kt,xe,Mt={}){return this.request("PATCH",kt,oe(Mt,xe))}post(kt,xe,Mt={}){return this.request("POST",kt,oe(Mt,xe))}put(kt,xe,Mt={}){return this.request("PUT",kt,oe(Mt,xe))}static#e=this.\u0275fac=function(xe){return new(xe||ht)(n.KVO(m))};static#t=this.\u0275prov=n.jDH({token:ht,factory:ht.\u0275fac})}return ht})();const he=/^\)\]\}',?\n/;function we(ht){if(ht.url)return ht.url;const st="X-Request-URL".toLocaleLowerCase();return ht.headers.get(st)}let We=(()=>{class ht{constructor(){this.fetchImpl=(0,n.WQX)(Xe,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=(0,n.WQX)(n.SKi)}handle(kt){return new h.c(xe=>{const Mt=new AbortController;return this.doRequest(kt,Mt.signal,xe).then(Me,Z=>xe.error(new j({error:Z}))),()=>Mt.abort()})}doRequest(kt,xe,Mt){var Z=this;return(0,e.A)(function*(){const Ae=Z.createRequestInit(kt);let Ve;try{const Bi=Z.ngZone.runOutsideAngular(()=>Z.fetchImpl(kt.urlWithParams,{signal:xe,...Ae}));(function ge(ht){ht.then(Me,Me)})(Bi),Mt.next({type:te.Sent}),Ve=yield Bi}catch(Bi){return void Mt.error(new j({error:Bi,status:Bi.status??0,statusText:Bi.statusText,url:kt.urlWithParams,headers:Bi.headers}))}const _t=new O(Ve.headers),Qt=Ve.statusText,Pn=we(Ve)??kt.urlWithParams;let ui=Ve.status,vi=null;if(kt.reportProgress&&Mt.next(new K({headers:_t,status:ui,statusText:Qt,url:Pn})),Ve.body){const Bi=Ve.headers.get("content-length"),xi=[],Hi=Ve.body.getReader();let zo,Pi,Kn=0;const $o=typeof Zone<"u"&&Zone.current;yield Z.ngZone.runOutsideAngular((0,e.A)(function*(){for(;;){const{done:ko,value:Sr}=yield Hi.read();if(ko)break;if(xi.push(Sr),Kn+=Sr.length,kt.reportProgress){Pi="text"===kt.responseType?(Pi??"")+(zo??=new TextDecoder).decode(Sr,{stream:!0}):void 0;const no=()=>Mt.next({type:te.DownloadProgress,total:Bi?+Bi:void 0,loaded:Kn,partialText:Pi});$o?$o.run(no):no()}}}));const $s=Z.concatChunks(xi,Kn);try{const ko=Ve.headers.get("Content-Type")??"";vi=Z.parseBody(kt,$s,ko)}catch(ko){return void Mt.error(new j({error:ko,headers:new O(Ve.headers),status:Ve.status,statusText:Ve.statusText,url:we(Ve)??kt.urlWithParams}))}}0===ui&&(ui=vi?200:0),ui>=200&&ui<300?(Mt.next(new k({body:vi,headers:_t,status:ui,statusText:Qt,url:Pn})),Mt.complete()):Mt.error(new j({error:vi,headers:_t,status:ui,statusText:Qt,url:Pn}))})()}parseBody(kt,xe,Mt){switch(kt.responseType){case"json":const Z=(new TextDecoder).decode(xe).replace(he,"");return""===Z?null:JSON.parse(Z);case"text":return(new TextDecoder).decode(xe);case"blob":return new Blob([xe],{type:Mt});case"arraybuffer":return xe.buffer}}createRequestInit(kt){const xe={},Mt=kt.withCredentials?"include":void 0;if(kt.headers.forEach((Z,Ae)=>xe[Z]=Ae.join(",")),kt.headers.has("Accept")||(xe.Accept="application/json, text/plain, */*"),!kt.headers.has("Content-Type")){const Z=kt.detectContentTypeHeader();null!==Z&&(xe["Content-Type"]=Z)}return{body:kt.serializeBody(),method:kt.method,headers:xe,credentials:Mt}}concatChunks(kt,xe){const Mt=new Uint8Array(xe);let Z=0;for(const Ae of kt)Mt.set(Ae,Z),Z+=Ae.length;return Mt}static#e=this.\u0275fac=function(xe){return new(xe||ht)};static#t=this.\u0275prov=n.jDH({token:ht,factory:ht.\u0275fac})}return ht})();class Xe{}function Me(){}function pe(ht,st){return st(ht)}function Ee(ht,st){return(kt,xe)=>st.intercept(kt,{handle:Mt=>ht(Mt,xe)})}const Qe=new n.nKC(""),$e=new n.nKC(""),tt=new n.nKC(""),xt=new n.nKC("",{providedIn:"root",factory:()=>!0});function Pt(){let ht=null;return(st,kt)=>{null===ht&&(ht=((0,n.WQX)(Qe,{optional:!0})??[]).reduceRight(Ee,pe));const xe=(0,n.WQX)(n.TgB);if((0,n.WQX)(xt)){const Z=xe.add();return ht(st,kt).pipe((0,d.j)(()=>xe.remove(Z)))}return ht(st,kt)}}let De=(()=>{class ht extends m{constructor(kt,xe){super(),this.backend=kt,this.injector=xe,this.chain=null,this.pendingTasks=(0,n.WQX)(n.TgB),this.contributeToStability=(0,n.WQX)(xt)}handle(kt){if(null===this.chain){const xe=Array.from(new Set([...this.injector.get($e),...this.injector.get(tt,[])]));this.chain=xe.reduceRight((Mt,Z)=>function Ge(ht,st,kt){return(xe,Mt)=>(0,n.N4e)(kt,()=>st(xe,Z=>ht(Z,Mt)))}(Mt,Z,this.injector),pe)}if(this.contributeToStability){const xe=this.pendingTasks.add();return this.chain(kt,Mt=>this.backend.handle(Mt)).pipe((0,d.j)(()=>this.pendingTasks.remove(xe)))}return this.chain(kt,xe=>this.backend.handle(xe))}static#e=this.\u0275fac=function(xe){return new(xe||ht)(n.KVO(v),n.KVO(n.uvJ))};static#t=this.\u0275prov=n.jDH({token:ht,factory:ht.\u0275fac})}return ht})();const lt=/^\)\]\}',?\n/;let Ct=(()=>{class ht{constructor(kt){this.xhrFactory=kt}handle(kt){if("JSONP"===kt.method)throw new n.wOt(-2800,!1);const xe=this.xhrFactory;return(xe.\u0275loadImpl?(0,g.H)(xe.\u0275loadImpl()):(0,l.of)(null)).pipe((0,y.n)(()=>new h.c(Z=>{const Ae=xe.build();if(Ae.open(kt.method,kt.urlWithParams),kt.withCredentials&&(Ae.withCredentials=!0),kt.headers.forEach((xi,Hi)=>Ae.setRequestHeader(xi,Hi.join(","))),kt.headers.has("Accept")||Ae.setRequestHeader("Accept","application/json, text/plain, */*"),!kt.headers.has("Content-Type")){const xi=kt.detectContentTypeHeader();null!==xi&&Ae.setRequestHeader("Content-Type",xi)}if(kt.responseType){const xi=kt.responseType.toLowerCase();Ae.responseType="json"!==xi?xi:"text"}const Ve=kt.serializeBody();let _t=null;const Qt=()=>{if(null!==_t)return _t;const xi=Ae.statusText||"OK",Hi=new O(Ae.getAllResponseHeaders()),Kn=function Ft(ht){return"responseURL"in ht&&ht.responseURL?ht.responseURL:/^X-Request-URL:/m.test(ht.getAllResponseHeaders())?ht.getResponseHeader("X-Request-URL"):null}(Ae)||kt.url;return _t=new K({headers:Hi,status:Ae.status,statusText:xi,url:Kn}),_t},Pn=()=>{let{headers:xi,status:Hi,statusText:Kn,url:zo}=Qt(),Pi=null;204!==Hi&&(Pi=typeof Ae.response>"u"?Ae.responseText:Ae.response),0===Hi&&(Hi=Pi?200:0);let $o=Hi>=200&&Hi<300;if("json"===kt.responseType&&"string"==typeof Pi){const $s=Pi;Pi=Pi.replace(lt,"");try{Pi=""!==Pi?JSON.parse(Pi):null}catch(ko){Pi=$s,$o&&($o=!1,Pi={error:ko,text:Pi})}}$o?(Z.next(new k({body:Pi,headers:xi,status:Hi,statusText:Kn,url:zo||void 0})),Z.complete()):Z.error(new j({error:Pi,headers:xi,status:Hi,statusText:Kn,url:zo||void 0}))},ui=xi=>{const{url:Hi}=Qt(),Kn=new j({error:xi,status:Ae.status||0,statusText:Ae.statusText||"Unknown Error",url:Hi||void 0});Z.error(Kn)};let vi=!1;const zi=xi=>{vi||(Z.next(Qt()),vi=!0);let Hi={type:te.DownloadProgress,loaded:xi.loaded};xi.lengthComputable&&(Hi.total=xi.total),"text"===kt.responseType&&Ae.responseText&&(Hi.partialText=Ae.responseText),Z.next(Hi)},Bi=xi=>{let Hi={type:te.UploadProgress,loaded:xi.loaded};xi.lengthComputable&&(Hi.total=xi.total),Z.next(Hi)};return Ae.addEventListener("load",Pn),Ae.addEventListener("error",ui),Ae.addEventListener("timeout",ui),Ae.addEventListener("abort",ui),kt.reportProgress&&(Ae.addEventListener("progress",zi),null!==Ve&&Ae.upload&&Ae.upload.addEventListener("progress",Bi)),Ae.send(Ve),Z.next({type:te.Sent}),()=>{Ae.removeEventListener("error",ui),Ae.removeEventListener("abort",ui),Ae.removeEventListener("load",Pn),Ae.removeEventListener("timeout",ui),kt.reportProgress&&(Ae.removeEventListener("progress",zi),null!==Ve&&Ae.upload&&Ae.upload.removeEventListener("progress",Bi)),Ae.readyState!==Ae.DONE&&Ae.abort()}})))}static#e=this.\u0275fac=function(xe){return new(xe||ht)(n.KVO(R.N0))};static#t=this.\u0275prov=n.jDH({token:ht,factory:ht.\u0275fac})}return ht})();const Wt=new n.nKC(""),on=new n.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Sn=new n.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Zn{}let ut=(()=>{class ht{constructor(kt,xe,Mt){this.doc=kt,this.platform=xe,this.cookieName=Mt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const kt=this.doc.cookie||"";return kt!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,R._b)(kt,this.cookieName),this.lastCookieString=kt),this.lastToken}static#e=this.\u0275fac=function(xe){return new(xe||ht)(n.KVO(R.qQ),n.KVO(n.Agw),n.KVO(on))};static#t=this.\u0275prov=n.jDH({token:ht,factory:ht.\u0275fac})}return ht})();function be(ht,st){const kt=ht.url.toLowerCase();if(!(0,n.WQX)(Wt)||"GET"===ht.method||"HEAD"===ht.method||kt.startsWith("http://")||kt.startsWith("https://"))return st(ht);const xe=(0,n.WQX)(Zn).getToken(),Mt=(0,n.WQX)(Sn);return null!=xe&&!ht.headers.has(Mt)&&(ht=ht.clone({headers:ht.headers.set(Mt,xe)})),st(ht)}var ae=function(ht){return ht[ht.Interceptors=0]="Interceptors",ht[ht.LegacyInterceptors=1]="LegacyInterceptors",ht[ht.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ht[ht.NoXsrfProtection=3]="NoXsrfProtection",ht[ht.JsonpSupport=4]="JsonpSupport",ht[ht.RequestsMadeViaParent=5]="RequestsMadeViaParent",ht[ht.Fetch=6]="Fetch",ht}(ae||{});function ze(...ht){const st=[me,Ct,De,{provide:m,useExisting:De},{provide:v,useFactory:()=>(0,n.WQX)(We,{optional:!0})??(0,n.WQX)(Ct)},{provide:$e,useValue:be,multi:!0},{provide:Wt,useValue:!0},{provide:Zn,useClass:ut}];for(const kt of ht)st.push(...kt.\u0275providers);return(0,n.EmA)(st)}const Ue=new n.nKC("");function Pe(){return function ve(ht,st){return{\u0275kind:ht,\u0275providers:st}}(ae.LegacyInterceptors,[{provide:Ue,useFactory:Pt},{provide:$e,useExisting:Ue,multi:!0}])}},3953:(gt,re,o)=>{"use strict";function e(t,i){return Object.is(t,i)}o.d(re,{bc$:()=>ME,iLQ:()=>yy,sZ2:()=>T_,hnV:()=>e2,Hbi:()=>Lw,o8S:()=>Ic,BIS:()=>TE,gRc:()=>p2,Ql9:()=>aw,OM3:()=>Af,Ocv:()=>pw,Z63:()=>Ms,aKT:()=>Xc,uvJ:()=>gr,zcH:()=>kl,bkB:()=>Pl,y_5:()=>Ks,$GK:()=>Bn,nKC:()=>Ti,zZn:()=>rr,_q3:()=>JT,MKu:()=>ZT,xe9:()=>My,Co$:()=>Jb,Vns:()=>iu,SKi:()=>So,Xx1:()=>Ho,Agw:()=>Sm,PLl:()=>D0,rOR:()=>b_,sFG:()=>nM,_9s:()=>Rg,czy:()=>V_,WPN:()=>ss,kdw:()=>Ws,C4Q:()=>Hd,NYb:()=>tw,giA:()=>ZO,xvI:()=>xA,RxE:()=>KO,c1b:()=>eu,gXe:()=>dc,mal:()=>Lg,Tzd:()=>pb,L39:()=>mk,EWP:()=>bk,sbv:()=>Yg,Ol2:()=>mp,w6W:()=>$M,oH4:()=>u2,QZP:()=>J2,SmG:()=>yw,Rfq:()=>ys,WQX:()=>xn,Hps:()=>Xg,QuC:()=>ro,EmA:()=>ul,Udg:()=>gk,fpN:()=>Pw,HJs:()=>Dk,N4e:()=>Ml,vPA:()=>hp,O8t:()=>yk,H3F:()=>WO,zAP:()=>U2,H8p:()=>e_,KH2:()=>Lp,TgB:()=>xd,wOt:()=>zn,WHO:()=>QO,e01:()=>JO,lNU:()=>zr,h9k:()=>ps,$MX:()=>rf,ZF7:()=>Jc,Kcf:()=>PE,e5t:()=>NE,UyX:()=>FE,cWb:()=>LE,osQ:()=>L0,H5H:()=>_T,Zy3:()=>us,mq5:()=>QS,JZv:()=>Lo,LfX:()=>Yr,plB:()=>ic,jNT:()=>$T,zjR:()=>qO,TL$:()=>M0,Tbb:()=>To,rcV:()=>yr,nM4:()=>Yb,Vt3:()=>Zg,GFd:()=>Uf,OA$:()=>Jp,Jv_:()=>rO,aNF:()=>aO,R7$:()=>c1,BMQ:()=>ZM,HbH:()=>AS,ZvI:()=>BS,AVh:()=>sT,vxM:()=>VS,wni:()=>kI,C6U:()=>NI,VBU:()=>de,FsC:()=>fn,jDH:()=>oo,G2t:()=>ws,$C:()=>mt,EJ8:()=>rn,rXU:()=>zu,nrm:()=>dT,eu8:()=>uT,bVm:()=>dy,qex:()=>cy,k0s:()=>ly,j41:()=>ay,RV6:()=>YS,xGo:()=>Kc,Mr5:()=>hT,pXf:()=>_I,nnv:()=>pI,YFu:()=>vT,uP7:()=>bT,k04:()=>mI,PLo:()=>gT,KVO:()=>Ci,kS0:()=>v_,QTQ:()=>u1,bIt:()=>yT,lsd:()=>FI,joV:()=>$v,qSk:()=>jv,XpG:()=>EI,nI1:()=>TO,bMT:()=>DO,i5U:()=>SO,brH:()=>IO,SdG:()=>MI,NAR:()=>CI,Y8G:()=>nT,Mz_:()=>_y,lJ4:()=>uO,eq3:()=>hO,l_i:()=>fO,sMw:()=>_O,ziG:()=>pO,s1E:()=>mO,sGs:()=>gO,lV:()=>vO,NyB:()=>BI,mGM:()=>LI,sdS:()=>jI,Dyx:()=>zS,Z7z:()=>WS,fX1:()=>KS,Vm6:()=>GS,Njj:()=>kv,EBC:()=>z0,tSv:()=>W0,eBV:()=>wv,npT:()=>Fl,B4B:()=>Gm,n$t:()=>$0,wjB:()=>lO,Aen:()=>Tc,xc7:()=>oT,Kam:()=>ET,zvX:()=>fT,DNE:()=>ru,C5r:()=>OO,EFF:()=>YI,JRh:()=>TT,SpI:()=>py,Lme:()=>DT,E5c:()=>ST,LHq:()=>IT,DH7:()=>nO,mxI:()=>xT,R50:()=>OT,GBs:()=>PI});let n=null,l=!1,h=1;const g=Symbol("SIGNAL");function p(t){const i=n;return n=t,i}const y={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function R(t){if(l)throw new Error("");if(null===n)return;n.consumerOnSignalRead(t);const i=n.nextProducerIndex++;A(n),i<n.producerNode.length&&n.producerNode[i]!==t&&D(n)&&C(n.producerNode[i],n.producerIndexOfThis[i]),n.producerNode[i]!==t&&(n.producerNode[i]=t,n.producerIndexOfThis[i]=D(n)?_(t,n,i):0),n.producerLastReadVersion[i]=t.version}function v(t){if((!D(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==h)){if(!t.producerMustRecompute(t)&&!x(t))return t.dirty=!1,void(t.lastCleanEpoch=h);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=h}}function O(t){if(void 0===t.liveConsumerNode)return;const i=l;l=!0;try{for(const s of t.liveConsumerNode)s.dirty||P(s)}finally{l=i}}function S(){return!1!==n?.consumerAllowSignalWrites}function P(t){t.dirty=!0,O(t),t.consumerMarkedDirty?.(t)}function M(t){return t&&(t.nextProducerIndex=0),p(t)}function w(t,i){if(p(i),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(D(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)C(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function x(t){A(t);for(let i=0;i<t.producerNode.length;i++){const s=t.producerNode[i],u=t.producerLastReadVersion[i];if(u!==s.version||(v(s),u!==s.version))return!0}return!1}function I(t){if(A(t),D(t))for(let i=0;i<t.producerNode.length;i++)C(t.producerNode[i],t.producerIndexOfThis[i]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function _(t,i,s){if(B(t),0===t.liveConsumerNode.length&&F(t))for(let u=0;u<t.producerNode.length;u++)t.producerIndexOfThis[u]=_(t.producerNode[u],t,u);return t.liveConsumerIndexOfThis.push(s),t.liveConsumerNode.push(i)-1}function C(t,i){if(B(t),1===t.liveConsumerNode.length&&F(t))for(let u=0;u<t.producerNode.length;u++)C(t.producerNode[u],t.producerIndexOfThis[u]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[i]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[i]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,i<t.liveConsumerNode.length){const u=t.liveConsumerIndexOfThis[i],E=t.liveConsumerNode[i];A(E),E.producerIndexOfThis[u]=i}}function D(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function A(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function B(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function F(t){return void 0!==t.producerNode}function $(t){const i=Object.create(te);i.computation=t;const s=()=>{if(v(i),R(i),i.value===J)throw i.error;return i.value};return s[g]=i,s}const U=Symbol("UNSET"),G=Symbol("COMPUTING"),J=Symbol("ERRORED"),te={...y,value:U,dirty:!0,error:null,equal:e,producerMustRecompute:t=>t.value===U||t.value===G,producerRecomputeValue(t){if(t.value===G)throw new Error("Detected cycle in computations.");const i=t.value;t.value=G;const s=M(t);let u;try{u=t.computation()}catch(E){u=J,t.error=E}finally{w(t,s)}i!==U&&i!==J&&u!==J&&t.equal(i,u)?t.value=i:(t.value=u,t.version++)}};let K=function ne(){throw new Error};function k(){K()}let W=null;function me(t,i){S()||k(),t.equal(t.value,i)||(t.value=i,function We(t){t.version++,function m(){h++}(),O(t),W?.()}(t))}const we={...y,equal:e,value:void 0};const Me=()=>{},ge={...y,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{null!==t.schedule&&t.schedule(t.ref)},hasRun:!1,cleanupFn:Me};var Ee=o(9928),Ge=o(5286),Qe=o(4337),$e=o(5006);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const zr="https://g.co/ng/security#xss";class zn extends Error{constructor(i,s){super(us(i,s)),this.code=i}}function us(t,i){return`NG0${Math.abs(t)}${i?": "+i:""}`}function As(t){return{toString:t}.toString()}const es="__parameters__";function bs(t,i,s){return As(()=>{const u=function mo(t){return function(...s){if(t){const u=t(...s);for(const E in u)this[E]=u[E]}}}(i);function E(...L){if(this instanceof E)return u.apply(this,L),this;const z=new E(...L);return q.annotation=z,q;function q(fe,je,qe){const Ot=fe.hasOwnProperty(es)?fe[es]:Object.defineProperty(fe,es,{value:[]})[es];for(;Ot.length<=qe;)Ot.push(null);return(Ot[qe]=Ot[qe]||[]).push(z),fe}}return s&&(E.prototype=Object.create(s.prototype)),E.prototype.ngMetadataName=t,E.annotationCls=E,E})}const Lo=globalThis;function Li(t){for(let i in t)if(t[i]===Li)return i;throw Error("Could not find renamed property on target object.")}function ts(t,i){for(const s in i)i.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=i[s])}function To(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(To).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const i=t.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function Rr(t,i){return null==t||""===t?null===i?"":i:null==i||""===i?t:t+" "+i}const ns=Li({__forward_ref__:Li});function ys(t){return t.__forward_ref__=ys,t.toString=function(){return To(this())},t}function Ei(t){return fr(t)?t():t}function fr(t){return"function"==typeof t&&t.hasOwnProperty(ns)&&t.__forward_ref__===ys}function ji(t,i,s){t!=i&&function pi(t,i,s,u){throw new Error(`ASSERTION ERROR: ${t}`+(null==u?"":` [Expected=> ${s} ${u} ${i} <=Actual]`))}(s,t,i,"==")}function oo(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ws(t){return{providers:t.providers||[],imports:t.imports||[]}}function Es(t){return sc(t,qs)||sc(t,ka)}function Yr(t){return null!==Es(t)}function sc(t,i){return t.hasOwnProperty(i)?t[i]:null}function ol(t){return t&&(t.hasOwnProperty(wr)||t.hasOwnProperty(sl))?t[wr]:null}const qs=Li({\u0275prov:Li}),wr=Li({\u0275inj:Li}),ka=Li({ngInjectableDef:Li}),sl=Li({ngInjectorDef:Li});class Ti{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=oo({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Oc(t){return t&&!!t.\u0275providers}const io=Li({\u0275cmp:Li}),al=Li({\u0275dir:Li}),ks=Li({\u0275pipe:Li}),H=Li({\u0275mod:Li}),at=Li({\u0275fac:Li}),it=Li({__NG_ELEMENT_ID__:Li}),Et=Li({__NG_ENV_ID__:Li});function pt(t){return"string"==typeof t?t:null==t?"":String(t)}function Wn(t,i){throw new zn(-201,!1)}var Bn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Bn||{});let di;function Xi(){return di}function Ii(t){const i=di;return di=t,i}function lo(t,i,s){const u=Es(t);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:s&Bn.Optional?null:void 0!==i?i:void Wn()}const ll={},Pr="__NG_DI_FLAG__",_e="ngTempTokenPath",Ne=/\n/gm,Kt="__source";let dn;function Hn(t){const i=dn;return dn=t,i}function Oo(t,i=Bn.Default){if(void 0===dn)throw new zn(-203,!1);return null===dn?lo(t,void 0,i):dn.get(t,i&Bn.Optional?null:void 0,i)}function Ci(t,i=Bn.Default){return(Xi()||Oo)(Ei(t),i)}function xn(t,i=Bn.Default){return Ci(t,Ki(i))}function Ki(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Yi(t){const i=[];for(let s=0;s<t.length;s++){const u=Ei(t[s]);if(Array.isArray(u)){if(0===u.length)throw new zn(900,!1);let E,L=Bn.Default;for(let z=0;z<u.length;z++){const q=u[z],fe=ua(q);"number"==typeof fe?-1===fe?E=q.token:L|=fe:E=q}i.push(Ci(E,L))}else i.push(Ci(u))}return i}function co(t,i){return t[Pr]=i,t.prototype[Pr]=i,t}function ua(t){return t[Pr]}const Ks=co(bs("Inject",t=>({token:t})),-1),Ho=co(bs("Optional"),8),Ws=co(bs("SkipSelf"),4);function cl(t,i){return t.hasOwnProperty(at)?t[at]:null}function Qo(t,i){t.forEach(s=>Array.isArray(s)?Qo(s,i):i(s))}function Qr(t,i,s){i>=t.length?t.push(s):t.splice(i,0,s)}function Fa(t,i){return i>=t.length-1?t.pop():t.splice(i,1)[0]}function Lr(t,i,s){let u=zl(t,i);return u>=0?t[1|u]=s:(u=~u,function hd(t,i,s,u){let E=t.length;if(E==i)t.push(s,u);else if(1===E)t.push(u,t[0]),t[0]=s;else{for(E--,t.push(t[E-1],t[E]);E>i;)t[E]=t[E-2],E--;t[i]=s,t[i+1]=u}}(t,u,i,s)),u}function is(t,i){const s=zl(t,i);if(s>=0)return t[1|s]}function zl(t,i){return function ac(t,i,s){let u=0,E=t.length>>s;for(;E!==u;){const L=u+(E-u>>1),z=t[L<<s];if(i===z)return L<<s;z>i?E=L:u=L+1}return~(E<<s)}(t,i,1)}const so={},Ji=[],Ms=new Ti(""),fd=new Ti("",-1),lc=new Ti("");class xc{get(i,s=ll){if(s===ll){const u=new Error(`NullInjectorError: No provider for ${To(i)}!`);throw u.name="NullInjectorError",u}return s}}var cc=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(cc||{}),dc=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(dc||{}),uc=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(uc||{});function Qf(t,i,s){let u=t.length;for(;;){const E=t.indexOf(i,s);if(-1===E)return E;if(0===E||t.charCodeAt(E-1)<=32){const L=i.length;if(E+L===u||t.charCodeAt(E+L)<=32)return E}s=E+1}}function _d(t,i,s){let u=0;for(;u<s.length;){const E=s[u];if("number"==typeof E){if(0!==E)break;u++;const L=s[u++],z=s[u++],q=s[u++];t.setAttribute(i,z,q,L)}else{const L=E,z=s[++u];gh(L)?t.setProperty(i,L,z):t.setAttribute(i,L,z),u++}}return u}function Rc(t){return 3===t||4===t||6===t}function gh(t){return 64===t.charCodeAt(0)}function Ba(t,i){if(null!==i&&0!==i.length)if(null===t||0===t.length)t=i.slice();else{let s=-1;for(let u=0;u<i.length;u++){const E=i[u];"number"==typeof E?s=E:0===s||vh(t,s,E,null,-1===s||2===s?i[++u]:null)}}return t}function vh(t,i,s,u,E){let L=0,z=t.length;if(-1===i)z=-1;else for(;L<t.length;){const q=t[L++];if("number"==typeof q){if(q===i){z=-1;break}if(q>i){z=L-1;break}}}for(;L<t.length;){const q=t[L];if("number"==typeof q)break;if(q===s){if(null===u)return void(null!==E&&(t[L+1]=E));if(u===t[L+1])return void(t[L+2]=E)}L++,null!==u&&L++,null!==E&&L++}-1!==z&&(t.splice(z,0,i),L=z+1),t.splice(L++,0,s),null!==u&&t.splice(L++,0,u),null!==E&&t.splice(L++,0,E)}const er="ng-template";function pd(t,i,s,u){let E=0;if(u){for(;E<i.length&&"string"==typeof i[E];E+=2)if("class"===i[E]&&-1!==Qf(i[E+1].toLowerCase(),s,0))return!0}else if(zs(t))return!1;if(E=i.indexOf(1,E),E>-1){let L;for(;++E<i.length&&"string"==typeof(L=i[E]);)if(L.toLowerCase()===s)return!0}return!1}function zs(t){return 4===t.type&&t.value!==er}function Jf(t,i,s){return i===(4!==t.type||s?t.value:er)}function fa(t,i,s){let u=4;const E=t.attrs,L=null!==E?function du(t){for(let i=0;i<t.length;i++)if(Rc(t[i]))return i;return t.length}(E):0;let z=!1;for(let q=0;q<i.length;q++){const fe=i[q];if("number"!=typeof fe){if(!z)if(4&u){if(u=2|1&u,""!==fe&&!Jf(t,fe,s)||""===fe&&1===i.length){if(tr(u))return!1;z=!0}}else if(8&u){if(null===E||!pd(t,E,fe,s)){if(tr(u))return!1;z=!0}}else{const je=i[++q],qe=bh(fe,E,zs(t),s);if(-1===qe){if(tr(u))return!1;z=!0;continue}if(""!==je){let Ot;if(Ot=qe>L?"":E[qe+1].toLowerCase(),2&u&&je!==Ot){if(tr(u))return!1;z=!0}}}}else{if(!z&&!tr(u)&&!tr(fe))return!1;if(z&&tr(fe))continue;z=!1,u=fe|1&u}}return tr(u)||z}function tr(t){return!(1&t)}function bh(t,i,s,u){if(null===i)return-1;let E=0;if(u||!s){let L=!1;for(;E<i.length;){const z=i[E];if(z===t)return E;if(3===z||6===z)L=!0;else{if(1===z||2===z){let q=i[++E];for(;"string"==typeof q;)q=i[++E];continue}if(4===z)break;if(0===z){E+=4;continue}}E+=L?1:2}return-1}return function Up(t,i){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const u=t[s];if("number"==typeof u)return-1;if(u===i)return s;s++}return-1}(i,t)}function md(t,i,s=!1){for(let u=0;u<i.length;u++)if(fa(t,i[u],s))return!0;return!1}function Cl(t,i){e:for(let s=0;s<i.length;s++){const u=i[s];if(t.length===u.length){for(let E=0;E<t.length;E++)if(t[E]!==u[E])continue e;return!0}}return!1}function Fr(t,i){return t?":not("+i.trim()+")":i}function Zf(t){let i=t[0],s=1,u=2,E="",L=!1;for(;s<t.length;){let z=t[s];if("string"==typeof z)if(2&u){const q=t[++s];E+="["+z+(q.length>0?'="'+q+'"':"")+"]"}else 8&u?E+="."+z:4&u&&(E+=" "+z);else""!==E&&!tr(z)&&(i+=Fr(L,E),E=""),u=z,L=L||!tr(u);s++}return""!==E&&(i+=Fr(L,E)),i}function de(t){return As(()=>{const i=Mi(t),s={...i,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===cc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||dc.Emulated,styles:t.styles||Ji,_:null,schemas:t.schemas||null,tView:null,id:""};dl(s);const u=t.dependencies;return s.directiveDefs=nr(u,!1),s.pipeDefs=nr(u,!0),s.id=function yh(t){let i=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const E of s)i=Math.imul(31,i)+E.charCodeAt(0)|0;return i+=2147483648,"c"+i}(s),s})}function Se(t){return pn(t)||qn(t)}function et(t){return null!==t}function mt(t){return As(()=>({type:t.type,bootstrap:t.bootstrap||Ji,declarations:t.declarations||Ji,imports:t.imports||Ji,exports:t.exports||Ji,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ut(t,i){if(null==t)return so;const s={};for(const u in t)if(t.hasOwnProperty(u)){const E=t[u];let L,z,q=uc.None;Array.isArray(E)?(q=E[0],L=E[1],z=E[2]??L):(L=E,z=E),i?(s[L]=q!==uc.None?[u,q]:u,i[L]=z):s[L]=u}return s}function fn(t){return As(()=>{const i=Mi(t);return dl(i),i})}function rn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function pn(t){return t[io]||null}function qn(t){return t[al]||null}function mi(t){return t[ks]||null}function ro(t){const i=pn(t)||qn(t)||mi(t);return null!==i&&i.standalone}function Bo(t,i){const s=t[H]||null;if(!s&&!0===i)throw new Error(`Type ${To(t)} does not have '\u0275mod' property.`);return s}function Mi(t){const i={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputTransforms:null,inputConfig:t.inputs||so,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Ji,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ut(t.inputs,i),outputs:Ut(t.outputs),debugInfo:null}}function dl(t){t.features?.forEach(i=>i(t))}function nr(t,i){if(!t)return null;const s=i?mi:Se;return()=>("function"==typeof t?t():t).map(u=>s(u)).filter(et)}function ul(t){return{\u0275providers:t}}function Vp(...t){return{\u0275providers:qf(0,t),\u0275fromNgModule:!0}}function qf(t,...i){const s=[],u=new Set;let E;const L=z=>{s.push(z)};return Qo(i,z=>{const q=z;Ac(q,L,[],u)&&(E||=[],E.push(q))}),void 0!==E&&Gp(E,L),s}function Gp(t,i){for(let s=0;s<t.length;s++){const{ngModule:u,providers:E}=t[s];hl(E,L=>{i(L,u)})}}function Ac(t,i,s,u){if(!(t=Ei(t)))return!1;let E=null,L=ol(t);const z=!L&&pn(t);if(L||z){if(z&&!z.standalone)return!1;E=t}else{const fe=t.ngModule;if(L=ol(fe),!L)return!1;E=fe}const q=u.has(E);if(z){if(q)return!1;if(u.add(E),z.dependencies){const fe="function"==typeof z.dependencies?z.dependencies():z.dependencies;for(const je of fe)Ac(je,i,s,u)}}else{if(!L)return!1;{if(null!=L.imports&&!q){let je;u.add(E);try{Qo(L.imports,qe=>{Ac(qe,i,s,u)&&(je||=[],je.push(qe))})}finally{}void 0!==je&&Gp(je,i)}if(!q){const je=cl(E)||(()=>new E);i({provide:E,useFactory:je,deps:Ji},E),i({provide:lc,useValue:E,multi:!0},E),i({provide:Ms,useValue:()=>Ci(E),multi:!0},E)}const fe=L.providers;if(null!=fe&&!q){const je=t;hl(fe,qe=>{i(qe,je)})}}}return E!==t&&void 0!==t.providers}function hl(t,i){for(let s of t)Oc(s)&&(s=s.\u0275providers),Array.isArray(s)?hl(s,i):i(s)}const Wp=Li({provide:String,useValue:Li});function ja(t){return null!==t&&"object"==typeof t&&Wp in t}function wc(t){return"function"==typeof t}const e_=new Ti(""),Eh={},wy={};let fl;function _a(){return void 0===fl&&(fl=new xc),fl}class gr{}class Xs extends gr{get destroyed(){return this._destroyed}constructor(i,s,u,E){super(),this.parent=s,this.source=u,this.scopes=E,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,n_(i,z=>this.processProvider(z)),this.records.set(fd,kc(void 0,this)),E.has("environment")&&this.records.set(gr,kc(void 0,this));const L=this.records.get(e_);null!=L&&"string"==typeof L.value&&this.scopes.add(L.value),this.injectorDefTypes=new Set(this.get(lc,Ji,Bn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const i=p(null);try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const u of s)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),p(i)}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const s=Hn(this),u=Ii(void 0);try{return i()}finally{Hn(s),Ii(u)}}get(i,s=ll,u=Bn.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(Et))return i[Et](this);u=Ki(u);const L=Hn(this),z=Ii(void 0);try{if(!(u&Bn.SkipSelf)){let fe=this.records.get(i);if(void 0===fe){const je=function zp(t){return"function"==typeof t||"object"==typeof t&&t instanceof Ti}(i)&&Es(i);fe=je&&this.injectableDefInScope(je)?kc(Ui(i),Eh):null,this.records.set(i,fe)}if(null!=fe)return this.hydrate(i,fe)}return(u&Bn.Self?_a():this.parent).get(i,s=u&Bn.Optional&&s===ll?null:s)}catch(q){if("NullInjectorError"===q.name){if((q[_e]=q[_e]||[]).unshift(To(i)),L)throw q;return function pr(t,i,s,u){const E=t[_e];throw i[Kt]&&E.unshift(i[Kt]),t.message=function ha(t,i,s,u=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let E=To(i);if(Array.isArray(i))E=i.map(To).join(" -> ");else if("object"==typeof i){let L=[];for(let z in i)if(i.hasOwnProperty(z)){let q=i[z];L.push(z+":"+("string"==typeof q?JSON.stringify(q):To(q)))}E=`{${L.join(", ")}}`}return`${s}${u?"("+u+")":""}[${E}]: ${t.replace(Ne,"\n  ")}`}("\n"+t.message,E,s,u),t.ngTokenPath=E,t[_e]=null,t}(q,i,"R3InjectorError",this.source)}throw q}finally{Ii(z),Hn(L)}}resolveInjectorInitializers(){const i=p(null),s=Hn(this),u=Ii(void 0);try{const L=this.get(Ms,Ji,Bn.Self);for(const z of L)z()}finally{Hn(s),Ii(u),p(i)}}toString(){const i=[],s=this.records;for(const u of s.keys())i.push(To(u));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new zn(205,!1)}processProvider(i){let s=wc(i=Ei(i))?i:Ei(i&&i.provide);const u=function fc(t){return ja(t)?kc(void 0,t.useValue):kc(Ch(t),Eh)}(i);if(!wc(i)&&!0===i.multi){let E=this.records.get(s);E||(E=kc(void 0,Eh,!0),E.factory=()=>Yi(E.multi),this.records.set(s,E)),s=i,E.multi.push(i)}this.records.set(s,u)}hydrate(i,s){const u=p(null);try{return s.value===Eh&&(s.value=wy,s.value=s.factory()),"object"==typeof s.value&&s.value&&function t_(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}finally{p(u)}}injectableDefInScope(i){if(!i.providedIn)return!1;const s=Ei(i.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(i){const s=this._onDestroyHooks.indexOf(i);-1!==s&&this._onDestroyHooks.splice(s,1)}}function Ui(t){const i=Es(t),s=null!==i?i.factory:cl(t);if(null!==s)return s;if(t instanceof Ti)throw new zn(204,!1);if(t instanceof Function)return function Hl(t){if(t.length>0)throw new zn(204,!1);const s=function wa(t){return t&&(t[qs]||t[ka])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new zn(204,!1)}function Ch(t,i,s){let u;if(wc(t)){const E=Ei(t);return cl(E)||Ui(E)}if(ja(t))u=()=>Ei(t.useValue);else if(function hc(t){return!(!t||!t.useFactory)}(t))u=()=>t.useFactory(...Yi(t.deps||[]));else if(function Xl(t){return!(!t||!t.useExisting)}(t))u=()=>Ci(Ei(t.useExisting));else{const E=Ei(t&&(t.useClass||t.provide));if(!function Cv(t){return!!t.deps}(t))return cl(E)||Ui(E);u=()=>new E(...Yi(t.deps))}return u}function kc(t,i,s=!1){return{factory:t,value:i,multi:s?[]:void 0}}function n_(t,i){for(const s of t)Array.isArray(s)?n_(s,i):s&&Oc(s)?n_(s.\u0275providers,i):i(s)}function Ml(t,i){t instanceof Xs&&t.assertNotDestroyed();const u=Hn(t),E=Ii(void 0);try{return i()}finally{Hn(u),Ii(E)}}function vd(){return void 0!==Xi()||null!=function Tn(){return dn}()}function ir(t){if(!vd())throw new zn(-203,!1)}const jo=0,Ln=1,bi=2,Ds=3,$a=4,ho=5,Nr=6,Fc=7,yo=8,fs=9,Tl=10,Ri=11,yd=12,_c=13,Ua=14,yi=15,Nc=16,Ed=17,Br=18,Bc=19,pa=20,Dl=21,fu=22,Va=23,hi=25,Ss=1,Yl=7,pc=9,fo=10;var ma=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(ma||{});function _s(t){return Array.isArray(t)&&"object"==typeof t[Ss]}function vr(t){return Array.isArray(t)&&!0===t[Ss]}function pu(t){return!!(4&t.flags)}function _l(t){return t.componentOffset>-1}function Cd(t){return!(1&~t.flags)}function or(t){return!!t.template}function os(t){return!!(512&t[bi])}class l_{constructor(i,s,u){this.previousValue=i,this.currentValue=s,this.firstChange=u}isFirstChange(){return this.firstChange}}function Ov(t,i,s,u){null!==i?i.applyValueToInputSignal(i,u):t[s]=u}function Jp(){return Il}function Il(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ih),Zp}function Zp(){const t=em(this),i=t?.current;if(i){const s=t.previous;if(s===so)t.previous=i;else for(let u in i)s[u]=i[u];t.current=null,this.ngOnChanges(i)}}function Ih(t,i,s,u,E){const L=this.declaredInputs[u],z=em(t)||function Oh(t,i){return t[qp]=i}(t,{previous:so,current:null}),q=z.current||(z.current={}),fe=z.previous,je=fe[L];q[L]=new l_(je&&je.currentValue,s,fe===so),Ov(t,i,E,s)}Jp.ngInherit=!0;const qp="__ngSimpleChanges__";function em(t){return t[qp]||null}const va=function(t,i,s){},xh="svg";function _o(t){for(;Array.isArray(t);)t=t[jo];return t}function $c(t,i){return _o(i[t])}function sr(t,i){return _o(i[t.index])}function yu(t,i){return t.data[i]}function Uc(t,i){return t[i]}function Zr(t,i){const s=i[t];return _s(s)?s:s[jo]}function c_(t){return!(128&~t[bi])}function Y(t,i){return null==i?null:t[i]}function ee(t){t[Ed]=0}function Be(t){1024&t[bi]||(t[bi]|=1024,c_(t)&&un(t))}function Bt(t){return!!(9216&t[bi]||t[Va]?.dirty)}function zt(t){t[Tl].changeDetectionScheduler?.notify(7),64&t[bi]&&(t[bi]|=1024),Bt(t)&&un(t)}function un(t){t[Tl].changeDetectionScheduler?.notify(0);let i=On(t);for(;null!==i&&!(8192&i[bi])&&(i[bi]|=8192,c_(i));)i=On(i)}function In(t,i){if(!(256&~t[bi]))throw new zn(911,!1);null===t[Dl]&&(t[Dl]=[]),t[Dl].push(i)}function On(t){const i=t[Ds];return vr(i)?i[Ds]:i}const jn={lFrame:Ph(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let po=!1;function tm(){return jn.bindingsEnabled}function Sd(){return null!==jn.skipHydrationRootTNode}function yn(){return jn.lFrame.lView}function Qi(){return jn.lFrame.tView}function wv(t){return jn.lFrame.contextLView=t,t[yo]}function kv(t){return jn.lFrame.contextLView=null,t}function go(){let t=Pv();for(;null!==t&&64===t.type;)t=t.parent;return t}function Pv(){return jn.lFrame.currentTNode}function Eu(){const t=jn.lFrame,i=t.currentTNode;return t.isParent?i:i.parent}function xl(t,i){const s=jn.lFrame;s.currentTNode=t,s.isParent=i}function u_(){return jn.lFrame.isParent}function nm(){jn.lFrame.isParent=!1}function Fv(){return po}function wh(t){po=t}function ya(){const t=jn.lFrame;let i=t.bindingRootIndex;return-1===i&&(i=t.bindingRootIndex=t.tView.bindingStartIndex),i}function Gc(){return jn.lFrame.bindingIndex}function Ka(){return jn.lFrame.bindingIndex++}function Rl(t){const i=jn.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+t,s}function $y(t){jn.lFrame.inI18n=t}function sD(t,i){const s=jn.lFrame;s.bindingIndex=s.bindingRootIndex=t,h_(i)}function h_(t){jn.lFrame.currentDirectiveIndex=t}function gc(t){const i=jn.lFrame.currentDirectiveIndex;return-1===i?null:t[i]}function Nv(){return jn.lFrame.currentQueryIndex}function Ql(t){jn.lFrame.currentQueryIndex=t}function Al(t){const i=t[Ln];return 2===i.type?i.declTNode:1===i.type?t[ho]:null}function kh(t,i,s){if(s&Bn.SkipSelf){let E=i,L=t;for(;!(E=E.parent,null!==E||s&Bn.Host||(E=Al(L),null===E||(L=L[Ua],10&E.type))););if(null===E)return!1;i=E,t=L}const u=jn.lFrame=Fi();return u.currentTNode=i,u.lView=t,!0}function om(t){const i=Fi(),s=t[Ln];jn.lFrame=i,i.currentTNode=s.firstChild,i.lView=t,i.tView=s,i.contextLView=t,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function Fi(){const t=jn.lFrame,i=null===t?null:t.child;return null===i?Ph(t):i}function Ph(t){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=i),i}function Lh(){const t=jn.lFrame;return jn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Bv=Lh;function vc(){const t=Lh();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Hs(){return jn.lFrame.selectedIndex}function Mu(t){jn.lFrame.selectedIndex=t}function Ro(){const t=jn.lFrame;return yu(t.tView,t.selectedIndex)}function jv(){jn.lFrame.currentNamespace=xh}function $v(){!function rD(){jn.lFrame.currentNamespace=null}()}let Vv=!0;function Fh(){return Vv}function wl(t){Vv=t}function Nh(t,i){for(let s=i.directiveStart,u=i.directiveEnd;s<u;s++){const L=t.data[s].type.prototype,{ngAfterContentInit:z,ngAfterContentChecked:q,ngAfterViewInit:fe,ngAfterViewChecked:je,ngOnDestroy:qe}=L;z&&(t.contentHooks??=[]).push(-s,z),q&&((t.contentHooks??=[]).push(s,q),(t.contentCheckHooks??=[]).push(s,q)),fe&&(t.viewHooks??=[]).push(-s,fe),je&&((t.viewHooks??=[]).push(s,je),(t.viewCheckHooks??=[]).push(s,je)),null!=qe&&(t.destroyHooks??=[]).push(s,qe)}}function Wa(t,i,s){Gv(t,i,3,s)}function f_(t,i,s,u){(3&t[bi])===s&&Gv(t,i,s,u)}function rm(t,i){let s=t[bi];(3&s)===i&&(s&=16383,s+=1,t[bi]=s)}function Gv(t,i,s,u){const L=u??-1,z=i.length-1;let q=0;for(let fe=void 0!==u?65535&t[Ed]:0;fe<z;fe++)if("number"==typeof i[fe+1]){if(q=i[fe],null!=u&&q>=u)break}else i[fe]<0&&(t[Ed]+=65536),(q<L||-1==L)&&(Gy(t,s,i,fe),t[Ed]=(4294901760&t[Ed])+fe+2),fe++}function Kv(t,i){va(4,t,i);const s=p(null);try{i.call(t)}finally{p(s),va(5,t,i)}}function Gy(t,i,s,u){const E=s[u]<0,L=s[u+1],q=t[E?-s[u]:s[u]];E?t[bi]>>14<t[Ed]>>16&&(3&t[bi])===i&&(t[bi]+=16384,Kv(q,L)):Kv(q,L)}const bc=-1;class Tu{constructor(i,s,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=u}}const cm={};class Ls{constructor(i,s){this.injector=i,this.parentInjector=s}get(i,s,u){u=Ki(u);const E=this.injector.get(i,cm,u);return E!==cm||s===cm?E:this.parentInjector.get(i,s,u)}}function Bh(t){return t!==bc}function jh(t){return 32767&t}function Id(t,i){let s=function dm(t){return t>>16}(t),u=i;for(;s>0;)u=u[Ua],s--;return u}let um=!0;function __(t){const i=um;return um=t,i}const Xv=255,Hv=5;let hm=0;const pl={};function p_(t,i){const s=Ai(t,i);if(-1!==s)return s;const u=i[Ln];u.firstCreatePass&&(t.injectorIndex=i.length,fm(u.data,t),fm(i,null),fm(u.blueprint,null));const E=Du(t,i),L=t.injectorIndex;if(Bh(E)){const z=jh(E),q=Id(E,i),fe=q[Ln].data;for(let je=0;je<8;je++)i[L+je]=q[z+je]|fe[z+je]}return i[L+8]=E,L}function fm(t,i){t.push(0,0,0,0,0,0,0,0,i)}function Ai(t,i){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===i[t.injectorIndex+8]?-1:t.injectorIndex}function Du(t,i){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,u=null,E=i;for(;null!==E;){if(u=qv(E),null===u)return bc;if(s++,E=E[Ua],-1!==u.injectorIndex)return u.injectorIndex|s<<16}return bc}function m_(t,i,s){!function Xy(t,i,s){let u;"string"==typeof s?u=s.charCodeAt(0)||0:s.hasOwnProperty(it)&&(u=s[it]),null==u&&(u=s[it]=hm++);const E=u&Xv;i.data[t+(E>>Hv)]|=1<<E}(t,i,s)}function Od(t,i,s){if(s&Bn.Optional||void 0!==t)return t;Wn()}function Yv(t,i,s,u){if(s&Bn.Optional&&void 0===u&&(u=null),!(s&(Bn.Self|Bn.Host))){const E=t[fs],L=Ii(void 0);try{return E?E.get(i,u,s&Bn.Optional):lo(i,u,s&Bn.Optional)}finally{Ii(L)}}return Od(u,0,s)}function Qv(t,i,s,u=Bn.Default,E){if(null!==t){if(2048&i[bi]&&!(u&Bn.Self)){const z=function Jy(t,i,s,u,E){let L=t,z=i;for(;null!==L&&null!==z&&2048&z[bi]&&!(512&z[bi]);){const q=Jv(L,z,s,u|Bn.Self,pl);if(q!==pl)return q;let fe=L.parent;if(!fe){const je=z[pa];if(je){const qe=je.get(s,pl,u);if(qe!==pl)return qe}fe=qv(z),z=z[Ua]}L=fe}return E}(t,i,s,u,pl);if(z!==pl)return z}const L=Jv(t,i,s,u,pl);if(L!==pl)return L}return Yv(i,s,u,E)}function Jv(t,i,s,u,E){const L=function _m(t){if("string"==typeof t)return t.charCodeAt(0)||0;const i=t.hasOwnProperty(it)?t[it]:void 0;return"number"==typeof i?i>=0?i&Xv:Qy:i}(s);if("function"==typeof L){if(!kh(i,t,u))return u&Bn.Host?Od(E,0,u):Yv(i,s,u,E);try{let z;if(z=L(u),null!=z||u&Bn.Optional)return z;Wn()}finally{Bv()}}else if("number"==typeof L){let z=null,q=Ai(t,i),fe=bc,je=u&Bn.Host?i[yi][ho]:null;for((-1===q||u&Bn.SkipSelf)&&(fe=-1===q?Du(t,i):i[q+8],fe!==bc&&Zv(u,!1)?(z=i[Ln],q=jh(fe),i=Id(fe,i)):q=-1);-1!==q;){const qe=i[Ln];if(pm(L,q,qe.data)){const Ot=Yy(q,i,s,z,u,je);if(Ot!==pl)return Ot}fe=i[q+8],fe!==bc&&Zv(u,i[Ln].data[q+8]===je)&&pm(L,q,i)?(z=qe,q=jh(fe),i=Id(fe,i)):q=-1}}return E}function Yy(t,i,s,u,E,L){const z=i[Ln],q=z.data[t+8],qe=$h(q,z,s,null==u?_l(q)&&um:u!=z&&!!(3&q.type),E&Bn.Host&&L===q);return null!==qe?yc(i,z,qe,q):pl}function $h(t,i,s,u,E){const L=t.providerIndexes,z=i.data,q=1048575&L,fe=t.directiveStart,qe=L>>20,Xt=E?q+qe:t.directiveEnd;for(let Ht=u?q:q+qe;Ht<Xt;Ht++){const ln=z[Ht];if(Ht<fe&&s===ln||Ht>=fe&&ln.type===s)return Ht}if(E){const Ht=z[fe];if(Ht&&or(Ht)&&Ht.type===s)return fe}return null}function yc(t,i,s,u){let E=t[s];const L=i.data;if(function Ky(t){return t instanceof Tu}(E)){const z=E;z.resolving&&function mn(t,i){throw i&&i.join(" > "),new zn(-200,t)}(function $t(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():pt(t)}(L[s]));const q=__(z.canSeeViewProviders);z.resolving=!0;const je=z.injectImpl?Ii(z.injectImpl):null;kh(t,u,Bn.Default);try{E=t[s]=z.factory(void 0,L,t,u),i.firstCreatePass&&s>=u.directiveStart&&function sm(t,i,s){const{ngOnChanges:u,ngOnInit:E,ngDoCheck:L}=i.type.prototype;if(u){const z=Il(i);(s.preOrderHooks??=[]).push(t,z),(s.preOrderCheckHooks??=[]).push(t,z)}E&&(s.preOrderHooks??=[]).push(0-t,E),L&&((s.preOrderHooks??=[]).push(t,L),(s.preOrderCheckHooks??=[]).push(t,L))}(s,L[s],i)}finally{null!==je&&Ii(je),__(q),z.resolving=!1,Bv()}}return E}function pm(t,i,s){return!!(s[i+(t>>Hv)]&1<<t)}function Zv(t,i){return!(t&Bn.Self||t&Bn.Host&&i)}class Fs{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,u){return Qv(this._tNode,this._lView,i,Ki(u),s)}}function Qy(){return new Fs(go(),yn())}function Kc(t){return As(()=>{const i=t.prototype.constructor,s=i[at]||g_(i),u=Object.prototype;let E=Object.getPrototypeOf(t.prototype).constructor;for(;E&&E!==u;){const L=E[at]||g_(E);if(L&&L!==s)return L;E=Object.getPrototypeOf(E)}return L=>new L})}function g_(t){return fr(t)?()=>{const i=g_(Ei(t));return i&&i()}:cl(t)}function qv(t){const i=t[Ln],s=i.type;return 2===s?i.declTNode:1===s?t[ho]:null}function v_(t){return function Hy(t,i){if("class"===i)return t.classes;if("style"===i)return t.styles;const s=t.attrs;if(s){const u=s.length;let E=0;for(;E<u;){const L=s[E];if(Rc(L))break;if(0===L)E+=2;else if("number"==typeof L)for(E++;E<u&&"string"==typeof s[E];)E++;else{if(L===i)return s[E+1];E+=2}}}return null}(go(),t)}function Vh(t,i=null,s=null,u){const E=s0(t,i,s,u);return E.resolveInjectorInitializers(),E}function s0(t,i=null,s=null,u,E=new Set){const L=[s||Ji,Vp(t)];return u=u||("object"==typeof t?void 0:To(t)),new Xs(L,i||_a(),u||null,E)}class rr{static#e=this.THROW_IF_NOT_FOUND=ll;static#t=this.NULL=new xc;static create(i,s){if(Array.isArray(i))return Vh({name:""},s,i,"");{const u=i.name??"";return Vh({name:u},i.parent,i.providers,u)}}static#n=this.\u0275prov=oo({token:rr,providedIn:"any",factory:()=>Ci(fd)});static#i=this.__NG_ELEMENT_ID__=-1}new Ti("").__NG_ELEMENT_ID__=t=>{const i=go();if(null===i)throw new zn(204,!1);if(2&i.type)return i.value;if(t&Bn.Optional)return null;throw new zn(204,!1)};function vm(t){return t.ngOriginalError}class kl{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i);this._console.error("ERROR",i),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&vm(i);for(;s&&vm(s);)s=vm(s);return s||null}}const a0=new Ti("",{providedIn:"root",factory:()=>xn(kl).handleError.bind(void 0)});let Gh=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=hD;static#t=this.__NG_ENV_ID__=s=>s}return t})();class iE extends Gh{constructor(i){super(),this._lView=i}onDestroy(i){return In(this._lView,i),()=>function ai(t,i){if(null===t[Dl])return;const s=t[Dl].indexOf(i);-1!==s&&t[Dl].splice(s,1)}(this._lView,i)}}function hD(){return new iE(yn())}function c0(){return Ou(go(),yn())}function Ou(t,i){return new Xc(sr(t,i))}let Xc=(()=>{class t{constructor(s){this.nativeElement=s}static#e=this.__NG_ELEMENT_ID__=c0}return t})();function ym(t){return t instanceof Xc?t.nativeElement:t}let xd=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ee.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275prov=oo({token:t,providedIn:"root",factory:()=>new t})}return t})();const Pl=class gD extends Ge.B7{constructor(i=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=i,vd()&&(this.destroyRef=xn(Gh,{optional:!0})??void 0,this.pendingTasks=xn(xd,{optional:!0})??void 0)}emit(i){const s=p(null);try{super.next(i)}finally{p(s)}}subscribe(i,s,u){let E=i,L=s||(()=>null),z=u;if(i&&"object"==typeof i){const fe=i;E=fe.next?.bind(fe),L=fe.error?.bind(fe),z=fe.complete?.bind(fe)}this.__isAsync&&(L=this.wrapInTimeout(L),E&&(E=this.wrapInTimeout(E)),z&&(z=this.wrapInTimeout(z)));const q=super.subscribe({next:E,error:L,complete:z});return i instanceof Qe.y&&i.add(q),q}wrapInTimeout(i){return s=>{const u=this.pendingTasks?.add();setTimeout(()=>{i(s),void 0!==u&&this.pendingTasks?.remove(u)})}}};function sE(){return this._results[Symbol.iterator]()}class b_{static#e=Symbol.iterator;get changes(){return this._changes??=new Pl}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const s=b_.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=sE)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){this.dirty=!1;const u=function Yo(t){return t.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Yf(t,i,s){if(t.length!==i.length)return!1;for(let u=0;u<t.length;u++){let E=t[u],L=i[u];if(s&&(E=s(E),L=s(L)),L!==E)return!1}return!0}(this._results,u,s))&&(this._results=u,this.length=u.length,this.last=u[this.length-1],this.first=u[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(i){this._onDirty=i}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Wh(t){return!(128&~t.flags)}const Cm=new Map;let Mm=0;const y_="__ngContext__";function $r(t,i){_s(i)?(t[y_]=i[Bc],function h0(t){Cm.set(t[Bc],t)}(i)):t[y_]=i}function fE(t){return _E(t[yd])}function b0(t){return _E(t[$a])}function _E(t){for(;null!==t&&!vr(t);)t=t[$a];return t}let M_;function M0(t){M_=t}function Hc(){if(void 0!==M_)return M_;if(typeof document<"u")return document;throw new zn(210,!1)}const T_=new Ti("",{providedIn:"root",factory:()=>T0}),T0="ng",D0=new Ti(""),Sm=new Ti("",{providedIn:"platform",factory:()=>"unknown"}),ME=new Ti(""),TE=new Ti("",{providedIn:"root",factory:()=>Hc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let O0=()=>null;function x0(t,i,s=!1){return O0(t,i,s)}const R0=new Ti("",{providedIn:"root",factory:()=>!1});let P_,ef;function ju(t){return function Pm(){if(void 0===P_&&(P_=null,Lo.trustedTypes))try{P_=Lo.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return P_}()?.createHTML(t)||t}function tf(){if(void 0===ef&&(ef=null,Lo.trustedTypes))try{ef=Lo.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ef}function nf(t){return tf()?.createHTML(t)||t}function L_(t){return tf()?.createScriptURL(t)||t}class Ld{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${zr})`}}class AE extends Ld{getTypeName(){return"HTML"}}class wE extends Ld{getTypeName(){return"Style"}}class kE extends Ld{getTypeName(){return"Script"}}class w0 extends Ld{getTypeName(){return"URL"}}class k0 extends Ld{getTypeName(){return"ResourceURL"}}function yr(t){return t instanceof Ld?t.changingThisBreaksApplicationSecurity:t}function Jc(t,i){const s=function P0(t){return t instanceof Ld&&t.getTypeName()||null}(t);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see ${zr})`)}return s===i}function PE(t){return new AE(t)}function LE(t){return new wE(t)}function FE(t){return new kE(t)}function L0(t){return new w0(t)}function NE(t){return new k0(t)}function F0(t){const i=new BE(t);return function sf(){try{return!!(new window.DOMParser).parseFromString(ju(""),"text/html")}catch{return!1}}()?new Lm(i):i}class Lm{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const s=(new window.DOMParser).parseFromString(ju(i),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(i):(s.removeChild(s.firstChild),s)}catch{return null}}}class BE{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const s=this.inertDocument.createElement("template");return s.innerHTML=ju(i),s}}const F_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function rf(t){return(t=String(t)).match(F_)?t:"unsafe:"+t}function Zl(t){const i={};for(const s of t.split(","))i[s]=!0;return i}function $u(...t){const i={};for(const s of t)for(const u in s)s.hasOwnProperty(u)&&(i[u]=!0);return i}const Fm=Zl("area,br,col,hr,img,wbr"),Nm=Zl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Bm=Zl("rp,rt"),N_=$u(Fm,$u(Nm,Zl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$u(Bm,Zl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$u(Bm,Nm)),Zc=Zl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),N0=$u(Zc,Zl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),UE=Zl("script,style,template");class VE{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let s=i.firstChild,u=!0,E=[];for(;s;)if(s.nodeType===Node.ELEMENT_NODE?u=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,u&&s.firstChild)E.push(s),s=KE(s);else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let L=lf(s);if(L){s=L;break}s=E.pop()}return this.buf.join("")}startElement(i){const s=jm(i).toLowerCase();if(!N_.hasOwnProperty(s))return this.sanitizedSomething=!0,!UE.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const u=i.attributes;for(let E=0;E<u.length;E++){const L=u.item(E),z=L.name,q=z.toLowerCase();if(!N0.hasOwnProperty(q)){this.sanitizedSomething=!0;continue}let fe=L.value;Zc[q]&&(fe=rf(fe)),this.buf.push(" ",z,'="',Fd(fe),'"')}return this.buf.push(">"),!0}endElement(i){const s=jm(i).toLowerCase();N_.hasOwnProperty(s)&&!Fm.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(i){this.buf.push(Fd(i))}}function lf(t){const i=t.nextSibling;if(i&&t!==i.previousSibling)throw $m(i);return i}function KE(t){const i=t.firstChild;if(i&&function GE(t,i){return(t.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(t,i))throw $m(i);return i}function jm(t){const i=t.nodeName;return"string"==typeof i?i:"FORM"}function $m(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}const WE=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Um=/([^\#-~ |!])/g;function Fd(t){return t.replace(/&/g,"&amp;").replace(WE,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(Um,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Uu;function ps(t,i){let s=null;try{Uu=Uu||F0(t);let u=i?String(i):"";s=Uu.getInertBodyElement(u);let E=5,L=u;do{if(0===E)throw new Error("Failed to sanitize html because the input is unstable");E--,u=L,L=s.innerHTML,s=Uu.getInertBodyElement(u)}while(u!==L);return ju((new VE).sanitizeChildren(Vm(s)||s))}finally{if(s){const u=Vm(s)||s;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Vm(t){return"content"in t&&function B0(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ss=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ss||{});function Fl(t){const i=df();return i?nf(i.sanitize(ss.HTML,t)||""):Jc(t,"HTML")?nf(yr(t)):ps(Hc(),pt(t))}function Gm(t){const i=df();return i?i.sanitize(ss.URL,t)||"":Jc(t,"URL")?yr(t):rf(pt(t))}function j0(t){const i=df();if(i)return L_(i.sanitize(ss.RESOURCE_URL,t)||"");if(Jc(t,"ResourceURL"))return L_(yr(t));throw new zn(904,!1)}function $0(t,i,s){return function YE(t,i){return"src"===i&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===i&&("base"===t||"link"===t)?j0:Gm}(i,s)(t)}function df(){const t=yn();return t&&t[Tl].sanitizer}const QE=/^>|^->|<!--|-->|--!>|<!-$/g,B_=/(<|>)/g,JE="\u200b$1\u200b";function W0(t){return t.ownerDocument.defaultView}function z0(t){return t.ownerDocument}function qr(t){return t instanceof Function?t():t}function Ca(t){return"browser"===(t??xn(rr)).get(Sm)}var V_=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(V_||{});let G_;function Ym(t,i){return G_(t,i)}function Gu(t,i,s,u,E){if(null!=u){let L,z=!1;vr(u)?L=u:_s(u)&&(z=!0,u=u[jo]);const q=_o(u);0===t&&null!==s?null==E?qm(i,s,q):Nd(i,s,q,E||null,!0):1===t&&null!==s?Nd(i,s,q,E||null,!0):2===t?Wu(i,q,z):3===t&&i.destroyNode(q),null!=L&&function Vo(t,i,s,u,E){const L=s[Yl];L!==_o(s)&&Gu(i,t,u,L,E);for(let q=fo;q<s.length;q++){const fe=s[q];ig(fe[Ln],fe,t,i,u,L)}}(i,t,L,s,E)}}function Qm(t,i){return t.createText(i)}function Jm(t,i,s){t.setValue(i,s)}function K_(t,i){return t.createComment(function U0(t){return t.replace(QE,i=>i.replace(B_,JE))}(i))}function W_(t,i,s){return t.createElement(i,s)}function Z0(t,i){i[Tl].changeDetectionScheduler?.notify(8),ig(t,i,i[Ri],2,null,null)}function q0(t,i){const s=t[pc],u=i[Ds];(_s(u)||i[yi]!==u[Ds][yi])&&(t[bi]|=ma.HasTransplantedViews),null===s?t[pc]=[i]:s.push(i)}function Nl(t,i){const s=t[pc],u=s.indexOf(i);s.splice(u,1)}function hf(t,i){if(t.length<=fo)return;const s=fo+i,u=t[s];if(u){const E=u[Nc];null!==E&&E!==t&&Nl(E,u),i>0&&(t[s-1][$a]=u[$a]);const L=Fa(t,fo+i);!function sC(t,i){Z0(t,i),i[jo]=null,i[ho]=null}(u[Ln],u);const z=L[Br];null!==z&&z.detachView(L[Ln]),u[Ds]=null,u[$a]=null,u[bi]&=-129}return u}function z_(t,i){if(!(256&i[bi])){const s=i[Ri];s.destroyNode&&ig(t,i,s,3,null,null),function rC(t){let i=t[yd];if(!i)return X_(t[Ln],t);for(;i;){let s=null;if(_s(i))s=i[yd];else{const u=i[fo];u&&(s=u)}if(!s){for(;i&&!i[$a]&&i!==t;)_s(i)&&X_(i[Ln],i),i=i[Ds];null===i&&(i=t),_s(i)&&X_(i[Ln],i),s=i&&i[$a]}i=s}}(i)}}function X_(t,i){if(256&i[bi])return;const s=p(null);try{i[bi]&=-129,i[bi]|=256,i[Va]&&I(i[Va]),function cC(t,i){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let u=0;u<s.length;u+=2){const E=i[s[u]];if(!(E instanceof Tu)){const L=s[u+1];if(Array.isArray(L))for(let z=0;z<L.length;z+=2){const q=E[L[z]],fe=L[z+1];va(4,q,fe);try{fe.call(q)}finally{va(5,q,fe)}}else{va(4,E,L);try{L.call(E)}finally{va(5,E,L)}}}}}(t,i),function lC(t,i){const s=t.cleanup,u=i[Fc];if(null!==s)for(let L=0;L<s.length-1;L+=2)if("string"==typeof s[L]){const z=s[L+3];z>=0?u[z]():u[-z].unsubscribe(),L+=2}else s[L].call(u[s[L+1]]);null!==u&&(i[Fc]=null);const E=i[Dl];if(null!==E){i[Dl]=null;for(let L=0;L<E.length;L++)(0,E[L])()}}(t,i),1===i[Ln].type&&i[Ri].destroy();const u=i[Nc];if(null!==u&&vr(i[Ds])){u!==i[Ds]&&Nl(u,i);const E=i[Br];null!==E&&E.detachView(t)}!function aE(t){Cm.delete(t[Bc])}(i)}finally{p(s)}}function Zm(t,i,s){return e1(t,i.parent,s)}function e1(t,i,s){let u=i;for(;null!==u&&168&u.type;)u=(i=u).parent;if(null===u)return s[jo];{const{componentOffset:E}=u;if(E>-1){const{encapsulation:L}=t.data[u.directiveStart+E];if(L===dc.None||L===dc.Emulated)return null}return sr(u,s)}}function Nd(t,i,s,u,E){t.insertBefore(i,s,u,E)}function qm(t,i,s){t.appendChild(i,s)}function t1(t,i,s,u,E){null!==u?Nd(t,i,s,u,E):qm(t,i,s)}function eg(t,i){return t.parentNode(i)}function hC(t,i,s){return _C(t,i,s)}function fC(t,i,s){return 40&t.type?sr(t,s):null}let tg,_C=fC;function n1(t,i){_C=t,tg=i}function Bd(t,i,s,u){const E=Zm(t,u,i),L=i[Ri],q=hC(u.parent||i[ho],u,i);if(null!=E)if(Array.isArray(s))for(let fe=0;fe<s.length;fe++)t1(L,E,s[fe],q,!1);else t1(L,E,s,q,!1);void 0!==tg&&tg(L,u,i,s,E)}function Ku(t,i){if(null!==i){const s=i.type;if(3&s)return sr(i,t);if(4&s)return ng(-1,t[i.index]);if(8&s){const u=i.child;if(null!==u)return Ku(t,u);{const E=t[i.index];return vr(E)?ng(-1,E):_o(E)}}if(32&s)return Ym(i,t)()||_o(t[i.index]);{const u=o1(t,i);return null!==u?Array.isArray(u)?u[0]:Ku(On(t[yi]),u):Ku(t,i.next)}}return null}function o1(t,i){return null!==i?t[yi][ho].projection[i.projection]:null}function ng(t,i){const s=fo+t+1;if(s<i.length){const u=i[s],E=u[Ln].firstChild;if(null!==E)return Ku(u,E)}return i[Yl]}function Wu(t,i,s){const u=eg(t,i);u&&function dC(t,i,s,u){t.removeChild(i,s,u)}(t,u,i,s)}function ff(t,i,s,u,E,L,z){for(;null!=s;){if(128===s.type){s=s.next;continue}const q=u[s.index],fe=s.type;if(z&&0===i&&(q&&$r(_o(q),u),s.flags|=2),32&~s.flags)if(8&fe)ff(t,i,s.child,u,E,L,!1),Gu(i,t,E,q,L);else if(32&fe){const je=Ym(s,u);let qe;for(;qe=je();)Gu(i,t,E,qe,L);Gu(i,t,E,q,L)}else 16&fe?a1(t,i,u,s,E,L):Gu(i,t,E,q,L);s=z?s.projectionNext:s.next}}function ig(t,i,s,u,E,L){ff(s,u,t.firstChild,i,E,L,!1)}function a1(t,i,s,u,E,L){const z=s[yi],fe=z[ho].projection[u.projection];if(Array.isArray(fe))for(let je=0;je<fe.length;je++)Gu(i,t,E,fe[je],L);else{let je=fe;const qe=z[Ds];Wh(u)&&(je.flags|=128),ff(t,i,je,qe,E,L,!0)}}function H_(t,i,s){""===s?t.removeAttribute(i,"class"):t.setAttribute(i,"class",s)}function l1(t,i,s){const{mergedAttrs:u,classes:E,styles:L}=s;null!==u&&_d(t,i,u),null!==E&&H_(t,i,E),null!==L&&function pC(t,i,s){t.setAttribute(i,"style",s)}(t,i,L)}const Vi={};function c1(t=1){d1(Qi(),yn(),Hs()+t,!1)}function d1(t,i,s,u){if(!u)if(3&~i[bi]){const L=t.preOrderHooks;null!==L&&f_(i,L,0,s)}else{const L=t.preOrderCheckHooks;null!==L&&Wa(i,L,s)}Mu(s)}function zu(t,i=Bn.Default){const s=yn();return null===s?Ci(t,i):Qv(go(),s,Ei(t),i)}function u1(){throw new Error("invalid")}function h1(t,i,s,u,E,L){const z=p(null);try{let q=null;E&uc.SignalBased&&(q=i[u][g]),null!==q&&void 0!==q.transformFn&&(L=q.transformFn(L)),E&uc.HasDecoratorInputTransform&&(L=t.inputTransforms[u].call(i,L)),null!==t.setInput?t.setInput(i,q,L,s,u):Ov(i,q,u,L)}finally{p(z)}}function jd(t,i,s,u,E,L,z,q,fe,je,qe){const Ot=i.blueprint.slice();return Ot[jo]=E,Ot[bi]=204|u,(null!==je||t&&2048&t[bi])&&(Ot[bi]|=2048),ee(Ot),Ot[Ds]=Ot[Ua]=t,Ot[yo]=s,Ot[Tl]=z||t&&t[Tl],Ot[Ri]=q||t&&t[Ri],Ot[fs]=fe||t&&t[fs]||null,Ot[ho]=L,Ot[Bc]=function u0(){return Mm++}(),Ot[Nr]=qe,Ot[pa]=je,Ot[yi]=2==i.type?t[yi]:Ot,Ot}function $d(t,i,s,u,E){let L=t.data[i];if(null===L)L=sg(t,i,s,u,E),function jy(){return jn.lFrame.inI18n}()&&(L.flags|=32);else if(64&L.type){L.type=s,L.value=u,L.attrs=E;const z=Eu();L.injectorIndex=null===z?-1:z.injectorIndex}return xl(L,!0),L}function sg(t,i,s,u,E){const L=Pv(),z=u_(),fe=t.data[i]=function vC(t,i,s,u,E,L){let z=i?i.injectorIndex:-1,q=0;return Sd()&&(q|=128),{type:s,index:u,insertBeforeIndex:null,injectorIndex:z,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:q,providerIndexes:0,value:E,attrs:L,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,z?L:L&&L.parent,s,i,u,E);return null===t.firstChild&&(t.firstChild=fe),null!==L&&(z?null==L.child&&null!==fe.parent&&(L.child=fe):null===L.next&&(L.next=fe,fe.prev=L)),fe}function Ud(t,i,s,u){if(0===s)return-1;const E=i.length;for(let L=0;L<s;L++)i.push(u),t.blueprint.push(u),t.data.push(null);return E}function _1(t,i,s,u,E){const L=Hs(),z=2&u;try{Mu(-1),z&&i.length>hi&&d1(t,i,hi,!1),va(z?2:0,E),s(u,E)}finally{Mu(L),va(z?3:1,E)}}function rg(t,i,s){if(pu(i)){const u=p(null);try{const L=i.directiveEnd;for(let z=i.directiveStart;z<L;z++){const q=t.data[z];q.contentQueries&&q.contentQueries(1,s[z],z)}}finally{p(u)}}}function Y_(t,i,s){tm()&&(function C1(t,i,s,u){const E=s.directiveStart,L=s.directiveEnd;_l(s)&&function CC(t,i,s){const u=sr(i,t),E=Xu(s);let z=16;s.signals?z=4096:s.onPush&&(z=64);const q=ep(t,jd(t,E,null,z,u,i,null,t[Tl].rendererFactory.createRenderer(u,s),null,null,null));t[i.index]=q}(i,s,t.data[E+s.componentOffset]),t.firstCreatePass||p_(s,i),$r(u,i);const z=s.initialInputs;for(let q=E;q<L;q++){const fe=t.data[q],je=yc(i,t,q,s);$r(je,i),null!==z&&T1(0,q-E,je,fe,0,z),or(fe)&&(Zr(s.index,i)[yo]=yc(i,t,q,s))}}(t,i,s,sr(s,i)),!(64&~s.flags)&&lg(t,i,s))}function _f(t,i,s=sr){const u=i.localNames;if(null!==u){let E=i.index+1;for(let L=0;L<u.length;L+=2){const z=u[L+1],q=-1===z?s(i,t):t[z];t[E++]=q}}}function Xu(t){const i=t.tView;return null===i||i.incompleteFirstPass?t.tView=Ns(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):i}function Ns(t,i,s,u,E,L,z,q,fe,je,qe){const Ot=hi+u,Xt=Ot+E,Ht=function mC(t,i){const s=[];for(let u=0;u<i;u++)s.push(u<t?null:Vi);return s}(Ot,Xt),ln="function"==typeof je?je():je;return Ht[Ln]={type:t,blueprint:Ht,template:s,queries:null,viewQuery:q,declTNode:i,data:Ht.slice().fill(null,Ot),bindingStartIndex:Ot,expandoStartIndex:Xt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof L?L():L,pipeRegistry:"function"==typeof z?z():z,firstChild:null,schemas:fe,consts:ln,incompleteFirstPass:!1,ssrId:qe}}let p1=()=>null;function g1(t,i,s,u,E){for(let L in i){if(!i.hasOwnProperty(L))continue;const z=i[L];if(void 0===z)continue;u??={};let q,fe=uc.None;Array.isArray(z)?(q=z[0],fe=z[1]):q=z;let je=L;if(null!==E){if(!E.hasOwnProperty(L))continue;je=E[L]}0===t?v1(u,s,je,q,fe):v1(u,s,je,q)}return u}function v1(t,i,s,u,E){let L;t.hasOwnProperty(s)?(L=t[s]).push(i,u):L=t[s]=[i,u],void 0!==E&&L.push(E)}function Er(t,i,s,u,E,L,z,q){const fe=sr(i,s);let qe,je=i.inputs;!q&&null!=je&&(qe=je[u])?(bf(t,s,qe,u,E),_l(i)&&function gf(t,i){const s=Zr(i,t);16&s[bi]||(s[bi]|=64)}(s,i.index)):3&i.type&&(u=function bC(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(u),E=null!=z?z(E,i.value||"",u):E,L.setProperty(fe,u,E))}function J_(t,i,s,u){if(tm()){const E=null===u?null:{"":-1},L=function cg(t,i){const s=t.directiveRegistry;let u=null,E=null;if(s)for(let L=0;L<s.length;L++){const z=s[L];if(md(i,z.selectors,!1))if(u||(u=[]),or(z))if(null!==z.findHostDirectiveDefs){const q=[];E=E||new Map,z.findHostDirectiveDefs(z,q,E),u.unshift(...q,z),q_(t,i,q.length)}else u.unshift(z),q_(t,i,0);else E=E||new Map,z.findHostDirectiveDefs?.(z,u,E),u.push(z)}return null===u?null:[u,E]}(t,s);let z,q;null===L?z=q=null:[z,q]=L,null!==z&&E1(t,i,s,z,E,q),E&&function yC(t,i,s){if(i){const u=t.localNames=[];for(let E=0;E<i.length;E+=2){const L=s[i[E+1]];if(null==L)throw new zn(-301,!1);u.push(i[E],L)}}}(s,u,E)}s.mergedAttrs=Ba(s.mergedAttrs,s.attrs)}function E1(t,i,s,u,E,L){for(let je=0;je<u.length;je++)m_(p_(s,i),t,u[je].type);!function vf(t,i,s){t.flags|=1,t.directiveStart=i,t.directiveEnd=i+s,t.providerIndexes=i}(s,t.data.length,u.length);for(let je=0;je<u.length;je++){const qe=u[je];qe.providersResolver&&qe.providersResolver(qe)}let z=!1,q=!1,fe=Ud(t,i,u.length,null);for(let je=0;je<u.length;je++){const qe=u[je];s.mergedAttrs=Ba(s.mergedAttrs,qe.hostAttrs),dg(t,s,i,fe,qe),EC(fe,qe,E),null!==qe.contentQueries&&(s.flags|=4),(null!==qe.hostBindings||null!==qe.hostAttrs||0!==qe.hostVars)&&(s.flags|=64);const Ot=qe.type.prototype;!z&&(Ot.ngOnChanges||Ot.ngOnInit||Ot.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),z=!0),!q&&(Ot.ngOnChanges||Ot.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),q=!0),fe++}!function b1(t,i,s){const E=i.directiveEnd,L=t.data,z=i.attrs,q=[];let fe=null,je=null;for(let qe=i.directiveStart;qe<E;qe++){const Ot=L[qe],Xt=s?s.get(Ot):null,ln=Xt?Xt.outputs:null;fe=g1(0,Ot.inputs,qe,fe,Xt?Xt.inputs:null),je=g1(1,Ot.outputs,qe,je,ln);const En=null===fe||null===z||zs(i)?null:MC(fe,qe,z);q.push(En)}null!==fe&&(fe.hasOwnProperty("class")&&(i.flags|=8),fe.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=q,i.inputs=fe,i.outputs=je}(t,s,L)}function lg(t,i,s){const u=s.directiveStart,E=s.directiveEnd,L=s.index,z=function Cu(){return jn.lFrame.currentDirectiveIndex}();try{Mu(L);for(let q=u;q<E;q++){const fe=t.data[q],je=i[q];h_(q),(null!==fe.hostBindings||0!==fe.hostVars||null!==fe.hostAttrs)&&M1(fe,je)}}finally{Mu(-1),h_(z)}}function M1(t,i){null!==t.hostBindings&&t.hostBindings(1,i)}function q_(t,i,s){i.componentOffset=s,(t.components??=[]).push(i.index)}function EC(t,i,s){if(s){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)s[i.exportAs[u]]=t;or(i)&&(s[""]=t)}}function dg(t,i,s,u,E){t.data[u]=E;const L=E.factory||(E.factory=cl(E.type)),z=new Tu(L,or(E),zu);t.blueprint[u]=z,s[u]=z,function ag(t,i,s,u,E){const L=E.hostBindings;if(L){let z=t.hostBindingOpCodes;null===z&&(z=t.hostBindingOpCodes=[]);const q=~i.index;(function Z_(t){let i=t.length;for(;i>0;){const s=t[--i];if("number"==typeof s&&s<0)return s}return 0})(z)!=q&&z.push(q),z.push(s,u,L)}}(t,i,u,Ud(t,s,E.hostVars,Vi),E)}function qc(t,i,s,u,E,L,z){if(null==L)t.removeAttribute(i,E,s);else{const q=null==z?pt(L):z(L,u||"",E);t.setAttribute(i,E,q,s)}}function T1(t,i,s,u,E,L){const z=L[i];if(null!==z)for(let q=0;q<z.length;)h1(u,s,z[q++],z[q++],z[q++],z[q++])}function MC(t,i,s){let u=null,E=0;for(;E<s.length;){const L=s[E];if(0!==L)if(5!==L){if("number"==typeof L)break;if(t.hasOwnProperty(L)){null===u&&(u=[]);const z=t[L];for(let q=0;q<z.length;q+=3)if(z[q]===i){u.push(L,z[q+1],z[q+2],s[E+1]);break}}E+=2}else E+=2;else E+=4}return u}function D1(t,i,s,u){return[t,!0,0,i,null,u,null,s,null,null]}function S1(t,i){const s=t.contentQueries;if(null!==s){const u=p(null);try{for(let E=0;E<s.length;E+=2){const z=s[E+1];if(-1!==z){const q=t.data[z];Ql(s[E]),q.contentQueries(2,i[z],z)}}}finally{p(u)}}}function ep(t,i){return t[yd]?t[_c][$a]=i:t[yd]=i,t[_c]=i,i}function Yu(t,i,s){Ql(0);const u=p(null);try{i(t,s)}finally{p(u)}}function I1(t){return t[Fc]??=[]}function O1(t){return t.cleanup??=[]}function Vd(t,i,s){return(null===t||or(t))&&(s=function Rh(t){for(;Array.isArray(t);){if("object"==typeof t[Ss])return t;t=t[jo]}return null}(s[i.index])),s[Ri]}function tp(t,i){const s=t[fs],u=s?s.get(kl,null):null;u&&u.handleError(i)}function bf(t,i,s,u,E){for(let L=0;L<s.length;){const z=s[L++],q=s[L++],fe=s[L++];h1(t.data[z],i[z],u,q,fe,E)}}function ec(t,i,s){const u=$c(i,t);Jm(t[Ri],u,s)}function x1(t,i){const s=Zr(i,t),u=s[Ln];!function TC(t,i){for(let s=i.length;s<t.blueprint.length;s++)i.push(t.blueprint[s])}(u,s);const E=s[jo];null!==E&&null===s[Nr]&&(s[Nr]=x0(E,s[fs])),ug(u,s,s[yo])}function ug(t,i,s){om(i);try{const u=t.viewQuery;null!==u&&Yu(1,u,s);const E=t.template;null!==E&&_1(t,i,E,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),i[Br]?.finishViewCreation(t),t.staticContentQueries&&S1(t,i),t.staticViewQueries&&Yu(2,t.viewQuery,s);const L=t.components;null!==L&&function Gd(t,i){for(let s=0;s<i.length;s++)x1(t,i[s])}(i,L)}catch(u){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),u}finally{i[bi]&=-5,vc()}}function Bl(t,i,s,u){const E=p(null);try{const L=i.tView,fe=jd(t,L,s,4096&t[bi]?4096:16,null,i,null,null,u?.injector??null,u?.embeddedViewInjector??null,u?.dehydratedView??null);fe[Nc]=t[i.index];const qe=t[Br];return null!==qe&&(fe[Br]=qe.createEmbeddedView(L)),ug(L,fe,s),fe}finally{p(E)}}function Kd(t,i){const s=fo+i;if(s<t.length)return t[s]}function Wd(t,i){return!i||null===i.firstChild||Wh(t)}function Qu(t,i,s,u=!0){const E=i[Ln];if(function aC(t,i,s,u){const E=fo+u,L=s.length;u>0&&(s[E-1][$a]=i),u<L-fo?(i[$a]=s[E],Qr(s,fo+u,i)):(s.push(i),i[$a]=null),i[Ds]=s;const z=i[Nc];null!==z&&s!==z&&q0(z,i);const q=i[Br];null!==q&&q.insertView(t),zt(i),i[bi]|=128}(E,i,t,s),u){const z=ng(s,t),q=i[Ri],fe=eg(q,t[Yl]);null!==fe&&function J0(t,i,s,u,E,L){u[jo]=E,u[ho]=i,ig(t,u,s,1,E,L)}(E,t[ho],q,i,fe,z)}const L=i[Nr];null!==L&&null!==L.firstChild&&(L.firstChild=null)}function hg(t,i){const s=hf(t,i);return void 0!==s&&z_(s[Ln],s),s}function yf(t,i,s,u,E=!1){for(;null!==s;){if(128===s.type){s=E?s.projectionNext:s.next;continue}const L=i[s.index];null!==L&&u.push(_o(L)),vr(L)&&R1(L,u);const z=s.type;if(8&z)yf(t,i,s.child,u);else if(32&z){const q=Ym(s,i);let fe;for(;fe=q();)u.push(fe)}else if(16&z){const q=o1(i,s);if(Array.isArray(q))u.push(...q);else{const fe=On(i[yi]);yf(fe[Ln],fe,q,u,!0)}}s=E?s.projectionNext:s.next}return u}function R1(t,i){for(let s=fo;s<t.length;s++){const u=t[s],E=u[Ln].firstChild;null!==E&&yf(u[Ln],u,E,i)}t[Yl]!==t[jo]&&i.push(t[Yl])}let A1=[];const SC={...y,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{un(t.lView)},consumerOnSignalRead(){this.lView[Va]=this}},ea={...y,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let i=On(t.lView);for(;i&&!zd(i[Ln]);)i=On(i);i&&Be(i)},consumerOnSignalRead(){this.lView[Va]=this}};function zd(t){return 2!==t.type}const w1=100;function td(t,i=!0,s=0){const u=t[Tl],E=u.rendererFactory;E.begin?.();try{!function k1(t,i){const s=Fv();try{wh(!0),Xa(t,i);let u=0;for(;Bt(t);){if(u===w1)throw new zn(103,!1);u++,Xa(t,1)}}finally{wh(s)}}(t,s)}catch(z){throw i&&tp(t,z),z}finally{E.end?.(),u.inlineEffectRunner?.flush()}}function ip(t,i,s,u){const E=i[bi];if(!(256&~E))return;i[Tl].inlineEffectRunner?.flush(),om(i);let q=!0,fe=null,je=null;zd(t)?(je=function Go(t){return t[Va]??function DC(t){const i=A1.pop()??Object.create(SC);return i.lView=t,i}(t)}(i),fe=M(je)):null===function f(){return n}()?(q=!1,je=function ed(t){const i=t[Va]??Object.create(ea);return i.lView=t,i}(i),fe=M(je)):i[Va]&&(I(i[Va]),i[Va]=null);try{ee(i),function By(t){return jn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&_1(t,i,s,2,u);const qe=!(3&~E);if(qe){const Ht=t.preOrderCheckHooks;null!==Ht&&Wa(i,Ht,null)}else{const Ht=t.preOrderHooks;null!==Ht&&f_(i,Ht,0,null),rm(i,0)}if(function P1(t){for(let i=fE(t);null!==i;i=b0(i)){if(!(i[bi]&ma.HasTransplantedViews))continue;const s=i[pc];for(let u=0;u<s.length;u++)Be(s[u])}}(i),fg(i,0),null!==t.contentQueries&&S1(t,i),qe){const Ht=t.contentCheckHooks;null!==Ht&&Wa(i,Ht)}else{const Ht=t.contentHooks;null!==Ht&&f_(i,Ht,1),rm(i,1)}!function f1(t,i){const s=t.hostBindingOpCodes;if(null!==s)try{for(let u=0;u<s.length;u++){const E=s[u];if(E<0)Mu(~E);else{const L=E,z=s[++u],q=s[++u];sD(z,L),q(2,i[L])}}}finally{Mu(-1)}}(t,i);const Ot=t.components;null!==Ot&&F1(i,Ot,0);const Xt=t.viewQuery;if(null!==Xt&&Yu(2,Xt,u),qe){const Ht=t.viewCheckHooks;null!==Ht&&Wa(i,Ht)}else{const Ht=t.viewHooks;null!==Ht&&f_(i,Ht,2),rm(i,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),i[fu]){for(const Ht of i[fu])Ht();i[fu]=null}i[bi]&=-73}catch(qe){throw un(i),qe}finally{null!==je&&(w(je,fe),q&&function Ju(t){t.lView[Va]!==t&&(t.lView=null,A1.push(t))}(je)),vc()}}function fg(t,i){for(let s=fE(t);null!==s;s=b0(s))for(let u=fo;u<s.length;u++)_g(s[u],i)}function L1(t,i,s){_g(Zr(i,t),s)}function _g(t,i){c_(t)&&Xa(t,i)}function Xa(t,i){const u=t[Ln],E=t[bi],L=t[Va];let z=!!(0===i&&16&E);if(z||=!!(64&E&&0===i),z||=!!(1024&E),z||=!(!L?.dirty||!x(L)),z||=!1,L&&(L.dirty=!1),t[bi]&=-9217,z)ip(u,t,u.template,t[yo]);else if(8192&E){fg(t,1);const q=u.components;null!==q&&F1(t,q,1)}}function F1(t,i,s){for(let u=0;u<i.length;u++)L1(t,i[u],s)}function Xd(t,i){const s=Fv()?64:1088;for(t[Tl].changeDetectionScheduler?.notify(i);t;){t[bi]|=s;const u=On(t);if(os(t)&&!u)return t;t=u}return null}class Zu{get rootNodes(){const i=this._lView,s=i[Ln];return yf(s,i,s.firstChild,[])}constructor(i,s,u=!0){this._lView=i,this._cdRefInjectingView=s,this.notifyErrorHandler=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[yo]}set context(i){this._lView[yo]=i}get destroyed(){return!(256&~this._lView[bi])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Ds];if(vr(i)){const s=i[8],u=s?s.indexOf(this):-1;u>-1&&(hf(i,u),Fa(s,u))}this._attachedToViewContainer=!1}z_(this._lView[Ln],this._lView)}onDestroy(i){In(this._lView,i)}markForCheck(){Xd(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[bi]&=-129}reattach(){zt(this._lView),this._lView[bi]|=128}detectChanges(){this._lView[bi]|=1024,td(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new zn(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const i=os(this._lView),s=this._lView[Nc];null!==s&&!i&&Nl(s,this._lView),Z0(this._lView[Ln],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new zn(902,!1);this._appRef=i;const s=os(this._lView),u=this._lView[Nc];null!==u&&!s&&q0(u,this._lView),zt(this._lView)}}let Hd=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=B1}return t})();const IC=Hd,N1=class extends IC{constructor(i,s,u){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,s){return this.createEmbeddedViewImpl(i,s)}createEmbeddedViewImpl(i,s,u){const E=Bl(this._declarationLView,this._declarationTContainer,i,{embeddedViewInjector:s,dehydratedView:u});return new Zu(E)}};function B1(){return qu(go(),yn())}function qu(t,i){return 4&t.type?new N1(i,t,Ou(t,i)):null}function bg(t,i,s){const u=i.insertBeforeIndex,E=Array.isArray(u)?u[0]:u;return null===E?fC(t,0,s):_o(s[E])}function yg(t,i,s,u,E){const L=i.insertBeforeIndex;if(Array.isArray(L)){let z=u,q=null;if(3&i.type||(q=z,z=E),null!==z&&-1===i.componentOffset)for(let fe=1;fe<L.length;fe++)Nd(t,z,s[L[fe]],q,!1)}}function Eg(t,i){if(t.push(i),t.length>1)for(let s=t.length-2;s>=0;s--){const u=t[s];nh(u)||RC(u,i)&&null===AC(u)&&vo(u,i.index)}}function nh(t){return!(64&t.type)}function RC(t,i){return nh(i)||t.index>i.index}function AC(t){const i=t.insertBeforeIndex;return Array.isArray(i)?i[0]:i}function vo(t,i){const s=t.insertBeforeIndex;Array.isArray(s)?s[0]=i:(n1(bg,yg),t.insertBeforeIndex=i)}function ta(t,i){const s=t.data[i];return null===s||"string"==typeof s?null:s.hasOwnProperty("currentCaseLViewIndex")?s:s.value}function W1(t,i,s){const u=sg(t,s,64,null,null);return Eg(i,u),u}function op(t,i){const s=i[t.currentCaseLViewIndex];return null===s?s:s<0?~s:s}function z1(t){return t>>>17}function Cg(t){return(131070&t)>>>1}function Tg(t,i,s){t.index=0;const u=op(i,s);t.removes=null!==u?i.remove[u]:Ji}function Yd(t){if(t.index<t.removes.length){const i=t.removes[t.index++];return i>0?t.lView[i]:(t.stack.push(t.index,t.removes),Tg(t,t.lView[Ln].data[~i],t.lView),Yd(t))}return 0===t.stack.length?null:(t.removes=t.stack.pop(),t.index=t.stack.pop(),Yd(t))}function nd(){const t={stack:[],index:-1};return function i(s,u){for(t.lView=u;t.stack.length;)t.stack.pop();return Tg(t,s.value,u),Yd.bind(null,t)}}let Sf=()=>{},tb=()=>{},ob=()=>null;function Zd(t,i){return ob(t,i)}class rh{}const Of=new Ti("",{providedIn:"root",factory:()=>!1}),rb=new Ti("");class qC{}class xf{}class tM{resolveComponentFactory(i){throw function eM(t){const i=Error(`No component factory found for ${To(t)}.`);return i.ngComponent=t,i}(i)}}class Af{static#e=this.NULL=new tM}class Rg{}let nM=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function iM(){const t=yn(),s=Zr(go().index,t);return(_s(s)?s:t)[Ri]}()}return t})(),oM=(()=>{class t{static#e=this.\u0275prov=oo({token:t,providedIn:"root",factory:()=>null})}return t})();const wf=new Set;function na(t){wf.has(t)||(wf.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Do(t){let i=!0;return setTimeout(()=>{i&&(i=!1,t())}),"function"==typeof Lo.requestAnimationFrame&&Lo.requestAnimationFrame(()=>{i&&(i=!1,t())}),()=>{i=!1}}function lb(t){let i=!0;return queueMicrotask(()=>{i&&t()}),()=>{i=!1}}function cb(...t){}class So{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pl(!1),this.onMicrotaskEmpty=new Pl(!1),this.onStable=new Pl(!1),this.onError=new Pl(!1),typeof Zone>"u")throw new zn(908,!1);Zone.assertZonePatched();const E=this;E._nesting=0,E._outer=E._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(E._inner=E._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(E._inner=E._inner.fork(Zone.longStackTraceZoneSpec)),E.shouldCoalesceEventChangeDetection=!u&&s,E.shouldCoalesceRunChangeDetection=u,E.callbackScheduled=!1,function sM(t){const i=()=>{!function ub(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{Do(()=>{t.callbackScheduled=!1,Ag(t),t.isCheckStableRunning=!0,kf(t),t.isCheckStableRunning=!1})}),Ag(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,u,E,L,z,q)=>{if(function rM(t){return _b(t,"__ignore_ng_zone__")}(q))return s.invokeTask(E,L,z,q);try{return hb(t),s.invokeTask(E,L,z,q)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===L.type||t.shouldCoalesceRunChangeDetection)&&i(),fb(t)}},onInvoke:(s,u,E,L,z,q,fe)=>{try{return hb(t),s.invoke(E,L,z,q,fe)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function kg(t){return _b(t,"__scheduler_tick__")}(q)&&i(),fb(t)}},onHasTask:(s,u,E,L)=>{s.hasTask(E,L),u===E&&("microTask"==L.change?(t._hasPendingMicrotasks=L.microTask,Ag(t),kf(t)):"macroTask"==L.change&&(t.hasPendingMacrotasks=L.macroTask))},onHandleError:(s,u,E,L)=>(s.handleError(E,L),t.runOutsideAngular(()=>t.onError.emit(L)),!1)})}(E)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!So.isInAngularZone())throw new zn(909,!1)}static assertNotInAngularZone(){if(So.isInAngularZone())throw new zn(909,!1)}run(i,s,u){return this._inner.run(i,s,u)}runTask(i,s,u,E){const L=this._inner,z=L.scheduleEventTask("NgZoneEvent: "+E,i,db,cb,cb);try{return L.runTask(z,s,u)}finally{L.cancelTask(z)}}runGuarded(i,s,u){return this._inner.runGuarded(i,s,u)}runOutsideAngular(i){return this._outer.run(i)}}const db={};function kf(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ag(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function hb(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function fb(t){t._nesting--,kf(t)}class wg{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pl,this.onMicrotaskEmpty=new Pl,this.onStable=new Pl,this.onError=new Pl}run(i,s,u){return i.apply(s,u)}runGuarded(i,s,u){return i.apply(s,u)}runOutsideAngular(i){return i()}runTask(i,s,u,E){return i.apply(s,u)}}function _b(t,i){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0]?.data?.[i]}var Ur=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ur||{});const Pg={destroy(){}};function pb(t,i){!i&&ir();const s=i?.injector??xn(rr);return Ca(s)?(na("NgAfterRender"),rp(t,s,!1,i?.phase??Ur.MixedReadWrite)):Pg}function Lg(t,i){!i&&ir();const s=i?.injector??xn(rr);return Ca(s)?(na("NgAfterNextRender"),rp(t,s,!0,i?.phase??Ur.MixedReadWrite)):Pg}function rp(t,i,s,u){const E=function lM(t,i){if(t instanceof Function)switch(i){case Ur.EarlyRead:return{earlyRead:t};case Ur.Write:return{write:t};case Ur.MixedReadWrite:return{mixedReadWrite:t};case Ur.Read:return{read:t}}return t}(t,u),L=i.get(ah),z=L.handler??=new gb,q=[],fe=[],je=()=>{for(const Ht of fe)z.unregister(Ht);qe()},qe=i.get(Gh).onDestroy(je);let Ot=0;const Xt=(Ht,ln)=>{if(!ln)return;const En=s?(...Yn)=>(Ot--,Ot<1&&je(),ln(...Yn)):ln,Un=Ml(i,()=>new mb(Ht,q,En));z.register(Un),fe.push(Un),Ot++};return Xt(Ur.EarlyRead,E.earlyRead),Xt(Ur.Write,E.write),Xt(Ur.MixedReadWrite,E.mixedReadWrite),Xt(Ur.Read,E.read),{destroy:je}}class mb{constructor(i,s,u){this.phase=i,this.pipelinedArgs=s,this.callbackFn=u,this.zone=xn(So),this.errorHandler=xn(kl,{optional:!0}),xn(rh,{optional:!0})?.notify(6)}invoke(){try{const i=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,i)}catch(i){this.errorHandler?.handleError(i)}}}class gb{constructor(){this.executingCallbacks=!1,this.buckets={[Ur.EarlyRead]:new Set,[Ur.Write]:new Set,[Ur.MixedReadWrite]:new Set,[Ur.Read]:new Set},this.deferredCallbacks=new Set}register(i){(this.executingCallbacks?this.deferredCallbacks:this.buckets[i.phase]).add(i)}unregister(i){this.buckets[i.phase].delete(i),this.deferredCallbacks.delete(i)}execute(){this.executingCallbacks=!0;for(const i of Object.values(this.buckets))for(const s of i)s.invoke();this.executingCallbacks=!1;for(const i of this.deferredCallbacks)this.buckets[i.phase].add(i);this.deferredCallbacks.clear()}destroy(){for(const i of Object.values(this.buckets))i.clear();this.deferredCallbacks.clear()}}let ah=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const s=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const u of s)u()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=oo({token:t,providedIn:"root",factory:()=>new t})}return t})();function ic(t){return!!Bo(t)}function cp(t,i,s){let u=s?t.styles:null,E=s?t.classes:null,L=0;if(null!==i)for(let z=0;z<i.length;z++){const q=i[z];"number"==typeof q?L=q:1==L?E=Rr(E,q):2==L&&(u=Rr(u,q+": "+i[++z]+";"))}s?t.styles=u:t.stylesWithoutHost=u,s?t.classes=E:t.classesWithoutHost=E}class bb extends Af{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=pn(i);return new Ff(s,this.ngModule)}}function yb(t,i){const s=[];for(const u in t){if(!t.hasOwnProperty(u))continue;const E=t[u];if(void 0===E)continue;const L=Array.isArray(E),z=L?E[0]:E;s.push(i?{propName:z,templateName:u,isSignal:!!((L?E[1]:uc.None)&uc.SignalBased)}:{propName:z,templateName:u})}return s}class Ff extends xf{get inputs(){const i=this.componentDef,s=i.inputTransforms,u=yb(i.inputs,!0);if(null!==s)for(const E of u)s.hasOwnProperty(E.propName)&&(E.transform=s[E.propName]);return u}get outputs(){return yb(this.componentDef.outputs,!1)}constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function le(t){return t.map(Zf).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}create(i,s,u,E){const L=p(null);try{let z=(E=E||this.ngModule)instanceof gr?E:E?.injector;z&&null!==this.componentDef.getStandaloneInjector&&(z=this.componentDef.getStandaloneInjector(z)||z);const q=z?new Ls(i,z):i,fe=q.get(Rg,null);if(null===fe)throw new zn(407,!1);const je=q.get(oM,null),Xt={rendererFactory:fe,sanitizer:je,inlineEffectRunner:null,afterRenderEventManager:q.get(ah,null),changeDetectionScheduler:q.get(rh,null)},Ht=fe.createRenderer(null,this.componentDef),ln=this.componentDef.selectors[0][0]||"div",En=u?function pf(t,i,s,u){const L=u.get(R0,!1)||s===dc.ShadowDom,z=t.selectRootElement(i,L);return function mf(t){p1(t)}(z),z}(Ht,u,this.componentDef.encapsulation,q):W_(Ht,ln,function dM(t){const i=t.toLowerCase();return"svg"===i?xh:"math"===i?"math":null}(ln));let Un=512;this.componentDef.signals?Un|=4096:this.componentDef.onPush||(Un|=16);let Yn=null;null!==En&&(Yn=x0(En,q,!0));const Dn=Ns(0,null,null,1,0,null,null,null,null,null,null),wi=jd(null,Dn,null,Un,null,null,Xt,Ht,q,null,Yn);let Mo,Wo;om(wi);try{const Dr=this.componentDef;let bl,jp=null;Dr.findHostDirectiveDefs?(bl=[],jp=new Map,Dr.findHostDirectiveDefs(Dr,bl,jp),bl.push(Dr)):bl=[Dr];const Z2=function hM(t,i){const s=t[Ln],u=hi;return t[u]=i,$d(s,u,2,"#host",null)}(wi,En),Sk=function fM(t,i,s,u,E,L,z){const q=E[Ln];!function Eb(t,i,s,u){for(const E of t)i.mergedAttrs=Ba(i.mergedAttrs,E.hostAttrs);null!==i.mergedAttrs&&(cp(i,i.mergedAttrs,!0),null!==s&&l1(u,s,i))}(u,t,i,z);let fe=null;null!==i&&(fe=x0(i,E[fs]));const je=L.rendererFactory.createRenderer(i,s);let qe=16;s.signals?qe=4096:s.onPush&&(qe=64);const Ot=jd(E,Xu(s),null,qe,E[t.index],t,L,je,null,null,fe);return q.firstCreatePass&&q_(q,t,u.length-1),ep(E,Ot),E[t.index]=Ot}(Z2,En,Dr,bl,wi,Xt,Ht);Wo=yu(Dn,hi),En&&function pM(t,i,s,u){if(u)_d(t,s,["ng-version","18.1.2"]);else{const{attrs:E,classes:L}=function Ce(t){const i=[],s=[];let u=1,E=2;for(;u<t.length;){let L=t[u];if("string"==typeof L)2===E?""!==L&&i.push(L,t[++u]):8===E&&s.push(L);else{if(!tr(E))break;E=L}u++}return{attrs:i,classes:s}}(i.selectors[0]);E&&_d(t,s,E),L&&L.length>0&&H_(t,s,L.join(" "))}}(Ht,Dr,En,u),void 0!==s&&function mM(t,i,s){const u=t.projection=[];for(let E=0;E<i.length;E++){const L=s[E];u.push(null!=L?Array.from(L):null)}}(Wo,this.ngContentSelectors,s),Mo=function _M(t,i,s,u,E,L){const z=go(),q=E[Ln],fe=sr(z,E);E1(q,E,z,s,null,u);for(let qe=0;qe<s.length;qe++)$r(yc(E,q,z.directiveStart+qe,z),E);lg(q,E,z),fe&&$r(fe,E);const je=yc(E,q,z.directiveStart+z.componentOffset,z);if(t[yo]=E[yo]=je,null!==L)for(const qe of L)qe(je,i);return rg(q,z,E),je}(Sk,Dr,bl,jp,wi,[gM]),ug(Dn,wi,null)}finally{vc()}return new uM(this.componentType,Mo,Ou(Wo,wi),wi,Wo)}finally{p(L)}}}class uM extends qC{constructor(i,s,u,E,L){super(),this.location=u,this._rootLView=E,this._tNode=L,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new Zu(E,void 0,!1),this.componentType=i}setInput(i,s){const u=this._tNode.inputs;let E;if(null!==u&&(E=u[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),s))return;const L=this._rootLView;bf(L[Ln],L,E,i,s),this.previousInputValues.set(i,s),Xd(Zr(this._tNode.index,L),1)}}get injector(){return new Fs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function gM(){const t=go();Nh(yn()[Ln],t)}let eu=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=vM}return t})();function vM(){return jg(go(),yn())}const bM=eu,Cb=class extends bM{constructor(i,s,u){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=u}get element(){return Ou(this._hostTNode,this._hostLView)}get injector(){return new Fs(this._hostTNode,this._hostLView)}get parentInjector(){const i=Du(this._hostTNode,this._hostLView);if(Bh(i)){const s=Id(i,this._hostLView),u=jh(i);return new Fs(s[Ln].data[u+8],s)}return new Fs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=Bg(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-fo}createEmbeddedView(i,s,u){let E,L;"number"==typeof u?E=u:null!=u&&(E=u.index,L=u.injector);const z=Zd(this._lContainer,i.ssrId),q=i.createEmbeddedViewImpl(s||{},L,z);return this.insertImpl(q,E,Wd(this._hostTNode,z)),q}createComponent(i,s,u,E,L){const z=i&&!function Lc(t){return"function"==typeof t}(i);let q;if(z)q=s;else{const ln=s||{};q=ln.index,u=ln.injector,E=ln.projectableNodes,L=ln.environmentInjector||ln.ngModuleRef}const fe=z?i:new Ff(pn(i)),je=u||this.parentInjector;if(!L&&null==fe.ngModule){const En=(z?je:this.parentInjector).get(gr,null);En&&(L=En)}const qe=pn(fe.componentType??{}),Ot=Zd(this._lContainer,qe?.id??null),Ht=fe.create(je,E,Ot?.firstChild??null,L);return this.insertImpl(Ht.hostView,q,Wd(this._hostTNode,Ot)),Ht}insert(i,s){return this.insertImpl(i,s,!0)}insertImpl(i,s,u){const E=i._lView;if(function d_(t){return vr(t[Ds])}(E)){const q=this.indexOf(i);if(-1!==q)this.detach(q);else{const fe=E[Ds],je=new Cb(fe,fe[ho],fe[Ds]);je.detach(je.indexOf(i))}}const L=this._adjustIndex(s),z=this._lContainer;return Qu(z,E,L,u),i.attachToViewContainerRef(),Qr(ch(z),L,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=Bg(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),u=hf(this._lContainer,s);u&&(Fa(ch(this._lContainer),s),z_(u[Ln],u))}detach(i){const s=this._adjustIndex(i,-1),u=hf(this._lContainer,s);return u&&null!=Fa(ch(this._lContainer),s)?new Zu(u):null}_adjustIndex(i,s=0){return i??this.length+s}};function Bg(t){return t[8]}function ch(t){return t[8]||(t[8]=[])}function jg(t,i){let s;const u=i[t.index];return vr(u)?s=u:(s=D1(u,i,null,t),i[t.index]=s,ep(i,s)),Nf(s,i,t,u),new Cb(s,t,i)}let Nf=function Cc(t,i,s,u){if(t[Yl])return;let E;E=8&s.type?_o(u):function Mb(t,i){const s=t[Ri],u=s.createComment(""),E=sr(i,t);return Nd(s,eg(s,E),u,function UD(t,i){return t.nextSibling(i)}(s,E),!1),u}(i,s),t[Yl]=E},dp=()=>!1;class Ug{constructor(i){this.queryList=i,this.matches=null}clone(){return new Ug(this.queryList)}setDirty(){this.queryList.setDirty()}}class uh{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const u=null!==i.contentQueries?i.contentQueries[0]:s.length,E=[];for(let L=0;L<u;L++){const z=s.getByIndex(L);E.push(this.queries[z.indexInDeclarationView].clone())}return new uh(E)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}finishViewCreation(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==zg(i,s).matches&&this.queries[s].setDirty()}}class Db{constructor(i,s,u=null){this.flags=s,this.read=u,this.predicate="string"==typeof i?function Ob(t){return t.split(",").map(i=>i.trim())}(i):i}}class Vg{constructor(i=[]){this.queries=i}elementStart(i,s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let u=0;u<this.length;u++){const E=null!==s?s.length:0,L=this.getByIndex(u).embeddedTView(i,E);L&&(L.indexInDeclarationView=u,null!==s?s.push(L):s=[L])}return null!==s?new Vg(s):null}template(i,s){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Bf{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new Bf(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1&~this.metadata.flags){const s=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==s;)u=u.parent;return s===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const u=this.metadata.predicate;if(Array.isArray(u))for(let E=0;E<u.length;E++){const L=u[E];this.matchTNodeWithReadOption(i,s,EM(s,L)),this.matchTNodeWithReadOption(i,s,$h(s,i,L,!1,!1))}else u===Hd?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,$h(s,i,u,!1,!1))}matchTNodeWithReadOption(i,s,u){if(null!==u){const E=this.metadata.read;if(null!==E)if(E===Xc||E===eu||E===Hd&&4&s.type)this.addMatch(s.index,-2);else{const L=$h(s,i,E,!1,!1);null!==L&&this.addMatch(s.index,L)}else this.addMatch(s.index,u)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function EM(t,i){const s=t.localNames;if(null!==s)for(let u=0;u<s.length;u+=2)if(s[u]===i)return s[u+1];return null}function Gg(t,i,s,u){return-1===s?function CM(t,i){return 11&t.type?Ou(t,i):4&t.type?qu(t,i):null}(i,t):-2===s?function MM(t,i,s){return s===Xc?Ou(i,t):s===Hd?qu(i,t):s===eu?jg(i,t):void 0}(t,i,u):yc(t,t[Ln],s,i)}function Sb(t,i,s,u){const E=i[Br].queries[u];if(null===E.matches){const L=t.data,z=s.matches,q=[];for(let fe=0;null!==z&&fe<z.length;fe+=2){const je=z[fe];q.push(je<0?null:Gg(i,L[je],z[fe+1],s.metadata.read))}E.matches=q}return E.matches}function jf(t,i,s,u){const E=t.queries.getByIndex(s),L=E.matches;if(null!==L){const z=Sb(t,i,E,s);for(let q=0;q<L.length;q+=2){const fe=L[q];if(fe>0)u.push(z[q/2]);else{const je=L[q+1],qe=i[-fe];for(let Ot=fo;Ot<qe.length;Ot++){const Xt=qe[Ot];Xt[Nc]===Xt[Ds]&&jf(Xt[Ln],Xt,je,u)}if(null!==qe[pc]){const Ot=qe[pc];for(let Xt=0;Xt<Ot.length;Xt++){const Ht=Ot[Xt];jf(Ht[Ln],Ht,je,u)}}}}}return u}function Kg(t,i){return t[Br].queries[i].queryList}function Ib(t,i,s){const u=new b_(!(4&~s));return function m1(t,i,s,u){const E=I1(i);E.push(s),t.firstCreatePass&&O1(t).push(u,E.length-1)}(t,i,u,u.destroy),(i[Br]??=new uh).queries.push(new Ug(u))-1}function Wg(t,i,s,u){const E=Qi();if(E.firstCreatePass){const L=go();xb(E,new Db(i,s,u),L.index),function Rb(t,i){const s=t.contentQueries||(t.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,i)}(E,t),!(2&~s)&&(E.staticContentQueries=!0)}return Ib(E,yn(),s)}function xb(t,i,s){null===t.queries&&(t.queries=new Vg),t.queries.track(new Bf(i,s))}function zg(t,i){return t.queries.getByIndex(i)}function Ab(t,i){const s=t[Ln],u=zg(s,i);return u.crossesNgTemplate?jf(s,t,i,[]):Sb(s,t,u,i)}function Xg(t){return"function"==typeof t&&void 0!==t[g]}function hp(t,i){na("NgSignals");const s=function ie(t){const i=Object.create(we);i.value=t;const s=()=>(R(i),i.value);return s[g]=i,s}(t),u=s[g];return i?.equal&&(u.equal=i.equal),s.set=E=>me(u,E),s.update=E=>function he(t,i){S()||k(),me(t,i(t.value))}(u,E),s.asReadonly=kb.bind(s),s}function kb(){const t=this[g];if(void 0===t.readonlyFn){const i=()=>this();i[g]=t,t.readonlyFn=i}return t.readonlyFn}function Pb(t){return Xg(t)&&"function"==typeof t.set}function Hg(t,i){let s;const u=$(()=>{s._dirtyCounter();const E=function TM(t,i){const s=t._lView,u=t._queryIndex;if(void 0===s||void 0===u||4&s[bi])return i?void 0:Ji;const E=Kg(s,u),L=Ab(s,u);return E.reset(L,ym),i?E.first:E._changesDetected||void 0===t._flatValue?t._flatValue=E.toArray():t._flatValue}(s,t);if(i&&void 0===E)throw new zn(-951,!1);return E});return s=u[g],s._dirtyCounter=hp(0),s._flatValue=void 0,u}function jb(t,i){return function Lb(){return Hg(!0,!1)}()}const Yg=(jb.required=function DM(t,i){return function Fb(){return Hg(!0,!0)}()},jb);function Zg(t){let i=function hh(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const u=[t];for(;i;){let E;if(or(t))E=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new zn(903,!1);E=i.\u0275dir}if(E){if(s){u.push(E);const z=t;z.inputs=pp(t.inputs),z.inputTransforms=pp(t.inputTransforms),z.declaredInputs=pp(t.declaredInputs),z.outputs=pp(t.outputs);const q=E.hostBindings;q&&LM(t,q);const fe=E.viewQuery,je=E.contentQueries;if(fe&&kM(t,fe),je&&PM(t,je),AM(t,E),ts(t.outputs,E.outputs),or(E)&&E.data.animation){const qe=t.data;qe.animation=(qe.animation||[]).concat(E.data.animation)}}const L=E.features;if(L)for(let z=0;z<L.length;z++){const q=L[z];q&&q.ngInherit&&q(t),q===Zg&&(s=!1)}}i=Object.getPrototypeOf(i)}!function wM(t){let i=0,s=null;for(let u=t.length-1;u>=0;u--){const E=t[u];E.hostVars=i+=E.hostVars,E.hostAttrs=Ba(E.hostAttrs,s=Ba(s,E.hostAttrs))}}(u)}function AM(t,i){for(const s in i.inputs){if(!i.inputs.hasOwnProperty(s)||t.inputs.hasOwnProperty(s))continue;const u=i.inputs[s];if(void 0!==u&&(t.inputs[s]=u,t.declaredInputs[s]=i.declaredInputs[s],null!==i.inputTransforms)){const E=Array.isArray(u)?u[0]:u;if(!i.inputTransforms.hasOwnProperty(E))continue;t.inputTransforms??={},t.inputTransforms[E]=i.inputTransforms[E]}}}function pp(t){return t===so?{}:t===Ji?[]:t}function kM(t,i){const s=t.viewQuery;t.viewQuery=s?(u,E)=>{i(u,E),s(u,E)}:i}function PM(t,i){const s=t.contentQueries;t.contentQueries=s?(u,E,L)=>{i(u,E,L),s(u,E,L)}:i}function LM(t,i){const s=t.hostBindings;t.hostBindings=s?(u,E)=>{i(u,E),s(u,E)}:i}function Yb(t){const i=s=>{const u=(Array.isArray(t)?t:t()).map(E=>"function"==typeof E?{directive:Ei(E),inputs:so,outputs:so}:{directive:Ei(E.directive),inputs:Qb(E.inputs),outputs:Qb(E.outputs)});null===s.hostDirectives?(s.findHostDirectiveDefs=ms,s.hostDirectives=u):s.hostDirectives.unshift(...u)};return i.ngInherit=!0,i}function ms(t,i,s){if(null!==t.hostDirectives)for(const u of t.hostDirectives){const E=qn(u.directive);BM(E.declaredInputs,u.inputs),ms(E,i,s),s.set(E,u),i.push(E)}}function Qb(t){if(void 0===t||0===t.length)return so;const i={};for(let s=0;s<t.length;s+=2)i[t[s]]=t[s+1];return i}function BM(t,i){for(const s in i)i.hasOwnProperty(s)&&(t[i[s]]=t[s])}function Uf(t){const i=t.inputConfig,s={};for(const u in i)if(i.hasOwnProperty(u)){const E=i[u];Array.isArray(E)&&E[3]&&(s[u]=E[3])}t.inputTransforms=s}class iu{}class Jb{}function $M(t,i){return new qg(t,i??null,[])}class qg extends iu{constructor(i,s,u){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new bb(this);const E=Bo(i);this._bootstrapComponents=qr(E.bootstrap),this._r3Injector=s0(i,s,[{provide:iu,useValue:this},{provide:Af,useValue:this.componentFactoryResolver},...u],To(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class ev extends Jb{constructor(i){super(),this.moduleType=i}create(i){return new qg(this.moduleType,i,[])}}class Zb extends iu{constructor(i){super(),this.componentFactoryResolver=new bb(this),this.instance=null;const s=new Xs([...i.providers,{provide:iu,useValue:this},{provide:Af,useValue:this.componentFactoryResolver}],i.parent||_a(),i.debugName,new Set(["environment"]));this.injector=s,i.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function mp(t,i,s=null){return new Zb({providers:t,parent:i,debugName:s,runEnvironmentInitializers:!0}).injector}function gp(t){return!!tv(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function tv(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function oc(t,i,s){return t[i]=s}function Vf(t,i){return t[i]}function Bs(t,i,s){return!Object.is(t[i],s)&&(t[i]=s,!0)}function ou(t,i,s,u){const E=Bs(t,i,s);return Bs(t,i+1,u)||E}function vp(t,i,s,u,E){const L=ou(t,i,s,u);return Bs(t,i+2,E)||L}function gl(t,i,s,u,E,L){const z=ou(t,i,s,u);return ou(t,i+2,E,L)||z}function Gf(t,i,s,u,E,L,z,q,fe,je){const qe=s+hi,Ot=i.firstCreatePass?function WM(t,i,s,u,E,L,z,q,fe){const je=i.consts,qe=$d(i,t,4,z||null,q||null);J_(i,s,qe,Y(je,fe)),Nh(i,qe);const Ot=qe.tView=Ns(2,qe,u,E,L,i.directiveRegistry,i.pipeRegistry,null,i.schemas,je,null);return null!==i.queries&&(i.queries.template(i,qe),Ot.queries=i.queries.embeddedTView(qe)),qe}(qe,i,t,u,E,L,z,q,fe):i.data[qe];xl(Ot,!1);const Xt=ey(i,t,Ot,s);Fh()&&Bd(i,t,Xt,Ot),$r(Xt,t);const Ht=D1(Xt,t,Xt,Ot);return t[qe]=Ht,ep(t,Ht),function dh(t,i,s){return dp(t,i,s)}(Ht,Ot,t),Cd(Ot)&&Y_(i,t,Ot),null!=fe&&_f(t,Ot,je),Ot}function ru(t,i,s,u,E,L,z,q){const fe=yn(),je=Qi();return Gf(fe,je,t,i,s,u,E,Y(je.consts,L),z,q),ru}let ey=function ty(t,i,s,u){return wl(!0),i[Ri].createComment("")};function ZM(t,i,s,u){const E=yn();return Bs(E,Ka(),i)&&(Qi(),function ql(t,i,s,u,E,L){const z=sr(t,i);qc(i[Ri],z,L,t.value,s,u,E)}(Ro(),E,t,i,s,u)),ZM}function Dp(t,i,s,u){return Bs(t,Ka(),s)?i+pt(s)+u:Vi}function oy(t,i){return t<<17|i<<2}function ph(t){return t>>17&32767}function qM(t){return 2|t}function zf(t){return(131068&t)>>2}function eT(t,i){return-131069&t|i<<2}function tT(t){return 1|t}function TS(t,i,s,u){const E=t[s+1],L=null===i;let z=u?ph(E):zf(E),q=!1;for(;0!==z&&(!1===q||L);){const je=t[z+1];cx(t[z],i)&&(q=!0,t[z+1]=u?tT(je):qM(je)),z=u?ph(je):zf(je)}q&&(t[s+1]=u?qM(E):tT(E))}function cx(t,i){return null===t||null==i||(Array.isArray(t)?t[1]:t)===i||!(!Array.isArray(t)||"string"!=typeof i)&&zl(t,i)>=0}const Mr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function DS(t){return t.substring(Mr.key,Mr.keyEnd)}function dx(t){return t.substring(Mr.value,Mr.valueEnd)}function SS(t,i){const s=Mr.textEnd;return s===i?-1:(i=Mr.keyEnd=function fx(t,i,s){for(;i<s&&t.charCodeAt(i)>32;)i++;return i}(t,Mr.key=i,s),kp(t,i,s))}function IS(t,i){const s=Mr.textEnd;let u=Mr.key=kp(t,i,s);return s===u?-1:(u=Mr.keyEnd=function _x(t,i,s){let u;for(;i<s&&(45===(u=t.charCodeAt(i))||95===u||(-33&u)>=65&&(-33&u)<=90||u>=48&&u<=57);)i++;return i}(t,u,s),u=xS(t,u,s),u=Mr.value=kp(t,u,s),u=Mr.valueEnd=function px(t,i,s){let u=-1,E=-1,L=-1,z=i,q=z;for(;z<s;){const fe=t.charCodeAt(z++);if(59===fe)return q;34===fe||39===fe?q=z=RS(t,fe,z,s):i===z-4&&85===L&&82===E&&76===u&&40===fe?q=z=RS(t,41,z,s):fe>32&&(q=z),L=E,E=u,u=-33&fe}return q}(t,u,s),xS(t,u,s))}function OS(t){Mr.key=0,Mr.keyEnd=0,Mr.value=0,Mr.valueEnd=0,Mr.textEnd=t.length}function kp(t,i,s){for(;i<s&&t.charCodeAt(i)<=32;)i++;return i}function xS(t,i,s,u){return(i=kp(t,i,s))<s&&i++,i}function RS(t,i,s,u){let E=-1,L=s;for(;L<u;){const z=t.charCodeAt(L++);if(z==i&&92!==E)return L;E=92==z&&92===E?0:z}throw new Error}function nT(t,i,s){const u=yn();return Bs(u,Ka(),i)&&Er(Qi(),Ro(),u,t,i,u[Ri],s,!1),nT}function iT(t,i,s,u,E){const z=E?"class":"style";bf(t,s,i.inputs[z],z,u)}function oT(t,i,s){return Dc(t,i,s,!1),oT}function sT(t,i){return Dc(t,i,null,!0),sT}function Tc(t){Sc(PS,mx,t,!1)}function mx(t,i){for(let s=function hx(t){return OS(t),IS(t,kp(t,0,Mr.textEnd))}(i);s>=0;s=IS(i,s))PS(t,DS(i),dx(i))}function AS(t){Sc(Cx,ad,t,!0)}function ad(t,i){for(let s=function ux(t){return OS(t),SS(t,kp(t,0,Mr.textEnd))}(i);s>=0;s=SS(i,s))Lr(t,DS(i),!0)}function Dc(t,i,s,u){const E=yn(),L=Qi(),z=Rl(2);L.firstUpdatePass&&kS(L,t,z,u),i!==Vi&&Bs(E,z,i)&&LS(L,L.data[Hs()],E,E[Ri],t,E[z+1]=function Tx(t,i){return null==t||""===t||("string"==typeof i?t+=i:"object"==typeof t&&(t=To(yr(t)))),t}(i,s),u,z)}function Sc(t,i,s,u){const E=Qi(),L=Rl(2);E.firstUpdatePass&&kS(E,null,L,u);const z=yn();if(s!==Vi&&Bs(z,L,s)){const q=E.data[Hs()];if(NS(q,u)&&!wS(E,L)){let fe=u?q.classesWithoutHost:q.stylesWithoutHost;null!==fe&&(s=Rr(fe,s||"")),iT(E,q,z,s,u)}else!function Mx(t,i,s,u,E,L,z,q){E===Vi&&(E=Ji);let fe=0,je=0,qe=0<E.length?E[0]:null,Ot=0<L.length?L[0]:null;for(;null!==qe||null!==Ot;){const Xt=fe<E.length?E[fe+1]:void 0,Ht=je<L.length?L[je+1]:void 0;let En,ln=null;qe===Ot?(fe+=2,je+=2,Xt!==Ht&&(ln=Ot,En=Ht)):null===Ot||null!==qe&&qe<Ot?(fe+=2,ln=qe):(je+=2,ln=Ot,En=Ht),null!==ln&&LS(t,i,s,u,ln,En,z,q),qe=fe<E.length?E[fe]:null,Ot=je<L.length?L[je]:null}}(E,q,z,z[Ri],z[L+1],z[L+1]=function Ex(t,i,s){if(null==s||""===s)return Ji;const u=[],E=yr(s);if(Array.isArray(E))for(let L=0;L<E.length;L++)t(u,E[L],!0);else if("object"==typeof E)for(const L in E)E.hasOwnProperty(L)&&t(u,L,E[L]);else"string"==typeof E&&i(u,E);return u}(t,i,s),u,L)}}function wS(t,i){return i>=t.expandoStartIndex}function kS(t,i,s,u){const E=t.data;if(null===E[s+1]){const L=E[Hs()],z=wS(t,s);NS(L,u)&&null===i&&!z&&(i=!1),i=function gx(t,i,s,u){const E=gc(t);let L=u?i.residualClasses:i.residualStyles;if(null===E)0===(u?i.classBindings:i.styleBindings)&&(s=av(s=rT(null,t,i,s,u),i.attrs,u),L=null);else{const z=i.directiveStylingLast;if(-1===z||t[z]!==E)if(s=rT(E,t,i,s,u),null===L){let fe=function vx(t,i,s){const u=s?i.classBindings:i.styleBindings;if(0!==zf(u))return t[ph(u)]}(t,i,u);void 0!==fe&&Array.isArray(fe)&&(fe=rT(null,t,i,fe[1],u),fe=av(fe,i.attrs,u),function bx(t,i,s,u){t[ph(s?i.classBindings:i.styleBindings)]=u}(t,i,u,fe))}else L=function yx(t,i,s){let u;const E=i.directiveEnd;for(let L=1+i.directiveStylingLast;L<E;L++)u=av(u,t[L].hostAttrs,s);return av(u,i.attrs,s)}(t,i,u)}return void 0!==L&&(u?i.residualClasses=L:i.residualStyles=L),s}(E,L,i,u),function ax(t,i,s,u,E,L){let z=L?i.classBindings:i.styleBindings,q=ph(z),fe=zf(z);t[u]=s;let qe,je=!1;if(Array.isArray(s)?(qe=s[1],(null===qe||zl(s,qe)>0)&&(je=!0)):qe=s,E)if(0!==fe){const Xt=ph(t[q+1]);t[u+1]=oy(Xt,q),0!==Xt&&(t[Xt+1]=eT(t[Xt+1],u)),t[q+1]=function sx(t,i){return 131071&t|i<<17}(t[q+1],u)}else t[u+1]=oy(q,0),0!==q&&(t[q+1]=eT(t[q+1],u)),q=u;else t[u+1]=oy(fe,0),0===q?q=u:t[fe+1]=eT(t[fe+1],u),fe=u;je&&(t[u+1]=qM(t[u+1])),TS(t,qe,u,!0),TS(t,qe,u,!1),function lx(t,i,s,u,E){const L=E?t.residualClasses:t.residualStyles;null!=L&&"string"==typeof i&&zl(L,i)>=0&&(s[u+1]=tT(s[u+1]))}(i,qe,t,u,L),z=oy(q,fe),L?i.classBindings=z:i.styleBindings=z}(E,L,i,s,z,u)}}function rT(t,i,s,u,E){let L=null;const z=s.directiveEnd;let q=s.directiveStylingLast;for(-1===q?q=s.directiveStart:q++;q<z&&(L=i[q],u=av(u,L.hostAttrs,E),L!==t);)q++;return null!==t&&(s.directiveStylingLast=q),u}function av(t,i,s){const u=s?1:2;let E=-1;if(null!==i)for(let L=0;L<i.length;L++){const z=i[L];"number"==typeof z?E=z:E===u&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Lr(t,z,!!s||i[++L]))}return void 0===t?null:t}function PS(t,i,s){Lr(t,i,yr(s))}function Cx(t,i,s){const u=String(i);""!==u&&!u.includes(" ")&&Lr(t,u,s)}function LS(t,i,s,u,E,L,z,q){if(!(3&i.type))return;const fe=t.data,je=fe[q+1],qe=function rx(t){return!(1&~t)}(je)?FS(fe,i,s,E,zf(je),z):void 0;sy(qe)||(sy(L)||function ox(t){return!(2&~t)}(je)&&(L=FS(fe,null,s,E,q,z)),function og(t,i,s,u,E){if(i)E?t.addClass(s,u):t.removeClass(s,u);else{let L=-1===u.indexOf("-")?void 0:V_.DashCase;null==E?t.removeStyle(s,u,L):("string"==typeof E&&E.endsWith("!important")&&(E=E.slice(0,-10),L|=V_.Important),t.setStyle(s,u,E,L))}}(u,z,$c(Hs(),s),E,L))}function FS(t,i,s,u,E,L){const z=null===i;let q;for(;E>0;){const fe=t[E],je=Array.isArray(fe),qe=je?fe[1]:fe,Ot=null===qe;let Xt=s[E+1];Xt===Vi&&(Xt=Ot?Ji:void 0);let Ht=Ot?is(Xt,u):qe===u?Xt:void 0;if(je&&!sy(Ht)&&(Ht=is(fe,u)),sy(Ht)&&(q=Ht,z))return q;const ln=t[E+1];E=z?ph(ln):zf(ln)}if(null!==i){let fe=L?i.residualClasses:i.residualStyles;null!=fe&&(q=is(fe,u))}return q}function sy(t){return void 0!==t}function NS(t,i){return!!(t.flags&(i?8:16))}function BS(t,i,s){Sc(Lr,ad,Dp(yn(),t,i,s),!0)}class Px{destroy(i){}updateValue(i,s){}swap(i,s){const u=Math.min(i,s),E=Math.max(i,s),L=this.detach(E);if(E-u>1){const z=this.detach(u);this.attach(u,L),this.attach(E,z)}else this.attach(u,L)}move(i,s){this.attach(s,this.detach(i))}}function aT(t,i,s,u,E){return t===s&&Object.is(i,u)?1:Object.is(E(t,i),E(s,u))?-1:0}function lT(t,i,s,u){return!(void 0===i||!i.has(u)||(t.attach(s,i.get(u)),i.delete(u),0))}function jS(t,i,s,u,E){if(lT(t,i,u,s(u,E)))t.updateValue(u,E);else{const L=t.create(u,E);t.attach(u,L)}}function $S(t,i,s,u){const E=new Set;for(let L=i;L<=s;L++)E.add(u(L,t.at(L)));return E}class US{constructor(){this.kvMap=new Map,this._vMap=void 0}has(i){return this.kvMap.has(i)}delete(i){if(!this.has(i))return!1;const s=this.kvMap.get(i);return void 0!==this._vMap&&this._vMap.has(s)?(this.kvMap.set(i,this._vMap.get(s)),this._vMap.delete(s)):this.kvMap.delete(i),!0}get(i){return this.kvMap.get(i)}set(i,s){if(this.kvMap.has(i)){let u=this.kvMap.get(i);void 0===this._vMap&&(this._vMap=new Map);const E=this._vMap;for(;E.has(u);)u=E.get(u);E.set(u,s)}else this.kvMap.set(i,s)}forEach(i){for(let[s,u]of this.kvMap)if(i(u,s),void 0!==this._vMap){const E=this._vMap;for(;E.has(u);)u=E.get(u),i(u,s)}}}function VS(t,i){na("NgControlFlow");const s=yn(),u=Ka(),E=s[u]!==Vi?s[u]:-1,L=-1!==E?ry(s,hi+E):void 0;if(Bs(s,u,t)){const q=p(null);try{if(void 0!==L&&hg(L,0),-1!==t){const fe=hi+t,je=ry(s,fe),qe=cT(s[Ln],fe),Ot=Zd(je,qe.tView.ssrId);Qu(je,Bl(s,qe,i,{dehydratedView:Ot}),0,Wd(qe,Ot))}}finally{p(q)}}else if(void 0!==L){const q=Kd(L,0);void 0!==q&&(q[yo]=i)}}class Fx{constructor(i,s,u){this.lContainer=i,this.$implicit=s,this.$index=u}get $count(){return this.lContainer.length-fo}}function GS(t){return t}function KS(t,i){return i}class Nx{constructor(i,s,u){this.hasEmptyBlock=i,this.trackByFn=s,this.liveCollection=u}}function WS(t,i,s,u,E,L,z,q,fe,je,qe,Ot,Xt){na("NgControlFlow");const Ht=yn(),ln=Qi(),En=void 0!==fe,Un=yn(),Yn=q?z.bind(Un[yi][yo]):z,Dn=new Nx(En,Yn);Un[hi+t]=Dn,Gf(Ht,ln,t+1,i,s,u,E,Y(ln.consts,L)),En&&Gf(Ht,ln,t+2,fe,je,qe,Ot,Y(ln.consts,Xt))}class Bx extends Px{constructor(i,s,u){super(),this.lContainer=i,this.hostLView=s,this.templateTNode=u,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-fo}at(i){return this.getLView(i)[yo].$implicit}attach(i,s){const u=s[Nr];this.needsIndexUpdate||=i!==this.length,Qu(this.lContainer,s,i,Wd(this.templateTNode,u))}detach(i){return this.needsIndexUpdate||=i!==this.length-1,function jx(t,i){return hf(t,i)}(this.lContainer,i)}create(i,s){const u=Zd(this.lContainer,this.templateTNode.tView.ssrId),E=Bl(this.hostLView,this.templateTNode,new Fx(this.lContainer,s,i),{dehydratedView:u});return this.operationsCounter?.recordCreate(),E}destroy(i){z_(i[Ln],i),this.operationsCounter?.recordDestroy()}updateValue(i,s){this.getLView(i)[yo].$implicit=s}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let i=0;i<this.length;i++)this.getLView(i)[yo].$index=i}getLView(i){return function $x(t,i){return Kd(t,i)}(this.lContainer,i)}}function zS(t){const i=p(null),s=Hs();try{const u=yn(),E=u[Ln],L=u[s],z=s+1,q=ry(u,z);if(void 0===L.liveCollection){const je=cT(E,z);L.liveCollection=new Bx(q,u,je)}else L.liveCollection.reset();const fe=L.liveCollection;if(function Lx(t,i,s){let u,E,L=0,z=t.length-1;if(Array.isArray(i)){let fe=i.length-1;for(;L<=z&&L<=fe;){const je=t.at(L),qe=i[L],Ot=aT(L,je,L,qe,s);if(0!==Ot){Ot<0&&t.updateValue(L,qe),L++;continue}const Xt=t.at(z),Ht=i[fe],ln=aT(z,Xt,fe,Ht,s);if(0!==ln){ln<0&&t.updateValue(z,Ht),z--,fe--;continue}const En=s(L,je),Un=s(z,Xt),Yn=s(L,qe);if(Object.is(Yn,Un)){const Dn=s(fe,Ht);Object.is(Dn,En)?(t.swap(L,z),t.updateValue(z,Ht),fe--,z--):t.move(z,L),t.updateValue(L,qe),L++}else if(u??=new US,E??=$S(t,L,z,s),lT(t,u,L,Yn))t.updateValue(L,qe),L++,z++;else if(E.has(Yn))u.set(En,t.detach(L)),z--;else{const Dn=t.create(L,i[L]);t.attach(L,Dn),L++,z++}}for(;L<=fe;)jS(t,u,s,L,i[L]),L++}else if(null!=i){const fe=i[Symbol.iterator]();let je=fe.next();for(;!je.done&&L<=z;){const qe=t.at(L),Ot=je.value,Xt=aT(L,qe,L,Ot,s);if(0!==Xt)Xt<0&&t.updateValue(L,Ot),L++,je=fe.next();else{u??=new US,E??=$S(t,L,z,s);const Ht=s(L,Ot);if(lT(t,u,L,Ht))t.updateValue(L,Ot),L++,z++,je=fe.next();else if(E.has(Ht)){const ln=s(L,qe);u.set(ln,t.detach(L)),z--}else t.attach(L,t.create(L,Ot)),L++,z++,je=fe.next()}}for(;!je.done;)jS(t,u,s,t.length,je.value),je=fe.next()}for(;L<=z;)t.destroy(t.detach(z--));u?.forEach(fe=>{t.destroy(fe)})}(fe,t,L.trackByFn),fe.updateIndexes(),L.hasEmptyBlock){const je=Ka(),qe=0===fe.length;if(Bs(u,je,qe)){const Ot=s+2,Xt=ry(u,Ot);if(qe){const Ht=cT(E,Ot),ln=Zd(Xt,Ht.tView.ssrId);Qu(Xt,Bl(u,Ht,void 0,{dehydratedView:ln}),0,Wd(Ht,ln))}else hg(Xt,0)}}}finally{p(i)}}function ry(t,i){return t[i]}function cT(t,i){return yu(t,i)}function ay(t,i,s,u){const E=yn(),L=Qi(),z=hi+t,q=E[Ri],fe=L.firstCreatePass?function Ux(t,i,s,u,E,L){const z=i.consts,fe=$d(i,t,2,u,Y(z,E));return J_(i,s,fe,Y(z,L)),null!==fe.attrs&&cp(fe,fe.attrs,!1),null!==fe.mergedAttrs&&cp(fe,fe.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,fe),fe}(z,L,E,i,s,u):L.data[z],je=XS(L,E,fe,q,i,t);E[z]=je;const qe=Cd(fe);return xl(fe,!0),l1(q,je,fe),!function su(t){return!(32&~t.flags)}(fe)&&Fh()&&Bd(L,E,je,fe),0===function jr(){return jn.lFrame.elementDepthCount}()&&$r(je,E),function Ol(){jn.lFrame.elementDepthCount++}(),qe&&(Y_(L,E,fe),rg(L,fe,E)),null!==u&&_f(E,fe),ay}function ly(){let t=go();u_()?nm():(t=t.parent,xl(t,!1));const i=t;(function Fy(t){return jn.skipHydrationRootTNode===t})(i)&&function Av(){jn.skipHydrationRootTNode=null}(),function Vc(){jn.lFrame.elementDepthCount--}();const s=Qi();return s.firstCreatePass&&(Nh(s,t),pu(t)&&s.queries.elementEnd(t)),null!=i.classesWithoutHost&&function zv(t){return!!(8&t.flags)}(i)&&iT(s,i,yn(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function lm(t){return!!(16&t.flags)}(i)&&iT(s,i,yn(),i.stylesWithoutHost,!1),ly}function dT(t,i,s,u){return ay(t,i,s,u),ly(),dT}let XS=(t,i,s,u,E,L)=>(wl(!0),W_(u,E,function Uv(){return jn.lFrame.currentNamespace}()));function cy(t,i,s){const u=yn(),E=Qi(),L=t+hi,z=E.firstCreatePass?function Kx(t,i,s,u,E){const L=i.consts,z=Y(L,u),q=$d(i,t,8,"ng-container",z);return null!==z&&cp(q,z,!0),J_(i,s,q,Y(L,E)),null!==i.queries&&i.queries.elementStart(i,q),q}(L,E,u,i,s):E.data[L];xl(z,!0);const q=HS(E,u,z,t);return u[L]=q,Fh()&&Bd(E,u,q,z),$r(q,u),Cd(z)&&(Y_(E,u,z),rg(E,z,u)),null!=s&&_f(u,z),cy}function dy(){let t=go();const i=Qi();return u_()?nm():(t=t.parent,xl(t,!1)),i.firstCreatePass&&(Nh(i,t),pu(t)&&i.queries.elementEnd(t)),dy}function uT(t,i,s){return cy(t,i,s),dy(),uT}let HS=(t,i,s,u)=>(wl(!0),K_(i[Ri],""));function YS(){return yn()}function hT(t,i,s){const u=yn();return Bs(u,Ka(),i)&&Er(Qi(),Ro(),u,t,i,u[Ri],s,!0),hT}function fT(t,i,s){const u=yn();if(Bs(u,Ka(),i)){const L=Qi(),z=Ro();Er(L,z,u,t,i,Vd(gc(L.data),z,u),s,!0)}return fT}const Xf=void 0;var Hx=["en",[["a","p"],["AM","PM"],Xf],[["AM","PM"],Xf,Xf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xf,"{1} 'at' {0}",Xf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Xx(t){const s=Math.floor(Math.abs(t)),u=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===u?1:5}];let Pp={};function _T(t){const i=function Yx(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=JS(i);if(s)return s;const u=i.split("-")[0];if(s=JS(u),s)return s;if("en"===u)return Hx;throw new zn(701,!1)}function QS(t){return _T(t)[Lp.PluralCase]}function JS(t){return t in Pp||(Pp[t]=Lo.ng&&Lo.ng.common&&Lo.ng.common.locales&&Lo.ng.common.locales[t]),Pp[t]}var Lp=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Lp||{});const Qx=["zero","one","two","few","many"],Fp="en-US",uy={marker:"element"},hy={marker:"ICU"};var vl=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}(vl||{});let ZS=Fp;let lv=0,cv=0;let dv=(t,i,s,u)=>(wl(!0),function eI(t,i,s){const u=t[Ri];switch(s){case Node.COMMENT_NODE:return K_(u,i);case Node.TEXT_NODE:return Qm(u,i);case Node.ELEMENT_NODE:return W_(u,i,null)}}(t,s,u));function tI(t,i,s,u){const E=s[Ri];let z,L=null;for(let q=0;q<i.length;q++){const fe=i[q];if("string"==typeof fe){const je=i[++q];null===s[je]&&(s[je]=dv(s,je,fe,Node.TEXT_NODE))}else if("number"==typeof fe)switch(1&fe){case 0:const je=z1(fe);let qe,Ot;if(null===L&&(L=je,z=eg(E,u)),je===L?(qe=u,Ot=z):(qe=null,Ot=_o(s[je])),null!==Ot){const En=Cg(fe);Nd(E,Ot,s[En],qe,!1);const Yn=ta(t,En);if(null!==Yn&&"object"==typeof Yn){const Dn=op(Yn,s);null!==Dn&&tI(t,Yn.create[Dn],s,s[Yn.anchorIdx])}}break;case 1:const Ht=i[++q],ln=i[++q];qc(E,$c(fe>>>1,s),null,null,Ht,ln,null)}else switch(fe){case hy:const je=i[++q],qe=i[++q];null===s[qe]&&$r(s[qe]=dv(s,qe,je,Node.COMMENT_NODE),s);break;case uy:const Ot=i[++q],Xt=i[++q];null===s[Xt]&&$r(s[Xt]=dv(s,Xt,Ot,Node.ELEMENT_NODE),s)}}}function nI(t,i,s,u,E){for(let L=0;L<s.length;L++){const z=s[L],q=s[++L];if(z&E){let fe="";for(let je=L+1;je<=L+q;je++){const qe=s[je];if("string"==typeof qe)fe+=qe;else if("number"==typeof qe)if(qe<0)fe+=pt(i[u-qe]);else{const Ot=qe>>>2;switch(3&qe){case 1:const Xt=s[++je],Ht=s[++je],ln=t.data[Ot];"string"==typeof ln?qc(i[Ri],i[Ot],null,ln,Xt,fe,Ht):Er(t,ln,i,Xt,fe,i[Ri],Ht,!1);break;case 0:const En=i[Ot];null!==En&&Jm(i[Ri],En,fe);break;case 2:sR(t,ta(t,Ot),i,fe);break;case 3:iI(t,ta(t,Ot),u,i)}}}}else{const fe=s[L+1];if(fe>0&&!(3&~fe)){const qe=ta(t,fe>>>2);i[qe.currentCaseLViewIndex]<0&&iI(t,qe,u,i)}}L+=q}}function iI(t,i,s,u){let E=u[i.currentCaseLViewIndex];if(null!==E){let L=lv;E<0&&(E=u[i.currentCaseLViewIndex]=~E,L=-1),nI(t,u,i.update[E],s,L)}}function sR(t,i,s,u){const E=function rR(t,i){let s=t.cases.indexOf(i);if(-1===s)switch(t.type){case 1:{const u=function Jx(t,i){const s=QS(i)(parseInt(t,10)),u=Qx[s];return void 0!==u?u:"other"}(i,function qx(){return ZS}());s=t.cases.indexOf(u),-1===s&&"other"!==u&&(s=t.cases.indexOf("other"));break}case 0:s=t.cases.indexOf("other")}return-1===s?null:s}(i,u);if(op(i,s)!==E&&(oI(t,i,s),s[i.currentCaseLViewIndex]=null===E?null:~E,null!==E)){const z=s[i.anchorIdx];z&&tI(t,i.create[E],s,z),function WC(t,i,s){tb(t,i,s)}(s,i.anchorIdx,E)}}function oI(t,i,s){let u=op(i,s);if(null!==u){const E=i.remove[u];for(let L=0;L<E.length;L++){const z=E[L];if(z>0){const q=$c(z,s);null!==q&&Wu(s[Ri],q)}else oI(t,ta(t,~z),s)}}}const fy=/\ufffd(\d+):?\d*\ufffd/gi,lR=/\ufffd(\d+)\ufffd/,rI=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,uv="\ufffd",cR=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,dR=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,uR=/\uE500/g;function aI(t,i,s,u,E,L,z){const q=Ud(t,u,1,null);let fe=q<<vl.SHIFT,je=Eu();i===je&&(je=null),null===je&&(fe|=vl.APPEND_EAGERLY),z&&(fe|=vl.COMMENT,function oC(t){void 0===G_&&(G_=t())}(nd)),E.push(fe,null===L?"":L);const qe=sg(t,q,z?32:1,null===L?"":L,null);Eg(s,qe);const Ot=qe.index;return xl(qe,!1),null!==je&&i!==je&&function Cf(t,i){let s=t.insertBeforeIndex;null===s?(n1(bg,yg),s=t.insertBeforeIndex=[null,i]):(ji(Array.isArray(s),!0,"Expecting array here"),s.push(i))}(je,Ot),qe}function _R(t,i,s,u,E,L,z,q){const fe=q.match(fy),qe=aI(i,s,u,z,E,fe?null:q,!1).index;fe&&hv(L,q,qe,null,0,null),t.push({kind:0,index:qe})}function hv(t,i,s,u,E,L){const z=t.length,q=z+1;t.push(null,null);const fe=z+2,je=i.split(fy);let qe=0;for(let Ot=0;Ot<je.length;Ot++){const Xt=je[Ot];if(1&Ot){const Ht=E+parseInt(Xt,10);t.push(-1-Ht),qe|=lI(Ht)}else""!==Xt&&t.push(Xt)}return t.push(s<<2|(u?1:0)),u&&t.push(u,L),t[z]=qe,t[q]=t.length-fe,qe}function lI(t){return 1<<Math.min(t,31)}function cI(t){let i,L,s="",u=0,E=!1;for(;null!==(i=cR.exec(t));)E?i[0]===`${uv}/*${L}${uv}`&&(u=i.index,E=!1):(s+=t.substring(u,i.index+i[0].length),L=i[1],E=!0);return s+=t.slice(u),s}function dI(t,i,s,u,E,L,z){let q=0;const fe={type:L.type,currentCaseLViewIndex:Ud(i,s,1,null),anchorIdx:z,cases:[],create:[],remove:[],update:[]};(function ER(t,i,s){t.push(lI(i.mainBinding),2,-1-i.mainBinding,s<<2|2)})(u,L,z),function ih(t,i,s){const u=t.data[i];null===u?t.data[i]=s:u.value=s}(i,z,fe);const je=L.values,qe=[];for(let Ot=0;Ot<je.length;Ot++){const Xt=je[Ot],Ht=[];for(let En=0;En<Xt.length;En++){const Un=Xt[En];if("string"!=typeof Un){const Yn=Ht.push(Un)-1;Xt[En]=`\x3c!--\ufffd${Yn}\ufffd--\x3e`}}const ln=[];qe.push(ln),q=bR(ln,i,fe,s,u,E,L.cases[Ot],Xt.join(""),Ht)|q}q&&function CR(t,i,s){t.push(i,1,s<<2|3)}(u,q,z),t.push({kind:3,index:z,cases:qe,currentCaseLViewIndex:fe.currentCaseLViewIndex})}function vR(t){const i=[],s=[];let u=1,E=0;const L=pT(t=t.replace(rI,function(z,q,fe){return u="select"===fe?0:1,E=parseInt(q.slice(1),10),""}));for(let z=0;z<L.length;){let q=L[z++].trim();1===u&&(q=q.replace(/\s*(?:=)?(\w+)\s*/,"$1")),q.length&&i.push(q);const fe=pT(L[z++]);i.length>s.length&&s.push(fe)}return{type:u,mainBinding:E,cases:i,values:s}}function pT(t){if(!t)return[];let i=0;const s=[],u=[],E=/[{}]/g;let L;for(E.lastIndex=0;L=E.exec(t);){const q=L.index;if("}"==L[0]){if(s.pop(),0==s.length){const fe=t.substring(i,q);rI.test(fe)?u.push(vR(fe)):u.push(fe),i=q+1}}else{if(0==s.length){const fe=t.substring(i,q);u.push(fe),i=q+1}s.push("{")}}const z=t.substring(i);return u.push(z),u}function bR(t,i,s,u,E,L,z,q,fe){const je=[],qe=[],Ot=[];s.cases.push(z),s.create.push(je),s.remove.push(qe),s.update.push(Ot);const Ht=F0(Hc()).getInertBodyElement(q),ln=Vm(Ht)||Ht;return ln?uI(t,i,s,u,E,je,qe,Ot,ln,L,fe,0):0}function uI(t,i,s,u,E,L,z,q,fe,je,qe,Ot){let Xt=0,Ht=fe.firstChild;for(;Ht;){const ln=Ud(i,u,1,null);switch(Ht.nodeType){case Node.ELEMENT_NODE:const En=Ht,Un=En.tagName.toLowerCase();if(N_.hasOwnProperty(Un)){mT(L,uy,Un,je,ln),i.data[ln]=Un;const Mo=En.attributes;for(let Dr=0;Dr<Mo.length;Dr++){const bl=Mo.item(Dr),jp=bl.name.toLowerCase();bl.value.match(fy)?N0.hasOwnProperty(jp)&&hv(q,bl.value,ln,bl.name,0,Zc[jp]?rf:null):MR(L,ln,bl)}const Wo={kind:1,index:ln,children:[]};t.push(Wo),Xt=uI(Wo.children,i,s,u,E,L,z,q,Ht,ln,qe,Ot+1)|Xt,hI(z,ln,Ot)}break;case Node.TEXT_NODE:const Yn=Ht.textContent||"",Dn=Yn.match(fy);mT(L,null,Dn?"":Yn,je,ln),hI(z,ln,Ot),Dn&&(Xt=hv(q,Yn,ln,null,0,null)|Xt),t.push({kind:0,index:ln});break;case Node.COMMENT_NODE:const wi=lR.exec(Ht.textContent||"");if(wi){const Wo=qe[parseInt(wi[1],10)];mT(L,hy,"",je,ln),dI(t,i,u,E,je,Wo,ln),yR(z,ln,Ot)}}Ht=Ht.nextSibling}return Xt}function hI(t,i,s){0===s&&t.push(i)}function yR(t,i,s){0===s&&(t.push(~i),t.push(i))}function mT(t,i,s,u,E){null!==i&&t.push(i),t.push(s,E,function wC(t,i,s){return t|i<<17|s<<1}(0,u,E))}function MR(t,i,s){t.push(i<<1|1,s.name,s.value)}const fI=0,TR=/\[(\ufffd.+?\ufffd?)\]/,DR=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,SR=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,IR=/{([A-Z0-9_]+)}/g,OR=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,xR=/\/\*/,RR=/\d+\:(\d+)/;function gT(t,i,s=-1){const u=Qi(),E=yn(),L=hi+t,z=Y(u.consts,i),q=Eu();u.firstCreatePass&&function fR(t,i,s,u,E,L){const z=Eu(),q=[],fe=[],je=[[]],qe=[[]];E=function gR(t,i){if(function Mg(t){return-1===t}(i))return cI(t);{const s=t.indexOf(`:${i}${uv}`)+2+i.toString().length,u=t.search(new RegExp(`${uv}\\/\\*\\d+:${i}${uv}`));return cI(t.substring(s,u))}}(E,L);const Ot=function hR(t){return t.replace(uR," ")}(E).split(dR);for(let Xt=0;Xt<Ot.length;Xt++){let Ht=Ot[Xt];if(1&Xt){const ln=47===Ht.charCodeAt(0),En=Ht.charCodeAt(ln?1:0),Un=hi+Number.parseInt(Ht.substring(ln?2:1));if(ln)je.shift(),qe.shift(),xl(Eu(),!1);else{const Yn=W1(t,je[0],Un);je.unshift([]),xl(Yn,!0);const Dn={kind:2,index:Un,children:[],type:35===En?0:1};qe[0].push(Dn),qe.unshift(Dn.children)}}else{const ln=pT(Ht);for(let En=0;En<ln.length;En++){let Un=ln[En];if(1&En){const Yn=Un;if("object"!=typeof Yn)throw new Error(`Unable to parse ICU expression in "${E}" message.`);const wi=aI(t,z,je[0],s,q,"",!0).index;dI(qe[0],t,s,fe,i,Yn,wi)}else""!==Un&&_R(qe[0],t,z,je[0],q,fe,s,Un)}}}t.data[u]={create:q,update:fe,ast:qe[0]}}(u,null===q?0:q.index,E,L,z,s),2===u.type?E[yi][bi]|=32:E[bi]|=32;const fe=u.data[L],qe=e1(u,q===E[ho]?null:q,E),Ot=q&&8&q.type?E[q.index]:null;(function jC(t,i,s,u){Sf(t,i,s,u)})(E,L,q,s),function oR(t,i,s,u){const E=t[Ri];for(let L=0;L<i.length;L++){const z=i[L++],je=(z&vl.APPEND_EAGERLY)===vl.APPEND_EAGERLY,qe=z>>>vl.SHIFT;let Ot=t[qe],Xt=!1;null===Ot&&(Ot=t[qe]=dv(t,qe,i[L],(z&vl.COMMENT)===vl.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),Xt=Fh()),je&&null!==s&&Xt&&Nd(E,s,Ot,u,!1)}}(E,fe.create,qe,Ot),$y(!0)}function vT(){$y(!1)}function _I(t,i,s){gT(t,i,s),vT()}function bT(t){return function eR(t){t&&(lv|=1<<Math.min(cv,31)),cv++}(Bs(yn(),Ka(),t)),bT}function pI(t){!function tR(t,i,s){if(cv>0){const u=t.data[s];nI(t,i,Array.isArray(u)?u:u.update,Gc()-cv-1,lv)}lv=0,cv=0}(Qi(),yn(),t+hi)}function mI(t,i={}){return function AR(t,i={}){let s=t;if(TR.test(t)){const u={},E=[fI];s=s.replace(DR,(L,z,q)=>{const fe=z||q,je=u[fe]||[];if(je.length||(fe.split("|").forEach(En=>{const Un=En.match(RR),Yn=Un?parseInt(Un[1],10):fI,Dn=xR.test(En);je.push([Yn,Dn,En])}),u[fe]=je),!je.length)throw new Error(`i18n postprocess: unmatched placeholder - ${fe}`);const qe=E[E.length-1];let Ot=0;for(let En=0;En<je.length;En++)if(je[En][0]===qe){Ot=En;break}const[Xt,Ht,ln]=je[Ot];return Ht?E.pop():qe!==Xt&&E.push(Xt),je.splice(Ot,1),ln})}return Object.keys(i).length&&(s=s.replace(SR,(u,E,L,z,q,fe)=>i.hasOwnProperty(L)?`${E}${i[L]}${fe}`:u),s=s.replace(IR,(u,E)=>i.hasOwnProperty(E)?i[E]:u),s=s.replace(OR,(u,E)=>{if(i.hasOwnProperty(E)){const L=i[E];if(!L.length)throw new Error(`i18n postprocess: unmatched ICU - ${u} with key: ${E}`);return L.shift()}return u})),s}(t,i)}let gI=(t,i,s)=>{};function yT(t,i,s,u){const E=yn(),L=Qi(),z=go();return CT(L,E,E[Ri],z,t,i,u),yT}function ET(t,i){const s=go(),u=yn(),E=Qi();return CT(E,u,Vd(gc(E.data),s,u),s,t,i),ET}function CT(t,i,s,u,E,L,z){const q=Cd(u),je=t.firstCreatePass&&O1(t),qe=i[yo],Ot=I1(i);let Xt=!0;if(3&u.type||z){const En=sr(u,i),Un=z?z(En):En,Yn=Ot.length,Dn=z?Mo=>z(_o(Mo[u.index])):u.index;let wi=null;if(!z&&q&&(wi=function kR(t,i,s,u){const E=t.cleanup;if(null!=E)for(let L=0;L<E.length-1;L+=2){const z=E[L];if(z===s&&E[L+1]===u){const q=i[Fc],fe=E[L+2];return q.length>fe?q[fe]:null}"string"==typeof z&&(L+=2)}return null}(t,i,E,u.index)),null!==wi)(wi.__ngLastListenerFn__||wi).__ngNextListenerFn__=L,wi.__ngLastListenerFn__=L,Xt=!1;else{L=yI(u,i,qe,L),gI(En,E,L);const Mo=s.listen(Un,E,L);Ot.push(L,Mo),je&&je.push(E,Dn,Yn,Yn+1)}}else L=yI(u,i,qe,L);const Ht=u.outputs;let ln;if(Xt&&null!==Ht&&(ln=Ht[E])){const En=ln.length;if(En)for(let Un=0;Un<En;Un+=2){const Wo=i[ln[Un]][ln[Un+1]].subscribe(L),Dr=Ot.length;Ot.push(L,Wo),je&&je.push(E,u.index,Dr,-(Dr+1))}}}function bI(t,i,s,u){const E=p(null);try{return va(6,i,s),!1!==s(u)}catch(L){return tp(t,L),!1}finally{va(7,i,s),p(E)}}function yI(t,i,s,u){return function E(L){if(L===Function)return u;Xd(t.componentOffset>-1?Zr(t.index,i):i,5);let q=bI(i,s,u,L),fe=E.__ngNextListenerFn__;for(;fe;)q=bI(i,s,fe,L)&&q,fe=fe.__ngNextListenerFn__;return q}}function EI(t=1){return function Uy(t){return(jn.lFrame.contextLView=function ct(t,i){for(;t>0;)i=i[Ua],t--;return i}(t,jn.lFrame.contextLView))[yo]}(t)}function PR(t,i){let s=null;const u=function gd(t){const i=t.attrs;if(null!=i){const s=i.indexOf(5);if(!(1&s))return i[s+1]}return null}(t);for(let E=0;E<i.length;E++){const L=i[E];if("*"!==L){if(null===u?md(t,L,!0):Cl(u,L))return E}else s=E}return s}function CI(t){const i=yn()[yi][ho];if(!i.projection){const u=i.projection=function Jr(t,i){const s=[];for(let u=0;u<t;u++)s.push(i);return s}(t?t.length:1,null),E=u.slice();let L=i.child;for(;null!==L;){if(128!==L.type){const z=t?PR(L,t):0;null!==z&&(E[z]?E[z].projectionNext=L:u[z]=L,E[z]=L)}L=L.next}}}function MI(t,i=0,s,u,E,L){const z=yn(),q=Qi(),fe=u?t+1:null;null!==fe&&Gf(z,q,fe,u,E,L,null,s);const je=$d(q,hi+t,16,null,s||null);null===je.projection&&(je.projection=i),nm();const Ot=!z[Nr]||Sd();null===z[yi][ho].projection[je.projection]&&null!==fe?function LR(t,i,s){const u=hi+s,E=i.data[u],L=t[u],z=Zd(L,E.tView.ssrId);Qu(L,Bl(t,E,void 0,{dehydratedView:z}),0,Wd(E,z))}(z,q,fe):Ot&&32&~je.flags&&function r1(t,i,s){a1(i[Ri],0,i,s,Zm(t,s,i),hC(s.parent||i[ho],s,i))}(q,z,je)}function _y(t,i,s,u,E){const L=yn(),z=Dp(L,i,s,u);return z!==Vi&&Er(Qi(),Ro(),L,t,z,L[Ri],E,!1),_y}function kI(t,i,s,u){Wg(t,i,s,u)}function PI(t,i,s){!function up(t,i,s){const u=Qi();return u.firstCreatePass&&(xb(u,new Db(t,i,s),-1),!(2&~i)&&(u.staticViewQueries=!0)),Ib(u,yn(),i)}(t,i,s)}function LI(t){const i=yn(),s=Qi(),u=Nv();Ql(u+1);const E=zg(s,u);if(t.dirty&&function Ah(t){return!(4&~t[bi])}(i)===!(2&~E.metadata.flags)){if(null===E.matches)t.reset([]);else{const L=Ab(i,u);t.reset(L,ym),t.notifyOnChanges()}return!0}return!1}function FI(){return Kg(yn(),Nv())}function NI(t,i,s,u,E){!function Bb(t,i){const s=t[g];s._lView=yn(),s._queryIndex=i,s._queryList=Kg(s._lView,i),s._queryList.onDirty(()=>s._dirtyCounter.update(u=>u+1))}(i,Wg(t,s,u,E))}function BI(t=1){Ql(Nv()+t)}function jI(t){return Uc(function im(){return jn.lFrame.contextLView}(),hi+t)}function YI(t,i=""){const s=yn(),u=Qi(),E=t+hi,L=u.firstCreatePass?$d(u,E,1,i,null):u.data[E],z=QI(u,s,L,i,t);s[E]=z,Fh()&&Bd(u,s,z,L),xl(L,!1)}let QI=(t,i,s,u,E)=>(wl(!0),Qm(i[Ri],u));function TT(t){return py("",t,""),TT}function py(t,i,s){const u=yn(),E=Dp(u,t,i,s);return E!==Vi&&ec(u,Hs(),E),py}function DT(t,i,s,u,E){const L=yn(),z=function Sp(t,i,s,u,E,L){const q=ou(t,Gc(),s,E);return Rl(2),q?i+pt(s)+u+pt(E)+L:Vi}(L,t,i,s,u,E);return z!==Vi&&ec(L,Hs(),z),DT}function ST(t,i,s,u,E,L,z){const q=yn(),fe=function Ip(t,i,s,u,E,L,z,q){const je=vp(t,Gc(),s,E,z);return Rl(3),je?i+pt(s)+u+pt(E)+L+pt(z)+q:Vi}(q,t,i,s,u,E,L,z);return fe!==Vi&&ec(q,Hs(),fe),ST}function IT(t,i,s,u,E,L,z,q,fe){const je=yn(),qe=function Op(t,i,s,u,E,L,z,q,fe,je){const Ot=gl(t,Gc(),s,E,z,fe);return Rl(4),Ot?i+pt(s)+u+pt(E)+L+pt(z)+q+pt(fe)+je:Vi}(je,t,i,s,u,E,L,z,q,fe);return qe!==Vi&&ec(je,Hs(),qe),IT}function OT(t,i,s){Pb(i)&&(i=i());const u=yn();return Bs(u,Ka(),i)&&Er(Qi(),Ro(),u,t,i,u[Ri],s,!1),OT}function nO(t,i){const s=Pb(t);return s&&t.set(i),s}function xT(t,i){const s=yn(),u=Qi(),E=go();return CT(u,s,s[Ri],E,t,i),xT}function RT(t,i,s,u,E){if(t=Ei(t),Array.isArray(t))for(let L=0;L<t.length;L++)RT(t[L],i,s,u,E);else{const L=Qi(),z=yn(),q=go();let fe=wc(t)?t:Ei(t.provide);const je=Ch(t),qe=1048575&q.providerIndexes,Ot=q.directiveStart,Xt=q.providerIndexes>>20;if(wc(t)||!t.multi){const Ht=new Tu(je,E,zu),ln=wT(fe,i,E?qe:qe+Xt,Ot);-1===ln?(m_(p_(q,z),L,fe),AT(L,t,i.length),i.push(fe),q.directiveStart++,q.directiveEnd++,E&&(q.providerIndexes+=1048576),s.push(Ht),z.push(Ht)):(s[ln]=Ht,z[ln]=Ht)}else{const Ht=wT(fe,i,qe+Xt,Ot),ln=wT(fe,i,qe,qe+Xt),Un=ln>=0&&s[ln];if(E&&!Un||!E&&!(Ht>=0&&s[Ht])){m_(p_(q,z),L,fe);const Yn=function qR(t,i,s,u,E){const L=new Tu(t,s,zu);return L.multi=[],L.index=i,L.componentProviders=0,sO(L,E,u&&!s),L}(E?ZR:JR,s.length,E,u,je);!E&&Un&&(s[ln].providerFactory=Yn),AT(L,t,i.length,0),i.push(fe),q.directiveStart++,q.directiveEnd++,E&&(q.providerIndexes+=1048576),s.push(Yn),z.push(Yn)}else AT(L,t,Ht>-1?Ht:ln,sO(s[E?ln:Ht],je,!E&&u));!E&&u&&Un&&s[ln].componentProviders++}}}function AT(t,i,s,u){const E=wc(i),L=function Ev(t){return!!t.useClass}(i);if(E||L){const fe=(L?Ei(i.useClass):i).prototype.ngOnDestroy;if(fe){const je=t.destroyHooks||(t.destroyHooks=[]);if(!E&&i.multi){const qe=je.indexOf(s);-1===qe?je.push(s,[u,fe]):je[qe+1].push(u,fe)}else je.push(s,fe)}}}function sO(t,i,s){return s&&t.componentProviders++,t.multi.push(i)-1}function wT(t,i,s,u){for(let E=s;E<u;E++)if(i[E]===t)return E;return-1}function JR(t,i,s,u){return kT(this.multi,[])}function ZR(t,i,s,u){const E=this.multi;let L;if(this.providerFactory){const z=this.providerFactory.componentProviders,q=yc(s,s[Ln],this.providerFactory.index,u);L=q.slice(0,z),kT(E,L);for(let fe=z;fe<q.length;fe++)L.push(q[fe])}else L=[],kT(E,L);return L}function kT(t,i){for(let s=0;s<t.length;s++)i.push((0,t[s])());return i}function rO(t,i=[]){return s=>{s.providersResolver=(u,E)=>function QR(t,i,s){const u=Qi();if(u.firstCreatePass){const E=or(t);RT(s,u.data,u.blueprint,E,!0),RT(i,u.data,u.blueprint,E,!1)}}(u,E?E(t):t,i)}}let eA=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const u=qf(0,s.type),E=u.length>0?mp([u],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,E)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=oo({token:t,providedIn:"environment",factory:()=>new t(Ci(gr))})}return t})();function aO(t){na("NgStandalone"),t.getStandaloneInjector=i=>i.get(eA).getOrCreateStandaloneInjector(t)}function lO(t,i,s){const u=t.\u0275cmp;u.directiveDefs=nr(i,!1),u.pipeDefs=nr(s,!0)}function uO(t,i,s){const u=ya()+t,E=yn();return E[u]===Vi?oc(E,u,s?i.call(s):i()):Vf(E,u)}function hO(t,i,s,u){return bO(yn(),ya(),t,i,s,u)}function fO(t,i,s,u,E){return yO(yn(),ya(),t,i,s,u,E)}function _O(t,i,s,u,E,L){return EO(yn(),ya(),t,i,s,u,E,L)}function pO(t,i,s,u,E,L,z){return function CO(t,i,s,u,E,L,z,q,fe){const je=i+s;return gl(t,je,E,L,z,q)?oc(t,je+4,fe?u.call(fe,E,L,z,q):u(E,L,z,q)):fv(t,je+4)}(yn(),ya(),t,i,s,u,E,L,z)}function mO(t,i,s,u,E,L,z,q){const fe=ya()+t,je=yn(),qe=gl(je,fe,s,u,E,L);return Bs(je,fe+4,z)||qe?oc(je,fe+5,q?i.call(q,s,u,E,L,z):i(s,u,E,L,z)):Vf(je,fe+5)}function gO(t,i,s,u,E,L,z,q,fe,je){const qe=ya()+t,Ot=yn();let Xt=gl(Ot,qe,s,u,E,L);return vp(Ot,qe+4,z,q,fe)||Xt?oc(Ot,qe+7,je?i.call(je,s,u,E,L,z,q,fe):i(s,u,E,L,z,q,fe)):Vf(Ot,qe+7)}function vO(t,i,s,u,E,L,z,q,fe,je,qe){const Ot=ya()+t,Xt=yn(),Ht=gl(Xt,Ot,s,u,E,L);return gl(Xt,Ot+4,z,q,fe,je)||Ht?oc(Xt,Ot+8,qe?i.call(qe,s,u,E,L,z,q,fe,je):i(s,u,E,L,z,q,fe,je)):Vf(Xt,Ot+8)}function fv(t,i){const s=t[i];return s===Vi?void 0:s}function bO(t,i,s,u,E,L){const z=i+s;return Bs(t,z,E)?oc(t,z+1,L?u.call(L,E):u(E)):fv(t,z+1)}function yO(t,i,s,u,E,L,z){const q=i+s;return ou(t,q,E,L)?oc(t,q+2,z?u.call(z,E,L):u(E,L)):fv(t,q+2)}function EO(t,i,s,u,E,L,z,q){const fe=i+s;return vp(t,fe,E,L,z)?oc(t,fe+3,q?u.call(q,E,L,z):u(E,L,z)):fv(t,fe+3)}function TO(t,i){const s=Qi();let u;const E=t+hi;s.firstCreatePass?(u=function sA(t,i){if(i)for(let s=i.length-1;s>=0;s--){const u=i[s];if(t===u.name)return u}}(i,s.pipeRegistry),s.data[E]=u,u.onDestroy&&(s.destroyHooks??=[]).push(E,u.onDestroy)):u=s.data[E];const L=u.factory||(u.factory=cl(u.type)),q=Ii(zu);try{const fe=__(!1),je=L();return __(fe),function MT(t,i,s,u){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),i[s]=u}(s,yn(),E,je),je}finally{Ii(q)}}function DO(t,i,s){const u=t+hi,E=yn(),L=Uc(E,u);return _v(E,u)?bO(E,ya(),i,L.transform,s,L):L.transform(s)}function SO(t,i,s,u){const E=t+hi,L=yn(),z=Uc(L,E);return _v(L,E)?yO(L,ya(),i,z.transform,s,u,z):z.transform(s,u)}function IO(t,i,s,u,E){const L=t+hi,z=yn(),q=Uc(z,L);return _v(z,L)?EO(z,ya(),i,q.transform,s,u,E,q):q.transform(s,u,E)}function _v(t,i){return t[Ln].data[i].pure}function OO(t,i){return qu(t,i)}class KO{constructor(i){this.full=i;const s=i.split(".");this.major=s[0],this.minor=s[1],this.patch=s.slice(2).join(".")}}const xA=new KO("18.1.2");let WO=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static#e=this.\u0275fac=function(u){return new(u||t)};static#t=this.\u0275prov=oo({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const QO=new Ti(""),JO=new Ti("");let jT,tw=(()=>{class t{constructor(s,u,E){this._ngZone=s,this.registry=u,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,jT||(function nw(t){jT=t}(E),E.addToWindow(u)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{So.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb()}});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(s)||(clearTimeout(u.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,u,E){let L=-1;u&&u>0&&(L=setTimeout(()=>{this._callbacks=this._callbacks.filter(z=>z.timeoutId!==L),s()},u)),this._callbacks.push({doneCb:s,timeoutId:L,updateCb:E})}whenStable(s,u,E){if(E&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,u,E),this._runCallbacksIfReady()}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,u,E){return[]}static#e=this.\u0275fac=function(u){return new(u||t)(Ci(So),Ci(ZO),Ci(JO))};static#t=this.\u0275prov=oo({token:t,factory:t.\u0275fac})}return t})(),ZO=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,u){this._applications.set(s,u)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,u=!0){return jT?.findTestabilityInTree(this,s,u)??null}static#e=this.\u0275fac=function(u){return new(u||t)};static#t=this.\u0275prov=oo({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function $T(t){return!!t&&"function"==typeof t.then}function qO(t){return!!t&&"function"==typeof t.subscribe}const e2=new Ti("");let UT=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,u)=>{this.resolve=s,this.reject=u}),this.appInits=xn(e2,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const E of this.appInits){const L=E();if($T(L))s.push(L);else if(qO(L)){const z=new Promise((q,fe)=>{L.subscribe({complete:q,error:fe})});s.push(z)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{u()}).catch(E=>{this.reject(E)}),0===s.length&&u(),this.initialized=!0}static#e=this.\u0275fac=function(u){return new(u||t)};static#t=this.\u0275prov=oo({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const yy=new Ti("");function o2(t,i){return Array.isArray(i)?i.reduce(o2,t):{...t,...i}}let Ic=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=xn(a0),this.afterRenderEffectManager=xn(ah),this.zonelessEnabled=xn(Of),this.externalTestViews=new Set,this.beforeRender=new Ge.B7,this.afterTick=new Ge.B7,this.componentTypes=[],this.components=[],this.isStable=xn(xd).hasPendingTasks.pipe((0,$e.T)(s=>!s)),this._injector=xn(gr)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,u){const E=s instanceof xf;if(!this._injector.get(UT).done)throw!E&&ro(s),new zn(405,!1);let z;z=E?s:this._injector.get(Af).resolveComponentFactory(s),this.componentTypes.push(z.componentType);const q=function iw(t){return t.isBoundToModule}(z)?void 0:this._injector.get(iu),je=z.create(rr.NULL,[],u||z.selector,q),qe=je.location.nativeElement,Ot=je.injector.get(QO,null);return Ot?.registerApplication(qe),je.onDestroy(()=>{this.detachView(je.hostView),Ey(this.components,je),Ot?.unregisterApplication(qe)}),this._loadComponent(je),je}tick(){this._tick(!0)}_tick(s){if(this._runningTick)throw new zn(101,!1);const u=p(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(s)}catch(E){this.internalErrorHandler(E)}finally{this._runningTick=!1,p(u),this.afterTick.next()}}detectChangesInAttachedViews(s){let u=null;this._injector.destroyed||(u=this._injector.get(Rg,null,{optional:!0}));let E=0;const L=this.afterRenderEffectManager;for(;E<10;){const z=0===E;if(s||!z){this.beforeRender.next(z);for(let{_lView:q,notifyErrorHandler:fe}of this._views)sw(q,fe,z,this.zonelessEnabled)}else u?.begin?.(),u?.end?.();if(E++,L.executeInternalCallbacks(),!this.allViews.some(({_lView:q})=>Bt(q))&&(L.execute(),!this.allViews.some(({_lView:q})=>Bt(q))))break}}attachView(s){const u=s;this._views.push(u),u.attachToAppRef(this)}detachView(s){const u=s;Ey(this._views,u),u.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const u=this._injector.get(yy,[]);[...this._bootstrapListeners,...u].forEach(E=>E(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Ey(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new zn(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(u){return new(u||t)};static#t=this.\u0275prov=oo({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ey(t,i){const s=t.indexOf(i);s>-1&&t.splice(s,1)}function sw(t,i,s,u){(s||Bt(t))&&td(t,i,s&&!u?0:1)}class rw{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}let aw=(()=>{class t{compileModuleSync(s){return new ev(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const u=this.compileModuleSync(s),L=qr(Bo(s).declarations).reduce((z,q)=>{const fe=pn(q);return fe&&z.push(new Ff(fe)),z},[]);return new rw(u,L)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static#e=this.\u0275fac=function(u){return new(u||t)};static#t=this.\u0275prov=oo({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),dw=(()=>{class t{constructor(){this.zone=xn(So),this.changeDetectionScheduler=xn(rh),this.applicationRef=xn(Ic)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(u){return new(u||t)};static#t=this.\u0275prov=oo({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function VT({ngZoneFactory:t,ignoreChangesOutsideZone:i}){return t??=()=>new So(GT()),[{provide:So,useFactory:t},{provide:Ms,multi:!0,useFactory:()=>{const s=xn(dw,{optional:!0});return()=>s.initialize()}},{provide:Ms,multi:!0,useFactory:()=>{const s=xn(fw);return()=>{s.initialize()}}},{provide:a0,useFactory:hw},!0===i?{provide:rb,useValue:!0}:[]]}function hw(){const t=xn(So),i=xn(kl);return s=>t.runOutsideAngular(()=>i.handleError(s))}function GT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}let fw=(()=>{class t{constructor(){this.subscription=new Qe.y,this.initialized=!1,this.zone=xn(So),this.pendingTasks=xn(xd)}initialize(){if(this.initialized)return;this.initialized=!0;let s=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(s=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{So.assertNotInAngularZone(),queueMicrotask(()=>{null!==s&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(s),s=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{So.assertInAngularZone(),s??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(u){return new(u||t)};static#t=this.\u0275prov=oo({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),gv=(()=>{class t{constructor(){this.appRef=xn(Ic),this.taskService=xn(xd),this.ngZone=xn(So),this.zonelessEnabled=xn(Of),this.disableScheduling=xn(rb,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Qe.y,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof wg||!this.zoneIsDefined)}notify(s){if(!this.zonelessEnabled&&5===s)return;switch(s){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(!this.shouldScheduleTick())return;const u=this.useMicrotaskScheduler?lb:Do;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=u(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=u(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&So.isInAngularZone())}tick(s){if(this.runningTick||this.appRef.destroyed)return;const u=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(s)},void 0,this.schedulerTickApplyArgs)}catch(E){throw this.taskService.remove(u),E}finally{this.cleanup()}this.useMicrotaskScheduler=!0,lb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(u)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const s=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(s)}}static#e=this.\u0275fac=function(u){return new(u||t)};static#t=this.\u0275prov=oo({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const My=new Ti("",{providedIn:"root",factory:()=>xn(My,Bn.Optional|Bn.SkipSelf)||function _w(){return typeof $localize<"u"&&$localize.locale||Fp}()}),pw=new Ti("",{providedIn:"root",factory:()=>"USD"}),WT=new Ti("");let c2=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,u){const E=function aM(t="zone.js",i){return"noop"===t?new wg:"zone.js"===t?new So(i):t}(u?.ngZone,GT({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}));return E.run(()=>{const L=u?.ignoreChangesOutsideZone,z=function UM(t,i,s){return new qg(t,i,s)}(s.moduleType,this.injector,[...VT({ngZoneFactory:()=>E,ignoreChangesOutsideZone:L}),{provide:rh,useExisting:gv}]),q=z.injector.get(kl,null);return E.runOutsideAngular(()=>{const fe=E.onError.subscribe({next:je=>{q.handleError(je)}});z.onDestroy(()=>{Ey(this._modules,z),fe.unsubscribe()})}),function n2(t,i,s){try{const u=s();return $T(u)?u.catch(E=>{throw i.runOutsideAngular(()=>t.handleError(E)),E}):u}catch(u){throw i.runOutsideAngular(()=>t.handleError(u)),u}}(q,E,()=>{const fe=z.injector.get(UT);return fe.runInitializers(),fe.donePromise.then(()=>(function qS(t){"string"==typeof t&&(ZS=t.toLowerCase().replace(/_/g,"-"))}(z.injector.get(My,Fp)||Fp),this._moduleDoBootstrap(z),z))})})}bootstrapModule(s,u=[]){const E=o2({},u);return function cw(t,i,s){const u=new ev(s);return Promise.resolve(u)}(0,0,s).then(L=>this.bootstrapModuleFactory(L,E))}_moduleDoBootstrap(s){const u=s.injector.get(Ic);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(E=>u.bootstrap(E));else{if(!s.instance.ngDoBootstrap)throw new zn(-403,!1);s.instance.ngDoBootstrap(u)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new zn(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const s=this._injector.get(WT,null);s&&(s.forEach(u=>u()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(u){return new(u||t)(Ci(rr))};static#t=this.\u0275prov=oo({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),mh=null;const d2=new Ti("");function u2(t,i,s=[]){const u=`Platform: ${i}`,E=new Ti(u);return(L=[])=>{let z=zT();if(!z||z.injector.get(d2,!1)){const q=[...s,...L,{provide:E,useValue:!0}];t?t(q):function gw(t){if(mh&&!mh.get(d2,!1))throw new zn(400,!1);(function t2(){!function j(t){K=t}(()=>{throw new zn(600,!1)})})(),mh=t;const i=t.get(c2);(function f2(t){t.get(D0,null)?.forEach(s=>s())})(t)}(function h2(t=[],i){return rr.create({name:i,providers:[{provide:e_,useValue:"platform"},{provide:WT,useValue:new Set([()=>mh=null])},...t]})}(q,u))}return function vw(t){const i=zT();if(!i)throw new zn(401,!1);return i}()}}function zT(){return mh?.get(c2)??null}function yw(){}let p2=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Ew}return t})();function Ew(t){return function Cw(t,i,s){if(_l(t)&&!s){const u=Zr(t.index,i);return new Zu(u,u)}return 175&t.type?new Zu(i[yi],i):null}(go(),yn(),!(16&~t))}class b2{constructor(){}supports(i){return gp(i)}create(i){return new Iw(i)}}const Sw=(t,i)=>i;class Iw{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||Sw}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,u=this._removalsHead,E=0,L=null;for(;s||u;){const z=!u||s&&s.currentIndex<E2(u,E,L)?s:u,q=E2(z,E,L),fe=z.currentIndex;if(z===u)E--,u=u._nextRemoved;else if(s=s._next,null==z.previousIndex)E++;else{L||(L=[]);const je=q-E,qe=fe-E;if(je!=qe){for(let Xt=0;Xt<je;Xt++){const Ht=Xt<L.length?L[Xt]:L[Xt]=0,ln=Ht+Xt;qe<=ln&&ln<je&&(L[Xt]=Ht+1)}L[z.previousIndex]=qe-je}}q!==fe&&i(z,q,fe)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!gp(i))throw new zn(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let E,L,z,s=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let q=0;q<this.length;q++)L=i[q],z=this._trackByFn(q,L),null!==s&&Object.is(s.trackById,z)?(u&&(s=this._verifyReinsertion(s,L,z,q)),Object.is(s.item,L)||this._addIdentityChange(s,L)):(s=this._mismatch(s,L,z,q),u=!0),s=s._next}else E=0,function GM(t,i){if(Array.isArray(t))for(let s=0;s<t.length;s++)i(t[s]);else{const s=t[Symbol.iterator]();let u;for(;!(u=s.next()).done;)i(u.value)}}(i,q=>{z=this._trackByFn(E,q),null!==s&&Object.is(s.trackById,z)?(u&&(s=this._verifyReinsertion(s,q,z,E)),Object.is(s.item,q)||this._addIdentityChange(s,q)):(s=this._mismatch(s,q,z,E),u=!0),s=s._next,E++}),this.length=E;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,u,E){let L;return null===i?L=this._itTail:(L=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,L,E)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,E))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,L,E)):i=this._addAfter(new Ow(s,u),L,E),i}_verifyReinsertion(i,s,u,E){let L=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==L?i=this._reinsertAfter(L,i._prev,E):i.currentIndex!=E&&(i.currentIndex=E,this._addToMoves(i,E)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const E=i._prevRemoved,L=i._nextRemoved;return null===E?this._removalsHead=L:E._nextRemoved=L,null===L?this._removalsTail=E:L._prevRemoved=E,this._insertAfter(i,s,u),this._addToMoves(i,u),i}_moveAfter(i,s,u){return this._unlink(i),this._insertAfter(i,s,u),this._addToMoves(i,u),i}_addAfter(i,s,u){return this._insertAfter(i,s,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,u){const E=null===s?this._itHead:s._next;return i._next=E,i._prev=s,null===E?this._itTail=i:E._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new y2),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,u=i._next;return null===s?this._itHead=u:s._next=u,null===u?this._itTail=s:u._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new y2),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class Ow{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xw{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===s||s<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const s=i._prevDup,u=i._nextDup;return null===s?this._head=u:s._nextDup=u,null===u?this._tail=s:u._prevDup=s,null===this._head}}class y2{constructor(){this.map=new Map}put(i){const s=i.trackById;let u=this.map.get(s);u||(u=new xw,this.map.set(s,u)),u.add(i)}get(i,s){const E=this.map.get(i);return E?E.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function E2(t,i,s){const u=t.previousIndex;if(null===u)return u;let E=0;return s&&u<s.length&&(E=s[u]),u+i+E}class C2{constructor(){}supports(i){return i instanceof Map||tv(i)}create(){return new Rw}}class Rw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||tv(i)))throw new zn(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,E)=>{if(s&&s.key===E)this._maybeAddToChanges(s,u),this._appendAfter=s,s=s._next;else{const L=this._getOrCreateRecordForKey(E,u);s=this._insertBeforeOrAppend(s,L)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let u=s;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const u=i._prev;return s._next=i,s._prev=u,i._prev=s,u&&(u._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const E=this._records.get(i);this._maybeAddToChanges(E,s);const L=E._prev,z=E._next;return L&&(L._next=z),z&&(z._prev=L),E._next=null,E._prev=null,E}const u=new Aw(i);return this._records.set(i,u),u.currentValue=s,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(u=>s(i[u],u))}}class Aw{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function M2(){return new JT([new b2])}let JT=(()=>{class t{static#e=this.\u0275prov=oo({token:t,providedIn:"root",factory:M2});constructor(s){this.factories=s}static create(s,u){if(null!=u){const E=u.factories.slice();s=s.concat(E)}return new t(s)}static extend(s){return{provide:t,useFactory:u=>t.create(s,u||M2()),deps:[[t,new Ws,new Ho]]}}find(s){const u=this.factories.find(E=>E.supports(s));if(null!=u)return u;throw new zn(901,!1)}}return t})();function T2(){return new ZT([new C2])}let ZT=(()=>{class t{static#e=this.\u0275prov=oo({token:t,providedIn:"root",factory:T2});constructor(s){this.factories=s}static create(s,u){if(u){const E=u.factories.slice();s=s.concat(E)}return new t(s)}static extend(s){return{provide:t,useFactory:u=>t.create(s,u||T2()),deps:[[t,new Ws,new Ho]]}}find(s){const u=this.factories.find(E=>E.supports(s));if(u)return u;throw new zn(901,!1)}}return t})();const Pw=u2(null,"core",[]);let Lw=(()=>{class t{constructor(s){}static#e=this.\u0275fac=function(u){return new(u||t)(Ci(Ic))};static#t=this.\u0275mod=mt({type:t});static#n=this.\u0275inj=ws({})}return t})();const U2=new Ti("");function mk(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function gk(t,i=NaN){return isNaN(parseFloat(t))||isNaN(Number(t))?i:Number(t)}function bk(t,i){na("NgSignals");const s=$(t);return i?.equal&&(s[g].equal=i.equal),s}function yk(t){const i=p(null);try{return t()}finally{p(i)}}const Ek=new Ti("",{providedIn:"root",factory:()=>xn(Ck)});let Ck=(()=>{class t{static#e=this.\u0275prov=oo({token:t,providedIn:"root",factory:()=>new Mk})}return t})();class Mk{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=xn(xd),this.taskId=null}scheduleEffect(i){if(this.enqueue(i),null===this.taskId){const s=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(s),this.taskId=null})}}enqueue(i){const s=i.creationZone;this.queues.has(s)||this.queues.set(s,new Set);const u=this.queues.get(s);u.has(i)||(this.queuedEffectCount++,u.add(i))}flush(){for(;this.queuedEffectCount>0;)for(const[i,s]of this.queues)null===i?this.flushQueue(s):i.run(()=>this.flushQueue(s))}flushQueue(i){for(const s of i)i.delete(s),this.queuedEffectCount--,s.run()}}class Tk{constructor(i,s,u,E,L,z){this.scheduler=i,this.effectFn=s,this.creationZone=u,this.injector=L,this.watcher=function Xe(t,i,s){const u=Object.create(ge);s&&(u.consumerAllowSignalWrites=!0),u.fn=t,u.schedule=i;const E=fe=>{u.cleanupFn=fe};return u.ref={notify:()=>P(u),run:()=>{if(null===u.fn)return;if(function b(){return l}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(u.dirty=!1,u.hasRun&&!x(u))return;u.hasRun=!0;const fe=M(u);try{u.cleanupFn(),u.cleanupFn=Me,u.fn(E)}finally{w(u,fe)}},cleanup:()=>u.cleanupFn(),destroy:()=>function z(fe){(function L(fe){return null===fe.fn&&null===fe.schedule})(fe)||(I(fe),fe.cleanupFn(),fe.fn=null,fe.schedule=null,fe.cleanupFn=Me)}(u),[g]:u},u.ref}(q=>this.runEffect(q),()=>this.schedule(),z),this.unregisterOnDestroy=E?.onDestroy(()=>this.destroy())}runEffect(i){try{this.effectFn(i)}catch(s){this.injector.get(kl,null,{optional:!0})?.handleError(s)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function J2(t,i){na("NgSignals"),!i?.injector&&ir();const s=i?.injector??xn(rr),u=!0!==i?.manualCleanup?s.get(Gh):null,E=new Tk(s.get(Ek),t,typeof Zone>"u"?null:Zone.current,u,s,i?.allowSignalWrites??!1),L=s.get(p2,null,{optional:!0});return L&&8&L._lView[bi]?(L._lView[fu]??=[]).push(E.watcher.notify):E.watcher.notify(),E}function Dk(t){const i=pn(t);if(!i)return null;const s=new Ff(i);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}},9417:(gt,re,o)=>{"use strict";o.d(re,{$R:()=>gs,BC:()=>xt,JD:()=>vs,MJ:()=>xi,Q0:()=>Sa,X1:()=>nl,YN:()=>ji,YS:()=>es,cV:()=>vi,cb:()=>Pt,cz:()=>w,gE:()=>jt,j4:()=>Ys,k0:()=>_,kq:()=>d,me:()=>S,qT:()=>cr,tU:()=>Kl,vO:()=>Ge,vS:()=>lr,xq:()=>Zs});var e=o(3953),n=o(177),l=o(4787),h=o(696),g=o(5286),p=o(5006);let f=(()=>{class He{constructor(Re,bt){this._renderer=Re,this._elementRef=bt,this.onChange=Yt=>{},this.onTouched=()=>{}}setProperty(Re,bt){this._renderer.setProperty(this._elementRef.nativeElement,Re,bt)}registerOnTouched(Re){this.onTouched=Re}registerOnChange(Re){this.onChange=Re}setDisabledState(Re){this.setProperty("disabled",Re)}static#e=this.\u0275fac=function(bt){return new(bt||He)(e.rXU(e.sFG),e.rXU(e.aKT))};static#t=this.\u0275dir=e.FsC({type:He})}return He})(),b=(()=>{class He extends f{static#e=this.\u0275fac=(()=>{let Re;return function(Yt){return(Re||(Re=e.xGo(He)))(Yt||He)}})();static#t=this.\u0275dir=e.FsC({type:He,features:[e.Vt3]})}return He})();const d=new e.nKC(""),m={provide:d,useExisting:(0,e.Rfq)(()=>S),multi:!0},O=new e.nKC("");let S=(()=>{class He extends f{constructor(Re,bt,Yt){super(Re,bt),this._compositionMode=Yt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function v(){const He=(0,n.QT)()?(0,n.QT)().getUserAgent():"";return/android (\d+)/.test(He.toLowerCase())}())}writeValue(Re){this.setProperty("value",Re??"")}_handleInput(Re){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(Re)}_compositionStart(){this._composing=!0}_compositionEnd(Re){this._composing=!1,this._compositionMode&&this.onChange(Re)}static#e=this.\u0275fac=function(bt){return new(bt||He)(e.rXU(e.sFG),e.rXU(e.aKT),e.rXU(O,8))};static#t=this.\u0275dir=e.FsC({type:He,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(bt,Yt){1&bt&&e.bIt("input",function($i){return Yt._handleInput($i.target.value)})("blur",function(){return Yt.onTouched()})("compositionstart",function(){return Yt._compositionStart()})("compositionend",function($i){return Yt._compositionEnd($i.target.value)})},features:[e.Jv_([m]),e.Vt3]})}return He})();function P(He){return null==He||("string"==typeof He||Array.isArray(He))&&0===He.length}function M(He){return null!=He&&"number"==typeof He.length}const w=new e.nKC(""),x=new e.nKC(""),I=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class _{static min(Ye){return function C(He){return Ye=>{if(P(Ye.value)||P(He))return null;const Re=parseFloat(Ye.value);return!isNaN(Re)&&Re<He?{min:{min:He,actual:Ye.value}}:null}}(Ye)}static max(Ye){return function D(He){return Ye=>{if(P(Ye.value)||P(He))return null;const Re=parseFloat(Ye.value);return!isNaN(Re)&&Re>He?{max:{max:He,actual:Ye.value}}:null}}(Ye)}static required(Ye){return A(Ye)}static requiredTrue(Ye){return B(Ye)}static email(Ye){return function F(He){return P(He.value)||I.test(He.value)?null:{email:!0}}(Ye)}static minLength(Ye){return function $(He){return Ye=>P(Ye.value)||!M(Ye.value)?null:Ye.value.length<He?{minlength:{requiredLength:He,actualLength:Ye.value.length}}:null}(Ye)}static maxLength(Ye){return U(Ye)}static pattern(Ye){return function G(He){if(!He)return J;let Ye,Re;return"string"==typeof He?(Re="","^"!==He.charAt(0)&&(Re+="^"),Re+=He,"$"!==He.charAt(He.length-1)&&(Re+="$"),Ye=new RegExp(Re)):(Re=He.toString(),Ye=He),bt=>{if(P(bt.value))return null;const Yt=bt.value;return Ye.test(Yt)?null:{pattern:{requiredPattern:Re,actualValue:Yt}}}}(Ye)}static nullValidator(Ye){return null}static compose(Ye){return ie(Ye)}static composeAsync(Ye){return oe(Ye)}}function A(He){return P(He.value)?{required:!0}:null}function B(He){return!0===He.value?null:{required:!0}}function U(He){return Ye=>M(Ye.value)&&Ye.value.length>He?{maxlength:{requiredLength:He,actualLength:Ye.value.length}}:null}function J(He){return null}function te(He){return null!=He}function ne(He){return(0,e.jNT)(He)?(0,l.H)(He):He}function K(He){let Ye={};return He.forEach(Re=>{Ye=null!=Re?{...Ye,...Re}:Ye}),0===Object.keys(Ye).length?null:Ye}function k(He,Ye){return Ye.map(Re=>Re(He))}function W(He){return He.map(Ye=>function j(He){return!He.validate}(Ye)?Ye:Re=>Ye.validate(Re))}function ie(He){if(!He)return null;const Ye=He.filter(te);return 0==Ye.length?null:function(Re){return K(k(Re,Ye))}}function ce(He){return null!=He?ie(W(He)):null}function oe(He){if(!He)return null;const Ye=He.filter(te);return 0==Ye.length?null:function(Re){const bt=k(Re,Ye).map(ne);return(0,h.p)(bt).pipe((0,p.T)(K))}}function me(He){return null!=He?oe(W(He)):null}function he(He,Ye){return null===He?[Ye]:Array.isArray(He)?[...He,Ye]:[He,Ye]}function Oe(He){return He._rawValidators}function we(He){return He._rawAsyncValidators}function We(He){return He?Array.isArray(He)?He:[He]:[]}function Xe(He,Ye){return Array.isArray(He)?He.includes(Ye):He===Ye}function Me(He,Ye){const Re=We(Ye);return We(He).forEach(Yt=>{Xe(Re,Yt)||Re.push(Yt)}),Re}function ge(He,Ye){return We(Ye).filter(Re=>!Xe(He,Re))}class pe{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Ye){this._rawValidators=Ye||[],this._composedValidatorFn=ce(this._rawValidators)}_setAsyncValidators(Ye){this._rawAsyncValidators=Ye||[],this._composedAsyncValidatorFn=me(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Ye){this._onDestroyCallbacks.push(Ye)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Ye=>Ye()),this._onDestroyCallbacks=[]}reset(Ye=void 0){this.control&&this.control.reset(Ye)}hasError(Ye,Re){return!!this.control&&this.control.hasError(Ye,Re)}getError(Ye,Re){return this.control?this.control.getError(Ye,Re):null}}class Ee extends pe{get formDirective(){return null}get path(){return null}}class Ge extends pe{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Qe{constructor(Ye){this._cd=Ye}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let xt=(()=>{class He extends Qe{constructor(Re){super(Re)}static#e=this.\u0275fac=function(bt){return new(bt||He)(e.rXU(Ge,2))};static#t=this.\u0275dir=e.FsC({type:He,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(bt,Yt){2&bt&&e.AVh("ng-untouched",Yt.isUntouched)("ng-touched",Yt.isTouched)("ng-pristine",Yt.isPristine)("ng-dirty",Yt.isDirty)("ng-valid",Yt.isValid)("ng-invalid",Yt.isInvalid)("ng-pending",Yt.isPending)},features:[e.Vt3]})}return He})(),Pt=(()=>{class He extends Qe{constructor(Re){super(Re)}static#e=this.\u0275fac=function(bt){return new(bt||He)(e.rXU(Ee,10))};static#t=this.\u0275dir=e.FsC({type:He,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(bt,Yt){2&bt&&e.AVh("ng-untouched",Yt.isUntouched)("ng-touched",Yt.isTouched)("ng-pristine",Yt.isPristine)("ng-dirty",Yt.isDirty)("ng-valid",Yt.isValid)("ng-invalid",Yt.isInvalid)("ng-pending",Yt.isPending)("ng-submitted",Yt.isSubmitted)},features:[e.Vt3]})}return He})();const en="VALID",on="INVALID",_n="PENDING",Sn="DISABLED";class Zn{}class ut extends Zn{constructor(Ye,Re){super(),this.value=Ye,this.source=Re}}class be extends Zn{constructor(Ye,Re){super(),this.pristine=Ye,this.source=Re}}class Fe extends Zn{constructor(Ye,Re){super(),this.touched=Ye,this.source=Re}}class ae extends Zn{constructor(Ye,Re){super(),this.status=Ye,this.source=Re}}class ve extends Zn{constructor(Ye){super(),this.source=Ye}}class ze extends Zn{constructor(Ye){super(),this.source=Ye}}function vt(He){return(Ie(He)?He.validators:He)||null}function Pe(He,Ye){return(Ie(Ye)?Ye.asyncValidators:He)||null}function Ie(He){return null!=He&&!Array.isArray(He)&&"object"==typeof He}class Lt{constructor(Ye,Re){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,e.EWP)(()=>this.statusReactive()),this.statusReactive=(0,e.vPA)(void 0),this._pristine=(0,e.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,e.vPA)(!0),this._touched=(0,e.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,e.vPA)(!1),this._events=new g.B7,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(Ye),this._assignAsyncValidators(Re)}get validator(){return this._composedValidatorFn}set validator(Ye){this._rawValidators=this._composedValidatorFn=Ye}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Ye){this._rawAsyncValidators=this._composedAsyncValidatorFn=Ye}get parent(){return this._parent}get status(){return(0,e.O8t)(this.statusReactive)}set status(Ye){(0,e.O8t)(()=>this.statusReactive.set(Ye))}get valid(){return this.status===en}get invalid(){return this.status===on}get pending(){return this.status==_n}get disabled(){return this.status===Sn}get enabled(){return this.status!==Sn}get pristine(){return(0,e.O8t)(this.pristineReactive)}set pristine(Ye){(0,e.O8t)(()=>this.pristineReactive.set(Ye))}get dirty(){return!this.pristine}get touched(){return(0,e.O8t)(this.touchedReactive)}set touched(Ye){(0,e.O8t)(()=>this.touchedReactive.set(Ye))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Ye){this._assignValidators(Ye)}setAsyncValidators(Ye){this._assignAsyncValidators(Ye)}addValidators(Ye){this.setValidators(Me(Ye,this._rawValidators))}addAsyncValidators(Ye){this.setAsyncValidators(Me(Ye,this._rawAsyncValidators))}removeValidators(Ye){this.setValidators(ge(Ye,this._rawValidators))}removeAsyncValidators(Ye){this.setAsyncValidators(ge(Ye,this._rawAsyncValidators))}hasValidator(Ye){return Xe(this._rawValidators,Ye)}hasAsyncValidator(Ye){return Xe(this._rawAsyncValidators,Ye)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Ye={}){const Re=!1===this.touched;this.touched=!0;const bt=Ye.sourceControl??this;this._parent&&!Ye.onlySelf&&this._parent.markAsTouched({...Ye,sourceControl:bt}),Re&&!1!==Ye.emitEvent&&this._events.next(new Fe(!0,bt))}markAllAsTouched(Ye={}){this.markAsTouched({onlySelf:!0,emitEvent:Ye.emitEvent,sourceControl:this}),this._forEachChild(Re=>Re.markAllAsTouched(Ye))}markAsUntouched(Ye={}){const Re=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const bt=Ye.sourceControl??this;this._forEachChild(Yt=>{Yt.markAsUntouched({onlySelf:!0,emitEvent:Ye.emitEvent,sourceControl:bt})}),this._parent&&!Ye.onlySelf&&this._parent._updateTouched(Ye,bt),Re&&!1!==Ye.emitEvent&&this._events.next(new Fe(!1,bt))}markAsDirty(Ye={}){const Re=!0===this.pristine;this.pristine=!1;const bt=Ye.sourceControl??this;this._parent&&!Ye.onlySelf&&this._parent.markAsDirty({...Ye,sourceControl:bt}),Re&&!1!==Ye.emitEvent&&this._events.next(new be(!1,bt))}markAsPristine(Ye={}){const Re=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const bt=Ye.sourceControl??this;this._forEachChild(Yt=>{Yt.markAsPristine({onlySelf:!0,emitEvent:Ye.emitEvent})}),this._parent&&!Ye.onlySelf&&this._parent._updatePristine(Ye,bt),Re&&!1!==Ye.emitEvent&&this._events.next(new be(!0,bt))}markAsPending(Ye={}){this.status=_n;const Re=Ye.sourceControl??this;!1!==Ye.emitEvent&&(this._events.next(new ae(this.status,Re)),this.statusChanges.emit(this.status)),this._parent&&!Ye.onlySelf&&this._parent.markAsPending({...Ye,sourceControl:Re})}disable(Ye={}){const Re=this._parentMarkedDirty(Ye.onlySelf);this.status=Sn,this.errors=null,this._forEachChild(Yt=>{Yt.disable({...Ye,onlySelf:!0})}),this._updateValue();const bt=Ye.sourceControl??this;!1!==Ye.emitEvent&&(this._events.next(new ut(this.value,bt)),this._events.next(new ae(this.status,bt)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Ye,skipPristineCheck:Re},this),this._onDisabledChange.forEach(Yt=>Yt(!0))}enable(Ye={}){const Re=this._parentMarkedDirty(Ye.onlySelf);this.status=en,this._forEachChild(bt=>{bt.enable({...Ye,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Ye.emitEvent}),this._updateAncestors({...Ye,skipPristineCheck:Re},this),this._onDisabledChange.forEach(bt=>bt(!1))}_updateAncestors(Ye,Re){this._parent&&!Ye.onlySelf&&(this._parent.updateValueAndValidity(Ye),Ye.skipPristineCheck||this._parent._updatePristine({},Re),this._parent._updateTouched({},Re))}setParent(Ye){this._parent=Ye}getRawValue(){return this.value}updateValueAndValidity(Ye={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const bt=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===en||this.status===_n)&&this._runAsyncValidator(bt,Ye.emitEvent)}const Re=Ye.sourceControl??this;!1!==Ye.emitEvent&&(this._events.next(new ut(this.value,Re)),this._events.next(new ae(this.status,Re)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Ye.onlySelf&&this._parent.updateValueAndValidity({...Ye,sourceControl:Re})}_updateTreeValidity(Ye={emitEvent:!0}){this._forEachChild(Re=>Re._updateTreeValidity(Ye)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Ye.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Sn:en}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Ye,Re){if(this.asyncValidator){this.status=_n,this._hasOwnPendingAsyncValidator={emitEvent:!1!==Re};const bt=ne(this.asyncValidator(this));this._asyncValidationSubscription=bt.subscribe(Yt=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(Yt,{emitEvent:Re,shouldHaveEmitted:Ye})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const Ye=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,Ye}return!1}setErrors(Ye,Re={}){this.errors=Ye,this._updateControlsErrors(!1!==Re.emitEvent,this,Re.shouldHaveEmitted)}get(Ye){let Re=Ye;return null==Re||(Array.isArray(Re)||(Re=Re.split(".")),0===Re.length)?null:Re.reduce((bt,Yt)=>bt&&bt._find(Yt),this)}getError(Ye,Re){const bt=Re?this.get(Re):this;return bt&&bt.errors?bt.errors[Ye]:null}hasError(Ye,Re){return!!this.getError(Ye,Re)}get root(){let Ye=this;for(;Ye._parent;)Ye=Ye._parent;return Ye}_updateControlsErrors(Ye,Re,bt){this.status=this._calculateStatus(),Ye&&this.statusChanges.emit(this.status),(Ye||bt)&&this._events.next(new ae(this.status,Re)),this._parent&&this._parent._updateControlsErrors(Ye,Re,bt)}_initObservables(){this.valueChanges=new e.bkB,this.statusChanges=new e.bkB}_calculateStatus(){return this._allControlsDisabled()?Sn:this.errors?on:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_n)?_n:this._anyControlsHaveStatus(on)?on:en}_anyControlsHaveStatus(Ye){return this._anyControls(Re=>Re.status===Ye)}_anyControlsDirty(){return this._anyControls(Ye=>Ye.dirty)}_anyControlsTouched(){return this._anyControls(Ye=>Ye.touched)}_updatePristine(Ye,Re){const bt=!this._anyControlsDirty(),Yt=this.pristine!==bt;this.pristine=bt,this._parent&&!Ye.onlySelf&&this._parent._updatePristine(Ye,Re),Yt&&this._events.next(new be(this.pristine,Re))}_updateTouched(Ye={},Re){this.touched=this._anyControlsTouched(),this._events.next(new Fe(this.touched,Re)),this._parent&&!Ye.onlySelf&&this._parent._updateTouched(Ye,Re)}_registerOnCollectionChange(Ye){this._onCollectionChange=Ye}_setUpdateStrategy(Ye){Ie(Ye)&&null!=Ye.updateOn&&(this._updateOn=Ye.updateOn)}_parentMarkedDirty(Ye){return!Ye&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Ye){return null}_assignValidators(Ye){this._rawValidators=Array.isArray(Ye)?Ye.slice():Ye,this._composedValidatorFn=function Ue(He){return Array.isArray(He)?ce(He):He||null}(this._rawValidators)}_assignAsyncValidators(Ye){this._rawAsyncValidators=Array.isArray(Ye)?Ye.slice():Ye,this._composedAsyncValidatorFn=function Ke(He){return Array.isArray(He)?me(He):He||null}(this._rawAsyncValidators)}}class jt extends Lt{constructor(Ye,Re,bt){super(vt(Re),Pe(bt,Re)),this.controls=Ye,this._initObservables(),this._setUpdateStrategy(Re),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Ye,Re){return this.controls[Ye]?this.controls[Ye]:(this.controls[Ye]=Re,Re.setParent(this),Re._registerOnCollectionChange(this._onCollectionChange),Re)}addControl(Ye,Re,bt={}){this.registerControl(Ye,Re),this.updateValueAndValidity({emitEvent:bt.emitEvent}),this._onCollectionChange()}removeControl(Ye,Re={}){this.controls[Ye]&&this.controls[Ye]._registerOnCollectionChange(()=>{}),delete this.controls[Ye],this.updateValueAndValidity({emitEvent:Re.emitEvent}),this._onCollectionChange()}setControl(Ye,Re,bt={}){this.controls[Ye]&&this.controls[Ye]._registerOnCollectionChange(()=>{}),delete this.controls[Ye],Re&&this.registerControl(Ye,Re),this.updateValueAndValidity({emitEvent:bt.emitEvent}),this._onCollectionChange()}contains(Ye){return this.controls.hasOwnProperty(Ye)&&this.controls[Ye].enabled}setValue(Ye,Re={}){(function nt(He,Ye,Re){He._forEachChild((bt,Yt)=>{if(void 0===Re[Yt])throw new e.wOt(1002,"")})})(this,0,Ye),Object.keys(Ye).forEach(bt=>{(function Ze(He,Ye,Re){const bt=He.controls;if(!(Ye?Object.keys(bt):bt).length)throw new e.wOt(1e3,"");if(!bt[Re])throw new e.wOt(1001,"")})(this,!0,bt),this.controls[bt].setValue(Ye[bt],{onlySelf:!0,emitEvent:Re.emitEvent})}),this.updateValueAndValidity(Re)}patchValue(Ye,Re={}){null!=Ye&&(Object.keys(Ye).forEach(bt=>{const Yt=this.controls[bt];Yt&&Yt.patchValue(Ye[bt],{onlySelf:!0,emitEvent:Re.emitEvent})}),this.updateValueAndValidity(Re))}reset(Ye={},Re={}){this._forEachChild((bt,Yt)=>{bt.reset(Ye?Ye[Yt]:null,{onlySelf:!0,emitEvent:Re.emitEvent})}),this._updatePristine(Re,this),this._updateTouched(Re,this),this.updateValueAndValidity(Re)}getRawValue(){return this._reduceChildren({},(Ye,Re,bt)=>(Ye[bt]=Re.getRawValue(),Ye))}_syncPendingControls(){let Ye=this._reduceChildren(!1,(Re,bt)=>!!bt._syncPendingControls()||Re);return Ye&&this.updateValueAndValidity({onlySelf:!0}),Ye}_forEachChild(Ye){Object.keys(this.controls).forEach(Re=>{const bt=this.controls[Re];bt&&Ye(bt,Re)})}_setUpControls(){this._forEachChild(Ye=>{Ye.setParent(this),Ye._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Ye){for(const[Re,bt]of Object.entries(this.controls))if(this.contains(Re)&&Ye(bt))return!0;return!1}_reduceValue(){return this._reduceChildren({},(Re,bt,Yt)=>((bt.enabled||this.disabled)&&(Re[Yt]=bt.value),Re))}_reduceChildren(Ye,Re){let bt=Ye;return this._forEachChild((Yt,_i)=>{bt=Re(bt,Yt,_i)}),bt}_allControlsDisabled(){for(const Ye of Object.keys(this.controls))if(this.controls[Ye].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Ye){return this.controls.hasOwnProperty(Ye)?this.controls[Ye]:null}}const At=new e.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>tn}),tn="always";function vn(He,Ye){return[...Ye.path,He]}function wn(He,Ye,Re=tn){Jn(He,Ye),Ye.valueAccessor.writeValue(He.value),(He.disabled||"always"===Re)&&Ye.valueAccessor.setDisabledState?.(He.disabled),function kn(He,Ye){Ye.valueAccessor.registerOnChange(Re=>{He._pendingValue=Re,He._pendingChange=!0,He._pendingDirty=!0,"change"===He.updateOn&&to(He,Ye)})}(He,Ye),function Si(He,Ye){const Re=(bt,Yt)=>{Ye.valueAccessor.writeValue(bt),Yt&&Ye.viewToModelUpdate(bt)};He.registerOnChange(Re),Ye._registerOnDestroy(()=>{He._unregisterOnChange(Re)})}(He,Ye),function Xn(He,Ye){Ye.valueAccessor.registerOnTouched(()=>{He._pendingTouched=!0,"blur"===He.updateOn&&He._pendingChange&&to(He,Ye),"submit"!==He.updateOn&&He.markAsTouched()})}(He,Ye),function bn(He,Ye){if(Ye.valueAccessor.setDisabledState){const Re=bt=>{Ye.valueAccessor.setDisabledState(bt)};He.registerOnDisabledChange(Re),Ye._registerOnDestroy(()=>{He._unregisterOnDisabledChange(Re)})}}(He,Ye)}function ti(He,Ye,Re=!0){const bt=()=>{};Ye.valueAccessor&&(Ye.valueAccessor.registerOnChange(bt),Ye.valueAccessor.registerOnTouched(bt)),Cn(He,Ye),He&&(Ye._invokeOnDestroyCallbacks(),He._registerOnCollectionChange(()=>{}))}function Qn(He,Ye){He.forEach(Re=>{Re.registerOnValidatorChange&&Re.registerOnValidatorChange(Ye)})}function Jn(He,Ye){const Re=Oe(He);null!==Ye.validator?He.setValidators(he(Re,Ye.validator)):"function"==typeof Re&&He.setValidators([Re]);const bt=we(He);null!==Ye.asyncValidator?He.setAsyncValidators(he(bt,Ye.asyncValidator)):"function"==typeof bt&&He.setAsyncValidators([bt]);const Yt=()=>He.updateValueAndValidity();Qn(Ye._rawValidators,Yt),Qn(Ye._rawAsyncValidators,Yt)}function Cn(He,Ye){let Re=!1;if(null!==He){if(null!==Ye.validator){const Yt=Oe(He);if(Array.isArray(Yt)&&Yt.length>0){const _i=Yt.filter($i=>$i!==Ye.validator);_i.length!==Yt.length&&(Re=!0,He.setValidators(_i))}}if(null!==Ye.asyncValidator){const Yt=we(He);if(Array.isArray(Yt)&&Yt.length>0){const _i=Yt.filter($i=>$i!==Ye.asyncValidator);_i.length!==Yt.length&&(Re=!0,He.setAsyncValidators(_i))}}}const bt=()=>{};return Qn(Ye._rawValidators,bt),Qn(Ye._rawAsyncValidators,bt),Re}function to(He,Ye){He._pendingDirty&&He.markAsDirty(),He.setValue(He._pendingValue,{emitModelToViewChange:!1}),Ye.viewToModelUpdate(He._pendingValue),He._pendingChange=!1}function Vn(He,Ye){Jn(He,Ye)}function Mt(He,Ye){if(!He.hasOwnProperty("model"))return!1;const Re=He.model;return!!Re.isFirstChange()||!Object.is(Ye,Re.currentValue)}function Ae(He,Ye){He._syncPendingControls(),Ye.forEach(Re=>{const bt=Re.control;"submit"===bt.updateOn&&bt._pendingChange&&(Re.viewToModelUpdate(bt._pendingValue),bt._pendingChange=!1)})}function Ve(He,Ye){if(!Ye)return null;let Re,bt,Yt;return Array.isArray(Ye),Ye.forEach(_i=>{_i.constructor===S?Re=_i:function Z(He){return Object.getPrototypeOf(He.constructor)===b}(_i)?bt=_i:Yt=_i}),Yt||bt||Re||null}const Pn={provide:Ee,useExisting:(0,e.Rfq)(()=>vi)},ui=Promise.resolve();let vi=(()=>{class He extends Ee{get submitted(){return(0,e.O8t)(this.submittedReactive)}constructor(Re,bt,Yt){super(),this.callSetDisabledState=Yt,this._submitted=(0,e.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,e.vPA)(!1),this._directives=new Set,this.ngSubmit=new e.bkB,this.form=new jt({},ce(Re),me(bt))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(Re){ui.then(()=>{const bt=this._findContainer(Re.path);Re.control=bt.registerControl(Re.name,Re.control),wn(Re.control,Re,this.callSetDisabledState),Re.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(Re)})}getControl(Re){return this.form.get(Re.path)}removeControl(Re){ui.then(()=>{const bt=this._findContainer(Re.path);bt&&bt.removeControl(Re.name),this._directives.delete(Re)})}addFormGroup(Re){ui.then(()=>{const bt=this._findContainer(Re.path),Yt=new jt({});Vn(Yt,Re),bt.registerControl(Re.name,Yt),Yt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(Re){ui.then(()=>{const bt=this._findContainer(Re.path);bt&&bt.removeControl(Re.name)})}getFormGroup(Re){return this.form.get(Re.path)}updateModel(Re,bt){ui.then(()=>{this.form.get(Re.path).setValue(bt)})}setValue(Re){this.control.setValue(Re)}onSubmit(Re){return this.submittedReactive.set(!0),Ae(this.form,this._directives),this.ngSubmit.emit(Re),"dialog"===Re?.target?.method}onReset(){this.resetForm()}resetForm(Re=void 0){this.form.reset(Re),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(Re){return Re.pop(),Re.length?this.form.get(Re):this.form}static#e=this.\u0275fac=function(bt){return new(bt||He)(e.rXU(w,10),e.rXU(x,10),e.rXU(At,8))};static#t=this.\u0275dir=e.FsC({type:He,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(bt,Yt){1&bt&&e.bIt("submit",function($i){return Yt.onSubmit($i)})("reset",function(){return Yt.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e.Jv_([Pn]),e.Vt3]})}return He})();function zi(He,Ye){const Re=He.indexOf(Ye);Re>-1&&He.splice(Re,1)}function Bi(He){return"object"==typeof He&&null!==He&&2===Object.keys(He).length&&"value"in He&&"disabled"in He}const xi=class extends Lt{constructor(Ye=null,Re,bt){super(vt(Re),Pe(bt,Re)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Ye),this._setUpdateStrategy(Re),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ie(Re)&&(Re.nonNullable||Re.initialValueIsDefault)&&(this.defaultValue=Bi(Ye)?Ye.value:Ye)}setValue(Ye,Re={}){this.value=this._pendingValue=Ye,this._onChange.length&&!1!==Re.emitModelToViewChange&&this._onChange.forEach(bt=>bt(this.value,!1!==Re.emitViewToModelChange)),this.updateValueAndValidity(Re)}patchValue(Ye,Re={}){this.setValue(Ye,Re)}reset(Ye=this.defaultValue,Re={}){this._applyFormState(Ye),this.markAsPristine(Re),this.markAsUntouched(Re),this.setValue(this.value,Re),this._pendingChange=!1}_updateValue(){}_anyControls(Ye){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Ye){this._onChange.push(Ye)}_unregisterOnChange(Ye){zi(this._onChange,Ye)}registerOnDisabledChange(Ye){this._onDisabledChange.push(Ye)}_unregisterOnDisabledChange(Ye){zi(this._onDisabledChange,Ye)}_forEachChild(Ye){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Ye){Bi(Ye)?(this.value=this._pendingValue=Ye.value,Ye.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Ye}};let zo=(()=>{class He extends Ee{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return vn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=(()=>{let Re;return function(Yt){return(Re||(Re=e.xGo(He)))(Yt||He)}})();static#t=this.\u0275dir=e.FsC({type:He,features:[e.Vt3]})}return He})();const Gr={provide:Ge,useExisting:(0,e.Rfq)(()=>lr)},ar=Promise.resolve();let lr=(()=>{class He extends Ge{constructor(Re,bt,Yt,_i,$i,ao){super(),this._changeDetectorRef=$i,this.callSetDisabledState=ao,this.control=new xi,this._registered=!1,this.name="",this.update=new e.bkB,this._parent=Re,this._setValidators(bt),this._setAsyncValidators(Yt),this.valueAccessor=Ve(0,_i)}ngOnChanges(Re){if(this._checkForErrors(),!this._registered||"name"in Re){if(this._registered&&(this._checkName(),this.formDirective)){const bt=Re.name.previousValue;this.formDirective.removeControl({name:bt,path:this._getPath(bt)})}this._setUpControl()}"isDisabled"in Re&&this._updateDisabled(Re),Mt(Re,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(Re){this.viewModel=Re,this.update.emit(Re)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){wn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(Re){ar.then(()=>{this.control.setValue(Re,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(Re){const bt=Re.isDisabled.currentValue,Yt=0!==bt&&(0,e.L39)(bt);ar.then(()=>{Yt&&!this.control.disabled?this.control.disable():!Yt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(Re){return this._parent?vn(Re,this._parent):[Re]}static#e=this.\u0275fac=function(bt){return new(bt||He)(e.rXU(Ee,9),e.rXU(w,10),e.rXU(x,10),e.rXU(d,10),e.rXU(e.gRc,8),e.rXU(At,8))};static#t=this.\u0275dir=e.FsC({type:He,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[e.Jv_([Gr]),e.Vt3,e.OA$]})}return He})(),cr=(()=>{class He{static#e=this.\u0275fac=function(bt){return new(bt||He)};static#t=this.\u0275dir=e.FsC({type:He,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return He})();const Da={provide:d,useExisting:(0,e.Rfq)(()=>Sa),multi:!0};let Sa=(()=>{class He extends b{writeValue(Re){this.setProperty("value",Re??"")}registerOnChange(Re){this.onChange=bt=>{Re(""==bt?null:parseFloat(bt))}}static#e=this.\u0275fac=(()=>{let Re;return function(Yt){return(Re||(Re=e.xGo(He)))(Yt||He)}})();static#t=this.\u0275dir=e.FsC({type:He,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(bt,Yt){1&bt&&e.bIt("input",function($i){return Yt.onChange($i.target.value)})("blur",function(){return Yt.onTouched()})},features:[e.Jv_([Da]),e.Vt3]})}return He})();const dr=new e.nKC(""),xa={provide:Ee,useExisting:(0,e.Rfq)(()=>Ys)};let Ys=(()=>{class He extends Ee{get submitted(){return(0,e.O8t)(this._submittedReactive)}set submitted(Re){this._submittedReactive.set(Re)}constructor(Re,bt,Yt){super(),this.callSetDisabledState=Yt,this._submitted=(0,e.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,e.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new e.bkB,this._setValidators(Re),this._setAsyncValidators(bt)}ngOnChanges(Re){this._checkFormPresent(),Re.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Cn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(Re){const bt=this.form.get(Re.path);return wn(bt,Re,this.callSetDisabledState),bt.updateValueAndValidity({emitEvent:!1}),this.directives.push(Re),bt}getControl(Re){return this.form.get(Re.path)}removeControl(Re){ti(Re.control||null,Re,!1),function _t(He,Ye){const Re=He.indexOf(Ye);Re>-1&&He.splice(Re,1)}(this.directives,Re)}addFormGroup(Re){this._setUpFormContainer(Re)}removeFormGroup(Re){this._cleanUpFormContainer(Re)}getFormGroup(Re){return this.form.get(Re.path)}addFormArray(Re){this._setUpFormContainer(Re)}removeFormArray(Re){this._cleanUpFormContainer(Re)}getFormArray(Re){return this.form.get(Re.path)}updateModel(Re,bt){this.form.get(Re.path).setValue(bt)}onSubmit(Re){return this._submittedReactive.set(!0),Ae(this.form,this.directives),this.ngSubmit.emit(Re),this.form._events.next(new ve(this.control)),"dialog"===Re?.target?.method}onReset(){this.resetForm()}resetForm(Re=void 0){this.form.reset(Re),this._submittedReactive.set(!1),this.form._events.next(new ze(this.form))}_updateDomValue(){this.directives.forEach(Re=>{const bt=Re.control,Yt=this.form.get(Re.path);bt!==Yt&&(ti(bt||null,Re),(He=>He instanceof xi)(Yt)&&(wn(Yt,Re,this.callSetDisabledState),Re.control=Yt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(Re){const bt=this.form.get(Re.path);Vn(bt,Re),bt.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(Re){if(this.form){const bt=this.form.get(Re.path);bt&&function ni(He,Ye){return Cn(He,Ye)}(bt,Re)&&bt.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Jn(this.form,this),this._oldForm&&Cn(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(bt){return new(bt||He)(e.rXU(w,10),e.rXU(x,10),e.rXU(At,8))};static#t=this.\u0275dir=e.FsC({type:He,selectors:[["","formGroup",""]],hostBindings:function(bt,Yt){1&bt&&e.bIt("submit",function($i){return Yt.onSubmit($i)})("reset",function(){return Yt.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e.Jv_([xa]),e.Vt3,e.OA$]})}return He})();const Po={provide:Ee,useExisting:(0,e.Rfq)(()=>gs)};let gs=(()=>{class He extends zo{constructor(Re,bt,Yt){super(),this.name=null,this._parent=Re,this._setValidators(bt),this._setAsyncValidators(Yt)}_checkParentType(){Ir(this._parent)}static#e=this.\u0275fac=function(bt){return new(bt||He)(e.rXU(Ee,13),e.rXU(w,10),e.rXU(x,10))};static#t=this.\u0275dir=e.FsC({type:He,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[e.Jv_([Po]),e.Vt3]})}return He})();const Us={provide:Ee,useExisting:(0,e.Rfq)(()=>Rs)};let Rs=(()=>{class He extends Ee{constructor(Re,bt,Yt){super(),this.name=null,this._parent=Re,this._setValidators(bt),this._setAsyncValidators(Yt)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return vn(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Ir(this._parent)}static#e=this.\u0275fac=function(bt){return new(bt||He)(e.rXU(Ee,13),e.rXU(w,10),e.rXU(x,10))};static#t=this.\u0275dir=e.FsC({type:He,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[e.Jv_([Us]),e.Vt3]})}return He})();function Ir(He){return!(He instanceof gs||He instanceof Ys||He instanceof Rs)}const as={provide:Ge,useExisting:(0,e.Rfq)(()=>vs)};let vs=(()=>{class He extends Ge{set isDisabled(Re){}static#e=this._ngModelWarningSentOnce=!1;constructor(Re,bt,Yt,_i,$i){super(),this._ngModelWarningConfig=$i,this._added=!1,this.name=null,this.update=new e.bkB,this._ngModelWarningSent=!1,this._parent=Re,this._setValidators(bt),this._setAsyncValidators(Yt),this.valueAccessor=Ve(0,_i)}ngOnChanges(Re){this._added||this._setUpControl(),Mt(Re,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(Re){this.viewModel=Re,this.update.emit(Re)}get path(){return vn(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(bt){return new(bt||He)(e.rXU(Ee,13),e.rXU(w,10),e.rXU(x,10),e.rXU(d,10),e.rXU(dr,8))};static#n=this.\u0275dir=e.FsC({type:He,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[e.Jv_([as]),e.Vt3,e.OA$]})}return He})();let Zo=(()=>{class He{constructor(){this._validator=J}ngOnChanges(Re){if(this.inputName in Re){const bt=this.normalizeInput(Re[this.inputName].currentValue);this._enabled=this.enabled(bt),this._validator=this._enabled?this.createValidator(bt):J,this._onChange&&this._onChange()}}validate(Re){return this._validator(Re)}registerOnValidatorChange(Re){this._onChange=Re}enabled(Re){return null!=Re}static#e=this.\u0275fac=function(bt){return new(bt||He)};static#t=this.\u0275dir=e.FsC({type:He,features:[e.OA$]})}return He})();const As={provide:w,useExisting:(0,e.Rfq)(()=>es),multi:!0},Gs={provide:w,useExisting:(0,e.Rfq)(()=>Zs),multi:!0};let es=(()=>{class He extends Zo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=e.L39,this.createValidator=Re=>A}enabled(Re){return Re}static#e=this.\u0275fac=(()=>{let Re;return function(Yt){return(Re||(Re=e.xGo(He)))(Yt||He)}})();static#t=this.\u0275dir=e.FsC({type:He,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(bt,Yt){2&bt&&e.BMQ("required",Yt._enabled?"":null)},inputs:{required:"required"},features:[e.Jv_([As]),e.Vt3]})}return He})(),Zs=(()=>{class He extends es{constructor(){super(...arguments),this.createValidator=Re=>B}static#e=this.\u0275fac=(()=>{let Re;return function(Yt){return(Re||(Re=e.xGo(He)))(Yt||He)}})();static#t=this.\u0275dir=e.FsC({type:He,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(bt,Yt){2&bt&&e.BMQ("required",Yt._enabled?"":null)},features:[e.Jv_([Gs]),e.Vt3]})}return He})();const Lo={provide:w,useExisting:(0,e.Rfq)(()=>Kl),multi:!0};let Kl=(()=>{class He extends Zo{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=Re=>function zn(He){return"number"==typeof He?He:parseInt(He,10)}(Re),this.createValidator=Re=>U(Re)}static#e=this.\u0275fac=(()=>{let Re;return function(Yt){return(Re||(Re=e.xGo(He)))(Yt||He)}})();static#t=this.\u0275dir=e.FsC({type:He,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(bt,Yt){2&bt&&e.BMQ("maxlength",Yt._enabled?Yt.maxlength:null)},inputs:{maxlength:"maxlength"},features:[e.Jv_([Lo]),e.Vt3]})}return He})(),Xr=(()=>{class He{static#e=this.\u0275fac=function(bt){return new(bt||He)};static#t=this.\u0275mod=e.$C({type:He});static#n=this.\u0275inj=e.G2t({})}return He})(),ji=(()=>{class He{static withConfig(Re){return{ngModule:He,providers:[{provide:At,useValue:Re.callSetDisabledState??tn}]}}static#e=this.\u0275fac=function(bt){return new(bt||He)};static#t=this.\u0275mod=e.$C({type:He});static#n=this.\u0275inj=e.G2t({imports:[Xr]})}return He})(),nl=(()=>{class He{static withConfig(Re){return{ngModule:He,providers:[{provide:dr,useValue:Re.warnOnNgModelWithFormControl??"always"},{provide:At,useValue:Re.callSetDisabledState??tn}]}}static#e=this.\u0275fac=function(bt){return new(bt||He)};static#t=this.\u0275mod=e.$C({type:He});static#n=this.\u0275inj=e.G2t({imports:[Xr]})}return He})()},850:(gt,re,o)=>{"use strict";o.d(re,{$3:()=>ie,Vn:()=>ce,jL:()=>Xe,pN:()=>We});var e=o(3953),n=o(6600),l=o(177),h=o(494),g=o(7987),p=o(8617),f=o(6860),b=o(9969),d=o(4337),y=o(5286),R=o(9418),m=o(4670),v=o(4421),O=o(3586),S=o(5817),P=o(7336),M=o(9327),w=o(6939),x=o(9417),I=o(3719),_=o(3176),C=o(9090),D=o(8728),A=o(5006),B=o(8841),F=o(8002),$=o(9493),U=o(8203);const G=["panel"],J=["*"];function te(Me,ge){if(1&Me){const pe=e.RV6();e.j41(0,"div",1,0),e.bIt("@panelAnimation.done",function(Ge){e.eBV(pe);const Qe=e.XpG();return e.Njj(Qe._animationDone.next(Ge))}),e.SdG(2),e.k0s()}if(2&Me){const pe=ge.id,Ee=e.XpG();e.HbH(Ee._classList),e.AVh("mat-mdc-autocomplete-visible",Ee.showPanel)("mat-mdc-autocomplete-hidden",!Ee.showPanel)("mat-primary","primary"===Ee._color)("mat-accent","accent"===Ee._color)("mat-warn","warn"===Ee._color),e.Y8G("id",Ee.id)("@panelAnimation",Ee.isOpen?"visible":"hidden"),e.BMQ("aria-label",Ee.ariaLabel||null)("aria-labelledby",Ee._getPanelAriaLabelledby(pe))}}const ne=(0,b.hZ)("panelAnimation",[(0,b.wk)("void, hidden",(0,b.iF)({opacity:0,transform:"scaleY(0.8)"})),(0,b.kY)(":enter, hidden => visible",[(0,b.Os)([(0,b.i0)("0.03s linear",(0,b.iF)({opacity:1})),(0,b.i0)("0.12s cubic-bezier(0, 0, 0.2, 1)",(0,b.iF)({transform:"scaleY(1)"}))])]),(0,b.kY)(":leave, visible => hidden",[(0,b.i0)("0.075s linear",(0,b.iF)({opacity:0}))])]);let K=0;class k{constructor(ge,pe){this.source=ge,this.option=pe}}const j=new e.nKC("mat-autocomplete-default-options",{providedIn:"root",factory:function W(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}});let ie=(()=>{class Me{get isOpen(){return this._isOpen&&this.showPanel}_setColor(pe){this._color=pe,this._changeDetectorRef.markForCheck()}set classList(pe){this._classList=pe,this._elementRef.nativeElement.className=""}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(pe){this._hideSingleSelectionIndicator=pe,this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const pe of this.options)pe._changeDetectorRef.markForCheck()}constructor(pe,Ee,Ge,Qe){this._changeDetectorRef=pe,this._elementRef=Ee,this._defaults=Ge,this._activeOptionChanges=d.y.EMPTY,this._animationDone=new e.bkB,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new e.bkB,this.opened=new e.bkB,this.closed=new e.bkB,this.optionActivated=new e.bkB,this.id="mat-autocomplete-"+K++,this.inertGroups=Qe?.SAFARI||!1,this.autoActiveFirstOption=!!Ge.autoActiveFirstOption,this.autoSelectActiveOption=!!Ge.autoSelectActiveOption,this.requireSelection=!!Ge.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new p.Au(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(pe=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[pe]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe(),this._animationDone.complete()}_setScrollTop(pe){this.panel&&(this.panel.nativeElement.scrollTop=pe)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._changeDetectorRef.markForCheck()}_emitSelectEvent(pe){const Ee=new k(this,pe);this.optionSelected.emit(Ee)}_getPanelAriaLabelledby(pe){return this.ariaLabel?null:this.ariaLabelledby?(pe?pe+" ":"")+this.ariaLabelledby:pe}_skipPredicate(){return!1}static#e=this.\u0275fac=function(Ee){return new(Ee||Me)(e.rXU(e.gRc),e.rXU(e.aKT),e.rXU(j),e.rXU(f.OD))};static#t=this.\u0275cmp=e.VBU({type:Me,selectors:[["mat-autocomplete"]],contentQueries:function(Ee,Ge,Qe){if(1&Ee&&(e.wni(Qe,n.wT,5),e.wni(Qe,n.QC,5)),2&Ee){let $e;e.mGM($e=e.lsd())&&(Ge.options=$e),e.mGM($e=e.lsd())&&(Ge.optionGroups=$e)}},viewQuery:function(Ee,Ge){if(1&Ee&&(e.GBs(e.C4Q,7),e.GBs(G,5)),2&Ee){let Qe;e.mGM(Qe=e.lsd())&&(Ge.template=Qe.first),e.mGM(Qe=e.lsd())&&(Ge.panel=Qe.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[2,"autoActiveFirstOption","autoActiveFirstOption",e.L39],autoSelectActiveOption:[2,"autoSelectActiveOption","autoSelectActiveOption",e.L39],requireSelection:[2,"requireSelection","requireSelection",e.L39],panelWidth:"panelWidth",disableRipple:[2,"disableRipple","disableRipple",e.L39],classList:[0,"class","classList"],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",e.L39]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],standalone:!0,features:[e.Jv_([{provide:n.is,useExisting:Me}]),e.GFd,e.aNF],ngContentSelectors:J,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id"]],template:function(Ee,Ge){1&Ee&&(e.NAR(),e.DNE(0,te,3,16,"ng-template"))},styles:["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:static;border-radius:var(--mat-autocomplete-container-shape);box-shadow:var(--mat-autocomplete-container-elevation-shadow);background-color:var(--mat-autocomplete-background-color)}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[ne]},changeDetection:0})}return Me})(),ce=(()=>{class Me{constructor(pe){this.elementRef=pe}static#e=this.\u0275fac=function(Ee){return new(Ee||Me)(e.rXU(e.aKT))};static#t=this.\u0275dir=e.FsC({type:Me,selectors:[["","matAutocompleteOrigin",""]],exportAs:["matAutocompleteOrigin"],standalone:!0})}return Me})();const oe={provide:x.kq,useExisting:(0,e.Rfq)(()=>We),multi:!0},he=new e.nKC("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{const Me=(0,e.WQX)(g.hJ);return()=>Me.scrollStrategies.reposition()}}),we={provide:he,deps:[g.hJ],useFactory:function Oe(Me){return()=>Me.scrollStrategies.reposition()}};let We=(()=>{class Me{constructor(pe,Ee,Ge,Qe,$e,tt,xt,Pt,yt,Le,De){this._element=pe,this._overlay=Ee,this._viewContainerRef=Ge,this._zone=Qe,this._changeDetectorRef=$e,this._dir=xt,this._formField=Pt,this._document=yt,this._viewportRuler=Le,this._defaults=De,this._componentDestroyed=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=d.y.EMPTY,this._breakpointObserver=(0,e.WQX)(M.QP),this._handsetLandscapeSubscription=d.y.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new y.B7,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._initialized=new y.B7,this._injector=(0,e.WQX)(e.zZn),this._aboveClass="mat-mdc-autocomplete-panel-above",this._overlayAttached=!1,this.optionSelections=(0,R.v)(()=>{const V=this.autocomplete?this.autocomplete.options:null;return V?V.changes.pipe((0,_.Z)(V),(0,C.n)(()=>(0,m.h)(...V.map(ue=>ue.onSelectionChange)))):this._initialized.pipe((0,C.n)(()=>this.optionSelections))}),this._handlePanelKeydown=V=>{(V.keyCode===P._f&&!(0,P.rp)(V)||V.keyCode===P.i7&&(0,P.rp)(V,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),V.stopPropagation(),V.preventDefault())},this._trackedModal=null,this._scrollStrategy=tt}ngAfterViewInit(){this._initialized.next(),this._initialized.complete();const pe=this._getWindow();typeof pe<"u"&&this._zone.runOutsideAngular(()=>pe.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(pe){pe.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const pe=this._getWindow();typeof pe<"u"&&pe.removeEventListener("blur",this._windowBlurHandler),this._handsetLandscapeSubscription.unsubscribe(),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._latestOpeningTrigger===this&&(this.autocomplete._isOpen=!1,this.autocomplete._latestOpeningTrigger=null),this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal&&(0,p.Ae)(this._trackedModal,"aria-owns",this.autocomplete.id))}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return(0,m.h)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe((0,D.p)(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe((0,D.p)(()=>this._overlayAttached)):(0,v.of)()).pipe((0,A.T)(pe=>pe instanceof n.MI?pe:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return(0,m.h)((0,O.R)(this._document,"click"),(0,O.R)(this._document,"auxclick"),(0,O.R)(this._document,"touchend")).pipe((0,D.p)(pe=>{const Ee=(0,f.Fb)(pe),Ge=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,Qe=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&Ee!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!Ge||!Ge.contains(Ee))&&(!Qe||!Qe.contains(Ee))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(Ee)}))}writeValue(pe){Promise.resolve(null).then(()=>this._assignOptionValue(pe))}registerOnChange(pe){this._onChange=pe}registerOnTouched(pe){this._onTouched=pe}setDisabledState(pe){this._element.nativeElement.disabled=pe}_handleKeydown(pe){const Ee=pe.keyCode,Ge=(0,P.rp)(pe);if(Ee===P._f&&!Ge&&pe.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&Ee===P.Fm&&this.panelOpen&&!Ge)this.activeOption._selectViaInteraction(),this._resetActiveItem(),pe.preventDefault();else if(this.autocomplete){const Qe=this.autocomplete._keyManager.activeItem,$e=Ee===P.i7||Ee===P.n6;Ee===P.wn||$e&&!Ge&&this.panelOpen?this.autocomplete._keyManager.onKeydown(pe):$e&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),($e||this.autocomplete._keyManager.activeItem!==Qe)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(pe){let Ee=pe.target,Ge=Ee.value;if("number"===Ee.type&&(Ge=""==Ge?null:parseFloat(Ge)),this._previousValue!==Ge){if(this._previousValue=Ge,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(Ge),Ge){if(this.panelOpen&&!this.autocomplete.requireSelection){const Qe=this.autocomplete.options?.find($e=>$e.selected);Qe&&Ge!==this._getDisplayValue(Qe.value)&&Qe.deselect(!1)}}else this._clearPreviousSelectedOption(null,!1);if(this._canOpen()&&this._document.activeElement===pe.target){const Qe=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(Qe)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_floatLabel(pe=!1){this._formField&&"auto"===this._formField.floatLabel&&(pe?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const pe=new S.c(Ge=>{(0,e.mal)(()=>{Ge.next()},{injector:this._injector})}),Ee=this.autocomplete.options.changes.pipe((0,B.M)(()=>this._positionStrategy.reapplyLastPosition()),(0,F.c)(0));return(0,m.h)(pe,Ee).pipe((0,C.n)(()=>this._zone.run(()=>{const Ge=this.panelOpen;return this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),Ge!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit()),this.panelClosingActions})),(0,$.s)(1)).subscribe(Ge=>this._setValueAndClose(Ge))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(pe){const Ee=this.autocomplete;return Ee&&Ee.displayWith?Ee.displayWith(pe):pe}_assignOptionValue(pe){const Ee=this._getDisplayValue(pe);null==pe&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(Ee??"")}_updateNativeInputValue(pe){this._formField?this._formField._control.value=pe:this._element.nativeElement.value=pe,this._previousValue=pe}_setValueAndClose(pe){const Ee=this.autocomplete,Ge=pe?pe.source:this._pendingAutoselectedOption;Ge?(this._clearPreviousSelectedOption(Ge),this._assignOptionValue(Ge.value),this._onChange(Ge.value),Ee._emitSelectEvent(Ge),this._element.nativeElement.focus()):Ee.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),Ee._animationDone?Ee._animationDone.pipe((0,$.s)(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(pe,Ee){this.autocomplete?.options?.forEach(Ge=>{Ge!==pe&&Ge.selected&&Ge.deselect(Ee)})}_openPanelInternal(pe=this._element.nativeElement.value){this._attachOverlay(pe),this._floatLabel(),this._trackedModal&&(0,p.px)(this._trackedModal,"aria-owns",this.autocomplete.id)}_attachOverlay(pe){let Ee=this._overlayRef;Ee?(this._positionStrategy.setOrigin(this._getConnectedElement()),Ee.updateSize({width:this._getPanelWidth()})):(this._portal=new w.VA(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),Ee=this._overlay.create(this._getOverlayConfig()),this._overlayRef=Ee,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&Ee&&Ee.updateSize({width:this._getPanelWidth()})}),this._handsetLandscapeSubscription=this._breakpointObserver.observe(M.Rp.HandsetLandscape).subscribe(Qe=>{Qe.matches?this._positionStrategy.withFlexibleDimensions(!0).withGrowAfterOpen(!0).withViewportMargin(8):this._positionStrategy.withFlexibleDimensions(!1).withGrowAfterOpen(!1).withViewportMargin(0)})),Ee&&!Ee.hasAttached()&&(Ee.attach(this._portal),this._valueOnAttach=pe,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());const Ge=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._latestOpeningTrigger=this,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&Ge!==this.panelOpen&&this._emitOpened()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){const pe=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=pe.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=pe.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new g.rR({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const pe=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(pe),this._positionStrategy=pe,pe}_setStrategyPositions(pe){const Ee=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Ge=this._aboveClass,Qe=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:Ge},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:Ge}];let $e;$e="above"===this.position?Qe:"below"===this.position?Ee:[...Ee,...Qe],pe.withPositions($e)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const pe=this.autocomplete;if(pe.autoActiveFirstOption){let Ee=-1;for(let Ge=0;Ge<pe.options.length;Ge++)if(!pe.options.get(Ge).disabled){Ee=Ge;break}pe._keyManager.setActiveItem(Ee)}else pe._keyManager.setActiveItem(-1)}_canOpen(){const pe=this._element.nativeElement;return!pe.readOnly&&!pe.disabled&&!this.autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(pe){const Ee=this.autocomplete,Ge=(0,n.jb)(pe,Ee.options,Ee.optionGroups);if(0===pe&&1===Ge)Ee._setScrollTop(0);else if(Ee.panel){const Qe=Ee.options.toArray()[pe];if(Qe){const $e=Qe._getHostElement(),tt=(0,n.TL)($e.offsetTop,$e.offsetHeight,Ee._getScrollTop(),Ee.panel.nativeElement.offsetHeight);Ee._setScrollTop(tt)}}}_applyModalPanelOwnership(){const pe=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!pe)return;const Ee=this.autocomplete.id;this._trackedModal&&(0,p.Ae)(this._trackedModal,"aria-owns",Ee),(0,p.px)(pe,"aria-owns",Ee),this._trackedModal=pe}_clearFromModal(){this._trackedModal&&((0,p.Ae)(this._trackedModal,"aria-owns",this.autocomplete.id),this._trackedModal=null)}static#e=this.\u0275fac=function(Ee){return new(Ee||Me)(e.rXU(e.aKT),e.rXU(g.hJ),e.rXU(e.c1b),e.rXU(e.SKi),e.rXU(e.gRc),e.rXU(he),e.rXU(U.dS,8),e.rXU(I.xb,9),e.rXU(l.qQ,8),e.rXU(h.Xj),e.rXU(j,8))};static#t=this.\u0275dir=e.FsC({type:Me,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(Ee,Ge){1&Ee&&e.bIt("focusin",function(){return Ge._handleFocus()})("blur",function(){return Ge._onTouched()})("input",function($e){return Ge._handleInput($e)})("keydown",function($e){return Ge._handleKeydown($e)})("click",function(){return Ge._handleClick()}),2&Ee&&e.BMQ("autocomplete",Ge.autocompleteAttribute)("role",Ge.autocompleteDisabled?null:"combobox")("aria-autocomplete",Ge.autocompleteDisabled?null:"list")("aria-activedescendant",Ge.panelOpen&&Ge.activeOption?Ge.activeOption.id:null)("aria-expanded",Ge.autocompleteDisabled?null:Ge.panelOpen.toString())("aria-controls",Ge.autocompleteDisabled||!Ge.panelOpen||null==Ge.autocomplete?null:Ge.autocomplete.id)("aria-haspopup",Ge.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[0,"matAutocomplete","autocomplete"],position:[0,"matAutocompletePosition","position"],connectedTo:[0,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[0,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[2,"matAutocompleteDisabled","autocompleteDisabled",e.L39]},exportAs:["matAutocompleteTrigger"],standalone:!0,features:[e.Jv_([oe]),e.GFd,e.OA$]})}return Me})(),Xe=(()=>{class Me{static#e=this.\u0275fac=function(Ee){return new(Ee||Me)};static#t=this.\u0275mod=e.$C({type:Me});static#n=this.\u0275inj=e.G2t({providers:[we],imports:[g.z_,n.Sy,n.yE,l.MD,h.Gj,n.Sy,n.yE]})}return Me})()},6665:(gt,re,o)=>{"use strict";o.d(re,{VK:()=>C,eN:()=>I,vF:()=>D});var e=o(2529),n=o(6939),l=o(3953),h=o(6600),g=o(8617),p=o(9327),f=o(7987),b=o(177),d=o(9969),y=o(7336),R=o(5286),m=o(4670),v=o(8728),O=o(9493);function S(A,B){}const P={bottomSheetState:(0,d.hZ)("state",[(0,d.wk)("void, hidden",(0,d.iF)({transform:"translateY(100%)"})),(0,d.wk)("visible",(0,d.iF)({transform:"translateY(0%)"})),(0,d.kY)("visible => void, visible => hidden",(0,d.Os)([(0,d.i0)(`${h.ed.COMPLEX} ${h.r5.ACCELERATION_CURVE}`),(0,d.P)("@*",(0,d.MA)(),{optional:!0})])),(0,d.kY)("void => visible",(0,d.Os)([(0,d.i0)(`${h.ed.EXITING} ${h.r5.DECELERATION_CURVE}`),(0,d.P)("@*",(0,d.MA)(),{optional:!0})]))])};let M=(()=>{class A extends e.sU{constructor(F,$,U,G,J,te,ne,K,k){super(F,$,U,G,J,te,ne,k),this._animationState="void",this._animationStateChanged=new l.bkB,this._breakpointSubscription=K.observe([p.Rp.Medium,p.Rp.Large,p.Rp.XLarge]).subscribe(()=>{const j=this._elementRef.nativeElement.classList;j.toggle("mat-bottom-sheet-container-medium",K.isMatched(p.Rp.Medium)),j.toggle("mat-bottom-sheet-container-large",K.isMatched(p.Rp.Large)),j.toggle("mat-bottom-sheet-container-xlarge",K.isMatched(p.Rp.XLarge))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(F){"visible"===F.toState&&this._trapFocus(),this._animationStateChanged.emit(F)}_onAnimationStart(F){this._animationStateChanged.emit(F)}_captureInitialFocus(){}static#e=this.\u0275fac=function($){return new($||A)(l.rXU(l.aKT),l.rXU(g.GX),l.rXU(b.qQ,8),l.rXU(e.Pe),l.rXU(g.Z7),l.rXU(l.SKi),l.rXU(f.yY),l.rXU(p.QP),l.rXU(g.FN))};static#t=this.\u0275cmp=l.VBU({type:A,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function($,U){1&$&&l.Kam("@state.start",function(J){return U._onAnimationStart(J)})("@state.done",function(J){return U._onAnimationDone(J)}),2&$&&(l.zvX("@state",U._animationState),l.BMQ("role",U._config.role)("aria-modal",U._config.ariaModal)("aria-label",U._config.ariaLabel))},standalone:!0,features:[l.Vt3,l.aNF],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function($,U){1&$&&l.DNE(0,S,0,0,"ng-template",0)},dependencies:[n.I3],styles:[".mat-bottom-sheet-container{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto;background:var(--mat-bottom-sheet-container-background-color);color:var(--mat-bottom-sheet-container-text-color);font-family:var(--mat-bottom-sheet-container-text-font);font-size:var(--mat-bottom-sheet-container-text-size);line-height:var(--mat-bottom-sheet-container-text-line-height);font-weight:var(--mat-bottom-sheet-container-text-weight);letter-spacing:var(--mat-bottom-sheet-container-text-tracking)}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:var(--mat-bottom-sheet-container-shape);border-top-right-radius:var(--mat-bottom-sheet-container-shape)}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[P.bottomSheetState]}})}return A})();const w=new l.nKC("MatBottomSheetData");class x{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}class I{get instance(){return this._ref.componentInstance}get componentRef(){return this._ref.componentRef}constructor(B,F,$){this._ref=B,this._afterOpened=new R.B7,this.containerInstance=$,this.disableClose=F.disableClose,$._animationStateChanged.pipe((0,v.p)(U=>"done"===U.phaseName&&"visible"===U.toState),(0,O.s)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),$._animationStateChanged.pipe((0,v.p)(U=>"done"===U.phaseName&&"hidden"===U.toState),(0,O.s)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),B.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),(0,m.h)(this.backdropClick(),this.keydownEvents().pipe((0,v.p)(U=>U.keyCode===y._f))).subscribe(U=>{!this.disableClose&&("keydown"!==U.type||!(0,y.rp)(U))&&(U.preventDefault(),this.dismiss())})}dismiss(B){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe((0,v.p)(F=>"start"===F.phaseName),(0,O.s)(1)).subscribe(F=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},F.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=B,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}}const _=new l.nKC("mat-bottom-sheet-default-options");let C=(()=>{class A{get _openedBottomSheetRef(){const F=this._parentBottomSheet;return F?F._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(F){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=F:this._bottomSheetRefAtThisLevel=F}constructor(F,$,U,G){this._overlay=F,this._parentBottomSheet=U,this._defaultOptions=G,this._bottomSheetRefAtThisLevel=null,this._dialog=$.get(e.lG)}open(F,$){const U={...this._defaultOptions||new x,...$};let G;return this._dialog.open(F,{...U,disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:M,scrollStrategy:U.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:G}),providers:(J,te,ne)=>(G=new I(J,U,ne),[{provide:I,useValue:G},{provide:w,useValue:U.data}])}),G.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===G&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>G.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):G.containerInstance.enter(),this._openedBottomSheetRef=G,G}dismiss(F){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(F)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}static#e=this.\u0275fac=function($){return new($||A)(l.KVO(f.hJ),l.KVO(l.zZn),l.KVO(A,12),l.KVO(_,8))};static#t=this.\u0275prov=l.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})(),D=(()=>{class A{static#e=this.\u0275fac=function($){return new($||A)};static#t=this.\u0275mod=l.$C({type:A});static#n=this.\u0275inj=l.G2t({providers:[C],imports:[e.Ph,h.yE,n.jc,h.yE]})}return A})()},5571:(gt,re,o)=>{"use strict";o.d(re,{Vg:()=>I,ec:()=>w,pc:()=>x});var e=o(8617),n=o(5024),l=o(7336),h=o(3953),g=o(8203),p=o(9417),f=o(6600);const b=["button"],d=["*"];function y(_,C){if(1&_&&h.nrm(0,"mat-pseudo-checkbox",3),2&_){const D=h.XpG();h.Y8G("disabled",D.disabled)}}function R(_,C){if(1&_&&h.nrm(0,"mat-pseudo-checkbox",3),2&_){const D=h.XpG();h.Y8G("disabled",D.disabled)}}const m=new h.nKC("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:function v(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1}}}),O=new h.nKC("MatButtonToggleGroup"),S={provide:p.kq,useExisting:(0,h.Rfq)(()=>w),multi:!0};let P=0;class M{constructor(C,D){this.source=C,this.value=D}}let w=(()=>{class _{get name(){return this._name}set name(D){this._name=D,this._markButtonsForCheck()}get value(){const D=this._selectionModel?this._selectionModel.selected:[];return this.multiple?D.map(A=>A.value):D[0]?D[0].value:void 0}set value(D){this._setSelectionByValue(D),this.valueChange.emit(this.value)}get selected(){const D=this._selectionModel?this._selectionModel.selected:[];return this.multiple?D:D[0]||null}get multiple(){return this._multiple}set multiple(D){this._multiple=D,this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(D){this._disabled=D,this._markButtonsForCheck()}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(D){this._hideSingleSelectionIndicator=D,this._markButtonsForCheck()}get hideMultipleSelectionIndicator(){return this._hideMultipleSelectionIndicator}set hideMultipleSelectionIndicator(D){this._hideMultipleSelectionIndicator=D,this._markButtonsForCheck()}constructor(D,A,B){this._changeDetector=D,this._dir=B,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+P++,this.valueChange=new h.bkB,this.change=new h.bkB,this.appearance=A&&A.appearance?A.appearance:"standard",this.hideSingleSelectionIndicator=A?.hideSingleSelectionIndicator??!1,this.hideMultipleSelectionIndicator=A?.hideMultipleSelectionIndicator??!1}ngOnInit(){this._selectionModel=new n.CB(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(D=>D.checked)),this.multiple||this._initializeTabIndex()}writeValue(D){this.value=D,this._changeDetector.markForCheck()}registerOnChange(D){this._controlValueAccessorChangeFn=D}registerOnTouched(D){this._onTouched=D}setDisabledState(D){this.disabled=D}_keydown(D){if(this.multiple||this.disabled)return;const B=D.target.id,F=this._buttonToggles.toArray().findIndex(U=>U.buttonId===B);let $=null;switch(D.keyCode){case l.t6:case l.Fm:$=this._buttonToggles.get(F)||null;break;case l.i7:$=this._getNextButton(F,-1);break;case l.UQ:$=this._getNextButton(F,"ltr"===this.dir?-1:1);break;case l.n6:$=this._getNextButton(F,1);break;case l.LE:$=this._getNextButton(F,"ltr"===this.dir?1:-1);break;default:return}$&&(D.preventDefault(),$._onButtonClick(),$.focus())}_emitChangeEvent(D){const A=new M(D,this.value);this._rawValue=A.value,this._controlValueAccessorChangeFn(A.value),this.change.emit(A)}_syncButtonToggle(D,A,B=!1,F=!1){!this.multiple&&this.selected&&!D.checked&&(this.selected.checked=!1),this._selectionModel?A?this._selectionModel.select(D):this._selectionModel.deselect(D):F=!0,F?Promise.resolve().then(()=>this._updateModelValue(D,B)):this._updateModelValue(D,B)}_isSelected(D){return this._selectionModel&&this._selectionModel.isSelected(D)}_isPrechecked(D){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(A=>null!=D.value&&A===D.value):D.value===this._rawValue)}_initializeTabIndex(){if(this._buttonToggles.forEach(D=>{D.tabIndex=-1}),this.selected)this.selected.tabIndex=0;else for(let D=0;D<this._buttonToggles.length;D++){const A=this._buttonToggles.get(D);if(!A.disabled){A.tabIndex=0;break}}this._markButtonsForCheck()}_getNextButton(D,A){const B=this._buttonToggles;for(let F=1;F<=B.length;F++){const U=B.get((D+A*F+B.length)%B.length);if(U&&!U.disabled)return U}return null}_setSelectionByValue(D){this._rawValue=D,this._buttonToggles&&(this.multiple&&D?(Array.isArray(D),this._clearSelection(),D.forEach(A=>this._selectValue(A))):(this._clearSelection(),this._selectValue(D)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(D=>{D.checked=!1,this.multiple||(D.tabIndex=-1)})}_selectValue(D){const A=this._buttonToggles.find(B=>null!=B.value&&B.value===D);A&&(A.checked=!0,this._selectionModel.select(A),this.multiple||(A.tabIndex=0))}_updateModelValue(D,A){A&&this._emitChangeEvent(D),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(D=>D._markForCheck())}static#e=this.\u0275fac=function(A){return new(A||_)(h.rXU(h.gRc),h.rXU(m,8),h.rXU(g.dS,8))};static#t=this.\u0275dir=h.FsC({type:_,selectors:[["mat-button-toggle-group"]],contentQueries:function(A,B,F){if(1&A&&h.wni(F,x,5),2&A){let $;h.mGM($=h.lsd())&&(B._buttonToggles=$)}},hostAttrs:[1,"mat-button-toggle-group"],hostVars:6,hostBindings:function(A,B){1&A&&h.bIt("keydown",function($){return B._keydown($)}),2&A&&(h.BMQ("role",B.multiple?"group":"radiogroup")("aria-disabled",B.disabled),h.AVh("mat-button-toggle-vertical",B.vertical)("mat-button-toggle-group-appearance-standard","standard"===B.appearance))},inputs:{appearance:"appearance",name:"name",vertical:[2,"vertical","vertical",h.L39],value:"value",multiple:[2,"multiple","multiple",h.L39],disabled:[2,"disabled","disabled",h.L39],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",h.L39],hideMultipleSelectionIndicator:[2,"hideMultipleSelectionIndicator","hideMultipleSelectionIndicator",h.L39]},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],standalone:!0,features:[h.Jv_([S,{provide:O,useExisting:_}]),h.GFd]})}return _})(),x=(()=>{class _{get buttonId(){return`${this.id}-button`}get tabIndex(){return this._tabIndex}set tabIndex(D){this._tabIndex=D,this._markForCheck()}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(D){this._appearance=D}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(D){D!==this._checked&&(this._checked=D,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(D){this._disabled=D}constructor(D,A,B,F,$,U){this._changeDetectorRef=A,this._elementRef=B,this._focusMonitor=F,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new h.bkB;const G=Number($);this.tabIndex=G||0===G?G:null,this.buttonToggleGroup=D,this.appearance=U&&U.appearance?U.appearance:"standard"}ngOnInit(){const D=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+P++,D&&(D._isPrechecked(this)?this.checked=!0:D._isSelected(this)!==this._checked&&D._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const D=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),D&&D._isSelected(this)&&D._syncButtonToggle(this,!1,!1,!0)}focus(D){this._buttonElement.nativeElement.focus(D)}_onButtonClick(){const D=!!this.isSingleSelector()||!this._checked;if(D!==this._checked&&(this._checked=D,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.isSingleSelector()){const A=this.buttonToggleGroup._buttonToggles.find(B=>0===B.tabIndex);A&&(A.tabIndex=-1),this.tabIndex=0}this.change.emit(new M(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this.isSingleSelector()?this.buttonToggleGroup.name:this.name||null}isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}static#e=this.\u0275fac=function(A){return new(A||_)(h.rXU(O,8),h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(e.FN),h.kS0("tabindex"),h.rXU(m,8))};static#t=this.\u0275cmp=h.VBU({type:_,selectors:[["mat-button-toggle"]],viewQuery:function(A,B){if(1&A&&h.GBs(b,5),2&A){let F;h.mGM(F=h.lsd())&&(B._buttonElement=F.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(A,B){1&A&&h.bIt("focus",function(){return B.focus()}),2&A&&(h.BMQ("aria-label",null)("aria-labelledby",null)("id",B.id)("name",null),h.AVh("mat-button-toggle-standalone",!B.buttonToggleGroup)("mat-button-toggle-checked",B.checked)("mat-button-toggle-disabled",B.disabled)("mat-button-toggle-appearance-standard","standard"===B.appearance))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[2,"disableRipple","disableRipple",h.L39],appearance:"appearance",checked:[2,"checked","checked",h.L39],disabled:[2,"disabled","disabled",h.L39]},outputs:{change:"change"},exportAs:["matButtonToggle"],standalone:!0,features:[h.GFd,h.aNF],ngContentSelectors:d,decls:8,vars:13,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-label-content"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(A,B){if(1&A){const F=h.RV6();h.NAR(),h.j41(0,"button",1,0),h.bIt("click",function(){return h.eBV(F),h.Njj(B._onButtonClick())}),h.j41(2,"span",2),h.DNE(3,y,1,1,"mat-pseudo-checkbox",3)(4,R,1,1,"mat-pseudo-checkbox",3),h.SdG(5),h.k0s()(),h.nrm(6,"span",4)(7,"span",5)}if(2&A){const F=h.sdS(1);h.Y8G("id",B.buttonId)("disabled",B.disabled||null),h.BMQ("role",B.isSingleSelector()?"radio":"button")("tabindex",B.disabled?-1:B.tabIndex)("aria-pressed",B.isSingleSelector()?null:B.checked)("aria-checked",B.isSingleSelector()?B.checked:null)("name",B._getButtonName())("aria-label",B.ariaLabel)("aria-labelledby",B.ariaLabelledby),h.R7$(3),h.vxM(B.buttonToggleGroup&&B.checked&&!B.buttonToggleGroup.multiple&&!B.buttonToggleGroup.hideSingleSelectionIndicator?3:-1),h.R7$(),h.vxM(B.buttonToggleGroup&&B.checked&&B.buttonToggleGroup.multiple&&!B.buttonToggleGroup.hideMultipleSelectionIndicator?4:-1),h.R7$(3),h.Y8G("matRippleTrigger",F)("matRippleDisabled",B.disableRipple||B.disabled)}},dependencies:[f.r6,f.wg],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape);border:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var( --mat-standard-button-toggle-selected-state-text-color )}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-label-text-font);font-size:var(--mat-legacy-button-toggle-label-text-size);line-height:var(--mat-legacy-button-toggle-label-text-line-height);font-weight:var(--mat-legacy-button-toggle-label-text-weight);letter-spacing:var(--mat-legacy-button-toggle-label-text-tracking);--mat-minimal-pseudo-checkbox-selected-checkmark-color: var( --mat-legacy-button-toggle-selected-state-text-color )}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle .mat-pseudo-checkbox{margin-right:12px}[dir=rtl] .mat-button-toggle .mat-pseudo-checkbox{margin-right:0;margin-left:12px}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color);--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var( --mat-legacy-button-toggle-disabled-state-text-color )}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color);background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-label-text-font);font-size:var(--mat-standard-button-toggle-label-text-size);line-height:var(--mat-standard-button-toggle-label-text-line-height);font-weight:var(--mat-standard-button-toggle-label-text-weight);letter-spacing:var(--mat-standard-button-toggle-label-text-tracking)}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color)}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color);background-color:var(--mat-standard-button-toggle-selected-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var( --mat-standard-button-toggle-disabled-selected-state-text-color )}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color)}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity)}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity)}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius:var(--mat-standard-button-toggle-shape)}.mat-button-toggle-group-appearance-standard .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape);border-bottom-right-radius:var(--mat-standard-button-toggle-shape)}.mat-button-toggle-group-appearance-standard .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-standard-button-toggle-shape);border-bottom-left-radius:var(--mat-standard-button-toggle-shape)}"],encapsulation:2,changeDetection:0})}return _})(),I=(()=>{class _{static#e=this.\u0275fac=function(A){return new(A||_)};static#t=this.\u0275mod=h.$C({type:_});static#n=this.\u0275inj=h.G2t({imports:[f.yE,f.pZ,x,f.yE]})}return _})()},8834:(gt,re,o)=>{"use strict";o.d(re,{$z:()=>C,Hl:()=>K,iY:()=>te});var e=o(6860),n=o(3953),l=o(8617),h=o(6600);const g=["mat-button",""],p=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],f=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],v=["mat-icon-button",""],O=["*"],P=new n.nKC("MAT_BUTTON_CONFIG"),w=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let x=(()=>{class k{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(W){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,W)}get disableRipple(){return this._disableRipple}set disableRipple(W){this._disableRipple=W,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(W){this._disabled=W,this._updateRippleDisabled()}constructor(W,ie,ce,oe){this._elementRef=W,this._platform=ie,this._ngZone=ce,this._animationMode=oe,this._focusMonitor=(0,n.WQX)(l.FN),this._rippleLoader=(0,n.WQX)(h.Ej),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const me=(0,n.WQX)(P,{optional:!0}),he=W.nativeElement,Oe=he.classList;this.disabledInteractive=me?.disabledInteractive??!1,this.color=me?.color??null,this._rippleLoader?.configureRipple(he,{className:"mat-mdc-button-ripple"});for(const{attribute:we,mdcClasses:We}of w)he.hasAttribute(we)&&Oe.add(...We)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(W="program",ie){W?this._focusMonitor.focusVia(this._elementRef.nativeElement,W,ie):this._elementRef.nativeElement.focus(ie)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(ie){n.QTQ()};static#t=this.\u0275dir=n.FsC({type:k,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",n.L39],disabled:[2,"disabled","disabled",n.L39],ariaDisabled:[2,"aria-disabled","ariaDisabled",n.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",n.L39]},features:[n.GFd]})}return k})(),C=(()=>{class k extends x{constructor(W,ie,ce,oe){super(W,ie,ce,oe)}static#e=this.\u0275fac=function(ie){return new(ie||k)(n.rXU(n.aKT),n.rXU(e.OD),n.rXU(n.SKi),n.rXU(n.bc$,8))};static#t=this.\u0275cmp=n.VBU({type:k,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(ie,ce){2&ie&&(n.BMQ("disabled",ce._getDisabledAttribute())("aria-disabled",ce._getAriaDisabled()),n.HbH(ce.color?"mat-"+ce.color:""),n.AVh("mat-mdc-button-disabled",ce.disabled)("mat-mdc-button-disabled-interactive",ce.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===ce._animationMode)("mat-unthemed",!ce.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[n.Vt3,n.aNF],attrs:g,ngContentSelectors:f,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(ie,ce){1&ie&&(n.NAR(p),n.nrm(0,"span",0),n.SdG(1),n.j41(2,"span",1),n.SdG(3,1),n.k0s(),n.SdG(4,2),n.nrm(5,"span",2)(6,"span",3)),2&ie&&n.AVh("mdc-button__ripple",!ce._isFab)("mdc-fab__ripple",ce._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color);background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow);height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color);background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight);border-radius:var(--mdc-outlined-button-container-shape);border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color);border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return k})(),te=(()=>{class k extends x{constructor(W,ie,ce,oe){super(W,ie,ce,oe),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(ie){return new(ie||k)(n.rXU(n.aKT),n.rXU(e.OD),n.rXU(n.SKi),n.rXU(n.bc$,8))};static#t=this.\u0275cmp=n.VBU({type:k,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(ie,ce){2&ie&&(n.BMQ("disabled",ce._getDisabledAttribute())("aria-disabled",ce._getAriaDisabled()),n.HbH(ce.color?"mat-"+ce.color:""),n.AVh("mat-mdc-button-disabled",ce.disabled)("mat-mdc-button-disabled-interactive",ce.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===ce._animationMode)("mat-unthemed",!ce.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[n.Vt3,n.aNF],attrs:v,ngContentSelectors:O,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(ie,ce){1&ie&&(n.NAR(),n.nrm(0,"span",0),n.SdG(1),n.nrm(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return k})(),K=(()=>{class k{static#e=this.\u0275fac=function(ie){return new(ie||k)};static#t=this.\u0275mod=n.$C({type:k});static#n=this.\u0275inj=n.G2t({imports:[h.yE,h.pZ,h.yE]})}return k})()},2765:(gt,re,o)=>{"use strict";o.d(re,{So:()=>O,g7:()=>w});var e=o(3953),n=o(9417),l=o(6600);const h=["input"],g=["label"],p=["*"],f=new e.nKC("mat-checkbox-default-options",{providedIn:"root",factory:b});function b(){return{color:"accent",clickAction:"check-indeterminate"}}var d=function(x){return x[x.Init=0]="Init",x[x.Checked=1]="Checked",x[x.Unchecked=2]="Unchecked",x[x.Indeterminate=3]="Indeterminate",x}(d||{});const y={provide:n.kq,useExisting:(0,e.Rfq)(()=>O),multi:!0};class R{}let m=0;const v=b();let O=(()=>{class x{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(_){const C=new R;return C.source=this,C.checked=_,C}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(_,C,D,A,B,F){this._elementRef=_,this._changeDetectorRef=C,this._ngZone=D,this._animationMode=B,this._options=F,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new e.bkB,this.indeterminateChange=new e.bkB,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=d.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||v,this.color=this._options.color||v.color,this.tabIndex=parseInt(A)||0,this.id=this._uniqueId="mat-mdc-checkbox-"+ ++m}ngOnChanges(_){_.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(_){_!=this.checked&&(this._checked=_,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(_){_!==this.disabled&&(this._disabled=_,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(_){const C=_!=this._indeterminate;this._indeterminate=_,C&&(this._transitionCheckState(this._indeterminate?d.Indeterminate:this.checked?d.Checked:d.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(_){this.checked=!!_}registerOnChange(_){this._controlValueAccessorChangeFn=_}registerOnTouched(_){this._onTouched=_}setDisabledState(_){this.disabled=_}validate(_){return this.required&&!0!==_.value?{required:!0}:null}registerOnValidatorChange(_){this._validatorChangeFn=_}_transitionCheckState(_){let C=this._currentCheckState,D=this._getAnimationTargetElement();if(C!==_&&D&&(this._currentAnimationClass&&D.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(C,_),this._currentCheckState=_,this._currentAnimationClass.length>0)){D.classList.add(this._currentAnimationClass);const A=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{D.classList.remove(A)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const _=this._options?.clickAction;this.disabled||"noop"===_?!this.disabled&&"noop"===_&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==_&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?d.Checked:d.Unchecked),this._emitChangeEvent())}_onInteractionEvent(_){_.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(_,C){if("NoopAnimations"===this._animationMode)return"";switch(_){case d.Init:if(C===d.Checked)return this._animationClasses.uncheckedToChecked;if(C==d.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case d.Unchecked:return C===d.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case d.Checked:return C===d.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case d.Indeterminate:return C===d.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(_){const C=this._inputElement;C&&(C.nativeElement.indeterminate=_)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(_){_.target&&this._labelElement.nativeElement.contains(_.target)&&_.stopPropagation()}static#e=this.\u0275fac=function(C){return new(C||x)(e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(e.SKi),e.kS0("tabindex"),e.rXU(e.bc$,8),e.rXU(f,8))};static#t=this.\u0275cmp=e.VBU({type:x,selectors:[["mat-checkbox"]],viewQuery:function(C,D){if(1&C&&(e.GBs(h,5),e.GBs(g,5),e.GBs(l.r6,5)),2&C){let A;e.mGM(A=e.lsd())&&(D._inputElement=A.first),e.mGM(A=e.lsd())&&(D._labelElement=A.first),e.mGM(A=e.lsd())&&(D.ripple=A.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:14,hostBindings:function(C,D){2&C&&(e.Mr5("id",D.id),e.BMQ("tabindex",null)("aria-label",null)("aria-labelledby",null),e.HbH(D.color?"mat-"+D.color:"mat-accent"),e.AVh("_mat-animation-noopable","NoopAnimations"===D._animationMode)("mdc-checkbox--disabled",D.disabled)("mat-mdc-checkbox-disabled",D.disabled)("mat-mdc-checkbox-checked",D.checked))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],id:"id",required:[2,"required","required",e.L39],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",e.L39],tabIndex:[2,"tabIndex","tabIndex",_=>null==_?void 0:(0,e.Udg)(_)],color:"color",checked:[2,"checked","checked",e.L39],disabled:[2,"disabled","disabled",e.L39],indeterminate:[2,"indeterminate","indeterminate",e.L39]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[e.Jv_([y,{provide:n.cz,useExisting:x,multi:!0}]),e.GFd,e.OA$,e.aNF],ngContentSelectors:p,decls:15,vars:19,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(C,D){if(1&C){const A=e.RV6();e.NAR(),e.j41(0,"div",3),e.bIt("click",function(F){return e.eBV(A),e.Njj(D._preventBubblingFromLabel(F))}),e.j41(1,"div",4,0)(3,"div",5),e.bIt("click",function(){return e.eBV(A),e.Njj(D._onTouchTargetClick())}),e.k0s(),e.j41(4,"input",6,1),e.bIt("blur",function(){return e.eBV(A),e.Njj(D._onBlur())})("click",function(){return e.eBV(A),e.Njj(D._onInputClick())})("change",function(F){return e.eBV(A),e.Njj(D._onInteractionEvent(F))}),e.k0s(),e.nrm(6,"div",7),e.j41(7,"div",8),e.qSk(),e.j41(8,"svg",9),e.nrm(9,"path",10),e.k0s(),e.joV(),e.nrm(10,"div",11),e.k0s(),e.nrm(11,"div",12),e.k0s(),e.j41(12,"label",13,2),e.SdG(14),e.k0s()()}if(2&C){const A=e.sdS(2);e.Y8G("labelPosition",D.labelPosition),e.R7$(4),e.AVh("mdc-checkbox--selected",D.checked),e.Y8G("checked",D.checked)("indeterminate",D.indeterminate)("disabled",D.disabled)("id",D.inputId)("required",D.required)("tabIndex",D.disabled?-1:D.tabIndex),e.BMQ("aria-label",D.ariaLabel||null)("aria-labelledby",D.ariaLabelledby)("aria-describedby",D.ariaDescribedby)("aria-checked",D.indeterminate?"mixed":null)("name",D.name)("value",D.value),e.R7$(7),e.Y8G("matRippleTrigger",A)("matRippleDisabled",D.disableRipple||D.disabled)("matRippleCentered",!0),e.R7$(),e.Y8G("for",D.inputId)}},dependencies:[l.r6,l.tO],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-unselected-icon-color);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox--disabled .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color)}.cdk-high-contrast-active .mdc-checkbox__mixedmark{margin:0 1px}.mdc-checkbox--disabled .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color);font-family:var(--mat-checkbox-label-text-font);line-height:var(--mat-checkbox-label-text-line-height);font-size:var(--mat-checkbox-label-text-size);letter-spacing:var(--mat-checkbox-label-text-tracking);font-weight:var(--mat-checkbox-label-text-weight)}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return x})(),w=(()=>{class x{static#e=this.\u0275fac=function(C){return new(C||x)};static#t=this.\u0275mod=e.$C({type:x});static#n=this.\u0275inj=e.G2t({imports:[O,l.yE,l.yE]})}return x})()},6471:(gt,re,o)=>{"use strict";o.d(re,{D7:()=>xt,HW:()=>$e,Jl:()=>Oe,YN:()=>yt,Zv:()=>me,jH:()=>Me});var e=o(8617),n=o(7336),l=o(177),h=o(3953),g=o(6600),p=o(5286),f=o(4670),b=o(7605),d=o(3176),y=o(9090),R=o(8203),m=o(9417),v=o(3719);const O=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],S=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function P(Le,De){1&Le&&(h.j41(0,"span",3),h.SdG(1,1),h.k0s())}function M(Le,De){1&Le&&(h.j41(0,"span",6),h.SdG(1,2),h.k0s())}const _=[[["mat-chip-avatar"],["","matChipAvatar",""]],[["","matChipEditInput",""]],"*",[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],C=["mat-chip-avatar, [matChipAvatar]","[matChipEditInput]","*","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function D(Le,De){1&Le&&h.nrm(0,"span",0)}function A(Le,De){1&Le&&(h.j41(0,"span",2),h.SdG(1),h.k0s())}function B(Le,De){1&Le&&h.SdG(0,1)}function F(Le,De){1&Le&&h.nrm(0,"span",7)}function $(Le,De){if(1&Le&&h.DNE(0,B,1,0)(1,F,1,0,"span",7),2&Le){const V=h.XpG();h.vxM(V.contentEditInput?0:1)}}function U(Le,De){1&Le&&h.SdG(0,2)}function G(Le,De){1&Le&&(h.j41(0,"span",5),h.SdG(1,3),h.k0s())}const J=["*"],ne=new h.nKC("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[n.Fm]})}),K=new h.nKC("MatChipAvatar"),k=new h.nKC("MatChipTrailingIcon"),j=new h.nKC("MatChipRemove"),W=new h.nKC("MatChip");let ie=(()=>{class Le{get disabled(){return this._disabled||this._parentChip.disabled}set disabled(V){this._disabled=V}_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(V,ue){this._elementRef=V,this._parentChip=ue,this.isInteractive=!0,this._isPrimary=!0,this._disabled=!1,this.tabIndex=-1,this._allowFocusWhenDisabled=!1,"BUTTON"===V.nativeElement.nodeName&&V.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(V){!this.disabled&&this.isInteractive&&this._isPrimary&&(V.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(V){(V.keyCode===n.Fm||V.keyCode===n.t6)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(V.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static#e=this.\u0275fac=function(ue){return new(ue||Le)(h.rXU(h.aKT),h.rXU(W))};static#t=this.\u0275dir=h.FsC({type:Le,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(ue,Q){1&ue&&h.bIt("click",function(Je){return Q._handleClick(Je)})("keydown",function(Je){return Q._handleKeydown(Je)}),2&ue&&(h.BMQ("tabindex",Q._getTabindex())("disabled",Q._getDisabledAttribute())("aria-disabled",Q.disabled),h.AVh("mdc-evolution-chip__action--primary",Q._isPrimary)("mdc-evolution-chip__action--presentational",!Q.isInteractive)("mdc-evolution-chip__action--trailing",!Q._isPrimary))},inputs:{isInteractive:"isInteractive",disabled:[2,"disabled","disabled",h.L39],tabIndex:[2,"tabIndex","tabIndex",V=>null==V?-1:(0,h.Udg)(V)],_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},standalone:!0,features:[h.GFd]})}return Le})(),me=(()=>{class Le extends ie{constructor(){super(...arguments),this._isPrimary=!1}_handleClick(V){this.disabled||(V.stopPropagation(),V.preventDefault(),this._parentChip.remove())}_handleKeydown(V){(V.keyCode===n.Fm||V.keyCode===n.t6)&&!this.disabled&&(V.stopPropagation(),V.preventDefault(),this._parentChip.remove())}static#e=this.\u0275fac=(()=>{let V;return function(Q){return(V||(V=h.xGo(Le)))(Q||Le)}})();static#t=this.\u0275dir=h.FsC({type:Le,selectors:[["","matChipRemove",""]],hostAttrs:["role","button",1,"mat-mdc-chip-remove","mat-mdc-chip-trailing-icon","mat-mdc-focus-indicator","mdc-evolution-chip__icon","mdc-evolution-chip__icon--trailing"],hostVars:1,hostBindings:function(ue,Q){2&ue&&h.BMQ("aria-hidden",null)},standalone:!0,features:[h.Jv_([{provide:j,useExisting:Le}]),h.Vt3]})}return Le})(),he=0,Oe=(()=>{class Le{_hasFocus(){return this._hasFocusInternal}get value(){return void 0!==this._value?this._value:this._textElement.textContent.trim()}set value(V){this._value=V}get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(V){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,V)}constructor(V,ue,Q,Te,Je,Nt,qt,hn){this._changeDetectorRef=V,this._elementRef=ue,this._ngZone=Q,this._focusMonitor=Te,this._globalRippleOptions=qt,this._onFocus=new p.B7,this._onBlur=new p.B7,this.role=null,this._hasFocusInternal=!1,this.id="mat-mdc-chip-"+he++,this.ariaLabel=null,this.ariaDescription=null,this._ariaDescriptionId=`${this.id}-aria-description`,this.removable=!0,this.highlighted=!1,this.disableRipple=!1,this.disabled=!1,this.tabIndex=-1,this.removed=new h.bkB,this.destroyed=new h.bkB,this.basicChipAttrName="mat-basic-chip",this._rippleLoader=(0,h.WQX)(g.Ej),this._injector=(0,h.WQX)(h.zZn),this._document=Je,this._animationsDisabled="NoopAnimations"===Nt,null!=hn&&(this.tabIndex=parseInt(hn)??-1),this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){const V=this._elementRef.nativeElement;this._isBasicChip=V.hasAttribute(this.basicChipAttrName)||V.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=(0,f.h)(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!(!this.trailingIcon&&!this.removeIcon)}_handleKeydown(V){(V.keyCode===n.G_&&!V.repeat||V.keyCode===n.SJ)&&(V.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(V){return this._getActions().find(ue=>{const Q=ue._elementRef.nativeElement;return Q===V||Q.contains(V)})}_getActions(){const V=[];return this.primaryAction&&V.push(this.primaryAction),this.removeIcon&&V.push(this.removeIcon),this.trailingIcon&&V.push(this.trailingIcon),V}_handlePrimaryActionInteraction(){}_getTabIndex(){return this.role?this.disabled?-1:this.tabIndex:null}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(V=>{const ue=null!==V;ue!==this._hasFocusInternal&&(this._hasFocusInternal=ue,ue?this._onFocus.next({chip:this}):(0,h.mal)(()=>this._ngZone.run(()=>this._onBlur.next({chip:this})),{injector:this._injector}))})}static#e=this.\u0275fac=function(ue){return new(ue||Le)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi),h.rXU(e.FN),h.rXU(l.qQ),h.rXU(h.bc$,8),h.rXU(g.$E,8),h.kS0("tabindex"))};static#t=this.\u0275cmp=h.VBU({type:Le,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(ue,Q,Te){if(1&ue&&(h.wni(Te,K,5),h.wni(Te,k,5),h.wni(Te,j,5),h.wni(Te,K,5),h.wni(Te,k,5),h.wni(Te,j,5)),2&ue){let Je;h.mGM(Je=h.lsd())&&(Q.leadingIcon=Je.first),h.mGM(Je=h.lsd())&&(Q.trailingIcon=Je.first),h.mGM(Je=h.lsd())&&(Q.removeIcon=Je.first),h.mGM(Je=h.lsd())&&(Q._allLeadingIcons=Je),h.mGM(Je=h.lsd())&&(Q._allTrailingIcons=Je),h.mGM(Je=h.lsd())&&(Q._allRemoveIcons=Je)}},viewQuery:function(ue,Q){if(1&ue&&h.GBs(ie,5),2&ue){let Te;h.mGM(Te=h.lsd())&&(Q.primaryAction=Te.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:32,hostBindings:function(ue,Q){1&ue&&h.bIt("keydown",function(Je){return Q._handleKeydown(Je)}),2&ue&&(h.Mr5("id",Q.id),h.BMQ("role",Q.role)("tabindex",Q._getTabIndex())("aria-label",Q.ariaLabel),h.HbH("mat-"+(Q.color||"primary")),h.AVh("mdc-evolution-chip",!Q._isBasicChip)("mdc-evolution-chip--disabled",Q.disabled)("mdc-evolution-chip--with-trailing-action",Q._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",Q.leadingIcon)("mdc-evolution-chip--with-primary-icon",Q.leadingIcon)("mdc-evolution-chip--with-avatar",Q.leadingIcon)("mat-mdc-chip-with-avatar",Q.leadingIcon)("mat-mdc-chip-highlighted",Q.highlighted)("mat-mdc-chip-disabled",Q.disabled)("mat-mdc-basic-chip",Q._isBasicChip)("mat-mdc-standard-chip",!Q._isBasicChip)("mat-mdc-chip-with-trailing-icon",Q._hasTrailingIcon())("_mat-animation-noopable",Q._animationsDisabled))},inputs:{role:"role",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaDescription:[0,"aria-description","ariaDescription"],value:"value",color:"color",removable:[2,"removable","removable",h.L39],highlighted:[2,"highlighted","highlighted",h.L39],disableRipple:[2,"disableRipple","disableRipple",h.L39],disabled:[2,"disabled","disabled",h.L39],tabIndex:[2,"tabIndex","tabIndex",V=>null==V?void 0:(0,h.Udg)(V)]},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],standalone:!0,features:[h.Jv_([{provide:W,useExisting:Le}]),h.GFd,h.aNF],ngContentSelectors:S,decls:8,vars:3,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(ue,Q){1&ue&&(h.NAR(O),h.nrm(0,"span",0),h.j41(1,"span",1)(2,"span",2),h.DNE(3,P,2,0,"span",3),h.j41(4,"span",4),h.SdG(5),h.nrm(6,"span",5),h.k0s()()(),h.DNE(7,M,2,0,"span",6)),2&ue&&(h.R7$(2),h.Y8G("isInteractive",!1),h.R7$(),h.vxM(Q.leadingIcon?3:-1),h.R7$(4),h.vxM(Q._hasTrailingIcon()?7:-1))},dependencies:[ie],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width);border-radius:var(--mdc-chip-container-shape-radius);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color)}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size);height:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.cdk-high-contrast-active .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius);width:var(--mdc-chip-with-icon-icon-size);height:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color);--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color);--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color);--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color)}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color)}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color);opacity:var(--mdc-chip-hover-state-layer-opacity)}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color);opacity:var(--mdc-chip-selected-hover-state-layer-opacity)}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color);opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color);opacity:var(--mdc-chip-selected-focus-state-layer-opacity)}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color)}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity)}.mat-mdc-chip-remove::after{background:var(--mat-chip-trailing-action-state-layer-color)}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity)}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity)}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background:var(--mat-chip-selected-trailing-action-state-layer-color)}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-2px;bottom:-2px;left:6px;right:6px;border-radius:50%}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return Le})(),Xe=(()=>{class Le{constructor(V,ue){this._elementRef=V,this._document=ue}initialize(V){this.getNativeElement().focus(),this.setValue(V)}getNativeElement(){return this._elementRef.nativeElement}setValue(V){this.getNativeElement().textContent=V,this._moveCursorToEndOfInput()}getValue(){return this.getNativeElement().textContent||""}_moveCursorToEndOfInput(){const V=this._document.createRange();V.selectNodeContents(this.getNativeElement()),V.collapse(!1);const ue=window.getSelection();ue.removeAllRanges(),ue.addRange(V)}static#e=this.\u0275fac=function(ue){return new(ue||Le)(h.rXU(h.aKT),h.rXU(l.qQ))};static#t=this.\u0275dir=h.FsC({type:Le,selectors:[["span","matChipEditInput",""]],hostAttrs:["role","textbox","tabindex","-1","contenteditable","true",1,"mat-chip-edit-input"],standalone:!0})}return Le})(),Me=(()=>{class Le extends Oe{constructor(V,ue,Q,Te,Je,Nt,qt,hn){super(V,ue,Q,Te,Je,Nt,qt,hn),this.basicChipAttrName="mat-basic-chip-row",this._editStartPending=!1,this.editable=!1,this.edited=new h.bkB,this._isEditing=!1,this.role="row",this._onBlur.pipe((0,b.Q)(this.destroyed)).subscribe(()=>{this._isEditing&&!this._editStartPending&&this._onEditFinish()})}_hasTrailingIcon(){return!this._isEditing&&super._hasTrailingIcon()}_handleFocus(){!this._isEditing&&!this.disabled&&this.focus()}_handleKeydown(V){V.keyCode!==n.Fm||this.disabled?this._isEditing?V.stopPropagation():super._handleKeydown(V):this._isEditing?(V.preventDefault(),this._onEditFinish()):this.editable&&this._startEditing(V)}_handleDoubleclick(V){!this.disabled&&this.editable&&this._startEditing(V)}_startEditing(V){if(!this.primaryAction||this.removeIcon&&this._getSourceAction(V.target)===this.removeIcon)return;const ue=this.value;this._isEditing=this._editStartPending=!0,(0,h.mal)(()=>{this._getEditInput().initialize(ue),this._editStartPending=!1},{injector:this._injector})}_onEditFinish(){this._isEditing=this._editStartPending=!1,this.edited.emit({chip:this,value:this._getEditInput().getValue()}),(this._document.activeElement===this._getEditInput().getNativeElement()||this._document.activeElement===this._document.body)&&this.primaryAction.focus()}_isRippleDisabled(){return super._isRippleDisabled()||this._isEditing}_getEditInput(){return this.contentEditInput||this.defaultEditInput}static#e=this.\u0275fac=function(ue){return new(ue||Le)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.SKi),h.rXU(e.FN),h.rXU(l.qQ),h.rXU(h.bc$,8),h.rXU(g.$E,8),h.kS0("tabindex"))};static#t=this.\u0275cmp=h.VBU({type:Le,selectors:[["mat-chip-row"],["","mat-chip-row",""],["mat-basic-chip-row"],["","mat-basic-chip-row",""]],contentQueries:function(ue,Q,Te){if(1&ue&&h.wni(Te,Xe,5),2&ue){let Je;h.mGM(Je=h.lsd())&&(Q.contentEditInput=Je.first)}},viewQuery:function(ue,Q){if(1&ue&&h.GBs(Xe,5),2&ue){let Te;h.mGM(Te=h.lsd())&&(Q.defaultEditInput=Te.first)}},hostAttrs:[1,"mat-mdc-chip","mat-mdc-chip-row","mdc-evolution-chip"],hostVars:27,hostBindings:function(ue,Q){1&ue&&h.bIt("focus",function(Je){return Q._handleFocus(Je)})("dblclick",function(Je){return Q._handleDoubleclick(Je)}),2&ue&&(h.Mr5("id",Q.id),h.BMQ("tabindex",Q.disabled?null:-1)("aria-label",null)("aria-description",null)("role",Q.role),h.AVh("mat-mdc-chip-with-avatar",Q.leadingIcon)("mat-mdc-chip-disabled",Q.disabled)("mat-mdc-chip-editing",Q._isEditing)("mat-mdc-chip-editable",Q.editable)("mdc-evolution-chip--disabled",Q.disabled)("mdc-evolution-chip--with-trailing-action",Q._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",Q.leadingIcon)("mdc-evolution-chip--with-primary-icon",Q.leadingIcon)("mdc-evolution-chip--with-avatar",Q.leadingIcon)("mat-mdc-chip-highlighted",Q.highlighted)("mat-mdc-chip-with-trailing-icon",Q._hasTrailingIcon()))},inputs:{editable:"editable"},outputs:{edited:"edited"},standalone:!0,features:[h.Jv_([{provide:Oe,useExisting:Le},{provide:W,useExisting:Le}]),h.Vt3,h.aNF],ngContentSelectors:C,decls:10,vars:10,consts:[[1,"mat-mdc-chip-focus-overlay"],["role","gridcell","matChipAction","",1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary",3,"tabIndex","disabled"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],["aria-hidden","true",1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["role","gridcell",1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"],[1,"cdk-visually-hidden",3,"id"],["matChipEditInput",""]],template:function(ue,Q){1&ue&&(h.NAR(_),h.DNE(0,D,1,0,"span",0),h.j41(1,"span",1),h.DNE(2,A,2,0,"span",2),h.j41(3,"span",3),h.DNE(4,$,2,1)(5,U,1,0),h.nrm(6,"span",4),h.k0s()(),h.DNE(7,G,2,0,"span",5),h.j41(8,"span",6),h.EFF(9),h.k0s()),2&ue&&(h.vxM(Q._isEditing?-1:0),h.R7$(),h.Y8G("tabIndex",Q.tabIndex)("disabled",Q.disabled),h.BMQ("aria-label",Q.ariaLabel)("aria-describedby",Q._ariaDescriptionId),h.R7$(),h.vxM(Q.leadingIcon?2:-1),h.R7$(2),h.vxM(Q._isEditing?4:5),h.R7$(3),h.vxM(Q._hasTrailingIcon()?7:-1),h.R7$(),h.Y8G("id",Q._ariaDescriptionId),h.R7$(),h.JRh(Q.ariaDescription))},dependencies:[ie,Xe],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width);border-radius:var(--mdc-chip-container-shape-radius);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color)}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size);height:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.cdk-high-contrast-active .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius);width:var(--mdc-chip-with-icon-icon-size);height:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color);--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color);--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color);--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color)}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color)}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color);opacity:var(--mdc-chip-hover-state-layer-opacity)}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color);opacity:var(--mdc-chip-selected-hover-state-layer-opacity)}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color);opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color);opacity:var(--mdc-chip-selected-focus-state-layer-opacity)}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color)}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity)}.mat-mdc-chip-remove::after{background:var(--mat-chip-trailing-action-state-layer-color)}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity)}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity)}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background:var(--mat-chip-selected-trailing-action-state-layer-color)}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-2px;bottom:-2px;left:6px;right:6px;border-radius:50%}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return Le})(),ge=(()=>{class Le{get chipFocusChanges(){return this._getChipStream(V=>V._onFocus)}get chipDestroyedChanges(){return this._getChipStream(V=>V.destroyed)}get chipRemovedChanges(){return this._getChipStream(V=>V.removed)}get disabled(){return this._disabled}set disabled(V){this._disabled=V,this._syncChipsState()}get empty(){return!this._chips||0===this._chips.length}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}set role(V){this._explicitRole=V}get focused(){return this._hasFocusedChip()}constructor(V,ue,Q){this._elementRef=V,this._changeDetectorRef=ue,this._dir=Q,this._lastDestroyedFocusedChipIndex=null,this._destroyed=new p.B7,this._defaultRole="presentation",this._disabled=!1,this.tabIndex=0,this._explicitRole=null,this._chipActions=new h.rOR}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(V=>V._hasFocus())}_syncChipsState(){this._chips&&this._chips.forEach(V=>{V.disabled=this._disabled,V._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(V){this._originatesFromChip(V)&&this._keyManager.onKeydown(V)}_isValidIndex(V){return V>=0&&V<this._chips.length}_allowFocusEscape(){if(-1!==this.tabIndex){const V=this.tabIndex;this.tabIndex=-1,this._changeDetectorRef.markForCheck(),setTimeout(()=>{this.tabIndex=V,this._changeDetectorRef.markForCheck()})}}_getChipStream(V){return this._chips.changes.pipe((0,d.Z)(null),(0,y.n)(()=>(0,f.h)(...this._chips.map(V))))}_originatesFromChip(V){let ue=V.target;for(;ue&&ue!==this._elementRef.nativeElement;){if(ue.classList.contains("mat-mdc-chip"))return!0;ue=ue.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe((0,d.Z)(this._chips)).subscribe(V=>{const ue=[];V.forEach(Q=>Q._getActions().forEach(Te=>ue.push(Te))),this._chipActions.reset(ue),this._chipActions.notifyOnChanges()}),this._keyManager=new e.Bu(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(V=>this._skipPredicate(V)),this.chipFocusChanges.pipe((0,b.Q)(this._destroyed)).subscribe(({chip:V})=>{const ue=V._getSourceAction(document.activeElement);ue&&this._keyManager.updateActiveItem(ue)}),this._dir?.change.pipe((0,b.Q)(this._destroyed)).subscribe(V=>this._keyManager.withHorizontalOrientation(V))}_skipPredicate(V){return!V.isInteractive||V.disabled}_trackChipSetChanges(){this._chips.changes.pipe((0,d.Z)(null),(0,b.Q)(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe((0,b.Q)(this._destroyed)).subscribe(V=>{const Q=this._chips.toArray().indexOf(V.chip);this._isValidIndex(Q)&&V.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=Q)})}_redirectDestroyedChipFocus(){if(null!=this._lastDestroyedFocusedChipIndex){if(this._chips.length){const V=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),ue=this._chips.toArray()[V];ue.disabled?1===this._chips.length?this.focus():this._keyManager.setPreviousItemActive():ue.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}static#e=this.\u0275fac=function(ue){return new(ue||Le)(h.rXU(h.aKT),h.rXU(h.gRc),h.rXU(R.dS,8))};static#t=this.\u0275cmp=h.VBU({type:Le,selectors:[["mat-chip-set"]],contentQueries:function(ue,Q,Te){if(1&ue&&h.wni(Te,Oe,5),2&ue){let Je;h.mGM(Je=h.lsd())&&(Q._chips=Je)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(ue,Q){1&ue&&h.bIt("keydown",function(Je){return Q._handleKeydown(Je)}),2&ue&&h.BMQ("role",Q.role)},inputs:{disabled:[2,"disabled","disabled",h.L39],role:"role",tabIndex:[2,"tabIndex","tabIndex",V=>null==V?0:(0,h.Udg)(V)]},standalone:!0,features:[h.GFd,h.aNF],ngContentSelectors:J,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(ue,Q){1&ue&&(h.NAR(),h.j41(0,"div",0),h.SdG(1),h.k0s())},styles:[".mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return Le})();class Qe{constructor(De,V){this.source=De,this.value=V}}let $e=(()=>{class Le extends ge{get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(V){this._disabled=V,this._syncChipsState()}get id(){return this._chipInput.id}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this._chips||0===this._chips.length)}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(V){this._placeholder=V,this.stateChanges.next()}get focused(){return this._chipInput.focused||this._hasFocusedChip()}get required(){return this._required??this.ngControl?.control?.hasValidator(m.k0.required)??!1}set required(V){this._required=V,this.stateChanges.next()}get shouldLabelFloat(){return!this.empty||this.focused}get value(){return this._value}set value(V){this._value=V}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(V){this._errorStateTracker.matcher=V}get chipBlurChanges(){return this._getChipStream(V=>V._onBlur)}get errorState(){return this._errorStateTracker.errorState}set errorState(V){this._errorStateTracker.errorState=V}constructor(V,ue,Q,Te,Je,Nt,qt){super(V,ue,Q),this.ngControl=qt,this.controlType="mat-chip-grid",this._defaultRole="grid",this._ariaDescribedbyIds=[],this._onTouched=()=>{},this._onChange=()=>{},this._value=[],this.change=new h.bkB,this.valueChange=new h.bkB,this._chips=void 0,this.stateChanges=new p.B7,this.ngControl&&(this.ngControl.valueAccessor=this),this._errorStateTracker=new g.X0(Nt,qt,Je,Te,this.stateChanges)}ngAfterContentInit(){this.chipBlurChanges.pipe((0,b.Q)(this._destroyed)).subscribe(()=>{this._blur(),this.stateChanges.next()}),(0,f.h)(this.chipFocusChanges,this._chips.changes).pipe((0,b.Q)(this._destroyed)).subscribe(()=>this.stateChanges.next())}ngAfterViewInit(){super.ngAfterViewInit()}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnDestroy(){super.ngOnDestroy(),this.stateChanges.complete()}registerInput(V){this._chipInput=V,this._chipInput.setDescribedByIds(this._ariaDescribedbyIds)}onContainerClick(V){!this.disabled&&!this._originatesFromChip(V)&&this.focus()}focus(){this.disabled||this._chipInput.focused||(!this._chips.length||this._chips.first.disabled?Promise.resolve().then(()=>this._chipInput.focus()):this._chips.length&&0!==this._keyManager.activeItemIndex&&this._keyManager.setFirstItemActive(),this.stateChanges.next())}setDescribedByIds(V){this._ariaDescribedbyIds=V,this._chipInput?.setDescribedByIds(V)}writeValue(V){this._value=V}registerOnChange(V){this._onChange=V}registerOnTouched(V){this._onTouched=V}setDisabledState(V){this.disabled=V,this.stateChanges.next()}updateErrorState(){this._errorStateTracker.updateErrorState()}_blur(){this.disabled||setTimeout(()=>{this.focused||(this._propagateChanges(),this._markAsTouched())})}_allowFocusEscape(){this._chipInput.focused||super._allowFocusEscape()}_handleKeydown(V){const ue=V.keyCode,Q=this._keyManager.activeItem;if(ue===n.wn)this._chipInput.focused&&(0,n.rp)(V,"shiftKey")&&this._chips.length&&!this._chips.last.disabled?(V.preventDefault(),Q?this._keyManager.setActiveItem(Q):this._focusLastChip()):super._allowFocusEscape();else if(!this._chipInput.focused)if(ue!==n.i7&&ue!==n.n6||!Q)super._handleKeydown(V);else{const Te=this._chipActions.filter(qt=>qt._isPrimary===Q._isPrimary&&!this._skipPredicate(qt)),Je=Te.indexOf(Q),Nt=V.keyCode===n.i7?-1:1;V.preventDefault(),Je>-1&&this._isValidIndex(Je+Nt)&&this._keyManager.setActiveItem(Te[Je+Nt])}this.stateChanges.next()}_focusLastChip(){this._chips.length&&this._chips.last.focus()}_propagateChanges(){const V=this._chips.length?this._chips.toArray().map(ue=>ue.value):[];this._value=V,this.change.emit(new Qe(this,V)),this.valueChange.emit(V),this._onChange(V),this._changeDetectorRef.markForCheck()}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}static#e=this.\u0275fac=function(ue){return new(ue||Le)(h.rXU(h.aKT),h.rXU(h.gRc),h.rXU(R.dS,8),h.rXU(m.cV,8),h.rXU(m.j4,8),h.rXU(g.es),h.rXU(m.vO,10))};static#t=this.\u0275cmp=h.VBU({type:Le,selectors:[["mat-chip-grid"]],contentQueries:function(ue,Q,Te){if(1&ue&&h.wni(Te,Me,5),2&ue){let Je;h.mGM(Je=h.lsd())&&(Q._chips=Je)}},hostAttrs:[1,"mat-mdc-chip-set","mat-mdc-chip-grid","mdc-evolution-chip-set"],hostVars:10,hostBindings:function(ue,Q){1&ue&&h.bIt("focus",function(){return Q.focus()})("blur",function(){return Q._blur()}),2&ue&&(h.BMQ("role",Q.role)("tabindex",Q.disabled||Q._chips&&0===Q._chips.length?-1:Q.tabIndex)("aria-disabled",Q.disabled.toString())("aria-invalid",Q.errorState),h.AVh("mat-mdc-chip-list-disabled",Q.disabled)("mat-mdc-chip-list-invalid",Q.errorState)("mat-mdc-chip-list-required",Q.required))},inputs:{disabled:[2,"disabled","disabled",h.L39],placeholder:"placeholder",required:[2,"required","required",h.L39],value:"value",errorStateMatcher:"errorStateMatcher"},outputs:{change:"change",valueChange:"valueChange"},standalone:!0,features:[h.Jv_([{provide:v.qT,useExisting:Le}]),h.GFd,h.Vt3,h.aNF],ngContentSelectors:J,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(ue,Q){1&ue&&(h.NAR(),h.j41(0,"div",0),h.SdG(1),h.k0s())},styles:[".mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return Le})(),tt=0,xt=(()=>{class Le{get chipGrid(){return this._chipGrid}set chipGrid(V){V&&(this._chipGrid=V,this._chipGrid.registerInput(this))}get disabled(){return this._disabled||this._chipGrid&&this._chipGrid.disabled}set disabled(V){this._disabled=V}get empty(){return!this.inputElement.value}constructor(V,ue,Q){this._elementRef=V,this.focused=!1,this.addOnBlur=!1,this.chipEnd=new h.bkB,this.placeholder="",this.id="mat-mdc-chip-list-input-"+tt++,this._disabled=!1,this.inputElement=this._elementRef.nativeElement,this.separatorKeyCodes=ue.separatorKeyCodes,Q&&this.inputElement.classList.add("mat-mdc-form-field-input-control")}ngOnChanges(){this._chipGrid.stateChanges.next()}ngOnDestroy(){this.chipEnd.complete()}_keydown(V){this.empty&&V.keyCode===n.G_?(V.repeat||this._chipGrid._focusLastChip(),V.preventDefault()):this._emitChipEnd(V)}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipGrid.focused||this._chipGrid._blur(),this._chipGrid.stateChanges.next()}_focus(){this.focused=!0,this._chipGrid.stateChanges.next()}_emitChipEnd(V){(!V||this._isSeparatorKey(V))&&(this.chipEnd.emit({input:this.inputElement,value:this.inputElement.value,chipInput:this}),V?.preventDefault())}_onInput(){this._chipGrid.stateChanges.next()}focus(){this.inputElement.focus()}clear(){this.inputElement.value=""}setDescribedByIds(V){const ue=this._elementRef.nativeElement;V.length?ue.setAttribute("aria-describedby",V.join(" ")):ue.removeAttribute("aria-describedby")}_isSeparatorKey(V){return!(0,n.rp)(V)&&new Set(this.separatorKeyCodes).has(V.keyCode)}static#e=this.\u0275fac=function(ue){return new(ue||Le)(h.rXU(h.aKT),h.rXU(ne),h.rXU(v.xb,8))};static#t=this.\u0275dir=h.FsC({type:Le,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-mdc-chip-input","mat-mdc-input-element","mdc-text-field__input","mat-input-element"],hostVars:6,hostBindings:function(ue,Q){1&ue&&h.bIt("keydown",function(Je){return Q._keydown(Je)})("blur",function(){return Q._blur()})("focus",function(){return Q._focus()})("input",function(){return Q._onInput()}),2&ue&&(h.Mr5("id",Q.id),h.BMQ("disabled",Q.disabled||null)("placeholder",Q.placeholder||null)("aria-invalid",Q._chipGrid&&Q._chipGrid.ngControl?Q._chipGrid.ngControl.invalid:null)("aria-required",Q._chipGrid&&Q._chipGrid.required||null)("required",Q._chipGrid&&Q._chipGrid.required||null))},inputs:{chipGrid:[0,"matChipInputFor","chipGrid"],addOnBlur:[2,"matChipInputAddOnBlur","addOnBlur",h.L39],separatorKeyCodes:[0,"matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",disabled:[2,"disabled","disabled",h.L39]},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],standalone:!0,features:[h.GFd,h.OA$]})}return Le})(),yt=(()=>{class Le{static#e=this.\u0275fac=function(ue){return new(ue||Le)};static#t=this.\u0275mod=h.$C({type:Le});static#n=this.\u0275inj=h.G2t({providers:[g.es,{provide:ne,useValue:{separatorKeyCodes:[n.Fm]}}],imports:[g.yE,g.pZ,g.yE]})}return Le})()},6600:(gt,re,o)=>{"use strict";o.d(re,{r5:()=>_,ed:()=>C,MJ:()=>ce,es:()=>pe,de:()=>oe,QC:()=>Ft,is:()=>ft,$E:()=>Nt,yE:()=>B,WX:()=>Xe,D7:()=>Ct,wT:()=>on,Sy:()=>Zn,MI:()=>en,wg:()=>wt,r6:()=>qt,Ej:()=>vt,pZ:()=>hn,Ex:()=>tt,X0:()=>K,tO:()=>Ue,jb:()=>_n,TL:()=>Sn});var e=o(3953),n=o(8617),l=o(8203),g=o(177),p=o(6860),f=o(4085),b=o(5286),d=o(7336);const y=["*",[["mat-option"],["ng-container"]]],R=["*","mat-option, ng-container"],m=["text"],v=[[["mat-icon"]],"*"],O=["mat-icon","*"];function S(Pe,Ke){if(1&Pe&&e.nrm(0,"mat-pseudo-checkbox",1),2&Pe){const Ie=e.XpG();e.Y8G("disabled",Ie.disabled)("state",Ie.selected?"checked":"unchecked")}}function P(Pe,Ke){if(1&Pe&&e.nrm(0,"mat-pseudo-checkbox",3),2&Pe){const Ie=e.XpG();e.Y8G("disabled",Ie.disabled)}}function M(Pe,Ke){if(1&Pe&&(e.j41(0,"span",4),e.EFF(1),e.k0s()),2&Pe){const Ie=e.XpG();e.R7$(),e.SpI("(",Ie.group.label,")")}}const w=["mat-internal-form-field",""],x=["*"];let _=(()=>{class Pe{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#i=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return Pe})(),C=(()=>{class Pe{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return Pe})();const A=new e.nKC("mat-sanity-checks",{providedIn:"root",factory:function D(){return!0}});let B=(()=>{class Pe{constructor(Ie,Ze,nt){this._sanityChecks=Ze,this._document=nt,this._hasDoneGlobalChecks=!1,Ie._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(Ie){return!(0,p.v8)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[Ie])}static#e=this.\u0275fac=function(Ze){return new(Ze||Pe)(e.KVO(n.Q_),e.KVO(A,8),e.KVO(g.qQ))};static#t=this.\u0275mod=e.$C({type:Pe});static#n=this.\u0275inj=e.G2t({imports:[l.jI,l.jI]})}return Pe})();class K{constructor(Ke,Ie,Ze,nt,Lt){this._defaultMatcher=Ke,this.ngControl=Ie,this._parentFormGroup=Ze,this._parentForm=nt,this._stateChanges=Lt,this.errorState=!1}updateErrorState(){const Ke=this.errorState,Ie=this._parentFormGroup||this._parentForm,Ze=this.matcher||this._defaultMatcher,nt=this.ngControl?this.ngControl.control:null,Lt=Ze?.isErrorState(nt,Ie)??!1;Lt!==Ke&&(this.errorState=Lt,this._stateChanges.next())}}const W=new e.nKC("MAT_DATE_LOCALE",{providedIn:"root",factory:function ie(){return(0,e.WQX)(e.xe9)}});class ce{constructor(){this._localeChanges=new b.B7,this.localeChanges=this._localeChanges}getValidDateOrNull(Ke){return this.isDateInstance(Ke)&&this.isValid(Ke)?Ke:null}deserialize(Ke){return null==Ke||this.isDateInstance(Ke)&&this.isValid(Ke)?Ke:this.invalid()}setLocale(Ke){this.locale=Ke,this._localeChanges.next()}compareDate(Ke,Ie){return this.getYear(Ke)-this.getYear(Ie)||this.getMonth(Ke)-this.getMonth(Ie)||this.getDate(Ke)-this.getDate(Ie)}sameDate(Ke,Ie){if(Ke&&Ie){let Ze=this.isValid(Ke),nt=this.isValid(Ie);return Ze&&nt?!this.compareDate(Ke,Ie):Ze==nt}return Ke==Ie}clampDate(Ke,Ie,Ze){return Ie&&this.compareDate(Ke,Ie)<0?Ie:Ze&&this.compareDate(Ke,Ze)>0?Ze:Ke}}const oe=new e.nKC("mat-date-formats"),me=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function he(Pe,Ke){const Ie=Array(Pe);for(let Ze=0;Ze<Pe;Ze++)Ie[Ze]=Ke(Ze);return Ie}let Oe=(()=>{class Pe extends ce{constructor(Ie){super(),this.useUtcForDisplay=!1,this._matDateLocale=(0,e.WQX)(W,{optional:!0}),void 0!==Ie&&(this._matDateLocale=Ie),super.setLocale(this._matDateLocale)}getYear(Ie){return Ie.getFullYear()}getMonth(Ie){return Ie.getMonth()}getDate(Ie){return Ie.getDate()}getDayOfWeek(Ie){return Ie.getDay()}getMonthNames(Ie){const Ze=new Intl.DateTimeFormat(this.locale,{month:Ie,timeZone:"utc"});return he(12,nt=>this._format(Ze,new Date(2017,nt,1)))}getDateNames(){const Ie=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return he(31,Ze=>this._format(Ie,new Date(2017,0,Ze+1)))}getDayOfWeekNames(Ie){const Ze=new Intl.DateTimeFormat(this.locale,{weekday:Ie,timeZone:"utc"});return he(7,nt=>this._format(Ze,new Date(2017,0,nt+1)))}getYearName(Ie){const Ze=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(Ze,Ie)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(Ie){return this.getDate(this._createDateWithOverflow(this.getYear(Ie),this.getMonth(Ie)+1,0))}clone(Ie){return new Date(Ie.getTime())}createDate(Ie,Ze,nt){let Lt=this._createDateWithOverflow(Ie,Ze,nt);return Lt.getMonth(),Lt}today(){return new Date}parse(Ie,Ze){return"number"==typeof Ie?new Date(Ie):Ie?new Date(Date.parse(Ie)):null}format(Ie,Ze){if(!this.isValid(Ie))throw Error("NativeDateAdapter: Cannot format invalid date.");const nt=new Intl.DateTimeFormat(this.locale,{...Ze,timeZone:"utc"});return this._format(nt,Ie)}addCalendarYears(Ie,Ze){return this.addCalendarMonths(Ie,12*Ze)}addCalendarMonths(Ie,Ze){let nt=this._createDateWithOverflow(this.getYear(Ie),this.getMonth(Ie)+Ze,this.getDate(Ie));return this.getMonth(nt)!=((this.getMonth(Ie)+Ze)%12+12)%12&&(nt=this._createDateWithOverflow(this.getYear(nt),this.getMonth(nt),0)),nt}addCalendarDays(Ie,Ze){return this._createDateWithOverflow(this.getYear(Ie),this.getMonth(Ie),this.getDate(Ie)+Ze)}toIso8601(Ie){return[Ie.getUTCFullYear(),this._2digit(Ie.getUTCMonth()+1),this._2digit(Ie.getUTCDate())].join("-")}deserialize(Ie){if("string"==typeof Ie){if(!Ie)return null;if(me.test(Ie)){let Ze=new Date(Ie);if(this.isValid(Ze))return Ze}}return super.deserialize(Ie)}isDateInstance(Ie){return Ie instanceof Date}isValid(Ie){return!isNaN(Ie.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(Ie,Ze,nt){const Lt=new Date;return Lt.setFullYear(Ie,Ze,nt),Lt.setHours(0,0,0,0),Lt}_2digit(Ie){return("00"+Ie).slice(-2)}_format(Ie,Ze){const nt=new Date;return nt.setUTCFullYear(Ze.getFullYear(),Ze.getMonth(),Ze.getDate()),nt.setUTCHours(Ze.getHours(),Ze.getMinutes(),Ze.getSeconds(),Ze.getMilliseconds()),Ie.format(nt)}static#e=this.\u0275fac=function(Ze){return new(Ze||Pe)(e.KVO(W,8))};static#t=this.\u0275prov=e.jDH({token:Pe,factory:Pe.\u0275fac})}return Pe})();const we={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Xe=(()=>{class Pe{static#e=this.\u0275fac=function(Ze){return new(Ze||Pe)};static#t=this.\u0275mod=e.$C({type:Pe});static#n=this.\u0275inj=e.G2t({providers:[Me()]})}return Pe})();function Me(Pe=we){return[{provide:ce,useClass:Oe},{provide:oe,useValue:Pe}]}let pe=(()=>{class Pe{isErrorState(Ie,Ze){return!!(Ie&&Ie.invalid&&(Ie.touched||Ze&&Ze.submitted))}static#e=this.\u0275fac=function(Ze){return new(Ze||Pe)};static#t=this.\u0275prov=e.jDH({token:Pe,factory:Pe.\u0275fac,providedIn:"root"})}return Pe})();var tt=function(Pe){return Pe[Pe.FADING_IN=0]="FADING_IN",Pe[Pe.VISIBLE=1]="VISIBLE",Pe[Pe.FADING_OUT=2]="FADING_OUT",Pe[Pe.HIDDEN=3]="HIDDEN",Pe}(tt||{});class xt{constructor(Ke,Ie,Ze,nt=!1){this._renderer=Ke,this.element=Ie,this.config=Ze,this._animationForciblyDisabledThroughCss=nt,this.state=tt.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const Pt=(0,p.BQ)({passive:!0,capture:!0});class yt{constructor(){this._events=new Map,this._delegateEventHandler=Ke=>{const Ie=(0,p.Fb)(Ke);Ie&&this._events.get(Ke.type)?.forEach((Ze,nt)=>{(nt===Ie||nt.contains(Ie))&&Ze.forEach(Lt=>Lt.handleEvent(Ke))})}}addHandler(Ke,Ie,Ze,nt){const Lt=this._events.get(Ie);if(Lt){const jt=Lt.get(Ze);jt?jt.add(nt):Lt.set(Ze,new Set([nt]))}else this._events.set(Ie,new Map([[Ze,new Set([nt])]])),Ke.runOutsideAngular(()=>{document.addEventListener(Ie,this._delegateEventHandler,Pt)})}removeHandler(Ke,Ie,Ze){const nt=this._events.get(Ke);if(!nt)return;const Lt=nt.get(Ie);Lt&&(Lt.delete(Ze),0===Lt.size&&nt.delete(Ie),0===nt.size&&(this._events.delete(Ke),document.removeEventListener(Ke,this._delegateEventHandler,Pt)))}}const Le={enterDuration:225,exitDuration:150},V=(0,p.BQ)({passive:!0,capture:!0}),ue=["mousedown","touchstart"],Q=["mouseup","mouseleave","touchend","touchcancel"];class Te{static#e=this._eventManager=new yt;constructor(Ke,Ie,Ze,nt){this._target=Ke,this._ngZone=Ie,this._platform=nt,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,nt.isBrowser&&(this._containerElement=(0,f.i8)(Ze))}fadeInRipple(Ke,Ie,Ze={}){const nt=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Lt={...Le,...Ze.animation};Ze.centered&&(Ke=nt.left+nt.width/2,Ie=nt.top+nt.height/2);const jt=Ze.radius||function Je(Pe,Ke,Ie){const Ze=Math.max(Math.abs(Pe-Ie.left),Math.abs(Pe-Ie.right)),nt=Math.max(Math.abs(Ke-Ie.top),Math.abs(Ke-Ie.bottom));return Math.sqrt(Ze*Ze+nt*nt)}(Ke,Ie,nt),Dt=Ke-nt.left,nn=Ie-nt.top,Tt=Lt.enterDuration,It=document.createElement("div");It.classList.add("mat-ripple-element"),It.style.left=Dt-jt+"px",It.style.top=nn-jt+"px",It.style.height=2*jt+"px",It.style.width=2*jt+"px",null!=Ze.color&&(It.style.backgroundColor=Ze.color),It.style.transitionDuration=`${Tt}ms`,this._containerElement.appendChild(It);const Gt=window.getComputedStyle(It),tn=Gt.transitionDuration,vn="none"===Gt.transitionProperty||"0s"===tn||"0s, 0s"===tn||0===nt.width&&0===nt.height,wn=new xt(this,It,Ze,vn);It.style.transform="scale3d(1, 1, 1)",wn.state=tt.FADING_IN,Ze.persistent||(this._mostRecentTransientRipple=wn);let ti=null;return!vn&&(Tt||Lt.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Qn=()=>{ti&&(ti.fallbackTimer=null),clearTimeout(Jn),this._finishRippleTransition(wn)},bn=()=>this._destroyRipple(wn),Jn=setTimeout(bn,Tt+100);It.addEventListener("transitionend",Qn),It.addEventListener("transitioncancel",bn),ti={onTransitionEnd:Qn,onTransitionCancel:bn,fallbackTimer:Jn}}),this._activeRipples.set(wn,ti),(vn||!Tt)&&this._finishRippleTransition(wn),wn}fadeOutRipple(Ke){if(Ke.state===tt.FADING_OUT||Ke.state===tt.HIDDEN)return;const Ie=Ke.element,Ze={...Le,...Ke.config.animation};Ie.style.transitionDuration=`${Ze.exitDuration}ms`,Ie.style.opacity="0",Ke.state=tt.FADING_OUT,(Ke._animationForciblyDisabledThroughCss||!Ze.exitDuration)&&this._finishRippleTransition(Ke)}fadeOutAll(){this._getActiveRipples().forEach(Ke=>Ke.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(Ke=>{Ke.config.persistent||Ke.fadeOut()})}setupTriggerEvents(Ke){const Ie=(0,f.i8)(Ke);!this._platform.isBrowser||!Ie||Ie===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=Ie,ue.forEach(Ze=>{Te._eventManager.addHandler(this._ngZone,Ze,Ie,this)}))}handleEvent(Ke){"mousedown"===Ke.type?this._onMousedown(Ke):"touchstart"===Ke.type?this._onTouchStart(Ke):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Q.forEach(Ie=>{this._triggerElement.addEventListener(Ie,this,V)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(Ke){Ke.state===tt.FADING_IN?this._startFadeOutTransition(Ke):Ke.state===tt.FADING_OUT&&this._destroyRipple(Ke)}_startFadeOutTransition(Ke){const Ie=Ke===this._mostRecentTransientRipple,{persistent:Ze}=Ke.config;Ke.state=tt.VISIBLE,!Ze&&(!Ie||!this._isPointerDown)&&Ke.fadeOut()}_destroyRipple(Ke){const Ie=this._activeRipples.get(Ke)??null;this._activeRipples.delete(Ke),this._activeRipples.size||(this._containerRect=null),Ke===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),Ke.state=tt.HIDDEN,null!==Ie&&(Ke.element.removeEventListener("transitionend",Ie.onTransitionEnd),Ke.element.removeEventListener("transitioncancel",Ie.onTransitionCancel),null!==Ie.fallbackTimer&&clearTimeout(Ie.fallbackTimer)),Ke.element.remove()}_onMousedown(Ke){const Ie=(0,n._G)(Ke),Ze=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!Ie&&!Ze&&(this._isPointerDown=!0,this.fadeInRipple(Ke.clientX,Ke.clientY,this._target.rippleConfig))}_onTouchStart(Ke){if(!this._target.rippleDisabled&&!(0,n.w6)(Ke)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const Ie=Ke.changedTouches;if(Ie)for(let Ze=0;Ze<Ie.length;Ze++)this.fadeInRipple(Ie[Ze].clientX,Ie[Ze].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(Ke=>{!Ke.config.persistent&&(Ke.state===tt.VISIBLE||Ke.config.terminateOnPointerUp&&Ke.state===tt.FADING_IN)&&Ke.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const Ke=this._triggerElement;Ke&&(ue.forEach(Ie=>Te._eventManager.removeHandler(Ie,Ke,this)),this._pointerUpEventsRegistered&&(Q.forEach(Ie=>Ke.removeEventListener(Ie,this,V)),this._pointerUpEventsRegistered=!1))}}const Nt=new e.nKC("mat-ripple-global-options");let qt=(()=>{class Pe{get disabled(){return this._disabled}set disabled(Ie){Ie&&this.fadeOutAllNonPersistent(),this._disabled=Ie,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(Ie){this._trigger=Ie,this._setupTriggerEventsIfEnabled()}constructor(Ie,Ze,nt,Lt,jt){this._elementRef=Ie,this._animationMode=jt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Lt||{},this._rippleRenderer=new Te(this,Ze,Ie,nt)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(Ie,Ze=0,nt){return"number"==typeof Ie?this._rippleRenderer.fadeInRipple(Ie,Ze,{...this.rippleConfig,...nt}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...Ie})}static#e=this.\u0275fac=function(Ze){return new(Ze||Pe)(e.rXU(e.aKT),e.rXU(e.SKi),e.rXU(p.OD),e.rXU(Nt,8),e.rXU(e.bc$,8))};static#t=this.\u0275dir=e.FsC({type:Pe,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(Ze,nt){2&Ze&&e.AVh("mat-ripple-unbounded",nt.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return Pe})(),hn=(()=>{class Pe{static#e=this.\u0275fac=function(Ze){return new(Ze||Pe)};static#t=this.\u0275mod=e.$C({type:Pe});static#n=this.\u0275inj=e.G2t({imports:[B,B]})}return Pe})(),wt=(()=>{class Pe{constructor(Ie){this._animationMode=Ie,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(Ze){return new(Ze||Pe)(e.rXU(e.bc$,8))};static#t=this.\u0275cmp=e.VBU({type:Pe,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(Ze,nt){2&Ze&&e.AVh("mat-pseudo-checkbox-indeterminate","indeterminate"===nt.state)("mat-pseudo-checkbox-checked","checked"===nt.state)("mat-pseudo-checkbox-disabled",nt.disabled)("mat-pseudo-checkbox-minimal","minimal"===nt.appearance)("mat-pseudo-checkbox-full","full"===nt.appearance)("_mat-animation-noopable","NoopAnimations"===nt._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[e.aNF],decls:0,vars:0,template:function(Ze,nt){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return Pe})(),Zt=(()=>{class Pe{static#e=this.\u0275fac=function(Ze){return new(Ze||Pe)};static#t=this.\u0275mod=e.$C({type:Pe});static#n=this.\u0275inj=e.G2t({imports:[B]})}return Pe})();const ft=new e.nKC("MAT_OPTION_PARENT_COMPONENT");let lt=0;const Ft=new e.nKC("MatOptgroup");let Ct=(()=>{class Pe{constructor(Ie){this.disabled=!1,this._labelId="mat-optgroup-label-"+lt++,this._inert=Ie?.inertGroups??!1}static#e=this.\u0275fac=function(Ze){return new(Ze||Pe)(e.rXU(ft,8))};static#t=this.\u0275cmp=e.VBU({type:Pe,selectors:[["mat-optgroup"]],hostAttrs:[1,"mat-mdc-optgroup"],hostVars:3,hostBindings:function(Ze,nt){2&Ze&&e.BMQ("role",nt._inert?null:"group")("aria-disabled",nt._inert?null:nt.disabled.toString())("aria-labelledby",nt._inert?null:nt._labelId)},inputs:{label:"label",disabled:[2,"disabled","disabled",e.L39]},exportAs:["matOptgroup"],standalone:!0,features:[e.Jv_([{provide:Ft,useExisting:Pe}]),e.GFd,e.aNF],ngContentSelectors:R,decls:5,vars:4,consts:[["role","presentation",1,"mat-mdc-optgroup-label",3,"id"],[1,"mdc-list-item__primary-text"]],template:function(Ze,nt){1&Ze&&(e.NAR(y),e.j41(0,"span",0)(1,"span",1),e.EFF(2),e.SdG(3),e.k0s()(),e.SdG(4,1)),2&Ze&&(e.AVh("mdc-list-item--disabled",nt.disabled),e.Y8G("id",nt._labelId),e.R7$(2),e.SpI("",nt.label," "))},styles:[".mat-mdc-optgroup{color:var(--mat-optgroup-label-text-color);font-family:var(--mat-optgroup-label-text-font);line-height:var(--mat-optgroup-label-text-line-height);font-size:var(--mat-optgroup-label-text-size);letter-spacing:var(--mat-optgroup-label-text-tracking);font-weight:var(--mat-optgroup-label-text-weight)}.mat-mdc-optgroup-label{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;outline:none}.mat-mdc-optgroup-label.mdc-list-item--disabled{opacity:.38}.mat-mdc-optgroup-label .mdc-list-item__primary-text{font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;white-space:normal}"],encapsulation:2,changeDetection:0})}return Pe})(),Wt=0;class en{constructor(Ke,Ie=!1){this.source=Ke,this.isUserInput=Ie}}let on=(()=>{class Pe{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(Ie){this._disabled=Ie}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(Ie,Ze,nt,Lt){this._element=Ie,this._changeDetectorRef=Ze,this._parent=nt,this.group=Lt,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Wt++,this.onSelectionChange=new e.bkB,this._stateChanges=new b.B7}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(Ie=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),Ie&&this._emitSelectionChangeEvent())}deselect(Ie=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),Ie&&this._emitSelectionChangeEvent())}focus(Ie,Ze){const nt=this._getHostElement();"function"==typeof nt.focus&&nt.focus(Ze)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(Ie){(Ie.keyCode===d.Fm||Ie.keyCode===d.t6)&&!(0,d.rp)(Ie)&&(this._selectViaInteraction(),Ie.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const Ie=this.viewValue;Ie!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=Ie)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(Ie=!1){this.onSelectionChange.emit(new en(this,Ie))}static#e=this.\u0275fac=function(Ze){return new(Ze||Pe)(e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(ft,8),e.rXU(Ft,8))};static#t=this.\u0275cmp=e.VBU({type:Pe,selectors:[["mat-option"]],viewQuery:function(Ze,nt){if(1&Ze&&e.GBs(m,7),2&Ze){let Lt;e.mGM(Lt=e.lsd())&&(nt._text=Lt.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(Ze,nt){1&Ze&&e.bIt("click",function(){return nt._selectViaInteraction()})("keydown",function(jt){return nt._handleKeydown(jt)}),2&Ze&&(e.Mr5("id",nt.id),e.BMQ("aria-selected",nt.selected)("aria-disabled",nt.disabled.toString()),e.AVh("mdc-list-item--selected",nt.selected)("mat-mdc-option-multiple",nt.multiple)("mat-mdc-option-active",nt.active)("mdc-list-item--disabled",nt.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",e.L39]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[e.GFd,e.aNF],ngContentSelectors:O,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(Ze,nt){1&Ze&&(e.NAR(v),e.DNE(0,S,1,2,"mat-pseudo-checkbox",1),e.SdG(1),e.j41(2,"span",2,0),e.SdG(4,1),e.k0s(),e.DNE(5,P,1,1,"mat-pseudo-checkbox",3)(6,M,2,1,"span",4),e.nrm(7,"div",5)),2&Ze&&(e.vxM(nt.multiple?0:-1),e.R7$(5),e.vxM(nt.multiple||!nt.selected||nt.hideSingleSelectionIndicator?-1:5),e.R7$(),e.vxM(nt.group&&nt.group._inert?6:-1),e.R7$(),e.Y8G("matRippleTrigger",nt._getHostElement())("matRippleDisabled",nt.disabled||nt.disableRipple))},dependencies:[wt,qt],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight)}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return Pe})();function _n(Pe,Ke,Ie){if(Ie.length){let Ze=Ke.toArray(),nt=Ie.toArray(),Lt=0;for(let jt=0;jt<Pe+1;jt++)Ze[jt].group&&Ze[jt].group===nt[Lt]&&Lt++;return Lt}return 0}function Sn(Pe,Ke,Ie,Ze){return Pe<Ie?Pe:Pe+Ke>Ie+Ze?Math.max(0,Pe-Ze+Ke):Ie}let Zn=(()=>{class Pe{static#e=this.\u0275fac=function(Ze){return new(Ze||Pe)};static#t=this.\u0275mod=e.$C({type:Pe});static#n=this.\u0275inj=e.G2t({imports:[hn,B,Zt]})}return Pe})();const ut={capture:!0},be=["focus","mousedown","mouseenter","touchstart"],Fe="mat-ripple-loader-uninitialized",ae="mat-ripple-loader-class-name",ve="mat-ripple-loader-centered",ze="mat-ripple-loader-disabled";let vt=(()=>{class Pe{constructor(){this._document=(0,e.WQX)(g.qQ,{optional:!0}),this._animationMode=(0,e.WQX)(e.bc$,{optional:!0}),this._globalRippleOptions=(0,e.WQX)(Nt,{optional:!0}),this._platform=(0,e.WQX)(p.OD),this._ngZone=(0,e.WQX)(e.SKi),this._hosts=new Map,this._onInteraction=Ie=>{const Ze=(0,p.Fb)(Ie);if(Ze instanceof HTMLElement){const nt=Ze.closest(`[${Fe}="${this._globalRippleOptions?.namespace??""}"]`);nt&&this._createRipple(nt)}},this._ngZone.runOutsideAngular(()=>{for(const Ie of be)this._document?.addEventListener(Ie,this._onInteraction,ut)})}ngOnDestroy(){const Ie=this._hosts.keys();for(const Ze of Ie)this.destroyRipple(Ze);for(const Ze of be)this._document?.removeEventListener(Ze,this._onInteraction,ut)}configureRipple(Ie,Ze){Ie.setAttribute(Fe,this._globalRippleOptions?.namespace??""),(Ze.className||!Ie.hasAttribute(ae))&&Ie.setAttribute(ae,Ze.className||""),Ze.centered&&Ie.setAttribute(ve,""),Ze.disabled&&Ie.setAttribute(ze,"")}getRipple(Ie){return this._hosts.get(Ie)||this._createRipple(Ie)}setDisabled(Ie,Ze){const nt=this._hosts.get(Ie);nt?nt.disabled=Ze:Ze?Ie.setAttribute(ze,""):Ie.removeAttribute(ze)}_createRipple(Ie){if(!this._document)return;const Ze=this._hosts.get(Ie);if(Ze)return Ze;Ie.querySelector(".mat-ripple")?.remove();const nt=this._document.createElement("span");nt.classList.add("mat-ripple",Ie.getAttribute(ae)),Ie.append(nt);const Lt=new qt(new e.aKT(nt),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return Lt._isInitialized=!0,Lt.trigger=Ie,Lt.centered=Ie.hasAttribute(ve),Lt.disabled=Ie.hasAttribute(ze),this.attachRipple(Ie,Lt),Lt}attachRipple(Ie,Ze){Ie.removeAttribute(Fe),this._hosts.set(Ie,Ze)}destroyRipple(Ie){const Ze=this._hosts.get(Ie);Ze&&(Ze.ngOnDestroy(),this._hosts.delete(Ie))}static#e=this.\u0275fac=function(Ze){return new(Ze||Pe)};static#t=this.\u0275prov=e.jDH({token:Pe,factory:Pe.\u0275fac,providedIn:"root"})}return Pe})(),Ue=(()=>{class Pe{static#e=this.\u0275fac=function(Ze){return new(Ze||Pe)};static#t=this.\u0275cmp=e.VBU({type:Pe,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(Ze,nt){2&Ze&&e.AVh("mdc-form-field--align-end","before"===nt.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[e.aNF],attrs:w,ngContentSelectors:x,decls:1,vars:0,template:function(Ze,nt){1&Ze&&(e.NAR(),e.SdG(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}return Pe})()},5084:(gt,re,o)=>{"use strict";o.d(re,{Vh:()=>jt,X6:()=>kt,bU:()=>vn,bZ:()=>At});var e=o(8617),n=o(7987),l=o(6939),h=o(177),g=o(3953),p=o(8834),f=o(494),b=o(6600),d=o(5286),y=o(4337),R=o(4670),m=o(4421),v=o(7336),O=o(8203),S=o(6860),P=o(3176),M=o(9493),w=o(8728),x=o(4085),I=o(9969),_=o(9417),C=o(3719),D=o(9631);const A=["mat-calendar-body",""];function B(xe,Mt){return this._trackRow(Mt)}const F=(xe,Mt)=>Mt.id;function $(xe,Mt){if(1&xe&&(g.j41(0,"tr",0)(1,"td",3),g.EFF(2),g.k0s()()),2&xe){const Z=g.XpG();g.R7$(),g.xc7("padding-top",Z._cellPadding)("padding-bottom",Z._cellPadding),g.BMQ("colspan",Z.numCols),g.R7$(),g.SpI(" ",Z.label," ")}}function U(xe,Mt){if(1&xe&&(g.j41(0,"td",3),g.EFF(1),g.k0s()),2&xe){const Z=g.XpG(2);g.xc7("padding-top",Z._cellPadding)("padding-bottom",Z._cellPadding),g.BMQ("colspan",Z._firstRowOffset),g.R7$(),g.SpI(" ",Z._firstRowOffset>=Z.labelMinRequiredCells?Z.label:""," ")}}function G(xe,Mt){if(1&xe){const Z=g.RV6();g.j41(0,"td",6)(1,"button",7),g.bIt("click",function(Ve){const _t=g.eBV(Z).$implicit,Qt=g.XpG(2);return g.Njj(Qt._cellClicked(_t,Ve))})("focus",function(Ve){const _t=g.eBV(Z).$implicit,Qt=g.XpG(2);return g.Njj(Qt._emitActiveDateChange(_t,Ve))}),g.j41(2,"span",8),g.EFF(3),g.k0s(),g.nrm(4,"span",9),g.k0s()()}if(2&xe){const Z=Mt.$implicit,Ae=Mt.$index,Ve=g.XpG().$index,_t=g.XpG();g.xc7("width",_t._cellWidth)("padding-top",_t._cellPadding)("padding-bottom",_t._cellPadding),g.BMQ("data-mat-row",Ve)("data-mat-col",Ae),g.R7$(),g.AVh("mat-calendar-body-disabled",!Z.enabled)("mat-calendar-body-active",_t._isActiveCell(Ve,Ae))("mat-calendar-body-range-start",_t._isRangeStart(Z.compareValue))("mat-calendar-body-range-end",_t._isRangeEnd(Z.compareValue))("mat-calendar-body-in-range",_t._isInRange(Z.compareValue))("mat-calendar-body-comparison-bridge-start",_t._isComparisonBridgeStart(Z.compareValue,Ve,Ae))("mat-calendar-body-comparison-bridge-end",_t._isComparisonBridgeEnd(Z.compareValue,Ve,Ae))("mat-calendar-body-comparison-start",_t._isComparisonStart(Z.compareValue))("mat-calendar-body-comparison-end",_t._isComparisonEnd(Z.compareValue))("mat-calendar-body-in-comparison-range",_t._isInComparisonRange(Z.compareValue))("mat-calendar-body-preview-start",_t._isPreviewStart(Z.compareValue))("mat-calendar-body-preview-end",_t._isPreviewEnd(Z.compareValue))("mat-calendar-body-in-preview",_t._isInPreview(Z.compareValue)),g.Y8G("ngClass",Z.cssClasses)("tabindex",_t._isActiveCell(Ve,Ae)?0:-1),g.BMQ("aria-label",Z.ariaLabel)("aria-disabled",!Z.enabled||null)("aria-pressed",_t._isSelected(Z.compareValue))("aria-current",_t.todayValue===Z.compareValue?"date":null)("aria-describedby",_t._getDescribedby(Z.compareValue)),g.R7$(),g.AVh("mat-calendar-body-selected",_t._isSelected(Z.compareValue))("mat-calendar-body-comparison-identical",_t._isComparisonIdentical(Z.compareValue))("mat-calendar-body-today",_t.todayValue===Z.compareValue),g.R7$(),g.SpI(" ",Z.displayValue," ")}}function J(xe,Mt){if(1&xe&&(g.j41(0,"tr",1),g.DNE(1,U,2,6,"td",4),g.Z7z(2,G,5,48,"td",5,F),g.k0s()),2&xe){const Z=Mt.$implicit,Ae=Mt.$index,Ve=g.XpG();g.R7$(),g.vxM(0===Ae&&Ve._firstRowOffset?1:-1),g.R7$(),g.Dyx(Z)}}function te(xe,Mt){if(1&xe&&(g.j41(0,"th",2)(1,"span",6),g.EFF(2),g.k0s(),g.j41(3,"span",3),g.EFF(4),g.k0s()()),2&xe){const Z=Mt.$implicit;g.R7$(2),g.JRh(Z.long),g.R7$(2),g.JRh(Z.narrow)}}const ne=["*"];function K(xe,Mt){}function k(xe,Mt){if(1&xe){const Z=g.RV6();g.j41(0,"mat-month-view",4),g.mxI("activeDateChange",function(Ve){g.eBV(Z);const _t=g.XpG();return g.DH7(_t.activeDate,Ve)||(_t.activeDate=Ve),g.Njj(Ve)}),g.bIt("_userSelection",function(Ve){g.eBV(Z);const _t=g.XpG();return g.Njj(_t._dateSelected(Ve))})("dragStarted",function(Ve){g.eBV(Z);const _t=g.XpG();return g.Njj(_t._dragStarted(Ve))})("dragEnded",function(Ve){g.eBV(Z);const _t=g.XpG();return g.Njj(_t._dragEnded(Ve))}),g.k0s()}if(2&xe){const Z=g.XpG();g.R50("activeDate",Z.activeDate),g.Y8G("selected",Z.selected)("dateFilter",Z.dateFilter)("maxDate",Z.maxDate)("minDate",Z.minDate)("dateClass",Z.dateClass)("comparisonStart",Z.comparisonStart)("comparisonEnd",Z.comparisonEnd)("startDateAccessibleName",Z.startDateAccessibleName)("endDateAccessibleName",Z.endDateAccessibleName)("activeDrag",Z._activeDrag)}}function j(xe,Mt){if(1&xe){const Z=g.RV6();g.j41(0,"mat-year-view",5),g.mxI("activeDateChange",function(Ve){g.eBV(Z);const _t=g.XpG();return g.DH7(_t.activeDate,Ve)||(_t.activeDate=Ve),g.Njj(Ve)}),g.bIt("monthSelected",function(Ve){g.eBV(Z);const _t=g.XpG();return g.Njj(_t._monthSelectedInYearView(Ve))})("selectedChange",function(Ve){g.eBV(Z);const _t=g.XpG();return g.Njj(_t._goToDateInView(Ve,"month"))}),g.k0s()}if(2&xe){const Z=g.XpG();g.R50("activeDate",Z.activeDate),g.Y8G("selected",Z.selected)("dateFilter",Z.dateFilter)("maxDate",Z.maxDate)("minDate",Z.minDate)("dateClass",Z.dateClass)}}function W(xe,Mt){if(1&xe){const Z=g.RV6();g.j41(0,"mat-multi-year-view",6),g.mxI("activeDateChange",function(Ve){g.eBV(Z);const _t=g.XpG();return g.DH7(_t.activeDate,Ve)||(_t.activeDate=Ve),g.Njj(Ve)}),g.bIt("yearSelected",function(Ve){g.eBV(Z);const _t=g.XpG();return g.Njj(_t._yearSelectedInMultiYearView(Ve))})("selectedChange",function(Ve){g.eBV(Z);const _t=g.XpG();return g.Njj(_t._goToDateInView(Ve,"year"))}),g.k0s()}if(2&xe){const Z=g.XpG();g.R50("activeDate",Z.activeDate),g.Y8G("selected",Z.selected)("dateFilter",Z.dateFilter)("maxDate",Z.maxDate)("minDate",Z.minDate)("dateClass",Z.dateClass)}}function ie(xe,Mt){}const ce=["button"],oe=[[["","matDatepickerToggleIcon",""]]],me=["[matDatepickerToggleIcon]"];function he(xe,Mt){1&xe&&(g.qSk(),g.j41(0,"svg",2),g.nrm(1,"path",3),g.k0s())}let Me=(()=>{class xe{constructor(){this.changes=new d.B7,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(Z,Ae){return`${Z} \u2013 ${Ae}`}formatYearRangeLabel(Z,Ae){return`${Z} to ${Ae}`}static#e=this.\u0275fac=function(Ae){return new(Ae||xe)};static#t=this.\u0275prov=g.jDH({token:xe,factory:xe.\u0275fac,providedIn:"root"})}return xe})(),ge=0;class pe{constructor(Mt,Z,Ae,Ve,_t={},Qt=Mt,Pn){this.value=Mt,this.displayValue=Z,this.ariaLabel=Ae,this.enabled=Ve,this.cssClasses=_t,this.compareValue=Qt,this.rawValue=Pn,this.id=ge++}}let Ee=1;const Ge=(0,S.BQ)({passive:!1,capture:!0}),Qe=(0,S.BQ)({passive:!0,capture:!0}),$e=(0,S.BQ)({passive:!0});let tt=(()=>{class xe{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(Z,Ae){this._elementRef=Z,this._ngZone=Ae,this._platform=(0,g.WQX)(S.OD),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new g.bkB,this.previewChange=new g.bkB,this.activeDateChange=new g.bkB,this.dragStarted=new g.bkB,this.dragEnded=new g.bkB,this._didDragSinceMouseDown=!1,this._injector=(0,g.WQX)(g.zZn),this._trackRow=Ve=>Ve,this._enterHandler=Ve=>{if(this._skipNextFocus&&"focus"===Ve.type)this._skipNextFocus=!1;else if(Ve.target&&this.isRange){const _t=this._getCellFromElement(Ve.target);_t&&this._ngZone.run(()=>this.previewChange.emit({value:_t.enabled?_t:null,event:Ve}))}},this._touchmoveHandler=Ve=>{if(!this.isRange)return;const _t=V(Ve),Qt=_t?this._getCellFromElement(_t):null;_t!==Ve.target&&(this._didDragSinceMouseDown=!0),Pt(Ve.target)&&Ve.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:Qt?.enabled?Qt:null,event:Ve}))},this._leaveHandler=Ve=>{null!==this.previewEnd&&this.isRange&&("blur"!==Ve.type&&(this._didDragSinceMouseDown=!0),Ve.target&&this._getCellFromElement(Ve.target)&&(!Ve.relatedTarget||!this._getCellFromElement(Ve.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:Ve})))},this._mousedownHandler=Ve=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const _t=Ve.target&&this._getCellFromElement(Ve.target);!_t||!this._isInRange(_t.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:_t.rawValue,event:Ve})})},this._mouseupHandler=Ve=>{if(!this.isRange)return;const _t=Pt(Ve.target);_t?_t.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const Qt=this._getCellFromElement(_t);this.dragEnded.emit({value:Qt?.rawValue??null,event:Ve})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:Ve})})},this._touchendHandler=Ve=>{const _t=V(Ve);_t&&this._mouseupHandler({target:_t})},this._id="mat-calendar-body-"+Ee++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,Ae.runOutsideAngular(()=>{const Ve=Z.nativeElement;Ve.addEventListener("touchmove",this._touchmoveHandler,Ge),Ve.addEventListener("mouseenter",this._enterHandler,Qe),Ve.addEventListener("focus",this._enterHandler,Qe),Ve.addEventListener("mouseleave",this._leaveHandler,Qe),Ve.addEventListener("blur",this._leaveHandler,Qe),Ve.addEventListener("mousedown",this._mousedownHandler,$e),Ve.addEventListener("touchstart",this._mousedownHandler,$e),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(Z,Ae){this._didDragSinceMouseDown||Z.enabled&&this.selectedValueChange.emit({value:Z.value,event:Ae})}_emitActiveDateChange(Z,Ae){Z.enabled&&this.activeDateChange.emit({value:Z.value,event:Ae})}_isSelected(Z){return this.startValue===Z||this.endValue===Z}ngOnChanges(Z){const Ae=Z.numCols,{rows:Ve,numCols:_t}=this;(Z.rows||Ae)&&(this._firstRowOffset=Ve&&Ve.length&&Ve[0].length?_t-Ve[0].length:0),(Z.cellAspectRatio||Ae||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/_t+"%"),(Ae||!this._cellWidth)&&(this._cellWidth=100/_t+"%")}ngOnDestroy(){const Z=this._elementRef.nativeElement;Z.removeEventListener("touchmove",this._touchmoveHandler,Ge),Z.removeEventListener("mouseenter",this._enterHandler,Qe),Z.removeEventListener("focus",this._enterHandler,Qe),Z.removeEventListener("mouseleave",this._leaveHandler,Qe),Z.removeEventListener("blur",this._leaveHandler,Qe),Z.removeEventListener("mousedown",this._mousedownHandler,$e),Z.removeEventListener("touchstart",this._mousedownHandler,$e),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(Z,Ae){let Ve=Z*this.numCols+Ae;return Z&&(Ve-=this._firstRowOffset),Ve==this.activeCell}_focusActiveCell(Z=!0){(0,g.mal)(()=>{setTimeout(()=>{const Ae=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");Ae&&(Z||(this._skipNextFocus=!0),Ae.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(Z){return yt(Z,this.startValue,this.endValue)}_isRangeEnd(Z){return Le(Z,this.startValue,this.endValue)}_isInRange(Z){return De(Z,this.startValue,this.endValue,this.isRange)}_isComparisonStart(Z){return yt(Z,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(Z,Ae,Ve){if(!this._isComparisonStart(Z)||this._isRangeStart(Z)||!this._isInRange(Z))return!1;let _t=this.rows[Ae][Ve-1];if(!_t){const Qt=this.rows[Ae-1];_t=Qt&&Qt[Qt.length-1]}return _t&&!this._isRangeEnd(_t.compareValue)}_isComparisonBridgeEnd(Z,Ae,Ve){if(!this._isComparisonEnd(Z)||this._isRangeEnd(Z)||!this._isInRange(Z))return!1;let _t=this.rows[Ae][Ve+1];if(!_t){const Qt=this.rows[Ae+1];_t=Qt&&Qt[0]}return _t&&!this._isRangeStart(_t.compareValue)}_isComparisonEnd(Z){return Le(Z,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(Z){return De(Z,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(Z){return this.comparisonStart===this.comparisonEnd&&Z===this.comparisonStart}_isPreviewStart(Z){return yt(Z,this.previewStart,this.previewEnd)}_isPreviewEnd(Z){return Le(Z,this.previewStart,this.previewEnd)}_isInPreview(Z){return De(Z,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(Z){return this.isRange?this.startValue===Z&&this.endValue===Z?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===Z?this._startDateLabelId:this.endValue===Z?this._endDateLabelId:null:null}_getCellFromElement(Z){const Ae=Pt(Z);if(Ae){const Ve=Ae.getAttribute("data-mat-row"),_t=Ae.getAttribute("data-mat-col");if(Ve&&_t)return this.rows[parseInt(Ve)][parseInt(_t)]}return null}static#e=this.\u0275fac=function(Ae){return new(Ae||xe)(g.rXU(g.aKT),g.rXU(g.SKi))};static#t=this.\u0275cmp=g.VBU({type:xe,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],standalone:!0,features:[g.OA$,g.aNF],attrs:A,decls:7,vars:5,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(Ae,Ve){1&Ae&&(g.DNE(0,$,3,6,"tr",0),g.Z7z(1,J,4,1,"tr",1,B,!0),g.j41(3,"label",2),g.EFF(4),g.k0s(),g.j41(5,"label",2),g.EFF(6),g.k0s()),2&Ae&&(g.vxM(Ve._firstRowOffset<Ve.labelMinRequiredCells?0:-1),g.R7$(),g.Dyx(Ve.rows),g.R7$(2),g.Y8G("id",Ve._startDateLabelId),g.R7$(),g.SpI(" ",Ve.startDateAccessibleName,"\n"),g.R7$(),g.Y8G("id",Ve._endDateLabelId),g.R7$(),g.SpI(" ",Ve.endDateAccessibleName,"\n"))},dependencies:[h.YU],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color)}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size);font-weight:var(--mat-datepicker-calendar-body-label-text-weight);color:var(--mat-datepicker-calendar-body-label-text-color)}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color)}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color);border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color);color:var(--mat-datepicker-calendar-date-selected-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color)}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color)}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color)}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}'],encapsulation:2,changeDetection:0})}return xe})();function xt(xe){return"TD"===xe?.nodeName}function Pt(xe){let Mt;return xt(xe)?Mt=xe:xt(xe.parentNode)?Mt=xe.parentNode:xt(xe.parentNode?.parentNode)&&(Mt=xe.parentNode.parentNode),null!=Mt?.getAttribute("data-mat-row")?Mt:null}function yt(xe,Mt,Z){return null!==Z&&Mt!==Z&&xe<Z&&xe===Mt}function Le(xe,Mt,Z){return null!==Mt&&Mt!==Z&&xe>=Mt&&xe===Z}function De(xe,Mt,Z,Ae){return Ae&&null!==Mt&&null!==Z&&Mt!==Z&&xe>=Mt&&xe<=Z}function V(xe){const Mt=xe.changedTouches[0];return document.elementFromPoint(Mt.clientX,Mt.clientY)}class ue{constructor(Mt,Z){this.start=Mt,this.end=Z}}let Q=(()=>{class xe{constructor(Z,Ae){this.selection=Z,this._adapter=Ae,this._selectionChanged=new d.B7,this.selectionChanged=this._selectionChanged,this.selection=Z}updateSelection(Z,Ae){const Ve=this.selection;this.selection=Z,this._selectionChanged.next({selection:Z,source:Ae,oldValue:Ve})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(Z){return this._adapter.isDateInstance(Z)&&this._adapter.isValid(Z)}static#e=this.\u0275fac=function(Ae){g.QTQ()};static#t=this.\u0275prov=g.jDH({token:xe,factory:xe.\u0275fac})}return xe})(),Te=(()=>{class xe extends Q{constructor(Z){super(null,Z)}add(Z){super.updateSelection(Z,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const Z=new xe(this._adapter);return Z.updateSelection(this.selection,this),Z}static#e=this.\u0275fac=function(Ae){return new(Ae||xe)(g.KVO(b.MJ))};static#t=this.\u0275prov=g.jDH({token:xe,factory:xe.\u0275fac})}return xe})();const qt={provide:Q,deps:[[new g.Xx1,new g.kdw,Q],b.MJ],useFactory:function Nt(xe,Mt){return xe||new Te(Mt)}},Zt=new g.nKC("MAT_DATE_RANGE_SELECTION_STRATEGY");let Wt=0,en=(()=>{class xe{get activeDate(){return this._activeDate}set activeDate(Z){const Ae=this._activeDate,Ve=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Z))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(Ve,this.minDate,this.maxDate),this._hasSameMonthAndYear(Ae,this._activeDate)||this._init()}get selected(){return this._selected}set selected(Z){this._selected=Z instanceof ue?Z:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Z)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(Z){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Z))}get maxDate(){return this._maxDate}set maxDate(Z){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Z))}constructor(Z,Ae,Ve,_t,Qt){this._changeDetectorRef=Z,this._dateFormats=Ae,this._dateAdapter=Ve,this._dir=_t,this._rangeStrategy=Qt,this._rerenderSubscription=y.y.EMPTY,this.activeDrag=null,this.selectedChange=new g.bkB,this._userSelection=new g.bkB,this.dragStarted=new g.bkB,this.dragEnded=new g.bkB,this.activeDateChange=new g.bkB,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,P.Z)(null)).subscribe(()=>this._init())}ngOnChanges(Z){const Ae=Z.comparisonStart||Z.comparisonEnd;Ae&&!Ae.firstChange&&this._setRanges(this.selected),Z.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(Z){const Ae=Z.value,Ve=this._getDateFromDayOfMonth(Ae);let _t,Qt;this._selected instanceof ue?(_t=this._getDateInCurrentMonth(this._selected.start),Qt=this._getDateInCurrentMonth(this._selected.end)):_t=Qt=this._getDateInCurrentMonth(this._selected),(_t!==Ae||Qt!==Ae)&&this.selectedChange.emit(Ve),this._userSelection.emit({value:Ve,event:Z.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(Z){const Ve=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(Z.value),this._dateAdapter.compareDate(Ve,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(Z){const Ae=this._activeDate,Ve=this._isRtl();switch(Z.keyCode){case v.UQ:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,Ve?1:-1);break;case v.LE:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,Ve?-1:1);break;case v.i7:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case v.n6:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case v.yZ:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case v.Kp:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case v.w_:this.activeDate=Z.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case v.dB:this.activeDate=Z.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case v.Fm:case v.t6:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&Z.preventDefault());case v._f:return void(null!=this._previewEnd&&!(0,v.rp)(Z)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:Z}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:Z})),Z.preventDefault(),Z.stopPropagation()));default:return}this._dateAdapter.compareDate(Ae,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),Z.preventDefault()}_handleCalendarBodyKeyup(Z){(Z.keyCode===v.t6||Z.keyCode===v.Fm)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:Z}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let Z=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(Z)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(Z){this._matCalendarBody._focusActiveCell(Z)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:Z,value:Ae}){if(this._rangeStrategy){const Ve=Ae?Ae.rawValue:null,_t=this._rangeStrategy.createPreview(Ve,this.selected,Z);if(this._previewStart=this._getCellCompareValue(_t.start),this._previewEnd=this._getCellCompareValue(_t.end),this.activeDrag&&Ve){const Qt=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,Ve,Z);Qt&&(this._previewStart=this._getCellCompareValue(Qt.start),this._previewEnd=this._getCellCompareValue(Qt.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(Z){if(this.activeDrag)if(Z.value){const Ae=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,Z.value,Z.event);this.dragEnded.emit({value:Ae??null,event:Z.event})}else this.dragEnded.emit({value:null,event:Z.event})}_getDateFromDayOfMonth(Z){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),Z)}_initWeekdays(){const Z=this._dateAdapter.getFirstDayOfWeek(),Ae=this._dateAdapter.getDayOfWeekNames("narrow");let _t=this._dateAdapter.getDayOfWeekNames("long").map((Qt,Pn)=>({long:Qt,narrow:Ae[Pn],id:Wt++}));this._weekdays=_t.slice(Z).concat(_t.slice(0,Z))}_createWeekCells(){const Z=this._dateAdapter.getNumDaysInMonth(this.activeDate),Ae=this._dateAdapter.getDateNames();this._weeks=[[]];for(let Ve=0,_t=this._firstWeekOffset;Ve<Z;Ve++,_t++){7==_t&&(this._weeks.push([]),_t=0);const Qt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),Ve+1),Pn=this._shouldEnableDate(Qt),ui=this._dateAdapter.format(Qt,this._dateFormats.display.dateA11yLabel),vi=this.dateClass?this.dateClass(Qt,"month"):void 0;this._weeks[this._weeks.length-1].push(new pe(Ve+1,Ae[Ve],ui,Pn,vi,this._getCellCompareValue(Qt),Qt))}}_shouldEnableDate(Z){return!!Z&&(!this.minDate||this._dateAdapter.compareDate(Z,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(Z,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(Z))}_getDateInCurrentMonth(Z){return Z&&this._hasSameMonthAndYear(Z,this.activeDate)?this._dateAdapter.getDate(Z):null}_hasSameMonthAndYear(Z,Ae){return!(!Z||!Ae||this._dateAdapter.getMonth(Z)!=this._dateAdapter.getMonth(Ae)||this._dateAdapter.getYear(Z)!=this._dateAdapter.getYear(Ae))}_getCellCompareValue(Z){if(Z){const Ae=this._dateAdapter.getYear(Z),Ve=this._dateAdapter.getMonth(Z),_t=this._dateAdapter.getDate(Z);return new Date(Ae,Ve,_t).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(Z){Z instanceof ue?(this._rangeStart=this._getCellCompareValue(Z.start),this._rangeEnd=this._getCellCompareValue(Z.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(Z),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(Z){return!this.dateFilter||this.dateFilter(Z)}_clearPreview(){this._previewStart=this._previewEnd=null}static#e=this.\u0275fac=function(Ae){return new(Ae||xe)(g.rXU(g.gRc),g.rXU(b.de,8),g.rXU(b.MJ,8),g.rXU(O.dS,8),g.rXU(Zt,8))};static#t=this.\u0275cmp=g.VBU({type:xe,selectors:[["mat-month-view"]],viewQuery:function(Ae,Ve){if(1&Ae&&g.GBs(tt,5),2&Ae){let _t;g.mGM(_t=g.lsd())&&(Ve._matCalendarBody=_t.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],standalone:!0,features:[g.OA$,g.aNF],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(Ae,Ve){1&Ae&&(g.j41(0,"table",0)(1,"thead",1)(2,"tr"),g.Z7z(3,te,5,2,"th",2,F),g.k0s(),g.j41(5,"tr",3),g.nrm(6,"th",4),g.k0s()(),g.j41(7,"tbody",5),g.bIt("selectedValueChange",function(Qt){return Ve._dateSelected(Qt)})("activeDateChange",function(Qt){return Ve._updateActiveDate(Qt)})("previewChange",function(Qt){return Ve._previewChanged(Qt)})("dragStarted",function(Qt){return Ve.dragStarted.emit(Qt)})("dragEnded",function(Qt){return Ve._dragEnded(Qt)})("keyup",function(Qt){return Ve._handleCalendarBodyKeyup(Qt)})("keydown",function(Qt){return Ve._handleCalendarBodyKeydown(Qt)}),g.k0s()()),2&Ae&&(g.R7$(3),g.Dyx(Ve._weekdays),g.R7$(4),g.Y8G("label",Ve._monthLabel)("rows",Ve._weeks)("todayValue",Ve._todayDate)("startValue",Ve._rangeStart)("endValue",Ve._rangeEnd)("comparisonStart",Ve._comparisonRangeStart)("comparisonEnd",Ve._comparisonRangeEnd)("previewStart",Ve._previewStart)("previewEnd",Ve._previewEnd)("isRange",Ve._isRange)("labelMinRequiredCells",3)("activeCell",Ve._dateAdapter.getDate(Ve.activeDate)-1)("startDateAccessibleName",Ve.startDateAccessibleName)("endDateAccessibleName",Ve.endDateAccessibleName))},dependencies:[tt],encapsulation:2,changeDetection:0})}return xe})();const on=24;let Sn=(()=>{class xe{get activeDate(){return this._activeDate}set activeDate(Z){let Ae=this._activeDate;const Ve=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Z))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(Ve,this.minDate,this.maxDate),Zn(this._dateAdapter,Ae,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(Z){this._selected=Z instanceof ue?Z:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Z)),this._setSelectedYear(Z)}get minDate(){return this._minDate}set minDate(Z){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Z))}get maxDate(){return this._maxDate}set maxDate(Z){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Z))}constructor(Z,Ae,Ve){this._changeDetectorRef=Z,this._dateAdapter=Ae,this._dir=Ve,this._rerenderSubscription=y.y.EMPTY,this.selectedChange=new g.bkB,this.yearSelected=new g.bkB,this.activeDateChange=new g.bkB,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,P.Z)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const Ae=this._dateAdapter.getYear(this._activeDate)-ut(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let Ve=0,_t=[];Ve<on;Ve++)_t.push(Ae+Ve),4==_t.length&&(this._years.push(_t.map(Qt=>this._createCellForYear(Qt))),_t=[]);this._changeDetectorRef.markForCheck()}_yearSelected(Z){const Ae=Z.value,Ve=this._dateAdapter.createDate(Ae,0,1),_t=this._getDateFromYear(Ae);this.yearSelected.emit(Ve),this.selectedChange.emit(_t)}_updateActiveDate(Z){const Ve=this._activeDate;this.activeDate=this._getDateFromYear(Z.value),this._dateAdapter.compareDate(Ve,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(Z){const Ae=this._activeDate,Ve=this._isRtl();switch(Z.keyCode){case v.UQ:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Ve?1:-1);break;case v.LE:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Ve?-1:1);break;case v.i7:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case v.n6:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case v.yZ:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-ut(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case v.Kp:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,on-ut(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case v.w_:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Z.altKey?10*-on:-on);break;case v.dB:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Z.altKey?10*on:on);break;case v.Fm:case v.t6:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(Ae,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),Z.preventDefault()}_handleCalendarBodyKeyup(Z){(Z.keyCode===v.t6||Z.keyCode===v.Fm)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:Z}),this._selectionKeyPressed=!1)}_getActiveCell(){return ut(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(Z){const Ae=this._dateAdapter.getMonth(this.activeDate),Ve=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(Z,Ae,1));return this._dateAdapter.createDate(Z,Ae,Math.min(this._dateAdapter.getDate(this.activeDate),Ve))}_createCellForYear(Z){const Ae=this._dateAdapter.createDate(Z,0,1),Ve=this._dateAdapter.getYearName(Ae),_t=this.dateClass?this.dateClass(Ae,"multi-year"):void 0;return new pe(Z,Ve,Ve,this._shouldEnableYear(Z),_t)}_shouldEnableYear(Z){if(null==Z||this.maxDate&&Z>this._dateAdapter.getYear(this.maxDate)||this.minDate&&Z<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let Ve=this._dateAdapter.createDate(Z,0,1);this._dateAdapter.getYear(Ve)==Z;Ve=this._dateAdapter.addCalendarDays(Ve,1))if(this.dateFilter(Ve))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(Z){if(this._selectedYear=null,Z instanceof ue){const Ae=Z.start||Z.end;Ae&&(this._selectedYear=this._dateAdapter.getYear(Ae))}else Z&&(this._selectedYear=this._dateAdapter.getYear(Z))}static#e=this.\u0275fac=function(Ae){return new(Ae||xe)(g.rXU(g.gRc),g.rXU(b.MJ,8),g.rXU(O.dS,8))};static#t=this.\u0275cmp=g.VBU({type:xe,selectors:[["mat-multi-year-view"]],viewQuery:function(Ae,Ve){if(1&Ae&&g.GBs(tt,5),2&Ae){let _t;g.mGM(_t=g.lsd())&&(Ve._matCalendarBody=_t.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],standalone:!0,features:[g.aNF],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(Ae,Ve){1&Ae&&(g.j41(0,"table",0)(1,"thead",1)(2,"tr"),g.nrm(3,"th",2),g.k0s()(),g.j41(4,"tbody",3),g.bIt("selectedValueChange",function(Qt){return Ve._yearSelected(Qt)})("activeDateChange",function(Qt){return Ve._updateActiveDate(Qt)})("keyup",function(Qt){return Ve._handleCalendarBodyKeyup(Qt)})("keydown",function(Qt){return Ve._handleCalendarBodyKeydown(Qt)}),g.k0s()()),2&Ae&&(g.R7$(4),g.Y8G("rows",Ve._years)("todayValue",Ve._todayYear)("startValue",Ve._selectedYear)("endValue",Ve._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",Ve._getActiveCell()))},dependencies:[tt],encapsulation:2,changeDetection:0})}return xe})();function Zn(xe,Mt,Z,Ae,Ve){const _t=xe.getYear(Mt),Qt=xe.getYear(Z),Pn=be(xe,Ae,Ve);return Math.floor((_t-Pn)/on)===Math.floor((Qt-Pn)/on)}function ut(xe,Mt,Z,Ae){return function Fe(xe,Mt){return(xe%Mt+Mt)%Mt}(xe.getYear(Mt)-be(xe,Z,Ae),on)}function be(xe,Mt,Z){let Ae=0;return Z?Ae=xe.getYear(Z)-on+1:Mt&&(Ae=xe.getYear(Mt)),Ae}let ae=(()=>{class xe{get activeDate(){return this._activeDate}set activeDate(Z){let Ae=this._activeDate;const Ve=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Z))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(Ve,this.minDate,this.maxDate),this._dateAdapter.getYear(Ae)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(Z){this._selected=Z instanceof ue?Z:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Z)),this._setSelectedMonth(Z)}get minDate(){return this._minDate}set minDate(Z){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Z))}get maxDate(){return this._maxDate}set maxDate(Z){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Z))}constructor(Z,Ae,Ve,_t){this._changeDetectorRef=Z,this._dateFormats=Ae,this._dateAdapter=Ve,this._dir=_t,this._rerenderSubscription=y.y.EMPTY,this.selectedChange=new g.bkB,this.monthSelected=new g.bkB,this.activeDateChange=new g.bkB,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,P.Z)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(Z){const Ae=Z.value,Ve=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),Ae,1);this.monthSelected.emit(Ve);const _t=this._getDateFromMonth(Ae);this.selectedChange.emit(_t)}_updateActiveDate(Z){const Ve=this._activeDate;this.activeDate=this._getDateFromMonth(Z.value),this._dateAdapter.compareDate(Ve,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(Z){const Ae=this._activeDate,Ve=this._isRtl();switch(Z.keyCode){case v.UQ:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,Ve?1:-1);break;case v.LE:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,Ve?-1:1);break;case v.i7:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case v.n6:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case v.yZ:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case v.Kp:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case v.w_:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Z.altKey?-10:-1);break;case v.dB:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Z.altKey?10:1);break;case v.Fm:case v.t6:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(Ae,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),Z.preventDefault()}_handleCalendarBodyKeyup(Z){(Z.keyCode===v.t6||Z.keyCode===v.Fm)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:Z}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let Z=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(Ae=>Ae.map(Ve=>this._createCellForMonth(Ve,Z[Ve]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(Z){return Z&&this._dateAdapter.getYear(Z)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(Z):null}_getDateFromMonth(Z){const Ae=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),Z,1),Ve=this._dateAdapter.getNumDaysInMonth(Ae);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),Z,Math.min(this._dateAdapter.getDate(this.activeDate),Ve))}_createCellForMonth(Z,Ae){const Ve=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),Z,1),_t=this._dateAdapter.format(Ve,this._dateFormats.display.monthYearA11yLabel),Qt=this.dateClass?this.dateClass(Ve,"year"):void 0;return new pe(Z,Ae.toLocaleUpperCase(),_t,this._shouldEnableMonth(Z),Qt)}_shouldEnableMonth(Z){const Ae=this._dateAdapter.getYear(this.activeDate);if(null==Z||this._isYearAndMonthAfterMaxDate(Ae,Z)||this._isYearAndMonthBeforeMinDate(Ae,Z))return!1;if(!this.dateFilter)return!0;for(let _t=this._dateAdapter.createDate(Ae,Z,1);this._dateAdapter.getMonth(_t)==Z;_t=this._dateAdapter.addCalendarDays(_t,1))if(this.dateFilter(_t))return!0;return!1}_isYearAndMonthAfterMaxDate(Z,Ae){if(this.maxDate){const Ve=this._dateAdapter.getYear(this.maxDate),_t=this._dateAdapter.getMonth(this.maxDate);return Z>Ve||Z===Ve&&Ae>_t}return!1}_isYearAndMonthBeforeMinDate(Z,Ae){if(this.minDate){const Ve=this._dateAdapter.getYear(this.minDate),_t=this._dateAdapter.getMonth(this.minDate);return Z<Ve||Z===Ve&&Ae<_t}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(Z){this._selectedMonth=Z instanceof ue?this._getMonthInCurrentYear(Z.start)||this._getMonthInCurrentYear(Z.end):this._getMonthInCurrentYear(Z)}static#e=this.\u0275fac=function(Ae){return new(Ae||xe)(g.rXU(g.gRc),g.rXU(b.de,8),g.rXU(b.MJ,8),g.rXU(O.dS,8))};static#t=this.\u0275cmp=g.VBU({type:xe,selectors:[["mat-year-view"]],viewQuery:function(Ae,Ve){if(1&Ae&&g.GBs(tt,5),2&Ae){let _t;g.mGM(_t=g.lsd())&&(Ve._matCalendarBody=_t.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],standalone:!0,features:[g.aNF],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(Ae,Ve){1&Ae&&(g.j41(0,"table",0)(1,"thead",1)(2,"tr"),g.nrm(3,"th",2),g.k0s()(),g.j41(4,"tbody",3),g.bIt("selectedValueChange",function(Qt){return Ve._monthSelected(Qt)})("activeDateChange",function(Qt){return Ve._updateActiveDate(Qt)})("keyup",function(Qt){return Ve._handleCalendarBodyKeyup(Qt)})("keydown",function(Qt){return Ve._handleCalendarBodyKeydown(Qt)}),g.k0s()()),2&Ae&&(g.R7$(4),g.Y8G("label",Ve._yearLabel)("rows",Ve._months)("todayValue",Ve._todayMonth)("startValue",Ve._selectedMonth)("endValue",Ve._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",Ve._dateAdapter.getMonth(Ve.activeDate)))},dependencies:[tt],encapsulation:2,changeDetection:0})}return xe})(),ve=1,ze=(()=>{class xe{constructor(Z,Ae,Ve,_t,Qt){this._intl=Z,this.calendar=Ae,this._dateAdapter=Ve,this._dateFormats=_t,this._id="mat-calendar-header-"+ve++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>Qt.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-on)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:on)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(Z,Ae){return"month"==this.calendar.currentView?this._dateAdapter.getYear(Z)==this._dateAdapter.getYear(Ae)&&this._dateAdapter.getMonth(Z)==this._dateAdapter.getMonth(Ae):"year"==this.calendar.currentView?this._dateAdapter.getYear(Z)==this._dateAdapter.getYear(Ae):Zn(this._dateAdapter,Z,Ae,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const Ae=this._dateAdapter.getYear(this.calendar.activeDate)-ut(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),Ve=Ae+on-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(Ae,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(Ve,0,1))]}static#e=this.\u0275fac=function(Ae){return new(Ae||xe)(g.rXU(Me),g.rXU((0,g.Rfq)(()=>vt)),g.rXU(b.MJ,8),g.rXU(b.de,8),g.rXU(g.gRc))};static#t=this.\u0275cmp=g.VBU({type:xe,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],standalone:!0,features:[g.aNF],ngContentSelectors:ne,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"]],template:function(Ae,Ve){1&Ae&&(g.NAR(),g.j41(0,"div",0)(1,"div",1)(2,"label",2),g.EFF(3),g.k0s(),g.j41(4,"button",3),g.bIt("click",function(){return Ve.currentPeriodClicked()}),g.j41(5,"span",4),g.EFF(6),g.k0s(),g.qSk(),g.j41(7,"svg",5),g.nrm(8,"polygon",6),g.k0s()(),g.joV(),g.nrm(9,"div",7),g.SdG(10),g.j41(11,"button",8),g.bIt("click",function(){return Ve.previousClicked()}),g.k0s(),g.j41(12,"button",9),g.bIt("click",function(){return Ve.nextClicked()}),g.k0s()()()),2&Ae&&(g.R7$(2),g.Y8G("id",Ve._periodButtonLabelId),g.R7$(),g.JRh(Ve.periodButtonDescription),g.R7$(),g.BMQ("aria-label",Ve.periodButtonLabel)("aria-describedby",Ve._periodButtonLabelId),g.R7$(2),g.JRh(Ve.periodButtonText),g.R7$(),g.AVh("mat-calendar-invert","month"!==Ve.calendar.currentView),g.R7$(4),g.Y8G("disabled",!Ve.previousEnabled()),g.BMQ("aria-label",Ve.prevButtonLabel),g.R7$(),g.Y8G("disabled",!Ve.nextEnabled()),g.BMQ("aria-label",Ve.nextButtonLabel))},dependencies:[p.$z,p.iY],encapsulation:2,changeDetection:0})}return xe})(),vt=(()=>{class xe{get startAt(){return this._startAt}set startAt(Z){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Z))}get selected(){return this._selected}set selected(Z){this._selected=Z instanceof ue?Z:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Z))}get minDate(){return this._minDate}set minDate(Z){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Z))}get maxDate(){return this._maxDate}set maxDate(Z){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Z))}get activeDate(){return this._clampedActiveDate}set activeDate(Z){this._clampedActiveDate=this._dateAdapter.clampDate(Z,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(Z){const Ae=this._currentView!==Z?Z:null;this._currentView=Z,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),Ae&&this.viewChanged.emit(Ae)}constructor(Z,Ae,Ve,_t){this._dateAdapter=Ae,this._dateFormats=Ve,this._changeDetectorRef=_t,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new g.bkB,this.yearSelected=new g.bkB,this.monthSelected=new g.bkB,this.viewChanged=new g.bkB(!0),this._userSelection=new g.bkB,this._userDragDrop=new g.bkB,this._activeDrag=null,this.stateChanges=new d.B7,this._intlChanges=Z.changes.subscribe(()=>{_t.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new l.A8(this.headerComponent||ze),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(Z){const Ae=Z.minDate&&!this._dateAdapter.sameDate(Z.minDate.previousValue,Z.minDate.currentValue)?Z.minDate:void 0,Ve=Z.maxDate&&!this._dateAdapter.sameDate(Z.maxDate.previousValue,Z.maxDate.currentValue)?Z.maxDate:void 0,_t=Ae||Ve||Z.dateFilter;if(_t&&!_t.firstChange){const Qt=this._getCurrentViewComponent();Qt&&(this._moveFocusOnNextTick=!0,this._changeDetectorRef.detectChanges(),Qt._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(Z){const Ae=Z.value;(this.selected instanceof ue||Ae&&!this._dateAdapter.sameDate(Ae,this.selected))&&this.selectedChange.emit(Ae),this._userSelection.emit(Z)}_yearSelectedInMultiYearView(Z){this.yearSelected.emit(Z)}_monthSelectedInYearView(Z){this.monthSelected.emit(Z)}_goToDateInView(Z,Ae){this.activeDate=Z,this.currentView=Ae}_dragStarted(Z){this._activeDrag=Z}_dragEnded(Z){this._activeDrag&&(Z.value&&this._userDragDrop.emit(Z),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static#e=this.\u0275fac=function(Ae){return new(Ae||xe)(g.rXU(Me),g.rXU(b.MJ,8),g.rXU(b.de,8),g.rXU(g.gRc))};static#t=this.\u0275cmp=g.VBU({type:xe,selectors:[["mat-calendar"]],viewQuery:function(Ae,Ve){if(1&Ae&&(g.GBs(en,5),g.GBs(ae,5),g.GBs(Sn,5)),2&Ae){let _t;g.mGM(_t=g.lsd())&&(Ve.monthView=_t.first),g.mGM(_t=g.lsd())&&(Ve.yearView=_t.first),g.mGM(_t=g.lsd())&&(Ve.multiYearView=_t.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],standalone:!0,features:[g.Jv_([qt]),g.OA$,g.aNF],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(Ae,Ve){if(1&Ae&&(g.DNE(0,K,0,0,"ng-template",0),g.j41(1,"div",1),g.DNE(2,k,1,11,"mat-month-view",2)(3,j,1,6,"mat-year-view",3)(4,W,1,6,"mat-multi-year-view",3),g.k0s()),2&Ae){let _t;g.Y8G("cdkPortalOutlet",Ve._calendarHeaderPortal),g.R7$(2),g.vxM("month"===(_t=Ve.currentView)?2:"year"===_t?3:"multi-year"===_t?4:-1)}},dependencies:[l.I3,e.vR,en,ae,Sn],styles:['.mat-calendar{display:block;font-family:var(--mat-datepicker-calendar-text-font);font-size:var(--mat-datepicker-calendar-text-size)}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size);font-weight:var(--mat-datepicker-calendar-period-button-text-weight);--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color)}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color)}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color)}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color);font-size:var(--mat-datepicker-calendar-header-text-size);font-weight:var(--mat-datepicker-calendar-header-text-weight)}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return xe})();const Ue={transformPanel:(0,I.hZ)("transformPanel",[(0,I.kY)("void => enter-dropdown",(0,I.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,I.i7)([(0,I.iF)({opacity:0,transform:"scale(1, 0.8)"}),(0,I.iF)({opacity:1,transform:"scale(1, 1)"})]))),(0,I.kY)("void => enter-dialog",(0,I.i0)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,I.i7)([(0,I.iF)({opacity:0,transform:"scale(0.7)"}),(0,I.iF)({transform:"none",opacity:1})]))),(0,I.kY)("* => void",(0,I.i0)("100ms linear",(0,I.iF)({opacity:0})))]),fadeInCalendar:(0,I.hZ)("fadeInCalendar",[(0,I.wk)("void",(0,I.iF)({opacity:0})),(0,I.wk)("enter",(0,I.iF)({opacity:1})),(0,I.kY)("void => *",(0,I.i0)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let Pe=0;const Ke=new g.nKC("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{const xe=(0,g.WQX)(n.hJ);return()=>xe.scrollStrategies.reposition()}}),Ze={provide:Ke,deps:[n.hJ],useFactory:function Ie(xe){return()=>xe.scrollStrategies.reposition()}};let nt=(()=>{class xe{constructor(Z,Ae,Ve,_t,Qt,Pn){this._elementRef=Z,this._changeDetectorRef=Ae,this._globalModel=Ve,this._dateAdapter=_t,this._rangeSelectionStrategy=Qt,this._subscriptions=new y.y,this._animationDone=new d.B7,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=Pn.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(Z){const Ae=this._model.selection,Ve=Z.value,_t=Ae instanceof ue;if(_t&&this._rangeSelectionStrategy){const Qt=this._rangeSelectionStrategy.selectionFinished(Ve,Ae,Z.event);this._model.updateSelection(Qt,this)}else Ve&&(_t||!this._dateAdapter.sameDate(Ve,Ae))&&this._model.add(Ve);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(Z){this._model.updateSelection(Z.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(Z){this._isAnimating="start"===Z.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(Z,Ae){this._model=Z?this._globalModel.clone():this._globalModel,this._actionsPortal=Z,Ae&&this._changeDetectorRef.detectChanges()}static#e=this.\u0275fac=function(Ae){return new(Ae||xe)(g.rXU(g.aKT),g.rXU(g.gRc),g.rXU(Q),g.rXU(b.MJ),g.rXU(Zt,8),g.rXU(Me))};static#t=this.\u0275cmp=g.VBU({type:xe,selectors:[["mat-datepicker-content"]],viewQuery:function(Ae,Ve){if(1&Ae&&g.GBs(vt,5),2&Ae){let _t;g.mGM(_t=g.lsd())&&(Ve._calendar=_t.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:5,hostBindings:function(Ae,Ve){1&Ae&&g.Kam("@transformPanel.start",function(Qt){return Ve._handleAnimationEvent(Qt)})("@transformPanel.done",function(Qt){return Ve._handleAnimationEvent(Qt)}),2&Ae&&(g.zvX("@transformPanel",Ve._animationState),g.HbH(Ve.color?"mat-"+Ve.color:""),g.AVh("mat-datepicker-content-touch",Ve.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],standalone:!0,features:[g.aNF],decls:5,vars:27,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(Ae,Ve){if(1&Ae&&(g.j41(0,"div",0)(1,"mat-calendar",1),g.bIt("yearSelected",function(Qt){return Ve.datepicker._selectYear(Qt)})("monthSelected",function(Qt){return Ve.datepicker._selectMonth(Qt)})("viewChanged",function(Qt){return Ve.datepicker._viewChanged(Qt)})("_userSelection",function(Qt){return Ve._handleUserSelection(Qt)})("_userDragDrop",function(Qt){return Ve._handleUserDragDrop(Qt)}),g.k0s(),g.DNE(2,ie,0,0,"ng-template",2),g.j41(3,"button",3),g.bIt("focus",function(){return Ve._closeButtonFocused=!0})("blur",function(){return Ve._closeButtonFocused=!1})("click",function(){return Ve.datepicker.close()}),g.EFF(4),g.k0s()()),2&Ae){let _t;g.AVh("mat-datepicker-content-container-with-custom-header",Ve.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",Ve._actionsPortal),g.BMQ("aria-modal",!0)("aria-labelledby",null!==(_t=Ve._dialogLabelId)&&void 0!==_t?_t:void 0),g.R7$(),g.HbH(Ve.datepicker.panelClass),g.Y8G("id",Ve.datepicker.id)("startAt",Ve.datepicker.startAt)("startView",Ve.datepicker.startView)("minDate",Ve.datepicker._getMinDate())("maxDate",Ve.datepicker._getMaxDate())("dateFilter",Ve.datepicker._getDateFilter())("headerComponent",Ve.datepicker.calendarHeaderComponent)("selected",Ve._getSelected())("dateClass",Ve.datepicker.dateClass)("comparisonStart",Ve.comparisonStart)("comparisonEnd",Ve.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",Ve.startDateAccessibleName)("endDateAccessibleName",Ve.endDateAccessibleName),g.R7$(),g.Y8G("cdkPortalOutlet",Ve._actionsPortal),g.R7$(),g.AVh("cdk-visually-hidden",!Ve._closeButtonFocused),g.Y8G("color",Ve.color||"primary"),g.R7$(),g.JRh(Ve._closeButtonText)}},dependencies:[e.kB,vt,l.I3,p.$z],styles:[".mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color);color:var(--mat-datepicker-calendar-container-text-color);box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-shape)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-touch-shape);position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[Ue.transformPanel,Ue.fadeInCalendar]},changeDetection:0})}return xe})(),Lt=(()=>{class xe{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(Z){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Z))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(Z){this._color=Z}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(Z){Z!==this._disabled&&(this._disabled=Z,this.stateChanges.next(void 0))}get panelClass(){return this._panelClass}set panelClass(Z){this._panelClass=(0,x.cc)(Z)}get opened(){return this._opened}set opened(Z){Z?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(Z,Ae,Ve,_t,Qt,Pn,ui){this._overlay=Z,this._viewContainerRef=Ve,this._dateAdapter=Qt,this._dir=Pn,this._model=ui,this._inputStateChanges=y.y.EMPTY,this._document=(0,g.WQX)(h.qQ),this.startView="month",this.touchUi=!1,this.xPosition="start",this.yPosition="below",this.restoreFocus=!0,this.yearSelected=new g.bkB,this.monthSelected=new g.bkB,this.viewChanged=new g.bkB(!0),this.openedStream=new g.bkB,this.closedStream=new g.bkB,this._opened=!1,this.id="mat-datepicker-"+Pe++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new d.B7,this._injector=(0,g.WQX)(g.zZn),this._changeDetectorRef=(0,g.WQX)(g.gRc),this._scrollStrategy=_t,this._model.selectionChanged.subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnChanges(Z){const Ae=Z.xPosition||Z.yPosition;if(Ae&&!Ae.firstChange&&this._overlayRef){const Ve=this._overlayRef.getConfig().positionStrategy;Ve instanceof n.rW&&(this._setConnectedPositions(Ve),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(Z){this._model.add(Z)}_selectYear(Z){this.yearSelected.emit(Z)}_selectMonth(Z){this.monthSelected.emit(Z)}_viewChanged(Z){this.viewChanged.emit(Z)}registerInput(Z){return this._inputStateChanges.unsubscribe(),this.datepickerInput=Z,this._inputStateChanges=Z.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(Z){this._actionsPortal=Z,this._componentRef?.instance._assignActions(Z,!0)}removeActions(Z){Z===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=(0,S.vc)(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const Z=this.restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,Ae=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:Ve,location:_t}=this._componentRef;Ve._startExitAnimation(),Ve._animationDone.pipe((0,M.s)(1)).subscribe(()=>{const Qt=this._document.activeElement;Z&&(!Qt||Qt===this._document.activeElement||_t.nativeElement.contains(Qt))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}Z?setTimeout(Ae):Ae()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(Z){Z.datepicker=this,Z.color=this.color,Z._dialogLabelId=this.datepickerInput.getOverlayLabelId(),Z._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const Z=this.touchUi,Ae=new l.A8(nt,this._viewContainerRef),Ve=this._overlayRef=this._overlay.create(new n.rR({positionStrategy:Z?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[Z?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:Z?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(Z?"dialog":"popup")}));this._getCloseStream(Ve).subscribe(_t=>{_t&&_t.preventDefault(),this.close()}),Ve.keydownEvents().subscribe(_t=>{const Qt=_t.keyCode;(Qt===v.i7||Qt===v.n6||Qt===v.UQ||Qt===v.LE||Qt===v.w_||Qt===v.dB)&&_t.preventDefault()}),this._componentRef=Ve.attach(Ae),this._forwardContentValues(this._componentRef.instance),Z||(0,g.mal)(()=>{Ve.updatePosition()},{injector:this._injector})}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const Z=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(Z)}_setConnectedPositions(Z){const Ae="end"===this.xPosition?"end":"start",Ve="start"===Ae?"end":"start",_t="above"===this.yPosition?"bottom":"top",Qt="top"===_t?"bottom":"top";return Z.withPositions([{originX:Ae,originY:Qt,overlayX:Ae,overlayY:_t},{originX:Ae,originY:_t,overlayX:Ae,overlayY:Qt},{originX:Ve,originY:Qt,overlayX:Ve,overlayY:_t},{originX:Ve,originY:_t,overlayX:Ve,overlayY:Qt}])}_getCloseStream(Z){const Ae=["ctrlKey","shiftKey","metaKey"];return(0,R.h)(Z.backdropClick(),Z.detachments(),Z.keydownEvents().pipe((0,w.p)(Ve=>Ve.keyCode===v._f&&!(0,v.rp)(Ve)||this.datepickerInput&&(0,v.rp)(Ve,"altKey")&&Ve.keyCode===v.i7&&Ae.every(_t=>!(0,v.rp)(Ve,_t)))))}static#e=this.\u0275fac=function(Ae){return new(Ae||xe)(g.rXU(n.hJ),g.rXU(g.SKi),g.rXU(g.c1b),g.rXU(Ke),g.rXU(b.MJ,8),g.rXU(O.dS,8),g.rXU(Q))};static#t=this.\u0275dir=g.FsC({type:xe,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:[2,"touchUi","touchUi",g.L39],disabled:[2,"disabled","disabled",g.L39],xPosition:"xPosition",yPosition:"yPosition",restoreFocus:[2,"restoreFocus","restoreFocus",g.L39],dateClass:"dateClass",panelClass:"panelClass",opened:[2,"opened","opened",g.L39]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[g.GFd,g.OA$]})}return xe})(),jt=(()=>{class xe extends Lt{static#e=this.\u0275fac=(()=>{let Z;return function(Ve){return(Z||(Z=g.xGo(xe)))(Ve||xe)}})();static#t=this.\u0275cmp=g.VBU({type:xe,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],standalone:!0,features:[g.Jv_([qt,{provide:Lt,useExisting:xe}]),g.Vt3,g.aNF],decls:0,vars:0,template:function(Ae,Ve){},encapsulation:2,changeDetection:0})}return xe})();class Dt{constructor(Mt,Z){this.target=Mt,this.targetElement=Z,this.value=this.target.value}}let nn=(()=>{class xe{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(Z){this._assignValueProgrammatically(Z)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(Z){const Ae=Z,Ve=this._elementRef.nativeElement;this._disabled!==Ae&&(this._disabled=Ae,this.stateChanges.next(void 0)),Ae&&this._isInitialized&&Ve.blur&&Ve.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(Z){this._model=Z,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(Ae=>{if(this._shouldHandleChangeEvent(Ae)){const Ve=this._getValueFromModel(Ae.selection);this._lastValueValid=this._isValidValue(Ve),this._cvaOnChange(Ve),this._onTouched(),this._formatValue(Ve),this.dateInput.emit(new Dt(this,this._elementRef.nativeElement)),this.dateChange.emit(new Dt(this,this._elementRef.nativeElement))}})}constructor(Z,Ae,Ve){this._elementRef=Z,this._dateAdapter=Ae,this._dateFormats=Ve,this.dateChange=new g.bkB,this.dateInput=new g.bkB,this.stateChanges=new d.B7,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=y.y.EMPTY,this._localeSubscription=y.y.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=_t=>{const Qt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(_t.value));return!Qt||this._matchesFilter(Qt)?null:{matDatepickerFilter:!0}},this._minValidator=_t=>{const Qt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(_t.value)),Pn=this._getMinDate();return!Pn||!Qt||this._dateAdapter.compareDate(Pn,Qt)<=0?null:{matDatepickerMin:{min:Pn,actual:Qt}}},this._maxValidator=_t=>{const Qt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(_t.value)),Pn=this._getMaxDate();return!Pn||!Qt||this._dateAdapter.compareDate(Pn,Qt)>=0?null:{matDatepickerMax:{max:Pn,actual:Qt}}},this._lastValueValid=!1,this._localeSubscription=Ae.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(Z){(function Tt(xe,Mt){const Z=Object.keys(xe);for(let Ae of Z){const{previousValue:Ve,currentValue:_t}=xe[Ae];if(!Mt.isDateInstance(Ve)||!Mt.isDateInstance(_t))return!0;if(!Mt.sameDate(Ve,_t))return!0}return!1})(Z,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(Z){this._validatorOnChange=Z}validate(Z){return this._validator?this._validator(Z):null}writeValue(Z){this._assignValueProgrammatically(Z)}registerOnChange(Z){this._cvaOnChange=Z}registerOnTouched(Z){this._onTouched=Z}setDisabledState(Z){this.disabled=Z}_onKeydown(Z){(0,v.rp)(Z,"altKey")&&Z.keyCode===v.n6&&["ctrlKey","shiftKey","metaKey"].every(_t=>!(0,v.rp)(Z,_t))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),Z.preventDefault())}_onInput(Z){const Ae=this._lastValueValid;let Ve=this._dateAdapter.parse(Z,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(Ve),Ve=this._dateAdapter.getValidDateOrNull(Ve);const _t=!this._dateAdapter.sameDate(Ve,this.value);!Ve||_t?this._cvaOnChange(Ve):(Z&&!this.value&&this._cvaOnChange(Ve),Ae!==this._lastValueValid&&this._validatorOnChange()),_t&&(this._assignValue(Ve),this.dateInput.emit(new Dt(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Dt(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(Z){this._elementRef.nativeElement.value=null!=Z?this._dateAdapter.format(Z,this._dateFormats.display.dateInput):""}_assignValue(Z){this._model?(this._assignValueToModel(Z),this._pendingValue=null):this._pendingValue=Z}_isValidValue(Z){return!Z||this._dateAdapter.isValid(Z)}_parentDisabled(){return!1}_assignValueProgrammatically(Z){Z=this._dateAdapter.deserialize(Z),this._lastValueValid=this._isValidValue(Z),Z=this._dateAdapter.getValidDateOrNull(Z),this._assignValue(Z),this._formatValue(Z)}_matchesFilter(Z){const Ae=this._getDateFilter();return!Ae||Ae(Z)}static#e=this.\u0275fac=function(Ae){return new(Ae||xe)(g.rXU(g.aKT),g.rXU(b.MJ,8),g.rXU(b.de,8))};static#t=this.\u0275dir=g.FsC({type:xe,inputs:{value:"value",disabled:[2,"disabled","disabled",g.L39]},outputs:{dateChange:"dateChange",dateInput:"dateInput"},standalone:!0,features:[g.GFd,g.OA$]})}return xe})();const It={provide:_.kq,useExisting:(0,g.Rfq)(()=>At),multi:!0},Gt={provide:_.cz,useExisting:(0,g.Rfq)(()=>At),multi:!0};let At=(()=>{class xe extends nn{set matDatepicker(Z){Z&&(this._datepicker=Z,this._ariaOwns.set(Z.opened?Z.id:null),this._closedSubscription=Z.closedStream.subscribe(()=>{this._onTouched(),this._ariaOwns.set(null)}),this._openedSubscription=Z.openedStream.subscribe(()=>{this._ariaOwns.set(Z.id)}),this._registerModel(Z.registerInput(this)))}get min(){return this._min}set min(Z){const Ae=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Z));this._dateAdapter.sameDate(Ae,this._min)||(this._min=Ae,this._validatorOnChange())}get max(){return this._max}set max(Z){const Ae=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Z));this._dateAdapter.sameDate(Ae,this._max)||(this._max=Ae,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(Z){const Ae=this._matchesFilter(this.value);this._dateFilter=Z,this._matchesFilter(this.value)!==Ae&&this._validatorOnChange()}constructor(Z,Ae,Ve,_t){super(Z,Ae,Ve),this._formField=_t,this._closedSubscription=y.y.EMPTY,this._openedSubscription=y.y.EMPTY,this._ariaOwns=(0,g.vPA)(null),this._validator=_.k0.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(Z){return Z}_assignValueToModel(Z){this._model&&this._model.updateSelection(Z,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(Z){return Z.source!==this}static#e=this.\u0275fac=function(Ae){return new(Ae||xe)(g.rXU(g.aKT),g.rXU(b.MJ,8),g.rXU(b.de,8),g.rXU(C.xb,8))};static#t=this.\u0275dir=g.FsC({type:xe,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(Ae,Ve){1&Ae&&g.bIt("input",function(Qt){return Ve._onInput(Qt.target.value)})("change",function(){return Ve._onChange()})("blur",function(){return Ve._onBlur()})("keydown",function(Qt){return Ve._onKeydown(Qt)}),2&Ae&&(g.Mr5("disabled",Ve.disabled),g.BMQ("aria-haspopup",Ve._datepicker?"dialog":null)("aria-owns",Ve._ariaOwns())("min",Ve.min?Ve._dateAdapter.toIso8601(Ve.min):null)("max",Ve.max?Ve._dateAdapter.toIso8601(Ve.max):null)("data-mat-calendar",Ve._datepicker?Ve._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:[0,"matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],standalone:!0,features:[g.Jv_([It,Gt,{provide:D.Oh,useExisting:xe}]),g.Vt3]})}return xe})(),tn=(()=>{class xe{static#e=this.\u0275fac=function(Ae){return new(Ae||xe)};static#t=this.\u0275dir=g.FsC({type:xe,selectors:[["","matDatepickerToggleIcon",""]],standalone:!0})}return xe})(),vn=(()=>{class xe{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(Z){this._disabled=Z}constructor(Z,Ae,Ve){this._intl=Z,this._changeDetectorRef=Ae,this._stateChanges=y.y.EMPTY;const _t=Number(Ve);this.tabIndex=_t||0===_t?_t:null}ngOnChanges(Z){Z.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(Z){this.datepicker&&!this.disabled&&(this.datepicker.open(),Z.stopPropagation())}_watchStateChanges(){const Z=this.datepicker?this.datepicker.stateChanges:(0,m.of)(),Ae=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,m.of)(),Ve=this.datepicker?(0,R.h)(this.datepicker.openedStream,this.datepicker.closedStream):(0,m.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,R.h)(this._intl.changes,Z,Ae,Ve).subscribe(()=>this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=function(Ae){return new(Ae||xe)(g.rXU(Me),g.rXU(g.gRc),g.kS0("tabindex"))};static#t=this.\u0275cmp=g.VBU({type:xe,selectors:[["mat-datepicker-toggle"]],contentQueries:function(Ae,Ve,_t){if(1&Ae&&g.wni(_t,tn,5),2&Ae){let Qt;g.mGM(Qt=g.lsd())&&(Ve._customIcon=Qt.first)}},viewQuery:function(Ae,Ve){if(1&Ae&&g.GBs(ce,5),2&Ae){let _t;g.mGM(_t=g.lsd())&&(Ve._button=_t.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(Ae,Ve){1&Ae&&g.bIt("click",function(Qt){return Ve._open(Qt)}),2&Ae&&(g.BMQ("tabindex",null)("data-mat-calendar",Ve.datepicker?Ve.datepicker.id:null),g.AVh("mat-datepicker-toggle-active",Ve.datepicker&&Ve.datepicker.opened)("mat-accent",Ve.datepicker&&"accent"===Ve.datepicker.color)("mat-warn",Ve.datepicker&&"warn"===Ve.datepicker.color))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",g.L39],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],standalone:!0,features:[g.GFd,g.OA$,g.aNF],ngContentSelectors:me,decls:4,vars:6,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(Ae,Ve){1&Ae&&(g.NAR(oe),g.j41(0,"button",1,0),g.DNE(2,he,2,0,":svg:svg",2),g.SdG(3),g.k0s()),2&Ae&&(g.Y8G("disabled",Ve.disabled)("disableRipple",Ve.disableRipple),g.BMQ("aria-haspopup",Ve.datepicker?"dialog":null)("aria-label",Ve.ariaLabel||Ve._intl.openCalendarLabel)("tabindex",Ve.disabled?-1:Ve.tabIndex),g.R7$(2),g.vxM(Ve._customIcon?-1:2))},dependencies:[p.iY],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color)}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color)}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}return xe})(),kt=(()=>{class xe{static#e=this.\u0275fac=function(Ae){return new(Ae||xe)};static#t=this.\u0275mod=g.$C({type:xe});static#n=this.\u0275inj=g.G2t({providers:[Me,Ze],imports:[h.MD,p.Hl,n.z_,e.Pd,l.jc,b.yE,nt,vn,ze,f.Gj]})}return xe})()},4006:(gt,re,o)=>{"use strict";o.d(re,{BI:()=>he,CP:()=>G,E7:()=>we,Vh:()=>te,Yi:()=>Oe,bZ:()=>ie,hM:()=>Me,tx:()=>oe});var e=o(7987),n=o(177),l=o(3953),h=o(8617),g=o(2529),p=o(4085),f=o(6939),b=o(5286),d=o(4670),y=o(9418),R=o(8728),m=o(9493),v=o(3176),O=o(7336),S=o(494),P=o(6600);function w(Ee,Ge){}o(9969);class x{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const I="mdc-dialog--open",_="mdc-dialog--opening",C="mdc-dialog--closing";let B=(()=>{class Ee extends g.sU{constructor(Qe,$e,tt,xt,Pt,yt,Le,De,V){super(Qe,$e,tt,xt,Pt,yt,Le,V),this._animationMode=De,this._animationStateChanged=new l.bkB,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?$(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?$(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(F,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(_,I)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(I),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(I),this._animationsEnabled?(this._hostElement.style.setProperty(F,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(C)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(Qe){this._actionSectionCount+=Qe,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(_,C)}_waitForAnimationToComplete(Qe,$e){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout($e,Qe)}_requestAnimationFrame(Qe){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(Qe):Qe()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(Qe){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:Qe})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(Qe){const $e=super.attachComponentPortal(Qe);return $e.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),$e}static#e=this.\u0275fac=function($e){return new($e||Ee)(l.rXU(l.aKT),l.rXU(h.GX),l.rXU(n.qQ,8),l.rXU(x),l.rXU(h.Z7),l.rXU(l.SKi),l.rXU(e.yY),l.rXU(l.bc$,8),l.rXU(h.FN))};static#t=this.\u0275cmp=l.VBU({type:Ee,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function($e,tt){2&$e&&(l.Mr5("id",tt._config.id),l.BMQ("aria-modal",tt._config.ariaModal)("role",tt._config.role)("aria-labelledby",tt._config.ariaLabel?null:tt._ariaLabelledByQueue[0])("aria-label",tt._config.ariaLabel)("aria-describedby",tt._config.ariaDescribedBy||null),l.AVh("_mat-animation-noopable",!tt._animationsEnabled)("mat-mdc-dialog-container-with-actions",tt._actionSectionCount>0))},standalone:!0,features:[l.Vt3,l.aNF],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function($e,tt){1&$e&&(l.j41(0,"div",0)(1,"div",1),l.DNE(2,w,0,0,"ng-template",2),l.k0s()())},dependencies:[f.I3],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, 4px);background-color:var(--mdc-dialog-container-color, white)}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87));font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6));font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return Ee})();const F="--mat-dialog-transition-duration";function $(Ee){return null==Ee?null:"number"==typeof Ee?Ee:Ee.endsWith("ms")?(0,p.OE)(Ee.substring(0,Ee.length-2)):Ee.endsWith("s")?1e3*(0,p.OE)(Ee.substring(0,Ee.length-1)):"0"===Ee?0:null}var U=function(Ee){return Ee[Ee.OPEN=0]="OPEN",Ee[Ee.CLOSING=1]="CLOSING",Ee[Ee.CLOSED=2]="CLOSED",Ee}(U||{});class G{constructor(Ge,Qe,$e){this._ref=Ge,this._containerInstance=$e,this._afterOpened=new b.B7,this._beforeClosed=new b.B7,this._state=U.OPEN,this.disableClose=Qe.disableClose,this.id=Ge.id,Ge.addPanelClass("mat-mdc-dialog-panel"),$e._animationStateChanged.pipe((0,R.p)(tt=>"opened"===tt.state),(0,m.s)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),$e._animationStateChanged.pipe((0,R.p)(tt=>"closed"===tt.state),(0,m.s)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),Ge.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,d.h)(this.backdropClick(),this.keydownEvents().pipe((0,R.p)(tt=>tt.keyCode===O._f&&!this.disableClose&&!(0,O.rp)(tt)))).subscribe(tt=>{this.disableClose||(tt.preventDefault(),J(this,"keydown"===tt.type?"keyboard":"mouse"))})}close(Ge){this._result=Ge,this._containerInstance._animationStateChanged.pipe((0,R.p)(Qe=>"closing"===Qe.state),(0,m.s)(1)).subscribe(Qe=>{this._beforeClosed.next(Ge),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),Qe.totalTime+100)}),this._state=U.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(Ge){let Qe=this._ref.config.positionStrategy;return Ge&&(Ge.left||Ge.right)?Ge.left?Qe.left(Ge.left):Qe.right(Ge.right):Qe.centerHorizontally(),Ge&&(Ge.top||Ge.bottom)?Ge.top?Qe.top(Ge.top):Qe.bottom(Ge.bottom):Qe.centerVertically(),this._ref.updatePosition(),this}updateSize(Ge="",Qe=""){return this._ref.updateSize(Ge,Qe),this}addPanelClass(Ge){return this._ref.addPanelClass(Ge),this}removePanelClass(Ge){return this._ref.removePanelClass(Ge),this}getState(){return this._state}_finishDialogClose(){this._state=U.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function J(Ee,Ge,Qe){return Ee._closeInteractionType=Ge,Ee.close(Qe)}const te=new l.nKC("MatMdcDialogData"),ne=new l.nKC("mat-mdc-dialog-default-options"),K=new l.nKC("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const Ee=(0,l.WQX)(e.hJ);return()=>Ee.scrollStrategies.block()}});let W=0,ie=(()=>{class Ee{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const Qe=this._parentDialog;return Qe?Qe._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(Qe,$e,tt,xt,Pt,yt,Le,De){this._overlay=Qe,this._defaultOptions=xt,this._scrollStrategy=Pt,this._parentDialog=yt,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new b.B7,this._afterOpenedAtThisLevel=new b.B7,this.dialogConfigClass=x,this.afterAllClosed=(0,y.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,v.Z)(void 0))),this._dialog=$e.get(g.lG),this._dialogRefConstructor=G,this._dialogContainerType=B,this._dialogDataToken=te}open(Qe,$e){let tt;($e={...this._defaultOptions||new x,...$e}).id=$e.id||"mat-mdc-dialog-"+W++,$e.scrollStrategy=$e.scrollStrategy||this._scrollStrategy();const xt=this._dialog.open(Qe,{...$e,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:$e},{provide:g.Pe,useValue:$e}]},templateContext:()=>({dialogRef:tt}),providers:(Pt,yt,Le)=>(tt=new this._dialogRefConstructor(Pt,$e,Le),tt.updatePosition($e?.position),[{provide:this._dialogContainerType,useValue:Le},{provide:this._dialogDataToken,useValue:yt.data},{provide:this._dialogRefConstructor,useValue:tt}])});return tt.componentRef=xt.componentRef,tt.componentInstance=xt.componentInstance,this.openDialogs.push(tt),this.afterOpened.next(tt),tt.afterClosed().subscribe(()=>{const Pt=this.openDialogs.indexOf(tt);Pt>-1&&(this.openDialogs.splice(Pt,1),this.openDialogs.length||this._getAfterAllClosed().next())}),tt}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(Qe){return this.openDialogs.find($e=>$e.id===Qe)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(Qe){let $e=Qe.length;for(;$e--;)Qe[$e].close()}static#e=this.\u0275fac=function($e){return new($e||Ee)(l.KVO(e.hJ),l.KVO(l.zZn),l.KVO(n.aZ,8),l.KVO(ne,8),l.KVO(K),l.KVO(Ee,12),l.KVO(e.Sf),l.KVO(l.bc$,8))};static#t=this.\u0275prov=l.jDH({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}return Ee})(),ce=0,oe=(()=>{class Ee{constructor(Qe,$e,tt){this.dialogRef=Qe,this._elementRef=$e,this._dialog=tt,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=We(this._elementRef,this._dialog.openDialogs))}ngOnChanges(Qe){const $e=Qe._matDialogClose||Qe._matDialogCloseResult;$e&&(this.dialogResult=$e.currentValue)}_onButtonClick(Qe){J(this.dialogRef,0===Qe.screenX&&0===Qe.screenY?"keyboard":"mouse",this.dialogResult)}static#e=this.\u0275fac=function($e){return new($e||Ee)(l.rXU(G,8),l.rXU(l.aKT),l.rXU(ie))};static#t=this.\u0275dir=l.FsC({type:Ee,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function($e,tt){1&$e&&l.bIt("click",function(Pt){return tt._onButtonClick(Pt)}),2&$e&&l.BMQ("aria-label",tt.ariaLabel||null)("type",tt.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[l.OA$]})}return Ee})(),me=(()=>{class Ee{constructor(Qe,$e,tt){this._dialogRef=Qe,this._elementRef=$e,this._dialog=tt}ngOnInit(){this._dialogRef||(this._dialogRef=We(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static#e=this.\u0275fac=function($e){return new($e||Ee)(l.rXU(G,8),l.rXU(l.aKT),l.rXU(ie))};static#t=this.\u0275dir=l.FsC({type:Ee,standalone:!0})}return Ee})(),he=(()=>{class Ee extends me{constructor(){super(...arguments),this.id="mat-mdc-dialog-title-"+ce++}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static#e=this.\u0275fac=(()=>{let Qe;return function(tt){return(Qe||(Qe=l.xGo(Ee)))(tt||Ee)}})();static#t=this.\u0275dir=l.FsC({type:Ee,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function($e,tt){2&$e&&l.Mr5("id",tt.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[l.Vt3]})}return Ee})(),Oe=(()=>{class Ee{static#e=this.\u0275fac=function($e){return new($e||Ee)};static#t=this.\u0275dir=l.FsC({type:Ee,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0,features:[l.nM4([S.uv])]})}return Ee})(),we=(()=>{class Ee extends me{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static#e=this.\u0275fac=(()=>{let Qe;return function(tt){return(Qe||(Qe=l.xGo(Ee)))(tt||Ee)}})();static#t=this.\u0275dir=l.FsC({type:Ee,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function($e,tt){2&$e&&l.AVh("mat-mdc-dialog-actions-align-start","start"===tt.align)("mat-mdc-dialog-actions-align-center","center"===tt.align)("mat-mdc-dialog-actions-align-end","end"===tt.align)},inputs:{align:"align"},standalone:!0,features:[l.Vt3]})}return Ee})();function We(Ee,Ge){let Qe=Ee.nativeElement.parentElement;for(;Qe&&!Qe.classList.contains("mat-mdc-dialog-container");)Qe=Qe.parentElement;return Qe?Ge.find($e=>$e.id===Qe.id):null}let Me=(()=>{class Ee{static#e=this.\u0275fac=function($e){return new($e||Ee)};static#t=this.\u0275mod=l.$C({type:Ee});static#n=this.\u0275inj=l.G2t({providers:[ie],imports:[g.Ph,e.z_,f.jc,P.yE,P.yE]})}return Ee})()},3719:(gt,re,o)=>{"use strict";o.d(re,{JW:()=>Me,RG:()=>ft,TL:()=>Oe,qT:()=>Le,rl:()=>Zt,xb:()=>Q,yw:()=>pe});var e=o(3953),n=o(8203),l=o(4085),h=o(6860),g=o(177),p=o(4337),f=o(5286),b=o(4670),d=o(7605),y=o(8170),R=o(9969),m=o(2318),v=o(6600);const O=["notch"],S=["matFormFieldNotchedOutline",""],P=["*"],M=["textField"],w=["iconPrefixContainer"],x=["textPrefixContainer"],I=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],_=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function C(lt,Ft){1&lt&&e.nrm(0,"span",19)}function D(lt,Ft){if(1&lt&&(e.j41(0,"label",18),e.SdG(1,1),e.DNE(2,C,1,0,"span",19),e.k0s()),2&lt){const Ct=e.XpG(2);e.Y8G("floating",Ct._shouldLabelFloat())("monitorResize",Ct._hasOutline())("id",Ct._labelId),e.BMQ("for",Ct._control.disableAutomaticLabeling?null:Ct._control.id),e.R7$(2),e.vxM(!Ct.hideRequiredMarker&&Ct._control.required?2:-1)}}function A(lt,Ft){if(1&lt&&e.DNE(0,D,3,5,"label",18),2&lt){const Ct=e.XpG();e.vxM(Ct._hasFloatingLabel()?0:-1)}}function B(lt,Ft){1&lt&&e.nrm(0,"div",5)}function F(lt,Ft){}function $(lt,Ft){if(1&lt&&e.DNE(0,F,0,0,"ng-template",11),2&lt){e.XpG(2);const Ct=e.sdS(1);e.Y8G("ngTemplateOutlet",Ct)}}function U(lt,Ft){if(1&lt&&(e.j41(0,"div",7),e.DNE(1,$,1,1,null,11),e.k0s()),2&lt){const Ct=e.XpG();e.Y8G("matFormFieldNotchedOutlineOpen",Ct._shouldLabelFloat()),e.R7$(),e.vxM(Ct._forceDisplayInfixLabel()?-1:1)}}function G(lt,Ft){1&lt&&(e.j41(0,"div",8,2),e.SdG(2,2),e.k0s())}function J(lt,Ft){1&lt&&(e.j41(0,"div",9,3),e.SdG(2,3),e.k0s())}function te(lt,Ft){}function ne(lt,Ft){if(1&lt&&e.DNE(0,te,0,0,"ng-template",11),2&lt){e.XpG();const Ct=e.sdS(1);e.Y8G("ngTemplateOutlet",Ct)}}function K(lt,Ft){1&lt&&(e.j41(0,"div",12),e.SdG(1,4),e.k0s())}function k(lt,Ft){1&lt&&(e.j41(0,"div",13),e.SdG(1,5),e.k0s())}function j(lt,Ft){1&lt&&e.nrm(0,"div",14)}function W(lt,Ft){if(1&lt&&(e.j41(0,"div",16),e.SdG(1,6),e.k0s()),2&lt){const Ct=e.XpG();e.Y8G("@transitionMessages",Ct._subscriptAnimationState)}}function ie(lt,Ft){if(1&lt&&(e.j41(0,"mat-hint",20),e.EFF(1),e.k0s()),2&lt){const Ct=e.XpG(2);e.Y8G("id",Ct._hintLabelId),e.R7$(),e.JRh(Ct.hintLabel)}}function ce(lt,Ft){if(1&lt&&(e.j41(0,"div",17),e.DNE(1,ie,2,2,"mat-hint",20),e.SdG(2,7),e.nrm(3,"div",21),e.SdG(4,8),e.k0s()),2&lt){const Ct=e.XpG();e.Y8G("@transitionMessages",Ct._subscriptAnimationState),e.R7$(),e.vxM(Ct.hintLabel?1:-1)}}let oe=(()=>{class lt{static#e=this.\u0275fac=function(Wt){return new(Wt||lt)};static#t=this.\u0275dir=e.FsC({type:lt,selectors:[["mat-label"]],standalone:!0})}return lt})(),me=0;const he=new e.nKC("MatError");let Oe=(()=>{class lt{constructor(Ct,Wt){this.id="mat-mdc-error-"+me++,Ct||Wt.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(Wt){return new(Wt||lt)(e.kS0("aria-live"),e.rXU(e.aKT))};static#t=this.\u0275dir=e.FsC({type:lt,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(Wt,en){2&Wt&&e.Mr5("id",en.id)},inputs:{id:"id"},standalone:!0,features:[e.Jv_([{provide:he,useExisting:lt}])]})}return lt})(),we=0,We=(()=>{class lt{constructor(){this.align="start",this.id="mat-mdc-hint-"+we++}static#e=this.\u0275fac=function(Wt){return new(Wt||lt)};static#t=this.\u0275dir=e.FsC({type:lt,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(Wt,en){2&Wt&&(e.Mr5("id",en.id),e.BMQ("align",null),e.AVh("mat-mdc-form-field-hint-end","end"===en.align))},inputs:{align:"align",id:"id"},standalone:!0})}return lt})();const Xe=new e.nKC("MatPrefix");let Me=(()=>{class lt{constructor(){this._isText=!1}set _isTextSelector(Ct){this._isText=!0}static#e=this.\u0275fac=function(Wt){return new(Wt||lt)};static#t=this.\u0275dir=e.FsC({type:lt,selectors:[["","matPrefix",""],["","matIconPrefix",""],["","matTextPrefix",""]],inputs:{_isTextSelector:[0,"matTextPrefix","_isTextSelector"]},standalone:!0,features:[e.Jv_([{provide:Xe,useExisting:lt}])]})}return lt})();const ge=new e.nKC("MatSuffix");let pe=(()=>{class lt{constructor(){this._isText=!1}set _isTextSelector(Ct){this._isText=!0}static#e=this.\u0275fac=function(Wt){return new(Wt||lt)};static#t=this.\u0275dir=e.FsC({type:lt,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[e.Jv_([{provide:ge,useExisting:lt}])]})}return lt})();const Ee=new e.nKC("FloatingLabelParent");let Ge=(()=>{class lt{get floating(){return this._floating}set floating(Ct){this._floating=Ct,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(Ct){this._monitorResize=Ct,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(Ct){this._elementRef=Ct,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,e.WQX)(y.a),this._ngZone=(0,e.WQX)(e.SKi),this._parent=(0,e.WQX)(Ee),this._resizeSubscription=new p.y}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function Qe(lt){if(null!==lt.offsetParent)return lt.scrollWidth;const Ct=lt.cloneNode(!0);Ct.style.setProperty("position","absolute"),Ct.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(Ct);const Wt=Ct.scrollWidth;return Ct.remove(),Wt}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(Wt){return new(Wt||lt)(e.rXU(e.aKT))};static#t=this.\u0275dir=e.FsC({type:lt,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(Wt,en){2&Wt&&e.AVh("mdc-floating-label--float-above",en.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}return lt})();const $e="mdc-line-ripple--active",tt="mdc-line-ripple--deactivating";let xt=(()=>{class lt{constructor(Ct,Wt){this._elementRef=Ct,this._handleTransitionEnd=en=>{const on=this._elementRef.nativeElement.classList,_n=on.contains(tt);"opacity"===en.propertyName&&_n&&on.remove($e,tt)},Wt.runOutsideAngular(()=>{Ct.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const Ct=this._elementRef.nativeElement.classList;Ct.remove(tt),Ct.add($e)}deactivate(){this._elementRef.nativeElement.classList.add(tt)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(Wt){return new(Wt||lt)(e.rXU(e.aKT),e.rXU(e.SKi))};static#t=this.\u0275dir=e.FsC({type:lt,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}return lt})(),Pt=(()=>{class lt{constructor(Ct,Wt){this._elementRef=Ct,this._ngZone=Wt,this.open=!1}ngAfterViewInit(){const Ct=this._elementRef.nativeElement.querySelector(".mdc-floating-label");Ct?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(Ct.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>Ct.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(Ct){this._notch.nativeElement.style.width=this.open&&Ct?`calc(${Ct}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(Wt){return new(Wt||lt)(e.rXU(e.aKT),e.rXU(e.SKi))};static#t=this.\u0275cmp=e.VBU({type:lt,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(Wt,en){if(1&Wt&&e.GBs(O,5),2&Wt){let on;e.mGM(on=e.lsd())&&(en._notch=on.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(Wt,en){2&Wt&&e.AVh("mdc-notched-outline--notched",en.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[e.aNF],attrs:S,ngContentSelectors:P,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(Wt,en){1&Wt&&(e.NAR(),e.nrm(0,"div",1),e.j41(1,"div",2,0),e.SdG(3),e.k0s(),e.nrm(4,"div",3))},encapsulation:2,changeDetection:0})}return lt})();const yt={transitionMessages:(0,R.hZ)("transitionMessages",[(0,R.wk)("enter",(0,R.iF)({opacity:1,transform:"translateY(0%)"})),(0,R.kY)("void => enter",[(0,R.iF)({opacity:0,transform:"translateY(-5px)"}),(0,R.i0)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Le=(()=>{class lt{static#e=this.\u0275fac=function(Wt){return new(Wt||lt)};static#t=this.\u0275dir=e.FsC({type:lt})}return lt})();const Q=new e.nKC("MatFormField"),Te=new e.nKC("MAT_FORM_FIELD_DEFAULT_OPTIONS");let Je=0,Zt=(()=>{class lt{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(Ct){this._hideRequiredMarker=(0,l.he)(Ct)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(Ct){Ct!==this._floatLabel&&(this._floatLabel=Ct,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(Ct){const Wt=this._appearance;this._appearance=Ct||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==Wt&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(Ct){this._subscriptSizing=Ct||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(Ct){this._hintLabel=Ct,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(Ct){this._explicitFormFieldControl=Ct}constructor(Ct,Wt,en,on,_n,Sn,Zn,ut){this._elementRef=Ct,this._changeDetectorRef=Wt,this._dir=on,this._platform=_n,this._defaults=Sn,this._animationMode=Zn,this._labelChild=(0,e.sbv)(oe),this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+Je++,this._hintLabelId="mat-mdc-hint-"+Je++,this._subscriptAnimationState="",this._destroyed=new f.B7,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._injector=(0,e.WQX)(e.zZn),this.getLabelId=(0,e.EWP)(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=(0,e.EWP)(()=>!!this._labelChild()),Sn&&(Sn.appearance&&(this.appearance=Sn.appearance),this._hideRequiredMarker=!!Sn?.hideRequiredMarker,Sn.color&&(this.color=Sn.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const Ct=this._control;Ct.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${Ct.controlType}`),Ct.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),Ct.ngControl&&Ct.ngControl.valueChanges&&Ct.ngControl.valueChanges.pipe((0,d.Q)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(Ct=>!Ct._isText),this._hasTextPrefix=!!this._prefixChildren.find(Ct=>Ct._isText),this._hasIconSuffix=!!this._suffixChildren.find(Ct=>!Ct._isText),this._hasTextSuffix=!!this._suffixChildren.find(Ct=>Ct._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,b.h)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),(0,e.Tzd)(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe((0,d.Q)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return!!this._hasFloatingLabel()&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_shouldForward(Ct){const Wt=this._control?this._control.ngControl:null;return Wt&&Wt[Ct]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let Ct=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&Ct.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const Wt=this._hintChildren?this._hintChildren.find(on=>"start"===on.align):null,en=this._hintChildren?this._hintChildren.find(on=>"end"===on.align):null;Wt?Ct.push(Wt.id):this._hintLabel&&Ct.push(this._hintLabelId),en&&Ct.push(en.id)}else this._errorChildren&&Ct.push(...this._errorChildren.map(Wt=>Wt.id));this._control.setDescribedByIds(Ct)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;const Ct=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(Ct.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdate=!0);const Wt=this._iconPrefixContainer?.nativeElement,en=this._textPrefixContainer?.nativeElement,on=Wt?.getBoundingClientRect().width??0,_n=en?.getBoundingClientRect().width??0;Ct.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${on+_n}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const Ct=this._elementRef.nativeElement;if(Ct.getRootNode){const Wt=Ct.getRootNode();return Wt&&Wt!==Ct}return document.documentElement.contains(Ct)}static#e=this.\u0275fac=function(Wt){return new(Wt||lt)(e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(e.SKi),e.rXU(n.dS),e.rXU(h.OD),e.rXU(Te,8),e.rXU(e.bc$,8),e.rXU(g.qQ))};static#t=this.\u0275cmp=e.VBU({type:lt,selectors:[["mat-form-field"]],contentQueries:function(Wt,en,on){if(1&Wt&&(e.C6U(on,en._labelChild,oe,5),e.wni(on,Le,5),e.wni(on,Xe,5),e.wni(on,ge,5),e.wni(on,he,5),e.wni(on,We,5)),2&Wt){let _n;e.NyB(),e.mGM(_n=e.lsd())&&(en._formFieldControl=_n.first),e.mGM(_n=e.lsd())&&(en._prefixChildren=_n),e.mGM(_n=e.lsd())&&(en._suffixChildren=_n),e.mGM(_n=e.lsd())&&(en._errorChildren=_n),e.mGM(_n=e.lsd())&&(en._hintChildren=_n)}},viewQuery:function(Wt,en){if(1&Wt&&(e.GBs(M,5),e.GBs(w,5),e.GBs(x,5),e.GBs(Ge,5),e.GBs(Pt,5),e.GBs(xt,5)),2&Wt){let on;e.mGM(on=e.lsd())&&(en._textField=on.first),e.mGM(on=e.lsd())&&(en._iconPrefixContainer=on.first),e.mGM(on=e.lsd())&&(en._textPrefixContainer=on.first),e.mGM(on=e.lsd())&&(en._floatingLabel=on.first),e.mGM(on=e.lsd())&&(en._notchedOutline=on.first),e.mGM(on=e.lsd())&&(en._lineRipple=on.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(Wt,en){2&Wt&&e.AVh("mat-mdc-form-field-label-always-float",en._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",en._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",en._hasIconSuffix)("mat-form-field-invalid",en._control.errorState)("mat-form-field-disabled",en._control.disabled)("mat-form-field-autofilled",en._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===en._animationMode)("mat-form-field-appearance-fill","fill"==en.appearance)("mat-form-field-appearance-outline","outline"==en.appearance)("mat-form-field-hide-placeholder",en._hasFloatingLabel()&&!en._shouldLabelFloat())("mat-focused",en._control.focused)("mat-primary","accent"!==en.color&&"warn"!==en.color)("mat-accent","accent"===en.color)("mat-warn","warn"===en.color)("ng-untouched",en._shouldForward("untouched"))("ng-touched",en._shouldForward("touched"))("ng-pristine",en._shouldForward("pristine"))("ng-dirty",en._shouldForward("dirty"))("ng-valid",en._shouldForward("valid"))("ng-invalid",en._shouldForward("invalid"))("ng-pending",en._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[e.Jv_([{provide:Q,useExisting:lt},{provide:Ee,useExisting:lt}]),e.aNF],ngContentSelectors:_,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(Wt,en){if(1&Wt){const on=e.RV6();e.NAR(I),e.DNE(0,A,1,1,"ng-template",null,0,e.C5r),e.j41(2,"div",4,1),e.bIt("click",function(Sn){return e.eBV(on),e.Njj(en._control.onContainerClick(Sn))}),e.DNE(4,B,1,0,"div",5),e.j41(5,"div",6),e.DNE(6,U,2,2,"div",7)(7,G,3,0,"div",8)(8,J,3,0,"div",9),e.j41(9,"div",10),e.DNE(10,ne,1,1,null,11),e.SdG(11),e.k0s(),e.DNE(12,K,2,0,"div",12)(13,k,2,0,"div",13),e.k0s(),e.DNE(14,j,1,0,"div",14),e.k0s(),e.j41(15,"div",15),e.DNE(16,W,2,1,"div",16)(17,ce,5,2,"div",17),e.k0s()}if(2&Wt){let on;e.R7$(2),e.AVh("mdc-text-field--filled",!en._hasOutline())("mdc-text-field--outlined",en._hasOutline())("mdc-text-field--no-label",!en._hasFloatingLabel())("mdc-text-field--disabled",en._control.disabled)("mdc-text-field--invalid",en._control.errorState),e.R7$(2),e.vxM(en._hasOutline()||en._control.disabled?-1:4),e.R7$(2),e.vxM(en._hasOutline()?6:-1),e.R7$(),e.vxM(en._hasIconPrefix?7:-1),e.R7$(),e.vxM(en._hasTextPrefix?8:-1),e.R7$(2),e.vxM(!en._hasOutline()||en._forceDisplayInfixLabel()?10:-1),e.R7$(2),e.vxM(en._hasTextSuffix?12:-1),e.R7$(),e.vxM(en._hasIconSuffix?13:-1),e.R7$(),e.vxM(en._hasOutline()?-1:14),e.R7$(),e.AVh("mat-mdc-form-field-subscript-dynamic-size","dynamic"===en.subscriptSizing),e.R7$(),e.vxM("error"===(on=en._getDisplayedMessages())?16:"hint"===on?17:-1)}},dependencies:[Ge,Pt,g.T3,xt,We],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color);caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color);caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape)}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-left:16px;padding-right:16px}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color);border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;width:12px;border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape)}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 24px)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[yt.transitionMessages]},changeDetection:0})}return lt})(),ft=(()=>{class lt{static#e=this.\u0275fac=function(Wt){return new(Wt||lt)};static#t=this.\u0275mod=e.$C({type:lt});static#n=this.\u0275inj=e.G2t({imports:[v.yE,g.MD,m.w5,v.yE]})}return lt})()},9631:(gt,re,o)=>{"use strict";o.d(re,{Oh:()=>S,fg:()=>w,fS:()=>x});var e=o(4085),n=o(6860),l=o(3953),h=o(1235),g=o(5286);const p=(0,n.BQ)({passive:!0});let f=(()=>{class I{constructor(C,D){this._platform=C,this._ngZone=D,this._monitoredElements=new Map}monitor(C){if(!this._platform.isBrowser)return h.w;const D=(0,e.i8)(C),A=this._monitoredElements.get(D);if(A)return A.subject;const B=new g.B7,F="cdk-text-field-autofilled",$=U=>{"cdk-text-field-autofill-start"!==U.animationName||D.classList.contains(F)?"cdk-text-field-autofill-end"===U.animationName&&D.classList.contains(F)&&(D.classList.remove(F),this._ngZone.run(()=>B.next({target:U.target,isAutofilled:!1}))):(D.classList.add(F),this._ngZone.run(()=>B.next({target:U.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{D.addEventListener("animationstart",$,p),D.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(D,{subject:B,unlisten:()=>{D.removeEventListener("animationstart",$,p)}}),B}stopMonitoring(C){const D=(0,e.i8)(C),A=this._monitoredElements.get(D);A&&(A.unlisten(),A.subject.complete(),D.classList.remove("cdk-text-field-autofill-monitored"),D.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(D))}ngOnDestroy(){this._monitoredElements.forEach((C,D)=>this.stopMonitoring(D))}static#e=this.\u0275fac=function(D){return new(D||I)(l.KVO(n.OD),l.KVO(l.SKi))};static#t=this.\u0275prov=l.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})(),y=(()=>{class I{static#e=this.\u0275fac=function(D){return new(D||I)};static#t=this.\u0275mod=l.$C({type:I});static#n=this.\u0275inj=l.G2t({})}return I})();var R=o(9417),m=o(6600),v=o(3719);const S=new l.nKC("MAT_INPUT_VALUE_ACCESSOR"),P=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let M=0,w=(()=>{class I{get disabled(){return this._disabled}set disabled(C){this._disabled=(0,e.he)(C),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(C){this._id=C||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(R.k0.required)??!1}set required(C){this._required=(0,e.he)(C)}get type(){return this._type}set type(C){this._type=C||"text",this._validateType(),!this._isTextarea&&(0,n.MU)().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(C){this._errorStateTracker.matcher=C}get value(){return this._inputValueAccessor.value}set value(C){C!==this.value&&(this._inputValueAccessor.value=C,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(C){this._readonly=(0,e.he)(C)}get errorState(){return this._errorStateTracker.errorState}set errorState(C){this._errorStateTracker.errorState=C}constructor(C,D,A,B,F,$,U,G,J,te){this._elementRef=C,this._platform=D,this.ngControl=A,this._autofillMonitor=G,this._ngZone=J,this._formField=te,this._uid="mat-input-"+M++,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new g.B7,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(k=>(0,n.MU)().has(k)),this._iOSKeyupListener=k=>{const j=k.target;!j.value&&0===j.selectionStart&&0===j.selectionEnd&&(j.setSelectionRange(1,1),j.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};const ne=this._elementRef.nativeElement,K=ne.nodeName.toLowerCase();this._inputValueAccessor=U||ne,this._previousNativeValue=this.value,this.id=this.id,D.IOS&&J.runOutsideAngular(()=>{C.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new m.X0($,A,F,B,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===K,this._isTextarea="textarea"===K,this._isInFormField=!!te,this._isNativeSelect&&(this.controlType=ne.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(C=>{this.autofilled=C.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(C){this._elementRef.nativeElement.focus(C)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(C){C!==this.focused&&(this.focused=C,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const C=this._elementRef.nativeElement.value;this._previousNativeValue!==C&&(this._previousNativeValue=C,this.stateChanges.next())}_dirtyCheckPlaceholder(){const C=this._getPlaceholder();if(C!==this._previousPlaceholder){const D=this._elementRef.nativeElement;this._previousPlaceholder=C,C?D.setAttribute("placeholder",C):D.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){P.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let C=this._elementRef.nativeElement.validity;return C&&C.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const C=this._elementRef.nativeElement,D=C.options[0];return this.focused||C.multiple||!this.empty||!!(C.selectedIndex>-1&&D&&D.label)}return this.focused||!this.empty}setDescribedByIds(C){C.length?this._elementRef.nativeElement.setAttribute("aria-describedby",C.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const C=this._elementRef.nativeElement;return this._isNativeSelect&&(C.multiple||C.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&"number"===this._type&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&"number"!==this._type&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}static#e=this.\u0275fac=function(D){return new(D||I)(l.rXU(l.aKT),l.rXU(n.OD),l.rXU(R.vO,10),l.rXU(R.cV,8),l.rXU(R.j4,8),l.rXU(m.es),l.rXU(S,10),l.rXU(f),l.rXU(l.SKi),l.rXU(v.xb,8))};static#t=this.\u0275dir=l.FsC({type:I,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(D,A){1&D&&l.bIt("focus",function(){return A._focusChanged(!0)})("blur",function(){return A._focusChanged(!1)})("input",function(){return A._onInput()}),2&D&&(l.Mr5("id",A.id)("disabled",A.disabled)("required",A.required),l.BMQ("name",A.name||null)("readonly",A.readonly&&!A._isNativeSelect||null)("aria-invalid",A.empty&&A.required?null:A.errorState)("aria-required",A.required)("id",A.id),l.AVh("mat-input-server",A._isServer)("mat-mdc-form-field-textarea-control",A._isInFormField&&A._isTextarea)("mat-mdc-form-field-input-control",A._isInFormField)("mdc-text-field__input",A._isInFormField)("mat-mdc-native-select-inline",A._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[l.Jv_([{provide:v.qT,useExisting:I}]),l.OA$]})}return I})(),x=(()=>{class I{static#e=this.\u0275fac=function(D){return new(D||I)};static#t=this.\u0275mod=l.$C({type:I});static#n=this.\u0275inj=l.G2t({imports:[m.yE,v.RG,v.RG,y,m.yE]})}return I})()},9115:(gt,re,o)=>{"use strict";o.d(re,{Cn:()=>Ee,Cp:()=>pe,fb:()=>J,kk:()=>Oe});var e=o(3953),n=o(8617),l=o(7336),h=o(5286),g=o(4670),p=o(4337),f=o(4421),b=o(5516),d=o(3176),y=o(9090),R=o(7605),m=o(8728),v=o(9493),O=o(8002),S=o(177),P=o(6600),M=o(6939),w=o(9969),x=o(8203),I=o(7987),_=o(6860),C=o(494);const D=["mat-menu-item",""],A=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],B=["mat-icon, [matMenuItemIcon]","*"];function F(Ge,Qe){1&Ge&&(e.qSk(),e.j41(0,"svg",2),e.nrm(1,"polygon",3),e.k0s())}const $=["*"];function U(Ge,Qe){if(1&Ge){const $e=e.RV6();e.j41(0,"div",0),e.bIt("keydown",function(xt){e.eBV($e);const Pt=e.XpG();return e.Njj(Pt._handleKeydown(xt))})("click",function(){e.eBV($e);const xt=e.XpG();return e.Njj(xt.closed.emit("click"))})("@transformMenu.start",function(xt){e.eBV($e);const Pt=e.XpG();return e.Njj(Pt._onAnimationStart(xt))})("@transformMenu.done",function(xt){e.eBV($e);const Pt=e.XpG();return e.Njj(Pt._onAnimationDone(xt))}),e.j41(1,"div",1),e.SdG(2),e.k0s()()}if(2&Ge){const $e=e.XpG();e.HbH($e._classList),e.Y8G("id",$e.panelId)("@transformMenu",$e._panelAnimationState),e.BMQ("aria-label",$e.ariaLabel||null)("aria-labelledby",$e.ariaLabelledby||null)("aria-describedby",$e.ariaDescribedby||null)}}const G=new e.nKC("MAT_MENU_PANEL");let J=(()=>{class Ge{constructor($e,tt,xt,Pt,yt){this._elementRef=$e,this._document=tt,this._focusMonitor=xt,this._parentMenu=Pt,this._changeDetectorRef=yt,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new h.B7,this._focused=new h.B7,this._highlighted=!1,this._triggersSubmenu=!1,Pt?.addItem?.(this)}focus($e,tt){this._focusMonitor&&$e?this._focusMonitor.focusVia(this._getHostElement(),$e,tt):this._getHostElement().focus(tt),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled($e){this.disabled&&($e.preventDefault(),$e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const $e=this._elementRef.nativeElement.cloneNode(!0),tt=$e.querySelectorAll("mat-icon, .material-icons");for(let xt=0;xt<tt.length;xt++)tt[xt].remove();return $e.textContent?.trim()||""}_setHighlighted($e){this._highlighted=$e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu($e){this._triggersSubmenu=$e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(tt){return new(tt||Ge)(e.rXU(e.aKT),e.rXU(S.qQ),e.rXU(n.FN),e.rXU(G,8),e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:Ge,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(tt,xt){1&tt&&e.bIt("click",function(yt){return xt._checkDisabled(yt)})("mouseenter",function(){return xt._handleMouseEnter()}),2&tt&&(e.BMQ("role",xt.role)("tabindex",xt._getTabIndex())("aria-disabled",xt.disabled)("disabled",xt.disabled||null),e.AVh("mat-mdc-menu-item-highlighted",xt._highlighted)("mat-mdc-menu-item-submenu-trigger",xt._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",e.L39],disableRipple:[2,"disableRipple","disableRipple",e.L39]},exportAs:["matMenuItem"],standalone:!0,features:[e.GFd,e.aNF],attrs:D,ngContentSelectors:B,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(tt,xt){1&tt&&(e.NAR(A),e.SdG(0),e.j41(1,"span",0),e.SdG(2,1),e.k0s(),e.nrm(3,"div",1),e.DNE(4,F,2,0,":svg:svg",2)),2&tt&&(e.R7$(3),e.Y8G("matRippleDisabled",xt.disableRipple||xt.disabled)("matRippleTrigger",xt._getHostElement()),e.R7$(),e.vxM(xt._triggersSubmenu?4:-1))},dependencies:[P.r6],encapsulation:2,changeDetection:0})}return Ge})();const k=new e.nKC("MatMenuContent"),W={transformMenu:(0,w.hZ)("transformMenu",[(0,w.wk)("void",(0,w.iF)({opacity:0,transform:"scale(0.8)"})),(0,w.kY)("void => enter",(0,w.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,w.iF)({opacity:1,transform:"scale(1)"}))),(0,w.kY)("* => void",(0,w.i0)("100ms 25ms linear",(0,w.iF)({opacity:0})))]),fadeInItems:(0,w.hZ)("fadeInItems",[(0,w.wk)("showing",(0,w.iF)({opacity:1})),(0,w.kY)("void => *",[(0,w.iF)({opacity:0}),(0,w.i0)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let oe=0;const me=new e.nKC("mat-menu-default-options",{providedIn:"root",factory:function he(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Oe=(()=>{class Ge{get xPosition(){return this._xPosition}set xPosition($e){this._xPosition=$e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition($e){this._yPosition=$e,this.setPositionClasses()}set panelClass($e){const tt=this._previousPanelClass,xt={...this._classList};tt&&tt.length&&tt.split(" ").forEach(Pt=>{xt[Pt]=!1}),this._previousPanelClass=$e,$e&&$e.length&&($e.split(" ").forEach(Pt=>{xt[Pt]=!0}),this._elementRef.nativeElement.className=""),this._classList=xt}get classList(){return this.panelClass}set classList($e){this.panelClass=$e}constructor($e,tt,xt,Pt){this._elementRef=$e,this._changeDetectorRef=Pt,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new e.rOR,this._classList={},this._panelAnimationState="void",this._animationDone=new h.B7,this.closed=new e.bkB,this.close=this.closed,this.panelId="mat-menu-panel-"+oe++,this._injector=(0,e.WQX)(e.zZn),this.overlayPanelClass=xt.overlayPanelClass||"",this._xPosition=xt.xPosition,this._yPosition=xt.yPosition,this.backdropClass=xt.backdropClass,this.overlapTrigger=xt.overlapTrigger,this.hasBackdrop=xt.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new n.Bu(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,d.Z)(this._directDescendantItems),(0,y.n)($e=>(0,g.h)(...$e.map(tt=>tt._focused)))).subscribe($e=>this._keyManager.updateActiveItem($e)),this._directDescendantItems.changes.subscribe($e=>{const tt=this._keyManager;if("enter"===this._panelAnimationState&&tt.activeItem?._hasFocus()){const xt=$e.toArray(),Pt=Math.max(0,Math.min(xt.length-1,tt.activeItemIndex||0));xt[Pt]&&!xt[Pt].disabled?tt.setActiveItem(Pt):tt.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe((0,d.Z)(this._directDescendantItems),(0,y.n)(tt=>(0,g.h)(...tt.map(xt=>xt._hovered))))}addItem($e){}removeItem($e){}_handleKeydown($e){const tt=$e.keyCode,xt=this._keyManager;switch(tt){case l._f:(0,l.rp)($e)||($e.preventDefault(),this.closed.emit("keydown"));break;case l.UQ:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case l.LE:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(tt===l.i7||tt===l.n6)&&xt.setFocusOrigin("keyboard"),void xt.onKeydown($e)}$e.stopPropagation()}focusFirstItem($e="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=(0,e.mal)(()=>{let tt=null;if(this._directDescendantItems.length&&(tt=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!tt||!tt.contains(document.activeElement)){const xt=this._keyManager;xt.setFocusOrigin($e).setFirstItemActive(),!xt.activeItem&&tt&&tt.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation($e){if(null===this._baseElevation){const Le=("function"==typeof getComputedStyle?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt(Le)}const tt=Math.min(this._baseElevation+$e,24),xt=`${this._elevationPrefix}${tt}`,Pt=Object.keys(this._classList).find(yt=>yt.startsWith(this._elevationPrefix));if(!Pt||Pt===this._previousElevation){const yt={...this._classList};this._previousElevation&&(yt[this._previousElevation]=!1),yt[xt]=!0,this._previousElevation=xt,this._classList=yt}}setPositionClasses($e=this.xPosition,tt=this.yPosition){this._classList={...this._classList,"mat-menu-before":"before"===$e,"mat-menu-after":"after"===$e,"mat-menu-above":"above"===tt,"mat-menu-below":"below"===tt},this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone($e){this._animationDone.next($e),this._isAnimating=!1}_onAnimationStart($e){this._isAnimating=!0,"enter"===$e.toState&&0===this._keyManager.activeItemIndex&&($e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,d.Z)(this._allItems)).subscribe($e=>{this._directDescendantItems.reset($e.filter(tt=>tt._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(tt){return new(tt||Ge)(e.rXU(e.aKT),e.rXU(e.SKi),e.rXU(me),e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:Ge,selectors:[["mat-menu"]],contentQueries:function(tt,xt,Pt){if(1&tt&&(e.wni(Pt,k,5),e.wni(Pt,J,5),e.wni(Pt,J,4)),2&tt){let yt;e.mGM(yt=e.lsd())&&(xt.lazyContent=yt.first),e.mGM(yt=e.lsd())&&(xt._allItems=yt),e.mGM(yt=e.lsd())&&(xt.items=yt)}},viewQuery:function(tt,xt){if(1&tt&&e.GBs(e.C4Q,5),2&tt){let Pt;e.mGM(Pt=e.lsd())&&(xt.templateRef=Pt.first)}},hostVars:3,hostBindings:function(tt,xt){2&tt&&e.BMQ("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",e.L39],hasBackdrop:[2,"hasBackdrop","hasBackdrop",$e=>null==$e?null:(0,e.L39)($e)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[e.Jv_([{provide:G,useExisting:Ge}]),e.GFd,e.aNF],ngContentSelectors:$,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(tt,xt){1&tt&&(e.NAR(),e.DNE(0,U,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color);margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[W.transformMenu,W.fadeInItems]},changeDetection:0})}return Ge})();const we=new e.nKC("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const Ge=(0,e.WQX)(I.hJ);return()=>Ge.scrollStrategies.reposition()}}),Xe={provide:we,deps:[I.hJ],useFactory:function We(Ge){return()=>Ge.scrollStrategies.reposition()}},Me=(0,_.BQ)({passive:!0});let pe=(()=>{class Ge{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor($e){this.menu=$e}get menu(){return this._menu}set menu($e){$e!==this._menu&&(this._menu=$e,this._menuCloseSubscription.unsubscribe(),$e&&(this._menuCloseSubscription=$e.close.subscribe(tt=>{this._destroyMenu(tt),("click"===tt||"tab"===tt)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(tt)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor($e,tt,xt,Pt,yt,Le,De,V,ue){this._overlay=$e,this._element=tt,this._viewContainerRef=xt,this._menuItemInstance=Le,this._dir=De,this._focusMonitor=V,this._ngZone=ue,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=p.y.EMPTY,this._hoverSubscription=p.y.EMPTY,this._menuCloseSubscription=p.y.EMPTY,this._changeDetectorRef=(0,e.WQX)(e.gRc),this._handleTouchStart=Q=>{(0,n.w6)(Q)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new e.bkB,this.onMenuOpen=this.menuOpened,this.menuClosed=new e.bkB,this.onMenuClose=this.menuClosed,this._scrollStrategy=Pt,this._parentMaterialMenu=yt instanceof Oe?yt:void 0,tt.nativeElement.addEventListener("touchstart",this._handleTouchStart,Me)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Me),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const $e=this.menu;if(this._menuOpen||!$e)return;const tt=this._createOverlay($e),xt=tt.getConfig(),Pt=xt.positionStrategy;this._setPosition($e,Pt),xt.hasBackdrop=null==$e.hasBackdrop?!this.triggersSubmenu():$e.hasBackdrop,tt.attach(this._getPortal($e)),$e.lazyContent&&$e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu($e),$e instanceof Oe&&($e._startAnimation(),$e._directDescendantItems.changes.pipe((0,R.Q)($e.close)).subscribe(()=>{Pt.withLockedPosition(!1).reapplyLastPosition(),Pt.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus($e,tt){this._focusMonitor&&$e?this._focusMonitor.focusVia(this._element,$e,tt):this._element.nativeElement.focus(tt)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu($e){if(!this._overlayRef||!this.menuOpen)return;const tt=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===$e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,tt instanceof Oe?(tt._resetAnimation(),tt.lazyContent?tt._animationDone.pipe((0,m.p)(xt=>"void"===xt.toState),(0,v.s)(1),(0,R.Q)(tt.lazyContent._attached)).subscribe({next:()=>tt.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),tt?.lazyContent?.detach())}_initMenu($e){$e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,$e.direction=this.dir,this._setMenuElevation($e),$e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation($e){if($e.setElevation){let tt=0,xt=$e.parentMenu;for(;xt;)tt++,xt=xt.parentMenu;$e.setElevation(tt)}}_setIsMenuOpen($e){$e!==this._menuOpen&&(this._menuOpen=$e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted($e),this._changeDetectorRef.markForCheck())}_createOverlay($e){if(!this._overlayRef){const tt=this._getOverlayConfig($e);this._subscribeToPositions($e,tt.positionStrategy),this._overlayRef=this._overlay.create(tt),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig($e){return new I.rR({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:$e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:$e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions($e,tt){$e.setPositionClasses&&tt.positionChanges.subscribe(xt=>{const Pt="start"===xt.connectionPair.overlayX?"after":"before",yt="top"===xt.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>$e.setPositionClasses(Pt,yt)):$e.setPositionClasses(Pt,yt)})}_setPosition($e,tt){let[xt,Pt]="before"===$e.xPosition?["end","start"]:["start","end"],[yt,Le]="above"===$e.yPosition?["bottom","top"]:["top","bottom"],[De,V]=[yt,Le],[ue,Q]=[xt,Pt],Te=0;if(this.triggersSubmenu()){if(Q=xt="before"===$e.xPosition?"start":"end",Pt=ue="end"===xt?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const Je=this._parentMaterialMenu.items.first;this._parentInnerPadding=Je?Je._getHostElement().offsetTop:0}Te="bottom"===yt?this._parentInnerPadding:-this._parentInnerPadding}}else $e.overlapTrigger||(De="top"===yt?"bottom":"top",V="top"===Le?"bottom":"top");tt.withPositions([{originX:xt,originY:De,overlayX:ue,overlayY:yt,offsetY:Te},{originX:Pt,originY:De,overlayX:Q,overlayY:yt,offsetY:Te},{originX:xt,originY:V,overlayX:ue,overlayY:Le,offsetY:-Te},{originX:Pt,originY:V,overlayX:Q,overlayY:Le,offsetY:-Te}])}_menuClosingActions(){const $e=this._overlayRef.backdropClick(),tt=this._overlayRef.detachments(),xt=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,f.of)(),Pt=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,m.p)(yt=>yt!==this._menuItemInstance),(0,m.p)(()=>this._menuOpen)):(0,f.of)();return(0,g.h)($e,xt,Pt,tt)}_handleMousedown($e){(0,n._G)($e)||(this._openedBy=0===$e.button?"mouse":void 0,this.triggersSubmenu()&&$e.preventDefault())}_handleKeydown($e){const tt=$e.keyCode;(tt===l.Fm||tt===l.t6)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(tt===l.LE&&"ltr"===this.dir||tt===l.UQ&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick($e){this.triggersSubmenu()?($e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,m.p)($e=>$e===this._menuItemInstance&&!$e.disabled),(0,O.c)(0,b.$)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Oe&&this.menu._isAnimating?this.menu._animationDone.pipe((0,v.s)(1),(0,O.c)(0,b.$),(0,R.Q)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal($e){return(!this._portal||this._portal.templateRef!==$e.templateRef)&&(this._portal=new M.VA($e.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(tt){return new(tt||Ge)(e.rXU(I.hJ),e.rXU(e.aKT),e.rXU(e.c1b),e.rXU(we),e.rXU(G,8),e.rXU(J,10),e.rXU(x.dS,8),e.rXU(n.FN),e.rXU(e.SKi))};static#t=this.\u0275dir=e.FsC({type:Ge,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(tt,xt){1&tt&&e.bIt("click",function(yt){return xt._handleClick(yt)})("mousedown",function(yt){return xt._handleMousedown(yt)})("keydown",function(yt){return xt._handleKeydown(yt)}),2&tt&&e.BMQ("aria-haspopup",xt.menu?"menu":null)("aria-expanded",xt.menuOpen)("aria-controls",xt.menuOpen?xt.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0})}return Ge})(),Ee=(()=>{class Ge{static#e=this.\u0275fac=function(tt){return new(tt||Ge)};static#t=this.\u0275mod=e.$C({type:Ge});static#n=this.\u0275inj=e.G2t({providers:[Xe],imports:[S.MD,P.pZ,P.yE,I.z_,C.Gj,P.yE]})}return Ge})()},6695:(gt,re,o)=>{"use strict";o.d(re,{Ou:()=>D,iy:()=>C});var e=o(3953),n=o(5286),l=o(6607),h=o(8834),g=o(2798),p=o(4823),f=o(6600),b=o(3719);function d(A,B){if(1&A&&(e.j41(0,"mat-option",17),e.EFF(1),e.k0s()),2&A){const F=B.$implicit;e.Y8G("value",F),e.R7$(),e.SpI(" ",F," ")}}function y(A,B){if(1&A){const F=e.RV6();e.j41(0,"mat-form-field",14)(1,"mat-select",16,0),e.bIt("selectionChange",function(U){e.eBV(F);const G=e.XpG(2);return e.Njj(G._changePageSize(U.value))}),e.Z7z(3,d,2,2,"mat-option",17,e.fX1),e.k0s(),e.j41(5,"div",18),e.bIt("click",function(){e.eBV(F);const U=e.sdS(2);return e.Njj(U.open())}),e.k0s()()}if(2&A){const F=e.XpG(2);e.Y8G("appearance",F._formFieldAppearance)("color",F.color),e.R7$(),e.Y8G("value",F.pageSize)("disabled",F.disabled)("aria-labelledby",F._pageSizeLabelId)("panelClass",F.selectConfig.panelClass||"")("disableOptionCentering",F.selectConfig.disableOptionCentering),e.R7$(2),e.Dyx(F._displayedPageSizeOptions)}}function R(A,B){if(1&A&&(e.j41(0,"div",15),e.EFF(1),e.k0s()),2&A){const F=e.XpG(2);e.R7$(),e.JRh(F.pageSize)}}function m(A,B){if(1&A&&(e.j41(0,"div",3)(1,"div",13),e.EFF(2),e.k0s(),e.DNE(3,y,6,7,"mat-form-field",14)(4,R,2,1,"div",15),e.k0s()),2&A){const F=e.XpG();e.R7$(),e.BMQ("id",F._pageSizeLabelId),e.R7$(),e.SpI(" ",F._intl.itemsPerPageLabel," "),e.R7$(),e.vxM(F._displayedPageSizeOptions.length>1?3:-1),e.R7$(),e.vxM(F._displayedPageSizeOptions.length<=1?4:-1)}}function v(A,B){if(1&A){const F=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(F);const U=e.XpG();return e.Njj(U.firstPage())}),e.qSk(),e.j41(1,"svg",8),e.nrm(2,"path",20),e.k0s()()}if(2&A){const F=e.XpG();e.Y8G("matTooltip",F._intl.firstPageLabel)("matTooltipDisabled",F._previousButtonsDisabled())("matTooltipPosition","above")("disabled",F._previousButtonsDisabled()),e.BMQ("aria-label",F._intl.firstPageLabel)}}function O(A,B){if(1&A){const F=e.RV6();e.j41(0,"button",21),e.bIt("click",function(){e.eBV(F);const U=e.XpG();return e.Njj(U.lastPage())}),e.qSk(),e.j41(1,"svg",8),e.nrm(2,"path",22),e.k0s()()}if(2&A){const F=e.XpG();e.Y8G("matTooltip",F._intl.lastPageLabel)("matTooltipDisabled",F._nextButtonsDisabled())("matTooltipPosition","above")("disabled",F._nextButtonsDisabled()),e.BMQ("aria-label",F._intl.lastPageLabel)}}let S=(()=>{class A{constructor(){this.changes=new n.B7,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(F,$,U)=>{if(0==U||0==$)return`0 of ${U}`;const G=F*$;return`${G+1} \u2013 ${G<(U=Math.max(U,0))?Math.min(G+$,U):G+$} of ${U}`}}static#e=this.\u0275fac=function($){return new($||A)};static#t=this.\u0275prov=e.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})();const M={provide:S,deps:[[new e.Xx1,new e.kdw,S]],useFactory:function P(A){return A||new S}},I=new e.nKC("MAT_PAGINATOR_DEFAULT_OPTIONS");let _=0,C=(()=>{class A{get pageIndex(){return this._pageIndex}set pageIndex(F){this._pageIndex=Math.max(F||0,0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(F){this._length=F||0,this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(F){this._pageSize=Math.max(F||0,0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(F){this._pageSizeOptions=(F||[]).map($=>(0,e.Udg)($,0)),this._updateDisplayedPageSizeOptions()}constructor(F,$,U){if(this._intl=F,this._changeDetectorRef=$,this._pageSizeLabelId="mat-paginator-page-size-label-"+_++,this._isInitialized=!1,this._initializedStream=new l.m(1),this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this.hidePageSize=!1,this.showFirstLastButtons=!1,this.selectConfig={},this.disabled=!1,this.page=new e.bkB,this.initialized=this._initializedStream,this._intlChanges=F.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),U){const{pageSize:G,pageSizeOptions:J,hidePageSize:te,showFirstLastButtons:ne}=U;null!=G&&(this._pageSize=G),null!=J&&(this._pageSizeOptions=J),null!=te&&(this.hidePageSize=te),null!=ne&&(this.showFirstLastButtons=ne)}this._formFieldAppearance=U?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const F=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(F)}previousPage(){if(!this.hasPreviousPage())return;const F=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(F)}firstPage(){if(!this.hasPreviousPage())return;const F=this.pageIndex;this.pageIndex=0,this._emitPageEvent(F)}lastPage(){if(!this.hasNextPage())return;const F=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(F)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const F=this.getNumberOfPages()-1;return this.pageIndex<F&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(F){const U=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/F)||0,this.pageSize=F,this._emitPageEvent(U)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((F,$)=>F-$),this._changeDetectorRef.markForCheck())}_emitPageEvent(F){this.page.emit({previousPageIndex:F,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static#e=this.\u0275fac=function($){return new($||A)(e.rXU(S),e.rXU(e.gRc),e.rXU(I,8))};static#t=this.\u0275cmp=e.VBU({type:A,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[2,"pageIndex","pageIndex",e.Udg],length:[2,"length","length",e.Udg],pageSize:[2,"pageSize","pageSize",e.Udg],pageSizeOptions:"pageSizeOptions",hidePageSize:[2,"hidePageSize","hidePageSize",e.L39],showFirstLastButtons:[2,"showFirstLastButtons","showFirstLastButtons",e.L39],selectConfig:"selectConfig",disabled:[2,"disabled","disabled",e.L39]},outputs:{page:"page"},exportAs:["matPaginator"],standalone:!0,features:[e.GFd,e.aNF],decls:14,vars:14,consts:[["selectRef",""],[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],[1,"mat-mdc-paginator-touch-target",3,"click"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function($,U){1&$&&(e.j41(0,"div",1)(1,"div",2),e.DNE(2,m,5,4,"div",3),e.j41(3,"div",4)(4,"div",5),e.EFF(5),e.k0s(),e.DNE(6,v,3,5,"button",6),e.j41(7,"button",7),e.bIt("click",function(){return U.previousPage()}),e.qSk(),e.j41(8,"svg",8),e.nrm(9,"path",9),e.k0s()(),e.joV(),e.j41(10,"button",10),e.bIt("click",function(){return U.nextPage()}),e.qSk(),e.j41(11,"svg",8),e.nrm(12,"path",11),e.k0s()(),e.DNE(13,O,3,5,"button",12),e.k0s()()()),2&$&&(e.R7$(2),e.vxM(U.hidePageSize?-1:2),e.R7$(3),e.SpI(" ",U._intl.getRangeLabel(U.pageIndex,U.pageSize,U.length)," "),e.R7$(),e.vxM(U.showFirstLastButtons?6:-1),e.R7$(),e.Y8G("matTooltip",U._intl.previousPageLabel)("matTooltipDisabled",U._previousButtonsDisabled())("matTooltipPosition","above")("disabled",U._previousButtonsDisabled()),e.BMQ("aria-label",U._intl.previousPageLabel),e.R7$(3),e.Y8G("matTooltip",U._intl.nextPageLabel)("matTooltipDisabled",U._nextButtonsDisabled())("matTooltipPosition","above")("disabled",U._nextButtonsDisabled()),e.BMQ("aria-label",U._intl.nextPageLabel),e.R7$(3),e.vxM(U.showFirstLastButtons?13:-1))},dependencies:[b.rl,g.VO,f.wT,h.iY,p.oV],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color);background-color:var(--mat-paginator-container-background-color);font-family:var(--mat-paginator-container-text-font);line-height:var(--mat-paginator-container-text-line-height);font-size:var(--mat-paginator-container-text-size);font-weight:var(--mat-paginator-container-text-weight);letter-spacing:var(--mat-paginator-container-text-tracking);--mat-form-field-container-height:var(--mat-paginator-form-field-container-height);--mat-form-field-container-vertical-padding:var(--mat-paginator-form-field-container-vertical-padding)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size)}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color)}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display);position:absolute;top:50%;left:50%;width:84px;height:48px;background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}"],encapsulation:2,changeDetection:0})}return A})(),D=(()=>{class A{static#e=this.\u0275fac=function($){return new($||A)};static#t=this.\u0275mod=e.$C({type:A});static#n=this.\u0275inj=e.G2t({providers:[M],imports:[h.Hl,g.Ve,p.uc,C]})}return A})()},7575:(gt,re,o)=>{"use strict";o.d(re,{HM:()=>b,PO:()=>y});var e=o(3953),l=(o(177),o(6600));function h(R,m){1&R&&e.nrm(0,"div",2)}const g=new e.nKC("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let b=(()=>{class R{constructor(v,O,S,P,M){this._elementRef=v,this._ngZone=O,this._changeDetectorRef=S,this._animationMode=P,this._isNoopAnimation=!1,this._defaultColor="primary",this._value=0,this._bufferValue=0,this.animationEnd=new e.bkB,this._mode="determinate",this._transitionendHandler=w=>{0===this.animationEnd.observers.length||!w.target||!w.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation="NoopAnimations"===P,M&&(M.color&&(this.color=this._defaultColor=M.color),this.mode=M.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(v){this._color=v}get value(){return this._value}set value(v){this._value=d(v||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(v){this._bufferValue=d(v||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(v){this._mode=v,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}static#e=this.\u0275fac=function(O){return new(O||R)(e.rXU(e.aKT),e.rXU(e.SKi),e.rXU(e.gRc),e.rXU(e.bc$,8),e.rXU(g,8))};static#t=this.\u0275cmp=e.VBU({type:R,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(O,S){2&O&&(e.BMQ("aria-valuenow",S._isIndeterminate()?null:S.value)("mode",S.mode),e.HbH("mat-"+S.color),e.AVh("_mat-animation-noopable",S._isNoopAnimation)("mdc-linear-progress--animation-ready",!S._isNoopAnimation)("mdc-linear-progress--indeterminate",S._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",e.Udg],bufferValue:[2,"bufferValue","bufferValue",e.Udg],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],standalone:!0,features:[e.GFd,e.aNF],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(O,S){1&O&&(e.j41(0,"div",0),e.nrm(1,"div",1),e.DNE(2,h,1,0,"div",2),e.k0s(),e.j41(3,"div",3),e.nrm(4,"span",4),e.k0s(),e.j41(5,"div",5),e.nrm(6,"span",4),e.k0s()),2&O&&(e.R7$(),e.xc7("flex-basis",S._getBufferBarFlexBasis()),e.R7$(),e.vxM("buffer"===S.mode?2:-1),e.R7$(),e.xc7("transform",S._getPrimaryBarTransform()))},styles:[".mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height),var(--mdc-linear-progress-active-indicator-height))}.cdk-high-contrast-active .mdc-linear-progress{outline-color:CanvasText}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color);border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height);border-radius:var(--mdc-linear-progress-track-shape)}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color)}.cdk-high-contrast-active .mdc-linear-progress__buffer-dots{background-color:ButtonBorder}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}"],encapsulation:2,changeDetection:0})}return R})();function d(R,m=0,v=100){return Math.max(m,Math.min(v,R))}let y=(()=>{class R{static#e=this.\u0275fac=function(O){return new(O||R)};static#t=this.\u0275mod=e.$C({type:R});static#n=this.\u0275inj=e.G2t({imports:[l.yE]})}return R})()},9183:(gt,re,o)=>{"use strict";o.d(re,{D6:()=>m,LG:()=>y});var e=o(3953),n=o(177),l=o(6600);const h=["determinateSpinner"];function g(v,O){if(1&v&&(e.qSk(),e.j41(0,"svg",11),e.nrm(1,"circle",12),e.k0s()),2&v){const S=e.XpG();e.BMQ("viewBox",S._viewBox()),e.R7$(),e.xc7("stroke-dasharray",S._strokeCircumference(),"px")("stroke-dashoffset",S._strokeCircumference()/2,"px")("stroke-width",S._circleStrokeWidth(),"%"),e.BMQ("r",S._circleRadius())}}const p=new e.nKC("mat-progress-spinner-default-options",{providedIn:"root",factory:function f(){return{diameter:b}}}),b=100;let y=(()=>{class v{get color(){return this._color||this._defaultColor}set color(S){this._color=S}constructor(S,P,M){this._elementRef=S,this._defaultColor="primary",this._value=0,this._diameter=b,this._noopAnimations="NoopAnimations"===P&&!!M&&!M._forceAnimations,this.mode="mat-spinner"===S.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",M&&(M.color&&(this.color=this._defaultColor=M.color),M.diameter&&(this.diameter=M.diameter),M.strokeWidth&&(this.strokeWidth=M.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(S){this._value=Math.max(0,Math.min(100,S||0))}get diameter(){return this._diameter}set diameter(S){this._diameter=S||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(S){this._strokeWidth=S||0}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const S=2*this._circleRadius()+this.strokeWidth;return`0 0 ${S} ${S}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(P){return new(P||v)(e.rXU(e.aKT),e.rXU(e.bc$,8),e.rXU(p))};static#t=this.\u0275cmp=e.VBU({type:v,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(P,M){if(1&P&&e.GBs(h,5),2&P){let w;e.mGM(w=e.lsd())&&(M._determinateCircle=w.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(P,M){2&P&&(e.BMQ("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===M.mode?M.value:null)("mode",M.mode),e.HbH("mat-"+M.color),e.xc7("width",M.diameter,"px")("height",M.diameter,"px")("--mdc-circular-progress-size",M.diameter+"px")("--mdc-circular-progress-active-indicator-width",M.diameter+"px"),e.AVh("_mat-animation-noopable",M._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===M.mode))},inputs:{color:"color",mode:"mode",value:[2,"value","value",e.Udg],diameter:[2,"diameter","diameter",e.Udg],strokeWidth:[2,"strokeWidth","strokeWidth",e.Udg]},exportAs:["matProgressSpinner"],standalone:!0,features:[e.GFd,e.aNF],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(P,M){if(1&P&&(e.DNE(0,g,2,8,"ng-template",null,0,e.C5r),e.j41(2,"div",2,1),e.qSk(),e.j41(4,"svg",3),e.nrm(5,"circle",4),e.k0s()(),e.joV(),e.j41(6,"div",5)(7,"div",6)(8,"div",7),e.eu8(9,8),e.k0s(),e.j41(10,"div",9),e.eu8(11,8),e.k0s(),e.j41(12,"div",10),e.eu8(13,8),e.k0s()()()),2&P){const w=e.sdS(1);e.R7$(4),e.BMQ("viewBox",M._viewBox()),e.R7$(),e.xc7("stroke-dasharray",M._strokeCircumference(),"px")("stroke-dashoffset",M._strokeDashOffset(),"px")("stroke-width",M._circleStrokeWidth(),"%"),e.BMQ("r",M._circleRadius()),e.R7$(4),e.Y8G("ngTemplateOutlet",w),e.R7$(2),e.Y8G("ngTemplateOutlet",w),e.R7$(2),e.Y8G("ngTemplateOutlet",w)}},dependencies:[n.T3],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0})}return v})(),m=(()=>{class v{static#e=this.\u0275fac=function(P){return new(P||v)};static#t=this.\u0275mod=e.$C({type:v});static#n=this.\u0275inj=e.G2t({imports:[n.MD,l.yE]})}return v})()},5951:(gt,re,o)=>{"use strict";o.d(re,{VT:()=>P,Wk:()=>w,_g:()=>M});var e=o(8617),n=o(5024),l=o(3953),h=o(9417),g=o(6600),p=o(177);const f=["input"],b=["formField"],d=["*"];let y=0;class R{constructor(I,_){this.source=I,this.value=_}}const m={provide:h.kq,useExisting:(0,l.Rfq)(()=>P),multi:!0},v=new l.nKC("MatRadioGroup"),O=new l.nKC("mat-radio-default-options",{providedIn:"root",factory:function S(){return{color:"accent"}}});let P=(()=>{class x{get name(){return this._name}set name(_){this._name=_,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(_){this._labelPosition="before"===_?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(_){this._value!==_&&(this._value=_,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(_){this._selected=_,this.value=_?_.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(_){this._disabled=_,this._markRadiosForCheck()}get required(){return this._required}set required(_){this._required=_,this._markRadiosForCheck()}constructor(_){this._changeDetector=_,this._value=null,this._name="mat-radio-group-"+y++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new l.bkB}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(_=>_===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(_=>{_.name=this.name,_._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(C=>{C.checked=this.value===C.value,C.checked&&(this._selected=C)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new R(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(_=>_._markForCheck())}writeValue(_){this.value=_,this._changeDetector.markForCheck()}registerOnChange(_){this._controlValueAccessorChangeFn=_}registerOnTouched(_){this.onTouched=_}setDisabledState(_){this.disabled=_,this._changeDetector.markForCheck()}static#e=this.\u0275fac=function(C){return new(C||x)(l.rXU(l.gRc))};static#t=this.\u0275dir=l.FsC({type:x,selectors:[["mat-radio-group"]],contentQueries:function(C,D,A){if(1&C&&l.wni(A,M,5),2&C){let B;l.mGM(B=l.lsd())&&(D._radios=B)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[2,"disabled","disabled",l.L39],required:[2,"required","required",l.L39]},outputs:{change:"change"},exportAs:["matRadioGroup"],standalone:!0,features:[l.Jv_([m,{provide:v,useExisting:x}]),l.GFd]})}return x})(),M=(()=>{class x{get checked(){return this._checked}set checked(_){this._checked!==_&&(this._checked=_,_&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!_&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),_&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(_){this._value!==_&&(this._value=_,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===_),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(_){this._labelPosition=_}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(_){this._setDisabled(_)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(_){this._required=_}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(_){this._color=_}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(_,C,D,A,B,F,$,U){this._elementRef=C,this._changeDetector=D,this._focusMonitor=A,this._radioDispatcher=B,this._providerOverride=$,this._uniqueId="mat-radio-"+ ++y,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new l.bkB,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this._injector=(0,l.WQX)(l.zZn),this.radioGroup=_,this._noopAnimations="NoopAnimations"===F,U&&(this.tabIndex=(0,l.Udg)(U,0))}focus(_,C){C?this._focusMonitor.focusVia(this._inputElement,C,_):this._inputElement.nativeElement.focus(_)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((_,C)=>{_!==this.id&&C===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(_=>{!_&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new R(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(_){_.stopPropagation()}_onInputInteraction(_){if(_.stopPropagation(),!this.checked&&!this.disabled){const C=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),C&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(_){this._onInputInteraction(_),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(_){this._disabled!==_&&(this._disabled=_,this._changeDetector.markForCheck())}_updateTabIndex(){const _=this.radioGroup;let C;if(C=_&&_.selected&&!this.disabled?_.selected===this?this.tabIndex:-1:this.tabIndex,C!==this._previousTabIndex){const D=this._inputElement?.nativeElement;D&&(D.setAttribute("tabindex",C+""),this._previousTabIndex=C,(0,l.mal)(()=>{queueMicrotask(()=>{_&&_.selected&&_.selected!==this&&document.activeElement===D&&(_.selected?._inputElement.nativeElement.focus(),document.activeElement===D&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static#e=this.\u0275fac=function(C){return new(C||x)(l.rXU(v,8),l.rXU(l.aKT),l.rXU(l.gRc),l.rXU(e.FN),l.rXU(n.zP),l.rXU(l.bc$,8),l.rXU(O,8),l.kS0("tabindex"))};static#t=this.\u0275cmp=l.VBU({type:x,selectors:[["mat-radio-button"]],viewQuery:function(C,D){if(1&C&&(l.GBs(f,5),l.GBs(b,7,l.aKT)),2&C){let A;l.mGM(A=l.lsd())&&(D._inputElement=A.first),l.mGM(A=l.lsd())&&(D._rippleTrigger=A.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(C,D){1&C&&l.bIt("focus",function(){return D._inputElement.nativeElement.focus()}),2&C&&(l.BMQ("id",D.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),l.AVh("mat-primary","primary"===D.color)("mat-accent","accent"===D.color)("mat-warn","warn"===D.color)("mat-mdc-radio-checked",D.checked)("_mat-animation-noopable",D._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",l.L39],tabIndex:[2,"tabIndex","tabIndex",_=>null==_?0:(0,l.Udg)(_)],checked:[2,"checked","checked",l.L39],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",l.L39],required:[2,"required","required",l.L39],color:"color"},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[l.GFd,l.aNF],ngContentSelectors:d,decls:13,vars:16,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(C,D){if(1&C){const A=l.RV6();l.NAR(),l.j41(0,"div",2,0)(2,"div",3)(3,"div",4),l.bIt("click",function(F){return l.eBV(A),l.Njj(D._onTouchTargetClick(F))}),l.k0s(),l.j41(4,"input",5,1),l.bIt("change",function(F){return l.eBV(A),l.Njj(D._onInputInteraction(F))}),l.k0s(),l.j41(6,"div",6),l.nrm(7,"div",7)(8,"div",8),l.k0s(),l.j41(9,"div",9),l.nrm(10,"div",10),l.k0s()(),l.j41(11,"label",11),l.SdG(12),l.k0s()()}2&C&&(l.Y8G("labelPosition",D.labelPosition),l.R7$(2),l.AVh("mdc-radio--disabled",D.disabled),l.R7$(2),l.Y8G("id",D.inputId)("checked",D.checked)("disabled",D.disabled)("required",D.required),l.BMQ("name",D.name)("value",D.value)("aria-label",D.ariaLabel)("aria-labelledby",D.ariaLabelledby)("aria-describedby",D.ariaDescribedby),l.R7$(5),l.Y8G("matRippleTrigger",D._rippleTrigger.nativeElement)("matRippleDisabled",D._isRippleDisabled())("matRippleCentered",!0),l.R7$(2),l.Y8G("for",D.inputId))},dependencies:[g.r6,g.tO],styles:['.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled])~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size);top:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color);opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color);opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio--disabled{cursor:default;pointer-events:none}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color);font-family:var(--mat-radio-label-text-font);line-height:var(--mat-radio-label-text-line-height);font-size:var(--mat-radio-label-text-size);letter-spacing:var(--mat-radio-label-text-tracking);font-weight:var(--mat-radio-label-text-weight)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return x})(),w=(()=>{class x{static#e=this.\u0275fac=function(C){return new(C||x)};static#t=this.\u0275mod=l.$C({type:x});static#n=this.\u0275inj=l.G2t({imports:[g.yE,p.MD,g.pZ,M,g.yE]})}return x})()},2798:(gt,re,o)=>{"use strict";o.d(re,{VO:()=>we,Ve:()=>Xe});var e=o(7987),n=o(177),l=o(3953),h=o(6600),g=o(3719),p=o(494),f=o(8617),b=o(8203),d=o(5024),y=o(7336),R=o(9417),m=o(5286),v=o(9418),O=o(4670),S=o(3176),P=o(9090),M=o(8728),w=o(5006),x=o(522),I=o(7605),_=o(9493),C=o(9969);const D=["trigger"],A=["panel"],B=[[["mat-select-trigger"]],"*"],F=["mat-select-trigger","*"];function $(Me,ge){if(1&Me&&(l.j41(0,"span",4),l.EFF(1),l.k0s()),2&Me){const pe=l.XpG();l.R7$(),l.JRh(pe.placeholder)}}function U(Me,ge){1&Me&&l.SdG(0)}function G(Me,ge){if(1&Me&&(l.j41(0,"span",11),l.EFF(1),l.k0s()),2&Me){const pe=l.XpG(2);l.R7$(),l.JRh(pe.triggerValue)}}function J(Me,ge){if(1&Me&&(l.j41(0,"span",5),l.DNE(1,U,1,0)(2,G,2,1,"span",11),l.k0s()),2&Me){const pe=l.XpG();l.R7$(),l.vxM(pe.customTrigger?1:2)}}function te(Me,ge){if(1&Me){const pe=l.RV6();l.j41(0,"div",12,1),l.bIt("@transformPanel.done",function(Ge){l.eBV(pe);const Qe=l.XpG();return l.Njj(Qe._panelDoneAnimatingStream.next(Ge.toState))})("keydown",function(Ge){l.eBV(pe);const Qe=l.XpG();return l.Njj(Qe._handleKeydown(Ge))}),l.SdG(2,1),l.k0s()}if(2&Me){const pe=l.XpG();l.ZvI("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",pe._getPanelTheme(),""),l.Y8G("ngClass",pe.panelClass)("@transformPanel","showing"),l.BMQ("id",pe.id+"-panel")("aria-multiselectable",pe.multiple)("aria-label",pe.ariaLabel||null)("aria-labelledby",pe._getPanelAriaLabelledby())}}const ne={transformPanelWrap:(0,C.hZ)("transformPanelWrap",[(0,C.kY)("* => void",(0,C.P)("@transformPanel",[(0,C.MA)()],{optional:!0}))]),transformPanel:(0,C.hZ)("transformPanel",[(0,C.wk)("void",(0,C.iF)({opacity:0,transform:"scale(1, 0.8)"})),(0,C.kY)("void => showing",(0,C.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,C.iF)({opacity:1,transform:"scale(1, 1)"}))),(0,C.kY)("* => void",(0,C.i0)("100ms linear",(0,C.iF)({opacity:0})))])};let W=0;const ie=new l.nKC("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const Me=(0,l.WQX)(e.hJ);return()=>Me.scrollStrategies.reposition()}}),oe=new l.nKC("MAT_SELECT_CONFIG"),me={provide:ie,deps:[e.hJ],useFactory:function ce(Me){return()=>Me.scrollStrategies.reposition()}},he=new l.nKC("MatSelectTrigger");class Oe{constructor(ge,pe){this.source=ge,this.value=pe}}let we=(()=>{class Me{_scrollOptionIntoView(pe){const Ee=this.options.toArray()[pe];if(Ee){const Ge=this.panel.nativeElement,Qe=(0,h.jb)(pe,this.options,this.optionGroups),$e=Ee._getHostElement();Ge.scrollTop=0===pe&&1===Qe?0:(0,h.TL)($e.offsetTop,$e.offsetHeight,Ge.scrollTop,Ge.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(pe){return new Oe(this,pe)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(pe){this._hideSingleSelectionIndicator=pe,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(pe){this._placeholder=pe,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(R.k0.required)??!1}set required(pe){this._required=pe,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(pe){this._multiple=pe}get compareWith(){return this._compareWith}set compareWith(pe){this._compareWith=pe,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(pe){this._assignValue(pe)&&this._onChange(pe)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(pe){this._errorStateTracker.matcher=pe}get id(){return this._id}set id(pe){this._id=pe||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(pe){this._errorStateTracker.errorState=pe}constructor(pe,Ee,Ge,Qe,$e,tt,xt,Pt,yt,Le,De,V,ue,Q){this._viewportRuler=pe,this._changeDetectorRef=Ee,this._elementRef=$e,this._dir=tt,this._parentFormField=yt,this.ngControl=Le,this._liveAnnouncer=ue,this._defaultOptions=Q,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(Te,Je)=>Te===Je,this._uid="mat-select-"+W++,this._triggerAriaLabelledBy=null,this._destroy=new m.B7,this.stateChanges=new m.B7,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+W++,this._panelDoneAnimatingStream=new m.B7,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new m.B7,this.optionSelectionChanges=(0,v.v)(()=>{const Te=this.options;return Te?Te.changes.pipe((0,S.Z)(Te),(0,P.n)(()=>(0,O.h)(...Te.map(Je=>Je.onSelectionChange)))):this._initialized.pipe((0,P.n)(()=>this.optionSelectionChanges))}),this.openedChange=new l.bkB,this._openedStream=this.openedChange.pipe((0,M.p)(Te=>Te),(0,w.T)(()=>{})),this._closedStream=this.openedChange.pipe((0,M.p)(Te=>!Te),(0,w.T)(()=>{})),this.selectionChange=new l.bkB,this.valueChange=new l.bkB,this._trackedModal=null,this._skipPredicate=Te=>!this.panelOpen&&Te.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=Q?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=Q.typeaheadDebounceInterval),this._errorStateTracker=new h.X0(Qe,Le,Pt,xt,this.stateChanges),this._scrollStrategyFactory=V,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(De)||0,this.id=this.id}ngOnInit(){this._selectionModel=new d.CB(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,x.F)(),(0,I.Q)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe((0,I.Q)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe((0,I.Q)(this._destroy)).subscribe(pe=>{pe.added.forEach(Ee=>Ee.select()),pe.removed.forEach(Ee=>Ee.deselect())}),this.options.changes.pipe((0,S.Z)(null),(0,I.Q)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const pe=this._getTriggerAriaLabelledby(),Ee=this.ngControl;if(pe!==this._triggerAriaLabelledBy){const Ge=this._elementRef.nativeElement;this._triggerAriaLabelledBy=pe,pe?Ge.setAttribute("aria-labelledby",pe):Ge.removeAttribute("aria-labelledby")}Ee&&(this._previousControl!==Ee.control&&(void 0!==this._previousControl&&null!==Ee.disabled&&Ee.disabled!==this.disabled&&(this.disabled=Ee.disabled),this._previousControl=Ee.control),this.updateErrorState())}ngOnChanges(pe){(pe.disabled||pe.userAriaDescribedBy)&&this.stateChanges.next(),pe.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const pe=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!pe)return;const Ee=`${this.id}-panel`;this._trackedModal&&(0,f.Ae)(this._trackedModal,"aria-owns",Ee),(0,f.px)(pe,"aria-owns",Ee),this._trackedModal=pe}_clearFromModal(){this._trackedModal&&((0,f.Ae)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(pe){this._assignValue(pe)}registerOnChange(pe){this._onChange=pe}registerOnTouched(pe){this._onTouched=pe}setDisabledState(pe){this.disabled=pe,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const pe=this._selectionModel.selected.map(Ee=>Ee.viewValue);return this._isRtl()&&pe.reverse(),pe.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(pe){this.disabled||(this.panelOpen?this._handleOpenKeydown(pe):this._handleClosedKeydown(pe))}_handleClosedKeydown(pe){const Ee=pe.keyCode,Ge=Ee===y.n6||Ee===y.i7||Ee===y.UQ||Ee===y.LE,Qe=Ee===y.Fm||Ee===y.t6,$e=this._keyManager;if(!$e.isTyping()&&Qe&&!(0,y.rp)(pe)||(this.multiple||pe.altKey)&&Ge)pe.preventDefault(),this.open();else if(!this.multiple){const tt=this.selected;$e.onKeydown(pe);const xt=this.selected;xt&&tt!==xt&&this._liveAnnouncer.announce(xt.viewValue,1e4)}}_handleOpenKeydown(pe){const Ee=this._keyManager,Ge=pe.keyCode,Qe=Ge===y.n6||Ge===y.i7,$e=Ee.isTyping();if(Qe&&pe.altKey)pe.preventDefault(),this.close();else if($e||Ge!==y.Fm&&Ge!==y.t6||!Ee.activeItem||(0,y.rp)(pe))if(!$e&&this._multiple&&Ge===y.A&&pe.ctrlKey){pe.preventDefault();const tt=this.options.some(xt=>!xt.disabled&&!xt.selected);this.options.forEach(xt=>{xt.disabled||(tt?xt.select():xt.deselect())})}else{const tt=Ee.activeItemIndex;Ee.onKeydown(pe),this._multiple&&Qe&&pe.shiftKey&&Ee.activeItem&&Ee.activeItemIndex!==tt&&Ee.activeItem._selectViaInteraction()}else pe.preventDefault(),Ee.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,_.s)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(pe){if(this.options.forEach(Ee=>Ee.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&pe)Array.isArray(pe),pe.forEach(Ee=>this._selectOptionByValue(Ee)),this._sortValues();else{const Ee=this._selectOptionByValue(pe);Ee?this._keyManager.updateActiveItem(Ee):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(pe){const Ee=this.options.find(Ge=>{if(this._selectionModel.isSelected(Ge))return!1;try{return null!=Ge.value&&this._compareWith(Ge.value,pe)}catch{return!1}});return Ee&&this._selectionModel.select(Ee),Ee}_assignValue(pe){return!!(pe!==this._value||this._multiple&&Array.isArray(pe))&&(this.options&&this._setSelectionByValue(pe),this._value=pe,!0)}_getOverlayWidth(pe){return"auto"===this.panelWidth?(pe instanceof e.$Q?pe.elementRef:pe||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const pe of this.options)pe._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new f.Au(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const pe=(0,O.h)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,I.Q)(pe)).subscribe(Ee=>{this._onSelect(Ee.source,Ee.isUserInput),Ee.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,O.h)(...this.options.map(Ee=>Ee._stateChanges)).pipe((0,I.Q)(pe)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(pe,Ee){const Ge=this._selectionModel.isSelected(pe);null!=pe.value||this._multiple?(Ge!==pe.selected&&(pe.selected?this._selectionModel.select(pe):this._selectionModel.deselect(pe)),Ee&&this._keyManager.setActiveItem(pe),this.multiple&&(this._sortValues(),Ee&&this.focus())):(pe.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(pe.value)),Ge!==this._selectionModel.isSelected(pe)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const pe=this.options.toArray();this._selectionModel.sort((Ee,Ge)=>this.sortComparator?this.sortComparator(Ee,Ge,pe):pe.indexOf(Ee)-pe.indexOf(Ge)),this.stateChanges.next()}}_propagateChanges(pe){let Ee;Ee=this.multiple?this.selected.map(Ge=>Ge.value):this.selected?this.selected.value:pe,this._value=Ee,this.valueChange.emit(Ee),this._onChange(Ee),this.selectionChange.emit(this._getChangeEvent(Ee)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let pe=-1;for(let Ee=0;Ee<this.options.length;Ee++)if(!this.options.get(Ee).disabled){pe=Ee;break}this._keyManager.setActiveItem(pe)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(pe){this._elementRef.nativeElement.focus(pe)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const pe=this._parentFormField?.getLabelId();return this.ariaLabelledby?(pe?pe+" ":"")+this.ariaLabelledby:pe}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const pe=this._parentFormField?.getLabelId();let Ee=(pe?pe+" ":"")+this._valueId;return this.ariaLabelledby&&(Ee+=" "+this.ariaLabelledby),Ee}_panelDoneAnimating(pe){this.openedChange.emit(pe)}setDescribedByIds(pe){pe.length?this._elementRef.nativeElement.setAttribute("aria-describedby",pe.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static#e=this.\u0275fac=function(Ee){return new(Ee||Me)(l.rXU(p.Xj),l.rXU(l.gRc),l.rXU(l.SKi),l.rXU(h.es),l.rXU(l.aKT),l.rXU(b.dS,8),l.rXU(R.cV,8),l.rXU(R.j4,8),l.rXU(g.xb,8),l.rXU(R.vO,10),l.kS0("tabindex"),l.rXU(ie),l.rXU(f.Ai),l.rXU(oe,8))};static#t=this.\u0275cmp=l.VBU({type:Me,selectors:[["mat-select"]],contentQueries:function(Ee,Ge,Qe){if(1&Ee&&(l.wni(Qe,he,5),l.wni(Qe,h.wT,5),l.wni(Qe,h.QC,5)),2&Ee){let $e;l.mGM($e=l.lsd())&&(Ge.customTrigger=$e.first),l.mGM($e=l.lsd())&&(Ge.options=$e),l.mGM($e=l.lsd())&&(Ge.optionGroups=$e)}},viewQuery:function(Ee,Ge){if(1&Ee&&(l.GBs(D,5),l.GBs(A,5),l.GBs(e.WB,5)),2&Ee){let Qe;l.mGM(Qe=l.lsd())&&(Ge.trigger=Qe.first),l.mGM(Qe=l.lsd())&&(Ge.panel=Qe.first),l.mGM(Qe=l.lsd())&&(Ge._overlayDir=Qe.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(Ee,Ge){1&Ee&&l.bIt("keydown",function($e){return Ge._handleKeydown($e)})("focus",function(){return Ge._onFocus()})("blur",function(){return Ge._onBlur()}),2&Ee&&(l.BMQ("id",Ge.id)("tabindex",Ge.disabled?-1:Ge.tabIndex)("aria-controls",Ge.panelOpen?Ge.id+"-panel":null)("aria-expanded",Ge.panelOpen)("aria-label",Ge.ariaLabel||null)("aria-required",Ge.required.toString())("aria-disabled",Ge.disabled.toString())("aria-invalid",Ge.errorState)("aria-activedescendant",Ge._getAriaActiveDescendant()),l.AVh("mat-mdc-select-disabled",Ge.disabled)("mat-mdc-select-invalid",Ge.errorState)("mat-mdc-select-required",Ge.required)("mat-mdc-select-empty",Ge.empty)("mat-mdc-select-multiple",Ge.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",l.L39],disableRipple:[2,"disableRipple","disableRipple",l.L39],tabIndex:[2,"tabIndex","tabIndex",pe=>null==pe?0:(0,l.Udg)(pe)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",l.L39],placeholder:"placeholder",required:[2,"required","required",l.L39],multiple:[2,"multiple","multiple",l.L39],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",l.L39],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",l.Udg],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[l.Jv_([{provide:g.qT,useExisting:Me},{provide:h.is,useExisting:Me}]),l.GFd,l.OA$,l.aNF],ngContentSelectors:F,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(Ee,Ge){if(1&Ee){const Qe=l.RV6();l.NAR(B),l.j41(0,"div",2,0),l.bIt("click",function(){return l.eBV(Qe),l.Njj(Ge.open())}),l.j41(3,"div",3),l.DNE(4,$,2,1,"span",4)(5,J,3,1,"span",5),l.k0s(),l.j41(6,"div",6)(7,"div",7),l.qSk(),l.j41(8,"svg",8),l.nrm(9,"path",9),l.k0s()()()(),l.DNE(10,te,3,9,"ng-template",10),l.bIt("backdropClick",function(){return l.eBV(Qe),l.Njj(Ge.close())})("attach",function(){return l.eBV(Qe),l.Njj(Ge._onAttached())})("detach",function(){return l.eBV(Qe),l.Njj(Ge.close())})}if(2&Ee){const Qe=l.sdS(1);l.R7$(3),l.BMQ("id",Ge._valueId),l.R7$(),l.vxM(Ge.empty?4:5),l.R7$(6),l.Y8G("cdkConnectedOverlayPanelClass",Ge._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",Ge._scrollStrategy)("cdkConnectedOverlayOrigin",Ge._preferredOverlayOrigin||Qe)("cdkConnectedOverlayOpen",Ge.panelOpen)("cdkConnectedOverlayPositions",Ge._positions)("cdkConnectedOverlayWidth",Ge._overlayWidth)}},dependencies:[e.$Q,e.WB,n.YU],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[ne.transformPanel]},changeDetection:0})}return Me})(),Xe=(()=>{class Me{static#e=this.\u0275fac=function(Ee){return new(Ee||Me)};static#t=this.\u0275mod=l.$C({type:Me});static#n=this.\u0275inj=l.G2t({providers:[me],imports:[n.MD,e.z_,h.Sy,h.yE,p.Gj,g.RG,h.Sy,h.yE]})}return Me})()},450:(gt,re,o)=>{"use strict";o.d(re,{mV:()=>P,sG:()=>m});var e=o(3953),n=o(9417),l=o(8617),h=o(6600);const g=["switch"],p=["*"];function f(M,w){1&M&&(e.j41(0,"div",10),e.qSk(),e.j41(1,"svg",12),e.nrm(2,"path",13),e.k0s(),e.j41(3,"svg",14),e.nrm(4,"path",15),e.k0s()())}const b=new e.nKC("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),d={provide:n.kq,useExisting:(0,e.Rfq)(()=>m),multi:!0};class y{constructor(w,x){this.source=w,this.checked=x}}let R=0,m=(()=>{class M{_createChangeEvent(x){return new y(this,x)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(x){this._checked=x,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(x,I,_,C,D,A){this._elementRef=x,this._focusMonitor=I,this._changeDetectorRef=_,this.defaults=D,this._onChange=B=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new e.bkB,this.toggleChange=new e.bkB,this.tabIndex=parseInt(C)||0,this.color=D.color||"accent",this._noopAnimations="NoopAnimations"===A,this.id=this._uniqueId="mat-mdc-slide-toggle-"+ ++R,this.hideIcon=D.hideIcon??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(x=>{"keyboard"===x||"program"===x?(this._focused=!0,this._changeDetectorRef.markForCheck()):x||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(x){x.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(x){this.checked=!!x}registerOnChange(x){this._onChange=x}registerOnTouched(x){this._onTouched=x}validate(x){return this.required&&!0!==x.value?{required:!0}:null}registerOnValidatorChange(x){this._validatorOnChange=x}setDisabledState(x){this.disabled=x,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new y(this,this.checked)))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#e=this.\u0275fac=function(I){return new(I||M)(e.rXU(e.aKT),e.rXU(l.FN),e.rXU(e.gRc),e.kS0("tabindex"),e.rXU(b),e.rXU(e.bc$,8))};static#t=this.\u0275cmp=e.VBU({type:M,selectors:[["mat-slide-toggle"]],viewQuery:function(I,_){if(1&I&&e.GBs(g,5),2&I){let C;e.mGM(C=e.lsd())&&(_._switchElement=C.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(I,_){2&I&&(e.Mr5("id",_.id),e.BMQ("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),e.HbH(_.color?"mat-"+_.color:""),e.AVh("mat-mdc-slide-toggle-focused",_._focused)("mat-mdc-slide-toggle-checked",_.checked)("_mat-animation-noopable",_._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",e.L39],color:"color",disabled:[2,"disabled","disabled",e.L39],disableRipple:[2,"disableRipple","disableRipple",e.L39],tabIndex:[2,"tabIndex","tabIndex",x=>null==x?0:(0,e.Udg)(x)],checked:[2,"checked","checked",e.L39],hideIcon:[2,"hideIcon","hideIcon",e.L39]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[e.Jv_([d,{provide:n.cz,useExisting:M,multi:!0}]),e.GFd,e.OA$,e.aNF],ngContentSelectors:p,decls:13,vars:24,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(I,_){if(1&I){const C=e.RV6();e.NAR(),e.j41(0,"div",1)(1,"button",2,0),e.bIt("click",function(){return e.eBV(C),e.Njj(_._handleClick())}),e.nrm(3,"div",3),e.j41(4,"div",4)(5,"div",5)(6,"div",6),e.nrm(7,"div",7),e.k0s(),e.j41(8,"div",8),e.nrm(9,"div",9),e.k0s(),e.DNE(10,f,5,0,"div",10),e.k0s()()(),e.j41(11,"label",11),e.bIt("click",function(A){return e.eBV(C),e.Njj(A.stopPropagation())}),e.SdG(12),e.k0s()()}if(2&I){const C=e.sdS(2);e.Y8G("labelPosition",_.labelPosition),e.R7$(),e.AVh("mdc-switch--selected",_.checked)("mdc-switch--unselected",!_.checked)("mdc-switch--checked",_.checked)("mdc-switch--disabled",_.disabled),e.Y8G("tabIndex",_.disabled?-1:_.tabIndex)("disabled",_.disabled),e.BMQ("id",_.buttonId)("name",_.name)("aria-label",_.ariaLabel)("aria-labelledby",_._getAriaLabelledBy())("aria-describedby",_.ariaDescribedby)("aria-required",_.required||null)("aria-checked",_.checked),e.R7$(8),e.Y8G("matRippleTrigger",C)("matRippleDisabled",_.disableRipple||_.disabled)("matRippleCentered",!0),e.R7$(),e.vxM(_.hideIcon?-1:10),e.R7$(),e.Y8G("for",_.buttonId),e.BMQ("id",_._labelId)}},dependencies:[h.r6,h.tO],styles:['.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mdc-switch-track-width)}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mdc-switch-track-height);border-radius:var(--mdc-switch-track-shape)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color)}.cdk-high-contrast-active .mdc-switch__track::before,.cdk-high-contrast-active .mdc-switch__track::after{border-color:currentColor}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-switch-selected-track-outline-width);border-color:var(--mat-switch-selected-track-outline-color)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color)}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mdc-switch-unselected-track-color)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mdc-switch-selected-track-color)}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mdc-switch-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mdc-switch-handle-width);height:var(--mdc-switch-handle-height);border-radius:var(--mdc-switch-handle-shape)}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size);margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size);margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle:active .mdc-switch:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle:active .mdc-switch--selected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--unselected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}.cdk-high-contrast-active .mdc-switch__handle::before,.cdk-high-contrast-active .mdc-switch__handle::after{border-color:currentColor}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mdc-switch-state-layer-size);height:var(--mdc-switch-state-layer-size)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch:disabled .mdc-switch__ripple::after{display:none}.mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-pressed-state-layer-color);opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity);transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-selected-pressed-state-layer-color);opacity:var(--mdc-switch-selected-pressed-state-layer-opacity);transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1}.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size);fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size);fill:var(--mdc-switch-selected-icon-color)}.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-switch-label-text-color);font-family:var(--mat-switch-label-text-font);line-height:var(--mat-switch-label-text-line-height);font-size:var(--mat-switch-label-text-size);letter-spacing:var(--mat-switch-label-text-tracking);font-weight:var(--mat-switch-label-text-weight)}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}'],encapsulation:2,changeDetection:0})}return M})(),P=(()=>{class M{static#e=this.\u0275fac=function(I){return new(I||M)};static#t=this.\u0275mod=e.$C({type:M});static#n=this.\u0275inj=e.G2t({imports:[m,h.yE,h.yE]})}return M})()},3881:(gt,re,o)=>{"use strict";o.d(re,{Ez:()=>te,IV:()=>A,OU:()=>G});var e=o(8203),n=o(6860),l=o(3953),h=o(6600),g=o(9417),p=o(5286);const f=["knob"],b=["valueIndicatorContainer"];function d(ne,K){if(1&ne&&(l.j41(0,"div",2,1)(2,"div",5)(3,"span",6),l.EFF(4),l.k0s()()()),2&ne){const k=l.XpG();l.R7$(4),l.JRh(k.valueIndicatorText)}}const y=["trackActive"],R=["*"];function m(ne,K){if(1&ne&&l.nrm(0,"div"),2&ne){const k=K.$implicit,j=K.$index,W=l.XpG(3);l.HbH(0===k?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),l.xc7("transform",W._calcTickMarkTransform(j))}}function v(ne,K){if(1&ne&&l.Z7z(0,m,1,4,"div",8,l.Vm6),2&ne){const k=l.XpG(2);l.Dyx(k._tickMarks)}}function O(ne,K){if(1&ne&&(l.j41(0,"div",6,1),l.DNE(2,v,2,0),l.k0s()),2&ne){const k=l.XpG();l.R7$(2),l.vxM(k._cachedWidth?2:-1)}}function S(ne,K){if(1&ne&&l.nrm(0,"mat-slider-visual-thumb",7),2&ne){const k=l.XpG();l.Y8G("discrete",k.discrete)("thumbPosition",1)("valueIndicatorText",k.startValueIndicatorText)}}var P=function(ne){return ne[ne.START=1]="START",ne[ne.END=2]="END",ne}(P||{}),M=function(ne){return ne[ne.ACTIVE=0]="ACTIVE",ne[ne.INACTIVE=1]="INACTIVE",ne}(M||{});const w=new l.nKC("_MatSlider"),x=new l.nKC("_MatSliderThumb"),I=new l.nKC("_MatSliderRangeThumb"),_=new l.nKC("_MatSliderVisualThumb");let D=(()=>{class ne{constructor(k,j,W,ie){this._cdr=k,this._ngZone=j,this._slider=ie,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._platform=(0,l.WQX)(n.OD),this._onPointerMove=ce=>{if(this._sliderInput._isFocused)return;const oe=this._hostElement.getBoundingClientRect(),me=this._slider._isCursorOnSliderThumb(ce,oe);this._isHovered=me,me?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=ce=>{0===ce.button&&(this._isActive=!0,this._showActiveRipple())},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef),this._platform.SAFARI&&this._showHoverRipple()},this._hostElement=W.nativeElement}ngAfterViewInit(){this._ripple.radius=24,this._sliderInput=this._slider._getInput(this.thumbPosition),this._sliderInputEl=this._sliderInput._hostElement;const k=this._sliderInputEl;this._ngZone.runOutsideAngular(()=>{k.addEventListener("pointermove",this._onPointerMove),k.addEventListener("pointerdown",this._onDragStart),k.addEventListener("pointerup",this._onDragEnd),k.addEventListener("pointerleave",this._onMouseLeave),k.addEventListener("focus",this._onFocus),k.addEventListener("blur",this._onBlur)})}ngOnDestroy(){const k=this._sliderInputEl;k&&(k.removeEventListener("pointermove",this._onPointerMove),k.removeEventListener("pointerdown",this._onDragStart),k.removeEventListener("pointerup",this._onDragEnd),k.removeEventListener("pointerleave",this._onMouseLeave),k.removeEventListener("focus",this._onFocus),k.removeEventListener("blur",this._onBlur))}_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(k){return k?.state===h.Ex.FADING_IN||k?.state===h.Ex.VISIBLE}_showRipple(k,j){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(this.thumbPosition===P.START?P.END:P.START)._showValueIndicator(),!this._slider._globalRippleOptions?.disabled||j))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:k,centered:!0,persistent:!0})}_hideRipple(k){if(k?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();const j=this._getSibling();j._isShowingAnyRipple()||(this._hideValueIndicator(),j._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(this.thumbPosition===P.START?P.END:P.START)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}static#e=this.\u0275fac=function(j){return new(j||ne)(l.rXU(l.gRc),l.rXU(l.SKi),l.rXU(l.aKT),l.rXU(w))};static#t=this.\u0275cmp=l.VBU({type:ne,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(j,W){if(1&j&&(l.GBs(h.r6,5),l.GBs(f,5),l.GBs(b,5)),2&j){let ie;l.mGM(ie=l.lsd())&&(W._ripple=ie.first),l.mGM(ie=l.lsd())&&(W._knob=ie.first),l.mGM(ie=l.lsd())&&(W._valueIndicatorContainer=ie.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},standalone:!0,features:[l.Jv_([{provide:_,useExisting:ne}]),l.aNF],decls:4,vars:2,consts:[["knob",""],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator-container"],[1,"mdc-slider__thumb-knob"],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(j,W){1&j&&(l.DNE(0,d,5,1,"div",2),l.nrm(1,"div",3,0)(3,"div",4)),2&j&&(l.vxM(W.discrete?0:-1),l.R7$(3),l.Y8G("matRippleDisabled",!0))},dependencies:[h.r6],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0})}return ne})(),A=(()=>{class ne{get disabled(){return this._disabled}set disabled(k){this._disabled=k;const j=this._getInput(P.END),W=this._getInput(P.START);j&&(j.disabled=this._disabled),W&&(W.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(k){this._discrete=k,this._updateValueIndicatorUIs()}get min(){return this._min}set min(k){const j=isNaN(k)?this._min:k;this._min!==j&&this._updateMin(j)}_updateMin(k){const j=this._min;this._min=k,this._isRange?this._updateMinRange({old:j,new:k}):this._updateMinNonRange(k),this._onMinMaxOrStepChange()}_updateMinRange(k){const j=this._getInput(P.END),W=this._getInput(P.START),ie=j.value,ce=W.value;W.min=k.new,j.min=Math.max(k.new,W.value),W.max=Math.min(j.max,j.value),W._updateWidthInactive(),j._updateWidthInactive(),k.new<k.old?this._onTranslateXChangeBySideEffect(j,W):this._onTranslateXChangeBySideEffect(W,j),ie!==j.value&&this._onValueChange(j),ce!==W.value&&this._onValueChange(W)}_updateMinNonRange(k){const j=this._getInput(P.END);if(j){const W=j.value;j.min=k,j._updateThumbUIByValue(),this._updateTrackUI(j),W!==j.value&&this._onValueChange(j)}}get max(){return this._max}set max(k){const j=isNaN(k)?this._max:k;this._max!==j&&this._updateMax(j)}_updateMax(k){const j=this._max;this._max=k,this._isRange?this._updateMaxRange({old:j,new:k}):this._updateMaxNonRange(k),this._onMinMaxOrStepChange()}_updateMaxRange(k){const j=this._getInput(P.END),W=this._getInput(P.START),ie=j.value,ce=W.value;j.max=k.new,W.max=Math.min(k.new,j.value),j.min=W.value,j._updateWidthInactive(),W._updateWidthInactive(),k.new>k.old?this._onTranslateXChangeBySideEffect(W,j):this._onTranslateXChangeBySideEffect(j,W),ie!==j.value&&this._onValueChange(j),ce!==W.value&&this._onValueChange(W)}_updateMaxNonRange(k){const j=this._getInput(P.END);if(j){const W=j.value;j.max=k,j._updateThumbUIByValue(),this._updateTrackUI(j),W!==j.value&&this._onValueChange(j)}}get step(){return this._step}set step(k){const j=isNaN(k)?this._step:k;this._step!==j&&this._updateStep(j)}_updateStep(k){this._step=k,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){const k=this._getInput(P.END),j=this._getInput(P.START),W=k.value,ie=j.value,ce=j.value;k.min=this._min,j.max=this._max,k.step=this._step,j.step=this._step,this._platform.SAFARI&&(k.value=k.value,j.value=j.value),k.min=Math.max(this._min,j.value),j.max=Math.min(this._max,k.value),j._updateWidthInactive(),k._updateWidthInactive(),k.value<ce?this._onTranslateXChangeBySideEffect(j,k):this._onTranslateXChangeBySideEffect(k,j),W!==k.value&&this._onValueChange(k),ie!==j.value&&this._onValueChange(j)}_updateStepNonRange(){const k=this._getInput(P.END);if(k){const j=k.value;k.step=this._step,this._platform.SAFARI&&(k.value=k.value),k._updateThumbUIByValue(),j!==k.value&&this._onValueChange(k)}}constructor(k,j,W,ie,ce,oe){this._ngZone=k,this._cdr=j,this._elementRef=W,this._dir=ie,this._globalRippleOptions=ce,this._disabled=!1,this._discrete=!1,this.showTickMarks=!1,this._min=0,this.disableRipple=!1,this._max=100,this._step=1,this.displayWith=me=>`${me}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._platform=(0,l.WQX)(n.OD),this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations="NoopAnimations"===oe,this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl="rtl"===this._dir.value}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();const k=this._getInput(P.END),j=this._getInput(P.START);this._isRange=!!k&&!!j,this._cdr.detectChanges();const W=this._getThumb(P.END);this._rippleRadius=W._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._isRange?this._initUIRange(k,j):this._initUINonRange(k),this._updateTrackUI(k),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(k){k.initProps(),k.initUI(),this._updateValueIndicatorUI(k),this._hasViewInitialized=!0,k._updateThumbUIByValue()}_initUIRange(k,j){k.initProps(),k.initUI(),j.initProps(),j.initUI(),k._updateMinMax(),j._updateMinMax(),k._updateStaticStyles(),j._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,k._updateThumbUIByValue(),j._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl="rtl"===this._dir.value,this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){const k=this._getInput(P.END),j=this._getInput(P.START);k._setIsLeftThumb(),j._setIsLeftThumb(),k.translateX=k._calcTranslateXByValue(),j.translateX=j._calcTranslateXByValue(),k._updateStaticStyles(),j._updateStaticStyles(),k._updateWidthInactive(),j._updateWidthInactive(),k._updateThumbUIByValue(),j._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(P.END)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(P.START)._isActive||this._getThumb(P.END)._isActive}_getValue(k=P.END){const j=this._getInput(k);return j?j.value:this.min}_skipUpdate(){return!(!this._getInput(P.START)?._skipUIUpdate&&!this._getInput(P.END)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(k){const j=this._trackActive.nativeElement.style;j.left=k.left,j.right=k.right,j.transformOrigin=k.transformOrigin,j.transform=k.transform}_calcTickMarkTransform(k){return`translateX(${k*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(k){this._hasViewInitialized&&(this._updateThumbUI(k),this._updateTrackUI(k),this._updateOverlappingThumbUI(k))}_onTranslateXChangeBySideEffect(k,j){this._hasViewInitialized&&(k._updateThumbUIByValue(),j._updateThumbUIByValue())}_onValueChange(k){this._hasViewInitialized&&(this._updateValueIndicatorUI(k),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){const k=this._getInput(P.END),j=this._getInput(P.START);k._updateThumbUIByValue(),j._updateThumbUIByValue(),k._updateStaticStyles(),j._updateStaticStyles(),k._updateMinMax(),j._updateMinMax(),k._updateWidthInactive(),j._updateWidthInactive()}else{const k=this._getInput(P.END);k&&k._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){const k=this._getInput(P.START),j=this._getInput(P.END);return!(!k||!j)&&j.translateX-k.translateX<20}_updateOverlappingThumbClassNames(k){const j=k.getSibling(),W=this._getThumb(k.thumbPosition);this._getThumb(j.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),W._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(k){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(k))}_updateThumbUI(k){this._skipUpdate()||(this._getThumb(k.thumbPosition===P.END?P.END:P.START)._hostElement.style.transform=`translateX(${k.translateX}px)`)}_updateValueIndicatorUI(k){if(this._skipUpdate())return;const j=this.displayWith(k.value);if(this._hasViewInitialized?k._valuetext.set(j):k._hostElement.setAttribute("aria-valuetext",j),this.discrete){k.thumbPosition===P.START?this.startValueIndicatorText=j:this.endValueIndicatorText=j;const W=this._getThumb(k.thumbPosition);j.length<3?W._hostElement.classList.add("mdc-slider__thumb--short-value"):W._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){const k=this._getInput(P.END),j=this._getInput(P.START);k&&this._updateValueIndicatorUI(k),j&&this._updateValueIndicatorUI(j)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;const k=this._step&&this._step>0?this._step:1,W=(Math.floor(this.max/k)*k-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*W-6}_updateTrackUI(k){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(k):this._updateTrackUINonRange(k))}_updateTrackUIRange(k){const j=k.getSibling();if(!j||!this._cachedWidth)return;const W=Math.abs(j.translateX-k.translateX)/this._cachedWidth;this._setTrackActiveStyles(k._isLeftThumb&&this._cachedWidth?{left:"auto",right:this._cachedWidth-j.translateX+"px",transformOrigin:"right",transform:`scaleX(${W})`}:{left:`${j.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${W})`})}_updateTrackUINonRange(k){this._setTrackActiveStyles(this._isRtl?{left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-k.fillPercentage})`}:{left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${k.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||void 0===this.step||void 0===this.min||void 0===this.max)return;const k=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(k):this._updateTickMarkUINonRange(k),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(k){const j=this._getValue();let W=Math.max(Math.round((j-this.min)/k),0),ie=Math.max(Math.round((this.max-j)/k),0);this._isRtl?W++:ie++,this._tickMarks=Array(W).fill(M.ACTIVE).concat(Array(ie).fill(M.INACTIVE))}_updateTickMarkUIRange(k){const j=this._getValue(),W=this._getValue(P.START),ie=Math.max(Math.round((W-this.min)/k),0),ce=Math.max(Math.round((j-W)/k)+1,0),oe=Math.max(Math.round((this.max-j)/k),0);this._tickMarks=Array(ie).fill(M.INACTIVE).concat(Array(ce).fill(M.ACTIVE),Array(oe).fill(M.INACTIVE))}_getInput(k){return k===P.END&&this._input?this._input:this._inputs?.length?k===P.START?this._inputs.first:this._inputs.last:void 0}_getThumb(k){return k===P.END?this._thumbs?.last:this._thumbs?.first}_setTransition(k){this._hasAnimation=!this._platform.IOS&&k&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}_isCursorOnSliderThumb(k,j){const W=j.width/2,me=k.clientY-(j.y+W);return Math.pow(k.clientX-(j.x+W),2)+Math.pow(me,2)<Math.pow(W,2)}static#e=this.\u0275fac=function(j){return new(j||ne)(l.rXU(l.SKi),l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(e.dS,8),l.rXU(h.$E,8),l.rXU(l.bc$,8))};static#t=this.\u0275cmp=l.VBU({type:ne,selectors:[["mat-slider"]],contentQueries:function(j,W,ie){if(1&j&&(l.wni(ie,x,5),l.wni(ie,I,4)),2&j){let ce;l.mGM(ce=l.lsd())&&(W._input=ce.first),l.mGM(ce=l.lsd())&&(W._inputs=ce)}},viewQuery:function(j,W){if(1&j&&(l.GBs(y,5),l.GBs(_,5)),2&j){let ie;l.mGM(ie=l.lsd())&&(W._trackActive=ie.first),l.mGM(ie=l.lsd())&&(W._thumbs=ie)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:12,hostBindings:function(j,W){2&j&&(l.HbH("mat-"+(W.color||"primary")),l.AVh("mdc-slider--range",W._isRange)("mdc-slider--disabled",W.disabled)("mdc-slider--discrete",W.discrete)("mdc-slider--tick-marks",W.showTickMarks)("_mat-animation-noopable",W._noopAnimations))},inputs:{disabled:[2,"disabled","disabled",l.L39],discrete:[2,"discrete","discrete",l.L39],showTickMarks:[2,"showTickMarks","showTickMarks",l.L39],min:[2,"min","min",l.Udg],color:"color",disableRipple:[2,"disableRipple","disableRipple",l.L39],max:[2,"max","max",l.Udg],step:[2,"step","step",l.Udg],displayWith:"displayWith"},exportAs:["matSlider"],standalone:!0,features:[l.Jv_([{provide:w,useExisting:ne}]),l.GFd,l.aNF],ngContentSelectors:R,decls:9,vars:5,consts:[["trackActive",""],["tickMarkContainer",""],[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],[1,"mdc-slider__tick-marks"],[3,"discrete","thumbPosition","valueIndicatorText"],[3,"class","transform"]],template:function(j,W){1&j&&(l.NAR(),l.SdG(0),l.j41(1,"div",2),l.nrm(2,"div",3),l.j41(3,"div",4),l.nrm(4,"div",5,0),l.k0s(),l.DNE(6,O,3,1,"div",6),l.k0s(),l.DNE(7,S,1,3,"mat-slider-visual-thumb",7),l.nrm(8,"mat-slider-visual-thumb",7)),2&j&&(l.R7$(6),l.vxM(W.showTickMarks?6:-1),l.R7$(),l.vxM(W._isRange?7:-1),l.R7$(),l.Y8G("discrete",W.discrete)("thumbPosition",2)("valueIndicatorText",W.endValueIndicatorText))},dependencies:[D],styles:['.mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%;pointer-events:none;height:var(--mdc-slider-inactive-track-height)}.mdc-slider__track--active,.mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider__track--active{overflow:hidden;border-radius:var(--mdc-slider-active-track-shape);height:var(--mdc-slider-active-track-height);top:calc((var(--mdc-slider-inactive-track-height) - var(--mdc-slider-active-track-height))/2)}.mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;transform-origin:left;transition:transform 80ms ease;border-color:var(--mdc-slider-active-track-color);border-top-width:var(--mdc-slider-active-track-height)}.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color)}[dir=rtl] .mdc-slider__track--active_fill{-webkit-transform-origin:right;transform-origin:right}.mdc-slider__track--inactive{left:0;top:0;opacity:.24;background-color:var(--mdc-slider-inactive-track-color);height:var(--mdc-slider-inactive-track-height);border-radius:var(--mdc-slider-inactive-track-shape)}.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color);opacity:.24}.mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-slider__track--inactive::before{border-color:CanvasText}.mdc-slider__value-indicator-container{bottom:44px;left:50%;pointer-events:none;position:absolute;transform:translateX(-50%);transform:var(--mat-slider-value-indicator-container-transform)}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider__value-indicator{display:flex;align-items:center;border-radius:4px;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom;opacity:1;transition:transform 100ms cubic-bezier(0.4, 0, 1, 1);word-break:normal;background-color:var(--mdc-slider-label-container-color);color:var(--mdc-slider-label-label-text-color);width:var(--mat-slider-value-indicator-width);height:var(--mat-slider-value-indicator-height);padding:var(--mat-slider-value-indicator-padding);opacity:var(--mat-slider-value-indicator-opacity);border-radius:var(--mat-slider-value-indicator-border-radius)}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}.mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:50%;position:absolute;transform:translateX(-50%);width:0;display:var(--mat-slider-value-indicator-caret-display);border-top-color:var(--mdc-slider-label-container-color)}.mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-slider__value-indicator::after{border-color:CanvasText}.mdc-slider__value-indicator-text{text-align:center;width:var(--mat-slider-value-indicator-width);transform:var(--mat-slider-value-indicator-text-transform);font-family:var(--mdc-slider-label-label-text-font);font-size:var(--mdc-slider-label-label-text-size);font-weight:var(--mdc-slider-label-label-text-weight);line-height:var(--mdc-slider-label-label-text-line-height);letter-spacing:var(--mdc-slider-label-label-text-tracking)}.mdc-slider__thumb{-webkit-user-select:none;user-select:none;display:flex;left:-24px;outline:none;position:absolute;height:48px;width:48px;pointer-events:none}.mdc-slider--discrete .mdc-slider__thumb{transition:transform 80ms ease}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__thumb--top{z-index:1}.mdc-slider__thumb-knob{position:absolute;box-sizing:border-box;left:50%;top:50%;transform:translate(-50%, -50%);border-style:solid;width:var(--mdc-slider-handle-width);height:var(--mdc-slider-handle-height);border-width:calc(var(--mdc-slider-handle-height)/2) calc(var(--mdc-slider-handle-width)/2);box-shadow:var(--mdc-slider-handle-elevation);background-color:var(--mdc-slider-handle-color);border-color:var(--mdc-slider-handle-color);border-radius:var(--mdc-slider-handle-shape)}.mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color);border-color:var(--mdc-slider-hover-handle-color)}.mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color);border-color:var(--mdc-slider-focus-handle-color)}.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color);border-color:var(--mdc-slider-disabled-handle-color)}.mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border:solid 1px #fff;box-sizing:content-box;border-color:var(--mdc-slider-with-overlap-handle-outline-color);border-width:var(--mdc-slider-with-overlap-handle-outline-width)}.mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider__tick-mark--active,.mdc-slider__tick-mark--inactive{width:var(--mdc-slider-with-tick-marks-container-size);height:var(--mdc-slider-with-tick-marks-container-size);border-radius:var(--mdc-slider-with-tick-marks-container-shape)}.mdc-slider__tick-mark--inactive{opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity);background-color:var(--mdc-slider-with-tick-marks-inactive-container-color)}.mdc-slider--disabled .mdc-slider__tick-mark--inactive{opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity);background-color:var(--mdc-slider-with-tick-marks-disabled-container-color)}.mdc-slider__tick-mark--active{opacity:var(--mdc-slider-with-tick-marks-active-container-opacity);background-color:var(--mdc-slider-with-tick-marks-active-container-color)}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;position:absolute;top:2px;width:44px;box-sizing:content-box}.mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;cursor:pointer;height:48px;margin:0 8px;position:relative;touch-action:pan-y;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider.mdc-slider--disabled{cursor:auto;opacity:.38}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-slider-ripple-color)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-slider-hover-state-layer-color)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-slider-focus-state-layer-color)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return ne})();const $={provide:g.kq,useExisting:(0,l.Rfq)(()=>G),multi:!0};let G=(()=>{class ne{get value(){return(0,l.Udg)(this._hostElement.value,0)}set value(k){const j=(k=isNaN(k)?0:k)+"";this._hasSetInitialValue?this._isActive||this._setValue(j):this._initialValue=j}_setValue(k){this._hostElement.value=k,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=this._tickMarkOffset,this._translateX):(void 0===this._translateX&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(k){this._translateX=k}get min(){return(0,l.Udg)(this._hostElement.min,0)}set min(k){this._hostElement.min=k+"",this._cdr.detectChanges()}get max(){return(0,l.Udg)(this._hostElement.max,0)}set max(k){this._hostElement.max=k+"",this._cdr.detectChanges()}get step(){return(0,l.Udg)(this._hostElement.step,0)}set step(k){this._hostElement.step=k+"",this._cdr.detectChanges()}get disabled(){return(0,l.L39)(this._hostElement.disabled)}set disabled(k){this._hostElement.disabled=k,this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?0===this._translateX?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(k){this._isFocused=k}constructor(k,j,W,ie){this._ngZone=k,this._elementRef=j,this._cdr=W,this._slider=ie,this.valueChange=new l.bkB,this.dragStart=new l.bkB,this.dragEnd=new l.bkB,this.thumbPosition=P.END,this._valuetext=(0,l.vPA)(""),this._knobRadius=8,this._tickMarkOffset=3,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new p.B7,this._skipUIUpdate=!1,this._onTouchedFn=()=>{},this._isControlInitialized=!1,this._platform=(0,l.WQX)(n.OD),this._hostElement=j.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,void 0===this._initialValue?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._slider._setTransition(!1),this._slider._updateTrackUI(this),this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn?.(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(k){if(!this.disabled&&0===k.button){if(this._platform.IOS){const j=this._slider._isCursorOnSliderThumb(k,this._slider._getThumb(this.thumbPosition)._hostElement.getBoundingClientRect());return this._isActive=j,this._updateWidthActive(),void this._slider._updateDimensions()}this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(k,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(k),this.dragStart.emit({source:this,parent:this._slider,value:this.value}))}}_handleValueCorrection(k){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(k)},0)}_fixValue(k){const j=k.clientX-this._slider._cachedLeft,W=this._slider._cachedWidth,ie=0===this._slider.step?1:this._slider.step,ce=Math.floor((this._slider.max-this._slider.min)/ie),he=Math.round((this._slider._isRtl?1-j/W:j/W)*ce)/ce*(this._slider.max-this._slider.min)+this._slider.min,Oe=Math.round(he/ie)*ie;if(Oe===this.value)return this._slider._onValueChange(this),void(this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(k,{withAnimation:this._slider._hasAnimation}));this.value=Oe,this.valueChange.emit(this.value),this._onChangeFn?.(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(k,{withAnimation:this._slider._hasAnimation})}_onPointerMove(k){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(k)}_onPointerUp(){this._isActive&&(this._isActive=!1,this._platform.SAFARI&&this._setIsFocused(!1),this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive(),this._platform.IOS?10:0))}_clamp(k){const j=this._tickMarkOffset;return Math.max(Math.min(k,this._slider._cachedWidth-this._tickMarkOffset),j)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*(this._slider._cachedWidth-2*this._tickMarkOffset)+this._tickMarkOffset:this.percentage*(this._slider._cachedWidth-2*this._tickMarkOffset)+this._tickMarkOffset}_calcTranslateXByPointerEvent(k){return k.clientX-this._slider._cachedLeft}_updateWidthActive(){}_updateWidthInactive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding-2*this._tickMarkOffset}px)`,this._hostElement.style.left=`-${this._slider._rippleRadius-this._tickMarkOffset}px`}_updateThumbUIByValue(k){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(k)}_updateThumbUIByPointerEvent(k,j){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(k)),this._updateThumbUI(j)}_updateThumbUI(k){this._slider._setTransition(!!k?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(k){(this._isControlInitialized||null!==k)&&(this.value=k)}registerOnChange(k){this._onChangeFn=k,this._isControlInitialized=!0}registerOnTouched(k){this._onTouchedFn=k}setDisabledState(k){this.disabled=k}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}static#e=this.\u0275fac=function(j){return new(j||ne)(l.rXU(l.SKi),l.rXU(l.aKT),l.rXU(l.gRc),l.rXU(w))};static#t=this.\u0275dir=l.FsC({type:ne,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(j,W){1&j&&l.bIt("change",function(){return W._onChange()})("input",function(){return W._onInput()})("blur",function(){return W._onBlur()})("focus",function(){return W._onFocus()}),2&j&&l.BMQ("aria-valuetext",W._valuetext())},inputs:{value:[2,"value","value",l.Udg]},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],standalone:!0,features:[l.Jv_([$,{provide:x,useExisting:ne}]),l.GFd]})}return ne})(),te=(()=>{class ne{static#e=this.\u0275fac=function(j){return new(j||ne)};static#t=this.\u0275mod=l.$C({type:ne});static#n=this.\u0275inj=l.G2t({imports:[h.yE,h.pZ]})}return ne})()},5416:(gt,re,o)=>{"use strict";o.d(re,{UG:()=>G,_T:()=>te});var e=o(3953),n=o(8834),l=o(5286),h=o(177),g=o(9969),p=o(6939),f=o(6860),b=o(8617),d=o(9327),y=o(7987),R=o(7605),m=o(6600);function v(ne,K){if(1&ne){const k=e.RV6();e.j41(0,"div",1)(1,"button",2),e.bIt("click",function(){e.eBV(k);const W=e.XpG();return e.Njj(W.action())}),e.EFF(2),e.k0s()()}if(2&ne){const k=e.XpG();e.R7$(2),e.SpI(" ",k.data.action," ")}}const O=["label"];function S(ne,K){}const P=Math.pow(2,31)-1;class M{constructor(K,k){this._overlayRef=k,this._afterDismissed=new l.B7,this._afterOpened=new l.B7,this._onAction=new l.B7,this._dismissedByAction=!1,this.containerInstance=K,K._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(K){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(K,P))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const w=new e.nKC("MatSnackBarData");class x{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let I=(()=>{class ne{static#e=this.\u0275fac=function(j){return new(j||ne)};static#t=this.\u0275dir=e.FsC({type:ne,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}return ne})(),_=(()=>{class ne{static#e=this.\u0275fac=function(j){return new(j||ne)};static#t=this.\u0275dir=e.FsC({type:ne,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}return ne})(),C=(()=>{class ne{static#e=this.\u0275fac=function(j){return new(j||ne)};static#t=this.\u0275dir=e.FsC({type:ne,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}return ne})(),D=(()=>{class ne{constructor(k,j){this.snackBarRef=k,this.data=j}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(j){return new(j||ne)(e.rXU(M),e.rXU(w))};static#t=this.\u0275cmp=e.VBU({type:ne,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[e.aNF],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(j,W){1&j&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.DNE(2,v,3,1,"div",1)),2&j&&(e.R7$(),e.SpI(" ",W.data.message,"\n"),e.R7$(),e.vxM(W.hasAction?2:-1))},dependencies:[n.$z,I,_,C],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return ne})();const A={snackBarState:(0,g.hZ)("state",[(0,g.wk)("void, hidden",(0,g.iF)({transform:"scale(0.8)",opacity:0})),(0,g.wk)("visible",(0,g.iF)({transform:"scale(1)",opacity:1})),(0,g.kY)("* => visible",(0,g.i0)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,g.kY)("* => void, * => hidden",(0,g.i0)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,g.iF)({opacity:0})))])};let B=0,F=(()=>{class ne extends p.lb{constructor(k,j,W,ie,ce){super(),this._ngZone=k,this._elementRef=j,this._changeDetectorRef=W,this._platform=ie,this.snackBarConfig=ce,this._document=(0,e.WQX)(h.qQ),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new l.B7,this._onExit=new l.B7,this._onEnter=new l.B7,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+B++,this.attachDomPortal=oe=>{this._assertNotAttached();const me=this._portalOutlet.attachDomPortal(oe);return this._afterPortalAttached(),me},this._live="assertive"!==ce.politeness||ce.announcementMessage?"off"===ce.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(k){this._assertNotAttached();const j=this._portalOutlet.attachComponentPortal(k);return this._afterPortalAttached(),j}attachTemplatePortal(k){this._assertNotAttached();const j=this._portalOutlet.attachTemplatePortal(k);return this._afterPortalAttached(),j}onAnimationEnd(k){const{fromState:j,toState:W}=k;if(("void"===W&&"void"!==j||"hidden"===W)&&this._completeExit(),"visible"===W){const ie=this._onEnter;this._ngZone.run(()=>{ie.next(),ie.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){const k=this._elementRef.nativeElement,j=this.snackBarConfig.panelClass;j&&(Array.isArray(j)?j.forEach(ce=>k.classList.add(ce)):k.classList.add(j)),this._exposeToModals();const W=this._label.nativeElement,ie="mdc-snackbar__label";W.classList.toggle(ie,!W.querySelector(`.${ie}`))}_exposeToModals(){const k=this._liveElementId,j=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let W=0;W<j.length;W++){const ie=j[W],ce=ie.getAttribute("aria-owns");this._trackedModals.add(ie),ce?-1===ce.indexOf(k)&&ie.setAttribute("aria-owns",ce+" "+k):ie.setAttribute("aria-owns",k)}}_clearFromModals(){this._trackedModals.forEach(k=>{const j=k.getAttribute("aria-owns");if(j){const W=j.replace(this._liveElementId,"").trim();W.length>0?k.setAttribute("aria-owns",W):k.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const k=this._elementRef.nativeElement.querySelector("[aria-hidden]"),j=this._elementRef.nativeElement.querySelector("[aria-live]");if(k&&j){let W=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&k.contains(document.activeElement)&&(W=document.activeElement),k.removeAttribute("aria-hidden"),j.appendChild(k),W?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(j){return new(j||ne)(e.rXU(e.SKi),e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(f.OD),e.rXU(x))};static#t=this.\u0275cmp=e.VBU({type:ne,selectors:[["mat-snack-bar-container"]],viewQuery:function(j,W){if(1&j&&(e.GBs(p.I3,7),e.GBs(O,7)),2&j){let ie;e.mGM(ie=e.lsd())&&(W._portalOutlet=ie.first),e.mGM(ie=e.lsd())&&(W._label=ie.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function(j,W){1&j&&e.Kam("@state.done",function(ce){return W.onAnimationEnd(ce)}),2&j&&e.zvX("@state",W._animationState)},standalone:!0,features:[e.Vt3,e.aNF],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(j,W){1&j&&(e.j41(0,"div",1)(1,"div",2,0)(3,"div",3),e.DNE(4,S,0,0,"ng-template",4),e.k0s(),e.nrm(5,"div"),e.k0s()()),2&j&&(e.R7$(5),e.BMQ("aria-live",W._live)("role",W._role)("id",W._liveElementId))},dependencies:[p.I3],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}.cdk-high-contrast-active .mat-mdc-snackbar-surface{outline:solid 1px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color);border-radius:var(--mdc-snackbar-container-shape);background-color:var(--mdc-snackbar-container-color)}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font);font-size:var(--mdc-snackbar-supporting-text-size);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[A.snackBarState]}})}return ne})();const U=new e.nKC("mat-snack-bar-default-options",{providedIn:"root",factory:function $(){return new x}});let G=(()=>{class ne{get _openedSnackBarRef(){const k=this._parentSnackBar;return k?k._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(k){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=k:this._snackBarRefAtThisLevel=k}constructor(k,j,W,ie,ce,oe){this._overlay=k,this._live=j,this._injector=W,this._breakpointObserver=ie,this._parentSnackBar=ce,this._defaultConfig=oe,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=D,this.snackBarContainerComponent=F,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(k,j){return this._attach(k,j)}openFromTemplate(k,j){return this._attach(k,j)}open(k,j="",W){const ie={...this._defaultConfig,...W};return ie.data={message:k,action:j},ie.announcementMessage===k&&(ie.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,ie)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(k,j){const ie=e.zZn.create({parent:j&&j.viewContainerRef&&j.viewContainerRef.injector||this._injector,providers:[{provide:x,useValue:j}]}),ce=new p.A8(this.snackBarContainerComponent,j.viewContainerRef,ie),oe=k.attach(ce);return oe.instance.snackBarConfig=j,oe.instance}_attach(k,j){const W={...new x,...this._defaultConfig,...j},ie=this._createOverlay(W),ce=this._attachSnackBarContainer(ie,W),oe=new M(ce,ie);if(k instanceof e.C4Q){const me=new p.VA(k,null,{$implicit:W.data,snackBarRef:oe});oe.instance=ce.attachTemplatePortal(me)}else{const me=this._createInjector(W,oe),he=new p.A8(k,void 0,me),Oe=ce.attachComponentPortal(he);oe.instance=Oe.instance}return this._breakpointObserver.observe(d.Rp.HandsetPortrait).pipe((0,R.Q)(ie.detachments())).subscribe(me=>{ie.overlayElement.classList.toggle(this.handsetCssClass,me.matches)}),W.announcementMessage&&ce._onAnnounce.subscribe(()=>{this._live.announce(W.announcementMessage,W.politeness)}),this._animateSnackBar(oe,W),this._openedSnackBarRef=oe,this._openedSnackBarRef}_animateSnackBar(k,j){k.afterDismissed().subscribe(()=>{this._openedSnackBarRef==k&&(this._openedSnackBarRef=null),j.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{k.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):k.containerInstance.enter(),j.duration&&j.duration>0&&k.afterOpened().subscribe(()=>k._dismissAfter(j.duration))}_createOverlay(k){const j=new y.rR;j.direction=k.direction;let W=this._overlay.position().global();const ie="rtl"===k.direction,ce="left"===k.horizontalPosition||"start"===k.horizontalPosition&&!ie||"end"===k.horizontalPosition&&ie,oe=!ce&&"center"!==k.horizontalPosition;return ce?W.left("0"):oe?W.right("0"):W.centerHorizontally(),"top"===k.verticalPosition?W.top("0"):W.bottom("0"),j.positionStrategy=W,this._overlay.create(j)}_createInjector(k,j){return e.zZn.create({parent:k&&k.viewContainerRef&&k.viewContainerRef.injector||this._injector,providers:[{provide:M,useValue:j},{provide:w,useValue:k.data}]})}static#e=this.\u0275fac=function(j){return new(j||ne)(e.KVO(y.hJ),e.KVO(b.Ai),e.KVO(e.zZn),e.KVO(d.QP),e.KVO(ne,12),e.KVO(U))};static#t=this.\u0275prov=e.jDH({token:ne,factory:ne.\u0275fac,providedIn:"root"})}return ne})(),te=(()=>{class ne{static#e=this.\u0275fac=function(j){return new(j||ne)};static#t=this.\u0275mod=e.$C({type:ne});static#n=this.\u0275inj=e.G2t({providers:[G],imports:[y.z_,p.jc,n.Hl,m.yE,D,m.yE]})}return ne})()},2042:(gt,re,o)=>{"use strict";o.d(re,{B4:()=>M,NQ:()=>B,aE:()=>A});var e=o(3953),n=o(8617),l=o(7336),h=o(6607),g=o(5286),p=o(4670),f=o(9969),b=o(6600);const d=["mat-sort-header",""],y=["*"];function R(F,$){if(1&F){const U=e.RV6();e.j41(0,"div",2),e.bIt("@arrowPosition.start",function(){e.eBV(U);const J=e.XpG();return e.Njj(J._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){e.eBV(U);const J=e.XpG();return e.Njj(J._disableViewStateAnimation=!1)}),e.nrm(1,"div",3),e.j41(2,"div",4),e.nrm(3,"div",5)(4,"div",6)(5,"div",7),e.k0s()()}if(2&F){const U=e.XpG();e.Y8G("@arrowOpacity",U._getArrowViewState())("@arrowPosition",U._getArrowViewState())("@allowChildren",U._getArrowDirectionState()),e.R7$(2),e.Y8G("@indicator",U._getArrowDirectionState()),e.R7$(),e.Y8G("@leftPointer",U._getArrowDirectionState()),e.R7$(),e.Y8G("@rightPointer",U._getArrowDirectionState())}}const P=new e.nKC("MAT_SORT_DEFAULT_OPTIONS");let M=(()=>{class F{get direction(){return this._direction}set direction(U){this._direction=U}constructor(U){this._defaultOptions=U,this._initializedStream=new h.m(1),this.sortables=new Map,this._stateChanges=new g.B7,this.start="asc",this._direction="",this.disabled=!1,this.sortChange=new e.bkB,this.initialized=this._initializedStream}register(U){this.sortables.set(U.id,U)}deregister(U){this.sortables.delete(U.id)}sort(U){this.active!=U.id?(this.active=U.id,this.direction=U.start?U.start:this.start):this.direction=this.getNextSortDirection(U),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(U){if(!U)return"";let J=function w(F,$){let U=["asc","desc"];return"desc"==F&&U.reverse(),$||U.push(""),U}(U.start||this.start,U?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),te=J.indexOf(this.direction)+1;return te>=J.length&&(te=0),J[te]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static#e=this.\u0275fac=function(G){return new(G||F)(e.rXU(P,8))};static#t=this.\u0275dir=e.FsC({type:F,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",e.L39],disabled:[2,"matSortDisabled","disabled",e.L39]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],standalone:!0,features:[e.GFd,e.OA$]})}return F})();const x=b.ed.ENTERING+" "+b.r5.STANDARD_CURVE,I={indicator:(0,f.hZ)("indicator",[(0,f.wk)("active-asc, asc",(0,f.iF)({transform:"translateY(0px)"})),(0,f.wk)("active-desc, desc",(0,f.iF)({transform:"translateY(10px)"})),(0,f.kY)("active-asc <=> active-desc",(0,f.i0)(x))]),leftPointer:(0,f.hZ)("leftPointer",[(0,f.wk)("active-asc, asc",(0,f.iF)({transform:"rotate(-45deg)"})),(0,f.wk)("active-desc, desc",(0,f.iF)({transform:"rotate(45deg)"})),(0,f.kY)("active-asc <=> active-desc",(0,f.i0)(x))]),rightPointer:(0,f.hZ)("rightPointer",[(0,f.wk)("active-asc, asc",(0,f.iF)({transform:"rotate(45deg)"})),(0,f.wk)("active-desc, desc",(0,f.iF)({transform:"rotate(-45deg)"})),(0,f.kY)("active-asc <=> active-desc",(0,f.i0)(x))]),arrowOpacity:(0,f.hZ)("arrowOpacity",[(0,f.wk)("desc-to-active, asc-to-active, active",(0,f.iF)({opacity:1})),(0,f.wk)("desc-to-hint, asc-to-hint, hint",(0,f.iF)({opacity:.54})),(0,f.wk)("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",(0,f.iF)({opacity:0})),(0,f.kY)("* => asc, * => desc, * => active, * => hint, * => void",(0,f.i0)("0ms")),(0,f.kY)("* <=> *",(0,f.i0)(x))]),arrowPosition:(0,f.hZ)("arrowPosition",[(0,f.kY)("* => desc-to-hint, * => desc-to-active",(0,f.i0)(x,(0,f.i7)([(0,f.iF)({transform:"translateY(-25%)"}),(0,f.iF)({transform:"translateY(0)"})]))),(0,f.kY)("* => hint-to-desc, * => active-to-desc",(0,f.i0)(x,(0,f.i7)([(0,f.iF)({transform:"translateY(0)"}),(0,f.iF)({transform:"translateY(25%)"})]))),(0,f.kY)("* => asc-to-hint, * => asc-to-active",(0,f.i0)(x,(0,f.i7)([(0,f.iF)({transform:"translateY(25%)"}),(0,f.iF)({transform:"translateY(0)"})]))),(0,f.kY)("* => hint-to-asc, * => active-to-asc",(0,f.i0)(x,(0,f.i7)([(0,f.iF)({transform:"translateY(0)"}),(0,f.iF)({transform:"translateY(-25%)"})]))),(0,f.wk)("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",(0,f.iF)({transform:"translateY(0)"})),(0,f.wk)("hint-to-desc, active-to-desc, desc",(0,f.iF)({transform:"translateY(-25%)"})),(0,f.wk)("hint-to-asc, active-to-asc, asc",(0,f.iF)({transform:"translateY(25%)"}))]),allowChildren:(0,f.hZ)("allowChildren",[(0,f.kY)("* <=> *",[(0,f.P)("@*",(0,f.MA)(),{optional:!0})])])};let _=(()=>{class F{constructor(){this.changes=new g.B7}static#e=this.\u0275fac=function(G){return new(G||F)};static#t=this.\u0275prov=e.jDH({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})();const D={provide:_,deps:[[new e.Xx1,new e.kdw,_]],useFactory:function C(F){return F||new _}};let A=(()=>{class F{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(U){this._updateSortActionDescription(U)}constructor(U,G,J,te,ne,K,k,j){this._intl=U,this._changeDetectorRef=G,this._sort=J,this._columnDef=te,this._focusMonitor=ne,this._elementRef=K,this._ariaDescriber=k,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this.disabled=!1,this._sortActionDescription="Sort",j?.arrowPosition&&(this.arrowPosition=j?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(U=>{const G=!!U;G!==this._showIndicatorHint&&(this._setIndicatorHintVisible(G),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe(),this._sortButton&&this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription)}_setIndicatorHintVisible(U){this._isDisabled()&&U||(this._showIndicatorHint=U,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(U){this._viewState=U||{},this._disableViewStateAnimation&&(this._viewState={toState:U.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(U){!this._isDisabled()&&(U.keyCode===l.t6||U.keyCode===l.Fm)&&(U.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const U=this._viewState.fromState;return(U?`${U}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(U){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,U)),this._sortActionDescription=U}_handleStateChanges(){this._rerenderSubscription=(0,p.h)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(G){return new(G||F)(e.rXU(_),e.rXU(e.gRc),e.rXU(M,8),e.rXU("MAT_SORT_HEADER_COLUMN_DEF",8),e.rXU(n.FN),e.rXU(e.aKT),e.rXU(n.vr,8),e.rXU(P,8))};static#t=this.\u0275cmp=e.VBU({type:F,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(G,J){1&G&&e.bIt("click",function(){return J._handleClick()})("keydown",function(ne){return J._handleKeydown(ne)})("mouseenter",function(){return J._setIndicatorHintVisible(!0)})("mouseleave",function(){return J._setIndicatorHintVisible(!1)}),2&G&&(e.BMQ("aria-sort",J._getAriaSortAttribute()),e.AVh("mat-sort-header-disabled",J._isDisabled()))},inputs:{id:[0,"mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",disabled:[2,"disabled","disabled",e.L39],sortActionDescription:"sortActionDescription",disableClear:[2,"disableClear","disableClear",e.L39]},exportAs:["matSortHeader"],standalone:!0,features:[e.GFd,e.aNF],attrs:d,ngContentSelectors:y,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(G,J){1&G&&(e.NAR(),e.j41(0,"div",0)(1,"div",1),e.SdG(2),e.k0s(),e.DNE(3,R,6,6,"div",2),e.k0s()),2&G&&(e.AVh("mat-sort-header-sorted",J._isSorted())("mat-sort-header-position-before","before"===J.arrowPosition),e.BMQ("tabindex",J._isDisabled()?null:0)("role",J._isDisabled()?null:"button"),e.R7$(3),e.vxM(J._renderArrow()?3:-1))},styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;color:var(--mat-sort-arrow-color);opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[I.indicator,I.leftPointer,I.rightPointer,I.arrowOpacity,I.arrowPosition,I.allowChildren]},changeDetection:0})}return F})(),B=(()=>{class F{static#e=this.\u0275fac=function(G){return new(G||F)};static#t=this.\u0275mod=e.$C({type:F});static#n=this.\u0275inj=e.G2t({providers:[D],imports:[b.yE]})}return F})()},6850:(gt,re,o)=>{"use strict";o.d(re,{RI:()=>ut,T8:()=>Wt,mq:()=>xt});var e=o(3953),n=o(6600),l=o(6939),h=o(5286),g=o(3586),p=o(4421),f=o(4670),b=o(1235),d=o(5817),y=o(6651),R=o(4337),m=o(494),v=o(6860),O=o(8203),S=o(8617),P=o(7336),M=o(8170),w=o(7605),x=o(3020),I=o(3176),_=o(9090),C=o(7753),D=o(8728),A=o(522),B=o(2318),F=o(177),$=o(9969);const U=["*"];function G(be,Fe){1&be&&e.SdG(0)}const J=["tabListContainer"],te=["tabList"],ne=["tabListInner"],K=["nextPaginator"],k=["previousPaginator"],j=be=>({animationDuration:be}),W=(be,Fe)=>({value:be,params:Fe});function ie(be,Fe){}const ce=["tabBodyWrapper"],oe=["tabHeader"];function me(be,Fe){}function he(be,Fe){if(1&be&&e.DNE(0,me,0,0,"ng-template",12),2&be){const ae=e.XpG().$implicit;e.Y8G("cdkPortalOutlet",ae.templateLabel)}}function Oe(be,Fe){if(1&be&&e.EFF(0),2&be){const ae=e.XpG().$implicit;e.JRh(ae.textLabel)}}function we(be,Fe){if(1&be){const ae=e.RV6();e.j41(0,"div",7,2),e.bIt("click",function(){const ze=e.eBV(ae),vt=ze.$implicit,Ue=ze.$index,Pe=e.XpG(),Ke=e.sdS(1);return e.Njj(Pe._handleClick(vt,Ke,Ue))})("cdkFocusChange",function(ze){const vt=e.eBV(ae).$index,Ue=e.XpG();return e.Njj(Ue._tabFocusChanged(ze,vt))}),e.nrm(2,"span",8)(3,"div",9),e.j41(4,"span",10)(5,"span",11),e.DNE(6,he,1,1,null,12)(7,Oe,1,1),e.k0s()()()}if(2&be){const ae=Fe.$implicit,ve=Fe.$index,ze=e.sdS(1),vt=e.XpG();e.HbH(ae.labelClass),e.AVh("mdc-tab--active",vt.selectedIndex===ve),e.Y8G("id",vt._getTabLabelId(ve))("disabled",ae.disabled)("fitInkBarToContent",vt.fitInkBarToContent),e.BMQ("tabIndex",vt._getTabIndex(ve))("aria-posinset",ve+1)("aria-setsize",vt._tabs.length)("aria-controls",vt._getTabContentId(ve))("aria-selected",vt.selectedIndex===ve)("aria-label",ae.ariaLabel||null)("aria-labelledby",!ae.ariaLabel&&ae.ariaLabelledby?ae.ariaLabelledby:null),e.R7$(3),e.Y8G("matRippleTrigger",ze)("matRippleDisabled",ae.disabled||vt.disableRipple),e.R7$(3),e.vxM(ae.templateLabel?6:7)}}function We(be,Fe){1&be&&e.SdG(0)}function Xe(be,Fe){if(1&be){const ae=e.RV6();e.j41(0,"mat-tab-body",13),e.bIt("_onCentered",function(){e.eBV(ae);const ze=e.XpG();return e.Njj(ze._removeTabBodyWrapperHeight())})("_onCentering",function(ze){e.eBV(ae);const vt=e.XpG();return e.Njj(vt._setTabBodyWrapperHeight(ze))}),e.k0s()}if(2&be){const ae=Fe.$implicit,ve=Fe.$index,ze=e.XpG();e.HbH(ae.bodyClass),e.AVh("mat-mdc-tab-body-active",ze.selectedIndex===ve),e.Y8G("id",ze._getTabContentId(ve))("content",ae.content)("position",ae.position)("origin",ae.origin)("animationDuration",ze.animationDuration)("preserveContent",ze.preserveContent),e.BMQ("tabindex",null!=ze.contentTabIndex&&ze.selectedIndex===ve?ze.contentTabIndex:null)("aria-labelledby",ze._getTabLabelId(ve))("aria-hidden",ze.selectedIndex!==ve)}}const pe=new e.nKC("MatTabContent");let Ee=(()=>{class be{constructor(ae){this.template=ae}static#e=this.\u0275fac=function(ve){return new(ve||be)(e.rXU(e.C4Q))};static#t=this.\u0275dir=e.FsC({type:be,selectors:[["","matTabContent",""]],standalone:!0,features:[e.Jv_([{provide:pe,useExisting:be}])]})}return be})();const Ge=new e.nKC("MatTabLabel"),Qe=new e.nKC("MAT_TAB");let $e=(()=>{class be extends l.bV{constructor(ae,ve,ze){super(ae,ve),this._closestTab=ze}static#e=this.\u0275fac=function(ve){return new(ve||be)(e.rXU(e.C4Q),e.rXU(e.c1b),e.rXU(Qe,8))};static#t=this.\u0275dir=e.FsC({type:be,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],standalone:!0,features:[e.Jv_([{provide:Ge,useExisting:be}]),e.Vt3]})}return be})();const tt=new e.nKC("MAT_TAB_GROUP");let xt=(()=>{class be{get templateLabel(){return this._templateLabel}set templateLabel(ae){this._setTemplateLabelInput(ae)}get content(){return this._contentPortal}constructor(ae,ve){this._viewContainerRef=ae,this._closestTabGroup=ve,this.disabled=!1,this._explicitContent=void 0,this.textLabel="",this._contentPortal=null,this._stateChanges=new h.B7,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(ae){(ae.hasOwnProperty("textLabel")||ae.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new l.VA(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(ae){ae&&ae._closestTab===this&&(this._templateLabel=ae)}static#e=this.\u0275fac=function(ve){return new(ve||be)(e.rXU(e.c1b),e.rXU(tt,8))};static#t=this.\u0275cmp=e.VBU({type:be,selectors:[["mat-tab"]],contentQueries:function(ve,ze,vt){if(1&ve&&(e.wni(vt,$e,5),e.wni(vt,Ee,7,e.C4Q)),2&ve){let Ue;e.mGM(Ue=e.lsd())&&(ze.templateLabel=Ue.first),e.mGM(Ue=e.lsd())&&(ze._explicitContent=Ue.first)}},viewQuery:function(ve,ze){if(1&ve&&e.GBs(e.C4Q,7),2&ve){let vt;e.mGM(vt=e.lsd())&&(ze._implicitContent=vt.first)}},hostAttrs:["hidden",""],inputs:{disabled:[2,"disabled","disabled",e.L39],textLabel:[0,"label","textLabel"],ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],standalone:!0,features:[e.Jv_([{provide:Qe,useExisting:be}]),e.GFd,e.OA$,e.aNF],ngContentSelectors:U,decls:1,vars:0,template:function(ve,ze){1&ve&&(e.NAR(),e.DNE(0,G,1,0,"ng-template"))},encapsulation:2})}return be})();const Pt="mdc-tab-indicator--active",yt="mdc-tab-indicator--no-transition";class Le{constructor(Fe){this._items=Fe}hide(){this._items.forEach(Fe=>Fe.deactivateInkBar())}alignToElement(Fe){const ae=this._items.find(ze=>ze.elementRef.nativeElement===Fe),ve=this._currentItem;if(ae!==ve&&(ve?.deactivateInkBar(),ae)){const ze=ve?.elementRef.nativeElement.getBoundingClientRect?.();ae.activateInkBar(ze),this._currentItem=ae}}}let De=(()=>{class be{constructor(){this._elementRef=(0,e.WQX)(e.aKT),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(ae){this._fitToContent!==ae&&(this._fitToContent=ae,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(ae){const ve=this._elementRef.nativeElement;if(!ae||!ve.getBoundingClientRect||!this._inkBarContentElement)return void ve.classList.add(Pt);const ze=ve.getBoundingClientRect(),vt=ae.width/ze.width,Ue=ae.left-ze.left;ve.classList.add(yt),this._inkBarContentElement.style.setProperty("transform",`translateX(${Ue}px) scaleX(${vt})`),ve.getBoundingClientRect(),ve.classList.remove(yt),ve.classList.add(Pt),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(Pt)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const ae=this._elementRef.nativeElement.ownerDocument||document,ve=this._inkBarElement=ae.createElement("span"),ze=this._inkBarContentElement=ae.createElement("span");ve.className="mdc-tab-indicator",ze.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",ve.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement).appendChild(this._inkBarElement)}static#e=this.\u0275fac=function(ve){return new(ve||be)};static#t=this.\u0275dir=e.FsC({type:be,inputs:{fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",e.L39]},features:[e.GFd]})}return be})(),Q=(()=>{class be extends De{constructor(ae){super(),this.elementRef=ae,this.disabled=!1}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static#e=this.\u0275fac=function(ve){return new(ve||be)(e.rXU(e.aKT))};static#t=this.\u0275dir=e.FsC({type:be,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(ve,ze){2&ve&&(e.BMQ("aria-disabled",!!ze.disabled),e.AVh("mat-mdc-tab-disabled",ze.disabled))},inputs:{disabled:[2,"disabled","disabled",e.L39]},standalone:!0,features:[e.GFd,e.Vt3]})}return be})();const Te=(0,v.BQ)({passive:!0});let qt=(()=>{class be{get selectedIndex(){return this._selectedIndex}set selectedIndex(ae){const ve=isNaN(ae)?0:ae;this._selectedIndex!=ve&&(this._selectedIndexChanged=!0,this._selectedIndex=ve,this._keyManager&&this._keyManager.updateActiveItem(ve))}constructor(ae,ve,ze,vt,Ue,Pe,Ke){this._elementRef=ae,this._changeDetectorRef=ve,this._viewportRuler=ze,this._dir=vt,this._ngZone=Ue,this._platform=Pe,this._animationMode=Ke,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new h.B7,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new h.B7,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new e.bkB,this.indexFocused=new e.bkB,this._sharedResizeObserver=(0,e.WQX)(M.a),this._injector=(0,e.WQX)(e.zZn),Ue.runOutsideAngular(()=>{(0,g.R)(ae.nativeElement,"mouseleave").pipe((0,w.Q)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){(0,g.R)(this._previousPaginator.nativeElement,"touchstart",Te).pipe((0,w.Q)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),(0,g.R)(this._nextPaginator.nativeElement,"touchstart",Te).pipe((0,w.Q)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const ae=this._dir?this._dir.change:(0,p.of)("ltr"),ve=this._sharedResizeObserver.observe(this._elementRef.nativeElement).pipe((0,x.B)(32),(0,w.Q)(this._destroyed)),ze=this._viewportRuler.change(150).pipe((0,w.Q)(this._destroyed)),vt=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new S.Bu(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),(0,e.mal)(vt,{injector:this._injector}),(0,f.h)(ae,ze,ve,this._items.changes,this._itemsResized()).pipe((0,w.Q)(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),vt()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(Ue=>{this.indexFocused.emit(Ue),this._setTabFocus(Ue)})}_itemsResized(){return"function"!=typeof ResizeObserver?b.w:this._items.changes.pipe((0,I.Z)(this._items),(0,_.n)(ae=>new d.c(ve=>this._ngZone.runOutsideAngular(()=>{const ze=new ResizeObserver(vt=>ve.next(vt));return ae.forEach(vt=>ze.observe(vt.elementRef.nativeElement)),()=>{ze.disconnect()}}))),(0,C.i)(1),(0,D.p)(ae=>ae.some(ve=>ve.contentRect.width>0&&ve.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(ae){if(!(0,P.rp)(ae))switch(ae.keyCode){case P.Fm:case P.t6:if(this.focusIndex!==this.selectedIndex){const ve=this._items.get(this.focusIndex);ve&&!ve.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(ae))}break;default:this._keyManager.onKeydown(ae)}}_onContentChanges(){const ae=this._elementRef.nativeElement.textContent;ae!==this._currentTextContent&&(this._currentTextContent=ae||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(ae){!this._isValidIndex(ae)||this.focusIndex===ae||!this._keyManager||this._keyManager.setActiveItem(ae)}_isValidIndex(ae){return!this._items||!!this._items.toArray()[ae]}_setTabFocus(ae){if(this._showPaginationControls&&this._scrollToLabel(ae),this._items&&this._items.length){this._items.toArray()[ae].focus();const ve=this._tabListContainer.nativeElement;ve.scrollLeft="ltr"==this._getLayoutDirection()?0:ve.scrollWidth-ve.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const ae=this.scrollDistance,ve="ltr"===this._getLayoutDirection()?-ae:ae;this._tabList.nativeElement.style.transform=`translateX(${Math.round(ve)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(ae){this._scrollTo(ae)}_scrollHeader(ae){return this._scrollTo(this._scrollDistance+("before"==ae?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(ae){this._stopInterval(),this._scrollHeader(ae)}_scrollToLabel(ae){if(this.disablePagination)return;const ve=this._items?this._items.toArray()[ae]:null;if(!ve)return;const ze=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:vt,offsetWidth:Ue}=ve.elementRef.nativeElement;let Pe,Ke;"ltr"==this._getLayoutDirection()?(Pe=vt,Ke=Pe+Ue):(Ke=this._tabListInner.nativeElement.offsetWidth-vt,Pe=Ke-Ue);const Ie=this.scrollDistance,Ze=this.scrollDistance+ze;Pe<Ie?this.scrollDistance-=Ie-Pe:Ke>Ze&&(this.scrollDistance+=Math.min(Ke-Ze,Pe-Ie))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const ze=this._tabListInner.nativeElement.scrollWidth-this._elementRef.nativeElement.offsetWidth>=5;ze||(this.scrollDistance=0),ze!==this._showPaginationControls&&(this._showPaginationControls=ze,this._changeDetectorRef.markForCheck())}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const ae=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,ve=ae?ae.elementRef.nativeElement:null;ve?this._inkBar.alignToElement(ve):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(ae,ve){ve&&null!=ve.button&&0!==ve.button||(this._stopInterval(),(0,y.O)(650,100).pipe((0,w.Q)((0,f.h)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:ze,distance:vt}=this._scrollHeader(ae);(0===vt||vt>=ze)&&this._stopInterval()}))}_scrollTo(ae){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const ve=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(ve,ae)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:ve,distance:this._scrollDistance}}static#e=this.\u0275fac=function(ve){return new(ve||be)(e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(m.Xj),e.rXU(O.dS,8),e.rXU(e.SKi),e.rXU(v.OD),e.rXU(e.bc$,8))};static#t=this.\u0275dir=e.FsC({type:be,inputs:{disablePagination:[2,"disablePagination","disablePagination",e.L39],selectedIndex:[2,"selectedIndex","selectedIndex",e.Udg]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[e.GFd]})}return be})(),hn=(()=>{class be extends qt{constructor(ae,ve,ze,vt,Ue,Pe,Ke){super(ae,ve,ze,vt,Ue,Pe,Ke),this.disableRipple=!1}ngAfterContentInit(){this._inkBar=new Le(this._items),super.ngAfterContentInit()}_itemSelected(ae){ae.preventDefault()}static#e=this.\u0275fac=function(ve){return new(ve||be)(e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(m.Xj),e.rXU(O.dS,8),e.rXU(e.SKi),e.rXU(v.OD),e.rXU(e.bc$,8))};static#t=this.\u0275cmp=e.VBU({type:be,selectors:[["mat-tab-header"]],contentQueries:function(ve,ze,vt){if(1&ve&&e.wni(vt,Q,4),2&ve){let Ue;e.mGM(Ue=e.lsd())&&(ze._items=Ue)}},viewQuery:function(ve,ze){if(1&ve&&(e.GBs(J,7),e.GBs(te,7),e.GBs(ne,7),e.GBs(K,5),e.GBs(k,5)),2&ve){let vt;e.mGM(vt=e.lsd())&&(ze._tabListContainer=vt.first),e.mGM(vt=e.lsd())&&(ze._tabList=vt.first),e.mGM(vt=e.lsd())&&(ze._tabListInner=vt.first),e.mGM(vt=e.lsd())&&(ze._nextPaginator=vt.first),e.mGM(vt=e.lsd())&&(ze._previousPaginator=vt.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(ve,ze){2&ve&&e.AVh("mat-mdc-tab-header-pagination-controls-enabled",ze._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==ze._getLayoutDirection())},inputs:{disableRipple:[2,"disableRipple","disableRipple",e.L39]},standalone:!0,features:[e.GFd,e.Vt3,e.aNF],ngContentSelectors:U,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled","disabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled","disabled"]],template:function(ve,ze){if(1&ve){const vt=e.RV6();e.NAR(),e.j41(0,"button",5,0),e.bIt("click",function(){return e.eBV(vt),e.Njj(ze._handlePaginatorClick("before"))})("mousedown",function(Pe){return e.eBV(vt),e.Njj(ze._handlePaginatorPress("before",Pe))})("touchend",function(){return e.eBV(vt),e.Njj(ze._stopInterval())}),e.nrm(2,"div",6),e.k0s(),e.j41(3,"div",7,1),e.bIt("keydown",function(Pe){return e.eBV(vt),e.Njj(ze._handleKeydown(Pe))}),e.j41(5,"div",8,2),e.bIt("cdkObserveContent",function(){return e.eBV(vt),e.Njj(ze._onContentChanges())}),e.j41(7,"div",9,3),e.SdG(9),e.k0s()()(),e.j41(10,"button",10,4),e.bIt("mousedown",function(Pe){return e.eBV(vt),e.Njj(ze._handlePaginatorPress("after",Pe))})("click",function(){return e.eBV(vt),e.Njj(ze._handlePaginatorClick("after"))})("touchend",function(){return e.eBV(vt),e.Njj(ze._stopInterval())}),e.nrm(12,"div",6),e.k0s()}2&ve&&(e.AVh("mat-mdc-tab-header-pagination-disabled",ze._disableScrollBefore),e.Y8G("matRippleDisabled",ze._disableScrollBefore||ze.disableRipple)("disabled",ze._disableScrollBefore||null),e.R7$(3),e.AVh("_mat-animation-noopable","NoopAnimations"===ze._animationMode),e.R7$(7),e.AVh("mat-mdc-tab-header-pagination-disabled",ze._disableScrollAfter),e.Y8G("matRippleDisabled",ze._disableScrollAfter||ze.disableRipple)("disabled",ze._disableScrollAfter||null))},dependencies:[n.r6,B.Wv],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height);border-bottom-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height);border-top-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-labels,.mat-mdc-tab-labels.cdk-drop-list{min-height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2})}return be})();const wt=new e.nKC("MAT_TABS_CONFIG"),Zt={translateTab:(0,$.hZ)("translateTab",[(0,$.wk)("center, void, left-origin-center, right-origin-center",(0,$.iF)({transform:"none",visibility:"visible"})),(0,$.wk)("left",(0,$.iF)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,$.wk)("right",(0,$.iF)({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,$.kY)("* => left, * => right, left => center, right => center",(0,$.i0)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),(0,$.kY)("void => left-origin-center",[(0,$.iF)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),(0,$.i0)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),(0,$.kY)("void => right-origin-center",[(0,$.iF)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),(0,$.i0)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let ft=(()=>{class be extends l.I3{constructor(ae,ve,ze,vt){super(ae,ve,vt),this._host=ze,this._centeringSub=R.y.EMPTY,this._leavingSub=R.y.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe((0,I.Z)(this._host._isCenterPosition(this._host._position))).subscribe(ae=>{this._host._content&&ae&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static#e=this.\u0275fac=function(ve){return new(ve||be)(e.rXU(e.OM3),e.rXU(e.c1b),e.rXU((0,e.Rfq)(()=>lt)),e.rXU(F.qQ))};static#t=this.\u0275dir=e.FsC({type:be,selectors:[["","matTabBodyHost",""]],standalone:!0,features:[e.Vt3]})}return be})(),lt=(()=>{class be{set position(ae){this._positionIndex=ae,this._computePositionAnimationState()}constructor(ae,ve,ze){this._elementRef=ae,this._dir=ve,this._dirChangeSubscription=R.y.EMPTY,this._translateTabComplete=new h.B7,this._onCentering=new e.bkB,this._beforeCentering=new e.bkB,this._afterLeavingCenter=new e.bkB,this._onCentered=new e.bkB(!0),this.animationDuration="500ms",this.preserveContent=!1,ve&&(this._dirChangeSubscription=ve.change.subscribe(vt=>{this._computePositionAnimationState(vt),ze.markForCheck()})),this._translateTabComplete.pipe((0,A.F)((vt,Ue)=>vt.fromState===Ue.fromState&&vt.toState===Ue.toState)).subscribe(vt=>{this._isCenterPosition(vt.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(vt.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(ae){const ve=this._isCenterPosition(ae.toState);this._beforeCentering.emit(ve),ve&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(ae){return"center"==ae||"left-origin-center"==ae||"right-origin-center"==ae}_computePositionAnimationState(ae=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==ae?"left":"right":this._positionIndex>0?"ltr"==ae?"right":"left":"center"}_computePositionFromOrigin(ae){const ve=this._getLayoutDirection();return"ltr"==ve&&ae<=0||"rtl"==ve&&ae>0?"left-origin-center":"right-origin-center"}static#e=this.\u0275fac=function(ve){return new(ve||be)(e.rXU(e.aKT),e.rXU(O.dS,8),e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:be,selectors:[["mat-tab-body"]],viewQuery:function(ve,ze){if(1&ve&&e.GBs(l.I3,5),2&ve){let vt;e.mGM(vt=e.lsd())&&(ze._portalHost=vt.first)}},hostAttrs:[1,"mat-mdc-tab-body"],inputs:{_content:[0,"content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"},standalone:!0,features:[e.aNF],decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(ve,ze){if(1&ve){const vt=e.RV6();e.j41(0,"div",1,0),e.bIt("@translateTab.start",function(Pe){return e.eBV(vt),e.Njj(ze._onTranslateTabStarted(Pe))})("@translateTab.done",function(Pe){return e.eBV(vt),e.Njj(ze._translateTabComplete.next(Pe))}),e.DNE(2,ie,0,0,"ng-template",2),e.k0s()}2&ve&&e.Y8G("@translateTab",e.l_i(3,W,ze._position,e.eq3(1,j,ze.animationDuration)))},dependencies:[ft,m.uv],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[Zt.translateTab]}})}return be})(),Ft=0,Wt=(()=>{class be{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(ae){this._fitInkBarToContent=ae,this._changeDetectorRef.markForCheck()}get selectedIndex(){return this._selectedIndex}set selectedIndex(ae){this._indexToSelect=isNaN(ae)?null:ae}get animationDuration(){return this._animationDuration}set animationDuration(ae){const ve=ae+"";this._animationDuration=/^\d+$/.test(ve)?ae+"ms":ve}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(ae){this._contentTabIndex=isNaN(ae)?null:ae}get backgroundColor(){return this._backgroundColor}set backgroundColor(ae){const ve=this._elementRef.nativeElement.classList;ve.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),ae&&ve.add("mat-tabs-with-background",`mat-background-${ae}`),this._backgroundColor=ae}constructor(ae,ve,ze,vt){this._elementRef=ae,this._changeDetectorRef=ve,this._animationMode=vt,this._tabs=new e.rOR,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=R.y.EMPTY,this._tabLabelSubscription=R.y.EMPTY,this._fitInkBarToContent=!1,this.stretchTabs=!0,this.dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.disablePagination=!1,this.disableRipple=!1,this.preserveContent=!1,this.selectedIndexChange=new e.bkB,this.focusChange=new e.bkB,this.animationDone=new e.bkB,this.selectedTabChange=new e.bkB(!0),this._isServer=!(0,e.WQX)(v.OD).isBrowser,this._groupId=Ft++,this.animationDuration=ze&&ze.animationDuration?ze.animationDuration:"500ms",this.disablePagination=!(!ze||null==ze.disablePagination)&&ze.disablePagination,this.dynamicHeight=!(!ze||null==ze.dynamicHeight)&&ze.dynamicHeight,null!=ze?.contentTabIndex&&(this.contentTabIndex=ze.contentTabIndex),this.preserveContent=!!ze?.preserveContent,this.fitInkBarToContent=!(!ze||null==ze.fitInkBarToContent)&&ze.fitInkBarToContent,this.stretchTabs=!ze||null==ze.stretchTabs||ze.stretchTabs}ngAfterContentChecked(){const ae=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=ae){const ve=null==this._selectedIndex;if(!ve){this.selectedTabChange.emit(this._createChangeEvent(ae));const ze=this._tabBodyWrapper.nativeElement;ze.style.minHeight=ze.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((ze,vt)=>ze.isActive=vt===ae),ve||(this.selectedIndexChange.emit(ae),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((ve,ze)=>{ve.position=ze-ae,null!=this._selectedIndex&&0==ve.position&&!ve.origin&&(ve.origin=ae-this._selectedIndex)}),this._selectedIndex!==ae&&(this._selectedIndex=ae,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const ae=this._clampTabIndex(this._indexToSelect);if(ae===this._selectedIndex){const ve=this._tabs.toArray();let ze;for(let vt=0;vt<ve.length;vt++)if(ve[vt].isActive){this._indexToSelect=this._selectedIndex=vt,this._lastFocusedTabIndex=null,ze=ve[vt];break}!ze&&ve[ae]&&Promise.resolve().then(()=>{ve[ae].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(ae))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe((0,I.Z)(this._allTabs)).subscribe(ae=>{this._tabs.reset(ae.filter(ve=>ve._closestTabGroup===this||!ve._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(ae){const ve=this._tabHeader;ve&&(ve.focusIndex=ae)}_focusChanged(ae){this._lastFocusedTabIndex=ae,this.focusChange.emit(this._createChangeEvent(ae))}_createChangeEvent(ae){const ve=new en;return ve.index=ae,this._tabs&&this._tabs.length&&(ve.tab=this._tabs.toArray()[ae]),ve}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,f.h)(...this._tabs.map(ae=>ae._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(ae){return Math.min(this._tabs.length-1,Math.max(ae||0,0))}_getTabLabelId(ae){return`mat-tab-label-${this._groupId}-${ae}`}_getTabContentId(ae){return`mat-tab-content-${this._groupId}-${ae}`}_setTabBodyWrapperHeight(ae){if(!this.dynamicHeight||!this._tabBodyWrapperHeight)return;const ve=this._tabBodyWrapper.nativeElement;ve.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(ve.style.height=ae+"px")}_removeTabBodyWrapperHeight(){const ae=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=ae.clientHeight,ae.style.height="",this.animationDone.emit()}_handleClick(ae,ve,ze){ve.focusIndex=ze,ae.disabled||(this.selectedIndex=ze)}_getTabIndex(ae){return ae===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(ae,ve){ae&&"mouse"!==ae&&"touch"!==ae&&(this._tabHeader.focusIndex=ve)}static#e=this.\u0275fac=function(ve){return new(ve||be)(e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(wt,8),e.rXU(e.bc$,8))};static#t=this.\u0275cmp=e.VBU({type:be,selectors:[["mat-tab-group"]],contentQueries:function(ve,ze,vt){if(1&ve&&e.wni(vt,xt,5),2&ve){let Ue;e.mGM(Ue=e.lsd())&&(ze._allTabs=Ue)}},viewQuery:function(ve,ze){if(1&ve&&(e.GBs(ce,5),e.GBs(oe,5)),2&ve){let vt;e.mGM(vt=e.lsd())&&(ze._tabBodyWrapper=vt.first),e.mGM(vt=e.lsd())&&(ze._tabHeader=vt.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:10,hostBindings:function(ve,ze){2&ve&&(e.HbH("mat-"+(ze.color||"primary")),e.xc7("--mat-tab-animation-duration",ze.animationDuration),e.AVh("mat-mdc-tab-group-dynamic-height",ze.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===ze.headerPosition)("mat-mdc-tab-group-stretch-tabs",ze.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",e.L39],stretchTabs:[2,"mat-stretch-tabs","stretchTabs",e.L39],dynamicHeight:[2,"dynamicHeight","dynamicHeight",e.L39],selectedIndex:[2,"selectedIndex","selectedIndex",e.Udg],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[2,"contentTabIndex","contentTabIndex",e.Udg],disablePagination:[2,"disablePagination","disablePagination",e.L39],disableRipple:[2,"disableRipple","disableRipple",e.L39],preserveContent:[2,"preserveContent","preserveContent",e.L39],backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],standalone:!0,features:[e.Jv_([{provide:tt,useExisting:be}]),e.GFd,e.aNF],ngContentSelectors:U,decls:9,vars:6,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","mat-mdc-tab-body-active","class","content","position","origin","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","id","content","position","origin","animationDuration","preserveContent"]],template:function(ve,ze){if(1&ve){const vt=e.RV6();e.NAR(),e.j41(0,"mat-tab-header",3,0),e.bIt("indexFocused",function(Pe){return e.eBV(vt),e.Njj(ze._focusChanged(Pe))})("selectFocusedIndex",function(Pe){return e.eBV(vt),e.Njj(ze.selectedIndex=Pe)}),e.Z7z(2,we,8,17,"div",4,e.fX1),e.k0s(),e.DNE(4,We,1,0),e.j41(5,"div",5,1),e.Z7z(7,Xe,1,13,"mat-tab-body",6,e.fX1),e.k0s()}2&ve&&(e.Y8G("selectedIndex",ze.selectedIndex||0)("disableRipple",ze.disableRipple)("disablePagination",ze.disablePagination),e.R7$(2),e.Dyx(ze._tabs),e.R7$(2),e.vxM(ze._isServer?4:-1),e.R7$(),e.AVh("_mat-animation-noopable","NoopAnimations"===ze._animationMode),e.R7$(2),e.Dyx(ze._tabs))},dependencies:[hn,Q,S.vR,n.r6,l.I3,lt],styles:['.mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mdc-secondary-navigation-tab-container-height);font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-tracking);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color);border-top-width:var(--mdc-tab-indicator-active-indicator-height);border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2})}return be})();class en{}let ut=(()=>{class be{static#e=this.\u0275fac=function(ve){return new(ve||be)};static#t=this.\u0275mod=e.$C({type:be});static#n=this.\u0275inj=e.G2t({imports:[n.yE,n.yE]})}return be})()},4823:(gt,re,o)=>{"use strict";o.d(re,{oV:()=>J,uc:()=>K});var e=o(7605),n=o(4085),l=o(7336),h=o(3953),g=o(177),p=o(6860),f=o(8617),b=o(8203),d=o(7987),y=o(494),R=o(6939),m=o(5286),O=(o(9969),o(6600));const S=["tooltip"],w=new h.nKC("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const k=(0,h.WQX)(d.hJ);return()=>k.scrollStrategies.reposition({scrollThrottle:20})}}),I={provide:w,deps:[d.hJ],useFactory:function x(k){return()=>k.scrollStrategies.reposition({scrollThrottle:20})}},C=new h.nKC("mat-tooltip-default-options",{providedIn:"root",factory:function _(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),A="tooltip-panel",B=(0,p.BQ)({passive:!0});let J=(()=>{class k{get position(){return this._position}set position(W){W!==this._position&&(this._position=W,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(W){this._positionAtOrigin=(0,n.he)(W),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(W){this._disabled=(0,n.he)(W),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(W){this._showDelay=(0,n.OE)(W)}get hideDelay(){return this._hideDelay}set hideDelay(W){this._hideDelay=(0,n.OE)(W),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(W){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=W?String(W).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(W){this._tooltipClass=W,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(W,ie,ce,oe,me,he,Oe,we,We,Xe,Me,ge){this._overlay=W,this._elementRef=ie,this._scrollDispatcher=ce,this._viewContainerRef=oe,this._ngZone=me,this._platform=he,this._ariaDescriber=Oe,this._focusMonitor=we,this._dir=Xe,this._defaultOptions=Me,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=te,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new m.B7,this._injector=(0,h.WQX)(h.zZn),this._scrollStrategy=We,this._document=ge,Me&&(this._showDelay=Me.showDelay,this._hideDelay=Me.hideDelay,Me.position&&(this.position=Me.position),Me.positionAtOrigin&&(this.positionAtOrigin=Me.positionAtOrigin),Me.touchGestures&&(this.touchGestures=Me.touchGestures)),Xe.change.pipe((0,e.Q)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,e.Q)(this._destroyed)).subscribe(W=>{W?"keyboard"===W&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const W=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([ie,ce])=>{W.removeEventListener(ie,ce,B)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(W,this.message,"tooltip"),this._focusMonitor.stopMonitoring(W)}show(W=this.showDelay,ie){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const ce=this._createOverlay(ie);this._detach(),this._portal=this._portal||new R.A8(this._tooltipComponent,this._viewContainerRef);const oe=this._tooltipInstance=ce.attach(this._portal).instance;oe._triggerElement=this._elementRef.nativeElement,oe._mouseLeaveHideDelay=this._hideDelay,oe.afterHidden().pipe((0,e.Q)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),oe.show(W)}hide(W=this.hideDelay){const ie=this._tooltipInstance;ie&&(ie.isVisible()?ie.hide(W):(ie._cancelPendingAnimations(),this._detach()))}toggle(W){this._isTooltipVisible()?this.hide():this.show(void 0,W)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(W){if(this._overlayRef){const oe=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!W)&&oe._origin instanceof h.aKT)return this._overlayRef;this._detach()}const ie=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),ce=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&W||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(ie);return ce.positionChanges.pipe((0,e.Q)(this._destroyed)).subscribe(oe=>{this._updateCurrentPositionClass(oe.connectionPair),this._tooltipInstance&&oe.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:ce,panelClass:`${this._cssClassPrefix}-${A}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,e.Q)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,e.Q)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,e.Q)(this._destroyed)).subscribe(oe=>{this._isTooltipVisible()&&oe.keyCode===l._f&&!(0,l.rp)(oe)&&(oe.preventDefault(),oe.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(W){const ie=W.getConfig().positionStrategy,ce=this._getOrigin(),oe=this._getOverlayPosition();ie.withPositions([this._addOffset({...ce.main,...oe.main}),this._addOffset({...ce.fallback,...oe.fallback})])}_addOffset(W){const ce=!this._dir||"ltr"==this._dir.value;return"top"===W.originY?W.offsetY=-8:"bottom"===W.originY?W.offsetY=8:"start"===W.originX?W.offsetX=ce?-8:8:"end"===W.originX&&(W.offsetX=ce?8:-8),W}_getOrigin(){const W=!this._dir||"ltr"==this._dir.value,ie=this.position;let ce;"above"==ie||"below"==ie?ce={originX:"center",originY:"above"==ie?"top":"bottom"}:"before"==ie||"left"==ie&&W||"right"==ie&&!W?ce={originX:"start",originY:"center"}:("after"==ie||"right"==ie&&W||"left"==ie&&!W)&&(ce={originX:"end",originY:"center"});const{x:oe,y:me}=this._invertPosition(ce.originX,ce.originY);return{main:ce,fallback:{originX:oe,originY:me}}}_getOverlayPosition(){const W=!this._dir||"ltr"==this._dir.value,ie=this.position;let ce;"above"==ie?ce={overlayX:"center",overlayY:"bottom"}:"below"==ie?ce={overlayX:"center",overlayY:"top"}:"before"==ie||"left"==ie&&W||"right"==ie&&!W?ce={overlayX:"end",overlayY:"center"}:("after"==ie||"right"==ie&&W||"left"==ie&&!W)&&(ce={overlayX:"start",overlayY:"center"});const{x:oe,y:me}=this._invertPosition(ce.overlayX,ce.overlayY);return{main:ce,fallback:{overlayX:oe,overlayY:me}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),(0,h.mal)(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(W){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=W,this._tooltipInstance._markForCheck())}_invertPosition(W,ie){return"above"===this.position||"below"===this.position?"top"===ie?ie="bottom":"bottom"===ie&&(ie="top"):"end"===W?W="start":"start"===W&&(W="end"),{x:W,y:ie}}_updateCurrentPositionClass(W){const{overlayY:ie,originX:ce,originY:oe}=W;let me;if(me="center"===ie?this._dir&&"rtl"===this._dir.value?"end"===ce?"left":"right":"start"===ce?"left":"right":"bottom"===ie&&"top"===oe?"above":"below",me!==this._currentPosition){const he=this._overlayRef;if(he){const Oe=`${this._cssClassPrefix}-${A}-`;he.removePanelClass(Oe+this._currentPosition),he.addPanelClass(Oe+me)}this._currentPosition=me}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",W=>{let ie;this._setupPointerExitEventsIfNeeded(),void 0!==W.x&&void 0!==W.y&&(ie=W),this.show(void 0,ie)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",W=>{const ie=W.targetTouches?.[0],ce=ie?{x:ie.clientX,y:ie.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,ce),this._defaultOptions.touchLongPressShowDelay??500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const W=[];if(this._platformSupportsMouseEvents())W.push(["mouseleave",ie=>{const ce=ie.relatedTarget;(!ce||!this._overlayRef?.overlayElement.contains(ce))&&this.hide()}],["wheel",ie=>this._wheelListener(ie)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const ie=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};W.push(["touchend",ie],["touchcancel",ie])}this._addListeners(W),this._passiveListeners.push(...W)}_addListeners(W){W.forEach(([ie,ce])=>{this._elementRef.nativeElement.addEventListener(ie,ce,B)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(W){if(this._isTooltipVisible()){const ie=this._document.elementFromPoint(W.clientX,W.clientY),ce=this._elementRef.nativeElement;ie!==ce&&!ce.contains(ie)&&this.hide()}}_disableNativeGesturesIfNecessary(){const W=this.touchGestures;if("off"!==W){const ie=this._elementRef.nativeElement,ce=ie.style;("on"===W||"INPUT"!==ie.nodeName&&"TEXTAREA"!==ie.nodeName)&&(ce.userSelect=ce.msUserSelect=ce.webkitUserSelect=ce.MozUserSelect="none"),("on"===W||!ie.draggable)&&(ce.webkitUserDrag="none"),ce.touchAction="none",ce.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(ie){return new(ie||k)(h.rXU(d.hJ),h.rXU(h.aKT),h.rXU(y.R),h.rXU(h.c1b),h.rXU(h.SKi),h.rXU(p.OD),h.rXU(f.vr),h.rXU(f.FN),h.rXU(w),h.rXU(b.dS),h.rXU(C,8),h.rXU(g.qQ))};static#t=this.\u0275dir=h.FsC({type:k,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(ie,ce){2&ie&&h.AVh("mat-mdc-tooltip-disabled",ce.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}return k})(),te=(()=>{class k{constructor(W,ie,ce){this._changeDetectorRef=W,this._elementRef=ie,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new m.B7,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===ce}show(W){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},W)}hide(W){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},W)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:W}){(!W||!this._triggerElement.contains(W))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const W=this._elementRef.nativeElement.getBoundingClientRect();return W.height>24&&W.width>=200}_handleAnimationEnd({animationName:W}){(W===this._showAnimation||W===this._hideAnimation)&&this._finalizeAnimation(W===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(W){W?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(W){const ie=this._tooltip.nativeElement,ce=this._showAnimation,oe=this._hideAnimation;if(ie.classList.remove(W?oe:ce),ie.classList.add(W?ce:oe),this._isVisible!==W&&(this._isVisible=W,this._changeDetectorRef.markForCheck()),W&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const me=getComputedStyle(ie);("0s"===me.getPropertyValue("animation-duration")||"none"===me.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}W&&this._onShow(),this._animationsDisabled&&(ie.classList.add("_mat-animation-noopable"),this._finalizeAnimation(W))}static#e=this.\u0275fac=function(ie){return new(ie||k)(h.rXU(h.gRc),h.rXU(h.aKT),h.rXU(h.bc$,8))};static#t=this.\u0275cmp=h.VBU({type:k,selectors:[["mat-tooltip-component"]],viewQuery:function(ie,ce){if(1&ie&&h.GBs(S,7),2&ie){let oe;h.mGM(oe=h.lsd())&&(ce._tooltip=oe.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(ie,ce){1&ie&&h.bIt("mouseleave",function(me){return ce._handleMouseLeave(me)}),2&ie&&h.xc7("zoom",ce.isVisible()?1:null)},standalone:!0,features:[h.aNF],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(ie,ce){if(1&ie){const oe=h.RV6();h.j41(0,"div",1,0),h.bIt("animationend",function(he){return h.eBV(oe),h.Njj(ce._handleAnimationEnd(he))}),h.j41(2,"div",2),h.EFF(3),h.k0s()()}2&ie&&(h.AVh("mdc-tooltip--multiline",ce._isMultiline),h.Y8G("ngClass",ce.tooltipClass),h.R7$(3),h.JRh(ce.message))},dependencies:[g.YU],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color);color:var(--mdc-plain-tooltip-supporting-text-color);border-radius:var(--mdc-plain-tooltip-container-shape);font-family:var(--mdc-plain-tooltip-supporting-text-font);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return k})(),K=(()=>{class k{static#e=this.\u0275fac=function(ie){return new(ie||k)};static#t=this.\u0275mod=h.$C({type:k});static#n=this.\u0275inj=h.G2t({providers:[I],imports:[f.Pd,g.MD,d.z_,O.yE,O.yE,y.Gj]})}return k})()},345:(gt,re,o)=>{"use strict";o.d(re,{B7:()=>B,Bb:()=>Qe,hE:()=>xt,sG:()=>ge,up:()=>ft});var e=o(177),n=o(3953);class l extends e.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class h extends l{static makeCurrent(){(0,e.ZD)(new h)}onAndCancel(Fe,ae,ve){return Fe.addEventListener(ae,ve),()=>{Fe.removeEventListener(ae,ve)}}dispatchEvent(Fe,ae){Fe.dispatchEvent(ae)}remove(Fe){Fe.parentNode&&Fe.parentNode.removeChild(Fe)}createElement(Fe,ae){return(ae=ae||this.getDefaultDocument()).createElement(Fe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Fe){return Fe.nodeType===Node.ELEMENT_NODE}isShadowRoot(Fe){return Fe instanceof DocumentFragment}getGlobalEventTarget(Fe,ae){return"window"===ae?window:"document"===ae?Fe:"body"===ae?Fe.body:null}getBaseHref(Fe){const ae=function p(){return g=g||document.querySelector("base"),g?g.getAttribute("href"):null}();return null==ae?null:function f(be){return new URL(be,document.baseURI).pathname}(ae)}resetBaseElement(){g=null}getUserAgent(){return window.navigator.userAgent}getCookie(Fe){return(0,e._b)(document.cookie,Fe)}}let g=null,d=(()=>{class be{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(ve){return new(ve||be)};static#t=this.\u0275prov=n.jDH({token:be,factory:be.\u0275fac})}return be})();const y=new n.nKC("");let R=(()=>{class be{constructor(ae,ve){this._zone=ve,this._eventNameToPlugin=new Map,ae.forEach(ze=>{ze.manager=this}),this._plugins=ae.slice().reverse()}addEventListener(ae,ve,ze){return this._findPluginFor(ve).addEventListener(ae,ve,ze)}getZone(){return this._zone}_findPluginFor(ae){let ve=this._eventNameToPlugin.get(ae);if(ve)return ve;if(ve=this._plugins.find(vt=>vt.supports(ae)),!ve)throw new n.wOt(5101,!1);return this._eventNameToPlugin.set(ae,ve),ve}static#e=this.\u0275fac=function(ve){return new(ve||be)(n.KVO(y),n.KVO(n.SKi))};static#t=this.\u0275prov=n.jDH({token:be,factory:be.\u0275fac})}return be})();class m{constructor(Fe){this._doc=Fe}}const v="ng-app-id";let O=(()=>{class be{constructor(ae,ve,ze,vt={}){this.doc=ae,this.appId=ve,this.nonce=ze,this.platformId=vt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,e.Vy)(vt),this.resetHostNodes()}addStyles(ae){for(const ve of ae)1===this.changeUsageCount(ve,1)&&this.onStyleAdded(ve)}removeStyles(ae){for(const ve of ae)this.changeUsageCount(ve,-1)<=0&&this.onStyleRemoved(ve)}ngOnDestroy(){const ae=this.styleNodesInDOM;ae&&(ae.forEach(ve=>ve.remove()),ae.clear());for(const ve of this.getAllStyles())this.onStyleRemoved(ve);this.resetHostNodes()}addHost(ae){this.hostNodes.add(ae);for(const ve of this.getAllStyles())this.addStyleToHost(ae,ve)}removeHost(ae){this.hostNodes.delete(ae)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ae){for(const ve of this.hostNodes)this.addStyleToHost(ve,ae)}onStyleRemoved(ae){const ve=this.styleRef;ve.get(ae)?.elements?.forEach(ze=>ze.remove()),ve.delete(ae)}collectServerRenderedStyles(){const ae=this.doc.head?.querySelectorAll(`style[${v}="${this.appId}"]`);if(ae?.length){const ve=new Map;return ae.forEach(ze=>{null!=ze.textContent&&ve.set(ze.textContent,ze)}),ve}return null}changeUsageCount(ae,ve){const ze=this.styleRef;if(ze.has(ae)){const vt=ze.get(ae);return vt.usage+=ve,vt.usage}return ze.set(ae,{usage:ve,elements:[]}),ve}getStyleElement(ae,ve){const ze=this.styleNodesInDOM,vt=ze?.get(ve);if(vt?.parentNode===ae)return ze.delete(ve),vt.removeAttribute(v),vt;{const Ue=this.doc.createElement("style");return this.nonce&&Ue.setAttribute("nonce",this.nonce),Ue.textContent=ve,this.platformIsServer&&Ue.setAttribute(v,this.appId),ae.appendChild(Ue),Ue}}addStyleToHost(ae,ve){const ze=this.getStyleElement(ae,ve),vt=this.styleRef,Ue=vt.get(ve)?.elements;Ue?Ue.push(ze):vt.set(ve,{elements:[ze],usage:1})}resetHostNodes(){const ae=this.hostNodes;ae.clear(),ae.add(this.doc.head)}static#e=this.\u0275fac=function(ve){return new(ve||be)(n.KVO(e.qQ),n.KVO(n.sZ2),n.KVO(n.BIS,8),n.KVO(n.Agw))};static#t=this.\u0275prov=n.jDH({token:be,factory:be.\u0275fac})}return be})();const S={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},P=/%COMP%/g,M="%COMP%",w=`_nghost-${M}`,x=`_ngcontent-${M}`,_=new n.nKC("",{providedIn:"root",factory:()=>!0});function A(be,Fe){return Fe.map(ae=>ae.replace(P,be))}let B=(()=>{class be{constructor(ae,ve,ze,vt,Ue,Pe,Ke,Ie=null){this.eventManager=ae,this.sharedStylesHost=ve,this.appId=ze,this.removeStylesOnCompDestroy=vt,this.doc=Ue,this.platformId=Pe,this.ngZone=Ke,this.nonce=Ie,this.rendererByCompId=new Map,this.platformIsServer=(0,e.Vy)(Pe),this.defaultRenderer=new F(ae,Ue,Ke,this.platformIsServer)}createRenderer(ae,ve){if(!ae||!ve)return this.defaultRenderer;this.platformIsServer&&ve.encapsulation===n.gXe.ShadowDom&&(ve={...ve,encapsulation:n.gXe.Emulated});const ze=this.getOrCreateRenderer(ae,ve);return ze instanceof ne?ze.applyToHost(ae):ze instanceof te&&ze.applyStyles(),ze}getOrCreateRenderer(ae,ve){const ze=this.rendererByCompId;let vt=ze.get(ve.id);if(!vt){const Ue=this.doc,Pe=this.ngZone,Ke=this.eventManager,Ie=this.sharedStylesHost,Ze=this.removeStylesOnCompDestroy,nt=this.platformIsServer;switch(ve.encapsulation){case n.gXe.Emulated:vt=new ne(Ke,Ie,ve,this.appId,Ze,Ue,Pe,nt);break;case n.gXe.ShadowDom:return new J(Ke,Ie,ae,ve,Ue,Pe,this.nonce,nt);default:vt=new te(Ke,Ie,ve,Ze,Ue,Pe,nt)}ze.set(ve.id,vt)}return vt}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(ve){return new(ve||be)(n.KVO(R),n.KVO(O),n.KVO(n.sZ2),n.KVO(_),n.KVO(e.qQ),n.KVO(n.Agw),n.KVO(n.SKi),n.KVO(n.BIS))};static#t=this.\u0275prov=n.jDH({token:be,factory:be.\u0275fac})}return be})();class F{constructor(Fe,ae,ve,ze){this.eventManager=Fe,this.doc=ae,this.ngZone=ve,this.platformIsServer=ze,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Fe,ae){return ae?this.doc.createElementNS(S[ae]||ae,Fe):this.doc.createElement(Fe)}createComment(Fe){return this.doc.createComment(Fe)}createText(Fe){return this.doc.createTextNode(Fe)}appendChild(Fe,ae){(G(Fe)?Fe.content:Fe).appendChild(ae)}insertBefore(Fe,ae,ve){Fe&&(G(Fe)?Fe.content:Fe).insertBefore(ae,ve)}removeChild(Fe,ae){Fe&&Fe.removeChild(ae)}selectRootElement(Fe,ae){let ve="string"==typeof Fe?this.doc.querySelector(Fe):Fe;if(!ve)throw new n.wOt(-5104,!1);return ae||(ve.textContent=""),ve}parentNode(Fe){return Fe.parentNode}nextSibling(Fe){return Fe.nextSibling}setAttribute(Fe,ae,ve,ze){if(ze){ae=ze+":"+ae;const vt=S[ze];vt?Fe.setAttributeNS(vt,ae,ve):Fe.setAttribute(ae,ve)}else Fe.setAttribute(ae,ve)}removeAttribute(Fe,ae,ve){if(ve){const ze=S[ve];ze?Fe.removeAttributeNS(ze,ae):Fe.removeAttribute(`${ve}:${ae}`)}else Fe.removeAttribute(ae)}addClass(Fe,ae){Fe.classList.add(ae)}removeClass(Fe,ae){Fe.classList.remove(ae)}setStyle(Fe,ae,ve,ze){ze&(n.czy.DashCase|n.czy.Important)?Fe.style.setProperty(ae,ve,ze&n.czy.Important?"important":""):Fe.style[ae]=ve}removeStyle(Fe,ae,ve){ve&n.czy.DashCase?Fe.style.removeProperty(ae):Fe.style[ae]=""}setProperty(Fe,ae,ve){null!=Fe&&(Fe[ae]=ve)}setValue(Fe,ae){Fe.nodeValue=ae}listen(Fe,ae,ve){if("string"==typeof Fe&&!(Fe=(0,e.QT)().getGlobalEventTarget(this.doc,Fe)))throw new Error(`Unsupported event target ${Fe} for event ${ae}`);return this.eventManager.addEventListener(Fe,ae,this.decoratePreventDefault(ve))}decoratePreventDefault(Fe){return ae=>{if("__ngUnwrap__"===ae)return Fe;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Fe(ae)):Fe(ae))&&ae.preventDefault()}}}function G(be){return"TEMPLATE"===be.tagName&&void 0!==be.content}class J extends F{constructor(Fe,ae,ve,ze,vt,Ue,Pe,Ke){super(Fe,vt,Ue,Ke),this.sharedStylesHost=ae,this.hostEl=ve,this.shadowRoot=ve.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ie=A(ze.id,ze.styles);for(const Ze of Ie){const nt=document.createElement("style");Pe&&nt.setAttribute("nonce",Pe),nt.textContent=Ze,this.shadowRoot.appendChild(nt)}}nodeOrShadowRoot(Fe){return Fe===this.hostEl?this.shadowRoot:Fe}appendChild(Fe,ae){return super.appendChild(this.nodeOrShadowRoot(Fe),ae)}insertBefore(Fe,ae,ve){return super.insertBefore(this.nodeOrShadowRoot(Fe),ae,ve)}removeChild(Fe,ae){return super.removeChild(this.nodeOrShadowRoot(Fe),ae)}parentNode(Fe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Fe)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class te extends F{constructor(Fe,ae,ve,ze,vt,Ue,Pe,Ke){super(Fe,vt,Ue,Pe),this.sharedStylesHost=ae,this.removeStylesOnCompDestroy=ze,this.styles=Ke?A(Ke,ve.styles):ve.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ne extends te{constructor(Fe,ae,ve,ze,vt,Ue,Pe,Ke){const Ie=ze+"-"+ve.id;super(Fe,ae,ve,vt,Ue,Pe,Ke,Ie),this.contentAttr=function C(be){return x.replace(P,be)}(Ie),this.hostAttr=function D(be){return w.replace(P,be)}(Ie)}applyToHost(Fe){this.applyStyles(),this.setAttribute(Fe,this.hostAttr,"")}createElement(Fe,ae){const ve=super.createElement(Fe,ae);return super.setAttribute(ve,this.contentAttr,""),ve}}let K=(()=>{class be extends m{constructor(ae){super(ae)}supports(ae){return!0}addEventListener(ae,ve,ze){return ae.addEventListener(ve,ze,!1),()=>this.removeEventListener(ae,ve,ze)}removeEventListener(ae,ve,ze){return ae.removeEventListener(ve,ze)}static#e=this.\u0275fac=function(ve){return new(ve||be)(n.KVO(e.qQ))};static#t=this.\u0275prov=n.jDH({token:be,factory:be.\u0275fac})}return be})(),k=(()=>{class be extends m{constructor(ae){super(ae),this.delegate=(0,n.WQX)(n.zAP,{optional:!0})}supports(ae){return!!this.delegate&&this.delegate.supports(ae)}addEventListener(ae,ve,ze){return this.delegate.addEventListener(ae,ve,ze)}removeEventListener(ae,ve,ze){return this.delegate.removeEventListener(ae,ve,ze)}static#e=this.\u0275fac=function(ve){return new(ve||be)(n.KVO(e.qQ))};static#t=this.\u0275prov=n.jDH({token:be,factory:be.\u0275fac})}return be})();const j=["alt","control","meta","shift"],W={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ie={alt:be=>be.altKey,control:be=>be.ctrlKey,meta:be=>be.metaKey,shift:be=>be.shiftKey};let ce=(()=>{class be extends m{constructor(ae){super(ae)}supports(ae){return null!=be.parseEventName(ae)}addEventListener(ae,ve,ze){const vt=be.parseEventName(ve),Ue=be.eventCallback(vt.fullKey,ze,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,e.QT)().onAndCancel(ae,vt.domEventName,Ue))}static parseEventName(ae){const ve=ae.toLowerCase().split("."),ze=ve.shift();if(0===ve.length||"keydown"!==ze&&"keyup"!==ze)return null;const vt=be._normalizeKey(ve.pop());let Ue="",Pe=ve.indexOf("code");if(Pe>-1&&(ve.splice(Pe,1),Ue="code."),j.forEach(Ie=>{const Ze=ve.indexOf(Ie);Ze>-1&&(ve.splice(Ze,1),Ue+=Ie+".")}),Ue+=vt,0!=ve.length||0===vt.length)return null;const Ke={};return Ke.domEventName=ze,Ke.fullKey=Ue,Ke}static matchEventFullKeyCode(ae,ve){let ze=W[ae.key]||ae.key,vt="";return ve.indexOf("code.")>-1&&(ze=ae.code,vt="code."),!(null==ze||!ze)&&(ze=ze.toLowerCase()," "===ze?ze="space":"."===ze&&(ze="dot"),j.forEach(Ue=>{Ue!==ze&&(0,ie[Ue])(ae)&&(vt+=Ue+".")}),vt+=ze,vt===ve)}static eventCallback(ae,ve,ze){return vt=>{be.matchEventFullKeyCode(vt,ae)&&ze.runGuarded(()=>ve(vt))}}static _normalizeKey(ae){return"esc"===ae?"escape":ae}static#e=this.\u0275fac=function(ve){return new(ve||be)(n.KVO(e.qQ))};static#t=this.\u0275prov=n.jDH({token:be,factory:be.\u0275fac})}return be})();const ge=(0,n.oH4)(n.fpN,"browser",[{provide:n.Agw,useValue:e.AJ},{provide:n.PLl,useValue:function we(){h.makeCurrent()},multi:!0},{provide:e.qQ,useFactory:function Xe(){return(0,n.TL$)(document),document},deps:[]}]),pe=new n.nKC(""),Ee=[{provide:n.e01,useClass:class b{addToWindow(Fe){n.JZv.getAngularTestability=(ve,ze=!0)=>{const vt=Fe.findTestabilityInTree(ve,ze);if(null==vt)throw new n.wOt(5103,!1);return vt},n.JZv.getAllAngularTestabilities=()=>Fe.getAllTestabilities(),n.JZv.getAllAngularRootElements=()=>Fe.getAllRootElements(),n.JZv.frameworkStabilizers||(n.JZv.frameworkStabilizers=[]),n.JZv.frameworkStabilizers.push(ve=>{const ze=n.JZv.getAllAngularTestabilities();let vt=ze.length;const Ue=function(){vt--,0==vt&&ve()};ze.forEach(Pe=>{Pe.whenStable(Ue)})})}findTestabilityInTree(Fe,ae,ve){return null==ae?null:Fe.getTestability(ae)??(ve?(0,e.QT)().isShadowRoot(ae)?this.findTestabilityInTree(Fe,ae.host,!0):this.findTestabilityInTree(Fe,ae.parentElement,!0):null)}},deps:[]},{provide:n.WHO,useClass:n.NYb,deps:[n.SKi,n.giA,n.e01]},{provide:n.NYb,useClass:n.NYb,deps:[n.SKi,n.giA,n.e01]}],Ge=[{provide:n.H8p,useValue:"root"},{provide:n.zcH,useFactory:function We(){return new n.zcH},deps:[]},{provide:y,useClass:K,multi:!0,deps:[e.qQ,n.SKi,n.Agw]},{provide:y,useClass:ce,multi:!0,deps:[e.qQ]},{provide:y,useClass:k,multi:!0},B,O,R,{provide:n._9s,useExisting:B},{provide:e.N0,useClass:d,deps:[]},[]];let Qe=(()=>{class be{constructor(ae){}static withServerTransition(ae){return{ngModule:be,providers:[{provide:n.sZ2,useValue:ae.appId}]}}static#e=this.\u0275fac=function(ve){return new(ve||be)(n.KVO(pe,12))};static#t=this.\u0275mod=n.$C({type:be});static#n=this.\u0275inj=n.G2t({providers:[...Ge,...Ee],imports:[e.MD,n.Hbi]})}return be})(),xt=(()=>{class be{constructor(ae){this._doc=ae}getTitle(){return this._doc.title}setTitle(ae){this._doc.title=ae||""}static#e=this.\u0275fac=function(ve){return new(ve||be)(n.KVO(e.qQ))};static#t=this.\u0275prov=n.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})(),ft=(()=>{class be{static#e=this.\u0275fac=function(ve){return new(ve||be)};static#t=this.\u0275prov=n.jDH({token:be,factory:function(ve){let ze=null;return ze=ve?new(ve||be):n.KVO(lt),ze},providedIn:"root"})}return be})(),lt=(()=>{class be extends ft{constructor(ae){super(),this._doc=ae}sanitize(ae,ve){if(null==ve)return null;switch(ae){case n.WPN.NONE:return ve;case n.WPN.HTML:return(0,n.ZF7)(ve,"HTML")?(0,n.rcV)(ve):(0,n.h9k)(this._doc,String(ve)).toString();case n.WPN.STYLE:return(0,n.ZF7)(ve,"Style")?(0,n.rcV)(ve):ve;case n.WPN.SCRIPT:if((0,n.ZF7)(ve,"Script"))return(0,n.rcV)(ve);throw new n.wOt(5200,!1);case n.WPN.URL:return(0,n.ZF7)(ve,"URL")?(0,n.rcV)(ve):(0,n.$MX)(String(ve));case n.WPN.RESOURCE_URL:if((0,n.ZF7)(ve,"ResourceURL"))return(0,n.rcV)(ve);throw new n.wOt(5201,!1);default:throw new n.wOt(5202,!1)}}bypassSecurityTrustHtml(ae){return(0,n.Kcf)(ae)}bypassSecurityTrustStyle(ae){return(0,n.cWb)(ae)}bypassSecurityTrustScript(ae){return(0,n.UyX)(ae)}bypassSecurityTrustUrl(ae){return(0,n.osQ)(ae)}bypassSecurityTrustResourceUrl(ae){return(0,n.e5t)(ae)}static#e=this.\u0275fac=function(ve){return new(ve||be)(n.KVO(e.qQ))};static#t=this.\u0275prov=n.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})()},2091:(gt,re,o)=>{"use strict";o.d(re,{nX:()=>Vs,j5:()=>vi,wF:()=>Qt,L6:()=>Bi,Z:()=>_t,gx:()=>Pi,Ix:()=>Ho,Wk:()=>Wl,wQ:()=>cl,iI:()=>er,n3:()=>us});var e=o(3953),n=o(8982),l=o(4787),h=o(4421),g=o(9928),p=o(9714),f=o(9994),b=o(1639),d=o(9418),y=o(8167),R=o(4526),m=o(1235),v=o(4725),O=o(5286),S=o(4337),P=o(177),M=o(5006),w=o(9090),x=o(9493),I=o(3176),_=o(8728),C=o(8456),D=o(4046),A=o(3574),B=o(8841),F=o(3921),$=o(762);class G{constructor(Ce,de,Se=!1){this.accumulator=Ce,this.seed=de,this.hasSeed=Se}call(Ce,de){return de.subscribe(new J(Ce,this.accumulator,this.seed,this.hasSeed))}}class J extends $.v{constructor(Ce,de,Se,et){super(Ce),this.accumulator=de,this._seed=Se,this.hasSeed=et,this.index=0}get seed(){return this._seed}set seed(Ce){this.hasSeed=!0,this._seed=Ce}_next(Ce){if(this.hasSeed)return this._tryNext(Ce);this.seed=Ce,this.destination.next(Ce)}_tryNext(Ce){const de=this.index++;let Se;try{Se=this.accumulator(this.seed,Ce,de)}catch(et){this.destination.error(et)}this.seed=Se,this.destination.next(Se)}}var te=o(7849),ne=o(434);function K(le){return function(de){return 0===le?(0,m.I)():de.lift(new k(le))}}class k{constructor(Ce){if(this.total=Ce,this.total<0)throw new ne.k}call(Ce,de){return de.subscribe(new j(Ce,this.total))}}class j extends $.v{constructor(Ce,de){super(Ce),this.total=de,this.ring=new Array,this.count=0}_next(Ce){const de=this.ring,Se=this.total,et=this.count++;de.length<Se?de.push(Ce):de[et%Se]=Ce}_complete(){const Ce=this.destination;let de=this.count;if(de>0){const Se=this.count>=this.total?this.total:this.count,et=this.ring;for(let mt=0;mt<Se;mt++){const Ut=de++%Se;Ce.next(et[Ut])}}Ce.complete()}}var W=o(3314),ie=o(5241);class me{constructor(Ce){this.value=Ce}call(Ce,de){return de.subscribe(new he(Ce,this.value))}}class he extends $.v{constructor(Ce,de){super(Ce),this.value=de}_next(Ce){this.destination.next(this.value)}}var Oe=o(7312),we=o(3110),We=o(7605),Xe=o(6201),Me=o(345);const ge="primary",pe=Symbol("RouteTitle");class Ee{constructor(Ce){this.params=Ce||{}}has(Ce){return Object.prototype.hasOwnProperty.call(this.params,Ce)}get(Ce){if(this.has(Ce)){const de=this.params[Ce];return Array.isArray(de)?de[0]:de}return null}getAll(Ce){if(this.has(Ce)){const de=this.params[Ce];return Array.isArray(de)?de:[de]}return[]}get keys(){return Object.keys(this.params)}}function Ge(le){return new Ee(le)}function Qe(le,Ce,de){const Se=de.path.split("/");if(Se.length>le.length||"full"===de.pathMatch&&(Ce.hasChildren()||Se.length<le.length))return null;const et={};for(let mt=0;mt<Se.length;mt++){const Ut=Se[mt],fn=le[mt];if(":"===Ut[0])et[Ut.substring(1)]=fn;else if(Ut!==fn.path)return null}return{consumed:le.slice(0,Se.length),posParams:et}}function tt(le,Ce){const de=le?xt(le):void 0,Se=Ce?xt(Ce):void 0;if(!de||!Se||de.length!=Se.length)return!1;let et;for(let mt=0;mt<de.length;mt++)if(et=de[mt],!Pt(le[et],Ce[et]))return!1;return!0}function xt(le){return[...Object.keys(le),...Object.getOwnPropertySymbols(le)]}function Pt(le,Ce){if(Array.isArray(le)&&Array.isArray(Ce)){if(le.length!==Ce.length)return!1;const de=[...le].sort(),Se=[...Ce].sort();return de.every((et,mt)=>Se[mt]===et)}return le===Ce}function yt(le){return le.length>0?le[le.length-1]:null}function Le(le){return(0,n.A)(le)?le:(0,e.jNT)(le)?(0,l.H)(Promise.resolve(le)):(0,h.of)(le)}const De={exact:function Te(le,Ce,de){if(!Ft(le.segments,Ce.segments)||!hn(le.segments,Ce.segments,de)||le.numberOfChildren!==Ce.numberOfChildren)return!1;for(const Se in Ce.children)if(!le.children[Se]||!Te(le.children[Se],Ce.children[Se],de))return!1;return!0},subset:Nt},V={exact:function Q(le,Ce){return tt(le,Ce)},subset:function Je(le,Ce){return Object.keys(Ce).length<=Object.keys(le).length&&Object.keys(Ce).every(de=>Pt(le[de],Ce[de]))},ignored:()=>!0};function ue(le,Ce,de){return De[de.paths](le.root,Ce.root,de.matrixParams)&&V[de.queryParams](le.queryParams,Ce.queryParams)&&!("exact"===de.fragment&&le.fragment!==Ce.fragment)}function Nt(le,Ce,de){return qt(le,Ce,Ce.segments,de)}function qt(le,Ce,de,Se){if(le.segments.length>de.length){const et=le.segments.slice(0,de.length);return!(!Ft(et,de)||Ce.hasChildren()||!hn(et,de,Se))}if(le.segments.length===de.length){if(!Ft(le.segments,de)||!hn(le.segments,de,Se))return!1;for(const et in Ce.children)if(!le.children[et]||!Nt(le.children[et],Ce.children[et],Se))return!1;return!0}{const et=de.slice(0,le.segments.length),mt=de.slice(le.segments.length);return!!(Ft(le.segments,et)&&hn(le.segments,et,Se)&&le.children[ge])&&qt(le.children[ge],Ce,mt,Se)}}function hn(le,Ce,de){return Ce.every((Se,et)=>V[de](le[et].parameters,Se.parameters))}class wt{constructor(Ce=new Zt([],{}),de={},Se=null){this.root=Ce,this.queryParams=de,this.fragment=Se}get queryParamMap(){return this._queryParamMap??=Ge(this.queryParams),this._queryParamMap}toString(){return on.serialize(this)}}class Zt{constructor(Ce,de){this.segments=Ce,this.children=de,this.parent=null,Object.values(de).forEach(Se=>Se.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _n(this)}}class ft{constructor(Ce,de){this.path=Ce,this.parameters=de}get parameterMap(){return this._parameterMap??=Ge(this.parameters),this._parameterMap}toString(){return ze(this)}}function Ft(le,Ce){return le.length===Ce.length&&le.every((de,Se)=>de.path===Ce[Se].path)}let Wt=(()=>{class le{static#e=this.\u0275fac=function(Se){return new(Se||le)};static#t=this.\u0275prov=e.jDH({token:le,factory:()=>new en,providedIn:"root"})}return le})();class en{parse(Ce){const de=new nn(Ce);return new wt(de.parseRootSegment(),de.parseQueryParams(),de.parseFragment())}serialize(Ce){const de=`/${Sn(Ce.root,!0)}`,Se=function Ue(le){const Ce=Object.entries(le).map(([de,Se])=>Array.isArray(Se)?Se.map(et=>`${ut(de)}=${ut(et)}`).join("&"):`${ut(de)}=${ut(Se)}`).filter(de=>de);return Ce.length?`?${Ce.join("&")}`:""}(Ce.queryParams);return`${de}${Se}${"string"==typeof Ce.fragment?`#${function be(le){return encodeURI(le)}(Ce.fragment)}`:""}`}}const on=new en;function _n(le){return le.segments.map(Ce=>ze(Ce)).join("/")}function Sn(le,Ce){if(!le.hasChildren())return _n(le);if(Ce){const de=le.children[ge]?Sn(le.children[ge],!1):"",Se=[];return Object.entries(le.children).forEach(([et,mt])=>{et!==ge&&Se.push(`${et}:${Sn(mt,!1)}`)}),Se.length>0?`${de}(${Se.join("//")})`:de}{const de=function Ct(le,Ce){let de=[];return Object.entries(le.children).forEach(([Se,et])=>{Se===ge&&(de=de.concat(Ce(et,Se)))}),Object.entries(le.children).forEach(([Se,et])=>{Se!==ge&&(de=de.concat(Ce(et,Se)))}),de}(le,(Se,et)=>et===ge?[Sn(le.children[ge],!1)]:[`${et}:${Sn(Se,!1)}`]);return 1===Object.keys(le.children).length&&null!=le.children[ge]?`${_n(le)}/${de[0]}`:`${_n(le)}/(${de.join("//")})`}}function Zn(le){return encodeURIComponent(le).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ut(le){return Zn(le).replace(/%3B/gi,";")}function Fe(le){return Zn(le).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ae(le){return decodeURIComponent(le)}function ve(le){return ae(le.replace(/\+/g,"%20"))}function ze(le){return`${Fe(le.path)}${function vt(le){return Object.entries(le).map(([Ce,de])=>`;${Fe(Ce)}=${Fe(de)}`).join("")}(le.parameters)}`}const Pe=/^[^\/()?;#]+/;function Ke(le){const Ce=le.match(Pe);return Ce?Ce[0]:""}const Ie=/^[^\/()?;=#]+/,nt=/^[^=?&#]+/,jt=/^[^&#]+/;class nn{constructor(Ce){this.url=Ce,this.remaining=Ce}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Zt([],{}):new Zt([],this.parseChildren())}parseQueryParams(){const Ce={};if(this.consumeOptional("?"))do{this.parseQueryParam(Ce)}while(this.consumeOptional("&"));return Ce}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const Ce=[];for(this.peekStartsWith("(")||Ce.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),Ce.push(this.parseSegment());let de={};this.peekStartsWith("/(")&&(this.capture("/"),de=this.parseParens(!0));let Se={};return this.peekStartsWith("(")&&(Se=this.parseParens(!1)),(Ce.length>0||Object.keys(de).length>0)&&(Se[ge]=new Zt(Ce,de)),Se}parseSegment(){const Ce=Ke(this.remaining);if(""===Ce&&this.peekStartsWith(";"))throw new e.wOt(4009,!1);return this.capture(Ce),new ft(ae(Ce),this.parseMatrixParams())}parseMatrixParams(){const Ce={};for(;this.consumeOptional(";");)this.parseParam(Ce);return Ce}parseParam(Ce){const de=function Ze(le){const Ce=le.match(Ie);return Ce?Ce[0]:""}(this.remaining);if(!de)return;this.capture(de);let Se="";if(this.consumeOptional("=")){const et=Ke(this.remaining);et&&(Se=et,this.capture(Se))}Ce[ae(de)]=ae(Se)}parseQueryParam(Ce){const de=function Lt(le){const Ce=le.match(nt);return Ce?Ce[0]:""}(this.remaining);if(!de)return;this.capture(de);let Se="";if(this.consumeOptional("=")){const Ut=function Dt(le){const Ce=le.match(jt);return Ce?Ce[0]:""}(this.remaining);Ut&&(Se=Ut,this.capture(Se))}const et=ve(de),mt=ve(Se);if(Ce.hasOwnProperty(et)){let Ut=Ce[et];Array.isArray(Ut)||(Ut=[Ut],Ce[et]=Ut),Ut.push(mt)}else Ce[et]=mt}parseParens(Ce){const de={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Se=Ke(this.remaining),et=this.remaining[Se.length];if("/"!==et&&")"!==et&&";"!==et)throw new e.wOt(4010,!1);let mt;Se.indexOf(":")>-1?(mt=Se.slice(0,Se.indexOf(":")),this.capture(mt),this.capture(":")):Ce&&(mt=ge);const Ut=this.parseChildren();de[mt]=1===Object.keys(Ut).length?Ut[ge]:new Zt([],Ut),this.consumeOptional("//")}return de}peekStartsWith(Ce){return this.remaining.startsWith(Ce)}consumeOptional(Ce){return!!this.peekStartsWith(Ce)&&(this.remaining=this.remaining.substring(Ce.length),!0)}capture(Ce){if(!this.consumeOptional(Ce))throw new e.wOt(4011,!1)}}function Tt(le){return le.segments.length>0?new Zt([],{[ge]:le}):le}function It(le){const Ce={};for(const[Se,et]of Object.entries(le.children)){const mt=It(et);if(Se===ge&&0===mt.segments.length&&mt.hasChildren())for(const[Ut,fn]of Object.entries(mt.children))Ce[Ut]=fn;else(mt.segments.length>0||mt.hasChildren())&&(Ce[Se]=mt)}return function Gt(le){if(1===le.numberOfChildren&&le.children[ge]){const Ce=le.children[ge];return new Zt(le.segments.concat(Ce.segments),Ce.children)}return le}(new Zt(le.segments,Ce))}function At(le){return le instanceof wt}function vn(le){let Ce;const et=Tt(function de(mt){const Ut={};for(const rn of mt.children){const pn=de(rn);Ut[rn.outlet]=pn}const fn=new Zt(mt.url,Ut);return mt===le&&(Ce=fn),fn}(le.root));return Ce??et}function wn(le,Ce,de,Se){let et=le;for(;et.parent;)et=et.parent;if(0===Ce.length)return bn(et,et,et,de,Se);const mt=function kn(le){if("string"==typeof le[0]&&1===le.length&&"/"===le[0])return new Cn(!0,0,le);let Ce=0,de=!1;const Se=le.reduce((et,mt,Ut)=>{if("object"==typeof mt&&null!=mt){if(mt.outlets){const fn={};return Object.entries(mt.outlets).forEach(([rn,pn])=>{fn[rn]="string"==typeof pn?pn.split("/"):pn}),[...et,{outlets:fn}]}if(mt.segmentPath)return[...et,mt.segmentPath]}return"string"!=typeof mt?[...et,mt]:0===Ut?(mt.split("/").forEach((fn,rn)=>{0==rn&&"."===fn||(0==rn&&""===fn?de=!0:".."===fn?Ce++:""!=fn&&et.push(fn))}),et):[...et,mt]},[]);return new Cn(de,Ce,Se)}(Ce);if(mt.toRoot())return bn(et,et,new Zt([],{}),de,Se);const Ut=function to(le,Ce,de){if(le.isAbsolute)return new Xn(Ce,!0,0);if(!de)return new Xn(Ce,!1,NaN);if(null===de.parent)return new Xn(de,!0,0);const Se=ti(le.commands[0])?0:1;return function Si(le,Ce,de){let Se=le,et=Ce,mt=de;for(;mt>et;){if(mt-=et,Se=Se.parent,!Se)throw new e.wOt(4005,!1);et=Se.segments.length}return new Xn(Se,!1,et-mt)}(de,de.segments.length-1+Se,le.numberOfDoubleDots)}(mt,et,le),fn=Ut.processChildren?ci(Ut.segmentGroup,Ut.index,mt.commands):ni(Ut.segmentGroup,Ut.index,mt.commands);return bn(et,Ut.segmentGroup,fn,de,Se)}function ti(le){return"object"==typeof le&&null!=le&&!le.outlets&&!le.segmentPath}function Qn(le){return"object"==typeof le&&null!=le&&le.outlets}function bn(le,Ce,de,Se,et){let Ut,mt={};Se&&Object.entries(Se).forEach(([rn,pn])=>{mt[rn]=Array.isArray(pn)?pn.map(qn=>`${qn}`):`${pn}`}),Ut=le===Ce?de:Jn(le,Ce,de);const fn=Tt(It(Ut));return new wt(fn,mt,et)}function Jn(le,Ce,de){const Se={};return Object.entries(le.children).forEach(([et,mt])=>{Se[et]=mt===Ce?de:Jn(mt,Ce,de)}),new Zt(le.segments,Se)}class Cn{constructor(Ce,de,Se){if(this.isAbsolute=Ce,this.numberOfDoubleDots=de,this.commands=Se,Ce&&Se.length>0&&ti(Se[0]))throw new e.wOt(4003,!1);const et=Se.find(Qn);if(et&&et!==yt(Se))throw new e.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Xn{constructor(Ce,de,Se){this.segmentGroup=Ce,this.processChildren=de,this.index=Se}}function ni(le,Ce,de){if(le??=new Zt([],{}),0===le.segments.length&&le.hasChildren())return ci(le,Ce,de);const Se=function ht(le,Ce,de){let Se=0,et=Ce;const mt={match:!1,pathIndex:0,commandIndex:0};for(;et<le.segments.length;){if(Se>=de.length)return mt;const Ut=le.segments[et],fn=de[Se];if(Qn(fn))break;const rn=`${fn}`,pn=Se<de.length-1?de[Se+1]:null;if(et>0&&void 0===rn)break;if(rn&&pn&&"object"==typeof pn&&void 0===pn.outlets){if(!Mt(rn,pn,Ut))return mt;Se+=2}else{if(!Mt(rn,{},Ut))return mt;Se++}et++}return{match:!0,pathIndex:et,commandIndex:Se}}(le,Ce,de),et=de.slice(Se.commandIndex);if(Se.match&&Se.pathIndex<le.segments.length){const mt=new Zt(le.segments.slice(0,Se.pathIndex),{});return mt.children[ge]=new Zt(le.segments.slice(Se.pathIndex),le.children),ci(mt,0,et)}return Se.match&&0===et.length?new Zt(le.segments,{}):Se.match&&!le.hasChildren()?st(le,Ce,de):Se.match?ci(le,0,et):st(le,Ce,de)}function ci(le,Ce,de){if(0===de.length)return new Zt(le.segments,{});{const Se=function Vn(le){return Qn(le[0])?le[0].outlets:{[ge]:le}}(de),et={};if(Object.keys(Se).some(mt=>mt!==ge)&&le.children[ge]&&1===le.numberOfChildren&&0===le.children[ge].segments.length){const mt=ci(le.children[ge],Ce,de);return new Zt(le.segments,mt.children)}return Object.entries(Se).forEach(([mt,Ut])=>{"string"==typeof Ut&&(Ut=[Ut]),null!==Ut&&(et[mt]=ni(le.children[mt],Ce,Ut))}),Object.entries(le.children).forEach(([mt,Ut])=>{void 0===Se[mt]&&(et[mt]=Ut)}),new Zt(le.segments,et)}}function st(le,Ce,de){const Se=le.segments.slice(0,Ce);let et=0;for(;et<de.length;){const mt=de[et];if(Qn(mt)){const rn=kt(mt.outlets);return new Zt(Se,rn)}if(0===et&&ti(de[0])){Se.push(new ft(le.segments[Ce].path,xe(de[0]))),et++;continue}const Ut=Qn(mt)?mt.outlets[ge]:`${mt}`,fn=et<de.length-1?de[et+1]:null;Ut&&fn&&ti(fn)?(Se.push(new ft(Ut,xe(fn))),et+=2):(Se.push(new ft(Ut,{})),et++)}return new Zt(Se,{})}function kt(le){const Ce={};return Object.entries(le).forEach(([de,Se])=>{"string"==typeof Se&&(Se=[Se]),null!==Se&&(Ce[de]=st(new Zt([],{}),0,Se))}),Ce}function xe(le){const Ce={};return Object.entries(le).forEach(([de,Se])=>Ce[de]=`${Se}`),Ce}function Mt(le,Ce,de){return le==de.path&&tt(Ce,de.parameters)}const Z="imperative";var Ae=function(le){return le[le.NavigationStart=0]="NavigationStart",le[le.NavigationEnd=1]="NavigationEnd",le[le.NavigationCancel=2]="NavigationCancel",le[le.NavigationError=3]="NavigationError",le[le.RoutesRecognized=4]="RoutesRecognized",le[le.ResolveStart=5]="ResolveStart",le[le.ResolveEnd=6]="ResolveEnd",le[le.GuardsCheckStart=7]="GuardsCheckStart",le[le.GuardsCheckEnd=8]="GuardsCheckEnd",le[le.RouteConfigLoadStart=9]="RouteConfigLoadStart",le[le.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",le[le.ChildActivationStart=11]="ChildActivationStart",le[le.ChildActivationEnd=12]="ChildActivationEnd",le[le.ActivationStart=13]="ActivationStart",le[le.ActivationEnd=14]="ActivationEnd",le[le.Scroll=15]="Scroll",le[le.NavigationSkipped=16]="NavigationSkipped",le}(Ae||{});class Ve{constructor(Ce,de){this.id=Ce,this.url=de}}class _t extends Ve{constructor(Ce,de,Se="imperative",et=null){super(Ce,de),this.type=Ae.NavigationStart,this.navigationTrigger=Se,this.restoredState=et}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Qt extends Ve{constructor(Ce,de,Se){super(Ce,de),this.urlAfterRedirects=Se,this.type=Ae.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Pn=function(le){return le[le.Redirect=0]="Redirect",le[le.SupersededByNewNavigation=1]="SupersededByNewNavigation",le[le.NoDataFromResolver=2]="NoDataFromResolver",le[le.GuardRejected=3]="GuardRejected",le}(Pn||{}),ui=function(le){return le[le.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",le[le.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",le}(ui||{});class vi extends Ve{constructor(Ce,de,Se,et){super(Ce,de),this.reason=Se,this.code=et,this.type=Ae.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class zi extends Ve{constructor(Ce,de,Se,et){super(Ce,de),this.reason=Se,this.code=et,this.type=Ae.NavigationSkipped}}class Bi extends Ve{constructor(Ce,de,Se,et){super(Ce,de),this.error=Se,this.target=et,this.type=Ae.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xi extends Ve{constructor(Ce,de,Se,et){super(Ce,de),this.urlAfterRedirects=Se,this.state=et,this.type=Ae.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hi extends Ve{constructor(Ce,de,Se,et){super(Ce,de),this.urlAfterRedirects=Se,this.state=et,this.type=Ae.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kn extends Ve{constructor(Ce,de,Se,et,mt){super(Ce,de),this.urlAfterRedirects=Se,this.state=et,this.shouldActivate=mt,this.type=Ae.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zo extends Ve{constructor(Ce,de,Se,et){super(Ce,de),this.urlAfterRedirects=Se,this.state=et,this.type=Ae.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pi extends Ve{constructor(Ce,de,Se,et){super(Ce,de),this.urlAfterRedirects=Se,this.state=et,this.type=Ae.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $o{constructor(Ce){this.route=Ce,this.type=Ae.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class $s{constructor(Ce){this.route=Ce,this.type=Ae.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ko{constructor(Ce){this.snapshot=Ce,this.type=Ae.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sr{constructor(Ce){this.snapshot=Ce,this.type=Ae.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class no{constructor(Ce){this.snapshot=Ce,this.type=Ae.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gr{constructor(Ce){this.snapshot=Ce,this.type=Ae.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ar{constructor(Ce,de,Se){this.routerEvent=Ce,this.position=de,this.anchor=Se,this.type=Ae.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class lr{}class cr{constructor(Ce,de){this.url=Ce,this.navigationBehaviorOptions=de}}function Xo(le){return le.outlet||ge}function Ys(le){if(!le)return null;if(le.routeConfig?._injector)return le.routeConfig._injector;for(let Ce=le.parent;Ce;Ce=Ce.parent){const de=Ce.routeConfig;if(de?._loadedInjector)return de._loadedInjector;if(de?._injector)return de._injector}return null}class Po{get injector(){return Ys(this.route?.snapshot)??this.rootInjector}set injector(Ce){}constructor(Ce){this.rootInjector=Ce,this.outlet=null,this.route=null,this.children=new gs(this.rootInjector),this.attachRef=null}}let gs=(()=>{class le{constructor(de){this.rootInjector=de,this.contexts=new Map}onChildOutletCreated(de,Se){const et=this.getOrCreateContext(de);et.outlet=Se,this.contexts.set(de,et)}onChildOutletDestroyed(de){const Se=this.getContext(de);Se&&(Se.outlet=null,Se.attachRef=null)}onOutletDeactivated(){const de=this.contexts;return this.contexts=new Map,de}onOutletReAttached(de){this.contexts=de}getOrCreateContext(de){let Se=this.getContext(de);return Se||(Se=new Po(this.rootInjector),this.contexts.set(de,Se)),Se}getContext(de){return this.contexts.get(de)||null}static#e=this.\u0275fac=function(Se){return new(Se||le)(e.KVO(e.uvJ))};static#t=this.\u0275prov=e.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();class Us{constructor(Ce){this._root=Ce}get root(){return this._root.value}parent(Ce){const de=this.pathFromRoot(Ce);return de.length>1?de[de.length-2]:null}children(Ce){const de=Rs(Ce,this._root);return de?de.children.map(Se=>Se.value):[]}firstChild(Ce){const de=Rs(Ce,this._root);return de&&de.children.length>0?de.children[0].value:null}siblings(Ce){const de=Ir(Ce,this._root);return de.length<2?[]:de[de.length-2].children.map(et=>et.value).filter(et=>et!==Ce)}pathFromRoot(Ce){return Ir(Ce,this._root).map(de=>de.value)}}function Rs(le,Ce){if(le===Ce.value)return Ce;for(const de of Ce.children){const Se=Rs(le,de);if(Se)return Se}return null}function Ir(le,Ce){if(le===Ce.value)return[Ce];for(const de of Ce.children){const Se=Ir(le,de);if(Se.length)return Se.unshift(Ce),Se}return[]}class as{constructor(Ce,de){this.value=Ce,this.children=de}toString(){return`TreeNode(${this.value})`}}function vs(le){const Ce={};return le&&le.children.forEach(de=>Ce[de.value.outlet]=de),Ce}class ur extends Us{constructor(Ce,de){super(Ce),this.snapshot=de,ds(this,Ce)}toString(){return this.snapshot.toString()}}function Kr(le){const Ce=function sa(le){const mt=new Or([],{},{},"",{},ge,le,null,{});return new hr("",new as(mt,[]))}(le),de=new g.t([new ft("",{})]),Se=new g.t({}),et=new g.t({}),mt=new g.t({}),Ut=new g.t(""),fn=new Vs(de,Se,mt,Ut,et,ge,le,Ce.root);return fn.snapshot=Ce.root,new ur(new as(fn,[]),Ce)}class Vs{constructor(Ce,de,Se,et,mt,Ut,fn,rn){this.urlSubject=Ce,this.paramsSubject=de,this.queryParamsSubject=Se,this.fragmentSubject=et,this.dataSubject=mt,this.outlet=Ut,this.component=fn,this._futureSnapshot=rn,this.title=this.dataSubject?.pipe((0,M.T)(pn=>pn[pe]))??(0,h.of)(void 0),this.url=Ce,this.params=de,this.queryParams=Se,this.fragment=et,this.data=mt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,M.T)(Ce=>Ge(Ce))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,M.T)(Ce=>Ge(Ce))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ra(le,Ce,de="emptyOnly"){let Se;const{routeConfig:et}=le;return Se=null===Ce||"always"!==de&&""!==et?.path&&(Ce.component||Ce.routeConfig?.loadComponent)?{params:{...le.params},data:{...le.data},resolve:{...le.data,...le._resolvedData??{}}}:{params:{...Ce.params,...le.params},data:{...Ce.data,...le.data},resolve:{...le.data,...Ce.data,...et?.data,...le._resolvedData}},et&&zn(et)&&(Se.resolve[pe]=et.title),Se}class Or{get title(){return this.data?.[pe]}constructor(Ce,de,Se,et,mt,Ut,fn,rn,pn){this.url=Ce,this.params=de,this.queryParams=Se,this.fragment=et,this.data=mt,this.outlet=Ut,this.component=fn,this.routeConfig=rn,this._resolve=pn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ge(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ge(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Se=>Se.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class hr extends Us{constructor(Ce,de){super(de),this.url=Ce,ds(this,de)}toString(){return Wr(this._root)}}function ds(le,Ce){Ce.value._routerState=le,Ce.children.forEach(de=>ds(le,de))}function Wr(le){const Ce=le.children.length>0?` { ${le.children.map(Wr).join(", ")} } `:"";return`${le.value}${Ce}`}function xr(le){if(le.snapshot){const Ce=le.snapshot,de=le._futureSnapshot;le.snapshot=de,tt(Ce.queryParams,de.queryParams)||le.queryParamsSubject.next(de.queryParams),Ce.fragment!==de.fragment&&le.fragmentSubject.next(de.fragment),tt(Ce.params,de.params)||le.paramsSubject.next(de.params),function $e(le,Ce){if(le.length!==Ce.length)return!1;for(let de=0;de<le.length;++de)if(!tt(le[de],Ce[de]))return!1;return!0}(Ce.url,de.url)||le.urlSubject.next(de.url),tt(Ce.data,de.data)||le.dataSubject.next(de.data)}else le.snapshot=le._futureSnapshot,le.dataSubject.next(le._futureSnapshot.data)}function zr(le,Ce){const de=tt(le.params,Ce.params)&&function lt(le,Ce){return Ft(le,Ce)&&le.every((de,Se)=>tt(de.parameters,Ce[Se].parameters))}(le.url,Ce.url);return de&&!(!le.parent!=!Ce.parent)&&(!le.parent||zr(le.parent,Ce.parent))}function zn(le){return"string"==typeof le.title||null===le.title}let us=(()=>{class le{constructor(){this.activated=null,this._activatedRoute=null,this.name=ge,this.activateEvents=new e.bkB,this.deactivateEvents=new e.bkB,this.attachEvents=new e.bkB,this.detachEvents=new e.bkB,this.parentContexts=(0,e.WQX)(gs),this.location=(0,e.WQX)(e.c1b),this.changeDetector=(0,e.WQX)(e.gRc),this.inputBinder=(0,e.WQX)(Qs,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(de){if(de.name){const{firstChange:Se,previousValue:et}=de.name;if(Se)return;this.isTrackedInParentContexts(et)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(et)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(de){return this.parentContexts.getContext(de)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const de=this.parentContexts.getContext(this.name);de?.route&&(de.attachRef?this.attach(de.attachRef,de.route):this.activateWith(de.route,de.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new e.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new e.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new e.wOt(4012,!1);this.location.detach();const de=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(de.instance),de}attach(de,Se){this.activated=de,this._activatedRoute=Se,this.location.insert(de.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(de.instance)}deactivate(){if(this.activated){const de=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(de)}}activateWith(de,Se){if(this.isActivated)throw new e.wOt(4013,!1);this._activatedRoute=de;const et=this.location,Ut=de.snapshot.component,fn=this.parentContexts.getOrCreateContext(this.name).children,rn=new Zo(de,fn,et.injector);this.activated=et.createComponent(Ut,{index:et.length,injector:rn,environmentInjector:Se}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(Se){return new(Se||le)};static#t=this.\u0275dir=e.FsC({type:le,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[e.OA$]})}return le})();class Zo{__ngOutletInjector(Ce){return new Zo(this.route,this.childContexts,Ce)}constructor(Ce,de,Se){this.route=Ce,this.childContexts=de,this.parent=Se}get(Ce,de){return Ce===Vs?this.route:Ce===gs?this.childContexts:this.parent.get(Ce,de)}}const Qs=new e.nKC("");let Ra=(()=>{class le{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(de){this.unsubscribeFromRouteData(de),this.subscribeToRouteData(de)}unsubscribeFromRouteData(de){this.outletDataSubscriptions.get(de)?.unsubscribe(),this.outletDataSubscriptions.delete(de)}subscribeToRouteData(de){const{activatedRoute:Se}=de,et=(0,p.zV)([Se.queryParams,Se.params,Se.data]).pipe((0,w.n)(([mt,Ut,fn],rn)=>(fn={...mt,...Ut,...fn},0===rn?(0,h.of)(fn):Promise.resolve(fn)))).subscribe(mt=>{if(!de.isActivated||!de.activatedComponentRef||de.activatedRoute!==Se||null===Se.component)return void this.unsubscribeFromRouteData(de);const Ut=(0,e.HJs)(Se.component);if(Ut)for(const{templateName:fn}of Ut.inputs)de.activatedComponentRef.setInput(fn,mt[fn]);else this.unsubscribeFromRouteData(de)});this.outletDataSubscriptions.set(de,et)}static#e=this.\u0275fac=function(Se){return new(Se||le)};static#t=this.\u0275prov=e.jDH({token:le,factory:le.\u0275fac})}return le})();function qo(le,Ce,de){if(de&&le.shouldReuseRoute(Ce.value,de.value.snapshot)){const Se=de.value;Se._futureSnapshot=Ce.value;const et=function As(le,Ce,de){return Ce.children.map(Se=>{for(const et of de.children)if(le.shouldReuseRoute(Se.value,et.value.snapshot))return qo(le,Se,et);return qo(le,Se)})}(le,Ce,de);return new as(Se,et)}{if(le.shouldAttach(Ce.value)){const mt=le.retrieve(Ce.value);if(null!==mt){const Ut=mt.route;return Ut.value._futureSnapshot=Ce.value,Ut.children=Ce.children.map(fn=>qo(le,fn)),Ut}}const Se=function Gs(le){return new Vs(new g.t(le.url),new g.t(le.params),new g.t(le.queryParams),new g.t(le.fragment),new g.t(le.data),le.outlet,le.component,le)}(Ce.value),et=Ce.children.map(mt=>qo(le,mt));return new as(Se,et)}}class es{constructor(Ce,de){this.redirectTo=Ce,this.navigationBehaviorOptions=de}}const Zs="ngNavigationCancelingError";function aa(le,Ce){const{redirectTo:de,navigationBehaviorOptions:Se}=At(Ce)?{redirectTo:Ce,navigationBehaviorOptions:void 0}:Ce,et=mo(!1,Pn.Redirect);return et.url=de,et.navigationBehaviorOptions=Se,et}function mo(le,Ce){const de=new Error(`NavigationCancelingError: ${le||""}`);return de[Zs]=!0,de.cancellationCode=Ce,de}function el(le){return!!le&&le[Zs]}class tl{constructor(Ce,de,Se,et,mt){this.routeReuseStrategy=Ce,this.futureState=de,this.currState=Se,this.forwardEvent=et,this.inputBindingEnabled=mt}activate(Ce){const de=this.futureState._root,Se=this.currState?this.currState._root:null;this.deactivateChildRoutes(de,Se,Ce),xr(this.futureState.root),this.activateChildRoutes(de,Se,Ce)}deactivateChildRoutes(Ce,de,Se){const et=vs(de);Ce.children.forEach(mt=>{const Ut=mt.value.outlet;this.deactivateRoutes(mt,et[Ut],Se),delete et[Ut]}),Object.values(et).forEach(mt=>{this.deactivateRouteAndItsChildren(mt,Se)})}deactivateRoutes(Ce,de,Se){const et=Ce.value,mt=de?de.value:null;if(et===mt)if(et.component){const Ut=Se.getContext(et.outlet);Ut&&this.deactivateChildRoutes(Ce,de,Ut.children)}else this.deactivateChildRoutes(Ce,de,Se);else mt&&this.deactivateRouteAndItsChildren(de,Se)}deactivateRouteAndItsChildren(Ce,de){Ce.value.component&&this.routeReuseStrategy.shouldDetach(Ce.value.snapshot)?this.detachAndStoreRouteSubtree(Ce,de):this.deactivateRouteAndOutlet(Ce,de)}detachAndStoreRouteSubtree(Ce,de){const Se=de.getContext(Ce.value.outlet),et=Se&&Ce.value.component?Se.children:de,mt=vs(Ce);for(const Ut of Object.values(mt))this.deactivateRouteAndItsChildren(Ut,et);if(Se&&Se.outlet){const Ut=Se.outlet.detach(),fn=Se.children.onOutletDeactivated();this.routeReuseStrategy.store(Ce.value.snapshot,{componentRef:Ut,route:Ce,contexts:fn})}}deactivateRouteAndOutlet(Ce,de){const Se=de.getContext(Ce.value.outlet),et=Se&&Ce.value.component?Se.children:de,mt=vs(Ce);for(const Ut of Object.values(mt))this.deactivateRouteAndItsChildren(Ut,et);Se&&(Se.outlet&&(Se.outlet.deactivate(),Se.children.onOutletDeactivated()),Se.attachRef=null,Se.route=null)}activateChildRoutes(Ce,de,Se){const et=vs(de);Ce.children.forEach(mt=>{this.activateRoutes(mt,et[mt.value.outlet],Se),this.forwardEvent(new Gr(mt.value.snapshot))}),Ce.children.length&&this.forwardEvent(new Sr(Ce.value.snapshot))}activateRoutes(Ce,de,Se){const et=Ce.value,mt=de?de.value:null;if(xr(et),et===mt)if(et.component){const Ut=Se.getOrCreateContext(et.outlet);this.activateChildRoutes(Ce,de,Ut.children)}else this.activateChildRoutes(Ce,de,Se);else if(et.component){const Ut=Se.getOrCreateContext(et.outlet);if(this.routeReuseStrategy.shouldAttach(et.snapshot)){const fn=this.routeReuseStrategy.retrieve(et.snapshot);this.routeReuseStrategy.store(et.snapshot,null),Ut.children.onOutletReAttached(fn.contexts),Ut.attachRef=fn.componentRef,Ut.route=fn.route.value,Ut.outlet&&Ut.outlet.attach(fn.componentRef,fn.route.value),xr(fn.route.value),this.activateChildRoutes(Ce,null,Ut.children)}else Ut.attachRef=null,Ut.route=et,Ut.outlet&&Ut.outlet.activateWith(et,Ut.injector),this.activateChildRoutes(Ce,null,Ut.children)}else this.activateChildRoutes(Ce,null,Se)}}class Li{constructor(Ce){this.path=Ce,this.route=this.path[this.path.length-1]}}class ts{constructor(Ce,de){this.component=Ce,this.route=de}}function To(le,Ce,de){const Se=le._root;return ns(Se,Ce?Ce._root:null,de,[Se.value])}function Xr(le,Ce){const de=Symbol(),Se=Ce.get(le,de);return Se===de?"function"!=typeof le||(0,e.LfX)(le)?Ce.get(le):le:Se}function ns(le,Ce,de,Se,et={canDeactivateChecks:[],canActivateChecks:[]}){const mt=vs(Ce);return le.children.forEach(Ut=>{(function ys(le,Ce,de,Se,et={canDeactivateChecks:[],canActivateChecks:[]}){const mt=le.value,Ut=Ce?Ce.value:null,fn=de?de.getContext(le.value.outlet):null;if(Ut&&mt.routeConfig===Ut.routeConfig){const rn=function Ei(le,Ce,de){if("function"==typeof de)return de(le,Ce);switch(de){case"pathParamsChange":return!Ft(le.url,Ce.url);case"pathParamsOrQueryParamsChange":return!Ft(le.url,Ce.url)||!tt(le.queryParams,Ce.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zr(le,Ce)||!tt(le.queryParams,Ce.queryParams);default:return!zr(le,Ce)}}(Ut,mt,mt.routeConfig.runGuardsAndResolvers);rn?et.canActivateChecks.push(new Li(Se)):(mt.data=Ut.data,mt._resolvedData=Ut._resolvedData),ns(le,Ce,mt.component?fn?fn.children:null:de,Se,et),rn&&fn&&fn.outlet&&fn.outlet.isActivated&&et.canDeactivateChecks.push(new ts(fn.outlet.component,Ut))}else Ut&&fr(Ce,fn,et),et.canActivateChecks.push(new Li(Se)),ns(le,null,mt.component?fn?fn.children:null:de,Se,et)})(Ut,mt[Ut.value.outlet],de,Se.concat([Ut.value]),et),delete mt[Ut.value.outlet]}),Object.entries(mt).forEach(([Ut,fn])=>fr(fn,de.getContext(Ut),et)),et}function fr(le,Ce,de){const Se=vs(le),et=le.value;Object.entries(Se).forEach(([mt,Ut])=>{fr(Ut,et.component?Ce?Ce.children.getContext(mt):null:Ce,de)}),de.canDeactivateChecks.push(new ts(et.component&&Ce&&Ce.outlet&&Ce.outlet.isActivated?Ce.outlet.component:null,et))}function Uo(le){return"function"==typeof le}function Ye(le){return le instanceof f.G||"EmptyError"===le?.name}const Re=Symbol("INITIAL_VALUE");function bt(){return(0,w.n)(le=>(0,p.zV)(le.map(Ce=>Ce.pipe((0,x.s)(1),(0,I.Z)(Re)))).pipe((0,M.T)(Ce=>{for(const de of Ce)if(!0!==de){if(de===Re)return Re;if(!1===de||Yt(de))return de}return!0}),(0,_.p)(Ce=>Ce!==Re),(0,x.s)(1)))}function Yt(le){return At(le)||le instanceof es}function oo(le){return(0,y.F)((0,B.M)(Ce=>{if("boolean"!=typeof Ce)throw aa(0,Ce)}),(0,M.T)(Ce=>!0===Ce))}class ws{constructor(Ce){this.segmentGroup=Ce||null}}class Es extends Error{constructor(Ce){super(),this.urlTree=Ce}}function Yr(le){return(0,R.$)(new ws(le))}class qs{constructor(Ce,de){this.urlSerializer=Ce,this.urlTree=de}lineralizeSegments(Ce,de){let Se=[],et=de.root;for(;;){if(Se=Se.concat(et.segments),0===et.numberOfChildren)return(0,h.of)(Se);if(et.numberOfChildren>1||!et.children[ge])return(0,R.$)(new e.wOt(4e3,!1));et=et.children[ge]}}applyRedirectCommands(Ce,de,Se,et,mt){if("string"!=typeof de){const fn=de,{queryParams:rn,fragment:pn,routeConfig:qn,url:mi,outlet:ro,params:Bo,data:Mi,title:dl}=et,nr=(0,e.N4e)(mt,()=>fn({params:Bo,data:Mi,queryParams:rn,fragment:pn,routeConfig:qn,url:mi,outlet:ro,title:dl}));if(nr instanceof wt)throw new Es(nr);de=nr}const Ut=this.applyRedirectCreateUrlTree(de,this.urlSerializer.parse(de),Ce,Se);if("/"===de[0])throw new Es(Ut);return Ut}applyRedirectCreateUrlTree(Ce,de,Se,et){const mt=this.createSegmentGroup(Ce,de.root,Se,et);return new wt(mt,this.createQueryParams(de.queryParams,this.urlTree.queryParams),de.fragment)}createQueryParams(Ce,de){const Se={};return Object.entries(Ce).forEach(([et,mt])=>{if("string"==typeof mt&&":"===mt[0]){const fn=mt.substring(1);Se[et]=de[fn]}else Se[et]=mt}),Se}createSegmentGroup(Ce,de,Se,et){const mt=this.createSegments(Ce,de.segments,Se,et);let Ut={};return Object.entries(de.children).forEach(([fn,rn])=>{Ut[fn]=this.createSegmentGroup(Ce,rn,Se,et)}),new Zt(mt,Ut)}createSegments(Ce,de,Se,et){return de.map(mt=>":"===mt.path[0]?this.findPosParam(Ce,mt,et):this.findOrReturn(mt,Se))}findPosParam(Ce,de,Se){const et=Se[de.path.substring(1)];if(!et)throw new e.wOt(4001,!1);return et}findOrReturn(Ce,de){let Se=0;for(const et of de){if(et.path===Ce.path)return de.splice(Se),et;Se++}return Ce}}const wr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ka(le,Ce,de,Se,et){const mt=sl(le,Ce,de);return mt.matched?(Se=function Sa(le,Ce){return le.providers&&!le._injector&&(le._injector=(0,e.Ol2)(le.providers,Ce,`Route: ${le.path}`)),le._injector??Ce}(Ce,Se),function _r(le,Ce,de,Se){const et=Ce.canMatch;if(!et||0===et.length)return(0,h.of)(!0);const mt=et.map(Ut=>{const fn=Xr(Ut,le);return Le(function He(le){return le&&Uo(le.canMatch)}(fn)?fn.canMatch(Ce,de):(0,e.N4e)(le,()=>fn(Ce,de)))});return(0,h.of)(mt).pipe(bt(),oo())}(Se,Ce,de).pipe((0,M.T)(Ut=>!0===Ut?mt:{...wr}))):(0,h.of)(mt)}function sl(le,Ce,de){if("**"===Ce.path)return function Ti(le){return{matched:!0,parameters:le.length>0?yt(le).parameters:{},consumedSegments:le,remainingSegments:[],positionalParamSegments:{}}}(de);if(""===Ce.path)return"full"===Ce.pathMatch&&(le.hasChildren()||de.length>0)?{...wr}:{matched:!0,consumedSegments:[],remainingSegments:de,parameters:{},positionalParamSegments:{}};const et=(Ce.matcher||Qe)(de,le,Ce);if(!et)return{...wr};const mt={};Object.entries(et.posParams??{}).forEach(([fn,rn])=>{mt[fn]=rn.path});const Ut=et.consumed.length>0?{...mt,...et.consumed[et.consumed.length-1].parameters}:mt;return{matched:!0,consumedSegments:et.consumed,remainingSegments:de.slice(et.consumed.length),parameters:Ut,positionalParamSegments:et.posParams??{}}}function rl(le,Ce,de,Se){return de.length>0&&function kr(le,Ce,de){return de.some(Se=>La(le,Ce,Se)&&Xo(Se)!==ge)}(le,de,Se)?{segmentGroup:new Zt(Ce,Cs(Se,new Zt(de,le.children))),slicedSegments:[]}:0===de.length&&function El(le,Ce,de){return de.some(Se=>La(le,Ce,Se))}(le,de,Se)?{segmentGroup:new Zt(le.segments,Pa(le,de,Se,le.children)),slicedSegments:de}:{segmentGroup:new Zt(le.segments,le.children),slicedSegments:de}}function Pa(le,Ce,de,Se){const et={};for(const mt of de)if(La(le,Ce,mt)&&!Se[Xo(mt)]){const Ut=new Zt([],{});et[Xo(mt)]=Ut}return{...Se,...et}}function Cs(le,Ce){const de={};de[ge]=Ce;for(const Se of le)if(""===Se.path&&Xo(Se)!==ge){const et=new Zt([],{});de[Xo(Se)]=et}return de}function La(le,Ce,de){return(!(le.hasChildren()||Ce.length>0)||"full"!==de.pathMatch)&&""===de.path}class rc{}class io{constructor(Ce,de,Se,et,mt,Ut,fn){this.injector=Ce,this.configLoader=de,this.rootComponentType=Se,this.config=et,this.urlTree=mt,this.paramsInheritanceStrategy=Ut,this.urlSerializer=fn,this.applyRedirects=new qs(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(Ce){return new e.wOt(4002,`'${Ce.segmentGroup}'`)}recognize(){const Ce=rl(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(Ce).pipe((0,M.T)(({children:de,rootSnapshot:Se})=>{const et=new as(Se,de),mt=new hr("",et),Ut=function tn(le,Ce,de=null,Se=null){return wn(vn(le),Ce,de,Se)}(Se,[],this.urlTree.queryParams,this.urlTree.fragment);return Ut.queryParams=this.urlTree.queryParams,mt.url=this.urlSerializer.serialize(Ut),{state:mt,tree:Ut}}))}match(Ce){const de=new Or([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),ge,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,Ce,ge,de).pipe((0,M.T)(Se=>({children:Se,rootSnapshot:de})),(0,F.W)(Se=>{if(Se instanceof Es)return this.urlTree=Se.urlTree,this.match(Se.urlTree.root);throw Se instanceof ws?this.noMatchError(Se):Se}))}processSegmentGroup(Ce,de,Se,et,mt){return 0===Se.segments.length&&Se.hasChildren()?this.processChildren(Ce,de,Se,mt):this.processSegment(Ce,de,Se,Se.segments,et,!0,mt).pipe((0,M.T)(Ut=>Ut instanceof as?[Ut]:[]))}processChildren(Ce,de,Se,et){const mt=[];for(const Ut of Object.keys(Se.children))"primary"===Ut?mt.unshift(Ut):mt.push(Ut);return(0,l.H)(mt).pipe((0,A.H)(Ut=>{const fn=Se.children[Ut],rn=function xa(le,Ce){const de=le.filter(Se=>Xo(Se)===Ce);return de.push(...le.filter(Se=>Xo(Se)!==Ce)),de}(de,Ut);return this.processSegmentGroup(Ce,rn,fn,Ut,et)}),function U(le,Ce){let de=!1;return arguments.length>=2&&(de=!0),function(et){return et.lift(new G(le,Ce,de))}}((Ut,fn)=>(Ut.push(...fn),Ut)),(0,te.U)(null),function ce(le,Ce){const de=arguments.length>=2;return Se=>Se.pipe(le?(0,_.p)((et,mt)=>le(et,mt,Se)):ie.D,K(1),de?(0,te.U)(Ce):(0,W.v)(()=>new f.G))}(),(0,C.ZZ)(Ut=>{if(null===Ut)return Yr(Se);const fn=H(Ut);return function al(le){le.sort((Ce,de)=>Ce.value.outlet===ge?-1:de.value.outlet===ge?1:Ce.value.outlet.localeCompare(de.value.outlet))}(fn),(0,h.of)(fn)}))}processSegment(Ce,de,Se,et,mt,Ut,fn){return(0,l.H)(de).pipe((0,A.H)(rn=>this.processSegmentAgainstRoute(rn._injector??Ce,de,rn,Se,et,mt,Ut,fn).pipe((0,F.W)(pn=>{if(pn instanceof ws)return(0,h.of)(null);throw pn}))),(0,D.$)(rn=>!!rn),(0,F.W)(rn=>{if(Ye(rn))return function da(le,Ce,de){return 0===Ce.length&&!le.children[de]}(Se,et,mt)?(0,h.of)(new rc):Yr(Se);throw rn}))}processSegmentAgainstRoute(Ce,de,Se,et,mt,Ut,fn,rn){return function ca(le,Ce,de,Se){return!!(Xo(le)===Se||Se!==ge&&La(Ce,de,le))&&sl(Ce,le,de).matched}(Se,et,mt,Ut)?void 0===Se.redirectTo?this.matchSegmentAgainstRoute(Ce,et,Se,mt,Ut,rn):this.allowRedirects&&fn?this.expandSegmentAgainstRouteUsingRedirect(Ce,et,de,Se,mt,Ut,rn):Yr(et):Yr(et)}expandSegmentAgainstRouteUsingRedirect(Ce,de,Se,et,mt,Ut,fn){const{matched:rn,parameters:pn,consumedSegments:qn,positionalParamSegments:mi,remainingSegments:ro}=sl(de,et,mt);if(!rn)return Yr(de);"string"==typeof et.redirectTo&&"/"===et.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Bo=new Or(mt,pn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,it(et),Xo(et),et.component??et._loadedComponent??null,et,Et(et)),Mi=ra(Bo,fn,this.paramsInheritanceStrategy);Bo.params=Object.freeze(Mi.params),Bo.data=Object.freeze(Mi.data);const dl=this.applyRedirects.applyRedirectCommands(qn,et.redirectTo,mi,Bo,Ce);return this.applyRedirects.lineralizeSegments(et,dl).pipe((0,C.ZZ)(nr=>this.processSegment(Ce,Se,de,nr.concat(ro),Ut,!1,fn)))}matchSegmentAgainstRoute(Ce,de,Se,et,mt,Ut){const fn=ka(de,Se,et,Ce);return"**"===Se.path&&(de.children={}),fn.pipe((0,w.n)(rn=>rn.matched?this.getChildConfig(Ce=Se._injector??Ce,Se,et).pipe((0,w.n)(({routes:pn})=>{const qn=Se._loadedInjector??Ce,{parameters:mi,consumedSegments:ro,remainingSegments:Bo}=rn,Mi=new Or(ro,mi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,it(Se),Xo(Se),Se.component??Se._loadedComponent??null,Se,Et(Se)),dl=ra(Mi,Ut,this.paramsInheritanceStrategy);Mi.params=Object.freeze(dl.params),Mi.data=Object.freeze(dl.data);const{segmentGroup:nr,slicedSegments:mr}=rl(de,ro,Bo,pn);if(0===mr.length&&nr.hasChildren())return this.processChildren(qn,pn,nr,Mi).pipe((0,M.T)(ul=>new as(Mi,ul)));if(0===pn.length&&0===mr.length)return(0,h.of)(new as(Mi,[]));const yh=Xo(Se)===mt;return this.processSegment(qn,pn,nr,mr,yh?ge:mt,!0,Mi).pipe((0,M.T)(ul=>new as(Mi,ul instanceof as?[ul]:[])))})):Yr(de)))}getChildConfig(Ce,de,Se){return de.children?(0,h.of)({routes:de.children,injector:Ce}):de.loadChildren?void 0!==de._loadedRoutes?(0,h.of)({routes:de._loadedRoutes,injector:de._loadedInjector}):function cd(le,Ce,de,Se){const et=Ce.canLoad;if(void 0===et||0===et.length)return(0,h.of)(!0);const mt=et.map(Ut=>{const fn=Xr(Ut,le);return Le(function Aa(le){return le&&Uo(le.canLoad)}(fn)?fn.canLoad(Ce,de):(0,e.N4e)(le,()=>fn(Ce,de)))});return(0,h.of)(mt).pipe(bt(),oo())}(Ce,de,Se).pipe((0,C.ZZ)(et=>et?this.configLoader.loadChildren(Ce,de).pipe((0,B.M)(mt=>{de._loadedRoutes=mt.routes,de._loadedInjector=mt.injector})):function ol(le){return(0,R.$)(mo(!1,Pn.GuardRejected))}())):(0,h.of)({routes:[],injector:Ce})}}function ks(le){const Ce=le.value.routeConfig;return Ce&&""===Ce.path}function H(le){const Ce=[],de=new Set;for(const Se of le){if(!ks(Se)){Ce.push(Se);continue}const et=Ce.find(mt=>Se.value.routeConfig===mt.value.routeConfig);void 0!==et?(et.children.push(...Se.children),de.add(et)):Ce.push(Se)}for(const Se of de){const et=H(Se.children);Ce.push(new as(Se.value,et))}return Ce.filter(Se=>!de.has(Se))}function it(le){return le.data||{}}function Et(le){return le.resolve||{}}function Vt(le){const Ce=le.children.map(de=>Vt(de)).flat();return[le,...Ce]}function li(le){return(0,w.n)(Ce=>{const de=le(Ce);return de?(0,l.H)(de).pipe((0,M.T)(()=>Ce)):(0,h.of)(Ce)})}let Wn=(()=>{class le{buildTitle(de){let Se,et=de.root;for(;void 0!==et;)Se=this.getResolvedTitleForRoute(et)??Se,et=et.children.find(mt=>mt.outlet===ge);return Se}getResolvedTitleForRoute(de){return de.data[pe]}static#e=this.\u0275fac=function(Se){return new(Se||le)};static#t=this.\u0275prov=e.jDH({token:le,factory:()=>(0,e.WQX)(Bn),providedIn:"root"})}return le})(),Bn=(()=>{class le extends Wn{constructor(de){super(),this.title=de}updateTitle(de){const Se=this.buildTitle(de);void 0!==Se&&this.title.setTitle(Se)}static#e=this.\u0275fac=function(Se){return new(Se||le)(e.KVO(Me.hE))};static#t=this.\u0275prov=e.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();const di=new e.nKC("",{providedIn:"root",factory:()=>({})});let Xi=(()=>{class le{static#e=this.\u0275fac=function(Se){return new(Se||le)};static#t=this.\u0275cmp=e.VBU({type:le,selectors:[["ng-component"]],standalone:!0,features:[e.aNF],decls:1,vars:0,template:function(Se,et){1&Se&&e.nrm(0,"router-outlet")},dependencies:[us],encapsulation:2})}return le})();function Ii(le){const Ce=le.children&&le.children.map(Ii),de=Ce?{...le,children:Ce}:{...le};return!de.component&&!de.loadComponent&&(Ce||de.loadChildren)&&de.outlet&&de.outlet!==ge&&(de.component=Xi),de}const lo=new e.nKC("");let xo=(()=>{class le{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,e.WQX)(e.Ql9)}loadComponent(de){if(this.componentLoaders.get(de))return this.componentLoaders.get(de);if(de._loadedComponent)return(0,h.of)(de._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(de);const Se=Le(de.loadComponent()).pipe((0,M.T)(Pr),(0,B.M)(mt=>{this.onLoadEndListener&&this.onLoadEndListener(de),de._loadedComponent=mt}),(0,Oe.j)(()=>{this.componentLoaders.delete(de)})),et=new v.G(Se,()=>new O.B7).pipe((0,we.B)());return this.componentLoaders.set(de,et),et}loadChildren(de,Se){if(this.childrenLoaders.get(Se))return this.childrenLoaders.get(Se);if(Se._loadedRoutes)return(0,h.of)({routes:Se._loadedRoutes,injector:Se._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Se);const mt=function Gi(le,Ce,de,Se){return Le(le.loadChildren()).pipe((0,M.T)(Pr),(0,C.ZZ)(et=>et instanceof e.Co$||Array.isArray(et)?(0,h.of)(et):(0,l.H)(Ce.compileModuleAsync(et))),(0,M.T)(et=>{Se&&Se(le);let mt,Ut,fn=!1;return Array.isArray(et)?(Ut=et,!0):(mt=et.create(de).injector,Ut=mt.get(lo,[],{optional:!0,self:!0}).flat()),{routes:Ut.map(Ii),injector:mt}}))}(Se,this.compiler,de,this.onLoadEndListener).pipe((0,Oe.j)(()=>{this.childrenLoaders.delete(Se)})),Ut=new v.G(mt,()=>new O.B7).pipe((0,we.B)());return this.childrenLoaders.set(Se,Ut),Ut}static#e=this.\u0275fac=function(Se){return new(Se||le)};static#t=this.\u0275prov=e.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();function Pr(le){return function ll(le){return le&&"object"==typeof le&&"default"in le}(le)?le.default:le}let _e=(()=>{class le{static#e=this.\u0275fac=function(Se){return new(Se||le)};static#t=this.\u0275prov=e.jDH({token:le,factory:()=>(0,e.WQX)(dt),providedIn:"root"})}return le})(),dt=(()=>{class le{shouldProcessUrl(de){return!0}extract(de){return de}merge(de,Se){return de}static#e=this.\u0275fac=function(Se){return new(Se||le)};static#t=this.\u0275prov=e.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();const Ne=new e.nKC(""),ot=new e.nKC("");function Kt(le,Ce,de){const Se=le.get(ot),et=le.get(P.qQ);return le.get(e.SKi).runOutsideAngular(()=>{if(!et.startViewTransition||Se.skipNextTransition)return Se.skipNextTransition=!1,new Promise(pn=>setTimeout(pn));let mt;const Ut=new Promise(pn=>{mt=pn}),fn=et.startViewTransition(()=>(mt(),function dn(le){return new Promise(Ce=>{(0,e.mal)({read:()=>setTimeout(Ce)},{injector:le})})}(le))),{onViewTransitionCreated:rn}=Se;return rn&&(0,e.N4e)(le,()=>rn({transition:fn,from:Ce,to:de})),Ut})}const Tn=new e.nKC("");let Hn=(()=>{class le{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new O.B7,this.transitionAbortSubject=new O.B7,this.configLoader=(0,e.WQX)(xo),this.environmentInjector=(0,e.WQX)(e.uvJ),this.urlSerializer=(0,e.WQX)(Wt),this.rootContexts=(0,e.WQX)(gs),this.location=(0,e.WQX)(P.aZ),this.inputBindingEnabled=null!==(0,e.WQX)(Qs,{optional:!0}),this.titleStrategy=(0,e.WQX)(Wn),this.options=(0,e.WQX)(di,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,e.WQX)(_e),this.createViewTransition=(0,e.WQX)(Ne,{optional:!0}),this.navigationErrorHandler=(0,e.WQX)(Tn,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,h.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=et=>this.events.next(new $s(et)),this.configLoader.onLoadStartListener=et=>this.events.next(new $o(et))}complete(){this.transitions?.complete()}handleNavigationRequest(de){const Se=++this.navigationId;this.transitions?.next({...this.transitions.value,...de,id:Se})}setupNavigations(de,Se,et){return this.transitions=new g.t({id:0,currentUrlTree:Se,currentRawUrl:Se,extractedUrl:this.urlHandlingStrategy.extract(Se),urlAfterRedirects:this.urlHandlingStrategy.extract(Se),rawUrl:Se,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Z,restoredState:null,currentSnapshot:et.snapshot,targetSnapshot:null,currentRouterState:et,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,_.p)(mt=>0!==mt.id),(0,M.T)(mt=>({...mt,extractedUrl:this.urlHandlingStrategy.extract(mt.rawUrl)})),(0,w.n)(mt=>{let Ut=!1,fn=!1;return(0,h.of)(mt).pipe((0,w.n)(rn=>{if(this.navigationId>mt.id)return this.cancelNavigationTransition(mt,"",Pn.SupersededByNewNavigation),m.w;this.currentTransition=mt,this.currentNavigation={id:rn.id,initialUrl:rn.rawUrl,extractedUrl:rn.extractedUrl,targetBrowserUrl:"string"==typeof rn.extras.browserUrl?this.urlSerializer.parse(rn.extras.browserUrl):rn.extras.browserUrl,trigger:rn.source,extras:rn.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const pn=!de.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!pn&&"reload"!==(rn.extras.onSameUrlNavigation??de.onSameUrlNavigation)){const mi="";return this.events.next(new zi(rn.id,this.urlSerializer.serialize(rn.rawUrl),mi,ui.IgnoredSameUrlNavigation)),rn.resolve(!1),m.w}if(this.urlHandlingStrategy.shouldProcessUrl(rn.rawUrl))return(0,h.of)(rn).pipe((0,w.n)(mi=>{const ro=this.transitions?.getValue();return this.events.next(new _t(mi.id,this.urlSerializer.serialize(mi.extractedUrl),mi.source,mi.restoredState)),ro!==this.transitions?.getValue()?m.w:Promise.resolve(mi)}),function pt(le,Ce,de,Se,et,mt){return(0,C.ZZ)(Ut=>function dd(le,Ce,de,Se,et,mt,Ut="emptyOnly"){return new io(le,Ce,de,Se,et,Ut,mt).recognize()}(le,Ce,de,Se,Ut.extractedUrl,et,mt).pipe((0,M.T)(({state:fn,tree:rn})=>({...Ut,targetSnapshot:fn,urlAfterRedirects:rn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,de.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,B.M)(mi=>{mt.targetSnapshot=mi.targetSnapshot,mt.urlAfterRedirects=mi.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:mi.urlAfterRedirects};const ro=new xi(mi.id,this.urlSerializer.serialize(mi.extractedUrl),this.urlSerializer.serialize(mi.urlAfterRedirects),mi.targetSnapshot);this.events.next(ro)}));if(pn&&this.urlHandlingStrategy.shouldProcessUrl(rn.currentRawUrl)){const{id:mi,extractedUrl:ro,source:Bo,restoredState:Mi,extras:dl}=rn,nr=new _t(mi,this.urlSerializer.serialize(ro),Bo,Mi);this.events.next(nr);const mr=Kr(this.rootComponentType).snapshot;return this.currentTransition=mt={...rn,targetSnapshot:mr,urlAfterRedirects:ro,extras:{...dl,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=ro,(0,h.of)(mt)}{const mi="";return this.events.next(new zi(rn.id,this.urlSerializer.serialize(rn.extractedUrl),mi,ui.IgnoredByUrlHandlingStrategy)),rn.resolve(!1),m.w}}),(0,B.M)(rn=>{const pn=new Hi(rn.id,this.urlSerializer.serialize(rn.extractedUrl),this.urlSerializer.serialize(rn.urlAfterRedirects),rn.targetSnapshot);this.events.next(pn)}),(0,M.T)(rn=>(this.currentTransition=mt={...rn,guards:To(rn.targetSnapshot,rn.currentSnapshot,this.rootContexts)},mt)),function _i(le,Ce){return(0,C.ZZ)(de=>{const{targetSnapshot:Se,currentSnapshot:et,guards:{canActivateChecks:mt,canDeactivateChecks:Ut}}=de;return 0===Ut.length&&0===mt.length?(0,h.of)({...de,guardsResult:!0}):function $i(le,Ce,de,Se){return(0,l.H)(le).pipe((0,C.ZZ)(et=>function il(le,Ce,de,Se,et){const mt=Ce&&Ce.routeConfig?Ce.routeConfig.canDeactivate:null;if(!mt||0===mt.length)return(0,h.of)(!0);const Ut=mt.map(fn=>{const rn=Ys(Ce)??et,pn=Xr(fn,rn);return Le(function nl(le){return le&&Uo(le.canDeactivate)}(pn)?pn.canDeactivate(le,Ce,de,Se):(0,e.N4e)(rn,()=>pn(le,Ce,de,Se))).pipe((0,D.$)())});return(0,h.of)(Ut).pipe(bt())}(et.component,et.route,de,Ce,Se)),(0,D.$)(et=>!0!==et,!0))}(Ut,Se,et,le).pipe((0,C.ZZ)(fn=>fn&&function ld(le){return"boolean"==typeof le}(fn)?function ao(le,Ce,de,Se){return(0,l.H)(Ce).pipe((0,A.H)(et=>(0,b.x)(function Ar(le,Ce){return null!==le&&Ce&&Ce(new ko(le)),(0,h.of)(!0)}(et.route.parent,Se),function pi(le,Ce){return null!==le&&Ce&&Ce(new no(le)),(0,h.of)(!0)}(et.route,Se),function la(le,Ce,de){const Se=Ce[Ce.length-1],mt=Ce.slice(0,Ce.length-1).reverse().map(Ut=>function Rr(le){const Ce=le.routeConfig?le.routeConfig.canActivateChild:null;return Ce&&0!==Ce.length?{node:le,guards:Ce}:null}(Ut)).filter(Ut=>null!==Ut).map(Ut=>(0,d.v)(()=>{const fn=Ut.guards.map(rn=>{const pn=Ys(Ut.node)??de,qn=Xr(rn,pn);return Le(function ji(le){return le&&Uo(le.canActivateChild)}(qn)?qn.canActivateChild(Se,le):(0,e.N4e)(pn,()=>qn(Se,le))).pipe((0,D.$)())});return(0,h.of)(fn).pipe(bt())}));return(0,h.of)(mt).pipe(bt())}(le,et.path,de),function Hr(le,Ce,de){const Se=Ce.routeConfig?Ce.routeConfig.canActivate:null;if(!Se||0===Se.length)return(0,h.of)(!0);const et=Se.map(mt=>(0,d.v)(()=>{const Ut=Ys(Ce)??de,fn=Xr(mt,Ut);return Le(function ls(le){return le&&Uo(le.canActivate)}(fn)?fn.canActivate(Ce,le):(0,e.N4e)(Ut,()=>fn(Ce,le))).pipe((0,D.$)())}));return(0,h.of)(et).pipe(bt())}(le,et.route,de))),(0,D.$)(et=>!0!==et,!0))}(Se,mt,le,Ce):(0,h.of)(fn)),(0,M.T)(fn=>({...de,guardsResult:fn})))})}(this.environmentInjector,rn=>this.events.next(rn)),(0,B.M)(rn=>{if(mt.guardsResult=rn.guardsResult,rn.guardsResult&&"boolean"!=typeof rn.guardsResult)throw aa(0,rn.guardsResult);const pn=new Kn(rn.id,this.urlSerializer.serialize(rn.extractedUrl),this.urlSerializer.serialize(rn.urlAfterRedirects),rn.targetSnapshot,!!rn.guardsResult);this.events.next(pn)}),(0,_.p)(rn=>!!rn.guardsResult||(this.cancelNavigationTransition(rn,"",Pn.GuardRejected),!1)),li(rn=>{if(rn.guards.canActivateChecks.length)return(0,h.of)(rn).pipe((0,B.M)(pn=>{const qn=new zo(pn.id,this.urlSerializer.serialize(pn.extractedUrl),this.urlSerializer.serialize(pn.urlAfterRedirects),pn.targetSnapshot);this.events.next(qn)}),(0,w.n)(pn=>{let qn=!1;return(0,h.of)(pn).pipe(function $t(le,Ce){return(0,C.ZZ)(de=>{const{targetSnapshot:Se,guards:{canActivateChecks:et}}=de;if(!et.length)return(0,h.of)(de);const mt=new Set(et.map(rn=>rn.route)),Ut=new Set;for(const rn of mt)if(!Ut.has(rn))for(const pn of Vt(rn))Ut.add(pn);let fn=0;return(0,l.H)(Ut).pipe((0,A.H)(rn=>mt.has(rn)?function cn(le,Ce,de,Se){const et=le.routeConfig,mt=le._resolve;return void 0!==et?.title&&!zn(et)&&(mt[pe]=et.title),function mn(le,Ce,de,Se){const et=xt(le);if(0===et.length)return(0,h.of)({});const mt={};return(0,l.H)(et).pipe((0,C.ZZ)(Ut=>function Nn(le,Ce,de,Se){const et=Ys(Ce)??Se,mt=Xr(le,et);return Le(mt.resolve?mt.resolve(Ce,de):(0,e.N4e)(et,()=>mt(Ce,de)))}(le[Ut],Ce,de,Se).pipe((0,D.$)(),(0,B.M)(fn=>{if(fn instanceof es)throw aa(new en,fn);mt[Ut]=fn}))),K(1),function oe(le){return Ce=>Ce.lift(new me(le))}(mt),(0,F.W)(Ut=>Ye(Ut)?m.w:(0,R.$)(Ut)))}(mt,le,Ce,Se).pipe((0,M.T)(Ut=>(le._resolvedData=Ut,le.data=ra(le,le.parent,de).resolve,null)))}(rn,Se,le,Ce):(rn.data=ra(rn,rn.parent,le).resolve,(0,h.of)(void 0))),(0,B.M)(()=>fn++),K(1),(0,C.ZZ)(rn=>fn===Ut.size?(0,h.of)(de):m.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,B.M)({next:()=>qn=!0,complete:()=>{qn||this.cancelNavigationTransition(pn,"",Pn.NoDataFromResolver)}}))}),(0,B.M)(pn=>{const qn=new Pi(pn.id,this.urlSerializer.serialize(pn.extractedUrl),this.urlSerializer.serialize(pn.urlAfterRedirects),pn.targetSnapshot);this.events.next(qn)}))}),li(rn=>{const pn=qn=>{const mi=[];qn.routeConfig?.loadComponent&&!qn.routeConfig._loadedComponent&&mi.push(this.configLoader.loadComponent(qn.routeConfig).pipe((0,B.M)(ro=>{qn.component=ro}),(0,M.T)(()=>{})));for(const ro of qn.children)mi.push(...pn(ro));return mi};return(0,p.zV)(pn(rn.targetSnapshot.root)).pipe((0,te.U)(null),(0,x.s)(1))}),li(()=>this.afterPreactivation()),(0,w.n)(()=>{const{currentSnapshot:rn,targetSnapshot:pn}=mt,qn=this.createViewTransition?.(this.environmentInjector,rn.root,pn.root);return qn?(0,l.H)(qn).pipe((0,M.T)(()=>mt)):(0,h.of)(mt)}),(0,M.T)(rn=>{const pn=function Js(le,Ce,de){const Se=qo(le,Ce._root,de?de._root:void 0);return new ur(Se,Ce)}(de.routeReuseStrategy,rn.targetSnapshot,rn.currentRouterState);return this.currentTransition=mt={...rn,targetRouterState:pn},this.currentNavigation.targetRouterState=pn,mt}),(0,B.M)(()=>{this.events.next(new lr)}),((le,Ce,de,Se)=>(0,M.T)(et=>(new tl(Ce,et.targetRouterState,et.currentRouterState,de,Se).activate(le),et)))(this.rootContexts,de.routeReuseStrategy,rn=>this.events.next(rn),this.inputBindingEnabled),(0,x.s)(1),(0,B.M)({next:rn=>{Ut=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Qt(rn.id,this.urlSerializer.serialize(rn.extractedUrl),this.urlSerializer.serialize(rn.urlAfterRedirects))),this.titleStrategy?.updateTitle(rn.targetRouterState.snapshot),rn.resolve(!0)},complete:()=>{Ut=!0}}),(0,We.Q)(this.transitionAbortSubject.pipe((0,B.M)(rn=>{throw rn}))),(0,Oe.j)(()=>{!Ut&&!fn&&this.cancelNavigationTransition(mt,"",Pn.SupersededByNewNavigation),this.currentTransition?.id===mt.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,F.W)(rn=>{if(fn=!0,el(rn))this.events.next(new vi(mt.id,this.urlSerializer.serialize(mt.extractedUrl),rn.message,rn.cancellationCode)),function bs(le){return el(le)&&At(le.url)}(rn)?this.events.next(new cr(rn.url,rn.navigationBehaviorOptions)):mt.resolve(!1);else{const pn=new Bi(mt.id,this.urlSerializer.serialize(mt.extractedUrl),rn,mt.targetSnapshot??void 0);try{const qn=(0,e.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(pn));if(qn instanceof es){const{message:mi,cancellationCode:ro}=aa(0,qn);this.events.next(new vi(mt.id,this.urlSerializer.serialize(mt.extractedUrl),mi,ro)),this.events.next(new cr(qn.redirectTo,qn.navigationBehaviorOptions))}else{this.events.next(pn);const mi=de.errorHandler(rn);mt.resolve(!!mi)}}catch(qn){this.options.resolveNavigationPromiseOnError?mt.resolve(!1):mt.reject(qn)}}return m.w}))}))}cancelNavigationTransition(de,Se,et){const mt=new vi(de.id,this.urlSerializer.serialize(de.extractedUrl),Se,et);this.events.next(mt),de.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const de=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),Se=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return de.toString()!==Se?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static#e=this.\u0275fac=function(Se){return new(Se||le)};static#t=this.\u0275prov=e.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();function Oo(le){return le!==Z}let Ci=(()=>{class le{static#e=this.\u0275fac=function(Se){return new(Se||le)};static#t=this.\u0275prov=e.jDH({token:le,factory:()=>(0,e.WQX)(xn),providedIn:"root"})}return le})();class uo{shouldDetach(Ce){return!1}store(Ce,de){}shouldAttach(Ce){return!1}retrieve(Ce){return null}shouldReuseRoute(Ce,de){return Ce.routeConfig===de.routeConfig}}let xn=(()=>{class le extends uo{static#e=this.\u0275fac=(()=>{let de;return function(et){return(de||(de=e.xGo(le)))(et||le)}})();static#t=this.\u0275prov=e.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})(),Ki=(()=>{class le{static#e=this.\u0275fac=function(Se){return new(Se||le)};static#t=this.\u0275prov=e.jDH({token:le,factory:()=>(0,e.WQX)(Yi),providedIn:"root"})}return le})(),Yi=(()=>{class le extends Ki{constructor(){super(...arguments),this.location=(0,e.WQX)(P.aZ),this.urlSerializer=(0,e.WQX)(Wt),this.options=(0,e.WQX)(di,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,e.WQX)(_e),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new wt,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Kr(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(de){return this.location.subscribe(Se=>{"popstate"===Se.type&&de(Se.url,Se.state)})}handleRouterEvent(de,Se){if(de instanceof _t)this.stateMemento=this.createStateMemento();else if(de instanceof zi)this.rawUrlTree=Se.initialUrl;else if(de instanceof xi){if("eager"===this.urlUpdateStrategy&&!Se.extras.skipLocationChange){const et=this.urlHandlingStrategy.merge(Se.finalUrl,Se.initialUrl);this.setBrowserUrl(Se.targetBrowserUrl??et,Se)}}else de instanceof lr?(this.currentUrlTree=Se.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(Se.finalUrl,Se.initialUrl),this.routerState=Se.targetRouterState,"deferred"===this.urlUpdateStrategy&&!Se.extras.skipLocationChange&&this.setBrowserUrl(Se.targetBrowserUrl??this.rawUrlTree,Se)):de instanceof vi&&(de.code===Pn.GuardRejected||de.code===Pn.NoDataFromResolver)?this.restoreHistory(Se):de instanceof Bi?this.restoreHistory(Se,!0):de instanceof Qt&&(this.lastSuccessfulId=de.id,this.currentPageId=this.browserPageId)}setBrowserUrl(de,Se){const et=de instanceof wt?this.urlSerializer.serialize(de):de;if(this.location.isCurrentPathEqualTo(et)||Se.extras.replaceUrl){const Ut={...Se.extras.state,...this.generateNgRouterState(Se.id,this.browserPageId)};this.location.replaceState(et,"",Ut)}else{const mt={...Se.extras.state,...this.generateNgRouterState(Se.id,this.browserPageId+1)};this.location.go(et,"",mt)}}restoreHistory(de,Se=!1){if("computed"===this.canceledNavigationResolution){const mt=this.currentPageId-this.browserPageId;0!==mt?this.location.historyGo(mt):this.currentUrlTree===de.finalUrl&&0===mt&&(this.resetState(de),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Se&&this.resetState(de),this.resetUrlToCurrentUrlTree())}resetState(de){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,de.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(de,Se){return"computed"===this.canceledNavigationResolution?{navigationId:de,\u0275routerPageId:Se}:{navigationId:de}}static#e=this.\u0275fac=(()=>{let de;return function(et){return(de||(de=e.xGo(le)))(et||le)}})();static#t=this.\u0275prov=e.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();var co=function(le){return le[le.COMPLETE=0]="COMPLETE",le[le.FAILED=1]="FAILED",le[le.REDIRECTING=2]="REDIRECTING",le}(co||{});function ua(le,Ce){le.events.pipe((0,_.p)(de=>de instanceof Qt||de instanceof vi||de instanceof Bi||de instanceof zi),(0,M.T)(de=>de instanceof Qt||de instanceof zi?co.COMPLETE:de instanceof vi&&(de.code===Pn.Redirect||de.code===Pn.SupersededByNewNavigation)?co.REDIRECTING:co.FAILED),(0,_.p)(de=>de!==co.REDIRECTING),(0,x.s)(1)).subscribe(()=>{Ce()})}function pr(le){throw le}const ha={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ks={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ho=(()=>{class le{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,e.WQX)(e.H3F),this.stateManager=(0,e.WQX)(Ki),this.options=(0,e.WQX)(di,{optional:!0})||{},this.pendingTasks=(0,e.WQX)(e.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,e.WQX)(Hn),this.urlSerializer=(0,e.WQX)(Wt),this.location=(0,e.WQX)(P.aZ),this.urlHandlingStrategy=(0,e.WQX)(_e),this._events=new O.B7,this.errorHandler=this.options.errorHandler||pr,this.navigated=!1,this.routeReuseStrategy=(0,e.WQX)(Ci),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,e.WQX)(lo,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,e.WQX)(Qs,{optional:!0}),this.eventsSubscription=new S.y,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:de=>{this.console.warn(de)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const de=this.navigationTransitions.events.subscribe(Se=>{try{const et=this.navigationTransitions.currentTransition,mt=this.navigationTransitions.currentNavigation;if(null!==et&&null!==mt)if(this.stateManager.handleRouterEvent(Se,mt),Se instanceof vi&&Se.code!==Pn.Redirect&&Se.code!==Pn.SupersededByNewNavigation)this.navigated=!0;else if(Se instanceof Qt)this.navigated=!0;else if(Se instanceof cr){const Ut=Se.navigationBehaviorOptions,fn=this.urlHandlingStrategy.merge(Se.url,et.currentRawUrl),rn={browserUrl:et.extras.browserUrl,info:et.extras.info,skipLocationChange:et.extras.skipLocationChange,replaceUrl:et.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Oo(et.source),...Ut};this.scheduleNavigation(fn,Z,null,rn,{resolve:et.resolve,reject:et.reject,promise:et.promise})}(function Ws(le){return!(le instanceof lr||le instanceof cr)})(Se)&&this._events.next(Se)}catch(et){this.navigationTransitions.transitionAbortSubject.next(et)}});this.eventsSubscription.add(de)}resetRootComponentType(de){this.routerState.root.component=de,this.navigationTransitions.rootComponentType=de}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Z,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((de,Se)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(de,"popstate",Se)},0)})}navigateToSyncWithBrowser(de,Se,et){const mt={replaceUrl:!0},Ut=et?.navigationId?et:null;if(et){const rn={...et};delete rn.navigationId,delete rn.\u0275routerPageId,0!==Object.keys(rn).length&&(mt.state=rn)}const fn=this.parseUrl(de);this.scheduleNavigation(fn,Se,Ut,mt)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(de){this.config=de.map(Ii),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(de,Se={}){const{relativeTo:et,queryParams:mt,fragment:Ut,queryParamsHandling:fn,preserveFragment:rn}=Se,pn=rn?this.currentUrlTree.fragment:Ut;let mi,qn=null;switch(fn){case"merge":qn={...this.currentUrlTree.queryParams,...mt};break;case"preserve":qn=this.currentUrlTree.queryParams;break;default:qn=mt||null}null!==qn&&(qn=this.removeEmptyProps(qn));try{mi=vn(et?et.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof de[0]||"/"!==de[0][0])&&(de=[]),mi=this.currentUrlTree.root}return wn(mi,de,qn,pn??null)}navigateByUrl(de,Se={skipLocationChange:!1}){const et=At(de)?de:this.parseUrl(de),mt=this.urlHandlingStrategy.merge(et,this.rawUrlTree);return this.scheduleNavigation(mt,Z,null,Se)}navigate(de,Se={skipLocationChange:!1}){return function Mn(le){for(let Ce=0;Ce<le.length;Ce++)if(null==le[Ce])throw new e.wOt(4008,!1)}(de),this.navigateByUrl(this.createUrlTree(de,Se),Se)}serializeUrl(de){return this.urlSerializer.serialize(de)}parseUrl(de){try{return this.urlSerializer.parse(de)}catch{return this.urlSerializer.parse("/")}}isActive(de,Se){let et;if(et=!0===Se?{...ha}:!1===Se?{...Ks}:Se,At(de))return ue(this.currentUrlTree,de,et);const mt=this.parseUrl(de);return ue(this.currentUrlTree,mt,et)}removeEmptyProps(de){return Object.entries(de).reduce((Se,[et,mt])=>(null!=mt&&(Se[et]=mt),Se),{})}scheduleNavigation(de,Se,et,mt,Ut){if(this.disposed)return Promise.resolve(!1);let fn,rn,pn;Ut?(fn=Ut.resolve,rn=Ut.reject,pn=Ut.promise):pn=new Promise((mi,ro)=>{fn=mi,rn=ro});const qn=this.pendingTasks.add();return ua(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(qn))}),this.navigationTransitions.handleNavigationRequest({source:Se,restoredState:et,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:de,extras:mt,resolve:fn,reject:rn,promise:pn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),pn.catch(mi=>Promise.reject(mi))}static#e=this.\u0275fac=function(Se){return new(Se||le)};static#t=this.\u0275prov=e.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})(),Wl=(()=>{class le{constructor(de,Se,et,mt,Ut,fn){this.router=de,this.route=Se,this.tabIndexAttribute=et,this.renderer=mt,this.el=Ut,this.locationStrategy=fn,this.href=null,this.onChanges=new O.B7,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const rn=Ut.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===rn||"area"===rn,this.isAnchorElement?this.subscription=de.events.subscribe(pn=>{pn instanceof Qt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(de){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",de)}ngOnChanges(de){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(de){null==de?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=At(de)||Array.isArray(de)?de:[de],this.setTabIndexIfNotOnNativeEl("0"))}onClick(de,Se,et,mt,Ut){const fn=this.urlTree;return!!(null===fn||this.isAnchorElement&&(0!==de||Se||et||mt||Ut||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(fn,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const de=this.urlTree;this.href=null!==de&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(de)):null;const Se=null===this.href?null:(0,e.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",Se)}applyAttributeValue(de,Se){const et=this.renderer,mt=this.el.nativeElement;null!==Se?et.setAttribute(mt,de,Se):et.removeAttribute(mt,de)}get urlTree(){return null===this.routerLinkInput?null:At(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(Se){return new(Se||le)(e.rXU(Ho),e.rXU(Vs),e.kS0("tabindex"),e.rXU(e.sFG),e.rXU(e.aKT),e.rXU(P.hb))};static#t=this.\u0275dir=e.FsC({type:le,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(Se,et){1&Se&&e.bIt("click",function(Ut){return et.onClick(Ut.button,Ut.ctrlKey,Ut.shiftKey,Ut.altKey,Ut.metaKey)}),2&Se&&e.BMQ("target",et.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",e.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",e.L39],replaceUrl:[2,"replaceUrl","replaceUrl",e.L39],routerLink:"routerLink"},standalone:!0,features:[e.GFd,e.OA$]})}return le})(),cl=(()=>{class le{get isActive(){return this._isActive}constructor(de,Se,et,mt,Ut){this.router=de,this.element=Se,this.renderer=et,this.cdr=mt,this.link=Ut,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new e.bkB,this.routerEventsSubscription=de.events.subscribe(fn=>{fn instanceof Qt&&this.update()})}ngAfterContentInit(){(0,h.of)(this.links.changes,(0,h.of)(null)).pipe((0,Xe.U)()).subscribe(de=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const de=[...this.links.toArray(),this.link].filter(Se=>!!Se).map(Se=>Se.onChanges);this.linkInputChangesSubscription=(0,l.H)(de).pipe((0,Xe.U)()).subscribe(Se=>{this._isActive!==this.isLinkActive(this.router)(Se)&&this.update()})}set routerLinkActive(de){const Se=Array.isArray(de)?de:de.split(" ");this.classes=Se.filter(et=>!!et)}ngOnChanges(de){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const de=this.hasActiveLinks();this.classes.forEach(Se=>{de?this.renderer.addClass(this.element.nativeElement,Se):this.renderer.removeClass(this.element.nativeElement,Se)}),de&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==de&&(this._isActive=de,this.cdr.markForCheck(),this.isActiveChange.emit(de))})}isLinkActive(de){const Se=function Yf(le){return!!le.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return et=>{const mt=et.urlTree;return!!mt&&de.isActive(mt,Se)}}hasActiveLinks(){const de=this.isLinkActive(this.router);return this.link&&de(this.link)||this.links.some(de)}static#e=this.\u0275fac=function(Se){return new(Se||le)(e.rXU(Ho),e.rXU(e.aKT),e.rXU(e.sFG),e.rXU(e.gRc),e.rXU(Wl,8))};static#t=this.\u0275dir=e.FsC({type:le,selectors:[["","routerLinkActive",""]],contentQueries:function(Se,et,mt){if(1&Se&&e.wni(mt,Wl,5),2&Se){let Ut;e.mGM(Ut=e.lsd())&&(et.links=Ut)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[e.OA$]})}return le})();class Yo{}let Fa=(()=>{class le{constructor(de,Se,et,mt,Ut){this.router=de,this.injector=et,this.preloadingStrategy=mt,this.loader=Ut}setUpPreloading(){this.subscription=this.router.events.pipe((0,_.p)(de=>de instanceof Qt),(0,A.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(de,Se){const et=[];for(const mt of Se){mt.providers&&!mt._injector&&(mt._injector=(0,e.Ol2)(mt.providers,de,`Route: ${mt.path}`));const Ut=mt._injector??de,fn=mt._loadedInjector??Ut;(mt.loadChildren&&!mt._loadedRoutes&&void 0===mt.canLoad||mt.loadComponent&&!mt._loadedComponent)&&et.push(this.preloadConfig(Ut,mt)),(mt.children||mt._loadedRoutes)&&et.push(this.processRoutes(fn,mt.children??mt._loadedRoutes))}return(0,l.H)(et).pipe((0,Xe.U)())}preloadConfig(de,Se){return this.preloadingStrategy.preload(Se,()=>{let et;et=Se.loadChildren&&void 0===Se.canLoad?this.loader.loadChildren(de,Se):(0,h.of)(null);const mt=et.pipe((0,C.ZZ)(Ut=>null===Ut?(0,h.of)(void 0):(Se._loadedRoutes=Ut.routes,Se._loadedInjector=Ut.injector,this.processRoutes(Ut.injector??de,Ut.routes))));if(Se.loadComponent&&!Se._loadedComponent){const Ut=this.loader.loadComponent(Se);return(0,l.H)([mt,Ut]).pipe((0,Xe.U)())}return mt})}static#e=this.\u0275fac=function(Se){return new(Se||le)(e.KVO(Ho),e.KVO(e.Ql9),e.KVO(e.uvJ),e.KVO(Yo),e.KVO(xo))};static#t=this.\u0275prov=e.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();const Jr=new e.nKC("");let ud=(()=>{class le{constructor(de,Se,et,mt,Ut={}){this.urlSerializer=de,this.transitions=Se,this.viewportScroller=et,this.zone=mt,this.options=Ut,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ut.scrollPositionRestoration||="disabled",Ut.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(de=>{de instanceof _t?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=de.navigationTrigger,this.restoredId=de.restoredState?de.restoredState.navigationId:0):de instanceof Qt?(this.lastId=de.id,this.scheduleScrollEvent(de,this.urlSerializer.parse(de.urlAfterRedirects).fragment)):de instanceof zi&&de.code===ui.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(de,this.urlSerializer.parse(de.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(de=>{de instanceof ar&&(de.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(de.position):de.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(de.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(de,Se){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ar(de,"popstate"===this.lastSource?this.store[this.restoredId]:null,Se))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(Se){e.QTQ()};static#t=this.\u0275prov=e.jDH({token:le,factory:le.\u0275fac})}return le})();function Na(le,Ce){return{\u0275kind:le,\u0275providers:Ce}}function ac(){const le=(0,e.WQX)(e.zZn);return Ce=>{const de=le.get(e.o8S);if(Ce!==de.components[0])return;const Se=le.get(Ho),et=le.get(so);1===le.get(Ji)&&Se.initialNavigation(),le.get(xc,null,e.$GK.Optional)?.setUpPreloading(),le.get(Jr,null,e.$GK.Optional)?.init(),Se.resetRootComponentType(de.componentTypes[0]),et.closed||(et.next(),et.complete(),et.unsubscribe())}}const so=new e.nKC("",{factory:()=>new O.B7}),Ji=new e.nKC("",{providedIn:"root",factory:()=>1}),xc=new e.nKC("");function cc(le){return Na(0,[{provide:xc,useExisting:Fa},{provide:Yo,useExisting:le}])}function Rc(le){return Na(9,[{provide:Ne,useValue:Kt},{provide:ot,useValue:{skipNextTransition:!!le?.skipInitialTransition,...le}}])}const Ba=new e.nKC("ROUTER_FORROOT_GUARD"),vh=[P.aZ,{provide:Wt,useClass:en},Ho,gs,{provide:Vs,useFactory:function hd(le){return le.routerState.root},deps:[Ho]},xo,[]];let er=(()=>{class le{constructor(de){}static forRoot(de,Se){return{ngModule:le,providers:[vh,[],{provide:lo,multi:!0,useValue:de},{provide:Ba,useFactory:fa,deps:[[Ho,new e.Xx1,new e.kdw]]},{provide:di,useValue:Se||{}},Se?.useHash?{provide:P.hb,useClass:P.fw}:{provide:P.hb,useClass:P.Sm},{provide:Jr,useFactory:()=>{const le=(0,e.WQX)(P.Xr),Ce=(0,e.WQX)(e.SKi),de=(0,e.WQX)(di),Se=(0,e.WQX)(Hn),et=(0,e.WQX)(Wt);return de.scrollOffset&&le.setOffset(de.scrollOffset),new ud(et,Se,le,Ce,de)}},Se?.preloadingStrategy?cc(Se.preloadingStrategy).\u0275providers:[],Se?.initialNavigation?tr(Se):[],Se?.bindToComponentInputs?Na(8,[Ra,{provide:Qs,useExisting:Ra}]).\u0275providers:[],Se?.enableViewTransitions?Rc().\u0275providers:[],[{provide:bh,useFactory:ac},{provide:e.iLQ,multi:!0,useExisting:bh}]]}}static forChild(de){return{ngModule:le,providers:[{provide:lo,multi:!0,useValue:de}]}}static#e=this.\u0275fac=function(Se){return new(Se||le)(e.KVO(Ba,8))};static#t=this.\u0275mod=e.$C({type:le});static#n=this.\u0275inj=e.G2t({})}return le})();function fa(le){return"guarded"}function tr(le){return["disabled"===le.initialNavigation?Na(3,[{provide:e.hnV,multi:!0,useFactory:()=>{const Ce=(0,e.WQX)(Ho);return()=>{Ce.setUpLocationChangeListener()}}},{provide:Ji,useValue:2}]).\u0275providers:[],"enabledBlocking"===le.initialNavigation?Na(2,[{provide:Ji,useValue:0},{provide:e.hnV,multi:!0,deps:[e.zZn],useFactory:Ce=>{const de=Ce.get(P.hj,Promise.resolve());return()=>de.then(()=>new Promise(Se=>{const et=Ce.get(Ho),mt=Ce.get(so);ua(et,()=>{Se(!0)}),Ce.get(Hn).afterPreactivation=()=>(Se(!0),mt.closed?(0,h.of)(void 0):mt),et.initialNavigation()}))}}]).\u0275providers:[]]}const bh=new e.nKC("")},1780:(gt,re,o)=>{"use strict";o.d(re,{D9:()=>te,Wr:()=>m,c$:()=>G,h:()=>ne});var e=o(3953),n=o(4421),l=o(8982),h=o(696),g=o(1639),p=o(9418),f=o(9493),b=o(8712),d=o(5006),y=o(3574),R=o(9090);class m{}let v=(()=>{class K extends m{getTranslation(j){return(0,n.of)({})}}return K.\u0275fac=(()=>{let k;return function(W){return(k||(k=e.xGo(K)))(W||K)}})(),K.\u0275prov=e.jDH({token:K,factory:K.\u0275fac}),K})();class O{}let S=(()=>{class K{handle(j){return j.key}}return K.\u0275fac=function(j){return new(j||K)},K.\u0275prov=e.jDH({token:K,factory:K.\u0275fac}),K})();function P(K,k){if(K===k)return!0;if(null===K||null===k)return!1;if(K!=K&&k!=k)return!0;let ie,ce,oe,j=typeof K;if(j==typeof k&&"object"==j){if(!Array.isArray(K)){if(Array.isArray(k))return!1;for(ce in oe=Object.create(null),K){if(!P(K[ce],k[ce]))return!1;oe[ce]=!0}for(ce in k)if(!(ce in oe)&&typeof k[ce]<"u")return!1;return!0}if(!Array.isArray(k))return!1;if((ie=K.length)==k.length){for(ce=0;ce<ie;ce++)if(!P(K[ce],k[ce]))return!1;return!0}}return!1}function M(K){return typeof K<"u"&&null!==K}function w(K){return K&&"object"==typeof K&&!Array.isArray(K)}function x(K,k){let j=Object.assign({},K);return w(K)&&w(k)&&Object.keys(k).forEach(W=>{w(k[W])?W in K?j[W]=x(K[W],k[W]):Object.assign(j,{[W]:k[W]}):Object.assign(j,{[W]:k[W]})}),j}class I{}let _=(()=>{class K extends I{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(j,W){let ie;return ie="string"==typeof j?this.interpolateString(j,W):"function"==typeof j?this.interpolateFunction(j,W):j,ie}getValue(j,W){let ie="string"==typeof W?W.split("."):[W];W="";do{W+=ie.shift(),!M(j)||!M(j[W])||"object"!=typeof j[W]&&ie.length?ie.length?W+=".":j=void 0:(j=j[W],W="")}while(ie.length);return j}interpolateFunction(j,W){return j(W)}interpolateString(j,W){return W?j.replace(this.templateMatcher,(ie,ce)=>{let oe=this.getValue(W,ce);return M(oe)?oe:ie}):j}}return K.\u0275fac=(()=>{let k;return function(W){return(k||(k=e.xGo(K)))(W||K)}})(),K.\u0275prov=e.jDH({token:K,factory:K.\u0275fac}),K})();class C{}let D=(()=>{class K extends C{compile(j,W){return j}compileTranslations(j,W){return j}}return K.\u0275fac=(()=>{let k;return function(W){return(k||(k=e.xGo(K)))(W||K)}})(),K.\u0275prov=e.jDH({token:K,factory:K.\u0275fac}),K})();class A{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new e.bkB,this.onLangChange=new e.bkB,this.onDefaultLangChange=new e.bkB}}const B=new e.nKC("USE_STORE"),F=new e.nKC("USE_DEFAULT_LANG"),$=new e.nKC("DEFAULT_LANGUAGE"),U=new e.nKC("USE_EXTEND");let G=(()=>{class K{constructor(j,W,ie,ce,oe,me=!0,he=!1,Oe=!1,we){this.store=j,this.currentLoader=W,this.compiler=ie,this.parser=ce,this.missingTranslationHandler=oe,this.useDefaultLang=me,this.isolate=he,this.extend=Oe,this.pending=!1,this._onTranslationChange=new e.bkB,this._onLangChange=new e.bkB,this._onDefaultLangChange=new e.bkB,this._langs=[],this._translations={},this._translationRequests={},we&&this.setDefaultLang(we)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(j){this.isolate?this._defaultLang=j:this.store.defaultLang=j}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(j){this.isolate?this._currentLang=j:this.store.currentLang=j}get langs(){return this.isolate?this._langs:this.store.langs}set langs(j){this.isolate?this._langs=j:this.store.langs=j}get translations(){return this.isolate?this._translations:this.store.translations}set translations(j){this.isolate?this._translations=j:this.store.translations=j}setDefaultLang(j){if(j===this.defaultLang)return;let W=this.retrieveTranslations(j);typeof W<"u"?(null==this.defaultLang&&(this.defaultLang=j),W.pipe((0,f.s)(1)).subscribe(ie=>{this.changeDefaultLang(j)})):this.changeDefaultLang(j)}getDefaultLang(){return this.defaultLang}use(j){if(j===this.currentLang)return(0,n.of)(this.translations[j]);let W=this.retrieveTranslations(j);return typeof W<"u"?(this.currentLang||(this.currentLang=j),W.pipe((0,f.s)(1)).subscribe(ie=>{this.changeLang(j)}),W):(this.changeLang(j),(0,n.of)(this.translations[j]))}retrieveTranslations(j){let W;return(typeof this.translations[j]>"u"||this.extend)&&(this._translationRequests[j]=this._translationRequests[j]||this.getTranslation(j),W=this._translationRequests[j]),W}getTranslation(j){this.pending=!0;const W=this.currentLoader.getTranslation(j).pipe((0,b.t)(1),(0,f.s)(1));return this.loadingTranslations=W.pipe((0,d.T)(ie=>this.compiler.compileTranslations(ie,j)),(0,b.t)(1),(0,f.s)(1)),this.loadingTranslations.subscribe({next:ie=>{this.translations[j]=this.extend&&this.translations[j]?{...ie,...this.translations[j]}:ie,this.updateLangs(),this.pending=!1},error:ie=>{this.pending=!1}}),W}setTranslation(j,W,ie=!1){W=this.compiler.compileTranslations(W,j),this.translations[j]=(ie||this.extend)&&this.translations[j]?x(this.translations[j],W):W,this.updateLangs(),this.onTranslationChange.emit({lang:j,translations:this.translations[j]})}getLangs(){return this.langs}addLangs(j){j.forEach(W=>{-1===this.langs.indexOf(W)&&this.langs.push(W)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(j,W,ie){let ce;if(W instanceof Array){let oe={},me=!1;for(let he of W)oe[he]=this.getParsedResult(j,he,ie),(0,l.A)(oe[he])&&(me=!0);if(me){const he=W.map(Oe=>(0,l.A)(oe[Oe])?oe[Oe]:(0,n.of)(oe[Oe]));return(0,h.p)(he).pipe((0,d.T)(Oe=>{let we={};return Oe.forEach((We,Xe)=>{we[W[Xe]]=We}),we}))}return oe}if(j&&(ce=this.parser.interpolate(this.parser.getValue(j,W),ie)),typeof ce>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(ce=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],W),ie)),typeof ce>"u"){let oe={key:W,translateService:this};typeof ie<"u"&&(oe.interpolateParams=ie),ce=this.missingTranslationHandler.handle(oe)}return typeof ce<"u"?ce:W}get(j,W){if(!M(j)||!j.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,y.H)(ie=>(ie=this.getParsedResult(ie,j,W),(0,l.A)(ie)?ie:(0,n.of)(ie))));{let ie=this.getParsedResult(this.translations[this.currentLang],j,W);return(0,l.A)(ie)?ie:(0,n.of)(ie)}}getStreamOnTranslationChange(j,W){if(!M(j)||!j.length)throw new Error('Parameter "key" required');return(0,g.x)((0,p.v)(()=>this.get(j,W)),this.onTranslationChange.pipe((0,R.n)(ie=>{const ce=this.getParsedResult(ie.translations,j,W);return"function"==typeof ce.subscribe?ce:(0,n.of)(ce)})))}stream(j,W){if(!M(j)||!j.length)throw new Error('Parameter "key" required');return(0,g.x)((0,p.v)(()=>this.get(j,W)),this.onLangChange.pipe((0,R.n)(ie=>{const ce=this.getParsedResult(ie.translations,j,W);return(0,l.A)(ce)?ce:(0,n.of)(ce)})))}instant(j,W){if(!M(j)||!j.length)throw new Error('Parameter "key" required');let ie=this.getParsedResult(this.translations[this.currentLang],j,W);if((0,l.A)(ie)){if(j instanceof Array){let ce={};return j.forEach((oe,me)=>{ce[j[me]]=j[me]}),ce}return j}return ie}set(j,W,ie=this.currentLang){this.translations[ie][j]=this.compiler.compile(W,ie),this.updateLangs(),this.onTranslationChange.emit({lang:ie,translations:this.translations[ie]})}changeLang(j){this.currentLang=j,this.onLangChange.emit({lang:j,translations:this.translations[j]}),null==this.defaultLang&&this.changeDefaultLang(j)}changeDefaultLang(j){this.defaultLang=j,this.onDefaultLangChange.emit({lang:j,translations:this.translations[j]})}reloadLang(j){return this.resetLang(j),this.getTranslation(j)}resetLang(j){this._translationRequests[j]=void 0,this.translations[j]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let j=window.navigator.languages?window.navigator.languages[0]:null;return j=j||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof j>"u"?void 0:(-1!==j.indexOf("-")&&(j=j.split("-")[0]),-1!==j.indexOf("_")&&(j=j.split("_")[0]),j)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let j=window.navigator.languages?window.navigator.languages[0]:null;return j=j||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,j}}return K.\u0275fac=function(j){return new(j||K)(e.KVO(A),e.KVO(m),e.KVO(C),e.KVO(I),e.KVO(O),e.KVO(F),e.KVO(B),e.KVO(U),e.KVO($))},K.\u0275prov=e.jDH({token:K,factory:K.\u0275fac}),K})(),te=(()=>{class K{constructor(j,W){this.translate=j,this._ref=W,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(j,W,ie){let ce=oe=>{this.value=void 0!==oe?oe:j,this.lastKey=j,this._ref.markForCheck()};if(ie){let oe=this.translate.getParsedResult(ie,j,W);(0,l.A)(oe.subscribe)?oe.subscribe(ce):ce(oe)}this.translate.get(j,W).subscribe(ce)}transform(j,...W){if(!j||!j.length)return j;if(P(j,this.lastKey)&&P(W,this.lastParams))return this.value;let ie;if(M(W[0])&&W.length)if("string"==typeof W[0]&&W[0].length){let ce=W[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{ie=JSON.parse(ce)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${W[0]}`)}}else"object"==typeof W[0]&&!Array.isArray(W[0])&&(ie=W[0]);return this.lastKey=j,this.lastParams=W,this.updateValue(j,ie),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(ce=>{this.lastKey&&ce.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(j,ie,ce.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(ce=>{this.lastKey&&(this.lastKey=null,this.updateValue(j,ie,ce.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(j,ie))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return K.\u0275fac=function(j){return new(j||K)(e.rXU(G,16),e.rXU(e.gRc,16))},K.\u0275pipe=e.EJ8({name:"translate",type:K,pure:!1}),K.\u0275prov=e.jDH({token:K,factory:K.\u0275fac}),K})(),ne=(()=>{class K{static forRoot(j={}){return{ngModule:K,providers:[j.loader||{provide:m,useClass:v},j.compiler||{provide:C,useClass:D},j.parser||{provide:I,useClass:_},j.missingTranslationHandler||{provide:O,useClass:S},A,{provide:B,useValue:j.isolate},{provide:F,useValue:j.useDefaultLang},{provide:U,useValue:j.extend},{provide:$,useValue:j.defaultLanguage},G]}}static forChild(j={}){return{ngModule:K,providers:[j.loader||{provide:m,useClass:v},j.compiler||{provide:C,useClass:D},j.parser||{provide:I,useClass:_},j.missingTranslationHandler||{provide:O,useClass:S},{provide:B,useValue:j.isolate},{provide:F,useValue:j.useDefaultLang},{provide:U,useValue:j.extend},{provide:$,useValue:j.defaultLanguage},G]}}}return K.\u0275fac=function(j){return new(j||K)},K.\u0275mod=e.$C({type:K}),K.\u0275inj=e.G2t({}),K})()},1666:(gt,re,o)=>{"use strict";o.d(re,{q:()=>n});let e={};function n(){return e}},6708:(gt,re,o)=>{"use strict";function e(n){return l=>{const g=(n?Math[n]:Math.trunc)(l);return 0===g?0:g}}o.d(re,{u:()=>e})},5872:(gt,re,o)=>{"use strict";o.d(re,{G:()=>n});var e=o(4273);function n(l){const h=(0,e.a)(l),g=new Date(Date.UTC(h.getFullYear(),h.getMonth(),h.getDate(),h.getHours(),h.getMinutes(),h.getSeconds(),h.getMilliseconds()));return g.setUTCFullYear(h.getFullYear()),+l-+g}},9015:(gt,re,o)=>{"use strict";o.d(re,{W:()=>g});var e=o(906),n=o(5458),l=o(7729),h=o(4273);function g(f,b){const{years:d=0,months:y=0,weeks:R=0,days:m=0,hours:v=0,minutes:O=0,seconds:S=0}=b,P=(0,h.a)(f),M=y||d?(0,n.P)(P,y+12*d):P,w=m||R?(0,e.f)(M,m+7*R):M,_=1e3*(S+60*(O+60*v));return(0,l.w)(f,w.getTime()+_)}},906:(gt,re,o)=>{"use strict";o.d(re,{f:()=>l});var e=o(4273),n=o(7729);function l(g,p){const f=(0,e.a)(g);return isNaN(p)?(0,n.w)(g,NaN):(p&&f.setDate(f.getDate()+p),f)}},3368:(gt,re,o)=>{"use strict";o.d(re,{L:()=>l});var e=o(1113),n=o(9857);function l(g,p){return(0,e.A)(g,p*n.s0)}},1113:(gt,re,o)=>{"use strict";o.d(re,{A:()=>l});var e=o(4273),n=o(7729);function l(g,p){const f=+(0,e.a)(g);return(0,n.w)(g,f+p)}},7926:(gt,re,o)=>{"use strict";o.d(re,{z:()=>l});var e=o(1113),n=o(9857);function l(g,p){return(0,e.A)(g,p*n.Cg)}},5458:(gt,re,o)=>{"use strict";o.d(re,{P:()=>l});var e=o(4273),n=o(7729);function l(g,p){const f=(0,e.a)(g);if(isNaN(p))return(0,n.w)(g,NaN);if(!p)return f;const b=f.getDate(),d=(0,n.w)(g,f.getTime());return d.setMonth(f.getMonth()+p+1,0),b>=d.getDate()?d:(f.setFullYear(d.getFullYear(),d.getMonth(),b),f)}},6299:(gt,re,o)=>{"use strict";o.d(re,{e:()=>n});var e=o(5458);function n(h,g){return(0,e.P)(h,12*g)}},9857:(gt,re,o)=>{"use strict";o.d(re,{Cg:()=>f,F6:()=>m,Nw:()=>R,my:()=>g,s0:()=>b,w4:()=>p}),Math.pow(10,8);const g=6048e5,p=864e5,f=6e4,b=36e5,R=43200,m=1440},7729:(gt,re,o)=>{"use strict";function e(l,h){return l instanceof Date?new l.constructor(h):new Date(h)}o.d(re,{w:()=>e})},129:(gt,re,o)=>{"use strict";o.d(re,{m:()=>h});var e=o(9857),n=o(3601),l=o(5872);function h(p,f){const b=(0,n.o)(p),d=(0,n.o)(f),y=+b-(0,l.G)(b),R=+d-(0,l.G)(d);return Math.round((y-R)/e.w4)}},4415:(gt,re,o)=>{"use strict";o.d(re,{c:()=>l});var e=o(129),n=o(4273);function l(p,f){const b=(0,n.a)(p),d=(0,n.a)(f),y=h(b,d),R=Math.abs((0,e.m)(b,d));b.setDate(b.getDate()-y*R);const v=y*(R-+(h(b,d)===-y));return 0===v?0:v}function h(p,f){const b=p.getFullYear()-f.getFullYear()||p.getMonth()-f.getMonth()||p.getDate()-f.getDate()||p.getHours()-f.getHours()||p.getMinutes()-f.getMinutes()||p.getSeconds()-f.getSeconds()||p.getMilliseconds()-f.getMilliseconds();return b<0?-1:b>0?1:b}},4812:(gt,re,o)=>{"use strict";o.d(re,{b:()=>n});var e=o(4273);function n(h,g){return+(0,e.a)(h)-+(0,e.a)(g)}},2037:(gt,re,o)=>{"use strict";o.d(re,{o:()=>h});var e=o(6708),n=o(9857),l=o(4812);function h(p,f,b){const d=(0,l.b)(p,f)/n.Cg;return(0,e.u)(b?.roundingMethod)(d)}},4512:(gt,re,o)=>{"use strict";o.d(re,{D:()=>n});var e=o(4273);function n(h){const g=(0,e.a)(h);return g.setHours(23,59,59,999),g}},350:(gt,re,o)=>{"use strict";o.d(re,{V:()=>n});var e=o(4273);function n(h){const g=(0,e.a)(h);return g.setSeconds(59,999),g}},4361:(gt,re,o)=>{"use strict";o.d(re,{GP:()=>tt});var e=o(3501),n=o(1666),l=o(129),h=o(4273),g=o(7729);var y=o(9857),R=o(7793);function m(yt){return(0,R.k)(yt,{weekStartsOn:1})}function O(yt){const Le=(0,h.a)(yt),De=Le.getFullYear(),V=(0,g.w)(yt,0);V.setFullYear(De+1,0,4),V.setHours(0,0,0,0);const ue=m(V),Q=(0,g.w)(yt,0);Q.setFullYear(De,0,4),Q.setHours(0,0,0,0);const Te=m(Q);return Le.getTime()>=ue.getTime()?De+1:Le.getTime()>=Te.getTime()?De:De-1}function I(yt,Le){const De=(0,h.a)(yt),V=De.getFullYear(),ue=(0,n.q)(),Q=Le?.firstWeekContainsDate??Le?.locale?.options?.firstWeekContainsDate??ue.firstWeekContainsDate??ue.locale?.options?.firstWeekContainsDate??1,Te=(0,g.w)(yt,0);Te.setFullYear(V+1,0,Q),Te.setHours(0,0,0,0);const Je=(0,R.k)(Te,Le),Nt=(0,g.w)(yt,0);Nt.setFullYear(V,0,Q),Nt.setHours(0,0,0,0);const qt=(0,R.k)(Nt,Le);return De.getTime()>=Je.getTime()?V+1:De.getTime()>=qt.getTime()?V:V-1}function F(yt,Le){return(yt<0?"-":"")+Math.abs(yt).toString().padStart(Le,"0")}const $={y(yt,Le){const De=yt.getFullYear(),V=De>0?De:1-De;return F("yy"===Le?V%100:V,Le.length)},M(yt,Le){const De=yt.getMonth();return"M"===Le?String(De+1):F(De+1,2)},d:(yt,Le)=>F(yt.getDate(),Le.length),a(yt,Le){const De=yt.getHours()/12>=1?"pm":"am";switch(Le){case"a":case"aa":return De.toUpperCase();case"aaa":return De;case"aaaaa":return De[0];default:return"am"===De?"a.m.":"p.m."}},h:(yt,Le)=>F(yt.getHours()%12||12,Le.length),H:(yt,Le)=>F(yt.getHours(),Le.length),m:(yt,Le)=>F(yt.getMinutes(),Le.length),s:(yt,Le)=>F(yt.getSeconds(),Le.length),S(yt,Le){const De=Le.length,V=yt.getMilliseconds();return F(Math.trunc(V*Math.pow(10,De-3)),Le.length)}},G={G:function(yt,Le,De){const V=yt.getFullYear()>0?1:0;switch(Le){case"G":case"GG":case"GGG":return De.era(V,{width:"abbreviated"});case"GGGGG":return De.era(V,{width:"narrow"});default:return De.era(V,{width:"wide"})}},y:function(yt,Le,De){if("yo"===Le){const V=yt.getFullYear();return De.ordinalNumber(V>0?V:1-V,{unit:"year"})}return $.y(yt,Le)},Y:function(yt,Le,De,V){const ue=I(yt,V),Q=ue>0?ue:1-ue;return"YY"===Le?F(Q%100,2):"Yo"===Le?De.ordinalNumber(Q,{unit:"year"}):F(Q,Le.length)},R:function(yt,Le){return F(O(yt),Le.length)},u:function(yt,Le){return F(yt.getFullYear(),Le.length)},Q:function(yt,Le,De){const V=Math.ceil((yt.getMonth()+1)/3);switch(Le){case"Q":return String(V);case"QQ":return F(V,2);case"Qo":return De.ordinalNumber(V,{unit:"quarter"});case"QQQ":return De.quarter(V,{width:"abbreviated",context:"formatting"});case"QQQQQ":return De.quarter(V,{width:"narrow",context:"formatting"});default:return De.quarter(V,{width:"wide",context:"formatting"})}},q:function(yt,Le,De){const V=Math.ceil((yt.getMonth()+1)/3);switch(Le){case"q":return String(V);case"qq":return F(V,2);case"qo":return De.ordinalNumber(V,{unit:"quarter"});case"qqq":return De.quarter(V,{width:"abbreviated",context:"standalone"});case"qqqqq":return De.quarter(V,{width:"narrow",context:"standalone"});default:return De.quarter(V,{width:"wide",context:"standalone"})}},M:function(yt,Le,De){const V=yt.getMonth();switch(Le){case"M":case"MM":return $.M(yt,Le);case"Mo":return De.ordinalNumber(V+1,{unit:"month"});case"MMM":return De.month(V,{width:"abbreviated",context:"formatting"});case"MMMMM":return De.month(V,{width:"narrow",context:"formatting"});default:return De.month(V,{width:"wide",context:"formatting"})}},L:function(yt,Le,De){const V=yt.getMonth();switch(Le){case"L":return String(V+1);case"LL":return F(V+1,2);case"Lo":return De.ordinalNumber(V+1,{unit:"month"});case"LLL":return De.month(V,{width:"abbreviated",context:"standalone"});case"LLLLL":return De.month(V,{width:"narrow",context:"standalone"});default:return De.month(V,{width:"wide",context:"standalone"})}},w:function(yt,Le,De,V){const ue=function A(yt,Le){const De=(0,h.a)(yt),V=+(0,R.k)(De,Le)-+function C(yt,Le){const De=(0,n.q)(),V=Le?.firstWeekContainsDate??Le?.locale?.options?.firstWeekContainsDate??De.firstWeekContainsDate??De.locale?.options?.firstWeekContainsDate??1,ue=I(yt,Le),Q=(0,g.w)(yt,0);return Q.setFullYear(ue,0,V),Q.setHours(0,0,0,0),(0,R.k)(Q,Le)}(De,Le);return Math.round(V/y.my)+1}(yt,V);return"wo"===Le?De.ordinalNumber(ue,{unit:"week"}):F(ue,Le.length)},I:function(yt,Le,De){const V=function w(yt){const Le=(0,h.a)(yt),De=+m(Le)-+function P(yt){const Le=O(yt),De=(0,g.w)(yt,0);return De.setFullYear(Le,0,4),De.setHours(0,0,0,0),m(De)}(Le);return Math.round(De/y.my)+1}(yt);return"Io"===Le?De.ordinalNumber(V,{unit:"week"}):F(V,Le.length)},d:function(yt,Le,De){return"do"===Le?De.ordinalNumber(yt.getDate(),{unit:"date"}):$.d(yt,Le)},D:function(yt,Le,De){const V=function b(yt){const Le=(0,h.a)(yt);return(0,l.m)(Le,function p(yt){const Le=(0,h.a)(yt),De=(0,g.w)(yt,0);return De.setFullYear(Le.getFullYear(),0,1),De.setHours(0,0,0,0),De}(Le))+1}(yt);return"Do"===Le?De.ordinalNumber(V,{unit:"dayOfYear"}):F(V,Le.length)},E:function(yt,Le,De){const V=yt.getDay();switch(Le){case"E":case"EE":case"EEE":return De.day(V,{width:"abbreviated",context:"formatting"});case"EEEEE":return De.day(V,{width:"narrow",context:"formatting"});case"EEEEEE":return De.day(V,{width:"short",context:"formatting"});default:return De.day(V,{width:"wide",context:"formatting"})}},e:function(yt,Le,De,V){const ue=yt.getDay(),Q=(ue-V.weekStartsOn+8)%7||7;switch(Le){case"e":return String(Q);case"ee":return F(Q,2);case"eo":return De.ordinalNumber(Q,{unit:"day"});case"eee":return De.day(ue,{width:"abbreviated",context:"formatting"});case"eeeee":return De.day(ue,{width:"narrow",context:"formatting"});case"eeeeee":return De.day(ue,{width:"short",context:"formatting"});default:return De.day(ue,{width:"wide",context:"formatting"})}},c:function(yt,Le,De,V){const ue=yt.getDay(),Q=(ue-V.weekStartsOn+8)%7||7;switch(Le){case"c":return String(Q);case"cc":return F(Q,Le.length);case"co":return De.ordinalNumber(Q,{unit:"day"});case"ccc":return De.day(ue,{width:"abbreviated",context:"standalone"});case"ccccc":return De.day(ue,{width:"narrow",context:"standalone"});case"cccccc":return De.day(ue,{width:"short",context:"standalone"});default:return De.day(ue,{width:"wide",context:"standalone"})}},i:function(yt,Le,De){const V=yt.getDay(),ue=0===V?7:V;switch(Le){case"i":return String(ue);case"ii":return F(ue,Le.length);case"io":return De.ordinalNumber(ue,{unit:"day"});case"iii":return De.day(V,{width:"abbreviated",context:"formatting"});case"iiiii":return De.day(V,{width:"narrow",context:"formatting"});case"iiiiii":return De.day(V,{width:"short",context:"formatting"});default:return De.day(V,{width:"wide",context:"formatting"})}},a:function(yt,Le,De){const ue=yt.getHours()/12>=1?"pm":"am";switch(Le){case"a":case"aa":return De.dayPeriod(ue,{width:"abbreviated",context:"formatting"});case"aaa":return De.dayPeriod(ue,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return De.dayPeriod(ue,{width:"narrow",context:"formatting"});default:return De.dayPeriod(ue,{width:"wide",context:"formatting"})}},b:function(yt,Le,De){const V=yt.getHours();let ue;switch(ue=12===V?"noon":0===V?"midnight":V/12>=1?"pm":"am",Le){case"b":case"bb":return De.dayPeriod(ue,{width:"abbreviated",context:"formatting"});case"bbb":return De.dayPeriod(ue,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return De.dayPeriod(ue,{width:"narrow",context:"formatting"});default:return De.dayPeriod(ue,{width:"wide",context:"formatting"})}},B:function(yt,Le,De){const V=yt.getHours();let ue;switch(ue=V>=17?"evening":V>=12?"afternoon":V>=4?"morning":"night",Le){case"B":case"BB":case"BBB":return De.dayPeriod(ue,{width:"abbreviated",context:"formatting"});case"BBBBB":return De.dayPeriod(ue,{width:"narrow",context:"formatting"});default:return De.dayPeriod(ue,{width:"wide",context:"formatting"})}},h:function(yt,Le,De){if("ho"===Le){let V=yt.getHours()%12;return 0===V&&(V=12),De.ordinalNumber(V,{unit:"hour"})}return $.h(yt,Le)},H:function(yt,Le,De){return"Ho"===Le?De.ordinalNumber(yt.getHours(),{unit:"hour"}):$.H(yt,Le)},K:function(yt,Le,De){const V=yt.getHours()%12;return"Ko"===Le?De.ordinalNumber(V,{unit:"hour"}):F(V,Le.length)},k:function(yt,Le,De){let V=yt.getHours();return 0===V&&(V=24),"ko"===Le?De.ordinalNumber(V,{unit:"hour"}):F(V,Le.length)},m:function(yt,Le,De){return"mo"===Le?De.ordinalNumber(yt.getMinutes(),{unit:"minute"}):$.m(yt,Le)},s:function(yt,Le,De){return"so"===Le?De.ordinalNumber(yt.getSeconds(),{unit:"second"}):$.s(yt,Le)},S:function(yt,Le){return $.S(yt,Le)},X:function(yt,Le,De){const V=yt.getTimezoneOffset();if(0===V)return"Z";switch(Le){case"X":return te(V);case"XXXX":case"XX":return ne(V);default:return ne(V,":")}},x:function(yt,Le,De){const V=yt.getTimezoneOffset();switch(Le){case"x":return te(V);case"xxxx":case"xx":return ne(V);default:return ne(V,":")}},O:function(yt,Le,De){const V=yt.getTimezoneOffset();switch(Le){case"O":case"OO":case"OOO":return"GMT"+J(V,":");default:return"GMT"+ne(V,":")}},z:function(yt,Le,De){const V=yt.getTimezoneOffset();switch(Le){case"z":case"zz":case"zzz":return"GMT"+J(V,":");default:return"GMT"+ne(V,":")}},t:function(yt,Le,De){return F(Math.trunc(yt.getTime()/1e3),Le.length)},T:function(yt,Le,De){return F(yt.getTime(),Le.length)}};function J(yt,Le=""){const De=yt>0?"-":"+",V=Math.abs(yt),ue=Math.trunc(V/60),Q=V%60;return 0===Q?De+String(ue):De+String(ue)+Le+F(Q,2)}function te(yt,Le){return yt%60==0?(yt>0?"-":"+")+F(Math.abs(yt)/60,2):ne(yt,Le)}function ne(yt,Le=""){const De=yt>0?"-":"+",V=Math.abs(yt);return De+F(Math.trunc(V/60),2)+Le+F(V%60,2)}const K=(yt,Le)=>{switch(yt){case"P":return Le.date({width:"short"});case"PP":return Le.date({width:"medium"});case"PPP":return Le.date({width:"long"});default:return Le.date({width:"full"})}},k=(yt,Le)=>{switch(yt){case"p":return Le.time({width:"short"});case"pp":return Le.time({width:"medium"});case"ppp":return Le.time({width:"long"});default:return Le.time({width:"full"})}},W={p:k,P:(yt,Le)=>{const De=yt.match(/(P+)(p+)?/)||[],V=De[1],ue=De[2];if(!ue)return K(yt,Le);let Q;switch(V){case"P":Q=Le.dateTime({width:"short"});break;case"PP":Q=Le.dateTime({width:"medium"});break;case"PPP":Q=Le.dateTime({width:"long"});break;default:Q=Le.dateTime({width:"full"})}return Q.replace("{{date}}",K(V,Le)).replace("{{time}}",k(ue,Le))}},ie=/^D+$/,ce=/^Y+$/,oe=["D","DD","YY","YYYY"];const pe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ee=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ge=/^'([^]*?)'?$/,Qe=/''/g,$e=/[a-zA-Z]/;function tt(yt,Le,De){const V=(0,n.q)(),ue=De?.locale??V.locale??e.c,Q=De?.firstWeekContainsDate??De?.locale?.options?.firstWeekContainsDate??V.firstWeekContainsDate??V.locale?.options?.firstWeekContainsDate??1,Te=De?.weekStartsOn??De?.locale?.options?.weekStartsOn??V.weekStartsOn??V.locale?.options?.weekStartsOn??0,Je=(0,h.a)(yt);if(!function Me(yt){if(!function We(yt){return yt instanceof Date||"object"==typeof yt&&"[object Date]"===Object.prototype.toString.call(yt)}(yt)&&"number"!=typeof yt)return!1;const Le=(0,h.a)(yt);return!isNaN(Number(Le))}(Je))throw new RangeError("Invalid time value");let Nt=Le.match(Ee).map(hn=>{const wt=hn[0];return"p"===wt||"P"===wt?(0,W[wt])(hn,ue.formatLong):hn}).join("").match(pe).map(hn=>{if("''"===hn)return{isToken:!1,value:"'"};const wt=hn[0];if("'"===wt)return{isToken:!1,value:xt(hn)};if(G[wt])return{isToken:!0,value:hn};if(wt.match($e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+wt+"`");return{isToken:!1,value:hn}});ue.localize.preprocessor&&(Nt=ue.localize.preprocessor(Je,Nt));const qt={firstWeekContainsDate:Q,weekStartsOn:Te,locale:ue};return Nt.map(hn=>{if(!hn.isToken)return hn.value;const wt=hn.value;return(!De?.useAdditionalWeekYearTokens&&function he(yt){return ce.test(yt)}(wt)||!De?.useAdditionalDayOfYearTokens&&function me(yt){return ie.test(yt)}(wt))&&function Oe(yt,Le,De){const V=function we(yt,Le,De){const V="Y"===yt[0]?"years":"days of the month";return`Use \`${yt.toLowerCase()}\` instead of \`${yt}\` (in \`${Le}\`) for formatting ${V} to the input \`${De}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(yt,Le,De);if(console.warn(V),oe.includes(yt))throw new RangeError(V)}(wt,Le,String(yt)),(0,G[wt[0]])(Je,wt,ue.localize,qt)}).join("")}function xt(yt){const Le=yt.match(Ge);return Le?Le[1].replace(Qe,"'"):yt}},6863:(gt,re,o)=>{"use strict";o.d(re,{m:()=>F});var e=o(7729),h=o(4273);function g(U,G){const J=(0,h.a)(U),te=(0,h.a)(G),ne=J.getTime()-te.getTime();return ne<0?-1:ne>0?1:ne}var f=o(9857),y=o(4512);function S(U,G){const J=(0,h.a)(U),te=(0,h.a)(G),ne=g(J,te),K=Math.abs(function b(U,G){const J=(0,h.a)(U),te=(0,h.a)(G);return 12*(J.getFullYear()-te.getFullYear())+(J.getMonth()-te.getMonth())}(J,te));let k;if(K<1)k=0;else{1===J.getMonth()&&J.getDate()>27&&J.setDate(30),J.setMonth(J.getMonth()-ne*K);let j=g(J,te)===-ne;(function v(U){const G=(0,h.a)(U);return+(0,y.D)(G)==+function R(U){const G=(0,h.a)(U),J=G.getMonth();return G.setFullYear(G.getFullYear(),J+1,0),G.setHours(23,59,59,999),G}(G)})((0,h.a)(U))&&1===K&&1===g(U,te)&&(j=!1),k=ne*(K-Number(j))}return 0===k?0:k}var M=o(6708),w=o(4812),_=o(3501),C=o(1666),D=o(5872);function F(U,G){return function A(U,G,J){const te=(0,C.q)(),ne=J?.locale??te.locale??_.c,k=g(U,G);if(isNaN(k))throw new RangeError("Invalid time value");const j=Object.assign({},J,{addSuffix:J?.addSuffix,comparison:k});let W,ie;k>0?(W=(0,h.a)(G),ie=(0,h.a)(U)):(W=(0,h.a)(U),ie=(0,h.a)(G));const ce=function x(U,G,J){const te=(0,w.b)(U,G)/1e3;return(0,M.u)(J?.roundingMethod)(te)}(ie,W),oe=((0,D.G)(ie)-(0,D.G)(W))/1e3,me=Math.round((ce-oe)/60);let he;if(me<2)return J?.includeSeconds?ce<5?ne.formatDistance("lessThanXSeconds",5,j):ce<10?ne.formatDistance("lessThanXSeconds",10,j):ce<20?ne.formatDistance("lessThanXSeconds",20,j):ce<40?ne.formatDistance("halfAMinute",0,j):ne.formatDistance(ce<60?"lessThanXMinutes":"xMinutes",1,j):0===me?ne.formatDistance("lessThanXMinutes",1,j):ne.formatDistance("xMinutes",me,j);if(me<45)return ne.formatDistance("xMinutes",me,j);if(me<90)return ne.formatDistance("aboutXHours",1,j);if(me<f.F6){const Oe=Math.round(me/60);return ne.formatDistance("aboutXHours",Oe,j)}if(me<2520)return ne.formatDistance("xDays",1,j);if(me<f.Nw){const Oe=Math.round(me/f.F6);return ne.formatDistance("xDays",Oe,j)}if(me<2*f.Nw)return he=Math.round(me/f.Nw),ne.formatDistance("aboutXMonths",he,j);if(he=S(ie,W),he<12){const Oe=Math.round(me/f.Nw);return ne.formatDistance("xMonths",Oe,j)}{const Oe=he%12,we=Math.trunc(he/12);return Oe<3?ne.formatDistance("aboutXYears",we,j):Oe<9?ne.formatDistance("overXYears",we,j):ne.formatDistance("almostXYears",we+1,j)}}(U,function n(U){return(0,e.w)(U,Date.now())}(U),G)}},2659:(gt,re,o)=>{"use strict";o.d(re,{a:()=>h});var e=o(3501),n=o(1666);const l=["years","months","weeks","days","hours","minutes","seconds"];function h(p,f){const b=(0,n.q)(),d=f?.locale??b.locale??e.c,y=f?.format??l,R=f?.zero??!1,m=f?.delimiter??" ";return d.formatDistance?y.reduce((O,S)=>{const P=`x${S.replace(/(^.)/,w=>w.toUpperCase())}`,M=p[S];return void 0!==M&&(R||p[S])?O.concat(d.formatDistance(P,M)):O},[]).join(m):""}},5987:(gt,re,o)=>{"use strict";o.d(re,{_:()=>n});var e=o(4273);function n(h){return Math.trunc(+(0,e.a)(h)/1e3)}},9824:(gt,re,o)=>{"use strict";o.d(re,{d:()=>n});var e=o(4273);function n(h,g){const p=(0,e.a)(h),f=(0,e.a)(g);return p.getTime()>f.getTime()}},9255:(gt,re,o)=>{"use strict";o.d(re,{Y:()=>n});var e=o(4273);function n(h,g){return+(0,e.a)(h)<+(0,e.a)(g)}},5818:(gt,re,o)=>{"use strict";o.d(re,{r:()=>n});var e=o(3601);function n(h,g){return+(0,e.o)(h)==+(0,e.o)(g)}},7518:(gt,re,o)=>{"use strict";o.d(re,{t:()=>n});var e=o(4273);function n(h,g){const p=(0,e.a)(h),f=(0,e.a)(g);return p.getFullYear()===f.getFullYear()&&p.getMonth()===f.getMonth()}},3501:(gt,re,o)=>{"use strict";o.d(re,{c:()=>W});const e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function l(ce){return(oe={})=>{const me=oe.width?String(oe.width):ce.defaultWidth;return ce.formats[me]||ce.formats[ce.defaultWidth]}}const f={date:l({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:l({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:l({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},b={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function y(ce){return(oe,me)=>{let Oe;if("formatting"===(me?.context?String(me.context):"standalone")&&ce.formattingValues){const We=ce.defaultFormattingWidth||ce.defaultWidth,Xe=me?.width?String(me.width):We;Oe=ce.formattingValues[Xe]||ce.formattingValues[We]}else{const We=ce.defaultWidth,Xe=me?.width?String(me.width):ce.defaultWidth;Oe=ce.values[Xe]||ce.values[We]}return Oe[ce.argumentCallback?ce.argumentCallback(oe):oe]}}function x(ce){return(oe,me={})=>{const he=me.width,we=oe.match(he&&ce.matchPatterns[he]||ce.matchPatterns[ce.defaultMatchWidth]);if(!we)return null;const We=we[0],Xe=he&&ce.parsePatterns[he]||ce.parsePatterns[ce.defaultParseWidth],Me=Array.isArray(Xe)?function _(ce,oe){for(let me=0;me<ce.length;me++)if(oe(ce[me]))return me}(Xe,Ee=>Ee.test(We)):function I(ce,oe){for(const me in ce)if(Object.prototype.hasOwnProperty.call(ce,me)&&oe(ce[me]))return me}(Xe,Ee=>Ee.test(We));let ge;return ge=ce.valueCallback?ce.valueCallback(Me):Me,ge=me.valueCallback?me.valueCallback(ge):ge,{value:ge,rest:oe.slice(We.length)}}}const W={code:"en-US",formatDistance:(ce,oe,me)=>{let he;const Oe=e[ce];return he="string"==typeof Oe?Oe:1===oe?Oe.one:Oe.other.replace("{{count}}",oe.toString()),me?.addSuffix?me.comparison&&me.comparison>0?"in "+he:he+" ago":he},formatLong:f,formatRelative:(ce,oe,me,he)=>b[ce],localize:{ordinalNumber:(ce,oe)=>{const me=Number(ce),he=me%100;if(he>20||he<10)switch(he%10){case 1:return me+"st";case 2:return me+"nd";case 3:return me+"rd"}return me+"th"},era:y({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:y({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:ce=>ce-1}),month:y({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:y({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:y({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function C(ce){return(oe,me={})=>{const he=oe.match(ce.matchPattern);if(!he)return null;const Oe=he[0],we=oe.match(ce.parsePattern);if(!we)return null;let We=ce.valueCallback?ce.valueCallback(we[0]):we[0];return We=me.valueCallback?me.valueCallback(We):We,{value:We,rest:oe.slice(Oe.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:ce=>parseInt(ce,10)}),era:x({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:x({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:ce=>ce+1}),month:x({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:x({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:x({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}}},9548:(gt,re,o)=>{"use strict";o.d(re,{X:()=>h});var e=o(6708),n=o(7729),l=o(4273);function h(p,f){const b=f?.nearestTo??1;if(b<1||b>30)return(0,n.w)(p,NaN);const d=(0,l.a)(p),y=d.getSeconds()/60,R=d.getMilliseconds()/1e3/60,m=d.getMinutes()+y+R,S=(0,e.u)(f?.roundingMethod??"round")(m/b)*b,P=(0,n.w)(p,d);return P.setMinutes(S,0,0),P}},1406:(gt,re,o)=>{"use strict";o.d(re,{h:()=>h});var e=o(7729),n=o(2596),l=o(4273);function h(p,f){let b=(0,l.a)(p);return isNaN(+b)?(0,e.w)(p,NaN):(null!=f.year&&b.setFullYear(f.year),null!=f.month&&(b=(0,n.Z)(b,f.month)),null!=f.date&&b.setDate(f.date),null!=f.hours&&b.setHours(f.hours),null!=f.minutes&&b.setMinutes(f.minutes),null!=f.seconds&&b.setSeconds(f.seconds),null!=f.milliseconds&&b.setMilliseconds(f.milliseconds),b)}},5611:(gt,re,o)=>{"use strict";o.d(re,{a:()=>n});var e=o(4273);function n(h,g){const p=(0,e.a)(h);return p.setHours(g),p}},2596:(gt,re,o)=>{"use strict";o.d(re,{Z:()=>g});var e=o(7729),n=o(4273);function g(f,b){const d=(0,n.a)(f),y=d.getFullYear(),R=d.getDate(),m=(0,e.w)(f,0);m.setFullYear(y,b,15),m.setHours(0,0,0,0);const v=function l(f){const b=(0,n.a)(f),d=b.getFullYear(),y=b.getMonth(),R=(0,e.w)(f,0);return R.setFullYear(d,y+1,0),R.setHours(0,0,0,0),R.getDate()}(m);return d.setMonth(b,Math.min(R,v)),d}},3601:(gt,re,o)=>{"use strict";o.d(re,{o:()=>n});var e=o(4273);function n(h){const g=(0,e.a)(h);return g.setHours(0,0,0,0),g}},2357:(gt,re,o)=>{"use strict";o.d(re,{c:()=>n});var e=o(4273);function n(h){const g=(0,e.a)(h);return g.setSeconds(0,0),g}},9497:(gt,re,o)=>{"use strict";o.d(re,{w:()=>n});var e=o(4273);function n(h){const g=(0,e.a)(h);return g.setDate(1),g.setHours(0,0,0,0),g}},7793:(gt,re,o)=>{"use strict";o.d(re,{k:()=>l});var e=o(4273),n=o(1666);function l(g,p){const f=(0,n.q)(),b=p?.weekStartsOn??p?.locale?.options?.weekStartsOn??f.weekStartsOn??f.locale?.options?.weekStartsOn??0,d=(0,e.a)(g),y=d.getDay(),R=(y<b?7:0)+y-b;return d.setDate(d.getDate()-R),d.setHours(0,0,0,0),d}},3901:(gt,re,o)=>{"use strict";o.d(re,{O:()=>n});var e=o(3368);function n(h,g){return(0,e.L)(h,-g)}},4273:(gt,re,o)=>{"use strict";function e(l){const h=Object.prototype.toString.call(l);return l instanceof Date||"object"==typeof l&&"[object Date]"===h?new l.constructor(+l):"number"==typeof l||"[object Number]"===h||"string"==typeof l||"[object String]"===h?new Date(l):new Date(NaN)}o.d(re,{a:()=>e})},222:(gt,re,o)=>{"use strict";o.d(re,{qg:()=>ae,xI:()=>_n});let n={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function l(vt){n=vt}const h=/[&<>"']/,g=new RegExp(h.source,"g"),p=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,f=new RegExp(p.source,"g"),b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},d=vt=>b[vt];function y(vt,Ue){if(Ue){if(h.test(vt))return vt.replace(g,d)}else if(p.test(vt))return vt.replace(f,d);return vt}const R=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,v=/(^|[^\[])\^/g;function O(vt,Ue){let Pe="string"==typeof vt?vt:vt.source;Ue=Ue||"";const Ke={replace:(Ie,Ze)=>{let nt="string"==typeof Ze?Ze:Ze.source;return nt=nt.replace(v,"$1"),Pe=Pe.replace(Ie,nt),Ke},getRegex:()=>new RegExp(Pe,Ue)};return Ke}function S(vt){try{vt=encodeURI(vt).replace(/%25/g,"%")}catch{return null}return vt}const P={exec:()=>null};function M(vt,Ue){const Ke=vt.replace(/\|/g,(Ze,nt,Lt)=>{let jt=!1,Dt=nt;for(;--Dt>=0&&"\\"===Lt[Dt];)jt=!jt;return jt?"|":" |"}).split(/ \|/);let Ie=0;if(Ke[0].trim()||Ke.shift(),Ke.length>0&&!Ke[Ke.length-1].trim()&&Ke.pop(),Ue)if(Ke.length>Ue)Ke.splice(Ue);else for(;Ke.length<Ue;)Ke.push("");for(;Ie<Ke.length;Ie++)Ke[Ie]=Ke[Ie].trim().replace(/\\\|/g,"|");return Ke}function w(vt,Ue,Pe){const Ke=vt.length;if(0===Ke)return"";let Ie=0;for(;Ie<Ke;){const Ze=vt.charAt(Ke-Ie-1);if(Ze!==Ue||Pe){if(Ze===Ue||!Pe)break;Ie++}else Ie++}return vt.slice(0,Ke-Ie)}function I(vt,Ue,Pe,Ke){const Ie=Ue.href,Ze=Ue.title?y(Ue.title):null,nt=vt[1].replace(/\\([\[\]])/g,"$1");if("!"!==vt[0].charAt(0)){Ke.state.inLink=!0;const Lt={type:"link",raw:Pe,href:Ie,title:Ze,text:nt,tokens:Ke.inlineTokens(nt)};return Ke.state.inLink=!1,Lt}return{type:"image",raw:Pe,href:Ie,title:Ze,text:y(nt)}}class C{options;rules;lexer;constructor(Ue){this.options=Ue||n}space(Ue){const Pe=this.rules.block.newline.exec(Ue);if(Pe&&Pe[0].length>0)return{type:"space",raw:Pe[0]}}code(Ue){const Pe=this.rules.block.code.exec(Ue);if(Pe){const Ke=Pe[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:Pe[0],codeBlockStyle:"indented",text:this.options.pedantic?Ke:w(Ke,"\n")}}}fences(Ue){const Pe=this.rules.block.fences.exec(Ue);if(Pe){const Ke=Pe[0],Ie=function _(vt,Ue){const Pe=vt.match(/^(\s+)(?:```)/);if(null===Pe)return Ue;const Ke=Pe[1];return Ue.split("\n").map(Ie=>{const Ze=Ie.match(/^\s+/);if(null===Ze)return Ie;const[nt]=Ze;return nt.length>=Ke.length?Ie.slice(Ke.length):Ie}).join("\n")}(Ke,Pe[3]||"");return{type:"code",raw:Ke,lang:Pe[2]?Pe[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):Pe[2],text:Ie}}}heading(Ue){const Pe=this.rules.block.heading.exec(Ue);if(Pe){let Ke=Pe[2].trim();if(/#$/.test(Ke)){const Ie=w(Ke,"#");(this.options.pedantic||!Ie||/ $/.test(Ie))&&(Ke=Ie.trim())}return{type:"heading",raw:Pe[0],depth:Pe[1].length,text:Ke,tokens:this.lexer.inline(Ke)}}}hr(Ue){const Pe=this.rules.block.hr.exec(Ue);if(Pe)return{type:"hr",raw:w(Pe[0],"\n")}}blockquote(Ue){const Pe=this.rules.block.blockquote.exec(Ue);if(Pe){let Ke=w(Pe[0],"\n").split("\n"),Ie="",Ze="";const nt=[];for(;Ke.length>0;){let Lt=!1;const jt=[];let Dt;for(Dt=0;Dt<Ke.length;Dt++)if(/^ {0,3}>/.test(Ke[Dt]))jt.push(Ke[Dt]),Lt=!0;else{if(Lt)break;jt.push(Ke[Dt])}Ke=Ke.slice(Dt);const nn=jt.join("\n"),Tt=nn.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,"\n    $1").replace(/^ {0,3}>[ \t]?/gm,"");Ie=Ie?`${Ie}\n${nn}`:nn,Ze=Ze?`${Ze}\n${Tt}`:Tt;const It=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(Tt,nt,!0),this.lexer.state.top=It,0===Ke.length)break;const Gt=nt[nt.length-1];if("code"===Gt?.type)break;if("blockquote"===Gt?.type){const At=Gt,tn=At.raw+"\n"+Ke.join("\n"),vn=this.blockquote(tn);nt[nt.length-1]=vn,Ie=Ie.substring(0,Ie.length-At.raw.length)+vn.raw,Ze=Ze.substring(0,Ze.length-At.text.length)+vn.text;break}if("list"!==Gt?.type);else{const At=Gt,tn=At.raw+"\n"+Ke.join("\n"),vn=this.list(tn);nt[nt.length-1]=vn,Ie=Ie.substring(0,Ie.length-Gt.raw.length)+vn.raw,Ze=Ze.substring(0,Ze.length-At.raw.length)+vn.raw,Ke=tn.substring(nt[nt.length-1].raw.length).split("\n")}}return{type:"blockquote",raw:Ie,tokens:nt,text:Ze}}}list(Ue){let Pe=this.rules.block.list.exec(Ue);if(Pe){let Ke=Pe[1].trim();const Ie=Ke.length>1,Ze={type:"list",raw:"",ordered:Ie,start:Ie?+Ke.slice(0,-1):"",loose:!1,items:[]};Ke=Ie?`\\d{1,9}\\${Ke.slice(-1)}`:`\\${Ke}`,this.options.pedantic&&(Ke=Ie?Ke:"[*+-]");const nt=new RegExp(`^( {0,3}${Ke})((?:[\t ][^\\n]*)?(?:\\n|$))`);let Lt=!1;for(;Ue;){let jt=!1,Dt="",nn="";if(!(Pe=nt.exec(Ue))||this.rules.block.hr.test(Ue))break;Dt=Pe[0],Ue=Ue.substring(Dt.length);let Tt=Pe[2].split("\n",1)[0].replace(/^\t+/,wn=>" ".repeat(3*wn.length)),It=Ue.split("\n",1)[0],Gt=!Tt.trim(),At=0;if(this.options.pedantic?(At=2,nn=Tt.trimStart()):Gt?At=Pe[1].length+1:(At=Pe[2].search(/[^ ]/),At=At>4?1:At,nn=Tt.slice(At),At+=Pe[1].length),Gt&&/^ *$/.test(It)&&(Dt+=It+"\n",Ue=Ue.substring(It.length+1),jt=!0),!jt){const wn=new RegExp(`^ {0,${Math.min(3,At-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),ti=new RegExp(`^ {0,${Math.min(3,At-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Qn=new RegExp(`^ {0,${Math.min(3,At-1)}}(?:\`\`\`|~~~)`),bn=new RegExp(`^ {0,${Math.min(3,At-1)}}#`);for(;Ue;){const Jn=Ue.split("\n",1)[0];if(It=Jn,this.options.pedantic&&(It=It.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),Qn.test(It)||bn.test(It)||wn.test(It)||ti.test(Ue))break;if(It.search(/[^ ]/)>=At||!It.trim())nn+="\n"+It.slice(At);else{if(Gt||Tt.search(/[^ ]/)>=4||Qn.test(Tt)||bn.test(Tt)||ti.test(Tt))break;nn+="\n"+It}!Gt&&!It.trim()&&(Gt=!0),Dt+=Jn+"\n",Ue=Ue.substring(Jn.length+1),Tt=It.slice(At)}}Ze.loose||(Lt?Ze.loose=!0:/\n *\n *$/.test(Dt)&&(Lt=!0));let vn,tn=null;this.options.gfm&&(tn=/^\[[ xX]\] /.exec(nn),tn&&(vn="[ ] "!==tn[0],nn=nn.replace(/^\[[ xX]\] +/,""))),Ze.items.push({type:"list_item",raw:Dt,task:!!tn,checked:vn,loose:!1,text:nn,tokens:[]}),Ze.raw+=Dt}Ze.items[Ze.items.length-1].raw=Ze.items[Ze.items.length-1].raw.trimEnd(),Ze.items[Ze.items.length-1].text=Ze.items[Ze.items.length-1].text.trimEnd(),Ze.raw=Ze.raw.trimEnd();for(let jt=0;jt<Ze.items.length;jt++)if(this.lexer.state.top=!1,Ze.items[jt].tokens=this.lexer.blockTokens(Ze.items[jt].text,[]),!Ze.loose){const Dt=Ze.items[jt].tokens.filter(Tt=>"space"===Tt.type),nn=Dt.length>0&&Dt.some(Tt=>/\n.*\n/.test(Tt.raw));Ze.loose=nn}if(Ze.loose)for(let jt=0;jt<Ze.items.length;jt++)Ze.items[jt].loose=!0;return Ze}}html(Ue){const Pe=this.rules.block.html.exec(Ue);if(Pe)return{type:"html",block:!0,raw:Pe[0],pre:"pre"===Pe[1]||"script"===Pe[1]||"style"===Pe[1],text:Pe[0]}}def(Ue){const Pe=this.rules.block.def.exec(Ue);if(Pe){const Ke=Pe[1].toLowerCase().replace(/\s+/g," "),Ie=Pe[2]?Pe[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",Ze=Pe[3]?Pe[3].substring(1,Pe[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):Pe[3];return{type:"def",tag:Ke,raw:Pe[0],href:Ie,title:Ze}}}table(Ue){const Pe=this.rules.block.table.exec(Ue);if(!Pe||!/[:|]/.test(Pe[2]))return;const Ke=M(Pe[1]),Ie=Pe[2].replace(/^\||\| *$/g,"").split("|"),Ze=Pe[3]&&Pe[3].trim()?Pe[3].replace(/\n[ \t]*$/,"").split("\n"):[],nt={type:"table",raw:Pe[0],header:[],align:[],rows:[]};if(Ke.length===Ie.length){for(const Lt of Ie)/^ *-+: *$/.test(Lt)?nt.align.push("right"):/^ *:-+: *$/.test(Lt)?nt.align.push("center"):/^ *:-+ *$/.test(Lt)?nt.align.push("left"):nt.align.push(null);for(let Lt=0;Lt<Ke.length;Lt++)nt.header.push({text:Ke[Lt],tokens:this.lexer.inline(Ke[Lt]),header:!0,align:nt.align[Lt]});for(const Lt of Ze)nt.rows.push(M(Lt,nt.header.length).map((jt,Dt)=>({text:jt,tokens:this.lexer.inline(jt),header:!1,align:nt.align[Dt]})));return nt}}lheading(Ue){const Pe=this.rules.block.lheading.exec(Ue);if(Pe)return{type:"heading",raw:Pe[0],depth:"="===Pe[2].charAt(0)?1:2,text:Pe[1],tokens:this.lexer.inline(Pe[1])}}paragraph(Ue){const Pe=this.rules.block.paragraph.exec(Ue);if(Pe){const Ke="\n"===Pe[1].charAt(Pe[1].length-1)?Pe[1].slice(0,-1):Pe[1];return{type:"paragraph",raw:Pe[0],text:Ke,tokens:this.lexer.inline(Ke)}}}text(Ue){const Pe=this.rules.block.text.exec(Ue);if(Pe)return{type:"text",raw:Pe[0],text:Pe[0],tokens:this.lexer.inline(Pe[0])}}escape(Ue){const Pe=this.rules.inline.escape.exec(Ue);if(Pe)return{type:"escape",raw:Pe[0],text:y(Pe[1])}}tag(Ue){const Pe=this.rules.inline.tag.exec(Ue);if(Pe)return!this.lexer.state.inLink&&/^<a /i.test(Pe[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(Pe[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(Pe[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Pe[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:Pe[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:Pe[0]}}link(Ue){const Pe=this.rules.inline.link.exec(Ue);if(Pe){const Ke=Pe[2].trim();if(!this.options.pedantic&&/^</.test(Ke)){if(!/>$/.test(Ke))return;const nt=w(Ke.slice(0,-1),"\\");if((Ke.length-nt.length)%2==0)return}else{const nt=function x(vt,Ue){if(-1===vt.indexOf(Ue[1]))return-1;let Pe=0;for(let Ke=0;Ke<vt.length;Ke++)if("\\"===vt[Ke])Ke++;else if(vt[Ke]===Ue[0])Pe++;else if(vt[Ke]===Ue[1]&&(Pe--,Pe<0))return Ke;return-1}(Pe[2],"()");if(nt>-1){const jt=(0===Pe[0].indexOf("!")?5:4)+Pe[1].length+nt;Pe[2]=Pe[2].substring(0,nt),Pe[0]=Pe[0].substring(0,jt).trim(),Pe[3]=""}}let Ie=Pe[2],Ze="";if(this.options.pedantic){const nt=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Ie);nt&&(Ie=nt[1],Ze=nt[3])}else Ze=Pe[3]?Pe[3].slice(1,-1):"";return Ie=Ie.trim(),/^</.test(Ie)&&(Ie=this.options.pedantic&&!/>$/.test(Ke)?Ie.slice(1):Ie.slice(1,-1)),I(Pe,{href:Ie&&Ie.replace(this.rules.inline.anyPunctuation,"$1"),title:Ze&&Ze.replace(this.rules.inline.anyPunctuation,"$1")},Pe[0],this.lexer)}}reflink(Ue,Pe){let Ke;if((Ke=this.rules.inline.reflink.exec(Ue))||(Ke=this.rules.inline.nolink.exec(Ue))){const Ze=Pe[(Ke[2]||Ke[1]).replace(/\s+/g," ").toLowerCase()];if(!Ze){const nt=Ke[0].charAt(0);return{type:"text",raw:nt,text:nt}}return I(Ke,Ze,Ke[0],this.lexer)}}emStrong(Ue,Pe,Ke=""){let Ie=this.rules.inline.emStrongLDelim.exec(Ue);if(!(!Ie||Ie[3]&&Ke.match(/[\p{L}\p{N}]/u))&&(!Ie[1]&&!Ie[2]||!Ke||this.rules.inline.punctuation.exec(Ke))){const nt=[...Ie[0]].length-1;let Lt,jt,Dt=nt,nn=0;const Tt="*"===Ie[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(Tt.lastIndex=0,Pe=Pe.slice(-1*Ue.length+nt);null!=(Ie=Tt.exec(Pe));){if(Lt=Ie[1]||Ie[2]||Ie[3]||Ie[4]||Ie[5]||Ie[6],!Lt)continue;if(jt=[...Lt].length,Ie[3]||Ie[4]){Dt+=jt;continue}if((Ie[5]||Ie[6])&&nt%3&&!((nt+jt)%3)){nn+=jt;continue}if(Dt-=jt,Dt>0)continue;jt=Math.min(jt,jt+Dt+nn);const It=[...Ie[0]][0].length,Gt=Ue.slice(0,nt+Ie.index+It+jt);if(Math.min(nt,jt)%2){const tn=Gt.slice(1,-1);return{type:"em",raw:Gt,text:tn,tokens:this.lexer.inlineTokens(tn)}}const At=Gt.slice(2,-2);return{type:"strong",raw:Gt,text:At,tokens:this.lexer.inlineTokens(At)}}}}codespan(Ue){const Pe=this.rules.inline.code.exec(Ue);if(Pe){let Ke=Pe[2].replace(/\n/g," ");const Ie=/[^ ]/.test(Ke),Ze=/^ /.test(Ke)&&/ $/.test(Ke);return Ie&&Ze&&(Ke=Ke.substring(1,Ke.length-1)),Ke=y(Ke,!0),{type:"codespan",raw:Pe[0],text:Ke}}}br(Ue){const Pe=this.rules.inline.br.exec(Ue);if(Pe)return{type:"br",raw:Pe[0]}}del(Ue){const Pe=this.rules.inline.del.exec(Ue);if(Pe)return{type:"del",raw:Pe[0],text:Pe[2],tokens:this.lexer.inlineTokens(Pe[2])}}autolink(Ue){const Pe=this.rules.inline.autolink.exec(Ue);if(Pe){let Ke,Ie;return"@"===Pe[2]?(Ke=y(Pe[1]),Ie="mailto:"+Ke):(Ke=y(Pe[1]),Ie=Ke),{type:"link",raw:Pe[0],text:Ke,href:Ie,tokens:[{type:"text",raw:Ke,text:Ke}]}}}url(Ue){let Pe;if(Pe=this.rules.inline.url.exec(Ue)){let Ke,Ie;if("@"===Pe[2])Ke=y(Pe[0]),Ie="mailto:"+Ke;else{let Ze;do{Ze=Pe[0],Pe[0]=this.rules.inline._backpedal.exec(Pe[0])?.[0]??""}while(Ze!==Pe[0]);Ke=y(Pe[0]),Ie="www."===Pe[1]?"http://"+Pe[0]:Pe[0]}return{type:"link",raw:Pe[0],text:Ke,href:Ie,tokens:[{type:"text",raw:Ke,text:Ke}]}}}inlineText(Ue){const Pe=this.rules.inline.text.exec(Ue);if(Pe){let Ke;return Ke=this.lexer.state.inRawBlock?Pe[0]:y(Pe[0]),{type:"text",raw:Pe[0],text:Ke}}}}const F=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,U=/(?:[*+-]|\d{1,9}[.)])/,G=O(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,U).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),J=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,ne=/(?!\s*\])(?:\\.|[^\[\]\\])+/,K=O(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",ne).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),k=O(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,U).getRegex(),j="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",W=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,ie=O("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",W).replace("tag",j).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ce=O(J).replace("hr",F).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",j).getRegex(),me={blockquote:O(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",ce).getRegex(),code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,def:K,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:F,html:ie,lheading:G,list:k,newline:/^(?: *(?:\n|$))+/,paragraph:ce,table:P,text:/^[^\n]+/},he=O("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",F).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",j).getRegex(),Oe={...me,table:he,paragraph:O(J).replace("hr",F).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",he).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",j).getRegex()},we={...me,html:O("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",W).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:P,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:O(J).replace("hr",F).replace("heading"," *#{1,6} *[^\n]").replace("lheading",G).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},We=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Me=/^( {2,}|\\)\n(?!\s*$)/,pe="\\p{P}\\p{S}",Ee=O(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,pe).getRegex(),Qe=O(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,pe).getRegex(),$e=O("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,pe).getRegex(),tt=O("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,pe).getRegex(),xt=O(/\\([punct])/,"gu").replace(/punct/g,pe).getRegex(),Pt=O(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),yt=O(W).replace("(?:--\x3e|$)","--\x3e").getRegex(),Le=O("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",yt).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),De=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,V=O(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",De).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),ue=O(/^!?\[(label)\]\[(ref)\]/).replace("label",De).replace("ref",ne).getRegex(),Q=O(/^!?\[(ref)\](?:\[\])?/).replace("ref",ne).getRegex(),Je={_backpedal:P,anyPunctuation:xt,autolink:Pt,blockSkip:/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,br:Me,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:P,emStrongLDelim:Qe,emStrongRDelimAst:$e,emStrongRDelimUnd:tt,escape:We,link:V,nolink:Q,punctuation:Ee,reflink:ue,reflinkSearch:O("reflink|nolink(?!\\()","g").replace("reflink",ue).replace("nolink",Q).getRegex(),tag:Le,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:P},Nt={...Je,link:O(/^!?\[(label)\]\((.*?)\)/).replace("label",De).getRegex(),reflink:O(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",De).getRegex()},qt={...Je,escape:O(We).replace("])","~|])").getRegex(),url:O(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},hn={...qt,br:O(Me).replace("{2,}","*").getRegex(),text:O(qt.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},wt={normal:me,gfm:Oe,pedantic:we},Zt={normal:Je,gfm:qt,breaks:hn,pedantic:Nt};class ft{tokens;options;state;tokenizer;inlineQueue;constructor(Ue){this.tokens=[],this.tokens.links=Object.create(null),this.options=Ue||n,this.options.tokenizer=this.options.tokenizer||new C,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const Pe={block:wt.normal,inline:Zt.normal};this.options.pedantic?(Pe.block=wt.pedantic,Pe.inline=Zt.pedantic):this.options.gfm&&(Pe.block=wt.gfm,Pe.inline=this.options.breaks?Zt.breaks:Zt.gfm),this.tokenizer.rules=Pe}static get rules(){return{block:wt,inline:Zt}}static lex(Ue,Pe){return new ft(Pe).lex(Ue)}static lexInline(Ue,Pe){return new ft(Pe).inlineTokens(Ue)}lex(Ue){Ue=Ue.replace(/\r\n|\r/g,"\n"),this.blockTokens(Ue,this.tokens);for(let Pe=0;Pe<this.inlineQueue.length;Pe++){const Ke=this.inlineQueue[Pe];this.inlineTokens(Ke.src,Ke.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(Ue,Pe=[],Ke=!1){let Ie,Ze,nt;for(Ue=this.options.pedantic?Ue.replace(/\t/g,"    ").replace(/^ +$/gm,""):Ue.replace(/^( *)(\t+)/gm,(Lt,jt,Dt)=>jt+"    ".repeat(Dt.length));Ue;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(Lt=>!!(Ie=Lt.call({lexer:this},Ue,Pe))&&(Ue=Ue.substring(Ie.raw.length),Pe.push(Ie),!0)))){if(Ie=this.tokenizer.space(Ue)){Ue=Ue.substring(Ie.raw.length),1===Ie.raw.length&&Pe.length>0?Pe[Pe.length-1].raw+="\n":Pe.push(Ie);continue}if(Ie=this.tokenizer.code(Ue)){Ue=Ue.substring(Ie.raw.length),Ze=Pe[Pe.length-1],!Ze||"paragraph"!==Ze.type&&"text"!==Ze.type?Pe.push(Ie):(Ze.raw+="\n"+Ie.raw,Ze.text+="\n"+Ie.text,this.inlineQueue[this.inlineQueue.length-1].src=Ze.text);continue}if(Ie=this.tokenizer.fences(Ue)){Ue=Ue.substring(Ie.raw.length),Pe.push(Ie);continue}if(Ie=this.tokenizer.heading(Ue)){Ue=Ue.substring(Ie.raw.length),Pe.push(Ie);continue}if(Ie=this.tokenizer.hr(Ue)){Ue=Ue.substring(Ie.raw.length),Pe.push(Ie);continue}if(Ie=this.tokenizer.blockquote(Ue)){Ue=Ue.substring(Ie.raw.length),Pe.push(Ie);continue}if(Ie=this.tokenizer.list(Ue)){Ue=Ue.substring(Ie.raw.length),Pe.push(Ie);continue}if(Ie=this.tokenizer.html(Ue)){Ue=Ue.substring(Ie.raw.length),Pe.push(Ie);continue}if(Ie=this.tokenizer.def(Ue)){Ue=Ue.substring(Ie.raw.length),Ze=Pe[Pe.length-1],!Ze||"paragraph"!==Ze.type&&"text"!==Ze.type?this.tokens.links[Ie.tag]||(this.tokens.links[Ie.tag]={href:Ie.href,title:Ie.title}):(Ze.raw+="\n"+Ie.raw,Ze.text+="\n"+Ie.raw,this.inlineQueue[this.inlineQueue.length-1].src=Ze.text);continue}if(Ie=this.tokenizer.table(Ue)){Ue=Ue.substring(Ie.raw.length),Pe.push(Ie);continue}if(Ie=this.tokenizer.lheading(Ue)){Ue=Ue.substring(Ie.raw.length),Pe.push(Ie);continue}if(nt=Ue,this.options.extensions&&this.options.extensions.startBlock){let Lt=1/0;const jt=Ue.slice(1);let Dt;this.options.extensions.startBlock.forEach(nn=>{Dt=nn.call({lexer:this},jt),"number"==typeof Dt&&Dt>=0&&(Lt=Math.min(Lt,Dt))}),Lt<1/0&&Lt>=0&&(nt=Ue.substring(0,Lt+1))}if(this.state.top&&(Ie=this.tokenizer.paragraph(nt))){Ze=Pe[Pe.length-1],Ke&&"paragraph"===Ze?.type?(Ze.raw+="\n"+Ie.raw,Ze.text+="\n"+Ie.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Ze.text):Pe.push(Ie),Ke=nt.length!==Ue.length,Ue=Ue.substring(Ie.raw.length);continue}if(Ie=this.tokenizer.text(Ue)){Ue=Ue.substring(Ie.raw.length),Ze=Pe[Pe.length-1],Ze&&"text"===Ze.type?(Ze.raw+="\n"+Ie.raw,Ze.text+="\n"+Ie.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Ze.text):Pe.push(Ie);continue}if(Ue){const Lt="Infinite loop on byte: "+Ue.charCodeAt(0);if(this.options.silent){console.error(Lt);break}throw new Error(Lt)}}return this.state.top=!0,Pe}inline(Ue,Pe=[]){return this.inlineQueue.push({src:Ue,tokens:Pe}),Pe}inlineTokens(Ue,Pe=[]){let Ke,Ie,Ze,Lt,jt,Dt,nt=Ue;if(this.tokens.links){const nn=Object.keys(this.tokens.links);if(nn.length>0)for(;null!=(Lt=this.tokenizer.rules.inline.reflinkSearch.exec(nt));)nn.includes(Lt[0].slice(Lt[0].lastIndexOf("[")+1,-1))&&(nt=nt.slice(0,Lt.index)+"["+"a".repeat(Lt[0].length-2)+"]"+nt.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(Lt=this.tokenizer.rules.inline.blockSkip.exec(nt));)nt=nt.slice(0,Lt.index)+"["+"a".repeat(Lt[0].length-2)+"]"+nt.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(Lt=this.tokenizer.rules.inline.anyPunctuation.exec(nt));)nt=nt.slice(0,Lt.index)+"++"+nt.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;Ue;)if(jt||(Dt=""),jt=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(nn=>!!(Ke=nn.call({lexer:this},Ue,Pe))&&(Ue=Ue.substring(Ke.raw.length),Pe.push(Ke),!0)))){if(Ke=this.tokenizer.escape(Ue)){Ue=Ue.substring(Ke.raw.length),Pe.push(Ke);continue}if(Ke=this.tokenizer.tag(Ue)){Ue=Ue.substring(Ke.raw.length),Ie=Pe[Pe.length-1],Ie&&"text"===Ke.type&&"text"===Ie.type?(Ie.raw+=Ke.raw,Ie.text+=Ke.text):Pe.push(Ke);continue}if(Ke=this.tokenizer.link(Ue)){Ue=Ue.substring(Ke.raw.length),Pe.push(Ke);continue}if(Ke=this.tokenizer.reflink(Ue,this.tokens.links)){Ue=Ue.substring(Ke.raw.length),Ie=Pe[Pe.length-1],Ie&&"text"===Ke.type&&"text"===Ie.type?(Ie.raw+=Ke.raw,Ie.text+=Ke.text):Pe.push(Ke);continue}if(Ke=this.tokenizer.emStrong(Ue,nt,Dt)){Ue=Ue.substring(Ke.raw.length),Pe.push(Ke);continue}if(Ke=this.tokenizer.codespan(Ue)){Ue=Ue.substring(Ke.raw.length),Pe.push(Ke);continue}if(Ke=this.tokenizer.br(Ue)){Ue=Ue.substring(Ke.raw.length),Pe.push(Ke);continue}if(Ke=this.tokenizer.del(Ue)){Ue=Ue.substring(Ke.raw.length),Pe.push(Ke);continue}if(Ke=this.tokenizer.autolink(Ue)){Ue=Ue.substring(Ke.raw.length),Pe.push(Ke);continue}if(!this.state.inLink&&(Ke=this.tokenizer.url(Ue))){Ue=Ue.substring(Ke.raw.length),Pe.push(Ke);continue}if(Ze=Ue,this.options.extensions&&this.options.extensions.startInline){let nn=1/0;const Tt=Ue.slice(1);let It;this.options.extensions.startInline.forEach(Gt=>{It=Gt.call({lexer:this},Tt),"number"==typeof It&&It>=0&&(nn=Math.min(nn,It))}),nn<1/0&&nn>=0&&(Ze=Ue.substring(0,nn+1))}if(Ke=this.tokenizer.inlineText(Ze)){Ue=Ue.substring(Ke.raw.length),"_"!==Ke.raw.slice(-1)&&(Dt=Ke.raw.slice(-1)),jt=!0,Ie=Pe[Pe.length-1],Ie&&"text"===Ie.type?(Ie.raw+=Ke.raw,Ie.text+=Ke.text):Pe.push(Ke);continue}if(Ue){const nn="Infinite loop on byte: "+Ue.charCodeAt(0);if(this.options.silent){console.error(nn);break}throw new Error(nn)}}return Pe}}class lt{options;parser;constructor(Ue){this.options=Ue||n}space(Ue){return""}code({text:Ue,lang:Pe,escaped:Ke}){const Ie=(Pe||"").match(/^\S*/)?.[0],Ze=Ue.replace(/\n$/,"")+"\n";return Ie?'<pre><code class="language-'+y(Ie)+'">'+(Ke?Ze:y(Ze,!0))+"</code></pre>\n":"<pre><code>"+(Ke?Ze:y(Ze,!0))+"</code></pre>\n"}blockquote({tokens:Ue}){return`<blockquote>\n${this.parser.parse(Ue)}</blockquote>\n`}html({text:Ue}){return Ue}heading({tokens:Ue,depth:Pe}){return`<h${Pe}>${this.parser.parseInline(Ue)}</h${Pe}>\n`}hr(Ue){return"<hr>\n"}list(Ue){const Pe=Ue.ordered,Ke=Ue.start;let Ie="";for(let Lt=0;Lt<Ue.items.length;Lt++)Ie+=this.listitem(Ue.items[Lt]);const Ze=Pe?"ol":"ul";return"<"+Ze+(Pe&&1!==Ke?' start="'+Ke+'"':"")+">\n"+Ie+"</"+Ze+">\n"}listitem(Ue){let Pe="";if(Ue.task){const Ke=this.checkbox({checked:!!Ue.checked});Ue.loose?Ue.tokens.length>0&&"paragraph"===Ue.tokens[0].type?(Ue.tokens[0].text=Ke+" "+Ue.tokens[0].text,Ue.tokens[0].tokens&&Ue.tokens[0].tokens.length>0&&"text"===Ue.tokens[0].tokens[0].type&&(Ue.tokens[0].tokens[0].text=Ke+" "+Ue.tokens[0].tokens[0].text)):Ue.tokens.unshift({type:"text",raw:Ke+" ",text:Ke+" "}):Pe+=Ke+" "}return Pe+=this.parser.parse(Ue.tokens,!!Ue.loose),`<li>${Pe}</li>\n`}checkbox({checked:Ue}){return"<input "+(Ue?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:Ue}){return`<p>${this.parser.parseInline(Ue)}</p>\n`}table(Ue){let Pe="",Ke="";for(let Ze=0;Ze<Ue.header.length;Ze++)Ke+=this.tablecell(Ue.header[Ze]);Pe+=this.tablerow({text:Ke});let Ie="";for(let Ze=0;Ze<Ue.rows.length;Ze++){const nt=Ue.rows[Ze];Ke="";for(let Lt=0;Lt<nt.length;Lt++)Ke+=this.tablecell(nt[Lt]);Ie+=this.tablerow({text:Ke})}return Ie&&(Ie=`<tbody>${Ie}</tbody>`),"<table>\n<thead>\n"+Pe+"</thead>\n"+Ie+"</table>\n"}tablerow({text:Ue}){return`<tr>\n${Ue}</tr>\n`}tablecell(Ue){const Pe=this.parser.parseInline(Ue.tokens),Ke=Ue.header?"th":"td";return(Ue.align?`<${Ke} align="${Ue.align}">`:`<${Ke}>`)+Pe+`</${Ke}>\n`}strong({tokens:Ue}){return`<strong>${this.parser.parseInline(Ue)}</strong>`}em({tokens:Ue}){return`<em>${this.parser.parseInline(Ue)}</em>`}codespan({text:Ue}){return`<code>${Ue}</code>`}br(Ue){return"<br>"}del({tokens:Ue}){return`<del>${this.parser.parseInline(Ue)}</del>`}link({href:Ue,title:Pe,tokens:Ke}){const Ie=this.parser.parseInline(Ke),Ze=S(Ue);if(null===Ze)return Ie;let nt='<a href="'+(Ue=Ze)+'"';return Pe&&(nt+=' title="'+Pe+'"'),nt+=">"+Ie+"</a>",nt}image({href:Ue,title:Pe,text:Ke}){const Ie=S(Ue);if(null===Ie)return Ke;let Ze=`<img src="${Ue=Ie}" alt="${Ke}"`;return Pe&&(Ze+=` title="${Pe}"`),Ze+=">",Ze}text(Ue){return"tokens"in Ue&&Ue.tokens?this.parser.parseInline(Ue.tokens):Ue.text}}class Ft{strong({text:Ue}){return Ue}em({text:Ue}){return Ue}codespan({text:Ue}){return Ue}del({text:Ue}){return Ue}html({text:Ue}){return Ue}text({text:Ue}){return Ue}link({text:Ue}){return""+Ue}image({text:Ue}){return""+Ue}br(){return""}}class Ct{options;renderer;textRenderer;constructor(Ue){this.options=Ue||n,this.options.renderer=this.options.renderer||new lt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Ft}static parse(Ue,Pe){return new Ct(Pe).parse(Ue)}static parseInline(Ue,Pe){return new Ct(Pe).parseInline(Ue)}parse(Ue,Pe=!0){let Ke="";for(let Ie=0;Ie<Ue.length;Ie++){const Ze=Ue[Ie];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Ze.type]){const Lt=Ze,jt=this.options.extensions.renderers[Lt.type].call({parser:this},Lt);if(!1!==jt||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Lt.type)){Ke+=jt||"";continue}}const nt=Ze;switch(nt.type){case"space":Ke+=this.renderer.space(nt);continue;case"hr":Ke+=this.renderer.hr(nt);continue;case"heading":Ke+=this.renderer.heading(nt);continue;case"code":Ke+=this.renderer.code(nt);continue;case"table":Ke+=this.renderer.table(nt);continue;case"blockquote":Ke+=this.renderer.blockquote(nt);continue;case"list":Ke+=this.renderer.list(nt);continue;case"html":Ke+=this.renderer.html(nt);continue;case"paragraph":Ke+=this.renderer.paragraph(nt);continue;case"text":{let Lt=nt,jt=this.renderer.text(Lt);for(;Ie+1<Ue.length&&"text"===Ue[Ie+1].type;)Lt=Ue[++Ie],jt+="\n"+this.renderer.text(Lt);Ke+=Pe?this.renderer.paragraph({type:"paragraph",raw:jt,text:jt,tokens:[{type:"text",raw:jt,text:jt}]}):jt;continue}default:{const Lt='Token with "'+nt.type+'" type was not found.';if(this.options.silent)return console.error(Lt),"";throw new Error(Lt)}}}return Ke}parseInline(Ue,Pe){Pe=Pe||this.renderer;let Ke="";for(let Ie=0;Ie<Ue.length;Ie++){const Ze=Ue[Ie];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Ze.type]){const Lt=this.options.extensions.renderers[Ze.type].call({parser:this},Ze);if(!1!==Lt||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(Ze.type)){Ke+=Lt||"";continue}}const nt=Ze;switch(nt.type){case"escape":case"text":Ke+=Pe.text(nt);break;case"html":Ke+=Pe.html(nt);break;case"link":Ke+=Pe.link(nt);break;case"image":Ke+=Pe.image(nt);break;case"strong":Ke+=Pe.strong(nt);break;case"em":Ke+=Pe.em(nt);break;case"codespan":Ke+=Pe.codespan(nt);break;case"br":Ke+=Pe.br(nt);break;case"del":Ke+=Pe.del(nt);break;default:{const Lt='Token with "'+nt.type+'" type was not found.';if(this.options.silent)return console.error(Lt),"";throw new Error(Lt)}}}return Ke}}class Wt{options;constructor(Ue){this.options=Ue||n}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(Ue){return Ue}postprocess(Ue){return Ue}processAllTokens(Ue){return Ue}}const on=new class en{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.#t(ft.lex,Ct.parse);parseInline=this.#t(ft.lexInline,Ct.parseInline);Parser=Ct;Renderer=lt;TextRenderer=Ft;Lexer=ft;Tokenizer=C;Hooks=Wt;constructor(...Ue){this.use(...Ue)}walkTokens(Ue,Pe){let Ke=[];for(const Ie of Ue)switch(Ke=Ke.concat(Pe.call(this,Ie)),Ie.type){case"table":{const Ze=Ie;for(const nt of Ze.header)Ke=Ke.concat(this.walkTokens(nt.tokens,Pe));for(const nt of Ze.rows)for(const Lt of nt)Ke=Ke.concat(this.walkTokens(Lt.tokens,Pe));break}case"list":Ke=Ke.concat(this.walkTokens(Ie.items,Pe));break;default:{const Ze=Ie;this.defaults.extensions?.childTokens?.[Ze.type]?this.defaults.extensions.childTokens[Ze.type].forEach(nt=>{const Lt=Ze[nt].flat(1/0);Ke=Ke.concat(this.walkTokens(Lt,Pe))}):Ze.tokens&&(Ke=Ke.concat(this.walkTokens(Ze.tokens,Pe)))}}return Ke}use(...Ue){const Pe=this.defaults.extensions||{renderers:{},childTokens:{}};return Ue.forEach(Ke=>{const Ie={...Ke};if(Ie.async=this.defaults.async||Ie.async||!1,Ke.extensions&&(Ke.extensions.forEach(Ze=>{if(!Ze.name)throw new Error("extension name required");if("renderer"in Ze){const nt=Pe.renderers[Ze.name];Pe.renderers[Ze.name]=nt?function(...Lt){let jt=Ze.renderer.apply(this,Lt);return!1===jt&&(jt=nt.apply(this,Lt)),jt}:Ze.renderer}if("tokenizer"in Ze){if(!Ze.level||"block"!==Ze.level&&"inline"!==Ze.level)throw new Error("extension level must be 'block' or 'inline'");const nt=Pe[Ze.level];nt?nt.unshift(Ze.tokenizer):Pe[Ze.level]=[Ze.tokenizer],Ze.start&&("block"===Ze.level?Pe.startBlock?Pe.startBlock.push(Ze.start):Pe.startBlock=[Ze.start]:"inline"===Ze.level&&(Pe.startInline?Pe.startInline.push(Ze.start):Pe.startInline=[Ze.start]))}"childTokens"in Ze&&Ze.childTokens&&(Pe.childTokens[Ze.name]=Ze.childTokens)}),Ie.extensions=Pe),Ke.renderer){const Ze=this.defaults.renderer||new lt(this.defaults);for(const nt in Ke.renderer){if(!(nt in Ze))throw new Error(`renderer '${nt}' does not exist`);if(["options","parser"].includes(nt))continue;const Lt=nt;let jt=Ke.renderer[Lt];const Dt=Ze[Lt];Ze[Lt]=(...nn)=>{Ke.useNewRenderer||(jt=this.#e(jt,Lt,Ze));let Tt=jt.apply(Ze,nn);return!1===Tt&&(Tt=Dt.apply(Ze,nn)),Tt||""}}Ie.renderer=Ze}if(Ke.tokenizer){const Ze=this.defaults.tokenizer||new C(this.defaults);for(const nt in Ke.tokenizer){if(!(nt in Ze))throw new Error(`tokenizer '${nt}' does not exist`);if(["options","rules","lexer"].includes(nt))continue;const jt=Ke.tokenizer[nt],Dt=Ze[nt];Ze[nt]=(...nn)=>{let Tt=jt.apply(Ze,nn);return!1===Tt&&(Tt=Dt.apply(Ze,nn)),Tt}}Ie.tokenizer=Ze}if(Ke.hooks){const Ze=this.defaults.hooks||new Wt;for(const nt in Ke.hooks){if(!(nt in Ze))throw new Error(`hook '${nt}' does not exist`);if("options"===nt)continue;const jt=Ke.hooks[nt],Dt=Ze[nt];Ze[nt]=Wt.passThroughHooks.has(nt)?nn=>{if(this.defaults.async)return Promise.resolve(jt.call(Ze,nn)).then(It=>Dt.call(Ze,It));const Tt=jt.call(Ze,nn);return Dt.call(Ze,Tt)}:(...nn)=>{let Tt=jt.apply(Ze,nn);return!1===Tt&&(Tt=Dt.apply(Ze,nn)),Tt}}Ie.hooks=Ze}if(Ke.walkTokens){const Ze=this.defaults.walkTokens,nt=Ke.walkTokens;Ie.walkTokens=function(Lt){let jt=[];return jt.push(nt.call(this,Lt)),Ze&&(jt=jt.concat(Ze.call(this,Lt))),jt}}this.defaults={...this.defaults,...Ie}}),this}#e(Ue,Pe,Ke){switch(Pe){case"heading":return function(Ie){return Ie.type&&Ie.type===Pe?Ue.call(this,Ke.parser.parseInline(Ie.tokens),Ie.depth,function m(vt){return vt.replace(R,(Ue,Pe)=>"colon"===(Pe=Pe.toLowerCase())?":":"#"===Pe.charAt(0)?"x"===Pe.charAt(1)?String.fromCharCode(parseInt(Pe.substring(2),16)):String.fromCharCode(+Pe.substring(1)):"")}(Ke.parser.parseInline(Ie.tokens,Ke.parser.textRenderer))):Ue.apply(this,arguments)};case"code":return function(Ie){return Ie.type&&Ie.type===Pe?Ue.call(this,Ie.text,Ie.lang,!!Ie.escaped):Ue.apply(this,arguments)};case"table":return function(Ie){if(!Ie.type||Ie.type!==Pe)return Ue.apply(this,arguments);let Ze="",nt="";for(let jt=0;jt<Ie.header.length;jt++)nt+=this.tablecell({text:Ie.header[jt].text,tokens:Ie.header[jt].tokens,header:!0,align:Ie.align[jt]});Ze+=this.tablerow({text:nt});let Lt="";for(let jt=0;jt<Ie.rows.length;jt++){const Dt=Ie.rows[jt];nt="";for(let nn=0;nn<Dt.length;nn++)nt+=this.tablecell({text:Dt[nn].text,tokens:Dt[nn].tokens,header:!1,align:Ie.align[nn]});Lt+=this.tablerow({text:nt})}return Ue.call(this,Ze,Lt)};case"blockquote":return function(Ie){if(!Ie.type||Ie.type!==Pe)return Ue.apply(this,arguments);const Ze=this.parser.parse(Ie.tokens);return Ue.call(this,Ze)};case"list":return function(Ie){if(!Ie.type||Ie.type!==Pe)return Ue.apply(this,arguments);const Ze=Ie.ordered,nt=Ie.start,Lt=Ie.loose;let jt="";for(let Dt=0;Dt<Ie.items.length;Dt++){const nn=Ie.items[Dt],Tt=nn.checked,It=nn.task;let Gt="";if(nn.task){const At=this.checkbox({checked:!!Tt});Lt?nn.tokens.length>0&&"paragraph"===nn.tokens[0].type?(nn.tokens[0].text=At+" "+nn.tokens[0].text,nn.tokens[0].tokens&&nn.tokens[0].tokens.length>0&&"text"===nn.tokens[0].tokens[0].type&&(nn.tokens[0].tokens[0].text=At+" "+nn.tokens[0].tokens[0].text)):nn.tokens.unshift({type:"text",text:At+" "}):Gt+=At+" "}Gt+=this.parser.parse(nn.tokens,Lt),jt+=this.listitem({type:"list_item",raw:Gt,text:Gt,task:It,checked:!!Tt,loose:Lt,tokens:nn.tokens})}return Ue.call(this,jt,Ze,nt)};case"html":return function(Ie){return Ie.type&&Ie.type===Pe?Ue.call(this,Ie.text,Ie.block):Ue.apply(this,arguments)};case"paragraph":case"strong":case"em":case"del":return function(Ie){return Ie.type&&Ie.type===Pe?Ue.call(this,this.parser.parseInline(Ie.tokens)):Ue.apply(this,arguments)};case"escape":case"codespan":case"text":return function(Ie){return Ie.type&&Ie.type===Pe?Ue.call(this,Ie.text):Ue.apply(this,arguments)};case"link":return function(Ie){return Ie.type&&Ie.type===Pe?Ue.call(this,Ie.href,Ie.title,this.parser.parseInline(Ie.tokens)):Ue.apply(this,arguments)};case"image":return function(Ie){return Ie.type&&Ie.type===Pe?Ue.call(this,Ie.href,Ie.title,Ie.text):Ue.apply(this,arguments)}}return Ue}setOptions(Ue){return this.defaults={...this.defaults,...Ue},this}lexer(Ue,Pe){return ft.lex(Ue,Pe??this.defaults)}parser(Ue,Pe){return Ct.parse(Ue,Pe??this.defaults)}#t(Ue,Pe){return(Ke,Ie)=>{const Ze={...Ie},nt={...this.defaults,...Ze};!0===this.defaults.async&&!1===Ze.async&&(nt.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),nt.async=!0);const Lt=this.#n(!!nt.silent,!!nt.async);if(typeof Ke>"u"||null===Ke)return Lt(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof Ke)return Lt(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Ke)+", string expected"));if(nt.hooks&&(nt.hooks.options=nt),nt.async)return Promise.resolve(nt.hooks?nt.hooks.preprocess(Ke):Ke).then(jt=>Ue(jt,nt)).then(jt=>nt.hooks?nt.hooks.processAllTokens(jt):jt).then(jt=>nt.walkTokens?Promise.all(this.walkTokens(jt,nt.walkTokens)).then(()=>jt):jt).then(jt=>Pe(jt,nt)).then(jt=>nt.hooks?nt.hooks.postprocess(jt):jt).catch(Lt);try{nt.hooks&&(Ke=nt.hooks.preprocess(Ke));let jt=Ue(Ke,nt);nt.hooks&&(jt=nt.hooks.processAllTokens(jt)),nt.walkTokens&&this.walkTokens(jt,nt.walkTokens);let Dt=Pe(jt,nt);return nt.hooks&&(Dt=nt.hooks.postprocess(Dt)),Dt}catch(jt){return Lt(jt)}}}#n(Ue,Pe){return Ke=>{if(Ke.message+="\nPlease report this to https://github.com/markedjs/marked.",Ue){const Ie="<p>An error occurred:</p><pre>"+y(Ke.message+"",!0)+"</pre>";return Pe?Promise.resolve(Ie):Ie}if(Pe)return Promise.reject(Ke);throw Ke}}};function _n(vt,Ue){return on.parse(vt,Ue)}_n.options=_n.setOptions=function(vt){return on.setOptions(vt),l(_n.defaults=on.defaults),_n},_n.getDefaults=function e(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},_n.defaults=n,_n.use=function(...vt){return on.use(...vt),l(_n.defaults=on.defaults),_n},_n.walkTokens=function(vt,Ue){return on.walkTokens(vt,Ue)},_n.parseInline=on.parseInline,_n.Parser=Ct,_n.parser=Ct.parse,_n.Renderer=lt,_n.TextRenderer=Ft,_n.Lexer=ft,_n.lexer=ft.lex,_n.Tokenizer=C,_n.Hooks=Wt,_n.parse=_n;const ae=_n},467:(gt,re,o)=>{"use strict";function e(l,h,g,p,f,b,d){try{var y=l[b](d),R=y.value}catch(m){return void g(m)}y.done?h(R):Promise.resolve(R).then(p,f)}function n(l){return function(){var h=this,g=arguments;return new Promise(function(p,f){var b=l.apply(h,g);function d(R){e(b,p,f,d,y,"next",R)}function y(R){e(b,p,f,d,y,"throw",R)}d(void 0)})}}o.d(re,{A:()=>n})}},gt=>{gt(gt.s=5164)}]);