(self.webpackChunkplaceos=self.webpackChunkplaceos||[]).push([[592],{8997:(e,n,t)=>{"use strict";t.d(n,{ym:()=>r.y,rq:()=>m,r7:()=>l,ry:()=>h,Vh:()=>y});var r=t(648),a=t(6073),s=t(6925),i=t(1948),o=t(5090),c=t(6280);t(3206);var u=t(8774),d=t(804);const w=e=>{var n;return(null===(n=e.parent)||void 0===n?void 0:n.get("date"))&&(0,u.Z)(new Date,(0,d.Z)(e.parent.get("date").value,e.value))?{duration:!0}:null};function l(e){const n=new a.cw({id:new a.NI(e.id),host:new a.NI(e.host||"",[a.kI.required]),organiser:new a.NI(e.organiser||{},[a.kI.required]),creator:new a.NI(e.creator,[a.kI.required]),calendar:new a.NI(e.calendar),attendees:new a.NI(e.attendees||[]),resources:new a.NI(e.resources||[]),title:new a.NI(e.title,[a.kI.required]),body:new a.NI(e.body),private:new a.NI(e.private),date:new a.NI(e.date,[a.kI.required]),duration:new a.NI(e.duration,[w]),all_day:new a.NI(e.all_day),recurring:new a.NI(e.recurring),recurrence:new a.NI(e.recurrence),recurring_master_id:new a.NI(e.recurring_master_id),master:new a.NI(e.master),attachments:new a.NI(e.attachments),catering:new a.NI(e.extension_data.catering||[]),visitor_type:new a.NI(e.ext("visitor_type")),location:new a.NI(e.location),needs_space:new a.NI(!0),needs_parking:new a.NI(e.ext("needs_parking")||!1),system:new a.NI(e.system)});return n.get("organiser").valueChanges.subscribe(e=>n.controls.host.setValue(null==e?void 0:e.email)),n.get("resources").valueChanges.subscribe(e=>n.controls.system.setValue(e.length?e[0]:null)),e.id&&(n.get("host").disable(),n.get("organiser").disable()),"started"===e.state&&n.get("date").disable(),n}t(391),(0,s.Z)(function(e,n){(0,c.Z)(2,arguments);var t=(0,o.Z)(e),r=(0,i.Z)(n);return t.setMinutes(r),t}(function(e,n){(0,c.Z)(2,arguments);var t=(0,o.Z)(e),r=(0,i.Z)(n);return t.setHours(r),t}(new Date,6),0),{days:-1});var I=t(8908),p=t(2775),g=t(7271),N=t(9996);const v="/api/staff/v1/events";function y(e,n={}){const t=(0,p.U)(n);return(0,I.U2M)(`${v}/${encodeURIComponent(e)}${t?"?"+t:""}`).pipe((0,N.U)(e=>new r.y(e)))}const h=(e,n)=>e.id?function(e,n,t={},a="patch"){const s=(0,p.U)(t);return("patch"===a?I.r$K:I.gzd)(`${v}/${encodeURIComponent(e)}${s?"?"+s:""}`,new r.y(n).toJSON()).pipe((0,N.U)(e=>new r.y(e)))}(e.id,e,n):function(e){return(0,I.v_Q)(`${v}`,new r.y(e).toJSON()).pipe((0,N.U)(e=>new r.y(e)))}(e);function m(e,n,t,r={}){const a=(0,p.U)(Object.assign(Object.assign({},r),{state:t}));return(0,I.v_Q)(`${v}/${encodeURIComponent(e)}/guests/${n}${a?"?"+a:""}`,"").pipe((0,N.U)(e=>new g.OO(e)))}}}]);