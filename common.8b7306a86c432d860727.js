(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"05Mk":function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return r}));var s=i("20lr"),n=i("BQ33");class a extends s.d{constructor(e={}){var t;super(e),this.asset_id=e.asset_id,this.zones=e.zones,this.booking_type=e.booking_type,this.type=e.type||"booking";const i=1e3*e.booking_start||e.date,s=i?n(i).valueOf():n().minute(5*Math.ceil(n().minute()/5)).startOf("m").valueOf();this.date=s,this.duration=e.duration||n(1e3*e.booking_end).diff(s,"m")||60,this.timezone=e.timezone,this.user_email=e.user_email,this.user_id=e.user_id,this.user_name=e.user_name,this.title=e.title||"Desk booking",this.description=e.description,this.checked_in=e.checked_in,this.rejected=!!e.rejected,this.approved=!!e.approved,this.approver_id=e.approver_id,this.approver_email=e.approver_email,this.approver_name=e.approver_name,this.extension_data=e.extension_data,this.access=!!(null===(t=e.extension_data)||void 0===t?void 0:t.access),this.all_day=e.all_day||!0,this.status=this.rejected?"declined":this.approved?"approved":"tentative"}toJSON(){const e=super.toJSON();return e.booking_start=n(this.date).unix(),e.booking_end=this.all_day?n(this.date).endOf("d").unix():n(this.date).add(this.duration,"m").unix(),e.timezone||(e.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone),this.id||delete e.id,delete e.date,delete e.duration,delete e.email,delete e.name,e}get location(){return this.description}get is_today(){return n(this.date).isSame(n(),"d")}get is_done(){const e=n(this.date),t=this.all_day?n(this.date).endOf("d"):e.add(this.duration,"m");return e.isAfter(t,"m")}}i("c1e6");var o=i("EM62");let r=(()=>{class e extends s.b{constructor(){super(),this._name="Bookings",this._api_route="bookings"}checkIn(e,t=!0){return this.task(e.id,"check_in",{},"post",{state:t})}approve(e,t){return this.task(e,"approve",t)}reject(e,t){return this.task(e,"reject",t)}process(e){return new a(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);
//# sourceMappingURL=common.8b7306a86c432d860727.js.map