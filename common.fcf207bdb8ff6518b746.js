(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"05Mk":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return p})),n.d(t,"f",(function(){return u})),n.d(t,"b",(function(){return h})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return _}));var i=n("20lr"),o=n("BQ33");class s extends i.c{constructor(e={}){var t;super(e),this.asset_id=e.asset_id,this.zones=e.zones,this.booking_type=e.booking_type,this.type=e.type||"booking";const n=1e3*e.booking_start||e.date,i=n?o(n).valueOf():o().minute(5*Math.ceil(o().minute()/5)).startOf("m").valueOf();this.date=i,this.duration=e.duration||o(1e3*e.booking_end).diff(i,"m")||60,this.timezone=e.timezone,this.user_email=e.user_email,this.user_id=e.user_id,this.user_name=e.user_name,this.title=e.title||"Desk booking",this.description=e.description,this.checked_in=e.checked_in,this.rejected=!!e.rejected,this.approved=!!e.approved,this.approver_id=e.approver_id,this.approver_email=e.approver_email,this.approver_name=e.approver_name,this.extension_data=e.extension_data,this.access=!!(null===(t=e.extension_data)||void 0===t?void 0:t.access),this.all_day=e.all_day||!0,this.status=this.rejected?"declined":this.approved?"approved":"tentative"}toJSON(){const e=super.toJSON();return e.booking_start=o(this.date).unix(),e.booking_end=this.all_day?o(this.date).endOf("d").unix():o(this.date).add(this.duration,"m").unix(),e.timezone||(e.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone),this.id||delete e.id,delete e.date,delete e.duration,delete e.email,delete e.name,e}get location(){return this.description}get is_today(){return o(this.date).isSame(o(),"d")}get is_done(){const e=o(this.date),t=this.all_day?o(this.date).endOf("d"):e.add(this.duration,"m");return e.isAfter(t,"m")}}n("c1e6"),n("EM62");var a=n("/It1"),d=n("YtkY"),r=n("SQ91");const c="/api/staff/v1/bookings";function p(e){const t=Object(r.a)(e);return Object(a.d)(`${c}${t?"?"+t:""}`).pipe(Object(d.a)(e=>e.map(e=>new s(e))))}const u=e=>e.id?function(e,t,n="patch"){return("patch"===n?a.j:a.l)(`${c}/${encodeURIComponent(e)}`,t).pipe(Object(d.a)(e=>new s(e)))}(e.id,e):function(e){return Object(a.k)(""+c,e).pipe(Object(d.a)(e=>new s(e)))}(e);function h(e){return Object(a.k)(`${c}/${encodeURIComponent(e)}/approve`,"").pipe(Object(d.a)(e=>new s(e)))}function l(e){return Object(a.k)(`${c}/${encodeURIComponent(e)}/reject`,"").pipe(Object(d.a)(e=>new s(e)))}function _(e,t){const n=Object(r.a)({state:t});return Object(a.k)(`${c}/${encodeURIComponent(e)}/check_in?${n}`,"").pipe(Object(d.a)(e=>new s(e)))}}}]);
//# sourceMappingURL=common.fcf207bdb8ff6518b746.js.map