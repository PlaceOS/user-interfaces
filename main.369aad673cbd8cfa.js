(self.webpackChunkconcierge=self.webpackChunkconcierge||[]).push([[792],{1954:(Mt,pe,a)=>{"use strict";a.d(pe,{G:()=>Be});var e=a(467),i=a(9497),d=a(7793),p=a(3601),m=a(7404),_=a(4273),g=a(1666);function b(oe,Ee){const ne=(0,g.q)(),Ie=Ee?.weekStartsOn??Ee?.locale?.options?.weekStartsOn??ne.weekStartsOn??ne.locale?.options?.weekStartsOn??0,Te=(0,_.a)(oe),Ge=Te.getDay(),Ue=6+(Ge<Ie?-7:0)-(Ge-Ie);return Te.setDate(Te.getDate()+Ue),Te.setHours(23,59,59,999),Te}var S=a(4512),D=a(7926),E=a(5987),A=a(2017),v=a(9928),O=a(9714),z=a(696),G=a(4421),K=a(8728),F=a(1713),H=a(3020),Y=a(8841),P=a(9090),U=a(5006),$=a(8712),B=a(3921),y=a(4046),I=a(7375),w=a(8113),L=a(2168),Q=a(2185),te=a(9596),R=a(3953),ee=a(4006),k=a(97),J=a(177),X=a(9417),fe=a(3719),Me=a(9631),Ze=a(2798),Ct=a(6600),lt=a(9183),Ot=a(840),rt=a(4809),vt=a(2597),ve=a(9434),Ce=a(3618),be=a(1601),ue=a(906),me=a(1406),$e=a(2037),Et=a(2659),Ve=a(2765),st=a(9608),ht=a(3476),Vt=a(1413),qe=a(744),gt=a(3138),ot=a(1780);const ae=()=>({standalone:!0});function Oe(oe,Ee){1&oe&&(R.j41(0,"mat-checkbox",15),R.EFF(1),R.nI1(2,"translate"),R.k0s()),2&oe&&(R.R7$(),R.SpI(" ",R.bMT(2,1,"FORM.ALL_DAY")," "))}function Le(oe,Ee){if(1&oe&&(R.j41(0,"div",11)(1,"label",12),R.EFF(2),R.nI1(3,"translate"),R.j41(4,"span"),R.EFF(5,"*"),R.k0s()(),R.j41(6,"a-date-field",13),R.EFF(7),R.nI1(8,"translate"),R.k0s(),R.DNE(9,Oe,3,3,"mat-checkbox",14),R.k0s()),2&oe){const ne=R.XpG(2);R.R7$(2),R.SpI(" ",R.bMT(3,6,"FORM.DATE"),""),R.R7$(4),R.Y8G("to",ne.end_date)("use_24hr",ne.use_24hr)("timezone",ne.timezone),R.R7$(),R.SpI(" ",R.bMT(8,8,"FORM.DATE_ERROR")," "),R.R7$(2),R.Y8G("ngIf",ne.allow_all_day)}}function Pe(oe,Ee){1&oe&&(R.j41(0,"mat-checkbox",15),R.EFF(1),R.nI1(2,"translate"),R.k0s()),2&oe&&(R.R7$(),R.SpI(" ",R.bMT(2,1,"FORM.ALL_DAY")," "))}function _t(oe,Ee){if(1&oe&&(R.j41(0,"div",2)(1,"div",11)(2,"label",12),R.EFF(3),R.nI1(4,"translate"),R.j41(5,"span"),R.EFF(6,"*"),R.k0s()(),R.j41(7,"a-date-field",16),R.EFF(8),R.nI1(9,"translate"),R.k0s(),R.DNE(10,Pe,3,3,"mat-checkbox",14),R.k0s(),R.j41(11,"div",11)(12,"label",12),R.EFF(13),R.nI1(14,"translate"),R.j41(15,"span"),R.EFF(16,"*"),R.k0s()(),R.j41(17,"a-date-field",17),R.EFF(18),R.nI1(19,"translate"),R.k0s()()()),2&oe){const ne=R.XpG(2);R.R7$(3),R.SpI(" ",R.bMT(4,14,"FORM.DATE"),""),R.R7$(4),R.Y8G("to",ne.end_date)("use_24hr",ne.use_24hr)("timezone",ne.timezone)("range",1),R.R7$(),R.SpI(" ",R.bMT(9,16,"FORM.DATE_ERROR")," "),R.R7$(2),R.Y8G("ngIf",ne.allow_all_day),R.R7$(3),R.SpI(" ",R.bMT(14,18,"FORM.END_DATE"),""),R.R7$(4),R.Y8G("from",ne.start_date)("to",ne.end_date)("use_24hr",ne.use_24hr)("timezone",ne.timezone)("range",2),R.R7$(),R.SpI(" ",R.bMT(19,20,"FORM.DATE_ERROR")," ")}}function Gt(oe,Ee){if(1&oe){const ne=R.RV6();R.j41(0,"div",19)(1,"label",23),R.EFF(2),R.nI1(3,"translate"),R.j41(4,"span"),R.EFF(5,"*"),R.k0s()(),R.j41(6,"a-time-field",24),R.bIt("ngModelChange",function(Te){R.eBV(ne);const Ge=R.XpG(3);return R.Njj(Ge.form.patchValue({date_end:Te}))}),R.k0s()()}if(2&oe){let ne;const Ie=R.XpG(3);R.R7$(2),R.SpI(" ",R.bMT(3,7,"FORM.END_TIME"),""),R.R7$(4),R.Y8G("ngModel",Ie.form.value.date_end)("ngModelOptions",R.lJ4(9,ae))("from",(null==Ie.form||null==(ne=Ie.form.getRawValue())?null:ne.date)+18e5)("use_24hr",Ie.use_24hr)("extra_info_fn",Ie.duration_info)("timezone",Ie.timezone)}}function Kt(oe,Ee){if(1&oe&&(R.j41(0,"div",19)(1,"label",23),R.EFF(2),R.nI1(3,"translate"),R.j41(4,"span"),R.EFF(5,"*"),R.k0s()(),R.nrm(6,"a-duration-field",25),R.k0s()),2&oe){let ne;const Ie=R.XpG(3);R.R7$(2),R.SpI(" ",R.bMT(3,5,"FORM.END_TIME"),""),R.R7$(4),R.Y8G("time",null==Ie.form||null==(ne=Ie.form.getRawValue())?null:ne.date)("max",Ie.max_duration)("use_24hr",Ie.use_24hr)("timezone",Ie.timezone)}}function vn(oe,Ee){if(1&oe){const ne=R.RV6();R.j41(0,"div",18)(1,"div",19)(2,"label",20),R.EFF(3),R.nI1(4,"translate"),R.j41(5,"span"),R.EFF(6,"*"),R.k0s()(),R.j41(7,"a-time-field",21),R.bIt("ngModelChange",function(Te){R.eBV(ne);const Ge=R.XpG(2);return R.Njj(Ge.form.patchValue({date:Te}))}),R.k0s()(),R.DNE(8,Gt,7,10,"div",22)(9,Kt,7,7,"div",22),R.k0s()}if(2&oe){const ne=R.XpG(2);R.R7$(3),R.SpI(" ",R.bMT(4,7,"FORM.START_TIME")," "),R.R7$(4),R.Y8G("ngModel",ne.form.getRawValue().date)("ngModelOptions",R.lJ4(9,ae))("use_24hr",ne.use_24hr)("timezone",ne.timezone),R.R7$(),R.Y8G("ngIf",ne.allow_multiday),R.R7$(),R.Y8G("ngIf",!ne.allow_multiday)}}function Ft(oe,Ee){1&oe&&(R.j41(0,"div",26)(1,"label",27),R.EFF(2),R.nI1(3,"translate"),R.j41(4,"span"),R.EFF(5,"*"),R.k0s()(),R.nrm(6,"host-select-field",28),R.k0s()),2&oe&&(R.R7$(2),R.SpI(" ",R.bMT(3,1,"FORM.HOST"),""))}function _n(oe,Ee){1&oe&&(R.j41(0,"mat-checkbox",32),R.EFF(1," Update all future events "),R.k0s())}function ft(oe,Ee){if(1&oe&&(R.j41(0,"div",26)(1,"label",29),R.EFF(2),R.nI1(3,"translate"),R.j41(4,"span"),R.EFF(5,"*"),R.k0s()(),R.nrm(6,"recurrence-field",30),R.DNE(7,_n,2,0,"mat-checkbox",31),R.k0s()),2&oe){const ne=R.XpG(2);R.R7$(2),R.SpI(" ",R.bMT(3,3,"FORM.RECURRENCE"),""),R.R7$(4),R.Y8G("date",ne.form.getRawValue().date),R.R7$(),R.Y8G("ngIf",ne.form.value.id)}}function pt(oe,Ee){if(1&oe&&(R.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"label",4),R.EFF(4),R.nI1(5,"translate"),R.k0s(),R.j41(6,"mat-form-field",5),R.nrm(7,"input",6),R.j41(8,"mat-error"),R.EFF(9),R.nI1(10,"translate"),R.k0s()()(),R.DNE(11,Le,10,10,"div",7),R.k0s(),R.DNE(12,_t,20,22,"div",8)(13,vn,10,10,"div",9)(14,Ft,7,3,"div",10)(15,ft,8,5,"div",10),R.k0s()),2&oe){const ne=R.XpG();R.Y8G("formGroup",ne.form),R.R7$(4),R.JRh(R.bMT(5,8,"FORM.TITLE")),R.R7$(5),R.JRh(R.bMT(10,10,"FORM.TITLE_ERROR")),R.R7$(2),R.Y8G("ngIf",!ne.allow_multiday),R.R7$(),R.Y8G("ngIf",ne.allow_multiday),R.R7$(),R.Y8G("ngIf",!ne.form.value.all_day),R.R7$(),R.Y8G("ngIf",ne.can_book_for_others),R.R7$(),R.Y8G("ngIf",ne.allow_recurrence)}}let $t=(()=>{class oe{get max_duration(){return this._settings.get("app.events.max_duration")||480}get can_book_for_others(){return this._settings.get("app.events.can_book_for_others")}get allow_all_day(){return this._settings.get("app.events.allow_all_day")}get allow_recurrence(){return this._settings.get("app.events.allow_recurrence")&&this.form.value.duration<=1440}get allow_multiday(){return this._settings.get("app.events.allow_multiday")||this._event_form.is_multiday}get timezone(){return this._settings.get("app.events.use_building_timezone")?this._org.building.timezone:""}get start_date(){const ne=this.form.getRawValue().date,Ie=this.form.getRawValue().date_end;return(0,A.GP)(ne,"yyyy-MM-dd")!==(0,A.GP)(Ie,"yyyy-MM-dd")?(0,p.o)(ne).valueOf():(0,D.z)(ne,30).valueOf()}get end_date(){return(0,S.D)((0,ue.f)(Date.now(),this._settings.get("app.events.allowed_future_days")||180)).valueOf()}get use_24hr(){return this._settings.get("app.use_24_hour_time")}constructor(ne,Ie,Te){this._settings=ne,this._event_form=Ie,this._org=Te,this.force_time=(0,me.h)(Date.now(),{hours:6,minutes:0}).valueOf(),this.duration_info=Ge=>{const Ue=this.form.getRawValue().date;if((0,A.GP)(Ue,"yyyy-MM-dd")!==(0,A.GP)(Ge,"yyyy-MM-dd"))return"";const Fe=(0,$e.o)(Ge,Ue);return` (${(0,Et.a)({hours:Math.floor(Fe/60),minutes:Fe%60})})`}}static#e=this.\u0275fac=function(Ie){return new(Ie||oe)(R.rXU(I.h$),R.rXU(w.Ws),R.rXU(Q.yb))};static#t=this.\u0275cmp=R.VBU({type:oe,selectors:[["meeting-form-details"]],inputs:{form:"form"},decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"flex","items-center","flex-wrap","sm:space-x-2"],[1,"flex-1","min-w-[256px]"],["for","title"],["appearance","outline",1,"w-full"],["matInput","","name","title","formControlName","title","placeholder","e.g. Team Meeting"],["class","flex-1 min-w-[256px] relative",4,"ngIf"],["class","flex items-center flex-wrap sm:space-x-2",4,"ngIf"],["class","flex items-center space-x-2",4,"ngIf"],["class","w-full flex flex-col",4,"ngIf"],[1,"flex-1","min-w-[256px]","relative"],["for","date"],["name","date","formControlName","date",3,"to","use_24hr","timezone"],["formControlName","all_day","class","absolute -top-2 right-2",4,"ngIf"],["formControlName","all_day",1,"absolute","-top-2","right-2"],["name","date","formControlName","date",3,"to","use_24hr","timezone","range"],["name","date","formControlName","date_end",3,"from","to","use_24hr","timezone","range"],[1,"flex","items-center","space-x-2"],[1,"flex-1","w-1/3"],["for","start-time"],["name","start-time",3,"ngModelChange","ngModel","ngModelOptions","use_24hr","timezone"],["class","flex-1 w-1/3",4,"ngIf"],["for","end-time"],["name","end-time",3,"ngModelChange","ngModel","ngModelOptions","from","use_24hr","extra_info_fn","timezone"],["name","end-time","formControlName","duration",3,"time","max","use_24hr","timezone"],[1,"w-full","flex","flex-col"],["for","host"],["name","host","formControlName","organiser"],["for","recurrence"],["name","recurrence","formControlName","recurrence",3,"date"],["formControlName","update_master",4,"ngIf"],["formControlName","update_master"]],template:function(Ie,Te){1&Ie&&R.DNE(0,pt,16,12,"div",0),2&Ie&&R.Y8G("ngIf",Te.form)},dependencies:[J.bT,X.me,X.BC,X.cb,X.vS,fe.rl,fe.TL,Me.fg,Ve.So,X.j4,X.JD,st.G,ht.y,Vt.t,qe.I,gt.E,ot.D9],encapsulation:2})}return oe})();const kt=(oe,Ee,ne,Ie)=>({date:oe,duration:Ee,all_day:ne,zone_id:Ie}),dn=()=>({standalone:!0});function pn(oe,Ee){if(1&oe){const ne=R.RV6();R.j41(0,"section",7)(1,"h3",8)(2,"div",9),R.EFF(3," 2 "),R.k0s(),R.j41(4,"div",10),R.EFF(5),R.nI1(6,"translate"),R.k0s(),R.nrm(7,"div",11),R.j41(8,"button",20),R.bIt("click",function(){R.eBV(ne);const Te=R.XpG(2);return R.Njj(Te.findAvailableTime())}),R.EFF(9),R.nI1(10,"translate"),R.k0s(),R.j41(11,"button",21),R.bIt("click",function(){R.eBV(ne);const Te=R.XpG(2);return R.Njj(Te.hide_block.attendees=!Te.hide_block.attendees)}),R.j41(12,"app-icon"),R.EFF(13),R.k0s()()(),R.j41(14,"div",13),R.nrm(15,"a-user-list-field",22),R.k0s()()}if(2&oe){const ne=R.XpG(2);R.R7$(5),R.SpI(" ",R.bMT(6,5,"FORM.ATTENDEES")," "),R.R7$(4),R.SpI(" ",R.bMT(10,7,"WPA.AVAILABILITY")," "),R.R7$(4),R.JRh(ne.hide_block.attendees?"expand_more":"expand_less"),R.R7$(),R.Y8G("@show",ne.hide_block.attendees?"hide":"show"),R.R7$(),R.Y8G("guests",ne.allow_externals)}}function un(oe,Ee){1&oe&&(R.j41(0,"div",23),R.EFF(1," The selected room has less capacity than the number of meeting attendees. "),R.k0s())}function an(oe,Ee){if(1&oe&&(R.j41(0,"mat-option",33),R.EFF(1),R.k0s()),2&oe){const ne=Ee.$implicit;R.Y8G("value",ne),R.R7$(),R.SpI(" ",ne," ")}}function hn(oe,Ee){if(1&oe){const ne=R.RV6();R.j41(0,"mat-form-field",28),R.bIt("openedChange",function(){R.eBV(ne);const Te=R.XpG(3);return R.Njj(Te.focusInput())}),R.j41(1,"mat-select",29)(2,"input",30,1),R.bIt("ngModelChange",function(Te){R.eBV(ne);const Ge=R.XpG(3);return R.Njj(Ge.code_filter.next(Te))}),R.k0s(),R.nrm(4,"mat-option",31),R.DNE(5,an,2,2,"mat-option",32),R.nI1(6,"async"),R.k0s(),R.j41(7,"mat-error"),R.EFF(8," Catering charge code is required "),R.k0s()()}if(2&oe){const ne=R.XpG(3);R.R7$(2),R.Y8G("ngModel",ne.code_filter.getValue())("ngModelOptions",R.lJ4(5,dn)),R.R7$(3),R.Y8G("ngForOf",R.bMT(6,3,ne.filtered_codes))}}function Sn(oe,Ee){if(1&oe&&(R.j41(0,"mat-form-field",34),R.nI1(1,"async"),R.nrm(2,"textarea",35),R.j41(3,"mat-error"),R.EFF(4," Catering Order notes are required "),R.k0s()()),2&oe){const ne=R.XpG(3);R.AVh("mt-2",!R.bMT(1,2,(null==ne.form.value.catering?null:ne.form.value.catering.length)&&ne.has_codes))}}function Lt(oe,Ee){if(1&oe){const ne=R.RV6();R.j41(0,"section",7)(1,"h3",8)(2,"div",9),R.EFF(3," 4 "),R.k0s(),R.j41(4,"div",10),R.EFF(5),R.nI1(6,"translate"),R.k0s(),R.nrm(7,"div",11),R.j41(8,"button",24),R.bIt("click",function(){R.eBV(ne);const Te=R.XpG(2);return R.Njj(Te.hide_block.catering=!Te.hide_block.catering)}),R.j41(9,"app-icon"),R.EFF(10),R.k0s()()(),R.j41(11,"div",13),R.nrm(12,"catering-list-field",25),R.DNE(13,hn,9,6,"mat-form-field",26),R.nI1(14,"async"),R.DNE(15,Sn,5,4,"mat-form-field",27),R.k0s()()}if(2&oe){const ne=R.XpG(2);R.R7$(5),R.SpI(" ",R.bMT(6,6,"WPA.CATERING")," "),R.R7$(5),R.JRh(ne.hide_block.catering?"expand_more":"expand_less"),R.R7$(),R.Y8G("@show",ne.hide_block.catering?"hide":"show"),R.R7$(),R.Y8G("options",R.ziG(10,kt,ne.form.value.date,ne.form.value.duration,ne.form.value.all_day,null!=ne.form.value&&null!=ne.form.value.resources&&ne.form.value.resources.length?null==ne.form.value||null==ne.form.value.resources[0]||null==ne.form.value.resources[0].level?null:ne.form.value.resources[0].level.parent_id:"")),R.R7$(),R.Y8G("ngIf",R.bMT(14,8,(null==ne.form.value.catering?null:ne.form.value.catering.length)&&ne.has_codes)),R.R7$(2),R.Y8G("ngIf",null==ne.form.value.catering?null:ne.form.value.catering.length)}}function at(oe,Ee){if(1&oe){const ne=R.RV6();R.j41(0,"section",7)(1,"h3",8)(2,"div",9),R.EFF(3),R.nI1(4,"async"),R.k0s(),R.j41(5,"div",10),R.EFF(6),R.nI1(7,"translate"),R.k0s(),R.nrm(8,"div",11),R.j41(9,"button",36),R.bIt("click",function(){R.eBV(ne);const Te=R.XpG(2);return R.Njj(Te.hide_block.assets=!Te.hide_block.assets)}),R.j41(10,"app-icon"),R.EFF(11),R.k0s()()(),R.j41(12,"div",13),R.nrm(13,"asset-list-field",37),R.k0s()()}if(2&oe){const ne=R.XpG(2);R.R7$(3),R.SpI(" ",R.bMT(4,5,ne.has_catering)?"5":"4"," "),R.R7$(3),R.SpI(" ",R.bMT(7,7,"WPA.ASSETS")," "),R.R7$(5),R.JRh(ne.hide_block.assets?"expand_more":"expand_less"),R.R7$(),R.Y8G("@show",ne.hide_block.assets?"hide":"show"),R.R7$(),R.Y8G("options",R.ziG(9,kt,ne.form.getRawValue().date,ne.form.value.duration,ne.form.value.all_day,null!=ne.form.value&&null!=ne.form.value.resources&&ne.form.value.resources.length?null==ne.form.value||null==ne.form.value.resources[0]||null==ne.form.value.resources[0].level?null:ne.form.value.resources[0].level.parent_id:""))}}function ct(oe,Ee){if(1&oe&&(R.j41(0,"section",7)(1,"h3",38)(2,"div",9),R.EFF(3),R.nI1(4,"async"),R.nI1(5,"async"),R.k0s(),R.j41(6,"div",10),R.EFF(7),R.nI1(8,"translate"),R.k0s()(),R.j41(9,"div",39)(10,"label",40),R.EFF(11),R.nI1(12,"translate"),R.k0s(),R.nrm(13,"rich-text-input",41),R.k0s()()),2&oe){const ne=R.XpG(2);R.R7$(3),R.SpI(" ",R.bMT(4,3,ne.has_catering)&&ne.has_assets?"6":R.bMT(5,5,ne.has_catering)||ne.has_assets?"5":"4"," "),R.R7$(4),R.SpI(" ",R.bMT(8,7,"FORM.NOTES")," "),R.R7$(4),R.SpI(" ",R.bMT(12,9,"WPA.NOTES_INFO")," ")}}function Xe(oe,Ee){if(1&oe){const ne=R.RV6();R.j41(0,"main",6)(1,"section",7)(2,"h3",8)(3,"div",9),R.EFF(4," 1 "),R.k0s(),R.j41(5,"div",10),R.EFF(6),R.nI1(7,"translate"),R.k0s(),R.nrm(8,"div",11),R.j41(9,"button",12),R.bIt("click",function(){R.eBV(ne);const Te=R.XpG();return R.Njj(Te.hide_block.details=!Te.hide_block.details)}),R.j41(10,"app-icon"),R.EFF(11),R.k0s()()(),R.j41(12,"div",13),R.nrm(13,"meeting-form-details",14),R.k0s()(),R.DNE(14,pn,16,9,"section",15),R.j41(15,"section",7)(16,"h3",8)(17,"div",9),R.EFF(18," 3 "),R.k0s(),R.j41(19,"div",10),R.EFF(20),R.nI1(21,"translate"),R.k0s(),R.nrm(22,"div",11),R.j41(23,"button",16),R.bIt("click",function(){R.eBV(ne);const Te=R.XpG();return R.Njj(Te.hide_block.resources=!Te.hide_block.resources)}),R.j41(24,"app-icon"),R.EFF(25),R.k0s()()(),R.j41(26,"div",17),R.DNE(27,un,2,0,"div",18),R.nrm(28,"space-list-field",19),R.k0s()(),R.DNE(29,Lt,16,15,"section",15),R.nI1(30,"async"),R.DNE(31,at,14,14,"section",15)(32,ct,14,11,"section",15),R.k0s()}if(2&oe){const ne=R.XpG();R.Y8G("formGroup",ne.form),R.R7$(6),R.SpI(" ",R.bMT(7,14,"WPA.DETAILS")," "),R.R7$(5),R.JRh(ne.hide_block.details?"expand_more":"expand_less"),R.R7$(),R.Y8G("@show",ne.hide_block.details?"hide":"show"),R.R7$(),R.Y8G("form",ne.form),R.R7$(),R.Y8G("ngIf",!ne.hide_attendees),R.R7$(6),R.SpI(" ",R.bMT(21,16,"WPA.ROOM")," "),R.R7$(5),R.JRh(ne.hide_block.resources?"expand_more":"expand_less"),R.R7$(),R.Y8G("@show",ne.hide_block.resources?"hide":"show"),R.R7$(),R.Y8G("ngIf",!ne.strict_capacity_check&&ne.total_capacity&&ne.total_capacity<=(null==ne.form.value.attendees?null:ne.form.value.attendees.length)),R.R7$(),R.Y8G("multiday",ne.allow_multiday),R.R7$(),R.Y8G("ngIf",R.bMT(30,18,ne.has_catering)),R.R7$(2),R.Y8G("ngIf",ne.has_assets),R.R7$(),R.Y8G("ngIf",!ne.hide_notes)}}function Qe(oe,Ee){if(1&oe){const ne=R.RV6();R.j41(0,"footer",42)(1,"button",43),R.bIt("click",function(){R.eBV(ne);const Te=R.XpG();return R.Njj(Te.save())}),R.EFF(2,"Save"),R.k0s()()}}function Bt(oe,Ee){1&oe&&(R.j41(0,"main",44),R.nrm(1,"mat-spinner",45),R.j41(2,"p"),R.EFF(3,"Making event request..."),R.k0s()()),2&oe&&(R.R7$(),R.Y8G("diameter",48))}let Xt=(()=>{class oe{get form(){return this._event_form.form}get has_assets(){return!!this._settings.get("app.events.has_assets")}get hide_notes(){return!!this._settings.get("app.events.hide_notes")}get hide_attendees(){return!!this._settings.get("app.events.hide_attendees")}get allow_externals(){return this._settings.get("app.events.allow_externals")}get strict_capacity_check(){return this._settings.get("app.events.strict_capacity_check")}get total_capacity(){return this.form.value.resources?.reduce((ne,Ie)=>ne+Ie.capacity,0)||0}get allow_multiday(){return this._settings.get("app.events.allow_multiday")||this._event_form.is_multiday}get attendee_count(){const ne=(0,I.Ny)();let Ie=this.form.value.attendees?.length||0;return this.form.value.attendees.find(Te=>Te.email.toLowerCase()===ne.email.toLowerCase())||(Ie+=1),Ie}constructor(ne,Ie,Te,Ge,Ue){this._data=ne,this._event_form=Ie,this._settings=Te,this._catering=Ge,this._dialog_ref=Ue,this.event=new R.bkB,this.loading=new v.t(!1),this.hide_block={},this.code_filter=new v.t(""),this.has_catering=this._catering.available_menu.pipe((0,U.T)(Fe=>Fe.length>0)),this.has_codes=this._catering.charge_codes.pipe((0,U.T)(Fe=>Fe.length>0),(0,Y.M)(Fe=>{Fe||(this.form.get("catering_charge_code").setValidators([]),this.form.updateValueAndValidity())})),this.filtered_codes=(0,O.zV)([this.code_filter,this._catering.charge_codes]).pipe((0,U.T)(([Fe,At])=>At.filter(Ke=>Ke.toLowerCase().includes(Fe.toLowerCase()))))}ngOnInit(){var ne=this;return(0,e.A)(function*(){yield ne._event_form.newForm(ne._data.event)})()}save(){var ne=this;return(0,e.A)(function*(){ne.loading.next(!0);const Ie=yield ne._event_form.postForm().catch(Te=>{throw(0,I.UG)(Te),ne.loading.next(!1),Te});ne.event.emit({reason:"done",metadata:Ie}),(0,I.VX)("Successfully created event"),ne._dialog_ref.close(),ne.loading.next(!1)})()}static#e=this.\u0275fac=function(Ie){return new(Ie||oe)(R.rXU(ee.Vh),R.rXU(w.Ws),R.rXU(I.h$),R.rXU(k.k),R.rXU(ee.CP))};static#t=this.\u0275cmp=R.VBU({type:oe,selectors:[["event-book-modal"]],outputs:{event:"event"},decls:13,vars:8,consts:[["load_state",""],["input",""],[1,"flex-1","w-0"],["icon","","mat-dialog-close",""],["class","overflow-auto p-4 max-h-[65vh]",3,"formGroup",4,"ngIf","ngIfElse"],["class","flex justify-center items-center p-2 border-t border-base-200",4,"ngIf"],[1,"overflow-auto","p-4","max-h-[65vh]",3,"formGroup"],[1,"p-2"],[1,"space-x-2","flex","items-center"],[1,"bg-base-200","rounded-full","h-6","w-6","flex","items-center","justify-center"],[1,"text-xl"],[1,"flex-1","w-px"],["icon","","name","toggle-details-meeting","matRipple","",3,"click"],[1,"overflow-hidden"],[1,"mt-4",3,"form"],["class","p-2",4,"ngIf"],["icon","","name","toggle-spaces-meeting","matRipple","",3,"click"],[1,"overflow-hidden","flex","flex-col","items-center"],["class","bg-warning text-warning-content rounded shadow p-2 text-xs mx-auto my-2 inline-flex",4,"ngIf"],["formControlName","resources",1,"w-full",3,"multiday"],["matRipple","","name","find-attendee-availability",1,"bg-none","underline","text-xs","text-info",3,"click"],["icon","","name","toggle-attendees-meeting","matRipple","",3,"click"],["formControlName","attendees",1,"mt-4",3,"guests"],[1,"bg-warning","text-warning-content","rounded","shadow","p-2","text-xs","mx-auto","my-2","inline-flex"],["icon","","name","toggle-catering-meeting","matRipple","",3,"click"],["formControlName","catering",3,"options"],["appearance","outline","class","w-full mt-2",3,"openedChange",4,"ngIf"],["appearance","outline","class","w-full",3,"mt-2",4,"ngIf"],["appearance","outline",1,"w-full","mt-2",3,"openedChange"],["formControlName","catering_charge_code","placeholder","Charge Code"],["placeholder","Search charge codes...",1,"sticky","top-0","bg-base-100","px-4","py-3","text-base","border-x-0","border-t-0","border-b","focus:border-b","border-base-200","w-full","rounded-none","z-50",3,"ngModelChange","ngModel","ngModelOptions"],[1,"hidden"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["appearance","outline",1,"w-full"],["matInput","","formControlName","catering_notes","placeholder","Extra catering details..."],["icon","","name","toggle-assets-meeting","matRipple","",3,"click"],["formControlName","assets",3,"options"],[1,"space-x-2","flex","items-center","mb-4"],[1,"w-full","flex","flex-col"],["for","notes"],["name","notes","formControlName","body","placeholder","Notes..."],[1,"flex","justify-center","items-center","p-2","border-t","border-base-200"],["btn","","matRipple","",1,"w-32",3,"click"],["loading","",1,"h-64","flex","flex-col","items-center","justify-center"],[1,"mb-4",3,"diameter"]],template:function(Ie,Te){if(1&Ie&&(R.j41(0,"header")(1,"h2"),R.EFF(2),R.k0s(),R.nrm(3,"div",2),R.j41(4,"button",3)(5,"app-icon"),R.EFF(6,"close"),R.k0s()()(),R.DNE(7,Xe,33,20,"main",4),R.nI1(8,"async"),R.DNE(9,Qe,3,0,"footer",5),R.nI1(10,"async"),R.DNE(11,Bt,4,1,"ng-template",null,0,R.C5r)),2&Ie){const Ge=R.sdS(12);R.R7$(2),R.SpI("",Te.form.value.id?"Edit":"New"," Meeting Booking"),R.R7$(5),R.Y8G("ngIf",!R.bMT(8,4,Te.loading))("ngIfElse",Ge),R.R7$(2),R.Y8G("ngIf",!R.bMT(10,6,Te.loading))}},dependencies:[J.Sq,J.bT,X.me,X.BC,X.cb,X.vS,fe.rl,fe.TL,Me.fg,Ze.VO,Ct.wT,lt.LG,ee.tx,Ct.r6,X.j4,X.JD,Ot.T,rt.K,vt.d,ve.R,Ce.Q,be.z,$t,J.Jj,ot.D9],data:{animation:[I.Ft]}})}return oe})(),Be=(()=>{class oe extends I.Tv{get filters(){return this._filters.getValue()}get time_format(){return this._settings.time_format}get tz_offset(){const ne=this._settings.get("app.events.use_building_timezone")?this._org.building.timezone:"",Ie=Intl.DateTimeFormat().resolvedOptions().timeZone;return ne?(0,I.Fz)(Ie,ne):0}getDate(){return this._date.getValue()}constructor(ne,Ie,Te){super(),this._org=ne,this._dialog=Ie,this._settings=Te,this._poll=new v.t(0),this._period=new v.t("day"),this._bookings=new v.t([]),this._event=new v.t(null),this._filters=new v.t({}),this._options=new v.t({}),this._date=new v.t((new Date).valueOf()),this._zones=new v.t([]),this._loading=new v.t(!1),this.date=this._date.asObservable(),this.zones=this._zones.asObservable(),this.options=this._options.asObservable(),this.loading=this._loading.asObservable(),this.event=this._event.asObservable(),this.period=this._period.asObservable(),this.spaces=(0,O.zV)([this._zones,this._org.active_region.pipe((0,K.p)(Ge=>!!Ge),(0,F.w)("id")),this._org.active_building.pipe((0,K.p)(Ge=>!!Ge),(0,F.w)("id"))]).pipe((0,H.B)(300),(0,Y.M)(Ge=>this.unsubWith("bind:")),(0,P.n)(([Ge])=>(this._loading.next(!0),(!Ge?.length||Ge[0]===this._org.region.id)&&(Ge=(this._settings.get("app.use_region")?this._org.buildingsForRegion(this._org.region).map(Ue=>Ue.id):null)||[this._org.building?.id]),(0,z.p)(Ge.map(Ue=>(0,L.Ot)(Ue))))),(0,U.T)(Ge=>(0,I.Bq)(Ge).filter(Ue=>Ue.bookable)),(0,Y.M)(Ge=>this._loading.next(!1)),(0,$.t)(1)),this.filtered=(0,O.zV)([this._bookings,this._filters,this._date,this._period,this._zones]).pipe((0,U.T)(([Ge,Ue,Fe,At,Ke])=>{const tn="month"===At?m.p:"week"===At?b:S.D,nn=(0,D.z)(("month"===At?i.w:"week"===At?d.k:p.o)(Fe),60*this.tz_offset),En=(0,D.z)(tn(Fe),60*this.tz_offset);return this.filterEvents(Ge,nn,En,Ue,Ke)}),(0,$.t)(1)),this.pending=(0,G.of)(1).pipe((0,P.n)(()=>{const Ge=this._org.binding("approvals");if(!Ge)return(0,G.of)([]);const Ue=(0,te.f_4)(Ge,"RoomBookingApproval");if(!Ue)return(0,G.of)([]);const Fe=Ue.binding("approval_required");return this.subscription("pending",Fe.bind()),Fe.listen().pipe((0,U.T)(At=>(0,I.Bq)(Object.values(At||{}))?.map(Ke=>new w.LR(Ke))))}),(0,$.t)(1)),this._retries=0,this.events=(0,O.zV)([this._period,this._zones,this._date,this._poll]).pipe((0,K.p)(([Ge])=>!!Ge),(0,H.B)(300),(0,P.n)(([Ge,Ue,Fe])=>{if(!Ue?.length)return(0,G.of)([]);Ue[0]===this._org.region?.id&&(Ue=(this._settings.get("app.use_region")?this._org.buildingsForRegion(this._org.region).map(nn=>nn.id):null)||[this._org.building?.id]),this._loading.next(!0);const Ke="month"===Ge?m.p:"week"===Ge?b:S.D,xt=(0,D.z)(("month"===Ge?i.w:"week"===Ge?d.k:p.o)(Fe),60*this.tz_offset),tn=(0,D.z)(Ke(Fe),60*this.tz_offset);return(0,w.UU)({strict:"limit",zone_ids:Ue.join(","),period_start:(0,E._)(xt),period_end:(0,E._)(tn)}).pipe((0,U.T)(nn=>(this._retries=0,[nn,xt,tn,!0])),(0,B.W)(nn=>{if(429===nn?.status){this._retries+=1;const En=Math.min(8e3,1e3*this._retries);this.timeout("retry",()=>this._poll.next(Date.now()),(0,I.HO)(En+1e3,En))}return(0,G.of)([[],void 0,void 0,!1])}))}),(0,Y.M)(([Ge,Ue,Fe,At])=>{if(!At&&!Ge?.length)return this._loading.next(!1);this.processBookings(Ge||[],Ue?.valueOf(),Fe?.valueOf()),this._loading.next(!1)}),(0,U.T)(([Ge])=>Ge),(0,$.t)(1)),this.events.subscribe()}setFilters(ne){this._filters.next(ne)}setDate(ne){this._date.next(ne)}setPeriod(ne){this._period.next(ne)}setZones(ne){this._zones.next(ne)}setEvent(ne){this._event.next(ne)}setUIOptions(ne){const Ie=this._options.getValue();this._options.next({...Ie,...ne})}startPolling(ne="day",Ie=3e4){return this._period.next(ne),this.poll(Ie)}poll(ne=3e4){return this._poll.next(Date.now()),this.interval("polling",()=>this._poll.next(Date.now()),ne),()=>this.stopPolling()}stopPolling(){this._poll.next(0),this.clearInterval("polling")}newBooking(ne){var Ie=this;return(0,e.A)(function*(){const Te=Ie._dialog.open(Xt,{data:{event:ne}}),Ge=yield Promise.race([Te.componentInstance.event.pipe((0,y.$)(Ue=>"done"===Ue.reason)).toPromise(),Te.afterClosed().toPromise()]);"done"===Ge?.reason&&Ie.replace(Ge.metadata)})()}removeBooking(ne){var Ie=this;return(0,e.A)(function*(){const Te=yield(0,I.GE)({title:"Delete meeting?",content:`Are you sure you want to delete the meeting at ${(0,A.GP)(new Date(ne.date),"dd MMM yyyy, "+Ie.time_format)}<br> in ${ne.location}?`,icon:{class:"material-icons",content:"delete"}},Ie._dialog);return"done"===Te.reason&&(Te.loading("Deleting booking..."),yield(0,w.Nn)(ne.id,{system_id:ne.system?.id}).toPromise(),Ie.remove(ne),Te.close(),!0)})()}replace(ne){const Te=this._bookings.getValue().filter(Ge=>Ge.id!==ne.id).concat([ne]);this._bookings.next(Te)}remove(ne){const Te=this._bookings.getValue().filter(Ge=>Ge.id!==ne.id);this._bookings.next(Te)}processBookings(ne,Ie=(0,p.o)(Date.now()).valueOf(),Te=(0,S.D)(Date.now()).valueOf()){let Ge=this._bookings.getValue()||[];(0,I.Am)((0,I.Bq)(ne.map(Fe=>Fe.resources)),"email").forEach(Fe=>{Ge=(0,w.Lo)(Ge,ne.filter(At=>At.resources.find(Ke=>Ke.email===Fe.email)),{space:Fe.email,from:Ie.valueOf(),to:Te.valueOf()})}),this._bookings.next(Ge)}filterEvents(ne,Ie,Te,Ge,Ue=[]){return ne.filter(Fe=>{const At=(0,I.dH)(Ie.valueOf(),Te.valueOf(),Fe.date,Fe.date+60*Fe.duration*1e3),Ke=!Ge.space_emails?.length||!!Fe.resources.find(En=>Ge.space_emails.includes(En.email)),xt=!Ge.zone_ids?.length||!!Fe.resources.find(En=>En.zones.find(Un=>Ge.zone_ids.includes(Un))),tn=Fe.guests?.length?"external":"declined"===Fe.status?"cancelled":"internal",nn=!Ge.hide_type?.length||!Ge.hide_type.find(En=>En.id===tn||En===tn);return At&&Ke&&xt&&nn})}static#e=this.\u0275fac=function(Ie){return new(Ie||oe)(R.KVO(Q.yb),R.KVO(ee.bZ),R.KVO(I.h$))};static#t=this.\u0275prov=R.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"})}return oe})()},6252:(Mt,pe,a)=>{"use strict";a.d(pe,{j:()=>$});var e=a(467),i=a(9417),d=a(4006),p=a(7375),m=a(2185),_=a(9596),g=a(3953),b=a(177),u=a(2765),S=a(9183),D=a(6600),E=a(9434);const A=()=>({standalone:!0});function v(B,y){if(1&B){const I=g.RV6();g.j41(0,"button",11),g.bIt("click",function(){const L=g.eBV(I).$implicit,Q=g.XpG(2);return g.Njj(Q.active_features[L]=!Q.active_features[L])}),g.j41(1,"div",12),g.EFF(2),g.k0s(),g.nrm(3,"mat-checkbox",13),g.k0s()}if(2&B){const I=y.$implicit,w=g.XpG(2);g.R7$(2),g.SpI(" ",w.feature_descriptions[I]," "),g.R7$(),g.Y8G("ngModel",w.active_features[I])("ngModelOptions",g.lJ4(3,A))}}function O(B,y){if(1&B){const I=g.RV6();g.j41(0,"button",11),g.bIt("click",function(){const L=g.eBV(I).$implicit,Q=g.XpG(2);return g.Njj(Q.active_features[L]=!Q.active_features[L])}),g.j41(1,"div",12),g.EFF(2),g.k0s(),g.nrm(3,"mat-checkbox",13),g.k0s()}if(2&B){const I=y.$implicit,w=g.XpG(2);g.R7$(2),g.SpI(" ",w.feature_descriptions[I]," "),g.R7$(),g.Y8G("ngModel",w.active_features[I])("ngModelOptions",g.lJ4(3,A))}}function z(B,y){if(1&B){const I=g.RV6();g.j41(0,"button",11),g.bIt("click",function(){const L=g.eBV(I).$implicit,Q=g.XpG(3);return g.Njj(Q.form.get("events").get(L).setValue(!Q.form.get("events").get(L).value))}),g.j41(1,"div",12),g.EFF(2),g.k0s(),g.nrm(3,"mat-checkbox",18),g.k0s()}if(2&B){const I=y.$implicit,w=g.XpG(3);g.R7$(2),g.SpI(" ",w.feature_descriptions[I]," "),g.R7$(),g.Y8G("formControlName",I)}}function G(B,y){if(1&B&&(g.qex(0,17),g.j41(1,"h3",9),g.EFF(2,"Room Bookings"),g.k0s(),g.j41(3,"div",10),g.DNE(4,z,4,2,"button",14),g.k0s(),g.bVm()),2&B){const I=g.XpG(2);g.R7$(4),g.Y8G("ngForOf",I.room_features)}}function K(B,y){if(1&B){const I=g.RV6();g.j41(0,"button",11),g.bIt("click",function(){const L=g.eBV(I).$implicit,Q=g.XpG(3);return g.Njj(Q.form.get("desks").get(L).setValue(!Q.form.get("desks").get(L).value))}),g.j41(1,"div",12),g.EFF(2),g.k0s(),g.nrm(3,"mat-checkbox",18),g.k0s()}if(2&B){const I=y.$implicit,w=g.XpG(3);g.R7$(2),g.SpI(" ",w.feature_descriptions[I]," "),g.R7$(),g.Y8G("formControlName",I)}}function F(B,y){if(1&B&&(g.j41(0,"div",19)(1,"h3",9),g.EFF(2,"Desk Bookings"),g.k0s(),g.j41(3,"div",10),g.DNE(4,K,4,2,"button",14),g.k0s()()),2&B){const I=g.XpG(2);g.R7$(4),g.Y8G("ngForOf",I.desk_features)}}function H(B,y){if(1&B){const I=g.RV6();g.j41(0,"main",7)(1,"div",8)(2,"h3",9),g.EFF(3,"General Features"),g.k0s(),g.j41(4,"div",10)(5,"button",11),g.bIt("click",function(){g.eBV(I);const L=g.XpG();return g.Njj(L.active_features.use_24_hour_time=!L.active_features.use_24_hour_time)}),g.j41(6,"div",12),g.EFF(7),g.k0s(),g.nrm(8,"mat-checkbox",13),g.k0s()(),g.j41(9,"h3",9),g.EFF(10,"Features"),g.k0s(),g.j41(11,"div",10),g.DNE(12,v,4,4,"button",14),g.k0s(),g.j41(13,"h3",9),g.EFF(14,"Landing"),g.k0s(),g.j41(15,"div",10),g.DNE(16,O,4,4,"button",14),g.k0s(),g.DNE(17,G,5,1,"ng-container",15)(18,F,5,1,"div",16),g.k0s()()}if(2&B){const I=g.XpG();g.Y8G("formGroup",I.form),g.R7$(7),g.SpI(" ",I.feature_descriptions.use_24_hour_time," "),g.R7$(),g.Y8G("ngModel",I.active_features.use_24_hour_time)("ngModelOptions",g.lJ4(8,A)),g.R7$(4),g.Y8G("ngForOf",I.available_features),g.R7$(4),g.Y8G("ngForOf",I.landing_features),g.R7$(),g.Y8G("ngIf",I.active_features.spaces),g.R7$(),g.Y8G("ngIf",I.active_features.desks)}}function Y(B,y){if(1&B){const I=g.RV6();g.j41(0,"footer",20)(1,"button",21),g.EFF(2," Discard "),g.k0s(),g.j41(3,"button",22),g.bIt("click",function(){g.eBV(I);const L=g.XpG();return g.Njj(L.save())}),g.EFF(4," Save "),g.k0s()()}}function P(B,y){1&B&&(g.j41(0,"button",23)(1,"app-icon"),g.EFF(2,"close"),g.k0s()())}function U(B,y){if(1&B&&(g.j41(0,"main",24),g.nrm(1,"mat-spinner",25),g.j41(2,"p"),g.EFF(3),g.k0s()()),2&B){const I=g.XpG();g.R7$(),g.Y8G("diameter",32),g.R7$(2),g.JRh(I.loading)}}let $=(()=>{class B{constructor(I,w,L,Q){this._data=I,this._dialog_ref=w,this._org=L,this._settings=Q,this.zone=this._data.zone,this.workplace_key=this._settings.get("app.workplace_metadata_key")||"workplace_app",this.available_features=["spaces","desks","explore","parking","help","schedule","wfh"],this.landing_features=["show_quick_links","hide_availability","hide_colleagues","hide_landing_sidebar","hide_rooms","hide_spaces"],this.room_features=["allow_all_day","booking_unavailable","can_book_for_others","has_assets","has_catering","allow_externals","hide_notes","allow_recurrence"],this.desk_features=["allow_all_day"],this.loading="",this.combined_settings={},this.active_features={},this.feature_descriptions={use_24_hour_time:"Use 24 Hour Time",spaces:"Book Rooms",desks:"Book Desks",explore:"Explore Maps",parking:"Book Parking",help:"Help Desk",schedule:"Your Bookings",wfh:"Work from Home",show_quick_links:"Show Quick Links",hide_availability:"Hide Availability Section",hide_colleagues:"Hide Colleagues Listing",hide_landing_sidebar:"Hide Sidebar",hide_rooms:"Hide Rooms Section",hide_spaces:"Hide Spaces Section",allow_all_day:"All Day Bookings",booking_unavailable:"No event calendar",can_book_for_others:"Can book for others",has_assets:"Asset Booking",has_catering:"Event Catering",allow_externals:"Allow external attendees",hide_notes:"Hide notes field",allow_recurrence:"Allow recurring bookings"},this.form=new i.gE({use_24_hour_time:new i.MJ(!1),features:new i.MJ([]),general:new i.gE({show_quick_links:new i.MJ(!1),hide_availability:new i.MJ(!1),hide_colleagues:new i.MJ(!1),hide_landing_sidebar:new i.MJ(!1),hide_rooms:new i.MJ(!1),hide_spaces:new i.MJ(!1)}),events:new i.gE({allow_all_day:new i.MJ(!1),booking_unavailable:new i.MJ(!1),can_book_for_others:new i.MJ(!1),has_assets:new i.MJ(!1),has_catering:new i.MJ(!1),allow_externals:new i.MJ(!1),hide_notes:new i.MJ(!1),allow_recurrence:new i.MJ(!1)}),desks:new i.gE({allow_all_day:new i.MJ(!1),has_assets:new i.MJ(!1)}),bookings:new i.gE({allow_all_day:new i.MJ(!1)})})}ngOnInit(){var I=this;return(0,e.A)(function*(){I.loading="Loading settings...",I._dialog_ref.disableClose=!0;const w=(yield(0,_.bpY)(I.zone.id,`${I.workplace_key}`).toPromise().catch(()=>({details:{}}))).details,L=(yield(0,_.bpY)(I.zone.parent_id,`${I.workplace_key}`).toPromise().catch(()=>({details:{}}))).details,Q=(yield(0,_.bpY)(I._org.organisation.id,`${I.workplace_key}`).toPromise().catch(()=>({details:{}}))).details,te={...Q,...L,...w,general:{...Q.general,...L.general,...w.general},events:{...Q.events,...L.events,...w.events},desks:{...Q.desks,...L.desks,...w.desks},bookings:{...Q.bookings,...L.bookings,...w.bookings}};I.form.patchValue(te);for(const R in te)if("object"==typeof te[R])for(const ee in te[R])"boolean"==typeof te[R][ee]&&(I.active_features[ee]=te[R][ee]);else"boolean"==typeof te[R]&&(I.active_features[R]=te[R]);for(const R of te.features||[])I.active_features[R]=!0;I.combined_settings=te,I.loading="",I._dialog_ref.disableClose=!1})()}save(){var I=this;return(0,e.A)(function*(){I.updateFormValues(),I.loading="Saving settings...",I._dialog_ref.disableClose=!0,yield(0,_.D58)(I.zone.id,{name:`${I.workplace_key}`,details:I.form.value,description:"Workplace Application Settings"}).toPromise().catch(w=>{throw console.error(w),I._dialog_ref.disableClose=!1,I.loading="",(0,p.UG)(`Failed to save settings: ${w.message||w.error||w}`),w}),I._dialog_ref.disableClose=!1,I._dialog_ref.close(),(0,p.VX)("Successfully saved settings")})()}updateFormValues(){const I=this.form.value;for(const w in I)if("object"==typeof I[w]){if("events"===w||"desks"===w||"bookings"===w)continue;for(const L in I[w])"boolean"==typeof I[w][L]&&(I[w][L]=this.active_features[L])}else"boolean"==typeof I[w]&&(I[w]=this.active_features[w]);I.bookings=I.desks,I.features=Object.keys(this.active_features).filter(w=>this.active_features[w]).filter(w=>this.available_features.includes(w)),this.form.patchValue(I)}static#e=this.\u0275fac=function(w){return new(w||B)(g.rXU(d.Vh),g.rXU(d.CP),g.rXU(m.yb),g.rXU(p.h$))};static#t=this.\u0275cmp=g.VBU({type:B,selectors:[["app-settings-modal"]],decls:9,vars:5,consts:[["load_state",""],[1,"w-screen","h-screen","bg-base-100","flex","flex-col"],[1,"sticky","top-0","py-2","px-0","mx-auto","max-w-[640px]","w-full","border-none","z-10"],[1,"text-2xl","font-medium"],["class","flex-1 h-1/2 p-2 space-y-2 z-0 overflow-auto",3,"formGroup",4,"ngIf","ngIfElse"],["class","sticky bottom-0 flex items-center justify-end space-x-2 p-2 mx-auto max-w-[640px] w-full bg-base-100 z-10",4,"ngIf"],["icon","","matRipple","","mat-dialog-close","","class","absolute top-2 right-2",4,"ngIf"],[1,"flex-1","h-1/2","p-2","space-y-2","z-0","overflow-auto",3,"formGroup"],[1,"mx-auto","max-w-[640px]","w-full"],[1,"font-medium","text-lg"],[1,"flex","flex-wrap","items-center","-mx-2","py-2"],["matRipple","",1,"flex","items-center","space-x-2","m-2","p-2","border","border-base-200","w-[calc(50%-1rem)]",3,"click"],[1,"ml-2","flex-1","text-left"],[1,"pointer-events-none",3,"ngModel","ngModelOptions"],["matRipple","","class","flex items-center space-x-2 m-2 p-2 border border-base-200 w-[calc(50%-1rem)]",3,"click",4,"ngFor","ngForOf"],["formGroupName","events",4,"ngIf"],["formGroupName","desks",4,"ngIf"],["formGroupName","events"],[1,"pointer-events-none",3,"formControlName"],["formGroupName","desks"],[1,"sticky","bottom-0","flex","items-center","justify-end","space-x-2","p-2","mx-auto","max-w-[640px]","w-full","bg-base-100","z-10"],["btn","","matRipple","","mat-dialog-close","",1,"inverse","w-32"],["btn","","matRipple","",1,"w-32",3,"click"],["icon","","matRipple","","mat-dialog-close","",1,"absolute","top-2","right-2"],[1,"flex-1","h-1/2","p-2","space-y-2","z-0","overflow-auto","flex","flex-col","items-center","justify-center"],[3,"diameter"]],template:function(w,L){if(1&w&&(g.j41(0,"div",1)(1,"header",2)(2,"h2",3),g.EFF(3),g.k0s()(),g.DNE(4,H,19,9,"main",4)(5,Y,5,0,"footer",5)(6,P,3,0,"button",6),g.k0s(),g.DNE(7,U,4,2,"ng-template",null,0,g.C5r)),2&w){const Q=g.sdS(8);g.R7$(3),g.SpI(" App Configuration - ",L.zone.display_name," "),g.R7$(),g.Y8G("ngIf",!L.loading)("ngIfElse",Q),g.R7$(),g.Y8G("ngIf",!L.loading),g.R7$(),g.Y8G("ngIf",!L.loading)}},dependencies:[b.Sq,b.bT,i.BC,i.cb,i.vS,i.j4,i.JD,i.$R,u.So,S.LG,d.tx,D.r6,E.R]})}return B})()},6843:(Mt,pe,a)=>{"use strict";a.d(pe,{c:()=>v});var e=a(7375),i=a(2185),d=a(3953),p=a(177),m=a(6600),_=a(9434),g=a(3141);function b(O,z){if(1&O&&(d.qex(0),d.j41(1,"a",4)(2,"app-icon",5),d.EFF(3),d.k0s(),d.j41(4,"span",6),d.EFF(5),d.k0s()(),d.bVm()),2&O){const G=d.XpG().$implicit;d.R7$(),d.Y8G("routerLink",G.route),d.R7$(2),d.JRh(G.icon),d.R7$(2),d.JRh(G.name)}}function u(O,z){if(1&O){const G=d.RV6();d.j41(0,"button",9),d.bIt("click",function(){d.eBV(G);const F=d.XpG(2).$implicit,H=d.XpG();return d.Njj(H.show_block[F.id||F._id]=!H.show_block[F.id||F._id])}),d.j41(1,"app-icon",5),d.EFF(2),d.k0s(),d.j41(3,"div",10),d.EFF(4),d.k0s(),d.j41(5,"app-icon",11),d.EFF(6,"arrow_drop_down"),d.k0s()()}if(2&O){const G=d.XpG(2).$implicit;d.R7$(2),d.SpI(" ",G.icon," "),d.R7$(2),d.SpI(" ",G.name," ")}}function S(O,z){if(1&O&&(d.j41(0,"a",14),d.nrm(1,"app-icon",11),d.j41(2,"span"),d.EFF(3),d.k0s()()),2&O){const G=z.$implicit;d.Y8G("routerLink",G.route),d.R7$(3),d.JRh(G.name)}}function D(O,z){if(1&O&&(d.j41(0,"section",12),d.DNE(1,S,4,2,"a",13),d.k0s()),2&O){const G=d.XpG(2).$implicit,K=d.XpG();d.Y8G("@show",K.show_block[G.id||G._id]?"hide":"show"),d.R7$(),d.Y8G("ngForOf",G.children)}}function E(O,z){if(1&O&&d.DNE(0,u,7,2,"button",7)(1,D,2,2,"section",8),2&O){const G=d.XpG().$implicit;d.Y8G("ngIf",null==G.children?null:G.children.length),d.R7$(),d.Y8G("ngIf",null==G.children?null:G.children.length)}}function A(O,z){if(1&O&&(d.qex(0),d.DNE(1,b,6,3,"ng-container",3)(2,E,2,2,"ng-template",null,0,d.C5r),d.bVm()),2&O){const G=z.$implicit,K=d.sdS(3);d.R7$(),d.Y8G("ngIf",!G.children)("ngIfElse",K)}}let v=(()=>{class O extends e.Tv{get feature_list(){return this._settings.get("app.features")||[]}get feature_groups(){return this._settings.get("app.feature_groups")||{}}get is_admin(){const G=(0,e.Ny)().groups,K=this._settings.get("app.admin_group")||"admin";return!G.includes(K)&&!G.includes("placeos_admin")&&!G.includes("placeos_support")}constructor(G,K,F){super(),this._settings=G,this._org=K,this._element_ref=F,this.show_block={},this.links=[{name:"Bookings",icon:"add_circle",children:[{id:"spaces",name:"Rooms",route:["/book/rooms/new"]},{id:"desks",name:"Desks",route:["/book/desks/new/events"]},{id:"parking",name:"Parking",route:["/book/parking/new/events"]},{id:"lockers",name:"Lockers",route:["/book/lockers/new"]},{id:"assets",name:"Assets",route:["/book/assets/new/list/requests"]},{id:"catering",name:"Catering",route:["/book/catering/new/orders"]}]},{name:"Visitor Management",icon:"badge",children:[{id:"visitors",name:"Visitor List",route:["/book/visitors/new"]},{id:"visitor-rules",name:"External",route:["/book/visitors/new/rules"]}]},{id:"facilities",name:"Facilities",icon:"place",children:[{id:"zones",name:"Region Management",route:["/region-management/new"]},{id:"zones",name:"Building Management",route:["/building-management/new"]},{id:"zones",name:"Levels Management",route:["/level-management/new"]},{id:"spaces",name:"Room Management",route:["/room-management/new"]},{id:"desks",name:"Desk Management",route:["/book/desks/new/manage"]},{id:"parking",name:"Parking Management",route:["/book/parking/new/manage"]},{id:"catering",name:"Catering Menu",route:["/book/catering/new/menu"]},{id:"points",name:"Points",route:["/points-management/new"]},{id:"emergency-contacts",name:"Emergency Contacts",icon:"assignment_ind",route:["/users/staff/emergency-contacts"]},{id:"signage",name:"Digital Signage",route:["/signage"]},{id:"points-of-interest",name:"Points Of Interest",route:["/points-of-interest"]},{id:"url-management",name:"URL Management",route:["/url-management"]},{id:"email-templates",name:"Email Templates",route:["/email-templates"]}]},{id:"assets",name:"Asset Manager",route:["/book/assets/new/list/items"],icon:"vibration"},{id:"internal-users",name:"User Directory",icon:"assignment_ind",route:["/users/staff/new"]},{id:"events",name:"Events",route:["/entertainment/events"],icon:"confirmation_number"},{id:"surveys",name:"Surveys",route:["/surveys/new"],icon:"add_reaction"},{_id:"reports",name:"Reports",icon:"analytics",children:[{id:"booking-report",name:"Room Bookings",route:["/reports/new/bookings"]},{id:"desk-report",name:"Desk Bookings",route:["/reports/new/desks"]},{id:"catering-report",name:"Catering",route:["/reports/new/catering"]},{id:"contact-tracing-report",name:"Contact Tracing",route:["/reports/new/contact-tracing"]},{id:"assets-report",name:"Assets",route:["/reports/new/assets"]},{id:"visitors-report",name:"Visitors",route:["/reports/new/visitors"]}]}],this.filtered_links=[]}ngOnInit(){this.updateFilteredLinks(),this.subscription("building",this._org.active_building.subscribe(()=>this.updateFilteredLinks())),this.timeout("update_inview",()=>this._moveActiveLinkIntoView(),50)}_isFeatureAvailable(G){if(G.startsWith("*"))return!0;const K=this.feature_list.includes(G),F=this.feature_groups[G]||[],H=(0,e.Ny)().groups;return!(!K||!this.is_admin&&F.length&&!H.find(Y=>F.includes(Y)))}updateFilteredLinks(){const G=this._settings.get("app.custom_reports")||[];if(G.length&&this.links.find(K=>"reports"===K._id)){const K=this.links.find(F=>"reports"===F._id);K.children=(0,e.Am)(K.children.concat(G.map(F=>({...F,id:`*${F.id}`,route:["/reports/new",F.id]}))),"id")}this.filtered_links=this.links.map(K=>({...K,children:K.children?K.children.filter(F=>this._isFeatureAvailable(F.id)):null})).filter(K=>(!K.id||"home"===K.id||this._isFeatureAvailable(K.id))&&K.route||K.children?.length),this.filtered_links.find(K=>"home"===K.id)&&(this.filtered_links.find(F=>"home"===F.id).route=this._settings.get("app.default_route")||["/"]),this.is_admin&&(this.filtered_links=this.filtered_links.filter(K=>"facilities"!==K.id))}_moveActiveLinkIntoView(){const G=this._element_ref.nativeElement.querySelector("a.active");G&&G.scrollIntoView({block:"center",behavior:"instant"})}static#e=this.\u0275fac=function(K){return new(K||O)(d.rXU(e.h$),d.rXU(i.yb),d.rXU(d.aKT))};static#t=this.\u0275cmp=d.VBU({type:O,selectors:[["app-sidebar"]],features:[d.Vt3],decls:2,vars:1,consts:[["group_view",""],[1,"w-64","h-full","border-r","border-base-200","py-2","pr-3","overflow-auto"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["matRipple","","routerLinkActive","active",1,"flex","items-center","space-x-2","rounded-r-full","p-1","my-1","hover:bg-base-200","w-full",3,"routerLink"],[1,"text-2xl","opacity-60"],[1,"font-medium"],["matRipple","","class","flex items-center space-x-2 rounded-r-full p-1 my-1 hover:bg-base-200 w-full",3,"click",4,"ngIf"],["class","overflow-hidden w-full",4,"ngIf"],["matRipple","",1,"flex","items-center","space-x-2","rounded-r-full","p-1","my-1","hover:bg-base-200","w-full",3,"click"],[1,"font-medium","flex-1","text-left"],[1,"text-2xl"],[1,"overflow-hidden","w-full"],["class","flex items-center space-x-2 rounded-r-full p-1 my-1 hover:bg-base-200 w-full","routerLinkActive","active",3,"routerLink",4,"ngFor","ngForOf"],["routerLinkActive","active",1,"flex","items-center","space-x-2","rounded-r-full","p-1","my-1","hover:bg-base-200","w-full",3,"routerLink"]],template:function(K,F){1&K&&(d.j41(0,"div",1),d.DNE(1,A,4,2,"ng-container",2),d.k0s()),2&K&&(d.R7$(),d.Y8G("ngForOf",F.filtered_links))},dependencies:[p.Sq,p.bT,m.r6,_.R,g.Wk,g.wQ],styles:["[_nghost-%COMP%]{height:100%}a.active[_ngcontent-%COMP%]{background-color:var(--s);color:var(--sc)}a.active[_ngcontent-%COMP%]:hover{color:var(--bc);opacity:.75}"],data:{animation:[e.Ft]}})}return O})()},5189:(Mt,pe,a)=>{"use strict";a.d(pe,{S:()=>S});var e=a(7375),i=a(6815),d=a(3953),p=a(6600),m=a(9434),_=a(1193),g=a(2238),b=a(3141);const u=()=>["/"];let S=(()=>{class D{get logo(){return("dark"===this._settings.get("theme")?this._settings.get("app.logo_dark"):this._settings.get("app.logo_light"))||{}}get user(){return(0,e.Ny)()}constructor(A){this._settings=A,this.user_controls=i.NV}static#e=this.\u0275fac=function(v){return new(v||D)(d.rXU(e.h$))};static#t=this.\u0275cmp=d.VBU({type:D,selectors:[["app-topbar"]],decls:10,vars:5,consts:[[1,"flex","items-center","border-b","border-base-200","p-2"],[1,"w-64"],[3,"routerLink"],[1,"h-12",3,"src"],[1,"flex-1","flex","items-center","justify-end","space-x-2"],["btn","","icon","","matRipple",""],[1,"text-2xl"],["matRipple","","avatar","","name","user-controls","customTooltip","",1,"h-10","w-10","rounded-full","mr-2","bg-base-200","flex","items-center","justify-center",3,"content"],[3,"user"]],template:function(v,O){1&v&&(d.j41(0,"div",0)(1,"div",1)(2,"a",2),d.nrm(3,"img",3),d.k0s()(),d.j41(4,"div",4)(5,"button",5)(6,"app-icon",6),d.EFF(7,"notifications"),d.k0s()(),d.j41(8,"button",7),d.nrm(9,"a-user-avatar",8),d.k0s()()()),2&v&&(d.R7$(2),d.Y8G("routerLink",d.lJ4(4,u)),d.R7$(),d.Y8G("src",O.logo.src,d.B4B),d.R7$(5),d.Y8G("content",O.user_controls),d.R7$(),d.Y8G("user",O.user))},dependencies:[p.r6,m.R,_.a,g.I,b.Wk],styles:["[_nghost-%COMP%]{width:100%}"]})}return D})()},2953:(Mt,pe,a)=>{"use strict";a.d(pe,{z:()=>B});var e=a(467),i=a(9417),d=a(4006),p=a(7375),m=a(9596),_=a(4421),g=a(3921),b=a(5006),u=a(2339),S=a(2168),D=a(3953),E=a(177),A=a(3719),v=a(9631),O=a(2765),z=a(4823),G=a(9183),K=a(6600),F=a(9434),H=a(3476);function Y(y,I){1&y&&(D.j41(0,"button",6)(1,"app-icon"),D.EFF(2,"close"),D.k0s()())}function P(y,I){if(1&y){const w=D.RV6();D.j41(0,"main",7)(1,"div",8)(2,"h4",9),D.EFF(3," Booking Settings "),D.k0s(),D.j41(4,"div",10)(5,"div",11)(6,"mat-checkbox",12),D.EFF(7," Disable booking "),D.k0s()(),D.j41(8,"div",11)(9,"mat-checkbox",13),D.EFF(10," Hide booking host options "),D.k0s()()(),D.j41(11,"div",14)(12,"div",15)(13,"label",16),D.EFF(14,"Minimum Booking Duration"),D.k0s(),D.nrm(15,"a-duration-field",17),D.k0s(),D.j41(16,"div",15)(17,"label",18),D.EFF(18,"Maximum Booking Duration"),D.k0s(),D.nrm(19,"a-duration-field",19),D.k0s()()(),D.j41(20,"div",14)(21,"div",11)(22,"label",20),D.EFF(23,"Allow check-in before meeting"),D.k0s(),D.nrm(24,"a-duration-field",21),D.k0s(),D.j41(25,"div",11)(26,"label",22),D.EFF(27,"Cancel not checked-in meetings after"),D.k0s(),D.nrm(28,"a-duration-field",23),D.k0s()(),D.j41(29,"div",24)(30,"mat-checkbox",25),D.EFF(31," Show Booking QR Code "),D.k0s()(),D.j41(32,"div",26)(33,"label",27),D.EFF(34,"Custom QR Code URL"),D.k0s(),D.j41(35,"mat-form-field",28),D.nrm(36,"input",29),D.j41(37,"mat-error"),D.EFF(38," Custom QR Code URL must be a valid URL "),D.k0s(),D.j41(39,"mat-hint"),D.EFF(40," Custom QR Code URL will replace the default Booking QR Code "),D.k0s()()(),D.j41(41,"div",10)(42,"div",11)(43,"mat-checkbox",30)(44,"div",31)(45,"div"),D.EFF(46,"Disable auto-ending bookings"),D.k0s(),D.j41(47,"app-icon",32),D.EFF(48," info "),D.k0s()()()(),D.j41(49,"div",11)(50,"mat-checkbox",33),D.EFF(51," Show button to end booking early "),D.k0s()()(),D.j41(52,"div",34)(53,"div",11)(54,"mat-checkbox",35)(55,"div",31)(56,"div"),D.EFF(57,"Hide Meeting Details"),D.k0s(),D.j41(58,"app-icon",36),D.EFF(59," info "),D.k0s()()()(),D.j41(60,"div",11)(61,"mat-checkbox",37)(62,"div",31)(63,"div"),D.EFF(64,"Hide Meeting Title"),D.k0s(),D.j41(65,"app-icon",38),D.EFF(66," info "),D.k0s()()()()(),D.j41(67,"div",14)(68,"div",11)(69,"label",39),D.EFF(70,"Room Image URL"),D.k0s(),D.j41(71,"div",40)(72,"mat-form-field",41),D.nrm(73,"input",42),D.j41(74,"mat-error"),D.EFF(75," Room Image must be a valid URL "),D.k0s()(),D.j41(76,"button",43)(77,"app-icon"),D.EFF(78,"cloud_upload"),D.k0s(),D.j41(79,"input",44),D.bIt("change",function(Q){D.eBV(w);const te=D.XpG();return D.Njj(te.uploadImage(Q,"room_image"))}),D.k0s()()()(),D.j41(80,"div",11)(81,"label",45),D.EFF(82,"Offline Image URL"),D.k0s(),D.j41(83,"div",40)(84,"mat-form-field",41),D.nrm(85,"input",46),D.j41(86,"mat-error"),D.EFF(87," Offline Image must be a valid URL "),D.k0s()(),D.j41(88,"button",47)(89,"app-icon"),D.EFF(90,"cloud_upload"),D.k0s(),D.j41(91,"input",44),D.bIt("change",function(Q){D.eBV(w);const te=D.XpG();return D.Njj(te.uploadImage(Q,"offline_image"))}),D.k0s()()()()()()}if(2&y){const w=D.XpG();D.Y8G("formGroup",w.form),D.R7$(15),D.Y8G("min",0)("step",w.form.value.max_duration>60?15:5)("max",w.form.value.max_duration),D.R7$(4),D.Y8G("min",w.form.value.min_duration+15-w.form.value.min_duration%15)("step",15)("max",480),D.R7$(5),D.Y8G("min",0)("step",5)("max",60),D.R7$(4),D.Y8G("min",0)("step",5)("max",60),D.R7$(48),D.Y8G("disabled",w.uploading),D.R7$(12),D.Y8G("disabled",w.uploading)}}function U(y,I){if(1&y){const w=D.RV6();D.j41(0,"footer",48)(1,"button",49),D.bIt("click",function(){D.eBV(w);const Q=D.XpG();return D.Njj(Q.save())}),D.EFF(2,"Save"),D.k0s()()}}function $(y,I){if(1&y&&(D.j41(0,"main",50),D.nrm(1,"mat-spinner",51),D.j41(2,"p",52),D.EFF(3),D.k0s()()),2&y){const w=D.XpG();D.R7$(),D.Y8G("diameter",32),D.R7$(2),D.JRh(w.loading)}}let B=(()=>{class y extends p.Tv{constructor(w,L){super(),this._data=w,this._dialog_ref=L,this.loading="",this.uploading=0,this.zone=this._data.zone,this.form=new i.gE({control_ui:new i.MJ("",S.qU),catering_ui:new i.MJ("",S.qU),custom_qr_url:new i.MJ("",S.qU),custom_qr_color:new i.MJ(""),show_qr_code:new i.MJ(!0),disable_book_now:new i.MJ(!1),disable_book_now_host:new i.MJ(!0),disable_end_meeting:new i.MJ(!1),enable_end_meeting_button:new i.MJ(!1),hide_meeting_details:new i.MJ(!1),hide_meeting_title:new i.MJ(!1),min_duration:new i.MJ(15),max_duration:new i.MJ(60),pending_before:new i.MJ(5),pending_period:new i.MJ(15),room_image:new i.MJ("",S.qU),offline_image:new i.MJ("",S.qU)}),this._defaults={}}ngOnInit(){var w=this;return(0,e.A)(function*(){if(!w.zone?.id)return void(0,p.UG)("Opened booking panel settings modal with invalid zone");w.subscription("max_duration",w.form.controls.max_duration.valueChanges.subscribe(R=>{R<=60||w.form.patchValue({min_duration:Math.max(15,15*Math.floor(w.form.value.min_duration/15))})})),w._defaults={...w.form.getRawValue()},w.loading="Loading existing panel settings...";const Q=(yield(0,m.smE)({parent_id:w.zone.id}).pipe((0,g.W)(()=>(0,_.of)({data:[]})),(0,b.T)(R=>R.data)).toPromise()).find(R=>R.encryption_level===m.cor.None);if(!Q)return void(w.loading="");w.loading="Processing found panel settings...";const te=u.Hh(Q.settings_string)||{};w.form.patchValue(te),w.loading=""})()}uploadImage(w,L){const Q=w.target;if(!Q?.files?.length)return;const R=Q.files[0],ee=this.form.get(L);if(ee){if(!R.type.includes("image"))return(0,p.UG)("File is not an image");(0,p.QM)(R).subscribe(k=>{this.uploading=k.progress,k.link&&(this.uploading=0,ee.setValue(k.link))},()=>{(0,p.UG)("Failed to upload image. Try again later"),this.uploading=0})}}save(){var w=this;return(0,e.A)(function*(){if(w.form.markAllAsTouched(),!w.form.valid)return(0,p.UG)(`Some form fields are invalid. [${(0,p.F7)(w.form)}]`);const L=w.form.getRawValue();w._dialog_ref.disableClose=!0,w.loading="Loading existing booking panel settings...";let te=(yield(0,m.smE)({parent_id:w.zone.id}).pipe((0,g.W)(()=>(0,_.of)({data:[]})),(0,b.T)(X=>X.data)).toPromise()).find(X=>X.encryption_level===m.cor.None);te||(te=new m.ZOi({encryption_level:m.cor.None}));const ee={...u.Hh(te.settings_string)||{},...L},k={...te,settings_string:u.Bh(ee)};w.loading="Saving changes to booking panel settings...",yield(te.id?(0,m.Xx7)(te.id,k):(0,m.PJ4)(k)).toPromise().catch(X=>{throw w._dialog_ref.disableClose=!1,w.loading="",(0,p.UG)("Error saving changes to booking panel settings"),X}),w._dialog_ref.close(),(0,p.VX)(`Successfully updated booking panel settings for "${w.zone.display_name}"`)})()}static#e=this.\u0275fac=function(L){return new(L||y)(D.rXU(d.Vh),D.rXU(d.CP))};static#t=this.\u0275cmp=D.VBU({type:y,selectors:[["booking-panel-settings-modal"]],features:[D.Vt3],decls:8,vars:5,consts:[["load_state",""],[1,"flex","items-center","justify-between","space-x-4","py-0","px-2"],[1,"text-lg","font-medium","py-4","px-2"],["icon","","matRipple","","mat-dialog-close","",4,"ngIf"],["class","p-4 max-h-[65vh] overflow-y-auto overflow-x-hidden",3,"formGroup",4,"ngIf","ngIfElse"],["class","flex items-center justify-end p-4 border-t border-base-200",4,"ngIf"],["icon","","matRipple","","mat-dialog-close",""],[1,"p-4","max-h-[65vh]","overflow-y-auto","overflow-x-hidden",3,"formGroup"],[1,"relative","flex","flex-col","p-2","border","border-base-300","rounded","mb-4"],[1,"absolute","top-0","left-8","-translate-y-1/2","bg-base-100","text-sm","p-2"],[1,"flex","items-center","space-x-4"],[1,"flex-1"],["formControlName","disable_book_now"],["formControlName","disable_book_now_host"],[1,"flex","space-x-4"],[1,"flex-1","h-20"],["for","min-duration"],["name","min-duration","formControlName","min_duration",3,"min","step","max"],["for","max-duration"],["name","max-duration","formControlName","max_duration",3,"min","step","max"],["for","pending_before"],["name","pending_before","formControlName","pending_before",3,"min","step","max"],["for","pending_period"],["name","pending_period","formControlName","pending_period",3,"min","step","max"],[1,""],["formControlName","show_qr_code"],[1,"mb-2"],["for","custom-qr-url"],["appearance","outline",1,"w-full"],["matInput","","name","custom-qr-url","placeholder","/workplace/#/book/room/?room_id=sys-123456","formControlName","custom_qr_url"],["formControlName","disable_end_meeting"],[1,"flex","item-center","space-x-2"],["matTooltip","Disable ending the current booking early when sensors\ndon't detect presence in room after a period of time"],["formControlName","enable_end_meeting_button"],[1,"flex","items-center","space-x-4","mb-4"],["formControlName","hide_meeting_details"],["matTooltip","When enabled only shows the time of the current meeting"],["formControlName","hide_meeting_title"],["matTooltip","When enabled only shows the time and host of the current meeting"],["for","room-image"],[1,"flex","space-x-2"],["appearance","outline",1,"w-1/2","flex-1"],["matInput","","name","room-image","placeholder","/assets/images/room_test1.png","formControlName","room_image"],["icon","","matRipple","",1,"bg-secondary","text-secondary-content","rounded","h-12","w-12",3,"disabled"],["type","file",1,"absolute","inset-0","opacity-0",3,"change"],["for","offline-image"],["matInput","","name","offline-image","placeholder","/assets/images/offline1.png","formControlName","offline_image"],["icon","","matRipple","",1,"relative","bg-secondary","text-secondary-content","rounded","h-12","w-12",3,"disabled"],[1,"flex","items-center","justify-end","p-4","border-t","border-base-200"],["btn","","matRipple","",1,"w-32",3,"click"],[1,"flex","flex-col","items-center","justify-center","px-4","py-2","min-h-[12rem]","space-y-4"],[3,"diameter"],[1,"text-center"]],template:function(L,Q){if(1&L&&(D.j41(0,"header",1)(1,"h3",2),D.EFF(2),D.k0s(),D.DNE(3,Y,3,0,"button",3),D.k0s(),D.DNE(4,P,92,15,"main",4)(5,U,3,0,"footer",5)(6,$,4,2,"ng-template",null,0,D.C5r)),2&L){const te=D.sdS(7);D.R7$(2),D.SpI(" Edit Booking Panel Settings - ",(null==Q.zone?null:Q.zone.display_name)||(null==Q.zone?null:Q.zone.name)," "),D.R7$(),D.Y8G("ngIf",!Q.loading),D.R7$(),D.Y8G("ngIf",!Q.loading)("ngIfElse",te),D.R7$(),D.Y8G("ngIf",!Q.loading)}},dependencies:[E.bT,i.me,i.BC,i.cb,i.j4,i.JD,A.rl,A.MV,A.TL,v.fg,O.So,z.oV,G.LG,d.tx,K.r6,F.R,H.y]})}return y})()},4483:(Mt,pe,a)=>{"use strict";a.d(pe,{F:()=>Et});var e=a(467),i=a(4006),d=a(7375),p=a(2185),m=a(9596),_=a(9928),g=a(9714),b=a(4421),u=a(8728),S=a(9090),D=a(3921),E=a(5006),A=a(8712),v=a(9493),O=a(3953),z=a(177),G=a(4823),K=a(9183),F=a(6600),H=a(9434),Y=a(8328),P=a(3683),U=a(3666);const $=Ve=>({key:"_index",name:" ",size:"3.5rem",content:Ve}),B=Ve=>({key:"zone",name:"Zone",content:Ve}),y=()=>({key:"name",name:"Name"}),I=Ve=>({key:"auto_approve",name:"Auto-Approve",content:Ve,size:"5.5rem"}),w=Ve=>({key:"hidden",name:"Hide Matches",content:Ve,size:"5.5rem"}),L=Ve=>({key:"conditions",name:"Conditions",content:Ve}),Q=Ve=>({key:"actions",name:"Actions",size:"11.5rem",content:Ve}),te=(Ve,st,ht,Vt,qe,gt,ot)=>[Ve,st,ht,Vt,qe,gt,ot];function R(Ve,st){if(1&Ve&&(O.j41(0,"h2",10),O.EFF(1),O.k0s()),2&Ve){const ht=O.XpG();O.R7$(),O.SpI(" ",ht.type," Booking Rules ")}}function ee(Ve,st){if(1&Ve&&(O.j41(0,"h2",10),O.EFF(1),O.k0s()),2&Ve){const ht=O.XpG();O.R7$(),O.Lme(" ",null!=ht.selected&&ht.selected.id?"Edit":"New"," ",ht.type," Booking Ruleset ")}}function k(Ve,st){1&Ve&&(O.j41(0,"button",11)(1,"app-icon"),O.EFF(2,"close"),O.k0s()())}function J(Ve,st){if(1&Ve){const ht=O.RV6();O.j41(0,"booking-rules-form",17),O.bIt("rulesetChange",function(qe){O.eBV(ht);const gt=O.XpG(2);return O.Njj(gt.save(qe))}),O.k0s()}if(2&Ve){const ht=O.XpG(2);O.Y8G("ruleset",ht.selected)("save",ht.activate_save)}}function X(Ve,st){if(1&Ve&&O.nrm(0,"simple-table",18),2&Ve){O.XpG();const ht=O.sdS(7),Vt=O.sdS(9),qe=O.sdS(11),gt=O.sdS(13),ot=O.sdS(15),ae=O.XpG();O.Y8G("data",ae.booking_rules)("columns",O.sGs(15,te,O.eq3(2,$,ht),O.eq3(4,B,qe),O.lJ4(6,y),O.eq3(7,I,gt),O.eq3(9,w,gt),O.eq3(11,L,Vt),O.eq3(13,Q,ot)))}}function fe(Ve,st){if(1&Ve&&(O.j41(0,"div",19),O.EFF(1),O.k0s()),2&Ve){const ht=st.index;O.R7$(),O.SpI(" ",(ht||0)+1," ")}}function Me(Ve,st){if(1&Ve&&(O.j41(0,"div",20),O.EFF(1),O.k0s()),2&Ve){const ht=st.data,Vt=O.XpG(2);O.R7$(),O.SpI("",Vt.keyCount(ht)," Conditions")}}function Ze(Ve,st){if(1&Ve&&(O.j41(0,"div",23)(1,"div"),O.EFF(2),O.nI1(3,"level"),O.k0s(),O.j41(4,"div",24),O.EFF(5),O.k0s()()),2&Ve){let ht;const Vt=O.XpG().data;O.R7$(2),O.JRh((null==(ht=O.bMT(3,2,Vt))?null:ht.display_name)||Vt),O.R7$(3),O.SpI(" ",Vt," ")}}function Ct(Ve,st){if(1&Ve&&(O.j41(0,"div",25),O.EFF(1),O.k0s()),2&Ve){const ht=O.XpG().data;O.R7$(),O.SpI(" ","*"===ht?"All Zones":ht," ")}}function lt(Ve,st){if(1&Ve&&(O.DNE(0,Ze,6,4,"div",21),O.nI1(1,"level"),O.DNE(2,Ct,2,1,"div",22),O.nI1(3,"level")),2&Ve){let ht,Vt;const qe=st.data;O.Y8G("ngIf",null==(ht=O.bMT(1,2,qe))?null:ht.id),O.R7$(2),O.Y8G("ngIf",!(null!=(Vt=O.bMT(3,4,qe))&&Vt.id))}}function Ot(Ve,st){if(1&Ve&&(O.j41(0,"div",26)(1,"app-icon"),O.EFF(2),O.k0s()()),2&Ve){const ht=st.key,Vt=st.row;O.AVh("bg-error",!Vt.rules[ht])("bg-success",Vt.rules[ht]),O.R7$(2),O.JRh(Vt.rules[ht]?"done":"close")}}function rt(Ve,st){if(1&Ve){const ht=O.RV6();O.j41(0,"div",27)(1,"button",28),O.bIt("click",function(){const qe=O.eBV(ht).row,gt=O.XpG(2);return O.Njj(gt.editRuleset(qe))}),O.j41(2,"app-icon"),O.EFF(3,"edit"),O.k0s()(),O.j41(4,"button",29),O.bIt("click",function(){const qe=O.eBV(ht).row,gt=O.XpG(2);return O.Njj(gt.updateRulesetPriority(qe,-1))}),O.j41(5,"app-icon"),O.EFF(6,"arrow_upward"),O.k0s()(),O.j41(7,"button",30),O.bIt("click",function(){const qe=O.eBV(ht).row,gt=O.XpG(2);return O.Njj(gt.updateRulesetPriority(qe,1))}),O.j41(8,"app-icon"),O.EFF(9,"arrow_downward"),O.k0s()(),O.j41(10,"button",31),O.bIt("click",function(){const qe=O.eBV(ht).row,gt=O.XpG(2);return O.Njj(gt.removeRuleset(qe))}),O.j41(11,"app-icon",32),O.EFF(12,"delete"),O.k0s()()()}}function vt(Ve,st){if(1&Ve&&(O.j41(0,"main",12)(1,"div",13),O.EFF(2," Note that the order of the rulesets are important. The first ruleset that matches the resource will be used. "),O.k0s(),O.qex(3,14),O.DNE(4,J,1,2,"booking-rules-form",15)(5,X,1,23,"simple-table",16)(6,fe,2,1,"ng-template",null,1,O.C5r)(8,Me,2,1,"ng-template",null,2,O.C5r)(10,lt,4,6,"ng-template",null,3,O.C5r)(12,Ot,3,5,"ng-template",null,4,O.C5r)(14,rt,13,0,"ng-template",null,5,O.C5r),O.bVm(),O.k0s()),2&Ve){const ht=O.XpG();O.R7$(3),O.Y8G("ngSwitch",ht.view),O.R7$(),O.Y8G("ngSwitchCase","form"),O.R7$(),O.Y8G("ngSwitchCase","list")}}function ve(Ve,st){1&Ve&&(O.j41(0,"button",37),O.EFF(1," Close "),O.k0s())}function Ce(Ve,st){if(1&Ve){const ht=O.RV6();O.j41(0,"button",38),O.bIt("click",function(){O.eBV(ht);const qe=O.XpG(2);return qe.selected=null,O.Njj(qe.view="list")}),O.EFF(1," Back "),O.k0s()}}function be(Ve,st){if(1&Ve){const ht=O.RV6();O.j41(0,"button",39),O.bIt("click",function(){O.eBV(ht);const qe=O.XpG(2);return O.Njj(qe.editRuleset())}),O.EFF(1," Add Ruleset "),O.k0s()}}function ue(Ve,st){if(1&Ve){const ht=O.RV6();O.j41(0,"button",39),O.bIt("click",function(){O.eBV(ht);const qe=O.XpG(2);return O.Njj(qe.activate_save=!qe.activate_save)}),O.EFF(1," Save Ruleset "),O.k0s()}}function me(Ve,st){if(1&Ve&&(O.j41(0,"footer",33),O.DNE(1,ve,2,0,"button",34)(2,Ce,2,0,"button",35)(3,be,2,0,"button",36)(4,ue,2,0,"button",36),O.k0s()),2&Ve){const ht=O.XpG();O.R7$(),O.Y8G("ngIf","form"!==ht.view),O.R7$(),O.Y8G("ngIf","form"===ht.view),O.R7$(),O.Y8G("ngIf","form"!==ht.view),O.R7$(),O.Y8G("ngIf","form"===ht.view)}}function $e(Ve,st){1&Ve&&(O.j41(0,"main",40),O.nrm(1,"mat-spinner",41),O.j41(2,"p",42),O.EFF(3,"Saving Booking Rules..."),O.k0s()()),2&Ve&&(O.R7$(),O.Y8G("diameter",32))}let Et=(()=>{class Ve{constructor(ht,Vt,qe){this._data=ht,this._org=Vt,this._dialog=qe,this.loading=!1,this.view="list",this.activate_save=!1,this.change=new _.t(0),this.booking_rules=(0,g.zV)([this._org.active_building,this.change]).pipe((0,u.p)(([gt])=>!!gt),(0,S.n)(([gt])=>(0,m.bpY)(gt.id,`${this._data.type}_booking_rules`).pipe((0,D.W)(()=>(0,b.of)({details:[]})))),(0,E.T)(({details:gt})=>gt instanceof Array?gt:[]),(0,A.t)(1)),this.type=this._data.type}keyCount(ht){return Object.keys(ht).length}editRuleset(ht){this.view="form",this.selected=ht}removeRuleset(ht){var Vt=this;return(0,e.A)(function*(){const qe=yield(0,d.GE)({title:"Remove Booking Ruleset",content:`Are you sure you want to remove the booking ruleset for ${ht.name}?`,icon:{content:"delete"},confirm_text:"Remove Ruleset",cancel_text:"Cancel"},Vt._dialog);if("done"!==qe.reason)return;qe.loading("Removing Ruleset...");const gt=yield Vt.booking_rules.pipe((0,v.s)(1)).toPromise(),ot=gt.findIndex(ae=>ae.id===ht.id);ot>=0&&(gt.splice(ot,1),yield(0,m.D58)(Vt._org.building.id,{name:`${Vt.type}_booking_rules`,description:`${Vt.type} Booking Rules`,details:gt}).toPromise().catch(ae=>{throw(0,d.UG)("Error removing booking rules."),ae}),Vt.change.next(Date.now())),(0,d.VX)("Successfully removed booking rules."),qe.close()})()}updateRulesetPriority(ht,Vt){var qe=this;return(0,e.A)(function*(){const gt=yield qe.booking_rules.pipe((0,v.s)(1)).toPromise(),ot=gt.findIndex(ae=>ae.id===ht.id);if(ot>=0){const ae=ot+Vt;if(ae<0||ae>=gt.length)return;gt.splice(ot,1),gt.splice(ae,0,ht),yield(0,m.D58)(qe._org.building.id,{name:`${qe.type}_booking_rules`,description:`${qe.type} Booking Rules`,details:gt}).toPromise().catch(Oe=>{throw(0,d.UG)("Error saving booking rules order change."),Oe}),(0,d.VX)("Successfully updated booking rules order."),qe.change.next(Date.now())}})()}save(ht){var Vt=this;return(0,e.A)(function*(){Vt.loading=!0;const qe=yield Vt.booking_rules.pipe((0,v.s)(1)).toPromise();if(ht){const gt=qe.findIndex(ot=>ot.id===ht?.id);gt>=0?qe[gt]=ht:qe.push({id:`ruleset-${(0,d.DU)(8)}`,...ht})}yield(0,m.D58)(Vt._org.building.id,{name:`${Vt.type}_booking_rules`,description:`${Vt.type} Booking Rules`,details:qe}).toPromise().catch(gt=>{throw(0,d.UG)("Error saving booking rules."),gt}),Vt.loading=!1,Vt.view="list",(0,d.VX)("Successfully saved booking rules.")})()}static#e=this.\u0275fac=function(Vt){return new(Vt||Ve)(O.rXU(i.Vh),O.rXU(p.yb),O.rXU(i.bZ))};static#t=this.\u0275cmp=O.VBU({type:Ve,selectors:[["app-booking-rules-modal"]],decls:8,vars:6,consts:[["load_state",""],["index_template",""],["conditions_template",""],["zone_template",""],["bool_template",""],["actions_template",""],["class","capitalize",4,"ngIf"],["icon","","matRipple","","mat-dialog-close","",4,"ngIf"],["class","w-[56rem] max-w-[80vw] max-h-[65vh] h-[65vh] overflow-auto",4,"ngIf","ngIfElse"],["class","flex items-center justify-end space-x-2 p-2 border-t border-base-200",4,"ngIf"],[1,"capitalize"],["icon","","matRipple","","mat-dialog-close",""],[1,"w-[56rem]","max-w-[80vw]","max-h-[65vh]","h-[65vh]","overflow-auto"],[1,"w-full","p-4","text-center","bg-info","text-info-content","text-sm"],[3,"ngSwitch"],[3,"ruleset","save","rulesetChange",4,"ngSwitchCase"],["class","w-full min-w-[32rem] block text-sm",3,"data","columns",4,"ngSwitchCase"],[3,"rulesetChange","ruleset","save"],[1,"w-full","min-w-[32rem]","block","text-sm",3,"data","columns"],[1,"p-4","m-auto","font-medium"],[1,"p-4"],["class","px-4 py-2",4,"ngIf"],["class","px-4 py-2 font-mono italic",4,"ngIf"],[1,"px-4","py-2"],[1,"font-mono","text-[0.625rem]","opacity-30"],[1,"px-4","py-2","font-mono","italic"],[1,"rounded","h-8","w-8","flex","items-center","justify-center","text-2xl","text-white","mx-auto"],[1,"w-full","flex","items-center","mx-auto","space-x-2","px-2"],["icon","","matRipple","","matTooltip","Edit Ruleset",3,"click"],["icon","","matRipple","","matTooltip","Increase Ruleset Priority",3,"click"],["icon","","matRipple","","matTooltip","Decrease Ruleset Priority",3,"click"],["icon","","matRipple","","matTooltip","Remove Ruleset",3,"click"],[1,"text-error"],[1,"flex","items-center","justify-end","space-x-2","p-2","border-t","border-base-200"],["btn","","matRipple","","class","inverse w-36","mat-dialog-close","",4,"ngIf"],["btn","","matRipple","","class","inverse w-36",3,"click",4,"ngIf"],["btn","","matRipple","","class","w-36",3,"click",4,"ngIf"],["btn","","matRipple","","mat-dialog-close","",1,"inverse","w-36"],["btn","","matRipple","",1,"inverse","w-36",3,"click"],["btn","","matRipple","",1,"w-36",3,"click"],[1,"flex","flex-col","items-center","justify-center","h-full","min-w-[20rem]","min-h-64"],[3,"diameter"],[1,"mt-2"]],template:function(Vt,qe){if(1&Vt&&(O.j41(0,"header"),O.DNE(1,R,2,1,"h2",6)(2,ee,2,2,"h2",6)(3,k,3,0,"button",7),O.k0s(),O.DNE(4,vt,16,3,"main",8)(5,me,5,4,"footer",9)(6,$e,4,1,"ng-template",null,0,O.C5r)),2&Vt){const gt=O.sdS(7);O.R7$(),O.Y8G("ngIf","form"!==qe.view),O.R7$(),O.Y8G("ngIf","form"===qe.view),O.R7$(),O.Y8G("ngIf",!qe.loading),O.R7$(),O.Y8G("ngIf",!qe.loading)("ngIfElse",gt),O.R7$(),O.Y8G("ngIf",!qe.loading)}},dependencies:[z.bT,z.ux,z.e1,G.oV,K.LG,i.tx,F.r6,H.R,Y.O,P.K,U.D]})}return Ve})()},1583:(Mt,pe,a)=>{"use strict";a.d(pe,{o:()=>z});var e=a(3953),i=a(906),m=a(177),_=a(9417),g=a(6600),b=a(9434),u=a(2238),S=a(9058);function D(G,K){if(1&G&&(e.j41(0,"button",6)(1,"app-icon"),e.EFF(2,"today"),e.k0s()()),2&G){const F=e.XpG(),H=e.sdS(11);e.AVh("pointer-events-none",F.disabled)("opacity-30",F.disabled),e.Y8G("content",H)}}function E(G,K){if(1&G){const F=e.RV6();e.j41(0,"button",2),e.bIt("click",function(){e.eBV(F);const Y=e.XpG();return e.Njj(Y.nextDay())}),e.j41(1,"app-icon"),e.EFF(2,"keyboard_arrow_right"),e.k0s()()}}function A(G,K){if(1&G){const F=e.RV6();e.j41(0,"button",2),e.bIt("click",function(){e.eBV(F);const Y=e.XpG();return e.Njj(Y.nextDay())}),e.j41(1,"app-icon"),e.EFF(2,"keyboard_arrow_right"),e.k0s()()}}function v(G,K){if(1&G&&(e.j41(0,"button",7)(1,"app-icon"),e.EFF(2,"today"),e.k0s()()),2&G){const F=e.XpG(),H=e.sdS(11);e.AVh("pointer-events-none",F.disabled)("opacity-30",F.disabled),e.Y8G("content",H)}}function O(G,K){if(1&G){const F=e.RV6();e.j41(0,"div",8)(1,"date-calendar",9),e.bIt("ngModelChange",function(Y){e.eBV(F);const P=e.XpG();return P.date=Y,e.Njj(P.dateChange.emit(Y))}),e.k0s()()}if(2&G){const F=e.XpG();e.R7$(),e.Y8G("ngModel",F.date)("offset_weekday",F.week_start)}}let z=(()=>{class G{constructor(){this.is_new=!1,this.disabled=!1,this.week_start=0,this.date=(new Date).valueOf(),this.dateChange=new e.bkB,this.previousDay=()=>{this.date=function d(G,K){return(0,i.f)(G,-K)}(new Date(this.date),1).valueOf(),this.dateChange.emit(this.date)},this.nextDay=()=>{this.date=(0,i.f)(new Date(this.date),1).valueOf(),this.dateChange.emit(this.date)}}ngOnChanges(F){F.date&&(this.date=this.date||Date.now())}static#e=this.\u0275fac=function(H){return new(H||G)};static#t=this.\u0275cmp=e.VBU({type:G,selectors:[["date-options"]],inputs:{is_new:"is_new",disabled:"disabled",week_start:"week_start",date:"date"},outputs:{dateChange:"dateChange"},features:[e.OA$],decls:12,vars:8,consts:[["calendar_picker",""],["icon","","matRipple","","class","rounded relative","customTooltip","","yPosition","top",3,"content","pointer-events-none","opacity-30",4,"ngIf"],["icon","","matRipple","",3,"click"],["icon","","matRipple","",3,"click",4,"ngIf"],[1,"display","m-4","text-center",2,"width","7em"],["icon","","matRipple","","class","rounded relative border border-base-200","customTooltip","","yPosition","top",3,"content","pointer-events-none","opacity-30",4,"ngIf"],["icon","","matRipple","","customTooltip","","yPosition","top",1,"rounded","relative",3,"content"],["icon","","matRipple","","customTooltip","","yPosition","top",1,"rounded","relative","border","border-base-200",3,"content"],[1,"relative","w-[19rem]","rounded","bg-base-100","px-2","py-4"],[3,"ngModelChange","ngModel","offset_weekday"]],template:function(H,Y){if(1&H){const P=e.RV6();e.DNE(0,D,3,5,"button",1),e.j41(1,"button",2),e.bIt("click",function(){return e.eBV(P),e.Njj(Y.previousDay())}),e.j41(2,"app-icon"),e.EFF(3,"keyboard_arrow_left"),e.k0s()(),e.DNE(4,E,3,0,"button",3),e.j41(5,"div",4),e.EFF(6),e.nI1(7,"date"),e.k0s(),e.DNE(8,A,3,0,"button",3)(9,v,3,5,"button",5)(10,O,2,2,"ng-template",null,0,e.C5r)}2&H&&(e.Y8G("ngIf",Y.is_new),e.R7$(4),e.Y8G("ngIf",!Y.is_new),e.R7$(2),e.SpI(" ",e.i5U(7,5,Y.date,"mediumDate")," "),e.R7$(2),e.Y8G("ngIf",Y.is_new),e.R7$(),e.Y8G("ngIf",!Y.is_new))},dependencies:[m.bT,_.BC,_.vS,g.r6,b.R,u.I,S.I,m.vh],styles:["[_nghost-%COMP%]{display:flex;align-items:center}input[_ngcontent-%COMP%]{opacity:0;width:100%}"]})}return G})()},2236:(Mt,pe,a)=>{"use strict";a.d(pe,{x:()=>_});var e=a(3953),i=a(9417),d=a(3719),p=a(9631),m=a(9434);let _=(()=>{class g{constructor(){this.model="",this.modelChange=new e.bkB}static#e=this.\u0275fac=function(S){return new(S||g)};static#t=this.\u0275cmp=e.VBU({type:g,selectors:[["searchbar"]],inputs:{model:"model"},outputs:{modelChange:"modelChange"},decls:4,vars:1,consts:[["appearance","outline",1,"no-subscript"],["matInput","","placeholder","Search...",3,"ngModelChange","ngModel"],["matSuffix","",1,"text-xl"]],template:function(S,D){1&S&&(e.j41(0,"mat-form-field",0)(1,"input",1),e.mxI("ngModelChange",function(A){return e.DH7(D.model,A)||(D.model=A),A}),e.bIt("ngModelChange",function(A){return D.modelChange.emit(A)}),e.k0s(),e.j41(2,"app-icon",2),e.EFF(3,"search"),e.k0s()()),2&S&&(e.R7$(),e.R50("ngModel",D.model))},dependencies:[i.me,i.BC,i.vS,d.rl,d.yw,p.fg,m.R]})}return g})()},4605:(Mt,pe,a)=>{"use strict";a.d(pe,{k:()=>Y});var e=a(467),i=a(7375),d=a(6815),p=a(2185),m=a(5006),_=a(3953),g=a(4006),b=a(177),u=a(9417),S=a(9115),D=a(6600),E=a(5951),A=a(9434),v=a(3141);const O=P=>[P];function z(P,U){if(1&P&&(_.qex(0),_.j41(1,"a",16),_.nrm(2,"app-icon",17),_.j41(3,"div",18),_.EFF(4),_.k0s()(),_.bVm()),2&P){const $=U.$implicit;_.R7$(),_.Y8G("routerLink",_.eq3(3,O,"/"+$.route)),_.R7$(),_.Y8G("icon",$.icon),_.R7$(2),_.JRh($.name)}}function G(P,U){if(1&P&&(_.j41(0,"button",19)(1,"app-icon"),_.EFF(2,"place"),_.k0s(),_.j41(3,"div",20),_.EFF(4),_.nI1(5,"async"),_.nI1(6,"async"),_.k0s()()),2&P){let $;const B=_.XpG(),y=_.sdS(27);_.Y8G("matMenuTriggerFor",y),_.R7$(4),_.SpI(" ",(null==($=_.bMT(5,2,B.active_region))?null:$.display_name)||(null==($=_.bMT(6,4,B.active_region))?null:$.name)," ")}}function K(P,U){if(1&P&&(_.j41(0,"button",19)(1,"app-icon"),_.EFF(2,"business"),_.k0s(),_.j41(3,"div",20),_.EFF(4),_.nI1(5,"async"),_.nI1(6,"async"),_.k0s()()),2&P){let $;const B=_.XpG(),y=_.sdS(20);_.Y8G("matMenuTriggerFor",y),_.R7$(4),_.SpI(" ",(null==($=_.bMT(5,2,B.active_building))?null:$.display_name)||(null==($=_.bMT(6,4,B.active_building))?null:$.name)," ")}}function F(P,U){if(1&P){const $=_.RV6();_.j41(0,"mat-radio-button",21),_.bIt("click",function(){const y=_.eBV($).$implicit,I=_.XpG();return _.Njj(I.setBuilding(y))}),_.EFF(1),_.k0s()}if(2&P){const $=U.$implicit;_.Y8G("value",$.id),_.R7$(),_.SpI(" ",$.display_name||$.name," ")}}function H(P,U){if(1&P){const $=_.RV6();_.j41(0,"mat-radio-button",21),_.bIt("click",function(){const y=_.eBV($).$implicit,I=_.XpG();return _.Njj(I.setRegion(y))}),_.EFF(1),_.k0s()}if(2&P){const $=U.$implicit;_.Y8G("value",null==$?null:$.id),_.R7$(),_.SpI(" ",(null==$?null:$.display_name)||(null==$?null:$.name)," ")}}let Y=(()=>{class P{get links(){return this._settings.get("app.general.menu")||[]}get logo(){return this._settings.get("app.logo_dark")||{}}get version(){return i.xv}viewChangelog(){var $=this;return(0,e.A)(function*(){const B=yield(yield fetch("https://raw.githubusercontent.com/PlaceOS/user-interfaces/develop/CHANGELOG.md")).text();$._dialog.open(d.l4,{data:{changelog:B}})})()}get time_format(){return this._settings.time_format}constructor($,B,y){this._settings=$,this._org=B,this._dialog=y,this.regions=this._org.region_list.pipe((0,m.T)(I=>I.sort((w,L)=>w.display_name?.localeCompare(L.display_name)))),this.buildings=this._org.building_list.pipe((0,m.T)(I=>I.sort((w,L)=>w.display_name?.localeCompare(L.display_name)))),this.active_region=this._org.active_region,this.active_building=this._org.active_building,this.setBuilding=I=>this._org.building=I,this.setRegion=I=>this._org.region=I}static#e=this.\u0275fac=function(B){return new(B||P)(_.rXU(i.h$),_.rXU(p.yb),_.rXU(g.bZ))};static#t=this.\u0275cmp=_.VBU({type:P,selectors:[["sidebar"]],decls:33,vars:29,consts:()=>{let $;return $=$localize`:0b1694897c27c2a5bbdf582a7f7d2bac898f35056267525301152196009:Version: `,[["menu","matMenu"],["region","matMenu"],$,[1,"flex","flex-col","bg-secondary","w-48","text-white","h-full"],[1,"logo","w-full","flex","items-center","justify-center","p-3","mb-4"],[1,"w-full",3,"src"],[1,"flex-1","overflow-auto","space-y-2"],[4,"ngFor","ngForOf"],["mat-ripple","","class","w-full flex items-center space-x-2 p-3 border-t border-base-200-500 hover:bg-base-100/20",3,"matMenuTriggerFor",4,"ngIf"],[1,"p-2","border-t","border-base-200-500"],[1,"text-xs","opacity-60","w-full"],[1,"underline","p-0","m-0","bg-none","border-none","text-xs",3,"click"],[1,"w-64"],["aria-label","Select a building",1,"flex","flex-col",3,"ngModel"],[3,"value","click",4,"ngFor","ngForOf"],["aria-label","Select a region",1,"flex","flex-col",3,"ngModel"],["routerLinkActive","active",1,"flex","items-center","mx-2","space-x-2","hover:bg-base-100/20","px-2","py-1","rounded",3,"routerLink"],[1,"text-2xl",3,"icon"],[1,"text-base"],["mat-ripple","",1,"w-full","flex","items-center","space-x-2","p-3","border-t","border-base-200-500","hover:bg-base-100/20",3,"matMenuTriggerFor"],[1,"truncate"],[3,"click","value"]]},template:function(B,y){if(1&B){const I=_.RV6();_.j41(0,"div",3)(1,"div",4),_.nrm(2,"img",5),_.k0s(),_.j41(3,"div",6),_.DNE(4,z,5,5,"ng-container",7),_.k0s(),_.DNE(5,G,7,6,"button",8),_.nI1(6,"async"),_.DNE(7,K,7,6,"button",8),_.nI1(8,"async"),_.j41(9,"div",9)(10,"div",10),_.qex(11),_.pXf(12,2),_.bVm(),_.j41(13,"button",11),_.bIt("click",function(){return _.eBV(I),_.Njj(y.viewChangelog())}),_.EFF(14),_.k0s()(),_.j41(15,"div",10),_.EFF(16),_.nI1(17,"date"),_.nI1(18,"date"),_.k0s()()(),_.j41(19,"mat-menu",null,0)(21,"div",12)(22,"mat-radio-group",13),_.nI1(23,"async"),_.DNE(24,F,2,2,"mat-radio-button",14),_.nI1(25,"async"),_.k0s()()(),_.j41(26,"mat-menu",null,1)(28,"div",12)(29,"mat-radio-group",15),_.nI1(30,"async"),_.DNE(31,H,2,2,"mat-radio-button",14),_.nI1(32,"async"),_.k0s()()()}if(2&B){let I,w;_.R7$(2),_.Y8G("src",y.logo.src,_.B4B),_.R7$(2),_.Y8G("ngForOf",y.links),_.R7$(),_.Y8G("ngIf",_.bMT(6,11,y.regions).length>1),_.R7$(2),_.Y8G("ngIf",_.bMT(8,13,y.buildings).length>1),_.R7$(7),_.SpI(" ",y.version.hash," "),_.R7$(2),_.Lme(" ",_.i5U(17,15,y.version.time,"longDate")," (",_.i5U(18,18,y.version.time,y.time_format),") "),_.R7$(6),_.Y8G("ngModel",null==(I=_.bMT(23,21,y.active_building))?null:I.id),_.R7$(2),_.Y8G("ngForOf",_.bMT(25,23,y.buildings)),_.R7$(5),_.Y8G("ngModel",null==(w=_.bMT(30,25,y.active_region))?null:w.id),_.R7$(2),_.Y8G("ngForOf",_.bMT(32,27,y.regions))}},dependencies:[b.Sq,b.bT,u.BC,u.vS,S.kk,S.Cp,D.r6,E.VT,E._g,A.R,v.Wk,v.wQ,b.Jj,b.vh],styles:["a.active[_ngcontent-%COMP%]{background-color:var(--p)!important;color:var(--pc)!important}"]})}return P})()},363:(Mt,pe,a)=>{"use strict";a.d(pe,{r:()=>$e});var e=a(177),i=a(3141),d=a(9417),p=a(6600),m=a(8834),_=a(3719),g=a(9631),b=a(2798),u=a(2765),S=a(450),D=a(9115),E=a(4823),A=a(7575),v=a(9183),O=a(5084),z=a(4006),G=a(850),P=(a(4605),a(1583),a(2236),a(2232),a(6815)),U=a(3046),$=a(2168),B=a(5272),y=a(3953),I=a(7375),w=a(2596),L=a(6299);const Q=["input"];function te(Et,Ve){if(1&Et&&y.nrm(0,"img",27),2&Et){const st=y.XpG();y.Y8G("src","assets/icons/"+st.card_type+".svg",y.B4B)}}function R(Et,Ve){if(1&Et&&(y.j41(0,"mat-option",28),y.EFF(1),y.k0s()),2&Et){const st=Ve.$implicit;y.Y8G("value",st[0]),y.R7$(),y.Lme(" ",st[1]," (",st[0],") ")}}function ee(Et,Ve){if(1&Et&&(y.j41(0,"mat-option",28),y.EFF(1),y.k0s()),2&Et){const st=Ve.$implicit;y.Y8G("value",st),y.R7$(),y.JRh(st)}}const k={card_number:"                ",cardholder:"",cvv:""},J=new e.vh("en-us","");let X=(()=>{class Et extends I.Tv{constructor(){super(...arguments),this.details=new d.gE({card_number:new d.MJ(Array(16).fill("X").join()),cardholder:new d.MJ(""),exp_month:new d.MJ(""),exp_year:new d.MJ(""),cvv:new d.MJ("",[d.k0.minLength(3),d.k0.maxLength(4)])}),this.disabled=!1,this.months=Array(12).fill(0).map((st,ht)=>[J.transform((0,w.Z)(Date.now(),ht),"MM"),J.transform((0,w.Z)(Date.now(),ht),"MMM")]),this.years=Array(12).fill(0).map((st,ht)=>J.transform((0,L.e)(Date.now(),ht),"yyyy")),this.digits=Array(16).fill(0),this._index=0,this.registerOnChange=st=>this._onChange=st,this.registerOnTouched=st=>this._onTouch=st,this.setDisabledState=st=>this.disabled=st}get is_amex(){return(this.details.value?.card_number||"").startsWith("3")}get card_type(){const st=this.details.value?.card_number||"";return st.startsWith("3")?"amex":st.startsWith("4")?"visa":st.startsWith("5")?"mastercard":""}get card_display(){let st=this.details.value?.card_number||"";return this.card_focused&&(st=st.substring(0,this._index)+"\u2bd0"+st.substring(this._index+1)),this.is_amex?`${st.substring(0,4)}-${st.substring(4,10)}-${st.substring(10)}`:`${st.substring(0,4)}-${st.substring(4,8)}-${st.substring(8,12)}-${st.substring(12)}`}get card_focused(){return document.activeElement===this._input_el.nativeElement||document.activeElement===this._input_el.nativeElement.parentElement}ngOnInit(){this.subscription("changes",this.details.valueChanges.subscribe(st=>this.timeout("update",()=>this.setValue(this.details.getRawValue()))))}focusInput(){this._input_el.nativeElement.focus(),this._index=this._input_el.nativeElement.selectionStart||0}onInput(st){if(!st||!this.card_focused)return;const ht=this._index;if(ht<0||ht>16)return;let Vt=this.details.value.card_number;if((st.code.startsWith("Digit")||st.code.startsWith("Numpad"))&&ht<(this.is_amex?15:16))Vt=Vt.substring(0,ht)+st.key+Vt.substring(ht+1),this.details.patchValue({card_number:Vt}),this._focusChange(ht,1);else if("Backspace"===st.code&&ht>0){let qe=this.details.value.card_number;qe=qe.substring(0,ht)+" "+qe.substring(ht+1),this.details.patchValue({card_number:qe}),this._focusChange(ht,-1)}else"ArrowLeft"===st.code?this._focusChange(ht,-1):"ArrowRight"===st.code&&" "!==Vt[ht]&&this._focusChange(ht,1)}_focusChange(st,ht){this._index=Math.min(16,Math.max(0,st+ht))}setValue(st){this._onChange&&this._onChange(st)}writeValue(st){this.details.patchValue(st||k)}static#e=this.\u0275fac=(()=>{let st;return function(Vt){return(st||(st=y.xGo(Et)))(Vt||Et)}})();static#t=this.\u0275cmp=y.VBU({type:Et,selectors:[["card-input-field"]],viewQuery:function(ht,Vt){if(1&ht&&y.GBs(Q,7),2&ht){let qe;y.mGM(qe=y.lsd())&&(Vt._input_el=qe.first)}},features:[y.Jv_([{provide:d.kq,useExisting:(0,y.Rfq)(()=>Et),multi:!0}]),y.Vt3],decls:41,vars:6,consts:()=>{let st,ht,Vt,qe,gt,ot,ae;return st=$localize`:c51ae86488666fc691751bf76d88811b37505c001085309836704157602:Card Number`,ht=$localize`:cc927e92ada1f250e8c5ea7884d0b1294be566354148395957159016439:Name on Card`,Vt=$localize`:6402e768a1ac6a5f86edf0daccf05b3d9d63f465598947732489453783:Cardholder name is required`,qe=$localize`:48b5a0234304bd29aeaab8f2793b8245517a71027043163776563263056:Expiry Month`,gt=$localize`:28b0c8359cc099ef3dcaddac4c1357d45751ac9d1539914853150581191:Expiry month is required`,ot=$localize`:84a41ff903da0de49f3172fef0d0528701065d6e6698859483517525075:Expiry year is required`,ae=$localize`:11a0ab2762b4af425c3d20aa211a751e4785e04e203544573091191988:Invalid security code`,[["input",""],st,ht,Vt,qe,gt,ot,ae,[3,"keyup","formGroup"],[1,"flex","flex-col"],["for","card-number"],["tabindex","0",1,"border","border-base-200","p-2","h-12","mb-4","focus-within:shadow","focus-within:border-base-200","flex","items-center","font-mono","w-full","rounded","relative",3,"focus"],[1,"flex-1"],["type","tel","maxlength","17",1,"hidden","absolute",3,"keydown","value"],["class","h-8",3,"src",4,"ngIf"],[1,"flex","flex-col","flex-1"],["for","cardholder"],["appearance","outline"],["name","cardholder","matInput","","placeholder","Mr John Smith","formControlName","cardholder"],[1,"flex","items-center","space-x-2"],[1,"flex","flex-col","flex-1","w-1/4"],["placeholder","MM","formControlName","exp_month"],[3,"value",4,"ngFor","ngForOf"],["placeholder","YYYY","formControlName","exp_year"],["for","cvv"],["appearance","outline",1,"w-20"],["name","cvv","matInput","","formControlName","cvv","maxlength","4"],[1,"h-8",3,"src"],[3,"value"]]},template:function(ht,Vt){if(1&ht){const qe=y.RV6();y.j41(0,"form",8),y.bIt("keyup",function(ot){return y.eBV(qe),y.Njj(Vt.onInput(ot))},!1,y.tSv),y.j41(1,"div",9)(2,"label",10),y.pXf(3,1),y.k0s(),y.j41(4,"div",11),y.bIt("focus",function(){return y.eBV(qe),y.Njj(Vt.focusInput())}),y.j41(5,"pre",12),y.EFF(6),y.k0s(),y.j41(7,"input",13,0),y.bIt("keydown",function(){return y.eBV(qe),y.Njj(!1)}),y.k0s(),y.DNE(9,te,1,1,"img",14),y.k0s()(),y.j41(10,"div",15)(11,"label",16),y.pXf(12,2),y.k0s(),y.j41(13,"mat-form-field",17),y.nrm(14,"input",18),y.j41(15,"mat-error"),y.pXf(16,3),y.k0s()()(),y.j41(17,"div",19)(18,"div",20)(19,"label",16),y.pXf(20,4),y.k0s(),y.j41(21,"mat-form-field",17)(22,"mat-select",21),y.DNE(23,R,2,3,"mat-option",22),y.k0s(),y.j41(24,"mat-error"),y.pXf(25,5),y.k0s()()(),y.j41(26,"div",20)(27,"label",16),y.EFF(28,"Expiry Year"),y.k0s(),y.j41(29,"mat-form-field",17)(30,"mat-select",23),y.DNE(31,ee,2,2,"mat-option",22),y.k0s(),y.j41(32,"mat-error"),y.pXf(33,6),y.k0s()()(),y.j41(34,"div",9)(35,"label",24),y.EFF(36,"CVV"),y.k0s(),y.j41(37,"mat-form-field",25),y.nrm(38,"input",26),y.j41(39,"mat-error"),y.pXf(40,7),y.k0s()()()()()}2&ht&&(y.Y8G("formGroup",Vt.details),y.R7$(6),y.JRh(Vt.card_display),y.R7$(),y.Y8G("value",null==Vt.details.value.card_number?null:Vt.details.value.card_number.trim()),y.R7$(2),y.Y8G("ngIf",Vt.card_type),y.R7$(14),y.Y8G("ngForOf",Vt.months),y.R7$(8),y.Y8G("ngForOf",Vt.years))},dependencies:[e.Sq,e.bT,d.qT,d.me,d.BC,d.cb,d.tU,d.j4,d.JD,_.rl,_.TL,g.fg,b.VO,p.wT],styles:["mat-form-field[_ngcontent-%COMP%]{height:3.25rem}"]})}return Et})(),Me=(()=>{class Et{static#e=this.\u0275fac=function(ht){return new(ht||Et)};static#t=this.\u0275mod=y.$C({type:Et});static#n=this.\u0275inj=y.G2t({imports:[e.MD,d.YN,d.X1,_.RG,g.fS,z.hM,m.Hl,b.Ve,v.D6]})}return Et})();y.wjB(B.$,[e.bT,d.BC,d.vS,z.tx,v.LG,X],[e.Jj,e.oe,e.vh]),a(4525);var Ct=a(7236),lt=a(5951);a(5189),a(6843),a(6252),a(4483),a(2953);const ue=[m.Hl,_.RG,g.fS,b.Ve,u.g7,S.mV,D.Cn,E.uc,A.PO,O.X6,p.WX,v.D6,z.hM,G.jL,p.pZ,lt.Wk],me=[d.YN,d.X1];let $e=(()=>{class Et{static#e=this.\u0275fac=function(ht){return new(ht||Et)};static#t=this.\u0275mod=y.$C({type:Et});static#n=this.\u0275inj=y.G2t({imports:[e.MD,me,ue,P.hI,U.cQ,$.lx,Me,Ct.s1,i.iI.forChild([]),m.Hl,_.RG,g.fS,b.Ve,u.g7,S.mV,D.Cn,E.uc,A.PO,O.X6,p.WX,v.D6,z.hM,G.jL,p.pZ,lt.Wk,d.YN,d.X1,U.cQ,P.hI,Me,Ct.s1]})}return Et})()},2232:(Mt,pe,a)=>{"use strict";a.d(pe,{x:()=>G});var e=a(467),i=a(2017),d=a(7926),m=(a(8113),a(1954)),_=a(2185),g=a(7375),b=a(3953),u=a(177),S=a(6600),D=a(9434),E=a(1193),A=a(4616),v=a(2011);function O(K,F){if(1&K&&(b.j41(0,"div",15),b.nrm(1,"a-user-avatar",16),b.j41(2,"div",17)(3,"div",18),b.EFF(4),b.k0s(),b.j41(5,"div",19),b.EFF(6),b.k0s()()()),2&K){const H=F.$implicit;b.R7$(),b.Y8G("user",H),b.R7$(3),b.SpI(" ",H.name||H.first_name+" "+H.last_name," "),b.R7$(2),b.SpI(" ",H.email," ")}}function z(K,F){if(1&K){const H=b.RV6();b.j41(0,"div",20)(1,"button",21),b.bIt("click",function(){b.eBV(H);const P=b.XpG();return b.Njj(P.remove())}),b.EFF(2," Remove Booking "),b.k0s(),b.j41(3,"button",22),b.bIt("click",function(){b.eBV(H);const P=b.XpG();return b.Njj(P.edit())}),b.EFF(4," Edit Booking "),b.k0s()()}}let G=(()=>{class K{get building(){return this._org.building}get space_id(){return this.event?.resources[0]?.id||this.event?.space?.id||this.event?.system?.id}get time(){const H=new Date(this.event.date);return(0,i.GP)(H,this.time_format)+" - "+(0,i.GP)((0,d.z)(H,this.event.duration),this.time_format)}get is_delegated(){return this._settings.get("app.delegated")}get time_format(){return this._settings.time_format}constructor(H,Y,P){var U=this;this._state=H,this._settings=Y,this._org=P,this.close=()=>this._state.setEvent(null),this.edit=()=>this._state.newBooking(this.event),this.remove=(0,e.A)(function*(){(yield U._state.removeBooking(U.event))&&U.close()})}static#e=this.\u0275fac=function(Y){return new(Y||K)(b.rXU(m.G),b.rXU(g.h$),b.rXU(_.yb))};static#t=this.\u0275cmp=b.VBU({type:K,selectors:[["view-event-details"]],inputs:{event:"event"},decls:46,vars:24,consts:[[1,"fixed","inset-0","bg-neutral","bg-opacity-30",3,"click"],["name","panel",1,"absolute","rounded","shadow","flex","flex-col","bg-base-100",3,"click"],[1,"p-4","overflow-auto","flex-1"],[1,"pl-6","mb-1"],[1,"text-bold","mb-4","pl-6","opacity-60"],[1,"flex","items-center","mb-2"],[1,"mr-1"],[1,"opacity-60"],[1,"flex","flex-col","mb-2"],["class","flex items-center pl-6 mb-1 hover:bg-base-200 rounded",4,"ngFor","ngForOf"],[1,"flex","items-center"],[1,"flex","items-center","pl-6","mb-2"],[1,"opacity-60",3,"innerHTML"],["name","actions","class","flex items-center justify-content p-4 space-x-4",4,"ngIf"],["name","close","icon","","matRipple","",3,"click"],[1,"flex","items-center","pl-6","mb-1","hover:bg-base-200","rounded"],[1,"text-sm","pr-2",3,"user"],[1,"flex","flex-col"],[1,"text-sm","opacity-80"],[1,"text-xs","opacity-50"],["name","actions",1,"flex","items-center","justify-content","p-4","space-x-4"],["btn","","matRipple","",1,"flex-1","inverse",3,"click"],["btn","","matRipple","",1,"flex-1",3,"click"]],template:function(Y,P){if(1&Y&&(b.j41(0,"div",0),b.bIt("click",function(){return P.close()}),b.k0s(),b.j41(1,"div",1),b.bIt("click",function($){return $.stopPropagation()}),b.j41(2,"div",2)(3,"h3",3),b.EFF(4),b.k0s(),b.j41(5,"div",4),b.EFF(6),b.nI1(7,"date"),b.k0s(),b.j41(8,"div",5)(9,"app-icon",6),b.EFF(10,"title"),b.k0s(),b.j41(11,"span",7),b.EFF(12),b.k0s()(),b.j41(13,"div",5)(14,"app-icon",6),b.EFF(15,"schedule"),b.k0s(),b.j41(16,"span",7),b.EFF(17),b.k0s()(),b.j41(18,"div",5)(19,"app-icon",6),b.EFF(20,"people"),b.k0s(),b.j41(21,"span",7),b.EFF(22),b.k0s()(),b.j41(23,"div",8),b.DNE(24,O,7,3,"div",9),b.k0s(),b.j41(25,"div",5)(26,"app-icon",6),b.EFF(27,"place"),b.k0s(),b.j41(28,"span",7),b.EFF(29),b.nI1(30,"space"),b.nI1(31,"async"),b.nI1(32,"space"),b.nI1(33,"async"),b.k0s()(),b.j41(34,"div",10)(35,"app-icon",6),b.EFF(36,"format_align_left"),b.k0s(),b.j41(37,"span",7),b.EFF(38,"Notes"),b.k0s()(),b.j41(39,"div",11),b.nrm(40,"span",12),b.nI1(41,"sanitize"),b.k0s()(),b.DNE(42,z,5,0,"div",13),b.j41(43,"button",14),b.bIt("click",function(){return P.close()}),b.j41(44,"app-icon"),b.EFF(45,"close"),b.k0s()()()),2&Y){let U;b.R7$(4),b.SpI(" ",(null==P.event.organiser?null:P.event.organiser.name)||P.event.host," "),b.R7$(2),b.SpI(" ",b.i5U(7,11,P.event.date,"fullDate")," "),b.R7$(6),b.JRh(P.event.title),b.R7$(5),b.JRh(P.time),b.R7$(5),b.Lme("",P.event.attendees.length," Attendee",1===P.event.attendees.length?"":"s",""),b.R7$(2),b.Y8G("ngForOf",P.event.attendees),b.R7$(5),b.Lme("",P.building.display_name||P.building.name,", ",(null==(U=b.bMT(31,16,b.bMT(30,14,P.space_id)))?null:U.display_name)||(null==(U=b.bMT(33,20,b.bMT(32,18,P.space_id)))?null:U.name),""),b.R7$(11),b.Y8G("innerHTML",b.bMT(41,22,P.event.body||"< No notes >"),b.npT),b.R7$(2),b.Y8G("ngIf",!P.is_delegated)}},dependencies:[u.Sq,u.bT,S.r6,D.R,E.a,u.Jj,u.vh,A.a,v.J],styles:["[_nghost-%COMP%]{z-index:999}[name=panel][_ngcontent-%COMP%]{padding-top:0;width:26em;left:50%;top:6.5em;transform:translate(-50%);max-height:80vh}[name=actions][_ngcontent-%COMP%]{border-top:1px solid #ccc}[name=close][_ngcontent-%COMP%]{position:absolute;top:.25em;right:.25em}"]})}return K})()},5815:(Mt,pe,a)=>{"use strict";var e=a(345),i=a(3953),d=a(1626),p=a(9969);function _(o){return new i.wOt(3e3,!1)}function rt(o){switch(o.length){case 0:return new p.sf;case 1:return o[0];default:return new p.ui(o)}}function vt(o,r,l=new Map,h=new Map){const T=[],V=[];let re=-1,ge=null;if(r.forEach(we=>{const Je=we.get("offset"),It=Je==re,Rt=It&&ge||new Map;we.forEach((on,yn)=>{let gn=yn,An=on;if("offset"!==yn)switch(gn=o.normalizePropertyName(gn,T),An){case p.FX:An=l.get(yn);break;case p.kp:An=h.get(yn);break;default:An=o.normalizeStyleValue(yn,gn,An,T)}Rt.set(gn,An)}),It||V.push(Rt),ge=Rt,re=Je}),T.length)throw function Q(){return new i.wOt(3502,!1)}();return V}function ve(o,r,l,h){switch(r){case"start":o.onStart(()=>h(l&&Ce(l,"start",o)));break;case"done":o.onDone(()=>h(l&&Ce(l,"done",o)));break;case"destroy":o.onDestroy(()=>h(l&&Ce(l,"destroy",o)))}}function Ce(o,r,l){const V=be(o.element,o.triggerName,o.fromState,o.toState,r||o.phaseName,l.totalTime??o.totalTime,!!l.disabled),re=o._data;return null!=re&&(V._data=re),V}function be(o,r,l,h,T="",V=0,re){return{element:o,triggerName:r,fromState:l,toState:h,phaseName:T,totalTime:V,disabled:!!re}}function ue(o,r,l){let h=o.get(r);return h||o.set(r,h=l),h}function me(o){const r=o.indexOf(":");return[o.substring(1,r),o.slice(r+1)]}const $e=typeof document>"u"?null:document.documentElement;function Et(o){const r=o.parentNode||o.host||null;return r===$e?null:r}let st=null,ht=!1;function ot(o,r){for(;r;){if(r===o)return!0;r=Et(r)}return!1}function ae(o,r,l){if(l)return Array.from(o.querySelectorAll(r));const h=o.querySelector(r);return h?[h]:[]}let Le=(()=>{class o{validateStyleProperty(l){return function Vt(o){st||(st=function gt(){return typeof document<"u"?document.body:null}()||{},ht=!!st.style&&"WebkitAppearance"in st.style);let r=!0;return st.style&&!function Ve(o){return"ebkit"==o.substring(1,6)}(o)&&(r=o in st.style,!r&&ht&&(r="Webkit"+o.charAt(0).toUpperCase()+o.slice(1)in st.style)),r}(l)}containsElement(l,h){return ot(l,h)}getParentElement(l){return Et(l)}query(l,h,T){return ae(l,h,T)}computeStyle(l,h,T){return T||""}animate(l,h,T,V,re,ge=[],we){return new p.sf(T,V)}static#e=this.\u0275fac=function(h){return new(h||o)};static#t=this.\u0275prov=i.jDH({token:o,factory:o.\u0275fac})}return o})();class Pe{static#e=this.NOOP=new Le}class _t{}const Kt=1e3,_n="ng-enter",ft="ng-leave",pt="ng-trigger",$t=".ng-trigger",kt="ng-animating",dn=".ng-animating";function pn(o){if("number"==typeof o)return o;const r=o.match(/^(-?[\.\d]+)(m?s)/);return!r||r.length<2?0:un(parseFloat(r[1]),r[2])}function un(o,r){return"s"===r?o*Kt:o}function an(o,r,l){return o.hasOwnProperty("duration")?o:function hn(o,r,l){let T,V=0,re="";if("string"==typeof o){const ge=o.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ge)return r.push(_()),{duration:0,delay:0,easing:""};T=un(parseFloat(ge[1]),ge[2]);const we=ge[3];null!=we&&(V=un(parseFloat(we),ge[4]));const Je=ge[5];Je&&(re=Je)}else T=o;if(!l){let ge=!1,we=r.length;T<0&&(r.push(function g(){return new i.wOt(3100,!1)}()),ge=!0),V<0&&(r.push(function b(){return new i.wOt(3101,!1)}()),ge=!0),ge&&r.splice(we,0,_())}return{duration:T,delay:V,easing:re}}(o,r,l)}function at(o,r,l){r.forEach((h,T)=>{const V=Ee(T);l&&!l.has(T)&&l.set(T,o.style[V]),o.style[V]=h})}function ct(o,r){r.forEach((l,h)=>{const T=Ee(h);o.style[T]=""})}function Xe(o){return Array.isArray(o)?1==o.length?o[0]:(0,p.K2)(o):o}const Bt=new RegExp("{{\\s*(.+?)\\s*}}","g");function Xt(o){let r=[];if("string"==typeof o){let l;for(;l=Bt.exec(o);)r.push(l[1]);Bt.lastIndex=0}return r}function Be(o,r,l){const h=`${o}`,T=h.replace(Bt,(V,re)=>{let ge=r[re];return null==ge&&(l.push(function S(){return new i.wOt(3003,!1)}()),ge=""),ge.toString()});return T==h?o:T}const oe=/-+([a-z0-9])/g;function Ee(o){return o.replace(oe,(...r)=>r[1].toUpperCase())}function Ge(o,r,l){switch(r.type){case p.If.Trigger:return o.visitTrigger(r,l);case p.If.State:return o.visitState(r,l);case p.If.Transition:return o.visitTransition(r,l);case p.If.Sequence:return o.visitSequence(r,l);case p.If.Group:return o.visitGroup(r,l);case p.If.Animate:return o.visitAnimate(r,l);case p.If.Keyframes:return o.visitKeyframes(r,l);case p.If.Style:return o.visitStyle(r,l);case p.If.Reference:return o.visitReference(r,l);case p.If.AnimateChild:return o.visitAnimateChild(r,l);case p.If.AnimateRef:return o.visitAnimateRef(r,l);case p.If.Query:return o.visitQuery(r,l);case p.If.Stagger:return o.visitStagger(r,l);default:throw function D(){return new i.wOt(3004,!1)}()}}function Ue(o,r){return window.getComputedStyle(o)[r]}const Fe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class At extends _t{normalizePropertyName(r,l){return Ee(r)}normalizeStyleValue(r,l,h,T){let V="";const re=h.toString().trim();if(Fe.has(l)&&0!==h&&"0"!==h)if("number"==typeof h)V="px";else{const ge=h.match(/^[+-]?[\d\.]+([a-z]*)$/);ge&&0==ge[1].length&&T.push(function E(){return new i.wOt(3005,!1)}())}return re+V}}const Xn="*";const Ti=new Set(["true","1"]),Wi=new Set(["false","0"]);function ys(o,r){const l=Ti.has(o)||Wi.has(o),h=Ti.has(r)||Wi.has(r);return(T,V)=>{let re=o==Xn||o==T,ge=r==Xn||r==V;return!re&&l&&"boolean"==typeof T&&(re=T?Ti.has(o):Wi.has(o)),!ge&&h&&"boolean"==typeof V&&(ge=V?Ti.has(r):Wi.has(r)),re&&ge}}const dt=new RegExp("s*:selfs*,?","g");function Pt(o,r,l,h){return new Pn(o).build(r,l,h)}class Pn{constructor(r){this._driver=r}build(r,l,h){const T=new zt(l);return this._resetContextStyleTimingState(T),Ge(this,Xe(r),T)}_resetContextStyleTimingState(r){r.currentQuerySelector="",r.collectedStyles=new Map,r.collectedStyles.set("",new Map),r.currentTime=0}visitTrigger(r,l){let h=l.queryCount=0,T=l.depCount=0;const V=[],re=[];return"@"==r.name.charAt(0)&&l.errors.push(function A(){return new i.wOt(3006,!1)}()),r.definitions.forEach(ge=>{if(this._resetContextStyleTimingState(l),ge.type==p.If.State){const we=ge,Je=we.name;Je.toString().split(/\s*,\s*/).forEach(It=>{we.name=It,V.push(this.visitState(we,l))}),we.name=Je}else if(ge.type==p.If.Transition){const we=this.visitTransition(ge,l);h+=we.queryCount,T+=we.depCount,re.push(we)}else l.errors.push(function v(){return new i.wOt(3007,!1)}())}),{type:p.If.Trigger,name:r.name,states:V,transitions:re,queryCount:h,depCount:T,options:null}}visitState(r,l){const h=this.visitStyle(r.styles,l),T=r.options&&r.options.params||null;if(h.containsDynamicStyles){const V=new Set,re=T||{};h.styles.forEach(ge=>{ge instanceof Map&&ge.forEach(we=>{Xt(we).forEach(Je=>{re.hasOwnProperty(Je)||V.add(Je)})})}),V.size&&l.errors.push(function O(){return new i.wOt(3008,!1)}(0,V.values()))}return{type:p.If.State,name:r.name,style:h,options:T?{params:T}:null}}visitTransition(r,l){l.queryCount=0,l.depCount=0;const h=Ge(this,Xe(r.animation),l),T=function Qn(o,r){const l=[];return"string"==typeof o?o.split(/\s*,\s*/).forEach(h=>function fi(o,r,l){if(":"==o[0]){const we=function Ui(o,r){switch(o){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(l,h)=>parseFloat(h)>parseFloat(l);case":decrement":return(l,h)=>parseFloat(h)<parseFloat(l);default:return r.push(function y(){return new i.wOt(3016,!1)}()),"* => *"}}(o,l);if("function"==typeof we)return void r.push(we);o=we}const h=o.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==h||h.length<4)return l.push(function B(){return new i.wOt(3015,!1)}()),r;const T=h[1],V=h[2],re=h[3];r.push(ys(T,re)),"<"==V[0]&&(T!=Xn||re!=Xn)&&r.push(ys(re,T))}(h,l,r)):l.push(o),l}(r.expr,l.errors);return{type:p.If.Transition,matchers:T,animation:h,queryCount:l.queryCount,depCount:l.depCount,options:Qt(r.options)}}visitSequence(r,l){return{type:p.If.Sequence,steps:r.steps.map(h=>Ge(this,h,l)),options:Qt(r.options)}}visitGroup(r,l){const h=l.currentTime;let T=0;const V=r.steps.map(re=>{l.currentTime=h;const ge=Ge(this,re,l);return T=Math.max(T,l.currentTime),ge});return l.currentTime=T,{type:p.If.Group,steps:V,options:Qt(r.options)}}visitAnimate(r,l){const h=function mt(o,r){if(o.hasOwnProperty("duration"))return o;if("number"==typeof o)return se(an(o,r).duration,0,"");const l=o;if(l.split(/\s+/).some(V=>"{"==V.charAt(0)&&"{"==V.charAt(1))){const V=se(0,0,"");return V.dynamic=!0,V.strValue=l,V}const T=an(l,r);return se(T.duration,T.delay,T.easing)}(r.timings,l.errors);l.currentAnimateTimings=h;let T,V=r.styles?r.styles:(0,p.iF)({});if(V.type==p.If.Keyframes)T=this.visitKeyframes(V,l);else{let re=r.styles,ge=!1;if(!re){ge=!0;const Je={};h.easing&&(Je.easing=h.easing),re=(0,p.iF)(Je)}l.currentTime+=h.duration+h.delay;const we=this.visitStyle(re,l);we.isEmptyStep=ge,T=we}return l.currentAnimateTimings=null,{type:p.If.Animate,timings:h,style:T,options:null}}visitStyle(r,l){const h=this._makeStyleAst(r,l);return this._validateStyleAst(h,l),h}_makeStyleAst(r,l){const h=[],T=Array.isArray(r.styles)?r.styles:[r.styles];for(let ge of T)"string"==typeof ge?ge===p.kp?h.push(ge):l.errors.push(new i.wOt(3002,!1)):h.push(new Map(Object.entries(ge)));let V=!1,re=null;return h.forEach(ge=>{if(ge instanceof Map&&(ge.has("easing")&&(re=ge.get("easing"),ge.delete("easing")),!V))for(let we of ge.values())if(we.toString().indexOf("{{")>=0){V=!0;break}}),{type:p.If.Style,styles:h,easing:re,offset:r.offset,containsDynamicStyles:V,options:null}}_validateStyleAst(r,l){const h=l.currentAnimateTimings;let T=l.currentTime,V=l.currentTime;h&&V>0&&(V-=h.duration+h.delay),r.styles.forEach(re=>{"string"!=typeof re&&re.forEach((ge,we)=>{const Je=l.collectedStyles.get(l.currentQuerySelector),It=Je.get(we);let Rt=!0;It&&(V!=T&&V>=It.startTime&&T<=It.endTime&&(l.errors.push(function K(){return new i.wOt(3010,!1)}()),Rt=!1),V=It.startTime),Rt&&Je.set(we,{startTime:V,endTime:T}),l.options&&function Qe(o,r,l){const h=r.params||{},T=Xt(o);T.length&&T.forEach(V=>{h.hasOwnProperty(V)||l.push(function u(){return new i.wOt(3001,!1)}())})}(ge,l.options,l.errors)})})}visitKeyframes(r,l){const h={type:p.If.Keyframes,styles:[],options:null};if(!l.currentAnimateTimings)return l.errors.push(function F(){return new i.wOt(3011,!1)}()),h;let V=0;const re=[];let ge=!1,we=!1,Je=0;const It=r.steps.map(qn=>{const bi=this._makeStyleAst(qn,l);let es=null!=bi.offset?bi.offset:function Yt(o){if("string"==typeof o)return null;let r=null;if(Array.isArray(o))o.forEach(l=>{if(l instanceof Map&&l.has("offset")){const h=l;r=parseFloat(h.get("offset")),h.delete("offset")}});else if(o instanceof Map&&o.has("offset")){const l=o;r=parseFloat(l.get("offset")),l.delete("offset")}return r}(bi.styles),Mi=0;return null!=es&&(V++,Mi=bi.offset=es),we=we||Mi<0||Mi>1,ge=ge||Mi<Je,Je=Mi,re.push(Mi),bi});we&&l.errors.push(function H(){return new i.wOt(3012,!1)}()),ge&&l.errors.push(function Y(){return new i.wOt(3200,!1)}());const Rt=r.steps.length;let on=0;V>0&&V<Rt?l.errors.push(function P(){return new i.wOt(3202,!1)}()):0==V&&(on=1/(Rt-1));const yn=Rt-1,gn=l.currentTime,An=l.currentAnimateTimings,Zn=An.duration;return It.forEach((qn,bi)=>{const es=on>0?bi==yn?1:on*bi:re[bi],Mi=es*Zn;l.currentTime=gn+An.delay+Mi,An.duration=Mi,this._validateStyleAst(qn,l),qn.offset=es,h.styles.push(qn)}),h}visitReference(r,l){return{type:p.If.Reference,animation:Ge(this,Xe(r.animation),l),options:Qt(r.options)}}visitAnimateChild(r,l){return l.depCount++,{type:p.If.AnimateChild,options:Qt(r.options)}}visitAnimateRef(r,l){return{type:p.If.AnimateRef,animation:this.visitReference(r.animation,l),options:Qt(r.options)}}visitQuery(r,l){const h=l.currentQuerySelector,T=r.options||{};l.queryCount++,l.currentQuery=r;const[V,re]=function Dn(o){const r=!!o.split(/\s*,\s*/).find(l=>":self"==l);return r&&(o=o.replace(dt,"")),o=o.replace(/@\*/g,$t).replace(/@\w+/g,l=>$t+"-"+l.slice(1)).replace(/:animating/g,dn),[o,r]}(r.selector);l.currentQuerySelector=h.length?h+" "+V:V,ue(l.collectedStyles,l.currentQuerySelector,new Map);const ge=Ge(this,Xe(r.animation),l);return l.currentQuery=null,l.currentQuerySelector=h,{type:p.If.Query,selector:V,limit:T.limit||0,optional:!!T.optional,includeSelf:re,animation:ge,originalSelector:r.selector,options:Qt(r.options)}}visitStagger(r,l){l.currentQuery||l.errors.push(function U(){return new i.wOt(3013,!1)}());const h="full"===r.timings?{duration:0,delay:0,easing:"full"}:an(r.timings,l.errors,!0);return{type:p.If.Stagger,animation:Ge(this,Xe(r.animation),l),timings:h,options:null}}}class zt{constructor(r){this.errors=r,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Qt(o){return o?(o={...o}).params&&(o.params=function yt(o){return o?{...o}:null}(o.params)):o={},o}function se(o,r,l){return{duration:o,delay:r,easing:l}}function Ae(o,r,l,h,T,V,re=null,ge=!1){return{type:1,element:o,keyframes:r,preStyleProps:l,postStyleProps:h,duration:T,delay:V,totalTime:T+V,easing:re,subTimeline:ge}}class xe{constructor(){this._map=new Map}get(r){return this._map.get(r)||[]}append(r,l){let h=this._map.get(r);h||this._map.set(r,h=[]),h.push(...l)}has(r){return this._map.has(r)}clear(){this._map.clear()}}const Bn=new RegExp(":enter","g"),Pi=new RegExp(":leave","g");function Vi(o,r,l,h,T,V=new Map,re=new Map,ge,we,Je=[]){return(new zi).buildKeyframes(o,r,l,h,T,V,re,ge,we,Je)}class zi{buildKeyframes(r,l,h,T,V,re,ge,we,Je,It=[]){Je=Je||new xe;const Rt=new Ji(r,l,Je,T,V,It,[]);Rt.options=we;const on=we.delay?pn(we.delay):0;Rt.currentTimeline.delayNextStep(on),Rt.currentTimeline.setStyles([re],null,Rt.errors,we),Ge(this,h,Rt);const yn=Rt.timelines.filter(gn=>gn.containsAnimation());if(yn.length&&ge.size){let gn;for(let An=yn.length-1;An>=0;An--){const Zn=yn[An];if(Zn.element===l){gn=Zn;break}}gn&&!gn.allowOnlyTimelineStyles()&&gn.setStyles([ge],null,Rt.errors,we)}return yn.length?yn.map(gn=>gn.buildKeyframes()):[Ae(l,[],[],[],0,on,"",!1)]}visitTrigger(r,l){}visitState(r,l){}visitTransition(r,l){}visitAnimateChild(r,l){const h=l.subInstructions.get(l.element);if(h){const T=l.createSubContext(r.options),V=l.currentTimeline.currentTime,re=this._visitSubInstructions(h,T,T.options);V!=re&&l.transformIntoNewTimeline(re)}l.previousNode=r}visitAnimateRef(r,l){const h=l.createSubContext(r.options);h.transformIntoNewTimeline(),this._applyAnimationRefDelays([r.options,r.animation.options],l,h),this.visitReference(r.animation,h),l.transformIntoNewTimeline(h.currentTimeline.currentTime),l.previousNode=r}_applyAnimationRefDelays(r,l,h){for(const T of r){const V=T?.delay;if(V){const re="number"==typeof V?V:pn(Be(V,T?.params??{},l.errors));h.delayNextStep(re)}}}_visitSubInstructions(r,l,h){let V=l.currentTimeline.currentTime;const re=null!=h.duration?pn(h.duration):null,ge=null!=h.delay?pn(h.delay):null;return 0!==re&&r.forEach(we=>{const Je=l.appendInstructionToTimeline(we,re,ge);V=Math.max(V,Je.duration+Je.delay)}),V}visitReference(r,l){l.updateOptions(r.options,!0),Ge(this,r.animation,l),l.previousNode=r}visitSequence(r,l){const h=l.subContextCount;let T=l;const V=r.options;if(V&&(V.params||V.delay)&&(T=l.createSubContext(V),T.transformIntoNewTimeline(),null!=V.delay)){T.previousNode.type==p.If.Style&&(T.currentTimeline.snapshotCurrentStyles(),T.previousNode=wi);const re=pn(V.delay);T.delayNextStep(re)}r.steps.length&&(r.steps.forEach(re=>Ge(this,re,T)),T.currentTimeline.applyStylesToKeyframe(),T.subContextCount>h&&T.transformIntoNewTimeline()),l.previousNode=r}visitGroup(r,l){const h=[];let T=l.currentTimeline.currentTime;const V=r.options&&r.options.delay?pn(r.options.delay):0;r.steps.forEach(re=>{const ge=l.createSubContext(r.options);V&&ge.delayNextStep(V),Ge(this,re,ge),T=Math.max(T,ge.currentTimeline.currentTime),h.push(ge.currentTimeline)}),h.forEach(re=>l.currentTimeline.mergeTimelineCollectedStyles(re)),l.transformIntoNewTimeline(T),l.previousNode=r}_visitTiming(r,l){if(r.dynamic){const h=r.strValue;return an(l.params?Be(h,l.params,l.errors):h,l.errors)}return{duration:r.duration,delay:r.delay,easing:r.easing}}visitAnimate(r,l){const h=l.currentAnimateTimings=this._visitTiming(r.timings,l),T=l.currentTimeline;h.delay&&(l.incrementTime(h.delay),T.snapshotCurrentStyles());const V=r.style;V.type==p.If.Keyframes?this.visitKeyframes(V,l):(l.incrementTime(h.duration),this.visitStyle(V,l),T.applyStylesToKeyframe()),l.currentAnimateTimings=null,l.previousNode=r}visitStyle(r,l){const h=l.currentTimeline,T=l.currentAnimateTimings;!T&&h.hasCurrentStyleProperties()&&h.forwardFrame();const V=T&&T.easing||r.easing;r.isEmptyStep?h.applyEmptyStep(V):h.setStyles(r.styles,V,l.errors,l.options),l.previousNode=r}visitKeyframes(r,l){const h=l.currentAnimateTimings,T=l.currentTimeline.duration,V=h.duration,ge=l.createSubContext().currentTimeline;ge.easing=h.easing,r.styles.forEach(we=>{ge.forwardTime((we.offset||0)*V),ge.setStyles(we.styles,we.easing,l.errors,l.options),ge.applyStylesToKeyframe()}),l.currentTimeline.mergeTimelineCollectedStyles(ge),l.transformIntoNewTimeline(T+V),l.previousNode=r}visitQuery(r,l){const h=l.currentTimeline.currentTime,T=r.options||{},V=T.delay?pn(T.delay):0;V&&(l.previousNode.type===p.If.Style||0==h&&l.currentTimeline.hasCurrentStyleProperties())&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=wi);let re=h;const ge=l.invokeQuery(r.selector,r.originalSelector,r.limit,r.includeSelf,!!T.optional,l.errors);l.currentQueryTotal=ge.length;let we=null;ge.forEach((Je,It)=>{l.currentQueryIndex=It;const Rt=l.createSubContext(r.options,Je);V&&Rt.delayNextStep(V),Je===l.element&&(we=Rt.currentTimeline),Ge(this,r.animation,Rt),Rt.currentTimeline.applyStylesToKeyframe(),re=Math.max(re,Rt.currentTimeline.currentTime)}),l.currentQueryIndex=0,l.currentQueryTotal=0,l.transformIntoNewTimeline(re),we&&(l.currentTimeline.mergeTimelineCollectedStyles(we),l.currentTimeline.snapshotCurrentStyles()),l.previousNode=r}visitStagger(r,l){const h=l.parentContext,T=l.currentTimeline,V=r.timings,re=Math.abs(V.duration),ge=re*(l.currentQueryTotal-1);let we=re*l.currentQueryIndex;switch(V.duration<0?"reverse":V.easing){case"reverse":we=ge-we;break;case"full":we=h.currentStaggerTime}const It=l.currentTimeline;we&&It.delayNextStep(we);const Rt=It.currentTime;Ge(this,r.animation,l),l.previousNode=r,h.currentStaggerTime=T.currentTime-Rt+(T.startTime-h.currentTimeline.startTime)}}const wi={};class Ji{constructor(r,l,h,T,V,re,ge,we){this._driver=r,this.element=l,this.subInstructions=h,this._enterClassName=T,this._leaveClassName=V,this.errors=re,this.timelines=ge,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=wi,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=we||new Ni(this._driver,l,0),ge.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(r,l){if(!r)return;const h=r;let T=this.options;null!=h.duration&&(T.duration=pn(h.duration)),null!=h.delay&&(T.delay=pn(h.delay));const V=h.params;if(V){let re=T.params;re||(re=this.options.params={}),Object.keys(V).forEach(ge=>{(!l||!re.hasOwnProperty(ge))&&(re[ge]=Be(V[ge],re,this.errors))})}}_copyOptions(){const r={};if(this.options){const l=this.options.params;if(l){const h=r.params={};Object.keys(l).forEach(T=>{h[T]=l[T]})}}return r}createSubContext(r=null,l,h){const T=l||this.element,V=new Ji(this._driver,T,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(T,h||0));return V.previousNode=this.previousNode,V.currentAnimateTimings=this.currentAnimateTimings,V.options=this._copyOptions(),V.updateOptions(r),V.currentQueryIndex=this.currentQueryIndex,V.currentQueryTotal=this.currentQueryTotal,V.parentContext=this,this.subContextCount++,V}transformIntoNewTimeline(r){return this.previousNode=wi,this.currentTimeline=this.currentTimeline.fork(this.element,r),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(r,l,h){const T={duration:l??r.duration,delay:this.currentTimeline.currentTime+(h??0)+r.delay,easing:""},V=new Hs(this._driver,r.element,r.keyframes,r.preStyleProps,r.postStyleProps,T,r.stretchStartingKeyframe);return this.timelines.push(V),T}incrementTime(r){this.currentTimeline.forwardTime(this.currentTimeline.duration+r)}delayNextStep(r){r>0&&this.currentTimeline.delayNextStep(r)}invokeQuery(r,l,h,T,V,re){let ge=[];if(T&&ge.push(this.element),r.length>0){r=(r=r.replace(Bn,"."+this._enterClassName)).replace(Pi,"."+this._leaveClassName);let Je=this._driver.query(this.element,r,1!=h);0!==h&&(Je=h<0?Je.slice(Je.length+h,Je.length):Je.slice(0,h)),ge.push(...Je)}return!V&&0==ge.length&&re.push(function $(){return new i.wOt(3014,!1)}()),ge}}class Ni{constructor(r,l,h,T){this._driver=r,this.element=l,this.startTime=h,this._elementTimelineStylesLookup=T,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(l),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(l,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(r){const l=1===this._keyframes.size&&this._pendingStyles.size;this.duration||l?(this.forwardTime(this.currentTime+r),l&&this.snapshotCurrentStyles()):this.startTime+=r}fork(r,l){return this.applyStylesToKeyframe(),new Ni(this._driver,r,l||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(r){this.applyStylesToKeyframe(),this.duration=r,this._loadKeyframe()}_updateStyle(r,l){this._localTimelineStyles.set(r,l),this._globalTimelineStyles.set(r,l),this._styleSummary.set(r,{time:this.currentTime,value:l})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(r){r&&this._previousKeyframe.set("easing",r);for(let[l,h]of this._globalTimelineStyles)this._backFill.set(l,h||p.kp),this._currentKeyframe.set(l,p.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(r,l,h,T){l&&this._previousKeyframe.set("easing",l);const V=T&&T.params||{},re=function Gr(o,r){const l=new Map;let h;return o.forEach(T=>{if("*"===T){h??=r.keys();for(let V of h)l.set(V,p.kp)}else for(let[V,re]of T)l.set(V,re)}),l}(r,this._globalTimelineStyles);for(let[ge,we]of re){const Je=Be(we,V,h);this._pendingStyles.set(ge,Je),this._localTimelineStyles.has(ge)||this._backFill.set(ge,this._globalTimelineStyles.get(ge)??p.kp),this._updateStyle(ge,Je)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((r,l)=>{this._currentKeyframe.set(l,r)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((r,l)=>{this._currentKeyframe.has(l)||this._currentKeyframe.set(l,r)}))}snapshotCurrentStyles(){for(let[r,l]of this._localTimelineStyles)this._pendingStyles.set(r,l),this._updateStyle(r,l)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const r=[];for(let l in this._currentKeyframe)r.push(l);return r}mergeTimelineCollectedStyles(r){r._styleSummary.forEach((l,h)=>{const T=this._styleSummary.get(h);(!T||l.time>T.time)&&this._updateStyle(h,l.value)})}buildKeyframes(){this.applyStylesToKeyframe();const r=new Set,l=new Set,h=1===this._keyframes.size&&0===this.duration;let T=[];this._keyframes.forEach((ge,we)=>{const Je=new Map([...this._backFill,...ge]);Je.forEach((It,Rt)=>{It===p.FX?r.add(Rt):It===p.kp&&l.add(Rt)}),h||Je.set("offset",we/this.duration),T.push(Je)});const V=[...r.values()],re=[...l.values()];if(h){const ge=T[0],we=new Map(ge);ge.set("offset",0),we.set("offset",1),T=[ge,we]}return Ae(this.element,T,V,re,this.duration,this.startTime,this.easing,!1)}}class Hs extends Ni{constructor(r,l,h,T,V,re,ge=!1){super(r,l,re.delay),this.keyframes=h,this.preStyleProps=T,this.postStyleProps=V,this._stretchStartingKeyframe=ge,this.timings={duration:re.duration,delay:re.delay,easing:re.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let r=this.keyframes,{delay:l,duration:h,easing:T}=this.timings;if(this._stretchStartingKeyframe&&l){const V=[],re=h+l,ge=l/re,we=new Map(r[0]);we.set("offset",0),V.push(we);const Je=new Map(r[0]);Je.set("offset",Ai(ge)),V.push(Je);const It=r.length-1;for(let Rt=1;Rt<=It;Rt++){let on=new Map(r[Rt]);const yn=on.get("offset");on.set("offset",Ai((l+yn*h)/re)),V.push(on)}h=re,l=0,T="",r=V}return Ae(this.element,r,this.preStyleProps,this.postStyleProps,h,l,T,!0)}}function Ai(o,r=3){const l=Math.pow(10,r-1);return Math.round(o*l)/l}function Js(o,r,l,h,T,V,re,ge,we,Je,It,Rt,on){return{type:0,element:o,triggerName:r,isRemovalTransition:T,fromState:l,fromStyles:V,toState:h,toStyles:re,timelines:ge,queriedElements:we,preStyleProps:Je,postStyleProps:It,totalTime:Rt,errors:on}}const Ir={};class no{constructor(r,l,h){this._triggerName=r,this.ast=l,this._stateStyles=h}match(r,l,h,T){return function bo(o,r,l,h,T){return o.some(V=>V(r,l,h,T))}(this.ast.matchers,r,l,h,T)}buildStyles(r,l,h){let T=this._stateStyles.get("*");return void 0!==r&&(T=this._stateStyles.get(r?.toString())||T),T?T.buildStyles(l,h):new Map}build(r,l,h,T,V,re,ge,we,Je,It){const Rt=[],on=this.ast.options&&this.ast.options.params||Ir,gn=this.buildStyles(h,ge&&ge.params||Ir,Rt),An=we&&we.params||Ir,Zn=this.buildStyles(T,An,Rt),qn=new Set,bi=new Map,es=new Map,Mi="void"===T,Gi={params:kr(An,on),delay:this.ast.options?.delay},ri=It?[]:Vi(r,l,this.ast.animation,V,re,gn,Zn,Gi,Je,Rt);let zn=0;return ri.forEach(_i=>{zn=Math.max(_i.duration+_i.delay,zn)}),Rt.length?Js(l,this._triggerName,h,T,Mi,gn,Zn,[],[],bi,es,zn,Rt):(ri.forEach(_i=>{const Cs=_i.element,ui=ue(bi,Cs,new Set);_i.preStyleProps.forEach(ts=>ui.add(ts));const Ri=ue(es,Cs,new Set);_i.postStyleProps.forEach(ts=>Ri.add(ts)),Cs!==l&&qn.add(Cs)}),Js(l,this._triggerName,h,T,Mi,gn,Zn,ri,[...qn.values()],bi,es,zn))}}function kr(o,r){const l={...r};return Object.entries(o).forEach(([h,T])=>{null!=T&&(l[h]=T)}),l}class Zs{constructor(r,l,h){this.styles=r,this.defaultParams=l,this.normalizer=h}buildStyles(r,l){const h=new Map,T=kr(r,this.defaultParams);return this.styles.styles.forEach(V=>{"string"!=typeof V&&V.forEach((re,ge)=>{re&&(re=Be(re,T,l));const we=this.normalizer.normalizePropertyName(ge,l);re=this.normalizer.normalizeStyleValue(ge,we,re,l),h.set(ge,re)})}),h}}class io{constructor(r,l,h){this.name=r,this.ast=l,this._normalizer=h,this.transitionFactories=[],this.states=new Map,l.states.forEach(T=>{this.states.set(T.name,new Zs(T.style,T.options&&T.options.params||{},h))}),Pr(this.states,"true","1"),Pr(this.states,"false","0"),l.transitions.forEach(T=>{this.transitionFactories.push(new no(r,T,this.states))}),this.fallbackTransition=function Po(o,r){return new no(o,{type:p.If.Transition,animation:{type:p.If.Sequence,steps:[],options:null},matchers:[(re,ge)=>!0],options:null,queryCount:0,depCount:0},r)}(r,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(r,l,h,T){return this.transitionFactories.find(re=>re.match(r,l,h,T))||null}matchStyles(r,l,h){return this.fallbackTransition.buildStyles(r,l,h)}}function Pr(o,r,l){o.has(r)?o.has(l)||o.set(l,o.get(r)):o.has(l)&&o.set(r,o.get(l))}const Ko=new xe;class so{constructor(r,l,h){this.bodyNode=r,this._driver=l,this._normalizer=h,this._animations=new Map,this._playersById=new Map,this.players=[]}register(r,l){const h=[],V=Pt(this._driver,l,h,[]);if(h.length)throw function te(){return new i.wOt(3503,!1)}();this._animations.set(r,V)}_buildPlayer(r,l,h){const T=r.element,V=vt(this._normalizer,r.keyframes,l,h);return this._driver.animate(T,V,r.duration,r.delay,r.easing,[],!0)}create(r,l,h={}){const T=[],V=this._animations.get(r);let re;const ge=new Map;if(V?(re=Vi(this._driver,l,V,_n,ft,new Map,new Map,h,Ko,T),re.forEach(It=>{const Rt=ue(ge,It.element,new Map);It.postStyleProps.forEach(on=>Rt.set(on,null))})):(T.push(function R(){return new i.wOt(3300,!1)}()),re=[]),T.length)throw function ee(){return new i.wOt(3504,!1)}();ge.forEach((It,Rt)=>{It.forEach((on,yn)=>{It.set(yn,this._driver.computeStyle(Rt,yn,p.kp))})});const Je=rt(re.map(It=>{const Rt=ge.get(It.element);return this._buildPlayer(It,new Map,Rt)}));return this._playersById.set(r,Je),Je.onDestroy(()=>this.destroy(r)),this.players.push(Je),Je}destroy(r){const l=this._getPlayer(r);l.destroy(),this._playersById.delete(r);const h=this.players.indexOf(l);h>=0&&this.players.splice(h,1)}_getPlayer(r){const l=this._playersById.get(r);if(!l)throw function k(){return new i.wOt(3301,!1)}();return l}listen(r,l,h,T){const V=be(l,"","","");return ve(this._getPlayer(r),h,V,T),()=>{}}command(r,l,h,T){if("register"==h)return void this.register(r,T[0]);if("create"==h)return void this.create(r,l,T[0]||{});const V=this._getPlayer(r);switch(h){case"play":V.play();break;case"pause":V.pause();break;case"reset":V.reset();break;case"restart":V.restart();break;case"finish":V.finish();break;case"init":V.init();break;case"setPosition":V.setPosition(parseFloat(T[0]));break;case"destroy":this.destroy(r)}}}const Wr="ng-animate-queued",zr="ng-animate-disabled",yo=[],Sr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Re={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},wt="__ng_removed";class ln{get params(){return this.options.params}constructor(r,l=""){this.namespaceId=l;const h=r&&r.hasOwnProperty("value");if(this.value=function us(o){return o??null}(h?r.value:r),h){const{value:V,...re}=r;this.options=re}else this.options={};this.options.params||(this.options.params={})}absorbOptions(r){const l=r.params;if(l){const h=this.options.params;Object.keys(l).forEach(T=>{null==h[T]&&(h[T]=l[T])})}}}const xn="void",Ei=new ln(xn);class pi{constructor(r,l,h){this.id=r,this.hostElement=l,this._engine=h,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+r,Us(l,this._hostClassName)}listen(r,l,h,T){if(!this._triggers.has(l))throw function J(){return new i.wOt(3302,!1)}();if(null==h||0==h.length)throw function X(){return new i.wOt(3303,!1)}();if(!function sr(o){return"start"==o||"done"==o}(h))throw function fe(){return new i.wOt(3400,!1)}();const V=ue(this._elementListeners,r,[]),re={name:l,phase:h,callback:T};V.push(re);const ge=ue(this._engine.statesByElement,r,new Map);return ge.has(l)||(Us(r,pt),Us(r,pt+"-"+l),ge.set(l,Ei)),()=>{this._engine.afterFlush(()=>{const we=V.indexOf(re);we>=0&&V.splice(we,1),this._triggers.has(l)||ge.delete(l)})}}register(r,l){return!this._triggers.has(r)&&(this._triggers.set(r,l),!0)}_getTrigger(r){const l=this._triggers.get(r);if(!l)throw function Me(){return new i.wOt(3401,!1)}();return l}trigger(r,l,h,T=!0){const V=this._getTrigger(l),re=new Li(this.id,l,r);let ge=this._engine.statesByElement.get(r);ge||(Us(r,pt),Us(r,pt+"-"+l),this._engine.statesByElement.set(r,ge=new Map));let we=ge.get(l);const Je=new ln(h,this.id);if(!(h&&h.hasOwnProperty("value"))&&we&&Je.absorbOptions(we.options),ge.set(l,Je),we||(we=Ei),Je.value!==xn&&we.value===Je.value){if(!function or(o,r){const l=Object.keys(o),h=Object.keys(r);if(l.length!=h.length)return!1;for(let T=0;T<l.length;T++){const V=l[T];if(!r.hasOwnProperty(V)||o[V]!==r[V])return!1}return!0}(we.params,Je.params)){const An=[],Zn=V.matchStyles(we.value,we.params,An),qn=V.matchStyles(Je.value,Je.params,An);An.length?this._engine.reportError(An):this._engine.afterFlush(()=>{ct(r,Zn),at(r,qn)})}return}const on=ue(this._engine.playersByElement,r,[]);on.forEach(An=>{An.namespaceId==this.id&&An.triggerName==l&&An.queued&&An.destroy()});let yn=V.matchTransition(we.value,Je.value,r,Je.params),gn=!1;if(!yn){if(!T)return;yn=V.fallbackTransition,gn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:l,transition:yn,fromState:we,toState:Je,player:re,isFallbackTransition:gn}),gn||(Us(r,Wr),re.onStart(()=>{Ys(r,Wr)})),re.onDone(()=>{let An=this.players.indexOf(re);An>=0&&this.players.splice(An,1);const Zn=this._engine.playersByElement.get(r);if(Zn){let qn=Zn.indexOf(re);qn>=0&&Zn.splice(qn,1)}}),this.players.push(re),on.push(re),re}deregister(r){this._triggers.delete(r),this._engine.statesByElement.forEach(l=>l.delete(r)),this._elementListeners.forEach((l,h)=>{this._elementListeners.set(h,l.filter(T=>T.name!=r))})}clearElementCache(r){this._engine.statesByElement.delete(r),this._elementListeners.delete(r);const l=this._engine.playersByElement.get(r);l&&(l.forEach(h=>h.destroy()),this._engine.playersByElement.delete(r))}_signalRemovalForInnerTriggers(r,l){const h=this._engine.driver.query(r,$t,!0);h.forEach(T=>{if(T[wt])return;const V=this._engine.fetchNamespacesByElement(T);V.size?V.forEach(re=>re.triggerLeaveAnimation(T,l,!1,!0)):this.clearElementCache(T)}),this._engine.afterFlushAnimationsDone(()=>h.forEach(T=>this.clearElementCache(T)))}triggerLeaveAnimation(r,l,h,T){const V=this._engine.statesByElement.get(r),re=new Map;if(V){const ge=[];if(V.forEach((we,Je)=>{if(re.set(Je,we.value),this._triggers.has(Je)){const It=this.trigger(r,Je,xn,T);It&&ge.push(It)}}),ge.length)return this._engine.markElementAsRemoved(this.id,r,!0,l,re),h&&rt(ge).onDone(()=>this._engine.processLeaveNode(r)),!0}return!1}prepareLeaveAnimationListeners(r){const l=this._elementListeners.get(r),h=this._engine.statesByElement.get(r);if(l&&h){const T=new Set;l.forEach(V=>{const re=V.name;if(T.has(re))return;T.add(re);const we=this._triggers.get(re).fallbackTransition,Je=h.get(re)||Ei,It=new ln(xn),Rt=new Li(this.id,re,r);this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:re,transition:we,fromState:Je,toState:It,player:Rt,isFallbackTransition:!0})})}}removeNode(r,l){const h=this._engine;if(r.childElementCount&&this._signalRemovalForInnerTriggers(r,l),this.triggerLeaveAnimation(r,l,!0))return;let T=!1;if(h.totalAnimations){const V=h.players.length?h.playersByQueriedElement.get(r):[];if(V&&V.length)T=!0;else{let re=r;for(;re=re.parentNode;)if(h.statesByElement.get(re)){T=!0;break}}}if(this.prepareLeaveAnimationListeners(r),T)h.markElementAsRemoved(this.id,r,!1,l);else{const V=r[wt];(!V||V===Sr)&&(h.afterFlush(()=>this.clearElementCache(r)),h.destroyInnerAnimations(r),h._onRemovalComplete(r,l))}}insertNode(r,l){Us(r,this._hostClassName)}drainQueuedTransitions(r){const l=[];return this._queue.forEach(h=>{const T=h.player;if(T.destroyed)return;const V=h.element,re=this._elementListeners.get(V);re&&re.forEach(ge=>{if(ge.name==h.triggerName){const we=be(V,h.triggerName,h.fromState.value,h.toState.value);we._data=r,ve(h.player,ge.phase,we,ge.callback)}}),T.markedForDestroy?this._engine.afterFlush(()=>{T.destroy()}):l.push(h)}),this._queue=[],l.sort((h,T)=>{const V=h.transition.ast.depCount,re=T.transition.ast.depCount;return 0==V||0==re?V-re:this._engine.driver.containsElement(h.element,T.element)?1:-1})}destroy(r){this.players.forEach(l=>l.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,r)}}class Ki{_onRemovalComplete(r,l){this.onRemovalComplete(r,l)}constructor(r,l,h){this.bodyNode=r,this.driver=l,this._normalizer=h,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(T,V)=>{}}get queuedPlayers(){const r=[];return this._namespaceList.forEach(l=>{l.players.forEach(h=>{h.queued&&r.push(h)})}),r}createNamespace(r,l){const h=new pi(r,l,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,l)?this._balanceNamespaceList(h,l):(this.newHostElements.set(l,h),this.collectEnterElement(l)),this._namespaceLookup[r]=h}_balanceNamespaceList(r,l){const h=this._namespaceList,T=this.namespacesByHostElement;if(h.length-1>=0){let re=!1,ge=this.driver.getParentElement(l);for(;ge;){const we=T.get(ge);if(we){const Je=h.indexOf(we);h.splice(Je+1,0,r),re=!0;break}ge=this.driver.getParentElement(ge)}re||h.unshift(r)}else h.push(r);return T.set(l,r),r}register(r,l){let h=this._namespaceLookup[r];return h||(h=this.createNamespace(r,l)),h}registerTrigger(r,l,h){let T=this._namespaceLookup[r];T&&T.register(l,h)&&this.totalAnimations++}destroy(r,l){r&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const h=this._fetchNamespace(r);this.namespacesByHostElement.delete(h.hostElement);const T=this._namespaceList.indexOf(h);T>=0&&this._namespaceList.splice(T,1),h.destroy(l),delete this._namespaceLookup[r]}))}_fetchNamespace(r){return this._namespaceLookup[r]}fetchNamespacesByElement(r){const l=new Set,h=this.statesByElement.get(r);if(h)for(let T of h.values())if(T.namespaceId){const V=this._fetchNamespace(T.namespaceId);V&&l.add(V)}return l}trigger(r,l,h,T){if(ks(l)){const V=this._fetchNamespace(r);if(V)return V.trigger(l,h,T),!0}return!1}insertNode(r,l,h,T){if(!ks(l))return;const V=l[wt];if(V&&V.setForRemoval){V.setForRemoval=!1,V.setForMove=!0;const re=this.collectedLeaveElements.indexOf(l);re>=0&&this.collectedLeaveElements.splice(re,1)}if(r){const re=this._fetchNamespace(r);re&&re.insertNode(l,h)}T&&this.collectEnterElement(l)}collectEnterElement(r){this.collectedEnterElements.push(r)}markElementAsDisabled(r,l){l?this.disabledNodes.has(r)||(this.disabledNodes.add(r),Us(r,zr)):this.disabledNodes.has(r)&&(this.disabledNodes.delete(r),Ys(r,zr))}removeNode(r,l,h){if(ks(l)){const T=r?this._fetchNamespace(r):null;T?T.removeNode(l,h):this.markElementAsRemoved(r,l,!1,h);const V=this.namespacesByHostElement.get(l);V&&V.id!==r&&V.removeNode(l,h)}else this._onRemovalComplete(l,h)}markElementAsRemoved(r,l,h,T,V){this.collectedLeaveElements.push(l),l[wt]={namespaceId:r,setForRemoval:T,hasAnimation:h,removedBeforeQueried:!1,previousTriggersValues:V}}listen(r,l,h,T,V){return ks(l)?this._fetchNamespace(r).listen(l,h,T,V):()=>{}}_buildInstruction(r,l,h,T,V){return r.transition.build(this.driver,r.element,r.fromState.value,r.toState.value,h,T,r.fromState.options,r.toState.options,l,V)}destroyInnerAnimations(r){let l=this.driver.query(r,$t,!0);l.forEach(h=>this.destroyActiveAnimationsForElement(h)),0!=this.playersByQueriedElement.size&&(l=this.driver.query(r,dn,!0),l.forEach(h=>this.finishActiveQueriedAnimationOnElement(h)))}destroyActiveAnimationsForElement(r){const l=this.playersByElement.get(r);l&&l.forEach(h=>{h.queued?h.markedForDestroy=!0:h.destroy()})}finishActiveQueriedAnimationOnElement(r){const l=this.playersByQueriedElement.get(r);l&&l.forEach(h=>h.finish())}whenRenderingDone(){return new Promise(r=>{if(this.players.length)return rt(this.players).onDone(()=>r());r()})}processLeaveNode(r){const l=r[wt];if(l&&l.setForRemoval){if(r[wt]=Sr,l.namespaceId){this.destroyInnerAnimations(r);const h=this._fetchNamespace(l.namespaceId);h&&h.clearElementCache(r)}this._onRemovalComplete(r,l.setForRemoval)}r.classList?.contains(zr)&&this.markElementAsDisabled(r,!1),this.driver.query(r,".ng-animate-disabled",!0).forEach(h=>{this.markElementAsDisabled(h,!1)})}flush(r=-1){let l=[];if(this.newHostElements.size&&(this.newHostElements.forEach((h,T)=>this._balanceNamespaceList(h,T)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let h=0;h<this.collectedEnterElements.length;h++)Us(this.collectedEnterElements[h],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const h=[];try{l=this._flushAnimations(h,r)}finally{for(let T=0;T<h.length;T++)h[T]()}}else for(let h=0;h<this.collectedLeaveElements.length;h++)this.processLeaveNode(this.collectedLeaveElements[h]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(h=>h()),this._flushFns=[],this._whenQuietFns.length){const h=this._whenQuietFns;this._whenQuietFns=[],l.length?rt(l).onDone(()=>{h.forEach(T=>T())}):h.forEach(T=>T())}}reportError(r){throw function Ze(){return new i.wOt(3402,!1)}()}_flushAnimations(r,l){const h=new xe,T=[],V=new Map,re=[],ge=new Map,we=new Map,Je=new Map,It=new Set;this.disabledNodes.forEach(Kn=>{It.add(Kn);const gi=this.driver.query(Kn,".ng-animate-queued",!0);for(let li=0;li<gi.length;li++)It.add(gi[li])});const Rt=this.bodyNode,on=Array.from(this.statesByElement.keys()),yn=Xs(on,this.collectedEnterElements),gn=new Map;let An=0;yn.forEach((Kn,gi)=>{const li=_n+An++;gn.set(gi,li),Kn.forEach(Hi=>Us(Hi,li))});const Zn=[],qn=new Set,bi=new Set;for(let Kn=0;Kn<this.collectedLeaveElements.length;Kn++){const gi=this.collectedLeaveElements[Kn],li=gi[wt];li&&li.setForRemoval&&(Zn.push(gi),qn.add(gi),li.hasAnimation?this.driver.query(gi,".ng-star-inserted",!0).forEach(Hi=>qn.add(Hi)):bi.add(gi))}const es=new Map,Mi=Xs(on,Array.from(qn));Mi.forEach((Kn,gi)=>{const li=ft+An++;es.set(gi,li),Kn.forEach(Hi=>Us(Hi,li))}),r.push(()=>{yn.forEach((Kn,gi)=>{const li=gn.get(gi);Kn.forEach(Hi=>Ys(Hi,li))}),Mi.forEach((Kn,gi)=>{const li=es.get(gi);Kn.forEach(Hi=>Ys(Hi,li))}),Zn.forEach(Kn=>{this.processLeaveNode(Kn)})});const Gi=[],ri=[];for(let Kn=this._namespaceList.length-1;Kn>=0;Kn--)this._namespaceList[Kn].drainQueuedTransitions(l).forEach(li=>{const Hi=li.player,hr=li.element;if(Gi.push(Hi),this.collectedEnterElements.length){const Go=hr[wt];if(Go&&Go.setForMove){if(Go.previousTriggersValues&&Go.previousTriggersValues.has(li.triggerName)){const yc=Go.previousTriggersValues.get(li.triggerName),ha=this.statesByElement.get(li.element);if(ha&&ha.has(li.triggerName)){const Ec=ha.get(li.triggerName);Ec.value=yc,ha.set(li.triggerName,Ec)}}return void Hi.destroy()}}const Il=!Rt||!this.driver.containsElement(Rt,hr),$a=es.get(hr),Kl=gn.get(hr),fr=this._buildInstruction(li,h,Kl,$a,Il);if(fr.errors&&fr.errors.length)return void ri.push(fr);if(Il)return Hi.onStart(()=>ct(hr,fr.fromStyles)),Hi.onDestroy(()=>at(hr,fr.toStyles)),void T.push(Hi);if(li.isFallbackTransition)return Hi.onStart(()=>ct(hr,fr.fromStyles)),Hi.onDestroy(()=>at(hr,fr.toStyles)),void T.push(Hi);const Oh=[];fr.timelines.forEach(Go=>{Go.stretchStartingKeyframe=!0,this.disabledNodes.has(Go.element)||Oh.push(Go)}),fr.timelines=Oh,h.append(hr,fr.timelines),re.push({instruction:fr,player:Hi,element:hr}),fr.queriedElements.forEach(Go=>ue(ge,Go,[]).push(Hi)),fr.preStyleProps.forEach((Go,yc)=>{if(Go.size){let ha=we.get(yc);ha||we.set(yc,ha=new Set),Go.forEach((Ec,Xf)=>ha.add(Xf))}}),fr.postStyleProps.forEach((Go,yc)=>{let ha=Je.get(yc);ha||Je.set(yc,ha=new Set),Go.forEach((Ec,Xf)=>ha.add(Xf))})});if(ri.length){const Kn=[];ri.forEach(gi=>{Kn.push(function lt(){return new i.wOt(3505,!1)}())}),Gi.forEach(gi=>gi.destroy()),this.reportError(Kn)}const zn=new Map,_i=new Map;re.forEach(Kn=>{const gi=Kn.element;h.has(gi)&&(_i.set(gi,gi),this._beforeAnimationBuild(Kn.player.namespaceId,Kn.instruction,zn))}),T.forEach(Kn=>{const gi=Kn.element;this._getPreviousPlayers(gi,!1,Kn.namespaceId,Kn.triggerName,null).forEach(Hi=>{ue(zn,gi,[]).push(Hi),Hi.destroy()})});const Cs=Zn.filter(Kn=>ro(Kn,we,Je)),ui=new Map;qs(ui,this.driver,bi,Je,p.kp).forEach(Kn=>{ro(Kn,we,Je)&&Cs.push(Kn)});const ts=new Map;yn.forEach((Kn,gi)=>{qs(ts,this.driver,new Set(Kn),we,p.FX)}),Cs.forEach(Kn=>{const gi=ui.get(Kn),li=ts.get(Kn);ui.set(Kn,new Map([...gi?.entries()??[],...li?.entries()??[]]))});const tr=[],ur=[],to={};re.forEach(Kn=>{const{element:gi,player:li,instruction:Hi}=Kn;if(h.has(gi)){if(It.has(gi))return li.onDestroy(()=>at(gi,Hi.toStyles)),li.disabled=!0,li.overrideTotalTime(Hi.totalTime),void T.push(li);let hr=to;if(_i.size>1){let $a=gi;const Kl=[];for(;$a=$a.parentNode;){const fr=_i.get($a);if(fr){hr=fr;break}Kl.push($a)}Kl.forEach(fr=>_i.set(fr,hr))}const Il=this._buildAnimation(li.namespaceId,Hi,zn,V,ts,ui);if(li.setRealPlayer(Il),hr===to)tr.push(li);else{const $a=this.playersByElement.get(hr);$a&&$a.length&&(li.parentPlayer=rt($a)),T.push(li)}}else ct(gi,Hi.fromStyles),li.onDestroy(()=>at(gi,Hi.toStyles)),ur.push(li),It.has(gi)&&T.push(li)}),ur.forEach(Kn=>{const gi=V.get(Kn.element);if(gi&&gi.length){const li=rt(gi);Kn.setRealPlayer(li)}}),T.forEach(Kn=>{Kn.parentPlayer?Kn.syncPlayerEvents(Kn.parentPlayer):Kn.destroy()});for(let Kn=0;Kn<Zn.length;Kn++){const gi=Zn[Kn],li=gi[wt];if(Ys(gi,ft),li&&li.hasAnimation)continue;let Hi=[];if(ge.size){let Il=ge.get(gi);Il&&Il.length&&Hi.push(...Il);let $a=this.driver.query(gi,dn,!0);for(let Kl=0;Kl<$a.length;Kl++){let fr=ge.get($a[Kl]);fr&&fr.length&&Hi.push(...fr)}}const hr=Hi.filter(Il=>!Il.destroyed);hr.length?rr(this,gi,hr):this.processLeaveNode(gi)}return Zn.length=0,tr.forEach(Kn=>{this.players.push(Kn),Kn.onDone(()=>{Kn.destroy();const gi=this.players.indexOf(Kn);this.players.splice(gi,1)}),Kn.play()}),tr}afterFlush(r){this._flushFns.push(r)}afterFlushAnimationsDone(r){this._whenQuietFns.push(r)}_getPreviousPlayers(r,l,h,T,V){let re=[];if(l){const ge=this.playersByQueriedElement.get(r);ge&&(re=ge)}else{const ge=this.playersByElement.get(r);if(ge){const we=!V||V==xn;ge.forEach(Je=>{Je.queued||!we&&Je.triggerName!=T||re.push(Je)})}}return(h||T)&&(re=re.filter(ge=>!(h&&h!=ge.namespaceId||T&&T!=ge.triggerName))),re}_beforeAnimationBuild(r,l,h){const V=l.element,re=l.isRemovalTransition?void 0:r,ge=l.isRemovalTransition?void 0:l.triggerName;for(const we of l.timelines){const Je=we.element,It=Je!==V,Rt=ue(h,Je,[]);this._getPreviousPlayers(Je,It,re,ge,l.toState).forEach(yn=>{const gn=yn.getRealPlayer();gn.beforeDestroy&&gn.beforeDestroy(),yn.destroy(),Rt.push(yn)})}ct(V,l.fromStyles)}_buildAnimation(r,l,h,T,V,re){const ge=l.triggerName,we=l.element,Je=[],It=new Set,Rt=new Set,on=l.timelines.map(gn=>{const An=gn.element;It.add(An);const Zn=An[wt];if(Zn&&Zn.removedBeforeQueried)return new p.sf(gn.duration,gn.delay);const qn=An!==we,bi=function Yn(o){const r=[];return br(o,r),r}((h.get(An)||yo).map(zn=>zn.getRealPlayer())).filter(zn=>!!zn.element&&zn.element===An),es=V.get(An),Mi=re.get(An),Gi=vt(this._normalizer,gn.keyframes,es,Mi),ri=this._buildPlayer(gn,Gi,bi);if(gn.subTimeline&&T&&Rt.add(An),qn){const zn=new Li(r,ge,An);zn.setRealPlayer(ri),Je.push(zn)}return ri});Je.forEach(gn=>{ue(this.playersByQueriedElement,gn.element,[]).push(gn),gn.onDone(()=>function bs(o,r,l){let h=o.get(r);if(h){if(h.length){const T=h.indexOf(l);h.splice(T,1)}0==h.length&&o.delete(r)}return h}(this.playersByQueriedElement,gn.element,gn))}),It.forEach(gn=>Us(gn,kt));const yn=rt(on);return yn.onDestroy(()=>{It.forEach(gn=>Ys(gn,kt)),at(we,l.toStyles)}),Rt.forEach(gn=>{ue(T,gn,[]).push(yn)}),yn}_buildPlayer(r,l,h){return l.length>0?this.driver.animate(r.element,l,r.duration,r.delay,r.easing,h):new p.sf(r.duration,r.delay)}}class Li{constructor(r,l,h){this.namespaceId=r,this.triggerName=l,this.element=h,this._player=new p.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(r){this._containsRealPlayer||(this._player=r,this._queuedCallbacks.forEach((l,h)=>{l.forEach(T=>ve(r,h,void 0,T))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(r.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(r){this.totalTime=r}syncPlayerEvents(r){const l=this._player;l.triggerCallback&&r.onStart(()=>l.triggerCallback("start")),r.onDone(()=>this.finish()),r.onDestroy(()=>this.destroy())}_queueEvent(r,l){ue(this._queuedCallbacks,r,[]).push(l)}onDone(r){this.queued&&this._queueEvent("done",r),this._player.onDone(r)}onStart(r){this.queued&&this._queueEvent("start",r),this._player.onStart(r)}onDestroy(r){this.queued&&this._queueEvent("destroy",r),this._player.onDestroy(r)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(r){this.queued||this._player.setPosition(r)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(r){const l=this._player;l.triggerCallback&&l.triggerCallback(r)}}function ks(o){return o&&1===o.nodeType}function os(o,r){const l=o.style.display;return o.style.display=r??"none",l}function qs(o,r,l,h,T){const V=[];l.forEach(we=>V.push(os(we)));const re=[];h.forEach((we,Je)=>{const It=new Map;we.forEach(Rt=>{const on=r.computeStyle(Je,Rt,T);It.set(Rt,on),(!on||0==on.length)&&(Je[wt]=Re,re.push(Je))}),o.set(Je,It)});let ge=0;return l.forEach(we=>os(we,V[ge++])),re}function Xs(o,r){const l=new Map;if(o.forEach(ge=>l.set(ge,[])),0==r.length)return l;const T=new Set(r),V=new Map;function re(ge){if(!ge)return 1;let we=V.get(ge);if(we)return we;const Je=ge.parentNode;return we=l.has(Je)?Je:T.has(Je)?1:re(Je),V.set(ge,we),we}return r.forEach(ge=>{const we=re(ge);1!==we&&l.get(we).push(ge)}),l}function Us(o,r){o.classList?.add(r)}function Ys(o,r){o.classList?.remove(r)}function rr(o,r,l){rt(l).onDone(()=>o.processLeaveNode(r))}function br(o,r){for(let l=0;l<o.length;l++){const h=o[l];h instanceof p.ui?br(h.players,r):r.push(h)}}function ro(o,r,l){const h=l.get(o);if(!h)return!1;let T=r.get(o);return T?h.forEach(V=>T.add(V)):r.set(o,h),l.delete(o),!0}class yr{constructor(r,l,h){this._driver=l,this._normalizer=h,this._triggerCache={},this.onRemovalComplete=(T,V)=>{},this._transitionEngine=new Ki(r.body,l,h),this._timelineEngine=new so(r.body,l,h),this._transitionEngine.onRemovalComplete=(T,V)=>this.onRemovalComplete(T,V)}registerTrigger(r,l,h,T,V){const re=r+"-"+T;let ge=this._triggerCache[re];if(!ge){const we=[],It=Pt(this._driver,V,we,[]);if(we.length)throw function L(){return new i.wOt(3404,!1)}();ge=function zo(o,r,l){return new io(o,r,l)}(T,It,this._normalizer),this._triggerCache[re]=ge}this._transitionEngine.registerTrigger(l,T,ge)}register(r,l){this._transitionEngine.register(r,l)}destroy(r,l){this._transitionEngine.destroy(r,l)}onInsert(r,l,h,T){this._transitionEngine.insertNode(r,l,h,T)}onRemove(r,l,h){this._transitionEngine.removeNode(r,l,h)}disableAnimations(r,l){this._transitionEngine.markElementAsDisabled(r,l)}process(r,l,h,T){if("@"==h.charAt(0)){const[V,re]=me(h);this._timelineEngine.command(V,l,re,T)}else this._transitionEngine.trigger(r,l,h,T)}listen(r,l,h,T,V){if("@"==h.charAt(0)){const[re,ge]=me(h);return this._timelineEngine.listen(re,l,ge,V)}return this._transitionEngine.listen(r,l,h,T,V)}flush(r=-1){this._transitionEngine.flush(r)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(r){this._transitionEngine.afterFlushAnimationsDone(r)}}class Kr{static#e=this.initialStylesByElement=new WeakMap;constructor(r,l,h){this._element=r,this._startStyles=l,this._endStyles=h,this._state=0;let T=Kr.initialStylesByElement.get(r);T||Kr.initialStylesByElement.set(r,T=new Map),this._initialStyles=T}start(){this._state<1&&(this._startStyles&&at(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(at(this._element,this._initialStyles),this._endStyles&&(at(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Kr.initialStylesByElement.delete(this._element),this._startStyles&&(ct(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ct(this._element,this._endStyles),this._endStyles=null),at(this._element,this._initialStyles),this._state=3)}}function Ur(o){let r=null;return o.forEach((l,h)=>{(function Fo(o){return"display"===o||"position"===o})(h)&&(r=r||new Map,r.set(h,l))}),r}class Fr{constructor(r,l,h,T){this.element=r,this.keyframes=l,this.options=h,this._specialStyles=T,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=h.duration,this._delay=h.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const r=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,r,this.options),this._finalKeyframe=r.length?r[r.length-1]:new Map;const l=()=>this._onFinish();this.domPlayer.addEventListener("finish",l),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",l)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(r){const l=[];return r.forEach(h=>{l.push(Object.fromEntries(h))}),l}_triggerWebAnimation(r,l,h){return r.animate(this._convertKeyframesToObject(l),h)}onStart(r){this._originalOnStartFns.push(r),this._onStartFns.push(r)}onDone(r){this._originalOnDoneFns.push(r),this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(r=>r()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}setPosition(r){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=r*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const r=new Map;this.hasStarted()&&this._finalKeyframe.forEach((h,T)=>{"offset"!==T&&r.set(T,this._finished?h:Ue(this.element,T))}),this.currentSnapshot=r}triggerCallback(r){const l="start"===r?this._onStartFns:this._onDoneFns;l.forEach(h=>h()),l.length=0}}class Er{validateStyleProperty(r){return!0}validateAnimatableStyleProperty(r){return!0}containsElement(r,l){return ot(r,l)}getParentElement(r){return Et(r)}query(r,l,h){return ae(r,l,h)}computeStyle(r,l,h){return Ue(r,l)}animate(r,l,h,T,V,re=[]){const we={duration:h,delay:T,fill:0==T?"both":"forwards"};V&&(we.easing=V);const Je=new Map,It=re.filter(yn=>yn instanceof Fr);(function Ie(o,r){return 0===o||0===r})(h,T)&&It.forEach(yn=>{yn.currentSnapshot.forEach((gn,An)=>Je.set(An,gn))});let Rt=function Sn(o){return o.length?o[0]instanceof Map?o:o.map(r=>new Map(Object.entries(r))):[]}(l).map(yn=>new Map(yn));Rt=function Te(o,r,l){if(l.size&&r.length){let h=r[0],T=[];if(l.forEach((V,re)=>{h.has(re)||T.push(re),h.set(re,V)}),T.length)for(let V=1;V<r.length;V++){let re=r[V];T.forEach(ge=>re.set(ge,Ue(o,ge)))}}return r}(r,Rt,Je);const on=function Xo(o,r){let l=null,h=null;return Array.isArray(r)&&r.length?(l=Ur(r[0]),r.length>1&&(h=Ur(r[r.length-1]))):r instanceof Map&&(l=Ur(r)),l||h?new Kr(o,l,h):null}(r,Rt);return new Fr(r,Rt,we,on)}}const ma="@.disabled";class Fs{constructor(r,l,h,T){this.namespaceId=r,this.delegate=l,this.engine=h,this._onDestroy=T,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(r){this.delegate.destroyNode?.(r)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(r,l){return this.delegate.createElement(r,l)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}appendChild(r,l){this.delegate.appendChild(r,l),this.engine.onInsert(this.namespaceId,l,r,!1)}insertBefore(r,l,h,T=!0){this.delegate.insertBefore(r,l,h),this.engine.onInsert(this.namespaceId,l,r,T)}removeChild(r,l,h){this.parentNode(l)&&this.engine.onRemove(this.namespaceId,l,this.delegate)}selectRootElement(r,l){return this.delegate.selectRootElement(r,l)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,l,h,T){this.delegate.setAttribute(r,l,h,T)}removeAttribute(r,l,h){this.delegate.removeAttribute(r,l,h)}addClass(r,l){this.delegate.addClass(r,l)}removeClass(r,l){this.delegate.removeClass(r,l)}setStyle(r,l,h,T){this.delegate.setStyle(r,l,h,T)}removeStyle(r,l,h){this.delegate.removeStyle(r,l,h)}setProperty(r,l,h){"@"==l.charAt(0)&&l==ma?this.disableAnimations(r,!!h):this.delegate.setProperty(r,l,h)}setValue(r,l){this.delegate.setValue(r,l)}listen(r,l,h){return this.delegate.listen(r,l,h)}disableAnimations(r,l){this.engine.disableAnimations(r,l)}}class Va extends Fs{constructor(r,l,h,T,V){super(l,h,T,V),this.factory=r,this.namespaceId=l}setProperty(r,l,h){"@"==l.charAt(0)?"."==l.charAt(1)&&l==ma?this.disableAnimations(r,h=void 0===h||!!h):this.engine.process(this.namespaceId,r,l.slice(1),h):this.delegate.setProperty(r,l,h)}listen(r,l,h){if("@"==l.charAt(0)){const T=function Lo(o){switch(o){case"body":return document.body;case"document":return document;case"window":return window;default:return o}}(r);let V=l.slice(1),re="";return"@"!=V.charAt(0)&&([V,re]=function xi(o){const r=o.indexOf(".");return[o.substring(0,r),o.slice(r+1)]}(V)),this.engine.listen(this.namespaceId,T,V,re,ge=>{this.factory.scheduleListenerCallback(ge._data||-1,h,ge)})}return this.delegate.listen(r,l,h)}}class No{constructor(r,l,h){this.delegate=r,this.engine=l,this._zone=h,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,l.onRemovalComplete=(T,V)=>{V?.removeChild(null,T)}}createRenderer(r,l){const T=this.delegate.createRenderer(r,l);if(!r||!l?.data?.animation){const Je=this._rendererCache;let It=Je.get(T);return It||(It=new Fs("",T,this.engine,()=>Je.delete(T)),Je.set(T,It)),It}const V=l.id,re=l.id+"-"+this._currentId;this._currentId++,this.engine.register(re,r);const ge=Je=>{Array.isArray(Je)?Je.forEach(ge):this.engine.registerTrigger(V,re,r,Je.name,Je)};return l.data.animation.forEach(ge),new Va(this,re,T,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(r,l,h){if(r>=0&&r<this._microtaskId)return void this._zone.run(()=>l(h));const T=this._animationCallbacksBuffer;0==T.length&&queueMicrotask(()=>{this._zone.run(()=>{T.forEach(V=>{const[re,ge]=V;re(ge)}),this._animationCallbacksBuffer=[]})}),T.push([l,h])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}var Ts=a(177);const Mo=[{provide:_t,useFactory:function cl(){return new At}},{provide:yr,useClass:(()=>{class o extends yr{constructor(l,h,T){super(l,h,T)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(h){return new(h||o)(i.KVO(Ts.qQ),i.KVO(Pe),i.KVO(_t))};static#t=this.\u0275prov=i.jDH({token:o,factory:o.\u0275fac})}return o})()},{provide:i._9s,useFactory:function Ga(o,r,l){return new No(o,r,l)},deps:[e.B7,yr,i.SKi]}],Di=[{provide:Pe,useFactory:()=>new Er},{provide:i.bc$,useValue:"BrowserAnimations"},...Mo],Ia=[{provide:Pe,useClass:Le},{provide:i.bc$,useValue:"NoopAnimations"},...Mo];let Hr=(()=>{class o{static withConfig(l){return{ngModule:o,providers:l.disableAnimations?Ia:Di}}static#e=this.\u0275fac=function(h){return new(h||o)};static#t=this.\u0275mod=i.$C({type:o});static#n=this.\u0275inj=i.G2t({providers:Di,imports:[e.Bb]})}return o})();var oo=a(9418),Wa=a(4526),He=a(3586),tt=a(4421),Se=a(1639),Tt=a(5286),cn=a(5817),Ii=a(8803);const Xi=new cn.c(Ii.l);var mi=a(4670),ga=a(4787),za=a(5006),Ka=a(8728),va=a(9090),Mc=a(4206),gs=a(9493),wr=a(8841),wl=a(8002);const dl="Service workers are disabled or not supported by this browser";class W{constructor(r){if(this.serviceWorker=r,r){const h=(0,He.R)(r,"controllerchange").pipe((0,za.T)(()=>r.controller)),T=(0,oo.v)(()=>(0,tt.of)(r.controller)),V=(0,Se.x)(T,h);this.worker=V.pipe((0,Ka.p)(It=>!!It)),this.registration=this.worker.pipe((0,va.n)(()=>r.getRegistration()));const Je=(0,He.R)(r,"message").pipe((0,za.T)(It=>It.data)).pipe((0,Ka.p)(It=>It&&It.type)).pipe(function Ds(o){return o?(0,Mc.f)(()=>new Tt.B7,o):(0,Mc.f)(new Tt.B7)}());Je.connect(),this.events=Je}else this.worker=this.events=this.registration=function Ha(o){return(0,oo.v)(()=>(0,Wa.$)(new Error(o)))}(dl)}postMessage(r,l){return this.worker.pipe((0,gs.s)(1),(0,wr.M)(h=>{h.postMessage({action:r,...l})})).toPromise().then(()=>{})}postMessageWithOperation(r,l,h){const T=this.waitForOperationCompleted(h),V=this.postMessage(r,l);return Promise.all([V,T]).then(([,re])=>re)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(r){let l;return l="string"==typeof r?h=>h.type===r:h=>r.includes(h.type),this.events.pipe((0,Ka.p)(l))}nextEventOfType(r){return this.eventsOfType(r).pipe((0,gs.s)(1))}waitForOperationCompleted(r){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Ka.p)(l=>l.nonce===r),(0,gs.s)(1),(0,za.T)(l=>{if(void 0!==l.result)return l.result;throw new Error(l.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let ut=(()=>{class o{get isEnabled(){return this.sw.isEnabled}constructor(l){if(this.sw=l,this.pushManager=null,this.subscriptionChanges=new Tt.B7,!l.isEnabled)return this.messages=Xi,this.notificationClicks=Xi,void(this.subscription=Xi);this.messages=this.sw.eventsOfType("PUSH").pipe((0,za.T)(T=>T.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,za.T)(T=>T.data)),this.pushManager=this.sw.registration.pipe((0,za.T)(T=>T.pushManager));const h=this.pushManager.pipe((0,va.n)(T=>T.getSubscription()));this.subscription=(0,mi.h)(h,this.subscriptionChanges)}requestSubscription(l){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(dl));const h={userVisibleOnly:!0};let T=this.decodeBase64(l.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),V=new Uint8Array(new ArrayBuffer(T.length));for(let re=0;re<T.length;re++)V[re]=T.charCodeAt(re);return h.applicationServerKey=V,this.pushManager.pipe((0,va.n)(re=>re.subscribe(h)),(0,gs.s)(1)).toPromise().then(re=>(this.subscriptionChanges.next(re),re))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,gs.s)(1),(0,va.n)(h=>{if(null===h)throw new Error("Not subscribed to push notifications.");return h.unsubscribe().then(T=>{if(!T)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(dl))}decodeBase64(l){return atob(l)}static#e=this.\u0275fac=function(h){return new(h||o)(i.KVO(W))};static#t=this.\u0275prov=i.jDH({token:o,factory:o.\u0275fac})}return o})(),Ut=(()=>{class o{get isEnabled(){return this.sw.isEnabled}constructor(l){if(this.sw=l,!l.isEnabled)return this.versionUpdates=Xi,void(this.unrecoverable=Xi);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(dl));const l=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:l},l)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(dl));const l=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:l},l)}static#e=this.\u0275fac=function(h){return new(h||o)(i.KVO(W))};static#t=this.\u0275prov=i.jDH({token:o,factory:o.\u0275fac})}return o})();const en=new i.nKC("");function Ht(o,r,l,h){return()=>{if(!(0,Ts.UE)(h)||!("serviceWorker"in navigator)||!1===l.enabled)return;const T=o.get(i.SKi),V=o.get(i.o8S);let re;if(T.runOutsideAngular(()=>{const ge=navigator.serviceWorker,we=()=>ge.controller?.postMessage({action:"INITIALIZE"});ge.addEventListener("controllerchange",we),V.onDestroy(()=>{ge.removeEventListener("controllerchange",we)})}),"function"==typeof l.registrationStrategy)re=l.registrationStrategy();else{const[ge,...we]=(l.registrationStrategy||"registerWhenStable:30000").split(":");switch(ge){case"registerImmediately":re=(0,tt.of)(null);break;case"registerWithDelay":re=bn(+we[0]||0);break;case"registerWhenStable":const Je=(0,ga.H)(o.get(i.o8S).whenStable());re=we[0]?(0,mi.h)(Je,bn(+we[0])):Je;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${l.registrationStrategy}`)}}T.runOutsideAngular(()=>re.pipe((0,gs.s)(1)).subscribe(()=>navigator.serviceWorker.register(r,{scope:l.scope}).catch(ge=>console.error("Service worker registration failed with:",ge))))}}function bn(o){return(0,tt.of)(null).pipe((0,wl.c)(o))}function qt(o,r){return new W((0,Ts.UE)(r)&&!1!==o.enabled?navigator.serviceWorker:void 0)}class In{}function kn(o,r={}){return(0,i.EmA)([ut,Ut,{provide:en,useValue:o},{provide:In,useValue:r},{provide:W,useFactory:qt,deps:[In,i.Agw]},{provide:i.hnV,useFactory:Ht,deps:[i.zZn,en,In,i.Agw],multi:!0}])}let Hn=(()=>{class o{static register(l,h={}){return{ngModule:o,providers:[kn(l,h)]}}static#e=this.\u0275fac=function(h){return new(h||o)};static#t=this.\u0275mod=i.$C({type:o});static#n=this.\u0275inj=i.G2t({providers:[ut,Ut]})}return o})();var ai=a(3141),ii=a(1780);class Fi{constructor(r,l="/assets/i18n/",h=".json"){this.http=r,this.prefix=l,this.suffix=h}getTranslation(r){return this.http.get(`${this.prefix}${r}${this.suffix}`)}}var Bi=a(8834),hs=a(6939),js=a(6860),Qs=a(9888),xr=a(9327),ls=a(7987),Ql=a(7605),Xa=a(6600);function Jc(o,r){if(1&o){const l=i.RV6();i.j41(0,"div",1)(1,"button",2),i.bIt("click",function(){i.eBV(l);const T=i.XpG();return i.Njj(T.action())}),i.EFF(2),i.k0s()()}if(2&o){const l=i.XpG();i.R7$(2),i.SpI(" ",l.data.action," ")}}const ia=["label"];function ba(o,r){}const Ya=Math.pow(2,31)-1;class ji{constructor(r,l){this._overlayRef=l,this._afterDismissed=new Tt.B7,this._afterOpened=new Tt.B7,this._onAction=new Tt.B7,this._dismissedByAction=!1,this.containerInstance=r,r._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(r){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(r,Ya))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const Is=new i.nKC("MatSnackBarData");class Tc{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let Jl=(()=>{class o{static#e=this.\u0275fac=function(h){return new(h||o)};static#t=this.\u0275dir=i.FsC({type:o,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}return o})(),Dc=(()=>{class o{static#e=this.\u0275fac=function(h){return new(h||o)};static#t=this.\u0275dir=i.FsC({type:o,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}return o})(),Sa=(()=>{class o{static#e=this.\u0275fac=function(h){return new(h||o)};static#t=this.\u0275dir=i.FsC({type:o,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}return o})(),sa=(()=>{class o{constructor(l,h){this.snackBarRef=l,this.data=h}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(h){return new(h||o)(i.rXU(ji),i.rXU(Is))};static#t=this.\u0275cmp=i.VBU({type:o,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[i.aNF],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(h,T){1&h&&(i.j41(0,"div",0),i.EFF(1),i.k0s(),i.DNE(2,Jc,3,1,"div",1)),2&h&&(i.R7$(),i.SpI(" ",T.data.message,"\n"),i.R7$(),i.vxM(T.hasAction?2:-1))},dependencies:[Bi.$z,Jl,Dc,Sa],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return o})();const Zl={snackBarState:(0,p.hZ)("state",[(0,p.wk)("void, hidden",(0,p.iF)({transform:"scale(0.8)",opacity:0})),(0,p.wk)("visible",(0,p.iF)({transform:"scale(1)",opacity:1})),(0,p.kY)("* => visible",(0,p.i0)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,p.kY)("* => void, * => hidden",(0,p.i0)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,p.iF)({opacity:0})))])};let fs=0,To=(()=>{class o extends hs.lb{constructor(l,h,T,V,re){super(),this._ngZone=l,this._elementRef=h,this._changeDetectorRef=T,this._platform=V,this.snackBarConfig=re,this._document=(0,i.WQX)(Ts.qQ),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Tt.B7,this._onExit=new Tt.B7,this._onEnter=new Tt.B7,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+fs++,this.attachDomPortal=ge=>{this._assertNotAttached();const we=this._portalOutlet.attachDomPortal(ge);return this._afterPortalAttached(),we},this._live="assertive"!==re.politeness||re.announcementMessage?"off"===re.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(l){this._assertNotAttached();const h=this._portalOutlet.attachComponentPortal(l);return this._afterPortalAttached(),h}attachTemplatePortal(l){this._assertNotAttached();const h=this._portalOutlet.attachTemplatePortal(l);return this._afterPortalAttached(),h}onAnimationEnd(l){const{fromState:h,toState:T}=l;if(("void"===T&&"void"!==h||"hidden"===T)&&this._completeExit(),"visible"===T){const V=this._onEnter;this._ngZone.run(()=>{V.next(),V.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){const l=this._elementRef.nativeElement,h=this.snackBarConfig.panelClass;h&&(Array.isArray(h)?h.forEach(re=>l.classList.add(re)):l.classList.add(h)),this._exposeToModals();const T=this._label.nativeElement,V="mdc-snackbar__label";T.classList.toggle(V,!T.querySelector(`.${V}`))}_exposeToModals(){const l=this._liveElementId,h=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let T=0;T<h.length;T++){const V=h[T],re=V.getAttribute("aria-owns");this._trackedModals.add(V),re?-1===re.indexOf(l)&&V.setAttribute("aria-owns",re+" "+l):V.setAttribute("aria-owns",l)}}_clearFromModals(){this._trackedModals.forEach(l=>{const h=l.getAttribute("aria-owns");if(h){const T=h.replace(this._liveElementId,"").trim();T.length>0?l.setAttribute("aria-owns",T):l.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const l=this._elementRef.nativeElement.querySelector("[aria-hidden]"),h=this._elementRef.nativeElement.querySelector("[aria-live]");if(l&&h){let T=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&l.contains(document.activeElement)&&(T=document.activeElement),l.removeAttribute("aria-hidden"),h.appendChild(l),T?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(h){return new(h||o)(i.rXU(i.SKi),i.rXU(i.aKT),i.rXU(i.gRc),i.rXU(js.OD),i.rXU(Tc))};static#t=this.\u0275cmp=i.VBU({type:o,selectors:[["mat-snack-bar-container"]],viewQuery:function(h,T){if(1&h&&(i.GBs(hs.I3,7),i.GBs(ia,7)),2&h){let V;i.mGM(V=i.lsd())&&(T._portalOutlet=V.first),i.mGM(V=i.lsd())&&(T._label=V.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function(h,T){1&h&&i.Kam("@state.done",function(re){return T.onAnimationEnd(re)}),2&h&&i.zvX("@state",T._animationState)},standalone:!0,features:[i.Vt3,i.aNF],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(h,T){1&h&&(i.j41(0,"div",1)(1,"div",2,0)(3,"div",3),i.DNE(4,ba,0,0,"ng-template",4),i.k0s(),i.nrm(5,"div"),i.k0s()()),2&h&&(i.R7$(5),i.BMQ("aria-live",T._live)("role",T._role)("id",T._liveElementId))},dependencies:[hs.I3],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}.cdk-high-contrast-active .mat-mdc-snackbar-surface{outline:solid 1px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-app-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-app-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-app-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-app-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-app-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color, var(--mat-app-inverse-primary));--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[Zl.snackBarState]}})}return o})();const ao=new i.nKC("mat-snack-bar-default-options",{providedIn:"root",factory:function ql(){return new Tc}});let ul=(()=>{class o{get _openedSnackBarRef(){const l=this._parentSnackBar;return l?l._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(l){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=l:this._snackBarRefAtThisLevel=l}constructor(l,h,T,V,re,ge){this._overlay=l,this._live=h,this._injector=T,this._breakpointObserver=V,this._parentSnackBar=re,this._defaultConfig=ge,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=sa,this.snackBarContainerComponent=To,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(l,h){return this._attach(l,h)}openFromTemplate(l,h){return this._attach(l,h)}open(l,h="",T){const V={...this._defaultConfig,...T};return V.data={message:l,action:h},V.announcementMessage===l&&(V.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,V)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(l,h){const V=i.zZn.create({parent:h&&h.viewContainerRef&&h.viewContainerRef.injector||this._injector,providers:[{provide:Tc,useValue:h}]}),re=new hs.A8(this.snackBarContainerComponent,h.viewContainerRef,V),ge=l.attach(re);return ge.instance.snackBarConfig=h,ge.instance}_attach(l,h){const T={...new Tc,...this._defaultConfig,...h},V=this._createOverlay(T),re=this._attachSnackBarContainer(V,T),ge=new ji(re,V);if(l instanceof i.C4Q){const we=new hs.VA(l,null,{$implicit:T.data,snackBarRef:ge});ge.instance=re.attachTemplatePortal(we)}else{const we=this._createInjector(T,ge),Je=new hs.A8(l,void 0,we),It=re.attachComponentPortal(Je);ge.instance=It.instance}return this._breakpointObserver.observe(xr.Rp.HandsetPortrait).pipe((0,Ql.Q)(V.detachments())).subscribe(we=>{V.overlayElement.classList.toggle(this.handsetCssClass,we.matches)}),T.announcementMessage&&re._onAnnounce.subscribe(()=>{this._live.announce(T.announcementMessage,T.politeness)}),this._animateSnackBar(ge,T),this._openedSnackBarRef=ge,this._openedSnackBarRef}_animateSnackBar(l,h){l.afterDismissed().subscribe(()=>{this._openedSnackBarRef==l&&(this._openedSnackBarRef=null),h.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{l.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):l.containerInstance.enter(),h.duration&&h.duration>0&&l.afterOpened().subscribe(()=>l._dismissAfter(h.duration))}_createOverlay(l){const h=new ls.rR;h.direction=l.direction;let T=this._overlay.position().global();const V="rtl"===l.direction,re="left"===l.horizontalPosition||"start"===l.horizontalPosition&&!V||"end"===l.horizontalPosition&&V,ge=!re&&"center"!==l.horizontalPosition;return re?T.left("0"):ge?T.right("0"):T.centerHorizontally(),"top"===l.verticalPosition?T.top("0"):T.bottom("0"),h.positionStrategy=T,this._overlay.create(h)}_createInjector(l,h){return i.zZn.create({parent:l&&l.viewContainerRef&&l.viewContainerRef.injector||this._injector,providers:[{provide:ji,useValue:h},{provide:Is,useValue:l.data}]})}static#e=this.\u0275fac=function(h){return new(h||o)(i.KVO(ls.hJ),i.KVO(Qs.Ai),i.KVO(i.zZn),i.KVO(xr.QP),i.KVO(o,12),i.KVO(ao))};static#t=this.\u0275prov=i.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Qa=(()=>{class o{static#e=this.\u0275fac=function(h){return new(h||o)};static#t=this.\u0275mod=i.$C({type:o});static#n=this.\u0275inj=i.G2t({providers:[ul],imports:[ls.z_,hs.jc,Bi.Hl,Xa.yE,sa,Xa.yE]})}return o})();var et=a(6471),je=a(7336),q=a(6815);const ze=[{path:"-",component:q.KO},{path:"unauthorised",component:q.z},{path:"book/rooms",loadChildren:()=>Promise.all([a.e(850),a.e(469),a.e(566),a.e(660)]).then(a.bind(a,7660)).then(o=>o.DayViewModule),canActivate:[q.hO],canLoad:[q.hO]},{path:"week-view",loadChildren:()=>Promise.all([a.e(850),a.e(450)]).then(a.bind(a,5450)).then(o=>o.WeekViewModule),canActivate:[q.hO],canLoad:[q.hO]},{path:"facilities",loadChildren:()=>Promise.all([a.e(850),a.e(478),a.e(685),a.e(667)]).then(a.bind(a,1667)).then(o=>o.FacilitiesModule),canActivate:[q.hO],canLoad:[q.hO]},{path:"book/visitors",loadChildren:()=>Promise.all([a.e(850),a.e(478),a.e(7),a.e(706)]).then(a.bind(a,8706)).then(o=>o.VisitorsModule),canActivate:[q.hO],canLoad:[q.hO]},{path:"book/assets",loadChildren:()=>Promise.all([a.e(850),a.e(478),a.e(469),a.e(816),a.e(383)]).then(a.bind(a,5383)).then(o=>o.AppAssetManangerModule),canActivate:[q.hO],canLoad:[q.hO]},{path:"book/desks",loadChildren:()=>Promise.all([a.e(850),a.e(478),a.e(469),a.e(685),a.e(578),a.e(277)]).then(a.bind(a,7658)).then(o=>o.DesksModule),canActivate:[q.hO],canLoad:[q.hO]},{path:"book/lockers",loadChildren:()=>Promise.all([a.e(850),a.e(478),a.e(469),a.e(685),a.e(746)]).then(a.bind(a,9746)).then(o=>o.LockersModule),canActivate:[q.hO],canLoad:[q.hO]},{path:"reports",loadChildren:()=>Promise.all([a.e(850),a.e(478),a.e(469),a.e(566),a.e(914)]).then(a.bind(a,1914)).then(o=>o.ReportsModule),canActivate:[q.hO],canLoad:[q.hO]},{path:"entertainment/events",loadChildren:()=>Promise.all([a.e(850),a.e(478),a.e(673)]).then(a.bind(a,673)).then(o=>o.EventsModule),canActivate:[q.hO],canLoad:[q.hO]},{path:"users/staff",loadChildren:()=>Promise.all([a.e(850),a.e(478),a.e(744)]).then(a.bind(a,1744)).then(o=>o.StaffModule),canActivate:[q.hO],canLoad:[q.hO]},{path:"book/catering",loadChildren:()=>Promise.all([a.e(469),a.e(566),a.e(206)]).then(a.bind(a,8206)).then(o=>o.CateringModule),canActivate:[q.hO],canLoad:[q.hO]},{path:"points-management",loadChildren:()=>Promise.all([a.e(850),a.e(478),a.e(469),a.e(578),a.e(169)]).then(a.bind(a,3169)).then(o=>o.PointsModule),canActivate:[q.hO],canLoad:[q.hO]},{path:"book/parking",loadChildren:()=>Promise.all([a.e(850),a.e(478),a.e(469),a.e(685),a.e(7),a.e(876)]).then(a.bind(a,7876)).then(o=>o.AppParkingModule),canActivate:[q.hO],canLoad:[q.hO]},{path:"surveys",loadChildren:()=>Promise.all([a.e(469),a.e(48),a.e(816),a.e(806)]).then(a.bind(a,806)).then(o=>o.SurveysModule),canActivate:[q.hO],canLoad:[q.hO]},{path:"room-management",loadChildren:()=>Promise.all([a.e(850),a.e(444)]).then(a.bind(a,444)).then(o=>o.RoomManagerModule),canActivate:[q.hO],canLoad:[q.hO]},{path:"level-management",loadChildren:()=>Promise.all([a.e(850),a.e(125)]).then(a.bind(a,3125)).then(o=>o.LevelManagerModule),canActivate:[q.hO],canLoad:[q.hO]},{path:"building-management",loadChildren:()=>Promise.all([a.e(850),a.e(397)]).then(a.bind(a,5397)).then(o=>o.BuildingManagerModule),canActivate:[q.hO],canLoad:[q.hO]},{path:"region-management",loadChildren:()=>Promise.all([a.e(850),a.e(696)]).then(a.bind(a,1696)).then(o=>o.RegionManagerModule),canActivate:[q.hO],canLoad:[q.hO]},{path:"email-templates",loadChildren:()=>Promise.all([a.e(850),a.e(478),a.e(244)]).then(a.bind(a,3244)).then(o=>o.EmailTemplatesModule)},{path:"points-of-interest",loadChildren:()=>Promise.all([a.e(850),a.e(455)]).then(a.bind(a,7693)).then(o=>o.POIManagerModule),canActivate:[q.hO],canLoad:[q.hO]},{path:"url-management",loadChildren:()=>Promise.all([a.e(850),a.e(552)]).then(a.bind(a,9552)).then(o=>o.UrlManagerModule),canActivate:[q.hO],canLoad:[q.hO]},{path:"signage",loadChildren:()=>Promise.all([a.e(469),a.e(48),a.e(171)]).then(a.bind(a,2171)).then(o=>o.SignageModule),canActivate:[q.hO],canLoad:[q.hO]},{path:"**",redirectTo:"-"}];let De=(()=>{class o{static#e=this.\u0275fac=function(h){return new(h||o)};static#t=this.\u0275mod=i.$C({type:o});static#n=this.\u0275inj=i.G2t({imports:[ai.iI.forRoot(ze,{useHash:!0}),ai.iI]})}return o})();var We=a(467),Wt=a(4046),mn=a(9596),Rn=a(3368),Gn=a(7375),Ps=a(9420),Zi=a(5762),$s=a(4129);const Vn="8.28.0",Ci=globalThis;function Os(o,r,l){const h=l||Ci,T=h.__SENTRY__=h.__SENTRY__||{},V=T[Vn]=T[Vn]||{};return V[o]||(V[o]=r())}const cr="production";function Bo(){return pr(Ci),Ci}function pr(o){const r=o.__SENTRY__=o.__SENTRY__||{};return r.version=r.version||Vn,r[Vn]=r[Vn]||{}}const hl=Object.prototype.toString;function ra(o){switch(hl.call(o)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Xr(o,Error)}}function jr(o,r){return hl.call(o)===`[object ${r}]`}function ya(o){return jr(o,"ErrorEvent")}function Ea(o){return jr(o,"DOMError")}function lo(o){return jr(o,"String")}function fl(o){return"object"==typeof o&&null!==o&&"__sentry_template_string__"in o&&"__sentry_template_values__"in o}function ci(o){return null===o||fl(o)||"object"!=typeof o&&"function"!=typeof o}function Or(o){return jr(o,"Object")}function wa(o){return typeof Event<"u"&&Xr(o,Event)}function Do(o){return!(!o||!o.then||"function"!=typeof o.then)}function Xr(o,r){try{return o instanceof r}catch{return!1}}function Lh(o){return!("object"!=typeof o||null===o||!o.__isVue&&!o._isVue)}const co=Ci,xa=80;function Uo(o,r={}){if(!o)return"<unknown>";try{let l=o;const h=5,T=[];let V=0,re=0;const ge=" > ",we=ge.length;let Je;const It=Array.isArray(r)?r:r.keyAttrs,Rt=!Array.isArray(r)&&r.maxStringLength||xa;for(;l&&V++<h&&(Je=qc(l,It),!("html"===Je||V>1&&re+T.length*we+Je.length>=Rt));)T.push(Je),re+=Je.length,l=l.parentNode;return T.reverse().join(ge)}catch{return"<unknown>"}}function qc(o,r){const l=o,h=[];if(!l||!l.tagName)return"";if(co.HTMLElement&&l instanceof HTMLElement&&l.dataset){if(l.dataset.sentryComponent)return l.dataset.sentryComponent;if(l.dataset.sentryElement)return l.dataset.sentryElement}h.push(l.tagName.toLowerCase());const T=r&&r.length?r.filter(re=>l.getAttribute(re)).map(re=>[re,l.getAttribute(re)]):null;if(T&&T.length)T.forEach(re=>{h.push(`[${re[0]}="${re[1]}"]`)});else{l.id&&h.push(`#${l.id}`);const re=l.className;if(re&&lo(re)){const ge=re.split(/\s+/);for(const we of ge)h.push(`.${we}`)}}const V=["aria-label","type","name","title","alt"];for(const re of V){const ge=l.getAttribute(re);ge&&h.push(`[${re}="${ge}"]`)}return h.join("")}function jd(){try{return co.document.location.href}catch{return""}}function As(o){if(!co.HTMLElement)return null;let r=o;for(let h=0;h<5;h++){if(!r)return null;if(r instanceof HTMLElement){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}r=r.parentNode}return null}const Io=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,$d=["debug","info","warn","error","log","assert","trace"],ec={};function tc(o){if(!("console"in Ci))return o();const r=Ci.console,l={},h=Object.keys(ec);h.forEach(T=>{const V=ec[T];l[T]=r[T],r[T]=V});try{return o()}finally{h.forEach(T=>{r[T]=l[T]})}}const Wn=function nc(){let o=!1;const r={enable:()=>{o=!0},disable:()=>{o=!1},isEnabled:()=>o};return $d.forEach(Io?l=>{r[l]=(...h)=>{o&&tc(()=>{Ci.console[l](`Sentry Logger [${l}]:`,...h)})}}:l=>{r[l]=()=>{}}),r}();function ed(o,r=0){return"string"!=typeof o||0===r||o.length<=r?o:`${o.slice(0,r)}...`}function Nh(o,r){if(!Array.isArray(o))return"";const l=[];for(let h=0;h<o.length;h++){const T=o[h];try{Lh(T)?l.push("[VueViewModel]"):l.push(String(T))}catch{l.push("[value cannot be serialized]")}}return l.join(r)}function ho(o,r=[],l=!1){return r.some(h=>function Vd(o,r,l=!1){return!!lo(o)&&(function Ja(o){return jr(o,"RegExp")}(r)?r.test(o):!!lo(r)&&(l?o===r:o.includes(r)))}(o,h,l))}function Jo(o,r,l){if(!(r in o))return;const h=o[r],T=l(h);"function"==typeof T&&Gd(T,h),o[r]=T}function fo(o,r,l){try{Object.defineProperty(o,r,{value:l,writable:!0,configurable:!0})}catch{Io&&Wn.log(`Failed to add non-enumerable property "${r}" to object`,o)}}function Gd(o,r){try{o.prototype=r.prototype=r.prototype||{},fo(o,"__sentry_original__",r)}catch{}}function Wd(o){return o.__sentry_original__}function Bh(o){if(ra(o))return{message:o.message,name:o.name,stack:o.stack,...qf(o)};if(wa(o)){const r={type:o.type,target:Cr(o.target),currentTarget:Cr(o.currentTarget),...qf(o)};return typeof CustomEvent<"u"&&Xr(o,CustomEvent)&&(r.detail=o.detail),r}return o}function Cr(o){try{return function Fh(o){return typeof Element<"u"&&Xr(o,Element)}(o)?Uo(o):Object.prototype.toString.call(o)}catch{return"<unknown>"}}function qf(o){if("object"==typeof o&&null!==o){const r={};for(const l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l]);return r}return{}}function Mr(o){return tp(o,new Map)}function tp(o,r){if(function Uh(o){if(!Or(o))return!1;try{const r=Object.getPrototypeOf(o).constructor.name;return!r||"Object"===r}catch{return!0}}(o)){const l=r.get(o);if(void 0!==l)return l;const h={};r.set(o,h);for(const T of Object.keys(o))typeof o[T]<"u"&&(h[T]=tp(o[T],r));return h}if(Array.isArray(o)){const l=r.get(o);if(void 0!==l)return l;const h=[];return r.set(o,h),o.forEach(T=>{h.push(tp(T,r))}),h}return o}function ye(){const r=Ci.crypto||Ci.msCrypto;let l=()=>16*Math.random();try{if(r&&r.randomUUID)return r.randomUUID().replace(/-/g,"");r&&r.getRandomValues&&(l=()=>{const h=new Uint8Array(1);return r.getRandomValues(h),h[0]})}catch{}return"10000000100040008000100000000000".replace(/[018]/g,h=>(h^(15&l())>>h/4).toString(16))}function de(o){return o.exception&&o.exception.values?o.exception.values[0]:void 0}function _e(o){const{message:r,event_id:l}=o;if(r)return r;const h=de(o);return h?h.type&&h.value?`${h.type}: ${h.value}`:h.type||h.value||l||"<unknown>":l||"<unknown>"}function nt(o,r,l){const h=o.exception=o.exception||{},T=h.values=h.values||[],V=T[0]=T[0]||{};V.value||(V.value=r||""),V.type||(V.type=l||"Error")}function St(o,r){const l=de(o);if(!l)return;const T=l.mechanism;if(l.mechanism={type:"generic",handled:!0,...T,...r},r&&"data"in r){const V={...T&&T.data,...r.data};l.mechanism.data=V}}function $i(o){if(o&&o.__sentry_captured__)return!0;try{fo(o,"__sentry_captured__",!0)}catch{}return!1}function ns(o){return Array.isArray(o)?o:[o]}function vi(){return{traceId:ye(),spanId:ye().substring(16)}}const Ls=1e3;function Ss(){return Date.now()/Ls}const ps=function jo(){const{performance:o}=Ci;if(!o||!o.now)return Ss;const r=Date.now()-o.now(),l=null==o.timeOrigin?r:o.timeOrigin;return()=>(l+o.now())/Ls}();let pl;const So=(()=>{const{performance:o}=Ci;if(!o||!o.now)return void(pl="none");const r=36e5,l=o.now(),h=Date.now(),T=o.timeOrigin?Math.abs(o.timeOrigin+l-h):r,V=T<r,re=o.timing&&o.timing.navigationStart,we="number"==typeof re?Math.abs(re+l-h):r;return V||we<r?T<=we?(pl="timeOrigin",o.timeOrigin):(pl="navigationStart",re):(pl="dateNow",h)})();function zd(o,r={}){if(r.user&&(!o.ipAddress&&r.user.ip_address&&(o.ipAddress=r.user.ip_address),!o.did&&!r.did&&(o.did=r.user.id||r.user.email||r.user.username)),o.timestamp=r.timestamp||ps(),r.abnormal_mechanism&&(o.abnormal_mechanism=r.abnormal_mechanism),r.ignoreDuration&&(o.ignoreDuration=r.ignoreDuration),r.sid&&(o.sid=32===r.sid.length?r.sid:ye()),void 0!==r.init&&(o.init=r.init),!o.did&&r.did&&(o.did=`${r.did}`),"number"==typeof r.started&&(o.started=r.started),o.ignoreDuration)o.duration=void 0;else if("number"==typeof r.duration)o.duration=r.duration;else{const l=o.timestamp-o.started;o.duration=l>=0?l:0}r.release&&(o.release=r.release),r.environment&&(o.environment=r.environment),!o.ipAddress&&r.ipAddress&&(o.ipAddress=r.ipAddress),!o.userAgent&&r.userAgent&&(o.userAgent=r.userAgent),"number"==typeof r.errors&&(o.errors=r.errors),r.status&&(o.status=r.status)}const np="_sentrySpan";function Ic(o,r){r?fo(o,np,r):delete o[np]}function Pu(o){return o[np]}class Jm{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=vi()}clone(){const r=new Jm;return r._breadcrumbs=[...this._breadcrumbs],r._tags={...this._tags},r._extra={...this._extra},r._contexts={...this._contexts},r._user=this._user,r._level=this._level,r._session=this._session,r._transactionName=this._transactionName,r._fingerprint=this._fingerprint,r._eventProcessors=[...this._eventProcessors],r._requestSession=this._requestSession,r._attachments=[...this._attachments],r._sdkProcessingMetadata={...this._sdkProcessingMetadata},r._propagationContext={...this._propagationContext},r._client=this._client,r._lastEventId=this._lastEventId,Ic(r,Pu(this)),r}setClient(r){this._client=r}setLastEventId(r){this._lastEventId=r}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(r){this._scopeListeners.push(r)}addEventProcessor(r){return this._eventProcessors.push(r),this}setUser(r){return this._user=r||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&zd(this._session,{user:r}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(r){return this._requestSession=r,this}setTags(r){return this._tags={...this._tags,...r},this._notifyScopeListeners(),this}setTag(r,l){return this._tags={...this._tags,[r]:l},this._notifyScopeListeners(),this}setExtras(r){return this._extra={...this._extra,...r},this._notifyScopeListeners(),this}setExtra(r,l){return this._extra={...this._extra,[r]:l},this._notifyScopeListeners(),this}setFingerprint(r){return this._fingerprint=r,this._notifyScopeListeners(),this}setLevel(r){return this._level=r,this._notifyScopeListeners(),this}setTransactionName(r){return this._transactionName=r,this._notifyScopeListeners(),this}setContext(r,l){return null===l?delete this._contexts[r]:this._contexts[r]=l,this._notifyScopeListeners(),this}setSession(r){return r?this._session=r:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(r){if(!r)return this;const l="function"==typeof r?r(this):r,[h,T]=l instanceof Ol?[l.getScopeData(),l.getRequestSession()]:Or(l)?[r,r.requestSession]:[],{tags:V,extra:re,user:ge,contexts:we,level:Je,fingerprint:It=[],propagationContext:Rt}=h||{};return this._tags={...this._tags,...V},this._extra={...this._extra,...re},this._contexts={...this._contexts,...we},ge&&Object.keys(ge).length&&(this._user=ge),Je&&(this._level=Je),It.length&&(this._fingerprint=It),Rt&&(this._propagationContext=Rt),T&&(this._requestSession=T),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,Ic(this,void 0),this._attachments=[],this._propagationContext=vi(),this._notifyScopeListeners(),this}addBreadcrumb(r,l){const h="number"==typeof l?l:100;if(h<=0)return this;const T={timestamp:Ss(),...r},V=this._breadcrumbs;return V.push(T),this._breadcrumbs=V.length>h?V.slice(-h):V,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(r){return this._attachments.push(r),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Pu(this)}}setSDKProcessingMetadata(r){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...r},this}setPropagationContext(r){return this._propagationContext=r,this}getPropagationContext(){return this._propagationContext}captureException(r,l){const h=l&&l.event_id?l.event_id:ye();if(!this._client)return Wn.warn("No client configured on scope - will not capture exception!"),h;const T=new Error("Sentry syntheticException");return this._client.captureException(r,{originalException:r,syntheticException:T,...l,event_id:h},this),h}captureMessage(r,l,h){const T=h&&h.event_id?h.event_id:ye();if(!this._client)return Wn.warn("No client configured on scope - will not capture message!"),T;const V=new Error(r);return this._client.captureMessage(r,l,{originalException:r,syntheticException:V,...h,event_id:T},this),T}captureEvent(r,l){const h=l&&l.event_id?l.event_id:ye();return this._client?(this._client.captureEvent(r,{...l,event_id:h},this),h):(Wn.warn("No client configured on scope - will not capture event!"),h)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(r=>{r(this)}),this._notifyingListeners=!1)}}const Ol=Jm;class Zm{constructor(r,l){let h,T;h=r||new Ol,T=l||new Ol,this._stack=[{scope:h}],this._isolationScope=T}withScope(r){const l=this._pushScope();let h;try{h=r(l)}catch(T){throw this._popScope(),T}return Do(h)?h.then(T=>(this._popScope(),T),T=>{throw this._popScope(),T}):(this._popScope(),h)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const r=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:r}),r}_popScope(){return!(this._stack.length<=1||!this._stack.pop())}}function nd(){const r=pr(Bo());return r.stack=r.stack||new Zm(function bv(){return Os("defaultCurrentScope",()=>new Ol)}(),function jh(){return Os("defaultIsolationScope",()=>new Ol)}())}function Sc(o){return nd().withScope(o)}function yv(o,r){const l=nd();return l.withScope(()=>(l.getStackTop().scope=o,r(o)))}function $h(o){return nd().withScope(()=>o(nd().getIsolationScope()))}function id(o){const r=pr(o);return r.acs?r.acs:function Vh(){return{withIsolationScope:$h,withScope:Sc,withSetScope:yv,withSetIsolationScope:(o,r)=>$h(r),getCurrentScope:()=>nd().getScope(),getIsolationScope:()=>nd().getIsolationScope()}}()}function Vs(){return id(Bo()).getCurrentScope()}function Ar(){return id(Bo()).getIsolationScope()}function Fu(...o){const l=id(Bo());if(2===o.length){const[h,T]=o;return h?l.withSetScope(h,T):l.withScope(T)}return l.withScope(o[0])}function Ms(){return Vs().getClient()}const sd=50,Za="?",e_=/\(error: (.*)\)/,Wh=/captureMessage|captureException/;function Lu(...o){const r=o.sort((l,h)=>l[0]-h[0]).map(l=>l[1]);return(l,h=0,T=0)=>{const V=[],re=l.split("\n");for(let ge=h;ge<re.length;ge++){const we=re[ge];if(we.length>1024)continue;const Je=e_.test(we)?we.replace(e_,"$1"):we;if(!Je.match(/\S*Error: /)){for(const It of r){const Rt=It(Je);if(Rt){V.push(Rt);break}}if(V.length>=sd+T)break}}return function ip(o){if(!o.length)return[];const r=Array.from(o);return/sentryWrapped/.test(rd(r).function||"")&&r.pop(),r.reverse(),Wh.test(rd(r).function||"")&&(r.pop(),Wh.test(rd(r).function||"")&&r.pop()),r.slice(0,sd).map(l=>({...l,filename:l.filename||rd(r).filename,function:l.function||Za}))}(V.slice(T))}}function Cv(o){return Array.isArray(o)?Lu(...o):o}function rd(o){return o[o.length-1]||{}}const sc="<anonymous>";function Al(o){try{return o&&"function"==typeof o&&o.name||sc}catch{return sc}}function t_(o){const r=o.exception;if(r){const l=[];try{return r.values.forEach(h=>{h.stacktrace.frames&&l.push(...h.stacktrace.frames)}),l}catch{return}}}function lr(o,r=100,l=1/0){try{return rp("",o,r,l)}catch(h){return{ERROR:`**non-serializable** (${h})`}}}function sp(o,r=3,l=102400){const h=lr(o,r);return function Mv(o){return function Bu(o){return~-encodeURI(o).split(/%..|./).length}(JSON.stringify(o))}(h)>l?sp(o,r-1,l):h}function rp(o,r,l=1/0,h=1/0,T=function Gh(){const o="function"==typeof WeakSet,r=o?new WeakSet:[];return[function l(T){if(o)return!!r.has(T)||(r.add(T),!1);for(let V=0;V<r.length;V++)if(r[V]===T)return!0;return r.push(T),!1},function h(T){if(o)r.delete(T);else for(let V=0;V<r.length;V++)if(r[V]===T){r.splice(V,1);break}}]}()){const[V,re]=T;if(null==r||["number","boolean","string"].includes(typeof r)&&!Number.isNaN(r))return r;const ge=function Nu(o,r){try{if("domain"===o&&r&&"object"==typeof r&&r._events)return"[Domain]";if("domainEmitter"===o)return"[DomainEmitter]";if(typeof global<"u"&&r===global)return"[Global]";if(typeof window<"u"&&r===window)return"[Window]";if(typeof document<"u"&&r===document)return"[Document]";if(Lh(r))return"[VueViewModel]";if(function Ym(o){return Or(o)&&"nativeEvent"in o&&"preventDefault"in o&&"stopPropagation"in o}(r))return"[SyntheticEvent]";if("number"==typeof r&&r!=r)return"[NaN]";if("function"==typeof r)return`[Function: ${Al(r)}]`;if("symbol"==typeof r)return`[${String(r)}]`;if("bigint"==typeof r)return`[BigInt: ${String(r)}]`;const l=function od(o){const r=Object.getPrototypeOf(o);return r?r.constructor.name:"null prototype"}(r);return/^HTML(\w*)Element$/.test(l)?`[HTMLElement: ${l}]`:`[object ${l}]`}catch(l){return`**non-serializable** (${l})`}}(o,r);if(!ge.startsWith("[object "))return ge;if(r.__sentry_skip_normalization__)return r;const we="number"==typeof r.__sentry_override_normalization_depth__?r.__sentry_override_normalization_depth__:l;if(0===we)return ge.replace("object ","");if(V(r))return"[Circular ~]";const Je=r;if(Je&&"function"==typeof Je.toJSON)try{return rp("",Je.toJSON(),we-1,h,T)}catch{}const It=Array.isArray(r)?[]:{};let Rt=0;const on=Bh(r);for(const yn in on)if(Object.prototype.hasOwnProperty.call(on,yn)){if(Rt>=h){It[yn]="[MaxProperties ~]";break}It[yn]=rp(yn,on[yn],we-1,h,T),Rt++}return re(r),It}var rc,o;function oc(o){return new oa(r=>{r(o)})}function Xd(o){return new oa((r,l)=>{l(o)})}(o=rc||(rc={}))[o.PENDING=0]="PENDING",o[o.RESOLVED=1]="RESOLVED",o[o.REJECTED=2]="REJECTED";class oa{constructor(r){oa.prototype.__init.call(this),oa.prototype.__init2.call(this),oa.prototype.__init3.call(this),oa.prototype.__init4.call(this),this._state=rc.PENDING,this._handlers=[];try{r(this._resolve,this._reject)}catch(l){this._reject(l)}}then(r,l){return new oa((h,T)=>{this._handlers.push([!1,V=>{if(r)try{h(r(V))}catch(re){T(re)}else h(V)},V=>{if(l)try{h(l(V))}catch(re){T(re)}else T(V)}]),this._executeHandlers()})}catch(r){return this.then(l=>l,r)}finally(r){return new oa((l,h)=>{let T,V;return this.then(re=>{V=!1,T=re,r&&r()},re=>{V=!0,T=re,r&&r()}).then(()=>{V?h(T):l(T)})})}__init(){this._resolve=r=>{this._setResult(rc.RESOLVED,r)}}__init2(){this._reject=r=>{this._setResult(rc.REJECTED,r)}}__init3(){this._setResult=(r,l)=>{if(this._state===rc.PENDING){if(Do(l))return void l.then(this._resolve,this._reject);this._state=r,this._value=l,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===rc.PENDING)return;const r=this._handlers.slice();this._handlers=[],r.forEach(l=>{l[0]||(this._state===rc.RESOLVED&&l[1](this._value),this._state===rc.REJECTED&&l[2](this._value),l[0]=!0)})}}}const yi=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Jn(o,r,l,h=0){return new oa((T,V)=>{const re=o[h];if(null===r||"function"!=typeof re)T(r);else{const ge=re({...r},l);yi&&re.id&&null===ge&&Wn.log(`Event processor "${re.id}" dropped event`),Do(ge)?ge.then(we=>Jn(o,we,l,h+1).then(T)).then(null,V):Jn(o,ge,l,h+1).then(T).then(null,V)}})}const ki="baggage",$r="sentry-",qa=/^sentry-/,$o=8192;function Zo(o){const r=function mr(o){if(o&&(lo(o)||Array.isArray(o)))return Array.isArray(o)?o.reduce((r,l)=>{const h=Yr(l);return Object.entries(h).forEach(([T,V])=>{r[T]=V}),r},{}):Yr(o)}(o);if(!r)return;const l=Object.entries(r).reduce((h,[T,V])=>(T.match(qa)&&(h[T.slice($r.length)]=V),h),{});return Object.keys(l).length>0?l:void 0}function ad(o){if(o)return function Rl(o){if(0!==Object.keys(o).length)return Object.entries(o).reduce((r,[l,h],T)=>{const V=`${encodeURIComponent(l)}=${encodeURIComponent(h)}`,re=0===T?V:`${r},${V}`;return re.length>$o?(Io&&Wn.warn(`Not adding key: ${l} with val: ${h} to baggage header due to exceeding baggage size limits.`),r):re},"")}(Object.entries(o).reduce((l,[h,T])=>(T&&(l[`${$r}${h}`]=T),l),{}))}function Yr(o){return o.split(",").map(r=>r.split("=").map(l=>decodeURIComponent(l.trim()))).reduce((r,[l,h])=>(l&&h&&(r[l]=h),r),{})}const Oi="sentry.source",Yd="sentry.sample_rate",wc="sentry.op",_r="sentry.origin",gr="sentry.idle_span_finish_reason",kl="sentry.measurement_unit",ac="sentry.measurement_value",xc="sentry.exclusive_time",el=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function cd(o=ye(),r=ye().substring(16),l){let h="";return void 0!==l&&(h=l?"-1":"-0"),`${o}-${r}${h}`}const tl="_sentryMetrics";function Qd(o){const r=o[tl];if(!r)return;const l={};for(const[,[h,T]]of r)(l[h]||(l[h]=[])).push(Mr(T));return l}const Qr=0,Jd=1,Rs=2;function zh(o,r){o.setAttribute("http.response.status_code",r);const l=function qo(o){if(o<400&&o>=100)return{code:Jd};if(o>=400&&o<500)switch(o){case 401:return{code:Rs,message:"unauthenticated"};case 403:return{code:Rs,message:"permission_denied"};case 404:return{code:Rs,message:"not_found"};case 409:return{code:Rs,message:"already_exists"};case 413:return{code:Rs,message:"failed_precondition"};case 429:return{code:Rs,message:"resource_exhausted"};case 499:return{code:Rs,message:"cancelled"};default:return{code:Rs,message:"invalid_argument"}}if(o>=500&&o<600)switch(o){case 501:return{code:Rs,message:"unimplemented"};case 503:return{code:Rs,message:"unavailable"};case 504:return{code:Rs,message:"deadline_exceeded"};default:return{code:Rs,message:"internal_error"}}return{code:Rs,message:"unknown_error"}}(r);"unknown_error"!==l.message&&o.setStatus(l)}const ju=1;function nl(o){const{spanId:r,traceId:l}=o.spanContext(),{data:h,op:T,parent_span_id:V,status:re,origin:ge}=ws(o);return Mr({parent_span_id:V,span_id:r,trace_id:l,data:h,op:T,status:re,origin:ge})}function $u(o){const{spanId:r,traceId:l}=o.spanContext(),{parent_span_id:h}=ws(o);return Mr({parent_span_id:h,span_id:r,trace_id:l})}function lp(o){const{traceId:r,spanId:l}=o.spanContext();return cd(r,l,Zd(o))}function dd(o){return"number"==typeof o?Kh(o):Array.isArray(o)?o[0]+o[1]/1e9:o instanceof Date?Kh(o.getTime()):ps()}function Kh(o){return o>9999999999?o/1e3:o}function ws(o){if(function cp(o){return"function"==typeof o.getSpanJSON}(o))return o.getSpanJSON();try{const{spanId:r,traceId:l}=o.spanContext();if(function n_(o){return!!(o.attributes&&o.startTime&&o.name&&o.endTime&&o.status)}(o)){const{attributes:h,startTime:T,name:V,endTime:re,parentSpanId:ge,status:we}=o;return Mr({span_id:r,trace_id:l,data:h,description:V,parent_span_id:ge,start_timestamp:dd(T),timestamp:dd(re)||void 0,status:Dv(we),op:h[wc],origin:h[_r],_metrics_summary:Qd(o)})}return{span_id:r,trace_id:l}}catch{return{}}}function Zd(o){const{traceFlags:r}=o.spanContext();return r===ju}function Dv(o){if(o&&o.code!==Qr)return o.code===Jd?"ok":o.message||"unknown_error"}const qd="_sentryChildSpans",dp="_sentryRootSpan";function Iv(o,r){fo(r,dp,o[dp]||o),o[qd]?o[qd].add(r):fo(o,qd,new Set([r]))}function up(o){const r=new Set;return function l(h){if(!r.has(h)&&Zd(h)){r.add(h);const T=h[qd]?Array.from(h[qd]):[];for(const V of T)l(V)}}(o),Array.from(r)}function po(o){return o[dp]||o}function wo(){const r=id(Bo());return r.getActiveSpan?r.getActiveSpan():Pu(Vs())}const Sv="_frozenDsc";function wv(o,r){fo(o,Sv,r)}function Vu(o,r){const l=r.getOptions(),{publicKey:h}=r.getDsn()||{},T=Mr({environment:l.environment||cr,release:l.release,public_key:h,trace_id:o});return r.emit("createDsc",T),T}function cc(o){const r=Ms();if(!r)return{};const l=Vu(ws(o).trace_id||"",r),h=po(o),T=h[Sv];if(T)return T;const V=h.spanContext().traceState,re=V&&V.get("sentry.dsc"),ge=re&&Zo(re);if(ge)return ge;const we=ws(h),Je=we.data||{},It=Je[Yd];null!=It&&(l.sample_rate=`${It}`);const on=we.description;return"url"!==Je[Oi]&&on&&(l.transaction=on),l.sampled=String(Zd(h)),r.emit("createDsc",l,h),l}function xv(o,r){const{extra:l,tags:h,user:T,contexts:V,level:re,sdkProcessingMetadata:ge,breadcrumbs:we,fingerprint:Je,eventProcessors:It,attachments:Rt,propagationContext:on,transactionName:yn,span:gn}=r;Hh(o,"extra",l),Hh(o,"tags",h),Hh(o,"user",T),Hh(o,"contexts",V),Hh(o,"sdkProcessingMetadata",ge),re&&(o.level=re),yn&&(o.transactionName=yn),gn&&(o.span=gn),we.length&&(o.breadcrumbs=[...o.breadcrumbs,...we]),Je.length&&(o.fingerprint=[...o.fingerprint,...Je]),It.length&&(o.eventProcessors=[...o.eventProcessors,...It]),Rt.length&&(o.attachments=[...o.attachments,...Rt]),o.propagationContext={...o.propagationContext,...on}}function Hh(o,r,l){if(l&&Object.keys(l).length){o[r]={...o[r]};for(const h in l)Object.prototype.hasOwnProperty.call(l,h)&&(o[r][h]=l[h])}}function r_(o,r,l,h,T,V){const{normalizeDepth:re=3,normalizeMaxBreadth:ge=1e3}=o,we={...r,event_id:r.event_id||l.event_id||ye(),timestamp:r.timestamp||Ss()},Je=l.integrations||o.integrations.map(Zn=>Zn.name);(function dr(o,r){const{environment:l,release:h,dist:T,maxValueLength:V=250}=r;"environment"in o||(o.environment="environment"in r?l:cr),void 0===o.release&&void 0!==h&&(o.release=h),void 0===o.dist&&void 0!==T&&(o.dist=T),o.message&&(o.message=ed(o.message,V));const re=o.exception&&o.exception.values&&o.exception.values[0];re&&re.value&&(re.value=ed(re.value,V));const ge=o.request;ge&&ge.url&&(ge.url=ed(ge.url,V))})(we,o),function kv(o,r){r.length>0&&(o.sdk=o.sdk||{},o.sdk.integrations=[...o.sdk.integrations||[],...r])}(we,Je),T&&T.emit("applyFrameMetadata",r),void 0===r.type&&function Rv(o,r){const l=Ci._sentryDebugIds;if(!l)return;let h;const T=eu.get(r);T?h=T:(h=new Map,eu.set(r,h));const V=Object.entries(l).reduce((re,[ge,we])=>{let Je;const It=h.get(ge);It?Je=It:(Je=r(ge),h.set(ge,Je));for(let Rt=Je.length-1;Rt>=0;Rt--){const on=Je[Rt];if(on.filename){re[on.filename]=we;break}}return re},{});try{o.exception.values.forEach(re=>{re.stacktrace.frames.forEach(ge=>{ge.filename&&(ge.debug_id=V[ge.filename])})})}catch{}}(we,o.stackParser);const It=function ud(o,r){if(!r)return o;const l=o?o.clone():new Ol;return l.update(r),l}(h,l.captureContext);l.mechanism&&St(we,l.mechanism);const Rt=T?T.getEventProcessors():[],on=function Hd(){return Os("globalScope",()=>new Ol)}().getScopeData();V&&xv(on,V.getScopeData()),It&&xv(on,It.getScopeData());const yn=[...l.attachments||[],...on.attachments];return yn.length&&(l.attachments=yn),function pb(o,r){const{fingerprint:l,span:h,breadcrumbs:T,sdkProcessingMetadata:V}=r;(function Ov(o,r){const{extra:l,tags:h,user:T,contexts:V,level:re,transactionName:ge}=r,we=Mr(l);we&&Object.keys(we).length&&(o.extra={...we,...o.extra});const Je=Mr(h);Je&&Object.keys(Je).length&&(o.tags={...Je,...o.tags});const It=Mr(T);It&&Object.keys(It).length&&(o.user={...It,...o.user});const Rt=Mr(V);Rt&&Object.keys(Rt).length&&(o.contexts={...Rt,...o.contexts}),re&&(o.level=re),ge&&"transaction"!==o.type&&(o.transaction=ge)})(o,r),h&&function s_(o,r){o.contexts={trace:$u(r),...o.contexts},o.sdkProcessingMetadata={dynamicSamplingContext:cc(r),...o.sdkProcessingMetadata};const h=ws(po(r)).description;h&&!o.transaction&&"transaction"===o.type&&(o.transaction=h)}(o,h),function Av(o,r){o.fingerprint=o.fingerprint?ns(o.fingerprint):[],r&&(o.fingerprint=o.fingerprint.concat(r)),o.fingerprint&&!o.fingerprint.length&&delete o.fingerprint}(o,l),function i_(o,r){const l=[...o.breadcrumbs||[],...r];o.breadcrumbs=l.length?l:void 0}(o,T),function hp(o,r){o.sdkProcessingMetadata={...o.sdkProcessingMetadata,...r}}(o,V)}(we,on),Jn([...Rt,...on.eventProcessors],we,l).then(Zn=>(Zn&&function fp(o){const r={};try{o.exception.values.forEach(h=>{h.stacktrace.frames.forEach(T=>{T.debug_id&&(T.abs_path?r[T.abs_path]=T.debug_id:T.filename&&(r[T.filename]=T.debug_id),delete T.debug_id)})})}catch{}if(0===Object.keys(r).length)return;o.debug_meta=o.debug_meta||{},o.debug_meta.images=o.debug_meta.images||[];const l=o.debug_meta.images;Object.entries(r).forEach(([h,T])=>{l.push({type:"sourcemap",code_file:h,debug_id:T})})}(Zn),"number"==typeof re&&re>0?function Pl(o,r,l){if(!o)return null;const h={...o,...o.breadcrumbs&&{breadcrumbs:o.breadcrumbs.map(T=>({...T,...T.data&&{data:lr(T.data,r,l)}}))},...o.user&&{user:lr(o.user,r,l)},...o.contexts&&{contexts:lr(o.contexts,r,l)},...o.extra&&{extra:lr(o.extra,r,l)}};return o.contexts&&o.contexts.trace&&h.contexts&&(h.contexts.trace=o.contexts.trace,o.contexts.trace.data&&(h.contexts.trace.data=lr(o.contexts.trace.data,r,l))),o.spans&&(h.spans=o.spans.map(T=>({...T,...T.data&&{data:lr(T.data,r,l)}}))),h}(Zn,re,ge):Zn))}const eu=new WeakMap;const pp=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function xo(o,r){return Vs().captureException(o,function o_(o){if(o)return function Ns(o){return o instanceof Ol||"function"==typeof o}(o)||function Gu(o){return Object.keys(o).some(r=>pp.includes(r))}(o)?{captureContext:o}:o}(r))}function tu(o,r){return Vs().captureEvent(o,r)}function Ac(o,r){Ar().setContext(o,r)}function zu(o){const r=Ms(),l=Ar(),h=Vs(),{release:T,environment:V=cr}=r&&r.getOptions()||{},{userAgent:re}=Ci.navigator||{},ge=function ic(o){const r=ps(),l={sid:ye(),init:!0,timestamp:r,started:r,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function ku(o){return Mr({sid:`${o.sid}`,init:o.init,started:new Date(1e3*o.started).toISOString(),timestamp:new Date(1e3*o.timestamp).toISOString(),status:o.status,errors:o.errors,did:"number"==typeof o.did||"string"==typeof o.did?`${o.did}`:void 0,duration:o.duration,abnormal_mechanism:o.abnormal_mechanism,attrs:{release:o.release,environment:o.environment,ip_address:o.ipAddress,user_agent:o.userAgent}})}(l)};return o&&zd(l,o),l}({release:T,environment:V,user:h.getUser()||l.getUser(),...re&&{userAgent:re},...o}),we=l.getSession();return we&&"ok"===we.status&&zd(we,{status:"exited"}),Yh(),l.setSession(ge),h.setSession(ge),ge}function Yh(){const o=Ar(),r=Vs(),l=r.getSession()||o.getSession();l&&function Qm(o,r){let l={};r?l={status:r}:"ok"===o.status&&(l={status:"exited"}),zd(o,l)}(l),vp(),o.setSession(),r.setSession()}function vp(){const o=Ar(),r=Vs(),l=Ms(),h=r.getSession()||o.getSession();h&&l&&l.captureSession(h)}function Fv(o=!1){o?Yh():vp()}const d_=[];function Nv(o){const r=o.defaultIntegrations||[],l=o.integrations;let h;r.forEach(re=>{re.isDefaultInstance=!0}),h=Array.isArray(l)?[...r,...l]:"function"==typeof l?ns(l(r)):r;const T=function Lv(o){const r={};return o.forEach(l=>{const{name:h}=l,T=r[h];T&&!T.isDefaultInstance&&l.isDefaultInstance||(r[h]=l)}),Object.values(r)}(h),V=T.findIndex(re=>"Debug"===re.name);if(V>-1){const[re]=T.splice(V,1);T.push(re)}return T}function kc(o,r){for(const l of r)l&&l.afterAllSetup&&l.afterAllSetup(o)}function bp(o,r,l){if(l[r.name])yi&&Wn.log(`Integration skipped because it was already installed: ${r.name}`);else{if(l[r.name]=r,-1===d_.indexOf(r.name)&&"function"==typeof r.setupOnce&&(r.setupOnce(),d_.push(r.name)),r.setup&&"function"==typeof r.setup&&r.setup(o),"function"==typeof r.preprocessEvent){const h=r.preprocessEvent.bind(r);o.on("preprocessEvent",(T,V)=>h(T,V,o))}if("function"==typeof r.processEvent){const h=r.processEvent.bind(r),T=Object.assign((V,re)=>h(V,re,o),{id:r.name});o.addEventProcessor(T)}yi&&Wn.log(`Integration installed: ${r.name}`)}}const Bv=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],vs=(o={})=>({name:"InboundFilters",processEvent(r,l,h){const T=h.getOptions(),V=function f_(o={},r={}){return{allowUrls:[...o.allowUrls||[],...r.allowUrls||[]],denyUrls:[...o.denyUrls||[],...r.denyUrls||[]],ignoreErrors:[...o.ignoreErrors||[],...r.ignoreErrors||[],...o.disableErrorDefaults?[]:Bv],ignoreTransactions:[...o.ignoreTransactions||[],...r.ignoreTransactions||[]],ignoreInternal:void 0===o.ignoreInternal||o.ignoreInternal}}(o,T);return function p_(o,r){return r.ignoreInternal&&function Qh(o){try{return"SentryError"===o.exception.values[0].type}catch{}return!1}(o)?(yi&&Wn.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${_e(o)}`),!0):function er(o,r){return!(o.type||!r||!r.length)&&function Ep(o){const r=[];let l;o.message&&r.push(o.message);try{l=o.exception.values[o.exception.values.length-1]}catch{}return l&&l.value&&(r.push(l.value),l.type&&r.push(`${l.type}: ${l.value}`)),r}(o).some(l=>ho(l,r))}(o,r.ignoreErrors)?(yi&&Wn.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${_e(o)}`),!0):function jv(o){return!(o.type||!o.exception||!o.exception.values||0===o.exception.values.length||o.message||o.exception.values.some(r=>r.stacktrace||r.type&&"Error"!==r.type||r.value))}(o)?(yi&&Wn.warn(`Event dropped due to not having an error message, error type or stacktrace.\nEvent: ${_e(o)}`),!0):function yp(o,r){if("transaction"!==o.type||!r||!r.length)return!1;const l=o.transaction;return!!l&&ho(l,r)}(o,r.ignoreTransactions)?(yi&&Wn.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${_e(o)}`),!0):function iu(o,r){if(!r||!r.length)return!1;const l=Cp(o);return!!l&&ho(l,r)}(o,r.denyUrls)?(yi&&Wn.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${_e(o)}.\nUrl: ${Cp(o)}`),!0):!function Ca(o,r){if(!r||!r.length)return!0;const l=Cp(o);return!l||ho(l,r)}(o,r.allowUrls)&&(yi&&Wn.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${_e(o)}.\nUrl: ${Cp(o)}`),!0)}(r,V)?null:r}});function Cp(o){try{let r;try{r=o.exception.values[0].stacktrace.frames}catch{}return r?function m_(o=[]){for(let r=o.length-1;r>=0;r--){const l=o[r];if(l&&"<anonymous>"!==l.filename&&"[native code]"!==l.filename)return l.filename||null}return null}(r):null}catch{return yi&&Wn.error(`Cannot extract url for event ${_e(o)}`),null}}let Mp;const Ku=new WeakMap,Oo=()=>({name:"FunctionToString",setupOnce(){Mp=Function.prototype.toString;try{Function.prototype.toString=function(...o){const r=Wd(this),l=Ku.has(Ms())&&void 0!==r?r:this;return Mp.apply(l,o)}}catch{}},setup(o){Ku.set(o,!0)}}),dc=()=>{let o;return{name:"Dedupe",processEvent(r){if(r.type)return r;try{if(function Pc(o,r){return!(!r||!function Tp(o,r){const l=o.message,h=r.message;return!(!l&&!h||l&&!h||!l&&h||l!==h||!Hu(o,r)||!Pa(o,r))}(o,r)&&!function ka(o,r){const l=aa(r),h=aa(o);return!!(l&&h&&l.type===h.type&&l.value===h.value&&Hu(o,r)&&Pa(o,r))}(o,r))}(r,o))return yi&&Wn.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return o=r}}};function Pa(o,r){let l=t_(o),h=t_(r);if(!l&&!h)return!0;if(l&&!h||!l&&h||h.length!==l.length)return!1;for(let T=0;T<h.length;T++){const V=h[T],re=l[T];if(V.filename!==re.filename||V.lineno!==re.lineno||V.colno!==re.colno||V.function!==re.function)return!1}return!0}function Hu(o,r){let l=o.fingerprint,h=r.fingerprint;if(!l&&!h)return!0;if(l&&!h||!l&&h)return!1;try{return l.join("")===h.join("")}catch{return!1}}function aa(o){return o.exception&&o.exception.values&&o.exception.values[0]}const $v=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Fl(o,r=!1){const{host:l,path:h,pass:T,port:V,projectId:re,protocol:ge,publicKey:we}=o;return`${ge}://${we}${r&&T?`:${T}`:""}@${l}${V?`:${V}`:""}/${h&&`${h}/`}${re}`}function Xu(o){return{protocol:o.protocol,publicKey:o.publicKey||"",pass:o.pass||"",host:o.host,port:o.port||"",path:o.path||"",projectId:o.projectId}}function Yu(o){const r="string"==typeof o?function Jh(o){const r=$v.exec(o);if(!r)return void tc(()=>{console.error(`Invalid Sentry Dsn: ${o}`)});const[l,h,T="",V="",re="",ge=""]=r.slice(1);let we="",Je=ge;const It=Je.split("/");if(It.length>1&&(we=It.slice(0,-1).join("/"),Je=It.pop()),Je){const Rt=Je.match(/^\d+/);Rt&&(Je=Rt[0])}return Xu({host:V,pass:T,path:we,projectId:Je,port:re,protocol:l,publicKey:h})}(o):Xu(o);if(r&&function Dp(o){if(!Io)return!0;const{port:r,projectId:l,protocol:h}=o;return!(["protocol","publicKey","host","projectId"].find(re=>!o[re]&&(Wn.error(`Invalid Sentry Dsn: ${re} missing`),!0))||(l.match(/^\d+$/)?function Vv(o){return"http"===o||"https"===o}(h)?r&&isNaN(parseInt(r,10))&&(Wn.error(`Invalid Sentry Dsn: Invalid port ${r}`),1):(Wn.error(`Invalid Sentry Dsn: Invalid protocol ${h}`),1):(Wn.error(`Invalid Sentry Dsn: Invalid projectId ${l}`),1)))}(r))return r}const uc="7";function Zh(o){return`${o.protocol?`${o.protocol}:`:""}//${o.host}${o.port?`:${o.port}`:""}${o.path?`/${o.path}`:""}/api/`}function ni(o,r,l){return r||`${function ea(o){return`${Zh(o)}${o.projectId}/envelope/`}(o)}?${function su(o,r){return function td(o){return Object.keys(o).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(o[r])}`).join("&")}({sentry_key:o.publicKey,sentry_version:uc,...r&&{sentry_client:`${r.name}/${r.version}`}})}(o,l)}`}const Ll=Ci;function ef(){if(!("fetch"in Ll))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function fd(o){return o&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(o.toString())}const _l={},ru={};function gl(o,r){_l[o]=_l[o]||[],_l[o].push(r)}function hc(o,r){ru[o]||(r(),ru[o]=!0)}function vl(o,r){const l=o&&_l[o];if(l)for(const h of l)try{h(r)}catch(T){Io&&Wn.error(`Error while triggering instrumentation handler.\nType: ${o}\nName: ${Al(h)}\nError:`,T)}}const Ao=Ci,cs=Ci;let Lc;function Qu(o){const r="history";gl(r,o),hc(r,Kv)}function Kv(){if(!function Fc(){const o=Ao.chrome;return!(o&&o.app&&o.app.runtime||!("history"in Ao)||!Ao.history.pushState||!Ao.history.replaceState)}())return;const o=cs.onpopstate;function r(l){return function(...h){const T=h.length>2?h[2]:void 0;if(T){const V=Lc,re=String(T);Lc=re,vl("history",{from:V,to:re})}return l.apply(this,h)}}cs.onpopstate=function(...l){const h=cs.location.href,T=Lc;if(Lc=h,vl("history",{from:T,to:h}),o)try{return o.apply(this,l)}catch{}},Jo(cs.history,"pushState",r),Jo(cs.history,"replaceState",r)}function ou(o,r=[]){return[o,r]}function Sp(o,r){const[l,h]=o;return[l,[...h,r]]}function b_(o,r){const l=o[1];for(const h of l)if(r(h,h[0].type))return!0;return!1}function Fa(o){return Ci.__SENTRY__&&Ci.__SENTRY__.encodePolyfill?Ci.__SENTRY__.encodePolyfill(o):(new TextEncoder).encode(o)}function sf(o){const[r,l]=o;let h=JSON.stringify(r);function T(V){"string"==typeof h?h="string"==typeof V?h+V:[Fa(h),V]:h.push("string"==typeof V?Fa(V):V)}for(const V of l){const[re,ge]=V;if(T(`\n${JSON.stringify(re)}\n`),"string"==typeof ge||ge instanceof Uint8Array)T(ge);else{let we;try{we=JSON.stringify(ge)}catch{we=JSON.stringify(lr(ge))}T(we)}}return"string"==typeof h?h:function Hv(o){const r=o.reduce((T,V)=>T+V.length,0),l=new Uint8Array(r);let h=0;for(const T of o)l.set(T,h),h+=T.length;return l}(h)}function Xv(o){return[{type:"span"},o]}function E_(o){const r="string"==typeof o.data?Fa(o.data):o.data;return[Mr({type:"attachment",length:r.length,filename:o.filename,content_type:o.contentType,attachment_type:o.attachmentType}),r]}const af={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function au(o){return af[o]}function pd(o){if(!o||!o.sdk)return;const{name:r,version:l}=o.sdk;return{name:r,version:l}}function jn(o,r,l,h){const T=o.sdkProcessingMetadata&&o.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:o.event_id,sent_at:(new Date).toISOString(),...r&&{sdk:r},...!!l&&h&&{dsn:Fl(h)},...T&&{trace:Mr({...T})}}}class bl extends Error{constructor(r,l="warn"){super(r),this.message=r,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=l}}function Nc(o){if("boolean"==typeof o)return Number(o);const r="string"==typeof o?parseFloat(o):o;if(!("number"!=typeof r||isNaN(r)||r<0||r>1))return r;yi&&Wn.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(o)} of type ${JSON.stringify(typeof o)}.`)}const cf="Not capturing exception because it's already been captured.";class md{constructor(r){if(this._options=r,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],r.dsn?this._dsn=Yu(r.dsn):yi&&Wn.warn("No DSN provided, client will not send events."),this._dsn){const l=ni(this._dsn,r.tunnel,r._metadata?r._metadata.sdk:void 0);this._transport=r.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...r.transportOptions,url:l})}}captureException(r,l,h){const T=ye();if($i(r))return yi&&Wn.log(cf),T;const V={event_id:T,...l};return this._process(this.eventFromException(r,V).then(re=>this._captureEvent(re,V,h))),V.event_id}captureMessage(r,l,h,T){const V={event_id:ye(),...h},re=fl(r)?r:String(r),ge=ci(r)?this.eventFromMessage(re,l,V):this.eventFromException(r,V);return this._process(ge.then(we=>this._captureEvent(we,V,T))),V.event_id}captureEvent(r,l,h){const T=ye();if(l&&l.originalException&&$i(l.originalException))return yi&&Wn.log(cf),T;const V={event_id:T,...l};return this._process(this._captureEvent(r,V,(r.sdkProcessingMetadata||{}).capturedSpanScope||h)),V.event_id}captureSession(r){"string"!=typeof r.release?yi&&Wn.warn("Discarded session because of missing or non-string release"):(this.sendSession(r),zd(r,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(r){const l=this._transport;return l?(this.emit("flush"),this._isClientDoneProcessing(r).then(h=>l.flush(r).then(T=>h&&T))):oc(!0)}close(r){return this.flush(r).then(l=>(this.getOptions().enabled=!1,this.emit("close"),l))}getEventProcessors(){return this._eventProcessors}addEventProcessor(r){this._eventProcessors.push(r)}init(){(this._isEnabled()||this._options.integrations.some(({name:r})=>r.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(r){return this._integrations[r]}addIntegration(r){const l=this._integrations[r.name];bp(this,r,this._integrations),l||kc(this,[r])}sendEvent(r,l={}){this.emit("beforeSendEvent",r,l);let h=function La(o,r,l,h){const T=pd(l),V=o.type&&"replay_event"!==o.type?o.type:"event";!function C_(o,r){r&&(o.sdk=o.sdk||{},o.sdk.name=o.sdk.name||r.name,o.sdk.version=o.sdk.version||r.version,o.sdk.integrations=[...o.sdk.integrations||[],...r.integrations||[]],o.sdk.packages=[...o.sdk.packages||[],...r.packages||[]])}(o,l&&l.sdk);const re=jn(o,T,h,r);return delete o.sdkProcessingMetadata,ou(re,[[{type:V},o]])}(r,this._dsn,this._options._metadata,this._options.tunnel);for(const V of l.attachments||[])h=Sp(h,E_(V));const T=this.sendEnvelope(h);T&&T.then(V=>this.emit("afterSendEvent",r,V),null)}sendSession(r){const l=function lf(o,r,l,h){const T=pd(l);return ou({sent_at:(new Date).toISOString(),...T&&{sdk:T},...!!h&&r&&{dsn:Fl(r)}},["aggregates"in o?[{type:"sessions"},o]:[{type:"session"},o.toJSON()]])}(r,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(l)}recordDroppedEvent(r,l,h){if(this._options.sendClientReports){const T="number"==typeof h?h:1,V=`${r}:${l}`;yi&&Wn.log(`Recording outcome: "${V}"${T>1?` (${T} times)`:""}`),this._outcomes[V]=(this._outcomes[V]||0)+T}}on(r,l){const h=this._hooks[r]=this._hooks[r]||[];return h.push(l),()=>{const T=h.indexOf(l);T>-1&&h.splice(T,1)}}emit(r,...l){const h=this._hooks[r];h&&h.forEach(T=>T(...l))}sendEnvelope(r){return this.emit("beforeEnvelope",r),this._isEnabled()&&this._transport?this._transport.send(r).then(null,l=>(yi&&Wn.error("Error while sending event:",l),l)):(yi&&Wn.error("Transport disabled"),oc({}))}_setupIntegrations(){const{integrations:r}=this._options;this._integrations=function u_(o,r){const l={};return r.forEach(h=>{h&&bp(o,h,l)}),l}(this,r),kc(this,r)}_updateSessionFromEvent(r,l){let h=!1,T=!1;const V=l.exception&&l.exception.values;if(V){T=!0;for(const we of V){const Je=we.mechanism;if(Je&&!1===Je.handled){h=!0;break}}}const re="ok"===r.status;(re&&0===r.errors||re&&h)&&(zd(r,{...h&&{status:"crashed"},errors:r.errors||Number(T||h)}),this.captureSession(r))}_isClientDoneProcessing(r){return new oa(l=>{let h=0;const V=setInterval(()=>{0==this._numProcessing?(clearInterval(V),l(!0)):(h+=1,r&&h>=r&&(clearInterval(V),l(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(r,l,h,T=Ar()){const V=this.getOptions(),re=Object.keys(this._integrations);return!l.integrations&&re.length>0&&(l.integrations=re),this.emit("preprocessEvent",r,l),r.type||T.setLastEventId(r.event_id||l.event_id),r_(V,r,l,h,this,T).then(ge=>{if(null===ge)return ge;const we={...T.getPropagationContext(),...h?h.getPropagationContext():void 0};if((!ge.contexts||!ge.contexts.trace)&&we){const{traceId:It,spanId:Rt,parentSpanId:on,dsc:yn}=we;ge.contexts={trace:Mr({trace_id:It,span_id:Rt,parent_span_id:on}),...ge.contexts};const gn=yn||Vu(It,this);ge.sdkProcessingMetadata={dynamicSamplingContext:gn,...ge.sdkProcessingMetadata}}return ge})}_captureEvent(r,l={},h){return this._processEvent(r,l,h).then(T=>T.event_id,T=>{if(yi){const V=T;"log"===V.logLevel?Wn.log(V.message):Wn.warn(V)}})}_processEvent(r,l,h){const T=this.getOptions(),{sampleRate:V}=T,re=Ju(r),ge=Op(r),we=r.type||"error",Je=`before send for type \`${we}\``,It=typeof V>"u"?void 0:Nc(V);if(ge&&"number"==typeof It&&Math.random()>It)return this.recordDroppedEvent("sample_rate","error",r),Xd(new bl(`Discarding event because it's not included in the random sample (sampling rate = ${V})`,"log"));const Rt="replay_event"===we?"replay":we;return this._prepareEvent(r,l,h,(r.sdkProcessingMetadata||{}).capturedSpanIsolationScope).then(gn=>{if(null===gn)throw this.recordDroppedEvent("event_processor",Rt,r),new bl("An event processor returned `null`, will not send event.","log");if(l.data&&!0===l.data.__sentry__)return gn;const Zn=function xp(o,r,l,h){const{beforeSend:T,beforeSendTransaction:V,beforeSendSpan:re}=r;if(Op(l)&&T)return T(l,h);if(Ju(l)){if(l.spans&&re){const ge=[];for(const we of l.spans){const Je=re(we);Je?ge.push(Je):o.recordDroppedEvent("before_send","span")}l.spans=ge}if(V)return l.spans&&(l.sdkProcessingMetadata={...l.sdkProcessingMetadata,spanCountBeforeProcessing:l.spans.length}),V(l,h)}return l}(this,T,gn,l);return function wp(o,r){const l=`${r} must return \`null\` or a valid event.`;if(Do(o))return o.then(h=>{if(!Or(h)&&null!==h)throw new bl(l);return h},h=>{throw new bl(`${r} rejected with ${h}`)});if(!Or(o)&&null!==o)throw new bl(l);return o}(Zn,Je)}).then(gn=>{if(null===gn)throw this.recordDroppedEvent("before_send",Rt,r),re&&this.recordDroppedEvent("before_send","span",1+(r.spans||[]).length),new bl(`${Je} returned \`null\`, will not send event.`,"log");const An=h&&h.getSession();if(!re&&An&&this._updateSessionFromEvent(An,gn),re){const es=(gn.sdkProcessingMetadata&&gn.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(gn.spans?gn.spans.length:0);es>0&&this.recordDroppedEvent("before_send","span",es)}const Zn=gn.transaction_info;if(re&&Zn&&gn.transaction!==r.transaction){const qn="custom";gn.transaction_info={...Zn,source:qn}}return this.sendEvent(gn,l),gn}).then(null,gn=>{throw gn instanceof bl?gn:(this.captureException(gn,{data:{__sentry__:!0},originalException:gn}),new bl(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${gn}`))})}_process(r){this._numProcessing++,r.then(l=>(this._numProcessing--,l),l=>(this._numProcessing--,l))}_clearOutcomes(){const r=this._outcomes;return this._outcomes={},Object.entries(r).map(([l,h])=>{const[T,V]=l.split(":");return{reason:T,category:V,quantity:h}})}_flushOutcomes(){yi&&Wn.log("Flushing outcomes...");const r=this._clearOutcomes();if(0===r.length)return void(yi&&Wn.log("No outcomes to send"));if(!this._dsn)return void(yi&&Wn.log("No dsn provided, will not send outcomes"));yi&&Wn.log("Sending outcomes:",r);const l=function rl(o,r,l){return ou(r?{dsn:r}:{},[[{type:"client_report"},{timestamp:l||Ss(),discarded_events:o}]])}(r,this._options.tunnel&&Fl(this._dsn));this.sendEnvelope(l)}}function Op(o){return void 0===o.type}function Ju(o){return"transaction"===o.type}function M_(o,r,l=[r],h="npm"){const T=o._metadata||{};T.sdk||(T.sdk={name:`sentry.javascript.${r}`,packages:l.map(V=>({name:`${h}:@sentry/${V}`,version:Vn})),version:Vn}),o._metadata=T}const ca=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Zu(o,r){const l=Bl(o,r),h={type:r&&r.name,value:Vo(r)};return l.length&&(h.stacktrace={frames:l}),void 0===h.type&&""===h.value&&(h.value="Unrecoverable error caught"),h}function Bc(o,r){return{exception:{values:[Zu(o,r)]}}}function Bl(o,r){const l=r.stacktrace||r.stack||"",h=function Rp(o){return o&&mo.test(o.message)?1:0}(r),T=function Uc(o){return"number"==typeof o.framesToPop?o.framesToPop:0}(r);try{return o(l,h,T)}catch{}return[]}const mo=/Minified React error #\d+;/i;function Vo(o){const r=o&&o.message;return r?r.error&&"string"==typeof r.error.message?r.error.message:r:"No error message"}function gd(o,r,l,h,T){let V;if(ya(r)&&r.error)return Bc(o,r.error);if(Ea(r)||function Zc(o){return jr(o,"DOMException")}(r)){const re=r;if("stack"in r)V=Bc(o,r);else{const ge=re.name||(Ea(re)?"DOMError":"DOMException"),we=re.message?`${ge}: ${re.message}`:ge;V=uf(o,we,l,h),nt(V,we)}return"code"in re&&(V.tags={...V.tags,"DOMException.code":`${re.code}`}),V}return ra(r)?Bc(o,r):Or(r)||wa(r)?(V=function Ap(o,r,l,h){const T=Ms(),V=T&&T.getOptions().normalizeDepth,re=function qu(o){for(const r in o)if(Object.prototype.hasOwnProperty.call(o,r)){const l=o[r];if(l instanceof Error)return l}}(r),ge={__serialized__:sp(r,V)};if(re)return{exception:{values:[Zu(o,re)]},extra:ge};const we={exception:{values:[{type:wa(r)?r.constructor.name:h?"UnhandledRejection":"Error",value:kp(r,{isUnhandledRejection:h})}]},extra:ge};if(l){const Je=Bl(o,l);Je.length&&(we.exception.values[0].stacktrace={frames:Je})}return we}(o,r,l,T),St(V,{synthetic:!0}),V):(V=uf(o,r,l,h),nt(V,`${r}`,void 0),St(V,{synthetic:!0}),V)}function uf(o,r,l,h){const T={};if(h&&l){const V=Bl(o,l);V.length&&(T.exception={values:[{value:r,stacktrace:{frames:V}}]})}if(fl(r)){const{__sentry_template_string__:V,__sentry_template_values__:re}=r;return T.logentry={message:V,params:re},T}return T.message=r,T}function kp(o,{isUnhandledRejection:r}){const l=function ep(o,r=40){const l=Object.keys(Bh(o));l.sort();const h=l[0];if(!h)return"[object has no keys]";if(h.length>=r)return ed(h,r);for(let T=l.length;T>0;T--){const V=l.slice(0,T).join(", ");if(!(V.length>r))return T===l.length?V:ed(V,r)}return""}(o),h=r?"promise rejection":"exception";return ya(o)?`Event \`ErrorEvent\` captured as ${h} with message \`${o.message}\``:wa(o)?`Event \`${function hf(o){try{const r=Object.getPrototypeOf(o);return r?r.constructor.name:void 0}catch{}}(o)}\` (type=${o.type}) captured as ${h}`:`Object captured as ${h} with keys: ${l}`}const Yi=Ci;let ff=0;function Pp(){return ff>0}function vd(o,r={},l){if("function"!=typeof o)return o;try{const T=o.__sentry_wrapped__;if(T)return T;if(Wd(o))return o}catch{return o}const h=function(){const T=Array.prototype.slice.call(arguments);try{l&&"function"==typeof l&&l.apply(this,arguments);const V=T.map(re=>vd(re,r));return o.apply(this,V)}catch(V){throw function T_(){ff++,setTimeout(()=>{ff--})}(),Fu(re=>{re.addEventProcessor(ge=>(r.mechanism&&(nt(ge,void 0,void 0),St(ge,r.mechanism)),ge.extra={...ge.extra,arguments:T},ge)),xo(V)}),V}};try{for(const T in o)Object.prototype.hasOwnProperty.call(o,T)&&(h[T]=o[T])}catch{}Gd(h,o),fo(o,"__sentry_wrapped__",h);try{Object.getOwnPropertyDescriptor(h,"name").configurable&&Object.defineProperty(h,"name",{get:()=>o.name})}catch{}return h}class Jv extends md{constructor(r){const l={parentSpanIsAlwaysRootSpan:!0,...r};M_(l,"browser",["browser"],Yi.SENTRY_SDK_SOURCE||"npm"),super(l),l.sendClientReports&&Yi.document&&Yi.document.addEventListener("visibilitychange",()=>{"hidden"===Yi.document.visibilityState&&this._flushOutcomes()})}eventFromException(r,l){return function Yv(o,r,l,h){const V=gd(o,r,l&&l.syntheticException||void 0,h);return St(V),V.level="error",l&&l.event_id&&(V.event_id=l.event_id),oc(V)}(this._options.stackParser,r,l,this._options.attachStacktrace)}eventFromMessage(r,l="info",h){return function df(o,r,l="info",h,T){const re=uf(o,r,h&&h.syntheticException||void 0,T);return re.level=l,h&&h.event_id&&(re.event_id=h.event_id),oc(re)}(this._options.stackParser,r,l,h,this._options.attachStacktrace)}captureUserFeedback(r){if(!this._isEnabled())return void(ca&&Wn.warn("SDK not enabled, will not capture user feedback."));const l=function Qv(o,{metadata:r,tunnel:l,dsn:h}){const T={event_id:o.event_id,sent_at:(new Date).toISOString(),...r&&r.sdk&&{sdk:{name:r.sdk.name,version:r.sdk.version}},...!!l&&!!h&&{dsn:Fl(h)}},V=function eh(o){return[{type:"user_report"},o]}(o);return ou(T,[V])}(r,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(l)}_prepareEvent(r,l,h){return r.platform=r.platform||"javascript",super._prepareEvent(r,l,h)}}const D_=1e3;let pf,cu,th;function Ro(o){gl("dom",o),hc("dom",I_)}function I_(){if(!cs.document)return;const o=vl.bind(null,"dom"),r=Fp(o,!0);cs.document.addEventListener("click",r,!1),cs.document.addEventListener("keypress",r,!1),["EventTarget","Node"].forEach(l=>{const h=cs[l]&&cs[l].prototype;!h||!h.hasOwnProperty||!h.hasOwnProperty("addEventListener")||(Jo(h,"addEventListener",function(T){return function(V,re,ge){if("click"===V||"keypress"==V)try{const we=this,Je=we.__sentry_instrumentation_handlers__=we.__sentry_instrumentation_handlers__||{},It=Je[V]=Je[V]||{refCount:0};if(!It.handler){const Rt=Fp(o);It.handler=Rt,T.call(this,V,Rt,ge)}It.refCount++}catch{}return T.call(this,V,re,ge)}}),Jo(h,"removeEventListener",function(T){return function(V,re,ge){if("click"===V||"keypress"==V)try{const we=this,Je=we.__sentry_instrumentation_handlers__||{},It=Je[V];It&&(It.refCount--,It.refCount<=0&&(T.call(this,V,It.handler,ge),It.handler=void 0,delete Je[V]),0===Object.keys(Je).length&&delete we.__sentry_instrumentation_handlers__)}catch{}return T.call(this,V,re,ge)}}))})}function Fp(o,r=!1){return l=>{if(!l||l._sentryCaptured)return;const h=function qv(o){try{return o.target}catch{return null}}(l);if(function vb(o,r){return!("keypress"!==o||r&&r.tagName&&("INPUT"===r.tagName||"TEXTAREA"===r.tagName||r.isContentEditable))}(l.type,h))return;fo(l,"_sentryCaptured",!0),h&&!h._sentryId&&fo(h,"_sentryId",ye());const T="keypress"===l.type?"input":l.type;(function Zv(o){if(o.type!==cu)return!1;try{if(!o.target||o.target._sentryId!==th)return!1}catch{}return!0})(l)||(o({event:l,name:T,global:r}),cu=l.type,th=h?h._sentryId:void 0),clearTimeout(pf),pf=cs.setTimeout(()=>{th=void 0,cu=void 0},D_)}}const fc="__sentry_xhr_v3__";function Lp(o){gl("xhr",o),hc("xhr",nh)}function nh(){if(!cs.XMLHttpRequest)return;const o=XMLHttpRequest.prototype;o.open=new Proxy(o.open,{apply(r,l,h){const T=1e3*ps(),V=lo(h[0])?h[0].toUpperCase():void 0,re=function e0(o){if(lo(o))return o;try{return o.toString()}catch{}}(h[1]);if(!V||!re)return r.apply(l,h);l[fc]={method:V,url:re,request_headers:{}},"POST"===V&&re.match(/sentry_key/)&&(l.__sentry_own_request__=!0);const ge=()=>{const we=l[fc];if(we&&4===l.readyState){try{we.status_code=l.status}catch{}vl("xhr",{endTimestamp:1e3*ps(),startTimestamp:T,xhr:l})}};return"onreadystatechange"in l&&"function"==typeof l.onreadystatechange?l.onreadystatechange=new Proxy(l.onreadystatechange,{apply:(we,Je,It)=>(ge(),we.apply(Je,It))}):l.addEventListener("readystatechange",ge),l.setRequestHeader=new Proxy(l.setRequestHeader,{apply(we,Je,It){const[Rt,on]=It,yn=Je[fc];return yn&&lo(Rt)&&lo(on)&&(yn.request_headers[Rt.toLowerCase()]=on),we.apply(Je,It)}}),r.apply(l,h)}}),o.send=new Proxy(o.send,{apply(r,l,h){const T=l[fc];return T?(void 0!==h[0]&&(T.body=h[0]),vl("xhr",{startTimestamp:1e3*ps(),xhr:l}),r.apply(l,h)):r.apply(l,h)}})}const t0=100;function Ma(o,r){const l=Ms(),h=Ar();if(!l)return;const{beforeBreadcrumb:T=null,maxBreadcrumbs:V=t0}=l.getOptions();if(V<=0)return;const ge={timestamp:Ss(),...o},we=T?tc(()=>T(ge,r)):ge;null!==we&&(l.emit&&l.emit("beforeAddBreadcrumb",we,r),h.addBreadcrumb(we,V))}function n0(){"console"in Ci&&$d.forEach(function(o){o in Ci.console&&Jo(Ci.console,o,function(r){return ec[o]=r,function(...l){vl("console",{args:l,level:o});const T=ec[o];T&&T.apply(Ci.console,l)}})})}function yl(o,r){const l="fetch";gl(l,o),hc(l,()=>S_(void 0,r))}function S_(o,r=!1){r&&!function la(){if("string"==typeof EdgeRuntime)return!0;if(!ef())return!1;if(fd(Ll.fetch))return!0;let o=!1;const r=Ll.document;if(r&&"function"==typeof r.createElement)try{const l=r.createElement("iframe");l.hidden=!0,r.head.appendChild(l),l.contentWindow&&l.contentWindow.fetch&&(o=fd(l.contentWindow.fetch)),r.head.removeChild(l)}catch(l){Io&&Wn.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",l)}return o}()||Jo(Ci,"fetch",function(l){return function(...h){const{method:T,url:V}=function bd(o){if(0===o.length)return{method:"GET",url:""};if(2===o.length){const[l,h]=o;return{url:Tr(l),method:_f(h,"method")?String(h.method).toUpperCase():"GET"}}const r=o[0];return{url:Tr(r),method:_f(r,"method")?String(r.method).toUpperCase():"GET"}}(h),re={args:h,fetchData:{method:T,url:V},startTimestamp:1e3*ps()};o||vl("fetch",{...re});const ge=(new Error).stack;return l.apply(Ci,h).then(function(){var we=(0,We.A)(function*(Je){return o?o(Je):vl("fetch",{...re,endTimestamp:1e3*ps(),response:Je}),Je});return function(Je){return we.apply(this,arguments)}}(),we=>{throw vl("fetch",{...re,endTimestamp:1e3*ps(),error:we}),ra(we)&&void 0===we.stack&&(we.stack=ge,fo(we,"framesToPop",1)),we})}})}function x_(){return x_=(0,We.A)(function*(o,r){if(o&&o.body&&o.body.getReader){let h=function(V){return T.apply(this,arguments)},T=function(){return T=(0,We.A)(function*({done:V}){if(V)return Promise.resolve();try{const re=yield Promise.race([l.read(),new Promise(ge=>{setTimeout(()=>{ge({done:!0})},5e3)})]);yield h(re)}catch{}}),T.apply(this,arguments)};const l=o.body.getReader();return l.read().then(h).then(r).catch(()=>{})}}),x_.apply(this,arguments)}function Np(o){return du.apply(this,arguments)}function du(){return du=(0,We.A)(function*(o){let r;try{r=o.clone()}catch{return}yield function w_(o,r){return x_.apply(this,arguments)}(r,()=>{vl("fetch-body-resolved",{endTimestamp:1e3*ps(),response:o})})}),du.apply(this,arguments)}function _f(o,r){return!!o&&"object"==typeof o&&!!o[r]}function Tr(o){return"string"==typeof o?o:o?_f(o,"url")?o.url:o.toString?o.toString():"":""}const yd=["fatal","error","warning","log","info","debug"];function jc(o){return"warn"===o?"warning":yd.includes(o)?o:"log"}function Ed(o){if(!o)return{};const r=o.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!r)return{};const l=r[6]||"",h=r[8]||"";return{host:r[4],path:r[5],protocol:r[2],search:l,hash:h,relative:r[5]+l+h}}const Up=(o={})=>{const r={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...o};return{name:"Breadcrumbs",setup(l){r.console&&function bb(o){const r="console";gl(r,o),hc(r,n0)}(function o0(o){return function(l){if(Ms()!==o)return;const h={category:"console",data:{arguments:l.args,logger:"console"},level:jc(l.level),message:Nh(l.args," ")};if("assert"===l.level){if(!1!==l.args[0])return;h.message=`Assertion failed: ${Nh(l.args.slice(1)," ")||"console.assert"}`,h.data.arguments=l.args.slice(1)}Ma(h,{input:l.args,level:l.level})}}(l)),r.dom&&Ro(function pc(o,r){return function(h){if(Ms()!==o)return;let T,V,re="object"==typeof r?r.serializeAttribute:void 0,ge="object"==typeof r&&"number"==typeof r.maxStringLength?r.maxStringLength:void 0;ge&&ge>1024&&(ca&&Wn.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${ge} was configured. Sentry will use 1024 instead.`),ge=1024),"string"==typeof re&&(re=[re]);try{const Je=h.event,It=function Cb(o){return!!o&&!!o.target}(Je)?Je.target:Je;T=Uo(It,{keyAttrs:re,maxStringLength:ge}),V=As(It)}catch{T="<unknown>"}if(0===T.length)return;const we={category:`ui.${h.name}`,message:T};V&&(we.data={"ui.component_name":V}),Ma(we,{event:h.event,name:h.name,global:h.global})}}(l,r.dom)),r.xhr&&Lp(function A_(o){return function(l){if(Ms()!==o)return;const{startTimestamp:h,endTimestamp:T}=l,V=l.xhr[fc];if(!h||!T||!V)return;const{method:re,url:ge,status_code:we,body:Je}=V;Ma({category:"xhr",data:{method:re,url:ge,status_code:we},type:"http"},{xhr:l.xhr,input:Je,startTimestamp:h,endTimestamp:T})}}(l)),r.fetch&&yl(function a0(o){return function(l){if(Ms()!==o)return;const{startTimestamp:h,endTimestamp:T}=l;if(T&&(!l.fetchData.url.match(/sentry_key/)||"POST"!==l.fetchData.method))if(l.error)Ma({category:"fetch",data:l.fetchData,level:"error",type:"http"},{data:l.error,input:l.args,startTimestamp:h,endTimestamp:T});else{const V=l.response;Ma({category:"fetch",data:{...l.fetchData,status_code:V&&V.status},type:"http"},{input:l.args,response:V,startTimestamp:h,endTimestamp:T})}}}(l)),r.history&&Qu(function Eb(o){return function(l){if(Ms()!==o)return;let h=l.from,T=l.to;const V=Ed(Yi.location.href);let re=h?Ed(h):void 0;const ge=Ed(T);(!re||!re.path)&&(re=V),V.protocol===ge.protocol&&V.host===ge.host&&(T=ge.relative),V.protocol===re.protocol&&V.host===re.host&&(h=re.relative),Ma({category:"navigation",data:{from:h,to:T}})}}(l)),r.sentry&&l.on("beforeSendEvent",function r0(o){return function(l){Ms()===o&&Ma({category:"sentry."+("transaction"===l.type?"transaction":"event"),event_id:l.event_id,level:l.level,message:_e(l)},{event:l})}}(l))}}},Mb=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],hu=(o={})=>{const r={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...o};return{name:"BrowserApiErrors",setupOnce(){r.setTimeout&&Jo(Yi,"setTimeout",fu),r.setInterval&&Jo(Yi,"setInterval",fu),r.requestAnimationFrame&&Jo(Yi,"requestAnimationFrame",gf),r.XMLHttpRequest&&"XMLHttpRequest"in Yi&&Jo(XMLHttpRequest.prototype,"send",Db);const l=r.eventTarget;l&&(Array.isArray(l)?l:Mb).forEach(vf)}}};function fu(o){return function(...r){return r[0]=vd(r[0],{mechanism:{data:{function:Al(o)},handled:!1,type:"instrument"}}),o.apply(this,r)}}function gf(o){return function(r){return o.apply(this,[vd(r,{mechanism:{data:{function:"requestAnimationFrame",handler:Al(o)},handled:!1,type:"instrument"}})])}}function Db(o){return function(...r){const l=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(T=>{T in l&&"function"==typeof l[T]&&Jo(l,T,function(V){const re={mechanism:{data:{function:T,handler:Al(V)},handled:!1,type:"instrument"}},ge=Wd(V);return ge&&(re.mechanism.data.handler=Al(ge)),vd(V,re)})}),o.apply(this,r)}}function vf(o){const l=Yi[o]&&Yi[o].prototype;!l||!l.hasOwnProperty||!l.hasOwnProperty("addEventListener")||(Jo(l,"addEventListener",function(h){return function(T,V,re){try{"function"==typeof V.handleEvent&&(V.handleEvent=vd(V.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Al(V),target:o},handled:!1,type:"instrument"}}))}catch{}return h.apply(this,[T,vd(V,{mechanism:{data:{function:"addEventListener",handler:Al(V),target:o},handled:!1,type:"instrument"}}),re])}}),Jo(l,"removeEventListener",function(h){return function(T,V,re){const ge=V;try{const we=ge&&ge.__sentry_wrapped__;we&&h.call(this,T,we,re)}catch{}return h.call(this,T,ge,re)}}))}let Vc=null;function R_(o){const r="error";gl(r,o),hc(r,jp)}function jp(){Vc=Ci.onerror,Ci.onerror=function(o,r,l,h,T){return vl("error",{column:h,error:T,line:l,msg:o,url:r}),!(!Vc||Vc.__SENTRY_LOADER__)&&Vc.apply(this,arguments)},Ci.onerror.__SENTRY_INSTRUMENTED__=!0}let ih=null;function pu(o){const r="unhandledrejection";gl(r,o),hc(r,sh)}function sh(){ih=Ci.onunhandledrejection,Ci.onunhandledrejection=function(o){return vl("unhandledrejection",o),!(ih&&!ih.__SENTRY_LOADER__)||ih.apply(this,arguments)},Ci.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const F_=(o={})=>{const r={onerror:!0,onunhandledrejection:!0,...o};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(l){r.onerror&&(function $p(o){R_(r=>{const{stackParser:l,attachStacktrace:h}=Gp();if(Ms()!==o||Pp())return;const{msg:T,url:V,line:re,column:ge,error:we}=r,Je=function Ib(o,r,l,h){const T=o.exception=o.exception||{},V=T.values=T.values||[],re=V[0]=V[0]||{},ge=re.stacktrace=re.stacktrace||{},we=ge.frames=ge.frames||[],Je=isNaN(parseInt(h,10))?void 0:h,It=isNaN(parseInt(l,10))?void 0:l,Rt=lo(r)&&r.length>0?r:jd();return 0===we.length&&we.push({colno:Je,filename:Rt,function:Za,in_app:!0,lineno:It}),o}(gd(l,we||T,void 0,h,!1),V,re,ge);Je.level="error",tu(Je,{originalException:we,mechanism:{handled:!1,type:"onerror"}})})}(l),da("onerror")),r.onunhandledrejection&&(function c0(o){pu(r=>{const{stackParser:l,attachStacktrace:h}=Gp();if(Ms()!==o||Pp())return;const T=function d0(o){if(ci(o))return o;try{if("reason"in o)return o.reason;if("detail"in o&&"reason"in o.detail)return o.detail.reason}catch{}return o}(r),V=ci(T)?function Vp(o){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(o)}`}]}}}(T):gd(l,T,void 0,h,!0);V.level="error",tu(V,{originalException:T,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(l),da("onunhandledrejection"))}}};function da(o){ca&&Wn.log(`Global Handler attached: ${o}`)}function Gp(){const o=Ms();return o&&o.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const Wp=()=>({name:"HttpContext",preprocessEvent(o){if(!Yi.navigator&&!Yi.location&&!Yi.document)return;const r=o.request&&o.request.url||Yi.location&&Yi.location.href,{referrer:l}=Yi.document||{},{userAgent:h}=Yi.navigator||{},T={...o.request&&o.request.headers,...l&&{Referer:l},...h&&{"User-Agent":h}},V={...o.request,...r&&{url:r},headers:T};o.request=V}});function mu(o,r,l=250,h,T,V,re){if(!(V.exception&&V.exception.values&&re&&Xr(re.originalException,Error)))return;const ge=V.exception.values.length>0?V.exception.values[V.exception.values.length-1]:void 0;ge&&(V.exception.values=function rh(o,r){return o.map(l=>(l.value&&(l.value=ed(l.value,r)),l))}(bf(o,r,T,re.originalException,h,V.exception.values,ge,0),l))}function bf(o,r,l,h,T,V,re,ge){if(V.length>=l+1)return V;let we=[...V];if(Xr(h[T],Error)){Sb(re,ge);const Je=o(r,h[T]),It=we.length;_o(Je,T,It,ge),we=bf(o,r,l,h[T],T,[Je,...we],Je,It)}return Array.isArray(h.errors)&&h.errors.forEach((Je,It)=>{if(Xr(Je,Error)){Sb(re,ge);const Rt=o(r,Je),on=we.length;_o(Rt,`errors[${It}]`,on,ge),we=bf(o,r,l,Je,T,[Rt,...we],Rt,on)}}),we}function Sb(o,r){o.mechanism=o.mechanism||{type:"generic",handled:!0},o.mechanism={...o.mechanism,..."AggregateError"===o.type&&{is_exception_group:!0},exception_id:r}}function _o(o,r,l,h){o.mechanism=o.mechanism||{type:"generic",handled:!0},o.mechanism={...o.mechanism,type:"chained",source:r,exception_id:l,parent_id:h}}const B_=(o={})=>{const r=o.limit||5,l=o.key||"cause";return{name:"LinkedErrors",preprocessEvent(h,T,V){const re=V.getOptions();mu(Zu,re.stackParser,re.maxValueLength,l,r,h,T)}}};function _u(o,r,l,h){const T={filename:o,function:"<anonymous>"===r?Za:r,in_app:!0};return void 0!==l&&(T.lineno=l),void 0!==h&&(T.colno=h),T}const U_=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,m0=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,j_=/\((\S*)(?::(\d+))(?::(\d+))\)/,V_=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,gu=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,W_=Lu([30,o=>{const r=U_.exec(o);if(r){const[,h,T,V]=r;return _u(h,Za,+T,+V)}const l=m0.exec(o);if(l){if(l[2]&&0===l[2].indexOf("eval")){const re=j_.exec(l[2]);re&&(l[2]=re[1],l[3]=re[2],l[4]=re[3])}const[T,V]=Cf(l[1]||Za,l[2]);return _u(V,T,l[3]?+l[3]:void 0,l[4]?+l[4]:void 0)}}],[50,o=>{const r=V_.exec(o);if(r){if(r[3]&&r[3].indexOf(" > eval")>-1){const V=gu.exec(r[3]);V&&(r[1]=r[1]||"eval",r[3]=V[1],r[4]=V[2],r[5]="")}let h=r[3],T=r[1]||Za;return[T,h]=Cf(T,h),_u(h,T,r[4]?+r[4]:void 0,r[5]?+r[5]:void 0)}}]),Cf=(o,r)=>{const l=-1!==o.indexOf("safari-extension"),h=-1!==o.indexOf("safari-web-extension");return l||h?[-1!==o.indexOf("@")?o.split("@")[0]:Za,l?`safari-extension:${r}`:`safari-web-extension:${r}`]:[o,r]},ta=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Mf={};function Ul(o){const r=Mf[o];if(r)return r;let l=cs[o];if(fd(l))return Mf[o]=l.bind(cs);const h=cs.document;if(h&&"function"==typeof h.createElement)try{const T=h.createElement("iframe");T.hidden=!0,h.head.appendChild(T);const V=T.contentWindow;V&&V[o]&&(l=V[o]),h.head.removeChild(T)}catch(T){ta&&Wn.warn(`Could not create sandbox iframe for ${o} check, bailing to window.${o}: `,T)}return l&&(Mf[o]=l.bind(cs))}function lh(o){Mf[o]=void 0}function Md(...o){return Ul("setTimeout")(...o)}const kb=6e4;function z_(o,r,l=Date.now()){return function v0(o,r){return o[r]||o.all||0}(o,r)>l}function Kp(o,{statusCode:r,headers:l},h=Date.now()){const T={...o},V=l&&l["x-sentry-rate-limits"],re=l&&l["retry-after"];if(V)for(const ge of V.trim().split(",")){const[we,Je,,,It]=ge.split(":",5),Rt=parseInt(we,10),on=1e3*(isNaN(Rt)?60:Rt);if(Je)for(const yn of Je.split(";"))"metric_bucket"===yn?(!It||It.split(";").includes("custom"))&&(T[yn]=h+on):T[yn]=h+on;else T.all=h+on}else re?T.all=h+function g0(o,r=Date.now()){const l=parseInt(`${o}`,10);if(!isNaN(l))return 1e3*l;const h=Date.parse(`${o}`);return isNaN(h)?kb:h-r}(re,h):429===r&&(T.all=h+6e4);return T}const wC=64;function Df(o,r){if("event"===r||"transaction"===r)return Array.isArray(o)?o[1]:void 0}function Pb(o,r=Ul("fetch")){let l=0,h=0;return function xC(o,r,l=function Tf(o){const r=[];function h(re){return r.splice(r.indexOf(re),1)[0]||Promise.resolve(void 0)}return{$:r,add:function T(re){if(!function l(){return void 0===o||r.length<o}())return Xd(new bl("Not adding Promise because buffer limit was reached."));const ge=re();return-1===r.indexOf(ge)&&r.push(ge),ge.then(()=>h(ge)).then(null,()=>h(ge).then(null,()=>{})),ge},drain:function V(re){return new oa((ge,we)=>{let Je=r.length;if(!Je)return ge(!0);const It=setTimeout(()=>{re&&re>0&&ge(!1)},re);r.forEach(Rt=>{oc(Rt).then(()=>{--Je||(clearTimeout(It),ge(!0))},we)})})}}}(o.bufferSize||wC)){let h={};return{send:function V(re){const ge=[];if(b_(re,(Rt,on)=>{const yn=au(on);if(z_(h,yn)){const gn=Df(Rt,on);o.recordDroppedEvent("ratelimit_backoff",yn,gn)}else ge.push(Rt)}),0===ge.length)return oc({});const we=ou(re[0],ge),Je=Rt=>{b_(we,(on,yn)=>{const gn=Df(on,yn);o.recordDroppedEvent(Rt,au(yn),gn)})};return l.add(()=>r({body:sf(we)}).then(Rt=>(void 0!==Rt.statusCode&&(Rt.statusCode<200||Rt.statusCode>=300)&&yi&&Wn.warn(`Sentry responded with status code ${Rt.statusCode} to sent event.`),h=Kp(h,Rt),Rt),Rt=>{throw Je("network_error"),Rt})).then(Rt=>Rt,Rt=>{if(Rt instanceof bl)return yi&&Wn.error("Skipped sending event because buffer is full."),Je("queue_overflow"),oc({});throw Rt})},flush:re=>l.drain(re)}}(o,function T(V){const re=V.body.length;l+=re,h++;const ge={body:V.body,method:"POST",referrerPolicy:"origin",headers:o.headers,keepalive:l<=6e4&&h<15,...o.fetchOptions};if(!r)return lh("fetch"),Xd("No fetch implementation available");try{return r(o.url,ge).then(we=>(l-=re,h--,{statusCode:we.status,headers:{"x-sentry-rate-limits":we.headers.get("X-Sentry-Rate-Limits"),"retry-after":we.headers.get("Retry-After")}}))}catch(we){return lh("fetch"),l-=re,h--,Xd(we)}})}function Hp(o={}){const r=function H_(o={}){const r={defaultIntegrations:[vs(),Oo(),hu(),Up(),F_(),B_(),dc(),Wp()],release:"string"==typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:Yi.SENTRY_RELEASE&&Yi.SENTRY_RELEASE.id?Yi.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return null==o.defaultIntegrations&&delete o.defaultIntegrations,{...r,...o}}(o);if(function ch(){const o=typeof Yi.window<"u"&&Yi;if(!o)return!1;const l=o[o.chrome?"chrome":"browser"],h=l&&l.runtime&&l.runtime.id,T=Yi.location&&Yi.location.href||"",re=!!h&&Yi===Yi.top&&["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"].some(we=>T.startsWith(`${we}//`));return!(!h||re||typeof o.nw<"u")}())return void tc(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});ca&&(ef()||Wn.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const l={...r,stackParser:Cv(r.stackParser||W_),integrations:Nv(r),transport:r.transport||Pb},h=function g_(o,r){!0===r.debug&&(yi?Wn.enable():tc(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),Vs().update(r.initialScope);const h=new o(r);return function hd(o){Vs().setClient(o)}(h),h.init(),h}(Jv,l);return r.autoSessionTracking&&function dh(){typeof Yi.document>"u"?ca&&Wn.warn("Session tracking in non-browser environment with @sentry/browser is not supported."):(zu({ignoreDuration:!0}),Fv(),Qu(({from:o,to:r})=>{void 0!==o&&o!==r&&(zu({ignoreDuration:!0}),Fv())}))}(),h}function Xp(o={}){if(!Yi.document)return void(ca&&Wn.error("Global document not defined in showReportDialog call"));const r=Vs(),l=r.getClient(),h=l&&l.getDsn();if(!h)return void(ca&&Wn.error("DSN not configured for showReportDialog call"));if(r&&(o.user={...r.getUser(),...o.user}),!o.eventId){const ge=function l_(){return Ar().lastEventId()}();ge&&(o.eventId=ge)}const T=Yi.document.createElement("script");T.async=!0,T.crossOrigin="anonymous",T.src=function qh(o,r){const l=Yu(o);if(!l)return"";const h=`${Zh(l)}embed/error-page/`;let T=`dsn=${Fl(l)}`;for(const V in r)if("dsn"!==V&&"onClose"!==V)if("user"===V){const re=r.user;if(!re)continue;re.name&&(T+=`&name=${encodeURIComponent(re.name)}`),re.email&&(T+=`&email=${encodeURIComponent(re.email)}`)}else T+=`&${encodeURIComponent(V)}=${encodeURIComponent(r[V])}`;return`${h}?${T}`}(h,o),o.onLoad&&(T.onload=o.onLoad);const{onClose:V}=o;if(V){const ge=we=>{if("__sentry_reportdialog_closed__"===we.data)try{V()}finally{Yi.removeEventListener("message",ge)}};Yi.addEventListener("message",ge)}const re=Yi.document.head||Yi.document.body;re?re.appendChild(T):ca&&Wn.error("Not injecting report dialog. No injection point found in HTML")}function jl(o){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const r=Ms(),l=o||r&&r.getOptions();return!!l&&(l.enableTracing||"tracesSampleRate"in l||"tracesSampler"in l)}class Td{constructor(r={}){this._traceId=r.traceId||ye(),this._spanId=r.spanId||ye().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:0}}end(r){}setAttribute(r,l){return this}setAttributes(r){return this}setStatus(r){return this}updateName(r){return this}isRecording(){return!1}addEvent(r,l,h){return this}addLink(r){return this}addLinks(r){return this}recordException(r,l){}}function y0(o){if(!o||0===o.length)return;const r={};return o.forEach(l=>{const h=l.attributes||{},T=h[kl],V=h[ac];"string"==typeof T&&"number"==typeof V&&(r[l.name]={value:V,unit:T})}),r}const Q_="_sentryScope",E0="_sentryIsolationScope";function Qp(o){return{scope:o[Q_],isolationScope:o[E0]}}class Jp{constructor(r={}){this._traceId=r.traceId||ye(),this._spanId=r.spanId||ye().substring(16),this._startTime=r.startTimestamp||ps(),this._attributes={},this.setAttributes({[_r]:"manual",[wc]:r.op,...r.attributes}),this._name=r.name,r.parentSpanId&&(this._parentSpanId=r.parentSpanId),"sampled"in r&&(this._sampled=r.sampled),r.endTimestamp&&(this._endTime=r.endTimestamp),this._events=[],this._isStandaloneSpan=r.isStandalone,this._endTime&&this._onSpanEnded()}addLink(r){return this}addLinks(r){return this}recordException(r,l){}spanContext(){const{_spanId:r,_traceId:l,_sampled:h}=this;return{spanId:r,traceId:l,traceFlags:h?ju:0}}setAttribute(r,l){return void 0===l?delete this._attributes[r]:this._attributes[r]=l,this}setAttributes(r){return Object.keys(r).forEach(l=>this.setAttribute(l,r[l])),this}updateStartTime(r){this._startTime=dd(r)}setStatus(r){return this._status=r,this}updateName(r){return this._name=r,this}end(r){this._endTime||(this._endTime=dd(r),function Y_(o){if(!yi)return;const{description:r="< unknown name >",op:l="< unknown op >"}=ws(o),{spanId:h}=o.spanContext(),V=po(o)===o;Wn.log(`[Tracing] Finishing "${l}" ${V?"root ":""}span "${r}" with ID ${h}`)}(this),this._onSpanEnded())}getSpanJSON(){return Mr({data:this._attributes,description:this._name,op:this._attributes[wc],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:Dv(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[_r],_metrics_summary:Qd(this),profile_id:this._attributes["sentry.profile_id"],exclusive_time:this._attributes[xc],measurements:y0(this._events),is_segment:this._isStandaloneSpan&&po(this)===this||void 0,segment_id:this._isStandaloneSpan?po(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(r,l,h){yi&&Wn.log("[Tracing] Adding an event to span:",r);const T=Zp(l)?l:h||ps(),V=Zp(l)?{}:l||{},re={name:r,time:dd(T),attributes:V};return this._events.push(re),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const r=Ms();if(r&&r.emit("spanEnd",this),!this._isStandaloneSpan&&this!==po(this))return;if(this._isStandaloneSpan)return void(this._sampled?function bu(o){const r=Ms();if(!r)return;const l=o[1];if(!l||0===l.length)return void r.recordDroppedEvent("before_send","span");const h=r.getTransport();h&&h.send(o).then(null,T=>{yi&&Wn.error("Error while sending span:",T)})}(function Nl(o,r){const h=cc(o[0]),T=r&&r.getDsn(),V=r&&r.getOptions().tunnel,re={sent_at:(new Date).toISOString(),...function l(It){return!!It.trace_id&&!!It.public_key}(h)&&{trace:h},...!!V&&T&&{dsn:Fl(T)}},ge=r&&r.getOptions().beforeSendSpan,we=ge?It=>ge(ws(It)):It=>ws(It),Je=[];for(const It of o){const Rt=we(It);Rt&&Je.push(Xv(Rt))}return ou(re,Je)}([this],r)):(yi&&Wn.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),r&&r.recordDroppedEvent("sample_rate","span")));const h=this._convertSpanToTransaction();h&&(Qp(this).scope||Vs()).captureEvent(h)}_convertSpanToTransaction(){if(!Id(ws(this)))return;this._name||(yi&&Wn.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:r,isolationScope:l}=Qp(this),T=(r||Vs()).getClient()||Ms();if(!0!==this._sampled)return yi&&Wn.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(T&&T.recordDroppedEvent("sample_rate","transaction"));const re=up(this).filter(Rt=>Rt!==this&&!function J_(o){return o instanceof Jp&&o.isStandaloneSpan()}(Rt)).map(Rt=>ws(Rt)).filter(Id),ge=this._attributes[Oi],we={contexts:{trace:nl(this)},spans:re.length>1e3?re.sort((Rt,on)=>Rt.start_timestamp-on.start_timestamp).slice(0,1e3):re,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:r,capturedSpanIsolationScope:l,...Mr({dynamicSamplingContext:cc(this)})},_metrics_summary:Qd(this),...ge&&{transaction_info:{source:ge}}},Je=y0(this._events);return Je&&Object.keys(Je).length&&(yi&&Wn.log("[Measurements] Adding measurements to transaction event",JSON.stringify(Je,void 0,2)),we.measurements=Je),we}}function Zp(o){return o&&"number"==typeof o||o instanceof Date||Array.isArray(o)}function Id(o){return!!(o.start_timestamp&&o.timestamp&&o.span_id&&o.trace_id)}const qp="__SENTRY_SUPPRESS_TRACING__";function Ta(o){const r=wd();if(r.startInactiveSpan)return r.startInactiveSpan(o);const l=function wf(o){const l={isStandalone:(o.experimental||{}).standalone,...o};if(o.startTime){const h={...l};return h.startTimestamp=dd(o.startTime),delete h.startTime,h}return l}(o),{forceTransaction:h,parentSpan:T}=o;return(o.scope?re=>Fu(o.scope,re):void 0!==T?re=>Sd(T,re):re=>re())(()=>{const re=Vs(),ge=function uh(o){const r=Pu(o);if(!r)return;const l=Ms();return(l?l.getOptions():{}).parentSpanIsAlwaysRootSpan?po(r):r}(re);return o.onlyIfParent&&!ge?new Td:function tm({parentSpan:o,spanArguments:r,forceTransaction:l,scope:h}){if(!jl())return new Td;const T=Ar();let V;if(o&&!l)V=function El(o,r,l){const{spanId:h,traceId:T}=o.spanContext(),V=!r.getScopeData().sdkProcessingMetadata[qp]&&Zd(o),re=V?new Jp({...l,parentSpanId:h,traceId:T,sampled:V}):new Td({traceId:T});Iv(o,re);const ge=Ms();return ge&&(ge.emit("spanStart",re),l.endTimestamp&&ge.emit("spanEnd",re)),re}(o,h,r),Iv(o,V);else if(o){const re=cc(o),{traceId:ge,spanId:we}=o.spanContext(),Je=Zd(o);V=nm({traceId:ge,parentSpanId:we,...r},h,Je),wv(V,re)}else{const{traceId:re,dsc:ge,parentSpanId:we,sampled:Je}={...T.getPropagationContext(),...h.getPropagationContext()};V=nm({traceId:re,parentSpanId:we,...r},h,Je),ge&&wv(V,ge)}return function If(o){if(!yi)return;const{description:r="< unknown name >",op:l="< unknown op >",parent_span_id:h}=ws(o),{spanId:T}=o.spanContext(),V=Zd(o),re=po(o),ge=re===o,we=`[Tracing] Starting ${V?"sampled":"unsampled"} ${ge?"root ":""}span`,Je=[`op: ${l}`,`name: ${r}`,`ID: ${T}`];if(h&&Je.push(`parent ID: ${h}`),!ge){const{op:It,description:Rt}=ws(re);Je.push(`root ID: ${re.spanContext().spanId}`),It&&Je.push(`root op: ${It}`),Rt&&Je.push(`root description: ${Rt}`)}Wn.log(`${we}\n  ${Je.join("\n  ")}`)}(V),function Fb(o,r,l){o&&(fo(o,E0,l),fo(o,Q_,r))}(V,h,T),V}({parentSpan:ge,spanArguments:l,forceTransaction:h,scope:re})})}function Sd(o,r){const l=wd();return l.withActiveSpan?l.withActiveSpan(o,r):Fu(h=>(Ic(h,o||void 0),r(h)))}function wd(){return id(Bo())}function nm(o,r,l){const h=Ms(),T=h&&h.getOptions()||{},{name:V="",attributes:re}=o,[ge,we]=r.getScopeData().sdkProcessingMetadata[qp]?[!1]:function OC(o,r){if(!jl(o))return[!1];let l;l="function"==typeof o.tracesSampler?o.tracesSampler(r):void 0!==r.parentSampled?r.parentSampled:typeof o.tracesSampleRate<"u"?o.tracesSampleRate:1;const h=Nc(l);return void 0===h?(yi&&Wn.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):h?Math.random()<h?[!0,h]:(yi&&Wn.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(l)})`),[!1,h]):(yi&&Wn.log("[Tracing] Discarding transaction because "+("function"==typeof o.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),[!1,h])}(T,{name:V,parentSampled:l,attributes:re,transactionContext:{name:V,parentSampled:l}}),Je=new Jp({...o,attributes:{[Oi]:"custom",...o.attributes},sampled:ge});return void 0!==we&&Je.setAttribute(Yd,we),h&&h.emit("spanStart",Je),Je}function go(o){let r,l=o[0],h=1;for(;h<o.length;){const T=o[h],V=o[h+1];if(h+=2,("optionalAccess"===T||"optionalCall"===T)&&null==l)return;"access"===T||"optionalAccess"===T?(r=l,l=V(l)):("call"===T||"optionalCall"===T)&&(l=V((...re)=>l.call(r,...re)),r=void 0)}return l}const xd=(o,r,l,h)=>{let T,V;return re=>{r.value>=0&&(re||h)&&(V=r.value-(T||0),(V||void 0===T)&&(T=r.value,r.delta=V,r.rating=((o,r)=>o>r[1]?"poor":o>r[0]?"needs-improvement":"good")(r.value,l),o(r)))}},Od=()=>cs.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],ph=()=>{const o=Od();return o&&o.activationStart||0},$l=(o,r)=>{const l=Od();let h="navigate";return l&&(cs.document&&cs.document.prerendering||ph()>0?h="prerender":cs.document&&cs.document.wasDiscarded?h="restore":l.type&&(h=l.type.replace(/_/g,"-"))),{name:o,value:typeof r>"u"?-1:r,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:h}},_c=(o,r,l)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(o)){const h=new PerformanceObserver(T=>{Promise.resolve().then(()=>{r(T.getEntries())})});return h.observe(Object.assign({type:o,buffered:!0},l||{})),h}}catch{}},Vl=o=>{const r=l=>{("pagehide"===l.type||cs.document&&"hidden"===cs.document.visibilityState)&&o(l)};cs.document&&(addEventListener("visibilitychange",r,!0),addEventListener("pagehide",r,!0))},im=o=>{let r=!1;return l=>{r||(o(l),r=!0)}};let mh=-1;const Z=o=>{"hidden"===cs.document.visibilityState&&mh>-1&&(mh="visibilitychange"===o.type?o.timeStamp:0,removeEventListener("visibilitychange",Z,!0),removeEventListener("prerenderingchange",Z,!0))},M=()=>(cs.document&&mh<0&&(mh="hidden"!==cs.document.visibilityState||cs.document.prerendering?1/0:0,addEventListener("visibilitychange",Z,!0),addEventListener("prerenderingchange",Z,!0)),{get firstHiddenTime(){return mh}}),j=o=>{cs.document&&cs.document.prerendering?addEventListener("prerenderingchange",()=>o(),!0):o()},ce=[1800,3e3],Ye=[.1,.25],Dt=(o,r={})=>{((o,r={})=>{j(()=>{const l=M(),h=$l("FCP");let T;const re=_c("paint",ge=>{ge.forEach(we=>{"first-contentful-paint"===we.name&&(re.disconnect(),we.startTime<l.firstHiddenTime&&(h.value=Math.max(we.startTime-ph(),0),h.entries.push(we),T(!0)))})});re&&(T=xd(o,h,ce,r.reportAllChanges))})})(im(()=>{const l=$l("CLS",0);let h,T=0,V=[];const re=we=>{we.forEach(Je=>{if(!Je.hadRecentInput){const It=V[0],Rt=V[V.length-1];T&&It&&Rt&&Je.startTime-Rt.startTime<1e3&&Je.startTime-It.startTime<5e3?(T+=Je.value,V.push(Je)):(T=Je.value,V=[Je])}}),T>l.value&&(l.value=T,l.entries=V,h())},ge=_c("layout-shift",re);ge&&(h=xd(o,l,Ye,r.reportAllChanges),Vl(()=>{re(ge.takeRecords()),h(!0)}),setTimeout(h,0))}))},rn=[100,300],Tn=(o,r={})=>{j(()=>{const l=M(),h=$l("FID");let T;const V=we=>{we.startTime<l.firstHiddenTime&&(h.value=we.processingStart-we.startTime,h.entries.push(we),T(!0))},re=we=>{we.forEach(V)},ge=_c("first-input",re);T=xd(o,h,rn,r.reportAllChanges),ge&&Vl(im(()=>{re(ge.takeRecords()),ge.disconnect()}))})};let $n=0,ei=1/0,di=0;const Qi=o=>{o.forEach(r=>{r.interactionId&&(ei=Math.min(ei,r.interactionId),di=Math.max(di,r.interactionId),$n=di?(di-ei)/7+1:0)})};let qi;const ss=[200,500],xf=()=>(qi?$n:performance.interactionCount||0)-0,ol=[],M0={},Ub=o=>{const r=ol[ol.length-1],l=M0[o.interactionId];if(l||ol.length<10||r&&o.duration>r.latency){if(l)l.entries.push(o),l.latency=Math.max(l.latency,o.duration);else{const h={id:o.interactionId,latency:o.duration,entries:[o]};M0[h.id]=h,ol.push(h)}ol.sort((h,T)=>T.latency-h.latency),ol.splice(10).forEach(h=>{delete M0[h.id]})}},Ad=(o,r={})=>{j(()=>{"interactionCount"in performance||qi||(qi=_c("event",Qi,{type:"event",buffered:!0,durationThreshold:0}));const l=$l("INP");let h;const T=re=>{re.forEach(we=>{we.interactionId&&Ub(we),"first-input"===we.entryType&&!ol.some(It=>It.entries.some(Rt=>we.duration===Rt.duration&&we.startTime===Rt.startTime))&&Ub(we)});const ge=(()=>{const o=Math.min(ol.length-1,Math.floor(xf()/50));return ol[o]})();ge&&ge.latency!==l.value&&(l.value=ge.latency,l.entries=ge.entries,h())},V=_c("event",T,{durationThreshold:null!=r.durationThreshold?r.durationThreshold:40});h=xd(o,l,ss,r.reportAllChanges),V&&("PerformanceEventTiming"in cs&&"interactionId"in PerformanceEventTiming.prototype&&V.observe({type:"first-input",buffered:!0}),Vl(()=>{T(V.takeRecords()),l.value<0&&xf()>0&&(l.value=0,l.entries=[]),h(!0)}))})},sm=[2500,4e3],T0={},jb=(o,r={})=>{j(()=>{const l=M(),h=$l("LCP");let T;const V=ge=>{const we=ge[ge.length-1];we&&we.startTime<l.firstHiddenTime&&(h.value=Math.max(we.startTime-ph(),0),h.entries=[we],T())},re=_c("largest-contentful-paint",V);if(re){T=xd(o,h,sm,r.reportAllChanges);const ge=im(()=>{T0[h.id]||(V(re.takeRecords()),re.disconnect(),T0[h.id]=!0,T(!0))});["keydown","click"].forEach(we=>{cs.document&&addEventListener(we,()=>setTimeout(ge,0),!0)}),Vl(ge)}})},$b=[800,1800],Vb=o=>{cs.document&&cs.document.prerendering?j(()=>Vb(o)):cs.document&&"complete"!==cs.document.readyState?addEventListener("load",()=>Vb(o),!0):setTimeout(o,0)},$D=(o,r={})=>{const l=$l("TTFB"),h=xd(o,l,$b,r.reportAllChanges);Vb(()=>{const T=Od();if(T){const V=T.responseStart;if(V<=0||V>performance.now())return;l.value=Math.max(V-ph(),0),l.entries=[T],h(!0)}})},eg={},Of={};let tg,RC,kC,D0,Gb;function I0(o,r=!1){return rm("cls",o,FC,tg,r)}function Wb(o,r=!1){return rm("lcp",o,ng,kC,r)}function zb(o){return rm("fid",o,Kb,RC)}function S0(o){return rm("inp",o,w0,Gb)}function gh(o,r){return x0(o,r),Of[o]||(function vh(o){const r={};"event"===o&&(r.durationThreshold=0),_c(o,l=>{Af(o,{entries:l})},r)}(o),Of[o]=!0),Xb(o,r)}function Af(o,r){const l=eg[o];if(l&&l.length)for(const h of l)try{h(r)}catch(T){ta&&Wn.error(`Error while triggering instrumentation handler.\nType: ${o}\nName: ${Al(h)}\nError:`,T)}}function FC(){return Dt(o=>{Af("cls",{metric:o}),tg=o},{reportAllChanges:!0})}function Kb(){return Tn(o=>{Af("fid",{metric:o}),RC=o})}function ng(){return jb(o=>{Af("lcp",{metric:o}),kC=o},{reportAllChanges:!0})}function Hb(){return $D(o=>{Af("ttfb",{metric:o}),D0=o})}function w0(){return Ad(o=>{Af("inp",{metric:o}),Gb=o})}function rm(o,r,l,h,T=!1){let V;return x0(o,r),Of[o]||(V=l(),Of[o]=!0),h&&r({metric:h}),Xb(o,r,T?V:void 0)}function x0(o,r){eg[o]=eg[o]||[],eg[o].push(r)}function Xb(o,r,l){return()=>{l&&l();const h=eg[o];if(!h)return;const T=h.indexOf(r);-1!==T&&h.splice(T,1)}}function om(o){return"number"==typeof o&&isFinite(o)}function Rf(o,r,l,{...h}){const T=ws(o).start_timestamp;return T&&T>r&&"function"==typeof o.updateStartTime&&o.updateStartTime(r),Sd(o,()=>{const V=Ta({startTime:r,...h});return V&&V.end(l),V})}function Yb(o){const r=Ms();if(!r)return;const{name:l,transaction:h,attributes:T,startTime:V}=o,{release:re,environment:ge}=r.getOptions(),we=r.getIntegrationByName("Replay"),Je=we&&we.getReplayId(),It=Vs(),Rt=It.getUser(),on=void 0!==Rt?Rt.email||Rt.id||Rt.ip_address:void 0;let yn;try{yn=It.getScopeData().contexts.profile.profile_id}catch{}return Ta({name:l,attributes:{release:re,environment:ge,user:on||void 0,profile_id:yn||void 0,replay_id:Je||void 0,transaction:h,"user_agent.original":cs.navigator&&cs.navigator.userAgent,...T},startTime:V,experimental:{standalone:!0}})}function A0(){return cs&&cs.addEventListener&&cs.performance}function eo(o){return o/1e3}const am=2147483647;let Gc,kf,Jb=0,ua={};function LC({recordClsStandaloneSpans:o}){const r=A0();if(r&&So){r.mark&&cs.performance.mark("sentry-tracing-init");const l=function R0(){return zb(({metric:o})=>{const r=o.entries[o.entries.length-1];if(!r)return;const l=eo(So),h=eo(r.startTime);ta&&Wn.log("[Measurements] Adding FID"),ua.fid={value:o.value,unit:"millisecond"},ua["mark.fid"]={value:l+h,unit:"second"}})}(),h=function $C(){return Wb(({metric:o})=>{const r=o.entries[o.entries.length-1];r&&(ta&&Wn.log("[Measurements] Adding LCP"),ua.lcp={value:o.value,unit:"millisecond"},Gc=r)},!0)}(),T=function WD(){return function PC(o){return rm("ttfb",o,Hb,D0)}(({metric:o})=>{o.entries[o.entries.length-1]&&(ta&&Wn.log("[Measurements] Adding TTFB"),ua.ttfb={value:o.value,unit:"millisecond"})})}(),V=o?function Qb(){let r,l,o=0;if(!function GD(){try{return go([PerformanceObserver,"access",o=>o.supportedEntryTypes,"optionalAccess",o=>o.includes,"call",o=>o("layout-shift")])}catch{return!1}}())return;let h=!1;function T(){h||(h=!0,l&&function VD(o,r,l){ta&&Wn.log(`Sending CLS span (${o})`);const h=eo(So)+(go([r,"optionalAccess",Je=>Je.startTime])||0),T=eo(go([r,"optionalAccess",Je=>Je.duration])||0),V=Vs().getScopeData().transactionName,we=Yb({name:r?Uo(go([r,"access",Je=>Je.sources,"access",Je=>Je[0],"optionalAccess",Je=>Je.node])):"Layout shift",transaction:V,attributes:Mr({[_r]:"auto.http.browser.cls",[wc]:"ui.webvital.cls",[xc]:go([r,"optionalAccess",Je=>Je.duration])||0,"sentry.pageload.span_id":l}),startTime:h});go([we,"optionalAccess",Je=>Je.addEvent,"call",Je=>Je("cls",{[kl]:"",[ac]:o})]),go([we,"optionalAccess",Je=>Je.end,"call",Je=>Je(h+T)])}(o,r,l),V())}const V=I0(({metric:re})=>{const ge=re.entries[re.entries.length-1];ge&&(o=re.value,r=ge)},!0);Vl(()=>{T()}),setTimeout(()=>{const ge=go([Ms(),"optionalAccess",Rt=>Rt.on,"call",Rt=>Rt("startNavigationSpan",()=>{T(),ge&&ge()})]),we=wo(),Je=we&&po(we),It=Je&&ws(Je);It&&"pageload"===It.op&&(l=Je.spanContext().spanId)},0)}():function jC(){return I0(({metric:o})=>{const r=o.entries[o.entries.length-1];r&&(ta&&Wn.log(`[Measurements] Adding CLS ${o.value}`),ua.cls={value:o.value,unit:""},kf=r)},!0)}();return()=>{l(),h(),T(),V&&V()}}return()=>{}}function P0(o,r,l,h,T,V){const re=V?r[V]:r[`${l}End`],ge=r[`${l}Start`];!ge||!re||Rf(o,h+eo(ge),h+eo(re),{op:"browser",name:T||l,attributes:{[_r]:"auto.ui.browser.metrics"}})}function Pf(o,r,l,h){const T=r[l];null!=T&&T<am&&(o[h]=T)}const sg=[],lm=new Map;const F0={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"},Rd={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3};function ty(o,r={}){const l=new Map;let T,h=!1,V="externalFinish",re=!r.disableAutoFinish;const ge=[],{idleTimeout:we=Rd.idleTimeout,finalTimeout:Je=Rd.finalTimeout,childSpanTimeout:It=Rd.childSpanTimeout,beforeSpanEnd:Rt}=r,on=Ms();if(!on||!jl())return new Td;const yn=Vs(),gn=wo(),An=function JD(o){const r=Ta(o);return Ic(Vs(),r),yi&&Wn.log("[Tracing] Started span is an idle span"),r}(o);function Zn(){T&&(clearTimeout(T),T=void 0)}function qn(ri){Zn(),T=setTimeout(()=>{!h&&0===l.size&&re&&(V="idleTimeout",An.end(ri))},we)}function bi(ri){T=setTimeout(()=>{!h&&re&&(V="heartbeatFailed",An.end(ri))},It)}function Gi(ri){h=!0,l.clear(),ge.forEach(ts=>ts()),Ic(yn,gn);const zn=ws(An),{start_timestamp:_i}=zn;if(!_i)return;(zn.data||{})[gr]||An.setAttribute(gr,V),Wn.log(`[Tracing] Idle span "${zn.op}" finished`);const ui=up(An).filter(ts=>ts!==An);let Ri=0;ui.forEach(ts=>{ts.isRecording()&&(ts.setStatus({code:Rs,message:"cancelled"}),ts.end(ri),yi&&Wn.log("[Tracing] Cancelling span since span ended early",JSON.stringify(ts,void 0,2)));const tr=ws(ts),{timestamp:ur=0,start_timestamp:to=0}=tr,Kn=to<=ri,li=ur-to<=(Je+we)/1e3;if(yi){const Hi=JSON.stringify(ts,void 0,2);Kn?li||Wn.log("[Tracing] Discarding span since it finished after idle span final timeout",Hi):Wn.log("[Tracing] Discarding span since it happened after idle span was finished",Hi)}(!li||!Kn)&&(function fb(o,r){o[qd]&&o[qd].delete(r)}(An,ts),Ri++)}),Ri>0&&An.setAttribute("sentry.idle_span_discarded_spans",Ri)}return An.end=new Proxy(An.end,{apply(ri,zn,_i){Rt&&Rt(An);const[Cs,...ui]=_i,ts=dd(Cs||ps()),tr=up(An).filter(li=>li!==An);if(!tr.length)return Gi(ts),Reflect.apply(ri,zn,[ts,...ui]);const ur=tr.map(li=>ws(li).timestamp).filter(li=>!!li),to=ur.length?Math.max(...ur):void 0,Kn=ws(An).start_timestamp,gi=Math.min(Kn?Kn+Je/1e3:1/0,Math.max(Kn||-1/0,Math.min(ts,to||1/0)));return Gi(gi),Reflect.apply(ri,zn,[gi,...ui])}}),ge.push(on.on("spanStart",ri=>{h||ri===An||ws(ri).timestamp||up(An).includes(ri)&&function es(ri){Zn(),l.set(ri,!0),bi(ps()+It/1e3)}(ri.spanContext().spanId)})),ge.push(on.on("spanEnd",ri=>{h||function Mi(ri){l.has(ri)&&l.delete(ri),0===l.size&&qn(ps()+we/1e3)}(ri.spanContext().spanId)})),ge.push(on.on("idleSpanEnableAutoFinish",ri=>{ri===An&&(re=!0,qn(),l.size&&bi())})),r.disableAutoFinish||qn(),setTimeout(()=>{h||(An.setStatus({code:Rs,message:"deadline_exceeded"}),V="finalTimeout",An.end())},Je),An}let WC=!1;function rg(){const o=wo(),r=o&&po(o);if(r){const l="internal_error";yi&&Wn.log(`[Tracing] Root span: ${l} -> Global error occured`),r.setStatus({code:Rs,message:l})}}rg.tag="sentry_tracingErrorCallback";const bh=new WeakMap,cm=new Map,ag={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0};function B0(o,r){const{traceFetch:l,traceXHR:h,shouldCreateSpanForRequest:T,enableHTTPTimings:V,tracePropagationTargets:re}={traceFetch:ag.traceFetch,traceXHR:ag.traceXHR,...r},ge="function"==typeof T?T:It=>!0,we=It=>function XC(o,r){const l=Yi.location&&Yi.location.href;if(l){let h,T;try{h=new URL(o,l),T=new URL(l).origin}catch{return!1}const V=h.origin===T;return r?ho(h.toString(),r)||V&&ho(h.pathname,r):V}{const h=!!o.match(/^\/(?!\/)/);return r?ho(o,r):h}}(It,re),Je={};l&&(o.addEventProcessor(It=>("transaction"===It.type&&It.spans&&It.spans.forEach(Rt=>{if("http.client"===Rt.op){const on=cm.get(Rt.span_id);on&&(Rt.timestamp=on/1e3,cm.delete(Rt.span_id))}}),It)),function mf(o){const r="fetch-body-resolved";gl(r,o),hc(r,()=>S_(Np))}(It=>{if(It.response){const Rt=bh.get(It.response);Rt&&It.endTimestamp&&cm.set(Rt,It.endTimestamp)}}),yl(It=>{const Rt=function og(o,r,l,h,T="auto.http.browser"){if(!o.fetchData)return;const V=jl()&&r(o.fetchData.url);if(o.endTimestamp&&V){const gn=o.fetchData.__span;if(!gn)return;const An=h[gn];return void(An&&(function zC(o,r){if(r.response){zh(o,r.response.status);const l=r.response&&r.response.headers&&r.response.headers.get("content-length");if(l){const h=parseInt(l);h>0&&o.setAttribute("http.response_content_length",h)}}else r.error&&o.setStatus({code:Rs,message:"internal_error"});o.end()}(An,o),delete h[gn]))}const re=Vs(),ge=Ms(),{method:we,url:Je}=o.fetchData,It=function N0(o){try{return new URL(o).href}catch{return}}(Je),Rt=It?Ed(It).host:void 0,on=!!wo(),yn=V&&on?Ta({name:`${we} ${Je}`,attributes:{url:Je,type:"fetch","http.method":we,"http.url":It,"server.address":Rt,[_r]:T,[wc]:"http.client"}}):new Td;if(o.fetchData.__span=yn.spanContext().spanId,h[yn.spanContext().spanId]=yn,l(o.fetchData.url)&&ge){const gn=o.args[0];o.args[1]=o.args[1]||{};const An=o.args[1];An.headers=function L0(o,r,l,h,T){const V=Ar(),{traceId:re,spanId:ge,sampled:we,dsc:Je}={...V.getPropagationContext(),...l.getPropagationContext()},It=T?lp(T):cd(re,ge,we),Rt=ad(Je||(T?cc(T):Vu(re,r))),on=h.headers||(typeof Request<"u"&&Xr(o,Request)?o.headers:void 0);if(on){if(typeof Headers<"u"&&Xr(on,Headers)){const yn=new Headers(on);return yn.append("sentry-trace",It),Rt&&yn.append(ki,Rt),yn}if(Array.isArray(on)){const yn=[...on,["sentry-trace",It]];return Rt&&yn.push([ki,Rt]),yn}{const yn="baggage"in on?on.baggage:void 0,gn=[];return Array.isArray(yn)?gn.push(...yn):yn&&gn.push(yn),Rt&&gn.push(Rt),{...on,"sentry-trace":It,baggage:gn.length>0?gn.join(","):void 0}}}return{"sentry-trace":It,baggage:Rt}}(gn,ge,re,An,jl()&&on?yn:void 0)}return yn}(It,ge,we,Je);if(It.response&&It.fetchData.__span&&bh.set(It.response,It.fetchData.__span),Rt){const on=um(It.fetchData.url),yn=on?Ed(on).host:void 0;Rt.setAttributes({"http.url":on,"server.address":yn})}V&&Rt&&iy(Rt)})),h&&Lp(It=>{const Rt=function sy(o,r,l,h){const T=o.xhr,V=T&&T[fc];if(!T||T.__sentry_own_request__||!V)return;const re=jl()&&r(V.url);if(o.endTimestamp&&re){const on=T.__sentry_xhr_span_id__;if(!on)return;const yn=h[on];return void(yn&&void 0!==V.status_code&&(zh(yn,V.status_code),yn.end(),delete h[on]))}const ge=um(V.url),we=ge?Ed(ge).host:void 0,Je=!!wo(),It=re&&Je?Ta({name:`${V.method} ${V.url}`,attributes:{type:"xhr","http.method":V.method,"http.url":ge,url:V.url,"server.address":we,[_r]:"auto.http.browser",[wc]:"http.client"}}):new Td;T.__sentry_xhr_span_id__=It.spanContext().spanId,h[T.__sentry_xhr_span_id__]=It;const Rt=Ms();return T.setRequestHeader&&l(V.url)&&Rt&&function U0(o,r,l){const h=Vs(),T=Ar(),{traceId:V,spanId:re,sampled:ge,dsc:we}={...T.getPropagationContext(),...h.getPropagationContext()};!function dm(o,r,l){try{o.setRequestHeader("sentry-trace",r),l&&o.setRequestHeader(ki,l)}catch{}}(o,l&&jl()?lp(l):cd(V,re,ge),ad(we||(l?cc(l):Vu(V,r))))}(T,Rt,jl()&&Je?It:void 0),It}(It,ge,we,Je);V&&Rt&&iy(Rt)})}function iy(o){const{url:r}=ws(o).data||{};if(!r||"string"!=typeof r)return;const l=gh("resource",({entries:h})=>{h.forEach(T=>{(function lg(o){return"resource"===o.entryType&&"initiatorType"in o&&"string"==typeof o.nextHopProtocol&&("fetch"===o.initiatorType||"xmlhttprequest"===o.initiatorType)})(T)&&T.name.endsWith(r)&&(function HC(o){const{name:r,version:l}=function KC(o){let r="unknown",l="unknown",h="";for(const T of o){if("/"===T){[r,l]=o.split("/");break}if(!isNaN(Number(T))){r="h"===h?"http":h,l=o.split(h)[1];break}h+=T}return h===o&&(r=h),{name:r,version:l}}(o.nextHopProtocol),h=[];return h.push(["network.protocol.version",l],["network.protocol.name",r]),So?[...h,["http.request.redirect_start",gc(o.redirectStart)],["http.request.fetch_start",gc(o.fetchStart)],["http.request.domain_lookup_start",gc(o.domainLookupStart)],["http.request.domain_lookup_end",gc(o.domainLookupEnd)],["http.request.connect_start",gc(o.connectStart)],["http.request.secure_connection_start",gc(o.secureConnectionStart)],["http.request.connection_end",gc(o.connectEnd)],["http.request.request_start",gc(o.requestStart)],["http.request.response_start",gc(o.responseStart)],["http.request.response_end",gc(o.responseEnd)]]:h}(T).forEach(re=>o.setAttribute(...re)),setTimeout(l))})})}function gc(o=0){return((So||performance.timeOrigin)+o)/1e3}function um(o){try{return new URL(o,Yi.location.origin).href}catch{return}}const YC={...Rd,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...ag},QC=(o={})=>{!function ny(){WC||(WC=!0,R_(rg),pu(rg))}();const{enableInp:r,enableLongTask:l,enableLongAnimationFrame:h,_experiments:{enableInteractions:T,enableStandaloneClsSpans:V},beforeStartSpan:re,idleTimeout:ge,finalTimeout:we,childSpanTimeout:Je,markBackgroundSpan:It,traceFetch:Rt,traceXHR:on,shouldCreateSpanForRequest:yn,enableHTTPTimings:gn,instrumentPageLoad:An,instrumentNavigation:Zn}={...YC,...o},qn=LC({recordClsStandaloneSpans:V||!1});r&&function Zb(){if(A0()&&So){const r=function GC(){return S0(({metric:o})=>{if(null==o.value)return;const r=o.entries.find(gn=>gn.duration===o.value&&F0[gn.name]);if(!r)return;const{interactionId:l}=r,h=F0[r.name],T=eo(So+r.startTime),V=eo(o.value),re=wo(),ge=re?po(re):void 0,Je=(null!=l?lm.get(l):void 0)||ge,It=Je?ws(Je).description:Vs().getScopeData().transactionName,yn=Yb({name:Uo(r.target),transaction:It,attributes:Mr({[_r]:"auto.http.browser.inp",[wc]:`ui.interaction.${h}`,[xc]:r.duration}),startTime:T});go([yn,"optionalAccess",gn=>gn.addEvent,"call",gn=>gn("inp",{[kl]:"millisecond",[ac]:o.value})]),go([yn,"optionalAccess",gn=>gn.end,"call",gn=>gn(T+V)])})}();return()=>{r()}}return()=>{}}(),h&&Ci.PerformanceObserver&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?function BC(){new PerformanceObserver(r=>{if(wo())for(const l of r.getEntries()){if(!l.scripts[0])continue;const h=eo(So+l.startTime),T=eo(l.duration),V={[_r]:"auto.ui.browser.metrics"},re=l.scripts[0],{invoker:ge,invokerType:we,sourceURL:Je,sourceFunctionName:It,sourceCharPosition:Rt}=re;V["browser.script.invoker"]=ge,V["browser.script.invoker_type"]=we,Je&&(V["code.filepath"]=Je),It&&(V["code.function"]=It),-1!==Rt&&(V["browser.script.source_char_position"]=Rt);const on=Ta({name:"Main UI thread blocked",op:"ui.long-animation-frame",startTime:h,attributes:V});on&&on.end(h+T)}}).observe({type:"long-animation-frame",buffered:!0})}():l&&function NC(){gh("longtask",({entries:o})=>{if(wo())for(const r of o){const l=eo(So+r.startTime),h=eo(r.duration),T=Ta({name:"Main UI thread blocked",op:"ui.long-task",startTime:l,attributes:{[_r]:"auto.ui.browser.metrics"}});T&&T.end(l+h)}})}(),T&&function UC(){gh("event",({entries:o})=>{if(wo())for(const r of o)if("click"===r.name){const l=eo(So+r.startTime),h=eo(r.duration),T={name:Uo(r.target),op:`ui.interaction.${r.name}`,startTime:l,attributes:{[_r]:"auto.ui.browser.metrics"}},V=As(r.target);V&&(T.attributes["ui.component_name"]=V);const re=Ta(T);re&&re.end(l+h)}})}();const bi={name:void 0,source:void 0};function es(Mi,Gi){const ri="pageload"===Gi.op,zn=re?re(Gi):Gi,_i=zn.attributes||{};Gi.name!==zn.name&&(_i[Oi]="custom",zn.attributes=_i),bi.name=zn.name,bi.source=_i[Oi];const Cs=ty(zn,{idleTimeout:ge,finalTimeout:we,childSpanTimeout:Je,disableAutoFinish:ri,beforeSpanEnd:Ri=>{qn(),function zD(o,r){const l=A0();if(!l||!cs.performance.getEntries||!So)return;ta&&Wn.log("[Tracing] Adding & adjusting spans using Performance API");const h=eo(So),T=l.getEntries(),{op:V,start_timestamp:re}=ws(o);if(T.slice(Jb).forEach(ge=>{const we=eo(ge.startTime),Je=eo(Math.max(0,ge.duration));if(!("navigation"===V&&re&&h+we<re))switch(ge.entryType){case"navigation":!function KD(o,r,l){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(h=>{P0(o,r,h,l)}),P0(o,r,"secureConnection",l,"TLS/SSL","connectEnd"),P0(o,r,"fetch",l,"cache","domainLookupStart"),P0(o,r,"domainLookup",l,"DNS"),function HD(o,r,l){const h=l+eo(r.requestStart),T=l+eo(r.responseEnd),V=l+eo(r.responseStart);r.responseEnd&&(Rf(o,h,T,{op:"browser",name:"request",attributes:{[_r]:"auto.ui.browser.metrics"}}),Rf(o,V,T,{op:"browser",name:"response",attributes:{[_r]:"auto.ui.browser.metrics"}}))}(o,r,l)}(o,ge,h);break;case"mark":case"paint":case"measure":{!function k0(o,r,l,h,T){const V=Od(),re=eo(V?V.requestStart:0),ge=T+Math.max(l,re),we=T+l,Je=we+h,It={[_r]:"auto.resource.browser.metrics"};ge!==we&&(It["sentry.browser.measure_happened_before_request"]=!0,It["sentry.browser.measure_start_time"]=ge),Rf(o,ge,Je,{name:r.name,op:r.entryType,attributes:It})}(o,ge,we,Je,h);const It=M(),Rt=ge.startTime<It.firstHiddenTime;"first-paint"===ge.name&&Rt&&(ta&&Wn.log("[Measurements] Adding FP"),ua.fp={value:ge.startTime,unit:"millisecond"}),"first-contentful-paint"===ge.name&&Rt&&(ta&&Wn.log("[Measurements] Adding FCP"),ua.fcp={value:ge.startTime,unit:"millisecond"});break}case"resource":!function XD(o,r,l,h,T,V){if("xmlhttprequest"===r.initiatorType||"fetch"===r.initiatorType)return;const re=Ed(l),ge={[_r]:"auto.resource.browser.metrics"};Pf(ge,r,"transferSize","http.response_transfer_size"),Pf(ge,r,"encodedBodySize","http.response_content_length"),Pf(ge,r,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in r&&(ge["resource.render_blocking_status"]=r.renderBlockingStatus),re.protocol&&(ge["url.scheme"]=re.protocol.split(":").pop()),re.host&&(ge["server.address"]=re.host),ge["url.same_origin"]=l.includes(cs.location.origin);const we=V+h;Rf(o,we,we+T,{name:l.replace(cs.location.origin,""),op:r.initiatorType?`resource.${r.initiatorType}`:"resource.other",attributes:ge})}(o,ge,ge.name,we,Je,h)}}),Jb=Math.max(T.length-1,0),function YD(o){const r=cs.navigator;if(!r)return;const l=r.connection;l&&(l.effectiveType&&o.setAttribute("effectiveConnectionType",l.effectiveType),l.type&&o.setAttribute("connectionType",l.type),om(l.rtt)&&(ua["connection.rtt"]={value:l.rtt,unit:"millisecond"})),om(r.deviceMemory)&&o.setAttribute("deviceMemory",`${r.deviceMemory} GB`),om(r.hardwareConcurrency)&&o.setAttribute("hardwareConcurrency",String(r.hardwareConcurrency))}(o),"pageload"===V){!function ig(o){const r=Od();if(!r)return;const{responseStart:l,requestStart:h}=r;h<=l&&(ta&&Wn.log("[Measurements] Adding TTFB Request Time"),o["ttfb.requestTime"]={value:l-h,unit:"millisecond"})}(ua);const ge=ua["mark.fid"];ge&&ua.fid&&(Rf(o,ge.value,ge.value+eo(ua.fid.value),{name:"first input delay",op:"ui.action",attributes:{[_r]:"auto.ui.browser.metrics"}}),delete ua["mark.fid"]),(!("fcp"in ua)||!r.recordClsOnPageloadSpan)&&delete ua.cls,Object.entries(ua).forEach(([we,Je])=>{!function Sf(o,r,l){const h=wo(),T=h&&po(h);T&&T.addEvent(o,{[ac]:r,[kl]:l})}(we,Je.value,Je.unit)}),o.setAttribute("performance.timeOrigin",h),function VC(o){Gc&&(ta&&Wn.log("[Measurements] Adding LCP Data"),Gc.element&&o.setAttribute("lcp.element",Uo(Gc.element)),Gc.id&&o.setAttribute("lcp.id",Gc.id),Gc.url&&o.setAttribute("lcp.url",Gc.url.trim().slice(0,200)),o.setAttribute("lcp.size",Gc.size)),kf&&kf.sources&&(ta&&Wn.log("[Measurements] Adding CLS Data"),kf.sources.forEach((r,l)=>o.setAttribute(`cls.source.${l+1}`,Uo(r.node))))}(o)}Gc=void 0,kf=void 0,ua={}}(Ri,{recordClsOnPageloadSpan:!V})}});function ui(){["interactive","complete"].includes(Yi.document.readyState)&&Mi.emit("idleSpanEnableAutoFinish",Cs)}return ri&&Yi.document&&(Yi.document.addEventListener("readystatechange",()=>{ui()}),ui()),Cs}return{name:"BrowserTracing",afterAllSetup(Mi){let Gi,ri=Yi.location&&Yi.location.href;Mi.on("startNavigationSpan",zn=>{Ms()===Mi&&(Gi&&!ws(Gi).timestamp&&(ca&&Wn.log(`[Tracing] Finishing current root span with op: ${ws(Gi).op}`),Gi.end()),Gi=es(Mi,{op:"navigation",...zn}))}),Mi.on("startPageLoadSpan",(zn,_i={})=>{if(Ms()!==Mi)return;Gi&&!ws(Gi).timestamp&&(ca&&Wn.log(`[Tracing] Finishing current root span with op: ${ws(Gi).op}`),Gi.end());const Ri=function ap(o,r){const l=function Si(o){if(!o)return;const r=o.match(el);if(!r)return;let l;return"1"===r[3]?l=!0:"0"===r[3]&&(l=!1),{traceId:r[1],parentSampled:l,parentSpanId:r[2]}}(o),h=Zo(r),{traceId:T,parentSpanId:V,parentSampled:re}=l||{};return l?{traceId:T||ye(),parentSpanId:V||ye().substring(16),spanId:ye().substring(16),sampled:re,dsc:h||{}}:{traceId:T||ye(),spanId:ye().substring(16)}}(_i.sentryTrace||yu("sentry-trace"),_i.baggage||yu("baggage"));Vs().setPropagationContext(Ri),Gi=es(Mi,{op:"pageload",...zn})}),Mi.on("spanEnd",zn=>{const _i=ws(zn).op;if(zn!==po(zn)||"navigation"!==_i&&"pageload"!==_i)return;const Cs=Vs(),ui=Cs.getPropagationContext();Cs.setPropagationContext({...ui,sampled:void 0!==ui.sampled?ui.sampled:Zd(zn),dsc:ui.dsc||cc(zn)})}),Yi.location&&(An&&function $0(o,r,l){o.emit("startPageLoadSpan",r,l),Vs().setTransactionName(r.name);const h=wo();h&&ws(h)}(Mi,{name:Yi.location.pathname,startTime:So?So/1e3:void 0,attributes:{[Oi]:"url",[_r]:"auto.pageload.browser"}}),Zn&&Qu(({to:zn,from:_i})=>{void 0===_i&&ri&&-1!==ri.indexOf(zn)?ri=void 0:_i!==zn&&(ri=void 0,V0(Mi,{name:Yi.location.pathname,attributes:{[Oi]:"url",[_r]:"auto.navigation.browser"}}))})),It&&function ZD(){Yi&&Yi.document?Yi.document.addEventListener("visibilitychange",()=>{const o=wo();if(!o)return;const r=po(o);if(Yi.document.hidden&&r){const l="cancelled",{op:h,status:T}=ws(r);ca&&Wn.log(`[Tracing] Transaction: ${l} -> since tab moved to the background, op: ${h}`),T||r.setStatus({code:Rs,message:l}),r.setAttribute("sentry.cancellation_reason","document.hidden"),r.end()}}):ca&&Wn.warn("[Tracing] Could not set up background tab detection due to lack of global document")}(),T&&function ry(o,r,l,h){let T;Yi.document&&addEventListener("click",()=>{const re="ui.action.click",ge=wo(),we=ge&&po(ge);if(we){const Je=ws(we).op;if(["navigation","pageload"].includes(Je))return void(ca&&Wn.warn(`[Tracing] Did not create ${re} span because a pageload or navigation span is in progress.`))}T&&(T.setAttribute(gr,"interactionInterrupted"),T.end(),T=void 0),h.name?T=ty({name:h.name,op:re,attributes:{[Oi]:h.source||"url"}},{idleTimeout:o,finalTimeout:r,childSpanTimeout:l}):ca&&Wn.warn(`[Tracing] Did not create ${re} transaction because _latestRouteName is missing.`)},{once:!1,capture:!0})}(ge,we,Je,bi),r&&function qb(){const r=({entries:l})=>{const h=wo(),T=h&&po(h);l.forEach(V=>{if(!function O0(o){return"duration"in o}(V)||!T)return;const re=V.interactionId;if(null!=re&&!lm.has(re)){if(sg.length>10){const ge=sg.shift();lm.delete(ge)}sg.push(re),lm.set(re,T)}})};gh("event",r),gh("first-input",r)}(),B0(Mi,{traceFetch:Rt,traceXHR:on,tracePropagationTargets:Mi.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:yn,enableHTTPTimings:gn})}}};function V0(o,r){Ar().setPropagationContext(vi()),Vs().setPropagationContext(vi()),o.emit("startNavigationSpan",r),Vs().setTransactionName(r.name);const l=wo();return"navigation"===(l&&ws(l).op)?l:void 0}function yu(o){const r=function Oa(o){return co.document&&co.document.querySelector?co.document.querySelector(o):null}(`meta[name=${o}]`);return r?r.getAttribute("content"):void 0}var oy=a(4337);const cg=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;const cy=typeof Zone<"u"&&Zone.root&&Zone.root.run;function vc(o){return cy?Zone.root.run(o):o()}function Eu(o){if(o instanceof Error)return!0;if(null===o||"object"!=typeof o)return!1;const r=o;return lo(r.name)&&lo(r.message)&&(void 0===r.stack||lo(r.stack))}let fm,uy=(()=>{class o{constructor(l){this._options={logErrors:!0,...l}}ngOnDestroy(){this._removeAfterSendEventListener&&this._removeAfterSendEventListener()}handleError(l){const h=this._extractError(l)||"Handled unknown error",T=vc(()=>xo(h,{mechanism:{type:"angular",handled:!1}}));if(this._options.logErrors&&console.error(h),this._options.showDialog){const V=Ms();V&&!this._removeAfterSendEventListener?this._removeAfterSendEventListener=V.on("afterSendEvent",re=>{!re.type&&re.event_id&&vc(()=>{Xp({...this._options.dialogOptions,eventId:re.event_id})})}):V||vc(()=>{Xp({...this._options.dialogOptions,eventId:T})})}}_extractError(l){if(this._options.extractor){const h=this._defaultExtractor.bind(this);return this._options.extractor(l,h)}return this._defaultExtractor(l)}_defaultExtractor(l){const h=function dy(o){return o&&o.ngOriginalError?o.ngOriginalError:o}(l);return h instanceof d.yz?function dg(o){return Eu(o.error)?o.error:typeof ErrorEvent<"u"&&o.error instanceof ErrorEvent&&o.error.message?o.error.message:"string"==typeof o.error?`Server returned code ${o.status} with body "${o.error}"`:o.message}(h):"string"==typeof h||Eu(h)?h:null}}return o.\u0275fac=function(l){return new(l||o)(i.KVO("errorHandlerOptions"))},o.\u0275prov=i.jDH({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function G0(o){return new uy(o)}function ZC(o={}){return!1!==o.instrumentNavigation&&(fm=!0),QC({...o,instrumentNavigation:!1})}let py=(()=>{class o{constructor(l){this._router=l,this.navStart$=this._router.events.pipe((0,Ka.p)(h=>h instanceof ai.Z),(0,wr.M)(h=>{if(!fm)return void(cg&&Wn.error("Angular integration has tracing enabled, but Tracing integration is not configured"));this._routingSpan&&(this._routingSpan.end(),this._routingSpan=null);const T=Ms(),V=function uu(o){return o.split(/[?#]/,1)[0]}(h.url);return T?(this._isPageloadOngoing()?this._pageloadOngoing=!1:vc(()=>{V0(T,{name:V,attributes:{[_r]:"auto.navigation.angular",[Oi]:"url"}})}),void(this._routingSpan=vc(()=>Ta({name:`${h.url}`,op:"ui.angular.routing",attributes:{[_r]:"auto.ui.angular",[Oi]:"url",url:V,...h.navigationTrigger&&{navigationTrigger:h.navigationTrigger}}}))||null)):void 0})),this.resEnd$=this._router.events.pipe((0,Ka.p)(h=>h instanceof ai.gx),(0,wr.M)(h=>{const T=function my(o){const r=[];let l=o&&o.firstChild;for(;l;){const T=l&&l.routeConfig&&l.routeConfig.path;if(null==T)break;r.push(T),l=l.firstChild}const h=r.filter(T=>T).join("/");return h?`/${h}/`:"/"}(h.state.root);T&&Vs().setTransactionName(T);const V=wo();!function fy(o,r){const l=r&&ws(r).data||{};r&&"url"===l[Oi]&&(r.updateName(o),r.setAttribute(Oi,"route"),r.setAttribute(_r,`auto.${ws(r).op}.angular`))}(T,V&&po(V))})),this.navEnd$=this._router.events.pipe((0,Ka.p)(h=>h instanceof ai.wF||h instanceof ai.j5||h instanceof ai.L6),(0,wr.M)(()=>{this._routingSpan&&(vc(()=>{this._routingSpan.end()}),this._routingSpan=null)})),this._routingSpan=null,this._pageloadOngoing=!0,this._subscription=new oy.y,this._subscription.add(this.navStart$.subscribe()),this._subscription.add(this.resEnd$.subscribe()),this._subscription.add(this.navEnd$.subscribe())}ngOnDestroy(){this._subscription.unsubscribe()}_isPageloadOngoing(){if(!this._pageloadOngoing)return!1;const l=wo();if(!l)return this._pageloadOngoing=!1,!1;const h=po(l);return this._pageloadOngoing="pageload"===ws(h).op,this._pageloadOngoing}}return o.\u0275fac=function(l){return new(l||o)(i.KVO(ai.Ix))},o.\u0275prov=i.jDH({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function by(o){return"/"===o[o.length-1]?o.slice(0,-1):o}function Lf(){return typeof window<"u"&&(!function ug(){return!function lu(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}()&&"[object process]"===Object.prototype.toString.call(typeof process<"u"?process:0)}()||function Ey(){return void 0!==Ci.process&&"renderer"===Ci.process.type}())}const vr=Ci,pm="sentryReplaySession",z0="replay_event",hg="Unable to send Replay",sM=5e3,rM=3,My=15e4,fg=5e3,H0=2e7;function X0(o,r){return o??r()}function pg(o){let r,l=o[0],h=1;for(;h<o.length;){const T=o[h],V=o[h+1];if(h+=2,("optionalAccess"===T||"optionalCall"===T)&&null==l)return;"access"===T||"optionalAccess"===T?(r=l,l=V(l)):("call"===T||"optionalCall"===T)&&(l=V((...re)=>l.call(r,...re)),r=void 0)}return l}var ko=function(o){return o[o.Document=0]="Document",o[o.DocumentType=1]="DocumentType",o[o.Element=2]="Element",o[o.Text=3]="Text",o[o.CDATA=4]="CDATA",o[o.Comment=5]="Comment",o}(ko||{});function mm(o){const r=pg([o,"optionalAccess",l=>l.host]);return pg([r,"optionalAccess",l=>l.shadowRoot])===o}function _m(o){return"[object ShadowRoot]"===Object.prototype.toString.call(o)}function mg(o){try{const r=o.rules||o.cssRules;return r?function aM(o){return o.includes(" background-clip: text;")&&!o.includes(" -webkit-background-clip: text;")&&(o=o.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),o}(Array.from(r,xy).join("")):null}catch{return null}}function xy(o){let r;if(function lM(o){return"styleSheet"in o}(o))try{r=mg(o.styleSheet)||function wy(o){const{cssText:r}=o;if(r.split('"').length<3)return r;const l=["@import",`url(${JSON.stringify(o.href)})`];return""===o.layerName?l.push("layer"):o.layerName&&l.push(`layer(${o.layerName})`),o.supportsText&&l.push(`supports(${o.supportsText})`),o.media.length&&l.push(o.media.mediaText),l.join(" ")+";"}(o)}catch{}else if(function cM(o){return"selectorText"in o}(o)&&o.selectorText.includes(":"))return function Y0(o){return o.replace(/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm,"$1\\$2")}(o.cssText);return r||o.cssText}class Oy{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(r){return r?X0(pg([this,"access",h=>h.getMeta,"call",h=>h(r),"optionalAccess",h=>h.id]),()=>-1):-1}getNode(r){return this.idNodeMap.get(r)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(r){return this.nodeMetaMap.get(r)||null}removeNodeFromMap(r){const l=this.getId(r);this.idNodeMap.delete(l),r.childNodes&&r.childNodes.forEach(h=>this.removeNodeFromMap(h))}has(r){return this.idNodeMap.has(r)}hasNode(r){return this.nodeMetaMap.has(r)}add(r,l){this.idNodeMap.set(l.id,r),this.nodeMetaMap.set(r,l)}replace(r,l){const h=this.getNode(r);if(h){const T=this.nodeMetaMap.get(h);T&&this.nodeMetaMap.set(l,T)}this.idNodeMap.set(r,l)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function _g({maskInputOptions:o,tagName:r,type:l}){return"OPTION"===r&&(r="SELECT"),!!(o[r.toLowerCase()]||l&&o[l]||"password"===l||"INPUT"===r&&!l&&o.text)}function ll({isMasked:o,element:r,value:l,maskInputFn:h}){let T=l||"";return o?(h&&(T=h(T,r)),"*".repeat(T.length)):T}function Cu(o){return o.toLowerCase()}function Q0(o){return o.toUpperCase()}const Ay="__rrweb_original__";function gg(o){const r=o.type;return o.hasAttribute("data-rr-is-password")?"password":r?Cu(r):null}function yh(o,r,l){return"INPUT"!==r||"radio"!==l&&"checkbox"!==l?o.value:o.getAttribute("value")||""}function vg(o,r){let l;try{l=new URL(o,X0(r,()=>window.location.href))}catch{return null}return X0(pg([l.pathname.match(/\.([0-9a-z]+)(?:$)/i),"optionalAccess",V=>V[1]]),()=>null)}const uM={};function J0(o){const r=uM[o];if(r)return r;const l=window.document;let h=window[o];if(l&&"function"==typeof l.createElement)try{const T=l.createElement("iframe");T.hidden=!0,l.head.appendChild(T);const V=T.contentWindow;V&&V[o]&&(h=V[o]),l.head.removeChild(T)}catch{}return uM[o]=h.bind(window)}function bg(...o){return J0("setTimeout")(...o)}function Z0(...o){return J0("clearTimeout")(...o)}let yg=1;const q0=new RegExp("[^a-z0-9-_:]"),Tl=-2;function e1(){return yg++}let Nf,Eh;const ky=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Ch=/^(?:[a-z+]+:)?\/\//i,Bf=/^www\..*/i,n1=/^(data:)([^,]*),(.*)/i;function Mu(o,r){return(o||"").replace(ky,(l,h,T,V,re,ge)=>{const we=T||re||ge,Je=h||V||"";if(!we)return l;if(Ch.test(we)||Bf.test(we))return`url(${Je}${we}${Je})`;if(n1.test(we))return`url(${Je}${we}${Je})`;if("/"===we[0])return`url(${Je}${function t1(o){let r="";return r=o.indexOf("//")>-1?o.split("/").slice(0,3).join("/"):o.split("/")[0],r=r.split("?")[0],r}(r)+we}${Je})`;const It=r.split("/"),Rt=we.split("/");It.pop();for(const on of Rt)"."!==on&&(".."===on?It.pop():It.push(on));return`url(${Je}${It.join("/")}${Je})`})}const Py=/^[^ \t\n\r\u000c]+/,Fy=/^[, \t\n\r\u000c]+/;function Uf(o,r){if(!r||""===r.trim())return r;const l=o.createElement("a");return l.href=r,l.href}function pM(o){return!("svg"!==o.tagName&&!o.ownerSVGElement)}function s1(){const o=document.createElement("a");return o.href="",o.href}function Ly(o,r,l,h,T,V){return h&&("src"===l||"href"===l&&("use"!==r||"#"!==h[0])||"xlink:href"===l&&"#"!==h[0]||"background"===l&&("table"===r||"td"===r||"th"===r)?Uf(o,h):"srcset"===l?function fM(o,r){if(""===r.trim())return r;let l=0;function h(V){let re;const ge=V.exec(r.substring(l));return ge?(re=ge[0],l+=re.length,re):""}const T=[];for(;h(Fy),!(l>=r.length);){let V=h(Py);if(","===V.slice(-1))V=Uf(o,V.substring(0,V.length-1)),T.push(V);else{let re="";V=Uf(o,V);let ge=!1;for(;;){const we=r.charAt(l);if(""===we){T.push((V+re).trim());break}if(ge)")"===we&&(ge=!1);else{if(","===we){l+=1,T.push((V+re).trim());break}"("===we&&(ge=!0)}re+=we,l+=1}}}return T.join(", ")}(o,h):"style"===l?Mu(h,s1()):"object"===r&&"data"===l?Uf(o,h):"function"==typeof V?V(l,h,T):h)}function Ny(o,r,l){return("video"===o||"audio"===o)&&"autoplay"===r}function Wc(o,r,l=1/0,h=0){return!o||o.nodeType!==o.ELEMENT_NODE||h>l?-1:r(o)?h:Wc(o.parentNode,r,l,h+1)}function jf(o,r){return l=>{const h=l;if(null===h)return!1;try{if(o)if("string"==typeof o){if(h.matches(`.${o}`))return!0}else if(function mM(o,r){for(let l=o.classList.length;l--;)if(r.test(o.classList[l]))return!0;return!1}(h,o))return!0;return!(!r||!h.matches(r))}catch{return!1}}}function Mh(o,r,l,h,T,V){try{const re=o.nodeType===o.ELEMENT_NODE?o:o.parentElement;if(null===re)return!1;if("INPUT"===re.tagName){const Je=re.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(Je))return!0}let ge=-1,we=-1;if(V){if(we=Wc(re,jf(h,T)),we<0)return!0;ge=Wc(re,jf(r,l),we>=0?we:1/0)}else{if(ge=Wc(re,jf(r,l)),ge<0)return!1;we=Wc(re,jf(h,T),ge>=0?ge:1/0)}return ge>=0?!(we>=0)||ge<=we:!(we>=0||!V)}catch{}return!!V}function Dr(o){return null==o?"":o.toLowerCase()}function zc(o,r){const{doc:l,mirror:h,blockClass:T,blockSelector:V,unblockSelector:re,maskAllText:ge,maskTextClass:we,unmaskTextClass:Je,maskTextSelector:It,unmaskTextSelector:Rt,skipChild:on=!1,inlineStylesheet:yn=!0,maskInputOptions:gn={},maskAttributeFn:An,maskTextFn:Zn,maskInputFn:qn,slimDOMOptions:bi,dataURLOptions:es={},inlineImages:Mi=!1,recordCanvas:Gi=!1,onSerialize:ri,onIframeLoad:zn,iframeLoadTimeout:_i=5e3,onStylesheetLoad:Cs,stylesheetLoadTimeout:ui=5e3,keepIframeSrcFn:Ri=()=>!1,newlyAddedElement:ts=!1}=r;let{preserveWhiteSpace:tr=!0}=r;const ur=function gM(o,r){const{doc:l,mirror:h,blockClass:T,blockSelector:V,unblockSelector:re,maskAllText:ge,maskAttributeFn:we,maskTextClass:Je,unmaskTextClass:It,maskTextSelector:Rt,unmaskTextSelector:on,inlineStylesheet:yn,maskInputOptions:gn={},maskTextFn:An,maskInputFn:Zn,dataURLOptions:qn={},inlineImages:bi,recordCanvas:es,keepIframeSrcFn:Mi,newlyAddedElement:Gi=!1}=r,ri=function vM(o,r){if(!r.hasNode(o))return;const l=r.getId(o);return 1===l?void 0:l}(l,h);switch(o.nodeType){case o.DOCUMENT_NODE:return"CSS1Compat"!==o.compatMode?{type:ko.Document,childNodes:[],compatMode:o.compatMode}:{type:ko.Document,childNodes:[]};case o.DOCUMENT_TYPE_NODE:return{type:ko.DocumentType,name:o.name,publicId:o.publicId,systemId:o.systemId,rootId:ri};case o.ELEMENT_NODE:return function r1(o,r){const{doc:l,blockClass:h,blockSelector:T,unblockSelector:V,inlineStylesheet:re,maskInputOptions:ge={},maskAttributeFn:we,maskInputFn:Je,dataURLOptions:It={},inlineImages:Rt,recordCanvas:on,keepIframeSrcFn:yn,newlyAddedElement:gn=!1,rootId:An,maskTextClass:qn,unmaskTextClass:bi,maskTextSelector:es,unmaskTextSelector:Mi}=r,Gi=function By(o,r,l,h){try{if(h&&o.matches(h))return!1;if("string"==typeof r){if(o.classList.contains(r))return!0}else for(let T=o.classList.length;T--;)if(r.test(o.classList[T]))return!0;if(l)return o.matches(l)}catch{}return!1}(o,h,T,V),ri=function hM(o){if(o instanceof HTMLFormElement)return"form";const r=Cu(o.tagName);return q0.test(r)?"div":r}(o);let zn={};const _i=o.attributes.length;for(let ui=0;ui<_i;ui++){const Ri=o.attributes[ui];Ri.name&&!Ny(ri,Ri.name)&&(zn[Ri.name]=Ly(l,ri,Cu(Ri.name),Ri.value,o,we))}if("link"===ri&&re){const ui=Array.from(l.styleSheets).find(ts=>ts.href===o.href);let Ri=null;ui&&(Ri=mg(ui)),Ri&&(delete zn.rel,delete zn.href,zn._cssText=Mu(Ri,ui.href))}if("style"===ri&&o.sheet&&!(o.innerText||o.textContent||"").trim().length){const ui=mg(o.sheet);ui&&(zn._cssText=Mu(ui,s1()))}if("input"===ri||"textarea"===ri||"select"===ri||"option"===ri){const ui=o,Ri=gg(ui),ts=yh(ui,Q0(ri),Ri),tr=ui.checked;if("submit"!==Ri&&"button"!==Ri&&ts){const ur=Mh(ui,qn,es,bi,Mi,_g({type:Ri,tagName:Q0(ri),maskInputOptions:ge}));zn.value=ll({isMasked:ur,element:ui,value:ts,maskInputFn:Je})}tr&&(zn.checked=tr)}if("option"===ri&&(o.selected&&!ge.select?zn.selected=!0:delete zn.selected),"canvas"===ri&&on)if("2d"===o.__context)(function Ry(o){const r=o.getContext("2d");if(!r)return!0;for(let h=0;h<o.width;h+=50)for(let T=0;T<o.height;T+=50){const V=r.getImageData;if(new Uint32Array((Ay in V?V[Ay]:V).call(r,h,T,Math.min(50,o.width-h),Math.min(50,o.height-T)).data.buffer).some(we=>0!==we))return!1}return!0})(o)||(zn.rr_dataURL=o.toDataURL(It.type,It.quality));else if(!("__context"in o)){const ui=o.toDataURL(It.type,It.quality),Ri=document.createElement("canvas");Ri.width=o.width,Ri.height=o.height,ui!==Ri.toDataURL(It.type,It.quality)&&(zn.rr_dataURL=ui)}if("img"===ri&&Rt){Nf||(Nf=l.createElement("canvas"),Eh=Nf.getContext("2d"));const ui=o,Ri=ui.crossOrigin;ui.crossOrigin="anonymous";const ts=()=>{ui.removeEventListener("load",ts);try{Nf.width=ui.naturalWidth,Nf.height=ui.naturalHeight,Eh.drawImage(ui,0,0),zn.rr_dataURL=Nf.toDataURL(It.type,It.quality)}catch(tr){console.warn(`Cannot inline img src=${ui.currentSrc}! Error: ${tr}`)}Ri?zn.crossOrigin=Ri:ui.removeAttribute("crossorigin")};ui.complete&&0!==ui.naturalWidth?ts():ui.addEventListener("load",ts)}if(("audio"===ri||"video"===ri)&&(zn.rr_mediaState=o.paused?"paused":"played",zn.rr_mediaCurrentTime=o.currentTime),gn||(o.scrollLeft&&(zn.rr_scrollLeft=o.scrollLeft),o.scrollTop&&(zn.rr_scrollTop=o.scrollTop)),Gi){const{width:ui,height:Ri}=o.getBoundingClientRect();zn={class:zn.class,rr_width:`${ui}px`,rr_height:`${Ri}px`}}let Cs;"iframe"===ri&&!yn(zn.src)&&(!Gi&&!o.contentDocument&&(zn.rr_src=zn.src),delete zn.src);try{customElements.get(ri)&&(Cs=!0)}catch{}return{type:ko.Element,tagName:ri,attributes:zn,childNodes:[],isSVG:pM(o)||void 0,needBlock:Gi,rootId:An,isCustom:Cs}}(o,{doc:l,blockClass:T,blockSelector:V,unblockSelector:re,inlineStylesheet:yn,maskAttributeFn:we,maskInputOptions:gn,maskInputFn:Zn,dataURLOptions:qn,inlineImages:bi,recordCanvas:es,keepIframeSrcFn:Mi,newlyAddedElement:Gi,rootId:ri,maskAllText:ge,maskTextClass:Je,unmaskTextClass:It,maskTextSelector:Rt,unmaskTextSelector:on});case o.TEXT_NODE:return function jy(o,r){const{maskAllText:l,maskTextClass:h,unmaskTextClass:T,maskTextSelector:V,unmaskTextSelector:re,maskTextFn:ge,maskInputOptions:we,maskInputFn:Je,rootId:It}=r,Rt=o.parentNode&&o.parentNode.tagName;let on=o.textContent;const yn="STYLE"===Rt||void 0,gn="SCRIPT"===Rt||void 0,An="TEXTAREA"===Rt||void 0;if(yn&&on){try{o.nextSibling||o.previousSibling||pg([o,"access",qn=>qn.parentNode,"access",qn=>qn.sheet,"optionalAccess",qn=>qn.cssRules])&&(on=mg(o.parentNode.sheet))}catch(qn){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${qn}`,o)}on=Mu(on,s1())}gn&&(on="SCRIPT_PLACEHOLDER");const Zn=Mh(o,h,V,T,re,l);return!yn&&!gn&&!An&&on&&Zn&&(on=ge?ge(on,o.parentElement):on.replace(/[\S]/g,"*")),An&&on&&(we.textarea||Zn)&&(on=Je?Je(on,o.parentNode):on.replace(/[\S]/g,"*")),"OPTION"===Rt&&on&&(on=ll({isMasked:Mh(o,h,V,T,re,_g({type:null,tagName:Rt,maskInputOptions:we})),element:o,value:on,maskInputFn:Je})),{type:ko.Text,textContent:on||"",isStyle:yn,rootId:It}}(o,{maskAllText:ge,maskTextClass:Je,unmaskTextClass:It,maskTextSelector:Rt,unmaskTextSelector:on,maskTextFn:An,maskInputOptions:gn,maskInputFn:Zn,rootId:ri});case o.CDATA_SECTION_NODE:return{type:ko.CDATA,textContent:"",rootId:ri};case o.COMMENT_NODE:return{type:ko.Comment,textContent:o.textContent||"",rootId:ri};default:return!1}}(o,{doc:l,mirror:h,blockClass:T,blockSelector:V,maskAllText:ge,unblockSelector:re,maskTextClass:we,unmaskTextClass:Je,maskTextSelector:It,unmaskTextSelector:Rt,inlineStylesheet:yn,maskInputOptions:gn,maskAttributeFn:An,maskTextFn:Zn,maskInputFn:qn,dataURLOptions:es,inlineImages:Mi,recordCanvas:Gi,keepIframeSrcFn:Ri,newlyAddedElement:ts});if(!ur)return console.warn(o,"not serialized"),null;let to;to=h.hasNode(o)?h.getId(o):function gm(o,r){if(r.comment&&o.type===ko.Comment)return!0;if(o.type===ko.Element){if(r.script&&("script"===o.tagName||"link"===o.tagName&&("preload"===o.attributes.rel||"modulepreload"===o.attributes.rel)&&"script"===o.attributes.as||"link"===o.tagName&&"prefetch"===o.attributes.rel&&"string"==typeof o.attributes.href&&"js"===vg(o.attributes.href)))return!0;if(r.headFavicon&&("link"===o.tagName&&"shortcut icon"===o.attributes.rel||"meta"===o.tagName&&(Dr(o.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===Dr(o.attributes.name)||"icon"===Dr(o.attributes.rel)||"apple-touch-icon"===Dr(o.attributes.rel)||"shortcut icon"===Dr(o.attributes.rel))))return!0;if("meta"===o.tagName){if(r.headMetaDescKeywords&&Dr(o.attributes.name).match(/^description|keywords$/))return!0;if(r.headMetaSocial&&(Dr(o.attributes.property).match(/^(og|twitter|fb):/)||Dr(o.attributes.name).match(/^(og|twitter):/)||"pinterest"===Dr(o.attributes.name)))return!0;if(r.headMetaRobots&&("robots"===Dr(o.attributes.name)||"googlebot"===Dr(o.attributes.name)||"bingbot"===Dr(o.attributes.name)))return!0;if(r.headMetaHttpEquiv&&void 0!==o.attributes["http-equiv"])return!0;if(r.headMetaAuthorship&&("author"===Dr(o.attributes.name)||"generator"===Dr(o.attributes.name)||"framework"===Dr(o.attributes.name)||"publisher"===Dr(o.attributes.name)||"progid"===Dr(o.attributes.name)||Dr(o.attributes.property).match(/^article:/)||Dr(o.attributes.property).match(/^product:/)))return!0;if(r.headMetaVerification&&("google-site-verification"===Dr(o.attributes.name)||"yandex-verification"===Dr(o.attributes.name)||"csrf-token"===Dr(o.attributes.name)||"p:domain_verify"===Dr(o.attributes.name)||"verify-v1"===Dr(o.attributes.name)||"verification"===Dr(o.attributes.name)||"shopify-checkout-api-token"===Dr(o.attributes.name)))return!0}}return!1}(ur,bi)||!tr&&ur.type===ko.Text&&!ur.isStyle&&!ur.textContent.replace(/^\s+|\s+$/gm,"").length?Tl:e1();const Kn=Object.assign(ur,{id:to});if(h.add(o,Kn),to===Tl)return null;ri&&ri(o);let gi=!on;if(Kn.type===ko.Element){gi=gi&&!Kn.needBlock,delete Kn.needBlock;const li=o.shadowRoot;li&&_m(li)&&(Kn.isShadowHost=!0)}if((Kn.type===ko.Document||Kn.type===ko.Element)&&gi){bi.headWhitespace&&Kn.type===ko.Element&&"head"===Kn.tagName&&(tr=!1);const li={doc:l,mirror:h,blockClass:T,blockSelector:V,maskAllText:ge,unblockSelector:re,maskTextClass:we,unmaskTextClass:Je,maskTextSelector:It,unmaskTextSelector:Rt,skipChild:on,inlineStylesheet:yn,maskInputOptions:gn,maskAttributeFn:An,maskTextFn:Zn,maskInputFn:qn,slimDOMOptions:bi,dataURLOptions:es,inlineImages:Mi,recordCanvas:Gi,preserveWhiteSpace:tr,onSerialize:ri,onIframeLoad:zn,iframeLoadTimeout:_i,onStylesheetLoad:Cs,stylesheetLoadTimeout:ui,keepIframeSrcFn:Ri};for(const Hi of Array.from(o.childNodes)){const hr=zc(Hi,li);hr&&Kn.childNodes.push(hr)}if(function Sy(o){return o.nodeType===o.ELEMENT_NODE}(o)&&o.shadowRoot)for(const Hi of Array.from(o.shadowRoot.childNodes)){const hr=zc(Hi,li);hr&&(_m(o.shadowRoot)&&(hr.isShadow=!0),Kn.childNodes.push(hr))}}return o.parentNode&&mm(o.parentNode)&&_m(o.parentNode)&&(Kn.isShadow=!0),Kn.type===ko.Element&&"iframe"===Kn.tagName&&function _M(o,r,l){const h=o.contentWindow;if(!h)return;let V,T=!1;try{V=h.document.readyState}catch{return}if("complete"!==V){const ge=bg(()=>{T||(r(),T=!0)},l);return void o.addEventListener("load",()=>{Z0(ge),T=!0,r()})}const re="about:blank";if(h.location.href!==re||o.src===re||""===o.src)return bg(r,0),o.addEventListener("load",r);o.addEventListener("load",r)}(o,()=>{const li=o.contentDocument;if(li&&zn){const Hi=zc(li,{doc:li,mirror:h,blockClass:T,blockSelector:V,unblockSelector:re,maskAllText:ge,maskTextClass:we,unmaskTextClass:Je,maskTextSelector:It,unmaskTextSelector:Rt,skipChild:!1,inlineStylesheet:yn,maskInputOptions:gn,maskAttributeFn:An,maskTextFn:Zn,maskInputFn:qn,slimDOMOptions:bi,dataURLOptions:es,inlineImages:Mi,recordCanvas:Gi,preserveWhiteSpace:tr,onSerialize:ri,onIframeLoad:zn,iframeLoadTimeout:_i,onStylesheetLoad:Cs,stylesheetLoadTimeout:ui,keepIframeSrcFn:Ri});Hi&&zn(o,Hi)}},_i),Kn.type===ko.Element&&"link"===Kn.tagName&&"string"==typeof Kn.attributes.rel&&("stylesheet"===Kn.attributes.rel||"preload"===Kn.attributes.rel&&"string"==typeof Kn.attributes.href&&"css"===vg(Kn.attributes.href))&&function Uy(o,r,l){let T,h=!1;try{T=o.sheet}catch{return}if(T)return;const V=bg(()=>{h||(r(),h=!0)},l);o.addEventListener("load",()=>{Z0(V),h=!0,r()})}(o,()=>{if(Cs){const li=zc(o,{doc:l,mirror:h,blockClass:T,blockSelector:V,unblockSelector:re,maskAllText:ge,maskTextClass:we,unmaskTextClass:Je,maskTextSelector:It,unmaskTextSelector:Rt,skipChild:!1,inlineStylesheet:yn,maskInputOptions:gn,maskAttributeFn:An,maskTextFn:Zn,maskInputFn:qn,slimDOMOptions:bi,dataURLOptions:es,inlineImages:Mi,recordCanvas:Gi,preserveWhiteSpace:tr,onSerialize:ri,onIframeLoad:zn,iframeLoadTimeout:_i,onStylesheetLoad:Cs,stylesheetLoadTimeout:ui,keepIframeSrcFn:Ri});li&&Cs(o,li)}},ui),Kn}function Tu(o){let r,l=o[0],h=1;for(;h<o.length;){const T=o[h],V=o[h+1];if(h+=2,("optionalAccess"===T||"optionalCall"===T)&&null==l)return;"access"===T||"optionalAccess"===T?(r=l,l=V(l)):("call"===T||"optionalCall"===T)&&(l=V((...re)=>l.call(r,...re)),r=void 0)}return l}function Ba(o,r,l=document){const h={capture:!0,passive:!0};return l.addEventListener(o,r,h),()=>l.removeEventListener(o,r,h)}const $f="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let bm={map:{},getId:()=>(console.error($f),-1),getNode:()=>(console.error($f),null),removeNodeFromMap(){console.error($f)},has:()=>(console.error($f),!1),reset(){console.error($f)}};function Th(o,r,l={}){let h=null,T=0;return function(...V){const re=Date.now();!T&&!1===l.leading&&(T=re);const ge=r-(re-T),we=this;ge<=0||ge>r?(h&&(function CM(...o){Mg("clearTimeout")(...o)}(h),h=null),T=re,o.apply(we,V)):!h&&!1!==l.trailing&&(h=Tg(()=>{T=!1===l.leading?0:Date.now(),h=null,o.apply(we,V)},ge))}}function $y(o,r,l,h,T=window){const V=T.Object.getOwnPropertyDescriptor(o,r);return T.Object.defineProperty(o,r,h?l:{set(re){Tg(()=>{l.set.call(this,re)},0),V&&V.set&&V.set.call(this,re)}}),()=>$y(o,r,V||{},!0)}function Vy(o,r,l){try{if(!(r in o))return()=>{};const h=o[r],T=l(h);return"function"==typeof T&&(T.prototype=T.prototype||{},Object.defineProperties(T,{__rrweb_original__:{enumerable:!1,value:h}})),o[r]=T,()=>{o[r]=h}}catch{return()=>{}}}typeof window<"u"&&window.Proxy&&window.Reflect&&(bm=new Proxy(bm,{get:(o,r,l)=>("map"===r&&console.error($f),Reflect.get(o,r,l))}));let o1=Date.now;function Gy(o){const r=o.document;return{left:r.scrollingElement?r.scrollingElement.scrollLeft:void 0!==o.pageXOffset?o.pageXOffset:Tu([r,"optionalAccess",l=>l.documentElement,"access",l=>l.scrollLeft])||Tu([r,"optionalAccess",l=>l.body,"optionalAccess",l=>l.parentElement,"optionalAccess",l=>l.scrollLeft])||Tu([r,"optionalAccess",l=>l.body,"optionalAccess",l=>l.scrollLeft])||0,top:r.scrollingElement?r.scrollingElement.scrollTop:void 0!==o.pageYOffset?o.pageYOffset:Tu([r,"optionalAccess",l=>l.documentElement,"access",l=>l.scrollTop])||Tu([r,"optionalAccess",l=>l.body,"optionalAccess",l=>l.parentElement,"optionalAccess",l=>l.scrollTop])||Tu([r,"optionalAccess",l=>l.body,"optionalAccess",l=>l.scrollTop])||0}}function Wy(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function bM(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function zy(o){return o?o.nodeType===o.ELEMENT_NODE?o:o.parentElement:null}function Gl(o,r,l,h,T){if(!o)return!1;const V=zy(o);if(!V)return!1;const re=jf(r,l);if(!T){const Je=h&&V.matches(h);return re(V)&&!Je}const ge=Wc(V,re);let we=-1;return!(ge<0)&&(h&&(we=Wc(V,jf(null,h))),ge>-1&&we<0||ge<we)}function a1(o,r){return r.getId(o)===Tl}function Ky(o,r){if(mm(o))return!1;const l=r.getId(o);return!r.has(l)||(!o.parentNode||o.parentNode.nodeType!==o.DOCUMENT_NODE)&&(!o.parentNode||Ky(o.parentNode,r))}function ym(o){return!!o.changedTouches}function Eg(o,r){return!("IFRAME"!==o.nodeName||!r.getMeta(o))}function Cm(o,r){return!("LINK"!==o.nodeName||o.nodeType!==o.ELEMENT_NODE||!o.getAttribute||"stylesheet"!==o.getAttribute("rel")||!r.getMeta(o))}function Cg(o){return!!Tu([o,"optionalAccess",r=>r.shadowRoot])}/[1-9][0-9]{12}/.test(Date.now().toString())||(o1=()=>(new Date).getTime());class Mm{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(r){return function _y(o,r){return o??r()}(this.styleIDMap.get(r),()=>-1)}has(r){return this.styleIDMap.has(r)}add(r,l){if(this.has(r))return this.getId(r);let h;return h=void 0===l?this.id++:l,this.styleIDMap.set(r,h),this.idStyleMap.set(h,r),h}getStyle(r){return this.idStyleMap.get(r)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function l1(o){let r=null;return Tu([o,"access",l=>l.getRootNode,"optionalCall",l=>l(),"optionalAccess",l=>l.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&o.getRootNode().host&&(r=o.getRootNode().host),r}function c1(o){const r=o.ownerDocument;return!!r&&(r.contains(o)||function Tm(o){const r=o.ownerDocument;if(!r)return!1;const l=function EM(o){let l,r=o;for(;l=l1(r);)r=l;return r}(o);return r.contains(l)}(o))}const d1={};function Mg(o){const r=d1[o];if(r)return r;const l=window.document;let h=window[o];if(l&&"function"==typeof l.createElement)try{const T=l.createElement("iframe");T.hidden=!0,l.head.appendChild(T);const V=T.contentWindow;V&&V[o]&&(h=V[o]),l.head.removeChild(T)}catch{}return d1[o]=h.bind(window)}function Tg(...o){return Mg("setTimeout")(...o)}var xs=(o=>(o[o.DomContentLoaded=0]="DomContentLoaded",o[o.Load=1]="Load",o[o.FullSnapshot=2]="FullSnapshot",o[o.IncrementalSnapshot=3]="IncrementalSnapshot",o[o.Meta=4]="Meta",o[o.Custom=5]="Custom",o[o.Plugin=6]="Plugin",o))(xs||{}),as=(o=>(o[o.Mutation=0]="Mutation",o[o.MouseMove=1]="MouseMove",o[o.MouseInteraction=2]="MouseInteraction",o[o.Scroll=3]="Scroll",o[o.ViewportResize=4]="ViewportResize",o[o.Input=5]="Input",o[o.TouchMove=6]="TouchMove",o[o.MediaInteraction=7]="MediaInteraction",o[o.StyleSheetRule=8]="StyleSheetRule",o[o.CanvasMutation=9]="CanvasMutation",o[o.Font=10]="Font",o[o.Log=11]="Log",o[o.Drag=12]="Drag",o[o.StyleDeclaration=13]="StyleDeclaration",o[o.Selection=14]="Selection",o[o.AdoptedStyleSheet=15]="AdoptedStyleSheet",o[o.CustomElement=16]="CustomElement",o))(as||{}),Ua=(o=>(o[o.MouseUp=0]="MouseUp",o[o.MouseDown=1]="MouseDown",o[o.Click=2]="Click",o[o.ContextMenu=3]="ContextMenu",o[o.DblClick=4]="DblClick",o[o.Focus=5]="Focus",o[o.Blur=6]="Blur",o[o.TouchStart=7]="TouchStart",o[o.TouchMove_Departed=8]="TouchMove_Departed",o[o.TouchEnd=9]="TouchEnd",o[o.TouchCancel=10]="TouchCancel",o))(Ua||{}),Pd=(o=>(o[o.Mouse=0]="Mouse",o[o.Pen=1]="Pen",o[o.Touch=2]="Touch",o))(Pd||{});function MM(o){let r,l=o[0],h=1;for(;h<o.length;){const T=o[h],V=o[h+1];if(h+=2,("optionalAccess"===T||"optionalCall"===T)&&null==l)return;"access"===T||"optionalAccess"===T?(r=l,l=V(l)):("call"===T||"optionalCall"===T)&&(l=V((...re)=>l.call(r,...re)),r=void 0)}return l}function Dm(o){return"__ln"in o}class Xy{constructor(){this.length=0,this.head=null,this.tail=null}get(r){if(r>=this.length)throw new Error("Position outside of list range");let l=this.head;for(let h=0;h<r;h++)l=MM([l,"optionalAccess",T=>T.next])||null;return l}addNode(r){const l={value:r,previous:null,next:null};if(r.__ln=l,r.previousSibling&&Dm(r.previousSibling)){const h=r.previousSibling.__ln.next;l.next=h,l.previous=r.previousSibling.__ln,r.previousSibling.__ln.next=l,h&&(h.previous=l)}else if(r.nextSibling&&Dm(r.nextSibling)&&r.nextSibling.__ln.previous){const h=r.nextSibling.__ln.previous;l.previous=h,l.next=r.nextSibling.__ln,r.nextSibling.__ln.previous=l,h&&(h.next=l)}else this.head&&(this.head.previous=l),l.next=this.head,this.head=l;null===l.next&&(this.tail=l),this.length++}removeNode(r){const l=r.__ln;this.head&&(l.previous?(l.previous.next=l.next,l.next?l.next.previous=l.previous:this.tail=l.previous):(this.head=l.next,this.head?this.head.previous=null:this.tail=null),r.__ln&&delete r.__ln,this.length--)}}const u1=(o,r)=>`${o}@${r}`;class Yy{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=r=>{r.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const r=[],l=new Set,h=new Xy,T=we=>{let Je=we,It=Tl;for(;It===Tl;)Je=Je&&Je.nextSibling,It=Je&&this.mirror.getId(Je);return It},V=we=>{if(!we.parentNode||!c1(we))return;const Je=mm(we.parentNode)?this.mirror.getId(l1(we)):this.mirror.getId(we.parentNode),It=T(we);if(-1===Je||-1===It)return h.addNode(we);const Rt=zc(we,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:on=>{Eg(on,this.mirror)&&!Gl(on,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(on),Cm(on,this.mirror)&&this.stylesheetManager.trackLinkElement(on),Cg(we)&&this.shadowDomManager.addShadowRoot(we.shadowRoot,this.doc)},onIframeLoad:(on,yn)=>{Gl(on,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(on,yn),on.contentWindow&&this.canvasManager.addWindow(on.contentWindow),this.shadowDomManager.observeAttachShadow(on))},onStylesheetLoad:(on,yn)=>{this.stylesheetManager.attachLinkElement(on,yn)}});Rt&&(r.push({parentId:Je,nextId:It,node:Rt}),l.add(Rt.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const we of this.movedSet)f1(this.removes,we,this.mirror)&&!this.movedSet.has(we.parentNode)||V(we);for(const we of this.addedSet)!Im(this.droppedSet,we)&&!f1(this.removes,we,this.mirror)||Im(this.movedSet,we)?V(we):this.droppedSet.add(we);let re=null;for(;h.length;){let we=null;if(re){const Je=this.mirror.getId(re.value.parentNode),It=T(re.value);-1!==Je&&-1!==It&&(we=re)}if(!we){let Je=h.tail;for(;Je;){const It=Je;if(Je=Je.previous,It){const Rt=this.mirror.getId(It.value.parentNode);if(-1===T(It.value))continue;if(-1!==Rt){we=It;break}{const yn=It.value;if(yn.parentNode&&yn.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&-1!==this.mirror.getId(yn.parentNode.host)){we=It;break}}}}}if(!we){for(;h.head;)h.removeNode(h.head.value);break}re=we.previous,h.removeNode(we.value),V(we.value)}const ge={texts:this.texts.map(we=>({id:this.mirror.getId(we.node),value:we.value})).filter(we=>!l.has(we.id)).filter(we=>this.mirror.has(we.id)),attributes:this.attributes.map(we=>{const{attributes:Je}=we;if("string"==typeof Je.style){const It=JSON.stringify(we.styleDiff),Rt=JSON.stringify(we._unchangedStyles);It.length<Je.style.length&&(It+Rt).split("var(").length===Je.style.split("var(").length&&(Je.style=we.styleDiff)}return{id:this.mirror.getId(we.node),attributes:Je}}).filter(we=>!l.has(we.id)).filter(we=>this.mirror.has(we.id)),removes:this.removes,adds:r};!ge.texts.length&&!ge.attributes.length&&!ge.removes.length&&!ge.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(ge))},this.processMutation=r=>{if(!a1(r.target,this.mirror))switch(r.type){case"characterData":{const l=r.target.textContent;!Gl(r.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&l!==r.oldValue&&this.texts.push({value:Mh(r.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&l?this.maskTextFn?this.maskTextFn(l,zy(r.target)):l.replace(/[\S]/g,"*"):l,node:r.target});break}case"attributes":{const l=r.target;let h=r.attributeName,T=r.target.getAttribute(h);if("value"===h){const re=gg(l),ge=l.tagName;T=yh(l,ge,re);const we=_g({maskInputOptions:this.maskInputOptions,tagName:ge,type:re});T=ll({isMasked:Mh(r.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,we),element:l,value:T,maskInputFn:this.maskInputFn})}if(Gl(r.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||T===r.oldValue)return;let V=this.attributeMap.get(r.target);if("IFRAME"===l.tagName&&"src"===h&&!this.keepIframeSrcFn(T)){if(l.contentDocument)return;h="rr_src"}if(V||(V={node:r.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(V),this.attributeMap.set(r.target,V)),"type"===h&&"INPUT"===l.tagName&&"password"===(r.oldValue||"").toLowerCase()&&l.setAttribute("data-rr-is-password","true"),!Ny(l.tagName,h)&&(V.attributes[h]=Ly(this.doc,Cu(l.tagName),Cu(h),T,l,this.maskAttributeFn),"style"===h)){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const re=this.unattachedDoc.createElement("span");r.oldValue&&re.setAttribute("style",r.oldValue);for(const ge of Array.from(l.style)){const we=l.style.getPropertyValue(ge),Je=l.style.getPropertyPriority(ge);we!==re.style.getPropertyValue(ge)||Je!==re.style.getPropertyPriority(ge)?V.styleDiff[ge]=""===Je?we:[we,Je]:V._unchangedStyles[ge]=[we,Je]}for(const ge of Array.from(re.style))""===l.style.getPropertyValue(ge)&&(V.styleDiff[ge]=!1)}break}case"childList":if(Gl(r.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;r.addedNodes.forEach(l=>this.genAdds(l,r.target)),r.removedNodes.forEach(l=>{const h=this.mirror.getId(l),T=mm(r.target)?this.mirror.getId(r.target.host):this.mirror.getId(r.target);Gl(r.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||a1(l,this.mirror)||!function yM(o,r){return-1!==r.getId(o)}(l,this.mirror)||(this.addedSet.has(l)?(h1(this.addedSet,l),this.droppedSet.add(l)):this.addedSet.has(r.target)&&-1===h||Ky(r.target,this.mirror)||(this.movedSet.has(l)&&this.movedMap[u1(h,T)]?h1(this.movedSet,l):this.removes.push({parentId:T,id:h,isShadow:!(!mm(r.target)||!_m(r.target))||void 0})),this.mapRemoves.push(l))})}},this.genAdds=(r,l)=>{if(!this.processedNodeManager.inOtherBuffer(r,this)&&!this.addedSet.has(r)&&!this.movedSet.has(r)){if(this.mirror.hasNode(r)){if(a1(r,this.mirror))return;this.movedSet.add(r);let h=null;l&&this.mirror.hasNode(l)&&(h=this.mirror.getId(l)),h&&-1!==h&&(this.movedMap[u1(this.mirror.getId(r),h)]=!0)}else this.addedSet.add(r),this.droppedSet.delete(r);Gl(r,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(r.childNodes.forEach(h=>this.genAdds(h)),Cg(r)&&r.shadowRoot.childNodes.forEach(h=>{this.processedNodeManager.add(h,this),this.genAdds(h,r)}))}}}init(r){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(l=>{this[l]=r[l]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function h1(o,r){o.delete(r),r.childNodes.forEach(l=>h1(o,l))}function f1(o,r,l){return 0!==o.length&&Dg(o,r,l)}function Dg(o,r,l){const{parentNode:h}=r;if(!h)return!1;const T=l.getId(h);return!!o.some(V=>V.id===T)||Dg(o,h,l)}function Im(o,r){return 0!==o.size&&Qy(o,r)}function Qy(o,r){const{parentNode:l}=r;return!!l&&(!!o.has(l)||Qy(o,l))}let Sm;const Gs=o=>Sm?(...l)=>{try{return o(...l)}catch(h){if(Sm&&!0===Sm(h))return()=>{};throw h}}:o;function bc(o){let r,l=o[0],h=1;for(;h<o.length;){const T=o[h],V=o[h+1];if(h+=2,("optionalAccess"===T||"optionalCall"===T)&&null==l)return;"access"===T||"optionalAccess"===T?(r=l,l=V(l)):("call"===T||"optionalCall"===T)&&(l=V((...re)=>l.call(r,...re)),r=void 0)}return l}const Du=[];function Fd(o){try{if("composedPath"in o){const r=o.composedPath();if(r.length)return r[0]}else if("path"in o&&o.path.length)return o.path[0]}catch{}return o&&o.target}function p1(o,r){const l=new Yy;Du.push(l),l.init(o);let h=window.MutationObserver||window.__rrMutationObserver;const T=bc([window,"optionalAccess",re=>re.Zone,"optionalAccess",re=>re.__symbol__,"optionalCall",re=>re("MutationObserver")]);T&&window[T]&&(h=window[T]);const V=new h(Gs(re=>{o.onMutation&&!1===o.onMutation(re)||l.processMutations.bind(l)(re)}));return V.observe(r,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),V}function Vf({scrollCb:o,doc:r,mirror:l,blockClass:h,blockSelector:T,unblockSelector:V,sampling:re}){return Ba("scroll",Gs(Th(Gs(we=>{const Je=Fd(we);if(!Je||Gl(Je,h,T,V,!0))return;const It=l.getId(Je);if(Je===r&&r.defaultView){const Rt=Gy(r.defaultView);o({id:It,x:Rt.left,y:Rt.top})}else o({id:It,x:Je.scrollLeft,y:Je.scrollTop})}),re.scroll||100)),r)}const t2=["INPUT","TEXTAREA","SELECT"],Zy=new WeakMap;function qy({inputCb:o,doc:r,mirror:l,blockClass:h,blockSelector:T,unblockSelector:V,ignoreClass:re,ignoreSelector:ge,maskInputOptions:we,maskInputFn:Je,sampling:It,userTriggeredOnInput:Rt,maskTextClass:on,unmaskTextClass:yn,maskTextSelector:gn,unmaskTextSelector:An}){function Zn(zn){let _i=Fd(zn);const Cs=zn.isTrusted,ui=_i&&Q0(_i.tagName);if("OPTION"===ui&&(_i=_i.parentElement),!_i||!ui||t2.indexOf(ui)<0||Gl(_i,h,T,V,!0))return;const Ri=_i;if(Ri.classList.contains(re)||ge&&Ri.matches(ge))return;const ts=gg(_i);let tr=yh(Ri,ui,ts),ur=!1;const to=_g({maskInputOptions:we,tagName:ui,type:ts}),Kn=Mh(_i,on,gn,yn,An,to);("radio"===ts||"checkbox"===ts)&&(ur=_i.checked),tr=ll({isMasked:Kn,element:_i,value:tr,maskInputFn:Je}),qn(_i,Rt?{text:tr,isChecked:ur,userTriggered:Cs}:{text:tr,isChecked:ur});const gi=_i.name;"radio"===ts&&gi&&ur&&r.querySelectorAll(`input[type="radio"][name="${gi}"]`).forEach(li=>{if(li!==_i){const Hi=ll({isMasked:Kn,element:li,value:yh(li,ui,ts),maskInputFn:Je});qn(li,Rt?{text:Hi,isChecked:!ur,userTriggered:!1}:{text:Hi,isChecked:!ur})}})}function qn(zn,_i){const Cs=Zy.get(zn);if(!Cs||Cs.text!==_i.text||Cs.isChecked!==_i.isChecked){Zy.set(zn,_i);const ui=l.getId(zn);Gs(o)({..._i,id:ui})}}const es=("last"===It.input?["change"]:["input","change"]).map(zn=>Ba(zn,Gs(Zn),r)),Mi=r.defaultView;if(!Mi)return()=>{es.forEach(zn=>zn())};const Gi=Mi.Object.getOwnPropertyDescriptor(Mi.HTMLInputElement.prototype,"value");return Gi&&Gi.set&&es.push(...[[Mi.HTMLInputElement.prototype,"value"],[Mi.HTMLInputElement.prototype,"checked"],[Mi.HTMLSelectElement.prototype,"value"],[Mi.HTMLTextAreaElement.prototype,"value"],[Mi.HTMLSelectElement.prototype,"selectedIndex"],[Mi.HTMLOptionElement.prototype,"selected"]].map(zn=>$y(zn[0],zn[1],{set(){Gs(Zn)({target:this,isTrusted:!1})}},!1,Mi))),Gs(()=>{es.forEach(zn=>zn())})}function Gf(o){return function l(h,T){if(Sg("CSSGroupingRule")&&h.parentRule instanceof CSSGroupingRule||Sg("CSSMediaRule")&&h.parentRule instanceof CSSMediaRule||Sg("CSSSupportsRule")&&h.parentRule instanceof CSSSupportsRule||Sg("CSSConditionRule")&&h.parentRule instanceof CSSConditionRule){const re=Array.from(h.parentRule.cssRules).indexOf(h);T.unshift(re)}else if(h.parentStyleSheet){const re=Array.from(h.parentStyleSheet.cssRules).indexOf(h);T.unshift(re)}return T}(o,[])}function Iu(o,r,l){let h,T;return o?(o.ownerNode?h=r.getId(o.ownerNode):T=l.getId(o),{styleId:T,id:h}):{}}function tE({mirror:o,stylesheetManager:r},l){let h=null;h=o.getId("#document"===l.nodeName?l:l.host);const T=bc("#document"===l.nodeName?[l,"access",re=>re.defaultView,"optionalAccess",re=>re.Document]:[l,"access",re=>re.ownerDocument,"optionalAccess",re=>re.defaultView,"optionalAccess",re=>re.ShadowRoot]),V=bc([T,"optionalAccess",re=>re.prototype])?Object.getOwnPropertyDescriptor(bc([T,"optionalAccess",re=>re.prototype]),"adoptedStyleSheets"):void 0;return null!==h&&-1!==h&&T&&V?(Object.defineProperty(l,"adoptedStyleSheets",{configurable:V.configurable,enumerable:V.enumerable,get(){return bc([V,"access",re=>re.get,"optionalAccess",re=>re.call,"call",re=>re(this)])},set(re){const ge=bc([V,"access",we=>we.set,"optionalAccess",we=>we.call,"call",we=>we(this,re)]);if(null!==h&&-1!==h)try{r.adoptStyleSheets(re,h)}catch{}return ge}}),Gs(()=>{Object.defineProperty(l,"adoptedStyleSheets",{configurable:V.configurable,enumerable:V.enumerable,get:V.get,set:V.set})})):()=>{}}function wM(o,r={}){const l=o.doc.defaultView;if(!l)return()=>{};let h;o.recordDOM&&(h=p1(o,o.doc));const T=function Jy({mousemoveCb:o,sampling:r,doc:l,mirror:h}){if(!1===r.mousemove)return()=>{};const T="number"==typeof r.mousemove?r.mousemove:50,V="number"==typeof r.mousemoveCallback?r.mousemoveCallback:500;let ge,re=[];const we=Th(Gs(Rt=>{const on=Date.now()-ge;o(re.map(yn=>(yn.timeOffset-=on,yn)),Rt),re=[],ge=null}),V),Je=Gs(Th(Gs(Rt=>{const on=Fd(Rt),{clientX:yn,clientY:gn}=ym(Rt)?Rt.changedTouches[0]:Rt;ge||(ge=o1()),re.push({x:yn,y:gn,id:h.getId(on),timeOffset:o1()-ge}),we(typeof DragEvent<"u"&&Rt instanceof DragEvent?as.Drag:Rt instanceof MouseEvent?as.MouseMove:as.TouchMove)}),T,{trailing:!1})),It=[Ba("mousemove",Je,l),Ba("touchmove",Je,l),Ba("drag",Je,l)];return Gs(()=>{It.forEach(Rt=>Rt())})}(o),V=function IM({mouseInteractionCb:o,doc:r,mirror:l,blockClass:h,blockSelector:T,unblockSelector:V,sampling:re}){if(!1===re.mouseInteraction)return()=>{};const ge=!0===re.mouseInteraction||void 0===re.mouseInteraction?{}:re.mouseInteraction,we=[];let Je=null;return Object.keys(Ua).filter(Rt=>Number.isNaN(Number(Rt))&&!Rt.endsWith("_Departed")&&!1!==ge[Rt]).forEach(Rt=>{let on=Cu(Rt);const yn=(Rt=>on=>{const yn=Fd(on);if(Gl(yn,h,T,V,!0))return;let gn=null,An=Rt;if("pointerType"in on){switch(on.pointerType){case"mouse":gn=Pd.Mouse;break;case"touch":gn=Pd.Touch;break;case"pen":gn=Pd.Pen}gn===Pd.Touch&&(Ua[Rt]===Ua.MouseDown?An="TouchStart":Ua[Rt]===Ua.MouseUp&&(An="TouchEnd"))}else ym(on)&&(gn=Pd.Touch);null!==gn?(Je=gn,(An.startsWith("Touch")&&gn===Pd.Touch||An.startsWith("Mouse")&&gn===Pd.Mouse)&&(gn=null)):Ua[Rt]===Ua.Click&&(gn=Je,Je=null);const Zn=ym(on)?on.changedTouches[0]:on;if(!Zn)return;const qn=l.getId(yn),{clientX:bi,clientY:es}=Zn;Gs(o)({type:Ua[An],id:qn,x:bi,y:es,...null!==gn&&{pointerType:gn}})})(Rt);if(window.PointerEvent)switch(Ua[Rt]){case Ua.MouseDown:case Ua.MouseUp:on=on.replace("mouse","pointer");break;case Ua.TouchStart:case Ua.TouchEnd:return}we.push(Ba(on,yn,r))}),Gs(()=>{we.forEach(Rt=>Rt())})}(o),re=Vf(o),ge=function Ig({viewportResizeCb:o},{win:r}){let l=-1,h=-1;return Ba("resize",Gs(Th(Gs(()=>{const V=Wy(),re=bM();(l!==V||h!==re)&&(o({width:Number(re),height:Number(V)}),l=V,h=re)}),200)),r)}(o,{win:l}),we=qy(o),Je=function iE({mediaInteractionCb:o,blockClass:r,blockSelector:l,unblockSelector:h,mirror:T,sampling:V,doc:re}){const ge=Gs(Je=>Th(Gs(It=>{const Rt=Fd(It);if(!Rt||Gl(Rt,r,l,h,!0))return;const{currentTime:on,volume:yn,muted:gn,playbackRate:An}=Rt;o({type:Je,id:T.getId(Rt),currentTime:on,volume:yn,muted:gn,playbackRate:An})}),V.media||500)),we=[Ba("play",ge(0),re),Ba("pause",ge(1),re),Ba("seeked",ge(2),re),Ba("volumechange",ge(3),re),Ba("ratechange",ge(4),re)];return Gs(()=>{we.forEach(Je=>Je())})}(o);let It=()=>{},Rt=()=>{},on=()=>{},yn=()=>{};o.recordDOM&&(It=function eE({styleSheetRuleCb:o,mirror:r,stylesheetManager:l},{win:h}){if(!h.CSSStyleSheet||!h.CSSStyleSheet.prototype)return()=>{};const T=h.CSSStyleSheet.prototype.insertRule;h.CSSStyleSheet.prototype.insertRule=new Proxy(T,{apply:Gs((It,Rt,on)=>{const[yn,gn]=on,{id:An,styleId:Zn}=Iu(Rt,r,l.styleMirror);return(An&&-1!==An||Zn&&-1!==Zn)&&o({id:An,styleId:Zn,adds:[{rule:yn,index:gn}]}),It.apply(Rt,on)})});const V=h.CSSStyleSheet.prototype.deleteRule;let re,ge;h.CSSStyleSheet.prototype.deleteRule=new Proxy(V,{apply:Gs((It,Rt,on)=>{const[yn]=on,{id:gn,styleId:An}=Iu(Rt,r,l.styleMirror);return(gn&&-1!==gn||An&&-1!==An)&&o({id:gn,styleId:An,removes:[{index:yn}]}),It.apply(Rt,on)})}),h.CSSStyleSheet.prototype.replace&&(re=h.CSSStyleSheet.prototype.replace,h.CSSStyleSheet.prototype.replace=new Proxy(re,{apply:Gs((It,Rt,on)=>{const[yn]=on,{id:gn,styleId:An}=Iu(Rt,r,l.styleMirror);return(gn&&-1!==gn||An&&-1!==An)&&o({id:gn,styleId:An,replace:yn}),It.apply(Rt,on)})})),h.CSSStyleSheet.prototype.replaceSync&&(ge=h.CSSStyleSheet.prototype.replaceSync,h.CSSStyleSheet.prototype.replaceSync=new Proxy(ge,{apply:Gs((It,Rt,on)=>{const[yn]=on,{id:gn,styleId:An}=Iu(Rt,r,l.styleMirror);return(gn&&-1!==gn||An&&-1!==An)&&o({id:gn,styleId:An,replaceSync:yn}),It.apply(Rt,on)})}));const we={};wg("CSSGroupingRule")?we.CSSGroupingRule=h.CSSGroupingRule:(wg("CSSMediaRule")&&(we.CSSMediaRule=h.CSSMediaRule),wg("CSSConditionRule")&&(we.CSSConditionRule=h.CSSConditionRule),wg("CSSSupportsRule")&&(we.CSSSupportsRule=h.CSSSupportsRule));const Je={};return Object.entries(we).forEach(([It,Rt])=>{Je[It]={insertRule:Rt.prototype.insertRule,deleteRule:Rt.prototype.deleteRule},Rt.prototype.insertRule=new Proxy(Je[It].insertRule,{apply:Gs((on,yn,gn)=>{const[An,Zn]=gn,{id:qn,styleId:bi}=Iu(yn.parentStyleSheet,r,l.styleMirror);return(qn&&-1!==qn||bi&&-1!==bi)&&o({id:qn,styleId:bi,adds:[{rule:An,index:[...Gf(yn),Zn||0]}]}),on.apply(yn,gn)})}),Rt.prototype.deleteRule=new Proxy(Je[It].deleteRule,{apply:Gs((on,yn,gn)=>{const[An]=gn,{id:Zn,styleId:qn}=Iu(yn.parentStyleSheet,r,l.styleMirror);return(Zn&&-1!==Zn||qn&&-1!==qn)&&o({id:Zn,styleId:qn,removes:[{index:[...Gf(yn),An]}]}),on.apply(yn,gn)})})}),Gs(()=>{h.CSSStyleSheet.prototype.insertRule=T,h.CSSStyleSheet.prototype.deleteRule=V,re&&(h.CSSStyleSheet.prototype.replace=re),ge&&(h.CSSStyleSheet.prototype.replaceSync=ge),Object.entries(we).forEach(([It,Rt])=>{Rt.prototype.insertRule=Je[It].insertRule,Rt.prototype.deleteRule=Je[It].deleteRule})})}(o,{win:l}),Rt=tE(o,o.doc),on=function nE({styleDeclarationCb:o,mirror:r,ignoreCSSAttributes:l,stylesheetManager:h},{win:T}){const V=T.CSSStyleDeclaration.prototype.setProperty;T.CSSStyleDeclaration.prototype.setProperty=new Proxy(V,{apply:Gs((ge,we,Je)=>{const[It,Rt,on]=Je;if(l.has(It))return V.apply(we,[It,Rt,on]);const{id:yn,styleId:gn}=Iu(bc([we,"access",An=>An.parentRule,"optionalAccess",An=>An.parentStyleSheet]),r,h.styleMirror);return(yn&&-1!==yn||gn&&-1!==gn)&&o({id:yn,styleId:gn,set:{property:It,value:Rt,priority:on},index:Gf(we.parentRule)}),ge.apply(we,Je)})});const re=T.CSSStyleDeclaration.prototype.removeProperty;return T.CSSStyleDeclaration.prototype.removeProperty=new Proxy(re,{apply:Gs((ge,we,Je)=>{const[It]=Je;if(l.has(It))return re.apply(we,[It]);const{id:Rt,styleId:on}=Iu(bc([we,"access",yn=>yn.parentRule,"optionalAccess",yn=>yn.parentStyleSheet]),r,h.styleMirror);return(Rt&&-1!==Rt||on&&-1!==on)&&o({id:Rt,styleId:on,remove:{property:It},index:Gf(we.parentRule)}),ge.apply(we,Je)})}),Gs(()=>{T.CSSStyleDeclaration.prototype.setProperty=V,T.CSSStyleDeclaration.prototype.removeProperty=re})}(o,{win:l}),o.collectFonts&&(yn=function sE({fontCb:o,doc:r}){const l=r.defaultView;if(!l)return()=>{};const h=[],T=new WeakMap,V=l.FontFace;l.FontFace=function(we,Je,It){const Rt=new V(we,Je,It);return T.set(Rt,{family:we,buffer:"string"!=typeof Je,descriptors:It,fontSource:"string"==typeof Je?Je:JSON.stringify(Array.from(new Uint8Array(Je)))}),Rt};const re=Vy(r.fonts,"add",function(ge){return function(we){return Tg(Gs(()=>{const Je=T.get(we);Je&&(o(Je),T.delete(we))}),0),ge.apply(this,[we])}});return h.push(()=>{l.FontFace=V}),h.push(re),Gs(()=>{h.forEach(ge=>ge())})}(o)));const gn=function m1(o){const{doc:r,mirror:l,blockClass:h,blockSelector:T,unblockSelector:V,selectionCb:re}=o;let ge=!0;const we=Gs(()=>{const Je=r.getSelection();if(!Je||ge&&bc([Je,"optionalAccess",on=>on.isCollapsed]))return;ge=Je.isCollapsed||!1;const It=[],Rt=Je.rangeCount||0;for(let on=0;on<Rt;on++){const yn=Je.getRangeAt(on),{startContainer:gn,startOffset:An,endContainer:Zn,endOffset:qn}=yn;Gl(gn,h,T,V,!0)||Gl(Zn,h,T,V,!0)||It.push({start:l.getId(gn),startOffset:An,end:l.getId(Zn),endOffset:qn})}re({ranges:It})});return we(),Ba("selectionchange",we)}(o),An=function SM({doc:o,customElementCb:r}){const l=o.defaultView;return l&&l.customElements?Vy(l.customElements,"define",function(T){return function(V,re,ge){try{r({define:{name:V}})}catch{}return T.apply(this,[V,re,ge])}}):()=>{}}(o),Zn=[];for(const qn of o.plugins)Zn.push(qn.observer(qn.callback,l,qn.options));return Gs(()=>{Du.forEach(qn=>qn.reset()),bc([h,"optionalAccess",qn=>qn.disconnect,"call",qn=>qn()]),T(),V(),re(),ge(),we(),Je(),It(),Rt(),on(),yn(),gn(),An(),Zn.forEach(qn=>qn())})}function Sg(o){return typeof window[o]<"u"}function wg(o){return!!(typeof window[o]<"u"&&window[o].prototype&&"insertRule"in window[o].prototype&&"deleteRule"in window[o].prototype)}class _1{constructor(r){this.generateIdFn=r,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(r,l,h,T){const V=h||this.getIdToRemoteIdMap(r),re=T||this.getRemoteIdToIdMap(r);let ge=V.get(l);return ge||(ge=this.generateIdFn(),V.set(l,ge),re.set(ge,l)),ge}getIds(r,l){const h=this.getIdToRemoteIdMap(r),T=this.getRemoteIdToIdMap(r);return l.map(V=>this.getId(r,V,h,T))}getRemoteId(r,l,h){const T=h||this.getRemoteIdToIdMap(r);return"number"!=typeof l?l:T.get(l)||-1}getRemoteIds(r,l){const h=this.getRemoteIdToIdMap(r);return l.map(T=>this.getRemoteId(r,T,h))}reset(r){if(!r)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(r),this.iframeRemoteIdToIdMap.delete(r)}getIdToRemoteIdMap(r){let l=this.iframeIdToRemoteIdMap.get(r);return l||(l=new Map,this.iframeIdToRemoteIdMap.set(r,l)),l}getRemoteIdToIdMap(r){let l=this.iframeRemoteIdToIdMap.get(r);return l||(l=new Map,this.iframeRemoteIdToIdMap.set(r,l)),l}}function rE(o){let r,l=o[0],h=1;for(;h<o.length;){const T=o[h],V=o[h+1];if(h+=2,("optionalAccess"===T||"optionalCall"===T)&&null==l)return;"access"===T||"optionalAccess"===T?(r=l,l=V(l)):("call"===T||"optionalCall"===T)&&(l=V((...re)=>l.call(r,...re)),r=void 0)}return l}class g1{constructor(){this.crossOriginIframeMirror=new _1(e1),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class xM{constructor(r){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new _1(e1),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=r.mutationCb,this.wrappedEmit=r.wrappedEmit,this.stylesheetManager=r.stylesheetManager,this.recordCrossOriginIframes=r.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new _1(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=r.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(r){this.iframes.set(r,!0),r.contentWindow&&this.crossOriginIframeMap.set(r.contentWindow,r)}addLoadListener(r){this.loadListener=r}attachIframe(r,l){this.mutationCb({adds:[{parentId:this.mirror.getId(r),nextId:null,node:l}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),rE([this,"access",h=>h.loadListener,"optionalCall",h=>h(r)]),r.contentDocument&&r.contentDocument.adoptedStyleSheets&&r.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.contentDocument.adoptedStyleSheets,this.mirror.getId(r.contentDocument))}handleMessage(r){const l=r;if("rrweb"!==l.data.type||l.origin!==l.data.origin||!r.source)return;const T=this.crossOriginIframeMap.get(r.source);if(!T)return;const V=this.transformCrossOriginEvent(T,l.data.event);V&&this.wrappedEmit(V,l.data.isCheckout)}transformCrossOriginEvent(r,l){switch(l.type){case xs.FullSnapshot:{this.crossOriginIframeMirror.reset(r),this.crossOriginIframeStyleMirror.reset(r),this.replaceIdOnNode(l.data.node,r);const h=l.data.node.id;return this.crossOriginIframeRootIdMap.set(r,h),this.patchRootIdOnNode(l.data.node,h),{timestamp:l.timestamp,type:xs.IncrementalSnapshot,data:{source:as.Mutation,adds:[{parentId:this.mirror.getId(r),nextId:null,node:l.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case xs.Meta:case xs.Load:case xs.DomContentLoaded:return!1;case xs.Plugin:return l;case xs.Custom:return this.replaceIds(l.data.payload,r,["id","parentId","previousId","nextId"]),l;case xs.IncrementalSnapshot:switch(l.data.source){case as.Mutation:return l.data.adds.forEach(h=>{this.replaceIds(h,r,["parentId","nextId","previousId"]),this.replaceIdOnNode(h.node,r);const T=this.crossOriginIframeRootIdMap.get(r);T&&this.patchRootIdOnNode(h.node,T)}),l.data.removes.forEach(h=>{this.replaceIds(h,r,["parentId","id"])}),l.data.attributes.forEach(h=>{this.replaceIds(h,r,["id"])}),l.data.texts.forEach(h=>{this.replaceIds(h,r,["id"])}),l;case as.Drag:case as.TouchMove:case as.MouseMove:return l.data.positions.forEach(h=>{this.replaceIds(h,r,["id"])}),l;case as.ViewportResize:return!1;case as.MediaInteraction:case as.MouseInteraction:case as.Scroll:case as.CanvasMutation:case as.Input:return this.replaceIds(l.data,r,["id"]),l;case as.StyleSheetRule:case as.StyleDeclaration:return this.replaceIds(l.data,r,["id"]),this.replaceStyleIds(l.data,r,["styleId"]),l;case as.Font:return l;case as.Selection:return l.data.ranges.forEach(h=>{this.replaceIds(h,r,["start","end"])}),l;case as.AdoptedStyleSheet:return this.replaceIds(l.data,r,["id"]),this.replaceStyleIds(l.data,r,["styleIds"]),rE([l,"access",h=>h.data,"access",h=>h.styles,"optionalAccess",h=>h.forEach,"call",h=>h(T=>{this.replaceStyleIds(T,r,["styleId"])})]),l}}return!1}replace(r,l,h,T){for(const V of T)!Array.isArray(l[V])&&"number"!=typeof l[V]||(l[V]=Array.isArray(l[V])?r.getIds(h,l[V]):r.getId(h,l[V]));return l}replaceIds(r,l,h){return this.replace(this.crossOriginIframeMirror,r,l,h)}replaceStyleIds(r,l,h){return this.replace(this.crossOriginIframeStyleMirror,r,l,h)}replaceIdOnNode(r,l){this.replaceIds(r,l,["id","rootId"]),"childNodes"in r&&r.childNodes.forEach(h=>{this.replaceIdOnNode(h,l)})}patchRootIdOnNode(r,l){r.type!==ko.Document&&!r.rootId&&(r.rootId=l),"childNodes"in r&&r.childNodes.forEach(h=>{this.patchRootIdOnNode(h,l)})}}class OM{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class AM{constructor(r){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=r.mutationCb,this.scrollCb=r.scrollCb,this.bypassOptions=r.bypassOptions,this.mirror=r.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(r,l){if(!_m(r)||this.shadowDoms.has(r))return;this.shadowDoms.add(r),this.bypassOptions.canvasManager.addShadowRoot(r);const h=p1({...this.bypassOptions,doc:l,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},r);this.restoreHandlers.push(()=>h.disconnect()),this.restoreHandlers.push(Vf({...this.bypassOptions,scrollCb:this.scrollCb,doc:r,mirror:this.mirror})),Tg(()=>{r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r.host)),this.restoreHandlers.push(tE({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},r))},0)}observeAttachShadow(r){!r.contentWindow||!r.contentDocument||this.patchAttachShadow(r.contentWindow.Element,r.contentDocument)}patchAttachShadow(r,l){const h=this;this.restoreHandlers.push(Vy(r.prototype,"attachShadow",function(T){return function(V){const re=T.call(this,V);return this.shadowRoot&&c1(this)&&h.addShadowRoot(this.shadowRoot,l),re}}))}reset(){this.restoreHandlers.forEach(r=>{try{r()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}class Su{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class wm{constructor(r){this.trackedLinkElements=new WeakSet,this.styleMirror=new Mm,this.mutationCb=r.mutationCb,this.adoptedStyleSheetCb=r.adoptedStyleSheetCb}attachLinkElement(r,l){"_cssText"in l.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:l.id,attributes:l.attributes}]}),this.trackLinkElement(r)}trackLinkElement(r){this.trackedLinkElements.has(r)||(this.trackedLinkElements.add(r),this.trackStylesheetInLinkElement(r))}adoptStyleSheets(r,l){if(0===r.length)return;const h={id:l,styleIds:[]},T=[];for(const V of r){let re;this.styleMirror.has(V)?re=this.styleMirror.getId(V):(re=this.styleMirror.add(V),T.push({styleId:re,rules:Array.from(V.rules||CSSRule,(ge,we)=>({rule:xy(ge),index:we}))})),h.styleIds.push(re)}T.length>0&&(h.styles=T),this.adoptedStyleSheetCb(h)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(r){}}class v1{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){!function Hy(...o){Mg("requestAnimationFrame")(...o)}(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(r,l){const h=this.nodeMap.get(r);return h&&Array.from(h).some(T=>T!==l)}add(r,l){this.nodeMap.set(r,(this.nodeMap.get(r)||new Set).add(l))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}let Vr,xg;try{if(2!==Array.from([1],o=>2*o)[0]){const o=document.createElement("iframe");document.body.appendChild(o),Array.from=go([o,"access",r=>r.contentWindow,"optionalAccess",r=>r.Array,"access",r=>r.from])||Array.from,document.body.removeChild(o)}}catch(o){console.debug("Unable to override Array.from",o)}const Da=function dM(){return new Oy}();function Kc(o={}){const{emit:r,checkoutEveryNms:l,checkoutEveryNth:h,blockClass:T="rr-block",blockSelector:V=null,unblockSelector:re=null,ignoreClass:ge="rr-ignore",ignoreSelector:we=null,maskAllText:Je=!1,maskTextClass:It="rr-mask",unmaskTextClass:Rt=null,maskTextSelector:on=null,unmaskTextSelector:yn=null,inlineStylesheet:gn=!0,maskAllInputs:An,maskInputOptions:Zn,slimDOMOptions:qn,maskAttributeFn:bi,maskInputFn:es,maskTextFn:Mi,maxCanvasSize:Gi=null,packFn:ri,sampling:zn={},dataURLOptions:_i={},mousemoveWait:Cs,recordDOM:ui=!0,recordCanvas:Ri=!1,recordCrossOriginIframes:ts=!1,recordAfter:tr=("DOMContentLoaded"===o.recordAfter?o.recordAfter:"load"),userTriggeredOnInput:ur=!1,collectFonts:to=!1,inlineImages:Kn=!1,plugins:gi,keepIframeSrcFn:li=()=>!1,ignoreCSSAttributes:Hi=new Set([]),errorHandler:hr,onMutation:Il,getCanvasManager:$a}=o;!function TM(o){Sm=o}(hr);const Kl=!ts||window.parent===window;let fr=!1;if(!Kl)try{window.parent.document&&(fr=!1)}catch{fr=!0}if(Kl&&!r)throw new Error("emit function is required");void 0!==Cs&&void 0===zn.mousemove&&(zn.mousemove=Cs),Da.reset();const Oh=!0===An?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==Zn?Zn:{},zm=!0===qn||"all"===qn?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===qn,headMetaDescKeywords:"all"===qn}:qn||{};!function Em(o=window){"NodeList"in o&&!o.NodeList.prototype.forEach&&(o.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in o&&!o.DOMTokenList.prototype.forEach&&(o.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...r)=>{let l=r[0];if(!(0 in r))throw new TypeError("1 argument is required");do{if(this===l)return!0}while(l=l&&l.parentNode);return!1})}();let Go,yc=0;const ha=nr=>{for(const Cc of gi||[])Cc.eventProcessor&&(nr=Cc.eventProcessor(nr));return ri&&!fr&&(nr=ri(nr)),nr};Vr=(nr,Cc)=>{const Ws=nr;if(Ws.timestamp=o1(),go([Du,"access",Jr=>Jr[0],"optionalAccess",Jr=>Jr.isFrozen,"call",Jr=>Jr()])&&Ws.type!==xs.FullSnapshot&&!(Ws.type===xs.IncrementalSnapshot&&Ws.data.source===as.Mutation)&&Du.forEach(Jr=>Jr.unfreeze()),Kl)go([r,"optionalCall",Jr=>Jr(ha(Ws),Cc)]);else if(fr){const Jr={type:"rrweb",event:ha(Ws),origin:window.location.origin,isCheckout:Cc};window.parent.postMessage(Jr,"*")}if(Ws.type===xs.FullSnapshot)Go=Ws,yc=0;else if(Ws.type===xs.IncrementalSnapshot){if(Ws.data.source===as.Mutation&&Ws.data.isAttachIframe)return;yc++,(h&&yc>=h||l&&Go&&Ws.timestamp-Go.timestamp>l)&&Q1(!0)}};const Ec=nr=>{Vr({type:xs.IncrementalSnapshot,data:{source:as.Mutation,...nr}})},Xf=nr=>Vr({type:xs.IncrementalSnapshot,data:{source:as.Scroll,...nr}}),OT=nr=>Vr({type:xs.IncrementalSnapshot,data:{source:as.CanvasMutation,...nr}}),Ah=new wm({mutationCb:Ec,adoptedStyleSheetCb:nr=>Vr({type:xs.IncrementalSnapshot,data:{source:as.AdoptedStyleSheet,...nr}})}),Rh="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new g1:new xM({mirror:Da,mutationCb:Ec,stylesheetManager:Ah,recordCrossOriginIframes:ts,wrappedEmit:Vr});for(const nr of gi||[])nr.getMirror&&nr.getMirror({nodeMirror:Da,crossOriginIframeMirror:Rh.crossOriginIframeMirror,crossOriginIframeStyleMirror:Rh.crossOriginIframeStyleMirror});const X1=new v1,Y1=function kM(o,r){try{return o?o(r):new Su}catch{return console.warn("Unable to initialize CanvasManager"),new Su}}($a,{mirror:Da,win:window,mutationCb:nr=>Vr({type:xs.IncrementalSnapshot,data:{source:as.CanvasMutation,...nr}}),recordCanvas:Ri,blockClass:T,blockSelector:V,unblockSelector:re,maxCanvasSize:Gi,sampling:zn.canvas,dataURLOptions:_i,errorHandler:hr}),ev="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new OM:new AM({mutationCb:Ec,scrollCb:Xf,bypassOptions:{onMutation:Il,blockClass:T,blockSelector:V,unblockSelector:re,maskAllText:Je,maskTextClass:It,unmaskTextClass:Rt,maskTextSelector:on,unmaskTextSelector:yn,inlineStylesheet:gn,maskInputOptions:Oh,dataURLOptions:_i,maskAttributeFn:bi,maskTextFn:Mi,maskInputFn:es,recordCanvas:Ri,inlineImages:Kn,sampling:zn,slimDOMOptions:zm,iframeManager:Rh,stylesheetManager:Ah,canvasManager:Y1,keepIframeSrcFn:li,processedNodeManager:X1},mirror:Da}),Q1=(nr=!1)=>{if(!ui)return;Vr({type:xs.Meta,data:{href:window.location.href,width:bM(),height:Wy()}},nr),Ah.reset(),ev.init(),Du.forEach(Ws=>Ws.lock());const Cc=function vm(o,r){const{mirror:l=new Oy,blockClass:h="rr-block",blockSelector:T=null,unblockSelector:V=null,maskAllText:re=!1,maskTextClass:ge="rr-mask",unmaskTextClass:we=null,maskTextSelector:Je=null,unmaskTextSelector:It=null,inlineStylesheet:Rt=!0,inlineImages:on=!1,recordCanvas:yn=!1,maskAllInputs:gn=!1,maskAttributeFn:An,maskTextFn:Zn,maskInputFn:qn,slimDOM:bi=!1,dataURLOptions:es,preserveWhiteSpace:Mi,onSerialize:Gi,onIframeLoad:ri,iframeLoadTimeout:zn,onStylesheetLoad:_i,stylesheetLoadTimeout:Cs,keepIframeSrcFn:ui=()=>!1}=r||{};return zc(o,{doc:o,mirror:l,blockClass:h,blockSelector:T,unblockSelector:V,maskAllText:re,maskTextClass:ge,unmaskTextClass:we,maskTextSelector:Je,unmaskTextSelector:It,skipChild:!1,inlineStylesheet:Rt,maskInputOptions:!0===gn?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===gn?{}:gn,maskAttributeFn:An,maskTextFn:Zn,maskInputFn:qn,slimDOMOptions:!0===bi||"all"===bi?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===bi,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===bi?{}:bi,dataURLOptions:es,inlineImages:on,recordCanvas:yn,preserveWhiteSpace:Mi,onSerialize:Gi,onIframeLoad:ri,iframeLoadTimeout:zn,onStylesheetLoad:_i,stylesheetLoadTimeout:Cs,keepIframeSrcFn:ui,newlyAddedElement:!1})}(document,{mirror:Da,blockClass:T,blockSelector:V,unblockSelector:re,maskAllText:Je,maskTextClass:It,unmaskTextClass:Rt,maskTextSelector:on,unmaskTextSelector:yn,inlineStylesheet:gn,maskAllInputs:Oh,maskAttributeFn:bi,maskInputFn:es,maskTextFn:Mi,slimDOM:zm,dataURLOptions:_i,recordCanvas:Ri,inlineImages:Kn,onSerialize:Ws=>{Eg(Ws,Da)&&Rh.addIframe(Ws),Cm(Ws,Da)&&Ah.trackLinkElement(Ws),Cg(Ws)&&ev.addShadowRoot(Ws.shadowRoot,document)},onIframeLoad:(Ws,Jr)=>{Rh.attachIframe(Ws,Jr),Ws.contentWindow&&Y1.addWindow(Ws.contentWindow),ev.observeAttachShadow(Ws)},onStylesheetLoad:(Ws,Jr)=>{Ah.attachLinkElement(Ws,Jr)},keepIframeSrcFn:li});if(!Cc)return console.warn("Failed to snapshot the document");Vr({type:xs.FullSnapshot,data:{node:Cc,initialOffset:Gy(window)}}),Du.forEach(Ws=>Ws.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Ah.adoptStyleSheets(document.adoptedStyleSheets,Da.getId(document))};xg=Q1;try{const nr=[],Cc=Jr=>Gs(wM)({onMutation:Il,mutationCb:Ec,mousemoveCb:(ir,kh)=>Vr({type:xs.IncrementalSnapshot,data:{source:kh,positions:ir}}),mouseInteractionCb:ir=>Vr({type:xs.IncrementalSnapshot,data:{source:as.MouseInteraction,...ir}}),scrollCb:Xf,viewportResizeCb:ir=>Vr({type:xs.IncrementalSnapshot,data:{source:as.ViewportResize,...ir}}),inputCb:ir=>Vr({type:xs.IncrementalSnapshot,data:{source:as.Input,...ir}}),mediaInteractionCb:ir=>Vr({type:xs.IncrementalSnapshot,data:{source:as.MediaInteraction,...ir}}),styleSheetRuleCb:ir=>Vr({type:xs.IncrementalSnapshot,data:{source:as.StyleSheetRule,...ir}}),styleDeclarationCb:ir=>Vr({type:xs.IncrementalSnapshot,data:{source:as.StyleDeclaration,...ir}}),canvasMutationCb:OT,fontCb:ir=>Vr({type:xs.IncrementalSnapshot,data:{source:as.Font,...ir}}),selectionCb:ir=>{Vr({type:xs.IncrementalSnapshot,data:{source:as.Selection,...ir}})},customElementCb:ir=>{Vr({type:xs.IncrementalSnapshot,data:{source:as.CustomElement,...ir}})},blockClass:T,ignoreClass:ge,ignoreSelector:we,maskAllText:Je,maskTextClass:It,unmaskTextClass:Rt,maskTextSelector:on,unmaskTextSelector:yn,maskInputOptions:Oh,inlineStylesheet:gn,sampling:zn,recordDOM:ui,recordCanvas:Ri,inlineImages:Kn,userTriggeredOnInput:ur,collectFonts:to,doc:Jr,maskAttributeFn:bi,maskInputFn:es,maskTextFn:Mi,keepIframeSrcFn:li,blockSelector:V,unblockSelector:re,slimDOMOptions:zm,dataURLOptions:_i,mirror:Da,iframeManager:Rh,stylesheetManager:Ah,shadowDomManager:ev,processedNodeManager:X1,canvasManager:Y1,ignoreCSSAttributes:Hi,plugins:go([gi,"optionalAccess",ir=>ir.filter,"call",ir=>ir(kh=>kh.observer),"optionalAccess",ir=>ir.map,"call",ir=>ir(kh=>({observer:kh.observer,options:kh.options,callback:RT=>Vr({type:xs.Plugin,data:{plugin:kh.name,payload:RT}})}))])||[]},{});Rh.addLoadListener(Jr=>{try{nr.push(Cc(Jr.contentDocument))}catch(ir){console.warn(ir)}});const Ws=()=>{Q1(),nr.push(Cc(document))};return"interactive"===document.readyState||"complete"===document.readyState?Ws():(nr.push(Ba("DOMContentLoaded",()=>{Vr({type:xs.DomContentLoaded,data:{}}),"DOMContentLoaded"===tr&&Ws()})),nr.push(Ba("load",()=>{Vr({type:xs.Load,data:{}}),"load"===tr&&Ws()},window))),()=>{nr.forEach(Jr=>Jr()),X1.destroy(),xg=void 0,function DM(){Sm=void 0}()}}catch(nr){console.warn(nr)}}Kc.mirror=Da,Kc.takeFullSnapshot=function RM(o){if(!xg)throw new Error("please take full snapshot after start recording");xg(o)};const rs=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,oE=["info","warn","error","log"],Og="[Replay] ";function Ag(o,r="info"){Ma({category:"console",data:{logger:"replay"},level:r,message:`${Og}${o}`},{level:r})}const ds=function PM(){let o=!1,r=!1;const l={exception:()=>{},infoTick:()=>{},setConfig:h=>{o=h.captureExceptions,r=h.traceInternals}};return rs?(oE.forEach(h=>{l[h]=(...T)=>{Wn[h](Og,...T),r&&Ag(T[0])}}),l.exception=(h,...T)=>{l.error&&l.error(...T),Wn.error(Og,h),o?xo(h):r&&Ag(h)},l.infoTick=(...h)=>{Wn.info(Og,...h),r&&setTimeout(()=>Ag(h[0]),0)}):oE.forEach(h=>{l[h]=()=>{}}),l}(),Rg=3;function b1(o){return o>9999999999?o:1e3*o}function kg(o){return o>9999999999?o/1e3:o}function xm(o,r){"sentry.transaction"!==r.category&&(["ui.click","ui.input"].includes(r.category)?o.triggerUserActivity():o.checkAndHandleExpiredSession(),o.addUpdate(()=>(o.throttledAddEvent({type:xs.Custom,timestamp:1e3*(r.timestamp||0),data:{tag:"breadcrumb",payload:lr(r,10,1e3)}}),"console"===r.category)))}const LM="button,a";function wu(o){return o.closest(LM)||o}function Dh(o){const r=Wf(o);return r&&r instanceof Element?wu(r):r}function Wf(o){return function n2(o){return"object"==typeof o&&!!o&&"target"in o}(o)?o.target:o}let Ld;const aE=new Set([as.Mutation,as.StyleSheetRule,as.StyleDeclaration,as.AdoptedStyleSheet,as.CanvasMutation,as.Selection,as.MediaInteraction]);class lE{constructor(r,l,h=xm){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=l.timeout/1e3,this._threshold=l.threshold/1e3,this._scollTimeout=l.scrollTimeout/1e3,this._replay=r,this._ignoreSelector=l.ignoreSelector,this._addBreadcrumbEvent=h}addListeners(){const r=function y1(o){return Ld||(Ld=[],function NM(){Jo(vr,"open",function(o){return function(...r){if(Ld)try{Ld.forEach(l=>l())}catch{}return o.apply(vr,r)}})}()),Ld.push(o),()=>{const r=Ld?Ld.indexOf(o):-1;r>-1&&Ld.splice(r,1)}}(()=>{this._lastMutation=Pg()});this._teardown=()=>{r(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(r,l){if(function UM(o,r){return!!(!s2.includes(o.tagName)||"INPUT"===o.tagName&&!["submit","button"].includes(o.getAttribute("type")||"")||"A"===o.tagName&&(o.hasAttribute("download")||o.hasAttribute("target")&&"_self"!==o.getAttribute("target"))||r&&o.matches(r))}(l,this._ignoreSelector)||!function Om(o){return!(!o.data||"number"!=typeof o.data.nodeId||!o.timestamp)}(r))return;const h={timestamp:kg(r.timestamp),clickBreadcrumb:r,clickCount:0,node:l};this._clicks.some(T=>T.node===h.node&&Math.abs(T.timestamp-h.timestamp)<1)||(this._clicks.push(h),1===this._clicks.length&&this._scheduleCheckClicks())}registerMutation(r=Date.now()){this._lastMutation=kg(r)}registerScroll(r=Date.now()){this._lastScroll=kg(r)}registerClick(r){const l=wu(r);this._handleMultiClick(l)}_handleMultiClick(r){this._getClicks(r).forEach(l=>{l.clickCount++})}_getClicks(r){return this._clicks.filter(l=>l.node===r)}_checkClicks(){const r=[],l=Pg();this._clicks.forEach(h=>{!h.mutationAfter&&this._lastMutation&&(h.mutationAfter=h.timestamp<=this._lastMutation?this._lastMutation-h.timestamp:void 0),!h.scrollAfter&&this._lastScroll&&(h.scrollAfter=h.timestamp<=this._lastScroll?this._lastScroll-h.timestamp:void 0),h.timestamp+this._timeout<=l&&r.push(h)});for(const h of r){const T=this._clicks.indexOf(h);T>-1&&(this._generateBreadcrumbs(h),this._clicks.splice(T,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(r){const l=this._replay,V=!(r.scrollAfter&&r.scrollAfter<=this._scollTimeout||r.mutationAfter&&r.mutationAfter<=this._threshold),{clickCount:re,clickBreadcrumb:ge}=r;if(V){const we=1e3*Math.min(r.mutationAfter||this._timeout,this._timeout),Je=we<1e3*this._timeout?"mutation":"timeout",It={type:"default",message:ge.message,timestamp:ge.timestamp,category:"ui.slowClickDetected",data:{...ge.data,url:vr.location.href,route:l.getCurrentRoute(),timeAfterClickMs:we,endReason:Je,clickCount:re||1}};this._addBreadcrumbEvent(l,It)}else if(re>1){const we={type:"default",message:ge.message,timestamp:ge.timestamp,category:"ui.multiClick",data:{...ge.data,url:vr.location.href,route:l.getCurrentRoute(),clickCount:re,metric:!0}};this._addBreadcrumbEvent(l,we)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=Md(()=>this._checkClicks(),1e3)}}const s2=["A","BUTTON","INPUT"];function Pg(){return Date.now()/1e3}function Wl(o){return{timestamp:Date.now()/1e3,type:"default",...o}}var Hc=function(o){return o[o.Document=0]="Document",o[o.DocumentType=1]="DocumentType",o[o.Element=2]="Element",o[o.Text=3]="Text",o[o.CDATA=4]="CDATA",o[o.Comment=5]="Comment",o}(Hc||{});const Fg=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function cE(o){const r={};!o["data-sentry-component"]&&o["data-sentry-element"]&&(o["data-sentry-component"]=o["data-sentry-element"]);for(const l in o)if(Fg.has(l)){let h=l;("data-testid"===l||"data-test-id"===l)&&(h="testId"),r[h]=o[l]}return r}function dE(o,r){const l=Kc.mirror.getId(o),h=l&&Kc.mirror.getNode(l),T=h&&Kc.mirror.getMeta(h),V=T&&function uE(o){return o.type===Hc.Element}(T)?T:null;return{message:r,data:V?{nodeId:l,node:{id:l,tagName:V.tagName,textContent:Array.from(V.childNodes).map(re=>re.type===Hc.Text&&re.textContent).filter(Boolean).map(re=>re.trim()).join(""),attributes:cE(V.attributes)}}:{}}}const Lg={resource:function HM(o){const{entryType:r,initiatorType:l,name:h,responseEnd:T,startTime:V,decodedBodySize:re,encodedBodySize:ge,responseStatus:we,transferSize:Je}=o;return["fetch","xmlhttprequest"].includes(l)?null:{type:`${r}.${l}`,start:Xc(V),end:Xc(T),name:h,data:{size:Je,statusCode:we,decodedBodySize:re,encodedBodySize:ge}}},paint:function zM(o){const{duration:r,entryType:l,name:h,startTime:T}=o,V=Xc(T);return{type:l,name:h,start:V,end:V+r,data:void 0}},navigation:function KM(o){const{entryType:r,name:l,decodedBodySize:h,duration:T,domComplete:V,encodedBodySize:re,domContentLoadedEventStart:ge,domContentLoadedEventEnd:we,domInteractive:Je,loadEventStart:It,loadEventEnd:Rt,redirectCount:on,startTime:yn,transferSize:gn,type:An}=o;return 0===T?null:{type:`${r}.${An}`,start:Xc(yn),end:Xc(V),name:l,data:{size:gn,decodedBodySize:h,encodedBodySize:re,duration:T,domInteractive:Je,domContentLoadedEventStart:ge,domContentLoadedEventEnd:we,loadEventStart:It,loadEventEnd:Rt,domComplete:V,redirectCount:on}}}};function km(o,r){return({metric:l})=>{r.replayPerformanceEntries.push(o(l))}}function WM(o){const r=Lg[o.entryType];return r?r(o):null}function Xc(o){return((So||vr.performance.timeOrigin)+o)/1e3}function XM(o){const r=o.entries[o.entries.length-1];return Ih(o,"largest-contentful-paint",r&&r.element?[r.element]:void 0)}function YM(o){return void 0!==o.sources}function QM(o){const r=[],l=[];for(const h of o.entries)if(YM(h)){const T=[];for(const V of h.sources)if(V.node){l.push(V.node);const re=Kc.mirror.getId(V.node);re&&T.push(re)}r.push({value:h.value,nodeIds:T})}return Ih(o,"cumulative-layout-shift",l,r)}function JM(o){const r=o.entries[o.entries.length-1];return Ih(o,"first-input-delay",r&&r.target?[r.target]:void 0)}function ZM(o){const r=o.entries[o.entries.length-1];return Ih(o,"interaction-to-next-paint",r&&r.target?[r.target]:void 0)}function Ih(o,r,l,h){const T=o.value,V=o.rating,re=Xc(T);return{type:"web-vital",name:r,start:re,end:re,data:{value:T,size:T,rating:V,nodeIds:l?l.map(we=>Kc.mirror.getId(we)):void 0,attributions:h}}}class Ng extends Error{constructor(){super(`Event buffer exceeded maximum size of ${H0}.`)}}class Bg{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}addEvent(r){var l=this;return(0,We.A)(function*(){const h=JSON.stringify(r).length;if(l._totalSize+=h,l._totalSize>H0)throw new Ng;l.events.push(r)})()}finish(){return new Promise(r=>{const l=this.events;this.clear(),r(JSON.stringify(l))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const r=this.events.map(l=>l.timestamp).sort()[0];return r?b1(r):null}}class pE{constructor(r){this._worker=r,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise((r,l)=>{this._worker.addEventListener("message",({data:h})=>{h.success?r():l()},{once:!0}),this._worker.addEventListener("error",h=>{l(h)},{once:!0})})),this._ensureReadyPromise}destroy(){rs&&ds.info("Destroying compression worker"),this._worker.terminate()}postMessage(r,l){const h=this._getAndIncrementId();return new Promise((T,V)=>{const re=({data:ge})=>{const we=ge;if(we.method===r&&we.id===h){if(this._worker.removeEventListener("message",re),!we.success)return rs&&ds.error("Error in compression worker: ",we.response),void V(new Error("Error in compression worker"));T(we.response)}};this._worker.addEventListener("message",re),this._worker.postMessage({id:h,method:r,arg:l})})}_getAndIncrementId(){return this._id++}}class tT{constructor(r){this._worker=new pE(r),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(r){const l=b1(r.timestamp);(!this._earliestTimestamp||l<this._earliestTimestamp)&&(this._earliestTimestamp=l);const h=JSON.stringify(r);return this._totalSize+=h.length,this._totalSize>H0?Promise.reject(new Ng):this._sendEventToWorker(h)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,r=>{rs&&ds.exception(r,'Sending "clear" message to worker failed',r)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(r){return this._worker.postMessage("addEvent",r)}_finishRequest(){var r=this;return(0,We.A)(function*(){const l=yield r._worker.postMessage("finish");return r._earliestTimestamp=null,r._totalSize=0,l})()}}class mE{constructor(r){this._fallback=new Bg,this._compression=new tT(r),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(r){this._used.hasCheckout=r}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(r){return this._used.addEvent(r)}finish(){var r=this;return(0,We.A)(function*(){return yield r.ensureWorkerIsLoaded(),r._used.finish()})()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}_ensureWorkerIsLoaded(){var r=this;return(0,We.A)(function*(){try{yield r._compression.ensureReady()}catch(l){return void(rs&&ds.exception(l,"Failed to load the compression worker, falling back to simple buffer"))}yield r._switchToCompressionWorker()})()}_switchToCompressionWorker(){var r=this;return(0,We.A)(function*(){const{events:l,hasCheckout:h}=r._fallback,T=[];for(const V of l)T.push(r._compression.addEvent(V));r._compression.hasCheckout=h,r._used=r._compression;try{yield Promise.all(T)}catch(V){rs&&ds.exception(V,"Failed to add events when switching buffers.")}})()}}function M1(){try{return"sessionStorage"in vr&&!!vr.sessionStorage}catch{return!1}}function Ug(o){return void 0!==o&&Math.random()<o}function jg(o){const r=Date.now();return{id:o.id||ye(),started:o.started||r,lastActivity:o.lastActivity||r,segmentId:o.segmentId||0,sampled:o.sampled,previousSessionId:o.previousSessionId}}function $g(o){if(M1())try{vr.sessionStorage.setItem(pm,JSON.stringify(o))}catch{}}function Vg({sessionSampleRate:o,allowBuffering:r,stickySession:l=!1},{previousSessionId:h}={}){const T=function T1(o,r){return Ug(o)?"session":!!r&&"buffer"}(o,r),V=jg({sampled:T,previousSessionId:h});return l&&$g(V),V}function D1(o,r,l=+new Date){return null===o||void 0===r||r<0||0!==r&&o+r<=l}function vE(o,{maxReplayDuration:r,sessionIdleExpire:l,targetTime:h=Date.now()}){return D1(o.started,r,h)||D1(o.lastActivity,l,h)}function bE(o,{sessionIdleExpire:r,maxReplayDuration:l}){return!(!vE(o,{sessionIdleExpire:r,maxReplayDuration:l})||"buffer"===o.sampled&&0===o.segmentId)}function Gg({sessionIdleExpire:o,maxReplayDuration:r,previousSessionId:l},h){const T=h.stickySession&&function sT(){if(!M1())return null;try{const o=vr.sessionStorage.getItem(pm);if(!o)return null;const r=JSON.parse(o);return rs&&ds.infoTick("Loading existing session"),jg(r)}catch{return null}}();return T?bE(T,{sessionIdleExpire:o,maxReplayDuration:r})?(rs&&ds.infoTick("Session in sessionStorage is expired, creating new one..."),Vg(h,{previousSessionId:T.id})):T:(rs&&ds.infoTick("Creating new session"),Vg(h,{previousSessionId:l}))}function Pm(o,r,l){return!!EE(o,r)&&(S1(o,r,l),!0)}function S1(o,r,l){return Wg.apply(this,arguments)}function Wg(){return(Wg=(0,We.A)(function*(o,r,l){if(!o.eventBuffer)return null;try{l&&"buffer"===o.recordingMode&&o.eventBuffer.clear(),l&&(o.eventBuffer.hasCheckout=!0);const T=function CE(o,r){try{if("function"==typeof r&&function I1(o){return o.type===xs.Custom}(o))return r(o)}catch(l){return rs&&ds.exception(l,"An error occured in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return o}(r,o.getOptions().beforeAddRecordingEvent);return T?yield o.eventBuffer.addEvent(T):void 0}catch(h){const T=h&&h instanceof Ng?"addEventSizeExceeded":"addEvent";o.handleException(h),yield o.stop({reason:T});const V=Ms();V&&V.recordDroppedEvent("internal_sdk_error","replay")}})).apply(this,arguments)}function EE(o,r){if(!o.eventBuffer||o.isPaused()||!o.isEnabled())return!1;const l=b1(r.timestamp);return!(l+o.timeouts.sessionIdlePause<Date.now()||l>o.getContext().initialTimestamp+o.getOptions().maxReplayDuration&&(rs&&ds.infoTick(`Skipping event with timestamp ${l} because it is after maxReplayDuration`),1))}function w1(o){return!o.type}function Fm(o){return"transaction"===o.type}function x1(o){return"feedback"===o.type}function R1(o){return!!o.category}function k1(o,r){return r.map(({type:l,start:h,end:T,name:V,data:re})=>{const ge=o.throttledAddEvent({type:xs.Custom,timestamp:h,data:{tag:"performanceSpan",payload:{op:l,description:V,startTimestamp:h,endTimestamp:T,data:re}}});return"string"==typeof ge?Promise.resolve(null):ge})}function AE(o,r){o.isEnabled()&&null!==r&&(function OE(o,r){return(!rs||!o.getOptions()._experiments.traceInternals)&&function Ff(o,r){const l=r&&r.getDsn(),h=r&&r.getOptions().tunnel;return function vy(o,r){return!!r&&o.includes(r.host)}(o,l)||function gy(o,r){return!!r&&by(o)===by(r)}(o,h)}(r,Ms())}(o,r.name)||o.addUpdate(()=>(k1(o,[r]),!0)))}function zg(o){if(!o)return;const r=new TextEncoder;try{if("string"==typeof o)return r.encode(o).length;if(o instanceof URLSearchParams)return r.encode(o.toString()).length;if(o instanceof FormData){const l=lT(o);return r.encode(l).length}if(o instanceof Blob)return o.size;if(o instanceof ArrayBuffer)return o.byteLength}catch{}}function oT(o){if(!o)return;const r=parseInt(o,10);return isNaN(r)?void 0:r}function P1(o){try{if("string"==typeof o)return[o];if(o instanceof URLSearchParams)return[o.toString()];if(o instanceof FormData)return[lT(o)];if(!o)return[void 0]}catch(r){return rs&&ds.exception(r,"Failed to serialize body",o),[void 0,"BODY_PARSE_ERROR"]}return rs&&ds.info("Skipping network body because of body type",o),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Lm(o,r){if(!o)return{headers:{},size:void 0,_meta:{warnings:[r]}};const l={...o._meta};return l.warnings=[...l.warnings||[],r],o._meta=l,o}function aT(o,r){if(!r)return null;const{startTimestamp:l,endTimestamp:h,url:T,method:V,statusCode:re,request:ge,response:we}=r;return{type:o,start:l/1e3,end:h/1e3,name:T,data:Mr({method:V,statusCode:re,request:ge,response:we})}}function Kg(o){return{headers:{},size:o,_meta:{warnings:["URL_SKIPPED"]}}}function Sh(o,r,l){if(!r&&0===Object.keys(o).length)return;if(!r)return{headers:o};if(!l)return{headers:o,size:r};const h={headers:o,size:r},{body:T,warnings:V}=function u2(o){if(!o||"string"!=typeof o)return{body:o};const r=o.length>My,l=function h2(o){const r=o[0],l=o[o.length-1];return"["===r&&"]"===l||"{"===r&&"}"===l}(o);if(r){const h=o.slice(0,My);return l?{body:h,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${h}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(l)try{return{body:JSON.parse(o)}}catch{}return{body:o}}(l);return h.body=T,V&&V.length>0&&(h._meta={warnings:V}),h}function RE(o,r){return Object.entries(o).reduce((l,[h,T])=>{const V=h.toLowerCase();return r.includes(V)&&o[h]&&(l[V]=T),l},{})}function lT(o){return new URLSearchParams(o).toString()}function F1(o,r){const l=function f2(o,r=vr.document.baseURI){if(o.startsWith("http://")||o.startsWith("https://")||o.startsWith(vr.location.origin))return o;const l=new URL(o,r);if(l.origin!==new URL(r).origin)return o;const h=l.href;return!o.endsWith("/")&&h.endsWith("/")?h.slice(0,-1):h}(o);return ho(l,r)}function Ou(){return Ou=(0,We.A)(function*(o,r,l){try{const h=yield function dT(o,r,l){return kE.apply(this,arguments)}(o,r,l),T=aT("resource.fetch",h);AE(l.replay,T)}catch(h){rs&&ds.exception(h,"Failed to capture fetch breadcrumb")}}),Ou.apply(this,arguments)}function kE(){return kE=(0,We.A)(function*(o,r,l){const h=Date.now(),{startTimestamp:T=h,endTimestamp:V=h}=r,{url:re,method:ge,status_code:we=0,request_body_size:Je,response_body_size:It}=o.data,Rt=F1(re,l.networkDetailAllowUrls)&&!F1(re,l.networkDetailDenyUrls),on=Rt?function PE({networkCaptureBodies:o,networkRequestHeaders:r},l,h){const T=l?function pT(o,r){return 1===o.length&&"string"!=typeof o[0]?B1(o[0],r):2===o.length?B1(o[1],r):{}}(l,r):{};if(!o)return Sh(T,h,void 0);const V=Bm(l),[re,ge]=P1(V),we=Sh(T,h,re);return ge?Lm(we,ge):we}(l,r.input,Je):Kg(Je),yn=yield function uT(o,r,l,h){return FE.apply(this,arguments)}(Rt,l,r.response,It);return{startTimestamp:T,endTimestamp:V,url:re,method:ge,statusCode:we,request:on,response:yn}}),kE.apply(this,arguments)}function FE(){return FE=(0,We.A)(function*(o,{networkCaptureBodies:r,networkResponseHeaders:l},h,T){if(!o&&void 0!==T)return Kg(T);const V=h?N1(h.headers,l):{};if(!h||!r&&void 0!==T)return Sh(V,T,void 0);const[re,ge]=yield function fT(o){return L1.apply(this,arguments)}(h),we=function hT(o,{networkCaptureBodies:r,responseBodySize:l,captureDetails:h,headers:T}){try{const V=o&&o.length&&void 0===l?zg(o):l;return h?Sh(T,V,r?o:void 0):Kg(V)}catch(V){return rs&&ds.exception(V,"Failed to serialize response body"),Sh(T,l,void 0)}}(re,{networkCaptureBodies:r,responseBodySize:T,captureDetails:o,headers:V});return ge?Lm(we,ge):we}),FE.apply(this,arguments)}function L1(){return(L1=(0,We.A)(function*(o){const r=function p2(o){try{return o.clone()}catch(r){rs&&ds.exception(r,"Failed to clone response body")}}(o);if(!r)return[void 0,"BODY_PARSE_ERROR"];try{return[yield LE(r)]}catch(l){return rs&&ds.exception(l,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"]}})).apply(this,arguments)}function Bm(o=[]){if(2===o.length&&"object"==typeof o[1])return o[1].body}function N1(o,r){const l={};return r.forEach(h=>{o.get(h)&&(l[h]=o.get(h))}),l}function B1(o,r){if(!o)return{};const l=o.headers;return l?l instanceof Headers?N1(l,r):Array.isArray(l)?{}:RE(l,r):{}}function LE(o){return new Promise((r,l)=>{const h=Md(()=>l(new Error("Timeout while trying to read response body")),500);(function m2(o){return U1.apply(this,arguments)})(o).then(T=>r(T),T=>l(T)).finally(()=>clearTimeout(h))})}function U1(){return(U1=(0,We.A)(function*(o){return yield o.text()})).apply(this,arguments)}function Um(){return(Um=(0,We.A)(function*(o,r,l){try{const h=function _T(o,r,l){const h=Date.now(),{startTimestamp:T=h,endTimestamp:V=h,input:re,xhr:ge}=r,{url:we,method:Je,status_code:It=0,request_body_size:Rt,response_body_size:on}=o.data;if(!we)return null;if(!ge||!F1(we,l.networkDetailAllowUrls)||F1(we,l.networkDetailDenyUrls))return{startTimestamp:T,endTimestamp:V,url:we,method:Je,statusCode:It,request:Kg(Rt),response:Kg(on)};const yn=ge[fc],gn=yn?RE(yn.request_headers,l.networkRequestHeaders):{},An=RE(function Hg(o){const r=o.getAllResponseHeaders();return r?r.split("\r\n").reduce((l,h)=>{const[T,V]=h.split(": ");return V&&(l[T.toLowerCase()]=V),l},{}):{}}(ge),l.networkResponseHeaders),[Zn,qn]=l.networkCaptureBodies?P1(re):[void 0],[bi,es]=l.networkCaptureBodies?function gT(o){const r=[];try{return[o.responseText]}catch(l){r.push(l)}try{return function vT(o,r){try{if("string"==typeof o)return[o];if(o instanceof Document)return[o.body.outerHTML];if("json"===r&&o&&"object"==typeof o)return[JSON.stringify(o)];if(!o)return[void 0]}catch(l){return rs&&ds.exception(l,"Failed to serialize body",o),[void 0,"BODY_PARSE_ERROR"]}return rs&&ds.info("Skipping network body because of body type",o),[void 0,"UNPARSEABLE_BODY_TYPE"]}(o.response,o.responseType)}catch(l){r.push(l)}return rs&&ds.warn("Failed to get xhr response body",...r),[void 0]}(ge):[void 0],Mi=Sh(gn,Rt,Zn),Gi=Sh(An,on,bi);return{startTimestamp:T,endTimestamp:V,url:we,method:Je,statusCode:It,request:qn?Lm(Mi,qn):Mi,response:es?Lm(Gi,es):Gi}}(o,r,l),T=aT("resource.xhr",h);AE(l.replay,T)}catch(h){rs&&ds.exception(h,"Failed to capture xhr breadcrumb")}})).apply(this,arguments)}function yT(o){const r=Ms();try{const{networkDetailAllowUrls:l,networkDetailDenyUrls:h,networkCaptureBodies:T,networkRequestHeaders:V,networkResponseHeaders:re}=o.getOptions(),ge={replay:o,networkDetailAllowUrls:l,networkDetailDenyUrls:h,networkCaptureBodies:T,networkRequestHeaders:V,networkResponseHeaders:re};r&&r.on("beforeAddBreadcrumb",(we,Je)=>function ET(o,r,l){if(r.data)try{(function CT(o){return"xhr"===o.category})(r)&&function UE(o){return o&&o.xhr}(l)&&(function mT(o,r){const{xhr:l,input:h}=r;if(!l)return;const T=zg(h),V=l.getResponseHeader("content-length")?oT(l.getResponseHeader("content-length")):function bT(o,r){try{return zg("json"===r&&o&&"object"==typeof o?JSON.stringify(o):o)}catch{return}}(l.response,l.responseType);void 0!==T&&(o.data.request_body_size=T),void 0!==V&&(o.data.response_body_size=V)}(r,l),function NE(o,r,l){Um.apply(this,arguments)}(r,l,o)),function BE(o){return"fetch"===o.category}(r)&&function jE(o){return o&&o.response}(l)&&(function Nm(o,r){const{input:l,response:h}=r,V=zg(l?Bm(l):void 0),re=h?oT(h.headers.get("content-length")):void 0;void 0!==V&&(o.data.request_body_size=V),void 0!==re&&(o.data.response_body_size=re)}(r,l),function cT(o,r,l){Ou.apply(this,arguments)}(r,l,o))}catch(h){rs&&ds.exception(h,"Error when enriching network breadcrumb")}}(ge,we,Je))}catch{}}function MT(o){const r=Ms();Ro((o=>r=>{if(!o.isEnabled())return;const l=function GM(o){const{target:r,message:l}=function E1(o){const r="click"===o.name;let l,h=null;try{h=r?Dh(o.event):Wf(o.event),l=Uo(h,{maxStringLength:200})||"<unknown>"}catch{l="<unknown>"}return{target:h,message:l}}(o);return Wl({category:`ui.${o.name}`,...dE(r,l)})}(r);if(!l)return;const h="click"===r.name,T=h?r.event:void 0;h&&o.clickDetector&&T&&T.target&&!T.altKey&&!T.metaKey&&!T.ctrlKey&&!T.shiftKey&&function BM(o,r,l){o.handleClick(r,l)}(o.clickDetector,l,Dh(r.event)),xm(o,l)})(o)),Qu(function d2(o){return r=>{if(!o.isEnabled())return;const l=function c2(o){const{from:r,to:l}=o,h=Date.now()/1e3;return{type:"navigation.push",start:h,end:h,name:l,data:{previous:r}}}(r);null!==l&&(o.getContext().urls.push(l.name),o.triggerUserActivity(),o.addUpdate(()=>(k1(o,[l]),!1)))}}(o)),function DE(o){const r=Ms();r&&r.on("beforeAddBreadcrumb",l=>function IE(o,r){if(!o.isEnabled()||!R1(r))return;const l=function A1(o){return!R1(o)||["fetch","xhr","sentry.event","sentry.transaction"].includes(o.category)||o.category.startsWith("ui.")?null:"console"===o.category?function SE(o){const r=o.data&&o.data.arguments;if(!Array.isArray(r)||0===r.length)return Wl(o);let l=!1;const h=r.map(T=>{if(!T)return T;if("string"==typeof T)return T.length>fg?(l=!0,`${T.slice(0,fg)}\u2026`):T;if("object"==typeof T)try{const V=lr(T,7);return JSON.stringify(V).length>fg?(l=!0,`${JSON.stringify(V,null,2).slice(0,fg)}\u2026`):V}catch{}return T});return Wl({...o,data:{...o.data,arguments:h,...l?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}(o):Wl(o)}(r);l&&xm(o,l)}(o,l))}(o),yT(o),function is(o){Ar().addEventProcessor(o)}(function l2(o){return Object.assign((r,l)=>o.isEnabled()?function ME(o){return"replay_event"===o.type}(r)?(delete r.breadcrumbs,r):(w1(r)||Fm(r)||x1(r))&&o.checkAndHandleExpiredSession()?x1(r)?(o.flush(),r.contexts.feedback.replay_id=o.getSessionId(),function xE(o,r){o.triggerUserActivity(),o.addUpdate(()=>!r.timestamp||(o.throttledAddEvent({type:xs.Custom,timestamp:1e3*r.timestamp,data:{tag:"breadcrumb",payload:{timestamp:r.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:r.event_id}}}}),!1))}(o,r),r):function wE(o,r){return!(o.type||!o.exception||!o.exception.values||!o.exception.values.length||!r.originalException||!r.originalException.__rrweb__)}(r,l)&&!o.getOptions()._experiments.captureExceptions?(rs&&ds.log("Ignoring error from rrweb internals",r),null):((function rT(o,r){return!("buffer"!==o.recordingMode||r.message===hg||!r.exception||r.type)&&Ug(o.getOptions().errorSampleRate)}(o,r)||"session"===o.recordingMode)&&(r.tags={...r.tags,replayId:o.getSessionId()}),r):r:r,{id:"Replay"})}(o)),r&&(r.on("beforeSendEvent",function a2(o){return r=>{!o.isEnabled()||!w1(r)||function TE(o,r){const l=r.exception&&r.exception.values&&r.exception.values[0]&&r.exception.values[0].value;"string"==typeof l&&(l.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||l.match(/(does not match server-rendered HTML|Hydration failed because)/i))&&xm(o,Wl({category:"replay.hydrate-error",data:{url:jd()}}))}(o,r)}}(o)),r.on("afterSendEvent",function ja(o){return(r,l)=>{if(!o.isEnabled()||!w1(r)&&!Fm(r))return;const h=l&&l.statusCode;if(!(!h||h<200||h>=300)){if(Fm(r))return void function O1(o,r){const l=o.getContext();r.contexts&&r.contexts.trace&&r.contexts.trace.trace_id&&l.traceIds.size<100&&l.traceIds.add(r.contexts.trace.trace_id)}(o,r);!function o2(o,r){const l=o.getContext();if(r.event_id&&l.errorIds.size<100&&l.errorIds.add(r.event_id),"buffer"!==o.recordingMode||!r.tags||!r.tags.replayId)return;const{beforeErrorSampling:h}=o.getOptions();"function"==typeof h&&!h(r)||Md(()=>{o.sendBufferedReplayOrFlush()})}(o,r)}}}(o)),r.on("createDsc",h=>{const T=o.getSessionId();T&&o.isEnabled()&&"session"===o.recordingMode&&o.checkAndHandleExpiredSession()&&(h.replay_id=T)}),r.on("spanStart",h=>{o.lastActiveSpan=h}),r.on("spanEnd",h=>{o.lastActiveSpan=h}),r.on("beforeSendFeedback",(h,T)=>{const V=o.getSessionId();T&&T.includeReplay&&o.isEnabled()&&V&&h.contexts&&h.contexts.feedback&&(h.contexts.feedback.replay_id=V)}))}function Xg(){return(Xg=(0,We.A)(function*(o){try{return Promise.all(k1(o,[$E(vr.performance.memory)]))}catch{return[]}})).apply(this,arguments)}function $E(o){const{jsHeapSizeLimit:r,totalJSHeapSize:l,usedJSHeapSize:h}=o,T=Date.now()/1e3;return{type:"memory",name:"memory",start:T,end:T,data:{memory:{jsHeapSizeLimit:r,totalJSHeapSize:l,usedJSHeapSize:h}}}}function VE(o){let r=!1;return(l,h)=>{if(!o.checkAndHandleExpiredSession())return void(rs&&ds.warn("Received replay event after session expired."));const T=h||!r;r=!0,o.clickDetector&&function jM(o,r){try{if(!function $M(o){return o.type===Rg}(r))return;const{source:l}=r.data;if(aE.has(l)&&o.registerMutation(r.timestamp),l===as.Scroll&&o.registerScroll(r.timestamp),function VM(o){return o.data.source===as.MouseInteraction}(r)){const{type:h,id:T}=r.data,V=Kc.mirror.getNode(T);V instanceof HTMLElement&&h===Ua.Click&&o.registerClick(V)}}catch{}}(o.clickDetector,l),o.addUpdate(()=>{if("buffer"===o.recordingMode&&T&&o.setInitialState(),!Pm(o,l,T))return!0;if(!T)return!1;if(function g2(o,r){!r||!o.session||0!==o.session.segmentId||Pm(o,function TT(o){const r=o.getOptions();return{type:xs.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:o.isRecordingCanvas(),sessionSampleRate:r.sessionSampleRate,errorSampleRate:r.errorSampleRate,useCompressionOption:r.useCompression,blockAllMedia:r.blockAllMedia,maskAllText:r.maskAllText,maskAllInputs:r.maskAllInputs,useCompression:!!o.eventBuffer&&"worker"===o.eventBuffer.type,networkDetailHasUrls:r.networkDetailAllowUrls.length>0,networkCaptureBodies:r.networkCaptureBodies,networkRequestHasHeaders:r.networkRequestHeaders.length>0,networkResponseHasHeaders:r.networkResponseHeaders.length>0}}}}(o),!1)}(o,T),o.session&&o.session.previousSessionId)return!0;if("buffer"===o.recordingMode&&o.session&&o.eventBuffer){const V=o.eventBuffer.getEarliestTimestamp();V&&(rs&&ds.info(`Updating session start time to earliest event in buffer to ${new Date(V)}`),o.session.started=V,o.getOptions().stickySession&&$g(o.session))}return"session"===o.recordingMode&&o.flush(),!0})}}function Yg(){return(Yg=(0,We.A)(function*({client:o,scope:r,replayId:l,event:h}){const V={event_id:l,integrations:"object"!=typeof o._integrations||null===o._integrations||Array.isArray(o._integrations)?void 0:Object.keys(o._integrations)};o.emit("preprocessEvent",h,V);const re=yield r_(o.getOptions(),h,V,r,o,Ar());if(!re)return null;re.platform=re.platform||"javascript";const ge=o.getSdkMetadata(),{name:we,version:Je}=ge&&ge.sdk||{};return re.sdk={...re.sdk,name:we||"sentry.javascript.unknown",version:Je||"0.0.0"},re})).apply(this,arguments)}function G1(){return G1=(0,We.A)(function*({recordingData:o,replayId:r,segmentId:l,eventContext:h,timestamp:T,session:V}){const re=function $1({recordingData:o,headers:r}){let l;const h=`${JSON.stringify(r)}\n`;if("string"==typeof o)l=`${h}${o}`;else{const V=(new TextEncoder).encode(h);l=new Uint8Array(V.length+o.length),l.set(V),l.set(o,V.length)}return l}({recordingData:o,headers:{segment_id:l}}),{urls:ge,errorIds:we,traceIds:Je,initialTimestamp:It}=h,Rt=Ms(),on=Vs(),yn=Rt&&Rt.getTransport(),gn=Rt&&Rt.getDsn();if(!(Rt&&yn&&gn&&V.sampled))return oc({});const An={type:z0,replay_start_timestamp:It/1e3,timestamp:T/1e3,error_ids:we,trace_ids:Je,urls:ge,replay_id:r,segment_id:l,replay_type:V.sampled},Zn=yield function DT(o){return Yg.apply(this,arguments)}({scope:on,client:Rt,replayId:r,event:An});if(!Zn)return Rt.recordDroppedEvent("event_processor","replay",An),rs&&ds.info("An event processor returned `null`, will not send event."),oc({});delete Zn.sdkProcessingMetadata;const qn=function j1(o,r,l,h){return ou(jn(o,pd(o),h,l),[[{type:"replay_event"},o],[{type:"replay_recording",length:"string"==typeof r?(new TextEncoder).encode(r).length:r.length},r]])}(Zn,re,gn,Rt.getOptions().tunnel);let bi;try{bi=yield yn.send(qn)}catch(Mi){const Gi=new Error(hg);try{Gi.cause=Mi}catch{}throw Gi}if("number"==typeof bi.statusCode&&(bi.statusCode<200||bi.statusCode>=300))throw new IT(bi.statusCode);const es=Kp({},bi);if(z_(es,"replay"))throw new jm(es);return bi}),G1.apply(this,arguments)}class IT extends Error{constructor(r){super(`Transport returned status code ${r}`)}}class jm extends Error{constructor(r){super("Rate limit hit"),this.rateLimits=r}}function GE(o){return W1.apply(this,arguments)}function W1(){return W1=(0,We.A)(function*(o,r={count:0,interval:sM}){const{recordingData:l,options:h}=o;if(l.length)try{return yield function V1(o){return G1.apply(this,arguments)}(o),!0}catch(T){if(T instanceof IT||T instanceof jm)throw T;if(Ac("Replays",{_retryCount:r.count}),rs&&h._experiments&&h._experiments.captureExceptions&&xo(T),r.count>=rM){const V=new Error(`${hg} - max retries exceeded`);try{V.cause=T}catch{}throw V}return r.interval*=++r.count,new Promise((V,re)=>{Md((0,We.A)(function*(){try{yield GE(o,r),V(!0)}catch(ge){re(ge)}}),r.interval)})}}),W1.apply(this,arguments)}const Qg="__THROTTLED";class zl{constructor({options:r,recordingOptions:l}){zl.prototype.__init.call(this),zl.prototype.__init2.call(this),zl.prototype.__init3.call(this),zl.prototype.__init4.call(this),zl.prototype.__init5.call(this),zl.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=l,this._options=r,this._debouncedFlush=function wh(o,r,l){let h,T,V;const re=l&&l.maxWait?Math.max(l.maxWait,r):0;function ge(){return we(),h=o(),h}function we(){void 0!==T&&clearTimeout(T),void 0!==V&&clearTimeout(V),T=V=void 0}function It(){return T&&clearTimeout(T),T=Md(ge,r),re&&void 0===V&&(V=Md(ge,re)),h}return It.cancel=we,It.flush=function Je(){return void 0!==T||void 0!==V?ge():h},It}(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=function Yc(o,r,l){const h=new Map;let re=!1;return(...ge)=>{const we=Math.floor(Date.now()/1e3);if((ge=>{const we=ge-l;h.forEach((Je,It)=>{It<we&&h.delete(It)})})(we),[...h.values()].reduce((ge,we)=>ge+we,0)>=r){const It=re;return re=!0,It?"__SKIPPED":Qg}re=!1;const Je=h.get(we)||0;return h.set(we,Je+1),o(...ge)}}((re,ge)=>function yE(o,r,l){return EE(o,r)?S1(o,r,l):Promise.resolve(null)}(this,re,ge),300,5);const{slowClickTimeout:h,slowClickIgnoreSelectors:T}=this.getOptions(),V=h?{threshold:Math.min(3e3,h),timeout:h,scrollTimeout:300,ignoreSelector:T?T.join(","):""}:void 0;if(V&&(this.clickDetector=new lE(this,V)),rs){const re=r._experiments;ds.setConfig({captureExceptions:!!re.captureExceptions,traceInternals:!!re.traceInternals})}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(r){rs&&ds.exception(r)}initializeSampling(r){const{errorSampleRate:l,sessionSampleRate:h}=this._options,T=l<=0&&h<=0;if(this._requiresManualStart=T,!T){if(this._initializeSessionForSampling(r),!this.session)return void(rs&&ds.exception(new Error("Unable to initialize and create session")));!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",rs&&ds.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&"session"===this.recordingMode)return void(rs&&ds.info("Recording is already in progress"));if(this._isEnabled&&"buffer"===this.recordingMode)return void(rs&&ds.info("Buffering is in progress, call `flush()` to save the replay"));rs&&ds.infoTick("Starting replay in session mode"),this._updateUserActivity();const r=Gg({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=r,this._initializeRecording()}startBuffering(){if(this._isEnabled)return void(rs&&ds.info("Buffering is in progress, call `flush()` to save the replay"));rs&&ds.infoTick("Starting replay in buffer mode");const r=Gg({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=r,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const r=this._canvas;this._stopRecording=Kc({...this._recordingOptions,..."buffer"===this.recordingMode&&{checkoutEveryNms:6e4},emit:VE(this),onMutation:this._onMutationHandler,...r?{recordCanvas:r.recordCanvas,getCanvasManager:r.getCanvasManager,sampling:r.sampling,dataURLOptions:r.dataURLOptions}:{}})}catch(r){this.handleException(r)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(r){return this.handleException(r),!1}}stop({forceFlush:r=!1,reason:l}={}){var h=this;return(0,We.A)(function*(){if(h._isEnabled){h._isEnabled=!1;try{rs&&ds.info("Stopping Replay"+(l?` triggered by ${l}`:"")),h._removeListeners(),h.stopRecording(),h._debouncedFlush.cancel(),r&&(yield h._flush({force:!0})),h.eventBuffer&&h.eventBuffer.destroy(),h.eventBuffer=null,function nT(o){(function iT(){if(M1())try{vr.sessionStorage.removeItem(pm)}catch{}})(),o.session=void 0}(h)}catch(T){h.handleException(T)}}})()}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),rs&&ds.info("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),rs&&ds.info("Resuming replay"))}sendBufferedReplayOrFlush({continueRecording:r=!0}={}){var l=this;return(0,We.A)(function*(){if("session"===l.recordingMode)return l.flushImmediate();const h=Date.now();rs&&ds.info("Converting buffer to session"),yield l.flushImmediate();const T=l.stopRecording();!r||!T||"session"!==l.recordingMode&&(l.recordingMode="session",l.session&&(l._updateUserActivity(h),l._updateSessionActivity(h),l._maybeSaveSession()),l.startRecording())})()}addUpdate(r){const l=r();"buffer"!==this.recordingMode&&!0!==l&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._checkSession())return;this.resume()}}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(!(this._lastActivity&&D1(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled))return!!this._checkSession();this.pause()}setInitialState(){const l=`${vr.location.origin}${vr.location.pathname}${vr.location.hash}${vr.location.search}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=l,this._context.initialTimestamp=Date.now(),this._context.urls.push(l)}throttledAddEvent(r,l){const h=this._throttledAddEvent(r,l);if(h===Qg){const T=Wl({category:"replay.throttled"});this.addUpdate(()=>!Pm(this,{type:5,timestamp:T.timestamp||0,data:{tag:"breadcrumb",payload:T,metric:!0}}))}return h}getCurrentRoute(){const r=this.lastActiveSpan||wo(),l=r&&po(r),T=(l&&ws(l).data||{})[Oi];if(l&&T&&["route","custom"].includes(T))return ws(l).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=function C1({useCompression:o,workerUrl:r}){if(o&&window.Worker){const l=function _E(o){try{const r=o||function gE(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?function fE(){const o=new Blob(['var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(J)return J.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),a=i.length;return q(i,n),j(i,a-8,r.d()),j(i,a-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});']);return URL.createObjectURL(o)}():""}();if(!r)return;rs&&ds.info("Using compression worker"+(o?` from ${o}`:""));const l=new Worker(r);return new mE(l)}catch(r){rs&&ds.exception(r,"Failed to create compression worker")}}(r);if(l)return l}return rs&&ds.info("Using simple buffer"),new Bg}({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(r){const h=Gg({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:r},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:this._options.errorSampleRate>0});this.session=h}_checkSession(){if(!this.session)return!1;const r=this.session;return!bE(r,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(r),!1)}_refreshSession(r){var l=this;return(0,We.A)(function*(){l._isEnabled&&(yield l.stop({reason:"refresh session"}),l.initializeSampling(r.id))})()}_addListeners(){try{vr.document.addEventListener("visibilitychange",this._handleVisibilityChange),vr.addEventListener("blur",this._handleWindowBlur),vr.addEventListener("focus",this._handleWindowFocus),vr.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(MT(this),this._hasInitializedCoreListeners=!0)}catch(r){this.handleException(r)}this._performanceCleanupCallback=function qM(o){function r(T){o.performanceEntries.includes(T)||o.performanceEntries.push(T)}function l({entries:T}){T.forEach(r)}const h=[];return["navigation","paint","resource"].forEach(T=>{h.push(gh(T,l))}),h.push(Wb(km(XM,o)),I0(km(QM,o)),zb(km(JM,o)),S0(km(ZM,o))),()=>{h.forEach(T=>T())}}(this)}_removeListeners(){try{vr.document.removeEventListener("visibilitychange",this._handleVisibilityChange),vr.removeEventListener("blur",this._handleWindowBlur),vr.removeEventListener("focus",this._handleWindowFocus),vr.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(r){this.handleException(r)}}__init(){this._handleVisibilityChange=()=>{"visible"===vr.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const r=Wl({category:"ui.blur"});this._doChangeToBackgroundTasks(r)}}__init3(){this._handleWindowFocus=()=>{const r=Wl({category:"ui.focus"});this._doChangeToForegroundTasks(r)}}__init4(){this._handleKeyboardEvent=r=>{!function xu(o,r){if(!o.isEnabled())return;o.updateUserActivity();const l=function Rm(o){const{metaKey:r,shiftKey:l,ctrlKey:h,altKey:T,key:V,target:re}=o;if(!re||function r2(o){return"INPUT"===o.tagName||"TEXTAREA"===o.tagName||o.isContentEditable}(re)||!V)return null;if(!(r||h||T)&&1===V.length)return null;const Je=Uo(re,{maxStringLength:200})||"<unknown>";return Wl({category:"ui.keyDown",message:Je,data:{...dE(re,Je).data,metaKey:r,shiftKey:l,ctrlKey:h,altKey:T,key:V}})}(r);l&&xm(o,l)}(this,r)}}_doChangeToBackgroundTasks(r){!this.session||vE(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(r&&this._createCustomBreadcrumb(r),this.conditionalFlush())}_doChangeToForegroundTasks(r){this.session&&(this.checkAndHandleExpiredSession()?r&&this._createCustomBreadcrumb(r):rs&&ds.info("Document has become active, but session has expired"))}_updateUserActivity(r=Date.now()){this._lastActivity=r}_updateSessionActivity(r=Date.now()){this.session&&(this.session.lastActivity=r,this._maybeSaveSession())}_createCustomBreadcrumb(r){this.addUpdate(()=>{this.throttledAddEvent({type:xs.Custom,timestamp:r.timestamp||0,data:{tag:"breadcrumb",payload:r}})})}_addPerformanceEntries(){const r=function hE(o){return o.map(WM).filter(Boolean)}(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(k1(this,r))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:r,eventBuffer:l}=this;if(!r||!l||this._requiresManualStart||r.segmentId)return;const h=l.getEarliestTimestamp();h&&h<this._context.initialTimestamp&&(this._context.initialTimestamp=h)}_popEventContext(){const r={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),r}_runFlush(){var r=this;return(0,We.A)(function*(){const l=r.getSessionId();if(r.session&&r.eventBuffer&&l){if(yield r._addPerformanceEntries(),r.eventBuffer&&r.eventBuffer.hasEvents&&(yield function _2(o){return Xg.apply(this,arguments)}(r),r.eventBuffer&&l===r.getSessionId()))try{r._updateInitialTimestampFromEventBuffer();const h=Date.now();if(h-r._context.initialTimestamp>r._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const T=r._popEventContext(),V=r.session.segmentId++;r._maybeSaveSession();const re=yield r.eventBuffer.finish();yield GE({replayId:l,recordingData:re,segmentId:V,eventContext:T,session:r.session,options:r.getOptions(),timestamp:h})}catch(h){r.handleException(h),r.stop({reason:"sendReplay"});const T=Ms();T&&T.recordDroppedEvent("send_error","replay")}}else rs&&ds.error("No session or eventBuffer found to flush.")})()}__init5(){var r=this;this._flush=(0,We.A)(function*({force:l=!1}={}){if(!r._isEnabled&&!l)return;if(!r.checkAndHandleExpiredSession())return void(rs&&ds.error("Attempting to finish replay event after session expired."));if(!r.session)return;const h=r.session.started,V=Date.now()-h;r._debouncedFlush.cancel();const re=V<r._options.minReplayDuration;if(re||V>r._options.maxReplayDuration+5e3)return rs&&ds.info(`Session duration (${Math.floor(V/1e3)}s) is too ${re?"short":"long"}, not sending replay.`),void(re&&r._debouncedFlush());const we=r.eventBuffer;if(we&&0===r.session.segmentId&&!we.hasCheckout&&rs&&ds.info("Flushing initial segment without checkout."),!r._flushLock)return r._flushLock=r._runFlush(),yield r._flushLock,void(r._flushLock=void 0);try{yield r._flushLock}catch(Je){rs&&ds.error(Je)}finally{r._debouncedFlush()}})}_maybeSaveSession(){this.session&&this._options.stickySession&&$g(this.session)}__init6(){this._onMutationHandler=r=>{const l=r.length,h=this._options.mutationLimit,V=h&&l>h;if(l>this._options.mutationBreadcrumbLimit||V){const re=Wl({category:"replay.mutations",data:{count:l,limit:V}});this._createCustomBreadcrumb(re)}return!V||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}}function Lr(o,r){return[...o,...r].join(",")}const Dl='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',zf=["content-length","content-type","accept"];let WE=!1;const $m=o=>new Kf(o);class Kf{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:r=5e3,flushMaxDelay:l=5500,minReplayDuration:h=4999,maxReplayDuration:T=36e5,stickySession:V=!0,useCompression:re=!0,workerUrl:ge,_experiments:we={},maskAllText:Je=!0,maskAllInputs:It=!0,blockAllMedia:Rt=!0,mutationBreadcrumbLimit:on=750,mutationLimit:yn=1e4,slowClickTimeout:gn=7e3,slowClickIgnoreSelectors:An=[],networkDetailAllowUrls:Zn=[],networkDetailDenyUrls:qn=[],networkCaptureBodies:bi=!0,networkRequestHeaders:es=[],networkResponseHeaders:Mi=[],mask:Gi=[],maskAttributes:ri=["title","placeholder"],unmask:zn=[],block:_i=[],unblock:Cs=[],ignore:ui=[],maskFn:Ri,beforeAddRecordingEvent:ts,beforeErrorSampling:tr}={}){this.name=Kf.id;const ur=function xh({mask:o,unmask:r,block:l,unblock:h,ignore:T}){return{maskTextSelector:Lr(o,[".sentry-mask","[data-sentry-mask]"]),unmaskTextSelector:Lr(r,[]),blockSelector:Lr(l,[".sentry-block","[data-sentry-block]",'base[href="/"]']),unblockSelector:Lr(h,[]),ignoreSelector:Lr(T,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}({mask:Gi,unmask:zn,block:_i,unblock:Cs,ignore:ui});if(this._recordingOptions={maskAllInputs:It,maskAllText:Je,maskInputOptions:{password:!0},maskTextFn:Ri,maskInputFn:Ri,maskAttributeFn:(to,Kn,gi)=>function Jg({el:o,key:r,maskAttributes:l,maskAllText:h,privacyOptions:T,value:V}){return!h||T.unmaskTextSelector&&o.matches(T.unmaskTextSelector)?V:l.includes(r)||"value"===r&&"INPUT"===o.tagName&&["submit","button"].includes(o.getAttribute("type")||"")?V.replace(/[\S]/g,"*"):V}({maskAttributes:ri,maskAllText:Je,privacyOptions:ur,key:to,value:Kn,el:gi}),...ur,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:to=>{try{to.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:r,flushMaxDelay:l,minReplayDuration:Math.min(h,15e3),maxReplayDuration:Math.min(T,36e5),stickySession:V,useCompression:re,workerUrl:ge,blockAllMedia:Rt,maskAllInputs:It,maskAllText:Je,mutationBreadcrumbLimit:on,mutationLimit:yn,slowClickTimeout:gn,slowClickIgnoreSelectors:An,networkDetailAllowUrls:Zn,networkDetailDenyUrls:qn,networkCaptureBodies:bi,networkRequestHeaders:z1(es),networkResponseHeaders:z1(Mi),beforeAddRecordingEvent:ts,beforeErrorSampling:tr,_experiments:we},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Dl}`:Dl),this._isInitialized&&Lf())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return WE}set _isInitialized(r){WE=r}afterAllSetup(r){!Lf()||this._replay||(this._setup(r),this._initialize(r))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}flush(r){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(r):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(this._replay&&this._replay.isEnabled())return this._replay.getSessionId()}_initialize(r){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(r),this._replay.initializeSampling())}_setup(r){const l=function zE(o,r){const l=r.getOptions(),h={sessionSampleRate:0,errorSampleRate:0,...Mr(o)},T=Nc(l.replaysSessionSampleRate),V=Nc(l.replaysOnErrorSampleRate);return null==T&&null==V&&tc(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),null!=T&&(h.sessionSampleRate=T),null!=V&&(h.errorSampleRate=V),h}(this._initialOptions,r);this._replay=new zl({options:l,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(r){try{const l=r.getIntegrationByName("ReplayCanvas");if(!l)return;this._replay._canvas=l.getOptions()}catch{}}}function z1(o){return[...zf,...o.map(r=>r.toLowerCase())]}Kf.__initStatic();const wT={};var Nr=a(285),KE=a(6511),xT=a(3801),vo=a(4921),Vm=a(785),Hf=a(8482),Zg=a(7080);function Gm(o,r){1&o&&i.nrm(0,"global-chat")}function qg(o,r){1&o&&i.nrm(0,"debug-console")}const K1=location.search;window.global=window;let XE=(()=>{class o extends Gn.Tv{get debug(){return window.debug&&!0===this._settings.get("app.allow_debugging")}get has_chat(){return this._settings.get("app.chat.enabled")}constructor(l,h,T,V,re,ge,we,Je,It,Rt,on){super(),this._analytics=l,this._settings=h,this._org=T,this._cache=V,this._snackbar=re,this._hotkey=ge,this._clipboard=we,this._route=Je,this._router=It,this._maps=Rt,this._translate=on}ngOnInit(){var l=this;return(0,We.A)(function*(){(0,Gn.Rm)("APP","MOCKS:",wT),l._hotkey.listen(["Control","Alt","Shift","KeyM"],()=>{localStorage.setItem("mock",`${"true"!==localStorage.getItem("mock")}`),location.reload()}),l._hotkey.listen(["Control","Alt","Shift","KeyD"],()=>{l._settings.saveUserSetting("dark_mode",!l._settings.get("dark_mode")),(0,Gn.VX)("Toggled dark mode.")}),l._hotkey.listen(["Control","Alt","Shift","KeyC"],()=>{l._clipboard.copy(`${(0,mn.ShT)()}|${(0,mn.Be_)()}`),(0,Gn.VX)("Successfully copied token.")}),l._hotkey.listen(["Control","Alt","Shift","KeyV"],()=>{navigator.clipboard?.readText().then(T=>l._pasteToken(T))}),window.pasteToken=T=>l._pasteToken(T),l._route.queryParamMap.subscribe(T=>{if(T.has("hide_nav")&&localStorage.setItem("PlaceOS.hide_nav","true"),T.has("lang")){const V=T.get("lang");l._translate?.use(V),localStorage.setItem("PLACEOS.locale",V)}T.has("x-api-key")&&(0,mn.BCG)(T.get("x-api-key"))}),(0,Gn.To)(l._snackbar),yield l._settings.initialised.pipe((0,Wt.$)(T=>T)).toPromise(),(0,Gn.Xf)(l._settings.get("app.short_name"));const h=l._settings.get("composer")||{};if(h.mock=!!l._settings.get("mock")||location.origin.includes("demo.place.tech"),K1){const T=(0,mn.omv)(K1.substring(1));l._router.navigate([],{relativeTo:l._route,queryParams:T})}yield(0,Gn.jJ)(h).catch(T=>console.error(T)),yield l._org.initialised.pipe((0,Wt.$)(T=>T)).toPromise(),(0,Gn.WQ)(l._cache),h.local_login||l.timeout("wait_for_user",()=>l.onInitError(),3e4),yield Gn.U5.pipe((0,Wt.$)(T=>!!T)).toPromise(),l.clearTimeout("wait_for_user"),l._initLocale(),(0,$s.Z4)(l._settings.get("app.general.internal_user_domain")||`@${(0,Gn.Ny)()?.email?.split("@")[1]}`),l._initAnalytics(),function HE(o,r=.1){o&&function ay(o){const r={defaultIntegrations:[vs(),Oo(),Up(),F_(),B_(),dc(),Wp()],...o};return M_(r,"angular"),function ly(){const r=i.xvI&&i.xvI.major?parseInt(i.xvI.major,10):void 0;r&&(r<14&&cg&&Wn.warn(`This Sentry SDK does not officially support Angular ${r}.`,"This SDK only supports Angular 14 and above.","If you're using lower Angular versions, check the Angular Version Compatibility table in our docs: https://docs.sentry.io/platforms/javascript/guides/angular/#angular-version-compatibility.","Otherwise, please consider upgrading your Angular version."),Ac("angular",{version:r}))}(),Hp(r)}({dsn:o,integrations:[ZC(),$m({maskAllText:!1,blockAllMedia:!1})],tracesSampleRate:1,tracePropagationTargets:["localhost",/^https:\/\/[a-zA-Z0-9_\-]*\.[a-zA-Z0-9]*\/api/,/^https:\/\/[a-zA-Z0-9_\-]*\.placeos\.run*\/api/],replaysSessionSampleRate:r,replaysOnErrorSampleRate:1})}(l._settings.get("app.sentry_dsn"));try{const T=(0,mn.ShT)();(0,Gn.HQ)()&&(0,KE.sM)("x-api-key"===T?{"x-api-key":(0,mn.Kz4)()}:{Authorization:`Bearer ${T}`}),l._settings.get("app.has_uploads")&&l.timeout("init_uploads",()=>{(0,Nr.yd)({auto_start:!0,token:(0,mn.ShT)(),endpoint:"/api/engine/v2/uploads",worker_url:"assets/md5_worker.js",providers:[Nr.LJ,Nr.Y9,Nr.yF,Nr.xB]})}),(0,mn.vWy)()&&(l.interval("auto-update-version",()=>l._checkReload(),15e3),yield(0,Gn.Hh)())}catch{}})()}onInitError(){(0,mn.TMs)()||(0,Gn.Ny)()?.is_logged_in||((0,mn.XTx)(),location.reload())}_initAnalytics(){const l=this._settings.get("app.analytics.tracking_id");l&&(this._analytics.init(l),this._analytics.load(l),this._analytics.setUser((0,Gn.Ny)().id))}_initLocale(){try{let l=localStorage.getItem("PLACEOS.locale");const h=this._settings.get("app.locales")||[];if(this._translate?.addLangs(h.map(T=>T.id)),l)this._translate?.use(l);else{const T=navigator.languages;for(const V of T)if(l=h.find(re=>re.id===V),l||(l=h.find(re=>V.includes(re.id))),l){this._translate?.use(V),localStorage.setItem("PLACEOS.locale",V);break}}}catch{}}_pasteToken(l){const h=l.split("|"),T=(0,mn.L2z)();localStorage.setItem(`${T}_access_token`,`${h[0]}`),localStorage.setItem(`${T}_refresh_token`,`${h[1]}`),localStorage.setItem(`${T}_expires_at`,`${(0,Rn.L)(new Date,6).valueOf()}`),(0,Gn.VX)("Successfully pasted token."),setTimeout(()=>location.reload(),2e3)}_checkReload(){(0,Gn.tU)()&&(location.reload(),this.timeout("reload",()=>location.href=`${location.origin}${location.pathname}`))}static#e=this.\u0275fac=function(h){return new(h||o)(i.rXU(Gn.p),i.rXU(Gn.h$),i.rXU(Zi.y),i.rXU(Ut),i.rXU(ul),i.rXU(Gn.dr),i.rXU(xT.B0),i.rXU(ai.nX),i.rXU(ai.Ix),i.rXU(Ps._),i.rXU(ii.c$,8))};static#t=this.\u0275cmp=i.VBU({type:o,selectors:[["app-root"]],features:[i.Vt3],decls:6,vars:2,consts:[[1,"flex-1","w-full","relative","h-1/2"],[4,"ngIf"]],template:function(h,T){1&h&&(i.nrm(0,"global-banner"),i.j41(1,"div",0),i.nrm(2,"router-outlet"),i.k0s(),i.DNE(3,Gm,1,0,"global-chat",1),i.nrm(4,"global-loading"),i.DNE(5,qg,1,0,"debug-console",1)),2&h&&(i.R7$(3),i.Y8G("ngIf",T.has_chat),i.R7$(2),i.Y8G("ngIf",T.debug))},dependencies:[Ts.bT,ai.n3,vo.h,Vm.p,Hf.O,Zg.K],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%}"]})}return o})();var H1=a(363);function YE(o){return new Fi(o,"./assets/locale/",".json")}let b2=(()=>{class o{static#e=this.\u0275fac=function(h){return new(h||o)};static#t=this.\u0275mod=i.$C({type:o,bootstrap:[XE]});static#n=this.\u0275inj=i.G2t({providers:[{provide:et.wO,useValue:{separatorKeyCodes:[je.Fm,je.KE]}},{provide:i.zcH,useValue:G0({showDialog:!1})},{provide:py,deps:[ai.Ix]},{provide:i.hnV,useFactory:()=>()=>{},deps:[py],multi:!0},(0,d.$R)((0,d.Sx)())],imports:[e.Bb,De,Qa,Hr,H1.r,ii.h.forRoot({defaultLanguage:"en",loader:{provide:ii.Wr,useFactory:YE,deps:[d.Qq]}}),Hn.register("ngsw-worker.js",{enabled:true})]})}return o})();(0,i.SmG)(),e.sG().bootstrapModule(b2).catch(o=>console.error(o))},7236:(Mt,pe,a)=>{"use strict";a.d(pe,{$C:()=>z.$C,s1:()=>O,G1:()=>K.G1,AO:()=>K.AO,y3:()=>K.y3,nP:()=>K.nP,ro:()=>K.ro,SY:()=>G.SY,QP:()=>G.QP,rC:()=>G.rC,fF:()=>G.fF,iZ:()=>K.iZ,vt:()=>K.vt,FK:()=>K.FK,iO:()=>K.iO,fc:()=>K.fc,_B:()=>K._B,hi:()=>K.hi,We:()=>K.We,qG:()=>K.qG,N3:()=>K.N3,Dt:()=>K.Dt,qA:()=>K.qA,RF:()=>K.RF,N6:()=>K.N6,E4:()=>K.E4});var e=a(177),i=a(6815),d=a(3046),p=a(9417),E=(a(7471),a(8751),a(4358),a(6041),a(7807),a(8965),a(3618),a(3953));let O=(()=>{class F{static#e=this.\u0275fac=function(P){return new(P||F)};static#t=this.\u0275mod=E.$C({type:F});static#n=this.\u0275inj=E.G2t({imports:[e.MD,d.cQ,p.YN,p.X1,i.hI]})}return F})();var z=a(4011),G=a(2615),K=a(5204)},8965:(Mt,pe,a)=>{"use strict";a.d(pe,{i:()=>b,r:()=>g});var e=a(467),i=a(4011),d=a(5204),p=a(3953);const m=[],_=new i.OD;function g(u){for(const S of u)m.find(({id:D})=>D===S.id)||m.push(S)}let b=(()=>{class u{transform(D){return(0,e.A)(function*(){if(!D)return _;let E=m.find(({id:v})=>v===D);if(E)return E;const A=yield(0,d.RF)(D).toPromise().catch(v=>null);return A?(E={...A},m.push(E),E):_})()}updateAssetGroupList(D){g(D)}static#e=this.\u0275fac=function(E){return new(E||u)};static#t=this.\u0275pipe=p.EJ8({name:"assetgroup",type:u,pure:!0})}return u})()},3618:(Mt,pe,a)=>{"use strict";a.d(pe,{Q:()=>F});var e=a(3953),i=a(9417),d=a(4233),p=a(7471),m=a(6088),_=a(3747),g=a(7375),b=a(4512),u=a(3601),S=a(4006),D=a(177),E=a(9434),A=a(6600),v=a(4823);function O(H,Y){if(1&H&&(e.j41(0,"div",15)(1,"app-icon"),e.EFF(2,"priority_high"),e.k0s()()),2&H){const P=e.XpG().$implicit,U=e.XpG();e.Y8G("matTooltip",U.err_tooltip(P))}}function z(H,Y){if(1&H){const P=e.RV6();e.j41(0,"div",16)(1,"div",17),e.EFF(2),e.k0s(),e.j41(3,"div",18),e.EFF(4),e.k0s(),e.j41(5,"button",19),e.bIt("click",function(){const $=e.eBV(P).$implicit,B=e.XpG().$implicit,y=e.XpG();return e.Njj(y.removeRequestItem(B,$))}),e.j41(6,"app-icon"),e.EFF(7,"delete"),e.k0s()(),e.j41(8,"button",20),e.bIt("click",function(){const $=e.eBV(P).$implicit,B=e.XpG(2);return e.Njj(B.toggleFavourite($))}),e.j41(9,"app-icon"),e.EFF(10),e.k0s()()()}if(2&H){const P=Y.$implicit,U=e.XpG(2);e.R7$(2),e.SpI(" ",P.name||"Item"," "),e.R7$(2),e.SpI(" x",P.quantity," "),e.R7$(4),e.AVh("text-blue-400",U.favorites.includes(P.id)),e.Y8G("matTooltip",U.favorites.includes(P.id)?"Remove from favourites":"Add to favourites"),e.R7$(2),e.JRh(U.favorites.includes(P.id)?"favorite":"favorite_border")}}function G(H,Y){if(1&H){const P=e.RV6();e.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div"),e.EFF(5),e.nI1(6,"date"),e.nI1(7,"date"),e.k0s(),e.DNE(8,O,3,1,"div",8),e.k0s()(),e.j41(9,"button",9),e.bIt("click",function(){const $=e.eBV(P).$implicit,B=e.XpG();return e.Njj(B.duplicateRequest($))}),e.j41(10,"app-icon"),e.EFF(11,"content_copy"),e.k0s()(),e.j41(12,"button",10),e.bIt("click",function(){const $=e.eBV(P).$implicit,B=e.XpG();return e.Njj(B.editRequest($))}),e.j41(13,"app-icon"),e.EFF(14,"edit"),e.k0s()(),e.j41(15,"button",11),e.bIt("click",function(){const $=e.eBV(P).$implicit,B=e.XpG();return e.Njj(B.removeRequest($))}),e.j41(16,"app-icon"),e.EFF(17,"delete"),e.k0s()(),e.j41(18,"button",12),e.bIt("click",function(){const $=e.eBV(P).$implicit,B=e.XpG();return e.Njj(B.show_request[$.id]=!B.show_request[$.id])}),e.j41(19,"app-icon"),e.EFF(20),e.k0s()()(),e.j41(21,"div",13),e.DNE(22,z,11,6,"div",14),e.k0s()()}if(2&H){const P=Y.$implicit,U=e.XpG();e.AVh("border-error",U.end_time<P.deliver_at)("border-base-300",U.end_time>=P.deliver_at),e.R7$(5),e.Lme(" Request for ",e.i5U(6,11,P.deliver_at_time,"mediumDate")," at ",e.i5U(7,14,P.deliver_at_time,U.time_format)," "),e.R7$(3),e.Y8G("ngIf",U.end_time<=P.deliver_at||U.rejected_ids.includes(P.id)||P.conflict),e.R7$(10),e.Y8G("matTooltip",U.show_request[P.id]?"Hide order items":"Show order items"),e.R7$(2),e.SpI(" ",U.show_request[P.id]?"expand_less":"expand_more"," "),e.R7$(),e.Y8G("@show",U.show_request[P.id]?"show":"hide"),e.R7$(),e.Y8G("ngForOf",P.items)}}const K=[];let F=(()=>{class H{err_tooltip(P){return this.rejected_ids.includes(P.id)||P.conflict?"Some of the items are not available for the selected date and time.":"Delivery time is outside of the event time.\nThis order will be ignored."}get favorites(){return this._settings.get("favourite_assets")||K}get end_time(){const P=(this.options.date||Date.now())+60*(this.options.duration||30)*1e3;return this.options.all_day?(0,b.D)(P).valueOf():P}get time_format(){return this._settings.time_format||"shortTime"}constructor(P,U,$){this._settings=P,this._dialog=U,this._state=$,this.options={},this.rejected_ids=[],this.asset_requests=[],this.disabled=!1,this.show_request={},this.selected=[],this.registerOnChange=B=>this._onChange=B,this.registerOnTouched=B=>this._onTouch=B,this.setDisabledState=B=>this.disabled=B}ngOnChanges(P){P.options&&(this.asset_requests=(this.asset_requests||[]).map(U=>new _.Y({...U,event:this.options})),this._state.setOptions({date:this.options.date,duration:this.options.duration}))}setValue(P){this.asset_requests=P,this._onChange&&this._onChange(this.asset_requests)}writeValue(P){this.asset_requests=(P||[]).map(U=>new _.Y({...U,event:this.options,state:U.state}))}editRequest(P=new _.Y){const U=this.asset_requests.filter(y=>y.id!==P.id),$={};for(const y of U)for(const I of y.items)$[I.id]=($[I.id]||0)+I?.quantity||0;const B=this._dialog.open(p.f,{data:{items:P.items,details:{...this.options,date:this.options.all_day?(0,u.o)(this.options.date).valueOf():this.options.date,duration:this.options.all_day?Math.max(1440,this.options.duration):this.options.duration},exact_time:!!P.deliver_time,offset:P.deliver_offset,offset_day:P.deliver_day_offset,requested:$}});B.afterClosed().subscribe(y=>{const I=this.asset_requests.filter(Q=>Q.id!==P.id);if(!y?.length)return;for(const Q of y)if(Q.assets?.length){const te=[];Q.item_ids=new Array(Q.quantity).fill(0).map(R=>{let ee="";for(;(!ee||te.includes(ee))&&0<Q.assets.length;)ee=Q.assets[(0,g.HO)(Q.assets.length)].id;return te.push(ee),ee})}const w=new Date(this.options.date),L=new _.Y({...P,conflict:!1,_changed:P._changed||P.items.find(Q=>y.find(te=>te.id===Q.id)?.quantity!==Q.quantity),items:y.map(Q=>({...Q})),event:this.options,deliver_offset:B.componentInstance.offset,deliver_time:B.componentInstance.exact_time?w.getHours()+w.getMinutes()/60:null,deliver_day_offset:B.componentInstance.offset_day||0});for(const Q of L.items)if(I.reduce((R,ee)=>R+(ee.items.find(k=>k.id===Q.id)?.quantity||0),0)+Q.quantity>Q.assets.length)return void(0,g.UG)(`Not enough assets available to meet request [${Q.name}].\n                        Another request for this asset has been made in this meeting.`,void 0,void 0,{duration:5e3});L.item_count<=0||this.setValue([...I,L])})}removeRequest(P){const U=this.asset_requests.filter($=>$.id!==P.id);this.setValue(U)}duplicateRequest(P){const U=new _.Y({...P,id:`order-${(0,g.DU)(8)}`});this.setValue([...this.asset_requests,U])}removeRequestItem(P,U){const $=new _.Y({...P,items:P.items.filter(y=>y.id!==U.id)}),B=this.asset_requests.filter(y=>y.id!==P.id);this.setValue($.items.length>0?[...B,$]:B)}toggleFavourite(P){const U=this.favorites;U.includes(P.id)?this._settings.saveUserSetting("favourite_assets",U.filter(B=>B!==P.id)):this._settings.saveUserSetting("favourite_assets",[...U,P.id])}static#e=this.\u0275fac=function(U){return new(U||H)(e.rXU(d.h),e.rXU(S.bZ),e.rXU(m.R))};static#t=this.\u0275cmp=e.VBU({type:H,selectors:[["asset-list-field"]],inputs:{options:"options",rejected_ids:"rejected_ids"},features:[e.Jv_([{provide:i.kq,useExisting:(0,e.Rfq)(()=>H),multi:!0}]),e.OA$],decls:8,vars:2,consts:[["list","",1,"space-y-2"],["request","","class","border shadow bg-base-100 rounded-xl overflow-hidden",3,"border-error","border-base-300",4,"ngFor","ngForOf"],["btn","","matRipple","","add-space","",1,"w-full","inverse","mt-2",3,"click","disabled"],[1,"flex","items-center","justify-center","space-x-2"],["request","",1,"border","shadow","bg-base-100","rounded-xl","overflow-hidden"],[1,"flex","items-center","space-x-2","p-4"],[1,"flex-1"],[1,"flex","items-center","space-x-4"],["class","flex items-center justify-center h-6 w-6 rounded-full bg-error text-error-content",3,"matTooltip",4,"ngIf"],["icon","","matRipple","","matTooltip","Duplicate Request",3,"click"],["icon","","matRipple","","matTooltip","Edit Request",3,"click"],["icon","","matRipple","","matTooltip","Remove Request",1,"text-error",3,"click"],["icon","","matRipple","",3,"click","matTooltip"],[1,"flex","flex-col","bg-base-200","divide-y","divide-base-100"],["class","flex items-center px-4 py-1 space-x-2 hover:opacity-90",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-center","h-6","w-6","rounded-full","bg-error","text-error-content",3,"matTooltip"],[1,"flex","items-center","px-4","py-1","space-x-2","hover:opacity-90"],[1,"flex","items-center","flex-1"],[1,"rounded","bg-success","text-success-content","text-xs","px-2","py-1"],["icon","","matRipple","","matTooltip","Remove Request Item",1,"text-error",3,"click"],["icon","","matRipple","","name","toggle-catering-item-favourite",3,"click","matTooltip"]],template:function(U,$){1&U&&(e.j41(0,"div",0),e.DNE(1,G,23,17,"div",1),e.k0s(),e.j41(2,"button",2),e.bIt("click",function(){return $.editRequest()}),e.j41(3,"div",3)(4,"app-icon"),e.EFF(5,"search"),e.k0s(),e.j41(6,"span"),e.EFF(7,"Add Asset"),e.k0s()()()),2&U&&(e.R7$(),e.Y8G("ngForOf",$.asset_requests),e.R7$(),e.Y8G("disabled",$.disabled))},dependencies:[D.Sq,D.bT,E.R,A.r6,v.oV,D.vh],data:{animation:[g.Ft]}})}return H})()},3747:(Mt,pe,a)=>{"use strict";a.d(pe,{Y:()=>b});var e=a(7375),i=a(1406),d=a(906),p=a(3601),m=a(7926),_=a(2357);function g(u){let S=u.event?.date||u._time;return u.deliver_time&&(S=(0,i.h)(S,{hours:Math.floor(u.deliver_time),minutes:u.deliver_time%1*60}).valueOf()),(u.deliver_day_offset>0||u.event?.all_day)&&(S=(0,d.f)((0,p.o)(S),u.deliver_day_offset).valueOf()),(0,m.z)(S,u.deliver_offset).valueOf()}class b{get deliver_at(){return g(this)}get status(){return this._status}set status(S){this._status=S,this[`${this.event_id}_status`]=S}constructor(S={}){this.conflict=!1,this._changed=!1,this._time=(0,_.c)(Date.now()).valueOf(),this.id=S.id||`order-${(0,e.HO)(9999999,1e6)}`,this.event_id=S.event_id||S.parent_id||"",this.items=S.items||S.asset_ids?.map(E=>({id:E,quantity:1}))||[],this.item_count=this.items.reduce((E,A)=>E+A.quantity,0),this._status=S[`${this.event_id}_status`]||S.status||(S.extension_data||{})[`${this.event_id}_status`]||S.extension_data?.status||"in_storage",this.event=S.event||S||null;const D=this.event?.linked_bookings?.find(E=>E.extension_data.request_id===this.id);this._booking=D||S.booking||null,this._changed=!!S._changed||!D,this.notes=S.notes||S.description||"",this.deliver_time=S.deliver_time||S.extension_data?.deliver_time||void 0,this.deliver_offset=S.deliver_offset||S.extension_data?.deliver_offset||0,this.deliver_day_offset=S.deliver_day_offset||S.extension_data?.deliver_day_offset||0,this.deliver_at_time=g(this),this.conflict=!!S.conflict,this.ref_id=`${this.deliver_at_time}|${this.items.map(E=>`${E.id}:${E.quantity}`).join("|")}`}toJSON(){const S={...this};return delete S.event,delete S._changed,delete S._status,delete S._time,delete S.deliver_at_time,delete S.deliver_at,S.items=S.items.map(D=>({id:D.id,category_id:D.category_id,quantity:D.quantity,name:D.name,item_ids:D.item_ids})),S}}},8751:(Mt,pe,a)=>{"use strict";a.d(pe,{o:()=>S});var e=a(3953),i=a(177),d=a(5507),p=a(9417),m=a(9434),_=a(5277),g=a(6600);function b(D,E){if(1&D){const A=e.RV6();e.qex(0),e.j41(1,"section",2),e.nrm(2,"image-carousel",3),e.j41(3,"button",4),e.bIt("click",function(){e.eBV(A);const O=e.XpG();return e.Njj(O.close.emit())}),e.j41(4,"app-icon"),e.EFF(5,"arrow_back"),e.k0s()(),e.j41(6,"button",5),e.bIt("click",function(){e.eBV(A);const O=e.XpG();return e.Njj(O.toggleFav.emit())}),e.j41(7,"app-icon"),e.EFF(8),e.k0s()()(),e.j41(9,"div",6)(10,"section",7)(11,"div")(12,"h2",8),e.EFF(13),e.k0s(),e.j41(14,"p"),e.EFF(15),e.k0s()(),e.j41(16,"a-counter",9),e.mxI("ngModelChange",function(O){e.eBV(A);const z=e.XpG();return e.DH7(z.item.quantity,O)||(z.item.quantity=O),e.Njj(O)}),e.bIt("ngModelChange",function(O){e.eBV(A);const z=e.XpG();return e.Njj(z.countChange.emit(O))}),e.k0s()(),e.nrm(17,"hr"),e.j41(18,"section",10)(19,"h2",11),e.EFF(20,"Details"),e.k0s(),e.j41(21,"div",12)(22,"p"),e.EFF(23),e.k0s()()()(),e.j41(24,"div",13)(25,"button",14),e.bIt("click",function(){e.eBV(A);const O=e.XpG();return O.active=!O.active,e.Njj(O.activeChange.emit(O.active))}),e.j41(26,"div",15)(27,"app-icon",16),e.EFF(28),e.k0s(),e.j41(29,"p"),e.EFF(30),e.k0s()()()(),e.bVm()}if(2&D){const A=e.XpG();e.R7$(2),e.Y8G("images",A.item.images),e.R7$(4),e.AVh("text-info-content",A.fav)("!bg-info",A.fav),e.R7$(2),e.SpI(" ",A.fav?"favorite":"favorite_border"," "),e.R7$(5),e.SpI(" ",A.item.name," "),e.R7$(2),e.SpI(" ",(null!=A.item.available?A.item.available:null==A.item.assets?null:A.item.assets.length)||0," Available "),e.R7$(),e.R50("ngModel",A.item.quantity),e.Y8G("min",1)("max",(null!=A.item.available?A.item.available:null==A.item.assets?null:A.item.assets.length)||1),e.R7$(7),e.JRh(A.item.description||"No description"),e.R7$(2),e.AVh("inverse",A.active),e.R7$(3),e.SpI(" ",A.active?"remove":"add"," "),e.R7$(2),e.SpI(" ",A.active?"Remove this asset":"Add this asset"," ")}}function u(D,E){1&D&&(e.j41(0,"div",17)(1,"p",18),e.EFF(2," Select an asset to view it's details "),e.k0s()())}let S=(()=>{class D{constructor(){this.active=!1,this.fav=!1,this.toggleFav=new e.bkB,this.activeChange=new e.bkB,this.countChange=new e.bkB,this.close=new e.bkB}ngOnInit(){this.item&&!this.item.quantity&&(this.item.quantity=1)}ngOnChanges(A){A.item&&this.item&&(this.item.quantity||(this.item.quantity=1))}static#e=this.\u0275fac=function(v){return new(v||D)};static#t=this.\u0275cmp=e.VBU({type:D,selectors:[["asset-details"]],inputs:{item:"item",active:"active",fav:"fav"},outputs:{toggleFav:"toggleFav",activeChange:"activeChange",countChange:"countChange",close:"close"},features:[e.OA$],decls:3,vars:2,consts:[["empty_state",""],[4,"ngIf","ngIfElse"],["image","",1,"relative","w-full","h-64","sm:h-40","bg-base-200"],[1,"absolute","inset-0",3,"images"],["icon","","matRipple","","close","",1,"absolute","top-2","left-2","bg-base-200","sm:hidden",3,"click"],["icon","","matRipple","","fav","",1,"absolute","top-2","right-2","bg-base-200",3,"click"],[1,"p-2","space-y-2","flex-1","h-1/2","overflow-auto"],["actions","",1,"z-0","flex","items-center","justify-between"],[1,"text-xl","font-medium","mb-2","mt-4"],[3,"ngModelChange","ngModel","min","max"],["details","",1,"space-y-2"],[1,"text-xl","font-medium"],[1,"flex","items-center","space-x-2"],[1,"p-2","border-t","border-base-200","shadow","sm:hidden"],["btn","","matRipple","","select","",1,"w-full",3,"click"],[1,"flex","items-center","justify-center"],[1,"text-2xl"],["empty","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[1,"opacity-30","text-center"]],template:function(v,O){if(1&v&&e.DNE(0,b,31,16,"ng-container",1)(1,u,3,0,"ng-template",null,0,e.C5r),2&v){const z=e.sdS(2);e.Y8G("ngIf",O.item)("ngIfElse",z)}},dependencies:[i.bT,d.s,p.BC,p.vS,m.R,_.H,g.r6],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:30%;min-width:20rem;height:100%;min-height:65vh}"]})}return D})()},6041:(Mt,pe,a)=>{"use strict";a.d(pe,{t:()=>i});var e=a(3953);let i=(()=>{class d{static#e=this.\u0275fac=function(_){return new(_||d)};static#t=this.\u0275cmp=e.VBU({type:d,selectors:[["asset-filters-display"]],decls:0,vars:0,template:function(_,g){}})}return d})()},4358:(Mt,pe,a)=>{"use strict";a.d(pe,{F:()=>B});var e=a(3953),i=a(6088),d=a(7375),p=a(3601),m=a(906),_=a(4512),g=a(7926),b=a(2037),u=a(177),S=a(3476),D=a(9417),E=a(9434),A=a(6600),v=a(3719),O=a(2798),z=a(9631),G=a(4823),K=a(2765);function F(y,I){1&y&&(e.j41(0,"h3",11),e.pXf(1,0),e.k0s())}function H(y,I){if(1&y&&(e.j41(0,"mat-option",18),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&y){const w=I.$implicit;e.Y8G("value",w.id),e.R7$(),e.SpI(" ",e.i5U(2,2,w.value,"mediumDate")," ")}}function Y(y,I){if(1&y){const w=e.RV6();e.qex(0),e.j41(1,"label"),e.EFF(2,"Deliver Date:"),e.k0s(),e.j41(3,"mat-form-field",15)(4,"mat-select",16),e.mxI("ngModelChange",function(Q){e.eBV(w);const te=e.XpG(2);return e.DH7(te.offset_day,Q)||(te.offset_day=Q),e.Njj(Q)}),e.bIt("ngModelChange",function(Q){e.eBV(w);const te=e.XpG(2);return e.Njj(te.offset_dayChange.next(Q))}),e.DNE(5,H,3,5,"mat-option",17),e.k0s()(),e.bVm()}if(2&y){const w=e.XpG(2);e.R7$(4),e.R50("ngModel",w.offset_day),e.R7$(),e.Y8G("ngForOf",w.day_options)}}function P(y,I){if(1&y){const w=e.RV6();e.j41(0,"div",9)(1,"mat-checkbox",12),e.mxI("ngModelChange",function(Q){e.eBV(w);const te=e.XpG();return e.DH7(te.at_time,Q)||(te.at_time=Q),e.Njj(Q)}),e.bIt("ngModelChange",function(Q){e.eBV(w);const te=e.XpG();return e.Njj(te.at_timeChange.next(Q))}),e.EFF(2," Exact Time "),e.k0s(),e.DNE(3,Y,6,2,"ng-container",13),e.j41(4,"label"),e.EFF(5,"Deliver After:"),e.k0s(),e.j41(6,"a-duration-field",14),e.nI1(7,"async"),e.mxI("ngModelChange",function(Q){e.eBV(w);const te=e.XpG();return e.DH7(te.offset,Q)||(te.offset=Q),e.Njj(Q)}),e.bIt("ngModelChange",function(Q){e.eBV(w);const te=e.XpG();return e.Njj(te.offsetChange.next(Q))}),e.k0s()()}if(2&y){let w;const L=e.XpG();e.R7$(),e.R50("ngModel",L.at_time),e.Y8G("matTooltip",L.exact_tooltip),e.R7$(2),e.Y8G("ngIf",L.day_options.length>1),e.R7$(3),e.R50("ngModel",L.offset),e.Y8G("time",L.offset_day>0?L.start_of_date:null==(w=e.bMT(7,9,L.options))?null:w.date)("step",L.step_interval)("min",L.min_offset)("max",L.max_offset-1)("use_24hr",L.use_24hr)}}function U(y,I){1&y&&(e.j41(0,"h3",19),e.pXf(1,1),e.k0s())}function $(y,I){if(1&y){const w=e.RV6();e.j41(0,"mat-checkbox",16),e.nI1(1,"async"),e.bIt("ngModelChange",function(){const Q=e.eBV(w).$implicit,te=e.XpG();return e.Njj(te.toggleCategory(Q.id))}),e.EFF(2),e.k0s()}if(2&y){const w=I.$implicit,L=e.XpG();e.Y8G("ngModel",e.bMT(1,3,L.category)===w.id),e.BMQ("name",w),e.R7$(2),e.SpI(" ",w.name," ")}}let B=(()=>{class y extends d.Tv{get start_of_date(){return(0,p.o)((0,m.f)(this._state.getOptions().date,this.offset_day)).valueOf()}get min_offset(){return this.offset_day>0?0:this._min_offset}get step_interval(){return this._settings.get("app.assets.step_interval")||5}get max_offset(){const w=Math.min((0,_.D)((0,m.f)(this._state.getOptions().date,this.offset_day)).valueOf(),(0,g.z)(this._state.getOptions().date,this._state.getOptions().duration).valueOf()),L=(0,b.o)(w,this._state.getOptions().date);return Math.min(L,Math.min(1439,this._max_offset))}get use_24hr(){return this._settings.get("app.use_24_hour_time")}constructor(w,L){super(),this._state=w,this._settings=L,this.search=!1,this.at_time=!1,this.at_timeChange=new e.bkB,this.offset=0,this.offsetChange=new e.bkB,this.offset_day=0,this.offset_dayChange=new e.bkB,this._min_offset=0,this._max_offset=60,this.search_value=this._state.search,this.category=this._state.category,this.categories=this._state.category_list,this.options=this._state.options,this.exact_tooltip="Deliver at exactly specified time. \nNote that changes to the booking will not be \nreflected in the order if this is set.",this.day_options=[],this.setSearch=Q=>this._state.setSearch(Q),this.toggleCategory=Q=>this._state.toggleCategory(Q)}ngOnInit(){this._min_offset=Math.max(this._settings.get("app.assets.min_offset"),0),this.subscription("filters",this._state.options.subscribe(()=>{this._max_offset=Math.max(15,(this._state.getOptions().duration||60)-this._settings.get("app.assets.end_offset")),this._updateDayOptions()})),this._updateDayOptions()}_updateDayOptions(){const{date:w,duration:L}=this._state.getOptions();if(L<=1440)return this.day_options=[];let Q=(0,p.o)(w),te=0;const R=(0,_.D)((0,g.z)(w,L)).valueOf(),ee=[];for(;Q.valueOf()<=R;)ee.push({id:te,value:Q.valueOf()}),Q=(0,m.f)(Q,1),te++;this.day_options=ee}static#e=this.\u0275fac=function(L){return new(L||y)(e.rXU(i.R),e.rXU(d.h$))};static#t=this.\u0275cmp=e.VBU({type:y,selectors:[["asset-filters"]],inputs:{search:"search",at_time:"at_time",offset:"offset",offset_day:"offset_day"},outputs:{at_timeChange:"at_timeChange",offsetChange:"offsetChange",offset_dayChange:"offset_dayChange"},features:[e.Vt3],decls:12,vars:15,consts:()=>{let w,L;return w=$localize`:07b96192315617e1c3c3f020fed4749eafda31eb637156553417356107: Options `,L=$localize`:24300e769843b029b0346b3ea18e51e4e97a35023888583854485349732: Catergories `,[w,L,[1,"px-4","mt-3","mb-2"],["appearance","outline",1,"w-full","h-14"],["matPrefix","",1,"text-xl"],["matInput","","placeholder","Search menu...",3,"ngModelChange","ngModel"],["class","hidden sm:block font-medium px-2 py-2",4,"ngIf"],["class","flex flex-col px-2",4,"ngIf"],["class","hidden sm:block font-medium px-2 py-4",4,"ngIf"],[1,"flex","flex-col","px-2"],[3,"ngModel","ngModelChange",4,"ngFor","ngForOf"],[1,"hidden","sm:block","font-medium","px-2","py-2"],[3,"ngModelChange","ngModel","matTooltip"],[4,"ngIf"],[3,"ngModelChange","ngModel","time","step","min","max","use_24hr"],["appearance","outline",1,"w-full","no-subscript","mb-4"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"hidden","sm:block","font-medium","px-2","py-4"]]},template:function(L,Q){1&L&&(e.j41(0,"div",2)(1,"mat-form-field",3)(2,"app-icon",4),e.EFF(3,"search"),e.k0s(),e.j41(4,"input",5),e.nI1(5,"async"),e.bIt("ngModelChange",function(R){return Q.setSearch(R)}),e.k0s()()(),e.DNE(6,F,2,0,"h3",6)(7,P,8,11,"div",7)(8,U,2,0,"h3",8),e.j41(9,"div",9),e.DNE(10,$,3,5,"mat-checkbox",10),e.nI1(11,"async"),e.k0s()),2&L&&(e.AVh("sm:hidden",!Q.search),e.R7$(4),e.Y8G("ngModel",e.bMT(5,11,Q.search_value)),e.R7$(2),e.Y8G("ngIf",!Q.search),e.R7$(),e.Y8G("ngIf",!Q.search),e.R7$(),e.Y8G("ngIf",!Q.search),e.R7$(),e.AVh("sm:hidden",Q.search)("sm:pt-1",!Q.search),e.R7$(),e.Y8G("ngForOf",e.bMT(11,13,Q.categories)))},dependencies:[u.Sq,u.bT,S.y,D.me,D.BC,D.vS,E.R,A.wT,v.rl,v.JW,O.VO,z.fg,G.oV,K.So,u.Jj,u.vh],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:16rem}"]})}return y})()},7807:(Mt,pe,a)=>{"use strict";a.d(pe,{I:()=>F});var e=a(3953),i=a(6088),d=a(9928),p=a(9714),m=a(5006),_=a(177),g=a(9434),b=a(3208),u=a(6600),S=a(9183);function D(H,Y){if(1&H&&(e.j41(0,"div",20)(1,"span",21),e.EFF(2),e.k0s()()),2&H){const P=e.XpG().$implicit;e.R7$(2),e.SpI(" ",P.quantity||1," ")}}function E(H,Y){if(1&H&&e.nrm(0,"img",22),2&H){const P=e.XpG().$implicit;e.Y8G("source",P.images[0])}}function A(H,Y){1&H&&e.nrm(0,"img",23)}function v(H,Y){if(1&H){const P=e.RV6();e.j41(0,"li",10)(1,"button",11),e.bIt("click",function(){const $=e.eBV(P).$implicit,B=e.XpG(3);return e.Njj(B.selectAsset($))}),e.j41(2,"div",12),e.DNE(3,D,3,1,"div",13)(4,E,1,1,"img",14)(5,A,1,0,"ng-template",null,2,e.C5r),e.k0s(),e.j41(7,"div",15)(8,"div",16)(9,"div"),e.EFF(10),e.k0s(),e.j41(11,"div",17),e.EFF(12),e.k0s()(),e.j41(13,"div",18)(14,"p"),e.EFF(15),e.k0s()()()(),e.j41(16,"button",19),e.bIt("click",function(){const $=e.eBV(P).$implicit,B=e.XpG(3);return e.Njj(B.toggleFav.emit($))}),e.j41(17,"app-icon"),e.EFF(18),e.k0s()()()}if(2&H){const P=Y.$implicit,U=e.sdS(6),$=e.XpG(3);e.R7$(3),e.Y8G("ngIf",$.selected.includes(P.id)),e.R7$(),e.Y8G("ngIf",null==P.images?null:P.images.length)("ngIfElse",U),e.R7$(6),e.JRh(P.name||"Asset"),e.R7$(2),e.SpI(" ",P.category," "),e.R7$(3),e.SpI(" ",P.available||(null==P.assets?null:P.assets.length)||"0"," Available "),e.R7$(),e.AVh("text-info",$.isFavourite(P.id)),e.R7$(2),e.JRh($.isFavourite(P.id)?"favorite":"favorite_border")}}function O(H,Y){if(1&H&&(e.j41(0,"ul",8),e.DNE(1,v,19,9,"li",9),e.nI1(2,"async"),e.k0s()),2&H){const P=e.XpG(2);e.R7$(),e.Y8G("ngForOf",e.bMT(2,1,P.assets))}}function z(H,Y){if(1&H&&(e.qex(0),e.DNE(1,O,3,3,"ul",7),e.nI1(2,"async"),e.bVm()),2&H){let P;const U=e.XpG(),$=e.sdS(9);e.R7$(),e.Y8G("ngIf",null==(P=e.bMT(2,2,U.assets))?null:P.length)("ngIfElse",$)}}function G(H,Y){1&H&&(e.j41(0,"div",24)(1,"p",25),e.EFF(2," No available assets for selected time and/or filters "),e.k0s()())}function K(H,Y){1&H&&(e.j41(0,"div",26),e.nrm(1,"mat-spinner",27),e.j41(2,"p",28),e.EFF(3,"Finding available assets..."),e.k0s()()),2&H&&(e.R7$(),e.Y8G("diameter",32))}let F=(()=>{class H{constructor(P){this._asset_state=P,this.selected="",this.favorites=[],this.selected_items=[],this.requested={},this.toggleFav=new e.bkB,this.onSelect=new e.bkB,this._requested_items=new d.t({}),this.counts=new d.t({}),this.loading=this._asset_state.loading,this.assets=(0,p.zV)([this.counts,this._asset_state.filtered_assets,this._requested_items]).pipe((0,m.T)(([U,$,B])=>{for(const y of $){y.quantity=U[y.id]||0;const I=this.selected_items.find(w=>w.id===y.id);I&&(I.assets=y.assets),void 0!==B[y.id]&&(y.available=Math.max((y.assets?.length||0)-B[y.id],0))}return $.filter(y=>null!=y.available&&y.available>0||null==y.available&&y.assets?.length>0)}))}ngOnChanges(P){if(P.selected_items&&this.selected_items?.length){const U={};for(const $ of this.selected_items)U[$.id]=$.quantity;this.counts.next(U)}P.requested&&this._requested_items.next(this.requested)}isFavourite(P){return this.favorites.includes(P)}selectAsset(P){this.onSelect.emit(P)}static#e=this.\u0275fac=function(U){return new(U||H)(e.rXU(i.R))};static#t=this.\u0275cmp=e.VBU({type:H,selectors:[["asset-list"]],inputs:{selected:"selected",favorites:"favorites",selected_items:"selected_items",requested:"requested"},outputs:{toggleFav:"toggleFav",onSelect:"onSelect"},features:[e.OA$],decls:12,vars:7,consts:[["empty_state",""],["load_state",""],["placeholder",""],[1,"w-full","h-full","overflow-auto","py-2","bg-base-200"],[1,"font-bold","px-2"],["count","",1,"text-sm","opacity-60","mb-4","px-2"],[4,"ngIf","ngIfElse"],["class","list-style-none space-y-2 p-2",4,"ngIf","ngIfElse"],[1,"list-style-none","space-y-2","p-2"],["asset","","matRipple","","class","relative p-2 rounded-lg w-full shadow border bg-base-100 border-base-200",4,"ngFor","ngForOf"],["asset","","matRipple","",1,"relative","p-2","rounded-lg","w-full","shadow","border","bg-base-100","border-base-200"],["select","",1,"w-full","h-full","flex","items-center","pr-10",3,"click"],[1,"relative","w-16","h-16","rounded-xl","bg-base-200","mr-4","flex","items-center","justify-center","overflow-hidden","border","border-base-200"],["class","absolute top-1 left-1 border border-base-300 bg-base-200 rounded-full h-6 w-6 flex items-center justify-center",4,"ngIf"],["auth","","class","object-cover h-full",3,"source",4,"ngIf","ngIfElse"],[1,"space-y-2","text-left","flex-1"],[1,"font-medium","flex","items-center","justify-between"],[1,"opacity-60","text-xs"],[1,"flex","items-center","text-sm","space-x-2"],["icon","","matRipple","","fav","",1,"absolute","top-1","right-1",3,"click"],[1,"absolute","top-1","left-1","border","border-base-300","bg-base-200","rounded-full","h-6","w-6","flex","items-center","justify-center"],[1,"text-xs"],["auth","",1,"object-cover","h-full",3,"source"],["src","assets/icons/asset-placeholder.svg",1,"m-auto"],["empty","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[1,"opacity-30","text-center"],["loading","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[3,"diameter"],[1,"opacity-30"]],template:function(U,$){if(1&U&&(e.j41(0,"div",3)(1,"h3",4),e.EFF(2,"Results"),e.k0s(),e.j41(3,"p",5),e.EFF(4),e.nI1(5,"async"),e.k0s(),e.DNE(6,z,3,4,"ng-container",6),e.nI1(7,"async"),e.k0s(),e.DNE(8,G,3,0,"ng-template",null,0,e.C5r)(10,K,4,1,"ng-template",null,1,e.C5r)),2&U){let B;const y=e.sdS(11);e.R7$(4),e.SpI(" ",(null==(B=e.bMT(5,3,$.assets))?null:B.length)||0," result(s) found "),e.R7$(2),e.Y8G("ngIf",!e.bMT(7,5,$.loading))("ngIfElse",y)}},dependencies:[_.Sq,_.bT,g.R,b.U,u.r6,S.LG,_.Jj],styles:["[_nghost-%COMP%]{width:100%;height:100%}"]})}return H})()},7471:(Mt,pe,a)=>{"use strict";a.d(pe,{f:()=>v});var e=a(4006),i=a(7375),d=a(6088),p=a(3953),m=a(177),_=a(9434),g=a(6600),b=a(8751),u=a(4358),S=a(6041),D=a(7807);function E(O,z){if(1&O){const G=p.RV6();p.j41(0,"button",21),p.bIt("click",function(){p.eBV(G);const F=p.XpG();return p.Njj(F.displayed=null)}),p.EFF(1," Back "),p.k0s()}}const A=[];let v=(()=>{class O{get favorites(){return this._settings.get("favourite_assets")||A}get selected_ids(){return this.selected.map(G=>G.id).join(",")}get count(){return this.selected.reduce((G,K)=>G+K.quantity,0)}isSelected(G){return G&&this.selected_ids.includes(G)}constructor(G,K,F){this._settings=G,this._state=K,this._data=F,this.displayed=null,this.selected=[...this._data.items||[]],this.exact_time=this._data.exact_time??!1,this.requested=this._data.requested;const{duration:H}=this._data.details;this._state.setOptions(this._data.details),this.offset=Math.min(Math.max(this._settings.get("app.assets.min_offset"),this._data.offset||0),(H||60)-this._settings.get("app.assets.end_offset")),this.offset_day=this._data.offset_day||0}setSelected(G,K){const F=this.selected.filter(H=>H.id!==G.id);K&&F.push(G),this.selected=[...F]}updateSelectedCount(G){if(!this.displayed)return;const K=this.selected.find(F=>F.id===this.displayed.id);K&&(K.quantity=G,K.assets=this.displayed.assets)}toggleFavourite(G){const K=this.favorites;K.includes(G.id)?this._settings.saveUserSetting("favourite_assets",K.filter(H=>H!==G.id)):this._settings.saveUserSetting("favourite_assets",[...K,G.id])}static#e=this.\u0275fac=function(K){return new(K||O)(p.rXU(i.h$),p.rXU(d.R),p.rXU(e.Vh))};static#t=this.\u0275cmp=p.VBU({type:O,selectors:[["asset-select-modal"]],decls:33,vars:25,consts:[[1,"w-[100vw]","h-[100vh]","sm:relative","sm:w-auto","sm:h-auto","flex","flex-col","bg-base-100"],[1,"flex","items-center","space-x-4","w-full"],["icon","","mat-dialog-close","",1,"bg-base-200"],[1,"flex-1","flex","items-center","divide-x","divide-base-200","min-h-[65vh]","h-[65vh]","sm:max-h-[65vh]","sm:max-w-[95vw]","w-full","overflow-hidden"],[1,"flex","flex-col","items-center","flex-1","w-1/2","h-full","sm:h-[65vh]"],[1,"h-full","hidden","sm:block",3,"at_timeChange","offsetChange","offset_dayChange","at_time","offset","offset_day"],[1,"flex","flex-col","items-center","flex-1","w-1/2","h-full","sm:min-w-[20rem]","sm:h-[65vh]"],[1,"w-full","border-b","border-base-200"],[1,"flex-1","h-1/2","w-full","overflow-hidden",3,"toggleFav","onSelect","selected","favorites","selected_items","requested"],[1,"h-full","w-full","sm:h-[65vh]","absolute","sm:relative","sm:flex","sm:max-w-[20rem]","bg-base-100","z-20",3,"activeChange","countChange","toggleFav","close","item","active","fav"],[1,"flex","sm:hidden","flex-col-reverse","items-center","justify-end","p-2","border-t","border-base-200"],["btn","","matRipple","","back-btn","","class","inverse sm:hidden w-full sm:w-auto",3,"click",4,"ngIf"],["btn","","matRipple","","save","",1,"w-full","sm:w-auto","sm:mb-0",3,"mat-dialog-close"],[1,"hidden","sm:flex","items-center","justify-between","p-2","border-t","border-base-200","w-full"],["btn","","matRipple","",1,"clear","text-secondary",3,"mat-dialog-close"],[1,"flex","items-center"],[1,"text-xl"],[1,"mr-1","underline"],[1,"opacity-60","text-sm"],["btn","","matRipple","",3,"click","disabled"],[1,"mr-1"],["btn","","matRipple","","back-btn","",1,"inverse","sm:hidden","w-full","sm:w-auto",3,"click"]],template:function(K,F){1&K&&(p.j41(0,"div",0)(1,"header",1)(2,"button",2)(3,"app-icon"),p.EFF(4,"close"),p.k0s()(),p.j41(5,"h3"),p.EFF(6,"Add Assets"),p.k0s()(),p.j41(7,"main",3)(8,"div",4)(9,"asset-filters",5),p.mxI("at_timeChange",function(Y){return p.DH7(F.exact_time,Y)||(F.exact_time=Y),Y})("offsetChange",function(Y){return p.DH7(F.offset,Y)||(F.offset=Y),Y})("offset_dayChange",function(Y){return p.DH7(F.offset_day,Y)||(F.offset_day=Y),Y}),p.k0s()(),p.j41(10,"div",6),p.nrm(11,"asset-filters-display",7),p.j41(12,"asset-list",8),p.bIt("toggleFav",function(Y){return F.toggleFavourite(Y)})("onSelect",function(Y){return F.displayed=Y}),p.k0s()(),p.j41(13,"asset-details",9),p.bIt("activeChange",function(Y){return F.setSelected(F.displayed,Y)})("countChange",function(Y){return F.updateSelectedCount(Y)})("toggleFav",function(){return F.toggleFavourite(F.displayed)})("close",function(){return F.displayed=null}),p.k0s()(),p.j41(14,"footer",10),p.DNE(15,E,2,0,"button",11),p.j41(16,"button",12),p.EFF(17," View List "),p.k0s()(),p.j41(18,"footer",13)(19,"button",14)(20,"div",15)(21,"app-icon",16),p.EFF(22,"arrow_back"),p.k0s(),p.j41(23,"div",17),p.EFF(24,"Back to form"),p.k0s()()(),p.j41(25,"p",18),p.EFF(26),p.k0s(),p.j41(27,"button",19),p.bIt("click",function(){return F.setSelected(F.displayed,!F.isSelected(null==F.displayed?null:F.displayed.id))}),p.j41(28,"div",15)(29,"app-icon",16),p.EFF(30),p.k0s(),p.j41(31,"div",20),p.EFF(32),p.k0s()()()()()),2&K&&(p.R7$(9),p.R50("at_time",F.exact_time)("offset",F.offset)("offset_day",F.offset_day),p.R7$(3),p.Y8G("selected",F.selected_ids)("favorites",F.favorites)("selected_items",F.selected)("requested",F.requested),p.R7$(),p.AVh("hidden",!F.displayed)("inset-0",F.displayed),p.Y8G("item",F.displayed)("active",F.selected_ids.includes((null==F.displayed?null:F.displayed.id)||""))("fav",!!F.displayed&&F.favorites.includes((null==F.displayed?null:F.displayed.id)||"")),p.R7$(2),p.Y8G("ngIf",F.displayed),p.R7$(),p.AVh("mb-2",F.displayed),p.Y8G("mat-dialog-close",F.selected),p.R7$(3),p.Y8G("mat-dialog-close",F.selected),p.R7$(7),p.SpI("",F.count," asset(s) added"),p.R7$(),p.AVh("inverse",F.isSelected(null==F.displayed?null:F.displayed.id)),p.Y8G("disabled",!F.displayed),p.R7$(3),p.SpI(" ",F.isSelected(null==F.displayed?null:F.displayed.id)?"remove":"add"," "),p.R7$(2),p.SpI(" ",F.isSelected(null==F.displayed?null:F.displayed.id)?"Remove from Booking":"Add to booking"," "))},dependencies:[m.bT,_.R,g.r6,e.tx,b.o,u.F,S.t,D.I]})}return O})()},6088:(Mt,pe,a)=>{"use strict";a.d(pe,{R:()=>$});var e=a(9928),i=a(9714),d=a(4421),p=a(8728),m=a(3020),_=a(9090),g=a(8841),b=a(8712),u=a(3921),S=a(5006),D=a(5204),E=a(8026),A=a(5987),v=a(3601),O=a(4512),z=a(2357),G=a(350),K=a(7926),F=a(8965),H=a(2185),Y=a(2615),P=a(9596),U=a(3953);let $=(()=>{class B{constructor(I){this._org=I,this._options=new e.t({date:Date.now()}),this._search=new e.t(""),this._category=new e.t([]),this._loading=new e.t(""),this.search=this._search.asObservable(),this.category=this._category.asObservable(),this.options=this._options.asObservable(),this.loading=this._loading.asObservable(),this.rules=(0,i.zV)([this._options,this._org.active_building]).pipe((0,p.p)(([w,L])=>!!L),(0,m.B)(300),(0,_.n)(([w,L])=>(this._loading.next(this._loading.getValue()+"[Rules]"),(0,Y.$z)(L.id||w.zone||""))),(0,g.M)(w=>this._loading.next(this._loading.getValue().replace(/\[Rules\]/g,""))),(0,b.t)(1)),this.asset_list=(0,d.of)(0).pipe((0,_.n)(()=>(this._loading.next(this._loading.getValue()+"[Assets]"),(0,D._B)())),(0,g.M)(w=>this._loading.next(this._loading.getValue().replace(/\[Assets\]/g,""))),(0,b.t)(1)),this.asset_bookings=this._options.pipe((0,m.B)(300),(0,_.n)(({zone:w,date:L})=>(this._loading.next(this._loading.getValue()+"[Bookings]"),(0,E.tj)({zones:w||"",period_start:(0,A._)((0,v.o)(L)),period_end:(0,A._)((0,O.D)(L)),type:"asset-request"}))),(0,g.M)(w=>this._loading.next(this._loading.getValue().replace(/\[Bookings\]/g,""))),(0,b.t)(1)),this.available_groups=(0,i.zV)([this._options,this._org.active_building]).pipe((0,m.B)(300),(0,_.n)(([{zone:w,date:L,duration:Q,ignore:te},R])=>(0,D.LZ)({zones:R.id||w||"",period_start:(0,A._)((0,z.c)(L)),period_end:(0,A._)((0,G.V)((0,K.z)(L,Q||30))),type:"asset-request",rejected:!1},te).pipe((0,u.W)(()=>(0,d.of)([])))),(0,S.T)(w=>w.sort((L,Q)=>L.name.localeCompare(Q.name))),(0,g.M)(w=>(0,F.r)(w)),(0,b.t)(1)),this.category_list=this._org.active_building.pipe((0,_.n)(w=>(0,D.vt)({zone_id:w.id})),(0,S.T)(w=>w.sort((L,Q)=>L.name.localeCompare(Q.name))),(0,b.t)(1)),this.filtered_assets=(0,i.zV)([this._search,this._category,this.available_groups,this.rules]).pipe((0,S.T)(([w,L,Q,te])=>{const R=w.toLowerCase();return Q.filter(k=>k.assets?.length&&(!L.length||L.includes(k.category_id))&&(k.name.toLowerCase().includes(R)||k.description.toLowerCase().includes(R))&&(0,Y.WH)(k,te,this._options.getValue()))}),(0,b.t)(1)),this.settings=(0,i.zV)([this._org.active_building]).pipe((0,p.p)(([w])=>!!w),(0,_.n)(([w])=>(0,P.bpY)(w.id,"assets-settings").pipe((0,u.W)(L=>(0,d.of)({})))),(0,S.T)(w=>w.details||{}),(0,b.t)(1)),this.disabled_rooms=this.settings.pipe((0,S.T)(w=>w.disabled_rooms||[]))}setSearch(I){this._search.next(`${I}`)}toggleCategory(I){const w=this._category.getValue();w.includes(I)?this._category.next(w.filter(L=>L!==I)):this._category.next([...w,I])}getOptions(){return this._options.getValue()}setOptions(I){this._options.next({...this._options.value,...I})}static#e=this.\u0275fac=function(w){return new(w||B)(U.KVO(H.yb))};static#t=this.\u0275prov=U.jDH({token:B,factory:B.\u0275fac,providedIn:"root"})}return B})()},4011:(Mt,pe,a)=>{"use strict";a.d(pe,{$C:()=>e,OD:()=>d,Vd:()=>p});class e{constructor(_){this.id="",this.name="",this.description="",this.parent_category_id="",this.created_at=Date.now(),this.updated_at=Date.now(),Object.assign(this,_)}}class d{constructor(_){this.images=[],Object.assign(this,_)}}class p{constructor(_){this.id="",this.type_id="",this.description="",this.serial_number="",this.barcode="",this.identifier="",this.other_data={},this.purchase_order_id="",this.created_at=Date.now(),this.updated_at=Date.now(),Object.assign(this,_)}}},2615:(Mt,pe,a)=>{"use strict";a.d(pe,{$z:()=>G,QP:()=>O,SY:()=>E,WH:()=>K,fF:()=>A,rC:()=>v});var e=a(9417),i=a(4011),d=a(7375),p=a(9255),m=a(3901),_=a(9824),g=a(5611),b=a(5006),u=a(3921),S=a(9596),D=a(4421);function E(F={}){return new e.gE({id:new e.MJ(F.id),name:new e.MJ(F.name||"",[e.k0.required]),parent_category_id:new e.MJ(F.parent_category_id)})}function A(F={}){return new e.gE({id:new e.MJ(F.id),order_number:new e.MJ(F.order_number||F.purchase_order_number||"",[e.k0.required]),invoice_number:new e.MJ(F.invoice_number||""),unit_price:new e.MJ(F.unit_price||0),purchase_date:new e.MJ(1e3*F.purchase_date||null),expected_service_start_date:new e.MJ(1e3*F.expected_service_start_date||F.depreciation_start_date||null),expected_service_end_date:new e.MJ(1e3*F.expected_service_end_date||F.depreciation_end_date||null)})}function v(F=new i.OD){return new e.gE({id:new e.MJ(F.id),category_id:new e.MJ(F.category_id||"",[e.k0.required]),images:new e.MJ(F.images||[]),brand:new e.MJ(F.brand||""),name:new e.MJ(F.name||"",[e.k0.required]),description:new e.MJ(F.description||"")})}function O(F=new i.Vd){return new e.gE({id:new e.MJ(F.id),type_id:new e.MJ(F.type_id||"",[e.k0.required]),description:new e.MJ(F.description||""),serial_number:new e.MJ(F.serial_number||""),barcode:new e.MJ(F.barcode||""),identifier:new e.MJ(F.identifier||""),other_data:new e.MJ(F.other_data||{}),purchase_order_id:new e.MJ(F.purchase_order_id)})}const z={};function G(F,H=!1){return F?((!z[F]||H)&&(z[F]=(0,S.bpY)(F,"assets_config").pipe((0,b.T)(Y=>Y.details instanceof Array?Y.details:[]),(0,u.W)(Y=>(0,D.of)([])))),z[F]):(0,D.of)([])}function K(F,H,Y){const P=Date.now(),U=new Date(Y.date),$=y=>F.name===y.name||F.category.name.includes(y.name)||Y.resources.some(I=>I.zones.includes(y.name))||Y.space?.zones.includes(y.name)||"*"===y.name,B=y=>y.rules.reduce((I,w)=>{switch(w[0]){case"is_before":return I+((0,p.Y)(P,(0,m.O)(U,w[1]))?1:0);case"within_hours":return I+((0,_.d)(P,(0,m.O)(U,w[1]))?1:0);case"after_hour":return I+((0,_.d)(U,(0,g.a)(U,w[1]))?1:0);case"before_hour":return I+((0,p.Y)(U,(0,g.a)(U,w[1]))?1:0);case"min_length":return I+(Y.duration>=(0,d.II)(w[1])?1:0);case"max_length":return I+(Y.duration<=(0,d.II)(w[1])?1:0);case"visitor_type":return I+(Y.ext("visitor_type")===w[1]?1:0);default:return I+1}},0);for(const y of H)if($(y)&&B(y)<y.rules.length)return!1;return!0}},5204:(Mt,pe,a)=>{"use strict";a.d(pe,{AO:()=>Me,Dt:()=>Ce,E4:()=>$e,FK:()=>B,G1:()=>Ze,LZ:()=>Ve,N3:()=>Q,N6:()=>be,RF:()=>te,We:()=>X,_B:()=>ee,en:()=>qe,fc:()=>rt,hi:()=>st,iO:()=>I,iZ:()=>me,nP:()=>R,qA:()=>fe,qG:()=>P,ro:()=>ue,vt:()=>F,y3:()=>$});var e=a(467),i=a(9596),d=a(8385),p=a(5006),m=a(9090),_=a(8841),g=a(4421),b=a(696),u=a(9714),S=a(5987),D=a(3601),E=a(4512),A=a(7926),v=a(8026),O=a(3857),z=a(7375),G=a(3747);const K="/api/engine/v2";function F(ot={}){const ae=(0,d.z)(ot);return(0,i.JtY)(`${K}/asset_categories${ae?"?"+ae:""}`).pipe((0,p.T)(Oe=>Oe))}function P(ot){return ot.id?function Y(ot,ae){return(0,i.yJg)(`${K}/asset_categories/${ot}`,(0,i.jv5)(ae,[void 0,null,""])).pipe((0,p.T)(Oe=>Oe))}(ot.id,ot):function H(ot){return(0,i.bEY)(`${K}/asset_categories`,(0,i.jv5)(ot,[void 0,null,""])).pipe((0,p.T)(ae=>ae))}(ot)}function $(ot){return(0,i.yHY)(`${K}/asset_categories/${ot}`)}function B(ot={}){const ae=(0,d.z)(ot);return(0,i.JtY)(`${K}/asset_types${ae?"?"+ae:""}`).pipe((0,p.T)(Oe=>Oe))}const y=new Map;function I(ot={}){const ae=(0,d.z)(ot);return y.has(ot.zones)?(0,g.of)(y.get(ot.zones)):(0,i.JtY)(`${K}/asset_types${ae?"?"+ae:""}`).pipe((0,p.T)(Oe=>Oe),(0,m.n)(Oe=>(0,b.p)(Oe.map(Le=>ee({limit:200,...ot,type_id:Le.id}).pipe((0,p.T)(Pe=>({...Le,assets:Pe})))))),(0,_.M)(Oe=>{y.set(ot.zones,Oe),setTimeout(()=>y.delete(ot.zones),3e5)}))}function Q(ot){return ot.id?function L(ot,ae){return(0,i.yJg)(`${K}/asset_types/${ot}`,(0,i.jv5)(ae,[void 0,null,""])).pipe((0,p.T)(Oe=>Oe))}(ot.id,ot):function w(ot){return(0,i.bEY)(`${K}/asset_types`,(0,i.jv5)(ot,[void 0,null,""])).pipe((0,p.T)(ae=>ae))}(ot)}function te(ot){return(0,i.JtY)(`${K}/asset_types/${ot}`).pipe((0,p.T)(ae=>ae))}function R(ot){return(0,i.yHY)(`${K}/asset_types/${ot}`)}function ee(ot={}){const ae=(0,d.z)(ot);return(0,i.JtY)(`${K}/assets${ae?"?"+ae:""}`).pipe((0,p.T)(Oe=>Oe))}function X(ot){return ot.id?function J(ot,ae){return(0,i.yJg)(`${K}/assets/${ot}`,(0,i.jv5)(ae,[void 0,null,""])).pipe((0,p.T)(Oe=>Oe))}(ot.id,{...ot,asset_type_id:ot.type_id}):function k(ot){return(0,i.bEY)(`${K}/assets`,(0,i.jv5)(ot,[void 0,null,""])).pipe((0,p.T)(ae=>ae))}({...ot,asset_type_id:ot.type_id})}function fe(ot){return(0,i.JtY)(`${K}/assets/${ot}`).pipe((0,p.T)(ae=>ae))}function Me(ot){return(0,i.yHY)(`${K}/assets/${ot}`)}function Ze(ot){return ot.map(ae=>ae.asset_type_id=ae.type_id),(0,i.bEY)(`${K}/assets/bulk`,ot.map(ae=>(0,i.jv5)(ae,[void 0,null,""]))).pipe((0,p.T)(ae=>ae))}function rt(ot={}){const ae=(0,d.z)(ot);return(0,i.JtY)(`${K}/asset_purchase_orders${ae?"?"+ae:""}`).pipe((0,p.T)(Oe=>Oe))}function Ce(ot){return ot.id?function ve(ot,ae){return(0,i.yJg)(`${K}/asset_purchase_orders/${ot}`,(0,i.jv5)(ae,[void 0,null,""])).pipe((0,p.T)(Oe=>Oe))}(ot.id,{...ot,purchase_order_number:ot.order_number}):function vt(ot){return(0,i.bEY)(`${K}/asset_purchase_orders`,(0,i.jv5)(ot,[void 0,null,""])).pipe((0,p.T)(ae=>ae))}({...ot,purchase_order_number:ot.order_number})}function be(ot){return(0,i.JtY)(`${K}/asset_purchase_orders/${ot}`).pipe((0,p.T)(ae=>ae))}function ue(ot){return(0,i.yHY)(`${K}/asset_purchase_orders/${ot}`)}function me(ot={}){return(0,u.zV)([B(ot)]).pipe((0,p.T)(([ae])=>ae))}function $e(ot,ae={}){return(0,u.zV)([te(ot),F(),ee({...ae,type_id:ot,limit:2e3}),rt()]).pipe((0,p.T)(([Oe,Le,Pe,_t])=>{Oe.category=Le.find(Gt=>Gt.id===Oe.category_id),Oe.assets=Pe.filter(Gt=>Gt.type_id===Oe.id||Gt.asset_type_id===Oe.id);for(const Gt of Oe.assets)Gt.order_number=_t.find(Kt=>Kt.id===Gt.purchase_order_id)?.purchase_order_number;return Oe.purchase_orders=_t.filter(Gt=>Oe.assets.find(Kt=>Kt.purchase_order_id===Gt.id)),Oe}))}function Ve(ot,ae){return ot.type="asset-request",(0,u.zV)([I(ot),(0,v.tj)(ot)]).pipe((0,p.T)(([Oe,Le])=>(Le=Le.filter(Pe=>"declined"!==Pe.status&&"cancelled"!==Pe.status),Oe.map(Pe=>({...Pe,assets:Pe.assets.filter(_t=>ae?.includes(_t.id)||!Le.find(Gt=>!ae.includes(Gt.id)&&(Gt.asset_id===_t.id||Gt.asset_ids?.includes(_t.id))))})))))}function st(ot){return ht.apply(this,arguments)}function ht(){return(ht=(0,e.A)(function*(ot){const ae=yield(0,v.tj)({period_start:(0,S._)((0,D.o)(new Date)),period_end:(0,S._)((0,E.D)(new Date)),type:"asset-request"}).toPromise();return Promise.all(ae.filter(Oe=>Oe.asset_id===ot||Oe.asset_ids?.includes(ot)).map(Oe=>(0,v.UN)(Oe.id).toPromise()))})).apply(this,arguments)}function qe(ot,ae){return gt.apply(this,arguments)}function gt(){return(gt=(0,e.A)(function*({id:ot,ical_uid:ae,from_booking:Oe},{date:Le,duration:Pe,all_day:_t,host:Gt,location_name:Kt,location_id:vn,zones:Ft,reset_state:_n},ft=[],pt=!1){const $t=yield(0,v.tj)({period_start:(0,S._)(_t?(0,D.o)(Le):Le),period_end:(0,S._)(_t?(0,E.D)((0,A.z)(Le,Pe)):(0,A.z)(Le,Pe)),type:"asset-request",zones:Ft.join(",")}).toPromise(),kt=ot&&ae?yield(0,v.tj)({period_start:(0,S._)((0,D.o)(Le)),period_end:(0,S._)((0,E.D)(Le)),type:"asset-request",email:Gt,event_id:Oe?"":ot,booking_id:Oe?ot:"",ical_uid:ae}).toPromise():[],dn=kt.map(Xe=>[Xe.id,new G.Y(Xe.extension_data.request)]);ft?.forEach(Xe=>Xe.conflict=!1);let pn=pt?ft.map(Xe=>Xe.id):function Vt(ot,ae){if((!ot||ot?.length<=0)&&ae?.length)return[];if(!ae)return[];const Le=[];for(const Pe of ot){const _t=ae.find(Gt=>Gt.id===Pe.id);(!_t||_t.ref_id!==Pe.ref_id)&&Le.push(Pe.id)}return Le}(ft,dn.map(([Xe,Qe])=>Qe),_n);if(_n){const Xe=kt.filter(Qe=>Qe.approved||Qe.rejected);pn=(0,z.Am)([...pn,...Xe.map(Qe=>Qe.extension_data.request_id)])}const un=dn.filter(([Xe,Qe])=>!pn.includes(Qe.id)),an=dn.filter(([Xe,{id:Qe}])=>pn.includes(Qe)),hn=ft.filter(({id:Xe})=>pn.includes(Xe)),Sn=$t.filter(Xe=>!Xe.rejected&&(!kt.find(Qe=>Qe.id===Xe.id)||un.find(([Qe])=>Xe.event_id===Qe)));let Lt=(0,z.Bq)(Sn.map(Xe=>Xe.asset_ids));for(const[Xe,Qe]of un)Lt=[...Lt,...(0,z.Bq)(Qe.items.map(Bt=>Bt.item_ids))];const at=yield Ve({period_start:(0,S._)(_t?(0,D.o)(Le):Le),period_end:(0,S._)(_t?(0,E.D)((0,A.z)(Le,Pe)):(0,A.z)(Le,Pe)),type:"asset-request"},kt.map(Xe=>Xe.id)).toPromise(),ct=hn.map(Xe=>{let Qe=(0,z.Bq)(Xe.items.map(({id:Be,item_ids:oe,quantity:Ee})=>{const ne=at.find(Te=>Te.id===Be)?.assets;if(!ne)return oe;const Ie=[];return new Array(Ee).fill(0).map((Te,Ge)=>{const Ue=Lt.includes(oe[Ge])||Ie.includes(oe[Ge])||!oe[Ge]?ne?.find(({id:Fe})=>!Lt.includes(Fe)&&!Ie.includes(Fe))?.id:oe[Ge];if(!Ue)throw Xe.conflict=!0,"Unable to find available asset for request";return Ie.push(Ue),Ue})}));const Bt=kt.find(Be=>Be.asset_ids.find(oe=>Xe.items?.find(Ee=>Ee.item_ids.includes(oe))));Lt=[...Lt,...Qe];const Xt={type:"asset-request",booking_type:"asset-request",date:Le,duration:Pe,all_day:_t,description:Kt,user_email:Gt,asset_id:Qe[0],asset_ids:Qe,asset_name:Xe.items.map(Be=>Be.name).join(", "),title:Xe.items.map(Be=>Be.name).join(", "),approved:!_n&&Bt?.approved&&!Xe._changed,rejected:!_n&&Bt?.rejected&&!Xe._changed,extension_data:{parent_id:ot,request_id:Xe.id,location_id:vn,request:new G.Y({...Xe,event:null})},zones:Ft||[]};return Oe&&(Xt.parent_id=ot),(0,v.sH)(new O.Qr(Xt),{ical_uid:ae,event_id:Oe?"":ot})});return(0,e.A)(function*(){yield Promise.all(an.map(([Xe])=>(0,v.UN)(Xe).toPromise())),yield Promise.all(ct.map(Xe=>Xe.toPromise()))})})).apply(this,arguments)}},3857:(Mt,pe,a)=>{"use strict";a.d(pe,{Qr:()=>G,WS:()=>O});var e=a(7375),i=a(7926),d=a(5987),p=a(9548),m=a(2037),_=a(3601),g=a(4512),b=a(5818),u=a(3368),S=a(9824),D=a(9255),E=a(9015),A=a(3747);const v=["user","booked_by","resources","assets","members"];var O=function(K){return K[K.SUNDAY=64]="SUNDAY",K[K.MONDAY=32]="MONDAY",K[K.TUESDAY=16]="TUESDAY",K[K.WEDNESDAY=8]="WEDNESDAY",K[K.THURSDAY=4]="THURSDAY",K[K.FRIDAY=2]="FRIDAY",K[K.SATURDAY=1]="SATURDAY",K}(O||{});class G{get group(){return this.extension_data.group||""}get is_all_day(){return this.all_day||this.duration>=720}get valid_assets(){if(this._valid_cache_expiry>Date.now()&&this._valid_asset_cache.length)return this._valid_asset_cache;const F=this.linked_bookings;return this._valid_asset_cache=(this.extension_data.assets||[]).map(H=>new A.Y({...H,event:this})).filter(H=>H.deliver_at<this.date_end).map(H=>{const Y=F.find(P=>P.extension_data.request_id===H.id);return Y&&(H.state=Y.approved?"approved":Y.rejected?"rejected":"pending"),H}),this._valid_cache_expiry=(0,i.z)(Date.now(),5).valueOf(),this._valid_asset_cache}constructor(F={}){this._valid_asset_cache=[],this._valid_cache_expiry=0,this.id=F.id||"",this.parent_id=F.parent_id||"",this.asset_id=F.asset_id||"",this.asset_ids=F.asset_ids||[F.asset_id].filter(H=>H),this.asset_name=F.asset_name||F.extension_data?.asset_name||F.description||F.asset_id||"",this.zones=F.zones||[],this.booking_start=Math.floor(F.date/1e3)||F.booking_start||(0,d._)((0,p.X)((0,i.z)(Date.now(),5),{nearestTo:5})),this.booking_end=Math.floor(F.date/1e3)+60*F.duration||F.booking_end||(0,d._)((0,i.z)(1e3*this.booking_start,F.duration||60)),this.booking_type=F.booking_type||" ",this.type=F.type||F.booking_type||"booking",this.date=F.date||1e3*this.booking_start||Date.now(),this.duration=F.duration||Math.abs((0,m.o)(1e3*this.booking_start,1e3*this.booking_end))||60,this.date_end=1e3*this.booking_end||this.date+60*this.duration*1e3,this.timezone=F.timezone||Intl.DateTimeFormat().resolvedOptions().timeZone,this.user_email=F.user_email||"",this.user_id=F.user_id||"",this.user_name=F.user_name||"",this.title=F.title??(this.booking_type?`${(0,e.Zr)(this.booking_type)} Booking`.trim():""),this.description=F.description||"",this.checked_in=!!F.checked_in,this.rejected=!!F.rejected,this.approved=!!F.approved,this.deleted=!!F.deleted,this.booked_by_id=F.booked_by_id||"",this.booked_by_name=F.booked_by_name||"",this.booked_by_email=F.booked_by_email||"",this.approver_id=F.approver_id||"",this.approver_email=F.approver_email||"",this.approver_name=F.approver_name||"",this.extension_data=F.extension_data||{},this.access=!!F.extension_data?.access,this.event_id=F.event_id,this.permission=(F.permission||"PRIVATE").toUpperCase(),this.attendees=F.attendees||F.guests||F.members||[],this.tags=F.tags||F.extension_data?.tags||[],this.images=F.images||[],this.all_day=F.all_day||this.duration>=1440,this.induction=F.induction||void 0,this.all_day&&(this.date=(0,_.o)(this.date).getTime(),this.duration=Math.max(1439,this.duration-(this.duration%24*60==0?1:0)),this.date_end=(0,g.D)((0,i.z)(this.date,this.duration-1).valueOf()).getTime()),this.checked_out_at=F.checked_out_at,this.checked_in_at=F.checked_in_at,this.linked_event=F.linked_event||null,this.linked_bookings=F.linked_bookings||[],this.images=F.images||[],this.status=this.checked_out_at>0?"ended":this.rejected||this.deleted?"declined":this.approved?"approved":"tentative",this.process_state=F.process_state||"pending",this.recurrence_type=F.recurrence_type||"none",this.recurrence_days=F.recurrence_days,this.recurrence_nth_of_month=F.recurrence_nth_of_month,this.recurrence_interval=F.recurrence_interval,this.recurrence_end=F.recurrence_end,this.instance=F.instance;for(const H in F)!(H in this)&&!v.includes(H)&&F[H]&&(this.extension_data[H]=F[H]||this.extension_data[H]);this.extension_data.assets=(this.extension_data.assets||[]).map(H=>new A.Y({...H,event:this,date:this.date})),this.extension_data.tags=F.tags||[],this.extension_data.request&&(this.extension_data.request=new A.Y({...this.extension_data.request,event:this,date:this.date}))}toJSON(){const F={...this};return this.id||delete F.id,F.extension_data.assets=F.extension_data.assets.map(H=>new A.Y({...H,event:null})),F.extension_data.request&&(F.extension_data.request=new A.Y({...F.extension_data.request,event:null})),F.parent_id||delete F.parent_id,F.zones=F.zones.filter(H=>H),delete F.date,delete F.duration,(0,e.Xm)(F),F}get location(){return this.extension_data?.location||this.description}get is_today(){return(0,b.r)(this.date,new Date)}get is_done(){const F=new Date,H=this.all_day?(0,u.L)(this.date,24):(0,i.z)(this.date,this.duration),Y=1e3*(this.checked_out_at||this.extension_data.checked_out_at||0);let P=H.getTime();return!!(Y&&Date.now()>Y)||(0,S.d)(F,new Date(P))}get state(){const F=new Date,H=this.date;return(0,D.Y)(F,(0,E.W)(H,{minutes:-15}))?"future":(0,D.Y)(F,H)?"upcoming":(0,D.Y)(F,(0,E.W)(H,{minutes:15}))?"started":(0,D.Y)(F,(0,E.W)(H,{minutes:this.duration}))?"in_progress":"done"}}},7141:(Mt,pe,a)=>{"use strict";a.d(pe,{Jm:()=>E,Rr:()=>D,s8:()=>v});var e=a(467),i=a(9417),d=a(7375),p=a(690),m=a(6511),_=a(3857),g=a(9548),b=a(7926),u=a(2037);function D(O=new _.Qr){const z=new i.gE({id:new i.MJ(O.id||""),parent_id:new i.MJ(O.parent_id||""),event_id:new i.MJ(O.event_id||""),ical_uid:new i.MJ(O.extension_data.ical_uid||""),date:new i.MJ(O.date,[i.k0.required]),date_end:new i.MJ(O.date_end),all_day:new i.MJ(O.all_day??!1),name:new i.MJ(O.extension_data.name||O.asset_name||""),duration:new i.MJ(O.duration,[p.k]),booking_type:new i.MJ(O.booking_type),zones:new i.MJ(O.zones),title:new i.MJ(O.title),description:new i.MJ(O.description),booking_asset:new i.MJ(null),resources:new i.MJ([]),company:new i.MJ(""),asset_id:new i.MJ(O.asset_id,[i.k0.required]),asset_name:new i.MJ(O.description),assets:new i.MJ(O.extension_data?.assets||[]),attendees:new i.MJ(O.attendees||[]),map_id:new i.MJ(O.extension_data?.map_id),featured:new i.MJ(O.extension_data?.featured||!1),user:new i.MJ((0,d.Ny)()),user_id:new i.MJ(O.user_id),group:new i.MJ(O.group),user_email:new i.MJ(O.user_email),user_name:new i.MJ(O.user_name),timezone:new i.MJ(O.timezone||""),booked_by:new i.MJ((0,d.Ny)()),booked_by_id:new i.MJ(O.booked_by_id),booked_by_email:new i.MJ(O.booked_by_email),secondary_resource:new i.MJ(O.extension_data?.other_asset_type||O.extension_data?.secondary_resource),location:new i.MJ(O.extension_data.location||""),attendance_type:new i.MJ(O.extension_data.attendance_type||"ANY"),phone:new i.MJ(O.extension_data.phone||""),permission:new i.MJ(O.permission||"PRIVATE"),images:new i.MJ(O.images||[]),tags:new i.MJ(O.tags||[]),plate_number:new i.MJ(O.extension_data.plate_number||""),recurrence_type:new i.MJ(O.recurrence_type||"none"),recurrence_days:new i.MJ(O.recurrence_days),recurrence_nth_of_month:new i.MJ(O.recurrence_nth_of_month),recurrence_interval:new i.MJ(O.recurrence_interval),recurrence_end:new i.MJ(O.recurrence_end),notes:new i.MJ(O.extension_data.notes||""),update_master:new i.MJ(!1),self_registered:new i.MJ(!1)});return z.valueChanges.subscribe(G=>{z.getRawValue().date<Date.now()&&z.value.id?z.get("date")?.disable({emitEvent:!1}):z.get("date")?.enable({emitEvent:!1})}),z.controls.user.valueChanges.subscribe(G=>{G&&z.patchValue({user:G,user_id:G?.id,user_email:G?.email,user_name:G?.name},{emitEvent:!1})}),d.U5.subscribe(G=>{G&&z.patchValue({booked_by:G,booked_by_id:G?.id,booked_by_email:G?.email,name:G?.name},{emitEvent:!1})}),z.controls.resources.valueChanges.subscribe(G=>function S(O,z){if(!z)return O.patchValue({asset_id:void 0});O.patchValue({asset_id:z.id,asset_name:z.name,map_id:z.map_id||z.id,description:z.name,zones:z.zone?[z.zone?.parent_id,z.zone?.id]:[],booking_asset:z},{emitEvent:!1})}(z,(G||[])[0])),z.controls.duration.valueChanges.subscribe(G=>{z.patchValue({date_end:(0,g.X)((0,b.z)(z.getRawValue().date,G),{nearestTo:5,roundingMethod:"ceil"}).valueOf()},{emitEvent:!1})}),z.controls.date_end.valueChanges.subscribe(G=>{G<(0,b.z)(z.getRawValue().date,30).valueOf()?z.patchValue({date_end:(0,g.X)((0,b.z)(z.getRawValue().date,30),{nearestTo:5,roundingMethod:"ceil"}).valueOf(),duration:30},{emitEvent:!1}):z.patchValue({duration:(0,u.o)(G,z.getRawValue().date)},{emitEvent:!1})}),z.controls.date.valueChanges.subscribe(G=>{z.patchValue({date_end:(0,g.X)((0,b.z)(G,z.value.duration),{nearestTo:5,roundingMethod:"ceil"}).valueOf()},{emitEvent:!1}),G<Date.now()&&!z.value.id&&z.patchValue({date:(0,g.X)(Date.now(),{nearestTo:5,roundingMethod:"ceil"}).valueOf()},{emitEvent:!1})}),"started"===O.state&&z.get("date").disable(),z}function E(O,z){return A.apply(this,arguments)}function A(){return(A=(0,e.A)(function*(O,z,G=[]){const K=document.createElement("div");K.style.position="absolute",K.style.top="-9999px",K.style.width="1000px",K.style.height="1000px",document.body.appendChild(K);const F=yield(0,m.Rx)({url:O,element:K}),H=(0,m.tk)(F),Y=("string"==typeof z?H.mappings[z]:z)||{x:.5,y:.5};let P=10,U="";for(const $ of G){const{x:B,y}=H.mappings[$]||{x:2,y:2},I=Math.sqrt((B-Y.x)*(B-Y.x)+(y-Y.y)*(y-Y.y));I<P&&(P=I,U=$)}return document.body.removeChild(K),(0,m.b2)(F),U})).apply(this,arguments)}function v(O){return new _.Qr({id:O.id,user_email:O.host,asset_id:O.system?.id,asset_name:O.system?.display_name||O.system?.name,booking_type:"room",approved:"approved"===O.status,extension_data:{...O}})}},8026:(Mt,pe,a)=>{"use strict";a.d(pe,{$F:()=>O,DD:()=>y,DO:()=>K,Kq:()=>Ct,MV:()=>Y,U:()=>L,UN:()=>$,WE:()=>z,X0:()=>U,Z$:()=>J,eW:()=>X,kX:()=>Me,sH:()=>F,tj:()=>v,u3:()=>G,vB:()=>w,vq:()=>H,wk:()=>I});var e=a(467),i=a(9596),d=a(4421),p=a(5006),m=a(3921),_=a(9090),g=a(8385),b=a(3857),S=(a(3693),a(5987)),D=a(7926),E=a(7375);const A="/api/staff/v1/bookings";function v(Ot){const rt=(0,g.z)(Ot);return(0,i.JtY)(`${A}${rt?"?"+rt:""}`).pipe((0,p.T)(vt=>vt.map(ve=>new b.Qr(ve))),(0,m.W)(vt=>(0,d.of)([])))}function O(Ot){const rt=(0,g.z)(Ot);return(0,i.JtY)(`${A}/booked${rt?"?"+rt:""}`).pipe((0,p.T)(vt=>vt),(0,m.W)(vt=>(0,d.of)([])))}function z(Ot){return(0,i.Pac)({query_params:Ot,fn:rt=>new b.Qr(rt),endpoint:A,path:""})}function G(Ot){return(0,i.Pac)({query_params:Ot,fn:rt=>new b.Qr(rt),endpoint:A,path:""}).pipe((0,_.n)(function(){var rt=(0,e.A)(function*({data:vt,next:ve}){let Ce=[...vt];for(;ve;){const be=yield ve().toPromise();vt=be.data,ve=be.next,Ce=[...Ce,...vt]}return Ce});return function(vt){return rt.apply(this,arguments)}}()),(0,m.W)(rt=>(0,d.of)([])))}function K(Ot){return(0,i.JtY)(`${A}/${encodeURIComponent(Ot)}`).pipe((0,p.T)(rt=>new b.Qr(rt)))}function F(Ot,rt){const vt=(0,g.z)(rt);return(0,i.bEY)(`${A}${vt?"?"+vt:""}`,Ot).pipe((0,p.T)(ve=>new b.Qr(ve)))}function H(Ot,rt,vt="patch"){return("patch"===vt?i.F6F:i.yJg)(`${A}/${encodeURIComponent(Ot)}`,rt).pipe((0,p.T)(ve=>new b.Qr(ve)))}function Y(Ot,rt){return(0,i.bEY)(`${A}/${encodeURIComponent(Ot)}/update_induction?induction=${encodeURIComponent(rt)}`,{}).pipe((0,p.T)(vt=>new b.Qr(vt)))}const U=(Ot,rt)=>{const vt=Ot.id;delete Ot.id;const ve=rt?.instance;return rt&&delete rt.instance,vt?ve?function P(Ot,rt,vt,ve="patch"){return("patch"===ve?i.F6F:i.yJg)(`${A}/${encodeURIComponent(Ot)}/instance/${rt}`,vt).pipe((0,p.T)(Ce=>new b.Qr(Ce)))}(vt,Ot.instance,Ot):H(vt,Ot):F(Ot,rt)};function $(Ot,rt={}){return rt.instance?function B(Ot,rt){return(0,i.yHY)(`${A}/${encodeURIComponent(Ot)}/instance/${rt}`,{response_type:"void"})}(Ot,rt.start_time):(0,i.yHY)(`${A}/${encodeURIComponent(Ot)}`,{response_type:"void"})}function y(Ot){return(0,i.bEY)(`${A}/${encodeURIComponent(Ot)}/approve`,"").pipe((0,p.T)(rt=>new b.Qr(rt)))}function I(Ot,rt){return(0,i.bEY)(`${A}/${encodeURIComponent(Ot)}/approve`,"").pipe((0,p.T)(vt=>new b.Qr(vt)))}function w(Ot){return(0,i.bEY)(`${A}/${encodeURIComponent(Ot)}/reject`,"").pipe((0,p.T)(rt=>new b.Qr(rt)))}function L(Ot,rt){return(0,i.bEY)(`${A}/${encodeURIComponent(Ot)}/reject`,"").pipe((0,p.T)(vt=>new b.Qr(vt)))}function J(Ot,rt){const vt=(0,g.z)({state:rt});return(0,i.bEY)(`${A}/${encodeURIComponent(Ot)}/check_in?${vt}`,"").pipe((0,p.T)(ve=>new b.Qr(ve)),(0,m.W)(function(){var ve=(0,e.A)(function*(Ce){const be=yield Ce.json();throw be.error||be.message||be});return function(Ce){return ve.apply(this,arguments)}}()))}function X(Ot,rt,vt){const ve=(0,g.z)({state:vt});return(0,i.bEY)(`${A}/${encodeURIComponent(Ot)}/check_in/${rt}?${ve}`,"").pipe((0,p.T)(Ce=>new b.Qr(Ce)),(0,m.W)(function(){var Ce=(0,e.A)(function*(be){const ue=yield be.json();throw ue.error||ue.message||ue});return function(be){return Ce.apply(this,arguments)}}()))}function Me(Ot,rt,vt,ve,Ce="room",be=[0,0]){return v({type:Ce,period_start:(0,S._)(rt),period_end:(0,S._)((0,D.z)(rt,vt))}).pipe((0,p.T)(ue=>Ot.map(me=>!ue.find($e=>$e.asset_id===me&&(!ve||ve!==$e.id)))))}function Ct(Ot,rt,vt){return lt.apply(this,arguments)}function lt(){return(lt=(0,e.A)(function*(Ot,rt,vt){const ve=yield v({type:rt,period_start:(0,S._)(Ot.date),period_end:(0,S._)((0,D.z)(Ot.date,Ot.duration))}).pipe((0,p.T)(be=>be.filter(ue=>ue.parent_id===Ot.id))).toPromise();yield Promise.all(ve.map(be=>$(be.id).toPromise())),yield Promise.all(Ot.linked_bookings.filter(be=>be.booking_type===rt).map(be=>$(be.id).toPromise()));const Ce=Ot.system?.zones||(0,E.Am)((0,E.Bq)(Ot.resources.map(be=>be.zones)))||[];yield Promise.all(vt.map(be=>{const ue=ve.find(me=>me.asset_ids.find($e=>be.items?.find(Et=>Et.item_ids.includes($e))));return F(new b.Qr({type:rt,booking_type:rt,date:Ot.date,duration:Ot.duration,description:Ot.title,user_email:Ot.host,asset_id:be.email,asset_name:be.name,title:be.name,attendees:[be],approved:ue?.approved&&!be._changed,rejected:ue?.rejected&&!be._changed,extension_data:{parent_id:Ot.id,name:be.name,location_id:Ot.location},zones:Ce}),{ical_uid:Ot.ical_uid,event_id:Ot.id}).toPromise()}))})).apply(this,arguments)}},6576:(Mt,pe,a)=>{"use strict";a.d(pe,{Sh:()=>u,CH:()=>b,Yj:()=>A,f6:()=>E});var e=a(9596),i=a(5006),d=a(7375),p=a(735),m=a(2037);class _{constructor(O={}){this.id=O.id||"",this.name=O.name||"",this.primary=!!O.primary,this.summary=O.summary||"",this.can_edit=!!O.can_edit,this.resource=new p.$(O.resource||O.system),this.availability=(O.availability||[]).map(({starts_at:z,ends_at:G,date:K,duration:F,status:H})=>({date:new Date(K||1e3*z).valueOf(),duration:F||(0,m.o)(1e3*G,1e3*z),status:H})),this.hidden=!!O.hidden}}const g="/api/staff/v1/calendars";function b(){return(0,e.JtY)(g).pipe((0,i.T)(v=>v.map(O=>new _(O))))}function u(v){const O=(0,d.zJ)(v);return(0,e.JtY)(`${g}/availability${O?"?"+O:""}`).pipe((0,i.T)(z=>z.map(G=>new _(G))))}const S=v=>(0,i.T)(O=>O.filter(z=>!!z.resource).map(z=>new p.$({...z.resource,level:v?.levelWithID(z.resource.zones),availability:z.availability})).filter(z=>z.bookable));function E(v){const O=(0,d.zJ)(v);return(0,e.JtY)(`${g}/free_busy${O?"?"+O:""}`).pipe((0,i.T)(z=>z))}function A(v,O){const z=(0,d.zJ)(v);return(0,e.JtY)(`${g}/free_busy${z?"?"+z:""}`).pipe((0,i.T)(G=>G.map(K=>new _(K))),S(O))}},5892:(Mt,pe,a)=>{"use strict";a.d(pe,{T:()=>e});class e{get custom_id(){const d=this.option_list.map(p=>p.id).join("+");return`${this.id}[${d}]${this.in_order?"":"menu"}`}constructor(d={}){this.id=d.id||"",this.name=d.name||d.id||"",this.category=d.category||"",this.unit_price=d.unit_price||0,this.description=d.description||"",this.quantity=d.quantity||0,this.discount_cap=d.discount_cap||0,this.accept_points=!!d.accept_points,this.tags=d.tags||[],this.images=d.images||[],this.options=d.options||[];const p=this.options.some(m=>!0===m.active);this.option_list=(p?this.options.filter(m=>!0===m.active):d.option_list)||[],this.hide_for_zones=d.hide_for_zones||[],this.unit_price_with_options=this.unit_price+this.option_list.map(m=>m.unit_price||0).reduce((m,_)=>m+_,0),this.total_cost=this.unit_price_with_options*this.quantity,this.options_string=this.options?.map(m=>m.id||"").sort((m,_)=>m.localeCompare(_)).join(",")||"",this.in_order=d.in_order??!1}}},1601:(Mt,pe,a)=>{"use strict";a.d(pe,{z:()=>U});var e=a(3953),i=a(9417),d=a(7375),p=a(1732),m=a(5555),_=a(2185),g=a(4512),b=a(3601),u=a(4006),S=a(177),D=a(4823),E=a(9434),A=a(6600);function v($,B){if(1&$&&(e.j41(0,"div",16)(1,"app-icon"),e.EFF(2,"priority_high"),e.k0s()()),2&$){const y=e.XpG(2);e.Y8G("matTooltip",y.err_tooltip)}}function O($,B){if(1&$){const y=e.RV6();e.j41(0,"button",17),e.bIt("click",function(){e.eBV(y);const w=e.XpG().$implicit,L=e.XpG();return e.Njj(L.duplicateOrder(w))}),e.j41(1,"app-icon"),e.EFF(2,"content_copy"),e.k0s()()}}function z($,B){if(1&$){const y=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){e.eBV(y);const w=e.XpG().$implicit,L=e.XpG();return e.Njj(L.editOrder(w))}),e.j41(1,"app-icon"),e.EFF(2,"edit"),e.k0s()()}}function G($,B){if(1&$){const y=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(y);const w=e.XpG().$implicit,L=e.XpG();return e.Njj(L.removeOrder(w))}),e.j41(1,"app-icon"),e.EFF(2,"delete"),e.k0s()()}}function K($,B){if(1&$&&(e.j41(0,"span",27),e.EFF(1),e.k0s()),2&$){const y=e.XpG().$implicit,I=e.XpG(2);e.Y8G("matTooltip",I.optionList(y)),e.R7$(),e.SpI(" ",(null==y.option_list?null:y.option_list.length)||"0"," option(s) ")}}function F($,B){if(1&$){const y=e.RV6();e.j41(0,"button",28),e.bIt("click",function(){e.eBV(y);const w=e.XpG().$implicit,L=e.XpG().$implicit,Q=e.XpG();return e.Njj(Q.removeOrderItem(L,w))}),e.j41(1,"app-icon"),e.EFF(2,"delete"),e.k0s()()}}function H($,B){if(1&$){const y=e.RV6();e.j41(0,"div",20)(1,"div",21),e.EFF(2),e.DNE(3,K,2,2,"span",22),e.k0s(),e.j41(4,"div",23),e.EFF(5),e.k0s(),e.j41(6,"div",24),e.EFF(7),e.nI1(8,"currency"),e.k0s(),e.DNE(9,F,3,0,"button",25),e.j41(10,"button",26),e.bIt("click",function(){const w=e.eBV(y).$implicit,L=e.XpG(2);return e.Njj(L.toggleFavourite(w))}),e.j41(11,"app-icon"),e.EFF(12),e.k0s()()()}if(2&$){const y=B.$implicit,I=e.XpG(2);e.R7$(2),e.SpI(" ",y.name||"Item"," "),e.R7$(),e.Y8G("ngIf",null==y.option_list?null:y.option_list.length),e.R7$(2),e.SpI(" x",y.quantity," "),e.R7$(2),e.SpI(" ",e.i5U(8,9,y.unit_price_with_options/100,I.currency_code)," ea "),e.R7$(2),e.Y8G("ngIf",!I.disabled),e.R7$(),e.AVh("text-blue-400",I.favorites.includes(y.id)),e.Y8G("matTooltip",I.favorites.includes(y.id)?"Remove from favourites":"Add to favourites"),e.R7$(2),e.JRh(I.favorites.includes(y.id)?"favorite":"favorite_border")}}function Y($,B){if(1&$){const y=e.RV6();e.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div"),e.EFF(5),e.nI1(6,"date"),e.nI1(7,"date"),e.k0s(),e.DNE(8,v,3,1,"div",8),e.k0s(),e.j41(9,"div",9),e.EFF(10),e.nI1(11,"currency"),e.k0s()(),e.DNE(12,O,3,0,"button",10)(13,z,3,0,"button",11)(14,G,3,0,"button",12),e.j41(15,"button",13),e.bIt("click",function(){const w=e.eBV(y).$implicit,L=e.XpG();return e.Njj(L.show_order[w.id]=!L.show_order[w.id])}),e.j41(16,"app-icon"),e.EFF(17),e.k0s()()(),e.j41(18,"div",14),e.DNE(19,H,13,12,"div",15),e.k0s()()}if(2&$){const y=B.$implicit,I=e.XpG();e.AVh("border-error",I.end_time<y.deliver_at)("border-base-300",I.end_time>=y.deliver_at),e.R7$(5),e.Lme(" Order for ",e.i5U(6,16,y.deliver_at_time,"mediumDate")," at ",e.i5U(7,19,y.deliver_at_time,I.time_format)," "),e.R7$(3),e.Y8G("ngIf",I.end_time<y.deliver_at),e.R7$(2),e.Lme(" ",y.item_count," item(s) for ",e.i5U(11,22,y.total_cost/100,I.currency_code)," "),e.R7$(2),e.Y8G("ngIf",!I.disabled),e.R7$(),e.Y8G("ngIf",!I.disabled),e.R7$(),e.Y8G("ngIf",!I.disabled),e.R7$(),e.Y8G("matTooltip",I.show_order[y.id]?"Hide order items":"Show order items"),e.R7$(2),e.SpI(" ",I.show_order[y.id]?"expand_less":"expand_more"," "),e.R7$(),e.Y8G("@show",I.show_order[y.id]?"show":"hide"),e.R7$(),e.Y8G("ngForOf",y.items)}}const P=[];let U=(()=>{class ${get favorites(){return this._settings.get("favourite_menu_items")||P}get end_time(){const y=(this.options.date||Date.now())+60*(this.options.duration||30)*1e3;return this.options.all_day?(0,g.D)(y).valueOf():y}get time_format(){return this._settings.time_format||"shortTime"}get currency_code(){return this._org.building?.currency||"USD"}constructor(y,I,w){this._settings=y,this._org=I,this._dialog=w,this.options={},this.orders=[],this.show_order={},this.disabled=!1,this.err_tooltip="Delivery time is outside of the event time.\nThis order will be ignored.",this.selected=[],this.registerOnChange=L=>this._onChange=L,this.registerOnTouched=L=>this._onTouch=L,this.setDisabledState=L=>this.disabled=L}setValue(y){this.orders=y,this._onChange&&this._onChange(this.orders)}ngOnChanges(y){y.options&&(this.orders=(this.orders||[]).map(I=>new m.M({...I,event:this.options})))}writeValue(y){this.orders=(y||[]).map(I=>new m.M({...I,event:this.options}))}removeOrder(y){const I=this.orders.filter(w=>w.id!==y.id);this.setValue(I)}duplicateOrder(y){const I=new m.M({...y,id:`order-${(0,d.DU)(8)}`});this.setValue([...this.orders,I])}removeOrderItem(y,I){const w=new m.M({...y,items:y.items.filter(Q=>Q.custom_id!==I.custom_id)}),L=this.orders.filter(Q=>Q.id!==y.id);this.setValue(w.items.length>0?[...L,w]:L)}editOrder(y=new m.M){const I=this._dialog.open(p.M,{data:{items:y.items,details:{...this.options,date:this.options.all_day?(0,b.o)(this.options.date).valueOf():this.options.date,duration:this.options.all_day?Math.max(1440,this.options.duration):this.options.duration},exact_time:!!y.deliver_time,offset:y.deliver_offset,offset_day:y.deliver_day_offset}});I.afterClosed().subscribe(w=>{const L=this.orders.filter(R=>R.id!==y.id);if(!w?.length)return;const Q=new Date(this.options.date);for(const R of w){R.options=[...R.options.map(ee=>({...ee}))];for(const ee of R.options){const k=R.option_list.find(J=>J.id===ee.id);ee.active=!!k}}const te=new m.M({...y,items:w,event:this.options,deliver_offset:I.componentInstance.offset,deliver_time:I.componentInstance.exact_time?Q.getHours()+Q.getMinutes()/60:null,deliver_day_offset:I.componentInstance.offset_day||0});te.item_count<=0||this.setValue([...L,te])})}optionList(y){return y.option_list?.map(I=>I.name).join("\n")}toggleFavourite(y){const I=this.favorites;I.includes(y.id)?this._settings.saveUserSetting("favourite_menu_items",I.filter(L=>L!==y.id)):this._settings.saveUserSetting("favourite_menu_items",[...I,y.id])}static#e=this.\u0275fac=function(I){return new(I||$)(e.rXU(d.h$),e.rXU(_.yb),e.rXU(u.bZ))};static#t=this.\u0275cmp=e.VBU({type:$,selectors:[["catering-list-field"]],inputs:{options:"options"},features:[e.Jv_([{provide:i.kq,useExisting:(0,e.Rfq)(()=>$),multi:!0}]),e.OA$],decls:8,vars:2,consts:[["list","",1,"space-y-2"],["order","","class","border shadow bg-base-100 rounded-xl overflow-hidden",3,"border-error","border-base-300",4,"ngFor","ngForOf"],["btn","","matRipple","","name","add-catering-item",1,"w-full","inverse","mt-2",3,"click","disabled"],[1,"flex","items-center","justify-center","space-x-2"],["order","",1,"border","shadow","bg-base-100","rounded-xl","overflow-hidden"],[1,"flex","items-center","space-x-2","p-4"],[1,"flex-1"],[1,"flex","items-center","space-x-4"],["class","flex items-center justify-center h-6 w-6 rounded-full bg-error text-error-content",3,"matTooltip",4,"ngIf"],[1,"text-xs","opacity-60"],["icon","","matRipple","","matTooltip","Duplicate Order",3,"click",4,"ngIf"],["icon","","matRipple","","matTooltip","Edit Order",3,"click",4,"ngIf"],["icon","","matRipple","","matTooltip","Remove Order","class","text-error",3,"click",4,"ngIf"],["icon","","matRipple","",3,"click","matTooltip"],[1,"flex","flex-col","bg-base-200","divide-y","divide-base-100"],["class","flex items-center px-4 py-1 space-x-2 hover:opacity-90",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-center","h-6","w-6","rounded-full","bg-error","text-error-content",3,"matTooltip"],["icon","","matRipple","","matTooltip","Duplicate Order",3,"click"],["icon","","matRipple","","matTooltip","Edit Order",3,"click"],["icon","","matRipple","","matTooltip","Remove Order",1,"text-error",3,"click"],[1,"flex","items-center","px-4","py-1","space-x-2","hover:opacity-90"],[1,"flex","items-center","flex-1"],["class","text-xs opacity-60 ml-4 font-normal",3,"matTooltip",4,"ngIf"],[1,"rounded","bg-success","text-success-content","text-xs","px-2","py-1"],[1,"rounded","bg-info","text-info-content","text-xs","px-2","py-1"],["icon","","matRipple","","matTooltip","Remove Order Item","class","text-error",3,"click",4,"ngIf"],["icon","","matRipple","","name","toggle-catering-item-favourite",3,"click","matTooltip"],[1,"text-xs","opacity-60","ml-4","font-normal",3,"matTooltip"],["icon","","matRipple","","matTooltip","Remove Order Item",1,"text-error",3,"click"]],template:function(I,w){1&I&&(e.j41(0,"div",0),e.DNE(1,Y,20,25,"div",1),e.k0s(),e.j41(2,"button",2),e.bIt("click",function(){return w.editOrder()}),e.j41(3,"div",3)(4,"app-icon"),e.EFF(5,"search"),e.k0s(),e.j41(6,"span"),e.EFF(7,"Add Order"),e.k0s()()()),2&I&&(e.R7$(),e.Y8G("ngForOf",w.orders),e.R7$(),e.Y8G("disabled",w.disabled))},dependencies:[S.Sq,S.bT,D.oV,E.R,A.r6,S.oe,S.vh],data:{animation:[d.Ft]}})}return $})()},699:(Mt,pe,a)=>{"use strict";a.d(pe,{G:()=>P});var e=a(3953),i=a(7375),d=a(177),p=a(2765),m=a(5951),_=a(9417),g=a(9434),b=a(5277),u=a(6600),S=a(5507);function D(U,$){if(1&U&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"currency"),e.k0s()),2&U){const B=e.XpG(2);e.R7$(),e.SpI(" ",e.i5U(2,1,B.item.unit_price/100,B.code)," ")}}function E(U,$){if(1&U&&(e.j41(0,"div",23),e.EFF(1),e.k0s()),2&U){const B=$.$implicit;e.R7$(),e.SpI(" ",B," ")}}function A(U,$){if(1&U&&(e.j41(0,"div",35),e.EFF(1),e.nI1(2,"currency"),e.k0s()),2&U){const B=e.XpG().$implicit,y=e.XpG(4);e.R7$(),e.SpI(" +",e.i5U(2,1,B.unit_price/100,y.code)," ")}}function v(U,$){if(1&U&&(e.j41(0,"mat-radio-button",31)(1,"div",32)(2,"div",33),e.EFF(3),e.k0s(),e.DNE(4,A,3,4,"div",34),e.k0s()()),2&U){const B=$.$implicit;e.Y8G("value",B.id),e.R7$(3),e.SpI(" ",B.name," "),e.R7$(),e.Y8G("ngIf",B.unit_price)}}function O(U,$){if(1&U){const B=e.RV6();e.qex(0),e.j41(1,"mat-radio-group",27),e.mxI("ngModelChange",function(I){e.eBV(B);const w=e.XpG().$implicit,L=e.XpG(2);return e.DH7(L.group_state[w.name],I)||(L.group_state[w.name]=I),e.Njj(I)}),e.bIt("ngModelChange",function(I){e.eBV(B);const w=e.XpG().$implicit,L=e.XpG(2);return e.Njj(L.updateGroupOption(w,I))}),e.j41(2,"mat-radio-button",28)(3,"span",29),e.pXf(4,2),e.k0s()(),e.DNE(5,v,5,3,"mat-radio-button",30),e.k0s(),e.bVm()}if(2&U){const B=e.XpG().$implicit,y=e.XpG(2);e.R7$(),e.R50("ngModel",y.group_state[B.name]),e.Y8G("disabled",null==y.item?null:y.item.in_order),e.R7$(4),e.Y8G("ngForOf",null==B?null:B.options)}}function z(U,$){if(1&U&&(e.j41(0,"div",35),e.EFF(1),e.nI1(2,"currency"),e.k0s()),2&U){const B=e.XpG().$implicit,y=e.XpG(4);e.R7$(),e.SpI(" +",e.i5U(2,1,B.unit_price/100,y.code)," ")}}function G(U,$){if(1&U){const B=e.RV6();e.j41(0,"mat-checkbox",37),e.mxI("ngModelChange",function(I){const w=e.eBV(B).$implicit,L=e.XpG(4);return e.DH7(L.option_state[w.id],I)||(L.option_state[w.id]=I),e.Njj(I)}),e.bIt("ngModelChange",function(I){const w=e.eBV(B).$implicit,L=e.XpG(4);return e.Njj(L.updateCheckedState(w.id,I))}),e.j41(1,"div",21)(2,"div",38),e.EFF(3),e.k0s(),e.DNE(4,z,3,4,"div",34),e.k0s()()}if(2&U){const B=$.$implicit,y=e.XpG(4);e.R50("ngModel",y.option_state[B.id]),e.Y8G("disabled",null==y.item?null:y.item.in_order),e.R7$(3),e.SpI(" ",B.name," "),e.R7$(),e.Y8G("ngIf",B.unit_price)}}function K(U,$){if(1&U&&e.DNE(0,G,5,4,"mat-checkbox",36),2&U){const B=e.XpG().$implicit;e.Y8G("ngForOf",null==B?null:B.options)}}function F(U,$){if(1&U&&(e.j41(0,"div",24)(1,"div",25),e.EFF(2),e.k0s(),e.j41(3,"div",26),e.DNE(4,O,6,3,"ng-container",4)(5,K,1,1,"ng-template",null,1,e.C5r),e.k0s()()),2&U){const B=$.$implicit,y=e.sdS(6);e.BMQ("group",B.name),e.R7$(2),e.SpI(" ",B.name," "),e.R7$(2),e.Y8G("ngIf",!B.multiple)("ngIfElse",y)}}function H(U,$){if(1&U){const B=e.RV6();e.qex(0),e.j41(1,"section",5),e.nrm(2,"image-carousel",6),e.j41(3,"button",7),e.bIt("click",function(){e.eBV(B);const I=e.XpG();return e.Njj(I.close.emit())}),e.j41(4,"app-icon"),e.EFF(5,"arrow_back"),e.k0s()(),e.j41(6,"button",8),e.bIt("click",function(){e.eBV(B);const I=e.XpG();return e.Njj(I.toggleFav.emit())}),e.j41(7,"app-icon"),e.EFF(8),e.k0s()()(),e.j41(9,"div",9)(10,"section",10)(11,"div")(12,"h2",11),e.EFF(13),e.k0s(),e.DNE(14,D,3,4,"p",12),e.k0s(),e.j41(15,"a-counter",13),e.mxI("ngModelChange",function(I){e.eBV(B);const w=e.XpG();return e.DH7(w.item.quantity,I)||(w.item.quantity=I),e.Njj(I)}),e.bIt("ngModelChange",function(){e.eBV(B);const I=e.XpG();return e.Njj(I.active?I.activeChange.emit(I.active):"")}),e.k0s()(),e.j41(16,"section",14),e.DNE(17,E,2,1,"div",15),e.k0s(),e.nrm(18,"hr"),e.j41(19,"section",16)(20,"div",17),e.DNE(21,F,7,4,"div",18),e.k0s()()(),e.j41(22,"div",19)(23,"button",20),e.bIt("click",function(){e.eBV(B);const I=e.XpG();return I.active=!I.active,e.Njj(I.activeChange.emit(I.active))}),e.j41(24,"div",21)(25,"app-icon",22),e.EFF(26),e.k0s(),e.j41(27,"p"),e.EFF(28),e.k0s()()()(),e.bVm()}if(2&U){const B=e.XpG();e.R7$(2),e.Y8G("images",B.item.images),e.R7$(4),e.AVh("text-white",!B.fav)("text-blue-400",B.fav),e.R7$(2),e.JRh(B.fav?"favorite":"favorite_border"),e.R7$(5),e.SpI(" ",B.item.name," "),e.R7$(),e.Y8G("ngIf",B.item.unit_price),e.R7$(),e.R50("ngModel",B.item.quantity),e.Y8G("min",1)("max",B.item.count||10),e.R7$(2),e.Y8G("ngForOf",B.item.tags),e.R7$(4),e.Y8G("ngForOf",B.groups),e.R7$(2),e.AVh("inverse",B.active),e.R7$(3),e.JRh(B.active?"remove":"add"),e.R7$(2),e.SpI(" ",B.active?"Remove this item":"Add this item"," ")}}function Y(U,$){1&U&&(e.j41(0,"div",39)(1,"p",40),e.pXf(2,3),e.k0s()())}let P=(()=>{class U{constructor(){this.active=!1,this.fav=!1,this.code="USD",this.toggleFav=new e.bkB,this.activeChange=new e.bkB,this.close=new e.bkB,this.option_state={},this.group_state={}}ngOnChanges(B){B.item&&this.item&&this._update()}updateGroupOption(B,y){if(B){this.group_state[B.name]=y;for(const I of B.options)I.active=I.id===y}}updateCheckedState(B,y){const I=this.item?.options.find(w=>w.id===B);I&&(I.active=y)}_update(){if(!this.item)return;this.item.quantity||(this.item.quantity=1),this.option_state={},this.group_state={};const B=(0,i.Am)(this.item.options.map(I=>I.group||"Other")),y=[];for(const I of B){const w=this.item.options.filter(L=>L.group===I);y.push({name:I,multiple:!!w.find(L=>L.multiple),options:w})}if(this.groups=y,this.item.option_list)for(const I of this.item.option_list){const w=this.item.options.find(L=>L.id===I.id);w&&(w.active=!0,this.option_state[I.id]=!0,this.updateGroupOption(this.groups.find(L=>L.name===w.group),w.id))}}static#e=this.\u0275fac=function(y){return new(y||U)};static#t=this.\u0275cmp=e.VBU({type:U,selectors:[["catering-item-details"]],inputs:{item:"item",active:"active",fav:"fav",code:"code"},outputs:{toggleFav:"toggleFav",activeChange:"activeChange",close:"close"},features:[e.OA$],decls:3,vars:2,consts:()=>{let B,y;return B=$localize`:a2f14a73f7a6e94479f67423cc51102da8d6f5246252070156626006029:None`,y=$localize`:0fab86098296160aef9d98a89e252bee5cf351412528715266490787662: Select an item to view it's details `,[["empty_state",""],["multi_options",""],B,y,[4,"ngIf","ngIfElse"],["image","",1,"relative","w-full","h-64","sm:h-40","bg-neutral"],[1,"absolute","inset-0",3,"images"],["icon","","matRipple","","name","close-catering-item-details",1,"absolute","top-2","left-2","bg-neutral","sm:hidden","text-white",3,"click"],["icon","","matRipple","","name","toggle-catering-item-favourite-details",1,"absolute","top-2","right-2","bg-neutral",3,"click"],[1,"p-2","space-y-2","flex-1","h-1/2","overflow-auto"],["actions","",1,"z-0","flex","items-center","justify-between"],[1,"text-xl","font-medium","mb-2","mt-4"],[4,"ngIf"],[3,"ngModelChange","ngModel","min","max"],[1,"flex","items-center","flex-wrap"],["class","px-2 py-1 rounded-2xl bg-base-200 text-sm capitalize m-1",4,"ngFor","ngForOf"],["details","",1,"space-y-2"],[1,"flex","flex-col","flex-wrap"],["class","min-w-1/2 flex-1",4,"ngFor","ngForOf"],[1,"px-2","pt-2","pb-[5.5rem]","border-t","border-base-200","shadow","sm:hidden"],["btn","","matRipple","","name","select-catering-item-details",1,"w-full",3,"click"],[1,"flex","items-center","justify-center"],[1,"text-2xl"],[1,"px-2","py-1","rounded-2xl","bg-base-200","text-sm","capitalize","m-1"],[1,"min-w-1/2","flex-1"],[1,"font-medium","p-2","capitalize"],[1,"flex","flex-col","pl-4"],["aria-label","Select an option",1,"flex","flex-col",3,"ngModelChange","ngModel","disabled"],["value","",1,"m-0"],[1,"font-medium","p-2"],["class","m-0",3,"value",4,"ngFor","ngForOf"],[1,"m-0",3,"value"],[1,"flex","items-center","justify-center","max-w-[calc(100vw-4rem)]","sm:max-w-[15rem]"],[1,"font-medium","p-2","flex-1","w-1/2","whitespace-normal"],["class","opacity-60 text-xs",4,"ngIf"],[1,"opacity-60","text-xs"],[3,"ngModel","disabled","ngModelChange",4,"ngFor","ngForOf"],[3,"ngModelChange","ngModel","disabled"],[1,"font-medium","p-2","flex-1","w-1/2"],["empty","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[1,"opacity-30","text-center"]]},template:function(y,I){if(1&y&&e.DNE(0,H,29,17,"ng-container",4)(1,Y,3,0,"ng-template",null,0,e.C5r),2&y){const w=e.sdS(2);e.Y8G("ngIf",I.item)("ngIfElse",w)}},dependencies:[d.Sq,d.bT,p.So,m.VT,m._g,_.BC,_.vS,g.R,b.H,u.r6,S.s,d.oe],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:30%;min-width:20rem;height:100%;min-height:65vh}"]})}return U})()},6386:(Mt,pe,a)=>{"use strict";a.d(pe,{N:()=>w});var e=a(467),i=a(3953),d=a(9493),p=a(97),m=a(7375),_=a(3601),g=a(906),b=a(4512),u=a(7926),S=a(2037),D=a(177),E=a(6600),A=a(2765),v=a(4823),O=a(9417),z=a(9434),G=a(3719),K=a(2798),F=a(9631),H=a(3476);function Y(L,Q){1&L&&(i.j41(0,"h3",11),i.pXf(1,0),i.k0s())}function P(L,Q){if(1&L&&(i.j41(0,"mat-option",19),i.EFF(1),i.nI1(2,"date"),i.k0s()),2&L){const te=Q.$implicit;i.Y8G("value",te.id),i.R7$(),i.SpI(" ",i.i5U(2,2,te.value,"mediumDate")," ")}}function U(L,Q){if(1&L){const te=i.RV6();i.qex(0),i.j41(1,"label"),i.EFF(2,"Deliver Date:"),i.k0s(),i.j41(3,"mat-form-field",16)(4,"mat-select",17),i.mxI("ngModelChange",function(ee){i.eBV(te);const k=i.XpG(2);return i.DH7(k.offset_day,ee)||(k.offset_day=ee),i.Njj(ee)}),i.bIt("ngModelChange",function(ee){i.eBV(te);const k=i.XpG(2);return i.Njj(k.offset_dayChange.next(ee))}),i.DNE(5,P,3,5,"mat-option",18),i.k0s()(),i.bVm()}if(2&L){const te=i.XpG(2);i.R7$(4),i.R50("ngModel",te.offset_day),i.R7$(),i.Y8G("ngForOf",te.day_options)}}function $(L,Q){if(1&L){const te=i.RV6();i.j41(0,"div",12)(1,"mat-checkbox",13),i.mxI("ngModelChange",function(ee){i.eBV(te);const k=i.XpG();return i.DH7(k.at_time,ee)||(k.at_time=ee),i.Njj(ee)}),i.bIt("ngModelChange",function(ee){i.eBV(te);const k=i.XpG();return i.Njj(k.at_timeChange.next(ee))}),i.EFF(2," Exact Time "),i.k0s(),i.DNE(3,U,6,2,"ng-container",14),i.j41(4,"label"),i.EFF(5,"Deliver After:"),i.k0s(),i.j41(6,"a-duration-field",15),i.nI1(7,"async"),i.mxI("ngModelChange",function(ee){i.eBV(te);const k=i.XpG();return i.DH7(k.offset,ee)||(k.offset=ee),i.Njj(ee)}),i.bIt("ngModelChange",function(ee){i.eBV(te);const k=i.XpG();return i.Njj(k.offsetChange.next(ee))}),i.k0s()()}if(2&L){let te;const R=i.XpG();i.R7$(),i.R50("ngModel",R.at_time),i.Y8G("matTooltip",R.exact_tooltip),i.R7$(2),i.Y8G("ngIf",R.day_options.length>1),i.R7$(3),i.R50("ngModel",R.offset),i.Y8G("time",R.offset_day>0?R.start_of_date:null==(te=i.bMT(7,9,R.filters))?null:te.date)("step",R.step_interval)("min",R.min_offset)("max",R.max_offset)("use_24hr",R.use_24hr)}}function B(L,Q){1&L&&(i.j41(0,"h3",20),i.pXf(1,1),i.k0s())}function y(L,Q){if(1&L){const te=i.RV6();i.j41(0,"mat-checkbox",17),i.nI1(1,"async"),i.bIt("ngModelChange",function(){const ee=i.eBV(te).$implicit,k=i.XpG();return i.Njj(k.toggleCategory(ee))}),i.EFF(2),i.k0s()}if(2&L){let te;const R=Q.$implicit,ee=i.XpG();i.Y8G("ngModel",null==(te=i.bMT(1,3,ee.filters))||null==te.categories?null:te.categories.includes(R)),i.BMQ("name",R),i.R7$(2),i.SpI(" ",R," ")}}const I={coffee:'<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <g clip-path="url(#clip0_605_8664)">\n    <path d="M38.388 21.2474C37.8243 20.7996 37.1598 20.4847 36.4474 20.3278C35.735 20.1708 34.9944 20.1762 34.2846 20.3434C34.2476 19.7774 34.2049 19.2037 34.1483 18.6155C34.1243 18.3664 34.0043 18.1349 33.8119 17.9668C33.6195 17.7986 33.3687 17.706 33.1088 17.707H1.26151C1.00166 17.706 0.750839 17.7986 0.558442 17.9668C0.366045 18.1349 0.246035 18.3664 0.222073 18.6155C-0.42931 25.3581 0.106585 30.5307 4.80024 35.4799C8.88062 39.7819 15.7271 39.9998 17.0599 39.9998H17.3047C18.6375 39.9998 25.4863 39.7774 29.5643 35.4799C30.5412 34.4597 31.3937 33.3353 32.1052 32.1286C32.2481 32.1199 32.3875 32.0819 32.514 32.0174C34.0959 31.2139 35.6169 30.3039 37.0656 29.2943C38.3815 28.4227 39.3664 27.1618 39.871 25.7028C40.0702 24.9006 40.0372 24.0612 39.7758 23.2757C39.5144 22.4902 39.0344 21.7887 38.388 21.2474ZM28.0329 34.13C24.4699 37.8905 18.0323 37.9984 17.3093 37.9984H17.0645C16.3426 37.9984 9.90389 37.8872 6.34092 34.13C2.37257 29.9436 1.75351 25.466 2.21549 19.7085H32.1583C32.6214 25.4649 32.0024 29.9425 28.0329 34.13ZM37.8498 25.2091C37.4485 26.2369 36.7212 27.117 35.771 27.7243C35.024 28.2636 34.2434 28.7582 33.4334 29.2053C34.1268 27.0036 34.4428 24.7078 34.3689 22.4082C34.3839 22.4027 34.3989 22.4082 34.4139 22.3982C34.8447 22.2182 35.3192 22.1579 35.7837 22.2242C36.2482 22.2905 36.6841 22.4808 37.0421 22.7733C37.4001 23.0659 37.6658 23.4491 37.8092 23.8796C37.9525 24.3101 37.9678 24.7707 37.8533 25.2091H37.8498Z" fill="currentcolor"/>\n    <path d="M9.43243 8.16274C9.85735 8.48322 10.2069 8.88673 10.4582 9.34669C10.7094 9.80666 10.8565 10.3126 10.89 10.8313C10.7939 11.9569 10.2754 13.0103 9.43128 13.7946C9.32937 13.883 9.24664 13.9899 9.18786 14.1092C9.12907 14.2286 9.0954 14.3579 9.08878 14.4898C9.08216 14.6217 9.10275 14.7536 9.14931 14.8778C9.19588 15.002 9.26753 15.1161 9.36012 15.2136C9.45271 15.311 9.56442 15.3898 9.6888 15.4455C9.81319 15.5012 9.9478 15.5326 10.0849 15.538C10.2219 15.5433 10.3587 15.5225 10.4874 15.4767C10.6161 15.4309 10.734 15.3611 10.8345 15.2712C12.1048 14.1093 12.8679 12.5254 12.9688 10.8413C12.9432 10.042 12.7392 9.25727 12.3708 8.5405C12.0023 7.82373 11.478 7.19166 10.8334 6.68722C10.4067 6.38353 10.055 5.99283 9.80341 5.54303C9.55184 5.09323 9.40662 4.59547 9.37815 4.08534C9.51392 3.18283 10.0073 2.36595 10.7548 1.80591C10.9718 1.64618 11.1147 1.41065 11.1528 1.15024C11.1908 0.889843 11.1208 0.625512 10.958 0.414392C10.7951 0.203272 10.5525 0.062327 10.2826 0.0220596C10.0127 -0.0182078 9.73715 0.0454338 9.51559 0.199206C8.90219 0.651996 8.39004 1.21933 8.0098 1.86721C7.62956 2.5151 7.38907 3.2302 7.30273 3.9697C7.30292 4.77855 7.49485 5.5767 7.86392 6.30333C8.23298 7.02996 8.76944 7.66592 9.43243 8.16274Z" fill="currentcolor"/>\n    <path d="M23.0984 8.16274C23.5234 8.48322 23.8729 8.88673 24.1242 9.34669C24.3754 9.80666 24.5225 10.3126 24.556 10.8313C24.4599 11.9569 23.9414 13.0103 23.0973 13.7946C22.9954 13.883 22.9126 13.9899 22.8539 14.1092C22.7951 14.2286 22.7614 14.3579 22.7548 14.4898C22.7482 14.6217 22.7687 14.7536 22.8153 14.8778C22.8619 15.002 22.9335 15.1161 23.0261 15.2136C23.1187 15.311 23.2304 15.3898 23.3548 15.4455C23.4792 15.5012 23.6138 15.5326 23.7509 15.538C23.8879 15.5433 24.0247 15.5225 24.1534 15.4767C24.2821 15.4309 24.4 15.3611 24.5005 15.2712C25.7708 14.1093 26.5339 12.5254 26.6348 10.8413C26.6092 10.042 26.4052 9.25727 26.0368 8.5405C25.6683 7.82373 25.144 7.19166 24.4994 6.68722C24.0727 6.38353 23.721 5.99283 23.4694 5.54303C23.2178 5.09323 23.0726 4.59547 23.0442 4.08534C23.1799 3.18283 23.6733 2.36595 24.4208 1.80591C24.6378 1.64618 24.7807 1.41065 24.8188 1.15024C24.8568 0.889843 24.7868 0.625512 24.624 0.414392C24.4611 0.203272 24.2185 0.062327 23.9486 0.0220596C23.6787 -0.0182078 23.4032 0.0454338 23.1816 0.199206C22.5682 0.651996 22.0561 1.21933 21.6758 1.86721C21.2956 2.5151 21.0551 3.2302 20.9688 3.9697C20.9689 4.77855 21.1609 5.5767 21.5299 6.30333C21.899 7.02996 22.4355 7.66592 23.0984 8.16274Z" fill="currentcolor"/>\n    <path d="M16.2645 8.16274C16.6894 8.48322 17.039 8.88673 17.2902 9.34669C17.5414 9.80666 17.6886 10.3126 17.722 10.8313C17.626 11.9569 17.1074 13.0103 16.2633 13.7946C16.1614 13.883 16.0787 13.9899 16.0199 14.1092C15.9611 14.2286 15.9274 14.3579 15.9208 14.4898C15.9142 14.6217 15.9348 14.7536 15.9813 14.8778C16.0279 15.002 16.0996 15.1161 16.1922 15.2136C16.2847 15.311 16.3964 15.3898 16.5208 15.4455C16.6452 15.5012 16.7798 15.5326 16.9169 15.538C17.054 15.5433 17.1908 15.5225 17.3194 15.4767C17.4481 15.4309 17.5661 15.3611 17.6666 15.2712C18.9368 14.1093 19.6999 12.5254 19.8009 10.8413C19.7752 10.042 19.5713 9.25727 19.2028 8.5405C18.8343 7.82373 18.31 7.19166 17.6654 6.68722C17.2387 6.38353 16.887 5.99283 16.6354 5.54303C16.3839 5.09323 16.2386 4.59547 16.2102 4.08534C16.346 3.18283 16.8393 2.36595 17.5869 1.80591C17.8038 1.64618 17.9468 1.41065 17.9848 1.15024C18.0228 0.889843 17.9528 0.625512 17.79 0.414392C17.6271 0.203272 17.3845 0.062327 17.1146 0.0220596C16.8447 -0.0182078 16.5692 0.0454338 16.3476 0.199206C15.7342 0.651996 15.2221 1.21933 14.8418 1.86721C14.4616 2.5151 14.2211 3.2302 14.1348 3.9697C14.1349 4.77855 14.3269 5.5767 14.6959 6.30333C15.065 7.02996 15.6015 7.66592 16.2645 8.16274Z" fill="currentcolor"/>\n    <path d="M7.16328 29.7138C5.86597 27.7051 5.17938 25.3866 5.18141 23.0212C5.18141 22.7558 5.07191 22.5013 4.87697 22.3136C4.68204 22.1259 4.41765 22.0205 4.14198 22.0205C3.8663 22.0205 3.60191 22.1259 3.40698 22.3136C3.21204 22.5013 3.10254 22.7558 3.10254 23.0212C3.10081 25.7653 3.89738 28.4551 5.40201 30.7857C5.55001 31.0072 5.78275 31.1637 6.04976 31.2211C6.31677 31.2784 6.59652 31.2322 6.82832 31.0923C7.06012 30.9524 7.22529 30.7301 7.288 30.4737C7.35071 30.2174 7.30588 29.9475 7.16328 29.7227V29.7138Z" fill="currentcolor"/>\n    <path d="M9.06498 32.7103C8.94112 32.6482 8.84235 32.548 8.78434 32.4257C8.73082 32.3026 8.65227 32.1911 8.55334 32.0977C8.45441 32.0043 8.33708 31.9309 8.20825 31.8818C8.07942 31.8327 7.9417 31.8089 7.80317 31.8118C7.66464 31.8146 7.5281 31.8441 7.40159 31.8986C7.27508 31.953 7.16115 32.0312 7.06649 32.1286C6.97184 32.226 6.89837 32.3407 6.8504 32.4658C6.80244 32.591 6.78094 32.7241 6.78719 32.8574C6.79344 32.9906 6.8273 33.1213 6.88678 33.2418C7.13536 33.7758 7.56332 34.2136 8.10177 34.4849C8.34682 34.6079 8.63256 34.6321 8.89616 34.5523C9.15975 34.4724 9.37959 34.295 9.50732 34.0591C9.63505 33.8232 9.6602 33.5481 9.57725 33.2943C9.49429 33.0405 9.31003 32.8289 9.06498 32.7059V32.7103Z" fill="currentcolor"/>\n    </g>\n    <defs>\n    <clipPath id="clip0_605_8664">\n    <rect width="40" height="40" fill="white"/>\n    </clipPath>\n    </defs>\n    </svg>\n    ',drinks:'<svg width="28" height="39" viewBox="0 0 28 39" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <g clip-path="url(#clip0_598_8203)">\n    <path d="M0 0L0.662157 8.11078C0.662157 8.12619 0.653028 8.1394 0.653028 8.15481C0.658117 8.18851 0.664982 8.22193 0.673584 8.25496L3.1852 39H25.1048L28.0034 0H0ZM25.7932 1.98093L25.4085 7.16985C25.3982 7.16985 25.3902 7.16985 25.3799 7.16985H2.64519L2.22279 1.98642L25.7932 1.98093ZM23.1948 37.0191H5.08147L2.80846 9.14527H25.2612L23.1948 37.0191Z" fill="currentcolor"/>\n    <path d="M6.24983 23.3122C6.28864 23.3122 6.32861 23.3122 6.364 23.3122C6.49825 23.2972 6.6281 23.2567 6.74613 23.1933C6.86415 23.1298 6.96804 23.0445 7.05181 22.9423C7.13559 22.8401 7.19762 22.7229 7.23436 22.5975C7.2711 22.4722 7.28181 22.341 7.26589 22.2117C7.0661 20.5444 6.86517 18.8155 6.66538 17.0855C6.4576 15.2861 6.24869 13.4846 6.03862 11.7502C5.99894 11.4962 5.85848 11.267 5.64686 11.111C5.43525 10.955 5.16904 10.8843 4.90438 10.9138C4.63973 10.9434 4.39731 11.0708 4.22831 11.2694C4.0593 11.4679 3.9769 11.722 3.9985 11.978C4.20628 13.7091 4.41522 15.5084 4.623 17.3056C4.82392 19.0378 5.02485 20.77 5.22578 22.4395C5.25574 22.6807 5.37661 22.9029 5.56542 23.0638C5.75424 23.2247 5.99781 23.3131 6.24983 23.3122Z" fill="currentcolor"/>\n    <path d="M6.05485 24.414C5.9204 24.4288 5.79029 24.469 5.67201 24.5323C5.55372 24.5957 5.44958 24.6809 5.36557 24.7832C5.28156 24.8854 5.21933 25.0027 5.18245 25.1282C5.14557 25.2537 5.13477 25.385 5.15067 25.5145L5.31392 26.8857C5.34197 27.1276 5.46141 27.351 5.64945 27.5134C5.83748 27.6758 6.08096 27.7658 6.33341 27.7662C6.37223 27.7662 6.41105 27.7662 6.44759 27.7607C6.5817 27.7462 6.71152 27.7063 6.82966 27.6434C6.9478 27.5806 7.05194 27.4959 7.13612 27.3942C7.22029 27.2925 7.28287 27.1758 7.32027 27.0508C7.35766 26.9258 7.36913 26.7949 7.35404 26.6656L7.1908 25.2889C7.15839 25.0286 7.02114 24.791 6.80864 24.6273C6.59614 24.4636 6.32541 24.387 6.05485 24.414Z" fill="currentcolor"/>\n    </g>\n    <defs>\n    <clipPath id="clip0_598_8203">\n    <rect width="28" height="39" fill="white"/>\n    </clipPath>\n    </defs>\n    </svg>\n    ',snacks:'<svg width="44" height="30" viewBox="0 0 44 30" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M39.9739 12.3839H39.9673C39.8416 11.3068 39.529 10.2613 39.0441 9.29623C38.2937 7.89066 37.2396 6.67826 35.9616 5.75118C34.6837 4.82411 33.2156 4.20677 31.669 3.94605C31.658 3.94605 31.6471 3.94605 31.635 3.94605C29.7116 1.41671 26.4577 0.0219894 22.162 0.00292969C17.7851 0.0287164 14.3819 1.44362 12.4015 3.94605C12.3773 3.94605 12.3553 3.94605 12.3312 3.94605C10.7845 4.20721 9.31631 4.82484 8.03823 5.75207C6.76016 6.6793 5.70574 7.89174 4.95505 9.29734C4.47112 10.2623 4.15888 11.3074 4.03289 12.3839H4.02631C2.34137 14.0479 1.12087 16.1402 0.490328 18.4457C-0.140217 20.7512 -0.15805 23.1866 0.438675 25.5015C1.16762 28.1328 2.30494 29.6228 3.81991 29.9323C4.02143 29.975 4.22667 29.9968 4.43249 29.9973C5.03503 29.925 5.61546 29.722 6.13483 29.4017C6.6542 29.0815 7.1005 28.6516 7.44377 28.1407C8.13563 27.3077 8.96125 26.601 9.88529 26.0508C10.6588 25.658 11.4715 25.3513 12.3092 25.136C12.7407 25.007 13.2105 24.8624 13.7122 24.6875C14.2182 24.7717 14.7299 24.8148 15.2426 24.8164C16.5191 24.8132 17.7827 24.5561 18.963 24.0597C19.2243 24.1678 19.4915 24.2603 19.7633 24.3366C20.4624 24.5255 21.1737 24.6634 21.892 24.7492C21.9649 24.7584 22.0386 24.7584 22.1115 24.7492C22.8298 24.6634 23.5411 24.5255 24.2402 24.3366C24.5121 24.2602 24.7794 24.1674 25.0405 24.0585C26.6985 24.7663 28.5179 24.9843 30.2913 24.6875C30.7941 24.8568 31.2639 25.0014 31.6954 25.136C32.5326 25.3518 33.3449 25.6585 34.1182 26.0508C35.0422 26.6006 35.8675 27.3074 36.5586 28.1407C36.9021 28.6516 37.3486 29.0816 37.8682 29.4018C38.3877 29.722 38.9683 29.925 39.571 29.9973C39.7765 29.9968 39.9813 29.975 40.1825 29.9323C41.6986 29.6228 42.8359 28.1317 43.5648 25.5015C44.1604 23.1863 44.1418 20.7509 43.5107 18.4455C42.8796 16.1401 41.6588 14.0479 39.9739 12.3839ZM8.94886 24.276C7.83296 24.927 6.83512 25.7694 5.99906 26.7661C5.09447 27.7561 4.76074 28.07 4.20854 27.9568C3.49936 27.8111 2.83628 26.7459 2.34227 24.9543C1.92223 23.3112 1.86627 21.5932 2.17848 19.9252C2.4907 18.2572 3.16322 16.6814 4.14706 15.3124C4.29059 16.0686 4.52165 16.8048 4.83539 17.5054C6.01506 20.1182 8.00316 22.2624 10.4935 23.6078C9.96108 23.7857 9.44437 24.0092 8.94886 24.276ZM14.1514 22.7266C13.9962 22.6555 13.8256 22.6265 13.6562 22.6425C12.1235 22.2411 10.6976 21.4958 9.48221 20.461C8.26685 19.4261 7.2926 18.1277 6.63029 16.66C6.16216 15.6502 5.92631 14.5445 5.94077 13.4274C5.95523 12.3102 6.21962 11.2112 6.71373 10.2145C7.64306 8.45293 9.17618 7.10357 11.0193 6.42493C9.99726 9.36013 10.6472 13.6553 12.7165 17.6365C13.6785 19.5654 15.0132 21.2752 16.6401 22.6627C15.8195 22.8232 14.9787 22.8448 14.1514 22.7266ZM23.7451 22.3903C23.1716 22.5448 22.5889 22.6613 22.0007 22.7389C21.4117 22.6614 20.8283 22.5449 20.254 22.3903C18.2033 21.8521 16.0374 19.7219 14.462 16.6925C12.6704 13.2438 12.0469 9.47672 12.8834 7.09538C14.473 2.55356 19.9093 2.03223 22.1653 2.01765C25.4445 2.03783 29.66 2.93475 31.1157 7.09538C31.9501 9.4756 31.3353 13.2427 29.5393 16.6903C27.9628 19.7197 25.798 21.851 23.7451 22.3891V22.3903ZM27.3579 22.6649C28.9873 21.2782 30.3233 19.5673 31.2848 17.6365C33.353 13.6542 34.0019 9.36013 32.9798 6.42493C34.8231 7.1032 36.3564 8.45266 37.2854 10.2145C37.7798 11.2111 38.0446 12.31 38.0594 13.4271C38.0743 14.5442 37.8388 15.6501 37.371 16.66C36.7089 18.1267 35.7356 19.4246 34.5215 20.4595C33.3074 21.4945 31.883 22.2405 30.3517 22.6436C30.1773 22.6248 30.0013 22.6546 29.8423 22.73C29.0162 22.8474 28.1769 22.825 27.3579 22.6638V22.6649ZM41.6601 24.9555C41.165 26.7493 40.5009 27.8122 39.7939 27.9579C39.2516 28.07 38.9156 27.7595 38.0033 26.7673C37.1671 25.7707 36.1693 24.9284 35.0536 24.2772C34.5589 24.0089 34.0429 23.7839 33.5111 23.6045C36.0014 22.2591 37.9895 20.1148 39.1692 17.502C39.4825 16.8016 39.7135 16.0659 39.8575 15.3101C40.8408 16.6799 41.5127 18.2562 41.8245 19.9245C42.1364 21.5927 42.0802 23.311 41.6601 24.9543V24.9555Z" fill="currentColor"/>\n    <path d="M17.3428 15.7782C16.1626 13.048 15.7674 10.0313 16.2032 7.08028C16.2231 6.94931 16.2174 6.81565 16.1867 6.68691C16.1559 6.55816 16.1006 6.43686 16.024 6.32994C15.9473 6.22302 15.8508 6.13257 15.7399 6.06375C15.629 5.99493 15.5059 5.94908 15.3777 5.92884C15.2495 5.90859 15.1186 5.91434 14.9925 5.94576C14.8665 5.97717 14.7477 6.03365 14.643 6.11194C14.5383 6.19023 14.4497 6.2888 14.3824 6.40205C14.315 6.5153 14.2701 6.641 14.2503 6.77197C13.7579 10.1061 14.2045 13.5144 15.538 16.5989C15.5889 16.7227 15.6636 16.8349 15.7575 16.9289C15.8515 17.0229 15.9628 17.0967 16.0851 17.1462C16.2074 17.1956 16.3381 17.2197 16.4695 17.2168C16.601 17.214 16.7306 17.1844 16.8507 17.1298C16.9709 17.0752 17.0791 16.9966 17.1691 16.8987C17.2591 16.8008 17.3291 16.6855 17.3749 16.5597C17.4208 16.4338 17.4415 16.2998 17.436 16.1656C17.4305 16.0315 17.3988 15.8997 17.3428 15.7782Z" fill="currentColor"/>\n    <path d="M19.696 19.2067C19.2865 18.9533 18.9569 18.5852 18.7464 18.146C18.6921 18.023 18.6143 17.9124 18.5174 17.8206C18.4206 17.7288 18.3067 17.6578 18.1825 17.6118C18.0583 17.5658 17.9263 17.5456 17.7944 17.5526C17.6625 17.5596 17.5333 17.5935 17.4144 17.6524C17.2955 17.7112 17.1894 17.7939 17.1023 17.8953C17.0153 17.9968 16.949 18.1151 16.9075 18.2432C16.866 18.3712 16.85 18.5065 16.8606 18.641C16.8712 18.7755 16.908 18.9065 16.969 19.0262C17.3477 19.8156 17.9407 20.4772 18.6772 20.9321C18.7884 21.0004 18.9117 21.0457 19.0401 21.0654C19.1684 21.085 19.2993 21.0786 19.4253 21.0466C19.5512 21.0146 19.6698 20.9576 19.7741 20.8788C19.8785 20.8 19.9666 20.701 20.0335 20.5874C20.1004 20.4738 20.1448 20.3478 20.164 20.2168C20.1832 20.0857 20.177 19.952 20.1456 19.8234C20.1143 19.6947 20.0585 19.5737 19.9813 19.4671C19.9041 19.3605 19.8072 19.2705 19.696 19.2022V19.2067Z" fill="currentColor"/>\n    </svg>\n    ',meals:'<svg width="44" height="47" viewBox="0 0 44 47" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <g clip-path="url(#clip0_598_8219)">\n    <path d="M42.941 2.11595C42.7415 1.9851 42.4981 1.93888 42.2644 1.98745C42.0307 2.03602 41.8259 2.1754 41.695 2.37496L34.006 14.102C33.3796 13.6496 32.7178 13.2483 32.027 12.902C32.0551 12.8557 32.0786 12.8068 32.097 12.756L35.4431 1.14795C35.5094 0.91841 35.4818 0.671927 35.3663 0.46273C35.2509 0.253533 35.0571 0.098759 34.8275 0.0324549C34.598 -0.0338492 34.3515 -0.0062506 34.1423 0.109178C33.9331 0.224607 33.7783 0.41841 33.712 0.647954L30.382 12.202C28.8498 11.6558 27.2357 11.3751 25.609 11.372C23.5868 11.3208 21.5789 11.7248 19.7337 12.5541C17.8886 13.3834 16.2534 14.6167 14.949 16.163C13.472 15.5617 11.8698 15.3326 10.2834 15.4959C8.69704 15.6593 7.17511 16.21 5.85156 17.0996C4.528 17.9893 3.44339 19.1906 2.69314 20.5978C1.94289 22.0051 1.54999 23.5752 1.54904 25.17H0.900049C0.781014 25.1699 0.663159 25.1936 0.553309 25.2394C0.443459 25.2853 0.343801 25.3524 0.260096 25.4371C0.176391 25.5217 0.110305 25.6221 0.0656684 25.7325C0.0210317 25.8428 -0.00126705 25.9609 5.5571e-05 26.08C0.0892682 29.5951 1.16582 33.0142 3.10662 35.9464C5.04743 38.8786 7.77413 41.2054 10.975 42.661V45.147C10.975 45.3856 11.0699 45.6146 11.2386 45.7834C11.4074 45.9521 11.6364 46.047 11.8751 46.047H29.692C29.9307 46.047 30.1596 45.9521 30.3284 45.7834C30.4972 45.6146 30.592 45.3856 30.592 45.147V42.665C33.7927 41.2092 36.5191 38.8822 38.4597 35.9501C40.4004 33.018 41.4768 29.599 41.566 26.084C41.5674 25.9649 41.5451 25.8468 41.5004 25.7365C41.4558 25.6261 41.3897 25.5257 41.306 25.4411C41.2223 25.3565 41.1226 25.2893 41.0128 25.2434C40.9029 25.1976 40.7851 25.1739 40.666 25.174H39.976C39.82 21.3924 38.1759 17.8258 35.402 15.251L43.197 3.36196C43.3282 3.16274 43.3749 2.91961 43.3269 2.68598C43.2789 2.45235 43.1401 2.24733 42.941 2.11595ZM11.292 17.249C13.3949 17.2513 15.4113 18.0864 16.9 19.5716C18.3887 21.0568 19.2286 23.0711 19.236 25.174H18.476C18.4537 23.2835 17.6871 21.4779 16.3423 20.149C14.9976 18.82 13.1832 18.0747 11.2925 18.0747C9.4019 18.0747 7.58747 18.82 6.24273 20.149C4.89799 21.4779 4.13134 23.2835 4.10903 25.174H3.34905C3.35619 23.0712 4.1959 21.0569 5.68447 19.5717C7.17304 18.0865 9.18928 17.2513 11.292 17.249ZM30.46 25.174C30.3295 24.0738 29.829 23.0506 29.0406 22.2723C28.2521 21.494 27.2226 21.0067 26.1208 20.8904C25.019 20.7742 23.9104 21.0358 22.9769 21.6324C22.0433 22.2291 21.3403 23.1252 20.983 24.174C20.8976 23.3879 20.7156 22.6154 20.441 21.874C21.2275 20.8287 22.312 20.0461 23.5519 19.6292C24.7917 19.2124 26.1287 19.1807 27.3869 19.5384C28.6451 19.8962 29.7655 20.6265 30.6005 21.6334C31.4356 22.6402 31.9461 23.8763 32.065 25.179L30.46 25.174ZM28.66 25.174H22.555C22.6942 24.4666 23.0746 23.8296 23.6314 23.3717C24.1882 22.9138 24.8867 22.6634 25.6075 22.6634C26.3284 22.6634 27.0269 22.9138 27.5837 23.3717C28.1404 23.8296 28.5209 24.4666 28.66 25.174ZM33.8661 25.174C33.7524 23.5697 33.1734 22.0335 32.1999 20.7533C31.2265 19.4731 29.9008 18.5046 28.3853 17.9663C26.8698 17.428 25.2303 17.3434 23.6674 17.7227C22.1045 18.102 20.6862 18.9288 19.5861 20.102C19.3425 19.7013 19.0704 19.3187 18.772 18.957C19.6483 18.0285 20.7095 17.2942 21.8871 16.8014C23.0648 16.3086 24.3327 16.0683 25.609 16.096C28.0701 16.1 30.4374 17.0409 32.2298 18.7275C34.0222 20.414 35.1053 22.7196 35.259 25.176L33.8661 25.174ZM15.376 25.174C15.376 24.0911 14.9459 23.0525 14.1802 22.2868C13.4145 21.5211 12.3759 21.091 11.2931 21.091C10.2102 21.091 9.17165 21.5211 8.40594 22.2868C7.64023 23.0525 7.21005 24.0911 7.21005 25.174H5.91003C5.92931 23.7594 6.5048 22.4093 7.51193 21.4158C8.51906 20.4223 9.87684 19.8653 11.2915 19.8653C12.7062 19.8653 14.064 20.4223 15.0712 21.4158C16.0783 22.4093 16.6537 23.7594 16.673 25.174H15.376ZM13.576 25.174H9.01205C9.02455 24.5769 9.27051 24.0085 9.6972 23.5906C10.1239 23.1728 10.6973 22.9387 11.2945 22.9387C11.8918 22.9387 12.4652 23.1728 12.8919 23.5906C13.3186 24.0085 13.5646 24.5769 13.5771 25.174H13.576ZM12.7761 44.251V43.132H28.792V44.251H12.7761ZM29.136 41.332H12.436C9.52258 40.1406 6.99281 38.1712 5.12332 35.6389C3.25383 33.1066 2.11663 30.109 1.83605 26.974H39.7281C39.4482 30.1081 38.3122 33.1051 36.4441 35.6373C34.5761 38.1695 32.048 40.1395 29.136 41.332ZM38.178 25.174H37.0601C36.9048 22.2401 35.6312 19.4773 33.5013 17.4538C31.3713 15.4303 28.547 14.2998 25.609 14.295C24.0957 14.2643 22.5927 14.55 21.1962 15.1338C19.7996 15.7176 18.5404 16.5865 17.499 17.685C17.2087 17.4481 16.9052 17.2277 16.5901 17.025C17.7218 15.7645 19.1155 14.7668 20.6734 14.1017C22.2314 13.4367 23.9159 13.1204 25.609 13.175C28.8438 13.1792 31.9531 14.4275 34.2929 16.6611C36.6327 18.8948 38.0237 21.9428 38.178 25.174Z" fill="currentColor"/>\n    <path d="M3.39209 30.1722C4.045 32.6025 5.31628 34.8222 7.08209 36.6152C7.16443 36.7021 7.26327 36.7717 7.37286 36.8199C7.48244 36.8682 7.60056 36.8941 7.72027 36.8961C7.83999 36.8981 7.95888 36.8762 8.07003 36.8317C8.18118 36.7872 8.28235 36.7209 8.36758 36.6368C8.45281 36.5528 8.52038 36.4525 8.56637 36.342C8.61237 36.2314 8.63585 36.1128 8.63543 35.9931C8.63501 35.8733 8.6107 35.7549 8.56393 35.6447C8.51716 35.5344 8.44888 35.4347 8.36306 35.3512C6.81633 33.7796 5.70257 31.8346 5.13006 29.7052C5.1013 29.589 5.04966 29.4797 4.97815 29.3837C4.90663 29.2878 4.81669 29.207 4.71359 29.1462C4.61049 29.0854 4.49631 29.0458 4.37771 29.0297C4.25912 29.0136 4.1385 29.0213 4.02291 29.0523C3.90733 29.0834 3.7991 29.1372 3.70456 29.2106C3.61001 29.284 3.53106 29.3755 3.47232 29.4798C3.41357 29.584 3.3762 29.699 3.36242 29.8179C3.34865 29.9368 3.35875 30.0572 3.39209 30.1722Z" fill="#323232"/>\n    <path d="M10.5356 39.5502C10.7282 39.6767 10.962 39.7245 11.1889 39.6838C11.4157 39.643 11.6182 39.5168 11.7547 39.3312C11.8913 39.1456 11.9514 38.9146 11.9227 38.6859C11.8941 38.4573 11.7788 38.2483 11.6006 38.1022L10.3336 37.1752C10.1407 37.0392 9.90209 36.9844 9.66918 37.0226C9.43627 37.0609 9.2277 37.1891 9.08843 37.3797C8.94915 37.5702 8.89031 37.8079 8.92458 38.0414C8.95884 38.2749 9.08345 38.4857 9.27159 38.6282L10.5356 39.5502Z" fill="#323232"/>\n    </g>\n    <defs>\n    <clipPath id="clip0_598_8219">\n    <rect width="43.348" height="46.051" fill="white"/>\n    </clipPath>\n    </defs>\n    </svg>'};let w=(()=>{class L extends m.Tv{get start_of_date(){return(0,_.o)((0,g.f)(this._state.getFilters().date,this.offset_day)).valueOf()}get min_offset(){return this.offset_day>0?0:this._min_offset}get step_interval(){return this._settings.get("app.catering.step_interval")||5}get max_offset(){const te=Math.min((0,b.D)((0,g.f)(this._state.getFilters().date,this.offset_day)).valueOf(),(0,u.z)(this._state.getFilters().date,this._state.getFilters().duration).valueOf()),R=(0,S.o)(te,this._state.getFilters().date);return Math.min(R,Math.min(1439,this._max_offset))}get use_24hr(){return this._settings.get("app.use_24_hour_time")}constructor(te,R){super(),this._state=te,this._settings=R,this.search=!1,this.at_time=!1,this.at_timeChange=new i.bkB,this.offset=0,this.offsetChange=new i.bkB,this.offset_day=0,this.offset_dayChange=new i.bkB,this._min_offset=0,this._max_offset=60,this.icons=I,this.filters=this._state.filters,this.setFilters=ee=>this._state.setFilters(ee),this.categories=this._state.categories,this.exact_tooltip="Deliver at exactly specified time. \nNote that changes to the booking will not be \nreflected in the order if this is set.",this.day_options=[]}ngOnInit(){this._min_offset=Math.max(this._settings.get("app.catering.min_offset"),0),this.subscription("filters",this._state.filters.subscribe(()=>{this._max_offset=Math.max(15,(this._state.getFilters().duration||60)-this._settings.get("app.catering.end_offset")),this._updateDayOptions()})),this._updateDayOptions()}toggleCategory(te){var R=this;return(0,e.A)(function*(){const{categories:ee}=yield R.filters.pipe((0,d.s)(1)).toPromise();ee.includes(te)?R.setFilters({categories:ee.filter(k=>k!==te)}):R.setFilters({categories:[...ee,te]})})()}toggleTag(te){var R=this;return(0,e.A)(function*(){const{tags:ee}=yield R.filters.pipe((0,d.s)(1)).toPromise();ee.includes(te)?R.setFilters({tags:ee.filter(k=>k!==te)}):R.setFilters({tags:[...ee,te]})})()}_updateDayOptions(){const{date:te,duration:R}=this._state.getFilters();if(R<=1440)return this.day_options=[];let ee=(0,_.o)(te),k=0;const J=(0,b.D)((0,u.z)(te,R)).valueOf(),X=[];for(;ee.valueOf()<=J;)X.push({id:k,value:ee.valueOf()}),ee=(0,g.f)(ee,1),k++;this.day_options=X}static#e=this.\u0275fac=function(R){return new(R||L)(i.rXU(p.k),i.rXU(m.h$))};static#t=this.\u0275cmp=i.VBU({type:L,selectors:[["catering-item-filters"]],inputs:{search:"search",at_time:"at_time",offset:"offset",offset_day:"offset_day"},outputs:{at_timeChange:"at_timeChange",offsetChange:"offsetChange",offset_dayChange:"offset_dayChange"},features:[i.Vt3],decls:12,vars:15,consts:()=>{let te,R;return te=$localize`:07b96192315617e1c3c3f020fed4749eafda31eb637156553417356107: Options `,R=$localize`:24300e769843b029b0346b3ea18e51e4e97a35023888583854485349732: Catergories `,[te,R,[1,"px-4","mt-3","mb-2"],["appearance","outline",1,"w-full","h-14"],["matPrefix","",1,"text-xl"],["matInput","","placeholder","Search menu...",3,"ngModelChange","ngModel"],["class","hidden sm:block font-medium px-2 py-2",4,"ngIf"],["class","flex flex-col px-2",4,"ngIf"],["class","hidden sm:block font-medium px-2 py-4",4,"ngIf"],[1,"flex","flex-col","px-2","space-y-4"],[3,"ngModel","ngModelChange",4,"ngFor","ngForOf"],[1,"hidden","sm:block","font-medium","px-2","py-2"],[1,"flex","flex-col","px-2"],[3,"ngModelChange","ngModel","matTooltip"],[4,"ngIf"],[3,"ngModelChange","ngModel","time","step","min","max","use_24hr"],["appearance","outline",1,"w-full","no-subscript","mb-4"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"hidden","sm:block","font-medium","px-2","py-4"]]},template:function(R,ee){if(1&R&&(i.j41(0,"div",2)(1,"mat-form-field",3)(2,"app-icon",4),i.EFF(3,"search"),i.k0s(),i.j41(4,"input",5),i.nI1(5,"async"),i.bIt("ngModelChange",function(J){return ee.setFilters({search:J})}),i.k0s()()(),i.DNE(6,Y,2,0,"h3",6)(7,$,8,11,"div",7)(8,B,2,0,"h3",8),i.j41(9,"div",9),i.DNE(10,y,3,5,"mat-checkbox",10),i.nI1(11,"async"),i.k0s()),2&R){let k;i.AVh("sm:hidden",!ee.search),i.R7$(4),i.Y8G("ngModel",null==(k=i.bMT(5,11,ee.filters))?null:k.search),i.R7$(2),i.Y8G("ngIf",!ee.search),i.R7$(),i.Y8G("ngIf",!ee.search),i.R7$(),i.Y8G("ngIf",!ee.search),i.R7$(),i.AVh("sm:hidden",ee.search)("sm:pt-1",!ee.search),i.R7$(),i.Y8G("ngForOf",i.bMT(11,13,ee.categories))}},dependencies:[D.Sq,D.bT,E.wT,A.So,v.oV,O.me,O.BC,O.vS,z.R,G.rl,G.JW,K.VO,F.fg,H.y,D.Jj,D.vh],styles:["[_nghost-%COMP%]{min-width:16rem}"]})}return L})()},9505:(Mt,pe,a)=>{"use strict";a.d(pe,{D:()=>z});var e=a(3953),i=a(177),d=a(9434),p=a(3208),m=a(6600);function _(G,K){if(1&G&&(e.j41(0,"div",17),e.EFF(1),e.k0s()),2&G){const F=e.XpG();e.R7$(),e.SpI(" ",F.item.quantity||"1"," ")}}function g(G,K){if(1&G&&e.nrm(0,"img",18),2&G){const F=e.XpG();e.Y8G("source",F.item.images[0])}}function b(G,K){1&G&&e.nrm(0,"img",19)}function u(G,K){if(1&G&&(e.j41(0,"p",20),e.EFF(1),e.nI1(2,"currency"),e.k0s()),2&G){const F=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,F.item.unit_price/100,F.code)," ")}}function S(G,K){if(1&G&&(e.j41(0,"div",21),e.EFF(1),e.k0s()),2&G){const F=e.XpG();e.R7$(),e.SpI(" ",F.options," ")}}function D(G,K){1&G&&(e.j41(0,"div",22),e.EFF(1," GF "),e.k0s())}function E(G,K){1&G&&(e.j41(0,"div",23),e.EFF(1," VG "),e.k0s())}function A(G,K){1&G&&(e.j41(0,"div",23),e.EFF(1," V "),e.k0s())}function v(G,K){1&G&&(e.j41(0,"div",24),e.EFF(1," D "),e.k0s())}function O(G,K){1&G&&(e.j41(0,"div",25),e.EFF(1," N "),e.k0s())}let z=(()=>{class G{constructor(){this.active=!1,this.selected=!1,this.favourite=!1,this.code="USD",this.toggleFav=new e.bkB,this.select=new e.bkB}get options(){return this.item.option_list?.map(F=>F.name).join(", ")}static#e=this.\u0275fac=function(H){return new(H||G)};static#t=this.\u0275cmp=e.VBU({type:G,selectors:[["catering-item-list-item"]],inputs:{item:"item",active:"active",selected:"selected",favourite:"favourite",code:"code"},outputs:{toggleFav:"toggleFav",select:"select"},decls:24,vars:17,consts:[["placeholder",""],["item","","matRipple","",1,"relative","p-2","rounded-lg","w-full","shadow","border","bg-base-100","border-base-200","sm:w-[20rem]"],["name","select-catering-item",1,"w-full","h-full","flex","items-center","z-0",3,"click"],[1,"relative","w-16","h-16","rounded-xl","bg-neutral","mr-4","overflow-hidden","border","border-base-200","flex","items-center","justify-center"],["class","absolute top-1 left-1 border border-white bg-neutral rounded-full h-6 w-6 flex items-center justify-center text-white text-xs",4,"ngIf"],["auth","","class","object-cover min-h-full min-w-full",3,"source",4,"ngIf","ngIfElse"],[1,"space-y-2","text-left","flex-1"],[1,"font-medium","flex","flex-col","pr-10"],[1,"opacity-60","text-xs"],[1,"flex","items-center","text-sm","space-x-1"],["class","flex-1 w-px bg-base-100 rounded",4,"ngIf"],["class","text-xs px-2 py-1 rounded-2xl shadow border border-base-200",4,"ngIf"],["class","text-xs h-5 w-7 rounded-xl shadow bg-success flex items-center justify-center",4,"ngIf"],["class","text-xs h-5 w-7 rounded-xl shadow bg-info flex items-center justify-center",4,"ngIf"],["class","text-xs h-5 w-7 rounded-xl shadow bg-warning flex items-center justify-center",4,"ngIf"],["class","text-xs h-5 w-7 rounded-xl shadow bg-orange-600 flex items-center justify-center",4,"ngIf"],["icon","","matRipple","","name","toggle-catering-item-favourite",1,"absolute","top-1","right-1",3,"click"],[1,"absolute","top-1","left-1","border","border-white","bg-neutral","rounded-full","h-6","w-6","flex","items-center","justify-center","text-white","text-xs"],["auth","",1,"object-cover","min-h-full","min-w-full",3,"source"],["src","assets/icons/catering-placeholder.svg",1,"m-auto"],[1,"flex-1","w-px","bg-base-100","rounded"],[1,"text-xs","px-2","py-1","rounded-2xl","shadow","border","border-base-200"],[1,"text-xs","h-5","w-7","rounded-xl","shadow","bg-success","flex","items-center","justify-center"],[1,"text-xs","h-5","w-7","rounded-xl","shadow","bg-info","flex","items-center","justify-center"],[1,"text-xs","h-5","w-7","rounded-xl","shadow","bg-warning","flex","items-center","justify-center"],[1,"text-xs","h-5","w-7","rounded-xl","shadow","bg-orange-600","flex","items-center","justify-center"]],template:function(H,Y){if(1&H){const P=e.RV6();e.j41(0,"li",1)(1,"button",2),e.bIt("click",function(){return e.eBV(P),e.Njj(Y.select.emit())}),e.j41(2,"div",3),e.DNE(3,_,2,1,"div",4)(4,g,1,1,"img",5)(5,b,1,0,"ng-template",null,0,e.C5r),e.k0s(),e.j41(7,"div",6)(8,"div",7)(9,"div"),e.EFF(10),e.k0s(),e.j41(11,"div",8),e.EFF(12),e.k0s()(),e.j41(13,"div",9),e.DNE(14,u,3,4,"p",10)(15,S,2,1,"div",11)(16,D,2,0,"div",12)(17,E,2,0,"div",13)(18,A,2,0,"div",13)(19,v,2,0,"div",14)(20,O,2,0,"div",15),e.k0s()()(),e.j41(21,"button",16),e.bIt("click",function(){return e.eBV(P),e.Njj(Y.toggleFav.emit())}),e.j41(22,"app-icon"),e.EFF(23),e.k0s()()()}if(2&H){const P=e.sdS(6);e.AVh("!border-base-200",Y.active),e.R7$(3),e.Y8G("ngIf",Y.item.quantity&&Y.selected),e.R7$(),e.Y8G("ngIf",null==Y.item.images?null:Y.item.images.length)("ngIfElse",P),e.R7$(6),e.JRh(Y.item.name||"Item"),e.R7$(2),e.SpI(" ",Y.item.category," "),e.R7$(2),e.Y8G("ngIf",Y.item.unit_price),e.R7$(),e.Y8G("ngIf",null==Y.item.option_list?null:Y.item.option_list.length),e.R7$(),e.Y8G("ngIf",null==Y.item.tags?null:Y.item.tags.includes("Gluten Free")),e.R7$(),e.Y8G("ngIf",null==Y.item.tags?null:Y.item.tags.includes("Vegan")),e.R7$(),e.Y8G("ngIf",null==Y.item.tags?null:Y.item.tags.includes("Vegetarian")),e.R7$(),e.Y8G("ngIf",null==Y.item.tags?null:Y.item.tags.includes("Contains Dairy")),e.R7$(),e.Y8G("ngIf",null==Y.item.tags?null:Y.item.tags.includes("Contains Nuts")),e.R7$(),e.AVh("text-blue-400",Y.favourite),e.R7$(2),e.JRh(Y.favourite?"favorite":"favorite_border")}},dependencies:[i.bT,d.R,p.U,m.r6,i.oe]})}return G})()},2499:(Mt,pe,a)=>{"use strict";a.d(pe,{M:()=>v});var e=a(3953),i=a(9928),d=a(97),p=a(177),m=a(9183),_=a(9505);function g(O,z){if(1&O){const G=e.RV6();e.j41(0,"catering-item-list-item",9),e.bIt("toggleFav",function(){const F=e.eBV(G).$implicit,H=e.XpG(2);return e.Njj(H.toggleFav.emit(F.id))})("select",function(){const F=e.eBV(G).$implicit,H=e.XpG(2);return e.Njj(H.selectItem(F,!0))}),e.k0s()}if(2&O){const G=z.$implicit,K=e.XpG(2);e.Y8G("item",G)("active",K.active===G.custom_id)("selected",!0)("favourite",K.isFavourite(G.id))}}function b(O,z){if(1&O&&(e.qex(0),e.j41(1,"h3",4),e.EFF(2,"Ordered Items"),e.k0s(),e.j41(3,"p",5),e.EFF(4),e.nI1(5,"async"),e.k0s(),e.j41(6,"ul",7),e.DNE(7,g,1,4,"catering-item-list-item",8),e.nI1(8,"async"),e.k0s(),e.bVm()),2&O){let G;const K=e.XpG();e.R7$(4),e.SpI(" ",(null==(G=e.bMT(5,2,K.list))?null:G.length)||0," items(s) "),e.R7$(3),e.Y8G("ngForOf",e.bMT(8,4,K.list))}}function u(O,z){if(1&O){const G=e.RV6();e.j41(0,"catering-item-list-item",12),e.bIt("toggleFav",function(){const F=e.eBV(G).$implicit,H=e.XpG(3);return e.Njj(H.toggleFav(F.id))})("select",function(){const F=e.eBV(G).$implicit,H=e.XpG(3);return e.Njj(H.selectItem(F,!0))}),e.k0s()}if(2&O){const G=z.$implicit,K=e.XpG(3);e.Y8G("item",G)("active",K.active===G.custom_id)("selected",K.selected.includes(G.custom_id))("favourite",K.isFavourite(G.id))("code",K.code)}}function S(O,z){if(1&O&&(e.j41(0,"ul",7),e.DNE(1,u,1,5,"catering-item-list-item",11),e.nI1(2,"async"),e.k0s()),2&O){const G=e.XpG(2);e.R7$(),e.Y8G("ngForOf",e.bMT(2,1,G.item_list))}}function D(O,z){if(1&O&&(e.qex(0),e.DNE(1,S,3,3,"ul",10),e.nI1(2,"async"),e.bVm()),2&O){let G;const K=e.XpG(),F=e.sdS(11);e.R7$(),e.Y8G("ngIf",null==(G=e.bMT(2,2,K.item_list))?null:G.length)("ngIfElse",F)}}function E(O,z){1&O&&(e.j41(0,"div",13)(1,"p",14),e.EFF(2," No available items for selected time and/or filters "),e.k0s()())}function A(O,z){1&O&&(e.j41(0,"div",15),e.nrm(1,"mat-spinner",16),e.j41(2,"p",17),e.EFF(3,"Finding available items..."),e.k0s()()),2&O&&(e.R7$(),e.Y8G("diameter",32))}let v=(()=>{class O{get code(){return this._state.currency_code}constructor(G){this._state=G,this.active="",this.selected="",this.selected_items=[],this.favorites=[],this.toggleFav=new e.bkB,this.onSelect=new e.bkB,this.list=new i.t([]),this.loading=this._state.loading,this.item_list=this._state.filtered_menu}ngOnChanges(G){G.selected_items&&this.list.next(this.selected_items||[])}isFavourite(G){return this.favorites?.includes(G)}selectItem(G,K=!1){this.onSelect.emit(G),K&&G.options?.forEach(F=>delete F.active)}static#e=this.\u0275fac=function(K){return new(K||O)(e.rXU(d.k))};static#t=this.\u0275cmp=e.VBU({type:O,selectors:[["catering-item-list"]],inputs:{active:"active",selected:"selected",selected_items:"selected_items",favorites:"favorites"},outputs:{toggleFav:"toggleFav",onSelect:"onSelect"},features:[e.OA$],decls:14,vars:10,consts:[["empty_state",""],["load_state",""],[1,"w-full","h-full","overflow-auto","py-2"],[4,"ngIf"],[1,"font-bold","px-2"],["count","",1,"text-sm","opacity-60","mb-2","px-2"],[4,"ngIf","ngIfElse"],[1,"list-style-none","space-y-2","p-2"],["class","block",3,"item","active","selected","favourite","toggleFav","select",4,"ngFor","ngForOf"],[1,"block",3,"toggleFav","select","item","active","selected","favourite"],["class","list-style-none space-y-2 p-2",4,"ngIf","ngIfElse"],["class","block",3,"item","active","selected","favourite","code","toggleFav","select",4,"ngFor","ngForOf"],[1,"block",3,"toggleFav","select","item","active","selected","favourite","code"],["empty","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[1,"opacity-30","text-center"],["loading","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[3,"diameter"],[1,"opacity-30"]],template:function(K,F){if(1&K&&(e.j41(0,"div",2),e.DNE(1,b,9,6,"ng-container",3),e.nI1(2,"async"),e.j41(3,"h3",4),e.EFF(4,"Results"),e.k0s(),e.j41(5,"p",5),e.EFF(6),e.nI1(7,"async"),e.k0s(),e.DNE(8,D,3,4,"ng-container",6),e.nI1(9,"async"),e.k0s(),e.DNE(10,E,3,0,"ng-template",null,0,e.C5r)(12,A,4,1,"ng-template",null,1,e.C5r)),2&K){let H,Y;const P=e.sdS(13);e.R7$(),e.Y8G("ngIf",null==(H=e.bMT(2,4,F.list))?null:H.length),e.R7$(5),e.SpI(" ",(null==(Y=e.bMT(7,6,F.item_list))?null:Y.length)||0," result(s) found "),e.R7$(2),e.Y8G("ngIf",!e.bMT(9,8,F.loading))("ngIfElse",P)}},dependencies:[p.Sq,p.bT,m.LG,_.D,p.Jj]})}return O})()},97:(Mt,pe,a)=>{"use strict";a.d(pe,{k:()=>G});var e=a(467),i=a(7375),d=a(2185),p=a(9596),m=a(9928),_=a(4421),g=a(9714),b=a(8728),u=a(9090),S=a(3921),D=a(5006),E=a(8841),A=a(8712),v=a(5892),O=a(2666),z=a(3953);let G=(()=>{class K{get currency_code(){return this._org.currency_code}constructor(H,Y){this._org=H,this._settings=Y,this._options=new m.t({}),this._filters=new m.t({search:"",tags:[],categories:[]}),this._loading=new m.t(""),this.loading=this._loading.asObservable(),this.filters=this._filters.asObservable(),this.settings=this._org.active_building.pipe((0,b.p)(P=>!!P),(0,u.n)(P=>(0,p.bpY)(P.id,"catering-settings").pipe((0,S.W)(U=>(0,_.of)({})))),(0,D.T)(P=>P.details),(0,E.M)(P=>this._settings.post("require_catering_notes",!!P?.require_notes)),(0,A.t)(1)),this.charge_codes=this.settings.pipe((0,D.T)(P=>P.charge_codes||[])),this.availability=this.settings.pipe((0,D.T)(P=>P.disabled_rooms||[])),this.available_menu=(0,g.zV)([this._options,this._org.active_building]).pipe((0,b.p)(([P,U])=>!!U),(0,u.n)(([{zone:P},U])=>(this._loading.next("[Menu]"),(0,p.bpY)(P||U.id,"catering").pipe((0,D.T)($=>($.details instanceof Array?$.details:[]).map(B=>new v.T(B))),(0,S.W)($=>[])))),(0,E.M)(P=>this._loading.next("")),(0,A.t)(1)),this.categories=this.available_menu.pipe((0,D.T)(P=>(0,i.Am)(P.map(U=>U.category)))),this.filtered_menu=(0,g.zV)([this._filters,this.available_menu]).pipe((0,u.n)(function(){var P=(0,e.A)(function*([{search:U,tags:$,categories:B,zone_id:y,date:I,duration:w,resources:L},Q]){const te=yield(0,O._)(y).toPromise();let R=(U=U.toLowerCase())?Q.filter(ee=>ee.name.toLowerCase().includes(U)):Q;return R=$.length?R.filter(ee=>$.every(k=>ee.tags.includes(k))):R,R=B.length?R.filter(ee=>B.includes(ee.category)):R,R=R.filter(ee=>(0,O.c)(ee,te,{date:I,duration:w,resources:L})),R});return function(U){return P.apply(this,arguments)}}()),(0,A.t)(1))}setOptions(H){this._options.next({...this._options.getValue(),...H})}setFilters(H){this._filters.next({...this._filters.getValue(),...H})}getFilters(){return{...this._filters.getValue()}}static#e=this.\u0275fac=function(Y){return new(Y||K)(z.KVO(d.yb),z.KVO(i.h$))};static#t=this.\u0275prov=z.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}return K})()},1732:(Mt,pe,a)=>{"use strict";a.d(pe,{M:()=>O});var e=a(4006),i=a(7375),d=a(2185),p=a(5892),m=a(97),_=a(3953),g=a(177),b=a(9434),u=a(6600),S=a(2499),D=a(699),E=a(6386);function A(z,G){if(1&z){const K=_.RV6();_.j41(0,"button",25),_.bIt("click",function(){_.eBV(K);const H=_.XpG();return _.Njj(H.displayed=null)}),_.pXf(1,4),_.k0s()}}const v=[];let O=(()=>{class z{get favorites(){return this._settings.get("favourite_menu_items")||v}get selected_ids(){return this.selected.map(K=>K.custom_id).join(",")}get count(){return this.selected.reduce((K,F)=>K+F.quantity,0)}get code(){return this._org.currency_code}constructor(K,F,H,Y){this._settings=K,this._order=F,this._org=H,this._data=Y,this.displayed=null,this.selected=[...this._data.items||[]],this.exact_time=this._data.exact_time??!1;const{duration:P}=this._data.details;this._order.setFilters(this._data.details),this.offset=Math.min(Math.max(this._settings.get("app.catering.min_offset"),this._data.offset||0),(P||60)-this._settings.get("app.catering.end_offset")),this.offset_day=this._data.offset_day||0}isSelected(K){return K&&this.selected_ids.includes(K)}setSelected(K,F){const H=this.selected.filter(Y=>Y.custom_id!==K.custom_id);if(F){const Y=new p.T({...K,in_order:!0});H.push(Y),this.displayed=Y}this.selected=H}toggleFavourite(K){const F=this.favorites;F.includes(K.id)?this._settings.saveUserSetting("favourite_menu_items",F.filter(Y=>Y!==K.id)):this._settings.saveUserSetting("favourite_menu_items",[...F,K.id])}static#e=this.\u0275fac=function(F){return new(F||z)(_.rXU(i.h$),_.rXU(m.k),_.rXU(d.yb),_.rXU(e.Vh))};static#t=this.\u0275cmp=_.VBU({type:z,selectors:[["new-catering-order-modal"]],decls:32,vars:28,consts:()=>{let K,F,H,Y,P;return K=$localize`:737cdc02079fb61b2944ecf62f908ab35efb2d5a2076287131803615740:Add Catering`,F=$localize`:30d3439b0e0095fe69503245f3bd7a2e9498be7c8443571736703532556: View List `,H=$localize`:18843b85d1a4f17fefafd07bc5cde636dca44295819716823718458903:Back to form`,Y=$localize`:523976668707aada89243171aa2abc1402656c5b4024487187516268099: ${"\ufffd0\ufffd"}:INTERPOLATION: items(s) added `,P=$localize`:ccda1d41ca79703a85a3a598c1d97e040a32b766874721418273731876: Back `,[K,F,H,Y,P,[1,"w-[100vw]","h-[100vh]","sm:relative","sm:w-auto","sm:h-auto","flex","flex-col","bg-base-100"],[1,"flex","items-center","space-x-4","w-full"],["icon","","matRipple","",1,"bg-neutral",3,"mat-dialog-close"],[1,"flex-1","flex","items-center","divide-x","divide-base-200","min-h-[65vh]","h-[65vh]","sm:max-h-[65vh]","sm:max-w-[95vw]","w-full","overflow-hidden"],[1,"h-full","hidden","sm:block","sm:max-w-[12rem]","sm:h-[65vh]","sm:max-h-full",3,"at_timeChange","offsetChange","offset_dayChange","at_time","offset","offset_day"],[1,"flex","flex-col","items-center","flex-1","w-1/2","h-full","sm:h-[65vh]"],[1,"w-full","border-b","border-base-200",3,"search"],[1,"flex-1","h-1/2","w-full","overflow-hidden",3,"toggleFav","onSelect","active","selected","selected_items","favorites"],[1,"h-full","w-full","sm:h-[65vh]","absolute","sm:relative","sm:flex","sm:max-w-[16rem]","z-20","bg-base-100",3,"activeChange","toggleFav","close","item","active","code","fav"],[1,"flex","sm:hidden","flex-col-reverse","items-center","justify-end","px-2","pt-2","pb-[5.5rem]","border-t","border-base-200","w-full"],["btn","","matRipple","","name","catering-item-return","class","inverse sm:hidden w-full sm:w-auto",3,"click",4,"ngIf"],["btn","","matRipple","","name","save-catering-item",1,"w-full","sm:w-auto","sm:mb-0",3,"mat-dialog-close"],[1,"hidden","sm:flex","items-center","justify-between","p-2","border-t","border-base-200","w-full"],["btn","","matRipple","","name","catering-item-return",1,"clear","text-secondary",3,"mat-dialog-close"],[1,"flex","items-center"],[1,"text-xl"],[1,"mr-1","underline"],[1,"opacity-60","text-sm"],["btn","","matRipple","","name","toggle-catering-item",3,"click","disabled"],[1,"mr-1"],["btn","","matRipple","","name","catering-item-return",1,"inverse","sm:hidden","w-full","sm:w-auto",3,"click"]]},template:function(F,H){1&F&&(_.j41(0,"div",5)(1,"header",6)(2,"button",7)(3,"app-icon"),_.EFF(4,"close"),_.k0s()(),_.j41(5,"h3"),_.pXf(6,0),_.k0s()(),_.j41(7,"main",8)(8,"catering-item-filters",9),_.mxI("at_timeChange",function(P){return _.DH7(H.exact_time,P)||(H.exact_time=P),P})("offsetChange",function(P){return _.DH7(H.offset,P)||(H.offset=P),P})("offset_dayChange",function(P){return _.DH7(H.offset_day,P)||(H.offset_day=P),P}),_.k0s(),_.j41(9,"div",10),_.nrm(10,"catering-item-filters",11),_.j41(11,"catering-item-list",12),_.bIt("toggleFav",function(P){return H.toggleFavourite(P)})("onSelect",function(P){return H.displayed=P}),_.k0s()(),_.j41(12,"catering-item-details",13),_.bIt("activeChange",function(P){return H.setSelected(H.displayed,P)})("toggleFav",function(){return H.toggleFavourite(H.displayed)})("close",function(){return H.displayed=null}),_.k0s()(),_.j41(13,"footer",14),_.DNE(14,A,2,0,"button",15),_.j41(15,"button",16),_.pXf(16,1),_.k0s()(),_.j41(17,"footer",17)(18,"button",18)(19,"div",19)(20,"app-icon",20),_.EFF(21,"arrow_back"),_.k0s(),_.j41(22,"div",21),_.pXf(23,2),_.k0s()()(),_.j41(24,"p",22),_.pXf(25,3),_.k0s(),_.j41(26,"button",23),_.bIt("click",function(){return H.setSelected(H.displayed,!H.isSelected(null==H.displayed?null:H.displayed.custom_id))}),_.j41(27,"div",19)(28,"app-icon",20),_.EFF(29),_.k0s(),_.j41(30,"div",24),_.EFF(31),_.k0s()()()()()),2&F&&(_.R7$(2),_.Y8G("mat-dialog-close",H.selected),_.R7$(6),_.R50("at_time",H.exact_time)("offset",H.offset)("offset_day",H.offset_day),_.R7$(2),_.Y8G("search",!0),_.R7$(),_.Y8G("active",null==H.displayed?null:H.displayed.custom_id)("selected",H.selected_ids)("selected_items",H.selected)("favorites",H.favorites),_.R7$(),_.AVh("hidden",!H.displayed)("inset-0",H.displayed),_.Y8G("item",H.displayed)("active",H.selected_ids.includes((null==H.displayed?null:H.displayed.custom_id)||""))("code",H.code)("fav",!!H.displayed&&H.favorites.includes((null==H.displayed?null:H.displayed.id)||"")),_.R7$(2),_.Y8G("ngIf",H.displayed),_.R7$(),_.AVh("mb-2",H.displayed),_.Y8G("mat-dialog-close",H.selected),_.R7$(3),_.Y8G("mat-dialog-close",H.selected),_.R7$(7),_.uP7(H.count),_.nnv(25),_.R7$(),_.AVh("inverse",H.isSelected(null==H.displayed?null:H.displayed.custom_id)),_.Y8G("disabled",!H.displayed),_.R7$(3),_.JRh(H.isSelected(null==H.displayed?null:H.displayed.custom_id)?"remove":"add"),_.R7$(2),_.SpI(" ",H.isSelected(null==H.displayed?null:H.displayed.custom_id)?"Remove from Booking":"Add to booking"," "))},dependencies:[g.bT,e.tx,b.R,u.r6,S.M,D.G,E.N]})}return z})()},5555:(Mt,pe,a)=>{"use strict";a.d(pe,{M:()=>u});var e=a(7375),i=a(5892),d=a(1406),p=a(906),m=a(3601),_=a(7926),g=a(2357);function b(S){let D=S.event?.date||S._time;return S.deliver_time&&(D=(0,d.h)(D,{hours:Math.floor(S.deliver_time),minutes:S.deliver_time%1*60}).valueOf()),(S.deliver_day_offset>0||S.event?.all_day)&&(D=(0,p.f)((0,m.o)(D),S.deliver_day_offset).valueOf()),(0,_.z)(D,S.deliver_offset).valueOf()}class u{get deliver_at(){return b(this)}get status(){return this._status}set status(D){this._status=D,this[`${this.event_id}_status`]=D}constructor(D={}){this._time=(0,g.c)(Date.now()).valueOf(),this.id=D.id||`order-${(0,e.HO)(9999999,1e6)}`,this.system_id=D.system_id||"",this.event_id=D.event_id||D.event?.id||"",this.items=(D.items||[]).map(E=>E instanceof i.T?E:new i.T(E)),this.item_count=this.items.reduce((E,A)=>E+A.quantity,0),this.total_cost=this.items.reduce((E,A)=>E+(A.total_cost||0),0),this.charge_code=D.charge_code||"",this.status=D[`${this.event_id}_status`]||D.status||"accepted",this.invoice_number=D.invoice_number||"",this.event=D.event||null,this.notes=D.notes||"",this.deliver_time=D.deliver_time||void 0,this.deliver_offset=D.deliver_offset||0,this.deliver_day_offset=D.deliver_day_offset||0,this.deliver_at_time=b(this)}}},2666:(Mt,pe,a)=>{"use strict";a.d(pe,{_:()=>D,c:()=>E});var e=a(9255),i=a(3901),d=a(9824),p=a(5611),m=a(4421),_=a(9596),g=a(5006),b=a(3921),u=a(7375);const S={};function D(A,v=!1){return A?((!S[A]||v)&&(S[A]=(0,_.bpY)(A,"catering_config").pipe((0,g.T)(O=>O.details instanceof Array?O.details:[]),(0,b.W)(O=>(0,m.of)([])))),S[A]):(0,m.of)([])}function E(A,v,O){let z=!0;for(const G of v)if(A.category===G.name||A.tags.includes(G.name)||O.resources.find(K=>K.zones.includes(G.name))||O.space?.zones.includes(G.name)||"*"===G.name){let K=0;for(const F of G.rules){const H=new Date(O.date);switch(F[0]){case"is_before":K+=(0,e.Y)(Date.now(),(0,i.O)(H,F[1]))?1:0;break;case"within_hours":K+=(0,d.d)(Date.now(),(0,i.O)(H,F[1]))?1:0;break;case"after_hour":K+=(0,d.d)(H,(0,p.a)(H,F[1]))?1:0;break;case"before_hour":K+=(0,e.Y)(H,(0,p.a)(H,F[1]))?1:0;break;case"min_length":K+=O.duration>=(0,u.II)(F[1])?1:0;break;case"max_length":K+=O.duration<=(0,u.II)(F[1])?1:0;break;case"visitor_type":K+=O.ext("visitor_type")===F[1]?1:0;break;default:K+=1}}z=K>=G.rules.length}return z}},7375:(Mt,pe,a)=>{"use strict";a.d(pe,{Ft:()=>D,Tv:()=>e.T,p:()=>i.p,dr:()=>d.d,mx:()=>Me.mx,_e:()=>b._,h$:()=>p.h,Rd:()=>w,CS:()=>ae,xv:()=>g.x,gd:()=>v.gd,Zr:()=>v.Zr,e1:()=>Ft,a6:()=>v.a6,Ny:()=>y.Ny,U5:()=>y.U5,bD:()=>$t,PE:()=>v.PE,y4:()=>v.y4,XE:()=>Et,Bq:()=>v.Bq,F7:()=>v.F7,st:()=>v.st,EK:()=>Kt,Fz:()=>Me.Fz,GF:()=>Me.GF,tU:()=>K,HQ:()=>v.HQ,SL:()=>v.SL,sT:()=>v.sT,Rm:()=>v.Rm,UG:()=>O.UG,uA:()=>O.uA,VX:()=>O.VX,WS:()=>O.WS,GE:()=>v.GE,go:()=>v.go,nR:()=>Pe,HO:()=>v.HO,DU:()=>v.DU,mj:()=>y.VX,Xm:()=>v.Xm,Hh:()=>dn,RH:()=>Ve,fE:()=>ft,Xf:()=>v.Xf,To:()=>O.To,WQ:()=>F,jJ:()=>U,ej:()=>v.ej,II:()=>me,dH:()=>v.dH,zJ:()=>E.z,Am:()=>v.Am,$8:()=>_n,QM:()=>ee});var e=a(5354),i=a(3114),d=a(7643),p=a(4233),m=a(9596),g=a(3885),b=a(9420),u=a(9969);(0,u.hZ)("show",[(0,u.kY)(":enter",[(0,u.iF)({opacity:0,height:0}),(0,u.i0)(300,(0,u.iF)({opacity:1,height:"*"}))]),(0,u.kY)(":leave",[(0,u.iF)({opacity:1,height:"*"}),(0,u.i0)(300,(0,u.iF)({opacity:0,height:0}))])]);const D=(0,u.hZ)("show",[(0,u.wk)("show",(0,u.iF)({opacity:1,height:"*"})),(0,u.wk)("hide",(0,u.iF)({opacity:0,height:0,"pointer-events":"none"})),(0,u.kY)("show <=> hide",(0,u.i0)("200ms ease-in"))]);var E=a(8385),A=a(467),v=a(4217),O=a(9525);let z,G=!1;function K(){return G}function F(un,an=3e5){un.isEnabled&&(z&&clearInterval(z),z=setInterval(()=>{(0,v.Rm)("CACHE","Checking for updates..."),function Y(un){P.apply(this,arguments)}(un)},an))}function P(){return(P=(0,A.A)(function*(un){if(un.isEnabled&&(yield un.checkForUpdate())){if((0,v.Rm)("CACHE","Activating changes to the cache..."),!(yield un.activateUpdate()))return;G=!0,(0,O.uA)("Newer version of the application is available","Refresh",()=>location.reload())}})).apply(this,arguments)}function U(un){return $.apply(this,arguments)}function $(){return($=(0,A.A)(function*(un){const an=un.protocol||location.protocol,hn=un.domain||location.hostname,Sn=un.port||location.port,Lt=un.use_domain?`${an}//${hn}:${Sn}`:location.origin,at=(location.pathname+"/").replace("//","/"),ct=un.mock||location.href.includes("mock=true")||"true"===localStorage.getItem("mock"),Xe={auth_type:"auth_code",scope:"public",host:`${hn}${Sn?":"+Sn:""}`,auth_uri:`${Lt}/auth/oauth/authorize`,token_uri:`${Lt}/auth/oauth/token`,redirect_uri:`${location.origin}${at}oauth-resp.html`,handle_login:!un.local_login,use_iframe:!0,mock:ct};return localStorage&&localStorage.setItem("mock",`${!!ct&&!location.href.includes("mock=false")}`),ct&&(0,O.uA)("Application in mock mode."),(0,m.mjH)(Xe)})).apply(this,arguments)}a(3060);var y=a(6202);const w=(0,v.Am)((0,v.Bq)([{value:"Dateline Standard Time",abbr:"DST",offset:-12,isdst:!1,text:"(UTC-12:00) International Date Line West",utc:["Etc/GMT+12"]},{value:"UTC-11",abbr:"U",offset:-11,isdst:!1,text:"(UTC-11:00) Coordinated Universal Time-11",utc:["Etc/GMT+11","Pacific/Midway","Pacific/Niue","Pacific/Pago_Pago"]},{value:"Hawaiian Standard Time",abbr:"HST",offset:-10,isdst:!1,text:"(UTC-10:00) Hawaii",utc:["Etc/GMT+10","Pacific/Honolulu","Pacific/Johnston","Pacific/Rarotonga","Pacific/Tahiti"]},{value:"Alaskan Standard Time",abbr:"AKDT",offset:-8,isdst:!0,text:"(UTC-09:00) Alaska",utc:["America/Anchorage","America/Juneau","America/Nome","America/Sitka","America/Yakutat"]},{value:"Pacific Standard Time (Mexico)",abbr:"PDT",offset:-7,isdst:!0,text:"(UTC-08:00) Baja California",utc:["America/Santa_Isabel"]},{value:"Pacific Daylight Time",abbr:"PDT",offset:-7,isdst:!0,text:"(UTC-07:00) Pacific Time (US & Canada)",utc:["America/Dawson","America/Los_Angeles","America/Tijuana","America/Vancouver","America/Whitehorse"]},{value:"Pacific Standard Time",abbr:"PST",offset:-8,isdst:!1,text:"(UTC-08:00) Pacific Time (US & Canada)",utc:["America/Dawson","America/Los_Angeles","America/Tijuana","America/Vancouver","America/Whitehorse","PST8PDT"]},{value:"US Mountain Standard Time",abbr:"UMST",offset:-7,isdst:!1,text:"(UTC-07:00) Arizona",utc:["America/Creston","America/Dawson_Creek","America/Hermosillo","America/Phoenix","Etc/GMT+7"]},{value:"Mountain Standard Time (Mexico)",abbr:"MDT",offset:-6,isdst:!0,text:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",utc:["America/Chihuahua","America/Mazatlan"]},{value:"Mountain Standard Time",abbr:"MDT",offset:-6,isdst:!0,text:"(UTC-07:00) Mountain Time (US & Canada)",utc:["America/Boise","America/Cambridge_Bay","America/Denver","America/Edmonton","America/Inuvik","America/Ojinaga","America/Yellowknife","MST7MDT"]},{value:"Central America Standard Time",abbr:"CAST",offset:-6,isdst:!1,text:"(UTC-06:00) Central America",utc:["America/Belize","America/Costa_Rica","America/El_Salvador","America/Guatemala","America/Managua","America/Tegucigalpa","Etc/GMT+6","Pacific/Galapagos"]},{value:"Central Standard Time",abbr:"CDT",offset:-5,isdst:!0,text:"(UTC-06:00) Central Time (US & Canada)",utc:["America/Chicago","America/Indiana/Knox","America/Indiana/Tell_City","America/Matamoros","America/Menominee","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Rainy_River","America/Rankin_Inlet","America/Resolute","America/Winnipeg","CST6CDT"]},{value:"Central Standard Time (Mexico)",abbr:"CDT",offset:-5,isdst:!0,text:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",utc:["America/Bahia_Banderas","America/Cancun","America/Merida","America/Mexico_City","America/Monterrey"]},{value:"Canada Central Standard Time",abbr:"CCST",offset:-6,isdst:!1,text:"(UTC-06:00) Saskatchewan",utc:["America/Regina","America/Swift_Current"]},{value:"SA Pacific Standard Time",abbr:"SPST",offset:-5,isdst:!1,text:"(UTC-05:00) Bogota, Lima, Quito",utc:["America/Bogota","America/Cayman","America/Coral_Harbour","America/Eirunepe","America/Guayaquil","America/Jamaica","America/Lima","America/Panama","America/Rio_Branco","Etc/GMT+5"]},{value:"Eastern Standard Time",abbr:"EDT",offset:-4,isdst:!0,text:"(UTC-05:00) Eastern Time (US & Canada)",utc:["America/Detroit","America/Havana","America/Indiana/Petersburg","America/Indiana/Vincennes","America/Indiana/Winamac","America/Iqaluit","America/Kentucky/Monticello","America/Louisville","America/Montreal","America/Nassau","America/New_York","America/Nipigon","America/Pangnirtung","America/Port-au-Prince","America/Thunder_Bay","America/Toronto","EST5EDT"]},{value:"US Eastern Standard Time",abbr:"UEDT",offset:-4,isdst:!0,text:"(UTC-05:00) Indiana (East)",utc:["America/Indiana/Marengo","America/Indiana/Vevay","America/Indianapolis"]},{value:"Venezuela Standard Time",abbr:"VST",offset:-4.5,isdst:!1,text:"(UTC-04:30) Caracas",utc:["America/Caracas"]},{value:"Paraguay Standard Time",abbr:"PYT",offset:-4,isdst:!1,text:"(UTC-04:00) Asuncion",utc:["America/Asuncion"]},{value:"Atlantic Standard Time",abbr:"ADT",offset:-3,isdst:!0,text:"(UTC-04:00) Atlantic Time (Canada)",utc:["America/Glace_Bay","America/Goose_Bay","America/Halifax","America/Moncton","America/Thule","Atlantic/Bermuda"]},{value:"Central Brazilian Standard Time",abbr:"CBST",offset:-4,isdst:!1,text:"(UTC-04:00) Cuiaba",utc:["America/Campo_Grande","America/Cuiaba"]},{value:"SA Western Standard Time",abbr:"SWST",offset:-4,isdst:!1,text:"(UTC-04:00) Georgetown, La Paz, Manaus, San Juan",utc:["America/Anguilla","America/Antigua","America/Aruba","America/Barbados","America/Blanc-Sablon","America/Boa_Vista","America/Curacao","America/Dominica","America/Grand_Turk","America/Grenada","America/Guadeloupe","America/Guyana","America/Kralendijk","America/La_Paz","America/Lower_Princes","America/Manaus","America/Marigot","America/Martinique","America/Montserrat","America/Port_of_Spain","America/Porto_Velho","America/Puerto_Rico","America/Santo_Domingo","America/St_Barthelemy","America/St_Kitts","America/St_Lucia","America/St_Thomas","America/St_Vincent","America/Tortola","Etc/GMT+4"]},{value:"Pacific SA Standard Time",abbr:"PSST",offset:-4,isdst:!1,text:"(UTC-04:00) Santiago",utc:["America/Santiago","Antarctica/Palmer"]},{value:"Newfoundland Standard Time",abbr:"NDT",offset:-2.5,isdst:!0,text:"(UTC-03:30) Newfoundland",utc:["America/St_Johns"]},{value:"E. South America Standard Time",abbr:"ESAST",offset:-3,isdst:!1,text:"(UTC-03:00) Brasilia",utc:["America/Sao_Paulo"]},{value:"Argentina Standard Time",abbr:"AST",offset:-3,isdst:!1,text:"(UTC-03:00) Buenos Aires",utc:["America/Argentina/La_Rioja","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Buenos_Aires","America/Catamarca","America/Cordoba","America/Jujuy","America/Mendoza"]},{value:"SA Eastern Standard Time",abbr:"SEST",offset:-3,isdst:!1,text:"(UTC-03:00) Cayenne, Fortaleza",utc:["America/Araguaina","America/Belem","America/Cayenne","America/Fortaleza","America/Maceio","America/Paramaribo","America/Recife","America/Santarem","Antarctica/Rothera","Atlantic/Stanley","Etc/GMT+3"]},{value:"Greenland Standard Time",abbr:"GDT",offset:-3,isdst:!0,text:"(UTC-03:00) Greenland",utc:["America/Godthab"]},{value:"Montevideo Standard Time",abbr:"MST",offset:-3,isdst:!1,text:"(UTC-03:00) Montevideo",utc:["America/Montevideo"]},{value:"Bahia Standard Time",abbr:"BST",offset:-3,isdst:!1,text:"(UTC-03:00) Salvador",utc:["America/Bahia"]},{value:"UTC-02",abbr:"U",offset:-2,isdst:!1,text:"(UTC-02:00) Coordinated Universal Time-02",utc:["America/Noronha","Atlantic/South_Georgia","Etc/GMT+2"]},{value:"Mid-Atlantic Standard Time",abbr:"MDT",offset:-1,isdst:!0,text:"(UTC-02:00) Mid-Atlantic - Old",utc:[]},{value:"Azores Standard Time",abbr:"ADT",offset:0,isdst:!0,text:"(UTC-01:00) Azores",utc:["America/Scoresbysund","Atlantic/Azores"]},{value:"Cape Verde Standard Time",abbr:"CVST",offset:-1,isdst:!1,text:"(UTC-01:00) Cape Verde Is.",utc:["Atlantic/Cape_Verde","Etc/GMT+1"]},{value:"Morocco Standard Time",abbr:"MDT",offset:1,isdst:!0,text:"(UTC) Casablanca",utc:["Africa/Casablanca","Africa/El_Aaiun"]},{value:"UTC",abbr:"UTC",offset:0,isdst:!1,text:"(UTC) Coordinated Universal Time",utc:["America/Danmarkshavn","Etc/GMT"]},{value:"GMT Standard Time",abbr:"GMT",offset:0,isdst:!1,text:"(UTC) Edinburgh, London",utc:["Europe/Isle_of_Man","Europe/Guernsey","Europe/Jersey","Europe/London"]},{value:"British Summer Time",abbr:"BST",offset:1,isdst:!0,text:"(UTC+01:00) Edinburgh, London",utc:["Europe/Isle_of_Man","Europe/Guernsey","Europe/Jersey","Europe/London"]},{value:"GMT Standard Time",abbr:"GDT",offset:1,isdst:!0,text:"(UTC) Dublin, Lisbon",utc:["Atlantic/Canary","Atlantic/Faeroe","Atlantic/Madeira","Europe/Dublin","Europe/Lisbon"]},{value:"Greenwich Standard Time",abbr:"GST",offset:0,isdst:!1,text:"(UTC) Monrovia, Reykjavik",utc:["Africa/Abidjan","Africa/Accra","Africa/Bamako","Africa/Banjul","Africa/Bissau","Africa/Conakry","Africa/Dakar","Africa/Freetown","Africa/Lome","Africa/Monrovia","Africa/Nouakchott","Africa/Ouagadougou","Africa/Sao_Tome","Atlantic/Reykjavik","Atlantic/St_Helena"]},{value:"W. Europe Standard Time",abbr:"WEDT",offset:2,isdst:!0,text:"(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna",utc:["Arctic/Longyearbyen","Europe/Amsterdam","Europe/Andorra","Europe/Berlin","Europe/Busingen","Europe/Gibraltar","Europe/Luxembourg","Europe/Malta","Europe/Monaco","Europe/Oslo","Europe/Rome","Europe/San_Marino","Europe/Stockholm","Europe/Vaduz","Europe/Vatican","Europe/Vienna","Europe/Zurich"]},{value:"Central Europe Standard Time",abbr:"CEDT",offset:2,isdst:!0,text:"(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague",utc:["Europe/Belgrade","Europe/Bratislava","Europe/Budapest","Europe/Ljubljana","Europe/Podgorica","Europe/Prague","Europe/Tirane"]},{value:"Romance Standard Time",abbr:"RDT",offset:2,isdst:!0,text:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",utc:["Africa/Ceuta","Europe/Brussels","Europe/Copenhagen","Europe/Madrid","Europe/Paris"]},{value:"Central European Standard Time",abbr:"CEDT",offset:2,isdst:!0,text:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",utc:["Europe/Sarajevo","Europe/Skopje","Europe/Warsaw","Europe/Zagreb"]},{value:"W. Central Africa Standard Time",abbr:"WCAST",offset:1,isdst:!1,text:"(UTC+01:00) West Central Africa",utc:["Africa/Algiers","Africa/Bangui","Africa/Brazzaville","Africa/Douala","Africa/Kinshasa","Africa/Lagos","Africa/Libreville","Africa/Luanda","Africa/Malabo","Africa/Ndjamena","Africa/Niamey","Africa/Porto-Novo","Africa/Tunis","Etc/GMT-1"]},{value:"Namibia Standard Time",abbr:"NST",offset:1,isdst:!1,text:"(UTC+01:00) Windhoek",utc:["Africa/Windhoek"]},{value:"GTB Standard Time",abbr:"GDT",offset:3,isdst:!0,text:"(UTC+02:00) Athens, Bucharest",utc:["Asia/Nicosia","Europe/Athens","Europe/Bucharest","Europe/Chisinau"]},{value:"Middle East Standard Time",abbr:"MEDT",offset:3,isdst:!0,text:"(UTC+02:00) Beirut",utc:["Asia/Beirut"]},{value:"Egypt Standard Time",abbr:"EST",offset:2,isdst:!1,text:"(UTC+02:00) Cairo",utc:["Africa/Cairo"]},{value:"Syria Standard Time",abbr:"SDT",offset:3,isdst:!0,text:"(UTC+02:00) Damascus",utc:["Asia/Damascus"]},{value:"E. Europe Standard Time",abbr:"EEDT",offset:3,isdst:!0,text:"(UTC+02:00) E. Europe",utc:["Asia/Nicosia","Europe/Athens","Europe/Bucharest","Europe/Chisinau","Europe/Helsinki","Europe/Kiev","Europe/Mariehamn","Europe/Nicosia","Europe/Riga","Europe/Sofia","Europe/Tallinn","Europe/Uzhgorod","Europe/Vilnius","Europe/Zaporozhye"]},{value:"South Africa Standard Time",abbr:"SAST",offset:2,isdst:!1,text:"(UTC+02:00) Harare, Pretoria",utc:["Africa/Blantyre","Africa/Bujumbura","Africa/Gaborone","Africa/Harare","Africa/Johannesburg","Africa/Kigali","Africa/Lubumbashi","Africa/Lusaka","Africa/Maputo","Africa/Maseru","Africa/Mbabane","Etc/GMT-2"]},{value:"FLE Standard Time",abbr:"FDT",offset:3,isdst:!0,text:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius",utc:["Europe/Helsinki","Europe/Kiev","Europe/Mariehamn","Europe/Riga","Europe/Sofia","Europe/Tallinn","Europe/Uzhgorod","Europe/Vilnius","Europe/Zaporozhye"]},{value:"Turkey Standard Time",abbr:"TDT",offset:3,isdst:!1,text:"(UTC+03:00) Istanbul",utc:["Europe/Istanbul"]},{value:"Israel Standard Time",abbr:"JDT",offset:3,isdst:!0,text:"(UTC+02:00) Jerusalem",utc:["Asia/Jerusalem"]},{value:"Libya Standard Time",abbr:"LST",offset:2,isdst:!1,text:"(UTC+02:00) Tripoli",utc:["Africa/Tripoli"]},{value:"Jordan Standard Time",abbr:"JST",offset:3,isdst:!1,text:"(UTC+03:00) Amman",utc:["Asia/Amman"]},{value:"Arabic Standard Time",abbr:"AST",offset:3,isdst:!1,text:"(UTC+03:00) Baghdad",utc:["Asia/Baghdad"]},{value:"Kaliningrad Standard Time",abbr:"KST",offset:3,isdst:!1,text:"(UTC+02:00) Kaliningrad",utc:["Europe/Kaliningrad"]},{value:"Arab Standard Time",abbr:"AST",offset:3,isdst:!1,text:"(UTC+03:00) Kuwait, Riyadh",utc:["Asia/Aden","Asia/Bahrain","Asia/Kuwait","Asia/Qatar","Asia/Riyadh"]},{value:"E. Africa Standard Time",abbr:"EAST",offset:3,isdst:!1,text:"(UTC+03:00) Nairobi",utc:["Africa/Addis_Ababa","Africa/Asmera","Africa/Dar_es_Salaam","Africa/Djibouti","Africa/Juba","Africa/Kampala","Africa/Khartoum","Africa/Mogadishu","Africa/Nairobi","Antarctica/Syowa","Etc/GMT-3","Indian/Antananarivo","Indian/Comoro","Indian/Mayotte"]},{value:"Moscow Standard Time",abbr:"MSK",offset:3,isdst:!1,text:"(UTC+03:00) Moscow, St. Petersburg, Volgograd, Minsk",utc:["Europe/Kirov","Europe/Moscow","Europe/Simferopol","Europe/Volgograd","Europe/Minsk"]},{value:"Samara Time",abbr:"SAMT",offset:4,isdst:!1,text:"(UTC+04:00) Samara, Ulyanovsk, Saratov",utc:["Europe/Astrakhan","Europe/Samara","Europe/Ulyanovsk"]},{value:"Iran Standard Time",abbr:"IDT",offset:4.5,isdst:!0,text:"(UTC+03:30) Tehran",utc:["Asia/Tehran"]},{value:"Arabian Standard Time",abbr:"AST",offset:4,isdst:!1,text:"(UTC+04:00) Abu Dhabi, Muscat",utc:["Asia/Dubai","Asia/Muscat","Etc/GMT-4"]},{value:"Azerbaijan Standard Time",abbr:"ADT",offset:5,isdst:!0,text:"(UTC+04:00) Baku",utc:["Asia/Baku"]},{value:"Mauritius Standard Time",abbr:"MST",offset:4,isdst:!1,text:"(UTC+04:00) Port Louis",utc:["Indian/Mahe","Indian/Mauritius","Indian/Reunion"]},{value:"Georgian Standard Time",abbr:"GET",offset:4,isdst:!1,text:"(UTC+04:00) Tbilisi",utc:["Asia/Tbilisi"]},{value:"Caucasus Standard Time",abbr:"CST",offset:4,isdst:!1,text:"(UTC+04:00) Yerevan",utc:["Asia/Yerevan"]},{value:"Afghanistan Standard Time",abbr:"AST",offset:4.5,isdst:!1,text:"(UTC+04:30) Kabul",utc:["Asia/Kabul"]},{value:"West Asia Standard Time",abbr:"WAST",offset:5,isdst:!1,text:"(UTC+05:00) Ashgabat, Tashkent",utc:["Antarctica/Mawson","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Dushanbe","Asia/Oral","Asia/Samarkand","Asia/Tashkent","Etc/GMT-5","Indian/Kerguelen","Indian/Maldives"]},{value:"Yekaterinburg Time",abbr:"YEKT",offset:5,isdst:!1,text:"(UTC+05:00) Yekaterinburg",utc:["Asia/Yekaterinburg"]},{value:"Pakistan Standard Time",abbr:"PKT",offset:5,isdst:!1,text:"(UTC+05:00) Islamabad, Karachi",utc:["Asia/Karachi"]},{value:"India Standard Time",abbr:"IST",offset:5.5,isdst:!1,text:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",utc:["Asia/Kolkata"]},{value:"Sri Lanka Standard Time",abbr:"SLST",offset:5.5,isdst:!1,text:"(UTC+05:30) Sri Jayawardenepura",utc:["Asia/Colombo"]},{value:"Nepal Standard Time",abbr:"NST",offset:5.75,isdst:!1,text:"(UTC+05:45) Kathmandu",utc:["Asia/Kathmandu"]},{value:"Central Asia Standard Time",abbr:"CAST",offset:6,isdst:!1,text:"(UTC+06:00) Nur-Sultan (Astana)",utc:["Antarctica/Vostok","Asia/Almaty","Asia/Bishkek","Asia/Qyzylorda","Asia/Urumqi","Etc/GMT-6","Indian/Chagos"]},{value:"Bangladesh Standard Time",abbr:"BST",offset:6,isdst:!1,text:"(UTC+06:00) Dhaka",utc:["Asia/Dhaka","Asia/Thimphu"]},{value:"Myanmar Standard Time",abbr:"MST",offset:6.5,isdst:!1,text:"(UTC+06:30) Yangon (Rangoon)",utc:["Asia/Rangoon","Indian/Cocos"]},{value:"SE Asia Standard Time",abbr:"SAST",offset:7,isdst:!1,text:"(UTC+07:00) Bangkok, Hanoi, Jakarta",utc:["Antarctica/Davis","Asia/Bangkok","Asia/Hovd","Asia/Jakarta","Asia/Phnom_Penh","Asia/Pontianak","Asia/Saigon","Asia/Vientiane","Etc/GMT-7","Indian/Christmas"]},{value:"N. Central Asia Standard Time",abbr:"NCAST",offset:7,isdst:!1,text:"(UTC+07:00) Novosibirsk",utc:["Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk"]},{value:"China Standard Time",abbr:"CST",offset:8,isdst:!1,text:"(UTC+08:00) Beijing, Chongqing, Hong Kong, Urumqi",utc:["Asia/Hong_Kong","Asia/Macau","Asia/Shanghai"]},{value:"North Asia Standard Time",abbr:"NAST",offset:8,isdst:!1,text:"(UTC+08:00) Krasnoyarsk",utc:["Asia/Krasnoyarsk"]},{value:"Singapore Standard Time",abbr:"MPST",offset:8,isdst:!1,text:"(UTC+08:00) Kuala Lumpur, Singapore",utc:["Asia/Brunei","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Makassar","Asia/Manila","Asia/Singapore","Etc/GMT-8"]},{value:"W. Australia Standard Time",abbr:"WAST",offset:8,isdst:!1,text:"(UTC+08:00) Perth",utc:["Antarctica/Casey","Australia/Perth"]},{value:"Taipei Standard Time",abbr:"TST",offset:8,isdst:!1,text:"(UTC+08:00) Taipei",utc:["Asia/Taipei"]},{value:"Ulaanbaatar Standard Time",abbr:"UST",offset:8,isdst:!1,text:"(UTC+08:00) Ulaanbaatar",utc:["Asia/Choibalsan","Asia/Ulaanbaatar"]},{value:"North Asia East Standard Time",abbr:"NAEST",offset:8,isdst:!1,text:"(UTC+08:00) Irkutsk",utc:["Asia/Irkutsk"]},{value:"Japan Standard Time",abbr:"JST",offset:9,isdst:!1,text:"(UTC+09:00) Osaka, Sapporo, Tokyo",utc:["Asia/Dili","Asia/Jayapura","Asia/Tokyo","Etc/GMT-9","Pacific/Palau"]},{value:"Korea Standard Time",abbr:"KST",offset:9,isdst:!1,text:"(UTC+09:00) Seoul",utc:["Asia/Pyongyang","Asia/Seoul"]},{value:"Cen. Australia Standard Time",abbr:"CAST",offset:9.5,isdst:!1,text:"(UTC+09:30) Adelaide",utc:["Australia/Adelaide","Australia/Broken_Hill"]},{value:"AUS Central Standard Time",abbr:"ACST",offset:9.5,isdst:!1,text:"(UTC+09:30) Darwin",utc:["Australia/Darwin"]},{value:"E. Australia Standard Time",abbr:"EAST",offset:10,isdst:!1,text:"(UTC+10:00) Brisbane",utc:["Australia/Brisbane","Australia/Lindeman"]},{value:"AUS Eastern Standard Time",abbr:"AEST",offset:10,isdst:!1,text:"(UTC+10:00) Canberra, Melbourne, Sydney",utc:["Australia/Melbourne","Australia/Sydney"]},{value:"West Pacific Standard Time",abbr:"WPST",offset:10,isdst:!1,text:"(UTC+10:00) Guam, Port Moresby",utc:["Antarctica/DumontDUrville","Etc/GMT-10","Pacific/Guam","Pacific/Port_Moresby","Pacific/Saipan","Pacific/Truk"]},{value:"Tasmania Standard Time",abbr:"TST",offset:10,isdst:!1,text:"(UTC+10:00) Hobart",utc:["Australia/Currie","Australia/Hobart"]},{value:"Yakutsk Standard Time",abbr:"YST",offset:9,isdst:!1,text:"(UTC+09:00) Yakutsk",utc:["Asia/Chita","Asia/Khandyga","Asia/Yakutsk"]},{value:"Central Pacific Standard Time",abbr:"CPST",offset:11,isdst:!1,text:"(UTC+11:00) Solomon Is., New Caledonia",utc:["Antarctica/Macquarie","Etc/GMT-11","Pacific/Efate","Pacific/Guadalcanal","Pacific/Kosrae","Pacific/Noumea","Pacific/Ponape"]},{value:"Vladivostok Standard Time",abbr:"VST",offset:11,isdst:!1,text:"(UTC+11:00) Vladivostok",utc:["Asia/Sakhalin","Asia/Ust-Nera","Asia/Vladivostok"]},{value:"New Zealand Standard Time",abbr:"NZST",offset:12,isdst:!1,text:"(UTC+12:00) Auckland, Wellington",utc:["Antarctica/McMurdo","Pacific/Auckland"]},{value:"UTC+12",abbr:"U",offset:12,isdst:!1,text:"(UTC+12:00) Coordinated Universal Time+12",utc:["Etc/GMT-12","Pacific/Funafuti","Pacific/Kwajalein","Pacific/Majuro","Pacific/Nauru","Pacific/Tarawa","Pacific/Wake","Pacific/Wallis"]},{value:"Fiji Standard Time",abbr:"FST",offset:12,isdst:!1,text:"(UTC+12:00) Fiji",utc:["Pacific/Fiji"]},{value:"Magadan Standard Time",abbr:"MST",offset:12,isdst:!1,text:"(UTC+12:00) Magadan",utc:["Asia/Anadyr","Asia/Kamchatka","Asia/Magadan","Asia/Srednekolymsk"]},{value:"Kamchatka Standard Time",abbr:"KDT",offset:13,isdst:!0,text:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old",utc:["Asia/Kamchatka"]},{value:"Tonga Standard Time",abbr:"TST",offset:13,isdst:!1,text:"(UTC+13:00) Nuku'alofa",utc:["Etc/GMT-13","Pacific/Enderbury","Pacific/Fakaofo","Pacific/Tongatapu"]},{value:"Samoa Standard Time",abbr:"SST",offset:13,isdst:!1,text:"(UTC+13:00) Samoa",utc:["Pacific/Apia"]}].map(un=>un.utc))).sort();var L=a(285),Q=a(5817),te=a(1604),R=a(2727);function ee(un,an=!0,hn="none"){return new Q.c(Sn=>{const Lt=new FileReader;Lt.addEventListener("loadend",at=>{const Xe=R.Ot(at.target.result,un.type),Bt=(0,L.Zn)([Xe],{file_name:un.name,permissions:hn,public:an})[0],Xt={id:(0,v.HO)(999999999999),name:un.name,progress:0,link:"",formatted_size:(0,L.jG)(un.size),size:un.size,upload:Bt};Bt.status.pipe((0,te.v)(Be=>"complete"!==Be.status,!0)).subscribe(Be=>{Bt.access_url&&(Xt.link=an?Bt.access_url:`${location.origin}/api/engine/v2/uploads/${encodeURIComponent(Bt.id)}/url`),Xt.progress=Be.progress,Sn.next(Xt),"error"===Be.status&&Sn.error({...Xt,error:Be.error}),"complete"===Be.status&&Sn.complete()}),Sn.next(Xt)}),Lt.readAsArrayBuffer(un)})}a(2185),a(686);var Me=a(7619),Ze=a(7926),Ct=a(9255),lt=a(9824);const be={month:43200,months:43200,week:10080,weeks:10080,day:1440,days:1440,hour:60,hours:60,minute:1,minutes:1},ue={auto_approve:!0,hidden:!1};function me(un){const an=(un||"").split(" ");return an.length>1?+an[0]*be[an[1].toLowerCase()]:0}function $e(un,an=new Date){return(0,Ze.z)(an,me(un))}function Et(un,an,hn){return un.filter(Sn=>!Ve({...an,resource:Sn},hn)?.hidden)}function Ve(un,an){if(!(an instanceof Array))return ue;for(const hn of an)if(("*"===hn.zone||hn.zone===un.resource.zone?.id||un.resource.zones?.includes(hn.zone))&&st(un,hn))return hn.rules;return ue}function st({date:un,duration:an,host:hn,resource:Sn},Lt){const at=new Date(un);let ct=0;const{conditions:Xe}=Lt;return!Xe||(Xe.groups instanceof Array&&Xe.groups.every(Qe=>hn?.groups?.includes(Qe))&&(ct+=1),Xe.is_before&&(0,Ct.Y)((0,Ze.z)(un,an),$e(Xe.is_before))&&(ct+=1),Xe.is_after&&(0,lt.d)(un,$e(Xe.is_after))&&(ct+=1),Xe.min_length&&Xe.min_length<=an&&(ct+=1),Xe.is_between&&at.getHours()+at.getMinutes()/60>=Xe.is_between[0]&&at.getHours()+at.getMinutes()/60<Xe.is_between[1]&&(ct+=1),Xe.is_period&&un>=Xe.is_period[0]&&un<Xe.is_period[1]&&(ct+=1),Xe.max_length&&Xe.max_length>=an&&(ct+=1),Xe.resource_ids&&Xe.resource_ids.includes(Sn.id)&&(ct+=1),Xe.locations&&Xe.locations.includes(Sn.name)&&(ct+=1),ct>=Object.keys(Xe).length)}var Vt=a(9928),qe=a(6871),gt=a(3953),ot=a(4006);let ae=(()=>{class un{constructor(hn){this._dialog=hn,this._upload_list=new Vt.t([]),this.upload_list=this._upload_list.asObservable(),localStorage&&this._upload_list.next(JSON.parse(localStorage.getItem("BACKOFFICE.uploads")||"[]"))}clearList(){const hn=this._upload_list.getValue().filter(Sn=>Sn.progress<100&&!Sn.error);this._upload_list.next(hn)}uploadFileWithPermissions(hn){var Sn=this;return new Promise((Lt,at)=>{this._dialog.open(qe.U,{data:{file:hn}}).afterClosed().subscribe(function(){var Xe=(0,A.A)(function*(Qe){if(Qe){const Bt=yield Sn.uploadFile(Qe.file,Qe.is_public,Qe.permissions).catch(Xt=>{throw at(Xt),Xt});Lt(Bt)}else at()});return function(Qe){return Xe.apply(this,arguments)}}())})}uploadFile(hn,Sn=!0,Lt="none"){return new Promise(at=>{let ct=!1;const Xe=Qe=>{ct||(at(Qe.id),ct=!0),this._upload_list.next([...this._upload_list.getValue().filter(Bt=>Bt.id!==Qe.id),Qe])};ee(hn,Sn,Lt).subscribe(Xe,Xe,()=>this._updateUploadHistory())})}_updateUploadHistory(){const hn=this._upload_list.getValue().filter(Sn=>Sn.progress>=100);hn.forEach(Sn=>delete Sn.upload),localStorage&&localStorage.setItem("PLACEOS.uploads",JSON.stringify(hn))}static#e=this.\u0275fac=function(Sn){return new(Sn||un)(gt.KVO(ot.bZ))};static#t=this.\u0275prov=gt.jDH({token:un,factory:un.\u0275fac,providedIn:"root"})}return un})();var Oe=a(5006);const Le="/api/engine/v2/short_url";function Pe(un={}){return(0,m.Pac)({query_params:un,fn:an=>an,endpoint:Le,path:""}).pipe((0,Oe.T)(an=>an.data))}const Gt=new Map;function Kt(un){return vn.apply(this,arguments)}function vn(){return(vn=(0,A.A)(function*(un,an="svg"){const hn=`${un}.${an}`;if(Gt.has(hn))return Gt.get(hn);const Sn=(0,m.ShT)();document.cookie=`${"x-api-key"===Sn?"api-key="+encodeURIComponent((0,m.Kz4)()):"bearer_token="+encodeURIComponent(Sn)};max-age=30;path=/api/engine/v2/short_url/;samesite=strict;${"https:"===location.protocol?"secure;":""}`;const at=yield(yield fetch(`${Le}/${un}/qr_code.${an}`)).blob(),ct=URL.createObjectURL(at);return Gt.set(hn,ct),ct})).apply(this,arguments)}function Ft(un){return(0,m.bEY)(Le,un).pipe((0,Oe.T)(an=>an))}function _n(un,an){return(0,m.yJg)(`${Le}/${un}`,an).pipe((0,Oe.T)(hn=>hn))}function ft(un){return un.id?_n(un.id,un):Ft(un)}function $t(un){return(0,m.yHY)(`${Le}/${un}`).pipe((0,Oe.T)(an=>null))}let kt=null;function dn(){return pn.apply(this,arguments)}function pn(){return(pn=(0,A.A)(function*(){kt&&(yield kt.release());try{kt=yield navigator.wakeLock.request("screen")}catch(un){throw un}})).apply(this,arguments)}document.addEventListener("visibilitychange",(0,A.A)(function*(){null!==kt&&"visible"===document.visibilityState&&(kt=yield navigator.wakeLock.request("screen"))}))},8385:(Mt,pe,a)=>{"use strict";a.d(pe,{z:()=>i});const e=[void 0,null,""];function i(d){let p="";if(d)for(const m in d)m in d&&!e.includes(d[m])&&(p+=`${p?"&":""}${m}=${encodeURIComponent(d[m])}`);return p}},5354:(Mt,pe,a)=>{"use strict";a.d(pe,{T:()=>p});var e=a(9928),i=a(4337),d=a(3953);let p=(()=>{class m{constructor(){this._timers={},this._intervals={},this._subscriptions={},this._initialised=new e.t(!1),this.initialised=this._initialised.asObservable()}get is_initialised(){return this._initialised.getValue()}ngOnDestroy(){this.destroy()}destroy(){for(const g in this._timers)g in this._timers&&this.clearTimeout(g);for(const g in this._intervals)g in this._intervals&&this.clearInterval(g);for(const g in this._subscriptions)g in this._subscriptions&&this.unsub(g)}timeout(g,b,u=300){if(!(g&&b&&b instanceof Function))throw new Error(g?"Cannot create named timeout without a name":"Cannot create a timeout without a callback");this.clearTimeout(g),this._timers[g]=setTimeout(()=>{b(),delete this._timers[g]},u)}clearTimeout(g){this._timers[g]&&(clearTimeout(this._timers[g]),delete this._timers[g])}interval(g,b,u=300){if(!(g&&b&&b instanceof Function))throw new Error(g?"Cannot create named interval without a name":"Cannot create a interval without a callback");this.clearInterval(g),this._intervals[g]=setInterval(()=>b(),u)}clearInterval(g){this._intervals[g]&&(clearInterval(this._intervals[g]),delete this._intervals[g])}subscription(g,b){this.unsub(g),this._subscriptions[g]=b}hasSubscription(g){return this._subscriptions[g]instanceof i.y||!!this._subscriptions[g]}unsub(g){g in this._subscriptions&&(this._subscriptions[g]instanceof i.y?this._subscriptions[g].unsubscribe():this._subscriptions[g]&&this._subscriptions[g](),delete this._subscriptions[g])}unsubWith(g){const b=Object.keys(this._subscriptions).filter(u=>u.includes(g));for(const u of b)this.unsub(u)}static#e=this.\u0275fac=function(b){return new(b||m)};static#t=this.\u0275prov=d.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()},4571:(Mt,pe,a)=>{"use strict";a.d(pe,{_V:()=>S,dB:()=>D,gP:()=>E});var e=a(2017),i=a(2357),d=a(1406),p=a(7926),m=a(8385),_=a(7619),g=a(4217);function b(v){const O=(0,_.il)(v,"UTC");return`${(0,e.GP)(O,"yyyyMMdd")}T${(0,e.GP)(O,"HHmmss")}Z`}function u(v){return`${(0,e.GP)(v,"yyyyMMdd")}`}function S(v){const O=[],z=A(`${v.body||""}${v.id?"\n\n[ID|"+v.id+"]":""}`),G=A(`${v.location}`);O.push(["BEGIN","VCALENDAR"]),O.push(["VERSION","2.0"]),O.push(["BEGIN","VEVENT"]),O.push(["URL",`${v.meeting_url}`]),O.push(["DTSTART",`${new Date(v.all_day?(0,i.c)((0,d.h)(v.date,{hours:6,minutes:0})):v.date).toISOString()}`]),O.push(["DTEND",`${v.all_day?(0,i.c)((0,d.h)(v.date,{hours:18,minutes:0})).toISOString():(0,p.z)(v.date,v.duration??60).toISOString()}`]),O.push(["SUMMARY",`${v.title}`]),O.push(["DESCRIPTION",z]),O.push(["LOCATION",G]);const K=v.organiser?.name||v.host?.split("@")||v.user_name||"User";return O.push(["ORGANIZER",`CN=${K}:MAILTO:${v.host||v.user_email}`]),`data:text/calendar;charset=utf8,${O.map(([H,Y])=>`${H}:${encodeURIComponent(Y)}`).join("\n")}`}function D(v){const O=v.all_day?u:b,z={action:"TEMPLATE",text:v.title,details:`${v.body||""}${v.id?"\n\n[ID|"+v.id+"]":""}`,location:v.location,trp:!1,dates:`${O(v.date)}/${O((0,p.z)(v.date,v.duration??60))}`},G=(v.attendees||[]).map(F=>F.email||F),K=((v.resources?.length?v.resources:null)||[v.system]).map(F=>F?.email||F);return(G.length||K.length)&&(z.add=(0,g.Am)([...G,...K]).join()),`https://calendar.google.com/calendar/render?${(0,m.z)(z)}`}function E(v,O="office"){v.date||(v.date=Date.now());const z={path:"/calendar/action/compose",rru:"addevent",startdt:new Date(v.date).toISOString(),enddt:(0,p.z)(v.date,v.duration??60).toISOString(),subject:v.title,body:`${v.body||""}${v.id?"\n\n[ID|"+v.id+"]":""}`,location:v.location,allday:v.all_day??!1};v.all_day&&delete z.enddt;const G=(v.attendees||[]).map(F=>F.email||F),K=((v.resources?.length?v.resources:null)||[v.system]).map(F=>F?.email||F);return(G.length||K.length)&&(z.to=(0,g.Am)([...G,...K]).join()),"office"===O?`https://outlook.office.com/calendar/0/action/compose?${(0,m.z)(z)}`:`https://outlook.live.com/calendar/0/action/compose?${(0,m.z)(z)}`}function A(v){return v.replace(/,/gm,",").replace(/;/gm,";").replace(/\r\n/gm,"\n").replace(/\n/gm,"\\n").replace(/(\\n)[\s\t]+/gm,"\\n")}},4217:(Mt,pe,a)=>{"use strict";a.d(pe,{Am:()=>S,Bq:()=>Y,DU:()=>A,F7:()=>Q,GE:()=>v,HO:()=>D,HQ:()=>k,PE:()=>F,Rm:()=>g,SL:()=>K,Xf:()=>_,Xm:()=>te,Zr:()=>R,a6:()=>z,dH:()=>P,ej:()=>lt,gd:()=>X,go:()=>b,sT:()=>G,st:()=>u,y4:()=>Ot});var e=a(467),i=a(9417),d=a(4046),p=a(841);let m="APP";function _(ve){m=ve}function g(ve,Ce,be,ue="debug",me=!1,$e=m){if(!window.jest&&(window.debug||me)){const Et=["color: #E91E63","color: #3F51B5","color: default"];be?console[ue](`%c[${$e}]%c[${ve}] %c${Ce}`,...Et,be):console[ue](`%c[${$e}]%c[${ve}] %c${Ce}`,...Et)}}function b(ve,Ce=2,be="0"){let ue=`${ve}`;for(;ue.length<Ce;)ue=`${be}${ue}`;return ue}function u(ve,Ce){const be=ve[0];return Ce&&be in Ce?ve.length>1?u(ve.slice(1),Ce[be]||{}):Ce[be]:null}function S(ve=[],Ce=""){const be=[];return ve.filter(ue=>{const me=Ce?ue[Ce]:ue,$e=be.includes(me);return $e||be.push(me),!$e})}function D(ve,Ce=0){return Math.floor(Math.random()*(ve-Ce))+Ce}function A(ve,Ce="abcdefghijklmnopqrstwvxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"){let be="";for(let ue=0;ue<ve;ue++)be+=Ce[D(Ce.length)];return be}function v(ve,Ce){return O.apply(this,arguments)}function O(){return(O=(0,e.A)(function*(ve,Ce){const be=Ce.open(p.B,{...p.f,data:ve});return{...yield Promise.race([be.componentInstance.event.pipe((0,d.$)(ue=>"done"===ue.reason)).toPromise(),be.afterClosed().toPromise()]),loading:ue=>be.componentInstance.loading=ue,close:()=>be.close()}})).apply(this,arguments)}function z(ve,Ce=","){const be=new RegExp('(\\,|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^\\,\\r\\n]*))',"gi");let ue=null;const me=[[]];for(;ue=be.exec(ve);)ue[1].length&&","!==ue[1]&&me.push([]),me[me.length-1].push(ue[2]?ue[2]?.replace(new RegExp('""',"g"),'"'):ue[3]);const $e=me.splice(0,1)[0];return me.map(Ve=>{const st={};for(let ht=0;ht<Ve.length;ht++){const Vt=($e[ht]||"").split(" ").join("_").toLowerCase();try{st[Vt]=JSON.parse(Ve[ht]?.replace("|",","))}catch{st[Vt]=Ve[ht]||""}("TRUE"===st[Vt]||"FALSE"===st[Vt])&&(st[Vt]="TRUE"===st[Vt])}return st})}function G(ve){return new Promise((Ce,be)=>{if(ve.target){const ue=ve.target,me=ue.files[0];if(me){const $e=new FileReader;$e.readAsText(me,"UTF-8"),$e.addEventListener("load",Et=>{Ce(Et.srcElement.result),ue.value=""}),$e.addEventListener("error",Et=>{this.loading="",be(["Error loading file",Et])})}}})}function K(ve,Ce=","){if(ve instanceof Array&&ve.length>0){const ue=Object.keys(ve[0]).filter(me=>me in ve[0]);return`${ue.join(Ce)}\n${ve.map(me=>ue.map($e=>(JSON.stringify(me[$e])||"")?.replace(",","|")).join(Ce)).join("\n")}`}return""}function F(ve,Ce){const be=document.createElement("a");be.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(Ce)),be.setAttribute("download",ve),be.style.display="none",document.body.appendChild(be),be.click(),document.body.removeChild(be)}function Y(ve){const Ce=[...ve],be=[];for(;Ce.length;){const ue=Ce.pop();Array.isArray(ue)?Ce.push(...ue):be.push(ue)}return be.reverse()}function P(ve,Ce,be,ue){return ve>=be&&ve<ue||be>=ve&&be<Ce||Ce>be&&Ce<=ue||ue>ve&&ue<=Ce}function Q(ve,Ce=""){let be=[];for(const ue in ve.controls)ve.controls[ue]instanceof i.gE?be=[...be,...Q(ve.controls[ue],`${ue}.`)]:ve.controls[ue].valid||be.push(`${Ce}${ue}`);return be}function te(ve){for(const Ce in ve)(null==ve[Ce]||""===ve[Ce])&&delete ve[Ce]}function R(ve){return`${ve[0].toUpperCase()}${ve.substring(1)}`}function k(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function X(ve,Ce,be,ue){const $e=fe(be-ve),Et=fe(ue-Ce);ve=fe(ve),be=fe(be);const Ve=Math.sin($e/2)*Math.sin($e/2)+Math.sin(Et/2)*Math.sin(Et/2)*Math.cos(ve)*Math.cos(be);return 2*Math.atan2(Math.sqrt(Ve),Math.sqrt(1-Ve))*6371}function fe(ve){return ve*(Math.PI/180)}function Me(ve){return[parseInt(ve.slice(1,3),16),parseInt(ve.slice(3,5),16),parseInt(ve.slice(5,7),16)]}function lt(ve,Ce,be){const $e=function Ze(ve,Ce,be){let me=ve[1]+(Ce[1]-ve[1])*be,$e=ve[2]+(Ce[2]-ve[2])*be;return[Math.round(ve[0]+(Ce[0]-ve[0])*be),Math.round(me),Math.round($e)]}(Me(ve),Me(Ce),be);return function Ct(ve,Ce,be){function ue(me){const $e=me.toString(16);return 1==$e.length?"0"+$e:$e}return"#"+ue(ve)+ue(Ce)+ue(be)}($e[0],$e[1],$e[2])}function Ot(ve){const Ce=document.createElement("div");return Ce.innerHTML=ve,Ce.textContent||Ce.innerText||""}!function y(ve){let Ce=1779033703^ve.length;for(let be=0;be<ve.length;be++)Ce=Math.imul(Ce^ve.charCodeAt(be),3432918353),Ce=Ce<<13|Ce>>>19;return function(){return Ce=Math.imul(Ce^Ce>>>16,2246822507),Ce=Math.imul(Ce^Ce>>>13,3266489909),(Ce^=Ce>>>16)>>>0}}("PlaceOS")()},3114:(Mt,pe,a)=>{"use strict";a.d(pe,{p:()=>p});var e=a(4217),i=a(3953),d=a(345);let p=(()=>{class m{constructor(g){this.title=g,this.enabled=!0,this.app_name="GA_APP",this.timers={}}init(g=""){window.gtag||(window.dataLayer=window.dataLayer||[],function(b,u,S,D,E){b[D]=b[D]||[],b[D].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var A=u.getElementsByTagName(S)[0],v=u.createElement(S);v.async=!0,v.src="https://www.googletagmanager.com/gtm.js?id="+E,A.parentNode.insertBefore(v,A)}(window,document,"script","dataLayer",g),(0,e.Rm)("Analytics","Service","Injected Google Analytics into page")),this.service=window.gtag}push(g){window.dataLayer.push(g)}load(g){if(!this.enabled)throw new Error("Google Analytics needs to be enabled before being initialised");if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");(0,e.Rm)("Analytics","Service",`Setup with tracking ID: ${g}`),this.page("")}setUser(g){if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");this.enabled&&this.timeout(`user|${g}`,()=>{(0,e.Rm)("Analytics","Service",`Set user ID: ${g}`),this.service("set","userId",g),this.event("authentication","user-id available")},100)}send(g,b){if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");this.enabled&&this.timeout(`end|${g}`,()=>{this.push({...b,event:"event"})})}event(g,b,u,S){if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");this.enabled&&this.timeout(`event|${g}|${b}|${u}|${S}`,()=>{(0,e.Rm)("Analytics","Service",`Event: ${g}, ${b}${u?", "+u:""}${S?", "+S:""}`),this.push({event:"event",category:g,action:b,label:u})},100)}screen(g,b){if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");g&&this.enabled&&this.timeout(`event|${g}|${b||this.app_name}`,()=>{(0,e.Rm)("Analytics","Service",`Screen: ${g}${b?", "+b:""}`),this.push({event:"screenview",appName:b||this.app_name,screenName:g})},100)}page(g,b=!1){if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");this.enabled&&(this.last_route=g||"/",this.timeout(`page|${g}`,()=>{(0,e.Rm)("Analytics","Service",`Page: ${g}`),this.push({event:"pageview",url:`${b?location.origin:""}${g}`})},100))}timing(g,b,u,S){if(!this.service)throw new Error("Google Analytics hasn't been installed on this page");this.enabled&&this.timeout(`page|${g}|${b}|${u}|${S}`,()=>{(0,e.Rm)("Analytics","Service",`Timing: ${g}, ${b}, ${u}${S?", "+S:""}`),this.push({event:"timing",category:g,variable:b,value:u,label:S})},100)}timeout(g,b,u=300){this.timers[g]&&(clearTimeout(this.timers[g]),delete this.timers[g]),this.timers[g]=setTimeout(()=>{b instanceof Function&&b(),delete this.timers[g]},u)}static#e=this.\u0275fac=function(b){return new(b||m)(i.KVO(d.hE))};static#t=this.\u0275prov=i.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()},7643:(Mt,pe,a)=>{"use strict";a.d(pe,{d:()=>m});var e=a(9928),i=a(4217),d=a(3953);const p=["control","shift","alt","meta","os"];let m=(()=>{class _{constructor(){this.keydown_states={},this.keydown_observers={},this.combo_end=[],this.registered_combos=[],this.counter=0,window.addEventListener("keydown",b=>{const u=this.mapKey((b.code||"").toLowerCase());this.last_down!==u&&(this.keydown_states[u]||(this.keydown_states[u]=new e.t(null),this.keydown_observers[u]=this.keydown_states[u].asObservable()),this.keydown_states[u].next(++this.counter),this.combo_end.indexOf(u)>=0&&b.preventDefault(),this.last_down=u)}),window.addEventListener("keyup",b=>{const u=this.mapKey((b.code||"").toLowerCase());this.keydown_states[u]?.next(null),this.last_down===u&&(this.last_down=null)})}listen(b,u){const S=(b=b instanceof Array?b:b.split("+")).map(D=>this.mapKey(D.toLowerCase()));if(S.length>0&&this.validCombination(S)){this.registered_combos.push(S);const D=S[S.length-1];return this.keydown_states[D]||(this.keydown_states[D]=new e.t(null),this.keydown_observers[D]=this.keydown_states[D].asObservable()),this.updateCombinationEndList(),this.keydown_observers[D].subscribe(E=>{if(E){const A=[];if(S.length>0){for(const O of S){const z=this.keydown_states[O];A.push(z&&z.getValue()||-1)}for(let O=0;O<S.length-1;O++)if(A[O]>A[O+1])return}A.reduce((O,z)=>O+(z>0?1:-1),0)>=S.length&&u()}})}return null}mapKey(b){return b.indexOf("alt")>=0||b.indexOf("shift")>=0||b.indexOf("control")>=0?b.replace("left","").replace("right",""):b}updateCombinationEndList(){for(const u of this.registered_combos)this.combo_end.push(u[u.length-1]);this.combo_end=(0,i.Am)([])}validCombination(b){let u=0;for(const S of b)p.indexOf(S)<0&&u++;return u>0}static#e=this.\u0275fac=function(u){return new(u||_)};static#t=this.\u0275prov=d.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()},9420:(Mt,pe,a)=>{"use strict";a.d(pe,{_:()=>v,u:()=>A});var e=a(4233),i=a(2185),d=a(9928),p=a(9714),m=a(8728),_=a(3020),g=a(8841),b=a(5006),u=a(8712),S=a(5354),D=a(4217),E=a(3953),A=function(O){return O[O.GoogleMaps=0]="GoogleMaps",O[O.Mapbox=1]="Mapbox",O}(A||{});let v=(()=>{class O extends S.T{get map_keys(){return this._settings.get("app.maps_people.keys")||{}}get use_service(){return this._settings.get("app.maps_people.use_zones")||[]}get map_service(){return this._map_service.getValue()}get map_token(){return this._map_token.getValue()}get is_ready(){return this._ready.getValue()}constructor(G,K){super(),this._settings=G,this._org=K,this._map_service=new d.t(null),this._map_token=new d.t(""),this._ready=new d.t(!1),this._injected={},this._custom_zone=new d.t(""),this.available$=(0,p.zV)([this._org.active_building,this._custom_zone,this._org.initialised]).pipe((0,m.p)(([F])=>!!F),(0,_.B)(300),(0,g.M)(()=>this._injectMapsApiKeys()),(0,b.T)(([F,H])=>this.map_keys.mapsindoors&&(this.use_service.includes(H||F.id)||this.use_service.includes("*"))),(0,u.t)(1))}setCustomZone(G){this._custom_zone.next(G)}_injectMapsApiKeys(){(0,D.Rm)("MapsPeople","Initializing Maps API Keys"),this._ready.next(!1);const{mapsindoors:G,google:K,mapbox:F}=this.map_keys;if(G){if(G&&!this._injected.mapsindoors){const H=document.createElement("script");H.src=`https://app.mapsindoors.com/mapsindoors/js/sdk/4.35.0/mapsindoors-4.35.0.js.gz?apikey=${G}`,document.body.appendChild(H),this._injected.mapsindoors=!0}if(K&&F)return void(0,D.Rm)("MapsPeople","Both Google and Mapbox keys provided",void 0,"error");if(K&&!this._injected.google){const H=document.createElement("script");H.src=`https://maps.googleapis.com/maps/api/js?libraries=geometry&key=${K}`,document.body.appendChild(H),this._map_service.next(A.GoogleMaps),this._injected.google=!0}else if(F&&!this._injected.mapbox){const H=document.createElement("script");H.src="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.js",document.body.appendChild(H);const Y=document.createElement("link");Y.rel="stylesheet",Y.href="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.css",document.head.appendChild(Y),this._map_service.next(A.Mapbox),this._map_token.next(F),this._injected.mapbox=!0}(K||F)&&((0,D.Rm)("MapsPeople","Initialized Maps API Keys for "+(K?"Google Maps":"Mapbox")),this.timeout("ready",()=>this._ready.next(!0),300))}}static#e=this.\u0275fac=function(K){return new(K||O)(E.KVO(e.h),E.KVO(i.yb))};static#t=this.\u0275prov=E.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})()},9525:(Mt,pe,a)=>{"use strict";a.d(pe,{To:()=>d,UG:()=>_,VX:()=>m,WS:()=>g,uA:()=>b});let e,i=!1;function d(u,S=!1){e=u,i=S}function p(u,S,D="OK",E,A={}){if(!e)return!i&&console.warn("Snackbar service hasn't been initialised");const v=e.open(S,D,{panelClass:[u],duration:5e3,...A});D&&(E=E||(()=>v.dismiss()),v.onAction().subscribe(()=>E()))}function m(u,S,D,E={}){!i&&console.debug(u),"string"!=typeof u&&(u="Success"),p("success",u,S,D,E)}function _(u,S,D,E={}){!i&&console.debug(u),"string"!=typeof u&&(u=u?.error||u?.message||"An error occurred"),p("error",u,S,D,E)}function g(u,S,D,E={}){!i&&console.debug(u),p("warn",u,S,D,E)}function b(u,S,D,E={}){!i&&console.debug(u),p("info",u,S,D,E)}},3259:(Mt,pe,a)=>{"use strict";function e(d){var p=this;d="object"==typeof d?d:{},p.revision=3,p.imageTypes={bmp:"image/bmp",gif:"image/gif",jpeg:"image/jpeg",jpg:"image/jpg",png:"image/png","svg+xml":"image/svg+xml",tiff:"image/tiff",webp:"image/webp","x-icon":"image/x-icon"},p.toTable=d.toTable,p.domElement=p.toTable?document.createElement("div"):document.createElement("canvas"),p.url=d.url||"",p.size=d.size||280,p.qrc=!1,p.colorLight=d.colorLight||"#fff",p.colorDark=d.colorDark||"#000",p.ecclevel=d.ecclevel||1,p.noBorder=d.noBorder,p.borderSize=d.borderSize||4;var m,_,g,b,u,S,D,E=[],A=[],v=[],O=[],z=[],G=[],K=function(y,I){var w;y>I&&(w=y,y=I,I=w),w=I,w*=I,w+=I,w>>=1,O[w+=y]=1},F=function(y,I){var w;for(v[y+g*I]=1,w=-2;w<2;w++)v[y+w+g*(I-2)]=1,v[y-2+g*(I+w+1)]=1,v[y+2+g*(I+w)]=1,v[y+w+1+g*(I+2)]=1;for(w=0;w<2;w++)K(y-1,I+w),K(y+1,I-w),K(y-w,I-1),K(y+w,I+1)},H=function(y){for(;y>=255;)y=((y-=255)>>8)+(255&y);return y},Y=function(y,I,w,L){var Q,te,R,ee=e.gexp,k=e.glog;for(Q=0;Q<L;Q++)E[w+Q]=0;for(Q=0;Q<I;Q++){if(255!=(R=k[E[y+Q]^E[w]]))for(te=1;te<L;te++)E[w+te-1]=E[w+te]^ee[H(R+G[L-te])];else for(te=w;te<w+L;te++)E[te]=E[te+1];E[w+L-1]=255==R?0:ee[H(R+G[0])]}},P=function(y,I){var w;return y>I&&(w=y,y=I,I=w),w=I,w+=I*I,w>>=1,O[w+=y]},U=function(y){var I,w,L,Q;switch(y){case 0:for(w=0;w<g;w++)for(I=0;I<g;I++)I+w&1||P(I,w)||(v[I+w*g]^=1);break;case 1:for(w=0;w<g;w++)for(I=0;I<g;I++)1&w||P(I,w)||(v[I+w*g]^=1);break;case 2:for(w=0;w<g;w++)for(L=0,I=0;I<g;I++,L++)3==L&&(L=0),L||P(I,w)||(v[I+w*g]^=1);break;case 3:for(Q=0,w=0;w<g;w++,Q++)for(3==Q&&(Q=0),L=Q,I=0;I<g;I++,L++)3==L&&(L=0),L||P(I,w)||(v[I+w*g]^=1);break;case 4:for(w=0;w<g;w++)for(L=0,Q=w>>1&1,I=0;I<g;I++,L++)3==L&&(L=0,Q=!Q),Q||P(I,w)||(v[I+w*g]^=1);break;case 5:for(Q=0,w=0;w<g;w++,Q++)for(3==Q&&(Q=0),L=0,I=0;I<g;I++,L++)3==L&&(L=0),(I&w&1)+!(!L|!Q)||P(I,w)||(v[I+w*g]^=1);break;case 6:for(Q=0,w=0;w<g;w++,Q++)for(3==Q&&(Q=0),L=0,I=0;I<g;I++,L++)3==L&&(L=0),(I&w&1)+(L&&L==Q)&1||P(I,w)||(v[I+w*g]^=1);break;case 7:for(Q=0,w=0;w<g;w++,Q++)for(3==Q&&(Q=0),L=0,I=0;I<g;I++,L++)3==L&&(L=0),(L&&L==Q)+(I+w&1)&1||P(I,w)||(v[I+w*g]^=1)}},$=function(y){var I,w=0;for(I=0;I<=y;I++)z[I]>=5&&(w+=e.N1+z[I]-5);for(I=3;I<y-1;I+=2)z[I-2]==z[I+2]&&z[I+2]==z[I-1]&&z[I-1]==z[I+1]&&3*z[I-1]==z[I]&&(0==z[I-3]||I+3>y||3*z[I-3]>=4*z[I]||3*z[I+3]>=4*z[I])&&(w+=e.N3);return w},B=function(){var y,I,w,L,Q,te=0,R=0;for(I=0;I<g-1;I++)for(y=0;y<g-1;y++)(v[y+g*I]&&v[y+1+g*I]&&v[y+g*(I+1)]&&v[y+1+g*(I+1)]||!(v[y+g*I]||v[y+1+g*I]||v[y+g*(I+1)]||v[y+1+g*(I+1)]))&&(te+=e.N2);for(I=0;I<g;I++){for(z[0]=0,w=L=y=0;y<g;y++)(Q=v[y+g*I])==L?z[w]++:z[++w]=1,R+=(L=Q)?1:-1;te+=$(w)}R<0&&(R=-R);var ee=R,k=0;for(ee+=ee<<2,ee<<=1;ee>g*g;)ee-=g*g,k++;for(te+=k*e.N4,y=0;y<g;y++){for(z[0]=0,w=L=I=0;I<g;I++)(Q=v[y+g*I])==L?z[w]++:z[++w]=1,L=Q;te+=$(w)}return te};p.genframe=function(y){var I,w,L,Q,te,R,ee,k,J=e.eccblocks,X=e.gexp,fe=e.glog;Q=y.length,_=0;do{if(_++,L=4*(m-1)+16*(_-1),b=J[L++],u=J[L++],S=J[L++],D=J[L],Q<=(L=S*(b+u)+u-3+(_<=9)))break}while(_<40);for(g=17+4*_,te=S+(S+D)*(b+u)+u,Q=0;Q<te;Q++)A[Q]=0;for(E=y.slice(0),Q=0;Q<g*g;Q++)v[Q]=0;for(Q=0;Q<(g*(g+1)+1)/2;Q++)O[Q]=0;for(Q=0;Q<3;Q++){for(L=0,w=0,1==Q&&(L=g-7),2==Q&&(w=g-7),v[w+3+g*(L+3)]=1,I=0;I<6;I++)v[w+I+g*L]=1,v[w+g*(L+I+1)]=1,v[w+6+g*(L+I)]=1,v[w+I+1+g*(L+6)]=1;for(I=1;I<5;I++)K(w+I,L+1),K(w+1,L+I+1),K(w+5,L+I),K(w+I+1,L+5);for(I=2;I<4;I++)v[w+I+g*(L+2)]=1,v[w+2+g*(L+I+1)]=1,v[w+4+g*(L+I)]=1,v[w+I+1+g*(L+4)]=1}if(_>1)for(Q=e.adelta[_],w=g-7;;){for(I=g-7;I>Q-3&&(F(I,w),!(I<Q));)I-=Q;if(w<=Q+9)break;F(6,w-=Q),F(w,6)}for(v[8+g*(g-8)]=1,w=0;w<7;w++)K(7,w),K(g-8,w),K(7,w+g-7);for(I=0;I<8;I++)K(I,7),K(I+g-8,7),K(I,g-8);for(I=0;I<9;I++)K(I,8);for(I=0;I<8;I++)K(I+g-8,8),K(8,I);for(w=0;w<7;w++)K(8,w+g-7);for(I=0;I<g-14;I++)1&I?(K(8+I,6),K(6,8+I)):(v[8+I+6*g]=1,v[6+g*(8+I)]=1);if(_>6)for(Q=e.vpat[_-7],L=17,I=0;I<6;I++)for(w=0;w<3;w++,L--)1&(L>11?_>>L-12:Q>>L)?(v[5-I+g*(2-w+g-11)]=1,v[2-w+g-11+g*(5-I)]=1):(K(5-I,2-w+g-11),K(2-w+g-11,5-I));for(w=0;w<g;w++)for(I=0;I<=w;I++)v[I+g*w]&&K(I,w);for(te=E.length,R=0;R<te;R++)A[R]=E.charCodeAt(R);if(E=A.slice(0),te>=(I=S*(b+u)+u)-2&&(te=I-2,_>9&&te--),R=te,_>9){for(E[R+2]=0,E[R+3]=0;R--;)E[R+3]|=255&(Q=E[R])<<4,E[R+2]=Q>>4;E[2]|=255&te<<4,E[1]=te>>4,E[0]=64|te>>12}else{for(E[R+1]=0,E[R+2]=0;R--;)E[R+2]|=255&(Q=E[R])<<4,E[R+1]=Q>>4;E[1]|=255&te<<4,E[0]=64|te>>4}for(R=te+3-(_<10);R<I;)E[R++]=236,E[R++]=17;for(G[0]=1,R=0;R<D;R++){for(G[R+1]=1,ee=R;ee>0;ee--)G[ee]=G[ee]?G[ee-1]^X[H(fe[G[ee]]+R)]:G[ee-1];G[0]=X[H(fe[G[0]]+R)]}for(R=0;R<=D;R++)G[R]=fe[G[R]];for(L=I,w=0,R=0;R<b;R++)Y(w,S,L,D),w+=S,L+=D;for(R=0;R<u;R++)Y(w,S+1,L,D),w+=S+1,L+=D;for(w=0,R=0;R<S;R++){for(ee=0;ee<b;ee++)A[w++]=E[R+ee*S];for(ee=0;ee<u;ee++)A[w++]=E[b*S+R+ee*(S+1)]}for(ee=0;ee<u;ee++)A[w++]=E[b*S+R+ee*(S+1)];for(R=0;R<D;R++)for(ee=0;ee<b+u;ee++)A[w++]=E[I+R+ee*D];for(E=A,I=w=g-1,L=te=1,k=(S+D)*(b+u)+u,R=0;R<k;R++)for(Q=E[R],ee=0;ee<8;ee++,Q<<=1){128&Q&&(v[I+g*w]=1);do{te?I--:(I++,L?0!=w?w--:(L=!L,6==(I-=2)&&(I--,w=9)):w!=g-1?w++:(L=!L,6==(I-=2)&&(I--,w-=8))),te=!te}while(P(I,w))}for(E=v.slice(0),Q=0,w=3e4,L=0;L<8&&(U(L),(I=B())<w&&(w=I,Q=L),7!=Q);L++)v=E.slice(0);for(Q!=L&&U(Q),w=e.fmtword[Q+(m-1<<3)],L=0;L<8;L++,w>>=1)1&w&&(v[g-1-L+8*g]=1,L<6?v[8+g*L]=1:v[8+g*(L+1)]=1);for(L=0;L<7;L++,w>>=1)1&w&&(v[8+g*(g-7+L)]=1,L?v[6-L+8*g]=1:v[7+8*g]=1);return v},p.init=function(){m=p.ecclevel;var y=p.genframe(p.url);p.toTable?p.tableWrite(y,g):p.canvasWrite(y,g)},p.init()}function i(d,p="#fff0",m="#000"){return new e({url:d||"Hello",size:360,colorLight:p,colorDark:m,toTable:!1,ecclevel:1,noBorder:!0,borderSize:0})?.toImage("svg+xml")?.src}a.d(pe,{C:()=>i}),e.prototype={canvasWrite:function(d,p){if(!this.qrc&&(this.qrc=this.getContext(this.domElement),!this.qrc))return this.toTable=!0,this.domElement=document.createElement("div"),void this.tableWrite(d,p);var m=this.size,_=this.qrc;_.lineWidth=1;var g=m;g/=p+10,g=Math.round(g-.5);var b=4;this.noBorder?(_.canvas.width=_.canvas.height=g*p,b=0):_.canvas.width=_.canvas.height=m,_.clearRect(0,0,m,m),_.fillStyle=this.colorLight,_.fillRect(0,0,g*(p+8),g*(p+8)),_.fillStyle=this.colorDark;for(var u=0;u<p;u++)for(var S=0;S<p;S++)d[S*p+u]&&_.fillRect(g*(b+u),g*(b+S),g,g)},tableWrite:function(d,p){var m=this,_=Math.round(this.size/p-3.5)+"px",g=p+(m.noBorder?0:2*m.borderSize),b=m.borderSize,u="width:"+_+";height:"+_+";",S=m.colorLight,D=m.colorDark,E=document.createElement("table");E.style.cssText="border:0;border-collapse:collapse;";for(var A,v=document.createElement("tr"),O=document.createElement("td"),z=function(){return O.cloneNode()},G=function(){var $=z();return $.style.cssText=u+"background:"+S,$},K=function($){for(var B=$.firstChild,y=0;y<b;y++)$.insertBefore(G(),B),$.appendChild(G())},F=0;F<p;F++){var H=v.cloneNode();E.appendChild(H);for(var Y=0;Y<p;Y++)if(1===d[F*p+Y]){var P=(A=void 0,(A=z()).style.cssText=u+"background:"+D,A);H.appendChild(P)}else{var U=G();H.appendChild(U)}m.noBorder||K(H)}m.noBorder||function($){for(var B=$.firstChild,y=0;y<m.borderSize;y++){for(var I=v.cloneNode(),w=0;w<g;w++){var L=G();I.appendChild(L)}$.appendChild(I),$.insertBefore(I.cloneNode(!0),B)}}(E),m.domElement.innerHTML="",m.domElement.appendChild(E)},getContext:function(d){return d.getContext&&d.getContext("2d")?d.getContext("2d"):(console.log("Browser does not have 2d Canvas support"),!1)},toImage:function(d){if(this.qrc){var p=this.imageTypes[d];if(!p)throw new Error(d+" is not a valid image type ");var m=new Image;return m.src=this.domElement.toDataURL(p),m}}},e.adelta=[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28],e.vpat=[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177],e.fmtword=[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],e.eccblocks=[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],e.glog=[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175],e.gexp=[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],e.N1=3,e.N2=3,e.N3=40,e.N4=10},686:(Mt,pe,a)=>{"use strict";a.d(pe,{V:()=>z});var e=a(467),i=a(9596),d=a(9928),p=a(5286),m=a(9714),_=a(4421),g=a(8712),b=a(8728),u=a(9090),S=a(5006),D=a(5354),E=a(4217),A=a(3953);function v(G,K,F){var H=G[K];return G[K]=(...Y)=>{F(Y),H.call(G,...Y)},H}let O=localStorage.getItem("PLACEOS.DEVICE_ID")||`DEV-${(0,E.DU)(8)}`,z=(()=>{class G extends D.T{setMetadata(F){}constructor(){var F;super(),F=this,this._disable_handling=!1,this._system_id=new d.t(""),this._events=new p.B7,this._event_history=this._events.pipe((0,g.t)(2e4)),this._metadata=null,this._logging_bindings=this._system_id.pipe((0,b.p)(H=>!!H),(0,u.n)(H=>(0,m.zV)([(0,_.of)(H),this._bindTo(H,"enabled")])),(0,b.p)(([H,Y])=>!!Y),(0,S.T)(([H])=>this.subscription("post_events",this._event_history.subscribe(function(){var Y=(0,e.A)(function*(P){F._disable_handling=!0,yield(0,i.f_4)(H,"Logger").execute("post_event",[P]).catch(),F._disable_handling=!1});return function(P){return Y.apply(this,arguments)}}())))),this.history=this._event_history,localStorage.setItem("PLACEOS.DEVICE_ID",O),this._patchConsoleMethods(),this._logging_bindings.subscribe(),(0,E.Rm)("Logger","Remote logging initialised...")}setSystem(F){this._system_id.next(F)}_patchConsoleMethods(){const F=["log","debug","info","warn","error"];for(const H of F)v(console,H,(...Y)=>this._handleEvent(H,Y))}_handleEvent(F,H,Y="console"){if(H.includes('"Logger"')||this._disable_handling)return;const P=[...H[0]];P[0]="string"==typeof P[0]?P[0].replace(/\%c/g,""):P[0],this._events.next({id:`${Y}-${(0,E.HO)(9999999999)}`,device_id:O,type:Y,subtype:F,timestamp:Date.now(),raw:H,data:P.filter(U=>"string"!=typeof U||!U.startsWith("color:")),metadata:this._metadata||null})}_bindTo(F,H,Y="Logger"){const P=(0,i.f_4)(F,Y).binding(H);return this.subscription(`bind:${H}`,P.bind()),P.listen()}static#e=this.\u0275fac=function(H){return new(H||G)};static#t=this.\u0275prov=A.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}return G})()},4233:(Mt,pe,a)=>{"use strict";a.d(pe,{h:()=>O});var e=a(467),i=a(9928),d=a(9596),p=a(5818),m=a(2017),_=a(4046),g=a(4217),b=a(3060),u=a(5354),S=a(3885),D=a(6202),E=a(3114),A=a(3953),v=a(345);let O=(()=>{class z extends u.T{set overrides(K){this._overrides.next(K),this._applyCssVariables()}listen(K){return this._observables[K]||(this._subjects[K]=new i.t(null),this._observables[K]=this._subjects[K].asObservable()),this._observables[K]}post(K,F){this._observables[K]||(this._subjects[K]=new i.t(null),this._observables[K]=this._subjects[K].asObservable()),this._subjects[K].next(F)}value(K){return this._observables[K]?this._subjects[K].getValue():null}get title(){return this._title.getTitle()}set title(K){this._title.setTitle(`${K} | ${this.get("app.name")||this._app_name}`),this.get("app.analytics.tracking_id")&&this._analytics?.send("pagename",{title:K})}constructor(K,F){super(),this._title=K,this._analytics=F,this._app_name="PlaceOS",this._overrides=new i.t([]),this._user_settings=new i.t({}),this._subjects={},this._observables={},this._pending_settings={};const H=new Date,Y=new Date(S.x.time),P=(0,p.r)(H,Y)?`Today at ${(0,m.GP)(Y,"h:mma")}`:(0,m.GP)(Y,"do MMM yyyy, h:mma");(0,g.Rm)("CORE",`${S.x.semver}`,null,"debug",!0),(0,g.Rm)("APP",`${S.x.hash} | Built: ${P}`,null,"debug",!0),this.init()}init(){var K=this;return(0,e.A)(function*(){K.get("debug")&&(window.debug=!0),K.get("app")?.name&&(K._app_name=K.get("app").name),K._app_name=location.pathname.replace(/[\\\/]/g,"").trim()||K._app_name,(0,g.Xf)(K._app_name.split("-").join("_").toUpperCase()),(0,g.Rm)("Settings","Successfully loaded settings"),K._initialised.next(!0),window.debug&&(window.application||(window.application={}),window.application.settings=K),K.subscription("user_settings",K._user_settings.subscribe(Y=>K._applyUserSettings(Y)));const F=yield D.U5.pipe((0,_.$)(Y=>!!Y)).toPromise(),H=yield(0,d.bpY)(F.id,"settings").toPromise();K._user_settings.next(H.details||{}),K._initDarkMode(),K._applyTheme(),K._setFontSize()})()}get app_name(){return this._app_name}get time_format(){return this.get("app.use_24_hour_time")?"HH:mm":"h:mm a"}get(K){const F=K.split(".");if("app"!==F[0])return(0,g.st)(F,this._pending_settings)??(0,g.st)(F,this._user_settings.getValue())??(0,g.st)(F,b.a);const H=[...this._overrides.getValue()];for(const Y of H){const P=(0,g.st)(F.slice(1),Y);if(null!=P)return P}return(0,g.st)(F,b.a)}saveUserSetting(K,F){this._pending_settings[K]=F,"dark_mode"===K&&this.setTheme(F?"dark":""),"font_size"===K&&this._setFontSize(),this.timeout("save_settings",()=>this._savePendingChanges(),5e3)}overrideCssVariable(K,F,H=!1){let Y=document.getElementById(`css-var-overrides+${K}`);Y||(Y=document.createElement("style"),Y.id=`css-var-overrides+${K}`,document.head.appendChild(Y)),Y.innerText=`html, body { --${K}: ${F} ${H?"!important":""}}`}setTheme(K){this.get("theme")!==K&&(this.saveUserSetting("theme",K),this._applyTheme())}_applyCssVariables(){const K=this.get("app.css_variables")||{};let F="body { ";for(const Y in K)F+=`--${Y}: ${K[Y]}; `;F+="}";let H=document.getElementById("css-var-overrides");H||(H=document.createElement("style"),H.id="css-var-overrides",document.head.appendChild(H)),H.innerText=F}_savePendingChanges(){var K=this;return(0,e.A)(function*(){const F=(0,D.Ny)();!F?.id||!Object.keys(K._pending_settings).length||(yield(0,d.D58)(F.id,{name:"settings",description:"",details:{...K._user_settings.getValue(),...K._pending_settings}}).toPromise(),K._user_settings.next({...K._user_settings.getValue(),...K._pending_settings}),K._pending_settings={})})()}_applyUserSettings(K){return(0,e.A)(function*(){})()}_setFontSize(){this.get("font_size")&&this.overrideCssVariable("font-size",`${this.get("font_size")}px`)}_applyTheme(){const K=this.get("theme"),F=document.body.classList.value.split(" ");for(const H of F)H.startsWith("theme-")&&document.body.classList.remove(H);K?document.body.classList.add(`theme-${K}`):document.body.classList.remove(`theme-${K}`)}_initDarkMode(){this.get("theme")}static#e=this.\u0275fac=function(F){return new(F||z)(A.KVO(v.hE),A.KVO(E.p,8))};static#t=this.\u0275prov=A.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})()},3060:(Mt,pe,a)=>{"use strict";a.d(pe,{a:()=>p});const p={debug:!0,composer:{domain:"",route:"/concierge",protocol:"",port:"",use_domain:!1,local_login:!1},app:{name:"Concierge",title:"PlaceOS",description:"Concierge UI",short_name:"PlaceOS",logo_light:{type:"img",src:"assets/logo-light.svg"},logo_dark:{type:"img",src:"assets/logo-dark.svg"},default_route:"/book/rooms/new",use_24_hour_time:!1,admin_group:"concierge_admins",features:["spaces","zones","desks","parking","visitors","assets","facilities","internal-users","points","surveys","catering","events","booking-report","contact-tracing-report","signage","events","email-templates"],general:{menu:[{route:"book/rooms",name:"Calendar",icon:{class:"material-icons",content:"event"}},{route:"facilities",name:"Facilities",icon:{class:"material-icons",content:"meeting_room"}},{route:"book/assets",name:"Asset Manager",icon:{class:"material-icons",content:"inventory"}},{route:"book/catering",name:"Catering",icon:{class:"material-icons",content:"room_service"}},{route:"book/visitors",name:"Visitors",icon:{class:"material-icons",content:"group"}},{route:"book/desks",name:"Desks",icon:{class:"material-icons",content:"article"}},{route:"users/staff",name:"Staff",icon:{class:"material-icons",content:"account_box"}},{route:"facilities/points",name:"Points",icon:{class:"material-icons",content:"loyalty"}},{route:"book/parking",name:"Parking",icon:{class:"material-icons",content:"local_parking"}},{route:"reports",name:"Reports",icon:{class:"material-icons",content:"analytics"}},{route:"room-management",name:"Room Management",icon:{class:"material-icons",content:"analytics"}}],dark_mode:!0},guests:{vaccine_check:!0},delegated:!1,has_uploads:!0,custom_reports:[],desks:{can_book_for_others:!0},bookings:{can_book_for_others:!0,use_building_timezone:!1},events:{allow_setup_breakdown:!1,use_building_timezone:!1,block_start:7,block_end:19,block_height:5,custom_actions:[{id:"set_setup_breakdown",name:"Set Setup/Breakdown",icon:"manage_history"}]}}}},7619:(Mt,pe,a)=>{"use strict";a.d(pe,{mx:()=>Vt,Fz:()=>Le,GF:()=>ae,il:()=>qe});var e=a(1113);const g={year:0,month:1,day:2,hour:3,minute:4,second:5},S={};function E(Pe,_t,Gt,Kt,vn,Ft,_n){const ft=new Date(0);return ft.setUTCFullYear(Pe,_t,Gt),ft.setUTCHours(Kt,vn,Ft,_n),ft}const A=36e5,v=6e4,O={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function K(Pe,_t){const Gt=function _(Pe,_t){const Gt=function D(Pe){if(!S[Pe]){const _t=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z"));S[Pe]="06/25/2014, 00:00:00"===_t||"\u200e06\u200e/\u200e25\u200e/\u200e2014\u200e \u200e00\u200e:\u200e00\u200e:\u200e00"===_t?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:Pe,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:Pe,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return S[Pe]}(_t);return"formatToParts"in Gt?function b(Pe,_t){try{const Gt=Pe.formatToParts(_t),Kt=[];for(let vn=0;vn<Gt.length;vn++){const Ft=g[Gt[vn].type];void 0!==Ft&&(Kt[Ft]=parseInt(Gt[vn].value,10))}return Kt}catch(Gt){if(Gt instanceof RangeError)return[NaN];throw Gt}}(Gt,Pe):function u(Pe,_t){const Gt=Pe.format(_t),Kt=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(Gt);return[parseInt(Kt[3],10),parseInt(Kt[1],10),parseInt(Kt[2],10),parseInt(Kt[4],10),parseInt(Kt[5],10),parseInt(Kt[6],10)]}(Gt,Pe)}(Pe,_t),Kt=E(Gt[0],Gt[1]-1,Gt[2],Gt[3]%24,Gt[4],Gt[5],0).getTime();let vn=Pe.getTime();const Ft=vn%1e3;return vn-=Ft>=0?Ft:1e3+Ft,Kt-vn}function H(Pe,_t){return-23<=Pe&&Pe<=23&&(null==_t||0<=_t&&_t<=59)}const Y={};function st(Pe,_t){return-function z(Pe,_t,Gt){if(!Pe)return 0;let vn,Ft,Kt=O.timezoneZ.exec(Pe);if(Kt)return 0;if(Kt=O.timezoneHH.exec(Pe),Kt)return vn=parseInt(Kt[1],10),H(vn)?-vn*A:NaN;if(Kt=O.timezoneHHMM.exec(Pe),Kt){vn=parseInt(Kt[2],10);const _n=parseInt(Kt[3],10);return H(vn,_n)?(Ft=Math.abs(vn)*A+_n*v,"+"===Kt[1]?-Ft:Ft):NaN}if(function P(Pe){if(Y[Pe])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:Pe}),Y[Pe]=!0,!0}catch{return!1}}(Pe)){_t=new Date(_t||Date.now());const _n=Gt?_t:function G(Pe){return E(Pe.getFullYear(),Pe.getMonth(),Pe.getDate(),Pe.getHours(),Pe.getMinutes(),Pe.getSeconds(),Pe.getMilliseconds())}(_t),ft=K(_n,Pe);return-(Gt?ft:function F(Pe,_t,Gt){let vn=Pe.getTime()-_t;const Ft=K(new Date(vn),Gt);if(_t===Ft)return _t;vn-=Ft-_t;const _n=K(new Date(vn),Gt);return Ft===_n?Ft:Math.max(Ft,_n)}(_t,ft,Pe))}return NaN}(Pe,_t)}var ht=a(4217);const Vt=Intl?.DateTimeFormat()?.resolvedOptions()?.timeZone||"Australia/Sydney";function qe(Pe,_t=Vt){const Gt=st(_t)-st(Vt);return(0,e.A)(Pe,Gt).valueOf()}const ot={};function ae(Pe){if(ot[Pe])return ot[Pe];const _t=Oe(Pe),Gt=Math.floor(Math.abs(_t)/60),Kt=Math.abs(_t)%60,vn=`${_t>0?"+":"-"}${(0,ht.go)(Gt,2)}${(0,ht.go)(Kt,2)}`;return ot[Pe]=vn,vn}function Oe(Pe,_t=new Date){const Ft=new Intl.DateTimeFormat([],{timeZone:Pe,hour12:!1,timeZoneName:"short"}).formatToParts(_t).find(dn=>"timeZoneName"===dn.type),ft=(Ft?Ft.value:"GMT").match(/GMT([+-])(\d{1,2})(\d{2})?/);return ft?("+"===ft[1]?1:-1)*(60*parseInt(ft[2],10)+(ft[3]?parseInt(ft[3],10):0)):0}function Le(Pe,_t=Vt,Gt=new Date){return(Oe(Pe,Gt)-Oe(_t,Gt))/60}},6202:(Mt,pe,a)=>{"use strict";a.d(pe,{Ny:()=>G,U5:()=>O,VX:()=>z});var e=a(467),i=a(9596),d=a(9928),p=a(9714),m=a(8002),_=a(762);class b{constructor(F,H){this.count=F,this.source=H}call(F,H){return H.subscribe(new u(F,this.count,this.source))}}class u extends _.v{constructor(F,H,Y){super(F),this.count=H,this.source=Y}error(F){if(!this.isStopped){const{source:H,count:Y}=this;if(0===Y)return super.error(F);Y>-1&&(this.count=Y-1),H.subscribe(this._unsubscribeAndRecycle())}}}var S=a(5006),D=a(3693);const E=new D.Gp,A=new d.t(null),v=new d.t(0),O=A.asObservable();function z(){setTimeout((0,e.A)(function*(){const K=yield(0,i.VLL)("current").toPromise();A.next(new D.Gp(K))}),300)}function G(){return A.getValue()||E}setTimeout(()=>{try{if(jest)return}catch{}(0,p.zV)([(0,i.VLL)("current"),v]).pipe((0,m.c)(1e3),function g(K=-1){return F=>F.lift(new b(K,F))}(10),(0,S.T)(([K])=>new D.Gp(K))).subscribe(K=>A.next(K))},300)},3885:(Mt,pe,a)=>{"use strict";a.d(pe,{x:()=>e});const e={dirty:!1,raw:"53dfdc5",hash:"53dfdc5",distance:null,tag:null,semver:null,suffix:"53dfdc5",semverString:null,version:"1.12.0",time:1728350305842}},6815:(Mt,pe,a)=>{"use strict";a.d(pe,{Rt:()=>te.R,hO:()=>Ot,DJ:()=>R.D,l4:()=>L.l,hI:()=>e.h,In:()=>U.I,Dd:()=>U.D,Nw:()=>z.N,VJ:()=>I.V,VT:()=>F.V,KO:()=>w.K,z:()=>v,NV:()=>Q.N});var e=a(4558),p=(a(3938),a(841),a(7375));a(4418);var A=a(3953);let v=(()=>{class rt{static#e=this.\u0275fac=function(Ce){return new(Ce||rt)};static#t=this.\u0275cmp=A.VBU({type:rt,selectors:[["app-unauthorised"]],decls:9,vars:0,consts:()=>{let ve,Ce,be;return ve=$localize`:56a20d819b6e59b0de025988a3f9ed7d6a1bc08c4136336337692896315:Access forbidden.`,Ce=$localize`:7afe2eb69e486929c5a29d67e6f24975f97604c48887025903012875176: You do not have permission to view this page and your access attempt has been recorded. `,be=$localize`:1520ecc736c82366b62d64a515b1c3b222c9e1df1824441478452454363: Contact your Administrator if you feel that you should have access. `,[ve,Ce,be,[1,"unauthorised","rounded","m-4","text-center","bg-base-100","text-black","border","border-base-200","p-4","shadow"],[1,"text-4xl"],[1,"text-2xl"],[1,"py-4"]]},template:function(Ce,be){1&Ce&&(A.j41(0,"div",3)(1,"h1",4),A.EFF(2,"403"),A.k0s(),A.j41(3,"h3",5),A.pXf(4,0),A.k0s(),A.j41(5,"p",6),A.pXf(6,1),A.k0s(),A.j41(7,"p"),A.pXf(8,2),A.k0s()())},styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center}.unauthorised[_ngcontent-%COMP%]{width:28em;max-width:calc(100vw - 1rem)}@media (prefers-color-scheme: dark){.unauthorised[_ngcontent-%COMP%]{background-color:#262626;color:#fff}}"]})}return rt})();a(1193);var z=a(4918),F=(a(9489),a(877),a(1865)),U=(a(5384),a(2124),a(2993),a(2238)),I=(a(4616),a(5080),a(4921),a(620)),w=a(8283),L=a(5991),Q=a(4633),te=a(5843),R=a(375),ee=a(9596),J=a(467),X=a(4046),fe=a(9714),Me=a(4233),Ze=a(5762),Ct=a(3141);class lt{}let Ot=(()=>{class rt{constructor(ve,Ce,be,ue){this._router=ve,this._settings=Ce,this._org=be,this._access=ue}canActivate(ve,Ce){var be=this;return(0,J.A)(function*(){return be.checkUser()})()}canLoad(ve,Ce){var be=this;return(0,J.A)(function*(){return be.checkUser()})()}checkUser(){var ve=this;return(0,J.A)(function*(){yield(0,fe.zV)([(0,ee.XYg)(),ve._org.initialised]).pipe((0,X.$)(([me,$e])=>me&&$e)).toPromise();const Ce=yield p.U5.pipe((0,X.$)(me=>!!me)).toPromise(),be=ve._access?.group?[ve._access.group]:ve._settings.get("app.allow_access_groups")||[],ue=!(!Ce||be.length&&!be.find(me=>Ce.groups.includes(me)));return ue||ve._router.navigate(["/unauthorised"]),!!ue})()}static#e=this.\u0275fac=function(Ce){return new(Ce||rt)(A.KVO(Ct.Ix),A.KVO(Me.h),A.KVO(Ze.y),A.KVO(lt,8))};static#t=this.\u0275prov=A.jDH({token:rt,factory:rt.\u0275fac,providedIn:"root"})}return rt})()},6539:(Mt,pe,a)=>{"use strict";a.d(pe,{B:()=>D});var e=a(7375),i=a(6815),d=a(3953),p=a(177),m=a(9417),_=a(3881),g=a(450),b=a(9434);function u(E,A){if(1&E){const v=d.RV6();d.j41(0,"div",9)(1,"div",10)(2,"app-icon",11),d.EFF(3,"mode_night"),d.k0s()(),d.j41(4,"div",12),d.pXf(5,2),d.k0s(),d.j41(6,"mat-slide-toggle",13),d.bIt("ngModelChange",function(z){d.eBV(v);const G=d.XpG();return d.Njj(G.setDarkMode(z))}),d.k0s()()}if(2&E){const v=d.XpG();d.R7$(6),d.Y8G("ngModel",v.dark_mode)}}function S(E,A){if(1&E){const v=d.RV6();d.qex(0),d.j41(1,"div",15),d.pXf(2,3),d.k0s(),d.j41(3,"div",16)(4,"span",17),d.EFF(5,"A"),d.k0s(),d.j41(6,"mat-slider",18)(7,"input",19),d.bIt("ngModelChange",function(z){d.eBV(v);const G=d.XpG();return d.Njj(G.applySetting("font_size",z))}),d.k0s()(),d.j41(8,"span",6),d.EFF(9,"A"),d.k0s(),d.j41(10,"span",20),d.EFF(11),d.k0s()(),d.bVm()}if(2&E){const v=d.XpG();d.R7$(6),d.Y8G("min",10)("max",24)("step",2),d.R7$(),d.Y8G("ngModel",v.font_size),d.R7$(4),d.SpI(" ",v.font_size,"px ")}}let D=(()=>{class E extends e.Tv{get dark_mode(){return"dark"===this._settings.get("theme")}get can_change_dark_mode(){return!!this._settings.get("app.general.dark_mode")}get accessible(){return!!this._settings.get("accessible")}get font_size(){return this._settings.get("font_size")||16}constructor(v,O){super(),this._data=v,this._settings=O,this.applySetting=(z,G)=>this.timeout("apply_setting",()=>this._settings.saveUserSetting(z,G),1e3),this.close=()=>this._data?.close()}setDarkMode(v){const O=this._settings.get("theme");v&&"dark"!==O?this._settings.setTheme("dark"):!v&&"dark"===O&&this._settings.setTheme("light")}static#e=this.\u0275fac=function(O){return new(O||E)(d.rXU(i.Dd),d.rXU(e.h$))};static#t=this.\u0275cmp=d.VBU({type:E,selectors:[["accessibility-tooltip"]],features:[d.Vt3],decls:15,vars:3,consts:()=>{let v,O,z,G;return v=$localize`:d22b673a92b43eabbdebd80b1539a553703c84f66572705143012462182:Display & Accessibility`,O=$localize`:0f027c150c7e9465a5cdf64c4d07c33aca92384d127744830115363320:Large Accessibility Sizes`,z=$localize`:c943d5ecc32b916a210d7c984fe5f55771ad0b1a3279636347259347513:Dark Mode`,G=$localize`:3fc32876e34616b005d861eafe737cf4d27931848609643488577372847: Adjust your preferred reading size below. `,[v,O,z,G,[1,"flex","flex-col","w-[18.5rem]","rounded","bg-base-100","shadow","relative","-top-12","-right-1","overflow-hidden"],[1,"flex","items-center","space-x-2","p-2",3,"click"],[1,"text-2xl"],[1,""],["action","","class","flex items-center space-x-2 w-full text-left h-auto px-4",4,"ngIf"],["action","",1,"flex","items-center","space-x-2","w-full","text-left","h-auto","px-4"],[1,"flex","items-center","justify-center","rounded-full","w-8","h-8","bg-base-200","my-2"],[1,"text-xl"],[1,"flex-1","text-sm"],[3,"ngModelChange","ngModel"],[4,"ngIf"],[1,"px-8","py-4","bg-base-200","text-center"],[1,"flex","items-center","px-4","space-x-4"],[1,"text-sm"],[1,"flex-1","w-1/2","text-[16px]",3,"min","max","step"],["matSliderThumb","",1,"text-[16px]",3,"ngModelChange","ngModel"],[1,"text-base","py-1","px-2","rounded","bg-base-300","text-white","my-2"]]},template:function(O,z){1&O&&(d.j41(0,"div",4)(1,"div",5),d.bIt("click",function(){return z.close()}),d.j41(2,"app-icon",6),d.EFF(3,"arrow_back"),d.k0s(),d.j41(4,"div",7),d.pXf(5,0),d.k0s()(),d.DNE(6,u,7,1,"div",8),d.j41(7,"div",9)(8,"div",10)(9,"app-icon",11),d.EFF(10,"playlist_add"),d.k0s()(),d.j41(11,"div",12),d.pXf(12,1),d.k0s(),d.j41(13,"mat-slide-toggle",13),d.bIt("ngModelChange",function(K){return z.applySetting("accessible",K)}),d.k0s()(),d.DNE(14,S,12,5,"ng-container",14),d.k0s()),2&O&&(d.R7$(6),d.Y8G("ngIf",z.can_change_dark_mode),d.R7$(7),d.Y8G("ngModel",z.accessible),d.R7$(),d.Y8G("ngIf",z.accessible))},dependencies:[p.bT,m.me,m.BC,m.vS,_.IV,_.OU,g.sG,b.R],styles:["[_nghost-%COMP%] > div[_ngcontent-%COMP%] > [action][_ngcontent-%COMP%]{border-top:1px solid #ccc}"]})}return E})()},8157:(Mt,pe,a)=>{"use strict";a.d(pe,{X:()=>u});var e=a(3953),i=a(177),d=a(6600),p=a(9183),m=a(9434);const _=["*"];function g(S,D){if(1&S&&(e.j41(0,"div")(1,"app-icon"),e.EFF(2),e.k0s()()),2&S){const E=e.XpG();e.HbH("state center "+E.state),e.R7$(2),e.SpI(" ","success"===E.state?"done":"close"," ")}}function b(S,D){1&S&&(e.j41(0,"div",4),e.nrm(1,"mat-spinner",5),e.k0s()),2&S&&(e.R7$(),e.Y8G("diameter",16))}let u=(()=>{class S{constructor(){this.className="material-icons",this.state=""}static#e=this.\u0275fac=function(A){return new(A||S)};static#t=this.\u0275cmp=e.VBU({type:S,selectors:[["action-icon"]],inputs:{icon:"icon",className:"className",content:"content",loading:"loading",disabled:"disabled",state:"state"},ngContentSelectors:_,decls:6,vars:8,consts:[["icon","","matRipple","","title","",1,"relative",3,"disabled"],["root","",3,"className","icon"],[3,"class",4,"ngIf"],["class","loader center",4,"ngIf"],[1,"loader","center"],[3,"diameter"]],template:function(A,v){1&A&&(e.NAR(),e.j41(0,"button",0)(1,"app-icon",1),e.EFF(2),e.SdG(3),e.k0s(),e.DNE(4,g,3,3,"div",2)(5,b,2,1,"div",3),e.k0s()),2&A&&(e.AVh("success","success"===v.state),e.Y8G("disabled",v.loading||v.disabled),e.R7$(),e.Y8G("className",v.className)("icon",v.icon),e.R7$(),e.SpI(" ",v.content," "),e.R7$(2),e.Y8G("ngIf",!v.loading&&v.state),e.R7$(),e.Y8G("ngIf",v.loading))},dependencies:[i.bT,d.r6,p.LG,m.R],styles:[".action-icon.fade[_ngcontent-%COMP%] > app-icon[_ngcontent-%COMP%]{opacity:.35}.success[_ngcontent-%COMP%]{pointer-events:none}.success[_ngcontent-%COMP%]   app-icon[root][_ngcontent-%COMP%]{opacity:.2}.state.success[_ngcontent-%COMP%]{color:#388e3c}.state.error[_ngcontent-%COMP%]{color:#e53935}"]})}return S})()},5843:(Mt,pe,a)=>{"use strict";a.d(pe,{R:()=>F});var e=a(3953),i=a(4006),d=a(7375),p=a(177),m=a(9417),_=a(6600),g=a(9115),b=a(3719),u=a(2798),S=a(9631),D=a(2765),E=a(9434);function A(H,Y){1&H&&(e.j41(0,"button",8)(1,"app-icon"),e.EFF(2,"close"),e.k0s()())}function v(H,Y){if(1&H){const P=e.RV6();e.j41(0,"div",9)(1,"mat-checkbox",10),e.bIt("ngModelChange",function($){e.eBV(P);const B=e.XpG();return e.Njj(B.saveNotesSetting($))}),e.EFF(2," Require notes for orders "),e.k0s()()}if(2&H){const P=e.XpG();e.R7$(),e.Y8G("ngModel",P.require_notes)}}function O(H,Y){if(1&H&&(e.j41(0,"mat-option",28),e.EFF(1),e.k0s()),2&H){const P=Y.$implicit;e.Y8G("value",P.id),e.R7$(),e.SpI(" ",P.name," ")}}function z(H,Y){if(1&H){const P=e.RV6();e.j41(0,"div",22),e.nrm(1,"div",23),e.j41(2,"mat-form-field",13)(3,"mat-select",24),e.mxI("ngModelChange",function($){const B=e.eBV(P).$implicit;return e.DH7(B[0],$)||(B[0]=$),e.Njj($)}),e.DNE(4,O,2,2,"mat-option",25),e.k0s()(),e.j41(5,"mat-form-field",13)(6,"input",26),e.mxI("ngModelChange",function($){const B=e.eBV(P).$implicit;return e.DH7(B[1],$)||(B[1]=$),e.Njj($)}),e.k0s(),e.j41(7,"mat-error"),e.EFF(8,"Rule value is required"),e.k0s()(),e.j41(9,"button",27),e.bIt("click",function(){const $=e.eBV(P).index,B=e.XpG().$implicit;return e.Njj(B.rules.splice($,1))}),e.j41(10,"app-icon"),e.EFF(11,"delete"),e.k0s()()()}if(2&H){const P=Y.$implicit,U=e.XpG(2);e.R7$(3),e.R50("ngModel",P[0]),e.R7$(),e.Y8G("ngForOf",U.rule_types),e.R7$(2),e.R50("ngModel",P[1])}}function G(H,Y){if(1&H){const P=e.RV6();e.j41(0,"div",11)(1,"div",12)(2,"mat-form-field",13)(3,"input",14),e.mxI("ngModelChange",function($){const B=e.eBV(P).$implicit;return e.DH7(B.name,$)||(B.name=$),e.Njj($)}),e.k0s(),e.j41(4,"mat-error"),e.EFF(5,"Ruleset name is required"),e.k0s()(),e.j41(6,"button",15)(7,"app-icon"),e.EFF(8,"more_vert"),e.k0s()(),e.j41(9,"mat-menu",null,0)(11,"button",16),e.bIt("click",function(){const $=e.eBV(P).$implicit,B=e.XpG();return $.rules.push(["",""]),e.Njj(B.show_rules=$.id)}),e.j41(12,"div",17)(13,"app-icon",18),e.EFF(14,"add"),e.k0s(),e.j41(15,"div"),e.EFF(16,"Add Rule"),e.k0s()()(),e.j41(17,"button",16),e.bIt("click",function(){const $=e.eBV(P).$implicit,B=e.XpG();return e.Njj(B.show_rules=B.show_rules!==$.id?$.id:"")}),e.j41(18,"div",17)(19,"app-icon",18),e.EFF(20),e.k0s(),e.j41(21,"div"),e.EFF(22),e.k0s()()(),e.j41(23,"button",16),e.bIt("click",function(){const $=e.eBV(P).index,B=e.XpG();return e.Njj(B.rulesets.splice($,1))}),e.j41(24,"div",19)(25,"app-icon",18),e.EFF(26,"delete"),e.k0s(),e.j41(27,"div"),e.EFF(28,"Remove Ruleset"),e.k0s()()()()(),e.j41(29,"div",20),e.DNE(30,z,12,3,"div",21),e.k0s()()}if(2&H){const P=Y.$implicit,U=e.sdS(10),$=e.XpG();e.R7$(3),e.R50("ngModel",P.name),e.R7$(3),e.Y8G("matMenuTriggerFor",U),e.R7$(14),e.JRh($.show_rules===P.id?"expand_less":"expand_more"),e.R7$(2),e.SpI(" ",$.show_rules===P.id?"Hide":"Show"," Rules "),e.R7$(7),e.xc7("height",($.show_rules===P.id?4*P.rules.length:0)+"em"),e.R7$(),e.Y8G("ngForOf",P.rules)}}const K=[{id:"after_hour",name:"After Hour of Day"},{id:"before_hour",name:"Before Hour of Day"},{id:"min_length",name:"Min. Meeting Length"},{id:"max_length",name:"Max. Meeting Length"},{id:"is_before",name:"Is Hours before Meeting"},{id:"within_hours",name:"Within Hours before Meeting"},{id:"visitor_type",name:"Visitor Type"},{id:"groups",name:"User in Groups"}];let F=(()=>{class H extends d.Tv{get new_id(){return"ruleset-"+Math.floor(99999999*Math.random())}get can_save_notes(){return!!this._data.saveNotes}constructor(P){super(),this._data=P,this.event=new e.bkB,this.loading=!1,this.require_notes=this._data.require_notes,this.resource_name=this._data.resource_name||"Catering",this.rule_types=K,this.rulesets=(P.config||[]).map(U=>(U.rules=U.rules.map($=>[$[0],JSON.stringify($[1])]),U))}saveNotesSetting(P){this.timeout("save-notes",()=>this._data.saveNotes?this._data.saveNotes(P):"",1e3)}saveChanges(){this.loading=!0;const P=this.rulesets.map(U=>({...U,rules:U.rules.map($=>{let B=$[1];try{B=JSON.parse($[1])}catch{}return[$[0],B]})}));this.event.emit({reason:"done",metadata:P})}static#e=this.\u0275fac=function(U){return new(U||H)(e.rXU(i.Vh))};static#t=this.\u0275cmp=e.VBU({type:H,selectors:[["attached-resource-config-modal"]],outputs:{event:"event"},features:[e.Vt3],decls:12,vars:4,consts:[["menu","matMenu"],["icon","","mat-dialog-close","",4,"ngIf"],[1,"overflow-auto","text-center","max-w-lg","min-w-[32rem]","px-4","pt-2","pb-4","space-y-2"],["class","text-left p-2 rounded bg-base-200",4,"ngIf"],["btn","","matRipple","",1,"w-full",3,"click"],["class","ruleset mb-2",4,"ngFor","ngForOf"],[1,"flex","py-2","px-4","items-center","justify-end","border-t","border-solid","border-base-200"],["btn","","matRipple","",1,"w-36",3,"click"],["icon","","mat-dialog-close",""],[1,"text-left","p-2","rounded","bg-base-200"],[3,"ngModelChange","ngModel"],[1,"ruleset","mb-2"],[1,"flex","items-center","mb-2","space-x-2"],["appearance","outline",1,"flex-1","no-subscript"],["matInput","","name","name","placeholder","Zone ID, Category or Tag","required","",3,"ngModelChange","ngModel"],["icon","","matRipple","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],[1,"flex","items-center","space-x-2"],[1,"text-2xl"],[1,"flex","items-center","space-x-2","text-error"],["name","rules",1,"overflow-hidden"],["class","flex items-center pl-7 h-16 space-x-2 relative",4,"ngFor","ngForOf"],[1,"flex","items-center","pl-7","h-16","space-x-2","relative"],[1,"absolute","left-3","top-1/2","-translate-y-full","w-4","h-32","border-b-2","border-l-2","border-base-200"],["name","booking-type","placeholder","Select Rule",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["matInput","","name","value","placeholder","Rule value","required","",3,"ngModelChange","ngModel"],["icon","","matRipple","",3,"click"],[3,"value"]],template:function(U,$){1&U&&(e.j41(0,"header")(1,"h3"),e.EFF(2),e.k0s(),e.DNE(3,A,3,0,"button",1),e.k0s(),e.j41(4,"main",2),e.DNE(5,v,3,1,"div",3),e.j41(6,"button",4),e.bIt("click",function(){return $.rulesets.push({id:$.new_id,rules:[]})}),e.EFF(7," New Ruleset "),e.k0s(),e.DNE(8,G,31,7,"div",5),e.k0s(),e.j41(9,"footer",6)(10,"button",7),e.bIt("click",function(){return $.saveChanges()}),e.EFF(11," Save Changes "),e.k0s()()),2&U&&(e.R7$(2),e.SpI("Edit ",$.resource_name," Configuration"),e.R7$(),e.Y8G("ngIf",!$.loading),e.R7$(2),e.Y8G("ngIf",$.can_save_notes),e.R7$(3),e.Y8G("ngForOf",$.rulesets))},dependencies:[p.Sq,p.bT,m.me,m.BC,m.YS,m.vS,_.wT,g.kk,g.fb,g.Cp,b.rl,b.TL,u.VO,_.r6,i.tx,S.fg,D.So,E.R],styles:["[name=rules][_ngcontent-%COMP%]{transition:height .2s}"]})}return H})()},3208:(Mt,pe,a)=>{"use strict";a.d(pe,{U:()=>_});var e=a(467),i=a(7375),d=a(9596),p=a(3953);const m=new Map;let _=(()=>{class g extends i.Tv{constructor(u){super(),this._image_el=u}ngOnChanges(u){u.source&&this.source&&this._loadImage()}_loadImage(){var u=this;return(0,e.A)(function*(){if(!u._image_el||!(0,d.kup)())return u.timeout("load",()=>u._loadImage(),300);if(!u.source.includes("/api/engine/v2/uploads"))return void(u._image_el.nativeElement.src=u.source);if(m.has(u.source))return void(u._image_el.nativeElement.src=m.get(u.source));const S=(0,d.ShT)();document.cookie=`${"x-api-key"===S?"api-key="+encodeURIComponent((0,d.Kz4)()):"bearer_token="+encodeURIComponent(S)};max-age=30;path=/api/engine/v2/uploads;samesite=strict;${"https:"===location.protocol?"secure;":""}`;let D=null;try{D=yield fetch(u.source).catch(v=>null)}catch{}if(!D||!D.ok)return void console.info("Failed to load image:",u.source);const E=yield D.blob(),A=URL.createObjectURL(E);m.set(u.source,A),u._image_el.nativeElement.src=A})()}static#e=this.\u0275fac=function(S){return new(S||g)(p.rXU(p.aKT))};static#t=this.\u0275dir=p.FsC({type:g,selectors:[["img","auth",""],["video","auth",""]],inputs:{source:"source"},features:[p.Vt3,p.OA$]})}return g})()},375:(Mt,pe,a)=>{"use strict";a.d(pe,{D:()=>z});var e=a(467),i=a(3953),d=a(7375),p=a(2185),m=a(8363),_=a(9493),g=a(4006),b=a(177),u=a(6600),S=a(9183),D=a(2765),E=a(9434);function A(G,K){if(1&G){const F=i.RV6();i.j41(0,"tr",14),i.bIt("click",function(){const Y=i.eBV(F).$implicit,P=i.XpG(2);return i.Njj(P.toggleRoom(Y.id))}),i.j41(1,"td"),i.nrm(2,"mat-checkbox",15),i.k0s(),i.j41(3,"td"),i.EFF(4),i.k0s(),i.j41(5,"td",16)(6,"div",17),i.EFF(7),i.k0s()()()}if(2&G){const F=K.$implicit,H=i.XpG(2);i.R7$(2),i.Y8G("checked",H.selected.includes(F.id)),i.R7$(2),i.JRh(F.display_name||F.name),i.R7$(2),i.AVh("bg-success",!(null!=H.disabled_rooms&&H.disabled_rooms.includes(F.id)))("bg-error",null==H.disabled_rooms?null:H.disabled_rooms.includes(F.id)),i.R7$(),i.SpI(" ",null!=H.disabled_rooms&&H.disabled_rooms.includes(F.id)?"Disabled":"Enabled"," ")}}function v(G,K){if(1&G){const F=i.RV6();i.j41(0,"main",7)(1,"table",8)(2,"thead",9)(3,"tr")(4,"td",10),i.bIt("click",function(){i.eBV(F);const Y=i.XpG();return i.Njj(Y.toggleRoom("*"))}),i.nrm(5,"mat-checkbox",11),i.nI1(6,"async"),i.nI1(7,"async"),i.k0s(),i.nrm(8,"td"),i.j41(9,"td",12),i.EFF(10),i.nI1(11,"async"),i.k0s()()(),i.j41(12,"tbody"),i.DNE(13,A,8,7,"tr",13),i.nI1(14,"async"),i.k0s()()()}if(2&G){let F,H,Y;const P=i.XpG();i.R7$(5),i.Y8G("checked",(null==(F=i.bMT(6,4,P.rooms))?null:F.length)===P.selected.length)("indeterminate",P.selected.length>0&&(null==(H=i.bMT(7,6,P.rooms))?null:H.length)!==P.selected.length),i.R7$(5),i.SpI(" ",null==(Y=i.bMT(11,8,P.rooms))?null:Y.length," Room(s) "),i.R7$(3),i.Y8G("ngForOf",i.bMT(14,10,P.rooms))}}function O(G,K){1&G&&(i.j41(0,"main",18),i.nrm(1,"mat-spinner",19),i.j41(2,"p"),i.EFF(3,"Saving disabled room list..."),i.k0s()())}let z=(()=>{class G{constructor(F,H){this._data=F,this._org=H,this.change=new i.bkB,this.loading=!1,this.selected=[],this.rooms=(0,m.Ot)(this._org.building.id),this.type=this._data.type,this.disabled_rooms=this._data.disabled_rooms}toggleRoom(F){var H=this;return(0,e.A)(function*(){if("*"===F){const Y=yield H.rooms.pipe((0,_.s)(1)).toPromise();H.selected=H.selected.length!==Y.length?Y.map(P=>P.id):[]}else H.selected=H.selected.includes(F)?H.selected.filter(Y=>Y!==F):[...H.selected,F]})()}enableSelected(){var F=this;return(0,e.A)(function*(){F.loading=!0;const Y=F.disabled_rooms.filter(P=>!F.selected.includes(P));F.disabled_rooms=Y,F.change.next(Y)})()}disableSelected(){var F=this;return(0,e.A)(function*(){F.loading=!0;const Y=(0,d.Am)(F.disabled_rooms.concat(F.selected));F.disabled_rooms=Y,F.change.next(Y)})()}static#e=this.\u0275fac=function(H){return new(H||G)(i.rXU(g.Vh),i.rXU(p.yb))};static#t=this.\u0275cmp=i.VBU({type:G,selectors:[["catering-rooms-state-modal"]],outputs:{change:"change"},decls:15,vars:3,consts:[["load_state",""],[1,"flex","items-center","justify-between","p-2"],[1,"p-2"],["icon","","mat-dialog-close",""],["class","max-h-[65vh] overflow-auto",4,"ngIf","ngIfElse"],[1,"flex","items-center","p-2","justify-end","space-x-2","border-t","border-base-200"],["btn","","matRipple","",3,"click"],[1,"max-h-[65vh]","overflow-auto"],[1,"min-w-[32rem]"],[1,"border-b","border-base-200"],[1,"w-12",3,"click"],[1,"pointer-events-none",3,"checked","indeterminate"],[1,"text-right","text-xs"],["class","hover:bg-neutral:bg-base-100/5",3,"click",4,"ngFor","ngForOf"],[1,"hover:bg-neutral:bg-base-100/5",3,"click"],[1,"pointer-events-none",3,"checked"],[1,"text-center"],[1,"ml-auto","px-3","py-1","rounded-2xl","text-white","w-24"],[1,"w-64","h-48","p-8","flex","flex-col","items-center","justify-center","space-y-2"],["diameter","32"]],template:function(H,Y){if(1&H){const P=i.RV6();i.j41(0,"div")(1,"header",1)(2,"h3",2),i.EFF(3),i.k0s(),i.j41(4,"button",3)(5,"app-icon"),i.EFF(6,"close"),i.k0s()()(),i.DNE(7,v,15,12,"main",4),i.j41(8,"footer",5)(9,"button",6),i.bIt("click",function(){return i.eBV(P),i.Njj(Y.enableSelected())}),i.EFF(10," Enable Selected "),i.k0s(),i.j41(11,"button",6),i.bIt("click",function(){return i.eBV(P),i.Njj(Y.disableSelected())}),i.EFF(12," Disable Selected "),i.k0s()()(),i.DNE(13,O,4,0,"ng-template",null,0,i.C5r)}if(2&H){const P=i.sdS(14);i.R7$(3),i.SpI("Set ",Y.type," Availability for Rooms"),i.R7$(4),i.Y8G("ngIf",!Y.loading)("ngIfElse",P)}},dependencies:[b.Sq,b.bT,u.r6,g.tx,S.LG,D.So,E.R,b.Jj],styles:["td[_ngcontent-%COMP%]{padding:.5rem}"]})}return G})()},3938:(Mt,pe,a)=>{"use strict";a.d(pe,{J:()=>_});var e=a(3953),i=a(9596),d=a(7375),p=a(4046),m=a(8728);let _=(()=>{class g extends d.Tv{constructor(u,S){super(),this._element=u,this._renderer=S,this.sys="",this.mod="",this.index=1,this.bind="",this.exec="",this.delay=100,this.on_event="",this.params=null,this.ignore=!1,this.model=null,this.modelChange=new e.bkB,this._binding=!1,this._old_model=null}ngOnInit(){(0,i.XYg)()?.pipe((0,p.$)(u=>u)).subscribe(u=>this.bindVariable())}ngOnChanges(u){(u.sys||u.mod||u.bind)&&this.bindVariable(),u.model&&this._old_model!==this.model&&null!=this.model&&(this._old_model=this.model,this.execute()),u.on_event&&this.on_event&&this.subscription("on_event",this._renderer.listen(this._element.nativeElement,this.on_event,()=>this.execute()))}bindVariable(){(0,i.kup)()&&this.bind&&this.sys&&this.mod&&!this._binding&&this.timeout("bind",()=>{const S=(0,i.f_4)(this.sys,this.mod,this.index).binding(this.bind);this._binding=!0,this.subscription("binding",S.bind()),this.subscription("on_changes",S.listen().pipe((0,m.p)(D=>null!=D)).subscribe(D=>{setTimeout(()=>{this._binding=!1,this.clearTimeout("bound"),!this.ignore&&(this.model=D,this._old_model=this.model,this.modelChange.emit(this.model))},10)})),this.timeout("bound",()=>this._binding=!1,200)},20)}execute(){(0,i.kup)()&&this.exec&&this.sys&&this.mod&&!this._timers.execute&&this.timeout("execute",()=>{const u=(0,i.f_4)(this.sys,this.mod,this.index);let S=this.params;this.bind&&(S=this.params||[this.model]),u.execute(this.exec,S||[]).then(D=>{this.bind||(this.model=D,this._old_model=this.model,this.modelChange.emit(this.model))})},this.delay)}static#e=this.\u0275fac=function(S){return new(S||g)(e.rXU(e.aKT),e.rXU(e.sFG))};static#t=this.\u0275dir=e.FsC({type:g,selectors:[["i","bind",""],["","binding",""],["co-bind"]],inputs:{sys:"sys",mod:"mod",index:"index",bind:"bind",exec:"exec",delay:"delay",on_event:[0,"onEvent","on_event"],params:"params",ignore:"ignore",model:"model"},outputs:{modelChange:"modelChange"},features:[e.Vt3,e.OA$]})}return g})()},5550:(Mt,pe,a)=>{"use strict";a.d(pe,{C:()=>u});var e=a(6815),i=a(2185),d=a(3953),p=a(177),m=a(9417),_=a(5951),g=a(9434);function b(S,D){if(1&S){const E=d.RV6();d.j41(0,"mat-radio-button",8),d.bIt("click",function(){const v=d.eBV(E).$implicit,O=d.XpG();return d.Njj(O.setBuilding(v))}),d.EFF(1),d.k0s()}if(2&S){const E=D.$implicit;d.Y8G("value",E.id),d.R7$(),d.SpI(" ",E.display_name||E.name," ")}}let u=(()=>{class S{constructor(E,A){this._data=E,this._org=A,this.buildings=this._org.active_buildings,this.building=this._org.active_building,this.setBuilding=v=>{this._org.building=v,this._org.saveBuilding(v.id),this._data?.close()},this.close=()=>this._data?.close()}static#e=this.\u0275fac=function(A){return new(A||S)(d.rXU(e.Dd),d.rXU(i.yb))};static#t=this.\u0275cmp=d.VBU({type:S,selectors:[["building-select"]],decls:14,vars:11,consts:()=>{let E;return E=$localize`:f6bc545a20f571c426f74d4d3522b71334f2b8454543839253815117286: Select a building location `,[E,[1,"flex","flex-col","w-[18.5rem]","rounded","bg-base-100","shadow","p-2","relative","-top-12","-right-1","overflow-auto","max-h-[65vh]",3,"click"],[1,"flex","items-center","space-x-2"],[1,"text-2xl"],[1,""],[1,"text-xs","opacity-60","mb-4","px-2"],[1,"flex","flex-col","space-y-2","px-2",3,"ngModel"],[3,"value","click",4,"ngFor","ngForOf"],[3,"click","value"]]},template:function(A,v){if(1&A&&(d.j41(0,"div",1),d.bIt("click",function(){return v.close()}),d.j41(1,"div",2)(2,"app-icon",3),d.EFF(3,"arrow_back"),d.k0s(),d.j41(4,"div",4),d.EFF(5),d.nI1(6,"async"),d.nI1(7,"async"),d.k0s()(),d.j41(8,"div",5),d.pXf(9,0),d.k0s(),d.j41(10,"mat-radio-group",6),d.nI1(11,"async"),d.DNE(12,b,2,2,"mat-radio-button",7),d.nI1(13,"async"),d.k0s()()),2&A){let O,z;d.R7$(5),d.SpI(" ",(null==(O=d.bMT(6,3,v.building))?null:O.display_name)||(null==(O=d.bMT(7,5,v.building))?null:O.name)," "),d.R7$(5),d.Y8G("ngModel",null==(z=d.bMT(11,7,v.building))?null:z.id),d.R7$(2),d.Y8G("ngForOf",d.bMT(13,9,v.buildings))}},dependencies:[p.Sq,m.BC,m.vS,_.VT,_._g,g.R,p.Jj]})}return S})()},6062:(Mt,pe,a)=>{"use strict";a.d(pe,{b:()=>d});var e=a(2185),i=a(3953);let d=(()=>{class p{constructor(_){this._org=_}transform(_){return this._org.buildings.find(g=>_ instanceof Array?_.includes(g.id):g.id===_)}static#e=this.\u0275fac=function(g){return new(g||p)(i.rXU(e.yb,16))};static#t=this.\u0275pipe=i.EJ8({name:"building",type:p,pure:!0})}return p})()},5991:(Mt,pe,a)=>{"use strict";a.d(pe,{l:()=>u});var e=a(4006),i=a(222),d=a(3953),p=a(177),m=a(9434),_=a(6781);function g(S,D){if(1&S&&(d.nrm(0,"main",4),d.nI1(1,"safe")),2&S){const E=d.XpG();d.Y8G("innerHTML",d.i5U(1,1,E.changelog,"html"),d.npT)}}function b(S,D){1&S&&(d.j41(0,"div",5)(1,"app-icon",6),d.EFF(2,"close"),d.k0s(),d.j41(3,"div",7),d.EFF(4,"No changelog"),d.k0s()())}let u=(()=>{class S{constructor(E){this._data=E}get changelog(){return(0,i.xI)(this._data.changelog||"",{async:!1})}static#e=this.\u0275fac=function(A){return new(A||S)(d.rXU(e.Vh))};static#t=this.\u0275cmp=d.VBU({type:S,selectors:[["changelog-modal"]],decls:9,vars:2,consts:[["empty_state",""],["mat-dialog-title",""],["icon","","mat-dialog-close",""],["class","p-4 markdown max-h-[65vh] max-w-[80vw] overflow-auto",3,"innerHTML",4,"ngIf","ngIfElse"],[1,"p-4","markdown","max-h-[65vh]","max-w-[80vw]","overflow-auto",3,"innerHTML"],[1,"flex","items-center","justify-center","flex-col","space-y-2"],[1,"text-3xl"],[1,"text"]],template:function(A,v){if(1&A&&(d.j41(0,"header")(1,"h3",1),d.EFF(2,"Changelog"),d.k0s(),d.j41(3,"button",2)(4,"app-icon"),d.EFF(5,"close"),d.k0s()()(),d.DNE(6,g,2,4,"main",3)(7,b,5,0,"ng-template",null,0,d.C5r)),2&A){const O=d.sdS(8);d.R7$(6),d.Y8G("ngIf",v.changelog)("ngIfElse",O)}},dependencies:[p.bT,e.tx,e.BI,m.R,_.m]})}return S})()},7080:(Mt,pe,a)=>{"use strict";a.d(pe,{K:()=>Q});var e=a(7375),i=a(2185),d=a(9596),p=a(9928),m=a(9714),_=a(8728),g=a(5006),b=a(9090),u=a(8712),S=a(4119),D=a(222),E=a(3953);let A=(()=>{class te extends e.Tv{get connected(){return!!this._socket}constructor(ee,k){super(),this._org=ee,this._settings=k,this._binding=new p.t(""),this._chat_messages=new p.t([]),this._progress_message=new p.t(null),this._chat_system=(0,m.zV)([this._org.active_building,this._binding]).pipe((0,_.p)(([J])=>!!J),(0,g.T)(([J,X])=>X||this._org.binding("chat_room"))),this._chat_id="",this.chat_hint=this._chat_system.pipe((0,_.p)(J=>!!J),(0,b.n)(J=>{const fe=(0,d.f_4)(J,"LLM").binding("user_hint");return this.subscription("binding:LLM:user_hint",fe.bind()),fe.listen()}),(0,u.t)(1)),this._change=new p.t(0),this._chat_pipe=(0,m.zV)([this._chat_system,this._change]).pipe((0,b.n)(([J])=>{const X="x-api-key"!==(0,d.ShT)()?`bearer_token=${encodeURIComponent((0,d.ShT)())}`:`x-api-key=${(0,d.Kz4)()}`,fe=`ws${location.origin.replace("http","")}/api/engine/v2/chatgpt/chat/${encodeURIComponent(J)}?${X}${this._chat_id?"&resume="+encodeURIComponent(this._chat_id):""}`;return this._socket=(0,S.K)({url:fe,serializer:Me=>"object"==typeof Me?JSON.stringify(Me):Me,deserializer:Me=>{let Ze=Me.data;try{Ze=JSON.parse(Me.data)}catch{}return Ze}}),this.subscription("chat-ws",this._socket.subscribe(Me=>this._onMessage(Me),Me=>{(0,e.Rm)("CHAT","Connection error:",[Me],"error"),this._cleanup()},()=>this._cleanup())),this._socket}),(0,u.t)(1)),this.messages=this._chat_messages.asObservable(),this.progress=this._progress_message.asObservable()}setBinding(ee){this._binding.next(ee)}startChat(){if(!this._socket)return this._change.next(Date.now()),(0,e.Rm)("CHAT","Starting chat connection."),this.subscription("chat",this._chat_pipe.subscribe()),()=>this.endChat()}endChat(){(0,e.Rm)("CHAT","Dropping chat connection."),this._socket?.complete(),this._cleanup()}close(){this.endChat(),this._chat_id="",this._chat_messages.next([])}sendMessage(ee){ee&&(this._onMessage({chat_id:"",message:ee,user_id:(0,e.Ny)().id}),this._socket?.next(ee))}_timeoutSocket(ee=55e3){this.timeout("socket",()=>{const k=this._chat_messages.getValue();if(k.length>0&&"assistant"!==k[k.length-1].user_id)return this._timeoutSocket(ee);this.endChat()},ee)}_cleanup(){this._socket=null,this.unsubWith("chat")}_onMessage(ee){ee.chat_id&&(this._chat_id=ee.chat_id),"progress"===ee.type?(this._progress_message.next({id:`msg-${(0,e.DU)(6)}`,chat_id:ee.chat_id,message:ee.message,content:D.qg(ee.message,{async:!1}),user_id:ee.user_id||"assistant",function:ee.function,timestamp:Date.now()}),"task_complete"===ee.function&&this._settings.post("CHAT:task_complete",ee.task_id)):(this._chat_messages.next([...this._chat_messages.getValue(),{id:`msg-${(0,e.DU)(6)}`,chat_id:ee.chat_id,message:ee.message,content:D.qg(ee.message,{async:!1}),user_id:ee.user_id||"assistant",timestamp:Date.now()}]),"response"===ee.type&&this._progress_message.next(null)),this._timeoutSocket()}static#e=this.\u0275fac=function(k){return new(k||te)(E.KVO(i.yb),E.KVO(e.h$))};static#t=this.\u0275prov=E.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})();var v=a(177),O=a(9417),z=a(6600),G=a(9434),K=a(4616),F=a(7025);const H=["input"],Y=["container"];function P(te,R){if(1&te&&(E.j41(0,"div",21),E.EFF(1),E.nI1(2,"async"),E.k0s()),2&te){const ee=E.XpG(3);E.R7$(),E.SpI(" ",E.bMT(2,1,ee.hint)," ")}}function U(te,R){1&te&&(E.j41(0,"div",27),E.EFF(1," Assistant "),E.k0s())}function $(te,R){if(1&te){const ee=E.RV6();E.j41(0,"div",22),E.nI1(1,"async"),E.bIt("click",function(){const J=E.eBV(ee).$implicit,X=E.XpG(3);return E.Njj(X.show_time[J.id]=!X.show_time[J.id])}),E.j41(2,"div",23),E.DNE(3,U,2,0,"div",24),E.j41(4,"div",25),E.EFF(5),E.nI1(6,"dateFrom"),E.k0s()(),E.nrm(7,"div",26),E.nI1(8,"sanitize"),E.k0s()}if(2&te){const ee=R.$implicit,k=E.XpG(3);E.AVh("pr-4",ee.user_id!==k.user.id)("pl-4",ee.user_id===k.user.id)("items-left",ee.user_id!==k.user.id)("items-end",ee.user_id===k.user.id)("waiting-margin",E.bMT(1,13,k.waiting)),E.R7$(3),E.Y8G("ngIf",ee.user_id!==k.user.id),E.R7$(2),E.SpI(" ",E.bMT(6,15,ee.timestamp+k.offset)," "),E.R7$(2),E.Y8G("innerHTML",E.bMT(8,17,ee.content),E.npT)}}function B(te,R){if(1&te&&(E.nrm(0,"div",35),E.nI1(1,"async"),E.nI1(2,"sanitize")),2&te){const ee=E.XpG(4);E.Y8G("innerHTML",E.bMT(2,3,E.bMT(1,1,ee.progress).content),E.npT)}}function y(te,R){if(1&te){const ee=E.RV6();E.j41(0,"div",28)(1,"button",29),E.bIt("click",function(){E.eBV(ee);const J=E.XpG(3);return E.Njj(J.show_info=!J.show_info)}),E.j41(2,"div",23)(3,"app-icon",30),E.EFF(4),E.nI1(5,"async"),E.k0s(),E.j41(6,"p",31),E.EFF(7),E.nI1(8,"async"),E.nI1(9,"async"),E.k0s()(),E.j41(10,"div",32),E.nrm(11,"div",33),E.DNE(12,B,3,5,"div",34),E.k0s()()()}if(2&te){const ee=E.XpG(3);E.R7$(4),E.JRh(ee.icons[E.bMT(5,3,ee.progress).function]||"info"),E.R7$(3),E.SpI(" ",E.bMT(8,5,ee.progress).message||E.bMT(9,7,ee.progress).function," "),E.R7$(5),E.Y8G("ngIf",ee.show_info)}}function I(te,R){if(1&te&&(E.j41(0,"div",36),E.nrm(1,"div",37)(2,"div",38)(3,"div",39),E.j41(4,"span",40),E.EFF(5,"Waiting for reply..."),E.k0s()()),2&te){const ee=E.XpG(3);E.xc7("bottom",ee.height+8+"px")}}function w(te,R){if(1&te){const ee=E.RV6();E.j41(0,"div",6)(1,"div",7)(2,"h3",8),E.EFF(3,"Virtual Assistant"),E.k0s(),E.j41(4,"button",9),E.bIt("click",function(){E.eBV(ee);const J=E.XpG(2);return E.Njj(J.toggleChat())}),E.j41(5,"app-icon"),E.EFF(6,"close"),E.k0s()()(),E.j41(7,"div",10,0)(9,"div",11)(10,"app-icon",12),E.EFF(11,"forum"),E.k0s(),E.j41(12,"p",13),E.EFF(13),E.nrm(14,"br"),E.EFF(15," Welcome to the virtual assistant. "),E.k0s()(),E.DNE(16,P,3,3,"div",14),E.nI1(17,"async"),E.DNE(18,$,9,19,"div",15),E.nI1(19,"async"),E.DNE(20,y,13,9,"div",16),E.nI1(21,"async"),E.k0s(),E.DNE(22,I,6,2,"div",17),E.nI1(23,"async"),E.j41(24,"div",18)(25,"textarea",19,1),E.mxI("ngModelChange",function(J){E.eBV(ee);const X=E.XpG(2);return E.DH7(X.message,J)||(X.message=J),E.Njj(J)}),E.bIt("ngModelChange",function(){E.eBV(ee);const J=E.XpG(2);return E.Njj(J.resizeInput())})("keyup.enter",function(){E.eBV(ee);const J=E.XpG(2);return E.Njj(J.sendMessage())}),E.k0s(),E.j41(27,"button",20),E.bIt("click",function(){E.eBV(ee);const J=E.XpG(2);return E.Njj(J.sendMessage())}),E.j41(28,"app-icon"),E.EFF(29,"send"),E.k0s()()()()}if(2&te){const ee=E.XpG(2);E.R7$(13),E.SpI(" Hi ",ee.user.name,". "),E.R7$(3),E.Y8G("ngIf",E.bMT(17,9,ee.hint)),E.R7$(2),E.Y8G("ngForOf",E.bMT(19,11,ee.messages)),E.R7$(2),E.Y8G("ngIf",E.bMT(21,13,ee.progress)),E.R7$(2),E.Y8G("ngIf",E.bMT(23,15,ee.waiting)),E.R7$(3),E.xc7("height",ee.height+"px"),E.R50("ngModel",ee.message),E.R7$(2),E.Y8G("disabled",!ee.message)}}function L(te,R){if(1&te){const ee=E.RV6();E.j41(0,"div",3)(1,"button",4),E.bIt("click",function(){E.eBV(ee);const J=E.XpG();return E.Njj(J.toggleChat())}),E.j41(2,"app-icon"),E.EFF(3,"chat"),E.k0s()(),E.DNE(4,w,30,17,"div",5),E.k0s()}if(2&te){const ee=E.XpG();E.R7$(4),E.Y8G("ngIf",ee.show)}}let Q=(()=>{class te extends e.Tv{get can_show(){return this._settings.get("app.chat.enabled")}toggleChat(){this.show=!this.show,this.show||this._chat.close()}constructor(ee,k){super(),this._settings=ee,this._chat=k,this.show=!1,this.show_info=!1,this.message="",this.show_time={},this.offset=0,this.height=56,this.icons={list_function_schemas:"help",call_function:"settings",task_complete:"check_circle"},this.hint=this._chat.chat_hint,this.messages=this._chat.messages,this.progress=this._chat.progress,this.waiting=this._chat.messages.pipe((0,g.T)(J=>0!==J.length&&J[J.length-1]?.user_id===this.user?.id))}ngOnInit(){this.subscription("current_user",e.U5.subscribe(ee=>this.user=ee)),this.subscription("hint",this.hint.subscribe(()=>this.scrollToBottom(500))),this.subscription("messages",this.messages.subscribe(()=>this.scrollToBottom())),this.subscription("progress",this.progress.subscribe(ee=>ee?this.scrollToBottom():this.show_info=!1)),this.interval("offset",()=>this.offset=this.offset?0:1,2e4)}resizeInput(){this.height=Math.max(this._input_el.nativeElement.scrollHeight,56)}sendMessage(){if(this.message){if(!this._chat.connected)return this._chat.startChat(),this.timeout("send",()=>this.sendMessage(),100);this._chat.sendMessage(this.message),this.message="",this.height=56,setTimeout(()=>this._input_el.nativeElement.focus(),100)}}scrollToBottom(ee=300){this.timeout("scroll",()=>{this._container_el?.nativeElement&&(this._container_el.nativeElement.scrollTop=this._container_el.nativeElement.scrollHeight)},ee)}static#e=this.\u0275fac=function(k){return new(k||te)(E.rXU(e.h$),E.rXU(A))};static#t=this.\u0275cmp=E.VBU({type:te,selectors:[["global-chat"]],viewQuery:function(k,J){if(1&k&&(E.GBs(H,5),E.GBs(Y,5)),2&k){let X;E.mGM(X=E.lsd())&&(J._input_el=X.first),E.mGM(X=E.lsd())&&(J._container_el=X.first)}},features:[E.Vt3],decls:1,vars:1,consts:[["container",""],["input",""],["class","absolute bottom-0 right-0 p-2",4,"ngIf"],[1,"absolute","bottom-0","right-0","p-2"],["icon","","matRipple","",1,"bg-base-100","rounded-full","border","border-base-300","shadow",3,"click"],["class","absolute bottom-2 right-2 bg-base-200 rounded-xl border border-base-300 shadow overflow-hidden w-[40rem] max-w-[calc(100vw-1rem)]",4,"ngIf"],[1,"absolute","bottom-2","right-2","bg-base-200","rounded-xl","border","border-base-300","shadow","overflow-hidden","w-[40rem]","max-w-[calc(100vw-1rem)]"],[1,"flex","items-center","justify-between","bg-base-100","w-full","p-2","border-b","border-base-300"],[1,"pl-4"],["icon","","matRipple","",3,"click"],[1,"h-[32rem]","max-h-[60vh]","overflow-auto"],[1,"w-full","flex","flex-col","items-center","justify-center","p-8","space-y-2"],[1,"text-8xl"],[1,"text-center","text-xl"],["class","m-2 bg-base-100 border-base-300 p-4 rounded shadow text-sm",4,"ngIf"],["class","flex flex-col m-2",3,"pr-4","pl-4","items-left","items-end","waiting-margin","click",4,"ngFor","ngForOf"],["class","p-4",4,"ngIf"],["class","absolute right-2 flex items-center justify-center space-x-2 p-1 rounded-2xl bg-base-100 border border-neutral",3,"bottom",4,"ngIf"],[1,"flex","bg-base-100","focus-within:outline","outline-info","border-t","border-base-300","max-h-[10rem]","overflow-y-auto"],["placeholder","New message...",1,"p-4","flex-1","w-1/2","focus:outline-none","resize-none","overflow-hidden",3,"ngModelChange","keyup.enter","ngModel"],["icon","","matRipple","",1,"mt-2",3,"click","disabled"],[1,"m-2","bg-base-100","border-base-300","p-4","rounded","shadow","text-sm"],[1,"flex","flex-col","m-2",3,"click"],[1,"flex","items-center","space-x-2"],["class","text-sm text-base-content opacity-60 px-2 py-1",4,"ngIf"],[1,"text-xs","text-base-content","opacity-40","px-2","py-1"],["message","",1,"bg-base-100","border-base-300","p-4","rounded","shadow","text-sm","markdown","selectable",3,"innerHTML"],[1,"text-sm","text-base-content","opacity-60","px-2","py-1"],[1,"p-4"],[1,"block","p-2","rounded","border-base-300","bg-info","text-info-content","w-full",3,"click"],[1,"text-2xl"],[1,"text-sm"],[1,"relative","overflow-hidden","w-full","rounded"],[1,"absolute","inset-0","bg-base-100","opacity-10"],["class","text-xs text-mono text-left p-2 break-words",3,"innerHTML",4,"ngIf"],[1,"text-xs","text-mono","text-left","p-2","break-words",3,"innerHTML"],[1,"absolute","right-2","flex","items-center","justify-center","space-x-2","p-1","rounded-2xl","bg-base-100","border","border-neutral"],[1,"h-2","w-2","bg-neutral","rounded-full","animate-bounce"],[1,"h-2","w-2","bg-neutral","rounded-full","animate-bounce","anim-delay-1"],[1,"h-2","w-2","bg-neutral","rounded-full","animate-bounce","anim-delay-2"],[1,"sr-only"]],template:function(k,J){1&k&&E.DNE(0,L,5,1,"div",2),2&k&&E.Y8G("ngIf",J.can_show)},dependencies:[v.Sq,v.bT,O.me,O.BC,O.vS,z.r6,G.R,v.Jj,K.a,F.l],styles:[".anim-delay-1[_ngcontent-%COMP%]{animation-delay:.25s}.anim-delay-2[_ngcontent-%COMP%]{animation-delay:.5s}.waiting-margin[_ngcontent-%COMP%]:last-child{padding-bottom:2rem}"]})}return te})()},4558:(Mt,pe,a)=>{"use strict";a.d(pe,{h:()=>Ke});var e=a(177),i=a(9417),d=a(4006),p=a(9115),m=a(3719),_=a(2798),g=a(850),b=a(5084),u=a(9631),S=a(6471),D=a(9183),E=a(3801),A=a(6600),v=a(6695),O=a(5887),z=a(6939),G=a(4823),K=a(2765),F=a(5951),H=a(3881),Y=a(450),P=a(5571),U=a(1626),$=a(1780),I=(a(3938),a(8157),a(9434)),L=(a(4418),a(1193)),te=(a(841),a(4918)),k=(a(1865),a(5384),a(3953));a(6781);var ve=a(4616),be=(a(2993),a(2238)),$e=(a(5080),a(4921),a(2042));a(7375),a(785);var Vt=a(620),qe=a(5277),ae=(a(7022),a(8283),a(8482)),Oe=a(3701),Kt=(a(2354),a(5991),a(3666),a(6062),a(4633)),$t=(a(5550),a(6962),a(6926),a(6539),a(3835),a(3208));a(6871),a(2124),a(4846),a(7080),a(7025),a(5843),a(907),a(375),a(8975);var Bt=a(9489),Xt=a(877),Ie=(a(7558),a(6821),a(8328),a(2897),a(3051));a(2326),a(5312);const Ue=[g.jL,p.Cn,m.RG,_.Ve,A.pZ,g.jL,_.Ve,d.hM,b.X6,u.fS,E.FQ,D.D6,S.YN,v.Ou,O.N0,z.jc,$e.NQ,Oe.E9,G.uc,K.g7,F.Wk,H.Ez,Y.mV,P.Vg];let Ke=(()=>{class xt{static#e=this.\u0275fac=function(En){return new(En||xt)};static#t=this.\u0275mod=k.$C({type:xt});static#n=this.\u0275inj=k.G2t({providers:[{provide:te.N,useValue:{}},(0,U.$R)((0,U.Sx)())],imports:[e.MD,i.YN,i.X1,$.h.forChild(),Ue,g.jL,p.Cn,m.RG,_.Ve,A.pZ,g.jL,_.Ve,d.hM,b.X6,u.fS,E.FQ,D.D6,S.YN,v.Ou,O.N0,z.jc,$e.NQ,Oe.E9,G.uc,K.g7,F.Wk,H.Ez,Y.mV,P.Vg,$.h]})}return xt})();k.wjB(L.a,function(){return[e.bT,$t.U]},[]),k.wjB(te.S,function(){return[e.bT,A.r6,G.oV,I.R,Bt.F,Xt.B]},function(){return[e.Jj]}),k.wjB(Vt.V,function(){return[e.bT,A.r6,d.tx,D.LG,I.R,te.S]},[]),k.wjB(qe.H,function(){return[e.Sq,e.bT,A.r6,I.R,$t.U]},[]),k.wjB(ae.O,function(){return[e.Sq,e.bT,e.ux,e.e1,e.fG,i.me,i.BC,i.vS,A.r6,Oe.yg,Oe.E$,Oe.d6,I.R,be.I]},function(){return[e.Jj,e.vh,ve.a]}),k.wjB(Kt.N,function(){return[e.bT,A.r6,G.oV,I.R,L.a,be.I,Ie.q]},function(){return[e.Jj,e.vh,$.D9]})},841:(Mt,pe,a)=>{"use strict";a.d(pe,{B:()=>E,f:()=>D});var e=a(3953),i=a(4006),d=a(5354),p=a(177),m=a(6600),_=a(9183),g=a(9434);function b(A,v){if(1&A&&(e.j41(0,"main",5),e.nrm(1,"app-icon",6)(2,"p",7),e.k0s()),2&A){const O=e.XpG();e.R7$(),e.Y8G("icon",O.icon),e.R7$(),e.Y8G("innerHTML",O.content,e.npT)}}function u(A,v){if(1&A){const O=e.RV6();e.j41(0,"footer",8)(1,"button",9),e.EFF(2),e.k0s(),e.j41(3,"button",10),e.bIt("click",function(){e.eBV(O);const G=e.XpG();return e.Njj(G.onConfirm())}),e.EFF(4),e.k0s()()}if(2&A){const O=e.XpG();e.R7$(2),e.SpI(" ",O.cancel_text," "),e.R7$(2),e.SpI(" ",O.confirm_text," ")}}function S(A,v){if(1&A&&(e.j41(0,"main",11)(1,"div",12),e.nrm(2,"mat-spinner",13),e.j41(3,"p"),e.EFF(4),e.k0s()()()),2&A){const O=e.XpG();e.R7$(4),e.JRh(O.loading)}}const D={height:"auto",width:"28em",maxHeight:"calc(100vh - 2em)",maxWidth:"calc(100vw - 2em)"};let E=(()=>{class A extends d.T{constructor(O,z){super(),this._dialog_ref=O,this._data=z,this.event=new e.bkB,this.title=this._data.title||"Confirm",this.content=this._data.content||"Are you sure?",this.confirm_text=this._data.confirm_text||"Accept",this.cancel_text=this._data.cancel_text||"Cancel",this.icon=this._data.icon||{class:"material-icons",content:"done"},this.disableClose=()=>this._dialog_ref.disableClose=!0,this.enableClose=()=>this._dialog_ref.disableClose=!1}ngOnInit(){this._data.close_delay&&this.timeout("close",()=>this._dialog_ref.close(),this._data.close_delay)}onConfirm(){this.event.emit({reason:"done"})}static#e=this.\u0275fac=function(z){return new(z||A)(e.rXU(i.CP),e.rXU(i.Vh))};static#t=this.\u0275cmp=e.VBU({type:A,selectors:[["confirm-modal"]],outputs:{event:"event"},features:[e.Vt3],decls:7,vars:4,consts:[["load_state",""],[1,"px-4","py-3"],[1,"font-medium","text-xl"],["class","flex flex-col items-center space-y-4 p-4 max-w-[80vw]",4,"ngIf","ngIfElse"],["class","flex items-center justify-center p-4 space-x-4",4,"ngIf"],[1,"flex","flex-col","items-center","space-y-4","p-4","max-w-[80vw]"],[1,"text-5xl",3,"icon"],["content","",1,"text-center",3,"innerHTML"],[1,"flex","items-center","justify-center","p-4","space-x-4"],["btn","","matRipple","","mat-dialog-close","",1,"inverse","flex-1"],["btn","","matRipple","","name","accept",1,"flex-1",3,"click"],["loading",""],[1,"w-full","h-48","flex","flex-col","items-center","justify-center","space-y-4"],["diameter","32"]],template:function(z,G){if(1&z&&(e.j41(0,"header",1)(1,"h3",2),e.EFF(2),e.k0s()(),e.DNE(3,b,3,2,"main",3)(4,u,5,2,"footer",4)(5,S,5,1,"ng-template",null,0,e.C5r)),2&z){const K=e.sdS(6);e.R7$(2),e.JRh(G.title),e.R7$(),e.Y8G("ngIf",!G.loading)("ngIfElse",K),e.R7$(),e.Y8G("ngIf",!G.loading)}},dependencies:[p.bT,m.r6,i.tx,_.LG,g.R]})}return A})()},2993:(Mt,pe,a)=>{"use strict";a.d(pe,{r:()=>P});var e=a(3953),i=a(6695),d=a(2042),p=a(6450),m=a(7375),_=a(5817),g=a(177),b=a(5887);const u=(U,$,B,y,I,w,L)=>({first:U,last:$,index:B,data:y,row:I,key:w,name:L});function S(U,$){if(1&U&&(e.j41(0,"div",12),e.EFF(1),e.k0s()),2&U){const B=e.XpG(),y=B.$implicit,I=B.index,w=e.XpG();e.xc7("width",(w.column_size[I]||"8")+"em")("flex","flex"===w.column_size[I]?"1":""),e.R7$(),e.SpI(" ",w.display_column[I]||y," ")}}function D(U,$){1&U&&(e.j41(0,"span",16),e.EFF(1," N/A "),e.k0s())}function E(U,$){if(1&U&&(e.qex(0),e.EFF(1),e.DNE(2,D,2,0,"span",15),e.bVm()),2&U){const B=e.XpG(2).$implicit,y=e.XpG().$implicit;e.R7$(),e.JRh(B[y]),e.R7$(),e.Y8G("ngIf",null==B[y]||""===B[y])}}function A(U,$){1&U&&e.eu8(0)}function v(U,$){if(1&U&&e.DNE(0,A,1,0,"ng-container",17),2&U){const B=e.XpG(2),y=B.$implicit,I=B.index,w=e.XpG(),L=w.$implicit,Q=w.index,te=e.XpG();e.Y8G("ngTemplateOutlet",te.template[L])("ngTemplateOutletContext",e.sGs(2,u,0===I,I===te.data_source.data.length-1||I===te.data_source.length-1,Q,y[L],y,L,te.display_column[Q]||L))}}function O(U,$){if(1&U&&(e.qex(0),e.DNE(1,E,3,2,"ng-container",14)(2,v,1,10,"ng-template",null,1,e.C5r),e.bVm()),2&U){const B=e.sdS(3),y=e.XpG(2).$implicit,I=e.XpG();e.R7$(),e.Y8G("ngIf",!I.template[y])("ngIfElse",B)}}function z(U,$){if(1&U&&(e.j41(0,"div",18),e.EFF(1),e.k0s()),2&U){const B=e.XpG().index;e.R7$(),e.JRh(B+1)}}function G(U,$){if(1&U&&(e.j41(0,"div",13),e.DNE(1,O,4,2,"ng-container",14)(2,z,2,1,"ng-template",null,0,e.C5r),e.k0s()),2&U){const B=e.sdS(3),y=e.XpG(),I=y.$implicit,w=y.index,L=e.XpG();e.xc7("width",(L.column_size[w]||"8")+"em")("flex","flex"===L.column_size[w]?"1":""),e.R7$(),e.Y8G("ngIf","_index"!==I)("ngIfElse",B)}}function K(U,$){if(1&U&&(e.qex(0)(1,9),e.DNE(2,S,2,5,"div",10)(3,G,4,6,"div",11),e.bVm()()),2&U){const B=$.$implicit;e.R7$(),e.Y8G("cdkColumnDef",B)}}function F(U,$){1&U&&e.nrm(0,"cdk-header-row",19)}function H(U,$){if(1&U){const B=e.RV6();e.j41(0,"cdk-row",20),e.bIt("click",function(){const I=e.eBV(B).$implicit,w=e.XpG();return e.Njj(w.row_clicked.emit(I))}),e.k0s()}}function Y(U,$){if(1&U&&(e.j41(0,"p",21),e.EFF(1),e.k0s()),2&U){const B=e.XpG();e.R7$(),e.SpI(" ",B.empty||"No data to display"," ")}}let P=(()=>{class U extends m.Tv{constructor(){super(...arguments),this.pagination=!1,this.page_size=7,this.column_size=[],this.template={},this.row_clicked=new e.bkB,this.data_source=new p.I6([])}ngAfterViewInit(){this.data_source.sort=this._sort,this.data_source.paginator=this.pagination?this._paginator:null,this.data_source.filterPredicate=(B,y)=>{for(const I in B){if("string"==typeof B[I]&&B[I].toLowerCase().includes(y.toLowerCase()))return!0;if(B[I]===y)return!0}return!1}}ngOnChanges(B){B.dataSource&&this.dataSource&&(this.dataSource instanceof _.c?this.subscription("data",this.dataSource.subscribe(y=>this.data_source.data=y)):this.data_source.data=this.dataSource),B.pagination&&(this.data_source.paginator=this.pagination?this._paginator:null),B.filter&&(this.data_source.filter=(this.filter||"").trim().toLowerCase()),B.columns&&this.columns&&(this.display_column=this.columns.map((y,I)=>(this.display_column||[])[I]||y.split("_").join(" "))),this.column_size||(this.column_size=[]),B.reset_page&&this.reset_page!==B.reset_page.previousValue&&this._paginator?.firstPage()}static#e=this.\u0275fac=(()=>{let B;return function(I){return(B||(B=e.xGo(U)))(I||U)}})();static#t=this.\u0275cmp=e.VBU({type:U,selectors:[["custom-table"]],viewQuery:function(y,I){if(1&y&&(e.GBs(i.iy,5),e.GBs(d.B4,5)),2&y){let w;e.mGM(w=e.lsd())&&(I._paginator=w.first),e.mGM(w=e.lsd())&&(I._sort=w.first)}},inputs:{dataSource:"dataSource",pagination:"pagination",page_size:"page_size",filter:"filter",display_column:"display_column",columns:"columns",column_size:"column_size",empty:"empty",template:"template",reset_page:"reset_page"},outputs:{row_clicked:"row_clicked"},features:[e.Vt3,e.OA$],decls:7,vars:8,consts:[["index_outlet",""],["cell_outlet",""],["matSort","",1,"block","border","border-base-200","divide-y","divide-base-200","text-sm",3,"dataSource"],[4,"ngFor","ngForOf"],["class","sticky flex items-center bg-base-100 top-0 z-10",4,"cdkHeaderRowDef"],["row","","class","flex z-0 relative hover:bg-neutral:bg-base-100/5 divide-x divide-base-200",3,"click",4,"cdkRowDef","cdkRowDefColumns"],["cdkNoDataRow",""],["footer","",3,"hidden"],[3,"pageSize","hidePageSize","showFirstLastButtons"],[3,"cdkColumnDef"],["cdk-header-cell","","class","capitalize p-2 h-12 bg-base-300 flex items-center","mat-sort-header","",3,"width","flex",4,"cdkHeaderCellDef"],["cdk-cell","","class","p-2 truncate flex items-center",3,"width","flex",4,"cdkCellDef"],["cdk-header-cell","","mat-sort-header","",1,"capitalize","p-2","h-12","bg-base-300","flex","items-center"],["cdk-cell","",1,"p-2","truncate","flex","items-center"],[4,"ngIf","ngIfElse"],["class","opacity-30",4,"ngIf"],[1,"opacity-30"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"w-full","text-center"],[1,"sticky","flex","items-center","bg-base-100","top-0","z-10"],["row","",1,"flex","z-0","relative","hover:bg-neutral:bg-base-100/5","divide-x","divide-base-200",3,"click"],[1,"w-full","p-4","text-center","opacity-30"]],template:function(y,I){1&y&&(e.j41(0,"cdk-table",2),e.DNE(1,K,4,1,"ng-container",3)(2,F,1,0,"cdk-header-row",4)(3,H,1,0,"cdk-row",5)(4,Y,2,1,"ng-template",6),e.k0s(),e.j41(5,"div",7),e.nrm(6,"mat-paginator",8),e.k0s()),2&y&&(e.Y8G("dataSource",I.data_source),e.R7$(),e.Y8G("ngForOf",I.columns),e.R7$(),e.Y8G("cdkHeaderRowDef",I.columns),e.R7$(),e.Y8G("cdkRowDefColumns",I.columns),e.R7$(2),e.Y8G("hidden",!I.pagination),e.R7$(),e.Y8G("pageSize",I.page_size)("hidePageSize",!0)("showFirstLastButtons",!0))},dependencies:[g.Sq,g.bT,g.T3,i.iy,b.Rk,b.oh,b.cO,b.n5,b.AL,b.hc,b.wA,b.hi,b.u4,d.B4,d.aE],styles:["cdk-header-row[_ngcontent-%COMP%]{font-weight:500;text-transform:capitalize;min-height:3rem}"]})}return U})()},2238:(Mt,pe,a)=>{"use strict";a.d(pe,{D:()=>O,I:()=>z});var e=a(6939),i=a(3953),d=a(7375),p=a(7987),m=a(177),_=a(4616);const g=["customTooltip",""],b=["*"];function u(G,K){1&G&&i.eu8(0)}function S(G,K){if(1&G&&(i.qex(0),i.DNE(1,u,1,0,"ng-container",4),i.bVm()),2&G){const F=i.XpG(2);i.R7$(),i.Y8G("ngComponentOutlet",F.content)("ngComponentOutletInjector",F.injector)}}function D(G,K){if(1&G&&(i.qex(0),i.nrm(1,"div",5),i.nI1(2,"sanitize"),i.bVm()),2&G){const F=i.XpG(2);i.R7$(),i.Y8G("innerHTML",i.bMT(2,1,F.content),i.npT)}}function E(G,K){1&G&&i.eu8(0)}function A(G,K){if(1&G&&(i.qex(0),i.DNE(1,E,1,0,"ng-container",6),i.bVm()),2&G){const F=i.XpG(2);i.R7$(),i.Y8G("ngTemplateOutlet",F.content)("ngTemplateOutletContext",F.data)}}function v(G,K){if(1&G&&(i.j41(0,"div",1),i.DNE(1,S,2,2,"ng-container",2)(2,D,3,3,"ng-container",2)(3,A,2,2,"ng-container",3),i.k0s()),2&G){const F=i.XpG();i.Y8G("ngSwitch",F.type),i.R7$(),i.Y8G("ngSwitchCase","component"),i.R7$(),i.Y8G("ngSwitchCase","html")}}let O=(()=>{class G{constructor(F){this.data=F.data,this.close=F.close||(()=>null)}static#e=this.\u0275fac=function(H){i.QTQ()};static#t=this.\u0275prov=i.jDH({token:G,factory:G.\u0275fac})}return G})(),z=(()=>{class G extends d.Tv{constructor(F,H,Y){super(),this._element=F,this._overlay=H,this._injector=Y,this.backdrop=!0,this.hover=!1,this.delay=0,this.type="template",this._overlay_ref=null,this.onClick=()=>this.open(),this.onTouch=()=>this.open(),this.onEnter=()=>this.hover?this.open():"",this.onLeave=()=>this.hover?this.close():""}ngOnChanges(F){this._updateInjector(),this._overlay_ref&&(F.x_pos||F.y_pos||F.content)&&this.open()}ngOnDestroy(){super.ngOnDestroy(),this.close()}open(){this.content&&this.timeout("open",()=>{this.hover&&this.delay&&this.timeout("onclose",()=>this.close(),this.delay),this._updateType(),this._overlay_ref&&this.close(),this._portal&&(this._element.nativeElement.getBoundingClientRect(),this._overlay_ref=this._overlay.create({hasBackdrop:!!this.backdrop&&!this.hover,positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withPositions([{originX:this.x_pos||"end",originY:("top"===this.y_pos?"bottom":"bottom"==this.y_pos?"top":this.y_pos)||"top",overlayX:this.x_pos||"end",overlayY:this.y_pos||"top"}])}),this._overlay_ref.attach(this._portal),this.backdrop&&this.subscription("backdrop",this._overlay_ref.backdropClick().subscribe(()=>this.close())))},50)}close(){this.clearTimeout("open"),this._overlay_ref&&(this._overlay_ref.dispose(),this._overlay_ref=null)}_updateType(){this.type="string"==typeof this.content?"html":this.content instanceof i.C4Q?"template":"component"}_updateInjector(){this.injector=i.zZn.create({providers:[{provide:O,useValue:{data:this.data,close:()=>this.close()}}],parent:this._injector})}static#e=this.\u0275fac=function(H){return new(H||G)(i.rXU(i.aKT),i.rXU(p.hJ),i.rXU(i.zZn))};static#t=this.\u0275cmp=i.VBU({type:G,selectors:[["","customTooltip",""]],viewQuery:function(H,Y){if(1&H&&i.GBs(e.bV,5),2&H){let P;i.mGM(P=i.lsd())&&(Y._portal=P.first)}},hostBindings:function(H,Y){1&H&&i.bIt("click",function(){return Y.onClick()})("touchend",function(){return Y.onTouch()})("mouseenter",function(){return Y.onEnter()})("mouseleave",function(){return Y.onLeave()})},inputs:{x_pos:[0,"xPosition","x_pos"],y_pos:[0,"yPosition","y_pos"],content:"content",data:"data",backdrop:"backdrop",hover:"hover",delay:"delay"},features:[i.Vt3,i.OA$],attrs:g,ngContentSelectors:b,decls:2,vars:0,consts:[["cdk-portal",""],["custom-tooltip","",1,"relative","print:hidden",3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngComponentOutlet","ngComponentOutletInjector"],[3,"innerHTML"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(H,Y){1&H&&(i.NAR(),i.SdG(0),i.DNE(1,v,4,3,"ng-template",0))},dependencies:[m.OI,m.T3,m.ux,m.e1,m.fG,e.Qq,_.a],encapsulation:2})}return G})()},7025:(Mt,pe,a)=>{"use strict";a.d(pe,{l:()=>p});var e=a(2037),i=a(2017),d=a(3953);let p=(()=>{class m{transform(g){const b=Date.now();let u=(0,e.o)(b,g);const S=u<0;if(u=Math.abs(u),u<1)return S?"Soon":"Now";if(1===u)return S?"In 1 min":"1 min";if(u<60)return S?`In ${u} min`:`${u} min`;if(u<1440){const D=Math.floor(u/60);return S?`In ${D} hour${1===D?"":"s"}`:(0,i.GP)(g,"H:mm")}return u<10080?(Math.floor(u/1440),(0,i.GP)(g,S?"dd MMM yyyy":"E H:mm")):u<525600?(Math.floor(u/1440),(0,i.GP)(g,S?"dd MMM yyyy":"LLL d H:mm")):"Just now"}static#e=this.\u0275fac=function(b){return new(b||m)};static#t=this.\u0275pipe=d.EJ8({name:"dateFrom",type:m,pure:!0})}return m})()},8482:(Mt,pe,a)=>{"use strict";a.d(pe,{O:()=>B});var e=a(467),i=a(9928),d=a(9714),p=a(5006),m=a(4046),_=a(7643),g=a(5354),b=a(686),u=a(2354),S=a(2185),D=a(7375),E=a(3953);function A(y,I){if(1&y&&(E.qex(0),E.j41(1,"a",25),E.nI1(2,"sanitize"),E.EFF(3),E.k0s(),E.bVm()),2&y){const w=E.XpG().$implicit;E.R7$(),E.Y8G("href",E.bMT(2,2,w),E.B4B),E.R7$(2),E.JRh(w)}}function v(y,I){if(1&y&&(E.qex(0),E.EFF(1," ["),E.j41(2,"span",26),E.EFF(3,"Object"),E.k0s(),E.EFF(4,"] "),E.bVm()),2&y){const w=E.XpG().$implicit,L=E.XpG(4);E.R7$(2),E.Y8G("content",L.json_tooltip)("data",w)("hover",!0)("backdrop",!1)}}function O(y,I){if(1&y&&(E.qex(0),E.EFF(1),E.bVm()),2&y){const w=E.XpG().$implicit;E.R7$(),E.JRh(w)}}function z(y,I){if(1&y&&(E.j41(0,"div",21),E.qex(1,22),E.DNE(2,A,4,4,"ng-container",23)(3,v,5,4,"ng-container",23)(4,O,2,1,"ng-container",24),E.bVm(),E.k0s()),2&y){const w=I.$implicit,L=E.XpG(4);E.BMQ("data-type",L.type(w)),E.R7$(),E.Y8G("ngSwitch",L.type(w)),E.R7$(),E.Y8G("ngSwitchCase","link"),E.R7$(),E.Y8G("ngSwitchCase","object")}}function G(y,I){if(1&y&&(E.j41(0,"div",18)(1,"div",19),E.EFF(2),E.nI1(3,"date"),E.k0s(),E.j41(4,"div"),E.EFF(5),E.k0s(),E.j41(6,"div"),E.EFF(7),E.k0s(),E.DNE(8,z,5,4,"div",20),E.k0s()),2&y){const w=I.$implicit,L=E.XpG(3);E.R7$(2),E.SpI(" ",E.i5U(3,8,w.timestamp,"MMM d HH:mm:ss")," "),E.R7$(2),E.HbH("uppercase text-xs p-1 "+L.colors[w.type]+" rounded font-mono"),E.R7$(),E.SpI(" ",w.type," "),E.R7$(),E.HbH("capitalize text-xs p-1 "+L.colors[w.subtype]+" rounded font-mono w-16 text-center"),E.R7$(),E.SpI(" ",w.subtype," "),E.R7$(),E.Y8G("ngForOf",w.data)}}function K(y,I){if(1&y&&(E.j41(0,"cdk-virtual-scroll-viewport",15),E.DNE(1,G,9,11,"div",16),E.nI1(2,"async"),E.nrm(3,"div",17),E.k0s()),2&y){const w=E.XpG(2);E.R7$(),E.Y8G("cdkVirtualForOf",E.bMT(2,2,w.filtered_logs))("cdkVirtualForTrackBy",w.trackByFn)}}function F(y,I){if(1&y&&(E.j41(0,"span",27),E.EFF(1),E.nI1(2,"async"),E.k0s()),2&y){let w;const L=E.XpG(2);E.R7$(),E.SpI(" ",(null==(w=E.bMT(2,1,L.filtered_logs))?null:w.length)||"0"," of ")}}function H(y,I){if(1&y){const w=E.RV6();E.j41(0,"div",4)(1,"div",5)(2,"div",6),E.EFF(3,"Console"),E.k0s(),E.j41(4,"button",7),E.bIt("click",function(){E.eBV(w);const Q=E.XpG();return E.Njj(Q.show=!1)}),E.j41(5,"app-icon"),E.EFF(6,"close"),E.k0s()()(),E.DNE(7,K,4,4,"cdk-virtual-scroll-viewport",8),E.nI1(8,"async"),E.j41(9,"div",9),E.nrm(10,"div",10)(11,"div",11),E.j41(12,"input",12,1),E.nI1(14,"async"),E.bIt("ngModelChange",function(Q){E.eBV(w);const te=E.XpG();return E.Njj(te.filter.next(Q))}),E.k0s(),E.j41(15,"div",13),E.DNE(16,F,3,3,"span",14),E.nI1(17,"async"),E.EFF(18),E.nI1(19,"async"),E.k0s()()()}if(2&y){let w,L,Q;const te=E.XpG(),R=E.sdS(3);E.R7$(7),E.Y8G("ngIf",null==(w=E.bMT(8,5,te.filtered_logs))?null:w.length)("ngIfElse",R),E.R7$(5),E.Y8G("ngModel",E.bMT(14,7,te.filter)),E.R7$(4),E.Y8G("ngIf",null==(L=E.bMT(17,9,te.filter))?null:L.length),E.R7$(2),E.SpI(" ",null==(Q=E.bMT(19,11,te.logs))?null:Q.length," ")}}function Y(y,I){if(1&y){const w=E.RV6();E.j41(0,"button",28),E.bIt("mousedown",function(){E.eBV(w);const Q=E.XpG();return E.Njj(Q.onStart())})("touchstart",function(){E.eBV(w);const Q=E.XpG();return E.Njj(Q.onStart())})("mouseup",function(){E.eBV(w);const Q=E.XpG();return E.Njj(Q.onEnd())})("touchend",function(){E.eBV(w);const Q=E.XpG();return E.Njj(Q.onEnd())}),E.k0s()}}function P(y,I){if(1&y&&(E.j41(0,"div",29)(1,"div",30),E.EFF(2),E.k0s()()),2&y){const w=E.XpG();E.R7$(2),E.SpI(" No ",w.filter.getValue()?"matching":""," logs ")}}const U={console:"bg-success-light text-black",network:"bg-success text-success-content",dom:"bg-warning-light text-black",log:"bg-info-light text-black",info:"bg-info text-info-content",warn:"bg-warning text-warning-content",debug:"bg-base-300 text-base-content",error:"bg-error text-error-content"},$=["tel:","mailto:","http:","https:","ftp:","ws:","wss:"];let B=(()=>{class y extends g.T{get can_activate(){return!!this._settings.get("app.debug_console")}constructor(w,L,Q,te){super(),this._org=w,this._logs=L,this._hotkey=Q,this._settings=te,this.show=!1,this.colors=U,this.json_tooltip=u.o,this.filter=new i.t(""),this.logs=new i.t([]),this.filtered_logs=(0,d.zV)([this.filter,this.logs]).pipe((0,p.T)(([R,ee])=>ee.filter(k=>k.type.toLowerCase().includes(R.toLowerCase())||k.subtype.toLowerCase().includes(R.toLowerCase())||`${k.data}`.toLowerCase().includes(R.toLowerCase())))),this.onStart=()=>this.timeout("show",()=>this.show=!0,5e3),this.onEnd=()=>this.clearTimeout("show")}ngOnInit(){var w=this;return(0,e.A)(function*(){yield w._org.initialised.pipe((0,m.$)(L=>L)).toPromise(),w.subscription("binding",w._org.active_building.subscribe(()=>{w._logs.setSystem(w._org.binding("remote_logger"))})),w.subscription("logs",w._logs.history.subscribe(L=>{let Q=w.logs.getValue();Q.length>(w._settings.get("app.log_limits")||2e4)&&Q.splice(0,1),w.logs.next([...Q,L])})),w.subscription("toggle",w._hotkey.listen(["Control","Backquote"],()=>w.show=!w.show)),w._logs.setSystem(w._org.binding("remote_logger"))})()}type(w){return"string"==typeof w&&$.find(L=>w.startsWith(L))?"link":w instanceof Object?"object":"string"}trackByFn(w,L){return L?.timestamp}static#e=this.\u0275fac=function(L){return new(L||y)(E.rXU(S.yb),E.rXU(b.V),E.rXU(_.d),E.rXU(D.h$))};static#t=this.\u0275cmp=E.VBU({type:y,selectors:[["debug-console"]],inputs:{show:"show"},features:[E.Vt3],decls:4,vars:2,consts:[["empty_state",""],["search_input",""],["class","absolute bottom-2 left-2 max-w-[80vw] w-[40rem] border border-base-300 bg-base-200 text-base-content shadow rounded overflow-hidden h-[24rem] max-h-[65vh] flex flex-col z-[998]",4,"ngIf"],["activation","","class","absolute bottom-0 right-0 h-12 w-12",3,"mousedown","touchstart","mouseup","touchend",4,"ngIf"],[1,"absolute","bottom-2","left-2","max-w-[80vw]","w-[40rem]","border","border-base-300","bg-base-200","text-base-content","shadow","rounded","overflow-hidden","h-[24rem]","max-h-[65vh]","flex","flex-col","z-[998]"],[1,"flex","items-center","justify-between","bg-base-100","border-b","border-base-300"],[1,"p-2"],["icon","","matRipple","",3,"click"],["itemSize","32","class","flex-1 h-[30rem] max-h-full w-full",4,"ngIf","ngIfElse"],[1,"absolute","bottom-1","right-1","rounded-lg","p-1","flex","items-center","w-[20rem]","overflow-hidden"],[1,"absolute","inset-0","bg-base-content","opacity-60","z-0"],[1,"absolute","inset-1","bg-base-content","opacity-90","rounded","z-0"],["name","log-filter","placeholder","Filter logs...",1,"relative","border-none","flex-1","text-sm","px-2","py-1","font-mono","rounded","text-base-100",3,"ngModelChange","ngModel"],[1,"relative","font-mono","text-xs","px-2","text-center","text-base-100"],["class","font-mono",4,"ngIf"],["itemSize","32",1,"flex-1","h-[30rem]","max-h-full","w-full"],["class","font-mono h-8 truncate p-2 text-sm flex items-center max-w-full hover:bg-base-100 space-x-1",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"h-8","w-full"],[1,"font-mono","h-8","truncate","p-2","text-sm","flex","items-center","max-w-full","hover:bg-base-100","space-x-1"],[1,"uppercase","text-xs","p-1","bg-base-100/10","rounded","font-mono"],["class","font-mono pl-1",4,"ngFor","ngForOf"],[1,"font-mono","pl-1"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["target","_blank","rel","noopener noreferer",1,"font-mono",3,"href"],["customTooltip","","xPosition","center","yPosition","bottom",1,"underline","font-mono","hover:text-info",3,"content","data","hover","backdrop"],[1,"font-mono"],["activation","",1,"absolute","bottom-0","right-0","h-12","w-12",3,"mousedown","touchstart","mouseup","touchend"],[1,"flex-1","flex","flex-col","items-center","justify-center","h-[30rem]","w-full"],[1,"text-2xl","opacity-30"]],template:function(L,Q){1&L&&E.DNE(0,H,20,13,"div",2)(1,Y,1,0,"button",3)(2,P,3,1,"ng-template",null,0,E.C5r),2&L&&(E.Y8G("ngIf",Q.show),E.R7$(),E.Y8G("ngIf",Q.can_activate))}})}return y})()},3051:(Mt,pe,a)=>{"use strict";a.d(pe,{q:()=>u});var e=a(3953),i=a(7375),d=a(177),p=a(9417),m=a(6600),_=a(3881);function g(S,D){1&S&&(e.j41(0,"div",16),e.EFF(1," Before you can set a desk height, presets must be set "),e.k0s())}function b(S,D){if(1&S){const E=e.RV6();e.j41(0,"button",17),e.bIt("click",function(){e.eBV(E);const v=e.XpG();return e.Njj(v.onClose())}),e.EFF(1," Save Presets "),e.k0s()}}let u=(()=>{class S{constructor(E){this._settings=E,this.show_close=!1,this.close=new e.bkB,this.not_set=!1,this.desk_sitting_height=71,this.desk_standing_height=101}ngOnInit(){this.not_set=!this._settings.get("desk_sitting_height")&&!this._settings.get("desk_standing_height"),this.desk_sitting_height=this._settings.get("desk_sitting_height")||71,this.desk_standing_height=this._settings.get("desk_standing_height")||101}onClose(){this.saveSetting("desk_sitting_height",this.desk_sitting_height),this.saveSetting("desk_standing_height",this.desk_standing_height),this.close.emit()}formatLabel(E){return`${E.toFixed(1)}cm`}saveSetting(E,A){this._settings.saveUserSetting(E,A)}static#e=this.\u0275fac=function(A){return new(A||S)(e.rXU(i.h$))};static#t=this.\u0275cmp=e.VBU({type:S,selectors:[["desk-height-presets"]],inputs:{show_close:"show_close"},outputs:{close:"close"},decls:24,vars:8,consts:()=>{let E,A,v;return E=$localize`:4a9ae1d6024ac45fcd744f2b33fcc1078684204c1586279176802880074:Desk Height Presets`,A=$localize`:76aa055a2b4d990ee2773112c433cbca362d5cf32517995078699734025: Desk height presets allow you to store and recall your preferred desk height when checking into a booked desk that supports height adjustment. `,v=$localize`:7cdb9f15155eef16ce00f29f1d835dc2360f266f3844660402650950250: Set your desk height for the best experience. `,[E,A,v,[1,"relative","p-4","bg-base-100","rounded","shadow","w-[20rem]"],[1,"text-lg","mb-2"],[1,"text-xs","opacity-60","mb-4"],["class","text-xs mb-4 -mx-2 p-2 rounded bg-warning text-warning-content",4,"ngIf"],[1,"flex","flex-col","mt-2"],[1,"flex","items-center","space-x-2"],["min","60","max","80","step","0.5","discrete","",1,"flex-1",3,"displayWith"],["matSliderThumb","",3,"ngModelChange","ngModel"],[1,"text-sm","w-12","text-right"],[1,"flex","items-center","space-x-2","mr-2"],["min","90","max","120","step","0.5","discrete","",1,"flex-1",3,"displayWith"],[1,"text-sm","w-12","text-right","mr-2"],["btn","","matRipple","","class","w-full mt-2",3,"click",4,"ngIf"],[1,"text-xs","mb-4","-mx-2","p-2","rounded","bg-warning","text-warning-content"],["btn","","matRipple","",1,"w-full","mt-2",3,"click"]]},template:function(A,v){1&A&&(e.j41(0,"div",3)(1,"div",4),e.pXf(2,0),e.k0s(),e.j41(3,"div",5),e.pXf(4,1),e.k0s(),e.DNE(5,g,2,0,"div",6),e.j41(6,"div",5),e.pXf(7,2),e.k0s(),e.j41(8,"div",7)(9,"label"),e.EFF(10,"Sitting Height"),e.k0s(),e.j41(11,"div",8)(12,"mat-slider",9)(13,"input",10),e.mxI("ngModelChange",function(z){return e.DH7(v.desk_sitting_height,z)||(v.desk_sitting_height=z),z}),e.bIt("ngModelChange",function(z){return v.saveSetting("desk_sitting_height",z)}),e.k0s()(),e.j41(14,"div",11),e.EFF(15),e.k0s()(),e.j41(16,"label"),e.EFF(17,"Standing Height"),e.k0s(),e.j41(18,"div",12)(19,"mat-slider",13)(20,"input",10),e.mxI("ngModelChange",function(z){return e.DH7(v.desk_standing_height,z)||(v.desk_standing_height=z),z}),e.bIt("ngModelChange",function(z){return v.saveSetting("desk_standing_height",z)}),e.k0s()(),e.j41(21,"div",14),e.EFF(22),e.k0s()()(),e.DNE(23,b,2,0,"button",15),e.k0s()),2&A&&(e.R7$(5),e.Y8G("ngIf",v.not_set&&v.show_close),e.R7$(7),e.Y8G("displayWith",v.formatLabel),e.R7$(),e.R50("ngModel",v.desk_sitting_height),e.R7$(2),e.SpI(" ",v.desk_sitting_height.toFixed(1),"cm "),e.R7$(4),e.Y8G("displayWith",v.formatLabel),e.R7$(),e.R50("ngModel",v.desk_standing_height),e.R7$(2),e.SpI(" ",v.desk_standing_height.toFixed(1),"cm "),e.R7$(),e.Y8G("ngIf",v.show_close))},dependencies:[d.bT,p.me,p.BC,p.vS,m.r6,_.IV,_.OU]})}return S})()},7022:(Mt,pe,a)=>{"use strict";a.d(pe,{b:()=>d});var e=a(2659),i=a(3953);let d=(()=>{class p{transform(_,g=!1){let b=(0,e.a)({hours:Math.floor(_/60),minutes:_%60});return g&&(b=b.replace("hour","h").replace("minute","m").replace(/s/gi,"")),b}static#e=this.\u0275fac=function(g){return new(g||p)};static#t=this.\u0275pipe=i.EJ8({name:"duration",type:p,pure:!0})}return p})()},785:(Mt,pe,a)=>{"use strict";a.d(pe,{p:()=>_});var e=a(7375),i=a(3953),d=a(177),p=a(9434);function m(g,b){if(1&g){const u=i.RV6();i.j41(0,"div",1)(1,"div",2),i.EFF(2),i.k0s(),i.j41(3,"button",3),i.bIt("click",function(){i.eBV(u);const D=i.XpG();return i.Njj(D.close())}),i.j41(4,"app-icon"),i.EFF(5,"close"),i.k0s()()()}if(2&g){const u=i.XpG();i.AVh("bg-info","info"===u.banner.type||!u.banner.type)("text-info-content","info"===u.banner.type||!u.banner.type)("bg-warning","warn"===u.banner.type)("text-warning-content","warn"===u.banner.type)("bg-error","error"===u.banner.type)("text-error-content","error"===u.banner.type),i.R7$(2),i.JRh(null==u.banner?null:u.banner.content)}}let _=(()=>{class g{get has_viewed(){return!this.banner?.content||localStorage.getItem("PLACE.last_banner")===this.banner.id}get banner(){return this._settings.get("app.general.banner")}constructor(u){this._settings=u}close(){localStorage.setItem("PLACE.last_banner",this.banner?.id||"")}static#e=this.\u0275fac=function(S){return new(S||g)(i.rXU(e.h$))};static#t=this.\u0275cmp=i.VBU({type:g,selectors:[["global-banner"]],decls:1,vars:1,consts:[["class","flex items-center w-full p-4 space-x-4",3,"bg-info","text-info-content","bg-warning","text-warning-content","bg-error","text-error-content",4,"ngIf"],[1,"flex","items-center","w-full","p-4","space-x-4"],[1,"flex-1"],["icon","",3,"click"]],template:function(S,D){1&S&&i.DNE(0,m,6,13,"div",0),2&S&&i.Y8G("ngIf",!D.has_viewed)},dependencies:[d.bT,p.R],styles:["[_nghost-%COMP%]{display:block;width:100%}"]})}return g})()},4921:(Mt,pe,a)=>{"use strict";a.d(pe,{h:()=>D});var e=a(467),i=a(4046),d=a(9596),p=a(7375),m=a(5762),_=a(3953),g=a(177),b=a(9183);function u(E,A){1&E&&(_.j41(0,"div",2),_.EFF(1," Unable to reach server... Some features may not work. "),_.k0s())}function S(E,A){1&E&&(_.j41(0,"div",3),_.nrm(1,"mat-spinner",4),_.k0s()),2&E&&(_.R7$(),_.Y8G("diameter",64))}let D=(()=>{class E extends p.Tv{get online(){return(0,d.sc7)()}constructor(v,O){super(),this._org=v,this._settings=O}ngOnInit(){var v=this;return(0,e.A)(function*(){v.loading=!0,yield v._org.initialised.pipe((0,i.$)(O=>O)).toPromise(),yield v._settings.initialised.pipe((0,i.$)(O=>O)).toPromise(),v.interval("has_token",()=>{!(0,d.kup)()||!(0,d.ShT)()||(v.loading=!1,v.clearInterval("has_token"))},1e3)})()}static#e=this.\u0275fac=function(O){return new(O||E)(_.rXU(m.y),_.rXU(p.h$))};static#t=this.\u0275cmp=_.VBU({type:E,selectors:[["global-loading"]],features:[_.Vt3],decls:2,vars:2,consts:[["class","fixed bottom-2 left-1/2 -translate-x-1/2 shadow rounded-3xl px-4 py-2 bg-error text-white text-xs",4,"ngIf"],["loader","","class","fixed inset-0 flex items-center justify-center pointer-events-auto bg-base-100",4,"ngIf"],[1,"fixed","bottom-2","left-1/2","-translate-x-1/2","shadow","rounded-3xl","px-4","py-2","bg-error","text-white","text-xs"],["loader","",1,"fixed","inset-0","flex","items-center","justify-center","pointer-events-auto","bg-base-100"],[3,"diameter"]],template:function(O,z){1&O&&_.DNE(0,u,2,0,"div",0)(1,S,2,1,"div",1),2&O&&(_.Y8G("ngIf",!z.online),_.R7$(),_.Y8G("ngIf",z.loading))},dependencies:[g.bT,b.LG],styles:["[_nghost-%COMP%]{pointer-events:none}[_nghost-%COMP%] > [loader][_ngcontent-%COMP%]{z-index:997;background-image:url(\"data:image/svg+xml,%3Csvg width='36' height='36' viewBox='0 0 36 36' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M36 0H0v36h36V0zM15.126 2H2v13.126c.367.094.714.24 1.032.428L15.554 3.032c-.188-.318-.334-.665-.428-1.032zM18 4.874V18H4.874c-.094-.367-.24-.714-.428-1.032L16.968 4.446c.318.188.665.334 1.032.428zM22.874 2h11.712L20 16.586V4.874c1.406-.362 2.512-1.468 2.874-2.874zm10.252 18H20v13.126c.367.094.714.24 1.032.428l12.522-12.522c-.188-.318-.334-.665-.428-1.032zM36 22.874V36H22.874c-.094-.367-.24-.714-.428-1.032l12.522-12.522c.318.188.665.334 1.032.428zm0-7.748V3.414L21.414 18h11.712c.362-1.406 1.468-2.512 2.874-2.874zm-18 18V21.414L3.414 36h11.712c.362-1.406 1.468-2.512 2.874-2.874zM4.874 20h11.712L2 34.586V22.874c1.406-.362 2.512-1.468 2.874-2.874z' fill='%23000000' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E\")}"]})}return E})()},6926:(Mt,pe,a)=>{"use strict";a.d(pe,{o:()=>b});var e=a(7375),i=a(6815),d=a(3953),p=a(177),m=a(6600),_=a(9434);function g(u,S){if(1&u&&(d.j41(0,"a",6)(1,"div",7)(2,"div",8),d.nrm(3,"app-icon",9),d.k0s(),d.j41(4,"div",10),d.EFF(5),d.k0s()()()),2&u){const D=S.$implicit;d.Y8G("href",D.link,d.B4B),d.R7$(3),d.Y8G("icon",D.icon),d.R7$(2),d.JRh(D.name)}}let b=(()=>{class u{get tiles(){return this._settings.get("app.help")||[]}constructor(D,E){this._data=D,this._settings=E,this.close=()=>{this._data?.close()}}static#e=this.\u0275fac=function(E){return new(E||u)(d.rXU(i.Dd),d.rXU(e.h$))};static#t=this.\u0275cmp=d.VBU({type:u,selectors:[["help-tooltip"]],decls:7,vars:1,consts:()=>{let D;return D=$localize`:258586f2141d5b6c98ef28c38ac6f55a81a301b27393197899734735120:Help & Support`,[D,[1,"flex","flex-col","w-[18.5rem]","rounded","bg-base-100","shadow","relative","-top-12","-right-1","divide-y","divide-base-200",3,"click"],[1,"flex","items-center","space-x-2","p-2","border-b"],[1,"text-2xl"],[1,""],["btn","","matRipple","","class","clear w-full text-left h-auto","target","_blank","ref","noreferer noopener",3,"href",4,"ngFor","ngForOf"],["btn","","matRipple","","target","_blank","ref","noreferer noopener",1,"clear","w-full","text-left","h-auto",3,"href"],[1,"flex","items-center","space-x-2","py-2","w-full"],[1,"flex","items-center","justify-center","rounded-full","w-8","h-8","bg-base-200"],[1,"text-xl",3,"icon"],[1,"flex-1"]]},template:function(E,A){1&E&&(d.j41(0,"div",1),d.bIt("click",function(){return A.close()}),d.j41(1,"div",2)(2,"app-icon",3),d.EFF(3,"arrow_back"),d.k0s(),d.j41(4,"div",4),d.pXf(5,0),d.k0s()(),d.DNE(6,g,6,3,"a",5),d.k0s()),2&E&&(d.R7$(6),d.Y8G("ngForOf",A.tiles))},dependencies:[p.Sq,m.r6,_.R],styles:["a[_ngcontent-%COMP%]:not(:last-child){border-bottom-width:1px!important;border-bottom-style:solid!important;border-radius:0}"]})}return u})()},9434:(Mt,pe,a)=>{"use strict";a.d(pe,{R:()=>g});var e=a(3953),i=a(177),d=a(6781);const p=["*"];function m(b,u){if(1&b&&(e.j41(0,"i"),e.EFF(1),e.SdG(2),e.k0s()),2&b){const S=e.XpG();e.HbH((null==S.icon?null:S.icon.class)||S.className),e.R7$(),e.SpI(" ",null==S.icon?null:S.icon.content," ")}}function _(b,u){if(1&b&&(e.nrm(0,"img",3),e.nI1(1,"safe")),2&b){const S=e.XpG();e.Y8G("src",e.i5U(1,1,S.icon.src,"resource"),e.B4B)}}let g=(()=>{class b{constructor(){this.className="material-icons"}static#e=this.\u0275fac=function(D){return new(D||b)};static#t=this.\u0275cmp=e.VBU({type:b,selectors:[["app-icon"],["icon"]],inputs:{className:"className",icon:"icon"},ngContentSelectors:p,decls:3,vars:2,consts:[[1,"flex","items-center","justify-center","h-[1.25em]","w-[1.25em]"],[3,"class",4,"ngIf"],["class","h-[1em] w-[1em]",3,"src",4,"ngIf"],[1,"h-[1em]","w-[1em]",3,"src"]],template:function(D,E){1&D&&(e.NAR(),e.j41(0,"div",0),e.DNE(1,m,3,3,"i",1)(2,_,2,4,"img",2),e.k0s()),2&D&&(e.R7$(),e.Y8G("ngIf",!E.icon||"img"!==E.icon.type),e.R7$(),e.Y8G("ngIf",E.icon&&"img"===E.icon.type))},dependencies:[i.bT,d.m],styles:["i[_ngcontent-%COMP%]{font-size:1em}"]})}return b})()},5277:(Mt,pe,a)=>{"use strict";a.d(pe,{H:()=>u});var e=a(3953);function i(S,D){if(1&S&&e.nrm(0,"img",8),2&S){const E=e.XpG().$implicit;e.Y8G("source",E.url||E)}}function d(S,D){if(1&S&&(e.j41(0,"div",6),e.DNE(1,i,1,1,"img",7),e.k0s()),2&S){const E=D.$implicit,A=e.XpG();e.xc7("transform","translateX(-"+100*A.offset+"%)"),e.R7$(),e.Y8G("ngIf",E)}}function p(S,D){1&S&&(e.j41(0,"div",9)(1,"app-icon",10),e.EFF(2,"image_not_supported"),e.k0s(),e.j41(3,"p"),e.EFF(4,"No images"),e.k0s()())}function m(S,D){if(1&S){const E=e.RV6();e.j41(0,"button",11),e.bIt("click",function(){e.eBV(E);const v=e.XpG();return e.Njj(v.offset=v.offset-1)}),e.j41(1,"app-icon",12),e.EFF(2,"chevron_left"),e.k0s()()}if(2&S){const E=e.XpG();e.Y8G("disabled",0===E.offset)}}function _(S,D){if(1&S){const E=e.RV6();e.j41(0,"button",13),e.bIt("click",function(){e.eBV(E);const v=e.XpG();return e.Njj(v.offset=v.offset+1)}),e.j41(1,"app-icon",12),e.EFF(2,"chevron_right"),e.k0s()()}if(2&S){const E=e.XpG();e.Y8G("disabled",E.offset>=(null==E.images?null:E.images.length)-1)}}function g(S,D){if(1&S&&e.nrm(0,"button",16),2&S){const E=D.index,A=e.XpG(2);e.AVh("!bg-base-100",A.offset===E)}}function b(S,D){if(1&S&&(e.j41(0,"div",14),e.DNE(1,g,1,2,"button",15),e.k0s()),2&S){const E=e.XpG();e.R7$(),e.Y8G("ngForOf",E.images)}}let u=(()=>{class S{constructor(){this.images=[],this.offset=0}static#e=this.\u0275fac=function(A){return new(A||S)};static#t=this.\u0275cmp=e.VBU({type:S,selectors:[["image-carousel"]],inputs:{images:"images"},decls:6,vars:5,consts:[[1,"h-full","w-full","relative","overflow-hidden","flex"],["image","","class","h-full min-w-full relative flex items-center justify-center overflow-hidden",3,"transform",4,"ngFor","ngForOf"],["class","h-full w-full relative flex flex-col items-center justify-center opacity-30 space-y-2",4,"ngIf"],["matRipple","","class","opacity-0 hover:opacity-30 flex items-center justify-center absolute left-0 inset-y-0 w-1/3 bg-neutral text-white",3,"disabled","click",4,"ngIf"],["matRipple","","class","opacity-0 hover:opacity-30 flex items-center justify-center absolute right-0 inset-y-0 w-1/3 bg-neutral text-white",3,"disabled","click",4,"ngIf"],["class","absolute bottom-1 left-1/2 -translate-x-1/2 text-sm opacity-30 space-x-2",4,"ngIf"],["image","",1,"h-full","min-w-full","relative","flex","items-center","justify-center","overflow-hidden"],["auth","","class","h-full object-contain",3,"source",4,"ngIf"],["auth","",1,"h-full","object-contain",3,"source"],[1,"h-full","w-full","relative","flex","flex-col","items-center","justify-center","opacity-30","space-y-2"],[1,"text-5xl"],["matRipple","",1,"opacity-0","hover:opacity-30","flex","items-center","justify-center","absolute","left-0","inset-y-0","w-1/3","bg-neutral","text-white",3,"click","disabled"],[1,"text-4xl"],["matRipple","",1,"opacity-0","hover:opacity-30","flex","items-center","justify-center","absolute","right-0","inset-y-0","w-1/3","bg-neutral","text-white",3,"click","disabled"],[1,"absolute","bottom-1","left-1/2","-translate-x-1/2","text-sm","opacity-30","space-x-2"],["matRipple","","class","h-4 w-4 rounded-full bg-base-300 shadow",3,"!bg-base-100",4,"ngFor","ngForOf"],["matRipple","",1,"h-4","w-4","rounded-full","bg-base-300","shadow"]],template:function(A,v){1&A&&(e.j41(0,"div",0),e.DNE(1,d,2,3,"div",1)(2,p,5,0,"div",2)(3,m,3,1,"button",3)(4,_,3,1,"button",4)(5,b,2,1,"div",5),e.k0s()),2&A&&(e.R7$(),e.Y8G("ngForOf",v.images),e.R7$(),e.Y8G("ngIf",!(null!=v.images&&v.images.length)),e.R7$(),e.Y8G("ngIf",null==v.images?null:v.images.length),e.R7$(),e.Y8G("ngIf",null==v.images?null:v.images.length),e.R7$(),e.Y8G("ngIf",null==v.images?null:v.images.length))},styles:["[_nghost-%COMP%]{display:block;height:100%;width:100%}[image][_ngcontent-%COMP%]{transition:transform .3s}"]})}return S})()},6821:(Mt,pe,a)=>{"use strict";a.d(pe,{d:()=>m});var e=a(4006),i=a(3953),d=a(6600),p=a(9434);let m=(()=>{class _{constructor(b){this.url=b}static#e=this.\u0275fac=function(u){return new(u||_)(i.rXU(e.Vh))};static#t=this.\u0275cmp=i.VBU({type:_,selectors:[["image-viewer"]],decls:5,vars:1,consts:[[1,"h-screen","w-screen","bg-base-200"],[1,"object-contain","object-center","w-full","h-full",3,"src"],["icon","","matRipple","","mat-dialog-close","",1,"absolute","top-1","right-1","bg-base-100"]],template:function(u,S){1&u&&(i.j41(0,"div",0),i.nrm(1,"img",1),i.j41(2,"button",2)(3,"app-icon"),i.EFF(4,"close"),i.k0s()()()),2&u&&(i.R7$(),i.Y8G("src",S.url,i.B4B))},dependencies:[d.r6,e.tx,p.R]})}return _})()},2124:(Mt,pe,a)=>{"use strict";a.d(pe,{M:()=>I});var e=a(467),i=a(7375),d=a(2455),p=a(2185),m=a(9714),_=a(8728),g=a(5006),b=a(4046),u=a(9420),S=a(3953),D=a(177),E=a(3719),A=a(6600),v=a(9631),O=a(9183),z=a(4823),G=a(9434),K=a(1780);const F=["searchInput"],H=["searchResultItems"];function Y(w,L){1&w&&(S.j41(0,"div",11),S.nrm(1,"mat-spinner",12),S.k0s()),2&w&&(S.R7$(),S.Y8G("diameter",48))}function P(w,L){if(1&w&&(S.j41(0,"div",13),S.nrm(1,"img",14),S.j41(2,"p",15),S.EFF(3),S.nI1(4,"translate"),S.k0s()()),2&w){const Q=S.XpG();S.R7$(3),S.SpI(" ",S.bMT(4,1,Q.geolocation_error_message)," ")}}function U(w,L){if(1&w){const Q=S.RV6();S.j41(0,"li",21)(1,"button",22),S.bIt("click",function(){const R=S.eBV(Q).$implicit,ee=S.XpG(2);return ee.getRoute(R),S.Njj(ee.search_result_items=[])}),S.j41(2,"div",23)(3,"div"),S.EFF(4),S.k0s(),S.j41(5,"div",24),S.EFF(6),S.k0s()()()()}if(2&w){const Q=L.$implicit;S.R7$(4),S.JRh(Q.properties.name),S.R7$(2),S.Lme(" ",Q.properties.roomId,", Level ",Q.properties.floorName," ")}}function $(w,L){if(1&w){const Q=S.RV6();S.qex(0),S.j41(1,"div",16)(2,"h3",17),S.EFF(3),S.k0s(),S.j41(4,"button",18),S.bIt("click",function(){S.eBV(Q);const R=S.XpG();return S.Njj(R.search_result_items=[])}),S.j41(5,"app-icon"),S.EFF(6,"close"),S.k0s()()(),S.j41(7,"ul",19),S.DNE(8,U,7,3,"li",20),S.nI1(9,"slice"),S.k0s(),S.bVm()}if(2&w){const Q=S.XpG();S.R7$(3),S.SpI(" Results (",Q.search_result_items.length||"0",") "),S.R7$(5),S.Y8G("ngForOf",S.brH(9,2,Q.search_result_items,0,10))}}function y(w){return w*(Math.PI/180)}let I=(()=>{class w extends i.Tv{constructor(Q,te,R){super(),this._api_service=Q,this._state=te,this._org=R,this.default_zoom=19,this.live_data_status="enabled",this.search_result_items=[],this.selected_destination=null,this.actions_hashmap={},this.user_latitude=null,this.user_longitude=null,this.geolocation_error_message="",this.route_error_message="",this.coordinates=null,this.buildings=this._org.building_list,this.building=this._org.active_building,this.setBuilding=ee=>{this._org.building=ee,this._setLocationToBuilding()},this.levels=(0,m.zV)([this.building,this._state.options]).pipe((0,_.p)(([ee])=>!!ee),(0,g.T)(([ee])=>[{id:this._org.building.id,name:"All Levels"},...this._org.levelsForBuilding(ee)])),this.floor_mapping={}}ngOnInit(){var Q=this;return(0,e.A)(function*(){Q.loading=!0,yield Q._org.initialised.pipe((0,b.$)(R=>!!R)).toPromise(),Q.setBuilding(Q._org.building),Q.custom_coordinates&&(Q.coordinates=Q.custom_coordinates);const te=()=>{Q._getUserLocation(),document.removeEventListener("click",te)};document.addEventListener("click",te),yield Q._initMapView()})()}ngOnChanges(Q){var te=this;return(0,e.A)(function*(){if((Q.styles||Q.actions)&&(yield te.renderSpaceStatus(),yield te.mapActions()),Q.locate&&te.locate&&mapsindoors){const R={q:te.searchElement.nativeElement.value},ee=yield mapsindoors?.services.LocationsService.getLocations(R);ee.length&&te.getRoute(ee[0])}te.mapFloorsToIndex(),te.loading=!1})()}ngAfterViewInit(){this.maps_service?.addListener("click",(Q,te)=>{const R=this.actions_hashmap[Q.id];R&&R.callback(te)})}_initMapView(){if(!this._api_service.is_ready||!window.mapsindoors)return void this.timeout("init",()=>this._initMapView(),1e3);const Q={element:document.getElementById("maps-indoors"),center:{lat:this.user_latitude,lng:this.user_longitude},zoom:this.default_zoom||19,maxZoom:24};this._api_service.map_service===u.u.GoogleMaps?((0,i.Rm)("MapsIndoors","Using Google Maps API"),this.view_instance=new mapsindoors.mapView.GoogleMapsView(Q)):(Q.accessToken=this._api_service.map_token,(0,i.Rm)("MapsIndoors","Using Mapbox API"),this.view_instance=new mapsindoors.mapView.MapboxView(Q)),this.view_instance?(this.maps_service=new mapsindoors.MapsIndoors({mapView:this.view_instance}),this.map_instance=this.view_instance.getMap(),this.initDirections(),this.handleLocationChange(),this.mapFloorsToIndex(),this._setLocationToBuilding()):(0,i.Rm)("MapsIndoors","Failed to initialise map view instance.",void 0,"warn")}initDirections(){const Q=this._api_service.map_service===u.u.GoogleMaps?new mapsindoors.directions.GoogleMapsProvider:new mapsindoors.directions.MapboxProvider(this._api_service.map_token);this.directions_service=new mapsindoors.services.DirectionsService(Q),this.directions_renderer=new mapsindoors.directions.DirectionsRenderer({mapsIndoors:this.maps_service})}mapFloorsToIndex(){var Q=this;return(0,e.A)(function*(){const ee=(yield Q.maps_service?.getBuilding())?.buildingInfo?.fields?.floorMapping?.value?.split(",\n").map(J=>J.split(":"));Q.floor_mapping=ee?.reduce((J,[X,fe])=>(J[X]=fe,J),{})||{};const k=yield Q.maps_service?.getFloor();k&&Q.floor_mapping&&Q._state.setLevel(Q.floor_mapping[k])})()}handleLocationChange(){const Q=document.createElement("div");new mapsindoors.FloorSelector(Q,this.maps_service),this._api_service.map_service===u.u.GoogleMaps?this.map_instance.controls[google.maps.ControlPosition.RIGHT_TOP].push(Q):this.view_instance.getMap().addControl({onAdd:()=>Q,onRemove:()=>{}}),this.maps_service?.addListener("building_changed",te=>{const R=this._org.buildings.find(ee=>{ee.name.toLowerCase(),te.buildingInfo?.name.toLowerCase(),this.setBuilding(R)})}),this.maps_service?.addListener("floor_changed",te=>{te&&this.floor_mapping&&this._state.setLevel(this.floor_mapping[te])})}onSearch(){const Q={q:this.searchElement.nativeElement.value};mapsindoors?.services.LocationsService.getLocations(Q).then(te=>{this.search_result_items=te})}_getUserLocation(){var Q=this;return(0,e.A)(function*(){return"geolocation"in navigator?Q.coordinates?(Q.user_latitude=Q.coordinates.latitude,void(Q.user_longitude=Q.coordinates.longitude)):(navigator.geolocation.watchPosition(R=>Q._updateGeolocation(R),R=>Q._handleGeolocationError(R)),void navigator.geolocation.getCurrentPosition(R=>{if(!Q._userWithinRadius([R.coords.latitude,R.coords.longitude]))return Q._setLocationToBuilding();Q._updateGeolocation(R),Q.map_instance.setCenter({lat:R.coords.latitude,lng:R.coords.longitude})},()=>Q._setLocationToBuilding(),{timeout:1e4,enableHighAccuracy:!0})):((0,i.Rm)("MapsIndoors","User's geolocation not available.",void 0,"warn"),Q._setLocationToBuilding())})()}_userWithinRadius([Q,te],R=1){const[ee,k]=this._org.building?.location.split(",")||[];return!(ee&&k&&function B(w,L,Q,te){const ee=y(Q-w),k=y(te-L);w=y(w),Q=y(Q);const J=Math.sin(ee/2)*Math.sin(ee/2)+Math.sin(k/2)*Math.sin(k/2)*Math.cos(w)*Math.cos(Q);return 2*Math.atan2(Math.sqrt(J),Math.sqrt(1-J))*6371}(parseFloat(ee),parseFloat(k),Q,te)>=R)}_setLocationToBuilding(){(0,i.Rm)("MapsIndoors","Settings location to building:",[this._org.building?.display_name||this._org.building?.name,this._org.building?.location]);const[Q,te]=this._org.building?.location.split(",");this.map_instance&&this.map_instance.setCenter({lat:parseFloat(Q),lng:parseFloat(te)})}_updateGeolocation(Q){if(!Q?.coords)return;(0,i.Rm)("MapsIndoors","Settings location to user:",Q.coords,"warn");const{latitude:te,longitude:R}=Q.coords;(te!==this.user_latitude||R!==this.user_longitude)&&(this.user_latitude=te,this.user_longitude=R,this.getRoute(this.selected_destination))}_handleGeolocationError(Q){(0,i.UG)(`Error retrieving your geolocation. [${Q.message}]`)}getRoute(Q){var te=this;return(0,e.A)(function*(){if(te.maps_service?.highlight([]),!te.directions_service||!Q)return;(0,i.Rm)("MapsIndoors","Getting route to location:",[Q,te.user_latitude,te.user_longitude]),te.selected_destination=Q;const R={lat:Q.properties.anchor.coordinates[1],lng:Q.properties.anchor.coordinates[0],floor:Q.properties.floor},ee=(te.floor_mapping||{})[Q.properties.floor];if(ee&&te._state.setLevel(ee),!te._userWithinRadius([te.user_latitude,te.user_longitude],1e3))return te.map_instance.setZoom(19),te.map_instance.setCenter(R),te.maps_service.setFloor(R.floor),void te.maps_service.highlight([Q.id]);if(!te.user_latitude||!te.user_longitude)return(0,i.UG)("Unable to find a route.");const J={origin:{lat:te.user_latitude,lng:te.user_longitude},destination:R},X=yield te.directions_service.getRoute(J).catch(fe=>{(0,i.Rm)("MapsIndoors","Error fetching route: ",fe.message||fe,"warn"),fe instanceof TypeError&&fe.message?.includes("origin")&&(0,i.UG)("Error: Origin location is outside of map area.")});X&&te.directions_renderer?.setRoute(X)})()}renderSpaceStatus(){var Q=this;return(0,e.A)(function*(){if(!Q.styles)return;const te=[];for(const R in Q.styles){const ee=Q.styles[R].fill;if(R){const k=R.substring(1);te.push(Q._setPolygonFill(k,ee))}}return yield Promise.all(te)})()}mapActions(){var Q=this;return(0,e.A)(function*(){return Q.actions?.reduce((te,R)=>(te[R.id]=R,te),{})})()}_setPolygonFill(Q,te){return this.maps_service?.setDisplayRule(Q,{polygonVisible:!0,polygonFillOpacity:.6,polygonZoomFrom:16,polygonZoomTo:22,visible:!0,polygonFillColor:te})}static#e=this.\u0275fac=function(te){return new(te||w)(S.rXU(i._e),S.rXU(d.O),S.rXU(p.yb))};static#t=this.\u0275cmp=S.VBU({type:w,selectors:[["indoor-maps"]],viewQuery:function(te,R){if(1&te&&(S.GBs(F,7),S.GBs(H,5)),2&te){let ee;S.mGM(ee=S.lsd())&&(R.searchElement=ee.first),S.mGM(ee=S.lsd())&&(R.searchResults=ee.first)}},inputs:{styles:"styles",actions:"actions",custom_coordinates:"custom_coordinates",locate:"locate",default_zoom:"default_zoom"},features:[S.Vt3,S.OA$],decls:12,vars:3,consts:[["searchInput",""],["id","maps-indoors",1,"absolute","inset-0","flex","items-center","justify-center"],["class","absolute inset-0 flex items-center justify-center",4,"ngIf"],["class","absolute inset-0 flex flex-col space-y-2 items-center justify-center",4,"ngIf"],[1,"absolute","flex","flex-col","h-min","w-min","top-2","left-2","bg-base-100","text-base-content","rounded-lg","z-50","p-2","shadow"],["appearance","outline",1,"map","no-subscript"],["matInput","","name","location-search","type","text","placeholder","Search",3,"keyup.enter"],["matSuffix","",1,"h-10","relative"],["icon","","name","indoor-map-search","matRipple","","aria-label","search button","matTooltip","Search...",1,"hover:bg-base-200",3,"click"],["matPrefix","",1,"text-2xl","relative"],[4,"ngIf"],[1,"absolute","inset-0","flex","items-center","justify-center"],[3,"diameter"],[1,"absolute","inset-0","flex","flex-col","space-y-2","items-center","justify-center"],["src","assets/icons/not-found.svg","alt","graphic of magnifying glass","width","200px",1,"items-center"],[1,"opacity-60","text-sm","text-center","mt-10"],[1,"flex","items-center","justify-between","px-2","my-2","space-x-2"],[1,"font-medium","text-lg"],["icon","","matRipple","","matTooltip","Clear Results",1,"hover:bg-base-200",3,"click"],[1,"list-none","m-0","p-0","w-full","space-y-2","max-h-[65vh]","overflow-auto"],["class","w-full even:bg-base-200 hover:bg-base-300 rounded border border-base-200",4,"ngFor","ngForOf"],[1,"w-full","even:bg-base-200","hover:bg-base-300","rounded","border","border-base-200"],[1,"flex","items-center","w-full","p-2","space-x-2","text-left",3,"click"],[1,"flex","flex-col","flex-1"],[1,"opacity-30","text-xs"]],template:function(te,R){if(1&te){const ee=S.RV6();S.nrm(0,"div",1),S.DNE(1,Y,2,1,"div",2)(2,P,5,3,"div",3),S.j41(3,"div",4)(4,"mat-form-field",5)(5,"input",6,0),S.bIt("keyup.enter",function(){return S.eBV(ee),S.Njj(R.onSearch())}),S.k0s(),S.j41(7,"div",7)(8,"button",8),S.bIt("click",function(){return S.eBV(ee),S.Njj(R.onSearch())}),S.j41(9,"app-icon",9),S.EFF(10," search "),S.k0s()()()(),S.DNE(11,$,10,6,"ng-container",10),S.k0s()}2&te&&(S.R7$(),S.Y8G("ngIf",R.loading),S.R7$(),S.Y8G("ngIf",R.geolocation_error_message),S.R7$(9),S.Y8G("ngIf",null==R.search_result_items?null:R.search_result_items.length))},dependencies:[D.Sq,D.bT,E.rl,E.JW,E.yw,A.r6,v.fg,O.LG,z.oV,G.R,D.P9,K.D9],styles:["[_nghost-%COMP%]{height:100%;width:100%}mat-spinner[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%)}"]})}return w})()},4918:(Mt,pe,a)=>{"use strict";a.d(pe,{N:()=>u,S:()=>S});var e=a(3953),i=a(7375),d=a(2185),p=a(2455);const m=["*","*"];function _(D,E){if(1&D){const A=e.RV6();e.qex(0),e.j41(1,"map-renderer",3),e.mxI("zoomChange",function(O){e.eBV(A);const z=e.XpG();return e.DH7(z.zoom,O)||(z.zoom=O),e.Njj(O)}),e.bIt("zoomChange",function(O){e.eBV(A);const z=e.XpG();return e.Njj(z.zoomChange.next(O))})("mapInfo",function(O){e.eBV(A);const z=e.XpG();return e.Njj(z.mapInfo.next(O))}),e.SdG(2),e.k0s(),e.bVm()}if(2&D){const A=e.XpG();e.R7$(),e.Y8G("src",A.src),e.R50("zoom",A.zoom),e.Y8G("reset",A.reset)("styles",A.styles||(null==A.metadata?null:A.metadata.styles))("features",A.features||(null==A.metadata?null:A.metadata.features))("actions",A.actions||(null==A.metadata?null:A.metadata.actions))("labels",A.labels||(null==A.metadata?null:A.metadata.labels))}}function g(D,E){if(1&D){const A=e.RV6();e.j41(0,"maps-indoors",4),e.bIt("zoneChange",function(O){e.eBV(A);const z=e.XpG();return e.Njj(z.onLevelChange(O))}),e.mxI("zoomChange",function(O){e.eBV(A);const z=e.XpG();return e.DH7(z.zoom,O)||(z.zoom=O),e.Njj(O)}),e.bIt("zoomChange",function(O){e.eBV(A);const z=e.XpG();return e.Njj(z.zoomChange.next(O))}),e.SdG(1,1),e.k0s()}if(2&D){const A=e.XpG();e.Y8G("zone",A.location),e.R50("zoom",A.zoom),e.Y8G("options",A.options)("reset",A.reset)("focus",A.focus)("metadata",A.metadata)}}function b(D,E){if(1&D){const A=e.RV6();e.j41(0,"div",5)(1,"button",6),e.bIt("click",function(){e.eBV(A);const O=e.XpG();return e.Njj(O.zoom=1.1*O.zoom)}),e.j41(2,"app-icon"),e.EFF(3,"add"),e.k0s()(),e.j41(4,"button",7),e.bIt("click",function(){e.eBV(A);const O=e.XpG();return e.Njj(O.zoom=O.zoom*(10/11))}),e.j41(5,"app-icon"),e.EFF(6,"remove"),e.k0s()(),e.j41(7,"button",8),e.bIt("click",function(){e.eBV(A);const O=e.XpG();return e.Njj(O.reset=O.reset+1)}),e.j41(8,"app-icon"),e.EFF(9,"refresh"),e.k0s()()()}}const u=new e.nKC("Data for Map Features");let S=(()=>{class D extends i.Tv{get location(){return this._org.levels.find(A=>A.map_id===this.src)}constructor(A,v,O){super(),this._mapspeople=A,this._org=v,this._explore=O,this.zoom=1,this.center={x:.5,y:.5},this.reset=0,this.metadata={},this.options={},this.zoomChange=new e.bkB,this.centerChange=new e.bkB,this.mapInfo=new e.bkB,this.use_mapsindoors$=this._mapspeople.available$}ngOnChanges(A){(A.actions||A.labels||A.styles||A.features)&&(this.metadata={actions:this.actions||[],labels:this.labels||[],styles:this.styles||{},features:this.features||[]})}onLevelChange(A){(0,i.Rm)("Map","Level changed to:",A?.display_name||A?.name||A),this._explore.setLevel(A.id)}static#e=this.\u0275fac=function(v){return new(v||D)(e.rXU(i._e),e.rXU(d.yb),e.rXU(p.O))};static#t=this.\u0275cmp=e.VBU({type:D,selectors:[["interactive-map"]],inputs:{src:"src",zoom:"zoom",center:"center",reset:"reset",metadata:"metadata",styles:"styles",features:"features",labels:"labels",actions:"actions",options:"options",focus:"focus"},outputs:{zoomChange:"zoomChange",centerChange:"centerChange",mapInfo:"mapInfo"},features:[e.Vt3,e.OA$],ngContentSelectors:m,decls:5,vars:5,consts:[["mapsindoors_template",""],[4,"ngIf","ngIfElse"],["zoom","","class","absolute bottom-16 right-1 border border-base-200 divide-y divide-base-200 shadow flex flex-col bg-base-100 text-base-content rounded overflow-hidden",4,"ngIf"],[3,"zoomChange","mapInfo","src","zoom","reset","styles","features","actions","labels"],[3,"zoneChange","zoomChange","zone","zoom","options","reset","focus","metadata"],["zoom","",1,"absolute","bottom-16","right-1","border","border-base-200","divide-y","divide-base-200","shadow","flex","flex-col","bg-base-100","text-base-content","rounded","overflow-hidden"],["icon","","matRipple","","matTooltip","Zoom In","matTooltipPosition","left",1,"rounded-none",3,"click"],["icon","","matRipple","","matTooltip","Zoom Out","matTooltipPosition","left",1,"rounded-none",3,"click"],["icon","","matRipple","","matTooltip","Reset Zoom and Position","matTooltipPosition","left",1,"rounded-none",3,"click"]],template:function(v,O){if(1&v&&(e.NAR(m),e.DNE(0,_,3,7,"ng-container",1),e.nI1(1,"async"),e.DNE(2,g,2,6,"ng-template",null,0,e.C5r)(4,b,10,0,"div",2)),2&v){const z=e.sdS(3);e.Y8G("ngIf",!e.bMT(1,3,O.use_mapsindoors$))("ngIfElse",z),e.R7$(4),e.Y8G("ngIf",null==O.options?null:O.options.controls)}}})}return D})()},2354:(Mt,pe,a)=>{"use strict";a.d(pe,{o:()=>d});var e=a(2238),i=a(3953);let d=(()=>{class p{constructor(_){this.json=_?.data||"",this._updateFormatting()}ngOnChanges(_){_.json&&this._updateFormatting()}_updateFormatting(){this.formatted_json=JSON.stringify(this.json,void 0,4)}static#e=this.\u0275fac=function(g){return new(g||p)(i.rXU(e.D,8))};static#t=this.\u0275cmp=i.VBU({type:p,selectors:[["json-display"]],inputs:{json:"json"},features:[i.OA$],decls:3,vars:1,consts:[[1,"bg-base-100","shadow","rounded","overflow-auto","max-w-[80vw]","max-h-[80vh]","p-2","border","border-base-300"],[1,"font-mono","text-sm","bg-base-200","p-2","rounded","break-all","w-full"]],template:function(g,b){1&g&&(i.j41(0,"div",0)(1,"pre",1),i.EFF(2),i.k0s()()),2&g&&(i.R7$(2),i.JRh(b.formatted_json))},styles:["pre[_ngcontent-%COMP%]{white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}"]})}return p})()},3835:(Mt,pe,a)=>{"use strict";a.d(pe,{O:()=>b});var e=a(7375),i=a(6815),d=a(3953),p=a(1780),m=a(177),_=a(9434);function g(u,S){if(1&u){const D=d.RV6();d.j41(0,"button",6),d.bIt("click",function(){const A=d.eBV(D).$implicit,v=d.XpG();return d.Njj(v.setLocale(A.id))}),d.EFF(1),d.k0s()}if(2&u){const D=S.$implicit;d.R7$(),d.Lme(" ",D.name," - ",D.flag," ")}}let b=(()=>{class u{get locales(){return this._settings.get("app.locales")||[]}constructor(D,E,A){this._data=D,this._settings=E,this._translation=A,this.setLocale=v=>{this._translation.use(v),localStorage.setItem("PLACEOS.locale",v)},this.close=()=>this._data?.close()}static#e=this.\u0275fac=function(E){return new(E||u)(d.rXU(i.Dd),d.rXU(e.h$),d.rXU(p.c$))};static#t=this.\u0275cmp=d.VBU({type:u,selectors:[["language-select"]],decls:11,vars:7,consts:[[1,"flex","flex-col","w-[18.5rem]","rounded","bg-base-100","shadow","relative","-top-12","-right-1",3,"click"],[1,"flex","items-center","space-x-2","p-2"],[1,"text-2xl"],[1,""],[1,"text-xs","opacity-60","mb-4","px-2","p-4"],["class","w-full p-4 border-t border-base-200 text-left",3,"click",4,"ngFor","ngForOf"],[1,"w-full","p-4","border-t","border-base-200","text-left",3,"click"]],template:function(E,A){1&E&&(d.j41(0,"div",0),d.bIt("click",function(){return A.close()}),d.j41(1,"div",1)(2,"app-icon",2),d.EFF(3,"arrow_back"),d.k0s(),d.j41(4,"div",3),d.EFF(5),d.nI1(6,"translate"),d.k0s()(),d.j41(7,"div",4),d.EFF(8),d.nI1(9,"translate"),d.k0s(),d.DNE(10,g,2,2,"button",5),d.k0s()),2&E&&(d.R7$(5),d.JRh(d.bMT(6,3,"COMMON.LANGUAGE")),d.R7$(3),d.SpI(" ",d.bMT(9,5,"COMMON.LANGUAGE_SELECT")," "),d.R7$(2),d.Y8G("ngForOf",A.locales))},dependencies:[m.Sq,_.R,p.D9]})}return u})()},3666:(Mt,pe,a)=>{"use strict";a.d(pe,{D:()=>d});var e=a(2185),i=a(3953);let d=(()=>{class p{constructor(_){this._org=_}transform(_){return this._org.levelWithID(_ instanceof Array?_:[_])}static#e=this.\u0275fac=function(g){return new(g||p)(i.rXU(e.yb,16))};static#t=this.\u0275pipe=i.EJ8({name:"level",type:p,pure:!0})}return p})()},2897:(Mt,pe,a)=>{"use strict";a.d(pe,{B:()=>_});var e=a(3953);const i="0123456789".split(""),d="0123456789.".split(""),p="abcdefghijklmnopqrstuvwxyz".split(""),m="abcdefghijklmnopqrstuvwxyz0123456789".split("");let _=(()=>{class g{constructor(u){this._el=u,this.restriction="decimals",this.custom_list=[]}onKeyDown(u){const S=u,D=S.key;if(!(-1!==["ArrowLeft","ArrowRight","Tab","Backspace","Home"].indexOf(D)||"a"===S.key&&(S.ctrlKey||S.metaKey)||"c"===S.key&&(S.ctrlKey||S.metaKey)||"v"===S.key&&(S.ctrlKey||S.metaKey)||"x"===S.key&&(S.ctrlKey||S.metaKey)))switch(this.restriction){case"letters":-1===p.indexOf(D)&&S.preventDefault();break;case"alphanumeric":-1===m.indexOf(D)&&S.preventDefault();break;case"custom":-1===this.custom_list.indexOf(D)&&S.preventDefault();break;case"decimals":-1===d.indexOf(D)&&S.preventDefault();break;default:-1===i.indexOf(D)&&S.preventDefault()}}static#e=this.\u0275fac=function(S){return new(S||g)(e.rXU(e.aKT))};static#t=this.\u0275dir=e.FsC({type:g,selectors:[["","limitInput",""]],hostBindings:function(S,D){1&S&&e.bIt("keydown",function(A){return D.onKeyDown(A)})},inputs:{restriction:"restriction",custom_list:"custom_list"}})}return g})()},7558:(Mt,pe,a)=>{"use strict";a.d(pe,{I:()=>u});var e=a(467),i=a(9714),d=a(4918),p=a(9493),m=a(7375),_=a(3953);const g=["canvas"],b=["map-canvas",""];let u=(()=>{class S extends m.Tv{get ratioed_height(){return+(this.width*this.ratio).toFixed(2)}constructor(E){super(),this._data=E,this.zoom=1,this.ratio=1,this.svg_ratio=1,this.width=1e4}ngOnInit(){this.subscription("state",(0,i.zV)([this._data.ratio$,this._data.zoom$,this._data.svg_ratio$]).subscribe(([E,A,v])=>this._handleMapChange(E,A,v))),this.subscription("polygons",this._data.polygons$.subscribe(E=>this._handleStateChange(E)))}_handleMapChange(E,A,v){var O=this;return(0,e.A)(function*(){const z=O.ratio;O.zoom=A,O.ratio=E,O.svg_ratio=v;const K=O.width*O.ratio/10;if(z===E)return;const F=O.canvas_element.nativeElement;F.width=O.width/10,F.height=K;const H=yield O._data.polygons$.pipe((0,p.s)(1)).toPromise();O._handleStateChange(H)})()}_handleStateChange(E){const A=this.canvas_element.nativeElement;A.getContext("2d").clearRect(0,0,A.width,A.height),E.forEach(O=>this._drawPolygon(O))}_drawPolygon(E){const A=E.points;if(!A?.length)return;const v=this.canvas_element.nativeElement,O=v.getContext("2d"),z=v.width,G=v.height;if(O.fillStyle=E.color+"80",O.beginPath(),O.moveTo(A[0][0]*z,A[0][1]*G),A.forEach(([K,F])=>O.lineTo(K*z,F*G)),O.closePath(),O.fill(),O.strokeStyle=(0,m.ej)(E.color,"#888888",.5),O.lineWidth=3,O.beginPath(),O.moveTo(A[0][0]*z,A[0][1]*G),A.forEach(([K,F])=>O.lineTo(K*z,F*G)),O.closePath(),O.stroke(),!1!==this._data.draw_points&&(O.fillStyle="#fff",O.strokeStyle=E.color,O.lineWidth=4,A.forEach(([K,F])=>{O.beginPath(),O.arc(K*z,F*G,8,0,2*Math.PI),O.fill(),O.stroke()})),!1!==this._data.draw_labels){const K=A.reduce((F,[H,Y])=>[F[0]+H,F[1]+Y],[0,0]);K[0]/=A.length,K[1]/=A.length,O.textAlign="center",O.textBaseline="middle",O.fillStyle="#FFF",O.font="32px sans-serif",O.fillText(E.name,K[0]*z+1,K[1]*G+2),O.fillStyle="#000",O.fillText(E.name,K[0]*z,K[1]*G)}}static#e=this.\u0275fac=function(A){return new(A||S)(_.rXU(d.N))};static#t=this.\u0275cmp=_.VBU({type:S,selectors:[["","map-canvas",""]],viewQuery:function(A,v){if(1&A&&_.GBs(g,7),2&A){let O;_.mGM(O=_.lsd())&&(v.canvas_element=O.first)}},features:[_.Vt3],attrs:b,decls:2,vars:4,consts:[["canvas",""],[1,"absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2"]],template:function(A,v){1&A&&_.nrm(0,"canvas",1,0),2&A&&_.xc7("width",v.width*v.svg_ratio*v.zoom+"%")("height",v.width*v.svg_ratio*v.ratio*v.zoom+"%")},encapsulation:2})}return S})()},620:(Mt,pe,a)=>{"use strict";a.d(pe,{V:()=>b});var e=a(3953),i=a(4006),d=a(7375),p=a(5762),m=a(1865);const _=()=>({disable_pan:!0,disable_zoom:!0});function g(u,S){if(1&u&&(e.j41(0,"div",7)(1,"interactive-map",8),e.nrm(2,"mat-spinner",9),e.k0s(),e.j41(3,"div",10),e.EFF(4),e.k0s()()),2&u){const D=e.XpG();e.R7$(),e.Y8G("src",null==D.level?null:D.level.map_id)("focus",null==D.item?null:D.item.map_id)("features",D.features)("options",e.lJ4(5,_)),e.R7$(3),e.SpI(" ",(null==D.level?null:D.level.display_name)||(null==D.level?null:D.level.name)," ")}}let b=(()=>{class u extends d.Tv{get level(){return this.item.level||this._org.levelWithID(this.item.zones||[])}constructor(D,E){super(),this._data=D,this._org=E,this.event=new e.bkB,this.item=this._data.item,this.style_map={},this.item.level?.id||delete this.item.level}ngOnInit(){this.timeout("init",()=>{this.processFeature(),this.processStyles()},1e3)}processStyles(){const D={};this.item?.map_id&&(D["#zones"]={display:"none"},D["#Zones"]={display:"none"}),this.style_map=D}processFeature(){if(!this.item)return null;this.features=[{location:this.item.map_id,track_id:"focus_item",content:m.V,data:{name:this.item.name},z_index:99,zoom:100}]}static#e=this.\u0275fac=function(E){return new(E||u)(e.rXU(i.Vh),e.rXU(p.y))};static#t=this.\u0275cmp=e.VBU({type:u,selectors:[["map-locate-modal"]],outputs:{event:"event"},features:[e.Vt3],decls:10,vars:2,consts:[[1,"h-[calc(100vh-4rem)]","w-screen","sm:h-auto","sm:w-auto"],[1,"p-4"],[1,"text-2xl"],[1,"ml-2","text-xl","font-medium"],["body","","class","relative overflow-hidden h-[65vh] w-full sm:max-h-[65vh]",4,"ngIf"],[1,"w-full","border-t","border-base-200","flex","items-center","justify-center","p-2"],["btn","","matRipple","","mat-dialog-close","",1,"inverse","w-32"],["body","",1,"relative","overflow-hidden","h-[65vh]","w-full","sm:max-h-[65vh]"],[1,"pointer-events-none",3,"src","focus","features","options"],["diameter","64"],[1,"absolute","top-2","right-2","py-2","px-4","bg-base-100","rounded-3xl","shadow","border","border-base-200"]],template:function(E,A){1&E&&(e.j41(0,"div",0)(1,"header",1)(2,"app-icon",2),e.EFF(3,"place"),e.k0s(),e.j41(4,"h1",3),e.EFF(5),e.k0s()(),e.DNE(6,g,5,6,"div",4),e.j41(7,"footer",5)(8,"button",6),e.EFF(9," Close "),e.k0s()()()),2&E&&(e.R7$(5),e.SpI(" ",A.item.display_name||A.item.name," "),e.R7$(),e.Y8G("ngIf",A.level))},styles:["[body][_ngcontent-%COMP%]{min-width:80vw!important}"]})}return u})()},1865:(Mt,pe,a)=>{"use strict";a.d(pe,{V:()=>g});var e=a(4918),i=a(3953),d=a(177);const p=["map-pin",""];function m(b,u){if(1&b&&(i.j41(0,"div",2),i.EFF(1),i.k0s()),2&b){const S=i.XpG();i.R7$(),i.SpI(" ",S.message," ")}}function _(b,u){if(1&b){const S=i.RV6();i.qSk(),i.j41(0,"svg",3),i.bIt("click",function(){i.eBV(S);const E=i.XpG();return i.Njj(E.action())}),i.j41(1,"g"),i.nrm(2,"path",4),i.k0s()()}if(2&b){const S=i.XpG();i.AVh("action",S.action),i.R7$(2),i.xc7("fill",S.fill)("stroke",S.stroke)}}let g=(()=>{class b{constructor(S){this._details=S,this.message=this._details.message,this.fill=this._details.fill||"#e53935",this.stroke=this._details.stroke||"#fff",this.action=this._details.action||null}ngOnInit(){setTimeout(()=>this.show=!0,300),setTimeout(()=>this.show_message=!0,1e3)}static#e=this.\u0275fac=function(D){return new(D||b)(i.rXU(e.N))};static#t=this.\u0275cmp=i.VBU({type:b,selectors:[["","map-pin",""]],attrs:p,decls:2,vars:2,consts:[["name","message","class","p-2 m-2 rounded bg-base-100 text-gray-700 shadow",4,"ngIf"],["name","pin","viewBox","0 0 380 560",3,"action","click",4,"ngIf"],["name","message",1,"p-2","m-2","rounded","bg-base-100","text-gray-700","shadow"],["name","pin","viewBox","0 0 380 560",3,"click"],["stroke-width","25","d","M182.9,551.7c0,0.1,0.2,0.3,0.2,0.3S358.3,283,358.3,194.6c0-130.1-88.8-186.7-175.4-186.9\n            C96.3,7.9,7.5,64.5,7.5,194.6c0,88.4,175.3,357.4,175.3,357.4S182.9,551.7,182.9,551.7z M122.2,187.2c0-33.6,27.2-60.8,60.8-60.8\n            c33.6,0,60.8,27.2,60.8,60.8S216.5,248,182.9,248C149.4,248,122.2,220.8,122.2,187.2z"]],template:function(D,E){1&D&&i.DNE(0,m,2,1,"div",0)(1,_,3,6,"svg",1),2&D&&(i.Y8G("ngIf",E.message&&E.show_message),i.R7$(),i.Y8G("ngIf",E.show))},dependencies:[d.bT],styles:["[_nghost-%COMP%]{position:absolute;bottom:50%;left:50%;width:24rem;display:flex;flex-direction:column;align-items:center;transform:translate(-50%);z-index:-1}div[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-in-top 1s}.action[_ngcontent-%COMP%]{pointer-events:auto}svg[_ngcontent-%COMP%]{width:2rem;animation:_ngcontent-%COMP%_fade-in-top 1s}@keyframes _ngcontent-%COMP%_fade-in-top{0%{opacity:0;transform:translateY(-100%)}to{opacity:1;transform:translateY(0)}}"]})}return b})()},5384:(Mt,pe,a)=>{"use strict";a.d(pe,{o:()=>u});var e=a(9197),i=a(4918),d=a(3953),p=a(177);const m=["map-radius",""];function _(S,D){if(1&S&&(d.j41(0,"span",6),d.EFF(1),d.k0s()),2&S){const E=d.XpG(3);d.R7$(),d.SpI(" Last updated: ",E.last_seen_at," ")}}function g(S,D){if(1&S&&(d.j41(0,"div",4),d.EFF(1),d.DNE(2,_,2,1,"span",5),d.k0s()),2&S){const E=d.XpG(2);d.xc7("top","-"+E.radius/2*E.zoom+"px"),d.R7$(),d.SpI(" ",E.message," "),d.R7$(),d.Y8G("ngIf",E.last_seen)}}function b(S,D){if(1&S){const E=d.RV6();d.qex(0,1),d.bIt("resize",function(){d.eBV(E);const v=d.XpG();return d.Njj(v.updateRadius())},!1,d.tSv),d.nrm(1,"div",2),d.DNE(2,g,3,4,"div",3),d.bVm()}if(2&S){const E=d.XpG();d.R7$(),d.xc7("border-color",E.stroke)("background-color",E.fill+"40")("width",E.radius*E.zoom+"px")("height",E.radius*E.zoom+"px"),d.R7$(),d.Y8G("ngIf",E.message&&E.show_message)}}let u=(()=>{class S{get last_seen_at(){return(0,e.m)(1e3*this.last_seen)+" ago"}constructor(E,A){this._details=E,this._el=A,this.zoom=1,this.radius=this._details.radius||10,this.message=this._details.message,this.fill=this._details.fill||"#e53935",this.stroke=this._details.stroke||"#e53935",this.last_seen=this._details.last_seen||0,this._details.zoom$?.subscribe(v=>Math.max(.5,this.zoom=v||1))}ngOnInit(){setTimeout(()=>this.show=!0,300),setTimeout(()=>this.show_message=!0,1e3)}ngAfterViewInit(){this.updateRadius()}updateRadius(){const E=this._el.nativeElement.getBoundingClientRect();if(!E.width)return setTimeout(()=>this.updateRadius(),300);this.radius=Math.max(64,(this._details.radius||10)*(E.width||10))}static#e=this.\u0275fac=function(A){return new(A||S)(d.rXU(i.N),d.rXU(d.aKT))};static#t=this.\u0275cmp=d.VBU({type:S,selectors:[["","map-radius",""]],attrs:m,decls:1,vars:1,consts:[[3,"resize",4,"ngIf"],[3,"resize"],["radius","",1,"center","border-4","rounded-full","border-dashed"],["message","","class","p-2 m-2 rounded bg-base-100 text-gray-700 shadow absolute top-0 whitespace-no-wrap flex flex-col w-64",3,"top",4,"ngIf"],["message","",1,"p-2","m-2","rounded","bg-base-100","text-gray-700","shadow","absolute","top-0","whitespace-no-wrap","flex","flex-col","w-64"],["class","text-xs",4,"ngIf"],[1,"text-xs"]],template:function(A,v){1&A&&d.DNE(0,b,3,9,"ng-container",0),2&A&&d.Y8G("ngIf",v.show&&v.radius)},dependencies:[p.bT],styles:["[_nghost-%COMP%]{position:absolute;height:100%;width:100%}[message][_ngcontent-%COMP%]{transform:translate(-50%,-120%);animation:_ngcontent-%COMP%_fade-in-top 1s}@keyframes _ngcontent-%COMP%_fade-in-top{0%{opacity:0;transform:translate(-50%,-220%)}to{opacity:1;transform:translate(-50%,-120%)}}"]})}return S})()},9489:(Mt,pe,a)=>{"use strict";a.d(pe,{F:()=>y});var e=a(467),i=a(3953),d=a(7375),p=a(6511),m=a(9596),_=a(9928),g=a(5006),b=a(4918),u=a(177),S=a(9183),D=a(4616);const E=["outlet"],A=["feature"];function v(I,w){1&I&&i.nrm(0,"mat-spinner",7),2&I&&i.Y8G("diameter",48)}function O(I,w){if(1&I&&(i.qex(0),i.DNE(1,v,1,1,"mat-spinner",6),i.bVm()),2&I){const L=i.XpG();i.R7$(),i.Y8G("ngIf",!L.viewer||L.loading)}}function z(I,w){1&I&&i.eu8(0)}function G(I,w){if(1&I&&(i.qex(0),i.DNE(1,z,1,0,"ng-container",14),i.bVm()),2&I){const L=i.XpG(2),Q=L.$implicit,te=L.index,R=i.XpG(2);i.R7$(),i.Y8G("ngComponentOutlet",Q.content)("ngComponentOutletInjector",R.injectors[te])}}function K(I,w){if(1&I&&(i.qex(0),i.nrm(1,"div",15),i.nI1(2,"sanitize"),i.bVm()),2&I){const L=i.XpG(2).$implicit;i.R7$(),i.Y8G("innerHTML",i.bMT(2,1,L.content),i.npT)}}function F(I,w){1&I&&i.eu8(0)}function H(I,w){if(1&I&&(i.qex(0),i.DNE(1,F,1,0,"ng-container",16),i.bVm()),2&I){const L=i.XpG(2).$implicit;i.R7$(),i.Y8G("ngTemplateOutlet",L.content)("ngTemplateOutletContext",L.data)}}function Y(I,w){if(1&I&&(i.j41(0,"div")(1,"div",11,2),i.DNE(3,G,2,2,"ng-container",12)(4,K,3,3,"ng-container",12)(5,H,2,2,"ng-container",13),i.k0s()()),2&I){const L=i.XpG().$implicit,Q=i.XpG(2);i.R7$(),i.Y8G("ngSwitch",Q.type(L.content)),i.BMQ("no-scale",L.no_scale)("el-id",L.location)("track-id",L.track_id)("view-id",Q.viewer),i.R7$(2),i.Y8G("ngSwitchCase","component"),i.R7$(),i.Y8G("ngSwitchCase","html")}}function P(I,w){if(1&I&&(i.qex(0),i.DNE(1,Y,6,7,"div",10),i.bVm()),2&I){const L=w.$implicit;i.R7$(),i.Y8G("ngIf",L)}}function U(I,w){if(1&I&&(i.j41(0,"div",8),i.DNE(1,P,2,1,"ng-container",9),i.k0s()),2&I){const L=i.XpG();i.R7$(),i.Y8G("ngForOf",L.features)("ngForTrackBy",L.trackByFn)}}function $(I,w){1&I&&(i.j41(0,"div",17)(1,"div",18),i.EFF(2,"No map"),i.k0s()())}let y=(()=>{class I extends d.Tv{onResize(){this.zoom=1,this.center={x:.5,y:.5},this.updateDisplay()}type(L){return"string"==typeof L?"html":L instanceof i.C4Q?"template":"component"}constructor(L){super(),this._injector=L,this.zoom=1,this.center={x:.5,y:.5},this.reset=0,this.zoomChange=new i.bkB,this.centerChange=new i.bkB,this.mapInfo=new i.bkB,this.injectors=[],this.feature_list=[],this._on_changes=new _.t(null),this._extra_data={ratio$:this._on_changes.pipe((0,g.T)(Q=>Q.ratio)),svg_ratio$:this._on_changes.pipe((0,g.T)(Q=>Q.svg_ratio)),zoom$:this._on_changes.pipe((0,g.T)(Q=>Q.zoom)),position:this._on_changes.pipe((0,g.T)(Q=>Q.center))}}ngOnInit(){(0,p.Of)()}ngOnDestroy(){this.viewer&&(0,p.b2)(this.viewer)}ngOnChanges(L){L.src&&this.src&&this.createView().catch(Q=>console.warn(Q)),L.features&&this.updateInjectors(),this.viewer&&(L.focus&&this.focus?this.focusOn(this.focus):(L.zoom&&L.zoom.previousValue!=L.zoom.currentValue||L.center&&!function B(I,w){return I.x===w.x&&I.y===w.y}(L.center.previousValue,L.center.currentValue))&&this.updateDisplay(),(L.styles||L.features||L.labels||L.actions)&&this.timeout("update_view",()=>this.updateView())),L.reset&&L.reset.currentValue!==L.reset.previousValue&&(this.zoom=1,this.center={x:.5,y:.5},this.updateDisplay())}ngAfterViewInit(){this.createView().catch(L=>console.warn(L))}updateView(){try{if(!(0,p.tk)(this.viewer)||this.loading)return this.timeout("update_view",()=>this.updateView());this.updateFeatureList(),(0,p.Ay)(this.viewer,{styles:this.styles,features:this.feature_list,labels:this.labels,actions:this.actions,options:this.options})}catch{}}updateDisplay(){try{(0,p.Ay)(this.viewer,{zoom:this.zoom,desired_zoom:this.zoom,center:this.center,desired_center:this.center,options:this.options})}catch{}}createView(){var L=this;return(0,e.A)(function*(){if(!(0,m.kup)())return L.timeout("create_view",()=>L.createView().catch(te=>console.warn(te)),300);const Q=L.src?.toLowerCase()||"";if(Q.includes("svg")||Q.includes("upload"))if(L.src&&L._outlet_el?.nativeElement&&!L.loading){if(L.loading=!0,L.viewer)try{(0,p.Ay)(L.viewer,{styles:L.styles,features:[],labels:L.labels,actions:L.actions,options:L.options}),(0,p.b2)(L.viewer)}catch(ee){return void console.warn(ee)}L.updateFeatureList();const te=(0,m.ShT)();if(document.cookie=`${"x-api-key"===te?"api-key="+encodeURIComponent((0,m.Kz4)()):"bearer_token="+encodeURIComponent(te)};max-age=30;path=/api/engine/v2/uploads;samesite=strict;${"https:"===location.protocol?"secure;":""}`,L.viewer=yield(0,p.Rx)({element:L._outlet_el?.nativeElement,url:L.src,styles:L.styles,zoom:L.zoom,desired_zoom:L.zoom,center:L.center,features:L.feature_list,labels:L.labels,actions:L.actions,options:L.options}).catch(ee=>(console.warn(ee),"")),L.loading=!1,!L.viewer)return;L.loading=!1,L.subscription("view_changes",(0,p.mn)(L.viewer)?.subscribe(ee=>{L._outlet_el.nativeElement.getBoundingClientRect(),L._on_changes.next({...ee}),L.zoomChange.emit(ee.zoom),L.centerChange.emit(ee.center)}));const R=(0,p.tk)(L.viewer);L.mapInfo.emit(R.mappings),L.focus&&L.focusOn(L.focus)}else(L.src&&!L._outlet_el?.nativeElement||L.loading)&&L.timeout("create_view",()=>L.createView().catch(te=>console.warn(te)))})()}focusOn(L){if(!L||!this.viewer)return;const Q=(0,p.tk)(this.viewer);if(!Q)return;const te=Q.mappings[L];te&&(this.center={x:1-(te.x+te.w/2),y:1-(te.y+te.h/4)},this.updateDisplay())}trackByFn(L,Q){return Q?.track_id}updateFeatureList(){this.feature_list=(this.features||[]).map((L,Q)=>({...L,content:this._feature_list.toArray()[Q]?.nativeElement})).filter(L=>L.content)}updateInjectors(){const L=this.injectors||[];this.injectors=(this.features||[]).map(Q=>L.find(te=>te.get(b.N)?.track_id&&te.get(b.N)?.track_id===Q.track_id)||i.zZn.create({providers:[{provide:b.N,useValue:{track_id:Q.track_id,...Q.data,...this._extra_data}}],parent:this._injector}))}static#e=this.\u0275fac=function(Q){return new(Q||I)(i.rXU(i.zZn))};static#t=this.\u0275cmp=i.VBU({type:I,selectors:[["map-renderer"]],viewQuery:function(Q,te){if(1&Q&&(i.GBs(E,5),i.GBs(A,5)),2&Q){let R;i.mGM(R=i.lsd())&&(te._outlet_el=R.first),i.mGM(R=i.lsd())&&(te._feature_list=R)}},hostBindings:function(Q,te){1&Q&&i.bIt("resize",function(){return te.onResize()},!1,i.tSv)},inputs:{src:"src",styles:"styles",zoom:"zoom",center:"center",features:"features",labels:"labels",actions:"actions",reset:"reset",options:"options",focus:"focus"},outputs:{zoomChange:"zoomChange",centerChange:"centerChange",mapInfo:"mapInfo"},features:[i.Vt3,i.OA$],decls:6,vars:5,consts:[["outlet",""],["empty_state",""],["feature",""],["tabindex","0","role","map",1,"absolute","inset-0"],[4,"ngIf","ngIfElse"],["hidden","",4,"ngIf"],["class","absolute",3,"diameter",4,"ngIf"],[1,"absolute",3,"diameter"],["hidden",""],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[1,"pointer-events-none",3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngComponentOutlet","ngComponentOutletInjector"],[3,"innerHTML"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"absolute","inset-0","flex","items-center","justify-center"],[1,"opacity-30"]],template:function(Q,te){if(1&Q&&(i.nrm(0,"div",3,0),i.DNE(2,O,2,1,"ng-container",4)(3,U,2,2,"div",5)(4,$,3,0,"ng-template",null,1,i.C5r)),2&Q){const R=i.sdS(5);i.AVh("hidden",!te.src),i.R7$(2),i.Y8G("ngIf",te.src)("ngIfElse",R),i.R7$(),i.Y8G("ngIf",null==te.injectors?null:te.injectors.length)}},dependencies:[u.OI,u.Sq,u.bT,u.T3,u.ux,u.e1,u.fG,S.LG,D.a],styles:["[_nghost-%COMP%]{height:100%;width:100%}mat-spinner[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%)}"]})}return I})()},877:(Mt,pe,a)=>{"use strict";a.d(pe,{B:()=>z});var e=a(467),i=a(3953),d=a(2185),p=a(7375),m=a(9420),_=a(9493),g=a(177),b=a(6600),u=a(9183),S=a(9434);const D=["map_container"];function E(G,K){1&G&&i.nrm(0,"mat-spinner",6)}function A(G,K){if(1&G){const F=i.RV6();i.j41(0,"button",3),i.bIt("click",function(){i.eBV(F);const Y=i.XpG();return i.Njj(Y.toggleDirections())}),i.j41(1,"app-icon"),i.EFF(2,"place"),i.k0s(),i.j41(3,"div",4),i.EFF(4),i.k0s(),i.DNE(5,E,1,0,"mat-spinner",5),i.k0s()}if(2&G){const F=i.XpG();i.R7$(4),i.SpI(" ",F.viewing_directions?"Hide":"Show"," Directions "),i.R7$(),i.Y8G("ngIf",F.loading_directions)}}const v=18.5,O={};let z=(()=>{class G extends p.Tv{constructor(F,H){super(),this._maps_people=F,this._org=H,this.zoom=v,this.zoomChange=new i.bkB,this.zoneChange=new i.bkB,this.show_directions=!1,this.viewing_directions=!1,this.loading_directions=!1,this.ignore_zoom=!1,this._floor_list=[],this._added_floor_selector=!1;const Y=sessionStorage.getItem("PLACEOS.mapsindoors.resources")||"{}",P=JSON.parse(Y);for(const U in P)P.hasOwnProperty(U)&&(O[U]=P[U])}ngOnInit(){this.id=(0,p.DU)(8),this._initialised.next(!1),this._initialiseServices()}ngOnChanges(F){if(!this.is_initialised)return this.timeout("on_changes",()=>this.ngOnChanges(F));F.zone&&this.zone&&this._centerOnZone(),F.focus&&this.focus&&this._focusOnLocation(),F.metadata&&this._updateMapStyling(),F.zoom&&this.zoom&&!this.ignore_zoom&&this._services?.map?.setZoom(this.zoom),F.reset&&(this._services?.map?.setZoom(v),this._centerOnZone()),F.options&&this._addFloorSelector()}_setResource(F,H){O[F]=H,this.timeout("set_resource",()=>{sessionStorage.setItem("PLACEOS.mapsindoors.resources",JSON.stringify(O))})}_initialiseServices(){if(!this._maps_people.is_ready||!window.mapsindoors)return void this.timeout("init",()=>this._initialiseServices(),1e3);const[F,H]=(this._org.building?.location||"-33.8567844,151.2152967").split(","),Y={element:this._container.nativeElement,center:{lat:parseFloat(F),lng:parseFloat(H)},zoom:v,maxZoom:24};let P=null;switch(this._maps_people.map_service){case m.u.GoogleMaps:(0,p.Rm)("MapsIndoors","Using Google Maps API"),P=new mapsindoors.mapView.GoogleMapsView(Y);break;case m.u.Mapbox:Y.accessToken=this._maps_people.map_token,(0,p.Rm)("MapsIndoors","Using Mapbox API"),P=new mapsindoors.mapView.MapboxView(Y)}if(!P)return void(0,p.WS)("Failed to initialise map view.");const U=this._maps_people.map_service===m.u.GoogleMaps?new mapsindoors.directions.GoogleMapsProvider:new mapsindoors.directions.MapboxProvider(this._maps_people.map_token),$=new mapsindoors.MapsIndoors({mapView:P});this._services={mapsindoors:$,view:P,map:P.getMap(),directions:new mapsindoors.services.DirectionsService(U),directions_renderer:new mapsindoors.directions.DirectionsRenderer({mapsIndoors:$})},this._initialised.next(!0),this.zone&&(this._services.map.setZoom(v),this._centerOnZone()),this._addFloorSelector(),this._services.mapsindoors.addListener("building_changed",B=>this._handleBuildingChange(B)),this._services.mapsindoors.addListener("floor_changed",B=>this._handleLevelChange(B)),this._services.mapsindoors.addListener("zoom_changed",B=>this._handleZoomChange(B)),this._services.mapsindoors.addListener("click",B=>this._handleUserClick(B)),this.timeout("resize",()=>window.dispatchEvent(new Event("resize")),100),window.maps_indoors=this._services,this.timeout("focus",()=>this._focusOnLocation()),this.timeout("init_zoom",()=>this._handleZoomChange(v))}clearDirections(){this._services.directions_renderer.setRoute(null),this.viewing_directions=!1}toggleDirections(){var F=this;return(0,e.A)(function*(){if(F.viewing_directions)return F.clearDirections(),void F._focusOnLocation();if(!F.focus)return;const H=yield F._search(F.focus);if(!H?.length)return void(0,p.UG)(`Unable to find location "${F.focus}".`);F.loading_directions=!0;const Y=H[0],P=F._org.buildings.find(y=>y.id===F.zone.parent_id),[U,$]=Y.properties?.anchor?.coordinates||P?.location.split(",")||[37.8136,144.9631];navigator.geolocation.getCurrentPosition(function(){var y=(0,e.A)(function*(I){F._last_position=I,F.setDirectionsFromLocation({lat:I.coords.latitude,lng:I.coords.longitude},{lat:$,lng:U})});return function(I){return y.apply(this,arguments)}}(),()=>{F._last_position?F.setDirectionsFromLocation({lat:F._last_position.coords.latitude,lng:F._last_position.coords.longitude},{lat:$,lng:U}):(0,p.UG)("Failed to get your current location.")},{timeout:1e4,enableHighAccuracy:!0})})()}setDirectionsFromLocation(F,H){var Y=this;return(0,e.A)(function*(){const P=(0,p.gd)(H.lat,H.lng,F.lat,F.lng),U={origin:{lat:F.lat,lng:F.lng},destination:{lat:H.lat,lng:H.lng},travelMode:P<2?"WALKING":"DRIVING"},$=yield Y._services.directions.getRoute(U).catch(B=>{(0,p.Rm)("MapsIndoors","Error fetching route: ",B.message||B,"warn");const y=B instanceof TypeError&&B.message?.includes("origin");Y.loading_directions=!1,y&&(0,p.UG)("Error: Origin location is outside of map area.")});$&&(Y._services.directions_renderer.setRoute($),Y.viewing_directions=!0,Y.loading_directions=!1)})()}_handleZoomChange(F){this.timeout("zoom_change",()=>{this.ignore_zoom=!0,this.zoom=F,this.zoomChange.emit(F),this.timeout("reset_ignore_zoom",()=>this.ignore_zoom=!1,50)},100)}_handleBuildingChange(F){const H=F.externalId||F.id;(0,p.Rm)("MapsIndoors",`Building switched to "${H}"`);const Y=F.floors||{};if(this._floor_list=Object.keys(Y).map(U=>({index:U,...Y[U]})),(0,p.Rm)("MapsIndoors","Floor List:",this._floor_list),!this._services)return;const P=this._org.buildings.find(U=>U.id===H||U.map_id===H);this.timeout("set_floor",()=>{!this._setFloorFromZone()&&F.defaultFloor&&this._handleLevelChange(F.defaultFloor)}),P&&(this._org.building=P,this._last_building=P.id)}_handleLevelChange(F){var H=this;return(0,e.A)(function*(){(0,p.Rm)("MapsIndoors",`Level switched to "${F}"`);const Y=H._floor_list.find(B=>B.index===F),P=Y?.externalId||Y?.id;if(!H._services)return;const U=yield H._org.active_levels.pipe((0,_.s)(1)).toPromise();if(!U)return;const $=U.find(B=>B.map_id===P||B.id===P);$&&(H.zone=$,H.zoneChange.emit($))})()}_handleUserClick(F){(0,p.Rm)("MapsIndoors","Click occurred",F);const H=F.properties?.externalId||F.properties?.roomId||F.id,Y=this.metadata?.actions||[];(0,p.Rm)("MapsIndoors","Registered Actions",Y);const P=["mousedown","touchstart","enter","leave"];for(const U of Y)if((U.id===H||"*"===U.id)&&!P.includes(U.action)){U.callback(F);break}}_search(F){var H=this;return(0,e.A)(function*(){if(H._services)return mapsindoors?.services.LocationsService.getLocations({q:F})})()}_updateMapStyling(){var F=this;return(0,e.A)(function*(){if(!F._services)return;const H=F.metadata?.styles||{};for(const Y in H){if(!H[Y].fill)continue;let P=O[Y];if(!P){const $=Y.replace(/#/,""),B=yield F._search($);if(!B.length)continue;P=B.find(y=>y.properties?.externalId===$||y.properties?.roomId===$||y.id===$),P&&F._setResource(Y,P)}P&&F._services.mapsindoors.setDisplayRule(P.id,{extrusionHeight:0,extrusionVisible:!1,polygonVisible:!0,polygonFillColor:H[Y].fill})}})()}_focusOnLocation(){var F=this;return(0,e.A)(function*(){if(!F.focus)return;const H=yield F._search(F.focus);if(F.clearDirections(),!H?.length)return void(0,p.UG)(`Unable to find location ${F.focus}.`);const Y=H.find(B=>B.properties?.externalId===F.focus)||H[0],P=F._org.buildings.find(B=>B.id===F.zone.parent_id),[U,$]=Y.properties?.anchor?.coordinates||P?.location.split(",")||[37.8136,144.9631];F._services.map.setZoom(v),F._services.map.setCenter({lat:$,lng:U}),F._services.mapsindoors.setFloor(Y.properties?.floor),F._services.mapsindoors.highlight([Y.id])})()}_centerOnZone(){!this._services||!this.zone||this.zone.parent_id===this._last_building||this.zone.id===this._last_building||this.timeout("set_center",()=>{const F=this._org.buildings.find(P=>P.id===this.zone.parent_id);if(!F)return;const[H,Y]=F?.location.split(",");this.focus||this._services.map.setCenter({lat:parseFloat(H),lng:parseFloat(Y)}),this._setFloorFromZone(),this._last_building=this.zone.id})}_setFloorFromZone(){if(!this.zone.map_id||!this._services)return!1;const F=this.zone.map_id,H=this._floor_list.find(Y=>Y.index===F||Y.externalId===F||Y.id===F);return!!H&&(this._services.mapsindoors.setFloor(H.index),!0)}_addFloorSelector(){if(!this.options?.controls||this._added_floor_selector)return;const F=document.createElement("div");new mapsindoors.FloorSelector(F,this._services.mapsindoors),this._maps_people.map_service===m.u.GoogleMaps?this._services.map.controls[google.maps.ControlPosition.RIGHT_TOP].push(F):this._services.map.addControl({onAdd:()=>F,onRemove:()=>{}}),this._added_floor_selector=!0}static#e=this.\u0275fac=function(H){return new(H||G)(i.rXU(p._e),i.rXU(d.yb))};static#t=this.\u0275cmp=i.VBU({type:G,selectors:[["maps-indoors"]],viewQuery:function(H,Y){if(1&H&&i.GBs(D,7),2&H){let P;i.mGM(P=i.lsd())&&(Y._container=P.first)}},inputs:{zone:"zone",metadata:"metadata",options:"options",focus:"focus",zoom:"zoom",reset:"reset"},outputs:{zoomChange:"zoomChange",zoneChange:"zoneChange"},features:[i.Vt3,i.OA$],decls:3,vars:1,consts:[["map_container",""],[1,"absolute","inset-0","z-0"],["btn","","matRipple","","class","absolute bottom-2 left-2 bg-base-100 text-base-content shadow z-10 border-base-200 space-x-2",3,"click",4,"ngIf"],["btn","","matRipple","",1,"absolute","bottom-2","left-2","bg-base-100","text-base-content","shadow","z-10","border-base-200","space-x-2",3,"click"],[1,"pr-2"],["diameter","24",4,"ngIf"],["diameter","24"]],template:function(H,Y){1&H&&(i.nrm(0,"div",1,0),i.DNE(2,A,6,2,"button",2)),2&H&&(i.R7$(2),i.Y8G("ngIf",Y.focus&&!Y.show_directions&&(null==Y.options?null:Y.options.controls)))},dependencies:[g.bT,b.r6,u.LG,S.R]})}return G})()},8975:(Mt,pe,a)=>{"use strict";a.d(pe,{X:()=>d});var e=a(7375),i=a(3953);let d=(()=>{class p{transform(_,g=!1){const b=Math.floor(_/60/60),u=Math.floor(_/60%60),S=Math.floor(_%60),D=Math.floor(1e3*_%1e3);let E=`${(0,e.go)(u)}:${(0,e.go)(S)}`;return g&&(E+=`.${(0,e.go)(D,3)}`),b>0&&(E=`${(0,e.go)(b)}:${E}`),E}static#e=this.\u0275fac=function(g){return new(g||p)};static#t=this.\u0275pipe=i.EJ8({name:"mediaDuration",type:p,pure:!0})}return p})()},4418:(Mt,pe,a)=>{"use strict";a.d(pe,{S:()=>g});var e=a(3953),i=a(7375),d=a(177),p=a(6600),m=a(9434);function _(b,u){if(1&b){const S=e.RV6();e.j41(0,"button",2),e.bIt("click",function(){const E=e.eBV(S).$implicit,A=e.XpG();return A.action.emit(E.id),e.Njj(A.show=!1)}),e.nrm(1,"app-icon",3),e.k0s()}if(2&b){const S=u.$implicit,D=u.index,E=e.XpG();e.xc7("top",E.show?-110*D-60+"%":""),e.R7$(),e.Y8G("icon",S)}}let g=(()=>{class b extends i.Tv{constructor(){super(...arguments),this.actions=[],this.action=new e.bkB}close(){this.timeout("close",()=>this.show=!1)}static#e=this.\u0275fac=(()=>{let S;return function(E){return(S||(S=e.xGo(b)))(E||b)}})();static#t=this.\u0275cmp=e.VBU({type:b,selectors:[["a-popout-menu"]],inputs:{actions:"actions"},outputs:{action:"action"},features:[e.Vt3],decls:4,vars:4,consts:[["icon","","matRipple","","class","small absolute text-base center shadow",3,"top","click",4,"ngFor","ngForOf"],["name","root","icon","","matRipple","",3,"click"],["icon","","matRipple","",1,"small","absolute","text-base","center","shadow",3,"click"],[3,"icon"]],template:function(D,E){1&D&&(e.DNE(0,_,2,3,"button",0),e.j41(1,"button",1),e.bIt("click",function(){return E.show=!E.show})("click",function(){return E.show?E.close():""},!1,e.tSv),e.j41(2,"app-icon"),e.EFF(3),e.k0s()()),2&D&&(e.Y8G("ngForOf",E.actions),e.R7$(),e.AVh("show",E.show),e.R7$(2),e.JRh(E.show?"add":"more_vert"))},dependencies:[d.Sq,p.r6,m.R],styles:["[_nghost-%COMP%]{position:relative}app-icon[_ngcontent-%COMP%]{transition:transform .2s}button[_ngcontent-%COMP%]{background-color:#fff;color:rgba(#000,.85);font-size:1.25rem;height:2.5em;width:2.5em}button.show[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{transform:rotate(45deg)}button.small[_ngcontent-%COMP%]{transition:top .2s,left .2s}"]})}return b})()},4846:(Mt,pe,a)=>{"use strict";a.d(pe,{L:()=>u});var e=a(6939),i=a(5354),d=a(3953),p=a(7987),m=a(4616);const _=["printable",""],g=["*"];function b(S,D){if(1&S&&(d.nrm(0,"div",1),d.nI1(1,"sanitize")),2&S){const E=d.XpG();d.Y8G("innerHTML",d.bMT(1,1,E.content),d.npT)}}let u=(()=>{class S extends i.T{constructor(E,A){super(),this._overlay=E,this._elem=A,this.content="",this._overlay_ref=null}ngOnInit(){this.open()}ngAfterViewInit(){this.content=this._elem.nativeElement.outerHTML}ngOnDestroy(){super.ngOnDestroy(),this.close()}open(){this.timeout("open",()=>{this._overlay_ref&&this.close(),this._portal&&(this._overlay_ref=this._overlay.create({hasBackdrop:!1,positionStrategy:this._overlay.position().flexibleConnectedTo(document.body).withPositions([{originX:"end",originY:"top",overlayX:"end",overlayY:"top"}])}),this._overlay_ref.attach(this._portal))},50)}close(){this.clearTimeout("open"),this._overlay_ref&&(this._overlay_ref.dispose(),this._overlay_ref=null)}static#e=this.\u0275fac=function(A){return new(A||S)(d.rXU(p.hJ),d.rXU(d.aKT))};static#t=this.\u0275cmp=d.VBU({type:S,selectors:[["","printable",""]],viewQuery:function(A,v){if(1&A&&d.GBs(e.bV,5),2&A){let O;d.mGM(O=d.lsd())&&(v._portal=O.first)}},features:[d.Vt3],attrs:_,ngContentSelectors:g,decls:2,vars:0,consts:[["cdk-portal",""],["printable-view","",1,"fixed","top-0","left-0","flex-col","items-end","hidden","print:flex","pointer-events-none",3,"innerHTML"]],template:function(A,v){1&A&&(d.NAR(),d.SdG(0),d.DNE(1,b,2,3,"ng-template",0))},dependencies:[e.Qq,m.a],encapsulation:2})}return S})()},8283:(Mt,pe,a)=>{"use strict";a.d(pe,{K:()=>g});var e=a(467),i=a(4046),d=a(7375),p=a(5762),m=a(3953),_=a(3141);let g=(()=>{class b{constructor(S,D,E){this._settings=S,this._org=D,this._router=E}ngOnInit(){var S=this;return(0,e.A)(function*(){yield S._settings.initialised.pipe((0,i.$)(D=>D)).toPromise(),yield S._org.initialised.pipe((0,i.$)(D=>D)).toPromise(),S._settings.get("app.default_route")&&S._router.navigate(S._settings.get("app.default_route").split("/"))})()}static#e=this.\u0275fac=function(D){return new(D||b)(m.rXU(d.h$),m.rXU(p.y),m.rXU(_.Ix))};static#t=this.\u0275cmp=m.VBU({type:b,selectors:[["page-redirect"]],decls:0,vars:0,template:function(D,E){}})}return b})()},6962:(Mt,pe,a)=>{"use strict";a.d(pe,{q:()=>S});var e=a(467),i=a(6815),d=a(2185),p=a(3953),m=a(177),_=a(9417),g=a(5951),b=a(9434);function u(D,E){if(1&D){const A=p.RV6();p.j41(0,"mat-radio-button",8),p.bIt("click",function(){const O=p.eBV(A).$implicit,z=p.XpG();return p.Njj(z.setRegion(O))}),p.EFF(1),p.k0s()}if(2&D){const A=E.$implicit;p.Y8G("value",A.id),p.R7$(),p.SpI(" ",A.display_name||A.name," ")}}let S=(()=>{class D{constructor(A,v){var O=this;this._data=A,this._org=v,this.regions=this._org.region_list,this.region=this._org.active_region,this.setRegion=function(){var z=(0,e.A)(function*(G){yield O._org.setRegion(G),O._org.saveBuilding(O._org.building.id),O._data?.close()});return function(G){return z.apply(this,arguments)}}(),this.close=()=>this._data?.close()}static#e=this.\u0275fac=function(v){return new(v||D)(p.rXU(i.Dd),p.rXU(d.yb))};static#t=this.\u0275cmp=p.VBU({type:D,selectors:[["region-select"]],decls:14,vars:11,consts:()=>{let A;return A=$localize`:234e996785a944c8e8c7df16179eaa04405b34465361505502593902636:Select a region`,[A,[1,"flex","flex-col","w-[18.5rem]","rounded","bg-base-100","shadow","p-2","relative","-top-12","-right-1","overflow-auto","max-h-[65vh]",3,"click"],[1,"flex","items-center","space-x-2"],[1,"text-2xl"],[1,""],[1,"text-xs","opacity-60","mb-4","px-2"],[1,"flex","flex-col","space-y-2","px-2",3,"ngModel"],[3,"value","click",4,"ngFor","ngForOf"],[3,"click","value"]]},template:function(v,O){if(1&v&&(p.j41(0,"div",1),p.bIt("click",function(){return O.close()}),p.j41(1,"div",2)(2,"app-icon",3),p.EFF(3,"arrow_back"),p.k0s(),p.j41(4,"div",4),p.EFF(5),p.nI1(6,"async"),p.nI1(7,"async"),p.k0s()(),p.j41(8,"div",5),p.pXf(9,0),p.k0s(),p.j41(10,"mat-radio-group",6),p.nI1(11,"async"),p.DNE(12,u,2,2,"mat-radio-button",7),p.nI1(13,"async"),p.k0s()()),2&v){let z,G;p.R7$(5),p.SpI(" ",(null==(z=p.bMT(6,3,O.region))?null:z.display_name)||(null==(z=p.bMT(7,5,O.region))?null:z.name)," "),p.R7$(5),p.Y8G("ngModel",null==(G=p.bMT(11,7,O.region))?null:G.id),p.R7$(2),p.Y8G("ngForOf",p.bMT(13,9,O.regions))}},dependencies:[m.Sq,_.BC,_.vS,g.VT,g._g,b.R,m.Jj]})}return D})()},6781:(Mt,pe,a)=>{"use strict";a.d(pe,{m:()=>d});var e=a(3953),i=a(345);let d=(()=>{class p{constructor(_){this.sanitizer=_}transform(_,g="html"){switch(g){case"resource":return this.sanitizer.bypassSecurityTrustResourceUrl(_);case"url":return this.sanitizer.bypassSecurityTrustUrl(_);case"script":return this.sanitizer.bypassSecurityTrustScript(_);case"style":return this.sanitizer.bypassSecurityTrustStyle(_);default:return this.sanitizer.bypassSecurityTrustHtml(_)}}static#e=this.\u0275fac=function(g){return new(g||p)(e.rXU(i.up,16))};static#t=this.\u0275pipe=e.EJ8({name:"safe",type:p,pure:!0})}return p})()},4616:(Mt,pe,a)=>{"use strict";a.d(pe,{a:()=>p});var e=a(3953),i=a(345),d=function(m){return m[m.NONE=0]="NONE",m[m.HTML=1]="HTML",m[m.STYLE=2]="STYLE",m[m.SCRIPT=3]="SCRIPT",m[m.URL=4]="URL",m[m.RESOURCE_URL=5]="RESOURCE_URL",m}(d||{});let p=(()=>{class m{constructor(g){this.sanitizer=g}transform(g,b="html"){switch(b){case"resource":return this.sanitizer.sanitize(d.RESOURCE_URL,g);case"url":return this.sanitizer.sanitize(d.URL,g);case"script":return this.sanitizer.sanitize(d.SCRIPT,g);case"style":return this.sanitizer.sanitize(d.STYLE,g);default:return this.sanitizer.sanitize(d.HTML,g)}}static#e=this.\u0275fac=function(b){return new(b||m)(e.rXU(i.up,16))};static#t=this.\u0275pipe=e.EJ8({name:"sanitize",type:m,pure:!0})}return m})()},8328:(Mt,pe,a)=>{"use strict";a.d(pe,{O:()=>Q});var e=a(467),i=a(3953),d=a(7375),p=a(9928),m=a(9714),_=a(3020),g=a(5006),b=a(8712),u=a(9493),S=a(177),D=a(6600),E=a(2765),A=a(9434);const v=(te,R,ee,k,J,X,fe)=>({first:te,last:R,index:ee,data:k,row:J,key:X,name:fe}),O=(te,R,ee,k)=>({first:te,last:R,index:ee,row:k});function z(te,R){if(1&te){const ee=i.RV6();i.j41(0,"div",6)(1,"mat-checkbox",7),i.nI1(2,"async"),i.nI1(3,"async"),i.bIt("change",function(J){i.eBV(ee);const X=i.XpG();return i.Njj(X.selectAll(J.checked))}),i.k0s()()}if(2&te){let ee,k;const J=i.XpG();i.xc7("grid-column","1 / 2"),i.R7$(),i.Y8G("checked",J.selected.length===(null==(ee=i.bMT(2,4,J.data_view$))?null:ee.length))("indeterminate",J.selected.length>0&&J.selected.length<(null==(k=i.bMT(3,6,J.data_view$))?null:k.length))}}function G(te,R){if(1&te&&(i.j41(0,"app-icon",11),i.EFF(1),i.k0s()),2&te){const ee=i.XpG().$implicit,k=i.XpG();i.R7$(),i.SpI(" ",(null==k.sort?null:k.sort.key)===ee.key&&null!=k.sort&&k.sort.reverse?"arrow_upward":"arrow_downward"," ")}}function K(te,R){if(1&te){const ee=i.RV6();i.j41(0,"button",8),i.bIt("click",function(){const J=i.eBV(ee).$implicit,X=i.XpG();return i.Njj(X.setSort(J.key))}),i.j41(1,"div",9),i.EFF(2),i.k0s(),i.DNE(3,G,2,1,"app-icon",10),i.k0s()}if(2&te){const ee=R.$implicit,k=R.index,J=i.XpG();i.xc7("grid-column",1+k+(J.selectable?1:0)+" / "+(2+k+(J.selectable?1:0))),i.AVh("pointer-events-none",!J.sortable||!1===ee.sortable)("active",(null==J.sort?null:J.sort.key)===ee.key)("border-r",k!==J.active_columns.length-1)("width",ee.size),i.Y8G("id","column-"+ee.key),i.R7$(2),i.JRh(ee.name||ee.key),i.R7$(),i.Y8G("ngIf",J.sortable&&!1!==ee.sortable)}}function F(te,R){if(1&te){const ee=i.RV6();i.j41(0,"div",15),i.nI1(1,"async"),i.bIt("mouseenter",function(){i.eBV(ee);const J=i.XpG().index,X=i.XpG();return i.Njj(X.active_row=J)})("touchstart",function(){i.eBV(ee);const J=i.XpG().index,X=i.XpG();return i.Njj(X.active_row=J)}),i.j41(2,"mat-checkbox",16),i.bIt("change",function(J){i.eBV(ee);const X=i.XpG().index,fe=i.XpG();return i.Njj(fe.select(X,J.checked))}),i.k0s()()}if(2&te){let ee;const k=i.XpG().index,J=i.XpG();i.xc7("grid-column","1 / 2"),i.AVh("border-b",k!==(null==(ee=i.bMT(1,5,J.data_view$))?null:ee.length)-1),i.R7$(2),i.Y8G("checked",J.selected.includes(k))}}function H(te,R){if(1&te&&(i.j41(0,"span",23),i.EFF(1),i.k0s()),2&te){const ee=i.XpG(2).$implicit;i.R7$(),i.SpI(" ",ee.empty||"N/A"," ")}}function Y(te,R){if(1&te&&(i.j41(0,"div",21),i.EFF(1),i.DNE(2,H,2,1,"span",22),i.k0s()),2&te){let ee;const k=i.XpG().$implicit,J=i.XpG(),X=J.$implicit,fe=J.index;i.R7$(),i.SpI(" ",null!==(ee=X[k.key])&&void 0!==ee?ee:"_index"===k.key?fe+1:X[k.key]," "),i.R7$(),i.Y8G("ngIf",(null==X[k.key]||""===X[k.key])&&"_index"!==k.key)}}function P(te,R){1&te&&i.eu8(0)}function U(te,R){if(1&te&&(i.qex(0),i.DNE(1,P,1,0,"ng-container",24),i.nI1(2,"async"),i.nI1(3,"async"),i.bVm()),2&te){let ee;const k=i.XpG().$implicit,J=i.XpG(),X=J.$implicit,fe=J.index,Me=i.XpG();i.R7$(),i.Y8G("ngTemplateOutlet",k.content)("ngTemplateOutletContext",i.sGs(6,v,0===fe,fe===(null==(ee=i.bMT(2,2,Me.data_view$))?null:ee.length)-1||fe===(null==(ee=i.bMT(3,4,Me.data_view$))?null:ee.length)-1,fe,X[k.key],X,k.key,k.name||k.key))}}function $(te,R){if(1&te){const ee=i.RV6();i.j41(0,"div",17),i.nI1(1,"async"),i.bIt("mouseenter",function(){i.eBV(ee);const J=i.XpG().index,X=i.XpG();return i.Njj(X.active_row=J)})("touchstart",function(){i.eBV(ee);const J=i.XpG().index,X=i.XpG();return i.Njj(X.active_row=J)}),i.qex(2,18),i.DNE(3,Y,3,2,"div",19)(4,U,4,14,"ng-container",20),i.bVm(),i.k0s()}if(2&te){let ee;const k=R.$implicit,J=R.index,X=i.XpG().index,fe=i.XpG();i.xc7("grid-column",1+J+(fe.selectable?1:0)+" / "+(2+J+(fe.selectable?1:0))),i.AVh("border-b",X!==(null==(ee=i.bMT(1,10,fe.data_view$))?null:ee.length)-1)("border-r",J!==fe.active_columns.length-1)("width",k.size),i.R7$(2),i.Y8G("ngSwitch",fe.columnType(k)),i.R7$(2),i.Y8G("ngSwitchCase","template")}}function B(te,R){1&te&&i.eu8(0)}function y(te,R){if(1&te&&(i.j41(0,"div",25),i.DNE(1,B,1,0,"ng-container",24),i.nI1(2,"async"),i.nI1(3,"async"),i.k0s()),2&te){let ee;const k=i.XpG(),J=k.$implicit,X=k.index,fe=i.XpG();i.xc7("grid-column","span "+fe.active_columns.length),i.R7$(),i.Y8G("ngTemplateOutlet",fe.child_template)("ngTemplateOutletContext",i.ziG(8,O,0===X,X===(null==(ee=i.bMT(2,4,fe.data_view$))?null:ee.length)-1||X===(null==(ee=i.bMT(3,6,fe.data_view$))?null:ee.length)-1,X,J))}}function I(te,R){if(1&te&&(i.qex(0),i.DNE(1,F,3,7,"div",12)(2,$,5,12,"div",13)(3,y,4,13,"div",14),i.bVm()),2&te){const ee=R.$implicit,k=i.XpG();i.R7$(),i.Y8G("ngIf",k.selectable),i.R7$(),i.Y8G("ngForOf",k.active_columns),i.R7$(),i.Y8G("ngIf",k.show_children[ee.id]&&k.child_template)}}function w(te,R){if(1&te&&(i.j41(0,"div",26),i.EFF(1),i.k0s()),2&te){const ee=i.XpG();i.xc7("grid-column-start","span "+ee.active_columns.length),i.R7$(),i.SpI(" ",ee.empty_message," ")}}function L(te,R){if(1&te){const ee=i.RV6();i.j41(0,"div",27)(1,"div",28),i.EFF(2),i.k0s(),i.j41(3,"button",29),i.bIt("click",function(){i.eBV(ee);const J=i.XpG();return i.Njj(J.setPage(J.page-1))}),i.j41(4,"app-icon"),i.EFF(5,"chevron_left"),i.k0s()(),i.j41(6,"button",29),i.bIt("click",function(){i.eBV(ee);const J=i.XpG();return i.Njj(J.setPage(J.page+1))}),i.j41(7,"app-icon"),i.EFF(8,"chevron_right"),i.k0s()(),i.j41(9,"button",29),i.bIt("click",function(){i.eBV(ee);const J=i.XpG();return i.Njj(J.setPage(0))}),i.j41(10,"app-icon"),i.EFF(11,"first_page"),i.k0s()(),i.j41(12,"button",29),i.bIt("click",function(){i.eBV(ee);const J=i.XpG();return i.Njj(J.setPage(J.total_pages-1))}),i.j41(13,"app-icon"),i.EFF(14,"last_page"),i.k0s()()()}if(2&te){const ee=i.XpG();i.R7$(2),i.E5c(" ",ee.page*(ee.page_size||9999)+1," \u2013 ",(ee.page+1)*(ee.page_size||9999)>ee.total_count?ee.total_count:(ee.page+1)*(ee.page_size||9999)," of ",ee.total_count," "),i.R7$(),i.Y8G("disabled",0===ee.page),i.R7$(3),i.Y8G("disabled",ee.page===ee.total_pages-1),i.R7$(3),i.Y8G("disabled",0===ee.page),i.R7$(3),i.Y8G("disabled",ee.page===ee.total_pages-1)}}let Q=(()=>{class te extends d.Tv{constructor(){super(...arguments),this.columns=[],this.selectable=!1,this.filter="",this.sortable=!1,this.selected=[],this.page_size=0,this.empty_message="No data to list",this.child_template=null,this.show_children={},this.selectedChange=new i.bkB,this.rowClicked=new i.bkB,this.page=0,this.total_count=0,this.total_pages=0,this.active_row=-1,this.active_columns=[],this._data$=new p.t([]),this._filter$=new p.t(""),this._sort$=new p.t(null),this.data_view$=null}get sort(){return this._sort$.getValue()}get data$(){return this.data instanceof Array?this._data$:this.data}get column_count(){return this.active_columns.length+(this.selectable?1:0)}get column_template(){const ee=this.active_columns.map(k=>k.size||"auto").join(" ");return this.selectable?`3.5rem ${ee}`:ee}ngOnChanges(ee){ee.filter&&this._filter$.next(this.filter),ee.columns&&(this.active_columns=this.columns.filter(k=>!1!==k.show)),ee.data&&(this.data_view$=(0,m.zV)([this.data$,this._filter$,this._sort$]).pipe((0,_.B)(300),(0,g.T)(([k,J,X])=>(k=[...k],J&&(k=k.filter(fe=>Object.values(fe).some(Me=>JSON.stringify(Me)?.toLowerCase().includes((J||"").toLowerCase())))),X&&k.length&&(k=k.sort("number"==typeof k[0][X.key]?(Me,Ze)=>{const Ct=Me[X.key]-Ze[X.key];return X.reverse?-Ct:Ct}:(Me,Ze)=>{const Ct=JSON.stringify(Me[X.key]||""),lt=JSON.stringify(Ze[X.key]||""),Ot=Ct.localeCompare(lt);return X.reverse?-Ot:Ot})),this.selected=[],this.page=0,this.page_size&&(this.total_count=k.length,this.total_pages=Math.ceil(this.total_count/this.page_size)),k)),(0,b.t)(1)))}columnType(ee){return ee.content instanceof i.C4Q?"template":"raw"}gridSquare(ee,k){return`${ee} / ${k} / ${ee+1} / ${k+1}`}select(ee,k){k?this.selected.push(ee):this.selected=this.selected.filter(J=>J!==ee)}selectAll(ee){var k=this;return(0,e.A)(function*(){const J=yield k.data_view$.pipe((0,u.s)(1)).toPromise();k.selected=ee?J.map((X,fe)=>fe):[]})()}setSort(ee){const k=this._sort$.getValue();this._sort$.next(k&&k.key===ee?k.reverse?null:{key:ee,reverse:!0}:{key:ee,reverse:!1})}setPage(ee){this.timeout("set_page",()=>this.page=ee,100)}static#e=this.\u0275fac=(()=>{let ee;return function(J){return(ee||(ee=i.xGo(te)))(J||te)}})();static#t=this.\u0275cmp=i.VBU({type:te,selectors:[["simple-table"]],inputs:{data:"data",columns:"columns",selectable:"selectable",filter:"filter",sortable:"sortable",selected:"selected",page_size:"page_size",empty_message:"empty_message",child_template:"child_template",show_children:"show_children"},outputs:{selectedChange:"selectedChange",rowClicked:"rowClicked"},features:[i.Vt3,i.OA$],decls:9,vars:15,consts:[["role","table",1,"grid","border","border-base-300",3,"click","touchend","mouseleave"],["id","column-selector","class","sticky top-0 flex items-center justify-between px-2 border-r border-b border-base-200 bg-base-300 min-h-full z-20",3,"gridColumn",4,"ngIf"],["header","","matRipple","","class","sticky top-0 flex items-center justify-between p-4 border-b border-base-200 bg-base-300 min-h-full z-20",3,"id","gridColumn","pointer-events-none","active","border-r","width","click",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["class","flex items-center justify-center p-8 opacity-30",3,"gridColumnStart",4,"ngIf"],["class","sticky bottom-0 w-full flex items-center justify-end space-x-2 p-2 bg-base-200",4,"ngIf"],["id","column-selector",1,"sticky","top-0","flex","items-center","justify-between","px-2","border-r","border-b","border-base-200","bg-base-300","min-h-full","z-20"],[3,"change","checked","indeterminate"],["header","","matRipple","",1,"sticky","top-0","flex","items-center","justify-between","p-4","border-b","border-base-200","bg-base-300","min-h-full","z-20",3,"click","id"],[1,"font-medium"],["class","text-[1.25em]",4,"ngIf"],[1,"text-[1.25em]"],["id","column-selector","class","flex items-center justify-between px-2 border-r border-base-200 min-h-full z-10",3,"gridColumn","border-b","mouseenter","touchstart",4,"ngIf"],["class","flex items-center justify-between border-base-200 min-h-full z-10",3,"gridColumn","border-b","border-r","width","mouseenter","touchstart",4,"ngFor","ngForOf"],["child-node","","class","border-b last:border-t last:border-b-0 border-base-200",3,"gridColumn",4,"ngIf"],["id","column-selector",1,"flex","items-center","justify-between","px-2","border-r","border-base-200","min-h-full","z-10",3,"mouseenter","touchstart"],[3,"change","checked"],[1,"flex","items-center","justify-between","border-base-200","min-h-full","z-10",3,"mouseenter","touchstart"],[3,"ngSwitch"],["class","p-4",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"p-4"],["class","opacity-30",4,"ngIf"],[1,"opacity-30"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["child-node","",1,"border-b","last:border-t","last:border-b-0","border-base-200"],[1,"flex","items-center","justify-center","p-8","opacity-30"],[1,"sticky","bottom-0","w-full","flex","items-center","justify-end","space-x-2","p-2","bg-base-200"],[1,"px-4","py-2"],["icon","","matRipple","",3,"click","disabled"]],template:function(k,J){if(1&k&&(i.j41(0,"div",0),i.bIt("click",function(){return J.active_row>=0?J.rowClicked.emit(J.active_row):null})("touchend",function(){return J.active_row=-1})("mouseleave",function(){return J.active_row=-1}),i.DNE(1,z,4,8,"div",1)(2,K,4,13,"button",2)(3,I,4,3,"ng-container",3),i.nI1(4,"async"),i.nI1(5,"slice"),i.DNE(6,w,2,3,"div",4),i.nI1(7,"async"),i.k0s(),i.DNE(8,L,15,7,"div",5)),2&k){let X;i.xc7("grid-template-columns",J.column_template),i.R7$(),i.Y8G("ngIf",J.selectable),i.R7$(),i.Y8G("ngForOf",J.active_columns),i.R7$(),i.Y8G("ngForOf",i.brH(5,9,i.bMT(4,7,J.data_view$),J.page*(J.page_size||9999),(J.page+1)*(J.page_size||9999))),i.R7$(3),i.Y8G("ngIf",!(null!=(X=i.bMT(7,13,J.data_view$))&&X.length)),i.R7$(2),i.Y8G("ngIf",J.page_size)}},dependencies:[S.Sq,S.bT,S.T3,S.ux,S.e1,S.fG,D.r6,E.So,A.R,S.Jj,S.P9],styles:["[_nghost-%COMP%], [_nghost-%COMP%] > button[_ngcontent-%COMP%]{min-width:100%}[header][_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{opacity:0}[header][_ngcontent-%COMP%]:hover   app-icon[_ngcontent-%COMP%]{opacity:.3}[header][_ngcontent-%COMP%]:hover.pointer-events-none   app-icon[_ngcontent-%COMP%]{opacity:0}[header].active[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{opacity:1}"]})}return te})()},907:(Mt,pe,a)=>{"use strict";a.d(pe,{F:()=>S});var e=a(3953),i=a(177),d=a(9434);const p=["*"];function m(D,E){1&D&&(e.qex(0),e.EFF(1," check_circle "),e.bVm())}function _(D,E){1&D&&(e.qex(0),e.EFF(1,"cancel"),e.bVm())}function g(D,E){1&D&&(e.qex(0),e.EFF(1,"block"),e.bVm())}function b(D,E){1&D&&(e.qex(0),e.EFF(1,"info"),e.bVm())}function u(D,E){1&D&&(e.qex(0),e.EFF(1,"warning"),e.bVm())}let S=(()=>{class D{static#e=this.\u0275fac=function(v){return new(v||D)};static#t=this.\u0275cmp=e.VBU({type:D,selectors:[["status-pill"]],inputs:{status:"status"},ngContentSelectors:p,decls:10,vars:31,consts:[[1,"flex","items-center","bg-opacity-30","rounded-full","px-2","py-1","text-base","space-x-2","font-medium","text-black"],[1,"rounded-full","h-5","w-5","flex","items-center","justify-center"],[1,"text-2xl",3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"]],template:function(v,O){1&v&&(e.NAR(),e.j41(0,"div",0)(1,"div",1)(2,"app-icon",2),e.DNE(3,m,2,0,"ng-container",3)(4,_,2,0,"ng-container",3)(5,g,2,0,"ng-container",3)(6,b,2,0,"ng-container",3)(7,u,2,0,"ng-container",4),e.k0s()(),e.j41(8,"div"),e.SdG(9),e.k0s()()),2&v&&(e.AVh("bg-success-light","success"===O.status)("bg-warning-light","warning"===O.status)("bg-error-light","error"===O.status)("bg-info-light","info"===O.status)("bg-base-200","neutral"===O.status),e.R7$(),e.AVh("text-success","success"===O.status)("text-warning","warning"===O.status)("text-error","error"===O.status)("text-info","info"===O.status)("text-base-content","neutral"===O.status)("opacity-40","neutral"===O.status),e.R7$(),e.Y8G("ngSwitch",O.status),e.R7$(),e.Y8G("ngSwitchCase","success"),e.R7$(),e.Y8G("ngSwitchCase","error"),e.R7$(),e.Y8G("ngSwitchCase","neutral"),e.R7$(),e.Y8G("ngSwitchCase","info"),e.R7$(2),e.AVh("opacity-40","neutral"===O.status)("text-base-content","neutral"===O.status))},dependencies:[i.ux,i.e1,i.fG,d.R]})}return D})()},6871:(Mt,pe,a)=>{"use strict";a.d(pe,{U:()=>A});var e=a(4006),i=a(3953),d=a(177),p=a(9417),m=a(6600),_=a(3719),g=a(2798),b=a(9631),u=a(2765),S=a(9434);const D=(v,O,z)=>({file:v,is_public:O,permissions:z});function E(v,O){if(1&v){const z=i.RV6();i.j41(0,"div",2)(1,"label"),i.EFF(2,"Permissions"),i.k0s(),i.j41(3,"mat-form-field",3)(4,"mat-select",6),i.mxI("ngModelChange",function(K){i.eBV(z);const F=i.XpG();return i.DH7(F.permissions,K)||(F.permissions=K),i.Njj(K)}),i.j41(5,"mat-option",11),i.EFF(6,"None"),i.k0s(),i.j41(7,"mat-option",12),i.EFF(8,"Support"),i.k0s(),i.j41(9,"mat-option",13),i.EFF(10,"Admin"),i.k0s()()()()}if(2&v){const z=i.XpG();i.R7$(4),i.R50("ngModel",z.permissions)}}let A=(()=>{class v{constructor(z,G){this._dialog_ref=z,this._data=G,this.file=this._data.file,this.is_public=!0,this.permissions="none",this.file=this._data.file}close(){this._dialog_ref.close()}static#e=this.\u0275fac=function(G){return new(G||v)(i.rXU(e.CP),i.rXU(e.Vh))};static#t=this.\u0275cmp=i.VBU({type:v,selectors:[["upload-permissions-modal"]],decls:21,vars:8,consts:[["btn","","icon","","mat-dialog-close",""],[1,"p-4","min-w-[20rem]"],[1,"flex","flex-col","space-y-2"],["appearance","outline"],["matInput","","disabled","true","placeholder","File Name",3,"ngModel"],[1,"pb-4"],[3,"ngModelChange","ngModel"],["class","flex flex-col space-y-2",4,"ngIf"],[1,"flex","items-center","justify-end","space-x-2","px-4","py-2","border-t","border-base-200"],["btn","","mat-dialog-close","",1,"inverse","w-32"],["btn","",1,"w-32",3,"mat-dialog-close"],["value","none"],["value","support"],["value","admin"]],template:function(G,K){1&G&&(i.j41(0,"header")(1,"h2"),i.EFF(2,"Upload File"),i.k0s(),i.j41(3,"button",0)(4,"app-icon"),i.EFF(5,"close"),i.k0s()()(),i.j41(6,"main",1)(7,"div",2)(8,"label"),i.EFF(9,"File Name"),i.k0s(),i.j41(10,"mat-form-field",3),i.nrm(11,"input",4),i.k0s()(),i.j41(12,"div",5)(13,"mat-checkbox",6),i.mxI("ngModelChange",function(H){return i.DH7(K.is_public,H)||(K.is_public=H),H}),i.EFF(14,"Public"),i.k0s()(),i.DNE(15,E,11,1,"div",7),i.k0s(),i.j41(16,"footer",8)(17,"button",9),i.EFF(18,"Cancel"),i.k0s(),i.j41(19,"button",10),i.EFF(20," Upload "),i.k0s()()),2&G&&(i.R7$(11),i.Y8G("ngModel",K.file.name),i.R7$(2),i.R50("ngModel",K.is_public),i.R7$(2),i.Y8G("ngIf",!K.is_public),i.R7$(4),i.Y8G("mat-dialog-close",i.sMw(4,D,K.file,K.is_public,K.permissions)))},dependencies:[d.bT,p.me,p.BC,p.vS,m.wT,_.rl,g.VO,e.tx,b.fg,u.So,S.R]})}return v})()},1193:(Mt,pe,a)=>{"use strict";a.d(pe,{a:()=>_}),a(3693);var i=a(3953);function d(g,b){if(1&g&&(i.j41(0,"div",4),i.EFF(1),i.k0s()),2&g){const u=i.XpG(2);i.R7$(),i.SpI(" ",u.initials," ")}}function p(g,b){if(1&g&&(i.j41(0,"div",2),i.DNE(1,d,2,1,"div",3),i.k0s()),2&g){const u=i.XpG(),S=i.sdS(2);i.BMQ("user-id",u.user.id),i.R7$(),i.Y8G("ngIf",!u.user.photo)("ngIfElse",S)}}function m(g,b){if(1&g&&i.nrm(0,"img",5),2&g){const u=i.XpG();i.Y8G("source",u.user.photo)}}let _=(()=>{class g{get initials(){if(!this.user)return"NA";const u=this.user.name||"",S=u.replace(/[()[\]\-+=\\/]+/gi,"").split(" ");return S.length>1?`${S[0][0]}${S[S.length-1][0]}`:u.slice(0,2)}static#e=this.\u0275fac=function(S){return new(S||g)};static#t=this.\u0275cmp=i.VBU({type:g,selectors:[["a-user-avatar"]],inputs:{user:"user"},decls:3,vars:1,consts:[["image_state",""],["class","flex items-center justify-center rounded-full overflow-hidden",4,"ngIf"],[1,"flex","items-center","justify-center","rounded-full","overflow-hidden"],["initials","","class","text-base-content text-opacity-80 uppercase",4,"ngIf","ngIfElse"],["initials","",1,"text-base-content","text-opacity-80","uppercase"],["auth","",1,"h-full","w-full",3,"source"]],template:function(S,D){1&S&&i.DNE(0,p,2,3,"div",1)(1,m,1,1,"ng-template",null,0,i.C5r),2&S&&i.Y8G("ngIf",D.user)},styles:["[_nghost-%COMP%] > div[_ngcontent-%COMP%]{height:2.5em;width:2.5em;background-color:var(--b2);overflow:hidden;border:2px solid var(--b1)}.initials[_ngcontent-%COMP%]{font-size:1em}"]})}return g})()},4633:(Mt,pe,a)=>{"use strict";a.d(pe,{N:()=>B});var e=a(467),i=a(7375),d=a(6815),p=a(2185),m=a(9596),_=a(3022),g=a(6539),b=a(5550),u=a(6926),S=a(3835),D=a(6962),E=a(8791),A=a(2326),v=a(3953),O=a(4006);function z(y,I){if(1&y&&(v.j41(0,"div",31)(1,"button",17)(2,"div",18)(3,"div",19)(4,"app-icon"),v.EFF(5,"layers"),v.k0s()(),v.j41(6,"div",32),v.EFF(7),v.nI1(8,"async"),v.nI1(9,"async"),v.k0s(),v.j41(10,"app-icon",21),v.EFF(11," chevron_right "),v.k0s()()()()),2&y){let w;const L=v.XpG();v.Y8G("content",L.region_select),v.R7$(7),v.SpI(" ",(null==(w=v.bMT(8,2,L.region))?null:w.display_name)||(null==(w=v.bMT(9,4,L.region))?null:w.name)," ")}}function G(y,I){if(1&y&&(v.j41(0,"div",31)(1,"button",17)(2,"div",18)(3,"div",19)(4,"app-icon"),v.EFF(5,"business"),v.k0s()(),v.j41(6,"div",32),v.EFF(7),v.nI1(8,"async"),v.nI1(9,"async"),v.k0s(),v.j41(10,"app-icon",21),v.EFF(11," chevron_right "),v.k0s()()()()),2&y){let w;const L=v.XpG();v.Y8G("content",L.building_select),v.R7$(7),v.SpI(" ",(null==(w=v.bMT(8,2,L.building))?null:w.display_name)||(null==(w=v.bMT(9,4,L.building))?null:w.name)," ")}}function K(y,I){if(1&y&&(v.j41(0,"div",16)(1,"button",17)(2,"div",18)(3,"div",19)(4,"app-icon"),v.EFF(5,"help"),v.k0s()(),v.j41(6,"div",20),v.pXf(7,4),v.k0s(),v.j41(8,"app-icon",21),v.EFF(9,"chevron_right"),v.k0s()()()()),2&y){const w=v.XpG();v.Y8G("content",w.help_tooltip)}}function F(y,I){if(1&y&&(v.j41(0,"div",16)(1,"button",17)(2,"div",18)(3,"div",19)(4,"app-icon"),v.EFF(5,"share_location"),v.k0s()(),v.j41(6,"div",20),v.pXf(7,5),v.k0s(),v.j41(8,"app-icon",21),v.EFF(9,"chevron_right"),v.k0s()()()()),2&y){const w=v.XpG();v.Y8G("content",w.work_location_tooltip)}}function H(y,I){if(1&y&&(v.j41(0,"div",16)(1,"button",17)(2,"div",18)(3,"div",19)(4,"app-icon"),v.EFF(5,"desk"),v.k0s()(),v.j41(6,"div",20),v.pXf(7,6),v.k0s(),v.j41(8,"app-icon",21),v.EFF(9,"chevron_right"),v.k0s()()()()),2&y){const w=v.XpG(),L=v.sdS(24);v.AVh("!border-b",!(null!=w.locales&&w.locales.length)),v.Y8G("content",L)}}function Y(y,I){1&y&&v.nrm(0,"desk-height-presets")}function P(y,I){if(1&y&&(v.j41(0,"div",33)(1,"button",17)(2,"div",18)(3,"div",19)(4,"app-icon"),v.EFF(5,"mode_night"),v.k0s()(),v.j41(6,"div",20),v.pXf(7,7),v.nI1(8,"translate"),v.nI1(9,"translate"),v.k0s(),v.j41(10,"app-icon",21),v.EFF(11,"chevron_right"),v.k0s()()()()),2&y){const w=v.XpG();v.Y8G("content",w.language_tooltip),v.R7$(9),v.uP7(v.bMT(8,3,"COMMON.LANGUAGE_LABEL"))(v.bMT(9,5,"COMMON.LANGUAGE")),v.nnv(7)}}function U(y,I){if(1&y){const w=v.RV6();v.j41(0,"button",34),v.bIt("click",function(){v.eBV(w);const Q=v.XpG();return v.Njj(Q.newSupportTicket())}),v.j41(1,"div",18)(2,"div",19)(3,"app-icon"),v.EFF(4,"support_agent"),v.k0s()(),v.j41(5,"div",20),v.pXf(6,8),v.k0s()()()}}function $(y,I){if(1&y){const w=v.RV6();v.j41(0,"button",35),v.bIt("click",function(){v.eBV(w);const Q=v.XpG();return v.Njj(Q.reloadPage())}),v.EFF(1," New Version "),v.k0s()}}let B=(()=>{class y{get user(){return(0,i.Ny)()}get groups(){return this.user.groups.join("\n")}get version(){return i.xv}get features(){return this._settings.get("app.features")||[]}get locales(){return this._settings.get("app.locales")||[]}get desk_height(){return this._settings.get("app.desks.height_enabled")}get use_region(){return this._settings.get("app.use_region")}get disable_building_select(){return this._settings.get("app.disable_building_select")}get has_new_version(){return(0,i.tU)()}constructor(w,L,Q){this._settings=w,this._org=L,this._dialog=Q,this.building=this._org.active_building,this.region=this._org.active_region,this.regions=this._org.region_list,this.region_select=D.q,this.building_select=b.C,this.help_tooltip=u.o,this.accessibility_tooltip=g.B,this.language_tooltip=S.O,this.work_location_tooltip=A.Z}logout(){(0,m.rig)()}reloadPage(){location.reload()}newSupportTicket(){this._settings.get("app.external_support_url")?window.open(this._settings.get("app.external_support_url"),"_blank"):this._dialog.open(E.c)}openWfhModal(){this._dialog.open(_.$)}viewChangelog(){var w=this;return(0,e.A)(function*(){const L=yield(yield fetch("https://raw.githubusercontent.com/PlaceOS/user-interfaces/develop/CHANGELOG.md")).text();w._dialog.open(d.l4,{data:{changelog:L}})})()}saveSetting(w,L){this._settings.saveUserSetting(w,L)}formatLabel(w){return`${w.toFixed(1)}cm`}static#e=this.\u0275fac=function(L){return new(L||y)(v.rXU(i.h$),v.rXU(p.yb),v.rXU(O.bZ))};static#t=this.\u0275cmp=v.VBU({type:y,selectors:[["user-controls"]],decls:41,vars:26,consts:()=>{let w,L,Q,te,R,ee,k,J;return w=$localize`:d22b673a92b43eabbdebd80b1539a553703c84f66572705143012462182:Display & Accessibility`,L=$localize`:a9bc2f36435d7979f179c544151bca38e4fe20cc3324363634810141643: Sign Out `,Q=$localize`:0b1694897c27c2a5bbdf582a7f7d2bac898f35056267525301152196009:Version: `,te=$localize`:258586f2141d5b6c98ef28c38ac6f55a81a301b27393197899734735120:Help & Support`,R=$localize`:8ebf03c6dd7c3ad24dcc9a0f64ffad0e9588ac2e8897714476038526431:Work Location`,ee=$localize`:6f3ddfacb6cc158043b77530f74c15dc406019fe8687640110841202898:Desk Settings`,k=$localize`:5a0db2e7be57ba081264f141f3ee4a8b683f1f6e6210988327734808594: ${"\ufffd0\ufffd"}:INTERPOLATION:: ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,J=$localize`:b862b54c42ded9ebb47260f60b0f75985c5fab18270482714535552546:Raise a support ticket`,[["desk_height_tooltip",""],w,L,Q,te,R,ee,k,J,[1,"rounded","bg-base-100","shadow","mt-1","flex","flex-col","relative","divide-y","divide-base-200"],["avatar","",1,"flex","flex-col","items-center","p-2","w-[18rem]"],[1,"text-2xl",3,"user","matTooltip"],[1,""],[1,"text-xs","opacity-60","truncate"],["customTooltip","","class","relative",3,"content",4,"ngIf"],["customTooltip","",3,"content",4,"ngIf"],["customTooltip","",3,"content"],["btn","","matRipple","",1,"clear","w-full","text-left","h-[3.5rem]"],[1,"w-full","flex","items-center","space-x-2"],[1,"flex","items-center","justify-center","rounded-full","w-8","h-8","bg-base-200"],[1,"flex-1"],[1,"opacity-60","text-2xl"],["customTooltip","",3,"content","!border-b",4,"ngIf"],["customTooltip","","class","!border-b",3,"content",4,"ngIf"],["btn","","matRipple","","class","clear w-full text-left h-[3.5rem]",3,"click",4,"ngIf"],[1,"flex","flex-col","items-center","p-4"],[1,"flex","items-center","justify-center","space-x-2","mb-4"],["btn","","matRipple","",1,"inverse",3,"click"],["btn","","matRipple","",3,"click",4,"ngIf"],[1,"text-xs","opacity-60","w-full"],[1,"underline","p-0","m-0","bg-none","border-none","text-xs",3,"click"],["customTooltip","",1,"relative",3,"content"],[1,"flex-1","truncate","w-px"],["customTooltip","",1,"!border-b",3,"content"],["btn","","matRipple","",1,"clear","w-full","text-left","h-[3.5rem]",3,"click"],["btn","","matRipple","",3,"click"]]},template:function(L,Q){if(1&L){const te=v.RV6();v.j41(0,"div",9)(1,"div",10),v.nrm(2,"a-user-avatar",11),v.j41(3,"div",12),v.EFF(4),v.k0s(),v.j41(5,"div",13),v.EFF(6),v.k0s()(),v.DNE(7,z,12,6,"div",14),v.nI1(8,"async"),v.DNE(9,G,12,6,"div",14)(10,K,10,1,"div",15)(11,F,10,1,"div",15),v.j41(12,"div",16)(13,"button",17)(14,"div",18)(15,"div",19)(16,"app-icon"),v.EFF(17,"mode_night"),v.k0s()(),v.j41(18,"div",20),v.pXf(19,1),v.k0s(),v.j41(20,"app-icon",21),v.EFF(21,"chevron_right"),v.k0s()()()(),v.DNE(22,H,10,3,"div",22)(23,Y,1,0,"ng-template",null,0,v.C5r)(25,P,12,7,"div",23)(26,U,7,0,"button",24),v.j41(27,"div",25)(28,"div",26)(29,"button",27),v.bIt("click",function(){return v.eBV(te),v.Njj(Q.logout())}),v.pXf(30,2),v.k0s(),v.DNE(31,$,2,0,"button",28),v.k0s(),v.j41(32,"div",29),v.qex(33),v.pXf(34,3),v.bVm(),v.j41(35,"button",30),v.bIt("click",function(){return v.eBV(te),v.Njj(Q.viewChangelog())}),v.EFF(36),v.k0s()(),v.j41(37,"div",29),v.EFF(38),v.nI1(39,"date"),v.nI1(40,"date"),v.k0s()()()}2&L&&(v.R7$(2),v.Y8G("user",Q.user)("matTooltip",Q.groups),v.R7$(2),v.JRh(null==Q.user?null:Q.user.name),v.R7$(2),v.JRh(null==Q.user?null:Q.user.email),v.R7$(),v.Y8G("ngIf",v.bMT(8,18,Q.regions).length),v.R7$(2),v.Y8G("ngIf",!Q.disable_building_select&&!Q.use_region),v.R7$(),v.Y8G("ngIf",Q.features.includes("help")),v.R7$(),v.Y8G("ngIf",Q.features.includes("wfh")),v.R7$(),v.AVh("!border-b",!(null!=Q.locales&&Q.locales.length&&Q.desk_height)),v.Y8G("content",Q.accessibility_tooltip),v.R7$(10),v.Y8G("ngIf",Q.desk_height),v.R7$(3),v.Y8G("ngIf",null==Q.locales?null:Q.locales.length),v.R7$(),v.Y8G("ngIf",Q.features.includes("support-ticket")),v.R7$(5),v.Y8G("ngIf",Q.has_new_version),v.R7$(5),v.SpI(" ",Q.version.hash," "),v.R7$(2),v.Lme(" ",v.i5U(39,20,Q.version.time,"longDate")," (",v.i5U(40,23,Q.version.time,"shortTime"),") "))}})}return y})()},5080:(Mt,pe,a)=>{"use strict";a.d(pe,{e:()=>A});var e=a(6939),i=a(7375),d=a(3953),p=a(7987),m=a(177);const _=["keyboard",""],g=["*"];function b(v,O){if(1&v&&d.nrm(0,"div",7),2&v){const z=d.XpG(4);d.AVh("bg-success","shift"===z.state)}}function u(v,O){if(1&v){const z=d.RV6();d.qex(0),d.j41(1,"div",5),d.bIt("focus",function(){d.eBV(z);const K=d.XpG(3);return d.Njj(K.focusInput())})("click",function(){const K=d.eBV(z).$implicit,F=d.XpG(3);return d.Njj(F.handleKeyPress(K))}),d.EFF(2),d.DNE(3,b,1,2,"div",6),d.k0s(),d.bVm()}if(2&v){const z=O.$implicit;d.R7$(),d.AVh("special","{"===z[0]&&z.length>1)("space","{space}"===z),d.BMQ("key",z),d.R7$(),d.SpI(" ","{space}"===z?"Space":"{caps}"===z?"Caps Lock":"{backspace}"===z?"Backspace":z," "),d.R7$(),d.Y8G("ngIf","{caps}"===z)}}function S(v,O){if(1&v&&(d.j41(0,"div",3),d.DNE(1,u,4,7,"ng-container",4),d.k0s()),2&v){const z=O.$implicit;d.R7$(),d.Y8G("ngForOf",z)}}function D(v,O){if(1&v&&(d.j41(0,"div",1),d.DNE(1,S,2,1,"div",2),d.k0s()),2&v){const z=d.XpG();d.R7$(),d.Y8G("ngForOf",z.keyset)}}const E=["0123456789".split(""),"qwertyuiop".split(""),"asdfghjkl".split(""),"zxcvbnm".split(""),["{caps}","{space}","{backspace}"]];let A=(()=>{class v extends i.Tv{constructor(z,G){super(),this._element=z,this._overlay=G,this.keyset=E,this.state="normal",this._overlay_ref=null,this.onFocus=()=>{v.enabled&&(this.open(),this.clearTimeout("blur"))},this.onBlur=()=>this.timeout("blur",()=>this.close())}ngOnChanges(z){z.keyset&&(this.keyset||(this.keyset=E))}ngOnDestroy(){super.ngOnDestroy(),this.close()}focusInput(){this._element?.nativeElement?.blur(),this._element?.nativeElement?.focus()}open(){this._overlay_ref||this._portal&&(this._overlay_ref=this._overlay.create({positionStrategy:this._overlay.position().global().bottom().centerHorizontally()}),this._overlay_ref.attach(this._portal))}close(){this._overlay_ref&&(this._overlay_ref.dispose(),this._overlay_ref=null)}handleKeyPress(z){let G=this._element.nativeElement.selectionStart;const K=this._element.nativeElement.value||"";switch(z.toLowerCase()){case"{caps}":case"{shift}":this.state="shift";break;case"{backspace}":this._element.nativeElement.value=`${K.substr(0,G-1)}${K.substr(G,K.length)}`,G=Math.max(0,G-1);break;case"{space}":this._element.nativeElement.value=`${K.substr(0,G)} ${K.substr(G,K.length)}`,G+=1;break;default:"shift"===this.state&&(this.state="normal"),this._element.nativeElement.value=`${K.substr(0,G)}${z}${K.substr(G,K.length)}`,G+=1}this._element.nativeElement.dispatchEvent(new InputEvent("input")),this.updateKeyState(),this.timeout("focus",()=>{this.focusInput(),this._element.nativeElement.selectionStart=G,this._element.nativeElement.selectionEnd=G},50)}updateKeyState(){this.keyset=this.keyset.map(z=>z.map(G=>G.length>1?G:G["normal"!==this.state?"toUpperCase":"toLowerCase"]()))}static#e=this.\u0275fac=function(G){return new(G||v)(d.rXU(d.aKT),d.rXU(p.hJ))};static#t=this.\u0275cmp=d.VBU({type:v,selectors:[["input","keyboard",""],["textarea","keyboard",""]],viewQuery:function(G,K){if(1&G&&d.GBs(e.bV,5),2&G){let F;d.mGM(F=d.lsd())&&(K._portal=F.first)}},hostBindings:function(G,K){1&G&&d.bIt("focus",function(){return K.onFocus()})("blur",function(){return K.onBlur()})},inputs:{keyset:"keyset"},features:[d.Vt3,d.OA$],attrs:_,ngContentSelectors:g,decls:2,vars:0,consts:[["cdk-portal",""],["keyboard-view","",1,"w-screen","flex","flex-col","space-y-4","bg-base-200","p-2","border-t","border-base-200"],["row","","class","flex items-center justify-center space-x-2",4,"ngFor","ngForOf"],["row","",1,"flex","items-center","justify-center","space-x-2"],[4,"ngFor","ngForOf"],["tabindex","0",1,"rounded-xl","p-2","border","border-base-200","relative","cursor-pointer","bg-base-100",3,"focus","click"],["dot","","class","absolute top-2 right-2 h-2 w-2 rounded-full bg-base-200",3,"bg-success",4,"ngIf"],["dot","",1,"absolute","top-2","right-2","h-2","w-2","rounded-full","bg-base-200"]],template:function(G,K){1&G&&(d.NAR(),d.SdG(0),d.DNE(1,D,2,1,"ng-template",0))},dependencies:[m.Sq,m.bT,e.Qq],styles:["[key][_ngcontent-%COMP%]{height:3.5rem;width:4rem;transition:box-shadow .2s,top .2s;box-shadow:0 4px 0 .04px #0000001a}[key].special[_ngcontent-%COMP%]{width:10rem}[key].space[_ngcontent-%COMP%]{flex:1;min-width:10rem;max-width:25rem}[key][_ngcontent-%COMP%]:hover{top:2px;box-shadow:0 2px 0 .04px #0000001a}[key][_ngcontent-%COMP%]:active{top:4px;box-shadow:0 0 0 .04px #0000001a}"]})}return v})()},2326:(Mt,pe,a)=>{"use strict";a.d(pe,{Z:()=>ys});var e=a(467),i=a(7375),d=a(9596),p=a(2017),m=a(2357),_=a(1406),g=a(7729),b=a(1666),D=a(3501),E=a(4273),A=a(8488),v=a(7195);class K{subPriority=0;validate(dt,Pt){return!0}}class F extends K{constructor(dt,Pt,jt,Pn,Dn){super(),this.value=dt,this.validateValue=Pt,this.setValue=jt,this.priority=Pn,Dn&&(this.subPriority=Dn)}validate(dt,Pt){return this.validateValue(dt,this.value,Pt)}set(dt,Pt,jt){return this.setValue(dt,Pt,this.value,jt)}}class H extends K{priority=10;subPriority=-1;set(dt,Pt){return Pt.timestampIsSet?dt:(0,g.w)(dt,function O(wn,dt){const Pt=dt instanceof Date?(0,g.w)(dt,0):new dt(0);return Pt.setFullYear(wn.getFullYear(),wn.getMonth(),wn.getDate()),Pt.setHours(wn.getHours(),wn.getMinutes(),wn.getSeconds(),wn.getMilliseconds()),Pt}(dt,Date))}}class Y{run(dt,Pt,jt,Pn){const Dn=this.parse(dt,Pt,jt,Pn);return Dn?{setter:new F(Dn.value,this.validate,this.set,this.priority,this.subPriority),rest:Dn.rest}:null}validate(dt,Pt,jt){return!0}}var U=a(9857);const $_month=/^(1[0-2]|0?\d)/,$_date=/^(3[0-1]|[0-2]?\d)/,$_dayOfYear=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,$_week=/^(5[0-3]|[0-4]?\d)/,$_hour23h=/^(2[0-3]|[0-1]?\d)/,$_hour24h=/^(2[0-4]|[0-1]?\d)/,$_hour11h=/^(1[0-1]|0?\d)/,$_hour12h=/^(1[0-2]|0?\d)/,$_minute=/^[0-5]?\d/,$_second=/^[0-5]?\d/,$_singleDigit=/^\d/,$_twoDigits=/^\d{1,2}/,$_threeDigits=/^\d{1,3}/,$_fourDigits=/^\d{1,4}/,$_anyDigitsSigned=/^-?\d+/,$_singleDigitSigned=/^-?\d/,$_twoDigitsSigned=/^-?\d{1,2}/,$_threeDigitsSigned=/^-?\d{1,3}/,$_fourDigitsSigned=/^-?\d{1,4}/,B_basicOptionalMinutes=/^([+-])(\d{2})(\d{2})?|Z/,B_basic=/^([+-])(\d{2})(\d{2})|Z/,B_basicOptionalSeconds=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,B_extended=/^([+-])(\d{2}):(\d{2})|Z/,B_extendedOptionalSeconds=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function y(wn,dt){return wn&&{value:dt(wn.value),rest:wn.rest}}function I(wn,dt){const Pt=dt.match(wn);return Pt?{value:parseInt(Pt[0],10),rest:dt.slice(Pt[0].length)}:null}function w(wn,dt){const Pt=dt.match(wn);if(!Pt)return null;if("Z"===Pt[0])return{value:0,rest:dt.slice(1)};const jt="+"===Pt[1]?1:-1,Pn=Pt[2]?parseInt(Pt[2],10):0,Dn=Pt[3]?parseInt(Pt[3],10):0,yt=Pt[5]?parseInt(Pt[5],10):0;return{value:jt*(Pn*U.s0+Dn*U.Cg+yt*U._m),rest:dt.slice(Pt[0].length)}}function L(wn){return I($_anyDigitsSigned,wn)}function Q(wn,dt){switch(wn){case 1:return I($_singleDigit,dt);case 2:return I($_twoDigits,dt);case 3:return I($_threeDigits,dt);case 4:return I($_fourDigits,dt);default:return I(new RegExp("^\\d{1,"+wn+"}"),dt)}}function te(wn,dt){switch(wn){case 1:return I($_singleDigitSigned,dt);case 2:return I($_twoDigitsSigned,dt);case 3:return I($_threeDigitsSigned,dt);case 4:return I($_fourDigitsSigned,dt);default:return I(new RegExp("^-?\\d{1,"+wn+"}"),dt)}}function R(wn){switch(wn){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function ee(wn,dt){const Pt=dt>0,jt=Pt?dt:1-dt;let Pn;if(jt<=50)Pn=wn||100;else{const Dn=jt+50;Pn=wn+100*Math.trunc(Dn/100)-(wn>=Dn%100?100:0)}return Pt?Pn:1-Pn}function k(wn){return wn%400==0||wn%4==0&&wn%100!=0}var X=a(6045),fe=a(7793),Ze=a(8152),Ce=a(7012),$e=a(6453);const ht=[31,28,31,30,31,30,31,31,30,31,30,31],Vt=[31,29,31,30,31,30,31,31,30,31,30,31];var ot=a(9848),Pe=a(906);var Sn=a(5872);const Qe={G:new class P extends Y{priority=140;parse(dt,Pt,jt){switch(Pt){case"G":case"GG":case"GGG":return jt.era(dt,{width:"abbreviated"})||jt.era(dt,{width:"narrow"});case"GGGGG":return jt.era(dt,{width:"narrow"});default:return jt.era(dt,{width:"wide"})||jt.era(dt,{width:"abbreviated"})||jt.era(dt,{width:"narrow"})}}set(dt,Pt,jt){return Pt.era=jt,dt.setFullYear(jt,0,1),dt.setHours(0,0,0,0),dt}incompatibleTokens=["R","u","t","T"]},y:new class J extends Y{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(dt,Pt,jt){const Pn=Dn=>({year:Dn,isTwoDigitYear:"yy"===Pt});switch(Pt){case"y":return y(Q(4,dt),Pn);case"yo":return y(jt.ordinalNumber(dt,{unit:"year"}),Pn);default:return y(Q(Pt.length,dt),Pn)}}validate(dt,Pt){return Pt.isTwoDigitYear||Pt.year>0}set(dt,Pt,jt){const Pn=dt.getFullYear();if(jt.isTwoDigitYear){const yt=ee(jt.year,Pn);return dt.setFullYear(yt,0,1),dt.setHours(0,0,0,0),dt}return dt.setFullYear("era"in Pt&&1!==Pt.era?1-jt.year:jt.year,0,1),dt.setHours(0,0,0,0),dt}},Y:new class Me extends Y{priority=130;parse(dt,Pt,jt){const Pn=Dn=>({year:Dn,isTwoDigitYear:"YY"===Pt});switch(Pt){case"Y":return y(Q(4,dt),Pn);case"Yo":return y(jt.ordinalNumber(dt,{unit:"year"}),Pn);default:return y(Q(Pt.length,dt),Pn)}}validate(dt,Pt){return Pt.isTwoDigitYear||Pt.year>0}set(dt,Pt,jt,Pn){const Dn=(0,X.h)(dt,Pn);if(jt.isTwoDigitYear){const zt=ee(jt.year,Dn);return dt.setFullYear(zt,0,Pn.firstWeekContainsDate),dt.setHours(0,0,0,0),(0,fe.k)(dt,Pn)}return dt.setFullYear("era"in Pt&&1!==Pt.era?1-jt.year:jt.year,0,Pn.firstWeekContainsDate),dt.setHours(0,0,0,0),(0,fe.k)(dt,Pn)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:new class Ct extends Y{priority=130;parse(dt,Pt){return te("R"===Pt?4:Pt.length,dt)}set(dt,Pt,jt){const Pn=(0,g.w)(dt,0);return Pn.setFullYear(jt,0,4),Pn.setHours(0,0,0,0),(0,Ze.b)(Pn)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:new class lt extends Y{priority=130;parse(dt,Pt){return te("u"===Pt?4:Pt.length,dt)}set(dt,Pt,jt){return dt.setFullYear(jt,0,1),dt.setHours(0,0,0,0),dt}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]},Q:new class Ot extends Y{priority=120;parse(dt,Pt,jt){switch(Pt){case"Q":case"QQ":return Q(Pt.length,dt);case"Qo":return jt.ordinalNumber(dt,{unit:"quarter"});case"QQQ":return jt.quarter(dt,{width:"abbreviated",context:"formatting"})||jt.quarter(dt,{width:"narrow",context:"formatting"});case"QQQQQ":return jt.quarter(dt,{width:"narrow",context:"formatting"});default:return jt.quarter(dt,{width:"wide",context:"formatting"})||jt.quarter(dt,{width:"abbreviated",context:"formatting"})||jt.quarter(dt,{width:"narrow",context:"formatting"})}}validate(dt,Pt){return Pt>=1&&Pt<=4}set(dt,Pt,jt){return dt.setMonth(3*(jt-1),1),dt.setHours(0,0,0,0),dt}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:new class rt extends Y{priority=120;parse(dt,Pt,jt){switch(Pt){case"q":case"qq":return Q(Pt.length,dt);case"qo":return jt.ordinalNumber(dt,{unit:"quarter"});case"qqq":return jt.quarter(dt,{width:"abbreviated",context:"standalone"})||jt.quarter(dt,{width:"narrow",context:"standalone"});case"qqqqq":return jt.quarter(dt,{width:"narrow",context:"standalone"});default:return jt.quarter(dt,{width:"wide",context:"standalone"})||jt.quarter(dt,{width:"abbreviated",context:"standalone"})||jt.quarter(dt,{width:"narrow",context:"standalone"})}}validate(dt,Pt){return Pt>=1&&Pt<=4}set(dt,Pt,jt){return dt.setMonth(3*(jt-1),1),dt.setHours(0,0,0,0),dt}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:new class vt extends Y{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(dt,Pt,jt){const Pn=Dn=>Dn-1;switch(Pt){case"M":return y(I($_month,dt),Pn);case"MM":return y(Q(2,dt),Pn);case"Mo":return y(jt.ordinalNumber(dt,{unit:"month"}),Pn);case"MMM":return jt.month(dt,{width:"abbreviated",context:"formatting"})||jt.month(dt,{width:"narrow",context:"formatting"});case"MMMMM":return jt.month(dt,{width:"narrow",context:"formatting"});default:return jt.month(dt,{width:"wide",context:"formatting"})||jt.month(dt,{width:"abbreviated",context:"formatting"})||jt.month(dt,{width:"narrow",context:"formatting"})}}validate(dt,Pt){return Pt>=0&&Pt<=11}set(dt,Pt,jt){return dt.setMonth(jt,1),dt.setHours(0,0,0,0),dt}},L:new class ve extends Y{priority=110;parse(dt,Pt,jt){const Pn=Dn=>Dn-1;switch(Pt){case"L":return y(I($_month,dt),Pn);case"LL":return y(Q(2,dt),Pn);case"Lo":return y(jt.ordinalNumber(dt,{unit:"month"}),Pn);case"LLL":return jt.month(dt,{width:"abbreviated",context:"standalone"})||jt.month(dt,{width:"narrow",context:"standalone"});case"LLLLL":return jt.month(dt,{width:"narrow",context:"standalone"});default:return jt.month(dt,{width:"wide",context:"standalone"})||jt.month(dt,{width:"abbreviated",context:"standalone"})||jt.month(dt,{width:"narrow",context:"standalone"})}}validate(dt,Pt){return Pt>=0&&Pt<=11}set(dt,Pt,jt){return dt.setMonth(jt,1),dt.setHours(0,0,0,0),dt}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:new class me extends Y{priority=100;parse(dt,Pt,jt){switch(Pt){case"w":return I($_week,dt);case"wo":return jt.ordinalNumber(dt,{unit:"week"});default:return Q(Pt.length,dt)}}validate(dt,Pt){return Pt>=1&&Pt<=53}set(dt,Pt,jt,Pn){return(0,fe.k)(function be(wn,dt,Pt){const jt=(0,E.a)(wn),Pn=(0,Ce.N)(jt,Pt)-dt;return jt.setDate(jt.getDate()-7*Pn),jt}(dt,jt,Pn),Pn)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:new class st extends Y{priority=100;parse(dt,Pt,jt){switch(Pt){case"I":return I($_week,dt);case"Io":return jt.ordinalNumber(dt,{unit:"week"});default:return Q(Pt.length,dt)}}validate(dt,Pt){return Pt>=1&&Pt<=53}set(dt,Pt,jt){return(0,Ze.b)(function Et(wn,dt){const Pt=(0,E.a)(wn),jt=(0,$e.s)(Pt)-dt;return Pt.setDate(Pt.getDate()-7*jt),Pt}(dt,jt))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:new class qe extends Y{priority=90;subPriority=1;parse(dt,Pt,jt){switch(Pt){case"d":return I($_date,dt);case"do":return jt.ordinalNumber(dt,{unit:"date"});default:return Q(Pt.length,dt)}}validate(dt,Pt){const Pn=k(dt.getFullYear()),Dn=dt.getMonth();return Pn?Pt>=1&&Pt<=Vt[Dn]:Pt>=1&&Pt<=ht[Dn]}set(dt,Pt,jt){return dt.setDate(jt),dt.setHours(0,0,0,0),dt}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:new class gt extends Y{priority=90;subpriority=1;parse(dt,Pt,jt){switch(Pt){case"D":case"DD":return I($_dayOfYear,dt);case"Do":return jt.ordinalNumber(dt,{unit:"date"});default:return Q(Pt.length,dt)}}validate(dt,Pt){return k(dt.getFullYear())?Pt>=1&&Pt<=366:Pt>=1&&Pt<=365}set(dt,Pt,jt){return dt.setMonth(0,jt),dt.setHours(0,0,0,0),dt}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:new class ae extends Y{priority=90;parse(dt,Pt,jt){switch(Pt){case"E":case"EE":case"EEE":return jt.day(dt,{width:"abbreviated",context:"formatting"})||jt.day(dt,{width:"short",context:"formatting"})||jt.day(dt,{width:"narrow",context:"formatting"});case"EEEEE":return jt.day(dt,{width:"narrow",context:"formatting"});case"EEEEEE":return jt.day(dt,{width:"short",context:"formatting"})||jt.day(dt,{width:"narrow",context:"formatting"});default:return jt.day(dt,{width:"wide",context:"formatting"})||jt.day(dt,{width:"abbreviated",context:"formatting"})||jt.day(dt,{width:"short",context:"formatting"})||jt.day(dt,{width:"narrow",context:"formatting"})}}validate(dt,Pt){return Pt>=0&&Pt<=6}set(dt,Pt,jt,Pn){return(dt=(0,ot.l)(dt,jt,Pn)).setHours(0,0,0,0),dt}incompatibleTokens=["D","i","e","c","t","T"]},e:new class Oe extends Y{priority=90;parse(dt,Pt,jt,Pn){const Dn=yt=>{const zt=7*Math.floor((yt-1)/7);return(yt+Pn.weekStartsOn+6)%7+zt};switch(Pt){case"e":case"ee":return y(Q(Pt.length,dt),Dn);case"eo":return y(jt.ordinalNumber(dt,{unit:"day"}),Dn);case"eee":return jt.day(dt,{width:"abbreviated",context:"formatting"})||jt.day(dt,{width:"short",context:"formatting"})||jt.day(dt,{width:"narrow",context:"formatting"});case"eeeee":return jt.day(dt,{width:"narrow",context:"formatting"});case"eeeeee":return jt.day(dt,{width:"short",context:"formatting"})||jt.day(dt,{width:"narrow",context:"formatting"});default:return jt.day(dt,{width:"wide",context:"formatting"})||jt.day(dt,{width:"abbreviated",context:"formatting"})||jt.day(dt,{width:"short",context:"formatting"})||jt.day(dt,{width:"narrow",context:"formatting"})}}validate(dt,Pt){return Pt>=0&&Pt<=6}set(dt,Pt,jt,Pn){return(dt=(0,ot.l)(dt,jt,Pn)).setHours(0,0,0,0),dt}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:new class Le extends Y{priority=90;parse(dt,Pt,jt,Pn){const Dn=yt=>{const zt=7*Math.floor((yt-1)/7);return(yt+Pn.weekStartsOn+6)%7+zt};switch(Pt){case"c":case"cc":return y(Q(Pt.length,dt),Dn);case"co":return y(jt.ordinalNumber(dt,{unit:"day"}),Dn);case"ccc":return jt.day(dt,{width:"abbreviated",context:"standalone"})||jt.day(dt,{width:"short",context:"standalone"})||jt.day(dt,{width:"narrow",context:"standalone"});case"ccccc":return jt.day(dt,{width:"narrow",context:"standalone"});case"cccccc":return jt.day(dt,{width:"short",context:"standalone"})||jt.day(dt,{width:"narrow",context:"standalone"});default:return jt.day(dt,{width:"wide",context:"standalone"})||jt.day(dt,{width:"abbreviated",context:"standalone"})||jt.day(dt,{width:"short",context:"standalone"})||jt.day(dt,{width:"narrow",context:"standalone"})}}validate(dt,Pt){return Pt>=0&&Pt<=6}set(dt,Pt,jt,Pn){return(dt=(0,ot.l)(dt,jt,Pn)).setHours(0,0,0,0),dt}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:new class Ft extends Y{priority=90;parse(dt,Pt,jt){const Pn=Dn=>0===Dn?7:Dn;switch(Pt){case"i":case"ii":return Q(Pt.length,dt);case"io":return jt.ordinalNumber(dt,{unit:"day"});case"iii":return y(jt.day(dt,{width:"abbreviated",context:"formatting"})||jt.day(dt,{width:"short",context:"formatting"})||jt.day(dt,{width:"narrow",context:"formatting"}),Pn);case"iiiii":return y(jt.day(dt,{width:"narrow",context:"formatting"}),Pn);case"iiiiii":return y(jt.day(dt,{width:"short",context:"formatting"})||jt.day(dt,{width:"narrow",context:"formatting"}),Pn);default:return y(jt.day(dt,{width:"wide",context:"formatting"})||jt.day(dt,{width:"abbreviated",context:"formatting"})||jt.day(dt,{width:"short",context:"formatting"})||jt.day(dt,{width:"narrow",context:"formatting"}),Pn)}}validate(dt,Pt){return Pt>=1&&Pt<=7}set(dt,Pt,jt){return(dt=function Kt(wn,dt){const Pt=(0,E.a)(wn),jt=function _t(wn){let Pt=(0,E.a)(wn).getDay();return 0===Pt&&(Pt=7),Pt}(Pt);return(0,Pe.f)(Pt,dt-jt)}(dt,jt)).setHours(0,0,0,0),dt}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:new class _n extends Y{priority=80;parse(dt,Pt,jt){switch(Pt){case"a":case"aa":case"aaa":return jt.dayPeriod(dt,{width:"abbreviated",context:"formatting"})||jt.dayPeriod(dt,{width:"narrow",context:"formatting"});case"aaaaa":return jt.dayPeriod(dt,{width:"narrow",context:"formatting"});default:return jt.dayPeriod(dt,{width:"wide",context:"formatting"})||jt.dayPeriod(dt,{width:"abbreviated",context:"formatting"})||jt.dayPeriod(dt,{width:"narrow",context:"formatting"})}}set(dt,Pt,jt){return dt.setHours(R(jt),0,0,0),dt}incompatibleTokens=["b","B","H","k","t","T"]},b:new class ft extends Y{priority=80;parse(dt,Pt,jt){switch(Pt){case"b":case"bb":case"bbb":return jt.dayPeriod(dt,{width:"abbreviated",context:"formatting"})||jt.dayPeriod(dt,{width:"narrow",context:"formatting"});case"bbbbb":return jt.dayPeriod(dt,{width:"narrow",context:"formatting"});default:return jt.dayPeriod(dt,{width:"wide",context:"formatting"})||jt.dayPeriod(dt,{width:"abbreviated",context:"formatting"})||jt.dayPeriod(dt,{width:"narrow",context:"formatting"})}}set(dt,Pt,jt){return dt.setHours(R(jt),0,0,0),dt}incompatibleTokens=["a","B","H","k","t","T"]},B:new class pt extends Y{priority=80;parse(dt,Pt,jt){switch(Pt){case"B":case"BB":case"BBB":return jt.dayPeriod(dt,{width:"abbreviated",context:"formatting"})||jt.dayPeriod(dt,{width:"narrow",context:"formatting"});case"BBBBB":return jt.dayPeriod(dt,{width:"narrow",context:"formatting"});default:return jt.dayPeriod(dt,{width:"wide",context:"formatting"})||jt.dayPeriod(dt,{width:"abbreviated",context:"formatting"})||jt.dayPeriod(dt,{width:"narrow",context:"formatting"})}}set(dt,Pt,jt){return dt.setHours(R(jt),0,0,0),dt}incompatibleTokens=["a","b","t","T"]},h:new class $t extends Y{priority=70;parse(dt,Pt,jt){switch(Pt){case"h":return I($_hour12h,dt);case"ho":return jt.ordinalNumber(dt,{unit:"hour"});default:return Q(Pt.length,dt)}}validate(dt,Pt){return Pt>=1&&Pt<=12}set(dt,Pt,jt){const Pn=dt.getHours()>=12;return dt.setHours(Pn&&jt<12?jt+12:Pn||12!==jt?jt:0,0,0,0),dt}incompatibleTokens=["H","K","k","t","T"]},H:new class kt extends Y{priority=70;parse(dt,Pt,jt){switch(Pt){case"H":return I($_hour23h,dt);case"Ho":return jt.ordinalNumber(dt,{unit:"hour"});default:return Q(Pt.length,dt)}}validate(dt,Pt){return Pt>=0&&Pt<=23}set(dt,Pt,jt){return dt.setHours(jt,0,0,0),dt}incompatibleTokens=["a","b","h","K","k","t","T"]},K:new class dn extends Y{priority=70;parse(dt,Pt,jt){switch(Pt){case"K":return I($_hour11h,dt);case"Ko":return jt.ordinalNumber(dt,{unit:"hour"});default:return Q(Pt.length,dt)}}validate(dt,Pt){return Pt>=0&&Pt<=11}set(dt,Pt,jt){return dt.getHours()>=12&&jt<12?dt.setHours(jt+12,0,0,0):dt.setHours(jt,0,0,0),dt}incompatibleTokens=["h","H","k","t","T"]},k:new class pn extends Y{priority=70;parse(dt,Pt,jt){switch(Pt){case"k":return I($_hour24h,dt);case"ko":return jt.ordinalNumber(dt,{unit:"hour"});default:return Q(Pt.length,dt)}}validate(dt,Pt){return Pt>=1&&Pt<=24}set(dt,Pt,jt){return dt.setHours(jt<=24?jt%24:jt,0,0,0),dt}incompatibleTokens=["a","b","h","H","K","t","T"]},m:new class un extends Y{priority=60;parse(dt,Pt,jt){switch(Pt){case"m":return I($_minute,dt);case"mo":return jt.ordinalNumber(dt,{unit:"minute"});default:return Q(Pt.length,dt)}}validate(dt,Pt){return Pt>=0&&Pt<=59}set(dt,Pt,jt){return dt.setMinutes(jt,0,0),dt}incompatibleTokens=["t","T"]},s:new class an extends Y{priority=50;parse(dt,Pt,jt){switch(Pt){case"s":return I($_second,dt);case"so":return jt.ordinalNumber(dt,{unit:"second"});default:return Q(Pt.length,dt)}}validate(dt,Pt){return Pt>=0&&Pt<=59}set(dt,Pt,jt){return dt.setSeconds(jt,0),dt}incompatibleTokens=["t","T"]},S:new class hn extends Y{priority=30;parse(dt,Pt){return y(Q(Pt.length,dt),Pn=>Math.trunc(Pn*Math.pow(10,3-Pt.length)))}set(dt,Pt,jt){return dt.setMilliseconds(jt),dt}incompatibleTokens=["t","T"]},X:new class Lt extends Y{priority=10;parse(dt,Pt){switch(Pt){case"X":return w(B_basicOptionalMinutes,dt);case"XX":return w(B_basic,dt);case"XXXX":return w(B_basicOptionalSeconds,dt);case"XXXXX":return w(B_extendedOptionalSeconds,dt);default:return w(B_extended,dt)}}set(dt,Pt,jt){return Pt.timestampIsSet?dt:(0,g.w)(dt,dt.getTime()-(0,Sn.G)(dt)-jt)}incompatibleTokens=["t","T","x"]},x:new class at extends Y{priority=10;parse(dt,Pt){switch(Pt){case"x":return w(B_basicOptionalMinutes,dt);case"xx":return w(B_basic,dt);case"xxxx":return w(B_basicOptionalSeconds,dt);case"xxxxx":return w(B_extendedOptionalSeconds,dt);default:return w(B_extended,dt)}}set(dt,Pt,jt){return Pt.timestampIsSet?dt:(0,g.w)(dt,dt.getTime()-(0,Sn.G)(dt)-jt)}incompatibleTokens=["t","T","X"]},t:new class ct extends Y{priority=40;parse(dt){return L(dt)}set(dt,Pt,jt){return[(0,g.w)(dt,1e3*jt),{timestampIsSet:!0}]}incompatibleTokens="*"},T:new class Xe extends Y{priority=20;parse(dt){return L(dt)}set(dt,Pt,jt){return[(0,g.w)(dt,jt),{timestampIsSet:!0}]}incompatibleTokens="*"}},Bt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Xt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Be=/^'([^]*?)'?$/,oe=/''/g,Ee=/\S/,ne=/[a-zA-Z]/;function Ie(wn,dt,Pt,jt){const Pn=function u(){return Object.assign({},(0,b.q)())}(),Dn=jt?.locale??Pn.locale??D.c,yt=jt?.firstWeekContainsDate??jt?.locale?.options?.firstWeekContainsDate??Pn.firstWeekContainsDate??Pn.locale?.options?.firstWeekContainsDate??1,zt=jt?.weekStartsOn??jt?.locale?.options?.weekStartsOn??Pn.weekStartsOn??Pn.locale?.options?.weekStartsOn??0;if(""===dt)return""===wn?(0,E.a)(Pt):(0,g.w)(Pt,NaN);const Yt={firstWeekContainsDate:yt,weekStartsOn:zt,locale:Dn},mt=[new H],Qt=dt.match(Xt).map(Jt=>{const Bn=Jt[0];return Bn in A.m?(0,A.m[Bn])(Jt,Dn.formatLong):Jt}).join("").match(Bt),se=[];for(let Jt of Qt){!jt?.useAdditionalWeekYearTokens&&(0,v.xM)(Jt)&&(0,v.Ss)(Jt,dt,wn),!jt?.useAdditionalDayOfYearTokens&&(0,v.ef)(Jt)&&(0,v.Ss)(Jt,dt,wn);const Bn=Jt[0],hi=Qe[Bn];if(hi){const{incompatibleTokens:Pi}=hi;if(Array.isArray(Pi)){const zi=se.find(wi=>Pi.includes(wi.token)||wi.token===Bn);if(zi)throw new RangeError(`The format string mustn't contain \`${zi.fullToken}\` and \`${Jt}\` at the same time`)}else if("*"===hi.incompatibleTokens&&se.length>0)throw new RangeError(`The format string mustn't contain \`${Jt}\` and any other token at the same time`);se.push({token:Bn,fullToken:Jt});const Vi=hi.run(wn,Jt,Dn.match,Yt);if(!Vi)return(0,g.w)(Pt,NaN);mt.push(Vi.setter),wn=Vi.rest}else{if(Bn.match(ne))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Bn+"`");if("''"===Jt?Jt="'":"'"===Bn&&(Jt=Te(Jt)),0!==wn.indexOf(Jt))return(0,g.w)(Pt,NaN);wn=wn.slice(Jt.length)}}if(wn.length>0&&Ee.test(wn))return(0,g.w)(Pt,NaN);const Ae=mt.map(Jt=>Jt.priority).sort((Jt,Bn)=>Bn-Jt).filter((Jt,Bn,hi)=>hi.indexOf(Jt)===Bn).map(Jt=>mt.filter(Bn=>Bn.priority===Jt).sort((Bn,hi)=>hi.subPriority-Bn.subPriority)).map(Jt=>Jt[0]);let xe=(0,E.a)(Pt);if(isNaN(xe.getTime()))return(0,g.w)(Pt,NaN);const bt={};for(const Jt of Ae){if(!Jt.validate(xe,Yt))return(0,g.w)(Pt,NaN);const Bn=Jt.set(xe,bt,Yt);Array.isArray(Bn)?(xe=Bn[0],Object.assign(bt,Bn[1])):xe=Bn}return(0,g.w)(Pt,xe)}function Te(wn){return wn.match(Be)[1].replace(oe,"'")}var Ue=a(9255),Fe=a(3601),At=a(3022),Ke=a(3953),xt=a(4006),tn=a(177),nn=a(9115),En=a(6600),Un=a(4823),Xn=a(9434);function Qn(wn,dt){if(1&wn){const Pt=Ke.RV6();Ke.j41(0,"button",18),Ke.bIt("click",function(){const Pn=Ke.eBV(Pt).$implicit,Dn=Ke.XpG().index,yt=Ke.XpG(2);return Ke.Njj(yt.setLocation(Dn,Pn.id))}),Ke.j41(1,"div",19)(2,"app-icon",12),Ke.EFF(3),Ke.k0s(),Ke.j41(4,"div",20),Ke.EFF(5),Ke.k0s()()()}if(2&wn){const Pt=dt.$implicit;Ke.R7$(3),Ke.JRh(Pt.icon),Ke.R7$(2),Ke.JRh(Pt.name)}}function fi(wn,dt){1&wn&&Ke.nrm(0,"div",21)}function Ui(wn,dt){if(1&wn&&(Ke.j41(0,"div",10)(1,"div",11)(2,"app-icon",12),Ke.EFF(3),Ke.k0s()(),Ke.j41(4,"div",13)(5,"button",14)(6,"div"),Ke.EFF(7),Ke.k0s(),Ke.j41(8,"app-icon"),Ke.EFF(9,"expand_more"),Ke.k0s()(),Ke.j41(10,"mat-menu",null,1),Ke.DNE(12,Qn,6,2,"button",15),Ke.k0s(),Ke.j41(13,"div",16),Ke.EFF(14),Ke.nI1(15,"date"),Ke.nI1(16,"date"),Ke.k0s()(),Ke.DNE(17,fi,1,0,"div",17),Ke.k0s()),2&wn){const Pt=dt.$implicit,jt=dt.index,Pn=Ke.sdS(11),Dn=Ke.XpG(2);Ke.AVh("opacity-30",Dn.now>Dn.timeFrom(Pt.end_time)),Ke.R7$(),Ke.AVh("bg-base-200",Dn.now<Dn.timeFrom(Pt.start_time)||Dn.now>Dn.timeFrom(Pt.end_time))("bg-info",Dn.now>=Dn.timeFrom(Pt.start_time)&&Dn.now<=Dn.timeFrom(Pt.end_time))("text-info-content",Dn.now>=Dn.timeFrom(Pt.start_time)&&Dn.now<=Dn.timeFrom(Pt.end_time)),Ke.R7$(2),Ke.JRh(Dn.location_icon(Dn.timeFrom(Pt.start_time))),Ke.R7$(2),Ke.Y8G("matMenuTriggerFor",Pn),Ke.R7$(2),Ke.SpI(" ",Dn.location(Dn.timeFrom(Pt.start_time))," "),Ke.R7$(5),Ke.Y8G("ngForOf",Dn.locations),Ke.R7$(2),Ke.Lme(" ",Ke.i5U(15,15,Dn.timeFrom(Pt.start_time),"shortTime")," \u2013 ",Ke.i5U(16,18,Dn.timeFrom(Pt.end_time),"shortTime")," "),Ke.R7$(3),Ke.Y8G("ngIf",jt>0)}}function Ti(wn,dt){if(1&wn&&(Ke.j41(0,"div",8),Ke.DNE(1,Ui,18,21,"div",9),Ke.k0s()),2&wn){const Pt=Ke.XpG();Ke.R7$(),Ke.Y8G("ngForOf",null==Pt.active_preference?null:Pt.active_preference.blocks)}}function Wi(wn,dt){1&wn&&(Ke.j41(0,"div",22)(1,"app-icon",23),Ke.EFF(2,"event_busy"),Ke.k0s(),Ke.j41(3,"p",24),Ke.EFF(4,"No work location for today."),Ke.k0s(),Ke.j41(5,"p",24),Ke.EFF(6," Click the edit button on the top right to edit your work location preferences. "),Ke.k0s()())}let ys=(()=>{class wn{get active_preference(){const Pt=(0,p.GP)(new Date,"yyyy-MM-dd");return this.overrides[Pt]?this.overrides[Pt]:this.settings.find(jt=>jt.day_of_week===(new Date).getDay())}get now(){return(0,m.c)(Date.now()).getTime()}constructor(Pt){this._dialog=Pt,this.locations=[{id:"wfo",name:"Office",icon:"business"},{id:"wfh",name:"Home",icon:"home"},{id:"aol",name:"Leave",icon:"event_busy"}]}ngOnInit(){const Pt=(0,i.Ny)();this.settings=Pt.work_preferences,this.overrides=Pt.work_overrides}location_icon(Pt){return(0,i.Ny)().location_icon(Pt+6e4)}location(Pt){return(0,i.Ny)().location_name_time(Pt+6e4)}timeFrom(Pt){return(0,m.c)((0,_.h)(new Date,{hours:Math.floor(Pt),minutes:60*Pt%60,seconds:0,milliseconds:0})).getTime()}editSettings(){this._dialog.open(At.$)}setLocation(Pt,jt){var Pn=this;return(0,e.A)(function*(){const Dn=(0,i.Ny)(),yt=Pn.active_preference,zt=(0,p.GP)(Date.now(),"yyyy-MM-dd"),Yt={...Dn.work_overrides,[zt]:{...yt,blocks:[...yt.blocks.slice(0,Pt),{...yt.blocks[Pt],location:jt},...yt.blocks.slice(Pt+1)]}};for(const mt in Yt){const Qt=Ie(mt,"yyyy-MM-dd",new Date);(!Yt[mt].blocks.length||(0,Ue.Y)(Qt,(0,Pe.f)((0,Fe.o)(Date.now()),-1)))&&delete Yt[mt]}Pn.overrides=Yt,yield(0,d.TKu)(Dn.id,{...Dn,work_overrides:Yt}).toPromise(),(0,i.mj)()})()}static#e=this.\u0275fac=function(jt){return new(jt||wn)(Ke.rXU(xt.bZ))};static#t=this.\u0275cmp=Ke.VBU({type:wn,selectors:[["work-location-tooltip"]],decls:13,vars:6,consts:[["empty_state",""],["menu","matMenu"],[1,"flex","flex-col","w-[18.5rem]","rounded","bg-base-100","shadow","relative","-top-12","-right-1","overflow-hidden"],[1,"flex","items-center","justify-between","px-2"],[1,"px-2","py-4","font-medium"],["icon","","matRipple","","matTooltip","Edit Work Location Preferences","matTooltipPosition","left",1,"hover:bg-base-200",3,"click"],[1,"px-4","font-medium","text-sm"],["class","pb-2",4,"ngIf","ngIfElse"],[1,"pb-2"],["class","relative flex items-center px-4 py-2",3,"opacity-30",4,"ngFor","ngForOf"],[1,"relative","flex","items-center","px-4","py-2"],[1,"rounded-full","h-10","w-10","flex","items-center","justify-center","bg-base-200","z-20"],[1,"text-2xl"],[1,"flex-1","ml-2"],["matRipple","",1,"font-medium","flex","items-center","space-x-2","rounded","hover:bg-base-200","px-2","py-1",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[1,"text-xs","opacity-60","px-2"],["class","absolute -top-2 left-7 h-4 w-0 border-l-2 border-dashed border-base-200 -translate-x-px",4,"ngIf"],["mat-menu-item","",3,"click"],[1,"flex","items-center","space-x-2"],[1,"pr-8"],[1,"absolute","-top-2","left-7","h-4","w-0","border-l-2","border-dashed","border-base-200","-translate-x-px"],[1,"flex","flex-col","items-center","justify-center","p-8","space-y-2","w-full","opacity-30"],[1,"text-6xl"],[1,"text-center","text-sm"]],template:function(jt,Pn){if(1&jt){const Dn=Ke.RV6();Ke.j41(0,"div",2)(1,"div",3)(2,"h3",4),Ke.EFF(3,"Work Location"),Ke.k0s(),Ke.j41(4,"button",5),Ke.bIt("click",function(){return Ke.eBV(Dn),Ke.Njj(Pn.editSettings())}),Ke.j41(5,"app-icon"),Ke.EFF(6,"edit_note"),Ke.k0s()()(),Ke.j41(7,"h3",6),Ke.EFF(8),Ke.nI1(9,"date"),Ke.k0s(),Ke.DNE(10,Ti,2,1,"div",7),Ke.k0s(),Ke.DNE(11,Wi,7,0,"ng-template",null,0,Ke.C5r)}if(2&jt){const Dn=Ke.sdS(12);Ke.R7$(8),Ke.SpI(" ",Ke.i5U(9,3,Pn.now,"fullDate")," "),Ke.R7$(2),Ke.Y8G("ngIf",null==Pn.active_preference||null==Pn.active_preference.blocks?null:Pn.active_preference.blocks.length)("ngIfElse",Dn)}},dependencies:[tn.Sq,tn.bT,nn.kk,nn.fb,nn.Cp,En.r6,Un.oV,Xn.R,tn.vh]})}return wn})()},5312:(Mt,pe,a)=>{"use strict";a.d(pe,{l:()=>_});var e=a(467),i=a(9596),d=a(3953);const p={},m=new i.kMc;let _=(()=>{class g{transform(u){return(0,e.A)(function*(){if(p[u])return p[u];const S=yield(0,i._Ni)(u).toPromise().catch(D=>null);return S?(p[u]=S,S):m})()}static#e=this.\u0275fac=function(S){return new(S||g)};static#t=this.\u0275pipe=d.EJ8({name:"zone",type:g,pure:!0})}return g})()},8113:(Mt,pe,a)=>{"use strict";a.d(pe,{LR:()=>i.L,bQ:()=>_.b,Ws:()=>e.W,E2:()=>u.E,Nm:()=>b.N,jX:()=>m.j,Dk:()=>d.Dk,dP:()=>d.dP,UU:()=>d.UU,Nn:()=>d.Nn,Lo:()=>p.Lo,ue:()=>d.ue});var e=a(6101),i=a(6727),d=a(1416),p=a(1761),m=a(2704),_=a(4035),b=(a(1765),a(711)),u=a(5713);a(7535)},7249:(Mt,pe,a)=>{"use strict";a.d(pe,{I:()=>g});var e=a(3953);function i(b,u){if(1&b){const S=e.RV6();e.j41(0,"button",8),e.bIt("click",function(){e.eBV(S);const E=e.XpG();return e.Njj(E.close.emit())}),e.j41(1,"app-icon"),e.EFF(2,"arrow_back"),e.k0s()()}}function d(b,u){1&b&&e.nrm(0,"div",9)}function p(b,u){1&b&&(e.j41(0,"div",18),e.EFF(1," Host "),e.k0s())}function m(b,u){if(1&b&&(e.j41(0,"div",11),e.nrm(1,"a-user-avatar",12),e.j41(2,"div",13)(3,"div",14),e.EFF(4),e.k0s(),e.DNE(5,p,2,0,"div",15),e.k0s(),e.j41(6,"div",16),e.nrm(7,"div",17),e.k0s()()),2&b){const S=e.XpG().$implicit,D=e.XpG();e.R7$(),e.Y8G("user",S),e.R7$(3),e.JRh(S.name),e.R7$(),e.Y8G("ngIf",D.host===S.email),e.R7$(2),e.AVh("bg-success",S.checked_in)("bg-pending",!S.checked_in),e.Y8G("matTooltip",S.checked_in?"Checked in":"Not checked in")}}function _(b,u){if(1&b&&(e.qex(0),e.DNE(1,m,8,8,"div",10),e.bVm()),2&b){const S=u.$implicit,D=e.XpG();e.R7$(),e.Y8G("ngIf",!S.resource&&(D.host!==S.email||D.show_host))}}let g=(()=>{class b{constructor(){this.host="",this.show_host=!0,this.list=[],this.hide_close=!1,this.custom_title="",this.close=new e.bkB}static#e=this.\u0275fac=function(D){return new(D||b)};static#t=this.\u0275cmp=e.VBU({type:b,selectors:[["attendee-list"]],inputs:{host:"host",show_host:"show_host",list:"list",hide_close:"hide_close",custom_title:"custom_title"},outputs:{close:"close"},decls:8,vars:5,consts:()=>{let S;return S=$localize`:c68a77fe1aa97a8e5588bafc6b5cb8ced3e3d2885922903057904788374: ${"\ufffd0\ufffd"}:INTERPOLATION: ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,[S,[1,"w-full","h-full","overflow-hidden","flex","flex-col","bg-base-100"],[1,"flex","items-center","border-b","border-base-200","p-2","min-h-12"],["close","","icon","","matRipple","",3,"click",4,"ngIf"],[1,"flex-1","text-center","font-medium"],["class","w-12",4,"ngIf"],[1,"flex-1","w-full","overflow-auto"],[4,"ngFor","ngForOf"],["close","","icon","","matRipple","",3,"click"],[1,"w-12"],["attendee","","class","flex items-center p-2 space-x-2 hover:bg-base-200",4,"ngIf"],["attendee","",1,"flex","items-center","p-2","space-x-2","hover:bg-base-200"],[3,"user"],[1,"flex-1","w-1/2"],[1,"truncate"],["class","opacity-60 text-sm",4,"ngIf"],[1,"p-2"],[1,"h-3","w-3","rounded-full",3,"matTooltip"],[1,"opacity-60","text-sm"]]},template:function(D,E){1&D&&(e.j41(0,"div",1)(1,"div",2),e.DNE(2,i,3,0,"button",3),e.j41(3,"div",4),e.pXf(4,0),e.k0s(),e.DNE(5,d,1,0,"div",5),e.k0s(),e.j41(6,"div",6),e.DNE(7,_,2,1,"ng-container",7),e.k0s()()),2&D&&(e.R7$(2),e.Y8G("ngIf",!E.hide_close),e.R7$(2),e.uP7(E.list.length)(E.custom_title?E.custom_title:1===E.list.length?"Attendee":"Attendees"),e.nnv(4),e.R7$(),e.Y8G("ngIf",!E.hide_close),e.R7$(2),e.Y8G("ngForOf",E.list))}})}return b})()},1765:(Mt,pe,a)=>{"use strict";a.d(pe,{w:()=>$});var e=a(467),i=a(3953),d=a(5818),p=a(2017),m=a(7375),g=(a(6727),a(4035)),b=a(5762),u=a(2011),S=a(5713),D=a(177),E=a(4006),A=a(3141);const v=()=>["./"],O=B=>({event:B});function z(B,y){if(1&B&&(i.j41(0,"span",5),i.EFF(1),i.k0s()),2&B){const I=i.XpG(2);i.R7$(),i.SpI("",I.day,",\xa0")}}function G(B,y){if(1&B&&(i.j41(0,"h4",2),i.DNE(1,z,2,1,"span",3),i.EFF(2),i.nI1(3,"date"),i.j41(4,"span",4),i.EFF(5),i.nI1(6,"date"),i.k0s()()),2&B){const I=i.XpG();i.R7$(),i.Y8G("ngIf",I.show_day),i.R7$(),i.SpI(" ",i.i5U(3,3,null==I.event?null:I.event.date,I.time_format)," "),i.R7$(3),i.SpI("(",i.i5U(6,6,null==I.event?null:I.event.date,"z"),")")}}function K(B,y){if(1&B&&(i.j41(0,"div",20),i.EFF(1),i.k0s()),2&B){const I=i.XpG(2);i.R7$(),i.SpI(" ",I.period_tz," ")}}function F(B,y){1&B&&(i.j41(0,"div",14)(1,"app-icon"),i.EFF(2,"restaurant"),i.k0s(),i.j41(3,"div",16),i.EFF(4,"Catered"),i.k0s()())}function H(B,y){if(1&B&&(i.j41(0,"div",24),i.nrm(1,"a-user-avatar",25),i.k0s()),2&B){const I=y.$implicit;i.R7$(),i.Y8G("user",I)}}function Y(B,y){if(1&B&&(i.j41(0,"div",24)(1,"div",26),i.EFF(2),i.k0s()()),2&B){const I=i.XpG(3);i.R7$(2),i.SpI(" +",(null==I.event||null==I.event.attendees?null:I.event.attendees.length)-5," ")}}function P(B,y){if(1&B&&(i.j41(0,"div",21),i.DNE(1,H,2,1,"div",22),i.nI1(2,"slice"),i.DNE(3,Y,3,1,"div",23),i.k0s()),2&B){const I=i.XpG(2);i.R7$(),i.Y8G("ngForOf",i.brH(2,2,null==I.event?null:I.event.attendees,0,6===(null==I.event||null==I.event.attendees?null:I.event.attendees.length)?6:5)),i.R7$(2),i.Y8G("ngIf",(null==I.event||null==I.event.attendees?null:I.event.attendees.length)>6)}}function U(B,y){if(1&B){const I=i.RV6();i.j41(0,"a",6),i.bIt("click",function(){i.eBV(I);const L=i.XpG();return i.Njj(L.viewDetails())}),i.j41(1,"div",7)(2,"h4",8),i.EFF(3),i.k0s(),i.j41(4,"div",9)(5,"status-pill",10)(6,"div",11)(7,"div"),i.EFF(8),i.k0s(),i.DNE(9,K,2,1,"div",12),i.k0s()()(),i.j41(10,"div",13)(11,"div",14)(12,"app-icon"),i.EFF(13,"meeting_room"),i.k0s(),i.j41(14,"div",15),i.EFF(15),i.k0s()(),i.j41(16,"div",14)(17,"app-icon"),i.EFF(18,"person_outline"),i.k0s(),i.j41(19,"div",16),i.EFF(20),i.k0s()(),i.DNE(21,F,5,0,"div",17),i.j41(22,"div",14)(23,"app-icon"),i.EFF(24,"people"),i.k0s(),i.j41(25,"div",16),i.EFF(26),i.k0s()()(),i.j41(27,"app-icon",18),i.EFF(28," chevron_right "),i.k0s(),i.DNE(29,P,4,6,"div",19),i.k0s()()}if(2&B){let I;const w=i.XpG();i.Y8G("routerLink",i.lJ4(14,v))("queryParams",i.eq3(15,O,null==w.event?null:w.event.id)),i.R7$(3),i.JRh(null==w.event?null:w.event.title),i.R7$(2),i.Y8G("status",w.status),i.R7$(),i.AVh("pr-4",w.timezone),i.R7$(2),i.JRh(w.period),i.R7$(),i.Y8G("ngIf",w.timezone),i.R7$(6),i.SpI(" ",w.location," "),i.R7$(5),i.SpI(" ",(null==w.event||null==w.event.organiser?null:w.event.organiser.name)||(null==w.event||null==w.event.organiser?null:w.event.organiser.email)," "),i.R7$(),i.Y8G("ngIf",null==w.event||null==(I=w.event.ext("catering"))?null:I.length),i.R7$(5),i.Lme(" ",null==w.event||null==w.event.attendees?null:w.event.attendees.length," ",1===(null==w.event||null==w.event.attendees?null:w.event.attendees.length)?"Person":"People"," "),i.R7$(3),i.Y8G("ngIf",null==w.event||null==w.event.attendees?null:w.event.attendees.length)}}let $=(()=>{class B extends m.Tv{get timezone(){return this._settings.get("app.events.use_building_timezone")?this._org.building.timezone:""}get tz(){const I=this.timezone;return I?(0,m.GF)(I):""}get time_format(){return this._settings.time_format}get period(){return this.event?.all_day?"All Day":this.formattedTime()}get period_tz(){return this.formattedTime(this.tz)}formattedTime(I){const w=this.event.date,L=this.event.date_end,Q=this.event.all_day,te=this._date.transform(w,"z",I),R=this._date.transform(w,"MMM d",I),ee=this._date.transform(w,this.time_format,I),k=this._date.transform(L,"MMM d",I),J=this._date.transform(L,this.time_format,I);return this.event?.duration>1440?`${R}${Q?"":", "+ee} - ${k}${Q?"":", "+J}`:Q?"All Day":`${ee} - ${J} ${"("+te+")"}`}get status(){return"done"===this.event?.state?"neutral":"approved"===this.event?.status?"success":"tentative"===this.event?.status?"warning":"declined"===this.event?.status?"error":"warning"}constructor(I,w,L,Q,te){super(),this._dialog=I,this._route=w,this._org=L,this._space_pipe=Q,this._settings=te,this.show_day=!1,this.edit=new i.bkB,this.remove=new i.bkB,this.location="",this._date=new D.vh("en")}ngOnInit(){var I=this;return(0,e.A)(function*(){I.subscription("route.query",I._route.queryParamMap.subscribe(w=>w.has("event")&&I.event?.id===w.get("event")?I.viewDetails():"")),I.location=yield I.getLocationString()})()}ngOnChanges(I){var w=this;return(0,e.A)(function*(){I.event&&w.event&&(w.location=yield w.getLocationString())})()}get day(){const I=this.event?.date||Date.now();return`${(0,d.r)(Date.now(),I)?"Today":(0,p.GP)(I,"EEEE")}`}getLocationString(){var I=this;return(0,e.A)(function*(){const w=I.event?.resources[0]||I.event?.system||I.event?.space||{},L=yield I._space_pipe.transform(w.id||w.email),Q=L?.zones||[],te=I._org.levelWithID(Q)||I._org.buildings.find(R=>Q.includes(R.id));return`${te?(te.display_name||te.name)+", ":""} ${L?.display_name||L?.name}`})()}viewDetails(){this.event&&this.timeout("open",()=>{if(this.event.extension_data?.shared_event)return void this._dialog.open(S.E,{data:{event:this.event,concierge:!1}});const I=this._dialog.open(g.b,{data:this.event});this.subscription("edit",I.componentInstance.edit.subscribe(()=>this.edit.emit())),this.subscription("remove",I.componentInstance.remove.subscribe(w=>this.remove.emit(w)))})}static#e=this.\u0275fac=function(w){return new(w||B)(i.rXU(E.bZ),i.rXU(A.nX),i.rXU(b.y),i.rXU(u.J),i.rXU(m.h$))};static#t=this.\u0275cmp=i.VBU({type:B,selectors:[["event-card"]],inputs:{event:"event",show_day:"show_day"},outputs:{edit:"edit",remove:"remove"},features:[i.Jv_([u.J]),i.Vt3,i.OA$],decls:2,vars:2,consts:[["class","mb-2 flex items-center","date","",4,"ngIf"],["name","view-event-details","class","w-full cursor-pointer relative",3,"routerLink","queryParams","click",4,"ngIf"],["date","",1,"mb-2","flex","items-center"],["day","",4,"ngIf"],[1,"text-xs","px-2"],["day",""],["name","view-event-details",1,"w-full","cursor-pointer","relative",3,"click","routerLink","queryParams"],[1,"w-full","bg-base-100","border","border-base-300","rounded-xl","shadow","py-4","relative"],[1,"px-4","text-lg"],[1,"flex","mx-4","my-2"],[3,"status"],[1,"flex","flex-col","leading-tight"],["class","opacity-30 text-xs",4,"ngIf"],[1,"flex","flex-wrap","flex-col","sm:flex-row","sm:divide-x","divide-base-200-500","py-2","space-y-2","sm:space-y-0"],[1,"flex","items-center","px-4"],[1,"mx-2","truncate"],[1,"mx-2"],["class","flex items-center px-4",4,"ngIf"],[1,"absolute","top-1/2","right-1","text-4xl","-translate-y-1/2"],["class","absolute bottom-2 right-2 sm:bottom-auto sm:top-2 text-sm sm:text-base flex items-center pr-4",4,"ngIf"],[1,"opacity-30","text-xs"],[1,"absolute","bottom-2","right-2","sm:bottom-auto","sm:top-2","text-sm","sm:text-base","flex","items-center","pr-4"],["class","h-10 w-6",4,"ngFor","ngForOf"],["class","h-10 w-6",4,"ngIf"],[1,"h-10","w-6"],[3,"user"],[1,"bg-secondary","rounded-full","h-10","w-10","border-2","border-base-100","flex","items-center","justify-center","text-secondary-content"]],template:function(w,L){1&w&&i.DNE(0,G,7,9,"h4",0)(1,U,30,17,"a",1),2&w&&(i.Y8G("ngIf",L.event),i.R7$(),i.Y8G("ngIf",L.event))},styles:["[_nghost-%COMP%]{display:block;width:100%}"]})}return B})()},4035:(Mt,pe,a)=>{"use strict";a.d(pe,{b:()=>Ot});var e=a(467),i=a(3953),d=a(4006),p=a(5987),m=a(6727),_=a(1865),g=a(5762),b=a(2011),u=a(5170),S=a(602),D=a(7375),E=a(735),A=a(9596),v=a(620),O=a(1416),z=a(177);const G=()=>({disable_pan:!0,disable_zoom:!0});function K(rt,vt){1&rt&&i.nrm(0,"div",58)}function F(rt,vt){if(1&rt&&(i.j41(0,"div",59),i.nrm(1,"image-carousel",60),i.k0s()),2&rt){const ve=i.XpG();i.R7$(),i.Y8G("images",null==ve.event||null==ve.event.system?null:ve.event.system.images)}}function H(rt,vt){if(1&rt&&(i.j41(0,"div",61),i.EFF(1),i.k0s()),2&rt){const ve=i.XpG();i.R7$(),i.SpI(" ",ve.period_tz," ")}}function Y(rt,vt){if(1&rt){const ve=i.RV6();i.j41(0,"button",65),i.bIt("click",function(){i.eBV(ve);const be=i.XpG(2);return i.Njj(be.checkin())}),i.j41(1,"div",66)(2,"app-icon",67),i.EFF(3),i.k0s(),i.j41(4,"div",68),i.pXf(5,9),i.k0s()()()}if(2&rt){const ve=i.XpG(2);i.AVh("bg-success","pending"!==ve.room_status)("border-none","pending"!==ve.room_status)("pointer-events-none","pending"!==ve.room_status),i.R7$(3),i.JRh("pending"===ve.room_status?"arrow_back":"done"),i.R7$(2),i.uP7("pending"===ve.room_status?"Check in":"Checked in"),i.nnv(5)}}function P(rt,vt){if(1&rt&&(i.j41(0,"button",69)(1,"app-icon"),i.EFF(2,"more_horiz"),i.k0s()()),2&rt){i.XpG(2);const ve=i.sdS(80);i.Y8G("matMenuTriggerFor",ve)}}function U(rt,vt){if(1&rt&&(i.j41(0,"div",62),i.DNE(1,Y,6,8,"button",63)(2,P,3,1,"button",64),i.k0s()),2&rt){const ve=i.XpG();i.R7$(),i.Y8G("ngIf",ve.room_status&&(null==ve.event?null:ve.event.can_check_in)&&"free"!==ve.room_status),i.R7$(),i.Y8G("ngIf",ve.allow_edit)}}function $(rt,vt){if(1&rt&&(i.j41(0,"div",61),i.EFF(1),i.k0s()),2&rt){const ve=i.XpG();i.R7$(),i.SpI(" ",ve.period_tz," ")}}function B(rt,vt){if(1&rt&&(i.qex(0),i.EFF(1),i.bVm()),2&rt){const ve=i.XpG();i.R7$(),i.SpI(" ",(null==ve.level?null:ve.level.display_name)||(null==ve.level?null:ve.level.name),", ")}}function y(rt,vt){if(1&rt&&(i.j41(0,"div",31)(1,"app-icon"),i.EFF(2,"place"),i.k0s(),i.j41(3,"div"),i.EFF(4),i.k0s()()),2&rt){const ve=i.XpG();i.R7$(4),i.Lme(" ",(null==ve.building?null:ve.building.display_name)||(null==ve.building?null:ve.building.name),", ",null==ve.building?null:ve.building.address," ")}}function I(rt,vt){if(1&rt&&(i.j41(0,"span",86),i.EFF(1),i.k0s()),2&rt){const ve=i.XpG().$implicit,Ce=i.XpG(3);i.Y8G("matTooltip",Ce.optionList(ve)),i.R7$(),i.SpI(" ",(null==ve.option_list?null:ve.option_list.length)||"0"," option(s) ")}}function w(rt,vt){if(1&rt&&(i.j41(0,"div",81)(1,"div",82)(2,"span",76),i.EFF(3),i.k0s(),i.DNE(4,I,2,2,"span",83),i.k0s(),i.j41(5,"div",84),i.EFF(6),i.k0s(),i.j41(7,"div",85),i.EFF(8),i.nI1(9,"currency"),i.k0s()()),2&rt){const ve=vt.$implicit,Ce=i.XpG(3);i.R7$(3),i.JRh(ve.name||"Item"),i.R7$(),i.Y8G("ngIf",null==ve.option_list?null:ve.option_list.length),i.R7$(2),i.SpI(" x",ve.quantity," "),i.R7$(2),i.SpI(" ",i.i5U(9,4,ve.unit_price_with_options/100,Ce.currency_code)," ea ")}}function L(rt,vt){if(1&rt){const ve=i.RV6();i.j41(0,"div",73)(1,"div",74)(2,"div",75)(3,"div",76),i.EFF(4),i.nI1(5,"date"),i.k0s(),i.j41(6,"div",77),i.EFF(7),i.nI1(8,"currency"),i.k0s()(),i.j41(9,"button",78),i.bIt("click",function(){const be=i.eBV(ve).$implicit,ue=i.XpG(2);return i.Njj(ue.show_order[be.id]=!ue.show_order[be.id])}),i.j41(10,"app-icon"),i.EFF(11),i.k0s()()(),i.j41(12,"div",79),i.DNE(13,w,10,7,"div",80),i.k0s()()}if(2&rt){const ve=vt.$implicit,Ce=i.XpG(2);i.R7$(4),i.SpI(" Order at ",i.i5U(5,7,ve.deliver_at,"MMM d, "+Ce.time_format)," "),i.R7$(3),i.Lme(" ",ve.item_count," item(s) for ",i.i5U(8,10,ve.total_cost/100,Ce.currency_code)," "),i.R7$(2),i.Y8G("matTooltip",Ce.show_order[ve.id]?"Hide order items":"Show order items"),i.R7$(2),i.SpI(" ",Ce.show_order[ve.id]?"expand_less":"expand_more"," "),i.R7$(),i.Y8G("@show",Ce.show_order[ve.id]?"show":"hide"),i.R7$(),i.Y8G("ngForOf",ve.items)}}function Q(rt,vt){if(1&rt&&(i.qex(0),i.j41(1,"div",34)(2,"h3",70),i.pXf(3,10),i.k0s(),i.j41(4,"div",71),i.DNE(5,L,14,13,"div",72),i.k0s()(),i.bVm()),2&rt){const ve=i.XpG();i.R7$(5),i.Y8G("ngForOf",ve.event.valid_catering)}}function te(rt,vt){if(1&rt&&(i.qex(0),i.nrm(1,"interactive-map",87),i.bVm()),2&rt){const ve=i.XpG();i.R7$(),i.Y8G("src",null==ve.level?null:ve.level.map_id)("features",ve.features)("options",i.lJ4(3,G))}}function R(rt,vt){if(1&rt&&(i.nrm(0,"div",90),i.nI1(1,"sanitize")),2&rt){const ve=i.XpG(2);i.Y8G("innerHTML",i.bMT(1,1,ve.body)||"Unable to sanitize notes contents",i.npT)}}function ee(rt,vt){if(1&rt&&(i.j41(0,"div",34)(1,"h3",88),i.pXf(2,11),i.k0s(),i.DNE(3,R,2,3,"div",89),i.k0s()),2&rt){const ve=i.XpG();i.R7$(3),i.Y8G("ngIf",ve.body)}}function k(rt,vt){if(1&rt&&(i.j41(0,"div",81)(1,"div",82)(2,"span",76),i.EFF(3),i.k0s()(),i.j41(4,"div",84),i.EFF(5),i.k0s()()),2&rt){const ve=vt.$implicit;i.R7$(3),i.JRh(ve.name||"Item"),i.R7$(2),i.SpI(" x",ve.quantity," ")}}function J(rt,vt){if(1&rt){const ve=i.RV6();i.j41(0,"div",93)(1,"button",94),i.bIt("click",function(){const be=i.eBV(ve).$implicit,ue=i.XpG(2);return i.Njj(ue.show_request[be.id]=!ue.show_request[be.id])}),i.j41(2,"div",95)(3,"div",76),i.EFF(4),i.nI1(5,"date"),i.k0s()(),i.j41(6,"div",96)(7,"app-icon"),i.EFF(8),i.k0s()(),i.j41(9,"div",97)(10,"app-icon",67),i.EFF(11),i.k0s()()(),i.j41(12,"div",79),i.DNE(13,k,6,2,"div",80),i.k0s()()}if(2&rt){const ve=vt.$implicit,Ce=i.XpG(2);i.R7$(4),i.SpI(" Requested for ",i.i5U(5,18,ve.deliver_at,"MMM d, "+Ce.time_format)," "),i.R7$(2),i.AVh("bg-success","approved"===ve.state)("text-success-content","approved"===ve.state)("bg-warning","approved"!==ve.state&&"rejected"!==ve.state)("text-warning-content","approved"!==ve.state&&"rejected"!==ve.state)("bg-error","rejected"===ve.state)("text-error-content","rejected"===ve.state),i.Y8G("matTooltip",ve.state||"Tentative"),i.R7$(2),i.SpI(" ","approved"===ve.state?"done":"rejected"===ve.state?"close":"schedule"," "),i.R7$(3),i.SpI(" ",Ce.show_request[ve.id]?"expand_less":"expand_more"," "),i.R7$(),i.Y8G("@show",Ce.show_request[ve.id]?"show":"hide"),i.R7$(),i.Y8G("ngForOf",ve.items)}}function X(rt,vt){if(1&rt&&(i.qex(0),i.j41(1,"div",34)(2,"h3",91),i.pXf(3,12),i.k0s(),i.j41(4,"div",71),i.DNE(5,J,14,21,"div",92),i.k0s()(),i.bVm()),2&rt){const ve=i.XpG();i.R7$(3),i.uP7((null==ve.event.valid_assets?null:ve.event.valid_assets.length)||0),i.nnv(3),i.R7$(2),i.Y8G("ngForOf",ve.event.valid_assets)}}function fe(rt,vt){if(1&rt){const ve=i.RV6();i.j41(0,"div",98)(1,"attendee-list",99),i.bIt("click",function(){i.eBV(ve);const be=i.XpG();return i.Njj(be.show_attendees=!1)}),i.k0s()()}if(2&rt){const ve=i.XpG();i.R7$(),i.Y8G("list",ve.event.attendees)("host",ve.event.host)}}function Me(rt,vt){if(1&rt){const ve=i.RV6();i.j41(0,"button",100),i.bIt("click",function(){i.eBV(ve);const be=i.XpG();return i.Njj(be.edit.emit(be.space))}),i.j41(1,"div",54)(2,"app-icon",67),i.EFF(3,"edit"),i.k0s(),i.j41(4,"div"),i.pXf(5,13),i.k0s()()()}if(2&rt){const ve=i.XpG();i.Y8G("matTooltip",ve.can_edit?"":ve.no_edit_message)("disabled",!ve.can_edit)}}function Ze(rt,vt){if(1&rt){const ve=i.RV6();i.j41(0,"button",53),i.bIt("click",function(){i.eBV(ve);const be=i.XpG();return i.Njj(be.remove.emit(!0))}),i.j41(1,"div",54)(2,"app-icon",55),i.EFF(3,"delete"),i.k0s(),i.j41(4,"div"),i.pXf(5,14),i.k0s()()()}}function Ct(rt,vt){if(1&rt){const ve=i.RV6();i.j41(0,"button",53),i.bIt("click",function(){const be=i.eBV(ve).$implicit,ue=i.XpG();return i.Njj(ue.action.emit(be.id))}),i.j41(1,"div",54)(2,"app-icon",67),i.EFF(3),i.k0s(),i.j41(4,"div"),i.pXf(5,15),i.k0s()()()}if(2&rt){const ve=vt.$implicit;i.R7$(3),i.JRh(ve.icon),i.R7$(2),i.uP7(ve.name),i.nnv(5)}}const lt=[];let Ot=(()=>{class rt{get can_edit(){return!0}get timezone(){return this._settings.get("app.events.use_building_timezone")?this._org.building.timezone:""}get tz(){const ve=this.timezone;return ve?(0,D.GF)(ve):""}get body(){return this.event.body.replace(/\\n\\n\[ID\|.*\]/gm,"")}get allow_edit(){return!this._settings.get("app.events.booking_unavailable")}get custom_actions(){return this._settings.get("app.events.custom_actions")||lt}get time_format(){return this._settings.time_format}get event_status(){return"done"===this.event?.state?"neutral":"approved"===this.event?.status?"success":"tentative"===this.event?.status?"warning":"declined"===this.event?.status?"error":"warning"}constructor(ve,Ce,be,ue,me){this._event=ve,this._org=Ce,this._space_pipe=be,this._settings=ue,this._dialog=me,this.action=new i.bkB,this.edit=new i.bkB,this.remove=new i.bkB,this.show_order={},this.show_request={},this.room_status="",this.hide_map=!1,this.hide_edit=!1,this.show_attendees=!1,this.event=this._event,this.no_edit_message="Editing bookings long than \n a day is not available",this.features=[{location:this.event?.system?.map_id,content:_.V}],this.has_catering=this.event?.ext("catering")?.length>0,this.has_assets=!!this.event?.linked_bookings?.find($e=>"asset-request"===$e.booking_type),this.level=new S.P,this.building=new u.t,this.space=new E.$,this.accept_count=this._event.attendees.reduce(($e,Et)=>$e+("accepted"===Et.response_status?1:0),0),this.declined_count=this._event.attendees.reduce(($e,Et)=>$e+("declined"===Et.response_status?1:0),0),this.pending_count=this._event.attendees.reduce(($e,Et)=>$e+("tentative"===Et.response_status||"needsAction"===Et.response_status?1:0),0),this._date=new z.vh("en"),this._load().then(),console.log("Timezone:",this.timezone)}get period(){return this.event?.all_day?"All Day":this.formattedTime()}get period_tz(){return this.formattedTime(this.tz)}formattedTime(ve){const Ce=this.event.date,be=this.event.date_end,ue=this.event.all_day,me=this._date.transform(Ce,"z",ve),$e=this._date.transform(Ce,"MMM d",ve),Et=this._date.transform(Ce,this.time_format,ve),Ve=this._date.transform(be,"MMM d",ve),st=this._date.transform(be,this.time_format,ve);return this.event?.duration>1440?`${$e}${ue?"":", "+Et} - ${Ve}${ue?"":", "+st}`:ue?"All Day":`${Et} - ${st} ${"("+me+")"}`}optionList(ve){return ve.option_list?.map(Ce=>Ce.name).join("\n")}checkin(){var ve=this;return(0,e.A)(function*(){const Ce=(0,A.f_4)(ve.space?.id,"Bookings");Ce&&(yield Ce.execute("checkin",[(0,p._)(ve.event.date)]).catch(be=>(0,D.UG)(`Error checking in booking. ${be}`)),ve.room_status="busy")})()}_load(){var ve=this;return(0,e.A)(function*(){if(ve.space=yield ve._space_pipe.transform(ve._event.system?.id||ve._event.system?.email),ve.level=ve._org.levelWithID(ve.space.zones),ve.building=ve._org.buildings.find(be=>ve.space.zones.includes(be.id)),ve.features=[{location:ve.space.map_id,content:_.V}],ve.event.extension_data.catering?.length||ve.event.extension_data.assets?.length)return;const Ce=yield(0,O.A5)(ve._event.id,ve.space.id).toPromise();Ce&&(ve._event=new m.L({...ve._event,extension_data:{...ve._event.extension_data,...Ce}}))})()}status(ve){const Ce=this.event.linked_bookings.find(be=>be.asset_id===ve);return Ce.status?Ce.status:Ce?Ce.approved?"approved":Ce.rejected?"rejected":"pending":"pending"}viewLocation(){this.hide_map=!0,this._dialog.open(v.V,{maxWidth:"95vw",maxHeight:"95vh",data:{item:this.space}}).afterClosed().subscribe(()=>{this.hide_map=!1})}static#e=this.\u0275fac=function(Ce){return new(Ce||rt)(i.rXU(d.Vh),i.rXU(g.y),i.rXU(b.J),i.rXU(D.h$),i.rXU(d.bZ))};static#t=this.\u0275cmp=i.VBU({type:rt,selectors:[["event-details-modal"]],outputs:{action:"action",edit:"edit",remove:"remove"},features:[i.Jv_([b.J])],decls:90,vars:37,consts:()=>{let ve,Ce,be,ue,me,$e,Et,Ve,st,ht,Vt,qe,gt,ot,ae;return ve=$localize`:2c8ce65c566300dc9063f69c615fda2e3a6b896a2102851380219026584: Details `,Ce=$localize`:dc34e61df786db36347c8dc09510fa3d5d4c62538291262399353359697:Attendees`,be=$localize`:8ee85ef5a3693fb53511af55f66b8543941a59685528514721268144968: See All `,ue=$localize`:4f20f2d5a6882190892e58b85f6ccbedfa7379522807800733729323332:Yes`,me=$localize`:3d3ae7deebc5949b0c1c78b9847886a94321d9fd3542042671420335679:No`,$e=$localize`:e6a27066251ca1e04c5be86ad758380856df25064416413576346763682:Pending`,Et=$localize`:01072150a2c93fe7032783804ebfa5a1e41f36856139423482037031714: Host `,Ve=$localize`:e634daa29c58868c9c9c4d9fcc7ba1c016fac86b4014175048517775632:Delete event`,st=$localize`:e00cf812605b14c9c2390da404d3cd3ea67f19a63151361020738293834: ${"\ufffd0\ufffd"}:INTERPOLATION: `,ht=$localize`:ef2612559c447d8f4c218c06bb66af9de8edf3656975755512274629403: Catering `,Vt=$localize`:195b2f1c65301b0700459c9d0ae2ce407ed9c7bf4484880822148672471: Notes `,qe=$localize`:e30ee857e7399db3f72ec7aa8aa9b56ce76fca963391582008093299175: Assets (${"\ufffd0\ufffd"}:INTERPOLATION:) `,gt=$localize`:56c74224d22c7379fdbf9d0a00c8bf519a9ee6612772374745622574688:Edit event`,ot=$localize`:ecb2e91e2775870da0ea8e51b4951994493672fb3974228098480354844:Delete Series`,ae=$localize`:8fcf89a6df3c02c129a41d4b202221a4013f107c941732683947462971:${"\ufffd0\ufffd"}:INTERPOLATION:`,[["menu","matMenu"],ve,Ce,be,ue,me,$e,Et,Ve,st,ht,Vt,qe,gt,ot,ae,[1,"w-[100vw]","h-[100vh]","sm:relative","sm:inset-auto","sm:w-[51rem]","sm:h-auto","sm:max-h-[80vh]","bg-base-100","sm:bg-base-200","sm:dark:bg-neutral-600","sm:rounded","overflow-auto","space-y-2","pb-2"],[1,"sm:flex","flex-col","items-center","pb-4","max-h-screen","sm:max-h-[80vh]","sm:px-16","sm:border-b","bg-base-100","border-base-200"],["binding","","mod","Bookings","bind","status",3,"modelChange","model","sys"],["class","h-8 w-full sm:hidden block",4,"ngIf"],["class","bg-neutral w-full h-64 sm:rounded-b overflow-hidden",4,"ngIf"],["title","",1,"px-3","mt-2","text-xl","font-medium","w-full"],[1,"sm:flex","items-center","justify-between","w-full"],[1,"flex","m-2"],[3,"status"],[1,"flex","flex-col","leading-tight"],["class","opacity-30 text-xs",4,"ngIf"],["actions","","class","flex items-center space-x-2 px-2",4,"ngIf"],[1,"sm:flex","flex-wrap","sm:px-12"],[1,"sm:p-4","sm:bg-base-100","sm:dark:bg-neutral-700","rounded","sm:m-2","sm:border","border-base-200","flex-grow-[3]","min-w-1/3","sm:w-[16rem]","space-y-2"],[1,"px-3","mt-2","text-lg","font-medium","mb-2"],[1,"flex","items-center","px-2","space-x-2"],[4,"ngIf"],["class","flex items-center px-2 space-x-2",4,"ngIf"],[1,"mt-4","sm:p-4","sm:bg-base-100","sm:dark:bg-neutral-700","rounded","sm:m-2","sm:border","border-base-200","flex-grow-[3]","min-w-1/3","sm:w-[16rem]"],[1,"mx-3","border-t","border-base-200","sm:border-none","flex","items-center","justify-between"],[1,"text-lg","font-medium"],["matRipple","","show-attendees","",1,"clear","text-xs","underline",3,"click"],[1,"flex","items-center","p-1"],[1,"flex","flex-col","flex-1","items-center","justify-center","space-y-1"],[1,"text-lg"],[1,"text-sm","uppercase"],[1,"mx-3","mt-2","pt-2","text-lg","font-medium","border-t","border-base-200"],["host","",1,"px-2","flex","items-center","space-x-2"],[3,"user"],[1,"text-sm","flex-1","w-px"],[1,"opacity-60","truncate","w-full",3,"title"],["map","",1,"mt-4","sm:mt-2","h-64","sm:h-48","relative","border","border-base-200","overflow-hidden","rounded","sm:bg-base-100","sm:dark:bg-neutral-700","m-2","flex-grow-[3]","min-w-1/3","p-2","w-[calc(100%-1rem)]","sm:w-[16rem]",3,"click"],["class","mt-4 sm:p-4 sm:bg-base-100 sm:dark:bg-neutral-700 rounded sm:m-2 sm:border border-base-200 flex-grow-[3] min-w-1/3 sm:w-[16rem]",4,"ngIf"],["icon","","matRipple","","mat-dialog-close","",1,"absolute","top-2","left-2","bg-neutral","text-white"],["class","absolute inset-0 z-50",4,"ngIf"],["xPosition","before"],["mat-menu-item","","mat-dialog-close","",3,"matTooltip","disabled","click",4,"ngIf"],["mat-menu-item","",3,"click"],[1,"flex","items-center","space-x-2","text-base","pr-2"],[1,"text-2xl","text-error"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],[1,"h-8","w-full","sm:hidden","block"],[1,"bg-neutral","w-full","h-64","sm:rounded-b","overflow-hidden"],[1,"w-full","h-64",3,"images"],[1,"opacity-30","text-xs"],["actions","",1,"flex","items-center","space-x-2","px-2"],["btn","","matRipple","","class","flex-1 h-10",3,"bg-success","border-none","pointer-events-none","click",4,"ngIf"],["icon","","matRipple","","class","bg-secondary rounded text-white h-12 w-12",3,"matMenuTriggerFor",4,"ngIf"],["btn","","matRipple","",1,"flex-1","h-10",3,"click"],[1,"flex","items-center","space-x-2","justify-center"],[1,"text-2xl"],[1,"pr-4"],["icon","","matRipple","",1,"bg-secondary","rounded","text-white","h-12","w-12",3,"matMenuTriggerFor"],[1,"mx-3","my-2","text-lg","font-medium"],[1,"flex","flex-col","space-y-2"],["order","","class","border border-base-300 bg-base-100 rounded-xl overflow-hidden",4,"ngFor","ngForOf"],["order","",1,"border","border-base-300","bg-base-100","rounded-xl","overflow-hidden"],[1,"flex","items-center","space-x-2","p-3"],[1,"flex-1"],[1,"text-sm"],[1,"text-xs","opacity-60"],["icon","","matRipple","",3,"click","matTooltip"],[1,"flex","flex-col","bg-base-200","divide-y","divide-base-100"],["class","flex items-center px-3 py-1 space-x-2 hover:opacity-90",4,"ngFor","ngForOf"],[1,"flex","items-center","px-3","py-1","space-x-2","hover:opacity-90"],[1,"flex","items-center","flex-1"],["class","text-xs opacity-60 ml-4 font-normal",3,"matTooltip",4,"ngIf"],[1,"rounded","bg-success","text-success-content","text-xs","px-2","py-1"],[1,"rounded","bg-info","text-info-content","text-xs","px-2","py-1"],[1,"text-xs","opacity-60","ml-4","font-normal",3,"matTooltip"],[1,"pointer-events-none",3,"src","features","options"],[1,"mx-3","text-lg","font-medium","border-t","sm:border-none","border-base-200"],["notes","","class","mx-4 overflow-hidden max-w-full",3,"innerHTML",4,"ngIf"],["notes","",1,"mx-4","overflow-hidden","max-w-full",3,"innerHTML"],[1,"mx-3","pt-2","text-lg","font-medium"],["request","","class","border border-base-300 bg-base-100 rounded-xl overflow-hidden",4,"ngFor","ngForOf"],["request","",1,"border","border-base-300","bg-base-100","rounded-xl","overflow-hidden"],["matRipple","",1,"flex","items-center","space-x-2","p-3","w-full",3,"click"],[1,"flex-1","text-left"],[1,"flex","items-center","justify-center","rounded-full","w-8","h-8",3,"matTooltip"],[1,"flex","items-center","justify-center","rounded-full","w-8","h-8"],[1,"absolute","inset-0","z-50"],[3,"click","list","host"],["mat-menu-item","","mat-dialog-close","",3,"click","matTooltip","disabled"]]},template:function(Ce,be){if(1&Ce){const ue=i.RV6();i.j41(0,"div",16)(1,"div",17)(2,"i",18),i.mxI("modelChange",function($e){return i.eBV(ue),i.DH7(be.room_status,$e)||(be.room_status=$e),i.Njj($e)}),i.k0s(),i.DNE(3,K,1,0,"div",19)(4,F,2,1,"div",20),i.j41(5,"h3",21),i.EFF(6),i.k0s(),i.j41(7,"div",22)(8,"div",23)(9,"status-pill",24)(10,"div",25)(11,"div"),i.EFF(12),i.k0s(),i.DNE(13,H,2,1,"div",26),i.k0s()()(),i.DNE(14,U,3,2,"div",27),i.k0s()(),i.j41(15,"div",28)(16,"div",29)(17,"h3",30),i.pXf(18,1),i.k0s(),i.j41(19,"div",31)(20,"app-icon"),i.EFF(21,"event"),i.k0s(),i.j41(22,"div"),i.EFF(23),i.nI1(24,"date"),i.k0s()(),i.j41(25,"div",31)(26,"app-icon"),i.EFF(27,"schedule"),i.k0s(),i.j41(28,"div",25)(29,"div"),i.EFF(30),i.k0s(),i.DNE(31,$,2,1,"div",26),i.k0s()(),i.j41(32,"div",31)(33,"app-icon"),i.EFF(34,"map"),i.k0s(),i.j41(35,"div"),i.DNE(36,B,2,1,"ng-container",32),i.EFF(37),i.k0s()(),i.DNE(38,y,5,2,"div",33),i.k0s(),i.j41(39,"div",34)(40,"div",35)(41,"h3",36),i.pXf(42,2),i.k0s(),i.j41(43,"button",37),i.bIt("click",function(){return i.eBV(ue),i.Njj(be.show_attendees=!0)}),i.pXf(44,3),i.k0s()(),i.j41(45,"div",38)(46,"div",39)(47,"div",40),i.EFF(48),i.k0s(),i.j41(49,"div",41),i.pXf(50,4),i.k0s()(),i.j41(51,"div",39)(52,"div",40),i.EFF(53),i.k0s(),i.j41(54,"div",41),i.pXf(55,5),i.k0s()(),i.j41(56,"div",39)(57,"div",40),i.EFF(58),i.k0s(),i.j41(59,"div",41),i.pXf(60,6),i.k0s()()(),i.j41(61,"h3",42),i.pXf(62,7),i.k0s(),i.j41(63,"div",43),i.nrm(64,"a-user-avatar",44),i.j41(65,"div",45)(66,"div"),i.EFF(67),i.k0s(),i.j41(68,"div",46),i.EFF(69),i.k0s()()()(),i.DNE(70,Q,6,1,"ng-container",32),i.j41(71,"button",47),i.bIt("click",function(){return i.eBV(ue),i.Njj(be.viewLocation())}),i.DNE(72,te,2,4,"ng-container",32),i.k0s(),i.DNE(73,ee,4,1,"div",48)(74,X,6,2,"ng-container",32),i.j41(75,"button",49)(76,"app-icon"),i.EFF(77,"close"),i.k0s()(),i.DNE(78,fe,2,2,"div",50),i.k0s(),i.j41(79,"mat-menu",51,0),i.DNE(81,Me,6,2,"button",52),i.j41(82,"button",53),i.bIt("click",function(){return i.eBV(ue),i.Njj(be.remove.emit())}),i.j41(83,"div",54)(84,"app-icon",55),i.EFF(85,"delete"),i.k0s(),i.j41(86,"div"),i.pXf(87,8),i.k0s()()(),i.DNE(88,Ze,6,0,"button",56)(89,Ct,6,2,"button",57),i.k0s()()}2&Ce&&(i.R7$(2),i.R50("model",be.room_status),i.Y8G("sys",null==be.space?null:be.space.id),i.R7$(),i.Y8G("ngIf",!(null!=be.event&&null!=be.event.system&&null!=be.event.system.images&&be.event.system.images.length)),i.R7$(),i.Y8G("ngIf",null==be.event||null==be.event.system||null==be.event.system.images?null:be.event.system.images.length),i.R7$(),i.AVh("pt-4",!(null!=be.event&&null!=be.event.system&&null!=be.event.system.images&&be.event.system.images.length)),i.R7$(),i.SpI(" ",be.event.title," "),i.R7$(3),i.Y8G("status",be.event_status),i.R7$(),i.AVh("pr-4",be.timezone),i.R7$(2),i.JRh(be.period),i.R7$(),i.Y8G("ngIf",be.timezone),i.R7$(),i.Y8G("ngIf","done"!==be.event.state),i.R7$(9),i.SpI(" ",i.i5U(24,34,be.event.date,"EEEE, dd LLLL y")," "),i.R7$(7),i.JRh(be.period),i.R7$(),i.Y8G("ngIf",be.timezone),i.R7$(5),i.Y8G("ngIf",be.level),i.R7$(),i.SpI(" ",(null==be.event||null==be.event.system?null:be.event.system.display_name)||(null==be.event||null==be.event.system?null:be.event.system.name)||(null==be.event?null:be.event.location)," "),i.R7$(),i.Y8G("ngIf",be.building),i.R7$(10),i.JRh(be.accept_count||0),i.R7$(5),i.JRh(be.declined_count||0),i.R7$(5),i.JRh(be.pending_count||0),i.R7$(6),i.Y8G("user",be.event.organiser),i.R7$(3),i.JRh(null==be.event.organiser?null:be.event.organiser.name),i.R7$(),i.Y8G("title",be.event.host),i.R7$(),i.SpI(" ",be.event.host," "),i.R7$(),i.Y8G("ngIf",be.has_catering),i.R7$(2),i.Y8G("ngIf",!be.hide_map),i.R7$(),i.Y8G("ngIf",be.body),i.R7$(),i.Y8G("ngIf",be.has_assets),i.R7$(4),i.Y8G("ngIf",be.show_attendees),i.R7$(3),i.Y8G("ngIf",!be.hide_edit),i.R7$(7),i.Y8G("ngIf",be.event.recurring_event_id),i.R7$(),i.Y8G("ngForOf",be.custom_actions))},data:{animation:[D.Ft]}})}return rt})()},6101:(Mt,pe,a)=>{"use strict";a.d(pe,{W:()=>rt});var e=a(467),i=a(3141),d=a(9596),p=a(9928),m=a(9714),_=a(696),g=a(4421),b=a(4670),u=a(6651),S=a(9090),D=a(5006),E=a(8712),A=a(1713),v=a(8728),O=a(3020),z=a(8841),G=a(3921),K=a(522),F=a(3176),H=a(3601),Y=a(4415),P=a(7375),U=a(4233),$=a(5762),B=a(8026),y=a(6727),I=a(1416),w=a(1761),L=a(7141),Q=a(4525),te=a(2671),R=a(8363),ee=a(1105),k=a(2011),J=a(5204),X=a(3693),fe=a(6088),Me=a(3747),Ze=a(3953),Ct=a(4006);const lt=["book/rooms","book/spaces","book/meeting","schedule/view","confirm/success","upcoming"];let rt=(()=>{class vt extends P.Tv{get options_value(){return this._options.getValue()}get is_multiday(){return this._event.getValue()?.duration>1440}get view(){return this._view.getValue()}get form(){return this._form}get event(){return this._event.getValue()}get favorite_spaces(){return this._settings.get("favourite_spaces")||[]}get has_calendar(){return!0!==this._settings.get("app.events.use_bookings")}constructor(Ce,be,ue,me,$e,Et){super(),this._org=Ce,this._router=be,this._payments=ue,this._settings=me,this._assets=$e,this._dialog=Et,this._view=new p.t("form"),this._options=new p.t({zone_ids:[],features:[]}),this._form=(0,w.Ss)(void 0,this._settings),this._date=new p.t(Date.now()),this._event=new p.t(null),this._loading=new p.t(""),this._changed=new p.t(0),this.last_success=new y.L(JSON.parse(sessionStorage.getItem("PLACEOS.last_booked_event")||"{}")),this.loading=this._loading.asObservable(),this.options=this._options.asObservable(),this.booking_rules=this._org.building_list.pipe((0,S.n)(st=>Promise.all(st.map(ht=>(0,d.bpY)(ht.id,"room_booking_rules").toPromise()))),(0,D.T)(st=>{const ht={};for(const Vt of st)ht[Vt.id]=Vt.details instanceof Array?Vt.details:[];return ht}),(0,E.t)(1)),this.spaces=(0,m.zV)([this._options.pipe((0,A.w)("zone_ids")),this._org.active_region.pipe((0,v.p)(st=>!!st),(0,A.w)("id")),this._org.active_building.pipe((0,v.p)(st=>!!st),(0,A.w)("id"))]).pipe((0,O.B)(300),(0,z.M)(st=>this.unsubWith("bind:")),(0,S.n)(([{zone_ids:st}])=>{this._loading.next("Loading space list for location...");const ht=this._settings.get("app.use_region");return st?.length||(st=[(ht?this._org.region?.id:this._org.building?.id)||this._org.building?.id]),(0,_.p)(st.map(Vt=>(0,R.Ot)(Vt).pipe((0,G.W)(()=>(0,g.of)([])))))}),(0,D.T)(st=>(0,P.Bq)(st)),(0,z.M)(st=>this._loading.next("")),(0,E.t)(1)),this.features=this.spaces.pipe((0,D.T)(st=>(0,P.Am)((0,P.Bq)(st.map(ht=>ht.features))))),this.filtered_spaces=(0,m.zV)([this.spaces,this.options]).pipe((0,D.T)(([st,{show_fav:ht,features:Vt,capacity:qe}])=>st.filter(gt=>{const ot=((0,P.Ny)()?.email||"@").split("@")[1],ae=(this._settings.get("app.events.restrict_spaces")||{})[ot],Oe=this._settings.get("app.events.limit_spaces")||{},Le=Object.keys(Oe),Pe=gt.zones.find(_t=>Le.includes(_t));return gt.bookable&&(!ae||gt.zones.includes(ae))&&(!Pe||Oe[Pe]===ot)&&(!ht||this.favorite_spaces.includes(gt.id))&&Vt.every(_t=>gt.features.includes(_t))&&gt.capacity>=Math.max(0,qe||0)}).slice(0,Math.min(100,st.length))),(0,E.t)(1)),this._space_bookings=(0,m.zV)([this.spaces,this.filtered_spaces]).pipe((0,K.F)(([st],[ht])=>st!==ht),(0,S.n)(([st,ht])=>(0,m.zV)((ht||[]).map(Vt=>{const qe=(0,d.f_4)(Vt.id,"Bookings").binding("bookings"),gt=qe.listen().pipe((0,D.T)(ot=>(ot||[]).map(ae=>new y.L(ae))));return this.hasSubscription(`bind:${Vt.id}`)||this.subscription(`bind:${Vt.id}`,qe.bind()),gt}))),(0,E.t)(1)),this.current_available_spaces=(0,m.zV)([this.filtered_spaces,this._space_bookings,this.booking_rules,(0,b.h)(this.form.valueChanges,(0,u.O)(1e3)),this._changed]).pipe((0,O.B)(300),(0,D.T)(([st,ht,Vt])=>{this._loading.next("Updating available spaces...");let{ical_uid:qe,date:gt,duration:ot,all_day:ae}=this._form.getRawValue();return((st=(0,P.XE)(st,{date:gt,duration:ot,resource:null,host:(0,P.Ny)()},Vt[this._org.building?.id]||[]))||[]).filter((Oe,Le)=>{const Pe=ae?(0,H.o)(gt).valueOf():gt,_t=Pe+6e4*(ae?Math.max(1440,ot):ot);let Gt=ht[Le]||[];return this.last_success?.system?.id===Oe.id&&(Gt=[...Gt,this.last_success]),(0,ee.U1)(Pe,_t,Gt.filter(Kt=>Kt.ical_uid!==qe))}).sort((Oe,Le)=>Oe.capacity-Le.capacity)}),(0,z.M)(st=>this._loading.next("")),(0,E.t)(1)),this.future_available_spaces=(0,m.zV)([this.filtered_spaces,this.booking_rules,this.form.valueChanges.pipe((0,O.B)(400),(0,F.Z)({}))]).pipe((0,v.p)(()=>!this._loading.getValue()),(0,O.B)(500),(0,S.n)(([st,ht])=>{if(!st.length)return(0,g.of)([]);this._loading.next("Retrieving available spaces...");let{date:Vt,duration:qe,all_day:gt}=this._form.getRawValue();return(this.has_calendar?I.UR:B.kX)((st=(0,P.XE)(st,{date:Vt,duration:qe,resource:null,host:(0,P.Ny)()},ht[this._org.building?.id]||[])).map(({id:ae})=>ae),gt?(0,H.o)(Vt).valueOf():Vt,gt?Math.max(1440,qe):qe,this?.event?.resources[0]?.id||this.event?.system?.id||this.event?.id||void 0,void 0,[this.event?.date,this.event?.duration]).pipe((0,D.T)(ae=>{var Oe=st.filter((Le,Pe)=>ae[Pe]);return(0,P.XE)(Oe,{date:Vt,duration:qe,resource:null,host:(0,P.Ny)()},ht[this._org.building?.id]||[])}),(0,G.W)(ae=>[]))}),(0,z.M)(st=>this._loading.next("")),(0,E.t)(1)),this.available_spaces=this._date.pipe((0,S.n)(st=>Math.abs((0,Y.c)(st,Date.now()))<(this._settings.get("app.events.cache_duration_in_days")||14)?this.current_available_spaces:this.future_available_spaces),(0,E.t)(1)),this.cancelPostForm=()=>this.unsub("post-event-form"),this._space_pipe=new k.J(this._org),this.subscription("router.events",this._router.events.subscribe(st=>{st instanceof i.wF&&!lt.some(ht=>st.url.includes(ht))&&this.clearForm()}));const Ve={};this.subscription("form_change",this._form.valueChanges.subscribe(({date:st,duration:ht})=>{(st&&st!==Ve.date||ht&&ht!==Ve.duration)&&(this._assets.setOptions({date:this.form.value.date,duration:this.form.value.duration}),Ve.date=st,Ve.duration=ht),st&&st!==this._date.getValue()&&this._date.next(st),this.storeForm()}))}listenForStatusChanges(){this.subscription("status:rooms",this.available_spaces.subscribe())}setView(Ce){this.timeout("set_view",()=>this._view.next(Ce),50)}setOptions(Ce){this._options.next({...this._options.getValue(),...Ce})}newForm(Ce=new y.L({all_day:this._settings.get("app.events.all_day_default")})){var be=this;return(0,e.A)(function*(){if(be._event.next(Ce),Ce.recurring_event_id){const ue=yield(0,I.ue)(Ce.recurring_event_id).toPromise().catch(me=>null);ue&&(be._event.getValue().recurrence={...ue.recurrence,_pattern:ue.recurrence.pattern})}be._assets.setOptions({ignore:(0,P.Bq)(Ce.linked_bookings?.map(ue=>ue.asset_ids||[ue.asset_id])||[])});for(const ue in Ce.resources){const me=Ce.resources[ue];Ce.resources[ue]=yield be._space_pipe.transform(me.id||me.email)}be._date.next(Ce.date),be.timeout("post-event-form",()=>{be._form.patchValue({date:Ce.date||be._form.value.date})},1e3),be.resetForm()})()}resetForm(){this._form.reset();const Ce=this._event.getValue()||{extension_data:{}};this._assets.setOptions({ignore:(0,P.Bq)(Ce.linked_bookings?.map(ue=>ue.asset_ids||[ue.asset_id])||[])});const be=!!Ce.extension_data.catering[0];this._form.patchValue({...Ce.extension_data,...Ce,duration:Ce.duration>=720?30:Ce.duration,organiser:Ce?.organiser||(0,P.Ny)()||new X.KJ({email:Ce?.host}),catering_charge_code:Ce.extension_data.catering[0]?.charge_code||(Ce.id&&be?" ":""),assets:(Ce.extension_data.assets||[]).map(ue=>new Me.Y({...ue,event:Ce}))}),this._form.patchValue({date:Ce.date||this._form.value.date,date_end:Ce.date_end||this._form.value.date_end}),this._options.next({features:[]}),this.storeForm()}clearForm(){sessionStorage.removeItem("PLACEOS.event_form"),this.unsubWith("status:"),this.unsubWith("bind:"),this.newForm()}storeForm(){sessionStorage.setItem("PLACEOS.event_form",JSON.stringify(this._form.getRawValue()||{}))}loadForm(){if(!sessionStorage.getItem("PLACEOS.event_form"))return this.newForm();const Ce=JSON.parse(sessionStorage.getItem("PLACEOS.event_form")||"{}");Ce.id&&Ce.id!==this._event.getValue()?.id&&(0,I.ue)(Ce.id).subscribe(be=>{this._event.next(be),this._assets.setOptions({ignore:(0,P.Bq)(be.linked_bookings?.map(ue=>ue.asset_ids||[ue.asset_id])||[])})}),this._form.patchValue({...Ce})}openEventLinkModal(Ce=!1){const be=this._form;if(be.markAllAsTouched(),!be.valid&&!Ce)return;const ue=new y.L({...be.getRawValue(),assets:[]});this._dialog.open(te.t,{data:ue}).afterClosed().subscribe($e=>$e?this._router.navigate(["/"]):"")}postForm(Ce=!1,be=[],ue=!1){var me=this;return new Promise(function(){var $e=(0,e.A)(function*(Et,Ve){me._loading.next("Creating event...");const st=me._form;st.markAllAsTouched();const ht=me.event||new y.L;if(!st.valid&&!Ce)return me._loading.next(""),Ve(`Some form fields are invalid. [${(0,P.F7)(st).join(", ")}]`);const Vt=me.event?.ical_uid;let qe=me._form.getRawValue(),{id:gt,host:ot,date:ae,duration:Oe,creator:Le,all_day:Pe,assets:_t,recurrence:Gt}=qe,Kt=st.get("resources")?.value||[];be.length&&(Kt=Kt.filter(at=>!be.includes(at.email)&&!be.includes(at.id)));let vn=st.get("catering")?.value||[];Gt?._pattern&&"none"!==Gt?._pattern&&(me.form.patchValue({recurring:!0}),qe=me._form.getRawValue());let Ft=!1,_n=Kt.some(at=>!ht.resources?.find(ct=>ct.id===at.id));(!gt||ae!==ht.date||Oe!==ht.duration)&&Kt.length&&(Ft=!0,yield me.checkSelectedSpacesAreAvailable(Kt,Pe?(0,H.o)(ae).valueOf():ae,Pe?Math.max(1440,Oe):Oe,Vt||gt||"").catch(at=>{throw me._loading.next(""),Ve(at),at})),Kt=st.get("resources")?.value||[];const ft=ot===(0,P.Ny)()?.email||Le===(0,P.Ny)()?.email;if(!Kt.length&&me._settings.get("app.events.no_space_resource")){const at=yield me._space_pipe.transform(me._settings.get("app.events.no_space_resource"));Kt.push(at)}const pt=(0,P.Am)([...qe.attendees,qe.organiser||(0,P.Ny)()],"email");if(!Kt.length&&pt.find(at=>at.is_external)){me._loading.next("");const at="External attendees require a space to be booked";throw Ve(at),at}const $t=Kt[0]?.id,kt=gt?{system_id:me.event?.resources[0]?.id||me.event?.system?.id||$t}:{};if(ft&&!ue&&(kt.calendar=ot||Le),me._payments.payment_module&&Kt.length){const at=yield me._payments.makePayment({type:"space",resource_name:Kt[0].display_name||Kt[0].name,date:ae,duration:Oe,all_day:Pe});if(!at?.success)return me._loading.next("");qe.extension_data={invoice:at,invoice_id:at.invoice_id}}const dn=qe.date;for(const at of vn)at.notes=qe.catering_notes,at.charge_code=qe.catering_charge_code;if(Kt.length){let[at,ct]=[0,0];for(const Xe of Kt){const Qe=me._settings.get(`app.events.overflow.${Xe.id}`);Qe?.setup&&(at=Math.max(at,Qe.setup)),Qe?.breakdown&&(ct=Math.max(ct,Qe.breakdown))}qe.setup=qe.setup_time||at,qe.breakdown=qe.breakdown_time||ct,qe.setup_time=qe.setup_time||at,qe.breakdown_time=qe.breakdown_time||ct}const pn=(_t||[]).map(at=>new Me.Y(at).toJSON()),un=yield me._makeBooking(new y.L({...qe,old_system:me.event?.system,host:me._settings.get("app.events.force_host")||(me._settings.get("app.events.room_as_host")?qe.resources[0].email:"")||qe.host,title:qe.title||"Space Booking",attendees:pt.map(at=>{const ct={...at};return delete ct.visit_expected,ct}),date:dn,catering:vn,assets:pn,extension_data:me._settings.get("app.events.force_host")||me._settings.get("app.events.room_as_host")?{host_override:qe.host,department:qe.organiser?.department||(0,P.Ny)()?.department}:{department:qe.organiser?.department||(0,P.Ny)()?.department}}),kt).catch(at=>{throw Ve(at),me._loading.next(""),at}),an=((0,P.Ny)()?.email||"@").split("@")[1],hn=pt.filter(at=>at.is_external&&at.email!==ht.host&&!at.email.includes(an)&&at.visit_expected);let Sn=!1;const Lt=function(){var at=(0,e.A)(function*(ct){if(me.form.value.id){if(Sn)return void(0,P.UG)(`Unable to update all asset requests for event.\n${ct}`)}else yield(0,I.Nn)(un.id,Kt.length?{calendar:me.form.value.host||(0,P.Ny)()?.email,system_id:Kt[0].id}:{}).toPromise(),console.warn("Couldn't update asset requests",ct),(0,P.UG)(409===ct?.status?"Some assets are already booked for the selected time":"Unable to book the selected assets.");throw me._loading.next(""),ct});return function(Xe){return at.apply(this,arguments)}}();if(hn.length&&(yield(0,B.Kq)(un,"visitor",hn).catch(Lt)),_t?.length||ht.extension_data.assets?.length){Sn=!0;const at=yield(0,J.en)(un,{date:ae,duration:Oe,host:ot,all_day:Pe,location_name:Kt[0]?.display_name||Kt[0]?.name||"",location_id:Kt[0]?.id||"",zones:(0,P.Am)([me._org.organisation.id,me._org.region?.id,me._org.building?.id,...Kt[0]?.zones]).filter(ct=>!!ct),reset_state:Ft},_t,_n||Ft).catch(Lt);if(!at)throw"Unable to validate asset requests";yield at(),Sn=!1}me.clearForm(),me.last_success=un,sessionStorage.setItem("PLACEOS.last_booked_event",JSON.stringify(un)),me.setView("success"),me.timeout("post_finshed",()=>me._changed.next(Date.now())),Et(un),me._loading.next("")});return function(Et,Ve){return $e.apply(this,arguments)}}())}_makeBooking(Ce,be){var ue=this;return(0,e.A)(function*(){return ue._updateVisitorList(Ce.attendees),(ue.has_calendar?(0,I.Az)(Ce,be):(0,B.X0)((0,L.s8)({...Ce.toJSON(),status:ue._settings.get("app.bookings.no_approval")?"approved":"tentative"})).pipe((0,D.T)(me=>(0,w.Uv)(me)))).toPromise()})()}checkSelectedSpacesAreAvailable(Ce,be,ue,me){var $e=this;return(0,e.A)(function*(){if(!Ce?.length)return!0;if($e.has_calendar){if(!(yield(0,I.UR)(Ce.map(({id:Ve})=>Ve),be,ue,$e?.event?.resources[0]?.id||$e.event?.system?.id||$e.event?.id||void 0,void 0,[$e.event?.date,$e.event?.duration]).toPromise()).every(Ve=>Ve))throw(Ce.length>1?"The selected space":"Some of the selected spaces")+" is not available at the selected time"}else if(!(yield(0,B.kX)(Ce.map(Ve=>Ve.id),be,ue,me).toPromise()).every(Ve=>Ve))throw(Ce.length>1?"The selected space":"Some of the selected spaces")+" are not available at the selected time";return!0})()}_updateVisitorList(Ce){const be=Ce.filter(me=>me.is_external);if(!be?.length)return;const ue=this._settings.get("visitor-invitees")||[];this._settings.saveUserSetting("visitor-invitees",(0,P.Am)([...ue.filter(me=>!me.includes(me.email)),...be.map(me=>`${me.email}|${me.name}|${me.organisation}`)]))}static#e=this.\u0275fac=function(be){return new(be||vt)(Ze.KVO($.y),Ze.KVO(i.Ix),Ze.KVO(Q.h),Ze.KVO(U.h),Ze.KVO(fe.R),Ze.KVO(Ct.bZ))};static#t=this.\u0275prov=Ze.jDH({token:vt,factory:vt.\u0275fac,providedIn:"root"})}return vt})()},2671:(Mt,pe,a)=>{"use strict";a.d(pe,{t:()=>S});var e=a(4006),i=a(4571),p=(a(6727),a(7375)),m=a(3953),_=a(9434),g=a(6600),b=a(6781),u=a(4616);let S=(()=>{class D{constructor(A,v){this._event=A,this._dialog=v,this.outlook_link=(0,i.gP)(this._event),this.google_link=(0,i.dB)(this._event),this.ical_link=(0,i._V)(this._event),this.has_actioned=!1}close(){if(!this.has_actioned)return(0,p.UG)("You need to select a calendar option to finish creating this booking");this._dialog.close(!0)}static#e=this.\u0275fac=function(v){return new(v||D)(m.rXU(e.Vh),m.rXU(e.CP))};static#t=this.\u0275cmp=m.VBU({type:D,selectors:[["event-link-modal"]],decls:24,vars:13,consts:()=>{let A,v,O,z,G;return A=$localize`:29e3480e3d010232704522cde3ca29d23cc7725f5139383754155835256:Add event to your calendar`,v=$localize`:34c16b14ad0e33db574c8bea543e66e766aa3a014015832758698516701:Create in Outlook`,O=$localize`:f745484670e6b6bbb8a1c327c222e665fb25b8633788591245559456526:Create in Google Calendar`,z=$localize`:1af54061e7f4bcfb1048ffaa05c9b8f7c4b416794894641609416495396:Download iCal File`,G=$localize`:4dc1e9a4bbd21cf153990984cd4ecb44441170986327967827692127661: Close `,[A,v,O,z,G,[1,"p-4","w-full","pb-2"],[1,"flex","flex-col","items-center","space-y-4","p-4","relative"],["btn","","matRipple","","target","_blank","rel","noopener noreferer",1,"flex","items-center","p-2","space-x-2","pr-4","w-64","rounded","inverse",3,"click","href"],["src","assets/icons/outlook.svg",1,"w-6"],["src","assets/icons/gcal.svg",1,"w-6"],[1,"text-xl"],["btn","","matRipple","",1,"w-64",3,"click"],["icon","","matRipple","",1,"absolute","top-2","right-0",3,"mat-dialog-close"]]},template:function(v,O){1&v&&(m.j41(0,"div",5),m.pXf(1,0),m.k0s(),m.j41(2,"div",6)(3,"a",7),m.nI1(4,"sanitize"),m.bIt("click",function(){return O.has_actioned=!0}),m.nrm(5,"img",8),m.j41(6,"span"),m.pXf(7,1),m.k0s()(),m.j41(8,"a",7),m.nI1(9,"sanitize"),m.bIt("click",function(){return O.has_actioned=!0}),m.nrm(10,"img",9),m.j41(11,"span"),m.pXf(12,2),m.k0s()(),m.j41(13,"a",7),m.nI1(14,"safe"),m.bIt("click",function(){return O.has_actioned=!0}),m.j41(15,"app-icon",10),m.EFF(16,"download"),m.k0s(),m.j41(17,"span"),m.pXf(18,3),m.k0s()(),m.j41(19,"button",11),m.bIt("click",function(){return O.close()}),m.pXf(20,4),m.k0s()(),m.j41(21,"button",12)(22,"app-icon"),m.EFF(23,"close"),m.k0s()()),2&v&&(m.R7$(3),m.Y8G("href",m.i5U(4,4,O.outlook_link,"url"),m.B4B),m.R7$(5),m.Y8G("href",m.i5U(9,7,O.google_link,"url"),m.B4B),m.R7$(5),m.Y8G("href",m.i5U(14,10,O.ical_link,"url"),m.B4B),m.R7$(8),m.Y8G("mat-dialog-close",O.has_actioned))},dependencies:[e.tx,_.R,g.r6,b.m,u.a],styles:["[_nghost-%COMP%]{position:relative}"]})}return D})()},6727:(Mt,pe,a)=>{"use strict";a.d(pe,{L:()=>Y,i:()=>F});var e=a(7375),i=a(5987),d=a(9548),p=a(7926),m=a(2037),_=a(3601),g=a(4512),b=a(5818),u=a(2017),S=a(9255),D=a(9015),E=a(9824),A=a(5555),v=a(735),O=a(3693),z=a(1105),G=a(3747);let K={id:"default",name:"Default User"};function F(P){P&&(K=P)}const H=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];class Y{get images(){return this.extension_data.images||[]}get is_all_day(){return this.all_day||this.duration>=720}get view_access(){return this.extension_data.view_access||"PRIVATE"}ext(U){return this.extension_data[U]}constructor(U={}){this._valid_asset_cache=[],this._valid_cache_expiry=0,this.id=U.event_id||U.id||"",this.event_start=U.event_start||(0,i._)(U.date||(0,d.X)((0,p.z)(new Date,3),{nearestTo:5})),this.event_end=U.event_end||(0,i._)((0,p.z)(1e3*this.event_start,U.duration||30)),this.calendar=U.calendar||"",this.creator=(U.creator||K.email)?.toLowerCase()||"",this.host=(U.host||this.creator||U.host_email||K.email||"").toLowerCase();const $=U.attendees||[];this.attendees=$.filter(te=>!te.resource).map(te=>new O.KJ(te)),this.resources=(0,e.Am)(U.resources||$.filter(te=>te.resource).map(te=>new v.$(te)),"email")||[],this.title=U.title,this.body=U.body||"",this.private=!!U.private,this.all_day=!!U.all_day,this.date=1e3*this.event_start||this.date,this.date_end=1e3*this.event_end||this.date_end,this.duration=(0,m.o)(this.date_end,this.date),this.all_day&&(this.date=(0,_.o)(this.date).getTime(),this.duration=Math.max(1439,this.duration-1),this.date_end=(0,g.D)((0,p.z)(this.date,this.duration).valueOf()-1).getTime());const B=this.body.match(/\[ID\|([^\]]+)\]/),y=B?B[1]:null;this.timezone=U.timezone||Intl.DateTimeFormat().resolvedOptions().timeZone,this.meeting_url=U.meeting_url||U.online_meeting_url||"",this.meeting_id=y||U.meeting_id||U.online_meeting_id||"",this.meeting_provider=U.meeting_provider||U.online_meeting_provider||"",this.recurring=!!U.recurring,this.recurring_event_id=U.recurring_event_id||"",this.organiser=this.attendees.find(te=>te.email===this.host),this.from_bookings=U.from_bookings??!1,this.master=U.master?new Y(U.master):null,this.mailbox=U.mailbox||"",this.ical_uid=U.ical_uid,this.linked_bookings=U.linked_bookings||[],this.update_master=U.update_master??!1,this.recurrence=U.recurring?{start:1e3*this.event_start||new Date(1e3*U.recurrence.range_start).valueOf(),end:U.recurrence.end||new Date(1e3*U.recurrence.range_end).valueOf(),interval:U.recurrence.interval,pattern:U.recurrence.pattern,occurrences:U.recurrence.occurrences,days_of_week:U.recurrence.days_of_week?.map(te=>"number"==typeof te?te:H.indexOf(te))||[]}:{};const I=U.system;I?.email&&!this.resources.find(te=>te.email===I.email)&&this.resources.push(new v.$(I)),this.system=I||this.resources[0]||null,!I&&U.system_id&&(this.system={id:U.system_id}),this.old_system=U.old_system||U.system,this.is_system_event=this.body.includes("main_event_id"),this.attachments=U.attachments||[],this.extension_data=U.extension_data||{},this.status=(0,z.NU)({...U,...this})||"none",this.location=U.location||this.space?.display_name||this.space?.name||"",this.setup_time=U.setup_time||0,this.breakdown_time=U.breakdown_time||0,this.type="declined"===this.status?"cancelled":this.attendees.find(te=>te.is_external)?"external":"internal";for(const te in U)te in this||(this.extension_data[te]=U[te]||this.extension_data[te]);const w={date:this.date,duration:this.duration,date_end:this.date_end,all_day:this.all_day,space:this.space,organiser:this.organiser};this.extension_data.catering=(this.extension_data.catering||[]).map(te=>new A.M({...te,event:w}));const L=this.linked_bookings.filter(te=>"asset-request"===te.booking_type).map(te=>te.extension_data?.request).filter(te=>!!te),Q=(L.length?L:this.extension_data.assets)||[];this.extension_data.images=this.extension_data.images||U.images||[],this.extension_data.assets=Q.map(te=>new G.Y({...te,event:w}))}get guests(){return this.attendees.filter(U=>!!U.is_external)}get space(){return this.resources[0]||null}get is_today(){return(0,b.r)(this.date,Date.now())}get valid_catering(){return(this.ext("catering")||[]).filter(U=>U.deliver_at<this.date_end)}get valid_assets(){if(this._valid_cache_expiry>Date.now()&&this._valid_asset_cache.length)return this._valid_asset_cache;const U=this.linked_bookings;return this._valid_asset_cache=(this.ext("assets")||[]).map($=>new G.Y({...$,event:this})).filter($=>$.deliver_at<this.date_end).map($=>{const B=U.find(y=>y.extension_data.request_id===$.id);return B&&($.state=B.approved?"approved":B.rejected?"rejected":"pending"),$}),this._valid_cache_expiry=(0,p.z)(Date.now(),5).valueOf(),this._valid_asset_cache}toJSON(){const U={...this},$=this.all_day?(0,_.o)(this.date):this.date,B=this.all_day?(0,g.D)(this.date_end).valueOf()+1:this.date_end;U.event_start=(0,i._)($),U.event_end=(0,i._)(B);const y=this.attendees;this.recurring=this.recurrence?.pattern&&"none"!==this.recurrence._pattern,this.recurring&&(U.recurrence=(0,z.Ov)({...this.recurrence,start:this.date}),delete U.recurrence.start,delete U.recurrence.end),U.recurrence=U.recurrence&&Object.keys(U.recurrence).length?U.recurrence:null,U.attendees=(0,e.Am)([...y,...this.resources.map(I=>({...I,resource:!0}))],"email"),this.all_day&&(U.setup_time=0,U.breakdown_time=0,U.extension_data.all_day_date=(0,u.GP)($,"yyyy-MM-dd")),U.extension_data.catering=U.extension_data.catering.map(I=>new A.M({...I,event:null})),U.extension_data.assets=U.extension_data.assets.map(I=>new G.Y({...I,event:null})),U.system_id=this.system?.id;for(const I of["catering","date","date_end","duration","status","linked_bookings","_valid_asset_cache","_valid_cache_expiry","type"])I in U&&delete U[I];return U.update_master||delete U.recurring_event_id,(0,e.Xm)(U),U}get state(){const U=new Date,$=this.date;return(0,S.Y)(U,(0,D.W)($,{minutes:-15}))?"future":(0,S.Y)(U,$)?"upcoming":(0,S.Y)(U,(0,D.W)($,{minutes:15}))?"started":(0,S.Y)(U,(0,D.W)($,{minutes:this.duration}))?"in_progress":"done"}get can_check_in(){const U=new Date;return this.is_today||(0,E.d)(U,(0,p.z)(this.date,-5))&&(0,S.Y)(U,(0,p.z)(this.date,this.duration))}}},1416:(Mt,pe,a)=>{"use strict";a.d(pe,{A5:()=>L,Az:()=>H,Dk:()=>$,Fk:()=>w,Nn:()=>Y,OA:()=>y,S:()=>I,UR:()=>R,UU:()=>O,dP:()=>z,ue:()=>G,zZ:()=>Q});var e=a(467),i=a(9596),d=a(4421),p=a(9714),m=a(5006),_=a(3921),g=a(9090),b=a(8385),u=a(3693),S=a(6727),D=a(7926),E=a(5987),A=a(6576);const v="/api/staff/v1/events";function O(ee){const k=(0,b.z)(ee);return(0,i.JtY)(`${v}${k?"?"+k:""}`).pipe((0,m.T)(J=>J.map(X=>new S.L(X))),(0,_.W)(J=>(0,d.of)([])))}function z(ee){return(0,i.Pac)({query_params:ee,fn:k=>new S.L(k),endpoint:v,path:""}).pipe((0,g.n)(function(){var k=(0,e.A)(function*({data:J,next:X}){let fe=[...J];for(;X;){const Me=yield X().toPromise();J=Me.data,X=Me.next,fe=[...fe,...J]}return fe});return function(J){return k.apply(this,arguments)}}()),(0,_.W)(k=>(0,d.of)([])))}function G(ee,k={}){const J=(0,b.z)(k);return(0,i.JtY)(`${v}/${encodeURIComponent(ee)}${J?"?"+J:""}`).pipe((0,m.T)(X=>new S.L(X)))}const H=(ee,k)=>{const J=ee.update_master&&ee.recurring_event_id||ee.id;return delete ee?.status,J?function F(ee,k,J={},X="patch"){const fe=(0,b.z)(J);return("patch"===X?i.F6F:i.yJg)(`${v}/${encodeURIComponent(ee)}${fe?"?"+fe:""}`,new S.L(k).toJSON()).pipe((0,m.T)(Me=>new S.L(Me)))}(J,{...ee,id:J},k):function K(ee){return(0,i.bEY)(`${v}`,new S.L(ee).toJSON()).pipe((0,m.T)(k=>new S.L(k)))}(ee)};function Y(ee,k={}){const J=(0,b.z)(k);return(0,i.yHY)(`${v}/${encodeURIComponent(ee)}${J?"?"+J:""}`,{response_type:"void"})}function $(ee,k={}){const J=(0,b.z)(k);return(0,i.bEY)(`${v}/${encodeURIComponent(ee)}/decline${J?"?"+J:""}`,"").pipe((0,m.T)(X=>new S.L(X)))}function y(ee,k,J,X={}){const fe=(0,b.z)({...X,state:J});return(0,i.bEY)(`${v}/${encodeURIComponent(ee)}/guests/${k}/checkin${fe?"?"+fe:""}`,"").pipe((0,m.T)(Me=>new u.So(Me)))}function I(ee,k,J={}){const X=(0,b.z)(J);return(0,i.bEY)(`${v}/${encodeURIComponent(ee)}/attendee${X?"?"+X:""}`,k).pipe((0,m.T)(fe=>new u.So(fe)))}function w(ee,k,J={}){const X=(0,b.z)(J);return(0,i.yHY)(`${v}/${encodeURIComponent(ee)}/attendee/${encodeURIComponent(k.email)}${X?"?"+X:""}`).pipe((0,m.T)(fe=>new u.So(fe)))}function L(ee,k,J={}){const X=(0,b.z)({...J});return(0,i.JtY)(`${v}/${encodeURIComponent(ee)}/metadata/${encodeURIComponent(k)}${X?"?"+X:""}`).pipe((0,m.T)(fe=>fe))}function Q(ee,k,J,X={}){const fe=(0,b.z)({...X});return(0,i.F6F)(`${v}/${encodeURIComponent(ee)}/metadata/${encodeURIComponent(k)}${fe?"?"+fe:""}`,J).pipe((0,m.T)(Me=>Me))}function R(ee,k,J,X,fe,Me=[0,0]){const Ze=(0,D.z)(k,J).valueOf();return(0,p.zV)([(0,A.Sh)({system_ids:ee.join(),period_start:(0,E._)(k),period_end:(0,E._)(Ze)}).pipe((0,_.W)(Ct=>(0,d.of)([]))),X&&ee.includes(X)?(0,A.Yj)({period_start:(0,E._)(k),period_end:(0,E._)(Ze),system_ids:X}):(0,d.of)([])]).pipe((0,m.T)(([Ct,lt])=>{const Ot=ee.map(rt=>!!Ct.find(vt=>vt.id===rt||vt.resource?.id===rt));for(const rt of lt){if(!ee.includes(rt.id))continue;const vt=rt.availability.filter(ve=>!(ve.date===Me[0]&&ve.duration===Me[1]));Ot[ee.indexOf(rt.id)]=!vt.find(ve=>"free"!==ve.status)}return Ot}))}},2704:(Mt,pe,a)=>{"use strict";a.d(pe,{j:()=>Ze});var e=a(467),i=a(177),d=a(9417),p=a(8834),m=a(6600),_=a(5084),g=a(4006),b=a(3719),u=a(9631),S=a(9183),D=a(5951),E=a(481),A=a(4558),v=a(827),O=a(7249),z=a(1765),G=a(4035),F=(a(2671),a(711)),H=a(7535),Y=a(5713),P=a(6727),U=a(6202),$=a(4046),B=a(3953),y=a(9434),I=a(1193),w=a(4918),L=a(5277),Q=a(907),te=a(3938),R=a(9115),ee=a(4823),k=a(4616),J=a(3476),X=a(3208),fe=a(2011);let Ze=(()=>{class Ct{ngOnInit(){return(0,e.A)(function*(){yield U.U5.pipe((0,$.$)(Ot=>!!Ot)).toPromise(),(0,P.i)((0,U.Ny)())})()}static#e=this.\u0275fac=function(rt){return new(rt||Ct)};static#t=this.\u0275mod=B.$C({type:Ct});static#n=this.\u0275inj=B.G2t({providers:[d.X1],imports:[i.MD,d.YN,d.X1,D.Wk,u.fS,b.RG,_.X6,p.Hl,g.hM,S.D6,E.c,A.h,m.pZ,v.l]})}return Ct})();B.wjB(G.b,[i.Sq,i.bT,g.tx,y.R,I.a,w.S,L.H,Q.F,te.J,R.kk,R.fb,R.Cp,m.r6,ee.oV,O.I],[i.oe,i.vh,k.a]),B.wjB(O.I,[i.Sq,i.bT,y.R,I.a,m.r6,ee.oV],[]),B.wjB(z.w,[i.Sq,i.bT,y.R,I.a,Q.F],[i.P9,i.vh]),B.wjB(F.N,[i.bT,d.BC,d.cb,d.j4,d.JD,g.tx,S.LG,J.y,y.R,m.r6],[]),B.wjB(Y.E,[i.bT,g.tx,y.R,w.S,X.U,R.kk,R.fb,R.Cp,m.r6,O.I],[i.Jj,i.vh,k.a,fe.J]),B.wjB(H.T,[i.bT,y.R,X.U,m.r6],[i.vh])},7535:(Mt,pe,a)=>{"use strict";a.d(pe,{T:()=>Y});var e=a(467),i=a(7375),d=a(5713),p=a(2011),m=a(5762),g=(a(6727),a(3953)),b=a(4006);function u(P,U){if(1&P&&g.nrm(0,"img",15),2&P){const $=g.XpG(2);g.Y8G("source",$.event.images[0])}}function S(P,U){1&P&&(g.j41(0,"p",16),g.EFF(1," No description "),g.k0s())}function D(P,U){if(1&P&&(g.j41(0,"div"),g.EFF(1),g.k0s()),2&P){const $=g.XpG(2);g.R7$(),g.SpI(" ",$.space.display_name||$.space.name||""," ")}}function E(P,U){1&P&&(g.j41(0,"div",16),g.EFF(1," Room to be confirmed "),g.k0s())}function A(P,U){1&P&&(g.j41(0,"div",16),g.EFF(1," Remote event "),g.k0s())}function v(P,U){if(1&P){const $=g.RV6();g.j41(0,"button",2),g.bIt("click",function(){g.eBV($);const y=g.XpG();return g.Njj(y.viewDetails())}),g.j41(1,"div",3),g.DNE(2,u,1,1,"img",4),g.k0s(),g.j41(3,"div",5)(4,"div",6),g.EFF(5),g.nI1(6,"date"),g.nI1(7,"date"),g.k0s(),g.j41(8,"h2",7),g.EFF(9),g.k0s(),g.j41(10,"div",8)(11,"p",9),g.EFF(12),g.k0s(),g.DNE(13,S,2,0,"p",10),g.k0s(),g.j41(14,"div",11)(15,"app-icon",12),g.EFF(16,"place"),g.k0s(),g.DNE(17,D,2,1,"div",13)(18,E,2,0,"div",10)(19,A,2,0,"div",10),g.k0s(),g.j41(20,"div",11)(21,"app-icon",12),g.EFF(22,"people"),g.k0s(),g.j41(23,"div",14),g.EFF(24),g.k0s()()()()}if(2&P){const $=g.XpG();g.R7$(2),g.Y8G("ngIf",null==$.event.images?null:$.event.images.length),g.R7$(3),g.Lme(" ",g.i5U(6,11,$.event.date,"EEE d MMM"),", ",g.i5U(7,14,$.event.date,$.time_format)," "),g.R7$(3),g.Y8G("title",$.event.title),g.R7$(),g.SpI(" ",$.event.title," "),g.R7$(3),g.JRh($.raw_description),g.R7$(),g.Y8G("ngIf",!$.raw_description.trim()),g.R7$(4),g.Y8G("ngIf",$.is_onsite&&$.has_space),g.R7$(),g.Y8G("ngIf",$.is_onsite&&!$.has_space),g.R7$(),g.Y8G("ngIf",!$.is_onsite),g.R7$(5),g.SpI(" ",(null==$.event.attendees?null:$.event.attendees.length)||"0"," attending ")}}function O(P,U){if(1&P&&g.nrm(0,"img",15),2&P){const $=g.XpG(2);g.Y8G("source",$.event.images[0])}}function z(P,U){1&P&&(g.j41(0,"p",16),g.EFF(1," No description "),g.k0s())}function G(P,U){if(1&P&&(g.j41(0,"div"),g.EFF(1),g.k0s()),2&P){const $=g.XpG(2);g.R7$(),g.SpI(" ",$.space.display_name||$.space.name||""," ")}}function K(P,U){1&P&&(g.j41(0,"div",16),g.EFF(1," Room to be confirmed "),g.k0s())}function F(P,U){1&P&&(g.j41(0,"div",16),g.EFF(1," Remote event "),g.k0s())}function H(P,U){if(1&P){const $=g.RV6();g.j41(0,"button",17),g.bIt("click",function(){g.eBV($);const y=g.XpG();return g.Njj(y.viewDetails())}),g.j41(1,"div",18),g.DNE(2,O,1,1,"img",4),g.k0s(),g.j41(3,"div",19)(4,"app-icon",20),g.EFF(5,"star"),g.k0s(),g.j41(6,"div",21),g.EFF(7,"Featured"),g.k0s()(),g.j41(8,"div",22)(9,"div",23)(10,"div",24),g.EFF(11),g.nI1(12,"date"),g.k0s(),g.j41(13,"div",25),g.EFF(14),g.nI1(15,"date"),g.k0s()(),g.j41(16,"div",26)(17,"h3",27),g.EFF(18),g.k0s(),g.j41(19,"div",28),g.EFF(20),g.nI1(21,"date"),g.nI1(22,"date"),g.nI1(23,"date"),g.k0s(),g.j41(24,"div",29)(25,"p",30),g.EFF(26),g.k0s(),g.DNE(27,z,2,0,"p",10),g.k0s(),g.j41(28,"div",11)(29,"app-icon",12),g.EFF(30,"place"),g.k0s(),g.DNE(31,G,2,1,"div",13)(32,K,2,0,"div",10)(33,F,2,0,"div",10),g.k0s(),g.j41(34,"div",11)(35,"app-icon",12),g.EFF(36,"people"),g.k0s(),g.j41(37,"div",14),g.EFF(38),g.k0s()()()(),g.j41(39,"div",31),g.EFF(40," View Details "),g.k0s()()}if(2&P){const $=g.XpG();g.R7$(2),g.Y8G("ngIf",null==$.event.images?null:$.event.images.length),g.R7$(9),g.SpI(" ",g.i5U(12,13,$.event.date,"MMM")," "),g.R7$(3),g.JRh(g.i5U(15,16,$.event.date,"d")),g.R7$(4),g.JRh($.event.title),g.R7$(2),g.E5c(" ",g.i5U(21,19,$.event.date,"EEEE")," ",g.i5U(22,22,$.event.date,$.time_format)," - ",g.i5U(23,25,$.event.date+60*$.event.duration*1e3,$.time_format)," "),g.R7$(6),g.JRh($.raw_description),g.R7$(),g.Y8G("ngIf",!$.raw_description.trim()),g.R7$(4),g.Y8G("ngIf",$.is_onsite&&$.has_space),g.R7$(),g.Y8G("ngIf",$.is_onsite&&!$.has_space),g.R7$(),g.Y8G("ngIf",!$.is_onsite),g.R7$(5),g.SpI(" ",(null==$.event.attendees?null:$.event.attendees.length)||"0"," attending ")}}let Y=(()=>{class P{get time_format(){return this._settings.time_format}get is_onsite(){return"ONLINE"!==this.event?.extension_data.attendance_type}get has_space(){return!!this.space?.id}get is_online(){return!this.is_onsite||"ANY"===this.event?.extension_data.attendance_type}get group_event_calendar(){return this._settings.get("app.group_events_calendar")}constructor($,B,y){this._settings=$,this._dialog=B,this._org=y,this.raw_description=""}ngOnInit(){var $=this;return(0,e.A)(function*(){const B=new p.J($._org),y=$.event.resources.find(I=>I.email!==$.group_event_calendar);$.space=yield B.transform(y?.id||y?.email),$.raw_description=$.removeHtmlTags($.event.body)})()}removeHtmlTags($){return(new DOMParser).parseFromString($,"text/html").body.textContent||""}viewDetails(){this._dialog.open(d.E,{data:{event:this.event,concierge:!1}})}static#e=this.\u0275fac=function(B){return new(B||P)(g.rXU(i.h$),g.rXU(b.bZ),g.rXU(m.y))};static#t=this.\u0275cmp=g.VBU({type:P,selectors:[["group-event-card"]],inputs:{event:"event",featured:"featured"},decls:3,vars:2,consts:[["featured_card",""],["matRipple","","class","border border-base-300 hover:border-info flex flex-col bg-base-100 rounded-xl shadow hover:shadow-2xl overflow-hidden w-60 h-[20rem]",3,"click",4,"ngIf","ngIfElse"],["matRipple","",1,"border","border-base-300","hover:border-info","flex","flex-col","bg-base-100","rounded-xl","shadow","hover:shadow-2xl","overflow-hidden","w-60","h-[20rem]",3,"click"],[1,"relative","flex","items-center","justify-between","h-28","min-h-28","w-full","bg-base-200","overflow-hidden","border-b","border-base-200"],["auth","","class","absolute top-0 left-0 h-full w-full object-center object-cover",3,"source",4,"ngIf"],[1,"p-4","flex-1","h-1/2","w-full"],[1,"opacity-60","text-sm","text-left"],[1,"text-xl","mb-2","text-left","truncate","w-full",3,"title"],[1,"opacity-60","text-xs","flex-1","overflow-hidden","h-[4.5rem]","mb-2","text-left"],[1,"line-clamp-4"],["class","opacity-30",4,"ngIf"],[1,"flex","items-center","space-x-2","text-sm"],[1,"text-info"],[4,"ngIf"],[1,""],["auth","",1,"absolute","top-0","left-0","h-full","w-full","object-center","object-cover",3,"source"],[1,"opacity-30"],["matRipple","",1,"border","border-base-300","hover:border-info","flex","bg-base-100","rounded-xl","shadow","hover:shadow-2xl","overflow-hidden","w-[63rem]","max-w-full","h-56","mx-auto",3,"click"],[1,"relative","flex","items-center","justify-between","h-full","min-w-56","w-1/2","max-w-[20rem]","bg-base-200","overflow-hidden","border-r","border-base-200"],[1,"absolute","top-0","left-0","rounded-br-xl","py-2","pl-2","pr-4","space-x-2","bg-info","text-info-content","flex","items-center","text-sm"],[1,"text-base"],[1,"uppercase"],["details","",1,"flex","px-8","py-4","space-x-4"],[1,"flex","flex-col","items-center"],[1,"text-sm","opacity-30"],[1,"text-lg"],[1,"flex","flex-col","space-y-2"],[1,"text-left"],["time","",1,"text-sm","opacity-30","text-left"],[1,"h-20","overflow-hidden","text-left"],[1,"line-clamp-3"],[1,"absolute","top-4","right-4","bg-secondary","text-secondary-content","rounded","px-4","py-2","w-32","text-center","truncate"]],template:function(B,y){if(1&B&&g.DNE(0,v,25,17,"button",1)(1,H,41,28,"ng-template",null,0,g.C5r),2&B){const I=g.sdS(2);g.Y8G("ngIf",!y.featured)("ngIfElse",I)}},styles:["button[_ngcontent-%COMP%]{transition:box-shadow .3s,border .2s}"]})}return P})()},5713:(Mt,pe,a)=>{"use strict";a.d(pe,{E:()=>$});var e=a(467),i=a(3953),d=a(4006),p=a(7375),m=a(6815),_=a(2185),g=a(2011),b=a(1416);function u(B,y){if(1&B&&i.nrm(0,"img",36),2&B){const I=i.XpG();i.Y8G("source",null==I.event.extension_data?null:I.event.extension_data.images[0])}}function S(B,y){1&B&&(i.j41(0,"div",37)(1,"app-icon",38),i.EFF(2,"star"),i.k0s(),i.j41(3,"div",39),i.EFF(4,"Featured"),i.k0s()())}function D(B,y){if(1&B&&(i.qex(0),i.j41(1,"div",40)(2,"app-icon"),i.EFF(3,"star"),i.k0s(),i.j41(4,"div",41),i.EFF(5),i.k0s()(),i.j41(6,"div",40)(7,"app-icon"),i.EFF(8,"help"),i.k0s(),i.j41(9,"div",41),i.EFF(10),i.k0s()(),i.bVm()),2&B){const I=i.XpG();i.R7$(),i.AVh("bg-base-200",!I.is_interested)("text-base-content",!I.is_interested)("opacity-30",!I.is_interested)("bg-success",I.is_interested)("text-success-content",I.is_interested)("opacity-100",I.is_interested),i.R7$(4),i.SpI(" ",I.is_interested?"":"Not ","Interested "),i.R7$(),i.AVh("bg-base-200",!I.is_going)("text-base-content",!I.is_going)("opacity-30",!I.is_going)("bg-success",I.is_going)("text-success-content",I.is_going)("opacity-100",I.is_going),i.R7$(4),i.SpI(" ",I.is_going?"":"Not ","Going ")}}function E(B,y){if(1&B&&(i.j41(0,"div"),i.EFF(1),i.nI1(2,"space"),i.nI1(3,"async"),i.k0s()),2&B){let I;const w=i.XpG();i.R7$(),i.SpI(" ",null==(I=i.bMT(3,3,i.bMT(2,1,w.system_id)))?null:I.display_name," ")}}function A(B,y){1&B&&(i.j41(0,"div",42),i.EFF(1," Room to be confirmed "),i.k0s())}function v(B,y){if(1&B&&(i.j41(0,"div",42),i.EFF(1),i.k0s()),2&B){const I=i.XpG();i.R7$(),i.SpI(" ",I.is_onsite?"Can be attended online":"Remote Event"," ")}}function O(B,y){1&B&&(i.j41(0,"span",42),i.EFF(1," No description "),i.k0s())}function z(B,y){if(1&B&&i.nrm(0,"interactive-map",50),2&B){const I=i.XpG(2);i.Y8G("src",null==I.level?null:I.level.map_id)("features",I.features)("styles",I.styles)}}function G(B,y){if(1&B&&(i.j41(0,"div"),i.EFF(1),i.nI1(2,"space"),i.nI1(3,"async"),i.k0s()),2&B){let I;const w=i.XpG(2);i.R7$(),i.SpI(" ",null==(I=i.bMT(3,3,i.bMT(2,1,w.system_id)))?null:I.display_name," ")}}function K(B,y){1&B&&(i.j41(0,"div",42),i.EFF(1," Room to be confirmed "),i.k0s())}function F(B,y){if(1&B&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&B){const I=i.XpG(2);i.R7$(),i.Lme(" ",I.building.display_name||I.building.name,", ",(null==I.level?null:I.level.display_name)||(null==I.level?null:I.level.name)," ")}}function H(B,y){1&B&&(i.j41(0,"span",42),i.EFF(1," No location set for this event "),i.k0s())}function Y(B,y){if(1&B&&(i.j41(0,"a",51),i.EFF(1),i.k0s()),2&B){const I=i.XpG(2);i.AVh("underline",I.event.meeting_url),i.Y8G("href",I.event.meeting_url,i.B4B),i.R7$(),i.SpI(" ",I.is_onsite?"Can be attended online":"Remote Event"," ")}}function P(B,y){if(1&B){const I=i.RV6();i.j41(0,"div",43)(1,"div",44)(2,"button",45),i.bIt("click",function(){i.eBV(I);const L=i.XpG();return i.Njj(L.viewLocation())}),i.DNE(3,z,1,3,"interactive-map",46),i.k0s(),i.j41(4,"div",47),i.DNE(5,G,4,5,"div",12)(6,K,2,0,"div",30),i.j41(7,"div",48),i.DNE(8,F,2,2,"span",12)(9,H,2,0,"span",30),i.k0s(),i.DNE(10,Y,2,4,"a",49),i.k0s()()()}if(2&B){const I=i.XpG();i.R7$(3),i.Y8G("ngIf",!I.showing_map),i.R7$(2),i.Y8G("ngIf",I.is_onsite&&I.has_space),i.R7$(),i.Y8G("ngIf",I.is_onsite&&!I.has_space),i.R7$(2),i.Y8G("ngIf",I.building&&I.level),i.R7$(),i.Y8G("ngIf",!I.building||!I.level),i.R7$(),i.Y8G("ngIf",I.is_online)}}function U(B,y){if(1&B){const I=i.RV6();i.j41(0,"div",52)(1,"button",53),i.bIt("click",function(){i.eBV(I);const L=i.XpG();return i.Njj(L.show_attendees=!1)}),i.k0s(),i.j41(2,"div",54)(3,"attendee-list",55),i.bIt("click",function(){i.eBV(I);const L=i.XpG();return i.Njj(L.show_attendees=!1)}),i.k0s()()()}if(2&B){const I=i.XpG();i.R7$(3),i.Y8G("show_host",!1)("list",I.event.attendees)("host",I.event.user_email)}}let $=(()=>{class B{get time_format(){return this._settings.time_format}get featured(){return this.event.featured||this.event.extension_data?.featured}get is_onsite(){return"ONLINE"!==this.event.extension_data.attendance_type}get has_space(){return!!this.space?.id}get is_online(){return!this.is_onsite||"ANY"===this.event.extension_data.attendance_type}get body(){if(this.is_online)return this.event.body;let I=this.event.body;const w=['<div style="margin-bottom:24px; overflow:hidden; white-space:nowrap">________________________________________________________________________________</div>',"<p>________________________________________________________________________________</p>"];for(const L of w){const Q=I.indexOf(L),te=I.lastIndexOf(L);I=I.substring(0,Q)+I.substring(te)}for(const L of w)I=I.replace(L,"");return I}get attendance(){return this.event.attendees?.filter(I=>I.checked_in)?.length||0}get is_interested(){return!!this.guest_details}get is_going(){return this.guest_details?.checked_in}get system_id(){return this.space?.id}get guest_details(){const I=(0,p.Ny)();return this.event.attendees?.find(w=>w.email===I.email)}get group_event_calendar(){return this._settings.get("app.group_events_calendar")}constructor(I,w,L,Q,te){this._data=I,this._org=w,this._settings=L,this._dialog=Q,this._dialog_ref=te,this.edit=new i.bkB,this.remove=new i.bkB,this.event=this._data.event,this.concierge=this._data.concierge,this.features=[],this.locate="",this.showing_map=!1,this.show_attendees=!1,this.styles={},this.raw_description=""}ngOnInit(){var I=this;return(0,e.A)(function*(){const w=new g.J(I._org),L=I.event.resources.find(ee=>ee.email!==I.group_event_calendar);I.space=yield w.transform(L?.id||L?.email);const Q=I.event.extension_data?.map_id,te=I.space?.map_id||Q;te&&(I.styles[`#${te}`]={fill:"green"},I.features=[{location:te,content:m.VT,data:{}}]);const R=I.space?.zones||[];I.level=I._org.levelWithID(R),I.building=I._org.buildings.find(ee=>R.includes(ee.id))||I._org.building,I.locate=Q||"",I.raw_description=I.removeHtmlTags(I.event.body)})()}removeHtmlTags(I){return((new DOMParser).parseFromString(I,"text/html").body.textContent||"").trim()}viewLocation(){if(!this.space?.map_id)return(0,p.uA)("Unable to locate space on map.");this.showing_map=!0,this._dialog.open(m.VJ,{maxWidth:"95vw",maxHeight:"95vh",data:{item:this.space}}).afterClosed().subscribe(()=>{this.showing_map=!1})}toggleInterest(){var I=this;return(0,e.A)(function*(){let w=I.guest_details;I.is_interested&&w?(yield(0,b.Fk)(I.event.id,(0,p.Ny)(),{system_id:I.event.system?.id}).toPromise(),I.event.attendees=(I.event.attendees||[]).filter(L=>L.email!==w.email)):(w=yield(0,b.S)(I.event.id,(0,p.Ny)(),{system_id:I.event.system?.id}).toPromise(),I.event.attendees=(0,p.Am)([...I.event.attendees||[],w],"email"))})()}toggleAttendance(){var I=this;return(0,e.A)(function*(){let w=I.guest_details;if(w||(w=yield(0,b.S)(I.event.id,(0,p.Ny)(),{system_id:I.event.system?.id}).toPromise(),I.event.attendees=(0,p.Am)([...I.event.attendees||[],w],"email")),w={...(0,p.Ny)(),...w||{}},!w.email)return;yield(0,b.OA)(I.event.id,w.email,!I.is_going,{system_id:I.event.system?.id}).toPromise();const L=I.event.attendees.find(Q=>Q.email===w.email);L&&(L.checked_in=!I.is_going)})()}static#e=this.\u0275fac=function(w){return new(w||B)(i.rXU(d.Vh),i.rXU(_.yb),i.rXU(p.h$),i.rXU(d.bZ),i.rXU(d.CP))};static#t=this.\u0275cmp=i.VBU({type:B,selectors:[["group-event-details-modal"]],outputs:{edit:"edit",remove:"remove"},decls:101,vars:38,consts:[["concierge_menu","matMenu"],["menu","matMenu"],[1,"relative","w-[48rem]","max-w-[calc(100vw-1rem)]","max-h-[80vh]","overflow-hidden"],[1,"relative","flex","items-center","justify-between","h-52","w-full","bg-base-200","overflow-hidden"],["auth","","class","absolute top-1/2 left-1/2 min-h-full min-w-full object-cover -translate-x-1/2 -translate-y-1/2",3,"source",4,"ngIf"],["class","absolute top-0 left-0 rounded-br py-2 pl-2 pr-4 space-x-2 bg-info text-info-content flex items-center text-sm",4,"ngIf"],["icon","","mat-dialog-close","",1,"absolute","top-1","right-1","overflow-hidden"],[1,"absolute","inset-0","bg-base-100","opacity-30","z-0"],[1,"z-10"],[1,"flex","items-center","justify-between","py-4","px-8","border-b","border-base-200"],[1,"text-left","text-xl"],[1,"flex","items-center","space-x-2"],[4,"ngIf"],["btn","","matRipple","",1,"clear","bg-base-200","text-base-content","w-[2.75rem]",3,"disabled","matMenuTriggerFor"],[1,"text-2xl"],["mat-menu-item","",3,"disabled"],[1,"mr-2"],["mat-menu-item","","mat-dialog-close","",3,"click"],["mat-menu-item","",3,"click"],[1,"text-2xl","text-error"],["mat-menu-item","",1,"flex","items-center","space-x-2",3,"click"],[1,"flex","flex-1","max-h-[calc(80vh-18rem)]","overflow-y-auto","overflow-x-hidden","p-8","space-x-6"],[1,"flex","flex-1","flex-col","space-y-2","w-1/3"],[1,"flex","items-center","space-x-4"],[1,"flex","items-center","justify-center","w-10","h-10","bg-base-200","rounded-full"],[1,"font-medium","pt-4"],[1,"flex","flex-col"],[1,"text-sm"],[1,"text-sm","opacity-30"],[1,"flex","flex-col","text-sm"],["class","opacity-30",4,"ngIf"],["matRipple","",1,"flex","items-center","space-x-4","rounded","min-h-12",3,"click"],[1,"text-sm","pb-4"],["event-details","",3,"innerHTML"],["class","flex w-[20rem]",4,"ngIf"],["class","absolute inset-0 z-50",4,"ngIf"],["auth","",1,"absolute","top-1/2","left-1/2","min-h-full","min-w-full","object-cover","-translate-x-1/2","-translate-y-1/2",3,"source"],[1,"absolute","top-0","left-0","rounded-br","py-2","pl-2","pr-4","space-x-2","bg-info","text-info-content","flex","items-center","text-sm"],[1,"text-base"],[1,"uppercase"],["btn","",1,"flex","items-center","px-4","h-10","rounded","space-x-2"],[1,"pr-2"],[1,"opacity-30"],[1,"flex","w-[20rem]"],[1,"border","border-base-300","w-full"],["matRipple","",1,"relative","w-full","h-40","bg-base-200",3,"click"],[3,"src","features","styles",4,"ngIf"],[1,"p-4","space-y-2"],[1,"opacity-30","text-sm","!mt-0"],["class","opacity-30 mt-4","target","_blank","rel","noopener noreferrer",3,"underline","href",4,"ngIf"],[3,"src","features","styles"],["target","_blank","rel","noopener noreferrer",1,"opacity-30","mt-4",3,"href"],[1,"absolute","inset-0","z-50"],[1,"absolute","inset-0","bg-base-content","opacity-60",3,"click"],[1,"absolute","left-1/2","-translate-x-1/2","w-[24rem]","inset-y-8","rounded","shadow","overflow-hidden"],[3,"click","show_host","list","host"]],template:function(w,L){if(1&w){const Q=i.RV6();i.j41(0,"div",2)(1,"div",3),i.DNE(2,u,1,1,"img",4),i.k0s(),i.DNE(3,S,5,0,"div",5),i.j41(4,"button",6),i.nrm(5,"div",7),i.j41(6,"app-icon",8),i.EFF(7,"close"),i.k0s()(),i.j41(8,"div",9)(9,"h3",10),i.EFF(10),i.k0s(),i.j41(11,"div",11),i.DNE(12,D,11,26,"ng-container",12),i.j41(13,"button",13)(14,"app-icon",14),i.EFF(15,"more_horiz"),i.k0s()(),i.j41(16,"mat-menu",null,0)(18,"button",15)(19,"div",11)(20,"app-icon",14),i.EFF(21," confirmation_number "),i.k0s(),i.j41(22,"div",16),i.EFF(23,"Promote Event"),i.k0s()()(),i.j41(24,"button",17),i.bIt("click",function(){return i.eBV(Q),i.Njj(L.edit.emit())}),i.j41(25,"div",11)(26,"app-icon",14),i.EFF(27,"edit"),i.k0s(),i.j41(28,"div",16),i.EFF(29,"Edit Event"),i.k0s()()(),i.j41(30,"button",15)(31,"div",11)(32,"app-icon",14),i.EFF(33,"content_copy"),i.k0s(),i.j41(34,"div",16),i.EFF(35,"Copy URL"),i.k0s()()(),i.j41(36,"button",18),i.bIt("click",function(){return i.eBV(Q),i.Njj(L.remove.emit())}),i.j41(37,"div",11)(38,"app-icon",19),i.EFF(39," delete "),i.k0s(),i.j41(40,"div",16),i.EFF(41,"Delete Event"),i.k0s()()()(),i.j41(42,"mat-menu",null,1)(44,"button",20),i.bIt("click",function(){return i.eBV(Q),i.Njj(L.toggleInterest())}),i.j41(45,"div",11)(46,"app-icon"),i.EFF(47," star "),i.k0s(),i.j41(48,"span"),i.EFF(49),i.k0s()()(),i.j41(50,"button",18),i.bIt("click",function(){return i.eBV(Q),i.Njj(L.toggleAttendance())}),i.j41(51,"div",11)(52,"app-icon"),i.EFF(53," help "),i.k0s(),i.j41(54,"span"),i.EFF(55),i.k0s()()()()()(),i.j41(56,"div",21)(57,"div",22)(58,"div",23)(59,"div",24)(60,"app-icon"),i.EFF(61,"person"),i.k0s()(),i.j41(62,"div"),i.EFF(63),i.k0s()(),i.j41(64,"h3",25),i.EFF(65,"When and where"),i.k0s(),i.j41(66,"div",23)(67,"div",24)(68,"app-icon"),i.EFF(69,"calendar_today"),i.k0s()(),i.j41(70,"div",26)(71,"div",27),i.EFF(72,"Date and Time"),i.k0s(),i.j41(73,"div",28),i.EFF(74),i.nI1(75,"date"),i.nI1(76,"date"),i.nI1(77,"date"),i.k0s()()(),i.j41(78,"div",23)(79,"div",24)(80,"app-icon"),i.EFF(81,"place"),i.k0s()(),i.j41(82,"div",29),i.DNE(83,E,4,5,"div",12)(84,A,2,0,"div",30)(85,v,2,1,"div",30),i.k0s()(),i.j41(86,"button",31),i.bIt("click",function(){return i.eBV(Q),i.Njj(L.show_attendees=!0)}),i.j41(87,"div",24)(88,"app-icon"),i.EFF(89,"person"),i.k0s()(),i.j41(90,"div"),i.EFF(91),i.k0s()(),i.j41(92,"h3",25),i.EFF(93,"About this event"),i.k0s(),i.j41(94,"div",32),i.nrm(95,"span",33),i.nI1(96,"sanitize"),i.DNE(97,O,2,0,"span",30),i.k0s()(),i.j41(98,"div"),i.DNE(99,P,11,6,"div",34),i.k0s()()(),i.DNE(100,U,4,3,"div",35)}if(2&w){const Q=i.sdS(17),te=i.sdS(43);i.R7$(2),i.Y8G("ngIf",null==L.event.extension_data||null==L.event.extension_data.images?null:L.event.extension_data.images.length),i.R7$(),i.Y8G("ngIf",L.featured),i.R7$(7),i.SpI(" ",L.event.title," "),i.R7$(2),i.Y8G("ngIf",!L.concierge),i.R7$(),i.Y8G("disabled","done"===L.event.state)("matMenuTriggerFor",L.concierge?Q:te),i.R7$(5),i.Y8G("disabled",!0),i.R7$(12),i.Y8G("disabled",!0),i.R7$(16),i.AVh("text-error",L.is_interested),i.R7$(3),i.SpI(" ",L.is_interested?"Revoke":"Indicate"," Interest "),i.R7$(3),i.AVh("text-error",L.is_going),i.R7$(3),i.SpI(" ",L.is_going?"Revoke":"Indicate"," Going "),i.R7$(8),i.SpI(" Event by ",(null==L.event.organiser?null:L.event.organiser.name)||L.event.host," "),i.R7$(11),i.E5c(" ",i.i5U(75,27,L.event.date,"EEEE, d MMMM, yyyy")," . ",i.i5U(76,30,L.event.date,L.time_format)," - ",i.i5U(77,33,L.event.date+60*L.event.duration*1e3,L.time_format)," "),i.R7$(9),i.Y8G("ngIf",L.is_onsite&&L.has_space),i.R7$(),i.Y8G("ngIf",L.is_onsite&&!L.has_space),i.R7$(),i.Y8G("ngIf",L.is_online),i.R7$(6),i.Lme(" ",L.attendance," going, ",null==L.event.attendees?null:L.event.attendees.length," interested "),i.R7$(4),i.Y8G("innerHTML",i.bMT(96,36,L.body),i.npT),i.R7$(2),i.Y8G("ngIf",!L.raw_description.trim()),i.R7$(2),i.Y8G("ngIf",L.level),i.R7$(),i.Y8G("ngIf",L.show_attendees)}}})}return B})()},1105:(Mt,pe,a)=>{"use strict";a.d(pe,{NU:()=>z,qq:()=>K,Ov:()=>G,U1:()=>H});var e=a(906),i=a(2350),d=a(5458),p=a(6299),m=a(5987),_=a(3601),g=a(4512),b=a(2017),u=a(7926),S=a(9824),D=a(2037),E=a(2357);function A(P,U){return+(0,E.c)(P)==+(0,E.c)(U)}const O=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];function z(P){return"cancelled"===P.status?"declined":P.resources?.length?P.resources.every(U=>"accepted"===U.response_status||P.approved)?"approved":P.resources.some(U=>"tentative"===U.response_status||"needsAction"===U.response_status)?"tentative":"declined":"approved"}function G(P){let U=P.start||1e3*P.range_start,$=P.end||P.range_end;if(P.occurrences>1)switch(P.pattern){case"daily":$=(0,e.f)(U||Date.now(),(P.occurrences-1)*P.interval).valueOf();break;case"weekly":$=(0,i.J)(U||Date.now(),(P.occurrences-1)*P.interval).valueOf();break;case"month_day":case"monthly":$=(0,d.P)(U||Date.now(),(P.occurrences-1)*P.interval).valueOf(),$=(0,e.f)($,7).valueOf();break;case"yearly":$=(0,p.e)(U||Date.now(),(P.occurrences-1)*P.interval).valueOf()}return{range_start:(0,m._)((0,_.o)(U)),range_end:(0,m._)((0,g.D)($)),interval:P.interval,pattern:P.pattern,days_of_week:P.days_of_week?.map(B=>"number"==typeof B?O[B]:B)||[]}}function K({interval:P,pattern:U,start:$,end:B,occurrences:y}){let I="";if(P){switch(U){case"daily":I=I.concat(P>1?`Every ${P} days`:"Daily"),y>1&&(B=(0,e.f)($||Date.now(),(y-1)*P).valueOf());break;case"weekly":I=I.concat(P>1?`Every ${P} weeks`:"Weekly"),y>1&&(B=(0,i.J)($||Date.now(),(y-1)*P).valueOf());break;case"month_day":case"monthly":I=I.concat(P>1?`Every ${P} months`:"Monthly"),y>1&&(B=(0,d.P)($||Date.now(),(y-1)*P).valueOf());break;case"yearly":I=I.concat(P>1?`Every ${P} yeats`:"Yearly"),y>1&&(B=(0,p.e)($||Date.now(),(y-1)*P).valueOf())}y>=1&&(I=I.concat(`, until ${(0,b.GP)(B,"MMM do, yyyy")}`))}return I}function H(P,U,$,B=29){const y=function F(P,U=29){let $=new Date(0);const B=[];P.sort((I,w)=>I.date-w.date);for(const I of P){const w=new Date((0,u.z)(I.date,-I.extension_data?.setup_time||0)),L=(0,u.z)(I.date,I.duration+(I.extension_data?.breakdown_time||0));(0,S.d)(I.date,$)?(Math.abs((0,D.o)(w,$))>=U&&B.push({start:$.valueOf(),end:I.date}),$=L):A($,I.date)&&($=L)}const y=$.valueOf();return B.push({start:y,end:10*(y||Date.now())}),B}($,B);for(const I of y)if(P>=I.start&&P<I.end&&U>I.start&&U<=I.end)return!0;return!1}},711:(Mt,pe,a)=>{"use strict";a.d(pe,{N:()=>A});var e=a(467),i=a(9417),d=a(4006),p=a(6727),m=a(1416),_=a(7375),g=a(3953);const b=()=>[5,10];function u(v,O){1&v&&(g.j41(0,"button",5)(1,"app-icon"),g.EFF(2,"close"),g.k0s()())}function S(v,O){if(1&v&&(g.j41(0,"main",6)(1,"div",7)(2,"label",8),g.EFF(3,"Setup Duration"),g.k0s(),g.nrm(4,"a-duration-field",9),g.k0s(),g.j41(5,"div",7)(6,"label",10),g.EFF(7,"Breakdown Duration"),g.k0s(),g.nrm(8,"a-duration-field",11),g.k0s()()),2&v){const z=g.XpG();g.Y8G("formGroup",z.form),g.R7$(4),g.Y8G("min",0)("custom_options",g.lJ4(5,b)),g.R7$(4),g.Y8G("min",0)("custom_options",g.lJ4(6,b))}}function D(v,O){if(1&v){const z=g.RV6();g.j41(0,"footer",12)(1,"button",13),g.bIt("click",function(){g.eBV(z);const K=g.XpG();return g.Njj(K.save())}),g.EFF(2,"Save Changes"),g.k0s()()}}function E(v,O){1&v&&(g.j41(0,"div",14),g.nrm(1,"mat-spinner",15),g.j41(2,"p",16),g.EFF(3," Saving setup and breakdown durations... "),g.k0s()()),2&v&&(g.R7$(),g.Y8G("diameter",32))}let A=(()=>{class v{constructor(z,G){this._event=z,this._dialog_ref=G,this.loading=!1,this.form=new i.gE({setup:new i.MJ(this._event.setup_time||0),breakdown:new i.MJ(this._event.breakdown_time||0)})}save(){var z=this;return(0,e.A)(function*(){z.loading=!0,z._dialog_ref.disableClose=!0;const F={system_id:z._event?.resources[0]?.id||z._event?.system?.id,ical_uid:z._event?.ical_uid};let H=yield(0,m.Az)(new p.L({...z._event,setup_time:z.form.value.setup,breakdown_time:z.form.value.breakdown}).toJSON(),F).toPromise().catch(Y=>null);if(H||(H=yield(0,m.zZ)(z._event.id,F.system_id,{...z._event.extension_data,setup_time:z.form.value.setup,breakdown_time:z.form.value.breakdown,setup:z.form.value.setup,breakdown:z.form.value.breakdown}).toPromise().catch(Y=>null)),!H)return z.loading=!1,z._dialog_ref.disableClose=!1,void(0,_.UG)("Error updating setup and breakdown.");(0,_.VX)("Succesfully updated setup and breakdown period."),z._dialog_ref.disableClose=!1,z.loading=!1,z._dialog_ref.close(H)})()}static#e=this.\u0275fac=function(G){return new(G||v)(g.rXU(d.Vh),g.rXU(d.CP))};static#t=this.\u0275cmp=g.VBU({type:v,selectors:[["setup-breakdown-modal"]],decls:8,vars:4,consts:[["load_state",""],[1,"space-x-4","min-h-16"],["btn","","icon","","mat-dialog-close","","matRipple","",4,"ngIf"],["class","p-4 min-w-[20rem] w-full",3,"formGroup",4,"ngIf","ngIfElse"],["class","flex justify-end px-4 py-2 border-t border-base-200",4,"ngIf"],["btn","","icon","","mat-dialog-close","","matRipple",""],[1,"p-4","min-w-[20rem]","w-full",3,"formGroup"],[1,"flex","flex-col","space-y-2"],["for","setup"],["name","setup","formControlName","setup",3,"min","custom_options"],["for","breakdown"],["name","breakdown","formControlName","breakdown",3,"min","custom_options"],[1,"flex","justify-end","px-4","py-2","border-t","border-base-200"],["btn","","matRipple","",3,"click"],[1,"flex","flex-col","items-center","justify-center","h-64","w-64"],[3,"diameter"],[1,"text-center","p-4"]],template:function(G,K){if(1&G&&(g.j41(0,"header",1)(1,"h2"),g.EFF(2,"Set Event's Setup and Breakdown"),g.k0s(),g.DNE(3,u,3,0,"button",2),g.k0s(),g.DNE(4,S,9,7,"main",3)(5,D,3,0,"footer",4)(6,E,4,1,"ng-template",null,0,g.C5r)),2&G){const F=g.sdS(7);g.R7$(3),g.Y8G("ngIf",!K.loading),g.R7$(),g.Y8G("ngIf",!K.loading)("ngIfElse",F),g.R7$(),g.Y8G("ngIf",!K.loading)}}})}return v})()},1761:(Mt,pe,a)=>{"use strict";a.d(pe,{Ss:()=>G,Uv:()=>Y,Lo:()=>H});var e=a(9417),i=a(9015),d=a(4273),_=a(5611),g=a(3601),b=a(9548),u=a(7926),S=a(2037),D=a(7375),E=a(6727),A=a(690),v=a(3693);(0,i.W)(function p(P,U){const $=(0,d.a)(P);return $.setMinutes(U),$}((0,_.a)(new Date,6),0),{days:-1});const z=P=>U=>P.value?.length&&!U.value?{catering_field:"Catering sub-fields are required"}:null;function G(P=new E.L,U){P||(P=new E.L);const $=new e.gE({id:new e.MJ(P.id),ical_uid:new e.MJ(P.ical_uid),host:new e.MJ(P.host||P.organiser?.email||(0,D.Ny)()?.email||"",[e.k0.required]),organiser:new e.MJ(P.organiser||new v.KJ({email:P.host||""})),creator:new e.MJ(P.creator||(0,D.Ny)()?.email),calendar:new e.MJ(P.calendar),attendees:new e.MJ(P.attendees||[]),resources:new e.MJ(P.resources||[]),title:new e.MJ(P.title),body:new e.MJ(P.body),private:new e.MJ(P.private),date:new e.MJ(P.date,[e.k0.required]),duration:new e.MJ(P.duration,[A.k]),all_day:new e.MJ(P.all_day),date_end:new e.MJ(P.date_end),recurring:new e.MJ(P.recurring),recurrence:new e.MJ(P.recurrence),recurring_event_id:new e.MJ(P.recurring_event_id),master:new e.MJ(P.master),attachments:new e.MJ(P.attachments),catering:new e.MJ(P.extension_data?.catering),catering_notes:new e.MJ(P.extension_data?.catering[0]?.notes||""),catering_charge_code:new e.MJ(P.extension_data?.catering[0]?.charge_code||""),setup_time:new e.MJ(P.setup_time||0),breakdown_time:new e.MJ(P.breakdown_time||0),assets:new e.MJ(P.extension_data?.assets),visitor_type:new e.MJ(P.extension_data?.visitor_type),location:new e.MJ(P.location),needs_space:new e.MJ(!0),needs_parking:new e.MJ(P.extension_data?.needs_parking||!1),event_type:new e.MJ(P.extension_data?.event_type||""),category:new e.MJ(P.extension_data?.category||""),tags:new e.MJ(P.extension_data?.tags||[]),update_master:new e.MJ(!1),system:new e.MJ(P.system),attendance_type:new e.MJ(P.extension_data?.attendance_type||"ONSITE"),timezone:new e.MJ(P.timezone||D.mx),shared_event:new e.MJ(P.extension_data?.shared_event||!1),view_access:new e.MJ(P.extension_data?.view_access||"PRIVATE"),images:new e.MJ(P.extension_data?.images||[]),featured:new e.MJ(P.extension_data?.featured||!1)});$.get("organiser").valueChanges.subscribe(y=>$.controls.host.setValue(y?.email)),$.get("resources").valueChanges.subscribe(y=>{$.controls.system.setValue(y?.length?y[0]:null),$.controls.assets[y?.length?"enable":"disable"]()});const B=()=>{!$.value.catering?.length||!$.getRawValue().date||$.patchValue({catering:$.value.catering.map(y=>({...y,event:{date:$.value.all_day?(0,g.o)($.getRawValue().date):$.getRawValue().date,duration:$.value.all_day?1440:$.value.duration}}))},{emitEvent:!1})};return $.valueChanges.subscribe(y=>{$.getRawValue().date<Date.now()&&$.value.id?$.get("date")?.disable({emitEvent:!1}):$.get("date")?.enable({emitEvent:!1}),(y.date||y.duration||y.all_day)&&B()}),$.controls.duration.valueChanges.subscribe(y=>{$.patchValue({date_end:(0,b.X)((0,u.z)($.getRawValue().date,y),{nearestTo:5,roundingMethod:"ceil"}).valueOf()},{emitEvent:!1}),B()}),$.controls.date_end.valueChanges.subscribe(y=>{y<(0,u.z)($.getRawValue().date,30).valueOf()?$.patchValue({date_end:(0,b.X)((0,u.z)($.getRawValue().date,30),{nearestTo:5,roundingMethod:"ceil"}).valueOf(),duration:30},{emitEvent:!1}):$.patchValue({duration:(0,S.o)(y,$.getRawValue().date)},{emitEvent:!1}),B()}),$.controls.date.valueChanges.subscribe(y=>{$.patchValue({date_end:(0,b.X)((0,u.z)(y,$.value.duration),{nearestTo:5,roundingMethod:"ceil"}).valueOf()},{emitEvent:!1}),y<Date.now()&&!$.value.id&&$.patchValue({date:(0,b.X)(Date.now(),{nearestTo:5,roundingMethod:"ceil"}).valueOf()},{emitEvent:!1}),"custom_display"!==$.value.recurrence?._pattern&&"none"!==$.value.recurrence?._pattern&&$.patchValue({recurrence:{...$.value.recurrence,days_of_week:[new Date(y).getDay()]}}),B()}),$.controls.catering.valueChanges.subscribe(y=>{($.getRawValue().catering||[])?.length&&(U?.get("app.events.catering_notes_required")||U.value("require_catering_notes"))?($.get("catering_notes")?.setValidators([e.k0.required]),$.get("catering_notes").patchValue($.value.catering_notes)):($.get("catering_notes")?.clearValidators(),$.get("catering_notes").setErrors(null)),$.updateValueAndValidity()}),$.get("catering_charge_code").setValidators([z($.get("catering"))]),P.id&&($.get("host").disable(),$.get("organiser").disable()),"started"===P.state&&$.get("date").disable(),$}function H(P,U,$){const B=$.from,y=$.to,w=P.filter(L=>{const Q=new Date(L.date),te=(0,u.z)(Q,L.duration);return!L.resources?.find(R=>R.email===$.space)||!(0,D.dH)(B,y,Q.valueOf(),te.valueOf())}).concat(U);return w.sort((L,Q)=>L.date-Q.date),(0,D.Am)(w,"id")}function Y(P){let U=[{id:P.user_id,name:P.user_name,email:P.user_email,organizer:!0}];return"visitor"===P.booking_type&&U.push(new v.KJ({name:P.asset_name||P.description,email:P.asset_id,checked_in:P.checked_in})),U=U.concat(P.attendees),new E.L({...P,...P.extension_data,attendees:U,id:P.id||P.extension_data.id,host:P.user_email,from_bookings:!0})}},690:(Mt,pe,a)=>{"use strict";a.d(pe,{k:()=>d});var e=a(9824),i=a(7926);const d=m=>{const _=m.parent?.get("date");return _&&(0,e.d)(Date.now(),(0,i.z)(_.value,m.value))?{duration:!0}:null}},2213:(Mt,pe,a)=>{"use strict";a.d(pe,{T:()=>g});var e=a(4006),i=a(4233),d=a(3259),p=a(3953),m=a(9434);let g=(()=>{class b{constructor(S,D){this._data=S,this._settings=D,this.space=this._data.space,this.qr_code=(0,d.C)(`${location.origin}${(this._settings.get("app.booking_qr_path")||"workplace/#/explore?space={{id}}").replace("{{id}}",this._data.space?.email)}`)}static#e=this.\u0275fac=function(D){return new(D||b)(p.rXU(e.Vh),p.rXU(i.h))};static#t=this.\u0275cmp=p.VBU({type:b,selectors:[["explore-book-qr"]],decls:9,vars:2,consts:()=>{let S;return S=$localize`:cbd43c9fe40f6bb5fd5497b1436b4dce15539dfb381017318285325317:Book - ${"\ufffd0\ufffd"}:INTERPOLATION:`,[S,[1,"truncate"],[1,"flex-1"],["icon","","mat-dialog-close",""],[1,"p-4"],[1,"w-64","h-64","m-auto",3,"src"]]},template:function(D,E){1&D&&(p.j41(0,"header")(1,"h2",1),p.pXf(2,0),p.k0s(),p.nrm(3,"div",2),p.j41(4,"button",3)(5,"app-icon"),p.EFF(6,"close"),p.k0s()()(),p.j41(7,"main",4),p.nrm(8,"img",5),p.k0s()),2&D&&(p.R7$(2),p.uP7(null==E.space?null:E.space.name),p.nnv(2),p.R7$(6),p.Y8G("src",E.qr_code,p.B4B))},dependencies:[m.R,e.tx]})}return b})()},6301:(Mt,pe,a)=>{"use strict";a.d(pe,{t:()=>v});var e=a(467),i=a(4006),d=a(7375),p=a(6101),m=a(3953),_=a(3141);function g(O,z){1&O&&(m.j41(0,"button",10)(1,"app-icon"),m.EFF(2,"close"),m.k0s()())}function b(O,z){1&O&&(m.j41(0,"div",15)(1,"label",24),m.EFF(2,"Host"),m.j41(3,"span"),m.EFF(4,"*"),m.k0s(),m.EFF(5,":"),m.k0s(),m.nrm(6,"a-user-search-field",25),m.k0s())}function u(O,z){if(1&O&&(m.j41(0,"div",26)(1,"label"),m.pXf(2,5),m.k0s(),m.j41(3,"div",27),m.EFF(4),m.nI1(5,"date"),m.nI1(6,"date"),m.k0s()()),2&O){const G=m.XpG(3);m.R7$(4),m.Lme(" ",m.i5U(5,2,G.form.value.date,"mediumDate")," at ",m.i5U(6,5,G.form.value.date,G.time_format)," ")}}function S(O,z){if(1&O&&(m.j41(0,"div",28)(1,"label"),m.pXf(2,6),m.k0s(),m.nrm(3,"a-duration-field",29),m.k0s()),2&O){const G=m.XpG(3);m.R7$(3),m.Y8G("time",G.form.value.date)("max",G.max_duration)("use_24hr",G.use_24hr_time)}}function D(O,z){if(1&O&&(m.j41(0,"main",14)(1,"div",15)(2,"label",16),m.EFF(3,"Title"),m.j41(4,"span"),m.EFF(5,"*"),m.k0s(),m.EFF(6,":"),m.k0s(),m.j41(7,"mat-form-field",17),m.nrm(8,"input",18),m.j41(9,"mat-error"),m.pXf(10,3),m.k0s()()(),m.DNE(11,b,7,0,"div",19),m.j41(12,"div",15)(13,"label"),m.pXf(14,4),m.k0s(),m.j41(15,"div",20),m.EFF(16),m.k0s()(),m.j41(17,"div",21),m.DNE(18,u,7,8,"div",22)(19,S,4,3,"div",23),m.k0s()()),2&O){const G=m.XpG(2);m.Y8G("formGroup",G.form),m.R7$(11),m.Y8G("ngIf",G.can_book_for_others),m.R7$(5),m.SpI(" ",(null==G.form.controls.resources||null==G.form.controls.resources.value[0]?null:G.form.controls.resources.value[0].display_name)||(null==G.form.controls.resources||null==G.form.controls.resources.value[0]?null:G.form.controls.resources.value[0].name)," "),m.R7$(2),m.Y8G("ngIf",G.form.controls.date),m.R7$(),m.Y8G("ngIf",G.form.controls.duration)}}function E(O,z){if(1&O){const G=m.RV6();m.qex(0),m.DNE(1,D,20,5,"main",11),m.j41(2,"footer",12)(3,"button",13),m.bIt("click",function(){m.eBV(G);const F=m.XpG();return m.Njj(F.save())}),m.pXf(4,2),m.k0s()(),m.bVm()}if(2&O){const G=m.XpG();m.R7$(),m.Y8G("ngIf",G.form)}}function A(O,z){if(1&O&&(m.j41(0,"div",30),m.nrm(1,"mat-spinner",31),m.j41(2,"p"),m.EFF(3),m.nI1(4,"async"),m.k0s()()),2&O){const G=m.XpG();m.R7$(),m.Y8G("diameter",48),m.R7$(2),m.JRh(m.bMT(4,2,G.loading))}}let v=(()=>{class O{get form(){return this._event_form.form}get max_duration(){return this._settings.get("app.events.max_duration")||240}get can_book_for_others(){return this._settings.get("app.events.can_book_for_others")}get use_24hr_time(){return this._settings.get("app.use_24_hour_time")}get time_format(){return this._settings.time_format}constructor(G,K,F,H,Y){this._data=G,this._settings=K,this._event_form=F,this._dialog_ref=H,this._router=Y,this.loading=this._event_form.loading}ngOnInit(){this._event_form.newForm(),this.form.patchValue({resources:[this._data.space],host:(0,d.Ny)().email,organiser:(0,d.Ny)()})}save(){var G=this;return(0,e.A)(function*(){yield G._event_form.postForm().catch(K=>{throw(0,d.UG)(K),K}),G._settings.app_name.toLowerCase().includes("workplace")?G._router.navigate(["/book","meeting","success"]):(0,d.VX)("Successfully booked room."),G._dialog_ref.close()})()}static#e=this.\u0275fac=function(K){return new(K||O)(m.rXU(i.Vh),m.rXU(d.h$),m.rXU(p.W),m.rXU(i.CP),m.rXU(_.Ix))};static#t=this.\u0275cmp=m.VBU({type:O,selectors:[["explore-booking-modal"]],decls:10,vars:7,consts:()=>{let G,K,F,H,Y,P,U;return G=$localize`:bd532c9813cc0577fcc3ff32640a61afef2bf40a6464057252608386690:New Booking`,K=$localize`:2fa313c798ad138557539ba3c6a3bfdc426eaaa22367152680379951719: Save `,F=$localize`:5cf0071757dd8065e052662e4d191a210c7665792997066279074525950:Booking Title`,H=$localize`:35a900d9fa8e824539ca4b0d1a10bd2f7f8c11728953173802652113530:Booking title is required`,Y=$localize`:0f342dcd63b8732a5599eb91ce166b55335dbbc41329943553963489238:Space:`,P=$localize`:05fa0bded36de6e73a1fa44838b627349dace0446899410641137821757:Date:`,U=$localize`:e17a1d75189da843f541f7764f188f2b19a97df24220765745195024064:Duration:`,[["load_state",""],G,K,H,Y,P,U,[1,"flex-1"],["icon","","matRipple","","mat-dialog-close","",4,"ngIf"],[4,"ngIf","ngIfElse"],["icon","","matRipple","","mat-dialog-close",""],["class","p-4 max-w-[85vw]",3,"formGroup",4,"ngIf"],[1,"flex","justify-center","p-2","border-t","border-base-200"],["btn","","matRipple","",1,"w-32",3,"click"],[1,"p-4","max-w-[85vw]",3,"formGroup"],[1,"flex","flex-col"],["for","title"],["appearance","outline"],["matInput","","name","title","formControlName","title","placeholder",F],["class","flex flex-col",4,"ngIf"],["name","space",1,"px-4","py-3","border","border-base-200","rounded","w-full","mb-4"],[1,"flex","sm:space-x-4","flex-wrap"],["class","flex flex-col flex-1 w-full sm:w-auto",4,"ngIf"],["class","flex flex-col w-full sm:w-auto",4,"ngIf"],["for","host"],["name","host","formControlName","organiser",1,"mb-4"],[1,"flex","flex-col","flex-1","w-full","sm:w-auto"],[1,"px-4","py-3","border","border-base-200","rounded","w-full","mb-4"],[1,"flex","flex-col","w-full","sm:w-auto"],["formControlName","duration",1,"w-full",3,"time","max","use_24hr"],["load","",1,"h-64","flex","flex-col","items-center","justify-center"],[1,"m-4",3,"diameter"]]},template:function(K,F){if(1&K&&(m.j41(0,"header")(1,"h2"),m.pXf(2,1),m.k0s(),m.nrm(3,"div",7),m.DNE(4,g,3,0,"button",8),m.nI1(5,"async"),m.k0s(),m.DNE(6,E,5,1,"ng-container",9),m.nI1(7,"async"),m.DNE(8,A,5,4,"ng-template",null,0,m.C5r)),2&K){const H=m.sdS(9);m.R7$(4),m.Y8G("ngIf",!m.bMT(5,3,F.loading)),m.R7$(2),m.Y8G("ngIf",!m.bMT(7,5,F.loading))("ngIfElse",H)}},styles:["header[_ngcontent-%COMP%]{max-width:calc(100vw + 100%)}[load][_ngcontent-%COMP%]{width:32rem;max-width:calc(100vw - 2rem)}"]})}return O})()},3207:(Mt,pe,a)=>{"use strict";a.d(pe,{q:()=>p});var e=a(6815),i=a(3953),d=a(9434);let p=(()=>{class m{constructor(g){this._details=g,this.icon=this._details.icon||{content:"done"},this.color=this._details.color||"var(--in)",this.text_color=this._details.text_color||"var(--inc)"}static#e=this.\u0275fac=function(b){return new(b||m)(i.rXU(e.Nw))};static#t=this.\u0275cmp=i.VBU({type:m,selectors:[["explore-icon"]],decls:2,vars:5,consts:[[1,"flex","items-center","justify-center","h-8","w-8","shadow","rounded-full","border","border-base-200"],[1,"text-xl",3,"icon"]],template:function(b,u){1&b&&(i.j41(0,"div",0),i.nrm(1,"app-icon",1),i.k0s()),2&b&&(i.xc7("background-color",u.color)("color",u.text_color),i.R7$(),i.Y8G("icon",u.icon))},dependencies:[d.R],styles:["[_nghost-%COMP%]{display:flex;height:100%;width:100%;align-items:end;justify-content:end}"]})}return m})()},8303:(Mt,pe,a)=>{"use strict";a.d(pe,{x:()=>D});var e=a(6815),i=a(4233),d=a(3953);function p(E,A){if(1&E&&d.nrm(0,"img",18),2&E){const v=d.XpG(2);d.Y8G("source",v.space.images[0])}}function m(E,A){1&E&&d.nrm(0,"div",19)}function _(E,A){if(1&E&&(d.j41(0,"div",20),d.EFF(1),d.k0s()),2&E){const v=d.XpG(2);d.R7$(),d.SpI(" ",v.available_until," ")}}function g(E,A){if(1&E&&(d.j41(0,"div",21)(1,"span"),d.pXf(2,3),d.k0s(),d.EFF(3),d.k0s()),2&E){const v=d.XpG(2);d.R7$(3),d.Lme("",v.space.capacity," ",1===v.space.capacity?"person":"people"," ")}}function b(E,A){if(1&E&&(d.j41(0,"li",24),d.EFF(1),d.k0s()),2&E){const v=A.$implicit;d.R7$(),d.SpI(" ",v," ")}}function u(E,A){if(1&E&&(d.j41(0,"ul",22),d.DNE(1,b,2,1,"li",23),d.k0s()),2&E){const v=d.XpG(2);d.R7$(),d.Y8G("ngForOf",v.space.features)}}function S(E,A){if(1&E&&(d.j41(0,"div",5),d.nrm(1,"div",6),d.j41(2,"div",7)(3,"div",8),d.DNE(4,p,1,1,"img",9)(5,m,1,0,"div",10),d.k0s(),d.j41(6,"div",11)(7,"div",12),d.EFF(8," "),d.pXf(9,2),d.EFF(10," "),d.k0s(),d.DNE(11,_,2,1,"div",13),d.k0s(),d.j41(12,"div",14)(13,"h4",15),d.EFF(14),d.k0s(),d.DNE(15,g,4,2,"div",16)(16,u,2,1,"ul",17),d.k0s()()()),2&E){const v=d.XpG();d.AVh("-translate-x-full","end"===v.x_pos)("-translate-y-full","bottom"===v.y_pos),d.Y8G("id",null==v.space?null:v.space.id),d.R7$(3),d.AVh("bg-neutral",v.space.images[0])("h-32",v.space.images[0])("h-8",!v.space.images[0]),d.R7$(),d.Y8G("ngIf",v.space.images[0]),d.R7$(),d.Y8G("ngIf",v.space.images[0]),d.R7$(2),d.HbH("capitalize rounded p-1 px-2 text-light border border-white shadow "+v.status),d.R7$(2),d.uP7(v.status),d.nnv(9),d.R7$(2),d.Y8G("ngIf","not-bookable"!==v.status),d.R7$(3),d.SpI(" ",v.space.display_name||v.space.name," "),d.R7$(),d.Y8G("ngIf",v.space.capacity>=0),d.R7$(),d.Y8G("ngIf",(null==v.space.features?null:v.space.features.length)>0&&v.show_features)}}let D=(()=>{class E{get show_features(){return!this._settings.get("app.spaces.hide_features")}constructor(v,O,z){this._details=v,this._settings=O,this._element=z,this.space=this._details.space,this.events=this._details.events,this.status=this._details.status}ngOnInit(){setTimeout(()=>this.updateOffset(),200)}updateOffset(){const v=this._element.nativeElement.getBoundingClientRect();this.x_pos=v.x<document.body.clientWidth/2?"start":"end",this.y_pos=v.y<document.body.clientHeight/2?"top":"bottom"}get available_until(){return""}static#e=this.\u0275fac=function(O){return new(O||E)(d.rXU(e.Nw),d.rXU(i.h),d.rXU(d.aKT))};static#t=this.\u0275cmp=d.VBU({type:E,selectors:[["explore-space-info"]],decls:4,vars:7,consts:()=>{let v,O;return v=$localize`:86e6b3a473ea3e05830d2aef91c81199de1b9d333658078071800974217:{VAR_SELECT, select, free {Free } busy {Busy } pending {Pending } reserved {Reserved } other {Not Bookable }}`,v=d.k04(v,{VAR_SELECT:"\ufffd0\ufffd"}),O=$localize`:36c2a5db33c6cfc9e239e589f975f5492bbb05502292396409867038415:Capacity: `,[["tooltip",""],["space_tooltip",""],v,O,["customTooltip","",1,"h-full","w-full","pointer-events-auto","relative","hidden","sm:block","cursor-pointer",3,"mouseenter","content","backdrop","xPosition","yPosition","hover","delay"],["name","space-info",1,"absolute","rounded","bg-base-100","top-0","left-0","transform","shadow","pointer-events-none","overflow-hidden",3,"id"],[1,"arrow"],[1,"relative"],[1,"w-full","overflow-hidden","flex","items-center","justify-center","relative","bg-opacity-20"],["auth","","class","object-cover min-h-full min-w-full",3,"source",4,"ngIf"],["class","absolute inset-0 bg-neutral",4,"ngIf"],[1,"absolute","top-2","left-2","flex","flex-wrap","text-sm"],["status",""],["available-until","",4,"ngIf"],[1,"flex","flex-col","py-4","px-2"],[1,"font-medium","text-xl","mb-2","px-2"],["capacity","","class","text-base px-2 mb-2",4,"ngIf"],["class","flex flex-wrap",4,"ngIf"],["auth","",1,"object-cover","min-h-full","min-w-full",3,"source"],[1,"absolute","inset-0","bg-neutral"],["available-until",""],["capacity","",1,"text-base","px-2","mb-2"],[1,"flex","flex-wrap"],["class","text-xs px-2 py-1 m-1 rounded-2xl bg-base-200 font-medium",4,"ngFor","ngForOf"],[1,"text-xs","px-2","py-1","m-1","rounded-2xl","bg-base-200","font-medium"]]},template:function(O,z){if(1&O){const G=d.RV6();d.j41(0,"div",4,0),d.bIt("mouseenter",function(){return d.eBV(G),d.Njj(z.updateOffset())}),d.k0s(),d.DNE(2,S,17,20,"ng-template",null,1,d.C5r)}if(2&O){const G=d.sdS(3);d.Y8G("content",G)("backdrop",!1)("xPosition","center")("yPosition","center")("hover",!0)("delay",3e3),d.BMQ("id",(null==z.space?null:z.space.map_id)||(null==z.space?null:z.space.id))}},styles:["[name=space-info][_ngcontent-%COMP%]{width:16rem}[status][_ngcontent-%COMP%]{background-color:#43a047;font-weight:500}[status].busy[_ngcontent-%COMP%]{background-color:#e53935}[status].pending[_ngcontent-%COMP%]{background-color:#ffb300}[status].not-bookable[_ngcontent-%COMP%]{background-color:#757575}"]})}return E})()},5897:(Mt,pe,a)=>{"use strict";a.d(pe,{U:()=>$,s:()=>B});var e=a(467),i=a(9596),d=a(8728),p=a(9090),m=a(3921),_=a(5006),g=a(8712),b=a(9493),u=a(4421),S=a(9714),D=a(7375),E=a(9525),A=a(735),v=a(6727),O=a(6101),z=a(5762),G=a(2455),K=a(8303),F=a(6301),H=a(2213),Y=a(3207),P=a(3953),U=a(4006);const $={free:"#43a047",pending:"#ffb300",reserved:"#e65100",busy:"#e53935","signs-of-life":"#1565c0","not-bookable":"#757575",unknown:"#757575"};let B=(()=>{class y extends D.Tv{constructor(w,L,Q,te,R){super(),this._state=w,this._settings=L,this._event_form=Q,this._dialog=te,this._org=R,this._bookings={},this._statuses={},this._presence={},this._panning=!0,this._last_action="",this.booking_rules=this._org.active_building.pipe((0,d.p)(ee=>!!ee),(0,p.n)(ee=>(0,i.bpY)(ee.id,"room_booking_rules").pipe((0,m.W)(()=>(0,u.of)({details:[]})))),(0,_.T)(ee=>ee?.details instanceof Array?ee.details:[]),(0,g.t)(1)),this._bind=(0,S.zV)([this._state.spaces,this._state.options]).pipe((0,d.p)(([ee,{is_public:k}])=>!k),(0,_.T)(([ee])=>{if(this.unsubWith("b-"),this.unsubWith("s-"),this.unsubWith("c-"),this._statuses={},ee?.length){for(const k of ee){const J=(0,i.f_4)(k.id,"Bookings");let X=J.binding("bookings");this.subscription(`b-${k.id}`,X.listen().subscribe(fe=>this.handleBookingsChange(ee,k,fe))),this.subscription(`b-bind-${k.id}`,X.bind()),X=J.binding("status"),this.subscription(`s-${k.id}`,X.listen().subscribe(fe=>this.handleStatusChange(ee,k,fe))),this.subscription(`s-bind-${k.id}`,X.bind()),X=J.binding("presence"),this.subscription(`c-${k.id}`,X.listen().subscribe(fe=>this.handlePresenceChange(ee,k,fe))),this.subscription(`c-bind-${k.id}`,X.bind())}this.updateActions(ee),this._updateHoverElements(ee)}})),this.subscription("spaces",this._bind.subscribe())}bookSpace(w,L=!1){var Q=this;return(0,e.A)(function*(){if(Q._panning&&"down"===Q._last_action)return;const te=yield Q.booking_rules.pipe((0,b.s)(1)).toPromise(),{hidden:R}=(0,D.RH)({date:Date.now(),duration:60,resource:w,host:(0,D.Ny)()},te)||{};return R?(0,E.UG)("You do not have permission to book this space at this time."):"free"!==Q._statuses[w.id]&&!L||!w.bookable?(0,E.UG)(`${w.display_name||w.name} is unavailable for the selected time and duration`):(Q._event_form.newForm(),Q._event_form.form.patchValue({host:(0,D.Ny)()?.email,resources:[w]}),Q._settings.get("app.events.booking_unavailable")?Q._event_form.openEventLinkModal():void Q._dialog.open(Q._settings.get("app.explore.show_booking_qr")?H.T:F.t,{data:{space:w}}))})()}handleBookingsChange(w,L,Q){Q&&(this._bookings[L.id]=Q.map(te=>new v.L(te)),this.timeout("update_hover_els",()=>this._updateHoverElements(w),100))}handleStatusChange(w,L,Q){L.bookable?this._statuses[L.id]=Q||"free":delete this._statuses[L.id],this.timeout("update_statuses",()=>{this.clearTimeout("update_hover_els"),this._updateStatus(w),this._updateHoverElements(w)},100)}handlePresenceChange(w,L,Q){this._presence[L.id]=Q,this.timeout("update_icons",()=>this._updateIcons(w),100)}_updateStatus(w){var L=this;return(0,e.A)(function*(){const Q={},te=L._settings.get("app.explore.colors")||{};for(const R of w){if(!L._statuses[R.id])continue;const ee=L._statuses[R.id];Q[`#${R.map_id}`]={fill:te[`space-${ee}`]||te[`${ee}`]||$[`${ee}`],opacity:.6}}L._state.setStyles("spaces",Q)})()}_updateHoverElements(w){const L=[];for(const Q of w)Q.map_id&&L.push({location:Q.map_id,full_size:!0,no_scale:!0,content:K.x,z_index:10,data:{space:new A.$(Q),events:this._bookings[Q.id],status:this._statuses[Q.id]||"not-bookable"}});this._state.setFeatures("spaces",L)}_updateIcons(w){if(!this._settings.get("app.show_presence_indicators"))return;const L=[];for(const Q of w)Q.map_id&&L.push({location:Q.map_id,content:Y.q,data:{icon:{class:"material-symbols-rounded",content:"sensor_occupied"},color:this._presence[Q.id]?"var(--su)":"var(--bc)",text_color:this._presence[Q.id]?"var(--suc)":"var(--b1)"},z_index:98});this._state.setFeatures("spaces-presence",L)}updateActions(w){const L=[];for(const Q of w)if(Q.map_id){for(const te of["mousedown","touchstart"])L.push({id:Q.map_id,action:te,priority:5,callback:()=>{this._panning=!1,this.timeout("panning",()=>this._panning=!0,300),this._last_action="down"}});for(const te of["mouseup","touchend"])L.push({id:Q.map_id,action:te,priority:5,callback:()=>{this.bookSpace(Q),this._last_action="up"}})}this.timeout("set-actions",()=>this._state.setActions("spaces",L),50)}static#e=this.\u0275fac=function(L){return new(L||y)(P.KVO(G.O),P.KVO(D.h$),P.KVO(O.W),P.KVO(U.bZ),P.KVO(z.y))};static#t=this.\u0275prov=P.jDH({token:y,factory:y.\u0275fac})}return y})()},2455:(Mt,pe,a)=>{"use strict";a.d(pe,{O:()=>K});var e=a(467),i=a(9596),d=a(9928),p=a(9714),m=a(4421),_=a(8728),g=a(9090),b=a(5006),u=a(3921),S=a(8712),D=a(3020),E=a(4046),A=a(7375),v=a(5762),O=a(735),z=a(7401),G=a(3953);let K=(()=>{class F extends A.Tv{get positions(){return this._positions.getValue()}get active_level(){return this._level.getValue()}constructor(Y,P,U){super(),this._org=Y,this._spaces=P,this._settings=U,this._level=new d.t(null),this._positions=new d.t({zoom:1,center:{x:.5,y:.5}}),this._styles=new d.t({}),this._features=new d.t({}),this._actions=new d.t({}),this._labels=new d.t({}),this._options=new d.t({is_public:!1,disable:["zones","devices"]}),this._message=new d.t(""),this.level=this._level.asObservable(),this.message=this._message.asObservable(),this.spaces=(0,p.zV)([this._level,this._org.initialised]).pipe((0,_.p)(([$,B])=>B),(0,g.n)(([$])=>(0,i.BbB)({zone_id:$?.id||this._org.organisation.id,limit:50}).pipe((0,b.T)(({data:B})=>B.map(y=>new O.$(y))),(0,u.W)(B=>(0,m.of)([])))),(0,S.t)(1)),this.map_url=this._level.pipe((0,b.T)($=>($?$.map_id:"")||"")),this.map_positions=this._positions.asObservable(),this.map_features=(0,p.zV)([this._features,this._options]).pipe((0,D.B)(200),(0,b.T)(([$,B])=>{let y=[];for(const I in $)B.disable?.includes(I)||B.disable_features?.includes(I)||"zones-canvas"===I&&B.disable?.includes("zones")||(y=y.concat($[I]));return y})),this.map_actions=(0,p.zV)([this._actions,this._options]).pipe((0,D.B)(200),(0,b.T)(([$,B])=>{let y=[];for(const I in $)B.disable?.includes(I)||B.disable_actions?.includes(I)||(y=y.concat($[I]));return y})),this.map_labels=(0,p.zV)([this._labels,this._options]).pipe((0,D.B)(200),(0,b.T)(([$,B])=>{let y=[];for(const I in $)B.disable?.includes(I)||B.disable_labels?.includes(I)||(y=y.concat($[I]));return y})),this.map_styles=(0,p.zV)([this._styles,this._options]).pipe((0,D.B)(200),(0,b.T)(([$,B])=>{let y={text:{display:"none"}};for(const I in $)B.disable?.includes(I)||B.disable_styles?.includes(I)||(y={...y,...$[I]});return B.disable?.includes("zones")&&(y["#zones"]={display:"none"},y["#Zones"]={display:"none"}),y})),this.options=this._options.asObservable(),this.init()}init(){var Y=this;return(0,e.A)(function*(){yield Y._org.initialised.pipe((0,E.$)(P=>P)).toPromise(),Y._org.active_levels.pipe((0,_.p)(P=>!!P)).subscribe(P=>{const U=Y._level.getValue();!P.find(B=>U?.id===B.id)&&P.length&&Y.setLevel(P[0].id),Y._settings.get("app.explore.disable_actions")&&Y.setOptions({disable_actions:Y._settings.get("app.explore.disable_actions")}),Y._settings.get("app.explore.disable_labels")&&Y.setOptions({disable_labels:Y._settings.get("app.explore.disable_labels")}),Y._settings.get("app.explore.disable_features")&&Y.setOptions({disable_features:Y._settings.get("app.explore.disable_features")}),Y._settings.get("app.explore.disable_styles")&&Y.setOptions({disable_styles:Y._settings.get("app.explore.disable_styles")})})})()}setOptions(Y){const P=this._options.getValue(),U=(0,A.Am)([...Y.disable||P.disable,...this._settings.get("app.explore.disable")||[]]);this._options.next({...this._options.getValue(),...Y,disable:U})}reset(){this._styles.next({}),this._features.next({}),this._labels.next({}),this._actions.next({}),this._options.next({is_public:!1,disable:["zones","devices"]}),this.setPositions(1,{x:.5,y:.5})}setLevel(Y){const P=this._org.levelWithID([Y]);P&&this._level.next(P)}setStyles(Y,P){const U=this._styles.getValue();U[Y]=P,this._styles.next(U)}setFeatures(Y,P){const U=this._features.getValue();U[Y]=P,this._features.next(U)}setActions(Y,P){const U=this._actions.getValue();U[Y]=P,this._actions.next(U)}setLabels(Y,P){const U=this._labels.getValue();U[Y]=P,this._labels.next(U)}setPositions(Y,P){this._positions.next({zoom:Y,center:P})}has(Y,P,U=[]){if("style"===Y){const $=this._styles.getValue();for(const B in $){if(U.includes(B))continue;const y=$[B];if(P in y||`#${P}`in y)return!0}}else if("feature"===Y){const $=this._features.getValue();for(const B in $)if(!U.includes(B))for(const y of $[B])if(y.location===P)return!0}else if("action"===Y){const $=this._actions.getValue();for(const B in $)if(!U.includes(B))for(const y of $[B])if(y.id===P)return!0}else if("label"===Y){const $=this._labels.getValue();for(const B in $)if(!U.includes(B))for(const y of $[B])if(y.location===P)return!0}return!1}static#e=this.\u0275fac=function(P){return new(P||F)(G.KVO(v.y),G.KVO(z.b),G.KVO(A.h$))};static#t=this.\u0275prov=G.jDH({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})()},3046:(Mt,pe,a)=>{"use strict";a.d(pe,{cQ:()=>e.c});var e=a(481);a(5507),a(9608),a(3476),a(1413),a(840),a(8e3),a(6864)},3683:(Mt,pe,a)=>{"use strict";a.d(pe,{K:()=>ee});var e=a(3953),i=a(9417),d=a(7375),p=a(2185),m=a(9596),_=a(1406),g=a(3601),b=a(4512),u=a(4421),S=a(8728),D=a(9090),E=a(3921),A=a(5006),v=a(8712);const O=()=>({standalone:!0});function z(k,J){if(1&k&&(e.j41(0,"mat-option",26),e.EFF(1),e.k0s()),2&k){const X=J.$implicit;e.Y8G("value",X.id),e.R7$(),e.SpI(" ",X.display_name||X.name," ")}}function G(k,J){1&k&&(e.j41(0,"mat-checkbox",27),e.EFF(1," Auto Approve Bookings "),e.k0s())}function K(k,J){if(1&k&&(e.j41(0,"div",28)(1,"label",29),e.EFF(2),e.k0s(),e.nrm(3,"item-list-field",30),e.k0s()),2&k){const X=e.XpG();e.R7$(2),e.SpI("",X.form.value.rules.hidden?"Prevent":"Allow"," Booking for Groups:")}}function F(k,J){1&k&&(e.j41(0,"div",28)(1,"label",31),e.EFF(2,"Locations:"),e.k0s(),e.nrm(3,"item-list-field",32),e.k0s())}function H(k,J){if(1&k&&(e.j41(0,"div",2)(1,"label",35),e.EFF(2),e.k0s(),e.nrm(3,"a-duration-field",36),e.k0s()),2&k){const X=e.XpG(2);e.R7$(2),e.SpI("",X.form.value.rules.hidden?"Prevent":"Allow"," booking with a minimum length of:"),e.R7$(),e.Y8G("min",15)("max",1440)("step",15)}}function Y(k,J){if(1&k&&(e.j41(0,"div",2)(1,"label",37),e.EFF(2),e.k0s(),e.nrm(3,"a-duration-field",38),e.k0s()),2&k){const X=e.XpG(2);e.R7$(2),e.SpI("",X.form.value.rules.hidden?"Prevent":"Allow"," booking with a maximum length up to:"),e.R7$(),e.Y8G("min",X.form.value.conditions.min_length||15)("max",1440)("step",15)}}function P(k,J){if(1&k&&(e.j41(0,"div",33),e.DNE(1,H,4,4,"div",34)(2,Y,4,4,"div",34),e.k0s()),2&k){const X=e.XpG();e.R7$(),e.Y8G("ngIf",X.available_conditions.includes("min_length")),e.R7$(),e.Y8G("ngIf",X.available_conditions.includes("max_length"))}}function U(k,J){if(1&k&&(e.j41(0,"mat-option",26),e.EFF(1),e.k0s()),2&k){const X=J.$implicit;e.Y8G("value",X),e.R7$(),e.SpI(" ",X," ")}}function $(k,J){if(1&k&&(e.j41(0,"div",28)(1,"label",39),e.EFF(2),e.k0s(),e.j41(3,"mat-form-field",40)(4,"mat-select",41),e.DNE(5,U,2,2,"mat-option",7),e.k0s(),e.j41(6,"mat-error"),e.EFF(7,"A valid time is required"),e.k0s()()()),2&k){const X=e.XpG();e.R7$(2),e.SpI("",X.form.value.rules.hidden?"Prevent":"Allow"," booking before:"),e.R7$(3),e.Y8G("ngForOf",X.duration_blocks)}}function B(k,J){if(1&k&&(e.j41(0,"mat-option",26),e.EFF(1),e.k0s()),2&k){const X=J.$implicit;e.Y8G("value",X),e.R7$(),e.SpI(" ",X," ")}}function y(k,J){if(1&k&&(e.j41(0,"div",28)(1,"label",42),e.EFF(2),e.k0s(),e.j41(3,"mat-form-field",40)(4,"mat-select",43),e.DNE(5,B,2,2,"mat-option",7),e.k0s(),e.j41(6,"mat-error"),e.EFF(7,"A valid time is required"),e.k0s()()()),2&k){const X=e.XpG();e.R7$(2),e.SpI("",X.form.value.rules.hidden?"Prevent":"Allow"," booking after:"),e.R7$(3),e.Y8G("ngForOf",X.duration_blocks)}}function I(k,J){if(1&k){const X=e.RV6();e.j41(0,"div",28)(1,"label",42),e.EFF(2),e.k0s(),e.j41(3,"div",1)(4,"a-date-field",44),e.bIt("ngModelChange",function(Me){e.eBV(X);const Ze=e.XpG();return e.Njj(Ze.setIsPeriod(Me,Ze.form.value.conditions.is_period[1]))}),e.k0s(),e.j41(5,"a-date-field",45),e.bIt("ngModelChange",function(Me){e.eBV(X);const Ze=e.XpG();return e.Njj(Ze.setIsPeriod(Ze.form.value.conditions.is_period[0],Me))}),e.k0s()()()}if(2&k){const X=e.XpG();e.R7$(2),e.SpI("",X.form.value.rules.hidden?"Prevent":"Allow"," booking between dates:"),e.R7$(2),e.Y8G("ngModel",X.form.value.conditions.is_period[0])("ngModelOptions",e.lJ4(6,O)),e.R7$(),e.Y8G("from",X.form.value.conditions.is_period[0])("ngModel",X.form.value.conditions.is_period[1])("ngModelOptions",e.lJ4(7,O))}}function w(k,J){if(1&k&&(e.j41(0,"mat-option",26),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&k){const X=J.$implicit,fe=e.XpG(2);e.Y8G("value",X.id),e.R7$(),e.SpI(" ",e.i5U(2,2,X.value,fe.time_format)," ")}}function L(k,J){if(1&k&&(e.j41(0,"mat-option",26),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&k){const X=e.XpG().$implicit,fe=e.XpG(2);e.Y8G("value",X.id),e.R7$(),e.SpI(" ",e.i5U(2,2,X.value,fe.time_format)," ")}}function Q(k,J){if(1&k&&(e.qex(0),e.DNE(1,L,3,5,"mat-option",51),e.bVm()),2&k){const X=J.$implicit,fe=e.XpG(2);e.R7$(),e.Y8G("ngIf",X.id>(fe.form.value.conditions.is_between[0]||6))}}function te(k,J){if(1&k){const X=e.RV6();e.j41(0,"div",28)(1,"label",46),e.EFF(2),e.k0s(),e.j41(3,"div",47)(4,"mat-form-field",40)(5,"mat-select",48),e.bIt("ngModelChange",function(Me){e.eBV(X);const Ze=e.XpG();return e.Njj(Ze.setIsBetween(Me,Ze.form.value.conditions.is_between[1]))}),e.DNE(6,w,3,5,"mat-option",7),e.k0s()(),e.j41(7,"mat-form-field",40)(8,"mat-select",49),e.bIt("ngModelChange",function(Me){e.eBV(X);const Ze=e.XpG();return e.Njj(Ze.setIsBetween(Ze.form.value.conditions.is_between[0],Me))}),e.DNE(9,Q,2,1,"ng-container",50),e.k0s(),e.j41(10,"mat-error"),e.EFF(11,"A valid end time is required"),e.k0s()()()()}if(2&k){const X=e.XpG();e.R7$(2),e.SpI("",X.form.value.rules.hidden?"Prevent":"Allow"," booking between:"),e.R7$(3),e.Y8G("ngModel",X.form.value.conditions.is_between[0]||6)("ngModelOptions",e.lJ4(7,O)),e.R7$(),e.Y8G("ngForOf",X.time_blocks),e.R7$(2),e.Y8G("ngModel",X.form.value.conditions.is_between[1]||18)("ngModelOptions",e.lJ4(8,O)),e.R7$(),e.Y8G("ngForOf",X.time_blocks)}}function R(k,J){if(1&k&&(e.j41(0,"div",28)(1,"label",52),e.EFF(2),e.k0s(),e.nrm(3,"item-list-field",53),e.k0s()),2&k){const X=e.XpG();e.R7$(2),e.SpI(" ",X.form.value.rules.hidden?"Prevent":"Allow"," booking these resources: ")}}let ee=(()=>{class k{get time_format(){return this._settings.time_format}constructor(X,fe){this._org=X,this._settings=fe,this.save=!1,this.rulesetChange=new e.bkB,this.available_conditions=[],this.building_zones=this._org.active_building.pipe((0,S.p)(Me=>!!Me),(0,D.n)(Me=>(0,m.smM)({parent_id:Me.id}).pipe((0,E.W)(()=>(0,u.of)({data:[]})))),(0,A.T)(Me=>Me.data),(0,v.t)(1)),this.time_blocks=new Array(96).fill(0).map((Me,Ze)=>{const Ct=Math.floor(Ze/4),lt=Ze%4*15;return{id:Ct+lt/60,value:(0,_.h)(new Date,{hours:Ct,minutes:lt})}}),this.duration_blocks=["1 Day","2 Days","3 Days","4 Days","5 Days","1 Week","2 Weeks","3 Weeks","4 Weeks","1 Month","2 Months","3 Months","4 Months","5 Months","6 Months"],this.form=new i.gE({id:new i.MJ(`ruleset-${(0,d.DU)(8)}`),zone:new i.MJ("*",i.k0.required),name:new i.MJ("",i.k0.required),rules:new i.gE({auto_approve:new i.MJ(!1),hidden:new i.MJ(!1)}),conditions:new i.gE({groups:new i.MJ([]),locations:new i.MJ([]),min_length:new i.MJ(0),max_length:new i.MJ(1440),is_before:new i.MJ("1 Week"),is_after:new i.MJ("1 Day"),is_between:new i.MJ([6,18]),is_period:new i.MJ([(0,g.o)(Date.now()).valueOf(),(0,b.D)(Date.now()).valueOf()]),resource_ids:new i.MJ([])})})}ngOnChanges(X){X.ruleset&&this.ruleset&&(this.available_conditions=Object.keys(this.ruleset.conditions||{}),this.form.patchValue(this.ruleset)),X.save&&this.save!==X.save.previousValue&&!X.save.firstChange&&this.post()}setIsBetween(X,fe){!X||!fe||(X>fe&&(fe=X+.25),this.form.patchValue({conditions:{is_between:[X,fe]}}))}setIsPeriod(X,fe){!X||!fe||(X>fe&&(fe=X),this.form.patchValue({conditions:{is_period:[(0,g.o)(X).valueOf(),(0,b.D)(fe).valueOf()]}}))}post(){if(!this.form.valid)return(0,d.UG)(`Some form fields are invalid. [${(0,d.F7)(this.form).join(", ")}]`);const X=this.form.getRawValue(),fe=Object.keys(X.conditions);for(const Me of fe)this.available_conditions.includes(Me)||delete X.conditions[Me];this.rulesetChange.emit(X)}static#e=this.\u0275fac=function(fe){return new(fe||k)(e.rXU(p.yb),e.rXU(d.h$))};static#t=this.\u0275cmp=e.VBU({type:k,selectors:[["booking-rules-form"]],inputs:{ruleset:"ruleset",save:"save"},outputs:{rulesetChange:"rulesetChange"},features:[e.OA$],decls:65,vars:16,consts:[[1,"flex","flex-col","space-y-2",3,"formGroup"],[1,"flex","items-center","space-x-2"],[1,"flex","flex-col","flex-1"],["for","zone"],["appearance","outline"],["name","zone","formControlName","zone"],["value","*"],[3,"value",4,"ngFor","ngForOf"],["for","name"],["matInput","","name","name","formControlName","name","placeholder","Ruleset Name"],["formGroupName","rules",1,"flex","items-center","space-x-2"],["name","hidden","formControlName","hidden","matTooltip","Prevent user from booking the resource if the conditions match"],["name","auto_approve","formControlName","auto_approve","matTooltip","Whether resource should be auto-approved when booking if the conditions match",4,"ngIf"],[1,"flex","flex-col"],["name","zone","multiple","","placeholder","No Conditions. Match all resources in zone",3,"ngModelChange","ngModel","ngModelOptions"],["value","groups"],["value","locations"],["value","min_length"],["value","max_length"],["value","is_before"],["value","is_after"],["value","is_between"],["value","is_period"],["value","resource_ids"],["class","flex flex-col","formGroupName","conditions",4,"ngIf"],["class","flex items-center space-x-2","formGroupName","conditions",4,"ngIf"],[3,"value"],["name","auto_approve","formControlName","auto_approve","matTooltip","Whether resource should be auto-approved when booking if the conditions match"],["formGroupName","conditions",1,"flex","flex-col"],["for","groups"],["name","groups","formControlName","groups","placeholder","User groups"],["for","locations"],["name","locations","formControlName","locations","placeholder","Locations"],["formGroupName","conditions",1,"flex","items-center","space-x-2"],["class","flex flex-col flex-1",4,"ngIf"],["for","min_length"],["name","min_length","formControlName","min_length",3,"min","max","step"],["for","max_length"],["name","max_length","formControlName","max_length",3,"min","max","step"],["for","is-before"],["appearance","outline",1,"flex-1"],["name","is-before","formControlName","is_before"],["for","is-after"],["name","is-after","formControlName","is_after"],[1,"flex-1",3,"ngModelChange","ngModel","ngModelOptions"],[1,"flex-1",3,"ngModelChange","from","ngModel","ngModelOptions"],["for","is_between"],[1,"flex","items-center","space-x-2","w-full"],["name","start-time",3,"ngModelChange","ngModel","ngModelOptions"],["name","end-time",3,"ngModelChange","ngModel","ngModelOptions"],[4,"ngFor","ngForOf"],[3,"value",4,"ngIf"],["for","resource_ids"],["name","resource_ids","formControlName","resource_ids","placeholder","Resource IDs"]],template:function(fe,Me){1&fe&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),e.EFF(4,"Zone"),e.j41(5,"span"),e.EFF(6,"*"),e.k0s(),e.EFF(7,":"),e.k0s(),e.j41(8,"mat-form-field",4)(9,"mat-select",5)(10,"mat-option",6),e.EFF(11,"Any Zone"),e.k0s(),e.DNE(12,z,2,2,"mat-option",7),e.nI1(13,"async"),e.k0s(),e.j41(14,"mat-error"),e.EFF(15,"A valid zone is required"),e.k0s()()(),e.j41(16,"div",2)(17,"label",8),e.EFF(18,"Name"),e.j41(19,"span"),e.EFF(20,"*"),e.k0s(),e.EFF(21,":"),e.k0s(),e.j41(22,"mat-form-field",4),e.nrm(23,"input",9),e.j41(24,"mat-error"),e.EFF(25,"A valid name is required"),e.k0s()()()(),e.j41(26,"div",10)(27,"div",2)(28,"mat-checkbox",11),e.EFF(29," Prevent Bookings "),e.k0s()(),e.j41(30,"div",2),e.DNE(31,G,2,0,"mat-checkbox",12),e.k0s()(),e.j41(32,"div",13)(33,"label",3),e.EFF(34,"Rule Conditions:"),e.k0s(),e.j41(35,"mat-form-field",4)(36,"mat-select",14),e.mxI("ngModelChange",function(Ct){return e.DH7(Me.available_conditions,Ct)||(Me.available_conditions=Ct),Ct}),e.j41(37,"mat-option",15),e.EFF(38,"Groups"),e.k0s(),e.j41(39,"mat-option",16),e.EFF(40,"Locations"),e.k0s(),e.j41(41,"mat-option",17),e.EFF(42," Minimum Length "),e.k0s(),e.j41(43,"mat-option",18),e.EFF(44," Maximum Length "),e.k0s(),e.j41(45,"mat-option",19),e.EFF(46," Is Within Days "),e.k0s(),e.j41(47,"mat-option",20),e.EFF(48," Is After Days "),e.k0s(),e.j41(49,"mat-option",21),e.EFF(50," Is Between Hours "),e.k0s(),e.j41(51,"mat-option",22),e.EFF(52," Between Dates "),e.k0s(),e.j41(53,"mat-option",23),e.EFF(54,"Resources"),e.k0s()(),e.j41(55,"mat-error"),e.EFF(56,"A valid zone is required"),e.k0s()()(),e.DNE(57,K,4,1,"div",24)(58,F,4,0,"div",24)(59,P,3,2,"div",25)(60,$,8,2,"div",24)(61,y,8,2,"div",24)(62,I,6,8,"div",24)(63,te,12,9,"div",24)(64,R,4,1,"div",24),e.k0s()),2&fe&&(e.Y8G("formGroup",Me.form),e.R7$(12),e.Y8G("ngForOf",e.bMT(13,13,Me.building_zones)),e.R7$(19),e.Y8G("ngIf",!Me.form.value.rules.hidden),e.R7$(5),e.R50("ngModel",Me.available_conditions),e.Y8G("ngModelOptions",e.lJ4(15,O)),e.R7$(21),e.Y8G("ngIf",Me.available_conditions.includes("groups")),e.R7$(),e.Y8G("ngIf",Me.available_conditions.includes("locations")),e.R7$(),e.Y8G("ngIf",Me.available_conditions.includes("min_length")||Me.available_conditions.includes("max_length")),e.R7$(),e.Y8G("ngIf",Me.available_conditions.includes("is_before")),e.R7$(),e.Y8G("ngIf",Me.available_conditions.includes("is_after")),e.R7$(),e.Y8G("ngIf",Me.available_conditions.includes("is_period")),e.R7$(),e.Y8G("ngIf",Me.available_conditions.includes("is_between")),e.R7$(),e.Y8G("ngIf",Me.available_conditions.includes("resource_ids")))},styles:["[_nghost-%COMP%]{display:block;padding:.5rem}"]})}return k})()},5507:(Mt,pe,a)=>{"use strict";a.d(pe,{s:()=>b});var e=a(3953),i=a(9417),d=a(177),p=a(6600),m=a(9434),_=a(2897);function g(u,S){if(1&u&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&u){const D=e.XpG();e.R7$(),e.SpI(" ",(D.render_fn?D.render_fn(D.value):D.value)||"0"," ")}}let b=(()=>{class u{constructor(){this.step=1,this.max=999,this.min=0,this.focused=!1}add(){this.value||(this.value=this.min||0),this.value+=this.ctrl_key?100*this.step:this.shift_key?10*this.step:this.step||1,this.value>this.max&&(this.value=this.max||10),this.setValue(this.value)}remove(){this.value||(this.value=this.min||0),this.value-=this.ctrl_key?100*this.step:this.shift_key?10*this.step:this.step||1,this.value<this.min&&(this.value=this.min||0),this.setValue(this.value)}setValue(D){D<this.min&&(D=this.min),D>this.max&&(D=this.max),D/this.step%1!=0&&(D=Math.round(D*(1/this.step))/(1/this.step)),this.value=D,this._onChange&&this._onChange(D)}writeValue(D){this.value=D}registerOnChange(D){this._onChange=D}registerOnTouched(D){this._onTouch=D}static#e=this.\u0275fac=function(E){return new(E||u)};static#t=this.\u0275cmp=e.VBU({type:u,selectors:[["a-counter"]],inputs:{step:"step",max:"max",min:"min",render_fn:"render_fn"},features:[e.Jv_([{provide:i.kq,useExisting:(0,e.Rfq)(()=>u),multi:!0}])],decls:10,vars:4,consts:[["counter","",1,"flex","items-center","text-base","space-x-2","p-2",3,"keydown.shift","keydown.control","keydown.meta","keyup.shift","keyup.control","keyup.meta"],["decrease","","icon","","matRipple","","type","button",1,"border","border-error","text-error","rounded","h-10","w-10",3,"click","disabled"],["value","",1,"relative","p-1","flex","items-center","justify-center","w-16","h-10","rounded","border","border-base-300"],[4,"ngIf"],["type","text","limitInput","",1,"absolute","inset-0","opacity-0","focus:opacity-100","p-2",3,"ngModelChange","focus","blur","ngModel"],["increase","","icon","","matRipple","","type","button",1,"border","border-success","text-success","rounded","h-10","w-10",3,"click","disabled"]],template:function(E,A){1&E&&(e.j41(0,"div",0),e.bIt("keydown.shift",function(){return A.shift_key=!0},!1,e.tSv)("keydown.control",function(){return A.ctrl_key=!0},!1,e.tSv)("keydown.meta",function(){return A.ctrl_key=!0},!1,e.tSv)("keyup.shift",function(){return A.shift_key=!1},!1,e.tSv)("keyup.control",function(){return A.ctrl_key=!1},!1,e.tSv)("keyup.meta",function(){return A.ctrl_key=!1},!1,e.tSv),e.j41(1,"button",1),e.bIt("click",function(){return A.remove()}),e.j41(2,"app-icon"),e.EFF(3,"remove"),e.k0s()(),e.j41(4,"div",2),e.DNE(5,g,2,1,"span",3),e.j41(6,"input",4),e.mxI("ngModelChange",function(O){return e.DH7(A.value,O)||(A.value=O),O}),e.bIt("focus",function(){return A.focused=!0})("blur",function(){return A.setValue(+A.value),A.focused=!1}),e.k0s()(),e.j41(7,"button",5),e.bIt("click",function(){return A.add()}),e.j41(8,"app-icon"),e.EFF(9,"add"),e.k0s()()()),2&E&&(e.R7$(),e.Y8G("disabled",!A.value||A.value===A.min),e.R7$(4),e.Y8G("ngIf",!A.focused),e.R7$(),e.R50("ngModel",A.value),e.R7$(),e.Y8G("disabled",A.value===A.max))},dependencies:[d.bT,i.me,i.BC,i.vS,p.r6,m.R,_.B]})}return u})()},9058:(Mt,pe,a)=>{"use strict";a.d(pe,{I:()=>K});var e=a(3953),i=a(9417),d=a(7375),p=a(3601),m=a(1406),_=a(5458),g=a(7793),b=a(9497),u=a(9255),S=a(7518),D=a(906),E=a(177),A=a(6600),v=a(9434);function O(F,H){if(1&F&&(e.j41(0,"div",10),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&F){const Y=H.$implicit;e.R7$(),e.SpI(" ",e.i5U(2,1,null==Y?null:Y.id,"EE")," ")}}function z(F,H){1&F&&e.nrm(0,"div",14)}function G(F,H){if(1&F){const Y=e.RV6();e.j41(0,"button",11),e.bIt("click",function(){const U=e.eBV(Y).$implicit,$=e.XpG();return e.Njj($.setValue(U.id))}),e.EFF(1),e.nI1(2,"date"),e.DNE(3,z,1,0,"div",12),e.nrm(4,"div",13),e.k0s()}if(2&F){const Y=H.$implicit,P=e.XpG();e.AVh("hover:bg-base-100",Y.id!==P.active_date)("!text-base-300",!Y.is_month)("text-secondary-content",Y.id===P.active_date)("text-base-content",Y.id!==P.active_date)("bg-secondary",Y.id===P.active_date)("font-normal",Y.id!==P.active_date),e.Y8G("disabled",Y.id<P.from||Y.id>P.to),e.R7$(),e.SpI(" ",e.i5U(2,15,Y.id,"d")," "),e.R7$(2),e.Y8G("ngIf",P.today===Y.id)}}let K=(()=>{class F extends d.Tv{constructor(Y){super(),this._settings=Y,this.from=0,this.to=10*Date.now(),this.offset_weekday=0,this.today=(0,p.o)(Date.now()).valueOf(),this.date=Date.now(),this.active_date=(0,p.o)(Date.now()).valueOf(),this.offset=0,this.date_list=[],this.registerOnChange=P=>this._onChange=P,this.registerOnTouched=P=>this._onTouch=P}ngOnInit(){this.generateDates()}ngOnChanges(Y){Y.offset_weekday&&this.generateDates()}setValue(Y){if(Y<this.from||Y>=this.to)return;const P=new Date(Y);this.date=(0,m.h)(this.date,{date:P.getDate(),month:P.getMonth(),year:P.getFullYear()}).valueOf(),this.active_date=(0,p.o)(this.date).valueOf(),this._onChange&&this._onChange(Y)}writeValue(Y){this.date=Y,this.active_date=(0,p.o)(Y).valueOf(),this.offset=0,this.generateDates()}changeMonth(Y){this.offset+=Y,this.generateDates()}generateDates(){const Y=this._settings.get("app.week_start")||this.offset_weekday,P=(0,_.P)(this.date,this.offset);let U=(0,g.k)((0,b.w)(P),{weekStartsOn:Y});const $=(0,p.o)(Date.now()),B=[];for(;B.length<42;)B.push({id:U.valueOf(),is_past:(0,u.Y)(U,$),is_month:(0,S.t)(U,P)}),U=(0,D.f)(U,1);this.date_list=B}static#e=this.\u0275fac=function(P){return new(P||F)(e.rXU(d.h$))};static#t=this.\u0275cmp=e.VBU({type:F,selectors:[["date-calendar"]],inputs:{from:"from",to:"to",offset_weekday:"offset_weekday"},features:[e.Jv_([{provide:i.kq,useExisting:(0,e.Rfq)(()=>F),multi:!0}]),e.Vt3,e.OA$],decls:17,vars:12,consts:[[1,"p-2"],[1,"flex","items-center","justify-between"],[1,"pl-1.5","pr-2","font-medium"],[1,"flex","items-center"],["icon","","matRipple","","name","schedule-next-month",3,"click","disabled"],["icon","","matRipple","","name","schedule-previous-month",3,"click","disabled"],[1,"flex","items-center","text-sm","mb-2","pb-2","border-b","border-base-200"],["class","flex-1 opacity-60 text-center",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","flex-wrap"],["icon","","name","schedule-set-date","class","min-w-[14%] w-9 h-9 relative overflow-visible my-0.5",3,"hover:bg-base-100","!text-base-300","text-secondary-content","text-base-content","bg-secondary","font-normal","disabled","click",4,"ngFor","ngForOf"],[1,"flex-1","opacity-60","text-center"],["icon","","name","schedule-set-date",1,"min-w-[14%]","w-9","h-9","relative","overflow-visible","my-0.5",3,"click","disabled"],["class","absolute -inset-[2px] border border-secondary rounded-full overflow-hidden","matRipple","",4,"ngIf"],["matRipple","",1,"absolute","inset-0","overflow-hidden","rounded-full"],["matRipple","",1,"absolute","-inset-[2px]","border","border-secondary","rounded-full","overflow-hidden"]],template:function(P,U){1&P&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.EFF(3),e.nI1(4,"date"),e.k0s(),e.j41(5,"div",3)(6,"button",4),e.bIt("click",function(){return U.changeMonth(-1)}),e.j41(7,"app-icon"),e.EFF(8,"chevron_left"),e.k0s()(),e.j41(9,"button",5),e.bIt("click",function(){return U.changeMonth(1)}),e.j41(10,"app-icon"),e.EFF(11,"chevron_right"),e.k0s()()()(),e.j41(12,"div",6),e.DNE(13,O,3,4,"div",7),e.nI1(14,"slice"),e.k0s(),e.j41(15,"div",8),e.DNE(16,G,5,18,"button",9),e.k0s()()),2&P&&(e.R7$(3),e.SpI(" ",e.i5U(4,5,(null==U.date_list[6]?null:U.date_list[6].id)||U.date,"LLLL YYYY")," "),e.R7$(3),e.Y8G("disabled",(null==U.date_list[0]?null:U.date_list[0].id)<U.from),e.R7$(3),e.Y8G("disabled",(null==U.date_list[34]?null:U.date_list[34].id)>U.to),e.R7$(4),e.Y8G("ngForOf",e.brH(14,8,U.date_list,0,7)),e.R7$(3),e.Y8G("ngForOf",U.date_list))},dependencies:[E.Sq,E.bT,A.r6,v.R,E.P9,E.vh]})}return F})()},9608:(Mt,pe,a)=>{"use strict";a.d(pe,{G:()=>Y});var e=a(3953),i=a(9417),d=a(2238),p=a(3601),m=a(4512),_=a(6299),g=a(1406),b=a(5354),u=a(7375),S=a(177);const D=["*"];function E(P,U){if(1&P&&(e.EFF(0),e.nI1(1,"date")),2&P){const $=e.XpG();e.SpI(" ",e.i5U(1,1,$.date,$.date_format)," ")}}function A(P,U){1&P&&(e.j41(0,"span",4),e.EFF(1,"No Date Selected"),e.k0s())}function v(P,U){if(1&P&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&P){const $=e.XpG(2);e.R7$(),e.JRh($.start_of_day)}}function O(P,U){1&P&&(e.j41(0,"span"),e.EFF(1," - "),e.k0s())}function z(P,U){if(1&P&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&P){const $=e.XpG(2);e.R7$(),e.JRh($.end_of_day)}}function G(P,U){if(1&P&&(e.j41(0,"div",9),e.DNE(1,v,2,1,"span",8)(2,O,2,0,"span",8)(3,z,2,1,"span",8),e.k0s()),2&P){const $=e.XpG();e.R7$(),e.Y8G("ngIf",2!==$.range),e.R7$(),e.Y8G("ngIf",0===$.range),e.R7$(),e.Y8G("ngIf",1!==$.range)}}function K(P,U){1&P&&(e.j41(0,"span"),e.SdG(1),e.k0s())}function F(P,U){if(1&P){const $=e.RV6();e.j41(0,"div",10)(1,"date-calendar",11),e.bIt("ngModelChange",function(y){e.eBV($);const I=e.XpG();return e.Njj(I.setValue(y))}),e.k0s()()}if(2&P){const $=e.XpG();e.R7$(),e.Y8G("ngModel",$.date||$.now)("from",$.from)("to",$.until)("offset_weekday",$.week_start)}}var H=function(P){return P[P.Both=0]="Both",P[P.Start=1]="Start",P[P.End=2]="End",P}(H||{});let Y=(()=>{class P extends b.T{get date_format(){return this.short?"MMM d, yyyy":"MMMM d, yyyy"}get time_format(){return this.use_24hr?"HH : mm":"h : mm a"}get start_of_day(){const $=(0,p.o)(this.date).valueOf();return this._date_pipe.transform($,`MMM d, ${this.time_format}${1===this.range?" (z)":""}`,this.tz)}get end_of_day(){const $=(0,m.D)(this.date).valueOf();return this._date_pipe.transform($,`MMM d, ${this.time_format}${1===this.range?" (z)":""}`,this.tz)}get has_error(){return this._control?.invalid&&this._control?.touched}get tz(){const $=this.timezone;return $?(0,u.GF)($):""}constructor($){super(),this._injector=$,this.from_date=(0,p.o)(Date.now()).valueOf(),this.week_start=0,this.use_24hr=!1,this.short=!1,this.timezone="",this.range=H.Both,this.now=Date.now(),this._date_pipe=new S.vh("en")}get from(){return new Date(this.from_date)||(0,p.o)(new Date)}get until(){return new Date(this.to_date)||(0,_.e)((0,m.D)(new Date),1)}ngOnInit(){this._control=this._injector.get(i.vO),this.date=Date.now()}setValue($){const B=new Date(this.date);let y=(0,g.h)($,{hours:B.getHours(),minutes:B.getMinutes()}).valueOf();y<this.from.valueOf()&&(y=this.from.valueOf()),this.date=y,this._onChange&&this._onChange(y),this._tooltip?.close()}writeValue($){this.date=$,this._tooltip?.close()}registerOnChange($){this._onChange=$}registerOnTouched($){this._onTouch=$}setDisabledState($){this.disabled=$}static#e=this.\u0275fac=function(B){return new(B||P)(e.rXU(e.zZn))};static#t=this.\u0275cmp=e.VBU({type:P,selectors:[["a-date-field"]],viewQuery:function(B,y){if(1&B&&e.GBs(d.I,5),2&B){let I;e.mGM(I=e.lsd())&&(y._tooltip=I.first)}},inputs:{from_date:[0,"from","from_date"],to_date:[0,"to","to_date"],week_start:"week_start",use_24hr:"use_24hr",disabled:"disabled",short:"short",timezone:"timezone",range:"range"},features:[e.Jv_([{provide:i.kq,useExisting:(0,e.Rfq)(()=>P),multi:!0}]),e.Vt3],ngContentSelectors:D,decls:13,vars:7,consts:[["calendar_picker",""],["customTooltip","","yPosition","top","matRipple","",1,"flex","items-center","justify-between","border","border-neutral","rounded","h-12","w-full",3,"content","disabled"],[1,"flex","flex-col","px-4","py-2","flex-1","truncate","w-1/2","text-left","leading-tight"],[1,"font-normal","text-base"],[1,"opacity-30"],["class","text-xs opacity-30 truncate",4,"ngIf"],[1,"h-10","w-10","flex","items-center","justify-center","text-2xl"],[1,"error","h-5","p-1","text-xs","text-error"],[4,"ngIf"],[1,"text-xs","opacity-30","truncate"],[1,"relative","w-[18rem]","rounded","bg-base-100","px-2","py-4"],[3,"ngModelChange","ngModel","from","to","offset_weekday"]],template:function(B,y){if(1&B&&(e.NAR(),e.j41(0,"button",1)(1,"div",2)(2,"div",3),e.DNE(3,E,2,4)(4,A,2,0,"span",4),e.k0s(),e.DNE(5,G,4,3,"div",5),e.k0s(),e.j41(6,"div",6)(7,"app-icon"),e.EFF(8,"today"),e.k0s()()(),e.j41(9,"div",7),e.DNE(10,K,2,0,"span",8),e.k0s(),e.DNE(11,F,2,4,"ng-template",null,0,e.C5r)),2&B){const I=e.sdS(12);e.AVh("opacity-30",y.disabled),e.Y8G("content",I)("disabled",y.disabled),e.R7$(3),e.vxM(y.date?3:4),e.R7$(2),e.Y8G("ngIf",y.timezone),e.R7$(5),e.Y8G("ngIf",y.has_error)}}})}return P})()},5472:(Mt,pe,a)=>{"use strict";a.d(pe,{T:()=>D});var e=a(9417),i=a(7375),d=a(6815),p=a(3601),m=a(3953);const _=["startDate"],g=["endDate"],b=[[["input","startDate",""]],[["input","endDate",""]]],u=["input[startDate]","input[endDate]"];function S(E,A){if(1&E){const v=m.RV6();m.j41(0,"div",5)(1,"date-range-calendar",6),m.bIt("startChange",function(z){m.eBV(v);const G=m.XpG();return m.Njj(G.setStartDate(z))})("endChange",function(z){m.eBV(v);const G=m.XpG();return m.Njj(G.setEndDate(z))}),m.k0s()()}if(2&E){const v=m.XpG();m.R7$(),m.Y8G("month",(null==v.start_date||null==v.start_date.control?null:v.start_date.control.value)||v.now)("from",v.from)("to",v.until)("offset_weekday",v.week_start)}}let D=(()=>{class E extends i.Tv{constructor(){super(...arguments),this.from_date=(0,p.o)(Date.now()).valueOf(),this.week_start=0,this.disabled=!1,this.short=!1,this.now=Date.now()}setStartDate(v){this.start_date&&this.start_date.control.setValue(v)}setEndDate(v){this._tooltip?.close(),this.end_date&&this.end_date.control.setValue(v)}static#e=this.\u0275fac=(()=>{let v;return function(z){return(v||(v=m.xGo(E)))(z||E)}})();static#t=this.\u0275cmp=m.VBU({type:E,selectors:[["date-range-field"]],contentQueries:function(O,z,G){if(1&O&&(m.wni(G,_,5,e.vO),m.wni(G,g,5,e.vO)),2&O){let K;m.mGM(K=m.lsd())&&(z.start_date=K.first),m.mGM(K=m.lsd())&&(z.end_date=K.first)}},viewQuery:function(O,z){if(1&O&&m.GBs(d.In,5),2&O){let G;m.mGM(G=m.lsd())&&(z._tooltip=G.first)}},inputs:{from_date:[0,"from","from_date"],to_date:[0,"to","to_date"],week_start:"week_start",disabled:"disabled",short:"short"},features:[m.Vt3],ngContentSelectors:u,decls:16,vars:12,consts:[["calendar_picker",""],["matRipple","","type","button","role","date-picker","customTooltip","","yPosition","top",1,"flex","items-center","rounded","px-4","py-2","border","border-neutral","hover:border-base-content","focus:outline-2","outline-base-content","space-x-2","min-w-max",3,"content","disabled"],[1,"flex-1","whitespace-nowrap"],[1,"text-2xl"],[1,"hidden"],[1,"relative","w-[18.25rem]","rounded","bg-base-100","px-2","py-4"],[3,"startChange","endChange","month","from","to","offset_weekday"]],template:function(O,z){if(1&O&&(m.NAR(b),m.j41(0,"button",1)(1,"div",2),m.EFF(2),m.nI1(3,"date"),m.k0s(),m.j41(4,"div"),m.EFF(5,"\u2013"),m.k0s(),m.j41(6,"div",2),m.EFF(7),m.nI1(8,"date"),m.k0s(),m.j41(9,"app-icon",3),m.EFF(10,"today"),m.k0s()(),m.j41(11,"div",4),m.SdG(12),m.SdG(13,1),m.k0s(),m.DNE(14,S,2,4,"ng-template",null,0,m.C5r)),2&O){const G=m.sdS(15);m.AVh("opacity-30",z.disabled),m.Y8G("content",G)("disabled",z.disabled),m.R7$(2),m.SpI(" ",m.i5U(3,6,(null==z.start_date?null:z.start_date.value)||z.now,"MMM d, yyyy")," "),m.R7$(5),m.SpI(" ",m.i5U(8,9,(null==z.end_date?null:z.end_date.value)||z.now,"MMM d, yyyy")," ")}}})}return E})()},3476:(Mt,pe,a)=>{"use strict";a.d(pe,{y:()=>G});var e=a(3953),i=a(9417),d=a(7375),p=a(7926),m=a(2659),_=a(177),g=a(6600),b=a(3719),u=a(9434),S=a(9115);const D=["*"];function E(K,F){if(1&K&&(e.j41(0,"div",8),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&K){const H=e.XpG();e.R7$(),e.SpI(" ",e.brH(2,1,null==H.selected?null:H.selected.date,H.time_format+" (z)",H.tz)," ")}}function A(K,F){if(1&K&&(e.j41(0,"div",8),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&K){const H=e.XpG(2).$implicit,Y=e.XpG();e.R7$(),e.SpI(" ",e.brH(2,1,H.date,Y.time_format+" (z)",Y.tz)," ")}}function v(K,F){if(1&K&&(e.qex(0),e.j41(1,"div",13)(2,"div",3),e.EFF(3),e.nI1(4,"date"),e.k0s(),e.DNE(5,A,3,5,"div",4),e.k0s(),e.bVm()),2&K){const H=e.XpG().$implicit,Y=e.XpG();e.R7$(3),e.E5c(" ",H.date?e.i5U(4,4,H.date,H.id>=1440?"mediumDate":Y.time_format)+" (":"","",H.name,"",H.date?")":""," "),e.R7$(2),e.Y8G("ngIf",Y.timezone)}}function O(K,F){1&K&&(e.j41(0,"app-icon",14),e.EFF(1," done "),e.k0s())}function z(K,F){if(1&K){const H=e.RV6();e.j41(0,"button",9),e.bIt("click",function(){const P=e.eBV(H).$implicit,U=e.XpG();return e.Njj(U.setValue(P.id))}),e.j41(1,"div",10),e.DNE(2,v,6,7,"ng-container",11),e.j41(3,"div"),e.EFF(4),e.k0s(),e.DNE(5,O,2,0,"app-icon",12),e.k0s()()}if(2&K){const H=F.$implicit,Y=e.XpG();e.R7$(2),e.Y8G("ngIf",!Y.force),e.R7$(2),e.JRh(Y.force),e.R7$(),e.Y8G("ngIf",(null==Y.selected?null:Y.selected.id)===H.id)}}let G=(()=>{class K{constructor(){this.max=240,this.min=30,this.step=15,this.custom_options=[],this.use_24hr=!1,this.timezone="",this.duration=60,this.duration_options=[]}get time_format(){return this.use_24hr?"HH : mm":"h : mm a"}get selected(){return this.duration_options.find(H=>H.id===this.duration)}get tz(){const H=this.timezone;return H?(0,d.GF)(H):""}ngOnInit(){this.duration_options=this.generateDurationOptions(this.max,this.min,this.step),this._updateOption()}ngOnChanges(H){(H.max||H.min||H.step||H.time||H.custom_options)&&(this.duration_options=this.generateDurationOptions(this.max,this.min,this.step),this._updateOption())}setValue(H){this.duration=H,this._onChange&&this._onChange(+H)}writeValue(H){this.duration=H,this._updateOption()}setDisabledState(H){this.disabled=H}registerOnChange(H){this._onChange=H}registerOnTouched(H){this._onTouch=H}generateDurationOptions(H,Y,P){const U=[];let $=Y;const B=this.time?this.time:null;for(const y of this.custom_options)U.push({id:y,date:B?(0,p.z)(B,y).valueOf():void 0,name:y>=1440?`${(0,m.a)({days:Math.floor(y/1440)})}`:`${(0,m.a)({hours:Math.floor(y/60),minutes:y%60})}`});for(;$<=H;)U.push({id:$,date:B?(0,p.z)(B,$).valueOf():void 0,name:0===$?(0,m.a)({minutes:0},{zero:!0}):$>=1440?`${(0,m.a)({days:Math.floor($/1440)})}`:`${(0,m.a)({hours:Math.floor($/60),minutes:$%60})}`}),$+=P;return U.sort((y,I)=>y.id-I.id),U}_updateOption(){this.duration_options?.length&&this.duration_options.findIndex(Y=>Y.id===this.duration)<0&&this.setValue(this.min)}static#e=this.\u0275fac=function(Y){return new(Y||K)};static#t=this.\u0275cmp=e.VBU({type:K,selectors:[["a-duration-field"]],inputs:{max:"max",min:"min",step:"step",time:"time",disabled:"disabled",custom_options:"custom_options",force:"force",use_24hr:"use_24hr",timezone:"timezone"},features:[e.Jv_([{provide:i.kq,useExisting:(0,e.Rfq)(()=>K),multi:!0}]),e.OA$],ngContentSelectors:D,decls:13,vars:12,consts:[["menu","matMenu"],["matRipple","",1,"flex","items-center","justify-between","border","border-neutral","rounded","h-12","w-full","px-2",3,"disabled","matMenuTriggerFor"],[1,"flex","flex-col","leading-tight","px-2","text-left","flex-1","w-1/2"],[1,"truncate"],["class","text-xs opacity-30 truncate",4,"ngIf"],[1,"text-2xl"],[1,"max-h-[15rem]","min-w-[18rem]"],["mat-menu-item","","class","text-left",3,"click",4,"ngFor","ngForOf"],[1,"text-xs","opacity-30","truncate"],["mat-menu-item","",1,"text-left",3,"click"],[1,"flex","items-center","justify-between"],[4,"ngIf"],["class","text-2xl ml-2",4,"ngIf"],[1,"flex","flex-col","leading-tight"],[1,"text-2xl","ml-2"]],template:function(Y,P){if(1&Y&&(e.NAR(),e.j41(0,"button",1)(1,"div",2)(2,"div",3),e.EFF(3),e.nI1(4,"date"),e.k0s(),e.DNE(5,E,3,5,"div",4),e.k0s(),e.j41(6,"app-icon",5),e.EFF(7,"arrow_drop_down"),e.k0s()(),e.j41(8,"mat-menu",6,0),e.DNE(10,z,6,3,"button",7),e.k0s(),e.j41(11,"mat-error"),e.SdG(12),e.k0s()),2&Y){const U=e.sdS(9);e.AVh("opacity-30",P.disabled),e.Y8G("disabled",P.disabled)("matMenuTriggerFor",U),e.R7$(3),e.E5c(" ",null!=P.selected&&P.selected.date?e.i5U(4,9,null==P.selected?null:P.selected.date,P.selected.id>=1440?"mediumDate":P.time_format)+" (":"","",null==P.selected?null:P.selected.name,"",null!=P.selected&&P.selected.date?")":""," "),e.R7$(2),e.Y8G("ngIf",P.timezone),e.R7$(5),e.Y8G("ngForOf",P.duration_options)}},dependencies:[_.Sq,_.bT,g.r6,b.TL,u.R,S.kk,S.fb,S.Cp,_.vh],styles:["[_nghost-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]{width:100%}"]})}return K})()},481:(Mt,pe,a)=>{"use strict";a.d(pe,{c:()=>at});var e=a(177),i=a(9417),d=a(3801),p=a(6471),m=a(6600),_=a(3719),g=a(9631),b=a(2798),u=a(850),S=a(4823),D=a(2765),E=a(5951),A=a(4558),v=a(3953),O=a(9434);a(5507);var F=a(9608),H=a(3476),P=(a(1413),a(840)),U=a(8e3),$=a(212),L=(a(7375),a(1604),a(2727),a(285),a(9183)),lt=a(4809),Ot=a(2597),vt=(a(744),a(6864)),Ce=(a(3138),a(2756)),be=a(8791),ue=a(9058),me=a(3683),$e=a(467),Et=a(3693),Ve=a(9596);const st=[],ht=new Et.Gp;let Vt=(()=>{class ct{transform(Qe){return(0,$e.A)(function*(){if(!Qe)return ht;let Bt=st.find(({id:Xt,email:Be})=>Xt===Qe||Be===Qe);return Bt||(Bt=yield(0,Ve.VLL)(Qe).toPromise().catch(()=>null),Bt?(Bt=new Et.Gp(Bt),st.push(Bt),Bt):ht)})()}static#e=this.\u0275fac=function(Bt){return new(Bt||ct)};static#t=this.\u0275pipe=v.EJ8({name:"placeuser",type:ct,pure:!0})}return ct})();var qe=a(5472),gt=a(3601),ot=a(5818),ae=a(5458),Oe=a(7793),Le=a(9497),Pe=a(906),_t=a(9255),Gt=a(9824),Kt=a(7518),vn=a(4512);function Ft(ct,Xe){if(1&ct&&(v.j41(0,"div",8),v.EFF(1),v.nI1(2,"date"),v.k0s()),2&ct){const Qe=Xe.$implicit;v.R7$(),v.SpI(" ",v.i5U(2,1,Qe,"EEE")," ")}}function _n(ct,Xe){1&ct&&v.nrm(0,"div",16)}function ft(ct,Xe){1&ct&&v.nrm(0,"div",17)}function pt(ct,Xe){1&ct&&v.nrm(0,"div",18)}function $t(ct,Xe){1&ct&&v.nrm(0,"div",19)}function kt(ct,Xe){1&ct&&v.nrm(0,"div",20)}function dn(ct,Xe){if(1&ct){const Qe=v.RV6();v.j41(0,"button",9),v.bIt("click",function(){const Xt=v.eBV(Qe).$implicit,Be=v.XpG();return v.Njj(Be.selectDate(Xt.id))})("mouseenter",function(){const Xt=v.eBV(Qe).$implicit,Be=v.XpG();return v.Njj(Be.setHoveredDate(Xt.id))}),v.DNE(1,_n,1,0,"div",10)(2,ft,1,0,"div",11)(3,pt,1,0,"div",12)(4,$t,1,0,"div",13),v.j41(5,"div",14),v.EFF(6),v.nI1(7,"date"),v.k0s(),v.DNE(8,kt,1,0,"div",15),v.k0s()}if(2&ct){const Qe=Xe.$implicit,Bt=v.XpG();v.AVh("text-secondary-content",Qe.is_start||Qe.is_end),v.Y8G("disabled",Qe.disabled),v.R7$(),v.Y8G("ngIf",Qe.is_selected&&!Qe.is_start&&!Qe.is_end),v.R7$(),v.Y8G("ngIf",Qe.is_start&&Bt.end_after_start),v.R7$(),v.Y8G("ngIf",Qe.is_end&&Bt.end_after_start),v.R7$(),v.Y8G("ngIf",Qe.is_start||Qe.is_end),v.R7$(),v.AVh("opacity-30",!Qe.is_month),v.R7$(),v.SpI(" ",v.i5U(7,11,Qe.id,"d")," "),v.R7$(2),v.Y8G("ngIf",Qe.is_today)}}let pn=(()=>{class ct{constructor(){this.from_date=(0,gt.o)(Date.now()).valueOf(),this.offset_weekday=0,this.month=(0,gt.o)(Date.now()).valueOf(),this.startChange=new v.bkB,this.endChange=new v.bkB,this.hovered_date=null,this.weekdays=[],this.month_days=[]}get end_after_start(){return this.end&&this.end>this.start&&!(0,ot.r)(this.end,this.start)}ngOnInit(){this._setWeekdays(),this._setMonthDays()}ngOnChanges(Qe){Qe.offset_weekday&&(this._setWeekdays(),this._setMonthDays()),Qe.start&&(this._setMonthDays(),this.month=this.start||Date.now()),Qe.month&&this._setMonthDays(),Qe.end&&this._setMonthDays()}selectDate(Qe){!this.start||Qe<this.start?(this.start=Qe,this.startChange.emit(Qe)):(this.end=Qe,this.endChange.emit(Qe)),this._setMonthDays()}setHoveredDate(Qe){this.start&&(this.end=Qe,this._setMonthDays())}trackByFn(Qe,Bt){return Bt.id}nextMonth(){this.month=(0,ae.P)(this.month,1).valueOf(),this._setMonthDays()}previousMonth(){this.month=(0,ae.P)(this.month,-1).valueOf(),this._setMonthDays()}_setMonthDays(){const Qe=(0,Oe.k)((0,Le.w)(this.month),{weekStartsOn:this.offset_weekday});this.month_days=Array.from(Array(42).keys()).map(Bt=>{const Xt=(0,Pe.f)(Qe,Bt).valueOf();return{id:Xt,disabled:this.from_date&&(0,_t.Y)(Xt,this.from_date)||this.to_date&&(0,Gt.d)(Xt,this.to_date),is_today:(0,ot.r)(Xt,Date.now()),is_start:(0,ot.r)(Xt,this.start),is_end:(0,ot.r)(Xt,this.end),is_month:(0,Kt.t)(Xt,this.month),is_selected:this.end&&Xt>=(0,gt.o)(this.start).valueOf()&&Xt<=(0,vn.D)(this.end).valueOf()}})}_setWeekdays(){const Qe=(0,Oe.k)(Date.now(),{weekStartsOn:this.offset_weekday});this.weekdays=Array.from(Array(7).keys()).map(Bt=>(0,Pe.f)(Qe,Bt))}static#e=this.\u0275fac=function(Bt){return new(Bt||ct)};static#t=this.\u0275cmp=v.VBU({type:ct,selectors:[["date-range-calendar"]],inputs:{from_date:[0,"from","from_date"],to_date:[0,"to","to_date"],offset_weekday:"offset_weekday",start:"start",end:"end",month:"month"},outputs:{startChange:"startChange",endChange:"endChange"},features:[v.OA$],decls:15,vars:7,consts:[[1,"flex","items-center","justify-between"],["month","",1,"font-medium","px-2"],[1,"flex","items-center","space-x-2"],["icon","","matRipple","",3,"click"],[1,"grid","grid-cols-7","grid-rows-7","gap-1","w-[17.25rem]","h-[17.25rem]"],[1,"col-span-full","grid","grid-cols-7","border-b","border-base-200"],["weekday","","class","relative flex items-center justify-center text-sm opacity-60",4,"ngFor","ngForOf"],["class","relative h-9 w-9 hover:bg-base-200 rounded-full",3,"text-secondary-content","disabled","click","mouseenter",4,"ngFor","ngForOf","ngForTrackBy"],["weekday","",1,"relative","flex","items-center","justify-center","text-sm","opacity-60"],[1,"relative","h-9","w-9","hover:bg-base-200","rounded-full",3,"click","mouseenter","disabled"],["class","absolute inset-y-0 -inset-x-0.5 border-y border-base-content border-dashed bg-base-200",4,"ngIf"],["class","absolute inset-y-0 -right-0.5 w-[calc(50%+2px)] border-y border-base-content border-dashed bg-base-200",4,"ngIf"],["class","absolute inset-y-0 -left-0.5 w-[calc(50%+2px)] border-y border-base-content border-dashed bg-base-200",4,"ngIf"],["class","absolute inset-0 flex items-center justify-center bg-secondary rounded-full z-10",4,"ngIf"],["matRipple","",1,"absolute","inset-0","flex","items-center","justify-center","rounded-full","z-20"],["class","absolute -inset-[3px] flex items-center justify-center border border-secondary rounded-full z-10",4,"ngIf"],[1,"absolute","inset-y-0","-inset-x-0.5","border-y","border-base-content","border-dashed","bg-base-200"],[1,"absolute","inset-y-0","-right-0.5","w-[calc(50%+2px)]","border-y","border-base-content","border-dashed","bg-base-200"],[1,"absolute","inset-y-0","-left-0.5","w-[calc(50%+2px)]","border-y","border-base-content","border-dashed","bg-base-200"],[1,"absolute","inset-0","flex","items-center","justify-center","bg-secondary","rounded-full","z-10"],[1,"absolute","-inset-[3px]","flex","items-center","justify-center","border","border-secondary","rounded-full","z-10"]],template:function(Bt,Xt){1&Bt&&(v.j41(0,"div",0)(1,"div",1),v.EFF(2),v.nI1(3,"date"),v.k0s(),v.j41(4,"div",2)(5,"button",3),v.bIt("click",function(){return Xt.previousMonth()}),v.j41(6,"app-icon"),v.EFF(7,"chevron_left"),v.k0s()(),v.j41(8,"button",3),v.bIt("click",function(){return Xt.nextMonth()}),v.j41(9,"app-icon"),v.EFF(10,"chevron_right"),v.k0s()()()(),v.j41(11,"div",4)(12,"div",5),v.DNE(13,Ft,3,4,"div",6),v.k0s(),v.DNE(14,dn,9,14,"button",7),v.k0s()),2&Bt&&(v.R7$(2),v.SpI(" ",v.i5U(3,4,Xt.month,"MMMM yyyy")," "),v.R7$(11),v.Y8G("ngForOf",Xt.weekdays),v.R7$(),v.Y8G("ngForOf",Xt.month_days)("ngForTrackBy",Xt.trackByFn))},dependencies:[e.Sq,e.bT,m.r6,O.R,e.vh]})}return ct})();var un=a(2238),an=a(5080),hn=a(3208),Sn=a(4006);let at=(()=>{class ct{static#e=this.\u0275fac=function(Bt){return new(Bt||ct)};static#t=this.\u0275mod=v.$C({type:ct});static#n=this.\u0275inj=v.G2t({imports:[e.MD,i.YN,i.X1,m.pZ,i.X1,_.RG,g.fS,b.Ve,u.jL,S.uc,D.g7,E.Wk,p.YN,d.FQ,A.h]})}return ct})();v.wjB(F.G,[e.bT,i.BC,i.vS,m.r6,O.R,un.I,ue.I],[e.vh]),v.wjB(qe.T,[m.r6,O.R,un.I,pn],[e.vh]),v.wjB(P.T,[e.Sq,e.bT,i.me,i.BC,i.vS,m.r6,_.rl,_.yw,m.wT,u.$3,u.pN,u.Vn,S.oV,p.HW,p.D7,p.Zv,p.jH,O.R,L.LG],[e.Jj,Vt]),v.wjB(U.$,[e.Sq,e.bT,i.me,i.BC,i.vS,_.rl,_.JW,_.yw,g.fg,m.wT,u.$3,u.pN,O.R,an.e,L.LG],[]),v.wjB(lt.K,[e.Sq,e.bT,i.BC,i.vS,m.r6,E.VT,E._g,O.R,hn.U],[e.Jj]),v.wjB(vt.$,[e.Sq,e.bT,m.r6,_.rl,S.oV,p.HW,p.D7,p.Zv,p.jH,O.R,hn.U,L.LG],[e.Jj]),v.wjB(be.c,[e.Sq,e.bT,i.qT,i.me,i.BC,i.cb,i.j4,i.JD,m.r6,_.rl,_.TL,g.fg,b.VO,m.wT,O.R,Sn.tx,L.LG,Ot.d,vt.$],[e.Jj]),v.wjB(Ce.Z,[e.bT,i.me,i.Q0,i.BC,i.vS,m.r6,_.rl,_.yw,g.fg,b.VO,m.wT,E.VT,E._g,O.R,Sn.tx,F.G],[]),v.wjB(me.K,[e.Sq,e.bT,i.me,i.BC,i.cb,i.vS,i.j4,i.JD,i.$R,_.rl,_.TL,g.fg,b.VO,m.wT,S.oV,D.So,F.G,H.y,$.DR],[e.Jj,e.vh])},744:(Mt,pe,a)=>{"use strict";a.d(pe,{I:()=>te});var e=a(467),i=a(3953),d=a(9417),p=a(7375),m=a(2372),_=a(3693),g=a(6576),b=a(4421),u=a(4279),S=a(7354),D=a(762),E=a(7765),A=a(3004);class O{constructor(ee){this.resultSelector=ee}call(ee,k){return k.subscribe(new z(ee,this.resultSelector))}}class z extends D.v{constructor(ee,k,J=Object.create(null)){super(ee),this.resultSelector=k,this.iterators=[],this.active=0,this.resultSelector="function"==typeof k?k:void 0}_next(ee){const k=this.iterators;(0,S.c)(ee)?k.push(new K(ee)):k.push("function"==typeof ee[E.lJ]?new G(ee[E.lJ]()):new F(this.destination,this,ee))}_complete(){const ee=this.iterators,k=ee.length;if(this.unsubscribe(),0!==k){this.active=k;for(let J=0;J<k;J++){let X=ee[J];X.stillUnsubscribed?this.destination.add(X.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const ee=this.iterators,k=ee.length,J=this.destination;for(let Me=0;Me<k;Me++){let Ze=ee[Me];if("function"==typeof Ze.hasValue&&!Ze.hasValue())return}let X=!1;const fe=[];for(let Me=0;Me<k;Me++){let Ze=ee[Me],Ct=Ze.next();if(Ze.hasCompleted()&&(X=!0),Ct.done)return void J.complete();fe.push(Ct.value)}this.resultSelector?this._tryresultSelector(fe):J.next(fe),X&&J.complete()}_tryresultSelector(ee){let k;try{k=this.resultSelector.apply(this,ee)}catch(J){return void this.destination.error(J)}this.destination.next(k)}}class G{constructor(ee){this.iterator=ee,this.nextResult=ee.next()}hasValue(){return!0}next(){const ee=this.nextResult;return this.nextResult=this.iterator.next(),ee}hasCompleted(){const ee=this.nextResult;return!(!ee||!ee.done)}}class K{constructor(ee){this.array=ee,this.index=0,this.length=0,this.length=ee.length}[E.lJ](){return this}next(ee){const k=this.index++;return k<this.length?{value:this.array[k],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class F extends A.gn{constructor(ee,k,J){super(ee),this.parent=k,this.observable=J,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[E.lJ](){return this}next(){const ee=this.buffer;return 0===ee.length&&this.isComplete?{value:null,done:!0}:{value:ee.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(ee){this.buffer.push(ee),this.parent.checkIterators()}subscribe(){return(0,A.tS)(this.observable,new A.zA(this))}}var H=a(9090),Y=a(3921),P=a(5006),U=a(8712),$=a(9493),B=a(177),y=a(3719),I=a(2798),w=a(6600);function L(R,ee){if(1&R&&(i.j41(0,"mat-option",5)(1,"div",6)(2,"div"),i.EFF(3),i.k0s(),i.j41(4,"span",7),i.EFF(5,"\xa0|\xa0"),i.k0s(),i.j41(6,"div",8),i.EFF(7),i.k0s()()()),2&R){const k=ee.$implicit;i.Y8G("value",null==k?null:k.email),i.R7$(3),i.JRh(k.name),i.R7$(4),i.JRh(null==k?null:k.email)}}function Q(R,ee){1&R&&i.eu8(0)}let te=(()=>{class R{constructor(){this.users=(0,b.of)(1).pipe((0,H.n)(()=>(0,g.CH)().pipe((0,Y.W)(k=>(0,b.of)([])))),(0,H.n)(k=>function v(...R){const ee=R[R.length-1];return"function"==typeof ee&&R.pop(),(0,u.c)(R,void 0).lift(new O(ee))}(...k.map(J=>(0,m.SZ)(J.id).pipe((0,Y.W)(X=>(0,b.of)(null)))))),(0,P.T)(k=>(0,p.Am)([(0,p.Ny)(),...k],"email")),(0,U.t)(1)),this.disabled=!1,this.registerOnChange=k=>this._onChange=k,this.registerOnTouched=k=>this._onTouch=k,this.setDisabledState=k=>this.disabled=k}setValue(k){var J=this;return(0,e.A)(function*(){const X=yield J.users.pipe((0,$.s)(1)).toPromise();J.item=X?.find(fe=>fe.email===k),J.item||(J.item=new _.KJ({email:k})),J._onChange&&J._onChange(J.item)})()}writeValue(k){this.item=k,k?.email||(this.item=(0,p.Ny)())}static#e=this.\u0275fac=function(J){return new(J||R)};static#t=this.\u0275cmp=i.VBU({type:R,selectors:[["host-select-field"]],features:[i.Jv_([{provide:d.kq,useExisting:(0,i.Rfq)(()=>R),multi:!0}])],decls:8,vars:9,consts:()=>{let k;return k=$localize`:1cdb1c4c30b26c94c19e88ecdbde0e55665504d45838187330179805553:Host is required`,[k,["appearance","outline",1,"w-full"],[3,"ngModelChange","ngModel","disabled","placeholder"],["class","leading-tight",3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"leading-tight",3,"value"],[1,"flex","flex-col"],[1,"hidden"],[1,"text-xs","opacity-60"]]},template:function(J,X){1&J&&(i.j41(0,"mat-form-field",1)(1,"mat-select",2),i.bIt("ngModelChange",function(Me){return X.setValue(Me)}),i.DNE(2,L,8,3,"mat-option",3),i.nI1(3,"async"),i.k0s(),i.j41(4,"mat-error"),i.pXf(5,0),i.k0s()(),i.DNE(6,Q,1,0,"ng-container",4),i.nI1(7,"async")),2&J&&(i.R7$(),i.Y8G("ngModel",null==X.item?null:X.item.email)("disabled",X.disabled)("placeholder",null!=X.item&&X.item.email?X.item.name||X.item.email:"Select host"),i.R7$(),i.Y8G("ngForOf",i.bMT(3,5,X.users)),i.R7$(4),i.Y8G("ngIf",i.bMT(7,7,X.users)))},dependencies:[B.Sq,B.bT,d.BC,d.vS,y.rl,y.TL,I.VO,w.wT,B.Jj]})}return R})()},6864:(Mt,pe,a)=>{"use strict";a.d(pe,{$:()=>U});var e=a(467),i=a(7336),d=a(3953),p=a(9417),m=a(9928),_=a(9714),g=a(5006),b=a(9493),u=a(7375),S=a(6821),D=a(3801),E=a(4006);const A=["image_list"],v=["file_input"];function O($,B){if(1&$){const y=d.RV6();d.j41(0,"div",17),d.nrm(1,"img",18),d.j41(2,"div",19),d.nrm(3,"div",20),d.j41(4,"div",21)(5,"button",22),d.bIt("click",function(){const w=d.eBV(y).$implicit,L=d.XpG();return d.Njj(L.copyLink(w))}),d.j41(6,"app-icon"),d.EFF(7,"link"),d.k0s()(),d.j41(8,"button",22),d.bIt("click",function(){const w=d.eBV(y).$implicit,L=d.XpG();return d.Njj(L.viewImage(w))}),d.j41(9,"app-icon"),d.EFF(10,"visibility"),d.k0s()(),d.j41(11,"button",22),d.bIt("click",function(){const w=d.eBV(y).$implicit,L=d.XpG();return d.Njj(L.removeImage(w))}),d.j41(12,"app-icon"),d.EFF(13,"close"),d.k0s()()()()()}if(2&$){const y=B.$implicit,I=d.XpG();d.xc7("transform","translate(-"+I.offset+"00%)"),d.R7$(),d.Y8G("source",y)}}function z($,B){if(1&$&&d.nrm(0,"mat-progress-spinner",27),2&$){const y=d.XpG().$implicit;d.Y8G("value",y.progress)("diameter",64)}}function G($,B){1&$&&(d.j41(0,"app-icon",28),d.EFF(1,"warning"),d.k0s())}function K($,B){1&$&&(d.j41(0,"div",29)(1,"app-icon",30),d.EFF(2,"refresh"),d.k0s()())}function F($,B){if(1&$){const y=d.RV6();d.j41(0,"div",23),d.bIt("click",function(){const w=d.eBV(y).$implicit,L=d.XpG();return d.Njj(L.retryUpload(w))}),d.DNE(1,z,1,2,"mat-progress-spinner",24)(2,G,2,0,"app-icon",25)(3,K,3,0,"div",26),d.k0s()}if(2&$){const y=B.$implicit,I=d.XpG();d.xc7("transform","translate(-"+I.offset+"00%)"),d.Y8G("matTooltip",y.error),d.R7$(),d.Y8G("ngIf",!y.error),d.R7$(),d.Y8G("ngIf",y.error),d.R7$(),d.Y8G("ngIf",y.error)}}function H($,B){if(1&$){const y=d.RV6();d.j41(0,"button",31),d.bIt("click",function(){d.eBV(y);const w=d.XpG();return d.Njj(w.offset=w.offset-1)}),d.j41(1,"app-icon"),d.EFF(2,"chevron_left"),d.k0s()()}if(2&$){const y=d.XpG();d.Y8G("disabled",0===y.offset)}}function Y($,B){if(1&$){const y=d.RV6();d.j41(0,"button",32),d.bIt("click",function(){d.eBV(y);const w=d.XpG();return d.Njj(w.offset=w.offset+1)}),d.j41(1,"app-icon"),d.EFF(2,"chevron_right"),d.k0s()()}if(2&$){const y=d.XpG();d.Y8G("disabled",y.offset>=y.length-y.view_space)}}function P($,B){if(1&$){const y=d.RV6();d.j41(0,"mat-chip-row",33),d.bIt("removed",function(){const w=d.eBV(y).$implicit,L=d.XpG();return d.Njj(L.removeImage(w))}),d.j41(1,"div",34),d.EFF(2),d.k0s(),d.j41(3,"button",35)(4,"app-icon"),d.EFF(5,"cancel"),d.k0s()()()}if(2&$){const y=B.$implicit;d.R7$(2),d.JRh(y),d.R7$(),d.BMQ("aria-label","Remove "+y)}}let U=(()=>{class $ extends u.Tv{get length(){return this.list.length+this._upload_list.getValue().length+1}constructor(y,I,w){super(),this._clipboard=y,this._uploads=I,this._dialog=w,this.list=[],this.upload_ids=new m.t([]),this._upload_list=new m.t([]),this.upload_list=this._upload_list.asObservable(),this.offset=0,this.view_space=0,this.separators=[i.KE,i.Fm],this.uploads=(0,_.zV)([this.upload_list,this.upload_ids]).pipe((0,g.T)(([L,Q])=>L.filter(te=>Q.includes(te.id)))),this.registerOnChange=L=>this._onChange=L,this.registerOnTouched=L=>this._onTouch=L}ngAfterViewInit(){this.timeout("init_view_space",()=>{const y=this._list_el.nativeElement.getBoundingClientRect();this.view_space=Math.floor(y.width/152)},100),this.subscription("upload_changes",this.upload_list.subscribe(y=>{const I=this.upload_ids.getValue();for(const w of I){const L=y.find(Q=>Q.id===w);L&&L.progress>=100&&(this.addImageUrl(L.link),this.upload_ids.next(this.upload_ids.getValue().filter(Q=>Q!==w)))}}))}copyLink(y){this._clipboard.copy(y),(0,u.uA)("Copied image URL to clipboard")}viewImage(y){this._dialog.open(S.d,{data:y})}removeImage(y){this.setValue(this.list.filter(I=>I!==y))}addImage(y){y.value&&(this.setValue((0,u.Am)([...this.list,y.value])),y.chipInput.inputElement.value="")}addImageUrl(y){this.setValue((0,u.Am)([...this.list,y]))}retryUpload(y){y.error&&(y.error=null,y.upload.resume())}uploadImages(y){var I=this;return(0,e.A)(function*(){const w=y.target;if(w?.files){const L=w.files;if(L.length){I.interval("update_status",()=>I._updateUploadHistory());for(let Q=0;Q<L.length;Q++){const te=yield I._uploads.uploadFileWithPermissions(L[Q]);I.upload_ids.next([...I.upload_ids.getValue(),te]),I._file_input.nativeElement.value=""}}}})()}setValue(y){this.list=y,this._onChange&&this._onChange(y)}writeValue(y){this.list=y||[]}_updateUploadHistory(){var y=this;return(0,e.A)(function*(){const I=y.upload_ids.getValue();if(0===I.length)return;const L=(yield y._uploads.upload_list.pipe((0,b.s)(1)).toPromise()).filter(te=>I.find(R=>R===te.id)),Q=L.filter(te=>te.progress>=100);y._upload_list.next(L),Q.forEach(te=>delete te.upload),Q.length>=I.length&&y.clearInterval("update_status")})()}static#e=this.\u0275fac=function(I){return new(I||$)(d.rXU(D.B0),d.rXU(u.CS),d.rXU(E.bZ))};static#t=this.\u0275cmp=d.VBU({type:$,selectors:[["image-list-field"]],viewQuery:function(I,w){if(1&I&&(d.GBs(A,5),d.GBs(v,5)),2&I){let L;d.mGM(L=d.lsd())&&(w._list_el=L.first),d.mGM(L=d.lsd())&&(w._file_input=L.first)}},features:[d.Jv_([{provide:p.kq,useExisting:(0,d.Rfq)(()=>$),multi:!0}]),d.Vt3],decls:19,vars:12,consts:()=>{let y,I;return y=$localize`:dc952a36d53a7092578b8706e3c6e28fd59866bf7586116958417863153:Add image via URL`,I=$localize`:3f0243e1118dafecaa05696a3dffcbfb83295f9b889671581456916004:Upload Image(s)`,[["image_list",""],["file_input",""],["chipList",""],I,["images","",1,"space-x-2","py-2","overflow-hidden","mb-2","w-full","flex","items-center","relative",3,"resize"],["image","",1,"relative","rounded","border-2","border-base-200","border-dashed","flex-shrink-0","flex","flex-col","items-center","justify-center","h-32","w-36","hover:bg-base-content/10",":bg-base-100/10","cursor-pointer"],[1,"text-4xl","opacity-60"],[1,"opacity-60"],["type","file",1,"absolute","inset-0","opacity-0","h-32","w-32","cursor-pointer",3,"change"],["image","","class","bg-center bg-cover h-32 w-36 relative rounded overflow-hidden flex-shrink-0 bg-base-200",3,"transform",4,"ngFor","ngForOf"],["image","","class","bg-center bg-cover h-32 w-36 rounded border border-base-content/10 /5 bg-base-200  flex items-center justify-center flex-shrink-0",3,"transform","matTooltip","click",4,"ngFor","ngForOf"],["icon","","matRipple","","class","absolute top-1/2 left-0 transform -translate-y-1/2 bg-base-100",3,"disabled","click",4,"ngIf"],["icon","","matRipple","","class","absolute top-1/2 right-0 transform -translate-y-1/2 bg-base-100",3,"disabled","click",4,"ngIf"],["appearance","outline",1,"w-full"],["aria-label","Image List"],[3,"removed",4,"ngFor","ngForOf"],["placeholder",y,3,"matChipInputTokenEnd","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur"],["image","",1,"bg-center","bg-cover","h-32","w-36","relative","rounded","overflow-hidden","flex-shrink-0","bg-base-200"],["auth","",1,"object-contain","absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2","z-10","pointer-events-none",3,"source"],["overlay","",1,"absolute","inset-0","text-base-100","z-20"],["bg","",1,"absolute","inset-0","opacity-0","bg-black"],["actions","",1,"absolute","top-0","left-0","right-0","flex","items-center","justify-center","space-x-2","opacity-0"],["icon","",3,"click"],["image","",1,"bg-center","bg-cover","h-32","w-36","rounded","border","border-base-content/10","/5","bg-base-200","flex","items-center","justify-center","flex-shrink-0",3,"click","matTooltip"],["mode","determinate",3,"value","diameter",4,"ngIf"],["class","text-error text-6xl",4,"ngIf"],["overlay","","class","absolute inset-0 hover:bg-base-content hover:bg-opacity-50 text-base-100 flex items-center justify-center",4,"ngIf"],["mode","determinate",3,"value","diameter"],[1,"text-error","text-6xl"],["overlay","",1,"absolute","inset-0","hover:bg-base-content","hover:bg-opacity-50","text-base-100","flex","items-center","justify-center"],[1,"text-3xl","opacity-0"],["icon","","matRipple","",1,"absolute","top-1/2","left-0","transform","-translate-y-1/2","bg-base-100",3,"click","disabled"],["icon","","matRipple","",1,"absolute","top-1/2","right-0","transform","-translate-y-1/2","bg-base-100",3,"click","disabled"],[3,"removed"],[1,"truncate","max-w-md"],["matChipRemove",""]]},template:function(I,w){if(1&I){const L=d.RV6();d.j41(0,"div",4,0),d.bIt("resize",function(){return d.eBV(L),d.Njj(w.ngAfterViewInit())},!1,d.tSv),d.j41(2,"div",5)(3,"app-icon",6),d.EFF(4,"add"),d.k0s(),d.j41(5,"p",7),d.pXf(6,3),d.k0s(),d.j41(7,"input",8,1),d.bIt("change",function(te){return d.eBV(L),d.Njj(w.uploadImages(te))}),d.k0s()(),d.DNE(9,O,14,3,"div",9)(10,F,4,6,"div",10),d.nI1(11,"async"),d.DNE(12,H,3,1,"button",11)(13,Y,3,1,"button",12),d.k0s(),d.j41(14,"mat-form-field",13)(15,"mat-chip-grid",14,2),d.DNE(17,P,6,2,"mat-chip-row",15),d.k0s(),d.j41(18,"input",16),d.bIt("matChipInputTokenEnd",function(te){return d.eBV(L),d.Njj(w.addImage(te))}),d.k0s()()}if(2&I){const L=d.sdS(16);d.R7$(2),d.xc7("transform","translate(-"+w.offset+"00%)"),d.R7$(7),d.Y8G("ngForOf",w.list),d.R7$(),d.Y8G("ngForOf",d.bMT(11,10,w.uploads)),d.R7$(2),d.Y8G("ngIf",w.length>w.view_space),d.R7$(),d.Y8G("ngIf",w.length>w.view_space),d.R7$(4),d.Y8G("ngForOf",w.list),d.R7$(),d.Y8G("matChipInputFor",L)("matChipInputSeparatorKeyCodes",w.separators)("matChipInputAddOnBlur",!0)}},styles:["[_nghost-%COMP%]{width:100%}[overlay][_ngcontent-%COMP%]{transition:background .2s}[image][_ngcontent-%COMP%]:hover   [actions][_ngcontent-%COMP%], [image][_ngcontent-%COMP%]:hover > app-icon[_ngcontent-%COMP%]{opacity:1!important}[image][_ngcontent-%COMP%]:hover   [bg][_ngcontent-%COMP%]{opacity:.4!important}[actions][_ngcontent-%COMP%], [image][_ngcontent-%COMP%] > app-icon[_ngcontent-%COMP%]{transition:opacity .2s}[image][_ngcontent-%COMP%]{transition:transform .2s}"]})}return $})()},212:(Mt,pe,a)=>{"use strict";a.d(pe,{DR:()=>D});var e=a(3953),i=a(9417),d=a(7336),p=a(177),m=a(3719),_=a(6471),g=a(9434);function b(E,A){if(1&E){const v=e.RV6();e.j41(0,"mat-chip-row",5),e.bIt("removed",function(){const z=e.eBV(v).$implicit,G=e.XpG();return e.Njj(G.remove(z))}),e.j41(1,"span",6),e.EFF(2),e.k0s(),e.j41(3,"button",7)(4,"app-icon"),e.EFF(5,"cancel"),e.k0s()()()}if(2&E){const v=A.$implicit;e.R7$(2),e.JRh(v),e.R7$(),e.BMQ("aria-label","Remove "+v)}}let D=(()=>{class E{constructor(){this.separators=[d.Fm,d.KE],this.placeholder="",this.value=[],this.add=v=>function u(E,A){if(!E)return;const v=A.input,O=A.value,z=E.value;if(O.includes(",")){const G=O.split(",");for(const K of G)(K||"").trim()&&(z.push(K.trim()),E.setValue(z))}else(O||"").trim()&&(z.push(O.trim()),E.setValue(z));v&&(v.value="")}({value:this.value,setValue:O=>this.setValue(O)},v),this.remove=v=>function S(E,A){if(!E)return;const v=E.value,O=v.indexOf(A);O>=0&&(v.splice(O,1),E.setValue(v))}({value:this.value,setValue:O=>this.setValue(O)},v)}setValue(v){this.value=v,this._onChange&&this._onChange(v)}writeValue(v){this.value=v}registerOnChange(v){this._onChange=v}registerOnTouched(v){this._onTouch=v}static#e=this.\u0275fac=function(O){return new(O||E)};static#t=this.\u0275cmp=e.VBU({type:E,selectors:[["item-list-field"]],inputs:{separators:"separators",placeholder:"placeholder"},features:[e.Jv_([{provide:i.kq,useExisting:(0,e.Rfq)(()=>E),multi:!0}])],decls:5,vars:5,consts:[["chipList",""],["appearance","outline",1,"w-full"],["aria-label","Zone Tags"],[3,"removed",4,"ngFor","ngForOf"],[3,"matChipInputTokenEnd","placeholder","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur"],[3,"removed"],[1,"truncate","max-w-md"],["matChipRemove",""]],template:function(O,z){if(1&O){const G=e.RV6();e.j41(0,"mat-form-field",1)(1,"mat-chip-grid",2,0),e.DNE(3,b,6,2,"mat-chip-row",3),e.k0s(),e.j41(4,"input",4),e.bIt("matChipInputTokenEnd",function(F){return e.eBV(G),e.Njj(z.add(F))}),e.k0s()()}if(2&O){const G=e.sdS(2);e.R7$(3),e.Y8G("ngForOf",z.value),e.R7$(),e.Y8G("placeholder",z.placeholder||"User groups...")("matChipInputFor",G)("matChipInputSeparatorKeyCodes",z.separators)("matChipInputAddOnBlur",!0)}},dependencies:[p.Sq,m.rl,_.HW,_.D7,_.Zv,_.jH,g.R]})}return E})()},3138:(Mt,pe,a)=>{"use strict";a.d(pe,{E:()=>O});var e=a(3953),i=a(9417),d=a(1105),p=a(2756),m=a(4512),_=a(906),g=a(6299),b=a(4233),u=a(4006),S=a(177),D=a(3719),E=a(2798),A=a(6600);function v(z,G){if(1&z&&(e.j41(0,"mat-option",8),e.EFF(1),e.k0s()),2&z){const K=e.XpG();e.R7$(),e.SpI(" ",K.formatted_value," ")}}let O=(()=>{class z{constructor(K,F){this._dialog=K,this._settings=F,this.date=Date.now(),this.value={pattern:"none"}}ngOnChanges(K){if(K.date&&this.date){const F=new Date(this.date).getDate(),H=Math.floor(F/7)+(F%7?1:0);this.instance_of_month=`${H}${2===H?"nd":3===H?"rd":"th"}`,(4===H&&F>=25||5===H)&&(this.instance_of_month="Last"),1===H&&(this.instance_of_month="First"),this.value={...this.value,start:this.date,days_of_week:this.value.pattern?this.value.days_of_week:[new Date(this.date).getDay()]},this.setValue(this.value)}}get formatted_value(){return(0,d.qq)(this.value)}setValue(K){this.value=K,this._onChange&&this._onChange(K)}writeValue(K){this.value=K||{}}registerOnChange(K){this._onChange=K}registerOnTouched(K){this._onTouch=K}openCustomRecurrenceModal(){this.value.pattern||(this.value.days_of_week=[new Date(this.date).getDay()]);const K=this._dialog.open(p.Z,{data:{value:this.value}});this.setValue({...this.value,_pattern:"none"}),K.afterClosed().subscribe(F=>{this.setValue({...F||this.value,_pattern:F?"custom_display":this.old_value})})}setSimple(K){const F=new Date(this.date).getDay(),H=this._settings.get("app.default_recurrence_period")||180;this.old_value=this.value._pattern,"none"===K?this.setValue({pattern:null,_pattern:"none",days_of_week:[F]}):"daily"===K||"weekly"===K||"monthly"===K?this.setValue({pattern:K,_pattern:K,start:this.date,end:(0,m.D)((0,_.f)(this.date,H)).valueOf(),days_of_week:[F],interval:1}):"yearly"===K&&this.setValue({pattern:K,_pattern:K,start:this.date,end:(0,g.e)(this.date,7).valueOf(),days_of_week:[F],interval:1})}static#e=this.\u0275fac=function(F){return new(F||z)(e.rXU(u.bZ),e.rXU(b.h))};static#t=this.\u0275cmp=e.VBU({type:z,selectors:[["recurrence-field"]],inputs:{date:"date"},features:[e.Jv_([{provide:i.kq,useExisting:(0,e.Rfq)(()=>z),multi:!0}]),e.OA$],decls:15,vars:11,consts:[["appearance","outline",1,"w-full"],["placeholder","Doesn't repeat",3,"ngModelChange","ngModel"],["value","none"],["value","daily"],["value","weekly"],["value","monthly"],["value","custom_display",4,"ngIf"],["value","custom",3,"click"],["value","custom_display"]],template:function(F,H){1&F&&(e.j41(0,"mat-form-field",0)(1,"mat-select",1),e.bIt("ngModelChange",function(P){return H.setSimple(P)}),e.j41(2,"mat-option",2),e.EFF(3,"Doesn't repeat"),e.k0s(),e.j41(4,"mat-option",3),e.EFF(5,"Daily"),e.k0s(),e.j41(6,"mat-option",4),e.EFF(7),e.nI1(8,"date"),e.k0s(),e.j41(9,"mat-option",5),e.EFF(10),e.nI1(11,"date"),e.k0s(),e.DNE(12,v,2,1,"mat-option",6),e.j41(13,"mat-option",7),e.bIt("click",function(){return H.openCustomRecurrenceModal()}),e.EFF(14," Custom... "),e.k0s()()()),2&F&&(e.R7$(),e.Y8G("ngModel",H.value._pattern),e.R7$(6),e.SpI(" Weekly on ",e.i5U(8,5,H.date,"EEEE")," "),e.R7$(3),e.Lme(" ",H.instance_of_month," ",e.i5U(11,8,H.date,"EEEE")," of Month "),e.R7$(2),e.Y8G("ngIf","custom_display"===H.value._pattern))},dependencies:[S.bT,i.BC,i.vS,D.rl,E.VO,A.wT,S.vh],styles:["[value][_ngcontent-%COMP%]{min-width:3em}"]})}return z})()},2756:(Mt,pe,a)=>{"use strict";a.d(pe,{Z:()=>_});var e=a(4006),i=a(906),d=a(3953);function p(g,b){1&g&&(d.j41(0,"h2",24),d.EFF(1," Repeat on "),d.k0s())}function m(g,b){if(1&g){const u=d.RV6();d.j41(0,"div",25)(1,"button",26),d.bIt("click",function(){d.eBV(u);const D=d.XpG();return d.Njj(D.toggleDayOfWeek(0))}),d.EFF(2," S "),d.k0s(),d.j41(3,"button",26),d.bIt("click",function(){d.eBV(u);const D=d.XpG();return d.Njj(D.toggleDayOfWeek(1))}),d.EFF(4," M "),d.k0s(),d.j41(5,"button",26),d.bIt("click",function(){d.eBV(u);const D=d.XpG();return d.Njj(D.toggleDayOfWeek(2))}),d.EFF(6," T "),d.k0s(),d.j41(7,"button",26),d.bIt("click",function(){d.eBV(u);const D=d.XpG();return d.Njj(D.toggleDayOfWeek(3))}),d.EFF(8," W "),d.k0s(),d.j41(9,"button",26),d.bIt("click",function(){d.eBV(u);const D=d.XpG();return d.Njj(D.toggleDayOfWeek(4))}),d.EFF(10," T "),d.k0s(),d.j41(11,"button",26),d.bIt("click",function(){d.eBV(u);const D=d.XpG();return d.Njj(D.toggleDayOfWeek(5))}),d.EFF(12," F "),d.k0s(),d.j41(13,"button",26),d.bIt("click",function(){d.eBV(u);const D=d.XpG();return d.Njj(D.toggleDayOfWeek(6))}),d.EFF(14," S "),d.k0s()()}if(2&g){const u=d.XpG();d.R7$(),d.AVh("inverse",!(null!=u.data.days_of_week&&u.data.days_of_week.includes(0))),d.R7$(2),d.AVh("inverse",!(null!=u.data.days_of_week&&u.data.days_of_week.includes(1))),d.R7$(2),d.AVh("inverse",!(null!=u.data.days_of_week&&u.data.days_of_week.includes(2))),d.R7$(2),d.AVh("inverse",!(null!=u.data.days_of_week&&u.data.days_of_week.includes(3))),d.R7$(2),d.AVh("inverse",!(null!=u.data.days_of_week&&u.data.days_of_week.includes(4))),d.R7$(2),d.AVh("inverse",!(null!=u.data.days_of_week&&u.data.days_of_week.includes(5))),d.R7$(2),d.AVh("inverse",!(null!=u.data.days_of_week&&u.data.days_of_week.includes(6)))}}let _=(()=>{class g{constructor(u){this._data=u,this.data={...this._data.value,end:this._data.value.end||(0,i.f)(new Date,7).valueOf(),interval:this._data.value.interval||1,pattern:this._data.value.pattern?this._data.value.pattern:"weekly",occurrences:this._data.value.occurrences||1},this.ends_key="never"}toggleDayOfWeek(u){this.data.days_of_week||(this.data.days_of_week=[]),this.data.days_of_week.includes(u)?this.data.days_of_week=this.data.days_of_week.filter(S=>S!==u):this.data.days_of_week.push(u)}static#e=this.\u0275fac=function(S){return new(S||g)(d.rXU(e.Vh))};static#t=this.\u0275cmp=d.VBU({type:g,selectors:[["recurrence-modal"]],decls:42,vars:13,consts:[["btn","","icon","","mat-dialog-close","","matRipple",""],[1,"p-4"],[1,"flex","items-center","space-x-2","mb-4"],["appearance","outline",1,"w-16"],["matInput","","type","number",3,"ngModelChange","ngModel"],["appearance","outline"],[3,"ngModelChange","ngModel"],["value","daily"],["value","weekly"],["value","month_day"],["for","repeat-on","class","mb-2",4,"ngIf"],["class","flex items-center space-x-2 mb-4","name","repeat-on",4,"ngIf"],["for","ends-at"],["name","ends-at",3,"ngModelChange","ngModel"],[1,"flex","items-center"],["value","never",3,"click"],[1,"flex","items-center","space-x-2"],["value","on"],[3,"ngModelChange","ngModel","disabled"],["value","after"],["matInput","","type","number",3,"ngModelChange","ngModel","disabled"],["matSuffix",""],[1,"px-4","py-2","flex","items-center","justify-end","border-t","border-base-200"],["btn","","matRipple","",1,"w-32",3,"click","mat-dialog-close"],["for","repeat-on",1,"mb-2"],["name","repeat-on",1,"flex","items-center","space-x-2","mb-4"],["btn","","matRipple","",1,"w-12",3,"click"]],template:function(S,D){1&S&&(d.j41(0,"header")(1,"h2"),d.EFF(2,"Custom Recurrence"),d.k0s(),d.j41(3,"button",0)(4,"app-icon"),d.EFF(5,"close"),d.k0s()()(),d.j41(6,"main",1)(7,"div",2)(8,"div"),d.EFF(9,"Repeat every"),d.k0s(),d.j41(10,"mat-form-field",3)(11,"input",4),d.mxI("ngModelChange",function(A){return d.DH7(D.data.interval,A)||(D.data.interval=A),A}),d.k0s()(),d.j41(12,"mat-form-field",5)(13,"mat-select",6),d.mxI("ngModelChange",function(A){return d.DH7(D.data.pattern,A)||(D.data.pattern=A),A}),d.j41(14,"mat-option",7),d.EFF(15),d.k0s(),d.j41(16,"mat-option",8),d.EFF(17),d.k0s(),d.j41(18,"mat-option",9),d.EFF(19),d.k0s()()()(),d.DNE(20,p,2,0,"h2",10)(21,m,15,14,"div",11),d.j41(22,"h2",12),d.EFF(23,"Ends"),d.k0s(),d.j41(24,"mat-radio-group",13),d.mxI("ngModelChange",function(A){return d.DH7(D.ends_key,A)||(D.ends_key=A),A}),d.j41(25,"div",14)(26,"mat-radio-button",15),d.bIt("click",function(){return D.data.occurrences=0}),d.EFF(27," Never "),d.k0s()(),d.j41(28,"div",16)(29,"mat-radio-button",17),d.EFF(30,"On"),d.k0s(),d.j41(31,"a-date-field",18),d.mxI("ngModelChange",function(A){return d.DH7(D.data.end,A)||(D.data.end=A),A}),d.k0s()(),d.j41(32,"div",16)(33,"mat-radio-button",19),d.EFF(34,"After"),d.k0s(),d.j41(35,"mat-form-field",5)(36,"input",20),d.mxI("ngModelChange",function(A){return d.DH7(D.data.occurrences,A)||(D.data.occurrences=A),A}),d.k0s(),d.j41(37,"span",21),d.EFF(38,"occurences"),d.k0s()()()()(),d.j41(39,"footer",22)(40,"button",23),d.bIt("click",function(){return D.data.occurrences="never"===D.ends_key?0:D.data.occurrences}),d.EFF(41," Save "),d.k0s()()),2&S&&(d.R7$(11),d.R50("ngModel",D.data.interval),d.R7$(2),d.R50("ngModel",D.data.pattern),d.R7$(2),d.SpI(" day",1===D.data.interval?"":"s"," "),d.R7$(2),d.SpI(" week",1===D.data.interval?"":"s"," "),d.R7$(2),d.SpI(" month",1===D.data.interval?"":"s"," "),d.R7$(),d.Y8G("ngIf","weekly"===D.data.pattern),d.R7$(),d.Y8G("ngIf","weekly"===D.data.pattern),d.R7$(3),d.R50("ngModel",D.ends_key),d.R7$(7),d.R50("ngModel",D.data.end),d.Y8G("disabled","on"!==D.ends_key),d.R7$(5),d.R50("ngModel",D.data.occurrences),d.Y8G("disabled","after"!==D.ends_key),d.R7$(4),d.Y8G("mat-dialog-close",D.data))},styles:["mat-form-field[_ngcontent-%COMP%], a-date-field[_ngcontent-%COMP%]{height:3.25rem}mat-radio-button[_ngcontent-%COMP%]{width:8rem}"]})}return g})()},2597:(Mt,pe,a)=>{"use strict";a.d(pe,{d:()=>Bb});var e={};a.r(e),a.d(e,{Attributor:()=>Or,AttributorStore:()=>qc,BlockBlot:()=>fo,ClassAttributor:()=>Xr,ContainerBlot:()=>td,EmbedBlot:()=>Cr,InlineBlot:()=>Vd,LeafBlot:()=>uo,ParentBlot:()=>Wn,Registry:()=>Ja,Scope:()=>ci,ScrollBlot:()=>Uh,StyleAttributor:()=>xa,TextBlot:()=>de});var i=a(3953),d=a(9417),p=a(7375);const b=function g(Z,x){return Z===x||Z!=Z&&x!=x},S=function u(Z,x){for(var M=Z.length;M--;)if(b(Z[M][0],x))return M;return-1};var E=Array.prototype.splice;function Y(Z){var x=-1,M=null==Z?0:Z.length;for(this.clear();++x<M;){var j=Z[x];this.set(j[0],j[1])}}Y.prototype.clear=function m(){this.__data__=[],this.size=0},Y.prototype.delete=function A(Z){var x=this.__data__,M=S(x,Z);return!(M<0||(M==x.length-1?x.pop():E.call(x,M,1),--this.size,0))},Y.prototype.get=function O(Z){var x=this.__data__,M=S(x,Z);return M<0?void 0:x[M][1]},Y.prototype.has=function G(Z){return S(this.__data__,Z)>-1},Y.prototype.set=function F(Z,x){var M=this.__data__,j=S(M,Z);return j<0?(++this.size,M.push([Z,x])):M[j][1]=x,this};const P=Y,R="object"==typeof global&&global&&global.Object===Object&&global;var ee="object"==typeof self&&self&&self.Object===Object&&self;const J=R||ee||Function("return this")(),fe=J.Symbol;var Me=Object.prototype,Ze=Me.hasOwnProperty,Ct=Me.toString,lt=fe?fe.toStringTag:void 0;var ve=Object.prototype.toString;var $e=fe?fe.toStringTag:void 0;const Ve=function Et(Z){return null==Z?void 0===Z?"[object Undefined]":"[object Null]":$e&&$e in Object(Z)?function Ot(Z){var x=Ze.call(Z,lt),M=Z[lt];try{Z[lt]=void 0;var j=!0}catch{}var ce=Ct.call(Z);return j&&(x?Z[lt]=M:delete Z[lt]),ce}(Z):function Ce(Z){return ve.call(Z)}(Z)},ht=function st(Z){var x=typeof Z;return null!=Z&&("object"==x||"function"==x)},Oe=function ae(Z){if(!ht(Z))return!1;var x=Ve(Z);return"[object Function]"==x||"[object GeneratorFunction]"==x||"[object AsyncFunction]"==x||"[object Proxy]"==x};var Z,Le=J["__core-js_shared__"],_t=(Z=/[^.]+$/.exec(Le&&Le.keys&&Le.keys.IE_PROTO||""))?"Symbol(src)_1."+Z:"";var Ft=Function.prototype.toString;const ft=function _n(Z){if(null!=Z){try{return Ft.call(Z)}catch{}try{return Z+""}catch{}}return""};var $t=/^\[object .+?Constructor\]$/,an=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Sn=function hn(Z){return!(!ht(Z)||function Gt(Z){return!!_t&&_t in Z}(Z))&&(Oe(Z)?an:$t).test(ft(Z))},Xe=function ct(Z,x){var M=function Lt(Z,x){return Z?.[x]}(Z,x);return Sn(M)?M:void 0},Bt=Xe(J,"Map"),Be=Xe(Object,"create");var Ue=Object.prototype.hasOwnProperty;var xt=Object.prototype.hasOwnProperty;function Qn(Z){var x=-1,M=null==Z?0:Z.length;for(this.clear();++x<M;){var j=Z[x];this.set(j[0],j[1])}}Qn.prototype.clear=function oe(){this.__data__=Be?Be(null):{},this.size=0},Qn.prototype.delete=function ne(Z){var x=this.has(Z)&&delete this.__data__[Z];return this.size-=x?1:0,x},Qn.prototype.get=function Fe(Z){var x=this.__data__;if(Be){var M=x[Z];return"__lodash_hash_undefined__"===M?void 0:M}return Ue.call(x,Z)?x[Z]:void 0},Qn.prototype.has=function tn(Z){var x=this.__data__;return Be?void 0!==x[Z]:xt.call(x,Z)},Qn.prototype.set=function Un(Z,x){var M=this.__data__;return this.size+=this.has(Z)?0:1,M[Z]=Be&&void 0===x?"__lodash_hash_undefined__":x,this};const fi=Qn,dt=function wn(Z,x){var M=Z.__data__;return function Wi(Z){var x=typeof Z;return"string"==x||"number"==x||"symbol"==x||"boolean"==x?"__proto__"!==Z:null===Z}(x)?M["string"==typeof x?"string":"hash"]:M.map};function Qt(Z){var x=-1,M=null==Z?0:Z.length;for(this.clear();++x<M;){var j=Z[x];this.set(j[0],j[1])}}Qt.prototype.clear=function Ui(){this.size=0,this.__data__={hash:new fi,map:new(Bt||P),string:new fi}},Qt.prototype.delete=function Pt(Z){var x=dt(this,Z).delete(Z);return this.size-=x?1:0,x},Qt.prototype.get=function Pn(Z){return dt(this,Z).get(Z)},Qt.prototype.has=function yt(Z){return dt(this,Z).has(Z)},Qt.prototype.set=function Yt(Z,x){var M=dt(this,Z),j=M.size;return M.set(Z,x),this.size+=M.size==j?0:1,this};const se=Qt;function Jt(Z){var x=this.__data__=new P(Z);this.size=x.size}Jt.prototype.clear=function U(){this.__data__=new P,this.size=0},Jt.prototype.delete=function B(Z){var x=this.__data__,M=x.delete(Z);return this.size=x.size,M},Jt.prototype.get=function I(Z){return this.__data__.get(Z)},Jt.prototype.has=function L(Z){return this.__data__.has(Z)},Jt.prototype.set=function xe(Z,x){var M=this.__data__;if(M instanceof P){var j=M.__data__;if(!Bt||j.length<199)return j.push([Z,x]),this.size=++M.size,this;M=this.__data__=new se(j)}return M.set(Z,x),this.size=M.size,this};const Bn=Jt;var hi=function(){try{var Z=Xe(Object,"defineProperty");return Z({},"",{}),Z}catch{}}();const Pi=hi,zi=function Vi(Z,x,M){"__proto__"==x&&Pi?Pi(Z,x,{configurable:!0,enumerable:!0,value:M,writable:!0}):Z[x]=M},Ji=function wi(Z,x,M){(void 0!==M&&!b(Z[x],M)||void 0===M&&!(x in Z))&&zi(Z,x,M)};var Ai=function Ni(Z){return function(x,M,j){for(var ce=-1,ke=Object(x),Ye=j(x),Dt=Ye.length;Dt--;){var rn=Ye[Z?Dt:++ce];if(!1===M(ke[rn],rn,ke))break}return x}}();const Gr=Ai;var Js="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ir=Js&&"object"==typeof module&&module&&!module.nodeType&&module,Zr=Ir&&Ir.exports===Js?J.Buffer:void 0,bo=Zr?Zr.allocUnsafe:void 0;const Zs=function kr(Z,x){if(x)return Z.slice();var M=Z.length,j=bo?bo(M):new Z.constructor(M);return Z.copy(j),j},io=J.Uint8Array,Pr=function Po(Z){var x=new Z.constructor(Z.byteLength);return new io(x).set(new io(Z)),x},so=function Ko(Z,x){var M=x?Pr(Z.buffer):Z.buffer;return new Z.constructor(M,Z.byteOffset,Z.length)},Ho=function Wr(Z,x){var M=-1,j=Z.length;for(x||(x=Array(j));++M<j;)x[M]=Z[M];return x};var zr=Object.create,Bs=function(){function Z(){}return function(x){if(!ht(x))return{};if(zr)return zr(x);Z.prototype=x;var M=new Z;return Z.prototype=void 0,M}}();const na=Bs,yo=function Br(Z,x){return function(M){return Z(x(M))}},Re=yo(Object.getPrototypeOf,Object);var wt=Object.prototype;const xn=function ln(Z){var x=Z&&Z.constructor;return Z===("function"==typeof x&&x.prototype||wt)},pi=function Ei(Z){return"function"!=typeof Z.constructor||xn(Z)?{}:na(Re(Z))},Li=function Ki(Z){return null!=Z&&"object"==typeof Z},ks=function us(Z){return Li(Z)&&"[object Arguments]"==Ve(Z)};var sr=Object.prototype,os=sr.hasOwnProperty,qs=sr.propertyIsEnumerable,Xs=ks(function(){return arguments}())?ks:function(Z){return Li(Z)&&os.call(Z,"callee")&&!qs.call(Z,"callee")};const Us=Xs,rr=Array.isArray,or=function br(Z){return"number"==typeof Z&&Z>-1&&Z%1==0&&Z<=9007199254740991},yr=function ro(Z){return null!=Z&&or(Z.length)&&!Oe(Z)};var Fr="object"==typeof exports&&exports&&!exports.nodeType&&exports,Er=Fr&&"object"==typeof module&&module&&!module.nodeType&&module,Yo=Er&&Er.exports===Fr?J.Buffer:void 0;const Fs=(Yo?Yo.isBuffer:void 0)||function Ur(){return!1};var No=Function.prototype.toString,Ts=Object.prototype.hasOwnProperty,Qo=No.call(Object);var gs={};gs["[object Float32Array]"]=gs["[object Float64Array]"]=gs["[object Int8Array]"]=gs["[object Int16Array]"]=gs["[object Int32Array]"]=gs["[object Uint8Array]"]=gs["[object Uint8ClampedArray]"]=gs["[object Uint16Array]"]=gs["[object Uint32Array]"]=!0,gs["[object Arguments]"]=gs["[object Array]"]=gs["[object ArrayBuffer]"]=gs["[object Boolean]"]=gs["[object DataView]"]=gs["[object Date]"]=gs["[object Error]"]=gs["[object Function]"]=gs["[object Map]"]=gs["[object Number]"]=gs["[object Object]"]=gs["[object RegExp]"]=gs["[object Set]"]=gs["[object String]"]=gs["[object WeakMap]"]=!1;const Ha=function dl(Z){return function(x){return Z(x)}};var W="object"==typeof exports&&exports&&!exports.nodeType&&exports,ut=W&&"object"==typeof module&&module&&!module.nodeType&&module,en=ut&&ut.exports===W&&R.process;const bn=function(){try{return ut&&ut.require&&ut.require("util").types||en&&en.binding&&en.binding("util")}catch{}}();var qt=bn&&bn.isTypedArray;const kn=qt?Ha(qt):function wr(Z){return Li(Z)&&or(Z.length)&&!!gs[Ve(Z)]},ai=function Hn(Z,x){if(("constructor"!==x||"function"!=typeof Z[x])&&"__proto__"!=x)return Z[x]};var Fi=Object.prototype.hasOwnProperty;const hs=function Bi(Z,x,M){var j=Z[x];(!Fi.call(Z,x)||!b(j,M)||void 0===M&&!(x in Z))&&zi(Z,x,M)},Qs=function js(Z,x,M,j){var ce=!M;M||(M={});for(var ke=-1,Ye=x.length;++ke<Ye;){var Dt=x[ke],rn=j?j(M[Dt],Z[Dt],Dt,M,Z):void 0;void 0===rn&&(rn=Z[Dt]),ce?zi(M,Dt,rn):hs(M,Dt,rn)}return M};var Xa=/^(?:0|[1-9]\d*)$/;const ia=function Jc(Z,x){var M=typeof Z;return!!(x=x??9007199254740991)&&("number"==M||"symbol"!=M&&Xa.test(Z))&&Z>-1&&Z%1==0&&Z<x};var Ya=Object.prototype.hasOwnProperty;const Is=function ji(Z,x){var M=rr(Z),j=!M&&Us(Z),ce=!M&&!j&&Fs(Z),ke=!M&&!j&&!ce&&kn(Z),Ye=M||j||ce||ke,Dt=Ye?function xr(Z,x){for(var M=-1,j=Array(Z);++M<Z;)j[M]=x(M);return j}(Z.length,String):[],rn=Dt.length;for(var Tn in Z)(x||Ya.call(Z,Tn))&&(!Ye||!("length"==Tn||ce&&("offset"==Tn||"parent"==Tn)||ke&&("buffer"==Tn||"byteLength"==Tn||"byteOffset"==Tn)||ia(Tn,rn)))&&Dt.push(Tn);return Dt};var Sa=Object.prototype.hasOwnProperty;const Zl=function sa(Z){if(!ht(Z))return function Tc(Z){var x=[];if(null!=Z)for(var M in Object(Z))x.push(M);return x}(Z);var x=xn(Z),M=[];for(var j in Z)"constructor"==j&&(x||!Sa.call(Z,j))||M.push(j);return M},To=function fs(Z){return yr(Z)?Is(Z,!0):Zl(Z)},Ph=function ul(Z,x,M,j,ce,ke,Ye){var Dt=ai(Z,M),rn=ai(x,M),Tn=Ye.get(rn);if(Tn)Ji(Z,M,Tn);else{var $n=ke?ke(Dt,rn,M+"",Z,x,Ye):void 0,ei=void 0===$n;if(ei){var di=rr(rn),Qi=!di&&Fs(rn),qi=!di&&!Qi&&kn(rn);$n=rn,di||Qi||qi?rr(Dt)?$n=Dt:function Xo(Z){return Li(Z)&&yr(Z)}(Dt)?$n=Ho(Dt):Qi?(ei=!1,$n=Zs(rn,!0)):qi?(ei=!1,$n=so(rn,!0)):$n=[]:function cl(Z){if(!Li(Z)||"[object Object]"!=Ve(Z))return!1;var x=Re(Z);if(null===x)return!0;var M=Ts.call(x,"constructor")&&x.constructor;return"function"==typeof M&&M instanceof M&&No.call(M)==Qo}(rn)||Us(rn)?($n=Dt,Us(Dt)?$n=function ql(Z){return Qs(Z,To(Z))}(Dt):(!ht(Dt)||Oe(Dt))&&($n=pi(rn))):ei=!1}ei&&(Ye.set(rn,$n),ce($n,rn,j,ke,Ye),Ye.delete(rn)),Ji(Z,M,$n)}},et=function Qa(Z,x,M,j,ce){Z!==x&&Gr(x,function(ke,Ye){if(ce||(ce=new Bn),ht(ke))Ph(Z,x,Ye,M,Qa,j,ce);else{var Dt=j?j(ai(Z,Ye),ke,Ye+"",Z,x,ce):void 0;void 0===Dt&&(Dt=ke),Ji(Z,Ye,Dt)}},To)},q=function je(Z){return Z};var We=Math.max;const Gn=function Rn(Z){return function(){return Z}};var Ps=Pi?function(Z,x){return Pi(Z,"toString",{configurable:!0,enumerable:!1,value:Gn(x),writable:!0})}:q,Ci=Date.now,Bo=function Os(Z){var x=0,M=0;return function(){var j=Ci(),ce=16-(j-M);if(M=j,ce>0){if(++x>=800)return arguments[0]}else x=0;return Z.apply(void 0,arguments)}}(Ps);const pr=Bo,ra=function hl(Z,x){return pr(function Wt(Z,x,M){return x=We(void 0===x?Z.length-1:x,0),function(){for(var j=arguments,ce=-1,ke=We(j.length-x,0),Ye=Array(ke);++ce<ke;)Ye[ce]=j[x+ce];ce=-1;for(var Dt=Array(x+1);++ce<x;)Dt[ce]=j[ce];return Dt[x]=M(Ye),function ze(Z,x,M){switch(M.length){case 0:return Z.call(x);case 1:return Z.call(x,M[0]);case 2:return Z.call(x,M[0],M[1]);case 3:return Z.call(x,M[0],M[1],M[2])}return Z.apply(x,M)}(Z,this,Dt)}}(Z,x,q),Z+"")};var lo=function Ea(Z){return ra(function(x,M){var j=-1,ce=M.length,ke=ce>1?M[ce-1]:void 0,Ye=ce>2?M[2]:void 0;for(ke=Z.length>3&&"function"==typeof ke?(ce--,ke):void 0,Ye&&function jr(Z,x,M){if(!ht(M))return!1;var j=typeof x;return!!("number"==j?yr(M)&&ia(x,M.length):"string"==j&&x in M)&&b(M[x],Z)}(M[0],M[1],Ye)&&(ke=ce<3?void 0:ke,ce=1),x=Object(x);++j<ce;){var Dt=M[j];Dt&&Z(x,Dt,j,ke)}return x})}(function(Z,x,M){et(Z,x,M)});const fl=lo;var ci=(Z=>(Z[Z.TYPE=3]="TYPE",Z[Z.LEVEL=12]="LEVEL",Z[Z.ATTRIBUTE=13]="ATTRIBUTE",Z[Z.BLOT=14]="BLOT",Z[Z.INLINE=7]="INLINE",Z[Z.BLOCK=11]="BLOCK",Z[Z.BLOCK_BLOT=10]="BLOCK_BLOT",Z[Z.INLINE_BLOT=6]="INLINE_BLOT",Z[Z.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",Z[Z.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",Z[Z.ANY=15]="ANY",Z))(ci||{});class Or{constructor(x,M,j={}){this.attrName=x,this.keyName=M,this.scope=null!=j.scope?j.scope&ci.LEVEL|ci.TYPE&ci.ATTRIBUTE:ci.ATTRIBUTE,null!=j.whitelist&&(this.whitelist=j.whitelist)}static keys(x){return Array.from(x.attributes).map(M=>M.name)}add(x,M){return!!this.canAdd(x,M)&&(x.setAttribute(this.keyName,M),!0)}canAdd(x,M){return null==this.whitelist||("string"==typeof M?this.whitelist.indexOf(M.replace(/["']/g,""))>-1:this.whitelist.indexOf(M)>-1)}remove(x){x.removeAttribute(this.keyName)}value(x){const M=x.getAttribute(this.keyName);return this.canAdd(x,M)&&M?M:""}}class wa extends Error{constructor(x){super(x="[Parchment] "+x),this.message=x,this.name=this.constructor.name}}let Ja=(()=>{let Z=class UD{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(M,j=!1){if(null==M)return null;if(this.blots.has(M))return this.blots.get(M)||null;if(j){let ce=null;try{ce=M.parentNode}catch{return null}return this.find(ce,j)}return null}create(M,j,ce){const ke=this.query(j);if(null==ke)throw new wa(`Unable to create ${j} blot`);const Ye=ke,Dt=j instanceof Node||j.nodeType===Node.TEXT_NODE?j:Ye.create(ce),rn=new Ye(M,Dt,ce);return UD.blots.set(rn.domNode,rn),rn}find(M,j=!1){return UD.find(M,j)}query(M,j=ci.ANY){let ce;return"string"==typeof M?ce=this.types[M]||this.attributes[M]:M instanceof Text||M.nodeType===Node.TEXT_NODE?ce=this.types.text:"number"==typeof M?M&ci.LEVEL&ci.BLOCK?ce=this.types.block:M&ci.LEVEL&ci.INLINE&&(ce=this.types.inline):M instanceof Element&&((M.getAttribute("class")||"").split(/\s+/).some(ke=>(ce=this.classes[ke],!!ce)),ce=ce||this.tags[M.tagName]),null==ce?null:"scope"in ce&&j&ci.LEVEL&ce.scope&&j&ci.TYPE&ce.scope?ce:null}register(...M){return M.map(j=>{const ce="blotName"in j,ke="attrName"in j;if(!ce&&!ke)throw new wa("Invalid definition");if(ce&&"abstract"===j.blotName)throw new wa("Cannot register abstract class");return this.types[ce?j.blotName:ke?j.attrName:void 0]=j,ke?"string"==typeof j.keyName&&(this.attributes[j.keyName]=j):ce&&(j.className&&(this.classes[j.className]=j),j.tagName&&(j.tagName=Array.isArray(j.tagName)?j.tagName.map(Dt=>Dt.toUpperCase()):j.tagName.toUpperCase(),(Array.isArray(j.tagName)?j.tagName:[j.tagName]).forEach(Dt=>{(null==this.tags[Dt]||null==j.className)&&(this.tags[Dt]=j)}))),j})}};return Z.blots=new WeakMap,Z})();function Do(Z,x){return(Z.getAttribute("class")||"").split(/\s+/).filter(M=>0===M.indexOf(`${x}-`))}const Xr=class Ym extends Or{static keys(x){return(x.getAttribute("class")||"").split(/\s+/).map(M=>M.split("-").slice(0,-1).join("-"))}add(x,M){return!!this.canAdd(x,M)&&(this.remove(x),x.classList.add(`${this.keyName}-${M}`),!0)}remove(x){Do(x,this.keyName).forEach(M=>{x.classList.remove(M)}),0===x.classList.length&&x.removeAttribute("class")}value(x){const M=(Do(x,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(x,M)?M:""}};function Lh(Z){const x=Z.split("-"),M=x.slice(1).map(j=>j[0].toUpperCase()+j.slice(1)).join("");return x[0]+M}const xa=class co extends Or{static keys(x){return(x.getAttribute("style")||"").split(";").map(M=>M.split(":")[0].trim())}add(x,M){return!!this.canAdd(x,M)&&(x.style[Lh(this.keyName)]=M,!0)}remove(x){x.style[Lh(this.keyName)]="",x.getAttribute("style")||x.removeAttribute("style")}value(x){const M=x.style[Lh(this.keyName)];return this.canAdd(x,M)?M:""}},qc=class Uo{constructor(x){this.attributes={},this.domNode=x,this.build()}attribute(x,M){M?x.add(this.domNode,M)&&(null!=x.value(this.domNode)?this.attributes[x.attrName]=x:delete this.attributes[x.attrName]):(x.remove(this.domNode),delete this.attributes[x.attrName])}build(){this.attributes={};const x=Ja.find(this.domNode);if(null==x)return;const M=Or.keys(this.domNode),j=Xr.keys(this.domNode),ce=xa.keys(this.domNode);M.concat(j).concat(ce).forEach(ke=>{const Ye=x.scroll.query(ke,ci.ATTRIBUTE);Ye instanceof Or&&(this.attributes[Ye.attrName]=Ye)})}copy(x){Object.keys(this.attributes).forEach(M=>{const j=this.attributes[M].value(this.domNode);x.format(M,j)})}move(x){this.copy(x),Object.keys(this.attributes).forEach(M=>{this.attributes[M].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((x,M)=>(x[M]=this.attributes[M].value(this.domNode),x),{})}},jd=class{constructor(x,M){this.scroll=x,this.domNode=M,Ja.blots.set(M,this),this.prev=null,this.next=null}static create(x){if(null==this.tagName)throw new wa("Blot definition missing tagName");let M,j;return Array.isArray(this.tagName)?("string"==typeof x?(j=x.toUpperCase(),parseInt(j,10).toString()===j&&(j=parseInt(j,10))):"number"==typeof x&&(j=x),M="number"==typeof j?document.createElement(this.tagName[j-1]):j&&this.tagName.indexOf(j)>-1?document.createElement(j):document.createElement(this.tagName[0])):M=document.createElement(this.tagName),this.className&&M.classList.add(this.className),M}get statics(){return this.constructor}attach(){}clone(){const x=this.domNode.cloneNode(!1);return this.scroll.create(x)}detach(){null!=this.parent&&this.parent.removeChild(this),Ja.blots.delete(this.domNode)}deleteAt(x,M){this.isolate(x,M).remove()}formatAt(x,M,j,ce){const ke=this.isolate(x,M);if(null!=this.scroll.query(j,ci.BLOT)&&ce)ke.wrap(j,ce);else if(null!=this.scroll.query(j,ci.ATTRIBUTE)){const Ye=this.scroll.create(this.statics.scope);ke.wrap(Ye),Ye.format(j,ce)}}insertAt(x,M,j){const ce=null==j?this.scroll.create("text",M):this.scroll.create(M,j),ke=this.split(x);this.parent.insertBefore(ce,ke||void 0)}isolate(x,M){const j=this.split(x);if(null==j)throw new Error("Attempt to isolate at end");return j.split(M),j}length(){return 1}offset(x=this.parent){return null==this.parent||this===x?0:this.parent.children.offset(this)+this.parent.offset(x)}optimize(x){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(x,M){const j="string"==typeof x?this.scroll.create(x,M):x;return null!=this.parent&&(this.parent.insertBefore(j,this.next||void 0),this.remove()),j}split(x,M){return 0===x?this:this.next}update(x,M){}wrap(x,M){const j="string"==typeof x?this.scroll.create(x,M):x;if(null!=this.parent&&this.parent.insertBefore(j,this.next||void 0),"function"!=typeof j.appendChild)throw new wa(`Cannot wrap ${x}`);return j.appendChild(this),j}};jd.blotName="abstract";let Oa=jd;const As=class extends Oa{static value(x){return!0}index(x,M){return this.domNode===x||this.domNode.compareDocumentPosition(x)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(M,1):-1}position(x,M){let j=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return x>0&&(j+=1),[this.parent.domNode,j]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};As.scope=ci.INLINE_BLOT;const uo=As;class $d{constructor(){this.head=null,this.tail=null,this.length=0}append(...x){if(this.insertBefore(x[0],null),x.length>1){const M=x.slice(1);this.append(...M)}}at(x){const M=this.iterator();let j=M();for(;j&&x>0;)x-=1,j=M();return j}contains(x){const M=this.iterator();let j=M();for(;j;){if(j===x)return!0;j=M()}return!1}indexOf(x){const M=this.iterator();let j=M(),ce=0;for(;j;){if(j===x)return ce;ce+=1,j=M()}return-1}insertBefore(x,M){null!=x&&(this.remove(x),x.next=M,null!=M?(x.prev=M.prev,null!=M.prev&&(M.prev.next=x),M.prev=x,M===this.head&&(this.head=x)):null!=this.tail?(this.tail.next=x,x.prev=this.tail,this.tail=x):(x.prev=null,this.head=this.tail=x),this.length+=1)}offset(x){let M=0,j=this.head;for(;null!=j;){if(j===x)return M;M+=j.length(),j=j.next}return-1}remove(x){this.contains(x)&&(null!=x.prev&&(x.prev.next=x.next),null!=x.next&&(x.next.prev=x.prev),x===this.head&&(this.head=x.next),x===this.tail&&(this.tail=x.prev),this.length-=1)}iterator(x=this.head){return()=>{const M=x;return null!=x&&(x=x.next),M}}find(x,M=!1){const j=this.iterator();let ce=j();for(;ce;){const ke=ce.length();if(x<ke||M&&x===ke&&(null==ce.next||0!==ce.next.length()))return[ce,x];x-=ke,ce=j()}return[null,0]}forEach(x){const M=this.iterator();let j=M();for(;j;)x(j),j=M()}forEachAt(x,M,j){if(M<=0)return;const[ce,ke]=this.find(x);let Ye=x-ke;const Dt=this.iterator(ce);let rn=Dt();for(;rn&&Ye<x+M;){const Tn=rn.length();x>Ye?j(rn,x-Ye,Math.min(M,Ye+Tn-x)):j(rn,0,Math.min(Tn,x+M-Ye)),Ye+=Tn,rn=Dt()}}map(x){return this.reduce((M,j)=>(M.push(x(j)),M),[])}reduce(x,M){const j=this.iterator();let ce=j();for(;ce;)M=x(M,ce),ce=j();return M}}function ec(Z,x){const M=x.find(Z);if(M)return M;try{return x.create(Z)}catch{const j=x.create(ci.INLINE);return Array.from(Z.childNodes).forEach(ce=>{j.domNode.appendChild(ce)}),Z.parentNode&&Z.parentNode.replaceChild(j.domNode,Z),j.attach(),j}}const Wn=(()=>{let Z=class Zf extends Oa{constructor(M,j){super(M,j),this.uiNode=null,this.build()}appendChild(M){this.insertBefore(M)}attach(){super.attach(),this.children.forEach(M=>{M.attach()})}attachUI(M){null!=this.uiNode&&this.uiNode.remove(),this.uiNode=M,Zf.uiClass&&this.uiNode.classList.add(Zf.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new $d,Array.from(this.domNode.childNodes).filter(M=>M!==this.uiNode).reverse().forEach(M=>{try{const j=ec(M,this.scroll);this.insertBefore(j,this.children.head||void 0)}catch(j){if(j instanceof wa)return;throw j}})}deleteAt(M,j){if(0===M&&j===this.length())return this.remove();this.children.forEachAt(M,j,(ce,ke,Ye)=>{ce.deleteAt(ke,Ye)})}descendant(M,j=0){const[ce,ke]=this.children.find(j);return null==M.blotName&&M(ce)||null!=M.blotName&&ce instanceof M?[ce,ke]:ce instanceof Zf?ce.descendant(M,ke):[null,-1]}descendants(M,j=0,ce=Number.MAX_VALUE){let ke=[],Ye=ce;return this.children.forEachAt(j,ce,(Dt,rn,Tn)=>{(null==M.blotName&&M(Dt)||null!=M.blotName&&Dt instanceof M)&&ke.push(Dt),Dt instanceof Zf&&(ke=ke.concat(Dt.descendants(M,rn,Ye))),Ye-=Tn}),ke}detach(){this.children.forEach(M=>{M.detach()}),super.detach()}enforceAllowedChildren(){let M=!1;this.children.forEach(j=>{M||this.statics.allowedChildren.some(ce=>j instanceof ce)||(j.statics.scope===ci.BLOCK_BLOT?(null!=j.next&&this.splitAfter(j),null!=j.prev&&this.splitAfter(j.prev),j.parent.unwrap(),M=!0):j instanceof Zf?j.unwrap():j.remove())})}formatAt(M,j,ce,ke){this.children.forEachAt(M,j,(Ye,Dt,rn)=>{Ye.formatAt(Dt,rn,ce,ke)})}insertAt(M,j,ce){const[ke,Ye]=this.children.find(M);if(ke)ke.insertAt(Ye,j,ce);else{const Dt=null==ce?this.scroll.create("text",j):this.scroll.create(j,ce);this.appendChild(Dt)}}insertBefore(M,j){null!=M.parent&&M.parent.children.remove(M);let ce=null;this.children.insertBefore(M,j||null),M.parent=this,null!=j&&(ce=j.domNode),(this.domNode.parentNode!==M.domNode||this.domNode.nextSibling!==ce)&&this.domNode.insertBefore(M.domNode,ce),M.attach()}length(){return this.children.reduce((M,j)=>M+j.length(),0)}moveChildren(M,j){this.children.forEach(ce=>{M.insertBefore(ce,j)})}optimize(M){if(super.optimize(M),this.enforceAllowedChildren(),null!=this.uiNode&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),0===this.children.length)if(null!=this.statics.defaultChild){const j=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(j)}else this.remove()}path(M,j=!1){const[ce,ke]=this.children.find(M,j),Ye=[[this,M]];return ce instanceof Zf?Ye.concat(ce.path(ke,j)):(null!=ce&&Ye.push([ce,ke]),Ye)}removeChild(M){this.children.remove(M)}replaceWith(M,j){const ce="string"==typeof M?this.scroll.create(M,j):M;return ce instanceof Zf&&this.moveChildren(ce),super.replaceWith(ce)}split(M,j=!1){if(!j){if(0===M)return this;if(M===this.length())return this.next}const ce=this.clone();return this.parent&&this.parent.insertBefore(ce,this.next||void 0),this.children.forEachAt(M,this.length(),(ke,Ye,Dt)=>{const rn=ke.split(Ye,j);null!=rn&&ce.appendChild(rn)}),ce}splitAfter(M){const j=this.clone();for(;null!=M.next;)j.appendChild(M.next);return this.parent&&this.parent.insertBefore(j,this.next||void 0),j}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(M,j){const ce=[],ke=[];M.forEach(Ye=>{Ye.target===this.domNode&&"childList"===Ye.type&&(ce.push(...Ye.addedNodes),ke.push(...Ye.removedNodes))}),ke.forEach(Ye=>{if(null!=Ye.parentNode&&"IFRAME"!==Ye.tagName&&document.body.compareDocumentPosition(Ye)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const Dt=this.scroll.find(Ye);null!=Dt&&(null==Dt.domNode.parentNode||Dt.domNode.parentNode===this.domNode)&&Dt.detach()}),ce.filter(Ye=>Ye.parentNode===this.domNode&&Ye!==this.uiNode).sort((Ye,Dt)=>Ye===Dt?0:Ye.compareDocumentPosition(Dt)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(Ye=>{let Dt=null;null!=Ye.nextSibling&&(Dt=this.scroll.find(Ye.nextSibling));const rn=ec(Ye,this.scroll);(rn.next!==Dt||null==rn.next)&&(null!=rn.parent&&rn.parent.removeChild(this),this.insertBefore(rn,Dt||void 0))}),this.enforceAllowedChildren()}};return Z.uiClass="",Z})(),xl=class vv extends Wn{static create(x){return super.create(x)}static formats(x,M){const j=M.query(vv.blotName);if(null==j||x.tagName!==j.tagName){if("string"==typeof this.tagName)return!0;if(Array.isArray(this.tagName))return x.tagName.toLowerCase()}}constructor(x,M){super(x,M),this.attributes=new qc(this.domNode)}format(x,M){if(x!==this.statics.blotName||M){const j=this.scroll.query(x,ci.INLINE);if(null==j)return;j instanceof Or?this.attributes.attribute(j,M):M&&(x!==this.statics.blotName||this.formats()[x]!==M)&&this.replaceWith(x,M)}else this.children.forEach(j=>{j instanceof vv||(j=j.wrap(vv.blotName,!0)),this.attributes.copy(j)}),this.unwrap()}formats(){const x=this.attributes.values(),M=this.statics.formats(this.domNode,this.scroll);return null!=M&&(x[this.statics.blotName]=M),x}formatAt(x,M,j,ce){null!=this.formats()[j]||this.scroll.query(j,ci.ATTRIBUTE)?this.isolate(x,M).format(j,ce):super.formatAt(x,M,j,ce)}optimize(x){super.optimize(x);const M=this.formats();if(0===Object.keys(M).length)return this.unwrap();const j=this.next;j instanceof vv&&j.prev===this&&function ed(Z,x){if(Object.keys(Z).length!==Object.keys(x).length)return!1;for(const M in Z)if(Z[M]!==x[M])return!1;return!0}(M,j.formats())&&(j.moveChildren(this),j.remove())}replaceWith(x,M){const j=super.replaceWith(x,M);return this.attributes.copy(j),j}update(x,M){super.update(x,M),x.some(j=>j.target===this.domNode&&"attributes"===j.type)&&this.attributes.build()}wrap(x,M){const j=super.wrap(x,M);return j instanceof vv&&this.attributes.move(j),j}};xl.allowedChildren=[xl,uo],xl.blotName="inline",xl.scope=ci.INLINE_BLOT,xl.tagName="SPAN";const Vd=xl,ho=class jD extends Wn{static create(x){return super.create(x)}static formats(x,M){const j=M.query(jD.blotName);if(null==j||x.tagName!==j.tagName){if("string"==typeof this.tagName)return!0;if(Array.isArray(this.tagName))return x.tagName.toLowerCase()}}constructor(x,M){super(x,M),this.attributes=new qc(this.domNode)}format(x,M){const j=this.scroll.query(x,ci.BLOCK);null!=j&&(j instanceof Or?this.attributes.attribute(j,M):x!==this.statics.blotName||M?M&&(x!==this.statics.blotName||this.formats()[x]!==M)&&this.replaceWith(x,M):this.replaceWith(jD.blotName))}formats(){const x=this.attributes.values(),M=this.statics.formats(this.domNode,this.scroll);return null!=M&&(x[this.statics.blotName]=M),x}formatAt(x,M,j,ce){null!=this.scroll.query(j,ci.BLOCK)?this.format(j,ce):super.formatAt(x,M,j,ce)}insertAt(x,M,j){if(null==j||null!=this.scroll.query(M,ci.INLINE))super.insertAt(x,M,j);else{const ce=this.split(x);if(null==ce)throw new Error("Attempt to insertAt after block boundaries");{const ke=this.scroll.create(M,j);ce.parent.insertBefore(ke,ce)}}}replaceWith(x,M){const j=super.replaceWith(x,M);return this.attributes.copy(j),j}update(x,M){super.update(x,M),x.some(j=>j.target===this.domNode&&"attributes"===j.type)&&this.attributes.build()}};ho.blotName="block",ho.scope=ci.BLOCK_BLOT,ho.tagName="P",ho.allowedChildren=[Vd,ho,uo];const fo=ho,Gd=class extends Wn{checkMerge(){return null!==this.next&&this.next.statics.blotName===this.statics.blotName}deleteAt(x,M){super.deleteAt(x,M),this.enforceAllowedChildren()}formatAt(x,M,j,ce){super.formatAt(x,M,j,ce),this.enforceAllowedChildren()}insertAt(x,M,j){super.insertAt(x,M,j),this.enforceAllowedChildren()}optimize(x){super.optimize(x),this.children.length>0&&null!=this.next&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};Gd.blotName="container",Gd.scope=ci.BLOCK_BLOT;const td=Gd,Cr=class Bh extends uo{static formats(x,M){}format(x,M){super.formatAt(0,this.length(),x,M)}formatAt(x,M,j,ce){0===x&&M===this.length()?this.format(j,ce):super.formatAt(x,M,j,ce)}formats(){return this.statics.formats(this.domNode,this.scroll)}},qf={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},Mr=class extends Wn{constructor(x,M){super(null,M),this.registry=x,this.scroll=this,this.build(),this.observer=new MutationObserver(j=>{this.update(j)}),this.observer.observe(this.domNode,qf),this.attach()}create(x,M){return this.registry.create(this,x,M)}find(x,M=!1){const j=this.registry.find(x,M);return j?j.scroll===this?j:M?this.find(j.scroll.domNode.parentNode,!0):null:null}query(x,M=ci.ANY){return this.registry.query(x,M)}register(...x){return this.registry.register(...x)}build(){null!=this.scroll&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(x,M){this.update(),0===x&&M===this.length()?this.children.forEach(j=>{j.remove()}):super.deleteAt(x,M)}formatAt(x,M,j,ce){this.update(),super.formatAt(x,M,j,ce)}insertAt(x,M,j){this.update(),super.insertAt(x,M,j)}optimize(x=[],M={}){super.optimize(M);const j=M.mutationsMap||new WeakMap;let ce=Array.from(this.observer.takeRecords());for(;ce.length>0;)x.push(ce.pop());const ke=(rn,Tn=!0)=>{null==rn||rn===this||null!=rn.domNode.parentNode&&(j.has(rn.domNode)||j.set(rn.domNode,[]),Tn&&ke(rn.parent))},Ye=rn=>{j.has(rn.domNode)&&(rn instanceof Wn&&rn.children.forEach(Ye),j.delete(rn.domNode),rn.optimize(M))};let Dt=x;for(let rn=0;Dt.length>0;rn+=1){if(rn>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(Dt.forEach(Tn=>{const $n=this.find(Tn.target,!0);null!=$n&&($n.domNode===Tn.target&&("childList"===Tn.type?(ke(this.find(Tn.previousSibling,!1)),Array.from(Tn.addedNodes).forEach(ei=>{const di=this.find(ei,!1);ke(di,!1),di instanceof Wn&&di.children.forEach(Qi=>{ke(Qi,!1)})})):"attributes"===Tn.type&&ke($n.prev)),ke($n))}),this.children.forEach(Ye),Dt=Array.from(this.observer.takeRecords()),ce=Dt.slice();ce.length>0;)x.push(ce.pop())}}update(x,M={}){x=x||this.observer.takeRecords();const j=new WeakMap;x.map(ce=>{const ke=this.find(ce.target,!0);return null==ke?null:j.has(ke.domNode)?(j.get(ke.domNode).push(ce),null):(j.set(ke.domNode,[ce]),ke)}).forEach(ce=>{null!=ce&&ce!==this&&j.has(ce.domNode)&&ce.update(j.get(ce.domNode)||[],M)}),M.mutationsMap=j,j.has(this.domNode)&&super.update(j.get(this.domNode),M),this.optimize(x,M)}};Mr.blotName="scroll",Mr.defaultChild=fo,Mr.allowedChildren=[fo,td],Mr.scope=ci.BLOCK_BLOT,Mr.tagName="DIV";const Uh=Mr,le=class ux extends uo{static create(x){return document.createTextNode(x)}static value(x){return x.data}constructor(x,M){super(x,M),this.text=this.statics.value(this.domNode)}deleteAt(x,M){this.domNode.data=this.text=this.text.slice(0,x)+this.text.slice(x+M)}index(x,M){return this.domNode===x?M:-1}insertAt(x,M,j){null==j?(this.text=this.text.slice(0,x)+M+this.text.slice(x),this.domNode.data=this.text):super.insertAt(x,M,j)}length(){return this.text.length}optimize(x){super.optimize(x),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof ux&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(x,M=!1){return[this.domNode,x]}split(x,M=!1){if(!M){if(0===x)return this;if(x===this.length())return this.next}const j=this.scroll.create(this.domNode.splitText(x));return this.parent.insertBefore(j,this.next||void 0),this.text=this.statics.value(this.domNode),j}update(x,M){x.some(j=>"characterData"===j.type&&j.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};le.blotName="text",le.scope=ci.INLINE_BLOT;const de=le;var _e=a(2577);const On=yo(Object.keys,Object);var si=Object.prototype.hasOwnProperty;const Ls=function vi(Z){return yr(Z)?Is(Z):function $i(Z){if(!xn(Z))return On(Z);var x=[];for(var M in Object(Z))si.call(Z,M)&&"constructor"!=M&&x.push(M);return x}(Z)},Qm=function zd(){return[]};var np=Object.prototype.propertyIsEnumerable,Ic=Object.getOwnPropertySymbols,Pu=Ic?function(Z){return null==Z?[]:(Z=Object(Z),function So(Z,x){for(var M=-1,j=null==Z?0:Z.length,ce=0,ke=[];++M<j;){var Ye=Z[M];x(Ye,M,Z)&&(ke[ce++]=Ye)}return ke}(Ic(Z),function(x){return np.call(Z,x)}))}:Qm;const Kd=Pu,jh=function bv(Z,x){for(var M=-1,j=x.length,ce=Z.length;++M<j;)Z[ce+M]=x[M];return Z};var nd=Object.getOwnPropertySymbols?function(Z){for(var x=[];Z;)jh(x,Kd(Z)),Z=Re(Z);return x}:Qm;const Sc=nd,Ev=function Vh(Z,x,M){var j=x(Z);return rr(Z)?j:jh(j,M(Z))},Vs=function id(Z){return Ev(Z,Ls,Kd)},Hd=function Ar(Z){return Ev(Z,To,Sc)},qm=Xe(J,"DataView"),Gh=Xe(J,"Promise"),Za=Xe(J,"Set"),Wh=Xe(J,"WeakMap");var Lu="[object Map]",ip="[object Promise]",rd="[object Set]",sc="[object WeakMap]",Al="[object DataView]",t_=ft(qm),lr=ft(Bt),sp=ft(Gh),rp=ft(Za),Nu=ft(Wh),od=Ve;(qm&&od(new qm(new ArrayBuffer(1)))!=Al||Bt&&od(new Bt)!=Lu||Gh&&od(Gh.resolve())!=ip||Za&&od(new Za)!=rd||Wh&&od(new Wh)!=sc)&&(od=function(Z){var x=Ve(Z),M="[object Object]"==x?Z.constructor:void 0,j=M?ft(M):"";if(j)switch(j){case t_:return Al;case lr:return Lu;case sp:return ip;case rp:return rd;case Nu:return sc}return x});const Bu=od;var hb=Object.prototype.hasOwnProperty;var yi=/\w*$/;var $r=fe?fe.prototype:void 0,qa=$r?$r.valueOf:void 0;const tl=function cd(Z,x,M){var j=Z.constructor;switch(x){case"[object ArrayBuffer]":return Pr(Z);case"[object Boolean]":case"[object Date]":return new j(+Z);case"[object DataView]":return function Xd(Z,x){var M=x?Pr(Z.buffer):Z.buffer;return new Z.constructor(M,Z.byteOffset,Z.byteLength)}(Z,M);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return so(Z,M);case"[object Map]":case"[object Set]":return new j;case"[object Number]":case"[object String]":return new j(Z);case"[object RegExp]":return function Jn(Z){var x=new Z.constructor(Z.source,yi.exec(Z));return x.lastIndex=Z.lastIndex,x}(Z);case"[object Symbol]":return function $o(Z){return qa?Object(qa.call(Z)):{}}(Z)}};var Jd=bn&&bn.isMap;const qo=Jd?Ha(Jd):function Uu(Z){return Li(Z)&&"[object Map]"==Bu(Z)};var nl=bn&&bn.isSet;const lp=nl?Ha(nl):function Oc(Z){return Li(Z)&&"[object Set]"==Bu(Z)};var n_="[object Arguments]",dp="[object Function]",po="[object Object]",dr={};dr[n_]=dr["[object Array]"]=dr["[object ArrayBuffer]"]=dr["[object DataView]"]=dr["[object Boolean]"]=dr["[object Date]"]=dr["[object Float32Array]"]=dr["[object Float64Array]"]=dr["[object Int8Array]"]=dr["[object Int16Array]"]=dr["[object Int32Array]"]=dr["[object Map]"]=dr["[object Number]"]=dr[po]=dr["[object RegExp]"]=dr["[object Set]"]=dr["[object String]"]=dr["[object Symbol]"]=dr["[object Uint8Array]"]=dr["[object Uint8ClampedArray]"]=dr["[object Uint16Array]"]=dr["[object Uint32Array]"]=!0,dr["[object Error]"]=dr[dp]=dr["[object WeakMap]"]=!1;const Rv=function eu(Z,x,M,j,ce,ke){var Ye,Dt=1&x,rn=2&x,Tn=4&x;if(M&&(Ye=ce?M(Z,j,ce,ke):M(Z)),void 0!==Ye)return Ye;if(!ht(Z))return Z;var $n=rr(Z);if($n){if(Ye=function rc(Z){var x=Z.length,M=new Z.constructor(x);return x&&"string"==typeof Z[0]&&hb.call(Z,"index")&&(M.index=Z.index,M.input=Z.input),M}(Z),!Dt)return Ho(Z,Ye)}else{var ei=Bu(Z),di=ei==dp||"[object GeneratorFunction]"==ei;if(Fs(Z))return Zs(Z,Dt);if(ei==po||ei==n_||di&&!ce){if(Ye=rn||di?{}:pi(Z),!Dt)return rn?function yv(Z,x){return Qs(Z,Sc(Z),x)}(Z,function ps(Z,x){return Z&&Qs(x,To(x),Z)}(Ye,Z)):function Jm(Z,x){return Qs(Z,Kd(Z),x)}(Z,function Ss(Z,x){return Z&&Qs(x,Ls(x),Z)}(Ye,Z))}else{if(!dr[ei])return ce?Z:{};Ye=tl(Z,ei,Dt)}}ke||(ke=new Bn);var Qi=ke.get(Z);if(Qi)return Qi;ke.set(Z,Ye),lp(Z)?Z.forEach(function(Ks){Ye.add(eu(Ks,x,M,Ks,Z,ke))}):qo(Z)&&Z.forEach(function(Ks,ss){Ye.set(ss,eu(Ks,x,M,ss,Z,ke))});var Es=$n?void 0:(Tn?rn?Hd:Vs:rn?To:Ls)(Z);return function nt(Z,x){for(var M=-1,j=null==Z?0:Z.length;++M<j&&!1!==x(Z[M],M,Z););}(Es||Z,function(Ks,ss){Es&&(Ks=Z[ss=Ks]),hs(Ye,ss,eu(Ks,x,M,ss,Z,ke))}),Ye},ud=function Pl(Z){return Rv(Z,5)};function mp(Z){var x=-1,M=null==Z?0:Z.length;for(this.__data__=new se;++x<M;)this.add(Z[x])}mp.prototype.add=mp.prototype.push=function Ns(Z){return this.__data__.set(Z,"__lodash_hash_undefined__"),this},mp.prototype.has=function Gu(Z){return this.__data__.has(Z)};const tu=mp,il=function Ac(Z,x){for(var M=-1,j=null==Z?0:Z.length;++M<j;)if(x(Z[M],M,Z))return!0;return!1},a_=function mb(Z,x){return Z.has(x)},Xh=function l_(Z,x,M,j,ce,ke){var Ye=1&M,Dt=Z.length,rn=x.length;if(Dt!=rn&&!(Ye&&rn>Dt))return!1;var Tn=ke.get(Z),$n=ke.get(x);if(Tn&&$n)return Tn==x&&$n==Z;var ei=-1,di=!0,Qi=2&M?new tu:void 0;for(ke.set(Z,x),ke.set(x,Z);++ei<Dt;){var qi=Z[ei],Es=x[ei];if(j)var Ks=Ye?j(Es,qi,ei,x,Z,ke):j(qi,Es,ei,Z,x,ke);if(void 0!==Ks){if(Ks)continue;di=!1;break}if(Qi){if(!il(x,function(ss,qr){if(!a_(Qi,qr)&&(qi===ss||ce(qi,ss,M,j,ke)))return Qi.push(qr)})){di=!1;break}}else if(qi!==Es&&!ce(qi,Es,M,j,ke)){di=!1;break}}return ke.delete(Z),ke.delete(x),di},_p=function Pv(Z){var x=-1,M=Array(Z.size);return Z.forEach(function(j,ce){M[++x]=[ce,j]}),M},gp=function Wu(Z){var x=-1,M=Array(Z.size);return Z.forEach(function(j){M[++x]=j}),M};var bp=fe?fe.prototype:void 0,h_=bp?bp.valueOf:void 0;var vs=Object.prototype.hasOwnProperty;var yp="[object Arguments]",iu="[object Array]",Ca="[object Object]",Qh=Object.prototype.hasOwnProperty;const Cp=function m_(Z,x,M,j,ce,ke){var Ye=rr(Z),Dt=rr(x),rn=Ye?iu:Bu(Z),Tn=Dt?iu:Bu(x),$n=(rn=rn==yp?Ca:rn)==Ca,ei=(Tn=Tn==yp?Ca:Tn)==Ca,di=rn==Tn;if(di&&Fs(Z)){if(!Fs(x))return!1;Ye=!0,$n=!1}if(di&&!$n)return ke||(ke=new Bn),Ye||kn(Z)?Xh(Z,x,M,j,ce,ke):function gb(Z,x,M,j,ce,ke,Ye){switch(M){case"[object DataView]":if(Z.byteLength!=x.byteLength||Z.byteOffset!=x.byteOffset)return!1;Z=Z.buffer,x=x.buffer;case"[object ArrayBuffer]":return!(Z.byteLength!=x.byteLength||!ke(new io(Z),new io(x)));case"[object Boolean]":case"[object Date]":case"[object Number]":return b(+Z,+x);case"[object Error]":return Z.name==x.name&&Z.message==x.message;case"[object RegExp]":case"[object String]":return Z==x+"";case"[object Map]":var Dt=_p;case"[object Set]":if(Dt||(Dt=gp),Z.size!=x.size&&!(1&j))return!1;var Tn=Ye.get(Z);if(Tn)return Tn==x;j|=2,Ye.set(Z,x);var $n=Xh(Dt(Z),Dt(x),j,ce,ke,Ye);return Ye.delete(Z),$n;case"[object Symbol]":if(h_)return h_.call(Z)==h_.call(x)}return!1}(Z,x,rn,M,j,ce,ke);if(!(1&M)){var Qi=$n&&Qh.call(Z,"__wrapped__"),qi=ei&&Qh.call(x,"__wrapped__");if(Qi||qi){var Es=Qi?Z.value():Z,Ks=qi?x.value():x;return ke||(ke=new Bn),ce(Es,Ks,M,j,ke)}}return!!di&&(ke||(ke=new Bn),function f_(Z,x,M,j,ce,ke){var Ye=1&M,Dt=Vs(Z),rn=Dt.length;if(rn!=Vs(x).length&&!Ye)return!1;for(var ei=rn;ei--;){var di=Dt[ei];if(!(Ye?di in x:vs.call(x,di)))return!1}var Qi=ke.get(Z),qi=ke.get(x);if(Qi&&qi)return Qi==x&&qi==Z;var Es=!0;ke.set(Z,x),ke.set(x,Z);for(var Ks=Ye;++ei<rn;){var ss=Z[di=Dt[ei]],qr=x[di];if(j)var xf=Ye?j(qr,ss,di,x,Z,ke):j(ss,qr,di,Z,x,ke);if(!(void 0===xf?ss===qr||ce(ss,qr,M,j,ke):xf)){Es=!1;break}Ks||(Ks="constructor"==di)}if(Es&&!Ks){var _h=Z.constructor,ol=x.constructor;_h!=ol&&"constructor"in Z&&"constructor"in x&&!("function"==typeof _h&&_h instanceof _h&&"function"==typeof ol&&ol instanceof ol)&&(Es=!1)}return ke.delete(Z),ke.delete(x),Es}(Z,x,M,j,ce,ke))},Mp=function jv(Z,x,M,j,ce){return Z===x||(null==Z||null==x||!Li(Z)&&!Li(x)?Z!=Z&&x!=x:Cp(Z,x,M,j,jv,ce))},Ku=function __(Z,x){return Mp(Z,x)},Oo=(()=>{class Z extends Cr{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}return Z.blotName="break",Z.tagName="BR",Z})();class sl extends de{}function Ra(Z){return Z.replace(/[&<>"']/g,x=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[x]))}const Pc=(()=>{class Z extends Vd{static allowedChildren=[Z,Oo,Cr,sl];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(M,j){const ce=Z.order.indexOf(M),ke=Z.order.indexOf(j);return ce>=0||ke>=0?ce-ke:M===j?0:M<j?-1:1}formatAt(M,j,ce,ke){if(Z.compare(this.statics.blotName,ce)<0&&this.scroll.query(ce,ci.BLOT)){const Ye=this.isolate(M,j);ke&&Ye.wrap(ce,ke)}else super.formatAt(M,j,ce,ke)}optimize(M){if(super.optimize(M),this.parent instanceof Z&&Z.compare(this.statics.blotName,this.parent.statics.blotName)>0){const j=this.parent.isolate(this.offset(),this.length());this.moveChildren(j),j.wrap(this)}}}return Z})();let ka=(()=>{class Z extends fo{cache={};delta(){return null==this.cache.delta&&(this.cache.delta=Hu(this)),this.cache.delta}deleteAt(M,j){super.deleteAt(M,j),this.cache={}}formatAt(M,j,ce,ke){j<=0||(this.scroll.query(ce,ci.BLOCK)?M+j===this.length()&&this.format(ce,ke):super.formatAt(M,Math.min(j,this.length()-M-1),ce,ke),this.cache={})}insertAt(M,j,ce){if(null!=ce)return super.insertAt(M,j,ce),void(this.cache={});if(0===j.length)return;const ke=j.split("\n"),Ye=ke.shift();Ye.length>0&&(M<this.length()-1||null==this.children.tail?super.insertAt(Math.min(M,this.length()-1),Ye):this.children.tail.insertAt(this.children.tail.length(),Ye),this.cache={});let Dt=this;ke.reduce((rn,Tn)=>(Dt=Dt.split(rn,!0),Dt.insertAt(0,Tn),Tn.length),M+Ye.length)}insertBefore(M,j){const{head:ce}=this.children;super.insertBefore(M,j),ce instanceof Oo&&ce.remove(),this.cache={}}length(){return null==this.cache.length&&(this.cache.length=super.length()+1),this.cache.length}moveChildren(M,j){super.moveChildren(M,j),this.cache={}}optimize(M){super.optimize(M),this.cache={}}path(M){return super.path(M,!0)}removeChild(M){super.removeChild(M),this.cache={}}split(M){let j=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(j&&(0===M||M>=this.length()-1)){const ke=this.clone();return 0===M?(this.parent.insertBefore(ke,this),this):(this.parent.insertBefore(ke,this.next),ke)}const ce=super.split(M,j);return this.cache={},ce}}return Z.blotName="block",Z.tagName="P",Z.defaultChild=Oo,Z.allowedChildren=[Oo,Pc,Cr,sl],Z})();class Pa extends Cr{attach(){super.attach(),this.attributes=new qc(this.domNode)}delta(){return(new _e).insert(this.value(),{...this.formats(),...this.attributes.values()})}format(x,M){const j=this.scroll.query(x,ci.BLOCK_ATTRIBUTE);null!=j&&this.attributes.attribute(j,M)}formatAt(x,M,j,ce){this.format(j,ce)}insertAt(x,M,j){if(null!=j)return void super.insertAt(x,M,j);const ce=M.split("\n"),ke=ce.pop(),Ye=ce.map(rn=>{const Tn=this.scroll.create(ka.blotName);return Tn.insertAt(0,rn),Tn}),Dt=this.split(x);Ye.forEach(rn=>{this.parent.insertBefore(rn,Dt)}),ke&&this.parent.insertBefore(this.scroll.create("text",ke),Dt)}}function Hu(Z){let x=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Z.descendants(uo).reduce((M,j)=>0===j.length()?M:M.insert(j.value(),aa(j,{},x)),new _e).insert("\n",aa(Z))}function aa(Z){let x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},M=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return null==Z||("formats"in Z&&"function"==typeof Z.formats&&(x={...x,...Z.formats()},M&&delete x["code-token"]),null==Z.parent||"scroll"===Z.parent.statics.blotName||Z.parent.statics.scope!==Z.statics.scope)?x:aa(Z.parent,x,M)}Pa.scope=ci.BLOCK_BLOT;const hd=(()=>{class Z extends Cr{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\ufeff";static value(){}constructor(M,j,ce){super(M,j),this.selection=ce,this.textNode=document.createTextNode(Z.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){null!=this.parent&&this.parent.removeChild(this)}format(M,j){if(0!==this.savedLength)return void super.format(M,j);let ce=this,ke=0;for(;null!=ce&&ce.statics.scope!==ci.BLOCK_BLOT;)ke+=ce.offset(ce.parent),ce=ce.parent;null!=ce&&(this.savedLength=Z.CONTENTS.length,ce.optimize(),ce.formatAt(ke,Z.CONTENTS.length,M,j),this.savedLength=0)}index(M,j){return M===this.textNode?0:super.index(M,j)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||null==this.parent)return null;const M=this.selection.getNativeRange();for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const j=this.prev instanceof sl?this.prev:null,ce=j?j.length():0,ke=this.next instanceof sl?this.next:null,Ye=ke?ke.text:"",{textNode:Dt}=this,rn=Dt.data.split(Z.CONTENTS).join("");let Tn;if(Dt.data=Z.CONTENTS,j)Tn=j,(rn||ke)&&(j.insertAt(j.length(),rn+Ye),ke&&ke.remove());else if(ke)Tn=ke,ke.insertAt(0,rn);else{const $n=document.createTextNode(rn);Tn=this.scroll.create($n),this.parent.insertBefore(Tn,this)}if(this.remove(),M){const $n=(Qi,qi)=>j&&Qi===j.domNode?qi:Qi===Dt?ce+qi-1:ke&&Qi===ke.domNode?ce+rn.length+qi:null,ei=$n(M.start.node,M.start.offset),di=$n(M.end.node,M.end.offset);if(null!==ei&&null!==di)return{startNode:Tn.domNode,startOffset:ei,endNode:Tn.domNode,endOffset:di}}return null}update(M,j){if(M.some(ce=>"characterData"===ce.type&&ce.target===this.textNode)){const ce=this.restore();ce&&(j.range=ce)}}optimize(M){super.optimize(M);let{parent:j}=this;for(;j;){if("A"===j.domNode.tagName){this.savedLength=Z.CONTENTS.length,j.isolate(this.offset(j),this.length()).unwrap(),this.savedLength=0;break}j=j.parent}}value(){return""}}return Z})();var $v=a(9280);const Fl=new WeakMap,Jh=["error","warn","log","info"];let Xu="warn";function Dp(Z){if(Xu&&Jh.indexOf(Z)<=Jh.indexOf(Xu)){for(var x=arguments.length,M=new Array(x>1?x-1:0),j=1;j<x;j++)M[j-1]=arguments[j];console[Z](...M)}}function Yu(Z){return Jh.reduce((x,M)=>(x[M]=Dp.bind(console,M,Z),x),{})}Yu.level=Z=>{Xu=Z},Dp.level=Yu.level;const uc=Yu,Zh=uc("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(Z=>{document.addEventListener(Z,function(){for(var x=arguments.length,M=new Array(x),j=0;j<x;j++)M[j]=arguments[j];Array.from(document.querySelectorAll(".ql-container")).forEach(ce=>{const ke=Fl.get(ce);ke&&ke.emitter&&ke.emitter.handleDOM(...M)})})});const ni=(()=>class Z extends $v{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super(),this.domListeners={},this.on("error",Zh.error)}emit(){for(var M=arguments.length,j=new Array(M),ce=0;ce<M;ce++)j[ce]=arguments[ce];return Zh.log.call(Zh,...j),super.emit(...j)}handleDOM(M){for(var j=arguments.length,ce=new Array(j>1?j-1:0),ke=1;ke<j;ke++)ce[ke-1]=arguments[ke];(this.domListeners[M.type]||[]).forEach(Ye=>{let{node:Dt,handler:rn}=Ye;(M.target===Dt||Dt.contains(M.target))&&rn(M,...ce)})}listenDOM(M,j,ce){this.domListeners[M]||(this.domListeners[M]=[]),this.domListeners[M].push({node:j,handler:ce})}})(),qh=uc("quill:selection");class Ll{constructor(x){let M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.index=x,this.length=M}}function v_(Z,x){return Z.contains(x)}const Wv=class Gv{constructor(x,M){this.emitter=M,this.scroll=x,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new Ll(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,ni.sources.USER),1)}),this.emitter.on(ni.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const j=this.getNativeRange();null!=j&&j.start.node!==this.cursor.textNode&&this.emitter.once(ni.events.SCROLL_UPDATE,(ce,ke)=>{try{this.root.contains(j.start.node)&&this.root.contains(j.end.node)&&this.setNativeRange(j.start.node,j.start.offset,j.end.node,j.end.offset);const Ye=ke.some(Dt=>"characterData"===Dt.type||"childList"===Dt.type||"attributes"===Dt.type&&Dt.target===this.root);this.update(Ye?ni.sources.SILENT:ce)}catch{}})}),this.emitter.on(ni.events.SCROLL_OPTIMIZE,(j,ce)=>{if(ce.range){const{startNode:ke,startOffset:Ye,endNode:Dt,endOffset:rn}=ce.range;this.setNativeRange(ke,Ye,Dt,rn),this.update(ni.sources.SILENT)}}),this.update(ni.sources.SILENT)}handleComposition(){this.emitter.on(ni.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(ni.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const x=this.cursor.restore();if(!x)return;setTimeout(()=>{this.setNativeRange(x.startNode,x.startOffset,x.endNode,x.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(ni.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(x,M){this.scroll.update();const j=this.getNativeRange();if(null!=j&&j.native.collapsed&&!this.scroll.query(x,ci.BLOCK)){if(j.start.node!==this.cursor.textNode){const ce=this.scroll.find(j.start.node,!1);if(null==ce)return;if(ce instanceof uo){const ke=ce.split(j.start.offset);ce.parent.insertBefore(this.cursor,ke)}else ce.insertBefore(this.cursor,j.start.node);this.cursor.attach()}this.cursor.format(x,M),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(x){let M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const j=this.scroll.length();x=Math.min(x,j-1),M=Math.min(x+M,j-1)-x;let ce,[ke,Ye]=this.scroll.leaf(x);if(null==ke)return null;if(M>0&&Ye===ke.length()){const[$n]=this.scroll.leaf(x+1);if($n){const[ei]=this.scroll.line(x),[di]=this.scroll.line(x+1);ei===di&&(ke=$n,Ye=0)}}[ce,Ye]=ke.position(Ye,!0);const Dt=document.createRange();if(M>0)return Dt.setStart(ce,Ye),[ke,Ye]=this.scroll.leaf(x+M),null==ke?null:([ce,Ye]=ke.position(Ye,!0),Dt.setEnd(ce,Ye),Dt.getBoundingClientRect());let Tn,rn="left";if(ce instanceof Text){if(!ce.data.length)return null;Ye<ce.data.length?(Dt.setStart(ce,Ye),Dt.setEnd(ce,Ye+1)):(Dt.setStart(ce,Ye-1),Dt.setEnd(ce,Ye),rn="right"),Tn=Dt.getBoundingClientRect()}else{if(!(ke.domNode instanceof Element))return null;Tn=ke.domNode.getBoundingClientRect(),Ye>0&&(rn="right")}return{bottom:Tn.top+Tn.height,height:Tn.height,left:Tn[rn],right:Tn[rn],top:Tn.top,width:0}}getNativeRange(){const x=document.getSelection();if(null==x||x.rangeCount<=0)return null;const M=x.getRangeAt(0);if(null==M)return null;const j=this.normalizeNative(M);return qh.info("getNativeRange",j),j}getRange(){const x=this.scroll.domNode;if("isConnected"in x&&!x.isConnected)return[null,null];const M=this.getNativeRange();return null==M?[null,null]:[this.normalizedToRange(M),M]}hasFocus(){return document.activeElement===this.root||null!=document.activeElement&&v_(this.root,document.activeElement)}normalizedToRange(x){const M=[[x.start.node,x.start.offset]];x.native.collapsed||M.push([x.end.node,x.end.offset]);const j=M.map(Ye=>{const[Dt,rn]=Ye,Tn=this.scroll.find(Dt,!0),$n=Tn.offset(this.scroll);return 0===rn?$n:Tn instanceof uo?$n+Tn.index(Dt,rn):$n+Tn.length()}),ce=Math.min(Math.max(...j),this.scroll.length()-1),ke=Math.min(ce,...j);return new Ll(ke,ce-ke)}normalizeNative(x){if(!v_(this.root,x.startContainer)||!x.collapsed&&!v_(this.root,x.endContainer))return null;const M={start:{node:x.startContainer,offset:x.startOffset},end:{node:x.endContainer,offset:x.endOffset},native:x};return[M.start,M.end].forEach(j=>{let{node:ce,offset:ke}=j;for(;!(ce instanceof Text)&&ce.childNodes.length>0;)if(ce.childNodes.length>ke)ce=ce.childNodes[ke],ke=0;else{if(ce.childNodes.length!==ke)break;ce=ce.lastChild,ke=ce instanceof Text?ce.data.length:ce.childNodes.length>0?ce.childNodes.length:ce.childNodes.length+1}j.node=ce,j.offset=ke}),M}rangeToNative(x){const M=this.scroll.length(),j=(ce,ke)=>{ce=Math.min(M-1,ce);const[Ye,Dt]=this.scroll.leaf(ce);return Ye?Ye.position(Dt,ke):[null,-1]};return[...j(x.index,!1),...j(x.index+x.length,!0)]}setNativeRange(x,M){let j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x,ce=arguments.length>3&&void 0!==arguments[3]?arguments[3]:M,ke=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(qh.info("setNativeRange",x,M,j,ce),null!=x&&(null==this.root.parentNode||null==x.parentNode||null==j.parentNode))return;const Ye=document.getSelection();if(null!=Ye)if(null!=x){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:Dt}=this.getNativeRange()||{};if(null==Dt||ke||x!==Dt.startContainer||M!==Dt.startOffset||j!==Dt.endContainer||ce!==Dt.endOffset){x instanceof Element&&"BR"===x.tagName&&(M=Array.from(x.parentNode.childNodes).indexOf(x),x=x.parentNode),j instanceof Element&&"BR"===j.tagName&&(ce=Array.from(j.parentNode.childNodes).indexOf(j),j=j.parentNode);const rn=document.createRange();rn.setStart(x,M),rn.setEnd(j,ce),Ye.removeAllRanges(),Ye.addRange(rn)}}else Ye.removeAllRanges(),this.root.blur()}setRange(x){let M=arguments.length>1&&void 0!==arguments[1]&&arguments[1],j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ni.sources.API;if("string"==typeof M&&(j=M,M=!1),qh.info("setRange",x),null!=x){const ce=this.rangeToNative(x);this.setNativeRange(...ce,M)}else this.setNativeRange(null);this.update(j)}update(){let x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ni.sources.USER;const M=this.lastRange,[j,ce]=this.getRange();if(this.lastRange=j,this.lastNative=ce,null!=this.lastRange&&(this.savedRange=this.lastRange),!Ku(M,this.lastRange)){if(!this.composing&&null!=ce&&ce.native.collapsed&&ce.start.node!==this.cursor.textNode){const Ye=this.cursor.restore();Ye&&this.setNativeRange(Ye.startNode,Ye.startOffset,Ye.endNode,Ye.endOffset)}const ke=[ni.events.SELECTION_CHANGE,ud(this.lastRange),ud(M),x];this.emitter.emit(ni.events.EDITOR_CHANGE,...ke),x!==ni.sources.SILENT&&this.emitter.emit(...ke)}}},ef=/^[ -~]*$/;function la(Z,x,M){if(0===Z.length){const[Qi]=_l(M.pop());return x<=0?`</li></${Qi}>`:`</li></${Qi}>${la([],x-1,M)}`}const[{child:j,offset:ce,length:ke,indent:Ye,type:Dt},...rn]=Z,[Tn,$n]=_l(Dt);if(Ye>x)return M.push(Dt),Ye===x+1?`<${Tn}><li${$n}>${tf(j,ce,ke)}${la(rn,Ye,M)}`:`<${Tn}><li>${la(Z,x+1,M)}`;if(Ye===x&&Dt===M[M.length-1])return`</li><li${$n}>${tf(j,ce,ke)}${la(rn,Ye,M)}`;const[di]=_l(M.pop());return`</li></${di}>${la(Z,x-1,M)}`}function tf(Z,x,M){let j=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("html"in Z&&"function"==typeof Z.html)return Z.html(x,M);if(Z instanceof sl)return Ra(Z.value().slice(x,x+M));if(Z instanceof Wn){if("list-container"===Z.statics.blotName){const Tn=[];return Z.children.forEachAt(x,M,($n,ei,di)=>{const Qi="formats"in $n&&"function"==typeof $n.formats?$n.formats():{};Tn.push({child:$n,offset:ei,length:di,indent:Qi.indent||0,type:Qi.list})}),la(Tn,-1,[])}const ce=[];if(Z.children.forEachAt(x,M,(Tn,$n,ei)=>{ce.push(tf(Tn,$n,ei))}),j||"list"===Z.statics.blotName)return ce.join("");const{outerHTML:ke,innerHTML:Ye}=Z.domNode,[Dt,rn]=ke.split(`>${Ye}<`);return"<table"===Dt?`<table style="border: 1px solid #000;">${ce.join("")}<${rn}`:`${Dt}>${ce.join("")}<${rn}`}return Z.domNode instanceof Element?Z.domNode.outerHTML:""}function Ip(Z,x){return Object.keys(x).reduce((M,j)=>{if(null==Z[j])return M;const ce=x[j];return M[j]=ce===Z[j]?ce:Array.isArray(ce)?ce.indexOf(Z[j])<0?ce.concat([Z[j]]):ce:[ce,Z[j]],M},{})}function _l(Z){const x="ordered"===Z?"ol":"ul";switch(Z){case"checked":return[x,' data-list="checked"'];case"unchecked":return[x,' data-list="unchecked"'];default:return[x,""]}}function ru(Z){return Z.reduce((x,M)=>{if("string"==typeof M.insert){const j=M.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return x.insert(j,M.attributes)}return x.push(M)},new _e)}function gl(Z,x){let{index:M,length:j}=Z;return new Ll(M+x,j)}const hc=class fd{constructor(x){this.scroll=x,this.delta=this.getDelta()}applyDelta(x){this.scroll.update();let M=this.scroll.length();this.scroll.batchStart();const j=ru(x),ce=new _e;return function zv(Z){const x=[];return Z.forEach(M=>{"string"==typeof M.insert?M.insert.split("\n").forEach((ce,ke)=>{ke&&x.push({insert:"\n",attributes:M.attributes}),ce&&x.push({insert:ce,attributes:M.attributes})}):x.push(M)}),x}(j.ops.slice()).reduce((Ye,Dt)=>{const rn=_e.Op.length(Dt);let Tn=Dt.attributes||{},$n=!1,ei=!1;if(null!=Dt.insert){if(ce.retain(rn),"string"==typeof Dt.insert){const qi=Dt.insert;ei=!qi.endsWith("\n")&&(M<=Ye||!!this.scroll.descendant(Pa,Ye)[0]),this.scroll.insertAt(Ye,qi);const[Es,Ks]=this.scroll.line(Ye);let ss=fl({},aa(Es));if(Es instanceof ka){const[qr]=Es.descendant(uo,Ks);qr&&(ss=fl(ss,aa(qr)))}Tn=_e.AttributeMap.diff(ss,Tn)||{}}else if("object"==typeof Dt.insert){const qi=Object.keys(Dt.insert)[0];if(null==qi)return Ye;const Es=null!=this.scroll.query(qi,ci.INLINE);if(Es)(M<=Ye||this.scroll.descendant(Pa,Ye)[0])&&(ei=!0);else if(Ye>0){const[Ks,ss]=this.scroll.descendant(uo,Ye-1);Ks instanceof sl?"\n"!==Ks.value()[ss]&&($n=!0):Ks instanceof Cr&&Ks.statics.scope===ci.INLINE_BLOT&&($n=!0)}if(this.scroll.insertAt(Ye,qi,Dt.insert[qi]),Es){const[Ks]=this.scroll.descendant(uo,Ye);if(Ks){const ss=fl({},aa(Ks));Tn=_e.AttributeMap.diff(ss,Tn)||{}}}}M+=rn}else if(ce.push(Dt),null!==Dt.retain&&"object"==typeof Dt.retain){const qi=Object.keys(Dt.retain)[0];if(null==qi)return Ye;this.scroll.updateEmbedAt(Ye,qi,Dt.retain[qi])}Object.keys(Tn).forEach(qi=>{this.scroll.formatAt(Ye,rn,qi,Tn[qi])});const di=$n?1:0,Qi=ei?1:0;return M+=di+Qi,ce.retain(di),ce.delete(Qi),Ye+rn+di+Qi},0),ce.reduce((Ye,Dt)=>"number"==typeof Dt.delete?(this.scroll.deleteAt(Ye,Dt.delete),Ye):Ye+_e.Op.length(Dt),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(j)}deleteText(x,M){return this.scroll.deleteAt(x,M),this.update((new _e).retain(x).delete(M))}formatLine(x,M){let j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.scroll.update(),Object.keys(j).forEach(ke=>{this.scroll.lines(x,Math.max(M,1)).forEach(Ye=>{Ye.format(ke,j[ke])})}),this.scroll.optimize();const ce=(new _e).retain(x).retain(M,ud(j));return this.update(ce)}formatText(x,M){let j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.keys(j).forEach(ke=>{this.scroll.formatAt(x,M,ke,j[ke])});const ce=(new _e).retain(x).retain(M,ud(j));return this.update(ce)}getContents(x,M){return this.delta.slice(x,x+M)}getDelta(){return this.scroll.lines().reduce((x,M)=>x.concat(M.delta()),new _e)}getFormat(x){let M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,j=[],ce=[];0===M?this.scroll.path(x).forEach(Dt=>{const[rn]=Dt;rn instanceof ka?j.push(rn):rn instanceof uo&&ce.push(rn)}):(j=this.scroll.lines(x,M),ce=this.scroll.descendants(uo,x,M));const[ke,Ye]=[j,ce].map(Dt=>{const rn=Dt.shift();if(null==rn)return{};let Tn=aa(rn);for(;Object.keys(Tn).length>0;){const $n=Dt.shift();if(null==$n)return Tn;Tn=Ip(aa($n),Tn)}return Tn});return{...ke,...Ye}}getHTML(x,M){const[j,ce]=this.scroll.line(x);if(j){const ke=j.length();return j.length()>=ce+M&&(0!==ce||M!==ke)?tf(j,ce,M,!0):tf(this.scroll,x,M,!0)}return""}getText(x,M){return this.getContents(x,M).filter(j=>"string"==typeof j.insert).map(j=>j.insert).join("")}insertContents(x,M){const j=ru(M),ce=(new _e).retain(x).concat(j);return this.scroll.insertContents(x,j),this.update(ce)}insertEmbed(x,M,j){return this.scroll.insertAt(x,M,j),this.update((new _e).retain(x).insert({[M]:j}))}insertText(x,M){let j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return M=M.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(x,M),Object.keys(j).forEach(ce=>{this.scroll.formatAt(x,M.length,ce,j[ce])}),this.update((new _e).retain(x).insert(M,ud(j)))}isBlank(){if(0===this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;const x=this.scroll.children.head;return x?.statics.blotName===ka.blotName&&(!(x.children.length>1)&&x.children.head instanceof Oo)}removeFormat(x,M){const j=this.getText(x,M),[ce,ke]=this.scroll.line(x+M);let Ye=0,Dt=new _e;null!=ce&&(Ye=ce.length()-ke,Dt=ce.delta().slice(ke,ke+Ye-1).insert("\n"));const Tn=this.getContents(x,M+Ye).diff((new _e).insert(j).concat(Dt)),$n=(new _e).retain(x).concat(Tn);return this.applyDelta($n)}update(x){let M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const ce=this.delta;if(1===M.length&&"characterData"===M[0].type&&M[0].target.data.match(ef)&&this.scroll.find(M[0].target)){const ke=this.scroll.find(M[0].target),Ye=aa(ke),Dt=ke.offset(this.scroll),rn=M[0].oldValue.replace(hd.CONTENTS,""),Tn=(new _e).insert(rn),$n=(new _e).insert(ke.value()),ei=j&&{oldRange:gl(j.oldRange,-Dt),newRange:gl(j.newRange,-Dt)};x=(new _e).retain(Dt).concat(Tn.diff($n,ei)).reduce((Qi,qi)=>qi.insert?Qi.insert(qi.insert,Ye):Qi.push(qi),new _e),this.delta=ce.compose(x)}else this.delta=this.getDelta(),(!x||!Ku(ce.compose(x),this.delta))&&(x=ce.diff(this.delta,j));return x}},Ao=(()=>class Z{static DEFAULTS={};constructor(M){let j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.quill=M,this.options=j}})(),Lc=class cs extends Cr{constructor(x,M){super(x,M),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(j=>{this.contentNode.appendChild(j)}),this.leftGuard=document.createTextNode("\ufeff"),this.rightGuard=document.createTextNode("\ufeff"),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(x,M){return x===this.leftGuard?0:x===this.rightGuard?1:super.index(x,M)}restore(x){let j,M=null;const ce=x.data.split("\ufeff").join("");if(x===this.leftGuard)if(this.prev instanceof sl){const ke=this.prev.length();this.prev.insertAt(ke,ce),M={startNode:this.prev.domNode,startOffset:ke+ce.length}}else j=document.createTextNode(ce),this.parent.insertBefore(this.scroll.create(j),this),M={startNode:j,startOffset:ce.length};else x===this.rightGuard&&(this.next instanceof sl?(this.next.insertAt(0,ce),M={startNode:this.next.domNode,startOffset:ce.length}):(j=document.createTextNode(ce),this.parent.insertBefore(this.scroll.create(j),this.next),M={startNode:j,startOffset:ce.length}));return x.data="\ufeff",M}update(x,M){x.forEach(j=>{if("characterData"===j.type&&(j.target===this.leftGuard||j.target===this.rightGuard)){const ce=this.restore(j.target);ce&&(M.range=ce)}})}},Kv=class Qu{isComposing=!1;constructor(x,M){this.scroll=x,this.emitter=M,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",x=>{this.isComposing||this.handleCompositionStart(x)}),this.scroll.domNode.addEventListener("compositionend",x=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(x)})})}handleCompositionStart(x){const M=x.target instanceof Node?this.scroll.find(x.target,!0):null;M&&!(M instanceof Lc)&&(this.emitter.emit(ni.events.COMPOSITION_BEFORE_START,x),this.scroll.batchStart(),this.emitter.emit(ni.events.COMPOSITION_START,x),this.isComposing=!0)}handleCompositionEnd(x){this.emitter.emit(ni.events.COMPOSITION_BEFORE_END,x),this.scroll.batchEnd(),this.emitter.emit(ni.events.COMPOSITION_END,x),this.isComposing=!1}},Sp=(()=>{class Z{static DEFAULTS={modules:{}};static themes={default:Z};modules={};constructor(M,j){this.quill=M,this.options=j}init(){Object.keys(this.options.modules).forEach(M=>{null==this.modules[M]&&this.addModule(M)})}addModule(M){const j=this.quill.constructor.import(`modules/${M}`);return this.modules[M]=new j(this.quill,this.options.modules[M]||{}),this.modules[M]}}return Z})(),b_=Z=>Z.parentElement||Z.getRootNode().host||null,y_=Z=>{const x=Z.getBoundingClientRect(),M="offsetWidth"in Z&&Math.abs(x.width)/Z.offsetWidth||1,j="offsetHeight"in Z&&Math.abs(x.height)/Z.offsetHeight||1;return{top:x.top,right:x.left+Z.clientWidth*M,bottom:x.top+Z.clientHeight*j,left:x.left}},Fa=Z=>{const x=parseInt(Z,10);return Number.isNaN(x)?0:x},nf=(Z,x,M,j,ce,ke)=>Z<M&&x>j?0:Z<M?-(M-Z+ce):x>j?x-Z>j-M?Z+ce-M:x-j+ke:0,Xv=["block","break","cursor","inline","scroll","text"],au=uc("quill"),pd=new Ja;Wn.uiClass="ql-ui";class jn{static DEFAULTS={bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:pd,theme:"default"};static events=ni.events;static sources=ni.sources;static version="2.0.2";static imports={delta:_e,parchment:e,"core/module":Ao,"core/theme":Sp};static debug(x){!0===x&&(x="log"),uc.level(x)}static find(x){let M=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Fl.get(x)||pd.find(x,M)}static import(x){return null==this.imports[x]&&au.error(`Cannot import ${x}. Are you sure it was registered?`),this.imports[x]}static register(){if("string"!=typeof(arguments.length<=0?void 0:arguments[0])){const x=arguments.length<=0?void 0:arguments[0],M=!(arguments.length<=1||!arguments[1]),j="attrName"in x?x.attrName:x.blotName;"string"==typeof j?this.register(`formats/${j}`,x,M):Object.keys(x).forEach(ce=>{this.register(ce,x[ce],M)})}else{const x=arguments.length<=0?void 0:arguments[0],M=arguments.length<=1?void 0:arguments[1];null!=this.imports[x]&&!(!(arguments.length<=2)&&arguments[2])&&au.warn(`Overwriting ${x} with`,M),this.imports[x]=M,(x.startsWith("blots/")||x.startsWith("formats/"))&&M&&"boolean"!=typeof M&&"abstract"!==M.blotName&&pd.register(M),"function"==typeof M.register&&M.register(pd)}}constructor(x){if(this.options=function lf(Z,x){const M=bl(Z);if(!M)throw new Error("Invalid Quill container");const ce=x.theme&&x.theme!==jn.DEFAULTS.theme?jn.import(`themes/${x.theme}`):Sp;if(!ce)throw new Error(`Invalid theme ${x.theme}. Did you register it?`);const{modules:ke,...Ye}=jn.DEFAULTS,{modules:Dt,...rn}=ce.DEFAULTS;let Tn=rl(x.modules);null!=Tn&&Tn.toolbar&&Tn.toolbar.constructor!==Object&&(Tn={...Tn,toolbar:{container:Tn.toolbar}});const $n=fl({},rl(ke),rl(Dt),Tn),ei={...Ye,...C_(rn),...C_(x)};let di=x.registry;return di?x.formats&&au.warn('Ignoring "formats" option because "registry" is specified'):di=x.formats?((Z,x,M)=>{const j=new Ja;return Xv.forEach(ce=>{const ke=x.query(ce);ke&&j.register(ke)}),Z.forEach(ce=>{let ke=x.query(ce);ke||M.error(`Cannot register "${ce}" specified in "formats" config. Are you sure it was registered?`);let Ye=0;for(;ke;)if(j.register(ke),ke="blotName"in ke?ke.requiredContainer??null:null,Ye+=1,Ye>100){M.error(`Cycle detected in registering blot requiredContainer: "${ce}"`);break}}),j})(x.formats,ei.registry,au):ei.registry,{...ei,registry:di,container:M,theme:ce,modules:Object.entries($n).reduce((Qi,qi)=>{let[Es,Ks]=qi;if(!Ks)return Qi;const ss=jn.import(`modules/${Es}`);return null==ss?(au.error(`Cannot load ${Es} module. Are you sure you registered it?`),Qi):{...Qi,[Es]:fl({},ss.DEFAULTS||{},Ks)}},{}),bounds:bl(ei.bounds)}}(x,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.container=this.options.container,null==this.container)return void au.error("Invalid Quill container",x);this.options.debug&&jn.debug(this.options.debug);const j=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",Fl.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new ni;const ce=Uh.blotName,ke=this.options.registry.query(ce);if(!ke||!("blotName"in ke))throw new Error(`Cannot initialize Quill without "${ce}" blot`);if(this.scroll=new ke(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new hc(this.scroll),this.selection=new Wv(this.scroll,this.emitter),this.composition=new Kv(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(ni.events.EDITOR_CHANGE,Ye=>{Ye===ni.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(ni.events.SCROLL_UPDATE,(Ye,Dt)=>{const rn=this.selection.lastRange,[Tn]=this.selection.getRange(),$n=rn&&Tn?{oldRange:rn,newRange:Tn}:void 0;La.call(this,()=>this.editor.update(null,Dt,$n),Ye)}),this.emitter.on(ni.events.SCROLL_EMBED_UPDATE,(Ye,Dt)=>{const rn=this.selection.lastRange,[Tn]=this.selection.getRange(),$n=rn&&Tn?{oldRange:rn,newRange:Tn}:void 0;La.call(this,()=>{const ei=(new _e).retain(Ye.offset(this)).retain({[Ye.statics.blotName]:Dt});return this.editor.update(ei,[],$n)},jn.sources.USER)}),j){const Ye=this.clipboard.convert({html:`${j}<p><br></p>`,text:"\n"});this.setContents(Ye)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(x){let M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof x){const j=x;(x=document.createElement("div")).classList.add(j)}return this.container.insertBefore(x,M),x}blur(){this.selection.setRange(null)}deleteText(x,M,j){return[x,M,,j]=Nl(x,M,j),La.call(this,()=>this.editor.deleteText(x,M),j,x,-1*M)}disable(){this.enable(!1)}editReadOnly(x){this.allowReadOnlyEdits=!0;const M=x();return this.allowReadOnlyEdits=!1,M}enable(){let x=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(x),this.container.classList.toggle("ql-disabled",!x)}focus(){let x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.selection.focus(),x.preventScroll||this.scrollSelectionIntoView()}format(x,M){return La.call(this,()=>{const ce=this.getSelection(!0);let ke=new _e;if(null==ce)return ke;if(this.scroll.query(x,ci.BLOCK))ke=this.editor.formatLine(ce.index,ce.length,{[x]:M});else{if(0===ce.length)return this.selection.format(x,M),ke;ke=this.editor.formatText(ce.index,ce.length,{[x]:M})}return this.setSelection(ce,ni.sources.SILENT),ke},arguments.length>2&&void 0!==arguments[2]?arguments[2]:ni.sources.API)}formatLine(x,M,j,ce,ke){let Ye;return[x,M,Ye,ke]=Nl(x,M,j,ce,ke),La.call(this,()=>this.editor.formatLine(x,M,Ye),ke,x,0)}formatText(x,M,j,ce,ke){let Ye;return[x,M,Ye,ke]=Nl(x,M,j,ce,ke),La.call(this,()=>this.editor.formatText(x,M,Ye),ke,x,0)}getBounds(x){let j=null;if(j="number"==typeof x?this.selection.getBounds(x,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.selection.getBounds(x.index,x.length),!j)return null;const ce=this.container.getBoundingClientRect();return{bottom:j.bottom-ce.top,height:j.height,left:j.left-ce.left,right:j.right-ce.left,top:j.top-ce.top,width:j.width}}getContents(){let x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-x;return[x,M]=Nl(x,M),this.editor.getContents(x,M)}getFormat(){let x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0);return"number"==typeof x?this.editor.getFormat(x,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.editor.getFormat(x.index,x.length)}getIndex(x){return x.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(x){return this.scroll.leaf(x)}getLine(x){return this.scroll.line(x)}getLines(){let x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof x?this.scroll.lines(x.index,x.length):this.scroll.lines(x,M)}getModule(x){return this.theme.modules[x]}getSelection(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,M=arguments.length>1?arguments[1]:void 0;return"number"==typeof x&&(M=M??this.getLength()-x),[x,M]=Nl(x,M),this.editor.getHTML(x,M)}getText(){let x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,M=arguments.length>1?arguments[1]:void 0;return"number"==typeof x&&(M=M??this.getLength()-x),[x,M]=Nl(x,M),this.editor.getText(x,M)}hasFocus(){return this.selection.hasFocus()}insertEmbed(x,M,j){return La.call(this,()=>this.editor.insertEmbed(x,M,j),arguments.length>3&&void 0!==arguments[3]?arguments[3]:jn.sources.API,x)}insertText(x,M,j,ce,ke){let Ye;return[x,,Ye,ke]=Nl(x,0,j,ce,ke),La.call(this,()=>this.editor.insertText(x,M,Ye),ke,x,M.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(x,M,j){return[x,M,,j]=Nl(x,M,j),La.call(this,()=>this.editor.removeFormat(x,M),j,x)}scrollRectIntoView(x){((Z,x)=>{const M=Z.ownerDocument;let j=x,ce=Z;for(;ce;){const ke=ce===M.body,Ye=ke?{top:0,right:window.visualViewport?.width??M.documentElement.clientWidth,bottom:window.visualViewport?.height??M.documentElement.clientHeight,left:0}:y_(ce),Dt=getComputedStyle(ce),rn=nf(j.left,j.right,Ye.left,Ye.right,Fa(Dt.scrollPaddingLeft),Fa(Dt.scrollPaddingRight)),Tn=nf(j.top,j.bottom,Ye.top,Ye.bottom,Fa(Dt.scrollPaddingTop),Fa(Dt.scrollPaddingBottom));if(rn||Tn)if(ke)M.defaultView?.scrollBy(rn,Tn);else{const{scrollLeft:$n,scrollTop:ei}=ce;Tn&&(ce.scrollTop+=Tn),rn&&(ce.scrollLeft+=rn);const di=ce.scrollLeft-$n,Qi=ce.scrollTop-ei;j={left:j.left-di,top:j.top-Qi,right:j.right-di,bottom:j.bottom-Qi}}ce=ke||"fixed"===Dt.position?null:b_(ce)}})(this.root,x)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const x=this.selection.lastRange,M=x&&this.selection.getBounds(x.index,x.length);M&&this.scrollRectIntoView(M)}setContents(x){return La.call(this,()=>{x=new _e(x);const j=this.getLength(),ce=this.editor.deleteText(0,j),ke=this.editor.insertContents(0,x),Ye=this.editor.deleteText(this.getLength()-1,1);return ce.compose(ke).compose(Ye)},arguments.length>1&&void 0!==arguments[1]?arguments[1]:ni.sources.API)}setSelection(x,M,j){null==x?this.selection.setRange(null,M||jn.sources.API):([x,M,,j]=Nl(x,M,j),this.selection.setRange(new Ll(Math.max(0,x),M),j),j!==ni.sources.SILENT&&this.scrollSelectionIntoView())}setText(x){let M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ni.sources.API;const j=(new _e).insert(x);return this.setContents(j,M)}update(){let x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ni.sources.USER;const M=this.scroll.update(x);return this.selection.update(x),M}updateContents(x){return La.call(this,()=>(x=new _e(x),this.editor.applyDelta(x)),arguments.length>1&&void 0!==arguments[1]?arguments[1]:ni.sources.API,!0)}}function bl(Z){return"string"==typeof Z?document.querySelector(Z):Z}function rl(Z){return Object.entries(Z??{}).reduce((x,M)=>{let[j,ce]=M;return{...x,[j]:!0===ce?{}:ce}},{})}function C_(Z){return Object.fromEntries(Object.entries(Z).filter(x=>void 0!==x[1]))}function La(Z,x,M,j){if(!this.isEnabled()&&x===ni.sources.USER&&!this.allowReadOnlyEdits)return new _e;let ce=null==M?null:this.getSelection();const ke=this.editor.delta,Ye=Z();if(null!=ce&&(!0===M&&(M=ce.index),null==j?ce=Nc(ce,Ye,x):0!==j&&(ce=Nc(ce,M,j,x)),this.setSelection(ce,ni.sources.SILENT)),Ye.length()>0){const Dt=[ni.events.TEXT_CHANGE,Ye,ke,x];this.emitter.emit(ni.events.EDITOR_CHANGE,...Dt),x!==ni.sources.SILENT&&this.emitter.emit(...Dt)}return Ye}function Nl(Z,x,M,j,ce){let ke={};return"number"==typeof Z.index&&"number"==typeof Z.length?"number"!=typeof x?(ce=j,j=M,M=x,x=Z.length,Z=Z.index):(x=Z.length,Z=Z.index):"number"!=typeof x&&(ce=j,j=M,M=x,x=0),"object"==typeof M?(ke=M,ce=j):"string"==typeof M&&(null!=j?ke[M]=j:ce=M),[Z,x,ke,ce=ce||ni.sources.API]}function Nc(Z,x,M,j){const ce="number"==typeof M?M:0;if(null==Z)return null;let ke,Ye;return[ke,Ye]=[Z.index,Z.index+Z.length].map(x&&"function"==typeof x.transformPosition?Dt=>x.transformPosition(Dt,j!==ni.sources.USER):Dt=>Dt<x||Dt===x&&j===ni.sources.USER?Dt:ce>=0?Dt+ce:Math.max(x,Dt+ce)),new Ll(ke,Ye-ke)}const md=class cf extends td{};function wp(Z){return Z instanceof ka||Z instanceof Pa}function xp(Z){return"function"==typeof Z.updateContent}function Ju(Z,x,M){M.reduce((j,ce)=>{const ke=_e.Op.length(ce);let Ye=ce.attributes||{};if(null!=ce.insert)if("string"==typeof ce.insert){Z.insertAt(j,ce.insert);const[rn]=Z.descendant(uo,j),Tn=aa(rn);Ye=_e.AttributeMap.diff(Tn,Ye)||{}}else if("object"==typeof ce.insert){const Dt=Object.keys(ce.insert)[0];if(null==Dt)return j;if(Z.insertAt(j,Dt,ce.insert[Dt]),null!=Z.scroll.query(Dt,ci.INLINE)){const[Tn]=Z.descendant(uo,j),$n=aa(Tn);Ye=_e.AttributeMap.diff($n,Ye)||{}}}return Object.keys(Ye).forEach(Dt=>{Z.formatAt(j,ke,Dt,Ye[Dt])}),j+ke},x)}const M_=(()=>class Z extends Uh{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=ka;static allowedChildren=[ka,Pa,md];constructor(M,j,ce){let{emitter:ke}=ce;super(M,j),this.emitter=ke,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",Ye=>this.handleDragStart(Ye))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const M=this.batch;this.batch=!1,this.update(M)}emitMount(M){this.emitter.emit(ni.events.SCROLL_BLOT_MOUNT,M)}emitUnmount(M){this.emitter.emit(ni.events.SCROLL_BLOT_UNMOUNT,M)}emitEmbedUpdate(M,j){this.emitter.emit(ni.events.SCROLL_EMBED_UPDATE,M,j)}deleteAt(M,j){const[ce,ke]=this.line(M),[Ye]=this.line(M+j);if(super.deleteAt(M,j),null!=Ye&&ce!==Ye&&ke>0){if(ce instanceof Pa||Ye instanceof Pa)return void this.optimize();ce.moveChildren(Ye,Ye.children.head instanceof Oo?null:Ye.children.head),ce.remove()}this.optimize()}enable(){this.domNode.setAttribute("contenteditable",arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?"false":"true")}formatAt(M,j,ce,ke){super.formatAt(M,j,ce,ke),this.optimize()}insertAt(M,j,ce){if(M>=this.length())if(null==ce||null==this.scroll.query(j,ci.BLOCK)){const ke=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(ke),null==ce&&j.endsWith("\n")?ke.insertAt(0,j.slice(0,-1),ce):ke.insertAt(0,j,ce)}else{const ke=this.scroll.create(j,ce);this.appendChild(ke)}else super.insertAt(M,j,ce);this.optimize()}insertBefore(M,j){if(M.statics.scope===ci.INLINE_BLOT){const ce=this.scroll.create(this.statics.defaultChild.blotName);ce.appendChild(M),super.insertBefore(ce,j)}else super.insertBefore(M,j)}insertContents(M,j){const ce=this.deltaToRenderBlocks(j.concat((new _e).insert("\n"))),ke=ce.pop();if(null==ke)return;this.batchStart();const Ye=ce.shift();if(Ye){const Tn="block"===Ye.type&&(0===Ye.delta.length()||!this.descendant(Pa,M)[0]&&M<this.length()),$n="block"===Ye.type?Ye.delta:(new _e).insert({[Ye.key]:Ye.value});Ju(this,M,$n);const ei="block"===Ye.type?1:0,di=M+$n.length()+ei;Tn&&this.insertAt(di-1,"\n");const Qi=aa(this.line(M)[0]),qi=_e.AttributeMap.diff(Qi,Ye.attributes)||{};Object.keys(qi).forEach(Es=>{this.formatAt(di-1,1,Es,qi[Es])}),M=di}let[Dt,rn]=this.children.find(M);ce.length&&(Dt&&(Dt=Dt.split(rn),rn=0),ce.forEach(Tn=>{if("block"===Tn.type)Ju(this.createBlock(Tn.attributes,Dt||void 0),0,Tn.delta);else{const $n=this.create(Tn.key,Tn.value);this.insertBefore($n,Dt||void 0),Object.keys(Tn.attributes).forEach(ei=>{$n.format(ei,Tn.attributes[ei])})}})),"block"===ke.type&&ke.delta.length()&&Ju(this,Dt?Dt.offset(Dt.scroll)+rn:this.length(),ke.delta),this.batchEnd(),this.optimize()}isEnabled(){return"true"===this.domNode.getAttribute("contenteditable")}leaf(M){const j=this.path(M).pop();if(!j)return[null,-1];const[ce,ke]=j;return ce instanceof uo?[ce,ke]:[null,-1]}line(M){return M===this.length()?this.line(M-1):this.descendant(wp,M)}lines(){const ce=(ke,Ye,Dt)=>{let rn=[],Tn=Dt;return ke.children.forEachAt(Ye,Dt,($n,ei,di)=>{wp($n)?rn.push($n):$n instanceof td&&(rn=rn.concat(ce($n,ei,Tn))),Tn-=di}),rn};return ce(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}optimize(){let M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.batch||(super.optimize(M,j),M.length>0&&this.emitter.emit(ni.events.SCROLL_OPTIMIZE,M,j))}path(M){return super.path(M).slice(1)}remove(){}update(M){if(this.batch)return void(Array.isArray(M)&&(this.batch=this.batch.concat(M)));let j=ni.sources.USER;"string"==typeof M&&(j=M),Array.isArray(M)||(M=this.observer.takeRecords()),(M=M.filter(ce=>{let{target:ke}=ce;const Ye=this.find(ke,!0);return Ye&&!xp(Ye)})).length>0&&this.emitter.emit(ni.events.SCROLL_BEFORE_UPDATE,j,M),super.update(M.concat([])),M.length>0&&this.emitter.emit(ni.events.SCROLL_UPDATE,j,M)}updateEmbedAt(M,j,ce){const[ke]=this.descendant(Ye=>Ye instanceof Pa,M);ke&&ke.statics.blotName===j&&xp(ke)&&ke.updateContent(ce)}handleDragStart(M){M.preventDefault()}deltaToRenderBlocks(M){const j=[];let ce=new _e;return M.forEach(ke=>{const Ye=ke?.insert;if(Ye)if("string"==typeof Ye){const Dt=Ye.split("\n");Dt.slice(0,-1).forEach(Tn=>{ce.insert(Tn,ke.attributes),j.push({type:"block",delta:ce,attributes:ke.attributes??{}}),ce=new _e});const rn=Dt[Dt.length-1];rn&&ce.insert(rn,ke.attributes)}else{const Dt=Object.keys(Ye)[0];if(!Dt)return;this.query(Dt,ci.INLINE)?ce.push(ke):(ce.length()&&j.push({type:"block",delta:ce,attributes:{}}),ce=new _e,j.push({type:"blockEmbed",key:Dt,value:Ye[Dt],attributes:ke.attributes??{}}))}}),ce.length()&&j.push({type:"block",delta:ce,attributes:{}}),j}createBlock(M,j){let ce;const ke={};Object.entries(M).forEach(rn=>{let[Tn,$n]=rn;null!=this.query(Tn,ci.BLOCK&ci.BLOT)?ce=Tn:ke[Tn]=$n});const Ye=this.create(ce||this.statics.defaultChild.blotName,ce?M[ce]:void 0);this.insertBefore(Ye,j||void 0);const Dt=Ye.length();return Object.entries(ke).forEach(rn=>{let[Tn,$n]=rn;Ye.formatAt(0,Dt,Tn,$n)}),Ye}})(),lu={scope:ci.BLOCK,whitelist:["right","center","justify"]},_d=new Or("align","align",lu),ca=new Xr("align","ql-align",lu),Zu=new xa("align","text-align",lu);class Ap extends xa{value(x){let M=super.value(x);return M.startsWith("rgb(")?(M=M.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${M.split(",").map(ce=>`00${parseInt(ce,10).toString(16)}`.slice(-2)).join("")}`):M}}const Bc=new Xr("color","ql-color",{scope:ci.INLINE}),Bl=new Ap("color","color",{scope:ci.INLINE}),mo=new Xr("background","ql-bg",{scope:ci.INLINE}),Rp=new Ap("background","background-color",{scope:ci.INLINE});class Uc extends md{static create(x){const M=super.create(x);return M.setAttribute("spellcheck","false"),M}code(x,M){return this.children.map(j=>j.length()<=1?"":j.domNode.innerText).join("\n").slice(x,x+M)}html(x,M){return`<pre>\n${Ra(this.code(x,M))}\n</pre>`}}let Vo=(()=>class Z extends ka{static TAB="  ";static register(){jn.register(Uc)}})(),Yv=(()=>{class Z extends Pc{}return Z.blotName="code",Z.tagName="CODE",Z})();Vo.blotName="code-block",Vo.className="ql-code-block",Vo.tagName="DIV",Uc.blotName="code-block-container",Uc.className="ql-code-block-container",Uc.tagName="DIV",Uc.allowedChildren=[Vo],Vo.allowedChildren=[sl,Oo,hd],Vo.requiredContainer=Uc;const df={scope:ci.BLOCK,whitelist:["rtl"]},gd=new Or("direction","dir",df),uf=new Xr("direction","ql-direction",df),kp=new xa("direction","direction",df),hf={scope:ci.INLINE,whitelist:["serif","monospace"]},qu=new Xr("font","ql-font",hf),ff=new class Yi extends xa{value(x){return super.value(x).replace(/["']/g,"")}}("font","font-family",hf),Pp=new Xr("size","ql-size",{scope:ci.INLINE,whitelist:["small","large","huge"]}),T_=new xa("size","font-size",{scope:ci.INLINE,whitelist:["10px","18px","32px"]}),vd=uc("quill:keyboard"),Qv=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class eh extends Ao{static match(x,M){return!["altKey","ctrlKey","metaKey","shiftKey"].some(j=>!!M[j]!==x[j]&&null!==M[j])&&(M.key===x.key||M.key===x.which)}constructor(x,M){super(x,M),this.bindings={},Object.keys(this.options.bindings).forEach(j=>{this.options.bindings[j]&&this.addBinding(this.options.bindings[j])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(x){let M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const ce=function Ro(Z){if("string"==typeof Z||"number"==typeof Z)Z={key:Z};else{if("object"!=typeof Z)return null;Z=ud(Z)}return Z.shortKey&&(Z[Qv]=Z.shortKey,delete Z.shortKey),Z}(x);null!=ce?("function"==typeof M&&(M={handler:M}),"function"==typeof j&&(j={handler:j}),(Array.isArray(ce.key)?ce.key:[ce.key]).forEach(Ye=>{const Dt={...ce,key:Ye,...M,...j};this.bindings[Dt.key]=this.bindings[Dt.key]||[],this.bindings[Dt.key].push(Dt)})):vd.warn("Attempted to add invalid keyboard binding",ce)}listen(){this.quill.root.addEventListener("keydown",x=>{if(x.defaultPrevented||x.isComposing||229===x.keyCode&&("Enter"===x.key||"Backspace"===x.key))return;const ce=(this.bindings[x.key]||[]).concat(this.bindings[x.which]||[]).filter(ss=>eh.match(x,ss));if(0===ce.length)return;const ke=jn.find(x.target,!0);if(ke&&ke.scroll!==this.quill.scroll)return;const Ye=this.quill.getSelection();if(null==Ye||!this.quill.hasFocus())return;const[Dt,rn]=this.quill.getLine(Ye.index),[Tn,$n]=this.quill.getLeaf(Ye.index),[ei,di]=0===Ye.length?[Tn,$n]:this.quill.getLeaf(Ye.index+Ye.length),Qi=Tn instanceof de?Tn.value().slice(0,$n):"",qi=ei instanceof de?ei.value().slice(di):"",Es={collapsed:0===Ye.length,empty:0===Ye.length&&Dt.length()<=1,format:this.quill.getFormat(Ye),line:Dt,offset:rn,prefix:Qi,suffix:qi,event:x};ce.some(ss=>{if(null!=ss.collapsed&&ss.collapsed!==Es.collapsed||null!=ss.empty&&ss.empty!==Es.empty||null!=ss.offset&&ss.offset!==Es.offset)return!1;if(Array.isArray(ss.format)){if(ss.format.every(qr=>null==Es.format[qr]))return!1}else if("object"==typeof ss.format&&!Object.keys(ss.format).every(qr=>!0===ss.format[qr]?null!=Es.format[qr]:!1===ss.format[qr]?null==Es.format[qr]:Ku(ss.format[qr],Es.format[qr])))return!1;return!(null!=ss.prefix&&!ss.prefix.test(Es.prefix)||null!=ss.suffix&&!ss.suffix.test(Es.suffix))&&!0!==ss.handler.call(this,Ye,Es,ss)})&&x.preventDefault()})}handleBackspace(x,M){const j=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(M.prefix)?2:1;if(0===x.index||this.quill.getLength()<=1)return;let ce={};const[ke]=this.quill.getLine(x.index);let Ye=(new _e).retain(x.index-j).delete(j);if(0===M.offset){const[Dt]=this.quill.getLine(x.index-1);if(Dt&&!("block"===Dt.statics.blotName&&Dt.length()<=1)){const Tn=ke.formats(),$n=this.quill.getFormat(x.index-1,1);if(ce=_e.AttributeMap.diff(Tn,$n)||{},Object.keys(ce).length>0){const ei=(new _e).retain(x.index+ke.length()-2).retain(1,ce);Ye=Ye.compose(ei)}}}this.quill.updateContents(Ye,jn.sources.USER),this.quill.focus()}handleDelete(x,M){const j=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(M.suffix)?2:1;if(x.index>=this.quill.getLength()-j)return;let ce={};const[ke]=this.quill.getLine(x.index);let Ye=(new _e).retain(x.index).delete(j);if(M.offset>=ke.length()-1){const[Dt]=this.quill.getLine(x.index+1);if(Dt){const rn=ke.formats(),Tn=this.quill.getFormat(x.index,1);ce=_e.AttributeMap.diff(rn,Tn)||{},Object.keys(ce).length>0&&(Ye=Ye.retain(Dt.length()-1).retain(1,ce))}}this.quill.updateContents(Ye,jn.sources.USER),this.quill.focus()}handleDeleteRange(x){I_({range:x,quill:this.quill}),this.quill.focus()}handleEnter(x,M){const j=Object.keys(M.format).reduce((ke,Ye)=>(this.quill.scroll.query(Ye,ci.BLOCK)&&!Array.isArray(M.format[Ye])&&(ke[Ye]=M.format[Ye]),ke),{}),ce=(new _e).retain(x.index).delete(x.length).insert("\n",j);this.quill.updateContents(ce,jn.sources.USER),this.quill.setSelection(x.index+1,jn.sources.SILENT),this.quill.focus()}}const Jv={bindings:{bold:cu("bold"),italic:cu("italic"),underline:cu("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(Z,x){return!(!x.collapsed||0===x.offset)||(this.quill.format("indent","+1",jn.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(Z,x){return!(!x.collapsed||0===x.offset)||(this.quill.format("indent","-1",jn.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(Z,x){null!=x.format.indent?this.quill.format("indent","-1",jn.sources.USER):null!=x.format.list&&this.quill.format("list",!1,jn.sources.USER)}},"indent code-block":D_(!0),"outdent code-block":D_(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(Z){this.quill.deleteText(Z.index-1,1,jn.sources.USER)}},tab:{key:"Tab",handler(Z,x){if(x.format.table)return!0;this.quill.history.cutoff();const M=(new _e).retain(Z.index).delete(Z.length).insert("\t");return this.quill.updateContents(M,jn.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Z.index+1,jn.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,jn.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(Z,x){const M={list:!1};x.format.indent&&(M.indent=!1),this.quill.formatLine(Z.index,Z.length,M,jn.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(Z){const[x,M]=this.quill.getLine(Z.index),j={...x.formats(),list:"checked"},ce=(new _e).retain(Z.index).insert("\n",j).retain(x.length()-M-1).retain(1,{list:"unchecked"});this.quill.updateContents(ce,jn.sources.USER),this.quill.setSelection(Z.index+1,jn.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(Z,x){const[M,j]=this.quill.getLine(Z.index),ce=(new _e).retain(Z.index).insert("\n",x.format).retain(M.length()-j-1).retain(1,{header:null});this.quill.updateContents(ce,jn.sources.USER),this.quill.setSelection(Z.index+1,jn.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(Z){const x=this.quill.getModule("table");if(x){const[M,j,ce,ke]=x.getTable(Z),Ye=function Zv(Z,x,M,j){return null==x.prev&&null==x.next?null==M.prev&&null==M.next?0===j?-1:1:null==M.prev?-1:1:null==x.prev?-1:null==x.next?1:null}(0,j,ce,ke);if(null==Ye)return;let Dt=M.offset();if(Ye<0){const rn=(new _e).retain(Dt).insert("\n");this.quill.updateContents(rn,jn.sources.USER),this.quill.setSelection(Z.index+1,Z.length,jn.sources.SILENT)}else if(Ye>0){Dt+=M.length();const rn=(new _e).retain(Dt).insert("\n");this.quill.updateContents(rn,jn.sources.USER),this.quill.setSelection(Dt,jn.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(Z,x){const{event:M,line:j}=x,ce=j.offset(this.quill.scroll);this.quill.setSelection(M.shiftKey?ce-1:ce+j.length(),jn.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(Z,x){if(null==this.quill.scroll.query("list"))return!0;const{length:M}=x.prefix,[j,ce]=this.quill.getLine(Z.index);if(ce>M)return!0;let ke;switch(x.prefix.trim()){case"[]":case"[ ]":ke="unchecked";break;case"[x]":ke="checked";break;case"-":case"*":ke="bullet";break;default:ke="ordered"}this.quill.insertText(Z.index," ",jn.sources.USER),this.quill.history.cutoff();const Ye=(new _e).retain(Z.index-ce).delete(M+1).retain(j.length()-2-ce).retain(1,{list:ke});return this.quill.updateContents(Ye,jn.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Z.index-M,jn.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(Z){const[x,M]=this.quill.getLine(Z.index);let j=2,ce=x;for(;null!=ce&&ce.length()<=1&&ce.formats()["code-block"];)if(ce=ce.prev,j-=1,j<=0){const ke=(new _e).retain(Z.index+x.length()-M-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(ke,jn.sources.USER),this.quill.setSelection(Z.index-1,jn.sources.SILENT),!1}return!0}},"embed left":pf("ArrowLeft",!1),"embed left shift":pf("ArrowLeft",!0),"embed right":pf("ArrowRight",!1),"embed right shift":pf("ArrowRight",!0),"table down":th(!1),"table up":th(!0)}};function D_(Z){return{key:"Tab",shiftKey:!Z,format:{"code-block":!0},handler(x,M){let{event:j}=M;const ce=this.quill.scroll.query("code-block"),{TAB:ke}=ce;if(0===x.length&&!j.shiftKey)return this.quill.insertText(x.index,ke,jn.sources.USER),void this.quill.setSelection(x.index+ke.length,jn.sources.SILENT);const Ye=0===x.length?this.quill.getLines(x.index,1):this.quill.getLines(x);let{index:Dt,length:rn}=x;Ye.forEach((Tn,$n)=>{Z?(Tn.insertAt(0,ke),0===$n?Dt+=ke.length:rn+=ke.length):Tn.domNode.textContent.startsWith(ke)&&(Tn.deleteAt(0,ke.length),0===$n?Dt-=ke.length:rn-=ke.length)}),this.quill.update(jn.sources.USER),this.quill.setSelection(Dt,rn,jn.sources.SILENT)}}}function pf(Z,x){return{key:Z,shiftKey:x,altKey:null,["ArrowLeft"===Z?"prefix":"suffix"]:/^$/,handler(j){let{index:ce}=j;"ArrowRight"===Z&&(ce+=j.length+1);const[ke]=this.quill.getLeaf(ce);return!(ke instanceof Cr&&("ArrowLeft"===Z?x?this.quill.setSelection(j.index-1,j.length+1,jn.sources.USER):this.quill.setSelection(j.index-1,jn.sources.USER):x?this.quill.setSelection(j.index,j.length+1,jn.sources.USER):this.quill.setSelection(j.index+j.length+1,jn.sources.USER),1))}}}function cu(Z){return{key:Z[0],shortKey:!0,handler(x,M){this.quill.format(Z,!M.format[Z],jn.sources.USER)}}}function th(Z){return{key:Z?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(x,M){const j=Z?"prev":"next",ce=M.line,ke=ce.parent[j];if(null!=ke){if("table-row"===ke.statics.blotName){let Ye=ke.children.head,Dt=ce;for(;null!=Dt.prev;)Dt=Dt.prev,Ye=Ye.next;const rn=Ye.offset(this.quill.scroll)+Math.min(M.offset,Ye.length()-1);this.quill.setSelection(rn,0,jn.sources.USER)}}else{const Ye=ce.table()[j];null!=Ye&&this.quill.setSelection(Z?Ye.offset(this.quill.scroll)+Ye.length()-1:Ye.offset(this.quill.scroll),0,jn.sources.USER)}return!1}}}function I_(Z){let{quill:x,range:M}=Z;const j=x.getLines(M);let ce={};if(j.length>1){const ke=j[0].formats(),Ye=j[j.length-1].formats();ce=_e.AttributeMap.diff(Ye,ke)||{}}x.deleteText(M,jn.sources.USER),Object.keys(ce).length>0&&x.formatLine(M.index,1,ce,jn.sources.USER),x.setSelection(M.index,jn.sources.SILENT)}eh.DEFAULTS=Jv;const vb=/font-weight:\s*normal/,Fp=["P","OL","UL"],qv=Z=>Z&&Fp.includes(Z.tagName),e0=/\bmso-list:[^;]*ignore/i,t0=/\bmso-list:[^;]*\bl(\d+)/i,Ma=/\bmso-list:[^;]*\blevel(\d+)/i,mf=[function yl(Z){"urn:schemas-microsoft-com:office:word"===Z.documentElement.getAttribute("xmlns:w")&&(Z=>{const x=Array.from(Z.querySelectorAll("[style*=mso-list]")),M=[],j=[];x.forEach(Ye=>{(Ye.getAttribute("style")||"").match(e0)?M.push(Ye):j.push(Ye)}),M.forEach(Ye=>Ye.parentNode?.removeChild(Ye));const ce=Z.documentElement.innerHTML,ke=j.map(Ye=>((Z,x)=>{const M=Z.getAttribute("style"),j=M?.match(t0);if(!j)return null;const ce=Number(j[1]),ke=M?.match(Ma),Ye=ke?Number(ke[1]):1,Dt=new RegExp(`@list l${ce}:level${Ye}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),rn=x.match(Dt);return{id:ce,indent:Ye,type:rn&&"bullet"===rn[1]?"bullet":"ordered",element:Z}})(Ye,ce)).filter(Ye=>Ye);for(;ke.length;){const Ye=[];let Dt=ke.shift();for(;Dt;)Ye.push(Dt),Dt=ke.length&&ke[0]?.element===Dt.element.nextElementSibling&&ke[0].id===Dt.id?ke.shift():null;const rn=document.createElement("ul");Ye.forEach(ei=>{const di=document.createElement("li");di.setAttribute("data-list",ei.type),ei.indent>1&&di.setAttribute("class","ql-indent-"+(ei.indent-1)),di.innerHTML=ei.element.innerHTML,rn.appendChild(di)});const Tn=Ye[0]?.element,{parentNode:$n}=Tn??{};Tn&&$n?.replaceChild(rn,Tn),Ye.slice(1).forEach(ei=>{let{element:di}=ei;$n?.removeChild(di)})}})(Z)},function nh(Z){Z.querySelector('[id^="docs-internal-guid-"]')&&((Z=>{Array.from(Z.querySelectorAll('b[style*="font-weight"]')).filter(x=>x.getAttribute("style")?.match(vb)).forEach(x=>{const M=Z.createDocumentFragment();M.append(...x.childNodes),x.parentNode?.replaceChild(M,x)})})(Z),(Z=>{Array.from(Z.querySelectorAll("br")).filter(x=>qv(x.previousElementSibling)&&qv(x.nextElementSibling)).forEach(x=>{x.parentNode?.removeChild(x)})})(Z))}],x_=uc("quill:clipboard"),Np=[[Node.TEXT_NODE,function Mb(Z,x,M){let j=Z.data;if("O:P"===Z.parentElement?.tagName)return x.insert(j.trim());if(!O_(Z)){if(0===j.trim().length&&j.includes("\n")&&!function Ed(Z,x){return Z.previousElementSibling&&Z.nextElementSibling&&!jc(Z.previousElementSibling,x)&&!jc(Z.nextElementSibling,x)}(Z,M))return x;const ce=(ke,Ye)=>{const Dt=Ye.replace(/[^\u00a0]/g,"");return Dt.length<1&&ke?" ":Dt};j=j.replace(/\r\n/g," ").replace(/\n/g," "),j=j.replace(/\s\s+/g,ce.bind(ce,!0)),(null==Z.previousSibling&&null!=Z.parentElement&&jc(Z.parentElement,M)||Z.previousSibling instanceof Element&&jc(Z.previousSibling,M))&&(j=j.replace(/^\s+/,ce.bind(ce,!1))),(null==Z.nextSibling&&null!=Z.parentElement&&jc(Z.parentElement,M)||Z.nextSibling instanceof Element&&jc(Z.nextSibling,M))&&(j=j.replace(/\s+$/,ce.bind(ce,!1)))}return x.insert(j)}],[Node.TEXT_NODE,a0],["br",function Up(Z,x){return yd(x,"\n")||x.insert("\n"),x}],[Node.ELEMENT_NODE,a0],[Node.ELEMENT_NODE,function yb(Z,x,M){const j=M.query(Z);if(null==j)return x;if(j.prototype instanceof Cr){const ce={},ke=j.value(Z);if(null!=ke)return ce[j.blotName]=ke,(new _e).insert(ce,j.formats(Z,M))}else if(j.prototype instanceof fo&&!yd(x,"\n")&&x.insert("\n"),"blotName"in j&&"formats"in j&&"function"==typeof j.formats)return bd(x,j.blotName,j.formats(Z,M),M);return x}],[Node.ELEMENT_NODE,function s0(Z,x,M){const j=Or.keys(Z),ce=Xr.keys(Z),ke=xa.keys(Z),Ye={};return j.concat(ce).concat(ke).forEach(Dt=>{let rn=M.query(Dt,ci.ATTRIBUTE);null!=rn&&(Ye[rn.attrName]=rn.value(Z),Ye[rn.attrName])||(rn=du[Dt],null!=rn&&(rn.attrName===Dt||rn.keyName===Dt)&&(Ye[rn.attrName]=rn.value(Z)||void 0),rn=_f[Dt],null!=rn&&(rn.attrName===Dt||rn.keyName===Dt)&&(rn=_f[Dt],Ye[rn.attrName]=rn.value(Z)||void 0))}),Object.entries(Ye).reduce((Dt,rn)=>{let[Tn,$n]=rn;return bd(Dt,Tn,$n,M)},x)}],[Node.ELEMENT_NODE,function Eb(Z,x,M){const j={},ce=Z.style||{};return"italic"===ce.fontStyle&&(j.italic=!0),"underline"===ce.textDecoration&&(j.underline=!0),"line-through"===ce.textDecoration&&(j.strike=!0),(ce.fontWeight?.startsWith("bold")||parseInt(ce.fontWeight,10)>=700)&&(j.bold=!0),x=Object.entries(j).reduce((ke,Ye)=>{let[Dt,rn]=Ye;return bd(ke,Dt,rn,M)},x),parseFloat(ce.textIndent||0)>0?(new _e).insert("\t").concat(x):x}],["li",function o0(Z,x,M){const j=M.query(Z);if(null==j||"list"!==j.blotName||!yd(x,"\n"))return x;let ce=-1,ke=Z.parentNode;for(;null!=ke;)["OL","UL"].includes(ke.tagName)&&(ce+=1),ke=ke.parentNode;return ce<=0?x:x.reduce((Ye,Dt)=>Dt.insert?Dt.attributes&&"number"==typeof Dt.attributes.indent?Ye.push(Dt):Ye.insert(Dt.insert,{indent:ce,...Dt.attributes||{}}):Ye,new _e)}],["ol, ul",function A_(Z,x,M){let ce="OL"===Z.tagName?"ordered":"bullet";const ke=Z.getAttribute("data-checked");return ke&&(ce="true"===ke?"checked":"unchecked"),bd(x,"list",ce,M)}],["pre",function r0(Z,x,M){const j=M.query("code-block");return bd(x,"code-block",!j||!("formats"in j)||"function"!=typeof j.formats||j.formats(Z,M),M)}],["tr",function Cb(Z,x,M){const j="TABLE"===Z.parentElement?.tagName?Z.parentElement:Z.parentElement?.parentElement;return null!=j?bd(x,"table",Array.from(j.querySelectorAll("tr")).indexOf(Z)+1,M):x}],["b",$c("bold")],["i",$c("italic")],["strike",$c("strike")],["style",function pc(){return new _e}]],du=[_d,gd].reduce((Z,x)=>(Z[x.keyName]=x,Z),{}),_f=[Zu,Rp,Bl,kp,ff,T_].reduce((Z,x)=>(Z[x.keyName]=x,Z),{});let Tr=(()=>class Z extends Ao{static DEFAULTS={matchers:[]};constructor(M,j){super(M,j),this.quill.root.addEventListener("copy",ce=>this.onCaptureCopy(ce,!1)),this.quill.root.addEventListener("cut",ce=>this.onCaptureCopy(ce,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],Np.concat(this.options.matchers??[]).forEach(ce=>{let[ke,Ye]=ce;this.addMatcher(ke,Ye)})}addMatcher(M,j){this.matchers.push([M,j])}convert(M){let{html:j,text:ce}=M,ke=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(ke[Vo.blotName])return(new _e).insert(ce||"",{[Vo.blotName]:ke[Vo.blotName]});if(!j)return(new _e).insert(ce||"",ke);const Ye=this.convertHTML(j);return yd(Ye,"\n")&&(null==Ye.ops[Ye.ops.length-1].attributes||ke.table)?Ye.compose((new _e).retain(Ye.length()-1).delete(1)):Ye}normalizeHTML(M){(Z=>{Z.documentElement&&mf.forEach(x=>{x(Z)})})(M)}convertHTML(M){const j=(new DOMParser).parseFromString(M,"text/html");this.normalizeHTML(j);const ce=j.body,ke=new WeakMap,[Ye,Dt]=this.prepareMatching(ce,ke);return Bp(this.quill.scroll,ce,Ye,Dt,ke)}dangerouslyPasteHTML(M,j){let ce=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jn.sources.API;if("string"==typeof M){const ke=this.convert({html:M,text:""});this.quill.setContents(ke,j),this.quill.setSelection(0,jn.sources.SILENT)}else{const ke=this.convert({html:j,text:""});this.quill.updateContents((new _e).retain(M).concat(ke),ce),this.quill.setSelection(M+ke.length(),jn.sources.SILENT)}}onCaptureCopy(M){let j=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(M.defaultPrevented)return;M.preventDefault();const[ce]=this.quill.selection.getRange();if(null==ce)return;const{html:ke,text:Ye}=this.onCopy(ce,j);M.clipboardData?.setData("text/plain",Ye),M.clipboardData?.setData("text/html",ke),j&&I_({range:ce,quill:this.quill})}normalizeURIList(M){return M.split(/\r?\n/).filter(j=>"#"!==j[0]).join("\n")}onCapturePaste(M){if(M.defaultPrevented||!this.quill.isEnabled())return;M.preventDefault();const j=this.quill.getSelection(!0);if(null==j)return;const ce=M.clipboardData?.getData("text/html");let ke=M.clipboardData?.getData("text/plain");if(!ce&&!ke){const Dt=M.clipboardData?.getData("text/uri-list");Dt&&(ke=this.normalizeURIList(Dt))}const Ye=Array.from(M.clipboardData?.files||[]);if(!ce&&Ye.length>0)this.quill.uploader.upload(j,Ye);else{if(ce&&Ye.length>0){const Dt=(new DOMParser).parseFromString(ce,"text/html");if(1===Dt.body.childElementCount&&"IMG"===Dt.body.firstElementChild?.tagName)return void this.quill.uploader.upload(j,Ye)}this.onPaste(j,{html:ce,text:ke})}}onCopy(M){const j=this.quill.getText(M);return{html:this.quill.getSemanticHTML(M),text:j}}onPaste(M,j){let{text:ce,html:ke}=j;const Ye=this.quill.getFormat(M.index),Dt=this.convert({text:ce,html:ke},Ye);x_.log("onPaste",Dt,{text:ce,html:ke});const rn=(new _e).retain(M.index).delete(M.length).concat(Dt);this.quill.updateContents(rn,jn.sources.USER),this.quill.setSelection(rn.length()-M.length,jn.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(M,j){const ce=[],ke=[];return this.matchers.forEach(Ye=>{const[Dt,rn]=Ye;switch(Dt){case Node.TEXT_NODE:ke.push(rn);break;case Node.ELEMENT_NODE:ce.push(rn);break;default:Array.from(M.querySelectorAll(Dt)).forEach(Tn=>{j.has(Tn)?j.get(Tn)?.push(rn):j.set(Tn,[rn])})}}),[ce,ke]}})();function bd(Z,x,M,j){return j.query(x)?Z.reduce((ce,ke)=>ke.insert?ke.attributes&&ke.attributes[x]?ce.push(ke):ce.insert(ke.insert,{...M?{[x]:M}:{},...ke.attributes}):ce,new _e):Z}function yd(Z,x){let M="";for(let j=Z.ops.length-1;j>=0&&M.length<x.length;--j){const ce=Z.ops[j];if("string"!=typeof ce.insert)break;M=ce.insert+M}return M.slice(-1*x.length)===x}function jc(Z,x){if(!(Z instanceof Element))return!1;const M=x.query(Z);return!(M&&M.prototype instanceof Cr)&&["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(Z.tagName.toLowerCase())}const uu=new WeakMap;function O_(Z){return null!=Z&&(uu.has(Z)||uu.set(Z,"PRE"===Z.tagName||O_(Z.parentNode)),uu.get(Z))}function Bp(Z,x,M,j,ce){return x.nodeType===x.TEXT_NODE?j.reduce((ke,Ye)=>Ye(x,ke,Z),new _e):x.nodeType===x.ELEMENT_NODE?Array.from(x.childNodes||[]).reduce((ke,Ye)=>{let Dt=Bp(Z,Ye,M,j,ce);return Ye.nodeType===x.ELEMENT_NODE&&(Dt=M.reduce((rn,Tn)=>Tn(Ye,rn,Z),Dt),Dt=(ce.get(Ye)||[]).reduce((rn,Tn)=>Tn(Ye,rn,Z),Dt)),ke.concat(Dt)},new _e):new _e}function $c(Z){return(x,M,j)=>bd(M,Z,!0,j)}function a0(Z,x,M){if(!yd(x,"\n")){if(jc(Z,M)&&(Z.childNodes.length>0||Z instanceof HTMLParagraphElement))return x.insert("\n");if(x.length()>0&&Z.nextSibling){let j=Z.nextSibling;for(;null!=j;){if(jc(j,M))return x.insert("\n");const ce=M.query(j);if(ce&&ce.prototype instanceof Pa)return x.insert("\n");j=j.firstChild}}}return x}let Tb=(()=>class Z extends Ao{static DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};lastRecorded=0;ignoreChange=!1;stack={undo:[],redo:[]};currentRange=null;constructor(M,j){super(M,j),this.quill.on(jn.events.EDITOR_CHANGE,(ce,ke,Ye,Dt)=>{ce===jn.events.SELECTION_CHANGE?ke&&Dt!==jn.sources.SILENT&&(this.currentRange=ke):ce===jn.events.TEXT_CHANGE&&(this.ignoreChange||(this.options.userOnly&&Dt!==jn.sources.USER?this.transform(ke):this.record(ke,Ye)),this.currentRange=gf(this.currentRange,ke))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",ce=>{"historyUndo"===ce.inputType?(this.undo(),ce.preventDefault()):"historyRedo"===ce.inputType&&(this.redo(),ce.preventDefault())})}change(M,j){if(0===this.stack[M].length)return;const ce=this.stack[M].pop();if(!ce)return;const ke=this.quill.getContents(),Ye=ce.delta.invert(ke);this.stack[j].push({delta:Ye,range:gf(ce.range,Ye)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(ce.delta,jn.sources.USER),this.ignoreChange=!1,this.restoreSelection(ce)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(M,j){if(0===M.ops.length)return;this.stack.redo=[];let ce=M.invert(j),ke=this.currentRange;const Ye=Date.now();if(this.lastRecorded+this.options.delay>Ye&&this.stack.undo.length>0){const Dt=this.stack.undo.pop();Dt&&(ce=ce.compose(Dt.delta),ke=Dt.range)}else this.lastRecorded=Ye;0!==ce.length()&&(this.stack.undo.push({delta:ce,range:ke}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(M){l0(this.stack.undo,M),l0(this.stack.redo,M)}undo(){this.change("undo","redo")}restoreSelection(M){if(M.range)this.quill.setSelection(M.range,jn.sources.USER);else{const j=function fu(Z,x){const M=x.reduce((ce,ke)=>ce+(ke.delete||0),0);let j=x.length()-M;return function hu(Z,x){const M=x.ops[x.ops.length-1];return null!=M&&(null!=M.insert?"string"==typeof M.insert&&M.insert.endsWith("\n"):null!=M.attributes&&Object.keys(M.attributes).some(j=>null!=Z.query(j,ci.BLOCK)))}(Z,x)&&(j-=1),j}(this.quill.scroll,M.delta);this.quill.setSelection(j,jn.sources.USER)}}})();function l0(Z,x){let M=x;for(let j=Z.length-1;j>=0;j-=1){const ce=Z[j];Z[j]={delta:M.transform(ce.delta,!0),range:ce.range&&gf(ce.range,M)},M=ce.delta.transform(M),0===Z[j].delta.length()&&Z.splice(j,1)}}function gf(Z,x){if(!Z)return Z;const M=x.transformPosition(Z.index);return{index:M,length:x.transformPosition(Z.index+Z.length)-M}}const vf=(()=>{class Z extends Ao{constructor(M,j){super(M,j),M.root.addEventListener("drop",ce=>{ce.preventDefault();let ke=null;if(document.caretRangeFromPoint)ke=document.caretRangeFromPoint(ce.clientX,ce.clientY);else if(document.caretPositionFromPoint){const Dt=document.caretPositionFromPoint(ce.clientX,ce.clientY);ke=document.createRange(),ke.setStart(Dt.offsetNode,Dt.offset),ke.setEnd(Dt.offsetNode,Dt.offset)}const Ye=ke&&M.selection.normalizeNative(ke);if(Ye){const Dt=M.selection.normalizedToRange(Ye);ce.dataTransfer?.files&&this.upload(Dt,ce.dataTransfer.files)}})}upload(M,j){const ce=[];Array.from(j).forEach(ke=>{ke&&this.options.mimetypes?.includes(ke.type)&&ce.push(ke)}),ce.length>0&&this.options.handler.call(this,M,ce)}}return Z.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(x,M){if(!this.quill.scroll.query("image"))return;const j=M.map(ce=>new Promise(ke=>{const Ye=new FileReader;Ye.onload=()=>{ke(Ye.result)},Ye.readAsDataURL(ce)}));Promise.all(j).then(ce=>{const ke=ce.reduce((Ye,Dt)=>Ye.insert({image:Dt}),(new _e).retain(x.index).delete(x.length));this.quill.updateContents(ke,ni.sources.USER),this.quill.setSelection(x.index+ce.length,ni.sources.SILENT)})}},Z})(),Vc=["insertText","insertReplacementText"],pu=/Mac/i.test(navigator.platform);jn.register({"blots/block":ka,"blots/block/embed":Pa,"blots/break":Oo,"blots/container":md,"blots/cursor":hd,"blots/embed":Lc,"blots/inline":Pc,"blots/scroll":M_,"blots/text":sl,"modules/clipboard":Tr,"modules/history":Tb,"modules/keyboard":eh,"modules/uploader":vf,"modules/input":class R_ extends Ao{constructor(x,M){super(x,M),x.root.addEventListener("beforeinput",j=>{this.handleBeforeInput(j)}),/Android/i.test(navigator.userAgent)||x.on(jn.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(x){I_({range:x,quill:this.quill})}replaceText(x){let M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(0===x.length)return!1;if(M){const j=this.quill.getFormat(x.index,1);this.deleteRange(x),this.quill.updateContents((new _e).retain(x.index).insert(M,j),jn.sources.USER)}else this.deleteRange(x);return this.quill.setSelection(x.index+M.length,0,jn.sources.SILENT),!0}handleBeforeInput(x){if(this.quill.composition.isComposing||x.defaultPrevented||!Vc.includes(x.inputType))return;const M=x.getTargetRanges?x.getTargetRanges()[0]:null;if(!M||!0===M.collapsed)return;const j=function jp(Z){return"string"==typeof Z.data?Z.data:Z.dataTransfer?.types.includes("text/plain")?Z.dataTransfer.getData("text/plain"):null}(x);if(null==j)return;const ce=this.quill.selection.normalizeNative(M),ke=ce?this.quill.selection.normalizedToRange(ce):null;ke&&this.replaceText(ke,j)&&x.preventDefault()}handleCompositionStart(){const x=this.quill.getSelection();x&&this.replaceText(x)}},"modules/uiNode":class P_ extends Ao{isListening=!1;selectionChangeDeadline=0;constructor(x,M){super(x,M),this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(x,M){let{line:j,event:ce}=M;if(!(j instanceof Wn&&j.uiNode))return!0;const ke="rtl"===getComputedStyle(j.domNode).direction;return!!(ke&&"ArrowRight"!==ce.key||!ke&&"ArrowLeft"!==ce.key)||(this.quill.setSelection(x.index-1,x.length+(ce.shiftKey?1:0),jn.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",x=>{!x.defaultPrevented&&(Z=>!!("ArrowLeft"===Z.key||"ArrowRight"===Z.key||"ArrowUp"===Z.key||"ArrowDown"===Z.key||"Home"===Z.key||pu&&"a"===Z.key&&!0===Z.ctrlKey))(x)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){this.selectionChangeDeadline=Date.now()+100,this.isListening||(this.isListening=!0,document.addEventListener("selectionchange",()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()},{once:!0}))}handleSelectionChange(){const x=document.getSelection();if(!x)return;const M=x.getRangeAt(0);if(!0!==M.collapsed||0!==M.startOffset)return;const j=this.quill.scroll.find(M.startContainer);if(!(j instanceof Wn&&j.uiNode))return;const ce=document.createRange();ce.setStartAfter(j.uiNode),ce.setEndAfter(j.uiNode),x.removeAllRanges(),x.addRange(ce)}}});const $p=jn,Vp=new class c0 extends Xr{add(x,M){let j=0;if("+1"===M||"-1"===M){const ce=this.value(x)||0;j="+1"===M?ce+1:ce-1}else"number"==typeof M&&(j=M);return 0===j?(this.remove(x),!0):super.add(x,j.toString())}canAdd(x,M){return super.canAdd(x,M)||super.canAdd(x,parseInt(M,10))}value(x){return parseInt(super.value(x),10)||void 0}}("indent","ql-indent",{scope:ci.BLOCK,whitelist:[1,2,3,4,5,6,7,8]}),da=(()=>class Z extends ka{static blotName="blockquote";static tagName="blockquote"})(),Wp=(()=>class Z extends ka{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(M){return this.tagName.indexOf(M.tagName)+1}})();let mu=(()=>{class Z extends md{}return Z.blotName="list-container",Z.tagName="OL",Z})(),bf=(()=>{class Z extends ka{static create(M){const j=super.create();return j.setAttribute("data-list",M),j}static formats(M){return M.getAttribute("data-list")||void 0}static register(){jn.register(mu)}constructor(M,j){super(M,j);const ce=j.ownerDocument.createElement("span"),ke=Ye=>{if(!M.isEnabled())return;const Dt=this.statics.formats(j,M);"checked"===Dt?(this.format("list","unchecked"),Ye.preventDefault()):"unchecked"===Dt&&(this.format("list","checked"),Ye.preventDefault())};ce.addEventListener("mousedown",ke),ce.addEventListener("touchstart",ke),this.attachUI(ce)}format(M,j){M===this.statics.blotName&&j?this.domNode.setAttribute("data-list",j):super.format(M,j)}}return Z.blotName="list",Z.tagName="LI",Z})();mu.allowedChildren=[bf],bf.requiredContainer=mu;const _o=(()=>class Z extends Pc{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return!0}optimize(M){super.optimize(M),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}})(),L_=(()=>class Z extends _o{static blotName="italic";static tagName=["EM","I"]})();let oh=(()=>class Z extends Pc{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(M){const j=super.create(M);return j.setAttribute("href",this.sanitize(M)),j.setAttribute("rel","noopener noreferrer"),j.setAttribute("target","_blank"),j}static formats(M){return M.getAttribute("href")}static sanitize(M){return N_(M,this.PROTOCOL_WHITELIST)?M:this.SANITIZED_URL}format(M,j){M===this.statics.blotName&&j?this.domNode.setAttribute("href",this.constructor.sanitize(j)):super.format(M,j)}})();function N_(Z,x){const M=document.createElement("a");M.href=Z;const j=M.href.slice(0,M.href.indexOf(":"));return x.indexOf(j)>-1}const B_=(()=>class Z extends Pc{static blotName="script";static tagName=["SUB","SUP"];static create(M){return"super"===M?document.createElement("sup"):"sub"===M?document.createElement("sub"):super.create(M)}static formats(M){return"SUB"===M.tagName?"sub":"SUP"===M.tagName?"super":void 0}})(),h0=(()=>class Z extends _o{static blotName="strike";static tagName=["S","STRIKE"]})(),p0=(()=>class Z extends Pc{static blotName="underline";static tagName="U"})(),_u=(()=>class Z extends Lc{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(M){if(null==window.katex)throw new Error("Formula module requires KaTeX.");const j=super.create(M);return"string"==typeof M&&(window.katex.render(M,j,{throwOnError:!1,errorColor:"#f00"}),j.setAttribute("data-value",M)),j}static value(M){return M.getAttribute("data-value")}html(){const{formula:M}=this.value();return`<span>${M}</span>`}})(),U_=["alt","height","width"],j_=(()=>class Z extends Cr{static blotName="image";static tagName="IMG";static create(M){const j=super.create(M);return"string"==typeof M&&j.setAttribute("src",this.sanitize(M)),j}static formats(M){return U_.reduce((j,ce)=>(M.hasAttribute(ce)&&(j[ce]=M.getAttribute(ce)),j),{})}static match(M){return/\.(jpe?g|gif|png)$/.test(M)||/^data:image\/.+;base64/.test(M)}static sanitize(M){return N_(M,["http","https","data"])?M:"//:0"}static value(M){return M.getAttribute("src")}format(M,j){U_.indexOf(M)>-1?j?this.domNode.setAttribute(M,j):this.domNode.removeAttribute(M):super.format(M,j)}})(),$_=["height","width"],V_=(()=>class Z extends Pa{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(M){const j=super.create(M);return j.setAttribute("frameborder","0"),j.setAttribute("allowfullscreen","true"),j.setAttribute("src",this.sanitize(M)),j}static formats(M){return $_.reduce((j,ce)=>(M.hasAttribute(ce)&&(j[ce]=M.getAttribute(ce)),j),{})}static sanitize(M){return oh.sanitize(M)}static value(M){return M.getAttribute("src")}format(M,j){$_.indexOf(M)>-1?j?this.domNode.setAttribute(M,j):this.domNode.removeAttribute(M):super.format(M,j)}html(){const{video:M}=this.value();return`<a href="${M}">${M}</a>`}})(),gu=new Xr("code-token","hljs",{scope:ci.INLINE});let ah=(()=>{class Z extends Pc{static formats(M,j){for(;null!=M&&M!==j.domNode;){if(M.classList&&M.classList.contains(Vo.className))return super.formats(M,j);M=M.parentNode}}constructor(M,j,ce){super(M,j,ce),gu.add(this.domNode,ce)}format(M,j){M!==Z.blotName?super.format(M,j):j?gu.add(this.domNode,j):(gu.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),gu.value(this.domNode)||this.unwrap()}}return Z.blotName="code-token",Z.className="ql-token",Z})();class Na extends Vo{static create(x){const M=super.create(x);return"string"==typeof x&&M.setAttribute("data-language",x),M}static formats(x){return x.getAttribute("data-language")||"plain"}static register(){}format(x,M){x===this.statics.blotName&&M?this.domNode.setAttribute("data-language",M):super.format(x,M)}replaceWith(x,M){return this.formatAt(0,this.length(),ah.blotName,!1),super.replaceWith(x,M)}}let yf=(()=>{class Z extends Uc{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(M,j){M===Na.blotName&&(this.forceNext=!0,this.children.forEach(ce=>{ce.format(M,j)}))}formatAt(M,j,ce,ke){ce===Na.blotName&&(this.forceNext=!0),super.formatAt(M,j,ce,ke)}highlight(M){let j=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==this.children.head)return;const ke=`${Array.from(this.domNode.childNodes).filter(Dt=>Dt!==this.uiNode).map(Dt=>Dt.textContent).join("\n")}\n`,Ye=Na.formats(this.children.head.domNode);if(j||this.forceNext||this.cachedText!==ke){if(ke.trim().length>0||null==this.cachedText){const Dt=this.children.reduce((Tn,$n)=>Tn.concat(Hu($n,!1)),new _e),rn=M(ke,Ye);Dt.diff(rn).reduce((Tn,$n)=>{let{retain:ei,attributes:di}=$n;return ei?(di&&Object.keys(di).forEach(Qi=>{[Na.blotName,ah.blotName].includes(Qi)&&this.formatAt(Tn,ei,Qi,di[Qi])}),Tn+ei):Tn},0)}this.cachedText=ke,this.forceNext=!1}}html(M,j){const[ce]=this.children.find(M);return`<pre data-language="${ce?Na.formats(ce.domNode):"plain"}">\n${Ra(this.code(M,j))}\n</pre>`}optimize(M){if(super.optimize(M),null!=this.parent&&null!=this.children.head&&null!=this.uiNode){const j=Na.formats(this.children.head.domNode);j!==this.uiNode.value&&(this.uiNode.value=j)}}}return Z.allowedChildren=[Na],Z})();Na.requiredContainer=yf,Na.allowedChildren=[ah,hd,sl,Oo];class _0 extends Ao{static register(){jn.register(ah,!0),jn.register(Na,!0),jn.register(yf,!0)}constructor(x,M){if(super(x,M),null==this.options.hljs)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((j,ce)=>{let{key:ke}=ce;return j[ke]=!0,j},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(jn.events.SCROLL_BLOT_MOUNT,x=>{if(!(x instanceof yf))return;const M=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(j=>{let{key:ce,label:ke}=j;const Ye=M.ownerDocument.createElement("option");Ye.textContent=ke,Ye.setAttribute("value",ce),M.appendChild(Ye)}),M.addEventListener("change",()=>{x.format(Na.blotName,M.value),this.quill.root.focus(),this.highlight(x,!0)}),null==x.uiNode&&(x.attachUI(M),x.children.head&&(M.value=Na.formats(x.children.head.domNode)))})}initTimer(){let x=null;this.quill.on(jn.events.SCROLL_OPTIMIZE,()=>{x&&clearTimeout(x),x=setTimeout(()=>{this.highlight(),x=null},this.options.interval)})}highlight(){let x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,M=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.quill.selection.composing)return;this.quill.update(jn.sources.USER);const j=this.quill.getSelection();(null==x?this.quill.scroll.descendants(yf):[x]).forEach(ke=>{ke.highlight(this.highlightBlot,M)}),this.quill.update(jn.sources.SILENT),null!=j&&this.quill.setSelection(j,jn.sources.SILENT)}highlightBlot(x){let M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"plain";if(M=this.languages[M]?M:"plain","plain"===M)return Ra(x).split("\n").reduce((ce,ke,Ye)=>(0!==Ye&&ce.insert("\n",{[Vo.blotName]:M}),ce.insert(ke)),new _e);const j=this.quill.root.ownerDocument.createElement("div");return j.classList.add(Vo.className),j.innerHTML=((Z,x,M)=>{if("string"==typeof Z.versionString){const j=Z.versionString.split(".")[0];if(parseInt(j,10)>=11)return Z.highlight(M,{language:x}).value}return Z.highlight(x,M).value})(this.options.hljs,M,x),Bp(this.quill.scroll,j,[(ce,ke)=>{const Ye=gu.value(ce);return Ye?ke.compose((new _e).retain(ke.length(),{[ah.blotName]:Ye})):ke}],[(ce,ke)=>ce.data.split("\n").reduce((Ye,Dt,rn)=>(0!==rn&&Ye.insert("\n",{[Vo.blotName]:M}),Ye.insert(Dt)),ke)],new WeakMap)}}_0.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};let mc=(()=>{class Z extends ka{static blotName="table";static tagName="TD";static create(M){const j=super.create();return j.setAttribute("data-row",M||G_()),j}static formats(M){if(M.hasAttribute("data-row"))return M.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(M,j){M===Z.blotName&&j?this.domNode.setAttribute("data-row",j):super.format(M,j)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}return Z})(),Cd=(()=>class Z extends md{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&null!=this.next.children.head){const M=this.children.head.formats(),j=this.children.tail.formats(),ce=this.next.children.head.formats(),ke=this.next.children.tail.formats();return M.table===j.table&&M.table===ce.table&&M.table===ke.table}return!1}optimize(M){super.optimize(M),this.children.forEach(j=>{if(null==j.next)return;const ce=j.formats(),ke=j.next.formats();if(ce.table!==ke.table){const Ye=this.splitAfter(j);Ye&&Ye.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}})(),vu=(()=>class Z extends md{static blotName="table-body";static tagName="TBODY"})(),Ef=(()=>{class Z extends md{static blotName="table-container";static tagName="TABLE";balanceCells(){const M=this.descendants(Cd),j=M.reduce((ce,ke)=>Math.max(ke.children.length,ce),0);M.forEach(ce=>{new Array(j-ce.children.length).fill(0).forEach(()=>{let ke;null!=ce.children.head&&(ke=mc.formats(ce.children.head.domNode));const Ye=this.scroll.create(mc.blotName,ke);ce.appendChild(Ye),Ye.optimize()})})}cells(M){return this.rows().map(j=>j.children.at(M))}deleteColumn(M){const[j]=this.descendant(vu);null==j||null==j.children.head||j.children.forEach(ce=>{const ke=ce.children.at(M);ke?.remove()})}insertColumn(M){const[j]=this.descendant(vu);null==j||null==j.children.head||j.children.forEach(ce=>{const ke=ce.children.at(M),Ye=mc.formats(ce.children.head.domNode),Dt=this.scroll.create(mc.blotName,Ye);ce.insertBefore(Dt,ke)})}insertRow(M){const[j]=this.descendant(vu);if(null==j||null==j.children.head)return;const ce=G_(),ke=this.scroll.create(Cd.blotName);j.children.head.children.forEach(()=>{const Dt=this.scroll.create(mc.blotName,ce);ke.appendChild(Dt)});const Ye=j.children.at(M);j.insertBefore(ke,Ye)}rows(){const M=this.children.head;return null==M?[]:M.children.map(j=>j)}}return Z.allowedChildren=[vu],Z})();function G_(){return`row-${Math.random().toString(36).slice(2,6)}`}vu.requiredContainer=Ef,vu.allowedChildren=[Cd],Cd.requiredContainer=vu,Cd.allowedChildren=[mc],mc.requiredContainer=Cd;const W_=uc("quill:toolbar");let Cf=(()=>{class Z extends Ao{constructor(M,j){if(super(M,j),Array.isArray(this.options.container)){const ce=document.createElement("div");ce.setAttribute("role","toolbar"),function Mf(Z,x){Array.isArray(x[0])||(x=[x]),x.forEach(M=>{const j=document.createElement("span");j.classList.add("ql-formats"),M.forEach(ce=>{if("string"==typeof ce)ta(j,ce);else{const ke=Object.keys(ce)[0],Ye=ce[ke];Array.isArray(Ye)?function Ul(Z,x,M){const j=document.createElement("select");j.classList.add(`ql-${x}`),M.forEach(ce=>{const ke=document.createElement("option");!1!==ce?ke.setAttribute("value",String(ce)):ke.setAttribute("selected","selected"),j.appendChild(ke)}),Z.appendChild(j)}(j,ke,Ye):ta(j,ke,Ye)}}),Z.appendChild(j)})}(ce,this.options.container),M.container?.parentNode?.insertBefore(ce,M.container),this.container=ce}else this.container="string"==typeof this.options.container?document.querySelector(this.options.container):this.options.container;this.container instanceof HTMLElement?(this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(ce=>{const ke=this.options.handlers?.[ce];ke&&this.addHandler(ce,ke)}),Array.from(this.container.querySelectorAll("button, select")).forEach(ce=>{this.attach(ce)}),this.quill.on(jn.events.EDITOR_CHANGE,()=>{const[ce]=this.quill.selection.getRange();this.update(ce)})):W_.error("Container required for toolbar",this.options)}addHandler(M,j){this.handlers[M]=j}attach(M){let j=Array.from(M.classList).find(ke=>0===ke.indexOf("ql-"));j&&(j=j.slice(3),"BUTTON"===M.tagName&&M.setAttribute("type","button"),null!=this.handlers[j]||null!=this.quill.scroll.query(j)?(M.addEventListener("SELECT"===M.tagName?"change":"click",ke=>{let Ye;if("SELECT"===M.tagName){if(M.selectedIndex<0)return;const rn=M.options[M.selectedIndex];Ye=!rn.hasAttribute("selected")&&(rn.value||!1)}else Ye=!M.classList.contains("ql-active")&&(M.value||!M.hasAttribute("value")),ke.preventDefault();this.quill.focus();const[Dt]=this.quill.selection.getRange();if(null!=this.handlers[j])this.handlers[j].call(this,Ye);else if(this.quill.scroll.query(j).prototype instanceof Cr){if(Ye=prompt(`Enter ${j}`),!Ye)return;this.quill.updateContents((new _e).retain(Dt.index).delete(Dt.length).insert({[j]:Ye}),jn.sources.USER)}else this.quill.format(j,Ye,jn.sources.USER);this.update(Dt)}),this.controls.push([j,M])):W_.warn("ignoring attaching to nonexistent format",j,M))}update(M){const j=null==M?{}:this.quill.getFormat(M);this.controls.forEach(ce=>{const[ke,Ye]=ce;if("SELECT"===Ye.tagName){let Dt=null;if(null==M)Dt=null;else if(null==j[ke])Dt=Ye.querySelector("option[selected]");else if(!Array.isArray(j[ke])){let rn=j[ke];"string"==typeof rn&&(rn=rn.replace(/"/g,'\\"')),Dt=Ye.querySelector(`option[value="${rn}"]`)}null==Dt?(Ye.value="",Ye.selectedIndex=-1):Dt.selected=!0}else if(null==M)Ye.classList.remove("ql-active"),Ye.setAttribute("aria-pressed","false");else if(Ye.hasAttribute("value")){const Dt=j[ke],rn=Dt===Ye.getAttribute("value")||null!=Dt&&Dt.toString()===Ye.getAttribute("value")||null==Dt&&!Ye.getAttribute("value");Ye.classList.toggle("ql-active",rn),Ye.setAttribute("aria-pressed",rn.toString())}else{const Dt=null!=j[ke];Ye.classList.toggle("ql-active",Dt),Ye.setAttribute("aria-pressed",Dt.toString())}})}}return Z.DEFAULTS={},Z})();function ta(Z,x,M){const j=document.createElement("button");j.setAttribute("type","button"),j.classList.add(`ql-${x}`),j.setAttribute("aria-pressed","false"),null!=M?(j.value=M,j.setAttribute("aria-label",`${x}: ${M}`)):j.setAttribute("aria-label",x),Z.appendChild(j)}Cf.DEFAULTS={container:null,handlers:{clean(){const Z=this.quill.getSelection();if(null!=Z)if(0===Z.length){const x=this.quill.getFormat();Object.keys(x).forEach(M=>{null!=this.quill.scroll.query(M,ci.INLINE)&&this.quill.format(M,!1,jn.sources.USER)})}else this.quill.removeFormat(Z.index,Z.length,jn.sources.USER)},direction(Z){const{align:x}=this.quill.getFormat();"rtl"===Z&&null==x?this.quill.format("align","right",jn.sources.USER):!Z&&"right"===x&&this.quill.format("align",!1,jn.sources.USER),this.quill.format("direction",Z,jn.sources.USER)},indent(Z){const x=this.quill.getSelection(),M=this.quill.getFormat(x),j=parseInt(M.indent||0,10);if("+1"===Z||"-1"===Z){let ce="+1"===Z?1:-1;"rtl"===M.direction&&(ce*=-1),this.quill.format("indent",j+ce,jn.sources.USER)}},link(Z){!0===Z&&(Z=prompt("Enter link URL:")),this.quill.format("link",Z,jn.sources.USER)},list(Z){const x=this.quill.getSelection(),M=this.quill.getFormat(x);this.quill.format("list","check"===Z?"checked"!==M.list&&"unchecked"!==M.list&&"unchecked":Z,jn.sources.USER)}}};const Kp='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',Dd={align:{"":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',center:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',right:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',justify:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>'},background:'<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',blockquote:'<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',bold:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',clean:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',code:Kp,"code-block":Kp,color:'<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',direction:{"":'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',rtl:'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>'},formula:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',header:{1:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',2:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',3:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',4:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',5:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',6:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>'},italic:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',image:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',indent:{"+1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',"-1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>'},link:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',list:{bullet:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',check:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',ordered:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>'},script:{sub:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',super:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>'},strike:'<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',table:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',underline:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',video:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>'};let Zp=0;function Id(Z,x){Z.setAttribute(x,`${"true"!==Z.getAttribute(x)}`)}const bu=class J_{constructor(x){this.select=x,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",M=>{switch(M.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),M.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),Id(this.label,"aria-expanded"),Id(this.options,"aria-hidden")}buildItem(x){const M=document.createElement("span");M.tabIndex="0",M.setAttribute("role","button"),M.classList.add("ql-picker-item");const j=x.getAttribute("value");return j&&M.setAttribute("data-value",j),x.textContent&&M.setAttribute("data-label",x.textContent),M.addEventListener("click",()=>{this.selectItem(M,!0)}),M.addEventListener("keydown",ce=>{switch(ce.key){case"Enter":this.selectItem(M,!0),ce.preventDefault();break;case"Escape":this.escape(),ce.preventDefault()}}),M}buildLabel(){const x=document.createElement("span");return x.classList.add("ql-picker-label"),x.innerHTML='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>',x.tabIndex="0",x.setAttribute("role","button"),x.setAttribute("aria-expanded","false"),this.container.appendChild(x),x}buildOptions(){const x=document.createElement("span");x.classList.add("ql-picker-options"),x.setAttribute("aria-hidden","true"),x.tabIndex="-1",x.id=`ql-picker-options-${Zp}`,Zp+=1,this.label.setAttribute("aria-controls",x.id),this.options=x,Array.from(this.select.options).forEach(M=>{const j=this.buildItem(M);x.appendChild(j),!0===M.selected&&this.selectItem(j)}),this.container.appendChild(x)}buildPicker(){Array.from(this.select.attributes).forEach(x=>{this.container.setAttribute(x.name,x.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(x){let M=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const j=this.container.querySelector(".ql-selected");x!==j&&(j?.classList.remove("ql-selected"),null!=x&&(x.classList.add("ql-selected"),this.select.selectedIndex=Array.from(x.parentNode.children).indexOf(x),x.hasAttribute("data-value")?this.label.setAttribute("data-value",x.getAttribute("data-value")):this.label.removeAttribute("data-value"),x.hasAttribute("data-label")?this.label.setAttribute("data-label",x.getAttribute("data-label")):this.label.removeAttribute("data-label"),M&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let x;if(this.select.selectedIndex>-1){const j=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];x=this.select.options[this.select.selectedIndex],this.selectItem(j)}else this.selectItem(null);const M=null!=x&&x!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",M)}},Lb=class qp extends bu{constructor(x,M){super(x),this.label.innerHTML=M,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(j=>{j.classList.add("ql-primary")})}buildItem(x){const M=super.buildItem(x);return M.style.backgroundColor=x.getAttribute("value")||"",M}selectItem(x,M){super.selectItem(x,M);const j=this.label.querySelector(".ql-color-label"),ce=x&&x.getAttribute("data-value")||"";j&&("line"===j.tagName?j.style.stroke=ce:j.style.fill=ce)}},Ta=class AC extends bu{constructor(x,M){super(x),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(j=>{j.innerHTML=M[j.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(x,M){super.selectItem(x,M);const j=x||this.defaultItem;if(null!=j){if(this.label.innerHTML===j.innerHTML)return;this.label.innerHTML=j.innerHTML}}},em=class Sd{constructor(x,M){this.quill=x,this.boundsContainer=M||document.body,this.root=x.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,(Z=>{const{overflowY:x}=getComputedStyle(Z,null);return"visible"!==x&&"clip"!==x})(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=-1*this.quill.root.scrollTop+"px"}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(x){const M=x.left+x.width/2-this.root.offsetWidth/2,j=x.bottom+this.quill.root.scrollTop;this.root.style.left=`${M}px`,this.root.style.top=`${j}px`,this.root.classList.remove("ql-flip");const ce=this.boundsContainer.getBoundingClientRect(),ke=this.root.getBoundingClientRect();let Ye=0;return ke.right>ce.right&&(Ye=ce.right-ke.right,this.root.style.left=`${M+Ye}px`),ke.left<ce.left&&(Ye=ce.left-ke.left,this.root.style.left=`${M+Ye}px`),ke.bottom>ce.bottom&&(this.root.style.top=j-(x.bottom-x.top+(ke.bottom-ke.top))+"px",this.root.classList.add("ql-flip")),Ye}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}},C0=[!1,"center","right","justify"],tm=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],wf=[!1,"serif","monospace"],wd=["1","2","3",!1],nm=["small",!1,"large","huge"];class El extends Sp{constructor(x,M){super(x,M);const j=ce=>{document.body.contains(x.root)?(null!=this.tooltip&&!this.tooltip.root.contains(ce.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),null!=this.pickers&&this.pickers.forEach(ke=>{ke.container.contains(ce.target)||ke.close()})):document.body.removeEventListener("click",j)};x.emitter.listenDOM("click",document.body,j)}addModule(x){const M=super.addModule(x);return"toolbar"===x&&this.extendToolbar(M),M}buildButtons(x,M){Array.from(x).forEach(j=>{(j.getAttribute("class")||"").split(/\s+/).forEach(ke=>{if(ke.startsWith("ql-")&&(ke=ke.slice(3),null!=M[ke]))if("direction"===ke)j.innerHTML=M[ke][""]+M[ke].rtl;else if("string"==typeof M[ke])j.innerHTML=M[ke];else{const Ye=j.value||"";null!=Ye&&M[ke][Ye]&&(j.innerHTML=M[ke][Ye])}})})}buildPickers(x,M){this.pickers=Array.from(x).map(ce=>{if(ce.classList.contains("ql-align")&&(null==ce.querySelector("option")&&go(ce,C0),"object"==typeof M.align))return new Ta(ce,M.align);if(ce.classList.contains("ql-background")||ce.classList.contains("ql-color")){const ke=ce.classList.contains("ql-background")?"background":"color";return null==ce.querySelector("option")&&go(ce,tm,"background"===ke?"#ffffff":"#000000"),new Lb(ce,M[ke])}return null==ce.querySelector("option")&&(ce.classList.contains("ql-font")?go(ce,wf):ce.classList.contains("ql-header")?go(ce,wd):ce.classList.contains("ql-size")&&go(ce,nm)),new bu(ce)}),this.quill.on(ni.events.EDITOR_CHANGE,()=>{this.pickers.forEach(ce=>{ce.update()})})}}El.DEFAULTS=fl({},Sp.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let Z=this.container.querySelector("input.ql-image[type=file]");null==Z&&(Z=document.createElement("input"),Z.setAttribute("type","file"),Z.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),Z.classList.add("ql-image"),Z.addEventListener("change",()=>{const x=this.quill.getSelection(!0);this.quill.uploader.upload(x,Z.files),Z.value=""}),this.container.appendChild(Z)),Z.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class uh extends em{constructor(x,M){super(x,M),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",x=>{"Enter"===x.key?(this.save(),x.preventDefault()):"Escape"===x.key&&(this.cancel(),x.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null==this.textbox)return;null!=M?this.textbox.value=M:x!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const j=this.quill.getBounds(this.quill.selection.savedRange);null!=j&&this.position(j),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${x}`)||""),this.root.setAttribute("data-mode",x)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:x}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:M}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",x,ni.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",x,ni.sources.USER)),this.quill.root.scrollTop=M;break}case"video":x=function hh(Z){let x=Z.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||Z.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return x?`${x[1]||"https"}://www.youtube.com/embed/${x[2]}?showinfo=0`:(x=Z.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${x[1]||"https"}://player.vimeo.com/video/${x[2]}/`:Z}(x);case"formula":{if(!x)break;const M=this.quill.getSelection(!0);if(null!=M){const j=M.index+M.length;this.quill.insertEmbed(j,this.root.getAttribute("data-mode"),x,ni.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(j+1," ",ni.sources.USER),this.quill.setSelection(j+2,ni.sources.USER)}break}}this.textbox.value="",this.hide()}}function go(Z,x){let M=arguments.length>2&&void 0!==arguments[2]&&arguments[2];x.forEach(j=>{const ce=document.createElement("option");j===M?ce.setAttribute("selected","selected"):ce.setAttribute("value",String(j)),Z.appendChild(ce)})}const Z_=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class xd extends uh{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(x,M){super(x,M),this.quill.on(ni.events.EDITOR_CHANGE,(j,ce,ke,Ye)=>{if(j===ni.events.SELECTION_CHANGE)if(null!=ce&&ce.length>0&&Ye===ni.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const Dt=this.quill.getLines(ce.index,ce.length);if(1===Dt.length){const rn=this.quill.getBounds(ce);null!=rn&&this.position(rn)}else{const rn=Dt[Dt.length-1],Tn=this.quill.getIndex(rn),$n=Math.min(rn.length()-1,ce.index+ce.length-Tn),ei=this.quill.getBounds(new Ll(Tn,$n));null!=ei&&this.position(ei)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(ni.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const x=this.quill.getSelection();if(null!=x){const M=this.quill.getBounds(x);null!=M&&this.position(M)}},1)})}cancel(){this.show()}position(x){const M=super.position(x),j=this.root.querySelector(".ql-tooltip-arrow");return j.style.marginLeft="",0!==M&&(j.style.marginLeft=-1*M-j.offsetWidth/2+"px"),M}}class fh extends El{constructor(x,M){null!=M.modules.toolbar&&null==M.modules.toolbar.container&&(M.modules.toolbar.container=Z_),super(x,M),this.quill.container.classList.add("ql-bubble")}extendToolbar(x){this.tooltip=new xd(this.quill,this.options.bounds),null!=x.container&&(this.tooltip.root.appendChild(x.container),this.buildButtons(x.container.querySelectorAll("button"),Dd),this.buildPickers(x.container.querySelectorAll("select"),Dd))}}fh.DEFAULTS=fl({},El.DEFAULTS,{modules:{toolbar:{handlers:{link(Z){Z?this.quill.theme.tooltip.edit():this.quill.format("link",!1,jn.sources.USER)}}}}});const Od=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class ph extends uh{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",x=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),x.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",x=>{if(null!=this.linkRange){const M=this.linkRange;this.restoreFocus(),this.quill.formatText(M,"link",!1,ni.sources.USER),delete this.linkRange}x.preventDefault(),this.hide()}),this.quill.on(ni.events.SELECTION_CHANGE,(x,M,j)=>{if(null!=x){if(0===x.length&&j===ni.sources.USER){const[ce,ke]=this.quill.scroll.descendant(oh,x.index);if(null!=ce){this.linkRange=new Ll(x.index-ke,ce.length());const Ye=oh.formats(ce.domNode);this.preview.textContent=Ye,this.preview.setAttribute("href",Ye),this.show();const Dt=this.quill.getBounds(this.linkRange);return void(null!=Dt&&this.position(Dt))}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}class $l extends El{constructor(x,M){null!=M.modules.toolbar&&null==M.modules.toolbar.container&&(M.modules.toolbar.container=Od),super(x,M),this.quill.container.classList.add("ql-snow")}extendToolbar(x){null!=x.container&&(x.container.classList.add("ql-snow"),this.buildButtons(x.container.querySelectorAll("button"),Dd),this.buildPickers(x.container.querySelectorAll("select"),Dd),this.tooltip=new ph(this.quill,this.options.bounds),x.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(M,j)=>{x.handlers.link.call(x,!j.format.link)}))}}$l.DEFAULTS=fl({},El.DEFAULTS,{modules:{toolbar:{handlers:{link(Z){if(Z){const x=this.quill.getSelection();if(null==x||0===x.length)return;let M=this.quill.getText(x);/^\S+@\S+\.\S+$/.test(M)&&0!==M.indexOf("mailto:")&&(M=`mailto:${M}`);const{tooltip:j}=this.quill.theme;j.edit("link",M)}else this.quill.format("link",!1,jn.sources.USER)}}}}});const _c=$l;$p.register({"attributors/attribute/direction":gd,"attributors/class/align":ca,"attributors/class/background":mo,"attributors/class/color":Bc,"attributors/class/direction":uf,"attributors/class/font":qu,"attributors/class/size":Pp,"attributors/style/align":Zu,"attributors/style/background":Rp,"attributors/style/color":Bl,"attributors/style/direction":kp,"attributors/style/font":ff,"attributors/style/size":T_},!0),$p.register({"formats/align":ca,"formats/direction":uf,"formats/indent":Vp,"formats/background":Rp,"formats/color":Bl,"formats/font":qu,"formats/size":Pp,"formats/blockquote":da,"formats/code-block":Vo,"formats/header":Wp,"formats/list":bf,"formats/bold":_o,"formats/code":Yv,"formats/italic":L_,"formats/link":oh,"formats/script":B_,"formats/strike":h0,"formats/underline":p0,"formats/formula":_u,"formats/image":j_,"formats/video":V_,"modules/syntax":_0,"modules/table":class Ab extends Ao{static register(){jn.register(mc),jn.register(Cd),jn.register(vu),jn.register(Ef)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(Ef).forEach(x=>{x.balanceCells()})}deleteColumn(){const[x,,M]=this.getTable();null!=M&&(x.deleteColumn(M.cellOffset()),this.quill.update(jn.sources.USER))}deleteRow(){const[,x]=this.getTable();null!=x&&(x.remove(),this.quill.update(jn.sources.USER))}deleteTable(){const[x]=this.getTable();if(null==x)return;const M=x.offset();x.remove(),this.quill.update(jn.sources.USER),this.quill.setSelection(M,jn.sources.SILENT)}getTable(){let x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.quill.getSelection();if(null==x)return[null,null,null,-1];const[M,j]=this.quill.getLine(x.index);if(null==M||M.statics.blotName!==mc.blotName)return[null,null,null,-1];const ce=M.parent;return[ce.parent.parent,ce,M,j]}insertColumn(x){const M=this.quill.getSelection();if(!M)return;const[j,ce,ke]=this.getTable(M);if(null==ke)return;const Ye=ke.cellOffset();j.insertColumn(Ye+x),this.quill.update(jn.sources.USER);let Dt=ce.rowOffset();0===x&&(Dt+=1),this.quill.setSelection(M.index+Dt,M.length,jn.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(x){const M=this.quill.getSelection();if(!M)return;const[j,ce,ke]=this.getTable(M);if(null==ke)return;const Ye=ce.rowOffset();j.insertRow(Ye+x),this.quill.update(jn.sources.USER),x>0?this.quill.setSelection(M,jn.sources.SILENT):this.quill.setSelection(M.index+ce.children.length,M.length,jn.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(x,M){const j=this.quill.getSelection();if(null==j)return;const ce=new Array(x).fill(0).reduce(ke=>{const Ye=new Array(M).fill("\n").join("");return ke.insert(Ye,{table:G_()})},(new _e).retain(j.index));this.quill.updateContents(ce,jn.sources.USER),this.quill.setSelection(j.index,jn.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(jn.events.SCROLL_OPTIMIZE,x=>{x.some(M=>!!["TD","TR","TBODY","TABLE"].includes(M.target.tagName)&&(this.quill.once(jn.events.TEXT_CHANGE,(j,ce,ke)=>{ke===jn.sources.USER&&this.balanceTables()}),!0))})}},"modules/toolbar":Cf,"themes/bubble":fh,"themes/snow":_c,"ui/icons":Dd,"ui/picker":bu,"ui/icon-picker":Ta,"ui/color-picker":Lb,"ui/tooltip":em},!0);const Vl=$p,im=["container"],mh=["editor"];let Bb=(()=>{class Z extends p.Tv{constructor(){super(...arguments),this.placeholder="",this.readonly=!1,this.images_allowed=!1,this._updateFn=()=>this.setValue(this._editor.root.innerHTML),this.registerOnChange=M=>this._onChange=M,this.registerOnTouched=M=>this._onTouch=M}ngOnChanges(M){M.images_allowed&&this.timeout("init",()=>this._initialiseEditor())}ngAfterViewInit(){this.timeout("init",()=>this._initialiseEditor())}setValue(M){this._onChange&&this._onChange(M)}writeValue(M){this.timeout("write",()=>{if(this._editor){const j=this._editor.clipboard.convert({html:M});this._editor.setContents(j,"silent")}else this.timeout("write",()=>this.writeValue(M))})}_initialiseEditor(){if(!this._editor_el?.nativeElement||!this._container_el?.nativeElement)return this.timeout("init",()=>this._initialiseEditor());const M=[[{font:[]}],[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{list:"check"}],[{align:[]}]];this.images_allowed&&M.push(["image","link"]),this._editor&&(this.unsub("changes"),this._editor_el.nativeElement.innerHTML="",delete this._editor),this._editor=new Vl(this._editor_el.nativeElement,{bounds:this._container_el.nativeElement,placeholder:this.placeholder,modules:{toolbar:{container:M,handlers:{image:()=>this._embedImage(),link:()=>this._embedAttachment()}}},readOnly:this.readonly,theme:"snow"}),this._editor.on("text-change",this._updateFn),this.subscription("changes",()=>this._editor.off("text-change",this._updateFn))}_embedImage(){if(!this._editor)return;const M=this._editor.getSelection();if(!M)return;const{index:j}=M;var ce=document.createElement("input");ce.setAttribute("type","file"),ce.setAttribute("accept","image/*"),ce.click(),ce.onchange=()=>{(0,p.QM)(ce.files[0],!0).subscribe(({link:Ye,progress:Dt})=>{!Ye||100!==Dt||this._editor.insertEmbed(j,"image",Ye)})}}_embedAttachment(){if(!this._editor)return;const M=this._editor.getSelection();if(M){var ce=document.createElement("input");ce.setAttribute("type","file"),ce.click(),ce.onchange=()=>{var ke=ce.files[0];(0,p.QM)(ke,!0).subscribe(({link:Ye,progress:Dt})=>{!Ye||100!==Dt||(this._editor.insertText(M.index,ke.name,"link",Ye),this._editor.setSelection(M.index+ke.name.length))})}}}static#e=this.\u0275fac=(()=>{let M;return function(ce){return(M||(M=i.xGo(Z)))(ce||Z)}})();static#t=this.\u0275cmp=i.VBU({type:Z,selectors:[["rich-text-input"]],viewQuery:function(j,ce){if(1&j&&(i.GBs(im,5),i.GBs(mh,5)),2&j){let ke;i.mGM(ke=i.lsd())&&(ce._container_el=ke.first),i.mGM(ke=i.lsd())&&(ce._editor_el=ke.first)}},inputs:{placeholder:"placeholder",readonly:"readonly",images_allowed:"images_allowed"},features:[i.Jv_([{provide:d.kq,useExisting:(0,i.Rfq)(()=>Z),multi:!0}]),i.Vt3,i.OA$],decls:4,vars:0,consts:[["container",""],["editor",""],[1,"absolute","inset-0"],[1,"h-full"]],template:function(j,ce){1&j&&(i.j41(0,"div",2,0),i.nrm(2,"div",3,1),i.k0s())},styles:["[_nghost-%COMP%]{display:block;position:relative;min-height:8rem;margin-bottom:4rem}"]})}return Z})()},4809:(Mt,pe,a)=>{"use strict";a.d(pe,{K:()=>v});var e=a(3953),i=a(9417),d=a(4233),p=a(5752),m=a(2185),_=a(9928),g=a(3020),b=a(4006);const u=()=>({standalone:!0});function S(O,z){if(1&O&&e.nrm(0,"img",30),2&O){const G=e.XpG().$implicit;e.Y8G("source",G.images[0])}}function D(O,z){1&O&&e.nrm(0,"img",31)}function E(O,z){if(1&O){const G=e.RV6();e.j41(0,"div",18)(1,"div",19),e.DNE(2,S,1,1,"img",20)(3,D,1,0,"ng-template",null,0,e.C5r),e.k0s(),e.j41(5,"div",21)(6,"div",22),e.EFF(7),e.k0s(),e.j41(8,"div",23)(9,"app-icon",24),e.EFF(10,"place"),e.k0s(),e.j41(11,"p"),e.EFF(12),e.k0s()(),e.j41(13,"div",23)(14,"app-icon",24),e.EFF(15,"people"),e.k0s(),e.j41(16,"p"),e.pXf(17,6),e.k0s()(),e.j41(18,"div",25)(19,"button",26),e.bIt("click",function(){const F=e.eBV(G).$implicit,H=e.XpG();return e.Njj(H.changeSpaces(F))}),e.j41(20,"div",27),e.PLo(21,7),e.nrm(22,"app-icon"),e.YFu(),e.k0s()(),e.j41(23,"button",28),e.bIt("click",function(){const F=e.eBV(G).$implicit,H=e.XpG();return e.Njj(H.removeSpace(F))}),e.j41(24,"div",27),e.PLo(25,8),e.nrm(26,"app-icon"),e.YFu(),e.k0s()()()(),e.j41(27,"button",29),e.bIt("click",function(){const F=e.eBV(G).$implicit,H=e.XpG();return e.Njj(H.toggleFavourite(F))}),e.j41(28,"app-icon"),e.EFF(29),e.k0s()()()}if(2&O){let G;const K=z.$implicit,F=e.sdS(4),H=e.XpG();e.R7$(2),e.Y8G("ngIf",null==K.images?null:K.images.length)("ngIfElse",F),e.R7$(5),e.SpI(" ",K.display_name||K.name||"Meeting Space"," "),e.R7$(5),e.SpI(" ",K.location||(null==(G=H.level(K.zones))?null:G.display_name)||(null==(G=H.level(K.zones))?null:G.name)," "),e.R7$(5),e.uP7(K.capacity<1?2:K.capacity)(K.capacity),e.nnv(17),e.R7$(10),e.AVh("text-blue-400",H.favorites.includes(null==K?null:K.id)),e.R7$(2),e.JRh(H.favorites.includes(null==K?null:K.id)?"favorite":"favorite_border")}}const A=[];let v=(()=>{class O{get favorites(){return this._settings.get("favourite_spaces")||A}constructor(G,K,F){this._settings=G,this._org=K,this._dialog=F,this.multiday=!1,this.room_size=4,this.spaces=new _.t([]),this.space_list=this.spaces.pipe((0,g.B)(300)),this.disabled=!1,this.registerOnChange=H=>this._onChange=H,this.registerOnTouched=H=>this._onTouch=H,this.setDisabledState=H=>this.disabled=H}ngOnDestroy(){this._dialog_ref&&this._dialog_ref.close()}level(G){return this._org.levelWithID(G)}changeSpaces(){this._dialog_ref=this._dialog.open(p.d,{data:{spaces:this.spaces.getValue(),options:{capacity:this.room_size},multiday:this.multiday}}),this._dialog_ref.afterClosed().subscribe(()=>{this.setValue(this._dialog_ref?.componentInstance?.selected),this._dialog_ref=void 0})}removeSpace(G){this.setValue(this.spaces.getValue().filter(K=>K.id!==G.id))}setValue(G){this.spaces.next(G||[]),this._onChange&&this._onChange(G||[])}writeValue(G){this.spaces.next(G||[])}toggleFavourite(G){if(!G?.id)return;const K=this.favorites;K.includes(G.id)?this._settings.saveUserSetting("favourite_spaces",K.filter(H=>H!==G.id)):this._settings.saveUserSetting("favourite_spaces",[...K,G.id])}static#e=this.\u0275fac=function(K){return new(K||O)(e.rXU(d.h),e.rXU(m.yb),e.rXU(b.bZ))};static#t=this.\u0275cmp=e.VBU({type:O,selectors:[["space-list-field"]],inputs:{multiday:"multiday"},features:[e.Jv_([{provide:i.kq,useExisting:(0,e.Rfq)(()=>O),multi:!0}])],decls:23,vars:9,consts:()=>{let G,K,F,H,Y,P,U,$,B;return G=$localize`:1b75f93ee5764eaf4e3e5b35f9142aa730286aba2378084019110582405:Select Room Size${"\ufffd#5\ufffd"}:START_TAG_SPAN:*${"\ufffd/#5\ufffd"}:CLOSE_TAG_SPAN:`,K=$localize`:9a4b4695fcd5f591ff27d32d69654210c1edbce85941148565596549711: Min. 2 People `,F=$localize`:c08792b3fa94dc973ac18033a872580a83beded95844713600133557099: Min. 4 People `,H=$localize`:94d037a05d336158339e193309f967a769878040694015482067564775: Min. 10 People `,Y=$localize`:2a4f48e169dc20ba9ed88d3bfe38f47ecc9204e64961016996305563664:Add Space`,P=$localize`:ed210c8c0f2511082633f06a2c94b8410f6cd9bf426413428618668868:{VAR_PLURAL, plural, =1 {Person } other {People
                            }}`,P=e.k04(P,{VAR_PLURAL:"\ufffd1\ufffd"}),U=$localize`:ddc17cbb67fd49c13c14733c877b09fb9bd86d87686822217414553756: ${"\ufffd0\ufffd"}:INTERPOLATION: ${P}:ICU: `,$=$localize`:ca9092fdbbb85e5828de77fdf85c49b918cec128559636443235347532:${"\ufffd#22\ufffd"}:START_TAG_APP_ICON:edit${"\ufffd/#22\ufffd"}:CLOSE_TAG_APP_ICON: Change `,B=$localize`:a386ba350cdee69beeb12a908d96f0724ddc20542582674642057285571:${"\ufffd#26\ufffd"}:START_TAG_APP_ICON:close${"\ufffd/#26\ufffd"}:CLOSE_TAG_APP_ICON: Remove `,[["placeholder",""],G,K,F,H,Y,U,$,B,[1,"flex","items-center","flex-wrap","sm:space-x-2","mb-2"],[1,"flex-1","min-w-[256px]","space-y-2"],[1,"flex","items-center"],["aria-label","Select Room Size",1,"space-x-4",3,"ngModelChange","ngModel","ngModelOptions"],[3,"value"],["list","",1,"space-y-2"],["space","","class","relative p-2 rounded-lg w-full flex items-center shadow border border-base-200",4,"ngFor","ngForOf"],["btn","","matRipple","","name","add-space",1,"w-full","inverse","mt-2",3,"click"],[1,"flex","items-center","justify-center","space-x-2"],["space","",1,"relative","p-2","rounded-lg","w-full","flex","items-center","shadow","border","border-base-200"],[1,"w-24","h-24","rounded-xl","bg-base-200","mr-4","overflow-hidden","flex","items-center","justify-center"],["auth","","class","min-h-full object-cover",3,"source",4,"ngIf","ngIfElse"],[1,"sm:space-y-2","pb-4"],[1,"font-medium"],[1,"flex","items-center","text-sm","space-x-2"],[1,"text-blue-500"],[1,"absolute","bottom-0","right-0","flex","items-center","justify-end","text-xs"],["btn","","matRipple","","name","edit-space",1,"clear",3,"click"],[1,"flex","items-center","space-x-2"],["btn","","matRipple","","name","remove-space",1,"clear",3,"click"],["icon","","matRipple","","name","toggle-space-favourite",1,"absolute","top-1","right-1",3,"click"],["auth","",1,"min-h-full","object-cover",3,"source"],["src","assets/icons/room-placeholder.svg",1,"m-auto"]]},template:function(K,F){1&K&&(e.j41(0,"div")(1,"div",9)(2,"div",10)(3,"label"),e.PLo(4,1),e.nrm(5,"span"),e.YFu(),e.k0s(),e.j41(6,"div",11)(7,"mat-radio-group",12),e.mxI("ngModelChange",function(Y){return e.DH7(F.room_size,Y)||(F.room_size=Y),Y}),e.j41(8,"mat-radio-button",13),e.pXf(9,2),e.k0s(),e.j41(10,"mat-radio-button",13),e.pXf(11,3),e.k0s(),e.j41(12,"mat-radio-button",13),e.pXf(13,4),e.k0s()()()()()(),e.j41(14,"div",14),e.DNE(15,E,30,9,"div",15),e.nI1(16,"async"),e.k0s(),e.j41(17,"button",16),e.bIt("click",function(){return F.changeSpaces()}),e.j41(18,"div",17)(19,"app-icon"),e.EFF(20,"search"),e.k0s(),e.j41(21,"span"),e.pXf(22,5),e.k0s()()()),2&K&&(e.R7$(7),e.R50("ngModel",F.room_size),e.Y8G("ngModelOptions",e.lJ4(8,u)),e.R7$(),e.Y8G("value",1),e.R7$(2),e.Y8G("value",4),e.R7$(2),e.Y8G("value",10),e.R7$(3),e.Y8G("ngForOf",e.bMT(16,6,F.space_list)))}})}return O})()},8791:(Mt,pe,a)=>{"use strict";a.d(pe,{c:()=>z});var e=a(467),i=a(9417),d=a(7375),p=a(2185),m=a(9596),_=a(3953),g=a(4006);function b(G,K){if(1&G&&(_.j41(0,"mat-option",34),_.EFF(1),_.k0s()),2&G){const F=K.$implicit;_.Y8G("value",F.display_name||F.name),_.R7$(),_.SpI(" ",F.display_name||F.name," ")}}function u(G,K){if(1&G&&(_.j41(0,"mat-option",34),_.EFF(1),_.k0s()),2&G){const F=K.$implicit;_.Y8G("value",(null==F?null:F.name)||F),_.R7$(),_.SpI(" ",F.name||F," ")}}function S(G,K){if(1&G&&(_.j41(0,"div",24)(1,"label"),_.pXf(2,9),_.k0s(),_.j41(3,"mat-form-field",25)(4,"mat-select",35),_.DNE(5,u,2,2,"mat-option",27),_.k0s()()()),2&G){const F=_.XpG(2);_.R7$(5),_.Y8G("ngForOf",F.support_request_types)}}function D(G,K){1&G&&(_.j41(0,"mat-error",36),_.pXf(1,10),_.k0s())}function E(G,K){1&G&&(_.j41(0,"div")(1,"label",29),_.pXf(2,11),_.k0s(),_.nrm(3,"image-list-field",37),_.k0s())}function A(G,K){if(1&G&&(_.j41(0,"main",17)(1,"form",18)(2,"div",19)(3,"div",20)(4,"label"),_.PLo(5,2),_.nrm(6,"span"),_.YFu(),_.k0s(),_.j41(7,"mat-form-field",21),_.nrm(8,"input",22),_.j41(9,"mat-error"),_.pXf(10,3),_.k0s()()(),_.j41(11,"div",20)(12,"label"),_.PLo(13,4),_.nrm(14,"span"),_.YFu(),_.k0s(),_.j41(15,"mat-form-field",21),_.nrm(16,"input",23),_.j41(17,"mat-error"),_.pXf(18,5),_.k0s()()()(),_.j41(19,"div",24)(20,"label"),_.pXf(21,6),_.k0s(),_.j41(22,"mat-form-field",25)(23,"mat-select",26),_.DNE(24,b,2,2,"mat-option",27),_.nI1(25,"async"),_.k0s()()(),_.DNE(26,S,6,1,"div",28),_.j41(27,"div")(28,"label",29),_.PLo(29,7),_.nrm(30,"span"),_.YFu(),_.k0s(),_.nrm(31,"rich-text-input",30),_.DNE(32,D,2,0,"mat-error",31),_.k0s(),_.DNE(33,E,4,0,"div",32),_.k0s(),_.j41(34,"div",33),_.pXf(35,8),_.k0s()()),2&G){const F=_.XpG();_.R7$(),_.Y8G("formGroup",F.form),_.R7$(23),_.Y8G("ngForOf",_.bMT(25,5,F.buildings)),_.R7$(2),_.Y8G("ngIf",null==F.support_request_types?null:F.support_request_types.length),_.R7$(6),_.Y8G("ngIf",F.desc_error),_.R7$(),_.Y8G("ngIf",F.allow_images)}}function v(G,K){if(1&G){const F=_.RV6();_.j41(0,"footer",38)(1,"button",39),_.bIt("click",function(){_.eBV(F);const Y=_.XpG();return _.Njj(Y.submit())}),_.pXf(2,12),_.k0s()()}}function O(G,K){1&G&&(_.j41(0,"main",40),_.nrm(1,"mat-spinner",41),_.j41(2,"p"),_.EFF(3,"Sending support ticket..."),_.k0s()()),2&G&&(_.R7$(),_.Y8G("diameter",32))}let z=(()=>{class G{get desc_error(){return!this.form.controls.description.valid&&this.form.controls.description.touched}get support_email(){return this._settings.get("app.support_email")||"support@place.tech"}get support_request_types(){return this._settings.get("app.support_issue_types")||[]}get allow_images(){return this._settings.get("app.allow_support_ticket_images")}constructor(F,H,Y){this._dialog_ref=F,this._org=H,this._settings=Y,this.loading=!1,this.form=new i.gE({name:new i.MJ("",[i.k0.required]),email:new i.MJ("",[i.k0.required]),location:new i.MJ(""),description:new i.MJ("",[i.k0.required]),issue_type:new i.MJ(""),images:new i.MJ([])}),this.buildings=this._org.building_list}ngOnInit(){const F=(0,d.Ny)();F&&this.form.patchValue({name:F.name,email:F.email}),this._org.building&&this.form.patchValue({location:this._org.building.display_name||this._org.building.name})}submit(){var F=this;return(0,e.A)(function*(){if(F.loading=!0,F.form.markAllAsTouched(),F.form.updateValueAndValidity(),F.form.valid){const H=F._org.binding("smtp");if(!H)return(0,d.UG)("Mailing system not configured for application.");const Y=(0,m.f_4)(H,"Mailer"),{name:P,email:U,location:$,description:B,images:y,issue_type:I}=F.form.value,w=F.support_request_types.find(L=>L.name===I)?.email||F.support_email;yield Y.execute("send_mail",[w,"Support Ticket from Workplace Application"+(I?" - "+I:""),`${P}\n${U}\n\n${$}\n\n${B.replace(/<[^>]+>/g,"")}\n\n${y.join("\n")}`,`<p>${P}</p><p>${U}</p><p>${$}</p><p>${B}</p>${y.join("<br>")}`,[],[],[],[],null,`${U}`]),F._dialog_ref.close(),F.loading=!1,(0,d.VX)("Successfully submitted support ticket")}})()}static#e=this.\u0275fac=function(H){return new(H||G)(_.rXU(g.CP),_.rXU(p.yb),_.rXU(d.h$))};static#t=this.\u0275cmp=_.VBU({type:G,selectors:[["support-ticket-modal"]],decls:10,vars:3,consts:()=>{let F,H,Y,P,U,$,B,y,I,w,L,Q;return F=$localize`:b862b54c42ded9ebb47260f60b0f75985c5fab18270482714535552546:Raise a support ticket`,H=$localize`:84f7804a7a51f1144c5a3fda7b9b881af4212c4a5257092898921510014:Name${"\ufffd#6\ufffd"}:START_TAG_SPAN:*${"\ufffd/#6\ufffd"}:CLOSE_TAG_SPAN:`,Y=$localize`:5b752f143ab30faa45a2679b5e7a28bbf3fb246d3833692663709091545:Name is required`,P=$localize`:15032ab5f5dcf10cb837008e8ff61acb42e957db8600249315708032613:Email${"\ufffd#14\ufffd"}:START_TAG_SPAN:*${"\ufffd/#14\ufffd"}:CLOSE_TAG_SPAN:`,U=$localize`:9b2fd2a81342b5821f47ce0e6f2383b1403fd6598552587679160911578:Email is required`,$=$localize`:ed31c09fd77c36238c13d83635f3fe5294c733d2471816275243265264:Location`,B=$localize`:bd571e4b6aa662ccde3593b99728c60a9c4e27225204458475414246750: Issue Description${"\ufffd#30\ufffd"}:START_TAG_SPAN:*${"\ufffd/#30\ufffd"}:CLOSE_TAG_SPAN:`,y=$localize`:860180fb81e0877ec8059acbf30938f5d31daede2365971609064887430: Completing this form will raise an incident in your support management platform `,I=$localize`:712648c55b8f81cc494ffeff1c304f275dcafc613187063371811307868:Issue Type`,w=$localize`:ae855fe6e11d47178c1051e1a3f9e78c5bb7fb4e124716140796903078: Description is required `,L=$localize`:b73f7f5060fb22a1e9ec462b1bb02493fa3ab866414887388288176527:Images`,Q=$localize`:932802b79d36312ecbe949fc5b703fef638f41df1413112058430688330: Submit `,[["load_state",""],F,H,Y,P,U,$,B,y,I,w,L,Q,[1,"flex","items-center","justify-between"],["icon","","mat-dialog-close",""],["class","w-[32rem] max-w-[85vw]",4,"ngIf","ngIfElse"],["class","p-2 border-t border-base-200 flex items-center justify-center",4,"ngIf"],[1,"w-[32rem]","max-w-[85vw]"],[1,"p-2",3,"formGroup"],[1,"flex","items-center","sm:space-x-2","flex-wrap"],[1,"flex","flex-col","flex-1"],["appearance","outline"],["matInput","","placeholder","Name","formControlName","name"],["matInput","","placeholder","Email","formControlName","email"],[1,"flex","flex-col"],["appearance","outline",1,"w-full"],["placeholder","Location","formControlName","location"],[3,"value",4,"ngFor","ngForOf"],["class","flex flex-col",4,"ngIf"],[1,"mb-4"],["placeholder","Issue Description","formControlName","description"],["class","text-xs my-2",4,"ngIf"],[4,"ngIf"],[1,"italic","text-center","text-xs","mb-2"],[3,"value"],["placeholder","Issue Type","formControlName","issue_type"],[1,"text-xs","my-2"],["formControlName","images"],[1,"p-2","border-t","border-base-200","flex","items-center","justify-center"],["btn","","matRipple","",1,"w-32",3,"click"],[1,"w-[32rem]","min-h-[24rem]","max-w-[100vw]","flex","flex-col","items-center","justify-center","space-y-2"],[3,"diameter"]]},template:function(H,Y){if(1&H&&(_.j41(0,"header",13)(1,"h2"),_.pXf(2,1),_.k0s(),_.j41(3,"button",14)(4,"app-icon"),_.EFF(5,"close"),_.k0s()()(),_.DNE(6,A,36,7,"main",15)(7,v,3,0,"footer",16)(8,O,4,1,"ng-template",null,0,_.C5r)),2&H){const P=_.sdS(9);_.R7$(6),_.Y8G("ngIf",!Y.loading)("ngIfElse",P),_.R7$(),_.Y8G("ngIf",!Y.loading)}},styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]})}return G})()},1413:(Mt,pe,a)=>{"use strict";a.d(pe,{t:()=>I});var e=a(3953),i=a(9417),d=a(7375),p=a(3601),m=a(2017),_=a(1406),g=a(2357),b=a(9548),u=a(5818),S=a(9824),D=a(4512),E=a(7926),A=a(177),v=a(6600),O=a(3719),z=a(9434),G=a(9115);const K=["select"],F=["*"];function H(w,L){if(1&w&&(e.j41(0,"div",9),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&w){const Q=e.XpG();e.R7$(),e.SpI(" ",e.brH(2,1,Q.active_time,Q.time_format+" (z)",Q.tz)," ")}}function Y(w,L){if(1&w&&(e.j41(0,"div",16),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&w){const Q=e.XpG(2);e.R7$(),e.SpI(" ",e.brH(2,1,Q.force_time,Q.time_format+" (z)",Q.tz)," ")}}function P(w,L){1&w&&(e.j41(0,"app-icon",17),e.EFF(1," done "),e.k0s())}function U(w,L){if(1&w){const Q=e.RV6();e.j41(0,"button",10),e.bIt("click",function(){e.eBV(Q);const R=e.XpG();return e.Njj(R.setValue(R.force_time))}),e.j41(1,"div",11)(2,"div",12)(3,"div",13),e.EFF(4),e.nI1(5,"date"),e.k0s(),e.DNE(6,Y,3,5,"div",14),e.k0s(),e.DNE(7,P,2,0,"app-icon",15),e.k0s()()}if(2&w){const Q=e.XpG();e.Y8G("value",Q.force_time),e.R7$(4),e.SpI(" ",e.i5U(5,4,Q.force_time,Q.time_format)," "),e.R7$(2),e.Y8G("ngIf",Q.timezone),e.R7$(),e.Y8G("ngIf",Q.active_time===Q.force_time)}}function $(w,L){if(1&w&&(e.j41(0,"div",16),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&w){const Q=e.XpG().$implicit,te=e.XpG();e.R7$(),e.SpI(" ",e.brH(2,1,Q.date,te.time_format+" (z)",te.tz)," ")}}function B(w,L){1&w&&(e.j41(0,"app-icon",17),e.EFF(1," done "),e.k0s())}function y(w,L){if(1&w){const Q=e.RV6();e.j41(0,"button",10),e.bIt("click",function(){const R=e.eBV(Q).$implicit,ee=e.XpG();return e.Njj(ee.setValue(R.id))}),e.j41(1,"div",11)(2,"div",12)(3,"div",13),e.EFF(4),e.nI1(5,"date"),e.k0s(),e.DNE(6,$,3,5,"div",14),e.k0s(),e.DNE(7,B,2,0,"app-icon",15),e.k0s()()}if(2&w){const Q=L.$implicit,te=e.XpG();e.Y8G("value",Q.id),e.R7$(4),e.Lme(" ",e.i5U(5,5,Q.date,te.time_format)," ",te.extra_info_fn(Q.date)," "),e.R7$(2),e.Y8G("ngIf",te.timezone),e.R7$(),e.Y8G("ngIf",te.active_time===Q.date)}}let I=(()=>{class w extends d.Tv{constructor(){super(...arguments),this.step=15,this.no_past_times=!0,this.use_24hr=!1,this.extra_info_fn=Q=>"",this.from=(0,p.o)(Date.now()).valueOf(),this.timezone="",this.date=(new Date).valueOf(),this.time=(0,m.GP)(new Date,"HH:mm"),this.active_time=Date.now()}get time_format(){return this.use_24hr?"HH : mm":"h : mm a"}get tz(){const Q=this.timezone;return Q?(0,d.GF)(Q):""}ngOnInit(){this.show_select=!0,this._time_options=this.generateAvailableTimes(this.date,!this.no_past_times,this.step),this.timeout("hide",()=>this.show_select=!1),this.active_time=this._time_options.find(Q=>Q.id===(0,m.GP)(this.date,"HH:mm"))?.date||this.active_time}ngOnChanges(Q){(Q.no_past_times||Q.step||Q.from)&&(this._time_options=this.generateAvailableTimes(this.date,!this.no_past_times,this.step))}get time_options(){const Q=(this.time||"00:00").split(":"),te=(0,_.h)(this.date,{hours:+Q[0],minutes:+Q[1]});return te.getMinutes()%15!=0&&!this._time_options.find(R=>R.id===(0,m.GP)(te,"HH:mm"))&&(this._time_options.push({date:te,id:(0,m.GP)(te,"HH:mm")}),this._time_options.sort((R,ee)=>`${R.id}`.localeCompare(`${ee.id}`))),this._time_options}setValue(Q){if(this.time=Q,this._onChange){const ee=(this.time||"00:00").split(":"),k=(0,g.c)((0,_.h)(this.date,{hours:+ee[0],minutes:+ee[1]}));this._onChange(k.valueOf())}const te=this.force_time||this.time,R=(0,g.c)((0,_.h)(this.date,{hours:+te[0],minutes:+te[1]}));this.active_time=this._time_options.find(ee=>ee.id===te)?.date||R}writeValue(Q){this.date=Q||this.date;let te=(0,g.c)(this.date);te=(0,b.X)(te,{nearestTo:5}),this.time=(0,m.GP)(te,"HH:mm"),this._time_options=this.generateAvailableTimes(this.date,!this.no_past_times,this.step);const R=this.force_time||this.time;this.active_time=this._time_options.find(ee=>ee.id===R)?.date||te}setDisabledState(Q){this.disabled=Q,this._time_options=this.generateAvailableTimes(this.date,!this.no_past_times||Q,this.step)}registerOnChange(Q){this._onChange=Q}registerOnTouched(Q){this._onTouch=Q}showSelect(){this.show_select=!0,this.timeout("on_shown",()=>{this.select_field&&(this.select_field.focus(),this.select_field.open(),this.subscription("listen_close",this.select_field.openedChange.subscribe(Q=>{Q||(this.show_select=!1)})))})}generateAvailableTimes(Q,te,R=15){const ee=new Date(Math.max(this.from,Date.now()));let k=new Date(Q);const J=[];te||!(0,u.r)(k,ee)&&(0,S.d)(k,ee)?k=(0,p.o)(k):(0,S.d)(k,ee)&&(k=new Date(ee)),k=(0,b.X)(k,{nearestTo:R});const X=(0,D.D)(k);for(;(0,S.d)(X,k);)J.push({date:k.valueOf(),id:(0,m.GP)(k,"HH:mm")}),k=(0,E.z)(k,R);return J}static#e=this.\u0275fac=(()=>{let Q;return function(R){return(Q||(Q=e.xGo(w)))(R||w)}})();static#t=this.\u0275cmp=e.VBU({type:w,selectors:[["a-time-field"]],viewQuery:function(te,R){if(1&te&&e.GBs(K,5),2&te){let ee;e.mGM(ee=e.lsd())&&(R.select_field=ee.first)}},inputs:{step:"step",disabled:"disabled",no_past_times:"no_past_times",use_24hr:"use_24hr",force_time:"force_time",extra_info_fn:"extra_info_fn",from:"from",timezone:"timezone"},features:[e.Jv_([{provide:i.kq,useExisting:(0,e.Rfq)(()=>w),multi:!0}]),e.Vt3,e.OA$],ngContentSelectors:F,decls:14,vars:11,consts:[["menu","matMenu"],["matRipple","",1,"flex","items-center","justify-between","border","border-neutral","rounded","h-12","w-full","px-2",3,"disabled","matMenuTriggerFor"],[1,"flex","flex-col","leading-tight","px-2","text-left","flex-1","w-1/2"],[1,"truncate"],["class","text-xs opacity-30 truncate",4,"ngIf"],[1,"text-2xl"],[1,"max-h-[15rem]","min-w-[18rem]"],["mat-menu-item","","class","text-left",3,"value","click",4,"ngIf"],["mat-menu-item","","class","text-left",3,"value","click",4,"ngFor","ngForOf"],[1,"text-xs","opacity-30","truncate"],["mat-menu-item","",1,"text-left",3,"click","value"],[1,"flex","items-center","justify-between"],[1,"flex","flex-col","leading-tight"],[1,""],["class","text-xs opacity-30",4,"ngIf"],["class","text-2xl ml-2",4,"ngIf"],[1,"text-xs","opacity-30"],[1,"text-2xl","ml-2"]],template:function(te,R){if(1&te&&(e.NAR(),e.j41(0,"button",1)(1,"div",2)(2,"div",3),e.EFF(3),e.nI1(4,"date"),e.k0s(),e.DNE(5,H,3,5,"div",4),e.k0s(),e.j41(6,"app-icon",5),e.EFF(7,"arrow_drop_down"),e.k0s()(),e.j41(8,"mat-menu",6,0),e.DNE(10,U,8,7,"button",7)(11,y,8,8,"button",8),e.k0s(),e.j41(12,"mat-error"),e.SdG(13),e.k0s()),2&te){const ee=e.sdS(9);e.AVh("opacity-30",R.disabled),e.Y8G("disabled",R.disabled)("matMenuTriggerFor",ee),e.R7$(3),e.SpI(" ",e.i5U(4,8,R.active_time,R.time_format)," "),e.R7$(2),e.Y8G("ngIf",R.timezone),e.R7$(5),e.Y8G("ngIf",R.force_time),e.R7$(),e.Y8G("ngForOf",R.time_options)}},dependencies:[A.Sq,A.bT,v.r6,O.TL,z.R,G.kk,G.fb,G.Cp,A.vh],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]})}return w})()},840:(Mt,pe,a)=>{"use strict";a.d(pe,{T:()=>te});var e=a(3953),i=a(9417),d=a(7375),p=a(5006),m=a(3020),_=a(9090),g=a(3921),b=a(8841),u=a(4046),S=a(7336),D=a(9928),E=a(9714),A=a(4421),v=a(1543),O=a(6039),z=a(2372),G=a(3693),K=a(4129),F=a(9596),H=a(4006);const Y=["search_field"];function P(R,ee){if(1&R&&(e.j41(0,"app-icon",22),e.nI1(1,"placeuser"),e.nI1(2,"async"),e.EFF(3),e.nI1(4,"placeuser"),e.nI1(5,"async"),e.k0s()),2&R){let k,J;const X=e.XpG().$implicit,fe=e.XpG();e.Y8G("matTooltip",null==(k=e.bMT(2,4,e.bMT(1,2,null==X?null:X.email)))?null:k.location_name_time(fe.time)),e.R7$(3),e.SpI(" ",null==(J=e.bMT(5,8,e.bMT(4,6,null==X?null:X.email)))?null:J.location_icon(fe.time)," ")}}function U(R,ee){if(1&R){const k=e.RV6();e.j41(0,"mat-chip-row",18),e.bIt("removed",function(){const X=e.eBV(k).$implicit,fe=e.XpG();return e.Njj(fe.removeUser(X))}),e.j41(1,"div",19)(2,"div"),e.EFF(3),e.k0s(),e.DNE(4,P,6,10,"app-icon",20),e.k0s(),e.j41(5,"button",21)(6,"app-icon"),e.EFF(7,"cancel"),e.k0s()()()}if(2&R){const k=ee.$implicit;e.AVh("bg-warning",k.is_external),e.R7$(3),e.JRh(k.name||k.email),e.R7$(),e.Y8G("ngIf",!k.is_external),e.R7$(),e.BMQ("aria-label","Remove "+(k.name||k.email))}}function $(R,ee){1&R&&e.nrm(0,"mat-spinner",23)}function B(R,ee){if(1&R){const k=e.RV6();e.j41(0,"mat-option",24),e.bIt("click",function(){e.eBV(k);const X=e.XpG();return e.Njj(X.addUserFromEmail())}),e.pXf(1,4),e.k0s()}if(2&R){const k=e.XpG();e.R7$(),e.uP7(k.search$.getValue()),e.nnv(1)}}function y(R,ee){if(1&R){const k=e.RV6();e.j41(0,"mat-option",25),e.bIt("click",function(){const X=e.eBV(k).$implicit,fe=e.XpG();return e.Njj(fe.addUser(X))}),e.EFF(1),e.nrm(2,"br"),e.j41(3,"span",26),e.EFF(4),e.k0s()()}if(2&R){const k=ee.$implicit;e.R7$(),e.SpI(" ",k.name,""),e.R7$(3),e.JRh(k.email)}}function I(R,ee){if(1&R){const k=e.RV6();e.j41(0,"div",27)(1,"button",28),e.bIt("click",function(){e.eBV(k);const X=e.XpG();return e.Njj(X.openNewUserModal())}),e.PLo(2,5),e.j41(3,"div",29),e.nrm(4,"span",30),e.k0s(),e.YFu(),e.k0s(),e.j41(5,"button",31),e.PLo(6,6),e.j41(7,"div",29),e.nrm(8,"span",30),e.k0s(),e.j41(9,"input",32),e.bIt("change",function(X){e.eBV(k);const fe=e.XpG();return e.Njj(fe.addUsersFromFile(X))}),e.k0s(),e.YFu(),e.k0s(),e.j41(10,"button",33),e.bIt("click",function(){e.eBV(k);const X=e.XpG();return X.downloadCSVTemplate(),e.Njj(X.download.emit())}),e.PLo(11,7),e.j41(12,"div",29),e.nrm(13,"span",30),e.k0s(),e.YFu(),e.k0s()()}}function w(R){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(R)}const L=["text/csv","text/plain"],Q=["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"];let te=(()=>{class R extends d.Tv{searchStaff(k){return this._settings.get("app.basic_user_search")?(0,F.n1$)({q:k,authority_id:(0,F.kup)()?.id}).pipe((0,p.T)(J=>J.data.map(X=>new G.KJ(X)))):(0,z.N8)(k)}get search_valid_email(){return w(this.search$.getValue())}constructor(k,J){super(),this._dialog=k,this._settings=J,this.time=Date.now(),this.limit=3,this.guests=!1,this.guests_only=!1,this.hide_actions=!1,this.custom_template=!1,this.new_user=new e.bkB,this.download=new e.bkB,this.separatorKeysCodes=[S.Fm,S.KE],this.loading=!1,this.search$=new D.t(""),this.user_list$=this.search$.pipe((0,m.B)(300),(0,_.n)(X=>(this.loading=!0,(X?this.guests?(0,E.zV)([this.searchStaff(X),(0,O.qI)(X)]).pipe((0,p.T)(([fe,Me])=>{this.guests_only&&(fe=[]);const Ze=[],Ct=this._settings.get("visitor-invitees")||[];for(const lt of Ct){const[Ot,rt,vt]=lt.split("|");Ze.push({email:Ot,name:rt,company:vt})}return(0,d.Am)(fe.concat(Me).concat(Ze),"email")})):this.searchStaff(X):(0,A.of)([])).pipe((0,g.W)(fe=>(0,A.of)([]))))),(0,b.M)(X=>this.loading=!1)),this.active_list=[],this.validFn=X=>w(X),this.emptyClick=()=>this.openNewUserModal(new G.KJ)}updateSearch(k=""){this.timeout("search",()=>this.search$.next(k))}addUserFromEmail(k=""){if(k||(k=this.search$.getValue()),!w(k))return;const J=new G.KJ({id:k,email:k,name:k.split("@")[0]});this.addUser(J);const{name:X,organisation:fe}=J,Me=`${k}|${X}|${fe}`,Ze=this._settings.get("visitor-invitees")||[];this._settings.saveUserSetting("visitor-invitees",[...Ze.filter(Ct=>!Ct.includes(k)),Me]),this.timeout("clear_search",()=>{this.search$.next(""),this._search_el.nativeElement.value=""},100)}addUser(k){const J=this.active_list?.filter(X=>X.id!==k.id)||[];this.setValue([...J,new G.KJ({...k,id:k.id||k.email,visit_expected:(k.id||!0===k.is_external?null:k.visit_expected)??!0})]),this.timeout("clear_search",()=>{this.search$.next(""),this._search_el.nativeElement.value=""},100)}removeUser(k){const J=this.active_list.filter(X=>X.id!==k.id);this.setValue(J)}addUsersFromFile(k){if(k.target){const J=k.target.files[0];if(J){if(!L.includes(J.type)||Q.includes(J.type))return void(0,d.UG)("Only CSV files are supported");const X=new FileReader;X.readAsText(J,"UTF-8"),X.addEventListener("load",fe=>{this.processCsvData(fe.srcElement.result),k.target.value=""}),X.addEventListener("error",fe=>(0,d.UG)("Error reading file."))}}}processCsvData(k){const J=(0,d.a6)(k)||[],X=(0,d.Ny)()?.staff_id||"unknown";for(const fe of J){fe.name=fe.name||`${fe.first_name} ${fe.last_name}`;const Me=(fe.name||`${Math.floor(99999999*Math.random())}`).split(" ").join("_").toLowerCase();fe.email||(fe.email=`${Me}+${X}@guest.${K.pd}`);const Ze=this._settings.get("app.bookings.internal_emails")||["place.tech"];fe.visit_expected=fe.visit_expected??!Ze.find(Ct=>fe.email.endsWith(Ct)),fe.phone=""+fe.phone,this.addUser(new G.KJ(fe))}}downloadCSVTemplate(){this.custom_template||(0,d.PE)("template.csv","Organisation,First Name,Last Name,Email,Phone,Assistance Required,Visit Expected\nFake Org,John,Smith,john.smith@example.com,01234567898,false,true")}setValue(k){this.active_list=k,this._onChange&&this._onChange(k)}writeValue(k){this.active_list=k}setDisabledState(k){this.disabled=k}registerOnChange(k){this._onChange=k}registerOnTouched(k){this._onTouch=k}displayFn(k){return k?.name||""}openNewUserModal(k=new G.KJ){const J=this._dialog.open(v.a,{width:"auto",height:"auto",data:{user:k}});J.componentInstance?.event.pipe((0,u.$)(X=>"done"===X.reason)).subscribe(X=>{this.addUser(X.metadata),J.close()})}static#e=this.\u0275fac=function(J){return new(J||R)(e.rXU(H.bZ),e.rXU(d.h$))};static#t=this.\u0275cmp=e.VBU({type:R,selectors:[["a-user-list-field"]],viewQuery:function(J,X){if(1&J&&e.GBs(Y,5),2&J){let fe;e.mGM(fe=e.lsd())&&(X._search_el=fe.first)}},inputs:{time:"time",disabled:"disabled",limit:"limit",guests:"guests",guests_only:"guests_only",hide_actions:"hide_actions",custom_template:"custom_template",filter:"filter"},outputs:{new_user:"new_user",download:"download"},features:[e.Jv_([{provide:i.kq,useExisting:(0,e.Rfq)(()=>R),multi:!0}]),e.Vt3],decls:17,vars:14,consts:()=>{let k,J,X,fe,Me;return k=$localize`:5ecf84665fa441ea616e171804e6652d010c9ed25361968336322693258:Type a name or email`,J=$localize`:8ddbc311625de88f24142f65336765837378c1ca2206723750290169400: Add external user with email "${"\ufffd0\ufffd"}:INTERPOLATION:" `,X=$localize`:Add new external attendeeafa9063944169ae2cd6bd8c0d5e943468ab77e90145038058737617323:${"\ufffd#3\ufffd"}:START_TAG_DIV: Add${"\ufffd#4\ufffd"}:START_TAG_SPAN:External${"\ufffd/#4\ufffd"}:CLOSE_TAG_SPAN:${"\ufffd/#3\ufffd"}:CLOSE_TAG_DIV:`,fe=$localize`:Upload attendee list from CSV file0115abeee77902eeda78bb11be738c011e8be9334462048288204440387:${"\ufffd#7\ufffd"}:START_TAG_DIV: Upload${"\ufffd#8\ufffd"}:START_TAG_SPAN:CSV${"\ufffd/#8\ufffd"}:CLOSE_TAG_SPAN:${"\ufffd/#7\ufffd"}:CLOSE_TAG_DIV:${"\ufffd#9\ufffd\ufffd/#9\ufffd"}:TAG_INPUT:`,Me=$localize`:Download template CSV filef761a83c085b86f026cdf949cf8015ee62d8ca8c6030611805365927572:${"\ufffd#12\ufffd"}:START_TAG_DIV:${"\ufffd#13\ufffd"}:START_TAG_SPAN:CSV${"\ufffd/#13\ufffd"}:CLOSE_TAG_SPAN:Template ${"\ufffd/#12\ufffd"}:CLOSE_TAG_DIV:`,[["origin","matAutocompleteOrigin"],["chipList",""],["search_field",""],["auto","matAutocomplete"],J,X,fe,Me,["form-field","",1,"mb-4"],["search",""],["appearance","outline","matAutocompleteOrigin","",1,"w-full"],["aria-label","User Seleciom"],["user","",3,"bg-warning","removed",4,"ngFor","ngForOf"],["placeholder",k,"name","user_email",3,"ngModelChange","matChipInputTokenEnd","ngModel","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes"],["diameter","24","matSuffix","",4,"ngIf"],[3,"click",4,"ngIf"],["class","leading-tight",3,"click",4,"ngFor","ngForOf"],["class","flex items-center space-x-2 -mt-4","actions","",4,"ngIf"],["user","",3,"removed"],[1,"flex","items-center","space-x-2"],[3,"matTooltip",4,"ngIf"],["matChipRemove","","remove",""],[3,"matTooltip"],["diameter","24","matSuffix",""],[3,"click"],[1,"leading-tight",3,"click"],[1,"text-xs"],["actions","",1,"flex","items-center","space-x-2","-mt-4"],["btn","","matRipple","","type","button","name","new-contact",1,"inverse","flex-1","sm:flex-none",3,"click"],[1,"flex","items-center","justify-center"],[1,"hidden","sm:inline"],["btn","","matRipple","","type","button","name","upload-csv",1,"relative","inverse","flex-1","sm:flex-none"],["type","file",1,"opacity-0","absolute","inset-0",3,"change"],["btn","","matRipple","","type","button","name","download-template",1,"inverse","flex-1","sm:flex-none",3,"click"]]},template:function(J,X){if(1&J){const fe=e.RV6();e.j41(0,"div",8)(1,"div",9)(2,"mat-form-field",10,0)(4,"mat-chip-grid",11,1),e.DNE(6,U,8,5,"mat-chip-row",12),e.k0s(),e.j41(7,"input",13,2),e.nI1(9,"async"),e.bIt("ngModelChange",function(Ze){return e.eBV(fe),e.Njj(X.updateSearch(Ze))})("matChipInputTokenEnd",function(Ze){return e.eBV(fe),e.Njj(X.addUserFromEmail(Ze.value))}),e.k0s(),e.DNE(10,$,1,0,"mat-spinner",14),e.k0s(),e.j41(11,"mat-autocomplete",null,3),e.DNE(13,B,2,1,"mat-option",15)(14,y,5,2,"mat-option",16),e.nI1(15,"async"),e.k0s()(),e.DNE(16,I,14,0,"div",17),e.k0s()}if(2&J){const fe=e.sdS(5),Me=e.sdS(12);e.BMQ("disabled",X.disabled),e.R7$(6),e.Y8G("ngForOf",X.active_list),e.R7$(),e.Y8G("ngModel",e.bMT(9,10,X.search$))("matAutocomplete",Me)("matChipInputFor",fe)("matChipInputSeparatorKeyCodes",X.separatorKeysCodes),e.R7$(3),e.Y8G("ngIf",X.loading),e.R7$(3),e.Y8G("ngIf",X.search_valid_email),e.R7$(),e.Y8G("ngForOf",e.bMT(15,12,X.user_list$)),e.R7$(2),e.Y8G("ngIf",!X.hide_actions)}}})}return R})()},8e3:(Mt,pe,a)=>{"use strict";a.d(pe,{$:()=>Y});var e=a(3953),i=a(9417),d=a(5286),p=a(4421),m=a(696),_=a(5006),g=a(3020),b=a(522),u=a(9090),S=a(3921),D=a(7375),E=a(6039),A=a(2372),v=a(3693),O=a(9596);const z=["input"];function G(P,U){1&P&&e.nrm(0,"mat-spinner",11)}function K(P,U){if(1&P){const $=e.RV6();e.j41(0,"mat-option",12),e.bIt("click",function(){const y=e.eBV($).$implicit,I=e.XpG();return I.setValue(y),e.Njj(I.blurInput())}),e.j41(1,"div",13),e.EFF(2),e.k0s(),e.j41(3,"div",14),e.EFF(4),e.k0s()()}if(2&P){const $=U.$implicit;e.R7$(2),e.JRh($.name),e.R7$(2),e.SpI(" ",$.email," ")}}function F(P,U){if(1&P){const $=e.RV6();e.j41(0,"mat-option",15)(1,"div",16),e.bIt("mousedown",function(y){return e.eBV($),y.stopPropagation(),e.Njj(y.preventDefault())})("touchstart",function(y){return e.eBV($),y.stopPropagation(),e.Njj(y.preventDefault())})("click",function(y){e.eBV($);const I=e.XpG();return I.setValue(I.search_str),y.stopPropagation(),e.Njj(y.preventDefault())}),e.j41(2,"div",17),e.pXf(3,2),e.k0s()()()}if(2&P){const $=e.XpG();e.R7$(3),e.uP7($.search_str),e.nnv(3)}}function H(P,U){if(1&P){const $=e.RV6();e.j41(0,"mat-option",18),e.bIt("click",function(){e.eBV($);const y=e.XpG();return e.Njj(y.empty_fn())}),e.EFF(1),e.k0s()}if(2&P){const $=e.XpG();e.Y8G("disabled",!$.empty_fn),e.R7$(),e.Lme(" ",$.search_str?"No users found.":""," ",$.error," ")}}let Y=(()=>{class P extends D.Tv{constructor($){super(),this._settings=$,this.error="",this.query_fn=B=>this._settings.get("app.basic_user_search")?(0,O.n1$)({q:B,authority_id:(0,O.kup)()?.id}).pipe((0,_.T)(y=>y.data.map(I=>new v.KJ(I)))):(0,A.N8)(B),this.search$=new d.B7,this.search_results$=this.search$.pipe((0,g.B)(400),(0,b.F)(),(0,u.n)(B=>(this.loading=!0,this.options&&this.options.length>0?(0,p.of)(this.options):B.length>=3?this.guests?(0,m.p)([(0,A.N8)(B),(0,E.qI)(B)]):this.query_fn(B):(0,p.of)([]))),(0,S.W)(B=>(0,p.of)([])),(0,_.T)(B=>{this.loading=!1,B=(0,D.Bq)(B);const y=(this.search_str||"").toLowerCase();return B.filter(I=>!this.filter||this.filter(I,y))})),this.cancelReset=()=>this.clearTimeout("reset"),this.blurInput=()=>{this.timeout("blur",()=>this._input_el?.nativeElement?.blur())}}ngOnInit(){this.subscription("search_results",this.search_results$.subscribe($=>this.user_list=$)),this.resetSearchString()}resetSearchString(){this.timeout("reset",()=>this.search_str=this.active_user?.name||"",100)}setValue($,B){if(!$)return;"string"==typeof $&&$===this.search_str&&($=new v.KJ({name:(this.search_str||B||"").split("@")[0],email:this.search_str||B||""}));const y=$;!("name"in y)&&!("email"in y)||(this.active_user=y,this._onChange&&this._onChange(y),this.resetSearchString())}writeValue($){this.active_user=$,this.resetSearchString()}setDisabledState($){this.disabled=$}registerOnChange($){this._onChange=$}registerOnTouched($){this._onTouch=$}static#e=this.\u0275fac=function(B){return new(B||P)(e.rXU(D.h$))};static#t=this.\u0275cmp=e.VBU({type:P,selectors:[["a-user-search-field"]],viewQuery:function(B,y){if(1&B&&e.GBs(z,5,e.aKT),2&B){let I;e.mGM(I=e.lsd())&&(y._input_el=I.first)}},inputs:{disabled:"disabled",placeholder:"placeholder",options:"options",guests:"guests",error:"error",validate:"validate",empty_fn:"empty_fn",filter:"filter",query_fn:"query_fn"},features:[e.Jv_([{provide:i.kq,useExisting:(0,e.Rfq)(()=>P),multi:!0}]),e.Vt3],decls:11,vars:8,consts:()=>{let $;return $=$localize`:bda749fab8de2e52f25203a840d2aca70b8e5b4d1390235508766899631: Add external attendee "${"\ufffd0\ufffd"}:INTERPOLATION:" `,[["input",""],["auto","matAutocomplete"],$,["appearance","outline",1,"w-full","no-subscript"],["matInput","","keyboard","","name","user-search",3,"ngModelChange","keyup.enter","blur","focus","ngModel","disabled","placeholder","matAutocomplete"],["matPrefix","",1,"text-2xl","relative"],["matSuffix","","diameter","16",4,"ngIf"],[3,"optionSelected"],[3,"click",4,"ngFor","ngForOf"],["class","relative pointer-events-none",4,"ngIf"],[3,"disabled","click",4,"ngIf"],["matSuffix","","diameter","16"],[3,"click"],[1,"leading-tight"],[1,"text-xs","opacity-60"],[1,"relative","pointer-events-none"],[1,"absolute","inset-0","px-4","pointer-events-auto",3,"mousedown","touchstart","click"],[1,"pointer-events-none"],[3,"click","disabled"]]},template:function(B,y){if(1&B){const I=e.RV6();e.j41(0,"mat-form-field",3)(1,"input",4,0),e.mxI("ngModelChange",function(L){return e.eBV(I),e.DH7(y.search_str,L)||(y.search_str=L),e.Njj(L)}),e.bIt("ngModelChange",function(L){return e.eBV(I),e.Njj(y.search$.next(L||""))})("keyup.enter",function(){return e.eBV(I),e.Njj(y.validate&&y.validate(y.search_str)?y.setValue(y.search_str):"")})("blur",function(){return e.eBV(I),e.Njj(y.resetSearchString())})("focus",function(){return e.eBV(I),e.Njj(y.cancelReset())}),e.k0s(),e.j41(3,"app-icon",5),e.EFF(4,"search"),e.k0s(),e.DNE(5,G,1,0,"mat-spinner",6),e.k0s(),e.j41(6,"mat-autocomplete",7,1),e.bIt("optionSelected",function(L){return e.eBV(I),e.Njj(y.setValue(L.option.value))}),e.DNE(8,K,5,2,"mat-option",8)(9,F,4,1,"mat-option",9)(10,H,2,3,"mat-option",10),e.k0s()}if(2&B){const I=e.sdS(7);e.R7$(),e.R50("ngModel",y.search_str),e.Y8G("disabled",y.disabled)("placeholder",y.placeholder||"Search for user...")("matAutocomplete",I),e.R7$(4),e.Y8G("ngIf",y.loading),e.R7$(3),e.Y8G("ngForOf",y.user_list),e.R7$(),e.Y8G("ngIf",y.search_str&&y.validate&&y.validate(y.search_str)),e.R7$(),e.Y8G("ngIf",!(null!=y.user_list&&y.user_list.length)&&(y.search_str||y.error))}},styles:["[_nghost-%COMP%]{display:block}app-icon[_ngcontent-%COMP%]{top:.15em;left:-.15em}"]})}return P})()},2185:(Mt,pe,a)=>{"use strict";a.d(pe,{PD:()=>e.P,gB:()=>b.g,yb:()=>d.y,WS:()=>g});var e=a(602),d=(a(6612),a(5762)),p=a(9596);function g(u,S){return u?u instanceof Object?(0,p.f_4)(u.system_id,u.module||S):(0,p.f_4)(u,S):null}var b=a(7451)},5170:(Mt,pe,a)=>{"use strict";a.d(pe,{t:()=>i});var e=a(602);class i{constructor(p={}){this.id=p.id||"",this.parent_id=p.parent_id||"",this.name=p.name||"";const m=p.settings||{};this.display_name=p.display_name,this.images=this.images||[];const _=m.discovery_info||m;this.zone_id=p.zone_id||p.zone,this.extras=(p.extras||_.extras||[]).map(b=>({id:b.extra_id||b.id,name:b.extra_name||b.name})),this.loan_items=(p.loan_items||_.loan_items||[]).map(b=>({id:b.extra_id||b.id,name:b.extra_name||b.name})),this.levels=(p.levels||_.levels||[]).map(b=>new e.P({...b,building_id:this.id})),this._roles=p.roles||_.roles||{},this._lockers=p.lockers||p.locker_structure||_.locker_structure||{},this._systems=p.systems||_.systems||{},this._phone_numbers=p.phone_numbers||_.phone_numbers||{},this.location=p.location||_.location||"0,0",this.room_configurations=p.room_configurations||_.room_configurations||[],this.attributes=p.attributes||_.attributes||[];const g=[];if(p.neighbourhoods)for(const b in p.neighbourhoods)if(b in p.neighbourhoods){const u=p.neighbourhoods[b]||{};for(const S in u)S in u&&g.push({id:u[S],name:S,level_id:b})}this.bindings=p.bindings||{},this.searchables=g,this.map_id=p.map_id||"",this.timezone=p.timezone||_.timezone||m.timezone||"",this.catering_hours=p.catering_hours||_.catering_hours||m.catering_hours||{start:7,end:20},this.visitor_space=p.visitor_space||_.visitor_space||m.visitor_space||"",this.holding_bay=p.holding_bay||_.holding_bay||m.holding_bay||"",this.code=p.code||_.code||m.code||"",this.address=p.address||_.address||m.address||"",this.orientations=p.orientations||_.orientations||m.orientations||{},this.booking_details=p.booking_details||_.booking_details||m.booking_details||null,this.catering_restricted_from=p.catering_restricted_from||_.catering_restricted_from||m.catering_restricted_from||-1440,this.currency=p.currency||_.currency||m.currency||"USD"}role(p){return[...this._roles[p]||[]]}get role_names(){return Object.keys(this._roles).filter(p=>p in this._roles)}get lockers(){return{...this._lockers||{}}}get systems(){return{...this._systems||{}}}get phone_numbers(){return{...this._phone_numbers||{}}}featuresForLevel(p){return(this.searchables||[]).filter(m=>m.level_id===p)}}},7451:(Mt,pe,a)=>{"use strict";a.d(pe,{g:()=>d});var e=a(9596);const i=["zone","qr_code","toJSON"];class d{constructor(m={}){this.toJSON=()=>this.format(),this.id=m.id||"",this.map_id=m.map_id||m.id||"",this.name=m.name||"",this.bookable=m.bookable??!1,this.zone=m.zone||new e.kMc,this.groups=m.groups||[],this.qr_code=m.qr_code||"",this.features=m.features||[],this.images=m.images||[];for(const _ in m)_ in this||(this[_]=m[_])}format(){const m={...this};for(const _ of i)delete m[_];return(0,e.jv5)(m,[void 0,null,[]]),m}}},602:(Mt,pe,a)=>{"use strict";a.d(pe,{P:()=>e});class e{constructor(d={}){this.settings={},this.id=d.id||"",this.parent_id=d.parent_id||"",this.name=d.name||"",this.display_name=d.display_name||"",this.map_id=d.map_id||"",this.capacity=d.capacity||0,this.location=d.location||"",this.locations=d.locations||[],this.tags=d.tags||[],this.images=d.images||[];const p=this.display_name.split(" ");this.number=((p.length>=2?p[p.length-1]:this.display_name[0])?.toUpperCase()||"").substring(0,2)}}},6612:(Mt,pe,a)=>{"use strict";a.d(pe,{B:()=>i});var e=a(4217);class i{constructor(p={}){this.id=p.id||"",this.name=p.name||"",this.description=p.description||"",this.tags=p.tags||[],this.count=p.count||0,this.capacity=p.capacity||0,this.bindings=p.bindings||{},this._settings=p.settings||{}}setting(p){const m=p.split(".");return(0,e.st)(m,this._settings)}}},5762:(Mt,pe,a)=>{"use strict";a.d(pe,{y:()=>P});var e=a(467),i=a(9596),d=a(9928),p=a(9714),m=a(4421),_=a(5006),g=a(8712),b=a(4046),u=a(8728),S=a(3020),D=a(3921),E=a(9525),A=a(4233),v=a(5170),O=a(602),z=a(6612);class G{constructor($){this.id=$.id||"",this.name=$.name||"",this.display_name=$.display_name||"",this.timezone=$.timezone||"",this.images=$.images||[],this.bindings=$.bindings||{},this.address=$.address||""}}var K=a(7375),F=a(2339),H=a(3953),Y=a(3141);let P=(()=>{class U{get settings(){return this._settings}get region_settings(){return this._region_settings}get building_settings(){return this._building_settings}regionSettings(B=""){const y=this._active_region.getValue();return!B&&y&&(B=y?.id),this._region_settings&&this._region_settings[B]||{}}buildingSettings(B=""){return!B&&this.building&&(B=this.building?.id||this.buildings[0]?.id),this._building_settings&&this._building_settings[B]||{}}get organisation(){return this._organisation}get regions(){return this._regions.getValue()}get region(){return this._active_region.getValue()}set region(B){this.setRegion(B)}setRegion(B){var y=this;return(0,e.A)(function*(){B&&(y._active_region.next(B),yield y.loadRegionData(B),y._setBuildingFromTimezone(),y.building?.parent_id!==B.id&&y.buildingsForRegion(B).length?y.building=y.buildingsForRegion(B)[0]:y._updateSettingOverrides())})()}get buildings(){return this._buildings.getValue()||[]}get building(){return this._active_building.getValue()}set building(B){B&&(this._active_building.next(B),this._service.get("dont_load_metadata")||this.loadBuildingData(B).then(()=>this._updateSettingOverrides()),this.regions.length&&this.region?.id!==B.parent_id&&(this.region=this.regions.find(y=>y.id===this.building.parent_id)))}get timezone(){return Intl.DateTimeFormat().resolvedOptions().timeZone}get currency_code(){return this._service.get("app.currency")||this.building?.currency||"USD"}binding(B){return this.building?.bindings[B]||this._organisation?.bindings[B]}find(B){return this.buildings.find(y=>y.id===B)}get levels(){return this._levels.getValue()}constructor(B,y){this._service=B,this._router=y,this._initialised=new d.t(!1),this.initialised=this._initialised.asObservable(),this._regions=new d.t([]),this._active_region=new d.t(null),this._buildings=new d.t([]),this._active_building=new d.t(null),this._levels=new d.t([]),this._loaded_data=[],this.app_key=`${(this._service.app_name||"workplace").toLowerCase()}_app`,this.region_list=this._regions.asObservable(),this.building_list=this._buildings.asObservable(),this.level_list=this._levels.asObservable(),this.active_region=this._active_region.asObservable(),this.active_building=this._active_building.asObservable(),this.active_buildings=(0,p.zV)([this._buildings,this._active_region]).pipe((0,_.T)(([I,w])=>w?this.buildingsForRegion(w):this.buildings)),this.active_levels=(0,p.zV)([this._levels,this._active_building]).pipe((0,_.T)(([I,w])=>w?this.levelsForBuilding(w):[]),(0,g.t)(1)),this._settings=[],this._region_settings={},this._building_settings={},(0,i.XYg)().pipe((0,b.$)(I=>I)).subscribe(()=>setTimeout(()=>this.init(),1e3)),(0,p.zV)([this.active_region,this.active_building]).pipe((0,u.p)(([I,w])=>!!w),(0,S.B)(300)).subscribe(()=>this._updateSettingOverrides())}levelWithID(B){return this.levels.find(y=>B?.includes(y.id))}levelsForBuilding(B=this.building){return this.levels.filter(y=>y.parent_id&&y.parent_id===B?.id)}buildingsForRegion(B=this.region){return this.buildings.filter(y=>y.parent_id===B?.id)}levelsForRegion(B=this.region){const y=this.buildingsForRegion(B);return this.levels.filter(I=>I.parent_id&&y.find(w=>w.id===I.parent_id))}addZone(B){if(B.tags.includes("region")){const y=new G(B),I=this._regions.getValue().filter(w=>w.id!==y.id);I.push(y),this._regions.next(I)}else if(B.tags.includes("building")){const y=new v.t(B);let I=this._buildings.getValue().filter(w=>w.id!==y.id);I.push(y),I=I.sort((w,L)=>(w.name||"").localeCompare(L.name||"")),this._buildings.next(I)}else if(B.tags.includes("level")){const y=new O.P(B);let I=this._levels.getValue().filter(w=>w.id!==y.id);I.push(y),I=I.sort((w,L)=>(w.name||"").localeCompare(L.name||"")),this._levels.next(I)}else console.warn("Unable to add zone as it is missing the required tag.",B.id)}removeZone(B){if(B.tags.includes("region")){const y=this._regions.getValue().filter(I=>I.id!==B.id);this._regions.next(y)}else if(B.tags.includes("building")){const y=this._buildings.getValue().filter(I=>I.id!==B.id);this._buildings.next(y)}else if(B.tags.includes("level")){const y=this._levels.getValue().filter(I=>I.id!==B.id);this._levels.next(y)}else console.warn("Unable to remove zone as it is missing the required tag.",B.id)}init(B=0){var y=this;return(0,e.A)(function*(){y._initialised.next(!1),yield y.load().catch(I=>{throw(0,E.UG)("Error loading organisation data. Retrying..."),setTimeout(()=>y.init(B),Math.min(1e4,300*++B)),I}),y._initialised.next(!0),window.debug&&(window.application||(window.application={}),window.application.orgs=y)})()}load(){var B=this;return(0,e.A)(function*(){if(yield B.loadOrganisation(),yield B.loadRegions(),B._regions.getValue().length)for(const y of B._regions.getValue()){const I=yield B.loadBuildings(y.id);if(I.length){B._buildings.next(I);break}}else B._buildings.next(yield B.loadBuildings());yield B.loadSettings(),B._buildings.getValue()?.length||(0,K.Rm)("ORG","Unable to find any building zones"),yield B.loadLevels(),B._updateSettingOverrides()})()}loadOrganisation(){var B=this;return(0,e.A)(function*(){const y=yield(0,i.smM)({tags:"org"}).pipe((0,_.T)(I=>I.data)).toPromise();if(y.length){const I=(0,i.kup)(),w=y.find(te=>(0,i.TMs)()||te.id===I?.config?.org_zone)||y[0],Q=(yield(B._service.get("dont_load_metadata")?(0,m.of)({details:{}}):(0,i.bpY)(w.id,"bindings")).toPromise())?.details;B._organisation=new z.B({...w,bindings:Q})}else(0,K.Rm)("ORG","Unable to find organisation"),B._router.navigate(["/misconfigured"])})()}loadRegions(){var B=this;return(0,e.A)(function*(){const y=yield(0,i.smM)({tags:"region",parent_id:B._organisation?.id||"",limit:500}).pipe((0,_.T)(I=>I.data.map(w=>new G(w))),(0,D.W)(()=>(0,m.of)([]))).toPromise();B._regions.next(y)})()}loadRegionData(B){var y=this;return(0,e.A)(function*(){if(y._loaded_data[B.id])return;const I=!y._service.get("dont_load_metadata"),w=I?(0,i.bpY)(B.id,y.app_key):(0,m.of)(new i.Pdm),L=I?(0,i.bpY)(B.id,"bindings"):(0,m.of)(new i.Pdm),[Q,te,R]=yield Promise.all([w.pipe((0,_.T)(ee=>ee?.details)).toPromise(),L.pipe((0,_.T)(ee=>ee?.details)).toPromise(),y.loadBuildings(B.id)]);y._buildings.next((0,K.Am)([...y._buildings.getValue(),...R],"id")),y._loaded_data[B.id]=!0,B.bindings=te,y._region_settings[B.id]=Q})()}loadBuildings(B=this._organisation?.id){return(0,e.A)(function*(){return yield(0,i.smM)({tags:"building",parent_id:B,limit:500}).pipe((0,_.T)(I=>I.data.map(w=>new v.t(w)))).toPromise()})()}loadBuildingData(B){var y=this;return(0,e.A)(function*(){if(!B||y._loaded_data[B.id])return;const[I,w,L,Q]=yield Promise.all([(0,i.bpY)(B.id,y.app_key).pipe((0,_.T)(te=>te?.details),(0,D.W)(()=>(0,m.of)({}))).toPromise(),(0,i.bpY)(B.id,"bindings").pipe((0,_.T)(te=>te?.details),(0,D.W)(()=>(0,m.of)({}))).toPromise(),(0,i.bpY)(B.id,"booking_rules").pipe((0,_.T)(te=>te?.details),(0,D.W)(()=>(0,m.of)({}))).toPromise(),(0,i.smE)({parent_id:B.id}).pipe((0,D.W)(()=>(0,m.of)({data:{}})),(0,_.T)(te=>{try{return F.Hh(te?.data.find(R=>R.encryption_level===i.cor.None)||{settings_string:""})}catch{return{}}})).toPromise()]);y._building_settings[B.id]={...Q||{},...I||{}},B.bindings=w,B.booking_rules=L,y._loaded_data[B.id]=!0,y._updateSettingOverrides()})()}loadLevels(){var B=this;return(0,e.A)(function*(){let y=yield(0,i.smM)({tags:"level",authority_id:(0,i.kup)().id,limit:2500}).pipe((0,_.T)(w=>w.data)).toPromise();y=y.filter(w=>w.parent_id),y?.length||B._router.navigate(["/misconfigured"]);let I=y.map(w=>new O.P(w));I=I.sort((w,L)=>(w.name||"").localeCompare(L.name||"")),B._levels.next(I)})()}get available_room_configs(){return this.buildings.map(B=>[...B.room_configurations]).reduce((B,y)=>B.concat(y),[]).sort((B,y)=>B.name.localeCompare(y.name))}loadSettings(){var B=this;return(0,e.A)(function*(){if(B._organisation){if(!B._service.get("dont_load_metadata")){const I=(yield(0,i.bpY)(B._organisation?.id,B.app_key).toPromise())?.details,w=(yield(0,i.bpY)(B._organisation?.id,"settings").toPromise())?.details;B._settings=[w,I]}B._service.overrides=[...B._settings],yield B._initialiseActiveBuilding(),B._updateSettingOverrides()}})()}saveBuilding(B){const y=this._buildings.getValue().find(I=>I.id===B)?.parent_id;y&&y!==this._organisation.id&&sessionStorage.setItem("PLACEOS.region",y),sessionStorage.setItem("PLACEOS.building",B)}_initialiseActiveBuilding(){return new Promise(B=>{const y=sessionStorage.getItem("PLACEOS.building");if(y&&this.buildings.find(w=>w.id===y))return this.building=this.buildings.find(w=>w.id===y),B();this._service.get("app.use_geolocation")&&"geolocation"in navigator?navigator.geolocation.getCurrentPosition(w=>{const{latitude:L,longitude:Q}=w.coords;let te=null;for(const R of this.buildings)if(R.location&&"0,0"!==R.location)if(te){const[ee,k]=(te.location||"0,0").split(","),[J,X]=(R.location||"0,0").split(",");Math.sqrt(Math.pow(L-+J,2)+Math.pow(Q-+X,2))<Math.sqrt(Math.pow(L-+ee,2)+Math.pow(Q-+k,2))&&(te=R)}else te=R;te&&(this.building=te),this.building?.id||this._setDefaultBuilding(),B()},()=>{this.building?.id||this._setDefaultBuilding(),B()}):this.building?.id||(this._setDefaultBuilding(),B())})}_setDefaultBuilding(){var B=this;return(0,e.A)(function*(){if(!B.buildings.length)return;const y=sessionStorage.getItem("PLACEOS.region");if(yield y?B.setRegion(B._regions.getValue().find(w=>w.id===y)):B._setRegionFromTimezone(),B._setBuildingFromTimezone(),B.building)return;const I=B._service.get("app.default_building");I&&(B.building=B.buildings.find(({id:w})=>w===I)),B.building||(B.building=B.buildings[0])})()}_setRegionFromTimezone(){var B=this;return(0,e.A)(function*(){const y=B.regions,I=B.timezone;for(const L of y)if(L.timezone===I)return yield B.setRegion(L);const w=I.split("/")[0];for(const L of y)if(L.timezone.startsWith(w))return yield B.setRegion(L)})()}_setBuildingFromTimezone(){const B=this.buildings.filter(w=>!this.region||w.parent_id===this.region?.id),y=this.timezone;for(const w of B)if(w.timezone===y)return void(this.building=w);const I=y.split("/")[0];for(const w of B)if(w.timezone.startsWith(I))return void(this.building=w)}_updateSettingOverrides(){setTimeout(()=>this._service.overrides=[this.buildingSettings(this.building?.id),this.regionSettings(this.region?.id),...this._settings],300)}static#e=this.\u0275fac=function(y){return new(y||U)(H.KVO(A.h),H.KVO(Y.Ix))};static#t=this.\u0275prov=H.jDH({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})()},5272:(Mt,pe,a)=>{"use strict";a.d(pe,{$:()=>S});var e=a(467),i=a(3953),d=a(4006),p=a(5762);function m(D,E){if(1&D&&(i.PLo(0,3,1),i.eu8(1),i.nI1(2,"date"),i.nI1(3,"date"),i.YFu()),2&D){const A=i.XpG(3);i.R7$(3),i.uP7(i.i5U(2,2,A.details.date,"shortTime"))(i.i5U(3,5,A.details.date+60*A.details.duration*1e3,"shortTime")),i.nnv(0)}}function _(D,E){if(1&D){const A=i.RV6();i.qex(0),i.j41(1,"main",14)(2,"h2",15),i.pXf(3,2),i.k0s(),i.nrm(4,"img",16),i.j41(5,"p",17),i.PLo(6,3),i.nI1(7,"date"),i.DNE(8,m,4,8,"ng-container",18),i.YFu(),i.k0s(),i.j41(9,"p",19),i.pXf(10,4),i.k0s(),i.j41(11,"p",20)(12,"strong"),i.EFF(13),i.nI1(14,"currency"),i.k0s()(),i.j41(15,"card-input-field",21),i.mxI("ngModelChange",function(O){i.eBV(A);const z=i.XpG(2);return i.DH7(z.card_details,O)||(z.card_details=O),i.Njj(O)}),i.k0s()(),i.j41(16,"footer",22)(17,"button",23),i.bIt("click",function(){i.eBV(A);const O=i.XpG(2);return i.Njj(O.processPayment())}),i.pXf(18,5),i.k0s()(),i.j41(19,"button",24)(20,"i",25),i.EFF(21,"close"),i.k0s()(),i.bVm()}if(2&D){const A=i.XpG(2);i.R7$(8),i.Y8G("ngIf",!A.details.all_day),i.uP7(A.details.type)(A.details.resource_name)(i.i5U(7,6,A.details.date,"mediumDate")),i.nnv(6),i.R7$(5),i.JRh(i.i5U(14,9,A.details.amount/100,A.code)),i.R7$(2),i.R50("ngModel",A.card_details)}}function g(D,E){if(1&D&&(i.j41(0,"div",12),i.DNE(1,_,22,12,"ng-container",13),i.k0s()),2&D){const A=i.XpG(),v=i.sdS(5);i.R7$(),i.Y8G("ngIf",!A.success)("ngIfElse",v)}}function b(D,E){if(1&D&&(i.j41(0,"div",26),i.nrm(1,"mat-spinner",27),i.j41(2,"p"),i.EFF(3),i.nI1(4,"async"),i.k0s()()),2&D){const A=i.XpG();i.R7$(3),i.JRh(i.bMT(4,1,A.loading))}}function u(D,E){if(1&D&&(i.j41(0,"main",28)(1,"h2",15),i.pXf(2,6),i.k0s(),i.j41(3,"h3",29),i.EFF(4),i.k0s(),i.j41(5,"p"),i.pXf(6,7),i.nI1(7,"currency"),i.k0s(),i.j41(8,"p"),i.pXf(9,8),i.k0s(),i.j41(10,"p"),i.EFF(11),i.nI1(12,"date"),i.k0s(),i.j41(13,"p"),i.pXf(14,9),i.nI1(15,"date"),i.nI1(16,"date"),i.k0s()(),i.nrm(17,"img",30),i.j41(18,"footer",31)(19,"button",32),i.pXf(20,10),i.k0s()()),2&D){const A=i.XpG();i.R7$(4),i.SpI(" Ref #",A.transaction_id," "),i.R7$(3),i.uP7(i.i5U(7,6,A.details.amount/100,A.code)),i.nnv(6),i.R7$(2),i.uP7(A.details.resource_name),i.nnv(9),i.R7$(2),i.JRh(i.i5U(12,9,A.details.date,"mediumDate")),i.R7$(5),i.uP7(i.i5U(15,12,A.details.date,"shortTime"))(i.i5U(16,15,A.details.date+60*A.details.duration*1e3,"shortTime")),i.nnv(14)}}let S=(()=>{class D{get code(){return this._org.currency_code}constructor(A,v){this._data=A,this._org=v,this.event=new i.bkB,this.details=this._data,this.loading=this._data.loading,this.success=!1,this.transaction_id="12345678"}processPayment(){var A=this;return(0,e.A)(function*(){!A.card_details||!A._validCardDetails()||(A.event.emit(A.card_details),yield A._data.makePayment(A.card_details),A.success=!0)})()}_validCardDetails(){return(this.card_details?.cardholder.length||0)>0&&(this.card_details?.cvv.length||0)>=3}static#e=this.\u0275fac=function(v){return new(v||D)(i.rXU(d.Vh),i.rXU(p.y))};static#t=this.\u0275cmp=i.VBU({type:D,selectors:[["payment-modal"]],outputs:{event:"event"},decls:6,vars:4,consts:()=>{let A,v,O,z,G,K,F,H,Y;return A=$localize`:4d64c520c43eead598939b50c326e665c6e88fa47177958266181561076:Booking Payment`,v=$localize`:00a4b4852357812c8f53bb8e5c7598d479bea1136612380128469929872: You are requesting a ${"\ufffd0\ufffd"}:INTERPOLATION: booking in ${"\ufffd1\ufffd"}:INTERPOLATION_1: for ${"\ufffd2\ufffd"}:INTERPOLATION_2: ${"\ufffd*8:1\ufffd\ufffd#1:1\ufffd"}:START_TAG_NG_CONTAINER: between ${"\ufffd0:1\ufffd"}:INTERPOLATION_3: and ${"\ufffd1:1\ufffd"}:INTERPOLATION_4: ${"\ufffd/#1:1\ufffd\ufffd/*8:1\ufffd"}:CLOSE_TAG_NG_CONTAINER:`,O=$localize`:7a9510cbfdcb53b8dcac3f0bd7958196958333ff2305336913310307878:You booking will cost:`,z=$localize`:9069fc3477fe6107249755afedd9fe14140bb2018427617350792373644: Make Payment `,G=$localize`:dbbd5277093a2dbc265472510779d835afc39f458206804611071524488:Payment Successful`,K=$localize`:bb02e353442d9b1ec8fc7d9875465cafb134f7e42765198892596811562:${"\ufffd0\ufffd"}:INTERPOLATION: paid.`,F=$localize`:931d5e8e4e517671212210e9d716fa2721c9e67c6374111499070607459:${"\ufffd0\ufffd"}:INTERPOLATION: booked.`,H=$localize`:e2ddd0e2db3568ac26e9f86a9e366f864a4e6e94783447026381975793: ${"\ufffd0\ufffd"}:INTERPOLATION: and ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,Y=$localize`:001127b263e7132960af8fa70cce4c2635980fbc8163835392610431386: Great, thanks. `,[["load_state",""],["success_state",""],A,v,O,z,G,K,F,H,Y,["class","relative max-h-[100vh] overflow-auto",4,"ngIf","ngIfElse"],[1,"relative","max-h-[100vh]","overflow-auto"],[4,"ngIf","ngIfElse"],[1,"px-4","pt-8","w-[24rem]","space-y-2","flex","flex-col","items-center","relative"],[1,"text-2xl","font-medium"],["src","assets/icons/cost.svg",1,"w-1/2"],[1,"text-sm","text-center","pb-2"],[4,"ngIf"],[1,"text-sm"],[1,"text-lg","font-medium","text-center"],[1,"w-full",3,"ngModelChange","ngModel"],[1,"p-4"],["matRipple","",1,"w-full",3,"click"],["icon","","matRipple","","mat-dialog-close","",1,"absolute","top-1","left-1"],[1,"material-icons","text-2xl"],[1,"w-full","h-full","flex","flex-col","items-center","justify-center","p-8"],["diameter","32"],[1,"px-8","pt-8","w-[24rem]","flex","flex-col","relative"],[1,"text-xl","font-medium","mb-2"],["src","assets/icons/payment-confirmed.svg",1,"w-full"],[1,"p-4","border-t","border-base-200"],["btn","","matRipple","","mat-dialog-close","",1,"w-full"]]},template:function(v,O){if(1&v&&(i.DNE(0,g,2,2,"div",11),i.nI1(1,"async"),i.DNE(2,b,5,3,"ng-template",null,0,i.C5r)(4,u,21,18,"ng-template",null,1,i.C5r)),2&v){const z=i.sdS(3);i.Y8G("ngIf",!i.bMT(1,2,O.loading))("ngIfElse",z)}}})}return D})()},4525:(Mt,pe,a)=>{"use strict";a.d(pe,{h:()=>z});var e=a(467),i=a(9596),d=a(9928),p=a(4421),m=a(9090),_=a(8841),g=a(8712),b=a(4233),u=a(6202),S=a(5762),D=a(5272),E=a(3953),A=a(4006);const O="Payment";let z=(()=>{class G{get payment_module(){return this._org.binding("payments")}constructor(F,H,Y){this._org=F,this._settings=H,this._dialog=Y,this._loading=new d.t(""),this._active_card=new d.t(""),this.loading=this._loading.asObservable(),this.payment_sources=(0,p.of)(1).pipe((0,m.n)(()=>{const P=(0,i.f_4)(this.payment_module,O);return P?P.execute("list_payment_methods",["card"]):(0,p.of)([])}),(0,_.M)(P=>P[0]?this._active_card.next(P[0].id):""),(0,g.t)(1))}makePayment(F){var H=this;return(0,e.A)(function*(){if(!H.payment_module)throw"Payments not enabled";const[Y,P]=yield H._getCostOfProduct(F?.type).catch(L=>[0,60]);if(console.log("Cost:",Y,P),Y<=0)return;let U=H._settings.get("STRIPE_Customer_ID");U||(U=yield H._newCustomerID()),H._settings.saveUserSetting("STRIPE_Customer_ID",U);const $=Y*(F.duration/P);let B;const y=function(){var L=(0,e.A)(function*(Q){B=yield H._processPayment($,U,Q).catch(te=>{throw H._loading.next(""),te})});return function(te){return L.apply(this,arguments)}}(),I={...F,rate:`$${(Y/100).toFixed(2)} per hour`,amount:$,makePayment:y,loading:H.loading};return yield H._dialog.open(D.$,{data:I}).afterClosed().toPromise(),B})()}_addPaymentMethod(F){var H=this;return(0,e.A)(function*(){const Y=(0,i.f_4)(H.payment_module,O);if(!Y)throw"Unable to load module";const P=yield Y.execute("add_payment_method",["card",null,null,null,null,null,null,null,null,null,null,null,F]);return P.id||P})()}_getCostOfProduct(F){var H=this;return(0,e.A)(function*(){let Y=[0,60];const P=(0,i.f_4)(H.payment_module,O);if(!P)return Y;const U=yield P.execute("get_product_prices",[null,null,F]);return U.length?U:Y})()}_processPayment(F,H,Y){var P=this;return(0,e.A)(function*(){P._loading.next("Checking payment method..."),console.log("Getting payment method...");const U=Y?yield P._addPaymentMethod(Y):P._active_card.getValue();if(!U)throw"No payment source selected";P._loading.next("Processing payment..."),console.log("Processing payment...");const $=(0,i.f_4)(P.payment_module,O);if(!$)throw"Unable to load module";const B=yield $.execute("create_payment_intent",[F,P._org.building.currency||"USD",null,null,H,null,null,null,(0,u.Ny)()?.email]);if(!B)throw"Failed to create payment";return console.log("Confirming payment..."),yield $.execute("confirm_payment_intent",[B,U]),P._loading.next(""),{success:!0,state:"approved",invoice_id:B,amount:F,created_at:Date.now(),updated_at:Date.now()}})()}_newCustomerID(){var F=this;return(0,e.A)(function*(){const H=(0,i.f_4)(F.payment_module,O);if(!H)throw"Unable to load module";const Y=(0,u.Ny)();return yield H.execute("create_customer",[0,null,null,null,`${Y.id}|${Y.name}|FromPlaceOS`,Y.email])})()}static#e=this.\u0275fac=function(H){return new(H||G)(E.KVO(S.y),E.KVO(b.h),E.KVO(A.bZ))};static#t=this.\u0275prov=E.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}return G})()},2168:(Mt,pe,a)=>{"use strict";a.d(pe,{lx:()=>e.l,$x:()=>i.$,Jm:()=>_.J,bh:()=>p.b,fY:()=>d.fY,Ot:()=>d.Ot,qU:()=>d.qU});var e=a(827),i=a(735),d=a(8363),p=a(7401),_=(a(5752),a(2011))},5752:(Mt,pe,a)=>{"use strict";a.d(pe,{d:()=>b});var e=a(4006),i=a(7375),d=a(6101),p=a(3953);function m(u,S){if(1&u){const D=p.RV6();p.j41(0,"space-list",29),p.bIt("toggleFav",function(A){p.eBV(D);const v=p.XpG();return p.Njj(v.toggleFavourite(A))})("onSelect",function(A){p.eBV(D);const v=p.XpG();return p.Njj(v.displayed=A)}),p.k0s()}if(2&u){const D=p.XpG();p.Y8G("active",null==D.displayed?null:D.displayed.id)("selected",D.selected_ids)("favorites",D.favorites)}}function _(u,S){if(1&u){const D=p.RV6();p.j41(0,"button",30),p.bIt("click",function(){p.eBV(D);const A=p.XpG();return p.Njj(A.displayed=null)}),p.pXf(1,5),p.k0s()}}function g(u,S){if(1&u){const D=p.RV6();p.j41(0,"space-map",31),p.bIt("onSelect",function(A){p.eBV(D);const v=p.XpG();return p.Njj(v.displayed=A)}),p.k0s()}if(2&u){const D=p.XpG();p.Y8G("selected",D.selected_ids)("is_displayed",!!D.displayed)("active",null==D.displayed?null:D.displayed.id)}}let b=(()=>{class u{get selected_ids(){return this.selected.map(D=>D.id).join(",")}get favorites(){return this._settings.get("favourite_spaces")||[]}constructor(D,E,A,v){this._dialog_ref=D,this._settings=E,this._event_form=A,this._data=v,this.selected=[],this.view="list",this.multiday=!!this._data.multiday,this.selected=[...v.spaces||[]],this._event_form.setOptions(v.options)}isSelected(D){return D&&this.selected_ids.includes(D)}setSelected(D,E){const A=this.selected.filter(v=>v.id!==D.id);E&&A.push(D),this.selected=A,!this._settings.get("app.events.allow_multiple_spaces")&&E&&(this.selected=[D],this._dialog_ref.close([D]))}toggleFavourite(D){const E=this.favorites;E.includes(D.id)?this._settings.saveUserSetting("favourite_spaces",E.filter(v=>v!==D.id)):this._settings.saveUserSetting("favourite_spaces",[...E,D.id])}static#e=this.\u0275fac=function(E){return new(E||u)(p.rXU(e.CP),p.rXU(i.h$),p.rXU(d.W),p.rXU(e.Vh))};static#t=this.\u0275cmp=p.VBU({type:u,selectors:[["new-space-select-modal"]],decls:39,vars:29,consts:()=>{let D,E,A,v,O;return D=$localize`:2a8f5812e693119f28847362c97c1924c4b5e2ad3245405487284732016:Find Space`,E=$localize`:30d3439b0e0095fe69503245f3bd7a2e9498be7c8443571736703532556: View List `,A=$localize`:18843b85d1a4f17fefafd07bc5cde636dca44295819716823718458903:Back to form`,v=$localize`:7651117c4dcb18eb274657230a366a428c9a113b8164592885301950366: ${"\ufffd0\ufffd"}:INTERPOLATION: room(s) added `,O=$localize`:ccda1d41ca79703a85a3a598c1d97e040a32b766874721418273731876: Back `,[["map_view",""],D,E,A,v,O,[1,"w-[100vw]","h-[100vh]","sm:relative","sm:w-auto","sm:h-auto","flex","flex-col","bg-base-100"],[1,"flex","items-center","space-x-4","w-full"],["icon","","matRipple","","mat-dialog-close","",1,"bg-base-200"],[1,"hidden","sm:flex","items-center","justify-end","flex-1"],["btn","","matRipple","","map","",1,"rounded-l","rounded-r-none",3,"click"],["btn","","matRipple","","list","",1,"rounded-r","rounded-l-none",3,"click"],[1,"flex-1","flex","items-center","divide-x","divide-base-200","min-h-[65vh]","h-[65vh]","sm:max-h-[65vh]","sm:max-w-[95vw]","w-full","overflow-hidden"],[1,"h-full","hidden","sm:flex","max-w-[20rem]","sm:h-[65vh]","sm:max-h-full",3,"multiday","hide_levels","viewing_map"],[1,"flex","flex-col","items-center","flex-1","w-1/2","h-full","sm:h-[65vh]"],[1,"w-full","border-b","border-base-200",3,"viewChange","view"],["class","flex-1 h-1/2 bg-base-200",3,"active","selected","favorites","toggleFav","onSelect",4,"ngIf","ngIfElse"],[1,"h-full","w-full","sm:h-[65vh]","absolute","sm:relative","flex","sm:flex-col","sm:max-w-[20rem]","z-20","bg-base-100",3,"activeChange","toggleFav","close","space","hide_map","active","fav"],[1,"flex","sm:hidden","flex-col-reverse","items-center","justify-end","px-2","pt-2","pb-[5.5rem]","border-t","border-base-200","w-full"],["btn","","matRipple","","name","spaces-return","class","inverse sm:hidden w-full",3,"click",4,"ngIf"],["btn","","matRipple","","name","save-spaces",1,"w-full","sm:w-32","sm:mb-0",3,"mat-dialog-close"],[1,"hidden","sm:flex","items-center","justify-between","p-2","border-t","border-base-200","w-full"],["btn","","matRipple","","name","spaces-return",1,"clear","text-secondary",3,"mat-dialog-close"],[1,"flex","items-center"],[1,"text-xl"],[1,"mr-1","underline"],[1,"opacity-60","text-sm"],["btn","","matRipple","","name","toggle-space",3,"click","disabled"],[1,"mr-1"],[1,"flex-1","h-1/2","bg-base-200",3,"toggleFav","onSelect","active","selected","favorites"],["btn","","matRipple","","name","spaces-return",1,"inverse","sm:hidden","w-full",3,"click"],[1,"flex-1","h-1/2","w-full",3,"onSelect","selected","is_displayed","active"]]},template:function(E,A){if(1&E){const v=p.RV6();p.j41(0,"div",6)(1,"header",7)(2,"button",8)(3,"app-icon"),p.EFF(4,"close"),p.k0s()(),p.j41(5,"h3"),p.pXf(6,1),p.k0s(),p.j41(7,"div",9)(8,"button",10),p.bIt("click",function(){return p.eBV(v),p.Njj(A.view="map")}),p.EFF(9," Map "),p.k0s(),p.j41(10,"button",11),p.bIt("click",function(){return p.eBV(v),p.Njj(A.view="list")}),p.EFF(11," List "),p.k0s()()(),p.j41(12,"main",12),p.nrm(13,"space-filters",13),p.j41(14,"div",14)(15,"space-filters-display",15),p.mxI("viewChange",function(z){return p.eBV(v),p.DH7(A.view,z)||(A.view=z),p.Njj(z)}),p.k0s(),p.DNE(16,m,1,3,"space-list",16),p.k0s(),p.j41(17,"space-details",17),p.bIt("activeChange",function(z){return p.eBV(v),p.Njj(A.setSelected(A.displayed,z))})("toggleFav",function(){return p.eBV(v),p.Njj(A.toggleFavourite(A.displayed))})("close",function(){return p.eBV(v),p.Njj(A.displayed=null)}),p.k0s()(),p.j41(18,"footer",18),p.DNE(19,_,2,0,"button",19),p.j41(20,"button",20),p.pXf(21,2),p.k0s()(),p.j41(22,"footer",21)(23,"button",22)(24,"div",23)(25,"app-icon",24),p.EFF(26,"arrow_back"),p.k0s(),p.j41(27,"div",25),p.pXf(28,3),p.k0s()()(),p.j41(29,"p",26),p.pXf(30,4),p.k0s(),p.j41(31,"button",27),p.bIt("click",function(){return p.eBV(v),p.Njj(A.setSelected(A.displayed,!A.isSelected(null==A.displayed?null:A.displayed.id)))}),p.j41(32,"div",23)(33,"app-icon",24),p.EFF(34),p.k0s(),p.j41(35,"div",28),p.EFF(36),p.k0s()()()()(),p.DNE(37,g,1,3,"ng-template",null,0,p.C5r)}if(2&E){const v=p.sdS(38);p.R7$(8),p.AVh("inverse","map"!==A.view),p.R7$(2),p.AVh("inverse","list"!==A.view),p.R7$(3),p.Y8G("multiday",A.multiday)("hide_levels","list"!==A.view)("viewing_map","map"===A.view),p.R7$(2),p.R50("view",A.view),p.R7$(),p.Y8G("ngIf","list"===A.view)("ngIfElse",v),p.R7$(),p.AVh("hidden",!A.displayed)("inset-0",A.displayed),p.Y8G("space",A.displayed)("hide_map","map"===A.view)("active",A.selected_ids.includes(null==A.displayed?null:A.displayed.id))("fav",A.displayed&&A.favorites.includes(null==A.displayed?null:A.displayed.id)),p.R7$(2),p.Y8G("ngIf",A.displayed),p.R7$(),p.AVh("mb-2",A.displayed),p.Y8G("mat-dialog-close",A.selected),p.R7$(3),p.Y8G("mat-dialog-close",A.selected),p.R7$(7),p.uP7(A.selected.length),p.nnv(30),p.R7$(),p.AVh("inverse",A.isSelected(null==A.displayed?null:A.displayed.id)),p.Y8G("disabled",!A.displayed),p.R7$(3),p.JRh(A.isSelected(null==A.displayed?null:A.displayed.id)?"remove":"add"),p.R7$(2),p.SpI(" ",A.isSelected(null==A.displayed?null:A.displayed.id)?"Remove from Booking":"Add to booking"," ")}}})}return u})()},735:(Mt,pe,a)=>{"use strict";a.d(pe,{$:()=>i});var e=a(602);class i{constructor(p={}){this.id=p.id||"",this.name=p.name||"",this.display_name=p.display_name||"",this.email=(p.email||"").toLowerCase(),this.capacity=p.capacity||-1,this.feature_list=p.feature_list||p.features||[],this.bookable=!!p.bookable,this.zones=p.zones||[],this.support_url=p.support_url||"",this.map_id=p.map_id||"",this.images=p.images||[],this.configurations=p.configurations||[],this.features=p.features||[],this.response_status=p.response_status,this.level=p.level||new e.P,this.availability=p.availability||[]}inUseAt(p,m){const _=p+60*m*1e3;return this.availability.filter(g=>g.date==p&&g.date+60*g.duration*1e3==_&&"free"!==g.status).length>0}}},2011:(Mt,pe,a)=>{"use strict";a.d(pe,{J:()=>D,U:()=>S});var e=a(467),i=a(9596),d=a(5762),p=a(735),m=a(4046),_=a(3953);const g=[],b={},u=new p.$({email:"empty.space@place.os"});function S(E){for(const A of E)g.find(({id:v})=>v===A.id)||g.push(A)}setInterval(()=>{for(const E in b)b[E]=b[E]-1,b[E]<=0&&delete b[E]},1e4);let D=(()=>{class E{constructor(v){this._org=v}transform(v){var O=this;return(0,e.A)(function*(){O._org&&(yield O._org.initialised.pipe((0,m.$)(F=>F)).toPromise());const z=v?.includes("@");if(!v)return u;let G=g.find(({id:F,email:H})=>F===v||H===v);if(G)return G;if(b[v])return u;if(!z){const F=yield(0,i.V4n)(v).toPromise().catch(H=>null);if(F)return G=new p.$({...F,level:O._org?.levelWithID([...F.zones])}),g.push(G),G}const K=(yield(0,i.Kfl)({in:v,zone_id:O._org?.organisation.id}).toPromise()).data;return 1===K.length?(G=new p.$({...K[0],level:O._org?.levelWithID([...K[0].zones])}),g.push(G),G):u})()}updateSpaceList(v){S(v)}static#e=this.\u0275fac=function(O){return new(O||E)(_.rXU(d.y,24))};static#t=this.\u0275pipe=_.EJ8({name:"space",type:E,pure:!0})}return E})()},8363:(Mt,pe,a)=>{"use strict";a.d(pe,{Ot:()=>O,fY:()=>v,qU:()=>A}),a(7375);var i=a(9596),d=a(4421),p=a(5006),m=a(8841),_=a(8712),b=(a(4129),a(735)),u=a(2011),S=a(9417);const D={},A=K=>(K=>{if(!K)return!0;try{new URL(K)}catch{return!1}return!0})(K?.value)?null:{url:"invalid"};function v(K){const F={id:new S.MJ(K?.id||""),name:new S.MJ(K.name||"",[S.k0.required]),display_name:new S.MJ(K.display_name||""),email:new S.MJ(K.email||"",[S.k0.email]),code:new S.MJ(K.code||""),support_url:new S.MJ(K.support_url||"",[A]),installed_ui_devices:new S.MJ(K.installed_ui_devices||0,[S.k0.pattern("[0-9]*")]),features:new S.MJ(("string"==typeof K.features?K.features.split(" "):K.features)||[]),capacity:new S.MJ(K.capacity||0,[S.k0.pattern("[0-9]*")]),bookable:new S.MJ(K.bookable||!1),public:new S.MJ(K.public||!1),description:new S.MJ(K.description||""),images:new S.MJ(K.images||[]),map_id:new S.MJ(K.map_id||""),timezone:new S.MJ(K.timezone||""),zone:new S.MJ(null,[S.k0.required]),zones:new S.MJ(K.zones,[S.k0.required]),version:new S.MJ(K.version)};return K.id?delete F.zone:F.zone.valueChanges.subscribe(H=>F.zones.setValue([H.id])),new S.gE(F)}function O(K){return K?(D[K]||(D[K]=(0,i.BbB)({zone_id:K,limit:500}).pipe((0,p.T)(F=>(F.data||[]).map(H=>new b.$(H))),(0,m.M)(F=>(0,u.U)(F)),(0,_.t)(1))),D[K]):(0,d.of)([])}},827:(Mt,pe,a)=>{"use strict";a.d(pe,{l:()=>Ue});var e=a(177),i=a(9417),d=a(4006),p=a(6665),m=a(2765),_=a(4558),g=a(481),b=a(5752),u=a(3953),S=a(1865),D=a(5762);const E=()=>({disable_pan:!0,disable_zoom:!0});function A(Fe,At){if(1&Fe&&u.nrm(0,"image-carousel",23),2&Fe){const Ke=u.XpG(2);u.Y8G("images",Ke.space.images)}}function v(Fe,At){if(1&Fe&&(u.j41(0,"div",16)(1,"p"),u.pXf(2,4),u.k0s()()),2&Fe){const Ke=At.$implicit;u.R7$(2),u.uP7(Ke),u.nnv(2)}}function O(Fe,At){if(1&Fe&&(u.j41(0,"section",24)(1,"h2",15),u.pXf(2,3),u.k0s(),u.DNE(3,v,3,1,"div",25),u.k0s()),2&Fe){const Ke=u.XpG(2);u.R7$(3),u.Y8G("ngForOf",Ke.space.features)}}function z(Fe,At){if(1&Fe&&(u.j41(0,"section",26),u.nrm(1,"interactive-map",27),u.k0s()),2&Fe){const Ke=u.XpG(2);u.R7$(),u.Y8G("src",Ke.map_url)("focus",Ke.space.map_id)("features",Ke.features)("options",u.lJ4(4,E))}}function G(Fe,At){if(1&Fe){const Ke=u.RV6();u.qex(0),u.j41(1,"section",7),u.DNE(2,A,1,1,"image-carousel",8),u.j41(3,"button",9),u.bIt("click",function(){u.eBV(Ke);const tn=u.XpG();return u.Njj(tn.close.emit())}),u.j41(4,"app-icon"),u.EFF(5,"arrow_back"),u.k0s()(),u.j41(6,"button",10),u.bIt("click",function(){u.eBV(Ke);const tn=u.XpG();return u.Njj(tn.toggleFav.emit())}),u.j41(7,"app-icon"),u.EFF(8),u.k0s()()(),u.j41(9,"div",11)(10,"section",12)(11,"h2",13),u.EFF(12),u.k0s()(),u.nrm(13,"hr"),u.j41(14,"section",14)(15,"h2",15),u.pXf(16,1),u.k0s(),u.j41(17,"div",16)(18,"app-icon"),u.EFF(19,"people"),u.k0s(),u.j41(20,"p"),u.pXf(21,2),u.k0s()(),u.j41(22,"div",16)(23,"app-icon"),u.EFF(24,"meeting_room"),u.k0s(),u.j41(25,"p"),u.EFF(26),u.k0s()(),u.j41(27,"div",16)(28,"app-icon"),u.EFF(29,"place"),u.k0s(),u.j41(30,"p"),u.EFF(31),u.k0s()()(),u.nrm(32,"hr"),u.DNE(33,O,4,1,"section",17)(34,z,2,5,"section",18),u.k0s(),u.j41(35,"div",19)(36,"button",20),u.bIt("click",function(){u.eBV(Ke);const tn=u.XpG();return tn.active=!tn.active,u.Njj(tn.activeChange.emit(tn.active))}),u.j41(37,"div",21)(38,"app-icon",22),u.EFF(39),u.k0s(),u.j41(40,"p"),u.EFF(41),u.k0s()()()(),u.bVm()}if(2&Fe){const Ke=u.XpG();u.R7$(),u.AVh("sm:h-64",null==Ke.space.images?null:Ke.space.images.length)("h-40",null==Ke.space.images?null:Ke.space.images.length)("sm:h-0",!(null!=Ke.space.images&&Ke.space.images.length))("h-12",!(null!=Ke.space.images&&Ke.space.images.length))("!bg-transparent",!(null!=Ke.space.images&&Ke.space.images.length)),u.R7$(),u.Y8G("ngIf",null==Ke.space.images?null:Ke.space.images.length),u.R7$(4),u.AVh("text-white",!Ke.fav)("text-blue-400",Ke.fav),u.R7$(2),u.JRh(Ke.fav?"favorite":"favorite_border"),u.R7$(4),u.SpI(" ",Ke.space.display_name||Ke.space.name," "),u.R7$(9),u.uP7(Ke.space.capacity),u.nnv(21),u.R7$(5),u.SpI(" ",(null==Ke.level?null:Ke.level.display_name)||(null==Ke.level?null:Ke.level.name)," "),u.R7$(5),u.SpI(" ",(null==Ke.building?null:Ke.building.address)||(null==Ke.building?null:Ke.building.display_name)||(null==Ke.building?null:Ke.building.name)," "),u.R7$(2),u.Y8G("ngIf",null==Ke.space.features?null:Ke.space.features.length),u.R7$(),u.Y8G("ngIf",!Ke.hide_map),u.R7$(2),u.AVh("inverse",Ke.active),u.R7$(3),u.JRh(Ke.active?"remove":"add"),u.R7$(2),u.SpI(" ",Ke.active?"Remove this room":"Add this room"," ")}}function K(Fe,At){1&Fe&&(u.j41(0,"div",28)(1,"p",29),u.pXf(2,5),u.k0s()())}let F=(()=>{class Fe{get level(){return this._org.levelWithID(this.space?.zones)||this.space?.level}get building(){return this._org.buildings.find(Ke=>this.space?.zones.includes(Ke.id))}constructor(Ke){this._org=Ke,this.fav=!1,this.active=!1,this.hide_map=!1,this.activeChange=new u.bkB,this.close=new u.bkB,this.toggleFav=new u.bkB,this.map_url="",this.features=[]}ngOnChanges(Ke){Ke.space&&this.space&&this._updateFeature()}_updateFeature(){this.map_url=this.level?.map_id,this.features=[{location:this.space?.map_id,content:S.V}]}static#e=this.\u0275fac=function(xt){return new(xt||Fe)(u.rXU(D.y))};static#t=this.\u0275cmp=u.VBU({type:Fe,selectors:[["space-details"]],inputs:{space:"space",fav:"fav",active:"active",hide_map:"hide_map"},outputs:{activeChange:"activeChange",close:"close",toggleFav:"toggleFav"},features:[u.OA$],decls:3,vars:2,consts:()=>{let Ke,xt,tn,nn,En;return Ke=$localize`:4f8b2bb476981727ab34ed40fde1218361f92c455028777105388019087:Details`,xt=$localize`:2fe5caca246424da5e7fcee12a1fe341335e12862731085793954892186:${"\ufffd0\ufffd"}:INTERPOLATION: People`,tn=$localize`:45b5b90d7df8adeb648858761739fa700117c0d53223773701700202859:Room Facilities`,nn=$localize`:9a6f64944a2acf1f8315f9ffac43e3fe58bac31f1353747351482281557:${"\ufffd0\ufffd"}:INTERPOLATION:`,En=$localize`:02434c6ff0f41cc7f311ace51ce0787ae315e5fb5676660199414904214: Select a room to view it's details `,[["empty_state",""],Ke,xt,tn,nn,En,[4,"ngIf","ngIfElse"],["image","",1,"relative","w-full","bg-neutral"],["class","absolute inset-0",3,"images",4,"ngIf"],["icon","","matRipple","","name","close-space-details",1,"absolute","top-2","left-2","bg-neutral","sm:hidden","text-white",3,"click"],["icon","","matRipple","","name","toggle-space-favourite-details",1,"absolute","top-2","right-2","bg-neutral",3,"click"],[1,"p-2","space-y-2","flex-1","h-1/2","overflow-auto"],["actions","",1,"z-0"],[1,"text-xl","font-medium","mb-2","mt-4"],["details","",1,"space-y-2"],[1,"text-xl","font-medium"],[1,"flex","items-center","space-x-2"],["facilities","","class","space-y-2",4,"ngIf"],["map","","class","w-full mx-auto h-64 sm:h-48 relative border border-base-200 overflow-hidden rounded",4,"ngIf"],[1,"px-2","pt-2","pb-[5.5rem]","border-t","border-base-200","shadow","sm:hidden"],["btn","","matRipple","","name","toggle-space-details",1,"w-full",3,"click"],[1,"flex","items-center","justify-center"],[1,"text-2xl"],[1,"absolute","inset-0",3,"images"],["facilities","",1,"space-y-2"],["class","flex items-center space-x-2",4,"ngFor","ngForOf"],["map","",1,"w-full","mx-auto","h-64","sm:h-48","relative","border","border-base-200","overflow-hidden","rounded"],[1,"pointer-events-none",3,"src","focus","features","options"],["empty","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[1,"opacity-30","text-center"]]},template:function(xt,tn){if(1&xt&&u.DNE(0,G,42,26,"ng-container",6)(1,K,3,0,"ng-template",null,0,u.C5r),2&xt){const nn=u.sdS(2);u.Y8G("ngIf",tn.space)("ngIfElse",nn)}},styles:["[_nghost-%COMP%]{position:relative;display:flex;flex-direction:column;width:30%;min-width:20rem;height:100%;min-height:65vh}"]})}return Fe})();var H=a(6101);function Y(Fe,At){1&Fe&&(u.j41(0,"div",24)(1,"app-icon"),u.EFF(2,"done"),u.k0s()())}function P(Fe,At){if(1&Fe&&u.nrm(0,"img",25),2&Fe){const Ke=u.XpG().$implicit;u.Y8G("source",Ke.images[0])}}function U(Fe,At){1&Fe&&u.nrm(0,"img",26)}function $(Fe,At){if(1&Fe){const Ke=u.RV6();u.j41(0,"li",13)(1,"button",14),u.bIt("click",function(){const tn=u.eBV(Ke).$implicit,nn=u.XpG(3);return u.Njj(nn.selectSpace(tn))}),u.j41(2,"div",15),u.DNE(3,Y,3,0,"div",16)(4,P,1,1,"img",17)(5,U,1,0,"ng-template",null,2,u.C5r),u.k0s(),u.j41(7,"div",18)(8,"div",19),u.EFF(9),u.k0s(),u.j41(10,"div",20)(11,"app-icon",21),u.EFF(12,"place"),u.k0s(),u.j41(13,"p",22),u.EFF(14),u.k0s()(),u.j41(15,"div",20)(16,"app-icon",21),u.EFF(17,"people"),u.k0s(),u.j41(18,"p"),u.pXf(19,4),u.k0s()()()(),u.j41(20,"button",23),u.bIt("click",function(){const tn=u.eBV(Ke).$implicit,nn=u.XpG(3);return u.Njj(nn.toggleFav.emit(tn))}),u.j41(21,"app-icon"),u.EFF(22),u.k0s()()()}if(2&Fe){let Ke;const xt=At.$implicit,tn=u.sdS(6),nn=u.XpG(3);u.AVh("!border-info",nn.active===xt.id),u.R7$(3),u.Y8G("ngIf",nn.selected.includes(xt.id)),u.R7$(),u.Y8G("ngIf",null==xt.images?null:xt.images.length)("ngIfElse",tn),u.R7$(5),u.SpI(" ",xt.display_name||xt.name||"Meeting Space"," "),u.R7$(5),u.SpI(" ",xt.location||(null==(Ke=nn.level(xt.zones))?null:Ke.display_name)||(null==(Ke=nn.level(xt.zones))?null:Ke.name)," "),u.R7$(5),u.uP7(xt.capacity<1?2:xt.capacity),u.nnv(19),u.R7$(),u.AVh("text-info",nn.isFavourite(xt.id)),u.R7$(2),u.JRh(nn.isFavourite(xt.id)?"favorite":"favorite_border")}}function B(Fe,At){if(1&Fe&&(u.j41(0,"ul",11),u.DNE(1,$,23,11,"li",12),u.nI1(2,"async"),u.k0s()),2&Fe){const Ke=u.XpG(2);u.R7$(),u.Y8G("ngForOf",u.bMT(2,1,Ke.available_spaces))}}function y(Fe,At){if(1&Fe&&(u.qex(0),u.DNE(1,B,3,3,"ul",10),u.nI1(2,"async"),u.bVm()),2&Fe){let Ke;const xt=u.XpG(),tn=u.sdS(8);u.R7$(),u.Y8G("ngIf",null==(Ke=u.bMT(2,2,xt.available_spaces))?null:Ke.length)("ngIfElse",tn)}}function I(Fe,At){1&Fe&&(u.j41(0,"div",27)(1,"p",28),u.pXf(2,5),u.k0s()())}function w(Fe,At){1&Fe&&(u.j41(0,"div",29),u.nrm(1,"mat-spinner",30),u.j41(2,"p",31),u.pXf(3,6),u.k0s()()),2&Fe&&(u.R7$(),u.Y8G("diameter",32))}let L=(()=>{class Fe{constructor(Ke,xt){this._event_form=Ke,this._org=xt,this.active="",this.selected="",this.favorites=[],this.onSelect=new u.bkB,this.toggleFav=new u.bkB,this.loading=this._event_form.loading,this.available_spaces=this._event_form.available_spaces}level(Ke){return this._org.levelWithID(Ke)}ngOnInit(){this._event_form.setView("find")}isFavourite(Ke){return this.favorites.includes(Ke)}selectSpace(Ke){this.onSelect.emit(Ke)}static#e=this.\u0275fac=function(xt){return new(xt||Fe)(u.rXU(H.W),u.rXU(D.y))};static#t=this.\u0275cmp=u.VBU({type:Fe,selectors:[["space-list"]],inputs:{active:"active",selected:"selected",favorites:"favorites"},outputs:{onSelect:"onSelect",toggleFav:"toggleFav"},decls:11,vars:7,consts:()=>{let Ke,xt,tn,nn;return Ke=$localize`:f3733dfad4477862079351d9f8cf60c7964cc3e32290177789691483092: ${"\ufffd0\ufffd"}:INTERPOLATION: result(s) found `,xt=$localize`:08719ea79f574b595da7d187fda2fa8c491b5de74552898751936658514: ${"\ufffd0\ufffd"}:INTERPOLATION: People `,tn=$localize`:027c29534f5dc45741b226edfebb3f7f578384b03831747985282777621: No available spaces for selected time and/or filters `,nn=$localize`:8dad32dda6491a1051df9156e98031c0e634b413126579492602011343:Finding available spaces...`,[["empty_state",""],["load_state",""],["space_placeholder",""],Ke,xt,tn,nn,[1,"font-bold"],["count","",1,"text-sm","opacity-60","mb-4"],[4,"ngIf","ngIfElse"],["class","list-style-none space-y-2",4,"ngIf","ngIfElse"],[1,"list-style-none","space-y-2"],["space","","class","relative p-2 rounded-lg w-full shadow border bg-base-100 border-base-200",3,"!border-info",4,"ngFor","ngForOf"],["space","",1,"relative","p-2","rounded-lg","w-full","shadow","border","bg-base-100","border-base-200"],["matRipple","","name","select-space",1,"w-full","h-full","flex","items-center",3,"click"],[1,"relative","min-w-[5rem]","w-20","h-20","rounded-xl","bg-base-200","mr-4","overflow-hidden","flex","items-center","justify-center"],["class","absolute top-1 left-1 border border-neutral bg-base-200 rounded-full h-6 w-6 flex items-center justify-center text-white",4,"ngIf"],["auth","","class","object-cover h-full",3,"source",4,"ngIf","ngIfElse"],[1,"space-y-2"],[1,"font-medium","truncate","mr-10"],[1,"flex","items-center","text-sm","space-x-2"],[1,"text-info"],[1,"truncate"],["icon","","matRipple","","name","toggle-space-favourite",1,"absolute","top-1","right-1",3,"click"],[1,"absolute","top-1","left-1","border","border-neutral","bg-base-200","rounded-full","h-6","w-6","flex","items-center","justify-center","text-white"],["auth","",1,"object-cover","h-full",3,"source"],["src","assets/icons/room-placeholder.svg",1,"m-auto"],["empty","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[1,"opacity-30","text-center"],["loading","",1,"p-16","flex","flex-col","items-center","justify-center","space-y-2"],[3,"diameter"],[1,"opacity-30"]]},template:function(xt,tn){if(1&xt&&(u.j41(0,"h3",7),u.EFF(1,"Results"),u.k0s(),u.j41(2,"p",8),u.pXf(3,3),u.nI1(4,"async"),u.k0s(),u.DNE(5,y,3,4,"ng-container",9),u.nI1(6,"async"),u.DNE(7,I,3,0,"ng-template",null,0,u.C5r)(9,w,4,1,"ng-template",null,1,u.C5r)),2&xt){let nn;const En=u.sdS(10);u.R7$(4),u.uP7((null==(nn=u.bMT(4,3,tn.available_spaces))?null:nn.length)||0),u.nnv(3),u.R7$(),u.Y8G("ngIf",!u.bMT(6,5,tn.loading))("ngIfElse",En)}},styles:["[_nghost-%COMP%]{width:100%;height:100%;padding:.5rem;overflow:auto}"]})}return Fe})();var Q=a(467),te=a(7375),R=a(3601),ee=a(4512),k=a(906),J=a(9714),X=a(5006),fe=a(9493),Me=a(7401);const Ze=()=>({standalone:!0});function Ct(Fe,At){if(1&Fe){const Ke=u.RV6();u.j41(0,"button",32),u.bIt("click",function(){u.eBV(Ke);const tn=u.XpG();return u.Njj(tn.close())}),u.j41(1,"app-icon"),u.EFF(2,"keyboard_arrow_left"),u.k0s()()}}function lt(Fe,At){if(1&Fe&&(u.j41(0,"mat-option",36),u.EFF(1),u.k0s()),2&Fe){const Ke=At.$implicit;u.Y8G("value",Ke),u.R7$(),u.SpI(" ",Ke.display_name||Ke.name," ")}}function Ot(Fe,At){if(1&Fe){const Ke=u.RV6();u.j41(0,"mat-form-field",33)(1,"mat-select",34),u.bIt("ngModelChange",function(tn){u.eBV(Ke);const nn=u.XpG();return u.Njj(nn.setRegion(tn))}),u.DNE(2,lt,2,2,"mat-option",35),u.nI1(3,"async"),u.k0s()()}if(2&Fe){const Ke=u.XpG();u.R7$(),u.Y8G("ngModel",Ke.region)("ngModelOptions",u.lJ4(5,Ze)),u.R7$(),u.Y8G("ngForOf",u.bMT(3,3,Ke.regions))}}function rt(Fe,At){if(1&Fe&&(u.j41(0,"mat-option",36),u.EFF(1),u.k0s()),2&Fe){const Ke=At.$implicit;u.Y8G("value",Ke),u.R7$(),u.SpI(" ",Ke.display_name||Ke.name," ")}}function vt(Fe,At){if(1&Fe){const Ke=u.RV6();u.j41(0,"mat-form-field",33)(1,"mat-select",37),u.nI1(2,"async"),u.nI1(3,"async"),u.nI1(4,"async"),u.bIt("ngModelChange",function(tn){u.eBV(Ke);const nn=u.XpG();return u.Njj(nn.setBuilding(tn))}),u.DNE(5,rt,2,2,"mat-option",35),u.nI1(6,"async"),u.k0s()()}if(2&Fe){let Ke;const xt=u.XpG();u.R7$(),u.Y8G("ngModel",u.bMT(2,4,xt.building))("ngModelOptions",u.lJ4(12,Ze))("placeholder",(null==(Ke=u.bMT(3,6,xt.building))?null:Ke.display_name)||(null==(Ke=u.bMT(4,8,xt.building))?null:Ke.name)),u.R7$(4),u.Y8G("ngForOf",u.bMT(6,10,xt.buildings))}}function ve(Fe,At){if(1&Fe&&(u.j41(0,"div",41),u.EFF(1),u.nI1(2,"building"),u.j41(3,"span",42),u.EFF(4," - "),u.k0s()()),2&Fe){let Ke;const xt=u.XpG().$implicit;u.R7$(),u.SpI(" ",null==(Ke=u.bMT(2,1,xt.parent_id))?null:Ke.display_name," ")}}function Ce(Fe,At){if(1&Fe&&(u.j41(0,"mat-option",36)(1,"div",39),u.DNE(2,ve,5,3,"div",40),u.j41(3,"div"),u.EFF(4),u.k0s()()()),2&Fe){const Ke=At.$implicit,xt=u.XpG(2);u.Y8G("value",Ke.id),u.R7$(2),u.Y8G("ngIf",xt.use_region),u.R7$(2),u.SpI(" ",Ke.display_name||Ke.name," ")}}function be(Fe,At){if(1&Fe){const Ke=u.RV6();u.j41(0,"mat-form-field",33)(1,"mat-select",38),u.nI1(2,"async"),u.bIt("ngModelChange",function(tn){u.eBV(Ke);const nn=u.XpG();return u.Njj(nn.setOptions({zone_ids:tn}))}),u.DNE(3,Ce,5,3,"mat-option",35),u.nI1(4,"async"),u.k0s()()}if(2&Fe){let Ke;const xt=u.XpG();u.R7$(),u.Y8G("ngModel",null==(Ke=u.bMT(2,4,xt.options))?null:Ke.zone_ids)("ngModelOptions",u.lJ4(8,Ze))("multiple",!0),u.R7$(2),u.Y8G("ngForOf",u.bMT(4,6,xt.levels))}}function ue(Fe,At){if(1&Fe){const Ke=u.RV6();u.j41(0,"div",43)(1,"label",24),u.EFF(2),u.nI1(3,"translate"),u.j41(4,"span"),u.EFF(5,"*"),u.k0s()(),u.j41(6,"a-date-field",44),u.bIt("ngModelChange",function(tn){u.eBV(Ke);const nn=u.XpG();return u.Njj(nn.form.patchValue({date_end:tn}))}),u.EFF(7),u.nI1(8,"translate"),u.k0s()()}if(2&Fe){const Ke=u.XpG();u.R7$(2),u.SpI(" ",u.bMT(3,9,"FORM.END_DATE"),""),u.R7$(4),u.Y8G("ngModel",Ke.form.getRawValue().date_end)("ngModelOptions",u.lJ4(13,Ze))("from",Ke.start_date)("to",Ke.end_date)("short",!0)("timezone",Ke.timezone)("range",2),u.R7$(),u.SpI(" ",u.bMT(8,11,"FORM.DATE_ERROR")," ")}}function me(Fe,At){1&Fe&&(u.j41(0,"div",45)(1,"mat-checkbox",46),u.pXf(2,5),u.k0s()())}function $e(Fe,At){if(1&Fe){const Ke=u.RV6();u.j41(0,"div",48)(1,"label",52),u.EFF(2),u.nI1(3,"translate"),u.j41(4,"span"),u.EFF(5,"*"),u.k0s()(),u.j41(6,"a-time-field",53),u.bIt("ngModelChange",function(tn){u.eBV(Ke);const nn=u.XpG(2);return u.Njj(nn.form.patchValue({date_end:tn}))}),u.k0s()()}if(2&Fe){let Ke;const xt=u.XpG(2);u.R7$(2),u.SpI(" ",u.bMT(3,6,"FORM.END_TIME"),""),u.R7$(4),u.Y8G("ngModel",xt.form.value.date_end)("ngModelOptions",u.lJ4(8,Ze))("from",null==xt.form||null==(Ke=xt.form.getRawValue())?null:Ke.date)("use_24hr",xt.use_24hr)("timezone",xt.timezone)}}function Et(Fe,At){if(1&Fe&&(u.j41(0,"div",48)(1,"label",52),u.EFF(2),u.nI1(3,"translate"),u.j41(4,"span"),u.EFF(5,"*"),u.k0s()(),u.nrm(6,"a-duration-field",54),u.k0s()),2&Fe){let Ke;const xt=u.XpG(2);u.R7$(2),u.SpI(" ",u.bMT(3,5,"FORM.END_TIME"),""),u.R7$(4),u.Y8G("time",null==xt.form||null==(Ke=xt.form.getRawValue())?null:Ke.date)("max",xt.max_duration)("use_24hr",xt.use_24hr)("timezone",xt.timezone)}}function Ve(Fe,At){if(1&Fe){const Ke=u.RV6();u.j41(0,"div",47)(1,"div",48)(2,"label",49),u.PLo(3,6),u.nrm(4,"span"),u.YFu(),u.k0s(),u.j41(5,"a-time-field",50),u.bIt("ngModelChange",function(tn){u.eBV(Ke);const nn=u.XpG();return u.Njj(nn.form.patchValue({date:tn}))}),u.k0s()(),u.DNE(6,$e,7,9,"div",51)(7,Et,7,7,"div",51),u.k0s()}if(2&Fe){const Ke=u.XpG();u.R7$(5),u.Y8G("ngModel",Ke.form.getRawValue().date)("ngModelOptions",u.lJ4(6,Ze))("use_24hr",Ke.use_24hr)("timezone",Ke.timezone),u.R7$(),u.Y8G("ngIf",Ke.multiday),u.R7$(),u.Y8G("ngIf",!Ke.multiday)}}function st(Fe,At){if(1&Fe){const Ke=u.RV6();u.j41(0,"section",55)(1,"h2",56),u.pXf(2,7),u.nI1(3,"translate"),u.k0s(),u.j41(4,"div",57)(5,"div",58),u.pXf(6,8),u.nI1(7,"translate"),u.k0s(),u.j41(8,"mat-checkbox",59),u.nI1(9,"async"),u.bIt("ngModelChange",function(tn){u.eBV(Ke);const nn=u.XpG();return u.Njj(nn.setOptions({show_fav:tn}))}),u.k0s()()()}if(2&Fe){let Ke;const xt=u.XpG();u.R7$(3),u.uP7(u.bMT(3,4,"COMMON.FAVOURITES")),u.nnv(2),u.R7$(4),u.uP7(u.bMT(7,6,"ROOMS.SHOW_FAVOURITES")),u.nnv(6),u.R7$(),u.Y8G("ngModel",null==(Ke=u.bMT(9,8,xt.options))?null:Ke.show_fav)("ngModelOptions",u.lJ4(10,Ze))}}function ht(Fe,At){if(1&Fe){const Ke=u.RV6();u.j41(0,"div",57)(1,"div",63),u.EFF(2),u.k0s(),u.j41(3,"mat-checkbox",64),u.nI1(4,"async"),u.bIt("ngModelChange",function(tn){u.eBV(Ke);const nn=u.XpG().$implicit,En=u.XpG(2);return u.Njj(En.toggleFeature(nn,tn))}),u.k0s()()}if(2&Fe){let Ke;const xt=u.XpG().$implicit,tn=u.XpG(2);u.R7$(2),u.SpI(" ",tn.feature_display[xt]||xt," "),u.R7$(),u.Y8G("ngModel",null==(Ke=u.bMT(4,3,tn.options))||null==Ke.features?null:Ke.features.includes(xt))("ngModelOptions",u.lJ4(5,Ze))}}function Vt(Fe,At){if(1&Fe&&(u.qex(0),u.DNE(1,ht,5,6,"div",62),u.bVm()),2&Fe){const Ke=At.$implicit,xt=u.XpG(2);u.R7$(),u.Y8G("ngIf",!xt.hide_features.includes(Ke))}}function qe(Fe,At){if(1&Fe&&(u.j41(0,"section",60)(1,"h2",56),u.pXf(2,9),u.k0s(),u.DNE(3,Vt,2,1,"ng-container",61),u.nI1(4,"async"),u.k0s()),2&Fe){const Ke=u.XpG();u.R7$(3),u.Y8G("ngForOf",u.bMT(4,1,Ke.features))}}function gt(Fe,At){if(1&Fe){const Ke=u.RV6();u.j41(0,"div",65)(1,"button",66),u.bIt("click",function(){u.eBV(Ke);const tn=u.XpG();return u.Njj(tn.close())}),u.pXf(2,10),u.k0s()()}}let ot=(()=>{class Fe{get allow_all_day(){return!!this._settings.get("app.events.allow_all_day")}get use_region(){return!!this._settings.get("app.use_region")}get timezone(){return this._settings.get("app.events.use_building_timezone")?this._org.building.timezone:""}get bld(){return this._org.building}get region(){return this._org.region}get form(){return this._event_form.form}get max_duration(){return this._settings.get("app.events.max_duration")||480}get feature_display(){return this._settings.get("app.events.feature_decriptions")||{}}get hide_features(){return this._settings.get("app.events.hide_features")||[]}get use_24hr(){return this._settings.get("app.use_24_hour_time")}get start_date(){return(0,R.o)(this.form.getRawValue().date).valueOf()}get end_date(){return(0,ee.D)((0,k.f)(Date.now(),this._settings.get("app.events.allowed_future_days")||180))}constructor(Ke,xt,tn,nn,En,Un){this._bsheet_ref=Ke,this._settings=xt,this._event_form=tn,this._org=nn,this._spaces=En,this._mapspeople=Un,this.can_close=!1,this.options=this._event_form.options,this.building=this._org.active_building,this.buildings=this._org.active_buildings,this.levels=(0,J.zV)([this._org.active_region,this._org.active_building]).pipe((0,X.T)(([Xn,Qn])=>(this.use_region?this._org.levelsForRegion(Xn):this._org.levelsForBuilding(Qn)).filter(Ti=>!Ti.tags.includes("parking")).sort((Ti,Wi)=>Ti.parent_id.localeCompare(Wi.parent_id)||(Ti.display_name||"").localeCompare(Wi.display_name||"")))),this.regions=this._org.region_list,this.using_mapspeople=this._mapspeople.available$,this.features=(0,J.zV)([this._spaces.features,this._event_form.available_spaces]).pipe((0,X.T)(([Xn,Qn])=>(0,te.Am)(Xn.concat((0,te.Bq)(Qn.map(fi=>fi.features)))))),this.close=()=>this._bsheet_ref.dismiss(),this.setOptions=Xn=>this._event_form.setOptions(Xn),this.can_close=!!this._bsheet_ref}setBuilding(Ke){this._org.building=Ke}setRegion(Ke){this._org.region=Ke}toggleFeature(Ke,xt){var tn=this;return(0,Q.A)(function*(){const{features:nn}=yield tn.options.pipe((0,fe.s)(1)).toPromise(),En=(nn||[]).filter(Un=>Ke!==Un);xt&&En.push(Ke),tn.setOptions({features:En})})()}static#e=this.\u0275fac=function(xt){return new(xt||Fe)(u.rXU(p.eN,8),u.rXU(te.h$),u.rXU(H.W),u.rXU(D.y),u.rXU(Me.b),u.rXU(te._e))};static#t=this.\u0275cmp=u.VBU({type:Fe,selectors:[["space-filters"]],inputs:{multiday:"multiday",hide_levels:"hide_levels",viewing_map:"viewing_map"},decls:35,vars:31,consts:()=>{let Ke,xt,tn,nn,En,Un,Xn,Qn,fi,Ui,Ti,Wi,ys;return Ke=$localize`:36173168a4643aa78634e9242a63f3a40862f1667173310086383878456:Space Filters`,xt=$localize`:4f8b2bb476981727ab34ed40fde1218361f92c455028777105388019087:Details`,tn=$localize`:ed31c09fd77c36238c13d83635f3fe5294c733d2471816275243265264:Location`,nn=$localize`:04cfb5fd033651743bc4b9408bd52ba4ee8940703158758063619980932:Date${"\ufffd#22\ufffd"}:START_TAG_SPAN:*${"\ufffd/#22\ufffd"}:CLOSE_TAG_SPAN:`,En=$localize`:beead5a3a21b1ca4abe67610030f8a520995de4e3894192522062036998: ${"\ufffd0\ufffd"}:INTERPOLATION: `,Un=$localize`:130845b58eba8e50c98f3fba117a0168cdba4f318264413387051126615:Any Region`,Xn=$localize`:50407595967bf29832e873b41f9de3502d5c3e037323982518822503502:Any Level`,Qn=$localize`:d7f43e20f3a729fa3de32bc7a1f709ccd722eae5835486935962207481: All Day `,fi=$localize`:02d39ddac5bbf95c424df03d5f0d22cc257556bd4735431816432396893: Start Time${"\ufffd#4\ufffd"}:START_TAG_SPAN:*${"\ufffd/#4\ufffd"}:CLOSE_TAG_SPAN:`,Ui=$localize`:bde3d9fd949ba4c6014b8e64c1362753bca1cf0c5010873675481014004: ${"\ufffd0\ufffd"}:INTERPOLATION: `,Ti=$localize`:210742da6591a33630e0bfba757b95e6a1d99b201614226322496100282: ${"\ufffd0\ufffd"}:INTERPOLATION: `,Wi=$localize`:bf10c600bd861cfd0a23f4759562ee0ae9dbe19f1551920764795208868:Facilities`,ys=$localize`:c17e2cc448524a39eb83b2937cea3235a2e8bf372296888311792137027: Apply Filters `,[Ke,xt,tn,nn,En,Qn,fi,Ui,Ti,Wi,ys,[1,"flex","items-center","border-b","border-base-200","pb-2","sm:hidden"],[1,"flex-1","pl-2"],["icon","","matRipple","","name","close-space-filters",3,"click",4,"ngIf"],[1,"font-medium","flex-2","text-center"],[1,"flex-1"],[1,"max-h-[65vh]","p-2","overflow-y-auto","overflow-x-hidden","divide-y","divide-base-200","w-full","max-w-[100vw]",3,"formGroup"],["details",""],[1,"text-lg","font-medium","mb-1"],[1,"flex-1","min-w-[8rem]","flex","flex-col"],["for","location"],["appearance","outline","class","w-full",4,"ngIf"],[1,"flex","items-center","flex-wrap","sm:space-x-2"],[1,"flex-1","min-w-[8rem]"],["for","date"],["name","date",3,"ngModelChange","ngModel","ngModelOptions","to","short","timezone","range"],["class","flex-1 min-w-[8rem] relative",4,"ngIf"],["class","flex justify-end -mt-2 mb-2",4,"ngIf"],["class","flex items-center space-x-2",4,"ngIf"],["favs","","class","space-y-2 pb-4",4,"ngIf"],["features","","class","space-y-2",4,"ngIf"],["class","px-2 pt-2 w-full border-t border-base-200",4,"ngIf"],["icon","","matRipple","","name","close-space-filters",3,"click"],["appearance","outline",1,"w-full"],["name","region","placeholder",Un,3,"ngModelChange","ngModel","ngModelOptions"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["name","building",3,"ngModelChange","ngModel","ngModelOptions","placeholder"],["name","location","placeholder",Xn,3,"ngModelChange","ngModel","ngModelOptions","multiple"],[1,"flex","flex-col-reverse"],["class","opacity-30 text-xs",4,"ngIf"],[1,"opacity-30","text-xs"],[1,"opacity-0"],[1,"flex-1","min-w-[8rem]","relative"],["name","date",3,"ngModelChange","ngModel","ngModelOptions","from","to","short","timezone","range"],[1,"flex","justify-end","-mt-2","mb-2"],["formControlName","all_day"],[1,"flex","items-center","space-x-2"],[1,"flex-1","w-1/3"],["for","start-time"],["name","start-time",3,"ngModelChange","ngModel","ngModelOptions","use_24hr","timezone"],["class","flex-1 w-1/3",4,"ngIf"],["for","end-time"],["name","end-time",3,"ngModelChange","ngModel","ngModelOptions","from","use_24hr","timezone"],["name","end-time","formControlName","duration",3,"time","max","use_24hr","timezone"],["favs","",1,"space-y-2","pb-4"],[1,"text-lg","font-medium"],[1,"flex","items-center"],["for","fav",1,"flex-1","w-1/2"],["name","fav",3,"ngModelChange","ngModel","ngModelOptions"],["features","",1,"space-y-2"],[4,"ngFor","ngForOf"],["class","flex items-center",4,"ngIf"],["for","feat",1,"flex-1","w-1/2"],["name","feat",3,"ngModelChange","ngModel","ngModelOptions"],[1,"px-2","pt-2","w-full","border-t","border-base-200"],["btn","","matRipple","","name","apply-space-filters",1,"w-full",3,"click"]]},template:function(xt,tn){if(1&xt&&(u.j41(0,"div",11)(1,"div",12),u.DNE(2,Ct,3,0,"button",13),u.k0s(),u.j41(3,"h3",14),u.pXf(4,0),u.k0s(),u.nrm(5,"div",15),u.k0s(),u.j41(6,"form",16)(7,"section",17)(8,"h2",18),u.pXf(9,1),u.k0s(),u.j41(10,"div",19)(11,"label",20),u.pXf(12,2),u.k0s(),u.DNE(13,Ot,4,6,"mat-form-field",21),u.nI1(14,"async"),u.DNE(15,vt,7,13,"mat-form-field",21),u.nI1(16,"async"),u.DNE(17,be,5,9,"mat-form-field",21),u.k0s(),u.j41(18,"div",22)(19,"div",23)(20,"label",24),u.PLo(21,3),u.nrm(22,"span"),u.YFu(),u.k0s(),u.j41(23,"a-date-field",25),u.bIt("ngModelChange",function(En){return tn.form.patchValue({date:En})}),u.pXf(24,4),u.nI1(25,"translate"),u.k0s()(),u.DNE(26,ue,9,14,"div",26),u.k0s(),u.DNE(27,me,3,0,"div",27)(28,Ve,8,7,"div",28),u.k0s(),u.DNE(29,st,10,11,"section",29),u.nI1(30,"async"),u.DNE(31,qe,5,3,"section",30),u.nI1(32,"async"),u.nI1(33,"async"),u.k0s(),u.DNE(34,gt,3,0,"div",31)),2&xt){let nn,En,Un;u.R7$(2),u.Y8G("ngIf",tn.can_close),u.R7$(4),u.Y8G("formGroup",tn.form),u.R7$(7),u.Y8G("ngIf",tn.use_region&&(null==(nn=u.bMT(14,18,tn.regions))?null:nn.length)),u.R7$(2),u.Y8G("ngIf",!tn.use_region&&(null==(En=u.bMT(16,20,tn.buildings))?null:En.length)>1),u.R7$(2),u.Y8G("ngIf",!tn.hide_levels),u.R7$(6),u.Y8G("ngModel",tn.form.getRawValue().date)("ngModelOptions",u.lJ4(30,Ze))("to",tn.end_date)("short",!0)("timezone",tn.timezone)("range",tn.multiday?1:0),u.R7$(2),u.uP7(u.bMT(25,22,"FORM.DATE_ERROR")),u.nnv(24),u.R7$(),u.Y8G("ngIf",tn.multiday),u.R7$(),u.Y8G("ngIf",tn.allow_all_day),u.R7$(),u.Y8G("ngIf",!tn.form.value.all_day),u.R7$(),u.Y8G("ngIf",!tn.viewing_map||!u.bMT(30,24,tn.using_mapspeople)),u.R7$(2),u.Y8G("ngIf",(null==(Un=u.bMT(32,26,tn.features))?null:Un.length)&&(!tn.viewing_map||!u.bMT(33,28,tn.using_mapspeople))),u.R7$(3),u.Y8G("ngIf",tn.can_close)}},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:100%;max-width:100vw}"]})}return Fe})();var ae=a(9434),Oe=a(6600);function Le(Fe,At){if(1&Fe){const Ke=u.RV6();u.j41(0,"button",17),u.bIt("click",function(){u.eBV(Ke);const tn=u.XpG();return u.Njj(tn.removeAllFeatures())}),u.EFF(1," Clear Filters "),u.k0s()}}function Pe(Fe,At){if(1&Fe&&(u.j41(0,"div",18),u.EFF(1),u.k0s()),2&Fe){const Ke=u.XpG();u.R7$(),u.SpI(" ",Ke.location," ")}}function _t(Fe,At){if(1&Fe&&(u.qex(0),u.EFF(1),u.nI1(2,"date"),u.nI1(3,"date"),u.bVm()),2&Fe){const Ke=u.XpG();u.R7$(),u.Lme(" ",u.i5U(2,2,Ke.start,Ke.time_format)," \u2014 ",u.i5U(3,5,Ke.end,Ke.time_format)," ")}}function Gt(Fe,At){1&Fe&&(u.qex(0),u.EFF(1,"All Day"),u.bVm())}function Kt(Fe,At){if(1&Fe){const Ke=u.RV6();u.j41(0,"div",19)(1,"p",20),u.EFF(2),u.k0s(),u.j41(3,"button",21),u.bIt("click",function(){const tn=u.eBV(Ke).$implicit,nn=u.XpG();return u.Njj(nn.removeFeature(tn))}),u.j41(4,"app-icon"),u.EFF(5,"close"),u.k0s()()()}if(2&Fe){const Ke=At.$implicit;u.R7$(2),u.JRh(Ke)}}let vn=(()=>{class Fe extends te.Tv{get all_day(){return this._event_form.form.value.all_day}get start(){return this._event_form.form.value.date}get end(){const{date:Ke,duration:xt}=this._event_form.form.value;return Ke+60*xt*1e3}get time_format(){return this._settings.time_format}constructor(Ke,xt,tn,nn){super(),this._bsheet=Ke,this._event_form=xt,this._org=tn,this._settings=nn,this.view="list",this.viewChange=new u.bkB,this.options=this._event_form.options,this.location="",this.editFilters=()=>this._bsheet.open(ot)}ngOnInit(){this.subscription("opts",this.options.subscribe(({zone_ids:Ke})=>this._updateLocation(Ke)))}removeFeature(Ke){var xt=this;return(0,Q.A)(function*(){const tn=yield xt._event_form.options.pipe((0,fe.s)(1)).toPromise();xt._event_form.setOptions({...tn,features:(tn.features||[]).filter(nn=>nn!==Ke)})})()}removeAllFeatures(){var Ke=this;return(0,Q.A)(function*(){const xt=yield Ke._event_form.options.pipe((0,fe.s)(1)).toPromise();Ke._event_form.setOptions({...xt,features:[]})})()}_updateLocation(Ke=[]){const tn=this._org.levelWithID(Ke)||this._org.building;this.location=tn?.display_name||tn?.name||""}static#e=this.\u0275fac=function(xt){return new(xt||Fe)(u.rXU(p.VK),u.rXU(H.W),u.rXU(D.y),u.rXU(te.h$))};static#t=this.\u0275cmp=u.VBU({type:Fe,selectors:[["space-filters-display"]],inputs:{view:"view"},outputs:{viewChange:"viewChange"},features:[u.Vt3],decls:23,vars:20,consts:()=>{let Ke,xt,tn,nn;return Ke=$localize`:19eaa5cd51d70d9ea957eecac78cfd811e9b93d85208858215712453646: Filters `,xt=$localize`:992a9a6a193a56c5b8846dc972c5e1977ee5f1aa8553228906889869186: Map `,tn=$localize`:4b286e90831dd637c5cd3eb20544664ee71126697787942140742011951: List `,nn=$localize`:dfdd3d7879401ba6edca2e5198df414f15c112c25300384898733875729: Min. ${"\ufffd0\ufffd"}:INTERPOLATION: People `,[Ke,xt,tn,nn,["actions","",1,"sm:hidden","space-x-2","flex","items-center","p-2"],["btn","","matRipple","","name","edit-space-filters",1,"flex-1","w-1/2",3,"click"],[1,"flex","items-center"],["btn","","matRipple","","name","view-space-map",1,"rounded-l","rounded-r-none",3,"click"],["btn","","matRipple","","name","view-space-list",1,"rounded-r","rounded-l-none",3,"click"],["filters","",1,"flex","items-center","flex-wrap","p-2","w-[35rem]","max-w-full","sm:max-w-[35rem]"],["btn","","matRipple","","name","clear-space-filters","class","min-h-[2rem] mb-2 mr-2",3,"click",4,"ngIf"],["filter-item","","zone","","class","dark:border-base-200-500",4,"ngIf"],["filter-item","","date","",1,"dark:border-base-200-500"],["filter-item","","time","",1,"dark:border-base-200-500"],[4,"ngIf"],["filter-item","","count","",1,"dark:border-base-200-500"],["filter-item","",4,"ngFor","ngForOf"],["btn","","matRipple","","name","clear-space-filters",1,"min-h-[2rem]","mb-2","mr-2",3,"click"],["filter-item","","zone","",1,"dark:border-base-200-500"],["filter-item",""],[1,"truncate"],["icon","","matRipple","","name","remove-space-filter",1,"-mr-4",3,"click"]]},template:function(xt,tn){if(1&xt&&(u.j41(0,"section",4)(1,"button",5),u.bIt("click",function(){return tn.editFilters()}),u.pXf(2,0),u.k0s(),u.j41(3,"div",6)(4,"button",7),u.bIt("click",function(){return tn.view="map",tn.viewChange.emit(tn.view)}),u.pXf(5,1),u.k0s(),u.j41(6,"button",8),u.bIt("click",function(){return tn.view="list",tn.viewChange.emit(tn.view)}),u.pXf(7,2),u.k0s()()(),u.j41(8,"section",9),u.DNE(9,Le,2,0,"button",10),u.nI1(10,"async"),u.DNE(11,Pe,2,1,"div",11),u.j41(12,"div",12),u.EFF(13),u.nI1(14,"date"),u.k0s(),u.j41(15,"div",13),u.DNE(16,_t,4,8,"ng-container",14)(17,Gt,2,0,"ng-container",14),u.k0s(),u.j41(18,"div",15),u.pXf(19,3),u.nI1(20,"async"),u.k0s(),u.DNE(21,Kt,6,1,"div",16),u.nI1(22,"async"),u.k0s()),2&xt){let nn,En,Un;u.R7$(4),u.AVh("inverse","map"!==tn.view),u.R7$(2),u.AVh("inverse","list"!==tn.view),u.R7$(3),u.Y8G("ngIf",(null==(nn=u.bMT(10,11,tn.options))||null==nn.features?null:nn.features.length)>1),u.R7$(2),u.Y8G("ngIf",tn.location),u.R7$(2),u.SpI(" ",u.i5U(14,13,tn.start,"mediumDate")," "),u.R7$(3),u.Y8G("ngIf",!tn.all_day),u.R7$(),u.Y8G("ngIf",tn.all_day),u.R7$(3),u.uP7((null==(En=u.bMT(20,16,tn.options))?null:En.capacity)||2),u.nnv(19),u.R7$(),u.Y8G("ngForOf",null==(Un=u.bMT(22,18,tn.options))?null:Un.features)}},dependencies:[e.Sq,e.bT,ae.R,Oe.r6,e.Jj,e.vh],styles:["[filter-item][_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 1rem;min-height:2rem;font-size:.875rem;border:1px solid rgba(0,0,0,.2);border-radius:1.25rem;margin-right:.5rem;margin-bottom:.5rem;max-width:100%;text-align:center}[filter-item][_ngcontent-%COMP%]:hover{background:#0000001a}[filter-item][_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:.5rem}"]})}return Fe})();var Ft=a(9928),_n=a(3020),ft=a(5897),pt=a(6815);function $t(Fe,At){1&Fe&&u.nrm(0,"div",16)}function kt(Fe,At){1&Fe&&(u.j41(0,"app-icon",17),u.EFF(1," done "),u.k0s())}let dn=(()=>{class Fe{get color(){return this.active?"#F4511E":this.selected?"#D32F2F":"#309251"}constructor(Ke){this._data=Ke,this.selected=!0===this._data.selected,this.active=!0===this._data.active}static#e=this.\u0275fac=function(xt){return new(xt||Fe)(u.rXU(pt.Nw))};static#t=this.\u0275cmp=u.VBU({type:Fe,selectors:[["space-location-pin"]],decls:17,vars:3,consts:[[1,"absolute","bottom-0","left-1/2","-translate-x-1/2"],["width","44","height","60","viewBox","0 0 66 80","fill","none","xmlns","http://www.w3.org/2000/svg"],["filter","url(#filter0_d_1065_10313)"],["d","M19.724 53.0408C25.0871 60.3435 30.5582 65.8583 31.0184 66.3178C31.4558 66.755 32.0489 67.0007 32.6674 67.0008H32.6678C33.2863 67.0007 33.8795 66.755 34.3169 66.3178C34.7771 65.8583 40.2481 60.3435 45.6112 53.0408C48.2928 49.3894 50.963 45.2701 52.9663 41.0957C54.9629 36.935 56.3331 32.6459 56.3342 28.6724C56.364 25.5564 55.7725 22.4657 54.5941 19.5809C53.415 16.6946 51.6722 14.0724 49.4675 11.8677C47.2629 9.66308 44.6407 7.92024 41.7544 6.74121C38.8711 5.5634 35.782 4.97184 32.6676 5.00103C29.5533 4.97184 26.4642 5.5634 23.5809 6.74121C20.6946 7.92024 18.0724 9.66308 15.8677 11.8677C13.6631 14.0724 11.9202 16.6946 10.7412 19.5809C9.56278 22.4657 8.97122 25.5565 9.00108 28.6726C9.0022 32.646 10.3724 36.9351 12.369 41.0957C14.3723 45.2701 17.0425 49.3894 19.724 53.0408Z","stroke","#0B421D","stroke-width","2"],["id","filter0_d_1065_10313","x","0","y","0","width","65.3353","height","80.001","filterUnits","userSpaceOnUse","color-interpolation-filters","sRGB"],["flood-opacity","0","result","BackgroundImageFix"],["in","SourceAlpha","type","matrix","values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0","result","hardAlpha"],["dy","4"],["stdDeviation","4"],["in2","hardAlpha","operator","out"],["type","matrix","values","0 0 0 0 0.0196078 0 0 0 0 0.109804 0 0 0 0 0.172549 0 0 0 0.2 0"],["mode","normal","in2","BackgroundImageFix","result","effect1_dropShadow_1065_10313"],["mode","normal","in","SourceGraphic","in2","effect1_dropShadow_1065_10313","result","shape"],[1,"absolute","top-0","left-0","w-full","h-3/4","flex","items-center","justify-center"],["class","relative z-10 h-4 w-4 rounded-full bg-base-100 border-2 border-[#0B421D]",4,"ngIf"],["class","relative text-white z-10 text-2xl",4,"ngIf"],[1,"relative","z-10","h-4","w-4","rounded-full","bg-base-100","border-2","border-[#0B421D]"],[1,"relative","text-white","z-10","text-2xl"]],template:function(xt,tn){1&xt&&(u.j41(0,"div",0),u.qSk(),u.j41(1,"svg",1)(2,"g",2),u.nrm(3,"path",3),u.k0s(),u.j41(4,"defs")(5,"filter",4),u.nrm(6,"feFlood",5)(7,"feColorMatrix",6)(8,"feOffset",7)(9,"feGaussianBlur",8)(10,"feComposite",9)(11,"feColorMatrix",10)(12,"feBlend",11)(13,"feBlend",12),u.k0s()()(),u.joV(),u.j41(14,"div",13),u.DNE(15,$t,1,0,"div",14)(16,kt,2,0,"app-icon",15),u.k0s()()),2&xt&&(u.R7$(3),u.BMQ("fill",tn.color),u.R7$(12),u.Y8G("ngIf",!tn.selected),u.R7$(),u.Y8G("ngIf",tn.selected))},dependencies:[e.bT,ae.R],encapsulation:2})}return Fe})();const pn=()=>({controls:!0}),un=()=>({standalone:!0});function an(Fe,At){if(1&Fe&&(u.j41(0,"div",10),u.EFF(1),u.nI1(2,"building"),u.j41(3,"span",11),u.EFF(4," - "),u.k0s()()),2&Fe){let Ke;const xt=u.XpG().$implicit;u.R7$(),u.SpI(" ",null==(Ke=u.bMT(2,1,xt.parent_id))?null:Ke.display_name," ")}}function hn(Fe,At){if(1&Fe&&(u.j41(0,"mat-option",7)(1,"div",8),u.DNE(2,an,5,3,"div",9),u.j41(3,"div"),u.EFF(4),u.k0s()()()),2&Fe){const Ke=At.$implicit,xt=u.XpG(2);u.Y8G("value",Ke),u.R7$(2),u.Y8G("ngIf",xt.use_region),u.R7$(2),u.SpI(" ",Ke.display_name||Ke.name," ")}}function Sn(Fe,At){if(1&Fe){const Ke=u.RV6();u.j41(0,"mat-form-field",4)(1,"mat-select",5),u.mxI("ngModelChange",function(tn){u.eBV(Ke);const nn=u.XpG();return u.DH7(nn.level,tn)||(nn.level=tn),u.Njj(tn)}),u.bIt("ngModelChange",function(tn){u.eBV(Ke);const nn=u.XpG();return u.Njj(nn.setOptions({zone_ids:[tn.id]}))}),u.DNE(2,hn,5,3,"mat-option",6),u.nI1(3,"async"),u.k0s()()}if(2&Fe){const Ke=u.XpG();u.R7$(),u.R50("ngModel",Ke.level),u.Y8G("ngModelOptions",u.lJ4(5,un)),u.R7$(),u.Y8G("ngForOf",u.bMT(3,3,Ke.levels))}}let Lt=(()=>{class Fe extends te.Tv{get map_url(){return this.level?.map_id||""}get use_region(){return!!this._settings.get("app.use_region")}constructor(Ke,xt,tn){super(),this._event_form=Ke,this._org=xt,this._settings=tn,this.selected=[],this.is_displayed=!1,this.onSelect=new u.bkB,this.zoom=1,this.center={x:.5,y:.5},this.coordinates=void 0,this._seletedSpace=nn=>()=>{this.onSelect.emit(nn),this._change.next(Date.now())},this.level=null,this._change=new Ft.t(0),this.levels=(0,J.zV)([this._org.active_region,this._org.active_building]).pipe((0,X.T)(([nn,En])=>(this.use_region?this._org.levelsForRegion(nn):this._org.levelsForBuilding(En)).filter(Qn=>!Qn.tags.includes("parking")).sort((Qn,fi)=>Qn.parent_id.localeCompare(fi.parent_id)||(Qn.display_name||"").localeCompare(fi.display_name||"")))),this.setOptions=nn=>this._event_form.setOptions(nn),this.features=(0,J.zV)([this._event_form.available_spaces,this._change]).pipe((0,_n.B)(300),(0,X.T)(([nn])=>nn.map(En=>({location:En.map_id,content:dn,data:{...En,active:this.active===En.id,selected:this.selected.includes(En.id)}})))),this.actions=this._event_form.available_spaces.pipe((0,X.T)(nn=>nn.map(En=>({id:En.map_id,action:["touchend","mouseup"],callback:this._seletedSpace(En)})))),this.styles=(0,J.zV)([this._event_form.spaces,this._event_form.available_spaces]).pipe((0,X.T)(([nn,En])=>nn.reduce((Un,Xn)=>{const Qn=this._settings.get("app.explore.colors")||{},fi=En.find(Ui=>Ui.id===Xn.id)?"free":"busy";return Un[`#${Xn.map_id||Xn.id}`]={fill:Qn[`space-${fi}`]||Qn[`${fi}`]||ft.U[`${fi}`]},Un},{})))}ngOnInit(){this.subscription("levels_update",this._event_form.options.subscribe(({zone_ids:Ke})=>{const xt=this._org.levelWithID(Ke);xt&&(this.level=xt)}))}setLevel(Ke){this.setOptions({zone_ids:[Ke?.id]});const xt=this._org.buildings.find(tn=>tn.id===Ke?.parent_id);if(xt){const[tn,nn]=(Ke.location||xt.location).split(",").map(En=>parseFloat(En));this.coordinates={latitude:tn,longitude:nn}}this.level=Ke}setZoom(Ke){this.zoom=Math.max(.5,Math.min(10,Ke))}resetMap(){this.zoom=1,this.center={x:.5,y:.5}}static#e=this.\u0275fac=function(xt){return new(xt||Fe)(u.rXU(H.W),u.rXU(D.y),u.rXU(te.h$))};static#t=this.\u0275cmp=u.VBU({type:Fe,selectors:[["space-map"]],inputs:{selected:"selected",active:"active",is_displayed:"is_displayed"},outputs:{onSelect:"onSelect"},features:[u.Vt3],decls:8,vars:17,consts:()=>{let Ke;return Ke=$localize`:50407595967bf29832e873b41f9de3502d5c3e037323982518822503502:Any Level`,[[1,"bg-base-100","p-2","border-b","border-base-200","w-full"],["appearance","outline","class","w-full",4,"ngIf"],[1,"relative","flex-1","w-full"],[3,"zoomChange","centerChange","src","zoom","center","styles","features","actions","options"],["appearance","outline",1,"w-full"],["name","location","placeholder",Ke,3,"ngModelChange","ngModel","ngModelOptions"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"flex","flex-col-reverse"],["class","opacity-30 text-xs",4,"ngIf"],[1,"opacity-30","text-xs"],[1,"opacity-0"]]},template:function(xt,tn){if(1&xt&&(u.j41(0,"div",0),u.DNE(1,Sn,4,6,"mat-form-field",1),u.nI1(2,"async"),u.k0s(),u.j41(3,"div",2)(4,"interactive-map",3),u.nI1(5,"async"),u.nI1(6,"async"),u.nI1(7,"async"),u.mxI("zoomChange",function(En){return u.DH7(tn.zoom,En)||(tn.zoom=En),En})("centerChange",function(En){return u.DH7(tn.center,En)||(tn.center=En),En}),u.k0s()()),2&xt){let nn;u.R7$(),u.Y8G("ngIf",null==(nn=u.bMT(2,8,tn.levels))?null:nn.length),u.R7$(3),u.Y8G("src",tn.map_url),u.R50("zoom",tn.zoom)("center",tn.center),u.Y8G("styles",u.bMT(5,10,tn.styles))("features",u.bMT(6,12,tn.features))("actions",u.bMT(7,14,tn.actions))("options",u.lJ4(16,pn))}},styles:["[_nghost-%COMP%]{position:relative;background:#0000000d;display:flex;flex-direction:column}button[_ngcontent-%COMP%]{border-radius:0}"]})}return Fe})();a(2011);var ct=a(4918),Xe=a(5277),Qe=a(3208),Bt=a(9183),Xt=a(3719),Be=a(2798),oe=a(9608),Ee=a(3476),ne=a(1413),Ie=a(6062),Te=a(1780);let Ue=(()=>{class Fe{static#e=this.\u0275fac=function(xt){return new(xt||Fe)};static#t=this.\u0275mod=u.$C({type:Fe});static#n=this.\u0275inj=u.G2t({imports:[e.MD,d.hM,_.h,g.c,p.vF,m.g7,i.YN,i.X1]})}return Fe})();u.wjB(b.d,[e.bT,d.tx,ae.R,Oe.r6,F,L,ot,vn,Lt],[]),u.wjB(F,[e.Sq,e.bT,ae.R,ct.S,Xe.H,Oe.r6],[]),u.wjB(L,[e.Sq,e.bT,ae.R,Qe.U,Oe.r6,Bt.LG],[e.Jj]),u.wjB(ot,[e.Sq,e.bT,ae.R,Oe.wT,Xt.rl,Be.VO,Oe.r6,m.So,oe.G,Ee.y,ne.t,i.qT,i.BC,i.cb,i.vS,i.j4,i.JD],[e.Jj,Ie.b,Te.D9]),u.wjB(Lt,[e.Sq,e.bT,ct.S,Oe.wT,Xt.rl,Be.VO,i.BC,i.vS],[e.Jj,Ie.b])},7401:(Mt,pe,a)=>{"use strict";a.d(pe,{b:()=>E});var e=a(467),i=a(9596),d=a(5006),p=a(4046),m=a(9928),_=a(5762),g=a(735),b=a(7375),u=a(2011),S=a(3953);let D,E=(()=>{class A{get space_list(){return this._list.getValue()}constructor(O,z){this._org=O,this._settings=z,this._list=new m.t([]),this._initialised=new m.t(!1),this.initialised=this._initialised.asObservable(),this.list=this._list.asObservable(),this.features=this.list.pipe((0,d.T)(G=>(0,b.Am)((0,b.Bq)(G.map(K=>K.features))))),this._compare=G=>G.zones.includes(this._org.building.id),D=new u.J(O),this._init()}_init(){var O=this;return(0,e.A)(function*(){yield O._org.initialised.pipe((0,p.$)(z=>z)).toPromise(),O._settings.get("app.prevent_space_init")?O._initialised.next(!0):O.loadSpaces()})()}filter(O=this._compare){return this._list.getValue().filter(z=>O(z))}loadSpace(O){var z=this;return(0,e.A)(function*(){const G=yield(0,i.V4n)(O).toPromise(),K=new g.$({...G,level:z._org.levelWithID([...G.zones])});D.updateSpaceList([K])})()}find(O){return this._list.getValue().find(({id:z})=>O===z)}loadSpaces(){var O=this;return(0,e.A)(function*(){const K=(yield(0,i.BbB)({zone_id:O._org.organisation.id,limit:5e3}).pipe((0,d.T)(F=>F.data)).toPromise()).map(F=>new g.$({...F,level:O._org.levelWithID([...F.zones])})).filter(F=>F.map_id);O._list.next(K),D.updateSpaceList(K),O._initialised.next(!0)})()}static#e=this.\u0275fac=function(z){return new(z||A)(S.KVO(_.y),S.KVO(b.h$))};static#t=this.\u0275prov=S.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})()},6039:(Mt,pe,a)=>{"use strict";a.d(pe,{qI:()=>g,qc:()=>u});var e=a(9596),i=a(5006),p=(a(6727),a(8385)),m=a(3693);const _="/api/staff/v1/guests";function g(A){const v=(0,p.z)({q:A});return(0,e.JtY)(`${_}${A?"?"+v:""}`).pipe((0,i.T)(O=>O.map(z=>new m.So(z))))}function u(A){return(0,e.JtY)(`${_}/${encodeURIComponent(A)}`).pipe((0,i.T)(v=>new m.So(v)))}},1543:(Mt,pe,a)=>{"use strict";a.d(pe,{a:()=>v});var e=a(3953),i=a(4006),d=a(7375),p=a(3693),m=a(4129),_=a(177),g=a(9434),b=a(6600),u=a(9183),S=a(7111);function D(O,z){if(1&O&&(e.j41(0,"main",6),e.nrm(1,"user-form",7),e.k0s()),2&O){const G=e.XpG();e.R7$(),e.Y8G("form",G.form)}}function E(O,z){if(1&O){const G=e.RV6();e.j41(0,"footer",8)(1,"button",9),e.EFF(2," Cancel "),e.k0s(),e.j41(3,"button",10),e.bIt("click",function(){e.eBV(G);const F=e.XpG();return e.Njj(F.saveChanges())}),e.EFF(4,"Save"),e.k0s()()}}function A(O,z){1&O&&(e.j41(0,"main",11),e.nrm(1,"mat-spinner",12),e.j41(2,"p"),e.EFF(3,"Saving attendee..."),e.k0s()())}let v=(()=>{class O extends d.Tv{constructor(G){super(),this._data=G,this.event=new e.bkB,this.form=(0,m.nu)(this.user||new p.KJ),this.loading=!1,this.user=this._data.user||{},this.form=(0,m.nu)(this.user)}ngOnInit(){}saveChanges(){if(this.form&&(this.form.markAllAsTouched(),this.form.valid)){const G=new p.KJ({...this.form.value,is_external:!0});this.event.emit({reason:"done",metadata:G})}}static#e=this.\u0275fac=function(K){return new(K||O)(e.rXU(i.Vh))};static#t=this.\u0275cmp=e.VBU({type:O,selectors:[["new-user-modal"]],outputs:{event:"event"},features:[e.Vt3],decls:11,vars:4,consts:[["load_state",""],["mat-dialog-title","",1,"heading"],[1,"flex-1"],["icon","","mat-dialog-close",""],["class","flex flex-col items-center w-full p-2",4,"ngIf","ngIfElse"],["class","flex items-center justify-center w-full p-2 border-t border-base-200 space-x-2",4,"ngIf"],[1,"flex","flex-col","items-center","w-full","p-2"],[3,"form"],[1,"flex","items-center","justify-center","w-full","p-2","border-t","border-base-200","space-x-2"],["btn","","matRipple","","mat-dialog-close","",1,"inverse"],["btn","","matRipple","",3,"click"],[1,"flex","flex-col","items-center","w-full","p-2","space-y-2"],["diameter","32"]],template:function(K,F){if(1&K&&(e.j41(0,"header")(1,"div",1),e.EFF(2),e.k0s(),e.nrm(3,"div",2),e.j41(4,"button",3)(5,"app-icon"),e.EFF(6,"close"),e.k0s()()(),e.DNE(7,D,2,1,"main",4)(8,E,5,0,"footer",5)(9,A,4,0,"ng-template",null,0,e.C5r)),2&K){const H=e.sdS(10);e.R7$(2),e.SpI(" ",null!=F.user&&F.user.id?"Edit":"Add"," External Attendee "),e.R7$(5),e.Y8G("ngIf",!F.loading)("ngIfElse",H),e.R7$(),e.Y8G("ngIf",!F.loading)}},dependencies:[_.bT,i.tx,i.BI,g.R,b.r6,u.LG,S.f],styles:["main[_ngcontent-%COMP%]{min-height:20em!important;width:100%}footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:8em}"]})}return O})()},2372:(Mt,pe,a)=>{"use strict";a.d(pe,{N8:()=>_,SZ:()=>g});var e=a(9596),i=a(8385),d=a(5006),p=a(3693);const m="/api/staff/v1/people";function _(u){const S=(0,i.z)({q:u,fields:["id","name","email","username","organisation","department"].join(",")});return(0,e.JtY)(`${m}${u?"?"+S:""}`).pipe((0,d.T)(D=>D.map(E=>new p.Gp(E))))}function g(u){return(0,e.JtY)(`${m}/${encodeURIComponent(u)}`).pipe((0,d.T)(S=>new p.Gp(S)))}},7111:(Mt,pe,a)=>{"use strict";a.d(pe,{f:()=>O});var e=a(3953),i=a(177),d=a(9417),p=a(3719),m=a(9631),_=a(2765),g=a(1780);function b(z,G){if(1&z&&(e.j41(0,"div",3)(1,"label",4),e.EFF(2," Name"),e.j41(3,"span"),e.EFF(4,"*"),e.k0s(),e.EFF(5,": "),e.k0s(),e.j41(6,"mat-form-field",5),e.nrm(7,"input",6),e.j41(8,"mat-error"),e.EFF(9,"Name is required"),e.k0s()()()),2&z){const K=e.XpG(2);e.R7$(),e.AVh("error",K.hasError("name"))}}function u(z,G){if(1&z&&(e.j41(0,"div",3)(1,"label",7),e.EFF(2," Email"),e.j41(3,"span"),e.EFF(4,"*"),e.k0s(),e.EFF(5,": "),e.k0s(),e.j41(6,"mat-form-field",5),e.nrm(7,"input",8),e.j41(8,"mat-error"),e.EFF(9,"A valid email is required"),e.k0s()()()),2&z){const K=e.XpG(2);e.R7$(),e.AVh("error",K.hasError("email"))}}function S(z,G){if(1&z&&(e.j41(0,"div",3)(1,"label",9),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"span"),e.EFF(5,"*"),e.k0s(),e.EFF(6,": "),e.k0s(),e.j41(7,"mat-form-field",5),e.nrm(8,"input",10),e.j41(9,"mat-error"),e.EFF(10),e.nI1(11,"translate"),e.k0s()()()),2&z){const K=e.XpG(2);e.R7$(),e.AVh("error",K.hasError("organisation")),e.R7$(),e.SpI(" ",e.bMT(3,4,"COMMON.ORGANISATION"),""),e.R7$(8),e.SpI(" ",e.bMT(11,6,"COMMON.ORGANISATION")," is required ")}}function D(z,G){if(1&z&&(e.j41(0,"div",3)(1,"label",11),e.EFF(2," Phone: "),e.k0s(),e.j41(3,"mat-form-field",5),e.nrm(4,"input",12),e.j41(5,"mat-error"),e.EFF(6,"Phone format is invalid"),e.k0s()()()),2&z){const K=e.XpG(2);e.R7$(),e.AVh("error",K.hasError("phone"))}}function E(z,G){1&z&&(e.j41(0,"div",3)(1,"mat-checkbox",13),e.EFF(2," Assistance required "),e.k0s()())}function A(z,G){1&z&&(e.j41(0,"div",3)(1,"mat-checkbox",14),e.EFF(2," Visit expected "),e.k0s()())}function v(z,G){if(1&z&&(e.j41(0,"form",1),e.DNE(1,b,10,2,"div",2)(2,u,10,2,"div",2)(3,S,12,8,"div",2)(4,D,7,2,"div",2)(5,E,3,0,"div",2)(6,A,3,0,"div",2),e.k0s()),2&z){const K=e.XpG();e.Y8G("formGroup",K.form),e.R7$(),e.Y8G("ngIf",K.form.controls.name),e.R7$(),e.Y8G("ngIf",K.form.controls.email),e.R7$(),e.Y8G("ngIf",K.form.controls.organisation),e.R7$(),e.Y8G("ngIf",K.form.controls.phone),e.R7$(),e.Y8G("ngIf",K.form.controls.assistance_required),e.R7$(),e.Y8G("ngIf",K.form.controls.visit_expected)}}let O=(()=>{class z{hasError(K){const{invalid:F,touched:H}=this.form?.controls[K]||{};return F&&H}static#e=this.\u0275fac=function(F){return new(F||z)};static#t=this.\u0275cmp=e.VBU({type:z,selectors:[["user-form"]],inputs:{form:"form"},decls:1,vars:1,consts:[["user-form","","class","w-full",3,"formGroup",4,"ngIf"],["user-form","",1,"w-full",3,"formGroup"],["class","flex flex-col w-full",4,"ngIf"],[1,"flex","flex-col","w-full"],["for","name"],["appearance","outline"],["matInput","","name","name","placeholder","Name","formControlName","name"],["for","email"],["matInput","","name","email","placeholder","Email Address","formControlName","email"],["for","org"],["matInput","","name","org","placeholder","e.g. Conteso","formControlName","organisation"],["for","phone"],["matInput","","name","phone","type","tel","placeholder","Phone","formControlName","phone"],["name","assistance-required","color","primary","formControlName","assistance_required"],["name","visit-expected","color","primary","formControlName","visit_expected"]],template:function(F,H){1&F&&e.DNE(0,v,7,7,"form",0),2&F&&e.Y8G("ngIf",H.form)},dependencies:[i.bT,d.qT,d.me,d.BC,d.cb,d.j4,d.JD,p.rl,p.TL,m.fg,_.So,g.D9],styles:["[_nghost-%COMP%], mat-form-field[_ngcontent-%COMP%]{width:100%}"]})}return z})()},3693:(Mt,pe,a)=>{"use strict";a.d(pe,{Gp:()=>_,KJ:()=>p,So:()=>m});var e=a(4217),i=a(4129),d=a(2017);class p{constructor(b={}){this.id=b.id||b.email||`USER::${(0,e.DU)(8)}`,this.name=b.name||"",this.email=b.email||"",this.first_name=b.first_name||b.name||"",this.last_name=b.last_name||"",this.phone=b.phone||"",this.organisation=b.organisation||"",this.notes=b.notes||"",this.photo=b.photo||"",this.username=b.username||"",this.organizer=!!b.organizer,this.checked_in=!!b.checked_in,this.required=b.required??!0,this.resource=b.resource??!1,this.response_status=b.response_status||"";const u=b.groups||[];this.department=b.department??"",b.sys_admin&&u.push("placeos_admin"),b.support&&u.push("placeos_support"),b.department&&u.push(b.department),this.groups=u,this.extension_data=b.extension_data||{},this.extension_data.assistance_required=b.assistance_required||this.extension_data.assistance_required,this.is_external=!this.email?.endsWith(`${i.pd}`),this.visit_expected=b.visit_expected??!0,this.assistance_required=!!this.extension_data?.assistance_required;for(const S in b)S in this||(this.extension_data[S]=b[S])}}class m extends p{constructor(b={}){super(b),this.preferred_beverage=b.preferred_beverage||"",this.accepted_terms_conditions=b.accepted_terms_conditions||!1,this.attachments=b.extension_data?.attachments||b.attachments||[],this.status=b.booking?.approved?"approved":b.booking?.rejected?"declined":b.extension_data?.status||b.status||"pending",this.booking=b.booking,this.extension_data.event=b.event_metadata}}class _ extends p{get location(){return this.location_time(Date.now())}work_preference(b){b||(b=Date.now());const u=new Date(b),S=u.getDay(),D=(0,d.GP)(u,"yyyy-MM-dd");if(this.work_overrides[D]?.blocks?.length)for(const E of this.work_overrides[D].blocks){const v=E.end_time;if(E.start_time<=u.getHours()+u.getMinutes()/60&&v>=u.getHours()+u.getMinutes()/60)return E}for(const E of this.work_preferences)if(E.day_of_week===S&&E.blocks?.length)for(const A of E.blocks)if(A.start_time<=u.getHours()+u.getMinutes()/60&&A.end_time>=u.getHours()+u.getMinutes()/60)return A}location_time(b=Date.now()){return this.work_preference(b)?.location||"wfo"}get location_name(){return this.location_name_time()}location_name_time(b=Date.now()){b||(b=Date.now());const u=this.location_time(b),S=this.in_hours_time(b);if(u.includes("w")&&!S)return"Outside working hours";switch(u){case"wfh":return"Working from Home";case"wfo":return"Working from Office";case"ooo":return"Out of Office";case"aol":return"Away on Leave";default:return"Unknown"}}outsideHours(b=Date.now()){const u=this.location_time(b),S=this.in_hours_time(b);return u.includes("w")&&!S}get in_hours(){return this.in_hours_time(Date.now())}location_icon(b){b||(b=Date.now());const u=this.location_time(b),S=this.in_hours_time(b);return"wfh"===u&&S?"home":"wfo"===u&&S?"business":"event_busy"}in_hours_time(b=Date.now()){return!!this.work_preference(b)}constructor(b={}){super(b),this.card_number=b.card_number||"",this.staff_id=b.staff_id||"",this.is_logged_in=!!b.is_logged_in,this.work_preferences=b.work_preferences||[],this.work_overrides=b.work_overrides||{}}}},4129:(Mt,pe,a)=>{"use strict";a.d(pe,{Z4:()=>_,nu:()=>u,pd:()=>m});var e=a(9417);a(4217),a(3693);let m="@place.tech";function _(D){m=D}function u(D){if(!D)throw Error("No user passed");const E={name:new e.MJ(D.name||"",[e.k0.required]),email:new e.MJ(D.email||"",[e.k0.email,e.k0.required]),organisation:new e.MJ(D.organisation||"",e.k0.required),phone:new e.MJ(D.phone||"",e.k0.pattern(/^\+?(\d[\d\s\-\(\)]{5,13}\d)$/)),assistance_required:new e.MJ(D.assistance_required||!1),visit_expected:new e.MJ(D.visit_expected??!0)};return new e.gE(E)}},3022:(Mt,pe,a)=>{"use strict";a.d(pe,{$:()=>Y});var e=a(467),i=a(7375),d=a(2357),p=a(906),m=a(7793),_=a(1406),g=a(9596),b=a(3953),u=a(4006);function S(P,U){1&P&&(b.j41(0,"button",7)(1,"app-icon"),b.EFF(2,"close"),b.k0s()())}function D(P,U){if(1&P){const $=b.RV6();b.j41(0,"mat-checkbox",12),b.mxI("ngModelChange",function(y){const I=b.eBV($).$implicit,w=b.XpG(2);return b.DH7(w.weekdays_enabled[I.getDay()],y)||(w.weekdays_enabled[I.getDay()]=y),b.Njj(y)}),b.bIt("ngModelChange",function(y){const I=b.eBV($).$implicit,w=b.XpG(2);return b.Njj(y&&w.initialiseDay(I.getDay()))}),b.EFF(1),b.nI1(2,"date"),b.k0s()}if(2&P){const $=U.$implicit,B=b.XpG(2);b.R50("ngModel",B.weekdays_enabled[$.getDay()]),b.R7$(),b.SpI(" ",b.i5U(2,2,$,"EEE")," ")}}function E(P,U){if(1&P&&(b.j41(0,"mat-option",25),b.EFF(1),b.k0s()),2&P){const $=U.$implicit;b.Y8G("value",$.id),b.R7$(),b.SpI(" ",$.name," ")}}function A(P,U){if(1&P){const $=b.RV6();b.j41(0,"div",19)(1,"a-time-field",20),b.bIt("ngModelChange",function(y){const I=b.eBV($).$implicit,w=b.XpG(2).$implicit,L=b.XpG(3);return b.Njj(L.setStartTime(I,w.getDay(),y))}),b.k0s(),b.j41(2,"a-time-field",20),b.bIt("ngModelChange",function(y){const I=b.eBV($).$implicit,w=b.XpG(2).$implicit,L=b.XpG(3);return b.Njj(L.setEndTime(I,w.getDay(),y))}),b.k0s(),b.j41(3,"mat-form-field",21)(4,"mat-select",12),b.mxI("ngModelChange",function(y){const I=b.eBV($).$implicit;return b.DH7(I.location,y)||(I.location=y),b.Njj(y)}),b.DNE(5,E,2,2,"mat-option",22),b.k0s()(),b.j41(6,"button",23),b.bIt("click",function(){const y=b.eBV($).index,I=b.XpG(2).$implicit,w=b.XpG(3);return b.Njj(w.addBlock(w.settings[I.getDay()],y))}),b.j41(7,"app-icon"),b.EFF(8,"add"),b.k0s()(),b.j41(9,"button",24),b.bIt("click",function(){const y=b.eBV($).index,I=b.XpG(2).$implicit,w=b.XpG(3);return b.Njj(w.removeBlock(w.settings[I.getDay()],y))}),b.j41(10,"app-icon"),b.EFF(11,"delete"),b.k0s()()()}if(2&P){let $;const B=U.$implicit,y=U.index,I=b.XpG(2).$implicit,w=b.XpG(3);b.R7$(),b.Y8G("ngModel",w.timeFrom(B.start_time))("from",w.timeFrom((y>0?null==($=w.settings[I.getDay()].blocks[y-1])?null:$.end_time:0)||0)),b.R7$(),b.Y8G("ngModel",w.timeFrom(B.end_time))("from",w.timeFrom(B.start_time+.25)),b.R7$(2),b.R50("ngModel",B.location),b.R7$(),b.Y8G("ngForOf",w.options),b.R7$(),b.Y8G("disabled",w.settings[I.getDay()].blocks.length>2),b.R7$(3),b.AVh("opacity-0",0===y)("pointer-events-none",0===y)}}function v(P,U){if(1&P&&(b.qex(0),b.j41(1,"div",15)(2,"label",16),b.EFF(3),b.nI1(4,"date"),b.k0s(),b.j41(5,"div",17),b.DNE(6,A,12,11,"div",18),b.k0s()(),b.bVm()),2&P){const $=b.XpG().$implicit,B=b.XpG(3);b.R7$(3),b.SpI(" ",b.i5U(4,2,$,"EEE")," "),b.R7$(3),b.Y8G("ngForOf",B.settings[$.getDay()].blocks)}}function O(P,U){if(1&P&&(b.qex(0),b.DNE(1,v,7,5,"ng-container",14),b.bVm()),2&P){const $=U.$implicit,B=b.XpG(3);b.R7$(),b.Y8G("ngIf",B.weekdays_enabled[$.getDay()])}}function z(P,U){if(1&P&&(b.qex(0),b.DNE(1,O,2,1,"ng-container",13),b.bVm()),2&P){const $=b.XpG(2);b.R7$(),b.Y8G("ngForOf",$.days)}}function G(P,U){1&P&&(b.j41(0,"div",26),b.nrm(1,"img",27),b.j41(2,"p",28),b.EFF(3," No work days are currently set for this user "),b.k0s()())}function K(P,U){if(1&P&&(b.j41(0,"main",8)(1,"h3"),b.EFF(2,"Working Days"),b.k0s(),b.j41(3,"div",9),b.DNE(4,D,3,5,"mat-checkbox",10),b.k0s(),b.j41(5,"h3"),b.EFF(6,"Work Hours"),b.k0s(),b.DNE(7,z,2,1,"ng-container",11)(8,G,4,0,"ng-template",null,1,b.C5r),b.k0s()),2&P){const $=b.sdS(9),B=b.XpG();b.R7$(4),b.Y8G("ngForOf",B.days),b.R7$(3),b.Y8G("ngIf",B.has_working_days)("ngIfElse",$)}}function F(P,U){if(1&P){const $=b.RV6();b.j41(0,"footer",29)(1,"button",30),b.bIt("click",function(){b.eBV($);const y=b.XpG();return b.Njj(y.saveChanges())}),b.EFF(2," Save "),b.k0s()()}}function H(P,U){1&P&&(b.j41(0,"div",31),b.nrm(1,"mat-spinner",32),b.j41(2,"p",28),b.EFF(3," Saving changes to work location settings... "),b.k0s()()),2&P&&(b.R7$(),b.Y8G("diameter",32))}let Y=(()=>{class P{get has_working_days(){return Object.keys(this.weekdays_enabled).some($=>this.weekdays_enabled[$])}get option_name(){return this.options.find($=>$.id===this.option)?.name||""}get now(){return(0,d.c)(Date.now()).getTime()}constructor($){this._dialog_ref=$,this.options=[{id:"wfo",name:"Office"},{id:"wfh",name:"Home"},{id:"aol",name:"Leave"}],this.option=this.options[0].id,this.settings=[],this.weekdays_enabled={},this.changed=!1,this.loading=!1,this.available_weekdays=[],this.days=new Array(7).fill(0).map((B,y)=>(0,p.f)((0,m.k)((0,p.f)(Date.now(),30)),y))}ngOnInit(){const $=(0,i.Ny)();this.settings=[...($.work_preferences||[]).map(B=>({...B,blocks:[...B?.blocks||[]]}))];for(const B of this.settings)B.blocks.length&&(this.weekdays_enabled[B.day_of_week]=!0)}timeFrom($){return(0,d.c)((0,_.h)((0,p.f)(new Date,1),{hours:Math.floor($),minutes:60*$%60})).getTime()}fromTime($){const B=new Date($);return B.getHours()+B.getMinutes()/60}initialiseDay($){this.settings[$]||(this.settings[$]={day_of_week:$,blocks:[]}),this.settings[$].blocks||(this.settings[$].blocks=[]),0===this.settings[$].blocks.length&&this.addBlock(this.settings[$],0)}addBlock($,B){$.blocks.splice(B+1,0,{start_time:9,end_time:17,location:"wfo"}),this.cleanupBlocks($)}removeBlock($,B){$.blocks.length<=1||$.blocks.splice(B,1)}setEndTime($,B,y){setTimeout(()=>{$.end_time=this.fromTime(y),this.cleanupBlocks(this.settings[B])},50)}setStartTime($,B,y){setTimeout(()=>{$.start_time=this.fromTime(y),this.cleanupBlocks(this.settings[B])},50)}cleanupBlocks($){if($?.blocks?.length)for(let B=0;B<$.blocks.length;B++){const y=$.blocks[B];B>0&&y.start_time<$.blocks[B-1].end_time&&(y.start_time=$.blocks[B-1].end_time),y.end_time<=y.start_time&&(y.end_time=y.start_time+1)}}saveChanges($=!0){var B=this;return(0,e.A)(function*(){B.loading=!0,B._dialog_ref.disableClose=!0;const y=yield(0,g.VLL)("current").toPromise(),I=new Array(7).fill(0).map((w,L)=>({day_of_week:L,blocks:[]}));for(const w of B.days){const L=w.getDay();B.weekdays_enabled[L]&&(I[L]={day_of_week:L,blocks:B.settings[L].blocks})}console.log("Update user..."),yield(0,g.TKu)(y.id,{...y,groups:y.groups.filter(w=>!w.startsWith("placeos_")),work_preferences:I}).toPromise().catch(w=>{throw B.loading=!1,B._dialog_ref.disableClose=!1,(0,i.UG)("Unable to save user work preferences."),w}),console.log("Updated user"),B.loading=!1,B._dialog_ref.disableClose=!1,$&&((0,i.mj)(),console.log("Close WFH Modal"),B._dialog_ref.close())})()}static#e=this.\u0275fac=function(B){return new(B||P)(b.rXU(u.CP))};static#t=this.\u0275cmp=b.VBU({type:P,selectors:[["wfh-settings-modal"]],decls:8,vars:4,consts:[["load_state",""],["empty_state",""],[1,"relative","flex","items-center","justify-between"],[1,"font-medium","text-xl"],["icon","","matRipple","","mat-dialog-close","","class","bg-base-200",4,"ngIf"],["class","relative flex flex-col rounded w-[40rem] max-w-full p-4 space-y-2 max-h-[65vh] overflow-auto",4,"ngIf","ngIfElse"],["class","flex justify-end px-4 py-2 border-t border-base-200",4,"ngIf"],["icon","","matRipple","","mat-dialog-close","",1,"bg-base-200"],[1,"relative","flex","flex-col","rounded","w-[40rem]","max-w-full","p-4","space-y-2","max-h-[65vh]","overflow-auto"],[1,"flex","items-center","justify-between","w-full","pb-4","space-x-2"],[3,"ngModel","ngModelChange",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"flex","w-full","space-x-2","hover:bg-base-200","rounded","px-2","pt-1"],[1,"w-12","min-w-0","px-2","pt-3"],[1,"flex-1","w-1/2"],["class","flex items-center space-x-2",4,"ngFor","ngForOf"],[1,"flex","items-center","space-x-2"],[1,"flex-1","w-1/4","h-[3.25rem]",3,"ngModelChange","ngModel","from"],["appearance","outline",1,"flex-1","w-1/4","h-[3.25rem]"],[3,"value",4,"ngFor","ngForOf"],["icon","","matRipple","",3,"click","disabled"],["icon","","matRipple","",1,"text-error",3,"click"],[3,"value"],[1,"flex","flex-col","items-center","justify-center","px-8","py-16","space-y-4"],["src","assets/icons/no-results.svg",1,"m-auto"],[1,"opacity-30"],[1,"flex","justify-end","px-4","py-2","border-t","border-base-200"],["btn","","matRipple","",1,"w-48",3,"click"],["loading","",1,"relative","bg-base-100","flex","flex-col","justify-center","items-center","rounded","overflow-hidden","w-[24rem]","h-[18rem]","text-center","space-y-2"],[3,"diameter"]],template:function(B,y){if(1&B&&(b.j41(0,"header",2)(1,"h2",3),b.EFF(2,"Working Location Settings"),b.k0s(),b.DNE(3,S,3,0,"button",4),b.k0s(),b.DNE(4,K,10,3,"main",5)(5,F,3,0,"footer",6)(6,H,4,1,"ng-template",null,0,b.C5r)),2&B){const I=b.sdS(7);b.R7$(3),b.Y8G("ngIf",!y.loading),b.R7$(),b.Y8G("ngIf",!y.loading)("ngIfElse",I),b.R7$(),b.Y8G("ngIf",!y.loading)}}})}return P})()},285:(Mt,pe,a)=>{"use strict";a.d(pe,{LJ:()=>Ct,Y9:()=>lt,Zn:()=>L,jG:()=>A,xB:()=>rt,yF:()=>Ot,yd:()=>I});var e=a(9928),i=a(4046),d=a(416);function p(vt,ve){for(var Ce=0;Ce<ve.length;Ce++){var be=ve[Ce];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(vt,be.key,be)}}function m(vt,ve,Ce){return ve&&p(vt.prototype,ve),Ce&&p(vt,Ce),vt}function _(){return _=Object.assign||function(vt){for(var ve=1;ve<arguments.length;ve++){var Ce=arguments[ve];for(var be in Ce)Object.prototype.hasOwnProperty.call(Ce,be)&&(vt[be]=Ce[be])}return vt},_.apply(this,arguments)}function g(vt,ve){vt.prototype=Object.create(ve.prototype),vt.prototype.constructor=vt,b(vt,ve)}function b(vt,ve){return(b=Object.setPrototypeOf||function(Ce,be){return Ce.__proto__=be,Ce})(vt,ve)}var u={},D="/api/engine/v2/uploads";function E(){return D}function A(vt,ve){void 0===ve&&(ve=!1);var Ce=ve?1e3:1024;if(vt<Ce)return vt+(ve?" iB":" B");var be=Math.floor(Math.log(vt)/Math.log(Ce)),ue=(ve?"kMGTPE":"KMGTPE").charAt(be-1)+(ve?"iB":"B");return(vt/Math.pow(Ce,be)).toFixed(1)+" "+ue}function v(vt){var ve="";vt.length%2>0&&(vt="0"+vt);for(var Ce=0,be=vt.length;Ce<be;Ce+=2)ve+=String.fromCharCode(parseInt(vt.slice(Ce,Ce+2),16));return ve}function O(vt){var ve="";if(vt)for(var Ce in vt)vt.hasOwnProperty(Ce)&&null!=vt[Ce]&&(ve+=(ve?"&":"")+Ce+"="+encodeURIComponent(vt[Ce]));return ve}var z="",G="",K=function(){function vt(Ce,be){var ue=this;this._upload=void 0,this._endpoint=void 0,this.upload_id=void 0,this._params={},this._abort_ctrl=new AbortController,this._dispose=void 0,this._upload=Ce,this._endpoint=be,this._abort_ctrl.signal.addEventListener("abort",function(){return ue._dispose?ue._dispose():""})}vt.setToken=function(Ce){z=Ce},vt.setApiKey=function(Ce){G=Ce};var ve=vt.prototype;return ve.initialise=function(){try{var Ce,be=this,ue=be._abort_ctrl.signal,me=be._upload,$e=me.file,Et=me.mime_type;be._params.file_size=""+$e.size,be._params.file_name=$e.name,Et&&"binary/octet-stream"!==Et&&(be._params.file_mime=Et),be._params=_({},be._params,be._upload.params),(null==(Ce=$e.dir_path)?void 0:Ce.length)>0&&(be._params.file_path=$e.dir_path);var Ve=be.base_request_headers,st=O(be._params);return Promise.resolve(fetch(be._endpoint+"/new"+(st?"?"+st:""),{headers:Ve,signal:ue})).then(function(ht){return ht.json()})}catch(ht){return Promise.reject(ht)}},ve.create=function(Ce){try{var be=this,ue=be._abort_ctrl.signal,me=be.base_request_headers;return Ce.file_id&&(be._params.file_id=Ce.file_id),be._upload.mime_type&&(be._params.file_mime=Ce.mime_type),Ce.parameters&&(be._params.parameters=Ce.parameters),Ce.permissions&&(be._params.permissions=Ce.permissions),Ce.public&&(be._params.public=Ce.public),Ce.expires&&(be._params.expires=Ce.expires||0),Promise.resolve(fetch(""+be._endpoint,{body:JSON.stringify(be._params),method:"POST",headers:me,signal:ue})).then(function($e){return Promise.resolve($e.json()).then(function(Et){return be.upload_id=Et.upload_id,Et})})}catch($e){return Promise.reject($e)}},ve.sign=function(Ce,be){void 0===be&&(be="");try{var ue=this;if(!ue.upload_id)throw new Error("Upload resource not initialised");var me=ue._abort_ctrl.signal,$e=ue.base_request_headers,Et=new URLSearchParams;return Et.set("part",Ce.toString()),be&&Et.set("file_id",encodeURIComponent(be)),Promise.resolve(fetch(ue._endpoint+"/"+ue.encoded_id+"/edit?"+Et.toString(),{method:"GET",headers:$e,signal:me})).then(function(Ve){return Promise.resolve(Ve.json())})}catch(Ve){return Promise.reject(Ve)}},ve.update=function(Ce){void 0===Ce&&(Ce={});try{var be=this;if(!be.upload_id)throw new Error("Upload resource not initialised");var ue=be._abort_ctrl.signal,me=be.base_request_headers;return Promise.resolve(fetch(be._endpoint+"/"+be.encoded_id,{body:JSON.stringify(Ce),method:"PUT",headers:me,signal:ue})).then(function($e){return Promise.resolve($e.json())})}catch($e){return Promise.reject($e)}},ve.signedRequest=function(Ce){try{return Promise.resolve(fetch(Ce.signature.url,{body:Ce.data,method:Ce.signature.verb,headers:Ce.signature.headers})).then(function(be){return Promise.resolve(be.text()).then(function(ue){var me={body:ue,responseXML:null};try{me.responseXML=(new window.DOMParser).parseFromString(me.body,"text/xml")}catch{}return me})})}catch(be){return Promise.reject(be)}},ve.signNextChunk=function(Ce,be,ue,me){void 0===me&&(me=null);try{var $e=this;if(!$e.upload_id)throw new Error("Upload resource not initialised");var Et=$e._abort_ctrl.signal,Ve={part_list:ue};me&&(Ve.part_data=me);var st=$e.base_request_headers,ht=O({part:""+Ce,file_id:be,file_mime:$e._upload.mime_type});return Promise.resolve(fetch($e._endpoint+"/"+$e.encoded_id+(ht?"?"+ht:""),{body:JSON.stringify(Ve),method:Object.keys(Ve).length>0?"PATCH":"PUT",headers:st,signal:Et})).then(function(Vt){return Promise.resolve(Vt.json())})}catch(Vt){return Promise.reject(Vt)}},ve.signChunk=function(Ce,be){void 0===be&&(be=null);try{var me=this._abort_ctrl.signal,$e=this.base_request_headers,Et=O({part:""+Ce,file_id:be});return Promise.resolve(fetch(this._endpoint+"/edit"+(Et?"?"+Et:""),{headers:$e,signal:me})).then(function(Ve){return Promise.resolve(Ve.json())})}catch(Ve){return Promise.reject(Ve)}},ve.updateStatus=function(Ce){void 0===Ce&&(Ce={});try{var be=this;if(!be.upload_id)throw new Error("Upload resource not initialised");var ue=be._abort_ctrl.signal;return Promise.resolve(fetch(be._endpoint+"/"+be.encoded_id,{headers:be.base_request_headers,method:Object.keys(Ce).length>0?"PATCH":"PUT",body:JSON.stringify(Ce),signal:ue})).then(function(me){return Promise.resolve(me.json())})}catch(me){return Promise.reject(me)}},ve.abort=function(){this._abort_ctrl.abort()},ve.destroy=function(){this.abort();var Ce=new Headers;if(Ce.append("Accept","application/json"),z?Ce.append("Authorization","Bearer "+z):G&&Ce.append("X-API-Key",""+G),this.upload_id)return fetch(this._endpoint+"/"+this.encoded_id,{headers:Ce,method:"DELETE"})},ve.performSignedRequest=function(Ce,be){var ue=this;return void 0===be&&(be=function(){}),new Promise(function(me,$e){var Et=new XMLHttpRequest;Et.upload.addEventListener("progress",function(Vt){return be(Vt)}),Et.addEventListener("load",function(Vt){be(Vt),Et.status>=200&&Et.status<300||Et.status===Ce.expected?me(Et):$e(Et.status+": "+Et.statusText)});var Ve=function(Vt){ue._upload.onError(Vt),$e(Vt)};Et.addEventListener("error",function(){return Ve(Et.status+": "+(Et.statusText||"unknown error"))}),Et.addEventListener("abort",function(){return Ve(Et.statusText||"browser aborted")}),Et.open(Ce.signature.verb,Ce.signature.url,!0);var st=Ce.signature.headers;for(var ht in st)ht in st&&Et.setRequestHeader(ht,st[ht]);ue._dispose=function(){Et.abort(),$e("user aborted")},Et.send(Ce.data||null)})},m(vt,[{key:"encoded_id",get:function(){return encodeURIComponent(""+(this.upload_id||""))}},{key:"base_request_headers",get:function(){var Ce=new Headers;return Ce.append("Accept","application/json"),Ce.append("Content-Type","application/json"),z?Ce.append("Authorization","Bearer "+z):G&&Ce.append("X-API-Key",""+G),Ce}}]),vt}(),F=function(){function vt(Ce,be,ue,me,$e){void 0===me&&(me={}),void 0===$e&&($e=E()),this.file=void 0,this.retries=void 0,this.parallel=void 0,this.params=void 0,this._endpoint=void 0,this._state=new e.t({status:"waiting",progress:0,uploaded:0}),this._request=void 0,this._provider=void 0,this._access_url="",this.size=void 0,this.status=this._state.asObservable(),this.mime_type="binary/octet-stream",this.metadata=void 0,this.file=Ce,this.retries=be,this.parallel=ue,this.params=me,this._endpoint=$e,this.mime_type=Ce?.type||this.mime_type}var ve=vt.prototype;return ve.setAccessUrl=function(Ce){this._access_url=Ce},ve.onProgress=function(Ce){var be=this._state.getValue();this._state.next(_({},be,{status:"uploading",uploaded:Ce,progress:Math.floor(Ce/this.file.size*1e3)/10}))},ve.onComplete=function(){var Ce=this._state.getValue();this._state.next(_({},Ce,{status:"complete",progress:100}))},ve.onError=function(Ce){var be=this._state.getValue();this._state.next(_({},be,{status:"error",error:Ce}))},ve.resume=function(Ce){try{var be=this,ue=be._state.getValue(),me=function(){if(!["complete","uploading","cancelled"].includes(ue.status)){var $e=function(){var Ve;null==(Ve=be._provider)||Ve.start()};Ce&&(be.parallel=Ce);var Et=function(){if(!be._provider)return be._request=new K(be,be._endpoint),Promise.resolve(be._request.initialise()).then(function(Ve){var st=u[Ve.residence]||null;st?(be._provider=new st(be._request,be),be._state.next(_({},ue,{status:"uploading"}))):be.onError("No provider available to upload to")})}();return Et&&Et.then?Et.then($e):$e()}}();return Promise.resolve(me&&me.then?me.then(function(){}):void 0)}catch($e){return Promise.reject($e)}},ve.pause=function(){var Ce,be=this._state.getValue();"uploading"===be.status&&(null==(Ce=this._provider)||Ce.pause(),this._state.next(_({},be,{status:"paused"})))},ve.cancel=function(){var Ce,be=this._state.getValue();["complete","cancelled"].includes(be.status)||("uploading"===be.status&&(null==(Ce=this._provider)||Ce.destroy()),this._state.next(_({},be,{status:"cancelled"})))},m(vt,[{key:"id",get:function(){var Ce;return null==(Ce=this._request)?void 0:Ce.upload_id}},{key:"access_url",get:function(){return this._access_url}},{key:"waiting",get:function(){var Ce;return"waiting"===(null==(Ce=this._state.getValue())?void 0:Ce.status)}},{key:"in_progress",get:function(){var Ce;return"uploading"===(null==(Ce=this._state.getValue())?void 0:Ce.status)}},{key:"completed",get:function(){var Ce;return"complete"===(null==(Ce=this._state.getValue())?void 0:Ce.status)}}]),vt}(),H=[],Y=-1;function P(){return Y+=1,H[Y%=3]}var U,vt,$={auto_start:!0,auto_remove:!1,remove_after:0,simultaneous:2,parallel:3,retries:4,providers:[]},B=$,y=[];function I(vt){void 0===vt&&(vt={}),(B=_({},$,vt)).endpoint&&(D=B.endpoint),function(ve,Ce){var be;void 0===ve&&(ve="/node_modules/ts-md5/dist/md5_worker.js"),(null==(be=H)?void 0:be.length)>0&&H.forEach(function(me){return me.terminate()}),H=[];for(var ue=0;ue<3;ue+=1)H.push(new d.LL(ve,Ce))}(B.worker_url,B.worker_options),B.token&&K.setToken(B.token),B.api_key&&K.setApiKey(B.api_key),function w(vt){vt.forEach(function(ve){return function S(vt,ve){u[vt]=ve}(ve.lookup,ve)})}(B.providers)}function L(vt,ve){if(void 0===ve&&(ve={}),!E())throw"No API endpoint set";var Ce=[];return vt.forEach(function(be){var ue=new F(be,B.retries,B.parallel,ve);Ce.push(ue),y.push(ue),ue.metadata=B.metadata,ue.status.pipe((0,i.$)(function(me){return"complete"===me.status})).subscribe(function(me){return function($e){var Et=B.auto_start,Ve=B.remove_after;B.auto_remove&&(Ve?setTimeout(function(){return J($e)},Ve):J($e));var st=y.filter(function(ht){return ht.waiting});Et&&st.length&&Me()&&st[0].resume(B.parallel)}(ue)}),B.auto_start&&Me()&&ue.resume(B.parallel)}),Ce}function J(vt){vt.cancel(),y=y.filter(function(ve){return ve!==vt})}function Me(){return y.filter(function(vt){return vt.in_progress}).length<B.simultaneous}(vt=U||(U={}))[vt.Paused=0]="Paused",vt[vt.Uploading=1]="Uploading",vt[vt.Completed=2]="Completed",vt[vt.Aborted=3]="Aborted";var Ze=function(){function vt(Ce,be){this._request=void 0,this._upload=void 0,this.state=U.Paused,this.size=void 0,this.progress=0,this._file=void 0,this._strategy=void 0,this._finalising=void 0,this._direct_upload=void 0,this._progress={},this._current_parts=[],this._pending_parts=[],this._last_part=0,this._memoization={},this._finishing=!1,this._request=Ce,this._upload=be,this._file=this._upload.file,this.size=this._file.size}var ve=vt.prototype;return ve.start=function(){this.state<U.Uploading&&(this._finalising?this._finalise():this._start())},ve.pause=function(){for(var Ce in this._strategy&&this.state===U.Uploading&&!this._direct_upload?(this.state=U.Paused,this._request.abort(),this._pending_parts=this._currentParts(),this._current_parts=[]):this._strategy&&!this._direct_upload||(this.state=U.Paused,this._request.abort(),this._restart()),this._progress)this._progress[Ce].loaded!==this._progress[Ce].total&&(this._progress[Ce].loaded=0);this._updateProgress()},ve.destroy=function(){void 0!==this._strategy&&this.state<U.Completed&&(this._request.destroy(),this._restart(),this.state=U.Aborted)},ve._restart=function(){this._strategy=void 0,this._current_parts=[],this._pending_parts=[]},ve._makeRequest=function(Ce,be){var ue=this;return be.data=Ce.data,this._request.performSignedRequest(be,function(me){return ue._onProgress(Ce.part,me)})},ve._nextPartIndex=function(){return this._pending_parts.length>0?this._last_part=this._pending_parts.shift():this._last_part+=1,this._current_parts.push(this._last_part),this._last_part},ve._currentParts=function(){return this._current_parts.concat(this._pending_parts)},ve._completePart=function(Ce){this._current_parts=this._current_parts.filter(function(be){return be!==Ce})},ve._isComplete=function(Ce){var be=this._progress[Ce]||{},ue=be.loaded;return ue&&ue===be.total},ve._onProgress=function(Ce,be){this._progress[Ce]=_({},be),this._updateProgress()},ve._onError=function(Ce){console.error("Error:",Ce),this.pause(),this._upload.onError(Ce)},ve._updateProgress=function(){var Ce=0;for(var be in this._progress)Ce+=this._progress[be].loaded||0;this._upload.onProgress(Ce)},ve._finalise=function(){try{var Ce=this;return Ce._request.updateStatus().then(function(){return Ce._upload.onComplete()},function(be){return Ce._onError(be)}),Promise.resolve()}catch(be){return Promise.reject(be)}},ve._hashPart=function(Ce,be,ue){try{var me=this,$e=me._memoization[Ce],Et=be();return Promise.resolve($e?{data:Et,md5:$e.md5,part:$e.part}:ue(Et).then(function(Ve){return me._memoization[Ce]=Ve,{data:Et,md5:Ve.md5,part:Ve.part}}))}catch(Ve){return Promise.reject(Ve)}},ve._getPartData=function(){var Ce=this,be=this._currentParts().filter(function(me){return"number"==typeof me}),ue=[];return be.forEach(function(me){var $e=Ce._memoization[""+me];$e&&ue.push($e)}),{part_list:be,part_data:ue}},vt}(),Ct=function(vt){function ve(){for(var be,ue=arguments.length,me=new Array(ue),$e=0;$e<ue;$e++)me[$e]=arguments[$e];return(be=vt.call.apply(vt,[this].concat(me))||this)._part_size=5242880,be}g(ve,vt);var Ce=ve.prototype;return Ce._start=function(){try{var be=this;return Promise.resolve(function(){if(void 0===be._strategy)return be.state=U.Uploading,be._strategy=null,9999*be._part_size<be.size&&(be._part_size=Math.floor(be.size/9999),be._part_size>5368709120)?(be._upload.cancel(),void be._onError("file exceeds maximum size")):Promise.resolve(be._processPart(1).catch(function(ue){return be._onError(ue)})).then(function(ue){if(ue&&be.state===U.Uploading)return Promise.resolve(be._request.create({file_id:window.btoa(v(ue.md5))}).catch(function(me){return be._onError(me)})).then(function(me){me&&(be._strategy=me.type,me.signature&&be._upload.setAccessUrl((me.signature.url||"").split("?")[0]),"direct_upload"===me.type?be._direct(me,ue):be._resume(me,ue))})});be.state===U.Paused&&be._resume()}())}catch(ue){return Promise.reject(ue)}},Ce._processPart=function(be){var ue=this;return this._hashPart(be.toString(),function(){var me,$e;return ue.size>ue._part_size?(($e=be*ue._part_size)>ue.size&&($e=ue.size),me=ue._file.slice((be-1)*ue._part_size,$e)):me=ue._file,me},function(me){return P().hash(me).then(function($e){return{md5:$e,part:be}})})},Ce._resume=function(be,ue){void 0===be&&(be=null),void 0===ue&&(ue=null);try{var me,$e=this;return Promise.resolve(function(){if(be)return function(){if("parts"!==be.type)return Promise.resolve($e._request.signedRequest(be).catch(function(Et){$e._restart(),$e._onError(Et)})).then(function(Et){if(Et){var Ve=Et.responseXML.getElementsByTagName("UploadId")[0].textContent;return Promise.resolve($e._request.updateStatus({resumable_id:Ve,file_id:window.btoa(v(ue.md5)),part:1}).catch(function(st){$e._restart(),$e._onError(st)})).then(function(st){if(st)for($e._nextPartIndex(),$e._setPart(st,ue),me=1;me<$e._upload.parallel;me+=1)$e._nextPart()})}});for($e._pending_parts=be.part_list,be.part_data&&($e._memoization=be.part_data),me=0;me<$e._upload.parallel;me+=1)$e._nextPart()}();for(me=0;me<$e._upload.parallel;me+=1)$e._nextPart()}())}catch(Et){return Promise.reject(Et)}},Ce._generatePartManifest=function(){var be,ue,me="<CompleteMultipartUpload>";for(be=1;be<1e4&&(ue=this._memoization[be]);be+=1)me+="<Part><PartNumber>"+be+'</PartNumber><ETag>"'+ue.md5+'"</ETag></Part>';return me+"</CompleteMultipartUpload>"},Ce._nextPart=function(){var be,ue=this,me=this._nextPartIndex();(me-1)*this._part_size<this.size?this._processPart(me).then(function($e){ue.state===U.Uploading&&(be=ue._getPartData(),ue._request.signNextChunk(me,window.btoa(v($e.md5)),be.part_list,be.part_data).then(function(Et){return ue._setPart(Et,$e)},function(Et){return ue._onError(Et)}))},function($e){return ue._onError($e)}):1===this._currentParts().length&&this._currentParts()[0]===me?(this._finishing=!0,this._request.sign("finish").then(function($e){$e.data=ue._generatePartManifest(),ue._request.signedRequest($e).then(function(){return ue._finalise()},function(Et){return ue._onError(Et)})},function($e){return ue._onError($e)})):this._finishing||(this._completePart(me),(be=this._getPartData()).part_update=!0,this._request.updateStatus(be))},Ce._setPart=function(be,ue){var me=this;this._makeRequest(ue,be).then(function(){me._completePart(ue?.part),me._nextPart()},function($e){return me._onError($e)})},Ce._direct=function(be,ue){var me=this,$e=this._makeRequest(ue,be);this._direct_upload=!0,$e.then(function(){return me._finalise()},function(Et){return me._onError(Et)})},ve}(Ze);Ct.lookup="AmazonS3";var lt=function(vt){function ve(){for(var be,ue=arguments.length,me=new Array(ue),$e=0;$e<ue;$e++)me[$e]=arguments[$e];return(be=vt.call.apply(vt,[this].concat(me))||this)._partSize=2097152,be}g(ve,vt);var Ce=ve.prototype;return Ce._start=function(){var be=this;if(void 0===this._strategy){if(this.state=U.Uploading,this._strategy=null,5e4*this._partSize<this.size&&(this._partSize=Math.floor(this.size/5e4),this._partSize>4194304))return this._upload.cancel(),void this._onError("file exceeds maximum size of 195GB");this._processPart(1).then(function(ue){be.state===U.Uploading&&be._request.create({file_id:ue.md5}).then(function(me){be._strategy=me.type,"direct_upload"===me.type?be._direct(me,ue):be._resume(me,ue)},be._onError.bind(be))},this._onError.bind(this))}else this.state===U.Paused&&this._resume()},Ce._processPart=function(be){var ue=this;return this._hashPart(be.toString(),function(){var me,$e;return ue.size>ue._partSize?(($e=be*ue._partSize)>ue.size&&($e=ue.size),me=ue._file.slice((be-1)*ue._partSize,$e)):me=ue._file,me},function(me){return P().hash(me).then(function($e){return{md5:window.btoa(v($e)),part:be}})})},Ce._resume=function(be,ue){var me,$e=this;if(void 0===be&&(be=null),void 0===ue&&(ue=null),be)if("parts"===be.type)for(this._pending_parts=be.part_list,me=0;me<this._upload.parallel;me+=1)this._nextPart();else this._request.updateStatus({resumable_id:"n/a",file_id:ue.md5,part:1}).then(function(Et){for($e._nextPartIndex(),$e._setPart(Et,ue),me=1;me<$e._upload.parallel;me+=1)$e._nextPart()},function(Et){this._restart(),this._onError(Et)});else for(me=0;me<this._upload.parallel;me+=1)this._nextPart()},Ce._generatePartManifest=function(){for(var be='<?xml version="1.0" encoding="utf-8"?><BlockList>',ue=0;ue<5e4&&ue*this._partSize<this.size;ue+=1)be+="<Latest>"+window.btoa(this._pad(ue+1))+"</Latest>";return be+"</BlockList>"},Ce._pad=function(be){for(var ue=be.toString();ue.length<6;)ue="0"+ue;return ue},Ce._nextPart=function(){var be=this,ue=this._nextPartIndex();(ue-1)*this._partSize<this.size?this._processPart(ue).then(function(me){be.state===U.Uploading&&be._request.signNextChunk(ue,me.md5,be._currentParts()).then(function($e){be._setPart($e,me)},be._onError.bind(be))},this._onError.bind(this)):1===this._currentParts.length&&this._currentParts[0]===ue?(this._finishing=!0,this._request.sign("finish").then(function(me){me.data=be._generatePartManifest(),be._request.signedRequest(me).then(be._finalise.bind(be),be._onError.bind(be))},this._onError.bind(this))):this._finishing||(this._completePart(ue),this._request.updateStatus({part_update:!0,part_list:this._currentParts()}))},Ce._setPart=function(be,ue){var me=this;this._makeRequest(ue,be).then(function(){me._completePart(ue.part),me._nextPart()},this._onError.bind(this))},Ce._direct=function(be,ue){var me=this,$e=this._makeRequest(ue,be);this._direct_upload=!0,$e.then(function(){return me._finalise()},this._onError.bind(this))},ve}(Ze);lt.lookup="MicrosoftAzure";var Ot=function(vt){function ve(){return vt.apply(this,arguments)||this}g(ve,vt);var Ce=ve.prototype;return Ce._start=function(){var be=this;void 0!==this._strategy&&this.state!==U.Paused||(this.state=U.Uploading,this._strategy=null,this._processPart(this._file).then(function(ue){be.state===U.Uploading&&be._request.create({file_id:ue.md5}).then(function(me){be._strategy=me.type,"direct_upload"===me.type?be._direct(me,ue):be._resume(me,ue)},be._onError.bind(be))},this._onError.bind(this)))},Ce._processPart=function(be,ue){return void 0===ue&&(ue=0),this._hashPart(ue.toString(),function(){return be},function(me){return P().hash(me).then(function($e){return{md5:window.btoa(v($e)),part:ue}})})},Ce._resume=function(be,ue){var me=this;this._request.signedRequest(be).then(function($e){if("status"===be.type)if($e.status===be.expected){var Et=parseInt($e.getResponseHeader("Range").split("-")[1],10)+1;me._processPart(me._file.slice(Et),Et).then(function(Ve){me.state===U.Uploading&&me._request.signChunk(Et,Ve.md5).then(function(st){me._performUpload(st,Ve)},me._onError.bind(me))},me._onError.bind(me))}else me._finalise();else me._request.updateStatus({resumable_id:me._getQueryParams($e.getResponseHeader("Location").split("?")[1]).upload_id,file_id:ue.md5,part:0}).then(function(Ve){return me._performUpload(Ve,ue)},function(Ve){this._restart(),this._onError(Ve)})},this._onError.bind(this))},Ce._performUpload=function(be,ue){var me=this;this._makeRequest(ue,be).then(function(){return me._finalise()},this._onError.bind(this))},Ce._direct=function(be,ue){var me=this,$e=this._makeRequest(ue,be);this._direct_upload=!0,$e.then(function(){me._finalise()},this._onError.bind(this))},Ce._getQueryParams=function(be){be=be.split("+").join(" ");for(var ue,me={},$e=/[?&]?([^=]+)=([^&]*)/g;ue=$e.exec(be);)me[decodeURIComponent(ue[1])]=decodeURIComponent(ue[2]);return me},ve}(Ze);Ot.lookup="GoogleCloudStorage";var rt=function(vt){function ve(){for(var be,ue=arguments.length,me=new Array(ue),$e=0;$e<ue;$e++)me[$e]=arguments[$e];return(be=vt.call.apply(vt,[this].concat(me))||this)._partSize=2097152,be}g(ve,vt);var Ce=ve.prototype;return Ce._start=function(){var be=this;if(void 0===this._strategy){if(this.state=U.Uploading,this._strategy=null,1e3*this._partSize<this.size&&(this._partSize=Math.floor(this.size/1e3),this._partSize>5368709120))return this._upload.cancel(),void this._onError("file exceeds maximum size");this._processPart(1).then(function(ue){be.state===U.Uploading&&be._request.create({file_id:ue.md5}).then(function(me){be._strategy=me.type,"direct_upload"===me.type?be._direct(me,ue):be._resume(me,ue)},be._onError.bind(be))},this._onError.bind(this))}else this.state===U.Paused&&this._resume()},Ce._processPart=function(be){var ue=this;return this._hashPart(be.toString(),function(){var me,$e;return ue.size>ue._partSize?(($e=be*ue._partSize)>ue.size&&($e=ue.size),me=ue._file.slice((be-1)*ue._partSize,$e)):me=ue._file,me},function(me){return P().hash(me).then(function($e){return{md5:$e,part:be,size_bytes:me.size}})})},Ce._resume=function(be,ue){var me,$e=this;if(void 0===be&&(be=null),void 0===ue&&(ue=null),be)if("parts"===be.type){if(this._pending_parts=be.part_list,be.part_data){var Et;for(var Ve in this._memoization=be.part_data,this._memoization)this._memoization.hasOwnProperty(Ve)&&((Et=this._memoization[Ve]).path||this._pending_parts.push(Et.part));this._pending_parts=this._pending_parts.sort().filter(function(st,ht,Vt){return!ht||st!==Vt[ht-1]})}for(me=0;me<this._upload.parallel;me+=1)this._nextPart()}else this._request.updateStatus({resumable_id:"n/a",file_id:ue.md5,part:1}).then(function(st){for($e._nextPartIndex(),$e._memoization[1].path=st.path,$e._setPart(st,ue),me=1;me<$e._upload.parallel;me+=1)$e._nextPart()},function(st){this._restart(),this._onError(st)});else for(me=0;me<this._upload.parallel;me+=1)this._nextPart()},Ce._generatePartManifest=function(){for(var be,ue=[],me=1;me<1e4&&(be=this._memoization[me]);me+=1)ue.push({path:be.path,etag:be.md5,size_bytes:be.size_bytes});return JSON.stringify(ue)},Ce._nextPart=function(){var be,ue=this,me=this._nextPartIndex();(me-1)*this._partSize<this.size?this._processPart(me).then(function($e){ue.state===U.Uploading&&(be=ue._getPartData(),ue._request.signNextChunk(me,$e.md5,be.part_list,be.part_data).then(function(Et){ue._memoization[me].path=Et.path,ue._setPart(Et,$e)},ue._onError.bind(ue)))},this._onError.bind(this)):1===this._currentParts.length&&this._currentParts[0]===me?(this._finishing=!0,this._request.sign("finish").then(function($e){$e.signature?($e.data=ue._generatePartManifest(),ue._request.signedRequest($e).then(ue._finalise.bind(ue),ue._onError.bind(ue))):ue._finalise()},this._onError.bind(this))):this._finishing||(this._completePart(me),(be=this._getPartData()).part_update=!0,this._request.updateStatus(be))},Ce._setPart=function(be,ue){var me=this;this._makeRequest(ue,be).then(function(){me._completePart(ue.part),me._nextPart()},this._onError.bind(this))},Ce._direct=function(be,ue){var me=this,$e=this._makeRequest(ue,be);this._direct_upload=!0,$e.then(function(){return me._finalise()},this._onError.bind(this))},ve}(Ze);rt.lookup="OpenStackSwift"},6511:(Mt,pe,a)=>{"use strict";a.d(pe,{Of:()=>hn,Rx:()=>$t,tk:()=>fe,mn:()=>Ct,b2:()=>an,sM:()=>pn,Ay:()=>un});var e=a(4337),i=a(9928),d=a(5286),p=a(3586),m=a(4670),_=a(8728),g=a(5006),b=a(3004);class S{constructor(at,ct){this.keySelector=at,this.flushes=ct}call(at,ct){return ct.subscribe(new D(at,this.keySelector,this.flushes))}}class D extends b.gn{constructor(at,ct,Xe){super(at),this.keySelector=ct,this.values=new Set,Xe&&this.add((0,b.tS)(Xe,new b.zA(this)))}notifyNext(){this.values.clear()}notifyError(at){this._error(at)}_next(at){this.keySelector?this._useKeySelector(at):this._finalizeNext(at,at)}_useKeySelector(at){let ct;const{destination:Xe}=this;try{ct=this.keySelector(at)}catch(Qe){return void Xe.error(Qe)}this._finalizeNext(ct,at)}_finalizeNext(at,ct){const{values:Xe}=this;Xe.has(at)||(Xe.add(at),this.destination.next(ct))}}var E=a(416);function A(){return(A=Object.assign||function(Lt){for(var at=1;at<arguments.length;at++){var ct=arguments[at];for(var Xe in ct)Object.prototype.hasOwnProperty.call(ct,Xe)&&(Lt[Xe]=ct[Xe])}return Lt}).apply(this,arguments)}function v(Lt,at){(null==at||at>Lt.length)&&(at=Lt.length);for(var ct=0,Xe=new Array(at);ct<at;ct++)Xe[ct]=Lt[ct];return Xe}function O(Lt,at){var ct=typeof Symbol<"u"&&Lt[Symbol.iterator]||Lt["@@iterator"];if(ct)return(ct=ct.call(Lt)).next.bind(ct);if(Array.isArray(Lt)||(ct=function(Qe){if(Qe){if("string"==typeof Qe)return v(Qe,void 0);var Xt=Object.prototype.toString.call(Qe).slice(8,-1);return"Object"===Xt&&Qe.constructor&&(Xt=Qe.constructor.name),"Map"===Xt||"Set"===Xt?Array.from(Qe):"Arguments"===Xt||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Xt)?v(Qe,void 0):void 0}}(Lt))||at&&Lt&&"number"==typeof Lt.length){ct&&(Lt=ct);var Xe=0;return function(){return Xe>=Lt.length?{done:!0}:{done:!1,value:Lt[Xe++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var z={},G={};function K(Lt,at,ct){if(void 0===ct&&(ct=300),!(Lt&&at&&at instanceof Function))throw new Error(Lt?"Cannot create named timeout without a name":"Cannot create a timeout without a callback");F(Lt),z[Lt]=setTimeout(function(){at(),delete z[Lt]},ct)}function F(Lt){z[Lt]&&(clearTimeout(z[Lt]),delete z[Lt])}function H(Lt,at){Y(Lt),G[Lt]=at}function Y(Lt){G&&G[Lt]&&(G[Lt]instanceof e.y?G[Lt].unsubscribe():G[Lt](),delete G[Lt])}function P(Lt,at,ct,Xe,Qe,Bt){if(void 0===Xe&&(Xe="debug"),void 0===Qe&&(Qe=!1),void 0===Bt&&(Bt="SVG VIEWER"),window.debug||Qe){var Xt,Be,oe=["color: #E91E63","color: #ffb300","color: default"];ct?(Xt=console)[Xe].apply(Xt,["%c["+Bt+"]%c["+Lt+"] %c"+at].concat(oe,[ct])):(Be=console)[Xe].apply(Be,["%c["+Bt+"]%c["+Lt+"] %c"+at].concat(oe))}}function U(Lt){for(var at,ct=Lt.replace(/[!"#$%&'()*+,.\/;<=>?@[\\\]^`{|}~]/g,"\\$&").split(" "),Xe=O(ct);!(at=Xe()).done;){var Qe=at.value;ct.splice(ct.indexOf(Qe),1,[Qe.replace(/^\\/g,"")])}return ct.join(" ")}function $(Lt){return Lt?Lt instanceof MouseEvent?{x:Lt.clientX,y:Lt.clientY}:Lt.touches&&Lt.touches.length>0?{x:Lt.touches[0].clientX,y:Lt.touches[0].clientY}:{x:-1,y:-1}:{x:-1,y:-1}}function y(Lt,at,ct,Xe){var Qe,Bt;void 0===Xe&&(Xe=1);var Xt=null==(Qe=Lt.element)?void 0:Qe.querySelector(".svg-viewer__svg-overlays");if(null!=(Bt=Lt.element)&&Bt.querySelector("svg")&&Xt){var Be=ct||Xt?.getBoundingClientRect()||{};return{x:Math.max(0,Math.min(1,(at.x-Be.left)/Be.width*Xe)),y:Math.max(0,Math.min(1,(at.y-Be.top)/Be.height*Xe))}}return P("DOM","Unable to find SVG element",void 0,"warn"),{x:-1,y:-1}}function w(Lt,at){return Math.sqrt(Math.pow(Lt.x-at.x,2)+Math.pow(Lt.y-at.y,2))}function L(Lt,at,ct){return{x:Lt.x+(at.x-Lt.x)*ct,y:Lt.y+(at.y-Lt.y)*ct}}function Q(Lt){if(!Lt)return"";var at=A({},Lt);for(var ct in at)at[ct]instanceof Object&&(at[ct]=""+at[ct]);return at}function te(Lt){return Lt<26?Lt+65:Lt<52?Lt+71:Lt<62?Lt-4:62===Lt?43:63===Lt?47:65}var R={top:0,left:0,bottom:0,right:0,height:0,width:0},ee=function(){function Lt(at){var ct,Xe,Qe,Bt,Xt,Be,oe;if(this.id=at.id||"map-"+Math.floor(999999*Math.random()),this.url=at.url||"local-"+E.VV.hashAsciiStr(at.svg_data||""),this.element=at.element||null,this.labels=at.labels||[],this.features=at.features||[],this.actions=at.actions||[],this.styles=at.styles||{},this.svg_data=at.svg_data||"",this.content_ratio=at.content_ratio||{x:1,y:1},this.zoom=at.zoom||1,this.center={x:null!=(ct=null==(Xe=at.center)?void 0:Xe.x)?ct:.5,y:null!=(Qe=null==(Bt=at.center)?void 0:Bt.y)?Qe:.5},this.rotate=at.rotate||0,this.ratio=at.ratio||1,this.svg_ratio=at.svg_ratio||1,this.max_resolution=at.max_resolution||window.innerWidth*window.innerHeight*10,this.focus=at.focus||null,this.options=at.options||{},this.mappings=at.mappings||{},this.box={top:(at.box||R).top,left:(at.box||R).left,height:(at.box||R).height,width:(at.box||R).width},this.desired_zoom=at.desired_zoom||at.zoom||this.zoom,this.desired_center={x:(null==(Xt=at.desired_center)?void 0:Xt.x)||this.center.x,y:(null==(Be=at.desired_center)?void 0:Be.y)||this.center.y},this.updated_count=(at.updated_count||0)+1,this.zoom!==this.desired_zoom){var Ee=this.desired_zoom-this.zoom>=0?1:-1,ne=Math.min(.05,Math.abs(this.desired_zoom-this.zoom)),Ie=Math.round(ne/Math.abs(this.desired_zoom-this.zoom)*1e3)/1e3;this.zoom=.05===ne?this.zoom+Ee*ne:this.desired_zoom,this.center={x:this.center.x+(this.desired_center.x-this.center.x)*Ie,y:this.center.y+(this.desired_center.y-this.center.y)*Ie}}else if(this.desired_center.x!==this.center.x||this.desired_center.y!==this.center.y){var Te=this.desired_center.x-this.center.x>=0?1:-1,Ge=this.desired_center.y-this.center.y>=0?1:-1,Ue=Math.min(.01,Math.abs(this.desired_center.x-this.center.x)),Fe=Ue/Math.abs(this.desired_center.x-this.center.x)*Math.abs(this.desired_center.y-this.center.y);this.center={x:this.center.x+Te*Ue,y:this.center.y+Ge*Fe}}this.needs_update=this.desired_zoom!==this.zoom||this.desired_center.x!==this.center.x||this.desired_center.y!==this.center.y,this.use_gpu=null==(oe=at?.use_gpu)||oe}return Lt.prototype.contains=function(at){this.svg_data.includes('id="'+at+'"')},Lt}(),k=new i.t([]),J=new d.B7,X=J.pipe((0,_.p)(function(Lt){return"resize"===Lt}));function fe(Lt){return k.getValue().find(function(at){return at.id===Lt})}function Ze(Lt,at){var ct=Ot();if(!((Lt=ct.find(function(Qe){return Qe.id===(Lt instanceof ee?Lt.id:Lt)}))instanceof ee))return null;delete at.url;var Xe=new ee(A({},Lt,at));return lt(Xe),Xe.needs_update&&K(Lt.id+"_updating",function(){return Ze(Xe,{})},16),Xe}function Ct(Lt){return k.pipe((0,_.p)(function(at){return!!at.find(function(ct){return ct.id===Lt})}),(0,g.T)(function(at){return at.find(function(ct){return ct.id===Lt})}),function u(Lt,at){return ct=>ct.lift(new S(Lt,at))}())}function lt(Lt){var at=Ot().filter(function(ct){return ct.id!==Lt.id});at.push(Lt),k.next(at)}function Ot(){return k.getValue()}var rt,vt,ve,Ce,be,ue,me,$e=new i.t({}),Et={},Ve=!1,st=!1,ht=["click","mousedown","mousemove","mouseup","touchstart","touchmove","touchend","mousewheel","wheel"],Vt=["mousedown","mousemove","mousewheel","wheel","touchstart","touchmove"],qe=!1;function gt(Lt,at,ct){if(void 0===ct&&(ct=rt),!Ve){st=!0;var Xe=fe(Lt);if(Xe){var Qe=$(at),Bt={x:Math.max(0,Math.min(1,(Qe.x-ct.x)/Xe.box.width/Xe.desired_zoom/Xe.svg_ratio+Xe.center.x)),y:Math.max(0,Math.min(1,(Qe.y-ct.y)/Xe.box.height/Xe.desired_zoom/Xe.svg_ratio+Xe.center.y))};rt=Qe,Ze(Xe,{center:Bt,desired_center:Bt})}}}function ot(){P("INPUT","Ending pinch/pan..."),F("pan_start"),Ve=!1,st=!1,Ce&&window.removeEventListener("mousemove",Ce),be&&window.removeEventListener("mouseup",be),ue&&window.removeEventListener("touchmove",ue),me&&window.removeEventListener("touchend",me),Ce=be=ue=me=vt=null}window.addEventListener("blur",function(){return ot()});var ae=function(Lt){try{return Promise.resolve(new Promise(function(at){vn[Lt.id]||(vn[Lt.id]=[]),vn[Lt.id].push(at),K("resize-"+Lt.id,function(){var ct=Lt.element;if(!ct)throw new Error("No element set on viewer");var Xe=ct.querySelector(".svg-viewer__view-container"),Qe=ct.querySelector(".svg-viewer__svg-overlays"),Bt=ct.querySelector("#"+Lt.id),Xt=ct.querySelector(".svg-viewer"),Be=ct.querySelector(".svg-viewer__svg-output"),oe=ct.querySelector("iframe"),Ee=Xt?.getBoundingClientRect()||{},ne=Xe?.getBoundingClientRect()||{};if(!(Qe&&Be&&oe&&Xe))throw new Error("Viewer elements not ready yet.");requestAnimationFrame(function(){try{var Ie,Te,Ge=Ee.height/Ee.width,Ue=(null==(Ie=Be.firstElementChild)||null==(Te=Ie.viewBox)?void 0:Te.baseVal)||{},Fe=Ue.height/Ue.width;Be.firstElementChild&&(Be.firstElementChild.style.width="200%");var At=(Ee.width-32)*Math.min(1,Ge/Fe),Ke={width:At,height:At*Fe};Qe.style.width=Ue.width+"px",Qe.style.height=Ue.height+"px",Xe.style.width=Ue.width+"px",Xe.style.height=Ue.height+"px",oe.style.width=Ue.width+"px",oe.style.height=Ue.height+"px",oe.width=""+Ue.width,oe.height=""+Ue.height;var xt=Math.min(Ee.height/Ue.height,Ee.width/Ue.width),tn=Bt?.getBoundingClientRect(),nn=Qe?.getBoundingClientRect(),En={x:1,y:1};tn&&nn&&(En={x:nn.width*xt*.975/tn.width,y:nn.height*xt*.975/tn.height}),Kt[Lt.id]="";var Un=Ze(Lt,{ratio:Ke.height/Ke.width,svg_ratio:xt,box:ne,content_ratio:En});return Un?(Lt=Un,Promise.resolve(_n(Lt).catch(function(Xn){return console.warn(Xn),!1})).then(function(Xn){Xn&&(vn[Lt.id].forEach(function(Qn){return Qn()}),vn[Lt.id]=[])})):Promise.resolve()}catch(Xn){return Promise.reject(Xn)}})},100)}))}catch(at){return Promise.reject(at)}},Oe={},Le={},Pe={},_t={},Gt={},Kt={},vn={};function _n(Lt){return Oe[Lt.id]||(Oe[Lt.id]=new Promise(function(at){var ct=requestAnimationFrame(function(){if(Oe[Lt.id]){var Xe=Lt.element;if(!Xe)throw new Error("No element set on viewer");var Qe=Xe.querySelector("style"),Bt="",Xt=Xe.querySelector(".svg-viewer__render-container"),Be="scale("+Lt.zoom*Lt.svg_ratio+")";if(!Xt||!Qe)throw new Error("Viewer is not setup yet.");var oe=100*Lt.zoom*Lt.svg_ratio*(Lt.center.x-.5),Ee=100*Lt.zoom*Lt.svg_ratio*(Lt.center.y-.5);Xt.style.transform=(Lt.use_gpu?"translate3d("+oe+"%, "+Ee+"%, 0)":"translate("+oe+"%, "+Ee+"%)")+" "+Be+" rotate("+Lt.rotate+"deg)",Bt+="#"+Lt.id+' .svg-viewer__svg-overlay-item > *:not([no-scale="true"]) { transform: rotate(-'+Lt.rotate+"deg) scale("+1/Lt.zoom*(1/Lt.svg_ratio)+"); }",Qe.innerHTML=Bt+="#"+Lt.id+" .svg-viewer__svg-overlay-item > * { transform: rotate(-"+Lt.rotate+"deg); height: 100%; width: 100%; }",function ne(Ie){try{if((JSON.stringify(A({},Ie.styles))||"").localeCompare(Kt[Ie.id])){var Te=Ie.element;if(!Te)throw new Error("No element set on viewer");var Ge=Te.querySelector(".svg-viewer__iframe");if(!Ge)throw new Error("No iframe created for viewer");if(!Ge.contentWindow)return Ge.onload=function(){setTimeout(function(){return ne(Ie)},50),setTimeout(function(){return ne(Ie)},500)},Promise.resolve();var Ue={};Ue["[empty"+Math.floor(999999*Math.random())+"]"]={};var Fe=pt(A({},Ie.styles,Ue));Ge.contentWindow.postMessage(JSON.stringify({id:"svg-styles",content:Fe}),"*")}return Promise.resolve()}catch(At){return Promise.reject(At)}}(Lt),function(ne){var Ie=JSON.stringify(ne.focus);if(ne.focus&&Ie!==Et[ne.id]){var Te,Ge=Math.max(.5,Math.min(10,ne.focus.zoom_level||1));Te="string"==typeof ne.focus.location?function B(Lt,at,ct){var Xe,Qe,Bt=null==(Xe=Lt.element)?void 0:Xe.querySelector(".svg-viewer__svg-overlays"),Xt=null==(Qe=Lt.element)?void 0:Qe.querySelector("svg"),Be=Xt?.querySelector("#"+U(at));if(Be&&Xt&&Bt){var oe=ct||Bt?.getBoundingClientRect()||{},Ee=Be?.getBoundingClientRect()||{};return{x:(Ee.left+Ee.width/2-oe.left)/oe.width,y:(Ee.top+Ee.height/2-oe.top)/oe.height}}return P("DOM","Unable to find element with ID "+at,void 0,"warn"),{x:-1,y:-1}}(ne,ne.focus.location):ne.focus.location,Et[ne.id]=Ie;var Ue={x:1-Te.x,y:1-Te.y};Ze(ne,{center:Ue,desired_center:Ue,zoom:Ge,desired_zoom:Ge})}}(Lt),ft(Lt),delete Oe[Lt.id],cancelAnimationFrame(ct),at()}})})),Oe[Lt.id]}function ft(Lt){var at,ct,Xe=null==(at=Lt.element)?void 0:at.querySelector("svg");if(Object.keys(Lt.mappings||{}).length){var Qe=null==(ct=Lt.element)?void 0:ct.querySelector(".svg-viewer__svg-overlays");if(Qe&&Xe){if(!Qe.getBoundingClientRect().width)return K(Lt.id+"|render-overlays",function(){return ft(Lt)},50);requestAnimationFrame(function(){(function(Bt){var Xt=Bt.labels.filter(function(Un){return!Un.zoom_level||Un.zoom_level<=Bt.zoom}),Be=JSON.stringify(Xt);if(Be!==Pe[Bt.id]){var oe,Ee=null==(oe=Bt.element)?void 0:oe.querySelector(".svg-viewer__svg-overlays");if(!Ee)return;Array.from(Ee.querySelectorAll("[label]")).filter(function(Un){return Un.parentNode}).forEach(function(Un){return Ee.removeChild(Un)});for(var ne,Ie=O(Xt);!(ne=Ie()).done;){var Te,Ge,Ue,Fe=ne.value,At={x:0,y:0},Ke="~Nothing~";"string"==typeof Fe.location?(At=Bt.mappings[Fe.location]||At,Ke="#"+Fe.location):(null!=(Te=Fe.location)&&Te.y||null!=(Ge=Fe.location)&&Ge.x)&&(Ke="loc-"+(At=Fe.location).x+"-"+At.y);var xt=document.createElement("div");xt.setAttribute("label","true"),xt.classList.add("svg-viewer__svg-overlay-item"),xt.classList.add("label"),xt.style.top=100*At.y+"%",xt.style.left=100*At.x+"%";var tn,nn=document.createElement("div"),En=document.createElement("label");En.classList.add("svg-viewer__label"),En.setAttribute("for",Ke),null!=(Ue=Fe.css_class)&&Ue.length&&(tn=En.classList).add.apply(tn,Fe.css_class),Fe.z_index&&(xt.style.zIndex=""+Fe.z_index),En.textContent=Fe.content,nn.appendChild(En),xt.appendChild(nn),Ee.appendChild(xt)}P("RENDER","Added "+Bt.labels.length+" labels to view."),Pe[Bt.id]=Be}})(Lt),function(Bt){var Xt=JSON.stringify(Bt.actions.map(function(Fe){return A({},Fe,{callback:""})}));if(Xt!==Gt[Bt.id]){var Be,oe=null==(Be=Bt.element)?void 0:Be.querySelector(".svg-viewer__svg-overlays");if(!oe)return;Array.from(oe.querySelectorAll(".action-zone")).filter(function(Fe){return Fe.parentNode&&oe.contains(Fe.parentNode)}).forEach(function(Fe){return oe.removeChild(Fe)});for(var Ee,ne=O(Bt.actions);!(Ee=ne()).done;){var Ie=Ee.value;if(Ie.action&&Ie.id&&"*"!==Ie.id&&!1!==Ie.zone){var Te=document.createElement("button");Te.id=""+Ie.id;var Ge=Bt.mappings[Ie.id]||{x:0,y:0},Ue=Bt.mappings[Ie.id]||{w:0,h:0};Te.classList.add("svg-viewer__svg-overlay-item"),Te.classList.add("action-zone"),Te.style.top=100*Ge.y+"%",Te.style.left=100*Ge.x+"%",(Ue.w||Ue.h)&&(Te.style.width=100*Ue.w+"%",Te.style.height=100*Ue.h+"%",Te.style.transform="translate(-50%, -50%)"),oe.appendChild(Te)}}Gt[Bt.id]=Xt}}(Lt),function(Bt){var Xt=JSON.stringify(Bt.features.map(function(tn){return A({},tn,{content:"",data:Q(tn.data)})}));if(Xt!==_t[Bt.id]){var Be,oe=null==(Be=Bt.element)?void 0:Be.querySelector(".svg-viewer__svg-overlays");if(!oe)return console.log("Unable to get overlay element.");var Ee=oe.querySelectorAll(".feature"),ne=[];window.overlay_el=oe,Ee.forEach(function(tn){if(tn.parentNode){var nn=tn.getAttribute("track-id");"none"!==nn&&Bt.features.find(function(En){return En.track_id===nn})?ne.push(tn):oe.removeChild(tn)}});for(var Ie,Te=O(Bt.features);!(Ie=Te()).done;){var Ge,Ue,Fe=Ie.value;if(Fe.content&&!ne.includes(Fe.content)){var At={x:0,y:0},Ke={w:0,h:0},xt=document.createElement("button");"string"==typeof Fe.location?(xt.id=""+Fe.location,At=Bt.mappings[Fe.location]||At,(Fe.hover||Fe.full_size)&&(Ke=Bt.mappings[Fe.location]||Ke)):(null!=(Ge=Fe.location)&&Ge.y||null!=(Ue=Fe.location)&&Ue.x)&&(At=Fe.location),(At.x||At.y)&&(xt.classList.add("svg-viewer__svg-overlay-item"),xt.setAttribute("feature","true"),xt.setAttribute("track-id",""+(Fe.track_id||"none")),xt.classList.add("feature"),Fe.z_index&&(xt.style.zIndex=""+Fe.z_index),Fe.hover&&xt.classList.add("svg-viewer__svg-overlay-item__hover"),xt.style.top=100*At.y+"%",xt.style.left=100*At.x+"%",Ke.w||Ke.h?(xt.style.width=100*Ke.w+"%",xt.style.height=100*Ke.h+"%"):(xt.style.width="1%",xt.style.height=1/Bt.ratio+"%"),xt.style.transform="translate(-50%, -50%)",Fe.content instanceof Node&&xt.appendChild(Fe.content),oe.appendChild(xt))}}P("RENDER","Added "+Bt.features.length+" features to view."),_t[Bt.id]=Xt}}(Lt)})}}}function pt(Lt){var at="";for(var ct in Lt)if(Lt[ct]){var Xe="";for(var Qe in Lt[ct])Lt[ct][Qe]&&(Xe+=Qe+": "+Lt[ct][Qe]+"; ");at+="svg "+ct.split(" ").map(function(Bt){return U(Bt)}).join(" ")+" { "+Xe+" } "}return at}H("on_resize",X.subscribe(function(){for(var Lt,at=function(){var Xe=Lt.value;try{K("resize-"+Xe.id,function(){return ae(Xe)})}catch(Qe){console.warn(Qe)}},ct=O(Ot());!(Lt=ct()).done;)at()}));var $t=function(Lt){try{var at=function(Qe){return H((ct=new ee(A({},Lt,{svg_data:Qe}))).id+"-render",Ct(ct.id).subscribe(function(Bt){return _n(Bt).catch(function(Xt){return console.warn(Xt)})})),lt(ct),Promise.resolve(function(Bt){try{var Xt,Be,oe=Bt.element;if(!oe)throw new Error("No element set on viewer");var Ee=document.createElement("div"),ne=document.createElement("style"),Ie=document.createElement("div"),Te=document.createElement("div"),Ge=document.createElement("div"),Ue=document.createElement("div"),Fe=document.createElement("iframe");Te.appendChild(Ge),Te.appendChild(Ue),Ee.appendChild(ne),Ee.appendChild(Ie),Ie.appendChild(Te),Ee.classList.add("svg-viewer"),Ee.id=Bt.id,ne.id=Bt.id,Fe.id="svg-display",Fe.classList.add("svg-viewer__iframe"),Ie.classList.add("svg-viewer__view-container"),Te.classList.add("svg-viewer__render-container"),Ue.classList.add("svg-viewer__svg-overlays"),Ge.classList.add("svg-viewer__svg-output"),Ge.id="svg-output",Ge.innerHTML=Bt.svg_data;var At=(null==(Xt=Ge.firstElementChild)||null==(Be=Xt.viewBox)?void 0:Be.baseVal)||{};Ie.style.width=At.width+"px",Ie.style.height=At.height+"px",Ue.style.width=At.width+"px",Ue.style.height=At.height+"px",Ue.appendChild(Fe),oe.appendChild(Ee);var Ke=Ie?.getBoundingClientRect()||{},xt=Ze(Bt,{box:Ke});return xt?(Bt=xt,Promise.resolve(function tn(nn){return new Promise(function(En){requestAnimationFrame(function(){var Un,Xn=null==(Un=nn.element)?void 0:Un.querySelector("svg");if(!Xn||!Xn.clientWidth)return K(nn.id+"-setup",function(){return tn(nn).then(function(fi){return En()})},100);var Qn=Le[nn.url]||function(fi){if(!fi)return{};var Ui={},Ti=fi?.getBoundingClientRect()||{},Wi=fi.querySelectorAll("[id]");return fi.id="svg-viewer-root",Ui["svg-viewer-root"]={x:.5,y:.5,w:1,h:1},Wi.forEach(function(ys){var wn=ys?.getBoundingClientRect()||{};Ui[ys.id]={x:Math.floor((wn.left+wn.width/2-Ti.left)/Ti.width*1e5)/1e5,y:Math.floor((wn.top+wn.height/2-Ti.top)/Ti.height*1e5)/1e5,w:Math.floor(wn.width/Ti.width*1e5)/1e5,h:Math.floor(wn.height/Ti.height*1e5)/1e5}}),Ui}(Xn);Le[nn.url]=Qn,Ze(nn,{mappings:Qn}),Xn.style.display="none",function(fi){try{var Ui=JSON.stringify(A({},fi.styles))||"";if(Ui.localeCompare(Kt[fi.id])){var Ti,Wi,ys=fi.element;if(!ys)throw new Error("No element set on viewer");var wn=ys.querySelector(".svg-viewer__iframe"),dt=ys.querySelector(".svg-viewer__svg-output");if(!wn)throw new Error("No iframe created for viewer");var Pt=(null==(Ti=dt.firstElementChild)||null==(Wi=Ti.viewBox)?void 0:Wi.baseVal)||{},jt=""+fi.svg_data;jt=/<svg[^>]*width="[^>]*>/.test(jt)?jt:jt.replace("<svg",'<svg width="'+Pt.width+'" height="'+Pt.height+'" ');var Pn=function(Dn){for(var yt=2,zt="",Yt=Dn.length,mt=0,Qt=0;Qt<Yt;Qt++)Qt>0&&4*Qt/3%76==0&&(zt+="\r\n"),mt|=Dn[Qt]<<(16>>>(yt=Qt%3)&24),2!==yt&&Dn.length-Qt!=1||(zt+=String.fromCodePoint(te(mt>>>18&63),te(mt>>>12&63),te(mt>>>6&63),te(63&mt)),mt=0);return zt.substr(0,zt.length-2+yt)+(2===yt?"":1===yt?"=":"==")}(function(Dn){for(var yt,zt,Yt=Dn.length,mt=0,Qt=0;Qt<Yt;Qt++){var se;(zt=null!=(se=Dn.codePointAt(Qt))?se:0)>65536&&Qt++,mt+=zt<128?1:zt<2048?2:zt<65536?3:zt<2097152?4:zt<67108864?5:6}yt=new Uint8Array(mt);for(var Ae=0,xe=0;Ae<mt;xe++){var bt;(zt=null!=(bt=Dn.codePointAt(xe))?bt:0)<128?yt[Ae++]=zt:zt<2048?(yt[Ae++]=192+(zt>>>6),yt[Ae++]=128+(63&zt)):zt<65536?(yt[Ae++]=224+(zt>>>12),yt[Ae++]=128+(zt>>>6&63),yt[Ae++]=128+(63&zt)):zt<2097152?(yt[Ae++]=240+(zt>>>18),yt[Ae++]=128+(zt>>>12&63),yt[Ae++]=128+(zt>>>6&63),yt[Ae++]=128+(63&zt),xe++):zt<67108864?(yt[Ae++]=248+(zt>>>24),yt[Ae++]=128+(zt>>>18&63),yt[Ae++]=128+(zt>>>12&63),yt[Ae++]=128+(zt>>>6&63),yt[Ae++]=128+(63&zt),xe++):(yt[Ae++]=252+(zt>>>30),yt[Ae++]=128+(zt>>>24&63),yt[Ae++]=128+(zt>>>18&63),yt[Ae++]=128+(zt>>>12&63),yt[Ae++]=128+(zt>>>6&63),yt[Ae++]=128+(63&zt),xe++)}return yt}('<html><head><style>*{overflow:hidden;}html,body{padding:0;margin:0;}</style><style id="style">'+pt(A({},fi.styles,{}))+"</style>\n<script>\n    function updateStyles(evt) {\n        try {\n            var message = JSON.parse(evt.data);\n            if (message.id === 'svg-styles') {\n                const style_el = document.getElementById('style');\n                style_el.innerHTML = message.content;\n            }\n        } catch(e) {}\n    }\n\n    if (window.addEventListener) {\n        window.addEventListener(\"message\", updateStyles, false);\n    } else {\n        window.attachEvent(\"onmessage\", updateStyles);\n    }\n<\/script></head><body>"+jt+"</body></html>"));wn.src="data:text/html;base64,"+Pn,Kt[fi.id]=Ui}Promise.resolve()}catch(Dn){return Promise.reject(Dn)}}(nn),ft(nn),En()})})}(Bt)).then(function(){(function(tn,nn){void 0===nn&&(nn=ht);var En=$e.getValue(),Un=tn.element;En[tn.id]&&En[tn.id].unsubscribe();for(var Xn,Qn=[],fi=function(){var Ti=Xn.value;Qn.push((0,p.R)(Un,Ti).pipe((0,g.T)(function(Wi){return{id:tn.id,type:Ti,event:Wi}})))},Ui=O(nn);!(Xn=Ui()).done;)fi();En[tn.id]=m.h.apply(void 0,Qn).subscribe(function(Ti){var Wi,jt,Pn,ys=Ti.id,wn=Ti.type,dt=Ti.event;switch(Vt.includes(wn)&&dt.preventDefault(),function(Pt){var jt,Pn=Pt.type,Dn=Pt.event,yt=fe(Pt.id);if(yt&&null!=(jt=yt.actions)&&jt.length){var zt=yt.actions.sort(function(Yt,mt){return(mt.priority||0)-(Yt.priority||0)}).find(function(Yt){var mt;return Yt.action.includes(Pn)&&("*"===Yt.id||Yt.id===(null==(mt=Dn.target)?void 0:mt.id))});zt&&zt.callback(Dn,y(yt,$(Dn)))}}(Ti),wn){case"touchstart":case"mousedown":(null==(Wi=dt.touches)?void 0:Wi.length)>=2?function(Pt,jt){P("INPUT","Starting pinching..."),ue&&window.removeEventListener("touchmove",ue);var Pn=fe(Pt);if(Ve=!0,Pn&&!Pn.options.disable_zoom){var Dn=[{x:jt.touches[0].clientX,y:jt.touches[0].clientY},{x:jt.touches[1].clientX,y:jt.touches[1].clientY}],yt=Dn.map(function(Yt){return y(Pn,Yt)}),zt={x:(yt[0].x+yt[1].x)/2,y:(yt[0].y+yt[1].y)/2};vt={x:1-zt.x,y:1-zt.y},ve=w(Dn[0],Dn[1]),jt instanceof MouseEvent||(ue=function(Yt){return Yt.touches.length>=2?function(mt,Qt,se){void 0===se&&(se=ve);var Ae=fe(mt);if(Ae&&!Ae.options.disable_zoom){var xe=[{x:Qt.touches[0].clientX,y:Qt.touches[0].clientY},{x:Qt.touches[1].clientX,y:Qt.touches[1].clientY}],bt=w(xe[0],xe[1]),Jt=Math.max(.5,Math.min(10,Ae.zoom*bt/se)),Bn=Jt!=Ae.zoom?L(Ae.center,vt,1-Ae.zoom/Jt):Ae.center;ve=bt,Ze(Ae,{zoom:Jt,center:Bn,desired_zoom:Jt,desired_center:Bn})}}(Pt,Yt,ve):""},window.addEventListener("touchmove",ue))}}(ys,dt):function(Pt,jt){if(!Ve){P("INPUT","Starting panning...");var Pn=fe(Pt);Ce&&window.removeEventListener("mousemove",Ce),Ce&&window.removeEventListener("mouseup",be),ue&&window.removeEventListener("touchmove",ue),ue&&window.removeEventListener("touchend",me),Pn&&!Pn.options.disable_pan&&(rt=$(jt),jt instanceof MouseEvent?(Ce=function(Dn){return gt(Pt,Dn,rt)},be=function(){return ot()},window.addEventListener("mousemove",Ce),window.addEventListener("mouseup",be)):(ue=function(Dn){return gt(Pt,Dn,rt)},me=function(){return ot()},window.addEventListener("touchmove",ue),window.addEventListener("touchend",me)),K("pan_start",function(){return st=!0},200))}}(ys,dt);break;case"touchend":case"mouseup":st||Ve||(jt=dt,(Pn=fe(ys))&&P("INPUT","Clicked:",y(Pn,$(jt)))),ot();break;case"mousewheel":case"wheel":!function(Pt,jt){var Pn=fe(Pt);if(Pn){var Dn=Math.min(10,Math.max(.5,Pn.zoom*(1+(jt.deltaY>=0?-.02:.02)))),yt=y(Pn,$(jt));vt={x:1-yt.x,y:1-yt.y},K("clear_action_start",function(){return vt=null});var zt=Dn!=Pn.zoom?L(Pn.center,vt,1-Pn.zoom/Dn):Pn.center;Ze(Pn,{zoom:Dn,center:zt,desired_zoom:Dn,desired_center:zt})}}(ys,dt)}}),$e.next(En)})(Bt),qe||(window.addEventListener("resize",function(){J.next("resize")}),window.addEventListener("blur",function(){return ot()}),qe=!0),ae(Bt)})):Promise.resolve()}catch(tn){return Promise.reject(tn)}}(ct)).then(function(){return ct.id})},ct=Ot().find(function(Qe){return Qe.url===Lt.url});if(ct)return Promise.resolve(ct.id);var Xe=Lt.svg_data;return Promise.resolve(Xe?at(Xe):Promise.resolve(function(Qe){void 0===Qe&&(Qe="");try{var Bt=new Headers;if(Qe.startsWith(location.origin)||Qe.startsWith("/"))for(var Xt in dn)Bt.append(Xt,dn[Xt]);return kt[Qe]?Promise.resolve(kt[Qe]):Promise.resolve(fetch(Qe,{headers:Bt}).catch(function(Be){return P("SVG VIEWER","Failed to load map",Be,"error"),{text:function(){return Promise.resolve("")}}})).then(function(Be){return Promise.resolve(Be.text()).then(function(oe){return kt[Qe]=oe,oe})})}catch(Be){return Promise.reject(Be)}}(Lt.url)).then(at))}catch(Qe){return Promise.reject(Qe)}},kt={},dn={};function pn(Lt){for(var at in Lt)dn[at.toLowerCase()]=Lt[at]}function un(Lt,at){return Ze(Lt,at)}function an(Lt){var at,ct=fe(Lt);if(ct){var Xe,Qe,Bt,Xt=null==(at=ct.element)?void 0:at.querySelector(".svg-viewer");Xt&&(ct.element.removeChild(Xt),Xe=ct,Qe=Ot().filter(function(Be){return Be.id!==Xe.id}),k.next(Qe),Bt=""+Lt,Object.keys(G).filter(function(Be){return Be.includes(Bt)}).forEach(function(Be){return Y(Be)}))}}function hn(){var Lt=document.getElementById("svg-viewer-global");Lt||((Lt=document.createElement("style")).id="svg-viewer-global",Lt.innerHTML=Sn,document.head.appendChild(Lt),P("Styles","Added global viewer styles to document"))}var Sn="\n    .svg-viewer {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        overflow: hidden;\n    }\n    .svg-viewer__view-container {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n    }\n\n    .svg-viewer__render-container {\n        position: absolute;\n        top: 0%;\n        left: 0%;\n        right: 0%;\n        bottom: 0%;\n        transform-box: fill-box;\n    }\n\n    .svg-viewer__svg-output {\n        position: absolute;\n        top: -100%;\n        left: -100%;\n        right: -100%;\n        bottom: -100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        transform: translateZ(0);\n        pointer-events: none;\n    }\n\n    .svg-viewer__svg-output svg {\n        opacity: 0;\n        height: auto;\n        max-width: 200%;\n        max-height: 200%;\n        width: 2000px;\n    }\n\n    .svg-viewer__svg-overlays {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        pointer-events: none;\n    }\n\n    .svg-viewer__label {\n        text-shadow: black 1px 1px;\n        color: white;\n        white-space: pre-line;\n        text-align: center;\n        min-width: 10em;\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        z-index: 1\n    }\n\n    .svg-viewer__svg-overlay-item {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        height: 0.1%;\n        width: 0.1%;\n        position: absolute;\n        transform-origin: center;\n    }\n\n    .svg-viewer__svg-overlay-item > * {\n        will-change: transform;\n    }\n\n    .svg-viewer__svg-overlay-item__hover {\n        pointer-events: auto;\n    }\n\n    .svg-viewer__svg-overlay-item__hover > * {\n        display: none;\n    }\n\n    .svg-viewer__svg-overlay-item__hover:hover > * {\n        display: initial;\n    }\n\n    .svg-viewer__svg-overlay-item.action-zone {\n        pointer-events: auto;\n        background: none;\n        outline: none;\n        border: none;\n    }\n"},9127:(Mt,pe,a)=>{"use strict";a.d(pe,{cor:()=>oe,fcj:()=>xr.f,Pdm:()=>Yt,ZOi:()=>Ee,tYo:()=>wi,kMc:()=>Qt,HN5:()=>xr.H,xIT:()=>Ql,PJ4:()=>Fs,OSd:()=>Jl,yDx:()=>ql,tEp:()=>Mo,aP8:()=>Bi,vtF:()=>$e,yHY:()=>ee,JtY:()=>L,WsZ:()=>zi,$kw:()=>ul,xW:()=>cn,cgk:()=>js,F6F:()=>R,bEY:()=>Q,yJg:()=>te,Pac:()=>ue,smE:()=>Yo,Pof:()=>ji,oD0:()=>Zl,BbB:()=>Ts,Kfl:()=>Qo,n1$:()=>Ut,smM:()=>ai,TFI:()=>st,lek:()=>Dc,pIQ:()=>ao,KCc:()=>Di,ZhK:()=>hs,bpY:()=>Bn,V4n:()=>cl,VLL:()=>en,_Ni:()=>ii,yoy:()=>Ve,D58:()=>hi,Xx7:()=>ma,UZU:()=>Tc,I_z:()=>To,UCT:()=>Qa,Pny:()=>Ga,Yjp:()=>va,TKu:()=>bn,G5B:()=>Fi});var e=a(1635),i=a(4526),d=a(4421),p=a(4187),m=a(8728),_=a(9493),g=a(9090),b=a(5286),u=a(3004);class D{constructor(je,q){this.notifier=je,this.source=q}call(je,q){return q.subscribe(new E(je,this.notifier,this.source))}}class E extends u.gn{constructor(je,q,ze){super(je),this.notifier=q,this.source=ze}error(je){if(!this.isStopped){let q=this.errors,ze=this.retries,De=this.retriesSubscription;if(ze)this.errors=void 0,this.retriesSubscription=void 0;else{q=new b.B7;try{const{notifier:We}=this;ze=We(q)}catch(We){return super.error(We)}De=(0,u.tS)(ze,new u.zA(this))}this._unsubscribeAndRecycle(),this.errors=q,this.retries=ze,this.retriesSubscription=De,q.next(je)}}_unsubscribe(){const{errors:je,retriesSubscription:q}=this;je&&(je.unsubscribe(),this.errors=void 0),q&&(q.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:je}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=je,this.source.subscribe(this)}}var A=a(8456),v=a(2678),O=a(7409),z=a(4787),G=a(8002);const K={};function P(et,je,q,ze=K){const De=function U(et,je,q=K){const De=je.replace(/(http|https)?:\/\/[a-zA-Z0-9.]*:?([0-9]*)?/g,"").replace(/^\//,"").split("?")[0].split("/"),We=Object.keys(q).reduce((Wt,mn)=>(0===mn.indexOf(`${et}|`)&&Wt.push(q[mn]),Wt),[]);for(const Wt of We)if(Wt.path_structure.length===De.length){let mn=!0;for(let Rn=0;Rn<Wt.path_structure.length;Rn++)if(!Wt.path_structure[Rn]&&Wt.path_parts[Rn]!==De[Rn]){mn=!1;break}if(mn)return Wt}return null}(et,je,ze);if(De){const We=function $(et,je,q){const ze=et.replace(/(http|https):\/\/[a-zA-Z0-9.]*:?([0-9]*)?/g,"").split("?"),De=ze[0].replace(/^\//g,""),Wt=(0,O.om)(ze[1]||""),mn=De.split("/"),Rn={};for(const Ps of je.path_structure)Ps&&(Rn[Ps]=mn[je.path_structure.indexOf(Ps)]);const Gn={url:et,path:je.path,method:je.method,metadata:je.metadata,route_params:Rn,query_params:Wt,body:q};return(0,O.Rm)("HTTP(M)",`MATCHED ${Gn.method}:`,Gn),Gn}(je,De,q);return function B(et,je){const q=et.callback?et.callback(je):et.metadata,ze=et.delay_variance||100,De=et.delay||300,We=Math.floor(Math.random()*ze-ze/2)+De;return(0,O.Rm)("HTTP(M)",`RESP ${je.method}:`,[je.url,q]),(0,z.H)([q]).pipe((0,G.c)(Math.max(200,We)))}(De,We)}return null}const I={};function L(et,je,q=X){return je||(je={response_type:"json"}),q("GET",et,Object.assign({response_type:"json"},je))}function Q(et,je,q,ze=X){return q||(q={response_type:"json"}),ze("POST",et,Object.assign({body:je,response_type:"json"},q))}function te(et,je,q,ze=X){return q||(q={response_type:"json"}),ze("PUT",et,Object.assign({body:je,response_type:"json"},q))}function R(et,je,q,ze=X){return q||(q={response_type:"json"}),ze("PATCH",et,Object.assign({body:je,response_type:"json"},q))}function ee(et,je,q=X){return je||(je={response_type:"void"}),q("DELETE",et,Object.assign({response_type:"void"},je))}function k(et,je){return(0,e.sH)(this,arguments,void 0,function*(q,ze,De=I){if(q.headers){const We={};q.headers.forEach?q.headers.forEach((Wt,mn)=>We[mn.toLowerCase()]=Wt):Object.keys(q.headers).forEach(Wt=>We[Wt.toLowerCase()]=q.headers[Wt]),De[q.url||""]=We}switch(ze){case"json":return yield q.json().catch(()=>({}));case"text":return yield q.text()}})}const J=()=>{(0,v.XT)(),(0,v.Xd)().then(()=>null,()=>setTimeout(()=>J(),1e3))};function X(et,je,q,ze=v.TM,De=P,We=k){if(ze()){const Wt=De(et,je,q?.body);if(Wt)return Wt}return q.headers=q.headers||{},q.headers["Content-Type"]="application/json",(0,v.uh)().pipe((0,m.p)(Wt=>Wt),(0,_.s)(1),(0,g.n)(Wt=>("x-api-key"===(0,v.Sh)()?q.headers["X-API-Key"]=(0,v.Kz)():q.headers.Authorization=`Bearer ${(0,v.Sh)()}`,(0,p.$)(je,Object.assign(Object.assign({},q),{body:JSON.stringify(q.body),method:et,credentials:"same-origin"})))),(0,g.n)(Wt=>Wt.ok?We(Wt,q.response_type):(0,i.$)(Wt)),function S(et){return je=>je.lift(new D(et,je))}(Wt=>Wt.pipe((0,A.ZZ)((mn,Rn)=>511===mn.status?((0,v.Zp)((0,v.ku)()),(0,d.of)(mn)):Rn+1>4||401!==mn.status?(0,i.$)(mn||{}):((0,O.Rm)("HTTP","Auth error",mn),J(),(0,d.of)(mn))))))}var fe=a(5006),Me=a(4901);let rt={},vt={},ve="";const Ce=et=>et;function ue(et){const{query_params:je,fn:q,path:ze,endpoint:De}=et,We=(0,Me.z)(je),Wt=`${De||(0,v.WT)()}${ze?"/"+ze:""}${We?"?"+We:""}`;return L(Wt).pipe((0,fe.T)(mn=>{const Rn=function ht(et,je,q){const ze=function w(et,je=I){return je[et]||{}}("/"===et[0]?`${location.origin}${et}`:et),De={total:0,next:null};if(ze&&ze["x-total-count"]){const We=+(ze["x-total-count"]||0);(je.length<2||je.length<12&&je.indexOf("offset=")>=0)&&(rt[q]=We),vt[q]=We,De.total=We}return ze&&ze.link&&(ve=(0,O.No)(ze.link||"").next,De.next=(0,O.om)(ve.split("?")[1])),De}(Wt,We,ze);return{total:Rn.total||0,next:Rn.next?()=>ue({query_params:Rn.next,fn:q,endpoint:De,path:ze}):null,data:mn&&mn instanceof Array?mn.map(Gn=>(q||Ce)(Gn)):!mn||mn instanceof Array||!mn.results?[]:mn.results.map(Gn=>Gn)}}))}function me(et){const{query_params:je,id:q,path:ze,fn:De,options:We}=et,Wt=(0,Me.z)(je);return L(`${(0,v.WT)()}/${ze}/${q}${Wt?"?"+Wt:""}`,We).pipe((0,fe.T)(Rn=>(De||Ce)(Rn)))}function $e(et){const{query_params:je,form_data:q,path:ze,fn:De}=et,We=(0,Me.z)(je);return Q(`${(0,v.WT)()}/${ze}${We?"?"+We:""}`,q).pipe((0,fe.T)(Rn=>(De||Ce)(Rn)))}function Et(et){const{id:je,task_name:q,form_data:ze,method:De,path:We,callback:Wt}=et,mn=(0,Me.z)(ze),Rn=`${(0,v.WT)()}/${We}/${je}/${q}`;return("post"!==De&&"put"!==De&&De?("del"===De?ee:L)(`${Rn}${mn?"?"+mn:""}`,{response_type:"json"}):("put"===De?te:Q)(Rn,ze)).pipe((0,fe.T)(Ps=>(Wt||(Zi=>Zi))(Ps)))}function Ve(et){const{id:je,query_params:q,form_data:ze,method:De,path:We,fn:Wt}=et,mn=(0,Me.z)(Object.assign(Object.assign({},q),{version:ze.version||0}));return("put"===De?te:R)(`${(0,v.WT)()}/${We}/${je}${mn?"?"+mn:""}`,ze).pipe((0,fe.T)(Gn=>(Wt||Ce)(Gn)))}function st(et){const{id:je,query_params:q,path:ze}=et,De=(0,Me.z)(q);return ee(`${(0,v.WT)()}/${ze}/${je}${De?"?"+De:""}`)}class qe{constructor(je={}){this.id=je.id||"",this.name=je.name||"",this.created_at=je.created_at||0,this.updated_at=je.updated_at||0,this.version=je.version||0}toJSON(){const je=Object.assign({},this);return je.version=this.version,delete je.created_at,(0,O.jv)(je,[void 0,null,""])}}var oe=function(et){return et[et.None=0]="None",et[et.Support=1]="Support",et[et.Admin=2]="Admin",et[et.NeverDisplay=3]="NeverDisplay",et}(oe||{});class Ee extends qe{get value(){return this.settings_string}constructor(je={}){super(je),this.parent_id=je.parent_id||"",this.updated_at=je.updated_at||Math.floor((new Date).getTime()/1e3),this.settings_string=je.settings_string||"",this.encryption_level=je.encryption_level||oe.None,this.keys=je.keys||[],this.modified_by_id=je.modified_by_id||""}}var ne=function(et){return et[et.SSH=0]="SSH",et[et.Device=1]="Device",et[et.Service=2]="Service",et[et.Websocket=3]="Websocket",et[et.Logic=99]="Logic",et}(ne||{});class Ie extends qe{constructor(je={}){var q;super(je),this.description=je.description||"",this.module_name=je.module_name||"",this.role=null!==(q=je.role)&&void 0!==q?q:ne.Logic,this.default_uri=je.default_uri||"",this.default_port=je.default_port||1,this.ignore_connected=je.ignore_connected||!1,this.class_name=je.class_name||"",this.repository_id=je.repository_id||"",this.file_name=je.file_name||"",this.commit=je.commit||"",this.update_available=je.update_available||!1,this.update_info=je.update_info,this.settings=je.settings||[null,null,null,null],"object"!=typeof this.settings&&(this.settings=[null,null,null,null]);for(const ze in oe)!isNaN(Number(ze))&&!this.settings[ze]&&(this.settings[ze]=new Ee({parent_id:this.id,encryption_level:+ze}))}}class Yt{constructor(je={}){this.id=je.id||je.parent_id||"",this.name=je.name||"",this.description=je.description||"";try{this.details=("string"==typeof je.details?JSON.parse(je.details):je.details)||{}}catch{this.details=je.details||{}}this.editors=je.editors||[],this.schema=je.schema||"",this.updated_at=1e3*(je.updated_at||0)||Date.now(),this.modified_by_id=je.modified_by_id||"",this.version=je.version||0}}class mt extends qe{get system_id(){return this.control_system_id}get actions(){const je=this._actions;return{functions:(je.functions||[]).map(De=>Object.assign(Object.assign({},De),{args:Object.assign({},De.args)})),mailers:(je.mailers||[]).map(De=>Object.assign(Object.assign({},De),{emails:[...De.emails]}))}}get conditions(){const je=this._conditions;return{comparisons:(je.comparisons||[]).map(De=>Object.assign(Object.assign({},De),{left:"object"==typeof De.left?Object.assign({},De.left):De.left,right:"object"==typeof De.right?Object.assign({},De.right):De.right})),time_dependents:(je.time_dependents||[]).map(De=>Object.assign({},De))}}constructor(je={}){super(je),this.description=je.description||"",this._actions=je.actions||{functions:[],mailers:[]},this._conditions=je.conditions||{comparisons:[],time_dependents:[]},this.debounce_period=je.debounce_period||0,this.important=je.important||!1,this.enabled=je.enabled||!1,this.webhook_secret=je.webhook_secret||"",this.control_system_id=je.system_id||je.control_system_id||"",this.zone_id=je.zone_id||"",this.system_name=je.system_name||(je.control_system?je.control_system.name:""),this.enable_webhook=je.enable_webhook||!1,this.exec_enabled=je.exec_enabled||!1,this.supported_methods=je.supported_methods||["POST"],this.activated_count=je.activated_count||je.trigger_count||0,this.playlists=je.playlists||[]}}class Qt extends qe{constructor(je={}){super(je),this.settings=[null,null,null,null],this.trigger_list=[],this.description=je.description||"",this.tags=je.tags||[],this.triggers=je.triggers||[],this.settings=je.settings||[null,null,null,null],this.parent_id=je.parent_id||"",this.location=je.location||"",this.display_name=je.display_name||"",this.code=je.code||"",this.type=je.type||"",this.count=je.count||0,this.capacity=je.capacity||0,this.map_id=je.map_id||"",this.timezone=je.timezone||"",this.images=je.images||[],this.playlists=je.playlists||[],"object"!=typeof this.settings&&(this.settings=[null,null,null,null]);for(const q in oe)!isNaN(Number(q))&&!this.settings[q]&&(this.settings[q]=new Ee({parent_id:this.id,encryption_level:+q}));je.trigger_data&&je.trigger_data instanceof Array&&(this.trigger_list=je.trigger_data.map(q=>new mt(q)))}}class se{constructor(je={}){this.zone=new Qt(je.zone),this.keys=je.keys||[],this.metadata={};const q=je.metadata||{};for(const ze of this.keys)this.metadata[ze]=new Yt(q[ze])}}const Ae="metadata";function xe(et){return new Yt(et)}function Bn(et,je,q={}){return me({id:et,query_params:Object.assign(Object.assign({},q),{name:je}),fn:ze=>xe(ze[je]),path:Ae})}function hi(et,je,q="put"){return Ve({id:et,form_data:je,query_params:{},method:q,fn:xe,path:Ae})}function zi(et,je){return Et({id:et,task_name:"children",form_data:je,method:"get",callback:q=>q.map(ze=>new se(Object.assign(Object.assign({},ze),{keys:Object.keys(ze.metadata)}))),path:Ae})}class wi extends qe{constructor(je={}){var q;super(je),this.settings=[null,null,null,null],this.module_list=[],this.display_name=je.display_name||"",this.description=je.description||"",this.email=je.email||"",this.code=je.code||"",this.capacity=je.capacity||0,this.features=je.features||[],this.bookable=je.bookable||!1,this.public=null!==(q=je.public)&&void 0!==q&&q,this.installed_ui_devices=je.installed_ui_devices||0,this.support_url=je.support_url||"",this.map_id=je.map_id||"",this.modules=je.modules||[],this.images=je.images||[],this.zones=je.zones||[],this.settings=je.settings||[null,null,null,null],this.timezone=je.timezone||"",this.signage=je.signage||!1,this.playlists=je.playlists||[],this.orientation=je.orientation||"unspecified","object"!=typeof this.settings&&(this.settings=[null,null,null,null]);for(const ze in oe)!isNaN(Number(ze))&&!this.settings[ze]&&(this.settings[ze]=new Ee({parent_id:this.id,encryption_level:+ze}));je.module_data&&je.module_data instanceof Array&&(this.module_list=je.module_data.map(ze=>new Ji(ze)))}}class Ji extends qe{get system_id(){return this.control_system_id}constructor(je={}){var q;super(je),this.settings=[null,null,null,null],this.driver_id=je.driver_id||je.dependency_id||"",this.control_system_id=je.control_system_id||"",this.edge_id=je.edge_id||"",this.ip=je.ip||"",this.tls=je.tls||!1,this.udp=je.udp||!1,this.port=je.port||1,this.makebreak=je.makebreak||!1,this.uri=je.uri||"",this.custom_name=je.custom_name||"",this.role=null!==(q=je.role)&&void 0!==q?q:ne.Logic,this.notes=je.notes||"",this.ignore_connected=je.ignore_connected||!1,this.connected=je.connected,this.running=je.running||!1,this.updated_at=je.updated_at||0,this.system=new wi(je.control_system||je.system),this.has_runtime_error=je.has_runtime_error||!1,this.error_timestamp=je.error_timestamp||0,this.driver=new Ie(je.dependency||je.driver),this.settings=je.settings||[null,null,null,null],"object"!=typeof this.settings&&(this.settings=[null,null,null,null]);for(const ze in oe)!isNaN(Number(ze))&&!this.settings[ze]&&(this.settings[ze]=new Ee({parent_id:this.id,encryption_level:+ze}))}toJSON(je=!1){const q=super.toJSON();return(q.role!==ne.Logic&&!je||!q.control_system_id)&&delete q.control_system_id,delete q.driver,delete q.system,delete q.error_timestamp,delete q.has_runtime_error,q}}const Er="settings";function Eo(et){return new Ee(et)}function Yo(et={}){return ue({query_params:et,fn:Eo,path:Er})}function ma(et,je,q={},ze="patch"){return Ve({id:et,form_data:je,query_params:q,method:ze,fn:Eo,path:Er})}function Fs(et,je={}){return $e({form_data:et,query_params:je,fn:Eo,path:Er})}const xi="systems";function No(et){return new wi(et)}function Ts(et={}){return ue({query_params:et,fn:No,path:xi})}function Qo(et={}){return ue({query_params:et,fn:No,path:`${xi}/with_emails`})}function cl(et,je={}){return me({id:et,query_params:je,fn:No,path:xi})}function Ga(et,je,q="patch"){return Ve({id:et,form_data:je,query_params:{},method:q,fn:No,path:xi})}function Mo(et){return $e({form_data:et,query_params:{},fn:No,path:xi})}function Di(et,je={}){return st({id:et,query_params:je,path:xi})}function cn(et){return ue({query_params:{},fn:je=>new mt(je),path:`${xi}/${et}/triggers`})}const mi="triggers";function ga(et){return new mt(et)}function va(et,je,q="patch"){return Ve({id:et,form_data:je,query_params:{},method:q,fn:ga,path:mi})}class Ha extends qe{constructor(je={}){super(je),this.password="",this.confirm_password="",this.authority_id=je.authority_id||"",this.email=je.email||"",this.email_digest=je.email_digest||"",this.phone=je.phone||"",this.country=je.country||"",this.building=je.building||"",this.image=je.image||"",this.metadata=je.metadata||"",this.login_name=je.login_name||"",this.staff_id=je.staff_id||"",this.first_name=je.first_name||"",this.last_name=je.last_name||"",this.support=!!je.support,this.sys_admin=!!je.sys_admin,this.ui_theme=je.ui_theme||"",this.card_number=je.card_number||"",this.groups=je.groups||[],this.department=je.department||"",this.work_preferences=je.work_preferences||[],this.work_overrides=je.work_overrides||{}}}const W="users";function ut(et){return new Ha(et)}function Ut(et={}){return ue({query_params:et,fn:ut,path:W})}function en(et,je={}){return me({id:et,query_params:je,fn:ut,path:W})}function bn(et,je,q="patch"){return Ve({id:et,form_data:je,query_params:{},method:q,fn:ut,path:W})}const kn="zones";function Hn(et){return new Qt(et)}function ai(et={}){return ue({query_params:et,fn:Hn,path:kn})}function ii(et,je={}){return me({id:et,query_params:je,fn:Hn,path:kn})}function Fi(et,je,q="patch"){return Ve({id:et,form_data:je,query_params:{},method:q,fn:Hn,path:kn})}function Bi(et){return $e({form_data:et,query_params:{},fn:Hn,path:kn})}function hs(et,je={}){return st({id:et,query_params:je,path:kn})}function js(et,je={}){return ue({query_params:je,fn:q=>new mt(q),path:`${kn}/${et}/triggers`})}var xr=a(19);class ls{constructor(je={}){this.id=je.id||"",this.playlist_id=je.playlist_id||"",this.items=je.items||[],this.user_id=je.user_id||"",this.user_name=je.user_name||"",this.user_email=je.user_email||"",this.created_at=je.created_at||0,this.updated_at=je.updated_at||0}}class Ql{constructor(je){var q,ze;this.id=je.id||"",this.created_at=je.created_at||0,this.updated_at=je.updated_at||0,this.name=je.name||"",this.description=je.description||"",this.authority_id=je.authority_id||"",this.orientation=je.orientation||"",this.play_count=je.play_count||0,this.play_through_count=je.play_through_count||0,this.default_animation=je.default_animation||xr.f.Cut,this.random=je.random||!1,this.enabled=null===(q=je.enabled)||void 0===q||q,this.default_duration=null!==(ze=je.default_duration)&&void 0!==ze?ze:15,this.valid_from=je.valid_from,this.valid_until=je.valid_until,this.play_hours=je.play_hours||"",this.play_at=je.play_at||"",this.play_cron=je.play_cron||""}}const ba="signage/media";function Ya(et){return new xr.H(et)}function ji(et={}){return ue({query_params:et,fn:Ya,path:ba})}function Tc(et,je,q="patch"){return Ve({id:et,form_data:je,query_params:{},method:q,fn:Ya,path:ba})}function Jl(et){return $e({form_data:et,query_params:{},fn:Ya,path:ba})}function Dc(et,je={}){return st({id:et,query_params:je,path:ba})}const Sa="signage/playlists";function sa(et){return new Ql(et)}function Zl(et={}){return ue({query_params:et,fn:sa,path:Sa})}function To(et,je,q="patch"){return Ve({id:et,form_data:je,query_params:{},method:q,fn:sa,path:Sa})}function ql(et){return $e({form_data:et,query_params:{},fn:sa,path:Sa})}function ao(et,je={}){return st({id:et,query_params:je,path:Sa})}function ul(et,je={}){return Et({id:et,task_name:"media",form_data:je,method:"get",callback:q=>new ls(q),path:Sa})}function Qa(et,je){return Et({id:et,task_name:"media",form_data:je,method:"post",path:Sa,callback:q=>new ls(q)})}},2678:(Mt,pe,a)=>{"use strict";a.d(pe,{WT:()=>te,Kz:()=>fe,ku:()=>vt,L2:()=>k,Hc:()=>lt,id:()=>R,XT:()=>Vt,vW:()=>$e,TM:()=>Ce,sc:()=>ve,Ut:()=>be,uh:()=>rt,ri:()=>gt,CP:()=>ee,XY:()=>ue,Xd:()=>ht,Be:()=>Ct,Zp:()=>Pe,BC:()=>X,mj:()=>Ve,Sh:()=>Ze});var e=a(1635),i=a(993),d=a(1299),p=a(9928),m=a(4187),_=a(5006),g=a(416),b=a(7409);class u{abort(){(0,b.Rm)("Stub","Aborted")}}var S=a(4901),D=a(2773);const E={id:"mock-authority",name:"localhost:4200",description:"",domain:"localhost:4200",login_url:"/login?continue={{url}}",logout_url:"/logout",session:!0,production:!1,config:{},version:"2.0.0"};var A=a(6299),v=a(3368),O=a(9255),z=a(1113);let H,Y,F={};const P={};let U="",$="";const B=new p.t(""),y=new p.t("");let I="/api/engine/v2";const w=new p.t(!1),L=w.asObservable();let Q=0;function te(){var an,hn;return`${F.secure||(null===(an=window.location)||void 0===an?void 0:an.protocol.indexOf("https"))>=0?"https:":"http:"}//${F.host||(null===(hn=window.location)||void 0===hn?void 0:hn.host)}${R()}`}function R(){return"ACA Engine"===F.version?"/control/api":I}function ee(){return!!F.token_header}function k(){return U}function X(an,hn=!0){H.setItem(`${U}_x-api-key`,`${an}`),H.setItem("trusted",`${hn}`),function Me(an,hn=(0,v.L)(new Date,2).valueOf()){F.ignore_api_key&&"x-api-key"===an||(H.setItem(`${U}_expires_at`,`${hn}`),H.setItem(`${U}_access_token`,an))}("x-api-key",(0,A.e)(new Date,5).valueOf())}function fe(){return Et("x-api-key",!1)||""}function Ze(an=!0){if(F.mock)return"mock-token";if(!H)return"";if(fe()&&!F.ignore_api_key)return"x-api-key";const hn=H.getItem(`${U}_expires_at`)||"",Sn=B.getValue();return(0,O.Y)(+hn,new Date)&&((0,b.Rm)("Auth","Token expired. Requesting new token..."),Vt(),P.load_authority||(Q+=1,(0,D.wR)("re-authorise",()=>qe().catch(Lt=>(0,b.Rm)("Auth",`Failed to get token: ${Lt}`)),200*Math.min(20,Q))),!an)?"":Sn||H.getItem(`${U}_access_token`)||""}function Ct(){return y.getValue()||H.getItem(`${U}_refresh_token`)||""}function lt(){var an;return F.host||(null===(an=window.location)||void 0===an?void 0:an.host)}function rt(){return B.pipe((0,_.T)(an=>!!function Ot(){return!!Ze()}()))}function vt(){return Y}function ve(){return w.getValue()}function Ce(){return!!F.mock}function be(){return!!F.secure}function ue(){return L}function me(){return"true"===Et("trust")||"true"===Et("trusted")}function $e(){return!!fe()&&!F.ignore_api_key||"true"===Et("fixed_device")}function Et(an,hn=!0){let Lt=(0,b.WM)()[an];if(H){const at=`${k()}_${an}`;Lt=Lt||H.getItem(at)||H.getItem(an)||"",hn&&H.setItem(at,`${Lt}`)}return Lt}function Ve(an){var hn;return F=an||F,F.token_header=null!==(hn=F.token_header)&&void 0!==hn?hn:(0,b.$I)(),window.AbortController||(window.AbortController=u),H="session"===F.storage?sessionStorage:localStorage,U=g.VV.hashStr(F.redirect_uri,!1),ot()}function ht(){return(0,b.Rm)("Auth","Refreshing authorty."),Y=void 0,ot()}function Vt(){(0,b.Rm)("Auth","Invalidating tokens."),H.removeItem(`${U}_access_token`),H.removeItem(`${U}_expires_at`),B.getValue()&&B.next("")}function qe(an,hn=Y){return P.authorise||(P.authorise=new Promise((Sn,Lt)=>{if(!hn)return delete P.authorise,Lt("Authority is not loaded");(0,b.Rm)("Auth","Authorising user...");const at=()=>{if(Ze(!1))(0,b.Rm)("Auth","Valid token found."),delete P.authorise,Sn(Ze());else{const ct=[()=>{(0,b.Rm)("Auth","Successfully generated token."),Sn(Ze()),delete P.authorise},()=>{(0,b.Rm)("Auth","Failed to generate token."),Lt("Failed to generate token"),setTimeout(()=>delete P.authorise,200)}];F&&"password"===F.auth_type?((0,b.Rm)("Auth","Logging in with credentials."),function kt(an){return dn(function ft(an){return`${an.token_uri||"/auth/token"}?${(0,S.z)({grant_type:"password",client_id:U,client_secret:an.client_secret,redirect_uri:an.redirect_uri,authority:Y?.id,scope:an.scope,username:an.username,password:an.password})}`}(an))}(F).then(...ct),Q=0):$||Ct()?((0,b.Rm)("Auth","Generating token with "+($?"code":"refresh token")),$t().then(...ct),Q=0):hn.session?((0,b.Rm)("Auth","Users has session. Authorising application..."),function ae(an){return(0,e.sH)(this,void 0,void 0,function*(){var hn;const Sn=function Kt(an){const hn=function un(){const an=(0,b.n3)();return H.setItem(`${U}_nonce`,an),an}();an=an?`${hn};${an}`:hn;const Sn=!!F&&(F.auth_uri||"").indexOf("?")>=0,Lt=(F?F.auth_uri:null)||"/auth/oauth/authorize",at=me()||"auth_code"===F.auth_type?"code":"token";let ct=`${Lt}${Sn?"&":"?"}response_type=${encodeURIComponent(at)}&client_id=${encodeURIComponent(U)}&state=${encodeURIComponent(an)}&redirect_uri=${encodeURIComponent(F.redirect_uri)}&scope=${encodeURIComponent(F.scope)}`;if("auth_code"===F.auth_type){const{challenge:Xe,verify:Qe}=function Ft(an=43){const hn=new Array(an).fill(0).map(()=>vn[Math.floor(Math.random()*vn.length)]).join(""),Sn=i.Kp(i.Cw(hn));return{challenge:hn,verify:i.if(d.hash(Sn)).split("=")[0].replace(/\//g,"_").replace(/\+/g,"-")}}();sessionStorage.setItem(`${U}_challenge`,Xe),ct+="&code_challenge_method=S256",ct+=`&code_challenge=${Qe}`}return ct}(an);if(F.use_iframe)return function Oe(an){return P.iframe_auth||(P.iframe_auth=new Promise((hn,Sn)=>{(0,b.Rm)("Auth","Authorizing in an iFrame...");const Lt=document.createElement("iframe");Lt.style.position="absolute",Lt.style.top="0",Lt.style.left="0",Lt.style.height="1px",Lt.style.width="1px",Lt.style.zIndex="-1",Lt.id="place-authorize",Lt.src=`${an}`;const at=ct=>{var Xe;if(ct.origin===(null===(Xe=window.location)||void 0===Xe?void 0:Xe.origin)&&"place-os"===ct.data.type){const Qe=ct.data;if((0,b.Rm)("Auth","Received credentials from iFrame..."),document.body.removeChild(Lt),(0,D.bt)("iframe_auth"),window.removeEventListener("message",at),delete P.iframe_auth,Qe.token)return hn(),pn(Object.assign({access_token:Qe.token},Qe));$=Qe.code||"",$t().then(Bt=>hn(Bt),Bt=>Sn(Bt))}};(0,D.wR)("iframe_auth",()=>{(0,b.Rm)("Auth","Unable to resolve iFrame after 15 seconds..."),Sn()},15e3),window.addEventListener("message",at),Lt.onerror=ct=>{(0,b.Rm)("Auth","iFrame error.",ct),delete P.iframe_auth,Sn()},document.body.appendChild(Lt)})),P.iframe_auth}(Sn);null===(hn=window.location)||void 0===hn||hn.assign(Sn)})}(an).then(...ct)):((0,b.Rm)("Auth","No user session"),Pe(hn),Lt("No user session"),setTimeout(()=>delete P.authorise,200))}};(function _t(){return P.check_token||(P.check_token=new Promise((an,hn)=>(0,e.sH)(this,void 0,void 0,function*(){Ze()?((0,b.Rm)("Auth","Valid token found."),an(Ze())):((0,b.Rm)("Auth","No token. Checking URL for auth credentials..."),(yield function Gt(){return P.check_params||(P.check_params=new Promise(an=>{(0,b.Rm)("Auth","Checking for auth parameters...");let hn=(0,b.WM)();if((!hn||Object.keys(hn).length<=0)&&sessionStorage&&(hn=JSON.parse(sessionStorage.getItem("ENGINE.auth.params")||"{}")),hn&&(hn.code||hn.access_token||hn.refresh_token)){hn.code&&($=hn.code,(0,b.jb)("code")),hn.refresh_token&&(H.setItem(`${U}_refresh_token`,hn.refresh_token),(0,b.jb)("refresh_token"));const Sn=H.getItem(`${U}_nonce`)||"",Lt=(hn.state||"").split(";");(0,b.jb)("state"),(0,b.jb)("token_type"),Sn===Lt[0]?(pn(hn),an(!!hn.access_token)):an(!1)}else an(!1);(0,D.wR)("check_params_promise",()=>delete P.check_params,50)})),P.check_params}())?an(!0):hn()),delete P.check_token}))),P.check_token})().then(at,at)})),P.authorise}function gt(){const an=()=>{for(let Sn=0;Sn<H.length;Sn++){const Lt=H.key(Sn);Lt&&Lt.indexOf(U)>=0&&H.removeItem(Lt)}const hn=Y?Y.logout_url:"/logout";setTimeout(()=>{var Sn;return null===(Sn=window.location)||void 0===Sn?void 0:Sn.assign(hn)},300),w.next(!1)};(function pt(){return P.revoke_token||(P.revoke_token=new Promise((an,hn)=>{(0,b.Rm)("Auth","Revoking token...");const Lt=at=>{(0,b.Rm)("Auth","Error revoking token.",at),hn(at),delete P.revoke_token};(0,m.$)(`${F.token_uri||"/auth/token"}?token=${Ze()}`,{method:"POST"}).subscribe(at=>{if(!at.ok)return Lt(at);(0,b.Rm)("Auth","Successfully revoked token."),B.next(""),y.next(""),H.removeItem(`${U}_access_token`),H.removeItem(`${U}_refresh_token`),an(),delete P.revoke_token},Lt)})),P.revoke_token})().then(an,an)}function ot(an=0){return P.load_authority||(P.load_authority=new Promise(hn=>{var Sn;if(w.next(!1),F.mock)return Y=E,(0,b.Rm)("Auth","System in mock mode"),w.next(!0),void hn();(0,b.Rm)("Auth",`Fixed: ${$e()} | Trusted: ${me()}`),(0,b.Rm)("Auth","Loading authority...");const Lt=F.secure||(null===(Sn=window.location)||void 0===Sn?void 0:Sn.protocol.indexOf("https"))>=0,at=ct=>{(0,b.Rm)("Auth",`Failed to load authority(${ct})`),w.next(!1),(0,D.wR)("load_authority",()=>{delete P.load_authority,ot(an).then(Xe=>hn())},300*Math.min(20,++an))};(0,m.$)(`${Lt?"https:":"http:"}//${lt()}/auth/authority`,{credentials:"same-origin"}).subscribe(ct=>(0,e.sH)(this,void 0,void 0,function*(){if(!ct.ok)return at(yield ct.text().catch(Qe=>Qe));Y=yield ct.json(),I=/[2-9]\.[0-9]+\.[0-9]+/g.test(Y.version||"")?"/api/engine/v2":"/control/api",(0,b.Rm)("Auth","Loaded authority.",[],"group"),Y&&((0,b.Rm)("Auth",`Name: ${Y.name}`),(0,b.Rm)("Auth",`Version: ${Y.version}`),(0,b.Rm)("Auth",`Domain: ${Y.domain}`),(0,b.Rm)("Auth",`Session: ${Y.session}`),(0,b.Rm)("Auth",`Production: ${Y.production}`),(0,b.Rm)("Auth",`Config Keys: ${Object.keys(Y.config||{}).length}`)),(0,b.Rm)("Auth","",[],"groupEnd");const Xe=()=>{w.next(!0),(0,b.Rm)("Auth","Application set online."),hn()};delete P.load_authority,qe("").then(Xe,Xe)}),at)})),P.load_authority}let Le=!1;function Pe(an){var hn,Sn;if(!1!==F.handle_login&&!Le){(0,b.Rm)("Auth","Redirecting to login page...");const Lt=null===(hn=an.login_url)||void 0===hn?void 0:hn.replace("{{url}}",encodeURIComponent(null===(Sn=window.location)||void 0===Sn?void 0:Sn.href));throw setTimeout(()=>{var at;return null===(at=window.location)||void 0===at?void 0:at.assign(Lt)},300),Le=!0,new Error("Redirecting to login page...")}(0,b.Rm)("Auth","Login being handled locally."),delete P.authorise}const vn="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".split("");function $t(){return dn(...function _n(){let hn=(F.token_uri||"/auth/token")+`?client_id=${encodeURIComponent(U)}`,Sn="";if(hn+=`&redirect_uri=${encodeURIComponent(F.redirect_uri)}`,Ct()){hn+=`&refresh_token=${encodeURIComponent(Ct())}`,hn+="&grant_type=refresh_token";const Lt=hn.split("?");hn=Lt[0],Sn=Lt[1]}else{hn+=`&code=${encodeURIComponent($)}`,hn+="&grant_type=authorization_code";const Lt=sessionStorage.getItem(`${U}_challenge`);Lt&&(hn+=`&code_verifier=${Lt}`,sessionStorage.removeItem(`${U}_challenge`)),$=""}return[hn,Sn]}())}function dn(an,hn=""){return P.generate_tokens||(P.generate_tokens=new Promise((Sn,Lt)=>{(0,b.Rm)("Auth","Generating new token...");const at=ct=>{(0,b.Rm)("Auth","Error generating new tokens.",ct),H.removeItem(`${U}_refresh_token`),y.next(""),Lt(),delete P.generate_tokens};(0,m.$)(an,{method:"POST",body:hn,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).subscribe(ct=>(0,e.sH)(this,void 0,void 0,function*(){if(!ct.ok)return at(ct);pn(yield ct.json()),Sn(),delete P.generate_tokens}),at)})),P.generate_tokens}function pn(an){const hn=function G(an,hn){return(0,z.A)(an,1e3*hn)}(new Date,Math.max(60,parseInt(an.expires_in,10)-300));(0,b.Rm)("Auth","Tokens generated storing..."),me()&&(an.access_token&&(H.setItem(`${U}_access_token`,an.access_token),(0,b.jb)("access_token")),an.refresh_token&&(H.setItem(`${U}_refresh_token`,an.refresh_token),(0,b.jb)("refresh_token"))),an.expires_in&&(H.setItem(`${U}_expires_at`,`${hn.valueOf()}`),(0,b.jb)("expires_in")),w.next(!0),B.next(an.access_token||""),y.next(an.refresh_token||"")}},9596:(Mt,pe,a)=>{"use strict";a.d(pe,{cor:()=>e.cor,fcj:()=>e.fcj,Pdm:()=>e.Pdm,ZOi:()=>e.ZOi,tYo:()=>e.tYo,kMc:()=>e.kMc,HN5:()=>e.HN5,xIT:()=>e.xIT,YiA:()=>Y,AfL:()=>G.Af,PJ4:()=>e.PJ4,OSd:()=>e.OSd,yDx:()=>e.yDx,I_p:()=>u,tEp:()=>e.tEp,aP8:()=>e.aP8,Kz4:()=>P.Kz,kup:()=>P.ku,jv5:()=>y.jv,L2z:()=>P.L2,omv:()=>y.om,yHY:()=>e.yHY,JtY:()=>e.JtY,f_4:()=>Be,XTx:()=>P.XT,vWy:()=>P.vW,TMs:()=>P.TM,sc7:()=>P.sc,WsZ:()=>e.WsZ,$kw:()=>e.$kw,xW:()=>e.xW,cgk:()=>e.cgk,rig:()=>P.ri,XYg:()=>P.XY,F6F:()=>e.F6F,bEY:()=>e.bEY,yJg:()=>e.yJg,Pac:()=>e.Pac,elf:()=>H,Ilu:()=>G.Il,smE:()=>e.smE,Pof:()=>e.Pof,oD0:()=>e.oD0,uT:()=>_,BbB:()=>e.BbB,Kfl:()=>e.Kfl,n1$:()=>e.n1$,smM:()=>e.smM,Be_:()=>P.Be,V0P:()=>G.V0,lek:()=>e.lek,pIQ:()=>e.pIQ,FLc:()=>S,KCc:()=>e.KCc,ZhK:()=>e.ZhK,BCG:()=>P.BC,mjH:()=>P.mj,bpY:()=>e.bpY,IkJ:()=>g,V4n:()=>e.V4n,VLL:()=>e.VLL,_Ni:()=>e._Ni,ShT:()=>P.Sh,D58:()=>e.D58,Xx7:()=>e.Xx7,UZU:()=>e.UZU,I_z:()=>e.I_z,UCT:()=>e.UCT,cUy:()=>b,Pny:()=>e.Pny,Yjp:()=>e.Yjp,TKu:()=>e.TKu,G5B:()=>e.G5B});var e=a(9127),i=a(5006),d=a(4901);class p{constructor(Ee){this.id=Ee.id||0,this.title=Ee.title||"",this.description=Ee.description||"",this.building_id=Ee.building_id||"",this.zone_id=Ee.zone_id||"",this.pages=Ee.pages||[],this.trigger=Ee.trigger||"NONE"}}const m="/api/staff/v1/surveys";function _(oe={}){const Ee=(0,d.z)(oe);return(0,e.JtY)(`${m}${Ee?"?"+Ee:""}`).pipe((0,i.T)(ne=>ne.map(Ie=>new p(Ie))))}function g(oe,Ee={}){const ne=(0,d.z)(Ee);return(0,e.JtY)(`${m}/${oe}${ne?"?"+ne:""}`).pipe((0,i.T)(Ie=>new p(Ie)))}function b(oe,Ee,ne="patch"){return("put"===ne?e.yJg:e.F6F)(`${m}/${oe}`,Ee).pipe((0,i.T)(Ie=>new p(Ie)))}function u(oe){return(0,e.bEY)(`${m}`,oe).pipe((0,i.T)(Ee=>new p(Ee)))}function S(oe,Ee={}){const ne=(0,d.z)(Ee);return(0,e.yHY)(`${m}/${oe}${ne?"?"+ne:""}`)}var G=a(7394);class K{constructor(Ee){this.id=Ee.id||0,this.question_id=Ee.question_id||0,this.survey_id=Ee.survey_id||0,this.type=Ee.type||"",this.answer_json=Ee.answer_json||{}}}const F="/api/staff/v1/surveys/answers";function H(oe={}){const Ee=(0,d.z)(oe);return(0,e.JtY)(`${F}${Ee?"?"+Ee:""}`).pipe((0,i.T)(ne=>ne.map(Ie=>new K(Ie))))}function Y(oe){return(0,e.bEY)(`${F}`,oe).pipe((0,i.T)(Ee=>Ee.map(ne=>new K(ne))))}var P=a(2678),U=a(9928),$=a(5286),B=a(4119),y=a(7409),I=function(oe){return oe[oe.PARSE_ERROR=0]="PARSE_ERROR",oe[oe.BAD_REQUEST=1]="BAD_REQUEST",oe[oe.ACCESS_DENIED=2]="ACCESS_DENIED",oe[oe.REQUEST_FAILED=3]="REQUEST_FAILED",oe[oe.UNKNOWN_CMD=4]="UNKNOWN_CMD",oe[oe.SYS_NOT_FOUND=5]="SYS_NOT_FOUND",oe[oe.MOD_NOT_FOUND=6]="MOD_NOT_FOUND",oe[oe.UNEXPECTED_FAILURE=7]="UNEXPECTED_FAILURE",oe}(I||{}),w=function(oe){return oe.Info="info",oe.Debug="debug",oe.Warning="warn",oe.Error="error",oe.Fatal="fatal",oe.Trace="trace",oe}(w||{});const L={};var ee=a(2773);const k=15;let X,J=0,fe=0;const Me={},Ze={},Ct={},lt={},Ot=new U.t(!1);Ct._place_os_status=Ot.asObservable();const rt=new U.t([0,0]);Ct._place_os_sync=rt.asObservable();let ve,ue,vt=Date.now(),Ce=0,be=null,me=0;const $e=1e4,Et=new $.B7;function st(){return(0,P.WT)().indexOf("/control/")>=0?"/control/websocket":`${(0,P.id)()}/systems/control`}function ht(){return Ot.getValue()}function ae(oe,Ee=0,ne=Gt){return ne(Object.assign({id:++J,cmd:"bind"},oe),Ee)}function Gt(oe,Ee=$e,ne=0){const Ie=`${oe.cmd}|${oe.sys}|${oe.mod}${oe.index}|${oe.name}|${oe.args}|${(0,y.Gb)()}`;if(Me[Ie])(0,y.Rm)("WS","Request already in progress. Waiting...",oe);else{const Te=Object.assign(Object.assign({},oe),{key:Ie});Te.promise=new Promise((Ge,Ue)=>{const Fe=()=>{delete Me[Ie],Me[Ie]=null,Gt(oe,Ee,ne).then(At=>Ge(At),At=>Ue(At))};if(X&&ht()){(0,P.TM)()&&function an(oe,Ee,ne){const Ie=`${oe.sys}|${oe.mod}_${oe.index}|${oe.name}`,Te=function te(oe){return L[oe]}(oe.sys),Ge=Te&&Te[oe.mod]?Te[oe.mod][oe.index-1||0]:null;if(Ge){switch(oe.cmd){case"bind":ne[Ie]=Ge.listen(oe.name).subscribe(Ue=>{setTimeout(()=>{Ee.next({type:"notify",value:Ue,meta:oe})},Math.floor(100*Math.random()+50))});break;case"unbind":ne[Ie]&&(ne[Ie].unsubscribe(),delete ne[Ie],(0,ee.bt)(`${Ie}`))}(0,ee.wR)(`${oe.id}-response`,()=>{const Ue={id:oe.id,type:"success",value:"exec"===oe.cmd?Ge.call(oe.name,oe.args):null};Ee.next(Ue)},10)}else(0,ee.wR)(`${oe.id}-error`,()=>Ee.next({id:oe.id,type:"error",code:Te?I.SYS_NOT_FOUND:I.MOD_NOT_FOUND}),10)}(oe,X,lt),Te.resolve=Ge,Te.reject=Ue;const At=`${oe.sys}, ${oe.mod}_${oe.index}, ${oe.name}`;(0,y.Rm)("WS",`[${oe.cmd.toUpperCase()}](${oe.id}) ${At}`,oe.args),X.next(oe),Ee>0&&(0,ee.wR)(`${Ie}`,()=>{Ue("Request timed out."),delete Me[Ie],Me[Ie]=null},Ee)}else be?setTimeout(()=>Fe(),1e3):ft().then(()=>Fe())}),Me[Ie]=Te}return Me[Ie].promise}function Kt(oe){if("pong"!==oe&&oe instanceof Object){if("notify"===oe.type&&oe.meta)!function _n(oe,Ee,ne=Ze,Ie=Ct){const Te=`${oe.sys}|${oe.mod}_${oe.index}|${oe.name}`;ne[Te]||(ne[Te]=new U.t(null),Ie[Te]=ne[Te].asObservable());(0,y.Rm)("WS",`[NOTIFY] ${`${oe.sys}, ${oe.mod}_${oe.index}, ${oe.name}`} changed`,[ne[Te].getValue(),"\u2192",Ee]),ne[Te].next(Ee)}(oe.meta,oe.value);else if("success"===oe.type)!function vn(oe){const Ee=Object.keys(Me).map(ne=>Me[ne]).find(ne=>ne?.id===oe.id);(0,y.Rm)("WS",`[SUCCESS](${oe.id})`),Ee&&Ee.resolve&&(Ee.resolve(oe.value),delete Me[Ee.key])}(oe);else if("debug"===oe.type){(0,y.Rm)("WS",`[DEBUG] ${oe.mod}${oe.klass||""} \u2192`,oe.msg);const Ee=oe.meta||{mod:"",index:""};Et.next({mod_id:oe.mod||"<empty>",module:`${Ee.mod}_${Ee.index}`,class_name:oe.klass||"<empty>",message:oe.msg||"<empty>",level:oe.level||w.Debug,time:Math.floor((new Date).getTime()/1e3)})}else"error"===oe.type?function Ft(oe){let Ee="UNEXPECTED FAILURE";switch(oe.code){case I.ACCESS_DENIED:Ee="ACCESS DENIED";break;case I.BAD_REQUEST:Ee="BAD REQUEST";break;case I.MOD_NOT_FOUND:Ee="MODULE NOT FOUND";break;case I.SYS_NOT_FOUND:Ee="SYSTEM NOT FOUND";break;case I.PARSE_ERROR:Ee="PARSE ERROR";break;case I.REQUEST_FAILED:Ee="REQUEST FAILED";break;case I.UNKNOWN_CMD:Ee="UNKNOWN COMMAND"}(0,y.Rm)("WS",`[ERROR] ${Ee}(${oe.id}): ${oe.msg}`,void 0,"error");const ne=Object.keys(Me).map(Ie=>Me[Ie]).filter(Ie=>Ie).find(Ie=>Ie.id===oe.id);ne&&ne.reject&&(ne.reject(oe),(0,ee.bt)(`${ne.key}`),delete Me[ne.key])}(oe):oe.cmd||(0,y.Rm)("WS","Invalid websocket message",oe,"error");(0,ee.bt)(`${oe.id}`)}else"pong"===oe&&(me=Date.now(),(0,y.Rm)("WS","Pong!"))}function ft(oe=0){return null==be&&(be=new Promise(Ee=>{if(oe>40)return location.reload();Ce++,vt=Date.now(),X=(0,P.TM)()?function un(){const oe=new $.B7;return oe.subscribe(Ee=>Kt(Ee)),oe}():function pt(){if(!(0,P.ku)()||!(0,P.Sh)())return null;const oe=(0,P.Ut)()||location.protocol.indexOf("https")>=0;let Ee=`ws${oe?"s":""}://${(0,P.Hc)()}${st()}${(0,P.vW)()?"?fixed_device=true":""}`;const ne=(0,P.Sh)();let Ie="x-api-key"===ne?`api-key=${(0,P.Kz)()}`:`bearer_token=${ne}`;return(0,P.CP)()||(0,y.HQ)()?((0,y.Rm)("WS","Authenticating through URL query parameter..."),Ee+=`${Ee.indexOf("?")>=0?"&":"?"}${Ie}`):((0,y.Rm)("WS","Authenticating through cookie..."),Ie+=`;max-age=120;path=${st()};`,Ie+=(oe?"secure;":"")+"samesite=strict",document.cookie=Ie,(0,y.Rm)("WS","Cookies:",[document.cookie,Ie])),(0,y.Rm)("WS",`Creating websocket connection to ws${oe?"s":""}://${(0,P.Hc)()}${st()}`),(0,B.K)({url:Ee,serializer:Te=>"object"==typeof Te?JSON.stringify(Te):Te,deserializer:Te=>{let Ge=Te.data;if("pong"===Ge)return Ge;try{return JSON.parse(Te.data)}catch{return Ge}}})}(),X?((0,y.Rm)("WS(Debug)","Authority:",[(0,P.ku)()]),(0,y.Rm)("WS","Connecting to websocket..."),X.subscribe(ne=>{Ot.getValue()||((0,y.Rm)("WS","Connection established."),Ee()),Ot.next(!0),Ce=0,pn(),Kt(ne)},ne=>{X=void 0,be=null,hn(),pn(),function dn(oe){Ot.next(!1),(0,y.Rm)("WS","Websocket error:",oe,void 0,"error"),401===oe.status&&(0,P.XT)(),(0,P.Xd)(),$t()}(ne)},()=>{X=void 0,be=null,hn(),(0,y.Rm)("WS","Connection closed by browser."),Ot.next(!1),$t()}),ve&&clearInterval(ve),me=Date.now(),kt(),ve=setInterval(()=>kt(),1e3*k),pn(),fe+=1,ue=setTimeout(()=>{(0,y.Rm)("WS","Unhealthy connection. Reconnecting..."),Ot.next(!1),be=null,$t()},3e4)):(X?(0,y.Rm)("WS",`Waiting on auth(${oe}). Retrying in ${1e3*Math.min(10,oe+1)}ms...`,[!!(0,P.Sh)(),!!(0,P.ku)()],"info"):(0,y.Rm)("WS",`Failed to create websocket(${oe}). Retrying in ${1e3*Math.min(10,oe+1)}ms...`,void 0,"error"),setTimeout(()=>{be=null,ft(oe).then(ne=>Ee(ne))},1e3*Math.min(10,++oe)))})),be}function $t(){rt.next([fe,Date.now()-vt]),X&&ht()&&(X.complete(),ve&&(clearInterval(ve),ve=void 0)),(0,y.Rm)("WS",`Reconnecting in ${Math.min(5e3,300*Ce||1e3)}ms...`),(0,ee.wR)("reconnect",()=>ft(),Math.min(5e3,300*(Ce+1)||1e3))}function kt(){if(Date.now()-me>4*k*1e3)return $t();X?.next("ping")}function pn(){ue&&(clearTimeout(ue),ue=void 0)}function hn(){for(const oe in Me)Me[oe]&&delete Me[oe]}Ct._place_os_debug_events=Et.asObservable();var Sn=a(1635),Lt=a(522),at=function(oe){return oe[oe.NONE=0]="NONE",oe[oe.BIND=1]="BIND",oe[oe.UNBIND=2]="UNBIND",oe}(at||{});class ct{constructor(Ee,ne){this._module=Ee,this._pending=at.NONE,this._binding_count=0,this._stale_bindings=0,this.name=ne,function Vt(){return Ct._place_os_status}().pipe((0,Lt.F)()).subscribe(Ie=>{Ie&&(this._stale_bindings||this._pending===at.BIND)?((0,y.Rm)("VAR","Re-binding to status variable",this.binding()),this.rebind()):Ie||((0,ee.bt)(`rebind:${JSON.stringify(this.binding())}`),(0,y.Rm)("VAR","Binding dropped due to disconnection, re-binding when possible.",this.binding()),this._stale_bindings=this._binding_count||this._stale_bindings,this._binding_count=0)})}get count(){return this._binding_count}get value(){return function ot(oe,Ee=Ze){const ne=`${oe.sys}|${oe.mod}_${oe.index}|${oe.name}`;if(Ee[ne])return Ee[ne].getValue()}(this.binding())}listen(){return function gt(oe,Ee=Ze,ne=Ct){const Ie=`${oe.sys}|${oe.mod}_${oe.index}|${oe.name}`;return Ee[Ie]||(Ee[Ie]=new U.t(void 0),ne[Ie]=Ee[Ie].asObservable()),ne[Ie]}(this.binding())}bind(){return(this._binding_count<=0&&this._stale_bindings<=0||this._pending===at.UNBIND)&&(this._pending=at.BIND,ae(this.binding()).then(()=>{this._binding_count++,this._pending=at.NONE}).catch(()=>null)),()=>this.unbind()}unbind(){1===this._binding_count&&this._pending===at.NONE?(this._pending=at.UNBIND,function Oe(oe,Ee=0,ne=Gt){return ne(Object.assign({id:++J,cmd:"unbind"},oe),Ee)}(this.binding()).then(()=>{this._pending===at.UNBIND&&(this._pending=at.NONE),this._binding_count--})):this._binding_count=Math.max(this._binding_count-1,0)}rebind(){return(0,Sn.sH)(this,void 0,void 0,function*(){!this._stale_bindings&&this._pending!==at.BIND||(0,ee.wR)(`rebind:${JSON.stringify(this.binding())}`,()=>(0,Sn.sH)(this,void 0,void 0,function*(){yield ae(this.binding()),this._binding_count=this._stale_bindings||1,this._stale_bindings=0}),100)})}binding(){return{sys:this._module.system.id,mod:this._module.name,index:this._module.index,name:this.name}}}class Xe{constructor(Ee,ne){this._system=Ee,this._id=ne,this._bindings={}}get id(){return`${this.name}_${this.index}`}get system(){return this._system}get index(){const ne=this._id.split("_").pop();return parseInt(ne||"",10)||1}get name(){const Ee=this._id.split("_");return Ee.pop(),Ee.join("_")}binding(Ee){return this._bindings[Ee]||(this._bindings[Ee]=new ct(this,Ee)),this._bindings[Ee]}execute(Ee,ne,Ie=$e){return function Le(oe,Ee=$e,ne=Gt){return ne(Object.assign({id:++J,cmd:"exec"},oe),Ee)}({sys:this._system.id,mod:this.name,index:this.index,name:Ee,args:ne},Ie)}}class Qe{constructor(Ee){this._module_list={},this.id=Ee}module(Ee,ne=1){if(!Ee)throw new Error("Invalid module ID");const Ie=Ee.split("_");Ie.length>1&&Number.isInteger(+Ie[Ie.length-1])&&(ne=+Ie[Ie.length-1],Ie.pop()),ne<1&&(ne=1);const Te=Ie.join("_");for(this._module_list[Te]||(this._module_list[Te]=[]);this._module_list[Te].length<ne;)this._module_list[Te].push(new Xe(this,`${Te}_${this._module_list[Te].length+1}`));return this._module_list[Te][ne-1]}}const Bt={};function Be(oe,Ee,ne=1){return function Xt(oe){return Bt[oe]||(Bt[oe]=new Qe(oe)),Bt[oe]}(oe).module(Ee,ne)}},19:(Mt,pe,a)=>{"use strict";a.d(pe,{H:()=>d,f:()=>i});var e=a(5987),i=function(p){return p[p.Default=0]="Default",p[p.Cut=1]="Cut",p[p.CrossFade=2]="CrossFade",p[p.SlideTop=3]="SlideTop",p[p.SlideLeft=4]="SlideLeft",p[p.SlideRight=5]="SlideRight",p[p.SlideBottom=6]="SlideBottom",p}(i||{});class d{get media_url(){return this.media_id?`/api/engine/v2/uploads/${this.media_id}/url`:this.media_uri}get thumbnail_url(){return`/api/engine/v2/uploads/${this.thumbnail_id}/url`}constructor(m){this.id=m.id||"",this.created_at=m.created_at||(0,e._)(Date.now()),this.updated_at=m.updated_at||(0,e._)(Date.now()),this.name=m.name||"",this.description=m.description||"",this.authority_id=m.authority_id||"",this.start_time=m.start_time||0,this.play_time=m.play_time||0,this.video_length=m.video_length||0,this.animation=m.animation,this.media_type=m.media_type||"unknown",this.orientation=m.orientation||"unspecified",this.media_uri=m.media_uri||"",this.media_id=m.media_id||"",this.thumbnail_id=m.thumbnail_id||"",this.play_count=m.play_count||0,this.valid_from=m.valid_from,this.valid_until=m.valid_until}}},7394:(Mt,pe,a)=>{"use strict";a.d(pe,{Af:()=>b,Il:()=>_,V0:()=>S,sr:()=>u});var e=a(5006),i=a(9127),d=a(4901);class p{constructor(E){this.id=E.id||0,this.title=E.title||"",this.description=E.description||"",this.type=E.type||"",this.options=E.options||{},this.required=E.required||!1,this.max_rating=E.max_rating||0,this.choices=E.choices||[],this.tags=E.tags||[],this.deleted=E.deleted||!1}}const m="/api/staff/v1/surveys/questions";function _(D={}){const E=(0,d.z)(D);return(0,i.JtY)(`${m}${E?"?"+E:""}`).pipe((0,e.T)(A=>A.map(v=>new p(v))))}function b(D){return(0,i.bEY)(`${m}`,D).pipe((0,e.T)(E=>new p(E)))}function u(D,E,A="patch"){return("put"===A?i.yJg:i.F6F)(`${m}/${D}`,E).pipe((0,e.T)(v=>new p(v)))}function S(D,E={}){const A=(0,d.z)(E);return(0,i.yHY)(`${m}/${D}${A?"?"+A:""}`)}},4901:(Mt,pe,a)=>{"use strict";function e(i){let d="";if(i)for(const p in i)i.hasOwnProperty(p)&&null!=i[p]&&(d+=`${d?"&":""}${p}=${encodeURIComponent(i[p])}`);return d}a.d(pe,{z:()=>e})},2773:(Mt,pe,a)=>{"use strict";a.d(pe,{bt:()=>_,wR:()=>m});const e={};function m(D,E,A=300){if(!(D&&E&&E instanceof Function))throw new Error(D?"Cannot create named timeout without a name":"Cannot create a timeout without a callback");_(D),e[D]=setTimeout(()=>{E(),delete e[D]},A)}function _(D){e[D]&&(clearTimeout(e[D]),delete e[D])}},7409:(Mt,pe,a)=>{"use strict";function e(v,O,z,G="debug",K){if(window.debug){const H=["color: #0288D1",`color:${K||"#009688"}`,"color: default"];z?i()?console[G](`%c[PlaceOS]%c[${v}] %c${O}`,...H,z):console[G](`[PlaceOS][${v}] ${O}`,z):i()?console[G](`%c[PlaceOS]%c[${v}] %c${O}`,...H):console[G](`[PlaceOS][${v}] ${O}`)}}function i(){return!(document.documentMode||/Edge/.test(navigator.userAgent))}function d(){var v,O,z,G,K,F;const H=null!==(v=window.location)&&void 0!==v&&v.hash?null===(O=window.location)||void 0===O?void 0:O.hash.slice(1):(null===(z=window.location)||void 0===z?void 0:z.href.split("#")[1])||"";let Y=null!==(G=window.location)&&void 0!==G&&G.search?null===(K=window.location)||void 0===K?void 0:K.search.slice(1):(null===(F=window.location)||void 0===F?void 0:F.href.split("?")[1])||"",P={};if(H)if(H.indexOf("?")>=0){const $=H.split("?");P=p($[0]),Y||(Y=$[1])}else P=p(H);let U={};return Y&&(U=p(Y)),Object.assign(Object.assign({},P),U)}function p(v){const O={},z=v.split("&");for(const G of z){const K=G.split("=");K[1]&&(O[decodeURIComponent(K[0])]=decodeURIComponent(K[1]))}return O}a.d(pe,{$I:()=>E,Gb:()=>A,HQ:()=>D,No:()=>u,Rm:()=>e,WM:()=>d,jb:()=>g,jv:()=>S,n3:()=>_,om:()=>p});const m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function _(v=40){let O="";for(let z=0;z<v;z++)O+=m.charAt(Math.floor(Math.random()*m.length));return O}function g(v){var O,z,G,K,F;const H=((null===(O=window.location)||void 0===O?void 0:O.hash)||"").replace(new RegExp(`${v}[a-zA-Z0-9_+-.%=]*&?`,"g"),"").replace(/&&/g,"&").replace(/#&/g,"#").replace(/&$/g,"#"),Y=((null===(z=window.location)||void 0===z?void 0:z.search)||"").replace(new RegExp(`${v}[a-zA-Z0-9_+-.%=]*&?`,"g"),"").replace(/&&/g,"&").replace(/\?&/g,"#").replace(/&$/g,"#");null!==(G=window.history)&&void 0!==G&&G.replaceState&&(null===(K=window.history)||void 0===K||K.replaceState(null,"",`${null===(F=window.location)||void 0===F?void 0:F.pathname}${H}${Y}`))}function u(v){if(0===v.length)throw new Error("Input must not be of zero length");const O=v.split(","),z={};for(const G of O){const K=G.split(";");if(2!==K.length)throw new Error("Section could not be split on ';'");const F=K[0].replace(/<(.*)>/,"$1").trim();z[K[1].replace(/rel="(.*)"/,"$1").trim()]=F}return z}function S(v,O){for(const z in v)v.hasOwnProperty(z)&&O.indexOf(v[z])>=0&&delete v[z];return v}function D(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function E(){return window.location!==window.parent.location}function A(v=Date.now(),O=6e4){return Math.floor(v/O)}},2727:(Mt,pe,a)=>{"use strict";function O(F,H){return function d(F,H){F=F||[],"string"==typeof(H=H||{})&&(H={type:H});try{return new Blob(F,H)}catch($){if("TypeError"!==$.name)throw $;for(var P=new(typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder),U=0;U<F.length;U+=1)P.append(F[U]);return P.getBlob(H.type)}}([F],H)}a.d(pe,{Ot:()=>O})},993:(Mt,pe)=>{"use strict";pe.if=p,pe.Kp=function m(b){if(b.length%4!=0)throw new Error("Unable to parse base64 string.");var u=b.indexOf("=");if(-1!==u&&u<b.length-2)throw new Error("Unable to parse base64 string.");for(var A,S=b.endsWith("==")?2:b.endsWith("=")?1:0,D=b.length,E=new Uint8Array(D/4*3),v=0,O=0;v<D;v+=4,O+=3)A=d(b.charCodeAt(v))<<18|d(b.charCodeAt(v+1))<<12|d(b.charCodeAt(v+2))<<6|d(b.charCodeAt(v+3)),E[O]=A>>16,E[O+1]=A>>8&255,E[O+2]=255&A;return E.subarray(0,E.length-S)},pe.Cw=function _(b){return p((arguments.length>1&&void 0!==arguments[1]?arguments[1]:new TextEncoder).encode(b))};var e=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],i=[255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];function d(b){if(b>=i.length)throw new Error("Unable to parse base64 string.");var u=i[b];if(255===u)throw new Error("Unable to parse base64 string.");return u}function p(b){var S,u="",D=b.length;for(S=2;S<D;S+=3)u+=e[b[S-2]>>2],u+=e[(3&b[S-2])<<4|b[S-1]>>4],u+=e[(15&b[S-1])<<2|b[S]>>6],u+=e[63&b[S]];return S===D+1&&(u+=e[b[S-2]>>2],u+=e[(3&b[S-2])<<4],u+="=="),S===D&&(u+=e[b[S-2]>>2],u+=e[(3&b[S-2])<<4|b[S-1]>>4],u+=e[(15&b[S-1])<<2],u+="="),u}},8655:Mt=>{var pe=-1,a=1,e=0;function i(y,I,w,L,Q){if(y===I)return y?[[e,y]]:[];if(null!=w){var te=function $(y,I,w){var L="number"==typeof w?{index:w,length:0}:w.oldRange,Q="number"==typeof w?null:w.newRange,te=y.length,R=I.length;if(0===L.length&&(null===Q||0===Q.length)){var ee=L.index,k=y.slice(0,ee),J=y.slice(ee),X=Q?Q.index:null,fe=ee+R-te;if(!(null!==X&&X!==fe||fe<0||fe>R)){var Me=I.slice(0,fe);if((Ze=I.slice(fe))===J){var Ct=Math.min(ee,fe);if((lt=k.slice(0,Ct))===(Ot=Me.slice(0,Ct)))return U(lt,k.slice(Ct),Me.slice(Ct),J)}}if(null===X||X===ee){var ve=ee,Ze=(Me=I.slice(0,ve),I.slice(ve));if(Me===k){var Ce=Math.min(te-ve,R-ve);if((be=J.slice(J.length-Ce))===(ue=Ze.slice(Ze.length-Ce)))return U(k,J.slice(0,J.length-Ce),Ze.slice(0,Ze.length-Ce),be)}}}if(L.length>0&&Q&&0===Q.length){var lt=y.slice(0,L.index),be=y.slice(L.index+L.length);if(!(R<(Ct=lt.length)+(Ce=be.length))){var Ot=I.slice(0,Ct),ue=I.slice(R-Ce);if(lt===Ot&&be===ue)return U(lt,y.slice(Ct,te-Ce),I.slice(Ct,R-Ce),be)}}return null}(y,I,w);if(te)return te}var R=_(y,I),ee=y.substring(0,R);R=b(y=y.substring(R),I=I.substring(R));var k=y.substring(y.length-R),J=function d(y,I){var w;if(!y)return[[a,I]];if(!I)return[[pe,y]];var L=y.length>I.length?y:I,Q=y.length>I.length?I:y,te=L.indexOf(Q);if(-1!==te)return w=[[a,L.substring(0,te)],[e,Q],[a,L.substring(te+Q.length)]],y.length>I.length&&(w[0][0]=w[2][0]=pe),w;if(1===Q.length)return[[pe,y],[a,I]];var R=function u(y,I){var w=y.length>I.length?y:I,L=y.length>I.length?I:y;if(w.length<4||2*L.length<w.length)return null;function Q(Ze,Ct,lt){for(var ve,Ce,be,ue,Ot=Ze.substring(lt,lt+Math.floor(Ze.length/4)),rt=-1,vt="";-1!==(rt=Ct.indexOf(Ot,rt+1));){var me=_(Ze.substring(lt),Ct.substring(rt)),$e=b(Ze.substring(0,lt),Ct.substring(0,rt));vt.length<$e+me&&(vt=Ct.substring(rt-$e,rt)+Ct.substring(rt,rt+me),ve=Ze.substring(0,lt-$e),Ce=Ze.substring(lt+me),be=Ct.substring(0,rt-$e),ue=Ct.substring(rt+me))}return 2*vt.length>=Ze.length?[ve,Ce,be,ue,vt]:null}var ee,k,J,X,fe,te=Q(w,L,Math.ceil(w.length/4)),R=Q(w,L,Math.ceil(w.length/2));return te||R?(ee=R?te&&te[4].length>R[4].length?te:R:te,y.length>I.length?(k=ee[0],J=ee[1],X=ee[2],fe=ee[3]):(X=ee[0],fe=ee[1],k=ee[2],J=ee[3]),[k,J,X,fe,ee[4]]):null}(y,I);if(R){var k=R[1],X=R[3],fe=R[4],Me=i(R[0],R[2]),Ze=i(k,X);return Me.concat([[e,fe]],Ze)}return function p(y,I){for(var w=y.length,L=I.length,Q=Math.ceil((w+L)/2),te=Q,R=2*Q,ee=new Array(R),k=new Array(R),J=0;J<R;J++)ee[J]=-1,k[J]=-1;ee[te+1]=0,k[te+1]=0;for(var X=w-L,fe=X%2!=0,Me=0,Ze=0,Ct=0,lt=0,Ot=0;Ot<Q;Ot++){for(var rt=-Ot+Me;rt<=Ot-Ze;rt+=2){for(var vt=te+rt,Ce=(ve=rt===-Ot||rt!==Ot&&ee[vt-1]<ee[vt+1]?ee[vt+1]:ee[vt-1]+1)-rt;ve<w&&Ce<L&&y.charAt(ve)===I.charAt(Ce);)ve++,Ce++;if(ee[vt]=ve,ve>w)Ze+=2;else if(Ce>L)Me+=2;else if(fe&&(be=te+X-rt)>=0&&be<R&&-1!==k[be]&&ve>=(ue=w-k[be]))return m(y,I,ve,Ce)}for(var me=-Ot+Ct;me<=Ot-lt;me+=2){for(var ue,be=te+me,$e=(ue=me===-Ot||me!==Ot&&k[be-1]<k[be+1]?k[be+1]:k[be-1]+1)-me;ue<w&&$e<L&&y.charAt(w-ue-1)===I.charAt(L-$e-1);)ue++,$e++;if(k[be]=ue,ue>w)lt+=2;else if($e>L)Ct+=2;else if(!fe){var ve;if((vt=te+X-me)>=0&&vt<R&&-1!==ee[vt])if(Ce=te+(ve=ee[vt])-vt,ve>=(ue=w-ue))return m(y,I,ve,Ce)}}}return[[pe,y],[a,I]]}(y,I)}(y=y.substring(0,y.length-R),I=I.substring(0,I.length-R));return ee&&J.unshift([e,ee]),k&&J.push([e,k]),G(J,Q),L&&function S(y){for(var I=!1,w=[],L=0,Q=null,te=0,R=0,ee=0,k=0,J=0;te<y.length;)y[te][0]==e?(w[L++]=te,R=k,ee=J,k=0,J=0,Q=y[te][1]):(y[te][0]==a?k+=y[te][1].length:J+=y[te][1].length,Q&&Q.length<=Math.max(R,ee)&&Q.length<=Math.max(k,J)&&(y.splice(w[L-1],0,[pe,Q]),y[w[L-1]+1][0]=a,L--,te=--L>0?w[L-1]:-1,R=0,ee=0,k=0,J=0,Q=null,I=!0)),te++;for(I&&G(y),function z(y){function I(Ze,Ct){if(!Ze||!Ct)return 6;var lt=Ze.charAt(Ze.length-1),Ot=Ct.charAt(0),rt=lt.match(D),vt=Ot.match(D),ve=rt&&lt.match(E),Ce=vt&&Ot.match(E),be=ve&&lt.match(A),ue=Ce&&Ot.match(A),me=be&&Ze.match(v),$e=ue&&Ct.match(O);return me||$e?5:be||ue?4:rt&&!ve&&Ce?3:ve||Ce?2:rt||vt?1:0}for(var w=1;w<y.length-1;){if(y[w-1][0]==e&&y[w+1][0]==e){var L=y[w-1][1],Q=y[w][1],te=y[w+1][1],R=b(L,Q);if(R){var ee=Q.substring(Q.length-R);L=L.substring(0,L.length-R),Q=ee+Q.substring(0,Q.length-R),te=ee+te}for(var k=L,J=Q,X=te,fe=I(L,Q)+I(Q,te);Q.charAt(0)===te.charAt(0);){L+=Q.charAt(0),Q=Q.substring(1)+te.charAt(0),te=te.substring(1);var Me=I(L,Q)+I(Q,te);Me>=fe&&(fe=Me,k=L,J=Q,X=te)}y[w-1][1]!=k&&(k?y[w-1][1]=k:(y.splice(w-1,1),w--),y[w][1]=J,X?y[w+1][1]=X:(y.splice(w+1,1),w--))}w++}}(y),te=1;te<y.length;){if(y[te-1][0]==pe&&y[te][0]==a){var X=y[te-1][1],fe=y[te][1],Me=g(X,fe),Ze=g(fe,X);Me>=Ze?(Me>=X.length/2||Me>=fe.length/2)&&(y.splice(te,0,[e,fe.substring(0,Me)]),y[te-1][1]=X.substring(0,X.length-Me),y[te+1][1]=fe.substring(Me),te++):(Ze>=X.length/2||Ze>=fe.length/2)&&(y.splice(te,0,[e,X.substring(0,Ze)]),y[te-1][0]=a,y[te-1][1]=fe.substring(0,fe.length-Ze),y[te+1][0]=pe,y[te+1][1]=X.substring(Ze),te++),te++}te++}}(J),J}function m(y,I,w,L){var Q=y.substring(0,w),te=I.substring(0,L),R=y.substring(w),ee=I.substring(L),k=i(Q,te),J=i(R,ee);return k.concat(J)}function _(y,I){if(!y||!I||y.charAt(0)!==I.charAt(0))return 0;for(var w=0,L=Math.min(y.length,I.length),Q=L,te=0;w<Q;)y.substring(te,Q)==I.substring(te,Q)?te=w=Q:L=Q,Q=Math.floor((L-w)/2+w);return K(y.charCodeAt(Q-1))&&Q--,Q}function g(y,I){var w=y.length,L=I.length;if(0==w||0==L)return 0;w>L?y=y.substring(w-L):w<L&&(I=I.substring(0,w));var Q=Math.min(w,L);if(y==I)return Q;for(var te=0,R=1;;){var ee=y.substring(Q-R),k=I.indexOf(ee);if(-1==k)return te;R+=k,(0==k||y.substring(Q-R)==I.substring(0,R))&&(te=R,R++)}}function b(y,I){if(!y||!I||y.slice(-1)!==I.slice(-1))return 0;for(var w=0,L=Math.min(y.length,I.length),Q=L,te=0;w<Q;)y.substring(y.length-Q,y.length-te)==I.substring(I.length-Q,I.length-te)?te=w=Q:L=Q,Q=Math.floor((L-w)/2+w);return F(y.charCodeAt(y.length-Q))&&Q--,Q}var D=/[^a-zA-Z0-9]/,E=/\s/,A=/[\r\n]/,v=/\n\r?\n$/,O=/^\r?\n\r?\n/;function G(y,I){y.push([e,""]);for(var ee,w=0,L=0,Q=0,te="",R="";w<y.length;)if(w<y.length-1&&!y[w][1])y.splice(w,1);else switch(y[w][0]){case a:Q++,R+=y[w][1],w++;break;case pe:L++,te+=y[w][1],w++;break;case e:var k=w-Q-L-1;if(I){if(k>=0&&Y(y[k][1])){var J=y[k][1].slice(-1);if(y[k][1]=y[k][1].slice(0,-1),te=J+te,R=J+R,!y[k][1]){y.splice(k,1),w--;var X=k-1;y[X]&&y[X][0]===a&&(Q++,R=y[X][1]+R,X--),y[X]&&y[X][0]===pe&&(L++,te=y[X][1]+te,X--),k=X}}H(y[w][1])&&(J=y[w][1].charAt(0),y[w][1]=y[w][1].slice(1),te+=J,R+=J)}if(w<y.length-1&&!y[w][1]){y.splice(w,1);break}if(te.length>0||R.length>0){te.length>0&&R.length>0&&(0!==(ee=_(R,te))&&(k>=0?y[k][1]+=R.substring(0,ee):(y.splice(0,0,[e,R.substring(0,ee)]),w++),R=R.substring(ee),te=te.substring(ee)),0!==(ee=b(R,te))&&(y[w][1]=R.substring(R.length-ee)+y[w][1],R=R.substring(0,R.length-ee),te=te.substring(0,te.length-ee)));var fe=Q+L;0===te.length&&0===R.length?(y.splice(w-fe,fe),w-=fe):0===te.length?(y.splice(w-fe,fe,[a,R]),w=w-fe+1):0===R.length?(y.splice(w-fe,fe,[pe,te]),w=w-fe+1):(y.splice(w-fe,fe,[pe,te],[a,R]),w=w-fe+2)}0!==w&&y[w-1][0]===e?(y[w-1][1]+=y[w][1],y.splice(w,1)):w++,Q=0,L=0,te="",R=""}""===y[y.length-1][1]&&y.pop();var Me=!1;for(w=1;w<y.length-1;)y[w-1][0]===e&&y[w+1][0]===e&&(y[w][1].substring(y[w][1].length-y[w-1][1].length)===y[w-1][1]?(y[w][1]=y[w-1][1]+y[w][1].substring(0,y[w][1].length-y[w-1][1].length),y[w+1][1]=y[w-1][1]+y[w+1][1],y.splice(w-1,1),Me=!0):y[w][1].substring(0,y[w+1][1].length)==y[w+1][1]&&(y[w-1][1]+=y[w+1][1],y[w][1]=y[w][1].substring(y[w+1][1].length)+y[w+1][1],y.splice(w+1,1),Me=!0)),w++;Me&&G(y,I)}function K(y){return y>=55296&&y<=56319}function F(y){return y>=56320&&y<=57343}function H(y){return F(y.charCodeAt(0))}function Y(y){return K(y.charCodeAt(y.length-1))}function U(y,I,w,L){return Y(y)||H(L)?null:function P(y){for(var I=[],w=0;w<y.length;w++)y[w][1].length>0&&I.push(y[w]);return I}([[e,y],[pe,I],[a,w],[e,L]])}function B(y,I,w,L){return i(y,I,w,L,!0)}B.INSERT=a,B.DELETE=pe,B.EQUAL=e,Mt.exports=B},1299:function(Mt,pe,a){var e;!function(){var p={};!function(i){"use strict";i.__esModule=!0,i.digestLength=32,i.blockSize=64;var d=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function p(A,v,O,z,G){for(var K,F,H,Y,P,U,$,B,y,I,w,L,Q;G>=64;){for(K=v[0],F=v[1],H=v[2],Y=v[3],P=v[4],U=v[5],$=v[6],B=v[7],I=0;I<16;I++)A[I]=(255&O[w=z+4*I])<<24|(255&O[w+1])<<16|(255&O[w+2])<<8|255&O[w+3];for(I=16;I<64;I++)A[I]=((L=((y=A[I-2])>>>17|y<<15)^(y>>>19|y<<13)^y>>>10)+A[I-7]|0)+((Q=((y=A[I-15])>>>7|y<<25)^(y>>>18|y<<14)^y>>>3)+A[I-16]|0);for(I=0;I<64;I++)L=(((P>>>6|P<<26)^(P>>>11|P<<21)^(P>>>25|P<<7))+(P&U^~P&$)|0)+(B+(d[I]+A[I]|0)|0)|0,Q=((K>>>2|K<<30)^(K>>>13|K<<19)^(K>>>22|K<<10))+(K&F^K&H^F&H)|0,B=$,$=U,U=P,P=Y+L|0,Y=H,H=F,F=K,K=L+Q|0;v[0]+=K,v[1]+=F,v[2]+=H,v[3]+=Y,v[4]+=P,v[5]+=U,v[6]+=$,v[7]+=B,z+=64,G-=64}return z}var m=function(){function A(){this.digestLength=i.digestLength,this.blockSize=i.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return A.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},A.prototype.clean=function(){for(var v=0;v<this.buffer.length;v++)this.buffer[v]=0;for(v=0;v<this.temp.length;v++)this.temp[v]=0;this.reset()},A.prototype.update=function(v,O){if(void 0===O&&(O=v.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var z=0;if(this.bytesHashed+=O,this.bufferLength>0){for(;this.bufferLength<64&&O>0;)this.buffer[this.bufferLength++]=v[z++],O--;64===this.bufferLength&&(p(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(O>=64&&(z=p(this.temp,this.state,v,z,O),O%=64);O>0;)this.buffer[this.bufferLength++]=v[z++],O--;return this},A.prototype.finish=function(v){if(!this.finished){var O=this.bytesHashed,z=this.bufferLength,G=O/536870912|0,K=O<<3,F=O%64<56?64:128;this.buffer[z]=128;for(var H=z+1;H<F-8;H++)this.buffer[H]=0;this.buffer[F-8]=G>>>24&255,this.buffer[F-7]=G>>>16&255,this.buffer[F-6]=G>>>8&255,this.buffer[F-5]=G>>>0&255,this.buffer[F-4]=K>>>24&255,this.buffer[F-3]=K>>>16&255,this.buffer[F-2]=K>>>8&255,this.buffer[F-1]=K>>>0&255,p(this.temp,this.state,this.buffer,0,F),this.finished=!0}for(H=0;H<8;H++)v[4*H+0]=this.state[H]>>>24&255,v[4*H+1]=this.state[H]>>>16&255,v[4*H+2]=this.state[H]>>>8&255,v[4*H+3]=this.state[H]>>>0&255;return this},A.prototype.digest=function(){var v=new Uint8Array(this.digestLength);return this.finish(v),v},A.prototype._saveState=function(v){for(var O=0;O<this.state.length;O++)v[O]=this.state[O]},A.prototype._restoreState=function(v,O){for(var z=0;z<this.state.length;z++)this.state[z]=v[z];this.bytesHashed=O,this.finished=!1,this.bufferLength=0},A}();i.Hash=m;var _=function(){function A(v){this.inner=new m,this.outer=new m,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var O=new Uint8Array(this.blockSize);if(v.length>this.blockSize)(new m).update(v).finish(O).clean();else for(var z=0;z<v.length;z++)O[z]=v[z];for(z=0;z<O.length;z++)O[z]^=54;for(this.inner.update(O),z=0;z<O.length;z++)O[z]^=106;for(this.outer.update(O),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate),z=0;z<O.length;z++)O[z]=0}return A.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},A.prototype.clean=function(){for(var v=0;v<this.istate.length;v++)this.ostate[v]=this.istate[v]=0;this.inner.clean(),this.outer.clean()},A.prototype.update=function(v){return this.inner.update(v),this},A.prototype.finish=function(v){return this.outer.finished?this.outer.finish(v):(this.inner.finish(v),this.outer.update(v,this.digestLength).finish(v)),this},A.prototype.digest=function(){var v=new Uint8Array(this.digestLength);return this.finish(v),v},A}();function g(A){var v=(new m).update(A),O=v.digest();return v.clean(),O}function b(A,v){var O=new _(A).update(v),z=O.digest();return O.clean(),z}function u(A,v,O,z){var G=z[0];if(0===G)throw new Error("hkdf: cannot expand more");v.reset(),G>1&&v.update(A),O&&v.update(O),v.update(z),v.finish(A),z[0]++}i.HMAC=_,i.hash=g,i.default=g,i.hmac=b;var S=new Uint8Array(i.digestLength);i.hkdf=function D(A,v,O,z){void 0===v&&(v=S),void 0===z&&(z=32);for(var G=new Uint8Array([1]),K=b(v,A),F=new _(K),H=new Uint8Array(F.digestLength),Y=H.length,P=new Uint8Array(z),U=0;U<z;U++)Y===H.length&&(u(H,F,O,G),Y=0),P[U]=H[Y++];return F.clean(),H.fill(0),G.fill(0),P},i.pbkdf2=function E(A,v,O,z){for(var G=new _(A),K=G.digestLength,F=new Uint8Array(4),H=new Uint8Array(K),Y=new Uint8Array(K),P=new Uint8Array(z),U=0;U*K<z;U++){var $=U+1;F[0]=$>>>24&255,F[1]=$>>>16&255,F[2]=$>>>8&255,F[3]=$>>>0&255,G.reset(),G.update(v),G.update(F),G.finish(Y);for(var B=0;B<K;B++)H[B]=Y[B];for(B=2;B<=O;B++){G.reset(),G.update(Y).finish(Y);for(var y=0;y<K;y++)H[y]^=Y[y]}for(B=0;B<K&&U*K+B<z;B++)P[U*K+B]=H[B]}for(U=0;U<K;U++)H[U]=Y[U]=0;for(U=0;U<4;U++)F[U]=0;return G.clean(),P}}(p);var m=p.default;for(var _ in p)m[_]=p[_];"object"==typeof Mt.exports?Mt.exports=m:void 0!==(e=function(){return m}.call(p,a,p,Mt))&&(Mt.exports=e)}()},5947:(Mt,pe,a)=>{Mt=a.nmd(Mt);var i="__lodash_hash_undefined__",d=9007199254740991,p="[object Arguments]",_="[object Boolean]",g="[object Date]",u="[object Function]",S="[object GeneratorFunction]",D="[object Map]",E="[object Number]",A="[object Object]",v="[object Promise]",O="[object RegExp]",z="[object Set]",G="[object String]",K="[object Symbol]",F="[object WeakMap]",H="[object ArrayBuffer]",Y="[object DataView]",P="[object Float32Array]",U="[object Float64Array]",$="[object Int8Array]",B="[object Int16Array]",y="[object Int32Array]",I="[object Uint8Array]",w="[object Uint8ClampedArray]",L="[object Uint16Array]",Q="[object Uint32Array]",R=/\w*$/,ee=/^\[object .+?Constructor\]$/,k=/^(?:0|[1-9]\d*)$/,J={};J[p]=J["[object Array]"]=J[H]=J[Y]=J[_]=J[g]=J[P]=J[U]=J[$]=J[B]=J[y]=J[D]=J[E]=J[A]=J[O]=J[z]=J[G]=J[K]=J[I]=J[w]=J[L]=J[Q]=!0,J["[object Error]"]=J[u]=J[F]=!1;var X="object"==typeof global&&global&&global.Object===Object&&global,fe="object"==typeof self&&self&&self.Object===Object&&self,Me=X||fe||Function("return this")(),Ze=pe&&!pe.nodeType&&pe,Ct=Ze&&Mt&&!Mt.nodeType&&Mt,lt=Ct&&Ct.exports===Ze;function Ot(Re,wt){return Re.set(wt[0],wt[1]),Re}function rt(Re,wt){return Re.add(wt),Re}function Ce(Re,wt,ln,xn){var Ei=-1,pi=Re?Re.length:0;for(xn&&pi&&(ln=Re[++Ei]);++Ei<pi;)ln=wt(ln,Re[Ei],Ei,Re);return ln}function me(Re){var wt=!1;if(null!=Re&&"function"!=typeof Re.toString)try{wt=!!(Re+"")}catch{}return wt}function $e(Re){var wt=-1,ln=Array(Re.size);return Re.forEach(function(xn,Ei){ln[++wt]=[Ei,xn]}),ln}function Et(Re,wt){return function(ln){return Re(wt(ln))}}function Ve(Re){var wt=-1,ln=Array(Re.size);return Re.forEach(function(xn){ln[++wt]=xn}),ln}var Re,st=Array.prototype,ht=Function.prototype,Vt=Object.prototype,qe=Me["__core-js_shared__"],gt=(Re=/[^.]+$/.exec(qe&&qe.keys&&qe.keys.IE_PROTO||""))?"Symbol(src)_1."+Re:"",ot=ht.toString,ae=Vt.hasOwnProperty,Oe=Vt.toString,Le=RegExp("^"+ot.call(ae).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pe=lt?Me.Buffer:void 0,_t=Me.Symbol,Gt=Me.Uint8Array,Kt=Et(Object.getPrototypeOf,Object),vn=Object.create,Ft=Vt.propertyIsEnumerable,_n=st.splice,ft=Object.getOwnPropertySymbols,pt=Pe?Pe.isBuffer:void 0,$t=Et(Object.keys,Object),kt=Ni(Me,"DataView"),dn=Ni(Me,"Map"),pn=Ni(Me,"Promise"),un=Ni(Me,"Set"),an=Ni(Me,"WeakMap"),hn=Ni(Object,"create"),Sn=Zs(kt),Lt=Zs(dn),at=Zs(pn),ct=Zs(un),Xe=Zs(an),Qe=_t?_t.prototype:void 0,Bt=Qe?Qe.valueOf:void 0;function Xt(Re){var wt=-1,ln=Re?Re.length:0;for(this.clear();++wt<ln;){var xn=Re[wt];this.set(xn[0],xn[1])}}function Te(Re){var wt=-1,ln=Re?Re.length:0;for(this.clear();++wt<ln;){var xn=Re[wt];this.set(xn[0],xn[1])}}function xt(Re){var wt=-1,ln=Re?Re.length:0;for(this.clear();++wt<ln;){var xn=Re[wt];this.set(xn[0],xn[1])}}function Qn(Re){this.__data__=new Te(Re)}function dt(Re,wt,ln){var xn=Re[wt];(!ae.call(Re,wt)||!io(xn,ln)||void 0===ln&&!(wt in Re))&&(Re[wt]=ln)}function Pt(Re,wt){for(var ln=Re.length;ln--;)if(io(Re[ln][0],wt))return ln;return-1}function Pn(Re,wt,ln,xn,Ei,pi,Ki){var Li;if(xn&&(Li=pi?xn(Re,Ei,pi,Ki):xn(Re)),void 0!==Li)return Li;if(!Bs(Re))return Re;var bs=Pr(Re);if(bs){if(Li=function Gr(Re){var wt=Re.length,ln=Re.constructor(wt);return wt&&"string"==typeof Re[0]&&ae.call(Re,"index")&&(ln.index=Re.index,ln.input=Re.input),ln}(Re),!wt)return function Pi(Re,wt){var ln=-1,xn=Re.length;for(wt||(wt=Array(xn));++ln<xn;)wt[ln]=Re[ln];return wt}(Re,Li)}else{var us=Ai(Re),ks=us==u||us==S;if(Wr(Re))return function Qt(Re,wt){if(wt)return Re.slice();var ln=new Re.constructor(Re.length);return Re.copy(ln),ln}(Re,wt);if(us==A||us==p||ks&&!pi){if(me(Re))return pi?Re:{};if(Li=function Js(Re){return"function"!=typeof Re.constructor||kr(Re)?{}:function Dn(Re){return Bs(Re)?vn(Re):{}}(Kt(Re))}(ks?{}:Re),!wt)return function zi(Re,wt){return Vi(Re,Hs(Re),wt)}(Re,function jt(Re,wt){return Re&&Vi(wt,Br(wt),Re)}(Li,Re))}else{if(!J[us])return pi?Re:{};Li=function Ir(Re,wt,ln,xn){var Ei=Re.constructor;switch(wt){case H:return se(Re);case _:case g:return new Ei(+Re);case Y:return function Ae(Re,wt){var ln=wt?se(Re.buffer):Re.buffer;return new Re.constructor(ln,Re.byteOffset,Re.byteLength)}(Re,xn);case P:case U:case $:case B:case y:case I:case w:case L:case Q:return function hi(Re,wt){var ln=wt?se(Re.buffer):Re.buffer;return new Re.constructor(ln,Re.byteOffset,Re.length)}(Re,xn);case D:return function xe(Re,wt,ln){return Ce(wt?ln($e(Re),!0):$e(Re),Ot,new Re.constructor)}(Re,xn,ln);case E:case G:return new Ei(Re);case O:return function bt(Re){var wt=new Re.constructor(Re.source,R.exec(Re));return wt.lastIndex=Re.lastIndex,wt}(Re);case z:return function Jt(Re,wt,ln){return Ce(wt?ln(Ve(Re),!0):Ve(Re),rt,new Re.constructor)}(Re,xn,ln);case K:return function Bn(Re){return Bt?Object(Bt.call(Re)):{}}(Re)}}(Re,us,Pn,wt)}}Ki||(Ki=new Qn);var sr=Ki.get(Re);if(sr)return sr;if(Ki.set(Re,Li),!bs)var os=ln?function wi(Re){return function yt(Re,wt,ln){var xn=wt(Re);return Pr(Re)?xn:function ve(Re,wt){for(var ln=-1,xn=wt.length,Ei=Re.length;++ln<xn;)Re[Ei+ln]=wt[ln];return Re}(xn,ln(Re))}(Re,Br,Hs)}(Re):Br(Re);return function vt(Re,wt){for(var ln=-1,xn=Re?Re.length:0;++ln<xn&&!1!==wt(Re[ln],ln,Re););}(os||Re,function(qs,Xs){os&&(qs=Re[Xs=qs]),dt(Li,Xs,Pn(qs,wt,ln,xn,Xs,Re,Ki))}),Li}function se(Re){var wt=new Re.constructor(Re.byteLength);return new Gt(wt).set(new Gt(Re)),wt}function Vi(Re,wt,ln,xn){ln||(ln={});for(var Ei=-1,pi=wt.length;++Ei<pi;){var Ki=wt[Ei],Li=xn?xn(ln[Ki],Re[Ki],Ki,ln,Re):void 0;dt(ln,Ki,void 0===Li?Re[Ki]:Li)}return ln}function Ji(Re,wt){var ln=Re.__data__;return function Zr(Re){var wt=typeof Re;return"string"==wt||"number"==wt||"symbol"==wt||"boolean"==wt?"__proto__"!==Re:null===Re}(wt)?ln["string"==typeof wt?"string":"hash"]:ln.map}function Ni(Re,wt){var ln=function ue(Re,wt){return Re?.[wt]}(Re,wt);return function Yt(Re){return!(!Bs(Re)||function bo(Re){return!!gt&&gt in Re}(Re))&&(Ho(Re)||me(Re)?Le:ee).test(Zs(Re))}(ln)?ln:void 0}Xt.prototype.clear=function Be(){this.__data__=hn?hn(null):{}},Xt.prototype.delete=function oe(Re){return this.has(Re)&&delete this.__data__[Re]},Xt.prototype.get=function Ee(Re){var wt=this.__data__;if(hn){var ln=wt[Re];return ln===i?void 0:ln}return ae.call(wt,Re)?wt[Re]:void 0},Xt.prototype.has=function ne(Re){var wt=this.__data__;return hn?void 0!==wt[Re]:ae.call(wt,Re)},Xt.prototype.set=function Ie(Re,wt){return this.__data__[Re]=hn&&void 0===wt?i:wt,this},Te.prototype.clear=function Ge(){this.__data__=[]},Te.prototype.delete=function Ue(Re){var wt=this.__data__,ln=Pt(wt,Re);return!(ln<0||(ln==wt.length-1?wt.pop():_n.call(wt,ln,1),0))},Te.prototype.get=function Fe(Re){var wt=this.__data__,ln=Pt(wt,Re);return ln<0?void 0:wt[ln][1]},Te.prototype.has=function At(Re){return Pt(this.__data__,Re)>-1},Te.prototype.set=function Ke(Re,wt){var ln=this.__data__,xn=Pt(ln,Re);return xn<0?ln.push([Re,wt]):ln[xn][1]=wt,this},xt.prototype.clear=function tn(){this.__data__={hash:new Xt,map:new(dn||Te),string:new Xt}},xt.prototype.delete=function nn(Re){return Ji(this,Re).delete(Re)},xt.prototype.get=function En(Re){return Ji(this,Re).get(Re)},xt.prototype.has=function Un(Re){return Ji(this,Re).has(Re)},xt.prototype.set=function Xn(Re,wt){return Ji(this,Re).set(Re,wt),this},Qn.prototype.clear=function fi(){this.__data__=new Te},Qn.prototype.delete=function Ui(Re){return this.__data__.delete(Re)},Qn.prototype.get=function Ti(Re){return this.__data__.get(Re)},Qn.prototype.has=function Wi(Re){return this.__data__.has(Re)},Qn.prototype.set=function ys(Re,wt){var ln=this.__data__;if(ln instanceof Te){var xn=ln.__data__;if(!dn||xn.length<199)return xn.push([Re,wt]),this;ln=this.__data__=new xt(xn)}return ln.set(Re,wt),this};var Hs=ft?Et(ft,Object):function yo(){return[]},Ai=function zt(Re){return Oe.call(Re)};function no(Re,wt){return!!(wt=wt??d)&&("number"==typeof Re||k.test(Re))&&Re>-1&&Re%1==0&&Re<wt}function kr(Re){var wt=Re&&Re.constructor;return Re===("function"==typeof wt&&wt.prototype||Vt)}function Zs(Re){if(null!=Re){try{return ot.call(Re)}catch{}try{return Re+""}catch{}}return""}function io(Re,wt){return Re===wt||Re!=Re&&wt!=wt}(kt&&Ai(new kt(new ArrayBuffer(1)))!=Y||dn&&Ai(new dn)!=D||pn&&Ai(pn.resolve())!=v||un&&Ai(new un)!=z||an&&Ai(new an)!=F)&&(Ai=function(Re){var wt=Oe.call(Re),ln=wt==A?Re.constructor:void 0,xn=ln?Zs(ln):void 0;if(xn)switch(xn){case Sn:return Y;case Lt:return D;case at:return v;case ct:return z;case Xe:return F}return wt});var Pr=Array.isArray;function Ko(Re){return null!=Re&&function zr(Re){return"number"==typeof Re&&Re>-1&&Re%1==0&&Re<=d}(Re.length)&&!Ho(Re)}var Wr=pt||function Sr(){return!1};function Ho(Re){var wt=Bs(Re)?Oe.call(Re):"";return wt==u||wt==S}function Bs(Re){var wt=typeof Re;return!!Re&&("object"==wt||"function"==wt)}function Br(Re){return Ko(Re)?function wn(Re,wt){var ln=Pr(Re)||function Po(Re){return function so(Re){return function na(Re){return!!Re&&"object"==typeof Re}(Re)&&Ko(Re)}(Re)&&ae.call(Re,"callee")&&(!Ft.call(Re,"callee")||Oe.call(Re)==p)}(Re)?function be(Re,wt){for(var ln=-1,xn=Array(Re);++ln<Re;)xn[ln]=wt(ln);return xn}(Re.length,String):[],xn=ln.length,Ei=!!xn;for(var pi in Re)(wt||ae.call(Re,pi))&&(!Ei||"length"!=pi&&!no(pi,xn))&&ln.push(pi);return ln}(Re):function mt(Re){if(!kr(Re))return $t(Re);var wt=[];for(var ln in Object(Re))ae.call(Re,ln)&&"constructor"!=ln&&wt.push(ln);return wt}(Re)}Mt.exports=function zo(Re){return Pn(Re,!0,!0)}},5667:(Mt,pe,a)=>{Mt=a.nmd(Mt);var i="__lodash_hash_undefined__",d=1,p=2,m=9007199254740991,_="[object Arguments]",g="[object Array]",b="[object AsyncFunction]",u="[object Boolean]",S="[object Date]",D="[object Error]",E="[object Function]",A="[object GeneratorFunction]",v="[object Map]",O="[object Number]",z="[object Null]",G="[object Object]",K="[object Promise]",F="[object Proxy]",H="[object RegExp]",Y="[object Set]",P="[object String]",$="[object Undefined]",B="[object WeakMap]",y="[object ArrayBuffer]",I="[object DataView]",Me=/^\[object .+?Constructor\]$/,Ze=/^(?:0|[1-9]\d*)$/,Ct={};Ct["[object Float32Array]"]=Ct["[object Float64Array]"]=Ct["[object Int8Array]"]=Ct["[object Int16Array]"]=Ct["[object Int32Array]"]=Ct["[object Uint8Array]"]=Ct["[object Uint8ClampedArray]"]=Ct["[object Uint16Array]"]=Ct["[object Uint32Array]"]=!0,Ct[_]=Ct[g]=Ct[y]=Ct[u]=Ct[I]=Ct[S]=Ct[D]=Ct[E]=Ct[v]=Ct[O]=Ct[G]=Ct[H]=Ct[Y]=Ct[P]=Ct[B]=!1;var lt="object"==typeof global&&global&&global.Object===Object&&global,Ot="object"==typeof self&&self&&self.Object===Object&&self,rt=lt||Ot||Function("return this")(),vt=pe&&!pe.nodeType&&pe,ve=vt&&Mt&&!Mt.nodeType&&Mt,Ce=ve&&ve.exports===vt,be=Ce&&lt.process,ue=function(){try{return be&&be.binding&&be.binding("util")}catch{}}(),me=ue&&ue.isTypedArray;function Ve(Re,wt){for(var ln=-1,xn=null==Re?0:Re.length;++ln<xn;)if(wt(Re[ln],ln,Re))return!0;return!1}function Vt(Re,wt){return Re.has(wt)}function gt(Re){var wt=-1,ln=Array(Re.size);return Re.forEach(function(xn,Ei){ln[++wt]=[Ei,xn]}),ln}function ae(Re){var wt=-1,ln=Array(Re.size);return Re.forEach(function(xn){ln[++wt]=xn}),ln}var Re,Oe=Array.prototype,Pe=Object.prototype,_t=rt["__core-js_shared__"],Gt=Function.prototype.toString,Kt=Pe.hasOwnProperty,vn=(Re=/[^.]+$/.exec(_t&&_t.keys&&_t.keys.IE_PROTO||""))?"Symbol(src)_1."+Re:"",Ft=Pe.toString,_n=RegExp("^"+Gt.call(Kt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ft=Ce?rt.Buffer:void 0,pt=rt.Symbol,$t=rt.Uint8Array,kt=Pe.propertyIsEnumerable,dn=Oe.splice,pn=pt?pt.toStringTag:void 0,un=Object.getOwnPropertySymbols,an=ft?ft.isBuffer:void 0,hn=function ot(Re,wt){return function(ln){return Re(wt(ln))}}(Object.keys,Object),Sn=Hs(rt,"DataView"),Lt=Hs(rt,"Map"),at=Hs(rt,"Promise"),ct=Hs(rt,"Set"),Xe=Hs(rt,"WeakMap"),Qe=Hs(Object,"create"),Bt=Zs(Sn),Xt=Zs(Lt),Be=Zs(at),oe=Zs(ct),Ee=Zs(Xe),ne=pt?pt.prototype:void 0,Ie=ne?ne.valueOf:void 0;function Te(Re){var wt=-1,ln=null==Re?0:Re.length;for(this.clear();++wt<ln;){var xn=Re[wt];this.set(xn[0],xn[1])}}function xt(Re){var wt=-1,ln=null==Re?0:Re.length;for(this.clear();++wt<ln;){var xn=Re[wt];this.set(xn[0],xn[1])}}function Qn(Re){var wt=-1,ln=null==Re?0:Re.length;for(this.clear();++wt<ln;){var xn=Re[wt];this.set(xn[0],xn[1])}}function wn(Re){var wt=-1,ln=null==Re?0:Re.length;for(this.__data__=new Qn;++wt<ln;)this.add(Re[wt])}function jt(Re){var wt=this.__data__=new xt(Re);this.size=wt.size}function Qt(Re,wt){for(var ln=Re.length;ln--;)if(zo(Re[ln][0],wt))return ln;return-1}function Ae(Re){return null==Re?void 0===Re?$:z:pn&&pn in Object(Re)?function Ai(Re){var wt=Kt.call(Re,pn),ln=Re[pn];try{Re[pn]=void 0;var xn=!0}catch{}var Ei=Ft.call(Re);return xn&&(wt?Re[pn]=ln:delete Re[pn]),Ei}(Re):function kr(Re){return Ft.call(Re)}(Re)}function xe(Re){return Bs(Re)&&Ae(Re)==_}function bt(Re,wt,ln,xn,Ei){return Re===wt||(null==Re||null==wt||!Bs(Re)&&!Bs(wt)?Re!=Re&&wt!=wt:function Jt(Re,wt,ln,xn,Ei,pi){var Ki=Po(Re),Li=Po(wt),bs=Ki?g:Js(Re),us=Li?g:Js(wt),ks=(bs=bs==_?G:bs)==G,sr=(us=us==_?G:us)==G,os=bs==us;if(os&&Ko(Re)){if(!Ko(wt))return!1;Ki=!0,ks=!1}if(os&&!ks)return pi||(pi=new jt),Ki||na(Re)?Vi(Re,wt,ln,xn,Ei,pi):function zi(Re,wt,ln,xn,Ei,pi,Ki){switch(ln){case I:if(Re.byteLength!=wt.byteLength||Re.byteOffset!=wt.byteOffset)return!1;Re=Re.buffer,wt=wt.buffer;case y:return!(Re.byteLength!=wt.byteLength||!pi(new $t(Re),new $t(wt)));case u:case S:case O:return zo(+Re,+wt);case D:return Re.name==wt.name&&Re.message==wt.message;case H:case P:return Re==wt+"";case v:var Li=gt;case Y:if(Li||(Li=ae),Re.size!=wt.size&&!(xn&d))return!1;var us=Ki.get(Re);if(us)return us==wt;xn|=p,Ki.set(Re,wt);var ks=Vi(Li(Re),Li(wt),xn,Ei,pi,Ki);return Ki.delete(Re),ks;case"[object Symbol]":if(Ie)return Ie.call(Re)==Ie.call(wt)}return!1}(Re,wt,bs,ln,xn,Ei,pi);if(!(ln&d)){var qs=ks&&Kt.call(Re,"__wrapped__"),Xs=sr&&Kt.call(wt,"__wrapped__");if(qs||Xs){var Us=qs?Re.value():Re,Ys=Xs?wt.value():wt;return pi||(pi=new jt),Ei(Us,Ys,ln,xn,pi)}}return!!os&&(pi||(pi=new jt),function wi(Re,wt,ln,xn,Ei,pi){var Ki=ln&d,Li=Ji(Re),bs=Li.length;if(bs!=Ji(wt).length&&!Ki)return!1;for(var sr=bs;sr--;){var os=Li[sr];if(!(Ki?os in wt:Kt.call(wt,os)))return!1}var qs=pi.get(Re);if(qs&&pi.get(wt))return qs==wt;var Xs=!0;pi.set(Re,wt),pi.set(wt,Re);for(var Us=Ki;++sr<bs;){var Ys=Re[os=Li[sr]],rr=wt[os];if(xn)var Yn=Ki?xn(rr,Ys,os,wt,Re,pi):xn(Ys,rr,os,Re,wt,pi);if(!(void 0===Yn?Ys===rr||Ei(Ys,rr,ln,xn,pi):Yn)){Xs=!1;break}Us||(Us="constructor"==os)}if(Xs&&!Us){var br=Re.constructor,or=wt.constructor;br!=or&&"constructor"in Re&&"constructor"in wt&&!("function"==typeof br&&br instanceof br&&"function"==typeof or&&or instanceof or)&&(Xs=!1)}return pi.delete(Re),pi.delete(wt),Xs}(Re,wt,ln,xn,Ei,pi))}(Re,wt,ln,xn,bt,Ei))}function Vi(Re,wt,ln,xn,Ei,pi){var Ki=ln&d,Li=Re.length,bs=wt.length;if(Li!=bs&&!(Ki&&bs>Li))return!1;var us=pi.get(Re);if(us&&pi.get(wt))return us==wt;var ks=-1,sr=!0,os=ln&p?new wn:void 0;for(pi.set(Re,wt),pi.set(wt,Re);++ks<Li;){var qs=Re[ks],Xs=wt[ks];if(xn)var Us=Ki?xn(Xs,qs,ks,wt,Re,pi):xn(qs,Xs,ks,Re,wt,pi);if(void 0!==Us){if(Us)continue;sr=!1;break}if(os){if(!Ve(wt,function(Ys,rr){if(!Vt(os,rr)&&(qs===Ys||Ei(qs,Ys,ln,xn,pi)))return os.push(rr)})){sr=!1;break}}else if(qs!==Xs&&!Ei(qs,Xs,ln,xn,pi)){sr=!1;break}}return pi.delete(Re),pi.delete(wt),sr}function Ji(Re){return function se(Re,wt,ln){var xn=wt(Re);return Po(Re)?xn:function Et(Re,wt){for(var ln=-1,xn=wt.length,Ei=Re.length;++ln<xn;)Re[Ei+ln]=wt[ln];return Re}(xn,ln(Re))}(Re,Br,Gr)}function Ni(Re,wt){var ln=Re.__data__;return function no(Re){var wt=typeof Re;return"string"==wt||"number"==wt||"symbol"==wt||"boolean"==wt?"__proto__"!==Re:null===Re}(wt)?ln["string"==typeof wt?"string":"hash"]:ln.map}function Hs(Re,wt){var ln=function qe(Re,wt){return Re?.[wt]}(Re,wt);return function Bn(Re){return!(!zr(Re)||function Zr(Re){return!!vn&&vn in Re}(Re))&&(Wr(Re)?_n:Me).test(Zs(Re))}(ln)?ln:void 0}Te.prototype.clear=function Ge(){this.__data__=Qe?Qe(null):{},this.size=0},Te.prototype.delete=function Ue(Re){var wt=this.has(Re)&&delete this.__data__[Re];return this.size-=wt?1:0,wt},Te.prototype.get=function Fe(Re){var wt=this.__data__;if(Qe){var ln=wt[Re];return ln===i?void 0:ln}return Kt.call(wt,Re)?wt[Re]:void 0},Te.prototype.has=function At(Re){var wt=this.__data__;return Qe?void 0!==wt[Re]:Kt.call(wt,Re)},Te.prototype.set=function Ke(Re,wt){var ln=this.__data__;return this.size+=this.has(Re)?0:1,ln[Re]=Qe&&void 0===wt?i:wt,this},xt.prototype.clear=function tn(){this.__data__=[],this.size=0},xt.prototype.delete=function nn(Re){var wt=this.__data__,ln=Qt(wt,Re);return!(ln<0||(ln==wt.length-1?wt.pop():dn.call(wt,ln,1),--this.size,0))},xt.prototype.get=function En(Re){var wt=this.__data__,ln=Qt(wt,Re);return ln<0?void 0:wt[ln][1]},xt.prototype.has=function Un(Re){return Qt(this.__data__,Re)>-1},xt.prototype.set=function Xn(Re,wt){var ln=this.__data__,xn=Qt(ln,Re);return xn<0?(++this.size,ln.push([Re,wt])):ln[xn][1]=wt,this},Qn.prototype.clear=function fi(){this.size=0,this.__data__={hash:new Te,map:new(Lt||xt),string:new Te}},Qn.prototype.delete=function Ui(Re){var wt=Ni(this,Re).delete(Re);return this.size-=wt?1:0,wt},Qn.prototype.get=function Ti(Re){return Ni(this,Re).get(Re)},Qn.prototype.has=function Wi(Re){return Ni(this,Re).has(Re)},Qn.prototype.set=function ys(Re,wt){var ln=Ni(this,Re),xn=ln.size;return ln.set(Re,wt),this.size+=ln.size==xn?0:1,this},wn.prototype.add=wn.prototype.push=function dt(Re){return this.__data__.set(Re,i),this},wn.prototype.has=function Pt(Re){return this.__data__.has(Re)},jt.prototype.clear=function Pn(){this.__data__=new xt,this.size=0},jt.prototype.delete=function Dn(Re){var wt=this.__data__,ln=wt.delete(Re);return this.size=wt.size,ln},jt.prototype.get=function yt(Re){return this.__data__.get(Re)},jt.prototype.has=function zt(Re){return this.__data__.has(Re)},jt.prototype.set=function Yt(Re,wt){var ln=this.__data__;if(ln instanceof xt){var xn=ln.__data__;if(!Lt||xn.length<199)return xn.push([Re,wt]),this.size=++ln.size,this;ln=this.__data__=new Qn(xn)}return ln.set(Re,wt),this.size=ln.size,this};var Gr=un?function(Re){return null==Re?[]:(Re=Object(Re),function $e(Re,wt){for(var ln=-1,xn=null==Re?0:Re.length,Ei=0,pi=[];++ln<xn;){var Ki=Re[ln];wt(Ki,ln,Re)&&(pi[Ei++]=Ki)}return pi}(un(Re),function(wt){return kt.call(Re,wt)}))}:function yo(){return[]},Js=Ae;function Ir(Re,wt){return!!(wt=wt??m)&&("number"==typeof Re||Ze.test(Re))&&Re>-1&&Re%1==0&&Re<wt}function Zs(Re){if(null!=Re){try{return Gt.call(Re)}catch{}try{return Re+""}catch{}}return""}function zo(Re,wt){return Re===wt||Re!=Re&&wt!=wt}(Sn&&Js(new Sn(new ArrayBuffer(1)))!=I||Lt&&Js(new Lt)!=v||at&&Js(at.resolve())!=K||ct&&Js(new ct)!=Y||Xe&&Js(new Xe)!=B)&&(Js=function(Re){var wt=Ae(Re),ln=wt==G?Re.constructor:void 0,xn=ln?Zs(ln):"";if(xn)switch(xn){case Bt:return I;case Xt:return v;case Be:return K;case oe:return Y;case Ee:return B}return wt});var io=xe(function(){return arguments}())?xe:function(Re){return Bs(Re)&&Kt.call(Re,"callee")&&!kt.call(Re,"callee")},Po=Array.isArray,Ko=an||function Sr(){return!1};function Wr(Re){if(!zr(Re))return!1;var wt=Ae(Re);return wt==E||wt==A||wt==b||wt==F}function Ho(Re){return"number"==typeof Re&&Re>-1&&Re%1==0&&Re<=m}function zr(Re){var wt=typeof Re;return null!=Re&&("object"==wt||"function"==wt)}function Bs(Re){return null!=Re&&"object"==typeof Re}var na=me?function ht(Re){return function(wt){return Re(wt)}}(me):function hi(Re){return Bs(Re)&&Ho(Re.length)&&!!Ct[Ae(Re)]};function Br(Re){return function Pr(Re){return null!=Re&&Ho(Re.length)&&!Wr(Re)}(Re)?function mt(Re,wt){var ln=Po(Re),xn=!ln&&io(Re),Ei=!ln&&!xn&&Ko(Re),pi=!ln&&!xn&&!Ei&&na(Re),Ki=ln||xn||Ei||pi,Li=Ki?function st(Re,wt){for(var ln=-1,xn=Array(Re);++ln<Re;)xn[ln]=wt(ln);return xn}(Re.length,String):[],bs=Li.length;for(var us in Re)(wt||Kt.call(Re,us))&&(!Ki||!("length"==us||Ei&&("offset"==us||"parent"==us)||pi&&("buffer"==us||"byteLength"==us||"byteOffset"==us)||Ir(us,bs)))&&Li.push(us);return Li}(Re):function Pi(Re){if(!function bo(Re){var wt=Re&&Re.constructor;return Re===("function"==typeof wt&&wt.prototype||Pe)}(Re))return hn(Re);var wt=[];for(var ln in Object(Re))Kt.call(Re,ln)&&"constructor"!=ln&&wt.push(ln);return wt}(Re)}Mt.exports=function so(Re,wt){return bt(Re,wt)}},1561:(Mt,pe,a)=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});const e=a(5947),i=a(5667);var d,p;(p=d||(d={})).compose=function m(u={},S={},D=!1){"object"!=typeof u&&(u={}),"object"!=typeof S&&(S={});let E=e(S);D||(E=Object.keys(E).reduce((A,v)=>(null!=E[v]&&(A[v]=E[v]),A),{}));for(const A in u)void 0!==u[A]&&void 0===S[A]&&(E[A]=u[A]);return Object.keys(E).length>0?E:void 0},p.diff=function _(u={},S={}){"object"!=typeof u&&(u={}),"object"!=typeof S&&(S={});const D=Object.keys(u).concat(Object.keys(S)).reduce((E,A)=>(i(u[A],S[A])||(E[A]=void 0===S[A]?null:S[A]),E),{});return Object.keys(D).length>0?D:void 0},p.invert=function g(u={},S={}){u=u||{};const D=Object.keys(S).reduce((E,A)=>(S[A]!==u[A]&&void 0!==u[A]&&(E[A]=S[A]),E),{});return Object.keys(u).reduce((E,A)=>(u[A]!==S[A]&&void 0===S[A]&&(E[A]=null),E),D)},p.transform=function b(u,S,D=!1){if("object"!=typeof u)return S;if("object"!=typeof S)return;if(!D)return S;const E=Object.keys(S).reduce((A,v)=>(void 0===u[v]&&(A[v]=S[v]),A),{});return Object.keys(E).length>0?E:void 0},pe.default=d},2577:(Mt,pe,a)=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0}),pe.AttributeMap=pe.OpIterator=pe.Op=void 0;const e=a(8655),i=a(5947),d=a(5667),p=a(1561);pe.AttributeMap=p.default;const m=a(8964);pe.Op=m.default;const _=a(6366);pe.OpIterator=_.default;const b=(S,D)=>{if("object"!=typeof S||null===S)throw new Error("cannot retain a "+typeof S);if("object"!=typeof D||null===D)throw new Error("cannot retain a "+typeof D);const E=Object.keys(S)[0];if(!E||E!==Object.keys(D)[0])throw new Error(`embed types not matched: ${E} != ${Object.keys(D)[0]}`);return[E,S[E],D[E]]};class u{constructor(D){this.ops=Array.isArray(D)?D:null!=D&&Array.isArray(D.ops)?D.ops:[]}static registerEmbed(D,E){this.handlers[D]=E}static unregisterEmbed(D){delete this.handlers[D]}static getHandler(D){const E=this.handlers[D];if(!E)throw new Error(`no handlers for embed type "${D}"`);return E}insert(D,E){const A={};return"string"==typeof D&&0===D.length?this:(A.insert=D,null!=E&&"object"==typeof E&&Object.keys(E).length>0&&(A.attributes=E),this.push(A))}delete(D){return D<=0?this:this.push({delete:D})}retain(D,E){if("number"==typeof D&&D<=0)return this;const A={retain:D};return null!=E&&"object"==typeof E&&Object.keys(E).length>0&&(A.attributes=E),this.push(A)}push(D){let E=this.ops.length,A=this.ops[E-1];if(D=i(D),"object"==typeof A){if("number"==typeof D.delete&&"number"==typeof A.delete)return this.ops[E-1]={delete:A.delete+D.delete},this;if("number"==typeof A.delete&&null!=D.insert&&(E-=1,A=this.ops[E-1],"object"!=typeof A))return this.ops.unshift(D),this;if(d(D.attributes,A.attributes)){if("string"==typeof D.insert&&"string"==typeof A.insert)return this.ops[E-1]={insert:A.insert+D.insert},"object"==typeof D.attributes&&(this.ops[E-1].attributes=D.attributes),this;if("number"==typeof D.retain&&"number"==typeof A.retain)return this.ops[E-1]={retain:A.retain+D.retain},"object"==typeof D.attributes&&(this.ops[E-1].attributes=D.attributes),this}}return E===this.ops.length?this.ops.push(D):this.ops.splice(E,0,D),this}chop(){const D=this.ops[this.ops.length-1];return D&&"number"==typeof D.retain&&!D.attributes&&this.ops.pop(),this}filter(D){return this.ops.filter(D)}forEach(D){this.ops.forEach(D)}map(D){return this.ops.map(D)}partition(D){const E=[],A=[];return this.forEach(v=>{(D(v)?E:A).push(v)}),[E,A]}reduce(D,E){return this.ops.reduce(D,E)}changeLength(){return this.reduce((D,E)=>E.insert?D+m.default.length(E):E.delete?D-E.delete:D,0)}length(){return this.reduce((D,E)=>D+m.default.length(E),0)}slice(D=0,E=1/0){const A=[],v=new _.default(this.ops);let O=0;for(;O<E&&v.hasNext();){let z;O<D?z=v.next(D-O):(z=v.next(E-O),A.push(z)),O+=m.default.length(z)}return new u(A)}compose(D){const E=new _.default(this.ops),A=new _.default(D.ops),v=[],O=A.peek();if(null!=O&&"number"==typeof O.retain&&null==O.attributes){let G=O.retain;for(;"insert"===E.peekType()&&E.peekLength()<=G;)G-=E.peekLength(),v.push(E.next());O.retain-G>0&&A.next(O.retain-G)}const z=new u(v);for(;E.hasNext()||A.hasNext();)if("insert"===A.peekType())z.push(A.next());else if("delete"===E.peekType())z.push(E.next());else{const G=Math.min(E.peekLength(),A.peekLength()),K=E.next(G),F=A.next(G);if(F.retain){const H={};if("number"==typeof K.retain)H.retain="number"==typeof F.retain?G:F.retain;else if("number"==typeof F.retain)null==K.retain?H.insert=K.insert:H.retain=K.retain;else{const P=null==K.retain?"insert":"retain",[U,$,B]=b(K[P],F.retain),y=u.getHandler(U);H[P]={[U]:y.compose($,B,"retain"===P)}}const Y=p.default.compose(K.attributes,F.attributes,"number"==typeof K.retain);if(Y&&(H.attributes=Y),z.push(H),!A.hasNext()&&d(z.ops[z.ops.length-1],H)){const P=new u(E.rest());return z.concat(P).chop()}}else"number"==typeof F.delete&&("number"==typeof K.retain||"object"==typeof K.retain&&null!==K.retain)&&z.push(F)}return z.chop()}concat(D){const E=new u(this.ops.slice());return D.ops.length>0&&(E.push(D.ops[0]),E.ops=E.ops.concat(D.ops.slice(1))),E}diff(D,E){if(this.ops===D.ops)return new u;const A=[this,D].map(K=>K.map(F=>{if(null!=F.insert)return"string"==typeof F.insert?F.insert:"\0";throw new Error("diff() called "+(K===D?"on":"with")+" non-document")}).join("")),v=new u,O=e(A[0],A[1],E,!0),z=new _.default(this.ops),G=new _.default(D.ops);return O.forEach(K=>{let F=K[1].length;for(;F>0;){let H=0;switch(K[0]){case e.INSERT:H=Math.min(G.peekLength(),F),v.push(G.next(H));break;case e.DELETE:H=Math.min(F,z.peekLength()),z.next(H),v.delete(H);break;case e.EQUAL:H=Math.min(z.peekLength(),G.peekLength(),F);const Y=z.next(H),P=G.next(H);d(Y.insert,P.insert)?v.retain(H,p.default.diff(Y.attributes,P.attributes)):v.push(P).delete(H)}F-=H}}),v.chop()}eachLine(D,E="\n"){const A=new _.default(this.ops);let v=new u,O=0;for(;A.hasNext();){if("insert"!==A.peekType())return;const z=A.peek(),G=m.default.length(z)-A.peekLength(),K="string"==typeof z.insert?z.insert.indexOf(E,G)-G:-1;if(K<0)v.push(A.next());else if(K>0)v.push(A.next(K));else{if(!1===D(v,A.next(1).attributes||{},O))return;O+=1,v=new u}}v.length()>0&&D(v,{},O)}invert(D){const E=new u;return this.reduce((A,v)=>{if(v.insert)E.delete(m.default.length(v));else{if("number"==typeof v.retain&&null==v.attributes)return E.retain(v.retain),A+v.retain;if(v.delete||"number"==typeof v.retain){const O=v.delete||v.retain;return D.slice(A,A+O).forEach(G=>{v.delete?E.push(G):v.retain&&v.attributes&&E.retain(m.default.length(G),p.default.invert(v.attributes,G.attributes))}),A+O}if("object"==typeof v.retain&&null!==v.retain){const O=D.slice(A,A+1),z=new _.default(O.ops).next(),[G,K,F]=b(v.retain,z.insert),H=u.getHandler(G);return E.retain({[G]:H.invert(K,F)},p.default.invert(v.attributes,z.attributes)),A+1}}return A},0),E.chop()}transform(D,E=!1){if(E=!!E,"number"==typeof D)return this.transformPosition(D,E);const A=D,v=new _.default(this.ops),O=new _.default(A.ops),z=new u;for(;v.hasNext()||O.hasNext();)if("insert"!==v.peekType()||!E&&"insert"===O.peekType())if("insert"===O.peekType())z.push(O.next());else{const G=Math.min(v.peekLength(),O.peekLength()),K=v.next(G),F=O.next(G);if(K.delete)continue;if(F.delete)z.push(F);else{const H=K.retain,Y=F.retain;let P="object"==typeof Y&&null!==Y?Y:G;if("object"==typeof H&&null!==H&&"object"==typeof Y&&null!==Y){const U=Object.keys(H)[0];if(U===Object.keys(Y)[0]){const $=u.getHandler(U);$&&(P={[U]:$.transform(H[U],Y[U],E)})}}z.retain(P,p.default.transform(K.attributes,F.attributes,E))}}else z.retain(m.default.length(v.next()));return z.chop()}transformPosition(D,E=!1){E=!!E;const A=new _.default(this.ops);let v=0;for(;A.hasNext()&&v<=D;){const O=A.peekLength(),z=A.peekType();A.next(),"delete"!==z?("insert"===z&&(v<D||!E)&&(D+=O),v+=O):D-=Math.min(O,D-v)}return D}}u.Op=m.default,u.OpIterator=_.default,u.AttributeMap=p.default,u.handlers={},pe.default=u,Mt.exports=u,Mt.exports.default=u},8964:(Mt,pe)=>{"use strict";var a;Object.defineProperty(pe,"__esModule",{value:!0}),(a||(a={})).length=function i(d){return"number"==typeof d.delete?d.delete:"number"==typeof d.retain?d.retain:"object"==typeof d.retain&&null!==d.retain?1:"string"==typeof d.insert?d.insert.length:1},pe.default=a},6366:(Mt,pe,a)=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});const e=a(8964);pe.default=class i{constructor(p){this.ops=p,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(p){p||(p=1/0);const m=this.ops[this.index];if(m){const _=this.offset,g=e.default.length(m);if(p>=g-_?(p=g-_,this.index+=1,this.offset=0):this.offset+=p,"number"==typeof m.delete)return{delete:p};{const b={};return m.attributes&&(b.attributes=m.attributes),"number"==typeof m.retain?b.retain=p:"object"==typeof m.retain&&null!==m.retain?b.retain=m.retain:b.insert="string"==typeof m.insert?m.insert.substr(_,p):m.insert,b}}return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?e.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const p=this.ops[this.index];return p?"number"==typeof p.delete?"delete":"number"==typeof p.retain||"object"==typeof p.retain&&null!==p.retain?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);{const p=this.offset,m=this.index,_=this.next(),g=this.ops.slice(this.index);return this.offset=p,this.index=m,[_].concat(g)}}return[]}}},9280:Mt=>{"use strict";var pe=Object.prototype.hasOwnProperty,a="~";function e(){}function i(_,g,b){this.fn=_,this.context=g,this.once=b||!1}function d(_,g,b,u,S){if("function"!=typeof b)throw new TypeError("The listener must be a function");var D=new i(b,u||_,S),E=a?a+g:g;return _._events[E]?_._events[E].fn?_._events[E]=[_._events[E],D]:_._events[E].push(D):(_._events[E]=D,_._eventsCount++),_}function p(_,g){0==--_._eventsCount?_._events=new e:delete _._events[g]}function m(){this._events=new e,this._eventsCount=0}Object.create&&(e.prototype=Object.create(null),(new e).__proto__||(a=!1)),m.prototype.eventNames=function(){var b,u,g=[];if(0===this._eventsCount)return g;for(u in b=this._events)pe.call(b,u)&&g.push(a?u.slice(1):u);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(b)):g},m.prototype.listeners=function(g){var u=this._events[a?a+g:g];if(!u)return[];if(u.fn)return[u.fn];for(var S=0,D=u.length,E=new Array(D);S<D;S++)E[S]=u[S].fn;return E},m.prototype.listenerCount=function(g){var u=this._events[a?a+g:g];return u?u.fn?1:u.length:0},m.prototype.emit=function(g,b,u,S,D,E){var A=a?a+g:g;if(!this._events[A])return!1;var z,G,v=this._events[A],O=arguments.length;if(v.fn){switch(v.once&&this.removeListener(g,v.fn,void 0,!0),O){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,b),!0;case 3:return v.fn.call(v.context,b,u),!0;case 4:return v.fn.call(v.context,b,u,S),!0;case 5:return v.fn.call(v.context,b,u,S,D),!0;case 6:return v.fn.call(v.context,b,u,S,D,E),!0}for(G=1,z=new Array(O-1);G<O;G++)z[G-1]=arguments[G];v.fn.apply(v.context,z)}else{var F,K=v.length;for(G=0;G<K;G++)switch(v[G].once&&this.removeListener(g,v[G].fn,void 0,!0),O){case 1:v[G].fn.call(v[G].context);break;case 2:v[G].fn.call(v[G].context,b);break;case 3:v[G].fn.call(v[G].context,b,u);break;case 4:v[G].fn.call(v[G].context,b,u,S);break;default:if(!z)for(F=1,z=new Array(O-1);F<O;F++)z[F-1]=arguments[F];v[G].fn.apply(v[G].context,z)}}return!0},m.prototype.on=function(g,b,u){return d(this,g,b,u,!1)},m.prototype.once=function(g,b,u){return d(this,g,b,u,!0)},m.prototype.removeListener=function(g,b,u,S){var D=a?a+g:g;if(!this._events[D])return this;if(!b)return p(this,D),this;var E=this._events[D];if(E.fn)E.fn===b&&(!S||E.once)&&(!u||E.context===u)&&p(this,D);else{for(var A=0,v=[],O=E.length;A<O;A++)(E[A].fn!==b||S&&!E[A].once||u&&E[A].context!==u)&&v.push(E[A]);v.length?this._events[D]=1===v.length?v[0]:v:p(this,D)}return this},m.prototype.removeAllListeners=function(g){var b;return g?this._events[b=a?a+g:g]&&p(this,b):(this._events=new e,this._eventsCount=0),this},m.prototype.off=m.prototype.removeListener,m.prototype.addListener=m.prototype.on,m.prefixed=a,m.EventEmitter=m,Mt.exports=m},9928:(Mt,pe,a)=>{"use strict";a.d(pe,{t:()=>d});var e=a(5286),i=a(2145);class d extends e.B7{constructor(m){super(),this._value=m}get value(){return this.getValue()}_subscribe(m){const _=super._subscribe(m);return _&&!_.closed&&m.next(this._value),_}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.P;return this._value}next(m){super.next(this._value=m)}}},2351:(Mt,pe,a)=>{"use strict";a.d(pe,{E:()=>m});var e=a(1235),i=a(4421),d=a(4526);class m{constructor(g,b,u){this.kind=g,this.value=b,this.error=u,this.hasValue="N"===g}observe(g){switch(this.kind){case"N":return g.next&&g.next(this.value);case"E":return g.error&&g.error(this.error);case"C":return g.complete&&g.complete()}}do(g,b,u){switch(this.kind){case"N":return g&&g(this.value);case"E":return b&&b(this.error);case"C":return u&&u()}}accept(g,b,u){return g&&"function"==typeof g.next?this.observe(g):this.do(g,b,u)}toObservable(){switch(this.kind){case"N":return(0,i.of)(this.value);case"E":return(0,d.$)(this.error);case"C":return(0,e.I)()}throw new Error("unexpected notification kind value")}static createNext(g){return typeof g<"u"?new m("N",g):m.undefinedValueNotification}static createError(g){return new m("E",void 0,g)}static createComplete(){return m.completeNotification}}m.completeNotification=new m("C"),m.undefinedValueNotification=new m("N",void 0)},5817:(Mt,pe,a)=>{"use strict";a.d(pe,{c:()=>u});var e=a(762),d=a(91),p=a(178),_=a(5722),g=a(8167),b=a(614);let u=(()=>{class D{constructor(A){this._isScalar=!1,A&&(this._subscribe=A)}lift(A){const v=new D;return v.source=this,v.operator=A,v}subscribe(A,v,O){const{operator:z}=this,G=function m(D,E,A){if(D){if(D instanceof e.v)return D;if(D[d.D])return D[d.D]()}return D||E||A?new e.v(D,E,A):new e.v(p.I)}(A,v,O);if(G.add(z?z.call(G,this.source):this.source||b.$.useDeprecatedSynchronousErrorHandling&&!G.syncErrorThrowable?this._subscribe(G):this._trySubscribe(G)),b.$.useDeprecatedSynchronousErrorHandling&&G.syncErrorThrowable&&(G.syncErrorThrowable=!1,G.syncErrorThrown))throw G.syncErrorValue;return G}_trySubscribe(A){try{return this._subscribe(A)}catch(v){b.$.useDeprecatedSynchronousErrorHandling&&(A.syncErrorThrown=!0,A.syncErrorValue=v),function i(D){for(;D;){const{closed:E,destination:A,isStopped:v}=D;if(E||v)return!1;D=A&&A instanceof e.v?A:null}return!0}(A)?A.error(v):console.warn(v)}}forEach(A,v){return new(v=S(v))((O,z)=>{let G;G=this.subscribe(K=>{try{A(K)}catch(F){z(F),G&&G.unsubscribe()}},z,O)})}_subscribe(A){const{source:v}=this;return v&&v.subscribe(A)}[_.s](){return this}pipe(...A){return 0===A.length?this:(0,g.m)(A)(this)}toPromise(A){return new(A=S(A))((v,O)=>{let z;this.subscribe(G=>z=G,G=>O(G),()=>v(z))})}}return D.create=E=>new D(E),D})();function S(D){if(D||(D=b.$.Promise||Promise),!D)throw new Error("no Promise impl found");return D}},178:(Mt,pe,a)=>{"use strict";a.d(pe,{I:()=>d});var e=a(614),i=a(8253);const d={closed:!0,next(p){},error(p){if(e.$.useDeprecatedSynchronousErrorHandling)throw p;(0,i.T)(p)},complete(){}}},6607:(Mt,pe,a)=>{"use strict";a.d(pe,{m:()=>G});var e=a(5286),i=a(8189),p=a(6228);const g=new class m extends p.q{}(class d extends i.R{constructor(H,Y){super(H,Y),this.scheduler=H,this.work=Y}schedule(H,Y=0){return Y>0?super.schedule(H,Y):(this.delay=Y,this.state=H,this.scheduler.flush(this),this)}execute(H,Y){return Y>0||this.closed?super.execute(H,Y):this._execute(H,Y)}requestAsyncId(H,Y,P=0){return null!==P&&P>0||null===P&&this.delay>0?super.requestAsyncId(H,Y,P):H.flush(this)}});var b=a(4337),u=a(762),S=a(2351);class A extends u.v{constructor(H,Y,P=0){super(H),this.scheduler=Y,this.delay=P}static dispatch(H){const{notification:Y,destination:P}=H;Y.observe(P),this.unsubscribe()}scheduleMessage(H){this.destination.add(this.scheduler.schedule(A.dispatch,this.delay,new v(H,this.destination)))}_next(H){this.scheduleMessage(S.E.createNext(H))}_error(H){this.scheduleMessage(S.E.createError(H)),this.unsubscribe()}_complete(){this.scheduleMessage(S.E.createComplete()),this.unsubscribe()}}class v{constructor(H,Y){this.notification=H,this.destination=Y}}var O=a(2145),z=a(1259);class G extends e.B7{constructor(H=Number.POSITIVE_INFINITY,Y=Number.POSITIVE_INFINITY,P){super(),this.scheduler=P,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=H<1?1:H,this._windowTime=Y<1?1:Y,Y===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(H){if(!this.isStopped){const Y=this._events;Y.push(H),Y.length>this._bufferSize&&Y.shift()}super.next(H)}nextTimeWindow(H){this.isStopped||(this._events.push(new K(this._getNow(),H)),this._trimBufferThenGetEvents()),super.next(H)}_subscribe(H){const Y=this._infiniteTimeWindow,P=Y?this._events:this._trimBufferThenGetEvents(),U=this.scheduler,$=P.length;let B;if(this.closed)throw new O.P;if(this.isStopped||this.hasError?B=b.y.EMPTY:(this.observers.push(H),B=new z.Y(this,H)),U&&H.add(H=new A(H,U)),Y)for(let y=0;y<$&&!H.closed;y++)H.next(P[y]);else for(let y=0;y<$&&!H.closed;y++)H.next(P[y].value);return this.hasError?H.error(this.thrownError):this.isStopped&&H.complete(),B}_getNow(){return(this.scheduler||g).now()}_trimBufferThenGetEvents(){const H=this._getNow(),Y=this._bufferSize,P=this._windowTime,U=this._events,$=U.length;let B=0;for(;B<$&&!(H-U[B].time<P);)B++;return $>Y&&(B=Math.max(B,$-Y)),B>0&&U.splice(0,B),U}}class K{constructor(H,Y){this.time=H,this.value=Y}}},5286:(Mt,pe,a)=>{"use strict";a.d(pe,{B7:()=>b,PJ:()=>g,kQ:()=>u});var e=a(5817),i=a(762),d=a(4337),p=a(2145),m=a(1259),_=a(91);class g extends i.v{constructor(D){super(D),this.destination=D}}let b=(()=>{class S extends e.c{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[_.D](){return new g(this)}lift(E){const A=new u(this,this);return A.operator=E,A}next(E){if(this.closed)throw new p.P;if(!this.isStopped){const{observers:A}=this,v=A.length,O=A.slice();for(let z=0;z<v;z++)O[z].next(E)}}error(E){if(this.closed)throw new p.P;this.hasError=!0,this.thrownError=E,this.isStopped=!0;const{observers:A}=this,v=A.length,O=A.slice();for(let z=0;z<v;z++)O[z].error(E);this.observers.length=0}complete(){if(this.closed)throw new p.P;this.isStopped=!0;const{observers:E}=this,A=E.length,v=E.slice();for(let O=0;O<A;O++)v[O].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(E){if(this.closed)throw new p.P;return super._trySubscribe(E)}_subscribe(E){if(this.closed)throw new p.P;return this.hasError?(E.error(this.thrownError),d.y.EMPTY):this.isStopped?(E.complete(),d.y.EMPTY):(this.observers.push(E),new m.Y(this,E))}asObservable(){const E=new e.c;return E.source=this,E}}return S.create=(D,E)=>new u(D,E),S})();class u extends b{constructor(D,E){super(),this.destination=D,this.source=E}next(D){const{destination:E}=this;E&&E.next&&E.next(D)}error(D){const{destination:E}=this;E&&E.error&&this.destination.error(D)}complete(){const{destination:D}=this;D&&D.complete&&this.destination.complete()}_subscribe(D){const{source:E}=this;return E?this.source.subscribe(D):d.y.EMPTY}}},1259:(Mt,pe,a)=>{"use strict";a.d(pe,{Y:()=>i});var e=a(4337);class i extends e.y{constructor(p,m){super(),this.subject=p,this.subscriber=m,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const p=this.subject,m=p.observers;if(this.subject=null,!m||0===m.length||p.isStopped||p.closed)return;const _=m.indexOf(this.subscriber);-1!==_&&m.splice(_,1)}}},762:(Mt,pe,a)=>{"use strict";a.d(pe,{v:()=>g});var e=a(8099),i=a(178),d=a(4337),p=a(91),m=a(614),_=a(8253);class g extends d.y{constructor(S,D,E){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.I;break;case 1:if(!S){this.destination=i.I;break}if("object"==typeof S){S instanceof g?(this.syncErrorThrowable=S.syncErrorThrowable,this.destination=S,S.add(this)):(this.syncErrorThrowable=!0,this.destination=new b(this,S));break}default:this.syncErrorThrowable=!0,this.destination=new b(this,S,D,E)}}[p.D](){return this}static create(S,D,E){const A=new g(S,D,E);return A.syncErrorThrowable=!1,A}next(S){this.isStopped||this._next(S)}error(S){this.isStopped||(this.isStopped=!0,this._error(S))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(S){this.destination.next(S)}_error(S){this.destination.error(S),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:S}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=S,this}}class b extends g{constructor(S,D,E,A){super(),this._parentSubscriber=S;let v,O=this;(0,e.T)(D)?v=D:D&&(v=D.next,E=D.error,A=D.complete,D!==i.I&&(O=Object.create(D),(0,e.T)(O.unsubscribe)&&this.add(O.unsubscribe.bind(O)),O.unsubscribe=this.unsubscribe.bind(this))),this._context=O,this._next=v,this._error=E,this._complete=A}next(S){if(!this.isStopped&&this._next){const{_parentSubscriber:D}=this;m.$.useDeprecatedSynchronousErrorHandling&&D.syncErrorThrowable?this.__tryOrSetError(D,this._next,S)&&this.unsubscribe():this.__tryOrUnsub(this._next,S)}}error(S){if(!this.isStopped){const{_parentSubscriber:D}=this,{useDeprecatedSynchronousErrorHandling:E}=m.$;if(this._error)E&&D.syncErrorThrowable?(this.__tryOrSetError(D,this._error,S),this.unsubscribe()):(this.__tryOrUnsub(this._error,S),this.unsubscribe());else if(D.syncErrorThrowable)E?(D.syncErrorValue=S,D.syncErrorThrown=!0):(0,_.T)(S),this.unsubscribe();else{if(this.unsubscribe(),E)throw S;(0,_.T)(S)}}}complete(){if(!this.isStopped){const{_parentSubscriber:S}=this;if(this._complete){const D=()=>this._complete.call(this._context);m.$.useDeprecatedSynchronousErrorHandling&&S.syncErrorThrowable?(this.__tryOrSetError(S,D),this.unsubscribe()):(this.__tryOrUnsub(D),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(S,D){try{S.call(this._context,D)}catch(E){if(this.unsubscribe(),m.$.useDeprecatedSynchronousErrorHandling)throw E;(0,_.T)(E)}}__tryOrSetError(S,D,E){if(!m.$.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{D.call(this._context,E)}catch(A){return m.$.useDeprecatedSynchronousErrorHandling?(S.syncErrorValue=A,S.syncErrorThrown=!0,!0):((0,_.T)(A),!0)}return!1}_unsubscribe(){const{_parentSubscriber:S}=this;this._context=null,this._parentSubscriber=null,S.unsubscribe()}}},4337:(Mt,pe,a)=>{"use strict";a.d(pe,{y:()=>_});var e=a(7354),i=a(1456),d=a(8099);const m=(()=>{function b(u){return Error.call(this),this.message=u?`${u.length} errors occurred during unsubscription:\n${u.map((S,D)=>`${D+1}) ${S.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=u,this}return b.prototype=Object.create(Error.prototype),b})();class _{constructor(u){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,u&&(this._ctorUnsubscribe=!0,this._unsubscribe=u)}unsubscribe(){let u;if(this.closed)return;let{_parentOrParents:S,_ctorUnsubscribe:D,_unsubscribe:E,_subscriptions:A}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,S instanceof _)S.remove(this);else if(null!==S)for(let v=0;v<S.length;++v)S[v].remove(this);if((0,d.T)(E)){D&&(this._unsubscribe=void 0);try{E.call(this)}catch(v){u=v instanceof m?g(v.errors):[v]}}if((0,e.c)(A)){let v=-1,O=A.length;for(;++v<O;){const z=A[v];if((0,i.G)(z))try{z.unsubscribe()}catch(G){u=u||[],G instanceof m?u=u.concat(g(G.errors)):u.push(G)}}}if(u)throw new m(u)}add(u){let S=u;if(!u)return _.EMPTY;switch(typeof u){case"function":S=new _(u);case"object":if(S===this||S.closed||"function"!=typeof S.unsubscribe)return S;if(this.closed)return S.unsubscribe(),S;if(!(S instanceof _)){const A=S;S=new _,S._subscriptions=[A]}break;default:throw new Error("unrecognized teardown "+u+" added to Subscription.")}let{_parentOrParents:D}=S;if(null===D)S._parentOrParents=this;else if(D instanceof _){if(D===this)return S;S._parentOrParents=[D,this]}else{if(-1!==D.indexOf(this))return S;D.push(this)}const E=this._subscriptions;return null===E?this._subscriptions=[S]:E.push(S),S}remove(u){const S=this._subscriptions;if(S){const D=S.indexOf(u);-1!==D&&S.splice(D,1)}}}var b;function g(b){return b.reduce((u,S)=>u.concat(S instanceof m?S.errors:S),[])}_.EMPTY=((b=new _).closed=!0,b)},614:(Mt,pe,a)=>{"use strict";a.d(pe,{$:()=>i});let e=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(d){if(d){const p=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+p.stack)}else e&&console.log("RxJS: Back to a better error behavior. Thank you. <3");e=d},get useDeprecatedSynchronousErrorHandling(){return e}}},3004:(Mt,pe,a)=>{"use strict";a.d(pe,{gn:()=>_,tS:()=>b,zA:()=>p});var e=a(762),i=a(5817),d=a(135);class p extends e.v{constructor(S){super(),this.parent=S}_next(S){this.parent.notifyNext(S)}_error(S){this.parent.notifyError(S),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class _ extends e.v{notifyNext(S){this.destination.next(S)}notifyError(S){this.destination.error(S)}notifyComplete(){this.destination.complete()}}function b(u,S){if(S.closed)return;if(u instanceof i.c)return u.subscribe(S);let D;try{D=(0,d.i)(u)(S)}catch(E){S.error(E)}return D}},4725:(Mt,pe,a)=>{"use strict";a.d(pe,{G:()=>_,f:()=>g});var e=a(5286),i=a(5817),p=(a(762),a(4337)),m=a(3110);class _ extends i.c{constructor(E,A){super(),this.source=E,this.subjectFactory=A,this._refCount=0,this._isComplete=!1}_subscribe(E){return this.getSubject().subscribe(E)}getSubject(){const E=this._subject;return(!E||E.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let E=this._connection;return E||(this._isComplete=!1,E=this._connection=new p.y,E.add(this.source.subscribe(new b(this.getSubject(),this))),E.closed&&(this._connection=null,E=p.y.EMPTY)),E}refCount(){return(0,m.B)()(this)}}const g=(()=>{const D=_.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:D._subscribe},_isComplete:{value:D._isComplete,writable:!0},getSubject:{value:D.getSubject},connect:{value:D.connect},refCount:{value:D.refCount}}})();class b extends e.PJ{constructor(E,A){super(E),this.connectable=A}_error(E){this._unsubscribe(),super._error(E)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const E=this.connectable;if(E){this.connectable=null;const A=E._connection;E._refCount=0,E._subject=null,E._connection=null,A&&A.unsubscribe()}}}},9714:(Mt,pe,a)=>{"use strict";a.d(pe,{zV:()=>D});var e=a(2234),i=a(7354),d=a(762);class p extends d.v{notifyNext(O,z,G,K,F){this.destination.next(z)}notifyError(O,z){this.destination.error(O)}notifyComplete(O){this.destination.complete()}}class m extends d.v{constructor(O,z,G){super(),this.parent=O,this.outerValue=z,this.outerIndex=G,this.index=0}_next(O){this.parent.notifyNext(this.outerValue,O,this.outerIndex,this.index++,this)}_error(O){this.parent.notifyError(O,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var _=a(135),g=a(5817);function b(v,O,z,G,K=new m(v,z,G)){if(!K.closed)return O instanceof g.c?O.subscribe(K):(0,_.i)(O)(K)}var u=a(4279);const S={};function D(...v){let O,z;return(0,e.m)(v[v.length-1])&&(z=v.pop()),"function"==typeof v[v.length-1]&&(O=v.pop()),1===v.length&&(0,i.c)(v[0])&&(v=v[0]),(0,u.c)(v,z).lift(new E(O))}class E{constructor(O){this.resultSelector=O}call(O,z){return z.subscribe(new A(O,this.resultSelector))}}class A extends p{constructor(O,z){super(O),this.resultSelector=z,this.active=0,this.values=[],this.observables=[]}_next(O){this.values.push(S),this.observables.push(O)}_complete(){const O=this.observables,z=O.length;if(0===z)this.destination.complete();else{this.active=z,this.toRespond=z;for(let G=0;G<z;G++)this.add(b(this,O[G],void 0,G))}}notifyComplete(O){0==(this.active-=1)&&this.destination.complete()}notifyNext(O,z,G){const K=this.values,H=this.toRespond?K[G]===S?--this.toRespond:this.toRespond:0;K[G]=z,0===H&&(this.resultSelector?this._tryResultSelector(K):this.destination.next(K.slice()))}_tryResultSelector(O){let z;try{z=this.resultSelector.apply(this,O)}catch(G){return void this.destination.error(G)}this.destination.next(z)}}},1639:(Mt,pe,a)=>{"use strict";a.d(pe,{x:()=>p});var e=a(4421),i=a(6201);function p(...m){return function d(){return(0,i.U)(1)}()((0,e.of)(...m))}},9418:(Mt,pe,a)=>{"use strict";a.d(pe,{v:()=>p});var e=a(5817),i=a(4787),d=a(1235);function p(m){return new e.c(_=>{let g;try{g=m()}catch(u){return void _.error(u)}return(g?(0,i.H)(g):(0,d.I)()).subscribe(_)})}},4187:(Mt,pe,a)=>{"use strict";a.d(pe,{$:()=>w});var B=a(5817),y=a(4337),I=a(4787);function w(L,Q={}){const{selector:te}=Q,R=function p(L,Q){var te={};for(var R in L)Object.prototype.hasOwnProperty.call(L,R)&&Q.indexOf(R)<0&&(te[R]=L[R]);if(null!=L&&"function"==typeof Object.getOwnPropertySymbols){var ee=0;for(R=Object.getOwnPropertySymbols(L);ee<R.length;ee++)Q.indexOf(R[ee])<0&&Object.prototype.propertyIsEnumerable.call(L,R[ee])&&(te[R[ee]]=L[R[ee]])}return te}(Q,["selector"]);return new B.c(ee=>{const k=new AbortController,J=k.signal;let X=!0,fe=!1;const Me=new y.y;let Ze;if(Me.add(()=>{fe=!0,X&&k.abort()}),R){if(R.signal)if(R.signal.aborted)k.abort();else{const Ct=R.signal,lt=()=>{J.aborted||k.abort()};Ct.addEventListener("abort",lt),Me.add(()=>Ct.removeEventListener("abort",lt))}Ze=Object.assign({},R,{signal:J})}else Ze={signal:J};return fetch(L,Ze).then(Ct=>{te?Me.add((0,I.H)(te(Ct)).subscribe(lt=>ee.next(lt),lt=>{X=!1,fe||ee.error(lt)},()=>{X=!1,ee.complete()})):(X=!1,ee.next(Ct),ee.complete())}).catch(Ct=>{X=!1,fe||ee.error(Ct)}),Me})}},4119:(Mt,pe,a)=>{"use strict";a.d(pe,{K:()=>u});var e=a(5286),i=a(762),d=a(5817),p=a(4337),m=a(6607);const _={url:"",deserializer:S=>JSON.parse(S.data),serializer:S=>JSON.stringify(S)};class b extends e.kQ{constructor(D,E){if(super(),D instanceof d.c)this.destination=E,this.source=D;else{const A=this._config=Object.assign({},_);if(this._output=new e.B7,"string"==typeof D)A.url=D;else for(let v in D)D.hasOwnProperty(v)&&(A[v]=D[v]);if(!A.WebSocketCtor&&WebSocket)A.WebSocketCtor=WebSocket;else if(!A.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new m.m}}lift(D){const E=new b(this._config,this.destination);return E.operator=D,E.source=this,E}_resetState(){this._socket=null,this.source||(this.destination=new m.m),this._output=new e.B7}multiplex(D,E,A){const v=this;return new d.c(O=>{try{v.next(D())}catch(G){O.error(G)}const z=v.subscribe(G=>{try{A(G)&&O.next(G)}catch(K){O.error(K)}},G=>O.error(G),()=>O.complete());return()=>{try{v.next(E())}catch(G){O.error(G)}z.unsubscribe()}})}_connectSocket(){const{WebSocketCtor:D,protocol:E,url:A,binaryType:v}=this._config,O=this._output;let z=null;try{z=E?new D(A,E):new D(A),this._socket=z,v&&(this._socket.binaryType=v)}catch(K){return void O.error(K)}const G=new p.y(()=>{this._socket=null,z&&1===z.readyState&&z.close()});z.onopen=K=>{const{_socket:F}=this;if(!F)return z.close(),void this._resetState();const{openObserver:H}=this._config;H&&H.next(K);const Y=this.destination;this.destination=i.v.create(P=>{if(1===z.readyState)try{const{serializer:U}=this._config;z.send(U(P))}catch(U){this.destination.error(U)}},P=>{const{closingObserver:U}=this._config;U&&U.next(void 0),P&&P.code?z.close(P.code,P.reason):O.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),this._resetState()},()=>{const{closingObserver:P}=this._config;P&&P.next(void 0),z.close(),this._resetState()}),Y&&Y instanceof m.m&&G.add(Y.subscribe(this.destination))},z.onerror=K=>{this._resetState(),O.error(K)},z.onclose=K=>{this._resetState();const{closeObserver:F}=this._config;F&&F.next(K),K.wasClean?O.complete():O.error(K)},z.onmessage=K=>{try{const{deserializer:F}=this._config;O.next(F(K))}catch(F){O.error(F)}}}_subscribe(D){const{source:E}=this;return E?E.subscribe(D):(this._socket||this._connectSocket(),this._output.subscribe(D),D.add(()=>{const{_socket:A}=this;0===this._output.observers.length&&(A&&1===A.readyState&&A.close(),this._resetState())}),D)}unsubscribe(){const{_socket:D}=this;D&&1===D.readyState&&D.close(),this._resetState(),super.unsubscribe()}}function u(S){return new b(S)}},1235:(Mt,pe,a)=>{"use strict";a.d(pe,{I:()=>d,w:()=>i});var e=a(5817);const i=new e.c(m=>m.complete());function d(m){return m?function p(m){return new e.c(_=>m.schedule(()=>_.complete()))}(m):i}},696:(Mt,pe,a)=>{"use strict";a.d(pe,{p:()=>_});var e=a(5817),i=a(7354),d=a(5006),p=a(1456),m=a(4787);function _(...b){if(1===b.length){const u=b[0];if((0,i.c)(u))return g(u,null);if((0,p.G)(u)&&Object.getPrototypeOf(u)===Object.prototype){const S=Object.keys(u);return g(S.map(D=>u[D]),S)}}if("function"==typeof b[b.length-1]){const u=b.pop();return g(b=1===b.length&&(0,i.c)(b[0])?b[0]:b,null).pipe((0,d.T)(S=>u(...S)))}return g(b,null)}function g(b,u){return new e.c(S=>{const D=b.length;if(0===D)return void S.complete();const E=new Array(D);let A=0,v=0;for(let O=0;O<D;O++){const z=(0,m.H)(b[O]);let G=!1;S.add(z.subscribe({next:K=>{G||(G=!0,v++),E[O]=K},error:K=>S.error(K),complete:()=>{A++,(A===D||!G)&&(v===D&&S.next(u?u.reduce((K,F,H)=>(K[F]=E[H],K),{}):E),S.complete())}}))}})}},4787:(Mt,pe,a)=>{"use strict";a.d(pe,{H:()=>O});var e=a(5817),i=a(135),d=a(4337),p=a(5722),g=a(2496),b=a(7765),D=a(5998),E=a(5253);function O(z,G){return G?function v(z,G){if(null!=z){if(function S(z){return z&&"function"==typeof z[p.s]}(z))return function m(z,G){return new e.c(K=>{const F=new d.y;return F.add(G.schedule(()=>{const H=z[p.s]();F.add(H.subscribe({next(Y){F.add(G.schedule(()=>K.next(Y)))},error(Y){F.add(G.schedule(()=>K.error(Y)))},complete(){F.add(G.schedule(()=>K.complete()))}}))})),F})}(z,G);if((0,D.y)(z))return function _(z,G){return new e.c(K=>{const F=new d.y;return F.add(G.schedule(()=>z.then(H=>{F.add(G.schedule(()=>{K.next(H),F.add(G.schedule(()=>K.complete()))}))},H=>{F.add(G.schedule(()=>K.error(H)))}))),F})}(z,G);if((0,E.X)(z))return(0,g.V)(z,G);if(function A(z){return z&&"function"==typeof z[b.lJ]}(z)||"string"==typeof z)return function u(z,G){if(!z)throw new Error("Iterable cannot be null");return new e.c(K=>{const F=new d.y;let H;return F.add(()=>{H&&"function"==typeof H.return&&H.return()}),F.add(G.schedule(()=>{H=z[b.lJ](),F.add(G.schedule(function(){if(K.closed)return;let Y,P;try{const U=H.next();Y=U.value,P=U.done}catch(U){return void K.error(U)}P?K.complete():(K.next(Y),this.schedule())}))})),F})}(z,G)}throw new TypeError((null!==z&&typeof z||z)+" is not observable")}(z,G):z instanceof e.c?z:new e.c((0,i.i)(z))}},4279:(Mt,pe,a)=>{"use strict";a.d(pe,{c:()=>p});var e=a(5817),i=a(4385),d=a(2496);function p(m,_){return _?(0,d.V)(m,_):new e.c((0,i.v)(m))}},3586:(Mt,pe,a)=>{"use strict";a.d(pe,{R:()=>_});var e=a(5817),i=a(7354),d=a(8099),p=a(5006);function _(D,E,A,v){return(0,d.T)(A)&&(v=A,A=void 0),v?_(D,E,A).pipe((0,p.T)(O=>(0,i.c)(O)?v(...O):v(O))):new e.c(O=>{g(D,E,function z(G){O.next(arguments.length>1?Array.prototype.slice.call(arguments):G)},O,A)})}function g(D,E,A,v,O){let z;if(function S(D){return D&&"function"==typeof D.addEventListener&&"function"==typeof D.removeEventListener}(D)){const G=D;D.addEventListener(E,A,O),z=()=>G.removeEventListener(E,A,O)}else if(function u(D){return D&&"function"==typeof D.on&&"function"==typeof D.off}(D)){const G=D;D.on(E,A),z=()=>G.off(E,A)}else if(function b(D){return D&&"function"==typeof D.addListener&&"function"==typeof D.removeListener}(D)){const G=D;D.addListener(E,A),z=()=>G.removeListener(E,A)}else{if(!D||!D.length)throw new TypeError("Invalid event target");for(let G=0,K=D.length;G<K;G++)g(D[G],E,A,v,O)}v.add(z)}},4670:(Mt,pe,a)=>{"use strict";a.d(pe,{h:()=>m});var e=a(5817),i=a(2234),d=a(6201),p=a(4279);function m(..._){let g=Number.POSITIVE_INFINITY,b=null,u=_[_.length-1];return(0,i.m)(u)?(b=_.pop(),_.length>1&&"number"==typeof _[_.length-1]&&(g=_.pop())):"number"==typeof u&&(g=_.pop()),null===b&&1===_.length&&_[0]instanceof e.c?_[0]:(0,d.U)(g)((0,p.c)(_,b))}},4421:(Mt,pe,a)=>{"use strict";a.d(pe,{of:()=>p});var e=a(2234),i=a(4279),d=a(2496);function p(...m){let _=m[m.length-1];return(0,e.m)(_)?(m.pop(),(0,d.V)(m,_)):(0,i.c)(m)}},4526:(Mt,pe,a)=>{"use strict";a.d(pe,{$:()=>i});var e=a(5817);function i(p,m){return new e.c(m?_=>m.schedule(d,0,{error:p,subscriber:_}):_=>_.error(p))}function d({error:p,subscriber:m}){m.error(p)}},6651:(Mt,pe,a)=>{"use strict";a.d(pe,{O:()=>m});var e=a(5817),i=a(1080),d=a(9132),p=a(2234);function m(g=0,b,u){let S=-1;return(0,d.k)(b)?S=Number(b)<1?1:Number(b):(0,p.m)(b)&&(u=b),(0,p.m)(u)||(u=i.b),new e.c(D=>{const E=(0,d.k)(g)?g:+g-u.now();return u.schedule(_,E,{index:0,period:S,subscriber:D})})}function _(g){const{index:b,period:u,subscriber:S}=g;if(S.next(b),!S.closed){if(-1===u)return S.complete();g.index=b+1,this.schedule(g,u)}}},3921:(Mt,pe,a)=>{"use strict";a.d(pe,{W:()=>i});var e=a(3004);function i(m){return function(g){const b=new d(m),u=g.lift(b);return b.caught=u}}class d{constructor(_){this.selector=_}call(_,g){return g.subscribe(new p(_,this.selector,this.caught))}}class p extends e.gn{constructor(_,g,b){super(_),this.selector=g,this.caught=b}error(_){if(!this.isStopped){let g;try{g=this.selector(_,this.caught)}catch(S){return void super.error(S)}this._unsubscribeAndRecycle();const b=new e.zA(this);this.add(b);const u=(0,e.tS)(g,b);u!==b&&this.add(u)}}}},3574:(Mt,pe,a)=>{"use strict";a.d(pe,{H:()=>i});var e=a(8456);function i(d,p){return(0,e.ZZ)(d,p,1)}},3020:(Mt,pe,a)=>{"use strict";a.d(pe,{B:()=>d});var e=a(762),i=a(1080);function d(g,b=i.b){return u=>u.lift(new p(g,b))}class p{constructor(b,u){this.dueTime=b,this.scheduler=u}call(b,u){return u.subscribe(new m(b,this.dueTime,this.scheduler))}}class m extends e.v{constructor(b,u,S){super(b),this.dueTime=u,this.scheduler=S,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(b){this.clearDebounce(),this.lastValue=b,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(_,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:b}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(b)}}clearDebounce(){const b=this.debouncedSubscription;null!==b&&(this.remove(b),b.unsubscribe(),this.debouncedSubscription=null)}}function _(g){g.debouncedNext()}},7849:(Mt,pe,a)=>{"use strict";a.d(pe,{U:()=>i});var e=a(762);function i(m=null){return _=>_.lift(new d(m))}class d{constructor(_){this.defaultValue=_}call(_,g){return g.subscribe(new p(_,this.defaultValue))}}class p extends e.v{constructor(_,g){super(_),this.defaultValue=g,this.isEmpty=!0}_next(_){this.isEmpty=!1,this.destination.next(_)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},8002:(Mt,pe,a)=>{"use strict";a.d(pe,{c:()=>m});var e=a(1080),d=a(762),p=a(2351);function m(u,S=e.b){const E=function i(u){return u instanceof Date&&!isNaN(+u)}(u)?+u-S.now():Math.abs(u);return A=>A.lift(new _(E,S))}class _{constructor(S,D){this.delay=S,this.scheduler=D}call(S,D){return D.subscribe(new g(S,this.delay,this.scheduler))}}class g extends d.v{constructor(S,D,E){super(S),this.delay=D,this.scheduler=E,this.queue=[],this.active=!1,this.errored=!1}static dispatch(S){const D=S.source,E=D.queue,A=S.scheduler,v=S.destination;for(;E.length>0&&E[0].time-A.now()<=0;)E.shift().notification.observe(v);if(E.length>0){const O=Math.max(0,E[0].time-A.now());this.schedule(S,O)}else this.unsubscribe(),D.active=!1}_schedule(S){this.active=!0,this.destination.add(S.schedule(g.dispatch,this.delay,{source:this,destination:this.destination,scheduler:S}))}scheduleNotification(S){if(!0===this.errored)return;const D=this.scheduler,E=new b(D.now()+this.delay,S);this.queue.push(E),!1===this.active&&this._schedule(D)}_next(S){this.scheduleNotification(p.E.createNext(S))}_error(S){this.errored=!0,this.queue=[],this.destination.error(S),this.unsubscribe()}_complete(){this.scheduleNotification(p.E.createComplete()),this.unsubscribe()}}class b{constructor(S,D){this.time=S,this.notification=D}}},522:(Mt,pe,a)=>{"use strict";a.d(pe,{F:()=>i});var e=a(762);function i(m,_){return g=>g.lift(new d(m,_))}class d{constructor(_,g){this.compare=_,this.keySelector=g}call(_,g){return g.subscribe(new p(_,this.compare,this.keySelector))}}class p extends e.v{constructor(_,g,b){super(_),this.keySelector=b,this.hasKey=!1,"function"==typeof g&&(this.compare=g)}compare(_,g){return _===g}_next(_){let g;try{const{keySelector:u}=this;g=u?u(_):_}catch(u){return this.destination.error(u)}let b=!1;if(this.hasKey)try{const{compare:u}=this;b=u(this.key,g)}catch(u){return this.destination.error(u)}else this.hasKey=!0;b||(this.key=g,this.destination.next(_))}}},1713:(Mt,pe,a)=>{"use strict";a.d(pe,{w:()=>i});var e=a(522);function i(d,p){return(0,e.F)((m,_)=>p?p(m[d],_[d]):m[d]===_[d])}},8728:(Mt,pe,a)=>{"use strict";a.d(pe,{p:()=>i});var e=a(762);function i(m,_){return function(b){return b.lift(new d(m,_))}}class d{constructor(_,g){this.predicate=_,this.thisArg=g}call(_,g){return g.subscribe(new p(_,this.predicate,this.thisArg))}}class p extends e.v{constructor(_,g,b){super(_),this.predicate=g,this.thisArg=b,this.count=0}_next(_){let g;try{g=this.predicate.call(this.thisArg,_,this.count++)}catch(b){return void this.destination.error(b)}g&&this.destination.next(_)}}},7312:(Mt,pe,a)=>{"use strict";a.d(pe,{j:()=>d});var e=a(762),i=a(4337);function d(_){return g=>g.lift(new p(_))}class p{constructor(g){this.callback=g}call(g,b){return b.subscribe(new m(g,this.callback))}}class m extends e.v{constructor(g,b){super(g),this.add(new i.y(b))}}},4046:(Mt,pe,a)=>{"use strict";a.d(pe,{$:()=>g});var e=a(9994),i=a(8728),d=a(9493),p=a(7849),m=a(3314),_=a(5241);function g(b,u){const S=arguments.length>=2;return D=>D.pipe(b?(0,i.p)((E,A)=>b(E,A,D)):_.D,(0,d.s)(1),S?(0,p.U)(u):(0,m.v)(()=>new e.G))}},5006:(Mt,pe,a)=>{"use strict";a.d(pe,{T:()=>i});var e=a(762);function i(m,_){return function(b){if("function"!=typeof m)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return b.lift(new d(m,_))}}class d{constructor(_,g){this.project=_,this.thisArg=g}call(_,g){return g.subscribe(new p(_,this.project,this.thisArg))}}class p extends e.v{constructor(_,g,b){super(_),this.project=g,this.count=0,this.thisArg=b||this}_next(_){let g;try{g=this.project.call(this.thisArg,_,this.count++)}catch(b){return void this.destination.error(b)}this.destination.next(g)}}},6201:(Mt,pe,a)=>{"use strict";a.d(pe,{U:()=>d});var e=a(8456),i=a(5241);function d(p=Number.POSITIVE_INFINITY){return(0,e.ZZ)(i.D,p)}},8456:(Mt,pe,a)=>{"use strict";a.d(pe,{ZZ:()=>p});var e=a(5006),i=a(4787),d=a(3004);function p(b,u,S=Number.POSITIVE_INFINITY){return"function"==typeof u?D=>D.pipe(p((E,A)=>(0,i.H)(b(E,A)).pipe((0,e.T)((v,O)=>u(E,v,A,O))),S)):("number"==typeof u&&(S=u),D=>D.lift(new m(b,S)))}class m{constructor(u,S=Number.POSITIVE_INFINITY){this.project=u,this.concurrent=S}call(u,S){return S.subscribe(new _(u,this.project,this.concurrent))}}class _ extends d.gn{constructor(u,S,D=Number.POSITIVE_INFINITY){super(u),this.project=S,this.concurrent=D,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(u){this.active<this.concurrent?this._tryNext(u):this.buffer.push(u)}_tryNext(u){let S;const D=this.index++;try{S=this.project(u,D)}catch(E){return void this.destination.error(E)}this.active++,this._innerSub(S)}_innerSub(u){const S=new d.zA(this),D=this.destination;D.add(S);const E=(0,d.tS)(u,S);E!==S&&D.add(E)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(u){this.destination.next(u)}notifyComplete(){const u=this.buffer;this.active--,u.length>0?this._next(u.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},4206:(Mt,pe,a)=>{"use strict";a.d(pe,{f:()=>i});var e=a(4725);function i(p,m){return function(g){let b;if(b="function"==typeof p?p:function(){return p},"function"==typeof m)return g.lift(new d(b,m));const u=Object.create(g,e.f);return u.source=g,u.subjectFactory=b,u}}class d{constructor(m,_){this.subjectFactory=m,this.selector=_}call(m,_){const{selector:g}=this,b=this.subjectFactory(),u=g(b).subscribe(m);return u.add(_.subscribe(b)),u}}},3110:(Mt,pe,a)=>{"use strict";a.d(pe,{B:()=>i});var e=a(762);function i(){return function(_){return _.lift(new d(_))}}class d{constructor(_){this.connectable=_}call(_,g){const{connectable:b}=this;b._refCount++;const u=new p(_,b),S=g.subscribe(u);return u.closed||(u.connection=b.connect()),S}}class p extends e.v{constructor(_,g){super(_),this.connectable=g}_unsubscribe(){const{connectable:_}=this;if(!_)return void(this.connection=null);this.connectable=null;const g=_._refCount;if(g<=0)return void(this.connection=null);if(_._refCount=g-1,g>1)return void(this.connection=null);const{connection:b}=this,u=_._connection;this.connection=null,u&&(!b||u===b)&&u.unsubscribe()}}},5019:(Mt,pe,a)=>{"use strict";a.d(pe,{S:()=>i});var e=a(762);function i(m,_){let g=!1;return arguments.length>=2&&(g=!0),function(u){return u.lift(new d(m,_,g))}}class d{constructor(_,g,b=!1){this.accumulator=_,this.seed=g,this.hasSeed=b}call(_,g){return g.subscribe(new p(_,this.accumulator,this.seed,this.hasSeed))}}class p extends e.v{constructor(_,g,b,u){super(_),this.accumulator=g,this._seed=b,this.hasSeed=u,this.index=0}get seed(){return this._seed}set seed(_){this.hasSeed=!0,this._seed=_}_next(_){if(this.hasSeed)return this._tryNext(_);this.seed=_,this.destination.next(_)}_tryNext(_){const g=this.index++;let b;try{b=this.accumulator(this.seed,_,g)}catch(u){this.destination.error(u)}this.seed=b,this.destination.next(b)}}},8712:(Mt,pe,a)=>{"use strict";a.d(pe,{t:()=>i});var e=a(6607);function i(p,m,_){let g;return g=p&&"object"==typeof p?p:{bufferSize:p,windowTime:m,refCount:!1,scheduler:_},b=>b.lift(function d({bufferSize:p=Number.POSITIVE_INFINITY,windowTime:m=Number.POSITIVE_INFINITY,refCount:_,scheduler:g}){let b,S,u=0,D=!1,E=!1;return function(v){let O;u++,!b||D?(D=!1,b=new e.m(p,m,g),O=b.subscribe(this),S=v.subscribe({next(z){b.next(z)},error(z){D=!0,b.error(z)},complete(){E=!0,S=void 0,b.complete()}}),E&&(S=void 0)):O=b.subscribe(this),this.add(()=>{u--,O.unsubscribe(),O=void 0,S&&!E&&_&&0===u&&(S.unsubscribe(),S=void 0,b=void 0)})}}(g))}},7753:(Mt,pe,a)=>{"use strict";a.d(pe,{i:()=>i});var e=a(762);function i(m){return _=>_.lift(new d(m))}class d{constructor(_){this.total=_}call(_,g){return g.subscribe(new p(_,this.total))}}class p extends e.v{constructor(_,g){super(_),this.total=g,this.count=0}_next(_){++this.count>this.total&&this.destination.next(_)}}},3176:(Mt,pe,a)=>{"use strict";a.d(pe,{Z:()=>d});var e=a(1639),i=a(2234);function d(...p){const m=p[p.length-1];return(0,i.m)(m)?(p.pop(),_=>(0,e.x)(p,_,m)):_=>(0,e.x)(p,_)}},9090:(Mt,pe,a)=>{"use strict";a.d(pe,{n:()=>p});var e=a(5006),i=a(4787),d=a(3004);function p(g,b){return"function"==typeof b?u=>u.pipe(p((S,D)=>(0,i.H)(g(S,D)).pipe((0,e.T)((E,A)=>b(S,E,D,A))))):u=>u.lift(new m(g))}class m{constructor(b){this.project=b}call(b,u){return u.subscribe(new _(b,this.project))}}class _ extends d.gn{constructor(b,u){super(b),this.project=u,this.index=0}_next(b){let u;const S=this.index++;try{u=this.project(b,S)}catch(D){return void this.destination.error(D)}this._innerSub(u)}_innerSub(b){const u=this.innerSubscription;u&&u.unsubscribe();const S=new d.zA(this),D=this.destination;D.add(S),this.innerSubscription=(0,d.tS)(b,S),this.innerSubscription!==S&&D.add(this.innerSubscription)}_complete(){const{innerSubscription:b}=this;(!b||b.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(b){this.destination.next(b)}}},9493:(Mt,pe,a)=>{"use strict";a.d(pe,{s:()=>p});var e=a(762),i=a(434),d=a(1235);function p(g){return b=>0===g?(0,d.I)():b.lift(new m(g))}class m{constructor(b){if(this.total=b,this.total<0)throw new i.k}call(b,u){return u.subscribe(new _(b,this.total))}}class _ extends e.v{constructor(b,u){super(b),this.total=u,this.count=0}_next(b){const u=this.total,S=++this.count;S<=u&&(this.destination.next(b),S===u&&(this.destination.complete(),this.unsubscribe()))}}},7605:(Mt,pe,a)=>{"use strict";a.d(pe,{Q:()=>i});var e=a(3004);function i(m){return _=>_.lift(new d(m))}class d{constructor(_){this.notifier=_}call(_,g){const b=new p(_),u=(0,e.tS)(this.notifier,new e.zA(b));return u&&!b.seenValue?(b.add(u),g.subscribe(b)):b}}class p extends e.gn{constructor(_){super(_),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},1604:(Mt,pe,a)=>{"use strict";a.d(pe,{v:()=>i});var e=a(762);function i(m,_=!1){return g=>g.lift(new d(m,_))}class d{constructor(_,g){this.predicate=_,this.inclusive=g}call(_,g){return g.subscribe(new p(_,this.predicate,this.inclusive))}}class p extends e.v{constructor(_,g,b){super(_),this.predicate=g,this.inclusive=b,this.index=0}_next(_){const g=this.destination;let b;try{b=this.predicate(_,this.index++)}catch(u){return void g.error(u)}this.nextOrComplete(_,b)}nextOrComplete(_,g){const b=this.destination;g?b.next(_):(this.inclusive&&b.next(_),b.complete())}}},8841:(Mt,pe,a)=>{"use strict";a.d(pe,{M:()=>p});var e=a(762),i=a(8803),d=a(8099);function p(g,b,u){return function(D){return D.lift(new m(g,b,u))}}class m{constructor(b,u,S){this.nextOrObserver=b,this.error=u,this.complete=S}call(b,u){return u.subscribe(new _(b,this.nextOrObserver,this.error,this.complete))}}class _ extends e.v{constructor(b,u,S,D){super(b),this._tapNext=i.l,this._tapError=i.l,this._tapComplete=i.l,this._tapError=S||i.l,this._tapComplete=D||i.l,(0,d.T)(u)?(this._context=this,this._tapNext=u):u&&(this._context=u,this._tapNext=u.next||i.l,this._tapError=u.error||i.l,this._tapComplete=u.complete||i.l)}_next(b){try{this._tapNext.call(this._context,b)}catch(u){return void this.destination.error(u)}this.destination.next(b)}_error(b){try{this._tapError.call(this._context,b)}catch(u){return void this.destination.error(u)}this.destination.error(b)}_complete(){try{this._tapComplete.call(this._context)}catch(b){return void this.destination.error(b)}return this.destination.complete()}}},3314:(Mt,pe,a)=>{"use strict";a.d(pe,{v:()=>d});var e=a(9994),i=a(762);function d(g=_){return b=>b.lift(new p(g))}class p{constructor(b){this.errorFactory=b}call(b,u){return u.subscribe(new m(b,this.errorFactory))}}class m extends i.v{constructor(b,u){super(b),this.errorFactory=u,this.hasValue=!1}_next(b){this.hasValue=!0,this.destination.next(b)}_complete(){if(this.hasValue)return this.destination.complete();{let b;try{b=this.errorFactory()}catch(u){b=u}this.destination.error(b)}}}function _(){return new e.G}},2496:(Mt,pe,a)=>{"use strict";a.d(pe,{V:()=>d});var e=a(5817),i=a(4337);function d(p,m){return new e.c(_=>{const g=new i.y;let b=0;return g.add(m.schedule(function(){b!==p.length?(_.next(p[b++]),_.closed||g.add(this.schedule())):_.complete()})),g})}},8189:(Mt,pe,a)=>{"use strict";a.d(pe,{R:()=>d});var e=a(4337);class i extends e.y{constructor(m,_){super()}schedule(m,_=0){return this}}class d extends i{constructor(m,_){super(m,_),this.scheduler=m,this.work=_,this.pending=!1}schedule(m,_=0){if(this.closed)return this;this.state=m;const g=this.id,b=this.scheduler;return null!=g&&(this.id=this.recycleAsyncId(b,g,_)),this.pending=!0,this.delay=_,this.id=this.id||this.requestAsyncId(b,this.id,_),this}requestAsyncId(m,_,g=0){return setInterval(m.flush.bind(m,this),g)}recycleAsyncId(m,_,g=0){if(null!==g&&this.delay===g&&!1===this.pending)return _;clearInterval(_)}execute(m,_){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const g=this._execute(m,_);if(g)return g;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(m,_){let b,g=!1;try{this.work(m)}catch(u){g=!0,b=!!u&&u||new Error(u)}if(g)return this.unsubscribe(),b}_unsubscribe(){const m=this.id,_=this.scheduler,g=_.actions,b=g.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==b&&g.splice(b,1),null!=m&&(this.id=this.recycleAsyncId(_,m,null)),this.delay=null}}},6228:(Mt,pe,a)=>{"use strict";a.d(pe,{q:()=>i});let e=(()=>{class d{constructor(m,_=d.now){this.SchedulerAction=m,this.now=_}schedule(m,_=0,g){return new this.SchedulerAction(this,m).schedule(g,_)}}return d.now=()=>Date.now(),d})();class i extends e{constructor(p,m=e.now){super(p,()=>i.delegate&&i.delegate!==this?i.delegate.now():m()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(p,m=0,_){return i.delegate&&i.delegate!==this?i.delegate.schedule(p,m,_):super.schedule(p,m,_)}flush(p){const{actions:m}=this;if(this.active)return void m.push(p);let _;this.active=!0;do{if(_=p.execute(p.state,p.delay))break}while(p=m.shift());if(this.active=!1,_){for(;p=m.shift();)p.unsubscribe();throw _}}}},5128:(Mt,pe,a)=>{"use strict";a.d(pe,{X:()=>m});var e=a(8189),d=a(6228);const m=new class p extends d.q{flush(b){this.active=!0,this.scheduled=void 0;const{actions:u}=this;let S,D=-1,E=u.length;b=b||u.shift();do{if(S=b.execute(b.state,b.delay))break}while(++D<E&&(b=u.shift()));if(this.active=!1,S){for(;++D<E&&(b=u.shift());)b.unsubscribe();throw S}}}(class i extends e.R{constructor(b,u){super(b,u),this.scheduler=b,this.work=u}requestAsyncId(b,u,S=0){return null!==S&&S>0?super.requestAsyncId(b,u,S):(b.actions.push(this),b.scheduled||(b.scheduled=requestAnimationFrame(()=>b.flush(null))))}recycleAsyncId(b,u,S=0){if(null!==S&&S>0||null===S&&this.delay>0)return super.recycleAsyncId(b,u,S);0===b.actions.length&&(cancelAnimationFrame(u),b.scheduled=void 0)}})},5516:(Mt,pe,a)=>{"use strict";a.d(pe,{$:()=>D});let e=1;const i=Promise.resolve(),d={};function p(A){return A in d&&(delete d[A],!0)}const m={setImmediate(A){const v=e++;return d[v]=!0,i.then(()=>p(v)&&A()),v},clearImmediate(A){p(A)}};var g=a(8189),u=a(6228);const D=new class S extends u.q{flush(v){this.active=!0,this.scheduled=void 0;const{actions:O}=this;let z,G=-1,K=O.length;v=v||O.shift();do{if(z=v.execute(v.state,v.delay))break}while(++G<K&&(v=O.shift()));if(this.active=!1,z){for(;++G<K&&(v=O.shift());)v.unsubscribe();throw z}}}(class b extends g.R{constructor(v,O){super(v,O),this.scheduler=v,this.work=O}requestAsyncId(v,O,z=0){return null!==z&&z>0?super.requestAsyncId(v,O,z):(v.actions.push(this),v.scheduled||(v.scheduled=m.setImmediate(v.flush.bind(v,null))))}recycleAsyncId(v,O,z=0){if(null!==z&&z>0||null===z&&this.delay>0)return super.recycleAsyncId(v,O,z);0===v.actions.length&&(m.clearImmediate(O),v.scheduled=void 0)}})},1080:(Mt,pe,a)=>{"use strict";a.d(pe,{b:()=>p});var e=a(8189);const p=new(a(6228).q)(e.R)},7765:(Mt,pe,a)=>{"use strict";a.d(pe,{lJ:()=>i});const i=function e(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},5722:(Mt,pe,a)=>{"use strict";a.d(pe,{s:()=>e});const e="function"==typeof Symbol&&Symbol.observable||"@@observable"},91:(Mt,pe,a)=>{"use strict";a.d(pe,{D:()=>e});const e="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},434:(Mt,pe,a)=>{"use strict";a.d(pe,{k:()=>i});const i=(()=>{function d(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return d.prototype=Object.create(Error.prototype),d})()},9994:(Mt,pe,a)=>{"use strict";a.d(pe,{G:()=>i});const i=(()=>{function d(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return d.prototype=Object.create(Error.prototype),d})()},2145:(Mt,pe,a)=>{"use strict";a.d(pe,{P:()=>i});const i=(()=>{function d(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return d.prototype=Object.create(Error.prototype),d})()},8253:(Mt,pe,a)=>{"use strict";function e(i){setTimeout(()=>{throw i},0)}a.d(pe,{T:()=>e})},5241:(Mt,pe,a)=>{"use strict";function e(i){return i}a.d(pe,{D:()=>e})},7354:(Mt,pe,a)=>{"use strict";a.d(pe,{c:()=>e});const e=Array.isArray||(i=>i&&"number"==typeof i.length)},5253:(Mt,pe,a)=>{"use strict";a.d(pe,{X:()=>e});const e=i=>i&&"number"==typeof i.length&&"function"!=typeof i},8099:(Mt,pe,a)=>{"use strict";function e(i){return"function"==typeof i}a.d(pe,{T:()=>e})},9132:(Mt,pe,a)=>{"use strict";a.d(pe,{k:()=>i});var e=a(7354);function i(d){return!(0,e.c)(d)&&d-parseFloat(d)+1>=0}},1456:(Mt,pe,a)=>{"use strict";function e(i){return null!==i&&"object"==typeof i}a.d(pe,{G:()=>e})},8982:(Mt,pe,a)=>{"use strict";a.d(pe,{A:()=>i});var e=a(5817);function i(d){return!!d&&(d instanceof e.c||"function"==typeof d.lift&&"function"==typeof d.subscribe)}},5998:(Mt,pe,a)=>{"use strict";function e(i){return!!i&&"function"!=typeof i.subscribe&&"function"==typeof i.then}a.d(pe,{y:()=>e})},2234:(Mt,pe,a)=>{"use strict";function e(i){return i&&"function"==typeof i.schedule}a.d(pe,{m:()=>e})},8803:(Mt,pe,a)=>{"use strict";function e(){}a.d(pe,{l:()=>e})},8167:(Mt,pe,a)=>{"use strict";a.d(pe,{F:()=>i,m:()=>d});var e=a(5241);function i(...p){return d(p)}function d(p){return 0===p.length?e.D:1===p.length?p[0]:function(_){return p.reduce((g,b)=>b(g),_)}}},135:(Mt,pe,a)=>{"use strict";a.d(pe,{i:()=>D});var e=a(4385),i=a(8253),p=a(7765),_=a(5722),b=a(5253),u=a(5998),S=a(1456);const D=E=>{if(E&&"function"==typeof E[_.s])return(E=>A=>{const v=E[_.s]();if("function"!=typeof v.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return v.subscribe(A)})(E);if((0,b.X)(E))return(0,e.v)(E);if((0,u.y)(E))return(E=>A=>(E.then(v=>{A.closed||(A.next(v),A.complete())},v=>A.error(v)).then(null,i.T),A))(E);if(E&&"function"==typeof E[p.lJ])return(E=>A=>{const v=E[p.lJ]();for(;;){let O;try{O=v.next()}catch(z){return A.error(z),A}if(O.done){A.complete();break}if(A.next(O.value),A.closed)break}return"function"==typeof v.return&&A.add(()=>{v.return&&v.return()}),A})(E);{const v=`You provided ${(0,S.G)(E)?"an invalid object":`'${E}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(v)}}},4385:(Mt,pe,a)=>{"use strict";a.d(pe,{v:()=>e});const e=i=>d=>{for(let p=0,m=i.length;p<m&&!d.closed;p++)d.next(i[p]);d.complete()}},416:(Mt,pe,a)=>{"use strict";a.d(pe,{VV:()=>e,LL:()=>d});class e{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(m,_=!1){return this.onePassHasher.start().appendStr(m).end(_)}static hashAsciiStr(m,_=!1){return this.onePassHasher.start().appendAsciiStr(m).end(_)}static _hex(m){const _=e.hexChars,g=e.hexOut;let b,u,S,D;for(D=0;D<4;D+=1)for(u=8*D,b=m[D],S=0;S<8;S+=2)g[u+1+S]=_.charAt(15&b),b>>>=4,g[u+0+S]=_.charAt(15&b),b>>>=4;return g.join("")}static _md5cycle(m,_){let g=m[0],b=m[1],u=m[2],S=m[3];g+=(b&u|~b&S)+_[0]-680876936|0,g=(g<<7|g>>>25)+b|0,S+=(g&b|~g&u)+_[1]-389564586|0,S=(S<<12|S>>>20)+g|0,u+=(S&g|~S&b)+_[2]+606105819|0,u=(u<<17|u>>>15)+S|0,b+=(u&S|~u&g)+_[3]-1044525330|0,b=(b<<22|b>>>10)+u|0,g+=(b&u|~b&S)+_[4]-176418897|0,g=(g<<7|g>>>25)+b|0,S+=(g&b|~g&u)+_[5]+1200080426|0,S=(S<<12|S>>>20)+g|0,u+=(S&g|~S&b)+_[6]-1473231341|0,u=(u<<17|u>>>15)+S|0,b+=(u&S|~u&g)+_[7]-45705983|0,b=(b<<22|b>>>10)+u|0,g+=(b&u|~b&S)+_[8]+1770035416|0,g=(g<<7|g>>>25)+b|0,S+=(g&b|~g&u)+_[9]-1958414417|0,S=(S<<12|S>>>20)+g|0,u+=(S&g|~S&b)+_[10]-42063|0,u=(u<<17|u>>>15)+S|0,b+=(u&S|~u&g)+_[11]-1990404162|0,b=(b<<22|b>>>10)+u|0,g+=(b&u|~b&S)+_[12]+1804603682|0,g=(g<<7|g>>>25)+b|0,S+=(g&b|~g&u)+_[13]-40341101|0,S=(S<<12|S>>>20)+g|0,u+=(S&g|~S&b)+_[14]-1502002290|0,u=(u<<17|u>>>15)+S|0,b+=(u&S|~u&g)+_[15]+1236535329|0,b=(b<<22|b>>>10)+u|0,g+=(b&S|u&~S)+_[1]-165796510|0,g=(g<<5|g>>>27)+b|0,S+=(g&u|b&~u)+_[6]-1069501632|0,S=(S<<9|S>>>23)+g|0,u+=(S&b|g&~b)+_[11]+643717713|0,u=(u<<14|u>>>18)+S|0,b+=(u&g|S&~g)+_[0]-373897302|0,b=(b<<20|b>>>12)+u|0,g+=(b&S|u&~S)+_[5]-701558691|0,g=(g<<5|g>>>27)+b|0,S+=(g&u|b&~u)+_[10]+38016083|0,S=(S<<9|S>>>23)+g|0,u+=(S&b|g&~b)+_[15]-660478335|0,u=(u<<14|u>>>18)+S|0,b+=(u&g|S&~g)+_[4]-405537848|0,b=(b<<20|b>>>12)+u|0,g+=(b&S|u&~S)+_[9]+568446438|0,g=(g<<5|g>>>27)+b|0,S+=(g&u|b&~u)+_[14]-1019803690|0,S=(S<<9|S>>>23)+g|0,u+=(S&b|g&~b)+_[3]-187363961|0,u=(u<<14|u>>>18)+S|0,b+=(u&g|S&~g)+_[8]+1163531501|0,b=(b<<20|b>>>12)+u|0,g+=(b&S|u&~S)+_[13]-1444681467|0,g=(g<<5|g>>>27)+b|0,S+=(g&u|b&~u)+_[2]-51403784|0,S=(S<<9|S>>>23)+g|0,u+=(S&b|g&~b)+_[7]+1735328473|0,u=(u<<14|u>>>18)+S|0,b+=(u&g|S&~g)+_[12]-1926607734|0,b=(b<<20|b>>>12)+u|0,g+=(b^u^S)+_[5]-378558|0,g=(g<<4|g>>>28)+b|0,S+=(g^b^u)+_[8]-2022574463|0,S=(S<<11|S>>>21)+g|0,u+=(S^g^b)+_[11]+1839030562|0,u=(u<<16|u>>>16)+S|0,b+=(u^S^g)+_[14]-35309556|0,b=(b<<23|b>>>9)+u|0,g+=(b^u^S)+_[1]-1530992060|0,g=(g<<4|g>>>28)+b|0,S+=(g^b^u)+_[4]+1272893353|0,S=(S<<11|S>>>21)+g|0,u+=(S^g^b)+_[7]-155497632|0,u=(u<<16|u>>>16)+S|0,b+=(u^S^g)+_[10]-1094730640|0,b=(b<<23|b>>>9)+u|0,g+=(b^u^S)+_[13]+681279174|0,g=(g<<4|g>>>28)+b|0,S+=(g^b^u)+_[0]-358537222|0,S=(S<<11|S>>>21)+g|0,u+=(S^g^b)+_[3]-722521979|0,u=(u<<16|u>>>16)+S|0,b+=(u^S^g)+_[6]+76029189|0,b=(b<<23|b>>>9)+u|0,g+=(b^u^S)+_[9]-640364487|0,g=(g<<4|g>>>28)+b|0,S+=(g^b^u)+_[12]-421815835|0,S=(S<<11|S>>>21)+g|0,u+=(S^g^b)+_[15]+530742520|0,u=(u<<16|u>>>16)+S|0,b+=(u^S^g)+_[2]-995338651|0,b=(b<<23|b>>>9)+u|0,g+=(u^(b|~S))+_[0]-198630844|0,g=(g<<6|g>>>26)+b|0,S+=(b^(g|~u))+_[7]+1126891415|0,S=(S<<10|S>>>22)+g|0,u+=(g^(S|~b))+_[14]-1416354905|0,u=(u<<15|u>>>17)+S|0,b+=(S^(u|~g))+_[5]-57434055|0,b=(b<<21|b>>>11)+u|0,g+=(u^(b|~S))+_[12]+1700485571|0,g=(g<<6|g>>>26)+b|0,S+=(b^(g|~u))+_[3]-1894986606|0,S=(S<<10|S>>>22)+g|0,u+=(g^(S|~b))+_[10]-1051523|0,u=(u<<15|u>>>17)+S|0,b+=(S^(u|~g))+_[1]-2054922799|0,b=(b<<21|b>>>11)+u|0,g+=(u^(b|~S))+_[8]+1873313359|0,g=(g<<6|g>>>26)+b|0,S+=(b^(g|~u))+_[15]-30611744|0,S=(S<<10|S>>>22)+g|0,u+=(g^(S|~b))+_[6]-1560198380|0,u=(u<<15|u>>>17)+S|0,b+=(S^(u|~g))+_[13]+1309151649|0,b=(b<<21|b>>>11)+u|0,g+=(u^(b|~S))+_[4]-145523070|0,g=(g<<6|g>>>26)+b|0,S+=(b^(g|~u))+_[11]-1120210379|0,S=(S<<10|S>>>22)+g|0,u+=(g^(S|~b))+_[2]+718787259|0,u=(u<<15|u>>>17)+S|0,b+=(S^(u|~g))+_[9]-343485551|0,b=(b<<21|b>>>11)+u|0,m[0]=g+m[0]|0,m[1]=b+m[1]|0,m[2]=u+m[2]|0,m[3]=S+m[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(e.stateIdentity),this}appendStr(m){const _=this._buffer8,g=this._buffer32;let u,S,b=this._bufferLength;for(S=0;S<m.length;S+=1){if(u=m.charCodeAt(S),u<128)_[b++]=u;else if(u<2048)_[b++]=192+(u>>>6),_[b++]=63&u|128;else if(u<55296||u>56319)_[b++]=224+(u>>>12),_[b++]=u>>>6&63|128,_[b++]=63&u|128;else{if(u=1024*(u-55296)+(m.charCodeAt(++S)-56320)+65536,u>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");_[b++]=240+(u>>>18),_[b++]=u>>>12&63|128,_[b++]=u>>>6&63|128,_[b++]=63&u|128}b>=64&&(this._dataLength+=64,e._md5cycle(this._state,g),b-=64,g[0]=g[16])}return this._bufferLength=b,this}appendAsciiStr(m){const _=this._buffer8,g=this._buffer32;let u,b=this._bufferLength,S=0;for(;;){for(u=Math.min(m.length-S,64-b);u--;)_[b++]=m.charCodeAt(S++);if(b<64)break;this._dataLength+=64,e._md5cycle(this._state,g),b=0}return this._bufferLength=b,this}appendByteArray(m){const _=this._buffer8,g=this._buffer32;let u,b=this._bufferLength,S=0;for(;;){for(u=Math.min(m.length-S,64-b);u--;)_[b++]=m[S++];if(b<64)break;this._dataLength+=64,e._md5cycle(this._state,g),b=0}return this._bufferLength=b,this}getState(){const m=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[m[0],m[1],m[2],m[3]]}}setState(m){const _=m.buffer,g=m.state,b=this._state;let u;for(this._dataLength=m.length,this._bufferLength=m.buflen,b[0]=g[0],b[1]=g[1],b[2]=g[2],b[3]=g[3],u=0;u<_.length;u+=1)this._buffer8[u]=_.charCodeAt(u)}end(m=!1){const _=this._bufferLength,g=this._buffer8,b=this._buffer32,u=1+(_>>2);this._dataLength+=_;const S=8*this._dataLength;if(g[_]=128,g[_+1]=g[_+2]=g[_+3]=0,b.set(e.buffer32Identity.subarray(u),u),_>55&&(e._md5cycle(this._state,b),b.set(e.buffer32Identity)),S<=4294967295)b[14]=S;else{const D=S.toString(16).match(/(.*?)(.{0,8})$/);if(null===D)return;const E=parseInt(D[2],16),A=parseInt(D[1],16)||0;b[14]=E,b[15]=A}return e._md5cycle(this._state,b),m?this._state:e._hex(this._state)}}if(e.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),e.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),e.hexChars="0123456789abcdef",e.hexOut=[],e.onePassHasher=new e,"5d41402abc4b2a76b9719d911017c592"!==e.hashStr("hello"))throw new Error("Md5 self test failed.");class d{constructor(m,_){this._queue=[],this._ready=!0;const g=this;Worker?(g._hashWorker=new Worker(m,_),g._hashWorker.onmessage=g._recievedMessage.bind(g),g._hashWorker.onerror=b=>{g._ready=!1,console.error("Hash worker failure",b)}):(g._ready=!1,console.error("Web Workers are not supported in this browser"))}hash(m){const _=this;let g;return g=new Promise((b,u)=>{_._queue.push({blob:m,resolve:b,reject:u}),_._processNext()}),g}terminate(){this._ready=!1,this._hashWorker.terminate()}_processNext(){this._ready&&!this._processing&&this._queue.length>0&&(this._processing=this._queue.pop(),this._hashWorker.postMessage(this._processing.blob))}_recievedMessage(m){var _,g;const b=m.data;b.success?null===(_=this._processing)||void 0===_||_.resolve(b.result):null===(g=this._processing)||void 0===g||g.reject(b.result),this._processing=void 0,this._processNext()}}},9969:(Mt,pe,a)=>{"use strict";a.d(pe,{FX:()=>y,If:()=>e,K2:()=>_,MA:()=>E,Os:()=>m,P:()=>v,hZ:()=>d,i0:()=>p,i7:()=>u,iF:()=>g,kY:()=>S,kp:()=>i,sf:()=>$,ui:()=>B,wk:()=>b});var e=function(I){return I[I.State=0]="State",I[I.Transition=1]="Transition",I[I.Sequence=2]="Sequence",I[I.Group=3]="Group",I[I.Animate=4]="Animate",I[I.Keyframes=5]="Keyframes",I[I.Style=6]="Style",I[I.Trigger=7]="Trigger",I[I.Reference=8]="Reference",I[I.AnimateChild=9]="AnimateChild",I[I.AnimateRef=10]="AnimateRef",I[I.Query=11]="Query",I[I.Stagger=12]="Stagger",I}(e||{});const i="*";function d(I,w){return{type:e.Trigger,name:I,definitions:w,options:{}}}function p(I,w=null){return{type:e.Animate,styles:w,timings:I}}function m(I,w=null){return{type:e.Group,steps:I,options:w}}function _(I,w=null){return{type:e.Sequence,steps:I,options:w}}function g(I){return{type:e.Style,styles:I,offset:null}}function b(I,w,L){return{type:e.State,name:I,styles:w,options:L}}function u(I){return{type:e.Keyframes,steps:I}}function S(I,w,L=null){return{type:e.Transition,expr:I,animation:w,options:L}}function E(I=null){return{type:e.AnimateChild,options:I}}function v(I,w,L=null){return{type:e.Query,selector:I,animation:w,options:L}}class ${constructor(w=0,L=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=w+L}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(w=>w()),this._onDoneFns=[])}onStart(w){this._originalOnStartFns.push(w),this._onStartFns.push(w)}onDone(w){this._originalOnDoneFns.push(w),this._onDoneFns.push(w)}onDestroy(w){this._onDestroyFns.push(w)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(w=>w()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(w=>w()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(w){this._position=this.totalTime?w*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(w){const L="start"==w?this._onStartFns:this._onDoneFns;L.forEach(Q=>Q()),L.length=0}}class B{constructor(w){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=w;let L=0,Q=0,te=0;const R=this.players.length;0==R?queueMicrotask(()=>this._onFinish()):this.players.forEach(ee=>{ee.onDone(()=>{++L==R&&this._onFinish()}),ee.onDestroy(()=>{++Q==R&&this._onDestroy()}),ee.onStart(()=>{++te==R&&this._onStart()})}),this.totalTime=this.players.reduce((ee,k)=>Math.max(ee,k.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(w=>w()),this._onDoneFns=[])}init(){this.players.forEach(w=>w.init())}onStart(w){this._onStartFns.push(w)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(w=>w()),this._onStartFns=[])}onDone(w){this._onDoneFns.push(w)}onDestroy(w){this._onDestroyFns.push(w)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(w=>w.play())}pause(){this.players.forEach(w=>w.pause())}restart(){this.players.forEach(w=>w.restart())}finish(){this._onFinish(),this.players.forEach(w=>w.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(w=>w.destroy()),this._onDestroyFns.forEach(w=>w()),this._onDestroyFns=[])}reset(){this.players.forEach(w=>w.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(w){const L=w*this.totalTime;this.players.forEach(Q=>{const te=Q.totalTime?Math.min(1,L/Q.totalTime):1;Q.setPosition(te)})}getPosition(){const w=this.players.reduce((L,Q)=>null===L||Q.totalTime>L.totalTime?Q:L,null);return null!=w?w.getPosition():0}beforeDestroy(){this.players.forEach(w=>{w.beforeDestroy&&w.beforeDestroy()})}triggerCallback(w){const L="start"==w?this._onStartFns:this._onDoneFns;L.forEach(Q=>Q()),L.length=0}}const y="!"},9888:(Mt,pe,a)=>{"use strict";a.d(pe,{Pd:()=>Ie,Au:()=>X,vr:()=>Q,vR:()=>Bt,kB:()=>Le,Bu:()=>fe,FN:()=>Qe,GX:()=>Oe,Q_:()=>ne,Z7:()=>Ce,Ai:()=>Sn,px:()=>U,_G:()=>Ft,w6:()=>_n,Ae:()=>$});var e=a(177),i=a(3953),d=a(6860),p=a(5286),m=a(4337),g=(a(8982),a(4421)),b=a(9928),u=a(7336),S=a(8841),D=a(3020),E=a(8728),A=a(5006),O=(a(9493),a(7753)),z=a(522),G=a(7605),F=a(2318),H=a(4085),Y=a(9327);const P=" ";function U(Te,Ge,Ue){const Fe=B(Te,Ge);Ue=Ue.trim(),!Fe.some(At=>At.trim()===Ue)&&(Fe.push(Ue),Te.setAttribute(Ge,Fe.join(P)))}function $(Te,Ge,Ue){const Fe=B(Te,Ge);Ue=Ue.trim();const At=Fe.filter(Ke=>Ke!==Ue);At.length?Te.setAttribute(Ge,At.join(P)):Te.removeAttribute(Ge)}function B(Te,Ge){return Te.getAttribute(Ge)?.match(/\S+/g)??[]}const I="cdk-describedby-message",w="cdk-describedby-host";let L=0,Q=(()=>{class Te{constructor(Ue,Fe){this._platform=Fe,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+L++,this._document=Ue,this._id=(0,i.WQX)(i.sZ2)+"-"+L++}describe(Ue,Fe,At){if(!this._canBeDescribed(Ue,Fe))return;const Ke=te(Fe,At);"string"!=typeof Fe?(R(Fe,this._id),this._messageRegistry.set(Ke,{messageElement:Fe,referenceCount:0})):this._messageRegistry.has(Ke)||this._createMessageElement(Fe,At),this._isElementDescribedByMessage(Ue,Ke)||this._addMessageReference(Ue,Ke)}removeDescription(Ue,Fe,At){if(!Fe||!this._isElementNode(Ue))return;const Ke=te(Fe,At);if(this._isElementDescribedByMessage(Ue,Ke)&&this._removeMessageReference(Ue,Ke),"string"==typeof Fe){const xt=this._messageRegistry.get(Ke);xt&&0===xt.referenceCount&&this._deleteMessageElement(Ke)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const Ue=this._document.querySelectorAll(`[${w}="${this._id}"]`);for(let Fe=0;Fe<Ue.length;Fe++)this._removeCdkDescribedByReferenceIds(Ue[Fe]),Ue[Fe].removeAttribute(w);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(Ue,Fe){const At=this._document.createElement("div");R(At,this._id),At.textContent=Ue,Fe&&At.setAttribute("role",Fe),this._createMessagesContainer(),this._messagesContainer.appendChild(At),this._messageRegistry.set(te(Ue,Fe),{messageElement:At,referenceCount:0})}_deleteMessageElement(Ue){this._messageRegistry.get(Ue)?.messageElement?.remove(),this._messageRegistry.delete(Ue)}_createMessagesContainer(){if(this._messagesContainer)return;const Ue="cdk-describedby-message-container",Fe=this._document.querySelectorAll(`.${Ue}[platform="server"]`);for(let Ke=0;Ke<Fe.length;Ke++)Fe[Ke].remove();const At=this._document.createElement("div");At.style.visibility="hidden",At.classList.add(Ue),At.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&At.setAttribute("platform","server"),this._document.body.appendChild(At),this._messagesContainer=At}_removeCdkDescribedByReferenceIds(Ue){const Fe=B(Ue,"aria-describedby").filter(At=>0!=At.indexOf(I));Ue.setAttribute("aria-describedby",Fe.join(" "))}_addMessageReference(Ue,Fe){const At=this._messageRegistry.get(Fe);U(Ue,"aria-describedby",At.messageElement.id),Ue.setAttribute(w,this._id),At.referenceCount++}_removeMessageReference(Ue,Fe){const At=this._messageRegistry.get(Fe);At.referenceCount--,$(Ue,"aria-describedby",At.messageElement.id),Ue.removeAttribute(w)}_isElementDescribedByMessage(Ue,Fe){const At=B(Ue,"aria-describedby"),Ke=this._messageRegistry.get(Fe),xt=Ke&&Ke.messageElement.id;return!!xt&&-1!=At.indexOf(xt)}_canBeDescribed(Ue,Fe){if(!this._isElementNode(Ue))return!1;if(Fe&&"object"==typeof Fe)return!0;const At=null==Fe?"":`${Fe}`.trim(),Ke=Ue.getAttribute("aria-label");return!(!At||Ke&&Ke.trim()===At)}_isElementNode(Ue){return Ue.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(Fe){return new(Fe||Te)(i.KVO(e.qQ),i.KVO(d.OD))};static#t=this.\u0275prov=i.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})();function te(Te,Ge){return"string"==typeof Te?`${Ge||""}/${Te}`:Te}function R(Te,Ge){Te.id||(Te.id=`${I}-${Ge}-${L++}`)}class k{constructor(Ge,Ue){this._letterKeyStream=new p.B7,this._items=[],this._selectedItemIndex=-1,this._pressedLetters=[],this._selectedItem=new p.B7,this.selectedItem=this._selectedItem;const Fe="number"==typeof Ue?.debounceInterval?Ue.debounceInterval:200;Ue?.skipPredicate&&(this._skipPredicateFn=Ue.skipPredicate),this.setItems(Ge),this._setupKeyHandler(Fe)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(Ge){this._selectedItemIndex=Ge}setItems(Ge){this._items=Ge}handleKey(Ge){const Ue=Ge.keyCode;Ge.key&&1===Ge.key.length?this._letterKeyStream.next(Ge.key.toLocaleUpperCase()):(Ue>=u.A&&Ue<=u.Z||Ue>=u.f2&&Ue<=u.bn)&&this._letterKeyStream.next(String.fromCharCode(Ue))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(Ge){this._letterKeyStream.pipe((0,S.M)(Ue=>this._pressedLetters.push(Ue)),(0,D.B)(Ge),(0,E.p)(()=>this._pressedLetters.length>0),(0,A.T)(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(Ue=>{for(let Fe=1;Fe<this._items.length+1;Fe++){const Ke=this._items[(this._selectedItemIndex+Fe)%this._items.length];if(!this._skipPredicateFn?.(Ke)&&0===Ke.getLabel?.().toLocaleUpperCase().trim().indexOf(Ue)){this._selectedItem.next(Ke);break}}this._pressedLetters=[]})}}class J{constructor(Ge,Ue){this._items=Ge,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._typeaheadSubscription=m.y.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=Fe=>Fe.disabled,this.tabOut=new p.B7,this.change=new p.B7,Ge instanceof i.rOR?this._itemChangesSubscription=Ge.changes.subscribe(Fe=>this._itemsChanged(Fe.toArray())):(0,i.Hps)(Ge)&&(this._effectRef=(0,i.QZP)(()=>this._itemsChanged(Ge()),{injector:Ue}))}skipPredicate(Ge){return this._skipPredicateFn=Ge,this}withWrap(Ge=!0){return this._wrap=Ge,this}withVerticalOrientation(Ge=!0){return this._vertical=Ge,this}withHorizontalOrientation(Ge){return this._horizontal=Ge,this}withAllowedModifierKeys(Ge){return this._allowedModifierKeys=Ge,this}withTypeAhead(Ge=200){this._typeaheadSubscription.unsubscribe();const Ue=this._getItemsArray();return this._typeahead=new k(Ue,{debounceInterval:"number"==typeof Ge?Ge:void 0,skipPredicate:Fe=>this._skipPredicateFn(Fe)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(Fe=>{this.setActiveItem(Fe)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(Ge=!0){return this._homeAndEnd=Ge,this}withPageUpDown(Ge=!0,Ue=10){return this._pageUpAndDown={enabled:Ge,delta:Ue},this}setActiveItem(Ge){const Ue=this._activeItem;this.updateActiveItem(Ge),this._activeItem!==Ue&&this.change.next(this._activeItemIndex)}onKeydown(Ge){const Ue=Ge.keyCode,At=["altKey","ctrlKey","metaKey","shiftKey"].every(Ke=>!Ge[Ke]||this._allowedModifierKeys.indexOf(Ke)>-1);switch(Ue){case u.wn:return void this.tabOut.next();case u.n6:if(this._vertical&&At){this.setNextItemActive();break}return;case u.i7:if(this._vertical&&At){this.setPreviousItemActive();break}return;case u.LE:if(this._horizontal&&At){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case u.UQ:if(this._horizontal&&At){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case u.yZ:if(this._homeAndEnd&&At){this.setFirstItemActive();break}return;case u.Kp:if(this._homeAndEnd&&At){this.setLastItemActive();break}return;case u.w_:if(this._pageUpAndDown.enabled&&At){const Ke=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Ke>0?Ke:0,1);break}return;case u.dB:if(this._pageUpAndDown.enabled&&At){const Ke=this._activeItemIndex+this._pageUpAndDown.delta,xt=this._getItemsArray().length;this._setActiveItemByIndex(Ke<xt?Ke:xt-1,-1);break}return;default:return void((At||(0,u.rp)(Ge,"shiftKey"))&&this._typeahead?.handleKey(Ge))}this._typeahead?.reset(),Ge.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(Ge){const Ue=this._getItemsArray(),Fe="number"==typeof Ge?Ge:Ue.indexOf(Ge);this._activeItem=Ue[Fe]??null,this._activeItemIndex=Fe,this._typeahead?.setCurrentSelectedItemIndex(Fe)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(Ge){this._wrap?this._setActiveInWrapMode(Ge):this._setActiveInDefaultMode(Ge)}_setActiveInWrapMode(Ge){const Ue=this._getItemsArray();for(let Fe=1;Fe<=Ue.length;Fe++){const At=(this._activeItemIndex+Ge*Fe+Ue.length)%Ue.length;if(!this._skipPredicateFn(Ue[At]))return void this.setActiveItem(At)}}_setActiveInDefaultMode(Ge){this._setActiveItemByIndex(this._activeItemIndex+Ge,Ge)}_setActiveItemByIndex(Ge,Ue){const Fe=this._getItemsArray();if(Fe[Ge]){for(;this._skipPredicateFn(Fe[Ge]);)if(!Fe[Ge+=Ue])return;this.setActiveItem(Ge)}}_getItemsArray(){return(0,i.Hps)(this._items)?this._items():this._items instanceof i.rOR?this._items.toArray():this._items}_itemsChanged(Ge){if(this._typeahead?.setItems(Ge),this._activeItem){const Ue=Ge.indexOf(this._activeItem);Ue>-1&&Ue!==this._activeItemIndex&&(this._activeItemIndex=Ue,this._typeahead?.setCurrentSelectedItemIndex(Ue))}}}class X extends J{setActiveItem(Ge){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(Ge),this.activeItem&&this.activeItem.setActiveStyles()}}class fe extends J{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(Ge){return this._origin=Ge,this}setActiveItem(Ge){super.setActiveItem(Ge),this.activeItem&&this.activeItem.focus(this._origin)}}let Ce=(()=>{class Te{constructor(Ue){this._platform=Ue}isDisabled(Ue){return Ue.hasAttribute("disabled")}isVisible(Ue){return function ue(Te){return!!(Te.offsetWidth||Te.offsetHeight||"function"==typeof Te.getClientRects&&Te.getClientRects().length)}(Ue)&&"visible"===getComputedStyle(Ue).visibility}isTabbable(Ue){if(!this._platform.isBrowser)return!1;const Fe=function be(Te){try{return Te.frameElement}catch{return null}}(function ot(Te){return Te.ownerDocument&&Te.ownerDocument.defaultView||window}(Ue));if(Fe&&(-1===Vt(Fe)||!this.isVisible(Fe)))return!1;let At=Ue.nodeName.toLowerCase(),Ke=Vt(Ue);return Ue.hasAttribute("contenteditable")?-1!==Ke:!("iframe"===At||"object"===At||this._platform.WEBKIT&&this._platform.IOS&&!function qe(Te){let Ge=Te.nodeName.toLowerCase(),Ue="input"===Ge&&Te.type;return"text"===Ue||"password"===Ue||"select"===Ge||"textarea"===Ge}(Ue))&&("audio"===At?!!Ue.hasAttribute("controls")&&-1!==Ke:"video"===At?-1!==Ke&&(null!==Ke||this._platform.FIREFOX||Ue.hasAttribute("controls")):Ue.tabIndex>=0)}isFocusable(Ue,Fe){return function gt(Te){return!function $e(Te){return function Ve(Te){return"input"==Te.nodeName.toLowerCase()}(Te)&&"hidden"==Te.type}(Te)&&(function me(Te){let Ge=Te.nodeName.toLowerCase();return"input"===Ge||"select"===Ge||"button"===Ge||"textarea"===Ge}(Te)||function Et(Te){return function st(Te){return"a"==Te.nodeName.toLowerCase()}(Te)&&Te.hasAttribute("href")}(Te)||Te.hasAttribute("contenteditable")||ht(Te))}(Ue)&&!this.isDisabled(Ue)&&(Fe?.ignoreVisibility||this.isVisible(Ue))}static#e=this.\u0275fac=function(Fe){return new(Fe||Te)(i.KVO(d.OD))};static#t=this.\u0275prov=i.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})();function ht(Te){if(!Te.hasAttribute("tabindex")||void 0===Te.tabIndex)return!1;let Ge=Te.getAttribute("tabindex");return!(!Ge||isNaN(parseInt(Ge,10)))}function Vt(Te){if(!ht(Te))return null;const Ge=parseInt(Te.getAttribute("tabindex")||"",10);return isNaN(Ge)?-1:Ge}class ae{get enabled(){return this._enabled}set enabled(Ge){this._enabled=Ge,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Ge,this._startAnchor),this._toggleAnchorTabIndex(Ge,this._endAnchor))}constructor(Ge,Ue,Fe,At,Ke=!1,xt){this._element=Ge,this._checker=Ue,this._ngZone=Fe,this._document=At,this._injector=xt,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Ke||this.attachAnchors()}destroy(){const Ge=this._startAnchor,Ue=this._endAnchor;Ge&&(Ge.removeEventListener("focus",this.startAnchorListener),Ge.remove()),Ue&&(Ue.removeEventListener("focus",this.endAnchorListener),Ue.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(Ge){return new Promise(Ue=>{this._executeOnStable(()=>Ue(this.focusInitialElement(Ge)))})}focusFirstTabbableElementWhenReady(Ge){return new Promise(Ue=>{this._executeOnStable(()=>Ue(this.focusFirstTabbableElement(Ge)))})}focusLastTabbableElementWhenReady(Ge){return new Promise(Ue=>{this._executeOnStable(()=>Ue(this.focusLastTabbableElement(Ge)))})}_getRegionBoundary(Ge){const Ue=this._element.querySelectorAll(`[cdk-focus-region-${Ge}], [cdkFocusRegion${Ge}], [cdk-focus-${Ge}]`);return"start"==Ge?Ue.length?Ue[0]:this._getFirstTabbableElement(this._element):Ue.length?Ue[Ue.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(Ge){const Ue=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Ue){if(!this._checker.isFocusable(Ue)){const Fe=this._getFirstTabbableElement(Ue);return Fe?.focus(Ge),!!Fe}return Ue.focus(Ge),!0}return this.focusFirstTabbableElement(Ge)}focusFirstTabbableElement(Ge){const Ue=this._getRegionBoundary("start");return Ue&&Ue.focus(Ge),!!Ue}focusLastTabbableElement(Ge){const Ue=this._getRegionBoundary("end");return Ue&&Ue.focus(Ge),!!Ue}hasAttached(){return this._hasAttached}_getFirstTabbableElement(Ge){if(this._checker.isFocusable(Ge)&&this._checker.isTabbable(Ge))return Ge;const Ue=Ge.children;for(let Fe=0;Fe<Ue.length;Fe++){const At=Ue[Fe].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Ue[Fe]):null;if(At)return At}return null}_getLastTabbableElement(Ge){if(this._checker.isFocusable(Ge)&&this._checker.isTabbable(Ge))return Ge;const Ue=Ge.children;for(let Fe=Ue.length-1;Fe>=0;Fe--){const At=Ue[Fe].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Ue[Fe]):null;if(At)return At}return null}_createAnchor(){const Ge=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,Ge),Ge.classList.add("cdk-visually-hidden"),Ge.classList.add("cdk-focus-trap-anchor"),Ge.setAttribute("aria-hidden","true"),Ge}_toggleAnchorTabIndex(Ge,Ue){Ge?Ue.setAttribute("tabindex","0"):Ue.removeAttribute("tabindex")}toggleAnchors(Ge){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Ge,this._startAnchor),this._toggleAnchorTabIndex(Ge,this._endAnchor))}_executeOnStable(Ge){this._injector?(0,i.mal)(Ge,{injector:this._injector}):setTimeout(Ge)}}let Oe=(()=>{class Te{constructor(Ue,Fe,At){this._checker=Ue,this._ngZone=Fe,this._injector=(0,i.WQX)(i.zZn),this._document=At}create(Ue,Fe=!1){return new ae(Ue,this._checker,this._ngZone,this._document,Fe,this._injector)}static#e=this.\u0275fac=function(Fe){return new(Fe||Te)(i.KVO(Ce),i.KVO(i.SKi),i.KVO(e.qQ))};static#t=this.\u0275prov=i.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})(),Le=(()=>{class Te{get enabled(){return this.focusTrap?.enabled||!1}set enabled(Ue){this.focusTrap&&(this.focusTrap.enabled=Ue)}constructor(Ue,Fe,At){this._elementRef=Ue,this._focusTrapFactory=Fe,this._previouslyFocusedElement=null,(0,i.WQX)(d.OD).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(Ue){const Fe=Ue.autoCapture;Fe&&!Fe.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,d.vc)(),this.focusTrap?.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(Fe){return new(Fe||Te)(i.rXU(i.aKT),i.rXU(Oe),i.rXU(e.qQ))};static#t=this.\u0275dir=i.FsC({type:Te,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",i.L39],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",i.L39]},exportAs:["cdkTrapFocus"],standalone:!0,features:[i.GFd,i.OA$]})}return Te})();function Ft(Te){return 0===Te.buttons||0===Te.detail}function _n(Te){const Ge=Te.touches&&Te.touches[0]||Te.changedTouches&&Te.changedTouches[0];return!(!Ge||-1!==Ge.identifier||null!=Ge.radiusX&&1!==Ge.radiusX||null!=Ge.radiusY&&1!==Ge.radiusY)}const ft=new i.nKC("cdk-input-modality-detector-options"),pt={ignoreKeys:[u.A$,u.W3,u.eg,u.Ge,u.FX]},kt=(0,d.BQ)({passive:!0,capture:!0});let dn=(()=>{class Te{get mostRecentModality(){return this._modality.value}constructor(Ue,Fe,At,Ke){this._platform=Ue,this._mostRecentTarget=null,this._modality=new b.t(null),this._lastTouchMs=0,this._onKeydown=xt=>{this._options?.ignoreKeys?.some(tn=>tn===xt.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,d.Fb)(xt))},this._onMousedown=xt=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Ft(xt)?"keyboard":"mouse"),this._mostRecentTarget=(0,d.Fb)(xt))},this._onTouchstart=xt=>{_n(xt)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,d.Fb)(xt))},this._options={...pt,...Ke},this.modalityDetected=this._modality.pipe((0,O.i)(1)),this.modalityChanged=this.modalityDetected.pipe((0,z.F)()),Ue.isBrowser&&Fe.runOutsideAngular(()=>{At.addEventListener("keydown",this._onKeydown,kt),At.addEventListener("mousedown",this._onMousedown,kt),At.addEventListener("touchstart",this._onTouchstart,kt)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,kt),document.removeEventListener("mousedown",this._onMousedown,kt),document.removeEventListener("touchstart",this._onTouchstart,kt))}static#e=this.\u0275fac=function(Fe){return new(Fe||Te)(i.KVO(d.OD),i.KVO(i.SKi),i.KVO(e.qQ),i.KVO(ft,8))};static#t=this.\u0275prov=i.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})();const pn=new i.nKC("liveAnnouncerElement",{providedIn:"root",factory:function un(){return null}}),an=new i.nKC("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let hn=0,Sn=(()=>{class Te{constructor(Ue,Fe,At,Ke){this._ngZone=Fe,this._defaultOptions=Ke,this._document=At,this._liveElement=Ue||this._createLiveElement()}announce(Ue,...Fe){const At=this._defaultOptions;let Ke,xt;return 1===Fe.length&&"number"==typeof Fe[0]?xt=Fe[0]:[Ke,xt]=Fe,this.clear(),clearTimeout(this._previousTimeout),Ke||(Ke=At&&At.politeness?At.politeness:"polite"),null==xt&&At&&(xt=At.duration),this._liveElement.setAttribute("aria-live",Ke),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(tn=>this._currentResolve=tn)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=Ue,"number"==typeof xt&&(this._previousTimeout=setTimeout(()=>this.clear(),xt)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const Ue="cdk-live-announcer-element",Fe=this._document.getElementsByClassName(Ue),At=this._document.createElement("div");for(let Ke=0;Ke<Fe.length;Ke++)Fe[Ke].remove();return At.classList.add(Ue),At.classList.add("cdk-visually-hidden"),At.setAttribute("aria-atomic","true"),At.setAttribute("aria-live","polite"),At.id="cdk-live-announcer-"+hn++,this._document.body.appendChild(At),At}_exposeAnnouncerToModals(Ue){const Fe=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let At=0;At<Fe.length;At++){const Ke=Fe[At],xt=Ke.getAttribute("aria-owns");xt?-1===xt.indexOf(Ue)&&Ke.setAttribute("aria-owns",xt+" "+Ue):Ke.setAttribute("aria-owns",Ue)}}static#e=this.\u0275fac=function(Fe){return new(Fe||Te)(i.KVO(pn,8),i.KVO(i.SKi),i.KVO(e.qQ),i.KVO(an,8))};static#t=this.\u0275prov=i.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})();var at=function(Te){return Te[Te.IMMEDIATE=0]="IMMEDIATE",Te[Te.EVENTUAL=1]="EVENTUAL",Te}(at||{});const ct=new i.nKC("cdk-focus-monitor-default-options"),Xe=(0,d.BQ)({passive:!0,capture:!0});let Qe=(()=>{class Te{constructor(Ue,Fe,At,Ke,xt){this._ngZone=Ue,this._platform=Fe,this._inputModalityDetector=At,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new p.B7,this._rootNodeFocusAndBlurListener=tn=>{for(let En=(0,d.Fb)(tn);En;En=En.parentElement)"focus"===tn.type?this._onFocus(tn,En):this._onBlur(tn,En)},this._document=Ke,this._detectionMode=xt?.detectionMode||at.IMMEDIATE}monitor(Ue,Fe=!1){const At=(0,H.i8)(Ue);if(!this._platform.isBrowser||1!==At.nodeType)return(0,g.of)();const Ke=(0,d.KT)(At)||this._getDocument(),xt=this._elementInfo.get(At);if(xt)return Fe&&(xt.checkChildren=!0),xt.subject;const tn={checkChildren:Fe,subject:new p.B7,rootNode:Ke};return this._elementInfo.set(At,tn),this._registerGlobalListeners(tn),tn.subject}stopMonitoring(Ue){const Fe=(0,H.i8)(Ue),At=this._elementInfo.get(Fe);At&&(At.subject.complete(),this._setClasses(Fe),this._elementInfo.delete(Fe),this._removeGlobalListeners(At))}focusVia(Ue,Fe,At){const Ke=(0,H.i8)(Ue);Ke===this._getDocument().activeElement?this._getClosestElementsInfo(Ke).forEach(([tn,nn])=>this._originChanged(tn,Fe,nn)):(this._setOrigin(Fe),"function"==typeof Ke.focus&&Ke.focus(At))}ngOnDestroy(){this._elementInfo.forEach((Ue,Fe)=>this.stopMonitoring(Fe))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Ue){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Ue)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:Ue&&this._isLastInteractionFromInputLabel(Ue)?"mouse":"program"}_shouldBeAttributedToTouch(Ue){return this._detectionMode===at.EVENTUAL||!!Ue?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(Ue,Fe){Ue.classList.toggle("cdk-focused",!!Fe),Ue.classList.toggle("cdk-touch-focused","touch"===Fe),Ue.classList.toggle("cdk-keyboard-focused","keyboard"===Fe),Ue.classList.toggle("cdk-mouse-focused","mouse"===Fe),Ue.classList.toggle("cdk-program-focused","program"===Fe)}_setOrigin(Ue,Fe=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Ue,this._originFromTouchInteraction="touch"===Ue&&Fe,this._detectionMode===at.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Ue,Fe){const At=this._elementInfo.get(Fe),Ke=(0,d.Fb)(Ue);!At||!At.checkChildren&&Fe!==Ke||this._originChanged(Fe,this._getFocusOrigin(Ke),At)}_onBlur(Ue,Fe){const At=this._elementInfo.get(Fe);!At||At.checkChildren&&Ue.relatedTarget instanceof Node&&Fe.contains(Ue.relatedTarget)||(this._setClasses(Fe),this._emitOrigin(At,null))}_emitOrigin(Ue,Fe){Ue.subject.observers.length&&this._ngZone.run(()=>Ue.subject.next(Fe))}_registerGlobalListeners(Ue){if(!this._platform.isBrowser)return;const Fe=Ue.rootNode,At=this._rootNodeFocusListenerCount.get(Fe)||0;At||this._ngZone.runOutsideAngular(()=>{Fe.addEventListener("focus",this._rootNodeFocusAndBlurListener,Xe),Fe.addEventListener("blur",this._rootNodeFocusAndBlurListener,Xe)}),this._rootNodeFocusListenerCount.set(Fe,At+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,G.Q)(this._stopInputModalityDetector)).subscribe(Ke=>{this._setOrigin(Ke,!0)}))}_removeGlobalListeners(Ue){const Fe=Ue.rootNode;if(this._rootNodeFocusListenerCount.has(Fe)){const At=this._rootNodeFocusListenerCount.get(Fe);At>1?this._rootNodeFocusListenerCount.set(Fe,At-1):(Fe.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Xe),Fe.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Xe),this._rootNodeFocusListenerCount.delete(Fe))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Ue,Fe,At){this._setClasses(Ue,Fe),this._emitOrigin(At,Fe),this._lastFocusOrigin=Fe}_getClosestElementsInfo(Ue){const Fe=[];return this._elementInfo.forEach((At,Ke)=>{(Ke===Ue||At.checkChildren&&Ke.contains(Ue))&&Fe.push([Ke,At])}),Fe}_isLastInteractionFromInputLabel(Ue){const{_mostRecentTarget:Fe,mostRecentModality:At}=this._inputModalityDetector;if("mouse"!==At||!Fe||Fe===Ue||"INPUT"!==Ue.nodeName&&"TEXTAREA"!==Ue.nodeName||Ue.disabled)return!1;const Ke=Ue.labels;if(Ke)for(let xt=0;xt<Ke.length;xt++)if(Ke[xt].contains(Fe))return!0;return!1}static#e=this.\u0275fac=function(Fe){return new(Fe||Te)(i.KVO(i.SKi),i.KVO(d.OD),i.KVO(dn),i.KVO(e.qQ,8),i.KVO(ct,8))};static#t=this.\u0275prov=i.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})(),Bt=(()=>{class Te{constructor(Ue,Fe){this._elementRef=Ue,this._focusMonitor=Fe,this._focusOrigin=null,this.cdkFocusChange=new i.bkB}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const Ue=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(Ue,1===Ue.nodeType&&Ue.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(Fe=>{this._focusOrigin=Fe,this.cdkFocusChange.emit(Fe)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(Fe){return new(Fe||Te)(i.rXU(i.aKT),i.rXU(Qe))};static#t=this.\u0275dir=i.FsC({type:Te,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0})}return Te})();var Xt=function(Te){return Te[Te.NONE=0]="NONE",Te[Te.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",Te[Te.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",Te}(Xt||{});const Be="cdk-high-contrast-black-on-white",oe="cdk-high-contrast-white-on-black",Ee="cdk-high-contrast-active";let ne=(()=>{class Te{constructor(Ue,Fe){this._platform=Ue,this._document=Fe,this._breakpointSubscription=(0,i.WQX)(Y.QP).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Xt.NONE;const Ue=this._document.createElement("div");Ue.style.backgroundColor="rgb(1,2,3)",Ue.style.position="absolute",this._document.body.appendChild(Ue);const Fe=this._document.defaultView||window,At=Fe&&Fe.getComputedStyle?Fe.getComputedStyle(Ue):null,Ke=(At&&At.backgroundColor||"").replace(/ /g,"");switch(Ue.remove(),Ke){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Xt.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Xt.BLACK_ON_WHITE}return Xt.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Ue=this._document.body.classList;Ue.remove(Ee,Be,oe),this._hasCheckedHighContrastMode=!0;const Fe=this.getHighContrastMode();Fe===Xt.BLACK_ON_WHITE?Ue.add(Ee,Be):Fe===Xt.WHITE_ON_BLACK&&Ue.add(Ee,oe)}}static#e=this.\u0275fac=function(Fe){return new(Fe||Te)(i.KVO(d.OD),i.KVO(e.qQ))};static#t=this.\u0275prov=i.jDH({token:Te,factory:Te.\u0275fac,providedIn:"root"})}return Te})(),Ie=(()=>{class Te{constructor(Ue){Ue._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(Fe){return new(Fe||Te)(i.KVO(ne))};static#t=this.\u0275mod=i.$C({type:Te});static#n=this.\u0275inj=i.G2t({imports:[F.w5]})}return Te})()},8203:(Mt,pe,a)=>{"use strict";a.d(pe,{dS:()=>g,jI:()=>u});var e=a(3953),i=a(177);const d=new e.nKC("cdk-dir-doc",{providedIn:"root",factory:function p(){return(0,e.WQX)(i.qQ)}}),m=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let g=(()=>{class S{constructor(E){this.value="ltr",this.change=new e.bkB,E&&(this.value=function _(S){const D=S?.toLowerCase()||"";return"auto"===D&&typeof navigator<"u"&&navigator?.language?m.test(navigator.language)?"rtl":"ltr":"rtl"===D?"rtl":"ltr"}((E.body?E.body.dir:null)||(E.documentElement?E.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(A){return new(A||S)(e.KVO(d,8))};static#t=this.\u0275prov=e.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})(),u=(()=>{class S{static#e=this.\u0275fac=function(A){return new(A||S)};static#t=this.\u0275mod=e.$C({type:S});static#n=this.\u0275inj=e.G2t({})}return S})()},3801:(Mt,pe,a)=>{"use strict";a.d(pe,{B0:()=>p,FQ:()=>g});var e=a(177),i=a(3953);class d{constructor(u,S){this._document=S;const D=this._textarea=this._document.createElement("textarea"),E=D.style;E.position="fixed",E.top=E.opacity="0",E.left="-999em",D.setAttribute("aria-hidden","true"),D.value=u,D.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(D)}copy(){const u=this._textarea;let S=!1;try{if(u){const D=this._document.activeElement;u.select(),u.setSelectionRange(0,u.value.length),S=this._document.execCommand("copy"),D&&D.focus()}}catch{}return S}destroy(){const u=this._textarea;u&&(u.remove(),this._textarea=void 0)}}let p=(()=>{class b{constructor(S){this._document=S}copy(S){const D=this.beginCopy(S),E=D.copy();return D.destroy(),E}beginCopy(S){return new d(S,this._document)}static#e=this.\u0275fac=function(D){return new(D||b)(i.KVO(e.qQ))};static#t=this.\u0275prov=i.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}return b})(),g=(()=>{class b{static#e=this.\u0275fac=function(D){return new(D||b)};static#t=this.\u0275mod=i.$C({type:b});static#n=this.\u0275inj=i.G2t({})}return b})()},4085:(Mt,pe,a)=>{"use strict";a.d(pe,{FG:()=>m,OE:()=>d,a1:()=>_,cc:()=>b,he:()=>i,i8:()=>g,o1:()=>p});var e=a(3953);function i(u){return null!=u&&"false"!=`${u}`}function d(u,S=0){return p(u)?Number(u):2===arguments.length?S:0}function p(u){return!isNaN(parseFloat(u))&&!isNaN(Number(u))}function m(u){return Array.isArray(u)?u:[u]}function _(u){return null==u?"":"string"==typeof u?u:`${u}px`}function g(u){return u instanceof e.aKT?u.nativeElement:u}function b(u,S=/\s+/){const D=[];if(null!=u){const E=Array.isArray(u)?u:`${u}`.split(S);for(const A of E){const v=`${A}`.trim();v&&D.push(v)}}return D}},5024:(Mt,pe,a)=>{"use strict";a.d(pe,{CB:()=>A,DQ:()=>E,Q3:()=>u,hx:()=>b,qS:()=>_,sL:()=>S,xn:()=>D,y4:()=>g,zP:()=>O});var e=a(4725),i=a(8982),d=a(4421),p=a(5286),m=a(3953);class _{}function g(z){return z&&"function"==typeof z.connect&&!(z instanceof e.G)}class b extends _{constructor(G){super(),this._data=G}connect(){return(0,i.A)(this._data)?this._data:(0,d.of)(this._data)}disconnect(){}}var u=function(z){return z[z.REPLACED=0]="REPLACED",z[z.INSERTED=1]="INSERTED",z[z.MOVED=2]="MOVED",z[z.REMOVED=3]="REMOVED",z}(u||{});const S=new m.nKC("_ViewRepeater");class D{applyChanges(G,K,F,H,Y){G.forEachOperation((P,U,$)=>{let B,y;if(null==P.previousIndex){const I=F(P,U,$);B=K.createEmbeddedView(I.templateRef,I.context,I.index),y=u.INSERTED}else null==$?(K.remove(U),y=u.REMOVED):(B=K.get(U),K.move(B,$),y=u.MOVED);Y&&Y({context:B?.context,operation:y,record:P})})}detach(){}}class E{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(G,K,F,H,Y){G.forEachOperation((P,U,$)=>{let B,y;null==P.previousIndex?(B=this._insertView(()=>F(P,U,$),$,K,H(P)),y=B?u.INSERTED:u.REPLACED):null==$?(this._detachAndCacheView(U,K),y=u.REMOVED):(B=this._moveView(U,$,K,H(P)),y=u.MOVED),Y&&Y({context:B?.context,operation:y,record:P})})}detach(){for(const G of this._viewCache)G.destroy();this._viewCache=[]}_insertView(G,K,F,H){const Y=this._insertViewFromCache(K,F);if(Y)return void(Y.context.$implicit=H);const P=G();return F.createEmbeddedView(P.templateRef,P.context,P.index)}_detachAndCacheView(G,K){const F=K.detach(G);this._maybeCacheView(F,K)}_moveView(G,K,F,H){const Y=F.get(G);return F.move(Y,K),Y.context.$implicit=H,Y}_maybeCacheView(G,K){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(G);else{const F=K.indexOf(G);-1===F?G.destroy():K.remove(F)}}_insertViewFromCache(G,K){const F=this._viewCache.pop();return F&&K.insert(F,G),F||null}}class A{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(G=!1,K,F=!0,H){this._multiple=G,this._emitChanges=F,this.compareWith=H,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new p.B7,K&&K.length&&(G?K.forEach(Y=>this._markSelected(Y)):this._markSelected(K[0]),this._selectedToEmit.length=0)}select(...G){this._verifyValueAssignment(G),G.forEach(F=>this._markSelected(F));const K=this._hasQueuedChanges();return this._emitChangeEvent(),K}deselect(...G){this._verifyValueAssignment(G),G.forEach(F=>this._unmarkSelected(F));const K=this._hasQueuedChanges();return this._emitChangeEvent(),K}setSelection(...G){this._verifyValueAssignment(G);const K=this.selected,F=new Set(G);G.forEach(Y=>this._markSelected(Y)),K.filter(Y=>!F.has(this._getConcreteValue(Y,F))).forEach(Y=>this._unmarkSelected(Y));const H=this._hasQueuedChanges();return this._emitChangeEvent(),H}toggle(G){return this.isSelected(G)?this.deselect(G):this.select(G)}clear(G=!0){this._unmarkAll();const K=this._hasQueuedChanges();return G&&this._emitChangeEvent(),K}isSelected(G){return this._selection.has(this._getConcreteValue(G))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(G){this._multiple&&this.selected&&this._selected.sort(G)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(G){G=this._getConcreteValue(G),this.isSelected(G)||(this._multiple||this._unmarkAll(),this.isSelected(G)||this._selection.add(G),this._emitChanges&&this._selectedToEmit.push(G))}_unmarkSelected(G){G=this._getConcreteValue(G),this.isSelected(G)&&(this._selection.delete(G),this._emitChanges&&this._deselectedToEmit.push(G))}_unmarkAll(){this.isEmpty()||this._selection.forEach(G=>this._unmarkSelected(G))}_verifyValueAssignment(G){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(G,K){if(this.compareWith){K=K??this._selection;for(let F of K)if(this.compareWith(G,F))return F;return G}return G}}let O=(()=>{class z{constructor(){this._listeners=[]}notify(K,F){for(let H of this._listeners)H(K,F)}listen(K){return this._listeners.push(K),()=>{this._listeners=this._listeners.filter(F=>K!==F)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(F){return new(F||z)};static#t=this.\u0275prov=m.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}return z})()},2529:(Mt,pe,a)=>{"use strict";a.d(pe,{Pe:()=>v,Ph:()=>y,lG:()=>$,sU:()=>z});var e=a(9888),i=a(7987),d=a(6860),p=a(6939),m=a(177),_=a(3953),g=a(7336),b=a(5286),u=a(9418),S=a(4421),D=a(8203),E=a(3176);function A(I,w){}class v{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let z=(()=>{class I extends p.lb{constructor(L,Q,te,R,ee,k,J,X){super(),this._elementRef=L,this._focusTrapFactory=Q,this._config=R,this._interactivityChecker=ee,this._ngZone=k,this._overlayRef=J,this._focusMonitor=X,this._platform=(0,_.WQX)(d.OD),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=(0,_.WQX)(_.gRc),this._injector=(0,_.WQX)(_.zZn),this._isDestroyed=!1,this.attachDomPortal=fe=>{this._portalOutlet.hasAttached();const Me=this._portalOutlet.attachDomPortal(fe);return this._contentAttached(),Me},this._document=te,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(L){this._ariaLabelledByQueue.push(L),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(L){const Q=this._ariaLabelledByQueue.indexOf(L);Q>-1&&(this._ariaLabelledByQueue.splice(Q,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(L){this._portalOutlet.hasAttached();const Q=this._portalOutlet.attachComponentPortal(L);return this._contentAttached(),Q}attachTemplatePortal(L){this._portalOutlet.hasAttached();const Q=this._portalOutlet.attachTemplatePortal(L);return this._contentAttached(),Q}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(L,Q){this._interactivityChecker.isFocusable(L)||(L.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const te=()=>{L.removeEventListener("blur",te),L.removeEventListener("mousedown",te),L.removeAttribute("tabindex")};L.addEventListener("blur",te),L.addEventListener("mousedown",te)})),L.focus(Q)}_focusByCssSelector(L,Q){let te=this._elementRef.nativeElement.querySelector(L);te&&this._forceFocus(te,Q)}_trapFocus(){this._isDestroyed||(0,_.mal)(()=>{const L=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||L.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}},{injector:this._injector})}_restoreFocus(){const L=this._config.restoreFocus;let Q=null;if("string"==typeof L?Q=this._document.querySelector(L):"boolean"==typeof L?Q=L?this._elementFocusedBeforeDialogWasOpened:null:L&&(Q=L),this._config.restoreFocus&&Q&&"function"==typeof Q.focus){const te=(0,d.vc)(),R=this._elementRef.nativeElement;(!te||te===this._document.body||te===R||R.contains(te))&&(this._focusMonitor?(this._focusMonitor.focusVia(Q,this._closeInteractionType),this._closeInteractionType=null):Q.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const L=this._elementRef.nativeElement,Q=(0,d.vc)();return L===Q||L.contains(Q)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,d.vc)()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(Q){return new(Q||I)(_.rXU(_.aKT),_.rXU(e.GX),_.rXU(m.qQ,8),_.rXU(v),_.rXU(e.Z7),_.rXU(_.SKi),_.rXU(i.yY),_.rXU(e.FN))};static#t=this.\u0275cmp=_.VBU({type:I,selectors:[["cdk-dialog-container"]],viewQuery:function(Q,te){if(1&Q&&_.GBs(p.I3,7),2&Q){let R;_.mGM(R=_.lsd())&&(te._portalOutlet=R.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(Q,te){2&Q&&_.BMQ("id",te._config.id||null)("role",te._config.role)("aria-modal",te._config.ariaModal)("aria-labelledby",te._config.ariaLabel?null:te._ariaLabelledByQueue[0])("aria-label",te._config.ariaLabel)("aria-describedby",te._config.ariaDescribedBy||null)},standalone:!0,features:[_.Vt3,_.aNF],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(Q,te){1&Q&&_.DNE(0,A,0,0,"ng-template",0)},dependencies:[p.I3],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return I})();class G{constructor(w,L){this.overlayRef=w,this.config=L,this.closed=new b.B7,this.disableClose=L.disableClose,this.backdropClick=w.backdropClick(),this.keydownEvents=w.keydownEvents(),this.outsidePointerEvents=w.outsidePointerEvents(),this.id=L.id,this.keydownEvents.subscribe(Q=>{Q.keyCode===g._f&&!this.disableClose&&!(0,g.rp)(Q)&&(Q.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=w.detachments().subscribe(()=>{!1!==L.closeOnOverlayDetachments&&this.close()})}close(w,L){if(this.containerInstance){const Q=this.closed;this.containerInstance._closeInteractionType=L?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),Q.next(w),Q.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(w="",L=""){return this.overlayRef.updateSize({width:w,height:L}),this}addPanelClass(w){return this.overlayRef.addPanelClass(w),this}removePanelClass(w){return this.overlayRef.removePanelClass(w),this}}const K=new _.nKC("DialogScrollStrategy",{providedIn:"root",factory:()=>{const I=(0,_.WQX)(i.hJ);return()=>I.scrollStrategies.block()}}),F=new _.nKC("DialogData"),H=new _.nKC("DefaultDialogConfig");let U=0,$=(()=>{class I{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(L,Q,te,R,ee,k){this._overlay=L,this._injector=Q,this._defaultOptions=te,this._parentDialog=R,this._overlayContainer=ee,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new b.B7,this._afterOpenedAtThisLevel=new b.B7,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,u.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,E.Z)(void 0))),this._scrollStrategy=k}open(L,Q){(Q={...this._defaultOptions||new v,...Q}).id=Q.id||"cdk-dialog-"+U++,Q.id&&this.getDialogById(Q.id);const R=this._getOverlayConfig(Q),ee=this._overlay.create(R),k=new G(ee,Q),J=this._attachContainer(ee,k,Q);return k.containerInstance=J,this._attachDialogContent(L,k,J,Q),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(k),k.closed.subscribe(()=>this._removeOpenDialog(k,!0)),this.afterOpened.next(k),k}closeAll(){B(this.openDialogs,L=>L.close())}getDialogById(L){return this.openDialogs.find(Q=>Q.id===L)}ngOnDestroy(){B(this._openDialogsAtThisLevel,L=>{!1===L.config.closeOnDestroy&&this._removeOpenDialog(L,!1)}),B(this._openDialogsAtThisLevel,L=>L.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(L){const Q=new i.rR({positionStrategy:L.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:L.scrollStrategy||this._scrollStrategy(),panelClass:L.panelClass,hasBackdrop:L.hasBackdrop,direction:L.direction,minWidth:L.minWidth,minHeight:L.minHeight,maxWidth:L.maxWidth,maxHeight:L.maxHeight,width:L.width,height:L.height,disposeOnNavigation:L.closeOnNavigation});return L.backdropClass&&(Q.backdropClass=L.backdropClass),Q}_attachContainer(L,Q,te){const R=te.injector||te.viewContainerRef?.injector,ee=[{provide:v,useValue:te},{provide:G,useValue:Q},{provide:i.yY,useValue:L}];let k;te.container?"function"==typeof te.container?k=te.container:(k=te.container.type,ee.push(...te.container.providers(te))):k=z;const J=new p.A8(k,te.viewContainerRef,_.zZn.create({parent:R||this._injector,providers:ee}),te.componentFactoryResolver);return L.attach(J).instance}_attachDialogContent(L,Q,te,R){if(L instanceof _.C4Q){const ee=this._createInjector(R,Q,te,void 0);let k={$implicit:R.data,dialogRef:Q};R.templateContext&&(k={...k,..."function"==typeof R.templateContext?R.templateContext():R.templateContext}),te.attachTemplatePortal(new p.VA(L,null,k,ee))}else{const ee=this._createInjector(R,Q,te,this._injector),k=te.attachComponentPortal(new p.A8(L,R.viewContainerRef,ee,R.componentFactoryResolver));Q.componentRef=k,Q.componentInstance=k.instance}}_createInjector(L,Q,te,R){const ee=L.injector||L.viewContainerRef?.injector,k=[{provide:F,useValue:L.data},{provide:G,useValue:Q}];return L.providers&&("function"==typeof L.providers?k.push(...L.providers(Q,L,te)):k.push(...L.providers)),L.direction&&(!ee||!ee.get(D.dS,null,{optional:!0}))&&k.push({provide:D.dS,useValue:{value:L.direction,change:(0,S.of)()}}),_.zZn.create({parent:ee||R,providers:k})}_removeOpenDialog(L,Q){const te=this.openDialogs.indexOf(L);te>-1&&(this.openDialogs.splice(te,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((R,ee)=>{R?ee.setAttribute("aria-hidden",R):ee.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),Q&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const L=this._overlayContainer.getContainerElement();if(L.parentElement){const Q=L.parentElement.children;for(let te=Q.length-1;te>-1;te--){const R=Q[te];R!==L&&"SCRIPT"!==R.nodeName&&"STYLE"!==R.nodeName&&!R.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(R,R.getAttribute("aria-hidden")),R.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const L=this._parentDialog;return L?L._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(Q){return new(Q||I)(_.KVO(i.hJ),_.KVO(_.zZn),_.KVO(H,8),_.KVO(I,12),_.KVO(i.Sf),_.KVO(K))};static#t=this.\u0275prov=_.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}return I})();function B(I,w){let L=I.length;for(;L--;)w(I[L])}let y=(()=>{class I{static#e=this.\u0275fac=function(Q){return new(Q||I)};static#t=this.\u0275mod=_.$C({type:I});static#n=this.\u0275inj=_.G2t({providers:[$],imports:[i.z_,p.jc,e.Pd,p.jc]})}return I})()},7336:(Mt,pe,a)=>{"use strict";a.d(pe,{A:()=>Ze,A$:()=>b,FX:()=>_,Fm:()=>m,G_:()=>i,Ge:()=>Kt,KE:()=>wn,Kp:()=>O,LE:()=>F,SJ:()=>$,UQ:()=>G,W3:()=>g,Z:()=>Gt,_f:()=>D,bn:()=>k,dB:()=>v,eg:()=>Qt,f2:()=>B,i7:()=>K,n6:()=>H,rp:()=>se,t6:()=>E,w_:()=>A,wn:()=>d,yZ:()=>z});const i=8,d=9,m=13,_=16,g=17,b=18,D=27,E=32,A=33,v=34,O=35,z=36,G=37,K=38,F=39,H=40,$=46,B=48,k=57,Ze=65,Gt=90,Kt=91,wn=188,Qt=224;function se(Ae,...xe){return xe.length?xe.some(bt=>Ae[bt]):Ae.altKey||Ae.shiftKey||Ae.ctrlKey||Ae.metaKey}},9327:(Mt,pe,a)=>{"use strict";a.d(pe,{QP:()=>H,Rp:()=>P});var e=a(3953),i=a(4085),d=a(5286),p=a(9714),m=a(1639),_=a(5817),g=a(9493),b=a(7753),u=a(3020),S=a(5006),D=a(3176),E=a(7605),A=a(6860);const O=new Set;let z,G=(()=>{class U{constructor(B,y){this._platform=B,this._nonce=y,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):F}matchMedia(B){return(this._platform.WEBKIT||this._platform.BLINK)&&function K(U,$){if(!O.has(U))try{z||(z=document.createElement("style"),$&&z.setAttribute("nonce",$),z.setAttribute("type","text/css"),document.head.appendChild(z)),z.sheet&&(z.sheet.insertRule(`@media ${U} {body{ }}`,0),O.add(U))}catch(B){console.error(B)}}(B,this._nonce),this._matchMedia(B)}static#e=this.\u0275fac=function(y){return new(y||U)(e.KVO(A.OD),e.KVO(e.BIS,8))};static#t=this.\u0275prov=e.jDH({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})();function F(U){return{matches:"all"===U||""===U,media:U,addListener:()=>{},removeListener:()=>{}}}let H=(()=>{class U{constructor(B,y){this._mediaMatcher=B,this._zone=y,this._queries=new Map,this._destroySubject=new d.B7}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(B){return Y((0,i.FG)(B)).some(I=>this._registerQuery(I).mql.matches)}observe(B){const I=Y((0,i.FG)(B)).map(L=>this._registerQuery(L).observable);let w=(0,p.zV)(I);return w=(0,m.x)(w.pipe((0,g.s)(1)),w.pipe((0,b.i)(1),(0,u.B)(0))),w.pipe((0,S.T)(L=>{const Q={matches:!1,breakpoints:{}};return L.forEach(({matches:te,query:R})=>{Q.matches=Q.matches||te,Q.breakpoints[R]=te}),Q}))}_registerQuery(B){if(this._queries.has(B))return this._queries.get(B);const y=this._mediaMatcher.matchMedia(B),w={observable:new _.c(L=>{const Q=te=>this._zone.run(()=>L.next(te));return y.addListener(Q),()=>{y.removeListener(Q)}}).pipe((0,D.Z)(y),(0,S.T)(({matches:L})=>({query:B,matches:L})),(0,E.Q)(this._destroySubject)),mql:y};return this._queries.set(B,w),w}static#e=this.\u0275fac=function(y){return new(y||U)(e.KVO(G),e.KVO(e.SKi))};static#t=this.\u0275prov=e.jDH({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})();function Y(U){return U.map($=>$.split(",")).reduce(($,B)=>$.concat(B)).map($=>$.trim())}const P={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},2318:(Mt,pe,a)=>{"use strict";a.d(pe,{Wv:()=>D,w5:()=>E});var e=a(4085),i=a(3953),d=a(5817),p=a(5286),m=a(5006),_=a(8728),g=a(3020);let u=(()=>{class A{create(O){return typeof MutationObserver>"u"?null:new MutationObserver(O)}static#e=this.\u0275fac=function(z){return new(z||A)};static#t=this.\u0275prov=i.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})(),S=(()=>{class A{constructor(O){this._mutationObserverFactory=O,this._observedElements=new Map,this._ngZone=(0,i.WQX)(i.SKi)}ngOnDestroy(){this._observedElements.forEach((O,z)=>this._cleanupObserver(z))}observe(O){const z=(0,e.i8)(O);return new d.c(G=>{const F=this._observeElement(z).pipe((0,m.T)(H=>H.filter(Y=>!function b(A){if("characterData"===A.type&&A.target instanceof Comment)return!0;if("childList"===A.type){for(let v=0;v<A.addedNodes.length;v++)if(!(A.addedNodes[v]instanceof Comment))return!1;for(let v=0;v<A.removedNodes.length;v++)if(!(A.removedNodes[v]instanceof Comment))return!1;return!0}return!1}(Y))),(0,_.p)(H=>!!H.length)).subscribe(H=>{this._ngZone.run(()=>{G.next(H)})});return()=>{F.unsubscribe(),this._unobserveElement(z)}})}_observeElement(O){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(O))this._observedElements.get(O).count++;else{const z=new p.B7,G=this._mutationObserverFactory.create(K=>z.next(K));G&&G.observe(O,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(O,{observer:G,stream:z,count:1})}return this._observedElements.get(O).stream})}_unobserveElement(O){this._observedElements.has(O)&&(this._observedElements.get(O).count--,this._observedElements.get(O).count||this._cleanupObserver(O))}_cleanupObserver(O){if(this._observedElements.has(O)){const{observer:z,stream:G}=this._observedElements.get(O);z&&z.disconnect(),G.complete(),this._observedElements.delete(O)}}static#e=this.\u0275fac=function(z){return new(z||A)(i.KVO(u))};static#t=this.\u0275prov=i.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})(),D=(()=>{class A{get disabled(){return this._disabled}set disabled(O){this._disabled=O,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(O){this._debounce=(0,e.OE)(O),this._subscribe()}constructor(O,z){this._contentObserver=O,this._elementRef=z,this.event=new i.bkB,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const O=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?O.pipe((0,g.B)(this.debounce)):O).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#e=this.\u0275fac=function(z){return new(z||A)(i.rXU(S),i.rXU(i.aKT))};static#t=this.\u0275dir=i.FsC({type:A,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",i.L39],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[i.GFd]})}return A})(),E=(()=>{class A{static#e=this.\u0275fac=function(z){return new(z||A)};static#t=this.\u0275mod=i.$C({type:A});static#n=this.\u0275inj=i.G2t({providers:[u]})}return A})()},8170:(Mt,pe,a)=>{"use strict";a.d(pe,{a:()=>u});var e=a(3953),i=a(5286),d=a(5817),p=a(8728),m=a(8712),_=a(7605);class b{constructor(D){this._box=D,this._destroyed=new i.B7,this._resizeSubject=new i.B7,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(E=>this._resizeSubject.next(E)))}observe(D){return this._elementObservables.has(D)||this._elementObservables.set(D,new d.c(E=>{const A=this._resizeSubject.subscribe(E);return this._resizeObserver?.observe(D,{box:this._box}),()=>{this._resizeObserver?.unobserve(D),A.unsubscribe(),this._elementObservables.delete(D)}}).pipe((0,p.p)(E=>E.some(A=>A.target===D)),(0,m.t)({bufferSize:1,refCount:!0}),(0,_.Q)(this._destroyed))),this._elementObservables.get(D)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let u=(()=>{class S{constructor(){this._observers=new Map,this._ngZone=(0,e.WQX)(e.SKi)}ngOnDestroy(){for(const[,E]of this._observers)E.destroy();this._observers.clear()}observe(E,A){const v=A?.box||"content-box";return this._observers.has(v)||this._observers.set(v,new b(v)),this._observers.get(v).observe(E)}static#e=this.\u0275fac=function(A){return new(A||S)};static#t=this.\u0275prov=e.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})()},7987:(Mt,pe,a)=>{"use strict";a.d(pe,{$Q:()=>Ve,Sf:()=>k,WB:()=>st,hJ:()=>me,rR:()=>$,rW:()=>Me,yY:()=>J,z_:()=>qe});var e=a(3701),i=a(177),d=a(3953),p=a(4085),m=a(6860),_=a(8728),g=a(7605),b=a(1604),u=a(8203),S=a(6939),D=a(5286),E=a(4337),A=a(4670),v=a(7336);const O=(0,m.CZ)();class z{constructor(ae,Oe){this._viewportRuler=ae,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=Oe}attach(){}enable(){if(this._canBeEnabled()){const ae=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=ae.style.left||"",this._previousHTMLStyles.top=ae.style.top||"",ae.style.left=(0,p.a1)(-this._previousScrollPosition.left),ae.style.top=(0,p.a1)(-this._previousScrollPosition.top),ae.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const ae=this._document.documentElement,Le=ae.style,Pe=this._document.body.style,_t=Le.scrollBehavior||"",Gt=Pe.scrollBehavior||"";this._isEnabled=!1,Le.left=this._previousHTMLStyles.left,Le.top=this._previousHTMLStyles.top,ae.classList.remove("cdk-global-scrollblock"),O&&(Le.scrollBehavior=Pe.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),O&&(Le.scrollBehavior=_t,Pe.scrollBehavior=Gt)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const Oe=this._document.body,Le=this._viewportRuler.getViewportSize();return Oe.scrollHeight>Le.height||Oe.scrollWidth>Le.width}}class K{constructor(ae,Oe,Le,Pe){this._scrollDispatcher=ae,this._ngZone=Oe,this._viewportRuler=Le,this._config=Pe,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(ae){this._overlayRef=ae}enable(){if(this._scrollSubscription)return;const ae=this._scrollDispatcher.scrolled(0).pipe((0,_.p)(Oe=>!Oe||!this._overlayRef.overlayElement.contains(Oe.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=ae.subscribe(()=>{const Oe=this._viewportRuler.getViewportScrollPosition().top;Math.abs(Oe-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=ae.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class F{enable(){}disable(){}attach(){}}function H(ot,ae){return ae.some(Oe=>ot.bottom<Oe.top||ot.top>Oe.bottom||ot.right<Oe.left||ot.left>Oe.right)}function Y(ot,ae){return ae.some(Oe=>ot.top<Oe.top||ot.bottom>Oe.bottom||ot.left<Oe.left||ot.right>Oe.right)}class P{constructor(ae,Oe,Le,Pe){this._scrollDispatcher=ae,this._viewportRuler=Oe,this._ngZone=Le,this._config=Pe,this._scrollSubscription=null}attach(ae){this._overlayRef=ae}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const Oe=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Le,height:Pe}=this._viewportRuler.getViewportSize();H(Oe,[{width:Le,height:Pe,bottom:Pe,right:Le,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let U=(()=>{class ot{constructor(Oe,Le,Pe,_t){this._scrollDispatcher=Oe,this._viewportRuler=Le,this._ngZone=Pe,this.noop=()=>new F,this.close=Gt=>new K(this._scrollDispatcher,this._ngZone,this._viewportRuler,Gt),this.block=()=>new z(this._viewportRuler,this._document),this.reposition=Gt=>new P(this._scrollDispatcher,this._viewportRuler,this._ngZone,Gt),this._document=_t}static#e=this.\u0275fac=function(Le){return new(Le||ot)(d.KVO(e.R),d.KVO(e.Xj),d.KVO(d.SKi),d.KVO(i.qQ))};static#t=this.\u0275prov=d.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})();class ${constructor(ae){if(this.scrollStrategy=new F,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,ae){const Oe=Object.keys(ae);for(const Le of Oe)void 0!==ae[Le]&&(this[Le]=ae[Le])}}}class I{constructor(ae,Oe){this.connectionPair=ae,this.scrollableViewProperties=Oe}}let Q=(()=>{class ot{constructor(Oe){this._attachedOverlays=[],this._document=Oe}ngOnDestroy(){this.detach()}add(Oe){this.remove(Oe),this._attachedOverlays.push(Oe)}remove(Oe){const Le=this._attachedOverlays.indexOf(Oe);Le>-1&&this._attachedOverlays.splice(Le,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(Le){return new(Le||ot)(d.KVO(i.qQ))};static#t=this.\u0275prov=d.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})(),te=(()=>{class ot extends Q{constructor(Oe,Le){super(Oe),this._ngZone=Le,this._keydownListener=Pe=>{const _t=this._attachedOverlays;for(let Gt=_t.length-1;Gt>-1;Gt--)if(_t[Gt]._keydownEvents.observers.length>0){const Kt=_t[Gt]._keydownEvents;this._ngZone?this._ngZone.run(()=>Kt.next(Pe)):Kt.next(Pe);break}}}add(Oe){super.add(Oe),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(Le){return new(Le||ot)(d.KVO(i.qQ),d.KVO(d.SKi,8))};static#t=this.\u0275prov=d.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})(),R=(()=>{class ot extends Q{constructor(Oe,Le,Pe){super(Oe),this._platform=Le,this._ngZone=Pe,this._cursorStyleIsSet=!1,this._pointerDownListener=_t=>{this._pointerDownEventTarget=(0,m.Fb)(_t)},this._clickListener=_t=>{const Gt=(0,m.Fb)(_t),Kt="click"===_t.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Gt;this._pointerDownEventTarget=null;const vn=this._attachedOverlays.slice();for(let Ft=vn.length-1;Ft>-1;Ft--){const _n=vn[Ft];if(_n._outsidePointerEvents.observers.length<1||!_n.hasAttached())continue;if(ee(_n.overlayElement,Gt)||ee(_n.overlayElement,Kt))break;const ft=_n._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>ft.next(_t)):ft.next(_t)}}}add(Oe){if(super.add(Oe),!this._isAttached){const Le=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(Le)):this._addEventListeners(Le),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Le.style.cursor,Le.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const Oe=this._document.body;Oe.removeEventListener("pointerdown",this._pointerDownListener,!0),Oe.removeEventListener("click",this._clickListener,!0),Oe.removeEventListener("auxclick",this._clickListener,!0),Oe.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(Oe.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(Oe){Oe.addEventListener("pointerdown",this._pointerDownListener,!0),Oe.addEventListener("click",this._clickListener,!0),Oe.addEventListener("auxclick",this._clickListener,!0),Oe.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(Le){return new(Le||ot)(d.KVO(i.qQ),d.KVO(m.OD),d.KVO(d.SKi,8))};static#t=this.\u0275prov=d.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})();function ee(ot,ae){const Oe=typeof ShadowRoot<"u"&&ShadowRoot;let Le=ae;for(;Le;){if(Le===ot)return!0;Le=Oe&&Le instanceof ShadowRoot?Le.host:Le.parentNode}return!1}let k=(()=>{class ot{constructor(Oe,Le){this._platform=Le,this._document=Oe}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Oe="cdk-overlay-container";if(this._platform.isBrowser||(0,m.v8)()){const Pe=this._document.querySelectorAll(`.${Oe}[platform="server"], .${Oe}[platform="test"]`);for(let _t=0;_t<Pe.length;_t++)Pe[_t].remove()}const Le=this._document.createElement("div");Le.classList.add(Oe),(0,m.v8)()?Le.setAttribute("platform","test"):this._platform.isBrowser||Le.setAttribute("platform","server"),this._document.body.appendChild(Le),this._containerElement=Le}static#e=this.\u0275fac=function(Le){return new(Le||ot)(d.KVO(i.qQ),d.KVO(m.OD))};static#t=this.\u0275prov=d.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})();class J{constructor(ae,Oe,Le,Pe,_t,Gt,Kt,vn,Ft,_n=!1,ft){this._portalOutlet=ae,this._host=Oe,this._pane=Le,this._config=Pe,this._ngZone=_t,this._keyboardDispatcher=Gt,this._document=Kt,this._location=vn,this._outsideClickDispatcher=Ft,this._animationsDisabled=_n,this._injector=ft,this._backdropElement=null,this._backdropClick=new D.B7,this._attachments=new D.B7,this._detachments=new D.B7,this._locationChanges=E.y.EMPTY,this._backdropClickHandler=pt=>this._backdropClick.next(pt),this._backdropTransitionendHandler=pt=>{this._disposeBackdrop(pt.target)},this._keydownEvents=new D.B7,this._outsidePointerEvents=new D.B7,this._renders=new D.B7,Pe.scrollStrategy&&(this._scrollStrategy=Pe.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=Pe.positionStrategy,this._afterRenderRef=(0,d.O8t)(()=>(0,d.Tzd)(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(ae){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const Oe=this._portalOutlet.attach(ae);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),(0,d.mal)(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof Oe?.onDestroy&&Oe.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),Oe}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const ae=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),ae}dispose(){const ae=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,ae&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(ae){ae!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=ae,this.hasAttached()&&(ae.attach(this),this.updatePosition()))}updateSize(ae){this._config={...this._config,...ae},this._updateElementSize()}setDirection(ae){this._config={...this._config,direction:ae},this._updateElementDirection()}addPanelClass(ae){this._pane&&this._toggleClasses(this._pane,ae,!0)}removePanelClass(ae){this._pane&&this._toggleClasses(this._pane,ae,!1)}getDirection(){const ae=this._config.direction;return ae?"string"==typeof ae?ae:ae.value:"ltr"}updateScrollStrategy(ae){ae!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=ae,this.hasAttached()&&(ae.attach(this),ae.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const ae=this._pane.style;ae.width=(0,p.a1)(this._config.width),ae.height=(0,p.a1)(this._config.height),ae.minWidth=(0,p.a1)(this._config.minWidth),ae.minHeight=(0,p.a1)(this._config.minHeight),ae.maxWidth=(0,p.a1)(this._config.maxWidth),ae.maxHeight=(0,p.a1)(this._config.maxHeight)}_togglePointerEvents(ae){this._pane.style.pointerEvents=ae?"":"none"}_attachBackdrop(){const ae="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(ae)})}):this._backdropElement.classList.add(ae)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const ae=this._backdropElement;if(ae){if(this._animationsDisabled)return void this._disposeBackdrop(ae);ae.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{ae.addEventListener("transitionend",this._backdropTransitionendHandler)}),ae.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(ae)},500))}}_toggleClasses(ae,Oe,Le){const Pe=(0,p.FG)(Oe||[]).filter(_t=>!!_t);Pe.length&&(Le?ae.classList.add(...Pe):ae.classList.remove(...Pe))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const ae=this._renders.pipe((0,g.Q)((0,A.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),ae.unsubscribe())})})}_disposeScrollStrategy(){const ae=this._scrollStrategy;ae&&(ae.disable(),ae.detach&&ae.detach())}_disposeBackdrop(ae){ae&&(ae.removeEventListener("click",this._backdropClickHandler),ae.removeEventListener("transitionend",this._backdropTransitionendHandler),ae.remove(),this._backdropElement===ae&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const X="cdk-overlay-connected-position-bounding-box",fe=/([A-Za-z%]+)$/;class Me{get positions(){return this._preferredPositions}constructor(ae,Oe,Le,Pe,_t){this._viewportRuler=Oe,this._document=Le,this._platform=Pe,this._overlayContainer=_t,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new D.B7,this._resizeSubscription=E.y.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(ae)}attach(ae){this._validatePositions(),ae.hostElement.classList.add(X),this._overlayRef=ae,this._boundingBox=ae.hostElement,this._pane=ae.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ae=this._originRect,Oe=this._overlayRect,Le=this._viewportRect,Pe=this._containerRect,_t=[];let Gt;for(let Kt of this._preferredPositions){let vn=this._getOriginPoint(ae,Pe,Kt),Ft=this._getOverlayPoint(vn,Oe,Kt),_n=this._getOverlayFit(Ft,Oe,Le,Kt);if(_n.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Kt,vn);this._canFitWithFlexibleDimensions(_n,Ft,Le)?_t.push({position:Kt,origin:vn,overlayRect:Oe,boundingBoxRect:this._calculateBoundingBoxRect(vn,Kt)}):(!Gt||Gt.overlayFit.visibleArea<_n.visibleArea)&&(Gt={overlayFit:_n,overlayPoint:Ft,originPoint:vn,position:Kt,overlayRect:Oe})}if(_t.length){let Kt=null,vn=-1;for(const Ft of _t){const _n=Ft.boundingBoxRect.width*Ft.boundingBoxRect.height*(Ft.position.weight||1);_n>vn&&(vn=_n,Kt=Ft)}return this._isPushed=!1,void this._applyPosition(Kt.position,Kt.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Gt.position,Gt.originPoint);this._applyPosition(Gt.position,Gt.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ze(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(X),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const ae=this._lastPosition;if(ae){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Oe=this._getOriginPoint(this._originRect,this._containerRect,ae);this._applyPosition(ae,Oe)}else this.apply()}withScrollableContainers(ae){return this._scrollables=ae,this}withPositions(ae){return this._preferredPositions=ae,-1===ae.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(ae){return this._viewportMargin=ae,this}withFlexibleDimensions(ae=!0){return this._hasFlexibleDimensions=ae,this}withGrowAfterOpen(ae=!0){return this._growAfterOpen=ae,this}withPush(ae=!0){return this._canPush=ae,this}withLockedPosition(ae=!0){return this._positionLocked=ae,this}setOrigin(ae){return this._origin=ae,this}withDefaultOffsetX(ae){return this._offsetX=ae,this}withDefaultOffsetY(ae){return this._offsetY=ae,this}withTransformOriginOn(ae){return this._transformOriginSelector=ae,this}_getOriginPoint(ae,Oe,Le){let Pe,_t;if("center"==Le.originX)Pe=ae.left+ae.width/2;else{const Gt=this._isRtl()?ae.right:ae.left,Kt=this._isRtl()?ae.left:ae.right;Pe="start"==Le.originX?Gt:Kt}return Oe.left<0&&(Pe-=Oe.left),_t="center"==Le.originY?ae.top+ae.height/2:"top"==Le.originY?ae.top:ae.bottom,Oe.top<0&&(_t-=Oe.top),{x:Pe,y:_t}}_getOverlayPoint(ae,Oe,Le){let Pe,_t;return Pe="center"==Le.overlayX?-Oe.width/2:"start"===Le.overlayX?this._isRtl()?-Oe.width:0:this._isRtl()?0:-Oe.width,_t="center"==Le.overlayY?-Oe.height/2:"top"==Le.overlayY?0:-Oe.height,{x:ae.x+Pe,y:ae.y+_t}}_getOverlayFit(ae,Oe,Le,Pe){const _t=lt(Oe);let{x:Gt,y:Kt}=ae,vn=this._getOffset(Pe,"x"),Ft=this._getOffset(Pe,"y");vn&&(Gt+=vn),Ft&&(Kt+=Ft);let pt=0-Kt,$t=Kt+_t.height-Le.height,kt=this._subtractOverflows(_t.width,0-Gt,Gt+_t.width-Le.width),dn=this._subtractOverflows(_t.height,pt,$t),pn=kt*dn;return{visibleArea:pn,isCompletelyWithinViewport:_t.width*_t.height===pn,fitsInViewportVertically:dn===_t.height,fitsInViewportHorizontally:kt==_t.width}}_canFitWithFlexibleDimensions(ae,Oe,Le){if(this._hasFlexibleDimensions){const Pe=Le.bottom-Oe.y,_t=Le.right-Oe.x,Gt=Ct(this._overlayRef.getConfig().minHeight),Kt=Ct(this._overlayRef.getConfig().minWidth);return(ae.fitsInViewportVertically||null!=Gt&&Gt<=Pe)&&(ae.fitsInViewportHorizontally||null!=Kt&&Kt<=_t)}return!1}_pushOverlayOnScreen(ae,Oe,Le){if(this._previousPushAmount&&this._positionLocked)return{x:ae.x+this._previousPushAmount.x,y:ae.y+this._previousPushAmount.y};const Pe=lt(Oe),_t=this._viewportRect,Gt=Math.max(ae.x+Pe.width-_t.width,0),Kt=Math.max(ae.y+Pe.height-_t.height,0),vn=Math.max(_t.top-Le.top-ae.y,0),Ft=Math.max(_t.left-Le.left-ae.x,0);let _n=0,ft=0;return _n=Pe.width<=_t.width?Ft||-Gt:ae.x<this._viewportMargin?_t.left-Le.left-ae.x:0,ft=Pe.height<=_t.height?vn||-Kt:ae.y<this._viewportMargin?_t.top-Le.top-ae.y:0,this._previousPushAmount={x:_n,y:ft},{x:ae.x+_n,y:ae.y+ft}}_applyPosition(ae,Oe){if(this._setTransformOrigin(ae),this._setOverlayElementStyles(Oe,ae),this._setBoundingBoxStyles(Oe,ae),ae.panelClass&&this._addPanelClasses(ae.panelClass),this._positionChanges.observers.length){const Le=this._getScrollVisibility();if(ae!==this._lastPosition||!this._lastScrollVisibility||!function Ot(ot,ae){return ot===ae||ot.isOriginClipped===ae.isOriginClipped&&ot.isOriginOutsideView===ae.isOriginOutsideView&&ot.isOverlayClipped===ae.isOverlayClipped&&ot.isOverlayOutsideView===ae.isOverlayOutsideView}(this._lastScrollVisibility,Le)){const Pe=new I(ae,Le);this._positionChanges.next(Pe)}this._lastScrollVisibility=Le}this._lastPosition=ae,this._isInitialRender=!1}_setTransformOrigin(ae){if(!this._transformOriginSelector)return;const Oe=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Le,Pe=ae.overlayY;Le="center"===ae.overlayX?"center":this._isRtl()?"start"===ae.overlayX?"right":"left":"start"===ae.overlayX?"left":"right";for(let _t=0;_t<Oe.length;_t++)Oe[_t].style.transformOrigin=`${Le} ${Pe}`}_calculateBoundingBoxRect(ae,Oe){const Le=this._viewportRect,Pe=this._isRtl();let _t,Gt,Kt,_n,ft,pt;if("top"===Oe.overlayY)Gt=ae.y,_t=Le.height-Gt+this._viewportMargin;else if("bottom"===Oe.overlayY)Kt=Le.height-ae.y+2*this._viewportMargin,_t=Le.height-Kt+this._viewportMargin;else{const $t=Math.min(Le.bottom-ae.y+Le.top,ae.y),kt=this._lastBoundingBoxSize.height;_t=2*$t,Gt=ae.y-$t,_t>kt&&!this._isInitialRender&&!this._growAfterOpen&&(Gt=ae.y-kt/2)}if("end"===Oe.overlayX&&!Pe||"start"===Oe.overlayX&&Pe)pt=Le.width-ae.x+2*this._viewportMargin,_n=ae.x-this._viewportMargin;else if("start"===Oe.overlayX&&!Pe||"end"===Oe.overlayX&&Pe)ft=ae.x,_n=Le.right-ae.x;else{const $t=Math.min(Le.right-ae.x+Le.left,ae.x),kt=this._lastBoundingBoxSize.width;_n=2*$t,ft=ae.x-$t,_n>kt&&!this._isInitialRender&&!this._growAfterOpen&&(ft=ae.x-kt/2)}return{top:Gt,left:ft,bottom:Kt,right:pt,width:_n,height:_t}}_setBoundingBoxStyles(ae,Oe){const Le=this._calculateBoundingBoxRect(ae,Oe);!this._isInitialRender&&!this._growAfterOpen&&(Le.height=Math.min(Le.height,this._lastBoundingBoxSize.height),Le.width=Math.min(Le.width,this._lastBoundingBoxSize.width));const Pe={};if(this._hasExactPosition())Pe.top=Pe.left="0",Pe.bottom=Pe.right=Pe.maxHeight=Pe.maxWidth="",Pe.width=Pe.height="100%";else{const _t=this._overlayRef.getConfig().maxHeight,Gt=this._overlayRef.getConfig().maxWidth;Pe.height=(0,p.a1)(Le.height),Pe.top=(0,p.a1)(Le.top),Pe.bottom=(0,p.a1)(Le.bottom),Pe.width=(0,p.a1)(Le.width),Pe.left=(0,p.a1)(Le.left),Pe.right=(0,p.a1)(Le.right),Pe.alignItems="center"===Oe.overlayX?"center":"end"===Oe.overlayX?"flex-end":"flex-start",Pe.justifyContent="center"===Oe.overlayY?"center":"bottom"===Oe.overlayY?"flex-end":"flex-start",_t&&(Pe.maxHeight=(0,p.a1)(_t)),Gt&&(Pe.maxWidth=(0,p.a1)(Gt))}this._lastBoundingBoxSize=Le,Ze(this._boundingBox.style,Pe)}_resetBoundingBoxStyles(){Ze(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ze(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(ae,Oe){const Le={},Pe=this._hasExactPosition(),_t=this._hasFlexibleDimensions,Gt=this._overlayRef.getConfig();if(Pe){const _n=this._viewportRuler.getViewportScrollPosition();Ze(Le,this._getExactOverlayY(Oe,ae,_n)),Ze(Le,this._getExactOverlayX(Oe,ae,_n))}else Le.position="static";let Kt="",vn=this._getOffset(Oe,"x"),Ft=this._getOffset(Oe,"y");vn&&(Kt+=`translateX(${vn}px) `),Ft&&(Kt+=`translateY(${Ft}px)`),Le.transform=Kt.trim(),Gt.maxHeight&&(Pe?Le.maxHeight=(0,p.a1)(Gt.maxHeight):_t&&(Le.maxHeight="")),Gt.maxWidth&&(Pe?Le.maxWidth=(0,p.a1)(Gt.maxWidth):_t&&(Le.maxWidth="")),Ze(this._pane.style,Le)}_getExactOverlayY(ae,Oe,Le){let Pe={top:"",bottom:""},_t=this._getOverlayPoint(Oe,this._overlayRect,ae);return this._isPushed&&(_t=this._pushOverlayOnScreen(_t,this._overlayRect,Le)),"bottom"===ae.overlayY?Pe.bottom=this._document.documentElement.clientHeight-(_t.y+this._overlayRect.height)+"px":Pe.top=(0,p.a1)(_t.y),Pe}_getExactOverlayX(ae,Oe,Le){let Gt,Pe={left:"",right:""},_t=this._getOverlayPoint(Oe,this._overlayRect,ae);return this._isPushed&&(_t=this._pushOverlayOnScreen(_t,this._overlayRect,Le)),Gt=this._isRtl()?"end"===ae.overlayX?"left":"right":"end"===ae.overlayX?"right":"left","right"===Gt?Pe.right=this._document.documentElement.clientWidth-(_t.x+this._overlayRect.width)+"px":Pe.left=(0,p.a1)(_t.x),Pe}_getScrollVisibility(){const ae=this._getOriginRect(),Oe=this._pane.getBoundingClientRect(),Le=this._scrollables.map(Pe=>Pe.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Y(ae,Le),isOriginOutsideView:H(ae,Le),isOverlayClipped:Y(Oe,Le),isOverlayOutsideView:H(Oe,Le)}}_subtractOverflows(ae,...Oe){return Oe.reduce((Le,Pe)=>Le-Math.max(Pe,0),ae)}_getNarrowedViewportRect(){const ae=this._document.documentElement.clientWidth,Oe=this._document.documentElement.clientHeight,Le=this._viewportRuler.getViewportScrollPosition();return{top:Le.top+this._viewportMargin,left:Le.left+this._viewportMargin,right:Le.left+ae-this._viewportMargin,bottom:Le.top+Oe-this._viewportMargin,width:ae-2*this._viewportMargin,height:Oe-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(ae,Oe){return"x"===Oe?null==ae.offsetX?this._offsetX:ae.offsetX:null==ae.offsetY?this._offsetY:ae.offsetY}_validatePositions(){}_addPanelClasses(ae){this._pane&&(0,p.FG)(ae).forEach(Oe=>{""!==Oe&&-1===this._appliedPanelClasses.indexOf(Oe)&&(this._appliedPanelClasses.push(Oe),this._pane.classList.add(Oe))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(ae=>{this._pane.classList.remove(ae)}),this._appliedPanelClasses=[])}_getOriginRect(){const ae=this._origin;if(ae instanceof d.aKT)return ae.nativeElement.getBoundingClientRect();if(ae instanceof Element)return ae.getBoundingClientRect();const Oe=ae.width||0,Le=ae.height||0;return{top:ae.y,bottom:ae.y+Le,left:ae.x,right:ae.x+Oe,height:Le,width:Oe}}}function Ze(ot,ae){for(let Oe in ae)ae.hasOwnProperty(Oe)&&(ot[Oe]=ae[Oe]);return ot}function Ct(ot){if("number"!=typeof ot&&null!=ot){const[ae,Oe]=ot.split(fe);return Oe&&"px"!==Oe?null:parseFloat(ae)}return ot||null}function lt(ot){return{top:Math.floor(ot.top),right:Math.floor(ot.right),bottom:Math.floor(ot.bottom),left:Math.floor(ot.left),width:Math.floor(ot.width),height:Math.floor(ot.height)}}const ve="cdk-global-overlay-wrapper";class Ce{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(ae){const Oe=ae.getConfig();this._overlayRef=ae,this._width&&!Oe.width&&ae.updateSize({width:this._width}),this._height&&!Oe.height&&ae.updateSize({height:this._height}),ae.hostElement.classList.add(ve),this._isDisposed=!1}top(ae=""){return this._bottomOffset="",this._topOffset=ae,this._alignItems="flex-start",this}left(ae=""){return this._xOffset=ae,this._xPosition="left",this}bottom(ae=""){return this._topOffset="",this._bottomOffset=ae,this._alignItems="flex-end",this}right(ae=""){return this._xOffset=ae,this._xPosition="right",this}start(ae=""){return this._xOffset=ae,this._xPosition="start",this}end(ae=""){return this._xOffset=ae,this._xPosition="end",this}width(ae=""){return this._overlayRef?this._overlayRef.updateSize({width:ae}):this._width=ae,this}height(ae=""){return this._overlayRef?this._overlayRef.updateSize({height:ae}):this._height=ae,this}centerHorizontally(ae=""){return this.left(ae),this._xPosition="center",this}centerVertically(ae=""){return this.top(ae),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const ae=this._overlayRef.overlayElement.style,Oe=this._overlayRef.hostElement.style,Le=this._overlayRef.getConfig(),{width:Pe,height:_t,maxWidth:Gt,maxHeight:Kt}=Le,vn=!("100%"!==Pe&&"100vw"!==Pe||Gt&&"100%"!==Gt&&"100vw"!==Gt),Ft=!("100%"!==_t&&"100vh"!==_t||Kt&&"100%"!==Kt&&"100vh"!==Kt),_n=this._xPosition,ft=this._xOffset,pt="rtl"===this._overlayRef.getConfig().direction;let $t="",kt="",dn="";vn?dn="flex-start":"center"===_n?(dn="center",pt?kt=ft:$t=ft):pt?"left"===_n||"end"===_n?(dn="flex-end",$t=ft):("right"===_n||"start"===_n)&&(dn="flex-start",kt=ft):"left"===_n||"start"===_n?(dn="flex-start",$t=ft):("right"===_n||"end"===_n)&&(dn="flex-end",kt=ft),ae.position=this._cssPosition,ae.marginLeft=vn?"0":$t,ae.marginTop=Ft?"0":this._topOffset,ae.marginBottom=this._bottomOffset,ae.marginRight=vn?"0":kt,Oe.justifyContent=dn,Oe.alignItems=Ft?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const ae=this._overlayRef.overlayElement.style,Oe=this._overlayRef.hostElement,Le=Oe.style;Oe.classList.remove(ve),Le.justifyContent=Le.alignItems=ae.marginTop=ae.marginBottom=ae.marginLeft=ae.marginRight=ae.position="",this._overlayRef=null,this._isDisposed=!0}}let be=(()=>{class ot{constructor(Oe,Le,Pe,_t){this._viewportRuler=Oe,this._document=Le,this._platform=Pe,this._overlayContainer=_t}global(){return new Ce}flexibleConnectedTo(Oe){return new Me(Oe,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(Le){return new(Le||ot)(d.KVO(e.Xj),d.KVO(i.qQ),d.KVO(m.OD),d.KVO(k))};static#t=this.\u0275prov=d.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})(),ue=0,me=(()=>{class ot{constructor(Oe,Le,Pe,_t,Gt,Kt,vn,Ft,_n,ft,pt,$t){this.scrollStrategies=Oe,this._overlayContainer=Le,this._componentFactoryResolver=Pe,this._positionBuilder=_t,this._keyboardDispatcher=Gt,this._injector=Kt,this._ngZone=vn,this._document=Ft,this._directionality=_n,this._location=ft,this._outsideClickDispatcher=pt,this._animationsModuleType=$t}create(Oe){const Le=this._createHostElement(),Pe=this._createPaneElement(Le),_t=this._createPortalOutlet(Pe),Gt=new $(Oe);return Gt.direction=Gt.direction||this._directionality.value,new J(_t,Le,Pe,Gt,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(d.uvJ))}position(){return this._positionBuilder}_createPaneElement(Oe){const Le=this._document.createElement("div");return Le.id="cdk-overlay-"+ue++,Le.classList.add("cdk-overlay-pane"),Oe.appendChild(Le),Le}_createHostElement(){const Oe=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(Oe),Oe}_createPortalOutlet(Oe){return this._appRef||(this._appRef=this._injector.get(d.o8S)),new S.aI(Oe,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(Le){return new(Le||ot)(d.KVO(U),d.KVO(k),d.KVO(d.OM3),d.KVO(be),d.KVO(te),d.KVO(d.zZn),d.KVO(d.SKi),d.KVO(i.qQ),d.KVO(u.dS),d.KVO(i.aZ),d.KVO(R),d.KVO(d.bc$,8))};static#t=this.\u0275prov=d.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"})}return ot})();const $e=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Et=new d.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const ot=(0,d.WQX)(me);return()=>ot.scrollStrategies.reposition()}});let Ve=(()=>{class ot{constructor(Oe){this.elementRef=Oe}static#e=this.\u0275fac=function(Le){return new(Le||ot)(d.rXU(d.aKT))};static#t=this.\u0275dir=d.FsC({type:ot,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return ot})(),st=(()=>{class ot{get offsetX(){return this._offsetX}set offsetX(Oe){this._offsetX=Oe,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(Oe){this._offsetY=Oe,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(Oe){this._disposeOnNavigation=Oe}constructor(Oe,Le,Pe,_t,Gt){this._overlay=Oe,this._dir=Gt,this._backdropSubscription=E.y.EMPTY,this._attachSubscription=E.y.EMPTY,this._detachSubscription=E.y.EMPTY,this._positionSubscription=E.y.EMPTY,this._disposeOnNavigation=!1,this._ngZone=(0,d.WQX)(d.SKi),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new d.bkB,this.positionChange=new d.bkB,this.attach=new d.bkB,this.detach=new d.bkB,this.overlayKeydown=new d.bkB,this.overlayOutsideClick=new d.bkB,this._templatePortal=new S.VA(Le,Pe),this._scrollStrategyFactory=_t,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(Oe){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),Oe.origin&&this.open&&this._position.apply()),Oe.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=$e);const Oe=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=Oe.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=Oe.detachments().subscribe(()=>this.detach.emit()),Oe.keydownEvents().subscribe(Le=>{this.overlayKeydown.next(Le),Le.keyCode===v._f&&!this.disableClose&&!(0,v.rp)(Le)&&(Le.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(Le=>{const Pe=this._getOriginElement(),_t=(0,m.Fb)(Le);(!Pe||Pe!==_t&&!Pe.contains(_t))&&this.overlayOutsideClick.next(Le)})}_buildConfig(){const Oe=this._position=this.positionStrategy||this._createPositionStrategy(),Le=new $({direction:this._dir,positionStrategy:Oe,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(Le.width=this.width),(this.height||0===this.height)&&(Le.height=this.height),(this.minWidth||0===this.minWidth)&&(Le.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(Le.minHeight=this.minHeight),this.backdropClass&&(Le.backdropClass=this.backdropClass),this.panelClass&&(Le.panelClass=this.panelClass),Le}_updatePositionStrategy(Oe){const Le=this.positions.map(Pe=>({originX:Pe.originX,originY:Pe.originY,overlayX:Pe.overlayX,overlayY:Pe.overlayY,offsetX:Pe.offsetX||this.offsetX,offsetY:Pe.offsetY||this.offsetY,panelClass:Pe.panelClass||void 0}));return Oe.setOrigin(this._getOrigin()).withPositions(Le).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const Oe=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(Oe),Oe}_getOrigin(){return this.origin instanceof Ve?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof Ve?this.origin.elementRef.nativeElement:this.origin instanceof d.aKT?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(Oe=>{this.backdropClick.emit(Oe)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe((0,b.v)(()=>this.positionChange.observers.length>0)).subscribe(Oe=>{this._ngZone.run(()=>this.positionChange.emit(Oe)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(Le){return new(Le||ot)(d.rXU(me),d.rXU(d.C4Q),d.rXU(d.c1b),d.rXU(Et),d.rXU(u.dS,8))};static#t=this.\u0275dir=d.FsC({type:ot,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",d.L39],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",d.L39],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",d.L39],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",d.L39],push:[2,"cdkConnectedOverlayPush","push",d.L39],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",d.L39]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[d.GFd,d.OA$]})}return ot})();const Vt={provide:Et,deps:[me],useFactory:function ht(ot){return()=>ot.scrollStrategies.reposition()}};let qe=(()=>{class ot{static#e=this.\u0275fac=function(Le){return new(Le||ot)};static#t=this.\u0275mod=d.$C({type:ot});static#n=this.\u0275inj=d.G2t({providers:[me,Vt],imports:[u.jI,S.jc,e.E9,e.E9]})}return ot})()},6860:(Mt,pe,a)=>{"use strict";a.d(pe,{BD:()=>z,BQ:()=>D,CZ:()=>O,Fb:()=>Y,KT:()=>F,MU:()=>b,OD:()=>p,r5:()=>E,v8:()=>P,vc:()=>H});var e=a(3953),i=a(177);let d;try{d=typeof Intl<"u"&&Intl.v8BreakIterator}catch{d=!1}let _,p=(()=>{class U{constructor(B){this._platformId=B,this.isBrowser=this._platformId?(0,i.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!d)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(y){return new(y||U)(e.KVO(e.Agw))};static#t=this.\u0275prov=e.jDH({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})();const g=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function b(){if(_)return _;if("object"!=typeof document||!document)return _=new Set(g),_;let U=document.createElement("input");return _=new Set(g.filter($=>(U.setAttribute("type",$),U.type===$))),_}let u;function D(U){return function S(){if(null==u&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>u=!0}))}finally{u=u||!1}return u}()?U:!!U.capture}var E=function(U){return U[U.NORMAL=0]="NORMAL",U[U.NEGATED=1]="NEGATED",U[U.INVERTED=2]="INVERTED",U}(E||{});let A,v,G;function O(){if(null==v){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return v=!1,v;if("scrollBehavior"in document.documentElement.style)v=!0;else{const U=Element.prototype.scrollTo;v=!!U&&!/\{\s*\[native code\]\s*\}/.test(U.toString())}}return v}function z(){if("object"!=typeof document||!document)return E.NORMAL;if(null==A){const U=document.createElement("div"),$=U.style;U.dir="rtl",$.width="1px",$.overflow="auto",$.visibility="hidden",$.pointerEvents="none",$.position="absolute";const B=document.createElement("div"),y=B.style;y.width="2px",y.height="1px",U.appendChild(B),document.body.appendChild(U),A=E.NORMAL,0===U.scrollLeft&&(U.scrollLeft=1,A=0===U.scrollLeft?E.NEGATED:E.INVERTED),U.remove()}return A}function F(U){if(function K(){if(null==G){const U=typeof document<"u"?document.head:null;G=!(!U||!U.createShadowRoot&&!U.attachShadow)}return G}()){const $=U.getRootNode?U.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&$ instanceof ShadowRoot)return $}return null}function H(){let U=typeof document<"u"&&document?document.activeElement:null;for(;U&&U.shadowRoot;){const $=U.shadowRoot.activeElement;if($===U)break;U=$}return U}function Y(U){return U.composedPath?U.composedPath()[0]:U.target}function P(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},6939:(Mt,pe,a)=>{"use strict";a.d(pe,{A8:()=>S,I3:()=>F,Qq:()=>K,VA:()=>D,aI:()=>O,bV:()=>G,jc:()=>Y,lb:()=>A});var e=a(3953),i=a(177);class u{attach($){return this._attachedHost=$,$.attach(this)}detach(){let $=this._attachedHost;null!=$&&(this._attachedHost=null,$.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost($){this._attachedHost=$}}class S extends u{constructor($,B,y,I,w){super(),this.component=$,this.viewContainerRef=B,this.injector=y,this.componentFactoryResolver=I,this.projectableNodes=w}}class D extends u{constructor($,B,y,I){super(),this.templateRef=$,this.viewContainerRef=B,this.context=y,this.injector=I}get origin(){return this.templateRef.elementRef}attach($,B=this.context){return this.context=B,super.attach($)}detach(){return this.context=void 0,super.detach()}}class E extends u{constructor($){super(),this.element=$ instanceof e.aKT?$.nativeElement:$}}class A{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach($){return $ instanceof S?(this._attachedPortal=$,this.attachComponentPortal($)):$ instanceof D?(this._attachedPortal=$,this.attachTemplatePortal($)):this.attachDomPortal&&$ instanceof E?(this._attachedPortal=$,this.attachDomPortal($)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn($){this._disposeFn=$}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class O extends A{constructor($,B,y,I,w){super(),this.outletElement=$,this._componentFactoryResolver=B,this._appRef=y,this._defaultInjector=I,this.attachDomPortal=L=>{const Q=L.element,te=this._document.createComment("dom-portal");Q.parentNode.insertBefore(te,Q),this.outletElement.appendChild(Q),this._attachedPortal=L,super.setDisposeFn(()=>{te.parentNode&&te.parentNode.replaceChild(Q,te)})},this._document=w}attachComponentPortal($){const y=($.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory($.component);let I;return $.viewContainerRef?(I=$.viewContainerRef.createComponent(y,$.viewContainerRef.length,$.injector||$.viewContainerRef.injector,$.projectableNodes||void 0),this.setDisposeFn(()=>I.destroy())):(I=y.create($.injector||this._defaultInjector||e.zZn.NULL),this._appRef.attachView(I.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(I.hostView),I.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(I)),this._attachedPortal=$,I}attachTemplatePortal($){let B=$.viewContainerRef,y=B.createEmbeddedView($.templateRef,$.context,{injector:$.injector});return y.rootNodes.forEach(I=>this.outletElement.appendChild(I)),y.detectChanges(),this.setDisposeFn(()=>{let I=B.indexOf(y);-1!==I&&B.remove(I)}),this._attachedPortal=$,y}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode($){return $.hostView.rootNodes[0]}}let G=(()=>{class U extends D{constructor(B,y){super(B,y)}static#e=this.\u0275fac=function(y){return new(y||U)(e.rXU(e.C4Q),e.rXU(e.c1b))};static#t=this.\u0275dir=e.FsC({type:U,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],standalone:!0,features:[e.Vt3]})}return U})(),K=(()=>{class U extends G{static#e=this.\u0275fac=(()=>{let B;return function(I){return(B||(B=e.xGo(U)))(I||U)}})();static#t=this.\u0275dir=e.FsC({type:U,selectors:[["","cdk-portal",""],["","portal",""]],exportAs:["cdkPortal"],standalone:!0,features:[e.Jv_([{provide:G,useExisting:U}]),e.Vt3]})}return U})(),F=(()=>{class U extends A{constructor(B,y,I){super(),this._componentFactoryResolver=B,this._viewContainerRef=y,this._isInitialized=!1,this.attached=new e.bkB,this.attachDomPortal=w=>{const L=w.element,Q=this._document.createComment("dom-portal");w.setAttachedHost(this),L.parentNode.insertBefore(Q,L),this._getRootNode().appendChild(L),this._attachedPortal=w,super.setDisposeFn(()=>{Q.parentNode&&Q.parentNode.replaceChild(L,Q)})},this._document=I}get portal(){return this._attachedPortal}set portal(B){this.hasAttached()&&!B&&!this._isInitialized||(this.hasAttached()&&super.detach(),B&&super.attach(B),this._attachedPortal=B||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(B){B.setAttachedHost(this);const y=null!=B.viewContainerRef?B.viewContainerRef:this._viewContainerRef,w=(B.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(B.component),L=y.createComponent(w,y.length,B.injector||y.injector,B.projectableNodes||void 0);return y!==this._viewContainerRef&&this._getRootNode().appendChild(L.hostView.rootNodes[0]),super.setDisposeFn(()=>L.destroy()),this._attachedPortal=B,this._attachedRef=L,this.attached.emit(L),L}attachTemplatePortal(B){B.setAttachedHost(this);const y=this._viewContainerRef.createEmbeddedView(B.templateRef,B.context,{injector:B.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=B,this._attachedRef=y,this.attached.emit(y),y}_getRootNode(){const B=this._viewContainerRef.element.nativeElement;return B.nodeType===B.ELEMENT_NODE?B:B.parentNode}static#e=this.\u0275fac=function(y){return new(y||U)(e.rXU(e.OM3),e.rXU(e.c1b),e.rXU(i.qQ))};static#t=this.\u0275dir=e.FsC({type:U,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[e.Vt3]})}return U})(),Y=(()=>{class U{static#e=this.\u0275fac=function(y){return new(y||U)};static#t=this.\u0275mod=e.$C({type:U});static#n=this.\u0275inj=e.G2t({})}return U})()},3701:(Mt,pe,a)=>{"use strict";a.d(pe,{yg:()=>fe,uv:()=>Ct,Gj:()=>Ve,E$:()=>me,d6:()=>be,R:()=>Ze,E9:()=>st,Xj:()=>Ot});var e=a(4085),i=a(3953),d=a(5286),p=a(4421),m=a(5817),_=a(3586),g=a(5128),b=a(5516),u=a(4337),S=a(8982),D=a(522),E=a(1080),A=a(3004);class O{constructor(Vt){this.durationSelector=Vt}call(Vt,qe){return qe.subscribe(new z(Vt,this.durationSelector))}}class z extends A.gn{constructor(Vt,qe){super(Vt),this.durationSelector=qe,this.hasValue=!1}_next(Vt){if(this.value=Vt,this.hasValue=!0,!this.throttled){let qe;try{const{durationSelector:ot}=this;qe=ot(Vt)}catch(ot){return this.destination.error(ot)}const gt=(0,A.tS)(qe,new A.zA(this));!gt||gt.closed?this.clearThrottle():this.add(this.throttled=gt)}}clearThrottle(){const{value:Vt,hasValue:qe,throttled:gt}=this;gt&&(this.remove(gt),this.throttled=void 0,gt.unsubscribe()),qe&&(this.value=void 0,this.hasValue=!1,this.destination.next(Vt))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var G=a(6651);function K(ht,Vt=E.b){return function v(ht){return function(qe){return qe.lift(new O(ht))}}(()=>(0,G.O)(ht,Vt))}var F=a(8728),H=a(7605),Y=a(3176),P=a(762);class ${call(Vt,qe){return qe.subscribe(new B(Vt))}}class B extends P.v{constructor(Vt){super(Vt),this.hasPrev=!1}_next(Vt){let qe;this.hasPrev?qe=[this.prev,Vt]:this.hasPrev=!0,this.prev=Vt,qe&&this.destination.next(qe)}}var y=a(9090),I=a(8712),w=a(6860),L=a(177),Q=a(8203),te=a(5024);const R=["contentWrapper"],ee=["*"],k=new i.nKC("VIRTUAL_SCROLL_STRATEGY");class J{constructor(Vt,qe,gt){this._scrolledIndexChange=new d.B7,this.scrolledIndexChange=this._scrolledIndexChange.pipe((0,D.F)()),this._viewport=null,this._itemSize=Vt,this._minBufferPx=qe,this._maxBufferPx=gt}attach(Vt){this._viewport=Vt,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(Vt,qe,gt){this._itemSize=Vt,this._minBufferPx=qe,this._maxBufferPx=gt,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(Vt,qe){this._viewport&&this._viewport.scrollToOffset(Vt*this._itemSize,qe)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const Vt=this._viewport.getRenderedRange(),qe={start:Vt.start,end:Vt.end},gt=this._viewport.getViewportSize(),ot=this._viewport.getDataLength();let ae=this._viewport.measureScrollOffset(),Oe=this._itemSize>0?ae/this._itemSize:0;if(qe.end>ot){const Pe=Math.ceil(gt/this._itemSize),_t=Math.max(0,Math.min(Oe,ot-Pe));Oe!=_t&&(Oe=_t,ae=_t*this._itemSize,qe.start=Math.floor(Oe)),qe.end=Math.max(0,Math.min(ot,qe.start+Pe))}const Le=ae-qe.start*this._itemSize;if(Le<this._minBufferPx&&0!=qe.start){const Pe=Math.ceil((this._maxBufferPx-Le)/this._itemSize);qe.start=Math.max(0,qe.start-Pe),qe.end=Math.min(ot,Math.ceil(Oe+(gt+this._minBufferPx)/this._itemSize))}else{const Pe=qe.end*this._itemSize-(ae+gt);if(Pe<this._minBufferPx&&qe.end!=ot){const _t=Math.ceil((this._maxBufferPx-Pe)/this._itemSize);_t>0&&(qe.end=Math.min(ot,qe.end+_t),qe.start=Math.max(0,Math.floor(Oe-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(qe),this._viewport.setRenderedContentOffset(this._itemSize*qe.start),this._scrolledIndexChange.next(Math.floor(Oe))}}function X(ht){return ht._scrollStrategy}let fe=(()=>{class ht{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new J(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(qe){this._itemSize=(0,e.OE)(qe)}get minBufferPx(){return this._minBufferPx}set minBufferPx(qe){this._minBufferPx=(0,e.OE)(qe)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(qe){this._maxBufferPx=(0,e.OE)(qe)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}static#e=this.\u0275fac=function(gt){return new(gt||ht)};static#t=this.\u0275dir=i.FsC({type:ht,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},standalone:!0,features:[i.Jv_([{provide:k,useFactory:X,deps:[(0,i.Rfq)(()=>ht)]}]),i.OA$]})}return ht})(),Ze=(()=>{class ht{constructor(qe,gt,ot){this._ngZone=qe,this._platform=gt,this._scrolled=new d.B7,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=ot}register(qe){this.scrollContainers.has(qe)||this.scrollContainers.set(qe,qe.elementScrolled().subscribe(()=>this._scrolled.next(qe)))}deregister(qe){const gt=this.scrollContainers.get(qe);gt&&(gt.unsubscribe(),this.scrollContainers.delete(qe))}scrolled(qe=20){return this._platform.isBrowser?new m.c(gt=>{this._globalSubscription||this._addGlobalListener();const ot=qe>0?this._scrolled.pipe(K(qe)).subscribe(gt):this._scrolled.subscribe(gt);return this._scrolledCount++,()=>{ot.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,p.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((qe,gt)=>this.deregister(gt)),this._scrolled.complete()}ancestorScrolled(qe,gt){const ot=this.getAncestorScrollContainers(qe);return this.scrolled(gt).pipe((0,F.p)(ae=>!ae||ot.indexOf(ae)>-1))}getAncestorScrollContainers(qe){const gt=[];return this.scrollContainers.forEach((ot,ae)=>{this._scrollableContainsElement(ae,qe)&&gt.push(ae)}),gt}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(qe,gt){let ot=(0,e.i8)(gt),ae=qe.getElementRef().nativeElement;do{if(ot==ae)return!0}while(ot=ot.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const qe=this._getWindow();return(0,_.R)(qe.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(gt){return new(gt||ht)(i.KVO(i.SKi),i.KVO(w.OD),i.KVO(L.qQ,8))};static#t=this.\u0275prov=i.jDH({token:ht,factory:ht.\u0275fac,providedIn:"root"})}return ht})(),Ct=(()=>{class ht{constructor(qe,gt,ot,ae){this.elementRef=qe,this.scrollDispatcher=gt,this.ngZone=ot,this.dir=ae,this._destroyed=new d.B7,this._elementScrolled=new m.c(Oe=>this.ngZone.runOutsideAngular(()=>(0,_.R)(this.elementRef.nativeElement,"scroll").pipe((0,H.Q)(this._destroyed)).subscribe(Oe)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(qe){const gt=this.elementRef.nativeElement,ot=this.dir&&"rtl"==this.dir.value;null==qe.left&&(qe.left=ot?qe.end:qe.start),null==qe.right&&(qe.right=ot?qe.start:qe.end),null!=qe.bottom&&(qe.top=gt.scrollHeight-gt.clientHeight-qe.bottom),ot&&(0,w.BD)()!=w.r5.NORMAL?(null!=qe.left&&(qe.right=gt.scrollWidth-gt.clientWidth-qe.left),(0,w.BD)()==w.r5.INVERTED?qe.left=qe.right:(0,w.BD)()==w.r5.NEGATED&&(qe.left=qe.right?-qe.right:qe.right)):null!=qe.right&&(qe.left=gt.scrollWidth-gt.clientWidth-qe.right),this._applyScrollToOptions(qe)}_applyScrollToOptions(qe){const gt=this.elementRef.nativeElement;(0,w.CZ)()?gt.scrollTo(qe):(null!=qe.top&&(gt.scrollTop=qe.top),null!=qe.left&&(gt.scrollLeft=qe.left))}measureScrollOffset(qe){const gt="left",ae=this.elementRef.nativeElement;if("top"==qe)return ae.scrollTop;if("bottom"==qe)return ae.scrollHeight-ae.clientHeight-ae.scrollTop;const Oe=this.dir&&"rtl"==this.dir.value;return"start"==qe?qe=Oe?"right":gt:"end"==qe&&(qe=Oe?gt:"right"),Oe&&(0,w.BD)()==w.r5.INVERTED?qe==gt?ae.scrollWidth-ae.clientWidth-ae.scrollLeft:ae.scrollLeft:Oe&&(0,w.BD)()==w.r5.NEGATED?qe==gt?ae.scrollLeft+ae.scrollWidth-ae.clientWidth:-ae.scrollLeft:qe==gt?ae.scrollLeft:ae.scrollWidth-ae.clientWidth-ae.scrollLeft}static#e=this.\u0275fac=function(gt){return new(gt||ht)(i.rXU(i.aKT),i.rXU(Ze),i.rXU(i.SKi),i.rXU(Q.dS,8))};static#t=this.\u0275dir=i.FsC({type:ht,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return ht})(),Ot=(()=>{class ht{constructor(qe,gt,ot){this._platform=qe,this._change=new d.B7,this._changeListener=ae=>{this._change.next(ae)},this._document=ot,gt.runOutsideAngular(()=>{if(qe.isBrowser){const ae=this._getWindow();ae.addEventListener("resize",this._changeListener),ae.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const qe=this._getWindow();qe.removeEventListener("resize",this._changeListener),qe.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const qe={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),qe}getViewportRect(){const qe=this.getViewportScrollPosition(),{width:gt,height:ot}=this.getViewportSize();return{top:qe.top,left:qe.left,bottom:qe.top+ot,right:qe.left+gt,height:ot,width:gt}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const qe=this._document,gt=this._getWindow(),ot=qe.documentElement,ae=ot.getBoundingClientRect();return{top:-ae.top||qe.body.scrollTop||gt.scrollY||ot.scrollTop||0,left:-ae.left||qe.body.scrollLeft||gt.scrollX||ot.scrollLeft||0}}change(qe=20){return qe>0?this._change.pipe(K(qe)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const qe=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:qe.innerWidth,height:qe.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(gt){return new(gt||ht)(i.KVO(w.OD),i.KVO(i.SKi),i.KVO(L.qQ,8))};static#t=this.\u0275prov=i.jDH({token:ht,factory:ht.\u0275fac,providedIn:"root"})}return ht})();const rt=new i.nKC("VIRTUAL_SCROLLABLE");let vt=(()=>{class ht extends Ct{constructor(qe,gt,ot,ae){super(qe,gt,ot,ae)}measureViewportSize(qe){const gt=this.elementRef.nativeElement;return"horizontal"===qe?gt.clientWidth:gt.clientHeight}static#e=this.\u0275fac=function(gt){return new(gt||ht)(i.rXU(i.aKT),i.rXU(Ze),i.rXU(i.SKi),i.rXU(Q.dS,8))};static#t=this.\u0275dir=i.FsC({type:ht,features:[i.Vt3]})}return ht})();const Ce=typeof requestAnimationFrame<"u"?g.X:b.$;let be=(()=>{class ht extends vt{get orientation(){return this._orientation}set orientation(qe){this._orientation!==qe&&(this._orientation=qe,this._calculateSpacerSize())}constructor(qe,gt,ot,ae,Oe,Le,Pe,_t){super(qe,Le,ot,Oe),this.elementRef=qe,this._changeDetectorRef=gt,this._scrollStrategy=ae,this.scrollable=_t,this._platform=(0,i.WQX)(w.OD),this._detachedSubject=new d.B7,this._renderedRangeSubject=new d.B7,this._orientation="vertical",this.appendOnly=!1,this.scrolledIndexChange=new m.c(Gt=>this._scrollStrategy.scrolledIndexChange.subscribe(Kt=>Promise.resolve().then(()=>this.ngZone.run(()=>Gt.next(Kt))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=u.y.EMPTY,this._injector=(0,i.WQX)(i.zZn),this._isDestroyed=!1,this._viewportChanges=Pe.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,Y.Z)(null),K(0,Ce),(0,H.Q)(this._destroyed)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),this._isDestroyed=!0,super.ngOnDestroy()}attach(qe){this.ngZone.runOutsideAngular(()=>{this._forOf=qe,this._forOf.dataStream.pipe((0,H.Q)(this._detachedSubject)).subscribe(gt=>{const ot=gt.length;ot!==this._dataLength&&(this._dataLength=ot,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(qe){return this.getElementRef().nativeElement.getBoundingClientRect()[qe]}setTotalContentSize(qe){this._totalContentSize!==qe&&(this._totalContentSize=qe,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(qe){(function ve(ht,Vt){return ht.start==Vt.start&&ht.end==Vt.end})(this._renderedRange,qe)||(this.appendOnly&&(qe={start:0,end:Math.max(this._renderedRange.end,qe.end)}),this._renderedRangeSubject.next(this._renderedRange=qe),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(qe,gt="to-start"){qe=this.appendOnly&&"to-start"===gt?0:qe;const ae="horizontal"==this.orientation,Oe=ae?"X":"Y";let Pe=`translate${Oe}(${Number((ae&&this.dir&&"rtl"==this.dir.value?-1:1)*qe)}px)`;this._renderedContentOffset=qe,"to-end"===gt&&(Pe+=` translate${Oe}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=Pe&&(this._renderedContentTransform=Pe,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(qe,gt="auto"){const ot={behavior:gt};"horizontal"===this.orientation?ot.start=qe:ot.top=qe,this.scrollable.scrollTo(ot)}scrollToIndex(qe,gt="auto"){this._scrollStrategy.scrollToIndex(qe,gt)}measureScrollOffset(qe){let gt;return gt=this.scrollable==this?ot=>super.measureScrollOffset(ot):ot=>this.scrollable.measureScrollOffset(ot),Math.max(0,gt(qe??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(qe){let gt;const Oe="rtl"==this.dir?.value;gt="start"==qe?Oe?"right":"left":"end"==qe?Oe?"left":"right":qe||("horizontal"===this.orientation?"left":"top");const Le=this.scrollable.measureBoundingClientRectWithScrollOffset(gt);return this.elementRef.nativeElement.getBoundingClientRect()[gt]-Le}measureRenderedContentSize(){const qe=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?qe.offsetWidth:qe.offsetHeight}measureRangeSize(qe){return this._forOf?this._forOf.measureRangeSize(qe,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(qe){qe&&this._runAfterChangeDetection.push(qe),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isDestroyed||this.ngZone.run(()=>{this._changeDetectorRef.markForCheck(),this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,(0,i.mal)(()=>{this._isChangeDetectionPending=!1;const qe=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const gt of qe)gt()},{injector:this._injector})})}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}static#e=this.\u0275fac=function(gt){return new(gt||ht)(i.rXU(i.aKT),i.rXU(i.gRc),i.rXU(i.SKi),i.rXU(k,8),i.rXU(Q.dS,8),i.rXU(Ze),i.rXU(Ot),i.rXU(rt,8))};static#t=this.\u0275cmp=i.VBU({type:ht,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(gt,ot){if(1&gt&&i.GBs(R,7),2&gt){let ae;i.mGM(ae=i.lsd())&&(ot._contentWrapper=ae.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(gt,ot){2&gt&&i.AVh("cdk-virtual-scroll-orientation-horizontal","horizontal"===ot.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==ot.orientation)},inputs:{orientation:"orientation",appendOnly:[2,"appendOnly","appendOnly",i.L39]},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[i.Jv_([{provide:Ct,useFactory:(qe,gt)=>qe||gt,deps:[[new i.Xx1,new i.y_5(rt)],ht]}]),i.GFd,i.Vt3,i.aNF],ngContentSelectors:ee,decls:4,vars:4,consts:[["contentWrapper",""],[1,"cdk-virtual-scroll-content-wrapper"],[1,"cdk-virtual-scroll-spacer"]],template:function(gt,ot){1&gt&&(i.NAR(),i.j41(0,"div",1,0),i.SdG(2),i.k0s(),i.nrm(3,"div",2)),2&gt&&(i.R7$(3),i.xc7("width",ot._totalContentWidth)("height",ot._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0})}return ht})();function ue(ht,Vt,qe){if(!qe.getBoundingClientRect)return 0;const ot=qe.getBoundingClientRect();return"horizontal"===ht?"start"===Vt?ot.left:ot.right:"start"===Vt?ot.top:ot.bottom}let me=(()=>{class ht{get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(qe){this._cdkVirtualForOf=qe,(0,te.y4)(qe)?this._dataSourceChanges.next(qe):this._dataSourceChanges.next(new te.hx((0,S.A)(qe)?qe:Array.from(qe||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(qe){this._needsUpdate=!0,this._cdkVirtualForTrackBy=qe?(gt,ot)=>qe(gt+(this._renderedRange?this._renderedRange.start:0),ot):void 0}set cdkVirtualForTemplate(qe){qe&&(this._needsUpdate=!0,this._template=qe)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(qe){this._viewRepeater.viewCacheSize=(0,e.OE)(qe)}constructor(qe,gt,ot,ae,Oe,Le){this._viewContainerRef=qe,this._template=gt,this._differs=ot,this._viewRepeater=ae,this._viewport=Oe,this.viewChange=new d.B7,this._dataSourceChanges=new d.B7,this.dataStream=this._dataSourceChanges.pipe((0,Y.Z)(null),function U(){return ht=>ht.lift(new $)}(),(0,y.n)(([Pe,_t])=>this._changeDataSource(Pe,_t)),(0,I.t)(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new d.B7,this.dataStream.subscribe(Pe=>{this._data=Pe,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe((0,H.Q)(this._destroyed)).subscribe(Pe=>{this._renderedRange=Pe,this.viewChange.observers.length&&Le.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}measureRangeSize(qe,gt){if(qe.start>=qe.end)return 0;const ot=qe.start-this._renderedRange.start,ae=qe.end-qe.start;let Oe,Le;for(let Pe=0;Pe<ae;Pe++){const _t=this._viewContainerRef.get(Pe+ot);if(_t&&_t.rootNodes.length){Oe=Le=_t.rootNodes[0];break}}for(let Pe=ae-1;Pe>-1;Pe--){const _t=this._viewContainerRef.get(Pe+ot);if(_t&&_t.rootNodes.length){Le=_t.rootNodes[_t.rootNodes.length-1];break}}return Oe&&Le?ue(gt,"end",Le)-ue(gt,"start",Oe):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const qe=this._differ.diff(this._renderedItems);qe?this._applyChanges(qe):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((qe,gt)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(qe,gt):gt)),this._needsUpdate=!0)}_changeDataSource(qe,gt){return qe&&qe.disconnect(this),this._needsUpdate=!0,gt?gt.connect(this):(0,p.of)()}_updateContext(){const qe=this._data.length;let gt=this._viewContainerRef.length;for(;gt--;){const ot=this._viewContainerRef.get(gt);ot.context.index=this._renderedRange.start+gt,ot.context.count=qe,this._updateComputedContextProperties(ot.context),ot.detectChanges()}}_applyChanges(qe){this._viewRepeater.applyChanges(qe,this._viewContainerRef,(ae,Oe,Le)=>this._getEmbeddedViewArgs(ae,Le),ae=>ae.item),qe.forEachIdentityChange(ae=>{this._viewContainerRef.get(ae.currentIndex).context.$implicit=ae.item});const gt=this._data.length;let ot=this._viewContainerRef.length;for(;ot--;){const ae=this._viewContainerRef.get(ot);ae.context.index=this._renderedRange.start+ot,ae.context.count=gt,this._updateComputedContextProperties(ae.context)}}_updateComputedContextProperties(qe){qe.first=0===qe.index,qe.last=qe.index===qe.count-1,qe.even=qe.index%2==0,qe.odd=!qe.even}_getEmbeddedViewArgs(qe,gt){return{templateRef:this._template,context:{$implicit:qe.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:gt}}static#e=this.\u0275fac=function(gt){return new(gt||ht)(i.rXU(i.c1b),i.rXU(i.C4Q),i.rXU(i._q3),i.rXU(te.sL),i.rXU(be,4),i.rXU(i.SKi))};static#t=this.\u0275dir=i.FsC({type:ht,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},standalone:!0,features:[i.Jv_([{provide:te.sL,useClass:te.DQ}])]})}return ht})(),Ve=(()=>{class ht{static#e=this.\u0275fac=function(gt){return new(gt||ht)};static#t=this.\u0275mod=i.$C({type:ht});static#n=this.\u0275inj=i.G2t({})}return ht})(),st=(()=>{class ht{static#e=this.\u0275fac=function(gt){return new(gt||ht)};static#t=this.\u0275mod=i.$C({type:ht});static#n=this.\u0275inj=i.G2t({imports:[Q.jI,Ve,Q.jI,Ve]})}return ht})()},5887:(Mt,pe,a)=>{"use strict";a.d(pe,{AL:()=>$,EZ:()=>F,I8:()=>fe,L_:()=>U,N0:()=>Kt,RT:()=>gt,Rk:()=>Oe,To:()=>Q,VP:()=>w,Y$:()=>Ze,ZM:()=>Ve,c7:()=>I,cO:()=>Y,df:()=>J,hc:()=>Ct,hi:()=>k,ki:()=>_t,lH:()=>qe,lQ:()=>te,n5:()=>P,oh:()=>X,pe:()=>Vt,sY:()=>y,u4:()=>lt,wA:()=>Me,yT:()=>ht});var e=a(8203),i=a(5024),d=a(6860),p=a(3701),m=a(177),_=a(3953),g=a(5286),b=a(9928),u=a(8982),S=a(4421),D=a(7605);const E=[[["caption"]],[["colgroup"],["col"]],"*"],A=["caption","colgroup, col","*"];function v(Ft,_n){1&Ft&&_.SdG(0,2)}function O(Ft,_n){1&Ft&&(_.j41(0,"thead",0),_.eu8(1,1),_.k0s(),_.j41(2,"tbody",0),_.eu8(3,2)(4,3),_.k0s(),_.j41(5,"tfoot",0),_.eu8(6,4),_.k0s())}function z(Ft,_n){1&Ft&&_.eu8(0,1)(1,2)(2,3)(3,4)}function G(Ft,_n){if(1&Ft&&(_.j41(0,"th",3),_.EFF(1),_.k0s()),2&Ft){const ft=_.XpG();_.xc7("text-align",ft.justify),_.R7$(),_.SpI(" ",ft.headerText," ")}}function K(Ft,_n){if(1&Ft&&(_.j41(0,"td",4),_.EFF(1),_.k0s()),2&Ft){const ft=_n.$implicit,pt=_.XpG();_.xc7("text-align",pt.justify),_.R7$(),_.SpI(" ",pt.dataAccessor(ft,pt.name)," ")}}const F=new _.nKC("CDK_TABLE"),H=new _.nKC("text-column-options");let Y=(()=>{class Ft{constructor(ft){this.template=ft}static#e=this.\u0275fac=function(pt){return new(pt||Ft)(_.rXU(_.C4Q))};static#t=this.\u0275dir=_.FsC({type:Ft,selectors:[["","cdkCellDef",""]],standalone:!0})}return Ft})(),P=(()=>{class Ft{constructor(ft){this.template=ft}static#e=this.\u0275fac=function(pt){return new(pt||Ft)(_.rXU(_.C4Q))};static#t=this.\u0275dir=_.FsC({type:Ft,selectors:[["","cdkHeaderCellDef",""]],standalone:!0})}return Ft})(),U=(()=>{class Ft{constructor(ft){this.template=ft}static#e=this.\u0275fac=function(pt){return new(pt||Ft)(_.rXU(_.C4Q))};static#t=this.\u0275dir=_.FsC({type:Ft,selectors:[["","cdkFooterCellDef",""]],standalone:!0})}return Ft})(),$=(()=>{class Ft{get name(){return this._name}set name(ft){this._setNameInput(ft)}get sticky(){return this._sticky}set sticky(ft){ft!==this._sticky&&(this._sticky=ft,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(ft){ft!==this._stickyEnd&&(this._stickyEnd=ft,this._hasStickyChanged=!0)}constructor(ft){this._table=ft,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){const ft=this._hasStickyChanged;return this.resetStickyChanged(),ft}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(ft){ft&&(this._name=ft,this.cssClassFriendlyName=ft.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static#e=this.\u0275fac=function(pt){return new(pt||Ft)(_.rXU(F,8))};static#t=this.\u0275dir=_.FsC({type:Ft,selectors:[["","cdkColumnDef",""]],contentQueries:function(pt,$t,kt){if(1&pt&&(_.wni(kt,Y,5),_.wni(kt,P,5),_.wni(kt,U,5)),2&pt){let dn;_.mGM(dn=_.lsd())&&($t.cell=dn.first),_.mGM(dn=_.lsd())&&($t.headerCell=dn.first),_.mGM(dn=_.lsd())&&($t.footerCell=dn.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",_.L39],stickyEnd:[2,"stickyEnd","stickyEnd",_.L39]},standalone:!0,features:[_.Jv_([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:Ft}]),_.GFd]})}return Ft})();class B{constructor(_n,ft){ft.nativeElement.classList.add(..._n._columnCssClassName)}}let y=(()=>{class Ft extends B{constructor(ft,pt){super(ft,pt)}static#e=this.\u0275fac=function(pt){return new(pt||Ft)(_.rXU($),_.rXU(_.aKT))};static#t=this.\u0275dir=_.FsC({type:Ft,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[_.Vt3]})}return Ft})(),I=(()=>{class Ft extends B{constructor(ft,pt){super(ft,pt);const $t=ft._table?._getCellRole();$t&&pt.nativeElement.setAttribute("role",$t)}static#e=this.\u0275fac=function(pt){return new(pt||Ft)(_.rXU($),_.rXU(_.aKT))};static#t=this.\u0275dir=_.FsC({type:Ft,selectors:[["cdk-footer-cell"],["td","cdk-footer-cell",""]],hostAttrs:[1,"cdk-footer-cell"],standalone:!0,features:[_.Vt3]})}return Ft})(),w=(()=>{class Ft extends B{constructor(ft,pt){super(ft,pt);const $t=ft._table?._getCellRole();$t&&pt.nativeElement.setAttribute("role",$t)}static#e=this.\u0275fac=function(pt){return new(pt||Ft)(_.rXU($),_.rXU(_.aKT))};static#t=this.\u0275dir=_.FsC({type:Ft,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[_.Vt3]})}return Ft})();class L{constructor(){this.tasks=[],this.endTasks=[]}}const Q=new _.nKC("_COALESCED_STYLE_SCHEDULER");let te=(()=>{class Ft{constructor(ft){this._currentSchedule=null,this._ngZone=(0,_.WQX)(_.SKi)}schedule(ft){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(ft)}scheduleEnd(ft){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(ft)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new L,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const ft=this._currentSchedule;this._currentSchedule=new L;for(const pt of ft.tasks)pt();for(const pt of ft.endTasks)pt()}this._currentSchedule=null})))}static#e=this.\u0275fac=function(pt){return new(pt||Ft)(_.KVO(_.SKi))};static#t=this.\u0275prov=_.jDH({token:Ft,factory:Ft.\u0275fac})}return Ft})(),ee=(()=>{class Ft{constructor(ft,pt){this.template=ft,this._differs=pt}ngOnChanges(ft){if(!this._columnsDiffer){const pt=ft.columns&&ft.columns.currentValue||[];this._columnsDiffer=this._differs.find(pt).create(),this._columnsDiffer.diff(pt)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(ft){return this instanceof k?ft.headerCell.template:this instanceof J?ft.footerCell.template:ft.cell.template}static#e=this.\u0275fac=function(pt){return new(pt||Ft)(_.rXU(_.C4Q),_.rXU(_._q3))};static#t=this.\u0275dir=_.FsC({type:Ft,features:[_.OA$]})}return Ft})(),k=(()=>{class Ft extends ee{get sticky(){return this._sticky}set sticky(ft){ft!==this._sticky&&(this._sticky=ft,this._hasStickyChanged=!0)}constructor(ft,pt,$t){super(ft,pt),this._table=$t,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(ft){super.ngOnChanges(ft)}hasStickyChanged(){const ft=this._hasStickyChanged;return this.resetStickyChanged(),ft}resetStickyChanged(){this._hasStickyChanged=!1}static#e=this.\u0275fac=function(pt){return new(pt||Ft)(_.rXU(_.C4Q),_.rXU(_._q3),_.rXU(F,8))};static#t=this.\u0275dir=_.FsC({type:Ft,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",_.L39]},standalone:!0,features:[_.GFd,_.Vt3,_.OA$]})}return Ft})(),J=(()=>{class Ft extends ee{get sticky(){return this._sticky}set sticky(ft){ft!==this._sticky&&(this._sticky=ft,this._hasStickyChanged=!0)}constructor(ft,pt,$t){super(ft,pt),this._table=$t,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(ft){super.ngOnChanges(ft)}hasStickyChanged(){const ft=this._hasStickyChanged;return this.resetStickyChanged(),ft}resetStickyChanged(){this._hasStickyChanged=!1}static#e=this.\u0275fac=function(pt){return new(pt||Ft)(_.rXU(_.C4Q),_.rXU(_._q3),_.rXU(F,8))};static#t=this.\u0275dir=_.FsC({type:Ft,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",_.L39]},standalone:!0,features:[_.GFd,_.Vt3,_.OA$]})}return Ft})(),X=(()=>{class Ft extends ee{constructor(ft,pt,$t){super(ft,pt),this._table=$t}static#e=this.\u0275fac=function(pt){return new(pt||Ft)(_.rXU(_.C4Q),_.rXU(_._q3),_.rXU(F,8))};static#t=this.\u0275dir=_.FsC({type:Ft,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},standalone:!0,features:[_.Vt3]})}return Ft})(),fe=(()=>{class Ft{static#e=this.mostRecentCellOutlet=null;constructor(ft){this._viewContainer=ft,Ft.mostRecentCellOutlet=this}ngOnDestroy(){Ft.mostRecentCellOutlet===this&&(Ft.mostRecentCellOutlet=null)}static#t=this.\u0275fac=function(pt){return new(pt||Ft)(_.rXU(_.c1b))};static#n=this.\u0275dir=_.FsC({type:Ft,selectors:[["","cdkCellOutlet",""]],standalone:!0})}return Ft})(),Me=(()=>{class Ft{static#e=this.\u0275fac=function(pt){return new(pt||Ft)};static#t=this.\u0275cmp=_.VBU({type:Ft,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[_.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(pt,$t){1&pt&&_.eu8(0,0)},dependencies:[fe],encapsulation:2})}return Ft})(),Ze=(()=>{class Ft{static#e=this.\u0275fac=function(pt){return new(pt||Ft)};static#t=this.\u0275cmp=_.VBU({type:Ft,selectors:[["cdk-footer-row"],["tr","cdk-footer-row",""]],hostAttrs:["role","row",1,"cdk-footer-row"],standalone:!0,features:[_.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(pt,$t){1&pt&&_.eu8(0,0)},dependencies:[fe],encapsulation:2})}return Ft})(),Ct=(()=>{class Ft{static#e=this.\u0275fac=function(pt){return new(pt||Ft)};static#t=this.\u0275cmp=_.VBU({type:Ft,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[_.aNF],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(pt,$t){1&pt&&_.eu8(0,0)},dependencies:[fe],encapsulation:2})}return Ft})(),lt=(()=>{class Ft{constructor(ft){this.templateRef=ft,this._contentClassName="cdk-no-data-row"}static#e=this.\u0275fac=function(pt){return new(pt||Ft)(_.rXU(_.C4Q))};static#t=this.\u0275dir=_.FsC({type:Ft,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0})}return Ft})();const Ot=["top","bottom","left","right"];class rt{constructor(_n,ft,pt,$t,kt=!0,dn=!0,pn){this._isNativeHtmlTable=_n,this._stickCellCss=ft,this.direction=pt,this._coalescedStyleScheduler=$t,this._isBrowser=kt,this._needsPositionStickyOnElement=dn,this._positionListener=pn,this._cachedCellWidths=[],this._borderCellCss={top:`${ft}-border-elem-top`,bottom:`${ft}-border-elem-bottom`,left:`${ft}-border-elem-left`,right:`${ft}-border-elem-right`}}clearStickyPositioning(_n,ft){const pt=[];for(const $t of _n)if($t.nodeType===$t.ELEMENT_NODE){pt.push($t);for(let kt=0;kt<$t.children.length;kt++)pt.push($t.children[kt])}this._coalescedStyleScheduler.schedule(()=>{for(const $t of pt)this._removeStickyStyle($t,ft)})}updateStickyColumns(_n,ft,pt,$t=!0){_n.length&&this._isBrowser&&(ft.some(kt=>kt)||pt.some(kt=>kt))?this._coalescedStyleScheduler.schedule(()=>{const kt=_n[0],dn=kt.children.length,pn=this._getCellWidths(kt,$t),un=this._getStickyStartColumnPositions(pn,ft),an=this._getStickyEndColumnPositions(pn,pt),hn=ft.lastIndexOf(!0),Sn=pt.indexOf(!0),Lt="rtl"===this.direction,at=Lt?"right":"left",ct=Lt?"left":"right";for(const Xe of _n)for(let Qe=0;Qe<dn;Qe++){const Bt=Xe.children[Qe];ft[Qe]&&this._addStickyStyle(Bt,at,un[Qe],Qe===hn),pt[Qe]&&this._addStickyStyle(Bt,ct,an[Qe],Qe===Sn)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===hn?[]:pn.slice(0,hn+1).map((Xe,Qe)=>ft[Qe]?Xe:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===Sn?[]:pn.slice(Sn).map((Xe,Qe)=>pt[Qe+Sn]?Xe:null).reverse()}))}):this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}))}stickRows(_n,ft,pt){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{const $t="bottom"===pt?_n.slice().reverse():_n,kt="bottom"===pt?ft.slice().reverse():ft,dn=[],pn=[],un=[];for(let hn=0,Sn=0;hn<$t.length;hn++){if(!kt[hn])continue;dn[hn]=Sn;const Lt=$t[hn];un[hn]=this._isNativeHtmlTable?Array.from(Lt.children):[Lt];const at=Lt.getBoundingClientRect().height;Sn+=at,pn[hn]=at}const an=kt.lastIndexOf(!0);for(let hn=0;hn<$t.length;hn++){if(!kt[hn])continue;const Sn=dn[hn],Lt=hn===an;for(const at of un[hn])this._addStickyStyle(at,pt,Sn,Lt)}"top"===pt?this._positionListener?.stickyHeaderRowsUpdated({sizes:pn,offsets:dn,elements:un}):this._positionListener?.stickyFooterRowsUpdated({sizes:pn,offsets:dn,elements:un})})}updateStickyFooterContainer(_n,ft){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{const pt=_n.querySelector("tfoot");pt&&(ft.some($t=>!$t)?this._removeStickyStyle(pt,["bottom"]):this._addStickyStyle(pt,"bottom",0,!1))})}_removeStickyStyle(_n,ft){for(const $t of ft)_n.style[$t]="",_n.classList.remove(this._borderCellCss[$t]);Ot.some($t=>-1===ft.indexOf($t)&&_n.style[$t])?_n.style.zIndex=this._getCalculatedZIndex(_n):(_n.style.zIndex="",this._needsPositionStickyOnElement&&(_n.style.position=""),_n.classList.remove(this._stickCellCss))}_addStickyStyle(_n,ft,pt,$t){_n.classList.add(this._stickCellCss),$t&&_n.classList.add(this._borderCellCss[ft]),_n.style[ft]=`${pt}px`,_n.style.zIndex=this._getCalculatedZIndex(_n),this._needsPositionStickyOnElement&&(_n.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(_n){const ft={top:100,bottom:10,left:1,right:1};let pt=0;for(const $t of Ot)_n.style[$t]&&(pt+=ft[$t]);return pt?`${pt}`:""}_getCellWidths(_n,ft=!0){if(!ft&&this._cachedCellWidths.length)return this._cachedCellWidths;const pt=[],$t=_n.children;for(let kt=0;kt<$t.length;kt++)pt.push($t[kt].getBoundingClientRect().width);return this._cachedCellWidths=pt,pt}_getStickyStartColumnPositions(_n,ft){const pt=[];let $t=0;for(let kt=0;kt<_n.length;kt++)ft[kt]&&(pt[kt]=$t,$t+=_n[kt]);return pt}_getStickyEndColumnPositions(_n,ft){const pt=[];let $t=0;for(let kt=_n.length;kt>0;kt--)ft[kt]&&(pt[kt]=$t,$t+=_n[kt]);return pt}}const Ve=new _.nKC("CDK_SPL");let ht=(()=>{class Ft{constructor(ft,pt){this.viewContainer=ft,this.elementRef=pt;const $t=(0,_.WQX)(F);$t._rowOutlet=this,$t._outletAssigned()}static#e=this.\u0275fac=function(pt){return new(pt||Ft)(_.rXU(_.c1b),_.rXU(_.aKT))};static#t=this.\u0275dir=_.FsC({type:Ft,selectors:[["","rowOutlet",""]],standalone:!0})}return Ft})(),Vt=(()=>{class Ft{constructor(ft,pt){this.viewContainer=ft,this.elementRef=pt;const $t=(0,_.WQX)(F);$t._headerRowOutlet=this,$t._outletAssigned()}static#e=this.\u0275fac=function(pt){return new(pt||Ft)(_.rXU(_.c1b),_.rXU(_.aKT))};static#t=this.\u0275dir=_.FsC({type:Ft,selectors:[["","headerRowOutlet",""]],standalone:!0})}return Ft})(),qe=(()=>{class Ft{constructor(ft,pt){this.viewContainer=ft,this.elementRef=pt;const $t=(0,_.WQX)(F);$t._footerRowOutlet=this,$t._outletAssigned()}static#e=this.\u0275fac=function(pt){return new(pt||Ft)(_.rXU(_.c1b),_.rXU(_.aKT))};static#t=this.\u0275dir=_.FsC({type:Ft,selectors:[["","footerRowOutlet",""]],standalone:!0})}return Ft})(),gt=(()=>{class Ft{constructor(ft,pt){this.viewContainer=ft,this.elementRef=pt;const $t=(0,_.WQX)(F);$t._noDataRowOutlet=this,$t._outletAssigned()}static#e=this.\u0275fac=function(pt){return new(pt||Ft)(_.rXU(_.c1b),_.rXU(_.aKT))};static#t=this.\u0275dir=_.FsC({type:Ft,selectors:[["","noDataRowOutlet",""]],standalone:!0})}return Ft})(),Oe=(()=>{class Ft{_getCellRole(){if(void 0===this._cellRoleInternal){const ft=this._elementRef.nativeElement.getAttribute("role"),pt="grid"===ft||"treegrid"===ft?"gridcell":"cell";this._cellRoleInternal=this._isNativeHtmlTable&&"cell"===pt?null:pt}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(ft){this._trackByFn=ft}get dataSource(){return this._dataSource}set dataSource(ft){this._dataSource!==ft&&this._switchDataSource(ft)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(ft){this._multiTemplateDataRows=ft,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(ft){this._fixedLayout=ft,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(ft,pt,$t,kt,dn,pn,un,an,hn,Sn,Lt,at){this._differs=ft,this._changeDetectorRef=pt,this._elementRef=$t,this._dir=dn,this._platform=un,this._viewRepeater=an,this._coalescedStyleScheduler=hn,this._viewportRuler=Sn,this._stickyPositioningListener=Lt,this._onDestroy=new g.B7,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new _.bkB,this.viewChange=new b.t({start:0,end:Number.MAX_VALUE}),this._injector=(0,_.WQX)(_.zZn),kt||$t.nativeElement.setAttribute("role","table"),this._document=pn,this._isServer=!un.isBrowser,this._isNativeHtmlTable="TABLE"===$t.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((ft,pt)=>this.trackBy?this.trackBy(pt.dataIndex,pt.data):pt),this._viewportRuler.change().pipe((0,D.Q)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(ft=>{ft?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,i.y4)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const ft=this._dataDiffer.diff(this._renderRows);if(!ft)return this._updateNoDataRow(),void this.contentChanged.next();const pt=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(ft,pt,($t,kt,dn)=>this._getEmbeddedViewArgs($t.item,dn),$t=>$t.item.data,$t=>{$t.operation===i.Q3.INSERTED&&$t.context&&this._renderCellTemplateForItem($t.record.item.rowDef,$t.context)}),this._updateRowIndexContext(),ft.forEachIdentityChange($t=>{pt.get($t.currentIndex).context.$implicit=$t.item.data}),this._updateNoDataRow(),(0,_.mal)(()=>{this.updateStickyColumnStyles()},{injector:this._injector}),this.contentChanged.next()}addColumnDef(ft){this._customColumnDefs.add(ft)}removeColumnDef(ft){this._customColumnDefs.delete(ft)}addRowDef(ft){this._customRowDefs.add(ft)}removeRowDef(ft){this._customRowDefs.delete(ft)}addHeaderRowDef(ft){this._customHeaderRowDefs.add(ft),this._headerRowDefChanged=!0}removeHeaderRowDef(ft){this._customHeaderRowDefs.delete(ft),this._headerRowDefChanged=!0}addFooterRowDef(ft){this._customFooterRowDefs.add(ft),this._footerRowDefChanged=!0}removeFooterRowDef(ft){this._customFooterRowDefs.delete(ft),this._footerRowDefChanged=!0}setNoDataRow(ft){this._customNoDataRow=ft}updateStickyHeaderRowStyles(){const ft=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){const $t=Pe(this._headerRowOutlet,"thead");$t&&($t.style.display=ft.length?"":"none")}const pt=this._headerRowDefs.map($t=>$t.sticky);this._stickyStyler.clearStickyPositioning(ft,["top"]),this._stickyStyler.stickRows(ft,pt,"top"),this._headerRowDefs.forEach($t=>$t.resetStickyChanged())}updateStickyFooterRowStyles(){const ft=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){const $t=Pe(this._footerRowOutlet,"tfoot");$t&&($t.style.display=ft.length?"":"none")}const pt=this._footerRowDefs.map($t=>$t.sticky);this._stickyStyler.clearStickyPositioning(ft,["bottom"]),this._stickyStyler.stickRows(ft,pt,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,pt),this._footerRowDefs.forEach($t=>$t.resetStickyChanged())}updateStickyColumnStyles(){const ft=this._getRenderedRows(this._headerRowOutlet),pt=this._getRenderedRows(this._rowOutlet),$t=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...ft,...pt,...$t],["left","right"]),this._stickyColumnStylesNeedReset=!1),ft.forEach((kt,dn)=>{this._addStickyColumnStyles([kt],this._headerRowDefs[dn])}),this._rowDefs.forEach(kt=>{const dn=[];for(let pn=0;pn<pt.length;pn++)this._renderRows[pn].rowDef===kt&&dn.push(pt[pn]);this._addStickyColumnStyles(dn,kt)}),$t.forEach((kt,dn)=>{this._addStickyColumnStyles([kt],this._footerRowDefs[dn])}),Array.from(this._columnDefsByName.values()).forEach(kt=>kt.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs();const pt=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||pt,this._forceRecalculateCellWidths=pt,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){const ft=[],pt=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let $t=0;$t<this._data.length;$t++){let kt=this._data[$t];const dn=this._getRenderRowsForData(kt,$t,pt.get(kt));this._cachedRenderRowsMap.has(kt)||this._cachedRenderRowsMap.set(kt,new WeakMap);for(let pn=0;pn<dn.length;pn++){let un=dn[pn];const an=this._cachedRenderRowsMap.get(un.data);an.has(un.rowDef)?an.get(un.rowDef).push(un):an.set(un.rowDef,[un]),ft.push(un)}}return ft}_getRenderRowsForData(ft,pt,$t){return this._getRowDefs(ft,pt).map(dn=>{const pn=$t&&$t.has(dn)?$t.get(dn):[];if(pn.length){const un=pn.shift();return un.dataIndex=pt,un}return{data:ft,rowDef:dn,dataIndex:pt}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Le(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(pt=>{this._columnDefsByName.has(pt.name),this._columnDefsByName.set(pt.name,pt)})}_cacheRowDefs(){this._headerRowDefs=Le(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Le(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Le(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const ft=this._rowDefs.filter(pt=>!pt.when);this._defaultRowDef=ft[0]}_renderUpdatedColumns(){const ft=(dn,pn)=>dn||!!pn.getColumnsDiff(),pt=this._rowDefs.reduce(ft,!1);pt&&this._forceRenderDataRows();const $t=this._headerRowDefs.reduce(ft,!1);$t&&this._forceRenderHeaderRows();const kt=this._footerRowDefs.reduce(ft,!1);return kt&&this._forceRenderFooterRows(),pt||$t||kt}_switchDataSource(ft){this._data=[],(0,i.y4)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),ft||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=ft}_observeRenderChanges(){if(!this.dataSource)return;let ft;(0,i.y4)(this.dataSource)?ft=this.dataSource.connect(this):(0,u.A)(this.dataSource)?ft=this.dataSource:Array.isArray(this.dataSource)&&(ft=(0,S.of)(this.dataSource)),this._renderChangeSubscription=ft.pipe((0,D.Q)(this._onDestroy)).subscribe(pt=>{this._data=pt||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((ft,pt)=>this._renderRow(this._headerRowOutlet,ft,pt)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((ft,pt)=>this._renderRow(this._footerRowOutlet,ft,pt)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(ft,pt){const $t=Array.from(pt.columns||[]).map(pn=>this._columnDefsByName.get(pn)),kt=$t.map(pn=>pn.sticky),dn=$t.map(pn=>pn.stickyEnd);this._stickyStyler.updateStickyColumns(ft,kt,dn,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(ft){const pt=[];for(let $t=0;$t<ft.viewContainer.length;$t++){const kt=ft.viewContainer.get($t);pt.push(kt.rootNodes[0])}return pt}_getRowDefs(ft,pt){if(1==this._rowDefs.length)return[this._rowDefs[0]];let $t=[];if(this.multiTemplateDataRows)$t=this._rowDefs.filter(kt=>!kt.when||kt.when(pt,ft));else{let kt=this._rowDefs.find(dn=>dn.when&&dn.when(pt,ft))||this._defaultRowDef;kt&&$t.push(kt)}return $t}_getEmbeddedViewArgs(ft,pt){return{templateRef:ft.rowDef.template,context:{$implicit:ft.data},index:pt}}_renderRow(ft,pt,$t,kt={}){const dn=ft.viewContainer.createEmbeddedView(pt.template,kt,$t);return this._renderCellTemplateForItem(pt,kt),dn}_renderCellTemplateForItem(ft,pt){for(let $t of this._getCellTemplates(ft))fe.mostRecentCellOutlet&&fe.mostRecentCellOutlet._viewContainer.createEmbeddedView($t,pt);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const ft=this._rowOutlet.viewContainer;for(let pt=0,$t=ft.length;pt<$t;pt++){const dn=ft.get(pt).context;dn.count=$t,dn.first=0===pt,dn.last=pt===$t-1,dn.even=pt%2==0,dn.odd=!dn.even,this.multiTemplateDataRows?(dn.dataIndex=this._renderRows[pt].dataIndex,dn.renderIndex=pt):dn.index=this._renderRows[pt].dataIndex}}_getCellTemplates(ft){return ft&&ft.columns?Array.from(ft.columns,pt=>{const $t=this._columnDefsByName.get(pt);return ft.extractCellTemplate($t)}):[]}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const ft=(pt,$t)=>pt||$t.hasStickyChanged();this._headerRowDefs.reduce(ft,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(ft,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(ft,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new rt(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,S.of)()).pipe((0,D.Q)(this._onDestroy)).subscribe(pt=>{this._stickyStyler.direction=pt,this.updateStickyColumnStyles()})}_getOwnDefs(ft){return ft.filter(pt=>!pt._table||pt._table===this)}_updateNoDataRow(){const ft=this._customNoDataRow||this._noDataRow;if(!ft)return;const pt=0===this._rowOutlet.viewContainer.length;if(pt===this._isShowingNoDataRow)return;const $t=this._noDataRowOutlet.viewContainer;if(pt){const kt=$t.createEmbeddedView(ft.templateRef),dn=kt.rootNodes[0];1===kt.rootNodes.length&&dn?.nodeType===this._document.ELEMENT_NODE&&(dn.setAttribute("role","row"),dn.classList.add(ft._contentClassName))}else $t.clear();this._isShowingNoDataRow=pt,this._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(pt){return new(pt||Ft)(_.rXU(_._q3),_.rXU(_.gRc),_.rXU(_.aKT),_.kS0("role"),_.rXU(e.dS,8),_.rXU(m.qQ),_.rXU(d.OD),_.rXU(i.sL),_.rXU(Q),_.rXU(p.Xj),_.rXU(Ve,12),_.rXU(_.SKi,8))};static#t=this.\u0275cmp=_.VBU({type:Ft,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(pt,$t,kt){if(1&pt&&(_.wni(kt,lt,5),_.wni(kt,$,5),_.wni(kt,X,5),_.wni(kt,k,5),_.wni(kt,J,5)),2&pt){let dn;_.mGM(dn=_.lsd())&&($t._noDataRow=dn.first),_.mGM(dn=_.lsd())&&($t._contentColumnDefs=dn),_.mGM(dn=_.lsd())&&($t._contentRowDefs=dn),_.mGM(dn=_.lsd())&&($t._contentHeaderRowDefs=dn),_.mGM(dn=_.lsd())&&($t._contentFooterRowDefs=dn)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(pt,$t){2&pt&&_.AVh("cdk-table-fixed-layout",$t.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",_.L39],fixedLayout:[2,"fixedLayout","fixedLayout",_.L39]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[_.Jv_([{provide:F,useExisting:Ft},{provide:i.sL,useClass:i.xn},{provide:Q,useClass:te},{provide:Ve,useValue:null}]),_.GFd,_.aNF],ngContentSelectors:A,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(pt,$t){1&pt&&(_.NAR(E),_.SdG(0),_.SdG(1,1),_.DNE(2,v,1,0)(3,O,7,0)(4,z,4,0)),2&pt&&(_.R7$(2),_.vxM($t._isServer?2:-1),_.R7$(),_.vxM($t._isNativeHtmlTable?3:4))},dependencies:[Vt,ht,gt,qe],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}return Ft})();function Le(Ft,_n){return Ft.concat(Array.from(_n))}function Pe(Ft,_n){const ft=_n.toUpperCase();let pt=Ft.viewContainer.element.nativeElement;for(;pt;){const $t=1===pt.nodeType?pt.nodeName:null;if($t===ft)return pt;if("TABLE"===$t)break;pt=pt.parentNode}return null}let _t=(()=>{class Ft{get name(){return this._name}set name(ft){this._name=ft,this._syncColumnDefName()}constructor(ft,pt){this._table=ft,this._options=pt,this.justify="start",this._options=pt||{}}ngOnInit(){this._syncColumnDefName(),void 0===this.headerText&&(this.headerText=this._createDefaultHeaderText()),this.dataAccessor||(this.dataAccessor=this._options.defaultDataAccessor||((ft,pt)=>ft[pt])),this._table&&(this.columnDef.cell=this.cell,this.columnDef.headerCell=this.headerCell,this._table.addColumnDef(this.columnDef))}ngOnDestroy(){this._table&&this._table.removeColumnDef(this.columnDef)}_createDefaultHeaderText(){const ft=this.name;return this._options&&this._options.defaultHeaderTextTransform?this._options.defaultHeaderTextTransform(ft):ft[0].toUpperCase()+ft.slice(1)}_syncColumnDefName(){this.columnDef&&(this.columnDef.name=this.name)}static#e=this.\u0275fac=function(pt){return new(pt||Ft)(_.rXU(Oe,8),_.rXU(H,8))};static#t=this.\u0275cmp=_.VBU({type:Ft,selectors:[["cdk-text-column"]],viewQuery:function(pt,$t){if(1&pt&&(_.GBs($,7),_.GBs(Y,7),_.GBs(P,7)),2&pt){let kt;_.mGM(kt=_.lsd())&&($t.columnDef=kt.first),_.mGM(kt=_.lsd())&&($t.cell=kt.first),_.mGM(kt=_.lsd())&&($t.headerCell=kt.first)}},inputs:{name:"name",headerText:"headerText",dataAccessor:"dataAccessor",justify:"justify"},standalone:!0,features:[_.aNF],decls:3,vars:0,consts:[["cdkColumnDef",""],["cdk-header-cell","",3,"text-align",4,"cdkHeaderCellDef"],["cdk-cell","",3,"text-align",4,"cdkCellDef"],["cdk-header-cell",""],["cdk-cell",""]],template:function(pt,$t){1&pt&&(_.qex(0,0),_.DNE(1,G,2,3,"th",1)(2,K,2,3,"td",2),_.bVm())},dependencies:[$,P,y,Y,w],encapsulation:2})}return Ft})(),Kt=(()=>{class Ft{static#e=this.\u0275fac=function(pt){return new(pt||Ft)};static#t=this.\u0275mod=_.$C({type:Ft});static#n=this.\u0275inj=_.G2t({imports:[p.E9]})}return Ft})()},177:(Mt,pe,a)=>{"use strict";a.d(pe,{AJ:()=>Ki,B3:()=>Ji,GH:()=>bo,Jj:()=>Zr,MD:()=>pi,N0:()=>Us,OI:()=>Dn,P9:()=>xn,QT:()=>d,QX:()=>yo,Sm:()=>z,Sq:()=>Yt,T3:()=>Ni,UE:()=>bs,VF:()=>m,Vy:()=>us,Xr:()=>sr,YU:()=>Pn,ZD:()=>p,_b:()=>dt,aZ:()=>K,bT:()=>se,e1:()=>Bn,fG:()=>hi,fw:()=>G,hb:()=>v,hj:()=>u,m1:()=>Sr,oe:()=>Re,qQ:()=>g,ux:()=>Jt,vh:()=>Ko});var e=a(3953);let i=null;function d(){return i}function p(q){i??=q}class m{}const g=new e.nKC("");let b=(()=>{class q{historyGo(De){throw new Error("")}static#e=this.\u0275fac=function(We){return new(We||q)};static#t=this.\u0275prov=e.jDH({token:q,factory:()=>(0,e.WQX)(S),providedIn:"platform"})}return q})();const u=new e.nKC("");let S=(()=>{class q extends b{constructor(){super(),this._doc=(0,e.WQX)(g),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return d().getBaseHref(this._doc)}onPopState(De){const We=d().getGlobalEventTarget(this._doc,"window");return We.addEventListener("popstate",De,!1),()=>We.removeEventListener("popstate",De)}onHashChange(De){const We=d().getGlobalEventTarget(this._doc,"window");return We.addEventListener("hashchange",De,!1),()=>We.removeEventListener("hashchange",De)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(De){this._location.pathname=De}pushState(De,We,Wt){this._history.pushState(De,We,Wt)}replaceState(De,We,Wt){this._history.replaceState(De,We,Wt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(De=0){this._history.go(De)}getState(){return this._history.state}static#e=this.\u0275fac=function(We){return new(We||q)};static#t=this.\u0275prov=e.jDH({token:q,factory:()=>new q,providedIn:"platform"})}return q})();function D(q,ze){if(0==q.length)return ze;if(0==ze.length)return q;let De=0;return q.endsWith("/")&&De++,ze.startsWith("/")&&De++,2==De?q+ze.substring(1):1==De?q+ze:q+"/"+ze}function E(q){const ze=q.match(/#|\?|$/),De=ze&&ze.index||q.length;return q.slice(0,De-("/"===q[De-1]?1:0))+q.slice(De)}function A(q){return q&&"?"!==q[0]?"?"+q:q}let v=(()=>{class q{historyGo(De){throw new Error("")}static#e=this.\u0275fac=function(We){return new(We||q)};static#t=this.\u0275prov=e.jDH({token:q,factory:()=>(0,e.WQX)(z),providedIn:"root"})}return q})();const O=new e.nKC("");let z=(()=>{class q extends v{constructor(De,We){super(),this._platformLocation=De,this._removeListenerFns=[],this._baseHref=We??this._platformLocation.getBaseHrefFromDOM()??(0,e.WQX)(g).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(De){this._removeListenerFns.push(this._platformLocation.onPopState(De),this._platformLocation.onHashChange(De))}getBaseHref(){return this._baseHref}prepareExternalUrl(De){return D(this._baseHref,De)}path(De=!1){const We=this._platformLocation.pathname+A(this._platformLocation.search),Wt=this._platformLocation.hash;return Wt&&De?`${We}${Wt}`:We}pushState(De,We,Wt,mn){const Rn=this.prepareExternalUrl(Wt+A(mn));this._platformLocation.pushState(De,We,Rn)}replaceState(De,We,Wt,mn){const Rn=this.prepareExternalUrl(Wt+A(mn));this._platformLocation.replaceState(De,We,Rn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(De=0){this._platformLocation.historyGo?.(De)}static#e=this.\u0275fac=function(We){return new(We||q)(e.KVO(b),e.KVO(O,8))};static#t=this.\u0275prov=e.jDH({token:q,factory:q.\u0275fac,providedIn:"root"})}return q})(),G=(()=>{class q extends v{constructor(De,We){super(),this._platformLocation=De,this._baseHref="",this._removeListenerFns=[],null!=We&&(this._baseHref=We)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(De){this._removeListenerFns.push(this._platformLocation.onPopState(De),this._platformLocation.onHashChange(De))}getBaseHref(){return this._baseHref}path(De=!1){const We=this._platformLocation.hash??"#";return We.length>0?We.substring(1):We}prepareExternalUrl(De){const We=D(this._baseHref,De);return We.length>0?"#"+We:We}pushState(De,We,Wt,mn){let Rn=this.prepareExternalUrl(Wt+A(mn));0==Rn.length&&(Rn=this._platformLocation.pathname),this._platformLocation.pushState(De,We,Rn)}replaceState(De,We,Wt,mn){let Rn=this.prepareExternalUrl(Wt+A(mn));0==Rn.length&&(Rn=this._platformLocation.pathname),this._platformLocation.replaceState(De,We,Rn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(De=0){this._platformLocation.historyGo?.(De)}static#e=this.\u0275fac=function(We){return new(We||q)(e.KVO(b),e.KVO(O,8))};static#t=this.\u0275prov=e.jDH({token:q,factory:q.\u0275fac})}return q})(),K=(()=>{class q{constructor(De){this._subject=new e.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=De;const We=this._locationStrategy.getBaseHref();this._basePath=function P(q){if(new RegExp("^(https?:)?//").test(q)){const[,De]=q.split(/\/\/[^\/]+/);return De}return q}(E(Y(We))),this._locationStrategy.onPopState(Wt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Wt.state,type:Wt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(De=!1){return this.normalize(this._locationStrategy.path(De))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(De,We=""){return this.path()==this.normalize(De+A(We))}normalize(De){return q.stripTrailingSlash(function H(q,ze){if(!q||!ze.startsWith(q))return ze;const De=ze.substring(q.length);return""===De||["/",";","?","#"].includes(De[0])?De:ze}(this._basePath,Y(De)))}prepareExternalUrl(De){return De&&"/"!==De[0]&&(De="/"+De),this._locationStrategy.prepareExternalUrl(De)}go(De,We="",Wt=null){this._locationStrategy.pushState(Wt,"",De,We),this._notifyUrlChangeListeners(this.prepareExternalUrl(De+A(We)),Wt)}replaceState(De,We="",Wt=null){this._locationStrategy.replaceState(Wt,"",De,We),this._notifyUrlChangeListeners(this.prepareExternalUrl(De+A(We)),Wt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(De=0){this._locationStrategy.historyGo?.(De)}onUrlChange(De){return this._urlChangeListeners.push(De),this._urlChangeSubscription??=this.subscribe(We=>{this._notifyUrlChangeListeners(We.url,We.state)}),()=>{const We=this._urlChangeListeners.indexOf(De);this._urlChangeListeners.splice(We,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(De="",We){this._urlChangeListeners.forEach(Wt=>Wt(De,We))}subscribe(De,We,Wt){return this._subject.subscribe({next:De,error:We,complete:Wt})}static#e=this.normalizeQueryParams=A;static#t=this.joinWithSlash=D;static#n=this.stripTrailingSlash=E;static#i=this.\u0275fac=function(We){return new(We||q)(e.KVO(v))};static#s=this.\u0275prov=e.jDH({token:q,factory:()=>function F(){return new K((0,e.KVO)(v))}(),providedIn:"root"})}return q})();function Y(q){return q.replace(/\/index.html$/,"")}const U={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var $=function(q){return q[q.Decimal=0]="Decimal",q[q.Percent=1]="Percent",q[q.Currency=2]="Currency",q[q.Scientific=3]="Scientific",q}($||{}),y=function(q){return q[q.Format=0]="Format",q[q.Standalone=1]="Standalone",q}(y||{}),I=function(q){return q[q.Narrow=0]="Narrow",q[q.Abbreviated=1]="Abbreviated",q[q.Wide=2]="Wide",q[q.Short=3]="Short",q}(I||{}),w=function(q){return q[q.Short=0]="Short",q[q.Medium=1]="Medium",q[q.Long=2]="Long",q[q.Full=3]="Full",q}(w||{});const L={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Me(q,ze){return Ve((0,e.H5H)(q)[e.KH2.DateFormat],ze)}function Ze(q,ze){return Ve((0,e.H5H)(q)[e.KH2.TimeFormat],ze)}function Ct(q,ze){return Ve((0,e.H5H)(q)[e.KH2.DateTimeFormat],ze)}function lt(q,ze){const De=(0,e.H5H)(q),We=De[e.KH2.NumberSymbols][ze];if(typeof We>"u"){if(ze===L.CurrencyDecimal)return De[e.KH2.NumberSymbols][L.Decimal];if(ze===L.CurrencyGroup)return De[e.KH2.NumberSymbols][L.Group]}return We}function Ot(q,ze){return(0,e.H5H)(q)[e.KH2.NumberFormats][ze]}function ue(q){if(!q[e.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${q[e.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ve(q,ze){for(let De=ze;De>-1;De--)if(typeof q[De]<"u")return q[De];throw new Error("Locale data API: locale data undefined")}function st(q){const[ze,De]=q.split(":");return{hours:+ze,minutes:+De}}const gt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ot={},ae=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Oe=function(q){return q[q.Short=0]="Short",q[q.ShortGMT=1]="ShortGMT",q[q.Long=2]="Long",q[q.Extended=3]="Extended",q}(Oe||{}),Le=function(q){return q[q.FullYear=0]="FullYear",q[q.Month=1]="Month",q[q.Date=2]="Date",q[q.Hours=3]="Hours",q[q.Minutes=4]="Minutes",q[q.Seconds=5]="Seconds",q[q.FractionalSeconds=6]="FractionalSeconds",q[q.Day=7]="Day",q}(Le||{}),Pe=function(q){return q[q.DayPeriods=0]="DayPeriods",q[q.Days=1]="Days",q[q.Months=2]="Months",q[q.Eras=3]="Eras",q}(Pe||{});function _t(q,ze,De,We){let Wt=function Xt(q){if(oe(q))return q;if("number"==typeof q&&!isNaN(q))return new Date(q);if("string"==typeof q){if(q=q.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(q)){const[Wt,mn=1,Rn=1]=q.split("-").map(Gn=>+Gn);return Gt(Wt,mn-1,Rn)}const De=parseFloat(q);if(!isNaN(q-De))return new Date(De);let We;if(We=q.match(gt))return function Be(q){const ze=new Date(0);let De=0,We=0;const Wt=q[8]?ze.setUTCFullYear:ze.setFullYear,mn=q[8]?ze.setUTCHours:ze.setHours;q[9]&&(De=Number(q[9]+q[10]),We=Number(q[9]+q[11])),Wt.call(ze,Number(q[1]),Number(q[2])-1,Number(q[3]));const Rn=Number(q[4]||0)-De,Gn=Number(q[5]||0)-We,Ps=Number(q[6]||0),Zi=Math.floor(1e3*parseFloat("0."+(q[7]||0)));return mn.call(ze,Rn,Gn,Ps,Zi),ze}(We)}const ze=new Date(q);if(!oe(ze))throw new Error(`Unable to convert "${q}" into a date`);return ze}(q);ze=Kt(De,ze)||ze;let Gn,Rn=[];for(;ze;){if(Gn=ae.exec(ze),!Gn){Rn.push(ze);break}{Rn=Rn.concat(Gn.slice(1));const $s=Rn.pop();if(!$s)break;ze=$s}}let Ps=Wt.getTimezoneOffset();We&&(Ps=Xe(We,Ps),Wt=function Bt(q,ze,De){const We=De?-1:1,Wt=q.getTimezoneOffset();return function Qe(q,ze){return(q=new Date(q.getTime())).setMinutes(q.getMinutes()+ze),q}(q,We*(Xe(ze,Wt)-Wt))}(Wt,We,!0));let Zi="";return Rn.forEach($s=>{const Vn=function ct(q){if(at[q])return at[q];let ze;switch(q){case"G":case"GG":case"GGG":ze=$t(Pe.Eras,I.Abbreviated);break;case"GGGG":ze=$t(Pe.Eras,I.Wide);break;case"GGGGG":ze=$t(Pe.Eras,I.Narrow);break;case"y":ze=ft(Le.FullYear,1,0,!1,!0);break;case"yy":ze=ft(Le.FullYear,2,0,!0,!0);break;case"yyy":ze=ft(Le.FullYear,3,0,!1,!0);break;case"yyyy":ze=ft(Le.FullYear,4,0,!1,!0);break;case"Y":ze=Lt(1);break;case"YY":ze=Lt(2,!0);break;case"YYY":ze=Lt(3);break;case"YYYY":ze=Lt(4);break;case"M":case"L":ze=ft(Le.Month,1,1);break;case"MM":case"LL":ze=ft(Le.Month,2,1);break;case"MMM":ze=$t(Pe.Months,I.Abbreviated);break;case"MMMM":ze=$t(Pe.Months,I.Wide);break;case"MMMMM":ze=$t(Pe.Months,I.Narrow);break;case"LLL":ze=$t(Pe.Months,I.Abbreviated,y.Standalone);break;case"LLLL":ze=$t(Pe.Months,I.Wide,y.Standalone);break;case"LLLLL":ze=$t(Pe.Months,I.Narrow,y.Standalone);break;case"w":ze=Sn(1);break;case"ww":ze=Sn(2);break;case"W":ze=Sn(1,!0);break;case"d":ze=ft(Le.Date,1);break;case"dd":ze=ft(Le.Date,2);break;case"c":case"cc":ze=ft(Le.Day,1);break;case"ccc":ze=$t(Pe.Days,I.Abbreviated,y.Standalone);break;case"cccc":ze=$t(Pe.Days,I.Wide,y.Standalone);break;case"ccccc":ze=$t(Pe.Days,I.Narrow,y.Standalone);break;case"cccccc":ze=$t(Pe.Days,I.Short,y.Standalone);break;case"E":case"EE":case"EEE":ze=$t(Pe.Days,I.Abbreviated);break;case"EEEE":ze=$t(Pe.Days,I.Wide);break;case"EEEEE":ze=$t(Pe.Days,I.Narrow);break;case"EEEEEE":ze=$t(Pe.Days,I.Short);break;case"a":case"aa":case"aaa":ze=$t(Pe.DayPeriods,I.Abbreviated);break;case"aaaa":ze=$t(Pe.DayPeriods,I.Wide);break;case"aaaaa":ze=$t(Pe.DayPeriods,I.Narrow);break;case"b":case"bb":case"bbb":ze=$t(Pe.DayPeriods,I.Abbreviated,y.Standalone,!0);break;case"bbbb":ze=$t(Pe.DayPeriods,I.Wide,y.Standalone,!0);break;case"bbbbb":ze=$t(Pe.DayPeriods,I.Narrow,y.Standalone,!0);break;case"B":case"BB":case"BBB":ze=$t(Pe.DayPeriods,I.Abbreviated,y.Format,!0);break;case"BBBB":ze=$t(Pe.DayPeriods,I.Wide,y.Format,!0);break;case"BBBBB":ze=$t(Pe.DayPeriods,I.Narrow,y.Format,!0);break;case"h":ze=ft(Le.Hours,1,-12);break;case"hh":ze=ft(Le.Hours,2,-12);break;case"H":ze=ft(Le.Hours,1);break;case"HH":ze=ft(Le.Hours,2);break;case"m":ze=ft(Le.Minutes,1);break;case"mm":ze=ft(Le.Minutes,2);break;case"s":ze=ft(Le.Seconds,1);break;case"ss":ze=ft(Le.Seconds,2);break;case"S":ze=ft(Le.FractionalSeconds,1);break;case"SS":ze=ft(Le.FractionalSeconds,2);break;case"SSS":ze=ft(Le.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ze=dn(Oe.Short);break;case"ZZZZZ":ze=dn(Oe.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ze=dn(Oe.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ze=dn(Oe.Long);break;default:return null}return at[q]=ze,ze}($s);Zi+=Vn?Vn(Wt,De,Ps):"''"===$s?"'":$s.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Zi}function Gt(q,ze,De){const We=new Date(0);return We.setFullYear(q,ze,De),We.setHours(0,0,0),We}function Kt(q,ze){const De=function te(q){return(0,e.H5H)(q)[e.KH2.LocaleId]}(q);if(ot[De]??={},ot[De][ze])return ot[De][ze];let We="";switch(ze){case"shortDate":We=Me(q,w.Short);break;case"mediumDate":We=Me(q,w.Medium);break;case"longDate":We=Me(q,w.Long);break;case"fullDate":We=Me(q,w.Full);break;case"shortTime":We=Ze(q,w.Short);break;case"mediumTime":We=Ze(q,w.Medium);break;case"longTime":We=Ze(q,w.Long);break;case"fullTime":We=Ze(q,w.Full);break;case"short":const Wt=Kt(q,"shortTime"),mn=Kt(q,"shortDate");We=vn(Ct(q,w.Short),[Wt,mn]);break;case"medium":const Rn=Kt(q,"mediumTime"),Gn=Kt(q,"mediumDate");We=vn(Ct(q,w.Medium),[Rn,Gn]);break;case"long":const Ps=Kt(q,"longTime"),Zi=Kt(q,"longDate");We=vn(Ct(q,w.Long),[Ps,Zi]);break;case"full":const $s=Kt(q,"fullTime"),Vn=Kt(q,"fullDate");We=vn(Ct(q,w.Full),[$s,Vn])}return We&&(ot[De][ze]=We),We}function vn(q,ze){return ze&&(q=q.replace(/\{([^}]+)}/g,function(De,We){return null!=ze&&We in ze?ze[We]:De})),q}function Ft(q,ze,De="-",We,Wt){let mn="";(q<0||Wt&&q<=0)&&(Wt?q=1-q:(q=-q,mn=De));let Rn=String(q);for(;Rn.length<ze;)Rn="0"+Rn;return We&&(Rn=Rn.slice(Rn.length-ze)),mn+Rn}function ft(q,ze,De=0,We=!1,Wt=!1){return function(mn,Rn){let Gn=function pt(q,ze){switch(q){case Le.FullYear:return ze.getFullYear();case Le.Month:return ze.getMonth();case Le.Date:return ze.getDate();case Le.Hours:return ze.getHours();case Le.Minutes:return ze.getMinutes();case Le.Seconds:return ze.getSeconds();case Le.FractionalSeconds:return ze.getMilliseconds();case Le.Day:return ze.getDay();default:throw new Error(`Unknown DateType value "${q}".`)}}(q,mn);if((De>0||Gn>-De)&&(Gn+=De),q===Le.Hours)0===Gn&&-12===De&&(Gn=12);else if(q===Le.FractionalSeconds)return function _n(q,ze){return Ft(q,3).substring(0,ze)}(Gn,ze);const Ps=lt(Rn,L.MinusSign);return Ft(Gn,ze,Ps,We,Wt)}}function $t(q,ze,De=y.Format,We=!1){return function(Wt,mn){return function kt(q,ze,De,We,Wt,mn){switch(De){case Pe.Months:return function k(q,ze,De){const We=(0,e.H5H)(q),mn=Ve([We[e.KH2.MonthsFormat],We[e.KH2.MonthsStandalone]],ze);return Ve(mn,De)}(ze,Wt,We)[q.getMonth()];case Pe.Days:return function ee(q,ze,De){const We=(0,e.H5H)(q),mn=Ve([We[e.KH2.DaysFormat],We[e.KH2.DaysStandalone]],ze);return Ve(mn,De)}(ze,Wt,We)[q.getDay()];case Pe.DayPeriods:const Rn=q.getHours(),Gn=q.getMinutes();if(mn){const Zi=function me(q){const ze=(0,e.H5H)(q);return ue(ze),(ze[e.KH2.ExtraData][2]||[]).map(We=>"string"==typeof We?st(We):[st(We[0]),st(We[1])])}(ze),$s=function $e(q,ze,De){const We=(0,e.H5H)(q);ue(We);const mn=Ve([We[e.KH2.ExtraData][0],We[e.KH2.ExtraData][1]],ze)||[];return Ve(mn,De)||[]}(ze,Wt,We),Vn=Zi.findIndex(Ci=>{if(Array.isArray(Ci)){const[Os,cr]=Ci,Bo=Rn>=Os.hours&&Gn>=Os.minutes,pr=Rn<cr.hours||Rn===cr.hours&&Gn<cr.minutes;if(Os.hours<cr.hours){if(Bo&&pr)return!0}else if(Bo||pr)return!0}else if(Ci.hours===Rn&&Ci.minutes===Gn)return!0;return!1});if(-1!==Vn)return $s[Vn]}return function R(q,ze,De){const We=(0,e.H5H)(q),mn=Ve([We[e.KH2.DayPeriodsFormat],We[e.KH2.DayPeriodsStandalone]],ze);return Ve(mn,De)}(ze,Wt,We)[Rn<12?0:1];case Pe.Eras:return function J(q,ze){return Ve((0,e.H5H)(q)[e.KH2.Eras],ze)}(ze,We)[q.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${De}`)}}(Wt,mn,q,ze,De,We)}}function dn(q){return function(ze,De,We){const Wt=-1*We,mn=lt(De,L.MinusSign),Rn=Wt>0?Math.floor(Wt/60):Math.ceil(Wt/60);switch(q){case Oe.Short:return(Wt>=0?"+":"")+Ft(Rn,2,mn)+Ft(Math.abs(Wt%60),2,mn);case Oe.ShortGMT:return"GMT"+(Wt>=0?"+":"")+Ft(Rn,1,mn);case Oe.Long:return"GMT"+(Wt>=0?"+":"")+Ft(Rn,2,mn)+":"+Ft(Math.abs(Wt%60),2,mn);case Oe.Extended:return 0===We?"Z":(Wt>=0?"+":"")+Ft(Rn,2,mn)+":"+Ft(Math.abs(Wt%60),2,mn);default:throw new Error(`Unknown zone width "${q}"`)}}}const pn=0,un=4;function hn(q){const ze=q.getDay(),De=0===ze?-3:un-ze;return Gt(q.getFullYear(),q.getMonth(),q.getDate()+De)}function Sn(q,ze=!1){return function(De,We){let Wt;if(ze){const mn=new Date(De.getFullYear(),De.getMonth(),1).getDay()-1,Rn=De.getDate();Wt=1+Math.floor((Rn+mn)/7)}else{const mn=hn(De),Rn=function an(q){const ze=Gt(q,pn,1).getDay();return Gt(q,0,1+(ze<=un?un:un+7)-ze)}(mn.getFullYear()),Gn=mn.getTime()-Rn.getTime();Wt=1+Math.round(Gn/6048e5)}return Ft(Wt,q,lt(We,L.MinusSign))}}function Lt(q,ze=!1){return function(De,We){return Ft(hn(De).getFullYear(),q,lt(We,L.MinusSign),ze)}}const at={};function Xe(q,ze){q=q.replace(/:/g,"");const De=Date.parse("Jan 01, 1970 00:00:00 "+q)/6e4;return isNaN(De)?ze:De}function oe(q){return q instanceof Date&&!isNaN(q.valueOf())}const Ee=/^(\d+)?\.((\d+)(-(\d+))?)?$/,ne=22,Ie=".",Te="0",Ge=";",Ue=",",Fe="#";function xt(q,ze,De,We,Wt,mn,Rn=!1){let Gn="",Ps=!1;if(isFinite(q)){let Zi=function Qn(q){let We,Wt,mn,Rn,Gn,ze=Math.abs(q)+"",De=0;for((Wt=ze.indexOf(Ie))>-1&&(ze=ze.replace(Ie,"")),(mn=ze.search(/e/i))>0?(Wt<0&&(Wt=mn),Wt+=+ze.slice(mn+1),ze=ze.substring(0,mn)):Wt<0&&(Wt=ze.length),mn=0;ze.charAt(mn)===Te;mn++);if(mn===(Gn=ze.length))We=[0],Wt=1;else{for(Gn--;ze.charAt(Gn)===Te;)Gn--;for(Wt-=mn,We=[],Rn=0;mn<=Gn;mn++,Rn++)We[Rn]=Number(ze.charAt(mn))}return Wt>ne&&(We=We.splice(0,ne-1),De=Wt-1,Wt=1),{digits:We,exponent:De,integerLen:Wt}}(q);Rn&&(Zi=function Xn(q){if(0===q.digits[0])return q;const ze=q.digits.length-q.integerLen;return q.exponent?q.exponent+=2:(0===ze?q.digits.push(0,0):1===ze&&q.digits.push(0),q.integerLen+=2),q}(Zi));let $s=ze.minInt,Vn=ze.minFrac,Ci=ze.maxFrac;if(mn){const ra=mn.match(Ee);if(null===ra)throw new Error(`${mn} is not a valid digit info`);const jr=ra[1],ya=ra[3],Ea=ra[5];null!=jr&&($s=Ui(jr)),null!=ya&&(Vn=Ui(ya)),null!=Ea?Ci=Ui(Ea):null!=ya&&Vn>Ci&&(Ci=Vn)}!function fi(q,ze,De){if(ze>De)throw new Error(`The minimum number of digits after fraction (${ze}) is higher than the maximum (${De}).`);let We=q.digits,Wt=We.length-q.integerLen;const mn=Math.min(Math.max(ze,Wt),De);let Rn=mn+q.integerLen,Gn=We[Rn];if(Rn>0){We.splice(Math.max(q.integerLen,Rn));for(let Vn=Rn;Vn<We.length;Vn++)We[Vn]=0}else{Wt=Math.max(0,Wt),q.integerLen=1,We.length=Math.max(1,Rn=mn+1),We[0]=0;for(let Vn=1;Vn<Rn;Vn++)We[Vn]=0}if(Gn>=5)if(Rn-1<0){for(let Vn=0;Vn>Rn;Vn--)We.unshift(0),q.integerLen++;We.unshift(1),q.integerLen++}else We[Rn-1]++;for(;Wt<Math.max(0,mn);Wt++)We.push(0);let Ps=0!==mn;const Zi=ze+q.integerLen,$s=We.reduceRight(function(Vn,Ci,Os,cr){return cr[Os]=(Ci+=Vn)<10?Ci:Ci-10,Ps&&(0===cr[Os]&&Os>=Zi?cr.pop():Ps=!1),Ci>=10?1:0},0);$s&&(We.unshift($s),q.integerLen++)}(Zi,Vn,Ci);let Os=Zi.digits,cr=Zi.integerLen;const Bo=Zi.exponent;let pr=[];for(Ps=Os.every(ra=>!ra);cr<$s;cr++)Os.unshift(0);for(;cr<0;cr++)Os.unshift(0);cr>0?pr=Os.splice(cr,Os.length):(pr=Os,Os=[0]);const hl=[];for(Os.length>=ze.lgSize&&hl.unshift(Os.splice(-ze.lgSize,Os.length).join(""));Os.length>ze.gSize;)hl.unshift(Os.splice(-ze.gSize,Os.length).join(""));Os.length&&hl.unshift(Os.join("")),Gn=hl.join(lt(De,We)),pr.length&&(Gn+=lt(De,Wt)+pr.join("")),Bo&&(Gn+=lt(De,L.Exponential)+"+"+Bo)}else Gn=lt(De,L.Infinity);return Gn=q<0&&!Ps?ze.negPre+Gn+ze.negSuf:ze.posPre+Gn+ze.posSuf,Gn}function Un(q,ze="-"){const De={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},We=q.split(Ge),Wt=We[0],mn=We[1],Rn=-1!==Wt.indexOf(Ie)?Wt.split(Ie):[Wt.substring(0,Wt.lastIndexOf(Te)+1),Wt.substring(Wt.lastIndexOf(Te)+1)],Gn=Rn[0],Ps=Rn[1]||"";De.posPre=Gn.substring(0,Gn.indexOf(Fe));for(let $s=0;$s<Ps.length;$s++){const Vn=Ps.charAt($s);Vn===Te?De.minFrac=De.maxFrac=$s+1:Vn===Fe?De.maxFrac=$s+1:De.posSuf+=Vn}const Zi=Gn.split(Ue);if(De.gSize=Zi[1]?Zi[1].length:0,De.lgSize=Zi[2]||Zi[1]?(Zi[2]||Zi[1]).length:0,mn){const $s=Wt.length-De.posPre.length-De.posSuf.length,Vn=mn.indexOf(Fe);De.negPre=mn.substring(0,Vn).replace(/'/g,""),De.negSuf=mn.slice(Vn+$s).replace(/'/g,"")}else De.negPre=ze+De.posPre,De.negSuf=De.posSuf;return De}function Ui(q){const ze=parseInt(q);if(isNaN(ze))throw new Error("Invalid integer literal when parsing "+q);return ze}function dt(q,ze){ze=encodeURIComponent(ze);for(const De of q.split(";")){const We=De.indexOf("="),[Wt,mn]=-1==We?[De,""]:[De.slice(0,We),De.slice(We+1)];if(Wt.trim()===ze)return decodeURIComponent(mn)}return null}const Pt=/\s+/,jt=[];let Pn=(()=>{class q{constructor(De,We){this._ngEl=De,this._renderer=We,this.initialClasses=jt,this.stateMap=new Map}set klass(De){this.initialClasses=null!=De?De.trim().split(Pt):jt}set ngClass(De){this.rawClass="string"==typeof De?De.trim().split(Pt):De}ngDoCheck(){for(const We of this.initialClasses)this._updateState(We,!0);const De=this.rawClass;if(Array.isArray(De)||De instanceof Set)for(const We of De)this._updateState(We,!0);else if(null!=De)for(const We of Object.keys(De))this._updateState(We,!!De[We]);this._applyStateDiff()}_updateState(De,We){const Wt=this.stateMap.get(De);void 0!==Wt?(Wt.enabled!==We&&(Wt.changed=!0,Wt.enabled=We),Wt.touched=!0):this.stateMap.set(De,{enabled:We,changed:!0,touched:!0})}_applyStateDiff(){for(const De of this.stateMap){const We=De[0],Wt=De[1];Wt.changed?(this._toggleClass(We,Wt.enabled),Wt.changed=!1):Wt.touched||(Wt.enabled&&this._toggleClass(We,!1),this.stateMap.delete(We)),Wt.touched=!1}}_toggleClass(De,We){(De=De.trim()).length>0&&De.split(Pt).forEach(Wt=>{We?this._renderer.addClass(this._ngEl.nativeElement,Wt):this._renderer.removeClass(this._ngEl.nativeElement,Wt)})}static#e=this.\u0275fac=function(We){return new(We||q)(e.rXU(e.aKT),e.rXU(e.sFG))};static#t=this.\u0275dir=e.FsC({type:q,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}return q})(),Dn=(()=>{class q{constructor(De){this._viewContainerRef=De,this.ngComponentOutlet=null,this._inputsUsed=new Map}_needToReCreateNgModuleInstance(De){return void 0!==De.ngComponentOutletNgModule||void 0!==De.ngComponentOutletNgModuleFactory}_needToReCreateComponentInstance(De){return void 0!==De.ngComponentOutlet||void 0!==De.ngComponentOutletContent||void 0!==De.ngComponentOutletInjector||this._needToReCreateNgModuleInstance(De)}ngOnChanges(De){if(this._needToReCreateComponentInstance(De)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){const We=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(De)&&(this._moduleRef?.destroy(),this._moduleRef=this.ngComponentOutletNgModule?(0,e.w6W)(this.ngComponentOutletNgModule,yt(We)):this.ngComponentOutletNgModuleFactory?this.ngComponentOutletNgModuleFactory.create(yt(We)):void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:We,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(const De of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(De,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(De){for(const[We,Wt]of this._inputsUsed)Wt?(De.setInput(We,this.ngComponentOutletInputs[We]),this._inputsUsed.set(We,!1)):(De.setInput(We,void 0),this._inputsUsed.delete(We))}static#e=this.\u0275fac=function(We){return new(We||q)(e.rXU(e.c1b))};static#t=this.\u0275dir=e.FsC({type:q,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[e.OA$]})}return q})();function yt(q){return q.get(e.Vns).injector}class zt{constructor(ze,De,We,Wt){this.$implicit=ze,this.ngForOf=De,this.index=We,this.count=Wt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Yt=(()=>{class q{set ngForOf(De){this._ngForOf=De,this._ngForOfDirty=!0}set ngForTrackBy(De){this._trackByFn=De}get ngForTrackBy(){return this._trackByFn}constructor(De,We,Wt){this._viewContainer=De,this._template=We,this._differs=Wt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(De){De&&(this._template=De)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const De=this._ngForOf;!this._differ&&De&&(this._differ=this._differs.find(De).create(this.ngForTrackBy))}if(this._differ){const De=this._differ.diff(this._ngForOf);De&&this._applyChanges(De)}}_applyChanges(De){const We=this._viewContainer;De.forEachOperation((Wt,mn,Rn)=>{if(null==Wt.previousIndex)We.createEmbeddedView(this._template,new zt(Wt.item,this._ngForOf,-1,-1),null===Rn?void 0:Rn);else if(null==Rn)We.remove(null===mn?void 0:mn);else if(null!==mn){const Gn=We.get(mn);We.move(Gn,Rn),mt(Gn,Wt)}});for(let Wt=0,mn=We.length;Wt<mn;Wt++){const Gn=We.get(Wt).context;Gn.index=Wt,Gn.count=mn,Gn.ngForOf=this._ngForOf}De.forEachIdentityChange(Wt=>{mt(We.get(Wt.currentIndex),Wt)})}static ngTemplateContextGuard(De,We){return!0}static#e=this.\u0275fac=function(We){return new(We||q)(e.rXU(e.c1b),e.rXU(e.C4Q),e.rXU(e._q3))};static#t=this.\u0275dir=e.FsC({type:q,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return q})();function mt(q,ze){q.context.$implicit=ze.item}let se=(()=>{class q{constructor(De,We){this._viewContainer=De,this._context=new Ae,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=We}set ngIf(De){this._context.$implicit=this._context.ngIf=De,this._updateView()}set ngIfThen(De){xe("ngIfThen",De),this._thenTemplateRef=De,this._thenViewRef=null,this._updateView()}set ngIfElse(De){xe("ngIfElse",De),this._elseTemplateRef=De,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(De,We){return!0}static#e=this.\u0275fac=function(We){return new(We||q)(e.rXU(e.c1b),e.rXU(e.C4Q))};static#t=this.\u0275dir=e.FsC({type:q,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return q})();class Ae{constructor(){this.$implicit=null,this.ngIf=null}}function xe(q,ze){if(ze&&!ze.createEmbeddedView)throw new Error(`${q} must be a TemplateRef, but received '${(0,e.Tbb)(ze)}'.`)}class bt{constructor(ze,De){this._viewContainerRef=ze,this._templateRef=De,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(ze){ze&&!this._created?this.create():!ze&&this._created&&this.destroy()}}let Jt=(()=>{class q{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(De){this._ngSwitch=De,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(De){this._defaultViews.push(De)}_matchCase(De){const We=De===this._ngSwitch;return this._lastCasesMatched||=We,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),We}_updateDefaultCases(De){if(this._defaultViews.length>0&&De!==this._defaultUsed){this._defaultUsed=De;for(const We of this._defaultViews)We.enforceState(De)}}static#e=this.\u0275fac=function(We){return new(We||q)};static#t=this.\u0275dir=e.FsC({type:q,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return q})(),Bn=(()=>{class q{constructor(De,We,Wt){this.ngSwitch=Wt,Wt._addCase(),this._view=new bt(De,We)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(We){return new(We||q)(e.rXU(e.c1b),e.rXU(e.C4Q),e.rXU(Jt,9))};static#t=this.\u0275dir=e.FsC({type:q,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return q})(),hi=(()=>{class q{constructor(De,We,Wt){Wt._addDefault(new bt(De,We))}static#e=this.\u0275fac=function(We){return new(We||q)(e.rXU(e.c1b),e.rXU(e.C4Q),e.rXU(Jt,9))};static#t=this.\u0275dir=e.FsC({type:q,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return q})(),Ji=(()=>{class q{constructor(De,We,Wt){this._ngEl=De,this._differs=We,this._renderer=Wt,this._ngStyle=null,this._differ=null}set ngStyle(De){this._ngStyle=De,!this._differ&&De&&(this._differ=this._differs.find(De).create())}ngDoCheck(){if(this._differ){const De=this._differ.diff(this._ngStyle);De&&this._applyChanges(De)}}_setStyle(De,We){const[Wt,mn]=De.split("."),Rn=-1===Wt.indexOf("-")?void 0:e.czy.DashCase;null!=We?this._renderer.setStyle(this._ngEl.nativeElement,Wt,mn?`${We}${mn}`:We,Rn):this._renderer.removeStyle(this._ngEl.nativeElement,Wt,Rn)}_applyChanges(De){De.forEachRemovedItem(We=>this._setStyle(We.key,null)),De.forEachAddedItem(We=>this._setStyle(We.key,We.currentValue)),De.forEachChangedItem(We=>this._setStyle(We.key,We.currentValue))}static#e=this.\u0275fac=function(We){return new(We||q)(e.rXU(e.aKT),e.rXU(e.MKu),e.rXU(e.sFG))};static#t=this.\u0275dir=e.FsC({type:q,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return q})(),Ni=(()=>{class q{constructor(De){this._viewContainerRef=De,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(De){if(this._shouldRecreateView(De)){const We=this._viewContainerRef;if(this._viewRef&&We.remove(We.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Wt=this._createContextForwardProxy();this._viewRef=We.createEmbeddedView(this.ngTemplateOutlet,Wt,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(De){return!!De.ngTemplateOutlet||!!De.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(De,We,Wt)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,We,Wt),get:(De,We,Wt)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,We,Wt)}})}static#e=this.\u0275fac=function(We){return new(We||q)(e.rXU(e.c1b))};static#t=this.\u0275dir=e.FsC({type:q,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[e.OA$]})}return q})();function Ai(q,ze){return new e.wOt(2100,!1)}class Gr{createSubscription(ze,De){return(0,e.O8t)(()=>ze.subscribe({next:De,error:We=>{throw We}}))}dispose(ze){(0,e.O8t)(()=>ze.unsubscribe())}}class Js{createSubscription(ze,De){return ze.then(De,We=>{throw We})}dispose(ze){}}const Ir=new Js,no=new Gr;let Zr=(()=>{class q{constructor(De){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=De}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(De){if(!this._obj){if(De)try{this.markForCheckOnValueUpdate=!1,this._subscribe(De)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return De!==this._obj?(this._dispose(),this.transform(De)):this._latestValue}_subscribe(De){this._obj=De,this._strategy=this._selectStrategy(De),this._subscription=this._strategy.createSubscription(De,We=>this._updateLatestValue(De,We))}_selectStrategy(De){if((0,e.jNT)(De))return Ir;if((0,e.zjR)(De))return no;throw Ai()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(De,We){De===this._obj&&(this._latestValue=We,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(We){return new(We||q)(e.rXU(e.gRc,16))};static#t=this.\u0275pipe=e.EJ8({name:"async",type:q,pure:!1,standalone:!0})}return q})(),bo=(()=>{class q{transform(De){if(null==De)return null;if("string"!=typeof De)throw Ai();return De.toLowerCase()}static#e=this.\u0275fac=function(We){return new(We||q)};static#t=this.\u0275pipe=e.EJ8({name:"lowercase",type:q,pure:!0,standalone:!0})}return q})();const Po=new e.nKC(""),Pr=new e.nKC("");let Ko=(()=>{class q{constructor(De,We,Wt){this.locale=De,this.defaultTimezone=We,this.defaultOptions=Wt}transform(De,We,Wt,mn){if(null==De||""===De||De!=De)return null;try{return _t(De,We??this.defaultOptions?.dateFormat??"mediumDate",mn||this.locale,Wt??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Rn){throw Ai()}}static#e=this.\u0275fac=function(We){return new(We||q)(e.rXU(e.xe9,16),e.rXU(Po,24),e.rXU(Pr,24))};static#t=this.\u0275pipe=e.EJ8({name:"date",type:q,pure:!0,standalone:!0})}return q})(),yo=(()=>{class q{constructor(De){this._locale=De}transform(De,We,Wt){if(!wt(De))return null;Wt||=this._locale;try{return function En(q,ze,De){return xt(q,Un(Ot(ze,$.Decimal),lt(ze,L.MinusSign)),ze,L.Group,L.Decimal,De)}(ln(De),Wt,We)}catch(mn){throw Ai()}}static#e=this.\u0275fac=function(We){return new(We||q)(e.rXU(e.xe9,16))};static#t=this.\u0275pipe=e.EJ8({name:"number",type:q,pure:!0,standalone:!0})}return q})(),Sr=(()=>{class q{constructor(De){this._locale=De}transform(De,We,Wt){if(!wt(De))return null;Wt||=this._locale;try{return function nn(q,ze,De){return xt(q,Un(Ot(ze,$.Percent),lt(ze,L.MinusSign)),ze,L.Group,L.Decimal,De,!0).replace(new RegExp("%","g"),lt(ze,L.PercentSign))}(ln(De),Wt,We)}catch(mn){throw Ai()}}static#e=this.\u0275fac=function(We){return new(We||q)(e.rXU(e.xe9,16))};static#t=this.\u0275pipe=e.EJ8({name:"percent",type:q,pure:!0,standalone:!0})}return q})(),Re=(()=>{class q{constructor(De,We="USD"){this._locale=De,this._defaultCurrencyCode=We}transform(De,We=this._defaultCurrencyCode,Wt="symbol",mn,Rn){if(!wt(De))return null;Rn||=this._locale,"boolean"==typeof Wt&&(Wt=Wt?"symbol":"code");let Gn=We||this._defaultCurrencyCode;"code"!==Wt&&(Gn="symbol"===Wt||"symbol-narrow"===Wt?function ht(q,ze,De="en"){const We=function Ce(q){return(0,e.H5H)(q)[e.KH2.Currencies]}(De)[q]||U[q]||[],Wt=We[1];return"narrow"===ze&&"string"==typeof Wt?Wt:We[0]||q}(Gn,"symbol"===Wt?"wide":"narrow",Rn):Wt);try{return function tn(q,ze,De,We,Wt){const Rn=Un(Ot(ze,$.Currency),lt(ze,L.MinusSign));return Rn.minFrac=function qe(q){let ze;const De=U[q];return De&&(ze=De[2]),"number"==typeof ze?ze:2}(We),Rn.maxFrac=Rn.minFrac,xt(q,Rn,ze,L.CurrencyGroup,L.CurrencyDecimal,Wt).replace("\xa4",De).replace("\xa4","").trim()}(ln(De),Rn,Gn,We,mn)}catch(Ps){throw Ai()}}static#e=this.\u0275fac=function(We){return new(We||q)(e.rXU(e.xe9,16),e.rXU(e.Ocv,16))};static#t=this.\u0275pipe=e.EJ8({name:"currency",type:q,pure:!0,standalone:!0})}return q})();function wt(q){return!(null==q||""===q||q!=q)}function ln(q){if("string"==typeof q&&!isNaN(Number(q)-parseFloat(q)))return Number(q);if("number"!=typeof q)throw new Error(`${q} is not a number`);return q}let xn=(()=>{class q{transform(De,We,Wt){if(null==De)return null;if(!this.supports(De))throw Ai();return De.slice(We,Wt)}supports(De){return"string"==typeof De||Array.isArray(De)}static#e=this.\u0275fac=function(We){return new(We||q)};static#t=this.\u0275pipe=e.EJ8({name:"slice",type:q,pure:!1,standalone:!0})}return q})(),pi=(()=>{class q{static#e=this.\u0275fac=function(We){return new(We||q)};static#t=this.\u0275mod=e.$C({type:q});static#n=this.\u0275inj=e.G2t({})}return q})();const Ki="browser",Li="server";function bs(q){return q===Ki}function us(q){return q===Li}let sr=(()=>{class q{static#e=this.\u0275prov=(0,e.jDH)({token:q,providedIn:"root",factory:()=>bs((0,e.WQX)(e.Agw))?new os((0,e.WQX)(g),window):new Xs})}return q})();class os{constructor(ze,De){this.document=ze,this.window=De,this.offset=()=>[0,0]}setOffset(ze){this.offset=Array.isArray(ze)?()=>ze:ze}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(ze){this.window.scrollTo(ze[0],ze[1])}scrollToAnchor(ze){const De=function qs(q,ze){const De=q.getElementById(ze)||q.getElementsByName(ze)[0];if(De)return De;if("function"==typeof q.createTreeWalker&&q.body&&"function"==typeof q.body.attachShadow){const We=q.createTreeWalker(q.body,NodeFilter.SHOW_ELEMENT);let Wt=We.currentNode;for(;Wt;){const mn=Wt.shadowRoot;if(mn){const Rn=mn.getElementById(ze)||mn.querySelector(`[name="${ze}"]`);if(Rn)return Rn}Wt=We.nextNode()}}return null}(this.document,ze);De&&(this.scrollToElement(De),De.focus())}setHistoryScrollRestoration(ze){this.window.history.scrollRestoration=ze}scrollToElement(ze){const De=ze.getBoundingClientRect(),We=De.left+this.window.pageXOffset,Wt=De.top+this.window.pageYOffset,mn=this.offset();this.window.scrollTo(We-mn[0],Wt-mn[1])}}class Xs{setOffset(ze){}getScrollPosition(){return[0,0]}scrollToPosition(ze){}scrollToAnchor(ze){}setHistoryScrollRestoration(ze){}}class Us{}},1626:(Mt,pe,a)=>{"use strict";a.d(pe,{$R:()=>Bt,Qq:()=>Ct,Sx:()=>oe,yz:()=>J});var e=a(467),i=a(3953),d=a(4421),p=a(5817),m=a(4787),_=a(3574),g=a(8728),b=a(5006),u=a(7312),S=a(9090),D=a(177);class E{}class A{}class v{constructor(zt){this.normalizedNames=new Map,this.lazyUpdate=null,zt?"string"==typeof zt?this.lazyInit=()=>{this.headers=new Map,zt.split("\n").forEach(Yt=>{const mt=Yt.indexOf(":");if(mt>0){const Qt=Yt.slice(0,mt),se=Qt.toLowerCase(),Ae=Yt.slice(mt+1).trim();this.maybeSetNormalizedName(Qt,se),this.headers.has(se)?this.headers.get(se).push(Ae):this.headers.set(se,[Ae])}})}:typeof Headers<"u"&&zt instanceof Headers?(this.headers=new Map,zt.forEach((Yt,mt)=>{this.setHeaderEntries(mt,Yt)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(zt).forEach(([Yt,mt])=>{this.setHeaderEntries(Yt,mt)})}:this.headers=new Map}has(zt){return this.init(),this.headers.has(zt.toLowerCase())}get(zt){this.init();const Yt=this.headers.get(zt.toLowerCase());return Yt&&Yt.length>0?Yt[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(zt){return this.init(),this.headers.get(zt.toLowerCase())||null}append(zt,Yt){return this.clone({name:zt,value:Yt,op:"a"})}set(zt,Yt){return this.clone({name:zt,value:Yt,op:"s"})}delete(zt,Yt){return this.clone({name:zt,value:Yt,op:"d"})}maybeSetNormalizedName(zt,Yt){this.normalizedNames.has(Yt)||this.normalizedNames.set(Yt,zt)}init(){this.lazyInit&&(this.lazyInit instanceof v?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(zt=>this.applyUpdate(zt)),this.lazyUpdate=null))}copyFrom(zt){zt.init(),Array.from(zt.headers.keys()).forEach(Yt=>{this.headers.set(Yt,zt.headers.get(Yt)),this.normalizedNames.set(Yt,zt.normalizedNames.get(Yt))})}clone(zt){const Yt=new v;return Yt.lazyInit=this.lazyInit&&this.lazyInit instanceof v?this.lazyInit:this,Yt.lazyUpdate=(this.lazyUpdate||[]).concat([zt]),Yt}applyUpdate(zt){const Yt=zt.name.toLowerCase();switch(zt.op){case"a":case"s":let mt=zt.value;if("string"==typeof mt&&(mt=[mt]),0===mt.length)return;this.maybeSetNormalizedName(zt.name,Yt);const Qt=("a"===zt.op?this.headers.get(Yt):void 0)||[];Qt.push(...mt),this.headers.set(Yt,Qt);break;case"d":const se=zt.value;if(se){let Ae=this.headers.get(Yt);if(!Ae)return;Ae=Ae.filter(xe=>-1===se.indexOf(xe)),0===Ae.length?(this.headers.delete(Yt),this.normalizedNames.delete(Yt)):this.headers.set(Yt,Ae)}else this.headers.delete(Yt),this.normalizedNames.delete(Yt)}}setHeaderEntries(zt,Yt){const mt=(Array.isArray(Yt)?Yt:[Yt]).map(se=>se.toString()),Qt=zt.toLowerCase();this.headers.set(Qt,mt),this.maybeSetNormalizedName(zt,Qt)}forEach(zt){this.init(),Array.from(this.normalizedNames.keys()).forEach(Yt=>zt(this.normalizedNames.get(Yt),this.headers.get(Yt)))}}class z{encodeKey(zt){return H(zt)}encodeValue(zt){return H(zt)}decodeKey(zt){return decodeURIComponent(zt)}decodeValue(zt){return decodeURIComponent(zt)}}const K=/%(\d[a-f0-9])/gi,F={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function H(yt){return encodeURIComponent(yt).replace(K,(zt,Yt)=>F[Yt]??zt)}function Y(yt){return`${yt}`}class P{constructor(zt={}){if(this.updates=null,this.cloneFrom=null,this.encoder=zt.encoder||new z,zt.fromString){if(zt.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function G(yt,zt){const Yt=new Map;return yt.length>0&&yt.replace(/^\?/,"").split("&").forEach(Qt=>{const se=Qt.indexOf("="),[Ae,xe]=-1==se?[zt.decodeKey(Qt),""]:[zt.decodeKey(Qt.slice(0,se)),zt.decodeValue(Qt.slice(se+1))],bt=Yt.get(Ae)||[];bt.push(xe),Yt.set(Ae,bt)}),Yt}(zt.fromString,this.encoder)}else zt.fromObject?(this.map=new Map,Object.keys(zt.fromObject).forEach(Yt=>{const mt=zt.fromObject[Yt],Qt=Array.isArray(mt)?mt.map(Y):[Y(mt)];this.map.set(Yt,Qt)})):this.map=null}has(zt){return this.init(),this.map.has(zt)}get(zt){this.init();const Yt=this.map.get(zt);return Yt?Yt[0]:null}getAll(zt){return this.init(),this.map.get(zt)||null}keys(){return this.init(),Array.from(this.map.keys())}append(zt,Yt){return this.clone({param:zt,value:Yt,op:"a"})}appendAll(zt){const Yt=[];return Object.keys(zt).forEach(mt=>{const Qt=zt[mt];Array.isArray(Qt)?Qt.forEach(se=>{Yt.push({param:mt,value:se,op:"a"})}):Yt.push({param:mt,value:Qt,op:"a"})}),this.clone(Yt)}set(zt,Yt){return this.clone({param:zt,value:Yt,op:"s"})}delete(zt,Yt){return this.clone({param:zt,value:Yt,op:"d"})}toString(){return this.init(),this.keys().map(zt=>{const Yt=this.encoder.encodeKey(zt);return this.map.get(zt).map(mt=>Yt+"="+this.encoder.encodeValue(mt)).join("&")}).filter(zt=>""!==zt).join("&")}clone(zt){const Yt=new P({encoder:this.encoder});return Yt.cloneFrom=this.cloneFrom||this,Yt.updates=(this.updates||[]).concat(zt),Yt}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(zt=>this.map.set(zt,this.cloneFrom.map.get(zt))),this.updates.forEach(zt=>{switch(zt.op){case"a":case"s":const Yt=("a"===zt.op?this.map.get(zt.param):void 0)||[];Yt.push(Y(zt.value)),this.map.set(zt.param,Yt);break;case"d":if(void 0===zt.value){this.map.delete(zt.param);break}{let mt=this.map.get(zt.param)||[];const Qt=mt.indexOf(Y(zt.value));-1!==Qt&&mt.splice(Qt,1),mt.length>0?this.map.set(zt.param,mt):this.map.delete(zt.param)}}}),this.cloneFrom=this.updates=null)}}class ${constructor(){this.map=new Map}set(zt,Yt){return this.map.set(zt,Yt),this}get(zt){return this.map.has(zt)||this.map.set(zt,zt.defaultValue()),this.map.get(zt)}delete(zt){return this.map.delete(zt),this}has(zt){return this.map.has(zt)}keys(){return this.map.keys()}}function y(yt){return typeof ArrayBuffer<"u"&&yt instanceof ArrayBuffer}function I(yt){return typeof Blob<"u"&&yt instanceof Blob}function w(yt){return typeof FormData<"u"&&yt instanceof FormData}class Q{constructor(zt,Yt,mt,Qt){let se;if(this.url=Yt,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=zt.toUpperCase(),function B(yt){switch(yt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Qt?(this.body=void 0!==mt?mt:null,se=Qt):se=mt,se&&(this.reportProgress=!!se.reportProgress,this.withCredentials=!!se.withCredentials,se.responseType&&(this.responseType=se.responseType),se.headers&&(this.headers=se.headers),se.context&&(this.context=se.context),se.params&&(this.params=se.params),this.transferCache=se.transferCache),this.headers??=new v,this.context??=new $,this.params){const Ae=this.params.toString();if(0===Ae.length)this.urlWithParams=Yt;else{const xe=Yt.indexOf("?");this.urlWithParams=Yt+(-1===xe?"?":xe<Yt.length-1?"&":"")+Ae}}else this.params=new P,this.urlWithParams=Yt}serializeBody(){return null===this.body?null:"string"==typeof this.body||y(this.body)||I(this.body)||w(this.body)||function L(yt){return typeof URLSearchParams<"u"&&yt instanceof URLSearchParams}(this.body)?this.body:this.body instanceof P?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||w(this.body)?null:I(this.body)?this.body.type||null:y(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof P?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(zt={}){const Yt=zt.method||this.method,mt=zt.url||this.url,Qt=zt.responseType||this.responseType,se=zt.transferCache??this.transferCache,Ae=void 0!==zt.body?zt.body:this.body,xe=zt.withCredentials??this.withCredentials,bt=zt.reportProgress??this.reportProgress;let Jt=zt.headers||this.headers,Bn=zt.params||this.params;const hi=zt.context??this.context;return void 0!==zt.setHeaders&&(Jt=Object.keys(zt.setHeaders).reduce((Pi,Vi)=>Pi.set(Vi,zt.setHeaders[Vi]),Jt)),zt.setParams&&(Bn=Object.keys(zt.setParams).reduce((Pi,Vi)=>Pi.set(Vi,zt.setParams[Vi]),Bn)),new Q(Yt,mt,Ae,{params:Bn,headers:Jt,context:hi,reportProgress:bt,responseType:Qt,withCredentials:xe,transferCache:se})}}var te=function(yt){return yt[yt.Sent=0]="Sent",yt[yt.UploadProgress=1]="UploadProgress",yt[yt.ResponseHeader=2]="ResponseHeader",yt[yt.DownloadProgress=3]="DownloadProgress",yt[yt.Response=4]="Response",yt[yt.User=5]="User",yt}(te||{});class R{constructor(zt,Yt=200,mt="OK"){this.headers=zt.headers||new v,this.status=void 0!==zt.status?zt.status:Yt,this.statusText=zt.statusText||mt,this.url=zt.url||null,this.ok=this.status>=200&&this.status<300}}class ee extends R{constructor(zt={}){super(zt),this.type=te.ResponseHeader}clone(zt={}){return new ee({headers:zt.headers||this.headers,status:void 0!==zt.status?zt.status:this.status,statusText:zt.statusText||this.statusText,url:zt.url||this.url||void 0})}}class k extends R{constructor(zt={}){super(zt),this.type=te.Response,this.body=void 0!==zt.body?zt.body:null}clone(zt={}){return new k({body:void 0!==zt.body?zt.body:this.body,headers:zt.headers||this.headers,status:void 0!==zt.status?zt.status:this.status,statusText:zt.statusText||this.statusText,url:zt.url||this.url||void 0})}}class J extends R{constructor(zt){super(zt,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${zt.url||"(unknown url)"}`:`Http failure response for ${zt.url||"(unknown url)"}: ${zt.status} ${zt.statusText}`,this.error=zt.error||null}}function Ze(yt,zt){return{body:zt,headers:yt.headers,context:yt.context,observe:yt.observe,params:yt.params,reportProgress:yt.reportProgress,responseType:yt.responseType,withCredentials:yt.withCredentials,transferCache:yt.transferCache}}let Ct=(()=>{class yt{constructor(Yt){this.handler=Yt}request(Yt,mt,Qt={}){let se;if(Yt instanceof Q)se=Yt;else{let bt,Jt;bt=Qt.headers instanceof v?Qt.headers:new v(Qt.headers),Qt.params&&(Jt=Qt.params instanceof P?Qt.params:new P({fromObject:Qt.params})),se=new Q(Yt,mt,void 0!==Qt.body?Qt.body:null,{headers:bt,context:Qt.context,params:Jt,reportProgress:Qt.reportProgress,responseType:Qt.responseType||"json",withCredentials:Qt.withCredentials,transferCache:Qt.transferCache})}const Ae=(0,d.of)(se).pipe((0,_.H)(bt=>this.handler.handle(bt)));if(Yt instanceof Q||"events"===Qt.observe)return Ae;const xe=Ae.pipe((0,g.p)(bt=>bt instanceof k));switch(Qt.observe||"body"){case"body":switch(se.responseType){case"arraybuffer":return xe.pipe((0,b.T)(bt=>{if(null!==bt.body&&!(bt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return bt.body}));case"blob":return xe.pipe((0,b.T)(bt=>{if(null!==bt.body&&!(bt.body instanceof Blob))throw new Error("Response is not a Blob.");return bt.body}));case"text":return xe.pipe((0,b.T)(bt=>{if(null!==bt.body&&"string"!=typeof bt.body)throw new Error("Response is not a string.");return bt.body}));default:return xe.pipe((0,b.T)(bt=>bt.body))}case"response":return xe;default:throw new Error(`Unreachable: unhandled observe type ${Qt.observe}}`)}}delete(Yt,mt={}){return this.request("DELETE",Yt,mt)}get(Yt,mt={}){return this.request("GET",Yt,mt)}head(Yt,mt={}){return this.request("HEAD",Yt,mt)}jsonp(Yt,mt){return this.request("JSONP",Yt,{params:(new P).append(mt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Yt,mt={}){return this.request("OPTIONS",Yt,mt)}patch(Yt,mt,Qt={}){return this.request("PATCH",Yt,Ze(Qt,mt))}post(Yt,mt,Qt={}){return this.request("POST",Yt,Ze(Qt,mt))}put(Yt,mt,Qt={}){return this.request("PUT",Yt,Ze(Qt,mt))}static#e=this.\u0275fac=function(mt){return new(mt||yt)(i.KVO(E))};static#t=this.\u0275prov=i.jDH({token:yt,factory:yt.\u0275fac})}return yt})();const lt=/^\)\]\}',?\n/;function rt(yt){if(yt.url)return yt.url;const zt="X-Request-URL".toLocaleLowerCase();return yt.headers.get(zt)}let vt=(()=>{class yt{constructor(){this.fetchImpl=(0,i.WQX)(ve,{optional:!0})?.fetch??((...Yt)=>globalThis.fetch(...Yt)),this.ngZone=(0,i.WQX)(i.SKi)}handle(Yt){return new p.c(mt=>{const Qt=new AbortController;return this.doRequest(Yt,Qt.signal,mt).then(Ce,se=>mt.error(new J({error:se}))),()=>Qt.abort()})}doRequest(Yt,mt,Qt){var se=this;return(0,e.A)(function*(){const Ae=se.createRequestInit(Yt);let xe;try{const zi=se.ngZone.runOutsideAngular(()=>se.fetchImpl(Yt.urlWithParams,{signal:mt,...Ae}));(function be(yt){yt.then(Ce,Ce)})(zi),Qt.next({type:te.Sent}),xe=yield zi}catch(zi){return void Qt.error(new J({error:zi,status:zi.status??0,statusText:zi.statusText,url:Yt.urlWithParams,headers:zi.headers}))}const bt=new v(xe.headers),Jt=xe.statusText,Bn=rt(xe)??Yt.urlWithParams;let hi=xe.status,Pi=null;if(Yt.reportProgress&&Qt.next(new ee({headers:bt,status:hi,statusText:Jt,url:Bn})),xe.body){const zi=xe.headers.get("content-length"),wi=[],Ji=xe.body.getReader();let Hs,Ai,Ni=0;const Gr=typeof Zone<"u"&&Zone.current;yield se.ngZone.runOutsideAngular((0,e.A)(function*(){for(;;){const{done:Ir,value:no}=yield Ji.read();if(Ir)break;if(wi.push(no),Ni+=no.length,Yt.reportProgress){Ai="text"===Yt.responseType?(Ai??"")+(Hs??=new TextDecoder).decode(no,{stream:!0}):void 0;const Zr=()=>Qt.next({type:te.DownloadProgress,total:zi?+zi:void 0,loaded:Ni,partialText:Ai});Gr?Gr.run(Zr):Zr()}}}));const Js=se.concatChunks(wi,Ni);try{const Ir=xe.headers.get("Content-Type")??"";Pi=se.parseBody(Yt,Js,Ir)}catch(Ir){return void Qt.error(new J({error:Ir,headers:new v(xe.headers),status:xe.status,statusText:xe.statusText,url:rt(xe)??Yt.urlWithParams}))}}0===hi&&(hi=Pi?200:0),hi>=200&&hi<300?(Qt.next(new k({body:Pi,headers:bt,status:hi,statusText:Jt,url:Bn})),Qt.complete()):Qt.error(new J({error:Pi,headers:bt,status:hi,statusText:Jt,url:Bn}))})()}parseBody(Yt,mt,Qt){switch(Yt.responseType){case"json":const se=(new TextDecoder).decode(mt).replace(lt,"");return""===se?null:JSON.parse(se);case"text":return(new TextDecoder).decode(mt);case"blob":return new Blob([mt],{type:Qt});case"arraybuffer":return mt.buffer}}createRequestInit(Yt){const mt={},Qt=Yt.withCredentials?"include":void 0;if(Yt.headers.forEach((se,Ae)=>mt[se]=Ae.join(",")),Yt.headers.has("Accept")||(mt.Accept="application/json, text/plain, */*"),!Yt.headers.has("Content-Type")){const se=Yt.detectContentTypeHeader();null!==se&&(mt["Content-Type"]=se)}return{body:Yt.serializeBody(),method:Yt.method,headers:mt,credentials:Qt}}concatChunks(Yt,mt){const Qt=new Uint8Array(mt);let se=0;for(const Ae of Yt)Qt.set(Ae,se),se+=Ae.length;return Qt}static#e=this.\u0275fac=function(mt){return new(mt||yt)};static#t=this.\u0275prov=i.jDH({token:yt,factory:yt.\u0275fac})}return yt})();class ve{}function Ce(){}function ue(yt,zt){return zt(yt)}function me(yt,zt){return(Yt,mt)=>zt.intercept(Yt,{handle:Qt=>yt(Qt,mt)})}const Et=new i.nKC(""),Ve=new i.nKC(""),st=new i.nKC(""),ht=new i.nKC("",{providedIn:"root",factory:()=>!0});function Vt(){let yt=null;return(zt,Yt)=>{null===yt&&(yt=((0,i.WQX)(Et,{optional:!0})??[]).reduceRight(me,ue));const mt=(0,i.WQX)(i.TgB);if((0,i.WQX)(ht)){const se=mt.add();return yt(zt,Yt).pipe((0,u.j)(()=>mt.remove(se)))}return yt(zt,Yt)}}let ot=(()=>{class yt extends E{constructor(Yt,mt){super(),this.backend=Yt,this.injector=mt,this.chain=null,this.pendingTasks=(0,i.WQX)(i.TgB),this.contributeToStability=(0,i.WQX)(ht)}handle(Yt){if(null===this.chain){const mt=Array.from(new Set([...this.injector.get(Ve),...this.injector.get(st,[])]));this.chain=mt.reduceRight((Qt,se)=>function $e(yt,zt,Yt){return(mt,Qt)=>(0,i.N4e)(Yt,()=>zt(mt,se=>yt(se,Qt)))}(Qt,se,this.injector),ue)}if(this.contributeToStability){const mt=this.pendingTasks.add();return this.chain(Yt,Qt=>this.backend.handle(Qt)).pipe((0,u.j)(()=>this.pendingTasks.remove(mt)))}return this.chain(Yt,mt=>this.backend.handle(mt))}static#e=this.\u0275fac=function(mt){return new(mt||yt)(i.KVO(A),i.KVO(i.uvJ))};static#t=this.\u0275prov=i.jDH({token:yt,factory:yt.\u0275fac})}return yt})();const pt=/^\)\]\}',?\n/;let kt=(()=>{class yt{constructor(Yt){this.xhrFactory=Yt}handle(Yt){if("JSONP"===Yt.method)throw new i.wOt(-2800,!1);const mt=this.xhrFactory;return(mt.\u0275loadImpl?(0,m.H)(mt.\u0275loadImpl()):(0,d.of)(null)).pipe((0,S.n)(()=>new p.c(se=>{const Ae=mt.build();if(Ae.open(Yt.method,Yt.urlWithParams),Yt.withCredentials&&(Ae.withCredentials=!0),Yt.headers.forEach((wi,Ji)=>Ae.setRequestHeader(wi,Ji.join(","))),Yt.headers.has("Accept")||Ae.setRequestHeader("Accept","application/json, text/plain, */*"),!Yt.headers.has("Content-Type")){const wi=Yt.detectContentTypeHeader();null!==wi&&Ae.setRequestHeader("Content-Type",wi)}if(Yt.responseType){const wi=Yt.responseType.toLowerCase();Ae.responseType="json"!==wi?wi:"text"}const xe=Yt.serializeBody();let bt=null;const Jt=()=>{if(null!==bt)return bt;const wi=Ae.statusText||"OK",Ji=new v(Ae.getAllResponseHeaders()),Ni=function $t(yt){return"responseURL"in yt&&yt.responseURL?yt.responseURL:/^X-Request-URL:/m.test(yt.getAllResponseHeaders())?yt.getResponseHeader("X-Request-URL"):null}(Ae)||Yt.url;return bt=new ee({headers:Ji,status:Ae.status,statusText:wi,url:Ni}),bt},Bn=()=>{let{headers:wi,status:Ji,statusText:Ni,url:Hs}=Jt(),Ai=null;204!==Ji&&(Ai=typeof Ae.response>"u"?Ae.responseText:Ae.response),0===Ji&&(Ji=Ai?200:0);let Gr=Ji>=200&&Ji<300;if("json"===Yt.responseType&&"string"==typeof Ai){const Js=Ai;Ai=Ai.replace(pt,"");try{Ai=""!==Ai?JSON.parse(Ai):null}catch(Ir){Ai=Js,Gr&&(Gr=!1,Ai={error:Ir,text:Ai})}}Gr?(se.next(new k({body:Ai,headers:wi,status:Ji,statusText:Ni,url:Hs||void 0})),se.complete()):se.error(new J({error:Ai,headers:wi,status:Ji,statusText:Ni,url:Hs||void 0}))},hi=wi=>{const{url:Ji}=Jt(),Ni=new J({error:wi,status:Ae.status||0,statusText:Ae.statusText||"Unknown Error",url:Ji||void 0});se.error(Ni)};let Pi=!1;const Vi=wi=>{Pi||(se.next(Jt()),Pi=!0);let Ji={type:te.DownloadProgress,loaded:wi.loaded};wi.lengthComputable&&(Ji.total=wi.total),"text"===Yt.responseType&&Ae.responseText&&(Ji.partialText=Ae.responseText),se.next(Ji)},zi=wi=>{let Ji={type:te.UploadProgress,loaded:wi.loaded};wi.lengthComputable&&(Ji.total=wi.total),se.next(Ji)};return Ae.addEventListener("load",Bn),Ae.addEventListener("error",hi),Ae.addEventListener("timeout",hi),Ae.addEventListener("abort",hi),Yt.reportProgress&&(Ae.addEventListener("progress",Vi),null!==xe&&Ae.upload&&Ae.upload.addEventListener("progress",zi)),Ae.send(xe),se.next({type:te.Sent}),()=>{Ae.removeEventListener("error",hi),Ae.removeEventListener("abort",hi),Ae.removeEventListener("load",Bn),Ae.removeEventListener("timeout",hi),Yt.reportProgress&&(Ae.removeEventListener("progress",Vi),null!==xe&&Ae.upload&&Ae.upload.removeEventListener("progress",zi)),Ae.readyState!==Ae.DONE&&Ae.abort()}})))}static#e=this.\u0275fac=function(mt){return new(mt||yt)(i.KVO(D.N0))};static#t=this.\u0275prov=i.jDH({token:yt,factory:yt.\u0275fac})}return yt})();const dn=new i.nKC(""),un=new i.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),hn=new i.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Sn{}let Lt=(()=>{class yt{constructor(Yt,mt,Qt){this.doc=Yt,this.platform=mt,this.cookieName=Qt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Yt=this.doc.cookie||"";return Yt!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,D._b)(Yt,this.cookieName),this.lastCookieString=Yt),this.lastToken}static#e=this.\u0275fac=function(mt){return new(mt||yt)(i.KVO(D.qQ),i.KVO(i.Agw),i.KVO(un))};static#t=this.\u0275prov=i.jDH({token:yt,factory:yt.\u0275fac})}return yt})();function at(yt,zt){const Yt=yt.url.toLowerCase();if(!(0,i.WQX)(dn)||"GET"===yt.method||"HEAD"===yt.method||Yt.startsWith("http://")||Yt.startsWith("https://"))return zt(yt);const mt=(0,i.WQX)(Sn).getToken(),Qt=(0,i.WQX)(hn);return null!=mt&&!yt.headers.has(Qt)&&(yt=yt.clone({headers:yt.headers.set(Qt,mt)})),zt(yt)}var Xe=function(yt){return yt[yt.Interceptors=0]="Interceptors",yt[yt.LegacyInterceptors=1]="LegacyInterceptors",yt[yt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",yt[yt.NoXsrfProtection=3]="NoXsrfProtection",yt[yt.JsonpSupport=4]="JsonpSupport",yt[yt.RequestsMadeViaParent=5]="RequestsMadeViaParent",yt[yt.Fetch=6]="Fetch",yt}(Xe||{});function Bt(...yt){const zt=[Ct,kt,ot,{provide:E,useExisting:ot},{provide:A,useFactory:()=>(0,i.WQX)(vt,{optional:!0})??(0,i.WQX)(kt)},{provide:Ve,useValue:at,multi:!0},{provide:dn,useValue:!0},{provide:Sn,useClass:Lt}];for(const Yt of yt)zt.push(...Yt.\u0275providers);return(0,i.EmA)(zt)}const Be=new i.nKC("");function oe(){return function Qe(yt,zt){return{\u0275kind:yt,\u0275providers:zt}}(Xe.LegacyInterceptors,[{provide:Be,useFactory:Vt},{provide:Ve,useExisting:Be,multi:!0}])}},3953:(Mt,pe,a)=>{"use strict";function e(t,n){return Object.is(t,n)}a.d(pe,{bc$:()=>g0,iLQ:()=>fC,sZ2:()=>lh,hnV:()=>hw,Hbi:()=>XR,o8S:()=>Ru,BIS:()=>v0,gRc:()=>ww,Ql9:()=>gR,OM3:()=>Om,Ocv:()=>TR,Z63:()=>Io,aKT:()=>fu,uvJ:()=>Ar,zcH:()=>pc,bkB:()=>yl,y_5:()=>ra,$GK:()=>fs,nKC:()=>qt,zZn:()=>Ro,_q3:()=>PD,MKu:()=>FD,xe9:()=>SD,Co$:()=>VE,Vns:()=>wh,SKi:()=>Tr,Xx1:()=>jr,Agw:()=>Tf,PLl:()=>Md,rOR:()=>vf,sFG:()=>jM,_9s:()=>Pg,czy:()=>og,WPN:()=>vh,kdw:()=>Ea,C4Q:()=>vm,NYb:()=>dR,giA:()=>dw,xvI:()=>BA,RxE:()=>nw,c1b:()=>Ih,gXe:()=>nc,mal:()=>V,Tzd:()=>T,L39:()=>Dk,EWP:()=>wk,sbv:()=>zg,a0P:()=>Pk,Ol2:()=>V1,w6W:()=>TT,oH4:()=>Tw,QZP:()=>cx,SmG:()=>kR,Rfq:()=>Mo,WQX:()=>Vn,Hps:()=>O1,QuC:()=>jo,EmA:()=>ku,Udg:()=>Ik,fpN:()=>HR,HJs:()=>Fk,N4e:()=>Cv,vPA:()=>TE,O8t:()=>xk,H3F:()=>iw,zAP:()=>qw,H8p:()=>$h,KH2:()=>pv,TgB:()=>Ma,wOt:()=>Yn,WHO:()=>lw,e01:()=>cw,lNU:()=>rr,h9k:()=>Hb,$MX:()=>q_,ZF7:()=>di,Kcf:()=>qi,e5t:()=>qr,UyX:()=>Ks,cWb:()=>Es,osQ:()=>ss,H5H:()=>JT,Zy3:()=>br,mq5:()=>aI,JZv:()=>Fs,LfX:()=>dl,plB:()=>Hc,jNT:()=>MD,zjR:()=>uw,TL$:()=>Mf,Tbb:()=>Ts,rcV:()=>ei,nM4:()=>BE,Vt3:()=>Um,GFd:()=>$E,OA$:()=>hp,Jv_:()=>_S,aNF:()=>gS,R7$:()=>my,BMQ:()=>FT,HbH:()=>V2,ZvI:()=>Y2,AVh:()=>VT,vxM:()=>q2,wni:()=>GI,C6U:()=>HI,VBU:()=>St,FsC:()=>$i,jDH:()=>Ds,G2t:()=>wr,$C:()=>Mn,EJ8:()=>ns,rXU:()=>Ff,nrm:()=>HT,eu8:()=>XT,bVm:()=>nC,qex:()=>tC,k0s:()=>eC,j41:()=>qE,RV6:()=>oI,xGo:()=>Uc,Mr5:()=>YT,pXf:()=>TI,nnv:()=>DI,YFu:()=>tD,uP7:()=>nD,k04:()=>II,PLo:()=>eD,KVO:()=>Zi,kS0:()=>gd,QTQ:()=>gy,bIt:()=>iD,lsd:()=>KI,joV:()=>Gv,qSk:()=>qh,XpG:()=>AI,nI1:()=>LS,bMT:()=>NS,i5U:()=>BS,brH:()=>US,SdG:()=>kI,NAR:()=>RI,Y8G:()=>UT,Mz_:()=>aC,lJ4:()=>ES,eq3:()=>CS,l_i:()=>MS,sMw:()=>TS,ziG:()=>DS,s1E:()=>IS,l4e:()=>SS,sGs:()=>wS,lV:()=>xS,zJS:()=>OS,NyB:()=>XI,mGM:()=>zI,sdS:()=>YI,Dyx:()=>iI,Z7z:()=>nI,fX1:()=>tI,Vm6:()=>eI,Njj:()=>p_,tSv:()=>F0,eBV:()=>f_,npT:()=>x0,f$h:()=>om,B4B:()=>O0,n$t:()=>Qb,wjB:()=>vS,Aen:()=>Nd,xc7:()=>$T,Kam:()=>sD,zvX:()=>QT,DNE:()=>Kf,C5r:()=>jS,EFF:()=>rS,JRh:()=>aD,SpI:()=>lC,Lme:()=>lD,E5c:()=>cD,LHq:()=>dD,DH7:()=>hS,mxI:()=>hD,R50:()=>uD,GBs:()=>WI});let i=null,d=!1,p=1;const m=Symbol("SIGNAL");function _(t){const n=i;return i=t,n}const S={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function D(t){if(d)throw new Error("");if(null===i)return;i.consumerOnSignalRead(t);const n=i.nextProducerIndex++;$(i),n<i.producerNode.length&&i.producerNode[n]!==t&&U(i)&&P(i.producerNode[n],i.producerIndexOfThis[n]),i.producerNode[n]!==t&&(i.producerNode[n]=t,i.producerIndexOfThis[n]=U(i)?Y(t,i,n):0),i.producerLastReadVersion[n]=t.version}function A(t){if((!U(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==p)){if(!t.producerMustRecompute(t)&&!F(t))return t.dirty=!1,void(t.lastCleanEpoch=p);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=p}}function v(t){if(void 0===t.liveConsumerNode)return;const n=d;d=!0;try{for(const s of t.liveConsumerNode)s.dirty||z(s)}finally{d=n}}function O(){return!1!==i?.consumerAllowSignalWrites}function z(t){t.dirty=!0,v(t),t.consumerMarkedDirty?.(t)}function G(t){return t&&(t.nextProducerIndex=0),_(t)}function K(t,n){if(_(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(U(t))for(let s=t.nextProducerIndex;s<t.producerNode.length;s++)P(t.producerNode[s],t.producerIndexOfThis[s]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function F(t){$(t);for(let n=0;n<t.producerNode.length;n++){const s=t.producerNode[n],c=t.producerLastReadVersion[n];if(c!==s.version||(A(s),c!==s.version))return!0}return!1}function H(t){if($(t),U(t))for(let n=0;n<t.producerNode.length;n++)P(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Y(t,n,s){if(B(t),0===t.liveConsumerNode.length&&y(t))for(let c=0;c<t.producerNode.length;c++)t.producerIndexOfThis[c]=Y(t.producerNode[c],t,c);return t.liveConsumerIndexOfThis.push(s),t.liveConsumerNode.push(n)-1}function P(t,n){if(B(t),1===t.liveConsumerNode.length&&y(t))for(let c=0;c<t.producerNode.length;c++)P(t.producerNode[c],t.producerIndexOfThis[c]);const s=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[s],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[s],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const c=t.liveConsumerIndexOfThis[n],f=t.liveConsumerNode[n];$(f),f.producerIndexOfThis[c]=n}}function U(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function $(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function B(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function y(t){return void 0!==t.producerNode}function I(t){const n=Object.create(te);n.computation=t;const s=()=>{if(A(n),D(n),n.value===Q)throw n.error;return n.value};return s[m]=n,s}const w=Symbol("UNSET"),L=Symbol("COMPUTING"),Q=Symbol("ERRORED"),te={...S,value:w,dirty:!0,error:null,equal:e,producerMustRecompute:t=>t.value===w||t.value===L,producerRecomputeValue(t){if(t.value===L)throw new Error("Detected cycle in computations.");const n=t.value;t.value=L;const s=G(t);let c;try{c=t.computation()}catch(f){c=Q,t.error=f}finally{K(t,s)}n!==w&&n!==Q&&c!==Q&&t.equal(n,c)?t.value=n:(t.value=c,t.version++)}};let ee=function R(){throw new Error};function k(){ee()}let X=null;function Ct(t,n){O()||k(),t.equal(t.value,n)||(t.value=n,function vt(t){t.version++,function E(){p++}(),v(t),X?.()}(t))}const rt={...S,equal:e,value:void 0};const Ce=()=>{},be={...S,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{null!==t.schedule&&t.schedule(t.ref)},hasRun:!1,cleanupFn:Ce};var me=a(9928),$e=a(5286),Et=a(4337),Ve=a(5006);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const rr="https://g.co/ng/security#xss";class Yn extends Error{constructor(n,s){super(br(n,s)),this.code=n}}function br(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}function Ur(t){return{toString:t}.toString()}const Fr="__parameters__";function Co(t,n,s){return Ur(()=>{const c=function Yo(t){return function(...s){if(t){const c=t(...s);for(const f in c)this[f]=c[f]}}}(n);function f(...C){if(this instanceof f)return c.apply(this,C),this;const N=new f(...C);return ie.annotation=N,ie;function ie(he,Ne,it){const Nt=he.hasOwnProperty(Fr)?he[Fr]:Object.defineProperty(he,Fr,{value:[]})[Fr];for(;Nt.length<=it;)Nt.push(null);return(Nt[it]=Nt[it]||[]).push(N),he}}return s&&(f.prototype=Object.create(s.prototype)),f.prototype.ngMetadataName=t,f.annotationCls=f,f})}const Fs=globalThis;function xi(t){for(let n in t)if(t[n]===xi)return n;throw Error("Could not find renamed property on target object.")}function No(t,n){for(const s in n)n.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=n[s])}function Ts(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ts).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const s=n.indexOf("\n");return-1===s?n:n.substring(0,s)}function Qo(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Ga=xi({__forward_ref__:xi});function Mo(t){return t.__forward_ref__=Mo,t.toString=function(){return Ts(this())},t}function Di(t){return Ia(t)?t():t}function Ia(t){return"function"==typeof t&&t.hasOwnProperty(Ga)&&t.__forward_ref__===Mo}function oo(t,n,s){t!=n&&function mi(t,n,s,c){throw new Error(`ASSERTION ERROR: ${t}`+(null==c?"":` [Expected=> ${s} ${c} ${n} <=Actual]`))}(s,t,n,"==")}function Ds(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function wr(t){return{providers:t.providers||[],imports:t.imports||[]}}function wl(t){return Ha(t,Ut)||Ha(t,Ht)}function dl(t){return null!==wl(t)}function Ha(t,n){return t.hasOwnProperty(n)?t[n]:null}function ut(t){return t&&(t.hasOwnProperty(en)||t.hasOwnProperty(bn))?t[en]:null}const Ut=xi({\u0275prov:xi}),en=xi({\u0275inj:xi}),Ht=xi({ngInjectableDef:xi}),bn=xi({ngInjectorDef:xi});class qt{constructor(n,s){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Ds({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function xr(t){return t&&!!t.\u0275providers}const ls=xi({\u0275cmp:xi}),Ql=xi({\u0275dir:xi}),Xa=xi({\u0275pipe:xi}),Jc=xi({\u0275mod:xi}),ia=xi({\u0275fac:xi}),ba=xi({__NG_ELEMENT_ID__:xi}),Ya=xi({__NG_ENV_ID__:xi});function ji(t){return"string"==typeof t?t:null==t?"":String(t)}function Zl(t,n){throw new Yn(-201,!1)}var fs=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(fs||{});let To;function ql(){return To}function ao(t){const n=To;return To=t,n}function ul(t,n,s){const c=wl(t);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:s&fs.Optional?null:void 0!==n?n:void Zl()}const et={},je="__NG_DI_FLAG__",q="ngTempTokenPath",De=/\n/gm,Wt="__source";let mn;function Gn(t){const n=mn;return mn=t,n}function Ps(t,n=fs.Default){if(void 0===mn)throw new Yn(-203,!1);return null===mn?ul(t,void 0,n):mn.get(t,n&fs.Optional?null:void 0,n)}function Zi(t,n=fs.Default){return(ql()||Ps)(Di(t),n)}function Vn(t,n=fs.Default){return Zi(t,Ci(n))}function Ci(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Os(t){const n=[];for(let s=0;s<t.length;s++){const c=Di(t[s]);if(Array.isArray(c)){if(0===c.length)throw new Yn(900,!1);let f,C=fs.Default;for(let N=0;N<c.length;N++){const ie=c[N],he=Bo(ie);"number"==typeof he?-1===he?f=ie.token:C|=he:f=ie}n.push(Zi(f,C))}else n.push(Zi(c))}return n}function cr(t,n){return t[je]=n,t.prototype[je]=n,t}function Bo(t){return t[je]}const ra=cr(Co("Inject",t=>({token:t})),-1),jr=cr(Co("Optional"),8),Ea=cr(Co("SkipSelf"),4);function lo(t,n){return t.hasOwnProperty(ia)?t[ia]:null}function Or(t,n){t.forEach(s=>Array.isArray(s)?Or(s,n):n(s))}function wa(t,n,s){n>=t.length?t.push(s):t.splice(n,0,s)}function Fh(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function co(t,n,s){let c=Uo(t,n);return c>=0?t[1|c]=s:(c=~c,function Xr(t,n,s,c){let f=t.length;if(f==n)t.push(s,c);else if(1===f)t.push(c,t[0]),t[0]=s;else{for(f--,t.push(t[f-1],t[f]);f>n;)t[f]=t[f-2],f--;t[n]=s,t[n+1]=c}}(t,c,n,s)),c}function xa(t,n){const s=Uo(t,n);if(s>=0)return t[1|s]}function Uo(t,n){return function jd(t,n,s){let c=0,f=t.length>>s;for(;f!==c;){const C=c+(f-c>>1),N=t[C<<s];if(n===N)return C<<s;N>n?f=C:c=C+1}return~(f<<s)}(t,n,1)}const Oa={},As=[],Io=new qt(""),uo=new qt("",-1),$d=new qt("");class ec{get(n,s=et){if(s===et){const c=new Error(`NullInjectorError: No provider for ${Ts(n)}!`);throw c.name="NullInjectorError",c}return s}}var tc=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(tc||{}),nc=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(nc||{}),Wn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Wn||{});function ed(t,n,s){let c=t.length;for(;;){const f=t.indexOf(n,s);if(-1===f)return f;if(0===f||t.charCodeAt(f-1)<=32){const C=n.length;if(f+C===c||t.charCodeAt(f+C)<=32)return f}s=f+1}}function xl(t,n,s){let c=0;for(;c<s.length;){const f=s[c];if("number"==typeof f){if(0!==f)break;c++;const C=s[c++],N=s[c++],ie=s[c++];t.setAttribute(n,N,ie,C)}else{const C=f,N=s[++c];Vd(C)?t.setProperty(n,C,N):t.setAttribute(n,C,N),c++}}return c}function Nh(t){return 3===t||4===t||6===t}function Vd(t){return 64===t.charCodeAt(0)}function ho(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let s=-1;for(let c=0;c<n.length;c++){const f=n[c];"number"==typeof f?s=f:0===s||Jo(t,s,f,null,-1===s||2===s?n[++c]:null)}}return t}function Jo(t,n,s,c,f){let C=0,N=t.length;if(-1===n)N=-1;else for(;C<t.length;){const ie=t[C++];if("number"==typeof ie){if(ie===n){N=-1;break}if(ie>n){N=C-1;break}}}for(;C<t.length;){const ie=t[C];if("number"==typeof ie)break;if(ie===s){if(null===c)return void(null!==f&&(t[C+1]=f));if(c===t[C+1])return void(t[C+2]=f)}C++,null!==c&&C++,null!==f&&C++}-1!==N&&(t.splice(N,0,n),C=N+1),t.splice(C++,0,s),null!==c&&t.splice(C++,0,c),null!==f&&t.splice(C++,0,f)}const fo="ng-template";function Gd(t,n,s,c){let f=0;if(c){for(;f<n.length&&"string"==typeof n[f];f+=2)if("class"===n[f]&&-1!==ed(n[f+1].toLowerCase(),s,0))return!0}else if(Wd(t))return!1;if(f=n.indexOf(1,f),f>-1){let C;for(;++f<n.length&&"string"==typeof(C=n[f]);)if(C.toLowerCase()===s)return!0}return!1}function Wd(t){return 4===t.type&&t.value!==fo}function td(t,n,s){return n===(4!==t.type||s?t.value:fo)}function Bh(t,n,s){let c=4;const f=t.attrs,C=null!==f?function tp(t){for(let n=0;n<t.length;n++)if(Nh(t[n]))return n;return t.length}(f):0;let N=!1;for(let ie=0;ie<n.length;ie++){const he=n[ie];if("number"!=typeof he){if(!N)if(4&c){if(c=2|1&c,""!==he&&!td(t,he,s)||""===he&&1===n.length){if(Cr(c))return!1;N=!0}}else if(8&c){if(null===f||!Gd(t,f,he,s)){if(Cr(c))return!1;N=!0}}else{const Ne=n[++ie],it=qf(he,f,Wd(t),s);if(-1===it){if(Cr(c))return!1;N=!0;continue}if(""!==Ne){let Nt;if(Nt=it>C?"":f[it+1].toLowerCase(),2&c&&Ne!==Nt){if(Cr(c))return!1;N=!0}}}}else{if(!N&&!Cr(c)&&!Cr(he))return!1;if(N&&Cr(he))continue;N=!1,c=he|1&c}}return Cr(c)||N}function Cr(t){return!(1&t)}function qf(t,n,s,c){if(null===n)return-1;let f=0;if(c||!s){let C=!1;for(;f<n.length;){const N=n[f];if(N===t)return f;if(3===N||6===N)C=!0;else{if(1===N||2===N){let ie=n[++f];for(;"string"==typeof ie;)ie=n[++f];continue}if(4===N)break;if(0===N){f+=4;continue}}f+=C?1:2}return-1}return function Uh(t,n){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const c=t[s];if("number"==typeof c)return-1;if(c===n)return s;s++}return-1}(n,t)}function ep(t,n,s=!1){for(let c=0;c<n.length;c++)if(Bh(t,n[c],s))return!0;return!1}function le(t,n){e:for(let s=0;s<n.length;s++){const c=n[s];if(t.length===c.length){for(let f=0;f<t.length;f++)if(t[f]!==c[f])continue e;return!0}}return!1}function ye(t,n){return t?":not("+n.trim()+")":n}function de(t){let n=t[0],s=1,c=2,f="",C=!1;for(;s<t.length;){let N=t[s];if("string"==typeof N)if(2&c){const ie=t[++s];f+="["+N+(ie.length>0?'="'+ie+'"':"")+"]"}else 8&c?f+="."+N:4&c&&(f+=" "+N);else""!==f&&!Cr(N)&&(n+=ye(C,f),f=""),c=N,C=C||!Cr(c);s++}return""!==f&&(n+=ye(C,f)),n}function St(t){return Ur(()=>{const n=pl(t),s={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===tc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||nc.Emulated,styles:t.styles||As,_:null,schemas:t.schemas||null,tView:null,id:""};So(s);const c=t.dependencies;return s.directiveDefs=ic(c,!1),s.pipeDefs=ic(c,!0),s.id=function Qm(t){let n=0;const s=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const f of s)n=Math.imul(31,n)+f.charCodeAt(0)|0;return n+=2147483648,"c"+n}(s),s})}function Zt(t){return vi(t)||Ls(t)}function On(t){return null!==t}function Mn(t){return Ur(()=>({type:t.type,bootstrap:t.bootstrap||As,declarations:t.declarations||As,imports:t.imports||As,exports:t.exports||As,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function si(t,n){if(null==t)return Oa;const s={};for(const c in t)if(t.hasOwnProperty(c)){const f=t[c];let C,N,ie=Wn.None;Array.isArray(f)?(ie=f[0],C=f[1],N=f[2]??C):(C=f,N=f),n?(s[C]=ie!==Wn.None?[c,ie]:c,n[C]=N):s[C]=c}return s}function $i(t){return Ur(()=>{const n=pl(t);return So(n),n})}function ns(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function vi(t){return t[ls]||null}function Ls(t){return t[Ql]||null}function Ss(t){return t[Xa]||null}function jo(t){const n=vi(t)||Ls(t)||Ss(t);return null!==n&&n.standalone}function ps(t,n){const s=t[Jc]||null;if(!s&&!0===n)throw new Error(`Type ${Ts(t)} does not have '\u0275mod' property.`);return s}function pl(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Oa,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||As,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:si(t.inputs,n),outputs:si(t.outputs),debugInfo:null}}function So(t){t.features?.forEach(n=>n(t))}function ic(t,n){if(!t)return null;const s=n?Ss:Zt;return()=>("function"==typeof t?t():t).map(c=>s(c)).filter(On)}function ku(t){return{\u0275providers:t}}function np(...t){return{\u0275providers:Ic(0,t),\u0275fromNgModule:!0}}function Ic(t,...n){const s=[],c=new Set;let f;const C=N=>{s.push(N)};return Or(n,N=>{const ie=N;Kd(ie,C,[],c)&&(f||=[],f.push(ie))}),void 0!==f&&Pu(f,C),s}function Pu(t,n){for(let s=0;s<t.length;s++){const{ngModule:c,providers:f}=t[s];Ol(f,C=>{n(C,c)})}}function Kd(t,n,s,c){if(!(t=Di(t)))return!1;let f=null,C=ut(t);const N=!C&&vi(t);if(C||N){if(N&&!N.standalone)return!1;f=t}else{const he=t.ngModule;if(C=ut(he),!C)return!1;f=he}const ie=c.has(f);if(N){if(ie)return!1;if(c.add(f),N.dependencies){const he="function"==typeof N.dependencies?N.dependencies():N.dependencies;for(const Ne of he)Kd(Ne,n,s,c)}}else{if(!C)return!1;{if(null!=C.imports&&!ie){let Ne;c.add(f);try{Or(C.imports,it=>{Kd(it,n,s,c)&&(Ne||=[],Ne.push(it))})}finally{}void 0!==Ne&&Pu(Ne,n)}if(!ie){const Ne=lo(f)||(()=>new f);n({provide:f,useFactory:Ne,deps:As},f),n({provide:$d,useValue:f,multi:!0},f),n({provide:Io,useValue:()=>Zi(f),multi:!0},f)}const he=C.providers;if(null!=he&&!ie){const Ne=t;Ol(he,it=>{n(it,Ne)})}}}return f!==t&&void 0!==t.providers}function Ol(t,n){for(let s of t)xr(s)&&(s=s.\u0275providers),Array.isArray(s)?Ol(s,n):n(s)}const bv=xi({provide:String,useValue:xi});function jh(t){return null!==t&&"object"==typeof t&&bv in t}function Sc(t){return"function"==typeof t}const $h=new qt(""),Vh={},Ev={};let id;function Vs(){return void 0===id&&(id=new ec),id}class Ar{}class Hd extends Ar{get destroyed(){return this._destroyed}constructor(n,s,c,f){super(),this.parent=s,this.source=c,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Lu(n,N=>this.processProvider(N)),this.records.set(uo,sd(void 0,this)),f.has("environment")&&this.records.set(Ar,sd(void 0,this));const C=this.records.get($h);null!=C&&"string"==typeof C.value&&this.scopes.add(C.value),this.injectorDefTypes=new Set(this.get($d,As,fs.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=_(null);try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const c of s)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),_(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const s=Gn(this),c=ao(void 0);try{return n()}finally{Gn(s),ao(c)}}get(n,s=et,c=fs.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Ya))return n[Ya](this);c=Ci(c);const C=Gn(this),N=ao(void 0);try{if(!(c&fs.SkipSelf)){let he=this.records.get(n);if(void 0===he){const Ne=function Wh(t){return"function"==typeof t||"object"==typeof t&&t instanceof qt}(n)&&wl(n);he=Ne&&this.injectableDefInScope(Ne)?sd(Fu(n),Vh):null,this.records.set(n,he)}if(null!=he)return this.hydrate(n,he)}return(c&fs.Self?Vs():this.parent).get(n,s=c&fs.Optional&&s===et?null:s)}catch(ie){if("NullInjectorError"===ie.name){if((ie[q]=ie[q]||[]).unshift(Ts(n)),C)throw ie;return function pr(t,n,s,c){const f=t[q];throw n[Wt]&&f.unshift(n[Wt]),t.message=function hl(t,n,s,c=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let f=Ts(n);if(Array.isArray(n))f=n.map(Ts).join(" -> ");else if("object"==typeof n){let C=[];for(let N in n)if(n.hasOwnProperty(N)){let ie=n[N];C.push(N+":"+("string"==typeof ie?JSON.stringify(ie):Ts(ie)))}f=`{${C.join(", ")}}`}return`${s}${c?"("+c+")":""}[${f}]: ${t.replace(De,"\n  ")}`}("\n"+t.message,f,s,c),t.ngTokenPath=f,t[q]=null,t}(ie,n,"R3InjectorError",this.source)}throw ie}finally{ao(N),Gn(C)}}resolveInjectorInitializers(){const n=_(null),s=Gn(this),c=ao(void 0);try{const C=this.get(Io,As,fs.Self);for(const N of C)N()}finally{Gn(s),ao(c),_(n)}}toString(){const n=[],s=this.records;for(const c of s.keys())n.push(Ts(c));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Yn(205,!1)}processProvider(n){let s=Sc(n=Di(n))?n:Di(n&&n.provide);const c=function Ms(t){return jh(t)?sd(void 0,t.useValue):sd(Gh(t),Vh)}(n);if(!Sc(n)&&!0===n.multi){let f=this.records.get(s);f||(f=sd(void 0,Vh,!0),f.factory=()=>Os(f.multi),this.records.set(s,f)),s=n,f.multi.push(n)}this.records.set(s,c)}hydrate(n,s){const c=_(null);try{return s.value===Vh&&(s.value=Ev,s.value=s.factory()),"object"==typeof s.value&&s.value&&function e_(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}finally{_(c)}}injectableDefInScope(n){if(!n.providedIn)return!1;const s=Di(n.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(n){const s=this._onDestroyHooks.indexOf(n);-1!==s&&this._onDestroyHooks.splice(s,1)}}function Fu(t){const n=wl(t),s=null!==n?n.factory:lo(t);if(null!==s)return s;if(t instanceof qt)throw new Yn(204,!1);if(t instanceof Function)return function qm(t){if(t.length>0)throw new Yn(204,!1);const s=function W(t){return t&&(t[Ut]||t[Ht])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Yn(204,!1)}function Gh(t,n,s){let c;if(Sc(t)){const f=Di(t);return lo(f)||Fu(f)}if(jh(t))c=()=>Di(t.useValue);else if(function nd(t){return!(!t||!t.useFactory)}(t))c=()=>t.useFactory(...Os(t.deps||[]));else if(function Zm(t){return!(!t||!t.useExisting)}(t))c=()=>Zi(Di(t.useExisting));else{const f=Di(t&&(t.useClass||t.provide));if(!function Za(t){return!!t.deps}(t))return lo(f)||Fu(f);c=()=>new f(...Os(t.deps))}return c}function sd(t,n,s=!1){return{factory:t,value:n,multi:s?[]:void 0}}function Lu(t,n){for(const s of t)Array.isArray(s)?Lu(s,n):s&&xr(s)?Lu(s.\u0275providers,n):n(s)}function Cv(t,n){t instanceof Hd&&t.assertNotDestroyed();const c=Gn(t),f=ao(void 0);try{return n()}finally{Gn(c),ao(f)}}function ip(){return void 0!==ql()||null!=function Rn(){return mn}()}function rd(t){if(!ip())throw new Yn(-203,!1)}const yi=0,Jn=1,ki=2,$r=3,qa=4,$o=5,Zo=6,ad=7,mr=8,Yr=9,Rl=10,Oi=11,Yd=12,wc=13,_r=14,gr=15,kl=16,ac=17,lc=18,xc=19,Tv=20,ld=21,op=22,el=23,Si=25,ap=1,tl=7,Uu=9,Qr=10;var Jd=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Jd||{});function Rs(t){return Array.isArray(t)&&"object"==typeof t[ap]}function qo(t){return Array.isArray(t)&&!0===t[ap]}function zh(t){return!!(4&t.flags)}function Oc(t){return t.componentOffset>-1}function ju(t){return!(1&~t.flags)}function nl(t){return!!t.template}function $u(t){return!!(512&t[ki])}class Ov{constructor(n,s,c){this.previousValue=n,this.currentValue=s,this.firstChange=c}isFirstChange(){return this.firstChange}}function i_(t,n,s,c){null!==n?n.applyValueToInputSignal(n,c):t[s]=c}function hp(){return s_}function s_(t){return t.type.prototype.ngOnChanges&&(t.setInput=r_),Av}function Av(){const t=eu(this),n=t?.current;if(n){const s=t.previous;if(s===Oa)t.previous=n;else for(let c in n)s[c]=n[c];t.current=null,this.ngOnChanges(n)}}function r_(t,n,s,c,f){const C=this.declaredInputs[c],N=eu(t)||function Rv(t,n){return t[dr]=n}(t,{previous:Oa,current:null}),ie=N.current||(N.current={}),he=N.previous,Ne=he[C];ie[C]=new Ov(Ne&&Ne.currentValue,s,he===Oa),i_(t,n,f,s)}hp.ngInherit=!0;const dr="__ngSimpleChanges__";function eu(t){return t[dr]||null}const Pl=function(t,n,s){},ud="svg";function Ns(t){for(;Array.isArray(t);)t=t[yi];return t}function Gu(t,n){return Ns(n[t])}function xo(t,n){return Ns(n[t.index])}function tu(t,n){return t.data[n]}function Ac(t,n){return t[n]}function il(t,n){const s=n[t];return Rs(s)?s:s[yi]}function a_(t){return!(128&~t[ki])}function ml(t,n){return null==n?null:t[n]}function l_(t){t[ac]=0}function Xh(t){1024&t[ki]||(t[ki]|=1024,a_(t)&&gp(t))}function _p(t){return!!(9216&t[ki]||t[el]?.dirty)}function Wu(t){t[Rl].changeDetectionScheduler?.notify(8),64&t[ki]&&(t[ki]|=1024),_p(t)&&gp(t)}function gp(t){t[Rl].changeDetectionScheduler?.notify(0);let n=Rc(t);for(;null!==n&&!(8192&n[ki])&&(n[ki]|=8192,a_(n));)n=Rc(n)}function nu(t,n){if(!(256&~t[ki]))throw new Yn(911,!1);null===t[ld]&&(t[ld]=[]),t[ld].push(n)}function Rc(t){const n=t[$r];return qo(n)?n[$r]:n}const is={lFrame:Xu(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let vp=!1;function u_(){return is.bindingsEnabled}function kc(){return null!==is.skipHydrationRootTNode}function Fn(){return is.lFrame.lView}function vs(){return is.lFrame.tView}function f_(t){return is.lFrame.contextLView=t,t[mr]}function p_(t){return is.lFrame.contextLView=null,t}function er(){let t=yp();for(;null!==t&&64===t.type;)t=t.parent;return t}function yp(){return is.lFrame.currentTNode}function iu(){const t=is.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function Ca(t,n){const s=is.lFrame;s.currentTNode=t,s.isParent=n}function Ep(){return is.lFrame.isParent}function Qh(){is.lFrame.isParent=!1}function __(){return vp}function Ku(t){vp=t}function Aa(){const t=is.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Oo(){return is.lFrame.bindingIndex}function Ra(){return is.lFrame.bindingIndex++}function dc(t){const n=is.lFrame,s=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,s}function Tp(t){is.lFrame.inI18n=t}function ka(t,n){const s=is.lFrame;s.bindingIndex=s.bindingRootIndex=t,Hu(n)}function Hu(t){is.lFrame.currentDirectiveIndex=t}function aa(t){const n=is.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}function g_(){return is.lFrame.currentQueryIndex}function hd(t){is.lFrame.currentQueryIndex=t}function $v(t){const n=t[Jn];return 2===n.type?n.declTNode:1===n.type?t[$o]:null}function Vv(t,n,s){if(s&fs.SkipSelf){let f=n,C=t;for(;!(f=f.parent,null!==f||s&fs.Host||(f=$v(C),null===f||(C=C[_r],10&f.type))););if(null===f)return!1;n=f,t=C}const c=is.lFrame=Jh();return c.currentTNode=n,c.lView=t,!0}function Fl(t){const n=Jh(),s=t[Jn];is.lFrame=n,n.currentTNode=s.firstChild,n.lView=t,n.tView=s,n.contextLView=t,n.bindingIndex=s.bindingStartIndex,n.inI18n=!1}function Jh(){const t=is.lFrame,n=null===t?null:t.child;return null===n?Xu(t):n}function Xu(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Dp(){const t=is.lFrame;return is.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Yu=Dp;function uc(){const t=Dp();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ea(){return is.lFrame.selectedIndex}function su(t){is.lFrame.selectedIndex=t}function ni(){const t=is.lFrame;return tu(t.tView,t.selectedIndex)}function qh(){is.lFrame.currentNamespace=ud}function Gv(){!function v_(){is.lFrame.currentNamespace=null}()}let ef=!0;function fd(){return ef}function la(t){ef=t}function Ip(t,n){for(let s=n.directiveStart,c=n.directiveEnd;s<c;s++){const C=t.data[s].type.prototype,{ngAfterContentInit:N,ngAfterContentChecked:ie,ngAfterViewInit:he,ngAfterViewChecked:Ne,ngOnDestroy:it}=C;N&&(t.contentHooks??=[]).push(-s,N),ie&&((t.contentHooks??=[]).push(s,ie),(t.contentCheckHooks??=[]).push(s,ie)),he&&(t.viewHooks??=[]).push(-s,he),Ne&&((t.viewHooks??=[]).push(s,Ne),(t.viewCheckHooks??=[]).push(s,Ne)),null!=it&&(t.destroyHooks??=[]).push(s,it)}}function _l(t,n,s){zv(t,n,3,s)}function ru(t,n,s,c){(3&t[ki])===s&&zv(t,n,s,c)}function gl(t,n){let s=t[ki];(3&s)===n&&(s&=16383,s+=1,t[ki]=s)}function zv(t,n,s,c){const C=c??-1,N=n.length-1;let ie=0;for(let he=void 0!==c?65535&t[ac]:0;he<N;he++)if("number"==typeof n[he+1]){if(ie=n[he],null!=c&&ie>=c)break}else n[he]<0&&(t[ac]+=65536),(ie<C||-1==C)&&(vl(t,s,n,he),t[ac]=(4294901760&t[ac])+he+2),he++}function hc(t,n){Pl(4,t,n);const s=_(null);try{n.call(t)}finally{_(s),Pl(5,t,n)}}function vl(t,n,s,c){const f=s[c]<0,C=s[c+1],ie=t[f?-s[c]:s[c]];f?t[ki]>>14<t[ac]>>16&&(3&t[ki])===n&&(t[ki]+=16384,hc(ie,C)):hc(ie,C)}const Ao=-1;class Fc{constructor(n,s,c){this.factory=n,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=c}}const y_={};class Fa{constructor(n,s){this.injector=n,this.parentInjector=s}get(n,s,c){c=Ci(c);const f=this.injector.get(n,y_,c);return f!==y_||s===y_?f:this.parentInjector.get(n,s,c)}}function nf(t){return t!==Ao}function sf(t){return 32767&t}function rf(t,n){let s=function Hv(t){return t>>16}(t),c=n;for(;s>0;)c=c[_r],s--;return c}let E_=!0;function af(t){const n=E_;return E_=t,n}const pd=255,jn=5;let bl=0;const rl={};function lf(t,n){const s=Nl(t,n);if(-1!==s)return s;const c=n[Jn];c.firstCreatePass&&(t.injectorIndex=n.length,La(c.data,t),La(n,null),La(c.blueprint,null));const f=Nc(t,n),C=t.injectorIndex;if(nf(f)){const N=sf(f),ie=rf(f,n),he=ie[Jn].data;for(let Ne=0;Ne<8;Ne++)n[C+Ne]=ie[N+Ne]|he[N+Ne]}return n[C+8]=f,C}function La(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Nl(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Nc(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,c=null,f=n;for(;null!==f;){if(c=df(f),null===c)return Ao;if(s++,f=f[_r],-1!==c.injectorIndex)return c.injectorIndex|s<<16}return Ao}function cf(t,n,s){!function C_(t,n,s){let c;"string"==typeof s?c=s.charCodeAt(0)||0:s.hasOwnProperty(ba)&&(c=s[ba]),null==c&&(c=s[ba]=bl++);const f=c&pd;n.data[t+(f>>jn)]|=1<<f}(t,n,s)}function wp(t,n,s){if(s&fs.Optional||void 0!==t)return t;Zl()}function xp(t,n,s,c){if(s&fs.Optional&&void 0===c&&(c=null),!(s&(fs.Self|fs.Host))){const f=t[Yr],C=ao(void 0);try{return f?f.get(n,c,s&fs.Optional):ul(n,c,s&fs.Optional)}finally{ao(C)}}return wp(c,0,s)}function Op(t,n,s,c=fs.Default,f){if(null!==t){if(2048&n[ki]&&!(c&fs.Self)){const N=function Yv(t,n,s,c,f){let C=t,N=n;for(;null!==C&&null!==N&&2048&N[ki]&&!(512&N[ki]);){const ie=Ju(C,N,s,c|fs.Self,rl);if(ie!==rl)return ie;let he=C.parent;if(!he){const Ne=N[Tv];if(Ne){const it=Ne.get(s,rl,c);if(it!==rl)return it}he=df(N),N=N[_r]}C=he}return f}(t,n,s,c,rl);if(N!==rl)return N}const C=Ju(t,n,s,c,rl);if(C!==rl)return C}return xp(n,s,c,f)}function Ju(t,n,s,c,f){const C=function ca(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(ba)?t[ba]:void 0;return"number"==typeof n?n>=0?n&pd:Rp:n}(s);if("function"==typeof C){if(!Vv(n,t,c))return c&fs.Host?wp(f,0,c):xp(n,s,c,f);try{let N;if(N=C(c),null!=N||c&fs.Optional)return N;Zl()}finally{Yu()}}else if("number"==typeof C){let N=null,ie=Nl(t,n),he=Ao,Ne=c&fs.Host?n[gr][$o]:null;for((-1===ie||c&fs.SkipSelf)&&(he=-1===ie?Nc(t,n):n[ie+8],he!==Ao&&Ap(c,!1)?(N=n[Jn],ie=sf(he),n=rf(he,n)):ie=-1);-1!==ie;){const it=n[Jn];if(Zu(C,ie,it.data)){const Nt=M_(ie,n,s,N,c,Ne);if(Nt!==rl)return Nt}he=n[ie+8],he!==Ao&&Ap(c,n[Jn].data[ie+8]===Ne)&&Zu(C,ie,n)?(N=it,ie=sf(he),n=rf(he,n)):ie=-1}}return f}function M_(t,n,s,c,f,C){const N=n[Jn],ie=N.data[t+8],it=lu(ie,N,s,null==c?Oc(ie)&&E_:c!=N&&!!(3&ie.type),f&fs.Host&&C===ie);return null!==it?_d(n,N,it,ie):rl}function lu(t,n,s,c,f){const C=t.providerIndexes,N=n.data,ie=1048575&C,he=t.directiveStart,it=C>>20,sn=f?ie+it:t.directiveEnd;for(let fn=c?ie:ie+it;fn<sn;fn++){const Cn=N[fn];if(fn<he&&s===Cn||fn>=he&&Cn.type===s)return fn}if(f){const fn=N[he];if(fn&&nl(fn)&&fn.type===s)return he}return null}function _d(t,n,s,c){let f=t[s];const C=n.data;if(function cs(t){return t instanceof Fc}(f)){const N=f;N.resolving&&function Dc(t,n){throw n&&n.join(" > "),new Yn(-200,t)}(function Is(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ji(t)}(C[s]));const ie=af(N.canSeeViewProviders);N.resolving=!0;const Ne=N.injectImpl?ao(N.injectImpl):null;Vv(t,c,fs.Default);try{f=t[s]=N.factory(void 0,C,t,c),n.firstCreatePass&&s>=c.directiveStart&&function tf(t,n,s){const{ngOnChanges:c,ngOnInit:f,ngDoCheck:C}=n.type.prototype;if(c){const N=s_(n);(s.preOrderHooks??=[]).push(t,N),(s.preOrderCheckHooks??=[]).push(t,N)}f&&(s.preOrderHooks??=[]).push(0-t,f),C&&((s.preOrderHooks??=[]).push(t,C),(s.preOrderCheckHooks??=[]).push(t,C))}(s,C[s],n)}finally{null!==Ne&&ao(Ne),af(ie),N.resolving=!1,Yu()}}return f}function Zu(t,n,s){return!!(s[n+(t>>jn)]&1<<t)}function Ap(t,n){return!(t&fs.Self||t&fs.Host&&n)}class mo{constructor(n,s){this._tNode=n,this._lView=s}get(n,s,c){return Op(this._tNode,this._lView,n,Ci(c),s)}}function Rp(){return new mo(er(),Fn())}function Uc(t){return Ur(()=>{const n=t.prototype.constructor,s=n[ia]||Vo(n),c=Object.prototype;let f=Object.getPrototypeOf(t.prototype).constructor;for(;f&&f!==c;){const C=f[ia]||Vo(f);if(C&&C!==s)return C;f=Object.getPrototypeOf(f)}return C=>new C})}function Vo(t){return Ia(t)?()=>{const n=Vo(Di(t));return n&&n()}:lo(t)}function df(t){const n=t[Jn],s=n.type;return 2===s?n.declTNode:1===s?t[$o]:null}function gd(t){return function md(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const s=t.attrs;if(s){const c=s.length;let f=0;for(;f<c;){const C=s[f];if(Nh(C))break;if(0===C)f+=2;else if("number"==typeof C)for(f++;f<c&&"string"==typeof s[f];)f++;else{if(C===n)return s[f+1];f+=2}}}return null}(er(),t)}function cu(t,n=null,s=null,c){const f=th(t,n,s,c);return f.resolveInjectorInitializers(),f}function th(t,n=null,s=null,c,f=new Set){const C=[s||As,np(t)];return c=c||("object"==typeof t?void 0:Ts(t)),new Hd(C,n||Vs(),c||null,f)}class Ro{static#e=this.THROW_IF_NOT_FOUND=et;static#t=this.NULL=new ec;static create(n,s){if(Array.isArray(n))return cu({name:""},s,n,"");{const c=n.name??"";return cu({name:c},n.parent,n.providers,c)}}static#n=this.\u0275prov=Ds({token:Ro,providedIn:"any",factory:()=>Zi(uo)});static#i=this.__NG_ELEMENT_ID__=-1}new qt("").__NG_ELEMENT_ID__=t=>{const n=er();if(null===n)throw new Yn(204,!1);if(2&n.type)return n.value;if(t&fs.Optional)return null;throw new Yn(204,!1)};function fc(t){return t.ngOriginalError}const Lp=!0;let nh=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=t0;static#t=this.__NG_ENV_ID__=s=>s}return t})();class e0 extends nh{constructor(n){super(),this._lView=n}onDestroy(n){return nu(this._lView,n),()=>function c_(t,n){if(null===t[ld])return;const s=t[ld].indexOf(n);-1!==s&&t[ld].splice(s,1)}(this._lView,n)}}function t0(){return new e0(Fn())}let Ma=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new me.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275prov=Ds({token:t,providedIn:"root",factory:()=>new t})}return t})();const yl=class n0 extends $e.B7{constructor(n=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,ip()&&(this.destroyRef=Vn(nh,{optional:!0})??void 0,this.pendingTasks=Vn(Ma,{optional:!0})??void 0)}emit(n){const s=_(null);try{super.next(n)}finally{_(s)}}subscribe(n,s,c){let f=n,C=s||(()=>null),N=c;if(n&&"object"==typeof n){const he=n;f=he.next?.bind(he),C=he.error?.bind(he),N=he.complete?.bind(he)}this.__isAsync&&(C=this.wrapInTimeout(C),f&&(f=this.wrapInTimeout(f)),N&&(N=this.wrapInTimeout(N)));const ie=super.subscribe({next:f,error:C,complete:N});return n instanceof Et.y&&n.add(ie),ie}wrapInTimeout(n){return s=>{const c=this.pendingTasks?.add();setTimeout(()=>{n(s),void 0!==c&&this.pendingTasks?.remove(c)})}}};function mf(...t){}function S_(t){let n,s;function c(){t=mf;try{void 0!==s&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(s),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),c()}),"function"==typeof requestAnimationFrame&&(s=requestAnimationFrame(()=>{t(),c()})),()=>c()}function w_(t){return queueMicrotask(()=>t()),()=>{t=mf}}const Np="isAngularZone",du=Np+"_ID";let _f=0;class Tr{constructor(n){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yl(!1),this.onMicrotaskEmpty=new yl(!1),this.onStable=new yl(!1),this.onError=new yl(!1);const{enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:f=!1,scheduleInRootZone:C=Lp}=n;if(typeof Zone>"u")throw new Yn(908,!1);Zone.assertZonePatched();const N=this;N._nesting=0,N._outer=N._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(N._inner=N._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(N._inner=N._inner.fork(Zone.longStackTraceZoneSpec)),N.shouldCoalesceEventChangeDetection=!f&&c,N.shouldCoalesceRunChangeDetection=f,N.callbackScheduled=!1,N.scheduleInRootZone=C,function Ed(t){const n=()=>{!function jc(t){function n(){S_(()=>{t.callbackScheduled=!1,uu(t),t.isCheckStableRunning=!0,yd(t),t.isCheckStableRunning=!1})}t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,t.scheduleInRootZone?Zone.root.run(()=>{n()}):t._outer.run(()=>{n()}),uu(t))}(t)},s=_f++;t._inner=t._inner.fork({name:"angular",properties:{[Np]:!0,[du]:s,[du+s]:!0},onInvokeTask:(c,f,C,N,ie,he)=>{if(function s0(t){return Up(t,"__ignore_ng_zone__")}(he))return c.invokeTask(C,N,ie,he);try{return O_(t),c.invokeTask(C,N,ie,he)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===N.type||t.shouldCoalesceRunChangeDetection)&&n(),Bp(t)}},onInvoke:(c,f,C,N,ie,he,Ne)=>{try{return O_(t),c.invoke(C,N,ie,he,Ne)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function yb(t){return Up(t,"__scheduler_tick__")}(he)&&n(),Bp(t)}},onHasTask:(c,f,C,N)=>{c.hasTask(C,N),f===C&&("microTask"==N.change?(t._hasPendingMicrotasks=N.microTask,uu(t),yd(t)):"macroTask"==N.change&&(t.hasPendingMacrotasks=N.macroTask))},onHandleError:(c,f,C,N)=>(c.handleError(C,N),t.runOutsideAngular(()=>t.onError.emit(N)),!1)})}(N)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Np)}static assertInAngularZone(){if(!Tr.isInAngularZone())throw new Yn(909,!1)}static assertNotInAngularZone(){if(Tr.isInAngularZone())throw new Yn(909,!1)}run(n,s,c){return this._inner.run(n,s,c)}runTask(n,s,c,f){const C=this._inner,N=C.scheduleEventTask("NgZoneEvent: "+f,n,bd,mf,mf);try{return C.runTask(N,s,c)}finally{C.cancelTask(N)}}runGuarded(n,s,c){return this._inner.runGuarded(n,s,c)}runOutsideAngular(n){return this._outer.run(n)}}const bd={};function yd(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function uu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function O_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Bp(t){t._nesting--,yd(t)}class $c{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yl,this.onMicrotaskEmpty=new yl,this.onStable=new yl,this.onError=new yl}run(n,s,c){return n.apply(s,c)}runGuarded(n,s,c){return n.apply(s,c)}runOutsideAngular(n){return n()}runTask(n,s,c,f){return n.apply(s,c)}}function Up(t,n){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0]?.data?.[n]}class pc{constructor(){this._console=console}handleError(n){const s=this._findOriginalError(n);this._console.error("ERROR",n),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(n){let s=n&&fc(n);for(;s&&fc(s);)s=fc(s);return s||null}}const o0=new qt("",{providedIn:"root",factory:()=>{const t=Vn(Tr),n=Vn(pc);return s=>t.runOutsideAngular(()=>n.handleError(s))}});function l0(){return hu(er(),Fn())}function hu(t,n){return new fu(xo(t,n))}let fu=(()=>{class t{constructor(s){this.nativeElement=s}static#e=this.__NG_ELEMENT_ID__=l0}return t})();function gf(t){return t instanceof fu?t.nativeElement:t}function Db(){return this._results[Symbol.iterator]()}class vf{static#e=Symbol.iterator;get changes(){return this._changes??=new yl}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const s=vf.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=Db)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,s){return this._results.reduce(n,s)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,s){this.dirty=!1;const c=function ci(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function fl(t,n,s){if(t.length!==n.length)return!1;for(let c=0;c<t.length;c++){let f=t[c],C=n[c];if(s&&(f=s(f),C=s(C)),C!==f)return!1}return!0}(this._results,c,s))&&(this._results=c,this.length=c.length,this.last=c[this.length-1],this.first=c[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function pu(t){return!(128&~t.flags)}const P_=new Map;let F_=0;function Vp(t){P_.delete(t[xc])}const mu="__ngContext__";function _o(t,n){Rs(n)?(t[mu]=n[xc],function c0(t){P_.set(t[xc],t)}(n)):t[mu]=n}function m0(t){return $_(t[Yd])}function j_(t){return $_(t[qa])}function $_(t){for(;null!==t&&!qo(t);)t=t[qa];return t}let ta;function Mf(t){ta=t}function Ul(){if(void 0!==ta)return ta;if(typeof document<"u")return document;throw new Yn(210,!1)}const lh=new qt("",{providedIn:"root",factory:()=>Rb}),Rb="ng",Md=new qt(""),Tf=new qt("",{providedIn:"platform",factory:()=>"unknown"}),g0=new qt(""),v0=new qt("",{providedIn:"root",factory:()=>Ul().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Q_=()=>null;function Qp(t,n,s=!1){return Q_(t,n,s)}const Z_=new qt("",{providedIn:"root",factory:()=>!1});let $l,Z;function Vl(t){return function _c(){if(void 0===$l&&($l=null,Fs.trustedTypes))try{$l=Fs.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return $l}()?.createHTML(t)||t}function x(){if(void 0===Z&&(Z=null,Fs.trustedTypes))try{Z=Fs.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Z}function M(t){return x()?.createHTML(t)||t}function ce(t){return x()?.createScriptURL(t)||t}class ke{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${rr})`}}class Ye extends ke{getTypeName(){return"HTML"}}class Dt extends ke{getTypeName(){return"Style"}}class rn extends ke{getTypeName(){return"Script"}}class Tn extends ke{getTypeName(){return"URL"}}class $n extends ke{getTypeName(){return"ResourceURL"}}function ei(t){return t instanceof ke?t.changingThisBreaksApplicationSecurity:t}function di(t,n){const s=function Qi(t){return t instanceof ke&&t.getTypeName()||null}(t);if(null!=s&&s!==n){if("ResourceURL"===s&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${s} (see ${rr})`)}return s===n}function qi(t){return new Ye(t)}function Es(t){return new Dt(t)}function Ks(t){return new rn(t)}function ss(t){return new Tn(t)}function qr(t){return new $n(t)}function xf(t){const n=new ol(t);return function M0(){try{return!!(new window.DOMParser).parseFromString(Vl(""),"text/html")}catch{return!1}}()?new _h(n):n}class _h{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const s=(new window.DOMParser).parseFromString(Vl(n),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(n):(s.firstChild?.remove(),s)}catch{return null}}}class ol{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const s=this.inertDocument.createElement("template");return s.innerHTML=Vl(n),s}}const Ub=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function q_(t){return(t=String(t)).match(Ub)?t:"unsafe:"+t}function Ad(t){const n={};for(const s of t.split(","))n[s]=!0;return n}function sm(...t){const n={};for(const s of t)for(const c in s)s.hasOwnProperty(c)&&(n[c]=!0);return n}const T0=Ad("area,br,col,hr,img,wbr"),jb=Ad("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$b=Ad("rp,rt"),Of=sm(T0,sm(jb,Ad("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),sm($b,Ad("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),sm($b,jb)),tg=Ad("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),D0=sm(tg,Ad("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ad("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Gb=Ad("script,style,template");class I0{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let s=n.firstChild,c=!0,f=[];for(;s;)if(s.nodeType===Node.ELEMENT_NODE?c=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,c&&s.firstChild)f.push(s),s=PC(s);else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let C=zb(s);if(C){s=C;break}s=f.pop()}return this.buf.join("")}startElement(n){const s=S0(n).toLowerCase();if(!Of.hasOwnProperty(s))return this.sanitizedSomething=!0,!Gb.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const c=n.attributes;for(let f=0;f<c.length;f++){const C=c.item(f),N=C.name,ie=N.toLowerCase();if(!D0.hasOwnProperty(ie)){this.sanitizedSomething=!0;continue}let he=C.value;tg[ie]&&(he=q_(he)),this.buf.push(" ",N,'="',Kb(he),'"')}return this.buf.push(">"),!0}endElement(n){const s=S0(n).toLowerCase();Of.hasOwnProperty(s)&&!T0.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(n){this.buf.push(Kb(n))}}function zb(t){const n=t.nextSibling;if(n&&t!==n.previousSibling)throw gh(n);return n}function PC(t){const n=t.firstChild;if(n&&function Wb(t,n){return(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(t,n))throw gh(n);return n}function S0(t){const n=t.nodeName;return"string"==typeof n?n:"FORM"}function gh(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}const Af=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,FC=/([^\#-~ |!])/g;function Kb(t){return t.replace(/&/g,"&amp;").replace(Af,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(FC,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ng;function Hb(t,n){let s=null;try{ng=ng||xf(t);let c=n?String(n):"";s=ng.getInertBodyElement(c);let f=5,C=c;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,c=C,C=s.innerHTML,s=ng.getInertBodyElement(c)}while(c!==C);return Vl((new I0).sanitizeChildren(w0(s)||s))}finally{if(s){const c=w0(s)||s;for(;c.firstChild;)c.firstChild.remove()}}}function w0(t){return"content"in t&&function rm(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var vh=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(vh||{});function x0(t){const n=am();return n?M(n.sanitize(vh.HTML,t)||""):di(t,"HTML")?M(ei(t)):Hb(Ul(),ji(t))}function O0(t){const n=am();return n?n.sanitize(vh.URL,t)||"":di(t,"URL")?ei(t):q_(ji(t))}function om(t){const n=am();if(n)return ce(n.sanitize(vh.RESOURCE_URL,t)||"");if(di(t,"ResourceURL"))return ce(ei(t));throw new Yn(904,!1)}function Qb(t,n,s){return function eo(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?om:O0}(n,s)(t)}function am(){const t=Fn();return t&&t[Rl].sanitizer}const Jb=/^>|^->|<!--|-->|--!>|<!-$/g,ua=/(<|>)/g,Gc="\u200b$1\u200b";function F0(t){return t.ownerDocument.defaultView}function Cl(t){return t instanceof Function?t():t}function Ml(t){return"browser"===(t??Vn(Ro)).get(Tf)}var og=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(og||{});let L0;function N0(t,n){return L0(t,n)}function bh(t,n,s,c,f){if(null!=c){let C,N=!1;qo(c)?C=c:Rs(c)&&(N=!0,c=c[yi]);const ie=Ns(c);0===t&&null!==s?null==f?ry(n,s,ie):yu(n,s,ie,f||null,!0):1===t&&null!==s?yu(n,s,ie,f||null,!0):2===t?hm(n,ie,N):3===t&&n.destroyNode(ie),null!=C&&function py(t,n,s,c,f){const C=s[tl];C!==Ns(s)&&bh(n,t,c,C,f);for(let ie=Qr;ie<s.length;ie++){const he=s[ie];fm(he[Jn],he,t,n,c,C)}}(n,t,C,s,f)}}function cm(t,n){return t.createText(n)}function ag(t,n,s){t.setValue(n,s)}function B0(t,n){return t.createComment(function kf(t){return t.replace(Jb,n=>n.replace(ua,Gc))}(n))}function lg(t,n,s){return t.createElement(n,s)}function gc(t,n){n[Rl].changeDetectionScheduler?.notify(9),fm(t,n,n[Oi],2,null,null)}function sy(t,n){const s=t[Uu],c=n[$r];(Rs(c)||n[gr]!==c[$r][gr])&&(t[ki]|=Jd.HasTransplantedViews),null===s?t[Uu]=[n]:s.push(n)}function U0(t,n){const s=t[Uu],c=s.indexOf(n);s.splice(c,1)}function dm(t,n){if(t.length<=Qr)return;const s=Qr+n,c=t[s];if(c){const f=c[kl];null!==f&&f!==t&&U0(f,c),n>0&&(t[s-1][qa]=c[qa]);const C=Fh(t,Qr+n);!function iy(t,n){gc(t,n),n[yi]=null,n[$o]=null}(c[Jn],c);const N=C[lc];null!==N&&N.detachView(C[Jn]),c[$r]=null,c[qa]=null,c[ki]&=-129}return c}function um(t,n){if(!(256&n[ki])){const s=n[Oi];s.destroyNode&&fm(t,n,s,3,null,null),function HC(t){let n=t[Yd];if(!n)return j0(t[Jn],t);for(;n;){let s=null;if(Rs(n))s=n[Yd];else{const c=n[Qr];c&&(s=c)}if(!s){for(;n&&!n[qa]&&n!==t;)Rs(n)&&j0(n[Jn],n),n=n[$r];null===n&&(n=t),Rs(n)&&j0(n[Jn],n),s=n&&n[qa]}n=s}}(n)}}function j0(t,n){if(256&n[ki])return;const s=_(null);try{n[ki]&=-129,n[ki]|=256,n[el]&&H(n[el]),function QC(t,n){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let c=0;c<s.length;c+=2){const f=n[s[c]];if(!(f instanceof Fc)){const C=s[c+1];if(Array.isArray(C))for(let N=0;N<C.length;N+=2){const ie=f[C[N]],he=C[N+1];Pl(4,ie,he);try{he.call(ie)}finally{Pl(5,ie,he)}}else{Pl(4,f,C);try{C.call(f)}finally{Pl(5,f,C)}}}}}(t,n),function YC(t,n){const s=t.cleanup,c=n[ad];if(null!==s)for(let C=0;C<s.length-1;C+=2)if("string"==typeof s[C]){const N=s[C+3];N>=0?c[N]():c[-N].unsubscribe(),C+=2}else s[C].call(c[s[C+1]]);null!==c&&(n[ad]=null);const f=n[ld];if(null!==f){n[ld]=null;for(let C=0;C<f.length;C++)(0,f[C])()}}(t,n),1===n[Jn].type&&n[Oi].destroy();const c=n[kl];if(null!==c&&qo(n[$r])){c!==n[$r]&&U0(c,n);const f=n[lc];null!==f&&f.detachView(t)}Vp(n)}finally{_(s)}}function $0(t,n,s){return V0(t,n.parent,s)}function V0(t,n,s){let c=n;for(;null!==c&&168&c.type;)c=(n=c).parent;if(null===c)return s[yi];{const{componentOffset:f}=c;if(f>-1){const{encapsulation:C}=t.data[c.directiveStart+f];if(C===nc.None||C===nc.Emulated)return null}return xo(c,s)}}function yu(t,n,s,c,f){t.insertBefore(n,s,c,f)}function ry(t,n,s){t.appendChild(n,s)}function oy(t,n,s,c,f){null!==c?yu(t,n,s,c,f):ry(t,n,s)}function cg(t,n){return t.parentNode(n)}function ay(t,n,s){return cy(t,n,s)}function ly(t,n,s){return 40&t.type?xo(t,s):null}let vc,cy=ly;function dy(t,n){cy=t,vc=n}function dg(t,n,s,c){const f=$0(t,c,n),C=n[Oi],ie=ay(c.parent||n[$o],c,n);if(null!=f)if(Array.isArray(s))for(let he=0;he<s.length;he++)oy(C,f,s[he],ie,!1);else oy(C,f,s,ie,!1);void 0!==vc&&vc(C,c,n,s,f)}function Eu(t,n){if(null!==n){const s=n.type;if(3&s)return xo(n,t);if(4&s)return G0(-1,t[n.index]);if(8&s){const c=n.child;if(null!==c)return Eu(t,c);{const f=t[n.index];return qo(f)?G0(-1,f):Ns(f)}}if(128&s)return Eu(t,n.next);if(32&s)return N0(n,t)()||Ns(t[n.index]);{const c=uy(t,n);return null!==c?Array.isArray(c)?c[0]:Eu(Rc(t[gr]),c):Eu(t,n.next)}}return null}function uy(t,n){return null!==n?t[gr][$o].projection[n.projection]:null}function G0(t,n){const s=Qr+t+1;if(s<n.length){const c=n[s],f=c[Jn].firstChild;if(null!==f)return Eu(c,f)}return n[tl]}function hm(t,n,s){t.removeChild(null,n,s)}function W0(t,n,s,c,f,C,N){for(;null!=s;){if(128===s.type){s=s.next;continue}const ie=c[s.index],he=s.type;if(N&&0===n&&(ie&&_o(Ns(ie),c),s.flags|=2),32&~s.flags)if(8&he)W0(t,n,s.child,c,f,C,!1),bh(n,t,f,ie,C);else if(32&he){const Ne=N0(s,c);let it;for(;it=Ne();)bh(n,t,f,it,C);bh(n,t,f,ie,C)}else 16&he?fy(t,n,c,s,f,C):bh(n,t,f,ie,C);s=N?s.projectionNext:s.next}}function fm(t,n,s,c,f,C){W0(s,c,t.firstChild,n,f,C,!1)}function fy(t,n,s,c,f,C){const N=s[gr],he=N[$o].projection[c.projection];if(Array.isArray(he))for(let Ne=0;Ne<he.length;Ne++)bh(n,t,f,he[Ne],C);else{let Ne=he;const it=N[$r];pu(c)&&(Ne.flags|=128),W0(t,n,Ne,it,f,C,!0)}}function qC(t,n,s){""===s?t.removeAttribute(n,"class"):t.setAttribute(n,"class",s)}function eM(t,n,s){const{mergedAttrs:c,classes:f,styles:C}=s;null!==c&&xl(t,n,c),null!==f&&qC(t,n,f),null!==C&&function e2(t,n,s){t.setAttribute(n,"style",s)}(t,n,C)}const ms={};function my(t=1){_y(vs(),Fn(),ea()+t,!1)}function _y(t,n,s,c){if(!c)if(3&~n[ki]){const C=t.preOrderHooks;null!==C&&ru(n,C,0,s)}else{const C=t.preOrderCheckHooks;null!==C&&_l(n,C,s)}su(s)}function Ff(t,n=fs.Default){const s=Fn();return null===s?Zi(t,n):Op(er(),s,Di(t),n)}function gy(){throw new Error("invalid")}function vy(t,n,s,c,f,C){const N=_(null);try{let ie=null;f&Wn.SignalBased&&(ie=n[c][m]),null!==ie&&void 0!==ie.transformFn&&(C=ie.transformFn(C)),f&Wn.HasDecoratorInputTransform&&(C=t.inputTransforms[c].call(n,C)),null!==t.setInput?t.setInput(n,ie,C,s,c):i_(n,ie,c,C)}finally{_(N)}}function ug(t,n,s,c,f,C,N,ie,he,Ne,it){const Nt=n.blueprint.slice();return Nt[yi]=f,Nt[ki]=204|c,(null!==Ne||t&&2048&t[ki])&&(Nt[ki]|=2048),l_(Nt),Nt[$r]=Nt[_r]=t,Nt[mr]=s,Nt[Rl]=N||t&&t[Rl],Nt[Oi]=ie||t&&t[Oi],Nt[Yr]=he||t&&t[Yr]||null,Nt[$o]=C,Nt[xc]=function $p(){return F_++}(),Nt[Zo]=it,Nt[Tv]=Ne,Nt[gr]=2==n.type?t[gr]:Nt,Nt}function kd(t,n,s,c,f){let C=t.data[n];if(null===C)C=yy(t,n,s,c,f),function Pc(){return is.lFrame.inI18n}()&&(C.flags|=32);else if(64&C.type){C.type=s,C.value=c,C.attrs=f;const N=iu();C.injectorIndex=null===N?-1:N.injectorIndex}return Ca(C,!0),C}function yy(t,n,s,c,f){const C=yp(),N=Ep(),he=t.data[n]=function fg(t,n,s,c,f,C){let N=n?n.injectorIndex:-1,ie=0;return kc()&&(ie|=128),{type:s,index:c,insertBeforeIndex:null,injectorIndex:N,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:ie,providerIndexes:0,value:f,attrs:C,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,N?C:C&&C.parent,s,n,c,f);return null===t.firstChild&&(t.firstChild=he),null!==C&&(N?null==C.child&&null!==he.parent&&(C.child=he):null===C.next&&(C.next=he,he.prev=C)),he}function Lf(t,n,s,c){if(0===s)return-1;const f=n.length;for(let C=0;C<s;C++)n.push(c),t.blueprint.push(c),t.data.push(null);return f}function Ey(t,n,s,c,f){const C=ea(),N=2&c;try{su(-1),N&&n.length>Si&&_y(t,n,Si,!1),Pl(N?2:0,f),s(c,f)}finally{su(C),Pl(N?3:1,f)}}function vr(t,n,s){if(zh(n)){const c=_(null);try{const C=n.directiveEnd;for(let N=n.directiveStart;N<C;N++){const ie=t.data[N];ie.contentQueries&&ie.contentQueries(1,s[N],N)}}finally{_(c)}}}function pm(t,n,s){u_()&&(function aM(t,n,s,c){const f=s.directiveStart,C=s.directiveEnd;Oc(s)&&function _g(t,n,s){const c=xo(n,t),f=hg(s);let N=16;s.signals?N=4096:s.onPush&&(N=64);const ie=yh(t,ug(t,f,null,N,c,n,null,t[Rl].rendererFactory.createRenderer(c,s),null,null,null));t[n.index]=ie}(n,s,t.data[f+s.componentOffset]),t.firstCreatePass||lf(s,n),_o(c,n);const N=s.initialInputs;for(let ie=f;ie<C;ie++){const he=t.data[ie],Ne=_d(n,t,ie,s);_o(Ne,n),null!==N&&Q0(0,ie-f,Ne,he,0,N),nl(he)&&(il(s.index,n)[mr]=_d(n,t,ie,s))}}(t,n,s,xo(s,n)),!(64&~s.flags)&&wy(t,n,s))}function z0(t,n,s=xo){const c=n.localNames;if(null!==c){let f=n.index+1;for(let C=0;C<c.length;C+=2){const N=c[C+1],ie=-1===N?s(n,t):t[N];t[f++]=ie}}}function hg(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=K0(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function K0(t,n,s,c,f,C,N,ie,he,Ne,it){const Nt=Si+c,sn=Nt+f,fn=function tM(t,n){const s=[];for(let c=0;c<n;c++)s.push(c<t?null:ms);return s}(Nt,sn),Cn="function"==typeof Ne?Ne():Ne;return fn[Jn]={type:t,blueprint:fn,template:s,queries:null,viewQuery:ie,declTNode:n,data:fn.slice().fill(null,Nt),bindingStartIndex:Nt,expandoStartIndex:sn,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof C?C():C,pipeRegistry:"function"==typeof N?N():N,firstChild:null,schemas:he,consts:Cn,incompleteFirstPass:!1,ssrId:it}}let Cy=()=>null;function Ty(t,n,s,c,f){for(let C in n){if(!n.hasOwnProperty(C))continue;const N=n[C];if(void 0===N)continue;c??={};let ie,he=Wn.None;Array.isArray(N)?(ie=N[0],he=N[1]):ie=N;let Ne=C;if(null!==f){if(!f.hasOwnProperty(C))continue;Ne=f[C]}0===t?Dy(c,s,Ne,ie,he):Dy(c,s,Ne,ie)}return c}function Dy(t,n,s,c,f){let C;t.hasOwnProperty(s)?(C=t[s]).push(n,c):C=t[s]=[n,c],void 0!==f&&C.push(f)}function al(t,n,s,c,f,C,N,ie){const he=xo(n,s);let it,Ne=n.inputs;!ie&&null!=Ne&&(it=Ne[c])?(q0(t,s,it,c,f),Oc(n)&&function Iy(t,n){const s=il(n,t);16&s[ki]||(s[ki]|=64)}(s,n.index)):3&n.type&&(c=function oM(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(c),f=null!=N?N(f,n.value||"",c):f,C.setProperty(he,c,f))}function ko(t,n,s,c){if(u_()){const f=null===c?null:{"":-1},C=function xy(t,n){const s=t.directiveRegistry;let c=null,f=null;if(s)for(let C=0;C<s.length;C++){const N=s[C];if(ep(n,N.selectors,!1))if(c||(c=[]),nl(N))if(null!==N.findHostDirectiveDefs){const ie=[];f=f||new Map,N.findHostDirectiveDefs(N,ie,f),c.unshift(...ie,N),Y0(t,n,ie.length)}else c.unshift(N),Y0(t,n,0);else f=f||new Map,N.findHostDirectiveDefs?.(N,c,f),c.push(N)}return null===c?null:[c,f]}(t,s);let N,ie;null===C?N=ie=null:[N,ie]=C,null!==N&&Sy(t,n,s,N,f,ie),f&&function lM(t,n,s){if(n){const c=t.localNames=[];for(let f=0;f<n.length;f+=2){const C=s[n[f+1]];if(null==C)throw new Yn(-301,!1);c.push(n[f],C)}}}(s,c,f)}s.mergedAttrs=ho(s.mergedAttrs,s.attrs)}function Sy(t,n,s,c,f,C){for(let Ne=0;Ne<c.length;Ne++)cf(lf(s,n),t,c[Ne].type);!function Oy(t,n,s){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+s,t.providerIndexes=n}(s,t.data.length,c.length);for(let Ne=0;Ne<c.length;Ne++){const it=c[Ne];it.providersResolver&&it.providersResolver(it)}let N=!1,ie=!1,he=Lf(t,n,c.length,null);for(let Ne=0;Ne<c.length;Ne++){const it=c[Ne];s.mergedAttrs=ho(s.mergedAttrs,it.hostAttrs),dM(t,s,n,he,it),cM(he,it,f),null!==it.contentQueries&&(s.flags|=4),(null!==it.hostBindings||null!==it.hostAttrs||0!==it.hostVars)&&(s.flags|=64);const Nt=it.type.prototype;!N&&(Nt.ngOnChanges||Nt.ngOnInit||Nt.ngDoCheck)&&((t.preOrderHooks??=[]).push(s.index),N=!0),!ie&&(Nt.ngOnChanges||Nt.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(s.index),ie=!0),he++}!function H0(t,n,s){const f=n.directiveEnd,C=t.data,N=n.attrs,ie=[];let he=null,Ne=null;for(let it=n.directiveStart;it<f;it++){const Nt=C[it],sn=s?s.get(Nt):null,Cn=sn?sn.outputs:null;he=Ty(0,Nt.inputs,it,he,sn?sn.inputs:null),Ne=Ty(1,Nt.outputs,it,Ne,Cn);const Ln=null===he||null===N||Wd(n)?null:Ay(he,it,N);ie.push(Ln)}null!==he&&(he.hasOwnProperty("class")&&(n.flags|=8),he.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=ie,n.inputs=he,n.outputs=Ne}(t,s,C)}function wy(t,n,s){const c=s.directiveStart,f=s.directiveEnd,C=s.index,N=function Pa(){return is.lFrame.currentDirectiveIndex}();try{su(C);for(let ie=c;ie<f;ie++){const he=t.data[ie],Ne=n[ie];Hu(ie),(null!==he.hostBindings||0!==he.hostVars||null!==he.hostAttrs)&&mg(he,Ne)}}finally{su(-1),Hu(N)}}function mg(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Y0(t,n,s){n.componentOffset=s,(t.components??=[]).push(n.index)}function cM(t,n,s){if(s){if(n.exportAs)for(let c=0;c<n.exportAs.length;c++)s[n.exportAs[c]]=t;nl(n)&&(s[""]=t)}}function dM(t,n,s,c,f){t.data[c]=f;const C=f.factory||(f.factory=lo(f.type)),N=new Fc(C,nl(f),Ff);t.blueprint[c]=N,s[c]=N,function mm(t,n,s,c,f){const C=f.hostBindings;if(C){let N=t.hostBindingOpCodes;null===N&&(N=t.hostBindingOpCodes=[]);const ie=~n.index;(function _m(t){let n=t.length;for(;n>0;){const s=t[--n];if("number"==typeof s&&s<0)return s}return 0})(N)!=ie&&N.push(ie),N.push(s,c,C)}}(t,n,c,Lf(t,s,f.hostVars,ms),f)}function Cu(t,n,s,c,f,C,N){if(null==C)t.removeAttribute(n,f,s);else{const ie=null==N?ji(C):N(C,c||"",f);t.setAttribute(n,f,ie,s)}}function Q0(t,n,s,c,f,C){const N=C[n];if(null!==N)for(let ie=0;ie<N.length;)vy(c,s,N[ie++],N[ie++],N[ie++],N[ie++])}function Ay(t,n,s){let c=null,f=0;for(;f<s.length;){const C=s[f];if(0!==C)if(5!==C){if("number"==typeof C)break;if(t.hasOwnProperty(C)){null===c&&(c=[]);const N=t[C];for(let ie=0;ie<N.length;ie+=3)if(N[ie]===n){c.push(C,N[ie+1],N[ie+2],s[f+1]);break}}f+=2}else f+=2;else f+=4}return c}function Ry(t,n,s,c){return[t,!0,0,n,null,c,null,s,null,null]}function gg(t,n){const s=t.contentQueries;if(null!==s){const c=_(null);try{for(let f=0;f<s.length;f+=2){const N=s[f+1];if(-1!==N){const ie=t.data[N];hd(s[f]),ie.contentQueries(2,n[N],N)}}}finally{_(c)}}}function yh(t,n){return t[Yd]?t[wc][qa]=n:t[Yd]=n,t[wc]=n,n}function vg(t,n,s){hd(0);const c=_(null);try{n(t,s)}finally{_(c)}}function J0(t){return t[ad]??=[]}function bg(t){return t.cleanup??=[]}function Z0(t,n,s){return(null===t||nl(t))&&(s=function pp(t){for(;Array.isArray(t);){if("object"==typeof t[ap])return t;t=t[yi]}return null}(s[n.index])),s[Oi]}function yg(t,n){const s=t[Yr],c=s?s.get(pc,null):null;c&&c.handleError(n)}function q0(t,n,s,c,f){for(let C=0;C<s.length;){const N=s[C++],ie=s[C++],he=s[C++];vy(t.data[N],n[N],c,ie,he,f)}}function Tl(t,n,s){const c=Gu(n,t);ag(t[Oi],c,s)}function e1(t,n){const s=il(n,t),c=s[Jn];!function hM(t,n){for(let s=n.length;s<t.blueprint.length;s++)n.push(t.blueprint[s])}(c,s);const f=s[yi];null!==f&&null===s[Zo]&&(s[Zo]=Qp(f,s[Yr])),t1(c,s,s[mr])}function t1(t,n,s){Fl(n);try{const c=t.viewQuery;null!==c&&vg(1,c,s);const f=t.template;null!==f&&Ey(t,n,f,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),n[lc]?.finishViewCreation(t),t.staticContentQueries&&gg(t,n),t.staticViewQueries&&vg(2,t.viewQuery,s);const C=t.components;null!==C&&function Nf(t,n){for(let s=0;s<n.length;s++)e1(t,n[s])}(n,C)}catch(c){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),c}finally{n[ki]&=-5,uc()}}function Eh(t,n,s,c){const f=_(null);try{const C=n.tView,he=ug(t,C,s,4096&t[ki]?4096:16,null,n,null,null,c?.injector??null,c?.embeddedViewInjector??null,c?.dehydratedView??null);he[kl]=t[n.index];const it=t[lc];return null!==it&&(he[lc]=it.createEmbeddedView(C)),t1(C,he,s),he}finally{_(f)}}function ky(t,n){const s=Qr+n;if(s<t.length)return t[s]}function Ch(t,n){return!n||null===n.firstChild||pu(t)}function Bf(t,n,s,c=!0){const f=n[Jn];if(function XC(t,n,s,c){const f=Qr+c,C=s.length;c>0&&(s[f-1][qa]=n),c<C-Qr?(n[qa]=s[f],wa(s,Qr+c,n)):(s.push(n),n[qa]=null),n[$r]=s;const N=n[kl];null!==N&&s!==N&&sy(N,n);const ie=n[lc];null!==ie&&ie.insertView(t),Wu(n),n[ki]|=128}(f,n,t,s),c){const N=G0(s,t),ie=n[Oi],he=cg(ie,t[tl]);null!==he&&function KC(t,n,s,c,f,C){c[yi]=f,c[$o]=n,fm(t,c,s,1,f,C)}(f,t[$o],ie,n,he,N)}const C=n[Zo];null!==C&&null!==C.firstChild&&(C.firstChild=null)}function n1(t,n){const s=dm(t,n);return void 0!==s&&um(s[Jn],s),s}function Mu(t,n,s,c,f=!1){for(;null!==s;){if(128===s.type){s=f?s.projectionNext:s.next;continue}const C=n[s.index];null!==C&&c.push(Ns(C)),qo(C)&&Py(C,c);const N=s.type;if(8&N)Mu(t,n,s.child,c);else if(32&N){const ie=N0(s,n);let he;for(;he=ie();)c.push(he)}else if(16&N){const ie=uy(n,s);if(Array.isArray(ie))c.push(...ie);else{const he=Rc(n[gr]);Mu(he[Jn],he,ie,c,!0)}}s=f?s.projectionNext:s.next}return c}function Py(t,n){for(let s=Qr;s<t.length;s++){const c=t[s],f=c[Jn].firstChild;null!==f&&Mu(c[Jn],c,f,n)}t[tl]!==t[yi]&&n.push(t[tl])}let Fy=[];const s1={...S,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{gp(t.lView)},consumerOnSignalRead(){this.lView[el]=this}},Ny={...S,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let n=Rc(t.lView);for(;n&&!By(n[Jn]);)n=Rc(n);n&&Xh(n)},consumerOnSignalRead(){this.lView[el]=this}};function By(t){return 2!==t.type}const mM=100;function Wc(t,n=!0,s=0){const c=t[Rl],f=c.rendererFactory;f.begin?.();try{!function jf(t,n){const s=__();try{Ku(!0),r1(t,n);let c=0;for(;_p(t);){if(c===mM)throw new Yn(103,!1);c++,r1(t,1)}}finally{Ku(s)}}(t,s)}catch(N){throw n&&yg(t,N),N}finally{f.end?.(),c.inlineEffectRunner?.flush()}}function _M(t,n,s,c){const f=n[ki];if(!(256&~f))return;n[Rl].inlineEffectRunner?.flush(),Fl(n);let ie=!0,he=null,Ne=null;By(t)?(Ne=function fM(t){return t[el]??function Uf(t){const n=Fy.pop()??Object.create(s1);return n.lView=t,n}(t)}(n),he=G(Ne)):null===function g(){return i}()?(ie=!1,Ne=function Ly(t){const n=t[el]??Object.create(Ny);return n.lView=t,n}(n),he=G(Ne)):n[el]&&(H(n[el]),n[el]=null);try{l_(n),function sl(t){return is.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&Ey(t,n,s,2,c);const it=!(3&~f);if(it){const fn=t.preOrderCheckHooks;null!==fn&&_l(n,fn,null)}else{const fn=t.preOrderHooks;null!==fn&&ru(n,fn,0,null),gl(n,0)}if(function gM(t){for(let n=m0(t);null!==n;n=j_(n)){if(!(n[ki]&Jd.HasTransplantedViews))continue;const s=n[Uu];for(let c=0;c<s.length;c++)Xh(s[c])}}(n),Uy(n,0),null!==t.contentQueries&&gg(t,n),it){const fn=t.contentCheckHooks;null!==fn&&_l(n,fn)}else{const fn=t.contentHooks;null!==fn&&ru(n,fn,1),gl(n,1)}!function by(t,n){const s=t.hostBindingOpCodes;if(null!==s)try{for(let c=0;c<s.length;c++){const f=s[c];if(f<0)su(~f);else{const C=f,N=s[++c],ie=s[++c];ka(N,C),ie(2,n[C])}}}finally{su(-1)}}(t,n);const Nt=t.components;null!==Nt&&Dr(n,Nt,0);const sn=t.viewQuery;if(null!==sn&&vg(2,sn,c),it){const fn=t.viewCheckHooks;null!==fn&&_l(n,fn)}else{const fn=t.viewHooks;null!==fn&&ru(n,fn,2),gl(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[op]){for(const fn of n[op])fn();n[op]=null}n[ki]&=-73}catch(it){throw gp(n),it}finally{null!==Ne&&(K(Ne,he),ie&&function pM(t){t.lView[el]!==t&&(t.lView=null,Fy.push(t))}(Ne)),uc()}}function Uy(t,n){for(let s=m0(t);null!==s;s=j_(s))for(let c=Qr;c<s.length;c++)jy(s[c],n)}function vM(t,n,s){jy(il(n,t),s)}function jy(t,n){a_(t)&&r1(t,n)}function r1(t,n){const c=t[Jn],f=t[ki],C=t[el];let N=!!(0===n&&16&f);if(N||=!!(64&f&&0===n),N||=!!(1024&f),N||=!(!C?.dirty||!F(C)),N||=!1,C&&(C.dirty=!1),t[ki]&=-9217,N)_M(c,t,c.template,t[mr]);else if(8192&f){Uy(t,1);const ie=c.components;null!==ie&&Dr(t,ie,1)}}function Dr(t,n,s){for(let c=0;c<n.length;c++)vM(t,n[c],s)}function gm(t,n){const s=__()?64:1088;for(t[Rl].changeDetectionScheduler?.notify(n);t;){t[ki]|=s;const c=Rc(t);if($u(t)&&!c)return t;t=c}return null}class zc{get rootNodes(){const n=this._lView,s=n[Jn];return Mu(s,n,s.firstChild,[])}constructor(n,s,c=!0){this._lView=n,this._cdRefInjectingView=s,this.notifyErrorHandler=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[mr]}set context(n){this._lView[mr]=n}get destroyed(){return!(256&~this._lView[ki])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[$r];if(qo(n)){const s=n[8],c=s?s.indexOf(this):-1;c>-1&&(dm(n,c),Fh(s,c))}this._attachedToViewContainer=!1}um(this._lView[Jn],this._lView)}onDestroy(n){nu(this._lView,n)}markForCheck(){gm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ki]&=-129}reattach(){Wu(this._lView),this._lView[ki]|=128}detectChanges(){this._lView[ki]|=1024,Wc(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Yn(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=$u(this._lView),s=this._lView[kl];null!==s&&!n&&U0(s,this._lView),gc(this._lView[Jn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Yn(902,!1);this._appRef=n;const s=$u(this._lView),c=this._lView[kl];null!==c&&!s&&sy(c,this._lView),Wu(this._lView)}}let vm=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=$f}return t})();const Tu=vm,Ba=class extends Tu{constructor(n,s,c){super(),this._declarationLView=n,this._declarationTContainer=s,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,s){return this.createEmbeddedViewImpl(n,s)}createEmbeddedViewImpl(n,s,c){const f=Eh(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:s,dehydratedView:c});return new zc(f)}};function $f(){return bm(er(),Fn())}function bm(t,n){return 4&t.type?new Ba(n,t,hu(t,n)):null}function c1(t,n,s){const c=n.insertBeforeIndex,f=Array.isArray(c)?c[0]:c;return null===f?ly(t,0,s):Ns(s[f])}function d1(t,n,s,c,f){const C=n.insertBeforeIndex;if(Array.isArray(C)){let N=c,ie=null;if(3&n.type||(ie=N,N=f),null!==N&&-1===n.componentOffset)for(let he=1;he<C.length;he++)yu(t,N,s[C[he]],ie,!1)}}function Mg(t,n){if(t.push(n),t.length>1)for(let s=t.length-2;s>=0;s--){const c=t[s];Hy(c)||Tg(c,n)&&null===CM(c)&&xs(c,n.index)}}function Hy(t){return!(64&t.type)}function Tg(t,n){return Hy(n)||t.index>n.index}function CM(t){const n=t.insertBeforeIndex;return Array.isArray(n)?n[0]:n}function xs(t,n){const s=t.insertBeforeIndex;Array.isArray(s)?s[0]=n:(dy(c1,d1),t.insertBeforeIndex=n)}function as(t,n){const s=t.data[n];return null===s||"string"==typeof s?null:s.hasOwnProperty("currentCaseLViewIndex")?s:s.value}function MM(t,n,s){const c=yy(t,s,64,null,null);return Mg(n,c),c}function Dm(t,n){const s=n[t.currentCaseLViewIndex];return null===s?s:s<0?~s:s}function Xy(t){return t>>>17}function u1(t){return(131070&t)>>>1}function Dg(t,n,s){t.index=0;const c=Dm(n,s);t.removes=null!==c?n.remove[c]:As}function Im(t){if(t.index<t.removes.length){const n=t.removes[t.index++];return n>0?t.lView[n]:(t.stack.push(t.index,t.removes),Dg(t,t.lView[Jn].data[~n],t.lView),Im(t))}return 0===t.stack.length?null:(t.removes=t.stack.pop(),t.index=t.stack.pop(),Im(t))}function Qy(){const t={stack:[],index:-1};return function n(s,c){for(t.lView=c;t.stack.length;)t.stack.pop();return Dg(t,s.value,c),Im.bind(null,t)}}let iE=()=>{},Kc=()=>{},kg=()=>null;function wu(t,n){return kg(t,n)}class Dh{}const Wf=new qt("",{providedIn:"root",factory:()=>!1}),Ld=new qt(""),y1=new qt("");class NM{}class aE{}class UM{resolveComponentFactory(n){throw function BM(t){const n=Error(`No component factory found for ${Ts(t)}.`);return n.ngComponent=t,n}(n)}}class Om{static#e=this.NULL=new UM}class Pg{}let jM=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function $M(){const t=Fn(),s=il(er().index,t);return(Rs(s)?s:t)[Oi]}()}return t})(),VM=(()=>{class t{static#e=this.\u0275prov=Ds({token:t,providedIn:"root",factory:()=>null})}return t})();function Hc(t){return!!ps(t)}function Lg(t,n,s){let c=s?t.styles:null,f=s?t.classes:null,C=0;if(null!==n)for(let N=0;N<n.length;N++){const ie=n[N];"number"==typeof ie?C=ie:1==C?f=Qo(f,ie):2==C&&(c=Qo(c,ie+": "+n[++N]+";"))}s?t.styles=c:t.stylesWithoutHost=c,s?t.classes=f:t.classesWithoutHost=f}class km extends Om{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const s=vi(n);return new Xc(s,this.ngModule)}}function hE(t,n){const s=[];for(const c in t){if(!t.hasOwnProperty(c))continue;const f=t[c];if(void 0===f)continue;const C=Array.isArray(f),N=C?f[0]:f;s.push(n?{propName:N,templateName:c,isSignal:!!((C?f[1]:Wn.None)&Wn.SignalBased)}:{propName:N,templateName:c})}return s}class Xc extends aE{get inputs(){const n=this.componentDef,s=n.inputTransforms,c=hE(n.inputs,!0);if(null!==s)for(const f of c)s.hasOwnProperty(f.propName)&&(f.transform=s[f.propName]);return c}get outputs(){return hE(this.componentDef.outputs,!1)}constructor(n,s){super(),this.componentDef=n,this.ngModule=s,this.componentType=n.type,this.selector=function _e(t){return t.map(de).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!s}create(n,s,c,f){const C=_(null);try{let N=(f=f||this.ngModule)instanceof Ar?f:f?.injector;N&&null!==this.componentDef.getStandaloneInjector&&(N=this.componentDef.getStandaloneInjector(N)||N);const ie=N?new Fa(n,N):n,he=ie.get(Pg,null);if(null===he)throw new Yn(407,!1);const Nt={rendererFactory:he,sanitizer:ie.get(VM,null),inlineEffectRunner:null,changeDetectionScheduler:ie.get(Dh,null)},sn=he.createRenderer(null,this.componentDef),fn=this.componentDef.selectors[0][0]||"div",Cn=c?function nM(t,n,s,c){const C=c.get(Z_,!1)||s===nc.ShadowDom,N=t.selectRootElement(n,C);return function iM(t){Cy(t)}(N),N}(sn,c,this.componentDef.encapsulation,ie):lg(sn,fn,function WM(t){const n=t.toLowerCase();return"svg"===n?ud:"math"===n?"math":null}(fn));let Ln=512;this.componentDef.signals?Ln|=4096:this.componentDef.onPush||(Ln|=16);let ti=null;null!==Cn&&(ti=Qp(Cn,ie,!0));const oi=K0(0,null,null,1,0,null,null,null,null,null,null),Nn=ug(null,oi,null,Ln,null,null,Nt,sn,ie,null,ti);Fl(Nn);let _s,zs,Rr=null;try{const Wo=this.componentDef;let Xl,gv=null;Wo.findHostDirectiveDefs?(Xl=[],gv=new Map,Wo.findHostDirectiveDefs(Wo,Xl,gv),Xl.push(Wo)):Xl=[Wo];const dx=function KM(t,n){const s=t[Jn],c=Si;return t[c]=n,kd(s,c,2,"#host",null)}(Nn,Cn);Rr=function HM(t,n,s,c,f,C,N){const ie=f[Jn];!function XM(t,n,s,c){for(const f of t)n.mergedAttrs=ho(n.mergedAttrs,f.hostAttrs);null!==n.mergedAttrs&&(Lg(n,n.mergedAttrs,!0),null!==s&&eM(c,s,n))}(c,t,n,N);let he=null;null!==n&&(he=Qp(n,f[Yr]));const Ne=C.rendererFactory.createRenderer(n,s);let it=16;s.signals?it=4096:s.onPush&&(it=64);const Nt=ug(f,hg(s),null,it,f[t.index],t,C,Ne,null,null,he);return ie.firstCreatePass&&Y0(ie,t,c.length-1),yh(f,Nt),f[t.index]=Nt}(dx,Cn,Wo,Xl,Nn,Nt,sn),zs=tu(oi,Si),Cn&&function QM(t,n,s,c){if(c)xl(t,s,["ng-version","18.2.3"]);else{const{attrs:f,classes:C}=function nt(t){const n=[],s=[];let c=1,f=2;for(;c<t.length;){let C=t[c];if("string"==typeof C)2===f?""!==C&&n.push(C,t[++c]):8===f&&s.push(C);else{if(!Cr(f))break;f=C}c++}return{attrs:n,classes:s}}(n.selectors[0]);f&&xl(t,s,f),C&&C.length>0&&qC(t,s,C.join(" "))}}(sn,Wo,Cn,c),void 0!==s&&function JM(t,n,s){const c=t.projection=[];for(let f=0;f<n.length;f++){const C=s[f];c.push(null!=C?Array.from(C):null)}}(zs,this.ngContentSelectors,s),_s=function YM(t,n,s,c,f,C){const N=er(),ie=f[Jn],he=xo(N,f);Sy(ie,f,N,s,null,c);for(let it=0;it<s.length;it++)_o(_d(f,ie,N.directiveStart+it,N),f);wy(ie,f,N),he&&_o(he,f);const Ne=_d(f,ie,N.directiveStart+N.componentOffset,N);if(t[mr]=f[mr]=Ne,null!==C)for(const it of C)it(Ne,n);return vr(ie,N,f),Ne}(Rr,Wo,Xl,gv,Nn,[ZM]),t1(oi,Nn,null)}catch(Wo){throw null!==Rr&&Vp(Rr),Vp(Nn),Wo}finally{uc()}return new zM(this.componentType,_s,hu(zs,Nn),Nn,zs)}finally{_(C)}}}class zM extends NM{constructor(n,s,c,f,C){super(),this.location=c,this._rootLView=f,this._tNode=C,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new zc(f,void 0,!1),this.componentType=n}setInput(n,s){const c=this._tNode.inputs;let f;if(null!==c&&(f=c[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),s))return;const C=this._rootLView;q0(C[Jn],C,f,n,s),this.previousInputValues.set(n,s),gm(il(this._tNode.index,C),1)}}get injector(){return new mo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function ZM(){const t=er();Ip(Fn()[Jn],t)}let Ih=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=qM}return t})();function qM(){return pE(er(),Fn())}const eT=Ih,fE=class extends eT{constructor(n,s,c){super(),this._lContainer=n,this._hostTNode=s,this._hostLView=c}get element(){return hu(this._hostTNode,this._hostLView)}get injector(){return new mo(this._hostTNode,this._hostLView)}get parentInjector(){const n=Nc(this._hostTNode,this._hostLView);if(nf(n)){const s=rf(n,this._hostLView),c=sf(n);return new mo(s[Jn].data[c+8],s)}return new mo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const s=Ng(this._lContainer);return null!==s&&s[n]||null}get length(){return this._lContainer.length-Qr}createEmbeddedView(n,s,c){let f,C;"number"==typeof c?f=c:null!=c&&(f=c.index,C=c.injector);const N=wu(this._lContainer,n.ssrId),ie=n.createEmbeddedViewImpl(s||{},C,N);return this.insertImpl(ie,f,Ch(this._hostTNode,N)),ie}createComponent(n,s,c,f,C){const N=n&&!function Nu(t){return"function"==typeof t}(n);let ie;if(N)ie=s;else{const Cn=s||{};ie=Cn.index,c=Cn.injector,f=Cn.projectableNodes,C=Cn.environmentInjector||Cn.ngModuleRef}const he=N?n:new Xc(vi(n)),Ne=c||this.parentInjector;if(!C&&null==he.ngModule){const Ln=(N?Ne:this.parentInjector).get(Ar,null);Ln&&(C=Ln)}const it=vi(he.componentType??{}),Nt=wu(this._lContainer,it?.id??null),fn=he.create(Ne,f,Nt?.firstChild??null,C);return this.insertImpl(fn.hostView,ie,Ch(this._hostTNode,Nt)),fn}insert(n,s){return this.insertImpl(n,s,!0)}insertImpl(n,s,c){const f=n._lView;if(function _b(t){return qo(t[$r])}(f)){const ie=this.indexOf(n);if(-1!==ie)this.detach(ie);else{const he=f[$r],Ne=new fE(he,he[$o],he[$r]);Ne.detach(Ne.indexOf(n))}}const C=this._adjustIndex(s),N=this._lContainer;return Bf(N,f,C,c),n.attachToViewContainerRef(),wa(Bg(N),C,n),n}move(n,s){return this.insert(n,s)}indexOf(n){const s=Ng(this._lContainer);return null!==s?s.indexOf(n):-1}remove(n){const s=this._adjustIndex(n,-1),c=dm(this._lContainer,s);c&&(Fh(Bg(this._lContainer),s),um(c[Jn],c))}detach(n){const s=this._adjustIndex(n,-1),c=dm(this._lContainer,s);return c&&null!=Fh(Bg(this._lContainer),s)?new zc(c):null}_adjustIndex(n,s=0){return n??this.length+s}};function Ng(t){return t[8]}function Bg(t){return t[8]||(t[8]=[])}function pE(t,n){let s;const c=n[t.index];return qo(c)?s=c:(s=Ry(c,n,null,t),n[t.index]=s,yh(n,s)),mE(s,n,t,c),new fE(s,t,n)}let mE=function gE(t,n,s,c){if(t[tl])return;let f;f=8&s.type?Ns(c):function tT(t,n){const s=t[Oi],c=s.createComment(""),f=xo(n,t);return yu(s,cg(s,f),c,function JC(t,n){return t.nextSibling(n)}(s,f),!1),c}(n,s),t[tl]=f},C1=()=>!1;class Ug{constructor(n){this.queryList=n,this.matches=null}clone(){return new Ug(this.queryList)}setDirty(){this.queryList.setDirty()}}class jg{constructor(n=[]){this.queries=n}createEmbeddedView(n){const s=n.queries;if(null!==s){const c=null!==n.contentQueries?n.contentQueries[0]:s.length,f=[];for(let C=0;C<c;C++){const N=s.getByIndex(C);f.push(this.queries[N.indexInDeclarationView].clone())}return new jg(f)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let s=0;s<this.queries.length;s++)null!==Fm(n,s).matches&&this.queries[s].setDirty()}}class $g{constructor(n,s,c=null){this.flags=s,this.read=c,this.predicate="string"==typeof n?function EE(t){return t.split(",").map(n=>n.trim())}(n):n}}class T1{constructor(n=[]){this.queries=n}elementStart(n,s){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(n,s)}elementEnd(n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(n)}embeddedTView(n){let s=null;for(let c=0;c<this.length;c++){const f=null!==s?s.length:0,C=this.getByIndex(c).embeddedTView(n,f);C&&(C.indexInDeclarationView=c,null!==s?s.push(C):s=[C])}return null!==s?new T1(s):null}template(n,s){for(let c=0;c<this.queries.length;c++)this.queries[c].template(n,s)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Vg{constructor(n,s=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(n,s){this.isApplyingToNode(s)&&this.matchTNode(n,s)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,s){this.elementStart(n,s)}embeddedTView(n,s){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,s),new Vg(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const s=this._declarationNodeIndex;let c=n.parent;for(;null!==c&&8&c.type&&c.index!==s;)c=c.parent;return s===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(n,s){const c=this.metadata.predicate;if(Array.isArray(c))for(let f=0;f<c.length;f++){const C=c[f];this.matchTNodeWithReadOption(n,s,sT(s,C)),this.matchTNodeWithReadOption(n,s,lu(s,n,C,!1,!1))}else c===vm?4&s.type&&this.matchTNodeWithReadOption(n,s,-1):this.matchTNodeWithReadOption(n,s,lu(s,n,c,!1,!1))}matchTNodeWithReadOption(n,s,c){if(null!==c){const f=this.metadata.read;if(null!==f)if(f===fu||f===Ih||f===vm&&4&s.type)this.addMatch(s.index,-2);else{const C=lu(s,n,f,!1,!1);null!==C&&this.addMatch(s.index,C)}else this.addMatch(s.index,c)}}addMatch(n,s){null===this.matches?this.matches=[n,s]:this.matches.push(n,s)}}function sT(t,n){const s=t.localNames;if(null!==s)for(let c=0;c<s.length;c+=2)if(s[c]===n)return s[c+1];return null}function vE(t,n,s,c){return-1===s?function D1(t,n){return 11&t.type?hu(t,n):4&t.type?bm(t,n):null}(n,t):-2===s?function bE(t,n,s){return s===fu?hu(n,t):s===vm?bm(n,t):s===Ih?pE(n,t):void 0}(t,n,c):_d(t,t[Jn],s,n)}function Gg(t,n,s,c){const f=n[lc].queries[c];if(null===f.matches){const C=t.data,N=s.matches,ie=[];for(let he=0;null!==N&&he<N.length;he+=2){const Ne=N[he];ie.push(Ne<0?null:vE(n,C[Ne],N[he+1],s.metadata.read))}f.matches=ie}return f.matches}function I1(t,n,s,c){const f=t.queries.getByIndex(s),C=f.matches;if(null!==C){const N=Gg(t,n,f,s);for(let ie=0;ie<C.length;ie+=2){const he=C[ie];if(he>0)c.push(N[ie/2]);else{const Ne=C[ie+1],it=n[-he];for(let Nt=Qr;Nt<it.length;Nt++){const sn=it[Nt];sn[kl]===sn[$r]&&I1(sn[Jn],sn,Ne,c)}if(null!==it[Uu]){const Nt=it[Uu];for(let sn=0;sn<Nt.length;sn++){const fn=Nt[sn];I1(fn[Jn],fn,Ne,c)}}}}}return c}function Pm(t,n){return t[lc].queries[n].queryList}function yE(t,n,s){const c=new vf(!(4&~s));return function My(t,n,s,c){const f=J0(n);f.push(s),t.firstCreatePass&&bg(t).push(c,f.length-1)}(t,n,c,c.destroy),(n[lc]??=new jg).queries.push(new Ug(c))-1}function Wg(t,n,s,c){const f=vs();if(f.firstCreatePass){const C=er();CE(f,new $g(n,s,c),C.index),function w1(t,n){const s=t.contentQueries||(t.contentQueries=[]);n!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,n)}(f,t),!(2&~s)&&(f.staticContentQueries=!0)}return yE(f,Fn(),s)}function CE(t,n,s){null===t.queries&&(t.queries=new T1),t.queries.track(new Vg(n,s))}function Fm(t,n){return t.queries.getByIndex(n)}function ME(t,n){const s=t[Jn],c=Fm(s,n);return c.crossesNgTemplate?I1(s,t,n,[]):Gg(s,t,c,n)}const x1=new Set;function ja(t){x1.has(t)||(x1.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function O1(t){return"function"==typeof t&&void 0!==t[m]}function TE(t,n){ja("NgSignals");const s=function fe(t){const n=Object.create(rt);n.value=t;const s=()=>(D(n),n.value);return s[m]=n,s}(t),c=s[m];return n?.equal&&(c.equal=n.equal),s.set=f=>Ct(c,f),s.update=f=>function lt(t,n){O()||k(),Ct(t,n(t.value))}(c,f),s.asReadonly=DE.bind(s),s}function DE(){const t=this[m];if(void 0===t.readonlyFn){const n=()=>this();n[m]=t,t.readonlyFn=n}return t.readonlyFn}function IE(t){return O1(t)&&"function"==typeof t.set}function A1(t,n){let s;const c=I(()=>{s._dirtyCounter();const f=function rT(t,n){const s=t._lView,c=t._queryIndex;if(void 0===s||void 0===c||4&s[ki])return n?void 0:As;const f=Pm(s,c),C=ME(s,c);return f.reset(C,gf),n?f.first:f._changesDetected||void 0===t._flatValue?t._flatValue=f.toArray():t._flatValue}(s,t);if(n&&void 0===f)throw new Yn(-951,!1);return f});return s=c[m],s._dirtyCounter=TE(0),s._flatValue=void 0,c}function OE(t,n){return function SE(){return A1(!0,!1)}()}const zg=(OE.required=function AE(t,n){return function R1(){return A1(!0,!0)}()},OE);function Um(t){let n=function NE(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const c=[t];for(;n;){let f;if(nl(t))f=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Yn(903,!1);f=n.\u0275dir}if(f){if(s){c.push(f);const N=t;N.inputs=Hg(t.inputs),N.inputTransforms=Hg(t.inputTransforms),N.declaredInputs=Hg(t.declaredInputs),N.outputs=Hg(t.outputs);const ie=f.hostBindings;ie&&bT(t,ie);const he=f.viewQuery,Ne=f.contentQueries;if(he&&gT(t,he),Ne&&vT(t,Ne),mT(t,f),No(t.outputs,f.outputs),nl(f)&&f.data.animation){const it=t.data;it.animation=(it.animation||[]).concat(f.data.animation)}}const C=f.features;if(C)for(let N=0;N<C.length;N++){const ie=C[N];ie&&ie.ngInherit&&ie(t),ie===Um&&(s=!1)}}n=Object.getPrototypeOf(n)}!function _T(t){let n=0,s=null;for(let c=t.length-1;c>=0;c--){const f=t[c];f.hostVars=n+=f.hostVars,f.hostAttrs=ho(f.hostAttrs,s=ho(s,f.hostAttrs))}}(c)}function mT(t,n){for(const s in n.inputs){if(!n.inputs.hasOwnProperty(s)||t.inputs.hasOwnProperty(s))continue;const c=n.inputs[s];if(void 0!==c&&(t.inputs[s]=c,t.declaredInputs[s]=n.declaredInputs[s],null!==n.inputTransforms)){const f=Array.isArray(c)?c[0]:c;if(!n.inputTransforms.hasOwnProperty(f))continue;t.inputTransforms??={},t.inputTransforms[f]=n.inputTransforms[f]}}}function Hg(t){return t===Oa?{}:t===As?[]:t}function gT(t,n){const s=t.viewQuery;t.viewQuery=s?(c,f)=>{n(c,f),s(c,f)}:n}function vT(t,n){const s=t.contentQueries;t.contentQueries=s?(c,f,C)=>{n(c,f,C),s(c,f,C)}:n}function bT(t,n){const s=t.hostBindings;t.hostBindings=s?(c,f)=>{n(c,f),s(c,f)}:n}function BE(t){const n=s=>{const c=(Array.isArray(t)?t:t()).map(f=>"function"==typeof f?{directive:Di(f),inputs:Oa,outputs:Oa}:{directive:Di(f.directive),inputs:jE(f.inputs),outputs:jE(f.outputs)});null===s.hostDirectives?(s.findHostDirectiveDefs=UE,s.hostDirectives=c):s.hostDirectives.unshift(...c)};return n.ngInherit=!0,n}function UE(t,n,s){if(null!==t.hostDirectives)for(const c of t.hostDirectives){const f=Ls(c.directive);MT(f.declaredInputs,c.inputs),UE(f,n,s),s.set(f,c),n.push(f)}}function jE(t){if(void 0===t||0===t.length)return Oa;const n={};for(let s=0;s<t.length;s+=2)n[t[s]]=t[s+1];return n}function MT(t,n){for(const s in n)n.hasOwnProperty(s)&&(t[n[s]]=t[s])}function $E(t){const n=t.inputConfig,s={};for(const c in n)if(n.hasOwnProperty(c)){const f=n[c];Array.isArray(f)&&f[3]&&(s[c]=f[3])}t.inputTransforms=s}class wh{}class VE{}function TT(t,n){return new j1(t,n??null,[])}class j1 extends wh{constructor(n,s,c,f=!0){super(),this.ngModuleType=n,this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new km(this);const C=ps(n);this._bootstrapComponents=Cl(C.bootstrap),this._r3Injector=th(n,s,[{provide:wh,useValue:this},{provide:Om,useValue:this.componentFactoryResolver},...c],Ts(n),new Set(["environment"])),f&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class $1 extends VE{constructor(n){super(),this.moduleType=n}create(n){return new j1(this.moduleType,n,[])}}class Yg extends wh{constructor(n){super(),this.componentFactoryResolver=new km(this),this.instance=null;const s=new Hd([...n.providers,{provide:wh,useValue:this},{provide:Om,useValue:this.componentFactoryResolver}],n.parent||Vs(),n.debugName,new Set(["environment"]));this.injector=s,n.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function V1(t,n,s=null){return new Yg({providers:t,parent:n,debugName:s,runEnvironmentInitializers:!0}).injector}function jm(t){return!!Qg(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Qg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Yc(t,n,s){return t[n]=s}function zl(t,n){return t[n]}function Lr(t,n,s){return!Object.is(t[n],s)&&(t[n]=s,!0)}function xh(t,n,s,c){const f=Lr(t,n,s);return Lr(t,n+1,c)||f}function Jg(t,n,s,c,f){const C=xh(t,n,s,c);return Lr(t,n+2,f)||C}function Dl(t,n,s,c,f,C){const N=xh(t,n,s,c);return xh(t,n+2,f,C)||N}function $m(t,n,s,c,f,C,N,ie,he,Ne){const it=s+Si,Nt=n.firstCreatePass?function WE(t,n,s,c,f,C,N,ie,he){const Ne=n.consts,it=kd(n,t,4,N||null,ie||null);ko(n,s,it,ml(Ne,he)),Ip(n,it);const Nt=it.tView=K0(2,it,c,f,C,n.directiveRegistry,n.pipeRegistry,null,n.schemas,Ne,null);return null!==n.queries&&(n.queries.template(n,it),Nt.queries=n.queries.embeddedTView(it)),it}(it,n,t,c,f,C,N,ie,he):n.data[it];Ca(Nt,!1);const sn=zE(n,t,Nt,s);fd()&&dg(n,t,sn,Nt),_o(sn,t);const fn=Ry(sn,t,sn,Nt);return t[it]=fn,yh(t,fn),function _E(t,n,s){return C1(t,n,s)}(fn,Nt,t),ju(Nt)&&pm(n,t,Nt),null!=he&&z0(t,Nt,Ne),Nt}function Kf(t,n,s,c,f,C,N,ie){const he=Fn(),Ne=vs();return $m(he,Ne,t,n,s,c,f,ml(Ne.consts,C),N,ie),Kf}let zE=function z1(t,n,s,c){return la(!0),n[Oi].createComment("")};var o=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(o||{});let r=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static#e=this.\u0275prov=Ds({token:t,providedIn:"root",factory:()=>new t})}return t})();class l{constructor(){this.ngZone=Vn(Tr),this.scheduler=Vn(Dh),this.errorHandler=Vn(pc,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static#e=this.PHASES=[o.EarlyRead,o.Write,o.MixedReadWrite,o.Read];execute(){this.executing=!0;for(const n of l.PHASES)for(const s of this.sequences)if(!s.erroredOrDestroyed&&s.hooks[n])try{s.pipelinedValue=this.ngZone.runOutsideAngular(()=>s.hooks[n](s.pipelinedValue))}catch(c){s.erroredOrDestroyed=!0,this.errorHandler?.handleError(c)}this.executing=!1;for(const n of this.sequences)n.afterRun(),n.once&&this.sequences.delete(n);for(const n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(6))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}static#t=this.\u0275prov=Ds({token:l,providedIn:"root",factory:()=>new l})}class h{constructor(n,s,c,f){this.impl=n,this.hooks=s,this.once=c,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=f.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}}function T(t,n){!n?.injector&&rd();const s=n?.injector??Vn(Ro);return Ml(s)?(ja("NgAfterRender"),ge(t,s,n,!1)):we}function V(t,n){!n?.injector&&rd();const s=n?.injector??Vn(Ro);return Ml(s)?(ja("NgAfterNextRender"),ge(t,s,n,!0)):we}function ge(t,n,s,c){const f=n.get(r);f.impl??=n.get(l);const N=new h(f.impl,function re(t,n){if(t instanceof Function){const s=[void 0,void 0,void 0,void 0];return s[n]=t,s}return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}(t,s?.phase??o.MixedReadWrite),c,n.get(nh));return f.impl.register(N),N}const we={destroy(){}};function FT(t,n,s,c){const f=Fn();return Lr(f,Ra(),n)&&(vs(),function ll(t,n,s,c,f,C){const N=xo(t,n);Cu(n[Oi],N,C,t.value,s,c,f)}(ni(),f,t,n,s,c)),FT}function sv(t,n,s,c){return Lr(t,Ra(),s)?n+ji(s)+c:ms}function QE(t,n){return t<<17|n<<2}function Qf(t){return t>>17&32767}function LT(t){return 2|t}function Km(t){return(131068&t)>>2}function NT(t,n){return-131069&t|n<<2}function BT(t){return 1|t}function F2(t,n,s,c){const f=t[s+1],C=null===n;let N=c?Qf(f):Km(f),ie=!1;for(;0!==N&&(!1===ie||C);){const Ne=t[N+1];bx(t[N],n)&&(ie=!0,t[N+1]=c?BT(Ne):LT(Ne)),N=c?Qf(Ne):Km(Ne)}ie&&(t[s+1]=c?LT(f):BT(f))}function bx(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Uo(t,n)>=0}const fa={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function L2(t){return t.substring(fa.key,fa.keyEnd)}function yx(t){return t.substring(fa.value,fa.valueEnd)}function N2(t,n){const s=fa.textEnd;return s===n?-1:(n=fa.keyEnd=function Mx(t,n,s){for(;n<s&&t.charCodeAt(n)>32;)n++;return n}(t,fa.key=n,s),hv(t,n,s))}function B2(t,n){const s=fa.textEnd;let c=fa.key=hv(t,n,s);return s===c?-1:(c=fa.keyEnd=function Tx(t,n,s){let c;for(;n<s&&(45===(c=t.charCodeAt(n))||95===c||(-33&c)>=65&&(-33&c)<=90||c>=48&&c<=57);)n++;return n}(t,c,s),c=j2(t,c,s),c=fa.value=hv(t,c,s),c=fa.valueEnd=function Dx(t,n,s){let c=-1,f=-1,C=-1,N=n,ie=N;for(;N<s;){const he=t.charCodeAt(N++);if(59===he)return ie;34===he||39===he?ie=N=$2(t,he,N,s):n===N-4&&85===C&&82===f&&76===c&&40===he?ie=N=$2(t,41,N,s):he>32&&(ie=N),C=f,f=c,c=-33&he}return ie}(t,c,s),j2(t,c,s))}function U2(t){fa.key=0,fa.keyEnd=0,fa.value=0,fa.valueEnd=0,fa.textEnd=t.length}function hv(t,n,s){for(;n<s&&t.charCodeAt(n)<=32;)n++;return n}function j2(t,n,s,c){return(n=hv(t,n,s))<s&&n++,n}function $2(t,n,s,c){let f=-1,C=s;for(;C<c;){const N=t.charCodeAt(C++);if(N==n&&92!==f)return C;f=92==N&&92===f?0:N}throw new Error}function UT(t,n,s){const c=Fn();return Lr(c,Ra(),n)&&al(vs(),ni(),c,t,n,c[Oi],s,!1),UT}function jT(t,n,s,c,f){const N=f?"class":"style";q0(t,s,n.inputs[N],N,c)}function $T(t,n,s){return Bd(t,n,s,!1),$T}function VT(t,n){return Bd(t,n,null,!0),VT}function Nd(t){Ud(z2,Ix,t,!1)}function Ix(t,n){for(let s=function Cx(t){return U2(t),B2(t,hv(t,0,fa.textEnd))}(n);s>=0;s=B2(n,s))z2(t,L2(n),yx(n))}function V2(t){Ud(Rx,Au,t,!0)}function Au(t,n){for(let s=function Ex(t){return U2(t),N2(t,hv(t,0,fa.textEnd))}(n);s>=0;s=N2(n,s))co(t,L2(n),!0)}function Bd(t,n,s,c){const f=Fn(),C=vs(),N=dc(2);C.firstUpdatePass&&W2(C,t,N,c),n!==ms&&Lr(f,N,n)&&K2(C,C.data[ea()],f,f[Oi],t,f[N+1]=function Px(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Ts(ei(t)))),t}(n,s),c,N)}function Ud(t,n,s,c){const f=vs(),C=dc(2);f.firstUpdatePass&&W2(f,null,C,c);const N=Fn();if(s!==ms&&Lr(N,C,s)){const ie=f.data[ea()];if(X2(ie,c)&&!G2(f,C)){let he=c?ie.classesWithoutHost:ie.stylesWithoutHost;null!==he&&(s=Qo(he,s||"")),jT(f,ie,N,s,c)}else!function kx(t,n,s,c,f,C,N,ie){f===ms&&(f=As);let he=0,Ne=0,it=0<f.length?f[0]:null,Nt=0<C.length?C[0]:null;for(;null!==it||null!==Nt;){const sn=he<f.length?f[he+1]:void 0,fn=Ne<C.length?C[Ne+1]:void 0;let Ln,Cn=null;it===Nt?(he+=2,Ne+=2,sn!==fn&&(Cn=Nt,Ln=fn)):null===Nt||null!==it&&it<Nt?(he+=2,Cn=it):(Ne+=2,Cn=Nt,Ln=fn),null!==Cn&&K2(t,n,s,c,Cn,Ln,N,ie),it=he<f.length?f[he]:null,Nt=Ne<C.length?C[Ne]:null}}(f,ie,N,N[Oi],N[C+1],N[C+1]=function Ax(t,n,s){if(null==s||""===s)return As;const c=[],f=ei(s);if(Array.isArray(f))for(let C=0;C<f.length;C++)t(c,f[C],!0);else if("object"==typeof f)for(const C in f)f.hasOwnProperty(C)&&t(c,C,f[C]);else"string"==typeof f&&n(c,f);return c}(t,n,s),c,C)}}function G2(t,n){return n>=t.expandoStartIndex}function W2(t,n,s,c){const f=t.data;if(null===f[s+1]){const C=f[ea()],N=G2(t,s);X2(C,c)&&null===n&&!N&&(n=!1),n=function Sx(t,n,s,c){const f=aa(t);let C=c?n.residualClasses:n.residualStyles;if(null===f)0===(c?n.classBindings:n.styleBindings)&&(s=Z1(s=GT(null,t,n,s,c),n.attrs,c),C=null);else{const N=n.directiveStylingLast;if(-1===N||t[N]!==f)if(s=GT(f,t,n,s,c),null===C){let he=function wx(t,n,s){const c=s?n.classBindings:n.styleBindings;if(0!==Km(c))return t[Qf(c)]}(t,n,c);void 0!==he&&Array.isArray(he)&&(he=GT(null,t,n,he[1],c),he=Z1(he,n.attrs,c),function xx(t,n,s,c){t[Qf(s?n.classBindings:n.styleBindings)]=c}(t,n,c,he))}else C=function Ox(t,n,s){let c;const f=n.directiveEnd;for(let C=1+n.directiveStylingLast;C<f;C++)c=Z1(c,t[C].hostAttrs,s);return Z1(c,n.attrs,s)}(t,n,c)}return void 0!==C&&(c?n.residualClasses=C:n.residualStyles=C),s}(f,C,n,c),function gx(t,n,s,c,f,C){let N=C?n.classBindings:n.styleBindings,ie=Qf(N),he=Km(N);t[c]=s;let it,Ne=!1;if(Array.isArray(s)?(it=s[1],(null===it||Uo(s,it)>0)&&(Ne=!0)):it=s,f)if(0!==he){const sn=Qf(t[ie+1]);t[c+1]=QE(sn,ie),0!==sn&&(t[sn+1]=NT(t[sn+1],c)),t[ie+1]=function mx(t,n){return 131071&t|n<<17}(t[ie+1],c)}else t[c+1]=QE(ie,0),0!==ie&&(t[ie+1]=NT(t[ie+1],c)),ie=c;else t[c+1]=QE(he,0),0===ie?ie=c:t[he+1]=NT(t[he+1],c),he=c;Ne&&(t[c+1]=LT(t[c+1])),F2(t,it,c,!0),F2(t,it,c,!1),function vx(t,n,s,c,f){const C=f?t.residualClasses:t.residualStyles;null!=C&&"string"==typeof n&&Uo(C,n)>=0&&(s[c+1]=BT(s[c+1]))}(n,it,t,c,C),N=QE(ie,he),C?n.classBindings=N:n.styleBindings=N}(f,C,n,s,N,c)}}function GT(t,n,s,c,f){let C=null;const N=s.directiveEnd;let ie=s.directiveStylingLast;for(-1===ie?ie=s.directiveStart:ie++;ie<N&&(C=n[ie],c=Z1(c,C.hostAttrs,f),C!==t);)ie++;return null!==t&&(s.directiveStylingLast=ie),c}function Z1(t,n,s){const c=s?1:2;let f=-1;if(null!==n)for(let C=0;C<n.length;C++){const N=n[C];"number"==typeof N?f=N:f===c&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),co(t,N,!!s||n[++C]))}return void 0===t?null:t}function z2(t,n,s){co(t,n,ei(s))}function Rx(t,n,s){const c=String(n);""!==c&&!c.includes(" ")&&co(t,c,s)}function K2(t,n,s,c,f,C,N,ie){if(!(3&n.type))return;const he=t.data,Ne=he[ie+1],it=function _x(t){return!(1&~t)}(Ne)?H2(he,n,s,f,Km(Ne),N):void 0;JE(it)||(JE(C)||function px(t){return!(2&~t)}(Ne)&&(C=H2(he,null,s,f,ie,N)),function qD(t,n,s,c,f){if(n)f?t.addClass(s,c):t.removeClass(s,c);else{let C=-1===c.indexOf("-")?void 0:og.DashCase;null==f?t.removeStyle(s,c,C):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),C|=og.Important),t.setStyle(s,c,f,C))}}(c,N,Gu(ea(),s),f,C))}function H2(t,n,s,c,f,C){const N=null===n;let ie;for(;f>0;){const he=t[f],Ne=Array.isArray(he),it=Ne?he[1]:he,Nt=null===it;let sn=s[f+1];sn===ms&&(sn=Nt?As:void 0);let fn=Nt?xa(sn,c):it===c?sn:void 0;if(Ne&&!JE(fn)&&(fn=xa(he,c)),JE(fn)&&(ie=fn,N))return ie;const Cn=t[f+1];f=N?Qf(Cn):Km(Cn)}if(null!==n){let he=C?n.residualClasses:n.residualStyles;null!=he&&(ie=xa(he,c))}return ie}function JE(t){return void 0!==t}function X2(t,n){return!!(t.flags&(n?8:16))}function Y2(t,n,s){Ud(co,Au,sv(Fn(),t,n,s),!0)}class Wx{destroy(n){}updateValue(n,s){}swap(n,s){const c=Math.min(n,s),f=Math.max(n,s),C=this.detach(f);if(f-c>1){const N=this.detach(c);this.attach(c,C),this.attach(f,N)}else this.attach(c,C)}move(n,s){this.attach(s,this.detach(n))}}function WT(t,n,s,c,f){return t===s&&Object.is(n,c)?1:Object.is(f(t,n),f(s,c))?-1:0}function zT(t,n,s,c){return!(void 0===n||!n.has(c)||(t.attach(s,n.get(c)),n.delete(c),0))}function Q2(t,n,s,c,f){if(zT(t,n,c,s(c,f)))t.updateValue(c,f);else{const C=t.create(c,f);t.attach(c,C)}}function J2(t,n,s,c){const f=new Set;for(let C=n;C<=s;C++)f.add(c(C,t.at(C)));return f}class Z2{constructor(){this.kvMap=new Map,this._vMap=void 0}has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;const s=this.kvMap.get(n);return void 0!==this._vMap&&this._vMap.has(s)?(this.kvMap.set(n,this._vMap.get(s)),this._vMap.delete(s)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,s){if(this.kvMap.has(n)){let c=this.kvMap.get(n);void 0===this._vMap&&(this._vMap=new Map);const f=this._vMap;for(;f.has(c);)c=f.get(c);f.set(c,s)}else this.kvMap.set(n,s)}forEach(n){for(let[s,c]of this.kvMap)if(n(c,s),void 0!==this._vMap){const f=this._vMap;for(;f.has(c);)c=f.get(c),n(c,s)}}}function q2(t,n){ja("NgControlFlow");const s=Fn(),c=Ra(),f=s[c]!==ms?s[c]:-1,C=-1!==f?ZE(s,Si+f):void 0;if(Lr(s,c,t)){const ie=_(null);try{if(void 0!==C&&n1(C,0),-1!==t){const he=Si+t,Ne=ZE(s,he),it=KT(s[Jn],he),Nt=wu(Ne,it.tView.ssrId);Bf(Ne,Eh(s,it,n,{dehydratedView:Nt}),0,Ch(it,Nt))}}finally{_(ie)}}else if(void 0!==C){const ie=ky(C,0);void 0!==ie&&(ie[mr]=n)}}class Kx{constructor(n,s,c){this.lContainer=n,this.$implicit=s,this.$index=c}get $count(){return this.lContainer.length-Qr}}function eI(t){return t}function tI(t,n){return n}class Hx{constructor(n,s,c){this.hasEmptyBlock=n,this.trackByFn=s,this.liveCollection=c}}function nI(t,n,s,c,f,C,N,ie,he,Ne,it,Nt,sn){ja("NgControlFlow");const fn=Fn(),Cn=vs(),Ln=void 0!==he,ti=Fn(),oi=ie?N.bind(ti[gr][mr]):N,Nn=new Hx(Ln,oi);ti[Si+t]=Nn,$m(fn,Cn,t+1,n,s,c,f,ml(Cn.consts,C)),Ln&&$m(fn,Cn,t+2,he,Ne,it,Nt,ml(Cn.consts,sn))}class Xx extends Wx{constructor(n,s,c){super(),this.lContainer=n,this.hostLView=s,this.templateTNode=c,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Qr}at(n){return this.getLView(n)[mr].$implicit}attach(n,s){const c=s[Zo];this.needsIndexUpdate||=n!==this.length,Bf(this.lContainer,s,n,Ch(this.templateTNode,c))}detach(n){return this.needsIndexUpdate||=n!==this.length-1,function Yx(t,n){return dm(t,n)}(this.lContainer,n)}create(n,s){const c=wu(this.lContainer,this.templateTNode.tView.ssrId),f=Eh(this.hostLView,this.templateTNode,new Kx(this.lContainer,s,n),{dehydratedView:c});return this.operationsCounter?.recordCreate(),f}destroy(n){um(n[Jn],n),this.operationsCounter?.recordDestroy()}updateValue(n,s){this.getLView(n)[mr].$implicit=s}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[mr].$index=n}getLView(n){return function Qx(t,n){return ky(t,n)}(this.lContainer,n)}}function iI(t){const n=_(null),s=ea();try{const c=Fn(),f=c[Jn],C=c[s],N=s+1,ie=ZE(c,N);if(void 0===C.liveCollection){const Ne=KT(f,N);C.liveCollection=new Xx(ie,c,Ne)}else C.liveCollection.reset();const he=C.liveCollection;if(function zx(t,n,s){let c,f,C=0,N=t.length-1;if(Array.isArray(n)){let he=n.length-1;for(;C<=N&&C<=he;){const Ne=t.at(C),it=n[C],Nt=WT(C,Ne,C,it,s);if(0!==Nt){Nt<0&&t.updateValue(C,it),C++;continue}const sn=t.at(N),fn=n[he],Cn=WT(N,sn,he,fn,s);if(0!==Cn){Cn<0&&t.updateValue(N,fn),N--,he--;continue}const Ln=s(C,Ne),ti=s(N,sn),oi=s(C,it);if(Object.is(oi,ti)){const Nn=s(he,fn);Object.is(Nn,Ln)?(t.swap(C,N),t.updateValue(N,fn),he--,N--):t.move(N,C),t.updateValue(C,it),C++}else if(c??=new Z2,f??=J2(t,C,N,s),zT(t,c,C,oi))t.updateValue(C,it),C++,N++;else if(f.has(oi))c.set(Ln,t.detach(C)),N--;else{const Nn=t.create(C,n[C]);t.attach(C,Nn),C++,N++}}for(;C<=he;)Q2(t,c,s,C,n[C]),C++}else if(null!=n){const he=n[Symbol.iterator]();let Ne=he.next();for(;!Ne.done&&C<=N;){const it=t.at(C),Nt=Ne.value,sn=WT(C,it,C,Nt,s);if(0!==sn)sn<0&&t.updateValue(C,Nt),C++,Ne=he.next();else{c??=new Z2,f??=J2(t,C,N,s);const fn=s(C,Nt);if(zT(t,c,C,fn))t.updateValue(C,Nt),C++,N++,Ne=he.next();else if(f.has(fn)){const Cn=s(C,it);c.set(Cn,t.detach(C)),N--}else t.attach(C,t.create(C,Nt)),C++,N++,Ne=he.next()}}for(;!Ne.done;)Q2(t,c,s,t.length,Ne.value),Ne=he.next()}for(;C<=N;)t.destroy(t.detach(N--));c?.forEach(he=>{t.destroy(he)})}(he,t,C.trackByFn),he.updateIndexes(),C.hasEmptyBlock){const Ne=Ra(),it=0===he.length;if(Lr(c,Ne,it)){const Nt=s+2,sn=ZE(c,Nt);if(it){const fn=KT(f,Nt),Cn=wu(sn,fn.tView.ssrId);Bf(sn,Eh(c,fn,void 0,{dehydratedView:Cn}),0,Ch(fn,Cn))}else n1(sn,0)}}}finally{_(n)}}function ZE(t,n){return t[n]}function KT(t,n){return tu(t,n)}function qE(t,n,s,c){const f=Fn(),C=vs(),N=Si+t,ie=f[Oi],he=C.firstCreatePass?function Jx(t,n,s,c,f,C){const N=n.consts,he=kd(n,t,2,c,ml(N,f));return ko(n,s,he,ml(N,C)),null!==he.attrs&&Lg(he,he.attrs,!1),null!==he.mergedAttrs&&Lg(he,he.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,he),he}(N,C,f,n,s,c):C.data[N],Ne=sI(C,f,he,ie,n,t);f[N]=Ne;const it=ju(he);return Ca(he,!0),eM(ie,Ne,he),!function zf(t){return!(32&~t.flags)}(he)&&fd()&&dg(C,f,Ne,he),0===function d_(){return is.lFrame.elementDepthCount}()&&_o(Ne,f),function Lv(){is.lFrame.elementDepthCount++}(),it&&(pm(C,f,he),vr(C,he,f)),null!==c&&z0(f,he),qE}function eC(){let t=er();Ep()?Qh():(t=t.parent,Ca(t,!1));const n=t;(function bp(t){return is.skipHydrationRootTNode===t})(n)&&function Uv(){is.skipHydrationRootTNode=null}(),function Nv(){is.lFrame.elementDepthCount--}();const s=vs();return s.firstCreatePass&&(Ip(s,t),zh(t)&&s.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Kv(t){return!!(8&t.flags)}(n)&&jT(s,n,Fn(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function ou(t){return!!(16&t.flags)}(n)&&jT(s,n,Fn(),n.stylesWithoutHost,!1),eC}function HT(t,n,s,c){return qE(t,n,s,c),eC(),HT}let sI=(t,n,s,c,f,C)=>(la(!0),lg(c,f,function Wv(){return is.lFrame.currentNamespace}()));function tC(t,n,s){const c=Fn(),f=vs(),C=t+Si,N=f.firstCreatePass?function eO(t,n,s,c,f){const C=n.consts,N=ml(C,c),ie=kd(n,t,8,"ng-container",N);return null!==N&&Lg(ie,N,!0),ko(n,s,ie,ml(C,f)),null!==n.queries&&n.queries.elementStart(n,ie),ie}(C,f,c,n,s):f.data[C];Ca(N,!0);const ie=rI(f,c,N,t);return c[C]=ie,fd()&&dg(f,c,ie,N),_o(ie,c),ju(N)&&(pm(f,c,N),vr(f,N,c)),null!=s&&z0(c,N),tC}function nC(){let t=er();const n=vs();return Ep()?Qh():(t=t.parent,Ca(t,!1)),n.firstCreatePass&&(Ip(n,t),zh(t)&&n.queries.elementEnd(t)),nC}function XT(t,n,s){return tC(t,n,s),nC(),XT}let rI=(t,n,s,c)=>(la(!0),B0(n[Oi],""));function oI(){return Fn()}function YT(t,n,s){const c=Fn();return Lr(c,Ra(),n)&&al(vs(),ni(),c,t,n,c[Oi],s,!0),YT}function QT(t,n,s){const c=Fn();if(Lr(c,Ra(),n)){const C=vs(),N=ni();al(C,N,c,t,n,Z0(aa(C.data),N,c),s,!0)}return QT}const Hm=void 0;var sO=["en",[["a","p"],["AM","PM"],Hm],[["AM","PM"],Hm,Hm],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Hm,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Hm,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Hm,"{1} 'at' {0}",Hm],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function iO(t){const s=Math.floor(Math.abs(t)),c=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===c?1:5}];let fv={};function JT(t){const n=function rO(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=lI(n);if(s)return s;const c=n.split("-")[0];if(s=lI(c),s)return s;if("en"===c)return sO;throw new Yn(701,!1)}function aI(t){return JT(t)[pv.PluralCase]}function lI(t){return t in fv||(fv[t]=Fs.ng&&Fs.ng.common&&Fs.ng.common.locales&&Fs.ng.common.locales[t]),fv[t]}var pv=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(pv||{});const oO=["zero","one","two","few","many"],iC="en-US",sC={marker:"element"},rC={marker:"ICU"};var Hl=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}(Hl||{});let cI=iC,q1=0,eb=0;let tb=(t,n,s,c)=>(la(!0),function dI(t,n,s){const c=t[Oi];switch(s){case Node.COMMENT_NODE:return B0(c,n);case Node.TEXT_NODE:return cm(c,n);case Node.ELEMENT_NODE:return lg(c,n,null)}}(t,s,c));function uI(t,n,s,c){const f=s[Oi];let N,C=null;for(let ie=0;ie<n.length;ie++){const he=n[ie];if("string"==typeof he){const Ne=n[++ie];null===s[Ne]&&(s[Ne]=tb(s,Ne,he,Node.TEXT_NODE))}else if("number"==typeof he)switch(1&he){case 0:const Ne=Xy(he);let it,Nt;if(null===C&&(C=Ne,N=cg(f,c)),Ne===C?(it=c,Nt=N):(it=null,Nt=Ns(s[Ne])),null!==Nt){const Ln=u1(he);yu(f,Nt,s[Ln],it,!1);const oi=as(t,Ln);if(null!==oi&&"object"==typeof oi){const Nn=Dm(oi,s);null!==Nn&&uI(t,oi.create[Nn],s,s[oi.anchorIdx])}}break;case 1:const fn=n[++ie],Cn=n[++ie];Cu(f,Gu(he>>>1,s),null,null,fn,Cn,null)}else switch(he){case rC:const Ne=n[++ie],it=n[++ie];null===s[it]&&_o(s[it]=tb(s,it,Ne,Node.COMMENT_NODE),s);break;case sC:const Nt=n[++ie],sn=n[++ie];null===s[sn]&&_o(s[sn]=tb(s,sn,Nt,Node.ELEMENT_NODE),s)}}}function hI(t,n,s,c,f){for(let C=0;C<s.length;C++){const N=s[C],ie=s[++C];if(N&f){let he="";for(let Ne=C+1;Ne<=C+ie;Ne++){const it=s[Ne];if("string"==typeof it)he+=it;else if("number"==typeof it)if(it<0)he+=ji(n[c-it]);else{const Nt=it>>>2;switch(3&it){case 1:const sn=s[++Ne],fn=s[++Ne],Cn=t.data[Nt];"string"==typeof Cn?Cu(n[Oi],n[Nt],null,Cn,sn,he,fn):al(t,Cn,n,sn,he,n[Oi],fn,!1);break;case 0:const Ln=n[Nt];null!==Ln&&ag(n[Oi],Ln,he);break;case 2:_O(t,as(t,Nt),n,he);break;case 3:fI(t,as(t,Nt),c,n)}}}}else{const he=s[C+1];if(he>0&&!(3&~he)){const it=as(t,he>>>2);n[it.currentCaseLViewIndex]<0&&fI(t,it,c,n)}}C+=ie}}function fI(t,n,s,c){let f=c[n.currentCaseLViewIndex];if(null!==f){let C=q1;f<0&&(f=c[n.currentCaseLViewIndex]=~f,C=-1),hI(t,c,n.update[f],s,C)}}function _O(t,n,s,c){const f=function gO(t,n){let s=t.cases.indexOf(n);if(-1===s)switch(t.type){case 1:{const c=function aO(t,n){const s=aI(n)(parseInt(t,10)),c=oO[s];return void 0!==c?c:"other"}(n,function dO(){return cI}());s=t.cases.indexOf(c),-1===s&&"other"!==c&&(s=t.cases.indexOf("other"));break}case 0:s=t.cases.indexOf("other")}return-1===s?null:s}(n,c);if(Dm(n,s)!==f&&(pI(t,n,s),s[n.currentCaseLViewIndex]=null===f?null:~f,null!==f)){const N=s[n.anchorIdx];N&&uI(t,n.create[f],s,N),function RM(t,n,s){Kc(t,n,s)}(s,n.anchorIdx,f)}}function pI(t,n,s){let c=Dm(n,s);if(null!==c){const f=n.remove[c];for(let C=0;C<f.length;C++){const N=f[C];if(N>0){const ie=Gu(N,s);null!==ie&&hm(s[Oi],ie)}else pI(t,as(t,~N),s)}}}const oC=/\ufffd(\d+):?\d*\ufffd/gi,bO=/\ufffd(\d+)\ufffd/,_I=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,nb="\ufffd",yO=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,EO=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,CO=/\uE500/g;function gI(t,n,s,c,f,C,N){const ie=Lf(t,c,1,null);let he=ie<<Hl.SHIFT,Ne=iu();n===Ne&&(Ne=null),null===Ne&&(he|=Hl.APPEND_EAGERLY),N&&(he|=Hl.COMMENT,function zC(t){void 0===L0&&(L0=t())}(Qy)),f.push(he,null===C?"":C);const it=yy(t,ie,N?32:1,null===C?"":C,null);Mg(s,it);const Nt=it.index;return Ca(it,!1),null!==Ne&&n!==Ne&&function Pd(t,n){let s=t.insertBeforeIndex;null===s?(dy(c1,d1),s=t.insertBeforeIndex=[null,n]):(oo(Array.isArray(s),!0,"Expecting array here"),s.push(n))}(Ne,Nt),it}function DO(t,n,s,c,f,C,N,ie){const he=ie.match(oC),it=gI(n,s,c,N,f,he?null:ie,!1).index;he&&ib(C,ie,it,null,0,null),t.push({kind:0,index:it})}function ib(t,n,s,c,f,C){const N=t.length,ie=N+1;t.push(null,null);const he=N+2,Ne=n.split(oC);let it=0;for(let Nt=0;Nt<Ne.length;Nt++){const sn=Ne[Nt];if(1&Nt){const fn=f+parseInt(sn,10);t.push(-1-fn),it|=vI(fn)}else""!==sn&&t.push(sn)}return t.push(s<<2|(c?1:0)),c&&t.push(c,C),t[N]=it,t[ie]=t.length-he,it}function vI(t){return 1<<Math.min(t,31)}function bI(t){let n,C,s="",c=0,f=!1;for(;null!==(n=yO.exec(t));)f?n[0]===`${nb}/*${C}${nb}`&&(c=n.index,f=!1):(s+=t.substring(c,n.index+n[0].length),C=n[1],f=!0);return s+=t.slice(c),s}function yI(t,n,s,c,f,C,N){let ie=0;const he={type:C.type,currentCaseLViewIndex:Lf(n,s,1,null),anchorIdx:N,cases:[],create:[],remove:[],update:[]};(function RO(t,n,s){t.push(vI(n.mainBinding),2,-1-n.mainBinding,s<<2|2)})(c,C,N),function Ua(t,n,s){const c=t.data[n];null===c?t.data[n]=s:c.value=s}(n,N,he);const Ne=C.values,it=[];for(let Nt=0;Nt<Ne.length;Nt++){const sn=Ne[Nt],fn=[];for(let Ln=0;Ln<sn.length;Ln++){const ti=sn[Ln];if("string"!=typeof ti){const oi=fn.push(ti)-1;sn[Ln]=`\x3c!--\ufffd${oi}\ufffd--\x3e`}}const Cn=[];it.push(Cn),ie=OO(Cn,n,he,s,c,f,C.cases[Nt],sn.join(""),fn)|ie}ie&&function kO(t,n,s){t.push(n,1,s<<2|3)}(c,ie,N),t.push({kind:3,index:N,cases:it,currentCaseLViewIndex:he.currentCaseLViewIndex})}function xO(t){const n=[],s=[];let c=1,f=0;const C=ZT(t=t.replace(_I,function(N,ie,he){return c="select"===he?0:1,f=parseInt(ie.slice(1),10),""}));for(let N=0;N<C.length;){let ie=C[N++].trim();1===c&&(ie=ie.replace(/\s*(?:=)?(\w+)\s*/,"$1")),ie.length&&n.push(ie);const he=ZT(C[N++]);n.length>s.length&&s.push(he)}return{type:c,mainBinding:f,cases:n,values:s}}function ZT(t){if(!t)return[];let n=0;const s=[],c=[],f=/[{}]/g;let C;for(f.lastIndex=0;C=f.exec(t);){const ie=C.index;if("}"==C[0]){if(s.pop(),0==s.length){const he=t.substring(n,ie);_I.test(he)?c.push(xO(he)):c.push(he),n=ie+1}}else{if(0==s.length){const he=t.substring(n,ie);c.push(he),n=ie+1}s.push("{")}}const N=t.substring(n);return c.push(N),c}function OO(t,n,s,c,f,C,N,ie,he){const Ne=[],it=[],Nt=[];s.cases.push(N),s.create.push(Ne),s.remove.push(it),s.update.push(Nt);const fn=xf(Ul()).getInertBodyElement(ie),Cn=w0(fn)||fn;return Cn?EI(t,n,s,c,f,Ne,it,Nt,Cn,C,he,0):0}function EI(t,n,s,c,f,C,N,ie,he,Ne,it,Nt){let sn=0,fn=he.firstChild;for(;fn;){const Cn=Lf(n,c,1,null);switch(fn.nodeType){case Node.ELEMENT_NODE:const Ln=fn,ti=Ln.tagName.toLowerCase();if(Of.hasOwnProperty(ti)){qT(C,sC,ti,Ne,Cn),n.data[Cn]=ti;const zs=Ln.attributes;for(let Wo=0;Wo<zs.length;Wo++){const Xl=zs.item(Wo),gv=Xl.name.toLowerCase();Xl.value.match(oC)?D0.hasOwnProperty(gv)&&ib(ie,Xl.value,Cn,Xl.name,0,tg[gv]?q_:null):PO(C,Cn,Xl)}const Rr={kind:1,index:Cn,children:[]};t.push(Rr),sn=EI(Rr.children,n,s,c,f,C,N,ie,fn,Cn,it,Nt+1)|sn,CI(N,Cn,Nt)}break;case Node.TEXT_NODE:const oi=fn.textContent||"",Nn=oi.match(oC);qT(C,null,Nn?"":oi,Ne,Cn),CI(N,Cn,Nt),Nn&&(sn=ib(ie,oi,Cn,null,0,null)|sn),t.push({kind:0,index:Cn});break;case Node.COMMENT_NODE:const _s=bO.exec(fn.textContent||"");if(_s){const Rr=it[parseInt(_s[1],10)];qT(C,rC,"",Ne,Cn),yI(t,n,c,f,Ne,Rr,Cn),AO(N,Cn,Nt)}}fn=fn.nextSibling}return sn}function CI(t,n,s){0===s&&t.push(n)}function AO(t,n,s){0===s&&(t.push(~n),t.push(n))}function qT(t,n,s,c,f){null!==n&&t.push(n),t.push(s,f,function h1(t,n,s){return t|n<<17|s<<1}(0,c,f))}function PO(t,n,s){t.push(n<<1|1,s.name,s.value)}const MI=0,FO=/\[(\ufffd.+?\ufffd?)\]/,LO=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,NO=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,BO=/{([A-Z0-9_]+)}/g,UO=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,jO=/\/\*/,$O=/\d+\:(\d+)/;function eD(t,n,s=-1){const c=vs(),f=Fn(),C=Si+t,N=ml(c.consts,n),ie=iu();c.firstCreatePass&&function TO(t,n,s,c,f,C){const N=iu(),ie=[],he=[],Ne=[[]],it=[[]];f=function wO(t,n){if(function f1(t){return-1===t}(n))return bI(t);{const s=t.indexOf(`:${n}${nb}`)+2+n.toString().length,c=t.search(new RegExp(`${nb}\\/\\*\\d+:${n}${nb}`));return bI(t.substring(s,c))}}(f,C);const Nt=function MO(t){return t.replace(CO," ")}(f).split(EO);for(let sn=0;sn<Nt.length;sn++){let fn=Nt[sn];if(1&sn){const Cn=47===fn.charCodeAt(0),Ln=fn.charCodeAt(Cn?1:0),ti=Si+Number.parseInt(fn.substring(Cn?2:1));if(Cn)Ne.shift(),it.shift(),Ca(iu(),!1);else{const oi=MM(t,Ne[0],ti);Ne.unshift([]),Ca(oi,!0);const Nn={kind:2,index:ti,children:[],type:35===Ln?0:1};it[0].push(Nn),it.unshift(Nn.children)}}else{const Cn=ZT(fn);for(let Ln=0;Ln<Cn.length;Ln++){let ti=Cn[Ln];if(1&Ln){const oi=ti;if("object"!=typeof oi)throw new Error(`Unable to parse ICU expression in "${f}" message.`);const _s=gI(t,N,Ne[0],s,ie,"",!0).index;yI(it[0],t,s,he,n,oi,_s)}else""!==ti&&DO(it[0],t,N,Ne[0],ie,he,s,ti)}}}t.data[c]={create:ie,update:he,ast:it[0],parentTNodeIndex:n}}(c,null===ie?0:ie.index,f,C,N,s),2===c.type?f[gr][ki]|=32:f[ki]|=32;const he=c.data[C],it=V0(c,ie===f[$o]?null:ie,f),Nt=ie&&8&ie.type?f[ie.index]:null;(function SM(t,n,s,c){iE(t,n,s,c)})(f,C,ie,s),function mO(t,n,s,c){const f=t[Oi];for(let C=0;C<n.length;C++){const N=n[C++],Ne=(N&Hl.APPEND_EAGERLY)===Hl.APPEND_EAGERLY,it=N>>>Hl.SHIFT;let Nt=t[it],sn=!1;null===Nt&&(Nt=t[it]=tb(t,it,n[C],(N&Hl.COMMENT)===Hl.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),sn=fd()),Ne&&null!==s&&sn&&yu(f,s,Nt,c,!1)}}(f,he.create,it,Nt),Tp(!0)}function tD(){Tp(!1)}function TI(t,n,s){eD(t,n,s),tD()}function nD(t){return function uO(t){t&&(q1|=1<<Math.min(eb,31)),eb++}(Lr(Fn(),Ra(),t)),nD}function DI(t){!function hO(t,n,s){if(eb>0){const c=t.data[s];hI(t,n,Array.isArray(c)?c:c.update,Oo()-eb-1,q1)}q1=0,eb=0}(vs(),Fn(),t+Si)}function II(t,n={}){return function VO(t,n={}){let s=t;if(FO.test(t)){const c={},f=[MI];s=s.replace(LO,(C,N,ie)=>{const he=N||ie,Ne=c[he]||[];if(Ne.length||(he.split("|").forEach(Ln=>{const ti=Ln.match($O),oi=ti?parseInt(ti[1],10):MI,Nn=jO.test(Ln);Ne.push([oi,Nn,Ln])}),c[he]=Ne),!Ne.length)throw new Error(`i18n postprocess: unmatched placeholder - ${he}`);const it=f[f.length-1];let Nt=0;for(let Ln=0;Ln<Ne.length;Ln++)if(Ne[Ln][0]===it){Nt=Ln;break}const[sn,fn,Cn]=Ne[Nt];return fn?f.pop():it!==sn&&f.push(sn),Ne.splice(Nt,1),Cn})}return Object.keys(n).length&&(s=s.replace(NO,(c,f,C,N,ie,he)=>n.hasOwnProperty(C)?`${f}${n[C]}${he}`:c),s=s.replace(BO,(c,f)=>n.hasOwnProperty(f)?n[f]:c),s=s.replace(UO,(c,f)=>{if(n.hasOwnProperty(f)){const C=n[f];if(!C.length)throw new Error(`i18n postprocess: unmatched ICU - ${c} with key: ${f}`);return C.shift()}return c})),s}(t,n)}let SI=(t,n,s)=>{};function iD(t,n,s,c){const f=Fn(),C=vs(),N=er();return rD(C,f,f[Oi],N,t,n,c),iD}function sD(t,n){const s=er(),c=Fn(),f=vs();return rD(f,c,Z0(aa(f.data),s,c),s,t,n),sD}function rD(t,n,s,c,f,C,N){const ie=ju(c),Ne=t.firstCreatePass&&bg(t),it=n[mr],Nt=J0(n);let sn=!0;if(3&c.type||N){const Ln=xo(c,n),ti=N?N(Ln):Ln,oi=Nt.length,Nn=N?zs=>N(Ns(zs[c.index])):c.index;let _s=null;if(!N&&ie&&(_s=function WO(t,n,s,c){const f=t.cleanup;if(null!=f)for(let C=0;C<f.length-1;C+=2){const N=f[C];if(N===s&&f[C+1]===c){const ie=n[ad],he=f[C+2];return ie.length>he?ie[he]:null}"string"==typeof N&&(C+=2)}return null}(t,n,f,c.index)),null!==_s)(_s.__ngLastListenerFn__||_s).__ngNextListenerFn__=C,_s.__ngLastListenerFn__=C,sn=!1;else{C=OI(c,n,it,C),SI(Ln,f,C);const zs=s.listen(ti,f,C);Nt.push(C,zs),Ne&&Ne.push(f,Nn,oi,oi+1)}}else C=OI(c,n,it,C);const fn=c.outputs;let Cn;if(sn&&null!==fn&&(Cn=fn[f])){const Ln=Cn.length;if(Ln)for(let ti=0;ti<Ln;ti+=2){const Rr=n[Cn[ti]][Cn[ti+1]].subscribe(C),Wo=Nt.length;Nt.push(C,Rr),Ne&&Ne.push(f,c.index,Wo,-(Wo+1))}}}function xI(t,n,s,c){const f=_(null);try{return Pl(6,n,s),!1!==s(c)}catch(C){return yg(t,C),!1}finally{Pl(7,n,s),_(f)}}function OI(t,n,s,c){return function f(C){if(C===Function)return c;gm(t.componentOffset>-1?il(t.index,n):n,5);let ie=xI(n,s,c,C),he=f.__ngNextListenerFn__;for(;he;)ie=xI(n,s,he,C)&&ie,he=he.__ngNextListenerFn__;return ie}}function AI(t=1){return function Zh(t){return(is.lFrame.contextLView=function Pv(t,n){for(;t>0;)n=n[_r],t--;return n}(t,is.lFrame.contextLView))[mr]}(t)}function zO(t,n){let s=null;const c=function Mr(t){const n=t.attrs;if(null!=n){const s=n.indexOf(5);if(!(1&s))return n[s+1]}return null}(t);for(let f=0;f<n.length;f++){const C=n[f];if("*"!==C){if(null===c?ep(t,C,!0):le(c,C))return f}else s=f}return s}function RI(t){const n=Fn()[gr][$o];if(!n.projection){const c=n.projection=function Ja(t,n){const s=[];for(let c=0;c<t;c++)s.push(n);return s}(t?t.length:1,null),f=c.slice();let C=n.child;for(;null!==C;){if(128!==C.type){const N=t?zO(C,t):0;null!==N&&(f[N]?f[N].projectionNext=C:c[N]=C,f[N]=C)}C=C.next}}}function kI(t,n=0,s,c,f,C){const N=Fn(),ie=vs(),he=c?t+1:null;null!==he&&$m(N,ie,he,c,f,C,null,s);const Ne=kd(ie,Si+t,16,null,s||null);null===Ne.projection&&(Ne.projection=n),Qh();const Nt=!N[Zo]||kc();null===N[gr][$o].projection[Ne.projection]&&null!==he?function KO(t,n,s){const c=Si+s,f=n.data[c],C=t[c],N=wu(C,f.tView.ssrId);Bf(C,Eh(t,f,void 0,{dehydratedView:N}),0,Ch(f,N))}(N,ie,he):Nt&&32&~Ne.flags&&function ZC(t,n,s){fy(n[Oi],0,n,s,$0(t,s,n),ay(s.parent||n[$o],s,n))}(ie,N,Ne)}function aC(t,n,s,c,f){const C=Fn(),N=sv(C,n,s,c);return N!==ms&&al(vs(),ni(),C,t,N,C[Oi],f,!1),aC}function GI(t,n,s,c){Wg(t,n,s,c)}function WI(t,n,s){!function S1(t,n,s){const c=vs();return c.firstCreatePass&&(CE(c,new $g(t,n,s),-1),!(2&~n)&&(c.staticViewQueries=!0)),yE(c,Fn(),n)}(t,n,s)}function zI(t){const n=Fn(),s=vs(),c=g_();hd(c+1);const f=Fm(s,c);if(t.dirty&&function mb(t){return!(4&~t[ki])}(n)===!(2&~f.metadata.flags)){if(null===f.matches)t.reset([]);else{const C=ME(n,c);t.reset(C,gf),t.notifyOnChanges()}return!0}return!1}function KI(){return Pm(Fn(),g_())}function HI(t,n,s,c,f){!function xE(t,n){const s=t[m];s._lView=Fn(),s._queryIndex=n,s._queryList=Pm(s._lView,n),s._queryList.onDirty(()=>s._dirtyCounter.update(c=>c+1))}(n,Wg(t,s,c,f))}function XI(t=1){hd(g_()+t)}function YI(t){return Ac(function m_(){return is.lFrame.contextLView}(),Si+t)}function rS(t,n=""){const s=Fn(),c=vs(),f=t+Si,C=c.firstCreatePass?kd(c,f,1,n,null):c.data[f],N=oS(c,s,C,n,t);s[f]=N,fd()&&dg(c,s,N,C),Ca(C,!1)}let oS=(t,n,s,c,f)=>(la(!0),cm(n[Oi],c));function aD(t){return lC("",t,""),aD}function lC(t,n,s){const c=Fn(),f=sv(c,t,n,s);return f!==ms&&Tl(c,ea(),f),lC}function lD(t,n,s,c,f){const C=Fn(),N=function rv(t,n,s,c,f,C){const ie=xh(t,Oo(),s,f);return dc(2),ie?n+ji(s)+c+ji(f)+C:ms}(C,t,n,s,c,f);return N!==ms&&Tl(C,ea(),N),lD}function cD(t,n,s,c,f,C,N){const ie=Fn(),he=function ov(t,n,s,c,f,C,N,ie){const Ne=Jg(t,Oo(),s,f,N);return dc(3),Ne?n+ji(s)+c+ji(f)+C+ji(N)+ie:ms}(ie,t,n,s,c,f,C,N);return he!==ms&&Tl(ie,ea(),he),cD}function dD(t,n,s,c,f,C,N,ie,he){const Ne=Fn(),it=function av(t,n,s,c,f,C,N,ie,he,Ne){const Nt=Dl(t,Oo(),s,f,N,he);return dc(4),Nt?n+ji(s)+c+ji(f)+C+ji(N)+ie+ji(he)+Ne:ms}(Ne,t,n,s,c,f,C,N,ie,he);return it!==ms&&Tl(Ne,ea(),it),dD}function uD(t,n,s){IE(n)&&(n=n());const c=Fn();return Lr(c,Ra(),n)&&al(vs(),ni(),c,t,n,c[Oi],s,!1),uD}function hS(t,n){const s=IE(t);return s&&t.set(n),s}function hD(t,n){const s=Fn(),c=vs(),f=er();return rD(c,s,s[Oi],f,t,n),hD}function fD(t,n,s,c,f){if(t=Di(t),Array.isArray(t))for(let C=0;C<t.length;C++)fD(t[C],n,s,c,f);else{const C=vs(),N=Fn(),ie=er();let he=Sc(t)?t:Di(t.provide);const Ne=Gh(t),it=1048575&ie.providerIndexes,Nt=ie.directiveStart,sn=ie.providerIndexes>>20;if(Sc(t)||!t.multi){const fn=new Fc(Ne,f,Ff),Cn=mD(he,n,f?it:it+sn,Nt);-1===Cn?(cf(lf(ie,N),C,he),pD(C,t,n.length),n.push(he),ie.directiveStart++,ie.directiveEnd++,f&&(ie.providerIndexes+=1048576),s.push(fn),N.push(fn)):(s[Cn]=fn,N[Cn]=fn)}else{const fn=mD(he,n,it+sn,Nt),Cn=mD(he,n,it,it+sn),ti=Cn>=0&&s[Cn];if(f&&!ti||!f&&!(fn>=0&&s[fn])){cf(lf(ie,N),C,he);const oi=function dA(t,n,s,c,f){const C=new Fc(t,s,Ff);return C.multi=[],C.index=n,C.componentProviders=0,mS(C,f,c&&!s),C}(f?cA:lA,s.length,f,c,Ne);!f&&ti&&(s[Cn].providerFactory=oi),pD(C,t,n.length,0),n.push(he),ie.directiveStart++,ie.directiveEnd++,f&&(ie.providerIndexes+=1048576),s.push(oi),N.push(oi)}else pD(C,t,fn>-1?fn:Cn,mS(s[f?Cn:fn],Ne,!f&&c));!f&&c&&ti&&s[Cn].componentProviders++}}}function pD(t,n,s,c){const f=Sc(n),C=function yv(t){return!!t.useClass}(n);if(f||C){const he=(C?Di(n.useClass):n).prototype.ngOnDestroy;if(he){const Ne=t.destroyHooks||(t.destroyHooks=[]);if(!f&&n.multi){const it=Ne.indexOf(s);-1===it?Ne.push(s,[c,he]):Ne[it+1].push(c,he)}else Ne.push(s,he)}}}function mS(t,n,s){return s&&t.componentProviders++,t.multi.push(n)-1}function mD(t,n,s,c){for(let f=s;f<c;f++)if(n[f]===t)return f;return-1}function lA(t,n,s,c){return _D(this.multi,[])}function cA(t,n,s,c){const f=this.multi;let C;if(this.providerFactory){const N=this.providerFactory.componentProviders,ie=_d(s,s[Jn],this.providerFactory.index,c);C=ie.slice(0,N),_D(f,C);for(let he=N;he<ie.length;he++)C.push(ie[he])}else C=[],_D(f,C);return C}function _D(t,n){for(let s=0;s<t.length;s++)n.push((0,t[s])());return n}function _S(t,n=[]){return s=>{s.providersResolver=(c,f)=>function aA(t,n,s){const c=vs();if(c.firstCreatePass){const f=nl(t);fD(s,c.data,c.blueprint,f,!0),fD(n,c.data,c.blueprint,f,!1)}}(c,f?f(t):t,n)}}let uA=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const c=Ic(0,s.type),f=c.length>0?V1([c],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,f)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Ds({token:t,providedIn:"environment",factory:()=>new t(Zi(Ar))})}return t})();function gS(t){ja("NgStandalone"),t.getStandaloneInjector=n=>n.get(uA).getOrCreateStandaloneInjector(t)}function vS(t,n,s){const c=t.\u0275cmp;c.directiveDefs=ic(n,!1),c.pipeDefs=ic(s,!0)}function ES(t,n,s){const c=Aa()+t,f=Fn();return f[c]===ms?Yc(f,c,s?n.call(s):n()):zl(f,c)}function CS(t,n,s,c){return AS(Fn(),Aa(),t,n,s,c)}function MS(t,n,s,c,f){return RS(Fn(),Aa(),t,n,s,c,f)}function TS(t,n,s,c,f,C){return kS(Fn(),Aa(),t,n,s,c,f,C)}function DS(t,n,s,c,f,C,N){return function PS(t,n,s,c,f,C,N,ie,he){const Ne=n+s;return Dl(t,Ne,f,C,N,ie)?Yc(t,Ne+4,he?c.call(he,f,C,N,ie):c(f,C,N,ie)):sb(t,Ne+4)}(Fn(),Aa(),t,n,s,c,f,C,N)}function IS(t,n,s,c,f,C,N,ie){const he=Aa()+t,Ne=Fn(),it=Dl(Ne,he,s,c,f,C);return Lr(Ne,he+4,N)||it?Yc(Ne,he+5,ie?n.call(ie,s,c,f,C,N):n(s,c,f,C,N)):zl(Ne,he+5)}function SS(t,n,s,c,f,C,N,ie,he){const Ne=Aa()+t,it=Fn(),Nt=Dl(it,Ne,s,c,f,C);return xh(it,Ne+4,N,ie)||Nt?Yc(it,Ne+6,he?n.call(he,s,c,f,C,N,ie):n(s,c,f,C,N,ie)):zl(it,Ne+6)}function wS(t,n,s,c,f,C,N,ie,he,Ne){const it=Aa()+t,Nt=Fn();let sn=Dl(Nt,it,s,c,f,C);return Jg(Nt,it+4,N,ie,he)||sn?Yc(Nt,it+7,Ne?n.call(Ne,s,c,f,C,N,ie,he):n(s,c,f,C,N,ie,he)):zl(Nt,it+7)}function xS(t,n,s,c,f,C,N,ie,he,Ne,it){const Nt=Aa()+t,sn=Fn(),fn=Dl(sn,Nt,s,c,f,C);return Dl(sn,Nt+4,N,ie,he,Ne)||fn?Yc(sn,Nt+8,it?n.call(it,s,c,f,C,N,ie,he,Ne):n(s,c,f,C,N,ie,he,Ne)):zl(sn,Nt+8)}function OS(t,n,s,c){return function FS(t,n,s,c,f,C){let N=n+s,ie=!1;for(let he=0;he<f.length;he++)Lr(t,N++,f[he])&&(ie=!0);return ie?Yc(t,N,c.apply(C,f)):sb(t,N)}(Fn(),Aa(),t,n,s,c)}function sb(t,n){const s=t[n];return s===ms?void 0:s}function AS(t,n,s,c,f,C){const N=n+s;return Lr(t,N,f)?Yc(t,N+1,C?c.call(C,f):c(f)):sb(t,N+1)}function RS(t,n,s,c,f,C,N){const ie=n+s;return xh(t,ie,f,C)?Yc(t,ie+2,N?c.call(N,f,C):c(f,C)):sb(t,ie+2)}function kS(t,n,s,c,f,C,N,ie){const he=n+s;return Jg(t,he,f,C,N)?Yc(t,he+3,ie?c.call(ie,f,C,N):c(f,C,N)):sb(t,he+3)}function LS(t,n){const s=vs();let c;const f=t+Si;s.firstCreatePass?(c=function pA(t,n){if(n)for(let s=n.length-1;s>=0;s--){const c=n[s];if(t===c.name)return c}}(n,s.pipeRegistry),s.data[f]=c,c.onDestroy&&(s.destroyHooks??=[]).push(f,c.onDestroy)):c=s.data[f];const C=c.factory||(c.factory=lo(c.type)),ie=ao(Ff);try{const he=af(!1),Ne=C();return af(he),function oD(t,n,s,c){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),n[s]=c}(s,Fn(),f,Ne),Ne}finally{ao(ie)}}function NS(t,n,s){const c=t+Si,f=Fn(),C=Ac(f,c);return rb(f,c)?AS(f,Aa(),n,C.transform,s,C):C.transform(s)}function BS(t,n,s,c){const f=t+Si,C=Fn(),N=Ac(C,f);return rb(C,f)?RS(C,Aa(),n,N.transform,s,c,N):N.transform(s,c)}function US(t,n,s,c,f){const C=t+Si,N=Fn(),ie=Ac(N,C);return rb(N,C)?kS(N,Aa(),n,ie.transform,s,c,f,ie):ie.transform(s,c,f)}function rb(t,n){return t[Jn].data[n].pure}function jS(t,n){return bm(t,n)}class nw{constructor(n){this.full=n;const s=n.split(".");this.major=s[0],this.minor=s[1],this.patch=s.slice(2).join(".")}}const BA=new nw("18.2.3");let iw=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=Ds({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const lw=new qt(""),cw=new qt("");let CD,dR=(()=>{class t{constructor(s,c,f){this._ngZone=s,this.registry=c,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,CD||(function uR(t){CD=t}(f),f.addToWindow(c)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Tr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb()}});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(s)||(clearTimeout(c.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,c,f){let C=-1;c&&c>0&&(C=setTimeout(()=>{this._callbacks=this._callbacks.filter(N=>N.timeoutId!==C),s()},c)),this._callbacks.push({doneCb:s,timeoutId:C,updateCb:f})}whenStable(s,c,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,c,f),this._runCallbacksIfReady()}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,c,f){return[]}static#e=this.\u0275fac=function(c){return new(c||t)(Zi(Tr),Zi(dw),Zi(cw))};static#t=this.\u0275prov=Ds({token:t,factory:t.\u0275fac})}return t})(),dw=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,c){this._applications.set(s,c)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,c=!0){return CD?.findTestabilityInTree(this,s,c)??null}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=Ds({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function MD(t){return!!t&&"function"==typeof t.then}function uw(t){return!!t&&"function"==typeof t.subscribe}const hw=new qt("");let fw=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,c)=>{this.resolve=s,this.reject=c}),this.appInits=Vn(hw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const f of this.appInits){const C=f();if(MD(C))s.push(C);else if(uw(C)){const N=new Promise((ie,he)=>{C.subscribe({complete:ie,error:he})});s.push(N)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{c()}).catch(f=>{this.reject(f)}),0===s.length&&c(),this.initialized=!0}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=Ds({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const fC=new qt("");function mw(t,n){return Array.isArray(n)?n.reduce(mw,t):{...t,...n}}let Ru=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Vn(o0),this.afterRenderManager=Vn(r),this.zonelessEnabled=Vn(Wf),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new $e.B7,this.afterTick=new $e.B7,this.componentTypes=[],this.components=[],this.isStable=Vn(Ma).hasPendingTasks.pipe((0,Ve.T)(s=>!s)),this._injector=Vn(Ar)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let s;return new Promise(c=>{s=this.isStable.subscribe({next:f=>{f&&c()}})}).finally(()=>{s.unsubscribe()})}get injector(){return this._injector}bootstrap(s,c){const f=s instanceof aE;if(!this._injector.get(fw).done)throw!f&&jo(s),new Yn(405,!1);let N;N=f?s:this._injector.get(Om).resolveComponentFactory(s),this.componentTypes.push(N.componentType);const ie=function hR(t){return t.isBoundToModule}(N)?void 0:this._injector.get(wh),Ne=N.create(Ro.NULL,[],c||N.selector,ie),it=Ne.location.nativeElement,Nt=Ne.injector.get(lw,null);return Nt?.registerApplication(it),Ne.onDestroy(()=>{this.detachView(Ne.hostView),pC(this.components,Ne),Nt?.unregisterApplication(it)}),this._loadComponent(Ne),Ne}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Yn(101,!1);const s=_(null);try{this._runningTick=!0,this.synchronize()}catch(c){this.internalErrorHandler(c)}finally{this._runningTick=!1,_(s),this.afterTick.next()}}synchronize(){let s=null;this._injector.destroyed||(s=this._injector.get(Pg,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let c=0;for(;0!==this.dirtyFlags&&c++<10;)this.synchronizeOnce(s)}synchronizeOnce(s){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const c=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(c);for(let{_lView:f,notifyErrorHandler:C}of this._views)mR(f,C,c,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else s?.begin?.(),s?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:s})=>_p(s))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(s){const c=s;this._views.push(c),c.attachToAppRef(this)}detachView(s){const c=s;pC(this._views,c),c.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const c=this._injector.get(fC,[]);[...this._bootstrapListeners,...c].forEach(f=>f(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>pC(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Yn(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=Ds({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function pC(t,n){const s=t.indexOf(n);s>-1&&t.splice(s,1)}function mR(t,n,s,c){(s||_p(t))&&Wc(t,n,s&&!c?0:1)}class _R{constructor(n,s){this.ngModuleFactory=n,this.componentFactories=s}}let gR=(()=>{class t{compileModuleSync(s){return new $1(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const c=this.compileModuleSync(s),C=Cl(ps(s).declarations).reduce((N,ie)=>{const he=vi(ie);return he&&N.push(new Xc(he)),N},[]);return new _R(c,C)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=Ds({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),yR=(()=>{class t{constructor(){this.zone=Vn(Tr),this.changeDetectionScheduler=Vn(Dh),this.applicationRef=Vn(Ru)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=Ds({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function TD({ngZoneFactory:t,ignoreChangesOutsideZone:n,scheduleInRootZone:s}){return t??=()=>new Tr({...DD(),scheduleInRootZone:s}),[{provide:Tr,useFactory:t},{provide:Io,multi:!0,useFactory:()=>{const c=Vn(yR,{optional:!0});return()=>c.initialize()}},{provide:Io,multi:!0,useFactory:()=>{const c=Vn(CR);return()=>{c.initialize()}}},!0===n?{provide:Ld,useValue:!0}:[],{provide:y1,useValue:s??Lp}]}function DD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}let CR=(()=>{class t{constructor(){this.subscription=new Et.y,this.initialized=!1,this.zone=Vn(Tr),this.pendingTasks=Vn(Ma)}initialize(){if(this.initialized)return;this.initialized=!0;let s=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(s=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Tr.assertNotInAngularZone(),queueMicrotask(()=>{null!==s&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(s),s=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Tr.assertInAngularZone(),s??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=Ds({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),lb=(()=>{class t{constructor(){this.appRef=Vn(Ru),this.taskService=Vn(Ma),this.ngZone=Vn(Tr),this.zonelessEnabled=Vn(Wf),this.disableScheduling=Vn(Ld,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Et.y,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(du):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Vn(y1,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof $c||!this.zoneIsDefined)}notify(s){if(!this.zonelessEnabled&&5===s)return;switch(s){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const c=this.useMicrotaskScheduler?w_:S_;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>c(()=>this.tick())):this.ngZone.runOutsideAngular(()=>c(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(du+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const s=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(c){throw this.taskService.remove(s),c}finally{this.cleanup()}this.useMicrotaskScheduler=!0,w_(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(s)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const s=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(s)}}static#e=this.\u0275fac=function(c){return new(c||t)};static#t=this.\u0275prov=Ds({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const SD=new qt("",{providedIn:"root",factory:()=>Vn(SD,fs.Optional|fs.SkipSelf)||function MR(){return typeof $localize<"u"&&$localize.locale||iC}()}),TR=new qt("",{providedIn:"root",factory:()=>"USD"}),wD=new qt("");function _C(t){return!!t.platformInjector}let Cw=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,c){const f=c?.scheduleInRootZone,N=c?.ignoreChangesOutsideZone,ie=[TD({ngZoneFactory:()=>function r0(t="zone.js",n){return"noop"===t?new $c:"zone.js"===t?new Tr(n):t}(c?.ngZone,{...DD({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}),scheduleInRootZone:f}),ignoreChangesOutsideZone:N}),{provide:Dh,useExisting:lb}],he=function DT(t,n,s){return new j1(t,n,s,!1)}(s.moduleType,this.injector,ie);return function Ew(t){const n=_C(t)?t.r3Injector:t.moduleRef.injector,s=n.get(Tr);return s.run(()=>{_C(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();const c=n.get(pc,null);let f;if(s.runOutsideAngular(()=>{f=s.onError.subscribe({next:C=>{c.handleError(C)}})}),_C(t)){const C=()=>n.destroy(),N=t.platformInjector.get(wD);N.add(C),n.onDestroy(()=>{f.unsubscribe(),N.delete(C)})}else t.moduleRef.onDestroy(()=>{pC(t.allPlatformModules,t.moduleRef),f.unsubscribe()});return function pR(t,n,s){try{const c=s();return MD(c)?c.catch(f=>{throw n.runOutsideAngular(()=>t.handleError(f)),f}):c}catch(c){throw n.runOutsideAngular(()=>t.handleError(c)),c}}(c,s,()=>{const C=n.get(fw);return C.runInitializers(),C.donePromise.then(()=>{if(function cO(t){"string"==typeof t&&(cI=t.toLowerCase().replace(/_/g,"-"))}(n.get(SD,iC)||iC),_C(t)){const ie=n.get(Ru);return void 0!==t.rootComponent&&ie.bootstrap(t.rootComponent),ie}return function xR(t,n){const s=t.injector.get(Ru);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(c=>s.bootstrap(c));else{if(!t.instance.ngDoBootstrap)throw new Yn(-403,!1);t.instance.ngDoBootstrap(s)}n.push(t)}(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}({moduleRef:he,allPlatformModules:this._modules})}bootstrapModule(s,c=[]){const f=mw({},c);return function bR(t,n,s){const c=new $1(s);return Promise.resolve(c)}(0,0,s).then(C=>this.bootstrapModuleFactory(C,f))}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Yn(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const s=this._injector.get(wD,null);s&&(s.forEach(c=>c()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(c){return new(c||t)(Zi(Ro))};static#t=this.\u0275prov=Ds({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Jf=null;const Mw=new qt("");function Tw(t,n,s=[]){const c=`Platform: ${n}`,f=new qt(c);return(C=[])=>{let N=xD();if(!N||N.injector.get(Mw,!1)){const ie=[...s,...C,{provide:f,useValue:!0}];t?t(ie):function OR(t){if(Jf&&!Jf.get(Mw,!1))throw new Yn(400,!1);(function pw(){!function J(t){ee=t}(()=>{throw new Yn(600,!1)})})(),Jf=t;const n=t.get(Cw);(function Iw(t){t.get(Md,null)?.forEach(s=>s())})(t)}(function Dw(t=[],n){return Ro.create({name:n,providers:[{provide:$h,useValue:"platform"},{provide:wD,useValue:new Set([()=>Jf=null])},...t]})}(ie,c))}return function AR(){const n=xD();if(!n)throw new Yn(401,!1);return n}()}}function xD(){return Jf?.get(Cw)??null}function kR(){}let ww=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=PR}return t})();function PR(t){return function FR(t,n,s){if(Oc(t)&&!s){const c=il(t.index,n);return new zc(c,c)}return 175&t.type?new zc(n[gr],n):null}(er(),Fn(),!(16&~t))}class Rw{constructor(){}supports(n){return jm(n)}create(n){return new jR(n)}}const UR=(t,n)=>n;class jR{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||UR}forEachItem(n){let s;for(s=this._itHead;null!==s;s=s._next)n(s)}forEachOperation(n){let s=this._itHead,c=this._removalsHead,f=0,C=null;for(;s||c;){const N=!c||s&&s.currentIndex<Pw(c,f,C)?s:c,ie=Pw(N,f,C),he=N.currentIndex;if(N===c)f--,c=c._nextRemoved;else if(s=s._next,null==N.previousIndex)f++;else{C||(C=[]);const Ne=ie-f,it=he-f;if(Ne!=it){for(let sn=0;sn<Ne;sn++){const fn=sn<C.length?C[sn]:C[sn]=0,Cn=fn+sn;it<=Cn&&Cn<Ne&&(C[sn]=fn+1)}C[N.previousIndex]=it-Ne}}ie!==he&&n(N,ie,he)}}forEachPreviousItem(n){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachMovedItem(n){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}forEachIdentityChange(n){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)n(s)}diff(n){if(null==n&&(n=[]),!jm(n))throw new Yn(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let f,C,N,s=this._itHead,c=!1;if(Array.isArray(n)){this.length=n.length;for(let ie=0;ie<this.length;ie++)C=n[ie],N=this._trackByFn(ie,C),null!==s&&Object.is(s.trackById,N)?(c&&(s=this._verifyReinsertion(s,C,N,ie)),Object.is(s.item,C)||this._addIdentityChange(s,C)):(s=this._mismatch(s,C,N,ie),c=!0),s=s._next}else f=0,function W1(t,n){if(Array.isArray(t))for(let s=0;s<t.length;s++)n(t[s]);else{const s=t[Symbol.iterator]();let c;for(;!(c=s.next()).done;)n(c.value)}}(n,ie=>{N=this._trackByFn(f,ie),null!==s&&Object.is(s.trackById,N)?(c&&(s=this._verifyReinsertion(s,ie,N,f)),Object.is(s.item,ie)||this._addIdentityChange(s,ie)):(s=this._mismatch(s,ie,N,f),c=!0),s=s._next,f++}),this.length=f;return this._truncate(s),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,s,c,f){let C;return null===n?C=this._itTail:(C=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._reinsertAfter(n,C,f)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(c,f))?(Object.is(n.item,s)||this._addIdentityChange(n,s),this._moveAfter(n,C,f)):n=this._addAfter(new $R(s,c),C,f),n}_verifyReinsertion(n,s,c,f){let C=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==C?n=this._reinsertAfter(C,n._prev,f):n.currentIndex!=f&&(n.currentIndex=f,this._addToMoves(n,f)),n}_truncate(n){for(;null!==n;){const s=n._next;this._addToRemovals(this._unlink(n)),n=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,s,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const f=n._prevRemoved,C=n._nextRemoved;return null===f?this._removalsHead=C:f._nextRemoved=C,null===C?this._removalsTail=f:C._prevRemoved=f,this._insertAfter(n,s,c),this._addToMoves(n,c),n}_moveAfter(n,s,c){return this._unlink(n),this._insertAfter(n,s,c),this._addToMoves(n,c),n}_addAfter(n,s,c){return this._insertAfter(n,s,c),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,s,c){const f=null===s?this._itHead:s._next;return n._next=f,n._prev=s,null===f?this._itTail=n:f._prev=n,null===s?this._itHead=n:s._next=n,null===this._linkedRecords&&(this._linkedRecords=new kw),this._linkedRecords.put(n),n.currentIndex=c,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const s=n._prev,c=n._next;return null===s?this._itHead=c:s._next=c,null===c?this._itTail=s:c._prev=s,n}_addToMoves(n,s){return n.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new kw),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,s){return n.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class $R{constructor(n,s){this.item=n,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class VR{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,s){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===s||s<=c.currentIndex)&&Object.is(c.trackById,n))return c;return null}remove(n){const s=n._prevDup,c=n._nextDup;return null===s?this._head=c:s._nextDup=c,null===c?this._tail=s:c._prevDup=s,null===this._head}}class kw{constructor(){this.map=new Map}put(n){const s=n.trackById;let c=this.map.get(s);c||(c=new VR,this.map.set(s,c)),c.add(n)}get(n,s){const f=this.map.get(n);return f?f.get(n,s):null}remove(n){const s=n.trackById;return this.map.get(s).remove(n)&&this.map.delete(s),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Pw(t,n,s){const c=t.previousIndex;if(null===c)return c;let f=0;return s&&c<s.length&&(f=s[c]),c+n+f}class Fw{constructor(){}supports(n){return n instanceof Map||Qg(n)}create(){return new GR}}class GR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let s;for(s=this._mapHead;null!==s;s=s._next)n(s)}forEachPreviousItem(n){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)n(s)}forEachChangedItem(n){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)n(s)}forEachAddedItem(n){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)n(s)}forEachRemovedItem(n){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)n(s)}diff(n){if(n){if(!(n instanceof Map||Qg(n)))throw new Yn(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(n,(c,f)=>{if(s&&s.key===f)this._maybeAddToChanges(s,c),this._appendAfter=s,s=s._next;else{const C=this._getOrCreateRecordForKey(f,c);s=this._insertBeforeOrAppend(s,C)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let c=s;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,s){if(n){const c=n._prev;return s._next=n,s._prev=c,n._prev=s,c&&(c._next=s),n===this._mapHead&&(this._mapHead=s),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(n,s){if(this._records.has(n)){const f=this._records.get(n);this._maybeAddToChanges(f,s);const C=f._prev,N=f._next;return C&&(C._next=N),N&&(N._prev=C),f._next=null,f._prev=null,f}const c=new WR(n);return this._records.set(n,c),c.currentValue=s,this._addToAdditions(c),c}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,s){Object.is(s,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=s,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,s){n instanceof Map?n.forEach(s):Object.keys(n).forEach(c=>s(n[c],c))}}class WR{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Lw(){return new PD([new Rw])}let PD=(()=>{class t{static#e=this.\u0275prov=Ds({token:t,providedIn:"root",factory:Lw});constructor(s){this.factories=s}static create(s,c){if(null!=c){const f=c.factories.slice();s=s.concat(f)}return new t(s)}static extend(s){return{provide:t,useFactory:c=>t.create(s,c||Lw()),deps:[[t,new Ea,new jr]]}}find(s){const c=this.factories.find(f=>f.supports(s));if(null!=c)return c;throw new Yn(901,!1)}}return t})();function Nw(){return new FD([new Fw])}let FD=(()=>{class t{static#e=this.\u0275prov=Ds({token:t,providedIn:"root",factory:Nw});constructor(s){this.factories=s}static create(s,c){if(c){const f=c.factories.slice();s=s.concat(f)}return new t(s)}static extend(s){return{provide:t,useFactory:c=>t.create(s,c||Nw()),deps:[[t,new Ea,new jr]]}}find(s){const c=this.factories.find(f=>f.supports(s));if(c)return c;throw new Yn(901,!1)}}return t})();const HR=Tw(null,"core",[]);let XR=(()=>{class t{constructor(s){}static#e=this.\u0275fac=function(c){return new(c||t)(Zi(Ru))};static#t=this.\u0275mod=Mn({type:t});static#n=this.\u0275inj=wr({})}return t})();const qw=new qt("");function Dk(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function Ik(t,n=NaN){return isNaN(parseFloat(t))||isNaN(Number(t))?n:Number(t)}function wk(t,n){ja("NgSignals");const s=I(t);return n?.equal&&(s[m].equal=n.equal),s}function xk(t){const n=_(null);try{return t()}finally{_(n)}}const Ok=new qt("",{providedIn:"root",factory:()=>Vn(Ak)});let Ak=(()=>{class t{static#e=this.\u0275prov=Ds({token:t,providedIn:"root",factory:()=>new Rk})}return t})();class Rk{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=Vn(Ma),this.taskId=null}scheduleEffect(n){if(this.enqueue(n),null===this.taskId){const s=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(s),this.taskId=null})}}enqueue(n){const s=n.creationZone;this.queues.has(s)||this.queues.set(s,new Set);const c=this.queues.get(s);c.has(n)||(this.queuedEffectCount++,c.add(n))}flush(){for(;this.queuedEffectCount>0;)for(const[n,s]of this.queues)null===n?this.flushQueue(s):n.run(()=>this.flushQueue(s))}flushQueue(n){for(const s of n)n.delete(s),this.queuedEffectCount--,s.run()}}class kk{constructor(n,s,c,f,C,N){this.scheduler=n,this.effectFn=s,this.creationZone=c,this.injector=C,this.watcher=function ve(t,n,s){const c=Object.create(be);s&&(c.consumerAllowSignalWrites=!0),c.fn=t,c.schedule=n;const f=he=>{c.cleanupFn=he};return c.ref={notify:()=>z(c),run:()=>{if(null===c.fn)return;if(function b(){return d}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(c.dirty=!1,c.hasRun&&!F(c))return;c.hasRun=!0;const he=G(c);try{c.cleanupFn(),c.cleanupFn=Ce,c.fn(f)}finally{K(c,he)}},cleanup:()=>c.cleanupFn(),destroy:()=>function N(he){(function C(he){return null===he.fn&&null===he.schedule})(he)||(H(he),he.cleanupFn(),he.fn=null,he.schedule=null,he.cleanupFn=Ce)}(c),[m]:c},c.ref}(ie=>this.runEffect(ie),()=>this.schedule(),N),this.unregisterOnDestroy=f?.onDestroy(()=>this.destroy())}runEffect(n){try{this.effectFn(n)}catch(s){this.injector.get(pc,null,{optional:!0})?.handleError(s)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function cx(t,n){ja("NgSignals"),!n?.injector&&rd();const s=n?.injector??Vn(Ro),c=!0!==n?.manualCleanup?s.get(nh):null,f=new kk(s.get(Ok),t,typeof Zone>"u"?null:Zone.current,c,s,n?.allowSignalWrites??!1),C=s.get(ww,null,{optional:!0});return C&&8&C._lView[ki]?(C._lView[op]??=[]).push(f.watcher.notify):f.watcher.notify(),f}function Pk(t,n){const s=vi(t),c=n.elementInjector||Vs();return new Xc(s).create(c,n.projectableNodes,n.hostElement,n.environmentInjector)}function Fk(t){const n=vi(t);if(!n)return null;const s=new Xc(n);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},9417:(Mt,pe,a)=>{"use strict";a.d(pe,{$R:()=>wt,BC:()=>ht,Fm:()=>Wr,JD:()=>Ki,MJ:()=>wi,Q0:()=>Po,X1:()=>Wa,YN:()=>oo,YS:()=>Fr,ZU:()=>me,Zm:()=>D,cV:()=>Pi,cb:()=>Vt,cz:()=>K,gE:()=>Ue,j4:()=>Sr,k0:()=>Y,kq:()=>u,me:()=>O,qT:()=>zo,tU:()=>Va,vO:()=>$e,vS:()=>Zs,wz:()=>ks,xH:()=>sr,xq:()=>Er,y7:()=>rr});var e=a(3953),i=a(177),d=a(4787),p=a(696),m=a(5286),_=a(5006);let g=(()=>{class He{constructor(Se,Tt){this._renderer=Se,this._elementRef=Tt,this.onChange=cn=>{},this.onTouched=()=>{}}setProperty(Se,Tt){this._renderer.setProperty(this._elementRef.nativeElement,Se,Tt)}registerOnTouched(Se){this.onTouched=Se}registerOnChange(Se){this.onChange=Se}setDisabledState(Se){this.setProperty("disabled",Se)}static#e=this.\u0275fac=function(Tt){return new(Tt||He)(e.rXU(e.sFG),e.rXU(e.aKT))};static#t=this.\u0275dir=e.FsC({type:He})}return He})(),b=(()=>{class He extends g{static#e=this.\u0275fac=(()=>{let Se;return function(cn){return(Se||(Se=e.xGo(He)))(cn||He)}})();static#t=this.\u0275dir=e.FsC({type:He,features:[e.Vt3]})}return He})();const u=new e.nKC(""),S={provide:u,useExisting:(0,e.Rfq)(()=>D),multi:!0};let D=(()=>{class He extends b{writeValue(Se){this.setProperty("checked",Se)}static#e=this.\u0275fac=(()=>{let Se;return function(cn){return(Se||(Se=e.xGo(He)))(cn||He)}})();static#t=this.\u0275dir=e.FsC({type:He,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(Tt,cn){1&Tt&&e.bIt("change",function(Xi){return cn.onChange(Xi.target.checked)})("blur",function(){return cn.onTouched()})},features:[e.Jv_([S]),e.Vt3]})}return He})();const E={provide:u,useExisting:(0,e.Rfq)(()=>O),multi:!0},v=new e.nKC("");let O=(()=>{class He extends g{constructor(Se,Tt,cn){super(Se,Tt),this._compositionMode=cn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function A(){const He=(0,i.QT)()?(0,i.QT)().getUserAgent():"";return/android (\d+)/.test(He.toLowerCase())}())}writeValue(Se){this.setProperty("value",Se??"")}_handleInput(Se){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(Se)}_compositionStart(){this._composing=!0}_compositionEnd(Se){this._composing=!1,this._compositionMode&&this.onChange(Se)}static#e=this.\u0275fac=function(Tt){return new(Tt||He)(e.rXU(e.sFG),e.rXU(e.aKT),e.rXU(v,8))};static#t=this.\u0275dir=e.FsC({type:He,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(Tt,cn){1&Tt&&e.bIt("input",function(Xi){return cn._handleInput(Xi.target.value)})("blur",function(){return cn.onTouched()})("compositionstart",function(){return cn._compositionStart()})("compositionend",function(Xi){return cn._compositionEnd(Xi.target.value)})},features:[e.Jv_([E]),e.Vt3]})}return He})();function z(He){return null==He||("string"==typeof He||Array.isArray(He))&&0===He.length}function G(He){return null!=He&&"number"==typeof He.length}const K=new e.nKC(""),F=new e.nKC(""),H=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Y{static min(tt){return function P(He){return tt=>{if(z(tt.value)||z(He))return null;const Se=parseFloat(tt.value);return!isNaN(Se)&&Se<He?{min:{min:He,actual:tt.value}}:null}}(tt)}static max(tt){return function U(He){return tt=>{if(z(tt.value)||z(He))return null;const Se=parseFloat(tt.value);return!isNaN(Se)&&Se>He?{max:{max:He,actual:tt.value}}:null}}(tt)}static required(tt){return $(tt)}static requiredTrue(tt){return B(tt)}static email(tt){return function y(He){return z(He.value)||H.test(He.value)?null:{email:!0}}(tt)}static minLength(tt){return function I(He){return tt=>z(tt.value)||!G(tt.value)?null:tt.value.length<He?{minlength:{requiredLength:He,actualLength:tt.value.length}}:null}(tt)}static maxLength(tt){return w(tt)}static pattern(tt){return function L(He){if(!He)return Q;let tt,Se;return"string"==typeof He?(Se="","^"!==He.charAt(0)&&(Se+="^"),Se+=He,"$"!==He.charAt(He.length-1)&&(Se+="$"),tt=new RegExp(Se)):(Se=He.toString(),tt=He),Tt=>{if(z(Tt.value))return null;const cn=Tt.value;return tt.test(cn)?null:{pattern:{requiredPattern:Se,actualValue:cn}}}}(tt)}static nullValidator(tt){return null}static compose(tt){return fe(tt)}static composeAsync(tt){return Ze(tt)}}function $(He){return z(He.value)?{required:!0}:null}function B(He){return!0===He.value?null:{required:!0}}function w(He){return tt=>G(tt.value)&&tt.value.length>He?{maxlength:{requiredLength:He,actualLength:tt.value.length}}:null}function Q(He){return null}function te(He){return null!=He}function R(He){return(0,e.jNT)(He)?(0,d.H)(He):He}function ee(He){let tt={};return He.forEach(Se=>{tt=null!=Se?{...tt,...Se}:tt}),0===Object.keys(tt).length?null:tt}function k(He,tt){return tt.map(Se=>Se(He))}function X(He){return He.map(tt=>function J(He){return!He.validate}(tt)?tt:Se=>tt.validate(Se))}function fe(He){if(!He)return null;const tt=He.filter(te);return 0==tt.length?null:function(Se){return ee(k(Se,tt))}}function Me(He){return null!=He?fe(X(He)):null}function Ze(He){if(!He)return null;const tt=He.filter(te);return 0==tt.length?null:function(Se){const Tt=k(Se,tt).map(R);return(0,p.p)(Tt).pipe((0,_.T)(ee))}}function Ct(He){return null!=He?Ze(X(He)):null}function lt(He,tt){return null===He?[tt]:Array.isArray(He)?[...He,tt]:[He,tt]}function Ot(He){return He._rawValidators}function rt(He){return He._rawAsyncValidators}function vt(He){return He?Array.isArray(He)?He:[He]:[]}function ve(He,tt){return Array.isArray(He)?He.includes(tt):He===tt}function Ce(He,tt){const Se=vt(tt);return vt(He).forEach(cn=>{ve(Se,cn)||Se.push(cn)}),Se}function be(He,tt){return vt(tt).filter(Se=>!ve(He,Se))}class ue{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(tt){this._rawValidators=tt||[],this._composedValidatorFn=Me(this._rawValidators)}_setAsyncValidators(tt){this._rawAsyncValidators=tt||[],this._composedAsyncValidatorFn=Ct(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(tt){this._onDestroyCallbacks.push(tt)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(tt=>tt()),this._onDestroyCallbacks=[]}reset(tt=void 0){this.control&&this.control.reset(tt)}hasError(tt,Se){return!!this.control&&this.control.hasError(tt,Se)}getError(tt,Se){return this.control?this.control.getError(tt,Se):null}}class me extends ue{get formDirective(){return null}get path(){return null}}class $e extends ue{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Et{constructor(tt){this._cd=tt}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let ht=(()=>{class He extends Et{constructor(Se){super(Se)}static#e=this.\u0275fac=function(Tt){return new(Tt||He)(e.rXU($e,2))};static#t=this.\u0275dir=e.FsC({type:He,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(Tt,cn){2&Tt&&e.AVh("ng-untouched",cn.isUntouched)("ng-touched",cn.isTouched)("ng-pristine",cn.isPristine)("ng-dirty",cn.isDirty)("ng-valid",cn.isValid)("ng-invalid",cn.isInvalid)("ng-pending",cn.isPending)},features:[e.Vt3]})}return He})(),Vt=(()=>{class He extends Et{constructor(Se){super(Se)}static#e=this.\u0275fac=function(Tt){return new(Tt||He)(e.rXU(me,10))};static#t=this.\u0275dir=e.FsC({type:He,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(Tt,cn){2&Tt&&e.AVh("ng-untouched",cn.isUntouched)("ng-touched",cn.isTouched)("ng-pristine",cn.isPristine)("ng-dirty",cn.isDirty)("ng-valid",cn.isValid)("ng-invalid",cn.isInvalid)("ng-pending",cn.isPending)("ng-submitted",cn.isSubmitted)},features:[e.Vt3]})}return He})();const pn="VALID",un="INVALID",an="PENDING",hn="DISABLED";class Sn{}class Lt extends Sn{constructor(tt,Se){super(),this.value=tt,this.source=Se}}class at extends Sn{constructor(tt,Se){super(),this.pristine=tt,this.source=Se}}class ct extends Sn{constructor(tt,Se){super(),this.touched=tt,this.source=Se}}class Xe extends Sn{constructor(tt,Se){super(),this.status=tt,this.source=Se}}class Qe extends Sn{constructor(tt){super(),this.source=tt}}class Bt extends Sn{constructor(tt){super(),this.source=tt}}function Xt(He){return(ne(He)?He.validators:He)||null}function oe(He,tt){return(ne(tt)?tt.asyncValidators:He)||null}function ne(He){return null!=He&&!Array.isArray(He)&&"object"==typeof He}class Ge{constructor(tt,Se){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,e.EWP)(()=>this.statusReactive()),this.statusReactive=(0,e.vPA)(void 0),this._pristine=(0,e.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,e.vPA)(!0),this._touched=(0,e.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,e.vPA)(!1),this._events=new m.B7,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(tt),this._assignAsyncValidators(Se)}get validator(){return this._composedValidatorFn}set validator(tt){this._rawValidators=this._composedValidatorFn=tt}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(tt){this._rawAsyncValidators=this._composedAsyncValidatorFn=tt}get parent(){return this._parent}get status(){return(0,e.O8t)(this.statusReactive)}set status(tt){(0,e.O8t)(()=>this.statusReactive.set(tt))}get valid(){return this.status===pn}get invalid(){return this.status===un}get pending(){return this.status==an}get disabled(){return this.status===hn}get enabled(){return this.status!==hn}get pristine(){return(0,e.O8t)(this.pristineReactive)}set pristine(tt){(0,e.O8t)(()=>this.pristineReactive.set(tt))}get dirty(){return!this.pristine}get touched(){return(0,e.O8t)(this.touchedReactive)}set touched(tt){(0,e.O8t)(()=>this.touchedReactive.set(tt))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(tt){this._assignValidators(tt)}setAsyncValidators(tt){this._assignAsyncValidators(tt)}addValidators(tt){this.setValidators(Ce(tt,this._rawValidators))}addAsyncValidators(tt){this.setAsyncValidators(Ce(tt,this._rawAsyncValidators))}removeValidators(tt){this.setValidators(be(tt,this._rawValidators))}removeAsyncValidators(tt){this.setAsyncValidators(be(tt,this._rawAsyncValidators))}hasValidator(tt){return ve(this._rawValidators,tt)}hasAsyncValidator(tt){return ve(this._rawAsyncValidators,tt)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(tt={}){const Se=!1===this.touched;this.touched=!0;const Tt=tt.sourceControl??this;this._parent&&!tt.onlySelf&&this._parent.markAsTouched({...tt,sourceControl:Tt}),Se&&!1!==tt.emitEvent&&this._events.next(new ct(!0,Tt))}markAllAsTouched(tt={}){this.markAsTouched({onlySelf:!0,emitEvent:tt.emitEvent,sourceControl:this}),this._forEachChild(Se=>Se.markAllAsTouched(tt))}markAsUntouched(tt={}){const Se=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const Tt=tt.sourceControl??this;this._forEachChild(cn=>{cn.markAsUntouched({onlySelf:!0,emitEvent:tt.emitEvent,sourceControl:Tt})}),this._parent&&!tt.onlySelf&&this._parent._updateTouched(tt,Tt),Se&&!1!==tt.emitEvent&&this._events.next(new ct(!1,Tt))}markAsDirty(tt={}){const Se=!0===this.pristine;this.pristine=!1;const Tt=tt.sourceControl??this;this._parent&&!tt.onlySelf&&this._parent.markAsDirty({...tt,sourceControl:Tt}),Se&&!1!==tt.emitEvent&&this._events.next(new at(!1,Tt))}markAsPristine(tt={}){const Se=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const Tt=tt.sourceControl??this;this._forEachChild(cn=>{cn.markAsPristine({onlySelf:!0,emitEvent:tt.emitEvent})}),this._parent&&!tt.onlySelf&&this._parent._updatePristine(tt,Tt),Se&&!1!==tt.emitEvent&&this._events.next(new at(!0,Tt))}markAsPending(tt={}){this.status=an;const Se=tt.sourceControl??this;!1!==tt.emitEvent&&(this._events.next(new Xe(this.status,Se)),this.statusChanges.emit(this.status)),this._parent&&!tt.onlySelf&&this._parent.markAsPending({...tt,sourceControl:Se})}disable(tt={}){const Se=this._parentMarkedDirty(tt.onlySelf);this.status=hn,this.errors=null,this._forEachChild(cn=>{cn.disable({...tt,onlySelf:!0})}),this._updateValue();const Tt=tt.sourceControl??this;!1!==tt.emitEvent&&(this._events.next(new Lt(this.value,Tt)),this._events.next(new Xe(this.status,Tt)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...tt,skipPristineCheck:Se},this),this._onDisabledChange.forEach(cn=>cn(!0))}enable(tt={}){const Se=this._parentMarkedDirty(tt.onlySelf);this.status=pn,this._forEachChild(Tt=>{Tt.enable({...tt,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:tt.emitEvent}),this._updateAncestors({...tt,skipPristineCheck:Se},this),this._onDisabledChange.forEach(Tt=>Tt(!1))}_updateAncestors(tt,Se){this._parent&&!tt.onlySelf&&(this._parent.updateValueAndValidity(tt),tt.skipPristineCheck||this._parent._updatePristine({},Se),this._parent._updateTouched({},Se))}setParent(tt){this._parent=tt}getRawValue(){return this.value}updateValueAndValidity(tt={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const Tt=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===pn||this.status===an)&&this._runAsyncValidator(Tt,tt.emitEvent)}const Se=tt.sourceControl??this;!1!==tt.emitEvent&&(this._events.next(new Lt(this.value,Se)),this._events.next(new Xe(this.status,Se)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!tt.onlySelf&&this._parent.updateValueAndValidity({...tt,sourceControl:Se})}_updateTreeValidity(tt={emitEvent:!0}){this._forEachChild(Se=>Se._updateTreeValidity(tt)),this.updateValueAndValidity({onlySelf:!0,emitEvent:tt.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?hn:pn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(tt,Se){if(this.asyncValidator){this.status=an,this._hasOwnPendingAsyncValidator={emitEvent:!1!==Se};const Tt=R(this.asyncValidator(this));this._asyncValidationSubscription=Tt.subscribe(cn=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(cn,{emitEvent:Se,shouldHaveEmitted:tt})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const tt=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,tt}return!1}setErrors(tt,Se={}){this.errors=tt,this._updateControlsErrors(!1!==Se.emitEvent,this,Se.shouldHaveEmitted)}get(tt){let Se=tt;return null==Se||(Array.isArray(Se)||(Se=Se.split(".")),0===Se.length)?null:Se.reduce((Tt,cn)=>Tt&&Tt._find(cn),this)}getError(tt,Se){const Tt=Se?this.get(Se):this;return Tt&&Tt.errors?Tt.errors[tt]:null}hasError(tt,Se){return!!this.getError(tt,Se)}get root(){let tt=this;for(;tt._parent;)tt=tt._parent;return tt}_updateControlsErrors(tt,Se,Tt){this.status=this._calculateStatus(),tt&&this.statusChanges.emit(this.status),(tt||Tt)&&this._events.next(new Xe(this.status,Se)),this._parent&&this._parent._updateControlsErrors(tt,Se,Tt)}_initObservables(){this.valueChanges=new e.bkB,this.statusChanges=new e.bkB}_calculateStatus(){return this._allControlsDisabled()?hn:this.errors?un:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(an)?an:this._anyControlsHaveStatus(un)?un:pn}_anyControlsHaveStatus(tt){return this._anyControls(Se=>Se.status===tt)}_anyControlsDirty(){return this._anyControls(tt=>tt.dirty)}_anyControlsTouched(){return this._anyControls(tt=>tt.touched)}_updatePristine(tt,Se){const Tt=!this._anyControlsDirty(),cn=this.pristine!==Tt;this.pristine=Tt,this._parent&&!tt.onlySelf&&this._parent._updatePristine(tt,Se),cn&&this._events.next(new at(this.pristine,Se))}_updateTouched(tt={},Se){this.touched=this._anyControlsTouched(),this._events.next(new ct(this.touched,Se)),this._parent&&!tt.onlySelf&&this._parent._updateTouched(tt,Se)}_registerOnCollectionChange(tt){this._onCollectionChange=tt}_setUpdateStrategy(tt){ne(tt)&&null!=tt.updateOn&&(this._updateOn=tt.updateOn)}_parentMarkedDirty(tt){return!tt&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(tt){return null}_assignValidators(tt){this._rawValidators=Array.isArray(tt)?tt.slice():tt,this._composedValidatorFn=function Be(He){return Array.isArray(He)?Me(He):He||null}(this._rawValidators)}_assignAsyncValidators(tt){this._rawAsyncValidators=Array.isArray(tt)?tt.slice():tt,this._composedAsyncValidatorFn=function Ee(He){return Array.isArray(He)?Ct(He):He||null}(this._rawAsyncValidators)}}class Ue extends Ge{constructor(tt,Se,Tt){super(Xt(Se),oe(Tt,Se)),this.controls=tt,this._initObservables(),this._setUpdateStrategy(Se),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(tt,Se){return this.controls[tt]?this.controls[tt]:(this.controls[tt]=Se,Se.setParent(this),Se._registerOnCollectionChange(this._onCollectionChange),Se)}addControl(tt,Se,Tt={}){this.registerControl(tt,Se),this.updateValueAndValidity({emitEvent:Tt.emitEvent}),this._onCollectionChange()}removeControl(tt,Se={}){this.controls[tt]&&this.controls[tt]._registerOnCollectionChange(()=>{}),delete this.controls[tt],this.updateValueAndValidity({emitEvent:Se.emitEvent}),this._onCollectionChange()}setControl(tt,Se,Tt={}){this.controls[tt]&&this.controls[tt]._registerOnCollectionChange(()=>{}),delete this.controls[tt],Se&&this.registerControl(tt,Se),this.updateValueAndValidity({emitEvent:Tt.emitEvent}),this._onCollectionChange()}contains(tt){return this.controls.hasOwnProperty(tt)&&this.controls[tt].enabled}setValue(tt,Se={}){(function Te(He,tt,Se){He._forEachChild((Tt,cn)=>{if(void 0===Se[cn])throw new e.wOt(1002,"")})})(this,0,tt),Object.keys(tt).forEach(Tt=>{(function Ie(He,tt,Se){const Tt=He.controls;if(!(tt?Object.keys(Tt):Tt).length)throw new e.wOt(1e3,"");if(!Tt[Se])throw new e.wOt(1001,"")})(this,!0,Tt),this.controls[Tt].setValue(tt[Tt],{onlySelf:!0,emitEvent:Se.emitEvent})}),this.updateValueAndValidity(Se)}patchValue(tt,Se={}){null!=tt&&(Object.keys(tt).forEach(Tt=>{const cn=this.controls[Tt];cn&&cn.patchValue(tt[Tt],{onlySelf:!0,emitEvent:Se.emitEvent})}),this.updateValueAndValidity(Se))}reset(tt={},Se={}){this._forEachChild((Tt,cn)=>{Tt.reset(tt?tt[cn]:null,{onlySelf:!0,emitEvent:Se.emitEvent})}),this._updatePristine(Se,this),this._updateTouched(Se,this),this.updateValueAndValidity(Se)}getRawValue(){return this._reduceChildren({},(tt,Se,Tt)=>(tt[Tt]=Se.getRawValue(),tt))}_syncPendingControls(){let tt=this._reduceChildren(!1,(Se,Tt)=>!!Tt._syncPendingControls()||Se);return tt&&this.updateValueAndValidity({onlySelf:!0}),tt}_forEachChild(tt){Object.keys(this.controls).forEach(Se=>{const Tt=this.controls[Se];Tt&&tt(Tt,Se)})}_setUpControls(){this._forEachChild(tt=>{tt.setParent(this),tt._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(tt){for(const[Se,Tt]of Object.entries(this.controls))if(this.contains(Se)&&tt(Tt))return!0;return!1}_reduceValue(){return this._reduceChildren({},(Se,Tt,cn)=>((Tt.enabled||this.disabled)&&(Se[cn]=Tt.value),Se))}_reduceChildren(tt,Se){let Tt=tt;return this._forEachChild((cn,Ii)=>{Tt=Se(Tt,cn,Ii)}),Tt}_allControlsDisabled(){for(const tt of Object.keys(this.controls))if(this.controls[tt].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(tt){return this.controls.hasOwnProperty(tt)?this.controls[tt]:null}}const nn=new e.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>En}),En="always";function Un(He,tt){return[...tt.path,He]}function Xn(He,tt,Se=En){Ti(He,tt),tt.valueAccessor.writeValue(He.value),(He.disabled||"always"===Se)&&tt.valueAccessor.setDisabledState?.(He.disabled),function ys(He,tt){tt.valueAccessor.registerOnChange(Se=>{He._pendingValue=Se,He._pendingChange=!0,He._pendingDirty=!0,"change"===He.updateOn&&dt(He,tt)})}(He,tt),function Pt(He,tt){const Se=(Tt,cn)=>{tt.valueAccessor.writeValue(Tt),cn&&tt.viewToModelUpdate(Tt)};He.registerOnChange(Se),tt._registerOnDestroy(()=>{He._unregisterOnChange(Se)})}(He,tt),function wn(He,tt){tt.valueAccessor.registerOnTouched(()=>{He._pendingTouched=!0,"blur"===He.updateOn&&He._pendingChange&&dt(He,tt),"submit"!==He.updateOn&&He.markAsTouched()})}(He,tt),function Ui(He,tt){if(tt.valueAccessor.setDisabledState){const Se=Tt=>{tt.valueAccessor.setDisabledState(Tt)};He.registerOnDisabledChange(Se),tt._registerOnDestroy(()=>{He._unregisterOnDisabledChange(Se)})}}(He,tt)}function Qn(He,tt,Se=!0){const Tt=()=>{};tt.valueAccessor&&(tt.valueAccessor.registerOnChange(Tt),tt.valueAccessor.registerOnTouched(Tt)),Wi(He,tt),He&&(tt._invokeOnDestroyCallbacks(),He._registerOnCollectionChange(()=>{}))}function fi(He,tt){He.forEach(Se=>{Se.registerOnValidatorChange&&Se.registerOnValidatorChange(tt)})}function Ti(He,tt){const Se=Ot(He);null!==tt.validator?He.setValidators(lt(Se,tt.validator)):"function"==typeof Se&&He.setValidators([Se]);const Tt=rt(He);null!==tt.asyncValidator?He.setAsyncValidators(lt(Tt,tt.asyncValidator)):"function"==typeof Tt&&He.setAsyncValidators([Tt]);const cn=()=>He.updateValueAndValidity();fi(tt._rawValidators,cn),fi(tt._rawAsyncValidators,cn)}function Wi(He,tt){let Se=!1;if(null!==He){if(null!==tt.validator){const cn=Ot(He);if(Array.isArray(cn)&&cn.length>0){const Ii=cn.filter(Xi=>Xi!==tt.validator);Ii.length!==cn.length&&(Se=!0,He.setValidators(Ii))}}if(null!==tt.asyncValidator){const cn=rt(He);if(Array.isArray(cn)&&cn.length>0){const Ii=cn.filter(Xi=>Xi!==tt.asyncValidator);Ii.length!==cn.length&&(Se=!0,He.setAsyncValidators(Ii))}}}const Tt=()=>{};return fi(tt._rawValidators,Tt),fi(tt._rawAsyncValidators,Tt),Se}function dt(He,tt){He._pendingDirty&&He.markAsDirty(),He.setValue(He._pendingValue,{emitModelToViewChange:!1}),tt.viewToModelUpdate(He._pendingValue),He._pendingChange=!1}function jt(He,tt){Ti(He,tt)}function Qt(He,tt){if(!He.hasOwnProperty("model"))return!1;const Se=He.model;return!!Se.isFirstChange()||!Object.is(tt,Se.currentValue)}function Ae(He,tt){He._syncPendingControls(),tt.forEach(Se=>{const Tt=Se.control;"submit"===Tt.updateOn&&Tt._pendingChange&&(Se.viewToModelUpdate(Tt._pendingValue),Tt._pendingChange=!1)})}function xe(He,tt){if(!tt)return null;let Se,Tt,cn;return Array.isArray(tt),tt.forEach(Ii=>{Ii.constructor===O?Se=Ii:function se(He){return Object.getPrototypeOf(He.constructor)===b}(Ii)?Tt=Ii:cn=Ii}),cn||Tt||Se||null}const Bn={provide:me,useExisting:(0,e.Rfq)(()=>Pi)},hi=Promise.resolve();let Pi=(()=>{class He extends me{get submitted(){return(0,e.O8t)(this.submittedReactive)}constructor(Se,Tt,cn){super(),this.callSetDisabledState=cn,this._submitted=(0,e.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,e.vPA)(!1),this._directives=new Set,this.ngSubmit=new e.bkB,this.form=new Ue({},Me(Se),Ct(Tt))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(Se){hi.then(()=>{const Tt=this._findContainer(Se.path);Se.control=Tt.registerControl(Se.name,Se.control),Xn(Se.control,Se,this.callSetDisabledState),Se.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(Se)})}getControl(Se){return this.form.get(Se.path)}removeControl(Se){hi.then(()=>{const Tt=this._findContainer(Se.path);Tt&&Tt.removeControl(Se.name),this._directives.delete(Se)})}addFormGroup(Se){hi.then(()=>{const Tt=this._findContainer(Se.path),cn=new Ue({});jt(cn,Se),Tt.registerControl(Se.name,cn),cn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(Se){hi.then(()=>{const Tt=this._findContainer(Se.path);Tt&&Tt.removeControl(Se.name)})}getFormGroup(Se){return this.form.get(Se.path)}updateModel(Se,Tt){hi.then(()=>{this.form.get(Se.path).setValue(Tt)})}setValue(Se){this.control.setValue(Se)}onSubmit(Se){return this.submittedReactive.set(!0),Ae(this.form,this._directives),this.ngSubmit.emit(Se),"dialog"===Se?.target?.method}onReset(){this.resetForm()}resetForm(Se=void 0){this.form.reset(Se),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(Se){return Se.pop(),Se.length?this.form.get(Se):this.form}static#e=this.\u0275fac=function(Tt){return new(Tt||He)(e.rXU(K,10),e.rXU(F,10),e.rXU(nn,8))};static#t=this.\u0275dir=e.FsC({type:He,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(Tt,cn){1&Tt&&e.bIt("submit",function(Xi){return cn.onSubmit(Xi)})("reset",function(){return cn.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e.Jv_([Bn]),e.Vt3]})}return He})();function Vi(He,tt){const Se=He.indexOf(tt);Se>-1&&He.splice(Se,1)}function zi(He){return"object"==typeof He&&null!==He&&2===Object.keys(He).length&&"value"in He&&"disabled"in He}const wi=class extends Ge{constructor(tt=null,Se,Tt){super(Xt(Se),oe(Tt,Se)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(tt),this._setUpdateStrategy(Se),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ne(Se)&&(Se.nonNullable||Se.initialValueIsDefault)&&(this.defaultValue=zi(tt)?tt.value:tt)}setValue(tt,Se={}){this.value=this._pendingValue=tt,this._onChange.length&&!1!==Se.emitModelToViewChange&&this._onChange.forEach(Tt=>Tt(this.value,!1!==Se.emitViewToModelChange)),this.updateValueAndValidity(Se)}patchValue(tt,Se={}){this.setValue(tt,Se)}reset(tt=this.defaultValue,Se={}){this._applyFormState(tt),this.markAsPristine(Se),this.markAsUntouched(Se),this.setValue(this.value,Se),this._pendingChange=!1}_updateValue(){}_anyControls(tt){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(tt){this._onChange.push(tt)}_unregisterOnChange(tt){Vi(this._onChange,tt)}registerOnDisabledChange(tt){this._onDisabledChange.push(tt)}_unregisterOnDisabledChange(tt){Vi(this._onDisabledChange,tt)}_forEachChild(tt){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(tt){zi(tt)?(this.value=this._pendingValue=tt.value,tt.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=tt}};let Hs=(()=>{class He extends me{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Un(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=(()=>{let Se;return function(cn){return(Se||(Se=e.xGo(He)))(cn||He)}})();static#t=this.\u0275dir=e.FsC({type:He,features:[e.Vt3]})}return He})();const bo={provide:$e,useExisting:(0,e.Rfq)(()=>Zs)},kr=Promise.resolve();let Zs=(()=>{class He extends $e{constructor(Se,Tt,cn,Ii,Xi,ar){super(),this._changeDetectorRef=Xi,this.callSetDisabledState=ar,this.control=new wi,this._registered=!1,this.name="",this.update=new e.bkB,this._parent=Se,this._setValidators(Tt),this._setAsyncValidators(cn),this.valueAccessor=xe(0,Ii)}ngOnChanges(Se){if(this._checkForErrors(),!this._registered||"name"in Se){if(this._registered&&(this._checkName(),this.formDirective)){const Tt=Se.name.previousValue;this.formDirective.removeControl({name:Tt,path:this._getPath(Tt)})}this._setUpControl()}"isDisabled"in Se&&this._updateDisabled(Se),Qt(Se,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(Se){this.viewModel=Se,this.update.emit(Se)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Xn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(Se){kr.then(()=>{this.control.setValue(Se,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(Se){const Tt=Se.isDisabled.currentValue,cn=0!==Tt&&(0,e.L39)(Tt);kr.then(()=>{cn&&!this.control.disabled?this.control.disable():!cn&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(Se){return this._parent?Un(Se,this._parent):[Se]}static#e=this.\u0275fac=function(Tt){return new(Tt||He)(e.rXU(me,9),e.rXU(K,10),e.rXU(F,10),e.rXU(u,10),e.rXU(e.gRc,8),e.rXU(nn,8))};static#t=this.\u0275dir=e.FsC({type:He,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[e.Jv_([bo]),e.Vt3,e.OA$]})}return He})(),zo=(()=>{class He{static#e=this.\u0275fac=function(Tt){return new(Tt||He)};static#t=this.\u0275dir=e.FsC({type:He,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return He})();const io={provide:u,useExisting:(0,e.Rfq)(()=>Po),multi:!0};let Po=(()=>{class He extends b{writeValue(Se){this.setProperty("value",Se??"")}registerOnChange(Se){this.onChange=Tt=>{Se(""==Tt?null:parseFloat(Tt))}}static#e=this.\u0275fac=(()=>{let Se;return function(cn){return(Se||(Se=e.xGo(He)))(cn||He)}})();static#t=this.\u0275dir=e.FsC({type:He,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(Tt,cn){1&Tt&&e.bIt("input",function(Xi){return cn.onChange(Xi.target.value)})("blur",function(){return cn.onTouched()})},features:[e.Jv_([io]),e.Vt3]})}return He})();const Pr={provide:u,useExisting:(0,e.Rfq)(()=>Wr),multi:!0};let so=(()=>{class He{constructor(){this._accessors=[]}add(Se,Tt){this._accessors.push([Se,Tt])}remove(Se){for(let Tt=this._accessors.length-1;Tt>=0;--Tt)if(this._accessors[Tt][1]===Se)return void this._accessors.splice(Tt,1)}select(Se){this._accessors.forEach(Tt=>{this._isSameGroup(Tt,Se)&&Tt[1]!==Se&&Tt[1].fireUncheck(Se.value)})}_isSameGroup(Se,Tt){return!!Se[0].control&&Se[0]._parent===Tt._control._parent&&Se[1].name===Tt.name}static#e=this.\u0275fac=function(Tt){return new(Tt||He)};static#t=this.\u0275prov=e.jDH({token:He,factory:He.\u0275fac,providedIn:"root"})}return He})(),Wr=(()=>{class He extends b{constructor(Se,Tt,cn,Ii){super(Se,Tt),this._registry=cn,this._injector=Ii,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,e.WQX)(nn,{optional:!0})??En}ngOnInit(){this._control=this._injector.get($e),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(Se){this._state=Se===this.value,this.setProperty("checked",this._state)}registerOnChange(Se){this._fn=Se,this.onChange=()=>{Se(this.value),this._registry.select(this)}}setDisabledState(Se){(this.setDisabledStateFired||Se||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",Se),this.setDisabledStateFired=!0}fireUncheck(Se){this.writeValue(Se)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static#e=this.\u0275fac=function(Tt){return new(Tt||He)(e.rXU(e.sFG),e.rXU(e.aKT),e.rXU(so),e.rXU(e.zZn))};static#t=this.\u0275dir=e.FsC({type:He,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(Tt,cn){1&Tt&&e.bIt("change",function(){return cn.onChange()})("blur",function(){return cn.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[e.Jv_([Pr]),e.Vt3]})}return He})();const Bs=new e.nKC(""),yo={provide:me,useExisting:(0,e.Rfq)(()=>Sr)};let Sr=(()=>{class He extends me{get submitted(){return(0,e.O8t)(this._submittedReactive)}set submitted(Se){this._submittedReactive.set(Se)}constructor(Se,Tt,cn){super(),this.callSetDisabledState=cn,this._submitted=(0,e.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,e.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new e.bkB,this._setValidators(Se),this._setAsyncValidators(Tt)}ngOnChanges(Se){this._checkFormPresent(),Se.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Wi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(Se){const Tt=this.form.get(Se.path);return Xn(Tt,Se,this.callSetDisabledState),Tt.updateValueAndValidity({emitEvent:!1}),this.directives.push(Se),Tt}getControl(Se){return this.form.get(Se.path)}removeControl(Se){Qn(Se.control||null,Se,!1),function bt(He,tt){const Se=He.indexOf(tt);Se>-1&&He.splice(Se,1)}(this.directives,Se)}addFormGroup(Se){this._setUpFormContainer(Se)}removeFormGroup(Se){this._cleanUpFormContainer(Se)}getFormGroup(Se){return this.form.get(Se.path)}addFormArray(Se){this._setUpFormContainer(Se)}removeFormArray(Se){this._cleanUpFormContainer(Se)}getFormArray(Se){return this.form.get(Se.path)}updateModel(Se,Tt){this.form.get(Se.path).setValue(Tt)}onSubmit(Se){return this._submittedReactive.set(!0),Ae(this.form,this.directives),this.ngSubmit.emit(Se),this.form._events.next(new Qe(this.control)),"dialog"===Se?.target?.method}onReset(){this.resetForm()}resetForm(Se=void 0){this.form.reset(Se),this._submittedReactive.set(!1),this.form._events.next(new Bt(this.form))}_updateDomValue(){this.directives.forEach(Se=>{const Tt=Se.control,cn=this.form.get(Se.path);Tt!==cn&&(Qn(Tt||null,Se),(He=>He instanceof wi)(cn)&&(Xn(cn,Se,this.callSetDisabledState),Se.control=cn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(Se){const Tt=this.form.get(Se.path);jt(Tt,Se),Tt.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(Se){if(this.form){const Tt=this.form.get(Se.path);Tt&&function Pn(He,tt){return Wi(He,tt)}(Tt,Se)&&Tt.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ti(this.form,this),this._oldForm&&Wi(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(Tt){return new(Tt||He)(e.rXU(K,10),e.rXU(F,10),e.rXU(nn,8))};static#t=this.\u0275dir=e.FsC({type:He,selectors:[["","formGroup",""]],hostBindings:function(Tt,cn){1&Tt&&e.bIt("submit",function(Xi){return cn.onSubmit(Xi)})("reset",function(){return cn.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[e.Jv_([yo]),e.Vt3,e.OA$]})}return He})();const Re={provide:me,useExisting:(0,e.Rfq)(()=>wt)};let wt=(()=>{class He extends Hs{constructor(Se,Tt,cn){super(),this.name=null,this._parent=Se,this._setValidators(Tt),this._setAsyncValidators(cn)}_checkParentType(){Ei(this._parent)}static#e=this.\u0275fac=function(Tt){return new(Tt||He)(e.rXU(me,13),e.rXU(K,10),e.rXU(F,10))};static#t=this.\u0275dir=e.FsC({type:He,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[e.Jv_([Re]),e.Vt3]})}return He})();const ln={provide:me,useExisting:(0,e.Rfq)(()=>xn)};let xn=(()=>{class He extends me{constructor(Se,Tt,cn){super(),this.name=null,this._parent=Se,this._setValidators(Tt),this._setAsyncValidators(cn)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Un(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Ei(this._parent)}static#e=this.\u0275fac=function(Tt){return new(Tt||He)(e.rXU(me,13),e.rXU(K,10),e.rXU(F,10))};static#t=this.\u0275dir=e.FsC({type:He,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[e.Jv_([ln]),e.Vt3]})}return He})();function Ei(He){return!(He instanceof wt||He instanceof Sr||He instanceof xn)}const pi={provide:$e,useExisting:(0,e.Rfq)(()=>Ki)};let Ki=(()=>{class He extends $e{set isDisabled(Se){}static#e=this._ngModelWarningSentOnce=!1;constructor(Se,Tt,cn,Ii,Xi){super(),this._ngModelWarningConfig=Xi,this._added=!1,this.name=null,this.update=new e.bkB,this._ngModelWarningSent=!1,this._parent=Se,this._setValidators(Tt),this._setAsyncValidators(cn),this.valueAccessor=xe(0,Ii)}ngOnChanges(Se){this._added||this._setUpControl(),Qt(Se,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(Se){this.viewModel=Se,this.update.emit(Se)}get path(){return Un(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(Tt){return new(Tt||He)(e.rXU(me,13),e.rXU(K,10),e.rXU(F,10),e.rXU(u,10),e.rXU(Bs,8))};static#n=this.\u0275dir=e.FsC({type:He,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[e.Jv_([pi]),e.Vt3,e.OA$]})}return He})();const Li={provide:u,useExisting:(0,e.Rfq)(()=>ks),multi:!0};function bs(He,tt){return null==He?`${tt}`:(tt&&"object"==typeof tt&&(tt="Object"),`${He}: ${tt}`.slice(0,50))}let ks=(()=>{class He extends b{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(Se){this._compareWith=Se}writeValue(Se){this.value=Se;const cn=bs(this._getOptionId(Se),Se);this.setProperty("value",cn)}registerOnChange(Se){this.onChange=Tt=>{this.value=this._getOptionValue(Tt),Se(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(Se){for(const Tt of this._optionMap.keys())if(this._compareWith(this._optionMap.get(Tt),Se))return Tt;return null}_getOptionValue(Se){const Tt=function us(He){return He.split(":")[0]}(Se);return this._optionMap.has(Tt)?this._optionMap.get(Tt):Se}static#e=this.\u0275fac=(()=>{let Se;return function(cn){return(Se||(Se=e.xGo(He)))(cn||He)}})();static#t=this.\u0275dir=e.FsC({type:He,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(Tt,cn){1&Tt&&e.bIt("change",function(Xi){return cn.onChange(Xi.target.value)})("blur",function(){return cn.onTouched()})},inputs:{compareWith:"compareWith"},features:[e.Jv_([Li]),e.Vt3]})}return He})(),sr=(()=>{class He{constructor(Se,Tt,cn){this._element=Se,this._renderer=Tt,this._select=cn,this._select&&(this.id=this._select._registerOption())}set ngValue(Se){null!=this._select&&(this._select._optionMap.set(this.id,Se),this._setElementValue(bs(this.id,Se)),this._select.writeValue(this._select.value))}set value(Se){this._setElementValue(Se),this._select&&this._select.writeValue(this._select.value)}_setElementValue(Se){this._renderer.setProperty(this._element.nativeElement,"value",Se)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(Tt){return new(Tt||He)(e.rXU(e.aKT),e.rXU(e.sFG),e.rXU(ks,9))};static#t=this.\u0275dir=e.FsC({type:He,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return He})();const os={provide:u,useExisting:(0,e.Rfq)(()=>Ys),multi:!0};function qs(He,tt){return null==He?`${tt}`:("string"==typeof tt&&(tt=`'${tt}'`),tt&&"object"==typeof tt&&(tt="Object"),`${He}: ${tt}`.slice(0,50))}let Ys=(()=>{class He extends b{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(Se){this._compareWith=Se}writeValue(Se){let Tt;if(this.value=Se,Array.isArray(Se)){const cn=Se.map(Ii=>this._getOptionId(Ii));Tt=(Ii,Xi)=>{Ii._setSelected(cn.indexOf(Xi.toString())>-1)}}else Tt=(cn,Ii)=>{cn._setSelected(!1)};this._optionMap.forEach(Tt)}registerOnChange(Se){this.onChange=Tt=>{const cn=[],Ii=Tt.selectedOptions;if(void 0!==Ii){const Xi=Ii;for(let ar=0;ar<Xi.length;ar++){const ga=this._getOptionValue(Xi[ar].value);cn.push(ga)}}else{const Xi=Tt.options;for(let ar=0;ar<Xi.length;ar++){const mi=Xi[ar];if(mi.selected){const ga=this._getOptionValue(mi.value);cn.push(ga)}}}this.value=cn,Se(cn)}}_registerOption(Se){const Tt=(this._idCounter++).toString();return this._optionMap.set(Tt,Se),Tt}_getOptionId(Se){for(const Tt of this._optionMap.keys())if(this._compareWith(this._optionMap.get(Tt)._value,Se))return Tt;return null}_getOptionValue(Se){const Tt=function Xs(He){return He.split(":")[0]}(Se);return this._optionMap.has(Tt)?this._optionMap.get(Tt)._value:Se}static#e=this.\u0275fac=(()=>{let Se;return function(cn){return(Se||(Se=e.xGo(He)))(cn||He)}})();static#t=this.\u0275dir=e.FsC({type:He,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(Tt,cn){1&Tt&&e.bIt("change",function(Xi){return cn.onChange(Xi.target)})("blur",function(){return cn.onTouched()})},inputs:{compareWith:"compareWith"},features:[e.Jv_([os]),e.Vt3]})}return He})(),rr=(()=>{class He{constructor(Se,Tt,cn){this._element=Se,this._renderer=Tt,this._select=cn,this._select&&(this.id=this._select._registerOption(this))}set ngValue(Se){null!=this._select&&(this._value=Se,this._setElementValue(qs(this.id,Se)),this._select.writeValue(this._select.value))}set value(Se){this._select?(this._value=Se,this._setElementValue(qs(this.id,Se)),this._select.writeValue(this._select.value)):this._setElementValue(Se)}_setElementValue(Se){this._renderer.setProperty(this._element.nativeElement,"value",Se)}_setSelected(Se){this._renderer.setProperty(this._element.nativeElement,"selected",Se)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(Tt){return new(Tt||He)(e.rXU(e.aKT),e.rXU(e.sFG),e.rXU(Ys,9))};static#t=this.\u0275dir=e.FsC({type:He,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return He})();let or=(()=>{class He{constructor(){this._validator=Q}ngOnChanges(Se){if(this.inputName in Se){const Tt=this.normalizeInput(Se[this.inputName].currentValue);this._enabled=this.enabled(Tt),this._validator=this._enabled?this.createValidator(Tt):Q,this._onChange&&this._onChange()}}validate(Se){return this._validator(Se)}registerOnValidatorChange(Se){this._onChange=Se}enabled(Se){return null!=Se}static#e=this.\u0275fac=function(Tt){return new(Tt||He)};static#t=this.\u0275dir=e.FsC({type:He,features:[e.OA$]})}return He})();const Ur={provide:K,useExisting:(0,e.Rfq)(()=>Fr),multi:!0},Fo={provide:K,useExisting:(0,e.Rfq)(()=>Er),multi:!0};let Fr=(()=>{class He extends or{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=e.L39,this.createValidator=Se=>$}enabled(Se){return Se}static#e=this.\u0275fac=(()=>{let Se;return function(cn){return(Se||(Se=e.xGo(He)))(cn||He)}})();static#t=this.\u0275dir=e.FsC({type:He,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(Tt,cn){2&Tt&&e.BMQ("required",cn._enabled?"":null)},inputs:{required:"required"},features:[e.Jv_([Ur]),e.Vt3]})}return He})(),Er=(()=>{class He extends Fr{constructor(){super(...arguments),this.createValidator=Se=>B}static#e=this.\u0275fac=(()=>{let Se;return function(cn){return(Se||(Se=e.xGo(He)))(cn||He)}})();static#t=this.\u0275dir=e.FsC({type:He,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(Tt,cn){2&Tt&&e.BMQ("required",cn._enabled?"":null)},features:[e.Jv_([Fo]),e.Vt3]})}return He})();const Fs={provide:K,useExisting:(0,e.Rfq)(()=>Va),multi:!0};let Va=(()=>{class He extends or{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=Se=>function Yn(He){return"number"==typeof He?He:parseInt(He,10)}(Se),this.createValidator=Se=>w(Se)}static#e=this.\u0275fac=(()=>{let Se;return function(cn){return(Se||(Se=e.xGo(He)))(cn||He)}})();static#t=this.\u0275dir=e.FsC({type:He,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(Tt,cn){2&Tt&&e.BMQ("maxlength",cn._enabled?cn.maxlength:null)},inputs:{maxlength:"maxlength"},features:[e.Jv_([Fs]),e.Vt3]})}return He})(),cl=(()=>{class He{static#e=this.\u0275fac=function(Tt){return new(Tt||He)};static#t=this.\u0275mod=e.$C({type:He});static#n=this.\u0275inj=e.G2t({})}return He})(),oo=(()=>{class He{static withConfig(Se){return{ngModule:He,providers:[{provide:nn,useValue:Se.callSetDisabledState??En}]}}static#e=this.\u0275fac=function(Tt){return new(Tt||He)};static#t=this.\u0275mod=e.$C({type:He});static#n=this.\u0275inj=e.G2t({imports:[cl]})}return He})(),Wa=(()=>{class He{static withConfig(Se){return{ngModule:He,providers:[{provide:Bs,useValue:Se.warnOnNgModelWithFormControl??"always"},{provide:nn,useValue:Se.callSetDisabledState??En}]}}static#e=this.\u0275fac=function(Tt){return new(Tt||He)};static#t=this.\u0275mod=e.$C({type:He});static#n=this.\u0275inj=e.G2t({imports:[cl]})}return He})()},850:(Mt,pe,a)=>{"use strict";a.d(pe,{$3:()=>fe,Vn:()=>Me,jL:()=>ve,pN:()=>vt});var e=a(3953),i=a(6600),d=a(177),p=a(3701),m=a(7987),_=a(9888),g=a(6860),b=a(9969),u=a(4337),S=a(5286),D=a(9418),E=a(4670),A=a(4421),v=a(3586),O=a(5817),z=a(7336),G=a(9327),K=a(6939),F=a(9417),H=a(3719),Y=a(3176),P=a(9090),U=a(8728),$=a(5006),B=a(8841),y=a(8002),I=a(9493),w=a(8203);const L=["panel"],Q=["*"];function te(Ce,be){if(1&Ce){const ue=e.RV6();e.j41(0,"div",1,0),e.bIt("@panelAnimation.done",function($e){e.eBV(ue);const Et=e.XpG();return e.Njj(Et._animationDone.next($e))}),e.SdG(2),e.k0s()}if(2&Ce){const ue=be.id,me=e.XpG();e.HbH(me._classList),e.AVh("mat-mdc-autocomplete-visible",me.showPanel)("mat-mdc-autocomplete-hidden",!me.showPanel)("mat-primary","primary"===me._color)("mat-accent","accent"===me._color)("mat-warn","warn"===me._color),e.Y8G("id",me.id)("@panelAnimation",me.isOpen?"visible":"hidden"),e.BMQ("aria-label",me.ariaLabel||null)("aria-labelledby",me._getPanelAriaLabelledby(ue))}}const R=(0,b.hZ)("panelAnimation",[(0,b.wk)("void, hidden",(0,b.iF)({opacity:0,transform:"scaleY(0.8)"})),(0,b.kY)(":enter, hidden => visible",[(0,b.Os)([(0,b.i0)("0.03s linear",(0,b.iF)({opacity:1})),(0,b.i0)("0.12s cubic-bezier(0, 0, 0.2, 1)",(0,b.iF)({transform:"scaleY(1)"}))])]),(0,b.kY)(":leave, visible => hidden",[(0,b.i0)("0.075s linear",(0,b.iF)({opacity:0}))])]);let ee=0;class k{constructor(be,ue){this.source=be,this.option=ue}}const J=new e.nKC("mat-autocomplete-default-options",{providedIn:"root",factory:function X(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}});let fe=(()=>{class Ce{get isOpen(){return this._isOpen&&this.showPanel}_setColor(ue){this._color=ue,this._changeDetectorRef.markForCheck()}set classList(ue){this._classList=ue,this._elementRef.nativeElement.className=""}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(ue){this._hideSingleSelectionIndicator=ue,this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const ue of this.options)ue._changeDetectorRef.markForCheck()}constructor(ue,me,$e,Et){this._changeDetectorRef=ue,this._elementRef=me,this._defaults=$e,this._activeOptionChanges=u.y.EMPTY,this._animationDone=new e.bkB,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new e.bkB,this.opened=new e.bkB,this.closed=new e.bkB,this.optionActivated=new e.bkB,this.id="mat-autocomplete-"+ee++,this.inertGroups=Et?.SAFARI||!1,this.autoActiveFirstOption=!!$e.autoActiveFirstOption,this.autoSelectActiveOption=!!$e.autoSelectActiveOption,this.requireSelection=!!$e.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new _.Au(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(ue=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[ue]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe(),this._animationDone.complete()}_setScrollTop(ue){this.panel&&(this.panel.nativeElement.scrollTop=ue)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._changeDetectorRef.markForCheck()}_emitSelectEvent(ue){const me=new k(this,ue);this.optionSelected.emit(me)}_getPanelAriaLabelledby(ue){return this.ariaLabel?null:this.ariaLabelledby?(ue?ue+" ":"")+this.ariaLabelledby:ue}_skipPredicate(){return!1}static#e=this.\u0275fac=function(me){return new(me||Ce)(e.rXU(e.gRc),e.rXU(e.aKT),e.rXU(J),e.rXU(g.OD))};static#t=this.\u0275cmp=e.VBU({type:Ce,selectors:[["mat-autocomplete"]],contentQueries:function(me,$e,Et){if(1&me&&(e.wni(Et,i.wT,5),e.wni(Et,i.QC,5)),2&me){let Ve;e.mGM(Ve=e.lsd())&&($e.options=Ve),e.mGM(Ve=e.lsd())&&($e.optionGroups=Ve)}},viewQuery:function(me,$e){if(1&me&&(e.GBs(e.C4Q,7),e.GBs(L,5)),2&me){let Et;e.mGM(Et=e.lsd())&&($e.template=Et.first),e.mGM(Et=e.lsd())&&($e.panel=Et.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[2,"autoActiveFirstOption","autoActiveFirstOption",e.L39],autoSelectActiveOption:[2,"autoSelectActiveOption","autoSelectActiveOption",e.L39],requireSelection:[2,"requireSelection","requireSelection",e.L39],panelWidth:"panelWidth",disableRipple:[2,"disableRipple","disableRipple",e.L39],classList:[0,"class","classList"],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",e.L39]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],standalone:!0,features:[e.Jv_([{provide:i.is,useExisting:Ce}]),e.GFd,e.aNF],ngContentSelectors:Q,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id"]],template:function(me,$e){1&me&&(e.NAR(),e.DNE(0,te,3,16,"ng-template"))},styles:["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:static;border-radius:var(--mat-autocomplete-container-shape, var(--mat-app-corner-extra-small));box-shadow:var(--mat-autocomplete-container-elevation-shadow);background-color:var(--mat-autocomplete-background-color, var(--mat-app-surface-container))}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[R]},changeDetection:0})}return Ce})(),Me=(()=>{class Ce{constructor(ue){this.elementRef=ue}static#e=this.\u0275fac=function(me){return new(me||Ce)(e.rXU(e.aKT))};static#t=this.\u0275dir=e.FsC({type:Ce,selectors:[["","matAutocompleteOrigin",""]],exportAs:["matAutocompleteOrigin"],standalone:!0})}return Ce})();const Ze={provide:F.kq,useExisting:(0,e.Rfq)(()=>vt),multi:!0},lt=new e.nKC("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{const Ce=(0,e.WQX)(m.hJ);return()=>Ce.scrollStrategies.reposition()}}),rt={provide:lt,deps:[m.hJ],useFactory:function Ot(Ce){return()=>Ce.scrollStrategies.reposition()}};let vt=(()=>{class Ce{constructor(ue,me,$e,Et,Ve,st,ht,Vt,qe,gt,ot){this._element=ue,this._overlay=me,this._viewContainerRef=$e,this._zone=Et,this._changeDetectorRef=Ve,this._dir=ht,this._formField=Vt,this._document=qe,this._viewportRuler=gt,this._defaults=ot,this._componentDestroyed=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=u.y.EMPTY,this._breakpointObserver=(0,e.WQX)(G.QP),this._handsetLandscapeSubscription=u.y.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new S.B7,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._initialized=new S.B7,this._injector=(0,e.WQX)(e.zZn),this._aboveClass="mat-mdc-autocomplete-panel-above",this._overlayAttached=!1,this.optionSelections=(0,D.v)(()=>{const ae=this.autocomplete?this.autocomplete.options:null;return ae?ae.changes.pipe((0,Y.Z)(ae),(0,P.n)(()=>(0,E.h)(...ae.map(Oe=>Oe.onSelectionChange)))):this._initialized.pipe((0,P.n)(()=>this.optionSelections))}),this._handlePanelKeydown=ae=>{(ae.keyCode===z._f&&!(0,z.rp)(ae)||ae.keyCode===z.i7&&(0,z.rp)(ae,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),ae.stopPropagation(),ae.preventDefault())},this._trackedModal=null,this._scrollStrategy=st}ngAfterViewInit(){this._initialized.next(),this._initialized.complete();const ue=this._getWindow();typeof ue<"u"&&this._zone.runOutsideAngular(()=>ue.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(ue){ue.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const ue=this._getWindow();typeof ue<"u"&&ue.removeEventListener("blur",this._windowBlurHandler),this._handsetLandscapeSubscription.unsubscribe(),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._latestOpeningTrigger===this&&(this.autocomplete._isOpen=!1,this.autocomplete._latestOpeningTrigger=null),this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal&&(0,_.Ae)(this._trackedModal,"aria-owns",this.autocomplete.id))}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return(0,E.h)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe((0,U.p)(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe((0,U.p)(()=>this._overlayAttached)):(0,A.of)()).pipe((0,$.T)(ue=>ue instanceof i.MI?ue:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return(0,E.h)((0,v.R)(this._document,"click"),(0,v.R)(this._document,"auxclick"),(0,v.R)(this._document,"touchend")).pipe((0,U.p)(ue=>{const me=(0,g.Fb)(ue),$e=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,Et=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&me!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!$e||!$e.contains(me))&&(!Et||!Et.contains(me))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(me)}))}writeValue(ue){Promise.resolve(null).then(()=>this._assignOptionValue(ue))}registerOnChange(ue){this._onChange=ue}registerOnTouched(ue){this._onTouched=ue}setDisabledState(ue){this._element.nativeElement.disabled=ue}_handleKeydown(ue){const me=ue.keyCode,$e=(0,z.rp)(ue);if(me===z._f&&!$e&&ue.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&me===z.Fm&&this.panelOpen&&!$e)this.activeOption._selectViaInteraction(),this._resetActiveItem(),ue.preventDefault();else if(this.autocomplete){const Et=this.autocomplete._keyManager.activeItem,Ve=me===z.i7||me===z.n6;me===z.wn||Ve&&!$e&&this.panelOpen?this.autocomplete._keyManager.onKeydown(ue):Ve&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(Ve||this.autocomplete._keyManager.activeItem!==Et)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(ue){let me=ue.target,$e=me.value;if("number"===me.type&&($e=""==$e?null:parseFloat($e)),this._previousValue!==$e){if(this._previousValue=$e,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange($e),$e){if(this.panelOpen&&!this.autocomplete.requireSelection){const Et=this.autocomplete.options?.find(Ve=>Ve.selected);Et&&$e!==this._getDisplayValue(Et.value)&&Et.deselect(!1)}}else this._clearPreviousSelectedOption(null,!1);if(this._canOpen()&&this._document.activeElement===ue.target){const Et=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(Et)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_floatLabel(ue=!1){this._formField&&"auto"===this._formField.floatLabel&&(ue?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const ue=new O.c($e=>{(0,e.mal)(()=>{$e.next()},{injector:this._injector})}),me=this.autocomplete.options.changes.pipe((0,B.M)(()=>this._positionStrategy.reapplyLastPosition()),(0,y.c)(0));return(0,E.h)(ue,me).pipe((0,P.n)(()=>this._zone.run(()=>{const $e=this.panelOpen;return this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),$e!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit()),this.panelClosingActions})),(0,I.s)(1)).subscribe($e=>this._setValueAndClose($e))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(ue){const me=this.autocomplete;return me&&me.displayWith?me.displayWith(ue):ue}_assignOptionValue(ue){const me=this._getDisplayValue(ue);null==ue&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(me??"")}_updateNativeInputValue(ue){this._formField?this._formField._control.value=ue:this._element.nativeElement.value=ue,this._previousValue=ue}_setValueAndClose(ue){const me=this.autocomplete,$e=ue?ue.source:this._pendingAutoselectedOption;$e?(this._clearPreviousSelectedOption($e),this._assignOptionValue($e.value),this._onChange($e.value),me._emitSelectEvent($e),this._element.nativeElement.focus()):me.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),me._animationDone?me._animationDone.pipe((0,I.s)(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(ue,me){this.autocomplete?.options?.forEach($e=>{$e!==ue&&$e.selected&&$e.deselect(me)})}_openPanelInternal(ue=this._element.nativeElement.value){this._attachOverlay(ue),this._floatLabel(),this._trackedModal&&(0,_.px)(this._trackedModal,"aria-owns",this.autocomplete.id)}_attachOverlay(ue){let me=this._overlayRef;me?(this._positionStrategy.setOrigin(this._getConnectedElement()),me.updateSize({width:this._getPanelWidth()})):(this._portal=new K.VA(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),me=this._overlay.create(this._getOverlayConfig()),this._overlayRef=me,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&me&&me.updateSize({width:this._getPanelWidth()})}),this._handsetLandscapeSubscription=this._breakpointObserver.observe(G.Rp.HandsetLandscape).subscribe(Et=>{Et.matches?this._positionStrategy.withFlexibleDimensions(!0).withGrowAfterOpen(!0).withViewportMargin(8):this._positionStrategy.withFlexibleDimensions(!1).withGrowAfterOpen(!1).withViewportMargin(0)})),me&&!me.hasAttached()&&(me.attach(this._portal),this._valueOnAttach=ue,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());const $e=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._latestOpeningTrigger=this,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&$e!==this.panelOpen&&this._emitOpened()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){const ue=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=ue.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=ue.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new m.rR({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const ue=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(ue),this._positionStrategy=ue,ue}_setStrategyPositions(ue){const me=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],$e=this._aboveClass,Et=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:$e},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:$e}];let Ve;Ve="above"===this.position?Et:"below"===this.position?me:[...me,...Et],ue.withPositions(Ve)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const ue=this.autocomplete;if(ue.autoActiveFirstOption){let me=-1;for(let $e=0;$e<ue.options.length;$e++)if(!ue.options.get($e).disabled){me=$e;break}ue._keyManager.setActiveItem(me)}else ue._keyManager.setActiveItem(-1)}_canOpen(){const ue=this._element.nativeElement;return!ue.readOnly&&!ue.disabled&&!this.autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(ue){const me=this.autocomplete,$e=(0,i.jb)(ue,me.options,me.optionGroups);if(0===ue&&1===$e)me._setScrollTop(0);else if(me.panel){const Et=me.options.toArray()[ue];if(Et){const Ve=Et._getHostElement(),st=(0,i.TL)(Ve.offsetTop,Ve.offsetHeight,me._getScrollTop(),me.panel.nativeElement.offsetHeight);me._setScrollTop(st)}}}_applyModalPanelOwnership(){const ue=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!ue)return;const me=this.autocomplete.id;this._trackedModal&&(0,_.Ae)(this._trackedModal,"aria-owns",me),(0,_.px)(ue,"aria-owns",me),this._trackedModal=ue}_clearFromModal(){this._trackedModal&&((0,_.Ae)(this._trackedModal,"aria-owns",this.autocomplete.id),this._trackedModal=null)}static#e=this.\u0275fac=function(me){return new(me||Ce)(e.rXU(e.aKT),e.rXU(m.hJ),e.rXU(e.c1b),e.rXU(e.SKi),e.rXU(e.gRc),e.rXU(lt),e.rXU(w.dS,8),e.rXU(H.xb,9),e.rXU(d.qQ,8),e.rXU(p.Xj),e.rXU(J,8))};static#t=this.\u0275dir=e.FsC({type:Ce,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(me,$e){1&me&&e.bIt("focusin",function(){return $e._handleFocus()})("blur",function(){return $e._onTouched()})("input",function(Ve){return $e._handleInput(Ve)})("keydown",function(Ve){return $e._handleKeydown(Ve)})("click",function(){return $e._handleClick()}),2&me&&e.BMQ("autocomplete",$e.autocompleteAttribute)("role",$e.autocompleteDisabled?null:"combobox")("aria-autocomplete",$e.autocompleteDisabled?null:"list")("aria-activedescendant",$e.panelOpen&&$e.activeOption?$e.activeOption.id:null)("aria-expanded",$e.autocompleteDisabled?null:$e.panelOpen.toString())("aria-controls",$e.autocompleteDisabled||!$e.panelOpen||null==$e.autocomplete?null:$e.autocomplete.id)("aria-haspopup",$e.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[0,"matAutocomplete","autocomplete"],position:[0,"matAutocompletePosition","position"],connectedTo:[0,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[0,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[2,"matAutocompleteDisabled","autocompleteDisabled",e.L39]},exportAs:["matAutocompleteTrigger"],standalone:!0,features:[e.Jv_([Ze]),e.GFd,e.OA$]})}return Ce})(),ve=(()=>{class Ce{static#e=this.\u0275fac=function(me){return new(me||Ce)};static#t=this.\u0275mod=e.$C({type:Ce});static#n=this.\u0275inj=e.G2t({providers:[rt],imports:[m.z_,i.Sy,i.yE,d.MD,p.Gj,i.Sy,i.yE]})}return Ce})()},6665:(Mt,pe,a)=>{"use strict";a.d(pe,{VK:()=>P,eN:()=>H,vF:()=>U});var e=a(2529),i=a(6939),d=a(3953),p=a(6600),m=a(9888),_=a(9327),g=a(7987),b=a(177),u=a(9969),S=a(7336),D=a(5286),E=a(4670),A=a(8728),v=a(9493);function O($,B){}const z={bottomSheetState:(0,u.hZ)("state",[(0,u.wk)("void, hidden",(0,u.iF)({transform:"translateY(100%)"})),(0,u.wk)("visible",(0,u.iF)({transform:"translateY(0%)"})),(0,u.kY)("visible => void, visible => hidden",(0,u.Os)([(0,u.i0)(`${p.ed.COMPLEX} ${p.r5.ACCELERATION_CURVE}`),(0,u.P)("@*",(0,u.MA)(),{optional:!0})])),(0,u.kY)("void => visible",(0,u.Os)([(0,u.i0)(`${p.ed.EXITING} ${p.r5.DECELERATION_CURVE}`),(0,u.P)("@*",(0,u.MA)(),{optional:!0})]))])};let G=(()=>{class $ extends e.sU{constructor(y,I,w,L,Q,te,R,ee,k){super(y,I,w,L,Q,te,R,k),this._animationState="void",this._animationStateChanged=new d.bkB,this._breakpointSubscription=ee.observe([_.Rp.Medium,_.Rp.Large,_.Rp.XLarge]).subscribe(()=>{const J=this._elementRef.nativeElement.classList;J.toggle("mat-bottom-sheet-container-medium",ee.isMatched(_.Rp.Medium)),J.toggle("mat-bottom-sheet-container-large",ee.isMatched(_.Rp.Large)),J.toggle("mat-bottom-sheet-container-xlarge",ee.isMatched(_.Rp.XLarge))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(y){"visible"===y.toState&&this._trapFocus(),this._animationStateChanged.emit(y)}_onAnimationStart(y){this._animationStateChanged.emit(y)}_captureInitialFocus(){}static#e=this.\u0275fac=function(I){return new(I||$)(d.rXU(d.aKT),d.rXU(m.GX),d.rXU(b.qQ,8),d.rXU(e.Pe),d.rXU(m.Z7),d.rXU(d.SKi),d.rXU(g.yY),d.rXU(_.QP),d.rXU(m.FN))};static#t=this.\u0275cmp=d.VBU({type:$,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(I,w){1&I&&d.Kam("@state.start",function(Q){return w._onAnimationStart(Q)})("@state.done",function(Q){return w._onAnimationDone(Q)}),2&I&&(d.zvX("@state",w._animationState),d.BMQ("role",w._config.role)("aria-modal",w._config.ariaModal)("aria-label",w._config.ariaLabel))},standalone:!0,features:[d.Vt3,d.aNF],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(I,w){1&I&&d.DNE(0,O,0,0,"ng-template",0)},dependencies:[i.I3],styles:[".mat-bottom-sheet-container{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto;background:var(--mat-bottom-sheet-container-background-color, var(--mat-app-surface-container-low));color:var(--mat-bottom-sheet-container-text-color, var(--mat-app-on-surface));font-family:var(--mat-bottom-sheet-container-text-font, var(--mat-app-body-large-font));font-size:var(--mat-bottom-sheet-container-text-size, var(--mat-app-body-large-size));line-height:var(--mat-bottom-sheet-container-text-line-height, var(--mat-app-body-large-line-height));font-weight:var(--mat-bottom-sheet-container-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mat-bottom-sheet-container-text-tracking, var(--mat-app-body-large-tracking))}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:var(--mat-bottom-sheet-container-shape);border-top-right-radius:var(--mat-bottom-sheet-container-shape)}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[z.bottomSheetState]}})}return $})();const K=new d.nKC("MatBottomSheetData");class F{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}class H{get instance(){return this._ref.componentInstance}get componentRef(){return this._ref.componentRef}constructor(B,y,I){this._ref=B,this._afterOpened=new D.B7,this.containerInstance=I,this.disableClose=y.disableClose,I._animationStateChanged.pipe((0,A.p)(w=>"done"===w.phaseName&&"visible"===w.toState),(0,v.s)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),I._animationStateChanged.pipe((0,A.p)(w=>"done"===w.phaseName&&"hidden"===w.toState),(0,v.s)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),B.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),(0,E.h)(this.backdropClick(),this.keydownEvents().pipe((0,A.p)(w=>w.keyCode===S._f))).subscribe(w=>{!this.disableClose&&("keydown"!==w.type||!(0,S.rp)(w))&&(w.preventDefault(),this.dismiss())})}dismiss(B){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe((0,A.p)(y=>"start"===y.phaseName),(0,v.s)(1)).subscribe(y=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},y.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=B,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}}const Y=new d.nKC("mat-bottom-sheet-default-options");let P=(()=>{class ${get _openedBottomSheetRef(){const y=this._parentBottomSheet;return y?y._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(y){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=y:this._bottomSheetRefAtThisLevel=y}constructor(y,I,w,L){this._overlay=y,this._parentBottomSheet=w,this._defaultOptions=L,this._bottomSheetRefAtThisLevel=null,this._dialog=I.get(e.lG)}open(y,I){const w={...this._defaultOptions||new F,...I};let L;return this._dialog.open(y,{...w,disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:G,scrollStrategy:w.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:L}),providers:(Q,te,R)=>(L=new H(Q,w,R),[{provide:H,useValue:L},{provide:K,useValue:w.data}])}),L.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===L&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>L.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):L.containerInstance.enter(),this._openedBottomSheetRef=L,L}dismiss(y){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(y)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}static#e=this.\u0275fac=function(I){return new(I||$)(d.KVO(g.hJ),d.KVO(d.zZn),d.KVO($,12),d.KVO(Y,8))};static#t=this.\u0275prov=d.jDH({token:$,factory:$.\u0275fac,providedIn:"root"})}return $})(),U=(()=>{class ${static#e=this.\u0275fac=function(I){return new(I||$)};static#t=this.\u0275mod=d.$C({type:$});static#n=this.\u0275inj=d.G2t({providers:[P],imports:[e.Ph,p.yE,i.jc,p.yE]})}return $})()},5571:(Mt,pe,a)=>{"use strict";a.d(pe,{Vg:()=>H,ec:()=>K,pc:()=>F});var e=a(9888),i=a(5024),d=a(7336),p=a(3953),m=a(8203),_=a(9417),g=a(6600);const b=["button"],u=["*"];function S(Y,P){if(1&Y&&p.nrm(0,"mat-pseudo-checkbox",3),2&Y){const U=p.XpG();p.Y8G("disabled",U.disabled)}}function D(Y,P){if(1&Y&&p.nrm(0,"mat-pseudo-checkbox",3),2&Y){const U=p.XpG();p.Y8G("disabled",U.disabled)}}const E=new p.nKC("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:function A(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1,disabledInteractive:!1}}}),v=new p.nKC("MatButtonToggleGroup"),O={provide:_.kq,useExisting:(0,p.Rfq)(()=>K),multi:!0};let z=0;class G{constructor(P,U){this.source=P,this.value=U}}let K=(()=>{class Y{get name(){return this._name}set name(U){this._name=U,this._markButtonsForCheck()}get value(){const U=this._selectionModel?this._selectionModel.selected:[];return this.multiple?U.map($=>$.value):U[0]?U[0].value:void 0}set value(U){this._setSelectionByValue(U),this.valueChange.emit(this.value)}get selected(){const U=this._selectionModel?this._selectionModel.selected:[];return this.multiple?U:U[0]||null}get multiple(){return this._multiple}set multiple(U){this._multiple=U,this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(U){this._disabled=U,this._markButtonsForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(U){this._disabledInteractive=U,this._markButtonsForCheck()}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(U){this._hideSingleSelectionIndicator=U,this._markButtonsForCheck()}get hideMultipleSelectionIndicator(){return this._hideMultipleSelectionIndicator}set hideMultipleSelectionIndicator(U){this._hideMultipleSelectionIndicator=U,this._markButtonsForCheck()}constructor(U,$,B){this._changeDetector=U,this._dir=B,this._multiple=!1,this._disabled=!1,this._disabledInteractive=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+z++,this.valueChange=new p.bkB,this.change=new p.bkB,this.appearance=$&&$.appearance?$.appearance:"standard",this.hideSingleSelectionIndicator=$?.hideSingleSelectionIndicator??!1,this.hideMultipleSelectionIndicator=$?.hideMultipleSelectionIndicator??!1}ngOnInit(){this._selectionModel=new i.CB(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(U=>U.checked)),this.multiple||this._initializeTabIndex()}writeValue(U){this.value=U,this._changeDetector.markForCheck()}registerOnChange(U){this._controlValueAccessorChangeFn=U}registerOnTouched(U){this._onTouched=U}setDisabledState(U){this.disabled=U}_keydown(U){if(this.multiple||this.disabled)return;const B=U.target.id,y=this._buttonToggles.toArray().findIndex(w=>w.buttonId===B);let I=null;switch(U.keyCode){case d.t6:case d.Fm:I=this._buttonToggles.get(y)||null;break;case d.i7:I=this._getNextButton(y,-1);break;case d.UQ:I=this._getNextButton(y,"ltr"===this.dir?-1:1);break;case d.n6:I=this._getNextButton(y,1);break;case d.LE:I=this._getNextButton(y,"ltr"===this.dir?1:-1);break;default:return}I&&(U.preventDefault(),I._onButtonClick(),I.focus())}_emitChangeEvent(U){const $=new G(U,this.value);this._rawValue=$.value,this._controlValueAccessorChangeFn($.value),this.change.emit($)}_syncButtonToggle(U,$,B=!1,y=!1){!this.multiple&&this.selected&&!U.checked&&(this.selected.checked=!1),this._selectionModel?$?this._selectionModel.select(U):this._selectionModel.deselect(U):y=!0,y?Promise.resolve().then(()=>this._updateModelValue(U,B)):this._updateModelValue(U,B)}_isSelected(U){return this._selectionModel&&this._selectionModel.isSelected(U)}_isPrechecked(U){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some($=>null!=U.value&&$===U.value):U.value===this._rawValue)}_initializeTabIndex(){if(this._buttonToggles.forEach(U=>{U.tabIndex=-1}),this.selected)this.selected.tabIndex=0;else for(let U=0;U<this._buttonToggles.length;U++){const $=this._buttonToggles.get(U);if(!$.disabled){$.tabIndex=0;break}}this._markButtonsForCheck()}_getNextButton(U,$){const B=this._buttonToggles;for(let y=1;y<=B.length;y++){const w=B.get((U+$*y+B.length)%B.length);if(w&&!w.disabled)return w}return null}_setSelectionByValue(U){this._rawValue=U,this._buttonToggles&&(this.multiple&&U?(Array.isArray(U),this._clearSelection(),U.forEach($=>this._selectValue($))):(this._clearSelection(),this._selectValue(U)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(U=>{U.checked=!1,this.multiple||(U.tabIndex=-1)})}_selectValue(U){const $=this._buttonToggles.find(B=>null!=B.value&&B.value===U);$&&($.checked=!0,this._selectionModel.select($),this.multiple||($.tabIndex=0))}_updateModelValue(U,$){$&&this._emitChangeEvent(U),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(U=>U._markForCheck())}static#e=this.\u0275fac=function($){return new($||Y)(p.rXU(p.gRc),p.rXU(E,8),p.rXU(m.dS,8))};static#t=this.\u0275dir=p.FsC({type:Y,selectors:[["mat-button-toggle-group"]],contentQueries:function($,B,y){if(1&$&&p.wni(y,F,5),2&$){let I;p.mGM(I=p.lsd())&&(B._buttonToggles=I)}},hostAttrs:[1,"mat-button-toggle-group"],hostVars:6,hostBindings:function($,B){1&$&&p.bIt("keydown",function(I){return B._keydown(I)}),2&$&&(p.BMQ("role",B.multiple?"group":"radiogroup")("aria-disabled",B.disabled),p.AVh("mat-button-toggle-vertical",B.vertical)("mat-button-toggle-group-appearance-standard","standard"===B.appearance))},inputs:{appearance:"appearance",name:"name",vertical:[2,"vertical","vertical",p.L39],value:"value",multiple:[2,"multiple","multiple",p.L39],disabled:[2,"disabled","disabled",p.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",p.L39],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",p.L39],hideMultipleSelectionIndicator:[2,"hideMultipleSelectionIndicator","hideMultipleSelectionIndicator",p.L39]},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],standalone:!0,features:[p.Jv_([O,{provide:v,useExisting:Y}]),p.GFd]})}return Y})(),F=(()=>{class Y{get buttonId(){return`${this.id}-button`}get tabIndex(){return this._tabIndex}set tabIndex(U){this._tabIndex=U,this._markForCheck()}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(U){this._appearance=U}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(U){U!==this._checked&&(this._checked=U,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(U){this._disabled=U}get disabledInteractive(){return this._disabledInteractive||null!==this.buttonToggleGroup&&this.buttonToggleGroup.disabledInteractive}set disabledInteractive(U){this._disabledInteractive=U}constructor(U,$,B,y,I,w){this._changeDetectorRef=$,this._elementRef=B,this._focusMonitor=y,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new p.bkB;const L=Number(I);this.tabIndex=L||0===L?L:null,this.buttonToggleGroup=U,this.appearance=w&&w.appearance?w.appearance:"standard",this.disabledInteractive=w?.disabledInteractive??!1}ngOnInit(){const U=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+z++,U&&(U._isPrechecked(this)?this.checked=!0:U._isSelected(this)!==this._checked&&U._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const U=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),U&&U._isSelected(this)&&U._syncButtonToggle(this,!1,!1,!0)}focus(U){this._buttonElement.nativeElement.focus(U)}_onButtonClick(){if(this.disabled)return;const U=!!this.isSingleSelector()||!this._checked;if(U!==this._checked&&(this._checked=U,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.isSingleSelector()){const $=this.buttonToggleGroup._buttonToggles.find(B=>0===B.tabIndex);$&&($.tabIndex=-1),this.tabIndex=0}this.change.emit(new G(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this.isSingleSelector()?this.buttonToggleGroup.name:this.name||null}isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}static#e=this.\u0275fac=function($){return new($||Y)(p.rXU(v,8),p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(e.FN),p.kS0("tabindex"),p.rXU(E,8))};static#t=this.\u0275cmp=p.VBU({type:Y,selectors:[["mat-button-toggle"]],viewQuery:function($,B){if(1&$&&p.GBs(b,5),2&$){let y;p.mGM(y=p.lsd())&&(B._buttonElement=y.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:14,hostBindings:function($,B){1&$&&p.bIt("focus",function(){return B.focus()}),2&$&&(p.BMQ("aria-label",null)("aria-labelledby",null)("id",B.id)("name",null),p.AVh("mat-button-toggle-standalone",!B.buttonToggleGroup)("mat-button-toggle-checked",B.checked)("mat-button-toggle-disabled",B.disabled)("mat-button-toggle-disabled-interactive",B.disabledInteractive)("mat-button-toggle-appearance-standard","standard"===B.appearance))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[2,"disableRipple","disableRipple",p.L39],appearance:"appearance",checked:[2,"checked","checked",p.L39],disabled:[2,"disabled","disabled",p.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",p.L39]},outputs:{change:"change"},exportAs:["matButtonToggle"],standalone:!0,features:[p.GFd,p.aNF],ngContentSelectors:u,decls:8,vars:14,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-label-content"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function($,B){if(1&$){const y=p.RV6();p.NAR(),p.j41(0,"button",1,0),p.bIt("click",function(){return p.eBV(y),p.Njj(B._onButtonClick())}),p.j41(2,"span",2),p.DNE(3,S,1,1,"mat-pseudo-checkbox",3)(4,D,1,1,"mat-pseudo-checkbox",3),p.SdG(5),p.k0s()(),p.nrm(6,"span",4)(7,"span",5)}if(2&$){const y=p.sdS(1);p.Y8G("id",B.buttonId)("disabled",B.disabled&&!B.disabledInteractive||null),p.BMQ("role",B.isSingleSelector()?"radio":"button")("tabindex",B.disabled&&!B.disabledInteractive?-1:B.tabIndex)("aria-pressed",B.isSingleSelector()?null:B.checked)("aria-checked",B.isSingleSelector()?B.checked:null)("name",B._getButtonName())("aria-label",B.ariaLabel)("aria-labelledby",B.ariaLabelledby)("aria-disabled",B.disabled&&B.disabledInteractive?"true":null),p.R7$(3),p.vxM(B.buttonToggleGroup&&B.checked&&!B.buttonToggleGroup.multiple&&!B.buttonToggleGroup.hideSingleSelectionIndicator?3:-1),p.R7$(),p.vxM(B.buttonToggleGroup&&B.checked&&B.buttonToggleGroup.multiple&&!B.buttonToggleGroup.hideMultipleSelectionIndicator?4:-1),p.R7$(3),p.Y8G("matRippleTrigger",y)("matRippleDisabled",B.disableRipple||B.disabled)}},dependencies:[g.r6,g.wg],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-app-on-secondary-container))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-label-text-font);font-size:var(--mat-legacy-button-toggle-label-text-size);line-height:var(--mat-legacy-button-toggle-label-text-line-height);font-weight:var(--mat-legacy-button-toggle-label-text-weight);letter-spacing:var(--mat-legacy-button-toggle-label-text-tracking);--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-legacy-button-toggle-selected-state-text-color)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle .mat-pseudo-checkbox{margin-right:12px}[dir=rtl] .mat-button-toggle .mat-pseudo-checkbox{margin-right:0;margin-left:12px}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{pointer-events:none;color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color);--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-legacy-button-toggle-disabled-state-text-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-disabled-interactive{pointer-events:auto}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color, var(--mat-app-on-surface));background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-label-text-font, var(--mat-app-label-large-font));font-size:var(--mat-standard-button-toggle-label-text-size, var(--mat-app-label-large-size));line-height:var(--mat-standard-button-toggle-label-text-line-height, var(--mat-app-label-large-line-height));font-weight:var(--mat-standard-button-toggle-label-text-weight, var(--mat-app-label-large-weight));letter-spacing:var(--mat-standard-button-toggle-label-text-tracking, var(--mat-app-label-large-tracking))}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-app-on-secondary-container));background-color:var(--mat-standard-button-toggle-selected-state-background-color, var(--mat-app-secondary-container))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-standard-button-toggle-disabled-selected-state-text-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color, var(--mat-app-on-surface))}.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-button-toggle-appearance-standard.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}@media(hover: none){.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}.mat-button-toggle-group-appearance-standard .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border-bottom-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}.mat-button-toggle-group-appearance-standard .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border-bottom-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}"],encapsulation:2,changeDetection:0})}return Y})(),H=(()=>{class Y{static#e=this.\u0275fac=function($){return new($||Y)};static#t=this.\u0275mod=p.$C({type:Y});static#n=this.\u0275inj=p.G2t({imports:[g.yE,g.pZ,F,g.yE]})}return Y})()},8834:(Mt,pe,a)=>{"use strict";a.d(pe,{$z:()=>P,Hl:()=>ee,iY:()=>te});var e=a(6860),i=a(3953),d=a(9888),p=a(6600);const m=["mat-button",""],_=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],g=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],A=["mat-icon-button",""],v=["*"],z=new i.nKC("MAT_BUTTON_CONFIG"),K=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let F=(()=>{class k{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(X){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,X)}get disableRipple(){return this._disableRipple}set disableRipple(X){this._disableRipple=X,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(X){this._disabled=X,this._updateRippleDisabled()}constructor(X,fe,Me,Ze){this._elementRef=X,this._platform=fe,this._ngZone=Me,this._animationMode=Ze,this._focusMonitor=(0,i.WQX)(d.FN),this._rippleLoader=(0,i.WQX)(p.Ej),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const Ct=(0,i.WQX)(z,{optional:!0}),lt=X.nativeElement,Ot=lt.classList;this.disabledInteractive=Ct?.disabledInteractive??!1,this.color=Ct?.color??null,this._rippleLoader?.configureRipple(lt,{className:"mat-mdc-button-ripple"});for(const{attribute:rt,mdcClasses:vt}of K)lt.hasAttribute(rt)&&Ot.add(...vt)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(X="program",fe){X?this._focusMonitor.focusVia(this._elementRef.nativeElement,X,fe):this._elementRef.nativeElement.focus(fe)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(fe){i.QTQ()};static#t=this.\u0275dir=i.FsC({type:k,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",i.L39],disabled:[2,"disabled","disabled",i.L39],ariaDisabled:[2,"aria-disabled","ariaDisabled",i.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",i.L39]},features:[i.GFd]})}return k})(),P=(()=>{class k extends F{constructor(X,fe,Me,Ze){super(X,fe,Me,Ze)}static#e=this.\u0275fac=function(fe){return new(fe||k)(i.rXU(i.aKT),i.rXU(e.OD),i.rXU(i.SKi),i.rXU(i.bc$,8))};static#t=this.\u0275cmp=i.VBU({type:k,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(fe,Me){2&fe&&(i.BMQ("disabled",Me._getDisabledAttribute())("aria-disabled",Me._getAriaDisabled()),i.HbH(Me.color?"mat-"+Me.color:""),i.AVh("mat-mdc-button-disabled",Me.disabled)("mat-mdc-button-disabled-interactive",Me.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===Me._animationMode)("mat-unthemed",!Me.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[i.Vt3,i.aNF],attrs:m,ngContentSelectors:g,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(fe,Me){1&fe&&(i.NAR(_),i.nrm(0,"span",0),i.SdG(1),i.j41(2,"span",1),i.SdG(3,1),i.k0s(),i.SdG(4,2),i.nrm(5,"span",2)(6,"span",3)),2&fe&&i.AVh("mdc-button__ripple",!Me._isFab)("mdc-fab__ripple",Me._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return k})(),te=(()=>{class k extends F{constructor(X,fe,Me,Ze){super(X,fe,Me,Ze),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(fe){return new(fe||k)(i.rXU(i.aKT),i.rXU(e.OD),i.rXU(i.SKi),i.rXU(i.bc$,8))};static#t=this.\u0275cmp=i.VBU({type:k,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(fe,Me){2&fe&&(i.BMQ("disabled",Me._getDisabledAttribute())("aria-disabled",Me._getAriaDisabled()),i.HbH(Me.color?"mat-"+Me.color:""),i.AVh("mat-mdc-button-disabled",Me.disabled)("mat-mdc-button-disabled-interactive",Me.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===Me._animationMode)("mat-unthemed",!Me.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[i.Vt3,i.aNF],attrs:A,ngContentSelectors:v,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(fe,Me){1&fe&&(i.NAR(),i.nrm(0,"span",0),i.SdG(1),i.nrm(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color, var(--mat-app-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return k})(),ee=(()=>{class k{static#e=this.\u0275fac=function(fe){return new(fe||k)};static#t=this.\u0275mod=i.$C({type:k});static#n=this.\u0275inj=i.G2t({imports:[p.yE,p.pZ,p.yE]})}return k})()},2765:(Mt,pe,a)=>{"use strict";a.d(pe,{So:()=>v,g7:()=>K});var e=a(3953),i=a(9417),d=a(6600);const p=["input"],m=["label"],_=["*"],g=new e.nKC("mat-checkbox-default-options",{providedIn:"root",factory:b});function b(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var u=function(F){return F[F.Init=0]="Init",F[F.Checked=1]="Checked",F[F.Unchecked=2]="Unchecked",F[F.Indeterminate=3]="Indeterminate",F}(u||{});const S={provide:i.kq,useExisting:(0,e.Rfq)(()=>v),multi:!0};class D{}let E=0;const A=b();let v=(()=>{class F{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(Y){const P=new D;return P.source=this,P.checked=Y,P}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(Y,P,U,$,B,y){this._elementRef=Y,this._changeDetectorRef=P,this._ngZone=U,this._animationMode=B,this._options=y,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new e.bkB,this.indeterminateChange=new e.bkB,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=u.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||A,this.color=this._options.color||A.color,this.tabIndex=parseInt($)||0,this.id=this._uniqueId="mat-mdc-checkbox-"+ ++E,this.disabledInteractive=y?.disabledInteractive??!1}ngOnChanges(Y){Y.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(Y){Y!=this.checked&&(this._checked=Y,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(Y){Y!==this.disabled&&(this._disabled=Y,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(Y){const P=Y!=this._indeterminate;this._indeterminate=Y,P&&(this._transitionCheckState(this._indeterminate?u.Indeterminate:this.checked?u.Checked:u.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(Y){this.checked=!!Y}registerOnChange(Y){this._controlValueAccessorChangeFn=Y}registerOnTouched(Y){this._onTouched=Y}setDisabledState(Y){this.disabled=Y}validate(Y){return this.required&&!0!==Y.value?{required:!0}:null}registerOnValidatorChange(Y){this._validatorChangeFn=Y}_transitionCheckState(Y){let P=this._currentCheckState,U=this._getAnimationTargetElement();if(P!==Y&&U&&(this._currentAnimationClass&&U.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(P,Y),this._currentCheckState=Y,this._currentAnimationClass.length>0)){U.classList.add(this._currentAnimationClass);const $=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{U.classList.remove($)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const Y=this._options?.clickAction;this.disabled||"noop"===Y?(this.disabled&&this.disabledInteractive||!this.disabled&&"noop"===Y)&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==Y&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?u.Checked:u.Unchecked),this._emitChangeEvent())}_onInteractionEvent(Y){Y.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(Y,P){if("NoopAnimations"===this._animationMode)return"";switch(Y){case u.Init:if(P===u.Checked)return this._animationClasses.uncheckedToChecked;if(P==u.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case u.Unchecked:return P===u.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case u.Checked:return P===u.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case u.Indeterminate:return P===u.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(Y){const P=this._inputElement;P&&(P.nativeElement.indeterminate=Y)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(Y){Y.target&&this._labelElement.nativeElement.contains(Y.target)&&Y.stopPropagation()}static#e=this.\u0275fac=function(P){return new(P||F)(e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(e.SKi),e.kS0("tabindex"),e.rXU(e.bc$,8),e.rXU(g,8))};static#t=this.\u0275cmp=e.VBU({type:F,selectors:[["mat-checkbox"]],viewQuery:function(P,U){if(1&P&&(e.GBs(p,5),e.GBs(m,5),e.GBs(d.r6,5)),2&P){let $;e.mGM($=e.lsd())&&(U._inputElement=$.first),e.mGM($=e.lsd())&&(U._labelElement=$.first),e.mGM($=e.lsd())&&(U.ripple=$.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(P,U){2&P&&(e.Mr5("id",U.id),e.BMQ("tabindex",null)("aria-label",null)("aria-labelledby",null),e.HbH(U.color?"mat-"+U.color:"mat-accent"),e.AVh("_mat-animation-noopable","NoopAnimations"===U._animationMode)("mdc-checkbox--disabled",U.disabled)("mat-mdc-checkbox-disabled",U.disabled)("mat-mdc-checkbox-checked",U.checked)("mat-mdc-checkbox-disabled-interactive",U.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],id:"id",required:[2,"required","required",e.L39],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",e.L39],tabIndex:[2,"tabIndex","tabIndex",Y=>null==Y?void 0:(0,e.Udg)(Y)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",e.L39],checked:[2,"checked","checked",e.L39],disabled:[2,"disabled","disabled",e.L39],indeterminate:[2,"indeterminate","indeterminate",e.L39]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[e.Jv_([S,{provide:i.cz,useExisting:F,multi:!0}]),e.GFd,e.OA$,e.aNF],ngContentSelectors:_,decls:15,vars:20,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(P,U){if(1&P){const $=e.RV6();e.NAR(),e.j41(0,"div",3),e.bIt("click",function(y){return e.eBV($),e.Njj(U._preventBubblingFromLabel(y))}),e.j41(1,"div",4,0)(3,"div",5),e.bIt("click",function(){return e.eBV($),e.Njj(U._onTouchTargetClick())}),e.k0s(),e.j41(4,"input",6,1),e.bIt("blur",function(){return e.eBV($),e.Njj(U._onBlur())})("click",function(){return e.eBV($),e.Njj(U._onInputClick())})("change",function(y){return e.eBV($),e.Njj(U._onInteractionEvent(y))}),e.k0s(),e.nrm(6,"div",7),e.j41(7,"div",8),e.qSk(),e.j41(8,"svg",9),e.nrm(9,"path",10),e.k0s(),e.joV(),e.nrm(10,"div",11),e.k0s(),e.nrm(11,"div",12),e.k0s(),e.j41(12,"label",13,2),e.SdG(14),e.k0s()()}if(2&P){const $=e.sdS(2);e.Y8G("labelPosition",U.labelPosition),e.R7$(4),e.AVh("mdc-checkbox--selected",U.checked),e.Y8G("checked",U.checked)("indeterminate",U.indeterminate)("disabled",U.disabled&&!U.disabledInteractive)("id",U.inputId)("required",U.required)("tabIndex",U.disabled&&!U.disabledInteractive?-1:U.tabIndex),e.BMQ("aria-label",U.ariaLabel||null)("aria-labelledby",U.ariaLabelledby)("aria-describedby",U.ariaDescribedby)("aria-checked",U.indeterminate?"mixed":null)("aria-disabled",!(!U.disabled||!U.disabledInteractive)||null)("name",U.name)("value",U.value),e.R7$(7),e.Y8G("matRippleTrigger",$)("matRippleDisabled",U.disableRipple||U.disabled)("matRippleCentered",!0),e.R7$(),e.Y8G("for",U.inputId)}},dependencies:[d.r6,d.tO],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mdc-checkbox__ripple{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.cdk-high-contrast-active .mdc-checkbox--disabled{opacity:.5}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-app-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-app-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover .mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.cdk-high-contrast-active .mdc-checkbox--disabled .mdc-checkbox__checkmark,.cdk-high-contrast-active .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__mixedmark{margin:0 1px}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return F})(),K=(()=>{class F{static#e=this.\u0275fac=function(P){return new(P||F)};static#t=this.\u0275mod=e.$C({type:F});static#n=this.\u0275inj=e.G2t({imports:[v,d.yE,d.yE]})}return F})()},6471:(Mt,pe,a)=>{"use strict";a.d(pe,{D7:()=>ht,HW:()=>Ve,YN:()=>qe,Zv:()=>Ct,jH:()=>Ce,wO:()=>R});var e=a(9888),i=a(7336),d=a(177),p=a(3953),m=a(6600),_=a(5286),g=a(4670),b=a(7605),u=a(3176),S=a(9090),D=a(8203),E=a(9417),A=a(3719);const v=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],O=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function z(gt,ot){1&gt&&(p.j41(0,"span",3),p.SdG(1,1),p.k0s())}function G(gt,ot){1&gt&&(p.j41(0,"span",6),p.SdG(1,2),p.k0s())}const Y=[[["mat-chip-avatar"],["","matChipAvatar",""]],[["","matChipEditInput",""]],"*",[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],P=["mat-chip-avatar, [matChipAvatar]","[matChipEditInput]","*","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function U(gt,ot){1&gt&&p.nrm(0,"span",0)}function $(gt,ot){1&gt&&(p.j41(0,"span",2),p.SdG(1),p.k0s())}function B(gt,ot){1&gt&&p.SdG(0,1)}function y(gt,ot){1&gt&&p.nrm(0,"span",7)}function I(gt,ot){if(1&gt&&p.DNE(0,B,1,0)(1,y,1,0,"span",7),2&gt){const ae=p.XpG();p.vxM(ae.contentEditInput?0:1)}}function w(gt,ot){1&gt&&p.SdG(0,2)}function L(gt,ot){1&gt&&(p.j41(0,"span",5),p.SdG(1,3),p.k0s())}const Q=["*"],R=new p.nKC("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[i.Fm]})}),ee=new p.nKC("MatChipAvatar"),k=new p.nKC("MatChipTrailingIcon"),J=new p.nKC("MatChipRemove"),X=new p.nKC("MatChip");let fe=(()=>{class gt{get disabled(){return this._disabled||this._parentChip.disabled}set disabled(ae){this._disabled=ae}_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(ae,Oe){this._elementRef=ae,this._parentChip=Oe,this.isInteractive=!0,this._isPrimary=!0,this._disabled=!1,this.tabIndex=-1,this._allowFocusWhenDisabled=!1,"BUTTON"===ae.nativeElement.nodeName&&ae.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(ae){!this.disabled&&this.isInteractive&&this._isPrimary&&(ae.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(ae){(ae.keyCode===i.Fm||ae.keyCode===i.t6)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(ae.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static#e=this.\u0275fac=function(Oe){return new(Oe||gt)(p.rXU(p.aKT),p.rXU(X))};static#t=this.\u0275dir=p.FsC({type:gt,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(Oe,Le){1&Oe&&p.bIt("click",function(_t){return Le._handleClick(_t)})("keydown",function(_t){return Le._handleKeydown(_t)}),2&Oe&&(p.BMQ("tabindex",Le._getTabindex())("disabled",Le._getDisabledAttribute())("aria-disabled",Le.disabled),p.AVh("mdc-evolution-chip__action--primary",Le._isPrimary)("mdc-evolution-chip__action--presentational",!Le.isInteractive)("mdc-evolution-chip__action--trailing",!Le._isPrimary))},inputs:{isInteractive:"isInteractive",disabled:[2,"disabled","disabled",p.L39],tabIndex:[2,"tabIndex","tabIndex",ae=>null==ae?-1:(0,p.Udg)(ae)],_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},standalone:!0,features:[p.GFd]})}return gt})(),Ct=(()=>{class gt extends fe{constructor(){super(...arguments),this._isPrimary=!1}_handleClick(ae){this.disabled||(ae.stopPropagation(),ae.preventDefault(),this._parentChip.remove())}_handleKeydown(ae){(ae.keyCode===i.Fm||ae.keyCode===i.t6)&&!this.disabled&&(ae.stopPropagation(),ae.preventDefault(),this._parentChip.remove())}static#e=this.\u0275fac=(()=>{let ae;return function(Le){return(ae||(ae=p.xGo(gt)))(Le||gt)}})();static#t=this.\u0275dir=p.FsC({type:gt,selectors:[["","matChipRemove",""]],hostAttrs:["role","button",1,"mat-mdc-chip-remove","mat-mdc-chip-trailing-icon","mat-mdc-focus-indicator","mdc-evolution-chip__icon","mdc-evolution-chip__icon--trailing"],hostVars:1,hostBindings:function(Oe,Le){2&Oe&&p.BMQ("aria-hidden",null)},standalone:!0,features:[p.Jv_([{provide:J,useExisting:gt}]),p.Vt3]})}return gt})(),lt=0,Ot=(()=>{class gt{_hasFocus(){return this._hasFocusInternal}get value(){return void 0!==this._value?this._value:this._textElement.textContent.trim()}set value(ae){this._value=ae}get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(ae){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,ae)}constructor(ae,Oe,Le,Pe,_t,Gt,Kt){this._changeDetectorRef=ae,this._elementRef=Oe,this._ngZone=Le,this._focusMonitor=Pe,this._globalRippleOptions=Kt,this._onFocus=new _.B7,this._onBlur=new _.B7,this.role=null,this._hasFocusInternal=!1,this.id="mat-mdc-chip-"+lt++,this.ariaLabel=null,this.ariaDescription=null,this._ariaDescriptionId=`${this.id}-aria-description`,this.removable=!0,this.highlighted=!1,this.disableRipple=!1,this.disabled=!1,this.removed=new p.bkB,this.destroyed=new p.bkB,this.basicChipAttrName="mat-basic-chip",this._rippleLoader=(0,p.WQX)(m.Ej),this._injector=(0,p.WQX)(p.zZn),this._document=_t,this._animationsDisabled="NoopAnimations"===Gt,this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){const ae=this._elementRef.nativeElement;this._isBasicChip=ae.hasAttribute(this.basicChipAttrName)||ae.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=(0,g.h)(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!(!this.trailingIcon&&!this.removeIcon)}_handleKeydown(ae){(ae.keyCode===i.G_&&!ae.repeat||ae.keyCode===i.SJ)&&(ae.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(ae){return this._getActions().find(Oe=>{const Le=Oe._elementRef.nativeElement;return Le===ae||Le.contains(ae)})}_getActions(){const ae=[];return this.primaryAction&&ae.push(this.primaryAction),this.removeIcon&&ae.push(this.removeIcon),this.trailingIcon&&ae.push(this.trailingIcon),ae}_handlePrimaryActionInteraction(){}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(ae=>{const Oe=null!==ae;Oe!==this._hasFocusInternal&&(this._hasFocusInternal=Oe,Oe?this._onFocus.next({chip:this}):(0,p.mal)(()=>this._ngZone.run(()=>this._onBlur.next({chip:this})),{injector:this._injector}))})}static#e=this.\u0275fac=function(Oe){return new(Oe||gt)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi),p.rXU(e.FN),p.rXU(d.qQ),p.rXU(p.bc$,8),p.rXU(m.$E,8))};static#t=this.\u0275cmp=p.VBU({type:gt,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(Oe,Le,Pe){if(1&Oe&&(p.wni(Pe,ee,5),p.wni(Pe,k,5),p.wni(Pe,J,5),p.wni(Pe,ee,5),p.wni(Pe,k,5),p.wni(Pe,J,5)),2&Oe){let _t;p.mGM(_t=p.lsd())&&(Le.leadingIcon=_t.first),p.mGM(_t=p.lsd())&&(Le.trailingIcon=_t.first),p.mGM(_t=p.lsd())&&(Le.removeIcon=_t.first),p.mGM(_t=p.lsd())&&(Le._allLeadingIcons=_t),p.mGM(_t=p.lsd())&&(Le._allTrailingIcons=_t),p.mGM(_t=p.lsd())&&(Le._allRemoveIcons=_t)}},viewQuery:function(Oe,Le){if(1&Oe&&p.GBs(fe,5),2&Oe){let Pe;p.mGM(Pe=p.lsd())&&(Le.primaryAction=Pe.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:31,hostBindings:function(Oe,Le){1&Oe&&p.bIt("keydown",function(_t){return Le._handleKeydown(_t)}),2&Oe&&(p.Mr5("id",Le.id),p.BMQ("role",Le.role)("aria-label",Le.ariaLabel),p.HbH("mat-"+(Le.color||"primary")),p.AVh("mdc-evolution-chip",!Le._isBasicChip)("mdc-evolution-chip--disabled",Le.disabled)("mdc-evolution-chip--with-trailing-action",Le._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",Le.leadingIcon)("mdc-evolution-chip--with-primary-icon",Le.leadingIcon)("mdc-evolution-chip--with-avatar",Le.leadingIcon)("mat-mdc-chip-with-avatar",Le.leadingIcon)("mat-mdc-chip-highlighted",Le.highlighted)("mat-mdc-chip-disabled",Le.disabled)("mat-mdc-basic-chip",Le._isBasicChip)("mat-mdc-standard-chip",!Le._isBasicChip)("mat-mdc-chip-with-trailing-icon",Le._hasTrailingIcon())("_mat-animation-noopable",Le._animationsDisabled))},inputs:{role:"role",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaDescription:[0,"aria-description","ariaDescription"],value:"value",color:"color",removable:[2,"removable","removable",p.L39],highlighted:[2,"highlighted","highlighted",p.L39],disableRipple:[2,"disableRipple","disableRipple",p.L39],disabled:[2,"disabled","disabled",p.L39]},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],standalone:!0,features:[p.Jv_([{provide:X,useExisting:gt}]),p.GFd,p.aNF],ngContentSelectors:O,decls:8,vars:3,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(Oe,Le){1&Oe&&(p.NAR(v),p.nrm(0,"span",0),p.j41(1,"span",1)(2,"span",2),p.DNE(3,z,2,0,"span",3),p.j41(4,"span",4),p.SdG(5),p.nrm(6,"span",5),p.k0s()()(),p.DNE(7,G,2,0,"span",6)),2&Oe&&(p.R7$(2),p.Y8G("isInteractive",!1),p.R7$(),p.vxM(Le.leadingIcon?3:-1),p.R7$(4),p.vxM(Le._hasTrailingIcon()?7:-1))},dependencies:[fe],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width);border-radius:var(--mdc-chip-container-shape-radius);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color, var(--mat-app-outline))}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color, var(--mat-app-on-surface))}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font, var(--mat-app-label-large-font));line-height:var(--mdc-chip-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mdc-chip-label-text-size, var(--mat-app-label-large-size));font-weight:var(--mdc-chip-label-text-weight, var(--mat-app-label-large-weight));letter-spacing:var(--mdc-chip-label-text-tracking, var(--mat-app-label-large-tracking))}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size);height:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-app-on-surface))}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.cdk-high-contrast-active .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-app-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius);width:var(--mdc-chip-with-icon-icon-size);height:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-app-on-surface))}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-app-on-secondary-container));--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-app-secondary-container));--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color, var(--mat-app-on-secondary-container));--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-app-on-secondary-container))}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color, var(--mat-app-on-surface-variant));opacity:var(--mdc-chip-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color, var(--mat-app-on-secondary-container));opacity:var(--mdc-chip-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-app-on-surface-variant));opacity:var(--mdc-chip-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-app-on-secondary-container));opacity:var(--mdc-chip-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color, var(--mat-app-on-surface))}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity)}.mat-mdc-chip-remove::after{background:var(--mat-chip-trailing-action-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background:var(--mat-chip-selected-trailing-action-state-layer-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-2px;bottom:-2px;left:6px;right:6px;border-radius:50%}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return gt})(),ve=(()=>{class gt{constructor(ae,Oe){this._elementRef=ae,this._document=Oe}initialize(ae){this.getNativeElement().focus(),this.setValue(ae)}getNativeElement(){return this._elementRef.nativeElement}setValue(ae){this.getNativeElement().textContent=ae,this._moveCursorToEndOfInput()}getValue(){return this.getNativeElement().textContent||""}_moveCursorToEndOfInput(){const ae=this._document.createRange();ae.selectNodeContents(this.getNativeElement()),ae.collapse(!1);const Oe=window.getSelection();Oe.removeAllRanges(),Oe.addRange(ae)}static#e=this.\u0275fac=function(Oe){return new(Oe||gt)(p.rXU(p.aKT),p.rXU(d.qQ))};static#t=this.\u0275dir=p.FsC({type:gt,selectors:[["span","matChipEditInput",""]],hostAttrs:["role","textbox","tabindex","-1","contenteditable","true",1,"mat-chip-edit-input"],standalone:!0})}return gt})(),Ce=(()=>{class gt extends Ot{constructor(ae,Oe,Le,Pe,_t,Gt,Kt,vn){super(ae,Oe,Le,Pe,_t,Gt,Kt),this.basicChipAttrName="mat-basic-chip-row",this._editStartPending=!1,this.editable=!1,this.edited=new p.bkB,this._isEditing=!1,this.role="row",this._onBlur.pipe((0,b.Q)(this.destroyed)).subscribe(()=>{this._isEditing&&!this._editStartPending&&this._onEditFinish()})}_hasTrailingIcon(){return!this._isEditing&&super._hasTrailingIcon()}_handleFocus(){!this._isEditing&&!this.disabled&&this.focus()}_handleKeydown(ae){ae.keyCode!==i.Fm||this.disabled?this._isEditing?ae.stopPropagation():super._handleKeydown(ae):this._isEditing?(ae.preventDefault(),this._onEditFinish()):this.editable&&this._startEditing(ae)}_handleDoubleclick(ae){!this.disabled&&this.editable&&this._startEditing(ae)}_startEditing(ae){if(!this.primaryAction||this.removeIcon&&this._getSourceAction(ae.target)===this.removeIcon)return;const Oe=this.value;this._isEditing=this._editStartPending=!0,(0,p.mal)(()=>{this._getEditInput().initialize(Oe),this._editStartPending=!1},{injector:this._injector})}_onEditFinish(){this._isEditing=this._editStartPending=!1,this.edited.emit({chip:this,value:this._getEditInput().getValue()}),(this._document.activeElement===this._getEditInput().getNativeElement()||this._document.activeElement===this._document.body)&&this.primaryAction.focus()}_isRippleDisabled(){return super._isRippleDisabled()||this._isEditing}_getEditInput(){return this.contentEditInput||this.defaultEditInput}static#e=this.\u0275fac=function(Oe){return new(Oe||gt)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.SKi),p.rXU(e.FN),p.rXU(d.qQ),p.rXU(p.bc$,8),p.rXU(m.$E,8),p.kS0("tabindex"))};static#t=this.\u0275cmp=p.VBU({type:gt,selectors:[["mat-chip-row"],["","mat-chip-row",""],["mat-basic-chip-row"],["","mat-basic-chip-row",""]],contentQueries:function(Oe,Le,Pe){if(1&Oe&&p.wni(Pe,ve,5),2&Oe){let _t;p.mGM(_t=p.lsd())&&(Le.contentEditInput=_t.first)}},viewQuery:function(Oe,Le){if(1&Oe&&p.GBs(ve,5),2&Oe){let Pe;p.mGM(Pe=p.lsd())&&(Le.defaultEditInput=Pe.first)}},hostAttrs:[1,"mat-mdc-chip","mat-mdc-chip-row","mdc-evolution-chip"],hostVars:27,hostBindings:function(Oe,Le){1&Oe&&p.bIt("focus",function(_t){return Le._handleFocus(_t)})("dblclick",function(_t){return Le._handleDoubleclick(_t)}),2&Oe&&(p.Mr5("id",Le.id),p.BMQ("tabindex",Le.disabled?null:-1)("aria-label",null)("aria-description",null)("role",Le.role),p.AVh("mat-mdc-chip-with-avatar",Le.leadingIcon)("mat-mdc-chip-disabled",Le.disabled)("mat-mdc-chip-editing",Le._isEditing)("mat-mdc-chip-editable",Le.editable)("mdc-evolution-chip--disabled",Le.disabled)("mdc-evolution-chip--with-trailing-action",Le._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",Le.leadingIcon)("mdc-evolution-chip--with-primary-icon",Le.leadingIcon)("mdc-evolution-chip--with-avatar",Le.leadingIcon)("mat-mdc-chip-highlighted",Le.highlighted)("mat-mdc-chip-with-trailing-icon",Le._hasTrailingIcon()))},inputs:{editable:"editable"},outputs:{edited:"edited"},standalone:!0,features:[p.Jv_([{provide:Ot,useExisting:gt},{provide:X,useExisting:gt}]),p.Vt3,p.aNF],ngContentSelectors:P,decls:10,vars:9,consts:[[1,"mat-mdc-chip-focus-overlay"],["role","gridcell","matChipAction","",1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary",3,"disabled"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],["aria-hidden","true",1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["role","gridcell",1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"],[1,"cdk-visually-hidden",3,"id"],["matChipEditInput",""]],template:function(Oe,Le){1&Oe&&(p.NAR(Y),p.DNE(0,U,1,0,"span",0),p.j41(1,"span",1),p.DNE(2,$,2,0,"span",2),p.j41(3,"span",3),p.DNE(4,I,2,1)(5,w,1,0),p.nrm(6,"span",4),p.k0s()(),p.DNE(7,L,2,0,"span",5),p.j41(8,"span",6),p.EFF(9),p.k0s()),2&Oe&&(p.vxM(Le._isEditing?-1:0),p.R7$(),p.Y8G("disabled",Le.disabled),p.BMQ("aria-label",Le.ariaLabel)("aria-describedby",Le._ariaDescriptionId),p.R7$(),p.vxM(Le.leadingIcon?2:-1),p.R7$(2),p.vxM(Le._isEditing?4:5),p.R7$(3),p.vxM(Le._hasTrailingIcon()?7:-1),p.R7$(),p.Y8G("id",Le._ariaDescriptionId),p.R7$(),p.JRh(Le.ariaDescription))},dependencies:[fe,ve],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width);border-radius:var(--mdc-chip-container-shape-radius);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color, var(--mat-app-outline))}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color, var(--mat-app-on-surface))}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font, var(--mat-app-label-large-font));line-height:var(--mdc-chip-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mdc-chip-label-text-size, var(--mat-app-label-large-size));font-weight:var(--mdc-chip-label-text-weight, var(--mat-app-label-large-weight));letter-spacing:var(--mdc-chip-label-text-tracking, var(--mat-app-label-large-tracking))}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size);height:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-app-on-surface))}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.cdk-high-contrast-active .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-app-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius);width:var(--mdc-chip-with-icon-icon-size);height:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-app-on-surface))}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-app-on-secondary-container));--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-app-secondary-container));--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color, var(--mat-app-on-secondary-container));--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-app-on-secondary-container))}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color, var(--mat-app-on-surface-variant));opacity:var(--mdc-chip-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color, var(--mat-app-on-secondary-container));opacity:var(--mdc-chip-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-app-on-surface-variant));opacity:var(--mdc-chip-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-app-on-secondary-container));opacity:var(--mdc-chip-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color, var(--mat-app-on-surface))}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity)}.mat-mdc-chip-remove::after{background:var(--mat-chip-trailing-action-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background:var(--mat-chip-selected-trailing-action-state-layer-color, var(--mat-app-on-secondary-container))}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-2px;bottom:-2px;left:6px;right:6px;border-radius:50%}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return gt})(),be=(()=>{class gt{get chipFocusChanges(){return this._getChipStream(ae=>ae._onFocus)}get chipDestroyedChanges(){return this._getChipStream(ae=>ae.destroyed)}get chipRemovedChanges(){return this._getChipStream(ae=>ae.removed)}get disabled(){return this._disabled}set disabled(ae){this._disabled=ae,this._syncChipsState()}get empty(){return!this._chips||0===this._chips.length}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}set role(ae){this._explicitRole=ae}get focused(){return this._hasFocusedChip()}constructor(ae,Oe,Le){this._elementRef=ae,this._changeDetectorRef=Oe,this._dir=Le,this._lastDestroyedFocusedChipIndex=null,this._destroyed=new _.B7,this._defaultRole="presentation",this._disabled=!1,this.tabIndex=0,this._explicitRole=null,this._chipActions=new p.rOR}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(ae=>ae._hasFocus())}_syncChipsState(){this._chips&&this._chips.forEach(ae=>{ae.disabled=this._disabled,ae._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(ae){this._originatesFromChip(ae)&&this._keyManager.onKeydown(ae)}_isValidIndex(ae){return ae>=0&&ae<this._chips.length}_allowFocusEscape(){if(-1!==this.tabIndex){const ae=this.tabIndex;this.tabIndex=-1,this._changeDetectorRef.markForCheck(),setTimeout(()=>{this.tabIndex=ae,this._changeDetectorRef.markForCheck()})}}_getChipStream(ae){return this._chips.changes.pipe((0,u.Z)(null),(0,S.n)(()=>(0,g.h)(...this._chips.map(ae))))}_originatesFromChip(ae){let Oe=ae.target;for(;Oe&&Oe!==this._elementRef.nativeElement;){if(Oe.classList.contains("mat-mdc-chip"))return!0;Oe=Oe.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe((0,u.Z)(this._chips)).subscribe(ae=>{const Oe=[];ae.forEach(Le=>Le._getActions().forEach(Pe=>Oe.push(Pe))),this._chipActions.reset(Oe),this._chipActions.notifyOnChanges()}),this._keyManager=new e.Bu(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(ae=>this._skipPredicate(ae)),this.chipFocusChanges.pipe((0,b.Q)(this._destroyed)).subscribe(({chip:ae})=>{const Oe=ae._getSourceAction(document.activeElement);Oe&&this._keyManager.updateActiveItem(Oe)}),this._dir?.change.pipe((0,b.Q)(this._destroyed)).subscribe(ae=>this._keyManager.withHorizontalOrientation(ae))}_skipPredicate(ae){return!ae.isInteractive||ae.disabled}_trackChipSetChanges(){this._chips.changes.pipe((0,u.Z)(null),(0,b.Q)(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe((0,b.Q)(this._destroyed)).subscribe(ae=>{const Le=this._chips.toArray().indexOf(ae.chip);this._isValidIndex(Le)&&ae.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=Le)})}_redirectDestroyedChipFocus(){if(null!=this._lastDestroyedFocusedChipIndex){if(this._chips.length){const ae=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),Oe=this._chips.toArray()[ae];Oe.disabled?1===this._chips.length?this.focus():this._keyManager.setPreviousItemActive():Oe.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}static#e=this.\u0275fac=function(Oe){return new(Oe||gt)(p.rXU(p.aKT),p.rXU(p.gRc),p.rXU(D.dS,8))};static#t=this.\u0275cmp=p.VBU({type:gt,selectors:[["mat-chip-set"]],contentQueries:function(Oe,Le,Pe){if(1&Oe&&p.wni(Pe,Ot,5),2&Oe){let _t;p.mGM(_t=p.lsd())&&(Le._chips=_t)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(Oe,Le){1&Oe&&p.bIt("keydown",function(_t){return Le._handleKeydown(_t)}),2&Oe&&p.BMQ("role",Le.role)},inputs:{disabled:[2,"disabled","disabled",p.L39],role:"role",tabIndex:[2,"tabIndex","tabIndex",ae=>null==ae?0:(0,p.Udg)(ae)]},standalone:!0,features:[p.GFd,p.aNF],ngContentSelectors:Q,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(Oe,Le){1&Oe&&(p.NAR(),p.j41(0,"div",0),p.SdG(1),p.k0s())},styles:[".mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return gt})();class Et{constructor(ot,ae){this.source=ot,this.value=ae}}let Ve=(()=>{class gt extends be{get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(ae){this._disabled=ae,this._syncChipsState()}get id(){return this._chipInput.id}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this._chips||0===this._chips.length)}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(ae){this._placeholder=ae,this.stateChanges.next()}get focused(){return this._chipInput.focused||this._hasFocusedChip()}get required(){return this._required??this.ngControl?.control?.hasValidator(E.k0.required)??!1}set required(ae){this._required=ae,this.stateChanges.next()}get shouldLabelFloat(){return!this.empty||this.focused}get value(){return this._value}set value(ae){this._value=ae}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(ae){this._errorStateTracker.matcher=ae}get chipBlurChanges(){return this._getChipStream(ae=>ae._onBlur)}get errorState(){return this._errorStateTracker.errorState}set errorState(ae){this._errorStateTracker.errorState=ae}constructor(ae,Oe,Le,Pe,_t,Gt,Kt){super(ae,Oe,Le),this.ngControl=Kt,this.controlType="mat-chip-grid",this._defaultRole="grid",this._ariaDescribedbyIds=[],this._onTouched=()=>{},this._onChange=()=>{},this._value=[],this.change=new p.bkB,this.valueChange=new p.bkB,this._chips=void 0,this.stateChanges=new _.B7,this.ngControl&&(this.ngControl.valueAccessor=this),this._errorStateTracker=new m.X0(Gt,Kt,_t,Pe,this.stateChanges)}ngAfterContentInit(){this.chipBlurChanges.pipe((0,b.Q)(this._destroyed)).subscribe(()=>{this._blur(),this.stateChanges.next()}),(0,g.h)(this.chipFocusChanges,this._chips.changes).pipe((0,b.Q)(this._destroyed)).subscribe(()=>this.stateChanges.next())}ngAfterViewInit(){super.ngAfterViewInit()}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnDestroy(){super.ngOnDestroy(),this.stateChanges.complete()}registerInput(ae){this._chipInput=ae,this._chipInput.setDescribedByIds(this._ariaDescribedbyIds)}onContainerClick(ae){!this.disabled&&!this._originatesFromChip(ae)&&this.focus()}focus(){this.disabled||this._chipInput.focused||(!this._chips.length||this._chips.first.disabled?Promise.resolve().then(()=>this._chipInput.focus()):this._chips.length&&0!==this._keyManager.activeItemIndex&&this._keyManager.setFirstItemActive(),this.stateChanges.next())}setDescribedByIds(ae){this._ariaDescribedbyIds=ae,this._chipInput?.setDescribedByIds(ae)}writeValue(ae){this._value=ae}registerOnChange(ae){this._onChange=ae}registerOnTouched(ae){this._onTouched=ae}setDisabledState(ae){this.disabled=ae,this.stateChanges.next()}updateErrorState(){this._errorStateTracker.updateErrorState()}_blur(){this.disabled||setTimeout(()=>{this.focused||(this._propagateChanges(),this._markAsTouched())})}_allowFocusEscape(){this._chipInput.focused||super._allowFocusEscape()}_handleKeydown(ae){const Oe=ae.keyCode,Le=this._keyManager.activeItem;if(Oe===i.wn)this._chipInput.focused&&(0,i.rp)(ae,"shiftKey")&&this._chips.length&&!this._chips.last.disabled?(ae.preventDefault(),Le?this._keyManager.setActiveItem(Le):this._focusLastChip()):super._allowFocusEscape();else if(!this._chipInput.focused)if(Oe!==i.i7&&Oe!==i.n6||!Le)super._handleKeydown(ae);else{const Pe=this._chipActions.filter(Kt=>Kt._isPrimary===Le._isPrimary&&!this._skipPredicate(Kt)),_t=Pe.indexOf(Le),Gt=ae.keyCode===i.i7?-1:1;ae.preventDefault(),_t>-1&&this._isValidIndex(_t+Gt)&&this._keyManager.setActiveItem(Pe[_t+Gt])}this.stateChanges.next()}_focusLastChip(){this._chips.length&&this._chips.last.focus()}_propagateChanges(){const ae=this._chips.length?this._chips.toArray().map(Oe=>Oe.value):[];this._value=ae,this.change.emit(new Et(this,ae)),this.valueChange.emit(ae),this._onChange(ae),this._changeDetectorRef.markForCheck()}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}static#e=this.\u0275fac=function(Oe){return new(Oe||gt)(p.rXU(p.aKT),p.rXU(p.gRc),p.rXU(D.dS,8),p.rXU(E.cV,8),p.rXU(E.j4,8),p.rXU(m.es),p.rXU(E.vO,10))};static#t=this.\u0275cmp=p.VBU({type:gt,selectors:[["mat-chip-grid"]],contentQueries:function(Oe,Le,Pe){if(1&Oe&&p.wni(Pe,Ce,5),2&Oe){let _t;p.mGM(_t=p.lsd())&&(Le._chips=_t)}},hostAttrs:[1,"mat-mdc-chip-set","mat-mdc-chip-grid","mdc-evolution-chip-set"],hostVars:10,hostBindings:function(Oe,Le){1&Oe&&p.bIt("focus",function(){return Le.focus()})("blur",function(){return Le._blur()}),2&Oe&&(p.BMQ("role",Le.role)("tabindex",Le.disabled||Le._chips&&0===Le._chips.length?-1:Le.tabIndex)("aria-disabled",Le.disabled.toString())("aria-invalid",Le.errorState),p.AVh("mat-mdc-chip-list-disabled",Le.disabled)("mat-mdc-chip-list-invalid",Le.errorState)("mat-mdc-chip-list-required",Le.required))},inputs:{disabled:[2,"disabled","disabled",p.L39],placeholder:"placeholder",required:[2,"required","required",p.L39],value:"value",errorStateMatcher:"errorStateMatcher"},outputs:{change:"change",valueChange:"valueChange"},standalone:!0,features:[p.Jv_([{provide:A.qT,useExisting:gt}]),p.GFd,p.Vt3,p.aNF],ngContentSelectors:Q,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(Oe,Le){1&Oe&&(p.NAR(),p.j41(0,"div",0),p.SdG(1),p.k0s())},styles:[".mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return gt})(),st=0,ht=(()=>{class gt{get chipGrid(){return this._chipGrid}set chipGrid(ae){ae&&(this._chipGrid=ae,this._chipGrid.registerInput(this))}get disabled(){return this._disabled||this._chipGrid&&this._chipGrid.disabled}set disabled(ae){this._disabled=ae}get empty(){return!this.inputElement.value}constructor(ae,Oe,Le){this._elementRef=ae,this.focused=!1,this.addOnBlur=!1,this.chipEnd=new p.bkB,this.placeholder="",this.id="mat-mdc-chip-list-input-"+st++,this._disabled=!1,this.inputElement=this._elementRef.nativeElement,this.separatorKeyCodes=Oe.separatorKeyCodes,Le&&this.inputElement.classList.add("mat-mdc-form-field-input-control")}ngOnChanges(){this._chipGrid.stateChanges.next()}ngOnDestroy(){this.chipEnd.complete()}_keydown(ae){this.empty&&ae.keyCode===i.G_?(ae.repeat||this._chipGrid._focusLastChip(),ae.preventDefault()):this._emitChipEnd(ae)}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipGrid.focused||this._chipGrid._blur(),this._chipGrid.stateChanges.next()}_focus(){this.focused=!0,this._chipGrid.stateChanges.next()}_emitChipEnd(ae){(!ae||this._isSeparatorKey(ae))&&(this.chipEnd.emit({input:this.inputElement,value:this.inputElement.value,chipInput:this}),ae?.preventDefault())}_onInput(){this._chipGrid.stateChanges.next()}focus(){this.inputElement.focus()}clear(){this.inputElement.value=""}setDescribedByIds(ae){const Oe=this._elementRef.nativeElement;ae.length?Oe.setAttribute("aria-describedby",ae.join(" ")):Oe.removeAttribute("aria-describedby")}_isSeparatorKey(ae){return!(0,i.rp)(ae)&&new Set(this.separatorKeyCodes).has(ae.keyCode)}static#e=this.\u0275fac=function(Oe){return new(Oe||gt)(p.rXU(p.aKT),p.rXU(R),p.rXU(A.xb,8))};static#t=this.\u0275dir=p.FsC({type:gt,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-mdc-chip-input","mat-mdc-input-element","mdc-text-field__input","mat-input-element"],hostVars:6,hostBindings:function(Oe,Le){1&Oe&&p.bIt("keydown",function(_t){return Le._keydown(_t)})("blur",function(){return Le._blur()})("focus",function(){return Le._focus()})("input",function(){return Le._onInput()}),2&Oe&&(p.Mr5("id",Le.id),p.BMQ("disabled",Le.disabled||null)("placeholder",Le.placeholder||null)("aria-invalid",Le._chipGrid&&Le._chipGrid.ngControl?Le._chipGrid.ngControl.invalid:null)("aria-required",Le._chipGrid&&Le._chipGrid.required||null)("required",Le._chipGrid&&Le._chipGrid.required||null))},inputs:{chipGrid:[0,"matChipInputFor","chipGrid"],addOnBlur:[2,"matChipInputAddOnBlur","addOnBlur",p.L39],separatorKeyCodes:[0,"matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",disabled:[2,"disabled","disabled",p.L39]},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],standalone:!0,features:[p.GFd,p.OA$]})}return gt})(),qe=(()=>{class gt{static#e=this.\u0275fac=function(Oe){return new(Oe||gt)};static#t=this.\u0275mod=p.$C({type:gt});static#n=this.\u0275inj=p.G2t({providers:[m.es,{provide:R,useValue:{separatorKeyCodes:[i.Fm]}}],imports:[m.yE,m.pZ,m.yE]})}return gt})()},6600:(Mt,pe,a)=>{"use strict";a.d(pe,{r5:()=>Y,ed:()=>P,MJ:()=>Me,es:()=>ue,de:()=>Ze,QC:()=>$t,is:()=>ft,$E:()=>Gt,yE:()=>B,WX:()=>ve,D7:()=>kt,wT:()=>un,Sy:()=>Sn,MI:()=>pn,wg:()=>Ft,O5:()=>_n,r6:()=>Kt,Ej:()=>Xt,pZ:()=>vn,ug:()=>Pe,Ex:()=>st,X0:()=>ee,tO:()=>Be,jb:()=>an,TL:()=>hn});var e=a(3953),i=a(9888),d=a(8203),m=a(177),_=a(6860),g=a(4085),b=a(5286),u=a(7336);const S=["*",[["mat-option"],["ng-container"]]],D=["*","mat-option, ng-container"],E=["text"],A=[[["mat-icon"]],"*"],v=["mat-icon","*"];function O(oe,Ee){if(1&oe&&e.nrm(0,"mat-pseudo-checkbox",1),2&oe){const ne=e.XpG();e.Y8G("disabled",ne.disabled)("state",ne.selected?"checked":"unchecked")}}function z(oe,Ee){if(1&oe&&e.nrm(0,"mat-pseudo-checkbox",3),2&oe){const ne=e.XpG();e.Y8G("disabled",ne.disabled)}}function G(oe,Ee){if(1&oe&&(e.j41(0,"span",4),e.EFF(1),e.k0s()),2&oe){const ne=e.XpG();e.R7$(),e.SpI("(",ne.group.label,")")}}const K=["mat-internal-form-field",""],F=["*"];let Y=(()=>{class oe{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#i=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return oe})(),P=(()=>{class oe{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return oe})();const $=new e.nKC("mat-sanity-checks",{providedIn:"root",factory:function U(){return!0}});let B=(()=>{class oe{constructor(ne,Ie,Te){this._sanityChecks=Ie,this._document=Te,this._hasDoneGlobalChecks=!1,ne._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(ne){return!(0,_.v8)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[ne])}static#e=this.\u0275fac=function(Ie){return new(Ie||oe)(e.KVO(i.Q_),e.KVO($,8),e.KVO(m.qQ))};static#t=this.\u0275mod=e.$C({type:oe});static#n=this.\u0275inj=e.G2t({imports:[d.jI,d.jI]})}return oe})();class ee{constructor(Ee,ne,Ie,Te,Ge){this._defaultMatcher=Ee,this.ngControl=ne,this._parentFormGroup=Ie,this._parentForm=Te,this._stateChanges=Ge,this.errorState=!1}updateErrorState(){const Ee=this.errorState,ne=this._parentFormGroup||this._parentForm,Ie=this.matcher||this._defaultMatcher,Te=this.ngControl?this.ngControl.control:null,Ge=Ie?.isErrorState(Te,ne)??!1;Ge!==Ee&&(this.errorState=Ge,this._stateChanges.next())}}const X=new e.nKC("MAT_DATE_LOCALE",{providedIn:"root",factory:function fe(){return(0,e.WQX)(e.xe9)}});class Me{constructor(){this._localeChanges=new b.B7,this.localeChanges=this._localeChanges}getValidDateOrNull(Ee){return this.isDateInstance(Ee)&&this.isValid(Ee)?Ee:null}deserialize(Ee){return null==Ee||this.isDateInstance(Ee)&&this.isValid(Ee)?Ee:this.invalid()}setLocale(Ee){this.locale=Ee,this._localeChanges.next()}compareDate(Ee,ne){return this.getYear(Ee)-this.getYear(ne)||this.getMonth(Ee)-this.getMonth(ne)||this.getDate(Ee)-this.getDate(ne)}sameDate(Ee,ne){if(Ee&&ne){let Ie=this.isValid(Ee),Te=this.isValid(ne);return Ie&&Te?!this.compareDate(Ee,ne):Ie==Te}return Ee==ne}clampDate(Ee,ne,Ie){return ne&&this.compareDate(Ee,ne)<0?ne:Ie&&this.compareDate(Ee,Ie)>0?Ie:Ee}}const Ze=new e.nKC("mat-date-formats"),Ct=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function lt(oe,Ee){const ne=Array(oe);for(let Ie=0;Ie<oe;Ie++)ne[Ie]=Ee(Ie);return ne}let Ot=(()=>{class oe extends Me{constructor(ne){super(),this.useUtcForDisplay=!1,this._matDateLocale=(0,e.WQX)(X,{optional:!0}),void 0!==ne&&(this._matDateLocale=ne),super.setLocale(this._matDateLocale)}getYear(ne){return ne.getFullYear()}getMonth(ne){return ne.getMonth()}getDate(ne){return ne.getDate()}getDayOfWeek(ne){return ne.getDay()}getMonthNames(ne){const Ie=new Intl.DateTimeFormat(this.locale,{month:ne,timeZone:"utc"});return lt(12,Te=>this._format(Ie,new Date(2017,Te,1)))}getDateNames(){const ne=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return lt(31,Ie=>this._format(ne,new Date(2017,0,Ie+1)))}getDayOfWeekNames(ne){const Ie=new Intl.DateTimeFormat(this.locale,{weekday:ne,timeZone:"utc"});return lt(7,Te=>this._format(Ie,new Date(2017,0,Te+1)))}getYearName(ne){const Ie=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(Ie,ne)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(ne){return this.getDate(this._createDateWithOverflow(this.getYear(ne),this.getMonth(ne)+1,0))}clone(ne){return new Date(ne.getTime())}createDate(ne,Ie,Te){let Ge=this._createDateWithOverflow(ne,Ie,Te);return Ge.getMonth(),Ge}today(){return new Date}parse(ne,Ie){return"number"==typeof ne?new Date(ne):ne?new Date(Date.parse(ne)):null}format(ne,Ie){if(!this.isValid(ne))throw Error("NativeDateAdapter: Cannot format invalid date.");const Te=new Intl.DateTimeFormat(this.locale,{...Ie,timeZone:"utc"});return this._format(Te,ne)}addCalendarYears(ne,Ie){return this.addCalendarMonths(ne,12*Ie)}addCalendarMonths(ne,Ie){let Te=this._createDateWithOverflow(this.getYear(ne),this.getMonth(ne)+Ie,this.getDate(ne));return this.getMonth(Te)!=((this.getMonth(ne)+Ie)%12+12)%12&&(Te=this._createDateWithOverflow(this.getYear(Te),this.getMonth(Te),0)),Te}addCalendarDays(ne,Ie){return this._createDateWithOverflow(this.getYear(ne),this.getMonth(ne),this.getDate(ne)+Ie)}toIso8601(ne){return[ne.getUTCFullYear(),this._2digit(ne.getUTCMonth()+1),this._2digit(ne.getUTCDate())].join("-")}deserialize(ne){if("string"==typeof ne){if(!ne)return null;if(Ct.test(ne)){let Ie=new Date(ne);if(this.isValid(Ie))return Ie}}return super.deserialize(ne)}isDateInstance(ne){return ne instanceof Date}isValid(ne){return!isNaN(ne.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(ne,Ie,Te){const Ge=new Date;return Ge.setFullYear(ne,Ie,Te),Ge.setHours(0,0,0,0),Ge}_2digit(ne){return("00"+ne).slice(-2)}_format(ne,Ie){const Te=new Date;return Te.setUTCFullYear(Ie.getFullYear(),Ie.getMonth(),Ie.getDate()),Te.setUTCHours(Ie.getHours(),Ie.getMinutes(),Ie.getSeconds(),Ie.getMilliseconds()),ne.format(Te)}static#e=this.\u0275fac=function(Ie){return new(Ie||oe)(e.KVO(X,8))};static#t=this.\u0275prov=e.jDH({token:oe,factory:oe.\u0275fac})}return oe})();const rt={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let ve=(()=>{class oe{static#e=this.\u0275fac=function(Ie){return new(Ie||oe)};static#t=this.\u0275mod=e.$C({type:oe});static#n=this.\u0275inj=e.G2t({providers:[Ce()]})}return oe})();function Ce(oe=rt){return[{provide:Me,useClass:Ot},{provide:Ze,useValue:oe}]}let ue=(()=>{class oe{isErrorState(ne,Ie){return!!(ne&&ne.invalid&&(ne.touched||Ie&&Ie.submitted))}static#e=this.\u0275fac=function(Ie){return new(Ie||oe)};static#t=this.\u0275prov=e.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"})}return oe})();var st=function(oe){return oe[oe.FADING_IN=0]="FADING_IN",oe[oe.VISIBLE=1]="VISIBLE",oe[oe.FADING_OUT=2]="FADING_OUT",oe[oe.HIDDEN=3]="HIDDEN",oe}(st||{});class ht{constructor(Ee,ne,Ie,Te=!1){this._renderer=Ee,this.element=ne,this.config=Ie,this._animationForciblyDisabledThroughCss=Te,this.state=st.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const Vt=(0,_.BQ)({passive:!0,capture:!0});class qe{constructor(){this._events=new Map,this._delegateEventHandler=Ee=>{const ne=(0,_.Fb)(Ee);ne&&this._events.get(Ee.type)?.forEach((Ie,Te)=>{(Te===ne||Te.contains(ne))&&Ie.forEach(Ge=>Ge.handleEvent(Ee))})}}addHandler(Ee,ne,Ie,Te){const Ge=this._events.get(ne);if(Ge){const Ue=Ge.get(Ie);Ue?Ue.add(Te):Ge.set(Ie,new Set([Te]))}else this._events.set(ne,new Map([[Ie,new Set([Te])]])),Ee.runOutsideAngular(()=>{document.addEventListener(ne,this._delegateEventHandler,Vt)})}removeHandler(Ee,ne,Ie){const Te=this._events.get(Ee);if(!Te)return;const Ge=Te.get(ne);Ge&&(Ge.delete(Ie),0===Ge.size&&Te.delete(ne),0===Te.size&&(this._events.delete(Ee),document.removeEventListener(Ee,this._delegateEventHandler,Vt)))}}const gt={enterDuration:225,exitDuration:150},ae=(0,_.BQ)({passive:!0,capture:!0}),Oe=["mousedown","touchstart"],Le=["mouseup","mouseleave","touchend","touchcancel"];class Pe{static#e=this._eventManager=new qe;constructor(Ee,ne,Ie,Te){this._target=Ee,this._ngZone=ne,this._platform=Te,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,Te.isBrowser&&(this._containerElement=(0,g.i8)(Ie))}fadeInRipple(Ee,ne,Ie={}){const Te=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Ge={...gt,...Ie.animation};Ie.centered&&(Ee=Te.left+Te.width/2,ne=Te.top+Te.height/2);const Ue=Ie.radius||function _t(oe,Ee,ne){const Ie=Math.max(Math.abs(oe-ne.left),Math.abs(oe-ne.right)),Te=Math.max(Math.abs(Ee-ne.top),Math.abs(Ee-ne.bottom));return Math.sqrt(Ie*Ie+Te*Te)}(Ee,ne,Te),Fe=Ee-Te.left,At=ne-Te.top,Ke=Ge.enterDuration,xt=document.createElement("div");xt.classList.add("mat-ripple-element"),xt.style.left=Fe-Ue+"px",xt.style.top=At-Ue+"px",xt.style.height=2*Ue+"px",xt.style.width=2*Ue+"px",null!=Ie.color&&(xt.style.backgroundColor=Ie.color),xt.style.transitionDuration=`${Ke}ms`,this._containerElement.appendChild(xt);const tn=window.getComputedStyle(xt),En=tn.transitionDuration,Un="none"===tn.transitionProperty||"0s"===En||"0s, 0s"===En||0===Te.width&&0===Te.height,Xn=new ht(this,xt,Ie,Un);xt.style.transform="scale3d(1, 1, 1)",Xn.state=st.FADING_IN,Ie.persistent||(this._mostRecentTransientRipple=Xn);let Qn=null;return!Un&&(Ke||Ge.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const fi=()=>{Qn&&(Qn.fallbackTimer=null),clearTimeout(Ti),this._finishRippleTransition(Xn)},Ui=()=>this._destroyRipple(Xn),Ti=setTimeout(Ui,Ke+100);xt.addEventListener("transitionend",fi),xt.addEventListener("transitioncancel",Ui),Qn={onTransitionEnd:fi,onTransitionCancel:Ui,fallbackTimer:Ti}}),this._activeRipples.set(Xn,Qn),(Un||!Ke)&&this._finishRippleTransition(Xn),Xn}fadeOutRipple(Ee){if(Ee.state===st.FADING_OUT||Ee.state===st.HIDDEN)return;const ne=Ee.element,Ie={...gt,...Ee.config.animation};ne.style.transitionDuration=`${Ie.exitDuration}ms`,ne.style.opacity="0",Ee.state=st.FADING_OUT,(Ee._animationForciblyDisabledThroughCss||!Ie.exitDuration)&&this._finishRippleTransition(Ee)}fadeOutAll(){this._getActiveRipples().forEach(Ee=>Ee.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(Ee=>{Ee.config.persistent||Ee.fadeOut()})}setupTriggerEvents(Ee){const ne=(0,g.i8)(Ee);!this._platform.isBrowser||!ne||ne===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=ne,Oe.forEach(Ie=>{Pe._eventManager.addHandler(this._ngZone,Ie,ne,this)}))}handleEvent(Ee){"mousedown"===Ee.type?this._onMousedown(Ee):"touchstart"===Ee.type?this._onTouchStart(Ee):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Le.forEach(ne=>{this._triggerElement.addEventListener(ne,this,ae)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(Ee){Ee.state===st.FADING_IN?this._startFadeOutTransition(Ee):Ee.state===st.FADING_OUT&&this._destroyRipple(Ee)}_startFadeOutTransition(Ee){const ne=Ee===this._mostRecentTransientRipple,{persistent:Ie}=Ee.config;Ee.state=st.VISIBLE,!Ie&&(!ne||!this._isPointerDown)&&Ee.fadeOut()}_destroyRipple(Ee){const ne=this._activeRipples.get(Ee)??null;this._activeRipples.delete(Ee),this._activeRipples.size||(this._containerRect=null),Ee===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),Ee.state=st.HIDDEN,null!==ne&&(Ee.element.removeEventListener("transitionend",ne.onTransitionEnd),Ee.element.removeEventListener("transitioncancel",ne.onTransitionCancel),null!==ne.fallbackTimer&&clearTimeout(ne.fallbackTimer)),Ee.element.remove()}_onMousedown(Ee){const ne=(0,i._G)(Ee),Ie=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!ne&&!Ie&&(this._isPointerDown=!0,this.fadeInRipple(Ee.clientX,Ee.clientY,this._target.rippleConfig))}_onTouchStart(Ee){if(!this._target.rippleDisabled&&!(0,i.w6)(Ee)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const ne=Ee.changedTouches;if(ne)for(let Ie=0;Ie<ne.length;Ie++)this.fadeInRipple(ne[Ie].clientX,ne[Ie].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(Ee=>{!Ee.config.persistent&&(Ee.state===st.VISIBLE||Ee.config.terminateOnPointerUp&&Ee.state===st.FADING_IN)&&Ee.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const Ee=this._triggerElement;Ee&&(Oe.forEach(ne=>Pe._eventManager.removeHandler(ne,Ee,this)),this._pointerUpEventsRegistered&&(Le.forEach(ne=>Ee.removeEventListener(ne,this,ae)),this._pointerUpEventsRegistered=!1))}}const Gt=new e.nKC("mat-ripple-global-options");let Kt=(()=>{class oe{get disabled(){return this._disabled}set disabled(ne){ne&&this.fadeOutAllNonPersistent(),this._disabled=ne,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(ne){this._trigger=ne,this._setupTriggerEventsIfEnabled()}constructor(ne,Ie,Te,Ge,Ue){this._elementRef=ne,this._animationMode=Ue,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Ge||{},this._rippleRenderer=new Pe(this,Ie,ne,Te)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(ne,Ie=0,Te){return"number"==typeof ne?this._rippleRenderer.fadeInRipple(ne,Ie,{...this.rippleConfig,...Te}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...ne})}static#e=this.\u0275fac=function(Ie){return new(Ie||oe)(e.rXU(e.aKT),e.rXU(e.SKi),e.rXU(_.OD),e.rXU(Gt,8),e.rXU(e.bc$,8))};static#t=this.\u0275dir=e.FsC({type:oe,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(Ie,Te){2&Ie&&e.AVh("mat-ripple-unbounded",Te.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return oe})(),vn=(()=>{class oe{static#e=this.\u0275fac=function(Ie){return new(Ie||oe)};static#t=this.\u0275mod=e.$C({type:oe});static#n=this.\u0275inj=e.G2t({imports:[B,B]})}return oe})(),Ft=(()=>{class oe{constructor(ne){this._animationMode=ne,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(Ie){return new(Ie||oe)(e.rXU(e.bc$,8))};static#t=this.\u0275cmp=e.VBU({type:oe,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(Ie,Te){2&Ie&&e.AVh("mat-pseudo-checkbox-indeterminate","indeterminate"===Te.state)("mat-pseudo-checkbox-checked","checked"===Te.state)("mat-pseudo-checkbox-disabled",Te.disabled)("mat-pseudo-checkbox-minimal","minimal"===Te.appearance)("mat-pseudo-checkbox-full","full"===Te.appearance)("_mat-animation-noopable","NoopAnimations"===Te._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[e.aNF],decls:0,vars:0,template:function(Ie,Te){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color, var(--mat-app-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color, var(--mat-app-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return oe})(),_n=(()=>{class oe{static#e=this.\u0275fac=function(Ie){return new(Ie||oe)};static#t=this.\u0275mod=e.$C({type:oe});static#n=this.\u0275inj=e.G2t({imports:[B]})}return oe})();const ft=new e.nKC("MAT_OPTION_PARENT_COMPONENT");let pt=0;const $t=new e.nKC("MatOptgroup");let kt=(()=>{class oe{constructor(ne){this.disabled=!1,this._labelId="mat-optgroup-label-"+pt++,this._inert=ne?.inertGroups??!1}static#e=this.\u0275fac=function(Ie){return new(Ie||oe)(e.rXU(ft,8))};static#t=this.\u0275cmp=e.VBU({type:oe,selectors:[["mat-optgroup"]],hostAttrs:[1,"mat-mdc-optgroup"],hostVars:3,hostBindings:function(Ie,Te){2&Ie&&e.BMQ("role",Te._inert?null:"group")("aria-disabled",Te._inert?null:Te.disabled.toString())("aria-labelledby",Te._inert?null:Te._labelId)},inputs:{label:"label",disabled:[2,"disabled","disabled",e.L39]},exportAs:["matOptgroup"],standalone:!0,features:[e.Jv_([{provide:$t,useExisting:oe}]),e.GFd,e.aNF],ngContentSelectors:D,decls:5,vars:4,consts:[["role","presentation",1,"mat-mdc-optgroup-label",3,"id"],[1,"mdc-list-item__primary-text"]],template:function(Ie,Te){1&Ie&&(e.NAR(S),e.j41(0,"span",0)(1,"span",1),e.EFF(2),e.SdG(3),e.k0s()(),e.SdG(4,1)),2&Ie&&(e.AVh("mdc-list-item--disabled",Te.disabled),e.Y8G("id",Te._labelId),e.R7$(2),e.SpI("",Te.label," "))},styles:[".mat-mdc-optgroup{color:var(--mat-optgroup-label-text-color, var(--mat-app-on-surface-variant));font-family:var(--mat-optgroup-label-text-font, var(--mat-app-title-small-font));line-height:var(--mat-optgroup-label-text-line-height, var(--mat-app-title-small-line-height));font-size:var(--mat-optgroup-label-text-size, var(--mat-app-title-small-size));letter-spacing:var(--mat-optgroup-label-text-tracking, var(--mat-app-title-small-tracking));font-weight:var(--mat-optgroup-label-text-weight, var(--mat-app-title-small-weight))}.mat-mdc-optgroup-label{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;outline:none}.mat-mdc-optgroup-label.mdc-list-item--disabled{opacity:.38}.mat-mdc-optgroup-label .mdc-list-item__primary-text{font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;white-space:normal}"],encapsulation:2,changeDetection:0})}return oe})(),dn=0;class pn{constructor(Ee,ne=!1){this.source=Ee,this.isUserInput=ne}}let un=(()=>{class oe{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(ne){this._disabled=ne}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(ne,Ie,Te,Ge){this._element=ne,this._changeDetectorRef=Ie,this._parent=Te,this.group=Ge,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+dn++,this.onSelectionChange=new e.bkB,this._stateChanges=new b.B7}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(ne=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),ne&&this._emitSelectionChangeEvent())}deselect(ne=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),ne&&this._emitSelectionChangeEvent())}focus(ne,Ie){const Te=this._getHostElement();"function"==typeof Te.focus&&Te.focus(Ie)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(ne){(ne.keyCode===u.Fm||ne.keyCode===u.t6)&&!(0,u.rp)(ne)&&(this._selectViaInteraction(),ne.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const ne=this.viewValue;ne!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=ne)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(ne=!1){this.onSelectionChange.emit(new pn(this,ne))}static#e=this.\u0275fac=function(Ie){return new(Ie||oe)(e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(ft,8),e.rXU($t,8))};static#t=this.\u0275cmp=e.VBU({type:oe,selectors:[["mat-option"]],viewQuery:function(Ie,Te){if(1&Ie&&e.GBs(E,7),2&Ie){let Ge;e.mGM(Ge=e.lsd())&&(Te._text=Ge.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(Ie,Te){1&Ie&&e.bIt("click",function(){return Te._selectViaInteraction()})("keydown",function(Ue){return Te._handleKeydown(Ue)}),2&Ie&&(e.Mr5("id",Te.id),e.BMQ("aria-selected",Te.selected)("aria-disabled",Te.disabled.toString()),e.AVh("mdc-list-item--selected",Te.selected)("mat-mdc-option-multiple",Te.multiple)("mat-mdc-option-active",Te.active)("mdc-list-item--disabled",Te.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",e.L39]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[e.GFd,e.aNF],ngContentSelectors:v,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(Ie,Te){1&Ie&&(e.NAR(A),e.DNE(0,O,1,2,"mat-pseudo-checkbox",1),e.SdG(1),e.j41(2,"span",2,0),e.SdG(4,1),e.k0s(),e.DNE(5,z,1,1,"mat-pseudo-checkbox",3)(6,G,2,1,"span",4),e.nrm(7,"div",5)),2&Ie&&(e.vxM(Te.multiple?0:-1),e.R7$(5),e.vxM(Te.multiple||!Te.selected||Te.hideSingleSelectionIndicator?-1:5),e.R7$(),e.vxM(Te.group&&Te.group._inert?6:-1),e.R7$(),e.Y8G("matRippleTrigger",Te._getHostElement())("matRippleDisabled",Te.disabled||Te.disableRipple))},dependencies:[Ft,Kt],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-app-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-app-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-app-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-app-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return oe})();function an(oe,Ee,ne){if(ne.length){let Ie=Ee.toArray(),Te=ne.toArray(),Ge=0;for(let Ue=0;Ue<oe+1;Ue++)Ie[Ue].group&&Ie[Ue].group===Te[Ge]&&Ge++;return Ge}return 0}function hn(oe,Ee,ne,Ie){return oe<ne?oe:oe+Ee>ne+Ie?Math.max(0,oe-Ie+Ee):ne}let Sn=(()=>{class oe{static#e=this.\u0275fac=function(Ie){return new(Ie||oe)};static#t=this.\u0275mod=e.$C({type:oe});static#n=this.\u0275inj=e.G2t({imports:[vn,B,_n]})}return oe})();const Lt={capture:!0},at=["focus","mousedown","mouseenter","touchstart"],ct="mat-ripple-loader-uninitialized",Xe="mat-ripple-loader-class-name",Qe="mat-ripple-loader-centered",Bt="mat-ripple-loader-disabled";let Xt=(()=>{class oe{constructor(){this._document=(0,e.WQX)(m.qQ,{optional:!0}),this._animationMode=(0,e.WQX)(e.bc$,{optional:!0}),this._globalRippleOptions=(0,e.WQX)(Gt,{optional:!0}),this._platform=(0,e.WQX)(_.OD),this._ngZone=(0,e.WQX)(e.SKi),this._hosts=new Map,this._onInteraction=ne=>{const Ie=(0,_.Fb)(ne);if(Ie instanceof HTMLElement){const Te=Ie.closest(`[${ct}="${this._globalRippleOptions?.namespace??""}"]`);Te&&this._createRipple(Te)}},this._ngZone.runOutsideAngular(()=>{for(const ne of at)this._document?.addEventListener(ne,this._onInteraction,Lt)})}ngOnDestroy(){const ne=this._hosts.keys();for(const Ie of ne)this.destroyRipple(Ie);for(const Ie of at)this._document?.removeEventListener(Ie,this._onInteraction,Lt)}configureRipple(ne,Ie){ne.setAttribute(ct,this._globalRippleOptions?.namespace??""),(Ie.className||!ne.hasAttribute(Xe))&&ne.setAttribute(Xe,Ie.className||""),Ie.centered&&ne.setAttribute(Qe,""),Ie.disabled&&ne.setAttribute(Bt,"")}getRipple(ne){return this._hosts.get(ne)||this._createRipple(ne)}setDisabled(ne,Ie){const Te=this._hosts.get(ne);Te?Te.disabled=Ie:Ie?ne.setAttribute(Bt,""):ne.removeAttribute(Bt)}_createRipple(ne){if(!this._document)return;const Ie=this._hosts.get(ne);if(Ie)return Ie;ne.querySelector(".mat-ripple")?.remove();const Te=this._document.createElement("span");Te.classList.add("mat-ripple",ne.getAttribute(Xe)),ne.append(Te);const Ge=new Kt(new e.aKT(Te),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return Ge._isInitialized=!0,Ge.trigger=ne,Ge.centered=ne.hasAttribute(Qe),Ge.disabled=ne.hasAttribute(Bt),this.attachRipple(ne,Ge),Ge}attachRipple(ne,Ie){ne.removeAttribute(ct),this._hosts.set(ne,Ie)}destroyRipple(ne){const Ie=this._hosts.get(ne);Ie&&(Ie.ngOnDestroy(),this._hosts.delete(ne))}static#e=this.\u0275fac=function(Ie){return new(Ie||oe)};static#t=this.\u0275prov=e.jDH({token:oe,factory:oe.\u0275fac,providedIn:"root"})}return oe})(),Be=(()=>{class oe{static#e=this.\u0275fac=function(Ie){return new(Ie||oe)};static#t=this.\u0275cmp=e.VBU({type:oe,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(Ie,Te){2&Ie&&e.AVh("mdc-form-field--align-end","before"===Te.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[e.aNF],attrs:K,ngContentSelectors:F,decls:1,vars:0,template:function(Ie,Te){1&Ie&&(e.NAR(),e.SdG(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}return oe})()},5084:(Mt,pe,a)=>{"use strict";a.d(pe,{IG:()=>dt,SG:()=>Pn,X6:()=>Yt,bU:()=>Un,el:()=>jt,xR:()=>wn});var e=a(9888),i=a(7987),d=a(6939),p=a(177),m=a(3953),_=a(8834),g=a(3701),b=a(6600),u=a(5286),S=a(4337),D=a(4670),E=a(4421),A=a(7336),v=a(8203),O=a(6860),z=a(3176),G=a(9493),K=a(8728),F=a(4085),H=a(9969),Y=a(9417),P=a(3719);a(9631);const $=["mat-calendar-body",""];function B(mt,Qt){return this._trackRow(Qt)}const y=(mt,Qt)=>Qt.id;function I(mt,Qt){if(1&mt&&(m.j41(0,"tr",0)(1,"td",3),m.EFF(2),m.k0s()()),2&mt){const se=m.XpG();m.R7$(),m.xc7("padding-top",se._cellPadding)("padding-bottom",se._cellPadding),m.BMQ("colspan",se.numCols),m.R7$(),m.SpI(" ",se.label," ")}}function w(mt,Qt){if(1&mt&&(m.j41(0,"td",3),m.EFF(1),m.k0s()),2&mt){const se=m.XpG(2);m.xc7("padding-top",se._cellPadding)("padding-bottom",se._cellPadding),m.BMQ("colspan",se._firstRowOffset),m.R7$(),m.SpI(" ",se._firstRowOffset>=se.labelMinRequiredCells?se.label:""," ")}}function L(mt,Qt){if(1&mt){const se=m.RV6();m.j41(0,"td",6)(1,"button",7),m.bIt("click",function(xe){const bt=m.eBV(se).$implicit,Jt=m.XpG(2);return m.Njj(Jt._cellClicked(bt,xe))})("focus",function(xe){const bt=m.eBV(se).$implicit,Jt=m.XpG(2);return m.Njj(Jt._emitActiveDateChange(bt,xe))}),m.j41(2,"span",8),m.EFF(3),m.k0s(),m.nrm(4,"span",9),m.k0s()()}if(2&mt){const se=Qt.$implicit,Ae=Qt.$index,xe=m.XpG().$index,bt=m.XpG();m.xc7("width",bt._cellWidth)("padding-top",bt._cellPadding)("padding-bottom",bt._cellPadding),m.BMQ("data-mat-row",xe)("data-mat-col",Ae),m.R7$(),m.AVh("mat-calendar-body-disabled",!se.enabled)("mat-calendar-body-active",bt._isActiveCell(xe,Ae))("mat-calendar-body-range-start",bt._isRangeStart(se.compareValue))("mat-calendar-body-range-end",bt._isRangeEnd(se.compareValue))("mat-calendar-body-in-range",bt._isInRange(se.compareValue))("mat-calendar-body-comparison-bridge-start",bt._isComparisonBridgeStart(se.compareValue,xe,Ae))("mat-calendar-body-comparison-bridge-end",bt._isComparisonBridgeEnd(se.compareValue,xe,Ae))("mat-calendar-body-comparison-start",bt._isComparisonStart(se.compareValue))("mat-calendar-body-comparison-end",bt._isComparisonEnd(se.compareValue))("mat-calendar-body-in-comparison-range",bt._isInComparisonRange(se.compareValue))("mat-calendar-body-preview-start",bt._isPreviewStart(se.compareValue))("mat-calendar-body-preview-end",bt._isPreviewEnd(se.compareValue))("mat-calendar-body-in-preview",bt._isInPreview(se.compareValue)),m.Y8G("ngClass",se.cssClasses)("tabindex",bt._isActiveCell(xe,Ae)?0:-1),m.BMQ("aria-label",se.ariaLabel)("aria-disabled",!se.enabled||null)("aria-pressed",bt._isSelected(se.compareValue))("aria-current",bt.todayValue===se.compareValue?"date":null)("aria-describedby",bt._getDescribedby(se.compareValue)),m.R7$(),m.AVh("mat-calendar-body-selected",bt._isSelected(se.compareValue))("mat-calendar-body-comparison-identical",bt._isComparisonIdentical(se.compareValue))("mat-calendar-body-today",bt.todayValue===se.compareValue),m.R7$(),m.SpI(" ",se.displayValue," ")}}function Q(mt,Qt){if(1&mt&&(m.j41(0,"tr",1),m.DNE(1,w,2,6,"td",4),m.Z7z(2,L,5,48,"td",5,y),m.k0s()),2&mt){const se=Qt.$implicit,Ae=Qt.$index,xe=m.XpG();m.R7$(),m.vxM(0===Ae&&xe._firstRowOffset?1:-1),m.R7$(),m.Dyx(se)}}function te(mt,Qt){if(1&mt&&(m.j41(0,"th",2)(1,"span",6),m.EFF(2),m.k0s(),m.j41(3,"span",3),m.EFF(4),m.k0s()()),2&mt){const se=Qt.$implicit;m.R7$(2),m.JRh(se.long),m.R7$(2),m.JRh(se.narrow)}}const R=["*"];function ee(mt,Qt){}function k(mt,Qt){if(1&mt){const se=m.RV6();m.j41(0,"mat-month-view",4),m.mxI("activeDateChange",function(xe){m.eBV(se);const bt=m.XpG();return m.DH7(bt.activeDate,xe)||(bt.activeDate=xe),m.Njj(xe)}),m.bIt("_userSelection",function(xe){m.eBV(se);const bt=m.XpG();return m.Njj(bt._dateSelected(xe))})("dragStarted",function(xe){m.eBV(se);const bt=m.XpG();return m.Njj(bt._dragStarted(xe))})("dragEnded",function(xe){m.eBV(se);const bt=m.XpG();return m.Njj(bt._dragEnded(xe))}),m.k0s()}if(2&mt){const se=m.XpG();m.R50("activeDate",se.activeDate),m.Y8G("selected",se.selected)("dateFilter",se.dateFilter)("maxDate",se.maxDate)("minDate",se.minDate)("dateClass",se.dateClass)("comparisonStart",se.comparisonStart)("comparisonEnd",se.comparisonEnd)("startDateAccessibleName",se.startDateAccessibleName)("endDateAccessibleName",se.endDateAccessibleName)("activeDrag",se._activeDrag)}}function J(mt,Qt){if(1&mt){const se=m.RV6();m.j41(0,"mat-year-view",5),m.mxI("activeDateChange",function(xe){m.eBV(se);const bt=m.XpG();return m.DH7(bt.activeDate,xe)||(bt.activeDate=xe),m.Njj(xe)}),m.bIt("monthSelected",function(xe){m.eBV(se);const bt=m.XpG();return m.Njj(bt._monthSelectedInYearView(xe))})("selectedChange",function(xe){m.eBV(se);const bt=m.XpG();return m.Njj(bt._goToDateInView(xe,"month"))}),m.k0s()}if(2&mt){const se=m.XpG();m.R50("activeDate",se.activeDate),m.Y8G("selected",se.selected)("dateFilter",se.dateFilter)("maxDate",se.maxDate)("minDate",se.minDate)("dateClass",se.dateClass)}}function X(mt,Qt){if(1&mt){const se=m.RV6();m.j41(0,"mat-multi-year-view",6),m.mxI("activeDateChange",function(xe){m.eBV(se);const bt=m.XpG();return m.DH7(bt.activeDate,xe)||(bt.activeDate=xe),m.Njj(xe)}),m.bIt("yearSelected",function(xe){m.eBV(se);const bt=m.XpG();return m.Njj(bt._yearSelectedInMultiYearView(xe))})("selectedChange",function(xe){m.eBV(se);const bt=m.XpG();return m.Njj(bt._goToDateInView(xe,"year"))}),m.k0s()}if(2&mt){const se=m.XpG();m.R50("activeDate",se.activeDate),m.Y8G("selected",se.selected)("dateFilter",se.dateFilter)("maxDate",se.maxDate)("minDate",se.minDate)("dateClass",se.dateClass)}}function fe(mt,Qt){}const Me=["button"],Ze=[[["","matDatepickerToggleIcon",""]]],Ct=["[matDatepickerToggleIcon]"];function lt(mt,Qt){1&mt&&(m.qSk(),m.j41(0,"svg",2),m.nrm(1,"path",3),m.k0s())}const Ot=[[["input","matStartDate",""]],[["input","matEndDate",""]]],rt=["input[matStartDate]","input[matEndDate]"];let Ce=(()=>{class mt{constructor(){this.changes=new u.B7,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(se,Ae){return`${se} \u2013 ${Ae}`}formatYearRangeLabel(se,Ae){return`${se} to ${Ae}`}static#e=this.\u0275fac=function(Ae){return new(Ae||mt)};static#t=this.\u0275prov=m.jDH({token:mt,factory:mt.\u0275fac,providedIn:"root"})}return mt})(),be=0;class ue{constructor(Qt,se,Ae,xe,bt={},Jt=Qt,Bn){this.value=Qt,this.displayValue=se,this.ariaLabel=Ae,this.enabled=xe,this.cssClasses=bt,this.compareValue=Jt,this.rawValue=Bn,this.id=be++}}let me=1;const $e=(0,O.BQ)({passive:!1,capture:!0}),Et=(0,O.BQ)({passive:!0,capture:!0}),Ve=(0,O.BQ)({passive:!0});let st=(()=>{class mt{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(se,Ae){this._elementRef=se,this._ngZone=Ae,this._platform=(0,m.WQX)(O.OD),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new m.bkB,this.previewChange=new m.bkB,this.activeDateChange=new m.bkB,this.dragStarted=new m.bkB,this.dragEnded=new m.bkB,this._didDragSinceMouseDown=!1,this._injector=(0,m.WQX)(m.zZn),this._trackRow=xe=>xe,this._enterHandler=xe=>{if(this._skipNextFocus&&"focus"===xe.type)this._skipNextFocus=!1;else if(xe.target&&this.isRange){const bt=this._getCellFromElement(xe.target);bt&&this._ngZone.run(()=>this.previewChange.emit({value:bt.enabled?bt:null,event:xe}))}},this._touchmoveHandler=xe=>{if(!this.isRange)return;const bt=ae(xe),Jt=bt?this._getCellFromElement(bt):null;bt!==xe.target&&(this._didDragSinceMouseDown=!0),Vt(xe.target)&&xe.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:Jt?.enabled?Jt:null,event:xe}))},this._leaveHandler=xe=>{null!==this.previewEnd&&this.isRange&&("blur"!==xe.type&&(this._didDragSinceMouseDown=!0),xe.target&&this._getCellFromElement(xe.target)&&(!xe.relatedTarget||!this._getCellFromElement(xe.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:xe})))},this._mousedownHandler=xe=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const bt=xe.target&&this._getCellFromElement(xe.target);!bt||!this._isInRange(bt.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:bt.rawValue,event:xe})})},this._mouseupHandler=xe=>{if(!this.isRange)return;const bt=Vt(xe.target);bt?bt.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const Jt=this._getCellFromElement(bt);this.dragEnded.emit({value:Jt?.rawValue??null,event:xe})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:xe})})},this._touchendHandler=xe=>{const bt=ae(xe);bt&&this._mouseupHandler({target:bt})},this._id="mat-calendar-body-"+me++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,Ae.runOutsideAngular(()=>{const xe=se.nativeElement;xe.addEventListener("touchmove",this._touchmoveHandler,$e),xe.addEventListener("mouseenter",this._enterHandler,Et),xe.addEventListener("focus",this._enterHandler,Et),xe.addEventListener("mouseleave",this._leaveHandler,Et),xe.addEventListener("blur",this._leaveHandler,Et),xe.addEventListener("mousedown",this._mousedownHandler,Ve),xe.addEventListener("touchstart",this._mousedownHandler,Ve),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(se,Ae){this._didDragSinceMouseDown||se.enabled&&this.selectedValueChange.emit({value:se.value,event:Ae})}_emitActiveDateChange(se,Ae){se.enabled&&this.activeDateChange.emit({value:se.value,event:Ae})}_isSelected(se){return this.startValue===se||this.endValue===se}ngOnChanges(se){const Ae=se.numCols,{rows:xe,numCols:bt}=this;(se.rows||Ae)&&(this._firstRowOffset=xe&&xe.length&&xe[0].length?bt-xe[0].length:0),(se.cellAspectRatio||Ae||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/bt+"%"),(Ae||!this._cellWidth)&&(this._cellWidth=100/bt+"%")}ngOnDestroy(){const se=this._elementRef.nativeElement;se.removeEventListener("touchmove",this._touchmoveHandler,$e),se.removeEventListener("mouseenter",this._enterHandler,Et),se.removeEventListener("focus",this._enterHandler,Et),se.removeEventListener("mouseleave",this._leaveHandler,Et),se.removeEventListener("blur",this._leaveHandler,Et),se.removeEventListener("mousedown",this._mousedownHandler,Ve),se.removeEventListener("touchstart",this._mousedownHandler,Ve),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(se,Ae){let xe=se*this.numCols+Ae;return se&&(xe-=this._firstRowOffset),xe==this.activeCell}_focusActiveCell(se=!0){(0,m.mal)(()=>{setTimeout(()=>{const Ae=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");Ae&&(se||(this._skipNextFocus=!0),Ae.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(se){return qe(se,this.startValue,this.endValue)}_isRangeEnd(se){return gt(se,this.startValue,this.endValue)}_isInRange(se){return ot(se,this.startValue,this.endValue,this.isRange)}_isComparisonStart(se){return qe(se,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(se,Ae,xe){if(!this._isComparisonStart(se)||this._isRangeStart(se)||!this._isInRange(se))return!1;let bt=this.rows[Ae][xe-1];if(!bt){const Jt=this.rows[Ae-1];bt=Jt&&Jt[Jt.length-1]}return bt&&!this._isRangeEnd(bt.compareValue)}_isComparisonBridgeEnd(se,Ae,xe){if(!this._isComparisonEnd(se)||this._isRangeEnd(se)||!this._isInRange(se))return!1;let bt=this.rows[Ae][xe+1];if(!bt){const Jt=this.rows[Ae+1];bt=Jt&&Jt[0]}return bt&&!this._isRangeStart(bt.compareValue)}_isComparisonEnd(se){return gt(se,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(se){return ot(se,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(se){return this.comparisonStart===this.comparisonEnd&&se===this.comparisonStart}_isPreviewStart(se){return qe(se,this.previewStart,this.previewEnd)}_isPreviewEnd(se){return gt(se,this.previewStart,this.previewEnd)}_isInPreview(se){return ot(se,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(se){return this.isRange?this.startValue===se&&this.endValue===se?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===se?this._startDateLabelId:this.endValue===se?this._endDateLabelId:null:null}_getCellFromElement(se){const Ae=Vt(se);if(Ae){const xe=Ae.getAttribute("data-mat-row"),bt=Ae.getAttribute("data-mat-col");if(xe&&bt)return this.rows[parseInt(xe)][parseInt(bt)]}return null}static#e=this.\u0275fac=function(Ae){return new(Ae||mt)(m.rXU(m.aKT),m.rXU(m.SKi))};static#t=this.\u0275cmp=m.VBU({type:mt,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],standalone:!0,features:[m.OA$,m.aNF],attrs:$,decls:7,vars:5,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(Ae,xe){1&Ae&&(m.DNE(0,I,3,6,"tr",0),m.Z7z(1,Q,4,1,"tr",1,B,!0),m.j41(3,"label",2),m.EFF(4),m.k0s(),m.j41(5,"label",2),m.EFF(6),m.k0s()),2&Ae&&(m.vxM(xe._firstRowOffset<xe.labelMinRequiredCells?0:-1),m.R7$(),m.Dyx(xe.rows),m.R7$(2),m.Y8G("id",xe._startDateLabelId),m.R7$(),m.SpI(" ",xe.startDateAccessibleName,"\n"),m.R7$(),m.Y8G("id",xe._endDateLabelId),m.R7$(),m.SpI(" ",xe.endDateAccessibleName,"\n"))},dependencies:[p.YU],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-app-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-app-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-app-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-app-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-app-body-medium-size))}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-app-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-app-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-app-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-app-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-app-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-app-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-app-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-app-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-app-secondary))}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}'],encapsulation:2,changeDetection:0})}return mt})();function ht(mt){return"TD"===mt?.nodeName}function Vt(mt){let Qt;return ht(mt)?Qt=mt:ht(mt.parentNode)?Qt=mt.parentNode:ht(mt.parentNode?.parentNode)&&(Qt=mt.parentNode.parentNode),null!=Qt?.getAttribute("data-mat-row")?Qt:null}function qe(mt,Qt,se){return null!==se&&Qt!==se&&mt<se&&mt===Qt}function gt(mt,Qt,se){return null!==Qt&&Qt!==se&&mt>=Qt&&mt===se}function ot(mt,Qt,se,Ae){return Ae&&null!==Qt&&null!==se&&Qt!==se&&mt>=Qt&&mt<=se}function ae(mt){const Qt=mt.changedTouches[0];return document.elementFromPoint(Qt.clientX,Qt.clientY)}class Oe{constructor(Qt,se){this.start=Qt,this.end=se}}let Le=(()=>{class mt{constructor(se,Ae){this.selection=se,this._adapter=Ae,this._selectionChanged=new u.B7,this.selectionChanged=this._selectionChanged,this.selection=se}updateSelection(se,Ae){const xe=this.selection;this.selection=se,this._selectionChanged.next({selection:se,source:Ae,oldValue:xe})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(se){return this._adapter.isDateInstance(se)&&this._adapter.isValid(se)}static#e=this.\u0275fac=function(Ae){m.QTQ()};static#t=this.\u0275prov=m.jDH({token:mt,factory:mt.\u0275fac})}return mt})(),Pe=(()=>{class mt extends Le{constructor(se){super(null,se)}add(se){super.updateSelection(se,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const se=new mt(this._adapter);return se.updateSelection(this.selection,this),se}static#e=this.\u0275fac=function(Ae){return new(Ae||mt)(m.KVO(b.MJ))};static#t=this.\u0275prov=m.jDH({token:mt,factory:mt.\u0275fac})}return mt})(),_t=(()=>{class mt extends Le{constructor(se){super(new Oe(null,null),se)}add(se){let{start:Ae,end:xe}=this.selection;null==Ae?Ae=se:null==xe?xe=se:(Ae=se,xe=null),super.updateSelection(new Oe(Ae,xe),this)}isValid(){const{start:se,end:Ae}=this.selection;return null==se&&null==Ae||(null!=se&&null!=Ae?this._isValidDateInstance(se)&&this._isValidDateInstance(Ae)&&this._adapter.compareDate(se,Ae)<=0:(null==se||this._isValidDateInstance(se))&&(null==Ae||this._isValidDateInstance(Ae)))}isComplete(){return null!=this.selection.start&&null!=this.selection.end}clone(){const se=new mt(this._adapter);return se.updateSelection(this.selection,this),se}static#e=this.\u0275fac=function(Ae){return new(Ae||mt)(m.KVO(b.MJ))};static#t=this.\u0275prov=m.jDH({token:mt,factory:mt.\u0275fac})}return mt})();const Kt={provide:Le,deps:[[new m.Xx1,new m.kdw,Le],b.MJ],useFactory:function Gt(mt,Qt){return mt||new Pe(Qt)}},Ft={provide:Le,deps:[[new m.Xx1,new m.kdw,Le],b.MJ],useFactory:function vn(mt,Qt){return mt||new _t(Qt)}},_n=new m.nKC("MAT_DATE_RANGE_SELECTION_STRATEGY");let ft=(()=>{class mt{constructor(se){this._dateAdapter=se}selectionFinished(se,Ae){let{start:xe,end:bt}=Ae;return null==xe?xe=se:null==bt&&se&&this._dateAdapter.compareDate(se,xe)>=0?bt=se:(xe=se,bt=null),new Oe(xe,bt)}createPreview(se,Ae){let xe=null,bt=null;return Ae.start&&!Ae.end&&se&&(xe=Ae.start,bt=se),new Oe(xe,bt)}createDrag(se,Ae,xe){let bt=Ae.start,Jt=Ae.end;if(!bt||!Jt)return null;const Bn=this._dateAdapter,hi=0!==Bn.compareDate(bt,Jt),Pi=Bn.getYear(xe)-Bn.getYear(se),Vi=Bn.getMonth(xe)-Bn.getMonth(se),zi=Bn.getDate(xe)-Bn.getDate(se);return hi&&Bn.sameDate(se,Ae.start)?(bt=xe,Bn.compareDate(xe,Jt)>0&&(Jt=Bn.addCalendarYears(Jt,Pi),Jt=Bn.addCalendarMonths(Jt,Vi),Jt=Bn.addCalendarDays(Jt,zi))):hi&&Bn.sameDate(se,Ae.end)?(Jt=xe,Bn.compareDate(xe,bt)<0&&(bt=Bn.addCalendarYears(bt,Pi),bt=Bn.addCalendarMonths(bt,Vi),bt=Bn.addCalendarDays(bt,zi))):(bt=Bn.addCalendarYears(bt,Pi),bt=Bn.addCalendarMonths(bt,Vi),bt=Bn.addCalendarDays(bt,zi),Jt=Bn.addCalendarYears(Jt,Pi),Jt=Bn.addCalendarMonths(Jt,Vi),Jt=Bn.addCalendarDays(Jt,zi)),new Oe(bt,Jt)}static#e=this.\u0275fac=function(Ae){return new(Ae||mt)(m.KVO(b.MJ))};static#t=this.\u0275prov=m.jDH({token:mt,factory:mt.\u0275fac})}return mt})();const $t={provide:_n,deps:[[new m.Xx1,new m.kdw,_n],b.MJ],useFactory:function pt(mt,Qt){return mt||new ft(Qt)}};let dn=0,pn=(()=>{class mt{get activeDate(){return this._activeDate}set activeDate(se){const Ae=this._activeDate,xe=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(se))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(xe,this.minDate,this.maxDate),this._hasSameMonthAndYear(Ae,this._activeDate)||this._init()}get selected(){return this._selected}set selected(se){this._selected=se instanceof Oe?se:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(se)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(se){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(se))}get maxDate(){return this._maxDate}set maxDate(se){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(se))}constructor(se,Ae,xe,bt,Jt){this._changeDetectorRef=se,this._dateFormats=Ae,this._dateAdapter=xe,this._dir=bt,this._rangeStrategy=Jt,this._rerenderSubscription=S.y.EMPTY,this.activeDrag=null,this.selectedChange=new m.bkB,this._userSelection=new m.bkB,this.dragStarted=new m.bkB,this.dragEnded=new m.bkB,this.activeDateChange=new m.bkB,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,z.Z)(null)).subscribe(()=>this._init())}ngOnChanges(se){const Ae=se.comparisonStart||se.comparisonEnd;Ae&&!Ae.firstChange&&this._setRanges(this.selected),se.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(se){const Ae=se.value,xe=this._getDateFromDayOfMonth(Ae);let bt,Jt;this._selected instanceof Oe?(bt=this._getDateInCurrentMonth(this._selected.start),Jt=this._getDateInCurrentMonth(this._selected.end)):bt=Jt=this._getDateInCurrentMonth(this._selected),(bt!==Ae||Jt!==Ae)&&this.selectedChange.emit(xe),this._userSelection.emit({value:xe,event:se.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(se){const xe=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(se.value),this._dateAdapter.compareDate(xe,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(se){const Ae=this._activeDate,xe=this._isRtl();switch(se.keyCode){case A.UQ:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,xe?1:-1);break;case A.LE:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,xe?-1:1);break;case A.i7:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case A.n6:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case A.yZ:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case A.Kp:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case A.w_:this.activeDate=se.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case A.dB:this.activeDate=se.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case A.Fm:case A.t6:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&se.preventDefault());case A._f:return void(null!=this._previewEnd&&!(0,A.rp)(se)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:se}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:se})),se.preventDefault(),se.stopPropagation()));default:return}this._dateAdapter.compareDate(Ae,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),se.preventDefault()}_handleCalendarBodyKeyup(se){(se.keyCode===A.t6||se.keyCode===A.Fm)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:se}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let se=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(se)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(se){this._matCalendarBody._focusActiveCell(se)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:se,value:Ae}){if(this._rangeStrategy){const xe=Ae?Ae.rawValue:null,bt=this._rangeStrategy.createPreview(xe,this.selected,se);if(this._previewStart=this._getCellCompareValue(bt.start),this._previewEnd=this._getCellCompareValue(bt.end),this.activeDrag&&xe){const Jt=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,xe,se);Jt&&(this._previewStart=this._getCellCompareValue(Jt.start),this._previewEnd=this._getCellCompareValue(Jt.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(se){if(this.activeDrag)if(se.value){const Ae=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,se.value,se.event);this.dragEnded.emit({value:Ae??null,event:se.event})}else this.dragEnded.emit({value:null,event:se.event})}_getDateFromDayOfMonth(se){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),se)}_initWeekdays(){const se=this._dateAdapter.getFirstDayOfWeek(),Ae=this._dateAdapter.getDayOfWeekNames("narrow");let bt=this._dateAdapter.getDayOfWeekNames("long").map((Jt,Bn)=>({long:Jt,narrow:Ae[Bn],id:dn++}));this._weekdays=bt.slice(se).concat(bt.slice(0,se))}_createWeekCells(){const se=this._dateAdapter.getNumDaysInMonth(this.activeDate),Ae=this._dateAdapter.getDateNames();this._weeks=[[]];for(let xe=0,bt=this._firstWeekOffset;xe<se;xe++,bt++){7==bt&&(this._weeks.push([]),bt=0);const Jt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),xe+1),Bn=this._shouldEnableDate(Jt),hi=this._dateAdapter.format(Jt,this._dateFormats.display.dateA11yLabel),Pi=this.dateClass?this.dateClass(Jt,"month"):void 0;this._weeks[this._weeks.length-1].push(new ue(xe+1,Ae[xe],hi,Bn,Pi,this._getCellCompareValue(Jt),Jt))}}_shouldEnableDate(se){return!!se&&(!this.minDate||this._dateAdapter.compareDate(se,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(se,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(se))}_getDateInCurrentMonth(se){return se&&this._hasSameMonthAndYear(se,this.activeDate)?this._dateAdapter.getDate(se):null}_hasSameMonthAndYear(se,Ae){return!(!se||!Ae||this._dateAdapter.getMonth(se)!=this._dateAdapter.getMonth(Ae)||this._dateAdapter.getYear(se)!=this._dateAdapter.getYear(Ae))}_getCellCompareValue(se){if(se){const Ae=this._dateAdapter.getYear(se),xe=this._dateAdapter.getMonth(se),bt=this._dateAdapter.getDate(se);return new Date(Ae,xe,bt).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(se){se instanceof Oe?(this._rangeStart=this._getCellCompareValue(se.start),this._rangeEnd=this._getCellCompareValue(se.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(se),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(se){return!this.dateFilter||this.dateFilter(se)}_clearPreview(){this._previewStart=this._previewEnd=null}static#e=this.\u0275fac=function(Ae){return new(Ae||mt)(m.rXU(m.gRc),m.rXU(b.de,8),m.rXU(b.MJ,8),m.rXU(v.dS,8),m.rXU(_n,8))};static#t=this.\u0275cmp=m.VBU({type:mt,selectors:[["mat-month-view"]],viewQuery:function(Ae,xe){if(1&Ae&&m.GBs(st,5),2&Ae){let bt;m.mGM(bt=m.lsd())&&(xe._matCalendarBody=bt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],standalone:!0,features:[m.OA$,m.aNF],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(Ae,xe){1&Ae&&(m.j41(0,"table",0)(1,"thead",1)(2,"tr"),m.Z7z(3,te,5,2,"th",2,y),m.k0s(),m.j41(5,"tr",3),m.nrm(6,"th",4),m.k0s()(),m.j41(7,"tbody",5),m.bIt("selectedValueChange",function(Jt){return xe._dateSelected(Jt)})("activeDateChange",function(Jt){return xe._updateActiveDate(Jt)})("previewChange",function(Jt){return xe._previewChanged(Jt)})("dragStarted",function(Jt){return xe.dragStarted.emit(Jt)})("dragEnded",function(Jt){return xe._dragEnded(Jt)})("keyup",function(Jt){return xe._handleCalendarBodyKeyup(Jt)})("keydown",function(Jt){return xe._handleCalendarBodyKeydown(Jt)}),m.k0s()()),2&Ae&&(m.R7$(3),m.Dyx(xe._weekdays),m.R7$(4),m.Y8G("label",xe._monthLabel)("rows",xe._weeks)("todayValue",xe._todayDate)("startValue",xe._rangeStart)("endValue",xe._rangeEnd)("comparisonStart",xe._comparisonRangeStart)("comparisonEnd",xe._comparisonRangeEnd)("previewStart",xe._previewStart)("previewEnd",xe._previewEnd)("isRange",xe._isRange)("labelMinRequiredCells",3)("activeCell",xe._dateAdapter.getDate(xe.activeDate)-1)("startDateAccessibleName",xe.startDateAccessibleName)("endDateAccessibleName",xe.endDateAccessibleName))},dependencies:[st],encapsulation:2,changeDetection:0})}return mt})();const un=24;let hn=(()=>{class mt{get activeDate(){return this._activeDate}set activeDate(se){let Ae=this._activeDate;const xe=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(se))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(xe,this.minDate,this.maxDate),Sn(this._dateAdapter,Ae,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(se){this._selected=se instanceof Oe?se:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(se)),this._setSelectedYear(se)}get minDate(){return this._minDate}set minDate(se){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(se))}get maxDate(){return this._maxDate}set maxDate(se){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(se))}constructor(se,Ae,xe){this._changeDetectorRef=se,this._dateAdapter=Ae,this._dir=xe,this._rerenderSubscription=S.y.EMPTY,this.selectedChange=new m.bkB,this.yearSelected=new m.bkB,this.activeDateChange=new m.bkB,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,z.Z)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const Ae=this._dateAdapter.getYear(this._activeDate)-Lt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let xe=0,bt=[];xe<un;xe++)bt.push(Ae+xe),4==bt.length&&(this._years.push(bt.map(Jt=>this._createCellForYear(Jt))),bt=[]);this._changeDetectorRef.markForCheck()}_yearSelected(se){const Ae=se.value,xe=this._dateAdapter.createDate(Ae,0,1),bt=this._getDateFromYear(Ae);this.yearSelected.emit(xe),this.selectedChange.emit(bt)}_updateActiveDate(se){const xe=this._activeDate;this.activeDate=this._getDateFromYear(se.value),this._dateAdapter.compareDate(xe,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(se){const Ae=this._activeDate,xe=this._isRtl();switch(se.keyCode){case A.UQ:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,xe?1:-1);break;case A.LE:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,xe?-1:1);break;case A.i7:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case A.n6:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case A.yZ:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Lt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case A.Kp:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,un-Lt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case A.w_:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,se.altKey?10*-un:-un);break;case A.dB:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,se.altKey?10*un:un);break;case A.Fm:case A.t6:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(Ae,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),se.preventDefault()}_handleCalendarBodyKeyup(se){(se.keyCode===A.t6||se.keyCode===A.Fm)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:se}),this._selectionKeyPressed=!1)}_getActiveCell(){return Lt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(se){const Ae=this._dateAdapter.getMonth(this.activeDate),xe=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(se,Ae,1));return this._dateAdapter.createDate(se,Ae,Math.min(this._dateAdapter.getDate(this.activeDate),xe))}_createCellForYear(se){const Ae=this._dateAdapter.createDate(se,0,1),xe=this._dateAdapter.getYearName(Ae),bt=this.dateClass?this.dateClass(Ae,"multi-year"):void 0;return new ue(se,xe,xe,this._shouldEnableYear(se),bt)}_shouldEnableYear(se){if(null==se||this.maxDate&&se>this._dateAdapter.getYear(this.maxDate)||this.minDate&&se<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let xe=this._dateAdapter.createDate(se,0,1);this._dateAdapter.getYear(xe)==se;xe=this._dateAdapter.addCalendarDays(xe,1))if(this.dateFilter(xe))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(se){if(this._selectedYear=null,se instanceof Oe){const Ae=se.start||se.end;Ae&&(this._selectedYear=this._dateAdapter.getYear(Ae))}else se&&(this._selectedYear=this._dateAdapter.getYear(se))}static#e=this.\u0275fac=function(Ae){return new(Ae||mt)(m.rXU(m.gRc),m.rXU(b.MJ,8),m.rXU(v.dS,8))};static#t=this.\u0275cmp=m.VBU({type:mt,selectors:[["mat-multi-year-view"]],viewQuery:function(Ae,xe){if(1&Ae&&m.GBs(st,5),2&Ae){let bt;m.mGM(bt=m.lsd())&&(xe._matCalendarBody=bt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],standalone:!0,features:[m.aNF],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(Ae,xe){1&Ae&&(m.j41(0,"table",0)(1,"thead",1)(2,"tr"),m.nrm(3,"th",2),m.k0s()(),m.j41(4,"tbody",3),m.bIt("selectedValueChange",function(Jt){return xe._yearSelected(Jt)})("activeDateChange",function(Jt){return xe._updateActiveDate(Jt)})("keyup",function(Jt){return xe._handleCalendarBodyKeyup(Jt)})("keydown",function(Jt){return xe._handleCalendarBodyKeydown(Jt)}),m.k0s()()),2&Ae&&(m.R7$(4),m.Y8G("rows",xe._years)("todayValue",xe._todayYear)("startValue",xe._selectedYear)("endValue",xe._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",xe._getActiveCell()))},dependencies:[st],encapsulation:2,changeDetection:0})}return mt})();function Sn(mt,Qt,se,Ae,xe){const bt=mt.getYear(Qt),Jt=mt.getYear(se),Bn=at(mt,Ae,xe);return Math.floor((bt-Bn)/un)===Math.floor((Jt-Bn)/un)}function Lt(mt,Qt,se,Ae){return function ct(mt,Qt){return(mt%Qt+Qt)%Qt}(mt.getYear(Qt)-at(mt,se,Ae),un)}function at(mt,Qt,se){let Ae=0;return se?Ae=mt.getYear(se)-un+1:Qt&&(Ae=mt.getYear(Qt)),Ae}let Xe=(()=>{class mt{get activeDate(){return this._activeDate}set activeDate(se){let Ae=this._activeDate;const xe=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(se))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(xe,this.minDate,this.maxDate),this._dateAdapter.getYear(Ae)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(se){this._selected=se instanceof Oe?se:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(se)),this._setSelectedMonth(se)}get minDate(){return this._minDate}set minDate(se){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(se))}get maxDate(){return this._maxDate}set maxDate(se){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(se))}constructor(se,Ae,xe,bt){this._changeDetectorRef=se,this._dateFormats=Ae,this._dateAdapter=xe,this._dir=bt,this._rerenderSubscription=S.y.EMPTY,this.selectedChange=new m.bkB,this.monthSelected=new m.bkB,this.activeDateChange=new m.bkB,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,z.Z)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(se){const Ae=se.value,xe=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),Ae,1);this.monthSelected.emit(xe);const bt=this._getDateFromMonth(Ae);this.selectedChange.emit(bt)}_updateActiveDate(se){const xe=this._activeDate;this.activeDate=this._getDateFromMonth(se.value),this._dateAdapter.compareDate(xe,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(se){const Ae=this._activeDate,xe=this._isRtl();switch(se.keyCode){case A.UQ:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,xe?1:-1);break;case A.LE:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,xe?-1:1);break;case A.i7:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case A.n6:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case A.yZ:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case A.Kp:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case A.w_:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,se.altKey?-10:-1);break;case A.dB:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,se.altKey?10:1);break;case A.Fm:case A.t6:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(Ae,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),se.preventDefault()}_handleCalendarBodyKeyup(se){(se.keyCode===A.t6||se.keyCode===A.Fm)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:se}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let se=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(Ae=>Ae.map(xe=>this._createCellForMonth(xe,se[xe]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(se){return se&&this._dateAdapter.getYear(se)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(se):null}_getDateFromMonth(se){const Ae=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),se,1),xe=this._dateAdapter.getNumDaysInMonth(Ae);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),se,Math.min(this._dateAdapter.getDate(this.activeDate),xe))}_createCellForMonth(se,Ae){const xe=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),se,1),bt=this._dateAdapter.format(xe,this._dateFormats.display.monthYearA11yLabel),Jt=this.dateClass?this.dateClass(xe,"year"):void 0;return new ue(se,Ae.toLocaleUpperCase(),bt,this._shouldEnableMonth(se),Jt)}_shouldEnableMonth(se){const Ae=this._dateAdapter.getYear(this.activeDate);if(null==se||this._isYearAndMonthAfterMaxDate(Ae,se)||this._isYearAndMonthBeforeMinDate(Ae,se))return!1;if(!this.dateFilter)return!0;for(let bt=this._dateAdapter.createDate(Ae,se,1);this._dateAdapter.getMonth(bt)==se;bt=this._dateAdapter.addCalendarDays(bt,1))if(this.dateFilter(bt))return!0;return!1}_isYearAndMonthAfterMaxDate(se,Ae){if(this.maxDate){const xe=this._dateAdapter.getYear(this.maxDate),bt=this._dateAdapter.getMonth(this.maxDate);return se>xe||se===xe&&Ae>bt}return!1}_isYearAndMonthBeforeMinDate(se,Ae){if(this.minDate){const xe=this._dateAdapter.getYear(this.minDate),bt=this._dateAdapter.getMonth(this.minDate);return se<xe||se===xe&&Ae<bt}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(se){this._selectedMonth=se instanceof Oe?this._getMonthInCurrentYear(se.start)||this._getMonthInCurrentYear(se.end):this._getMonthInCurrentYear(se)}static#e=this.\u0275fac=function(Ae){return new(Ae||mt)(m.rXU(m.gRc),m.rXU(b.de,8),m.rXU(b.MJ,8),m.rXU(v.dS,8))};static#t=this.\u0275cmp=m.VBU({type:mt,selectors:[["mat-year-view"]],viewQuery:function(Ae,xe){if(1&Ae&&m.GBs(st,5),2&Ae){let bt;m.mGM(bt=m.lsd())&&(xe._matCalendarBody=bt.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],standalone:!0,features:[m.aNF],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(Ae,xe){1&Ae&&(m.j41(0,"table",0)(1,"thead",1)(2,"tr"),m.nrm(3,"th",2),m.k0s()(),m.j41(4,"tbody",3),m.bIt("selectedValueChange",function(Jt){return xe._monthSelected(Jt)})("activeDateChange",function(Jt){return xe._updateActiveDate(Jt)})("keyup",function(Jt){return xe._handleCalendarBodyKeyup(Jt)})("keydown",function(Jt){return xe._handleCalendarBodyKeydown(Jt)}),m.k0s()()),2&Ae&&(m.R7$(4),m.Y8G("label",xe._yearLabel)("rows",xe._months)("todayValue",xe._todayMonth)("startValue",xe._selectedMonth)("endValue",xe._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",xe._dateAdapter.getMonth(xe.activeDate)))},dependencies:[st],encapsulation:2,changeDetection:0})}return mt})(),Qe=1,Bt=(()=>{class mt{constructor(se,Ae,xe,bt,Jt){this._intl=se,this.calendar=Ae,this._dateAdapter=xe,this._dateFormats=bt,this._id="mat-calendar-header-"+Qe++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>Jt.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-un)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:un)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(se,Ae){return"month"==this.calendar.currentView?this._dateAdapter.getYear(se)==this._dateAdapter.getYear(Ae)&&this._dateAdapter.getMonth(se)==this._dateAdapter.getMonth(Ae):"year"==this.calendar.currentView?this._dateAdapter.getYear(se)==this._dateAdapter.getYear(Ae):Sn(this._dateAdapter,se,Ae,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const Ae=this._dateAdapter.getYear(this.calendar.activeDate)-Lt(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),xe=Ae+un-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(Ae,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(xe,0,1))]}static#e=this.\u0275fac=function(Ae){return new(Ae||mt)(m.rXU(Ce),m.rXU((0,m.Rfq)(()=>Xt)),m.rXU(b.MJ,8),m.rXU(b.de,8),m.rXU(m.gRc))};static#t=this.\u0275cmp=m.VBU({type:mt,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],standalone:!0,features:[m.aNF],ngContentSelectors:R,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"]],template:function(Ae,xe){1&Ae&&(m.NAR(),m.j41(0,"div",0)(1,"div",1)(2,"label",2),m.EFF(3),m.k0s(),m.j41(4,"button",3),m.bIt("click",function(){return xe.currentPeriodClicked()}),m.j41(5,"span",4),m.EFF(6),m.k0s(),m.qSk(),m.j41(7,"svg",5),m.nrm(8,"polygon",6),m.k0s()(),m.joV(),m.nrm(9,"div",7),m.SdG(10),m.j41(11,"button",8),m.bIt("click",function(){return xe.previousClicked()}),m.k0s(),m.j41(12,"button",9),m.bIt("click",function(){return xe.nextClicked()}),m.k0s()()()),2&Ae&&(m.R7$(2),m.Y8G("id",xe._periodButtonLabelId),m.R7$(),m.JRh(xe.periodButtonDescription),m.R7$(),m.BMQ("aria-label",xe.periodButtonLabel)("aria-describedby",xe._periodButtonLabelId),m.R7$(2),m.JRh(xe.periodButtonText),m.R7$(),m.AVh("mat-calendar-invert","month"!==xe.calendar.currentView),m.R7$(4),m.Y8G("disabled",!xe.previousEnabled()),m.BMQ("aria-label",xe.prevButtonLabel),m.R7$(),m.Y8G("disabled",!xe.nextEnabled()),m.BMQ("aria-label",xe.nextButtonLabel))},dependencies:[_.$z,_.iY],encapsulation:2,changeDetection:0})}return mt})(),Xt=(()=>{class mt{get startAt(){return this._startAt}set startAt(se){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(se))}get selected(){return this._selected}set selected(se){this._selected=se instanceof Oe?se:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(se))}get minDate(){return this._minDate}set minDate(se){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(se))}get maxDate(){return this._maxDate}set maxDate(se){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(se))}get activeDate(){return this._clampedActiveDate}set activeDate(se){this._clampedActiveDate=this._dateAdapter.clampDate(se,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(se){const Ae=this._currentView!==se?se:null;this._currentView=se,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),Ae&&this.viewChanged.emit(Ae)}constructor(se,Ae,xe,bt){this._dateAdapter=Ae,this._dateFormats=xe,this._changeDetectorRef=bt,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new m.bkB,this.yearSelected=new m.bkB,this.monthSelected=new m.bkB,this.viewChanged=new m.bkB(!0),this._userSelection=new m.bkB,this._userDragDrop=new m.bkB,this._activeDrag=null,this.stateChanges=new u.B7,this._intlChanges=se.changes.subscribe(()=>{bt.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new d.A8(this.headerComponent||Bt),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(se){const Ae=se.minDate&&!this._dateAdapter.sameDate(se.minDate.previousValue,se.minDate.currentValue)?se.minDate:void 0,xe=se.maxDate&&!this._dateAdapter.sameDate(se.maxDate.previousValue,se.maxDate.currentValue)?se.maxDate:void 0,bt=Ae||xe||se.dateFilter;if(bt&&!bt.firstChange){const Jt=this._getCurrentViewComponent();Jt&&(this._moveFocusOnNextTick=!0,this._changeDetectorRef.detectChanges(),Jt._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(se){const Ae=se.value;(this.selected instanceof Oe||Ae&&!this._dateAdapter.sameDate(Ae,this.selected))&&this.selectedChange.emit(Ae),this._userSelection.emit(se)}_yearSelectedInMultiYearView(se){this.yearSelected.emit(se)}_monthSelectedInYearView(se){this.monthSelected.emit(se)}_goToDateInView(se,Ae){this.activeDate=se,this.currentView=Ae}_dragStarted(se){this._activeDrag=se}_dragEnded(se){this._activeDrag&&(se.value&&this._userDragDrop.emit(se),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static#e=this.\u0275fac=function(Ae){return new(Ae||mt)(m.rXU(Ce),m.rXU(b.MJ,8),m.rXU(b.de,8),m.rXU(m.gRc))};static#t=this.\u0275cmp=m.VBU({type:mt,selectors:[["mat-calendar"]],viewQuery:function(Ae,xe){if(1&Ae&&(m.GBs(pn,5),m.GBs(Xe,5),m.GBs(hn,5)),2&Ae){let bt;m.mGM(bt=m.lsd())&&(xe.monthView=bt.first),m.mGM(bt=m.lsd())&&(xe.yearView=bt.first),m.mGM(bt=m.lsd())&&(xe.multiYearView=bt.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],standalone:!0,features:[m.Jv_([Kt]),m.OA$,m.aNF],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(Ae,xe){if(1&Ae&&(m.DNE(0,ee,0,0,"ng-template",0),m.j41(1,"div",1),m.DNE(2,k,1,11,"mat-month-view",2)(3,J,1,6,"mat-year-view",3)(4,X,1,6,"mat-multi-year-view",3),m.k0s()),2&Ae){let bt;m.Y8G("cdkPortalOutlet",xe._calendarHeaderPortal),m.R7$(2),m.vxM("month"===(bt=xe.currentView)?2:"year"===bt?3:"multi-year"===bt?4:-1)}},dependencies:[d.I3,e.vR,pn,Xe,hn],styles:['.mat-calendar{display:block;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-app-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-app-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-app-title-small-weight));--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color, var(--mat-app-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-app-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-app-on-surface-variant))}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-app-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-app-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return mt})();const Be={transformPanel:(0,H.hZ)("transformPanel",[(0,H.kY)("void => enter-dropdown",(0,H.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,H.i7)([(0,H.iF)({opacity:0,transform:"scale(1, 0.8)"}),(0,H.iF)({opacity:1,transform:"scale(1, 1)"})]))),(0,H.kY)("void => enter-dialog",(0,H.i0)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,H.i7)([(0,H.iF)({opacity:0,transform:"scale(0.7)"}),(0,H.iF)({transform:"none",opacity:1})]))),(0,H.kY)("* => void",(0,H.i0)("100ms linear",(0,H.iF)({opacity:0})))]),fadeInCalendar:(0,H.hZ)("fadeInCalendar",[(0,H.wk)("void",(0,H.iF)({opacity:0})),(0,H.wk)("enter",(0,H.iF)({opacity:1})),(0,H.kY)("void => *",(0,H.i0)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let oe=0;const Ee=new m.nKC("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{const mt=(0,m.WQX)(i.hJ);return()=>mt.scrollStrategies.reposition()}}),Ie={provide:Ee,deps:[i.hJ],useFactory:function ne(mt){return()=>mt.scrollStrategies.reposition()}};let Te=(()=>{class mt{constructor(se,Ae,xe,bt,Jt,Bn){this._elementRef=se,this._changeDetectorRef=Ae,this._globalModel=xe,this._dateAdapter=bt,this._rangeSelectionStrategy=Jt,this._subscriptions=new S.y,this._animationDone=new u.B7,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=Bn.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(se){const Ae=this._model.selection,xe=se.value,bt=Ae instanceof Oe;if(bt&&this._rangeSelectionStrategy){const Jt=this._rangeSelectionStrategy.selectionFinished(xe,Ae,se.event);this._model.updateSelection(Jt,this)}else xe&&(bt||!this._dateAdapter.sameDate(xe,Ae))&&this._model.add(xe);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(se){this._model.updateSelection(se.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(se){this._isAnimating="start"===se.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(se,Ae){this._model=se?this._globalModel.clone():this._globalModel,this._actionsPortal=se,Ae&&this._changeDetectorRef.detectChanges()}static#e=this.\u0275fac=function(Ae){return new(Ae||mt)(m.rXU(m.aKT),m.rXU(m.gRc),m.rXU(Le),m.rXU(b.MJ),m.rXU(_n,8),m.rXU(Ce))};static#t=this.\u0275cmp=m.VBU({type:mt,selectors:[["mat-datepicker-content"]],viewQuery:function(Ae,xe){if(1&Ae&&m.GBs(Xt,5),2&Ae){let bt;m.mGM(bt=m.lsd())&&(xe._calendar=bt.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:5,hostBindings:function(Ae,xe){1&Ae&&m.Kam("@transformPanel.start",function(Jt){return xe._handleAnimationEvent(Jt)})("@transformPanel.done",function(Jt){return xe._handleAnimationEvent(Jt)}),2&Ae&&(m.zvX("@transformPanel",xe._animationState),m.HbH(xe.color?"mat-"+xe.color:""),m.AVh("mat-datepicker-content-touch",xe.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],standalone:!0,features:[m.aNF],decls:5,vars:27,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(Ae,xe){if(1&Ae&&(m.j41(0,"div",0)(1,"mat-calendar",1),m.bIt("yearSelected",function(Jt){return xe.datepicker._selectYear(Jt)})("monthSelected",function(Jt){return xe.datepicker._selectMonth(Jt)})("viewChanged",function(Jt){return xe.datepicker._viewChanged(Jt)})("_userSelection",function(Jt){return xe._handleUserSelection(Jt)})("_userDragDrop",function(Jt){return xe._handleUserDragDrop(Jt)}),m.k0s(),m.DNE(2,fe,0,0,"ng-template",2),m.j41(3,"button",3),m.bIt("focus",function(){return xe._closeButtonFocused=!0})("blur",function(){return xe._closeButtonFocused=!1})("click",function(){return xe.datepicker.close()}),m.EFF(4),m.k0s()()),2&Ae){let bt;m.AVh("mat-datepicker-content-container-with-custom-header",xe.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",xe._actionsPortal),m.BMQ("aria-modal",!0)("aria-labelledby",null!==(bt=xe._dialogLabelId)&&void 0!==bt?bt:void 0),m.R7$(),m.HbH(xe.datepicker.panelClass),m.Y8G("id",xe.datepicker.id)("startAt",xe.datepicker.startAt)("startView",xe.datepicker.startView)("minDate",xe.datepicker._getMinDate())("maxDate",xe.datepicker._getMaxDate())("dateFilter",xe.datepicker._getDateFilter())("headerComponent",xe.datepicker.calendarHeaderComponent)("selected",xe._getSelected())("dateClass",xe.datepicker.dateClass)("comparisonStart",xe.comparisonStart)("comparisonEnd",xe.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",xe.startDateAccessibleName)("endDateAccessibleName",xe.endDateAccessibleName),m.R7$(),m.Y8G("cdkPortalOutlet",xe._actionsPortal),m.R7$(),m.AVh("cdk-visually-hidden",!xe._closeButtonFocused),m.Y8G("color",xe.color||"primary"),m.R7$(),m.JRh(xe._closeButtonText)}},dependencies:[e.kB,Xt,d.I3,_.$z],styles:[".mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-app-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-app-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-app-corner-large))}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-app-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[Be.transformPanel,Be.fadeInCalendar]},changeDetection:0})}return mt})(),Ge=(()=>{class mt{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(se){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(se))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(se){this._color=se}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(se){se!==this._disabled&&(this._disabled=se,this.stateChanges.next(void 0))}get panelClass(){return this._panelClass}set panelClass(se){this._panelClass=(0,F.cc)(se)}get opened(){return this._opened}set opened(se){se?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(se,Ae,xe,bt,Jt,Bn,hi){this._overlay=se,this._viewContainerRef=xe,this._dateAdapter=Jt,this._dir=Bn,this._model=hi,this._inputStateChanges=S.y.EMPTY,this._document=(0,m.WQX)(p.qQ),this.startView="month",this.touchUi=!1,this.xPosition="start",this.yPosition="below",this.restoreFocus=!0,this.yearSelected=new m.bkB,this.monthSelected=new m.bkB,this.viewChanged=new m.bkB(!0),this.openedStream=new m.bkB,this.closedStream=new m.bkB,this._opened=!1,this.id="mat-datepicker-"+oe++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new u.B7,this._injector=(0,m.WQX)(m.zZn),this._changeDetectorRef=(0,m.WQX)(m.gRc),this._scrollStrategy=bt,this._model.selectionChanged.subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnChanges(se){const Ae=se.xPosition||se.yPosition;if(Ae&&!Ae.firstChange&&this._overlayRef){const xe=this._overlayRef.getConfig().positionStrategy;xe instanceof i.rW&&(this._setConnectedPositions(xe),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(se){this._model.add(se)}_selectYear(se){this.yearSelected.emit(se)}_selectMonth(se){this.monthSelected.emit(se)}_viewChanged(se){this.viewChanged.emit(se)}registerInput(se){return this._inputStateChanges.unsubscribe(),this.datepickerInput=se,this._inputStateChanges=se.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(se){this._actionsPortal=se,this._componentRef?.instance._assignActions(se,!0)}removeActions(se){se===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=(0,O.vc)(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const se=this.restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,Ae=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:xe,location:bt}=this._componentRef;xe._startExitAnimation(),xe._animationDone.pipe((0,G.s)(1)).subscribe(()=>{const Jt=this._document.activeElement;se&&(!Jt||Jt===this._document.activeElement||bt.nativeElement.contains(Jt))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}se?setTimeout(Ae):Ae()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(se){se.datepicker=this,se.color=this.color,se._dialogLabelId=this.datepickerInput.getOverlayLabelId(),se._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const se=this.touchUi,Ae=new d.A8(Te,this._viewContainerRef),xe=this._overlayRef=this._overlay.create(new i.rR({positionStrategy:se?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[se?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:se?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(se?"dialog":"popup")}));this._getCloseStream(xe).subscribe(bt=>{bt&&bt.preventDefault(),this.close()}),xe.keydownEvents().subscribe(bt=>{const Jt=bt.keyCode;(Jt===A.i7||Jt===A.n6||Jt===A.UQ||Jt===A.LE||Jt===A.w_||Jt===A.dB)&&bt.preventDefault()}),this._componentRef=xe.attach(Ae),this._forwardContentValues(this._componentRef.instance),se||(0,m.mal)(()=>{xe.updatePosition()},{injector:this._injector})}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const se=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(se)}_setConnectedPositions(se){const Ae="end"===this.xPosition?"end":"start",xe="start"===Ae?"end":"start",bt="above"===this.yPosition?"bottom":"top",Jt="top"===bt?"bottom":"top";return se.withPositions([{originX:Ae,originY:Jt,overlayX:Ae,overlayY:bt},{originX:Ae,originY:bt,overlayX:Ae,overlayY:Jt},{originX:xe,originY:Jt,overlayX:xe,overlayY:bt},{originX:xe,originY:bt,overlayX:xe,overlayY:Jt}])}_getCloseStream(se){const Ae=["ctrlKey","shiftKey","metaKey"];return(0,D.h)(se.backdropClick(),se.detachments(),se.keydownEvents().pipe((0,K.p)(xe=>xe.keyCode===A._f&&!(0,A.rp)(xe)||this.datepickerInput&&(0,A.rp)(xe,"altKey")&&xe.keyCode===A.i7&&Ae.every(bt=>!(0,A.rp)(xe,bt)))))}static#e=this.\u0275fac=function(Ae){return new(Ae||mt)(m.rXU(i.hJ),m.rXU(m.SKi),m.rXU(m.c1b),m.rXU(Ee),m.rXU(b.MJ,8),m.rXU(v.dS,8),m.rXU(Le))};static#t=this.\u0275dir=m.FsC({type:mt,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:[2,"touchUi","touchUi",m.L39],disabled:[2,"disabled","disabled",m.L39],xPosition:"xPosition",yPosition:"yPosition",restoreFocus:[2,"restoreFocus","restoreFocus",m.L39],dateClass:"dateClass",panelClass:"panelClass",opened:[2,"opened","opened",m.L39]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[m.GFd,m.OA$]})}return mt})();class Fe{constructor(Qt,se){this.target=Qt,this.targetElement=se,this.value=this.target.value}}let At=(()=>{class mt{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(se){this._assignValueProgrammatically(se)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(se){const Ae=se,xe=this._elementRef.nativeElement;this._disabled!==Ae&&(this._disabled=Ae,this.stateChanges.next(void 0)),Ae&&this._isInitialized&&xe.blur&&xe.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(se){this._model=se,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(Ae=>{if(this._shouldHandleChangeEvent(Ae)){const xe=this._getValueFromModel(Ae.selection);this._lastValueValid=this._isValidValue(xe),this._cvaOnChange(xe),this._onTouched(),this._formatValue(xe),this.dateInput.emit(new Fe(this,this._elementRef.nativeElement)),this.dateChange.emit(new Fe(this,this._elementRef.nativeElement))}})}constructor(se,Ae,xe){this._elementRef=se,this._dateAdapter=Ae,this._dateFormats=xe,this.dateChange=new m.bkB,this.dateInput=new m.bkB,this.stateChanges=new u.B7,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=S.y.EMPTY,this._localeSubscription=S.y.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=bt=>{const Jt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(bt.value));return!Jt||this._matchesFilter(Jt)?null:{matDatepickerFilter:!0}},this._minValidator=bt=>{const Jt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(bt.value)),Bn=this._getMinDate();return!Bn||!Jt||this._dateAdapter.compareDate(Bn,Jt)<=0?null:{matDatepickerMin:{min:Bn,actual:Jt}}},this._maxValidator=bt=>{const Jt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(bt.value)),Bn=this._getMaxDate();return!Bn||!Jt||this._dateAdapter.compareDate(Bn,Jt)>=0?null:{matDatepickerMax:{max:Bn,actual:Jt}}},this._lastValueValid=!1,this._localeSubscription=Ae.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(se){Ke(se,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(se){this._validatorOnChange=se}validate(se){return this._validator?this._validator(se):null}writeValue(se){this._assignValueProgrammatically(se)}registerOnChange(se){this._cvaOnChange=se}registerOnTouched(se){this._onTouched=se}setDisabledState(se){this.disabled=se}_onKeydown(se){(0,A.rp)(se,"altKey")&&se.keyCode===A.n6&&["ctrlKey","shiftKey","metaKey"].every(bt=>!(0,A.rp)(se,bt))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),se.preventDefault())}_onInput(se){const Ae=this._lastValueValid;let xe=this._dateAdapter.parse(se,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(xe),xe=this._dateAdapter.getValidDateOrNull(xe);const bt=!this._dateAdapter.sameDate(xe,this.value);!xe||bt?this._cvaOnChange(xe):(se&&!this.value&&this._cvaOnChange(xe),Ae!==this._lastValueValid&&this._validatorOnChange()),bt&&(this._assignValue(xe),this.dateInput.emit(new Fe(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Fe(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(se){this._elementRef.nativeElement.value=null!=se?this._dateAdapter.format(se,this._dateFormats.display.dateInput):""}_assignValue(se){this._model?(this._assignValueToModel(se),this._pendingValue=null):this._pendingValue=se}_isValidValue(se){return!se||this._dateAdapter.isValid(se)}_parentDisabled(){return!1}_assignValueProgrammatically(se){se=this._dateAdapter.deserialize(se),this._lastValueValid=this._isValidValue(se),se=this._dateAdapter.getValidDateOrNull(se),this._assignValue(se),this._formatValue(se)}_matchesFilter(se){const Ae=this._getDateFilter();return!Ae||Ae(se)}static#e=this.\u0275fac=function(Ae){return new(Ae||mt)(m.rXU(m.aKT),m.rXU(b.MJ,8),m.rXU(b.de,8))};static#t=this.\u0275dir=m.FsC({type:mt,inputs:{value:"value",disabled:[2,"disabled","disabled",m.L39]},outputs:{dateChange:"dateChange",dateInput:"dateInput"},standalone:!0,features:[m.GFd,m.OA$]})}return mt})();function Ke(mt,Qt){const se=Object.keys(mt);for(let Ae of se){const{previousValue:xe,currentValue:bt}=mt[Ae];if(!Qt.isDateInstance(xe)||!Qt.isDateInstance(bt))return!0;if(!Qt.sameDate(xe,bt))return!0}return!1}let En=(()=>{class mt{static#e=this.\u0275fac=function(Ae){return new(Ae||mt)};static#t=this.\u0275dir=m.FsC({type:mt,selectors:[["","matDatepickerToggleIcon",""]],standalone:!0})}return mt})(),Un=(()=>{class mt{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(se){this._disabled=se}constructor(se,Ae,xe){this._intl=se,this._changeDetectorRef=Ae,this._stateChanges=S.y.EMPTY;const bt=Number(xe);this.tabIndex=bt||0===bt?bt:null}ngOnChanges(se){se.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(se){this.datepicker&&!this.disabled&&(this.datepicker.open(),se.stopPropagation())}_watchStateChanges(){const se=this.datepicker?this.datepicker.stateChanges:(0,E.of)(),Ae=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,E.of)(),xe=this.datepicker?(0,D.h)(this.datepicker.openedStream,this.datepicker.closedStream):(0,E.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,D.h)(this._intl.changes,se,Ae,xe).subscribe(()=>this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=function(Ae){return new(Ae||mt)(m.rXU(Ce),m.rXU(m.gRc),m.kS0("tabindex"))};static#t=this.\u0275cmp=m.VBU({type:mt,selectors:[["mat-datepicker-toggle"]],contentQueries:function(Ae,xe,bt){if(1&Ae&&m.wni(bt,En,5),2&Ae){let Jt;m.mGM(Jt=m.lsd())&&(xe._customIcon=Jt.first)}},viewQuery:function(Ae,xe){if(1&Ae&&m.GBs(Me,5),2&Ae){let bt;m.mGM(bt=m.lsd())&&(xe._button=bt.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(Ae,xe){1&Ae&&m.bIt("click",function(Jt){return xe._open(Jt)}),2&Ae&&(m.BMQ("tabindex",null)("data-mat-calendar",xe.datepicker?xe.datepicker.id:null),m.AVh("mat-datepicker-toggle-active",xe.datepicker&&xe.datepicker.opened)("mat-accent",xe.datepicker&&"accent"===xe.datepicker.color)("mat-warn",xe.datepicker&&"warn"===xe.datepicker.color))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",m.L39],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],standalone:!0,features:[m.GFd,m.OA$,m.aNF],ngContentSelectors:Ct,decls:4,vars:6,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(Ae,xe){1&Ae&&(m.NAR(Ze),m.j41(0,"button",1,0),m.DNE(2,lt,2,0,":svg:svg",2),m.SdG(3),m.k0s()),2&Ae&&(m.Y8G("disabled",xe.disabled)("disableRipple",xe.disableRipple),m.BMQ("aria-haspopup",xe.datepicker?"dialog":null)("aria-label",xe.ariaLabel||xe._intl.openCalendarLabel)("tabindex",xe.disabled?-1:xe.tabIndex),m.R7$(2),m.vxM(xe._customIcon?-1:2))},dependencies:[_.iY],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-app-on-surface-variant))}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-app-on-surface-variant))}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}return mt})();function Xn(mt){return Ti(mt,!0)}function Qn(mt){return mt.nodeType===Node.ELEMENT_NODE}function Ti(mt,Qt){if(Qn(mt)&&Qt){const Ae=(mt.getAttribute?.("aria-labelledby")?.split(/\s+/g)||[]).reduce((xe,bt)=>{const Jt=document.getElementById(bt);return Jt&&xe.push(Jt),xe},[]);if(Ae.length)return Ae.map(xe=>Ti(xe,!1)).join(" ")}if(Qn(mt)){const se=mt.getAttribute("aria-label")?.trim();if(se)return se}if(function fi(mt){return"INPUT"===mt.nodeName}(mt)||function Ui(mt){return"TEXTAREA"===mt.nodeName}(mt)){if(mt.labels?.length)return Array.from(mt.labels).map(xe=>Ti(xe,!1)).join(" ");const se=mt.getAttribute("placeholder")?.trim();if(se)return se;const Ae=mt.getAttribute("title")?.trim();if(Ae)return Ae}return(mt.textContent||"").replace(/\s+/g," ").trim()}const Wi=new m.nKC("MAT_DATE_RANGE_INPUT_PARENT");let ys=(()=>{class mt extends At{get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(se){this._errorStateTracker.matcher=se}get errorState(){return this._errorStateTracker.errorState}set errorState(se){this._errorStateTracker.errorState=se}constructor(se,Ae,xe,bt,Jt,Bn,hi,Pi){super(Ae,hi,Pi),this._rangeInput=se,this._elementRef=Ae,this._defaultErrorStateMatcher=xe,this._injector=bt,this._parentForm=Jt,this._parentFormGroup=Bn,this._dir=(0,m.WQX)(v.dS,{optional:!0}),this._errorStateTracker=new b.X0(this._defaultErrorStateMatcher,null,this._parentFormGroup,this._parentForm,this.stateChanges)}ngOnInit(){const se=this._injector.get(Y.vO,null,{optional:!0,self:!0});se&&(this.ngControl=se,this._errorStateTracker.ngControl=se)}ngDoCheck(){this.ngControl&&this.updateErrorState()}isEmpty(){return 0===this._elementRef.nativeElement.value.length}_getPlaceholder(){return this._elementRef.nativeElement.placeholder}focus(){this._elementRef.nativeElement.focus()}getMirrorValue(){const se=this._elementRef.nativeElement,Ae=se.value;return Ae.length>0?Ae:se.placeholder}updateErrorState(){this._errorStateTracker.updateErrorState()}_onInput(se){super._onInput(se),this._rangeInput._handleChildValueChange()}_openPopup(){this._rangeInput._openDatepicker()}_getMinDate(){return this._rangeInput.min}_getMaxDate(){return this._rangeInput.max}_getDateFilter(){return this._rangeInput.dateFilter}_parentDisabled(){return this._rangeInput._groupDisabled}_shouldHandleChangeEvent({source:se}){return se!==this._rangeInput._startInput&&se!==this._rangeInput._endInput}_assignValueProgrammatically(se){super._assignValueProgrammatically(se),(this===this._rangeInput._startInput?this._rangeInput._endInput:this._rangeInput._startInput)?._validatorOnChange()}_getAccessibleName(){return Xn(this._elementRef.nativeElement)}static#e=this.\u0275fac=function(Ae){return new(Ae||mt)(m.rXU(Wi),m.rXU(m.aKT),m.rXU(b.es),m.rXU(m.zZn),m.rXU(Y.cV,8),m.rXU(Y.j4,8),m.rXU(b.MJ,8),m.rXU(b.de,8))};static#t=this.\u0275dir=m.FsC({type:mt,inputs:{errorStateMatcher:"errorStateMatcher"},standalone:!0,features:[m.Vt3]})}return mt})(),wn=(()=>{class mt extends ys{constructor(se,Ae,xe,bt,Jt,Bn,hi,Pi){super(se,Ae,xe,bt,Jt,Bn,hi,Pi),this._startValidator=Vi=>{const zi=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Vi.value)),wi=this._model?this._model.selection.end:null;return!zi||!wi||this._dateAdapter.compareDate(zi,wi)<=0?null:{matStartDateInvalid:{end:wi,actual:zi}}},this._validator=Y.k0.compose([...super._getValidators(),this._startValidator])}_getValueFromModel(se){return se.start}_shouldHandleChangeEvent(se){return!(!super._shouldHandleChangeEvent(se)||(se.oldValue?.start?se.selection.start&&!this._dateAdapter.compareDate(se.oldValue.start,se.selection.start):!se.selection.start))}_assignValueToModel(se){if(this._model){const Ae=new Oe(se,this._model.selection.end);this._model.updateSelection(Ae,this)}}_formatValue(se){super._formatValue(se),this._rangeInput._handleChildValueChange()}_onKeydown(se){const Ae=this._rangeInput._endInput,xe=this._elementRef.nativeElement,bt="rtl"!==this._dir?.value;(se.keyCode===A.LE&&bt||se.keyCode===A.UQ&&!bt)&&xe.selectionStart===xe.value.length&&xe.selectionEnd===xe.value.length?(se.preventDefault(),Ae._elementRef.nativeElement.setSelectionRange(0,0),Ae.focus()):super._onKeydown(se)}static#e=this.\u0275fac=function(Ae){return new(Ae||mt)(m.rXU(Wi),m.rXU(m.aKT),m.rXU(b.es),m.rXU(m.zZn),m.rXU(Y.cV,8),m.rXU(Y.j4,8),m.rXU(b.MJ,8),m.rXU(b.de,8))};static#t=this.\u0275dir=m.FsC({type:mt,selectors:[["input","matStartDate",""]],hostAttrs:["type","text",1,"mat-start-date","mat-date-range-input-inner"],hostVars:5,hostBindings:function(Ae,xe){1&Ae&&m.bIt("input",function(Jt){return xe._onInput(Jt.target.value)})("change",function(){return xe._onChange()})("keydown",function(Jt){return xe._onKeydown(Jt)})("blur",function(){return xe._onBlur()}),2&Ae&&(m.Mr5("disabled",xe.disabled),m.BMQ("aria-haspopup",xe._rangeInput.rangePicker?"dialog":null)("aria-owns",xe._rangeInput._ariaOwns?xe._rangeInput._ariaOwns():(null==xe._rangeInput.rangePicker?null:xe._rangeInput.rangePicker.opened)&&xe._rangeInput.rangePicker.id||null)("min",xe._getMinDate()?xe._dateAdapter.toIso8601(xe._getMinDate()):null)("max",xe._getMaxDate()?xe._dateAdapter.toIso8601(xe._getMaxDate()):null))},outputs:{dateChange:"dateChange",dateInput:"dateInput"},standalone:!0,features:[m.Jv_([{provide:Y.kq,useExisting:mt,multi:!0},{provide:Y.cz,useExisting:mt,multi:!0}]),m.Vt3]})}return mt})(),dt=(()=>{class mt extends ys{constructor(se,Ae,xe,bt,Jt,Bn,hi,Pi){super(se,Ae,xe,bt,Jt,Bn,hi,Pi),this._endValidator=Vi=>{const zi=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Vi.value)),wi=this._model?this._model.selection.start:null;return!zi||!wi||this._dateAdapter.compareDate(zi,wi)>=0?null:{matEndDateInvalid:{start:wi,actual:zi}}},this._validator=Y.k0.compose([...super._getValidators(),this._endValidator])}_getValueFromModel(se){return se.end}_shouldHandleChangeEvent(se){return!(!super._shouldHandleChangeEvent(se)||(se.oldValue?.end?se.selection.end&&!this._dateAdapter.compareDate(se.oldValue.end,se.selection.end):!se.selection.end))}_assignValueToModel(se){if(this._model){const Ae=new Oe(this._model.selection.start,se);this._model.updateSelection(Ae,this)}}_moveCaretToEndOfStartInput(){const se=this._rangeInput._startInput._elementRef.nativeElement,Ae=se.value;Ae.length>0&&se.setSelectionRange(Ae.length,Ae.length),se.focus()}_onKeydown(se){const Ae=this._elementRef.nativeElement,xe="rtl"!==this._dir?.value;se.keyCode!==A.G_||Ae.value?(se.keyCode===A.UQ&&xe||se.keyCode===A.LE&&!xe)&&0===Ae.selectionStart&&0===Ae.selectionEnd?(se.preventDefault(),this._moveCaretToEndOfStartInput()):super._onKeydown(se):this._moveCaretToEndOfStartInput()}static#e=this.\u0275fac=function(Ae){return new(Ae||mt)(m.rXU(Wi),m.rXU(m.aKT),m.rXU(b.es),m.rXU(m.zZn),m.rXU(Y.cV,8),m.rXU(Y.j4,8),m.rXU(b.MJ,8),m.rXU(b.de,8))};static#t=this.\u0275dir=m.FsC({type:mt,selectors:[["input","matEndDate",""]],hostAttrs:["type","text",1,"mat-end-date","mat-date-range-input-inner"],hostVars:5,hostBindings:function(Ae,xe){1&Ae&&m.bIt("input",function(Jt){return xe._onInput(Jt.target.value)})("change",function(){return xe._onChange()})("keydown",function(Jt){return xe._onKeydown(Jt)})("blur",function(){return xe._onBlur()}),2&Ae&&(m.Mr5("disabled",xe.disabled),m.BMQ("aria-haspopup",xe._rangeInput.rangePicker?"dialog":null)("aria-owns",xe._rangeInput._ariaOwns?xe._rangeInput._ariaOwns():(null==xe._rangeInput.rangePicker?null:xe._rangeInput.rangePicker.opened)&&xe._rangeInput.rangePicker.id||null)("min",xe._getMinDate()?xe._dateAdapter.toIso8601(xe._getMinDate()):null)("max",xe._getMaxDate()?xe._dateAdapter.toIso8601(xe._getMaxDate()):null))},outputs:{dateChange:"dateChange",dateInput:"dateInput"},standalone:!0,features:[m.Jv_([{provide:Y.kq,useExisting:mt,multi:!0},{provide:Y.cz,useExisting:mt,multi:!0}]),m.Vt3]})}return mt})(),Pt=0,jt=(()=>{class mt{get value(){return this._model?this._model.selection:null}get shouldLabelFloat(){return this.focused||!this.empty}get placeholder(){const se=this._startInput?._getPlaceholder()||"",Ae=this._endInput?._getPlaceholder()||"";return se||Ae?`${se} ${this.separator} ${Ae}`:""}get rangePicker(){return this._rangePicker}set rangePicker(se){se&&(this._model=se.registerInput(this),this._rangePicker=se,this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe(),this._ariaOwns.set(this.rangePicker.opened?se.id:null),this._closedSubscription=se.closedStream.subscribe(()=>{this._startInput?._onTouched(),this._endInput?._onTouched(),this._ariaOwns.set(null)}),this._openedSubscription=se.openedStream.subscribe(()=>{this._ariaOwns.set(se.id)}),this._registerModel(this._model))}get required(){return this._required??(this._isTargetRequired(this)||this._isTargetRequired(this._startInput)||this._isTargetRequired(this._endInput))??!1}set required(se){this._required=se}get dateFilter(){return this._dateFilter}set dateFilter(se){const Ae=this._startInput,xe=this._endInput,bt=Ae&&Ae._matchesFilter(Ae.value),Jt=xe&&xe._matchesFilter(Ae.value);this._dateFilter=se,Ae&&Ae._matchesFilter(Ae.value)!==bt&&Ae._validatorOnChange(),xe&&xe._matchesFilter(xe.value)!==Jt&&xe._validatorOnChange()}get min(){return this._min}set min(se){const Ae=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(se));this._dateAdapter.sameDate(Ae,this._min)||(this._min=Ae,this._revalidate())}get max(){return this._max}set max(se){const Ae=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(se));this._dateAdapter.sameDate(Ae,this._max)||(this._max=Ae,this._revalidate())}get disabled(){return this._startInput&&this._endInput?this._startInput.disabled&&this._endInput.disabled:this._groupDisabled}set disabled(se){se!==this._groupDisabled&&(this._groupDisabled=se,this.stateChanges.next(void 0))}get errorState(){return!(!this._startInput||!this._endInput)&&(this._startInput.errorState||this._endInput.errorState)}get empty(){const se=!!this._startInput&&this._startInput.isEmpty(),Ae=!!this._endInput&&this._endInput.isEmpty();return se&&Ae}constructor(se,Ae,xe,bt,Jt){this._changeDetectorRef=se,this._elementRef=Ae,this._dateAdapter=bt,this._formField=Jt,this._closedSubscription=S.y.EMPTY,this._openedSubscription=S.y.EMPTY,this.id="mat-date-range-input-"+Pt++,this.focused=!1,this.controlType="mat-date-range-input",this._ariaOwns=(0,m.vPA)(null),this._groupDisabled=!1,this._ariaDescribedBy=null,this.separator="\u2013",this.comparisonStart=null,this.comparisonEnd=null,this.stateChanges=new u.B7,this.disableAutomaticLabeling=!0,Jt?._elementRef.nativeElement.classList.contains("mat-mdc-form-field")&&Ae.nativeElement.classList.add("mat-mdc-input-element","mat-mdc-form-field-input-control","mdc-text-field__input"),this.ngControl=xe}setDescribedByIds(se){this._ariaDescribedBy=se.length?se.join(" "):null}onContainerClick(){!this.focused&&!this.disabled&&(this._model&&this._model.selection.start?this._endInput.focus():this._startInput.focus())}ngAfterContentInit(){this._model&&this._registerModel(this._model),(0,D.h)(this._startInput.stateChanges,this._endInput.stateChanges).subscribe(()=>{this.stateChanges.next(void 0)})}ngOnChanges(se){Ke(se,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe(),this.stateChanges.complete()}getStartValue(){return this.value?this.value.start:null}getThemePalette(){return this._formField?this._formField.color:void 0}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():null}_getInputMirrorValue(se){const Ae="start"===se?this._startInput:this._endInput;return Ae?Ae.getMirrorValue():""}_shouldHidePlaceholders(){return!!this._startInput&&!this._startInput.isEmpty()}_handleChildValueChange(){this.stateChanges.next(void 0),this._changeDetectorRef.markForCheck()}_openDatepicker(){this._rangePicker&&this._rangePicker.open()}_shouldHideSeparator(){return(!this._formField||this._formField.getLabelId()&&!this._formField._shouldLabelFloat())&&this.empty}_getAriaLabelledby(){const se=this._formField;return se&&se._hasFloatingLabel()?se._labelId:null}_getStartDateAccessibleName(){return this._startInput._getAccessibleName()}_getEndDateAccessibleName(){return this._endInput._getAccessibleName()}_updateFocus(se){this.focused=null!==se,this.stateChanges.next()}_revalidate(){this._startInput&&this._startInput._validatorOnChange(),this._endInput&&this._endInput._validatorOnChange()}_registerModel(se){this._startInput&&this._startInput._registerModel(se),this._endInput&&this._endInput._registerModel(se)}_isTargetRequired(se){return se?.ngControl?.control?.hasValidator(Y.k0.required)}static#e=this.\u0275fac=function(Ae){return new(Ae||mt)(m.rXU(m.gRc),m.rXU(m.aKT),m.rXU(Y.ZU,10),m.rXU(b.MJ,8),m.rXU(P.xb,8))};static#t=this.\u0275cmp=m.VBU({type:mt,selectors:[["mat-date-range-input"]],contentQueries:function(Ae,xe,bt){if(1&Ae&&(m.wni(bt,wn,5),m.wni(bt,dt,5)),2&Ae){let Jt;m.mGM(Jt=m.lsd())&&(xe._startInput=Jt.first),m.mGM(Jt=m.lsd())&&(xe._endInput=Jt.first)}},hostAttrs:["role","group",1,"mat-date-range-input"],hostVars:8,hostBindings:function(Ae,xe){2&Ae&&(m.BMQ("id",xe.id)("aria-labelledby",xe._getAriaLabelledby())("aria-describedby",xe._ariaDescribedBy)("data-mat-calendar",xe.rangePicker?xe.rangePicker.id:null),m.AVh("mat-date-range-input-hide-placeholders",xe._shouldHidePlaceholders())("mat-date-range-input-required",xe.required))},inputs:{rangePicker:"rangePicker",required:[2,"required","required",m.L39],dateFilter:"dateFilter",min:"min",max:"max",disabled:[2,"disabled","disabled",m.L39],separator:"separator",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},exportAs:["matDateRangeInput"],standalone:!0,features:[m.Jv_([{provide:P.qT,useExisting:mt},{provide:Wi,useExisting:mt}]),m.GFd,m.OA$,m.aNF],ngContentSelectors:rt,decls:11,vars:5,consts:[["cdkMonitorSubtreeFocus","",1,"mat-date-range-input-container",3,"cdkFocusChange"],[1,"mat-date-range-input-wrapper"],["aria-hidden","true",1,"mat-date-range-input-mirror"],[1,"mat-date-range-input-separator"],[1,"mat-date-range-input-wrapper","mat-date-range-input-end-wrapper"]],template:function(Ae,xe){1&Ae&&(m.NAR(Ot),m.j41(0,"div",0),m.bIt("cdkFocusChange",function(Jt){return xe._updateFocus(Jt)}),m.j41(1,"div",1),m.SdG(2),m.j41(3,"span",2),m.EFF(4),m.k0s()(),m.j41(5,"span",3),m.EFF(6),m.k0s(),m.j41(7,"div",4),m.SdG(8,1),m.j41(9,"span",2),m.EFF(10),m.k0s()()()),2&Ae&&(m.R7$(4),m.JRh(xe._getInputMirrorValue("start")),m.R7$(),m.AVh("mat-date-range-input-separator-hidden",xe._shouldHideSeparator()),m.R7$(),m.JRh(xe.separator),m.R7$(4),m.JRh(xe._getInputMirrorValue("end")))},dependencies:[e.vR],styles:[".mat-date-range-input{display:block;width:100%}.mat-date-range-input-container{display:flex;align-items:center}.mat-date-range-input-separator{transition:opacity 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);margin:0 4px;color:var(--mat-datepicker-range-input-separator-color, var(--mat-app-on-surface))}.mat-form-field-disabled .mat-date-range-input-separator{color:var(--mat-datepicker-range-input-disabled-state-separator-color)}._mat-animation-noopable .mat-date-range-input-separator{transition:none}.mat-date-range-input-separator-hidden{-webkit-user-select:none;user-select:none;opacity:0;transition:none}.mat-date-range-input-wrapper{position:relative;overflow:hidden;max-width:calc(50% - 4px)}.mat-date-range-input-end-wrapper{flex-grow:1}.mat-date-range-input-inner{position:absolute;top:0;left:0;font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;vertical-align:bottom;text-align:inherit;-webkit-appearance:none;width:100%;height:100%}.mat-date-range-input-inner:-moz-ui-invalid{box-shadow:none}.mat-date-range-input-inner::placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner::-moz-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner::-webkit-input-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner:-ms-input-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-date-range-input-inner[disabled]{color:var(--mat-datepicker-range-input-disabled-state-text-color)}.mat-form-field-hide-placeholder .mat-date-range-input-inner::placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner::-moz-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-moz-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::-moz-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner::-webkit-input-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner::-webkit-input-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-date-range-input-inner:-ms-input-placeholder,.mat-date-range-input-hide-placeholders .mat-date-range-input-inner:-ms-input-placeholder{-webkit-user-select:none;user-select:none;color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-date-range-input-inner:-ms-input-placeholder,.cdk-high-contrast-active .mat-date-range-input-hide-placeholders .mat-date-range-input-inner:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-date-range-input-inner::placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner::-moz-placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-date-range-input-inner:-ms-input-placeholder{transition:none}.mat-date-range-input-mirror{-webkit-user-select:none;user-select:none;visibility:hidden;white-space:nowrap;display:inline-block;min-width:2px}.mat-mdc-form-field-type-mat-date-range-input .mat-mdc-form-field-infix{width:200px}"],encapsulation:2,changeDetection:0})}return mt})(),Pn=(()=>{class mt extends Ge{_forwardContentValues(se){super._forwardContentValues(se);const Ae=this.datepickerInput;Ae&&(se.comparisonStart=Ae.comparisonStart,se.comparisonEnd=Ae.comparisonEnd,se.startDateAccessibleName=Ae._getStartDateAccessibleName(),se.endDateAccessibleName=Ae._getEndDateAccessibleName())}static#e=this.\u0275fac=(()=>{let se;return function(xe){return(se||(se=m.xGo(mt)))(xe||mt)}})();static#t=this.\u0275cmp=m.VBU({type:mt,selectors:[["mat-date-range-picker"]],exportAs:["matDateRangePicker"],standalone:!0,features:[m.Jv_([Ft,$t,{provide:Ge,useExisting:mt}]),m.Vt3,m.aNF],decls:0,vars:0,template:function(Ae,xe){},encapsulation:2,changeDetection:0})}return mt})(),Yt=(()=>{class mt{static#e=this.\u0275fac=function(Ae){return new(Ae||mt)};static#t=this.\u0275mod=m.$C({type:mt});static#n=this.\u0275inj=m.G2t({providers:[Ce,Ie],imports:[p.MD,_.Hl,i.z_,e.Pd,d.jc,b.yE,Te,Un,Bt,g.Gj]})}return mt})()},4006:(Mt,pe,a)=>{"use strict";a.d(pe,{BI:()=>lt,CP:()=>L,E7:()=>rt,Vh:()=>te,Yi:()=>Ot,bZ:()=>fe,hM:()=>Ce,tx:()=>Ze});var e=a(7987),i=a(177),d=a(3953),p=a(9888),m=a(2529),_=a(4085),g=a(6939),b=a(5286),u=a(4670),S=a(9418),D=a(8728),E=a(9493),A=a(3176),v=a(7336),O=a(3701),z=a(6600);function K(me,$e){}a(9969);class F{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const H="mdc-dialog--open",Y="mdc-dialog--opening",P="mdc-dialog--closing";let B=(()=>{class me extends m.sU{constructor(Et,Ve,st,ht,Vt,qe,gt,ot,ae){super(Et,Ve,st,ht,Vt,qe,gt,ae),this._animationMode=ot,this._animationStateChanged=new d.bkB,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?I(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?I(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(y,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Y,H)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(H),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(H),this._animationsEnabled?(this._hostElement.style.setProperty(y,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(P)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(Et){this._actionSectionCount+=Et,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(Y,P)}_waitForAnimationToComplete(Et,Ve){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(Ve,Et)}_requestAnimationFrame(Et){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(Et):Et()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(Et){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:Et})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(Et){const Ve=super.attachComponentPortal(Et);return Ve.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),Ve}static#e=this.\u0275fac=function(Ve){return new(Ve||me)(d.rXU(d.aKT),d.rXU(p.GX),d.rXU(i.qQ,8),d.rXU(F),d.rXU(p.Z7),d.rXU(d.SKi),d.rXU(e.yY),d.rXU(d.bc$,8),d.rXU(p.FN))};static#t=this.\u0275cmp=d.VBU({type:me,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(Ve,st){2&Ve&&(d.Mr5("id",st._config.id),d.BMQ("aria-modal",st._config.ariaModal)("role",st._config.role)("aria-labelledby",st._config.ariaLabel?null:st._ariaLabelledByQueue[0])("aria-label",st._config.ariaLabel)("aria-describedby",st._config.ariaDescribedBy||null),d.AVh("_mat-animation-noopable",!st._animationsEnabled)("mat-mdc-dialog-container-with-actions",st._actionSectionCount>0))},standalone:!0,features:[d.Vt3,d.aNF],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(Ve,st){1&Ve&&(d.j41(0,"div",0)(1,"div",1),d.DNE(2,K,0,0,"ng-template",2),d.k0s()())},dependencies:[g.I3],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, var(--mat-app-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-app-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-app-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-app-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-app-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-app-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-app-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-app-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-app-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-app-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-app-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-app-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-app-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return me})();const y="--mat-dialog-transition-duration";function I(me){return null==me?null:"number"==typeof me?me:me.endsWith("ms")?(0,_.OE)(me.substring(0,me.length-2)):me.endsWith("s")?1e3*(0,_.OE)(me.substring(0,me.length-1)):"0"===me?0:null}var w=function(me){return me[me.OPEN=0]="OPEN",me[me.CLOSING=1]="CLOSING",me[me.CLOSED=2]="CLOSED",me}(w||{});class L{constructor($e,Et,Ve){this._ref=$e,this._containerInstance=Ve,this._afterOpened=new b.B7,this._beforeClosed=new b.B7,this._state=w.OPEN,this.disableClose=Et.disableClose,this.id=$e.id,$e.addPanelClass("mat-mdc-dialog-panel"),Ve._animationStateChanged.pipe((0,D.p)(st=>"opened"===st.state),(0,E.s)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),Ve._animationStateChanged.pipe((0,D.p)(st=>"closed"===st.state),(0,E.s)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),$e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,u.h)(this.backdropClick(),this.keydownEvents().pipe((0,D.p)(st=>st.keyCode===v._f&&!this.disableClose&&!(0,v.rp)(st)))).subscribe(st=>{this.disableClose||(st.preventDefault(),Q(this,"keydown"===st.type?"keyboard":"mouse"))})}close($e){this._result=$e,this._containerInstance._animationStateChanged.pipe((0,D.p)(Et=>"closing"===Et.state),(0,E.s)(1)).subscribe(Et=>{this._beforeClosed.next($e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),Et.totalTime+100)}),this._state=w.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition($e){let Et=this._ref.config.positionStrategy;return $e&&($e.left||$e.right)?$e.left?Et.left($e.left):Et.right($e.right):Et.centerHorizontally(),$e&&($e.top||$e.bottom)?$e.top?Et.top($e.top):Et.bottom($e.bottom):Et.centerVertically(),this._ref.updatePosition(),this}updateSize($e="",Et=""){return this._ref.updateSize($e,Et),this}addPanelClass($e){return this._ref.addPanelClass($e),this}removePanelClass($e){return this._ref.removePanelClass($e),this}getState(){return this._state}_finishDialogClose(){this._state=w.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function Q(me,$e,Et){return me._closeInteractionType=$e,me.close(Et)}const te=new d.nKC("MatMdcDialogData"),R=new d.nKC("mat-mdc-dialog-default-options"),ee=new d.nKC("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const me=(0,d.WQX)(e.hJ);return()=>me.scrollStrategies.block()}});let X=0,fe=(()=>{class me{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const Et=this._parentDialog;return Et?Et._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(Et,Ve,st,ht,Vt,qe,gt,ot){this._overlay=Et,this._defaultOptions=ht,this._scrollStrategy=Vt,this._parentDialog=qe,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new b.B7,this._afterOpenedAtThisLevel=new b.B7,this.dialogConfigClass=F,this.afterAllClosed=(0,S.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,A.Z)(void 0))),this._dialog=Ve.get(m.lG),this._dialogRefConstructor=L,this._dialogContainerType=B,this._dialogDataToken=te}open(Et,Ve){let st;(Ve={...this._defaultOptions||new F,...Ve}).id=Ve.id||"mat-mdc-dialog-"+X++,Ve.scrollStrategy=Ve.scrollStrategy||this._scrollStrategy();const ht=this._dialog.open(Et,{...Ve,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:Ve},{provide:m.Pe,useValue:Ve}]},templateContext:()=>({dialogRef:st}),providers:(Vt,qe,gt)=>(st=new this._dialogRefConstructor(Vt,Ve,gt),st.updatePosition(Ve?.position),[{provide:this._dialogContainerType,useValue:gt},{provide:this._dialogDataToken,useValue:qe.data},{provide:this._dialogRefConstructor,useValue:st}])});return st.componentRef=ht.componentRef,st.componentInstance=ht.componentInstance,this.openDialogs.push(st),this.afterOpened.next(st),st.afterClosed().subscribe(()=>{const Vt=this.openDialogs.indexOf(st);Vt>-1&&(this.openDialogs.splice(Vt,1),this.openDialogs.length||this._getAfterAllClosed().next())}),st}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(Et){return this.openDialogs.find(Ve=>Ve.id===Et)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(Et){let Ve=Et.length;for(;Ve--;)Et[Ve].close()}static#e=this.\u0275fac=function(Ve){return new(Ve||me)(d.KVO(e.hJ),d.KVO(d.zZn),d.KVO(i.aZ,8),d.KVO(R,8),d.KVO(ee),d.KVO(me,12),d.KVO(e.Sf),d.KVO(d.bc$,8))};static#t=this.\u0275prov=d.jDH({token:me,factory:me.\u0275fac,providedIn:"root"})}return me})(),Me=0,Ze=(()=>{class me{constructor(Et,Ve,st){this.dialogRef=Et,this._elementRef=Ve,this._dialog=st,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=vt(this._elementRef,this._dialog.openDialogs))}ngOnChanges(Et){const Ve=Et._matDialogClose||Et._matDialogCloseResult;Ve&&(this.dialogResult=Ve.currentValue)}_onButtonClick(Et){Q(this.dialogRef,0===Et.screenX&&0===Et.screenY?"keyboard":"mouse",this.dialogResult)}static#e=this.\u0275fac=function(Ve){return new(Ve||me)(d.rXU(L,8),d.rXU(d.aKT),d.rXU(fe))};static#t=this.\u0275dir=d.FsC({type:me,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(Ve,st){1&Ve&&d.bIt("click",function(Vt){return st._onButtonClick(Vt)}),2&Ve&&d.BMQ("aria-label",st.ariaLabel||null)("type",st.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[d.OA$]})}return me})(),Ct=(()=>{class me{constructor(Et,Ve,st){this._dialogRef=Et,this._elementRef=Ve,this._dialog=st}ngOnInit(){this._dialogRef||(this._dialogRef=vt(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static#e=this.\u0275fac=function(Ve){return new(Ve||me)(d.rXU(L,8),d.rXU(d.aKT),d.rXU(fe))};static#t=this.\u0275dir=d.FsC({type:me,standalone:!0})}return me})(),lt=(()=>{class me extends Ct{constructor(){super(...arguments),this.id="mat-mdc-dialog-title-"+Me++}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static#e=this.\u0275fac=(()=>{let Et;return function(st){return(Et||(Et=d.xGo(me)))(st||me)}})();static#t=this.\u0275dir=d.FsC({type:me,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(Ve,st){2&Ve&&d.Mr5("id",st.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[d.Vt3]})}return me})(),Ot=(()=>{class me{static#e=this.\u0275fac=function(Ve){return new(Ve||me)};static#t=this.\u0275dir=d.FsC({type:me,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0,features:[d.nM4([O.uv])]})}return me})(),rt=(()=>{class me extends Ct{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static#e=this.\u0275fac=(()=>{let Et;return function(st){return(Et||(Et=d.xGo(me)))(st||me)}})();static#t=this.\u0275dir=d.FsC({type:me,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(Ve,st){2&Ve&&d.AVh("mat-mdc-dialog-actions-align-start","start"===st.align)("mat-mdc-dialog-actions-align-center","center"===st.align)("mat-mdc-dialog-actions-align-end","end"===st.align)},inputs:{align:"align"},standalone:!0,features:[d.Vt3]})}return me})();function vt(me,$e){let Et=me.nativeElement.parentElement;for(;Et&&!Et.classList.contains("mat-mdc-dialog-container");)Et=Et.parentElement;return Et?$e.find(Ve=>Ve.id===Et.id):null}let Ce=(()=>{class me{static#e=this.\u0275fac=function(Ve){return new(Ve||me)};static#t=this.\u0275mod=d.$C({type:me});static#n=this.\u0275inj=d.G2t({providers:[fe],imports:[m.Ph,e.z_,g.jc,z.yE,z.yE]})}return me})()},3719:(Mt,pe,a)=>{"use strict";a.d(pe,{JW:()=>Ce,MV:()=>vt,RG:()=>ft,TL:()=>Ot,qT:()=>gt,rl:()=>_n,xb:()=>Le,yw:()=>ue});var e=a(3953),i=a(8203),d=a(4085),p=a(6860),m=a(177),_=a(4337),g=a(5286),b=a(4670),u=a(7605),S=a(8170),D=a(9969),E=a(2318),A=a(6600);const v=["notch"],O=["matFormFieldNotchedOutline",""],z=["*"],G=["textField"],K=["iconPrefixContainer"],F=["textPrefixContainer"],H=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Y=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function P(pt,$t){1&pt&&e.nrm(0,"span",19)}function U(pt,$t){if(1&pt&&(e.j41(0,"label",18),e.SdG(1,1),e.DNE(2,P,1,0,"span",19),e.k0s()),2&pt){const kt=e.XpG(2);e.Y8G("floating",kt._shouldLabelFloat())("monitorResize",kt._hasOutline())("id",kt._labelId),e.BMQ("for",kt._control.disableAutomaticLabeling?null:kt._control.id),e.R7$(2),e.vxM(!kt.hideRequiredMarker&&kt._control.required?2:-1)}}function $(pt,$t){if(1&pt&&e.DNE(0,U,3,5,"label",18),2&pt){const kt=e.XpG();e.vxM(kt._hasFloatingLabel()?0:-1)}}function B(pt,$t){1&pt&&e.nrm(0,"div",5)}function y(pt,$t){}function I(pt,$t){if(1&pt&&e.DNE(0,y,0,0,"ng-template",11),2&pt){e.XpG(2);const kt=e.sdS(1);e.Y8G("ngTemplateOutlet",kt)}}function w(pt,$t){if(1&pt&&(e.j41(0,"div",7),e.DNE(1,I,1,1,null,11),e.k0s()),2&pt){const kt=e.XpG();e.Y8G("matFormFieldNotchedOutlineOpen",kt._shouldLabelFloat()),e.R7$(),e.vxM(kt._forceDisplayInfixLabel()?-1:1)}}function L(pt,$t){1&pt&&(e.j41(0,"div",8,2),e.SdG(2,2),e.k0s())}function Q(pt,$t){1&pt&&(e.j41(0,"div",9,3),e.SdG(2,3),e.k0s())}function te(pt,$t){}function R(pt,$t){if(1&pt&&e.DNE(0,te,0,0,"ng-template",11),2&pt){e.XpG();const kt=e.sdS(1);e.Y8G("ngTemplateOutlet",kt)}}function ee(pt,$t){1&pt&&(e.j41(0,"div",12),e.SdG(1,4),e.k0s())}function k(pt,$t){1&pt&&(e.j41(0,"div",13),e.SdG(1,5),e.k0s())}function J(pt,$t){1&pt&&e.nrm(0,"div",14)}function X(pt,$t){if(1&pt&&(e.j41(0,"div",16),e.SdG(1,6),e.k0s()),2&pt){const kt=e.XpG();e.Y8G("@transitionMessages",kt._subscriptAnimationState)}}function fe(pt,$t){if(1&pt&&(e.j41(0,"mat-hint",20),e.EFF(1),e.k0s()),2&pt){const kt=e.XpG(2);e.Y8G("id",kt._hintLabelId),e.R7$(),e.JRh(kt.hintLabel)}}function Me(pt,$t){if(1&pt&&(e.j41(0,"div",17),e.DNE(1,fe,2,2,"mat-hint",20),e.SdG(2,7),e.nrm(3,"div",21),e.SdG(4,8),e.k0s()),2&pt){const kt=e.XpG();e.Y8G("@transitionMessages",kt._subscriptAnimationState),e.R7$(),e.vxM(kt.hintLabel?1:-1)}}let Ze=(()=>{class pt{static#e=this.\u0275fac=function(dn){return new(dn||pt)};static#t=this.\u0275dir=e.FsC({type:pt,selectors:[["mat-label"]],standalone:!0})}return pt})(),Ct=0;const lt=new e.nKC("MatError");let Ot=(()=>{class pt{constructor(kt,dn){this.id="mat-mdc-error-"+Ct++,kt||dn.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(dn){return new(dn||pt)(e.kS0("aria-live"),e.rXU(e.aKT))};static#t=this.\u0275dir=e.FsC({type:pt,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(dn,pn){2&dn&&e.Mr5("id",pn.id)},inputs:{id:"id"},standalone:!0,features:[e.Jv_([{provide:lt,useExisting:pt}])]})}return pt})(),rt=0,vt=(()=>{class pt{constructor(){this.align="start",this.id="mat-mdc-hint-"+rt++}static#e=this.\u0275fac=function(dn){return new(dn||pt)};static#t=this.\u0275dir=e.FsC({type:pt,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(dn,pn){2&dn&&(e.Mr5("id",pn.id),e.BMQ("align",null),e.AVh("mat-mdc-form-field-hint-end","end"===pn.align))},inputs:{align:"align",id:"id"},standalone:!0})}return pt})();const ve=new e.nKC("MatPrefix");let Ce=(()=>{class pt{constructor(){this._isText=!1}set _isTextSelector(kt){this._isText=!0}static#e=this.\u0275fac=function(dn){return new(dn||pt)};static#t=this.\u0275dir=e.FsC({type:pt,selectors:[["","matPrefix",""],["","matIconPrefix",""],["","matTextPrefix",""]],inputs:{_isTextSelector:[0,"matTextPrefix","_isTextSelector"]},standalone:!0,features:[e.Jv_([{provide:ve,useExisting:pt}])]})}return pt})();const be=new e.nKC("MatSuffix");let ue=(()=>{class pt{constructor(){this._isText=!1}set _isTextSelector(kt){this._isText=!0}static#e=this.\u0275fac=function(dn){return new(dn||pt)};static#t=this.\u0275dir=e.FsC({type:pt,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[e.Jv_([{provide:be,useExisting:pt}])]})}return pt})();const me=new e.nKC("FloatingLabelParent");let $e=(()=>{class pt{get floating(){return this._floating}set floating(kt){this._floating=kt,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(kt){this._monitorResize=kt,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(kt){this._elementRef=kt,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,e.WQX)(S.a),this._ngZone=(0,e.WQX)(e.SKi),this._parent=(0,e.WQX)(me),this._resizeSubscription=new _.y}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function Et(pt){if(null!==pt.offsetParent)return pt.scrollWidth;const kt=pt.cloneNode(!0);kt.style.setProperty("position","absolute"),kt.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(kt);const dn=kt.scrollWidth;return kt.remove(),dn}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(dn){return new(dn||pt)(e.rXU(e.aKT))};static#t=this.\u0275dir=e.FsC({type:pt,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(dn,pn){2&dn&&e.AVh("mdc-floating-label--float-above",pn.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}return pt})();const Ve="mdc-line-ripple--active",st="mdc-line-ripple--deactivating";let ht=(()=>{class pt{constructor(kt,dn){this._elementRef=kt,this._handleTransitionEnd=pn=>{const un=this._elementRef.nativeElement.classList,an=un.contains(st);"opacity"===pn.propertyName&&an&&un.remove(Ve,st)},dn.runOutsideAngular(()=>{kt.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const kt=this._elementRef.nativeElement.classList;kt.remove(st),kt.add(Ve)}deactivate(){this._elementRef.nativeElement.classList.add(st)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(dn){return new(dn||pt)(e.rXU(e.aKT),e.rXU(e.SKi))};static#t=this.\u0275dir=e.FsC({type:pt,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}return pt})(),Vt=(()=>{class pt{constructor(kt,dn){this._elementRef=kt,this._ngZone=dn,this.open=!1}ngAfterViewInit(){const kt=this._elementRef.nativeElement.querySelector(".mdc-floating-label");kt?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(kt.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>kt.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(kt){this._notch.nativeElement.style.width=this.open&&kt?`calc(${kt}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(dn){return new(dn||pt)(e.rXU(e.aKT),e.rXU(e.SKi))};static#t=this.\u0275cmp=e.VBU({type:pt,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(dn,pn){if(1&dn&&e.GBs(v,5),2&dn){let un;e.mGM(un=e.lsd())&&(pn._notch=un.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(dn,pn){2&dn&&e.AVh("mdc-notched-outline--notched",pn.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[e.aNF],attrs:O,ngContentSelectors:z,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(dn,pn){1&dn&&(e.NAR(),e.nrm(0,"div",1),e.j41(1,"div",2,0),e.SdG(3),e.k0s(),e.nrm(4,"div",3))},encapsulation:2,changeDetection:0})}return pt})();const qe={transitionMessages:(0,D.hZ)("transitionMessages",[(0,D.wk)("enter",(0,D.iF)({opacity:1,transform:"translateY(0%)"})),(0,D.kY)("void => enter",[(0,D.iF)({opacity:0,transform:"translateY(-5px)"}),(0,D.i0)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let gt=(()=>{class pt{static#e=this.\u0275fac=function(dn){return new(dn||pt)};static#t=this.\u0275dir=e.FsC({type:pt})}return pt})();const Le=new e.nKC("MatFormField"),Pe=new e.nKC("MAT_FORM_FIELD_DEFAULT_OPTIONS");let _t=0,_n=(()=>{class pt{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(kt){this._hideRequiredMarker=(0,d.he)(kt)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(kt){kt!==this._floatLabel&&(this._floatLabel=kt,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(kt){const dn=this._appearance;this._appearance=kt||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==dn&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(kt){this._subscriptSizing=kt||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(kt){this._hintLabel=kt,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(kt){this._explicitFormFieldControl=kt}constructor(kt,dn,pn,un,an,hn,Sn,Lt){this._elementRef=kt,this._changeDetectorRef=dn,this._dir=un,this._platform=an,this._defaults=hn,this._animationMode=Sn,this._labelChild=(0,e.sbv)(Ze),this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+_t++,this._hintLabelId="mat-mdc-hint-"+_t++,this._subscriptAnimationState="",this._destroyed=new g.B7,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._previousControl=null,this._injector=(0,e.WQX)(e.zZn),this.getLabelId=(0,e.EWP)(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=(0,e.EWP)(()=>!!this._labelChild()),hn&&(hn.appearance&&(this.appearance=hn.appearance),this._hideRequiredMarker=!!hn?.hideRequiredMarker,hn.color&&(this.color=hn.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(kt){const dn=this._control,pn="mat-mdc-form-field-type-";kt&&this._elementRef.nativeElement.classList.remove(pn+kt.controlType),dn.controlType&&this._elementRef.nativeElement.classList.add(pn+dn.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=dn.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._valueChanges?.unsubscribe(),dn.ngControl&&dn.ngControl.valueChanges&&(this._valueChanges=dn.ngControl.valueChanges.pipe((0,u.Q)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(kt=>!kt._isText),this._hasTextPrefix=!!this._prefixChildren.find(kt=>kt._isText),this._hasIconSuffix=!!this._suffixChildren.find(kt=>!kt._isText),this._hasTextSuffix=!!this._suffixChildren.find(kt=>kt._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,b.h)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),(0,e.Tzd)(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe((0,u.Q)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return!!this._hasFloatingLabel()&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_shouldForward(kt){const dn=this._control?this._control.ngControl:null;return dn&&dn[kt]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let kt=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&kt.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const dn=this._hintChildren?this._hintChildren.find(un=>"start"===un.align):null,pn=this._hintChildren?this._hintChildren.find(un=>"end"===un.align):null;dn?kt.push(dn.id):this._hintLabel&&kt.push(this._hintLabelId),pn&&kt.push(pn.id)}else this._errorChildren&&kt.push(...this._errorChildren.map(dn=>dn.id));this._control.setDescribedByIds(kt)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;const kt=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(kt.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdate=!0);const dn=this._iconPrefixContainer?.nativeElement,pn=this._textPrefixContainer?.nativeElement,un=dn?.getBoundingClientRect().width??0,an=pn?.getBoundingClientRect().width??0;kt.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${un+an}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const kt=this._elementRef.nativeElement;if(kt.getRootNode){const dn=kt.getRootNode();return dn&&dn!==kt}return document.documentElement.contains(kt)}static#e=this.\u0275fac=function(dn){return new(dn||pt)(e.rXU(e.aKT),e.rXU(e.gRc),e.rXU(e.SKi),e.rXU(i.dS),e.rXU(p.OD),e.rXU(Pe,8),e.rXU(e.bc$,8),e.rXU(m.qQ))};static#t=this.\u0275cmp=e.VBU({type:pt,selectors:[["mat-form-field"]],contentQueries:function(dn,pn,un){if(1&dn&&(e.C6U(un,pn._labelChild,Ze,5),e.wni(un,gt,5),e.wni(un,ve,5),e.wni(un,be,5),e.wni(un,lt,5),e.wni(un,vt,5)),2&dn){let an;e.NyB(),e.mGM(an=e.lsd())&&(pn._formFieldControl=an.first),e.mGM(an=e.lsd())&&(pn._prefixChildren=an),e.mGM(an=e.lsd())&&(pn._suffixChildren=an),e.mGM(an=e.lsd())&&(pn._errorChildren=an),e.mGM(an=e.lsd())&&(pn._hintChildren=an)}},viewQuery:function(dn,pn){if(1&dn&&(e.GBs(G,5),e.GBs(K,5),e.GBs(F,5),e.GBs($e,5),e.GBs(Vt,5),e.GBs(ht,5)),2&dn){let un;e.mGM(un=e.lsd())&&(pn._textField=un.first),e.mGM(un=e.lsd())&&(pn._iconPrefixContainer=un.first),e.mGM(un=e.lsd())&&(pn._textPrefixContainer=un.first),e.mGM(un=e.lsd())&&(pn._floatingLabel=un.first),e.mGM(un=e.lsd())&&(pn._notchedOutline=un.first),e.mGM(un=e.lsd())&&(pn._lineRipple=un.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(dn,pn){2&dn&&e.AVh("mat-mdc-form-field-label-always-float",pn._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",pn._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",pn._hasIconSuffix)("mat-form-field-invalid",pn._control.errorState)("mat-form-field-disabled",pn._control.disabled)("mat-form-field-autofilled",pn._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===pn._animationMode)("mat-form-field-appearance-fill","fill"==pn.appearance)("mat-form-field-appearance-outline","outline"==pn.appearance)("mat-form-field-hide-placeholder",pn._hasFloatingLabel()&&!pn._shouldLabelFloat())("mat-focused",pn._control.focused)("mat-primary","accent"!==pn.color&&"warn"!==pn.color)("mat-accent","accent"===pn.color)("mat-warn","warn"===pn.color)("ng-untouched",pn._shouldForward("untouched"))("ng-touched",pn._shouldForward("touched"))("ng-pristine",pn._shouldForward("pristine"))("ng-dirty",pn._shouldForward("dirty"))("ng-valid",pn._shouldForward("valid"))("ng-invalid",pn._shouldForward("invalid"))("ng-pending",pn._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[e.Jv_([{provide:Le,useExisting:pt},{provide:me,useExisting:pt}]),e.aNF],ngContentSelectors:Y,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(dn,pn){if(1&dn){const un=e.RV6();e.NAR(H),e.DNE(0,$,1,1,"ng-template",null,0,e.C5r),e.j41(2,"div",4,1),e.bIt("click",function(hn){return e.eBV(un),e.Njj(pn._control.onContainerClick(hn))}),e.DNE(4,B,1,0,"div",5),e.j41(5,"div",6),e.DNE(6,w,2,2,"div",7)(7,L,3,0,"div",8)(8,Q,3,0,"div",9),e.j41(9,"div",10),e.DNE(10,R,1,1,null,11),e.SdG(11),e.k0s(),e.DNE(12,ee,2,0,"div",12)(13,k,2,0,"div",13),e.k0s(),e.DNE(14,J,1,0,"div",14),e.k0s(),e.j41(15,"div",15),e.DNE(16,X,2,1,"div",16)(17,Me,5,2,"div",17),e.k0s()}if(2&dn){let un;e.R7$(2),e.AVh("mdc-text-field--filled",!pn._hasOutline())("mdc-text-field--outlined",pn._hasOutline())("mdc-text-field--no-label",!pn._hasFloatingLabel())("mdc-text-field--disabled",pn._control.disabled)("mdc-text-field--invalid",pn._control.errorState),e.R7$(2),e.vxM(pn._hasOutline()||pn._control.disabled?-1:4),e.R7$(2),e.vxM(pn._hasOutline()?6:-1),e.R7$(),e.vxM(pn._hasIconPrefix?7:-1),e.R7$(),e.vxM(pn._hasTextPrefix?8:-1),e.R7$(2),e.vxM(!pn._hasOutline()||pn._forceDisplayInfixLabel()?10:-1),e.R7$(2),e.vxM(pn._hasTextSuffix?12:-1),e.R7$(),e.vxM(pn._hasIconSuffix?13:-1),e.R7$(),e.vxM(pn._hasOutline()?-1:14),e.R7$(),e.AVh("mat-mdc-form-field-subscript-dynamic-size","dynamic"===pn.subscriptSizing),e.R7$(),e.vxM("error"===(un=pn._getDisplayedMessages())?16:"hint"===un?17:-1)}},dependencies:[$e,Vt,m.T3,ht,vt],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-app-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-left:16px;padding-right:16px}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-app-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-app-outline));border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-app-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-app-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;width:12px;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 24px)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))*2)}}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-app-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-app-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-app-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-app-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-app-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-app-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-app-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-app-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-app-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-app-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-app-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-app-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-app-body-large-weight))}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-app-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-app-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-app-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[qe.transitionMessages]},changeDetection:0})}return pt})(),ft=(()=>{class pt{static#e=this.\u0275fac=function(dn){return new(dn||pt)};static#t=this.\u0275mod=e.$C({type:pt});static#n=this.\u0275inj=e.G2t({imports:[A.yE,m.MD,E.w5,A.yE]})}return pt})()},9631:(Mt,pe,a)=>{"use strict";a.d(pe,{Oh:()=>O,fg:()=>K,fS:()=>F});var e=a(4085),i=a(6860),d=a(3953),p=a(1235),m=a(5286);const _=(0,i.BQ)({passive:!0});let g=(()=>{class H{constructor(P,U){this._platform=P,this._ngZone=U,this._monitoredElements=new Map}monitor(P){if(!this._platform.isBrowser)return p.w;const U=(0,e.i8)(P),$=this._monitoredElements.get(U);if($)return $.subject;const B=new m.B7,y="cdk-text-field-autofilled",I=w=>{"cdk-text-field-autofill-start"!==w.animationName||U.classList.contains(y)?"cdk-text-field-autofill-end"===w.animationName&&U.classList.contains(y)&&(U.classList.remove(y),this._ngZone.run(()=>B.next({target:w.target,isAutofilled:!1}))):(U.classList.add(y),this._ngZone.run(()=>B.next({target:w.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{U.addEventListener("animationstart",I,_),U.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(U,{subject:B,unlisten:()=>{U.removeEventListener("animationstart",I,_)}}),B}stopMonitoring(P){const U=(0,e.i8)(P),$=this._monitoredElements.get(U);$&&($.unlisten(),$.subject.complete(),U.classList.remove("cdk-text-field-autofill-monitored"),U.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(U))}ngOnDestroy(){this._monitoredElements.forEach((P,U)=>this.stopMonitoring(U))}static#e=this.\u0275fac=function(U){return new(U||H)(d.KVO(i.OD),d.KVO(d.SKi))};static#t=this.\u0275prov=d.jDH({token:H,factory:H.\u0275fac,providedIn:"root"})}return H})(),S=(()=>{class H{static#e=this.\u0275fac=function(U){return new(U||H)};static#t=this.\u0275mod=d.$C({type:H});static#n=this.\u0275inj=d.G2t({})}return H})();var D=a(9417),E=a(6600),A=a(3719);const O=new d.nKC("MAT_INPUT_VALUE_ACCESSOR"),z=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let G=0,K=(()=>{class H{get disabled(){return this._disabled}set disabled(P){this._disabled=(0,e.he)(P),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(P){this._id=P||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(D.k0.required)??!1}set required(P){this._required=(0,e.he)(P)}get type(){return this._type}set type(P){this._type=P||"text",this._validateType(),!this._isTextarea&&(0,i.MU)().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(P){this._errorStateTracker.matcher=P}get value(){return this._inputValueAccessor.value}set value(P){P!==this.value&&(this._inputValueAccessor.value=P,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(P){this._readonly=(0,e.he)(P)}get errorState(){return this._errorStateTracker.errorState}set errorState(P){this._errorStateTracker.errorState=P}constructor(P,U,$,B,y,I,w,L,Q,te){this._elementRef=P,this._platform=U,this.ngControl=$,this._autofillMonitor=L,this._ngZone=Q,this._formField=te,this._uid="mat-input-"+G++,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new m.B7,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(k=>(0,i.MU)().has(k)),this._iOSKeyupListener=k=>{const J=k.target;!J.value&&0===J.selectionStart&&0===J.selectionEnd&&(J.setSelectionRange(1,1),J.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};const R=this._elementRef.nativeElement,ee=R.nodeName.toLowerCase();this._inputValueAccessor=w||R,this._previousNativeValue=this.value,this.id=this.id,U.IOS&&Q.runOutsideAngular(()=>{P.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new E.X0(I,$,y,B,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===ee,this._isTextarea="textarea"===ee,this._isInFormField=!!te,this._isNativeSelect&&(this.controlType=R.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(P=>{this.autofilled=P.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(P){this._elementRef.nativeElement.focus(P)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(P){P!==this.focused&&(this.focused=P,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const P=this._elementRef.nativeElement.value;this._previousNativeValue!==P&&(this._previousNativeValue=P,this.stateChanges.next())}_dirtyCheckPlaceholder(){const P=this._getPlaceholder();if(P!==this._previousPlaceholder){const U=this._elementRef.nativeElement;this._previousPlaceholder=P,P?U.setAttribute("placeholder",P):U.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){z.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let P=this._elementRef.nativeElement.validity;return P&&P.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const P=this._elementRef.nativeElement,U=P.options[0];return this.focused||P.multiple||!this.empty||!!(P.selectedIndex>-1&&U&&U.label)}return this.focused||!this.empty}setDescribedByIds(P){P.length?this._elementRef.nativeElement.setAttribute("aria-describedby",P.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const P=this._elementRef.nativeElement;return this._isNativeSelect&&(P.multiple||P.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&"number"===this._type&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&"number"!==this._type&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}static#e=this.\u0275fac=function(U){return new(U||H)(d.rXU(d.aKT),d.rXU(i.OD),d.rXU(D.vO,10),d.rXU(D.cV,8),d.rXU(D.j4,8),d.rXU(E.es),d.rXU(O,10),d.rXU(g),d.rXU(d.SKi),d.rXU(A.xb,8))};static#t=this.\u0275dir=d.FsC({type:H,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(U,$){1&U&&d.bIt("focus",function(){return $._focusChanged(!0)})("blur",function(){return $._focusChanged(!1)})("input",function(){return $._onInput()}),2&U&&(d.Mr5("id",$.id)("disabled",$.disabled)("required",$.required),d.BMQ("name",$.name||null)("readonly",$.readonly&&!$._isNativeSelect||null)("aria-invalid",$.empty&&$.required?null:$.errorState)("aria-required",$.required)("id",$.id),d.AVh("mat-input-server",$._isServer)("mat-mdc-form-field-textarea-control",$._isInFormField&&$._isTextarea)("mat-mdc-form-field-input-control",$._isInFormField)("mdc-text-field__input",$._isInFormField)("mat-mdc-native-select-inline",$._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[d.Jv_([{provide:A.qT,useExisting:H}]),d.OA$]})}return H})(),F=(()=>{class H{static#e=this.\u0275fac=function(U){return new(U||H)};static#t=this.\u0275mod=d.$C({type:H});static#n=this.\u0275inj=d.G2t({imports:[E.yE,A.RG,A.RG,S,E.yE]})}return H})()},9115:(Mt,pe,a)=>{"use strict";a.d(pe,{Cn:()=>me,Cp:()=>ue,fb:()=>Q,kk:()=>Ot});var e=a(3953),i=a(9888),d=a(7336),p=a(5286),m=a(4670),_=a(4337),g=a(4421),b=a(5516),u=a(3176),S=a(9090),D=a(7605),E=a(8728),A=a(9493),v=a(8002),O=a(177),z=a(6600),G=a(6939),K=a(9969),F=a(8203),H=a(7987),Y=a(6860),P=a(3701);const U=["mat-menu-item",""],$=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],B=["mat-icon, [matMenuItemIcon]","*"];function y($e,Et){1&$e&&(e.qSk(),e.j41(0,"svg",2),e.nrm(1,"polygon",3),e.k0s())}const I=["*"];function w($e,Et){if(1&$e){const Ve=e.RV6();e.j41(0,"div",0),e.bIt("keydown",function(ht){e.eBV(Ve);const Vt=e.XpG();return e.Njj(Vt._handleKeydown(ht))})("click",function(){e.eBV(Ve);const ht=e.XpG();return e.Njj(ht.closed.emit("click"))})("@transformMenu.start",function(ht){e.eBV(Ve);const Vt=e.XpG();return e.Njj(Vt._onAnimationStart(ht))})("@transformMenu.done",function(ht){e.eBV(Ve);const Vt=e.XpG();return e.Njj(Vt._onAnimationDone(ht))}),e.j41(1,"div",1),e.SdG(2),e.k0s()()}if(2&$e){const Ve=e.XpG();e.HbH(Ve._classList),e.Y8G("id",Ve.panelId)("@transformMenu",Ve._panelAnimationState),e.BMQ("aria-label",Ve.ariaLabel||null)("aria-labelledby",Ve.ariaLabelledby||null)("aria-describedby",Ve.ariaDescribedby||null)}}const L=new e.nKC("MAT_MENU_PANEL");let Q=(()=>{class $e{constructor(Ve,st,ht,Vt,qe){this._elementRef=Ve,this._document=st,this._focusMonitor=ht,this._parentMenu=Vt,this._changeDetectorRef=qe,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new p.B7,this._focused=new p.B7,this._highlighted=!1,this._triggersSubmenu=!1,Vt?.addItem?.(this)}focus(Ve,st){this._focusMonitor&&Ve?this._focusMonitor.focusVia(this._getHostElement(),Ve,st):this._getHostElement().focus(st),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(Ve){this.disabled&&(Ve.preventDefault(),Ve.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const Ve=this._elementRef.nativeElement.cloneNode(!0),st=Ve.querySelectorAll("mat-icon, .material-icons");for(let ht=0;ht<st.length;ht++)st[ht].remove();return Ve.textContent?.trim()||""}_setHighlighted(Ve){this._highlighted=Ve,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(Ve){this._triggersSubmenu=Ve,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(st){return new(st||$e)(e.rXU(e.aKT),e.rXU(O.qQ),e.rXU(i.FN),e.rXU(L,8),e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:$e,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(st,ht){1&st&&e.bIt("click",function(qe){return ht._checkDisabled(qe)})("mouseenter",function(){return ht._handleMouseEnter()}),2&st&&(e.BMQ("role",ht.role)("tabindex",ht._getTabIndex())("aria-disabled",ht.disabled)("disabled",ht.disabled||null),e.AVh("mat-mdc-menu-item-highlighted",ht._highlighted)("mat-mdc-menu-item-submenu-trigger",ht._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",e.L39],disableRipple:[2,"disableRipple","disableRipple",e.L39]},exportAs:["matMenuItem"],standalone:!0,features:[e.GFd,e.aNF],attrs:U,ngContentSelectors:B,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(st,ht){1&st&&(e.NAR($),e.SdG(0),e.j41(1,"span",0),e.SdG(2,1),e.k0s(),e.nrm(3,"div",1),e.DNE(4,y,2,0,":svg:svg",2)),2&st&&(e.R7$(3),e.Y8G("matRippleDisabled",ht.disableRipple||ht.disabled)("matRippleTrigger",ht._getHostElement()),e.R7$(),e.vxM(ht._triggersSubmenu?4:-1))},dependencies:[z.r6],encapsulation:2,changeDetection:0})}return $e})();const k=new e.nKC("MatMenuContent"),X={transformMenu:(0,K.hZ)("transformMenu",[(0,K.wk)("void",(0,K.iF)({opacity:0,transform:"scale(0.8)"})),(0,K.kY)("void => enter",(0,K.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,K.iF)({opacity:1,transform:"scale(1)"}))),(0,K.kY)("* => void",(0,K.i0)("100ms 25ms linear",(0,K.iF)({opacity:0})))]),fadeInItems:(0,K.hZ)("fadeInItems",[(0,K.wk)("showing",(0,K.iF)({opacity:1})),(0,K.kY)("void => *",[(0,K.iF)({opacity:0}),(0,K.i0)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Ze=0;const Ct=new e.nKC("mat-menu-default-options",{providedIn:"root",factory:function lt(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Ot=(()=>{class $e{get xPosition(){return this._xPosition}set xPosition(Ve){this._xPosition=Ve,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(Ve){this._yPosition=Ve,this.setPositionClasses()}set panelClass(Ve){const st=this._previousPanelClass,ht={...this._classList};st&&st.length&&st.split(" ").forEach(Vt=>{ht[Vt]=!1}),this._previousPanelClass=Ve,Ve&&Ve.length&&(Ve.split(" ").forEach(Vt=>{ht[Vt]=!0}),this._elementRef.nativeElement.className=""),this._classList=ht}get classList(){return this.panelClass}set classList(Ve){this.panelClass=Ve}constructor(Ve,st,ht,Vt){this._elementRef=Ve,this._changeDetectorRef=Vt,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new e.rOR,this._classList={},this._panelAnimationState="void",this._animationDone=new p.B7,this.closed=new e.bkB,this.close=this.closed,this.panelId="mat-menu-panel-"+Ze++,this._injector=(0,e.WQX)(e.zZn),this.overlayPanelClass=ht.overlayPanelClass||"",this._xPosition=ht.xPosition,this._yPosition=ht.yPosition,this.backdropClass=ht.backdropClass,this.overlapTrigger=ht.overlapTrigger,this.hasBackdrop=ht.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new i.Bu(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,u.Z)(this._directDescendantItems),(0,S.n)(Ve=>(0,m.h)(...Ve.map(st=>st._focused)))).subscribe(Ve=>this._keyManager.updateActiveItem(Ve)),this._directDescendantItems.changes.subscribe(Ve=>{const st=this._keyManager;if("enter"===this._panelAnimationState&&st.activeItem?._hasFocus()){const ht=Ve.toArray(),Vt=Math.max(0,Math.min(ht.length-1,st.activeItemIndex||0));ht[Vt]&&!ht[Vt].disabled?st.setActiveItem(Vt):st.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe((0,u.Z)(this._directDescendantItems),(0,S.n)(st=>(0,m.h)(...st.map(ht=>ht._hovered))))}addItem(Ve){}removeItem(Ve){}_handleKeydown(Ve){const st=Ve.keyCode,ht=this._keyManager;switch(st){case d._f:(0,d.rp)(Ve)||(Ve.preventDefault(),this.closed.emit("keydown"));break;case d.UQ:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case d.LE:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(st===d.i7||st===d.n6)&&ht.setFocusOrigin("keyboard"),void ht.onKeydown(Ve)}Ve.stopPropagation()}focusFirstItem(Ve="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=(0,e.mal)(()=>{let st=null;if(this._directDescendantItems.length&&(st=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!st||!st.contains(document.activeElement)){const ht=this._keyManager;ht.setFocusOrigin(Ve).setFirstItemActive(),!ht.activeItem&&st&&st.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(Ve){if(null===this._baseElevation){const gt=("function"==typeof getComputedStyle?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt(gt)}const st=Math.min(this._baseElevation+Ve,24),ht=`${this._elevationPrefix}${st}`,Vt=Object.keys(this._classList).find(qe=>qe.startsWith(this._elevationPrefix));if(!Vt||Vt===this._previousElevation){const qe={...this._classList};this._previousElevation&&(qe[this._previousElevation]=!1),qe[ht]=!0,this._previousElevation=ht,this._classList=qe}}setPositionClasses(Ve=this.xPosition,st=this.yPosition){this._classList={...this._classList,"mat-menu-before":"before"===Ve,"mat-menu-after":"after"===Ve,"mat-menu-above":"above"===st,"mat-menu-below":"below"===st},this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(Ve){this._animationDone.next(Ve),this._isAnimating=!1}_onAnimationStart(Ve){this._isAnimating=!0,"enter"===Ve.toState&&0===this._keyManager.activeItemIndex&&(Ve.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,u.Z)(this._allItems)).subscribe(Ve=>{this._directDescendantItems.reset(Ve.filter(st=>st._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(st){return new(st||$e)(e.rXU(e.aKT),e.rXU(e.SKi),e.rXU(Ct),e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:$e,selectors:[["mat-menu"]],contentQueries:function(st,ht,Vt){if(1&st&&(e.wni(Vt,k,5),e.wni(Vt,Q,5),e.wni(Vt,Q,4)),2&st){let qe;e.mGM(qe=e.lsd())&&(ht.lazyContent=qe.first),e.mGM(qe=e.lsd())&&(ht._allItems=qe),e.mGM(qe=e.lsd())&&(ht.items=qe)}},viewQuery:function(st,ht){if(1&st&&e.GBs(e.C4Q,5),2&st){let Vt;e.mGM(Vt=e.lsd())&&(ht.templateRef=Vt.first)}},hostVars:3,hostBindings:function(st,ht){2&st&&e.BMQ("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",e.L39],hasBackdrop:[2,"hasBackdrop","hasBackdrop",Ve=>null==Ve?null:(0,e.L39)(Ve)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[e.Jv_([{provide:L,useExisting:$e}]),e.GFd,e.aNF],ngContentSelectors:I,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(st,ht){1&st&&(e.NAR(),e.DNE(0,w,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-app-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-app-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-app-surface-container));will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-app-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-app-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[X.transformMenu,X.fadeInItems]},changeDetection:0})}return $e})();const rt=new e.nKC("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const $e=(0,e.WQX)(H.hJ);return()=>$e.scrollStrategies.reposition()}}),ve={provide:rt,deps:[H.hJ],useFactory:function vt($e){return()=>$e.scrollStrategies.reposition()}},Ce=(0,Y.BQ)({passive:!0});let ue=(()=>{class $e{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(Ve){this.menu=Ve}get menu(){return this._menu}set menu(Ve){Ve!==this._menu&&(this._menu=Ve,this._menuCloseSubscription.unsubscribe(),Ve&&(this._menuCloseSubscription=Ve.close.subscribe(st=>{this._destroyMenu(st),("click"===st||"tab"===st)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(st)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(Ve,st,ht,Vt,qe,gt,ot,ae,Oe){this._overlay=Ve,this._element=st,this._viewContainerRef=ht,this._menuItemInstance=gt,this._dir=ot,this._focusMonitor=ae,this._ngZone=Oe,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=_.y.EMPTY,this._hoverSubscription=_.y.EMPTY,this._menuCloseSubscription=_.y.EMPTY,this._changeDetectorRef=(0,e.WQX)(e.gRc),this._handleTouchStart=Le=>{(0,i.w6)(Le)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new e.bkB,this.onMenuOpen=this.menuOpened,this.menuClosed=new e.bkB,this.onMenuClose=this.menuClosed,this._scrollStrategy=Vt,this._parentMaterialMenu=qe instanceof Ot?qe:void 0,st.nativeElement.addEventListener("touchstart",this._handleTouchStart,Ce)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Ce),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const Ve=this.menu;if(this._menuOpen||!Ve)return;const st=this._createOverlay(Ve),ht=st.getConfig(),Vt=ht.positionStrategy;this._setPosition(Ve,Vt),ht.hasBackdrop=null==Ve.hasBackdrop?!this.triggersSubmenu():Ve.hasBackdrop,st.attach(this._getPortal(Ve)),Ve.lazyContent&&Ve.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(Ve),Ve instanceof Ot&&(Ve._startAnimation(),Ve._directDescendantItems.changes.pipe((0,D.Q)(Ve.close)).subscribe(()=>{Vt.withLockedPosition(!1).reapplyLastPosition(),Vt.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(Ve,st){this._focusMonitor&&Ve?this._focusMonitor.focusVia(this._element,Ve,st):this._element.nativeElement.focus(st)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(Ve){if(!this._overlayRef||!this.menuOpen)return;const st=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===Ve||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,st instanceof Ot?(st._resetAnimation(),st.lazyContent?st._animationDone.pipe((0,E.p)(ht=>"void"===ht.toState),(0,A.s)(1),(0,D.Q)(st.lazyContent._attached)).subscribe({next:()=>st.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),st?.lazyContent?.detach())}_initMenu(Ve){Ve.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,Ve.direction=this.dir,this._setMenuElevation(Ve),Ve.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(Ve){if(Ve.setElevation){let st=0,ht=Ve.parentMenu;for(;ht;)st++,ht=ht.parentMenu;Ve.setElevation(st)}}_setIsMenuOpen(Ve){Ve!==this._menuOpen&&(this._menuOpen=Ve,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(Ve),this._changeDetectorRef.markForCheck())}_createOverlay(Ve){if(!this._overlayRef){const st=this._getOverlayConfig(Ve);this._subscribeToPositions(Ve,st.positionStrategy),this._overlayRef=this._overlay.create(st),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(Ve){return new H.rR({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:Ve.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:Ve.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(Ve,st){Ve.setPositionClasses&&st.positionChanges.subscribe(ht=>{const Vt="start"===ht.connectionPair.overlayX?"after":"before",qe="top"===ht.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>Ve.setPositionClasses(Vt,qe)):Ve.setPositionClasses(Vt,qe)})}_setPosition(Ve,st){let[ht,Vt]="before"===Ve.xPosition?["end","start"]:["start","end"],[qe,gt]="above"===Ve.yPosition?["bottom","top"]:["top","bottom"],[ot,ae]=[qe,gt],[Oe,Le]=[ht,Vt],Pe=0;if(this.triggersSubmenu()){if(Le=ht="before"===Ve.xPosition?"start":"end",Vt=Oe="end"===ht?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const _t=this._parentMaterialMenu.items.first;this._parentInnerPadding=_t?_t._getHostElement().offsetTop:0}Pe="bottom"===qe?this._parentInnerPadding:-this._parentInnerPadding}}else Ve.overlapTrigger||(ot="top"===qe?"bottom":"top",ae="top"===gt?"bottom":"top");st.withPositions([{originX:ht,originY:ot,overlayX:Oe,overlayY:qe,offsetY:Pe},{originX:Vt,originY:ot,overlayX:Le,overlayY:qe,offsetY:Pe},{originX:ht,originY:ae,overlayX:Oe,overlayY:gt,offsetY:-Pe},{originX:Vt,originY:ae,overlayX:Le,overlayY:gt,offsetY:-Pe}])}_menuClosingActions(){const Ve=this._overlayRef.backdropClick(),st=this._overlayRef.detachments(),ht=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,g.of)(),Vt=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,E.p)(qe=>qe!==this._menuItemInstance),(0,E.p)(()=>this._menuOpen)):(0,g.of)();return(0,m.h)(Ve,ht,Vt,st)}_handleMousedown(Ve){(0,i._G)(Ve)||(this._openedBy=0===Ve.button?"mouse":void 0,this.triggersSubmenu()&&Ve.preventDefault())}_handleKeydown(Ve){const st=Ve.keyCode;(st===d.Fm||st===d.t6)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(st===d.LE&&"ltr"===this.dir||st===d.UQ&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(Ve){this.triggersSubmenu()?(Ve.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,E.p)(Ve=>Ve===this._menuItemInstance&&!Ve.disabled),(0,v.c)(0,b.$)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Ot&&this.menu._isAnimating?this.menu._animationDone.pipe((0,A.s)(1),(0,v.c)(0,b.$),(0,D.Q)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(Ve){return(!this._portal||this._portal.templateRef!==Ve.templateRef)&&(this._portal=new G.VA(Ve.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(st){return new(st||$e)(e.rXU(H.hJ),e.rXU(e.aKT),e.rXU(e.c1b),e.rXU(rt),e.rXU(L,8),e.rXU(Q,10),e.rXU(F.dS,8),e.rXU(i.FN),e.rXU(e.SKi))};static#t=this.\u0275dir=e.FsC({type:$e,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(st,ht){1&st&&e.bIt("click",function(qe){return ht._handleClick(qe)})("mousedown",function(qe){return ht._handleMousedown(qe)})("keydown",function(qe){return ht._handleKeydown(qe)}),2&st&&e.BMQ("aria-haspopup",ht.menu?"menu":null)("aria-expanded",ht.menuOpen)("aria-controls",ht.menuOpen?ht.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0})}return $e})(),me=(()=>{class $e{static#e=this.\u0275fac=function(st){return new(st||$e)};static#t=this.\u0275mod=e.$C({type:$e});static#n=this.\u0275inj=e.G2t({providers:[ve],imports:[O.MD,z.pZ,z.yE,H.z_,P.Gj,z.yE]})}return $e})()},6695:(Mt,pe,a)=>{"use strict";a.d(pe,{Ou:()=>U,iy:()=>P});var e=a(3953),i=a(5286),d=a(6607),p=a(8834),m=a(2798),_=a(4823),g=a(6600),b=a(3719);function u($,B){if(1&$&&(e.j41(0,"mat-option",17),e.EFF(1),e.k0s()),2&$){const y=B.$implicit;e.Y8G("value",y),e.R7$(),e.SpI(" ",y," ")}}function S($,B){if(1&$){const y=e.RV6();e.j41(0,"mat-form-field",14)(1,"mat-select",16,0),e.bIt("selectionChange",function(w){e.eBV(y);const L=e.XpG(2);return e.Njj(L._changePageSize(w.value))}),e.Z7z(3,u,2,2,"mat-option",17,e.fX1),e.k0s(),e.j41(5,"div",18),e.bIt("click",function(){e.eBV(y);const w=e.sdS(2);return e.Njj(w.open())}),e.k0s()()}if(2&$){const y=e.XpG(2);e.Y8G("appearance",y._formFieldAppearance)("color",y.color),e.R7$(),e.Y8G("value",y.pageSize)("disabled",y.disabled)("aria-labelledby",y._pageSizeLabelId)("panelClass",y.selectConfig.panelClass||"")("disableOptionCentering",y.selectConfig.disableOptionCentering),e.R7$(2),e.Dyx(y._displayedPageSizeOptions)}}function D($,B){if(1&$&&(e.j41(0,"div",15),e.EFF(1),e.k0s()),2&$){const y=e.XpG(2);e.R7$(),e.JRh(y.pageSize)}}function E($,B){if(1&$&&(e.j41(0,"div",3)(1,"div",13),e.EFF(2),e.k0s(),e.DNE(3,S,6,7,"mat-form-field",14)(4,D,2,1,"div",15),e.k0s()),2&$){const y=e.XpG();e.R7$(),e.BMQ("id",y._pageSizeLabelId),e.R7$(),e.SpI(" ",y._intl.itemsPerPageLabel," "),e.R7$(),e.vxM(y._displayedPageSizeOptions.length>1?3:-1),e.R7$(),e.vxM(y._displayedPageSizeOptions.length<=1?4:-1)}}function A($,B){if(1&$){const y=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(y);const w=e.XpG();return e.Njj(w.firstPage())}),e.qSk(),e.j41(1,"svg",8),e.nrm(2,"path",20),e.k0s()()}if(2&$){const y=e.XpG();e.Y8G("matTooltip",y._intl.firstPageLabel)("matTooltipDisabled",y._previousButtonsDisabled())("matTooltipPosition","above")("disabled",y._previousButtonsDisabled()),e.BMQ("aria-label",y._intl.firstPageLabel)}}function v($,B){if(1&$){const y=e.RV6();e.j41(0,"button",21),e.bIt("click",function(){e.eBV(y);const w=e.XpG();return e.Njj(w.lastPage())}),e.qSk(),e.j41(1,"svg",8),e.nrm(2,"path",22),e.k0s()()}if(2&$){const y=e.XpG();e.Y8G("matTooltip",y._intl.lastPageLabel)("matTooltipDisabled",y._nextButtonsDisabled())("matTooltipPosition","above")("disabled",y._nextButtonsDisabled()),e.BMQ("aria-label",y._intl.lastPageLabel)}}let O=(()=>{class ${constructor(){this.changes=new i.B7,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(y,I,w)=>{if(0==w||0==I)return`0 of ${w}`;const L=y*I;return`${L+1} \u2013 ${L<(w=Math.max(w,0))?Math.min(L+I,w):L+I} of ${w}`}}static#e=this.\u0275fac=function(I){return new(I||$)};static#t=this.\u0275prov=e.jDH({token:$,factory:$.\u0275fac,providedIn:"root"})}return $})();const G={provide:O,deps:[[new e.Xx1,new e.kdw,O]],useFactory:function z($){return $||new O}},H=new e.nKC("MAT_PAGINATOR_DEFAULT_OPTIONS");let Y=0,P=(()=>{class ${get pageIndex(){return this._pageIndex}set pageIndex(y){this._pageIndex=Math.max(y||0,0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(y){this._length=y||0,this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(y){this._pageSize=Math.max(y||0,0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(y){this._pageSizeOptions=(y||[]).map(I=>(0,e.Udg)(I,0)),this._updateDisplayedPageSizeOptions()}constructor(y,I,w){if(this._intl=y,this._changeDetectorRef=I,this._pageSizeLabelId="mat-paginator-page-size-label-"+Y++,this._isInitialized=!1,this._initializedStream=new d.m(1),this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this.hidePageSize=!1,this.showFirstLastButtons=!1,this.selectConfig={},this.disabled=!1,this.page=new e.bkB,this.initialized=this._initializedStream,this._intlChanges=y.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),w){const{pageSize:L,pageSizeOptions:Q,hidePageSize:te,showFirstLastButtons:R}=w;null!=L&&(this._pageSize=L),null!=Q&&(this._pageSizeOptions=Q),null!=te&&(this.hidePageSize=te),null!=R&&(this.showFirstLastButtons=R)}this._formFieldAppearance=w?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const y=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(y)}previousPage(){if(!this.hasPreviousPage())return;const y=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(y)}firstPage(){if(!this.hasPreviousPage())return;const y=this.pageIndex;this.pageIndex=0,this._emitPageEvent(y)}lastPage(){if(!this.hasNextPage())return;const y=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(y)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const y=this.getNumberOfPages()-1;return this.pageIndex<y&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(y){const w=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/y)||0,this.pageSize=y,this._emitPageEvent(w)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((y,I)=>y-I),this._changeDetectorRef.markForCheck())}_emitPageEvent(y){this.page.emit({previousPageIndex:y,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static#e=this.\u0275fac=function(I){return new(I||$)(e.rXU(O),e.rXU(e.gRc),e.rXU(H,8))};static#t=this.\u0275cmp=e.VBU({type:$,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[2,"pageIndex","pageIndex",e.Udg],length:[2,"length","length",e.Udg],pageSize:[2,"pageSize","pageSize",e.Udg],pageSizeOptions:"pageSizeOptions",hidePageSize:[2,"hidePageSize","hidePageSize",e.L39],showFirstLastButtons:[2,"showFirstLastButtons","showFirstLastButtons",e.L39],selectConfig:"selectConfig",disabled:[2,"disabled","disabled",e.L39]},outputs:{page:"page"},exportAs:["matPaginator"],standalone:!0,features:[e.GFd,e.aNF],decls:14,vars:14,consts:[["selectRef",""],[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],[1,"mat-mdc-paginator-touch-target",3,"click"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(I,w){1&I&&(e.j41(0,"div",1)(1,"div",2),e.DNE(2,E,5,4,"div",3),e.j41(3,"div",4)(4,"div",5),e.EFF(5),e.k0s(),e.DNE(6,A,3,5,"button",6),e.j41(7,"button",7),e.bIt("click",function(){return w.previousPage()}),e.qSk(),e.j41(8,"svg",8),e.nrm(9,"path",9),e.k0s()(),e.joV(),e.j41(10,"button",10),e.bIt("click",function(){return w.nextPage()}),e.qSk(),e.j41(11,"svg",8),e.nrm(12,"path",11),e.k0s()(),e.DNE(13,v,3,5,"button",12),e.k0s()()()),2&I&&(e.R7$(2),e.vxM(w.hidePageSize?-1:2),e.R7$(3),e.SpI(" ",w._intl.getRangeLabel(w.pageIndex,w.pageSize,w.length)," "),e.R7$(),e.vxM(w.showFirstLastButtons?6:-1),e.R7$(),e.Y8G("matTooltip",w._intl.previousPageLabel)("matTooltipDisabled",w._previousButtonsDisabled())("matTooltipPosition","above")("disabled",w._previousButtonsDisabled()),e.BMQ("aria-label",w._intl.previousPageLabel),e.R7$(3),e.Y8G("matTooltip",w._intl.nextPageLabel)("matTooltipDisabled",w._nextButtonsDisabled())("matTooltipPosition","above")("disabled",w._nextButtonsDisabled()),e.BMQ("aria-label",w._intl.nextPageLabel),e.R7$(3),e.vxM(w.showFirstLastButtons?13:-1))},dependencies:[b.rl,m.VO,g.wT,p.iY,_.oV],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color, var(--mat-app-on-surface));background-color:var(--mat-paginator-container-background-color, var(--mat-app-surface));font-family:var(--mat-paginator-container-text-font, var(--mat-app-body-small-font));line-height:var(--mat-paginator-container-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-paginator-container-text-size, var(--mat-app-body-small-size));font-weight:var(--mat-paginator-container-text-weight, var(--mat-app-body-small-weight));letter-spacing:var(--mat-paginator-container-text-tracking, var(--mat-app-body-small-tracking));--mat-form-field-container-height:var(--mat-paginator-form-field-container-height);--mat-form-field-container-vertical-padding:var(--mat-paginator-form-field-container-vertical-padding)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size, var(--mat-app-body-small-size))}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display);position:absolute;top:50%;left:50%;width:84px;height:48px;background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}"],encapsulation:2,changeDetection:0})}return $})(),U=(()=>{class ${static#e=this.\u0275fac=function(I){return new(I||$)};static#t=this.\u0275mod=e.$C({type:$});static#n=this.\u0275inj=e.G2t({providers:[G],imports:[p.Hl,m.Ve,_.uc,P]})}return $})()},7575:(Mt,pe,a)=>{"use strict";a.d(pe,{HM:()=>b,PO:()=>S});var e=a(3953),d=(a(177),a(6600));function p(D,E){1&D&&e.nrm(0,"div",2)}const m=new e.nKC("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let b=(()=>{class D{constructor(A,v,O,z,G){this._elementRef=A,this._ngZone=v,this._changeDetectorRef=O,this._animationMode=z,this._isNoopAnimation=!1,this._defaultColor="primary",this._value=0,this._bufferValue=0,this.animationEnd=new e.bkB,this._mode="determinate",this._transitionendHandler=K=>{0===this.animationEnd.observers.length||!K.target||!K.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation="NoopAnimations"===z,G&&(G.color&&(this.color=this._defaultColor=G.color),this.mode=G.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(A){this._color=A}get value(){return this._value}set value(A){this._value=u(A||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(A){this._bufferValue=u(A||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(A){this._mode=A,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}static#e=this.\u0275fac=function(v){return new(v||D)(e.rXU(e.aKT),e.rXU(e.SKi),e.rXU(e.gRc),e.rXU(e.bc$,8),e.rXU(m,8))};static#t=this.\u0275cmp=e.VBU({type:D,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(v,O){2&v&&(e.BMQ("aria-valuenow",O._isIndeterminate()?null:O.value)("mode",O.mode),e.HbH("mat-"+O.color),e.AVh("_mat-animation-noopable",O._isNoopAnimation)("mdc-linear-progress--animation-ready",!O._isNoopAnimation)("mdc-linear-progress--indeterminate",O._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",e.Udg],bufferValue:[2,"bufferValue","bufferValue",e.Udg],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],standalone:!0,features:[e.GFd,e.aNF],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(v,O){1&v&&(e.j41(0,"div",0),e.nrm(1,"div",1),e.DNE(2,p,1,0,"div",2),e.k0s(),e.j41(3,"div",3),e.nrm(4,"span",4),e.k0s(),e.j41(5,"div",5),e.nrm(6,"span",4),e.k0s()),2&v&&(e.R7$(),e.xc7("flex-basis",O._getBufferBarFlexBasis()),e.R7$(),e.vxM("buffer"===O.mode?2:-1),e.R7$(),e.xc7("transform",O._getPrimaryBarTransform()))},styles:[".mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height),var(--mdc-linear-progress-active-indicator-height))}.cdk-high-contrast-active .mdc-linear-progress{outline-color:CanvasText}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color, var(--mat-app-primary));border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height);border-radius:var(--mdc-linear-progress-track-shape, var(--mat-app-corner-none))}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color, var(--mat-app-surface-variant))}.cdk-high-contrast-active .mdc-linear-progress__buffer-dots{background-color:ButtonBorder}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color, var(--mat-app-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}"],encapsulation:2,changeDetection:0})}return D})();function u(D,E=0,A=100){return Math.max(E,Math.min(A,D))}let S=(()=>{class D{static#e=this.\u0275fac=function(v){return new(v||D)};static#t=this.\u0275mod=e.$C({type:D});static#n=this.\u0275inj=e.G2t({imports:[d.yE]})}return D})()},9183:(Mt,pe,a)=>{"use strict";a.d(pe,{D6:()=>E,LG:()=>S});var e=a(3953),i=a(177),d=a(6600);const p=["determinateSpinner"];function m(A,v){if(1&A&&(e.qSk(),e.j41(0,"svg",11),e.nrm(1,"circle",12),e.k0s()),2&A){const O=e.XpG();e.BMQ("viewBox",O._viewBox()),e.R7$(),e.xc7("stroke-dasharray",O._strokeCircumference(),"px")("stroke-dashoffset",O._strokeCircumference()/2,"px")("stroke-width",O._circleStrokeWidth(),"%"),e.BMQ("r",O._circleRadius())}}const _=new e.nKC("mat-progress-spinner-default-options",{providedIn:"root",factory:function g(){return{diameter:b}}}),b=100;let S=(()=>{class A{get color(){return this._color||this._defaultColor}set color(O){this._color=O}constructor(O,z,G){this._elementRef=O,this._defaultColor="primary",this._value=0,this._diameter=b,this._noopAnimations="NoopAnimations"===z&&!!G&&!G._forceAnimations,this.mode="mat-spinner"===O.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",G&&(G.color&&(this.color=this._defaultColor=G.color),G.diameter&&(this.diameter=G.diameter),G.strokeWidth&&(this.strokeWidth=G.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(O){this._value=Math.max(0,Math.min(100,O||0))}get diameter(){return this._diameter}set diameter(O){this._diameter=O||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(O){this._strokeWidth=O||0}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const O=2*this._circleRadius()+this.strokeWidth;return`0 0 ${O} ${O}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(z){return new(z||A)(e.rXU(e.aKT),e.rXU(e.bc$,8),e.rXU(_))};static#t=this.\u0275cmp=e.VBU({type:A,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(z,G){if(1&z&&e.GBs(p,5),2&z){let K;e.mGM(K=e.lsd())&&(G._determinateCircle=K.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(z,G){2&z&&(e.BMQ("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===G.mode?G.value:null)("mode",G.mode),e.HbH("mat-"+G.color),e.xc7("width",G.diameter,"px")("height",G.diameter,"px")("--mdc-circular-progress-size",G.diameter+"px")("--mdc-circular-progress-active-indicator-width",G.diameter+"px"),e.AVh("_mat-animation-noopable",G._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===G.mode))},inputs:{color:"color",mode:"mode",value:[2,"value","value",e.Udg],diameter:[2,"diameter","diameter",e.Udg],strokeWidth:[2,"strokeWidth","strokeWidth",e.Udg]},exportAs:["matProgressSpinner"],standalone:!0,features:[e.GFd,e.aNF],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(z,G){if(1&z&&(e.DNE(0,m,2,8,"ng-template",null,0,e.C5r),e.j41(2,"div",2,1),e.qSk(),e.j41(4,"svg",3),e.nrm(5,"circle",4),e.k0s()(),e.joV(),e.j41(6,"div",5)(7,"div",6)(8,"div",7),e.eu8(9,8),e.k0s(),e.j41(10,"div",9),e.eu8(11,8),e.k0s(),e.j41(12,"div",10),e.eu8(13,8),e.k0s()()()),2&z){const K=e.sdS(1);e.R7$(4),e.BMQ("viewBox",G._viewBox()),e.R7$(),e.xc7("stroke-dasharray",G._strokeCircumference(),"px")("stroke-dashoffset",G._strokeDashOffset(),"px")("stroke-width",G._circleStrokeWidth(),"%"),e.BMQ("r",G._circleRadius()),e.R7$(4),e.Y8G("ngTemplateOutlet",K),e.R7$(2),e.Y8G("ngTemplateOutlet",K),e.R7$(2),e.Y8G("ngTemplateOutlet",K)}},dependencies:[i.T3],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-app-primary))}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0})}return A})(),E=(()=>{class A{static#e=this.\u0275fac=function(z){return new(z||A)};static#t=this.\u0275mod=e.$C({type:A});static#n=this.\u0275inj=e.G2t({imports:[i.MD,d.yE]})}return A})()},5951:(Mt,pe,a)=>{"use strict";a.d(pe,{VT:()=>z,Wk:()=>K,_g:()=>G});var e=a(9888),i=a(5024),d=a(3953),p=a(9417),m=a(6600),_=a(177);const g=["input"],b=["formField"],u=["*"];let S=0;class D{constructor(H,Y){this.source=H,this.value=Y}}const E={provide:p.kq,useExisting:(0,d.Rfq)(()=>z),multi:!0},A=new d.nKC("MatRadioGroup"),v=new d.nKC("mat-radio-default-options",{providedIn:"root",factory:function O(){return{color:"accent",disabledInteractive:!1}}});let z=(()=>{class F{get name(){return this._name}set name(Y){this._name=Y,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(Y){this._labelPosition="before"===Y?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(Y){this._value!==Y&&(this._value=Y,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(Y){this._selected=Y,this.value=Y?Y.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(Y){this._disabled=Y,this._markRadiosForCheck()}get required(){return this._required}set required(Y){this._required=Y,this._markRadiosForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(Y){this._disabledInteractive=Y,this._markRadiosForCheck()}constructor(Y){this._changeDetector=Y,this._value=null,this._name="mat-radio-group-"+S++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new d.bkB,this._disabledInteractive=!1}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(Y=>Y===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(Y=>{Y.name=this.name,Y._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(P=>{P.checked=this.value===P.value,P.checked&&(this._selected=P)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new D(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(Y=>Y._markForCheck())}writeValue(Y){this.value=Y,this._changeDetector.markForCheck()}registerOnChange(Y){this._controlValueAccessorChangeFn=Y}registerOnTouched(Y){this.onTouched=Y}setDisabledState(Y){this.disabled=Y,this._changeDetector.markForCheck()}static#e=this.\u0275fac=function(P){return new(P||F)(d.rXU(d.gRc))};static#t=this.\u0275dir=d.FsC({type:F,selectors:[["mat-radio-group"]],contentQueries:function(P,U,$){if(1&P&&d.wni($,G,5),2&P){let B;d.mGM(B=d.lsd())&&(U._radios=B)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[2,"disabled","disabled",d.L39],required:[2,"required","required",d.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",d.L39]},outputs:{change:"change"},exportAs:["matRadioGroup"],standalone:!0,features:[d.Jv_([E,{provide:A,useExisting:F}]),d.GFd]})}return F})(),G=(()=>{class F{get checked(){return this._checked}set checked(Y){this._checked!==Y&&(this._checked=Y,Y&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!Y&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),Y&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(Y){this._value!==Y&&(this._value=Y,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===Y),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(Y){this._labelPosition=Y}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(Y){this._setDisabled(Y)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(Y){this._required=Y}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._defaultOptions&&this._defaultOptions.color||"accent"}set color(Y){this._color=Y}get disabledInteractive(){return this._disabledInteractive||null!==this.radioGroup&&this.radioGroup.disabledInteractive}set disabledInteractive(Y){this._disabledInteractive=Y}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(Y,P,U,$,B,y,I,w){this._elementRef=P,this._changeDetector=U,this._focusMonitor=$,this._radioDispatcher=B,this._defaultOptions=I,this._ngZone=(0,d.WQX)(d.SKi),this._uniqueId="mat-radio-"+ ++S,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new d.bkB,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this._injector=(0,d.WQX)(d.zZn),this._onInputClick=L=>{this.disabled&&this.disabledInteractive&&L.preventDefault()},this.radioGroup=Y,this._noopAnimations="NoopAnimations"===y,this._disabledInteractive=I?.disabledInteractive??!1,w&&(this.tabIndex=(0,d.Udg)(w,0))}focus(Y,P){P?this._focusMonitor.focusVia(this._inputElement,P,Y):this._inputElement.nativeElement.focus(Y)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((Y,P)=>{Y!==this.id&&P===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(Y=>{!Y&&this.radioGroup&&this.radioGroup._touch()}),this._ngZone.runOutsideAngular(()=>{this._inputElement.nativeElement.addEventListener("click",this._onInputClick)})}ngOnDestroy(){this._inputElement?.nativeElement.removeEventListener("click",this._onInputClick),this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new D(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputInteraction(Y){if(Y.stopPropagation(),!this.checked&&!this.disabled){const P=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),P&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(Y){this._onInputInteraction(Y),(!this.disabled||this.disabledInteractive)&&this._inputElement?.nativeElement.focus()}_setDisabled(Y){this._disabled!==Y&&(this._disabled=Y,this._changeDetector.markForCheck())}_updateTabIndex(){const Y=this.radioGroup;let P;if(P=Y&&Y.selected&&!this.disabled?Y.selected===this?this.tabIndex:-1:this.tabIndex,P!==this._previousTabIndex){const U=this._inputElement?.nativeElement;U&&(U.setAttribute("tabindex",P+""),this._previousTabIndex=P,(0,d.mal)(()=>{queueMicrotask(()=>{Y&&Y.selected&&Y.selected!==this&&document.activeElement===U&&(Y.selected?._inputElement.nativeElement.focus(),document.activeElement===U&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static#e=this.\u0275fac=function(P){return new(P||F)(d.rXU(A,8),d.rXU(d.aKT),d.rXU(d.gRc),d.rXU(e.FN),d.rXU(i.zP),d.rXU(d.bc$,8),d.rXU(v,8),d.kS0("tabindex"))};static#t=this.\u0275cmp=d.VBU({type:F,selectors:[["mat-radio-button"]],viewQuery:function(P,U){if(1&P&&(d.GBs(g,5),d.GBs(b,7,d.aKT)),2&P){let $;d.mGM($=d.lsd())&&(U._inputElement=$.first),d.mGM($=d.lsd())&&(U._rippleTrigger=$.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:19,hostBindings:function(P,U){1&P&&d.bIt("focus",function(){return U._inputElement.nativeElement.focus()}),2&P&&(d.BMQ("id",U.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),d.AVh("mat-primary","primary"===U.color)("mat-accent","accent"===U.color)("mat-warn","warn"===U.color)("mat-mdc-radio-checked",U.checked)("mat-mdc-radio-disabled",U.disabled)("mat-mdc-radio-disabled-interactive",U.disabledInteractive)("_mat-animation-noopable",U._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",d.L39],tabIndex:[2,"tabIndex","tabIndex",Y=>null==Y?0:(0,d.Udg)(Y)],checked:[2,"checked","checked",d.L39],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",d.L39],required:[2,"required","required",d.L39],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",d.L39]},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[d.GFd,d.aNF],ngContentSelectors:u,decls:13,vars:17,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(P,U){if(1&P){const $=d.RV6();d.NAR(),d.j41(0,"div",2,0)(2,"div",3)(3,"div",4),d.bIt("click",function(y){return d.eBV($),d.Njj(U._onTouchTargetClick(y))}),d.k0s(),d.j41(4,"input",5,1),d.bIt("change",function(y){return d.eBV($),d.Njj(U._onInputInteraction(y))}),d.k0s(),d.j41(6,"div",6),d.nrm(7,"div",7)(8,"div",8),d.k0s(),d.j41(9,"div",9),d.nrm(10,"div",10),d.k0s()(),d.j41(11,"label",11),d.SdG(12),d.k0s()()}2&P&&(d.Y8G("labelPosition",U.labelPosition),d.R7$(2),d.AVh("mdc-radio--disabled",U.disabled),d.R7$(2),d.Y8G("id",U.inputId)("checked",U.checked)("disabled",U.disabled&&!U.disabledInteractive)("required",U.required),d.BMQ("name",U.name)("value",U.value)("aria-label",U.ariaLabel)("aria-labelledby",U.ariaLabelledby)("aria-describedby",U.ariaDescribedby)("aria-disabled",U.disabled&&U.disabledInteractive?"true":null),d.R7$(5),d.Y8G("matRippleTrigger",U._rippleTrigger.nativeElement)("matRippleDisabled",U._isRippleDisabled())("matRippleCentered",!0),d.R7$(2),d.Y8G("for",U.inputId))},dependencies:[m.r6,m.tO],styles:['.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled])~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color, var(--mat-app-on-surface))}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color, var(--mat-app-on-surface))}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size);top:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled{pointer-events:auto}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-app-on-surface))}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color, var(--mat-app-primary))}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-app-on-surface))}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-radio-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-radio-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-radio-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-radio-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-radio-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-disabled{cursor:default;pointer-events:none}.mat-mdc-radio-disabled.mat-mdc-radio-disabled-interactive{pointer-events:auto}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return F})(),K=(()=>{class F{static#e=this.\u0275fac=function(P){return new(P||F)};static#t=this.\u0275mod=d.$C({type:F});static#n=this.\u0275inj=d.G2t({imports:[m.yE,_.MD,m.pZ,G,m.yE]})}return F})()},2798:(Mt,pe,a)=>{"use strict";a.d(pe,{$2:()=>vt,VO:()=>rt,Ve:()=>ve});var e=a(7987),i=a(177),d=a(3953),p=a(6600),m=a(3719),_=a(3701),g=a(9888),b=a(8203),u=a(5024),S=a(7336),D=a(9417),E=a(5286),A=a(9418),v=a(4670),O=a(3176),z=a(9090),G=a(8728),K=a(5006),F=a(522),H=a(7605),Y=a(9493),P=a(9969);const U=["trigger"],$=["panel"],B=[[["mat-select-trigger"]],"*"],y=["mat-select-trigger","*"];function I(Ce,be){if(1&Ce&&(d.j41(0,"span",4),d.EFF(1),d.k0s()),2&Ce){const ue=d.XpG();d.R7$(),d.JRh(ue.placeholder)}}function w(Ce,be){1&Ce&&d.SdG(0)}function L(Ce,be){if(1&Ce&&(d.j41(0,"span",11),d.EFF(1),d.k0s()),2&Ce){const ue=d.XpG(2);d.R7$(),d.JRh(ue.triggerValue)}}function Q(Ce,be){if(1&Ce&&(d.j41(0,"span",5),d.DNE(1,w,1,0)(2,L,2,1,"span",11),d.k0s()),2&Ce){const ue=d.XpG();d.R7$(),d.vxM(ue.customTrigger?1:2)}}function te(Ce,be){if(1&Ce){const ue=d.RV6();d.j41(0,"div",12,1),d.bIt("@transformPanel.done",function($e){d.eBV(ue);const Et=d.XpG();return d.Njj(Et._panelDoneAnimatingStream.next($e.toState))})("keydown",function($e){d.eBV(ue);const Et=d.XpG();return d.Njj(Et._handleKeydown($e))}),d.SdG(2,1),d.k0s()}if(2&Ce){const ue=d.XpG();d.ZvI("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",ue._getPanelTheme(),""),d.Y8G("ngClass",ue.panelClass)("@transformPanel","showing"),d.BMQ("id",ue.id+"-panel")("aria-multiselectable",ue.multiple)("aria-label",ue.ariaLabel||null)("aria-labelledby",ue._getPanelAriaLabelledby())}}const R={transformPanelWrap:(0,P.hZ)("transformPanelWrap",[(0,P.kY)("* => void",(0,P.P)("@transformPanel",[(0,P.MA)()],{optional:!0}))]),transformPanel:(0,P.hZ)("transformPanel",[(0,P.wk)("void",(0,P.iF)({opacity:0,transform:"scale(1, 0.8)"})),(0,P.kY)("void => showing",(0,P.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,P.iF)({opacity:1,transform:"scale(1, 1)"}))),(0,P.kY)("* => void",(0,P.i0)("100ms linear",(0,P.iF)({opacity:0})))])};let X=0;const fe=new d.nKC("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const Ce=(0,d.WQX)(e.hJ);return()=>Ce.scrollStrategies.reposition()}}),Ze=new d.nKC("MAT_SELECT_CONFIG"),Ct={provide:fe,deps:[e.hJ],useFactory:function Me(Ce){return()=>Ce.scrollStrategies.reposition()}},lt=new d.nKC("MatSelectTrigger");class Ot{constructor(be,ue){this.source=be,this.value=ue}}let rt=(()=>{class Ce{_scrollOptionIntoView(ue){const me=this.options.toArray()[ue];if(me){const $e=this.panel.nativeElement,Et=(0,p.jb)(ue,this.options,this.optionGroups),Ve=me._getHostElement();$e.scrollTop=0===ue&&1===Et?0:(0,p.TL)(Ve.offsetTop,Ve.offsetHeight,$e.scrollTop,$e.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(ue){return new Ot(this,ue)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(ue){this._hideSingleSelectionIndicator=ue,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(ue){this._placeholder=ue,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(D.k0.required)??!1}set required(ue){this._required=ue,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(ue){this._multiple=ue}get compareWith(){return this._compareWith}set compareWith(ue){this._compareWith=ue,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(ue){this._assignValue(ue)&&this._onChange(ue)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(ue){this._errorStateTracker.matcher=ue}get id(){return this._id}set id(ue){this._id=ue||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(ue){this._errorStateTracker.errorState=ue}constructor(ue,me,$e,Et,Ve,st,ht,Vt,qe,gt,ot,ae,Oe,Le){this._viewportRuler=ue,this._changeDetectorRef=me,this._elementRef=Ve,this._dir=st,this._parentFormField=qe,this.ngControl=gt,this._liveAnnouncer=Oe,this._defaultOptions=Le,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(Pe,_t)=>Pe===_t,this._uid="mat-select-"+X++,this._triggerAriaLabelledBy=null,this._destroy=new E.B7,this.stateChanges=new E.B7,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+X++,this._panelDoneAnimatingStream=new E.B7,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new E.B7,this.optionSelectionChanges=(0,A.v)(()=>{const Pe=this.options;return Pe?Pe.changes.pipe((0,O.Z)(Pe),(0,z.n)(()=>(0,v.h)(...Pe.map(_t=>_t.onSelectionChange)))):this._initialized.pipe((0,z.n)(()=>this.optionSelectionChanges))}),this.openedChange=new d.bkB,this._openedStream=this.openedChange.pipe((0,G.p)(Pe=>Pe),(0,K.T)(()=>{})),this._closedStream=this.openedChange.pipe((0,G.p)(Pe=>!Pe),(0,K.T)(()=>{})),this.selectionChange=new d.bkB,this.valueChange=new d.bkB,this._trackedModal=null,this._skipPredicate=Pe=>!this.panelOpen&&Pe.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=Le?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=Le.typeaheadDebounceInterval),this._errorStateTracker=new p.X0(Et,gt,Vt,ht,this.stateChanges),this._scrollStrategyFactory=ae,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(ot)||0,this.id=this.id}ngOnInit(){this._selectionModel=new u.CB(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,F.F)(),(0,H.Q)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe((0,H.Q)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe((0,H.Q)(this._destroy)).subscribe(ue=>{ue.added.forEach(me=>me.select()),ue.removed.forEach(me=>me.deselect())}),this.options.changes.pipe((0,O.Z)(null),(0,H.Q)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const ue=this._getTriggerAriaLabelledby(),me=this.ngControl;if(ue!==this._triggerAriaLabelledBy){const $e=this._elementRef.nativeElement;this._triggerAriaLabelledBy=ue,ue?$e.setAttribute("aria-labelledby",ue):$e.removeAttribute("aria-labelledby")}me&&(this._previousControl!==me.control&&(void 0!==this._previousControl&&null!==me.disabled&&me.disabled!==this.disabled&&(this.disabled=me.disabled),this._previousControl=me.control),this.updateErrorState())}ngOnChanges(ue){(ue.disabled||ue.userAriaDescribedBy)&&this.stateChanges.next(),ue.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const ue=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!ue)return;const me=`${this.id}-panel`;this._trackedModal&&(0,g.Ae)(this._trackedModal,"aria-owns",me),(0,g.px)(ue,"aria-owns",me),this._trackedModal=ue}_clearFromModal(){this._trackedModal&&((0,g.Ae)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(ue){this._assignValue(ue)}registerOnChange(ue){this._onChange=ue}registerOnTouched(ue){this._onTouched=ue}setDisabledState(ue){this.disabled=ue,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const ue=this._selectionModel.selected.map(me=>me.viewValue);return this._isRtl()&&ue.reverse(),ue.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(ue){this.disabled||(this.panelOpen?this._handleOpenKeydown(ue):this._handleClosedKeydown(ue))}_handleClosedKeydown(ue){const me=ue.keyCode,$e=me===S.n6||me===S.i7||me===S.UQ||me===S.LE,Et=me===S.Fm||me===S.t6,Ve=this._keyManager;if(!Ve.isTyping()&&Et&&!(0,S.rp)(ue)||(this.multiple||ue.altKey)&&$e)ue.preventDefault(),this.open();else if(!this.multiple){const st=this.selected;Ve.onKeydown(ue);const ht=this.selected;ht&&st!==ht&&this._liveAnnouncer.announce(ht.viewValue,1e4)}}_handleOpenKeydown(ue){const me=this._keyManager,$e=ue.keyCode,Et=$e===S.n6||$e===S.i7,Ve=me.isTyping();if(Et&&ue.altKey)ue.preventDefault(),this.close();else if(Ve||$e!==S.Fm&&$e!==S.t6||!me.activeItem||(0,S.rp)(ue))if(!Ve&&this._multiple&&$e===S.A&&ue.ctrlKey){ue.preventDefault();const st=this.options.some(ht=>!ht.disabled&&!ht.selected);this.options.forEach(ht=>{ht.disabled||(st?ht.select():ht.deselect())})}else{const st=me.activeItemIndex;me.onKeydown(ue),this._multiple&&Et&&ue.shiftKey&&me.activeItem&&me.activeItemIndex!==st&&me.activeItem._selectViaInteraction()}else ue.preventDefault(),me.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,Y.s)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(ue){if(this.options.forEach(me=>me.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&ue)Array.isArray(ue),ue.forEach(me=>this._selectOptionByValue(me)),this._sortValues();else{const me=this._selectOptionByValue(ue);me?this._keyManager.updateActiveItem(me):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(ue){const me=this.options.find($e=>{if(this._selectionModel.isSelected($e))return!1;try{return null!=$e.value&&this._compareWith($e.value,ue)}catch{return!1}});return me&&this._selectionModel.select(me),me}_assignValue(ue){return!!(ue!==this._value||this._multiple&&Array.isArray(ue))&&(this.options&&this._setSelectionByValue(ue),this._value=ue,!0)}_getOverlayWidth(ue){return"auto"===this.panelWidth?(ue instanceof e.$Q?ue.elementRef:ue||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const ue of this.options)ue._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new g.Au(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const ue=(0,v.h)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,H.Q)(ue)).subscribe(me=>{this._onSelect(me.source,me.isUserInput),me.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,v.h)(...this.options.map(me=>me._stateChanges)).pipe((0,H.Q)(ue)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(ue,me){const $e=this._selectionModel.isSelected(ue);null!=ue.value||this._multiple?($e!==ue.selected&&(ue.selected?this._selectionModel.select(ue):this._selectionModel.deselect(ue)),me&&this._keyManager.setActiveItem(ue),this.multiple&&(this._sortValues(),me&&this.focus())):(ue.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(ue.value)),$e!==this._selectionModel.isSelected(ue)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const ue=this.options.toArray();this._selectionModel.sort((me,$e)=>this.sortComparator?this.sortComparator(me,$e,ue):ue.indexOf(me)-ue.indexOf($e)),this.stateChanges.next()}}_propagateChanges(ue){let me;me=this.multiple?this.selected.map($e=>$e.value):this.selected?this.selected.value:ue,this._value=me,this.valueChange.emit(me),this._onChange(me),this.selectionChange.emit(this._getChangeEvent(me)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let ue=-1;for(let me=0;me<this.options.length;me++)if(!this.options.get(me).disabled){ue=me;break}this._keyManager.setActiveItem(ue)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(ue){this._elementRef.nativeElement.focus(ue)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const ue=this._parentFormField?.getLabelId();return this.ariaLabelledby?(ue?ue+" ":"")+this.ariaLabelledby:ue}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const ue=this._parentFormField?.getLabelId();let me=(ue?ue+" ":"")+this._valueId;return this.ariaLabelledby&&(me+=" "+this.ariaLabelledby),me}_panelDoneAnimating(ue){this.openedChange.emit(ue)}setDescribedByIds(ue){ue.length?this._elementRef.nativeElement.setAttribute("aria-describedby",ue.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static#e=this.\u0275fac=function(me){return new(me||Ce)(d.rXU(_.Xj),d.rXU(d.gRc),d.rXU(d.SKi),d.rXU(p.es),d.rXU(d.aKT),d.rXU(b.dS,8),d.rXU(D.cV,8),d.rXU(D.j4,8),d.rXU(m.xb,8),d.rXU(D.vO,10),d.kS0("tabindex"),d.rXU(fe),d.rXU(g.Ai),d.rXU(Ze,8))};static#t=this.\u0275cmp=d.VBU({type:Ce,selectors:[["mat-select"]],contentQueries:function(me,$e,Et){if(1&me&&(d.wni(Et,lt,5),d.wni(Et,p.wT,5),d.wni(Et,p.QC,5)),2&me){let Ve;d.mGM(Ve=d.lsd())&&($e.customTrigger=Ve.first),d.mGM(Ve=d.lsd())&&($e.options=Ve),d.mGM(Ve=d.lsd())&&($e.optionGroups=Ve)}},viewQuery:function(me,$e){if(1&me&&(d.GBs(U,5),d.GBs($,5),d.GBs(e.WB,5)),2&me){let Et;d.mGM(Et=d.lsd())&&($e.trigger=Et.first),d.mGM(Et=d.lsd())&&($e.panel=Et.first),d.mGM(Et=d.lsd())&&($e._overlayDir=Et.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(me,$e){1&me&&d.bIt("keydown",function(Ve){return $e._handleKeydown(Ve)})("focus",function(){return $e._onFocus()})("blur",function(){return $e._onBlur()}),2&me&&(d.BMQ("id",$e.id)("tabindex",$e.disabled?-1:$e.tabIndex)("aria-controls",$e.panelOpen?$e.id+"-panel":null)("aria-expanded",$e.panelOpen)("aria-label",$e.ariaLabel||null)("aria-required",$e.required.toString())("aria-disabled",$e.disabled.toString())("aria-invalid",$e.errorState)("aria-activedescendant",$e._getAriaActiveDescendant()),d.AVh("mat-mdc-select-disabled",$e.disabled)("mat-mdc-select-invalid",$e.errorState)("mat-mdc-select-required",$e.required)("mat-mdc-select-empty",$e.empty)("mat-mdc-select-multiple",$e.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",d.L39],disableRipple:[2,"disableRipple","disableRipple",d.L39],tabIndex:[2,"tabIndex","tabIndex",ue=>null==ue?0:(0,d.Udg)(ue)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",d.L39],placeholder:"placeholder",required:[2,"required","required",d.L39],multiple:[2,"multiple","multiple",d.L39],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",d.L39],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",d.Udg],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[d.Jv_([{provide:m.qT,useExisting:Ce},{provide:p.is,useExisting:Ce}]),d.GFd,d.OA$,d.aNF],ngContentSelectors:y,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(me,$e){if(1&me){const Et=d.RV6();d.NAR(B),d.j41(0,"div",2,0),d.bIt("click",function(){return d.eBV(Et),d.Njj($e.open())}),d.j41(3,"div",3),d.DNE(4,I,2,1,"span",4)(5,Q,3,1,"span",5),d.k0s(),d.j41(6,"div",6)(7,"div",7),d.qSk(),d.j41(8,"svg",8),d.nrm(9,"path",9),d.k0s()()()(),d.DNE(10,te,3,9,"ng-template",10),d.bIt("backdropClick",function(){return d.eBV(Et),d.Njj($e.close())})("attach",function(){return d.eBV(Et),d.Njj($e._onAttached())})("detach",function(){return d.eBV(Et),d.Njj($e.close())})}if(2&me){const Et=d.sdS(1);d.R7$(3),d.BMQ("id",$e._valueId),d.R7$(),d.vxM($e.empty?4:5),d.R7$(6),d.Y8G("cdkConnectedOverlayPanelClass",$e._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",$e._scrollStrategy)("cdkConnectedOverlayOrigin",$e._preferredOverlayOrigin||Et)("cdkConnectedOverlayOpen",$e.panelOpen)("cdkConnectedOverlayPositions",$e._positions)("cdkConnectedOverlayWidth",$e._overlayWidth)}},dependencies:[e.$Q,e.WB,i.YU],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-app-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-app-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-app-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-app-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-app-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color, var(--mat-app-surface-container))}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-app-on-surface-variant))}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[R.transformPanel]},changeDetection:0})}return Ce})(),vt=(()=>{class Ce{static#e=this.\u0275fac=function(me){return new(me||Ce)};static#t=this.\u0275dir=d.FsC({type:Ce,selectors:[["mat-select-trigger"]],standalone:!0,features:[d.Jv_([{provide:lt,useExisting:Ce}])]})}return Ce})(),ve=(()=>{class Ce{static#e=this.\u0275fac=function(me){return new(me||Ce)};static#t=this.\u0275mod=d.$C({type:Ce});static#n=this.\u0275inj=d.G2t({providers:[Ct],imports:[i.MD,e.z_,p.Sy,p.yE,_.Gj,m.RG,p.Sy,p.yE]})}return Ce})()},450:(Mt,pe,a)=>{"use strict";a.d(pe,{mV:()=>z,sG:()=>E});var e=a(3953),i=a(9417),d=a(9888),p=a(6600);const m=["switch"],_=["*"];function g(G,K){1&G&&(e.j41(0,"span",10),e.qSk(),e.j41(1,"svg",12),e.nrm(2,"path",13),e.k0s(),e.j41(3,"svg",14),e.nrm(4,"path",15),e.k0s()())}const b=new e.nKC("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1,disabledInteractive:!1})}),u={provide:i.kq,useExisting:(0,e.Rfq)(()=>E),multi:!0};class S{constructor(K,F){this.source=K,this.checked=F}}let D=0,E=(()=>{class G{_createChangeEvent(F){return new S(this,F)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(F){this._checked=F,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(F,H,Y,P,U,$){this._elementRef=F,this._focusMonitor=H,this._changeDetectorRef=Y,this.defaults=U,this._onChange=B=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new e.bkB,this.toggleChange=new e.bkB,this.tabIndex=parseInt(P)||0,this.color=U.color||"accent",this._noopAnimations="NoopAnimations"===$,this.id=this._uniqueId="mat-mdc-slide-toggle-"+ ++D,this.hideIcon=U.hideIcon??!1,this.disabledInteractive=U.disabledInteractive??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(F=>{"keyboard"===F||"program"===F?(this._focused=!0,this._changeDetectorRef.markForCheck()):F||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(F){F.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(F){this.checked=!!F}registerOnChange(F){this._onChange=F}registerOnTouched(F){this._onTouched=F}validate(F){return this.required&&!0!==F.value?{required:!0}:null}registerOnValidatorChange(F){this._validatorOnChange=F}setDisabledState(F){this.disabled=F,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.disabled||(this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new S(this,this.checked))))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#e=this.\u0275fac=function(H){return new(H||G)(e.rXU(e.aKT),e.rXU(d.FN),e.rXU(e.gRc),e.kS0("tabindex"),e.rXU(b),e.rXU(e.bc$,8))};static#t=this.\u0275cmp=e.VBU({type:G,selectors:[["mat-slide-toggle"]],viewQuery:function(H,Y){if(1&H&&e.GBs(m,5),2&H){let P;e.mGM(P=e.lsd())&&(Y._switchElement=P.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(H,Y){2&H&&(e.Mr5("id",Y.id),e.BMQ("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),e.HbH(Y.color?"mat-"+Y.color:""),e.AVh("mat-mdc-slide-toggle-focused",Y._focused)("mat-mdc-slide-toggle-checked",Y.checked)("_mat-animation-noopable",Y._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",e.L39],color:"color",disabled:[2,"disabled","disabled",e.L39],disableRipple:[2,"disableRipple","disableRipple",e.L39],tabIndex:[2,"tabIndex","tabIndex",F=>null==F?0:(0,e.Udg)(F)],checked:[2,"checked","checked",e.L39],hideIcon:[2,"hideIcon","hideIcon",e.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",e.L39]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[e.Jv_([u,{provide:i.cz,useExisting:G,multi:!0}]),e.GFd,e.OA$,e.aNF],ngContentSelectors:_,decls:13,vars:27,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(H,Y){if(1&H){const P=e.RV6();e.NAR(),e.j41(0,"div",1)(1,"button",2,0),e.bIt("click",function(){return e.eBV(P),e.Njj(Y._handleClick())}),e.nrm(3,"span",3),e.j41(4,"span",4)(5,"span",5)(6,"span",6),e.nrm(7,"span",7),e.k0s(),e.j41(8,"span",8),e.nrm(9,"span",9),e.k0s(),e.DNE(10,g,5,0,"span",10),e.k0s()()(),e.j41(11,"label",11),e.bIt("click",function($){return e.eBV(P),e.Njj($.stopPropagation())}),e.SdG(12),e.k0s()()}if(2&H){const P=e.sdS(2);e.Y8G("labelPosition",Y.labelPosition),e.R7$(),e.AVh("mdc-switch--selected",Y.checked)("mdc-switch--unselected",!Y.checked)("mdc-switch--checked",Y.checked)("mdc-switch--disabled",Y.disabled)("mat-mdc-slide-toggle-disabled-interactive",Y.disabledInteractive),e.Y8G("tabIndex",Y.disabled&&!Y.disabledInteractive?-1:Y.tabIndex)("disabled",Y.disabled&&!Y.disabledInteractive),e.BMQ("id",Y.buttonId)("name",Y.name)("aria-label",Y.ariaLabel)("aria-labelledby",Y._getAriaLabelledBy())("aria-describedby",Y.ariaDescribedby)("aria-required",Y.required||null)("aria-checked",Y.checked)("aria-disabled",Y.disabled&&Y.disabledInteractive?"true":null),e.R7$(8),e.Y8G("matRippleTrigger",P)("matRippleDisabled",Y.disableRipple||Y.disabled)("matRippleCentered",!0),e.R7$(),e.vxM(Y.hideIcon?-1:10),e.R7$(),e.Y8G("for",Y.buttonId),e.BMQ("id",Y._labelId)}},dependencies:[p.r6,p.tO],styles:['.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--disabled{cursor:default;pointer-events:none}.mdc-switch.mat-mdc-slide-toggle-disabled-interactive{pointer-events:auto}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mdc-switch-track-height);border-radius:var(--mdc-switch-track-shape, var(--mat-app-corner-full))}.mdc-switch--disabled.mdc-switch .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color, var(--mat-app-outline))}.cdk-high-contrast-active .mdc-switch__track::before,.cdk-high-contrast-active .mdc-switch__track::after{border-color:currentColor}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-switch-selected-track-outline-width);border-color:var(--mat-switch-selected-track-outline-color)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color, var(--mat-app-on-surface))}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mdc-switch-unselected-track-color, var(--mat-app-surface-variant))}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, var(--mat-app-surface-variant))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, var(--mat-app-surface-variant))}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, var(--mat-app-surface-variant))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::before,.mdc-switch.mdc-switch--disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, var(--mat-app-surface-variant))}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mdc-switch-selected-track-color, var(--mat-app-primary))}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, var(--mat-app-primary))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, var(--mat-app-primary))}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, var(--mat-app-primary))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::after,.mdc-switch.mdc-switch--disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, var(--mat-app-on-surface))}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mdc-switch-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mdc-switch-handle-width);height:var(--mdc-switch-handle-height);border-radius:var(--mdc-switch-handle-shape, var(--mat-app-corner-full))}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size);margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size);margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle .mdc-switch:active:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}.cdk-high-contrast-active .mdc-switch__handle::before,.cdk-high-contrast-active .mdc-switch__handle::after{border-color:currentColor}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mat-app-on-primary))}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, var(--mat-app-primary-container))}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, var(--mat-app-primary-container))}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, var(--mat-app-primary-container))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:hover:not(:focus):not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:focus:not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:active .mdc-switch__handle::after,.mdc-switch--selected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, var(--mat-app-surface))}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, var(--mat-app-outline))}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, var(--mat-app-on-surface))}.mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__shadow,.mdc-switch.mdc-switch--disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mdc-switch-state-layer-size);height:var(--mdc-switch-state-layer-size)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch--disabled .mdc-switch__ripple::after{display:none}.mat-mdc-slide-toggle-disabled-interactive .mdc-switch__ripple::after{display:block}.mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:focus .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:active .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:hover:not(:focus) .mdc-switch__ripple::after,.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-pressed-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-selected-pressed-state-layer-color, var(--mat-app-primary));opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size);fill:var(--mdc-switch-unselected-icon-color, var(--mat-app-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mat-app-surface-variant))}.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size);fill:var(--mdc-switch-selected-icon-color, var(--mat-app-on-primary-container))}.mdc-switch--selected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mat-app-on-surface))}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{-webkit-user-select:none;user-select:none;display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-switch-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-switch-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-switch-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-switch-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-switch-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-switch-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}'],encapsulation:2,changeDetection:0})}return G})(),z=(()=>{class G{static#e=this.\u0275fac=function(H){return new(H||G)};static#t=this.\u0275mod=e.$C({type:G});static#n=this.\u0275inj=e.G2t({imports:[E,p.yE,p.yE]})}return G})()},3881:(Mt,pe,a)=>{"use strict";a.d(pe,{Ez:()=>te,IV:()=>$,OU:()=>L});var e=a(8203),i=a(6860),d=a(3953),p=a(6600),m=a(9417),_=a(5286);const g=["knob"],b=["valueIndicatorContainer"];function u(R,ee){if(1&R&&(d.j41(0,"div",2,1)(2,"div",5)(3,"span",6),d.EFF(4),d.k0s()()()),2&R){const k=d.XpG();d.R7$(4),d.JRh(k.valueIndicatorText)}}const S=["trackActive"],D=["*"];function E(R,ee){if(1&R&&d.nrm(0,"div"),2&R){const k=ee.$implicit,J=ee.$index,X=d.XpG(3);d.HbH(0===k?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),d.xc7("transform",X._calcTickMarkTransform(J))}}function A(R,ee){if(1&R&&d.Z7z(0,E,1,4,"div",8,d.Vm6),2&R){const k=d.XpG(2);d.Dyx(k._tickMarks)}}function v(R,ee){if(1&R&&(d.j41(0,"div",6,1),d.DNE(2,A,2,0),d.k0s()),2&R){const k=d.XpG();d.R7$(2),d.vxM(k._cachedWidth?2:-1)}}function O(R,ee){if(1&R&&d.nrm(0,"mat-slider-visual-thumb",7),2&R){const k=d.XpG();d.Y8G("discrete",k.discrete)("thumbPosition",1)("valueIndicatorText",k.startValueIndicatorText)}}var z=function(R){return R[R.START=1]="START",R[R.END=2]="END",R}(z||{}),G=function(R){return R[R.ACTIVE=0]="ACTIVE",R[R.INACTIVE=1]="INACTIVE",R}(G||{});const K=new d.nKC("_MatSlider"),F=new d.nKC("_MatSliderThumb"),H=new d.nKC("_MatSliderRangeThumb"),Y=new d.nKC("_MatSliderVisualThumb");let U=(()=>{class R{constructor(k,J,X,fe){this._cdr=k,this._ngZone=J,this._slider=fe,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._platform=(0,d.WQX)(i.OD),this._onPointerMove=Me=>{if(this._sliderInput._isFocused)return;const Ze=this._hostElement.getBoundingClientRect(),Ct=this._slider._isCursorOnSliderThumb(Me,Ze);this._isHovered=Ct,Ct?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=Me=>{0===Me.button&&(this._isActive=!0,this._showActiveRipple())},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef),this._platform.SAFARI&&this._showHoverRipple()},this._hostElement=X.nativeElement}ngAfterViewInit(){this._ripple.radius=24,this._sliderInput=this._slider._getInput(this.thumbPosition),this._sliderInputEl=this._sliderInput._hostElement;const k=this._sliderInputEl;this._ngZone.runOutsideAngular(()=>{k.addEventListener("pointermove",this._onPointerMove),k.addEventListener("pointerdown",this._onDragStart),k.addEventListener("pointerup",this._onDragEnd),k.addEventListener("pointerleave",this._onMouseLeave),k.addEventListener("focus",this._onFocus),k.addEventListener("blur",this._onBlur)})}ngOnDestroy(){const k=this._sliderInputEl;k&&(k.removeEventListener("pointermove",this._onPointerMove),k.removeEventListener("pointerdown",this._onDragStart),k.removeEventListener("pointerup",this._onDragEnd),k.removeEventListener("pointerleave",this._onMouseLeave),k.removeEventListener("focus",this._onFocus),k.removeEventListener("blur",this._onBlur))}_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(k){return k?.state===p.Ex.FADING_IN||k?.state===p.Ex.VISIBLE}_showRipple(k,J){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(this.thumbPosition===z.START?z.END:z.START)._showValueIndicator(),!this._slider._globalRippleOptions?.disabled||J))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:k,centered:!0,persistent:!0})}_hideRipple(k){if(k?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();const J=this._getSibling();J._isShowingAnyRipple()||(this._hideValueIndicator(),J._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(this.thumbPosition===z.START?z.END:z.START)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}static#e=this.\u0275fac=function(J){return new(J||R)(d.rXU(d.gRc),d.rXU(d.SKi),d.rXU(d.aKT),d.rXU(K))};static#t=this.\u0275cmp=d.VBU({type:R,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(J,X){if(1&J&&(d.GBs(p.r6,5),d.GBs(g,5),d.GBs(b,5)),2&J){let fe;d.mGM(fe=d.lsd())&&(X._ripple=fe.first),d.mGM(fe=d.lsd())&&(X._knob=fe.first),d.mGM(fe=d.lsd())&&(X._valueIndicatorContainer=fe.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},standalone:!0,features:[d.Jv_([{provide:Y,useExisting:R}]),d.aNF],decls:4,vars:2,consts:[["knob",""],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator-container"],[1,"mdc-slider__thumb-knob"],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(J,X){1&J&&(d.DNE(0,u,5,1,"div",2),d.nrm(1,"div",3,0)(3,"div",4)),2&J&&(d.vxM(X.discrete?0:-1),d.R7$(3),d.Y8G("matRippleDisabled",!0))},dependencies:[p.r6],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0})}return R})(),$=(()=>{class R{get disabled(){return this._disabled}set disabled(k){this._disabled=k;const J=this._getInput(z.END),X=this._getInput(z.START);J&&(J.disabled=this._disabled),X&&(X.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(k){this._discrete=k,this._updateValueIndicatorUIs()}get min(){return this._min}set min(k){const J=isNaN(k)?this._min:k;this._min!==J&&this._updateMin(J)}_updateMin(k){const J=this._min;this._min=k,this._isRange?this._updateMinRange({old:J,new:k}):this._updateMinNonRange(k),this._onMinMaxOrStepChange()}_updateMinRange(k){const J=this._getInput(z.END),X=this._getInput(z.START),fe=J.value,Me=X.value;X.min=k.new,J.min=Math.max(k.new,X.value),X.max=Math.min(J.max,J.value),X._updateWidthInactive(),J._updateWidthInactive(),k.new<k.old?this._onTranslateXChangeBySideEffect(J,X):this._onTranslateXChangeBySideEffect(X,J),fe!==J.value&&this._onValueChange(J),Me!==X.value&&this._onValueChange(X)}_updateMinNonRange(k){const J=this._getInput(z.END);if(J){const X=J.value;J.min=k,J._updateThumbUIByValue(),this._updateTrackUI(J),X!==J.value&&this._onValueChange(J)}}get max(){return this._max}set max(k){const J=isNaN(k)?this._max:k;this._max!==J&&this._updateMax(J)}_updateMax(k){const J=this._max;this._max=k,this._isRange?this._updateMaxRange({old:J,new:k}):this._updateMaxNonRange(k),this._onMinMaxOrStepChange()}_updateMaxRange(k){const J=this._getInput(z.END),X=this._getInput(z.START),fe=J.value,Me=X.value;J.max=k.new,X.max=Math.min(k.new,J.value),J.min=X.value,J._updateWidthInactive(),X._updateWidthInactive(),k.new>k.old?this._onTranslateXChangeBySideEffect(X,J):this._onTranslateXChangeBySideEffect(J,X),fe!==J.value&&this._onValueChange(J),Me!==X.value&&this._onValueChange(X)}_updateMaxNonRange(k){const J=this._getInput(z.END);if(J){const X=J.value;J.max=k,J._updateThumbUIByValue(),this._updateTrackUI(J),X!==J.value&&this._onValueChange(J)}}get step(){return this._step}set step(k){const J=isNaN(k)?this._step:k;this._step!==J&&this._updateStep(J)}_updateStep(k){this._step=k,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){const k=this._getInput(z.END),J=this._getInput(z.START),X=k.value,fe=J.value,Me=J.value;k.min=this._min,J.max=this._max,k.step=this._step,J.step=this._step,this._platform.SAFARI&&(k.value=k.value,J.value=J.value),k.min=Math.max(this._min,J.value),J.max=Math.min(this._max,k.value),J._updateWidthInactive(),k._updateWidthInactive(),k.value<Me?this._onTranslateXChangeBySideEffect(J,k):this._onTranslateXChangeBySideEffect(k,J),X!==k.value&&this._onValueChange(k),fe!==J.value&&this._onValueChange(J)}_updateStepNonRange(){const k=this._getInput(z.END);if(k){const J=k.value;k.step=this._step,this._platform.SAFARI&&(k.value=k.value),k._updateThumbUIByValue(),J!==k.value&&this._onValueChange(k)}}constructor(k,J,X,fe,Me,Ze){this._ngZone=k,this._cdr=J,this._elementRef=X,this._dir=fe,this._globalRippleOptions=Me,this._disabled=!1,this._discrete=!1,this.showTickMarks=!1,this._min=0,this.disableRipple=!1,this._max=100,this._step=1,this.displayWith=Ct=>`${Ct}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._platform=(0,d.WQX)(i.OD),this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations="NoopAnimations"===Ze,this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl="rtl"===this._dir.value}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();const k=this._getInput(z.END),J=this._getInput(z.START);this._isRange=!!k&&!!J,this._cdr.detectChanges();const X=this._getThumb(z.END);this._rippleRadius=X._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._isRange?this._initUIRange(k,J):this._initUINonRange(k),this._updateTrackUI(k),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(k){k.initProps(),k.initUI(),this._updateValueIndicatorUI(k),this._hasViewInitialized=!0,k._updateThumbUIByValue()}_initUIRange(k,J){k.initProps(),k.initUI(),J.initProps(),J.initUI(),k._updateMinMax(),J._updateMinMax(),k._updateStaticStyles(),J._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,k._updateThumbUIByValue(),J._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl="rtl"===this._dir.value,this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){const k=this._getInput(z.END),J=this._getInput(z.START);k._setIsLeftThumb(),J._setIsLeftThumb(),k.translateX=k._calcTranslateXByValue(),J.translateX=J._calcTranslateXByValue(),k._updateStaticStyles(),J._updateStaticStyles(),k._updateWidthInactive(),J._updateWidthInactive(),k._updateThumbUIByValue(),J._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(z.END)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(z.START)._isActive||this._getThumb(z.END)._isActive}_getValue(k=z.END){const J=this._getInput(k);return J?J.value:this.min}_skipUpdate(){return!(!this._getInput(z.START)?._skipUIUpdate&&!this._getInput(z.END)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(k){const J=this._trackActive.nativeElement.style;J.left=k.left,J.right=k.right,J.transformOrigin=k.transformOrigin,J.transform=k.transform}_calcTickMarkTransform(k){return`translateX(${k*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(k){this._hasViewInitialized&&(this._updateThumbUI(k),this._updateTrackUI(k),this._updateOverlappingThumbUI(k))}_onTranslateXChangeBySideEffect(k,J){this._hasViewInitialized&&(k._updateThumbUIByValue(),J._updateThumbUIByValue())}_onValueChange(k){this._hasViewInitialized&&(this._updateValueIndicatorUI(k),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){const k=this._getInput(z.END),J=this._getInput(z.START);k._updateThumbUIByValue(),J._updateThumbUIByValue(),k._updateStaticStyles(),J._updateStaticStyles(),k._updateMinMax(),J._updateMinMax(),k._updateWidthInactive(),J._updateWidthInactive()}else{const k=this._getInput(z.END);k&&k._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){const k=this._getInput(z.START),J=this._getInput(z.END);return!(!k||!J)&&J.translateX-k.translateX<20}_updateOverlappingThumbClassNames(k){const J=k.getSibling(),X=this._getThumb(k.thumbPosition);this._getThumb(J.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),X._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(k){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(k))}_updateThumbUI(k){this._skipUpdate()||(this._getThumb(k.thumbPosition===z.END?z.END:z.START)._hostElement.style.transform=`translateX(${k.translateX}px)`)}_updateValueIndicatorUI(k){if(this._skipUpdate())return;const J=this.displayWith(k.value);if(this._hasViewInitialized?k._valuetext.set(J):k._hostElement.setAttribute("aria-valuetext",J),this.discrete){k.thumbPosition===z.START?this.startValueIndicatorText=J:this.endValueIndicatorText=J;const X=this._getThumb(k.thumbPosition);J.length<3?X._hostElement.classList.add("mdc-slider__thumb--short-value"):X._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){const k=this._getInput(z.END),J=this._getInput(z.START);k&&this._updateValueIndicatorUI(k),J&&this._updateValueIndicatorUI(J)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;const k=this._step&&this._step>0?this._step:1,X=(Math.floor(this.max/k)*k-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*X-6}_updateTrackUI(k){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(k):this._updateTrackUINonRange(k))}_updateTrackUIRange(k){const J=k.getSibling();if(!J||!this._cachedWidth)return;const X=Math.abs(J.translateX-k.translateX)/this._cachedWidth;this._setTrackActiveStyles(k._isLeftThumb&&this._cachedWidth?{left:"auto",right:this._cachedWidth-J.translateX+"px",transformOrigin:"right",transform:`scaleX(${X})`}:{left:`${J.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${X})`})}_updateTrackUINonRange(k){this._setTrackActiveStyles(this._isRtl?{left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-k.fillPercentage})`}:{left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${k.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||void 0===this.step||void 0===this.min||void 0===this.max)return;const k=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(k):this._updateTickMarkUINonRange(k),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(k){const J=this._getValue();let X=Math.max(Math.round((J-this.min)/k),0),fe=Math.max(Math.round((this.max-J)/k),0);this._isRtl?X++:fe++,this._tickMarks=Array(X).fill(G.ACTIVE).concat(Array(fe).fill(G.INACTIVE))}_updateTickMarkUIRange(k){const J=this._getValue(),X=this._getValue(z.START),fe=Math.max(Math.round((X-this.min)/k),0),Me=Math.max(Math.round((J-X)/k)+1,0),Ze=Math.max(Math.round((this.max-J)/k),0);this._tickMarks=Array(fe).fill(G.INACTIVE).concat(Array(Me).fill(G.ACTIVE),Array(Ze).fill(G.INACTIVE))}_getInput(k){return k===z.END&&this._input?this._input:this._inputs?.length?k===z.START?this._inputs.first:this._inputs.last:void 0}_getThumb(k){return k===z.END?this._thumbs?.last:this._thumbs?.first}_setTransition(k){this._hasAnimation=!this._platform.IOS&&k&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}_isCursorOnSliderThumb(k,J){const X=J.width/2,Ct=k.clientY-(J.y+X);return Math.pow(k.clientX-(J.x+X),2)+Math.pow(Ct,2)<Math.pow(X,2)}static#e=this.\u0275fac=function(J){return new(J||R)(d.rXU(d.SKi),d.rXU(d.gRc),d.rXU(d.aKT),d.rXU(e.dS,8),d.rXU(p.$E,8),d.rXU(d.bc$,8))};static#t=this.\u0275cmp=d.VBU({type:R,selectors:[["mat-slider"]],contentQueries:function(J,X,fe){if(1&J&&(d.wni(fe,F,5),d.wni(fe,H,4)),2&J){let Me;d.mGM(Me=d.lsd())&&(X._input=Me.first),d.mGM(Me=d.lsd())&&(X._inputs=Me)}},viewQuery:function(J,X){if(1&J&&(d.GBs(S,5),d.GBs(Y,5)),2&J){let fe;d.mGM(fe=d.lsd())&&(X._trackActive=fe.first),d.mGM(fe=d.lsd())&&(X._thumbs=fe)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:12,hostBindings:function(J,X){2&J&&(d.HbH("mat-"+(X.color||"primary")),d.AVh("mdc-slider--range",X._isRange)("mdc-slider--disabled",X.disabled)("mdc-slider--discrete",X.discrete)("mdc-slider--tick-marks",X.showTickMarks)("_mat-animation-noopable",X._noopAnimations))},inputs:{disabled:[2,"disabled","disabled",d.L39],discrete:[2,"discrete","discrete",d.L39],showTickMarks:[2,"showTickMarks","showTickMarks",d.L39],min:[2,"min","min",d.Udg],color:"color",disableRipple:[2,"disableRipple","disableRipple",d.L39],max:[2,"max","max",d.Udg],step:[2,"step","step",d.Udg],displayWith:"displayWith"},exportAs:["matSlider"],standalone:!0,features:[d.Jv_([{provide:K,useExisting:R}]),d.GFd,d.aNF],ngContentSelectors:D,decls:9,vars:5,consts:[["trackActive",""],["tickMarkContainer",""],[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],[1,"mdc-slider__tick-marks"],[3,"discrete","thumbPosition","valueIndicatorText"],[3,"class","transform"]],template:function(J,X){1&J&&(d.NAR(),d.SdG(0),d.j41(1,"div",2),d.nrm(2,"div",3),d.j41(3,"div",4),d.nrm(4,"div",5,0),d.k0s(),d.DNE(6,v,3,1,"div",6),d.k0s(),d.DNE(7,O,1,3,"mat-slider-visual-thumb",7),d.nrm(8,"mat-slider-visual-thumb",7)),2&J&&(d.R7$(6),d.vxM(X.showTickMarks?6:-1),d.R7$(),d.vxM(X._isRange?7:-1),d.R7$(),d.Y8G("discrete",X.discrete)("thumbPosition",2)("valueIndicatorText",X.endValueIndicatorText))},dependencies:[U],styles:['.mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%;pointer-events:none;height:var(--mdc-slider-inactive-track-height)}.mdc-slider__track--active,.mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider__track--active{overflow:hidden;border-radius:var(--mdc-slider-active-track-shape, var(--mat-app-corner-full));height:var(--mdc-slider-active-track-height);top:calc((var(--mdc-slider-inactive-track-height) - var(--mdc-slider-active-track-height))/2)}.mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;transform-origin:left;transition:transform 80ms ease;border-color:var(--mdc-slider-active-track-color, var(--mat-app-primary));border-top-width:var(--mdc-slider-active-track-height)}.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color, var(--mat-app-on-surface))}[dir=rtl] .mdc-slider__track--active_fill{-webkit-transform-origin:right;transform-origin:right}.mdc-slider__track--inactive{left:0;top:0;opacity:.24;background-color:var(--mdc-slider-inactive-track-color, var(--mat-app-surface-variant));height:var(--mdc-slider-inactive-track-height);border-radius:var(--mdc-slider-inactive-track-shape, var(--mat-app-corner-full))}.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color, var(--mat-app-on-surface));opacity:.24}.mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-slider__track--inactive::before{border-color:CanvasText}.mdc-slider__value-indicator-container{bottom:44px;left:50%;pointer-events:none;position:absolute;transform:translateX(-50%);transform:var(--mat-slider-value-indicator-container-transform)}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider__value-indicator{display:flex;align-items:center;border-radius:4px;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom;opacity:1;transition:transform 100ms cubic-bezier(0.4, 0, 1, 1);word-break:normal;background-color:var(--mdc-slider-label-container-color, var(--mat-app-primary));color:var(--mdc-slider-label-label-text-color, var(--mat-app-on-primary));width:var(--mat-slider-value-indicator-width);height:var(--mat-slider-value-indicator-height);padding:var(--mat-slider-value-indicator-padding);opacity:var(--mat-slider-value-indicator-opacity);border-radius:var(--mat-slider-value-indicator-border-radius)}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}.mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:50%;position:absolute;transform:translateX(-50%);width:0;display:var(--mat-slider-value-indicator-caret-display);border-top-color:var(--mdc-slider-label-container-color, var(--mat-app-primary))}.mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-slider__value-indicator::after{border-color:CanvasText}.mdc-slider__value-indicator-text{text-align:center;width:var(--mat-slider-value-indicator-width);transform:var(--mat-slider-value-indicator-text-transform);font-family:var(--mdc-slider-label-label-text-font, var(--mat-app-label-medium-font));font-size:var(--mdc-slider-label-label-text-size, var(--mat-app-label-medium-size));font-weight:var(--mdc-slider-label-label-text-weight, var(--mat-app-label-medium-weight));line-height:var(--mdc-slider-label-label-text-line-height, var(--mat-app-label-medium-line-height));letter-spacing:var(--mdc-slider-label-label-text-tracking, var(--mat-app-label-medium-tracking))}.mdc-slider__thumb{-webkit-user-select:none;user-select:none;display:flex;left:-24px;outline:none;position:absolute;height:48px;width:48px;pointer-events:none}.mdc-slider--discrete .mdc-slider__thumb{transition:transform 80ms ease}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__thumb--top{z-index:1}.mdc-slider__thumb-knob{position:absolute;box-sizing:border-box;left:50%;top:50%;transform:translate(-50%, -50%);border-style:solid;width:var(--mdc-slider-handle-width);height:var(--mdc-slider-handle-height);border-width:calc(var(--mdc-slider-handle-height)/2) calc(var(--mdc-slider-handle-width)/2);box-shadow:var(--mdc-slider-handle-elevation, var(--mat-app-level1));background-color:var(--mdc-slider-handle-color, var(--mat-app-primary));border-color:var(--mdc-slider-handle-color, var(--mat-app-primary));border-radius:var(--mdc-slider-handle-shape, var(--mat-app-corner-full))}.mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color, var(--mat-app-primary));border-color:var(--mdc-slider-hover-handle-color, var(--mat-app-primary))}.mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color, var(--mat-app-primary));border-color:var(--mdc-slider-focus-handle-color, var(--mat-app-primary))}.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color, var(--mat-app-on-surface));border-color:var(--mdc-slider-disabled-handle-color, var(--mat-app-on-surface))}.mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border:solid 1px #fff;box-sizing:content-box;border-color:var(--mdc-slider-with-overlap-handle-outline-color, var(--mat-app-on-primary));border-width:var(--mdc-slider-with-overlap-handle-outline-width)}.mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider__tick-mark--active,.mdc-slider__tick-mark--inactive{width:var(--mdc-slider-with-tick-marks-container-size);height:var(--mdc-slider-with-tick-marks-container-size);border-radius:var(--mdc-slider-with-tick-marks-container-shape, var(--mat-app-corner-full))}.mdc-slider__tick-mark--inactive{opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity);background-color:var(--mdc-slider-with-tick-marks-inactive-container-color, var(--mat-app-on-surface-variant))}.mdc-slider--disabled .mdc-slider__tick-mark--inactive{opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity);background-color:var(--mdc-slider-with-tick-marks-disabled-container-color, var(--mat-app-on-surface))}.mdc-slider__tick-mark--active{opacity:var(--mdc-slider-with-tick-marks-active-container-opacity);background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mat-app-on-primary))}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;position:absolute;top:2px;width:44px;box-sizing:content-box}.mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;cursor:pointer;height:48px;margin:0 8px;position:relative;touch-action:pan-y;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider.mdc-slider--disabled{cursor:auto;opacity:.38}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-slider-ripple-color, var(--mat-app-primary))}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-slider-hover-state-layer-color)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-slider-focus-state-layer-color)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return R})();const I={provide:m.kq,useExisting:(0,d.Rfq)(()=>L),multi:!0};let L=(()=>{class R{get value(){return(0,d.Udg)(this._hostElement.value,0)}set value(k){const J=(k=isNaN(k)?0:k)+"";this._hasSetInitialValue?this._isActive||this._setValue(J):this._initialValue=J}_setValue(k){this._hostElement.value=k,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=this._tickMarkOffset,this._translateX):(void 0===this._translateX&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(k){this._translateX=k}get min(){return(0,d.Udg)(this._hostElement.min,0)}set min(k){this._hostElement.min=k+"",this._cdr.detectChanges()}get max(){return(0,d.Udg)(this._hostElement.max,0)}set max(k){this._hostElement.max=k+"",this._cdr.detectChanges()}get step(){return(0,d.Udg)(this._hostElement.step,0)}set step(k){this._hostElement.step=k+"",this._cdr.detectChanges()}get disabled(){return(0,d.L39)(this._hostElement.disabled)}set disabled(k){this._hostElement.disabled=k,this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?0===this._translateX?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(k){this._isFocused=k}constructor(k,J,X,fe){this._ngZone=k,this._elementRef=J,this._cdr=X,this._slider=fe,this.valueChange=new d.bkB,this.dragStart=new d.bkB,this.dragEnd=new d.bkB,this.thumbPosition=z.END,this._valuetext=(0,d.vPA)(""),this._knobRadius=8,this._tickMarkOffset=3,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new _.B7,this._skipUIUpdate=!1,this._onTouchedFn=()=>{},this._isControlInitialized=!1,this._platform=(0,d.WQX)(i.OD),this._hostElement=J.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,void 0===this._initialValue?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._slider._setTransition(!1),this._slider._updateTrackUI(this),this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn?.(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(k){if(!this.disabled&&0===k.button){if(this._platform.IOS){const J=this._slider._isCursorOnSliderThumb(k,this._slider._getThumb(this.thumbPosition)._hostElement.getBoundingClientRect());return this._isActive=J,this._updateWidthActive(),void this._slider._updateDimensions()}this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(k,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(k),this.dragStart.emit({source:this,parent:this._slider,value:this.value}))}}_handleValueCorrection(k){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(k)},0)}_fixValue(k){const J=k.clientX-this._slider._cachedLeft,X=this._slider._cachedWidth,fe=0===this._slider.step?1:this._slider.step,Me=Math.floor((this._slider.max-this._slider.min)/fe),lt=Math.round((this._slider._isRtl?1-J/X:J/X)*Me)/Me*(this._slider.max-this._slider.min)+this._slider.min,Ot=Math.round(lt/fe)*fe;if(Ot===this.value)return this._slider._onValueChange(this),void(this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(k,{withAnimation:this._slider._hasAnimation}));this.value=Ot,this.valueChange.emit(this.value),this._onChangeFn?.(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(k,{withAnimation:this._slider._hasAnimation})}_onPointerMove(k){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(k)}_onPointerUp(){this._isActive&&(this._isActive=!1,this._platform.SAFARI&&this._setIsFocused(!1),this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive(),this._platform.IOS?10:0))}_clamp(k){const J=this._tickMarkOffset;return Math.max(Math.min(k,this._slider._cachedWidth-this._tickMarkOffset),J)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*(this._slider._cachedWidth-2*this._tickMarkOffset)+this._tickMarkOffset:this.percentage*(this._slider._cachedWidth-2*this._tickMarkOffset)+this._tickMarkOffset}_calcTranslateXByPointerEvent(k){return k.clientX-this._slider._cachedLeft}_updateWidthActive(){}_updateWidthInactive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding-2*this._tickMarkOffset}px)`,this._hostElement.style.left=`-${this._slider._rippleRadius-this._tickMarkOffset}px`}_updateThumbUIByValue(k){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(k)}_updateThumbUIByPointerEvent(k,J){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(k)),this._updateThumbUI(J)}_updateThumbUI(k){this._slider._setTransition(!!k?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(k){(this._isControlInitialized||null!==k)&&(this.value=k)}registerOnChange(k){this._onChangeFn=k,this._isControlInitialized=!0}registerOnTouched(k){this._onTouchedFn=k}setDisabledState(k){this.disabled=k}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}static#e=this.\u0275fac=function(J){return new(J||R)(d.rXU(d.SKi),d.rXU(d.aKT),d.rXU(d.gRc),d.rXU(K))};static#t=this.\u0275dir=d.FsC({type:R,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(J,X){1&J&&d.bIt("change",function(){return X._onChange()})("input",function(){return X._onInput()})("blur",function(){return X._onBlur()})("focus",function(){return X._onFocus()}),2&J&&d.BMQ("aria-valuetext",X._valuetext())},inputs:{value:[2,"value","value",d.Udg]},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],standalone:!0,features:[d.Jv_([I,{provide:F,useExisting:R}]),d.GFd]})}return R})(),te=(()=>{class R{static#e=this.\u0275fac=function(J){return new(J||R)};static#t=this.\u0275mod=d.$C({type:R});static#n=this.\u0275inj=d.G2t({imports:[p.yE,p.pZ]})}return R})()},2042:(Mt,pe,a)=>{"use strict";a.d(pe,{B4:()=>G,NQ:()=>B,aE:()=>$});var e=a(3953),i=a(9888),d=a(7336),p=a(6607),m=a(5286),_=a(4670),g=a(9969),b=a(6600);const u=["mat-sort-header",""],S=["*"];function D(y,I){if(1&y){const w=e.RV6();e.j41(0,"div",2),e.bIt("@arrowPosition.start",function(){e.eBV(w);const Q=e.XpG();return e.Njj(Q._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){e.eBV(w);const Q=e.XpG();return e.Njj(Q._disableViewStateAnimation=!1)}),e.nrm(1,"div",3),e.j41(2,"div",4),e.nrm(3,"div",5)(4,"div",6)(5,"div",7),e.k0s()()}if(2&y){const w=e.XpG();e.Y8G("@arrowOpacity",w._getArrowViewState())("@arrowPosition",w._getArrowViewState())("@allowChildren",w._getArrowDirectionState()),e.R7$(2),e.Y8G("@indicator",w._getArrowDirectionState()),e.R7$(),e.Y8G("@leftPointer",w._getArrowDirectionState()),e.R7$(),e.Y8G("@rightPointer",w._getArrowDirectionState())}}const z=new e.nKC("MAT_SORT_DEFAULT_OPTIONS");let G=(()=>{class y{get direction(){return this._direction}set direction(w){this._direction=w}constructor(w){this._defaultOptions=w,this._initializedStream=new p.m(1),this.sortables=new Map,this._stateChanges=new m.B7,this.start="asc",this._direction="",this.disabled=!1,this.sortChange=new e.bkB,this.initialized=this._initializedStream}register(w){this.sortables.set(w.id,w)}deregister(w){this.sortables.delete(w.id)}sort(w){this.active!=w.id?(this.active=w.id,this.direction=w.start?w.start:this.start):this.direction=this.getNextSortDirection(w),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(w){if(!w)return"";let Q=function K(y,I){let w=["asc","desc"];return"desc"==y&&w.reverse(),I||w.push(""),w}(w.start||this.start,w?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),te=Q.indexOf(this.direction)+1;return te>=Q.length&&(te=0),Q[te]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static#e=this.\u0275fac=function(L){return new(L||y)(e.rXU(z,8))};static#t=this.\u0275dir=e.FsC({type:y,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",e.L39],disabled:[2,"matSortDisabled","disabled",e.L39]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],standalone:!0,features:[e.GFd,e.OA$]})}return y})();const F=b.ed.ENTERING+" "+b.r5.STANDARD_CURVE,H={indicator:(0,g.hZ)("indicator",[(0,g.wk)("active-asc, asc",(0,g.iF)({transform:"translateY(0px)"})),(0,g.wk)("active-desc, desc",(0,g.iF)({transform:"translateY(10px)"})),(0,g.kY)("active-asc <=> active-desc",(0,g.i0)(F))]),leftPointer:(0,g.hZ)("leftPointer",[(0,g.wk)("active-asc, asc",(0,g.iF)({transform:"rotate(-45deg)"})),(0,g.wk)("active-desc, desc",(0,g.iF)({transform:"rotate(45deg)"})),(0,g.kY)("active-asc <=> active-desc",(0,g.i0)(F))]),rightPointer:(0,g.hZ)("rightPointer",[(0,g.wk)("active-asc, asc",(0,g.iF)({transform:"rotate(45deg)"})),(0,g.wk)("active-desc, desc",(0,g.iF)({transform:"rotate(-45deg)"})),(0,g.kY)("active-asc <=> active-desc",(0,g.i0)(F))]),arrowOpacity:(0,g.hZ)("arrowOpacity",[(0,g.wk)("desc-to-active, asc-to-active, active",(0,g.iF)({opacity:1})),(0,g.wk)("desc-to-hint, asc-to-hint, hint",(0,g.iF)({opacity:.54})),(0,g.wk)("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",(0,g.iF)({opacity:0})),(0,g.kY)("* => asc, * => desc, * => active, * => hint, * => void",(0,g.i0)("0ms")),(0,g.kY)("* <=> *",(0,g.i0)(F))]),arrowPosition:(0,g.hZ)("arrowPosition",[(0,g.kY)("* => desc-to-hint, * => desc-to-active",(0,g.i0)(F,(0,g.i7)([(0,g.iF)({transform:"translateY(-25%)"}),(0,g.iF)({transform:"translateY(0)"})]))),(0,g.kY)("* => hint-to-desc, * => active-to-desc",(0,g.i0)(F,(0,g.i7)([(0,g.iF)({transform:"translateY(0)"}),(0,g.iF)({transform:"translateY(25%)"})]))),(0,g.kY)("* => asc-to-hint, * => asc-to-active",(0,g.i0)(F,(0,g.i7)([(0,g.iF)({transform:"translateY(25%)"}),(0,g.iF)({transform:"translateY(0)"})]))),(0,g.kY)("* => hint-to-asc, * => active-to-asc",(0,g.i0)(F,(0,g.i7)([(0,g.iF)({transform:"translateY(0)"}),(0,g.iF)({transform:"translateY(-25%)"})]))),(0,g.wk)("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",(0,g.iF)({transform:"translateY(0)"})),(0,g.wk)("hint-to-desc, active-to-desc, desc",(0,g.iF)({transform:"translateY(-25%)"})),(0,g.wk)("hint-to-asc, active-to-asc, asc",(0,g.iF)({transform:"translateY(25%)"}))]),allowChildren:(0,g.hZ)("allowChildren",[(0,g.kY)("* <=> *",[(0,g.P)("@*",(0,g.MA)(),{optional:!0})])])};let Y=(()=>{class y{constructor(){this.changes=new m.B7}static#e=this.\u0275fac=function(L){return new(L||y)};static#t=this.\u0275prov=e.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}return y})();const U={provide:Y,deps:[[new e.Xx1,new e.kdw,Y]],useFactory:function P(y){return y||new Y}};let $=(()=>{class y{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(w){this._updateSortActionDescription(w)}constructor(w,L,Q,te,R,ee,k,J){this._intl=w,this._changeDetectorRef=L,this._sort=Q,this._columnDef=te,this._focusMonitor=R,this._elementRef=ee,this._ariaDescriber=k,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this.disabled=!1,this._sortActionDescription="Sort",J?.arrowPosition&&(this.arrowPosition=J?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(w=>{const L=!!w;L!==this._showIndicatorHint&&(this._setIndicatorHintVisible(L),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe(),this._sortButton&&this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription)}_setIndicatorHintVisible(w){this._isDisabled()&&w||(this._showIndicatorHint=w,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(w){this._viewState=w||{},this._disableViewStateAnimation&&(this._viewState={toState:w.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(w){!this._isDisabled()&&(w.keyCode===d.t6||w.keyCode===d.Fm)&&(w.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const w=this._viewState.fromState;return(w?`${w}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(w){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,w)),this._sortActionDescription=w}_handleStateChanges(){this._rerenderSubscription=(0,_.h)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(L){return new(L||y)(e.rXU(Y),e.rXU(e.gRc),e.rXU(G,8),e.rXU("MAT_SORT_HEADER_COLUMN_DEF",8),e.rXU(i.FN),e.rXU(e.aKT),e.rXU(i.vr,8),e.rXU(z,8))};static#t=this.\u0275cmp=e.VBU({type:y,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(L,Q){1&L&&e.bIt("click",function(){return Q._handleClick()})("keydown",function(R){return Q._handleKeydown(R)})("mouseenter",function(){return Q._setIndicatorHintVisible(!0)})("mouseleave",function(){return Q._setIndicatorHintVisible(!1)}),2&L&&(e.BMQ("aria-sort",Q._getAriaSortAttribute()),e.AVh("mat-sort-header-disabled",Q._isDisabled()))},inputs:{id:[0,"mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",disabled:[2,"disabled","disabled",e.L39],sortActionDescription:"sortActionDescription",disableClear:[2,"disableClear","disableClear",e.L39]},exportAs:["matSortHeader"],standalone:!0,features:[e.GFd,e.aNF],attrs:u,ngContentSelectors:S,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(L,Q){1&L&&(e.NAR(),e.j41(0,"div",0)(1,"div",1),e.SdG(2),e.k0s(),e.DNE(3,D,6,6,"div",2),e.k0s()),2&L&&(e.AVh("mat-sort-header-sorted",Q._isSorted())("mat-sort-header-position-before","before"===Q.arrowPosition),e.BMQ("tabindex",Q._isDisabled()?null:0)("role",Q._isDisabled()?null:"button"),e.R7$(3),e.vxM(Q._renderArrow()?3:-1))},styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;color:var(--mat-sort-arrow-color, var(--mat-app-on-surface));opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[H.indicator,H.leftPointer,H.rightPointer,H.arrowOpacity,H.arrowPosition,H.allowChildren]},changeDetection:0})}return y})(),B=(()=>{class y{static#e=this.\u0275fac=function(L){return new(L||y)};static#t=this.\u0275mod=e.$C({type:y});static#n=this.\u0275inj=e.G2t({providers:[U],imports:[b.yE]})}return y})()},6450:(Mt,pe,a)=>{"use strict";a.d(pe,{I6:()=>Ct,tP:()=>Me});var e=a(3953),i=a(5887),d=a(5024),p=a(6600),m=a(9928),_=a(5286),g=a(4670),b=a(4421),u=a(9714),S=a(4085),D=a(5006);let Me=(()=>{class lt{static#e=this.\u0275fac=function(vt){return new(vt||lt)};static#t=this.\u0275mod=e.$C({type:lt});static#n=this.\u0275inj=e.G2t({imports:[p.yE,i.N0,p.yE]})}return lt})();class Ct extends d.qS{get data(){return this._data.value}set data(Ot){Ot=Array.isArray(Ot)?Ot:[],this._data.next(Ot),this._renderChangesSubscription||this._filterData(Ot)}get filter(){return this._filter.value}set filter(Ot){this._filter.next(Ot),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(Ot){this._sort=Ot,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(Ot){this._paginator=Ot,this._updateChangeSubscription()}constructor(Ot=[]){super(),this._renderData=new m.t([]),this._filter=new m.t(""),this._internalPageChanges=new _.B7,this._renderChangesSubscription=null,this.sortingDataAccessor=(rt,vt)=>{const ve=rt[vt];if((0,S.o1)(ve)){const Ce=Number(ve);return Ce<9007199254740991?Ce:ve}return ve},this.sortData=(rt,vt)=>{const ve=vt.active,Ce=vt.direction;return ve&&""!=Ce?rt.sort((be,ue)=>{let me=this.sortingDataAccessor(be,ve),$e=this.sortingDataAccessor(ue,ve);const Et=typeof me,Ve=typeof $e;Et!==Ve&&("number"===Et&&(me+=""),"number"===Ve&&($e+=""));let st=0;return null!=me&&null!=$e?me>$e?st=1:me<$e&&(st=-1):null!=me?st=1:null!=$e&&(st=-1),st*("asc"==Ce?1:-1)}):rt},this.filterPredicate=(rt,vt)=>{const ve=Object.keys(rt).reduce((be,ue)=>be+rt[ue]+"\u25ec","").toLowerCase(),Ce=vt.trim().toLowerCase();return-1!=ve.indexOf(Ce)},this._data=new m.t(Ot),this._updateChangeSubscription()}_updateChangeSubscription(){const Ot=this._sort?(0,g.h)(this._sort.sortChange,this._sort.initialized):(0,b.of)(null),rt=this._paginator?(0,g.h)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,b.of)(null),ve=(0,u.zV)([this._data,this._filter]).pipe((0,D.T)(([ue])=>this._filterData(ue))),Ce=(0,u.zV)([ve,Ot]).pipe((0,D.T)(([ue])=>this._orderData(ue))),be=(0,u.zV)([Ce,rt]).pipe((0,D.T)(([ue])=>this._pageData(ue)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=be.subscribe(ue=>this._renderData.next(ue))}_filterData(Ot){return this.filteredData=null==this.filter||""===this.filter?Ot:Ot.filter(rt=>this.filterPredicate(rt,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(Ot){return this.sort?this.sortData(Ot.slice(),this.sort):Ot}_pageData(Ot){if(!this.paginator)return Ot;const rt=this.paginator.pageIndex*this.paginator.pageSize;return Ot.slice(rt,rt+this.paginator.pageSize)}_updatePaginator(Ot){Promise.resolve().then(()=>{const rt=this.paginator;if(rt&&(rt.length=Ot,rt.pageIndex>0)){const vt=Math.ceil(rt.length/rt.pageSize)-1||0,ve=Math.min(rt.pageIndex,vt);ve!==rt.pageIndex&&(rt.pageIndex=ve,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}},4823:(Mt,pe,a)=>{"use strict";a.d(pe,{oV:()=>Q,uc:()=>ee});var e=a(7605),i=a(4085),d=a(7336),p=a(3953),m=a(177),_=a(6860),g=a(9888),b=a(8203),u=a(7987),S=a(3701),D=a(6939),E=a(5286),v=(a(9969),a(6600));const O=["tooltip"],K=new p.nKC("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const k=(0,p.WQX)(u.hJ);return()=>k.scrollStrategies.reposition({scrollThrottle:20})}}),H={provide:K,deps:[u.hJ],useFactory:function F(k){return()=>k.scrollStrategies.reposition({scrollThrottle:20})}},P=new p.nKC("mat-tooltip-default-options",{providedIn:"root",factory:function Y(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),$="tooltip-panel",B=(0,_.BQ)({passive:!0});let Q=(()=>{class k{get position(){return this._position}set position(X){X!==this._position&&(this._position=X,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(X){this._positionAtOrigin=(0,i.he)(X),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(X){const fe=(0,i.he)(X);this._disabled!==fe&&(this._disabled=fe,fe?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(X){this._showDelay=(0,i.OE)(X)}get hideDelay(){return this._hideDelay}set hideDelay(X){this._hideDelay=(0,i.OE)(X),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(X){const fe=this._message;this._message=null!=X?String(X).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(fe)}get tooltipClass(){return this._tooltipClass}set tooltipClass(X){this._tooltipClass=X,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(X,fe,Me,Ze,Ct,lt,Ot,rt,vt,ve,Ce,be){this._overlay=X,this._elementRef=fe,this._scrollDispatcher=Me,this._viewContainerRef=Ze,this._ngZone=Ct,this._platform=lt,this._ariaDescriber=Ot,this._focusMonitor=rt,this._dir=ve,this._defaultOptions=Ce,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=te,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._touchstartTimeout=null,this._destroyed=new E.B7,this._injector=(0,p.WQX)(p.zZn),this._scrollStrategy=vt,this._document=be,Ce&&(this._showDelay=Ce.showDelay,this._hideDelay=Ce.hideDelay,Ce.position&&(this.position=Ce.position),Ce.positionAtOrigin&&(this.positionAtOrigin=Ce.positionAtOrigin),Ce.touchGestures&&(this.touchGestures=Ce.touchGestures),Ce.tooltipClass&&(this.tooltipClass=Ce.tooltipClass)),ve.change.pipe((0,e.Q)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,e.Q)(this._destroyed)).subscribe(X=>{X?"keyboard"===X&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const X=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([fe,Me])=>{X.removeEventListener(fe,Me,B)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(X,this.message,"tooltip"),this._focusMonitor.stopMonitoring(X)}show(X=this.showDelay,fe){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const Me=this._createOverlay(fe);this._detach(),this._portal=this._portal||new D.A8(this._tooltipComponent,this._viewContainerRef);const Ze=this._tooltipInstance=Me.attach(this._portal).instance;Ze._triggerElement=this._elementRef.nativeElement,Ze._mouseLeaveHideDelay=this._hideDelay,Ze.afterHidden().pipe((0,e.Q)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),Ze.show(X)}hide(X=this.hideDelay){const fe=this._tooltipInstance;fe&&(fe.isVisible()?fe.hide(X):(fe._cancelPendingAnimations(),this._detach()))}toggle(X){this._isTooltipVisible()?this.hide():this.show(void 0,X)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(X){if(this._overlayRef){const Ze=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!X)&&Ze._origin instanceof p.aKT)return this._overlayRef;this._detach()}const fe=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),Me=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&X||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(fe);return Me.positionChanges.pipe((0,e.Q)(this._destroyed)).subscribe(Ze=>{this._updateCurrentPositionClass(Ze.connectionPair),this._tooltipInstance&&Ze.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:Me,panelClass:`${this._cssClassPrefix}-${$}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,e.Q)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,e.Q)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,e.Q)(this._destroyed)).subscribe(Ze=>{this._isTooltipVisible()&&Ze.keyCode===d._f&&!(0,d.rp)(Ze)&&(Ze.preventDefault(),Ze.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(X){const fe=X.getConfig().positionStrategy,Me=this._getOrigin(),Ze=this._getOverlayPosition();fe.withPositions([this._addOffset({...Me.main,...Ze.main}),this._addOffset({...Me.fallback,...Ze.fallback})])}_addOffset(X){const Me=!this._dir||"ltr"==this._dir.value;return"top"===X.originY?X.offsetY=-8:"bottom"===X.originY?X.offsetY=8:"start"===X.originX?X.offsetX=Me?-8:8:"end"===X.originX&&(X.offsetX=Me?8:-8),X}_getOrigin(){const X=!this._dir||"ltr"==this._dir.value,fe=this.position;let Me;"above"==fe||"below"==fe?Me={originX:"center",originY:"above"==fe?"top":"bottom"}:"before"==fe||"left"==fe&&X||"right"==fe&&!X?Me={originX:"start",originY:"center"}:("after"==fe||"right"==fe&&X||"left"==fe&&!X)&&(Me={originX:"end",originY:"center"});const{x:Ze,y:Ct}=this._invertPosition(Me.originX,Me.originY);return{main:Me,fallback:{originX:Ze,originY:Ct}}}_getOverlayPosition(){const X=!this._dir||"ltr"==this._dir.value,fe=this.position;let Me;"above"==fe?Me={overlayX:"center",overlayY:"bottom"}:"below"==fe?Me={overlayX:"center",overlayY:"top"}:"before"==fe||"left"==fe&&X||"right"==fe&&!X?Me={overlayX:"end",overlayY:"center"}:("after"==fe||"right"==fe&&X||"left"==fe&&!X)&&(Me={overlayX:"start",overlayY:"center"});const{x:Ze,y:Ct}=this._invertPosition(Me.overlayX,Me.overlayY);return{main:Me,fallback:{overlayX:Ze,overlayY:Ct}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),(0,p.mal)(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(X){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=X,this._tooltipInstance._markForCheck())}_invertPosition(X,fe){return"above"===this.position||"below"===this.position?"top"===fe?fe="bottom":"bottom"===fe&&(fe="top"):"end"===X?X="start":"start"===X&&(X="end"),{x:X,y:fe}}_updateCurrentPositionClass(X){const{overlayY:fe,originX:Me,originY:Ze}=X;let Ct;if(Ct="center"===fe?this._dir&&"rtl"===this._dir.value?"end"===Me?"left":"right":"start"===Me?"left":"right":"bottom"===fe&&"top"===Ze?"above":"below",Ct!==this._currentPosition){const lt=this._overlayRef;if(lt){const Ot=`${this._cssClassPrefix}-${$}-`;lt.removePanelClass(Ot+this._currentPosition),lt.addPanelClass(Ot+Ct)}this._currentPosition=Ct}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",X=>{let fe;this._setupPointerExitEventsIfNeeded(),void 0!==X.x&&void 0!==X.y&&(fe=X),this.show(void 0,fe)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",X=>{const fe=X.targetTouches?.[0],Me=fe?{x:fe.clientX,y:fe.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,Me)},this._defaultOptions.touchLongPressShowDelay??500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const X=[];if(this._platformSupportsMouseEvents())X.push(["mouseleave",fe=>{const Me=fe.relatedTarget;(!Me||!this._overlayRef?.overlayElement.contains(Me))&&this.hide()}],["wheel",fe=>this._wheelListener(fe)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const fe=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};X.push(["touchend",fe],["touchcancel",fe])}this._addListeners(X),this._passiveListeners.push(...X)}_addListeners(X){X.forEach(([fe,Me])=>{this._elementRef.nativeElement.addEventListener(fe,Me,B)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(X){if(this._isTooltipVisible()){const fe=this._document.elementFromPoint(X.clientX,X.clientY),Me=this._elementRef.nativeElement;fe!==Me&&!Me.contains(fe)&&this.hide()}}_disableNativeGesturesIfNecessary(){const X=this.touchGestures;if("off"!==X){const fe=this._elementRef.nativeElement,Me=fe.style;("on"===X||"INPUT"!==fe.nodeName&&"TEXTAREA"!==fe.nodeName)&&(Me.userSelect=Me.msUserSelect=Me.webkitUserSelect=Me.MozUserSelect="none"),("on"===X||!fe.draggable)&&(Me.webkitUserDrag="none"),Me.touchAction="none",Me.webkitTapHighlightColor="transparent"}}_syncAriaDescription(X){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,X,"tooltip"),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}static#e=this.\u0275fac=function(fe){return new(fe||k)(p.rXU(u.hJ),p.rXU(p.aKT),p.rXU(S.R),p.rXU(p.c1b),p.rXU(p.SKi),p.rXU(_.OD),p.rXU(g.vr),p.rXU(g.FN),p.rXU(K),p.rXU(b.dS),p.rXU(P,8),p.rXU(m.qQ))};static#t=this.\u0275dir=p.FsC({type:k,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(fe,Me){2&fe&&p.AVh("mat-mdc-tooltip-disabled",Me.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}return k})(),te=(()=>{class k{constructor(X,fe,Me){this._changeDetectorRef=X,this._elementRef=fe,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new E.B7,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===Me}show(X){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},X)}hide(X){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},X)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:X}){(!X||!this._triggerElement.contains(X))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const X=this._elementRef.nativeElement.getBoundingClientRect();return X.height>24&&X.width>=200}_handleAnimationEnd({animationName:X}){(X===this._showAnimation||X===this._hideAnimation)&&this._finalizeAnimation(X===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(X){X?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(X){const fe=this._tooltip.nativeElement,Me=this._showAnimation,Ze=this._hideAnimation;if(fe.classList.remove(X?Ze:Me),fe.classList.add(X?Me:Ze),this._isVisible!==X&&(this._isVisible=X,this._changeDetectorRef.markForCheck()),X&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const Ct=getComputedStyle(fe);("0s"===Ct.getPropertyValue("animation-duration")||"none"===Ct.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}X&&this._onShow(),this._animationsDisabled&&(fe.classList.add("_mat-animation-noopable"),this._finalizeAnimation(X))}static#e=this.\u0275fac=function(fe){return new(fe||k)(p.rXU(p.gRc),p.rXU(p.aKT),p.rXU(p.bc$,8))};static#t=this.\u0275cmp=p.VBU({type:k,selectors:[["mat-tooltip-component"]],viewQuery:function(fe,Me){if(1&fe&&p.GBs(O,7),2&fe){let Ze;p.mGM(Ze=p.lsd())&&(Me._tooltip=Ze.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(fe,Me){1&fe&&p.bIt("mouseleave",function(Ct){return Me._handleMouseLeave(Ct)})},standalone:!0,features:[p.aNF],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(fe,Me){if(1&fe){const Ze=p.RV6();p.j41(0,"div",1,0),p.bIt("animationend",function(lt){return p.eBV(Ze),p.Njj(Me._handleAnimationEnd(lt))}),p.j41(2,"div",2),p.EFF(3),p.k0s()()}2&fe&&(p.AVh("mdc-tooltip--multiline",Me._isMultiline),p.Y8G("ngClass",Me.tooltipClass),p.R7$(3),p.JRh(Me.message))},dependencies:[m.YU],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-app-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-app-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-app-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-app-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-app-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-app-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-app-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return k})(),ee=(()=>{class k{static#e=this.\u0275fac=function(fe){return new(fe||k)};static#t=this.\u0275mod=p.$C({type:k});static#n=this.\u0275inj=p.G2t({providers:[H],imports:[g.Pd,m.MD,u.z_,v.yE,v.yE,S.Gj]})}return k})()},345:(Mt,pe,a)=>{"use strict";a.d(pe,{B7:()=>B,Bb:()=>Et,hE:()=>ht,sG:()=>be,up:()=>ft});var e=a(177),i=a(3953);class d extends e.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class p extends d{static makeCurrent(){(0,e.ZD)(new p)}onAndCancel(ct,Xe,Qe){return ct.addEventListener(Xe,Qe),()=>{ct.removeEventListener(Xe,Qe)}}dispatchEvent(ct,Xe){ct.dispatchEvent(Xe)}remove(ct){ct.remove()}createElement(ct,Xe){return(Xe=Xe||this.getDefaultDocument()).createElement(ct)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ct){return ct.nodeType===Node.ELEMENT_NODE}isShadowRoot(ct){return ct instanceof DocumentFragment}getGlobalEventTarget(ct,Xe){return"window"===Xe?window:"document"===Xe?ct:"body"===Xe?ct.body:null}getBaseHref(ct){const Xe=function _(){return m=m||document.querySelector("base"),m?m.getAttribute("href"):null}();return null==Xe?null:function g(at){return new URL(at,document.baseURI).pathname}(Xe)}resetBaseElement(){m=null}getUserAgent(){return window.navigator.userAgent}getCookie(ct){return(0,e._b)(document.cookie,ct)}}let m=null,u=(()=>{class at{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(Qe){return new(Qe||at)};static#t=this.\u0275prov=i.jDH({token:at,factory:at.\u0275fac})}return at})();const S=new i.nKC("");let D=(()=>{class at{constructor(Xe,Qe){this._zone=Qe,this._eventNameToPlugin=new Map,Xe.forEach(Bt=>{Bt.manager=this}),this._plugins=Xe.slice().reverse()}addEventListener(Xe,Qe,Bt){return this._findPluginFor(Qe).addEventListener(Xe,Qe,Bt)}getZone(){return this._zone}_findPluginFor(Xe){let Qe=this._eventNameToPlugin.get(Xe);if(Qe)return Qe;if(Qe=this._plugins.find(Xt=>Xt.supports(Xe)),!Qe)throw new i.wOt(5101,!1);return this._eventNameToPlugin.set(Xe,Qe),Qe}static#e=this.\u0275fac=function(Qe){return new(Qe||at)(i.KVO(S),i.KVO(i.SKi))};static#t=this.\u0275prov=i.jDH({token:at,factory:at.\u0275fac})}return at})();class E{constructor(ct){this._doc=ct}}const A="ng-app-id";let v=(()=>{class at{constructor(Xe,Qe,Bt,Xt={}){this.doc=Xe,this.appId=Qe,this.nonce=Bt,this.platformId=Xt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,e.Vy)(Xt),this.resetHostNodes()}addStyles(Xe){for(const Qe of Xe)1===this.changeUsageCount(Qe,1)&&this.onStyleAdded(Qe)}removeStyles(Xe){for(const Qe of Xe)this.changeUsageCount(Qe,-1)<=0&&this.onStyleRemoved(Qe)}ngOnDestroy(){const Xe=this.styleNodesInDOM;Xe&&(Xe.forEach(Qe=>Qe.remove()),Xe.clear());for(const Qe of this.getAllStyles())this.onStyleRemoved(Qe);this.resetHostNodes()}addHost(Xe){this.hostNodes.add(Xe);for(const Qe of this.getAllStyles())this.addStyleToHost(Xe,Qe)}removeHost(Xe){this.hostNodes.delete(Xe)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Xe){for(const Qe of this.hostNodes)this.addStyleToHost(Qe,Xe)}onStyleRemoved(Xe){const Qe=this.styleRef;Qe.get(Xe)?.elements?.forEach(Bt=>Bt.remove()),Qe.delete(Xe)}collectServerRenderedStyles(){const Xe=this.doc.head?.querySelectorAll(`style[${A}="${this.appId}"]`);if(Xe?.length){const Qe=new Map;return Xe.forEach(Bt=>{null!=Bt.textContent&&Qe.set(Bt.textContent,Bt)}),Qe}return null}changeUsageCount(Xe,Qe){const Bt=this.styleRef;if(Bt.has(Xe)){const Xt=Bt.get(Xe);return Xt.usage+=Qe,Xt.usage}return Bt.set(Xe,{usage:Qe,elements:[]}),Qe}getStyleElement(Xe,Qe){const Bt=this.styleNodesInDOM,Xt=Bt?.get(Qe);if(Xt?.parentNode===Xe)return Bt.delete(Qe),Xt.removeAttribute(A),Xt;{const Be=this.doc.createElement("style");return this.nonce&&Be.setAttribute("nonce",this.nonce),Be.textContent=Qe,this.platformIsServer&&Be.setAttribute(A,this.appId),Xe.appendChild(Be),Be}}addStyleToHost(Xe,Qe){const Bt=this.getStyleElement(Xe,Qe),Xt=this.styleRef,Be=Xt.get(Qe)?.elements;Be?Be.push(Bt):Xt.set(Qe,{elements:[Bt],usage:1})}resetHostNodes(){const Xe=this.hostNodes;Xe.clear(),Xe.add(this.doc.head)}static#e=this.\u0275fac=function(Qe){return new(Qe||at)(i.KVO(e.qQ),i.KVO(i.sZ2),i.KVO(i.BIS,8),i.KVO(i.Agw))};static#t=this.\u0275prov=i.jDH({token:at,factory:at.\u0275fac})}return at})();const O={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},z=/%COMP%/g,G="%COMP%",K=`_nghost-${G}`,F=`_ngcontent-${G}`,Y=new i.nKC("",{providedIn:"root",factory:()=>!0});function $(at,ct){return ct.map(Xe=>Xe.replace(z,at))}let B=(()=>{class at{constructor(Xe,Qe,Bt,Xt,Be,oe,Ee,ne=null){this.eventManager=Xe,this.sharedStylesHost=Qe,this.appId=Bt,this.removeStylesOnCompDestroy=Xt,this.doc=Be,this.platformId=oe,this.ngZone=Ee,this.nonce=ne,this.rendererByCompId=new Map,this.platformIsServer=(0,e.Vy)(oe),this.defaultRenderer=new y(Xe,Be,Ee,this.platformIsServer)}createRenderer(Xe,Qe){if(!Xe||!Qe)return this.defaultRenderer;this.platformIsServer&&Qe.encapsulation===i.gXe.ShadowDom&&(Qe={...Qe,encapsulation:i.gXe.Emulated});const Bt=this.getOrCreateRenderer(Xe,Qe);return Bt instanceof R?Bt.applyToHost(Xe):Bt instanceof te&&Bt.applyStyles(),Bt}getOrCreateRenderer(Xe,Qe){const Bt=this.rendererByCompId;let Xt=Bt.get(Qe.id);if(!Xt){const Be=this.doc,oe=this.ngZone,Ee=this.eventManager,ne=this.sharedStylesHost,Ie=this.removeStylesOnCompDestroy,Te=this.platformIsServer;switch(Qe.encapsulation){case i.gXe.Emulated:Xt=new R(Ee,ne,Qe,this.appId,Ie,Be,oe,Te);break;case i.gXe.ShadowDom:return new Q(Ee,ne,Xe,Qe,Be,oe,this.nonce,Te);default:Xt=new te(Ee,ne,Qe,Ie,Be,oe,Te)}Bt.set(Qe.id,Xt)}return Xt}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(Qe){return new(Qe||at)(i.KVO(D),i.KVO(v),i.KVO(i.sZ2),i.KVO(Y),i.KVO(e.qQ),i.KVO(i.Agw),i.KVO(i.SKi),i.KVO(i.BIS))};static#t=this.\u0275prov=i.jDH({token:at,factory:at.\u0275fac})}return at})();class y{constructor(ct,Xe,Qe,Bt){this.eventManager=ct,this.doc=Xe,this.ngZone=Qe,this.platformIsServer=Bt,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(ct,Xe){return Xe?this.doc.createElementNS(O[Xe]||Xe,ct):this.doc.createElement(ct)}createComment(ct){return this.doc.createComment(ct)}createText(ct){return this.doc.createTextNode(ct)}appendChild(ct,Xe){(L(ct)?ct.content:ct).appendChild(Xe)}insertBefore(ct,Xe,Qe){ct&&(L(ct)?ct.content:ct).insertBefore(Xe,Qe)}removeChild(ct,Xe){Xe.remove()}selectRootElement(ct,Xe){let Qe="string"==typeof ct?this.doc.querySelector(ct):ct;if(!Qe)throw new i.wOt(-5104,!1);return Xe||(Qe.textContent=""),Qe}parentNode(ct){return ct.parentNode}nextSibling(ct){return ct.nextSibling}setAttribute(ct,Xe,Qe,Bt){if(Bt){Xe=Bt+":"+Xe;const Xt=O[Bt];Xt?ct.setAttributeNS(Xt,Xe,Qe):ct.setAttribute(Xe,Qe)}else ct.setAttribute(Xe,Qe)}removeAttribute(ct,Xe,Qe){if(Qe){const Bt=O[Qe];Bt?ct.removeAttributeNS(Bt,Xe):ct.removeAttribute(`${Qe}:${Xe}`)}else ct.removeAttribute(Xe)}addClass(ct,Xe){ct.classList.add(Xe)}removeClass(ct,Xe){ct.classList.remove(Xe)}setStyle(ct,Xe,Qe,Bt){Bt&(i.czy.DashCase|i.czy.Important)?ct.style.setProperty(Xe,Qe,Bt&i.czy.Important?"important":""):ct.style[Xe]=Qe}removeStyle(ct,Xe,Qe){Qe&i.czy.DashCase?ct.style.removeProperty(Xe):ct.style[Xe]=""}setProperty(ct,Xe,Qe){null!=ct&&(ct[Xe]=Qe)}setValue(ct,Xe){ct.nodeValue=Xe}listen(ct,Xe,Qe){if("string"==typeof ct&&!(ct=(0,e.QT)().getGlobalEventTarget(this.doc,ct)))throw new Error(`Unsupported event target ${ct} for event ${Xe}`);return this.eventManager.addEventListener(ct,Xe,this.decoratePreventDefault(Qe))}decoratePreventDefault(ct){return Xe=>{if("__ngUnwrap__"===Xe)return ct;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>ct(Xe)):ct(Xe))&&Xe.preventDefault()}}}function L(at){return"TEMPLATE"===at.tagName&&void 0!==at.content}class Q extends y{constructor(ct,Xe,Qe,Bt,Xt,Be,oe,Ee){super(ct,Xt,Be,Ee),this.sharedStylesHost=Xe,this.hostEl=Qe,this.shadowRoot=Qe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ne=$(Bt.id,Bt.styles);for(const Ie of ne){const Te=document.createElement("style");oe&&Te.setAttribute("nonce",oe),Te.textContent=Ie,this.shadowRoot.appendChild(Te)}}nodeOrShadowRoot(ct){return ct===this.hostEl?this.shadowRoot:ct}appendChild(ct,Xe){return super.appendChild(this.nodeOrShadowRoot(ct),Xe)}insertBefore(ct,Xe,Qe){return super.insertBefore(this.nodeOrShadowRoot(ct),Xe,Qe)}removeChild(ct,Xe){return super.removeChild(null,Xe)}parentNode(ct){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ct)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class te extends y{constructor(ct,Xe,Qe,Bt,Xt,Be,oe,Ee){super(ct,Xt,Be,oe),this.sharedStylesHost=Xe,this.removeStylesOnCompDestroy=Bt,this.styles=Ee?$(Ee,Qe.styles):Qe.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class R extends te{constructor(ct,Xe,Qe,Bt,Xt,Be,oe,Ee){const ne=Bt+"-"+Qe.id;super(ct,Xe,Qe,Xt,Be,oe,Ee,ne),this.contentAttr=function P(at){return F.replace(z,at)}(ne),this.hostAttr=function U(at){return K.replace(z,at)}(ne)}applyToHost(ct){this.applyStyles(),this.setAttribute(ct,this.hostAttr,"")}createElement(ct,Xe){const Qe=super.createElement(ct,Xe);return super.setAttribute(Qe,this.contentAttr,""),Qe}}let ee=(()=>{class at extends E{constructor(Xe){super(Xe)}supports(Xe){return!0}addEventListener(Xe,Qe,Bt){return Xe.addEventListener(Qe,Bt,!1),()=>this.removeEventListener(Xe,Qe,Bt)}removeEventListener(Xe,Qe,Bt){return Xe.removeEventListener(Qe,Bt)}static#e=this.\u0275fac=function(Qe){return new(Qe||at)(i.KVO(e.qQ))};static#t=this.\u0275prov=i.jDH({token:at,factory:at.\u0275fac})}return at})(),k=(()=>{class at extends E{constructor(Xe){super(Xe),this.delegate=(0,i.WQX)(i.zAP,{optional:!0})}supports(Xe){return!!this.delegate&&this.delegate.supports(Xe)}addEventListener(Xe,Qe,Bt){return this.delegate.addEventListener(Xe,Qe,Bt)}removeEventListener(Xe,Qe,Bt){return this.delegate.removeEventListener(Xe,Qe,Bt)}static#e=this.\u0275fac=function(Qe){return new(Qe||at)(i.KVO(e.qQ))};static#t=this.\u0275prov=i.jDH({token:at,factory:at.\u0275fac})}return at})();const J=["alt","control","meta","shift"],X={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fe={alt:at=>at.altKey,control:at=>at.ctrlKey,meta:at=>at.metaKey,shift:at=>at.shiftKey};let Me=(()=>{class at extends E{constructor(Xe){super(Xe)}supports(Xe){return null!=at.parseEventName(Xe)}addEventListener(Xe,Qe,Bt){const Xt=at.parseEventName(Qe),Be=at.eventCallback(Xt.fullKey,Bt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,e.QT)().onAndCancel(Xe,Xt.domEventName,Be))}static parseEventName(Xe){const Qe=Xe.toLowerCase().split("."),Bt=Qe.shift();if(0===Qe.length||"keydown"!==Bt&&"keyup"!==Bt)return null;const Xt=at._normalizeKey(Qe.pop());let Be="",oe=Qe.indexOf("code");if(oe>-1&&(Qe.splice(oe,1),Be="code."),J.forEach(ne=>{const Ie=Qe.indexOf(ne);Ie>-1&&(Qe.splice(Ie,1),Be+=ne+".")}),Be+=Xt,0!=Qe.length||0===Xt.length)return null;const Ee={};return Ee.domEventName=Bt,Ee.fullKey=Be,Ee}static matchEventFullKeyCode(Xe,Qe){let Bt=X[Xe.key]||Xe.key,Xt="";return Qe.indexOf("code.")>-1&&(Bt=Xe.code,Xt="code."),!(null==Bt||!Bt)&&(Bt=Bt.toLowerCase()," "===Bt?Bt="space":"."===Bt&&(Bt="dot"),J.forEach(Be=>{Be!==Bt&&(0,fe[Be])(Xe)&&(Xt+=Be+".")}),Xt+=Bt,Xt===Qe)}static eventCallback(Xe,Qe,Bt){return Xt=>{at.matchEventFullKeyCode(Xt,Xe)&&Bt.runGuarded(()=>Qe(Xt))}}static _normalizeKey(Xe){return"esc"===Xe?"escape":Xe}static#e=this.\u0275fac=function(Qe){return new(Qe||at)(i.KVO(e.qQ))};static#t=this.\u0275prov=i.jDH({token:at,factory:at.\u0275fac})}return at})();const be=(0,i.oH4)(i.fpN,"browser",[{provide:i.Agw,useValue:e.AJ},{provide:i.PLl,useValue:function rt(){p.makeCurrent()},multi:!0},{provide:e.qQ,useFactory:function ve(){return(0,i.TL$)(document),document},deps:[]}]),ue=new i.nKC(""),me=[{provide:i.e01,useClass:class b{addToWindow(ct){i.JZv.getAngularTestability=(Qe,Bt=!0)=>{const Xt=ct.findTestabilityInTree(Qe,Bt);if(null==Xt)throw new i.wOt(5103,!1);return Xt},i.JZv.getAllAngularTestabilities=()=>ct.getAllTestabilities(),i.JZv.getAllAngularRootElements=()=>ct.getAllRootElements(),i.JZv.frameworkStabilizers||(i.JZv.frameworkStabilizers=[]),i.JZv.frameworkStabilizers.push(Qe=>{const Bt=i.JZv.getAllAngularTestabilities();let Xt=Bt.length;const Be=function(){Xt--,0==Xt&&Qe()};Bt.forEach(oe=>{oe.whenStable(Be)})})}findTestabilityInTree(ct,Xe,Qe){return null==Xe?null:ct.getTestability(Xe)??(Qe?(0,e.QT)().isShadowRoot(Xe)?this.findTestabilityInTree(ct,Xe.host,!0):this.findTestabilityInTree(ct,Xe.parentElement,!0):null)}},deps:[]},{provide:i.WHO,useClass:i.NYb,deps:[i.SKi,i.giA,i.e01]},{provide:i.NYb,useClass:i.NYb,deps:[i.SKi,i.giA,i.e01]}],$e=[{provide:i.H8p,useValue:"root"},{provide:i.zcH,useFactory:function vt(){return new i.zcH},deps:[]},{provide:S,useClass:ee,multi:!0,deps:[e.qQ,i.SKi,i.Agw]},{provide:S,useClass:Me,multi:!0,deps:[e.qQ]},{provide:S,useClass:k,multi:!0},B,v,D,{provide:i._9s,useExisting:B},{provide:e.N0,useClass:u,deps:[]},[]];let Et=(()=>{class at{constructor(Xe){}static withServerTransition(Xe){return{ngModule:at,providers:[{provide:i.sZ2,useValue:Xe.appId}]}}static#e=this.\u0275fac=function(Qe){return new(Qe||at)(i.KVO(ue,12))};static#t=this.\u0275mod=i.$C({type:at});static#n=this.\u0275inj=i.G2t({providers:[...$e,...me],imports:[e.MD,i.Hbi]})}return at})(),ht=(()=>{class at{constructor(Xe){this._doc=Xe}getTitle(){return this._doc.title}setTitle(Xe){this._doc.title=Xe||""}static#e=this.\u0275fac=function(Qe){return new(Qe||at)(i.KVO(e.qQ))};static#t=this.\u0275prov=i.jDH({token:at,factory:at.\u0275fac,providedIn:"root"})}return at})(),ft=(()=>{class at{static#e=this.\u0275fac=function(Qe){return new(Qe||at)};static#t=this.\u0275prov=i.jDH({token:at,factory:function(Qe){let Bt=null;return Bt=Qe?new(Qe||at):i.KVO(pt),Bt},providedIn:"root"})}return at})(),pt=(()=>{class at extends ft{constructor(Xe){super(),this._doc=Xe}sanitize(Xe,Qe){if(null==Qe)return null;switch(Xe){case i.WPN.NONE:return Qe;case i.WPN.HTML:return(0,i.ZF7)(Qe,"HTML")?(0,i.rcV)(Qe):(0,i.h9k)(this._doc,String(Qe)).toString();case i.WPN.STYLE:return(0,i.ZF7)(Qe,"Style")?(0,i.rcV)(Qe):Qe;case i.WPN.SCRIPT:if((0,i.ZF7)(Qe,"Script"))return(0,i.rcV)(Qe);throw new i.wOt(5200,!1);case i.WPN.URL:return(0,i.ZF7)(Qe,"URL")?(0,i.rcV)(Qe):(0,i.$MX)(String(Qe));case i.WPN.RESOURCE_URL:if((0,i.ZF7)(Qe,"ResourceURL"))return(0,i.rcV)(Qe);throw new i.wOt(5201,!1);default:throw new i.wOt(5202,!1)}}bypassSecurityTrustHtml(Xe){return(0,i.Kcf)(Xe)}bypassSecurityTrustStyle(Xe){return(0,i.cWb)(Xe)}bypassSecurityTrustScript(Xe){return(0,i.UyX)(Xe)}bypassSecurityTrustUrl(Xe){return(0,i.osQ)(Xe)}bypassSecurityTrustResourceUrl(Xe){return(0,i.e5t)(Xe)}static#e=this.\u0275fac=function(Qe){return new(Qe||at)(i.KVO(e.qQ))};static#t=this.\u0275prov=i.jDH({token:at,factory:at.\u0275fac,providedIn:"root"})}return at})()},3141:(Mt,pe,a)=>{"use strict";a.d(pe,{nX:()=>bs,j5:()=>Bn,wF:()=>xe,L6:()=>Pi,Z:()=>Ae,gx:()=>Ni,Ix:()=>pr,Wk:()=>jr,wQ:()=>ya,iI:()=>Vd,n3:()=>rr});var e=a(3953),i=a(8982),d=a(4787),p=a(4421),m=a(9928),_=a(9714),g=a(9994),b=a(1639),u=a(9418),S=a(8167),D=a(4526),E=a(1235),A=a(4725),v=a(5286),O=a(4337),z=a(177),G=a(5006),K=a(9090),F=a(9493),H=a(3176),Y=a(8728),P=a(8456),U=a(4046),$=a(3574),B=a(8841),y=a(3921),I=a(5019),w=a(7849),L=a(762),Q=a(434);function te(le){return function(de){return 0===le?(0,E.I)():de.lift(new R(le))}}class R{constructor(ye){if(this.total=ye,this.total<0)throw new Q.k}call(ye,de){return de.subscribe(new ee(ye,this.total))}}class ee extends L.v{constructor(ye,de){super(ye),this.total=de,this.ring=new Array,this.count=0}_next(ye){const de=this.ring,_e=this.total,nt=this.count++;de.length<_e?de.push(ye):de[nt%_e]=ye}_complete(){const ye=this.destination;let de=this.count;if(de>0){const _e=this.count>=this.total?this.total:this.count,nt=this.ring;for(let St=0;St<_e;St++){const Zt=de++%_e;ye.next(nt[Zt])}}ye.complete()}}var k=a(3314),J=a(5241);class Me{constructor(ye){this.value=ye}call(ye,de){return de.subscribe(new Ze(ye,this.value))}}class Ze extends L.v{constructor(ye,de){super(ye),this.value=de}_next(ye){this.destination.next(this.value)}}var Ct=a(7312),lt=a(3110),Ot=a(7605),rt=a(6201),vt=a(345);const ve="primary",Ce=Symbol("RouteTitle");class be{constructor(ye){this.params=ye||{}}has(ye){return Object.prototype.hasOwnProperty.call(this.params,ye)}get(ye){if(this.has(ye)){const de=this.params[ye];return Array.isArray(de)?de[0]:de}return null}getAll(ye){if(this.has(ye)){const de=this.params[ye];return Array.isArray(de)?de:[de]}return[]}get keys(){return Object.keys(this.params)}}function ue(le){return new be(le)}function me(le,ye,de){const _e=de.path.split("/");if(_e.length>le.length||"full"===de.pathMatch&&(ye.hasChildren()||_e.length<le.length))return null;const nt={};for(let St=0;St<_e.length;St++){const Zt=_e[St],On=le[St];if(":"===Zt[0])nt[Zt.substring(1)]=On;else if(Zt!==On.path)return null}return{consumed:le.slice(0,_e.length),posParams:nt}}function Et(le,ye){const de=le?Ve(le):void 0,_e=ye?Ve(ye):void 0;if(!de||!_e||de.length!=_e.length)return!1;let nt;for(let St=0;St<de.length;St++)if(nt=de[St],!st(le[nt],ye[nt]))return!1;return!0}function Ve(le){return[...Object.keys(le),...Object.getOwnPropertySymbols(le)]}function st(le,ye){if(Array.isArray(le)&&Array.isArray(ye)){if(le.length!==ye.length)return!1;const de=[...le].sort(),_e=[...ye].sort();return de.every((nt,St)=>_e[St]===nt)}return le===ye}function ht(le){return le.length>0?le[le.length-1]:null}function Vt(le){return(0,i.A)(le)?le:(0,e.jNT)(le)?(0,d.H)(Promise.resolve(le)):(0,p.of)(le)}const qe={exact:function Oe(le,ye,de){if(!ft(le.segments,ye.segments)||!Gt(le.segments,ye.segments,de)||le.numberOfChildren!==ye.numberOfChildren)return!1;for(const _e in ye.children)if(!le.children[_e]||!Oe(le.children[_e],ye.children[_e],de))return!1;return!0},subset:Pe},gt={exact:function ae(le,ye){return Et(le,ye)},subset:function Le(le,ye){return Object.keys(ye).length<=Object.keys(le).length&&Object.keys(ye).every(de=>st(le[de],ye[de]))},ignored:()=>!0};function ot(le,ye,de){return qe[de.paths](le.root,ye.root,de.matrixParams)&&gt[de.queryParams](le.queryParams,ye.queryParams)&&!("exact"===de.fragment&&le.fragment!==ye.fragment)}function Pe(le,ye,de){return _t(le,ye,ye.segments,de)}function _t(le,ye,de,_e){if(le.segments.length>de.length){const nt=le.segments.slice(0,de.length);return!(!ft(nt,de)||ye.hasChildren()||!Gt(nt,de,_e))}if(le.segments.length===de.length){if(!ft(le.segments,de)||!Gt(le.segments,de,_e))return!1;for(const nt in ye.children)if(!le.children[nt]||!Pe(le.children[nt],ye.children[nt],_e))return!1;return!0}{const nt=de.slice(0,le.segments.length),St=de.slice(le.segments.length);return!!(ft(le.segments,nt)&&Gt(le.segments,nt,_e)&&le.children[ve])&&_t(le.children[ve],ye,St,_e)}}function Gt(le,ye,de){return ye.every((_e,nt)=>gt[de](le[nt].parameters,_e.parameters))}class Kt{constructor(ye=new vn([],{}),de={},_e=null){this.root=ye,this.queryParams=de,this.fragment=_e}get queryParamMap(){return this._queryParamMap??=ue(this.queryParams),this._queryParamMap}toString(){return dn.serialize(this)}}class vn{constructor(ye,de){this.segments=ye,this.children=de,this.parent=null,Object.values(de).forEach(_e=>_e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pn(this)}}class Ft{constructor(ye,de){this.path=ye,this.parameters=de}get parameterMap(){return this._parameterMap??=ue(this.parameters),this._parameterMap}toString(){return Xe(this)}}function ft(le,ye){return le.length===ye.length&&le.every((de,_e)=>de.path===ye[_e].path)}let $t=(()=>{class le{static#e=this.\u0275fac=function(_e){return new(_e||le)};static#t=this.\u0275prov=e.jDH({token:le,factory:()=>new kt,providedIn:"root"})}return le})();class kt{parse(ye){const de=new Ue(ye);return new Kt(de.parseRootSegment(),de.parseQueryParams(),de.parseFragment())}serialize(ye){const de=`/${un(ye.root,!0)}`,_e=function Bt(le){const ye=Object.entries(le).map(([de,_e])=>Array.isArray(_e)?_e.map(nt=>`${hn(de)}=${hn(nt)}`).join("&"):`${hn(de)}=${hn(_e)}`).filter(de=>de);return ye.length?`?${ye.join("&")}`:""}(ye.queryParams);return`${de}${_e}${"string"==typeof ye.fragment?`#${function Sn(le){return encodeURI(le)}(ye.fragment)}`:""}`}}const dn=new kt;function pn(le){return le.segments.map(ye=>Xe(ye)).join("/")}function un(le,ye){if(!le.hasChildren())return pn(le);if(ye){const de=le.children[ve]?un(le.children[ve],!1):"",_e=[];return Object.entries(le.children).forEach(([nt,St])=>{nt!==ve&&_e.push(`${nt}:${un(St,!1)}`)}),_e.length>0?`${de}(${_e.join("//")})`:de}{const de=function pt(le,ye){let de=[];return Object.entries(le.children).forEach(([_e,nt])=>{_e===ve&&(de=de.concat(ye(nt,_e)))}),Object.entries(le.children).forEach(([_e,nt])=>{_e!==ve&&(de=de.concat(ye(nt,_e)))}),de}(le,(_e,nt)=>nt===ve?[un(le.children[ve],!1)]:[`${nt}:${un(_e,!1)}`]);return 1===Object.keys(le.children).length&&null!=le.children[ve]?`${pn(le)}/${de[0]}`:`${pn(le)}/(${de.join("//")})`}}function an(le){return encodeURIComponent(le).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hn(le){return an(le).replace(/%3B/gi,";")}function Lt(le){return an(le).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function at(le){return decodeURIComponent(le)}function ct(le){return at(le.replace(/\+/g,"%20"))}function Xe(le){return`${Lt(le.path)}${function Qe(le){return Object.entries(le).map(([ye,de])=>`;${Lt(ye)}=${Lt(de)}`).join("")}(le.parameters)}`}const Xt=/^[^\/()?;#]+/;function Be(le){const ye=le.match(Xt);return ye?ye[0]:""}const oe=/^[^\/()?;=#]+/,ne=/^[^=?&#]+/,Te=/^[^&#]+/;class Ue{constructor(ye){this.url=ye,this.remaining=ye}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new vn([],{}):new vn([],this.parseChildren())}parseQueryParams(){const ye={};if(this.consumeOptional("?"))do{this.parseQueryParam(ye)}while(this.consumeOptional("&"));return ye}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const ye=[];for(this.peekStartsWith("(")||ye.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),ye.push(this.parseSegment());let de={};this.peekStartsWith("/(")&&(this.capture("/"),de=this.parseParens(!0));let _e={};return this.peekStartsWith("(")&&(_e=this.parseParens(!1)),(ye.length>0||Object.keys(de).length>0)&&(_e[ve]=new vn(ye,de)),_e}parseSegment(){const ye=Be(this.remaining);if(""===ye&&this.peekStartsWith(";"))throw new e.wOt(4009,!1);return this.capture(ye),new Ft(at(ye),this.parseMatrixParams())}parseMatrixParams(){const ye={};for(;this.consumeOptional(";");)this.parseParam(ye);return ye}parseParam(ye){const de=function Ee(le){const ye=le.match(oe);return ye?ye[0]:""}(this.remaining);if(!de)return;this.capture(de);let _e="";if(this.consumeOptional("=")){const nt=Be(this.remaining);nt&&(_e=nt,this.capture(_e))}ye[at(de)]=at(_e)}parseQueryParam(ye){const de=function Ie(le){const ye=le.match(ne);return ye?ye[0]:""}(this.remaining);if(!de)return;this.capture(de);let _e="";if(this.consumeOptional("=")){const Zt=function Ge(le){const ye=le.match(Te);return ye?ye[0]:""}(this.remaining);Zt&&(_e=Zt,this.capture(_e))}const nt=ct(de),St=ct(_e);if(ye.hasOwnProperty(nt)){let Zt=ye[nt];Array.isArray(Zt)||(Zt=[Zt],ye[nt]=Zt),Zt.push(St)}else ye[nt]=St}parseParens(ye){const de={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const _e=Be(this.remaining),nt=this.remaining[_e.length];if("/"!==nt&&")"!==nt&&";"!==nt)throw new e.wOt(4010,!1);let St;_e.indexOf(":")>-1?(St=_e.slice(0,_e.indexOf(":")),this.capture(St),this.capture(":")):ye&&(St=ve);const Zt=this.parseChildren();de[St]=1===Object.keys(Zt).length?Zt[ve]:new vn([],Zt),this.consumeOptional("//")}return de}peekStartsWith(ye){return this.remaining.startsWith(ye)}consumeOptional(ye){return!!this.peekStartsWith(ye)&&(this.remaining=this.remaining.substring(ye.length),!0)}capture(ye){if(!this.consumeOptional(ye))throw new e.wOt(4011,!1)}}function Fe(le){return le.segments.length>0?new vn([],{[ve]:le}):le}function At(le){const ye={};for(const[_e,nt]of Object.entries(le.children)){const St=At(nt);if(_e===ve&&0===St.segments.length&&St.hasChildren())for(const[Zt,On]of Object.entries(St.children))ye[Zt]=On;else(St.segments.length>0||St.hasChildren())&&(ye[_e]=St)}return function Ke(le){if(1===le.numberOfChildren&&le.children[ve]){const ye=le.children[ve];return new vn(le.segments.concat(ye.segments),ye.children)}return le}(new vn(le.segments,ye))}function xt(le){return le instanceof Kt}function nn(le){let ye;const nt=Fe(function de(St){const Zt={};for(const Mn of St.children){const si=de(Mn);Zt[Mn.outlet]=si}const On=new vn(St.url,Zt);return St===le&&(ye=On),On}(le.root));return ye??nt}function En(le,ye,de,_e){let nt=le;for(;nt.parent;)nt=nt.parent;if(0===ye.length)return Qn(nt,nt,nt,de,_e);const St=function Ti(le){if("string"==typeof le[0]&&1===le.length&&"/"===le[0])return new Ui(!0,0,le);let ye=0,de=!1;const _e=le.reduce((nt,St,Zt)=>{if("object"==typeof St&&null!=St){if(St.outlets){const On={};return Object.entries(St.outlets).forEach(([Mn,si])=>{On[Mn]="string"==typeof si?si.split("/"):si}),[...nt,{outlets:On}]}if(St.segmentPath)return[...nt,St.segmentPath]}return"string"!=typeof St?[...nt,St]:0===Zt?(St.split("/").forEach((On,Mn)=>{0==Mn&&"."===On||(0==Mn&&""===On?de=!0:".."===On?ye++:""!=On&&nt.push(On))}),nt):[...nt,St]},[]);return new Ui(de,ye,_e)}(ye);if(St.toRoot())return Qn(nt,nt,new vn([],{}),de,_e);const Zt=function ys(le,ye,de){if(le.isAbsolute)return new Wi(ye,!0,0);if(!de)return new Wi(ye,!1,NaN);if(null===de.parent)return new Wi(de,!0,0);const _e=Un(le.commands[0])?0:1;return function wn(le,ye,de){let _e=le,nt=ye,St=de;for(;St>nt;){if(St-=nt,_e=_e.parent,!_e)throw new e.wOt(4005,!1);nt=_e.segments.length}return new Wi(_e,!1,nt-St)}(de,de.segments.length-1+_e,le.numberOfDoubleDots)}(St,nt,le),On=Zt.processChildren?jt(Zt.segmentGroup,Zt.index,St.commands):Pt(Zt.segmentGroup,Zt.index,St.commands);return Qn(nt,Zt.segmentGroup,On,de,_e)}function Un(le){return"object"==typeof le&&null!=le&&!le.outlets&&!le.segmentPath}function Xn(le){return"object"==typeof le&&null!=le&&le.outlets}function Qn(le,ye,de,_e,nt){let Zt,St={};_e&&Object.entries(_e).forEach(([Mn,si])=>{St[Mn]=Array.isArray(si)?si.map($i=>`${$i}`):`${si}`}),Zt=le===ye?de:fi(le,ye,de);const On=Fe(At(Zt));return new Kt(On,St,nt)}function fi(le,ye,de){const _e={};return Object.entries(le.children).forEach(([nt,St])=>{_e[nt]=St===ye?de:fi(St,ye,de)}),new vn(le.segments,_e)}class Ui{constructor(ye,de,_e){if(this.isAbsolute=ye,this.numberOfDoubleDots=de,this.commands=_e,ye&&_e.length>0&&Un(_e[0]))throw new e.wOt(4003,!1);const nt=_e.find(Xn);if(nt&&nt!==ht(_e))throw new e.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wi{constructor(ye,de,_e){this.segmentGroup=ye,this.processChildren=de,this.index=_e}}function Pt(le,ye,de){if(le??=new vn([],{}),0===le.segments.length&&le.hasChildren())return jt(le,ye,de);const _e=function Pn(le,ye,de){let _e=0,nt=ye;const St={match:!1,pathIndex:0,commandIndex:0};for(;nt<le.segments.length;){if(_e>=de.length)return St;const Zt=le.segments[nt],On=de[_e];if(Xn(On))break;const Mn=`${On}`,si=_e<de.length-1?de[_e+1]:null;if(nt>0&&void 0===Mn)break;if(Mn&&si&&"object"==typeof si&&void 0===si.outlets){if(!Yt(Mn,si,Zt))return St;_e+=2}else{if(!Yt(Mn,{},Zt))return St;_e++}nt++}return{match:!0,pathIndex:nt,commandIndex:_e}}(le,ye,de),nt=de.slice(_e.commandIndex);if(_e.match&&_e.pathIndex<le.segments.length){const St=new vn(le.segments.slice(0,_e.pathIndex),{});return St.children[ve]=new vn(le.segments.slice(_e.pathIndex),le.children),jt(St,0,nt)}return _e.match&&0===nt.length?new vn(le.segments,{}):_e.match&&!le.hasChildren()?Dn(le,ye,de):_e.match?jt(le,0,nt):Dn(le,ye,de)}function jt(le,ye,de){if(0===de.length)return new vn(le.segments,{});{const _e=function dt(le){return Xn(le[0])?le[0].outlets:{[ve]:le}}(de),nt={};if(Object.keys(_e).some(St=>St!==ve)&&le.children[ve]&&1===le.numberOfChildren&&0===le.children[ve].segments.length){const St=jt(le.children[ve],ye,de);return new vn(le.segments,St.children)}return Object.entries(_e).forEach(([St,Zt])=>{"string"==typeof Zt&&(Zt=[Zt]),null!==Zt&&(nt[St]=Pt(le.children[St],ye,Zt))}),Object.entries(le.children).forEach(([St,Zt])=>{void 0===_e[St]&&(nt[St]=Zt)}),new vn(le.segments,nt)}}function Dn(le,ye,de){const _e=le.segments.slice(0,ye);let nt=0;for(;nt<de.length;){const St=de[nt];if(Xn(St)){const Mn=yt(St.outlets);return new vn(_e,Mn)}if(0===nt&&Un(de[0])){_e.push(new Ft(le.segments[ye].path,zt(de[0]))),nt++;continue}const Zt=Xn(St)?St.outlets[ve]:`${St}`,On=nt<de.length-1?de[nt+1]:null;Zt&&On&&Un(On)?(_e.push(new Ft(Zt,zt(On))),nt+=2):(_e.push(new Ft(Zt,{})),nt++)}return new vn(_e,{})}function yt(le){const ye={};return Object.entries(le).forEach(([de,_e])=>{"string"==typeof _e&&(_e=[_e]),null!==_e&&(ye[de]=Dn(new vn([],{}),0,_e))}),ye}function zt(le){const ye={};return Object.entries(le).forEach(([de,_e])=>ye[de]=`${_e}`),ye}function Yt(le,ye,de){return le==de.path&&Et(ye,de.parameters)}const mt="imperative";var Qt=function(le){return le[le.NavigationStart=0]="NavigationStart",le[le.NavigationEnd=1]="NavigationEnd",le[le.NavigationCancel=2]="NavigationCancel",le[le.NavigationError=3]="NavigationError",le[le.RoutesRecognized=4]="RoutesRecognized",le[le.ResolveStart=5]="ResolveStart",le[le.ResolveEnd=6]="ResolveEnd",le[le.GuardsCheckStart=7]="GuardsCheckStart",le[le.GuardsCheckEnd=8]="GuardsCheckEnd",le[le.RouteConfigLoadStart=9]="RouteConfigLoadStart",le[le.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",le[le.ChildActivationStart=11]="ChildActivationStart",le[le.ChildActivationEnd=12]="ChildActivationEnd",le[le.ActivationStart=13]="ActivationStart",le[le.ActivationEnd=14]="ActivationEnd",le[le.Scroll=15]="Scroll",le[le.NavigationSkipped=16]="NavigationSkipped",le}(Qt||{});class se{constructor(ye,de){this.id=ye,this.url=de}}class Ae extends se{constructor(ye,de,_e="imperative",nt=null){super(ye,de),this.type=Qt.NavigationStart,this.navigationTrigger=_e,this.restoredState=nt}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xe extends se{constructor(ye,de,_e){super(ye,de),this.urlAfterRedirects=_e,this.type=Qt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var bt=function(le){return le[le.Redirect=0]="Redirect",le[le.SupersededByNewNavigation=1]="SupersededByNewNavigation",le[le.NoDataFromResolver=2]="NoDataFromResolver",le[le.GuardRejected=3]="GuardRejected",le}(bt||{}),Jt=function(le){return le[le.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",le[le.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",le}(Jt||{});class Bn extends se{constructor(ye,de,_e,nt){super(ye,de),this.reason=_e,this.code=nt,this.type=Qt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class hi extends se{constructor(ye,de,_e,nt){super(ye,de),this.reason=_e,this.code=nt,this.type=Qt.NavigationSkipped}}class Pi extends se{constructor(ye,de,_e,nt){super(ye,de),this.error=_e,this.target=nt,this.type=Qt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Vi extends se{constructor(ye,de,_e,nt){super(ye,de),this.urlAfterRedirects=_e,this.state=nt,this.type=Qt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zi extends se{constructor(ye,de,_e,nt){super(ye,de),this.urlAfterRedirects=_e,this.state=nt,this.type=Qt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wi extends se{constructor(ye,de,_e,nt,St){super(ye,de),this.urlAfterRedirects=_e,this.state=nt,this.shouldActivate=St,this.type=Qt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ji extends se{constructor(ye,de,_e,nt){super(ye,de),this.urlAfterRedirects=_e,this.state=nt,this.type=Qt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ni extends se{constructor(ye,de,_e,nt){super(ye,de),this.urlAfterRedirects=_e,this.state=nt,this.type=Qt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hs{constructor(ye){this.route=ye,this.type=Qt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ai{constructor(ye){this.route=ye,this.type=Qt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Gr{constructor(ye){this.snapshot=ye,this.type=Qt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Js{constructor(ye){this.snapshot=ye,this.type=Qt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ir{constructor(ye){this.snapshot=ye,this.type=Qt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class no{constructor(ye){this.snapshot=ye,this.type=Qt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zr{constructor(ye,de,_e){this.routerEvent=ye,this.position=de,this.anchor=_e,this.type=Qt.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class bo{}class kr{constructor(ye,de){this.url=ye,this.navigationBehaviorOptions=de}}function Bs(le){return le.outlet||ve}function Br(le){if(!le)return null;if(le.routeConfig?._injector)return le.routeConfig._injector;for(let ye=le.parent;ye;ye=ye.parent){const de=ye.routeConfig;if(de?._loadedInjector)return de._loadedInjector;if(de?._injector)return de._injector}return null}class yo{get injector(){return Br(this.route?.snapshot)??this.rootInjector}set injector(ye){}constructor(ye){this.rootInjector=ye,this.outlet=null,this.route=null,this.children=new Sr(this.rootInjector),this.attachRef=null}}let Sr=(()=>{class le{constructor(de){this.rootInjector=de,this.contexts=new Map}onChildOutletCreated(de,_e){const nt=this.getOrCreateContext(de);nt.outlet=_e,this.contexts.set(de,nt)}onChildOutletDestroyed(de){const _e=this.getContext(de);_e&&(_e.outlet=null,_e.attachRef=null)}onOutletDeactivated(){const de=this.contexts;return this.contexts=new Map,de}onOutletReAttached(de){this.contexts=de}getOrCreateContext(de){let _e=this.getContext(de);return _e||(_e=new yo(this.rootInjector),this.contexts.set(de,_e)),_e}getContext(de){return this.contexts.get(de)||null}static#e=this.\u0275fac=function(_e){return new(_e||le)(e.KVO(e.uvJ))};static#t=this.\u0275prov=e.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();class Re{constructor(ye){this._root=ye}get root(){return this._root.value}parent(ye){const de=this.pathFromRoot(ye);return de.length>1?de[de.length-2]:null}children(ye){const de=wt(ye,this._root);return de?de.children.map(_e=>_e.value):[]}firstChild(ye){const de=wt(ye,this._root);return de&&de.children.length>0?de.children[0].value:null}siblings(ye){const de=ln(ye,this._root);return de.length<2?[]:de[de.length-2].children.map(nt=>nt.value).filter(nt=>nt!==ye)}pathFromRoot(ye){return ln(ye,this._root).map(de=>de.value)}}function wt(le,ye){if(le===ye.value)return ye;for(const de of ye.children){const _e=wt(le,de);if(_e)return _e}return null}function ln(le,ye){if(le===ye.value)return[ye];for(const de of ye.children){const _e=ln(le,de);if(_e.length)return _e.unshift(ye),_e}return[]}class xn{constructor(ye,de){this.value=ye,this.children=de}toString(){return`TreeNode(${this.value})`}}function Ei(le){const ye={};return le&&le.children.forEach(de=>ye[de.value.outlet]=de),ye}class pi extends Re{constructor(ye,de){super(ye),this.snapshot=de,os(this,ye)}toString(){return this.snapshot.toString()}}function Ki(le){const ye=function Li(le){const St=new ks([],{},{},"",{},ve,le,null,{});return new sr("",new xn(St,[]))}(le),de=new m.t([new Ft("",{})]),_e=new m.t({}),nt=new m.t({}),St=new m.t({}),Zt=new m.t(""),On=new bs(de,_e,St,Zt,nt,ve,le,ye.root);return On.snapshot=ye.root,new pi(new xn(On,[]),ye)}class bs{constructor(ye,de,_e,nt,St,Zt,On,Mn){this.urlSubject=ye,this.paramsSubject=de,this.queryParamsSubject=_e,this.fragmentSubject=nt,this.dataSubject=St,this.outlet=Zt,this.component=On,this._futureSnapshot=Mn,this.title=this.dataSubject?.pipe((0,G.T)(si=>si[Ce]))??(0,p.of)(void 0),this.url=ye,this.params=de,this.queryParams=_e,this.fragment=nt,this.data=St}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,G.T)(ye=>ue(ye))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,G.T)(ye=>ue(ye))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function us(le,ye,de="emptyOnly"){let _e;const{routeConfig:nt}=le;return _e=null===ye||"always"!==de&&""!==nt?.path&&(ye.component||ye.routeConfig?.loadComponent)?{params:{...le.params},data:{...le.data},resolve:{...le.data,...le._resolvedData??{}}}:{params:{...ye.params,...le.params},data:{...ye.data,...le.data},resolve:{...le.data,...ye.data,...nt?.data,...le._resolvedData}},nt&&Ys(nt)&&(_e.resolve[Ce]=nt.title),_e}class ks{get title(){return this.data?.[Ce]}constructor(ye,de,_e,nt,St,Zt,On,Mn,si){this.url=ye,this.params=de,this.queryParams=_e,this.fragment=nt,this.data=St,this.outlet=Zt,this.component=On,this.routeConfig=Mn,this._resolve=si}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ue(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ue(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(_e=>_e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class sr extends Re{constructor(ye,de){super(de),this.url=ye,os(this,de)}toString(){return qs(this._root)}}function os(le,ye){ye.value._routerState=le,ye.children.forEach(de=>os(le,de))}function qs(le){const ye=le.children.length>0?` { ${le.children.map(qs).join(", ")} } `:"";return`${le.value}${ye}`}function Xs(le){if(le.snapshot){const ye=le.snapshot,de=le._futureSnapshot;le.snapshot=de,Et(ye.queryParams,de.queryParams)||le.queryParamsSubject.next(de.queryParams),ye.fragment!==de.fragment&&le.fragmentSubject.next(de.fragment),Et(ye.params,de.params)||le.paramsSubject.next(de.params),function $e(le,ye){if(le.length!==ye.length)return!1;for(let de=0;de<le.length;++de)if(!Et(le[de],ye[de]))return!1;return!0}(ye.url,de.url)||le.urlSubject.next(de.url),Et(ye.data,de.data)||le.dataSubject.next(de.data)}else le.snapshot=le._futureSnapshot,le.dataSubject.next(le._futureSnapshot.data)}function Us(le,ye){const de=Et(le.params,ye.params)&&function _n(le,ye){return ft(le,ye)&&le.every((de,_e)=>Et(de.parameters,ye[_e].parameters))}(le.url,ye.url);return de&&!(!le.parent!=!ye.parent)&&(!le.parent||Us(le.parent,ye.parent))}function Ys(le){return"string"==typeof le.title||null===le.title}let rr=(()=>{class le{constructor(){this.activated=null,this._activatedRoute=null,this.name=ve,this.activateEvents=new e.bkB,this.deactivateEvents=new e.bkB,this.attachEvents=new e.bkB,this.detachEvents=new e.bkB,this.parentContexts=(0,e.WQX)(Sr),this.location=(0,e.WQX)(e.c1b),this.changeDetector=(0,e.WQX)(e.gRc),this.inputBinder=(0,e.WQX)(br,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(de){if(de.name){const{firstChange:_e,previousValue:nt}=de.name;if(_e)return;this.isTrackedInParentContexts(nt)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(nt)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(de){return this.parentContexts.getContext(de)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const de=this.parentContexts.getContext(this.name);de?.route&&(de.attachRef?this.attach(de.attachRef,de.route):this.activateWith(de.route,de.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new e.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new e.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new e.wOt(4012,!1);this.location.detach();const de=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(de.instance),de}attach(de,_e){this.activated=de,this._activatedRoute=_e,this.location.insert(de.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(de.instance)}deactivate(){if(this.activated){const de=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(de)}}activateWith(de,_e){if(this.isActivated)throw new e.wOt(4013,!1);this._activatedRoute=de;const nt=this.location,Zt=de.snapshot.component,On=this.parentContexts.getOrCreateContext(this.name).children,Mn=new Yn(de,On,nt.injector);this.activated=nt.createComponent(Zt,{index:nt.length,injector:Mn,environmentInjector:_e}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(_e){return new(_e||le)};static#t=this.\u0275dir=e.FsC({type:le,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[e.OA$]})}return le})();class Yn{__ngOutletInjector(ye){return new Yn(this.route,this.childContexts,ye)}constructor(ye,de,_e){this.route=ye,this.childContexts=de,this.parent=_e}get(ye,de){return ye===bs?this.route:ye===Sr?this.childContexts:this.parent.get(ye,de)}}const br=new e.nKC("");let or=(()=>{class le{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(de){this.unsubscribeFromRouteData(de),this.subscribeToRouteData(de)}unsubscribeFromRouteData(de){this.outletDataSubscriptions.get(de)?.unsubscribe(),this.outletDataSubscriptions.delete(de)}subscribeToRouteData(de){const{activatedRoute:_e}=de,nt=(0,_.zV)([_e.queryParams,_e.params,_e.data]).pipe((0,K.n)(([St,Zt,On],Mn)=>(On={...St,...Zt,...On},0===Mn?(0,p.of)(On):Promise.resolve(On)))).subscribe(St=>{if(!de.isActivated||!de.activatedComponentRef||de.activatedRoute!==_e||null===_e.component)return void this.unsubscribeFromRouteData(de);const Zt=(0,e.HJs)(_e.component);if(Zt)for(const{templateName:On}of Zt.inputs)de.activatedComponentRef.setInput(On,St[On]);else this.unsubscribeFromRouteData(de)});this.outletDataSubscriptions.set(de,nt)}static#e=this.\u0275fac=function(_e){return new(_e||le)};static#t=this.\u0275prov=e.jDH({token:le,factory:le.\u0275fac})}return le})();function yr(le,ye,de){if(de&&le.shouldReuseRoute(ye.value,de.value.snapshot)){const _e=de.value;_e._futureSnapshot=ye.value;const nt=function Xo(le,ye,de){return ye.children.map(_e=>{for(const nt of de.children)if(le.shouldReuseRoute(_e.value,nt.value.snapshot))return yr(le,_e,nt);return yr(le,_e)})}(le,ye,de);return new xn(_e,nt)}{if(le.shouldAttach(ye.value)){const St=le.retrieve(ye.value);if(null!==St){const Zt=St.route;return Zt.value._futureSnapshot=ye.value,Zt.children=ye.children.map(On=>yr(le,On)),Zt}}const _e=function Kr(le){return new bs(new m.t(le.url),new m.t(le.params),new m.t(le.queryParams),new m.t(le.fragment),new m.t(le.data),le.outlet,le.component,le)}(ye.value),nt=ye.children.map(St=>yr(le,St));return new xn(_e,nt)}}class Ur{constructor(ye,de){this.redirectTo=ye,this.navigationBehaviorOptions=de}}const Fo="ngNavigationCancelingError";function Fr(le,ye){const{redirectTo:de,navigationBehaviorOptions:_e}=xt(ye)?{redirectTo:ye,navigationBehaviorOptions:void 0}:ye,nt=Er(!1,bt.Redirect);return nt.url=de,nt.navigationBehaviorOptions=_e,nt}function Er(le,ye){const de=new Error(`NavigationCancelingError: ${le||""}`);return de[Fo]=!0,de.cancellationCode=ye,de}function Yo(le){return!!le&&le[Fo]}class Fs{constructor(ye,de,_e,nt,St){this.routeReuseStrategy=ye,this.futureState=de,this.currState=_e,this.forwardEvent=nt,this.inputBindingEnabled=St}activate(ye){const de=this.futureState._root,_e=this.currState?this.currState._root:null;this.deactivateChildRoutes(de,_e,ye),Xs(this.futureState.root),this.activateChildRoutes(de,_e,ye)}deactivateChildRoutes(ye,de,_e){const nt=Ei(de);ye.children.forEach(St=>{const Zt=St.value.outlet;this.deactivateRoutes(St,nt[Zt],_e),delete nt[Zt]}),Object.values(nt).forEach(St=>{this.deactivateRouteAndItsChildren(St,_e)})}deactivateRoutes(ye,de,_e){const nt=ye.value,St=de?de.value:null;if(nt===St)if(nt.component){const Zt=_e.getContext(nt.outlet);Zt&&this.deactivateChildRoutes(ye,de,Zt.children)}else this.deactivateChildRoutes(ye,de,_e);else St&&this.deactivateRouteAndItsChildren(de,_e)}deactivateRouteAndItsChildren(ye,de){ye.value.component&&this.routeReuseStrategy.shouldDetach(ye.value.snapshot)?this.detachAndStoreRouteSubtree(ye,de):this.deactivateRouteAndOutlet(ye,de)}detachAndStoreRouteSubtree(ye,de){const _e=de.getContext(ye.value.outlet),nt=_e&&ye.value.component?_e.children:de,St=Ei(ye);for(const Zt of Object.values(St))this.deactivateRouteAndItsChildren(Zt,nt);if(_e&&_e.outlet){const Zt=_e.outlet.detach(),On=_e.children.onOutletDeactivated();this.routeReuseStrategy.store(ye.value.snapshot,{componentRef:Zt,route:ye,contexts:On})}}deactivateRouteAndOutlet(ye,de){const _e=de.getContext(ye.value.outlet),nt=_e&&ye.value.component?_e.children:de,St=Ei(ye);for(const Zt of Object.values(St))this.deactivateRouteAndItsChildren(Zt,nt);_e&&(_e.outlet&&(_e.outlet.deactivate(),_e.children.onOutletDeactivated()),_e.attachRef=null,_e.route=null)}activateChildRoutes(ye,de,_e){const nt=Ei(de);ye.children.forEach(St=>{this.activateRoutes(St,nt[St.value.outlet],_e),this.forwardEvent(new no(St.value.snapshot))}),ye.children.length&&this.forwardEvent(new Js(ye.value.snapshot))}activateRoutes(ye,de,_e){const nt=ye.value,St=de?de.value:null;if(Xs(nt),nt===St)if(nt.component){const Zt=_e.getOrCreateContext(nt.outlet);this.activateChildRoutes(ye,de,Zt.children)}else this.activateChildRoutes(ye,de,_e);else if(nt.component){const Zt=_e.getOrCreateContext(nt.outlet);if(this.routeReuseStrategy.shouldAttach(nt.snapshot)){const On=this.routeReuseStrategy.retrieve(nt.snapshot);this.routeReuseStrategy.store(nt.snapshot,null),Zt.children.onOutletReAttached(On.contexts),Zt.attachRef=On.componentRef,Zt.route=On.route.value,Zt.outlet&&Zt.outlet.attach(On.componentRef,On.route.value),Xs(On.route.value),this.activateChildRoutes(ye,null,Zt.children)}else Zt.attachRef=null,Zt.route=nt,Zt.outlet&&Zt.outlet.activateWith(nt,Zt.injector),this.activateChildRoutes(ye,null,Zt.children)}else this.activateChildRoutes(ye,null,_e)}}class Va{constructor(ye){this.path=ye,this.route=this.path[this.path.length-1]}}class Lo{constructor(ye,de){this.component=ye,this.route=de}}function xi(le,ye,de){const _e=le._root;return Qo(_e,ye?ye._root:null,de,[_e.value])}function Ts(le,ye){const de=Symbol(),_e=ye.get(le,de);return _e===de?"function"!=typeof le||(0,e.LfX)(le)?ye.get(le):le:_e}function Qo(le,ye,de,_e,nt={canDeactivateChecks:[],canActivateChecks:[]}){const St=Ei(ye);return le.children.forEach(Zt=>{(function cl(le,ye,de,_e,nt={canDeactivateChecks:[],canActivateChecks:[]}){const St=le.value,Zt=ye?ye.value:null,On=de?de.getContext(le.value.outlet):null;if(Zt&&St.routeConfig===Zt.routeConfig){const Mn=function Ga(le,ye,de){if("function"==typeof de)return de(le,ye);switch(de){case"pathParamsChange":return!ft(le.url,ye.url);case"pathParamsOrQueryParamsChange":return!ft(le.url,ye.url)||!Et(le.queryParams,ye.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Us(le,ye)||!Et(le.queryParams,ye.queryParams);default:return!Us(le,ye)}}(Zt,St,St.routeConfig.runGuardsAndResolvers);Mn?nt.canActivateChecks.push(new Va(_e)):(St.data=Zt.data,St._resolvedData=Zt._resolvedData),Qo(le,ye,St.component?On?On.children:null:de,_e,nt),Mn&&On&&On.outlet&&On.outlet.isActivated&&nt.canDeactivateChecks.push(new Lo(On.outlet.component,Zt))}else Zt&&Mo(ye,On,nt),nt.canActivateChecks.push(new Va(_e)),Qo(le,null,St.component?On?On.children:null:de,_e,nt)})(Zt,St[Zt.value.outlet],de,_e.concat([Zt.value]),nt),delete St[Zt.value.outlet]}),Object.entries(St).forEach(([Zt,On])=>Mo(On,de.getContext(Zt),nt)),nt}function Mo(le,ye,de){const _e=Ei(le),nt=le.value;Object.entries(_e).forEach(([St,Zt])=>{Mo(Zt,nt.component?ye?ye.children.getContext(St):null:ye,de)}),de.canDeactivateChecks.push(new Lo(nt.component&&ye&&ye.outlet&&ye.outlet.isActivated?ye.outlet.component:null,nt))}function Di(le){return"function"==typeof le}function Wa(le){return le instanceof g.G||"EmptyError"===le?.name}const He=Symbol("INITIAL_VALUE");function tt(){return(0,K.n)(le=>(0,_.zV)(le.map(ye=>ye.pipe((0,F.s)(1),(0,H.Z)(He)))).pipe((0,G.T)(ye=>{for(const de of ye)if(!0!==de){if(de===He)return He;if(!1===de||Se(de))return de}return!0}),(0,Y.p)(ye=>ye!==He),(0,F.s)(1)))}function Se(le){return xt(le)||le instanceof Ur}function va(le){return(0,S.F)((0,B.M)(ye=>{if("boolean"!=typeof ye)throw Fr(0,ye)}),(0,G.T)(ye=>!0===ye))}class Ds{constructor(ye){this.segmentGroup=ye||null}}class gs extends Error{constructor(ye){super(),this.urlTree=ye}}function wr(le){return(0,D.$)(new Ds(le))}class W{constructor(ye,de){this.urlSerializer=ye,this.urlTree=de}lineralizeSegments(ye,de){let _e=[],nt=de.root;for(;;){if(_e=_e.concat(nt.segments),0===nt.numberOfChildren)return(0,p.of)(_e);if(nt.numberOfChildren>1||!nt.children[ve])return(0,D.$)(new e.wOt(4e3,!1));nt=nt.children[ve]}}applyRedirectCommands(ye,de,_e,nt,St){if("string"!=typeof de){const On=de,{queryParams:Mn,fragment:si,routeConfig:$i,url:ns,outlet:vi,params:Ls,data:Ss,title:jo}=nt,ps=(0,e.N4e)(St,()=>On({params:Ls,data:Ss,queryParams:Mn,fragment:si,routeConfig:$i,url:ns,outlet:vi,title:jo}));if(ps instanceof Kt)throw new gs(ps);de=ps}const Zt=this.applyRedirectCreateUrlTree(de,this.urlSerializer.parse(de),ye,_e);if("/"===de[0])throw new gs(Zt);return Zt}applyRedirectCreateUrlTree(ye,de,_e,nt){const St=this.createSegmentGroup(ye,de.root,_e,nt);return new Kt(St,this.createQueryParams(de.queryParams,this.urlTree.queryParams),de.fragment)}createQueryParams(ye,de){const _e={};return Object.entries(ye).forEach(([nt,St])=>{if("string"==typeof St&&":"===St[0]){const On=St.substring(1);_e[nt]=de[On]}else _e[nt]=St}),_e}createSegmentGroup(ye,de,_e,nt){const St=this.createSegments(ye,de.segments,_e,nt);let Zt={};return Object.entries(de.children).forEach(([On,Mn])=>{Zt[On]=this.createSegmentGroup(ye,Mn,_e,nt)}),new vn(St,Zt)}createSegments(ye,de,_e,nt){return de.map(St=>":"===St.path[0]?this.findPosParam(ye,St,nt):this.findOrReturn(St,_e))}findPosParam(ye,de,_e){const nt=_e[de.path.substring(1)];if(!nt)throw new e.wOt(4001,!1);return nt}findOrReturn(ye,de){let _e=0;for(const nt of de){if(nt.path===ye.path)return de.splice(_e),nt;_e++}return ye}}const ut={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ut(le,ye,de,_e,nt){const St=en(le,ye,de);return St.matched?(_e=function zo(le,ye){return le.providers&&!le._injector&&(le._injector=(0,e.Ol2)(le.providers,ye,`Route: ${le.path}`)),le._injector??ye}(ye,_e),function Mc(le,ye,de,_e){const nt=ye.canMatch;if(!nt||0===nt.length)return(0,p.of)(!0);const St=nt.map(Zt=>{const On=Ts(Zt,le);return Vt(function oo(le){return le&&Di(le.canMatch)}(On)?On.canMatch(ye,de):(0,e.N4e)(le,()=>On(ye,de)))});return(0,p.of)(St).pipe(tt(),va())}(_e,ye,de).pipe((0,G.T)(Zt=>!0===Zt?St:{...ut}))):(0,p.of)(St)}function en(le,ye,de){if("**"===ye.path)return function Ht(le){return{matched:!0,parameters:le.length>0?ht(le).parameters:{},consumedSegments:le,remainingSegments:[],positionalParamSegments:{}}}(de);if(""===ye.path)return"full"===ye.pathMatch&&(le.hasChildren()||de.length>0)?{...ut}:{matched:!0,consumedSegments:[],remainingSegments:de,parameters:{},positionalParamSegments:{}};const nt=(ye.matcher||me)(de,le,ye);if(!nt)return{...ut};const St={};Object.entries(nt.posParams??{}).forEach(([On,Mn])=>{St[On]=Mn.path});const Zt=nt.consumed.length>0?{...St,...nt.consumed[nt.consumed.length-1].parameters}:St;return{matched:!0,consumedSegments:nt.consumed,remainingSegments:de.slice(nt.consumed.length),parameters:Zt,positionalParamSegments:nt.posParams??{}}}function bn(le,ye,de,_e){return de.length>0&&function kn(le,ye,de){return de.some(_e=>ai(le,ye,_e)&&Bs(_e)!==ve)}(le,de,_e)?{segmentGroup:new vn(ye,In(_e,new vn(de,le.children))),slicedSegments:[]}:0===de.length&&function Hn(le,ye,de){return de.some(_e=>ai(le,ye,_e))}(le,de,_e)?{segmentGroup:new vn(le.segments,qt(le,de,_e,le.children)),slicedSegments:de}:{segmentGroup:new vn(le.segments,le.children),slicedSegments:de}}function qt(le,ye,de,_e){const nt={};for(const St of de)if(ai(le,ye,St)&&!_e[Bs(St)]){const Zt=new vn([],{});nt[Bs(St)]=Zt}return{..._e,...nt}}function In(le,ye){const de={};de[ve]=ye;for(const _e of le)if(""===_e.path&&Bs(_e)!==ve){const nt=new vn([],{});de[Bs(_e)]=nt}return de}function ai(le,ye,de){return(!(le.hasChildren()||ye.length>0)||"full"!==de.pathMatch)&&""===de.path}class Fi{}class js{constructor(ye,de,_e,nt,St,Zt,On){this.injector=ye,this.configLoader=de,this.rootComponentType=_e,this.config=nt,this.urlTree=St,this.paramsInheritanceStrategy=Zt,this.urlSerializer=On,this.applyRedirects=new W(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(ye){return new e.wOt(4002,`'${ye.segmentGroup}'`)}recognize(){const ye=bn(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(ye).pipe((0,G.T)(({children:de,rootSnapshot:_e})=>{const nt=new xn(_e,de),St=new sr("",nt),Zt=function tn(le,ye,de=null,_e=null){return En(nn(le),ye,de,_e)}(_e,[],this.urlTree.queryParams,this.urlTree.fragment);return Zt.queryParams=this.urlTree.queryParams,St.url=this.urlSerializer.serialize(Zt),{state:St,tree:Zt}}))}match(ye){const de=new ks([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),ve,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,ye,ve,de).pipe((0,G.T)(_e=>({children:_e,rootSnapshot:de})),(0,y.W)(_e=>{if(_e instanceof gs)return this.urlTree=_e.urlTree,this.match(_e.urlTree.root);throw _e instanceof Ds?this.noMatchError(_e):_e}))}processSegmentGroup(ye,de,_e,nt,St){return 0===_e.segments.length&&_e.hasChildren()?this.processChildren(ye,de,_e,St):this.processSegment(ye,de,_e,_e.segments,nt,!0,St).pipe((0,G.T)(Zt=>Zt instanceof xn?[Zt]:[]))}processChildren(ye,de,_e,nt){const St=[];for(const Zt of Object.keys(_e.children))"primary"===Zt?St.unshift(Zt):St.push(Zt);return(0,d.H)(St).pipe((0,$.H)(Zt=>{const On=_e.children[Zt],Mn=function na(le,ye){const de=le.filter(_e=>Bs(_e)===ye);return de.push(...le.filter(_e=>Bs(_e)!==ye)),de}(de,Zt);return this.processSegmentGroup(ye,Mn,On,Zt,nt)}),(0,I.S)((Zt,On)=>(Zt.push(...On),Zt)),(0,w.U)(null),function X(le,ye){const de=arguments.length>=2;return _e=>_e.pipe(le?(0,Y.p)((nt,St)=>le(nt,St,_e)):J.D,te(1),de?(0,w.U)(ye):(0,k.v)(()=>new g.G))}(),(0,P.ZZ)(Zt=>{if(null===Zt)return wr(_e);const On=ls(Zt);return function Qs(le){le.sort((ye,de)=>ye.value.outlet===ve?-1:de.value.outlet===ve?1:ye.value.outlet.localeCompare(de.value.outlet))}(On),(0,p.of)(On)}))}processSegment(ye,de,_e,nt,St,Zt,On){return(0,d.H)(de).pipe((0,$.H)(Mn=>this.processSegmentAgainstRoute(Mn._injector??ye,de,Mn,_e,nt,St,Zt,On).pipe((0,y.W)(si=>{if(si instanceof Ds)return(0,p.of)(null);throw si}))),(0,U.$)(Mn=>!!Mn),(0,y.W)(Mn=>{if(Wa(Mn))return function ii(le,ye,de){return 0===ye.length&&!le.children[de]}(_e,nt,St)?(0,p.of)(new Fi):wr(_e);throw Mn}))}processSegmentAgainstRoute(ye,de,_e,nt,St,Zt,On,Mn){return Bs(_e)===Zt||Zt!==ve&&ai(nt,St,_e)?void 0===_e.redirectTo?this.matchSegmentAgainstRoute(ye,nt,_e,St,Zt,Mn):this.allowRedirects&&On?this.expandSegmentAgainstRouteUsingRedirect(ye,nt,de,_e,St,Zt,Mn):wr(nt):wr(nt)}expandSegmentAgainstRouteUsingRedirect(ye,de,_e,nt,St,Zt,On){const{matched:Mn,parameters:si,consumedSegments:$i,positionalParamSegments:ns,remainingSegments:vi}=en(de,nt,St);if(!Mn)return wr(de);"string"==typeof nt.redirectTo&&"/"===nt.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Ls=new ks(St,si,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Xa(nt),Bs(nt),nt.component??nt._loadedComponent??null,nt,Jc(nt)),Ss=us(Ls,On,this.paramsInheritanceStrategy);Ls.params=Object.freeze(Ss.params),Ls.data=Object.freeze(Ss.data);const jo=this.applyRedirects.applyRedirectCommands($i,nt.redirectTo,ns,Ls,ye);return this.applyRedirects.lineralizeSegments(nt,jo).pipe((0,P.ZZ)(ps=>this.processSegment(ye,_e,de,ps.concat(vi),Zt,!1,On)))}matchSegmentAgainstRoute(ye,de,_e,nt,St,Zt){const On=Ut(de,_e,nt,ye);return"**"===_e.path&&(de.children={}),On.pipe((0,K.n)(Mn=>Mn.matched?this.getChildConfig(ye=_e._injector??ye,_e,nt).pipe((0,K.n)(({routes:si})=>{const $i=_e._loadedInjector??ye,{parameters:ns,consumedSegments:vi,remainingSegments:Ls}=Mn,Ss=new ks(vi,ns,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Xa(_e),Bs(_e),_e.component??_e._loadedComponent??null,_e,Jc(_e)),jo=us(Ss,Zt,this.paramsInheritanceStrategy);Ss.params=Object.freeze(jo.params),Ss.data=Object.freeze(jo.data);const{segmentGroup:ps,slicedSegments:pl}=bn(de,vi,Ls,si);if(0===pl.length&&ps.hasChildren())return this.processChildren($i,si,ps,Ss).pipe((0,G.T)(ic=>new xn(Ss,ic)));if(0===si.length&&0===pl.length)return(0,p.of)(new xn(Ss,[]));const So=Bs(_e)===St;return this.processSegment($i,si,ps,pl,So?ve:St,!0,Ss).pipe((0,G.T)(ic=>new xn(Ss,ic instanceof xn?[ic]:[])))})):wr(de)))}getChildConfig(ye,de,_e){return de.children?(0,p.of)({routes:de.children,injector:ye}):de.loadChildren?void 0!==de._loadedRoutes?(0,p.of)({routes:de._loadedRoutes,injector:de._loadedInjector}):function Ka(le,ye,de,_e){const nt=ye.canLoad;if(void 0===nt||0===nt.length)return(0,p.of)(!0);const St=nt.map(Zt=>{const On=Ts(Zt,le);return Vt(function Hr(le){return le&&Di(le.canLoad)}(On)?On.canLoad(ye,de):(0,e.N4e)(le,()=>On(ye,de)))});return(0,p.of)(St).pipe(tt(),va())}(ye,de,_e).pipe((0,P.ZZ)(nt=>nt?this.configLoader.loadChildren(ye,de).pipe((0,B.M)(St=>{de._loadedRoutes=St.routes,de._loadedInjector=St.injector})):function Ha(){return(0,D.$)(Er(!1,bt.GuardRejected))}())):(0,p.of)({routes:[],injector:ye})}}function xr(le){const ye=le.value.routeConfig;return ye&&""===ye.path}function ls(le){const ye=[],de=new Set;for(const _e of le){if(!xr(_e)){ye.push(_e);continue}const nt=ye.find(St=>_e.value.routeConfig===St.value.routeConfig);void 0!==nt?(nt.children.push(..._e.children),de.add(nt)):ye.push(_e)}for(const _e of de){const nt=ls(_e.children);ye.push(new xn(_e.value,nt))}return ye.filter(_e=>!de.has(_e))}function Xa(le){return le.data||{}}function Jc(le){return le.resolve||{}}function Ya(le){const ye=le.children.map(de=>Ya(de)).flat();return[le,...ye]}function Jl(le){return(0,K.n)(ye=>{const de=le(ye);return de?(0,d.H)(de).pipe((0,G.T)(()=>ye)):(0,p.of)(ye)})}let Dc=(()=>{class le{buildTitle(de){let _e,nt=de.root;for(;void 0!==nt;)_e=this.getResolvedTitleForRoute(nt)??_e,nt=nt.children.find(St=>St.outlet===ve);return _e}getResolvedTitleForRoute(de){return de.data[Ce]}static#e=this.\u0275fac=function(_e){return new(_e||le)};static#t=this.\u0275prov=e.jDH({token:le,factory:()=>(0,e.WQX)(Sa),providedIn:"root"})}return le})(),Sa=(()=>{class le extends Dc{constructor(de){super(),this.title=de}updateTitle(de){const _e=this.buildTitle(de);void 0!==_e&&this.title.setTitle(_e)}static#e=this.\u0275fac=function(_e){return new(_e||le)(e.KVO(vt.hE))};static#t=this.\u0275prov=e.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();const sa=new e.nKC("",{providedIn:"root",factory:()=>({})});let Zl=(()=>{class le{static#e=this.\u0275fac=function(_e){return new(_e||le)};static#t=this.\u0275cmp=e.VBU({type:le,selectors:[["ng-component"]],standalone:!0,features:[e.aNF],decls:1,vars:0,template:function(_e,nt){1&_e&&e.nrm(0,"router-outlet")},dependencies:[rr],encapsulation:2})}return le})();function fs(le){const ye=le.children&&le.children.map(fs),de=ye?{...le,children:ye}:{...le};return!de.component&&!de.loadComponent&&(ye||de.loadChildren)&&de.outlet&&de.outlet!==ve&&(de.component=Zl),de}const To=new e.nKC("");let ql=(()=>{class le{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,e.WQX)(e.Ql9)}loadComponent(de){if(this.componentLoaders.get(de))return this.componentLoaders.get(de);if(de._loadedComponent)return(0,p.of)(de._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(de);const _e=Vt(de.loadComponent()).pipe((0,G.T)(Ph),(0,B.M)(St=>{this.onLoadEndListener&&this.onLoadEndListener(de),de._loadedComponent=St}),(0,Ct.j)(()=>{this.componentLoaders.delete(de)})),nt=new A.G(_e,()=>new v.B7).pipe((0,lt.B)());return this.componentLoaders.set(de,nt),nt}loadChildren(de,_e){if(this.childrenLoaders.get(_e))return this.childrenLoaders.get(_e);if(_e._loadedRoutes)return(0,p.of)({routes:_e._loadedRoutes,injector:_e._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(_e);const St=function ao(le,ye,de,_e){return Vt(le.loadChildren()).pipe((0,G.T)(Ph),(0,P.ZZ)(nt=>nt instanceof e.Co$||Array.isArray(nt)?(0,p.of)(nt):(0,d.H)(ye.compileModuleAsync(nt))),(0,G.T)(nt=>{_e&&_e(le);let St,Zt,On=!1;return Array.isArray(nt)?(Zt=nt,!0):(St=nt.create(de).injector,Zt=St.get(To,[],{optional:!0,self:!0}).flat()),{routes:Zt.map(fs),injector:St}}))}(_e,this.compiler,de,this.onLoadEndListener).pipe((0,Ct.j)(()=>{this.childrenLoaders.delete(_e)})),Zt=new A.G(St,()=>new v.B7).pipe((0,lt.B)());return this.childrenLoaders.set(_e,Zt),Zt}static#e=this.\u0275fac=function(_e){return new(_e||le)};static#t=this.\u0275prov=e.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();function Ph(le){return function ul(le){return le&&"object"==typeof le&&"default"in le}(le)?le.default:le}let Qa=(()=>{class le{static#e=this.\u0275fac=function(_e){return new(_e||le)};static#t=this.\u0275prov=e.jDH({token:le,factory:()=>(0,e.WQX)(et),providedIn:"root"})}return le})(),et=(()=>{class le{shouldProcessUrl(de){return!0}extract(de){return de}merge(de,_e){return de}static#e=this.\u0275fac=function(_e){return new(_e||le)};static#t=this.\u0275prov=e.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();const je=new e.nKC(""),q=new e.nKC("");function ze(le,ye,de){const _e=le.get(q),nt=le.get(z.qQ);return le.get(e.SKi).runOutsideAngular(()=>{if(!nt.startViewTransition||_e.skipNextTransition)return _e.skipNextTransition=!1,new Promise(si=>setTimeout(si));let St;const Zt=new Promise(si=>{St=si}),On=nt.startViewTransition(()=>(St(),function De(le){return new Promise(ye=>{(0,e.mal)({read:()=>setTimeout(ye)},{injector:le})})}(le))),{onViewTransitionCreated:Mn}=_e;return Mn&&(0,e.N4e)(le,()=>Mn({transition:On,from:ye,to:de})),Zt})}const We=new e.nKC("");let Wt=(()=>{class le{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new v.B7,this.transitionAbortSubject=new v.B7,this.configLoader=(0,e.WQX)(ql),this.environmentInjector=(0,e.WQX)(e.uvJ),this.urlSerializer=(0,e.WQX)($t),this.rootContexts=(0,e.WQX)(Sr),this.location=(0,e.WQX)(z.aZ),this.inputBindingEnabled=null!==(0,e.WQX)(br,{optional:!0}),this.titleStrategy=(0,e.WQX)(Dc),this.options=(0,e.WQX)(sa,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,e.WQX)(Qa),this.createViewTransition=(0,e.WQX)(je,{optional:!0}),this.navigationErrorHandler=(0,e.WQX)(We,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,p.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=nt=>this.events.next(new Ai(nt)),this.configLoader.onLoadStartListener=nt=>this.events.next(new Hs(nt))}complete(){this.transitions?.complete()}handleNavigationRequest(de){const _e=++this.navigationId;this.transitions?.next({...this.transitions.value,...de,id:_e})}setupNavigations(de,_e,nt){return this.transitions=new m.t({id:0,currentUrlTree:_e,currentRawUrl:_e,extractedUrl:this.urlHandlingStrategy.extract(_e),urlAfterRedirects:this.urlHandlingStrategy.extract(_e),rawUrl:_e,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:mt,restoredState:null,currentSnapshot:nt.snapshot,targetSnapshot:null,currentRouterState:nt,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Y.p)(St=>0!==St.id),(0,G.T)(St=>({...St,extractedUrl:this.urlHandlingStrategy.extract(St.rawUrl)})),(0,K.n)(St=>{let Zt=!1,On=!1;return(0,p.of)(St).pipe((0,K.n)(Mn=>{if(this.navigationId>St.id)return this.cancelNavigationTransition(St,"",bt.SupersededByNewNavigation),E.w;this.currentTransition=St,this.currentNavigation={id:Mn.id,initialUrl:Mn.rawUrl,extractedUrl:Mn.extractedUrl,targetBrowserUrl:"string"==typeof Mn.extras.browserUrl?this.urlSerializer.parse(Mn.extras.browserUrl):Mn.extras.browserUrl,trigger:Mn.source,extras:Mn.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const si=!de.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!si&&"reload"!==(Mn.extras.onSameUrlNavigation??de.onSameUrlNavigation)){const ns="";return this.events.next(new hi(Mn.id,this.urlSerializer.serialize(Mn.rawUrl),ns,Jt.IgnoredSameUrlNavigation)),Mn.resolve(!1),E.w}if(this.urlHandlingStrategy.shouldProcessUrl(Mn.rawUrl))return(0,p.of)(Mn).pipe((0,K.n)(ns=>{const vi=this.transitions?.getValue();return this.events.next(new Ae(ns.id,this.urlSerializer.serialize(ns.extractedUrl),ns.source,ns.restoredState)),vi!==this.transitions?.getValue()?E.w:Promise.resolve(ns)}),function ia(le,ye,de,_e,nt,St){return(0,P.ZZ)(Zt=>function Bi(le,ye,de,_e,nt,St,Zt="emptyOnly"){return new js(le,ye,de,_e,nt,Zt,St).recognize()}(le,ye,de,_e,Zt.extractedUrl,nt,St).pipe((0,G.T)(({state:On,tree:Mn})=>({...Zt,targetSnapshot:On,urlAfterRedirects:Mn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,de.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,B.M)(ns=>{St.targetSnapshot=ns.targetSnapshot,St.urlAfterRedirects=ns.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:ns.urlAfterRedirects};const vi=new Vi(ns.id,this.urlSerializer.serialize(ns.extractedUrl),this.urlSerializer.serialize(ns.urlAfterRedirects),ns.targetSnapshot);this.events.next(vi)}));if(si&&this.urlHandlingStrategy.shouldProcessUrl(Mn.currentRawUrl)){const{id:ns,extractedUrl:vi,source:Ls,restoredState:Ss,extras:jo}=Mn,ps=new Ae(ns,this.urlSerializer.serialize(vi),Ls,Ss);this.events.next(ps);const pl=Ki(this.rootComponentType).snapshot;return this.currentTransition=St={...Mn,targetSnapshot:pl,urlAfterRedirects:vi,extras:{...jo,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=vi,(0,p.of)(St)}{const ns="";return this.events.next(new hi(Mn.id,this.urlSerializer.serialize(Mn.extractedUrl),ns,Jt.IgnoredByUrlHandlingStrategy)),Mn.resolve(!1),E.w}}),(0,B.M)(Mn=>{const si=new zi(Mn.id,this.urlSerializer.serialize(Mn.extractedUrl),this.urlSerializer.serialize(Mn.urlAfterRedirects),Mn.targetSnapshot);this.events.next(si)}),(0,G.T)(Mn=>(this.currentTransition=St={...Mn,guards:xi(Mn.targetSnapshot,Mn.currentSnapshot,this.rootContexts)},St)),function Tt(le,ye){return(0,P.ZZ)(de=>{const{targetSnapshot:_e,currentSnapshot:nt,guards:{canActivateChecks:St,canDeactivateChecks:Zt}}=de;return 0===Zt.length&&0===St.length?(0,p.of)({...de,guardsResult:!0}):function cn(le,ye,de,_e){return(0,d.H)(le).pipe((0,P.ZZ)(nt=>function za(le,ye,de,_e,nt){const St=ye&&ye.routeConfig?ye.routeConfig.canDeactivate:null;if(!St||0===St.length)return(0,p.of)(!0);const Zt=St.map(On=>{const Mn=Br(ye)??nt,si=Ts(On,Mn);return Vt(function _a(le){return le&&Di(le.canDeactivate)}(si)?si.canDeactivate(le,ye,de,_e):(0,e.N4e)(Mn,()=>si(le,ye,de,_e))).pipe((0,U.$)())});return(0,p.of)(Zt).pipe(tt())}(nt.component,nt.route,de,ye,_e)),(0,U.$)(nt=>!0!==nt,!0))}(Zt,_e,nt,le).pipe((0,P.ZZ)(On=>On&&function Ia(le){return"boolean"==typeof le}(On)?function Ii(le,ye,de,_e){return(0,d.H)(ye).pipe((0,$.H)(nt=>(0,b.x)(function ar(le,ye){return null!==le&&ye&&ye(new Gr(le)),(0,p.of)(!0)}(nt.route.parent,_e),function Xi(le,ye){return null!==le&&ye&&ye(new Ir(le)),(0,p.of)(!0)}(nt.route,_e),function ga(le,ye,de){const _e=ye[ye.length-1],St=ye.slice(0,ye.length-1).reverse().map(Zt=>function No(le){const ye=le.routeConfig?le.routeConfig.canActivateChild:null;return ye&&0!==ye.length?{node:le,guards:ye}:null}(Zt)).filter(Zt=>null!==Zt).map(Zt=>(0,u.v)(()=>{const On=Zt.guards.map(Mn=>{const si=Br(Zt.node)??de,$i=Ts(Mn,si);return Vt(function Yl(le){return le&&Di(le.canActivateChild)}($i)?$i.canActivateChild(_e,le):(0,e.N4e)(si,()=>$i(_e,le))).pipe((0,U.$)())});return(0,p.of)(On).pipe(tt())}));return(0,p.of)(St).pipe(tt())}(le,nt.path,de),function mi(le,ye,de){const _e=ye.routeConfig?ye.routeConfig.canActivate:null;if(!_e||0===_e.length)return(0,p.of)(!0);const nt=_e.map(St=>(0,u.v)(()=>{const Zt=Br(ye)??de,On=Ts(St,Zt);return Vt(function Qc(le){return le&&Di(le.canActivate)}(On)?On.canActivate(ye,le):(0,e.N4e)(Zt,()=>On(ye,le))).pipe((0,U.$)())}));return(0,p.of)(nt).pipe(tt())}(le,nt.route,de))),(0,U.$)(nt=>!0!==nt,!0))}(_e,St,le,ye):(0,p.of)(On)),(0,G.T)(On=>({...de,guardsResult:On})))})}(this.environmentInjector,Mn=>this.events.next(Mn)),(0,B.M)(Mn=>{if(St.guardsResult=Mn.guardsResult,Mn.guardsResult&&"boolean"!=typeof Mn.guardsResult)throw Fr(0,Mn.guardsResult);const si=new wi(Mn.id,this.urlSerializer.serialize(Mn.extractedUrl),this.urlSerializer.serialize(Mn.urlAfterRedirects),Mn.targetSnapshot,!!Mn.guardsResult);this.events.next(si)}),(0,Y.p)(Mn=>!!Mn.guardsResult||(this.cancelNavigationTransition(Mn,"",bt.GuardRejected),!1)),Jl(Mn=>{if(Mn.guards.canActivateChecks.length)return(0,p.of)(Mn).pipe((0,B.M)(si=>{const $i=new Ji(si.id,this.urlSerializer.serialize(si.extractedUrl),this.urlSerializer.serialize(si.urlAfterRedirects),si.targetSnapshot);this.events.next($i)}),(0,K.n)(si=>{let $i=!1;return(0,p.of)(si).pipe(function ba(le,ye){return(0,P.ZZ)(de=>{const{targetSnapshot:_e,guards:{canActivateChecks:nt}}=de;if(!nt.length)return(0,p.of)(de);const St=new Set(nt.map(Mn=>Mn.route)),Zt=new Set;for(const Mn of St)if(!Zt.has(Mn))for(const si of Ya(Mn))Zt.add(si);let On=0;return(0,d.H)(Zt).pipe((0,$.H)(Mn=>St.has(Mn)?function ji(le,ye,de,_e){const nt=le.routeConfig,St=le._resolve;return void 0!==nt?.title&&!Ys(nt)&&(St[Ce]=nt.title),function Is(le,ye,de,_e){const nt=Ve(le);if(0===nt.length)return(0,p.of)({});const St={};return(0,d.H)(nt).pipe((0,P.ZZ)(Zt=>function Tc(le,ye,de,_e){const nt=Br(ye)??_e,St=Ts(le,nt);return Vt(St.resolve?St.resolve(ye,de):(0,e.N4e)(nt,()=>St(ye,de)))}(le[Zt],ye,de,_e).pipe((0,U.$)(),(0,B.M)(On=>{if(On instanceof Ur)throw Fr(new kt,On);St[Zt]=On}))),te(1),function fe(le){return ye=>ye.lift(new Me(le))}(St),(0,y.W)(Zt=>Wa(Zt)?E.w:(0,D.$)(Zt)))}(St,le,ye,_e).pipe((0,G.T)(Zt=>(le._resolvedData=Zt,le.data=us(le,le.parent,de).resolve,null)))}(Mn,_e,le,ye):(Mn.data=us(Mn,Mn.parent,le).resolve,(0,p.of)(void 0))),(0,B.M)(()=>On++),te(1),(0,P.ZZ)(Mn=>On===Zt.size?(0,p.of)(de):E.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,B.M)({next:()=>$i=!0,complete:()=>{$i||this.cancelNavigationTransition(si,"",bt.NoDataFromResolver)}}))}),(0,B.M)(si=>{const $i=new Ni(si.id,this.urlSerializer.serialize(si.extractedUrl),this.urlSerializer.serialize(si.urlAfterRedirects),si.targetSnapshot);this.events.next($i)}))}),Jl(Mn=>{const si=$i=>{const ns=[];$i.routeConfig?.loadComponent&&!$i.routeConfig._loadedComponent&&ns.push(this.configLoader.loadComponent($i.routeConfig).pipe((0,B.M)(vi=>{$i.component=vi}),(0,G.T)(()=>{})));for(const vi of $i.children)ns.push(...si(vi));return ns};return(0,_.zV)(si(Mn.targetSnapshot.root)).pipe((0,w.U)(null),(0,F.s)(1))}),Jl(()=>this.afterPreactivation()),(0,K.n)(()=>{const{currentSnapshot:Mn,targetSnapshot:si}=St,$i=this.createViewTransition?.(this.environmentInjector,Mn.root,si.root);return $i?(0,d.H)($i).pipe((0,G.T)(()=>St)):(0,p.of)(St)}),(0,G.T)(Mn=>{const si=function ro(le,ye,de){const _e=yr(le,ye._root,de?de._root:void 0);return new pi(_e,ye)}(de.routeReuseStrategy,Mn.targetSnapshot,Mn.currentRouterState);return this.currentTransition=St={...Mn,targetRouterState:si},this.currentNavigation.targetRouterState=si,St}),(0,B.M)(()=>{this.events.next(new bo)}),((le,ye,de,_e)=>(0,G.T)(nt=>(new Fs(ye,nt.targetRouterState,nt.currentRouterState,de,_e).activate(le),nt)))(this.rootContexts,de.routeReuseStrategy,Mn=>this.events.next(Mn),this.inputBindingEnabled),(0,F.s)(1),(0,B.M)({next:Mn=>{Zt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new xe(Mn.id,this.urlSerializer.serialize(Mn.extractedUrl),this.urlSerializer.serialize(Mn.urlAfterRedirects))),this.titleStrategy?.updateTitle(Mn.targetRouterState.snapshot),Mn.resolve(!0)},complete:()=>{Zt=!0}}),(0,Ot.Q)(this.transitionAbortSubject.pipe((0,B.M)(Mn=>{throw Mn}))),(0,Ct.j)(()=>{!Zt&&!On&&this.cancelNavigationTransition(St,"",bt.SupersededByNewNavigation),this.currentTransition?.id===St.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,y.W)(Mn=>{if(On=!0,Yo(Mn))this.events.next(new Bn(St.id,this.urlSerializer.serialize(St.extractedUrl),Mn.message,Mn.cancellationCode)),function Eo(le){return Yo(le)&&xt(le.url)}(Mn)?this.events.next(new kr(Mn.url,Mn.navigationBehaviorOptions)):St.resolve(!1);else{const si=new Pi(St.id,this.urlSerializer.serialize(St.extractedUrl),Mn,St.targetSnapshot??void 0);try{const $i=(0,e.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(si));if($i instanceof Ur){const{message:ns,cancellationCode:vi}=Fr(0,$i);this.events.next(new Bn(St.id,this.urlSerializer.serialize(St.extractedUrl),ns,vi)),this.events.next(new kr($i.redirectTo,$i.navigationBehaviorOptions))}else{this.events.next(si);const ns=de.errorHandler(Mn);St.resolve(!!ns)}}catch($i){this.options.resolveNavigationPromiseOnError?St.resolve(!1):St.reject($i)}}return E.w}))}))}cancelNavigationTransition(de,_e,nt){const St=new Bn(de.id,this.urlSerializer.serialize(de.extractedUrl),_e,nt);this.events.next(St),de.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const de=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),_e=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return de.toString()!==_e?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static#e=this.\u0275fac=function(_e){return new(_e||le)};static#t=this.\u0275prov=e.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();function mn(le){return le!==mt}let Rn=(()=>{class le{static#e=this.\u0275fac=function(_e){return new(_e||le)};static#t=this.\u0275prov=e.jDH({token:le,factory:()=>(0,e.WQX)(Ps),providedIn:"root"})}return le})();class Gn{shouldDetach(ye){return!1}store(ye,de){}shouldAttach(ye){return!1}retrieve(ye){return null}shouldReuseRoute(ye,de){return ye.routeConfig===de.routeConfig}}let Ps=(()=>{class le extends Gn{static#e=this.\u0275fac=(()=>{let de;return function(nt){return(de||(de=e.xGo(le)))(nt||le)}})();static#t=this.\u0275prov=e.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})(),Zi=(()=>{class le{static#e=this.\u0275fac=function(_e){return new(_e||le)};static#t=this.\u0275prov=e.jDH({token:le,factory:()=>(0,e.WQX)($s),providedIn:"root"})}return le})(),$s=(()=>{class le extends Zi{constructor(){super(...arguments),this.location=(0,e.WQX)(z.aZ),this.urlSerializer=(0,e.WQX)($t),this.options=(0,e.WQX)(sa,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,e.WQX)(Qa),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Kt,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Ki(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(de){return this.location.subscribe(_e=>{"popstate"===_e.type&&de(_e.url,_e.state)})}handleRouterEvent(de,_e){if(de instanceof Ae)this.stateMemento=this.createStateMemento();else if(de instanceof hi)this.rawUrlTree=_e.initialUrl;else if(de instanceof Vi){if("eager"===this.urlUpdateStrategy&&!_e.extras.skipLocationChange){const nt=this.urlHandlingStrategy.merge(_e.finalUrl,_e.initialUrl);this.setBrowserUrl(_e.targetBrowserUrl??nt,_e)}}else de instanceof bo?(this.currentUrlTree=_e.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(_e.finalUrl,_e.initialUrl),this.routerState=_e.targetRouterState,"deferred"===this.urlUpdateStrategy&&!_e.extras.skipLocationChange&&this.setBrowserUrl(_e.targetBrowserUrl??this.rawUrlTree,_e)):de instanceof Bn&&(de.code===bt.GuardRejected||de.code===bt.NoDataFromResolver)?this.restoreHistory(_e):de instanceof Pi?this.restoreHistory(_e,!0):de instanceof xe&&(this.lastSuccessfulId=de.id,this.currentPageId=this.browserPageId)}setBrowserUrl(de,_e){const nt=de instanceof Kt?this.urlSerializer.serialize(de):de;if(this.location.isCurrentPathEqualTo(nt)||_e.extras.replaceUrl){const Zt={..._e.extras.state,...this.generateNgRouterState(_e.id,this.browserPageId)};this.location.replaceState(nt,"",Zt)}else{const St={..._e.extras.state,...this.generateNgRouterState(_e.id,this.browserPageId+1)};this.location.go(nt,"",St)}}restoreHistory(de,_e=!1){if("computed"===this.canceledNavigationResolution){const St=this.currentPageId-this.browserPageId;0!==St?this.location.historyGo(St):this.currentUrlTree===de.finalUrl&&0===St&&(this.resetState(de),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(_e&&this.resetState(de),this.resetUrlToCurrentUrlTree())}resetState(de){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,de.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(de,_e){return"computed"===this.canceledNavigationResolution?{navigationId:de,\u0275routerPageId:_e}:{navigationId:de}}static#e=this.\u0275fac=(()=>{let de;return function(nt){return(de||(de=e.xGo(le)))(nt||le)}})();static#t=this.\u0275prov=e.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();var Vn=function(le){return le[le.COMPLETE=0]="COMPLETE",le[le.FAILED=1]="FAILED",le[le.REDIRECTING=2]="REDIRECTING",le}(Vn||{});function Ci(le,ye){le.events.pipe((0,Y.p)(de=>de instanceof xe||de instanceof Bn||de instanceof Pi||de instanceof hi),(0,G.T)(de=>de instanceof xe||de instanceof hi?Vn.COMPLETE:de instanceof Bn&&(de.code===bt.Redirect||de.code===bt.SupersededByNewNavigation)?Vn.REDIRECTING:Vn.FAILED),(0,Y.p)(de=>de!==Vn.REDIRECTING),(0,F.s)(1)).subscribe(()=>{ye()})}function Os(le){throw le}const cr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Bo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let pr=(()=>{class le{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,e.WQX)(e.H3F),this.stateManager=(0,e.WQX)(Zi),this.options=(0,e.WQX)(sa,{optional:!0})||{},this.pendingTasks=(0,e.WQX)(e.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,e.WQX)(Wt),this.urlSerializer=(0,e.WQX)($t),this.location=(0,e.WQX)(z.aZ),this.urlHandlingStrategy=(0,e.WQX)(Qa),this._events=new v.B7,this.errorHandler=this.options.errorHandler||Os,this.navigated=!1,this.routeReuseStrategy=(0,e.WQX)(Rn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,e.WQX)(To,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,e.WQX)(br,{optional:!0}),this.eventsSubscription=new O.y,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:de=>{this.console.warn(de)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const de=this.navigationTransitions.events.subscribe(_e=>{try{const nt=this.navigationTransitions.currentTransition,St=this.navigationTransitions.currentNavigation;if(null!==nt&&null!==St)if(this.stateManager.handleRouterEvent(_e,St),_e instanceof Bn&&_e.code!==bt.Redirect&&_e.code!==bt.SupersededByNewNavigation)this.navigated=!0;else if(_e instanceof xe)this.navigated=!0;else if(_e instanceof kr){const Zt=_e.navigationBehaviorOptions,On=this.urlHandlingStrategy.merge(_e.url,nt.currentRawUrl),Mn={browserUrl:nt.extras.browserUrl,info:nt.extras.info,skipLocationChange:nt.extras.skipLocationChange,replaceUrl:nt.extras.replaceUrl||"eager"===this.urlUpdateStrategy||mn(nt.source),...Zt};this.scheduleNavigation(On,mt,null,Mn,{resolve:nt.resolve,reject:nt.reject,promise:nt.promise})}(function ra(le){return!(le instanceof bo||le instanceof kr)})(_e)&&this._events.next(_e)}catch(nt){this.navigationTransitions.transitionAbortSubject.next(nt)}});this.eventsSubscription.add(de)}resetRootComponentType(de){this.routerState.root.component=de,this.navigationTransitions.rootComponentType=de}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),mt,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((de,_e)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(de,"popstate",_e)},0)})}navigateToSyncWithBrowser(de,_e,nt){const St={replaceUrl:!0},Zt=nt?.navigationId?nt:null;if(nt){const Mn={...nt};delete Mn.navigationId,delete Mn.\u0275routerPageId,0!==Object.keys(Mn).length&&(St.state=Mn)}const On=this.parseUrl(de);this.scheduleNavigation(On,_e,Zt,St)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(de){this.config=de.map(fs),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(de,_e={}){const{relativeTo:nt,queryParams:St,fragment:Zt,queryParamsHandling:On,preserveFragment:Mn}=_e,si=Mn?this.currentUrlTree.fragment:Zt;let ns,$i=null;switch(On??this.options.defaultQueryParamsHandling){case"merge":$i={...this.currentUrlTree.queryParams,...St};break;case"preserve":$i=this.currentUrlTree.queryParams;break;default:$i=St||null}null!==$i&&($i=this.removeEmptyProps($i));try{ns=nn(nt?nt.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof de[0]||"/"!==de[0][0])&&(de=[]),ns=this.currentUrlTree.root}return En(ns,de,$i,si??null)}navigateByUrl(de,_e={skipLocationChange:!1}){const nt=xt(de)?de:this.parseUrl(de),St=this.urlHandlingStrategy.merge(nt,this.rawUrlTree);return this.scheduleNavigation(St,mt,null,_e)}navigate(de,_e={skipLocationChange:!1}){return function hl(le){for(let ye=0;ye<le.length;ye++)if(null==le[ye])throw new e.wOt(4008,!1)}(de),this.navigateByUrl(this.createUrlTree(de,_e),_e)}serializeUrl(de){return this.urlSerializer.serialize(de)}parseUrl(de){try{return this.urlSerializer.parse(de)}catch{return this.urlSerializer.parse("/")}}isActive(de,_e){let nt;if(nt=!0===_e?{...cr}:!1===_e?{...Bo}:_e,xt(de))return ot(this.currentUrlTree,de,nt);const St=this.parseUrl(de);return ot(this.currentUrlTree,St,nt)}removeEmptyProps(de){return Object.entries(de).reduce((_e,[nt,St])=>(null!=St&&(_e[nt]=St),_e),{})}scheduleNavigation(de,_e,nt,St,Zt){if(this.disposed)return Promise.resolve(!1);let On,Mn,si;Zt?(On=Zt.resolve,Mn=Zt.reject,si=Zt.promise):si=new Promise((ns,vi)=>{On=ns,Mn=vi});const $i=this.pendingTasks.add();return Ci(this,()=>{queueMicrotask(()=>this.pendingTasks.remove($i))}),this.navigationTransitions.handleNavigationRequest({source:_e,restoredState:nt,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:de,extras:St,resolve:On,reject:Mn,promise:si,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),si.catch(ns=>Promise.reject(ns))}static#e=this.\u0275fac=function(_e){return new(_e||le)};static#t=this.\u0275prov=e.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})(),jr=(()=>{class le{constructor(de,_e,nt,St,Zt,On){this.router=de,this.route=_e,this.tabIndexAttribute=nt,this.renderer=St,this.el=Zt,this.locationStrategy=On,this.href=null,this.onChanges=new v.B7,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const Mn=Zt.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Mn||"area"===Mn,this.isAnchorElement?this.subscription=de.events.subscribe(si=>{si instanceof xe&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(de){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",de)}ngOnChanges(de){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(de){null==de?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=xt(de)||Array.isArray(de)?de:[de],this.setTabIndexIfNotOnNativeEl("0"))}onClick(de,_e,nt,St,Zt){const On=this.urlTree;return!!(null===On||this.isAnchorElement&&(0!==de||_e||nt||St||Zt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(On,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const de=this.urlTree;this.href=null!==de&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(de)):null;const _e=null===this.href?null:(0,e.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",_e)}applyAttributeValue(de,_e){const nt=this.renderer,St=this.el.nativeElement;null!==_e?nt.setAttribute(St,de,_e):nt.removeAttribute(St,de)}get urlTree(){return null===this.routerLinkInput?null:xt(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(_e){return new(_e||le)(e.rXU(pr),e.rXU(bs),e.kS0("tabindex"),e.rXU(e.sFG),e.rXU(e.aKT),e.rXU(z.hb))};static#t=this.\u0275dir=e.FsC({type:le,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(_e,nt){1&_e&&e.bIt("click",function(Zt){return nt.onClick(Zt.button,Zt.ctrlKey,Zt.shiftKey,Zt.altKey,Zt.metaKey)}),2&_e&&e.BMQ("target",nt.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",e.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",e.L39],replaceUrl:[2,"replaceUrl","replaceUrl",e.L39],routerLink:"routerLink"},standalone:!0,features:[e.GFd,e.OA$]})}return le})(),ya=(()=>{class le{get isActive(){return this._isActive}constructor(de,_e,nt,St,Zt){this.router=de,this.element=_e,this.renderer=nt,this.cdr=St,this.link=Zt,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new e.bkB,this.routerEventsSubscription=de.events.subscribe(On=>{On instanceof xe&&this.update()})}ngAfterContentInit(){(0,p.of)(this.links.changes,(0,p.of)(null)).pipe((0,rt.U)()).subscribe(de=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const de=[...this.links.toArray(),this.link].filter(_e=>!!_e).map(_e=>_e.onChanges);this.linkInputChangesSubscription=(0,d.H)(de).pipe((0,rt.U)()).subscribe(_e=>{this._isActive!==this.isLinkActive(this.router)(_e)&&this.update()})}set routerLinkActive(de){const _e=Array.isArray(de)?de:de.split(" ");this.classes=_e.filter(nt=>!!nt)}ngOnChanges(de){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const de=this.hasActiveLinks();this.classes.forEach(_e=>{de?this.renderer.addClass(this.element.nativeElement,_e):this.renderer.removeClass(this.element.nativeElement,_e)}),de&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==de&&(this._isActive=de,this.cdr.markForCheck(),this.isActiveChange.emit(de))})}isLinkActive(de){const _e=function Ea(le){return!!le.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return nt=>{const St=nt.urlTree;return!!St&&de.isActive(St,_e)}}hasActiveLinks(){const de=this.isLinkActive(this.router);return this.link&&de(this.link)||this.links.some(de)}static#e=this.\u0275fac=function(_e){return new(_e||le)(e.rXU(pr),e.rXU(e.aKT),e.rXU(e.sFG),e.rXU(e.gRc),e.rXU(jr,8))};static#t=this.\u0275dir=e.FsC({type:le,selectors:[["","routerLinkActive",""]],contentQueries:function(_e,nt,St){if(1&_e&&e.wni(St,jr,5),2&_e){let Zt;e.mGM(Zt=e.lsd())&&(nt.links=Zt)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[e.OA$]})}return le})();class Zc{}let ci=(()=>{class le{constructor(de,_e,nt,St,Zt){this.router=de,this.injector=nt,this.preloadingStrategy=St,this.loader=Zt}setUpPreloading(){this.subscription=this.router.events.pipe((0,Y.p)(de=>de instanceof xe),(0,$.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(de,_e){const nt=[];for(const St of _e){St.providers&&!St._injector&&(St._injector=(0,e.Ol2)(St.providers,de,`Route: ${St.path}`));const Zt=St._injector??de,On=St._loadedInjector??Zt;(St.loadChildren&&!St._loadedRoutes&&void 0===St.canLoad||St.loadComponent&&!St._loadedComponent)&&nt.push(this.preloadConfig(Zt,St)),(St.children||St._loadedRoutes)&&nt.push(this.processRoutes(On,St.children??St._loadedRoutes))}return(0,d.H)(nt).pipe((0,rt.U)())}preloadConfig(de,_e){return this.preloadingStrategy.preload(_e,()=>{let nt;nt=_e.loadChildren&&void 0===_e.canLoad?this.loader.loadChildren(de,_e):(0,p.of)(null);const St=nt.pipe((0,P.ZZ)(Zt=>null===Zt?(0,p.of)(void 0):(_e._loadedRoutes=Zt.routes,_e._loadedInjector=Zt.injector,this.processRoutes(Zt.injector??de,Zt.routes))));if(_e.loadComponent&&!_e._loadedComponent){const Zt=this.loader.loadComponent(_e);return(0,d.H)([St,Zt]).pipe((0,rt.U)())}return St})}static#e=this.\u0275fac=function(_e){return new(_e||le)(e.KVO(pr),e.KVO(e.Ql9),e.KVO(e.uvJ),e.KVO(Zc),e.KVO(ql))};static#t=this.\u0275prov=e.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();const Or=new e.nKC("");let wa=(()=>{class le{constructor(de,_e,nt,St,Zt={}){this.urlSerializer=de,this.transitions=_e,this.viewportScroller=nt,this.zone=St,this.options=Zt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Zt.scrollPositionRestoration||="disabled",Zt.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(de=>{de instanceof Ae?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=de.navigationTrigger,this.restoredId=de.restoredState?de.restoredState.navigationId:0):de instanceof xe?(this.lastId=de.id,this.scheduleScrollEvent(de,this.urlSerializer.parse(de.urlAfterRedirects).fragment)):de instanceof hi&&de.code===Jt.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(de,this.urlSerializer.parse(de.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(de=>{de instanceof Zr&&(de.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(de.position):de.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(de.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(de,_e){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Zr(de,"popstate"===this.lastSource?this.store[this.restoredId]:null,_e))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(_e){e.QTQ()};static#t=this.\u0275prov=e.jDH({token:le,factory:le.\u0275fac})}return le})();function Do(le,ye){return{\u0275kind:le,\u0275providers:ye}}function xa(){const le=(0,e.WQX)(e.zZn);return ye=>{const de=le.get(e.o8S);if(ye!==de.components[0])return;const _e=le.get(pr),nt=le.get(Uo);1===le.get(qc)&&_e.initialNavigation(),le.get(Io,null,e.$GK.Optional)?.setUpPreloading(),le.get(Or,null,e.$GK.Optional)?.init(),_e.resetRootComponentType(de.componentTypes[0]),nt.closed||(nt.next(),nt.complete(),nt.unsubscribe())}}const Uo=new e.nKC("",{factory:()=>new v.B7}),qc=new e.nKC("",{providedIn:"root",factory:()=>1}),Io=new e.nKC("");function uo(le){return Do(0,[{provide:Io,useExisting:ci},{provide:Zc,useExisting:le}])}function Wn(le){return Do(9,[{provide:je,useValue:ze},{provide:q,useValue:{skipNextTransition:!!le?.skipInitialTransition,...le}}])}const xl=new e.nKC("ROUTER_FORROOT_GUARD"),Nh=[z.aZ,{provide:$t,useClass:kt},pr,Sr,{provide:bs,useFactory:function Ja(le){return le.routerState.root},deps:[pr]},ql,[]];let Vd=(()=>{class le{constructor(de){}static forRoot(de,_e){return{ngModule:le,providers:[Nh,[],{provide:To,multi:!0,useValue:de},{provide:xl,useFactory:Gd,deps:[[pr,new e.Xx1,new e.kdw]]},{provide:sa,useValue:_e||{}},_e?.useHash?{provide:z.hb,useClass:z.fw}:{provide:z.hb,useClass:z.Sm},{provide:Or,useFactory:()=>{const le=(0,e.WQX)(z.Xr),ye=(0,e.WQX)(e.SKi),de=(0,e.WQX)(sa),_e=(0,e.WQX)(Wt),nt=(0,e.WQX)($t);return de.scrollOffset&&le.setOffset(de.scrollOffset),new wa(nt,_e,le,ye,de)}},_e?.preloadingStrategy?uo(_e.preloadingStrategy).\u0275providers:[],_e?.initialNavigation?Wd(_e):[],_e?.bindToComponentInputs?Do(8,[or,{provide:br,useExisting:or}]).\u0275providers:[],_e?.enableViewTransitions?Wn().\u0275providers:[],[{provide:td,useFactory:xa},{provide:e.iLQ,multi:!0,useExisting:td}]]}}static forChild(de){return{ngModule:le,providers:[{provide:To,multi:!0,useValue:de}]}}static#e=this.\u0275fac=function(_e){return new(_e||le)(e.KVO(xl,8))};static#t=this.\u0275mod=e.$C({type:le});static#n=this.\u0275inj=e.G2t({})}return le})();function Gd(le){return"guarded"}function Wd(le){return["disabled"===le.initialNavigation?Do(3,[{provide:e.hnV,multi:!0,useFactory:()=>{const ye=(0,e.WQX)(pr);return()=>{ye.setUpLocationChangeListener()}}},{provide:qc,useValue:2}]).\u0275providers:[],"enabledBlocking"===le.initialNavigation?Do(2,[{provide:qc,useValue:0},{provide:e.hnV,multi:!0,deps:[e.zZn],useFactory:ye=>{const de=ye.get(z.hj,Promise.resolve());return()=>de.then(()=>new Promise(_e=>{const nt=ye.get(pr),St=ye.get(Uo);Ci(nt,()=>{_e(!0)}),ye.get(Wt).afterPreactivation=()=>(_e(!0),St.closed?(0,p.of)(void 0):St),nt.initialNavigation()}))}}]).\u0275providers:[]]}const td=new e.nKC("")},1780:(Mt,pe,a)=>{"use strict";a.d(pe,{D9:()=>te,Wr:()=>E,c$:()=>L,h:()=>R});var e=a(3953),i=a(4421),d=a(8982),p=a(696),m=a(1639),_=a(9418),g=a(9493),b=a(8712),u=a(5006),S=a(3574),D=a(9090);class E{}let A=(()=>{class ee extends E{getTranslation(J){return(0,i.of)({})}}return ee.\u0275fac=(()=>{let k;return function(X){return(k||(k=e.xGo(ee)))(X||ee)}})(),ee.\u0275prov=e.jDH({token:ee,factory:ee.\u0275fac}),ee})();class v{}let O=(()=>{class ee{handle(J){return J.key}}return ee.\u0275fac=function(J){return new(J||ee)},ee.\u0275prov=e.jDH({token:ee,factory:ee.\u0275fac}),ee})();function z(ee,k){if(ee===k)return!0;if(null===ee||null===k)return!1;if(ee!=ee&&k!=k)return!0;let fe,Me,Ze,J=typeof ee;if(J==typeof k&&"object"==J){if(!Array.isArray(ee)){if(Array.isArray(k))return!1;for(Me in Ze=Object.create(null),ee){if(!z(ee[Me],k[Me]))return!1;Ze[Me]=!0}for(Me in k)if(!(Me in Ze)&&typeof k[Me]<"u")return!1;return!0}if(!Array.isArray(k))return!1;if((fe=ee.length)==k.length){for(Me=0;Me<fe;Me++)if(!z(ee[Me],k[Me]))return!1;return!0}}return!1}function G(ee){return typeof ee<"u"&&null!==ee}function K(ee){return ee&&"object"==typeof ee&&!Array.isArray(ee)}function F(ee,k){let J=Object.assign({},ee);return K(ee)&&K(k)&&Object.keys(k).forEach(X=>{K(k[X])?X in ee?J[X]=F(ee[X],k[X]):Object.assign(J,{[X]:k[X]}):Object.assign(J,{[X]:k[X]})}),J}class H{}let Y=(()=>{class ee extends H{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(J,X){let fe;return fe="string"==typeof J?this.interpolateString(J,X):"function"==typeof J?this.interpolateFunction(J,X):J,fe}getValue(J,X){let fe="string"==typeof X?X.split("."):[X];X="";do{X+=fe.shift(),!G(J)||!G(J[X])||"object"!=typeof J[X]&&fe.length?fe.length?X+=".":J=void 0:(J=J[X],X="")}while(fe.length);return J}interpolateFunction(J,X){return J(X)}interpolateString(J,X){return X?J.replace(this.templateMatcher,(fe,Me)=>{let Ze=this.getValue(X,Me);return G(Ze)?Ze:fe}):J}}return ee.\u0275fac=(()=>{let k;return function(X){return(k||(k=e.xGo(ee)))(X||ee)}})(),ee.\u0275prov=e.jDH({token:ee,factory:ee.\u0275fac}),ee})();class P{}let U=(()=>{class ee extends P{compile(J,X){return J}compileTranslations(J,X){return J}}return ee.\u0275fac=(()=>{let k;return function(X){return(k||(k=e.xGo(ee)))(X||ee)}})(),ee.\u0275prov=e.jDH({token:ee,factory:ee.\u0275fac}),ee})();class ${constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new e.bkB,this.onLangChange=new e.bkB,this.onDefaultLangChange=new e.bkB}}const B=new e.nKC("USE_STORE"),y=new e.nKC("USE_DEFAULT_LANG"),I=new e.nKC("DEFAULT_LANGUAGE"),w=new e.nKC("USE_EXTEND");let L=(()=>{class ee{constructor(J,X,fe,Me,Ze,Ct=!0,lt=!1,Ot=!1,rt){this.store=J,this.currentLoader=X,this.compiler=fe,this.parser=Me,this.missingTranslationHandler=Ze,this.useDefaultLang=Ct,this.isolate=lt,this.extend=Ot,this.pending=!1,this._onTranslationChange=new e.bkB,this._onLangChange=new e.bkB,this._onDefaultLangChange=new e.bkB,this._langs=[],this._translations={},this._translationRequests={},rt&&this.setDefaultLang(rt)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(J){this.isolate?this._defaultLang=J:this.store.defaultLang=J}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(J){this.isolate?this._currentLang=J:this.store.currentLang=J}get langs(){return this.isolate?this._langs:this.store.langs}set langs(J){this.isolate?this._langs=J:this.store.langs=J}get translations(){return this.isolate?this._translations:this.store.translations}set translations(J){this.isolate?this._translations=J:this.store.translations=J}setDefaultLang(J){if(J===this.defaultLang)return;let X=this.retrieveTranslations(J);typeof X<"u"?(null==this.defaultLang&&(this.defaultLang=J),X.pipe((0,g.s)(1)).subscribe(fe=>{this.changeDefaultLang(J)})):this.changeDefaultLang(J)}getDefaultLang(){return this.defaultLang}use(J){if(J===this.currentLang)return(0,i.of)(this.translations[J]);let X=this.retrieveTranslations(J);return typeof X<"u"?(this.currentLang||(this.currentLang=J),X.pipe((0,g.s)(1)).subscribe(fe=>{this.changeLang(J)}),X):(this.changeLang(J),(0,i.of)(this.translations[J]))}retrieveTranslations(J){let X;return(typeof this.translations[J]>"u"||this.extend)&&(this._translationRequests[J]=this._translationRequests[J]||this.getTranslation(J),X=this._translationRequests[J]),X}getTranslation(J){this.pending=!0;const X=this.currentLoader.getTranslation(J).pipe((0,b.t)(1),(0,g.s)(1));return this.loadingTranslations=X.pipe((0,u.T)(fe=>this.compiler.compileTranslations(fe,J)),(0,b.t)(1),(0,g.s)(1)),this.loadingTranslations.subscribe({next:fe=>{this.translations[J]=this.extend&&this.translations[J]?{...fe,...this.translations[J]}:fe,this.updateLangs(),this.pending=!1},error:fe=>{this.pending=!1}}),X}setTranslation(J,X,fe=!1){X=this.compiler.compileTranslations(X,J),this.translations[J]=(fe||this.extend)&&this.translations[J]?F(this.translations[J],X):X,this.updateLangs(),this.onTranslationChange.emit({lang:J,translations:this.translations[J]})}getLangs(){return this.langs}addLangs(J){J.forEach(X=>{-1===this.langs.indexOf(X)&&this.langs.push(X)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(J,X,fe){let Me;if(X instanceof Array){let Ze={},Ct=!1;for(let lt of X)Ze[lt]=this.getParsedResult(J,lt,fe),(0,d.A)(Ze[lt])&&(Ct=!0);if(Ct){const lt=X.map(Ot=>(0,d.A)(Ze[Ot])?Ze[Ot]:(0,i.of)(Ze[Ot]));return(0,p.p)(lt).pipe((0,u.T)(Ot=>{let rt={};return Ot.forEach((vt,ve)=>{rt[X[ve]]=vt}),rt}))}return Ze}if(J&&(Me=this.parser.interpolate(this.parser.getValue(J,X),fe)),typeof Me>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(Me=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],X),fe)),typeof Me>"u"){let Ze={key:X,translateService:this};typeof fe<"u"&&(Ze.interpolateParams=fe),Me=this.missingTranslationHandler.handle(Ze)}return typeof Me<"u"?Me:X}get(J,X){if(!G(J)||!J.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,S.H)(fe=>(fe=this.getParsedResult(fe,J,X),(0,d.A)(fe)?fe:(0,i.of)(fe))));{let fe=this.getParsedResult(this.translations[this.currentLang],J,X);return(0,d.A)(fe)?fe:(0,i.of)(fe)}}getStreamOnTranslationChange(J,X){if(!G(J)||!J.length)throw new Error('Parameter "key" required');return(0,m.x)((0,_.v)(()=>this.get(J,X)),this.onTranslationChange.pipe((0,D.n)(fe=>{const Me=this.getParsedResult(fe.translations,J,X);return"function"==typeof Me.subscribe?Me:(0,i.of)(Me)})))}stream(J,X){if(!G(J)||!J.length)throw new Error('Parameter "key" required');return(0,m.x)((0,_.v)(()=>this.get(J,X)),this.onLangChange.pipe((0,D.n)(fe=>{const Me=this.getParsedResult(fe.translations,J,X);return(0,d.A)(Me)?Me:(0,i.of)(Me)})))}instant(J,X){if(!G(J)||!J.length)throw new Error('Parameter "key" required');let fe=this.getParsedResult(this.translations[this.currentLang],J,X);if((0,d.A)(fe)){if(J instanceof Array){let Me={};return J.forEach((Ze,Ct)=>{Me[J[Ct]]=J[Ct]}),Me}return J}return fe}set(J,X,fe=this.currentLang){this.translations[fe][J]=this.compiler.compile(X,fe),this.updateLangs(),this.onTranslationChange.emit({lang:fe,translations:this.translations[fe]})}changeLang(J){this.currentLang=J,this.onLangChange.emit({lang:J,translations:this.translations[J]}),null==this.defaultLang&&this.changeDefaultLang(J)}changeDefaultLang(J){this.defaultLang=J,this.onDefaultLangChange.emit({lang:J,translations:this.translations[J]})}reloadLang(J){return this.resetLang(J),this.getTranslation(J)}resetLang(J){this._translationRequests[J]=void 0,this.translations[J]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let J=window.navigator.languages?window.navigator.languages[0]:null;return J=J||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof J>"u"?void 0:(-1!==J.indexOf("-")&&(J=J.split("-")[0]),-1!==J.indexOf("_")&&(J=J.split("_")[0]),J)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let J=window.navigator.languages?window.navigator.languages[0]:null;return J=J||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,J}}return ee.\u0275fac=function(J){return new(J||ee)(e.KVO($),e.KVO(E),e.KVO(P),e.KVO(H),e.KVO(v),e.KVO(y),e.KVO(B),e.KVO(w),e.KVO(I))},ee.\u0275prov=e.jDH({token:ee,factory:ee.\u0275fac}),ee})(),te=(()=>{class ee{constructor(J,X){this.translate=J,this._ref=X,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(J,X,fe){let Me=Ze=>{this.value=void 0!==Ze?Ze:J,this.lastKey=J,this._ref.markForCheck()};if(fe){let Ze=this.translate.getParsedResult(fe,J,X);(0,d.A)(Ze.subscribe)?Ze.subscribe(Me):Me(Ze)}this.translate.get(J,X).subscribe(Me)}transform(J,...X){if(!J||!J.length)return J;if(z(J,this.lastKey)&&z(X,this.lastParams))return this.value;let fe;if(G(X[0])&&X.length)if("string"==typeof X[0]&&X[0].length){let Me=X[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{fe=JSON.parse(Me)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${X[0]}`)}}else"object"==typeof X[0]&&!Array.isArray(X[0])&&(fe=X[0]);return this.lastKey=J,this.lastParams=X,this.updateValue(J,fe),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(Me=>{this.lastKey&&Me.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(J,fe,Me.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(Me=>{this.lastKey&&(this.lastKey=null,this.updateValue(J,fe,Me.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(J,fe))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return ee.\u0275fac=function(J){return new(J||ee)(e.rXU(L,16),e.rXU(e.gRc,16))},ee.\u0275pipe=e.EJ8({name:"translate",type:ee,pure:!1}),ee.\u0275prov=e.jDH({token:ee,factory:ee.\u0275fac}),ee})(),R=(()=>{class ee{static forRoot(J={}){return{ngModule:ee,providers:[J.loader||{provide:E,useClass:A},J.compiler||{provide:P,useClass:U},J.parser||{provide:H,useClass:Y},J.missingTranslationHandler||{provide:v,useClass:O},$,{provide:B,useValue:J.isolate},{provide:y,useValue:J.useDefaultLang},{provide:w,useValue:J.extend},{provide:I,useValue:J.defaultLanguage},L]}}static forChild(J={}){return{ngModule:ee,providers:[J.loader||{provide:E,useClass:A},J.compiler||{provide:P,useClass:U},J.parser||{provide:H,useClass:Y},J.missingTranslationHandler||{provide:v,useClass:O},{provide:B,useValue:J.isolate},{provide:y,useValue:J.useDefaultLang},{provide:w,useValue:J.extend},{provide:I,useValue:J.defaultLanguage},L]}}}return ee.\u0275fac=function(J){return new(J||ee)},ee.\u0275mod=e.$C({type:ee}),ee.\u0275inj=e.G2t({}),ee})()},1666:(Mt,pe,a)=>{"use strict";a.d(pe,{q:()=>i});let e={};function i(){return e}},8488:(Mt,pe,a)=>{"use strict";a.d(pe,{m:()=>p});const e=(m,_)=>{switch(m){case"P":return _.date({width:"short"});case"PP":return _.date({width:"medium"});case"PPP":return _.date({width:"long"});default:return _.date({width:"full"})}},i=(m,_)=>{switch(m){case"p":return _.time({width:"short"});case"pp":return _.time({width:"medium"});case"ppp":return _.time({width:"long"});default:return _.time({width:"full"})}},p={p:i,P:(m,_)=>{const g=m.match(/(P+)(p+)?/)||[],b=g[1],u=g[2];if(!u)return e(m,_);let S;switch(b){case"P":S=_.dateTime({width:"short"});break;case"PP":S=_.dateTime({width:"medium"});break;case"PPP":S=_.dateTime({width:"long"});break;default:S=_.dateTime({width:"full"})}return S.replace("{{date}}",e(b,_)).replace("{{time}}",i(u,_))}}},6708:(Mt,pe,a)=>{"use strict";function e(i){return d=>{const m=(i?Math[i]:Math.trunc)(d);return 0===m?0:m}}a.d(pe,{u:()=>e})},5872:(Mt,pe,a)=>{"use strict";a.d(pe,{G:()=>i});var e=a(4273);function i(d){const p=(0,e.a)(d),m=new Date(Date.UTC(p.getFullYear(),p.getMonth(),p.getDate(),p.getHours(),p.getMinutes(),p.getSeconds(),p.getMilliseconds()));return m.setUTCFullYear(p.getFullYear()),+d-+m}},7195:(Mt,pe,a)=>{"use strict";a.d(pe,{Ss:()=>_,ef:()=>p,xM:()=>m});const e=/^D+$/,i=/^Y+$/,d=["D","DD","YY","YYYY"];function p(b){return e.test(b)}function m(b){return i.test(b)}function _(b,u,S){const D=function g(b,u,S){const D="Y"===b[0]?"years":"days of the month";return`Use \`${b.toLowerCase()}\` instead of \`${b}\` (in \`${u}\`) for formatting ${D} to the input \`${S}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(b,u,S);if(console.warn(D),d.includes(b))throw new RangeError(D)}},9015:(Mt,pe,a)=>{"use strict";a.d(pe,{W:()=>m});var e=a(906),i=a(5458),d=a(7729),p=a(4273);function m(g,b){const{years:u=0,months:S=0,weeks:D=0,days:E=0,hours:A=0,minutes:v=0,seconds:O=0}=b,z=(0,p.a)(g),G=S||u?(0,i.P)(z,S+12*u):z,K=E||D?(0,e.f)(G,E+7*D):G,Y=1e3*(O+60*(v+60*A));return(0,d.w)(g,K.getTime()+Y)}},906:(Mt,pe,a)=>{"use strict";a.d(pe,{f:()=>d});var e=a(4273),i=a(7729);function d(m,_){const g=(0,e.a)(m);return isNaN(_)?(0,i.w)(m,NaN):(_&&g.setDate(g.getDate()+_),g)}},3368:(Mt,pe,a)=>{"use strict";a.d(pe,{L:()=>d});var e=a(1113),i=a(9857);function d(m,_){return(0,e.A)(m,_*i.s0)}},1113:(Mt,pe,a)=>{"use strict";a.d(pe,{A:()=>d});var e=a(4273),i=a(7729);function d(m,_){const g=+(0,e.a)(m);return(0,i.w)(m,g+_)}},7926:(Mt,pe,a)=>{"use strict";a.d(pe,{z:()=>d});var e=a(1113),i=a(9857);function d(m,_){return(0,e.A)(m,_*i.Cg)}},5458:(Mt,pe,a)=>{"use strict";a.d(pe,{P:()=>d});var e=a(4273),i=a(7729);function d(m,_){const g=(0,e.a)(m);if(isNaN(_))return(0,i.w)(m,NaN);if(!_)return g;const b=g.getDate(),u=(0,i.w)(m,g.getTime());return u.setMonth(g.getMonth()+_+1,0),b>=u.getDate()?u:(g.setFullYear(u.getFullYear(),u.getMonth(),b),g)}},2350:(Mt,pe,a)=>{"use strict";a.d(pe,{J:()=>i});var e=a(906);function i(p,m){return(0,e.f)(p,7*m)}},6299:(Mt,pe,a)=>{"use strict";a.d(pe,{e:()=>i});var e=a(5458);function i(p,m){return(0,e.P)(p,12*m)}},9857:(Mt,pe,a)=>{"use strict";a.d(pe,{Cg:()=>g,F6:()=>E,Nw:()=>D,_m:()=>u,my:()=>m,s0:()=>b,w4:()=>_}),Math.pow(10,8);const m=6048e5,_=864e5,g=6e4,b=36e5,u=1e3,D=43200,E=1440},7729:(Mt,pe,a)=>{"use strict";function e(d,p){return d instanceof Date?new d.constructor(p):new Date(p)}a.d(pe,{w:()=>e})},129:(Mt,pe,a)=>{"use strict";a.d(pe,{m:()=>p});var e=a(9857),i=a(3601),d=a(5872);function p(_,g){const b=(0,i.o)(_),u=(0,i.o)(g),S=+b-(0,d.G)(b),D=+u-(0,d.G)(u);return Math.round((S-D)/e.w4)}},4415:(Mt,pe,a)=>{"use strict";a.d(pe,{c:()=>d});var e=a(129),i=a(4273);function d(_,g){const b=(0,i.a)(_),u=(0,i.a)(g),S=p(b,u),D=Math.abs((0,e.m)(b,u));b.setDate(b.getDate()-S*D);const A=S*(D-+(p(b,u)===-S));return 0===A?0:A}function p(_,g){const b=_.getFullYear()-g.getFullYear()||_.getMonth()-g.getMonth()||_.getDate()-g.getDate()||_.getHours()-g.getHours()||_.getMinutes()-g.getMinutes()||_.getSeconds()-g.getSeconds()||_.getMilliseconds()-g.getMilliseconds();return b<0?-1:b>0?1:b}},4812:(Mt,pe,a)=>{"use strict";a.d(pe,{b:()=>i});var e=a(4273);function i(p,m){return+(0,e.a)(p)-+(0,e.a)(m)}},2037:(Mt,pe,a)=>{"use strict";a.d(pe,{o:()=>p});var e=a(6708),i=a(9857),d=a(4812);function p(_,g,b){const u=(0,d.b)(_,g)/i.Cg;return(0,e.u)(b?.roundingMethod)(u)}},4512:(Mt,pe,a)=>{"use strict";a.d(pe,{D:()=>i});var e=a(4273);function i(p){const m=(0,e.a)(p);return m.setHours(23,59,59,999),m}},350:(Mt,pe,a)=>{"use strict";a.d(pe,{V:()=>i});var e=a(4273);function i(p){const m=(0,e.a)(p);return m.setSeconds(59,999),m}},7404:(Mt,pe,a)=>{"use strict";a.d(pe,{p:()=>i});var e=a(4273);function i(p){const m=(0,e.a)(p),_=m.getMonth();return m.setFullYear(m.getFullYear(),_+1,0),m.setHours(23,59,59,999),m}},2017:(Mt,pe,a)=>{"use strict";a.d(pe,{GP:()=>L});var e=a(3501),i=a(1666),d=a(129),p=a(4273),m=a(7729);var S=a(6453),D=a(910),E=a(7012),A=a(6045);function v(R,ee){return(R<0?"-":"")+Math.abs(R).toString().padStart(ee,"0")}const O={y(R,ee){const k=R.getFullYear(),J=k>0?k:1-k;return v("yy"===ee?J%100:J,ee.length)},M(R,ee){const k=R.getMonth();return"M"===ee?String(k+1):v(k+1,2)},d:(R,ee)=>v(R.getDate(),ee.length),a(R,ee){const k=R.getHours()/12>=1?"pm":"am";switch(ee){case"a":case"aa":return k.toUpperCase();case"aaa":return k;case"aaaaa":return k[0];default:return"am"===k?"a.m.":"p.m."}},h:(R,ee)=>v(R.getHours()%12||12,ee.length),H:(R,ee)=>v(R.getHours(),ee.length),m:(R,ee)=>v(R.getMinutes(),ee.length),s:(R,ee)=>v(R.getSeconds(),ee.length),S(R,ee){const k=ee.length,J=R.getMilliseconds();return v(Math.trunc(J*Math.pow(10,k-3)),ee.length)}},G={G:function(R,ee,k){const J=R.getFullYear()>0?1:0;switch(ee){case"G":case"GG":case"GGG":return k.era(J,{width:"abbreviated"});case"GGGGG":return k.era(J,{width:"narrow"});default:return k.era(J,{width:"wide"})}},y:function(R,ee,k){if("yo"===ee){const J=R.getFullYear();return k.ordinalNumber(J>0?J:1-J,{unit:"year"})}return O.y(R,ee)},Y:function(R,ee,k,J){const X=(0,A.h)(R,J),fe=X>0?X:1-X;return"YY"===ee?v(fe%100,2):"Yo"===ee?k.ordinalNumber(fe,{unit:"year"}):v(fe,ee.length)},R:function(R,ee){return v((0,D.p)(R),ee.length)},u:function(R,ee){return v(R.getFullYear(),ee.length)},Q:function(R,ee,k){const J=Math.ceil((R.getMonth()+1)/3);switch(ee){case"Q":return String(J);case"QQ":return v(J,2);case"Qo":return k.ordinalNumber(J,{unit:"quarter"});case"QQQ":return k.quarter(J,{width:"abbreviated",context:"formatting"});case"QQQQQ":return k.quarter(J,{width:"narrow",context:"formatting"});default:return k.quarter(J,{width:"wide",context:"formatting"})}},q:function(R,ee,k){const J=Math.ceil((R.getMonth()+1)/3);switch(ee){case"q":return String(J);case"qq":return v(J,2);case"qo":return k.ordinalNumber(J,{unit:"quarter"});case"qqq":return k.quarter(J,{width:"abbreviated",context:"standalone"});case"qqqqq":return k.quarter(J,{width:"narrow",context:"standalone"});default:return k.quarter(J,{width:"wide",context:"standalone"})}},M:function(R,ee,k){const J=R.getMonth();switch(ee){case"M":case"MM":return O.M(R,ee);case"Mo":return k.ordinalNumber(J+1,{unit:"month"});case"MMM":return k.month(J,{width:"abbreviated",context:"formatting"});case"MMMMM":return k.month(J,{width:"narrow",context:"formatting"});default:return k.month(J,{width:"wide",context:"formatting"})}},L:function(R,ee,k){const J=R.getMonth();switch(ee){case"L":return String(J+1);case"LL":return v(J+1,2);case"Lo":return k.ordinalNumber(J+1,{unit:"month"});case"LLL":return k.month(J,{width:"abbreviated",context:"standalone"});case"LLLLL":return k.month(J,{width:"narrow",context:"standalone"});default:return k.month(J,{width:"wide",context:"standalone"})}},w:function(R,ee,k,J){const X=(0,E.N)(R,J);return"wo"===ee?k.ordinalNumber(X,{unit:"week"}):v(X,ee.length)},I:function(R,ee,k){const J=(0,S.s)(R);return"Io"===ee?k.ordinalNumber(J,{unit:"week"}):v(J,ee.length)},d:function(R,ee,k){return"do"===ee?k.ordinalNumber(R.getDate(),{unit:"date"}):O.d(R,ee)},D:function(R,ee,k){const J=function b(R){const ee=(0,p.a)(R);return(0,d.m)(ee,function _(R){const ee=(0,p.a)(R),k=(0,m.w)(R,0);return k.setFullYear(ee.getFullYear(),0,1),k.setHours(0,0,0,0),k}(ee))+1}(R);return"Do"===ee?k.ordinalNumber(J,{unit:"dayOfYear"}):v(J,ee.length)},E:function(R,ee,k){const J=R.getDay();switch(ee){case"E":case"EE":case"EEE":return k.day(J,{width:"abbreviated",context:"formatting"});case"EEEEE":return k.day(J,{width:"narrow",context:"formatting"});case"EEEEEE":return k.day(J,{width:"short",context:"formatting"});default:return k.day(J,{width:"wide",context:"formatting"})}},e:function(R,ee,k,J){const X=R.getDay(),fe=(X-J.weekStartsOn+8)%7||7;switch(ee){case"e":return String(fe);case"ee":return v(fe,2);case"eo":return k.ordinalNumber(fe,{unit:"day"});case"eee":return k.day(X,{width:"abbreviated",context:"formatting"});case"eeeee":return k.day(X,{width:"narrow",context:"formatting"});case"eeeeee":return k.day(X,{width:"short",context:"formatting"});default:return k.day(X,{width:"wide",context:"formatting"})}},c:function(R,ee,k,J){const X=R.getDay(),fe=(X-J.weekStartsOn+8)%7||7;switch(ee){case"c":return String(fe);case"cc":return v(fe,ee.length);case"co":return k.ordinalNumber(fe,{unit:"day"});case"ccc":return k.day(X,{width:"abbreviated",context:"standalone"});case"ccccc":return k.day(X,{width:"narrow",context:"standalone"});case"cccccc":return k.day(X,{width:"short",context:"standalone"});default:return k.day(X,{width:"wide",context:"standalone"})}},i:function(R,ee,k){const J=R.getDay(),X=0===J?7:J;switch(ee){case"i":return String(X);case"ii":return v(X,ee.length);case"io":return k.ordinalNumber(X,{unit:"day"});case"iii":return k.day(J,{width:"abbreviated",context:"formatting"});case"iiiii":return k.day(J,{width:"narrow",context:"formatting"});case"iiiiii":return k.day(J,{width:"short",context:"formatting"});default:return k.day(J,{width:"wide",context:"formatting"})}},a:function(R,ee,k){const X=R.getHours()/12>=1?"pm":"am";switch(ee){case"a":case"aa":return k.dayPeriod(X,{width:"abbreviated",context:"formatting"});case"aaa":return k.dayPeriod(X,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return k.dayPeriod(X,{width:"narrow",context:"formatting"});default:return k.dayPeriod(X,{width:"wide",context:"formatting"})}},b:function(R,ee,k){const J=R.getHours();let X;switch(X=12===J?"noon":0===J?"midnight":J/12>=1?"pm":"am",ee){case"b":case"bb":return k.dayPeriod(X,{width:"abbreviated",context:"formatting"});case"bbb":return k.dayPeriod(X,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return k.dayPeriod(X,{width:"narrow",context:"formatting"});default:return k.dayPeriod(X,{width:"wide",context:"formatting"})}},B:function(R,ee,k){const J=R.getHours();let X;switch(X=J>=17?"evening":J>=12?"afternoon":J>=4?"morning":"night",ee){case"B":case"BB":case"BBB":return k.dayPeriod(X,{width:"abbreviated",context:"formatting"});case"BBBBB":return k.dayPeriod(X,{width:"narrow",context:"formatting"});default:return k.dayPeriod(X,{width:"wide",context:"formatting"})}},h:function(R,ee,k){if("ho"===ee){let J=R.getHours()%12;return 0===J&&(J=12),k.ordinalNumber(J,{unit:"hour"})}return O.h(R,ee)},H:function(R,ee,k){return"Ho"===ee?k.ordinalNumber(R.getHours(),{unit:"hour"}):O.H(R,ee)},K:function(R,ee,k){const J=R.getHours()%12;return"Ko"===ee?k.ordinalNumber(J,{unit:"hour"}):v(J,ee.length)},k:function(R,ee,k){let J=R.getHours();return 0===J&&(J=24),"ko"===ee?k.ordinalNumber(J,{unit:"hour"}):v(J,ee.length)},m:function(R,ee,k){return"mo"===ee?k.ordinalNumber(R.getMinutes(),{unit:"minute"}):O.m(R,ee)},s:function(R,ee,k){return"so"===ee?k.ordinalNumber(R.getSeconds(),{unit:"second"}):O.s(R,ee)},S:function(R,ee){return O.S(R,ee)},X:function(R,ee,k){const J=R.getTimezoneOffset();if(0===J)return"Z";switch(ee){case"X":return F(J);case"XXXX":case"XX":return H(J);default:return H(J,":")}},x:function(R,ee,k){const J=R.getTimezoneOffset();switch(ee){case"x":return F(J);case"xxxx":case"xx":return H(J);default:return H(J,":")}},O:function(R,ee,k){const J=R.getTimezoneOffset();switch(ee){case"O":case"OO":case"OOO":return"GMT"+K(J,":");default:return"GMT"+H(J,":")}},z:function(R,ee,k){const J=R.getTimezoneOffset();switch(ee){case"z":case"zz":case"zzz":return"GMT"+K(J,":");default:return"GMT"+H(J,":")}},t:function(R,ee,k){return v(Math.trunc(R.getTime()/1e3),ee.length)},T:function(R,ee,k){return v(R.getTime(),ee.length)}};function K(R,ee=""){const k=R>0?"-":"+",J=Math.abs(R),X=Math.trunc(J/60),fe=J%60;return 0===fe?k+String(X):k+String(X)+ee+v(fe,2)}function F(R,ee){return R%60==0?(R>0?"-":"+")+v(Math.abs(R)/60,2):H(R,ee)}function H(R,ee=""){const k=R>0?"-":"+",J=Math.abs(R);return k+v(Math.trunc(J/60),2)+ee+v(J%60,2)}var Y=a(8488),P=a(7195),U=a(8091);const $=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,B=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,y=/^'([^]*?)'?$/,I=/''/g,w=/[a-zA-Z]/;function L(R,ee,k){const J=(0,i.q)(),X=k?.locale??J.locale??e.c,fe=k?.firstWeekContainsDate??k?.locale?.options?.firstWeekContainsDate??J.firstWeekContainsDate??J.locale?.options?.firstWeekContainsDate??1,Me=k?.weekStartsOn??k?.locale?.options?.weekStartsOn??J.weekStartsOn??J.locale?.options?.weekStartsOn??0,Ze=(0,p.a)(R);if(!(0,U.f)(Ze))throw new RangeError("Invalid time value");let Ct=ee.match(B).map(Ot=>{const rt=Ot[0];return"p"===rt||"P"===rt?(0,Y.m[rt])(Ot,X.formatLong):Ot}).join("").match($).map(Ot=>{if("''"===Ot)return{isToken:!1,value:"'"};const rt=Ot[0];if("'"===rt)return{isToken:!1,value:Q(Ot)};if(G[rt])return{isToken:!0,value:Ot};if(rt.match(w))throw new RangeError("Format string contains an unescaped latin alphabet character `"+rt+"`");return{isToken:!1,value:Ot}});X.localize.preprocessor&&(Ct=X.localize.preprocessor(Ze,Ct));const lt={firstWeekContainsDate:fe,weekStartsOn:Me,locale:X};return Ct.map(Ot=>{if(!Ot.isToken)return Ot.value;const rt=Ot.value;return(!k?.useAdditionalWeekYearTokens&&(0,P.xM)(rt)||!k?.useAdditionalDayOfYearTokens&&(0,P.ef)(rt))&&(0,P.Ss)(rt,ee,String(R)),(0,G[rt[0]])(Ze,rt,X.localize,lt)}).join("")}function Q(R){const ee=R.match(y);return ee?ee[1].replace(I,"'"):R}},9197:(Mt,pe,a)=>{"use strict";a.d(pe,{m:()=>B});var e=a(7729),p=a(4273);function m(I,w){const L=(0,p.a)(I),Q=(0,p.a)(w),te=L.getTime()-Q.getTime();return te<0?-1:te>0?1:te}var g=a(9857),S=a(4512),D=a(7404);var z=a(6708),G=a(4812),H=a(3501),Y=a(1666),P=a(5872);function U(I,w,L){const Q=(0,Y.q)(),te=L?.locale??Q.locale??H.c,ee=m(I,w);if(isNaN(ee))throw new RangeError("Invalid time value");const k=Object.assign({},L,{addSuffix:L?.addSuffix,comparison:ee});let J,X;ee>0?(J=(0,p.a)(w),X=(0,p.a)(I)):(J=(0,p.a)(I),X=(0,p.a)(w));const fe=function K(I,w,L){const Q=(0,G.b)(I,w)/1e3;return(0,z.u)(L?.roundingMethod)(Q)}(X,J),Me=((0,P.G)(X)-(0,P.G)(J))/1e3,Ze=Math.round((fe-Me)/60);let Ct;if(Ze<2)return L?.includeSeconds?fe<5?te.formatDistance("lessThanXSeconds",5,k):fe<10?te.formatDistance("lessThanXSeconds",10,k):fe<20?te.formatDistance("lessThanXSeconds",20,k):fe<40?te.formatDistance("halfAMinute",0,k):te.formatDistance(fe<60?"lessThanXMinutes":"xMinutes",1,k):0===Ze?te.formatDistance("lessThanXMinutes",1,k):te.formatDistance("xMinutes",Ze,k);if(Ze<45)return te.formatDistance("xMinutes",Ze,k);if(Ze<90)return te.formatDistance("aboutXHours",1,k);if(Ze<g.F6){const lt=Math.round(Ze/60);return te.formatDistance("aboutXHours",lt,k)}if(Ze<2520)return te.formatDistance("xDays",1,k);if(Ze<g.Nw){const lt=Math.round(Ze/g.F6);return te.formatDistance("xDays",lt,k)}if(Ze<2*g.Nw)return Ct=Math.round(Ze/g.Nw),te.formatDistance("aboutXMonths",Ct,k);if(Ct=function v(I,w){const L=(0,p.a)(I),Q=(0,p.a)(w),te=m(L,Q),R=Math.abs(function b(I,w){const L=(0,p.a)(I),Q=(0,p.a)(w);return 12*(L.getFullYear()-Q.getFullYear())+(L.getMonth()-Q.getMonth())}(L,Q));let ee;if(R<1)ee=0;else{1===L.getMonth()&&L.getDate()>27&&L.setDate(30),L.setMonth(L.getMonth()-te*R);let k=m(L,Q)===-te;(function E(I){const w=(0,p.a)(I);return+(0,S.D)(w)==+(0,D.p)(w)})((0,p.a)(I))&&1===R&&1===m(I,Q)&&(k=!1),ee=te*(R-Number(k))}return 0===ee?0:ee}(X,J),Ct<12){const lt=Math.round(Ze/g.Nw);return te.formatDistance("xMonths",lt,k)}{const lt=Ct%12,Ot=Math.trunc(Ct/12);return lt<3?te.formatDistance("aboutXYears",Ot,k):lt<9?te.formatDistance("overXYears",Ot,k):te.formatDistance("almostXYears",Ot+1,k)}}function B(I,w){return U(I,function i(I){return(0,e.w)(I,Date.now())}(I),w)}},2659:(Mt,pe,a)=>{"use strict";a.d(pe,{a:()=>p});var e=a(3501),i=a(1666);const d=["years","months","weeks","days","hours","minutes","seconds"];function p(_,g){const b=(0,i.q)(),u=g?.locale??b.locale??e.c,S=g?.format??d,D=g?.zero??!1,E=g?.delimiter??" ";return u.formatDistance?S.reduce((v,O)=>{const z=`x${O.replace(/(^.)/,K=>K.toUpperCase())}`,G=_[O];return void 0!==G&&(D||_[O])?v.concat(u.formatDistance(z,G)):v},[]).join(E):""}},6453:(Mt,pe,a)=>{"use strict";a.d(pe,{s:()=>b});var e=a(9857),i=a(8152),d=a(910),p=a(7729),g=a(4273);function b(S){const D=(0,g.a)(S),E=+(0,i.b)(D)-+function m(S){const D=(0,d.p)(S),E=(0,p.w)(S,0);return E.setFullYear(D,0,4),E.setHours(0,0,0,0),(0,i.b)(E)}(D);return Math.round(E/e.my)+1}},910:(Mt,pe,a)=>{"use strict";a.d(pe,{p:()=>p});var e=a(7729),i=a(8152),d=a(4273);function p(_){const g=(0,d.a)(_),b=g.getFullYear(),u=(0,e.w)(_,0);u.setFullYear(b+1,0,4),u.setHours(0,0,0,0);const S=(0,i.b)(u),D=(0,e.w)(_,0);D.setFullYear(b,0,4),D.setHours(0,0,0,0);const E=(0,i.b)(D);return g.getTime()>=S.getTime()?b+1:g.getTime()>=E.getTime()?b:b-1}},5987:(Mt,pe,a)=>{"use strict";a.d(pe,{_:()=>i});var e=a(4273);function i(p){return Math.trunc(+(0,e.a)(p)/1e3)}},7012:(Mt,pe,a)=>{"use strict";a.d(pe,{N:()=>u});var e=a(9857),i=a(7793),d=a(7729),p=a(6045),m=a(1666),b=a(4273);function u(D,E){const A=(0,b.a)(D),v=+(0,i.k)(A,E)-+function _(D,E){const A=(0,m.q)(),v=E?.firstWeekContainsDate??E?.locale?.options?.firstWeekContainsDate??A.firstWeekContainsDate??A.locale?.options?.firstWeekContainsDate??1,O=(0,p.h)(D,E),z=(0,d.w)(D,0);return z.setFullYear(O,0,v),z.setHours(0,0,0,0),(0,i.k)(z,E)}(A,E);return Math.round(v/e.my)+1}},6045:(Mt,pe,a)=>{"use strict";a.d(pe,{h:()=>m});var e=a(7729),i=a(7793),d=a(4273),p=a(1666);function m(g,b){const u=(0,d.a)(g),S=u.getFullYear(),D=(0,p.q)(),E=b?.firstWeekContainsDate??b?.locale?.options?.firstWeekContainsDate??D.firstWeekContainsDate??D.locale?.options?.firstWeekContainsDate??1,A=(0,e.w)(g,0);A.setFullYear(S+1,0,E),A.setHours(0,0,0,0);const v=(0,i.k)(A,b),O=(0,e.w)(g,0);O.setFullYear(S,0,E),O.setHours(0,0,0,0);const z=(0,i.k)(O,b);return u.getTime()>=v.getTime()?S+1:u.getTime()>=z.getTime()?S:S-1}},9824:(Mt,pe,a)=>{"use strict";a.d(pe,{d:()=>i});var e=a(4273);function i(p,m){const _=(0,e.a)(p),g=(0,e.a)(m);return _.getTime()>g.getTime()}},9255:(Mt,pe,a)=>{"use strict";a.d(pe,{Y:()=>i});var e=a(4273);function i(p,m){return+(0,e.a)(p)<+(0,e.a)(m)}},5818:(Mt,pe,a)=>{"use strict";a.d(pe,{r:()=>i});var e=a(3601);function i(p,m){return+(0,e.o)(p)==+(0,e.o)(m)}},7518:(Mt,pe,a)=>{"use strict";a.d(pe,{t:()=>i});var e=a(4273);function i(p,m){const _=(0,e.a)(p),g=(0,e.a)(m);return _.getFullYear()===g.getFullYear()&&_.getMonth()===g.getMonth()}},8091:(Mt,pe,a)=>{"use strict";a.d(pe,{f:()=>p});var d=a(4273);function p(_){if(!function e(_){return _ instanceof Date||"object"==typeof _&&"[object Date]"===Object.prototype.toString.call(_)}(_)&&"number"!=typeof _)return!1;const g=(0,d.a)(_);return!isNaN(Number(g))}},3501:(Mt,pe,a)=>{"use strict";a.d(pe,{c:()=>X});const e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function d(Me){return(Ze={})=>{const Ct=Ze.width?String(Ze.width):Me.defaultWidth;return Me.formats[Ct]||Me.formats[Me.defaultWidth]}}const g={date:d({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:d({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:d({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},b={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function S(Me){return(Ze,Ct)=>{let Ot;if("formatting"===(Ct?.context?String(Ct.context):"standalone")&&Me.formattingValues){const vt=Me.defaultFormattingWidth||Me.defaultWidth,ve=Ct?.width?String(Ct.width):vt;Ot=Me.formattingValues[ve]||Me.formattingValues[vt]}else{const vt=Me.defaultWidth,ve=Ct?.width?String(Ct.width):Me.defaultWidth;Ot=Me.values[ve]||Me.values[vt]}return Ot[Me.argumentCallback?Me.argumentCallback(Ze):Ze]}}function F(Me){return(Ze,Ct={})=>{const lt=Ct.width,rt=Ze.match(lt&&Me.matchPatterns[lt]||Me.matchPatterns[Me.defaultMatchWidth]);if(!rt)return null;const vt=rt[0],ve=lt&&Me.parsePatterns[lt]||Me.parsePatterns[Me.defaultParseWidth],Ce=Array.isArray(ve)?function Y(Me,Ze){for(let Ct=0;Ct<Me.length;Ct++)if(Ze(Me[Ct]))return Ct}(ve,me=>me.test(vt)):function H(Me,Ze){for(const Ct in Me)if(Object.prototype.hasOwnProperty.call(Me,Ct)&&Ze(Me[Ct]))return Ct}(ve,me=>me.test(vt));let be;return be=Me.valueCallback?Me.valueCallback(Ce):Ce,be=Ct.valueCallback?Ct.valueCallback(be):be,{value:be,rest:Ze.slice(vt.length)}}}const X={code:"en-US",formatDistance:(Me,Ze,Ct)=>{let lt;const Ot=e[Me];return lt="string"==typeof Ot?Ot:1===Ze?Ot.one:Ot.other.replace("{{count}}",Ze.toString()),Ct?.addSuffix?Ct.comparison&&Ct.comparison>0?"in "+lt:lt+" ago":lt},formatLong:g,formatRelative:(Me,Ze,Ct,lt)=>b[Me],localize:{ordinalNumber:(Me,Ze)=>{const Ct=Number(Me),lt=Ct%100;if(lt>20||lt<10)switch(lt%10){case 1:return Ct+"st";case 2:return Ct+"nd";case 3:return Ct+"rd"}return Ct+"th"},era:S({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:S({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:Me=>Me-1}),month:S({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:S({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:S({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function P(Me){return(Ze,Ct={})=>{const lt=Ze.match(Me.matchPattern);if(!lt)return null;const Ot=lt[0],rt=Ze.match(Me.parsePattern);if(!rt)return null;let vt=Me.valueCallback?Me.valueCallback(rt[0]):rt[0];return vt=Ct.valueCallback?Ct.valueCallback(vt):vt,{value:vt,rest:Ze.slice(Ot.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:Me=>parseInt(Me,10)}),era:F({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:F({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:Me=>Me+1}),month:F({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:F({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:F({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}}},9548:(Mt,pe,a)=>{"use strict";a.d(pe,{X:()=>p});var e=a(6708),i=a(7729),d=a(4273);function p(_,g){const b=g?.nearestTo??1;if(b<1||b>30)return(0,i.w)(_,NaN);const u=(0,d.a)(_),S=u.getSeconds()/60,D=u.getMilliseconds()/1e3/60,E=u.getMinutes()+S+D,O=(0,e.u)(g?.roundingMethod??"round")(E/b)*b,z=(0,i.w)(_,u);return z.setMinutes(O,0,0),z}},1406:(Mt,pe,a)=>{"use strict";a.d(pe,{h:()=>p});var e=a(7729),i=a(2596),d=a(4273);function p(_,g){let b=(0,d.a)(_);return isNaN(+b)?(0,e.w)(_,NaN):(null!=g.year&&b.setFullYear(g.year),null!=g.month&&(b=(0,i.Z)(b,g.month)),null!=g.date&&b.setDate(g.date),null!=g.hours&&b.setHours(g.hours),null!=g.minutes&&b.setMinutes(g.minutes),null!=g.seconds&&b.setSeconds(g.seconds),null!=g.milliseconds&&b.setMilliseconds(g.milliseconds),b)}},9848:(Mt,pe,a)=>{"use strict";a.d(pe,{l:()=>p});var e=a(906),i=a(4273),d=a(1666);function p(_,g,b){const u=(0,d.q)(),S=b?.weekStartsOn??b?.locale?.options?.weekStartsOn??u.weekStartsOn??u.locale?.options?.weekStartsOn??0,D=(0,i.a)(_),E=D.getDay(),O=7-S;return(0,e.f)(D,g<0||g>6?g-(E+O)%7:((g%7+7)%7+O)%7-(E+O)%7)}},5611:(Mt,pe,a)=>{"use strict";a.d(pe,{a:()=>i});var e=a(4273);function i(p,m){const _=(0,e.a)(p);return _.setHours(m),_}},2596:(Mt,pe,a)=>{"use strict";a.d(pe,{Z:()=>m});var e=a(7729),i=a(4273);function m(g,b){const u=(0,i.a)(g),S=u.getFullYear(),D=u.getDate(),E=(0,e.w)(g,0);E.setFullYear(S,b,15),E.setHours(0,0,0,0);const A=function d(g){const b=(0,i.a)(g),u=b.getFullYear(),S=b.getMonth(),D=(0,e.w)(g,0);return D.setFullYear(u,S+1,0),D.setHours(0,0,0,0),D.getDate()}(E);return u.setMonth(b,Math.min(D,A)),u}},3601:(Mt,pe,a)=>{"use strict";a.d(pe,{o:()=>i});var e=a(4273);function i(p){const m=(0,e.a)(p);return m.setHours(0,0,0,0),m}},8152:(Mt,pe,a)=>{"use strict";a.d(pe,{b:()=>i});var e=a(7793);function i(p){return(0,e.k)(p,{weekStartsOn:1})}},2357:(Mt,pe,a)=>{"use strict";a.d(pe,{c:()=>i});var e=a(4273);function i(p){const m=(0,e.a)(p);return m.setSeconds(0,0),m}},9497:(Mt,pe,a)=>{"use strict";a.d(pe,{w:()=>i});var e=a(4273);function i(p){const m=(0,e.a)(p);return m.setDate(1),m.setHours(0,0,0,0),m}},7793:(Mt,pe,a)=>{"use strict";a.d(pe,{k:()=>d});var e=a(4273),i=a(1666);function d(m,_){const g=(0,i.q)(),b=_?.weekStartsOn??_?.locale?.options?.weekStartsOn??g.weekStartsOn??g.locale?.options?.weekStartsOn??0,u=(0,e.a)(m),S=u.getDay(),D=(S<b?7:0)+S-b;return u.setDate(u.getDate()-D),u.setHours(0,0,0,0),u}},3901:(Mt,pe,a)=>{"use strict";a.d(pe,{O:()=>i});var e=a(3368);function i(p,m){return(0,e.L)(p,-m)}},4273:(Mt,pe,a)=>{"use strict";function e(d){const p=Object.prototype.toString.call(d);return d instanceof Date||"object"==typeof d&&"[object Date]"===p?new d.constructor(+d):"number"==typeof d||"[object Number]"===p||"string"==typeof d||"[object String]"===p?new Date(d):new Date(NaN)}a.d(pe,{a:()=>e})},2339:(Mt,pe,a)=>{"use strict";function e(W){return typeof W>"u"||null===W}a.d(pe,{Bh:()=>va,Hh:()=>za});var A={isNothing:e,isObject:function i(W){return"object"==typeof W&&null!==W},toArray:function d(W){return Array.isArray(W)?W:e(W)?[]:[W]},repeat:function m(W,ut){var en,Ut="";for(en=0;en<ut;en+=1)Ut+=W;return Ut},isNegativeZero:function _(W){return 0===W&&Number.NEGATIVE_INFINITY===1/W},extend:function p(W,ut){var Ut,en,Ht,bn;if(ut)for(Ut=0,en=(bn=Object.keys(ut)).length;Ut<en;Ut+=1)W[Ht=bn[Ut]]=ut[Ht];return W}};function v(W,ut){var Ut="",en=W.reason||"(unknown reason)";return W.mark?(W.mark.name&&(Ut+='in "'+W.mark.name+'" '),Ut+="("+(W.mark.line+1)+":"+(W.mark.column+1)+")",!ut&&W.mark.snippet&&(Ut+="\n\n"+W.mark.snippet),en+" "+Ut):en}function O(W,ut){Error.call(this),this.name="YAMLException",this.reason=W,this.mark=ut,this.message=v(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}(O.prototype=Object.create(Error.prototype)).constructor=O,O.prototype.toString=function(ut){return this.name+": "+v(this,ut)};var z=O;function G(W,ut,Ut,en,Ht){var bn="",qt="",In=Math.floor(Ht/2)-1;return en-ut>In&&(ut=en-In+(bn=" ... ").length),Ut-en>In&&(Ut=en+In-(qt=" ...").length),{str:bn+W.slice(ut,Ut).replace(/\t/g,"\u2192")+qt,pos:en-ut+bn.length}}function K(W,ut){return A.repeat(" ",ut-W.length)+W}var H=function F(W,ut){if(ut=Object.create(ut||null),!W.buffer)return null;ut.maxLength||(ut.maxLength=79),"number"!=typeof ut.indent&&(ut.indent=1),"number"!=typeof ut.linesBefore&&(ut.linesBefore=3),"number"!=typeof ut.linesAfter&&(ut.linesAfter=2);for(var bn,Ut=/\r?\n|\r|\0/g,en=[0],Ht=[],qt=-1;bn=Ut.exec(W.buffer);)Ht.push(bn.index),en.push(bn.index+bn[0].length),W.position<=bn.index&&qt<0&&(qt=en.length-2);qt<0&&(qt=en.length-1);var kn,Hn,In="",ai=Math.min(W.line+ut.linesAfter,Ht.length).toString().length,ii=ut.maxLength-(ut.indent+ai+3);for(kn=1;kn<=ut.linesBefore&&!(qt-kn<0);kn++)Hn=G(W.buffer,en[qt-kn],Ht[qt-kn],W.position-(en[qt]-en[qt-kn]),ii),In=A.repeat(" ",ut.indent)+K((W.line-kn+1).toString(),ai)+" | "+Hn.str+"\n"+In;for(Hn=G(W.buffer,en[qt],Ht[qt],W.position,ii),In+=A.repeat(" ",ut.indent)+K((W.line+1).toString(),ai)+" | "+Hn.str+"\n",In+=A.repeat("-",ut.indent+ai+3+Hn.pos)+"^\n",kn=1;kn<=ut.linesAfter&&!(qt+kn>=Ht.length);kn++)Hn=G(W.buffer,en[qt+kn],Ht[qt+kn],W.position-(en[qt]-en[qt+kn]),ii),In+=A.repeat(" ",ut.indent)+K((W.line+kn+1).toString(),ai)+" | "+Hn.str+"\n";return In.replace(/\n$/,"")},Y=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],P=["scalar","sequence","mapping"],B=function $(W,ut){if(ut=ut||{},Object.keys(ut).forEach(function(Ut){if(-1===Y.indexOf(Ut))throw new z('Unknown option "'+Ut+'" is met in definition of "'+W+'" YAML type.')}),this.options=ut,this.tag=W,this.kind=ut.kind||null,this.resolve=ut.resolve||function(){return!0},this.construct=ut.construct||function(Ut){return Ut},this.instanceOf=ut.instanceOf||null,this.predicate=ut.predicate||null,this.represent=ut.represent||null,this.representName=ut.representName||null,this.defaultStyle=ut.defaultStyle||null,this.multi=ut.multi||!1,this.styleAliases=function U(W){var ut={};return null!==W&&Object.keys(W).forEach(function(Ut){W[Ut].forEach(function(en){ut[String(en)]=Ut})}),ut}(ut.styleAliases||null),-1===P.indexOf(this.kind))throw new z('Unknown kind "'+this.kind+'" is specified for "'+W+'" YAML type.')};function y(W,ut){var Ut=[];return W[ut].forEach(function(en){var Ht=Ut.length;Ut.forEach(function(bn,qt){bn.tag===en.tag&&bn.kind===en.kind&&bn.multi===en.multi&&(Ht=qt)}),Ut[Ht]=en}),Ut}function w(W){return this.extend(W)}w.prototype.extend=function(ut){var Ut=[],en=[];if(ut instanceof B)en.push(ut);else if(Array.isArray(ut))en=en.concat(ut);else{if(!ut||!Array.isArray(ut.implicit)&&!Array.isArray(ut.explicit))throw new z("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");ut.implicit&&(Ut=Ut.concat(ut.implicit)),ut.explicit&&(en=en.concat(ut.explicit))}Ut.forEach(function(bn){if(!(bn instanceof B))throw new z("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(bn.loadKind&&"scalar"!==bn.loadKind)throw new z("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(bn.multi)throw new z("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),en.forEach(function(bn){if(!(bn instanceof B))throw new z("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var Ht=Object.create(w.prototype);return Ht.implicit=(this.implicit||[]).concat(Ut),Ht.explicit=(this.explicit||[]).concat(en),Ht.compiledImplicit=y(Ht,"implicit"),Ht.compiledExplicit=y(Ht,"explicit"),Ht.compiledTypeMap=function I(){var ut,Ut,W={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function en(Ht){Ht.multi?(W.multi[Ht.kind].push(Ht),W.multi.fallback.push(Ht)):W[Ht.kind][Ht.tag]=W.fallback[Ht.tag]=Ht}for(ut=0,Ut=arguments.length;ut<Ut;ut+=1)arguments[ut].forEach(en);return W}(Ht.compiledImplicit,Ht.compiledExplicit),Ht};var ee=new w({explicit:[new B("tag:yaml.org,2002:str",{kind:"scalar",construct:function(W){return null!==W?W:""}}),new B("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(W){return null!==W?W:[]}}),new B("tag:yaml.org,2002:map",{kind:"mapping",construct:function(W){return null!==W?W:{}}})]}),fe=new B("tag:yaml.org,2002:null",{kind:"scalar",resolve:function k(W){if(null===W)return!0;var ut=W.length;return 1===ut&&"~"===W||4===ut&&("null"===W||"Null"===W||"NULL"===W)},construct:function J(){return null},predicate:function X(W){return null===W},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"}),lt=new B("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function Me(W){if(null===W)return!1;var ut=W.length;return 4===ut&&("true"===W||"True"===W||"TRUE"===W)||5===ut&&("false"===W||"False"===W||"FALSE"===W)},construct:function Ze(W){return"true"===W||"True"===W||"TRUE"===W},predicate:function Ct(W){return"[object Boolean]"===Object.prototype.toString.call(W)},represent:{lowercase:function(W){return W?"true":"false"},uppercase:function(W){return W?"TRUE":"FALSE"},camelcase:function(W){return W?"True":"False"}},defaultStyle:"lowercase"});function Ot(W){return 48<=W&&W<=57||65<=W&&W<=70||97<=W&&W<=102}function rt(W){return 48<=W&&W<=55}function vt(W){return 48<=W&&W<=57}var ue=new B("tag:yaml.org,2002:int",{kind:"scalar",resolve:function ve(W){if(null===W)return!1;var Ht,ut=W.length,Ut=0,en=!1;if(!ut)return!1;if(("-"===(Ht=W[Ut])||"+"===Ht)&&(Ht=W[++Ut]),"0"===Ht){if(Ut+1===ut)return!0;if("b"===(Ht=W[++Ut])){for(Ut++;Ut<ut;Ut++)if("_"!==(Ht=W[Ut])){if("0"!==Ht&&"1"!==Ht)return!1;en=!0}return en&&"_"!==Ht}if("x"===Ht){for(Ut++;Ut<ut;Ut++)if("_"!==(Ht=W[Ut])){if(!Ot(W.charCodeAt(Ut)))return!1;en=!0}return en&&"_"!==Ht}if("o"===Ht){for(Ut++;Ut<ut;Ut++)if("_"!==(Ht=W[Ut])){if(!rt(W.charCodeAt(Ut)))return!1;en=!0}return en&&"_"!==Ht}}if("_"===Ht)return!1;for(;Ut<ut;Ut++)if("_"!==(Ht=W[Ut])){if(!vt(W.charCodeAt(Ut)))return!1;en=!0}return!(!en||"_"===Ht)},construct:function Ce(W){var en,ut=W,Ut=1;if(-1!==ut.indexOf("_")&&(ut=ut.replace(/_/g,"")),("-"===(en=ut[0])||"+"===en)&&("-"===en&&(Ut=-1),en=(ut=ut.slice(1))[0]),"0"===ut)return 0;if("0"===en){if("b"===ut[1])return Ut*parseInt(ut.slice(2),2);if("x"===ut[1])return Ut*parseInt(ut.slice(2),16);if("o"===ut[1])return Ut*parseInt(ut.slice(2),8)}return Ut*parseInt(ut,10)},predicate:function be(W){return"[object Number]"===Object.prototype.toString.call(W)&&W%1==0&&!A.isNegativeZero(W)},represent:{binary:function(W){return W>=0?"0b"+W.toString(2):"-0b"+W.toString(2).slice(1)},octal:function(W){return W>=0?"0o"+W.toString(8):"-0o"+W.toString(8).slice(1)},decimal:function(W){return W.toString(10)},hexadecimal:function(W){return W>=0?"0x"+W.toString(16).toUpperCase():"-0x"+W.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),me=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),Ve=/^[-+]?[0-9]+e/,Vt=new B("tag:yaml.org,2002:float",{kind:"scalar",resolve:function $e(W){return!(null===W||!me.test(W)||"_"===W[W.length-1])},construct:function Et(W){var ut,Ut;return Ut="-"===(ut=W.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(ut[0])>=0&&(ut=ut.slice(1)),".inf"===ut?1===Ut?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===ut?NaN:Ut*parseFloat(ut,10)},predicate:function ht(W){return"[object Number]"===Object.prototype.toString.call(W)&&(W%1!=0||A.isNegativeZero(W))},represent:function st(W,ut){var Ut;if(isNaN(W))switch(ut){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===W)switch(ut){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===W)switch(ut){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(A.isNegativeZero(W))return"-0.0";return Ut=W.toString(10),Ve.test(Ut)?Ut.replace("e",".e"):Ut},defaultStyle:"lowercase"}),gt=ee.extend({implicit:[fe,lt,ue,Vt]}),ot=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),ae=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$"),_t=new B("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function Oe(W){return null!==W&&(null!==ot.exec(W)||null!==ae.exec(W))},construct:function Le(W){var ut,Ut,en,Ht,bn,qt,In,Fi,kn=0,Hn=null;if(null===(ut=ot.exec(W))&&(ut=ae.exec(W)),null===ut)throw new Error("Date resolve error");if(Ut=+ut[1],en=+ut[2]-1,Ht=+ut[3],!ut[4])return new Date(Date.UTC(Ut,en,Ht));if(bn=+ut[4],qt=+ut[5],In=+ut[6],ut[7]){for(kn=ut[7].slice(0,3);kn.length<3;)kn+="0";kn=+kn}return ut[9]&&(Hn=6e4*(60*+ut[10]+ +(ut[11]||0)),"-"===ut[9]&&(Hn=-Hn)),Fi=new Date(Date.UTC(Ut,en,Ht,bn,qt,In,kn)),Hn&&Fi.setTime(Fi.getTime()-Hn),Fi},instanceOf:Date,represent:function Pe(W){return W.toISOString()}}),Kt=new B("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function Gt(W){return"<<"===W||null===W}}),vn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r",$t=new B("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function Ft(W){if(null===W)return!1;var ut,Ut,en=0,Ht=W.length,bn=vn;for(Ut=0;Ut<Ht;Ut++)if(!((ut=bn.indexOf(W.charAt(Ut)))>64)){if(ut<0)return!1;en+=6}return en%8==0},construct:function _n(W){var ut,Ut,en=W.replace(/[\r\n=]/g,""),Ht=en.length,bn=vn,qt=0,In=[];for(ut=0;ut<Ht;ut++)ut%4==0&&ut&&(In.push(qt>>16&255),In.push(qt>>8&255),In.push(255&qt)),qt=qt<<6|bn.indexOf(en.charAt(ut));return 0==(Ut=Ht%4*6)?(In.push(qt>>16&255),In.push(qt>>8&255),In.push(255&qt)):18===Ut?(In.push(qt>>10&255),In.push(qt>>2&255)):12===Ut&&In.push(qt>>4&255),new Uint8Array(In)},predicate:function pt(W){return"[object Uint8Array]"===Object.prototype.toString.call(W)},represent:function ft(W){var en,Ht,ut="",Ut=0,bn=W.length,qt=vn;for(en=0;en<bn;en++)en%3==0&&en&&(ut+=qt[Ut>>18&63],ut+=qt[Ut>>12&63],ut+=qt[Ut>>6&63],ut+=qt[63&Ut]),Ut=(Ut<<8)+W[en];return 0==(Ht=bn%3)?(ut+=qt[Ut>>18&63],ut+=qt[Ut>>12&63],ut+=qt[Ut>>6&63],ut+=qt[63&Ut]):2===Ht?(ut+=qt[Ut>>10&63],ut+=qt[Ut>>4&63],ut+=qt[Ut<<2&63],ut+=qt[64]):1===Ht&&(ut+=qt[Ut>>2&63],ut+=qt[Ut<<4&63],ut+=qt[64],ut+=qt[64]),ut}}),kt=Object.prototype.hasOwnProperty,dn=Object.prototype.toString,an=new B("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function pn(W){if(null===W)return!0;var Ut,en,Ht,bn,qt,ut=[],In=W;for(Ut=0,en=In.length;Ut<en;Ut+=1){if(qt=!1,"[object Object]"!==dn.call(Ht=In[Ut]))return!1;for(bn in Ht)if(kt.call(Ht,bn)){if(qt)return!1;qt=!0}if(!qt)return!1;if(-1!==ut.indexOf(bn))return!1;ut.push(bn)}return!0},construct:function un(W){return null!==W?W:[]}}),hn=Object.prototype.toString,at=new B("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function Sn(W){if(null===W)return!0;var ut,Ut,en,Ht,bn,qt=W;for(bn=new Array(qt.length),ut=0,Ut=qt.length;ut<Ut;ut+=1){if("[object Object]"!==hn.call(en=qt[ut])||1!==(Ht=Object.keys(en)).length)return!1;bn[ut]=[Ht[0],en[Ht[0]]]}return!0},construct:function Lt(W){if(null===W)return[];var ut,Ut,en,Ht,bn,qt=W;for(bn=new Array(qt.length),ut=0,Ut=qt.length;ut<Ut;ut+=1)en=qt[ut],Ht=Object.keys(en),bn[ut]=[Ht[0],en[Ht[0]]];return bn}}),ct=Object.prototype.hasOwnProperty,Bt=new B("tag:yaml.org,2002:set",{kind:"mapping",resolve:function Xe(W){if(null===W)return!0;var ut,Ut=W;for(ut in Ut)if(ct.call(Ut,ut)&&null!==Ut[ut])return!1;return!0},construct:function Qe(W){return null!==W?W:{}}}),Xt=gt.extend({implicit:[_t,Kt],explicit:[$t,an,at,Bt]}),Be=Object.prototype.hasOwnProperty,oe=1,Ee=2,ne=3,Ie=4,Te=1,Ge=2,Ue=3,Fe=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,At=/[\x85\u2028\u2029]/,Ke=/[,\[\]\{\}]/,xt=/^(?:!|!!|![a-z\-]+!)$/i,tn=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function nn(W){return Object.prototype.toString.call(W)}function En(W){return 10===W||13===W}function Un(W){return 9===W||32===W}function Xn(W){return 9===W||32===W||10===W||13===W}function Qn(W){return 44===W||91===W||93===W||123===W||125===W}function fi(W){var ut;return 48<=W&&W<=57?W-48:97<=(ut=32|W)&&ut<=102?ut-97+10:-1}function Ui(W){return 120===W?2:117===W?4:85===W?8:0}function Ti(W){return 48<=W&&W<=57?W-48:-1}function Wi(W){return 48===W?"\0":97===W?"\x07":98===W?"\b":116===W||9===W?"\t":110===W?"\n":118===W?"\v":102===W?"\f":114===W?"\r":101===W?"\x1b":32===W?" ":34===W?'"':47===W?"/":92===W?"\\":78===W?"\x85":95===W?"\xa0":76===W?"\u2028":80===W?"\u2029":""}function ys(W){return W<=65535?String.fromCharCode(W):String.fromCharCode(55296+(W-65536>>10),56320+(W-65536&1023))}for(var wn=new Array(256),dt=new Array(256),Pt=0;Pt<256;Pt++)wn[Pt]=Wi(Pt)?1:0,dt[Pt]=Wi(Pt);function jt(W,ut){this.input=W,this.filename=ut.filename||null,this.schema=ut.schema||Xt,this.onWarning=ut.onWarning||null,this.legacy=ut.legacy||!1,this.json=ut.json||!1,this.listener=ut.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=W.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Pn(W,ut){var Ut={name:W.filename,buffer:W.input.slice(0,-1),position:W.position,line:W.line,column:W.position-W.lineStart};return Ut.snippet=H(Ut),new z(ut,Ut)}function Dn(W,ut){throw Pn(W,ut)}function yt(W,ut){W.onWarning&&W.onWarning.call(null,Pn(W,ut))}var zt={YAML:function(ut,Ut,en){var Ht,bn,qt;null!==ut.version&&Dn(ut,"duplication of %YAML directive"),1!==en.length&&Dn(ut,"YAML directive accepts exactly one argument"),null===(Ht=/^([0-9]+)\.([0-9]+)$/.exec(en[0]))&&Dn(ut,"ill-formed argument of the YAML directive"),bn=parseInt(Ht[1],10),qt=parseInt(Ht[2],10),1!==bn&&Dn(ut,"unacceptable YAML version of the document"),ut.version=en[0],ut.checkLineBreaks=qt<2,1!==qt&&2!==qt&&yt(ut,"unsupported YAML version of the document")},TAG:function(ut,Ut,en){var Ht,bn;2!==en.length&&Dn(ut,"TAG directive accepts exactly two arguments"),bn=en[1],xt.test(Ht=en[0])||Dn(ut,"ill-formed tag handle (first argument) of the TAG directive"),Be.call(ut.tagMap,Ht)&&Dn(ut,'there is a previously declared suffix for "'+Ht+'" tag handle'),tn.test(bn)||Dn(ut,"ill-formed tag prefix (second argument) of the TAG directive");try{bn=decodeURIComponent(bn)}catch{Dn(ut,"tag prefix is malformed: "+bn)}ut.tagMap[Ht]=bn}};function Yt(W,ut,Ut,en){var Ht,bn,qt,In;if(ut<Ut){if(In=W.input.slice(ut,Ut),en)for(Ht=0,bn=In.length;Ht<bn;Ht+=1)9===(qt=In.charCodeAt(Ht))||32<=qt&&qt<=1114111||Dn(W,"expected valid JSON character");else Fe.test(In)&&Dn(W,"the stream contains non-printable characters");W.result+=In}}function mt(W,ut,Ut,en){var Ht,bn,qt,In;for(A.isObject(Ut)||Dn(W,"cannot merge mappings; the provided source object is unacceptable"),qt=0,In=(Ht=Object.keys(Ut)).length;qt<In;qt+=1)Be.call(ut,bn=Ht[qt])||(ut[bn]=Ut[bn],en[bn]=!0)}function Qt(W,ut,Ut,en,Ht,bn,qt,In,kn){var Hn,ai;if(Array.isArray(Ht))for(Hn=0,ai=(Ht=Array.prototype.slice.call(Ht)).length;Hn<ai;Hn+=1)Array.isArray(Ht[Hn])&&Dn(W,"nested arrays are not supported inside keys"),"object"==typeof Ht&&"[object Object]"===nn(Ht[Hn])&&(Ht[Hn]="[object Object]");if("object"==typeof Ht&&"[object Object]"===nn(Ht)&&(Ht="[object Object]"),Ht=String(Ht),null===ut&&(ut={}),"tag:yaml.org,2002:merge"===en)if(Array.isArray(bn))for(Hn=0,ai=bn.length;Hn<ai;Hn+=1)mt(W,ut,bn[Hn],Ut);else mt(W,ut,bn,Ut);else!W.json&&!Be.call(Ut,Ht)&&Be.call(ut,Ht)&&(W.line=qt||W.line,W.lineStart=In||W.lineStart,W.position=kn||W.position,Dn(W,"duplicated mapping key")),"__proto__"===Ht?Object.defineProperty(ut,Ht,{configurable:!0,enumerable:!0,writable:!0,value:bn}):ut[Ht]=bn,delete Ut[Ht];return ut}function se(W){var ut;10===(ut=W.input.charCodeAt(W.position))?W.position++:13===ut?(W.position++,10===W.input.charCodeAt(W.position)&&W.position++):Dn(W,"a line break is expected"),W.line+=1,W.lineStart=W.position,W.firstTabInLine=-1}function Ae(W,ut,Ut){for(var en=0,Ht=W.input.charCodeAt(W.position);0!==Ht;){for(;Un(Ht);)9===Ht&&-1===W.firstTabInLine&&(W.firstTabInLine=W.position),Ht=W.input.charCodeAt(++W.position);if(ut&&35===Ht)do{Ht=W.input.charCodeAt(++W.position)}while(10!==Ht&&13!==Ht&&0!==Ht);if(!En(Ht))break;for(se(W),Ht=W.input.charCodeAt(W.position),en++,W.lineIndent=0;32===Ht;)W.lineIndent++,Ht=W.input.charCodeAt(++W.position)}return-1!==Ut&&0!==en&&W.lineIndent<Ut&&yt(W,"deficient indentation"),en}function xe(W){var Ut,ut=W.position;return!(45!==(Ut=W.input.charCodeAt(ut))&&46!==Ut||Ut!==W.input.charCodeAt(ut+1)||Ut!==W.input.charCodeAt(ut+2)||(ut+=3,Ut=W.input.charCodeAt(ut),0!==Ut&&!Xn(Ut)))}function bt(W,ut){1===ut?W.result+=" ":ut>1&&(W.result+=A.repeat("\n",ut-1))}function zi(W,ut){var Ut,kn,en=W.tag,Ht=W.anchor,bn=[],In=!1;if(-1!==W.firstTabInLine)return!1;for(null!==W.anchor&&(W.anchorMap[W.anchor]=bn),kn=W.input.charCodeAt(W.position);0!==kn&&(-1!==W.firstTabInLine&&(W.position=W.firstTabInLine,Dn(W,"tab characters must not be used in indentation")),45===kn&&Xn(W.input.charCodeAt(W.position+1)));)if(In=!0,W.position++,Ae(W,!0,-1)&&W.lineIndent<=ut)bn.push(null),kn=W.input.charCodeAt(W.position);else if(Ut=W.line,Ai(W,ut,ne,!1,!0),bn.push(W.result),Ae(W,!0,-1),kn=W.input.charCodeAt(W.position),(W.line===Ut||W.lineIndent>ut)&&0!==kn)Dn(W,"bad indentation of a sequence entry");else if(W.lineIndent<ut)break;return!!In&&(W.tag=en,W.anchor=Ht,W.kind="sequence",W.result=bn,!0)}function Ji(W){var ut,Ht,bn,qt,Ut=!1,en=!1;if(33!==(qt=W.input.charCodeAt(W.position)))return!1;if(null!==W.tag&&Dn(W,"duplication of a tag property"),60===(qt=W.input.charCodeAt(++W.position))?(Ut=!0,qt=W.input.charCodeAt(++W.position)):33===qt?(en=!0,Ht="!!",qt=W.input.charCodeAt(++W.position)):Ht="!",ut=W.position,Ut){do{qt=W.input.charCodeAt(++W.position)}while(0!==qt&&62!==qt);W.position<W.length?(bn=W.input.slice(ut,W.position),qt=W.input.charCodeAt(++W.position)):Dn(W,"unexpected end of the stream within a verbatim tag")}else{for(;0!==qt&&!Xn(qt);)33===qt&&(en?Dn(W,"tag suffix cannot contain exclamation marks"):(Ht=W.input.slice(ut-1,W.position+1),xt.test(Ht)||Dn(W,"named tag handle cannot contain such characters"),en=!0,ut=W.position+1)),qt=W.input.charCodeAt(++W.position);bn=W.input.slice(ut,W.position),Ke.test(bn)&&Dn(W,"tag suffix cannot contain flow indicator characters")}bn&&!tn.test(bn)&&Dn(W,"tag name cannot contain such characters: "+bn);try{bn=decodeURIComponent(bn)}catch{Dn(W,"tag name is malformed: "+bn)}return Ut?W.tag=bn:Be.call(W.tagMap,Ht)?W.tag=W.tagMap[Ht]+bn:"!"===Ht?W.tag="!"+bn:"!!"===Ht?W.tag="tag:yaml.org,2002:"+bn:Dn(W,'undeclared tag handle "'+Ht+'"'),!0}function Ni(W){var ut,Ut;if(38!==(Ut=W.input.charCodeAt(W.position)))return!1;for(null!==W.anchor&&Dn(W,"duplication of an anchor property"),Ut=W.input.charCodeAt(++W.position),ut=W.position;0!==Ut&&!Xn(Ut)&&!Qn(Ut);)Ut=W.input.charCodeAt(++W.position);return W.position===ut&&Dn(W,"name of an anchor node must contain at least one character"),W.anchor=W.input.slice(ut,W.position),!0}function Ai(W,ut,Ut,en,Ht){var bn,qt,In,ii,Fi,Bi,hs,js,Qs,kn=1,Hn=!1,ai=!1;if(null!==W.listener&&W.listener("open",W),W.tag=null,W.anchor=null,W.kind=null,W.result=null,bn=qt=In=Ie===Ut||ne===Ut,en&&Ae(W,!0,-1)&&(Hn=!0,W.lineIndent>ut?kn=1:W.lineIndent===ut?kn=0:W.lineIndent<ut&&(kn=-1)),1===kn)for(;Ji(W)||Ni(W);)Ae(W,!0,-1)?(Hn=!0,In=bn,W.lineIndent>ut?kn=1:W.lineIndent===ut?kn=0:W.lineIndent<ut&&(kn=-1)):In=!1;if(In&&(In=Hn||Ht),(1===kn||Ie===Ut)&&(js=oe===Ut||Ee===Ut?ut:ut+1,Qs=W.position-W.lineStart,1===kn?In&&(zi(W,Qs)||function wi(W,ut,Ut){var en,Ht,bn,qt,In,kn,ls,Hn=W.tag,ai=W.anchor,ii={},Fi=Object.create(null),Bi=null,hs=null,js=null,Qs=!1,xr=!1;if(-1!==W.firstTabInLine)return!1;for(null!==W.anchor&&(W.anchorMap[W.anchor]=ii),ls=W.input.charCodeAt(W.position);0!==ls;){if(!Qs&&-1!==W.firstTabInLine&&(W.position=W.firstTabInLine,Dn(W,"tab characters must not be used in indentation")),en=W.input.charCodeAt(W.position+1),bn=W.line,63!==ls&&58!==ls||!Xn(en)){if(qt=W.line,In=W.lineStart,kn=W.position,!Ai(W,Ut,Ee,!1,!0))break;if(W.line===bn){for(ls=W.input.charCodeAt(W.position);Un(ls);)ls=W.input.charCodeAt(++W.position);if(58===ls)Xn(ls=W.input.charCodeAt(++W.position))||Dn(W,"a whitespace character is expected after the key-value separator within a block mapping"),Qs&&(Qt(W,ii,Fi,Bi,hs,null,qt,In,kn),Bi=hs=js=null),xr=!0,Qs=!1,Ht=!1,Bi=W.tag,hs=W.result;else{if(!xr)return W.tag=Hn,W.anchor=ai,!0;Dn(W,"can not read an implicit mapping pair; a colon is missed")}}else{if(!xr)return W.tag=Hn,W.anchor=ai,!0;Dn(W,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===ls?(Qs&&(Qt(W,ii,Fi,Bi,hs,null,qt,In,kn),Bi=hs=js=null),xr=!0,Qs=!0,Ht=!0):Qs?(Qs=!1,Ht=!0):Dn(W,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),W.position+=1,ls=en;if((W.line===bn||W.lineIndent>ut)&&(Qs&&(qt=W.line,In=W.lineStart,kn=W.position),Ai(W,ut,Ie,!0,Ht)&&(Qs?hs=W.result:js=W.result),Qs||(Qt(W,ii,Fi,Bi,hs,js,qt,In,kn),Bi=hs=js=null),Ae(W,!0,-1),ls=W.input.charCodeAt(W.position)),(W.line===bn||W.lineIndent>ut)&&0!==ls)Dn(W,"bad indentation of a mapping entry");else if(W.lineIndent<ut)break}return Qs&&Qt(W,ii,Fi,Bi,hs,null,qt,In,kn),xr&&(W.tag=Hn,W.anchor=ai,W.kind="mapping",W.result=ii),xr}(W,Qs,js))||function Pi(W,ut){var en,Ht,bn,In,ai,ii,Fi,Bi,js,Qs,xr,ls,Ut=!0,qt=W.tag,kn=W.anchor,hs=Object.create(null);if(91===(ls=W.input.charCodeAt(W.position)))ai=93,Bi=!1,In=[];else{if(123!==ls)return!1;ai=125,Bi=!0,In={}}for(null!==W.anchor&&(W.anchorMap[W.anchor]=In),ls=W.input.charCodeAt(++W.position);0!==ls;){if(Ae(W,!0,ut),(ls=W.input.charCodeAt(W.position))===ai)return W.position++,W.tag=qt,W.anchor=kn,W.kind=Bi?"mapping":"sequence",W.result=In,!0;Ut?44===ls&&Dn(W,"expected the node content, but found ','"):Dn(W,"missed comma between flow collection entries"),xr=null,ii=Fi=!1,63===ls&&Xn(W.input.charCodeAt(W.position+1))&&(ii=Fi=!0,W.position++,Ae(W,!0,ut)),en=W.line,Ht=W.lineStart,bn=W.position,Ai(W,ut,oe,!1,!0),Qs=W.tag,js=W.result,Ae(W,!0,ut),ls=W.input.charCodeAt(W.position),(Fi||W.line===en)&&58===ls&&(ii=!0,ls=W.input.charCodeAt(++W.position),Ae(W,!0,ut),Ai(W,ut,oe,!1,!0),xr=W.result),Bi?Qt(W,In,hs,Qs,js,xr,en,Ht,bn):In.push(ii?Qt(W,null,hs,Qs,js,xr,en,Ht,bn):js),Ae(W,!0,ut),44===(ls=W.input.charCodeAt(W.position))?(Ut=!0,ls=W.input.charCodeAt(++W.position)):Ut=!1}Dn(W,"unexpected end of the stream within a flow collection")}(W,js)?ai=!0:(qt&&function Vi(W,ut){var Ut,en,ai,ii,Ht=Te,bn=!1,qt=!1,In=ut,kn=0,Hn=!1;if(124===(ii=W.input.charCodeAt(W.position)))en=!1;else{if(62!==ii)return!1;en=!0}for(W.kind="scalar",W.result="";0!==ii;)if(43===(ii=W.input.charCodeAt(++W.position))||45===ii)Te===Ht?Ht=43===ii?Ue:Ge:Dn(W,"repeat of a chomping mode identifier");else{if(!((ai=Ti(ii))>=0))break;0===ai?Dn(W,"bad explicit indentation width of a block scalar; it cannot be less than one"):qt?Dn(W,"repeat of an indentation width identifier"):(In=ut+ai-1,qt=!0)}if(Un(ii)){do{ii=W.input.charCodeAt(++W.position)}while(Un(ii));if(35===ii)do{ii=W.input.charCodeAt(++W.position)}while(!En(ii)&&0!==ii)}for(;0!==ii;){for(se(W),W.lineIndent=0,ii=W.input.charCodeAt(W.position);(!qt||W.lineIndent<In)&&32===ii;)W.lineIndent++,ii=W.input.charCodeAt(++W.position);if(!qt&&W.lineIndent>In&&(In=W.lineIndent),En(ii))kn++;else{if(W.lineIndent<In){Ht===Ue?W.result+=A.repeat("\n",bn?1+kn:kn):Ht===Te&&bn&&(W.result+="\n");break}for(en?Un(ii)?(Hn=!0,W.result+=A.repeat("\n",bn?1+kn:kn)):Hn?(Hn=!1,W.result+=A.repeat("\n",kn+1)):0===kn?bn&&(W.result+=" "):W.result+=A.repeat("\n",kn):W.result+=A.repeat("\n",bn?1+kn:kn),bn=!0,qt=!0,kn=0,Ut=W.position;!En(ii)&&0!==ii;)ii=W.input.charCodeAt(++W.position);Yt(W,Ut,W.position,!1)}}return!0}(W,js)||function Bn(W,ut){var Ut,en,Ht;if(39!==(Ut=W.input.charCodeAt(W.position)))return!1;for(W.kind="scalar",W.result="",W.position++,en=Ht=W.position;0!==(Ut=W.input.charCodeAt(W.position));)if(39===Ut){if(Yt(W,en,W.position,!0),39!==(Ut=W.input.charCodeAt(++W.position)))return!0;en=W.position,W.position++,Ht=W.position}else En(Ut)?(Yt(W,en,Ht,!0),bt(W,Ae(W,!1,ut)),en=Ht=W.position):W.position===W.lineStart&&xe(W)?Dn(W,"unexpected end of the document within a single quoted scalar"):(W.position++,Ht=W.position);Dn(W,"unexpected end of the stream within a single quoted scalar")}(W,js)||function hi(W,ut){var Ut,en,Ht,bn,qt,In;if(34!==(In=W.input.charCodeAt(W.position)))return!1;for(W.kind="scalar",W.result="",W.position++,Ut=en=W.position;0!==(In=W.input.charCodeAt(W.position));){if(34===In)return Yt(W,Ut,W.position,!0),W.position++,!0;if(92===In){if(Yt(W,Ut,W.position,!0),En(In=W.input.charCodeAt(++W.position)))Ae(W,!1,ut);else if(In<256&&wn[In])W.result+=dt[In],W.position++;else if((qt=Ui(In))>0){for(Ht=qt,bn=0;Ht>0;Ht--)(qt=fi(In=W.input.charCodeAt(++W.position)))>=0?bn=(bn<<4)+qt:Dn(W,"expected hexadecimal character");W.result+=ys(bn),W.position++}else Dn(W,"unknown escape sequence");Ut=en=W.position}else En(In)?(Yt(W,Ut,en,!0),bt(W,Ae(W,!1,ut)),Ut=en=W.position):W.position===W.lineStart&&xe(W)?Dn(W,"unexpected end of the document within a double quoted scalar"):(W.position++,en=W.position)}Dn(W,"unexpected end of the stream within a double quoted scalar")}(W,js)?ai=!0:function Hs(W){var ut,Ut,en;if(42!==(en=W.input.charCodeAt(W.position)))return!1;for(en=W.input.charCodeAt(++W.position),ut=W.position;0!==en&&!Xn(en)&&!Qn(en);)en=W.input.charCodeAt(++W.position);return W.position===ut&&Dn(W,"name of an alias node must contain at least one character"),Ut=W.input.slice(ut,W.position),Be.call(W.anchorMap,Ut)||Dn(W,'unidentified alias "'+Ut+'"'),W.result=W.anchorMap[Ut],Ae(W,!0,-1),!0}(W)?(ai=!0,(null!==W.tag||null!==W.anchor)&&Dn(W,"alias node should not have any properties")):function Jt(W,ut,Ut){var Ht,bn,qt,In,kn,Hn,ai,Bi,ii=W.kind,Fi=W.result;if(Xn(Bi=W.input.charCodeAt(W.position))||Qn(Bi)||35===Bi||38===Bi||42===Bi||33===Bi||124===Bi||62===Bi||39===Bi||34===Bi||37===Bi||64===Bi||96===Bi||(63===Bi||45===Bi)&&(Xn(Ht=W.input.charCodeAt(W.position+1))||Ut&&Qn(Ht)))return!1;for(W.kind="scalar",W.result="",bn=qt=W.position,In=!1;0!==Bi;){if(58===Bi){if(Xn(Ht=W.input.charCodeAt(W.position+1))||Ut&&Qn(Ht))break}else if(35===Bi){if(Xn(W.input.charCodeAt(W.position-1)))break}else{if(W.position===W.lineStart&&xe(W)||Ut&&Qn(Bi))break;if(En(Bi)){if(kn=W.line,Hn=W.lineStart,ai=W.lineIndent,Ae(W,!1,-1),W.lineIndent>=ut){In=!0,Bi=W.input.charCodeAt(W.position);continue}W.position=qt,W.line=kn,W.lineStart=Hn,W.lineIndent=ai;break}}In&&(Yt(W,bn,qt,!1),bt(W,W.line-kn),bn=qt=W.position,In=!1),Un(Bi)||(qt=W.position+1),Bi=W.input.charCodeAt(++W.position)}return Yt(W,bn,qt,!1),!!W.result||(W.kind=ii,W.result=Fi,!1)}(W,js,oe===Ut)&&(ai=!0,null===W.tag&&(W.tag="?")),null!==W.anchor&&(W.anchorMap[W.anchor]=W.result)):0===kn&&(ai=In&&zi(W,Qs))),null===W.tag)null!==W.anchor&&(W.anchorMap[W.anchor]=W.result);else if("?"===W.tag){for(null!==W.result&&"scalar"!==W.kind&&Dn(W,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+W.kind+'"'),ii=0,Fi=W.implicitTypes.length;ii<Fi;ii+=1)if((hs=W.implicitTypes[ii]).resolve(W.result)){W.result=hs.construct(W.result),W.tag=hs.tag,null!==W.anchor&&(W.anchorMap[W.anchor]=W.result);break}}else if("!"!==W.tag){if(Be.call(W.typeMap[W.kind||"fallback"],W.tag))hs=W.typeMap[W.kind||"fallback"][W.tag];else for(hs=null,ii=0,Fi=(Bi=W.typeMap.multi[W.kind||"fallback"]).length;ii<Fi;ii+=1)if(W.tag.slice(0,Bi[ii].tag.length)===Bi[ii].tag){hs=Bi[ii];break}hs||Dn(W,"unknown tag !<"+W.tag+">"),null!==W.result&&hs.kind!==W.kind&&Dn(W,"unacceptable node kind for !<"+W.tag+'> tag; it should be "'+hs.kind+'", not "'+W.kind+'"'),hs.resolve(W.result,W.tag)?(W.result=hs.construct(W.result,W.tag),null!==W.anchor&&(W.anchorMap[W.anchor]=W.result)):Dn(W,"cannot resolve a node with !<"+W.tag+"> explicit tag")}return null!==W.listener&&W.listener("close",W),null!==W.tag||null!==W.anchor||ai}function Gr(W){var Ut,en,Ht,qt,ut=W.position,bn=!1;for(W.version=null,W.checkLineBreaks=W.legacy,W.tagMap=Object.create(null),W.anchorMap=Object.create(null);0!==(qt=W.input.charCodeAt(W.position))&&(Ae(W,!0,-1),qt=W.input.charCodeAt(W.position),!(W.lineIndent>0||37!==qt));){for(bn=!0,qt=W.input.charCodeAt(++W.position),Ut=W.position;0!==qt&&!Xn(qt);)qt=W.input.charCodeAt(++W.position);for(Ht=[],(en=W.input.slice(Ut,W.position)).length<1&&Dn(W,"directive name must not be less than one character in length");0!==qt;){for(;Un(qt);)qt=W.input.charCodeAt(++W.position);if(35===qt){do{qt=W.input.charCodeAt(++W.position)}while(0!==qt&&!En(qt));break}if(En(qt))break;for(Ut=W.position;0!==qt&&!Xn(qt);)qt=W.input.charCodeAt(++W.position);Ht.push(W.input.slice(Ut,W.position))}0!==qt&&se(W),Be.call(zt,en)?zt[en](W,en,Ht):yt(W,'unknown document directive "'+en+'"')}Ae(W,!0,-1),0===W.lineIndent&&45===W.input.charCodeAt(W.position)&&45===W.input.charCodeAt(W.position+1)&&45===W.input.charCodeAt(W.position+2)?(W.position+=3,Ae(W,!0,-1)):bn&&Dn(W,"directives end mark is expected"),Ai(W,W.lineIndent-1,Ie,!1,!0),Ae(W,!0,-1),W.checkLineBreaks&&At.test(W.input.slice(ut,W.position))&&yt(W,"non-ASCII line breaks are interpreted as content"),W.documents.push(W.result),W.position===W.lineStart&&xe(W)?46===W.input.charCodeAt(W.position)&&(W.position+=3,Ae(W,!0,-1)):W.position<W.length-1&&Dn(W,"end of the stream or a document separator is expected")}function Js(W,ut){ut=ut||{},0!==(W=String(W)).length&&(10!==W.charCodeAt(W.length-1)&&13!==W.charCodeAt(W.length-1)&&(W+="\n"),65279===W.charCodeAt(0)&&(W=W.slice(1)));var Ut=new jt(W,ut),en=W.indexOf("\0");for(-1!==en&&(Ut.position=en,Dn(Ut,"null byte is not allowed in input")),Ut.input+="\0";32===Ut.input.charCodeAt(Ut.position);)Ut.lineIndent+=1,Ut.position+=1;for(;Ut.position<Ut.length-1;)Gr(Ut);return Ut.documents}var Zs=Object.prototype.toString,zo=Object.prototype.hasOwnProperty,io=65279,Po=9,Pr=10,Ko=13,so=32,Wr=33,Ho=34,zr=35,Bs=37,na=38,Br=39,yo=42,Sr=44,Re=45,wt=58,ln=61,xn=62,Ei=63,pi=64,Ki=91,Li=93,bs=96,us=123,ks=124,sr=125,os={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},qs=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Xs=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Ys(W){var ut,Ut,en;if(ut=W.toString(16).toUpperCase(),W<=255)Ut="x",en=2;else if(W<=65535)Ut="u",en=4;else{if(!(W<=4294967295))throw new z("code point within a string may not be greater than 0xFFFFFFFF");Ut="U",en=8}return"\\"+Ut+A.repeat("0",en-ut.length)+ut}var Yn=2;function br(W){this.schema=W.schema||Xt,this.indent=Math.max(1,W.indent||2),this.noArrayIndent=W.noArrayIndent||!1,this.skipInvalid=W.skipInvalid||!1,this.flowLevel=A.isNothing(W.flowLevel)?-1:W.flowLevel,this.styleMap=function Us(W,ut){var Ut,en,Ht,bn,qt,In,kn;if(null===ut)return{};for(Ut={},Ht=0,bn=(en=Object.keys(ut)).length;Ht<bn;Ht+=1)qt=en[Ht],In=String(ut[qt]),"!!"===qt.slice(0,2)&&(qt="tag:yaml.org,2002:"+qt.slice(2)),(kn=W.compiledTypeMap.fallback[qt])&&zo.call(kn.styleAliases,In)&&(In=kn.styleAliases[In]),Ut[qt]=In;return Ut}(this.schema,W.styles||null),this.sortKeys=W.sortKeys||!1,this.lineWidth=W.lineWidth||80,this.noRefs=W.noRefs||!1,this.noCompatMode=W.noCompatMode||!1,this.condenseFlow=W.condenseFlow||!1,this.quotingType='"'===W.quotingType?Yn:1,this.forceQuotes=W.forceQuotes||!1,this.replacer="function"==typeof W.replacer?W.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function or(W,ut){for(var qt,Ut=A.repeat(" ",ut),en=0,Ht=-1,bn="",In=W.length;en<In;)-1===(Ht=W.indexOf("\n",en))?(qt=W.slice(en),en=In):(qt=W.slice(en,Ht+1),en=Ht+1),qt.length&&"\n"!==qt&&(bn+=Ut),bn+=qt;return bn}function ro(W,ut){return"\n"+A.repeat(" ",W.indent*ut)}function Xo(W){return W===so||W===Po}function Kr(W){return 32<=W&&W<=126||161<=W&&W<=55295&&8232!==W&&8233!==W||57344<=W&&W<=65533&&W!==io||65536<=W&&W<=1114111}function Ur(W){return Kr(W)&&W!==io&&W!==Ko&&W!==Pr}function Fo(W,ut,Ut){var en=Ur(W),Ht=en&&!Xo(W);return(Ut?en:en&&W!==Sr&&W!==Ki&&W!==Li&&W!==us&&W!==sr)&&W!==zr&&!(ut===wt&&!Ht)||Ur(ut)&&!Xo(ut)&&W===zr||ut===wt&&Ht}function Eo(W,ut){var en,Ut=W.charCodeAt(ut);return Ut>=55296&&Ut<=56319&&ut+1<W.length&&(en=W.charCodeAt(ut+1))>=56320&&en<=57343?1024*(Ut-55296)+en-56320+65536:Ut}function Yo(W){return/^\n* /.test(W)}var Co=1,ma=2,Fs=3,Va=4,Lo=5;function No(W,ut,Ut,en,Ht){W.dump=function(){if(0===ut.length)return W.quotingType===Yn?'""':"''";if(!W.noCompatMode&&(-1!==qs.indexOf(ut)||Xs.test(ut)))return W.quotingType===Yn?'"'+ut+'"':"'"+ut+"'";var bn=W.indent*Math.max(1,Ut),qt=-1===W.lineWidth?-1:Math.max(Math.min(W.lineWidth,40),W.lineWidth-bn);switch(function xi(W,ut,Ut,en,Ht,bn,qt,In){var kn,Hn=0,ai=null,ii=!1,Fi=!1,Bi=-1!==en,hs=-1,js=function Fr(W){return Kr(W)&&W!==io&&!Xo(W)&&W!==Re&&W!==Ei&&W!==wt&&W!==Sr&&W!==Ki&&W!==Li&&W!==us&&W!==sr&&W!==zr&&W!==na&&W!==yo&&W!==Wr&&W!==ks&&W!==ln&&W!==xn&&W!==Br&&W!==Ho&&W!==Bs&&W!==pi&&W!==bs}(Eo(W,0))&&function Er(W){return!Xo(W)&&W!==wt}(Eo(W,W.length-1));if(ut||qt)for(kn=0;kn<W.length;Hn>=65536?kn+=2:kn++){if(!Kr(Hn=Eo(W,kn)))return Lo;js=js&&Fo(Hn,ai,In),ai=Hn}else{for(kn=0;kn<W.length;Hn>=65536?kn+=2:kn++){if((Hn=Eo(W,kn))===Pr)ii=!0,Bi&&(Fi=Fi||kn-hs-1>en&&" "!==W[hs+1],hs=kn);else if(!Kr(Hn))return Lo;js=js&&Fo(Hn,ai,In),ai=Hn}Fi=Fi||Bi&&kn-hs-1>en&&" "!==W[hs+1]}return ii||Fi?Ut>9&&Yo(W)?Lo:qt?bn===Yn?Lo:ma:Fi?Va:Fs:!js||qt||Ht(W)?bn===Yn?Lo:ma:Co}(ut,en||W.flowLevel>-1&&Ut>=W.flowLevel,W.indent,qt,function kn(Hn){return function yr(W,ut){var Ut,en;for(Ut=0,en=W.implicitTypes.length;Ut<en;Ut+=1)if(W.implicitTypes[Ut].resolve(ut))return!0;return!1}(W,Hn)},W.quotingType,W.forceQuotes&&!en,Ht)){case Co:return ut;case ma:return"'"+ut.replace(/'/g,"''")+"'";case Fs:return"|"+Ts(ut,W.indent)+Qo(or(ut,bn));case Va:return">"+Ts(ut,W.indent)+Qo(or(function cl(W,ut){for(var bn,qt,Ut=/(\n+)([^\n]*)/g,en=(Hn=void 0,Hn=W.indexOf("\n"),Ut.lastIndex=Hn=-1!==Hn?Hn:W.length,Ga(W.slice(0,Hn),ut)),Ht="\n"===W[0]||" "===W[0];qt=Ut.exec(W);){var kn=qt[2];bn=" "===kn[0],en+=qt[1]+(Ht||bn||""===kn?"":"\n")+Ga(kn,ut),Ht=bn}var Hn;return en}(ut,qt),bn));case Lo:return'"'+function Mo(W){for(var en,ut="",Ut=0,Ht=0;Ht<W.length;Ut>=65536?Ht+=2:Ht++)Ut=Eo(W,Ht),!(en=os[Ut])&&Kr(Ut)?(ut+=W[Ht],Ut>=65536&&(ut+=W[Ht+1])):ut+=en||Ys(Ut);return ut}(ut)+'"';default:throw new z("impossible error: invalid scalar style")}}()}function Ts(W,ut){var Ut=Yo(W)?String(ut):"",en="\n"===W[W.length-1];return Ut+(!en||"\n"!==W[W.length-2]&&"\n"!==W?en?"":"-":"+")+"\n"}function Qo(W){return"\n"===W[W.length-1]?W.slice(0,-1):W}function Ga(W,ut){if(""===W||" "===W[0])return W;for(var en,bn,Ut=/ [^ ]/g,Ht=0,qt=0,In=0,kn="";en=Ut.exec(W);)(In=en.index)-Ht>ut&&(kn+="\n"+W.slice(Ht,bn=qt>Ht?qt:In),Ht=bn+1),qt=In;return kn+="\n",(kn+=W.length-Ht>ut&&qt>Ht?W.slice(Ht,qt)+"\n"+W.slice(qt+1):W.slice(Ht)).slice(1)}function Yl(W,ut,Ut){var en,Ht,bn,qt,In,kn;for(bn=0,qt=(Ht=Ut?W.explicitTypes:W.implicitTypes).length;bn<qt;bn+=1)if(((In=Ht[bn]).instanceOf||In.predicate)&&(!In.instanceOf||"object"==typeof ut&&ut instanceof In.instanceOf)&&(!In.predicate||In.predicate(ut))){if(W.tag=Ut?In.multi&&In.representName?In.representName(ut):In.tag:"?",In.represent){if(kn=W.styleMap[In.tag]||In.defaultStyle,"[object Function]"===Zs.call(In.represent))en=In.represent(ut,kn);else{if(!zo.call(In.represent,kn))throw new z("!<"+In.tag+'> tag resolver accepts not "'+kn+'" style');en=In.represent[kn](ut,kn)}W.dump=en}return!0}return!1}function _a(W,ut,Ut,en,Ht,bn,qt){W.tag=null,W.dump=Ut,Yl(W,Ut,!1)||Yl(W,Ut,!0);var Hn,In=Zs.call(W.dump),kn=en;en&&(en=W.flowLevel<0||W.flowLevel>ut);var ii,Fi,ai="[object Object]"===In||"[object Array]"===In;if(ai&&(Fi=-1!==(ii=W.duplicates.indexOf(Ut))),(null!==W.tag&&"?"!==W.tag||Fi||2!==W.indent&&ut>0)&&(Ht=!1),Fi&&W.usedDuplicates[ii])W.dump="*ref_"+ii;else{if(ai&&Fi&&!W.usedDuplicates[ii]&&(W.usedDuplicates[ii]=!0),"[object Object]"===In)en&&0!==Object.keys(W.dump).length?(function Qc(W,ut,Ut,en){var In,kn,Hn,ai,ii,Fi,Ht="",bn=W.tag,qt=Object.keys(Ut);if(!0===W.sortKeys)qt.sort();else if("function"==typeof W.sortKeys)qt.sort(W.sortKeys);else if(W.sortKeys)throw new z("sortKeys must be a boolean or a function");for(In=0,kn=qt.length;In<kn;In+=1)Fi="",(!en||""!==Ht)&&(Fi+=ro(W,ut)),ai=Ut[Hn=qt[In]],W.replacer&&(ai=W.replacer.call(Ut,Hn,ai)),_a(W,ut+1,Hn,!0,!0,!0)&&((ii=null!==W.tag&&"?"!==W.tag||W.dump&&W.dump.length>1024)&&(W.dump&&Pr===W.dump.charCodeAt(0)?Fi+="?":Fi+="? "),Fi+=W.dump,ii&&(Fi+=ro(W,ut)),_a(W,ut+1,ai,!0,ii)&&(W.dump&&Pr===W.dump.charCodeAt(0)?Fi+=":":Fi+=": ",Ht+=Fi+=W.dump));W.tag=bn,W.dump=Ht||"{}"}(W,ut,W.dump,Ht),Fi&&(W.dump="&ref_"+ii+W.dump)):(function Hr(W,ut,Ut){var qt,In,kn,Hn,ai,en="",Ht=W.tag,bn=Object.keys(Ut);for(qt=0,In=bn.length;qt<In;qt+=1)ai="",""!==en&&(ai+=", "),W.condenseFlow&&(ai+='"'),Hn=Ut[kn=bn[qt]],W.replacer&&(Hn=W.replacer.call(Ut,kn,Hn)),_a(W,ut,kn,!1,!1)&&(W.dump.length>1024&&(ai+="? "),ai+=W.dump+(W.condenseFlow?'"':"")+":"+(W.condenseFlow?"":" "),_a(W,ut,Hn,!1,!1)&&(en+=ai+=W.dump));W.tag=Ht,W.dump="{"+en+"}"}(W,ut,W.dump),Fi&&(W.dump="&ref_"+ii+" "+W.dump));else if("[object Array]"===In)en&&0!==W.dump.length?(function Ia(W,ut,Ut,en){var qt,In,kn,Ht="",bn=W.tag;for(qt=0,In=Ut.length;qt<In;qt+=1)kn=Ut[qt],W.replacer&&(kn=W.replacer.call(Ut,String(qt),kn)),(_a(W,ut+1,kn,!0,!0,!1,!0)||typeof kn>"u"&&_a(W,ut+1,null,!0,!0,!1,!0))&&((!en||""!==Ht)&&(Ht+=ro(W,ut)),W.dump&&Pr===W.dump.charCodeAt(0)?Ht+="-":Ht+="- ",Ht+=W.dump);W.tag=bn,W.dump=Ht||"[]"}(W,W.noArrayIndent&&!qt&&ut>0?ut-1:ut,W.dump,Ht),Fi&&(W.dump="&ref_"+ii+W.dump)):(function Di(W,ut,Ut){var bn,qt,In,en="",Ht=W.tag;for(bn=0,qt=Ut.length;bn<qt;bn+=1)In=Ut[bn],W.replacer&&(In=W.replacer.call(Ut,String(bn),In)),(_a(W,ut,In,!1,!1)||typeof In>"u"&&_a(W,ut,null,!1,!1))&&(""!==en&&(en+=","+(W.condenseFlow?"":" ")),en+=W.dump);W.tag=Ht,W.dump="["+en+"]"}(W,ut,W.dump),Fi&&(W.dump="&ref_"+ii+" "+W.dump));else{if("[object String]"!==In){if("[object Undefined]"===In)return!1;if(W.skipInvalid)return!1;throw new z("unacceptable kind of an object to dump "+In)}"?"!==W.tag&&No(W,W.dump,ut,bn,kn)}null!==W.tag&&"?"!==W.tag&&(Hn=encodeURI("!"===W.tag[0]?W.tag.slice(1):W.tag).replace(/!/g,"%21"),Hn="!"===W.tag[0]?"!"+Hn:"tag:yaml.org,2002:"===Hn.slice(0,18)?"!!"+Hn.slice(18):"!<"+Hn+">",W.dump=Hn+" "+W.dump)}return!0}function oo(W,ut){var Ht,bn,Ut=[],en=[];for(Wa(W,Ut,en),Ht=0,bn=en.length;Ht<bn;Ht+=1)ut.duplicates.push(Ut[en[Ht]]);ut.usedDuplicates=new Array(bn)}function Wa(W,ut,Ut){var en,Ht,bn;if(null!==W&&"object"==typeof W)if(-1!==(Ht=ut.indexOf(W)))-1===Ut.indexOf(Ht)&&Ut.push(Ht);else if(ut.push(W),Array.isArray(W))for(Ht=0,bn=W.length;Ht<bn;Ht+=1)Wa(W[Ht],ut,Ut);else for(Ht=0,bn=(en=Object.keys(W)).length;Ht<bn;Ht+=1)Wa(W[en[Ht]],ut,Ut)}function Tt(W,ut){return function(){throw new Error("Function yaml."+W+" is removed in js-yaml 4. Use yaml."+ut+" instead, which is now safe by default.")}}var za=function no(W,ut){var Ut=Js(W,ut);if(0!==Ut.length){if(1===Ut.length)return Ut[0];throw new z("expected a single document in the stream, but found more")}},va=function He(W,ut){var Ut=new br(ut=ut||{});Ut.noRefs||oo(W,Ut);var en=W;return Ut.replacer&&(en=Ut.replacer.call({"":en},"",en)),_a(Ut,0,en,!0,!0)?Ut.dump+"\n":""};Tt("safeLoad","load"),Tt("safeLoadAll","loadAll"),Tt("safeDump","dump")},222:(Mt,pe,a)=>{"use strict";a.d(pe,{qg:()=>Xe,xI:()=>an});let i={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function d(Xt){i=Xt}const p=/[&<>"']/,m=new RegExp(p.source,"g"),_=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,g=new RegExp(_.source,"g"),b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},u=Xt=>b[Xt];function S(Xt,Be){if(Be){if(p.test(Xt))return Xt.replace(m,u)}else if(_.test(Xt))return Xt.replace(g,u);return Xt}const D=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,A=/(^|[^\[])\^/g;function v(Xt,Be){let oe="string"==typeof Xt?Xt:Xt.source;Be=Be||"";const Ee={replace:(ne,Ie)=>{let Te="string"==typeof Ie?Ie:Ie.source;return Te=Te.replace(A,"$1"),oe=oe.replace(ne,Te),Ee},getRegex:()=>new RegExp(oe,Be)};return Ee}function O(Xt){try{Xt=encodeURI(Xt).replace(/%25/g,"%")}catch{return null}return Xt}const z={exec:()=>null};function G(Xt,Be){const Ee=Xt.replace(/\|/g,(Ie,Te,Ge)=>{let Ue=!1,Fe=Te;for(;--Fe>=0&&"\\"===Ge[Fe];)Ue=!Ue;return Ue?"|":" |"}).split(/ \|/);let ne=0;if(Ee[0].trim()||Ee.shift(),Ee.length>0&&!Ee[Ee.length-1].trim()&&Ee.pop(),Be)if(Ee.length>Be)Ee.splice(Be);else for(;Ee.length<Be;)Ee.push("");for(;ne<Ee.length;ne++)Ee[ne]=Ee[ne].trim().replace(/\\\|/g,"|");return Ee}function K(Xt,Be,oe){const Ee=Xt.length;if(0===Ee)return"";let ne=0;for(;ne<Ee;){const Ie=Xt.charAt(Ee-ne-1);if(Ie!==Be||oe){if(Ie===Be||!oe)break;ne++}else ne++}return Xt.slice(0,Ee-ne)}function H(Xt,Be,oe,Ee){const ne=Be.href,Ie=Be.title?S(Be.title):null,Te=Xt[1].replace(/\\([\[\]])/g,"$1");if("!"!==Xt[0].charAt(0)){Ee.state.inLink=!0;const Ge={type:"link",raw:oe,href:ne,title:Ie,text:Te,tokens:Ee.inlineTokens(Te)};return Ee.state.inLink=!1,Ge}return{type:"image",raw:oe,href:ne,title:Ie,text:S(Te)}}class P{options;rules;lexer;constructor(Be){this.options=Be||i}space(Be){const oe=this.rules.block.newline.exec(Be);if(oe&&oe[0].length>0)return{type:"space",raw:oe[0]}}code(Be){const oe=this.rules.block.code.exec(Be);if(oe){const Ee=oe[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:oe[0],codeBlockStyle:"indented",text:this.options.pedantic?Ee:K(Ee,"\n")}}}fences(Be){const oe=this.rules.block.fences.exec(Be);if(oe){const Ee=oe[0],ne=function Y(Xt,Be){const oe=Xt.match(/^(\s+)(?:```)/);if(null===oe)return Be;const Ee=oe[1];return Be.split("\n").map(ne=>{const Ie=ne.match(/^\s+/);if(null===Ie)return ne;const[Te]=Ie;return Te.length>=Ee.length?ne.slice(Ee.length):ne}).join("\n")}(Ee,oe[3]||"");return{type:"code",raw:Ee,lang:oe[2]?oe[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):oe[2],text:ne}}}heading(Be){const oe=this.rules.block.heading.exec(Be);if(oe){let Ee=oe[2].trim();if(/#$/.test(Ee)){const ne=K(Ee,"#");(this.options.pedantic||!ne||/ $/.test(ne))&&(Ee=ne.trim())}return{type:"heading",raw:oe[0],depth:oe[1].length,text:Ee,tokens:this.lexer.inline(Ee)}}}hr(Be){const oe=this.rules.block.hr.exec(Be);if(oe)return{type:"hr",raw:K(oe[0],"\n")}}blockquote(Be){const oe=this.rules.block.blockquote.exec(Be);if(oe){let Ee=K(oe[0],"\n").split("\n"),ne="",Ie="";const Te=[];for(;Ee.length>0;){let Ge=!1;const Ue=[];let Fe;for(Fe=0;Fe<Ee.length;Fe++)if(/^ {0,3}>/.test(Ee[Fe]))Ue.push(Ee[Fe]),Ge=!0;else{if(Ge)break;Ue.push(Ee[Fe])}Ee=Ee.slice(Fe);const At=Ue.join("\n"),Ke=At.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,"\n    $1").replace(/^ {0,3}>[ \t]?/gm,"");ne=ne?`${ne}\n${At}`:At,Ie=Ie?`${Ie}\n${Ke}`:Ke;const xt=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(Ke,Te,!0),this.lexer.state.top=xt,0===Ee.length)break;const tn=Te[Te.length-1];if("code"===tn?.type)break;if("blockquote"===tn?.type){const nn=tn,En=nn.raw+"\n"+Ee.join("\n"),Un=this.blockquote(En);Te[Te.length-1]=Un,ne=ne.substring(0,ne.length-nn.raw.length)+Un.raw,Ie=Ie.substring(0,Ie.length-nn.text.length)+Un.text;break}if("list"!==tn?.type);else{const nn=tn,En=nn.raw+"\n"+Ee.join("\n"),Un=this.list(En);Te[Te.length-1]=Un,ne=ne.substring(0,ne.length-tn.raw.length)+Un.raw,Ie=Ie.substring(0,Ie.length-nn.raw.length)+Un.raw,Ee=En.substring(Te[Te.length-1].raw.length).split("\n")}}return{type:"blockquote",raw:ne,tokens:Te,text:Ie}}}list(Be){let oe=this.rules.block.list.exec(Be);if(oe){let Ee=oe[1].trim();const ne=Ee.length>1,Ie={type:"list",raw:"",ordered:ne,start:ne?+Ee.slice(0,-1):"",loose:!1,items:[]};Ee=ne?`\\d{1,9}\\${Ee.slice(-1)}`:`\\${Ee}`,this.options.pedantic&&(Ee=ne?Ee:"[*+-]");const Te=new RegExp(`^( {0,3}${Ee})((?:[\t ][^\\n]*)?(?:\\n|$))`);let Ge=!1;for(;Be;){let Ue=!1,Fe="",At="";if(!(oe=Te.exec(Be))||this.rules.block.hr.test(Be))break;Fe=oe[0],Be=Be.substring(Fe.length);let Ke=oe[2].split("\n",1)[0].replace(/^\t+/,Xn=>" ".repeat(3*Xn.length)),xt=Be.split("\n",1)[0],tn=!Ke.trim(),nn=0;if(this.options.pedantic?(nn=2,At=Ke.trimStart()):tn?nn=oe[1].length+1:(nn=oe[2].search(/[^ ]/),nn=nn>4?1:nn,At=Ke.slice(nn),nn+=oe[1].length),tn&&/^ *$/.test(xt)&&(Fe+=xt+"\n",Be=Be.substring(xt.length+1),Ue=!0),!Ue){const Xn=new RegExp(`^ {0,${Math.min(3,nn-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),Qn=new RegExp(`^ {0,${Math.min(3,nn-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fi=new RegExp(`^ {0,${Math.min(3,nn-1)}}(?:\`\`\`|~~~)`),Ui=new RegExp(`^ {0,${Math.min(3,nn-1)}}#`);for(;Be;){const Ti=Be.split("\n",1)[0];if(xt=Ti,this.options.pedantic&&(xt=xt.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),fi.test(xt)||Ui.test(xt)||Xn.test(xt)||Qn.test(Be))break;if(xt.search(/[^ ]/)>=nn||!xt.trim())At+="\n"+xt.slice(nn);else{if(tn||Ke.search(/[^ ]/)>=4||fi.test(Ke)||Ui.test(Ke)||Qn.test(Ke))break;At+="\n"+xt}!tn&&!xt.trim()&&(tn=!0),Fe+=Ti+"\n",Be=Be.substring(Ti.length+1),Ke=xt.slice(nn)}}Ie.loose||(Ge?Ie.loose=!0:/\n *\n *$/.test(Fe)&&(Ge=!0));let Un,En=null;this.options.gfm&&(En=/^\[[ xX]\] /.exec(At),En&&(Un="[ ] "!==En[0],At=At.replace(/^\[[ xX]\] +/,""))),Ie.items.push({type:"list_item",raw:Fe,task:!!En,checked:Un,loose:!1,text:At,tokens:[]}),Ie.raw+=Fe}Ie.items[Ie.items.length-1].raw=Ie.items[Ie.items.length-1].raw.trimEnd(),Ie.items[Ie.items.length-1].text=Ie.items[Ie.items.length-1].text.trimEnd(),Ie.raw=Ie.raw.trimEnd();for(let Ue=0;Ue<Ie.items.length;Ue++)if(this.lexer.state.top=!1,Ie.items[Ue].tokens=this.lexer.blockTokens(Ie.items[Ue].text,[]),!Ie.loose){const Fe=Ie.items[Ue].tokens.filter(Ke=>"space"===Ke.type),At=Fe.length>0&&Fe.some(Ke=>/\n.*\n/.test(Ke.raw));Ie.loose=At}if(Ie.loose)for(let Ue=0;Ue<Ie.items.length;Ue++)Ie.items[Ue].loose=!0;return Ie}}html(Be){const oe=this.rules.block.html.exec(Be);if(oe)return{type:"html",block:!0,raw:oe[0],pre:"pre"===oe[1]||"script"===oe[1]||"style"===oe[1],text:oe[0]}}def(Be){const oe=this.rules.block.def.exec(Be);if(oe){const Ee=oe[1].toLowerCase().replace(/\s+/g," "),ne=oe[2]?oe[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",Ie=oe[3]?oe[3].substring(1,oe[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):oe[3];return{type:"def",tag:Ee,raw:oe[0],href:ne,title:Ie}}}table(Be){const oe=this.rules.block.table.exec(Be);if(!oe||!/[:|]/.test(oe[2]))return;const Ee=G(oe[1]),ne=oe[2].replace(/^\||\| *$/g,"").split("|"),Ie=oe[3]&&oe[3].trim()?oe[3].replace(/\n[ \t]*$/,"").split("\n"):[],Te={type:"table",raw:oe[0],header:[],align:[],rows:[]};if(Ee.length===ne.length){for(const Ge of ne)/^ *-+: *$/.test(Ge)?Te.align.push("right"):/^ *:-+: *$/.test(Ge)?Te.align.push("center"):/^ *:-+ *$/.test(Ge)?Te.align.push("left"):Te.align.push(null);for(let Ge=0;Ge<Ee.length;Ge++)Te.header.push({text:Ee[Ge],tokens:this.lexer.inline(Ee[Ge]),header:!0,align:Te.align[Ge]});for(const Ge of Ie)Te.rows.push(G(Ge,Te.header.length).map((Ue,Fe)=>({text:Ue,tokens:this.lexer.inline(Ue),header:!1,align:Te.align[Fe]})));return Te}}lheading(Be){const oe=this.rules.block.lheading.exec(Be);if(oe)return{type:"heading",raw:oe[0],depth:"="===oe[2].charAt(0)?1:2,text:oe[1],tokens:this.lexer.inline(oe[1])}}paragraph(Be){const oe=this.rules.block.paragraph.exec(Be);if(oe){const Ee="\n"===oe[1].charAt(oe[1].length-1)?oe[1].slice(0,-1):oe[1];return{type:"paragraph",raw:oe[0],text:Ee,tokens:this.lexer.inline(Ee)}}}text(Be){const oe=this.rules.block.text.exec(Be);if(oe)return{type:"text",raw:oe[0],text:oe[0],tokens:this.lexer.inline(oe[0])}}escape(Be){const oe=this.rules.inline.escape.exec(Be);if(oe)return{type:"escape",raw:oe[0],text:S(oe[1])}}tag(Be){const oe=this.rules.inline.tag.exec(Be);if(oe)return!this.lexer.state.inLink&&/^<a /i.test(oe[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(oe[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(oe[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(oe[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:oe[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:oe[0]}}link(Be){const oe=this.rules.inline.link.exec(Be);if(oe){const Ee=oe[2].trim();if(!this.options.pedantic&&/^</.test(Ee)){if(!/>$/.test(Ee))return;const Te=K(Ee.slice(0,-1),"\\");if((Ee.length-Te.length)%2==0)return}else{const Te=function F(Xt,Be){if(-1===Xt.indexOf(Be[1]))return-1;let oe=0;for(let Ee=0;Ee<Xt.length;Ee++)if("\\"===Xt[Ee])Ee++;else if(Xt[Ee]===Be[0])oe++;else if(Xt[Ee]===Be[1]&&(oe--,oe<0))return Ee;return-1}(oe[2],"()");if(Te>-1){const Ue=(0===oe[0].indexOf("!")?5:4)+oe[1].length+Te;oe[2]=oe[2].substring(0,Te),oe[0]=oe[0].substring(0,Ue).trim(),oe[3]=""}}let ne=oe[2],Ie="";if(this.options.pedantic){const Te=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(ne);Te&&(ne=Te[1],Ie=Te[3])}else Ie=oe[3]?oe[3].slice(1,-1):"";return ne=ne.trim(),/^</.test(ne)&&(ne=this.options.pedantic&&!/>$/.test(Ee)?ne.slice(1):ne.slice(1,-1)),H(oe,{href:ne&&ne.replace(this.rules.inline.anyPunctuation,"$1"),title:Ie&&Ie.replace(this.rules.inline.anyPunctuation,"$1")},oe[0],this.lexer)}}reflink(Be,oe){let Ee;if((Ee=this.rules.inline.reflink.exec(Be))||(Ee=this.rules.inline.nolink.exec(Be))){const Ie=oe[(Ee[2]||Ee[1]).replace(/\s+/g," ").toLowerCase()];if(!Ie){const Te=Ee[0].charAt(0);return{type:"text",raw:Te,text:Te}}return H(Ee,Ie,Ee[0],this.lexer)}}emStrong(Be,oe,Ee=""){let ne=this.rules.inline.emStrongLDelim.exec(Be);if(!(!ne||ne[3]&&Ee.match(/[\p{L}\p{N}]/u))&&(!ne[1]&&!ne[2]||!Ee||this.rules.inline.punctuation.exec(Ee))){const Te=[...ne[0]].length-1;let Ge,Ue,Fe=Te,At=0;const Ke="*"===ne[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(Ke.lastIndex=0,oe=oe.slice(-1*Be.length+Te);null!=(ne=Ke.exec(oe));){if(Ge=ne[1]||ne[2]||ne[3]||ne[4]||ne[5]||ne[6],!Ge)continue;if(Ue=[...Ge].length,ne[3]||ne[4]){Fe+=Ue;continue}if((ne[5]||ne[6])&&Te%3&&!((Te+Ue)%3)){At+=Ue;continue}if(Fe-=Ue,Fe>0)continue;Ue=Math.min(Ue,Ue+Fe+At);const xt=[...ne[0]][0].length,tn=Be.slice(0,Te+ne.index+xt+Ue);if(Math.min(Te,Ue)%2){const En=tn.slice(1,-1);return{type:"em",raw:tn,text:En,tokens:this.lexer.inlineTokens(En)}}const nn=tn.slice(2,-2);return{type:"strong",raw:tn,text:nn,tokens:this.lexer.inlineTokens(nn)}}}}codespan(Be){const oe=this.rules.inline.code.exec(Be);if(oe){let Ee=oe[2].replace(/\n/g," ");const ne=/[^ ]/.test(Ee),Ie=/^ /.test(Ee)&&/ $/.test(Ee);return ne&&Ie&&(Ee=Ee.substring(1,Ee.length-1)),Ee=S(Ee,!0),{type:"codespan",raw:oe[0],text:Ee}}}br(Be){const oe=this.rules.inline.br.exec(Be);if(oe)return{type:"br",raw:oe[0]}}del(Be){const oe=this.rules.inline.del.exec(Be);if(oe)return{type:"del",raw:oe[0],text:oe[2],tokens:this.lexer.inlineTokens(oe[2])}}autolink(Be){const oe=this.rules.inline.autolink.exec(Be);if(oe){let Ee,ne;return"@"===oe[2]?(Ee=S(oe[1]),ne="mailto:"+Ee):(Ee=S(oe[1]),ne=Ee),{type:"link",raw:oe[0],text:Ee,href:ne,tokens:[{type:"text",raw:Ee,text:Ee}]}}}url(Be){let oe;if(oe=this.rules.inline.url.exec(Be)){let Ee,ne;if("@"===oe[2])Ee=S(oe[0]),ne="mailto:"+Ee;else{let Ie;do{Ie=oe[0],oe[0]=this.rules.inline._backpedal.exec(oe[0])?.[0]??""}while(Ie!==oe[0]);Ee=S(oe[0]),ne="www."===oe[1]?"http://"+oe[0]:oe[0]}return{type:"link",raw:oe[0],text:Ee,href:ne,tokens:[{type:"text",raw:Ee,text:Ee}]}}}inlineText(Be){const oe=this.rules.inline.text.exec(Be);if(oe){let Ee;return Ee=this.lexer.state.inRawBlock?oe[0]:S(oe[0]),{type:"text",raw:oe[0],text:Ee}}}}const y=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,w=/(?:[*+-]|\d{1,9}[.)])/,L=v(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,w).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Q=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,R=/(?!\s*\])(?:\\.|[^\[\]\\])+/,ee=v(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",R).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),k=v(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,w).getRegex(),J="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",X=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,fe=v("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",X).replace("tag",J).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Me=v(Q).replace("hr",y).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",J).getRegex(),Ct={blockquote:v(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Me).getRegex(),code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,def:ee,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:y,html:fe,lheading:L,list:k,newline:/^(?: *(?:\n|$))+/,paragraph:Me,table:z,text:/^[^\n]+/},lt=v("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",y).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",J).getRegex(),Ot={...Ct,table:lt,paragraph:v(Q).replace("hr",y).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",lt).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",J).getRegex()},rt={...Ct,html:v("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",X).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:z,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:v(Q).replace("hr",y).replace("heading"," *#{1,6} *[^\n]").replace("lheading",L).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},vt=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Ce=/^( {2,}|\\)\n(?!\s*$)/,ue="\\p{P}\\p{S}",me=v(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,ue).getRegex(),Et=v(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,ue).getRegex(),Ve=v("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,ue).getRegex(),st=v("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,ue).getRegex(),ht=v(/\\([punct])/,"gu").replace(/punct/g,ue).getRegex(),Vt=v(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),qe=v(X).replace("(?:--\x3e|$)","--\x3e").getRegex(),gt=v("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",qe).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),ot=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ae=v(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",ot).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Oe=v(/^!?\[(label)\]\[(ref)\]/).replace("label",ot).replace("ref",R).getRegex(),Le=v(/^!?\[(ref)\](?:\[\])?/).replace("ref",R).getRegex(),_t={_backpedal:z,anyPunctuation:ht,autolink:Vt,blockSkip:/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,br:Ce,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:z,emStrongLDelim:Et,emStrongRDelimAst:Ve,emStrongRDelimUnd:st,escape:vt,link:ae,nolink:Le,punctuation:me,reflink:Oe,reflinkSearch:v("reflink|nolink(?!\\()","g").replace("reflink",Oe).replace("nolink",Le).getRegex(),tag:gt,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:z},Gt={..._t,link:v(/^!?\[(label)\]\((.*?)\)/).replace("label",ot).getRegex(),reflink:v(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ot).getRegex()},Kt={..._t,escape:v(vt).replace("])","~|])").getRegex(),url:v(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},vn={...Kt,br:v(Ce).replace("{2,}","*").getRegex(),text:v(Kt.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Ft={normal:Ct,gfm:Ot,pedantic:rt},_n={normal:_t,gfm:Kt,breaks:vn,pedantic:Gt};class ft{tokens;options;state;tokenizer;inlineQueue;constructor(Be){this.tokens=[],this.tokens.links=Object.create(null),this.options=Be||i,this.options.tokenizer=this.options.tokenizer||new P,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const oe={block:Ft.normal,inline:_n.normal};this.options.pedantic?(oe.block=Ft.pedantic,oe.inline=_n.pedantic):this.options.gfm&&(oe.block=Ft.gfm,oe.inline=this.options.breaks?_n.breaks:_n.gfm),this.tokenizer.rules=oe}static get rules(){return{block:Ft,inline:_n}}static lex(Be,oe){return new ft(oe).lex(Be)}static lexInline(Be,oe){return new ft(oe).inlineTokens(Be)}lex(Be){Be=Be.replace(/\r\n|\r/g,"\n"),this.blockTokens(Be,this.tokens);for(let oe=0;oe<this.inlineQueue.length;oe++){const Ee=this.inlineQueue[oe];this.inlineTokens(Ee.src,Ee.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(Be,oe=[],Ee=!1){let ne,Ie,Te;for(Be=this.options.pedantic?Be.replace(/\t/g,"    ").replace(/^ +$/gm,""):Be.replace(/^( *)(\t+)/gm,(Ge,Ue,Fe)=>Ue+"    ".repeat(Fe.length));Be;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(Ge=>!!(ne=Ge.call({lexer:this},Be,oe))&&(Be=Be.substring(ne.raw.length),oe.push(ne),!0)))){if(ne=this.tokenizer.space(Be)){Be=Be.substring(ne.raw.length),1===ne.raw.length&&oe.length>0?oe[oe.length-1].raw+="\n":oe.push(ne);continue}if(ne=this.tokenizer.code(Be)){Be=Be.substring(ne.raw.length),Ie=oe[oe.length-1],!Ie||"paragraph"!==Ie.type&&"text"!==Ie.type?oe.push(ne):(Ie.raw+="\n"+ne.raw,Ie.text+="\n"+ne.text,this.inlineQueue[this.inlineQueue.length-1].src=Ie.text);continue}if(ne=this.tokenizer.fences(Be)){Be=Be.substring(ne.raw.length),oe.push(ne);continue}if(ne=this.tokenizer.heading(Be)){Be=Be.substring(ne.raw.length),oe.push(ne);continue}if(ne=this.tokenizer.hr(Be)){Be=Be.substring(ne.raw.length),oe.push(ne);continue}if(ne=this.tokenizer.blockquote(Be)){Be=Be.substring(ne.raw.length),oe.push(ne);continue}if(ne=this.tokenizer.list(Be)){Be=Be.substring(ne.raw.length),oe.push(ne);continue}if(ne=this.tokenizer.html(Be)){Be=Be.substring(ne.raw.length),oe.push(ne);continue}if(ne=this.tokenizer.def(Be)){Be=Be.substring(ne.raw.length),Ie=oe[oe.length-1],!Ie||"paragraph"!==Ie.type&&"text"!==Ie.type?this.tokens.links[ne.tag]||(this.tokens.links[ne.tag]={href:ne.href,title:ne.title}):(Ie.raw+="\n"+ne.raw,Ie.text+="\n"+ne.raw,this.inlineQueue[this.inlineQueue.length-1].src=Ie.text);continue}if(ne=this.tokenizer.table(Be)){Be=Be.substring(ne.raw.length),oe.push(ne);continue}if(ne=this.tokenizer.lheading(Be)){Be=Be.substring(ne.raw.length),oe.push(ne);continue}if(Te=Be,this.options.extensions&&this.options.extensions.startBlock){let Ge=1/0;const Ue=Be.slice(1);let Fe;this.options.extensions.startBlock.forEach(At=>{Fe=At.call({lexer:this},Ue),"number"==typeof Fe&&Fe>=0&&(Ge=Math.min(Ge,Fe))}),Ge<1/0&&Ge>=0&&(Te=Be.substring(0,Ge+1))}if(this.state.top&&(ne=this.tokenizer.paragraph(Te))){Ie=oe[oe.length-1],Ee&&"paragraph"===Ie?.type?(Ie.raw+="\n"+ne.raw,Ie.text+="\n"+ne.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Ie.text):oe.push(ne),Ee=Te.length!==Be.length,Be=Be.substring(ne.raw.length);continue}if(ne=this.tokenizer.text(Be)){Be=Be.substring(ne.raw.length),Ie=oe[oe.length-1],Ie&&"text"===Ie.type?(Ie.raw+="\n"+ne.raw,Ie.text+="\n"+ne.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Ie.text):oe.push(ne);continue}if(Be){const Ge="Infinite loop on byte: "+Be.charCodeAt(0);if(this.options.silent){console.error(Ge);break}throw new Error(Ge)}}return this.state.top=!0,oe}inline(Be,oe=[]){return this.inlineQueue.push({src:Be,tokens:oe}),oe}inlineTokens(Be,oe=[]){let Ee,ne,Ie,Ge,Ue,Fe,Te=Be;if(this.tokens.links){const At=Object.keys(this.tokens.links);if(At.length>0)for(;null!=(Ge=this.tokenizer.rules.inline.reflinkSearch.exec(Te));)At.includes(Ge[0].slice(Ge[0].lastIndexOf("[")+1,-1))&&(Te=Te.slice(0,Ge.index)+"["+"a".repeat(Ge[0].length-2)+"]"+Te.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(Ge=this.tokenizer.rules.inline.blockSkip.exec(Te));)Te=Te.slice(0,Ge.index)+"["+"a".repeat(Ge[0].length-2)+"]"+Te.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(Ge=this.tokenizer.rules.inline.anyPunctuation.exec(Te));)Te=Te.slice(0,Ge.index)+"++"+Te.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;Be;)if(Ue||(Fe=""),Ue=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(At=>!!(Ee=At.call({lexer:this},Be,oe))&&(Be=Be.substring(Ee.raw.length),oe.push(Ee),!0)))){if(Ee=this.tokenizer.escape(Be)){Be=Be.substring(Ee.raw.length),oe.push(Ee);continue}if(Ee=this.tokenizer.tag(Be)){Be=Be.substring(Ee.raw.length),ne=oe[oe.length-1],ne&&"text"===Ee.type&&"text"===ne.type?(ne.raw+=Ee.raw,ne.text+=Ee.text):oe.push(Ee);continue}if(Ee=this.tokenizer.link(Be)){Be=Be.substring(Ee.raw.length),oe.push(Ee);continue}if(Ee=this.tokenizer.reflink(Be,this.tokens.links)){Be=Be.substring(Ee.raw.length),ne=oe[oe.length-1],ne&&"text"===Ee.type&&"text"===ne.type?(ne.raw+=Ee.raw,ne.text+=Ee.text):oe.push(Ee);continue}if(Ee=this.tokenizer.emStrong(Be,Te,Fe)){Be=Be.substring(Ee.raw.length),oe.push(Ee);continue}if(Ee=this.tokenizer.codespan(Be)){Be=Be.substring(Ee.raw.length),oe.push(Ee);continue}if(Ee=this.tokenizer.br(Be)){Be=Be.substring(Ee.raw.length),oe.push(Ee);continue}if(Ee=this.tokenizer.del(Be)){Be=Be.substring(Ee.raw.length),oe.push(Ee);continue}if(Ee=this.tokenizer.autolink(Be)){Be=Be.substring(Ee.raw.length),oe.push(Ee);continue}if(!this.state.inLink&&(Ee=this.tokenizer.url(Be))){Be=Be.substring(Ee.raw.length),oe.push(Ee);continue}if(Ie=Be,this.options.extensions&&this.options.extensions.startInline){let At=1/0;const Ke=Be.slice(1);let xt;this.options.extensions.startInline.forEach(tn=>{xt=tn.call({lexer:this},Ke),"number"==typeof xt&&xt>=0&&(At=Math.min(At,xt))}),At<1/0&&At>=0&&(Ie=Be.substring(0,At+1))}if(Ee=this.tokenizer.inlineText(Ie)){Be=Be.substring(Ee.raw.length),"_"!==Ee.raw.slice(-1)&&(Fe=Ee.raw.slice(-1)),Ue=!0,ne=oe[oe.length-1],ne&&"text"===ne.type?(ne.raw+=Ee.raw,ne.text+=Ee.text):oe.push(Ee);continue}if(Be){const At="Infinite loop on byte: "+Be.charCodeAt(0);if(this.options.silent){console.error(At);break}throw new Error(At)}}return oe}}class pt{options;parser;constructor(Be){this.options=Be||i}space(Be){return""}code({text:Be,lang:oe,escaped:Ee}){const ne=(oe||"").match(/^\S*/)?.[0],Ie=Be.replace(/\n$/,"")+"\n";return ne?'<pre><code class="language-'+S(ne)+'">'+(Ee?Ie:S(Ie,!0))+"</code></pre>\n":"<pre><code>"+(Ee?Ie:S(Ie,!0))+"</code></pre>\n"}blockquote({tokens:Be}){return`<blockquote>\n${this.parser.parse(Be)}</blockquote>\n`}html({text:Be}){return Be}heading({tokens:Be,depth:oe}){return`<h${oe}>${this.parser.parseInline(Be)}</h${oe}>\n`}hr(Be){return"<hr>\n"}list(Be){const oe=Be.ordered,Ee=Be.start;let ne="";for(let Ge=0;Ge<Be.items.length;Ge++)ne+=this.listitem(Be.items[Ge]);const Ie=oe?"ol":"ul";return"<"+Ie+(oe&&1!==Ee?' start="'+Ee+'"':"")+">\n"+ne+"</"+Ie+">\n"}listitem(Be){let oe="";if(Be.task){const Ee=this.checkbox({checked:!!Be.checked});Be.loose?Be.tokens.length>0&&"paragraph"===Be.tokens[0].type?(Be.tokens[0].text=Ee+" "+Be.tokens[0].text,Be.tokens[0].tokens&&Be.tokens[0].tokens.length>0&&"text"===Be.tokens[0].tokens[0].type&&(Be.tokens[0].tokens[0].text=Ee+" "+Be.tokens[0].tokens[0].text)):Be.tokens.unshift({type:"text",raw:Ee+" ",text:Ee+" "}):oe+=Ee+" "}return oe+=this.parser.parse(Be.tokens,!!Be.loose),`<li>${oe}</li>\n`}checkbox({checked:Be}){return"<input "+(Be?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:Be}){return`<p>${this.parser.parseInline(Be)}</p>\n`}table(Be){let oe="",Ee="";for(let Ie=0;Ie<Be.header.length;Ie++)Ee+=this.tablecell(Be.header[Ie]);oe+=this.tablerow({text:Ee});let ne="";for(let Ie=0;Ie<Be.rows.length;Ie++){const Te=Be.rows[Ie];Ee="";for(let Ge=0;Ge<Te.length;Ge++)Ee+=this.tablecell(Te[Ge]);ne+=this.tablerow({text:Ee})}return ne&&(ne=`<tbody>${ne}</tbody>`),"<table>\n<thead>\n"+oe+"</thead>\n"+ne+"</table>\n"}tablerow({text:Be}){return`<tr>\n${Be}</tr>\n`}tablecell(Be){const oe=this.parser.parseInline(Be.tokens),Ee=Be.header?"th":"td";return(Be.align?`<${Ee} align="${Be.align}">`:`<${Ee}>`)+oe+`</${Ee}>\n`}strong({tokens:Be}){return`<strong>${this.parser.parseInline(Be)}</strong>`}em({tokens:Be}){return`<em>${this.parser.parseInline(Be)}</em>`}codespan({text:Be}){return`<code>${Be}</code>`}br(Be){return"<br>"}del({tokens:Be}){return`<del>${this.parser.parseInline(Be)}</del>`}link({href:Be,title:oe,tokens:Ee}){const ne=this.parser.parseInline(Ee),Ie=O(Be);if(null===Ie)return ne;let Te='<a href="'+(Be=Ie)+'"';return oe&&(Te+=' title="'+oe+'"'),Te+=">"+ne+"</a>",Te}image({href:Be,title:oe,text:Ee}){const ne=O(Be);if(null===ne)return Ee;let Ie=`<img src="${Be=ne}" alt="${Ee}"`;return oe&&(Ie+=` title="${oe}"`),Ie+=">",Ie}text(Be){return"tokens"in Be&&Be.tokens?this.parser.parseInline(Be.tokens):Be.text}}class $t{strong({text:Be}){return Be}em({text:Be}){return Be}codespan({text:Be}){return Be}del({text:Be}){return Be}html({text:Be}){return Be}text({text:Be}){return Be}link({text:Be}){return""+Be}image({text:Be}){return""+Be}br(){return""}}class kt{options;renderer;textRenderer;constructor(Be){this.options=Be||i,this.options.renderer=this.options.renderer||new pt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new $t}static parse(Be,oe){return new kt(oe).parse(Be)}static parseInline(Be,oe){return new kt(oe).parseInline(Be)}parse(Be,oe=!0){let Ee="";for(let ne=0;ne<Be.length;ne++){const Ie=Be[ne];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Ie.type]){const Ge=Ie,Ue=this.options.extensions.renderers[Ge.type].call({parser:this},Ge);if(!1!==Ue||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Ge.type)){Ee+=Ue||"";continue}}const Te=Ie;switch(Te.type){case"space":Ee+=this.renderer.space(Te);continue;case"hr":Ee+=this.renderer.hr(Te);continue;case"heading":Ee+=this.renderer.heading(Te);continue;case"code":Ee+=this.renderer.code(Te);continue;case"table":Ee+=this.renderer.table(Te);continue;case"blockquote":Ee+=this.renderer.blockquote(Te);continue;case"list":Ee+=this.renderer.list(Te);continue;case"html":Ee+=this.renderer.html(Te);continue;case"paragraph":Ee+=this.renderer.paragraph(Te);continue;case"text":{let Ge=Te,Ue=this.renderer.text(Ge);for(;ne+1<Be.length&&"text"===Be[ne+1].type;)Ge=Be[++ne],Ue+="\n"+this.renderer.text(Ge);Ee+=oe?this.renderer.paragraph({type:"paragraph",raw:Ue,text:Ue,tokens:[{type:"text",raw:Ue,text:Ue}]}):Ue;continue}default:{const Ge='Token with "'+Te.type+'" type was not found.';if(this.options.silent)return console.error(Ge),"";throw new Error(Ge)}}}return Ee}parseInline(Be,oe){oe=oe||this.renderer;let Ee="";for(let ne=0;ne<Be.length;ne++){const Ie=Be[ne];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Ie.type]){const Ge=this.options.extensions.renderers[Ie.type].call({parser:this},Ie);if(!1!==Ge||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(Ie.type)){Ee+=Ge||"";continue}}const Te=Ie;switch(Te.type){case"escape":case"text":Ee+=oe.text(Te);break;case"html":Ee+=oe.html(Te);break;case"link":Ee+=oe.link(Te);break;case"image":Ee+=oe.image(Te);break;case"strong":Ee+=oe.strong(Te);break;case"em":Ee+=oe.em(Te);break;case"codespan":Ee+=oe.codespan(Te);break;case"br":Ee+=oe.br(Te);break;case"del":Ee+=oe.del(Te);break;default:{const Ge='Token with "'+Te.type+'" type was not found.';if(this.options.silent)return console.error(Ge),"";throw new Error(Ge)}}}return Ee}}class dn{options;constructor(Be){this.options=Be||i}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(Be){return Be}postprocess(Be){return Be}processAllTokens(Be){return Be}}const un=new class pn{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.#t(ft.lex,kt.parse);parseInline=this.#t(ft.lexInline,kt.parseInline);Parser=kt;Renderer=pt;TextRenderer=$t;Lexer=ft;Tokenizer=P;Hooks=dn;constructor(...Be){this.use(...Be)}walkTokens(Be,oe){let Ee=[];for(const ne of Be)switch(Ee=Ee.concat(oe.call(this,ne)),ne.type){case"table":{const Ie=ne;for(const Te of Ie.header)Ee=Ee.concat(this.walkTokens(Te.tokens,oe));for(const Te of Ie.rows)for(const Ge of Te)Ee=Ee.concat(this.walkTokens(Ge.tokens,oe));break}case"list":Ee=Ee.concat(this.walkTokens(ne.items,oe));break;default:{const Ie=ne;this.defaults.extensions?.childTokens?.[Ie.type]?this.defaults.extensions.childTokens[Ie.type].forEach(Te=>{const Ge=Ie[Te].flat(1/0);Ee=Ee.concat(this.walkTokens(Ge,oe))}):Ie.tokens&&(Ee=Ee.concat(this.walkTokens(Ie.tokens,oe)))}}return Ee}use(...Be){const oe=this.defaults.extensions||{renderers:{},childTokens:{}};return Be.forEach(Ee=>{const ne={...Ee};if(ne.async=this.defaults.async||ne.async||!1,Ee.extensions&&(Ee.extensions.forEach(Ie=>{if(!Ie.name)throw new Error("extension name required");if("renderer"in Ie){const Te=oe.renderers[Ie.name];oe.renderers[Ie.name]=Te?function(...Ge){let Ue=Ie.renderer.apply(this,Ge);return!1===Ue&&(Ue=Te.apply(this,Ge)),Ue}:Ie.renderer}if("tokenizer"in Ie){if(!Ie.level||"block"!==Ie.level&&"inline"!==Ie.level)throw new Error("extension level must be 'block' or 'inline'");const Te=oe[Ie.level];Te?Te.unshift(Ie.tokenizer):oe[Ie.level]=[Ie.tokenizer],Ie.start&&("block"===Ie.level?oe.startBlock?oe.startBlock.push(Ie.start):oe.startBlock=[Ie.start]:"inline"===Ie.level&&(oe.startInline?oe.startInline.push(Ie.start):oe.startInline=[Ie.start]))}"childTokens"in Ie&&Ie.childTokens&&(oe.childTokens[Ie.name]=Ie.childTokens)}),ne.extensions=oe),Ee.renderer){const Ie=this.defaults.renderer||new pt(this.defaults);for(const Te in Ee.renderer){if(!(Te in Ie))throw new Error(`renderer '${Te}' does not exist`);if(["options","parser"].includes(Te))continue;const Ge=Te;let Ue=Ee.renderer[Ge];Ee.useNewRenderer||(Ue=this.#e(Ue,Ge,Ie));const Fe=Ie[Ge];Ie[Ge]=(...At)=>{let Ke=Ue.apply(Ie,At);return!1===Ke&&(Ke=Fe.apply(Ie,At)),Ke||""}}ne.renderer=Ie}if(Ee.tokenizer){const Ie=this.defaults.tokenizer||new P(this.defaults);for(const Te in Ee.tokenizer){if(!(Te in Ie))throw new Error(`tokenizer '${Te}' does not exist`);if(["options","rules","lexer"].includes(Te))continue;const Ue=Ee.tokenizer[Te],Fe=Ie[Te];Ie[Te]=(...At)=>{let Ke=Ue.apply(Ie,At);return!1===Ke&&(Ke=Fe.apply(Ie,At)),Ke}}ne.tokenizer=Ie}if(Ee.hooks){const Ie=this.defaults.hooks||new dn;for(const Te in Ee.hooks){if(!(Te in Ie))throw new Error(`hook '${Te}' does not exist`);if("options"===Te)continue;const Ue=Ee.hooks[Te],Fe=Ie[Te];Ie[Te]=dn.passThroughHooks.has(Te)?At=>{if(this.defaults.async)return Promise.resolve(Ue.call(Ie,At)).then(xt=>Fe.call(Ie,xt));const Ke=Ue.call(Ie,At);return Fe.call(Ie,Ke)}:(...At)=>{let Ke=Ue.apply(Ie,At);return!1===Ke&&(Ke=Fe.apply(Ie,At)),Ke}}ne.hooks=Ie}if(Ee.walkTokens){const Ie=this.defaults.walkTokens,Te=Ee.walkTokens;ne.walkTokens=function(Ge){let Ue=[];return Ue.push(Te.call(this,Ge)),Ie&&(Ue=Ue.concat(Ie.call(this,Ge))),Ue}}this.defaults={...this.defaults,...ne}}),this}#e(Be,oe,Ee){switch(oe){case"heading":return function(ne){return ne.type&&ne.type===oe?Be.call(this,Ee.parser.parseInline(ne.tokens),ne.depth,function E(Xt){return Xt.replace(D,(Be,oe)=>"colon"===(oe=oe.toLowerCase())?":":"#"===oe.charAt(0)?"x"===oe.charAt(1)?String.fromCharCode(parseInt(oe.substring(2),16)):String.fromCharCode(+oe.substring(1)):"")}(Ee.parser.parseInline(ne.tokens,Ee.parser.textRenderer))):Be.apply(this,arguments)};case"code":return function(ne){return ne.type&&ne.type===oe?Be.call(this,ne.text,ne.lang,!!ne.escaped):Be.apply(this,arguments)};case"table":return function(ne){if(!ne.type||ne.type!==oe)return Be.apply(this,arguments);let Ie="",Te="";for(let Ue=0;Ue<ne.header.length;Ue++)Te+=this.tablecell({text:ne.header[Ue].text,tokens:ne.header[Ue].tokens,header:!0,align:ne.align[Ue]});Ie+=this.tablerow({text:Te});let Ge="";for(let Ue=0;Ue<ne.rows.length;Ue++){const Fe=ne.rows[Ue];Te="";for(let At=0;At<Fe.length;At++)Te+=this.tablecell({text:Fe[At].text,tokens:Fe[At].tokens,header:!1,align:ne.align[At]});Ge+=this.tablerow({text:Te})}return Be.call(this,Ie,Ge)};case"blockquote":return function(ne){if(!ne.type||ne.type!==oe)return Be.apply(this,arguments);const Ie=this.parser.parse(ne.tokens);return Be.call(this,Ie)};case"list":return function(ne){if(!ne.type||ne.type!==oe)return Be.apply(this,arguments);const Ie=ne.ordered,Te=ne.start,Ge=ne.loose;let Ue="";for(let Fe=0;Fe<ne.items.length;Fe++){const At=ne.items[Fe],Ke=At.checked,xt=At.task;let tn="";if(At.task){const nn=this.checkbox({checked:!!Ke});Ge?At.tokens.length>0&&"paragraph"===At.tokens[0].type?(At.tokens[0].text=nn+" "+At.tokens[0].text,At.tokens[0].tokens&&At.tokens[0].tokens.length>0&&"text"===At.tokens[0].tokens[0].type&&(At.tokens[0].tokens[0].text=nn+" "+At.tokens[0].tokens[0].text)):At.tokens.unshift({type:"text",text:nn+" "}):tn+=nn+" "}tn+=this.parser.parse(At.tokens,Ge),Ue+=this.listitem({type:"list_item",raw:tn,text:tn,task:xt,checked:!!Ke,loose:Ge,tokens:At.tokens})}return Be.call(this,Ue,Ie,Te)};case"html":return function(ne){return ne.type&&ne.type===oe?Be.call(this,ne.text,ne.block):Be.apply(this,arguments)};case"paragraph":case"strong":case"em":case"del":return function(ne){return ne.type&&ne.type===oe?Be.call(this,this.parser.parseInline(ne.tokens)):Be.apply(this,arguments)};case"escape":case"codespan":case"text":return function(ne){return ne.type&&ne.type===oe?Be.call(this,ne.text):Be.apply(this,arguments)};case"link":return function(ne){return ne.type&&ne.type===oe?Be.call(this,ne.href,ne.title,this.parser.parseInline(ne.tokens)):Be.apply(this,arguments)};case"image":return function(ne){return ne.type&&ne.type===oe?Be.call(this,ne.href,ne.title,ne.text):Be.apply(this,arguments)}}return Be}setOptions(Be){return this.defaults={...this.defaults,...Be},this}lexer(Be,oe){return ft.lex(Be,oe??this.defaults)}parser(Be,oe){return kt.parse(Be,oe??this.defaults)}#t(Be,oe){return(Ee,ne)=>{const Ie={...ne},Te={...this.defaults,...Ie};!0===this.defaults.async&&!1===Ie.async&&(Te.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),Te.async=!0);const Ge=this.#n(!!Te.silent,!!Te.async);if(typeof Ee>"u"||null===Ee)return Ge(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof Ee)return Ge(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Ee)+", string expected"));if(Te.hooks&&(Te.hooks.options=Te),Te.async)return Promise.resolve(Te.hooks?Te.hooks.preprocess(Ee):Ee).then(Ue=>Be(Ue,Te)).then(Ue=>Te.hooks?Te.hooks.processAllTokens(Ue):Ue).then(Ue=>Te.walkTokens?Promise.all(this.walkTokens(Ue,Te.walkTokens)).then(()=>Ue):Ue).then(Ue=>oe(Ue,Te)).then(Ue=>Te.hooks?Te.hooks.postprocess(Ue):Ue).catch(Ge);try{Te.hooks&&(Ee=Te.hooks.preprocess(Ee));let Ue=Be(Ee,Te);Te.hooks&&(Ue=Te.hooks.processAllTokens(Ue)),Te.walkTokens&&this.walkTokens(Ue,Te.walkTokens);let Fe=oe(Ue,Te);return Te.hooks&&(Fe=Te.hooks.postprocess(Fe)),Fe}catch(Ue){return Ge(Ue)}}}#n(Be,oe){return Ee=>{if(Ee.message+="\nPlease report this to https://github.com/markedjs/marked.",Be){const ne="<p>An error occurred:</p><pre>"+S(Ee.message+"",!0)+"</pre>";return oe?Promise.resolve(ne):ne}if(oe)return Promise.reject(Ee);throw Ee}}};function an(Xt,Be){return un.parse(Xt,Be)}an.options=an.setOptions=function(Xt){return un.setOptions(Xt),d(an.defaults=un.defaults),an},an.getDefaults=function e(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},an.defaults=i,an.use=function(...Xt){return un.use(...Xt),d(an.defaults=un.defaults),an},an.walkTokens=function(Xt,Be){return un.walkTokens(Xt,Be)},an.parseInline=un.parseInline,an.Parser=kt,an.parser=kt.parse,an.Renderer=pt,an.TextRenderer=$t,an.Lexer=ft,an.lexer=ft.lex,an.Tokenizer=P,an.Hooks=dn,an.parse=an;const Xe=an},467:(Mt,pe,a)=>{"use strict";function e(d,p,m,_,g,b,u){try{var S=d[b](u),D=S.value}catch(E){return void m(E)}S.done?p(D):Promise.resolve(D).then(_,g)}function i(d){return function(){var p=this,m=arguments;return new Promise(function(_,g){var b=d.apply(p,m);function u(D){e(b,_,g,u,S,"next",D)}function S(D){e(b,_,g,u,S,"throw",D)}u(void 0)})}}a.d(pe,{A:()=>i})},1635:(Mt,pe,a)=>{"use strict";function E(X,fe,Me,Ze){return new(Me||(Me=Promise))(function(lt,Ot){function rt(Ce){try{ve(Ze.next(Ce))}catch(be){Ot(be)}}function vt(Ce){try{ve(Ze.throw(Ce))}catch(be){Ot(be)}}function ve(Ce){Ce.done?lt(Ce.value):function Ct(lt){return lt instanceof Me?lt:new Me(function(Ot){Ot(lt)})}(Ce.value).then(rt,vt)}ve((Ze=Ze.apply(X,fe||[])).next())})}a.d(pe,{sH:()=>E}),"function"==typeof SuppressedError&&SuppressedError}},Mt=>{Mt(Mt.s=5815)}]);