(self.webpackChunkplaceos=self.webpackChunkplaceos||[]).push([["apps_workplace_src_app_dashboard_dashboard_module_ts"],{7287:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DashboardModule:()=>G});var o=n(1511),s=n(6073),a=n(6898),i=n(5312),c=n(4441),r=n(2619),l=n(8223),u=n(5251),m=n(4762),p=n(7142),d=n(1548),g=n(5980);const f=function(){return["/explore"]},h=function(e){return{level:e}};function x(e,t){if(1&e&&(r.TgZ(0,"a",9),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.Q6J("routerLink",r.DdM(3,f))("queryParams",r.VKq(4,h,e.id)),r.xp6(1),r.hij(" ",e.display_name||e.name," ")}}const _=function(e){return{space:e}};function Z(e,t){if(1&e&&(r.TgZ(0,"a",9),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.Q6J("routerLink",r.DdM(3,f))("queryParams",r.VKq(4,_,e.id)),r.xp6(1),r.hij("",e.display_name||e.name," ")}}function v(e,t){1&e&&(r.TgZ(0,"span",10),r._uU(1,"No free spaces"),r.qZA())}const b=function(){return{class:"material-icons",content:"crop_free"}},A=function(){return{class:"material-icons",content:"av_timer"}};let q=(()=>{class e{constructor(e){this._state=e,this.space_list=this._state.free_spaces,this.levels_free=this._state.level_occupancy}ngOnInit(){return(0,m.mG)(this,void 0,void 0,function*(){this._state.pollFreeSpaces()})}ngOnDestroy(){this._state.stopPollingFreeSpaces()}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(p.d))},e.\u0275cmp=r.Xpm({type:e,selectors:[["dashboard-availability"]],decls:22,vars:21,consts:[[1,"m-0","font-medium","text-xl"],[1,"flex","flex-col","items-center","p-2","bg-white","my-4","rounded-lg"],[1,"flex","items-center","w-full","mb-2"],[1,"bg-darken","rounded-lg","mr-2","text-2xl",3,"icon"],["free-levels","",1,"items","space-y-2","w-full"],["button","","mat-button","","class","w-full",3,"routerLink","queryParams",4,"ngFor","ngForOf"],["free-spaces","",1,"flex","items-center","flex-col","rounded-lg","bg-white","my-4","p-2"],[1,"items","space-y-2"],["class","text-dark-fade text-sm mb-2",4,"ngIf"],["button","","mat-button","",1,"w-full",3,"routerLink","queryParams"],[1,"text-dark-fade","text-sm","mb-2"]],template:function(e,t){1&e&&(r.TgZ(0,"h3",0),r._uU(1,"Available Now"),r.qZA(),r.TgZ(2,"div",1),r.TgZ(3,"div",2),r._UZ(4,"app-icon",3),r.TgZ(5,"div"),r._uU(6,"Most free space:"),r.qZA(),r.qZA(),r.TgZ(7,"div",4),r.YNc(8,x,2,6,"a",5),r.ALo(9,"slice"),r.ALo(10,"async"),r.qZA(),r.qZA(),r.TgZ(11,"div",6),r.TgZ(12,"div",2),r._UZ(13,"app-icon",3),r.TgZ(14,"div"),r._uU(15,"Free rooms now:"),r.qZA(),r.qZA(),r.TgZ(16,"div",7),r.YNc(17,Z,2,6,"a",5),r.ALo(18,"slice"),r.ALo(19,"async"),r.YNc(20,v,2,0,"span",8),r.ALo(21,"async"),r.qZA(),r.qZA()),2&e&&(r.xp6(4),r.Q6J("icon",r.DdM(19,b)),r.xp6(4),r.Q6J("ngForOf",r.Dn7(9,5,r.lcZ(10,9,t.levels_free),0,2)),r.xp6(5),r.Q6J("icon",r.DdM(20,A)),r.xp6(4),r.Q6J("ngForOf",r.Dn7(18,11,r.lcZ(19,15,t.space_list),0,3)),r.xp6(3),r.Q6J("ngIf",!r.lcZ(21,17,t.space_list).length))},directives:[d.o,o.sg,o.O5,g.zs,a.yS],pipes:[o.OU,o.Ov],styles:["[_nghost-%COMP%]{padding:1em;min-width:16rem}"]}),e})();var w=n(7531),O=n(4608),T=n(6828),y=n(5969);function U(e,t){1&e&&r._UZ(0,"a-user-avatar",15),2&e&&r.Q6J("user",t.$implicit)}function M(e,t){if(1&e&&(r.TgZ(0,"a",16),r._uU(1,"Join Call"),r.qZA()),2&e){const e=r.oxw().$implicit;r.Q6J("href",e.meeting_link,r.LSH)}}const C=function(){return{class:"material-icons",content:"room"}},k=function(){return{class:"material-icons",content:"group"}};function J(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",3),r._UZ(1,"div",4),r.TgZ(2,"div",5),r.TgZ(3,"div",6),r._uU(4),r.ALo(5,"date"),r.qZA(),r.TgZ(6,"div",7),r._uU(7),r.qZA(),r.TgZ(8,"div",8),r._UZ(9,"app-icon",9),r.TgZ(10,"a",10),r.NdJ("click",function(){const t=r.CHM(e).$implicit,n=r.oxw();return t.space?n.locateSpace(t.space):""}),r._uU(11),r.qZA(),r.qZA(),r.TgZ(12,"div",11),r._UZ(13,"app-icon",9),r._uU(14),r.qZA(),r.TgZ(15,"div",12),r.YNc(16,U,1,1,"a-user-avatar",13),r.qZA(),r.qZA(),r.YNc(17,M,2,1,"a",14),r.qZA()}if(2&e){const e=t.$implicit;r.xp6(4),r.Oqu(r.xi3(5,13,e.date,"shortTime")),r.xp6(3),r.Oqu(e.title),r.xp6(2),r.Q6J("icon",r.DdM(16,C)),r.xp6(1),r.ekj("underline",!!e.space),r.Q6J("matTooltip",e.space?"Locate Space":""),r.xp6(1),r.AsE(" ",(null==e.space?null:e.space.display_name)||(null==e.space?null:e.space.name)||"<No Location>"," ",null!=e.space&&null!=e.space.level&&e.space.level.display_name||null!=e.space&&null!=e.space.level&&e.space.level.name?", "+e.space.level.display_name||0:""," "),r.xp6(2),r.Q6J("icon",r.DdM(17,k)),r.xp6(1),r.AsE(" ",e.guests.length," Guest",1===e.guests.length?"":"s"," "),r.xp6(2),r.Q6J("ngForOf",e.guests),r.xp6(1),r.Q6J("ngIf",e.meeting_link)}}function Q(e,t){1&e&&(r.TgZ(0,"p",17),r._uU(1," No upcoming events for today "),r.qZA())}let P=(()=>{class e{constructor(e,t){this._state=e,this._dialog=t,this.upcoming_events=this._state.upcoming_events}ngOnInit(){this._state.pollUpcomingEvents()}ngOnDestroy(){this._state.stopPollingUpcomingEvents()}locateSpace(e){this._dialog.open(w.k,{data:{space:e}})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(p.d),r.Y36(O.uw))},e.\u0275cmp=r.Xpm({type:e,selectors:[["dashboard-upcoming"]],decls:7,vars:10,consts:[[1,"m-0","mb-4","font-medium","text-xl"],["name","event","class","flex bg-white rounded-lg relative overflow-hidden mb-4",4,"ngFor","ngForOf"],["class","text-dark-fade text-center w-full",4,"ngIf"],["name","event",1,"flex","bg-white","rounded-lg","relative","overflow-hidden","mb-4"],["name","status",1,"absolute","rounded-lg"],["name","details",1,"flex-1","mr-2"],["name","time",1,"text-sm","text-bold","mb-2"],["name","title",1,"text-sm","text-bold","mb-2"],["name","space",1,"text-xs","flex","items-center","mb-2"],[1,"mr-2",3,"icon"],[1,"text-black",3,"matTooltip","click"],["name","attendees",1,"text-xs","flex","items-center","mb-2"],["name","guests",1,"flex","space-x-2","text-sm"],[3,"user",4,"ngFor","ngForOf"],["button","","mat-button","","class","uppercase h-12",3,"href",4,"ngIf"],[3,"user"],["button","","mat-button","",1,"uppercase","h-12",3,"href"],[1,"text-dark-fade","text-center","w-full"]],template:function(e,t){1&e&&(r.TgZ(0,"h3",0),r._uU(1,"Today's Events"),r.qZA(),r.YNc(2,J,18,18,"div",1),r.ALo(3,"slice"),r.ALo(4,"async"),r.YNc(5,Q,2,0,"p",2),r.ALo(6,"async")),2&e&&(r.xp6(2),r.Q6J("ngForOf",r.Dn7(3,2,r.lcZ(4,6,t.upcoming_events),0,3)),r.xp6(3),r.Q6J("ngIf",!r.lcZ(6,8,t.upcoming_events).length))},directives:[o.sg,o.O5,d.o,T.gM,y.k,g.zs],pipes:[o.OU,o.Ov,o.uU],styles:["[_nghost-%COMP%]{padding:1em;min-width:16rem}[name=time][_ngcontent-%COMP%]{color:#00529b}[name=event][_ngcontent-%COMP%]{padding:1rem 1rem 1rem 2rem}[name=status][_ngcontent-%COMP%]{top:1rem;left:-.8rem;height:2.5rem;width:1.6rem;background-color:#00529b}button[_ngcontent-%COMP%]{height:3em}app-icon[_ngcontent-%COMP%]{margin-left:-.25rem}"]}),e})();var F=n(8055);const L=["input"],N=function(){return{class:"material-icons",content:"close"}};function D(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",14),r._UZ(1,"a-user-avatar",15),r.TgZ(2,"div",16),r._uU(3),r.qZA(),r.TgZ(4,"div",17),r._UZ(5,"div",18),r._uU(6," Level 12 "),r.qZA(),r.TgZ(7,"button",19),r.NdJ("click",function(){const t=r.CHM(e).$implicit;return r.oxw().removeUser(t)}),r._UZ(8,"app-icon",20),r.qZA(),r.qZA()}if(2&e){const e=t.$implicit;r.xp6(1),r.Q6J("user",e),r.xp6(2),r.Oqu(e.name),r.xp6(5),r.Q6J("icon",r.DdM(3,N))}}function Y(e,t){if(1&e&&(r.TgZ(0,"button",21),r._uU(1),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.hij(" ",e.search_str?'No matches for "'+e.search_str+'"':"Type to search for users..."," ")}}function I(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",22),r.NdJ("click",function(){const t=r.CHM(e).$implicit;return r.oxw().addUser(t)}),r.TgZ(1,"div",23),r._UZ(2,"a-user-avatar",24),r.TgZ(3,"div",25),r.TgZ(4,"div"),r._uU(5),r.qZA(),r.TgZ(6,"div",26),r._uU(7),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=t.$implicit;r.xp6(2),r.Q6J("user",e),r.xp6(3),r.Oqu(e.name),r.xp6(2),r.Oqu(e.email)}}const E=function(){return{class:"material-icons",content:"person_add"}};let S=(()=>{class e extends l.KG{constructor(e){super(),this._state=e,this.contacts=this._state.contacts,this.search_results=this._state.search_results,this.addUser=e=>this._state.addContact(e),this.removeUser=e=>this._state.removeContact(e),this.updateSearch=e=>this._state.setOptions({search:e}),this.search_str=""}ngOnInit(){this._state.updateContacts()}focusInput(){this.timeout("focus",()=>{this._input_el&&this._input_el.nativeElement.focus()})}clearInput(){this.search_str="",this._state.setOptions({search:""})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(p.d))},e.\u0275cmp=r.Xpm({type:e,selectors:[["dashboard-contacts"]],viewQuery:function(e,t){if(1&e&&r.Gf(L,5),2&e){let e;r.iGM(e=r.CRH())&&(t._input_el=e.first)}},features:[r.qOj],decls:20,vars:17,consts:[[1,"m-0","mb-2","font-medium","text-xl"],["name","contact-list",1,"bg-gray-400","rounded-lg","p-2","pl-0","space-y-2","flex","flex-wrap"],["name","contact","class","bg-white rounded-lg flex-1 flex flex-col items-center p-2 relative",4,"ngFor","ngForOf"],["name","contact","mat-button","",1,"rounded-lg","flex-1","w-full",3,"matMenuTriggerFor","menuOpened","menuClosed"],[1,"flex","flex-col","items-center","p-4","text-black","w-full"],[1,"text-2xl",3,"icon"],[1,"w-full","leading-tight","whitespace-normal"],["xPosition","before"],["menu","matMenu"],["mat-menu-item","",1,"p-0",3,"click"],["placeholder","Search for user...",1,"w-full","p-2","text-base",3,"ngModel","ngModelChange"],["input",""],["mat-menu-item","",4,"ngIf"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["name","contact",1,"bg-white","rounded-lg","flex-1","flex","flex-col","items-center","p-2","relative"],[1,"text-2xl","mb-2",3,"user"],["name","contact-name",1,"text-sm","mb-2"],["name","location",1,"flex","items-center","text-sm"],["name","dot",1,"mr-2"],["mat-icon-button","","name","close",3,"click"],[3,"icon"],["mat-menu-item",""],["mat-menu-item","",3,"click"],[1,"flex","items-center","leading-tight"],[1,"text-xl","mr-2",3,"user"],[1,"flex-1"],[1,"text-xs","text-dark-fade"]],template:function(e,t){if(1&e&&(r.TgZ(0,"h3",0),r._uU(1,"Contacts"),r.qZA(),r.TgZ(2,"div",1),r.YNc(3,D,9,4,"div",2),r.ALo(4,"async"),r.TgZ(5,"button",3),r.NdJ("menuOpened",function(){return t.focusInput()})("menuClosed",function(){return t.clearInput()}),r.TgZ(6,"div",4),r._UZ(7,"app-icon",5),r.TgZ(8,"span",6),r._uU(9,"Click to add a person to contacts"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(10,"mat-menu",7,8),r.TgZ(12,"div",9),r.NdJ("click",function(e){return e.stopPropagation(),e.preventDefault()}),r.TgZ(13,"input",10,11),r.NdJ("ngModelChange",function(e){return t.search_str=e})("ngModelChange",function(){return t.updateSearch(t.search_str)}),r.qZA(),r.qZA(),r.YNc(15,Y,2,1,"button",12),r.ALo(16,"async"),r.YNc(17,I,8,3,"button",13),r.ALo(18,"slice"),r.ALo(19,"async"),r.qZA()),2&e){const e=r.MAs(11);let n;r.xp6(3),r.Q6J("ngForOf",r.lcZ(4,6,t.contacts)),r.xp6(2),r.Q6J("matMenuTriggerFor",e),r.xp6(2),r.Q6J("icon",r.DdM(16,E)),r.xp6(6),r.Q6J("ngModel",t.search_str),r.xp6(2),r.Q6J("ngIf",!(null!=(n=r.lcZ(16,8,t.search_results))&&n.length)),r.xp6(2),r.Q6J("ngForOf",r.Dn7(18,10,r.lcZ(19,14,t.search_results),0,8))}},directives:[o.sg,g.lW,F.p6,d.o,F.VK,F.OP,s.Fj,s.JJ,s.On,o.O5,y.k],pipes:[o.Ov,o.OU],styles:["[_nghost-%COMP%]{padding:1em;min-width:16rem}[name=contact-list][_ngcontent-%COMP%]{padding:0 .5rem .5rem 0}[name=contact][_ngcontent-%COMP%]{min-width:8rem;width:8rem;margin-left:.5rem;margin-top:.5rem}[name=contact-name][_ngcontent-%COMP%]{font-weight:400}[name=dot][_ngcontent-%COMP%]{height:8px;width:8px;border-radius:8px;background-color:#22992e}button[name=close][_ngcontent-%COMP%]{position:absolute;display:none;top:.25rem;right:.25rem}[name=contact][_ngcontent-%COMP%]:hover   button[name=close][_ngcontent-%COMP%]{display:initial}button[name=contact][_ngcontent-%COMP%]{background-color:#f0f0f0;border:none;min-width:calc(100% - .5rem)!important}"]}),e})();var $=n(5769);function j(e,t){if(1&e&&(r.TgZ(0,"a",9),r.TgZ(1,"div",10),r._UZ(2,"app-icon",11),r.TgZ(3,"span",12),r._uU(4),r.qZA(),r.qZA(),r.qZA()),2&e){const e=t.$implicit;r.Q6J("routerLink",e.route),r.xp6(2),r.Q6J("icon",e.icon),r.xp6(2),r.Oqu(e.name)}}const z=[{path:"",component:(()=>{class e{constructor(e){this._settings=e}get tiles(){return this._settings.get("app.home.tiles")||[]}get datetime(){return(0,c.Z)(new Date,"EEEE, h:mma")}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(l.gb))},e.\u0275cmp=r.Xpm({type:e,selectors:[["dashboard"]],decls:14,vars:4,consts:[[3,"menu","menuChange"],[1,"top","relative","flex","flex-col","justify-center","text-white","px-12","py-4"],[1,"row","location"],[1,"row","text-2xl","text-bold","uppercase"],[1,"flex","flex-1","px-8","flex-wrap","overflow-auto"],[1,"flex-1","min-w-64"],[1,"flex"],["button","","mat-button","","class","tile text-2xl",3,"routerLink",4,"ngFor","ngForOf"],[3,"show","showChange"],["button","","mat-button","",1,"tile","text-2xl",3,"routerLink"],[1,"flex","flex-col","items-center"],[3,"icon"],[1,"text-lg"]],template:function(e,t){1&e&&(r.TgZ(0,"header"),r.TgZ(1,"a-topbar-header",0),r.NdJ("menuChange",function(e){return t.show_menu=e}),r.qZA(),r.TgZ(2,"div",1),r.TgZ(3,"div",2),r._uU(4,"Sydney"),r.qZA(),r.TgZ(5,"div",3),r._uU(6),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"main",4),r._UZ(8,"dashboard-availability",5),r._UZ(9,"dashboard-upcoming",5),r._UZ(10,"dashboard-contacts",5),r.qZA(),r.TgZ(11,"footer",6),r.YNc(12,j,5,3,"a",7),r.qZA(),r.TgZ(13,"a-overlay-menu",8),r.NdJ("showChange",function(e){return t.show_menu=e}),r.qZA()),2&e&&(r.xp6(1),r.Q6J("menu",t.show_menu),r.xp6(5),r.hij(" ",t.datetime," "),r.xp6(6),r.Q6J("ngForOf",t.tiles),r.xp6(1),r.Q6J("show",t.show_menu))},directives:[u.B,q,P,S,o.sg,$.t,g.zs,a.yS,d.o],styles:["[_nghost-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;overflow:hidden;display:flex;flex-direction:column}main[_ngcontent-%COMP%]{min-height:50%;background:#f0f0f0}.top[_ngcontent-%COMP%]{background-color:#0a0d2e}a[button].tile[_ngcontent-%COMP%]{flex:1;border-radius:0;background-color:#fff;color:rgba(0,0,0,.85);border:none;border-right:1px solid #ccc}a[button].tile[_ngcontent-%COMP%]:last-child{border:none}"]}),e})()}];let G=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[o.ez,s.u5,i.X,a.Bz.forChild(z)]]}),e})()}}]);
//# sourceMappingURL=apps_workplace_src_app_dashboard_dashboard_module_ts.js.map