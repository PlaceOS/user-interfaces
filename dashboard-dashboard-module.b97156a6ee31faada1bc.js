(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{TDBs:function(t,e,n){"use strict";n.r(e),n.d(e,"DashboardModule",(function(){return J}));var c=n("2kYt"),o=n("nIj0"),a=n("sEIs"),s=n("R3Ii"),i=n("CzDk"),r=n("EM62"),l=n("20lr"),b=n("e81E"),u=n("D57K"),m=n("woo0"),d=n("0/Ep"),p=n("PBFl");const f=function(){return["/explore"]},g=function(t){return{level:t}};function h(t,e){if(1&t&&(r.Wb(0,"a",9),r.Oc(1),r.Vb()),2&t){const t=e.$implicit;r.rc("routerLink",r.uc(3,f))("queryParams",r.vc(4,g,t.id)),r.Eb(1),r.Qc(" ",t.display_name||t.name," ")}}const x=function(t){return{space:t}};function v(t,e){if(1&t&&(r.Wb(0,"a",9),r.Oc(1),r.Vb()),2&t){const t=e.$implicit;r.rc("routerLink",r.uc(3,f))("queryParams",r.vc(4,x,t.id)),r.Eb(1),r.Qc("",t.display_name||t.name," ")}}function _(t,e){1&t&&(r.Wb(0,"span",10),r.Oc(1,"No free spaces"),r.Vb())}const O=function(){return{class:"material-icons",content:"crop_free"}},w=function(){return{class:"material-icons",content:"av_timer"}};let W=(()=>{class t{constructor(t){this._state=t,this.space_list=this._state.free_spaces,this.levels_free=this._state.level_occupancy}ngOnInit(){return Object(u.a)(this,void 0,void 0,(function*(){this._state.pollFreeSpaces()}))}ngOnDestroy(){this._state.stopPollingFreeSpaces()}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(m.a))},t.\u0275cmp=r.Kb({type:t,selectors:[["dashboard-availability"]],decls:22,vars:21,consts:[[1,"m-0","font-medium","text-xl"],[1,"flex","flex-col","items-center","p-2","bg-white","my-4","rounded-lg"],[1,"flex","items-center","w-full","mb-2"],[1,"bg-darken","rounded-lg","mr-2","text-2xl",3,"icon"],[1,"items","space-y-2","w-full"],["button","","mat-button","","class","w-full",3,"routerLink","queryParams",4,"ngFor","ngForOf"],[1,"flex","items-center","flex-col","rounded-lg","bg-white","my-4","p-2"],[1,"items","space-y-2"],["class","text-dark-fade text-sm mb-2",4,"ngIf"],["button","","mat-button","",1,"w-full",3,"routerLink","queryParams"],[1,"text-dark-fade","text-sm","mb-2"]],template:function(t,e){1&t&&(r.Wb(0,"h3",0),r.Oc(1,"Available Now"),r.Vb(),r.Wb(2,"div",1),r.Wb(3,"div",2),r.Rb(4,"app-icon",3),r.Wb(5,"div"),r.Oc(6,"Most free space:"),r.Vb(),r.Vb(),r.Wb(7,"div",4),r.Mc(8,h,2,6,"a",5),r.lc(9,"slice"),r.lc(10,"async"),r.Vb(),r.Vb(),r.Wb(11,"div",6),r.Wb(12,"div",2),r.Rb(13,"app-icon",3),r.Wb(14,"div"),r.Oc(15,"Free rooms now:"),r.Vb(),r.Vb(),r.Wb(16,"div",7),r.Mc(17,v,2,6,"a",5),r.lc(18,"slice"),r.lc(19,"async"),r.Mc(20,_,2,0,"span",8),r.lc(21,"async"),r.Vb(),r.Vb()),2&t&&(r.Eb(4),r.rc("icon",r.uc(19,O)),r.Eb(4),r.rc("ngForOf",r.oc(9,5,r.mc(10,9,e.levels_free),0,2)),r.Eb(5),r.rc("icon",r.uc(20,w)),r.Eb(4),r.rc("ngForOf",r.oc(18,11,r.mc(19,15,e.space_list),0,3)),r.Eb(3),r.rc("ngIf",!r.mc(21,17,e.space_list).length))},directives:[d.a,c.n,c.o,p.a,a.f],pipes:[c.w,c.b],styles:["[_nghost-%COMP%] {\n                padding: 1em;\n                min-width: 16rem;\n            }"]}),t})();var V=n("Wc1D"),y=n("OZ4H"),E=n("Y2X+"),M=n("/ILR");function k(t,e){1&t&&r.Rb(0,"a-user-avatar",15),2&t&&r.rc("user",e.$implicit)}function C(t,e){if(1&t&&(r.Wb(0,"a",16),r.Oc(1,"Join Call"),r.Vb()),2&t){const t=r.kc().$implicit;r.rc("href",t.meeting_link,r.Dc)}}const P=function(){return{class:"material-icons",content:"room"}},F=function(){return{class:"material-icons",content:"group"}};function I(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",3),r.Rb(1,"div",4),r.Wb(2,"div",5),r.Wb(3,"div",6),r.Oc(4),r.lc(5,"date"),r.Vb(),r.Wb(6,"div",7),r.Oc(7),r.Vb(),r.Wb(8,"div",8),r.Rb(9,"app-icon",9),r.Wb(10,"a",10),r.gc("click",(function(){r.Bc(t);const n=e.$implicit,c=r.kc();return n.space?c.locateSpace(n.space):""})),r.Oc(11),r.Vb(),r.Vb(),r.Wb(12,"div",11),r.Rb(13,"app-icon",9),r.Oc(14),r.Vb(),r.Wb(15,"div",12),r.Mc(16,k,1,1,"a-user-avatar",13),r.Vb(),r.Vb(),r.Mc(17,C,2,1,"a",14),r.Vb()}if(2&t){const t=e.$implicit;r.Eb(4),r.Pc(r.nc(5,13,t.date,"shortTime")),r.Eb(3),r.Pc(t.title),r.Eb(2),r.rc("icon",r.uc(16,P)),r.Eb(1),r.Ib("underline",!!t.space),r.rc("matTooltip",t.space?"Locate Space":""),r.Eb(1),r.Rc(" ",(null==t.space?null:t.space.display_name)||(null==t.space?null:t.space.name)||"<No Location>"," ",null!=t.space&&null!=t.space.level&&t.space.level.display_name||null!=t.space&&null!=t.space.level&&t.space.level.name?", "+t.space.level.display_name||!1:""," "),r.Eb(2),r.rc("icon",r.uc(17,F)),r.Eb(1),r.Rc(" ",t.guests.length," Guest",1===t.guests.length?"":"s"," "),r.Eb(2),r.rc("ngForOf",t.guests),r.Eb(1),r.rc("ngIf",t.meeting_link)}}function R(t,e){1&t&&(r.Wb(0,"p",17),r.Oc(1," No upcoming events for today "),r.Vb())}let L=(()=>{class t{constructor(t,e){this._state=t,this._dialog=e,this.upcoming_events=this._state.upcoming_events}ngOnInit(){this._state.pollUpcomingEvents()}ngOnDestroy(){this._state.stopPollingUpcomingEvents()}locateSpace(t){this._dialog.open(V.a,{data:{space:t}})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(m.a),r.Qb(y.b))},t.\u0275cmp=r.Kb({type:t,selectors:[["dashboard-upcoming"]],decls:7,vars:10,consts:[[1,"m-0","mb-4","font-medium","text-xl"],["name","event","class","flex bg-white rounded-lg relative overflow-hidden mb-4",4,"ngFor","ngForOf"],["class","text-dark-fade text-center w-full",4,"ngIf"],["name","event",1,"flex","bg-white","rounded-lg","relative","overflow-hidden","mb-4"],["name","status",1,"absolute","rounded-lg"],["name","details",1,"flex-1","mr-2"],["name","time",1,"text-sm","text-bold","mb-2"],["name","title",1,"text-sm","text-bold","mb-2"],["name","space",1,"text-xs","flex","items-center","mb-2"],[1,"mr-2",3,"icon"],[1,"text-black",3,"matTooltip","click"],["name","attendees",1,"text-xs","flex","items-center","mb-2"],["name","guests",1,"flex","space-x-2","text-sm"],[3,"user",4,"ngFor","ngForOf"],["button","","mat-button","","class","uppercase h-12",3,"href",4,"ngIf"],[3,"user"],["button","","mat-button","",1,"uppercase","h-12",3,"href"],[1,"text-dark-fade","text-center","w-full"]],template:function(t,e){1&t&&(r.Wb(0,"h3",0),r.Oc(1,"Today's Events"),r.Vb(),r.Mc(2,I,18,18,"div",1),r.lc(3,"slice"),r.lc(4,"async"),r.Mc(5,R,2,0,"p",2),r.lc(6,"async")),2&t&&(r.Eb(2),r.rc("ngForOf",r.oc(3,2,r.mc(4,6,e.upcoming_events),0,3)),r.Eb(3),r.rc("ngIf",!r.mc(6,8,e.upcoming_events).length))},directives:[c.n,c.o,d.a,E.a,M.a,p.a],pipes:[c.w,c.b,c.f],styles:["[_nghost-%COMP%] {\n                padding: 1em;\n                min-width: 16rem;\n            }\n\n            [name='time'][_ngcontent-%COMP%] {\n                color: #00529b;\n            }\n\n            [name='event'][_ngcontent-%COMP%] {\n                padding: 1rem 1rem 1rem 2rem;\n            }\n\n            [name='status'][_ngcontent-%COMP%] {\n                top: 1rem;\n                left: -0.8rem;\n                height: 2.5rem;\n                width: 1.6rem;\n                background-color: #00529b;\n            }\n\n            button[_ngcontent-%COMP%] {\n                height: 3em;\n            }\n\n            app-icon[_ngcontent-%COMP%] {\n                margin-left: -0.25rem;\n            }"]}),t})();var $=n("Jb3d");const D=["input"],Q=function(){return{class:"material-icons",content:"close"}};function S(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",14),r.Rb(1,"a-user-avatar",15),r.Wb(2,"div",16),r.Oc(3),r.Vb(),r.Wb(4,"div",17),r.Rb(5,"div",18),r.Oc(6," Level 12 "),r.Vb(),r.Wb(7,"button",19),r.gc("click",(function(){r.Bc(t);const n=e.$implicit;return r.kc().removeUser(n)})),r.Rb(8,"app-icon",20),r.Vb(),r.Vb()}if(2&t){const t=e.$implicit;r.Eb(1),r.rc("user",t),r.Eb(2),r.Pc(t.name),r.Eb(5),r.rc("icon",r.uc(3,Q))}}function T(t,e){if(1&t&&(r.Wb(0,"button",21),r.Oc(1),r.Vb()),2&t){const t=r.kc();r.Eb(1),r.Qc(" ",t.search_str?'No matches for "'+t.search_str+'"':"Type to search for users..."," ")}}function j(t,e){if(1&t){const t=r.Xb();r.Wb(0,"button",22),r.gc("click",(function(){r.Bc(t);const n=e.$implicit;return r.kc().addUser(n)})),r.Wb(1,"div",23),r.Rb(2,"a-user-avatar",24),r.Wb(3,"div",25),r.Wb(4,"div"),r.Oc(5),r.Vb(),r.Wb(6,"div",26),r.Oc(7),r.Vb(),r.Vb(),r.Vb(),r.Vb()}if(2&t){const t=e.$implicit;r.Eb(2),r.rc("user",t),r.Eb(3),r.Pc(t.name),r.Eb(2),r.Pc(t.email)}}const B=function(){return{class:"material-icons",content:"person_add"}};let N=(()=>{class t extends l.b{constructor(t){super(),this._state=t,this.contacts=this._state.contacts,this.search_results=this._state.search_results,this.addUser=t=>this._state.addContact(t),this.removeUser=t=>this._state.removeContact(t),this.updateSearch=t=>this._state.setOptions({search:t}),this.search_str=""}ngOnInit(){this._state.updateContacts()}focusInput(){this.timeout("focus",()=>{this._input_el&&this._input_el.nativeElement.focus()})}clearInput(){this.search_str="",this._state.setOptions({search:""})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(m.a))},t.\u0275cmp=r.Kb({type:t,selectors:[["dashboard-contacts"]],viewQuery:function(t,e){if(1&t&&r.Tc(D,!0),2&t){let t;r.xc(t=r.hc())&&(e._input_el=t.first)}},features:[r.Bb],decls:20,vars:17,consts:[[1,"m-0","mb-2","font-medium","text-xl"],["name","contact-list",1,"bg-gray-400","rounded-lg","p-2","pl-0","space-y-2","flex","flex-wrap"],["name","contact","class","bg-white rounded-lg flex-1 flex flex-col items-center p-2 relative",4,"ngFor","ngForOf"],["name","contact","mat-button","",1,"rounded-lg","flex-1","w-full",3,"matMenuTriggerFor","menuOpened","menuClosed"],[1,"flex","flex-col","items-center","p-4","text-black","w-full"],[1,"text-2xl",3,"icon"],[1,"w-full","leading-tight","whitespace-normal"],["xPosition","before"],["menu","matMenu"],["mat-menu-item","",1,"p-0",3,"click"],["placeholder","Search for user...",1,"w-full","p-2","text-base",3,"ngModel","ngModelChange"],["input",""],["mat-menu-item","",4,"ngIf"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["name","contact",1,"bg-white","rounded-lg","flex-1","flex","flex-col","items-center","p-2","relative"],[1,"text-2xl","mb-2",3,"user"],["name","contact-name",1,"text-sm","mb-2"],["name","location",1,"flex","items-center","text-sm"],["name","dot",1,"mr-2"],["mat-icon-button","","name","close",3,"click"],[3,"icon"],["mat-menu-item",""],["mat-menu-item","",3,"click"],[1,"flex","items-center","leading-tight"],[1,"text-xl","mr-2",3,"user"],[1,"flex-1"],[1,"text-xs","text-dark-fade"]],template:function(t,e){if(1&t&&(r.Wb(0,"h3",0),r.Oc(1,"Contacts"),r.Vb(),r.Wb(2,"div",1),r.Mc(3,S,9,4,"div",2),r.lc(4,"async"),r.Wb(5,"button",3),r.gc("menuOpened",(function(){return e.focusInput()}))("menuClosed",(function(){return e.clearInput()})),r.Wb(6,"div",4),r.Rb(7,"app-icon",5),r.Wb(8,"span",6),r.Oc(9,"Click to add a person to contacts"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(10,"mat-menu",7,8),r.Wb(12,"div",9),r.gc("click",(function(t){return t.stopPropagation(),t.preventDefault()})),r.Wb(13,"input",10,11),r.gc("ngModelChange",(function(t){return e.search_str=t}))("ngModelChange",(function(){return e.updateSearch(e.search_str)})),r.Vb(),r.Vb(),r.Mc(15,T,2,1,"button",12),r.lc(16,"async"),r.Mc(17,j,8,3,"button",13),r.lc(18,"slice"),r.lc(19,"async"),r.Vb()),2&t){const t=r.yc(11);let n=null;r.Eb(3),r.rc("ngForOf",r.mc(4,6,e.contacts)),r.Eb(2),r.rc("matMenuTriggerFor",t),r.Eb(2),r.rc("icon",r.uc(16,B)),r.Eb(6),r.rc("ngModel",e.search_str),r.Eb(2),r.rc("ngIf",!(null!=(n=r.mc(16,8,e.search_results))&&n.length)),r.Eb(2),r.rc("ngForOf",r.oc(18,10,r.mc(19,14,e.search_results),0,8))}},directives:[c.n,p.b,$.d,d.a,$.a,$.b,o.c,o.l,o.o,c.o,M.a],pipes:[c.b,c.w],styles:["[_nghost-%COMP%] {\n                padding: 1em;\n                min-width: 16rem;\n            }\n\n            [name='contact-list'][_ngcontent-%COMP%] {\n                padding: 0 0.5rem 0.5rem 0;\n            }\n\n            [name='contact'][_ngcontent-%COMP%] {\n                min-width: 8rem;\n                width: 8rem;\n                margin-left: 0.5rem;\n                margin-top: 0.5rem;\n            }\n\n            [name='contact-name'][_ngcontent-%COMP%] {\n                font-weight: 400;\n            }\n\n            [name='dot'][_ngcontent-%COMP%] {\n                height: 8px;\n                width: 8px;\n                border-radius: 8px;\n                background-color: #22992e;\n            }\n\n            button[name='close'][_ngcontent-%COMP%] {\n                position: absolute;\n                display: none;\n                top: .25rem;\n                right: .25rem;\n            }\n\n            [name='contact'][_ngcontent-%COMP%]:hover   button[name='close'][_ngcontent-%COMP%] {\n                display: initial;\n            }\n\n            button[name='contact'][_ngcontent-%COMP%] {\n                background-color: #f0f0f0;\n                border: none;\n                min-width: calc(100% - 0.5rem) !important;\n            }"]}),t})();var U=n("d4mj");function K(t,e){if(1&t&&(r.Wb(0,"a",9),r.Wb(1,"div",10),r.Rb(2,"app-icon",11),r.Wb(3,"span",12),r.Oc(4),r.Vb(),r.Vb(),r.Vb()),2&t){const t=e.$implicit;r.rc("routerLink",t.route),r.Eb(2),r.rc("icon",t.icon),r.Eb(2),r.Pc(t.name)}}const q=[{path:"",component:(()=>{class t{constructor(t){this._settings=t}get tiles(){return this._settings.get("app.home.tiles")||[]}get datetime(){return Object(i.a)(new Date,"EEEE, h:mma")}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(l.e))},t.\u0275cmp=r.Kb({type:t,selectors:[["dashboard"]],decls:14,vars:4,consts:[[3,"menu","menuChange"],[1,"top","relative","flex","flex-col","justify-center","text-white","px-12","py-4"],[1,"row","location"],[1,"row","text-2xl","text-bold","uppercase"],[1,"flex","flex-1","px-8","flex-wrap","overflow-auto"],[1,"flex-1","min-w-64"],[1,"flex"],["button","","mat-button","","class","tile text-2xl",3,"routerLink",4,"ngFor","ngForOf"],[3,"show","showChange"],["button","","mat-button","",1,"tile","text-2xl",3,"routerLink"],[1,"flex","flex-col","items-center"],[3,"icon"],[1,"text-lg"]],template:function(t,e){1&t&&(r.Wb(0,"header"),r.Wb(1,"a-topbar-header",0),r.gc("menuChange",(function(t){return e.show_menu=t})),r.Vb(),r.Wb(2,"div",1),r.Wb(3,"div",2),r.Oc(4,"Sydney"),r.Vb(),r.Wb(5,"div",3),r.Oc(6),r.Vb(),r.Vb(),r.Vb(),r.Wb(7,"main",4),r.Rb(8,"dashboard-availability",5),r.Rb(9,"dashboard-upcoming",5),r.Rb(10,"dashboard-contacts",5),r.Vb(),r.Wb(11,"footer",6),r.Mc(12,K,5,3,"a",7),r.Vb(),r.Wb(13,"a-overlay-menu",8),r.gc("showChange",(function(t){return e.show_menu=t})),r.Vb()),2&t&&(r.Eb(1),r.rc("menu",e.show_menu),r.Eb(5),r.Pc(e.datetime),r.Eb(6),r.rc("ngForOf",e.tiles),r.Eb(1),r.rc("show",e.show_menu))},directives:[b.a,W,L,N,c.n,U.a,p.a,a.f,d.a],styles:["[_nghost-%COMP%] {\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            overflow: hidden;\n            display: flex;\n            flex-direction: column;\n        }\n\n        main[_ngcontent-%COMP%] {\n            min-height: 50%;\n            background: #f0f0f0;\n        }\n\n        .top[_ngcontent-%COMP%] {\n            background: transparent linear-gradient(89deg, #004a86 0%, #00a1d8 70%, #6eb95c 100%) 0% 0%\n                no-repeat padding-box;\n        }\n\n        a[button].tile[_ngcontent-%COMP%] {\n            flex: 1;\n            border-radius: 0;\n            background-color: #fff;\n            color: rgba(0,0,0,.85);\n            border: none;\n            border-right: 1px solid #ccc;\n        }\n\n        a[button].tile[_ngcontent-%COMP%]:last-child {\n            border: none;\n        }"]}),t})()}];let J=(()=>{class t{}return t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({factory:function(e){return new(e||t)},imports:[[c.c,o.h,s.a,a.g.forChild(q)]]}),t})()}}]);
//# sourceMappingURL=dashboard-dashboard-module.b97156a6ee31faada1bc.js.map