"use strict";(self.webpackChunkconcierge=self.webpackChunkconcierge||[]).push([["apps_concierge_src_app_catering_catering_module_ts"],{9937:(re,h,o)=>{o.r(h),o.d(h,{CateringModule:()=>ie});var s=o(6477),d=o(9542),l=o(6585),T=o(2128),Z=o(1031),w=o(3045),m=o(1426),e=o(6839),y=o(4945),p=o(7728),_=o(8501),C=o(2189),M=o(1670),U=o(5670),A=o(5912),u=o(1950),J=o(2481),N=o(7486),z=o(8441),O=o(8750),j=o(6508);function Q(n,r){if(1&n&&(e.TgZ(0,"mat-option",3),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.display_name||t.name," ")}}function I(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",8),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.addItem())}),e._uU(1," Add Item "),e.qZA()}}function Y(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",8),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.editConfig())}),e._uU(1," Edit Config "),e.qZA()}}function k(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",8),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.importMenu())}),e._uU(1," Import Menu "),e.qZA()}}function P(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",8),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.setRoomAvailability())}),e._uU(1," Room Availability "),e.qZA()}}function F(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",8),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.setChargeCodes())}),e._uU(1," Charge Codes "),e.qZA()}}let x=(()=>{class n extends m.cx{get building(){return this._org.building}constructor(t,i,a,c,f,oe){super(),this._orders=t,this._catering=i,this._org=a,this._route=c,this._router=f,this._dialog=oe,this.zones=[],this.levels=this._org.active_levels,this.setDate=g=>this._orders.filters={...this._orders.filters,date:g},this.updateZones=g=>{this._router.navigate([],{relativeTo:this._route,queryParams:{zone_ids:g.join(",")}}),this._orders.filters={...this._orders.filters,zones:[g]},this._catering.zone=g[0]||this._catering.zone},this.addItem=()=>this._catering.addItem(),this.editConfig=()=>this._catering.editConfig(),this.importMenu=()=>this._catering.importMenu()}ngOnInit(){var t=this;return(0,M.Z)(function*(){yield t._org.initialised.pipe((0,U.P)(i=>i)).toPromise(),t._catering.zone=(t._orders.filters?.zones||[])[0]||t._org.building?.id,t.subscription("route.query",t._route.queryParamMap.subscribe(i=>{if(i.has("zone_ids")){const a=i.get("zone_ids").split(",");if(!a.length)return;const c=t._org.levelWithID(a);if(t.zones=a,!c)return;t._org.building=t._org.buildings.find(f=>f.id===c.parent_id)}})),t.subscription("route.params",t._route.paramMap.subscribe(i=>t.page=i.has("view")?i.get("view"):"")),t.subscription("levels",t._org.active_levels.subscribe(i=>{t.zones=t.zones.filter(a=>i.find(c=>c.id===a)),!t.zones.length&&i.length&&t.zones.push(i[0].id),t.updateZones(t.zones)}))})()}setRoomAvailability(){this._dialog.open(J.C)}setChargeCodes(){this._dialog.open(u.F7)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.Ii),e.Y36(u.jW),e.Y36(A.w7),e.Y36(l.gz),e.Y36(l.F0),e.Y36(N.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["catering-topbar"]],features:[e.qOj],decls:14,vars:10,consts:[[1,"flex","items-center","bg-white","dark:bg-neutral-700","h-20","px-4","border-b","border-gray-300","dark:border-neutral-500","space-x-2"],["appearance","outline"],["placeholder","All Levels",3,"ngModel","ngModelChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["btn","","matRipple","",3,"click",4,"ngIf"],[1,"flex-1","w-2"],[3,"dateChange"],["btn","","matRipple","",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"mat-form-field",1)(2,"mat-select",2),e.NdJ("ngModelChange",function(c){return i.zones[0]=c})("ngModelChange",function(c){return i.updateZones([c])}),e.TgZ(3,"mat-option",3),e._uU(4," All Levels "),e.qZA(),e.YNc(5,Q,2,2,"mat-option",4),e.ALo(6,"async"),e.qZA()(),e.YNc(7,I,2,0,"button",5),e.YNc(8,Y,2,0,"button",5),e.YNc(9,k,2,0,"button",5),e.YNc(10,P,2,0,"button",5),e.YNc(11,F,2,0,"button",5),e._UZ(12,"div",6),e.TgZ(13,"date-options",7),e.NdJ("dateChange",function(c){return i.setDate(c)}),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngModel",i.zones[0]),e.xp6(1),e.Q6J("value",null==i.building?null:i.building.id),e.xp6(2),e.Q6J("ngForOf",e.lcZ(6,8,i.levels)),e.xp6(2),e.Q6J("ngIf","menu"===i.page&&(!i.zones[0]||i.zones[0]===(null==i.building?null:i.building.id))),e.xp6(1),e.Q6J("ngIf","menu"===i.page),e.xp6(1),e.Q6J("ngIf","menu"===i.page),e.xp6(1),e.Q6J("ngIf","menu"===i.page),e.xp6(1),e.Q6J("ngIf","menu"===i.page))},dependencies:[s.sg,s.O5,d.JJ,d.On,z.E,O.KE,j.gD,p.ey,p.wG,s.Ov],styles:["mat-form-field[_ngcontent-%COMP%]{height:3.25em;width:8em}\n/*# sourceMappingURL=catering-topbar.component.ts-angular-inline--144.css.map*/"]}),n})();const L=["app-catering",""];function S(n,r){1&n&&(e.TgZ(0,"div",7),e._uU(1,' To edit the menu select "All Levels" from the top left '),e.qZA())}function E(n,r){1&n&&e._UZ(0,"catering-order-list",8)}function R(n,r){1&n&&e._UZ(0,"catering-menu",8)}const D=function(){return["/catering","menu"]},G=function(){return["/catering","orders"]};function H(n,r){1&n&&(e.TgZ(0,"div",9)(1,"a",10)(2,"div",11),e._UZ(3,"div",12),e.TgZ(4,"span",13),e._uU(5,"Menus and Pricing"),e.qZA()(),e.TgZ(6,"div",14),e._uU(7," View and Edit Menus and Pricing "),e.qZA()(),e.TgZ(8,"a",10)(9,"div",11),e._UZ(10,"div",12),e.TgZ(11,"span",13),e._uU(12,"Today's Orders"),e.qZA()(),e.TgZ(13,"div",14),e._uU(14," View Catering Orders and their statuses upon arrival "),e.qZA()()()),2&n&&(e.xp6(1),e.Q6J("routerLink",e.DdM(6,D)),e.xp6(1),e.Udp("background-image","url(assets/menus.jpg)"),e.xp6(6),e.Q6J("routerLink",e.DdM(7,G)),e.xp6(1),e.Udp("background-image","url(assets/orders.jpg)"))}let b=(()=>{class n extends m.cx{constructor(t){super(),this._route=t}ngOnInit(){this.subscription("route.params",this._route.paramMap.subscribe(t=>this.page=t.has("view")?t.get("view"):""))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["","app-catering",""]],features:[e.qOj],attrs:L,decls:9,vars:4,consts:[[1,"relative","w-full","flex","flex-col","bg-gray-200","dark:bg-neutral-600"],[1,"relative","z-10"],["class","p-2 flex items-center justify-center bg-blue-600 text-white text-sm",4,"ngIf"],[1,"flex","flex-1","h-1/2","w-full","overflow-auto"],[3,"ngSwitch"],["class","flex-1",4,"ngSwitchCase"],["class","flex flex-1 flex-wrap items-center justify-center",4,"ngSwitchDefault"],[1,"p-2","flex","items-center","justify-center","bg-blue-600","text-white","text-sm"],[1,"flex-1"],[1,"flex","flex-1","flex-wrap","items-center","justify-center"],["matRipple","",1,"rounded","flex","flex-col","items-center","bg-white","dark:bg-neutral-700","shadow","text-black","dark:text-white",3,"routerLink"],["name","img",1,"relative","w-full","flex","flex-1","items-center","justify-center","text-2xl","text-white","bg-center","bg-cover"],[1,"absolute","inset-0","bg-black","opacity-60","z-0"],[1,"z-10"],[1,"p-2","h-14","w-full","text-sm","text-center","flex","items-center","justify-center"]],template:function(t,i){1&t&&(e._UZ(0,"sidebar"),e.TgZ(1,"main",0),e._UZ(2,"catering-topbar",1),e.YNc(3,S,2,0,"div",2),e.TgZ(4,"div",3),e.ynx(5,4),e.YNc(6,E,1,0,"catering-order-list",5),e.YNc(7,R,1,0,"catering-menu",5),e.YNc(8,H,15,8,"div",6),e.BQk(),e.qZA()()),2&t&&(e.xp6(3),e.Q6J("ngIf","menu"===i.page),e.xp6(2),e.Q6J("ngSwitch",i.page),e.xp6(1),e.Q6J("ngSwitchCase","orders"),e.xp6(1),e.Q6J("ngSwitchCase","menu"))},dependencies:[s.O5,s.RF,s.n9,s.ED,y.k,p.wG,_.B,C.I,l.rH,x],styles:["[_nghost-%COMP%]{display:flex;height:100%;width:100%}a[_ngcontent-%COMP%]{width:28rem;height:16rem;margin-left:.5rem;text-decoration:none;transition:background .2s}a[_ngcontent-%COMP%]:hover{opacity:.8}a[_ngcontent-%COMP%]:first-child{margin:0}\n/*# sourceMappingURL=catering.component.ts-angular-inline--143.css.map*/"]}),n})();var B=o(6866),K=o(3320);const V=["app-new-catering",""];function q(n,r){1&n&&(e.TgZ(0,"div",8),e._uU(1,' To edit the menu select "All Levels" from the top left '),e.qZA())}function X(n,r){1&n&&e._UZ(0,"catering-order-list",9)}function W(n,r){1&n&&e._UZ(0,"catering-menu",9)}const $=function(){return["/catering","menu"]},ee=function(){return["/catering","orders"]};function te(n,r){1&n&&(e.TgZ(0,"div",10)(1,"a",11)(2,"div",12),e._UZ(3,"div",13),e.TgZ(4,"span",14),e._uU(5,"Menus and Pricing"),e.qZA()(),e.TgZ(6,"div",15),e._uU(7," View and Edit Menus and Pricing "),e.qZA()(),e.TgZ(8,"a",11)(9,"div",12),e._UZ(10,"div",13),e.TgZ(11,"span",14),e._uU(12,"Today's Orders"),e.qZA()(),e.TgZ(13,"div",15),e._uU(14," View Catering Orders and their statuses upon arrival "),e.qZA()()()),2&n&&(e.xp6(1),e.Q6J("routerLink",e.DdM(6,$)),e.xp6(1),e.Udp("background-image","url(assets/menus.jpg)"),e.xp6(6),e.Q6J("routerLink",e.DdM(7,ee)),e.xp6(1),e.Udp("background-image","url(assets/orders.jpg)"))}let v=(()=>{class n extends m.cx{constructor(t){super(),this._route=t}ngOnInit(){this.subscription("route.params",this._route.paramMap.subscribe(t=>this.page=t.has("view")?t.get("view"):""))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["","app-new-catering",""]],features:[e.qOj],attrs:V,decls:11,vars:4,consts:[[1,"flex","flex-1","h-px"],[1,"flex","flex-col","flex-1","w-1/2","h-full"],[1,"relative","z-10"],["class","p-2 flex items-center justify-center bg-blue-600 text-white text-sm",4,"ngIf"],[1,"flex","flex-1","h-1/2","w-full","overflow-auto"],[3,"ngSwitch"],["class","flex-1",4,"ngSwitchCase"],["class","flex flex-1 flex-wrap items-center justify-center",4,"ngSwitchDefault"],[1,"p-2","flex","items-center","justify-center","bg-blue-600","text-white","text-sm"],[1,"flex-1"],[1,"flex","flex-1","flex-wrap","items-center","justify-center"],["matRipple","",1,"rounded","flex","flex-col","items-center","bg-white","dark:bg-neutral-700","shadow","text-black","dark:text-white",3,"routerLink"],["name","img",1,"relative","w-full","flex","flex-1","items-center","justify-center","text-2xl","text-white","bg-center","bg-cover"],[1,"absolute","inset-0","bg-black","opacity-60","z-0"],[1,"z-10"],[1,"p-2","h-14","w-full","text-sm","text-center","flex","items-center","justify-center"]],template:function(t,i){1&t&&(e._UZ(0,"app-topbar"),e.TgZ(1,"div",0),e._UZ(2,"app-sidebar"),e.TgZ(3,"main",1),e._UZ(4,"catering-topbar",2),e.YNc(5,q,2,0,"div",3),e.TgZ(6,"div",4),e.ynx(7,5),e.YNc(8,X,1,0,"catering-order-list",6),e.YNc(9,W,1,0,"catering-menu",6),e.YNc(10,te,15,8,"div",7),e.BQk(),e.qZA()()()),2&t&&(e.xp6(5),e.Q6J("ngIf","menu"===i.page),e.xp6(2),e.Q6J("ngSwitch",i.page),e.xp6(1),e.Q6J("ngSwitchCase","orders"),e.xp6(1),e.Q6J("ngSwitchCase","menu"))},dependencies:[s.O5,s.RF,s.n9,s.ED,B.O,K.u,p.wG,_.B,C.I,l.rH,x],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%;background-color:#fff}a[_ngcontent-%COMP%]{width:28rem;height:16rem;margin-left:.5rem;text-decoration:none;transition:background .2s}a[_ngcontent-%COMP%]:hover{opacity:.8}a[_ngcontent-%COMP%]:first-child{margin:0}\n/*# sourceMappingURL=new-catering.component.ts-angular-inline--145.css.map*/"]}),n})();const ne=[{path:"",component:b},{path:"new",component:v},{path:":view",component:b},{path:"new/:view",component:v}];let ie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[s.ez,d.u5,w.v,T.Nh,Z.Hi,u.uy,l.Bz.forChild(ne)]}),n})()}}]);
//# sourceMappingURL=apps_concierge_src_app_catering_catering_module_ts.js.map