"use strict";(self.webpackChunkworkplace=self.webpackChunkworkplace||[]).push([["apps_workplace_src_app_landing_landing_module_ts"],{5883:(fn,j,r)=>{r.r(j),r.d(j,{AppLandingModule:()=>gn});var d=r(316),R=r(4456),v=r(9805),H=r(6591),p=r(1157),O=r(1864),L=r(2185),m=r(9204),f=r(6484),y=r(521),N=r(1536),T=r(2175),P=r(8627),C=r(1963),D=r(9314),h=r(5443),F=r(7841),U=r(6e3),q=r(9803),ee=r(7871),ne=r(2168),G=r(8390),te=r(4055),ie=r(5323),se=r(1257),e=r(7404);let M=(()=>{class t extends p.Tv{constructor(n,i,s,o){super(),this._calendar=n,this._schedule=i,this._org=s,this._settings=o,this._options=new y.t({}),this._loading=new y.t(""),this._loading_spaces=new y.t(!1),this._contacts=new y.t([]),this._level_occupancy=new y.t([]),this._booking_rules=this._org.active_building.pipe((0,P.p)(a=>!!a),(0,C.n)(a=>(0,f.bpY)(a.id,"room_booking_rules").pipe((0,D.W)(()=>(0,N.of)({details:[]})))),(0,h.T)(a=>a?.details instanceof Array?a.details:[]),(0,F.t)(1)),this._space_list=this._org.active_building.pipe((0,P.p)(a=>!!a),(0,C.n)(a=>(0,ne.Ot)(a.id)),(0,h.T)(a=>a.filter(l=>l.bookable)),(0,F.t)(1)),this._filtered_spaces=(0,T.zV)([this._space_list,this._booking_rules]).pipe((0,h.T)(([a,l])=>(0,p.XE)(a,{date:Date.now(),duration:60,host:(0,p.Ny)(),resource:null},l))),this._space_statuses=this._filtered_spaces.pipe((0,U.M)(a=>this.unsubWith("bind:")),(0,C.n)(a=>(0,T.zV)((a||[]).map(l=>{const _=(0,f.f_4)(l.id,"Bookings").binding("status"),g=_.listen();return this.subscription(`bind:${l.id}`,_.bind()),g}))),(0,F.t)(1)),this.free_space_list=(0,T.zV)([this._space_list,this._space_statuses]).pipe((0,h.T)(([a,l])=>(a||[]).filter((_,g)=>"free"===l[g]).sort((_,g)=>_.capacity-g.capacity)),(0,F.t)(1)),this.upcoming_events=this._schedule.filtered_bookings.pipe((0,h.T)(a=>a.filter(l=>"done"!==l.state&&(0,se.r)(l.date,Date.now())))),this.contacts=this._contacts.asObservable(),this.options=this._options.asObservable(),this.loading=this._loading.asObservable(),this.loading_spaces=this._loading_spaces.asObservable(),this.search_fn=a=>this._settings.get("app.basic_user_search")||!1!==this._settings.get("app.colleagues_require_auth")?(0,f.n1$)({q:a,authority_id:(0,f.kup)()?.id}).pipe((0,h.T)(({data:l})=>l.map(_=>new G.Gp(_)))):(0,G.N8)(a),this.search_results=this._options.pipe((0,q.B)(500),(0,C.n)(({search:a})=>(this._loading.next("Loading users..."),a?this.search_fn(a).pipe((0,D.W)(()=>(0,N.of)([]))):(0,N.of)([]))),(0,U.M)(()=>this._loading.next("")),(0,F.t)(1)),this.level_occupancy=this._level_occupancy.asObservable(),this.init()}init(){var n=this;return(0,m.A)(function*(){yield n._org.initialised.pipe((0,ee.$)(o=>o)).toPromise(),n.updateContacts(),n.subscription("building",n._org.active_building.pipe((0,P.p)(o=>!!o)).subscribe(()=>{n.updateBuildingMetadata(),n.updateOccupancy({})}));let i=n._org.binding("area_management");if(!i)return;const s=(0,f.f_4)(i,"AreaManagement").binding("overview");s.listen().subscribe(o=>n.updateOccupancy(o||{})),s.bind()})()}setOptions(n){this._options.next({...this._options.getValue(),...n})}pollUpcomingEvents(n=12e4){return this._schedule.setDate(Date.now()),this._schedule.triggerPoll(),this._schedule.startPolling(n)}stopPollingUpcomingEvents(){this._schedule.stopPolling()}refreshUpcomingEvents(){this._schedule.setDate(Date.now()),this._schedule.triggerPoll()}updateContacts(){var n=this;return(0,m.A)(function*(){const i=yield(0,f.bpY)((0,p.Ny)().id,"contacts").toPromise(),s=i.details instanceof Array?i.details:[],o=yield Promise.all(s.map(a=>(0,f.VLL)(a.email).toPromise()));n._contacts.next(o.map(a=>new G.Gp(a)))})()}addContact(n){var i=this;return(0,m.A)(function*(){let s=[...i._contacts.getValue()];s.push(n),s=(0,p.Am)(s,"email"),yield(0,f.D58)((0,p.Ny)().id,{name:"contacts",description:"Contacts for the User",details:s}).toPromise(),i.updateContacts()})()}removeContact(n){var i=this;return(0,m.A)(function*(){let s=[...i._contacts.getValue()];s=s.filter(o=>o.email!==n.email),yield(0,f.D58)((0,p.Ny)().id,{name:"contacts",description:"Contacts for the User",details:s}).toPromise(),i.updateContacts()})()}updateOccupancy(n){var i=this;return(0,m.A)(function*(){const s=i._org.levelsForBuilding()||[];s.sort((o,a)=>n[o.id]?.recommendation-n[a.id]?.recommendation),i._level_occupancy.next(s)})()}updateBuildingMetadata(){var n=this;return(0,m.A)(function*(){n._level_occupancy.next([]);const i=n._org.binding("occupancy");if(!i)return;const{sys:s,module:o,index:a}=i,l=(0,f.f_4)(s,o,a);l&&(n._occupancy_binding&&n._occupancy_binding.unbind(),n._occupancy_binding=l.binding("occupancy"),n._occupancy_binding.bind(),n.subscription("occupancy_binding",n._occupancy_binding.listen().subscribe(_=>{const g=Object.keys(_).map(u=>({id:u,..._[u]}));g.sort((u,mn)=>u.recommendation_factor-mn.recommendation_factor),n._level_occupancy.next(g.map(u=>n._org.levelWithID([u.id])))})))})()}static#e=this.\u0275fac=function(i){return new(i||t)(e.KVO(te.IE),e.KVO(ie.y),e.KVO(L.yb),e.KVO(p.h$))};static#n=this.\u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var A=r(9434),w=r(3208),k=r(5060),V=r(1134),x=r(597),$=r(2011);const oe=()=>["/explore"],ae=t=>({level:t});function le(t,c){1&t&&(e.j41(0,"div",6),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"WPA.AVAILABLE_NOW")," "))}function ce(t,c){1&t&&(e.j41(0,"div",7)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&t&&(e.R7$(2),e.JRh(e.bMT(3,1,"WPA.SPACES")))}function re(t,c){if(1&t&&e.nrm(0,"img",18),2&t){const n=e.XpG().$implicit;e.Y8G("source",null==n?null:n.images[0])}}function _e(t,c){1&t&&e.nrm(0,"img",19)}function pe(t,c){if(1&t&&(e.j41(0,"button",11)(1,"div",12),e.DNE(2,re,1,1,"img",13)(3,_e,1,0,"ng-template",null,1,e.C5r),e.k0s(),e.j41(5,"div",14)(6,"div",15),e.EFF(7),e.k0s(),e.j41(8,"div",16)(9,"app-icon",17),e.EFF(10,"place"),e.k0s(),e.j41(11,"span"),e.EFF(12),e.k0s()()()()),2&t){let n;const i=c.$implicit,s=e.sdS(4),o=e.XpG(2);e.Y8G("routerLink",e.lJ4(6,oe))("queryParams",e.eq3(7,ae,i.id)),e.R7$(2),e.Y8G("ngIf",null==i||null==i.images?null:i.images.length)("ngIfElse",s),e.R7$(5),e.SpI(" ",i.display_name||i.name," "),e.R7$(5),e.JRh((null==(n=o.building(i.parent_id))?null:n.display_name)||(null==(n=o.building(i.parent_id))?null:n.name))}}function ue(t,c){1&t&&(e.j41(0,"span",20),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"WPA.NO_FREE_SPACES")," "))}function de(t,c){if(1&t&&(e.j41(0,"div",8),e.DNE(1,pe,13,9,"button",9),e.nI1(2,"async"),e.DNE(3,ue,3,3,"span",10),e.nI1(4,"async"),e.k0s()),2&t){const n=e.XpG();e.R7$(),e.Y8G("ngForOf",e.bMT(2,2,n.levels_free)),e.R7$(2),e.Y8G("ngIf",!e.bMT(4,4,n.levels_free).length)}}function ge(t,c){1&t&&e.nrm(0,"mat-spinner",22)}function me(t,c){if(1&t&&(e.j41(0,"div",7)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.DNE(4,ge,1,0,"mat-spinner",21),e.nI1(5,"async"),e.k0s()),2&t){const n=e.XpG();e.R7$(2),e.JRh(e.bMT(3,2,"WPA.ROOMS")),e.R7$(2),e.Y8G("ngIf",e.bMT(5,4,n.loading_spaces))}}function fe(t,c){if(1&t&&(e.nrm(0,"img",18),e.nI1(1,"space"),e.nI1(2,"async")),2&t){let n;const i=e.XpG().$implicit;e.Y8G("source",null==(n=e.bMT(2,3,e.bMT(1,1,i.id)))?null:n.images[0])}}function he(t,c){if(1&t){const n=e.RV6();e.j41(0,"button",24),e.bIt("click",function(){const s=e.eBV(n).$implicit,o=e.XpG(2);return e.Njj(o.book(s))}),e.j41(1,"div",12),e.DNE(2,fe,3,5,"img",13),e.nI1(3,"space"),e.nI1(4,"async"),e.k0s(),e.j41(5,"div",14)(6,"div",15),e.EFF(7),e.k0s(),e.j41(8,"div",16)(9,"app-icon",17),e.EFF(10,"place"),e.k0s(),e.j41(11,"span"),e.EFF(12),e.k0s()()()()}if(2&t){let n,i;const s=c.$implicit,o=e.XpG(2),a=e.sdS(7);e.R7$(2),e.Y8G("ngIf",null==(n=e.bMT(4,6,e.bMT(3,4,s.id)))||null==n.images?null:n.images.length)("ngIfElse",a),e.R7$(5),e.SpI(" ",s.display_name||s.name," "),e.R7$(5),e.JRh((null==(i=o.level(s.zones))?null:i.display_name)||(null==(i=o.level(s.zones))?null:i.name))}}function ve(t,c){1&t&&(e.j41(0,"span",20),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&t&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"WPA.NO_FREE_ROOMS")," "))}function be(t,c){if(1&t&&(e.j41(0,"div",8),e.DNE(1,he,13,8,"button",23),e.nI1(2,"async"),e.DNE(3,ve,3,3,"span",10),e.nI1(4,"async"),e.k0s()),2&t){let n;const i=e.XpG();e.R7$(),e.Y8G("ngForOf",e.bMT(2,3,i.space_list))("ngForTrackBy",i.trackBySpaceId),e.R7$(2),e.Y8G("ngIf",!(null!=(n=e.bMT(4,5,i.space_list))&&n.length))}}function Fe(t,c){1&t&&e.nrm(0,"img",25)}let X=(()=>{class t{trackBySpaceId(n,i){return i.id}level(n){return this._org.levelWithID(n)}building(n){return this._org.buildings.find(i=>i.id===n)}get hide_spaces(){return this._settings.get("app.general.hide_spaces")}get hide_rooms(){return this._settings.get("app.general.hide_rooms")}constructor(n,i,s,o){this._state=n,this._org=i,this._settings=s,this._explore=o,this.space_list=this._state.free_space_list,this.loading_spaces=this._state.loading_spaces,this.levels_free=this._state.level_occupancy,this.book=a=>this._explore.bookSpace(a,!0)}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(M),e.rXU(L.yb),e.rXU(p.h$),e.rXU(O.s4))};static#n=this.\u0275cmp=e.VBU({type:t,selectors:[["landing-availability"]],features:[e.Jv_([O.s4])],decls:8,vars:5,consts:[["space_placeholder",""],["placeholder",""],[1,"py-2"],["class","sm:text-lg font-medium mb-2 sm:mb-4 px-4",4,"ngIf"],["class","flex items-center text-sm sm:text-base px-4 space-x-2",4,"ngIf"],["class","w-full overflow-auto flex items-center space-x-4 px-4 py-2",4,"ngIf"],[1,"sm:text-lg","font-medium","mb-2","sm:mb-4","px-4"],[1,"flex","items-center","text-sm","sm:text-base","px-4","space-x-2"],[1,"w-full","overflow-auto","flex","items-center","space-x-4","px-4","py-2"],["name","landing-view-space","matRipple","","class","flex items-center h-24 min-w-[12.5rem] rounded-lg bg-base-100 shadow p-4 space-x-2",3,"routerLink","queryParams",4,"ngFor","ngForOf"],["class","opacity-60 text-sm mb-2",4,"ngIf"],["name","landing-view-space","matRipple","",1,"flex","items-center","h-24","min-w-[12.5rem]","rounded-lg","bg-base-100","shadow","p-4","space-x-2",3,"routerLink","queryParams"],[1,"w-[4.5rem]","h-[4.5rem]","rounded","bg-base-300","overflow-hidden","flex","items-center","justify-center"],["auth","","class","min-h-full object-cover",3,"source",4,"ngIf","ngIfElse"],[1,"text-left"],[1,"max-w-full","truncate","px-1.5"],[1,"max-w-full","truncate","text-sm","opacity-60","flex","items-center"],[1,"text-blue-500","text-lg"],["auth","",1,"min-h-full","object-cover",3,"source"],["src","assets/icons/desk-placeholder.svg",1,"m-auto"],[1,"opacity-60","text-sm","mb-2"],["diameter","24",4,"ngIf"],["diameter","24"],["name","landing-book-room","matRipple","","class","flex items-center h-24 min-w-[12.5rem] rounded-lg bg-base-100 shadow p-4 space-x-2",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],["name","landing-book-room","matRipple","",1,"flex","items-center","h-24","min-w-[12.5rem]","rounded-lg","bg-base-100","shadow","p-4","space-x-2",3,"click"],["src","assets/icons/room-placeholder.svg",1,"m-auto"]],template:function(i,s){1&i&&(e.j41(0,"div",2),e.DNE(1,le,3,3,"div",3)(2,ce,4,3,"div",4)(3,de,5,6,"div",5)(4,me,6,6,"div",4)(5,be,5,7,"div",5),e.k0s(),e.DNE(6,Fe,1,0,"ng-template",null,0,e.C5r)),2&i&&(e.R7$(),e.Y8G("ngIf",!s.hide_rooms||!s.hide_spaces),e.R7$(),e.Y8G("ngIf",!s.hide_spaces),e.R7$(),e.Y8G("ngIf",!s.hide_spaces),e.R7$(),e.Y8G("ngIf",!s.hide_rooms),e.R7$(),e.Y8G("ngIf",!s.hide_rooms))},dependencies:[d.Sq,d.bT,A.R,w.U,k.r6,V.LG,v.Wk,d.Jj,x.D9,$.J],styles:["*[_ngcontent-%COMP%]{flex-shrink:0}\n\n/*# sourceMappingURL=landing-availability.component.ts-angular-inline--90.css.map*/"]})}return t})();var I=r(8113),Ie=r(3574),E=r(1034),Ee=r(640);const ye=["search_input"];function Te(t,c){if(1&t){const n=e.RV6();e.j41(0,"div",17)(1,"div",18),e.nrm(2,"a-user-avatar",19)(3,"div",20),e.k0s(),e.j41(4,"div",21)(5,"div",22),e.EFF(6),e.k0s(),e.j41(7,"div",23),e.EFF(8),e.k0s(),e.j41(9,"div",24),e.EFF(10),e.k0s()(),e.j41(11,"button",25)(12,"app-icon"),e.EFF(13,"more_horiz"),e.k0s()(),e.j41(14,"mat-menu",26,4)(16,"button",27),e.bIt("click",function(){const s=e.eBV(n).$implicit,o=e.XpG(2);return e.Njj(o.newMeeting(s))}),e.j41(17,"div",28)(18,"app-icon",29),e.EFF(19,"today"),e.k0s(),e.j41(20,"div"),e.EFF(21),e.nI1(22,"translate"),e.k0s()()(),e.j41(23,"button",30),e.bIt("click",function(){const s=e.eBV(n).$implicit,o=e.XpG(2);return e.Njj(o.removeUser(s))}),e.j41(24,"div",28)(25,"app-icon",29),e.EFF(26,"cancel"),e.k0s(),e.j41(27,"div"),e.EFF(28),e.nI1(29,"translate"),e.k0s()()()()()}if(2&t){const n=c.$implicit,i=e.sdS(15);e.R7$(2),e.Y8G("user",n),e.R7$(),e.AVh("bg-error","aol"===n.location||"ooo"===n.location)("bg-success","wfo"===n.location)("bg-warning","wfh"===n.location)("bg-neutral",!n.location),e.Y8G("matTooltip",n.location_name),e.R7$(2),e.Y8G("matTooltip",n.name),e.R7$(),e.SpI(" ",n.name," "),e.R7$(),e.Y8G("matTooltip",n.organisation),e.R7$(),e.SpI(" ",n.organisation," "),e.R7$(2),e.SpI(" ",n.location_name," "),e.R7$(),e.Y8G("matMenuTriggerFor",i),e.R7$(10),e.SpI(" ",e.bMT(22,18,"WPA.CREATE_MEETING")," "),e.R7$(7),e.SpI(" ",e.bMT(29,20,"WPA.REMOVE_COLLEAGUE")," ")}}function ke(t,c){if(1&t&&(e.qex(0),e.DNE(1,Te,30,22,"div",16),e.nI1(2,"async"),e.bVm()),2&t){const n=e.XpG();e.R7$(),e.Y8G("ngForOf",e.bMT(2,1,n.contacts))}}function xe(t,c){if(1&t){const n=e.RV6();e.j41(0,"button",33),e.bIt("click",function(){const s=e.eBV(n).$implicit,o=e.XpG(3);return e.Njj(o.addUser(s))}),e.j41(1,"div",34),e.nrm(2,"a-user-avatar",19),e.k0s(),e.j41(3,"div",35)(4,"div",36),e.EFF(5),e.k0s(),e.j41(6,"div",37),e.EFF(7),e.k0s()()()}if(2&t){const n=c.$implicit;e.R7$(2),e.Y8G("user",n),e.R7$(3),e.JRh(n.name),e.R7$(2),e.SpI(" ",n.organisation," ")}}function Re(t,c){if(1&t&&(e.qex(0),e.DNE(1,xe,8,3,"button",32),e.nI1(2,"async"),e.bVm()),2&t){const n=e.XpG(2);e.R7$(),e.Y8G("ngForOf",e.bMT(2,1,n.search_results))}}function Le(t,c){if(1&t&&(e.j41(0,"div",31),e.DNE(1,Re,3,3,"ng-container",10),e.nI1(2,"async"),e.k0s()),2&t){let n;const i=e.XpG(),s=e.sdS(23);e.R7$(),e.Y8G("ngIf",null==(n=e.bMT(2,2,i.search_results))?null:n.length)("ngIfElse",s)}}function Ce(t,c){1&t&&(e.j41(0,"div",38),e.nrm(1,"img",39),e.j41(2,"p",40),e.pXf(3,6),e.nI1(4,"translate"),e.k0s()()),2&t&&(e.R7$(4),e.uP7(e.bMT(4,1,"WPA.COLLEAGUES_EMPTY")),e.nnv(3))}function Ae(t,c){if(1&t&&(e.j41(0,"div",38)(1,"p",40),e.EFF(2),e.nI1(3,"async"),e.nI1(4,"async"),e.k0s()()),2&t){let n;const i=e.XpG();e.R7$(2),e.SpI(" ",null!=(n=e.bMT(3,1,i.options))&&n.search?'Unable for find any users matching "'+(null==(n=e.bMT(4,3,i.options))?null:n.search)+'"':"Start typing to search for users."," ")}}function $e(t,c){1&t&&(e.j41(0,"div",38),e.nrm(1,"mat-spinner",41),e.j41(2,"p",40),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&t&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"WPA.COLLEAGUES_SEARCHING")," "))}let Y=(()=>{class t extends p.Tv{constructor(n,i,s,o){var a;super(),a=this,this._state=n,this._settings=i,this._event_form=s,this._router=o,this.show_search=!1,this.contacts=this._state.contacts,this.search_results=(0,T.zV)([this._state.search_results,this._state.contacts]).pipe((0,h.T)(([l,_])=>l.filter(g=>!_.find(u=>u.id===g.id||u.email===g.email)))),this.options=this._state.options,this.loading=this._state.loading,this.addUser=function(){var l=(0,m.A)(function*(_){yield a._state.addContact(_),(0,p.VX)(`Successfully added "${_.name}" to contacts`),a.show_search=!1});return function(_){return l.apply(this,arguments)}}(),this.removeUser=function(){var l=(0,m.A)(function*(_){yield a._state.removeContact(_),(0,p.VX)(`Successfully removed "${_.name}" from contacts`)});return function(_){return l.apply(this,arguments)}}(),this.updateSearch=l=>this._state.setOptions({search:l})}newMeeting(n){this._event_form.newForm(),this._event_form.form.patchValue({attendees:[n]}),this._settings.get("app.new_features")?this._router.navigate(["/book","meeting"]):this._router.navigate(["/book","spaces"])}openSearch(){this.updateSearch(""),this.show_search=!0,this.timeout("open",()=>this._input_el.nativeElement.focus(),100)}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(M),e.rXU(p.h$),e.rXU(I.Ws),e.rXU(v.Ix))};static#n=this.\u0275cmp=e.VBU({type:t,selectors:[["landing-colleagues"]],viewQuery:function(i,s){if(1&i&&e.GBs(ye,7),2&i){let o;e.mGM(o=e.lsd())&&(s._input_el=o.first)}},features:[e.Vt3],decls:26,vars:22,consts:()=>{let n,i,s;return n=$localize`:␟c0f95f99e44be18320d55d7ea3b39d521c5e847f␟3604407389403754414:{VAR_PLURAL, plural, =1 {Person } other {People }}`,n=e.k04(n,{VAR_PLURAL:"\ufffd1\ufffd"}),i=$localize`:␟df63d46581a56aeb689b521513ff65c896b6c618␟6964084933612300643: ${"\ufffd0\ufffd"}:INTERPOLATION: ${n}:ICU: `,s=$localize`:␟082b183958aaf6c9cda3dd1caba0bb3821480348␟5990245187139880203: ${"\ufffd0\ufffd"}:INTERPOLATION: `,[["search_input",""],["empty_state",""],["search_empty",""],["load_state",""],["menu","matMenu"],i,s,[1,"flex","items-center","justify-between","py-2","mx-2","border-b","border-base-200"],[1,"mx-2"],[1,"flex-1","h-1/2","w-full","space-y-4","overflow-auto","pt-4"],[4,"ngIf","ngIfElse"],["btn","","name","open-colleague-search","matRipple","",1,"inverse","w-[calc(100%-1rem)]","m-2",3,"click"],["search","",1,"absolute","inset-x-2","top-2","bottom-[3.5rem]","rounded-lg","overflow-hidden","flex","flex-col","bg-base-100","shadow","border","border-base-200"],["placeholder","Search for users...",1,"w-full","border-b","border-base-200","p-2","rounded-t-lg",3,"ngModelChange","ngModel"],["icon","","name","close-colleague-search",1,"absolute","top-0","right-0",3,"click"],["class","overflow-auto flex-1 h-1/2 flex flex-col space-y-2",4,"ngIf","ngIfElse"],["class","flex items-center px-2 space-x-2 relative","user","",4,"ngFor","ngForOf"],["user","",1,"flex","items-center","px-2","space-x-2","relative"],[1,"text-xl","relative"],[3,"user"],[1,"rounded-full","h-3","w-3","border","border-white","absolute","bottom-1","right-1",3,"matTooltip"],[1,"leading-tight","flex-1","w-1/2"],[1,"truncate",3,"matTooltip"],[1,"text-sm","truncate",3,"matTooltip"],[1,"text-xs","opacity-60","truncate"],["icon","","name","colleague-more",1,"!rounded","bg-base-200",3,"matMenuTriggerFor"],["xPosition","before"],["mat-menu-item","","name","meeting-with-colleague",3,"click"],[1,"flex","items-center","space-x-2"],[1,"text-2xl"],["name","remove-colleague","mat-menu-item","",3,"click"],[1,"overflow-auto","flex-1","h-1/2","flex","flex-col","space-y-2"],["matRipple","","name","add-colleague","class","flex items-center p-1 space-x-2 w-full text-left min-h-12",3,"click",4,"ngFor","ngForOf"],["matRipple","","name","add-colleague",1,"flex","items-center","p-1","space-x-2","w-full","text-left","min-h-12",3,"click"],[1,"text-base","relative"],[1,"leading-tight"],[1,"truncate"],[1,"text-sm","truncate"],[1,"w-full","h-full","flex","flex-col","items-center","justify-center","space-y-2","p-8"],["src","assets/icons/no-contacts.svg"],[1,"opacity-60","text-sm","text-center"],["diameter","32"]]},template:function(i,s){if(1&i){const o=e.RV6();e.j41(0,"div",7)(1,"h2",8),e.pXf(2,5),e.nI1(3,"async"),e.nI1(4,"async"),e.k0s()(),e.j41(5,"div",9),e.DNE(6,ke,3,3,"ng-container",10),e.nI1(7,"async"),e.k0s(),e.j41(8,"button",11),e.bIt("click",function(){return e.eBV(o),e.Njj(s.openSearch())}),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"div",12)(12,"input",13,0),e.nI1(14,"async"),e.bIt("ngModelChange",function(l){return e.eBV(o),e.Njj(s.updateSearch(l))}),e.k0s(),e.j41(15,"button",14),e.bIt("click",function(){return e.eBV(o),e.Njj(s.show_search=!1)}),e.j41(16,"app-icon"),e.EFF(17,"close"),e.k0s()(),e.DNE(18,Le,3,4,"div",15),e.nI1(19,"async"),e.k0s(),e.DNE(20,Ce,5,3,"ng-template",null,1,e.C5r)(22,Ae,5,5,"ng-template",null,2,e.C5r)(24,$e,5,3,"ng-template",null,3,e.C5r)}if(2&i){let o,a,l,_;const g=e.sdS(21),u=e.sdS(25);e.R7$(4),e.uP7((null==(o=e.bMT(3,10,s.contacts))?null:o.length)||0)(null==(a=e.bMT(4,12,s.contacts))?null:a.length),e.nnv(2),e.R7$(2),e.Y8G("ngIf",null==(l=e.bMT(7,14,s.contacts))?null:l.length)("ngIfElse",g),e.R7$(3),e.SpI(" ",e.bMT(10,16,"WPA.ADD")," "),e.R7$(2),e.AVh("hidden",!s.show_search),e.R7$(),e.Y8G("ngModel",null==(_=e.bMT(14,18,s.options))?null:_.search),e.R7$(6),e.Y8G("ngIf",!e.bMT(19,20,s.loading))("ngIfElse",u)}},dependencies:[d.Sq,d.bT,A.R,Ie.a,E.kk,E.fb,E.Cp,k.r6,V.LG,Ee.oV,R.me,R.BC,R.vS,d.Jj,x.D9],styles:["[user][_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}\n\n/*# sourceMappingURL=landing-colleagues.component.ts-angular-inline--91.css.map*/"]})}return t})();var b=r(7915),W=r(622);function Ne(t,c){if(1&t&&(e.nrm(0,"img",26),e.nI1(1,"space"),e.nI1(2,"async")),2&t){let n;const i=e.XpG().$implicit;e.Y8G("source",null==(n=e.bMT(2,3,e.bMT(1,1,i)))?null:n.images[0])}}function Pe(t,c){1&t&&e.nrm(0,"img",27)}function Ge(t,c){if(1&t){const n=e.RV6();e.j41(0,"div",12)(1,"div",13)(2,"div",14),e.DNE(3,Ne,3,5,"img",15),e.nI1(4,"space"),e.nI1(5,"async"),e.DNE(6,Pe,1,0,"ng-template",null,1,e.C5r),e.k0s(),e.j41(8,"div",16)(9,"div",17),e.EFF(10),e.nI1(11,"space"),e.nI1(12,"async"),e.nI1(13,"space"),e.nI1(14,"async"),e.k0s(),e.j41(15,"div",18)(16,"app-icon",19),e.EFF(17,"place"),e.k0s(),e.j41(18,"div"),e.EFF(19),e.nI1(20,"space"),e.nI1(21,"async"),e.k0s()(),e.j41(22,"div",20)(23,"app-icon",19),e.EFF(24,"people"),e.k0s(),e.j41(25,"div"),e.pXf(26,5),e.nI1(27,"space"),e.nI1(28,"async"),e.nI1(29,"space"),e.nI1(30,"async"),e.k0s()()()(),e.j41(31,"button",21),e.bIt("click",function(){const s=e.eBV(n).$implicit,o=e.XpG(2);return e.Njj(o.newSpaceMeeting(s))}),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"button",22)(35,"app-icon"),e.EFF(36,"more_horiz"),e.k0s()(),e.j41(37,"mat-menu",23,2)(39,"button",24),e.bIt("click",function(){const s=e.eBV(n).$implicit,o=e.XpG(2);return e.Njj(o.toggleFavourite("space",s))}),e.j41(40,"app-icon",25),e.EFF(41,"cancel"),e.k0s(),e.j41(42,"div"),e.EFF(43),e.nI1(44,"translate"),e.k0s()()()()}if(2&t){let n,i,s,o,a;const l=c.$implicit,_=e.sdS(7),g=e.sdS(38),u=e.XpG(2);e.R7$(3),e.Y8G("ngIf",null==(n=e.bMT(5,11,e.bMT(4,9,l)))||null==n.images?null:n.images.length)("ngIfElse",_),e.R7$(7),e.SpI(" ",(null==(i=e.bMT(12,15,e.bMT(11,13,l)))?null:i.display_name)||(null==(i=e.bMT(14,19,e.bMT(13,17,l)))?null:i.name)," "),e.R7$(9),e.SpI(" ",null==(s=u.level(e.bMT(21,23,e.bMT(20,21,l))))?null:s.display_name," "),e.R7$(11),e.uP7((null==(o=e.bMT(28,27,e.bMT(27,25,l)))?null:o.capacity)||2)((null==(a=e.bMT(30,31,e.bMT(29,29,l)))?null:a.capacity)||2),e.nnv(26),e.R7$(2),e.SpI(" ",e.bMT(33,33,"WPA.BOOK")," "),e.R7$(2),e.Y8G("matMenuTriggerFor",g),e.R7$(9),e.JRh(e.bMT(44,35,"WPA.FAVOURITES_REMOVE"))}}function Me(t,c){if(1&t&&e.nrm(0,"img",26),2&t){const n=e.XpG().$implicit;e.Y8G("source",null==n?null:n.images[0])}}function Se(t,c){if(1&t&&e.nrm(0,"img",30),2&t){const n=e.XpG().$implicit;e.Y8G("src","assets/icons/"+("desk"===n.type?"desk":"car")+"-placeholder.svg",e.B4B)}}function je(t,c){if(1&t){const n=e.RV6();e.j41(0,"div",12)(1,"div",13)(2,"div",14),e.DNE(3,Me,1,1,"img",15)(4,Se,1,1,"ng-template",null,3,e.C5r),e.k0s(),e.j41(6,"div",28)(7,"div",29),e.EFF(8),e.k0s(),e.j41(9,"div",18)(10,"app-icon",19),e.EFF(11,"place"),e.k0s(),e.j41(12,"div"),e.EFF(13),e.k0s()()()(),e.j41(14,"button",21),e.bIt("click",function(){const s=e.eBV(n).$implicit,o=e.XpG(2);return e.Njj(o.newBooking(s.type,s))}),e.pXf(15,6),e.nI1(16,"translate"),e.k0s(),e.j41(17,"button",22)(18,"app-icon"),e.EFF(19,"more_horiz"),e.k0s()(),e.j41(20,"mat-menu",23,2)(22,"button",24),e.bIt("click",function(){const s=e.eBV(n).$implicit,o=e.XpG(2);return e.Njj(o.toggleFavourite(s.type,s.id))}),e.j41(23,"app-icon",25),e.EFF(24,"cancel"),e.k0s(),e.j41(25,"div"),e.EFF(26),e.nI1(27,"translate"),e.k0s()()()()}if(2&t){const n=c.$implicit,i=e.sdS(5),s=e.sdS(21);e.R7$(3),e.Y8G("ngIf",null==n||null==n.images?null:n.images.length)("ngIfElse",i),e.R7$(5),e.SpI(" ",(null==n?null:n.display_name)||(null==n?null:n.name)," "),e.R7$(5),e.SpI(" ",null==n||null==n.zone?null:n.zone.display_name," "),e.R7$(3),e.uP7(e.bMT(16,7,"WPA.BOOK")),e.nnv(15),e.R7$(),e.Y8G("matMenuTriggerFor",s),e.R7$(9),e.JRh(e.bMT(27,9,"WPA.FAVOURITES_REMOVE"))}}function Oe(t,c){if(1&t&&(e.qex(0),e.DNE(1,Ge,45,37,"div",11)(2,je,28,11,"div",11),e.nI1(3,"async"),e.bVm()),2&t){const n=e.XpG();e.R7$(),e.Y8G("ngForOf",n.spaces),e.R7$(),e.Y8G("ngForOf",e.bMT(3,2,n.assets))}}function De(t,c){1&t&&(e.j41(0,"div",31),e.nrm(1,"img",32),e.j41(2,"p",33),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&t&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"WPA.FAVOURITES_EMPTY")," "))}const S=[];let B=(()=>{class t extends p.Tv{get spaces(){return this._settings.get("favourite_spaces")||S}get desks(){return this._settings.get(W.S)||S}get parking_spaces(){return this._settings.get(b.ZM)||S}level(n){return this._org.levelWithID(n?.zones||[])}constructor(n,i,s,o,a,l){super(),this._org=n,this._settings=i,this._space_pipe=s,this._event_form=o,this._booking_form=a,this._router=l,this.assets=(0,T.zV)([this._booking_form.loadResourceList("desks"),this._booking_form.loadResourceList("parking-spaces")]).pipe((0,h.T)(([_,g])=>[..._.filter(({id:u})=>this.desks.includes(u)).map(u=>({...u,type:"desk"})),...g.filter(({id:u})=>this.parking_spaces.includes(u)).map(u=>({...u,type:"parking"}))]),(0,F.t)(1))}ngOnInit(){}toggleFavourite(n,i){let s=this.spaces,o="favourite_spaces";switch(n){case"desk":s=this.desks,o=W.S;break;case"parking":s=this.parking_spaces,o=b.ZM}s.includes(i)?this._settings.saveUserSetting(o,s.filter(l=>l!==i)):this._settings.saveUserSetting(o,[...s,i])}newSpaceMeeting(n){var i=this;return(0,m.A)(function*(){const s=yield i._space_pipe.transform(n);s&&(i._event_form.newForm(),i._event_form.form.patchValue({resources:[s]}),i._settings.get("app.new_features")?i._router.navigate(["/book","meeting"]):i._router.navigate(["/book","spaces"]))})()}newBooking(n,i){var s=this;return(0,m.A)(function*(){i&&(s._settings.get("app.new_features")?s._router.navigate(["/book","desk"===n?"new-desk":"new-parking"]):s._router.navigate(["/book","desk"===n?"desks":"parking"]),setTimeout(()=>{s._booking_form.newForm(),s._booking_form.setOptions({type:n}),s._booking_form.form.patchValue({resources:[i],asset_id:i.id,booking_type:n})},100))})()}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(L.yb),e.rXU(p.h$),e.rXU($.J),e.rXU(I.Ws),e.rXU(b.nx),e.rXU(v.Ix))};static#n=this.\u0275cmp=e.VBU({type:t,selectors:[["landing-favourites"]],features:[e.Jv_([$.J]),e.Vt3],decls:8,vars:6,consts:()=>{let n,i,s,o,a;return n=$localize`:␟e5191f926bd1e4e3a04904f3ed70be128d0df68e␟8885797130863755638:{VAR_PLURAL, plural, =1 {Resource } other {Resources }}`,n=e.k04(n,{VAR_PLURAL:"\ufffd1\ufffd"}),i=$localize`:␟9cfeafbe7fccbc1ea0e77b117ee30a235d3fbcbb␟1802740986701741685: ${"\ufffd0\ufffd"}:INTERPOLATION: ${n}:ICU: `,s=$localize`:␟292b0c8f5459f832824fbde4939054e5d313cfac␟3604407389403754414:{VAR_PLURAL, plural, =1 {Person } other {People }}`,s=e.k04(s,{VAR_PLURAL:"\ufffd1\ufffd"}),o=$localize`:␟3debb02c945d77818d916bf21e734def0311a492␟5508454923022029915: ${"\ufffd0\ufffd"}:INTERPOLATION: ${s}:ICU: `,a=$localize`:␟477a2990dc9e7a47c36b57d54f8150408a0c309b␟8490385903680845804: ${"\ufffd0\ufffd"}:INTERPOLATION: `,[["empty_state",""],["space_placeholder",""],["menu","matMenu"],["asset_placeholder",""],i,o,a,[1,"flex","items-center","justify-between","py-2","mx-2","border-b","border-base-200"],[1,"mx-2"],[1,"flex-1","h-1/2","w-full","space-y-2","overflow-auto","pt-4","divide-y","divide-base-200"],[4,"ngIf","ngIfElse"],["class","flex flex-col items-center mx-2 pt-4 space-y-2 relative","item","",4,"ngFor","ngForOf"],["item","",1,"flex","flex-col","items-center","mx-2","pt-4","space-y-2","relative"],[1,"flex","w-full","items-center","space-x-2","relative"],[1,"w-20","h-20","overflow-hidden","rounded","relative","flex","items-center","justify-center","bg-neutral"],["auth","","class","absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 object-cover min-w-full min-h-full",3,"source",4,"ngIf","ngIfElse"],[1,"h-20","flex-1","w-1/2"],[1,"truncate","mb-4","w-full","pr-12"],[1,"flex","items-center","text-xs","opacity-60","truncate","space-x-2","mb-2"],[1,"text-blue-500"],[1,"flex","items-center","text-xs","opacity-60","truncate","space-x-2"],["btn","","name","book-favourite","matRipple","",1,"w-full","inverse",3,"click"],["icon","","name","favourite-more",1,"absolute","top-2","right-0","bg-base-200","!rounded","!m-0",3,"matMenuTriggerFor"],["xPosition","before"],["name","landing-remove-favourite","mat-menu-item","",1,"flex","items-center","space-x-2",3,"click"],[1,"text-2xl"],["auth","",1,"absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2","object-cover","min-w-full","min-h-full",3,"source"],["src","assets/icons/room-placeholder.svg",1,"m-auto"],[1,"h-20"],[1,"truncate","mb-4"],[1,"m-auto",3,"src"],[1,"w-full","h-full","flex","flex-col","items-center","justify-center","space-y-2","p-8"],["src","assets/icons/no-favourites.svg"],[1,"opacity-60","text-sm","text-center"]]},template:function(i,s){if(1&i&&(e.j41(0,"div",7)(1,"h2",8),e.pXf(2,4),e.k0s()(),e.j41(3,"div",9),e.DNE(4,Oe,4,4,"ng-container",10),e.nI1(5,"async"),e.k0s(),e.DNE(6,De,5,3,"ng-template",null,0,e.C5r)),2&i){let o;const a=e.sdS(7);e.R7$(2),e.uP7((null==s.spaces?null:s.spaces.length)||0)(null==s.spaces?null:s.spaces.length),e.nnv(2),e.R7$(2),e.Y8G("ngIf",(null==s.spaces?null:s.spaces.length)||(null==(o=e.bMT(5,4,s.assets))?null:o.length))("ngIfElse",a)}},dependencies:[d.Sq,d.bT,A.R,w.U,E.kk,E.fb,E.Cp,k.r6,d.Jj,x.D9,$.J],styles:["[user][_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}\n\n/*# sourceMappingURL=landing-favourites.component.ts-angular-inline--92.css.map*/"]})}return t})();const Ue=()=>["/book","meeting"],we=()=>["/book","new-desk"],Ve=()=>["/book","new-parking"];function Xe(t,c){1&t&&(e.j41(0,"a",3)(1,"div",4),e.nrm(2,"img",5),e.k0s(),e.j41(3,"div",6),e.EFF(4,"Book a Room"),e.k0s()()),2&t&&e.Y8G("routerLink",e.lJ4(1,Ue))}function Ye(t,c){1&t&&(e.j41(0,"a",3)(1,"div",4),e.nrm(2,"img",7),e.k0s(),e.j41(3,"div",6),e.EFF(4,"Book a Desk"),e.k0s()()),2&t&&e.Y8G("routerLink",e.lJ4(1,we))}function We(t,c){1&t&&(e.j41(0,"a",3)(1,"div",4),e.nrm(2,"img",8),e.k0s(),e.j41(3,"div",6),e.EFF(4,"Book a Parking Space"),e.k0s()()),2&t&&e.Y8G("routerLink",e.lJ4(1,Ve))}let z=(()=>{class t{get features(){return this._settings.get("app.features")||[]}constructor(n){this._settings=n}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(p.h$))};static#n=this.\u0275cmp=e.VBU({type:t,selectors:[["landing-quick-links"]],decls:6,vars:3,consts:[[1,"sm:text-lg","font-medium","mb-2","sm:mb-4","px-4"],[1,"flex","w-full","overflow-auto","space-x-2","px-4","mb-4"],["matRipple","","class","w-64 p-2 rounded shadow border border-base-200 flex items-center space-x-4 bg-base-100",3,"routerLink",4,"ngIf"],["matRipple","",1,"w-64","p-2","rounded","shadow","border","border-base-200","flex","items-center","space-x-4","bg-base-100",3,"routerLink"],[1,"min-w-[4rem]","h-16","rounded","bg-base-200","flex","items-center","justify-center"],["src","assets/icons/room-placeholder.svg",1,"m-auto"],[1,"text-xl"],["src","assets/icons/desk-placeholder.svg",1,"m-auto"],["src","assets/icons/car-placeholder.svg",1,"m-auto"]],template:function(i,s){1&i&&(e.j41(0,"h3",0),e.EFF(1," Make a Reservation "),e.k0s(),e.j41(2,"div",1),e.DNE(3,Xe,5,2,"a",2)(4,Ye,5,2,"a",2)(5,We,5,2,"a",2),e.k0s()),2&i&&(e.R7$(3),e.Y8G("ngIf",s.features.includes("spaces")),e.R7$(),e.Y8G("ngIf",s.features.includes("desks")),e.R7$(),e.Y8G("ngIf",s.features.includes("parking")))},dependencies:[d.bT,k.r6,v.Wk]})}return t})();var K=r(2730),Be=r(2587),ze=r(1765),Ke=r(7547);const J=()=>["/your-bookings"];function Je(t,c){if(1&t){const n=e.RV6();e.j41(0,"event-card",12),e.bIt("edit",function(){e.eBV(n);const s=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.edit(s))})("remove",function(){e.eBV(n);const s=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.remove(s))}),e.k0s()}if(2&t){const n=e.XpG().$implicit;e.Y8G("event",n)("show_day",!0)}}function Qe(t,c){if(1&t){const n=e.RV6();e.j41(0,"booking-card",13),e.bIt("edit",function(){e.eBV(n);const s=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.editBooking(s))})("remove",function(){e.eBV(n);const s=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.remove(s))})("end",function(){e.eBV(n);const s=e.XpG().$implicit,o=e.XpG(2);return e.Njj(o.end(s))}),e.k0s()}if(2&t){const n=e.XpG().$implicit;e.Y8G("booking",n)("show_day",!0)}}function Ze(t,c){if(1&t&&(e.qex(0)(1,9),e.DNE(2,Je,1,2,"event-card",10)(3,Qe,1,2,"booking-card",11),e.bVm()()),2&t){const n=c.$implicit,i=e.XpG(2);e.R7$(),e.Y8G("ngSwitch",i.type(n)),e.R7$(),e.Y8G("ngSwitchCase","event"),e.R7$(),e.Y8G("ngSwitchCase","booking")}}function He(t,c){if(1&t&&(e.qex(0),e.DNE(1,Ze,4,3,"ng-container",8),e.nI1(2,"async"),e.nI1(3,"slice"),e.bVm()),2&t){const n=e.XpG();e.R7$(),e.Y8G("ngForOf",e.brH(3,4,e.bMT(2,2,n.upcoming_events),0,5))("ngForTrackBy",n.trackByFn)}}function qe(t,c){1&t&&(e.j41(0,"div",14),e.nrm(1,"img",15),e.j41(2,"p",16),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&t&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"WPA.NO_UPCOMING_BOOKINGS")," "))}let Q=(()=>{class t extends p.Tv{type(n){return n instanceof b.Qr?"booking":"event"}constructor(n,i,s,o,a,l){super(),this._state=n,this._event_form=i,this._booking_form=s,this._router=o,this._dialog=a,this._settings=l,this.upcoming_events=this._state.upcoming_events}ngOnInit(){this.subscription("poll",this._state.pollUpcomingEvents())}trackByFn(n,i){return i?.id}edit(n){this._router.navigate(["/book","meeting","form"]),this._event_form.newForm(n)}editBooking(n){this._router.navigate(["/book",`new-${n.type}`]),this._booking_form.newForm(n),setTimeout(()=>{this._booking_form.form.patchValue({resources:[{id:n.asset_id,name:n.asset_name||n.description}],asset_id:n.asset_id})},100)}remove(n){var i=this;return(0,m.A)(function*(){const s=`${(0,K.GP)(n.date,"dd MMM yyyy h:mma")}`,a=`Delete the booking for ${n instanceof I.LR?n.space?.display_name:n.asset_name||n.asset_id} at ${s}`,l=yield(0,p.GE)({title:"Delete booking",content:a,icon:{content:"delete"}},i._dialog);"done"===l.reason&&(l.loading("Requesting booking deletion..."),yield(n instanceof I.LR?I.Nn:b.UN)(n.id,{calendar:i._settings.get("app.no_user_calendar")?null:(0,p.Ny)()?.email,system_id:n.system?.id}).toPromise().catch(_=>{throw(0,p.UG)(`Unable to delete booking. ${_}`),l.close(),_}),(0,p.VX)("Successfully deleted booking."),i._state.refreshUpcomingEvents(),i._dialog.closeAll())})()}end(n){var i=this;return(0,m.A)(function*(){const s=`${(0,K.GP)(n.date,"dd MMM yyyy h:mma")}`,a=`End the booking for ${n.asset_name||n.asset_id} at ${s}`,l=yield(0,p.GE)({title:"End booking",content:a,icon:{content:"delete"}},i._dialog);"done"===l.reason&&(l.loading("Ending booking..."),yield(0,b.Z$)(n.id,!1).toPromise().catch(_=>{throw(0,p.UG)(`Unable to end booking. ${_}`),l.close(),_}),(0,p.VX)("Successfully ended booking."),i._state.refreshUpcomingEvents(),i._dialog.closeAll())})()}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(M),e.rXU(I.Ws),e.rXU(b.nx),e.rXU(v.Ix),e.rXU(Be.bZ),e.rXU(p.h$))};static#n=this.\u0275cmp=e.VBU({type:t,selectors:[["landing-upcoming"]],features:[e.Vt3],decls:16,vars:17,consts:[["empty_state",""],[1,"py-2"],[1,"flex","items-center","justify-between","mb-2","sm:mb-4","px-4"],[1,"sm:text-lg","font-medium"],["btn","","name","upcoming-view-all",1,"inverse","hidden","sm:flex",3,"routerLink"],["name","upcoming-view-all-mobile",1,"inverse","flex","sm:hidden","text-blue-500","underline","relative","top-8",3,"routerLink"],[1,"space-y-4","px-4"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngSwitch"],[3,"event","show_day","edit","remove",4,"ngSwitchCase"],[3,"booking","show_day","edit","remove","end",4,"ngSwitchCase"],[3,"edit","remove","event","show_day"],[3,"edit","remove","end","booking","show_day"],[1,"w-full","p-8","flex","flex-col","items-center","justify-center","space-y-4"],["src","assets/img/no-events.svg",1,"mr-4"],[1,"opacity-30"]],template:function(i,s){if(1&i&&(e.j41(0,"div",1)(1,"div",2)(2,"div",3),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"a",4),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"a",5),e.EFF(9),e.nI1(10,"translate"),e.k0s()(),e.j41(11,"div",6),e.DNE(12,He,4,8,"ng-container",7),e.nI1(13,"async"),e.k0s()(),e.DNE(14,qe,5,3,"ng-template",null,0,e.C5r)),2&i){let o;const a=e.sdS(15);e.R7$(3),e.SpI(" ",e.bMT(4,7,"WPA.YOUR_BOOKINGS")," "),e.R7$(2),e.Y8G("routerLink",e.lJ4(15,J)),e.R7$(),e.SpI(" ",e.bMT(7,9,"WPA.VIEW_ALL")," "),e.R7$(2),e.Y8G("routerLink",e.lJ4(16,J)),e.R7$(),e.SpI(" ",e.bMT(10,11,"WPA.VIEW_ALL")," "),e.R7$(3),e.Y8G("ngIf",null==(o=e.bMT(13,13,s.upcoming_events))?null:o.length)("ngIfElse",a)}},dependencies:[d.Sq,d.bT,d.ux,d.e1,ze.w,Ke.F,v.Wk,d.Jj,d.P9,x.D9]})}return t})();var en=r(3206),nn=r(7434),tn=r(895);const sn=t=>({name:t});function on(t,c){1&t&&e.nrm(0,"topbar",13)}function an(t,c){if(1&t){const n=e.RV6();e.j41(0,"button",17),e.bIt("click",function(){e.eBV(n);const s=e.XpG(2);return e.Njj(s.tab="people")}),e.j41(1,"app-icon"),e.EFF(2,"people"),e.k0s(),e.j41(3,"div"),e.EFF(4),e.nI1(5,"uppercase"),e.nI1(6,"translate"),e.k0s()()}if(2&t){const n=e.XpG(2);e.AVh("border-b","people"!==n.tab)("border-base-200","people"!==n.tab)("bg-base-200","people"!==n.tab)("bg-opacity-5","people"!==n.tab),e.R7$(4),e.SpI(" ",e.bMT(6,11,e.bMT(5,9,"WPA.COLLEAGUES"))," ")}}function ln(t,c){1&t&&e.nrm(0,"landing-colleagues")}function cn(t,c){1&t&&e.nrm(0,"landing-favourites")}function rn(t,c){if(1&t){const n=e.RV6();e.j41(0,"div",14)(1,"div",15),e.DNE(2,an,7,13,"button",16),e.j41(3,"button",17),e.bIt("click",function(){e.eBV(n);const s=e.XpG();return e.Njj(s.tab="fav")}),e.j41(4,"app-icon"),e.EFF(5,"favorite"),e.k0s(),e.j41(6,"div"),e.EFF(7),e.nI1(8,"translate"),e.k0s()()(),e.j41(9,"div",18),e.DNE(10,ln,1,0,"landing-colleagues",11)(11,cn,1,0,"landing-favourites",11),e.k0s()()}if(2&t){const n=e.XpG();e.R7$(2),e.Y8G("ngIf",!n.hide_colleagues),e.R7$(),e.AVh("border-b","fav"!==n.tab)("border-base-200","fav"!==n.tab)("bg-base-200","fav"!==n.tab)("bg-opacity-5","fav"!==n.tab),e.R7$(4),e.JRh(e.bMT(8,12,"WPA.FAVOURITES")),e.R7$(3),e.Y8G("ngIf","people"===n.tab&&!n.hide_colleagues),e.R7$(),e.Y8G("ngIf","fav"===n.tab||n.hide_colleagues)}}function _n(t,c){if(1&t&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&t){const n=e.XpG();e.R7$(),e.SpI(" ",n.building.address||n.building.display_name||n.building.name," ")}}function pn(t,c){1&t&&e.nrm(0,"landing-quick-links")}function un(t,c){1&t&&e.nrm(0,"footer-menu")}const dn=[{path:"",component:(()=>{class t{get hide_nav(){return"true"===localStorage.getItem("PlaceOS.hide_nav")}get date(){return(0,en.c)(this.time||Date.now())}get user(){return(0,p.Ny)()}get building(){return this._org.building}get hide_landing_sidebar(){return this._settings.get("app.general.hide_landing_sidebar")}get hide_colleagues(){return this._settings.get("app.general.hide_colleagues")}get show_quick_links(){return this._settings.get("app.general.show_quick_links")}constructor(n,i){this._org=n,this._settings=i,this.tab="people"}static#e=this.\u0275fac=function(i){return new(i||t)(e.rXU(L.yb),e.rXU(p.h$))};static#n=this.\u0275cmp=e.VBU({type:t,selectors:[["app-landing"]],decls:20,vars:15,consts:[["class","z-10",4,"ngIf"],[1,"flex","flex-1","h-1/2","bg-base-200"],["class","relative hidden sm:flex flex-col w-[18rem] h-full overflow-hidden bg-base-100 border-r border-base-300",4,"ngIf"],[1,"flex-1","h-full","w-1/2","sm:px-4","overflow-auto","z-0"],[1,"sticky","top-0","z-50","bg-ternary","px-4","sm:rounded-b","flex","items-center","justify-between","overflow-hidden"],[1,""],[1,"sm:text-xl","font-medium"],["date","",1,"text-sm","sm:text-base"],["class","text-sm sm:text-base",4,"ngIf"],[1,"h-32","pt-4"],["src","assets/img/landing.svg"],[4,"ngIf"],[1,"mx-4","w-[calc(100%-2rem)]","h-px","bg-base-200","mb-2"],[1,"z-10"],[1,"relative","hidden","sm:flex","flex-col","w-[18rem]","h-full","overflow-hidden","bg-base-100","border-r","border-base-300"],[1,"flex","items-center","divide-x","divide-base-200"],["matRipple","","class","flex-1 font-medium p-2 flex items-center justify-center space-x-2",3,"border-b","border-base-200","bg-base-200","bg-opacity-5","click",4,"ngIf"],["matRipple","",1,"flex-1","font-medium","p-2","flex","items-center","justify-center","space-x-2",3,"click"],[1,"flex-1","w-full","h-1/2"],[1,"text-sm","sm:text-base"]],template:function(i,s){1&i&&(e.DNE(0,on,1,0,"topbar",0),e.j41(1,"div",1),e.DNE(2,rn,12,14,"div",2),e.j41(3,"div",3)(4,"header",4)(5,"div",5)(6,"div",6),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"div",7),e.EFF(10),e.nI1(11,"date"),e.k0s(),e.DNE(12,_n,2,1,"div",8),e.k0s(),e.j41(13,"div",9),e.nrm(14,"img",10),e.k0s()(),e.DNE(15,pn,1,0,"landing-quick-links",11),e.nrm(16,"landing-availability")(17,"div",12)(18,"landing-upcoming"),e.k0s()(),e.DNE(19,un,1,0,"footer-menu",11)),2&i&&(e.Y8G("ngIf",!s.hide_nav),e.R7$(2),e.Y8G("ngIf",!s.hide_landing_sidebar),e.R7$(5),e.SpI(" ",e.i5U(8,7,"WPA.WELCOME_MESSAGE",e.eq3(13,sn,null==s.user?null:s.user.name))," "),e.R7$(3),e.SpI(" ",e.i5U(11,10,s.date,"fullDate")," "),e.R7$(2),e.Y8G("ngIf",(null==s.building?null:s.building.address)||(null==s.building?null:s.building.name)),e.R7$(3),e.Y8G("ngIf",s.show_quick_links),e.R7$(4),e.Y8G("ngIf",!s.hide_nav))},dependencies:[d.bT,nn.G,tn.e,A.R,k.r6,Y,X,Q,B,z,d.Pc,d.vh,x.D9],styles:["[_nghost-%COMP%]{position:absolute;inset:0;overflow:hidden;display:flex;flex-direction:column}main[_ngcontent-%COMP%]{min-height:50%}\n\n/*# sourceMappingURL=landing.component.ts-angular-inline--93.css.map*/"]})}return t})()}];let gn=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#n=this.\u0275mod=e.$C({type:t});static#t=this.\u0275inj=e.G2t({imports:[d.MD,H.p,R.YN,v.iI.forChild(dn)]})}return t})()}}]);
//# sourceMappingURL=apps_workplace_src_app_landing_landing_module_ts.js.map