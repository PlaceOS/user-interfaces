"use strict";(self.webpackChunkworkplace=self.webpackChunkworkplace||[]).push([["apps_workplace_src_app_landing_landing_module_ts"],{2600:(mn,I,r)=>{r.r(I),r.d(I,{AppLandingModule:()=>un});var p=r(6477),N=r(9542),v=r(854),K=r(3696),g=r(3610),M=r(3874),F=r(5912),m=r(1670),f=r(7502),L=r(4505),O=r(7716),S=r(4139),R=r(9151),E=r(9095),h=r(6942),Z=r(9128),$=r(8759),X=r(823),H=r(7418),z=r(5670),ee=r(2886),x=r(5915),T=r(3149),ne=r(9434),te=r(7625),ie=r(5845),e=r(9445);let w=(()=>{class t extends g.cx{constructor(n,i,o,s){super(),this._calendar=n,this._schedule=i,this._org=o,this._settings=s,this._options=new L.X({}),this._loading=new L.X(""),this._loading_spaces=new L.X(!1),this._contacts=new L.X([]),this._level_occupancy=new L.X([]),this._space_list=this._org.active_building.pipe((0,R.h)(l=>!!l),(0,E.w)(l=>(0,ee.u2)(l.id)),(0,h.U)(l=>l.filter(c=>c.bookable)),(0,h.U)(l=>(0,x.TJ)(l,{date:Date.now(),duration:60,space:null,host:(0,g.ar)()},this._org.building.booking_rules)),(0,Z.d)(1)),this._space_statuses=this._space_list.pipe((0,$.b)(l=>this.unsubWith("bind:")),(0,E.w)(l=>(0,O.aj)((l||[]).map(c=>{const _=(0,f.rTZ)(c.id,"Bookings").binding("status"),d=_.listen();return this.subscription(`bind:${c.id}`,_.bind()),d}))),(0,Z.d)(1)),this.free_space_list=(0,O.aj)([this._space_list,this._space_statuses]).pipe((0,h.U)(([l,c])=>(l||[]).filter((_,d)=>"free"===c[d]).sort((_,d)=>_.capacity-d.capacity)),(0,Z.d)(1)),this.upcoming_events=this._schedule.filtered_bookings.pipe((0,h.U)(l=>l.filter(c=>"done"!==c.state&&(0,ie.Z)(c.date,Date.now())))),this.contacts=this._contacts.asObservable(),this.options=this._options.asObservable(),this.loading=this._loading.asObservable(),this.loading_spaces=this._loading_spaces.asObservable(),this.search_fn=l=>this._settings.get("app.basic_user_search")?(0,f.E4d)({q:l,authority_id:(0,f.N9E)()?.id}).pipe((0,h.U)(({data:c})=>c.map(_=>new T.mO(_)))):(0,T.VE)(l),this.search_results=this._options.pipe((0,X.b)(500),(0,E.w)(({search:l})=>(this._loading.next("Loading users..."),l?this.search_fn(l).pipe((0,H.K)(()=>(0,S.of)([]))):(0,S.of)([]))),(0,$.b)(()=>this._loading.next("")),(0,Z.d)(1)),this.level_occupancy=this._level_occupancy.asObservable(),this.init()}init(){var n=this;return(0,m.Z)(function*(){yield n._org.initialised.pipe((0,z.P)(s=>s)).toPromise(),n.updateContacts(),n.subscription("building",n._org.active_building.pipe((0,R.h)(s=>!!s)).subscribe(()=>{n.updateBuildingMetadata(),n.updateOccupancy({})}));let i=n._org.binding("area_management");if(!i)return;const o=(0,f.rTZ)(i,"AreaManagement").binding("overview");o.listen().subscribe(s=>n.updateOccupancy(s||{})),o.bind()})()}setOptions(n){this._options.next({...this._options.getValue(),...n})}pollUpcomingEvents(n=3e5){return this._schedule.setDate(Date.now()),this._schedule.startPolling(n)}stopPollingUpcomingEvents(){this._schedule.stopPolling()}refreshUpcomingEvents(){this._schedule.setDate(Date.now()),this._schedule.triggerPoll()}updateContacts(){var n=this;return(0,m.Z)(function*(){const i=yield(0,f.rlq)((0,g.ar)().id,"contacts").toPromise();n._contacts.next((i.details instanceof Array?i.details:[]).map(s=>new T.n5(s)))})()}addContact(n){var i=this;return(0,m.Z)(function*(){let o=[...i._contacts.getValue()];o.push(n),o=(0,g.Tw)(o,"email");const s=yield(0,f.Ymr)((0,g.ar)().id,{name:"contacts",description:"Contacts for the User",details:o}).toPromise();i._contacts.next((s.details instanceof Array?s.details:[]).map(c=>new T.n5(c)))})()}removeContact(n){var i=this;return(0,m.Z)(function*(){let o=[...i._contacts.getValue()];o=o.filter(c=>c.email!==n.email);const s=yield(0,f.Ymr)((0,g.ar)().id,{name:"contacts",description:"Contacts for the User",details:o}).toPromise();i._contacts.next((s.details instanceof Array?s.details:[]).map(c=>new T.n5(c)))})()}updateOccupancy(n){var i=this;return(0,m.Z)(function*(){const o=i._org.levelsForBuilding()||[];o.sort((s,l)=>n[s.id]?.recommendation-n[l.id]?.recommendation),i._level_occupancy.next(o)})()}updateBuildingMetadata(){var n=this;return(0,m.Z)(function*(){n._level_occupancy.next([]);const i=n._org.binding("occupancy");if(!i)return;const{sys:o,module:s,index:l}=i,c=(0,f.rTZ)(o,s,l);c&&(n._occupancy_binding&&n._occupancy_binding.unbind(),n._occupancy_binding=c.binding("occupancy"),n._occupancy_binding.bind(),n.subscription("occupancy_binding",n._occupancy_binding.listen().subscribe(_=>{const d=Object.keys(_).map(u=>({id:u,..._[u]}));d.sort((u,dn)=>u.recommendation_factor-dn.recommendation_factor),n._level_occupancy.next(d.map(u=>n._org.levelWithID([u.id])))})))})()}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(ne.ot),e.LFG(te.I),e.LFG(F.w7),e.LFG(g.gb))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var P=r(5306),y=r(7728),G=r(5312),C=r(8699),k=r(6198);function oe(t,a){1&t&&(e.TgZ(0,"div",5),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"WPA.AVAILABLE_NOW")," "))}function se(t,a){1&t&&(e.TgZ(0,"div",6)(1,"div"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"WPA.SPACES")))}function ae(t,a){if(1&t&&e._UZ(0,"img",18),2&t){const n=e.oxw().$implicit;e.Q6J("src",null==n?null:n.images[0],e.LSH)}}function le(t,a){1&t&&e._UZ(0,"img",19)}const ce=function(){return["/explore"]},re=function(t){return{level:t}};function _e(t,a){if(1&t&&(e.TgZ(0,"button",10)(1,"div",11),e.YNc(2,ae,1,1,"img",12),e.YNc(3,le,1,0,"ng-template",null,13,e.W1O),e.qZA(),e.TgZ(5,"div",14)(6,"div",15),e._uU(7),e.qZA(),e.TgZ(8,"div",16)(9,"app-icon",17),e._uU(10,"place"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.qZA()()()()),2&t){const n=a.$implicit,i=e.MAs(4),o=e.oxw(2);let s;e.Q6J("routerLink",e.DdM(6,ce))("queryParams",e.VKq(7,re,n.id)),e.xp6(2),e.Q6J("ngIf",null==n||null==n.images?null:n.images.length)("ngIfElse",i),e.xp6(5),e.hij(" ",n.display_name||n.name," "),e.xp6(5),e.Oqu((null==(s=o.building(n.parent_id))?null:s.display_name)||(null==(s=o.building(n.parent_id))?null:s.name))}}function ge(t,a){1&t&&(e.TgZ(0,"span",20),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"WPA.NO_FREE_SPACES")," "))}function pe(t,a){if(1&t&&(e.TgZ(0,"div",7),e.YNc(1,_e,13,9,"button",8),e.ALo(2,"async"),e.YNc(3,ge,3,3,"span",9),e.ALo(4,"async"),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,2,n.levels_free)),e.xp6(2),e.Q6J("ngIf",!e.lcZ(4,4,n.levels_free).length)}}function ue(t,a){1&t&&e._UZ(0,"mat-spinner",22)}function de(t,a){if(1&t&&(e.TgZ(0,"div",6)(1,"div"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,ue,1,0,"mat-spinner",21),e.ALo(5,"async"),e.qZA()),2&t){const n=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"WPA.ROOMS")),e.xp6(2),e.Q6J("ngIf",e.lcZ(5,4,n.loading_spaces))}}function me(t,a){if(1&t&&(e._UZ(0,"img",18),e.ALo(1,"async"),e.ALo(2,"space")),2&t){const n=e.oxw().$implicit;let i;e.Q6J("src",null==(i=e.lcZ(1,1,e.lcZ(2,3,n.id)))?null:i.images[0],e.LSH)}}function fe(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){const s=e.CHM(n).$implicit,l=e.oxw(2);return e.KtG(l.book(s))}),e.TgZ(1,"div",25),e.YNc(2,me,3,5,"img",12),e.ALo(3,"async"),e.ALo(4,"space"),e.qZA(),e.TgZ(5,"div",14)(6,"div",15),e._uU(7),e.qZA(),e.TgZ(8,"div",16)(9,"app-icon",17),e._uU(10,"place"),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.qZA()()()()}if(2&t){const n=a.$implicit,i=e.oxw(2),o=e.MAs(7);let s,l;e.xp6(2),e.Q6J("ngIf",null==(s=e.lcZ(3,4,e.lcZ(4,6,n.id)))||null==s.images?null:s.images.length)("ngIfElse",o),e.xp6(5),e.hij(" ",n.display_name||n.name," "),e.xp6(5),e.Oqu((null==(l=i.level(n.zones))?null:l.display_name)||(null==(l=i.level(n.zones))?null:l.name))}}function ve(t,a){1&t&&(e.TgZ(0,"span",20),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"WPA.NO_FREE_ROOMS")," "))}function he(t,a){if(1&t&&(e.TgZ(0,"div",7),e.YNc(1,fe,13,8,"button",23),e.ALo(2,"async"),e.YNc(3,ve,3,3,"span",9),e.ALo(4,"async"),e.qZA()),2&t){const n=e.oxw();let i;e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,3,n.space_list))("ngForTrackBy",n.trackBySpaceId),e.xp6(2),e.Q6J("ngIf",!(null!=(i=e.lcZ(4,5,n.space_list))&&i.length))}}function xe(t,a){1&t&&e._UZ(0,"img",26)}let D=(()=>{class t{trackBySpaceId(n,i){return i.id}level(n){return this._org.levelWithID(n)}building(n){return this._org.buildings.find(i=>i.id===n)}get hide_spaces(){return this._settings.get("app.general.hide_spaces")}get hide_rooms(){return this._settings.get("app.general.hide_rooms")}constructor(n,i,o,s){this._state=n,this._org=i,this._settings=o,this._explore=s,this.space_list=this._state.free_space_list,this.loading_spaces=this._state.loading_spaces,this.levels_free=this._state.level_occupancy,this.book=l=>this._explore.bookSpace(l,!0)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(w),e.Y36(F.w7),e.Y36(g.gb),e.Y36(M.aB))},t.\u0275cmp=e.Xpm({type:t,selectors:[["landing-availability"]],features:[e._Bn([M.aB])],decls:8,vars:5,consts:[[1,"py-2"],["class","sm:text-lg font-medium mb-2 sm:mb-4 px-4",4,"ngIf"],["class","flex items-center text-sm sm:text-base px-4 space-x-2",4,"ngIf"],["class","w-full overflow-auto flex items-center space-x-4 px-4 py-2",4,"ngIf"],["space_placeholder",""],[1,"sm:text-lg","font-medium","mb-2","sm:mb-4","px-4"],[1,"flex","items-center","text-sm","sm:text-base","px-4","space-x-2"],[1,"w-full","overflow-auto","flex","items-center","space-x-4","px-4","py-2"],["name","landing-view-space","matRipple","","class","flex items-center h-24 min-w-[12.5rem] rounded-lg bg-white dark:bg-[#1F2021] shadow p-4 space-x-2",3,"routerLink","queryParams",4,"ngFor","ngForOf"],["class","opacity-60 text-sm mb-2",4,"ngIf"],["name","landing-view-space","matRipple","",1,"flex","items-center","h-24","min-w-[12.5rem]","rounded-lg","bg-white","dark:bg-[#1F2021]","shadow","p-4","space-x-2",3,"routerLink","queryParams"],[1,"min-w-[4.5rem]","h-[4.5rem]","rounded","bg-gray-200","dark:bg-neutral-800","flex","items-center","justify-center"],["class","min-h-full object-cover",3,"src",4,"ngIf","ngIfElse"],["placeholder",""],[1,"text-left"],[1,"max-w-full","truncate","px-1.5"],[1,"max-w-full","truncate","text-sm","opacity-60","flex","items-center"],[1,"text-blue-500","text-lg"],[1,"min-h-full","object-cover",3,"src"],["src","assets/icons/desk-placeholder.svg",1,"m-auto"],[1,"opacity-60","text-sm","mb-2"],["diameter","24",4,"ngIf"],["diameter","24"],["name","landing-book-room","matRipple","","class","flex items-center h-24 min-w-[12.5rem] rounded-lg bg-white dark:bg-[#1F2021] shadow p-4 space-x-2",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],["name","landing-book-room","matRipple","",1,"flex","items-center","h-24","min-w-[12.5rem]","rounded-lg","bg-white","dark:bg-[#1F2021]","shadow","p-4","space-x-2",3,"click"],[1,"w-[4.5rem]","h-[4.5rem]","rounded","bg-gray-200","dark:bg-neutral-800","overflow-hidden","flex","items-center","justify-center"],["src","assets/icons/room-placeholder.svg",1,"m-auto"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.YNc(1,oe,3,3,"div",1),e.YNc(2,se,4,3,"div",2),e.YNc(3,pe,5,6,"div",3),e.YNc(4,de,6,6,"div",2),e.YNc(5,he,5,7,"div",3),e.qZA(),e.YNc(6,xe,1,0,"ng-template",null,4,e.W1O)),2&n&&(e.xp6(1),e.Q6J("ngIf",!i.hide_rooms||!i.hide_spaces),e.xp6(1),e.Q6J("ngIf",!i.hide_spaces),e.xp6(1),e.Q6J("ngIf",!i.hide_spaces),e.xp6(1),e.Q6J("ngIf",!i.hide_rooms),e.xp6(1),e.Q6J("ngIf",!i.hide_rooms))},dependencies:[p.sg,p.O5,P.o,y.wG,G.Ou,v.rH,p.Ov,C.X$,k.X],styles:["*[_ngcontent-%COMP%]{flex-shrink:0}\n/*# sourceMappingURL=landing-availability.component.ts-angular-inline--83.css.map*/"]}),t})();var Ae=r(9685),b=r(9314),be=r(2423);const Le=["search_input"];function Ze(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"div",15)(1,"div",16),e._UZ(2,"a-user-avatar",17),e.qZA(),e.TgZ(3,"div",18)(4,"div",19),e._uU(5),e.qZA(),e.TgZ(6,"div",20),e._uU(7),e.qZA(),e.TgZ(8,"div",21),e._uU(9),e.qZA()(),e.TgZ(10,"button",22)(11,"app-icon"),e._uU(12,"more_horiz"),e.qZA()(),e.TgZ(13,"mat-menu",23,24)(15,"button",25),e.NdJ("click",function(){const s=e.CHM(n).$implicit,l=e.oxw(2);return e.KtG(l.newMeeting(s))}),e.TgZ(16,"app-icon",26),e._uU(17,"today"),e.qZA(),e.TgZ(18,"div"),e._uU(19),e.ALo(20,"translate"),e.qZA()(),e.TgZ(21,"button",27),e.NdJ("click",function(){const s=e.CHM(n).$implicit,l=e.oxw(2);return e.KtG(l.removeUser(s))}),e.TgZ(22,"app-icon",26),e._uU(23,"cancel"),e.qZA(),e.TgZ(24,"div"),e._uU(25),e.ALo(26,"translate"),e.qZA()()()()}if(2&t){const n=a.$implicit,i=e.MAs(14);e.xp6(2),e.Q6J("user",n),e.xp6(2),e.Q6J("matTooltip",n.name),e.xp6(1),e.hij(" ",n.name," "),e.xp6(1),e.Q6J("matTooltip",n.organisation),e.xp6(1),e.hij(" ",n.organisation," "),e.xp6(2),e.hij(" ",n.location," "),e.xp6(1),e.Q6J("matMenuTriggerFor",i),e.xp6(9),e.Oqu(e.lcZ(20,9,"WPA.CREATE_MEETING")),e.xp6(6),e.Oqu(e.lcZ(26,11,"WPA.REMOVE_COLLEAGUE"))}}function Te(t,a){if(1&t&&(e.ynx(0),e.YNc(1,Ze,27,13,"div",14),e.ALo(2,"async"),e.BQk()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,n.contacts))}}function ye(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"button",30),e.NdJ("click",function(){const s=e.CHM(n).$implicit,l=e.oxw(3);return e.KtG(l.addUser(s))}),e.TgZ(1,"div",31),e._UZ(2,"a-user-avatar",17),e.qZA(),e.TgZ(3,"div",32)(4,"div",33),e._uU(5),e.qZA(),e.TgZ(6,"div",34),e._uU(7),e.qZA()()()}if(2&t){const n=a.$implicit;e.xp6(2),e.Q6J("user",n),e.xp6(3),e.Oqu(n.name),e.xp6(2),e.hij(" ",n.organisation," ")}}function Ce(t,a){if(1&t&&(e.ynx(0),e.YNc(1,ye,8,3,"button",29),e.ALo(2,"async"),e.BQk()),2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,n.search_results))}}function Ne(t,a){if(1&t&&(e.TgZ(0,"div",28),e.YNc(1,Ce,3,3,"ng-container",4),e.ALo(2,"async"),e.qZA()),2&t){const n=e.oxw(),i=e.MAs(23);let o;e.xp6(1),e.Q6J("ngIf",null==(o=e.lcZ(2,2,n.search_results))?null:o.length)("ngIfElse",i)}}function Fe(t,a){1&t&&(e.TgZ(0,"div",35),e._UZ(1,"img",36),e.TgZ(2,"p",37),e.SDv(3,38),e.ALo(4,"translate"),e.qZA()()),2&t&&(e.xp6(4),e.pQV(e.lcZ(4,1,"WPA.COLLEAGUES_EMPTY")),e.QtT(3))}function Oe(t,a){if(1&t&&(e.TgZ(0,"div",35)(1,"p",37),e._uU(2),e.ALo(3,"async"),e.ALo(4,"async"),e.qZA()()),2&t){const n=e.oxw();let i;e.xp6(2),e.hij(" ",null!=(i=e.lcZ(3,1,n.options))&&i.search?'Unable for find any users matching "'+(null==(i=e.lcZ(4,3,n.options))?null:i.search)+'"':"Start typing to search for users."," ")}}function Pe(t,a){1&t&&(e.TgZ(0,"div",35),e._UZ(1,"mat-spinner",39),e.TgZ(2,"p",37),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"WPA.COLLEAGUES_SEARCHING")," "))}let Q=(()=>{class t extends g.cx{constructor(n,i,o,s){var l;super(),l=this,this._state=n,this._settings=i,this._event_form=o,this._router=s,this.show_search=!1,this.contacts=this._state.contacts,this.search_results=(0,O.aj)([this._state.search_results,this._state.contacts]).pipe((0,h.U)(([c,_])=>c.filter(d=>!_.find(u=>u.id===d.id||u.email===d.email)))),this.options=this._state.options,this.loading=this._state.loading,this.addUser=function(){var c=(0,m.Z)(function*(_){yield l._state.addContact(_),(0,g.t5)(`Successfully added "${_.name}" to contacts`),l.show_search=!1});return function(_){return c.apply(this,arguments)}}(),this.removeUser=function(){var c=(0,m.Z)(function*(_){yield l._state.removeContact(_),(0,g.t5)(`Successfully removed "${_.name}" from contacts`)});return function(_){return c.apply(this,arguments)}}(),this.updateSearch=c=>this._state.setOptions({search:c})}newMeeting(n){this._event_form.newForm(),this._event_form.form.patchValue({attendees:[n]}),this._settings.get("app.new_features")?this._router.navigate(["/book","meeting"]):this._router.navigate(["/book","spaces"])}openSearch(){this.updateSearch(""),this.show_search=!0,this.timeout("open",()=>this._input_el.nativeElement.focus(),100)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(w),e.Y36(g.gb),e.Y36(x.MH),e.Y36(v.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["landing-colleagues"]],viewQuery:function(n,i){if(1&n&&e.Gf(Le,7),2&n){let o;e.iGM(o=e.CRH())&&(i._input_el=o.first)}},features:[e.qOj],decls:26,vars:22,consts:function(){let a,n,i;return a=$localize`:␟c0f95f99e44be18320d55d7ea3b39d521c5e847f␟3604407389403754414:{VAR_PLURAL, plural, =1 {Person } other {People }}`,a=e.Zx4(a,{VAR_PLURAL:"\ufffd1\ufffd"}),n=$localize`:␟df63d46581a56aeb689b521513ff65c896b6c618␟6964084933612300643: ${"\ufffd0\ufffd"}:INTERPOLATION: ${a}:ICU: `,i=$localize`:␟082b183958aaf6c9cda3dd1caba0bb3821480348␟5990245187139880203: ${"\ufffd0\ufffd"}:INTERPOLATION: `,[[1,"flex","items-center","justify-between","py-2","mx-2","border-b","border-gray-200"],[1,"mx-2"],n,[1,"flex-1","h-1/2","w-full","space-y-4","overflow-auto","pt-4"],[4,"ngIf","ngIfElse"],["btn","","name","open-colleague-search","matRipple","",1,"inverse","w-[calc(100%-1rem)]","m-2",3,"click"],["search","",1,"absolute","inset-x-2","top-2","bottom-[3.5rem]","rounded-lg","overflow-hidden","flex","flex-col","bg-white","dark:bg-neutral-600","shadow","border","border-gray-200"],["placeholder","Search for users...",1,"w-full","border-b","border-gray-200","p-2","rounded-t-lg",3,"ngModel","ngModelChange"],["search_input",""],["icon","","name","close-colleague-search",1,"absolute","top-0","right-0",3,"click"],["class","overflow-auto flex-1 h-1/2 flex flex-col space-y-2",4,"ngIf","ngIfElse"],["empty_state",""],["search_empty",""],["load_state",""],["class","flex items-center px-2 space-x-2 relative","user","",4,"ngFor","ngForOf"],["user","",1,"flex","items-center","px-2","space-x-2","relative"],[1,"text-xl","relative"],[3,"user"],[1,"leading-tight","flex-1","w-1/2"],[1,"truncate",3,"matTooltip"],[1,"text-sm","truncate",3,"matTooltip"],[1,"text-xs","opacity-60","truncate"],["icon","","name","colleague-more",1,"!rounded","bg-gray-300",3,"matMenuTriggerFor"],["xPosition","before"],["menu","matMenu"],["mat-menu-item","","name","meeting-with-colleague",1,"flex","items-center","space-x-2",3,"click"],[1,"text-2xl"],["name","remove-colleague","mat-menu-item","",1,"flex","items-center","space-x-2",3,"click"],[1,"overflow-auto","flex-1","h-1/2","flex","flex-col","space-y-2"],["matRipple","","name","add-colleague","class","flex items-center p-2 space-x-2 w-full text-left",3,"click",4,"ngFor","ngForOf"],["matRipple","","name","add-colleague",1,"flex","items-center","p-2","space-x-2","w-full","text-left",3,"click"],[1,"text-base","relative"],[1,"leading-tight"],[1,"truncate"],[1,"text-sm","truncate"],[1,"w-full","h-full","flex","flex-col","items-center","justify-center","space-y-2","p-8"],["src","assets/icons/no-contacts.svg"],[1,"opacity-60","text-sm","text-center"],i,["diameter","32"]]},template:function(n,i){if(1&n&&(e.TgZ(0,"div",0)(1,"h2",1),e.SDv(2,2),e.ALo(3,"async"),e.ALo(4,"async"),e.qZA()(),e.TgZ(5,"div",3),e.YNc(6,Te,3,3,"ng-container",4),e.ALo(7,"async"),e.qZA(),e.TgZ(8,"button",5),e.NdJ("click",function(){return i.openSearch()}),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"div",6)(12,"input",7,8),e.NdJ("ngModelChange",function(s){return i.updateSearch(s)}),e.ALo(14,"async"),e.qZA(),e.TgZ(15,"button",9),e.NdJ("click",function(){return i.show_search=!1}),e.TgZ(16,"app-icon"),e._uU(17,"close"),e.qZA()(),e.YNc(18,Ne,3,4,"div",10),e.ALo(19,"async"),e.qZA(),e.YNc(20,Fe,5,3,"ng-template",null,11,e.W1O),e.YNc(22,Oe,5,5,"ng-template",null,12,e.W1O),e.YNc(24,Pe,5,3,"ng-template",null,13,e.W1O)),2&n){const o=e.MAs(21),s=e.MAs(25);let l,c,_,d;e.xp6(4),e.pQV((null==(l=e.lcZ(3,10,i.contacts))?null:l.length)||0)(null==(c=e.lcZ(4,12,i.contacts))?null:c.length),e.QtT(2),e.xp6(2),e.Q6J("ngIf",null==(_=e.lcZ(7,14,i.contacts))?null:_.length)("ngIfElse",o),e.xp6(3),e.hij(" ",e.lcZ(10,16,"WPA.ADD")," "),e.xp6(2),e.ekj("hidden",!i.show_search),e.xp6(1),e.Q6J("ngModel",null==(d=e.lcZ(14,18,i.options))?null:d.search),e.xp6(6),e.Q6J("ngIf",!e.lcZ(19,20,i.loading))("ngIfElse",s)}},dependencies:[p.sg,p.O5,P.o,Ae.k,b.VK,b.OP,b.p6,y.wG,G.Ou,be.gM,N.Fj,N.JJ,N.On,p.Ov,C.X$],styles:["[user][_ngcontent-%COMP%]:hover button{opacity:1}[_nghost-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}\n/*# sourceMappingURL=landing-colleagues.component.ts-angular-inline--84.css.map*/"]}),t})();var A=r(3496),J=r(6485);function ke(t,a){if(1&t&&(e._UZ(0,"img",24),e.ALo(1,"async"),e.ALo(2,"space")),2&t){const n=e.oxw().$implicit;let i;e.Q6J("src",null==(i=e.lcZ(1,1,e.lcZ(2,3,n)))?null:i.images[0],e.LSH)}}function Ee(t,a){1&t&&e._UZ(0,"img",25)}function we(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"div",7)(1,"div",8)(2,"div",9),e.YNc(3,ke,3,5,"img",10),e.ALo(4,"async"),e.ALo(5,"space"),e.YNc(6,Ee,1,0,"ng-template",null,11,e.W1O),e.qZA(),e.TgZ(8,"div",12)(9,"div",13),e._uU(10),e.ALo(11,"async"),e.ALo(12,"space"),e.ALo(13,"async"),e.ALo(14,"space"),e.qZA(),e.TgZ(15,"div",14)(16,"app-icon",15),e._uU(17,"place"),e.qZA(),e.TgZ(18,"div"),e._uU(19),e.ALo(20,"async"),e.ALo(21,"space"),e.qZA()(),e.TgZ(22,"div",16)(23,"app-icon",15),e._uU(24,"people"),e.qZA(),e.TgZ(25,"div"),e.SDv(26,17),e.ALo(27,"async"),e.ALo(28,"space"),e.ALo(29,"async"),e.ALo(30,"space"),e.qZA()()()(),e.TgZ(31,"button",18),e.NdJ("click",function(){const s=e.CHM(n).$implicit,l=e.oxw(2);return e.KtG(l.newSpaceMeeting(s))}),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"button",19)(35,"app-icon"),e._uU(36,"more_horiz"),e.qZA()(),e.TgZ(37,"mat-menu",20,21)(39,"button",22),e.NdJ("click",function(){const s=e.CHM(n).$implicit,l=e.oxw(2);return e.KtG(l.toggleFavourite("space",s))}),e.TgZ(40,"app-icon",23),e._uU(41,"cancel"),e.qZA(),e.TgZ(42,"div"),e._uU(43),e.ALo(44,"translate"),e.qZA()()()()}if(2&t){const n=a.$implicit,i=e.MAs(7),o=e.MAs(38),s=e.oxw(2);let l,c,_,d,u;e.xp6(3),e.Q6J("ngIf",null==(l=e.lcZ(4,9,e.lcZ(5,11,n)))||null==l.images?null:l.images.length)("ngIfElse",i),e.xp6(7),e.hij(" ",(null==(c=e.lcZ(11,13,e.lcZ(12,15,n)))?null:c.display_name)||(null==(c=e.lcZ(13,17,e.lcZ(14,19,n)))?null:c.name)," "),e.xp6(9),e.hij(" ",null==(_=s.level(e.lcZ(20,21,e.lcZ(21,23,n))))?null:_.display_name," "),e.xp6(11),e.pQV((null==(d=e.lcZ(27,25,e.lcZ(28,27,n)))?null:d.capacity)||2)((null==(u=e.lcZ(29,29,e.lcZ(30,31,n)))?null:u.capacity)||2),e.QtT(26),e.xp6(2),e.hij(" ",e.lcZ(33,33,"WPA.BOOK")," "),e.xp6(2),e.Q6J("matMenuTriggerFor",o),e.xp6(9),e.Oqu(e.lcZ(44,35,"WPA.FAVOURITES_REMOVE"))}}function Ue(t,a){if(1&t&&e._UZ(0,"img",24),2&t){const n=e.oxw().$implicit;e.Q6J("src",null==n?null:n.images[0],e.LSH)}}function Ie(t,a){if(1&t&&e._UZ(0,"img",30),2&t){const n=e.oxw().$implicit;e.Q6J("src","assets/icons/"+("desk"===n.type?"desk":"car")+"-placeholder.svg",e.LSH)}}function Me(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"div",7)(1,"div",8)(2,"div",9),e.YNc(3,Ue,1,1,"img",10),e.YNc(4,Ie,1,1,"ng-template",null,26,e.W1O),e.qZA(),e.TgZ(6,"div",27)(7,"div",28),e._uU(8),e.qZA(),e.TgZ(9,"div",14)(10,"app-icon",15),e._uU(11,"place"),e.qZA(),e.TgZ(12,"div"),e._uU(13),e.qZA()()()(),e.TgZ(14,"button",18),e.NdJ("click",function(){const s=e.CHM(n).$implicit,l=e.oxw(2);return e.KtG(l.newBooking(s.type,s))}),e.SDv(15,29),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"button",19)(18,"app-icon"),e._uU(19,"more_horiz"),e.qZA()(),e.TgZ(20,"mat-menu",20,21)(22,"button",22),e.NdJ("click",function(){const s=e.CHM(n).$implicit,l=e.oxw(2);return e.KtG(l.toggleFavourite(s.type,s.id))}),e.TgZ(23,"app-icon",23),e._uU(24,"cancel"),e.qZA(),e.TgZ(25,"div"),e._uU(26),e.ALo(27,"translate"),e.qZA()()()()}if(2&t){const n=a.$implicit,i=e.MAs(5),o=e.MAs(21);e.xp6(3),e.Q6J("ngIf",null==n||null==n.images?null:n.images.length)("ngIfElse",i),e.xp6(5),e.hij(" ",(null==n?null:n.display_name)||(null==n?null:n.name)," "),e.xp6(5),e.hij(" ",null==n||null==n.zone?null:n.zone.display_name," "),e.xp6(3),e.pQV(e.lcZ(16,7,"WPA.BOOK")),e.QtT(15),e.xp6(1),e.Q6J("matMenuTriggerFor",o),e.xp6(9),e.Oqu(e.lcZ(27,9,"WPA.FAVOURITES_REMOVE"))}}function Se(t,a){if(1&t&&(e.ynx(0),e.YNc(1,we,45,37,"div",6),e.YNc(2,Me,28,11,"div",6),e.ALo(3,"async"),e.BQk()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.spaces),e.xp6(1),e.Q6J("ngForOf",e.lcZ(3,2,n.assets))}}function Re(t,a){1&t&&(e.TgZ(0,"div",31),e._UZ(1,"img",32),e.TgZ(2,"p",33),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"WPA.FAVOURITES_EMPTY")," "))}const U=[];let Y=(()=>{class t extends g.cx{get spaces(){return this._settings.get("favourite_spaces")||U}get desks(){return this._settings.get(J.v)||U}get parking_spaces(){return this._settings.get(A.Bi)||U}level(n){return this._org.levelWithID(n?.zones||[])}constructor(n,i,o,s,l,c){super(),this._org=n,this._settings=i,this._space_pipe=o,this._event_form=s,this._booking_form=l,this._router=c,this.assets=(0,O.aj)([this._booking_form.loadResourceList("desks"),this._booking_form.loadResourceList("parking-spaces")]).pipe((0,h.U)(([_,d])=>[..._.filter(({id:u})=>this.desks.includes(u)).map(u=>({...u,type:"desk"})),...d.filter(({id:u})=>this.parking_spaces.includes(u)).map(u=>({...u,type:"parking"}))]),(0,Z.d)(1))}ngOnInit(){}toggleFavourite(n,i){let o=this.spaces,s="favourite_spaces";switch(n){case"desk":o=this.desks,s=J.v;break;case"parking":o=this.parking_spaces,s=A.Bi}o.includes(i)?this._settings.saveUserSetting(s,o.filter(c=>c!==i)):this._settings.saveUserSetting(s,[...o,i])}newSpaceMeeting(n){var i=this;return(0,m.Z)(function*(){const o=yield i._space_pipe.transform(n);o&&(i._event_form.newForm(),i._event_form.form.patchValue({resources:[o]}),i._settings.get("app.new_features")?i._router.navigate(["/book","meeting"]):i._router.navigate(["/book","spaces"]))})()}newBooking(n,i){var o=this;return(0,m.Z)(function*(){i&&(o._settings.get("app.new_features")?o._router.navigate(["/book","desk"===n?"new-desk":"new-parking"]):o._router.navigate(["/book","desk"===n?"desks":"parking"]),setTimeout(()=>{o._booking_form.newForm(),o._booking_form.setOptions({type:n}),o._booking_form.form.patchValue({resources:[i],asset_id:i.id,booking_type:n})},100))})()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(F.w7),e.Y36(g.gb),e.Y36(k.X),e.Y36(x.MH),e.Y36(A.fy),e.Y36(v.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["landing-favourites"]],features:[e._Bn([k.X]),e.qOj],decls:8,vars:6,consts:function(){let a,n,i,o,s;return a=$localize`:␟e5191f926bd1e4e3a04904f3ed70be128d0df68e␟8885797130863755638:{VAR_PLURAL, plural, =1 {Resource } other {Resources }}`,a=e.Zx4(a,{VAR_PLURAL:"\ufffd1\ufffd"}),n=$localize`:␟9cfeafbe7fccbc1ea0e77b117ee30a235d3fbcbb␟1802740986701741685: ${"\ufffd0\ufffd"}:INTERPOLATION: ${a}:ICU: `,i=$localize`:␟292b0c8f5459f832824fbde4939054e5d313cfac␟3604407389403754414:{VAR_PLURAL, plural, =1 {Person } other {People }}`,i=e.Zx4(i,{VAR_PLURAL:"\ufffd1\ufffd"}),o=$localize`:␟3debb02c945d77818d916bf21e734def0311a492␟5508454923022029915: ${"\ufffd0\ufffd"}:INTERPOLATION: ${i}:ICU: `,s=$localize`:␟477a2990dc9e7a47c36b57d54f8150408a0c309b␟8490385903680845804: ${"\ufffd0\ufffd"}:INTERPOLATION: `,[[1,"flex","items-center","justify-between","py-2","mx-2","border-b","border-gray-200"],[1,"mx-2"],n,[1,"flex-1","h-1/2","w-full","space-y-2","overflow-auto","pt-4","divide-y","divide-gray-300"],[4,"ngIf","ngIfElse"],["empty_state",""],["class","flex flex-col items-center mx-2 pt-4 space-y-2 relative","item","",4,"ngFor","ngForOf"],["item","",1,"flex","flex-col","items-center","mx-2","pt-4","space-y-2","relative"],[1,"flex","w-full","items-center","space-x-2","relative"],[1,"w-20","h-20","overflow-hidden","rounded","relative","flex","items-center","justify-center","bg-black/10","dark:bg-white/5"],["class","absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 object-cover min-w-full min-h-full",3,"src",4,"ngIf","ngIfElse"],["space_placeholder",""],[1,"h-20","flex-1","w-1/2"],[1,"truncate","mb-4","w-full","pr-12"],[1,"flex","items-center","text-xs","opacity-60","truncate","space-x-2","mb-2"],[1,"text-blue-500"],[1,"flex","items-center","text-xs","opacity-60","truncate","space-x-2"],o,["btn","","name","book-favourite","matRipple","",1,"w-full","inverse",3,"click"],["icon","","name","favourite-more",1,"absolute","top-2","right-0","bg-gray-200","dark:bg-neutral-600","!rounded","!m-0",3,"matMenuTriggerFor"],["xPosition","before"],["menu","matMenu"],["name","landing-remove-favourite","mat-menu-item","",1,"flex","items-center","space-x-2",3,"click"],[1,"text-2xl"],[1,"absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2","object-cover","min-w-full","min-h-full",3,"src"],["src","assets/icons/room-placeholder.svg",1,"m-auto"],["asset_placeholder",""],[1,"h-20"],[1,"truncate","mb-4"],s,[1,"m-auto",3,"src"],[1,"w-full","h-full","flex","flex-col","items-center","justify-center","space-y-2","p-8"],["src","assets/icons/no-favourites.svg"],[1,"opacity-60","text-sm","text-center"]]},template:function(n,i){if(1&n&&(e.TgZ(0,"div",0)(1,"h2",1),e.SDv(2,2),e.qZA()(),e.TgZ(3,"div",3),e.YNc(4,Se,4,4,"ng-container",4),e.ALo(5,"async"),e.qZA(),e.YNc(6,Re,5,3,"ng-template",null,5,e.W1O)),2&n){const o=e.MAs(7);let s;e.xp6(2),e.pQV((null==i.spaces?null:i.spaces.length)||0)(null==i.spaces?null:i.spaces.length),e.QtT(2),e.xp6(2),e.Q6J("ngIf",(null==i.spaces?null:i.spaces.length)||(null==(s=e.lcZ(5,4,i.assets))?null:s.length))("ngIfElse",o)}},dependencies:[p.sg,p.O5,P.o,b.VK,b.OP,b.p6,y.wG,p.Ov,C.X$,k.X],styles:["[user][_ngcontent-%COMP%]:hover button{opacity:1}[_nghost-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}\n/*# sourceMappingURL=landing-favourites.component.ts-angular-inline--85.css.map*/"]}),t})();const $e=function(){return["/book","meeting"]};function Ge(t,a){1&t&&(e.TgZ(0,"a",3)(1,"div",4),e._UZ(2,"img",5),e.qZA(),e.TgZ(3,"div",6),e._uU(4,"Book a Room"),e.qZA()()),2&t&&e.Q6J("routerLink",e.DdM(1,$e))}const De=function(){return["/book","new-desk"]};function Qe(t,a){1&t&&(e.TgZ(0,"a",3)(1,"div",4),e._UZ(2,"img",7),e.qZA(),e.TgZ(3,"div",6),e._uU(4,"Book a Desk"),e.qZA()()),2&t&&e.Q6J("routerLink",e.DdM(1,De))}const Je=function(){return["/book","new-parking"]};function Ye(t,a){1&t&&(e.TgZ(0,"a",3)(1,"div",4),e._UZ(2,"img",8),e.qZA(),e.TgZ(3,"div",6),e._uU(4,"Book a Parking Space"),e.qZA()()),2&t&&e.Q6J("routerLink",e.DdM(1,Je))}let q=(()=>{class t{get features(){return this._settings.get("app.features")||[]}constructor(n){this._settings=n}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(g.gb))},t.\u0275cmp=e.Xpm({type:t,selectors:[["landing-quick-links"]],decls:6,vars:3,consts:[[1,"sm:text-lg","font-medium","mb-2","sm:mb-4","px-4"],[1,"flex","w-full","overflow-auto","space-x-2","px-4","mb-4"],["matRipple","","class","w-64 p-2 rounded shadow border border-gray-200 flex items-center space-x-4 bg-white",3,"routerLink",4,"ngIf"],["matRipple","",1,"w-64","p-2","rounded","shadow","border","border-gray-200","flex","items-center","space-x-4","bg-white",3,"routerLink"],[1,"min-w-[4rem]","h-16","rounded","bg-gray-200","flex","items-center","justify-center"],["src","assets/icons/room-placeholder.svg",1,"m-auto"],[1,"text-xl"],["src","assets/icons/desk-placeholder.svg",1,"m-auto"],["src","assets/icons/car-placeholder.svg",1,"m-auto"]],template:function(n,i){1&n&&(e.TgZ(0,"h3",0),e._uU(1," Make a Reservation "),e.qZA(),e.TgZ(2,"div",1),e.YNc(3,Ge,5,2,"a",2),e.YNc(4,Qe,5,2,"a",2),e.YNc(5,Ye,5,2,"a",2),e.qZA()),2&n&&(e.xp6(3),e.Q6J("ngIf",i.features.includes("spaces")),e.xp6(1),e.Q6J("ngIf",i.features.includes("desks")),e.xp6(1),e.Q6J("ngIf",i.features.includes("parking")))},dependencies:[p.O5,y.wG,v.rH]}),t})();var j=r(5148),qe=r(7486),je=r(2551),We=r(4088);function Ve(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"event-card",12),e.NdJ("edit",function(){e.CHM(n);const o=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.edit(o))})("remove",function(){e.CHM(n);const o=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.remove(o))}),e.qZA()}if(2&t){const n=e.oxw().$implicit;e.Q6J("event",n)("show_day",!0)}}function Be(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"booking-card",13),e.NdJ("edit",function(){e.CHM(n);const o=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.editBooking(o))})("remove",function(){e.CHM(n);const o=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.remove(o))})("end",function(){e.CHM(n);const o=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.end(o))}),e.qZA()}if(2&t){const n=e.oxw().$implicit;e.Q6J("booking",n)("show_day",!0)}}function Ke(t,a){if(1&t&&(e.ynx(0)(1,9),e.YNc(2,Ve,1,2,"event-card",10),e.YNc(3,Be,1,2,"booking-card",11),e.BQk()()),2&t){const n=a.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngSwitch",i.type(n)),e.xp6(1),e.Q6J("ngSwitchCase","event"),e.xp6(1),e.Q6J("ngSwitchCase","booking")}}function Xe(t,a){if(1&t&&(e.ynx(0),e.YNc(1,Ke,4,3,"ng-container",8),e.ALo(2,"slice"),e.ALo(3,"async"),e.BQk()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.Dn7(2,2,e.lcZ(3,6,n.upcoming_events),0,5))("ngForTrackBy",n.trackByFn)}}function He(t,a){1&t&&(e.TgZ(0,"div",14),e._UZ(1,"img",15),e.TgZ(2,"p",16),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"WPA.NO_UPCOMING_BOOKINGS")," "))}const W=function(){return["/your-bookings"]};let V=(()=>{class t{type(n){return n instanceof A.$N?"booking":"event"}constructor(n,i,o,s,l,c){this._state=n,this._event_form=i,this._booking_form=o,this._router=s,this._dialog=l,this._settings=c,this.upcoming_events=this._state.upcoming_events}ngOnInit(){this._state.refreshUpcomingEvents()}ngOnDestroy(){this._state.stopPollingUpcomingEvents()}trackByFn(n,i){return i?.id}edit(n){this._router.navigate(["/book","meeting","form"]),this._event_form.newForm(n)}editBooking(n){console.log("Edit Booking:",n),this._router.navigate(["/book",`new-${n.type}`]),this._booking_form.newForm(n),setTimeout(()=>{this._booking_form.form.patchValue({resources:[{id:n.asset_id,name:n.asset_name||n.description}]})},100)}remove(n){var i=this;return(0,m.Z)(function*(){const o=`${(0,j.Z)(n.date,"dd MMM yyyy h:mma")}`,l=`Delete the booking for ${n instanceof x.ym?n.space?.display_name:n.asset_name||n.asset_id} at ${o}`,c=yield(0,g._5)({title:"Delete booking",content:l,icon:{content:"delete"}},i._dialog);"done"===c.reason&&(c.loading("Requesting booking deletion..."),yield(n instanceof x.ym?x.xC:A.pv)(n.id,{calendar:i._settings.get("app.no_user_calendar")?null:(0,g.ar)()?.email,system_id:n.system?.id}).toPromise().catch(_=>{throw(0,g.cB)(`Unable to delete booking. ${_}`),c.close(),_}),(0,g.t5)("Successfully deleted booking."),i._state.refreshUpcomingEvents(),i._dialog.closeAll())})()}end(n){var i=this;return(0,m.Z)(function*(){const o=`${(0,j.Z)(n.date,"dd MMM yyyy h:mma")}`,l=`End the booking for ${n.asset_name||n.asset_id} at ${o}`,c=yield(0,g._5)({title:"End booking",content:l,icon:{content:"delete"}},i._dialog);"done"===c.reason&&(c.loading("Ending booking..."),yield(0,A.FD)(n.id,!1).toPromise().catch(_=>{throw(0,g.cB)(`Unable to end booking. ${_}`),c.close(),_}),(0,g.t5)("Successfully ended booking."),i._state.refreshUpcomingEvents(),i._dialog.closeAll())})()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(w),e.Y36(x.MH),e.Y36(A.fy),e.Y36(v.F0),e.Y36(qe.uw),e.Y36(g.gb))},t.\u0275cmp=e.Xpm({type:t,selectors:[["landing-upcoming"]],decls:16,vars:17,consts:[[1,"py-2"],[1,"flex","items-center","justify-between","mb-2","sm:mb-4","px-4"],[1,"sm:text-lg","font-medium"],["btn","","name","upcoming-view-all",1,"inverse","hidden","sm:flex",3,"routerLink"],["name","upcoming-view-all-mobile",1,"inverse","flex","sm:hidden","text-blue-500","underline","relative","top-8",3,"routerLink"],[1,"space-y-4","px-4"],[4,"ngIf","ngIfElse"],["empty_state",""],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngSwitch"],[3,"event","show_day","edit","remove",4,"ngSwitchCase"],[3,"booking","show_day","edit","remove","end",4,"ngSwitchCase"],[3,"event","show_day","edit","remove"],[3,"booking","show_day","edit","remove","end"],[1,"w-full","p-8","flex","flex-col","items-center","justify-center","space-y-4"],["src","assets/img/no-events.svg",1,"mr-4"],[1,"opacity-30"]],template:function(n,i){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"a",3),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"a",4),e._uU(9),e.ALo(10,"translate"),e.qZA()(),e.TgZ(11,"div",5),e.YNc(12,Xe,4,8,"ng-container",6),e.ALo(13,"async"),e.qZA()(),e.YNc(14,He,5,3,"ng-template",null,7,e.W1O)),2&n){const o=e.MAs(15);let s;e.xp6(3),e.hij(" ",e.lcZ(4,7,"WPA.YOUR_BOOKINGS")," "),e.xp6(2),e.Q6J("routerLink",e.DdM(15,W)),e.xp6(1),e.hij(" ",e.lcZ(7,9,"WPA.VIEW_ALL")," "),e.xp6(2),e.Q6J("routerLink",e.DdM(16,W)),e.xp6(1),e.hij(" ",e.lcZ(10,11,"WPA.VIEW_ALL")," "),e.xp6(3),e.Q6J("ngIf",null==(s=e.lcZ(13,13,i.upcoming_events))?null:s.length)("ngIfElse",o)}},dependencies:[p.sg,p.O5,p.RF,p.n9,je.j,We.E,v.rH,p.Ov,p.OU,C.X$]}),t})();var ze=r(6361),en=r(4187),nn=r(6012);function tn(t,a){1&t&&e._UZ(0,"topbar",13)}function on(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(n);const o=e.oxw(2);return e.KtG(o.tab="people")}),e.TgZ(1,"app-icon"),e._uU(2,"people"),e.qZA(),e.TgZ(3,"div"),e._uU(4),e.ALo(5,"translate"),e.ALo(6,"uppercase"),e.qZA()()}if(2&t){const n=e.oxw(2);e.ekj("border-b","people"!==n.tab)("border-gray-300","people"!==n.tab)("bg-black","people"!==n.tab)("bg-opacity-5","people"!==n.tab),e.xp6(4),e.hij(" ",e.lcZ(5,9,e.lcZ(6,11,"WPA.COLLEAGUES"))," ")}}function sn(t,a){1&t&&e._UZ(0,"landing-colleagues")}function an(t,a){1&t&&e._UZ(0,"landing-favourites")}function ln(t,a){if(1&t){const n=e.EpF();e.TgZ(0,"div",14)(1,"div",15),e.YNc(2,on,7,13,"button",16),e.TgZ(3,"button",17),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return e.KtG(o.tab="fav")}),e.TgZ(4,"app-icon"),e._uU(5,"favorite"),e.qZA(),e.TgZ(6,"div"),e._uU(7),e.ALo(8,"translate"),e.qZA()()(),e.TgZ(9,"div",18),e.YNc(10,sn,1,0,"landing-colleagues",11),e.YNc(11,an,1,0,"landing-favourites",11),e.qZA()()}if(2&t){const n=e.oxw();e.xp6(2),e.Q6J("ngIf",!n.hide_colleagues),e.xp6(1),e.ekj("border-b","fav"!==n.tab)("border-gray-300","fav"!==n.tab)("bg-black","fav"!==n.tab)("bg-opacity-5","fav"!==n.tab),e.xp6(4),e.Oqu(e.lcZ(8,12,"WPA.FAVOURITES")),e.xp6(3),e.Q6J("ngIf","people"===n.tab&&!n.hide_colleagues),e.xp6(1),e.Q6J("ngIf","fav"===n.tab||n.hide_colleagues)}}function cn(t,a){if(1&t&&(e.TgZ(0,"div",19),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.hij(" ",n.building.address||n.building.display_name||n.building.name," ")}}function rn(t,a){1&t&&e._UZ(0,"landing-quick-links")}function _n(t,a){1&t&&e._UZ(0,"footer-menu")}const gn=function(t){return{name:t}};const pn=[{path:"",component:(()=>{class t{get hide_nav(){return"true"===localStorage.getItem("PlaceOS.hide_nav")}get date(){return(0,ze.Z)(this.time||Date.now())}get user(){return(0,g.ar)()}get building(){return this._org.building}get hide_landing_sidebar(){return this._settings.get("app.general.hide_landing_sidebar")}get hide_colleagues(){return this._settings.get("app.general.hide_colleagues")}get show_quick_links(){return this._settings.get("app.general.show_quick_links")}constructor(n,i){this._org=n,this._settings=i,this.tab="people"}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(F.w7),e.Y36(g.gb))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-landing"]],decls:20,vars:15,consts:[["class","z-10",4,"ngIf"],[1,"flex","flex-1","h-1/2","bg-[#F8F8FA]","dark:bg-neutral-900"],["class","relative hidden sm:flex flex-col w-[18rem] h-full overflow-hidden bg-white dark:bg-[#1F2021] border-r border-gray-200 dark:border-neutral-700",4,"ngIf"],[1,"flex-1","h-full","w-1/2","sm:px-4","overflow-auto","z-0"],[1,"sticky","top-0","z-50","bg-[#ECF0F3]","dark:bg-zinc-800","px-4","sm:rounded-b","flex","items-center","justify-between","overflow-hidden"],[1,""],[1,"sm:text-xl","font-medium"],["date","",1,"text-sm","sm:text-base"],["class","text-sm sm:text-base",4,"ngIf"],[1,"h-32","pt-4"],["src","assets/img/landing.svg"],[4,"ngIf"],[1,"mx-4","w-[calc(100%-2rem)]","h-px","bg-gray-300","mb-2"],[1,"z-10"],[1,"relative","hidden","sm:flex","flex-col","w-[18rem]","h-full","overflow-hidden","bg-white","dark:bg-[#1F2021]","border-r","border-gray-200","dark:border-neutral-700"],[1,"flex","items-center","divide-x","divide-gray-300"],["matRipple","","class","flex-1 font-medium p-2 flex items-center justify-center space-x-2",3,"border-b","border-gray-300","bg-black","bg-opacity-5","click",4,"ngIf"],["matRipple","",1,"flex-1","font-medium","p-2","flex","items-center","justify-center","space-x-2",3,"click"],[1,"flex-1","w-full","h-1/2"],[1,"text-sm","sm:text-base"]],template:function(n,i){1&n&&(e.YNc(0,tn,1,0,"topbar",0),e.TgZ(1,"div",1),e.YNc(2,ln,12,14,"div",2),e.TgZ(3,"div",3)(4,"header",4)(5,"div",5)(6,"div",6),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"div",7),e._uU(10),e.ALo(11,"date"),e.qZA(),e.YNc(12,cn,2,1,"div",8),e.qZA(),e.TgZ(13,"div",9),e._UZ(14,"img",10),e.qZA()(),e.YNc(15,rn,1,0,"landing-quick-links",11),e._UZ(16,"landing-availability")(17,"div",12)(18,"landing-upcoming"),e.qZA()(),e.YNc(19,_n,1,0,"footer-menu",11)),2&n&&(e.Q6J("ngIf",!i.hide_nav),e.xp6(2),e.Q6J("ngIf",!i.hide_landing_sidebar),e.xp6(5),e.hij(" ",e.xi3(8,7,"WPA.WELCOME_MESSAGE",e.VKq(13,gn,null==i.user?null:i.user.name))," "),e.xp6(3),e.hij(" ",e.xi3(11,10,i.date,"fullDate")," "),e.xp6(2),e.Q6J("ngIf",(null==i.building?null:i.building.address)||(null==i.building?null:i.building.name)),e.xp6(3),e.Q6J("ngIf",i.show_quick_links),e.xp6(4),e.Q6J("ngIf",!i.hide_nav))},dependencies:[p.O5,en.o,nn.i,P.o,y.wG,Q,D,V,Y,q,p.gd,p.uU,C.X$],styles:["[_nghost-%COMP%]{position:absolute;inset:0;overflow:hidden;display:flex;flex-direction:column}main[_ngcontent-%COMP%]{min-height:50%}\n/*# sourceMappingURL=landing.component.ts-angular-inline--86.css.map*/"]}),t})()}];let un=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.ez,K.v,N.u5,v.Bz.forChild(pn)]}),t})()}}]);
//# sourceMappingURL=apps_workplace_src_app_landing_landing_module_ts.js.map