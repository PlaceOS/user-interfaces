{"version":3,"file":"main.js","mappings":";;;;;;;;;;;;;;;;AACuD;AAM1B;;;AAE7B,MAAMK,MAAM,GAAW,CACnB;EAAEC,IAAI,EAAE,GAAG;EAAEC,SAAS,EAAEH,kEAAiBA;AAAA,CAAE,EAC3C;EAAEE,IAAI,EAAE,cAAc;EAAEC,SAAS,EAAEJ,sEAAqBA;AAAA,CAAE,EAC1D;EAAEG,IAAI,EAAE,eAAe;EAAEC,SAAS,EAAEL,uEAAsBA;AAAA,CAAE,EAC5D;EACII,IAAI,EAAE,WAAW;EACjBE,WAAW,EAAE,CAACP,oEAAmB,CAAC;EAClCQ,OAAO,EAAE,CAACR,oEAAmB,CAAC;EAC9BS,YAAY,EAAEA,CAAA,KACV,2OAAsC,CAACC,IAAI,CACtCC,CAAC,IAAKA,CAAC,CAACC,eAAe;CAEnC,EACD;EACIP,IAAI,EAAE,SAAS;EACfE,WAAW,EAAE,CAACP,oEAAmB,CAAC;EAClCQ,OAAO,EAAE,CAACR,oEAAmB,CAAC;EAC9BS,YAAY,EAAEA,CAAA,KACV,mOAAkC,CAACC,IAAI,CAClCC,CAAC,IAAKA,CAAC,CAACE,gBAAgB;CAEpC,EACD;EACIR,IAAI,EAAE,MAAM;EACZE,WAAW,EAAE,CAACP,oEAAmB,CAAC;EAClCQ,OAAO,EAAE,CAACR,oEAAmB,CAAC;EAC9BS,YAAY,EAAEA,CAAA,KACV,wKAA4B,CAACC,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACG,UAAU;CAC5D,EACD;EACIT,IAAI,EAAE,SAAS;EACfE,WAAW,EAAE,CAACP,oEAAmB,CAAC;EAClCQ,OAAO,EAAE,CAACR,oEAAmB,CAAC;EAC9BS,YAAY,EAAEA,CAAA,KACV,oLAAkC,CAACC,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACI,aAAa;CACrE,EACD;EACIV,IAAI,EAAE,SAAS;EACfE,WAAW,EAAE,CAACP,oEAAmB,CAAC;EAClCQ,OAAO,EAAE,CAACR,oEAAmB,CAAC;EAC9BS,YAAY,EAAEA,CAAA,KACV,oLAAkC,CAACC,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACK,aAAa;CACrE,EACD;EACIX,IAAI,EAAE,WAAW;EACjBE,WAAW,EAAE,CAACP,oEAAmB,CAAC;EAClCQ,OAAO,EAAE,CAACR,oEAAmB,CAAC;EAC9BS,YAAY,EAAEA,CAAA,KACV,4LAAsC,CAACC,IAAI,CACtCC,CAAC,IAAKA,CAAC,CAACM,eAAe;CAEnC,EACD;EACIZ,IAAI,EAAE,eAAe;EACrBE,WAAW,EAAE,CAACP,oEAAmB,CAAC;EAClCQ,OAAO,EAAE,CAACR,oEAAmB,CAAC;EAC9BS,YAAY,EAAEA,CAAA,KACV,+OAAwC,CAACC,IAAI,CACxCC,CAAC,IAAKA,CAAC,CAACO,iBAAiB;CAErC,EACD;EACIb,IAAI,EAAE,UAAU;EAChBE,WAAW,EAAE,CAACP,oEAAmB,CAAC;EAClCQ,OAAO,EAAE,CAACR,oEAAmB,CAAC;EAC9BS,YAAY,EAAEA,CAAA,KACV,uOAAoC,CAACC,IAAI,CACpCC,CAAC,IAAKA,CAAC,CAACO,iBAAiB;CAErC,EACD;EACIb,IAAI,EAAE,UAAU;EAChBE,WAAW,EAAE,CAACP,oEAAmB,CAAC;EAClCQ,OAAO,EAAE,CAACR,oEAAmB,CAAC;EAC9BS,YAAY,EAAEA,CAAA,KACV,wLAAoC,CAACC,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACQ,aAAa;CACvE,EACD;EAAEd,IAAI,EAAE,IAAI;EAAEe,UAAU,EAAE,GAAG;EAAEC,SAAS,EAAE;AAAM,CAAE,CACrD;AAED,MAIaC,gBAAgB;AAAhBA,gBAAgB;mBAAhBA,gBAAgB;AAAA;AAAhBA,gBAAgB;QAAhBA;AAAgB;AAAhBA,gBAAgB;YAHfvB,iEAAoB,CAACK,MAAM,EAAE;IAAEoB,OAAO,EAAE;EAAI,CAAE,CAAC,EAC/CzB,yDAAY;AAAA;AAEG;;sHAAhBuB,gBAAgB;IAAAG,OAAA,GAAAC,yDAAA;IAAAC,OAAA,GAFf5B,yDAAY;EAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3FgC;AACqB;AACxB;AACV;AACJ;AACqB;AACE;AACH;AAEO;AACG;AACN;AAKpC;AACwC;AAEb;AACE;AACQ;AAEpB;AAEqB;AACV;;;;AAEzD;AACM,SAAUgD,iBAAiBA,CAACC,IAAgB;EAC9C,OAAO,IAAIR,2EAAmB,CAACQ,IAAI,EAAE,kBAAkB,EAAE,OAAO,CAAC;AACrE;AAEA,MAuCaC,SAAS;AAATA,SAAS;mBAATA,SAAS;AAAA;AAATA,SAAS;QAATA,SAAS;EAAAC,SAAA,GAFNT,+EAAY;AAAA;AAEfQ,SAAS;aAdP,CACP;IACIE,OAAO,EAAErB,uDAAY;IACrBsB,QAAQ,EAAER,mEAAyB,CAAC;MAChCU,UAAU,EAAE;KACf;GACJ,EACD;IACIH,OAAO,EAAEP,6DAAmB;IAC5BY,IAAI,EAAE,CAACxB,oDAAM;GAChB,CACJ;EAAAP,OAAA,GAjCGG,qEAAa,EACbC,0FAAuB,EACvBP,iEAAgB,EAChBW,kFAA4B,CAAC,gBAAgB,EAAE;IAC3CyB,OAAO,EAAEhB,6EAAsBiB;GAClC,CAAC,EACFvB,mEAAgB,EAChBL,wDAAW,EACXY,2EAAoB,EACpBE,4EAAqB,EACrBV,wEAAmB,EACnBD,2EAAiB,EACjBY,mEAAoB,EACpBR,yEAAuB,CAAC;IACpBsB,eAAe,EAAE,IAAI;IACrBC,MAAM,EAAE;MACJV,OAAO,EAAEZ,iEAAe;MACxBuB,UAAU,EAAEf,iBAAiB;MAC7BS,IAAI,EAAE,CAACnB,6DAAU;;GAExB,CAAC;AAAA;AAgBY;;sHAATY,SAAS;IAAAc,YAAA,GAtCHtB,+EAAY,EAAEvC,sEAAqB,EAAED,uEAAsB;IAAAwB,OAAA,GAEtEG,qEAAa,EACbC,0FAAuB,EACvBP,iEAAgB,EAAAI,yEAAA,EAIhBU,mEAAgB,EAChBL,wDAAW,EACXY,2EAAoB,EACpBE,4EAAqB,EACrBV,wEAAmB,EACnBD,2EAAiB,EACjBY,mEAAoB,EAAAkB,iEAAA;EAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;AC/Ce;AAEI;;;;;;;;;;;IAoB/BG,4DAAA,UAAqC;IACjCA,yDAAA,OAA4B;IACxBA,4DAAA,aAAQ;IAAKA,uDAAA,WAAc;IAAAA,0DAAA,EAAS;IACxCA,uDAAA,EAAQ;IAARA,0DAAA,EAAQ;IACRA,uDAAA,8BAGuB;IAC3BA,0DAAA,EAAM;;;;;IAtBVA,4DAAA,UAAwB;IAEhBA,yDAAA,MAAY;IACRA,4DAAA,aAAQ;IAAgBA,uDAAA,WAAc;IAAAA,0DAAA,EAAS;IACnDA,uDAAA,EAAQ;IAARA,0DAAA,EAAQ;IACRA,4DAAA,wBAAqC;IACjCA,uDAAA,eAKE;IACNA,0DAAA,EAAiB;IAErBA,wDAAA,IAAAO,8CAAA,iBAQM;IACNP,4DAAA,UAAK;IACDA,yDAAA,OAA6B;IACzBA,4DAAA,cAAQ;IAAKA,uDAAA,YAAc;IAAAA,0DAAA,EAAS;IACxCA,uDAAA,EAAQ;IAARA,0DAAA,EAAQ;IACRA,uDAAA,uBAGgB;IACpBA,0DAAA,EAAM;IACNA,4DAAA,eAAgC;IAC5BA,yDAAA,QAA2B;IACvBA,4DAAA,cAAQ;IAASA,uDAAA,YAAc;IAAAA,0DAAA,EAAS;IAC5CA,uDAAA,EAAQ;IAARA,0DAAA,EAAQ;IACRA,uDAAA,4BAGoB;IACxBA,0DAAA,EAAM;;;;IA1BAA,uDAAA,GAA6B;IAA7BA,wDAAA,SAAAU,MAAA,CAAAC,IAAA,CAAAC,QAAA,CAAAC,SAAA,CAA6B;;;;;IA6BnCb,uDAAA,gBAOE;;;;;IACFA,4DAAA,UAAsC;IAClCA,yDAAA,OAA4B;IACxBA,4DAAA,aAAQ;IAAoBA,uDAAA,WAAc;IAAAA,0DAAA,EAAS;IACvDA,uDAAA,EAAQ;IAARA,0DAAA,EAAQ;IACRA,4DAAA,wBAAqC;IACjCA,uDAAA,gBAKE;IACNA,0DAAA,EAAiB;;;AAlErC,MA4Fac,yBAA0B,SAAQf,yDAAY;AAA9Ce,yBAA0B;;;oKAA1BA,yBAAyB,IAAAC,CAAA,IAAzBD,yBAAyB;EAAA;AAAA;AAAzBA,yBAA0B;QAA1BA,yBAAyB;EAAAE,SAAA;EAAAC,MAAA;IAAAC,UAAA;IAAAP,IAAA;EAAA;EAAAQ,QAAA,GAAAnB,wEAAA;EAAAqB,KAAA;EAAAC,IAAA;EAAAC,MAAA,WAAAA,CAAA;IAAA,IAAAC,MAAA;IAAA,WAAAC,iBAAA,oBAAAA,iBAAA;;;;;;;;;;;;;;;;;;;eArFdC,SAAA,gFAAQ,qCAAgB,gBAAM,oBAAC,iBAAO,oCAAS;;;;;;;;;;;;;;;;;;;;;;eAsB/CA,SAAA,mFAAQ,0BAAK,iBAAM,oBAAC,kBAAO,qCAAS;;;;;;;;;;;;;;;;;;;;;;eASpCA,SAAA,mFAAQ,8BAAS,iBAAM,oBAAC,kBAAO,qCAAS;;;;;;;;;;;;;;;;;;;;;;eAlBxCA,SAAA,kFAAQ,0BAAK,gBAAM,oBAAC,iBAAO,oCAAS;;;;;;;;;;;;;;;;;;;;;;eAqCpCA,SAAA,iFAAQ,yCAAoB,gBAAM,oBAAC,iBAAO,oCAAS;;;;;;MAtDnE1B,4DAAA,aAA6C;MACzCA,wDAAA,IAAA2B,wCAAA,kBAyCM;MACN3B,4DAAA,aAA2B;MACvBA,wDAAA,IAAA4B,0CAAA,mBAOE;MACF5B,wDAAA,IAAA6B,wCAAA,iBAYM;MACV7B,0DAAA,EAAM;;;MAjEgBA,wDAAA,cAAA8B,GAAA,CAAAnB,IAAA,CAAkB;MAClCX,uDAAA,GAAgB;MAAhBA,wDAAA,SAAA8B,GAAA,CAAAZ,UAAA,CAAgB;MA0CjBlB,uDAAA,GAAqB;MAArBA,wDAAA,WAAA8B,GAAA,CAAAZ,UAAA,CAAqB;MAEjBlB,uDAAA,GAAyB;MAAzBA,wDAAA,SAAA8B,GAAA,CAAAnB,IAAA,CAAAC,QAAA,CAAAmB,KAAA,CAAyB;MAOxB/B,uDAAA,GAA8B;MAA9BA,wDAAA,SAAA8B,GAAA,CAAAnB,IAAA,CAAAC,QAAA,CAAAoB,UAAA,CAA8B;;;;;;;;;;;;;;;;;;;;;;;;;AClD7B;AACwB;AAEhB;;;;;;ICPXhC,4DAAA,cAAmC;IACzBA,oDAAA,GAAe;IAAAA,0DAAA,EAAO;;;;IAAtBA,uDAAA,GAAe;IAAfA,+DAAA,CAAAuC,MAAA,CAAAC,KAAA,CAAe;;;;;IAF7BxC,4DAAA,cAA+D;IAC3DA,wDAAA,IAAAyC,2CAAA,kBAEM;IACVzC,0DAAA,EAAM;;;;IAHiBA,uDAAA,GAAc;IAAdA,wDAAA,SAAAuC,MAAA,CAAAG,IAAA,CAAc;;;;;;IAWrC1C,4DAAA,cAKC;IADGA,wDAAA,mBAAA4C,4DAAA;MAAA,MAAAC,WAAA,GAAA7C,2DAAA,CAAA+C,IAAA;MAAA,MAAAC,MAAA,GAAAH,WAAA,CAAAI,SAAA;MAAA,MAAAC,OAAA,GAAAlD,2DAAA;MAAA,OAASA,yDAAA,CAAAkD,OAAA,CAAAG,OAAA,CAAAL,MAAA,CAAY;IAAA,EAAC;IAEtBhD,uDAAA,cAA6E;IACjFA,0DAAA,EAAM;;;;IAJFA,yDAAA,gBAAAgD,MAAA,CAAAO,WAAA,CAAqC;IAGpBvD,uDAAA,GAAuB;IAAvBA,yDAAA,SAAAgD,MAAA,CAAAN,IAAA,CAAuB,YAAAM,MAAA,CAAAQ,OAAA;;;;;IAE5CxD,uDAAA,cAKO;;;;IAFHA,yDAAA,SAAA0D,MAAA,CAAAC,QAAA,QAAAD,MAAA,CAAAE,KAAA,CAAAC,KAAA,aAAsD,QAAAH,MAAA,CAAAC,QAAA,GAAAD,MAAA,CAAAE,KAAA,CAAAC,KAAA;;;;;;IAG1D7D,4DAAA,cAOC;IAGOA,wDAAA,uBAAA8D,gEAAA;MAAA9D,2DAAA,CAAA+D,IAAA;MAAA,MAAAC,OAAA,GAAAhE,2DAAA;MAAA,OAAaA,yDAAA,CAAAgE,OAAA,CAAAC,OAAA,CAAQ,OAAO,CAAC;IAAA,EAAC,wBAAAC,iEAAA;MAAAlE,2DAAA,CAAA+D,IAAA;MAAA,MAAAI,OAAA,GAAAnE,2DAAA;MAAA,OAChBA,yDAAA,CAAAmE,OAAA,CAAAF,OAAA,CAAQ,OAAO,CAAC;IAAA,EADA;IAEjCjE,0DAAA,EAAM;IACPA,4DAAA,cAIC;IAFGA,wDAAA,uBAAAoE,gEAAA;MAAApE,2DAAA,CAAA+D,IAAA;MAAA,MAAAM,OAAA,GAAArE,2DAAA;MAAA,OAAaA,yDAAA,CAAAqE,OAAA,CAAAJ,OAAA,CAAQ,OAAO,CAAC;IAAA,EAAC,wBAAAK,iEAAA;MAAAtE,2DAAA,CAAA+D,IAAA;MAAA,MAAAQ,OAAA,GAAAvE,2DAAA;MAAA,OAChBA,yDAAA,CAAAuE,OAAA,CAAAN,OAAA,CAAQ,OAAO,CAAC;IAAA,EADA;IAEjCjE,0DAAA,EAAM;IACPA,4DAAA,cAIC;IAFGA,wDAAA,uBAAAwE,gEAAA;MAAAxE,2DAAA,CAAA+D,IAAA;MAAA,MAAAU,OAAA,GAAAzE,2DAAA;MAAA,OAAaA,yDAAA,CAAAyE,OAAA,CAAAR,OAAA,CAAQ,KAAK,CAAC;IAAA,EAAC,wBAAAS,iEAAA;MAAA1E,2DAAA,CAAA+D,IAAA;MAAA,MAAAY,OAAA,GAAA3E,2DAAA;MAAA,OACdA,yDAAA,CAAA2E,OAAA,CAAAV,OAAA,CAAQ,KAAK,CAAC;IAAA,EADA;IAE/BjE,0DAAA,EAAM;;;;IAnBPA,yDAAA,SAAA4E,MAAA,CAAAjB,QAAA,QAAAiB,MAAA,CAAAhB,KAAA,CAAAiB,UAAA,aAA2D,QAAAD,MAAA,CAAAjB,QAAA,GAAAiB,MAAA,CAAAhB,KAAA,CAAAiB,UAAA,4BAAAD,MAAA,CAAAjB,QAAA,QAAAiB,MAAA,CAAAhB,KAAA,CAAAkB,QAAA,wBAAAF,MAAA,CAAAjB,QAAA,GAAAiB,MAAA,CAAAhB,KAAA,CAAAkB,QAAA;;;;;;IA0B/D9E,4DAAA,cAA4D;IAAvBA,wDAAA,mBAAA+E,kEAAA;MAAA/E,2DAAA,CAAAgF,IAAA;MAAA,MAAAC,OAAA,GAAAjF,2DAAA,GAAAiD,SAAA;MAAA,OAASjD,yDAAA,CAAAiF,OAAA,CAAAC,MAAA,EAAY;IAAA,EAAC;IACvDlF,4DAAA,YAA0B;IAAAA,oDAAA,YAAK;IAAAA,0DAAA,EAAI;;;;;IAKnCA,4DAAA,cAKC;IACqBA,oDAAA,GAAgB;IAAAA,0DAAA,EAAM;;;;;IAHxCA,yDAAA,UAAAmF,OAAA,CAAAxB,QAAA,QAAAyB,SAAA,CAAAN,QAAA,iBAAgE,WAAAK,OAAA,CAAAxB,QAAA,GAAAyB,SAAA,CAAAN,QAAA;IAG9C9E,uDAAA,GAAgB;IAAhBA,+DAAA,CAAAoF,SAAA,CAAAC,IAAA,CAAgB;;;;;IAP1CrF,4DAAA,cAAuD;IACnDA,wDAAA,IAAAsF,kDAAA,kBAOM;IACVtF,0DAAA,EAAM;;;;IANoBA,uDAAA,GAAa;IAAbA,wDAAA,YAAAuF,OAAA,CAAAC,MAAA,CAAa;;;;;IAX/CxF,4DAAA,cAA2F;IAEjEA,oDAAA,GAAc;IAAAA,0DAAA,EAAM;IACtCA,wDAAA,IAAAyF,4CAAA,kBAEM;IACVzF,0DAAA,EAAM;IACNA,4DAAA,aAAkB;IACdA,wDAAA,IAAA0F,4CAAA,iBASM;IACV1F,0DAAA,EAAM;;;;IAlBmDA,yDAAA,YAAAiF,OAAA,CAAAzB,OAAA,CAA6B;IAEhExD,uDAAA,GAAc;IAAdA,+DAAA,CAAAiF,OAAA,CAAAU,IAAA,CAAc;IACb3F,uDAAA,GAAgB;IAAhBA,wDAAA,SAAAiF,OAAA,CAAAC,MAAA,CAAgB;IAKKlF,uDAAA,GAAa;IAAbA,wDAAA,YAAAiF,OAAA,CAAAW,MAAA,CAAa;;;;;;ADvBrE,MAKaC,sBACT,SAAQ9F,yDAAY;EANxB+F,YAAA;;IAWI;IACgB,KAAAC,IAAI,GAAG3D,kCAAK,EAAE,CAAC4D,OAAO,EAAE;IACxC;IACgB,KAAAlB,QAAQ,GAAG,EAAE;IAC7B;IACgB,KAAAmB,UAAU,GAAG,IAAI;IAGjC;IACiB,KAAAC,UAAU,GAAG,IAAIhE,uDAAY,EAAU;IACvC,KAAAiE,cAAc,GAAG,IAAIjE,uDAAY,EAAU;IAC3C,KAAAkE,YAAY,GAAG,IAAIlE,uDAAY,EAAyB;IAElE,KAAAyB,QAAQ,GAAG,KAAK;IAChB,KAAAC,KAAK,GAA4B,EAAE;;EAKnCyC,QAAQA,CAAA;IACX,IAAI,CAACzC,KAAK,CAAC0C,KAAK,GAAGlE,kCAAK,CAAC,IAAI,CAAC2D,IAAI,CAAC,CAACrD,IAAI,CAAC,CAAC,CAAC,CAAC6D,MAAM,CAAC,EAAE,CAAC;IACtD,IAAI,CAAC3C,KAAK,CAAC4C,GAAG,GAAGpE,kCAAK,CAAC,IAAI,CAAC2D,IAAI,CAAC,CAACrD,IAAI,CAAC,EAAE,CAAC,CAAC6D,MAAM,CAAC,EAAE,CAAC;IACrD,IAAI,CAACE,cAAc,EAAE;IACrB,IAAI,CAACC,UAAU,EAAE;IACjB,IAAI,CAACC,QAAQ,CAAC,OAAO,EAAE,MAAM,IAAI,CAACD,UAAU,EAAE,EAAE,EAAE,GAAG,IAAI,CAAC;IAC1D,MAAME,GAAG,GAAGxE,kCAAK,EAAE;IACnB,MAAMyE,QAAQ,GAAGzE,kCAAK,EAAE,CAAC0E,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAACC,OAAO,CAAC,GAAG,CAAC;IACjD,IAAI,CAACC,OAAO,CACR,aAAa,EACb,MAAK;MACD,IAAI,CAACC,cAAc,EAAE;MACrB,IAAI,CAACN,QAAQ,CACT,aAAa,EACb,MAAM,IAAI,CAACM,cAAc,EAAE,EAC3B,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CACtB;IACL,CAAC,EACDC,IAAI,CAACC,KAAK,CAACN,QAAQ,CAACO,IAAI,CAACR,GAAG,EAAE,GAAG,CAAC,CAAC,CACtC;EACL;EAEOS,WAAWA,CAACC,OAAsB;IACrC,IAAIA,OAAO,CAACC,MAAM,EAAE;MAChB,IAAI,CAACC,aAAa,EAAE;;IAExB,IAAIF,OAAO,CAACvB,IAAI,IAAIuB,OAAO,CAACxC,QAAQ,EAAE;MAClC,IAAI,CAACmC,cAAc,EAAE;;EAE7B;EAEOA,cAAcA,CAAA;IACjB,IAAI,CAACrD,KAAK,CAAC0C,KAAK,GAAGlE,kCAAK,CAAC,IAAI,CAAC2D,IAAI,CAAC,CAACrD,IAAI,CAAC,CAAC,CAAC,CAAC6D,MAAM,CAAC,EAAE,CAAC;IACtD,IAAI,CAAC3C,KAAK,CAAC4C,GAAG,GAAGpE,kCAAK,CAAC,IAAI,CAAC2D,IAAI,CAAC,CAACrD,IAAI,CAAC,EAAE,CAAC,CAAC6D,MAAM,CAAC,EAAE,CAAC;IACrD,IAAI,CAACkB,YAAY,EAAE;IACnB,IAAI,CAACf,UAAU,EAAE;EACrB;EAEOD,cAAcA,CAAA;IACjB,MAAMH,KAAK,GAAG,IAAI,CAAC1C,KAAK,CAAC0C,KAAK;IAC9B,MAAME,GAAG,GAAG,IAAI,CAAC5C,KAAK,CAAC4C,GAAG;IAC1B,MAAMZ,MAAM,GAAqB,EAAE;IACnC,KACI,IAAI8B,IAAI,GAAGtF,kCAAK,CAACkE,KAAK,CAAC,EACvBoB,IAAI,CAACC,QAAQ,CAACnB,GAAG,CAAC,EAClBkB,IAAI,GAAGA,IAAI,CAACZ,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,EACzB;MACElB,MAAM,CAACgC,IAAI,CAAC;QACRC,EAAE,EAAEH,IAAI,CAACI,MAAM,CAAC,OAAO,CAAC;QACxBC,OAAO,EAAEL,IAAI,CAACI,MAAM,CAAC,SAAS,CAAC;QAC/BtF,KAAK,EAAEkF,IAAI,CAACI,MAAM,CAAC,MAAM,CAAC;QAC1BpF,IAAI,EAAEgF,IAAI,CAACnB,MAAM,EAAE,KAAK,CAAC;QACzB/C,OAAO,EAAEkE,IAAI,CAACnB,MAAM,EAAE,GAAG,EAAE,KAAK;OACnC,CAAC;;IAEN,IAAI,CAAC3C,KAAK,CAACgC,MAAM,GAAGA,MAAM;EAC9B;EAEO4B,aAAaA,CAAA;IAChB,IAAI,CAACR,OAAO,CACR,SAAS,EACT,MAAK;MACD,IAAI,CAACpD,KAAK,CAAC2D,MAAM,GAAG,EAAE;MACtB,MAAMxB,IAAI,GAAG3D,kCAAK,CAAC,IAAI,CAACwB,KAAK,CAAC0C,KAAK,CAAC;MACpC,MAAME,GAAG,GAAG,IAAI,CAAC5C,KAAK,CAAC4C,GAAG;MAC1B,KAAK,MAAMwB,GAAG,IAAI,IAAI,CAACT,MAAM,IAAI,EAAE,EAAE;QACjC,MAAM3B,MAAM,GAAqB,EAAE;QACnC,KACI,IAAI8B,IAAI,GAAGtF,kCAAK,CAAC2D,IAAI,CAAC,EACtB2B,IAAI,CAACC,QAAQ,CAACnB,GAAG,CAAC,EAClBkB,IAAI,GAAGA,IAAI,CAACZ,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,EACzB;UACE,MAAMmB,OAAO,GAAG7F,kCAAK,CAACsF,IAAI,CAAC,CAACZ,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC;UACvC,IAAItB,MAAM,GAAG,EAAE;UACf,IAAIwC,GAAG,CAACxC,MAAM,EAAE;YACZA,MAAM,GAAGwC,GAAG,CAACxC,MAAM,CAAC0C,MAAM,CAAEC,CAAC,IAAI;cAC7B,MAAMC,UAAU,GAAGhG,kCAAK,CAAC,IAAI,CAAC2D,IAAI,CAAC,CAC9BrD,IAAI,CAACwE,IAAI,CAACC,KAAK,CAACgB,CAAC,CAAC7B,KAAK,CAAC,CAAC,CACzBC,MAAM,CAACW,IAAI,CAACC,KAAK,CAAEgB,CAAC,CAAC7B,KAAK,GAAG,EAAE,GAAI,EAAE,CAAC,CAAC;cAC5C,OACI,CAAC8B,UAAU,CAACC,OAAO,CAACX,IAAI,EAAE,GAAG,CAAC,IAC1BU,UAAU,CAACE,MAAM,CAACZ,IAAI,EAAE,GAAG,CAAC,KAChCU,UAAU,CAACT,QAAQ,CAACM,OAAO,EAAE,GAAG,CAAC;YAEzC,CAAC,CAAC;;UAENrC,MAAM,CAACgC,IAAI,CAAC;YACRC,EAAE,EAAEH,IAAI,CAACI,MAAM,CAAC,OAAO,CAAC;YACxBtC;WACH,CAAC;;QAEN,IAAI,CAAC5B,KAAK,CAAC2D,MAAM,CAACK,IAAI,CAAC;UAAE,GAAGI,GAAG;UAAEpC;QAAM,CAAE,CAAC;;MAE9C,IAAI,CAAC2C,gBAAgB,EAAE;IAC3B,CAAC,EACD,EAAE,CACL;EACL;EAEOA,gBAAgBA,CAAA;IACnB,IAAI,CAAC,IAAI,CAAC3E,KAAK,CAACgC,MAAM,EAAE;MACpB;;IAEJ,MAAMA,MAAM,GAAqB,IAAI,CAAChC,KAAK,CAACgC,MAAM,CAAC4C,GAAG,CAAEL,CAAC,KAAM;MAC3D,GAAGA,CAAC;MACJ5E,WAAW,EAAE;KAChB,CAAC,CAAC;IACH,KAAK,MAAMyE,GAAG,IAAI,IAAI,CAACpE,KAAK,CAAC2D,MAAM,EAAE;MACjC,KAAK,MAAMkB,KAAK,IAAIT,GAAG,CAACxC,MAAM,IAAI,EAAE,EAAE;QAClC,MAAMc,KAAK,GAAG,IAAI,CAACoC,WAAW,CAACD,KAAK,CAACnC,KAAK,CAAC;QAC3C,MAAME,GAAG,GAAGpE,kCAAK,CAACkE,KAAK,CAAC,CAACQ,GAAG,CAAC2B,KAAK,CAAC3D,QAAQ,EAAE,GAAG,CAAC;QACjD,KACI,IAAI4C,IAAI,GAAGtF,kCAAK,CAACkE,KAAK,CAAC,EACvBoB,IAAI,CAACC,QAAQ,CAACnB,GAAG,CAAC,EAClBkB,IAAI,GAAGA,IAAI,CAACZ,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,EACzB;UACE,MAAMiB,OAAO,GAAGL,IAAI,CAACI,MAAM,CAAC,OAAO,CAAC;UACpC,MAAMa,GAAG,GAAG/C,MAAM,CAACgD,IAAI,CAAET,CAAC,IAAKA,CAAC,CAACN,EAAE,KAAKE,OAAO,CAAC;UAChD,IAAIY,GAAG,EAAE;YACLA,GAAG,CAACpF,WAAW,GAAG,IAAI;;;;;IAKtC,IAAI,CAACK,KAAK,CAACgC,MAAM,GAAGA,MAAM;EAC9B;EAEO8C,WAAWA,CAAChB,IAAY;IAC3B,IAAI3G,CAAC,GAAGqB,kCAAK,EAAE,CACV2E,OAAO,CAAC,GAAG,CAAC,CACZrE,IAAI,CAACwE,IAAI,CAACC,KAAK,CAACO,IAAI,CAAC,CAAC,CACtBnB,MAAM,CAACW,IAAI,CAACC,KAAK,CAAEO,IAAI,GAAG,EAAE,GAAI,EAAE,CAAC,CAAC;IACzC3G,CAAC,GAAGA,CAAC,CAACwF,MAAM,CAACW,IAAI,CAACC,KAAK,CAACpG,CAAC,CAACwF,MAAM,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;IAC5C,OAAOxF,CAAC;EACZ;EAEO8H,UAAUA,CAACC,SAAiB;IAC/B,MAAMC,KAAK,GAAGD,SAAS,CAACE,KAAK,CAAC,GAAG,CAAC;IAClC,IAAIjI,CAAC,GAAGqB,kCAAK,EAAE,CACV2E,OAAO,CAAC,GAAG,CAAC,CACZrE,IAAI,CAAC,CAACqG,KAAK,CAAC,CAAC,CAAC,CAAC,CACfxC,MAAM,CAAC,CAACwC,KAAK,CAAC,CAAC,CAAC,CAAC;IACtBhI,CAAC,GAAGA,CAAC,CAACwF,MAAM,CAACW,IAAI,CAACC,KAAK,CAACpG,CAAC,CAACwF,MAAM,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;IAC5C,OAAOxF,CAAC;EACZ;EAEO0G,YAAYA,CAAA;IACf,MAAMnB,KAAK,GAAGlE,kCAAK,CAAC,IAAI,CAAC2D,IAAI,CAAC,CAACgB,OAAO,CAAC,GAAG,CAAC;IAC3C,MAAMkC,MAAM,GAAG,IAAI,CAACrF,KAAK,CAAC4C,GAAG,CAACY,IAAI,CAAC,IAAI,CAACxD,KAAK,CAAC0C,KAAK,EAAE,GAAG,CAAC,GAAG,EAAE;IAC9D,IAAI,CAAC1C,KAAK,CAACiB,UAAU,GAAGyB,KAAK,CAACc,IAAI,CAAC,IAAI,CAACxD,KAAK,CAAC0C,KAAK,EAAE,GAAG,CAAC,GAAG,EAAE,GAAG2C,MAAM;IACvE,IAAI,CAACrF,KAAK,CAACkB,QAAQ,GAAG,IAAI,CAACA,QAAQ,GAAG,EAAE,GAAGmE,MAAM;EACrD;EAEOvC,UAAUA,CAAA;IACb,MAAMJ,KAAK,GAAGlE,kCAAK,EAAE,CAAC2E,OAAO,CAAC,GAAG,CAAC;IAClC,MAAMkC,MAAM,GAAG,IAAI,CAACrF,KAAK,CAAC4C,GAAG,CAACY,IAAI,CAAC,IAAI,CAACxD,KAAK,CAAC0C,KAAK,EAAE,GAAG,CAAC,GAAG,EAAE;IAC9D,IAAI,CAAC1C,KAAK,CAACC,KAAK,GAAGyC,KAAK,CAACc,IAAI,CAAC,IAAI,CAACxD,KAAK,CAAC0C,KAAK,EAAE,GAAG,CAAC,GAAG,EAAE,GAAG2C,MAAM;EACtE;EAEOC,SAASA,CAAA;IACZ,IAAI,CAACtF,KAAK,CAACuF,IAAI,GAAG,EAAE;EACxB;EAEOlF,OAAOA,CAACkF,IAAY;IACvB,IAAI,CAACvF,KAAK,CAACuF,IAAI,GAAGA,IAAI;EAC1B;EAEO9F,OAAOA,CAAC+F,KAAqB;IAChC,IAAI,CAACA,KAAK,EAAE;MACR;;IAEJ,MAAML,KAAK,GAAGK,KAAK,CAACvB,EAAE,CAACmB,KAAK,CAAC,GAAG,CAAC;IACjC,MAAMtB,IAAI,GAAGtF,kCAAK,CAAC,IAAI,CAAC2D,IAAI,CAAC,CACxBrD,IAAI,CAAC,CAACqG,KAAK,CAAC,CAAC,CAAC,CAAC,CACfxC,MAAM,CAAC,CAACwC,KAAK,CAAC,CAAC,CAAC,CAAC;IACtB,IAAI,CAAChD,IAAI,GAAG2B,IAAI,CAAC1B,OAAO,EAAE;IAC1B,IAAI,CAACE,UAAU,CAACmD,IAAI,CAAC,IAAI,CAACtD,IAAI,CAAC;IAC/B,IAAI,CAAC0B,YAAY,EAAE;EACvB;EAEO0B,IAAIA,CAACG,CAAC;IACT,IAAI,CAACtC,OAAO,CACR,MAAM,EACN,MAAK;MACD,IAAI,IAAI,CAACpD,KAAK,CAACuF,IAAI,IAAI,IAAI,CAACI,OAAO,EAAE;QACjC,MAAMC,MAAM,GAAG;UACXC,CAAC,EACGH,CAAC,CAACI,OAAO,IAAIJ,CAAC,CAACI,OAAO,CAACC,MAAM,GAAG,CAAC,GAC3BL,CAAC,CAACI,OAAO,CAAC,CAAC,CAAC,CAACE,OAAO,IAAIN,CAAC,CAACM,OAAO,GACjCN,CAAC,CAACM,OAAO;UACnBC,CAAC,EACGP,CAAC,CAACI,OAAO,IAAIJ,CAAC,CAACI,OAAO,CAACC,MAAM,GAAG,CAAC,GAC3BL,CAAC,CAACI,OAAO,CAAC,CAAC,CAAC,CAACI,OAAO,IAAIR,CAAC,CAACQ,OAAO,GACjCR,CAAC,CAACQ;SACf;QACD,MAAMC,WAAW,GACb,IAAI,CAACR,OAAO,CAACS,aAAa,CAACC,qBAAqB,EAAE;QACtD,MAAMC,SAAS,GACX,CAACV,MAAM,CAACC,CAAC,GAAGM,WAAW,CAACI,IAAI,IAAIJ,WAAW,CAACK,KAAK;QACrD,MAAMC,SAAS,GACX,CAACb,MAAM,CAACK,CAAC,GAAGE,WAAW,CAACO,GAAG,IAAIP,WAAW,CAACQ,MAAM;QACrD,MAAMC,OAAO,GAAG,CAAC,IAAI,CAAC7G,QAAQ,GAAGuG,SAAS,GAAGG,SAAS;QAEtD,MAAMxF,UAAU,GACZ,IAAI,CAACjB,KAAK,CAAC0C,KAAK,CAAC5D,IAAI,EAAE,GACvB,IAAI,CAACkB,KAAK,CAAC0C,KAAK,CAACC,MAAM,EAAE,GAAG,EAAE;QAClC,MAAMkE,QAAQ,GACV,IAAI,CAAC7G,KAAK,CAAC4C,GAAG,CAAC9D,IAAI,EAAE,GAAG,IAAI,CAACkB,KAAK,CAAC4C,GAAG,CAACD,MAAM,EAAE,GAAG,EAAE;QACxD,MAAMmE,SAAS,GAAGD,QAAQ,GAAG5F,UAAU;QACvC,MAAM8F,UAAU,GAAG,EAAE;QACrB,MAAMjI,IAAI,GACNwE,IAAI,CAAC0D,IAAI,CACL,CAACF,SAAS,GAAGF,OAAO,GAAG3F,UAAU,KAC5B,EAAE,GAAG8F,UAAU,CAAC,CACxB,IACA,EAAE,GAAGA,UAAU,CAAC;QACrB,IAAI,IAAI,CAAC/G,KAAK,CAACuF,IAAI,KAAK,KAAK,EAAE;UAC3B,IAAIpD,IAAI,GAAG3D,kCAAK,CAAC,IAAI,CAAC2D,IAAI,CAAC;UAC3B,MAAMS,GAAG,GAAGpE,kCAAK,CAAC,IAAI,CAAC2D,IAAI,CAAC,CACvBrD,IAAI,CAACwE,IAAI,CAACC,KAAK,CAACzE,IAAI,CAAC,CAAC,CACtB6D,MAAM,CAACW,IAAI,CAACC,KAAK,CAAEzE,IAAI,GAAG,EAAE,GAAI,EAAE,CAAC,CAAC;UACzC,IAAI8D,GAAG,CAAC8B,MAAM,CAACvC,IAAI,EAAE,GAAG,CAAC,IAAIS,GAAG,CAACmB,QAAQ,CAAC5B,IAAI,EAAE,GAAG,CAAC,EAAE;YAClDA,IAAI,GAAG3D,kCAAK,CAACoE,GAAG,CAAC,CAACM,GAAG,CAAC,CAAC,IAAI,CAAChC,QAAQ,EAAE,GAAG,CAAC;YAC1C,IAAI,CAACiB,IAAI,GAAGA,IAAI,CAACC,OAAO,EAAE;WAC7B,MAAM;YACH,MAAMlB,QAAQ,GAAGoC,IAAI,CAACC,KAAK,CAACX,GAAG,CAACY,IAAI,CAACrB,IAAI,EAAE,GAAG,CAAC,CAAC;YAChD,IAAI,CAACjB,QAAQ,GAAGoC,IAAI,CAAC2D,GAAG,CACpB,EAAE,EACF/F,QAAQ,IAAI6F,UAAU,CACzB;YACD,IAAI,CAACxE,cAAc,CAACkD,IAAI,CAAC,IAAI,CAACvE,QAAQ,CAAC;;SAE9C,MAAM,IAAI,IAAI,CAAClB,KAAK,CAACuF,IAAI,KAAK,OAAO,EAAE;UACpC,MAAMpD,IAAI,GAAG3D,kCAAK,CAAC,IAAI,CAAC2D,IAAI,CAAC,CACxBrD,IAAI,CAACwE,IAAI,CAACC,KAAK,CAACzE,IAAI,CAAC,CAAC,CACtB6D,MAAM,CAACW,IAAI,CAACC,KAAK,CAAEzE,IAAI,GAAG,EAAE,GAAI,EAAE,CAAC,CAAC;UACzC,IAAI,CAACqD,IAAI,GAAGA,IAAI,CAACC,OAAO,EAAE;;QAE9B,IAAI,CAACE,UAAU,CAACmD,IAAI,CAAC,IAAI,CAACtD,IAAI,CAAC;QAC/B,IAAI,CAAC0B,YAAY,EAAE;;IAE3B,CAAC,EACD,EAAE,CACL;EACL;;AA7QS5B,sBACT;;;8JADSA,sBAAsB,IAAA9E,CAAA,IAAtB8E,sBAAsB;EAAA;AAAA;AAAtBA,sBACT;QADSA,sBAAsB;EAAA7E,SAAA;EAAA8J,SAAA,WAAAC,6BAAAC,EAAA,EAAAlJ,GAAA;IAAA,IAAAkJ,EAAA;;;;;;;;;;;;;;;;;;;;;;;;;;MC/CnChL,4DAAA,UAA6D;MACtCA,wDAAA,qBAAAiL,uDAAA;QAAA,OAAkBnJ,GAAA,CAAAoH,SAAA,EAAW;MAAA,UAAAlJ,6DAAA,CAAC,sBAAAmL,wDAAA;QAAA,OAAoBrJ,GAAA,CAAAoH,SAAA,EAAW;MAAA,UAAAlJ,6DAAA,CAA/B;MAC7CA,4DAAA,aAAyB;MACrBA,uDAAA,aAA0B;MAC1BA,4DAAA,aAAkB;MACdA,wDAAA,IAAAoL,qCAAA,iBAIM;MACVpL,0DAAA,EAAM;MAGdA,4DAAA,aAAqB;MAEbA,uDAAA,aAA0B;MAC1BA,4DAAA,gBAAiF;MAAtDA,wDAAA,uBAAAqL,yDAAAC,MAAA;QAAA,OAAaxJ,GAAA,CAAAqH,IAAA,CAAAmC,MAAA,CAAY;MAAA,EAAC,uBAAAC,yDAAAD,MAAA;QAAA,OAAcxJ,GAAA,CAAAqH,IAAA,CAAAmC,MAAA,CAAY;MAAA,EAA1B;MACjDtL,wDAAA,KAAAwL,sCAAA,iBAOM;MACNxL,wDAAA,KAAAyL,sCAAA,kBAKO;MACPzL,wDAAA,KAAA0L,sCAAA,kBAuBM;MACV1L,0DAAA,EAAM;MAEVA,wDAAA,KAAA2L,sCAAA,kBAmBM;MACV3L,0DAAA,EAAM;;;MA7ELA,wDAAA,qBAAA8B,GAAA,CAAA+J,KAAA,SAAA/J,GAAA,CAAA+J,KAAA,OAAuD;MAKJ7L,uDAAA,GAAqB;MAArBA,wDAAA,YAAA8B,GAAA,CAAA8B,KAAA,CAAAgC,MAAA,IAAA5F,6DAAA,IAAA+L,GAAA,EAAqB;MAczC/L,uDAAA,GAAqB;MAArBA,wDAAA,YAAA8B,GAAA,CAAA8B,KAAA,CAAAgC,MAAA,IAAA5F,6DAAA,IAAA+L,GAAA,EAAqB;MAQpC/L,uDAAA,GAAqB;MAArBA,wDAAA,SAAA8B,GAAA,CAAA8B,KAAA,CAAAC,KAAA,KAAqB;MAMrB7D,uDAAA,GAAgB;MAAhBA,wDAAA,SAAA8B,GAAA,CAAAmE,UAAA,CAAgB;MAwBIjG,uDAAA,GAA0B;MAA1BA,wDAAA,YAAA8B,GAAA,CAAA8B,KAAA,CAAA2D,MAAA,IAAAvH,6DAAA,IAAA+L,GAAA,EAA0B;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxDA;;;;;;;;;;;;;;;;IAcnD/L,4DAAA,YAWC;IAKYA,oDAAA,mBAAY;IAAAA,0DAAA,EAChB;IACDA,4DAAA,mBACK;IAAAA,oDAAA,mBAAY;IAAAA,0DAAA,EAChB;IAELA,4DAAA,cAA0B;IAA1BA,oDAAA,OAA0B;IAAYA,0DAAA,EAAM;;;;IAnB5CA,wDAAA,eAAA4E,MAAA,CAAAsH,YAAA,GAAAlM,6DAAA,IAAAmM,GAAA,IAAAnM,6DAAA,IAAAoM,GAAA,EAIC;;;;;;;;;;;IAiBLpM,4DAAA,YAWC;IAKYA,oDAAA,WAAI;IAAAA,0DAAA,EACR;IACDA,4DAAA,mBACK;IAAAA,oDAAA,WAAI;IAAAA,0DAAA,EACR;IAELA,4DAAA,cAA0B;IAA1BA,oDAAA,OAA0B;IAASA,0DAAA,EAAM;;;;IAnBzCA,wDAAA,eAAAqM,MAAA,CAAAH,YAAA,GAAAlM,6DAAA,IAAAsM,GAAA,IAAAtM,6DAAA,IAAAuM,GAAA,EAIC;;;;;;;;IAiBLvM,4DAAA,YAOC;IAKYA,oDAAA,qBAAc;IAAAA,0DAAA,EAClB;IACDA,4DAAA,mBACK;IAAAA,oDAAA,qBAAc;IAAAA,0DAAA,EAClB;IAELA,4DAAA,cAA0B;IAA1BA,oDAAA,OAA0B;IAAcA,0DAAA,EAAM;;;IAf9CA,wDAAA,eAAAA,6DAAA,IAAAwM,IAAA,EAAmC;;;;;;;;IAiBvCxM,4DAAA,YAOC;IAKYA,oDAAA,iBAAU;IAAAA,0DAAA,EACd;IACDA,4DAAA,mBACK;IAAAA,oDAAA,iBAAU;IAAAA,0DAAA,EACd;IAELA,4DAAA,cAA0B;IAA1BA,oDAAA,OAA0B;IAAcA,0DAAA,EAAM;;;IAd9CA,wDAAA,eAAAA,6DAAA,IAAAyM,IAAA,EAAmC;;;;;;;;;;;IAgBvCzM,4DAAA,YASC;IAKYA,oDAAA,YAAK;IAAAA,0DAAA,EACT;IACDA,4DAAA,mBACK;IAAAA,oDAAA,YAAK;IAAAA,0DAAA,EACT;IAELA,4DAAA,cAA0B;IAA1BA,oDAAA,OAA0B;IAAaA,0DAAA,EAAM;;;;IAjB7CA,wDAAA,eAAA0M,MAAA,CAAAR,YAAA,GAAAlM,6DAAA,IAAA2M,IAAA,IAAA3M,6DAAA,IAAA4M,IAAA,EAEC;;;;;;IAtGb5M,4DAAA,aAKC;IADGA,wDAAA,mBAAA6M,wDAAA;MAAA7M,2DAAA,CAAA8M,IAAA;MAAA,MAAAC,MAAA,GAAA/M,2DAAA;MAAA,OAAAA,yDAAA,CAAA+M,MAAA,CAAAC,eAAA,GAA2B,KAAK;IAAA,EAAC;IAEjChN,4DAAA,aAEC;IACGA,wDAAA,IAAAiN,sCAAA,eAuBI;IACJjN,wDAAA,IAAAkN,sCAAA,eAuBI;IACJlN,wDAAA,IAAAmN,sCAAA,eAmBI;IACJnN,wDAAA,IAAAoN,sCAAA,eAmBI;IACJpN,wDAAA,IAAAqN,sCAAA,eAqBI;IACRrN,0DAAA,EAAM;;;;IApHNA,yDAAA,SAAAU,MAAA,CAAA6M,SAAA,CAAuB;IAcdvN,uDAAA,GAAiC;IAAjCA,wDAAA,SAAAU,MAAA,CAAAS,QAAA,CAAAqM,QAAA,WAAiC;IAyBjCxN,uDAAA,GAAgC;IAAhCA,wDAAA,SAAAU,MAAA,CAAAS,QAAA,CAAAqM,QAAA,UAAgC;IAoBhCxN,uDAAA,GAAkC;IAAlCA,wDAAA,SAAAU,MAAA,CAAAS,QAAA,CAAAqM,QAAA,YAAkC;IAkBlCxN,uDAAA,GAAyC;IAAzCA,wDAAA,SAAAU,MAAA,CAAAS,QAAA,CAAAqM,QAAA,mBAAyC;IAuBzCxN,uDAAA,GAAmC;IAAnCA,wDAAA,SAAAU,MAAA,CAAAS,QAAA,CAAAqM,QAAA,aAAmC;;;;;;;;;;;;IAkBhDxN,4DAAA,cAIC;IAQyCA,oDAAA,WAAI;IAAAA,0DAAA,EAAW;IACjDA,4DAAA,mBAIK;IAAAA,oDAAA,WAAI;IAAAA,0DAAA,EACR;IACDA,4DAAA,eAA2B;IAA3BA,oDAAA,OAA2B;IAAIA,0DAAA,EAAO;IAE1CA,4DAAA,iBAOC;IAJGA,wDAAA,mBAAAyN,2DAAA;MAAAzN,2DAAA,CAAA0N,IAAA;MAAA,MAAAC,OAAA,GAAA3N,2DAAA;MAAA,OAAAA,yDAAA,CAAA2N,OAAA,CAAAX,eAAA,IAAAW,OAAA,CAAAX,eAAA;IAAA,EAA4C;IAK5ChN,4DAAA,mBAA2B;IAAAA,oDAAA,IAEzB;IAAAA,0DAAA,EAAW;IAEjBA,4DAAA,aAKC;IACqCA,oDAAA,aAAK;IAAAA,0DAAA,EAAW;IAClDA,4DAAA,oBAIK;IAAAA,oDAAA,aAAK;IAAAA,0DAAA,EACT;IACDA,4DAAA,gBAA2B;IAA3BA,oDAAA,QAA2B;IAAMA,0DAAA,EAAO;IAE5CA,4DAAA,eAEC;IACGA,uDAAA,eAEO;IACXA,0DAAA,EAAM;;;;IAnDNA,yDAAA,SAAA4N,MAAA,CAAAL,SAAA,CAAuB;IAKnBvN,uDAAA,GAA6B;IAA7BA,wDAAA,eAAAA,6DAAA,KAAA8N,IAAA,EAAAF,MAAA,CAAAG,YAAA,EAA6B;IAiB7B/N,uDAAA,GAAoC;IAApCA,yDAAA,eAAA4N,MAAA,CAAAZ,eAAA,CAAoC,eAAAY,MAAA,CAAAZ,eAAA,kBAAAY,MAAA,CAAAZ,eAAA;IAIThN,uDAAA,GAEzB;IAFyBA,+DAAA,CAAA4N,MAAA,CAAAZ,eAAA,mBAEzB;IAKFhN,uDAAA,GAA2B;IAA3BA,wDAAA,eAAAA,6DAAA,KAAAgO,IAAA,EAA2B;;;;;IAqB/BhO,4DAAA,cAEC;IACGA,uDAAA,eAAqB;IACzBA,0DAAA,EAAM;;;AAzLlB,MA6MaiO,mBAAmB;EAG5B,IAAWF,YAAYA,CAAA;IACnB,OAAO,IAAI,CAACG,SAAS,CAACC,GAAG,CAAC,mBAAmB,CAAC,IAAI,YAAY;EAClE;EAEA,IAAWhN,QAAQA,CAAA;IACf,OAAO,IAAI,CAAC+M,SAAS,CAACC,GAAG,CAAC,cAAc,CAAC,IAAI,EAAE;EACnD;EAEA,IAAWjC,YAAYA,CAAA;IACnB,OAAO,CAAC,CAAC,IAAI,CAACgC,SAAS,CAACC,GAAG,CAAC,kBAAkB,CAAC;EACnD;EAEA,IAAWZ,SAASA,CAAA;IAChB,OAAO,CAAC,CAAC,IAAI,CAACW,SAAS,CAACC,GAAG,CAAC,WAAW,CAAC;EAC5C;EAEArI,YAAoBoI,SAA0B;IAA1B,KAAAA,SAAS,GAATA,SAAS;IAlBtB,KAAAlB,eAAe,GAAG,KAAK;EAkBmB;;AAnBxCiB,mBAAmB;mBAAnBA,mBAAmB,EAAAjO,+DAAA,CAAAzC,4DAAA;AAAA;AAAnB0Q,mBAAmB;QAAnBA,mBAAmB;EAAAjN,SAAA;EAAAK,KAAA;EAAAC,IAAA;EAAAC,MAAA,WAAAA,CAAA;IAAA,IAAAC,MAAA;IAAA,WAAAC,iBAAA,oBAAAA,iBAAA;;;;;;;eA3KcC,SAAA,6EAAY;;;;;;;;;;eAwBZA,SAAA,0EAAS;;;;;;;;;;eAoBTA,SAAA,+EAAc;;;;;;;;;;gBAoBdA,SAAA,+EAAc;;;;;;;;;;gBAsBdA,SAAA,8EAAa;;;;;;;;;;gBAuBhBA,SAAA,qEAAI;;;;;;;;;;gBA2BJA,SAAA,sEAAM;;;;;;MAvKzC1B,wDAAA,IAAAqO,kCAAA,iBAwHM;MACNrO,wDAAA,IAAAsO,kCAAA,mBAuDM;MACNtO,wDAAA,IAAAuO,0CAAA,gCAAAvO,oEAAA,CAMc;;;;MArLTA,wDAAA,SAAA8B,GAAA,CAAAkL,eAAA,CAAqB;MAyHrBhN,uDAAA,GAA2B;MAA3BA,wDAAA,SAAA8B,GAAA,CAAAX,QAAA,CAAAwI,MAAA,KAA2B,aAAA8E,GAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjIyB;AAClB;AAES;;;;;;;;;;;;IAoCxCzO,uDAAA,sBAGe;;;IADXA,wDAAA,gBAAe;;;;;IAcnBA,4DAAA,cAQC;IARDA,oDAAA,OAQC;IAEDA,0DAAA,EAAM;;;;;;;;;;;;;;;;;;;;;;;;IAEFA,4DAAA,YAYC;IAGWA,oDAAA,GACJ;IAAAA,0DAAA,EAAM;IACNA,4DAAA,cAAgC;IAC5BA,oDAAA,GACJ;IAAAA,0DAAA,EAAM;IAEVA,4DAAA,cAEC;IACGA,oDAAA,GACJ;IAAAA,0DAAA,EAAM;;;;IAtBNA,wDAAA,eAAAA,6DAAA,IAAAoM,GAAA,EAA2B,gBAAAuC,SAAA,CAAAC,IAAA,eAAA5O,6DAAA,IAAA6O,GAAA,EAAAF,SAAA,CAAA9G,EAAA,IAAA8G,SAAA,CAAAC,IAAA,cAAA5O,6DAAA,IAAA8O,GAAA,EAAAH,SAAA,CAAA9G,EAAA,IAAA7H,6DAAA,KAAAsM,GAAA,EAAAqC,SAAA,CAAA9G,EAAA,EAAA8G,SAAA,CAAAhJ,IAAA;IAYnB3F,uDAAA,GACJ;IADIA,gEAAA,MAAA2O,SAAA,CAAAhJ,IAAA,MACJ;IAEI3F,uDAAA,GACJ;IADIA,gEAAA,MAAA2O,SAAA,CAAAM,WAAA,MACJ;IAKAjP,uDAAA,GACJ;IADIA,gEAAA,MAAA2O,SAAA,CAAAC,IAAA,MACJ;;;;;IA1BR5O,qEAAA,GAAuD;IACnDA,wDAAA,IAAAmP,kDAAA,iBA0BI;;;IACRnP,mEAAA,EAAe;;;;IAzBYA,uDAAA,GAA+B;IAA/BA,wDAAA,YAAAA,yDAAA,OAAAA,yDAAA,OAAA0D,MAAA,CAAA6L,OAAA,SAA+B;;;;;IA6B9DvP,4DAAA,cAKC;IALDA,oDAAA,OAKC;IAEDA,0DAAA,EAAM;;;;;IAPNA,wDAAA,IAAAwP,mDAAA,kBAOM;;;;;;IALDxP,wDAAA,YAAAyP,OAAA,GAAAzP,yDAAA,OAAAqM,MAAA,CAAAkD,OAAA,oBAAAE,OAAA,CAAA9F,MAAA,EAAgC;;;;;;;;;;;;AA/FjD,MA+Ga+F,qBAAsB,SAAQ3P,yDAAY;EAcnD+F,YAAoB6J,QAA8B;IAC9C,KAAK,EAAE;IADS,KAAAA,QAAQ,GAARA,QAAQ;IAbZ,KAAAJ,OAAO,GAAG,IAAI,CAACI,QAAQ,CAACC,cAAc;IACtC,KAAAC,OAAO,GAAG,IAAI,CAACF,QAAQ,CAACE,OAAO;IACxC,KAAAC,IAAI,GAAG,KAAK;IAEZ,KAAAC,UAAU,GAAG,EAAE;IAEN,KAAAC,SAAS,GAAIC,CAAC,IAC1BA,CAAC,YAAYC,MAAM,GACZ,IAAI,CAACH,UAAU,GAAG,EAAE,GACrB,IAAI,CAACJ,QAAQ,CAACK,SAAS,CAACC,CAAC,CAAC;EAMpC;EAEOE,SAASA,CAAA;IACZ,IAAI,CAACL,IAAI,GAAG,IAAI;IAChB,IAAI,CAACM,SAAS,CAACpG,aAAa,CAACqG,KAAK,EAAE;IACpC,IAAI,CAACC,YAAY,CAAC,OAAO,CAAC;EAC9B;EAEOC,SAASA,CAAA;IACZ,IAAI,CAACvJ,OAAO,CAAC,OAAO,EAAE,MAAO,IAAI,CAAC8I,IAAI,GAAG,KAAM,CAAC;EACpD;;AA1BSJ,qBAAsB;mBAAtBA,qBAAqB,EAAA1P,+DAAA,CAAAzC,kEAAA;AAAA;AAArBmS,qBAAsB;QAAtBA,qBAAqB;EAAA1O,SAAA;EAAA8J,SAAA,WAAA0F,4BAAAxF,EAAA,EAAAlJ,GAAA;IAAA,IAAAkJ,EAAA;;;;;;;;;;;;;;;;;;;;eArDjBtJ,SAAA,oFAED;;;;;;;;;;eAsCHA,SAAA,4FAED;;;;;;MAjGJ1B,4DAAA,aAAkC;MAM1BA,wDAAA,mBAAAyQ,uDAAA;QAAA,OAAS3O,GAAA,CAAAqO,SAAA,EAAW;MAAA,EAAC;MAErBnQ,4DAAA,kBAA2B;MAAAA,oDAAA,aAAM;MAAAA,0DAAA,EAAW;MAEhDA,4DAAA,aAWC;MADGA,wDAAA,mBAAA0Q,oDAAA;QAAA,OAAS5O,GAAA,CAAAqO,SAAA,EAAW;MAAA,EAAC;MAErBnQ,4DAAA,kBAA2B;MAAAA,oDAAA,aAAM;MAAAA,0DAAA,EAAW;MAC5CA,4DAAA,kBAOE;MAHEA,wDAAA,2BAAA2Q,8DAAArF,MAAA;QAAA,OAAAxJ,GAAA,CAAAiO,UAAA,GAAAzE,MAAA;MAAA,EAAwB,2BAAAqF,8DAAArF,MAAA;QAAA,OACPxJ,GAAA,CAAAkO,SAAA,CAAA1E,MAAA,CAAiB;MAAA,EADV,kBAAAsF,qDAAA;QAAA,OAEhB9O,GAAA,CAAAyO,SAAA,EAAW;MAAA,EAFK;MAJ5BvQ,0DAAA,EAOE;MACFA,wDAAA,IAAA6Q,4CAAA,yBAGe;;MACnB7Q,0DAAA,EAAM;MACNA,4DAAA,cAUC;MACGA,wDAAA,KAAA8Q,qCAAA,iBAUM;;MACN9Q,wDAAA,KAAA+Q,8CAAA,0BA4Be;;MACnB/Q,0DAAA,EAAM;MAEVA,wDAAA,KAAAgR,6CAAA,iCAAAhR,oEAAA,CASc;;;;;MArFNA,uDAAA,GAME;MANFA,wDAAA,YAAAA,6DAAA,KAAAkR,GAAA,EAAApP,GAAA,CAAAgO,IAAA,GAAAhO,GAAA,CAAAgO,IAAA,EAAAhO,GAAA,CAAAgO,IAAA,GAAAhO,GAAA,CAAAgO,IAAA,GAAAhO,GAAA,CAAAgO,IAAA,EAME;MAQE9P,uDAAA,GAAwB;MAAxBA,wDAAA,YAAA8B,GAAA,CAAAiO,UAAA,CAAwB;MAKvB/P,uDAAA,GAAqB;MAArBA,wDAAA,SAAAA,yDAAA,QAAA8B,GAAA,CAAA+N,OAAA,EAAqB;MAO1B7P,uDAAA,GAME;MANFA,wDAAA,YAAAA,6DAAA,KAAAkR,GAAA,EAAApP,GAAA,CAAAgO,IAAA,GAAAhO,GAAA,CAAAgO,IAAA,EAAAhO,GAAA,CAAAgO,IAAA,GAAAhO,GAAA,CAAAgO,IAAA,GAAAhO,GAAA,CAAAgO,IAAA,EAME;MAKG9P,uDAAA,GAGb;MAHaA,wDAAA,YAAAmR,OAAA,GAAAnR,yDAAA,QAAA8B,GAAA,CAAAyN,OAAA,oBAAA4B,OAAA,CAAAxH,MAAA,KAAA7H,GAAA,CAAAiO,UAAA,CAGb,aAAAqB,GAAA;MAKuBpR,uDAAA,GAAsC;MAAtCA,wDAAA,UAAAA,yDAAA,SAAA8B,GAAA,CAAA+N,OAAA,KAAA/N,GAAA,CAAAiO,UAAA,CAAsC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClEtB;AACA;AACmB;AACK;AACZ;AACZ;AAEQ;AACC;AACH;AACI;AACJ;AACF;AACJ;AAEiB;AACL;AACO;AACT;AACqB;AACnB;AACF;AACA;AACF;AACQ;AACR;AACM;AACJ;AACa;AACL;AACR;AACE;AACW;AAEJ;AACb;AACsB;AACQ;AACS;AACpC;AACM;;;AAE9D,MAAMqD,UAAU,GAAgB,CAC5BH,8DAAe,EACfvD,2EAAqB,EACrB5O,oFAAyB,EACzBoS,sGAAyB,EACzBrN,6FAAsB,EACtBsN,kEAAgB,EAChBlF,wEAAmB,CACtB;AAED,MAAMoF,gBAAgB,GAAU,CAC5B5B,sEAAe,EACf1T,2EAAiB,EACjBiU,sEAAe,EACfC,6EAAkB,EAClBC,oEAAc,EACdC,yFAAwB,EACxBS,iFAAoB,EACpBpB,kFAAqB,EACrBY,sEAAe,EACfC,oEAAc,EACdC,oEAAe,EACfC,kEAAa,EACbC,0EAAiB,EACjBK,4EAAkB,EAClBJ,kEAAa,EACbK,oEAAc,EACdJ,wEAAgB,EAChBC,oEAAc,EACdK,iFAAoB,EACpBD,sEAAe,CAClB;AAED,MA2BarU,qBAAqB;AAArBA,qBAAqB;mBAArBA,qBAAqB;AAAA;AAArBA,qBAAqB;QAArBA;AAAqB;AAArBA,qBAAqB;YAxB1B2S,0DAAY,EACZzV,mEAAqB,CAAC,EAAE,CAAC,EACzBgC,wDAAW,EACX2T,gEAAmB,EACnBG,iEAAgB,EAChBC,kEAAgB,EAChBC,+DAAkB,EAClBjT,mEAAoB,EACpBkT,+DAAkB,EAClBC,6DAAc,EACXuB,gBAAgB,EAInB3B,iEAAgB,EAChBC,kEAAgB,EAChBC,+DAAkB,EAClBjT,mEAAoB,EACpBkT,+DAAkB,EAClBE,yDAAY,EACZD,6DAAc,EA7ClBL,sEAAe,EACf1T,2EAAiB,EACjBiU,sEAAe,EACfC,6EAAkB,EAClBC,oEAAc,EACdC,yFAAwB,EACxBS,iFAAoB,EACpBpB,kFAAqB,EACrBY,sEAAe,EACfC,oEAAc,EACdC,oEAAe,EACfC,kEAAa,EACbC,0EAAiB,EACjBK,4EAAkB,EAClBJ,kEAAa,EACbK,oEAAc,EACdJ,wEAAgB,EAChBC,oEAAc,EACdK,iFAAoB,EACpBD,sEAAe;AAAA;AA8Be;;uHAArBrU,qBAAqB;IAAAkB,YAAA,GA3D9BqT,8DAAe,EACfvD,2EAAqB,EACrB5O,oFAAyB,EACzBoS,sGAAyB,EACzBrN,6FAAsB,EACtBsN,kEAAgB,EAChBlF,wEAAmB;IAAA3Q,OAAA,GA6Bf+T,0DAAY,EAAA9T,0DAAA,EAEZK,wDAAW,EACX2T,gEAAmB,EACnBG,iEAAgB,EAChBC,kEAAgB,EAChBC,+DAAkB,EAClBjT,mEAAoB,EACpBkT,+DAAkB,EAClBC,6DAAc,EAlClBL,sEAAe,EACf1T,2EAAiB,EACjBiU,sEAAe,EACfC,6EAAkB,EAClBC,oEAAc,EACdC,yFAAwB,EACxBS,iFAAoB,EACpBpB,kFAAqB,EACrBY,sEAAe,EACfC,oEAAc,EACdC,oEAAe,EACfC,kEAAa,EACbC,0EAAiB,EACjBK,4EAAkB,EAClBJ,kEAAa,EACbK,oEAAc,EACdJ,wEAAgB,EAChBC,oEAAc,EACdK,iFAAoB,EACpBD,sEAAe;IAAAvV,OAAA,GA7BfyV,8DAAe,EACfvD,2EAAqB,EACrB5O,oFAAyB,EACzBoS,sGAAyB,EACzBrN,6FAAsB,EACtBsN,kEAAgB,EAChBlF,wEAAmB,EA2CfyD,iEAAgB,EAChBC,kEAAgB,EAChBC,+DAAkB,EAClBjT,mEAAoB,EACpBkT,+DAAkB,EAClBE,yDAAY,EACZD,6DAAc,EA7ClBL,sEAAe,EACf1T,2EAAiB,EACjBiU,sEAAe,EACfC,6EAAkB,EAClBC,oEAAc,EACdC,yFAAwB,EACxBS,iFAAoB,EACpBpB,kFAAqB,EACrBY,sEAAe,EACfC,oEAAc,EACdC,oEAAe,EACfC,kEAAa,EACbC,0EAAiB,EACjBK,4EAAkB,EAClBJ,kEAAa,EACbK,oEAAc,EACdJ,wEAAgB,EAChBC,oEAAc,EACdK,iFAAoB,EACpBD,sEAAe;EAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;ACvEsB;AACS;AACU;;;;;;;;;;;IAyB5C/S,4DAAA,eACK;IAAAA,oDAAA,WAAI;IAAAA,0DAAA,EACR;;;;;IAyBDA,4DAAA,eACK;IAAAA,oDAAA,gBAAS;IAAAA,0DAAA,EACb;;;;;;;;;;;IArBLA,4DAAA,YAWC;IACoCA,oDAAA,mBAAY;IAAAA,0DAAA,EAAW;IACxDA,4DAAA,kBAIK;IAAAA,oDAAA,mBAAY;IAAAA,0DAAA,EAChB;IACDA,wDAAA,IAAAwT,oCAAA,kBAEC;IACDxT,uDAAA,aAGO;IACXA,0DAAA,EAAI;;;;IArBAA,wDAAA,eAAA4N,MAAA,CAAA1B,YAAA,GAAAlM,6DAAA,IAAAyT,GAAA,IAAAzT,6DAAA,IAAA+L,GAAA,EAEC;IAYM/L,uDAAA,GAAe;IAAfA,wDAAA,SAAA4N,MAAA,CAAA8F,SAAA,CAAe;;;;;;IAmCtB1T,6DAAA,EACK;IADLA,4DAAA,eACK;IADLA,oDAAA,OACK;IAASA,0DAAA,EACb;;;;;;;;;;;IA7BLA,4DAAA,YAWC;IAEOA,4DAAA,EAKC;IALDA,4DAAA,cAKC;IACGA,uDAAA,eAKE;IACNA,0DAAA,EAAM;IAEVA,wDAAA,IAAA6T,oCAAA,kBAEC;IACD7T,6DAAA,EAGC;IAHDA,uDAAA,aAGO;IACXA,0DAAA,EAAI;;;;IA7BAA,wDAAA,eAAA8T,MAAA,CAAA5H,YAAA,GAAAlM,6DAAA,IAAA6O,GAAA,IAAA7O,6DAAA,IAAA8O,GAAA,EAEC;IAoBM9O,uDAAA,GAAe;IAAfA,wDAAA,SAAA8T,MAAA,CAAAJ,SAAA,CAAe;;;;;IAyBtB1T,4DAAA,eACK;IAAAA,oDAAA,kBAAW;IAAAA,0DAAA,EACf;;;;;;;;IAnBLA,4DAAA,YASC;IACoCA,oDAAA,WAAI;IAAAA,0DAAA,EAAW;IAChDA,4DAAA,kBAIK;IAAAA,oDAAA,WAAI;IAAAA,0DAAA,EACR;IACDA,wDAAA,IAAA+T,qCAAA,kBAEC;IACD/T,uDAAA,aAGO;IACXA,0DAAA,EAAI;;;;IAnBAA,wDAAA,eAAAA,6DAAA,IAAAsM,GAAA,EAAkC;IAY3BtM,uDAAA,GAAe;IAAfA,wDAAA,SAAA0D,MAAA,CAAAgQ,SAAA,CAAe;;;;;IA6BtB1T,4DAAA,eACK;IADLA,oDAAA,OACK;IAAcA,0DAAA,EAClB;;;;;;;;;;;IAvBLA,4DAAA,YAaC;IACoCA,oDAAA,qBAAc;IAAAA,0DAAA,EAAW;IAC1DA,4DAAA,kBAIK;IAAAA,oDAAA,qBAAc;IAAAA,0DAAA,EAClB;IACDA,wDAAA,IAAAgU,qCAAA,kBAEC;IACDhU,uDAAA,aAGO;IACXA,0DAAA,EAAI;;;;IAvBAA,wDAAA,eAAA4E,MAAA,CAAAsH,YAAA,GAAAlM,6DAAA,IAAAkR,GAAA,IAAAlR,6DAAA,IAAAwM,IAAA,EAIC;IAYMxM,uDAAA,GAAe;IAAfA,wDAAA,SAAA4E,MAAA,CAAA8O,SAAA,CAAe;;;;;IAyBtB1T,4DAAA,eACK;IADLA,oDAAA,OACK;IAAcA,0DAAA,EAClB;;;;;;;;IAnBLA,4DAAA,YASC;IACoCA,oDAAA,iBAAU;IAAAA,0DAAA,EAAW;IACtDA,4DAAA,kBAIK;IAAAA,oDAAA,iBAAU;IAAAA,0DAAA,EACd;IACDA,wDAAA,IAAAiU,qCAAA,kBAEC;IACDjU,uDAAA,aAGO;IACXA,0DAAA,EAAI;;;;IAnBAA,wDAAA,eAAAA,6DAAA,IAAAyM,IAAA,EAAmC;IAY5BzM,uDAAA,GAAe;IAAfA,wDAAA,SAAAqM,MAAA,CAAAqH,SAAA,CAAe;;;;;IAyBtB1T,4DAAA,eACK;IADLA,oDAAA,OACK;IAAMA,0DAAA,EACV;;;;;;;;IAnBLA,4DAAA,YASC;IACoCA,oDAAA,YAAK;IAAAA,0DAAA,EAAW;IACjDA,4DAAA,kBAIK;IAAAA,oDAAA,YAAK;IAAAA,0DAAA,EACT;IACDA,wDAAA,IAAAkU,qCAAA,kBAEC;IACDlU,uDAAA,aAGO;IACXA,0DAAA,EAAI;;;;IAnBAA,wDAAA,eAAAA,6DAAA,IAAA2M,IAAA,EAA2B;IAYpB3M,uDAAA,GAAe;IAAfA,wDAAA,SAAAmU,MAAA,CAAAT,SAAA,CAAe;;;;;IAyBtB1T,4DAAA,eACK;IADLA,oDAAA,OACK;IAAaA,0DAAA,EACjB;;;;;;;;;;;IAnBLA,4DAAA,YASC;IACoCA,oDAAA,YAAK;IAAAA,0DAAA,EAAW;IACjDA,4DAAA,kBAIK;IAAAA,oDAAA,YAAK;IAAAA,0DAAA,EACT;IACDA,wDAAA,IAAAoU,qCAAA,kBAEC;IACDpU,uDAAA,aAGO;IACXA,0DAAA,EAAI;;;;IAnBAA,wDAAA,eAAAqU,MAAA,CAAAnI,YAAA,GAAAlM,6DAAA,IAAAsU,IAAA,IAAAtU,6DAAA,IAAAuU,IAAA,EAAgE;IAYzDvU,uDAAA,GAAe;IAAfA,wDAAA,SAAAqU,MAAA,CAAAX,SAAA,CAAe;;;;;;AAtNtC,MAsPaP,gBAAgB;EAMzB,IAAWO,SAASA,CAAA;IAChB,OAAO,IAAI,CAACvS,QAAQ,CAACwI,MAAM,IAAI,CAAC;EACpC;EAEA,IAAWxI,QAAQA,CAAA;IACf,OAAO,IAAI,CAAC+M,SAAS,CAACC,GAAG,CAAC,cAAc,CAAC,IAAI,EAAE;EACnD;EAEA,IAAWJ,YAAYA,CAAA;IACnB,OAAO,IAAI,CAACG,SAAS,CAACC,GAAG,CAAC,mBAAmB,CAAC,IAAI,YAAY;EAClE;EAEA,IAAWjC,YAAYA,CAAA;IACnB,OAAO,CAAC,CAAC,IAAI,CAACgC,SAAS,CAACC,GAAG,CAAC,kBAAkB,CAAC;EACnD;EAEA,IAAWS,IAAIA,CAAA;IACX,MAAM4F,GAAG,GAAG,IAAI,CAACC,OAAO,CAACD,GAAG;IAC5B,IAAIA,GAAG,CAAChH,QAAQ,CAAC,WAAW,CAAC,EAAE,OAAO,MAAM;IAC5C,IAAIgH,GAAG,CAAChH,QAAQ,CAAC,aAAa,CAAC,EAAE,OAAO,QAAQ;IAChD,IAAIgH,GAAG,CAAChH,QAAQ,CAAC,YAAY,CAAC,EAAE,OAAO,OAAO;IAC9C,IAAIgH,GAAG,CAAChH,QAAQ,CAAC,aAAa,CAAC,EAAE,OAAO,SAAS;IACjD,IAAIgH,GAAG,CAAChH,QAAQ,CAAC,cAAc,CAAC,EAAE,OAAO,SAAS;IAClD,IAAIgH,GAAG,CAAChH,QAAQ,CAAC,SAAS,CAAC,EAAE,OAAO,SAAS;IAC7C,IAAIgH,GAAG,CAAChH,QAAQ,CAAC,UAAU,CAAC,EAAE,OAAO,UAAU;IAC/C,OAAO,EAAE;EACb;EAEA1H,YACYoI,SAA0B,EAC1BwG,IAAyB,EACzBD,OAAe;IAFf,KAAAvG,SAAS,GAATA,SAAS;IACT,KAAAwG,IAAI,GAAJA,IAAI;IACJ,KAAAD,OAAO,GAAPA,OAAO;IApCH,KAAAE,SAAS,GAAG,IAAI,CAACD,IAAI,CAACE,aAAa;IACnC,KAAAC,QAAQ,GAAG,IAAI,CAACH,IAAI,CAACI,eAAe;IAEpC,KAAAC,WAAW,GAAIC,CAAC,IAAM,IAAI,CAACN,IAAI,CAACG,QAAQ,GAAGG,CAAE;EAkC1D;;AAtCM7B,gBAAgB;mBAAhBA,gBAAgB,EAAAnT,+DAAA,CAAAzC,4DAAA,GAAAyC,+DAAA,CAAAH,sEAAA,GAAAG,+DAAA,CAAAiV,mDAAA;AAAA;AAAhB9B,gBAAgB;QAAhBA,gBAAgB;EAAAnS,SAAA;EAAAK,KAAA;EAAAC,IAAA;EAAAC,MAAA,WAAAA,CAAA;IAAA,IAAA2T,MAAA;IAAA,WAAAzT,iBAAA,oBAAAA,iBAAA;;;;;;;eAhKRC,SAAA,0EAAS;;;;;;;;;;eAsDTA,SAAA,+EAAc;;;;;;;;;;gBAyBdA,SAAA,+EAAc;;;;;;;;;;gBAyBdA,SAAA,sEAAM;;;;;;;;;;gBAyBNA,SAAA,8EAAa;;;;;;MApN1B1B,4DAAA,aAGC;MAUwCA,oDAAA,WAAI;MAAAA,0DAAA,EAAW;MAChDA,4DAAA,kBAIK;MAAAA,oDAAA,WAAI;MAAAA,0DAAA,EACR;MACDA,wDAAA,IAAAmV,gCAAA,kBAEC;MACDnV,uDAAA,aAGO;MACXA,0DAAA,EAAI;MACJA,wDAAA,IAAAoV,6BAAA,eA0BI;MACJpV,wDAAA,IAAAqV,6BAAA,eAkCI;MACJrV,wDAAA,KAAAsV,8BAAA,eAwBI;MACJtV,wDAAA,KAAAuV,8BAAA,eA4BI;MACJvV,wDAAA,KAAAwV,8BAAA,gBAwBI;MACJxV,wDAAA,KAAAyV,8BAAA,gBAwBI;MACJzV,wDAAA,KAAA0V,8BAAA,gBAwBI;MACR1V,0DAAA,EAAM;;;MAnNEA,uDAAA,GAA6B;MAA7BA,wDAAA,eAAAA,6DAAA,IAAA2V,IAAA,EAAA7T,GAAA,CAAAiM,YAAA,EAA6B;MAYtB/N,uDAAA,GAAe;MAAfA,wDAAA,SAAA8B,GAAA,CAAA4R,SAAA,CAAe;MAYrB1T,uDAAA,GAAiC;MAAjCA,wDAAA,SAAA8B,GAAA,CAAAX,QAAA,CAAAqM,QAAA,WAAiC;MA2BjCxN,uDAAA,GAAgC;MAAhCA,wDAAA,SAAA8B,GAAA,CAAAX,QAAA,CAAAqM,QAAA,UAAgC;MAmChCxN,uDAAA,GAAkC;MAAlCA,wDAAA,SAAA8B,GAAA,CAAAX,QAAA,CAAAqM,QAAA,YAAkC;MAyBlCxN,uDAAA,GAAkC;MAAlCA,wDAAA,SAAA8B,GAAA,CAAAX,QAAA,CAAAqM,QAAA,YAAkC;MA6BlCxN,uDAAA,GAAyC;MAAzCA,wDAAA,SAAA8B,GAAA,CAAAX,QAAA,CAAAqM,QAAA,mBAAyC;MAyBzCxN,uDAAA,GAAkC;MAAlCA,wDAAA,SAAA8B,GAAA,CAAAX,QAAA,CAAAqM,QAAA,YAAkC;MAyBlCxN,uDAAA,GAAmC;MAAnCA,wDAAA,SAAA8B,GAAA,CAAAX,QAAA,CAAAqM,QAAA,aAAmC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7M4B;AACpB;;;;;;;;;;;;IAgB5CxN,uDAAA,aAKE;;;;IAHEA,yDAAA,gBAAAU,MAAA,CAAAoV,KAAA,CAA2B;IAE3B9V,wDAAA,QAAAU,MAAA,CAAAqV,SAAA,CAAAC,GAAA,EAAAhW,2DAAA,CAAqB;;;;;IAEzBA,uDAAA,cAKE;;;;IAHEA,yDAAA,WAAA4N,MAAA,CAAAkI,KAAA,CAAsB;IAEtB9V,wDAAA,QAAA4N,MAAA,CAAAsI,IAAA,CAAAF,GAAA,EAAAhW,2DAAA,CAAgB;;;;;IAEpBA,4DAAA,WAAoB;IAAAA,oDAAA,GAAW;IAAAA,0DAAA,EAAO;;;;IAAlBA,uDAAA,GAAW;IAAXA,+DAAA,CAAA8T,MAAA,CAAAgC,KAAA,CAAW;;;;;IAQ/B9V,uDAAA,oBAA8C;;;;;;AAlC9D,MAAMmW,KAAK,GAAG,EAAE;AAEhB,MAuDalD,eAAe;EAIxB;EACA,IAAWiD,IAAIA,CAAA;IACX,OAAO,IAAI,CAAChI,SAAS,CAACC,GAAG,CAAC,gBAAgB,CAAC;EAC/C;EACA;EACA,IAAW4H,SAASA,CAAA;IAChB,OAAO,IAAI,CAAC7H,SAAS,CAACC,GAAG,CAAC,eAAe,CAAC;EAC9C;EACA;EACA,IAAW2H,KAAKA,CAAA;IACZ,OAAO,IAAI,CAAC5H,SAAS,CAACkI,KAAK,CAAC,YAAY,CAAC;EAC7C;EAEA;EACA,IAAWC,MAAMA,CAAA;IACb,OAAO,IAAI,CAACnI,SAAS,CAACC,GAAG,CAAC,oBAAoB,CAAC,KAAK,KAAK;EAC7D;EAEA,IAAWjC,YAAYA,CAAA;IACnB,OAAO,CAAC,CAAC,IAAI,CAACgC,SAAS,CAACC,GAAG,CAAC,kBAAkB,CAAC;EACnD;EAEA,IAAWmI,IAAIA,CAAA;IACX,OAAOV,4DAAW,EAAE;EACxB;EAEA,IAAWzU,QAAQA,CAAA;IACf,OAAO,IAAI,CAAC+M,SAAS,CAACC,GAAG,CAAC,cAAc,CAAC,IAAIgI,KAAK;EACtD;EAEArQ,YAAoBoI,SAA0B;IAA1B,KAAAA,SAAS,GAATA,SAAS;IAhCb,KAAAqI,aAAa,GAAGV,sEAAqB;EAgCJ;;AAlCxC5C,eAAe;mBAAfA,eAAe,EAAAjT,+DAAA,CAAAzC,4DAAA;AAAA;AAAf0V,eAAe;QAAfA,eAAe;EAAAjS,SAAA;EAAAK,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAiV,QAAA,WAAAC,yBAAAzL,EAAA,EAAAlJ,GAAA;IAAA,IAAAkJ,EAAA;MApDpBhL,4DAAA,aAGC;MAMOA,wDAAA,IAAA0W,8BAAA,iBAKE;MACF1W,wDAAA,IAAA2W,8BAAA,iBAKE;MACF3W,wDAAA,IAAA4W,+BAAA,kBAAsC;MAC1C5W,0DAAA,EAAI;MACJA,4DAAA,aAEC;MACGA,uDAAA,eAAqB;MACzBA,0DAAA,EAAM;MACNA,4DAAA,aAAkD;MAC9CA,wDAAA,IAAA6W,wCAAA,2BAA8C;MAC9C7W,4DAAA,gBAQC;MAC8BA,oDAAA,cAAM;MAAAA,0DAAA,EAAW;;;MAhChDA,uDAAA,GAAqB;MAArBA,wDAAA,eAAAA,6DAAA,IAAAyT,GAAA,EAAqB;MAKhBzT,uDAAA,GAAe;MAAfA,wDAAA,SAAA8B,GAAA,CAAAiU,SAAA,CAAe;MAMf/V,uDAAA,GAAU;MAAVA,wDAAA,SAAA8B,GAAA,CAAAoU,IAAA,CAAU;MAGRlW,uDAAA,GAAW;MAAXA,wDAAA,SAAA8B,GAAA,CAAAgU,KAAA,CAAW;MAQF9V,uDAAA,GAAY;MAAZA,wDAAA,SAAA8B,GAAA,CAAAuU,MAAA,CAAY;MAQxBrW,uDAAA,GAAyB;MAAzBA,wDAAA,YAAA8B,GAAA,CAAAyU,aAAA,CAAyB;;;;;;;;;;;;;;;;;;;;;;;;;;ACpCtB;AACmB;AAEK;AAIhB;;;;;;;ICbfvW,4DAAA,cAAoC;IAAAA,oDAAA,GAAkB;IAAAA,0DAAA,EAAM;;;;IAAxBA,uDAAA,GAAkB;IAAlBA,+DAAA,CAAA+W,OAAA,CAAAhP,OAAA,CAAkB;;;;;IAD1D/H,4DAAA,cAA6C;IACzCA,wDAAA,IAAAgX,8CAAA,kBAA4D;IAChEhX,0DAAA,EAAM;;;;IADiBA,uDAAA,GAAe;IAAfA,wDAAA,SAAA+W,OAAA,CAAArU,IAAA,CAAe;;;;;IAItC1C,uDAAA,cAOO;;;;IAJHA,yDAAA,gBAAAiX,OAAA,CAAAnH,IAAA,CAA+B,SAAAmH,OAAA,CAAAvU,IAAA,cAAAuU,OAAA,CAAAC,QAAA,iBAAAD,OAAA,CAAA1T,WAAA;;;ADQ/C,MAKa2P,yBACT,SAAQnT,yDAAY;EANxB+F,YAAA;;IAuBI;IACO,KAAAqR,MAAM,GAAG;MAAE1N,CAAC,EAAE,CAAC;MAAEI,CAAC,EAAE;IAAC,CAAE;IAE9B;IACiB,KAAA3D,UAAU,GAAG,IAAIhE,uDAAY,EAAU;IACvC,KAAAiE,cAAc,GAAG,IAAIjE,uDAAY,EAAU;IAC3C,KAAAkE,YAAY,GAAG,IAAIlE,uDAAY,EAAyB;;EAKlEmE,QAAQA,CAAA;IACX,IAAI,CAACI,cAAc,EAAE;EACzB;EAEOY,WAAWA,CAACC,OAAsB;IACrC,IAAIA,OAAO,CAACC,MAAM,EAAE;MAChB,IAAI,CAACgB,gBAAgB,EAAE;;IAE3B,IAAIjB,OAAO,CAACvB,IAAI,IAAIuB,OAAO,CAACxC,QAAQ,EAAE;MAClC,IAAI,CAACmC,cAAc,EAAE;;EAE7B;EAEA;EACA,IAAWmQ,cAAcA,CAAA;IACrB,OAAOhV,kCAAK,CAAC,IAAI,CAAC2D,IAAI,CAAC,CAACgB,OAAO,CAAC,GAAG,CAAC;EACxC;EAEA;EACA,IAAWsQ,YAAYA,CAAA;IACnB,OAAOjV,kCAAK,CAAC,IAAI,CAAC2D,IAAI,CAAC,CAACuR,KAAK,CAAC,GAAG,CAAC;EACtC;EAEO7Q,cAAcA,CAAA;IACjB,IAAI,CAACb,MAAM,GAAG,EAAE;IAChB,MAAMU,KAAK,GAAG,IAAI,CAAC8Q,cAAc;IACjC,MAAM5Q,GAAG,GAAG,IAAI,CAAC6Q,YAAY;IAC7B,MAAMzQ,GAAG,GAAGxE,kCAAK,EAAE;IACnB,KACI,IAAIsF,IAAI,GAAGpB,KAAK,EAChBoB,IAAI,CAACC,QAAQ,CAACnB,GAAG,EAAE,GAAG,CAAC,EACvBkB,IAAI,GAAGA,IAAI,CAACZ,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,EACzB;MACE,IAAI,CAAClB,MAAM,CAACgC,IAAI,CAAC;QACbC,EAAE,EAAEH,IAAI,CAACI,MAAM,CAAC,OAAO,CAAC;QACxBC,OAAO,EAAEL,IAAI,CAACI,MAAM,CAAC,OAAO,CAAC;QAC7BpF,IAAI,EAAEgF,IAAI,CAACnB,MAAM,EAAE,KAAK,CAAC;QACzBuJ,IAAI,EAAEpI,IAAI,CAACnB,MAAM,EAAE,GAAG,EAAE,KAAK,CAAC;QAC9B2Q,QAAQ,EAAExP,IAAI,CAACC,QAAQ,CAACf,GAAG,EAAE,GAAG;OACnC,CAAC;;IAEN,IAAI,CAAC2B,gBAAgB,EAAE;EAC3B;EAEA,IAAWR,OAAOA,CAAA;IACd,MAAMhC,IAAI,GAAG3D,kCAAK,CAAC,IAAI,CAAC2D,IAAI,CAAC;IAC7B,MAAMS,GAAG,GAAGpE,kCAAK,CAAC,IAAI,CAAC2D,IAAI,CAAC,CAACe,GAAG,CAAC,IAAI,CAAChC,QAAQ,EAAE,GAAG,CAAC;IACpD,MAAMA,QAAQ,GAAGgS,oDAAc,CAAC;MAAES,OAAO,EAAE,IAAI,CAACzS;IAAQ,CAAE,CAAC;IAC3D,OAAO,GAAGiB,IAAI,CAAC+B,MAAM,CAAC,SAAS,CAAC,MAAMtB,GAAG,CAACsB,MAAM,CAC5C,SAAS,CACZ,KAAKhD,QAAQ,GAAG;EACrB;EAEOqE,IAAIA,CAACG,CAAC;IACT,IAAI,CAACtC,OAAO,CACR,MAAM,EACN,MAAK;MACD,IAAI,IAAI,CAACwQ,WAAW,IAAI,IAAI,CAACpO,KAAK,EAAE;QAChC,MAAMI,MAAM,GAAG;UACXC,CAAC,EACGH,CAAC,CAACI,OAAO,IAAIJ,CAAC,CAACI,OAAO,CAACC,MAAM,GAAG,CAAC,GAC3BL,CAAC,CAACI,OAAO,CAAC,CAAC,CAAC,CAACE,OAAO,IAAIN,CAAC,CAACM,OAAO,GACjCN,CAAC,CAACM,OAAO;UACnBC,CAAC,EACGP,CAAC,CAACI,OAAO,IAAIJ,CAAC,CAACI,OAAO,CAACC,MAAM,GAAG,CAAC,GAC3BL,CAAC,CAACI,OAAO,CAAC,CAAC,CAAC,CAACI,OAAO,IAAIR,CAAC,CAACQ,OAAO,GACjCR,CAAC,CAACQ;SACf;QACD,MAAM2N,GAAG,GACL,IAAI,CAACD,WAAW,KAAK,QAAQ,GACvB;UAAE/N,CAAC,EAAE,CAAC;UAAEI,CAAC,EAAE;QAAC,CAAE,GACd,IAAI,CAACsN,MAAM;QACrB,MAAMpN,WAAW,GACb,IAAI,CAACX,KAAK,CAACY,aAAa,CAACC,qBAAqB,EAAE;QACpD,MAAMC,SAAS,GACX,CAACV,MAAM,CAACC,CAAC,GAAGgO,GAAG,CAAChO,CAAC,GAAGM,WAAW,CAACI,IAAI,IACpCJ,WAAW,CAACK,KAAK;QACrB,MAAMC,SAAS,GACX,CAACb,MAAM,CAACK,CAAC,GAAG4N,GAAG,CAAC5N,CAAC,GAAGE,WAAW,CAACO,GAAG,IACnCP,WAAW,CAACQ,MAAM;QACtB,MAAMC,OAAO,GAAGH,SAAS;QAEzB,MAAMxF,UAAU,GACZ,IAAI,CAACuS,cAAc,CAAC1U,IAAI,EAAE,GAC1B,IAAI,CAAC0U,cAAc,CAAC7Q,MAAM,EAAE,GAAG,EAAE;QACrC,MAAMkE,QAAQ,GACV,IAAI,CAAC4M,YAAY,CAAC3U,IAAI,EAAE,GACxB,IAAI,CAAC2U,YAAY,CAAC9Q,MAAM,EAAE,GAAG,EAAE;QACnC,MAAMmE,SAAS,GAAGD,QAAQ,GAAG5F,UAAU;QACvC,MAAM8F,UAAU,GAAG,EAAE;QACrB,MAAMjI,IAAI,GACNwE,IAAI,CAAC0D,IAAI,CACL,CAACF,SAAS,GAAGF,OAAO,GAAG3F,UAAU,KAC5B,EAAE,GAAG8F,UAAU,CAAC,CACxB,IACA,EAAE,GAAGA,UAAU,CAAC;QACrB,IAAI,IAAI,CAAC6M,WAAW,KAAK,QAAQ,EAAE;UAC/B,IAAIzR,IAAI,GAAG3D,kCAAK,CAAC,IAAI,CAAC2D,IAAI,CAAC;UAC3B,MAAMS,GAAG,GAAGpE,kCAAK,CAAC,IAAI,CAAC2D,IAAI,CAAC,CACvBrD,IAAI,CAACwE,IAAI,CAACC,KAAK,CAACzE,IAAI,CAAC,CAAC,CACtB6D,MAAM,CAACW,IAAI,CAACC,KAAK,CAAEzE,IAAI,GAAG,EAAE,GAAI,EAAE,CAAC,CAAC;UACzC,IAAI8D,GAAG,CAAC8B,MAAM,CAACvC,IAAI,EAAE,GAAG,CAAC,IAAIS,GAAG,CAACmB,QAAQ,CAAC5B,IAAI,EAAE,GAAG,CAAC,EAAE;YAClDA,IAAI,GAAG3D,kCAAK,CAACoE,GAAG,CAAC,CAACM,GAAG,CAAC,CAAC,IAAI,CAAChC,QAAQ,EAAE,GAAG,CAAC;YAC1C,IAAI,CAACiB,IAAI,GAAGA,IAAI,CAACC,OAAO,EAAE;WAC7B,MAAM;YACH,MAAMlB,QAAQ,GAAGoC,IAAI,CAACC,KAAK,CAACX,GAAG,CAACY,IAAI,CAACrB,IAAI,EAAE,GAAG,CAAC,CAAC;YAChD,IAAI,CAACjB,QAAQ,GAAGoC,IAAI,CAAC2D,GAAG,CACpB,EAAE,EACF/F,QAAQ,IAAI6F,UAAU,CACzB;YACD,IAAI,CAACxE,cAAc,CAACkD,IAAI,CAAC,IAAI,CAACvE,QAAQ,CAAC;;SAE9C,MAAM,IAAI,IAAI,CAAC0S,WAAW,KAAK,KAAK,EAAE;UACnC,MAAMzR,IAAI,GAAG3D,kCAAK,CAAC,IAAI,CAAC2D,IAAI,CAAC,CACxBrD,IAAI,CAACwE,IAAI,CAACC,KAAK,CAACzE,IAAI,CAAC,CAAC,CACtB6D,MAAM,CAACW,IAAI,CAACC,KAAK,CAAEzE,IAAI,GAAG,EAAE,GAAI,EAAE,CAAC,CAAC;UACzC,IAAI,CAACqD,IAAI,GAAGA,IAAI,CAACC,OAAO,EAAE;;QAE9B,IAAI,CAACE,UAAU,CAACmD,IAAI,CAAC,IAAI,CAACtD,IAAI,CAAC;QAC/B,IAAI,CAACkB,cAAc,EAAE;;IAE7B,CAAC,EACD,EAAE,CACL;EACL;EAEA;EACA;EACA;EACA;EACA;EACA;EAEOhD,OAAOA,CAACkF,IAAY;IACvB,IAAI,CAACqO,WAAW,GAAGrO,IAAI;EAC3B;EAEOZ,gBAAgBA,CAAA;IACnB,IAAI,CAAC,IAAI,CAAC3C,MAAM,IAAI,CAAC,IAAI,CAAC2B,MAAM,EAAE;MAC9B;;IAEJ,MAAM3B,MAAM,GAAG,IAAI,CAACA,MAAM,CAAC4C,GAAG,CAAEL,CAAC,KAAM;MACnC,GAAGA,CAAC;MACJ5E,WAAW,EAAE;KAChB,CAAC,CAAC;IACH,KAAK,MAAMyE,GAAG,IAAI,IAAI,CAACT,MAAM,EAAE;MAC3B,KAAK,MAAMkB,KAAK,IAAIT,GAAG,CAACxC,MAAM,IAAI,EAAE,EAAE;QAClC,MAAMc,KAAK,GAAG,IAAI,CAACoC,WAAW,CAACD,KAAK,CAACnC,KAAK,CAAC;QAC3C,MAAME,GAAG,GAAGpE,kCAAK,CAACkE,KAAK,CAAC,CAACQ,GAAG,CAAC2B,KAAK,CAAC3D,QAAQ,EAAE,GAAG,CAAC;QACjD,KACI,IAAI4C,IAAI,GAAGtF,kCAAK,CAACkE,KAAK,CAAC,EACvBoB,IAAI,CAACC,QAAQ,CAACnB,GAAG,CAAC,EAClBkB,IAAI,GAAGA,IAAI,CAACZ,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,EACzB;UACE,MAAMiB,OAAO,GAAGL,IAAI,CAACI,MAAM,CAAC,OAAO,CAAC;UACpC,MAAMa,GAAG,GAAG/C,MAAM,CAACgD,IAAI,CAAET,CAAC,IAAKA,CAAC,CAACN,EAAE,KAAKE,OAAO,CAAC;UAChD,IAAIY,GAAG,EAAE;YACLA,GAAG,CAACpF,WAAW,GAAG,IAAI;;;;;IAKtC,IAAI,CAACqC,MAAM,GAAGA,MAAM;EACxB;EAEO8C,WAAWA,CAAChB,IAAY;IAC3B,IAAI3G,CAAC,GAAGqB,kCAAK,EAAE,CACV2E,OAAO,CAAC,GAAG,CAAC,CACZrE,IAAI,CAACwE,IAAI,CAACC,KAAK,CAACO,IAAI,CAAC,CAAC,CACtBnB,MAAM,CAACW,IAAI,CAACC,KAAK,CAAEO,IAAI,GAAG,EAAE,GAAI,EAAE,CAAC,CAAC;IACzC3G,CAAC,GAAGA,CAAC,CAACwF,MAAM,CAACW,IAAI,CAACC,KAAK,CAACpG,CAAC,CAACwF,MAAM,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;IAC5C,OAAOxF,CAAC;EACZ;EAEOkG,cAAcA,CAAA;IACjB,IAAI,CAACQ,YAAY,EAAE;EACvB;EAEOyB,SAASA,CAAA;IACZ,IAAI,CAACsO,WAAW,GAAG,EAAE;EACzB;EAEO/P,YAAYA,CAAA;IACf,MAAMnB,KAAK,GAAGlE,kCAAK,CAAC,IAAI,CAAC2D,IAAI,CAAC,CAACgB,OAAO,CAAC,GAAG,CAAC;IAC3C,MAAMkC,MAAM,GAAG,IAAI,CAACoO,YAAY,CAACjQ,IAAI,CAAC,IAAI,CAACgQ,cAAc,EAAE,GAAG,CAAC,GAAG,EAAE;IACpE,IAAI,CAACM,YAAY,GAAGpR,KAAK,CAACc,IAAI,CAAC,IAAI,CAACgQ,cAAc,EAAE,GAAG,CAAC,GAAG,EAAE,GAAGnO,MAAM;IACtE,IAAI,CAAC0O,aAAa,GAAG,IAAI,CAAC7S,QAAQ,GAAG,EAAE,GAAGmE,MAAM;EACpD;;AAxNSiK,yBACT;;;oKADSA,yBAAyB,IAAAnS,CAAA,IAAzBmS,yBAAyB;EAAA;AAAA;AAAzBA,yBACT;QADSA,yBAAyB;EAAAlS,SAAA;EAAA8J,SAAA,WAAA8M,gCAAA5M,EAAA,EAAAlJ,GAAA;IAAA,IAAAkJ,EAAA;;;;;;;;;;;;;;;;;;;;;;;;;;MCxBtChL,4DAAA,aAAqF;MAA/DA,wDAAA,qBAAA6X,0DAAA;QAAA,OAAkB/V,GAAA,CAAAoH,SAAA,EAAW;MAAA,UAAAlJ,6DAAA,CAAC,sBAAA8X,2DAAA;QAAA,OAAoBhW,GAAA,CAAAoH,SAAA,EAAW;MAAA,UAAAlJ,6DAAA,CAA/B;MAChDA,4DAAA,aAA2E;MAAtDA,wDAAA,uBAAA+X,4DAAAzM,MAAA;QAAA,OAAaxJ,GAAA,CAAAqH,IAAA,CAAAmC,MAAA,CAAY;MAAA,EAAC,uBAAA0M,4DAAA1M,MAAA;QAAA,OAAcxJ,GAAA,CAAAqH,IAAA,CAAAmC,MAAA,CAAY;MAAA,EAA1B;MAC3CtL,4DAAA,aAAwB;MACpBA,wDAAA,IAAAiY,wCAAA,iBAEM;MACVjY,0DAAA,EAAM;MACNA,4DAAA,gBAAgC;MAC5BA,wDAAA,IAAAkY,wCAAA,iBAOO;MACPlY,4DAAA,gBAKC;MACsBA,wDAAA,uBAAAmY,4DAAA;QAAA,OAAarW,GAAA,CAAAmC,OAAA,CAAQ,KAAK,CAAC;MAAA,EAAC,wBAAAmU,6DAAA;QAAA,OAAetW,GAAA,CAAAmC,OAAA,CAAQ,KAAK,CAAC;MAAA,EAA7B;MAC3CjE,oDAAA,IACJ;MAAAA,0DAAA,EAAM;MACNA,4DAAA,eAIC;MAFGA,wDAAA,uBAAAqY,6DAAA;QAAA,OAAavW,GAAA,CAAAmC,OAAA,CAAQ,KAAK,CAAC;MAAA,EAAC,wBAAAqU,8DAAA;QAAA,OACdxW,GAAA,CAAAmC,OAAA,CAAQ,KAAK,CAAC;MAAA,EADA;MAE/BjE,0DAAA,EAAM;MACPA,4DAAA,eAIC;MAFGA,wDAAA,uBAAAuY,6DAAA;QAAA,OAAazW,GAAA,CAAAmC,OAAA,CAAQ,QAAQ,CAAC;MAAA,EAAC,wBAAAuU,8DAAA;QAAA,OACjB1W,GAAA,CAAAmC,OAAA,CAAQ,QAAQ,CAAC;MAAA,EADA;MAElCjE,0DAAA,EAAM;;;MA/BuBA,uDAAA,GAAS;MAATA,wDAAA,YAAA8B,GAAA,CAAA8D,MAAA,CAAS;MAOtB5F,uDAAA,GAAS;MAATA,wDAAA,YAAA8B,GAAA,CAAA8D,MAAA,CAAS;MAS1B5F,uDAAA,GAAsC;MAAtCA,yDAAA,QAAA8B,GAAA,CAAA4V,YAAA,aAAsC,WAAA5V,GAAA,CAAA6V,aAAA;MAIlC3X,uDAAA,GACJ;MADIA,gEAAA,MAAA8B,GAAA,CAAAiG,OAAA,MACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxB+B;AACA;AACmB;AAEkC;AACH;AACzB;AACqC;AACzC;;AAEpE,MAAM8Q,QAAQ,GAAgB,CAC1BJ,6GAA2B,EAC3BC,0GAA0B,EAC1BC,iFAAwB,EACxBC,sHAA8B,CACjC;AAED,MAUapa,oBAAoB;AAApBA,oBAAoB;mBAApBA,oBAAoB;AAAA;AAApBA,oBAAoB;QAApBA;AAAoB;AAApBA,oBAAoB;YAPzB6S,yDAAY,EACZzT,uDAAW,EACX2T,+DAAmB,EACnB7S,4EAAqB;AAAA;AAII;;sHAApBF,oBAAoB;IAAAoB,YAAA,GAhB7B6Y,6GAA2B,EAC3BC,0GAA0B,EAC1BC,iFAAwB,EACxBC,sHAA8B;IAAAtb,OAAA,GAM1B+T,yDAAY,EACZzT,uDAAW,EACX2T,+DAAmB,EACnB7S,4EAAqB;IAAAlB,OAAA,GAZzBib,6GAA2B,EAC3BC,0GAA0B,EAC1BC,iFAAwB,EACxBC,sHAA8B;EAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;ACd8C;AACZ;AACT;AAGW;;;;;;;;;;;;;IAwC1C5Y,4DAAA,qBAGC;IACGA,oDAAA,GACJ;IAAAA,0DAAA,EAAa;;;;IAHTA,wDAAA,UAAAiZ,OAAA,CAAc;IAEdjZ,uDAAA,GACJ;IADIA,gEAAA,MAAAiZ,OAAA,CAAAtT,IAAA,MACJ;;;;;;;;;;;IAlBZ3F,4DAAA,aAGC;IACuBA,oDAAA,eAAQ;IAAAA,0DAAA,EAAQ;IACpCA,4DAAA,yBAAoD;IAG5CA,wDAAA,2BAAAkZ,0FAAA5N,MAAA;MAAAtL,2DAAA,CAAA8M,IAAA;MAAA,MAAAC,MAAA,GAAA/M,2DAAA;MAAA,OAAAA,yDAAA,CAAA+M,MAAA,CAAAoM,gBAAA,GAAA7N,MAAA;IAAA,EAA8B,2BAAA4N,0FAAA5N,MAAA;MAAAtL,2DAAA,CAAA8M,IAAA;MAAA,MAAAa,OAAA,GAAA3N,2DAAA;MAAA,OACbA,yDAAA,CAAA2N,OAAA,CAAAyL,aAAA,CAAA9N,MAAA,CAAqB;IAAA,EADR;IAK9BtL,wDAAA,IAAAqZ,kEAAA,yBAKa;IACjBrZ,0DAAA,EAAa;;;;IAXTA,uDAAA,GAA8B;IAA9BA,wDAAA,YAAAqM,MAAA,CAAA8M,gBAAA,CAA8B,mBAAAnZ,6DAAA,IAAAyT,GAAA;IAMTzT,uDAAA,GAAW;IAAXA,wDAAA,YAAAqM,MAAA,CAAAiN,QAAA,CAAW;;;;;IAQ5CtZ,4DAAA,aAAqD;IAS7CA,oDAAA,gBAAQ;IAAAA,4DAAA,WAAM;IAAAA,oDAAA,QAAC;IAAAA,0DAAA,EAAO;IAAAA,oDAAA,SAC1B;IAAAA,0DAAA,EAAQ;IACRA,4DAAA,uBAKC;IACGA,oDAAA,2CACJ;IAAAA,0DAAA,EAAe;;;;IAdXA,uDAAA,GAGC;IAHDA,yDAAA,UAAAmU,MAAA,CAAAxT,IAAA,CAAAC,QAAA,CAAA4F,GAAA,CAAA+S,MAAA,IAAApF,MAAA,CAAAxT,IAAA,CAAAC,QAAA,CAAA4F,GAAA,CAAAgT,OAAA,CAGC;IAODxZ,uDAAA,GAAa;IAAbA,wDAAA,SAAAmU,MAAA,CAAApO,IAAA,CAAa;;;;;IArCzB/F,4DAAA,cAAsC;IAClCA,wDAAA,IAAAyZ,qDAAA,iBAqBM;IACNzZ,wDAAA,IAAA0Z,qDAAA,iBAmBM;IACV1Z,0DAAA,EAAO;;;;IA3CYA,wDAAA,cAAA4E,MAAA,CAAAjE,IAAA,CAAkB;IAG5BX,uDAAA,GAAkD;IAAlDA,wDAAA,SAAA4E,MAAA,CAAAjE,IAAA,CAAAC,QAAA,CAAA+Y,OAAA,IAAA/U,MAAA,CAAA0U,QAAA,CAAA3P,MAAA,KAAkD;IAoB3B3J,uDAAA,GAAuB;IAAvBA,wDAAA,SAAA4E,MAAA,CAAAjE,IAAA,CAAAC,QAAA,CAAA4F,GAAA,CAAuB;;;;;IAxB3DxG,4DAAA,cAAoD;IAChDA,wDAAA,IAAA4Z,+CAAA,kBA2CO;IACX5Z,0DAAA,EAAO;;;;IA5CIA,uDAAA,GAAU;IAAVA,wDAAA,SAAAU,MAAA,CAAAC,IAAA,CAAU;;;;;;IA6CrBX,4DAAA,aAAyB;IACcA,wDAAA,mBAAA6Z,mEAAA;MAAA7Z,2DAAA,CAAA+D,IAAA;MAAA,MAAAC,OAAA,GAAAhE,2DAAA;MAAA,OAASA,yDAAA,CAAAgE,OAAA,CAAA8V,IAAA,EAAM;IAAA,EAAC;IAC/C9Z,oDAAA,uBACJ;IAAAA,0DAAA,EAAS;;;;;IAGTA,4DAAA,WAAM;IAIEA,uDAAA,sBAAyC;IACzCA,4DAAA,QAAG;IAAAA,oDAAA,GAAa;IAAAA,0DAAA,EAAI;;;;IAAjBA,uDAAA,GAAa;IAAbA,+DAAA,CAAA0D,MAAA,CAAAmM,OAAA,CAAa;;;AAzE7B,MAAMkK,mBAAmB,GAAG;EAC/BxP,MAAM,EAAE,MAAM;EACdH,KAAK,EAAE,MAAM;EACb4P,SAAS,EAAE,mBAAmB;EAC9BC,QAAQ,EAAE;CACb;AAED,MAyEatB,wBAAyB,SAAQ5Y,yDAAY;EA8BtD+F,YAA6CoU,KAA0B;IACnE,KAAK,EAAE;IADkC,KAAAA,KAAK,GAALA,KAAK;IA7BlD;IACiB,KAAAzR,KAAK,GAAG,IAAIvG,uDAAY,EAAe;IACxD;IACO,KAAAvB,IAAI,GAAG,IAAIb,qDAAS,CAAC;MACxB6Z,OAAO,EAAE,IAAIb,uDAAW,CAAC,IAAI,CAACoB,KAAK,CAACC,OAAO,EAAER,OAAO,CAAC;MACrDhT,QAAQ,EAAE,IAAImS,uDAAW,CAAC,IAAI,CAACoB,KAAK,CAACC,OAAO,EAAExT,QAAQ,CAAC;MACvDH,GAAG,EAAE,IAAIsS,uDAAW,CAAC,IAAI,CAACoB,KAAK,CAACC,OAAO,EAAE3T,GAAG,IAAI,IAAI,CAAC0T,KAAK,CAACnU,IAAI,EAAE,CAC7DgT,+DAAmB,CACtB;KACJ,CAAC;IAKF;IACO,KAAAO,QAAQ,GAAe,CAC1B;MAAEzR,EAAE,EAAE,EAAE;MAAElC,IAAI,EAAE;IAAM,CAAE,EACxB;MAAEkC,EAAE,EAAE,OAAO;MAAElC,IAAI,EAAE,OAAO;MAAEgB,QAAQ,EAAE,CAAC;MAAEgT,OAAO,EAAE;IAAO,CAAE,EAC7D;MAAE9R,EAAE,EAAE,QAAQ;MAAElC,IAAI,EAAE,QAAQ;MAAEgB,QAAQ,EAAE,CAAC;MAAEgT,OAAO,EAAE;IAAQ,CAAE,EAChE;MACI9R,EAAE,EAAE,SAAS;MACblC,IAAI,EAAE,eAAe;MACrBgB,QAAQ,EAAE,CAAC;MACXgT,OAAO,EAAE;KACZ,CACJ;EAMD;EAEOtT,QAAQA,CAAA;IACX,IAAI,CAACN,IAAI,GAAG,IAAI,CAACmU,KAAK,CAACnU,IAAI;IAC3B,MAAMoU,OAAO,GAAG,IAAI,CAACD,KAAK,CAACC,OAAO;IAClC,IAAI,CAAChB,gBAAgB,GAAG,IAAI,CAACG,QAAQ,CAAC1Q,IAAI,CACrCT,CAAC,IACEA,CAAC,CAACxB,QAAQ,KAAKwT,OAAO,EAAExT,QAAQ,IAChCwB,CAAC,CAACwR,OAAO,KAAKQ,OAAO,EAAER,OAAO,CACrC;EACL;EAEOP,aAAaA,CAAC3Q,KAAK;IACtB,IAAI,CAAC9H,IAAI,CAAC0Z,UAAU,CAAC;MACjBV,OAAO,EAAElR,KAAK,CAACkR,OAAO;MACtBhT,QAAQ,EAAE8B,KAAK,CAAC9B;KACnB,CAAC;EACN;EAEA;;;EAGOmT,IAAIA,CAAA;IACP,IAAI,CAACnZ,IAAI,CAAC2Z,gBAAgB,EAAE;IAC5B;IACA,IAAI,IAAI,CAAC3Z,IAAI,CAAC4Z,KAAK,EAAE;MACjB,IAAI,CAAC1K,OAAO,GAAG,sCAAsC;MACrD,IAAI,CAACpH,KAAK,CAACY,IAAI,CAAC;QACZmR,MAAM,EAAE,MAAM;QACdC,QAAQ,EAAE;UAAE,GAAG,IAAI,CAACP,KAAK,CAACC,OAAO;UAAE,GAAG,IAAI,CAACxZ,IAAI,CAACyV;QAAK;OACxD,CAAC;;EAEV;;AAhESuC,wBAAyB;mBAAzBA,wBAAwB,EAAA3Y,+DAAA,CA8BbgZ,qEAAe;AAAA;AA9B1BL,wBAAyB;QAAzBA,wBAAwB;EAAA3X,SAAA;EAAA0Z,OAAA;IAAAjS,KAAA;EAAA;EAAAtH,QAAA,GAAAnB,wEAAA;EAAAqB,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAiV,QAAA,WAAAmE,kCAAA3P,EAAA,EAAAlJ,GAAA;IAAA,IAAAkJ,EAAA;MAtE7BhL,4DAAA,aAAQ;MACkCA,oDAAA,yBAAkB;MAAAA,0DAAA,EAAM;MAC9DA,4DAAA,gBAA8B;MAChBA,oDAAA,YAAK;MAAAA,0DAAA,EAAW;MAGlCA,wDAAA,IAAA4a,wCAAA,kBA6CO;MACP5a,wDAAA,IAAA6a,0CAAA,oBAIS;MACT7a,wDAAA,IAAA8a,+CAAA,gCAAA9a,oEAAA,CASc;;;;MA5DKA,uDAAA,GAAgB;MAAhBA,wDAAA,UAAA8B,GAAA,CAAA+N,OAAA,CAAgB,aAAApB,GAAA;MA8C1BzO,uDAAA,GAAc;MAAdA,wDAAA,UAAA8B,GAAA,CAAA+N,OAAA,CAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5EiD;AACrB;AACpB;AACkB;AACI;AAED;AAI7B;AACe;;;;;;;;;;;;;;;ICMtC7P,qEAAA,GAA4C;IACxCA,4DAAA,aAAyB;IAEjBA,wDAAA,wBAAAsb,+FAAAhQ,MAAA;MAAAtL,2DAAA,CAAAoR,GAAA;MAAA,MAAA1N,MAAA,GAAA1D,2DAAA;MAAA,OAAAA,yDAAA,CAAA0D,MAAA,CAAAqC,IAAA,GAAAuF,MAAA;IAAA,EAAe,4BAAAiQ,mGAAAjQ,MAAA;MAAAtL,2DAAA,CAAAoR,GAAA;MAAA,MAAA/E,MAAA,GAAArM,2DAAA;MAAA,OAAAA,yDAAA,CAAAqM,MAAA,CAAAvH,QAAA,GAAAwG,MAAA;IAAA,4BAAAkQ,iGAAAlQ,MAAA;MAAAtL,2DAAA,CAAAoR,GAAA;MAAA,MAAA+C,MAAA,GAAAnU,2DAAA;MAAA,OAAAA,yDAAA,CAAAmU,MAAA,CAAA5M,MAAA,GAAA+D,MAAA;IAAA;IAGlBtL,0DAAA,EAAoB;IAEzBA,4DAAA,cAAwB;IAEhBA,wDAAA,wBAAAyb,4FAAAnQ,MAAA;MAAAtL,2DAAA,CAAAoR,GAAA;MAAA,MAAAiD,MAAA,GAAArU,2DAAA;MAAA,OAAAA,yDAAA,CAAAqU,MAAA,CAAAtO,IAAA,GAAAuF,MAAA;IAAA,EAAe,4BAAAoQ,gGAAApQ,MAAA;MAAAtL,2DAAA,CAAAoR,GAAA;MAAA,MAAA1E,MAAA,GAAA1M,2DAAA;MAAA,OAAAA,yDAAA,CAAA0M,MAAA,CAAA5H,QAAA,GAAAwG,MAAA;IAAA,4BAAAqQ,8FAAArQ,MAAA;MAAAtL,2DAAA,CAAAoR,GAAA;MAAA,MAAArE,MAAA,GAAA/M,2DAAA;MAAA,OAAAA,yDAAA,CAAA+M,MAAA,CAAAxF,MAAA,GAAA+D,MAAA;IAAA;IAGlBtL,0DAAA,EAAiB;IAE1BA,mEAAA,EAAe;;;;IAZHA,uDAAA,GAAe;IAAfA,wDAAA,SAAAU,MAAA,CAAAqF,IAAA,CAAe,aAAArF,MAAA,CAAAoE,QAAA,YAAApE,MAAA,CAAA6G,MAAA;IAOfvH,uDAAA,GAAe;IAAfA,wDAAA,SAAAU,MAAA,CAAAqF,IAAA,CAAe,aAAArF,MAAA,CAAAoE,QAAA,YAAApE,MAAA,CAAA6G,MAAA;;;;;IAsB/BvH,4DAAA,cAAqB;IACjBA,uDAAA,sBAAyC;IAC7CA,0DAAA,EAAM;;;;;;;;;;ADtCV,MAKa4Y,8BACT,SAAQ7Y,yDAAY;EAkBpB+F,YAA6CoU,KAAU;IACnD,KAAK,EAAE;IADkC,KAAAA,KAAK,GAALA,KAAK;IAflD;IACiB,KAAAzR,KAAK,GAAG,IAAIvG,uDAAY,EAAe;IAKxD;IACO,KAAA6D,IAAI,GAAW,IAAI6V,IAAI,EAAE,CAAC5V,OAAO,EAAE;IAK1C;IACO,KAAA6V,KAAK,GAAG,IAAId,iDAAe,CAAC,IAAI,CAAChV,IAAI,CAAC;EAI7C;EAEOM,QAAQA,CAAA;IACX,IAAI,CAACyV,KAAK,GAAG,IAAI,CAAC5B,KAAK,CAAC4B,KAAK;IAC7B,IAAI,CAAC/V,IAAI,GAAG,IAAI,CAACmU,KAAK,CAACnU,IAAI;IAC3B,IAAI,CAACjB,QAAQ,GAAG,IAAI,CAACoV,KAAK,CAACpV,QAAQ;IACnC,IAAI,CAACiX,gBAAgB,EAAE;IACvB,IAAI,CAACF,KAAK,CACLG,IAAI,CACDhB,6DAAY,CAAC,GAAG,CAAC,EACjBC,0DAAS,CAAC,MAAM,IAAI,CAACc,gBAAgB,EAAE,CAAC,CAC3C,CACAE,SAAS,CAAEC,GAAG,IAAM,IAAI,CAAC3U,MAAM,GAAG2U,GAAI,CAAC;EAChD;EAEA;EACaH,gBAAgBA,CAAA;IAAA,IAAAI,KAAA;IAAA,OAAAC,wJAAA;MACzBD,KAAI,CAACtM,OAAO,GAAG,IAAI;MACnB,MAAMwM,YAAY,GAAGlB,qDAAW,CAACC,qDAAU,CAACe,KAAI,CAACpW,IAAI,CAAC,CAAC;MACvD,MAAMuW,UAAU,GAAGnB,qDAAW,CAACD,qDAAQ,CAACiB,KAAI,CAACpW,IAAI,CAAC,CAAC;MACnD,MAAMwW,MAAM,SAAgBC,OAAO,CAACC,GAAG,CACnCN,KAAI,CAACL,KAAK,CAACtT,GAAG;QAAA,IAAAkU,IAAA,GAAAN,wJAAA,CAAC,WAAO9F,IAAI,EAAI;UAC1B,IAAI,CAACA,IAAI,CAACqG,KAAK,EAAE,OAAO,EAAE;UAC1B,OAAO;YACHhX,IAAI,EAAE2Q,IAAI,CAAC3Q,IAAI;YACfH,MAAM,QAAQ6V,4DAAW,CAAC;cACtBgB,YAAY;cACZC,UAAU;cACVM,SAAS,EAAEtG,IAAI,CAACqG;aACnB,CAAC,CACGE,SAAS,EAAE,CACXtgB,IAAI,CAAE2f,GAAG,IACNA,GAAG,CAAC1T,GAAG,CAAEL,CAAC,KAAM;cACZ7B,KAAK,EAAElE,kCAAK,CAAC+F,CAAC,CAACpC,IAAI,CAAC,CAACrD,IAAI,EAAE;cAC3BoC,QAAQ,EAAEqD,CAAC,CAACrD;aACf,CAAC,CAAC,CACN,CACAgY,KAAK,CAAEC,GAAG,IAAK,EAAE;WACzB;QACL,CAAC;QAAA,iBAAAC,EAAA;UAAA,OAAAN,IAAA,CAAAO,KAAA,OAAAC,SAAA;QAAA;MAAA,IAAC,CACL;MACDf,KAAI,CAACtM,OAAO,GAAG,KAAK;MACpB,OAAO0M,MAAM;IAAC;EAClB;EAEA;EACOY,UAAUA,CAACC,QAAgB;IAC9B,MAAMrX,IAAI,GAAG3D,kCAAK,CAAC,IAAI,CAAC2D,IAAI,CAAC;IAC7B,IAAI,CAACA,IAAI,GAAG3D,kCAAK,CAACgb,QAAQ,CAAC,CACtB1a,IAAI,CAACqD,IAAI,CAACrD,IAAI,EAAE,CAAC,CACjB6D,MAAM,CAACR,IAAI,CAACQ,MAAM,EAAE,CAAC,CACrBP,OAAO,EAAE;IACd,IAAI,CAAC6V,KAAK,CAACwB,IAAI,CAAC,IAAI,CAACtX,IAAI,CAAC;EAC9B;EAEA;EACA,IAAWuX,OAAOA,CAAA;IACd,OAAOlb,kCAAK,CAAC,IAAI,CAAC2D,IAAI,CAAC,CAAC4B,QAAQ,CAACvF,kCAAK,EAAE,CAAC;EAC7C;EAEO0X,IAAIA,CAAA;IACP,IAAI,IAAI,CAACwD,OAAO,EAAE;MACd;;IAEJ,IAAI,CAAC7U,KAAK,CAACY,IAAI,CAAC;MACZmR,MAAM,EAAE,MAAM;MACdC,QAAQ,EAAE;QAAE1U,IAAI,EAAE,IAAI,CAACA,IAAI;QAAEjB,QAAQ,EAAE,IAAI,CAACA;MAAQ;KACvD,CAAC;EACN;;AAzFS8T,8BACT;mBADSA,8BAA8B,EAAA5Y,+DAAA,CAmBnBgZ,sEAAe;AAAA;AAnB1BJ,8BACT;QADSA,8BAA8B;EAAA5X,SAAA;EAAA0Z,OAAA;IAAAjS,KAAA;EAAA;EAAAtH,QAAA,GAAAnB,wEAAA;EAAAqB,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAiV,QAAA,WAAA+G,wCAAAvS,EAAA,EAAAlJ,GAAA;IAAA,IAAAkJ,EAAA;MClB3ChL,4DAAA,aAAQ;MACkCA,oDAAA,6BAAsB;MAAAA,0DAAA,EAAM;MAClEA,4DAAA,gBAA8B;MAC1BA,uDAAA,kBAEY;MAChBA,0DAAA,EAAS;MAEbA,4DAAA,yBAAoB;MAMJA,wDAAA,2BAAAwd,8EAAAlS,MAAA;QAAA,OAAiBxJ,GAAA,CAAAqb,UAAA,CAAA7R,MAAA,CAAkB;MAAA,EAAC;MACvCtL,0DAAA,EAAe;MAEpBA,wDAAA,IAAAyd,sDAAA,0BAee;MACnBzd,0DAAA,EAAO;MAEXA,4DAAA,0BAAoB;MAE2CA,oDAAA,cAAM;MAAAA,0DAAA,EAAS;MACtEA,4DAAA,iBAKC;MADGA,wDAAA,mBAAA0d,iEAAA;QAAA,OAAS5b,GAAA,CAAAgY,IAAA,EAAM;MAAA,EAAC;MAEhB9Z,oDAAA,cACJ;MAAAA,0DAAA,EAAS;MAGjBA,wDAAA,KAAA2d,sDAAA,gCAAA3d,oEAAA,CAIc;;;;MAhDFA,uDAAA,GAAoE;MAApEA,wDAAA,SAAAA,6DAAA,IAAAyT,GAAA,EAAoE;MAShEzT,uDAAA,GAAgB;MAAhBA,wDAAA,YAAA8B,GAAA,CAAAiE,IAAA,CAAgB;MAIT/F,uDAAA,GAAgB;MAAhBA,wDAAA,UAAA8B,GAAA,CAAA+N,OAAA,CAAgB,aAAA+N,GAAA;MAuB3B5d,uDAAA,GAAoB;MAApBA,wDAAA,aAAA8B,GAAA,CAAAwb,OAAA,CAAoB;;;;;;;;;;;;;;;;;;;;;;;;;;ACvC2B;AAEZ;;;;;;;;;;;;;;;ICSvCtd,4DAAA,UAAoC;IAChCA,uDAAA,kBAMY;IACZA,4DAAA,YAAO;IAAAA,oDAAA,GAAe;IAAAA,0DAAA,EAAQ;IAC9BA,4DAAA,WAAkC;IAAAA,oDAAA,GAAgB;IAAAA,0DAAA,EAAI;;;;IAPlDA,uDAAA,GAIE;IAJFA,wDAAA,SAAAA,6DAAA,IAAAyT,GAAA,EAIE;IAECzT,uDAAA,GAAe;IAAfA,+DAAA,CAAA6d,OAAA,CAAAlY,IAAA,CAAe;IACnB3F,uDAAA,GAA8B;IAA9BA,oEAAA,oBAAA6d,OAAA,CAAAlB,KAAA,MAAA3c,2DAAA,CAA8B;IAACA,uDAAA,GAAgB;IAAhBA,+DAAA,CAAA6d,OAAA,CAAAlB,KAAA,CAAgB;;;;;;;;;;ADf9D,MAKalE,2BACT,SAAQ1Y,yDAAY;EAKpB+F,YAA6CoU,KAA4B;IACrE,KAAK,EAAE;IADkC,KAAAA,KAAK,GAALA,KAAK;EAElD;EAEO7S,WAAWA,CAAA,GAAI;EAEfhB,QAAQA,CAAA;IACX,IAAI,CAAC0X,SAAS,GAAG,IAAI,CAAC7D,KAAK,CAAC6D,SAAS;EACzC;;AAdStF,2BACT;mBADSA,2BAA2B,EAAAzY,+DAAA,CAMhBgZ,qEAAe;AAAA;AAN1BP,2BACT;QADSA,2BAA2B;EAAAzX,SAAA;EAAAG,QAAA,GAAAnB,wEAAA,EAAAA,kEAAA;EAAAqB,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAiV,QAAA,WAAAyH,qCAAAjT,EAAA,EAAAlJ,GAAA;IAAA,IAAAkJ,EAAA;MCXxChL,4DAAA,aAAQ;MACJA,uDAAA,kBAMY;MACZA,4DAAA,SAAI;MAAAA,oDAAA,gBAAS;MAAAA,0DAAA,EAAK;MAEtBA,4DAAA,yBAAoB;MAEZA,wDAAA,IAAAke,0CAAA,iBAUM;MACVle,0DAAA,EAAM;MAEVA,4DAAA,yBAAoB;MAE2CA,oDAAA,aAAK;MAAAA,0DAAA,EAAS;;;MAzBrEA,uDAAA,GAIE;MAJFA,wDAAA,SAAAA,6DAAA,IAAA+L,GAAA,EAIE;MAMoB/L,uDAAA,GAAY;MAAZA,wDAAA,YAAA8B,GAAA,CAAAic,SAAA,CAAY;;;;;;;;;;;;;;;;;;;;;;;;;;ACX4B;AAC7B;AAGM;;;;;;;;ICE3C/d,qEAAA,GAA4C;IACxCA,4DAAA,YAAO;IACHA,oDAAA,GACJ;IAAAA,0DAAA,EAAQ;IACRA,4DAAA,eAAmB;IACfA,oDAAA,GACJ;IAAAA,0DAAA,EAAQ;IACZA,mEAAA,EAAe;;;;IALPA,uDAAA,GACJ;IADIA,gEAAA,MAAA6d,OAAA,CAAAO,IAAA,MACJ;IAEIpe,uDAAA,GACJ;IADIA,gEAAA,MAAA6d,OAAA,CAAAQ,GAAA,MACJ;;;ADNR,MAKa3F,0BAA2B,SAAQ3Y,yDAAY;EAKxD+F,YAEYoU,KAA0D,EAC1DzF,OAAe,EACf6J,OAAkB;IAE1B,KAAK,EAAE;IAJC,KAAApE,KAAK,GAALA,KAAK;IACL,KAAAzF,OAAO,GAAPA,OAAO;IACP,KAAA6J,OAAO,GAAPA,OAAO;IANZ,KAAAC,oBAAoB,GAAG,CAAC;EAS/B;EAEOlY,QAAQA,CAAA;IACX,MAAMmY,IAAI,GAAG,IAAI,CAACtE,KAAK;IAEvB,IAAIsE,IAAI,EAAE;MACN,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACvE,KAAK,CAACuE,QAAQ;MACnC,IAAI,CAACC,aAAa,GAAG,IAAI,CAACxE,KAAK,CAACwE,aAAa;MAC7C,IAAI,CAACH,oBAAoB,GAAG,IAAI,CAACE,QAAQ,CAACE,MAAM,CAC5C,CAACC,KAAK,EAAER,IAAI,KAAKA,IAAI,CAACS,QAAQ,GAAGD,KAAK,EACtC,CAAC,CACJ;;EAET;EAEA;;;EAGOE,IAAIA,CAAA;IACP,IAAI,CAACR,OAAO,CAACS,QAAQ,EAAE;IACvB,IAAI,CAACtK,OAAO,CAACuK,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC;EACzC;;AAjCStG,0BAA2B;mBAA3BA,0BAA0B,EAAA1Y,+DAAA,CAMvBgZ,qEAAe,GAAAhZ,+DAAA,CAAAzC,mDAAA,GAAAyC,+DAAA,CAAAH,+DAAA;AAAA;AANlB6Y,0BAA2B;QAA3BA,0BAA0B;EAAA1X,SAAA;EAAAG,QAAA,GAAAnB,wEAAA;EAAAqB,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAiV,QAAA,WAAAyI,oCAAAjU,EAAA,EAAAlJ,GAAA;IAAA,IAAAkJ,EAAA;MCZvChL,4DAAA,aAAQ;MACMA,oDAAA,mBAAY;MAAAA,0DAAA,EAAW;MACjCA,4DAAA,SAAI;MAAAA,oDAAA,eAAQ;MAAAA,0DAAA,EAAK;MAErBA,4DAAA,aAAkB;MACNA,oDAAA,WAAI;MAAAA,0DAAA,EAAS;MACrBA,4DAAA,gBAAoB;MAAAA,oDAAA,eAAQ;MAAAA,0DAAA,EAAS;MACrCA,wDAAA,KAAAkf,mDAAA,0BAOe;MACflf,4DAAA,iBAAsB;MAAAA,oDAAA,mBAAW;MAAAA,0DAAA,EAAS;MAC1CA,4DAAA,iBAAoB;MAAAA,oDAAA,IAA0B;MAAAA,0DAAA,EAAS;MACvDA,4DAAA,iBAA2B;MAACA,oDAAA,eAAM;MAAAA,0DAAA,EAAS;MAC3CA,4DAAA,cAAsB;MAClBA,oDAAA,IACJ;MAAAA,0DAAA,EAAM;MAEVA,4DAAA,cAAQ;MACqBA,oDAAA,aAAK;MAAAA,0DAAA,EAAS;MACvCA,4DAAA,iBAAuC;MAAjBA,wDAAA,mBAAAmf,6DAAA;QAAA,OAASrd,GAAA,CAAAgd,IAAA,EAAM;MAAA,EAAC;MAAC9e,oDAAA,YAAI;MAAAA,0DAAA,EAAS;;;MAjBrBA,uDAAA,IAAW;MAAXA,wDAAA,YAAA8B,GAAA,CAAA2c,QAAA,CAAW;MAStBze,uDAAA,GAA0B;MAA1BA,+DAAA,CAAA8B,GAAA,CAAAyc,oBAAA,CAA0B;MAG1Cve,uDAAA,GACJ;MADIA,gEAAA,MAAA8B,GAAA,CAAA4c,aAAA,MACJ;;;;;;;;;;;;;;;;;;;;ACpBJ;AACA;AACA;AAEO,MAAMngB,WAAW,GAAG;EACzBiB,UAAU,EAAE;CACb;AAED;;;;;;;AAOA;;;;;;;;;;;;;;;;ACf+C;AAGF;AACY;AAEzD,IAAIjB,6EAAsB,EAAE;EAC1B6gB,6DAAc,EAAE;;AAGlBC,sEAAA,EAAwB,CACrBE,eAAe,CAACzgB,sDAAS,CAAC,CAC1Bge,KAAK,CAAEC,GAAG,IAAKyC,OAAO,CAACC,KAAK,CAAC1C,GAAG,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZD;AACF;AACI;AACN;;;;;;;;;;;;;;;;;;;;;ACDW;AACE;;AAE7C,MAAM6C,gBAAgB,GAAiB,EAAE;AAEzC,MAAMC,iBAAiB,GAAG,IAAIH,oDAAU,EAAE;AAEpC,SAAUI,oBAAoBA,CAACC,eAA6B;EAC9D,KAAK,MAAMC,UAAU,IAAID,eAAe,EAAE;IACtC,IAAI,CAACH,gBAAgB,CAAChX,IAAI,CAAC,CAAC;MAAEf;IAAE,CAAE,KAAKA,EAAE,KAAKmY,UAAU,CAACnY,EAAE,CAAC,EAAE;MAC1D+X,gBAAgB,CAAChY,IAAI,CAACoY,UAAU,CAAC;;;AAG7C;AAEA,MAGaC,cAAc;EACvB;;;;EAIaC,SAASA,CAACC,QAAgB;IAAA,OAAA/D,wJAAA;MACnC,IAAI,CAAC+D,QAAQ,EAAE,OAAON,iBAAiB;MACvC,IAAIO,WAAW,GAAGR,gBAAgB,CAAChX,IAAI,CAAC,CAAC;QAAEf;MAAE,CAAE,KAAKA,EAAE,KAAKsY,QAAQ,CAAC;MACpE,IAAIC,WAAW,EAAE,OAAOA,WAAW;MACnC,MAAMC,KAAK,SAASV,0DAAc,CAACQ,QAAQ,CAAC,CACvCtD,SAAS,EAAE,CACXC,KAAK,CAAEwD,CAAC,IAAK,IAAI,CAAC;MACvB,IAAID,KAAK,EAAE;QACPD,WAAW,GAAG;UAAE,GAAGC;QAAK,CAAE;QAC1BT,gBAAgB,CAAChY,IAAI,CAACwY,WAAW,CAAC;QAClC,OAAOA,WAAW;;MAEtB,OAAOP,iBAAiB;IAAC;EAC7B;EAEOC,oBAAoBA,CAACC,eAA6B;IACrDD,oBAAoB,CAACC,eAAe,CAAC;EACzC;;AAtBSE,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;;QAAdA,cAAc;EAAAM,IAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;ACpBiD;AACH;AACpB;AACkB;AAEyC;AAEtD;;;;;;;;;;;IAgBtCvgB,uDAAA,cAIE;;;;IAFEA,wDAAA,QAAA4gB,QAAA,CAAAC,MAAA,KAAA7gB,2DAAA,CAAuB;;;;;IAIvBA,uDAAA,cAGE;;;;;;IAjBdA,4DAAA,aAIC;IAIOA,wDAAA,IAAA8gB,4CAAA,iBAIE;IACF9gB,wDAAA,IAAA+gB,oDAAA,gCAAA/gB,oEAAA,CAKc;IAClBA,0DAAA,EAAM;IACNA,4DAAA,aAAkB;IAEVA,oDAAA,GAIJ;;;IAAAA,0DAAA,EAAM;IACNA,4DAAA,WAAU;IAAVA,oDAAA,QAAU;IAA4BA,0DAAA,EAAM;IAC5CA,4DAAA,eAEC;IAMOA,wDAAA,mBAAAghB,gEAAA;MAAA,MAAAne,WAAA,GAAA7C,2DAAA,CAAAihB,GAAA;MAAA,MAAAL,QAAA,GAAA/d,WAAA,CAAAI,SAAA;MAAA,MAAAkR,MAAA,GAAAnU,2DAAA;MAAA,OAASA,yDAAA,CAAAmU,MAAA,CAAA+M,cAAA,CAAAN,QAAA,CAAqB;IAAA,EAAC;IAE/B5gB,4DAAA,eAA8C;IAA9CA,yDAAA,QAA8C;IAC1CA,uDAAA,gBAAyB;IAE7BA,uDAAA,EAAM;IAANA,0DAAA,EAAM;IAEVA,4DAAA,kBAMC;IADGA,wDAAA,mBAAAmhB,gEAAA;MAAA,MAAAte,WAAA,GAAA7C,2DAAA,CAAAihB,GAAA;MAAA,MAAAL,QAAA,GAAA/d,WAAA,CAAAI,SAAA;MAAA,MAAAyJ,MAAA,GAAA1M,2DAAA;MAAA,OAASA,yDAAA,CAAA0M,MAAA,CAAA0U,gBAAA,CAAAR,QAAA,CAAuB;IAAA,EAAC;IAEjC5gB,4DAAA,eAA8C;IAA9CA,yDAAA,QAA8C;IAC1CA,uDAAA,gBAA0B;IAE9BA,uDAAA,EAAM;IAANA,0DAAA,EAAM;IAIlBA,4DAAA,kBAOC;IADGA,wDAAA,mBAAAqhB,gEAAA;MAAA,MAAAxe,WAAA,GAAA7C,2DAAA,CAAAihB,GAAA;MAAA,MAAAL,QAAA,GAAA/d,WAAA,CAAAI,SAAA;MAAA,MAAA8J,MAAA,GAAA/M,2DAAA;MAAA,OAASA,yDAAA,CAAA+M,MAAA,CAAAuU,eAAA,CAAAV,QAAA,CAAsB;IAAA,EAAC;IAEhC5gB,4DAAA,gBAAU;IAAAA,oDAAA,IAIR;IAAAA,0DAAA,EAAW;;;;;;;IA5DRA,uDAAA,GAA4B;IAA5BA,wDAAA,SAAA4gB,QAAA,CAAAC,MAAA,kBAAAD,QAAA,CAAAC,MAAA,CAAAlX,MAAA,CAA4B,aAAA4X,GAAA;IAa7BvhB,uDAAA,GAIJ;IAJIA,gEAAA,QAAAwhB,OAAA,GAAAxhB,yDAAA,OAAAA,yDAAA,OAAA4gB,QAAA,CAAA/Y,EAAA,qBAAA2Z,OAAA,CAAA7b,IAAA,uBAIJ;IACsC3F,uDAAA,GAAM;IAANA,uDAAA,CAAA4gB,QAAA,CAAAc,MAAA,CAAM;IAAN1hB,yDAAA,IAAM;IAmC5CA,uDAAA,IAAoD;IAApDA,yDAAA,kBAAAU,MAAA,CAAAkhB,SAAA,CAAApU,QAAA,CAAAoT,QAAA,CAAA/Y,EAAA,EAAoD;IAG1C7H,uDAAA,GAIR;IAJQA,+DAAA,CAAAU,MAAA,CAAAkhB,SAAA,CAAApU,QAAA,CAAAoT,QAAA,CAAA/Y,EAAA,mCAIR;;;AA3EtB,MAAMga,UAAU,GAAa,EAAE;AAE/B,MAqGaC,uBAAuB;EAUhC,IAAWF,SAASA,CAAA;IAChB,OAAO,IAAI,CAAC1T,SAAS,CAACC,GAAG,CAAW,kBAAkB,CAAC,IAAI0T,UAAU;EACzE;EAEA/b,YACYoI,SAA0B,EAC1BoQ,OAAkB,EAClByD,MAAyB;IAFzB,KAAA7T,SAAS,GAATA,SAAS;IACT,KAAAoQ,OAAO,GAAPA,OAAO;IACP,KAAAyD,MAAM,GAANA,MAAM;IAhBF,KAAAhc,IAAI,GAAG6V,IAAI,CAAChV,GAAG,EAAE;IACjB,KAAA9B,QAAQ,GAAG,EAAE;IACtB,KAAAkd,KAAK,GAAiB,EAAE;IACxB,KAAA9K,QAAQ,GAAG,KAAK;IAIhB,KAAA+K,QAAQ,GAAiB,EAAE;IAsClB,KAAAC,gBAAgB,GAAIC,EAA6B,IAC5D,IAAI,CAACC,SAAS,GAAGD,EAAG;IACT,KAAAE,iBAAiB,GAAIF,EAA6B,IAC7D,IAAI,CAACG,QAAQ,GAAGH,EAAG;IACR,KAAAI,gBAAgB,GAAItS,CAAU,IAAM,IAAI,CAACiH,QAAQ,GAAGjH,CAAE;EAhCnE;EAEI5I,WAAWA,CAACC,OAAsB;IACrC,IAAIA,OAAO,CAACvB,IAAI,IAAIuB,OAAO,CAACxC,QAAQ,EAAE;MAClC,IAAI,CAACid,MAAM,CAACS,UAAU,CAAC;QACnBzc,IAAI,EAAE,IAAI,CAACA,IAAI;QACfjB,QAAQ,EAAE,IAAI,CAACA;OAClB,CAAC;;EAEV;EAEA;;;;EAIO2d,QAAQA,CAACC,SAAuB;IACnC,IAAI,CAACV,KAAK,GAAGU,SAAS;IACtB,IAAI,IAAI,CAACN,SAAS,EAAE,IAAI,CAACA,SAAS,CAAC,IAAI,CAACJ,KAAK,CAAC;EAClD;EAEA;;;;EAIOW,UAAUA,CAACvM,KAAmB;IACjC,IAAI,CAAC4L,KAAK,GAAG5L,KAAK,IAAI,EAAE;EAC5B;EAQOgL,gBAAgBA,CAACwB,KAAiB;IACrC,MAAMC,YAAY,GAAG,IAAI,CAACb,KAAK,CAAC9Z,MAAM,CAAEoY,CAAC,IAAKA,CAAC,CAACzY,EAAE,KAAK+a,KAAK,CAAC/a,EAAE,CAAC;IAChE,IAAI,CAAC4a,QAAQ,CAACI,YAAY,CAAC;EAC/B;EAEO3B,cAAcA,CAAC0B,KAAkB;IACpC,MAAME,GAAG,GAAG,IAAI,CAACxE,OAAO,CAACyE,IAAI,CAACrC,0HAAyB,EAAE;MACrDlC,IAAI,EAAE,IAAI,CAACwD;KACd,CAAC;IACFc,GAAG,CAACE,WAAW,EAAE,CAAC/G,SAAS,CAAE+F,KAAoB,IAAI;MACjD,IAAI,CAACA,KAAK,EAAEA,KAAK,GAAGc,GAAG,CAACG,iBAAiB,CAAChB,QAAQ;MAClDD,KAAK,GAAGA,KAAK,CAACxZ,GAAG,CAAE4V,IAAI,KAAM;QAAE,GAAGA;MAAI,CAAE,CAAC,CAAC;MAC1C,KAAK,MAAMA,IAAI,IAAI4D,KAAK,EAAE;QACtB5D,IAAI,CAAC8E,MAAM,GAAG9E,IAAI,CAAC8E,MAAM,CAACC,KAAK,CAAC,CAAC,EAAE/E,IAAI,CAACsD,MAAM,CAAC;;MAEnD,IAAI,CAACe,QAAQ,CAACT,KAAK,CAAC;IACxB,CAAC,CAAC;EACN;EAEOV,eAAeA,CAACsB,KAAiB;IACpC,MAAMQ,QAAQ,GAAG,IAAI,CAACxB,SAAS;IAC/B,MAAMyB,SAAS,GAAG,CAACD,QAAQ,CAAC5V,QAAQ,CAACoV,KAAK,CAAC/a,EAAE,CAAC;IAC9C,IAAIwb,SAAS,EAAE;MACX,IAAI,CAACnV,SAAS,CAACoV,eAAe,CAAC,kBAAkB,EAAE,CAC/C,GAAGF,QAAQ,EACXR,KAAK,CAAC/a,EAAE,CACX,CAAC;KACL,MAAM;MACH,IAAI,CAACqG,SAAS,CAACoV,eAAe,CAC1B,kBAAkB,EAClBF,QAAQ,CAAClb,MAAM,CAAEoY,CAAC,IAAKA,CAAC,KAAKsC,KAAK,CAAC/a,EAAE,CAAC,CACzC;;EAET;;AArFSia,uBAAuB;mBAAvBA,uBAAuB,EAAA9hB,+DAAA,CAAAzC,iFAAA,GAAAyC,+DAAA,CAAAH,+DAAA,GAAAG,+DAAA,CAAAiV,mEAAA;AAAA;AAAvB6M,uBAAuB;QAAvBA,uBAAuB;EAAA9gB,SAAA;EAAAC,MAAA;IAAA8E,IAAA;IAAAjB,QAAA;EAAA;EAAA3D,QAAA,GAAAnB,gEAAA,CATrB,CACP;IACIhB,OAAO,EAAEyhB,6DAAiB;IAC1B;IACA+C,WAAW,EAAEhD,yDAAU,CAAC,MAAMsB,uBAAuB,CAAC;IACtD2B,KAAK,EAAE;GACV,CACJ,GAAAzjB,kEAAA;EAAAqB,KAAA;EAAAC,IAAA;EAAAC,MAAA,WAAAA,CAAA;IAAA,IAAAC,MAAA;IAAA,WAAAC,iBAAA,oBAAAA,iBAAA;;;;;;;;;;;;;eApEyBC,SAAA,iFAAkB,2BAAU;;;;;;;;;;;;;;;;;;eAY1BA,SAAA,kFAAU,2BAAI,kBAAW,8BAE7B;;;;;;;;;;;;;;;;;;eAUIA,SAAA,mFAAU,4BAAK,kBAAW,8BAE9B;;;;;;MAtDpB1B,4DAAA,aAA4B;MACxBA,wDAAA,IAAA0jB,sCAAA,mBAuEM;MACV1jB,0DAAA,EAAM;MACNA,4DAAA,gBAOC;MADGA,wDAAA,mBAAA2jB,yDAAA;QAAA,OAAS7hB,GAAA,CAAAof,cAAA,EAAgB;MAAA,EAAC;MAE1BlhB,4DAAA,aAAwD;MAC1CA,oDAAA,aAAM;MAAAA,0DAAA,EAAW;MAC3BA,4DAAA,WAAM;MAAAA,oDAAA,gBAAS;MAAAA,0DAAA,EAAO;;;MAhFJA,uDAAA,GAAQ;MAARA,wDAAA,YAAA8B,GAAA,CAAAkgB,KAAA,CAAQ;MA2E9BhiB,uDAAA,GAAqB;MAArBA,wDAAA,aAAA8B,GAAA,CAAAoV,QAAA,CAAqB;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvFV;AACqB;;;;;;;;;;;IAMpClX,qEAAA,GAA6C;IACzCA,4DAAA,iBAAgE;IAC5DA,uDAAA,wBAGkB;IAClBA,4DAAA,gBAMC;IAFGA,wDAAA,mBAAA4jB,sEAAA;MAAA5jB,2DAAA,CAAAoR,GAAA;MAAA,MAAA1N,MAAA,GAAA1D,2DAAA;MAAA,OAASA,yDAAA,CAAA0D,MAAA,CAAAmgB,KAAA,CAAAxa,IAAA,EAAY;IAAA,EAAC;IAGtBrJ,4DAAA,eAAU;IAAAA,oDAAA,iBAAU;IAAAA,0DAAA,EAAW;IAEnCA,4DAAA,gBAQC;IAFGA,wDAAA,mBAAA8jB,sEAAA;MAAA9jB,2DAAA,CAAAoR,GAAA;MAAA,MAAA/E,MAAA,GAAArM,2DAAA;MAAA,OAASA,yDAAA,CAAAqM,MAAA,CAAA0X,SAAA,CAAA1a,IAAA,EAAgB;IAAA,EAAC;IAG1BrJ,4DAAA,eAAU;IACNA,oDAAA,GACJ;IAAAA,0DAAA,EAAW;IAGnBA,4DAAA,aAAsD;IAItCA,oDAAA,IACJ;IAAAA,0DAAA,EAAK;IACLA,4DAAA,SAAG;IAAAA,oDAAA,IAAwC;IAAAA,0DAAA,EAAI;IAEnDA,4DAAA,oBAKC;IAJGA,wDAAA,2BAAAgkB,kFAAA1Y,MAAA;MAAAtL,2DAAA,CAAAoR,GAAA;MAAA,MAAA+C,MAAA,GAAAnU,2DAAA;MAAA,OAAaA,yDAAA,CAAAmU,MAAA,CAAAiK,IAAA,CAAAsD,MAAA,GAAApW,MAAA,CAC/B;IAAA,EAD2C,2BAAA0Y,kFAAA1Y,MAAA;MAAAtL,2DAAA,CAAAoR,GAAA;MAAA,MAAAiD,MAAA,GAAArU,2DAAA;MAAA,OACRA,yDAAA,CAAAqU,MAAA,CAAA4P,WAAA,CAAA5a,IAAA,CAAAiC,MAAA,CAAwB;IAAA,EADhB;IAI5BtL,0DAAA,EAAY;IAEjBA,uDAAA,UAAM;IACNA,4DAAA,mBAAmC;IACCA,oDAAA,eAAO;IAAAA,0DAAA,EAAK;IAC5CA,4DAAA,eAAyC;IAClCA,oDAAA,IAA0C;IAAAA,0DAAA,EAAI;IAI7DA,4DAAA,eAA2D;IAOnDA,wDAAA,mBAAAkkB,uEAAA;MAAAlkB,2DAAA,CAAAoR,GAAA;MAAA,MAAA1E,MAAA,GAAA1M,2DAAA;MAAA0M,MAAA,CAAAyX,MAAA,IAAAzX,MAAA,CAAAyX,MAAA;MAAA,OAA2BnkB,yDAAA,CAAA0M,MAAA,CAAA0X,YAAA,CAAA/a,IAAA,CAAAqD,MAAA,CAAAyX,MAAA,CAAyB;IAAA,EAAC;IAErDnkB,4DAAA,eAA8C;IAEtCA,oDAAA,IACJ;IAAAA,0DAAA,EAAW;IACXA,4DAAA,SAAG;IACCA,oDAAA,IAGJ;IAAAA,0DAAA,EAAI;IAIpBA,mEAAA,EAAe;;;;IAtEHA,uDAAA,GAAsB;IAAtBA,wDAAA,WAAAU,MAAA,CAAA0d,IAAA,CAAAyC,MAAA,CAAsB;IAgBtB7gB,uDAAA,GAAyB;IAAzBA,yDAAA,gBAAAU,MAAA,CAAA2jB,GAAA,CAAyB,kBAAA3jB,MAAA,CAAA2jB,GAAA;IAMrBrkB,uDAAA,GACJ;IADIA,gEAAA,MAAAU,MAAA,CAAA2jB,GAAA,uCACJ;IAOQrkB,uDAAA,GACJ;IADIA,gEAAA,MAAAU,MAAA,CAAA0d,IAAA,CAAAzY,IAAA,MACJ;IACG3F,uDAAA,GAAwC;IAAxCA,gEAAA,MAAAU,MAAA,CAAA0d,IAAA,CAAA8E,MAAA,kBAAAxiB,MAAA,CAAA0d,IAAA,CAAA8E,MAAA,CAAAvZ,MAAA,qBAAwC;IAG3C3J,uDAAA,GAAyB;IAAzBA,wDAAA,YAAAU,MAAA,CAAA0d,IAAA,CAAAsD,MAAA,CAAyB,mBAAAhhB,MAAA,CAAA0d,IAAA,CAAA8E,MAAA,kBAAAxiB,MAAA,CAAA0d,IAAA,CAAA8E,MAAA,CAAAvZ,MAAA;IAUtB3J,uDAAA,GAA0C;IAA1CA,+DAAA,CAAAU,MAAA,CAAA0d,IAAA,CAAAnP,WAAA,qBAA0C;IASjDjP,uDAAA,GAAwB;IAAxBA,yDAAA,YAAAU,MAAA,CAAAyjB,MAAA,CAAwB;IAMhBnkB,uDAAA,GACJ;IADIA,gEAAA,MAAAU,MAAA,CAAAyjB,MAAA,yBACJ;IAEInkB,uDAAA,GAGJ;IAHIA,gEAAA,MAAAU,MAAA,CAAAyjB,MAAA,+CAGJ;;;;;IAMZnkB,4DAAA,cAGC;IAEOA,oDAAA,6CACJ;IAAAA,0DAAA,EAAI;;;AApFpB,MAqGaskB,qBAAqB;EArGlCxe,YAAA;IAuGoB,KAAAqe,MAAM,GAAY,KAAK;IACvB,KAAAE,GAAG,GAAY,KAAK;IAEnB,KAAAN,SAAS,GAAG,IAAI7hB,uDAAY,EAAQ;IACpC,KAAAkiB,YAAY,GAAG,IAAIliB,uDAAY,EAAW;IAC1C,KAAA+hB,WAAW,GAAG,IAAI/hB,uDAAY,EAAU;IACxC,KAAA2hB,KAAK,GAAG,IAAI3hB,uDAAY,EAAQ;;EAE1CmE,QAAQA,CAAA;IACX,IAAI,IAAI,CAAC+X,IAAI,IAAI,CAAC,IAAI,CAACA,IAAI,CAACsD,MAAM,EAAE,IAAI,CAACtD,IAAI,CAACsD,MAAM,GAAG,CAAC;EAC5D;EAEOra,WAAWA,CAACC,OAAsB;IACrC,IAAIA,OAAO,CAAC8W,IAAI,IAAI,IAAI,CAACA,IAAI,EAAE;MAC3B,IAAI,CAAC,IAAI,CAACA,IAAI,CAACsD,MAAM,EAAE,IAAI,CAACtD,IAAI,CAACsD,MAAM,GAAG,CAAC;;EAEnD;;AAlBS4C,qBAAqB;mBAArBA,qBAAqB;AAAA;AAArBA,qBAAqB;QAArBA,qBAAqB;EAAAtjB,SAAA;EAAAC,MAAA;IAAAmd,IAAA;IAAA+F,MAAA;IAAAE,GAAA;EAAA;EAAA3J,OAAA;IAAAqJ,SAAA;IAAAK,YAAA;IAAAH,WAAA;IAAAJ,KAAA;EAAA;EAAA1iB,QAAA,GAAAnB,kEAAA;EAAAqB,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAiV,QAAA,WAAA+N,+BAAAvZ,EAAA,EAAAlJ,GAAA;IAAA,IAAAkJ,EAAA;MAlG1BhL,wDAAA,IAAAwkB,6CAAA,4BAyEe;MACfxkB,wDAAA,IAAAykB,4CAAA,gCAAAzkB,oEAAA,CASc;;;;MAnFCA,wDAAA,SAAA8B,GAAA,CAAAsc,IAAA,CAAY,aAAAR,GAAA;;;;;;;;;;;;;;;;;;;;;;ACXnC,MAKa8G,4BAA4B;AAA5BA,4BAA4B;mBAA5BA,4BAA4B;AAAA;AAA5BA,4BAA4B;QAA5BA,4BAA4B;EAAA1jB,SAAA;EAAAK,KAAA;EAAAC,IAAA;EAAAkV,QAAA,WAAAmO,sCAAA3Z,EAAA,EAAAlJ,GAAA;AAAA;;;;;;;;;;;;;;;;;ACLzC,MAKa8iB,qBAAqB;AAArBA,qBAAqB;mBAArBA,qBAAqB;AAAA;AAArBA,qBAAqB;QAArBA,qBAAqB;EAAA5jB,SAAA;EAAAK,KAAA;EAAAC,IAAA;EAAAkV,QAAA,WAAAqO,+BAAA7Z,EAAA,EAAAlJ,GAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;ACDX;AACoC;AAEL;AACjB;;;;;;;;;IA+BL9B,4DAAA,cAGC;IAEOA,oDAAA,GACJ;IAAAA,0DAAA,EAAO;;;;IADHA,uDAAA,GACJ;IADIA,gEAAA,MAAA+kB,QAAA,CAAArD,MAAA,WACJ;;;;;IAEJ1hB,uDAAA,cAOE;;;;IADEA,wDAAA,QAAA+kB,QAAA,CAAAlE,MAAA,KAAA7gB,2DAAA,CAAuB;;;;;IAGvBA,uDAAA,cAGE;;;;;;IAlClBA,4DAAA,YAKC;IAIOA,wDAAA,mBAAAglB,6EAAA;MAAA,MAAAniB,WAAA,GAAA7C,2DAAA,CAAAilB,IAAA;MAAA,MAAAF,QAAA,GAAAliB,WAAA,CAAAI,SAAA;MAAA,MAAAkB,OAAA,GAAAnE,2DAAA;MAAA,OAASA,yDAAA,CAAAmE,OAAA,CAAA+gB,WAAA,CAAAH,QAAA,CAAkB;IAAA,EAAC;IAE5B/kB,4DAAA,cAEC;IACGA,wDAAA,IAAAmlB,0DAAA,kBAOM;IACNnlB,wDAAA,IAAAolB,0DAAA,kBAOE;IACFplB,wDAAA,IAAAqlB,kEAAA,iCAAArlB,oEAAA,CAKc;IAClBA,0DAAA,EAAM;IACNA,4DAAA,cAAwC;IAI3BA,oDAAA,IAA2B;IAAAA,0DAAA,EAAM;IACtCA,4DAAA,eAAgC;IAC5BA,oDAAA,IACJ;IAAAA,0DAAA,EAAM;IAEVA,4DAAA,eAEC;IAEOA,oDAAA,IAEJ;IAAAA,0DAAA,EAAI;IAIhBA,4DAAA,kBAOC;IADGA,wDAAA,mBAAAslB,8EAAA;MAAA,MAAAziB,WAAA,GAAA7C,2DAAA,CAAAilB,IAAA;MAAA,MAAAF,QAAA,GAAAliB,WAAA,CAAAI,SAAA;MAAA,MAAAsB,OAAA,GAAAvE,2DAAA;MAAA,OAASA,yDAAA,CAAAuE,OAAA,CAAAwf,SAAA,CAAA1a,IAAA,CAAA0b,QAAA,CAAqB;IAAA,EAAC;IAE/B/kB,4DAAA,gBAAU;IAAAA,oDAAA,IAIR;IAAAA,0DAAA,EAAW;;;;;;IApDJA,uDAAA,GAAiC;IAAjCA,wDAAA,SAAAmU,MAAA,CAAA8N,QAAA,CAAAzU,QAAA,CAAAuX,QAAA,CAAAld,EAAA,EAAiC;IAOjC7H,uDAAA,GAGb;IAHaA,wDAAA,SAAA+kB,QAAA,CAAAlE,MAAA,kBAAAkE,QAAA,CAAAlE,MAAA,CAAAlX,MAAA,CAGb,aAAAmD,IAAA;IAeiB9M,uDAAA,GAA2B;IAA3BA,+DAAA,CAAA+kB,QAAA,CAAApf,IAAA,YAA2B;IAE5B3F,uDAAA,GACJ;IADIA,gEAAA,MAAA+kB,QAAA,CAAAQ,QAAA,MACJ;IAMIvlB,uDAAA,GAEJ;IAFIA,gEAAA,OAAA+kB,QAAA,CAAA7B,MAAA,kBAAA6B,QAAA,CAAA7B,MAAA,CAAAvZ,MAAA,wBAEJ;IASR3J,uDAAA,GAA6C;IAA7CA,yDAAA,kBAAAmU,MAAA,CAAAqR,WAAA,CAAAT,QAAA,CAAAld,EAAA,EAA6C;IAGnC7H,uDAAA,GAIR;IAJQA,+DAAA,CAAAmU,MAAA,CAAAqR,WAAA,CAAAT,QAAA,CAAAld,EAAA,mCAIR;;;;;IAxEd7H,4DAAA,YAGC;IACGA,wDAAA,IAAAylB,oDAAA,iBAsEK;;IACTzlB,0DAAA,EAAK;;;;IArEqBA,uDAAA,GAAiB;IAAjBA,wDAAA,YAAAA,yDAAA,OAAAqM,MAAA,CAAA6W,MAAA,EAAiB;;;;;IAP/CljB,qEAAA,GAA0D;IACtDA,wDAAA,IAAA0lB,+CAAA,gBA2EK;;IACT1lB,mEAAA,EAAe;;;;;;IA1ENA,uDAAA,GAAgC;IAAhCA,wDAAA,UAAAyP,OAAA,GAAAzP,yDAAA,OAAAU,MAAA,CAAAwiB,MAAA,oBAAAzT,OAAA,CAAA9F,MAAA,CAAgC,aAAAiU,GAAA;;;;;IA6EzC5d,4DAAA,cAGC;IAEOA,oDAAA,6DACJ;IAAAA,0DAAA,EAAI;;;;;IAIRA,4DAAA,cAGC;IACGA,uDAAA,sBAA2C;IAC3CA,4DAAA,YAAsB;IAAAA,oDAAA,kCAA2B;IAAAA,0DAAA,EAAI;;;IADxCA,uDAAA,GAAe;IAAfA,wDAAA,gBAAe;;;AAxG5C,MAsHa2lB,kBAAkB;EA0B3B7f,YAAoB8f,YAA+B;IAA/B,KAAAA,YAAY,GAAZA,YAAY;IAzBhB,KAAA3D,QAAQ,GAAW,EAAE;IACrB,KAAAL,SAAS,GAAa,EAAE;IACxB,KAAAiE,cAAc,GAAiB,EAAE;IAChC,KAAA9B,SAAS,GAAG,IAAI7hB,uDAAY,EAAc;IAC1C,KAAA4jB,QAAQ,GAAG,IAAI5jB,uDAAY,EAAc;IAE1C,KAAA6jB,MAAM,GAAG,IAAIhL,iDAAe,CAAyB,EAAE,CAAC;IAExD,KAAAlL,OAAO,GAAG,IAAI,CAAC+V,YAAY,CAAC/V,OAAO;IACnC,KAAAqT,MAAM,GAAG4B,mDAAa,CAAC,CACnC,IAAI,CAACiB,MAAM,EACX,IAAI,CAACH,YAAY,CAACI,eAAe,CACpC,CAAC,CAAChK,IAAI,CACHxT,mDAAG,CAAC,CAAC,CAACud,MAAM,EAAE7C,MAAM,CAAC,KAAI;MACrB,KAAK,MAAM9E,IAAI,IAAI8E,MAAM,EAAE;QACvB9E,IAAI,CAACsD,MAAM,GAAGqE,MAAM,CAAC3H,IAAI,CAACvW,EAAE,CAAC,IAAI,CAAC;QAClC,MAAMoa,QAAQ,GAAG,IAAI,CAAC4D,cAAc,CAACjd,IAAI,CACpCT,CAAC,IAAKA,CAAC,CAACN,EAAE,KAAKuW,IAAI,CAACvW,EAAE,CAC1B;QACD,IAAIoa,QAAQ,EAAEA,QAAQ,CAACiB,MAAM,GAAG9E,IAAI,CAAC8E,MAAM;;MAE/C,OAAOA,MAAM;IACjB,CAAC,CAAC,CACL;EAEqD;EAE/C7b,WAAWA,CAACC,OAAsB;IACrC,IAAIA,OAAO,CAACue,cAAc,IAAI,IAAI,CAACA,cAAc,EAAElc,MAAM,EAAE;MACvD,MAAMoc,MAAM,GAAG,EAAE;MACjB,KAAK,MAAM3H,IAAI,IAAI,IAAI,CAACyH,cAAc,EAAE;QACpCE,MAAM,CAAC3H,IAAI,CAACvW,EAAE,CAAC,GAAGuW,IAAI,CAACsD,MAAM;;MAEjC,IAAI,CAACqE,MAAM,CAAC1I,IAAI,CAAC0I,MAAM,CAAC;;EAEhC;EAEOP,WAAWA,CAACS,QAAgB;IAC/B,OAAO,IAAI,CAACrE,SAAS,CAACpU,QAAQ,CAACyY,QAAQ,CAAC;EAC5C;EAEOf,WAAWA,CAACtC,KAAiB;IAChC,IAAI,CAACkD,QAAQ,CAACzc,IAAI,CAACuZ,KAAK,CAAC;EAC7B;;AA5CS+C,kBAAkB;mBAAlBA,kBAAkB,EAAA3lB,+DAAA,CAAAzC,mEAAA;AAAA;AAAlBooB,kBAAkB;QAAlBA,kBAAkB;EAAA3kB,SAAA;EAAAC,MAAA;IAAAghB,QAAA;IAAAL,SAAA;IAAAiE,cAAA;EAAA;EAAAnL,OAAA;IAAAqJ,SAAA;IAAA+B,QAAA;EAAA;EAAA3kB,QAAA,GAAAnB,kEAAA;EAAAqB,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAiV,QAAA,WAAA0P,4BAAAlb,EAAA,EAAAlJ,GAAA;IAAA,IAAAkJ,EAAA;MAnHvBhL,4DAAA,aAEC;MAC8BA,oDAAA,cAAO;MAAAA,0DAAA,EAAK;MACvCA,4DAAA,WAA8C;MAC1CA,oDAAA,GACJ;;MAAAA,0DAAA,EAAI;MACJA,wDAAA,IAAAmmB,0CAAA,0BA6Ee;;MACnBnmB,0DAAA,EAAM;MACNA,wDAAA,IAAAomB,yCAAA,gCAAApmB,oEAAA,CASc;MACdA,wDAAA,KAAAqmB,0CAAA,gCAAArmB,oEAAA,CAQc;;;;;MAnGNA,uDAAA,GACJ;MADIA,gEAAA,QAAAyP,OAAA,GAAAzP,yDAAA,OAAA8B,GAAA,CAAAohB,MAAA,oBAAAzT,OAAA,CAAA9F,MAAA,4BACJ;MACe3J,uDAAA,GAA0B;MAA1BA,wDAAA,UAAAA,yDAAA,OAAA8B,GAAA,CAAA+N,OAAA,EAA0B,aAAA0R,GAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrBM;AACT;AACC;;;;;;;;;;;;;;IAsDnCvhB,4DAAA,iBAOC;IADGA,wDAAA,mBAAAsmB,qEAAA;MAAAtmB,2DAAA,CAAAyO,GAAA;MAAA,MAAAb,MAAA,GAAA5N,2DAAA;MAAA,OAAAA,yDAAA,CAAA4N,MAAA,CAAA2Y,SAAA,GAAqB,IAAI;IAAA,EAAC;IAE1BvmB,oDAAA,aACJ;IAAAA,0DAAA,EAAS;;;AA7DzB,MAAM6hB,UAAU,GAAa,EAAE;AAE/B,MA+GanB,yBAAyB;EAIlC,IAAWkB,SAASA,CAAA;IAChB,OAAO,IAAI,CAAC1T,SAAS,CAACC,GAAG,CAAW,kBAAkB,CAAC,IAAI0T,UAAU;EACzE;EAEA,IAAW2E,YAAYA,CAAA;IACnB,OAAO,IAAI,CAACvE,QAAQ,CAACzZ,GAAG,CAAE8X,CAAC,IAAKA,CAAC,CAACzY,EAAE,CAAC,CAAC4e,IAAI,CAAC,GAAG,CAAC;EACnD;EAEA,IAAWC,KAAKA,CAAA;IACZ,OAAO,IAAI,CAACzE,QAAQ,CAACtD,MAAM,CAAC,CAAC5d,CAAC,EAAEoH,CAAM,KAAKpH,CAAC,GAAGoH,CAAC,CAACuZ,MAAM,EAAE,CAAC,CAAC;EAC/D;EAEOiF,UAAUA,CAAC9e,EAAU;IACxB,OAAOA,EAAE,IAAI,IAAI,CAAC2e,YAAY,CAAChZ,QAAQ,CAAC3F,EAAE,CAAC;EAC/C;EAEA/B,YACYoI,SAA0B,EACD0Y,MAAoB;IAD7C,KAAA1Y,SAAS,GAATA,SAAS;IACgB,KAAA0Y,MAAM,GAANA,MAAM;IArBpC,KAAAL,SAAS,GAAsB,IAAI;IACnC,KAAAtE,QAAQ,GAAiB,CAAC,IAAI,IAAI,CAAC2E,MAAM,IAAI,EAAE,CAAC,CAAC;EAqBrD;EAEIC,WAAWA,CAACxG,KAAiB,EAAEyG,KAAc;IAChD,MAAMC,IAAI,GAAG,IAAI,CAAC9E,QAAQ,CAAC/Z,MAAM,CAAEoY,CAAC,IAAKA,CAAC,CAACzY,EAAE,KAAKwY,KAAK,CAACxY,EAAE,CAAC;IAC3D,IAAIif,KAAK,EAAEC,IAAI,CAACnf,IAAI,CAACyY,KAAK,CAAC;IAC3B,IAAI,CAAC4B,QAAQ,GAAG,CAAC,GAAG8E,IAAI,CAAC;EAC7B;EAEOC,mBAAmBA,CAACN,KAAa;IACpC,IAAI,CAAC,IAAI,CAACH,SAAS,EAAE;IACrB,MAAMnI,IAAI,GAAG,IAAI,CAAC6D,QAAQ,CAACrZ,IAAI,CAAE0X,CAAC,IAAKA,CAAC,CAACzY,EAAE,KAAK,IAAI,CAAC0e,SAAS,CAAC1e,EAAE,CAAC;IAClE,IAAIuW,IAAI,EAAEA,IAAI,CAACsD,MAAM,GAAGgF,KAAK;IAC7BtI,IAAI,CAAC8E,MAAM,GAAG,IAAI,CAACqD,SAAS,CAACrD,MAAM;EACvC;EAEO5B,eAAeA,CAACsB,KAAiB;IACpC,MAAMQ,QAAQ,GAAG,IAAI,CAACxB,SAAS;IAC/B,MAAMyB,SAAS,GAAG,CAACD,QAAQ,CAAC5V,QAAQ,CAACoV,KAAK,CAAC/a,EAAE,CAAC;IAC9C,IAAIwb,SAAS,EAAE;MACX,IAAI,CAACnV,SAAS,CAACoV,eAAe,CAAC,kBAAkB,EAAE,CAC/C,GAAGF,QAAQ,EACXR,KAAK,CAAC/a,EAAE,CACX,CAAC;KACL,MAAM;MACH,IAAI,CAACqG,SAAS,CAACoV,eAAe,CAC1B,kBAAkB,EAClBF,QAAQ,CAAClb,MAAM,CAAEoY,CAAC,IAAKA,CAAC,KAAKsC,KAAK,CAAC/a,EAAE,CAAC,CACzC;;EAET;;AApDS6Y,yBAAyB;mBAAzBA,yBAAyB,EAAA1gB,+DAAA,CAAAzC,4DAAA,GAAAyC,+DAAA,CAsBtBgZ,qEAAe;AAAA;AAtBlB0H,yBAAyB;QAAzBA,yBAAyB;EAAA1f,SAAA;EAAAK,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAiV,QAAA,WAAAyQ,mCAAAjc,EAAA,EAAAlJ,GAAA;IAAA,IAAAkJ,EAAA;MA5G9BhL,4DAAA,aAEC;MAGqBA,oDAAA,YAAK;MAAAA,0DAAA,EAAW;MAE9BA,4DAAA,SAAI;MAAAA,oDAAA,iBAAU;MAAAA,0DAAA,EAAK;MAEvBA,4DAAA,cAEC;MACGA,uDAAA,uBAA8D;MAC9DA,4DAAA,aAEC;MACGA,uDAAA,gCAEyB;MACzBA,4DAAA,qBAOC;MAHGA,wDAAA,uBAAAknB,oEAAA5b,MAAA;QAAA,OAAaxJ,GAAA,CAAAwf,eAAA,CAAAhW,MAAA,CAAuB;MAAA,EAAC,sBAAA6b,mEAAA7b,MAAA;QAAA,OAAAxJ,GAAA,CAAAykB,SAAA,GAAAjb,MAAA;MAAA;MAGxCtL,0DAAA,EAAa;MAElBA,4DAAA,wBAcC;MARGA,wDAAA,0BAAAonB,0EAAA9b,MAAA;QAAA,OAAgBxJ,GAAA,CAAA+kB,WAAA,CAAA/kB,GAAA,CAAAykB,SAAA,EAAAjb,MAAA,CAA+B;MAAA,EAAC,yBAAA+b,yEAAA/b,MAAA;QAAA,OACjCxJ,GAAA,CAAAklB,mBAAA,CAAA1b,MAAA,CAA2B;MAAA,EADM,uBAAAgc,uEAAA;QAAA,OAMnCxlB,GAAA,CAAAwf,eAAA,CAAAxf,GAAA,CAAAykB,SAAA,CAA2B;MAAA,EANQ,mBAAAgB,mEAAA;QAAA,OAAAzlB,GAAA,CAAAykB,SAAA,GAO3B,IAAI;MAAA,EAPuB;MAQnDvmB,0DAAA,EAAgB;MAErBA,4DAAA,iBAEC;MACGA,wDAAA,KAAAwnB,4CAAA,qBASS;MACTxnB,4DAAA,kBAOC;MACGA,oDAAA,mBACJ;MAAAA,0DAAA,EAAS;MAEbA,4DAAA,kBAEC;MAQqCA,oDAAA,kBAAU;MAAAA,0DAAA,EAAW;MAC/CA,4DAAA,eAA4B;MAAAA,oDAAA,oBAAY;MAAAA,0DAAA,EAAM;MAGtDA,4DAAA,aAA8B;MAAAA,oDAAA,IAA0B;MAAAA,0DAAA,EAAI;MAC5DA,4DAAA,kBAMC;MADGA,wDAAA,mBAAAynB,4DAAA;QAAA,OAAS3lB,GAAA,CAAA+kB,WAAA,CAAA/kB,GAAA,CAAAykB,SAAA,GAAwBzkB,GAAA,CAAA6kB,UAAA,CAAA7kB,GAAA,CAAAykB,SAAA,kBAAAzkB,GAAA,CAAAykB,SAAA,CAAA1e,EAAA,CAAyB,CAAC;MAAA,EAAC;MAE5D7H,4DAAA,eAA+B;MAEvBA,oDAAA,IACJ;MAAAA,0DAAA,EAAW;MACXA,4DAAA,eAAkB;MACdA,oDAAA,IAKJ;MAAAA,0DAAA,EAAM;;;MAhFNA,uDAAA,IAAyB;MAAzBA,wDAAA,aAAA8B,GAAA,CAAA0kB,YAAA,CAAyB,cAAA1kB,GAAA,CAAA8f,SAAA,oBAAA9f,GAAA,CAAAmgB,QAAA;MAW7BjiB,uDAAA,GAA2B;MAA3BA,yDAAA,YAAA8B,GAAA,CAAAykB,SAAA,CAA2B,YAAAzkB,GAAA,CAAAykB,SAAA;MAF3BvmB,wDAAA,SAAA8B,GAAA,CAAAykB,SAAA,CAAmB,WAAAzkB,GAAA,CAAA0kB,YAAA,CAAAhZ,QAAA,EAAA1L,GAAA,CAAAykB,SAAA,kBAAAzkB,GAAA,CAAAykB,SAAA,CAAA1e,EAAA,mBAAA/F,GAAA,CAAAykB,SAAA,IAAAzkB,GAAA,CAAA8f,SAAA,CAAApU,QAAA,EAAA1L,GAAA,CAAAykB,SAAA,kBAAAzkB,GAAA,CAAAykB,SAAA,CAAA1e,EAAA;MAuBlB7H,uDAAA,GAAe;MAAfA,wDAAA,SAAA8B,GAAA,CAAAykB,SAAA,CAAe;MAUhBvmB,uDAAA,GAAwB;MAAxBA,yDAAA,SAAA8B,GAAA,CAAAykB,SAAA,CAAwB;MADxBvmB,wDAAA,qBAAA8B,GAAA,CAAAmgB,QAAA,CAA6B;MAa7BjiB,uDAAA,GAA6B;MAA7BA,wDAAA,qBAAA8B,GAAA,CAAAmgB,QAAA,CAA6B;MAQHjiB,uDAAA,GAA0B;MAA1BA,gEAAA,KAAA8B,GAAA,CAAA4kB,KAAA,oBAA0B;MAKpD1mB,uDAAA,GAA2C;MAA3CA,yDAAA,YAAA8B,GAAA,CAAA6kB,UAAA,CAAA7kB,GAAA,CAAAykB,SAAA,kBAAAzkB,GAAA,CAAAykB,SAAA,CAAA1e,EAAA,EAA2C;MAD3C7H,wDAAA,cAAA8B,GAAA,CAAAykB,SAAA,CAAuB;MAMfvmB,uDAAA,GACJ;MADIA,gEAAA,MAAA8B,GAAA,CAAA6kB,UAAA,CAAA7kB,GAAA,CAAAykB,SAAA,kBAAAzkB,GAAA,CAAAykB,SAAA,CAAA1e,EAAA,0BACJ;MAEI7H,uDAAA,GAKJ;MALIA,gEAAA,MAAA8B,GAAA,CAAA6kB,UAAA,CAAA7kB,GAAA,CAAAykB,SAAA,kBAAAzkB,GAAA,CAAAykB,SAAA,CAAA1e,EAAA,kDAKJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7GkC;AAQlC;AAC0C;AACA;AAQhD;AAEwC;AACE;;;AAS5D,MAGa8Y,iBAAiB;EAgF1B7a,YAAoB4O,IAAyB;IAAzB,KAAAA,IAAI,GAAJA,IAAI;IA/EhB,KAAA0T,QAAQ,GAAG,IAAIrN,iDAAe,CAAe;MAAEhV,IAAI,EAAE6V,IAAI,CAAChV,GAAG;IAAE,CAAE,CAAC;IAClE,KAAAyhB,OAAO,GAAG,IAAItN,iDAAe,CAAS,EAAE,CAAC;IACzC,KAAAuN,QAAQ,GAAG,IAAIvN,iDAAe,CAAS,EAAE,CAAC;IAElC,KAAA1E,MAAM,GAAG,IAAI,CAACgS,OAAO,CAACE,YAAY,EAAE;IACpC,KAAA1Y,OAAO,GAAG,IAAI,CAACyY,QAAQ,CAACC,YAAY,EAAE;IAEtC,KAAAC,UAAU,GAAGd,wCAAE,CAAC,CAAC,CAAC,CAAC1L,IAAI,CACnCf,yDAAS,CAAC,MAAK;MACX,IAAI,CAACqN,QAAQ,CAACjL,IAAI,CAAC,IAAI,CAACiL,QAAQ,CAACG,QAAQ,EAAE,GAAG,UAAU,CAAC;MACzD,OAAOX,uDAAW,EAAE;IACxB,CAAC,CAAC,EACFD,mDAAG,CAAEvH,CAAC,IACF,IAAI,CAACgI,QAAQ,CAACjL,IAAI,CACd,IAAI,CAACiL,QAAQ,CAACG,QAAQ,EAAE,CAACC,OAAO,CAAC,aAAa,EAAE,EAAE,CAAC,CACtD,CACJ,EACDd,2DAAW,CAAC,CAAC,CAAC,CACjB;IAEe,KAAAe,cAAc,GAAG,IAAI,CAACP,QAAQ,CAACpM,IAAI,CAC/ChB,4DAAY,CAAC,GAAG,CAAC,EACjBC,yDAAS,CAAC,CAAC;MAAE2N,IAAI;MAAE7iB;IAAI,CAAE,KAAI;MACzB,IAAI,CAACuiB,QAAQ,CAACjL,IAAI,CAAC,IAAI,CAACiL,QAAQ,CAACG,QAAQ,EAAE,GAAG,YAAY,CAAC;MAC3D,OAAOT,gFAAa,CAAC;QACjBa,KAAK,EAAED,IAAI,IAAI,EAAE;QACjBvM,YAAY,EAAElB,qDAAW,CAACC,qDAAU,CAACrV,IAAI,CAAC,CAAC;QAC3CuW,UAAU,EAAEnB,qDAAW,CAACD,qDAAQ,CAACnV,IAAI,CAAC,CAAC;QACvC6I,IAAI,EAAE;OACT,CAAC;IACN,CAAC,CAAC,EACFiZ,mDAAG,CAAEvH,CAAC,IACF,IAAI,CAACgI,QAAQ,CAACjL,IAAI,CACd,IAAI,CAACiL,QAAQ,CAACG,QAAQ,EAAE,CAACC,OAAO,CAAC,eAAe,EAAE,EAAE,CAAC,CACxD,CACJ,EACDd,2DAAW,CAAC,CAAC,CAAC,CACjB;IAEe,KAAAkB,gBAAgB,GAAGhE,oDAAa,CAAC,CAC7C,IAAI,CAACsD,QAAQ,EACb,IAAI,CAAC1T,IAAI,CAACI,eAAe,CAC5B,CAAC,CAACkH,IAAI,CACHhB,4DAAY,CAAC,GAAG,CAAC,EACjBC,yDAAS,CAAC,CAAC,CAAC;MAAE2N,IAAI;MAAE7iB,IAAI;MAAEjB,QAAQ;MAAEikB;IAAM,CAAE,EAAEC,GAAG,CAAC,KAAI;MAClD,OAAOjB,kEAAsB,CACzB;QACIkB,OAAO,EAAED,GAAG,CAACnhB,EAAE,IAAI+gB,IAAI,IAAI,EAAE;QAC7BC,KAAK,EAAED,IAAI,IAAI,EAAE;QACjBvM,YAAY,EAAElB,qDAAW,CAACgN,qDAAa,CAACpiB,IAAI,CAAC,CAAC;QAC9CuW,UAAU,EAAEnB,qDAAW,CACnB+M,qDAAW,CAACD,qDAAU,CAACliB,IAAI,EAAEjB,QAAQ,IAAI,EAAE,CAAC,CAAC,CAChD;QACD8J,IAAI,EAAE;OACF,EACRma,MAAM,CACT,CAAC/M,IAAI,CAAC2L,2DAAU,CAAC,MAAMD,wCAAE,CAAC,EAAkB,CAAC,CAAC,CAAC;IACpD,CAAC,CAAC,EACFlf,oDAAG,CAAEue,IAAI,IAAKA,IAAI,CAACmC,IAAI,CAAC,CAACC,CAAC,EAAEnU,CAAC,KAAKmU,CAAC,CAACxjB,IAAI,CAACyjB,aAAa,CAACpU,CAAC,CAACrP,IAAI,CAAC,CAAC,CAAC,EAChEkiB,mDAAG,CAAEvH,CAAC,IAAKR,uEAAoB,CAACQ,CAAC,CAAC,CAAC,EACnCsH,2DAAW,CAAC,CAAC,CAAC,CACjB;IAEe,KAAA5B,eAAe,GAAGlB,oDAAa,CAAC,CAC5C,IAAI,CAACuD,OAAO,EACZ,IAAI,CAACS,gBAAgB,CACxB,CAAC,CAAC9M,IAAI,CACHxT,oDAAG,CAAC,CAAC,CAAC6N,MAAM,EAAE6M,MAAM,CAAC,KAAI;MACrB,MAAMjT,CAAC,GAAGoG,MAAM,CAACgT,WAAW,EAAE;MAC9B,OAAOnG,MAAM,CAAChb,MAAM,CACfoY,CAAC,IACEA,CAAC,CAAC4C,MAAM,EAAEvZ,MAAM,KACf2W,CAAC,CAAC3a,IAAI,CAAC0jB,WAAW,EAAE,CAAC7b,QAAQ,CAACyC,CAAC,CAAC,IAC7BqQ,CAAC,CAACrR,WAAW,CAACoa,WAAW,EAAE,CAAC7b,QAAQ,CAACyC,CAAC,CAAC,CAAC,CACnD;IACL,CAAC,CAAC,EACF2X,2DAAW,CAAC,CAAC,CAAC,CACjB;EAE+C;EAEzC0B,SAASA,CAAClT,KAAa;IAC1B,IAAI,CAACiS,OAAO,CAAChL,IAAI,CAAC,GAAGjH,KAAK,EAAE,CAAC;EACjC;EAEOoM,UAAUA,CAAC+G,OAA8B;IAC5C,IAAI,CAACnB,QAAQ,CAAC/K,IAAI,CAAC;MAAE,GAAG,IAAI,CAAC+K,QAAQ,CAAChS,KAAK;MAAE,GAAGmT;IAAO,CAAE,CAAC;EAC9D;;AAxFS5I,iBAAiB;mBAAjBA,iBAAiB,EAAA3gB,uDAAA,CAAAzC,sEAAA;AAAA;AAAjBojB,iBAAiB;SAAjBA,iBAAiB;EAAA8I,OAAA,EAAjB9I,iBAAiB,CAAA+I,IAAA;EAAAC,UAAA,EAFd;AAAM;;;;;;;;;;;;;;;;;;AChChB,MAAOC,aAAa;EAQtB9jB,YAAY0Y,IAA6B;IAPzC,KAAA3W,EAAE,GAAW,EAAE;IACf,KAAAlC,IAAI,GAAW,EAAE;IACjB,KAAAsJ,WAAW,GAAW,EAAE;IACxB,KAAA4a,kBAAkB,GAAY,EAAE;IAChC,KAAAC,UAAU,GAAWlO,IAAI,CAAChV,GAAG,EAAE;IAC/B,KAAAmjB,UAAU,GAAWnO,IAAI,CAAChV,GAAG,EAAE;IAG3BsJ,MAAM,CAAC8Z,MAAM,CAAC,IAAI,EAAExL,IAAI,CAAC;EAC7B;;AAGE,MAAOyL,kBAAkB;EAW3BnkB,YAAY0Y,IAAkC;IAC1CtO,MAAM,CAAC8Z,MAAM,CAAC,IAAI,EAAExL,IAAI,CAAC;EAC7B;;AAGE,MAAOkB,UAAU;EAgBnB5Z,YAAY0Y,IAA0B;IAPtC,KAAAqC,MAAM,GAAa,EAAE;IAQjB3Q,MAAM,CAAC8Z,MAAM,CAAC,IAAI,EAAExL,IAAI,CAAC;EAC7B;;AAGE,MAAO0L,KAAK;EAWdpkB,YAAY0Y,IAAqB;IAVjC,KAAA3W,EAAE,GAAW,EAAE;IACf,KAAAsiB,OAAO,GAAW,EAAE;IACpB,KAAAlb,WAAW,GAAW,EAAE;IACxB,KAAAmb,aAAa,GAAW,EAAE;IAC1B,KAAAC,UAAU,GAAW,EAAE;IACvB,KAAAC,UAAU,GAAwB,EAAE;IACpC,KAAAC,iBAAiB,GAAW,EAAE;IAC9B,KAAAT,UAAU,GAAWlO,IAAI,CAAChV,GAAG,EAAE;IAC/B,KAAAmjB,UAAU,GAAWnO,IAAI,CAAChV,GAAG,EAAE;IAG3BsJ,MAAM,CAAC8Z,MAAM,CAAC,IAAI,EAAExL,IAAI,CAAC;EAC7B;;;;;;;;;;;;;;;;;;;;;;;AC/DgE;AAM7C;AAEmB;AAEpC,SAAUiM,yBAAyBA,CAAClF,QAAA,GAA0B,EAAS;EACzE,OAAO,IAAIzlB,qDAAS,CAAC;IACjB+H,EAAE,EAAE,IAAIiR,uDAAW,CAACyM,QAAQ,CAAC1d,EAAE,CAAC;IAChClC,IAAI,EAAE,IAAImT,uDAAW,CAACyM,QAAQ,CAAC5f,IAAI,IAAI,EAAE,EAAE,CAACoT,+DAAmB,CAAC,CAAC;IACjE8Q,kBAAkB,EAAE,IAAI/Q,uDAAW,CAACyM,QAAQ,CAACsE,kBAAkB;GAClE,CAAC;AACN;AAEM,SAAUa,8BAA8BA,CAC1CC,KAAA,GAA4B,EAAS;EAErC,OAAO,IAAI7qB,qDAAS,CAAC;IACjB+H,EAAE,EAAE,IAAIiR,uDAAW,CAAC6R,KAAK,CAAC9iB,EAAE,CAAC;IAC7B+iB,YAAY,EAAE,IAAI9R,uDAAW,CACzB6R,KAAK,CAACC,YAAY,IAAKD,KAAa,CAACE,qBAAqB,IAAI,EAAE,EAChE,CAAC9R,+DAAmB,CAAC,CACxB;IACD+R,cAAc,EAAE,IAAIhS,uDAAW,CAAC6R,KAAK,CAACG,cAAc,IAAI,EAAE,CAAC;IAC3DC,UAAU,EAAE,IAAIjS,uDAAW,CAAC6R,KAAK,CAACI,UAAU,IAAI,CAAC,CAAC;IAClDC,aAAa,EAAE,IAAIlS,uDAAW,CAAC6R,KAAK,CAACK,aAAa,GAAG,IAAI,IAAI,IAAI,CAAC;IAClEC,2BAA2B,EAAE,IAAInS,uDAAW,CACxC6R,KAAK,CAACM,2BAA2B,GAAG,IAAI,IACnCN,KAAa,CAACO,uBAAuB,IACtC,IAAI,CACX;IACDC,yBAAyB,EAAE,IAAIrS,uDAAW,CACtC6R,KAAK,CAACQ,yBAAyB,GAAG,IAAI,IACjCR,KAAa,CAACS,qBAAqB,IACpC,IAAI;GAEf,CAAC;AACN;AAEM,SAAUC,sBAAsBA,CAAChL,KAAA,GAAoB,IAAIX,oDAAU,EAAE;EACvE,OAAO,IAAI5f,qDAAS,CAAC;IACjB+H,EAAE,EAAE,IAAIiR,uDAAW,CAACuH,KAAK,CAACxY,EAAE,CAAC;IAC7ByjB,WAAW,EAAE,IAAIxS,uDAAW,CAACuH,KAAK,CAACiL,WAAW,IAAI,EAAE,EAAE,CAClDvS,+DAAmB,CACtB,CAAC;IACF8H,MAAM,EAAE,IAAI/H,uDAAW,CAACuH,KAAK,CAACQ,MAAM,IAAI,EAAE,CAAC;IAC3C0K,KAAK,EAAE,IAAIzS,uDAAW,CAACuH,KAAK,CAACkL,KAAK,IAAI,EAAE,CAAC;IACzC5lB,IAAI,EAAE,IAAImT,uDAAW,CAACuH,KAAK,CAAC1a,IAAI,IAAI,EAAE,EAAE,CAACoT,+DAAmB,CAAC,CAAC;IAC9D9J,WAAW,EAAE,IAAI6J,uDAAW,CAACuH,KAAK,CAACpR,WAAW,IAAI,EAAE;GACvD,CAAC;AACN;AAEM,SAAUuc,iBAAiBA,CAAC5I,KAAA,GAAe,IAAIsH,+CAAK,EAAE;EACxD,OAAO,IAAIpqB,qDAAS,CAAC;IACjB+H,EAAE,EAAE,IAAIiR,uDAAW,CAAC8J,KAAK,CAAC/a,EAAE,CAAC;IAC7BsiB,OAAO,EAAE,IAAIrR,uDAAW,CAAC8J,KAAK,CAACuH,OAAO,IAAI,EAAE,EAAE,CAACpR,+DAAmB,CAAC,CAAC;IACpE9J,WAAW,EAAE,IAAI6J,uDAAW,CAAC8J,KAAK,CAAC3T,WAAW,IAAI,EAAE,CAAC;IACrDmb,aAAa,EAAE,IAAItR,uDAAW,CAAC8J,KAAK,CAACwH,aAAa,IAAI,EAAE,CAAC;IACzDC,UAAU,EAAE,IAAIvR,uDAAW,CAAC8J,KAAK,CAACyH,UAAU,IAAI,EAAE,CAAC;IACnDC,UAAU,EAAE,IAAIxR,uDAAW,CAAC8J,KAAK,CAAC0H,UAAU,IAAI,EAAE,CAAC;IACnDC,iBAAiB,EAAE,IAAIzR,uDAAW,CAAC8J,KAAK,CAAC2H,iBAAiB;GAC7D,CAAC;AACN;AAEM,SAAUkB,cAAcA,CAACvI,MAAe;EAC1C,MAAM3b,MAAM,GAAiB,EAAE;EAC/B,KAAK,MAAMqb,KAAK,IAAIM,MAAM,EAAE;IACxB,MAAM7C,KAAK,GAAG9Y,MAAM,CAACqB,IAAI,CAAE0X,CAAC,IAAKA,CAAC,CAACzY,EAAE,KAAM+a,KAAa,CAAC8I,aAAa,CAAC;IACvE,IAAIrL,KAAK,EAAE;MACPA,KAAK,CAAC6C,MAAM,CAACtb,IAAI,CAACgb,KAAK,CAAC;KAC3B,MAAM;MACHrb,MAAM,CAACK,IAAI,CAAC;QACRC,EAAE,EAAG+a,KAAa,CAAC8I,aAAa;QAChC/lB,IAAI,EAAGid,KAAa,CAACjd,IAAI;QACzBud,MAAM,EAAE,CAACN,KAAK;OACH,CAAC;;;EAGxB,KAAK,MAAMvC,KAAK,IAAI9Y,MAAM,EAAE;IACxB8Y,KAAK,CAACqB,MAAM,GAAGrB,KAAK,CAAC6C,MAAM,CAACvZ,MAAM;;EAEtC,OAAOpC,MAAM;AACjB;AAEM,SAAUokB,cAAcA,CAACpkB,MAAoB;EAC/C,OAAOijB,wDAAO,CACVjjB,MAAM,CAACiB,GAAG,CAAE8X,CAAC,IACTA,CAAC,CAAC4C,MAAM,CACHC,KAAK,CAAC,CAAC,EAAG7C,CAAS,CAACoB,MAAM,CAAC,CAC3BlZ,GAAG,CAAEoa,KAAK,KAAM;IAAE,GAAGA,KAAK;IAAEjd,IAAI,EAAE2a,CAAC,CAAC3a;EAAI,CAAE,CAAC,CAAC,CACpD,CACJ;AACL;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChGsE;AACd;AACP;AAOR;AACoB;AAMlB;AACmB;AACpB;AAG1C,MAAMymB,aAAa,GAAG,gBAAgB;AAEtC;AACA;AACA;AAEM,SAAUC,oBAAoBA,CAACC,KAAA,GAAa,EAAE;EAChD,MAAMC,CAAC,GAAGP,sEAAa,CAACM,KAAK,CAAC;EAC9B,OAAOne,uDAAG,CAAC,GAAGie,aAAa,oBAAoBG,CAAC,GAAG,GAAG,GAAGA,CAAC,GAAG,EAAE,EAAE,CAAC,CAACvQ,IAAI,CACnExT,mDAAG,CAAE8X,CAAC,IAAKA,CAAoB,CAAC,CACnC;AACL;AAEM,SAAUkM,gBAAgBA,CAACjH,QAAuB;EACpD,OAAOuG,wDAAI,CACP,GAAGM,aAAa,mBAAmB,EACnCR,+DAAW,CAACrG,QAAQ,EAAE,CAACkH,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC,CAC/C,CAACzQ,IAAI,CAACxT,mDAAG,CAAE8X,CAAC,IAAKA,CAAkB,CAAC,CAAC;AAC1C;AAEM,SAAUoM,mBAAmBA,CAC/B7kB,EAAU,EACV0d,QAAgC;EAEhC,OAAOwG,uDAAG,CACN,GAAGK,aAAa,qBAAqBvkB,EAAE,EAAE,EACzC+jB,+DAAW,CAACrG,QAAQ,EAAE,CAACkH,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC,CAC/C,CAACzQ,IAAI,CAACxT,mDAAG,CAAE8X,CAAC,IAAKA,CAAkB,CAAC,CAAC;AAC1C;AAEM,SAAUqM,iBAAiBA,CAACpH,QAAuB;EACrD,OAAOA,QAAQ,CAAC1d,EAAE,GACZ6kB,mBAAmB,CAACnH,QAAQ,CAAC1d,EAAE,EAAE0d,QAAQ,CAAC,GAC1CiH,gBAAgB,CAACjH,QAAQ,CAAC;AACpC;AAEM,SAAUqH,iBAAiBA,CAAC/kB,EAAU;EACxC,OAAOsG,uDAAG,CAAC,GAAGie,aAAa,qBAAqBvkB,EAAE,EAAE,CAAC,CAACmU,IAAI,CACtDxT,mDAAG,CAAE8X,CAAC,IAAKA,CAAkB,CAAC,CACjC;AACL;AAEM,SAAUuM,mBAAmBA,CAAChlB,EAAU;EAC1C,OAAOgkB,uDAAG,CAAC,GAAGO,aAAa,qBAAqBvkB,EAAE,EAAE,CAAC;AACzD;AAEA;AACA;AACA;AAEM,SAAUilB,gBAAgBA,CAACR,KAAA,GAAa,EAAE;EAC5C,MAAMC,CAAC,GAAGP,sEAAa,CAACM,KAAK,CAAC;EAC9B,OAAOne,uDAAG,CAAC,GAAGie,aAAa,eAAeG,CAAC,GAAG,GAAG,GAAGA,CAAC,GAAG,EAAE,EAAE,CAAC,CAACvQ,IAAI,CAC9DxT,mDAAG,CAAE8X,CAAC,IAAKA,CAAiB,CAAC,CAChC;AACL;AAEM,SAAUyM,aAAaA,CAACC,OAAmB;EAC7C,OAAOlB,wDAAI,CACP,GAAGM,aAAa,cAAc,EAC9BR,+DAAW,CAACoB,OAAO,EAAE,CAACP,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC,CAC9C,CAACzQ,IAAI,CAACxT,mDAAG,CAAE8X,CAAC,IAAKA,CAAe,CAAC,CAAC;AACvC;AAEM,SAAU2M,gBAAgBA,CAACplB,EAAU,EAAEmlB,OAA4B;EACrE,OAAOjB,uDAAG,CACN,GAAGK,aAAa,gBAAgBvkB,EAAE,EAAE,EACpC+jB,+DAAW,CAACoB,OAAO,EAAE,CAACP,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC,CAC9C,CAACzQ,IAAI,CAACxT,mDAAG,CAAE8X,CAAC,IAAKA,CAAe,CAAC,CAAC;AACvC;AAEM,SAAU4M,cAAcA,CAACF,OAAmB;EAC9C,OAAOA,OAAO,CAACnlB,EAAE,GACXolB,gBAAgB,CAACD,OAAO,CAACnlB,EAAE,EAAEmlB,OAAO,CAAC,GACrCD,aAAa,CAACC,OAAO,CAAC;AAChC;AAEM,SAAUrN,cAAcA,CAAC9X,EAAU;EACrC,OAAOsG,uDAAG,CAAC,GAAGie,aAAa,gBAAgBvkB,EAAE,EAAE,CAAC,CAACmU,IAAI,CACjDxT,mDAAG,CAAE8X,CAAC,IAAKA,CAAe,CAAC,CAC9B;AACL;AAEM,SAAU6M,gBAAgBA,CAACtlB,EAAU;EACvC,OAAOgkB,uDAAG,CAAC,GAAGO,aAAa,gBAAgBvkB,EAAE,EAAE,CAAC;AACpD;AAEA;AACA;AACA;AAEM,SAAUigB,WAAWA,CAACwE,KAAA,GAAa,EAAE;EACvC,MAAMC,CAAC,GAAGP,sEAAa,CAACM,KAAK,CAAC;EAC9B,OAAOne,uDAAG,CAAC,GAAGie,aAAa,UAAUG,CAAC,GAAG,GAAG,GAAGA,CAAC,GAAG,EAAE,EAAE,CAAC,CAACvQ,IAAI,CACzDxT,mDAAG,CAAE8X,CAAC,IAAKA,CAAY,CAAC,CAC3B;AACL;AAEM,SAAU8M,QAAQA,CAACxK,KAAY;EACjC,OAAOkJ,wDAAI,CACP,GAAGM,aAAa,SAAS,EACzBR,+DAAW,CAAChJ,KAAK,EAAE,CAAC6J,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC,CAC5C,CAACzQ,IAAI,CAACxT,mDAAG,CAAE8X,CAAC,IAAKA,CAAU,CAAC,CAAC;AAClC;AAEM,SAAU+M,WAAWA,CAACxlB,EAAU,EAAE+a,KAAqB;EACzD,OAAOmJ,uDAAG,CACN,GAAGK,aAAa,WAAWvkB,EAAE,EAAE,EAC/B+jB,+DAAW,CAAChJ,KAAK,EAAE,CAAC6J,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC,CAC5C,CAACzQ,IAAI,CAACxT,mDAAG,CAAE8X,CAAC,IAAKA,CAAU,CAAC,CAAC;AAClC;AAEM,SAAUgN,SAASA,CAAC1K,KAAY;EAClC,OAAOA,KAAK,CAAC/a,EAAE,GACTwlB,WAAW,CAACzK,KAAK,CAAC/a,EAAE,EAAE;IAClB,GAAG+a,KAAK;IACR8I,aAAa,EAAE9I,KAAK,CAACuH;GACjB,CAAC,GACTiD,QAAQ,CAAC;IAAE,GAAGxK,KAAK;IAAE8I,aAAa,EAAE9I,KAAK,CAACuH;EAAO,CAAS,CAAC;AACrE;AAEM,SAAUoD,SAASA,CAAC1lB,EAAU;EAChC,OAAOsG,uDAAG,CAAC,GAAGie,aAAa,WAAWvkB,EAAE,EAAE,CAAC,CAACmU,IAAI,CAACxT,mDAAG,CAAE8X,CAAC,IAAKA,CAAU,CAAC,CAAC;AAC5E;AAEM,SAAUkN,WAAWA,CAAC3lB,EAAU;EAClC,OAAOgkB,uDAAG,CAAC,GAAGO,aAAa,WAAWvkB,EAAE,EAAE,CAAC;AAC/C;AAEA;AACA;AACA;AAEM,SAAU4lB,eAAeA,CAACvK,MAAe;EAC3CA,MAAM,CAAC1a,GAAG,CAAE8X,CAAM,IAAMA,CAAC,CAACoL,aAAa,GAAGpL,CAAC,CAAC6J,OAAQ,CAAC;EACrD,OAAO2B,wDAAI,CACP,GAAGM,aAAa,cAAc,EAC9BlJ,MAAM,CAAC1a,GAAG,CAAE8X,CAAC,IAAKsL,+DAAW,CAACtL,CAAC,EAAE,CAACmM,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC,CAAC,CAC3D,CAACzQ,IAAI,CAACxT,mDAAG,CAAE8X,CAAC,IAAKA,CAAY,CAAC,CAAC;AACpC;AAEM,SAAUoN,kBAAkBA,CAACxK,MAAwB;EACvDA,MAAM,CAAC1a,GAAG,CAAE8X,CAAM,IAAMA,CAAC,CAACoL,aAAa,GAAGpL,CAAC,CAAC6J,OAAQ,CAAC;EACrD,OAAO4B,uDAAG,CACN,GAAGK,aAAa,cAAc,EAC9BlJ,MAAM,CAAC1a,GAAG,CAAE8X,CAAC,IAAKsL,+DAAW,CAACtL,CAAC,EAAE,CAACmM,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC,CAAC,CAC3D,CAACzQ,IAAI,CAACxT,mDAAG,CAAE8X,CAAC,IAAKA,CAAY,CAAC,CAAC;AACpC;AAEM,SAAUqN,gBAAgBA,CAACzK,MAAe;EAC5C,IAAI,CAACA,MAAM,EAAEvZ,MAAM,EAAE,OAAO+d,wCAAE,CAAC,EAAE,CAAC;EAClC,OAAOxE,MAAM,CAAC0K,KAAK,CAAExP,IAAI,IAAKA,IAAI,EAAEvW,EAAE,CAAC,GACjC6lB,kBAAkB,CAACxK,MAAM,CAAC,GAC1BuK,eAAe,CAACvK,MAAM,CAAC;AACjC;AAEM,SAAU2K,kBAAkBA,CAACC,OAAiB;EAChD,OAAOjC,uDAAG,CAAC,GAAGO,aAAa,cAAc,EAAE;IAAE2B,IAAI,EAAE;MAAED;IAAO;EAAE,CAAE,CAAC;AACrE;AAEA;AACA;AACA;AAEM,SAAUE,wBAAwBA,CAAC1B,KAAA,GAAa,EAAE;EACpD,MAAMC,CAAC,GAAGP,sEAAa,CAACM,KAAK,CAAC;EAC9B,OAAOne,uDAAG,CACN,GAAGie,aAAa,yBAAyBG,CAAC,GAAG,GAAG,GAAGA,CAAC,GAAG,EAAE,EAAE,CAC9D,CAACvQ,IAAI,CAACxT,mDAAG,CAAE8X,CAAC,IAAKA,CAAyB,CAAC,CAAC;AACjD;AAEM,SAAU2N,qBAAqBA,CAACtD,KAAyB;EAC3D,OAAOmB,wDAAI,CACP,GAAGM,aAAa,wBAAwB,EACxCR,+DAAW,CAACjB,KAAK,EAAE,CAAC8B,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC,CAC5C,CAACzQ,IAAI,CAACxT,mDAAG,CAAE8X,CAAC,IAAKA,CAAuB,CAAC,CAAC;AAC/C;AAEM,SAAU4N,wBAAwBA,CACpCrmB,EAAU,EACV8iB,KAAkC;EAElC,OAAOoB,uDAAG,CACN,GAAGK,aAAa,0BAA0BvkB,EAAE,EAAE,EAC9C+jB,+DAAW,CAACjB,KAAK,EAAE,CAAC8B,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC,CAC5C,CAACzQ,IAAI,CAACxT,mDAAG,CAAE8X,CAAC,IAAKA,CAAuB,CAAC,CAAC;AAC/C;AAEM,SAAU6N,sBAAsBA,CAACxD,KAAyB;EAC5D,OAAOA,KAAK,CAAC9iB,EAAE,GACTqmB,wBAAwB,CAACvD,KAAK,CAAC9iB,EAAE,EAAE;IAC/B,GAAG8iB,KAAK;IACRE,qBAAqB,EAAEF,KAAK,CAACC;GACzB,CAAC,GACTqD,qBAAqB,CAAC;IAClB,GAAGtD,KAAK;IACRE,qBAAqB,EAAEF,KAAK,CAACC;GACzB,CAAC;AACnB;AAEM,SAAUwD,sBAAsBA,CAACvmB,EAAU;EAC7C,OAAOsG,uDAAG,CAAC,GAAGie,aAAa,0BAA0BvkB,EAAE,EAAE,CAAC,CAACmU,IAAI,CAC3DxT,mDAAG,CAAE8X,CAAC,IAAKA,CAAuB,CAAC,CACtC;AACL;AAEM,SAAU+N,wBAAwBA,CAACxmB,EAAU;EAC/C,OAAOgkB,uDAAG,CAAC,GAAGO,aAAa,0BAA0BvkB,EAAE,EAAE,CAAC;AAC9D;AAEA;AACA;AACA;AAEM,SAAUymB,mBAAmBA,CAAChC,KAAA,GAAa,EAAE;EAC/C,OAAOxH,mDAAa,CAAC,CAACgI,gBAAgB,CAACR,KAAK,CAAC,EAAExE,WAAW,CAACwE,KAAK,CAAC,CAAC,CAAC,CAACtQ,IAAI,CACpExT,mDAAG,CAAC,CAAC,CAAC+lB,QAAQ,EAAErL,MAAM,CAAC,KAAI;IACvB,KAAK,MAAM8J,OAAO,IAAIuB,QAAQ,EAAE;MAC5BvB,OAAO,CAAC9J,MAAM,GAAGA,MAAM,CAAChb,MAAM,CACzB0a,KAAK,IAAMA,KAAa,CAAC8I,aAAa,KAAKsB,OAAO,CAACnlB,EAAE,CACzD;;IAEL,OAAO0mB,QAAQ;EACnB,CAAC,CAAC,CACL;AACL;AAEM,SAAUC,aAAaA,CAAC3mB,EAAU,EAAEykB,KAAA,GAAa,EAAE;EACrD,OAAOxH,mDAAa,CAAC,CACjBnF,cAAc,CAAC9X,EAAE,CAAC,EAClBwkB,oBAAoB,EAAE,EACtBvE,WAAW,CAAC;IAAE,GAAGwE,KAAK;IAAEnC,OAAO,EAAEtiB;EAAE,CAAE,CAAC,EACtCmmB,wBAAwB,EAAE,CAC7B,CAAC,CAAChS,IAAI,CACHxT,mDAAG,CAAC,CAAC,CAACwkB,OAAO,EAAEyB,UAAU,EAAEvL,MAAM,EAAEwL,eAAe,CAAC,KAAI;IACnD1B,OAAO,CAACzH,QAAQ,GAAGkJ,UAAU,CAAC7lB,IAAI,CAC7B2c,QAAQ,IAAKA,QAAQ,CAAC1d,EAAE,KAAKmlB,OAAO,CAAC1B,WAAW,CACpD;IACD0B,OAAO,CAAC9J,MAAM,GAAGA,MAAM,CAAChb,MAAM,CACzB0a,KAAK,IACFA,KAAK,CAACuH,OAAO,KAAK6C,OAAO,CAACnlB,EAAE,IAC3B+a,KAAa,CAAC8I,aAAa,KAAKsB,OAAO,CAACnlB,EAAE,CAClD;IACD,KAAK,MAAM+a,KAAK,IAAIoK,OAAO,CAAC9J,MAAM,EAAE;MAC/BN,KAAa,CAACgI,YAAY,GAAI8D,eAAuB,CAAC9lB,IAAI,CACtD0X,CAAC,IAAKA,CAAC,CAACzY,EAAE,KAAK+a,KAAK,CAAC2H,iBAAiB,CAC1C,EAAEM,qBAAqB;;IAE5BmC,OAAO,CAAC0B,eAAe,GAAGA,eAAe,CAACxmB,MAAM,CAAEyiB,KAAK,IACnDqC,OAAO,CAAC9J,MAAM,CAACta,IAAI,CACdga,KAAK,IAAKA,KAAK,CAAC2H,iBAAiB,KAAKI,KAAK,CAAC9iB,EAAE,CAClD,CACJ;IACD,OAAOmlB,OAAO;EAClB,CAAC,CAAC,CACL;AACL;AAEM,SAAU2B,oBAAoBA,CAChCrC,KAA0B,EAC1BvD,MAAiB;EAEjBuD,KAAK,CAAC1d,IAAI,GAAG,eAAe;EAC5B,OAAOkW,mDAAa,CAAC,CAACgD,WAAW,CAACwE,KAAK,CAAC,EAAEtE,gFAAa,CAACsE,KAAK,CAAC,CAAC,CAAC,CAACtQ,IAAI,CACjExT,mDAAG,CAAC,CAAC,CAAC0a,MAAM,EAAE0L,QAAQ,CAAC,KACnB1L,MAAM,CAAChb,MAAM,CACR0a,KAAK,IACFmG,MAAM,EAAEvb,QAAQ,CAACoV,KAAK,CAAC/a,EAAE,CAAC,IAC1B,CAAC+mB,QAAQ,CAAChmB,IAAI,CAAEimB,OAAO,IAAKA,OAAO,CAAC5I,QAAQ,KAAKrD,KAAK,CAAC/a,EAAE,CAAC,CACjE,CACJ,CACJ;AACL;AAEM,SAAUkgB,sBAAsBA,CAClCuE,KAA0B,EAC1BvD,MAAiB;EAEjB,OAAOjE,mDAAa,CAAC,CACjBgI,gBAAgB,EAAE,EAClB6B,oBAAoB,CAACrC,KAAK,EAAEvD,MAAM,CAAC,CACtC,CAAC,CAAC/M,IAAI,CACHxT,mDAAG,CAAC,CAAC,CAAC+lB,QAAQ,EAAErL,MAAM,CAAC,KAAI;IACvB,KAAK,MAAM8J,OAAO,IAAIuB,QAAQ,EAAE;MAC5BvB,OAAO,CAAC9J,MAAM,GAAGA,MAAM,CAAChb,MAAM,CACzB0a,KAAK,IACFA,KAAK,CAACuH,OAAO,KAAK6C,OAAO,CAACnlB,EAAE,IAC3B+a,KAAa,CAAC8I,aAAa,KAAKsB,OAAO,CAACnlB,EAAE,CAClD;;IAEL,OAAO0mB,QAAQ;EACnB,CAAC,CAAC,CACL;AACL;AAEO,SAAeO,mBAAmBA,CAAA9R,EAAA;EAAA,OAAA+R,oBAAA,CAAA9R,KAAA,OAAAC,SAAA;AAAA;AAWxC,SAAA6R,qBAAA;EAAAA,oBAAA,GAAA3S,wJAAA,CAXM,WAAmCvU,EAAU;IAChD,MAAMmnB,QAAQ,SAAShH,gFAAa,CAAC;MACjC3L,YAAY,EAAElB,oDAAW,CAACC,qDAAU,CAAC,IAAIQ,IAAI,EAAE,CAAC,CAAC;MACjDU,UAAU,EAAEnB,oDAAW,CAACD,qDAAQ,CAAC,IAAIU,IAAI,EAAE,CAAC,CAAC;MAC7ChN,IAAI,EAAE;KACT,CAAC,CAACiO,SAAS,EAAE;IACd,OAAOL,OAAO,CAACC,GAAG,CACduS,QAAQ,CACH9mB,MAAM,CAAEoY,CAAC,IAAKA,CAAC,CAAC2F,QAAQ,KAAKpe,EAAE,CAAC,CAChCW,GAAG,CAAEymB,OAAO,IAAK/C,gFAAa,CAAC+C,OAAO,CAACpnB,EAAE,CAAC,CAACgV,SAAS,EAAE,CAAC,CAC/D;EACL,CAAC;EAAA,OAAAkS,oBAAA,CAAA9R,KAAA,OAAAC,SAAA;AAAA;AAEM,SAAegS,8BAA8BA,CAAAC,GAAA,EAAAC,GAAA,EAAAC,GAAA,EAAAC,GAAA;EAAA,OAAAC,+BAAA,CAAAtS,KAAA,OAAAC,SAAA;AAAA;AAkEnD,SAAAqS,gCAAA;EAAAA,+BAAA,GAAAnT,wJAAA,CAlEM,WACH;IAAEvU,EAAE;IAAE2nB;EAAQ,CAA0B,EACxC;IACIzpB,IAAI;IACJjB,QAAQ;IACR2qB,IAAI;IACJC,aAAa;IACbC,WAAW;IACX9G;EAAK,CAQR,EACD+G,UAAwB,EACxBC,UAAmB;IAEnB,MAAM3M,MAAM,GAAYsH,wDAAO,CAC3BoF,UAAU,CAACpnB,GAAG,CAAE8X,CAAC,IACbA,CAAC,CAAC4C,MAAM,CACHC,KAAK,CAAC,CAAC,EAAG7C,CAAS,CAACoB,MAAM,CAAC,CAC3BlZ,GAAG,CAAEoa,KAAK,KAAM;MAAE,GAAGA,KAAK;MAAEjd,IAAI,EAAE2a,CAAC,CAAC3a;IAAI,CAAE,CAAC,CAAC,CACpD,CACJ;IACD,MAAMipB,QAAQ,SAAS5G,gFAAa,CAAC;MACjC3L,YAAY,EAAElB,oDAAW,CAACC,qDAAU,CAACrV,IAAI,CAAC,CAAC;MAC3CuW,UAAU,EAAEnB,oDAAW,CAACD,qDAAQ,CAACnV,IAAI,CAAC,CAAC;MACvC6I,IAAI,EAAE,eAAe;MACrB+N,KAAK,EAAE8S,IAAI;MACXK,QAAQ,EAAEjoB,EAAE;MACZ2nB;KACH,CAAC,CAAC3S,SAAS,EAAE;IACd,MAAMkT,QAAQ,GAAGnB,QAAQ,CAAC1mB,MAAM,CAC3BkW,IAAI,IACDA,IAAI,CAAC4R,cAAc,CAACC,SAAS,KAAKpoB,EAAE,IACpC,CAACqb,MAAM,CAACta,IAAI,CAAE0X,CAAC,IAAKA,CAAC,CAACzY,EAAE,KAAKuW,IAAI,CAAC6H,QAAQ,CAAC,CAClD;IACD,MAAMzJ,OAAO,CAACC,GAAG,CACbsT,QAAQ,CAACvnB,GAAG,CAAE4V,IAAI,IAAK8N,gFAAa,CAAC9N,IAAI,CAACvW,EAAE,CAAC,CAACgV,SAAS,EAAE,CAAC,CAC7D;IACD,MAAML,OAAO,CAACC,GAAG,CACbyG,MAAM,CACDhb,MAAM,CAAC,CAAC;MAAEL;IAAE,CAAE,KAAK,CAACgoB,UAAU,EAAEjnB,IAAI,CAAE0X,CAAC,IAAKA,CAAC,CAACzY,EAAE,KAAKA,EAAE,CAAC,CAAC,CACzDW,GAAG,CAAE4V,IAAI,IACN6N,gFAAa,CACT,IAAIE,wEAAO,CAAC;MACRvd,IAAI,EAAE,eAAe;MACrBshB,YAAY,EAAE,eAAe;MAC7BnqB,IAAI;MACJjB,QAAQ;MACRmK,WAAW,EAAEygB,aAAa;MAC1BS,UAAU,EAAEV,IAAI;MAChBxJ,QAAQ,EAAE7H,IAAI,CAACvW,EAAE;MACjBuoB,UAAU,EAAGhS,IAAY,CAACzY,IAAI;MAC9BmQ,KAAK,EAAGsI,IAAY,CAACzY,IAAI;MACzBqqB,cAAc,EAAE;QAAEC,SAAS,EAAEpoB,EAAE;QAAE8nB;MAAW,CAAE;MAC9C9G,KAAK,EAAEA,KAAK,IAAI;KACnB,CAAC,EACF;MAAE2G,QAAQ;MAAEM,QAAQ,EAAEjoB;IAAE,CAAE,CAC7B,CAACgV,SAAS,EAAE,CAChB,CACR;IACD,OAAOqG,MAAM;EACjB,CAAC;EAAA,OAAAqM,+BAAA,CAAAtS,KAAA,OAAAC,SAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1Y8C;AACQ;AACC;AACU;AAE4B;AACT;AACA;AACe;AACrB;AAC3B;AACmB;;AAEL;AAElE,MAAM9J,UAAU,GAAG,CAACsN,uGAAyB,EAAEoB,gFAAuB,CAAC;AAEvE,MAAMuO,iBAAiB,GAAG,CACtB/L,8FAAqB,EACrBM,8FAAqB,EACrBF,6GAA4B,EAC5BiB,wFAAkB,EAClB1F,6DAAc,CACjB;AAED,MAWalO,YAAY;AAAZA,YAAY;mBAAZA,YAAY;AAAA;AAAZA,YAAY;QAAZA;AAAY;AAAZA,YAAY;YARjBV,0DAAY,EACZM,kEAAgB,EAChB/T,wDAAW,EACX2T,gEAAmB,EACnBG,iEAAgB;AAAA;AAIC;;sHAAZK,YAAY;IAAAnS,YAAA,GArBL8gB,uGAAyB,EAAEoB,gFAAuB,EAGlEwC,8FAAqB,EACrBM,8FAAqB,EACrBF,6GAA4B,EAC5BiB,wFAAkB,EAClB1F,6DAAc;IAAA3iB,OAAA,GAMV+T,0DAAY,EACZM,kEAAgB,EAChB/T,wDAAW,EACX2T,gEAAmB,EACnBG,iEAAgB;IAAAlU,OAAA,GAjBJkjB,uGAAyB,EAAEoB,gFAAuB;EAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChBhC;AACK;AACP;AACI;AACN;AACI;AACH;AACG;AACgB;AACT;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACT0B;AAClB;AACJ;AACH;AAC2B;AAE/B;AACuC;AACV;AACc;;;;;;;;;IAMzE9hB,4DAAA,cAA2B;IAAAA,oDAAA,GAAW;IAAAA,0DAAA,EAAO;;;;IAAlBA,uDAAA,GAAW;IAAXA,gEAAA,KAAA4E,MAAA,CAAA6rB,GAAA,OAAW;;;;;IAD1CzwB,4DAAA,YAAmD;IAC/CA,wDAAA,IAAA0wB,yCAAA,kBAA6C;IAC7C1wB,oDAAA,GACA;;IAAAA,4DAAA,cAA2B;IAAAA,oDAAA,GAAiC;;IAAAA,0DAAA,EAAO;;;;IAF5DA,uDAAA,GAAc;IAAdA,wDAAA,SAAAU,MAAA,CAAAiwB,QAAA,CAAc;IACrB3wB,uDAAA,GACA;IADAA,gEAAA,MAAAA,yDAAA,OAAAU,MAAA,CAAAmuB,OAAA,kBAAAnuB,MAAA,CAAAmuB,OAAA,CAAA9oB,IAAA,iBACA;IAA2B/F,uDAAA,GAAiC;IAAjCA,gEAAA,MAAAA,yDAAA,OAAAU,MAAA,CAAAmuB,OAAA,kBAAAnuB,MAAA,CAAAmuB,OAAA,CAAA9oB,IAAA,YAAiC;;;;;IA+DhD/F,4DAAA,eAAkD;IAAAA,oDAAA,GAEhD;IAAAA,0DAAA,EAAW;;;;IAFqCA,uDAAA,GAEhD;IAFgDA,+DAAA,CAAAqM,MAAA,CAAAuC,IAAA,CAEhD;;;;;IAKN5O,4DAAA,cAAqD;IACvCA,oDAAA,YAAK;IAAAA,0DAAA,EAAW;IAC1BA,4DAAA,cAA2B;IAAAA,oDAAA,GAAc;IAAAA,0DAAA,EAAM;;;;IAApBA,uDAAA,GAAc;IAAdA,+DAAA,CAAAmU,MAAA,CAAA0c,QAAA,CAAc;;;;;IAQjD7wB,4DAAA,cAGC;IACGA,oDAAA,kBACJ;IAAAA,0DAAA,EAAM;;;;;;;;;;;;;;IAnFdA,4DAAA,WAOC;IAFGA,wDAAA,mBAAA8wB,qDAAA;MAAA9wB,2DAAA,CAAA+wB,GAAA;MAAA,MAAArkB,MAAA,GAAA1M,2DAAA;MAAA,OAASA,yDAAA,CAAA0M,MAAA,CAAAskB,WAAA,EAAa;IAAA,EAAC;IAGvBhxB,4DAAA,aAEC;IAC4BA,oDAAA,GAAoB;IAAAA,0DAAA,EAAK;IAClDA,4DAAA,cAA4B;IA+BZA,oDAAA,GASJ;IAAAA,0DAAA,EAAW;IAEfA,4DAAA,cAAkB;IAAAA,oDAAA,IAAY;IAAAA,0DAAA,EAAM;IAG5CA,4DAAA,eAEC;IAEOA,wDAAA,KAAAixB,6CAAA,uBAEa;IACbjxB,4DAAA,eAA2B;IACvBA,oDAAA,IACJ;IAAAA,0DAAA,EAAM;IAEVA,wDAAA,KAAAkxB,wCAAA,kBAGM;IACVlxB,0DAAA,EAAM;IACNA,4DAAA,oBAEC;IACGA,oDAAA,uBACJ;IAAAA,0DAAA,EAAW;IACXA,wDAAA,KAAAmxB,wCAAA,kBAKM;IACVnxB,0DAAA,EAAM;;;;;IAjFNA,wDAAA,eAAAA,6DAAA,KAAAyT,GAAA,EAAqB,gBAAAzT,6DAAA,KAAA+L,GAAA,EAAA6B,MAAA,CAAAihB,OAAA,kBAAAjhB,MAAA,CAAAihB,OAAA,CAAAhnB,EAAA;IAQQ7H,uDAAA,GAAoB;IAApBA,+DAAA,CAAA4N,MAAA,CAAAihB,OAAA,kBAAAjhB,MAAA,CAAAihB,OAAA,CAAA/Y,KAAA,CAAoB;IAIrC9V,uDAAA,GAEC;IAFDA,yDAAA,kBAAA4N,MAAA,CAAAihB,OAAA,CAAAuC,OAAA,KAAAxjB,MAAA,CAAAihB,OAAA,kBAAAjhB,MAAA,CAAAihB,OAAA,CAAAwC,MAAA,iBAEC,mBAAAzjB,MAAA,CAAAihB,OAAA,CAAAuC,OAAA,KAAAxjB,MAAA,CAAAihB,OAAA,kBAAAjhB,MAAA,CAAAihB,OAAA,CAAAwC,MAAA,kCAAAzjB,MAAA,CAAAihB,OAAA,CAAAuC,OAAA,KAAAxjB,MAAA,CAAAihB,OAAA,kBAAAjhB,MAAA,CAAAihB,OAAA,CAAAwC,MAAA,iCAAAzjB,MAAA,CAAAihB,OAAA,CAAAuC,OAAA;IAWGpxB,uDAAA,GAGC;IAHDA,yDAAA,gBAAA4N,MAAA,CAAAihB,OAAA,CAAAuC,OAAA,KAAAxjB,MAAA,CAAAihB,OAAA,kBAAAjhB,MAAA,CAAAihB,OAAA,CAAAwC,MAAA,iBAGC,kBAAAzjB,MAAA,CAAAihB,OAAA,CAAAuC,OAAA,KAAAxjB,MAAA,CAAAihB,OAAA,kBAAAjhB,MAAA,CAAAihB,OAAA,CAAAwC,MAAA,gCAAAzjB,MAAA,CAAAihB,OAAA,CAAAuC,OAAA,KAAAxjB,MAAA,CAAAihB,OAAA,kBAAAjhB,MAAA,CAAAihB,OAAA,CAAAwC,MAAA,sCAAAzjB,MAAA,CAAAihB,OAAA,CAAAuC,OAAA;IAYGpxB,uDAAA,GASJ;IATIA,gEAAA,MAAA4N,MAAA,CAAAihB,OAAA,CAAAuC,OAAA,uBAAAxjB,MAAA,CAAAihB,OAAA,kBAAAjhB,MAAA,CAAAihB,OAAA,CAAAwC,MAAA,6BAAAzjB,MAAA,CAAAihB,OAAA,kBAAAjhB,MAAA,CAAAihB,OAAA,CAAAwC,MAAA,6CASJ;IAEcrxB,uDAAA,GAAY;IAAZA,+DAAA,CAAA4N,MAAA,CAAA3E,MAAA,CAAY;IAOnBjJ,uDAAA,GAAuB;IAAvBA,wDAAA,SAAA4N,MAAA,CAAAgB,IAAA,YAAuB,aAAAH,GAAA;IAI9BzO,uDAAA,GACJ;IADIA,gEAAA,OAAA4N,MAAA,CAAAihB,OAAA,kBAAAjhB,MAAA,CAAAihB,OAAA,CAAA5f,WAAA,MAAArB,MAAA,CAAAihB,OAAA,kBAAAjhB,MAAA,CAAAihB,OAAA,CAAA5I,QAAA,OACJ;IAEiCjmB,uDAAA,GAAc;IAAdA,wDAAA,SAAA4N,MAAA,CAAAijB,QAAA,CAAc;IAYlD7wB,uDAAA,GAAuB;IAAvBA,wDAAA,UAAA4N,MAAA,CAAA0jB,gBAAA,CAAuB;;;;;IAOhCtxB,uDAAA,cAA2D;;;AA/FvE,MA4GauxB,oBAAqB,SAAQxxB,iFAAY;EAOlD,IAAWuxB,gBAAgBA,CAAA;IACvB,OACI,IAAI,CAACzC,OAAO,EAAEsB,UAAU,CAAC9G,WAAW,EAAE,KACtCzT,4DAAW,EAAE,EAAE+G,KAAK,CAAC0M,WAAW,EAAE;EAE1C;EAEAvjB,YACYwY,OAAkB,EAClBkT,MAAsB,EACtB9c,IAAyB;IAEjC,KAAK,EAAE;IAJC,KAAA4J,OAAO,GAAPA,OAAO;IACP,KAAAkT,MAAM,GAANA,MAAM;IACN,KAAA9c,IAAI,GAAJA,IAAI;IAfA,KAAAic,QAAQ,GAAY,KAAK;IACxB,KAAA7R,IAAI,GAAG,IAAI5c,uDAAY,EAAE;IACzB,KAAAgD,MAAM,GAAG,IAAIhD,uDAAY,EAAE;IAC3B,KAAAsE,GAAG,GAAG,IAAItE,uDAAY,EAAE;EAezC;EAEOmE,QAAQA,CAAA;IACX,IAAI,CAACorB,YAAY,CACb,aAAa,EACb,IAAI,CAACD,MAAM,CAACE,aAAa,CAACzV,SAAS,CAAE0V,MAAM,IACvCA,MAAM,CAACC,GAAG,CAAC,SAAS,CAAC,IACrB,IAAI,CAAC/C,OAAO,EAAEhnB,EAAE,KAAK8pB,MAAM,CAACxjB,GAAG,CAAC,OAAO,CAAC,GAClC,IAAI,CAAC6iB,WAAW,EAAE,GAClB,EAAE,CACX,CACJ;EACL;EAEA,IAAWpiB,IAAIA,CAAA;IACX,IAAI,IAAI,CAACigB,OAAO,EAAEjgB,IAAI,KAAK,MAAM,EAAE,OAAO,MAAM;IAChD,IAAI,IAAI,CAACigB,OAAO,EAAEjgB,IAAI,KAAK,SAAS,EAAE,OAAO,WAAW;IACxD,OAAO,MAAM;EACjB;EAEA,IAAW6hB,GAAGA,CAAA;IACV,MAAM1qB,IAAI,GAAG,IAAI,CAAC8oB,OAAO,EAAE9oB,IAAI,IAAI6V,IAAI,CAAChV,GAAG,EAAE;IAC7C,MAAMirB,QAAQ,GAAGtB,oDAAS,CAAC3U,IAAI,CAAChV,GAAG,EAAE,EAAEb,IAAI,CAAC;IAC5C,OAAO,GAAG8rB,QAAQ,GAAG,OAAO,GAAG/pB,oDAAM,CAAC/B,IAAI,EAAE,MAAM,CAAC,EAAE;EACzD;EAEA,IAAW8qB,QAAQA,CAAA;IACf,MAAMiB,KAAK,GAAG,IAAI,CAACpd,IAAI,CAACqd,WAAW,CAAC,IAAI,CAAClD,OAAO,EAAEhG,KAAK,IAAI,EAAE,CAAC;IAC9D,OAAO,GAAGiJ,KAAK,EAAEE,YAAY,IAAIF,KAAK,EAAEnsB,IAAI,IAAI,EAAE,EAAE;EACxD;EAEA,IAAWsD,MAAMA,CAAA;IACb,IAAI,IAAI,CAAC4lB,OAAO,EAAEoD,OAAO,EAAE,OAAO,SAAS;IAC3C,MAAM3rB,KAAK,GAAG,IAAI,CAACuoB,OAAO,EAAE9oB,IAAI,IAAI6V,IAAI,CAAChV,GAAG,EAAE;IAC9C,MAAM9B,QAAQ,GAAG,IAAI,CAAC+pB,OAAO,EAAE/pB,QAAQ,IAAI,EAAE;IAC7C,MAAM0B,GAAG,GAAGyhB,oDAAU,CAAC3hB,KAAK,EAAExB,QAAQ,CAAC;IACvC,MAAMotB,GAAG,GAAGpb,qDAAc,CAAC;MACvBqb,KAAK,EAAEjrB,IAAI,CAACC,KAAK,CAACrC,QAAQ,GAAG,EAAE,CAAC;MAChCyS,OAAO,EAAEzS,QAAQ,GAAG;KACvB,CAAC,CACG4jB,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC,CACtBA,OAAO,CAAC,SAAS,EAAE,KAAK,CAAC;IAC9B,OAAO,GAAG5gB,oDAAM,CAACxB,KAAK,EAAE,QAAQ,CAAC,MAAMwB,oDAAM,CAACtB,GAAG,EAAE,QAAQ,CAAC,KAAK0rB,GAAG,GAAG;EAC3E;EAEOlB,WAAWA,CAAA;IACd,IAAI,CAAC,IAAI,CAACnC,OAAO,EAAE;IACnB,IAAI,CAAC7nB,OAAO,CAAC,MAAM,EAAE,MAAK;MACtB,MAAM8b,GAAG,GAAG,IAAI,CAACxE,OAAO,CAACyE,IAAI,CAACyN,0FAA4B,EAAE;QACxDhS,IAAI,EAAE,IAAI,CAACqQ;OACd,CAAC;MACF,IAAI,CAAC4C,YAAY,CACb,MAAM,EACN3O,GAAG,CAACG,iBAAiB,CAACnE,IAAI,CAAC7C,SAAS,CAAC,MAAM,IAAI,CAAC6C,IAAI,CAACzV,IAAI,EAAE,CAAC,CAC/D;MACD,IAAI,CAACooB,YAAY,CACb,QAAQ,EACR3O,GAAG,CAACG,iBAAiB,CAAC/d,MAAM,CAAC+W,SAAS,CAAC,MAAM,IAAI,CAAC/W,MAAM,CAACmE,IAAI,EAAE,CAAC,CACnE;MACD,IAAI,CAACooB,YAAY,CACb,KAAK,EACL3O,GAAG,CAACG,iBAAiB,CAACzc,GAAG,CAACyV,SAAS,CAAC,MAAM,IAAI,CAACzV,GAAG,CAAC6C,IAAI,EAAE,CAAC,CAC7D;IACL,CAAC,CAAC;EACN;;AApFSkoB,oBAAqB;mBAArBA,oBAAoB,EAAAvxB,+DAAA,CAAAzC,gEAAA,GAAAyC,+DAAA,CAAAH,4DAAA,GAAAG,+DAAA,CAAAiV,+FAAA;AAAA;AAApBsc,oBAAqB;QAArBA,oBAAoB;EAAAvwB,SAAA;EAAAC,MAAA;IAAA4tB,OAAA;IAAA8B,QAAA;EAAA;EAAAjW,OAAA;IAAAoE,IAAA;IAAA5Z,MAAA;IAAAsB,GAAA;EAAA;EAAArF,QAAA,GAAAnB,wEAAA;EAAAqB,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAiV,QAAA,WAAA4b,8BAAApnB,EAAA,EAAAlJ,GAAA;IAAA,IAAAkJ,EAAA;MAzGzBhL,wDAAA,IAAAqyB,kCAAA,gBAIK;MACLryB,wDAAA,IAAAsyB,iCAAA,iBAqFI;MACJtyB,wDAAA,IAAAuyB,2CAAA,gCAAAvyB,oEAAA,CAEc;;;MA7FsBA,wDAAA,SAAA8B,GAAA,CAAA+sB,OAAA,CAAa;MAW5C7uB,uDAAA,GAAa;MAAbA,wDAAA,SAAA8B,GAAA,CAAA+sB,OAAA,CAAa;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzB8C;AACF;AACL;AACH;AAE+B;AACjB;AACS;AAC3C;AACK;;;;;;;;;;;;;;;IAW/B7uB,wDAAA,cAGO;;;;;IACPA,6DAAA,cAGC;IACGA,wDAAA,yBAGkB;IACtBA,2DAAA,EAAM;;;;IAHEA,wDAAA,GAA0C;IAA1CA,yDAAA,WAAA4N,MAAA,CAAAihB,OAAA,kBAAAjhB,MAAA,CAAAihB,OAAA,CAAAmB,cAAA,kBAAApiB,MAAA,CAAAihB,OAAA,CAAAmB,cAAA,CAAAnP,MAAA,CAA0C;;;;;IA0EtC7gB,6DAAA,cAGC;IACaA,qDAAA,GAER;IAAAA,2DAAA,EAAW;IACbA,6DAAA,cAAkB;IACdA,qDAAA,GAKJ;IAAAA,2DAAA,EAAM;;;;IATIA,wDAAA,GAER;IAFQA,gEAAA,CAAA0M,MAAA,CAAAmiB,OAAA,CAAA+D,UAAA,yBAER;IAEE5yB,wDAAA,GAKJ;IALIA,iEAAA,MAAA0M,MAAA,CAAAmiB,OAAA,CAAA+D,UAAA,kCAKJ;;;;;IAGA5yB,wDAAA,sBAGe;;;IADXA,yDAAA,gBAAe;;;;;;IA3B3BA,6DAAA,iBAQC;IADGA,yDAAA,mBAAA6yB,8EAAA;MAAA7yB,4DAAA,CAAA0N,IAAA;MAAA,MAAAC,OAAA,GAAA3N,4DAAA;MAAA,OAASA,0DAAA,CAAA2N,OAAA,CAAAmlB,eAAA,EAAiB;IAAA,EAAC;IAE3B9yB,yDAAA,IAAA+yB,2DAAA,kBAcM;IACN/yB,yDAAA,IAAAgzB,mEAAA,iCAAAhzB,qEAAA,CAKc;IAClBA,2DAAA,EAAS;;;;;IA1BLA,0DAAA,iBAAAqU,MAAA,CAAAwa,OAAA,CAAA+D,UAAA,CAAyC;IACzC5yB,yDAAA,aAAAqU,MAAA,CAAA4e,WAAA,CAAwB;IAMnBjzB,wDAAA,GAAoB;IAApBA,yDAAA,UAAAqU,MAAA,CAAA4e,WAAA,CAAoB,aAAAlC,GAAA;;;;;IAhBjC/wB,6DAAA,cAIC;IACGA,yDAAA,IAAAkzB,qDAAA,qBA8BS;IACTlzB,6DAAA,iBAKC;IACaA,qDAAA,iBAAU;IAAAA,2DAAA,EAAW;;;;;IA/B9BA,wDAAA,GAAmB;IAAnBA,yDAAA,UAAA8T,MAAA,CAAAqf,YAAA,CAAmB;IA4BpBnzB,wDAAA,GAA0B;IAA1BA,yDAAA,sBAAAoR,GAAA,CAA0B;;;;;;;;;;;IA6ClCpR,wDAAA,0BAMmB;;;;IAHfA,yDAAA,QAAA0D,MAAA,CAAAouB,KAAA,kBAAApuB,MAAA,CAAAouB,KAAA,CAAAsB,MAAA,CAAqB,aAAA1vB,MAAA,CAAAvC,QAAA,aAAAnB,8DAAA,IAAAmM,GAAA;;;;;;IAoBjCnM,6DAAA,iBAKC;IADGA,yDAAA,mBAAAqzB,wEAAA;MAAArzB,4DAAA,CAAAszB,IAAA;MAAA,MAAAC,OAAA,GAAAvzB,4DAAA;MAAA,OAASA,0DAAA,CAAAuzB,OAAA,CAAAruB,MAAA,CAAAmE,IAAA,EAAa;IAAA,EAAC;IAEvBrJ,6DAAA,eAAU;IAAAA,qDAAA,aAAM;IAAAA,2DAAA,EAAW;IAC3BA,6DAAA,UAAU;IAAVA,qDAAA,OAAU;IAAcA,2DAAA,EAAM;;;;;;IAElCA,6DAAA,iBAKC;IADGA,yDAAA,mBAAAwzB,wEAAA;MAAAxzB,4DAAA,CAAAyzB,IAAA;MAAA,MAAApvB,OAAA,GAAArE,4DAAA;MAAA,OAASA,0DAAA,CAAAqE,OAAA,CAAAmC,GAAA,CAAA6C,IAAA,EAAU;IAAA,EAAC;IAEpBrJ,6DAAA,eAAU;IAAAA,qDAAA,aAAM;IAAAA,2DAAA,EAAW;IAC3BA,6DAAA,UAAU;IAAVA,qDAAA,OAAU;IAAWA,2DAAA,EAAM;;;AAzM3C,MA+MawwB,4BAA4B;EAcrC,IAAWsB,KAAKA,CAAA;IACZ,OAAO,IAAI,CAACpd,IAAI,CAACqd,WAAW,CAAC,IAAI,CAAClD,OAAO,EAAEhG,KAAK,IAAI,EAAE,CAAC;EAC3D;EAEA,IAAWhU,QAAQA,CAAA;IACf,OAAO,IAAI,CAACH,IAAI,CAACC,SAAS,CAAC/L,IAAI,CAAEogB,GAAG,IAChC,CAAC,IAAI,CAAC6F,OAAO,EAAEhG,KAAK,IAAI,EAAE,EAAErb,QAAQ,CAACwb,GAAG,CAACnhB,EAAE,CAAC,CAC/C;EACL;EAEA,IAAWsrB,YAAYA,CAAA;IACnB,OAAO,IAAI,CAACjlB,SAAS,CAACC,GAAG,CACrB,OAAO,IAAI,CAAC0gB,OAAO,EAAEjgB,IAAI,IAAI,UAAU,eAAe,CACzD;EACL;EAEA,IAAW8kB,cAAcA,CAAA;IACrB,MAAMC,EAAE,GAAG/X,IAAI,CAAChV,GAAG,EAAE;IACrB,MAAMN,KAAK,GAAG,IAAI,CAACuoB,OAAO,EAAE+E,aAAa,GAAG,IAAI;IAChD,MAAMptB,GAAG,GAAG,IAAI,CAACqoB,OAAO,EAAEgF,WAAW,GAAG,IAAI;IAC5C,IAAI,IAAI,CAAChF,OAAO,EAAEoD,OAAO,EAAE,OAAO3rB,KAAK,IAAIqtB,EAAE;IAC7C,OAAOrtB,KAAK,IAAIqtB,EAAE,IAAIA,EAAE,IAAIntB,GAAG;EACnC;EAEAV,YACqCguB,QAAiB,EAC1C5lB,SAA0B,EAC1BwG,IAAyB,EACzB4J,OAAkB;IAHO,KAAAwV,QAAQ,GAARA,QAAQ;IACjC,KAAA5lB,SAAS,GAATA,SAAS;IACT,KAAAwG,IAAI,GAAJA,IAAI;IACJ,KAAA4J,OAAO,GAAPA,OAAO;IAzCF,KAAAQ,IAAI,GAAG,IAAI5c,wDAAY,EAAE;IACzB,KAAAgD,MAAM,GAAG,IAAIhD,wDAAY,EAAE;IAC3B,KAAAsE,GAAG,GAAG,IAAItE,wDAAY,EAAE;IACzB,KAAA2sB,OAAO,GAAG,IAAI,CAACiF,QAAQ;IAChC,KAAAC,QAAQ,GAAG,KAAK;IAChB,KAAAd,WAAW,GAAG,KAAK;IACV,KAAA9xB,QAAQ,GAAG,CACvB;MACI0vB,QAAQ,EAAE,IAAI,CAAChC,OAAO,EAAE5I,QAAQ;MAChC1c,OAAO,EAAEmpB,sFAAeA;KAC3B,CACJ;EA+BE;EAEH,IAAWzpB,MAAMA,CAAA;IACb,IAAI,IAAI,CAAC4lB,OAAO,EAAEoD,OAAO,EAAE,OAAO,SAAS;IAC3C,MAAM3rB,KAAK,GAAG,IAAI,CAACuoB,OAAO,EAAE9oB,IAAI,IAAI6V,IAAI,CAAChV,GAAG,EAAE;IAC9C,MAAM9B,QAAQ,GAAG,IAAI,CAAC+pB,OAAO,EAAE/pB,QAAQ,IAAI,EAAE;IAC7C,MAAM0B,GAAG,GAAGyhB,qDAAU,CAAC3hB,KAAK,EAAExB,QAAQ,CAAC;IACvC,MAAMotB,GAAG,GAAGpb,qDAAc,CAAC;MACvBqb,KAAK,EAAEjrB,IAAI,CAACC,KAAK,CAACrC,QAAQ,GAAG,EAAE,CAAC;MAChCyS,OAAO,EAAEzS,QAAQ,GAAG;KACvB,CAAC,CACG4jB,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC,CACtBA,OAAO,CAAC,SAAS,EAAE,KAAK,CAAC;IAC9B,OAAO,GAAG5gB,qDAAM,CAACxB,KAAK,EAAE,QAAQ,CAAC,MAAMwB,qDAAM,CAACtB,GAAG,EAAE,QAAQ,CAAC,KAAK0rB,GAAG,GAAG;EAC3E;EAEaY,eAAeA,CAAA;IAAA,IAAA3W,KAAA;IAAA,OAAAC,wJAAA;MACxBD,KAAI,CAAC8W,WAAW,GAAG,IAAI;MACvB,MAAMN,4DAAc,CAChBxW,KAAI,CAAC0S,OAAO,CAAChnB,EAAE,EACf,CAACsU,KAAI,CAAC0S,OAAO,CAAC+D,UAAU,CAC3B,CAAC/V,SAAS,EAAE;MACZV,KAAI,CAAC0S,OAAe,CAAC+D,UAAU,GAAG,CAACzW,KAAI,CAAC0S,OAAO,CAAC+D,UAAU;MAC3DJ,8DAAa,CACT,gBACIrW,KAAI,CAAC0S,OAAO,CAAC+D,UAAU,GAAG,YAAY,GAAG,eAC7C,EAAE,CACL;MACDzW,KAAI,CAAC8W,WAAW,GAAG,KAAK;IAAC;EAC7B;EAEOe,YAAYA,CAAA;IACf,IAAI,CAACD,QAAQ,GAAG,IAAI;IACpB,MAAMjR,GAAG,GAAG,IAAI,CAACxE,OAAO,CAACyE,IAAI,CAAC0P,uGAAuB,EAAE;MACnDxY,QAAQ,EAAE,MAAM;MAChBD,SAAS,EAAE,MAAM;MACjBwE,IAAI,EAAE;QACFJ,IAAI,EAAE;UACFvW,EAAE,EAAE,IAAI,CAACisB,QAAQ,CAAC7N,QAAQ;UAC1BtgB,IAAI,EAAE,IAAI,CAACmuB,QAAQ,CAAC1D,UAAU;UAC9BgD,MAAM,EAAE,IAAI,CAACU,QAAQ,CAAC9D,cAAc,CAACoD,MAAM;UAC3CtB,KAAK,EAAE,IAAI,CAACA;;;KAGvB,CAAC;IACFhP,GAAG,CAACE,WAAW,EAAE,CAAC/G,SAAS,CAAC,MAAO,IAAI,CAAC8X,QAAQ,GAAG,KAAM,CAAC;EAC9D;;AAzFSvD,4BAA4B;mBAA5BA,4BAA4B,EAAAxwB,gEAAA,CAuCzBgZ,sEAAe,GAAAhZ,gEAAA,CAAAzC,4DAAA,GAAAyC,gEAAA,CAAAH,+FAAA,GAAAG,gEAAA,CAAAiV,gEAAA;AAAA;AAvClBub,4BAA4B;QAA5BA,4BAA4B;EAAAxvB,SAAA;EAAA0Z,OAAA;IAAAoE,IAAA;IAAA5Z,MAAA;IAAAsB,GAAA;EAAA;EAAAnF,KAAA;EAAAC,IAAA;EAAAC,MAAA,WAAAA,CAAA;IAAA,IAAAC,MAAA;IAAA,WAAAC,iBAAA,oBAAAA,iBAAA;;;;;;;eA9E+BC,SAAA,0EAEpD;;;;;;;;;;eA6DMA,SAAA,+EAAc;;;;;;;;;;eASdA,SAAA,2EAAW;;;;;;MAtM7B1B,6DAAA,aAEC;MAIOA,yDAAA,IAAAi0B,2CAAA,iBAGO;MACPj0B,yDAAA,IAAAk0B,2CAAA,iBAQM;MACNl0B,6DAAA,YAIC;MACGA,qDAAA,GACJ;MAAAA,2DAAA,EAAK;MACLA,6DAAA,aAAyD;MAmCrCA,qDAAA,IASJ;MAAAA,2DAAA,EAAW;MAEfA,6DAAA,cAAkB;MAAAA,qDAAA,IAAY;MAAAA,2DAAA,EAAM;MAG5CA,yDAAA,KAAAm0B,4CAAA,kBA4CM;MACVn0B,2DAAA,EAAM;MAEVA,6DAAA,eAAwC;MAIhCA,qDAAA,QAAoD;MAEpDA,2DAAA,EAAK;MACLA,6DAAA,eAA8C;MAChCA,qDAAA,aAAK;MAAAA,2DAAA,EAAW;MAC1BA,6DAAA,WAAK;MAAAA,qDAAA,IAA4C;;MAAAA,2DAAA,EAAM;MAE3DA,6DAAA,eAA8C;MAChCA,qDAAA,gBAAQ;MAAAA,2DAAA,EAAW;MAC7BA,6DAAA,WAAK;MAAAA,qDAAA,IAAY;MAAAA,2DAAA,EAAM;MAE3BA,6DAAA,eAA8C;MAChCA,qDAAA,WAAG;MAAAA,2DAAA,EAAW;MACxBA,6DAAA,WAAK;MACDA,qDAAA,IAEJ;MAAAA,2DAAA,EAAM;MAEVA,6DAAA,eAA8C;MAChCA,qDAAA,aAAK;MAAAA,2DAAA,EAAW;MAC1BA,6DAAA,WAAK;MACDA,qDAAA,IAIJ;MAAAA,2DAAA,EAAM;MAGdA,6DAAA,kBAIC;MADGA,yDAAA,mBAAAo0B,+DAAA;QAAA,OAAStyB,GAAA,CAAAkyB,YAAA,EAAc;MAAA,EAAC;MAExBh0B,yDAAA,KAAAq0B,wDAAA,8BAMmB;MACvBr0B,2DAAA,EAAS;MAEbA,6DAAA,kBAKC;MACaA,qDAAA,aAAK;MAAAA,2DAAA,EAAW;MAGlCA,6DAAA,wBAA6C;MAKzCA,yDAAA,KAAAs0B,+CAAA,qBAQS;MACTt0B,yDAAA,KAAAu0B,+CAAA,qBAQS;MACbv0B,2DAAA,EAAW;;;MAhMEA,wDAAA,GAA8C;MAA9CA,yDAAA,WAAA8B,GAAA,CAAA+sB,OAAA,kBAAA/sB,GAAA,CAAA+sB,OAAA,CAAAmB,cAAA,kBAAAluB,GAAA,CAAA+sB,OAAA,CAAAmB,cAAA,CAAAnP,MAAA,kBAAA/e,GAAA,CAAA+sB,OAAA,CAAAmB,cAAA,CAAAnP,MAAA,CAAAlX,MAAA,EAA8C;MAI9C3J,wDAAA,GAA6C;MAA7CA,yDAAA,SAAA8B,GAAA,CAAA+sB,OAAA,kBAAA/sB,GAAA,CAAA+sB,OAAA,CAAAmB,cAAA,kBAAAluB,GAAA,CAAA+sB,OAAA,CAAAmB,cAAA,CAAAnP,MAAA,kBAAA/e,GAAA,CAAA+sB,OAAA,CAAAmB,cAAA,CAAAnP,MAAA,CAAAlX,MAAA,CAA6C;MAU9C3J,wDAAA,GAA+C;MAA/CA,0DAAA,WAAA8B,GAAA,CAAA+sB,OAAA,kBAAA/sB,GAAA,CAAA+sB,OAAA,CAAAmB,cAAA,kBAAAluB,GAAA,CAAA+sB,OAAA,CAAAmB,cAAA,CAAAnP,MAAA,EAA+C;MAE/C7gB,wDAAA,GACJ;MADIA,iEAAA,MAAA8B,GAAA,CAAA+sB,OAAA,CAAA/Y,KAAA,MACJ;MAKY9V,wDAAA,GAGC;MAHDA,0DAAA,kBAAA8B,GAAA,CAAA+sB,OAAA,CAAAuC,OAAA,KAAAtvB,GAAA,CAAA+sB,OAAA,kBAAA/sB,GAAA,CAAA+sB,OAAA,CAAAwC,MAAA,iBAGC,mBAAAvvB,GAAA,CAAA+sB,OAAA,CAAAuC,OAAA,KAAAtvB,GAAA,CAAA+sB,OAAA,kBAAA/sB,GAAA,CAAA+sB,OAAA,CAAAwC,MAAA,kCAAAvvB,GAAA,CAAA+sB,OAAA,CAAAuC,OAAA,KAAAtvB,GAAA,CAAA+sB,OAAA,kBAAA/sB,GAAA,CAAA+sB,OAAA,CAAAwC,MAAA,iCAAAvvB,GAAA,CAAA+sB,OAAA,CAAAuC,OAAA;MAaGpxB,wDAAA,GAGC;MAHDA,0DAAA,gBAAA8B,GAAA,CAAA+sB,OAAA,CAAAuC,OAAA,KAAAtvB,GAAA,CAAA+sB,OAAA,kBAAA/sB,GAAA,CAAA+sB,OAAA,CAAAwC,MAAA,iBAGC,kBAAAvvB,GAAA,CAAA+sB,OAAA,CAAAuC,OAAA,KAAAtvB,GAAA,CAAA+sB,OAAA,kBAAA/sB,GAAA,CAAA+sB,OAAA,CAAAwC,MAAA,gCAAAvvB,GAAA,CAAA+sB,OAAA,CAAAuC,OAAA,KAAAtvB,GAAA,CAAA+sB,OAAA,kBAAA/sB,GAAA,CAAA+sB,OAAA,CAAAwC,MAAA,sCAAAvvB,GAAA,CAAA+sB,OAAA,CAAAuC,OAAA;MAYGpxB,wDAAA,GASJ;MATIA,iEAAA,MAAA8B,GAAA,CAAA+sB,OAAA,CAAAuC,OAAA,uBAAAtvB,GAAA,CAAA+sB,OAAA,kBAAA/sB,GAAA,CAAA+sB,OAAA,CAAAwC,MAAA,6BAAAvvB,GAAA,CAAA+sB,OAAA,kBAAA/sB,GAAA,CAAA+sB,OAAA,CAAAwC,MAAA,6CASJ;MAEcrxB,wDAAA,GAAY;MAAZA,gEAAA,CAAA8B,GAAA,CAAAmH,MAAA,CAAY;MAMjCjJ,wDAAA,GAAsB;MAAtBA,yDAAA,UAAA8B,GAAA,CAAA+sB,OAAA,CAAAuC,OAAA,CAAsB;MAqDlBpxB,wDAAA,GAA4C;MAA5CA,gEAAA,CAAAA,0DAAA,SAAA8B,GAAA,CAAA+sB,OAAA,CAAA9oB,IAAA,qBAA4C;MAI5C/F,wDAAA,GAAY;MAAZA,gEAAA,CAAA8B,GAAA,CAAAmH,MAAA,CAAY;MAKbjJ,wDAAA,GAEJ;MAFIA,iEAAA,OAAA8B,GAAA,CAAAgwB,KAAA,kBAAAhwB,GAAA,CAAAgwB,KAAA,CAAAE,YAAA,MAAAlwB,GAAA,CAAAgwB,KAAA,kBAAAhwB,GAAA,CAAAgwB,KAAA,CAAAnsB,IAAA,SAAA7D,GAAA,CAAA+sB,OAAA,CAAAuB,UAAA,IAAAtuB,GAAA,CAAA+sB,OAAA,CAAA5I,QAAA,MAEJ;MAKIjmB,wDAAA,GAIJ;MAJIA,iEAAA,OAAA8B,GAAA,CAAA+S,QAAA,kBAAA/S,GAAA,CAAA+S,QAAA,CAAAmd,YAAA,MAAAlwB,GAAA,CAAA+S,QAAA,kBAAA/S,GAAA,CAAA+S,QAAA,CAAAlP,IAAA,SAAA7D,GAAA,CAAA+S,QAAA,kBAAA/S,GAAA,CAAA+S,QAAA,CAAA4f,OAAA,WAAA3yB,GAAA,CAAA+S,QAAA,CAAA4f,OAAA,WAIJ;MASCz0B,wDAAA,GAAe;MAAfA,yDAAA,UAAA8B,GAAA,CAAAiyB,QAAA,CAAe;MAwBvB/zB,wDAAA,GAAqB;MAArBA,yDAAA,UAAA8B,GAAA,CAAA4xB,cAAA,CAAqB;MASrB1zB,wDAAA,GAAoB;MAApBA,yDAAA,SAAA8B,GAAA,CAAA4xB,cAAA,CAAoB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9MgB;AACU;AAUtC;AAMG;AACoC;AAQlD;AAYU;AAE6D;AAE9B;AACG;AACC;AACoB;AACvB;AACiB;AACE;AACI;;;;;;;AAI/E,MAAMmC,YAAY,GAAG,CACjB,YAAY,EACZ,cAAc,EACd,gBAAgB,EAChB,kBAAkB,CACrB;AAqCD,MAGaC,kBAAmB,SAAQ/1B,yDAAY;EAyKhD,IAAWg2B,IAAIA,CAAA;IACX,OAAO,IAAI,CAACC,KAAK,CAACvN,QAAQ,EAAE;EAChC;EAEA,IAAWoG,OAAOA,CAAA;IACd,OAAO,IAAI,CAACiF,QAAQ,CAACrL,QAAQ,EAAE;EACnC;EAEOwN,gBAAgBA,CAACpuB,EAAU;IAC9B,OAAO,IAAI,CAACquB,aAAa,CAACruB,EAAE,CAAC;EACjC;EAEOsuB,OAAOA,CAACtH,OAAA,GAAmB,IAAI1C,mDAAO,EAAE;IAC3C,IAAI,CAACxrB,IAAI,CAACy1B,KAAK,EAAE;IACjB,IAAI,CAACz1B,IAAI,CAAC0Z,UAAU,CAChBuR,+DAAW,CACP;MACI,GAAGiD,OAAO;MACV,GAAGA,OAAO,CAACmB;KACd,EACD,CAAC,IAAI,EAAEvD,SAAS,EAAE,EAAE,CAAC,CACxB,CACJ;IACD,IAAI,CAACgF,YAAY,CACb,aAAa,EACb,IAAI,CAAC9wB,IAAI,CAAC01B,YAAY,CAACpa,SAAS,CAAC,MAAM,IAAI,CAACqa,SAAS,EAAE,CAAC,CAC3D;IACD,IAAI,CAACxC,QAAQ,CAACzW,IAAI,CAACwR,OAAO,CAAC;IAC3B,IAAI,CAACzG,QAAQ,CAAC/K,IAAI,CAAC;MAAEzO,IAAI,EAAE,IAAI,CAACwZ,QAAQ,CAACK,QAAQ,EAAE,CAAC7Z;IAAI,CAAE,CAAC;EAC/D;EAEA9I,YACY2O,OAAe,EACfvG,SAA0B,EAC1BwG,IAAyB,EACzB4J,OAAkB,EAClBiY,SAA0B;IAElC,KAAK,EAAE;IANC,KAAA9hB,OAAO,GAAPA,OAAO;IACP,KAAAvG,SAAS,GAATA,SAAS;IACT,KAAAwG,IAAI,GAAJA,IAAI;IACJ,KAAA4J,OAAO,GAAPA,OAAO;IACP,KAAAiY,SAAS,GAATA,SAAS;IA5Mb,KAAAP,KAAK,GAAG,IAAIjb,kDAAe,CAAkB,MAAM,CAAC;IACpD,KAAAqN,QAAQ,GAAG,IAAIrN,kDAAe,CAAqB;MACvDnM,IAAI,EAAE;KACT,CAAC;IACM,KAAAklB,QAAQ,GAAG,IAAI/Y,kDAAe,CAAU,IAAI,CAAC;IAC7C,KAAAmb,aAAa,GAA2B,EAAE;IAC1C,KAAA5N,QAAQ,GAAG,IAAIvN,kDAAe,CAAS,EAAE,CAAC;IAE3C,KAAAyb,YAAY,GAAY,IAAIrK,mDAAO,CACtCsK,IAAI,CAACC,KAAK,CACNC,cAAc,CAACC,OAAO,CAAC,6BAA6B,CAAC,IAAI,IAAI,CAChE,CACJ;IACe,KAAA/mB,OAAO,GAAG,IAAI,CAACyY,QAAQ,CAACC,YAAY,EAAE;IACtC,KAAAgB,OAAO,GAAG,IAAI,CAACnB,QAAQ,CAACpM,IAAI,CAAC4L,4DAAW,CAAC,CAAC,CAAC,CAAC;IAC5C,KAAAjnB,IAAI,GAAG40B,uEAAmB,EAAE;IAE5B,KAAAsB,SAAS,GAA+B,IAAI,CAACtN,OAAO,CAACvN,IAAI,CACrEhB,6DAAY,CAAC,GAAG,CAAC,EACjBoa,wEAAuB,CAAC,MAAM,CAAC,EAC/Bna,0DAAS,CAAC,CAAC;MAAErM;IAAI,CAAE,KAAI;MACnB,IAAI,CAAC,IAAI,CAAC8F,IAAI,CAACG,QAAQ,EAAE,OAAO6S,yCAAE,CAAC,EAAE,CAAC;MACtC,QAAQ9Y,IAAI;QACR,KAAK,MAAM;UACP,IAAI,CAAC0Z,QAAQ,CAACjL,IAAI,CAAC,kBAAkB,CAAC;UACtC,OAAO,IAAI,CAACyZ,gBAAgB,CAAC,OAAc,CAAC;QAChD,KAAK,SAAS;UACV,IAAI,CAACxO,QAAQ,CAACjL,IAAI,CAAC,2BAA2B,CAAC;UAC/C,OAAO,IAAI,CAACyZ,gBAAgB,CAAC,gBAAuB,CAAC;QACzD,KAAK,QAAQ;UACT,IAAI,CAACxO,QAAQ,CAACjL,IAAI,CAAC,oBAAoB,CAAC;UACxC,OAAO,IAAI,CAACyZ,gBAAgB,CAAC,SAAgB,CAAC;MAAC;MAEvD,OAAOpP,yCAAE,CAAC,EAAE,CAAC;IACjB,CAAC,CAAC,EACFG,oDAAG,CAAC,MAAM,IAAI,CAACS,QAAQ,CAACjL,IAAI,CAAC,EAAE,CAAC,CAAC,EACjCuK,4DAAW,CAAC,CAAC,CAAC,CACjB;IAEe,KAAAzmB,QAAQ,GAAyB,IAAI,CAAC01B,SAAS,CAAC7a,IAAI,CAChExT,oDAAG,CAAEuuB,QAAQ,IAAI;MACb,MAAMhQ,IAAI,GAAa,EAAE;MACzB,KAAK,MAAM;QAAE5lB;MAAQ,CAAE,IAAI41B,QAAQ,EAAE;QACjC51B,QAAQ,YAAY61B,KAAK,GACnB71B,QAAQ,CAAC81B,OAAO,CAAE3W,CAAC,IAAKyG,IAAI,CAACnf,IAAI,CAAC0Y,CAAC,CAAC,CAAC,GACrC,IAAI;;MAEd,OAAOwU,uDAAM,CAAC/N,IAAI,CAAC,CAACmC,IAAI,CAAC,CAACC,CAAC,EAAEnU,CAAC,KAAKmU,CAAC,CAACC,aAAa,CAACpU,CAAC,CAAC,CAAC;IAC1D,CAAC,CAAC,EACF4S,4DAAW,CAAC,CAAC,CAAC,CACjB;IAEe,KAAAsP,YAAY,GACxB,IAAI,CAAC3N,OAAO,CAACvN,IAAI,CACbf,0DAAS,CAAC,CAAC;MAAErM;IAAI,CAAE,KAAI;MACnB,OAAOomB,gEAAY,CACf,IAAI,CAACtgB,IAAI,CAACG,QAAQ,CAAChN,EAAE,EACrB,GAAG+G,IAAI,eAAe,CACzB,CAACoN,IAAI,CAAC2L,2DAAU,CAAC,MAAMD,yCAAE,CAAC;QAAEvN,OAAO,EAAE;MAAE,CAAE,CAAC,CAAC,CAAC;IACjD,CAAC,CAAC,EACF3R,oDAAG,CAAE8X,CAAC,IAAMA,CAAC,CAACnG,OAAO,YAAY6c,KAAK,GAAG1W,CAAC,CAACnG,OAAO,GAAG,EAAG,CAAC,EACzDyN,4DAAW,CAAC,CAAC,CAAC,CACjB;IAEW,KAAAuP,mBAAmB,GAAGrS,oDAAa,CAAC,CAChD,IAAI,CAACyE,OAAO,EACZ,IAAI,CAACsN,SAAS,EACd,IAAI,CAACK,YAAY,EACjBhC,4CAAK,CAAC,IAAI,CAACv0B,IAAI,CAACwN,GAAG,CAAC,MAAM,CAAC,CAACkoB,YAAY,EAAElB,4CAAK,CAAC,IAAI,CAAC,CAAC,EACtDD,4CAAK,CAAC,IAAI,CAACv0B,IAAI,CAACwN,GAAG,CAAC,UAAU,CAAC,CAACkoB,YAAY,EAAElB,4CAAK,CAAC,IAAI,CAAC,CAAC,CAC7D,CAAC,CAACnZ,IAAI,CACH9T,uDAAM,CACF,MACI,IAAI,CAACvH,IAAI,CAACy2B,WAAW,EAAE,CAACrxB,IAAI,GAAG,CAAC,IAChC,IAAI,CAACpF,IAAI,CAACy2B,WAAW,EAAE,CAACtyB,QAAQ,GAAG,CAAC,CAC3C,EACDkW,6DAAY,CAAC,GAAG,CAAC,EACjB6M,oDAAG,CAAC,CAAC,CAAC;MAAEjZ;IAAI,CAAE,CAAC,KACX,IAAI,CAAC0Z,QAAQ,CAACjL,IAAI,CAAC,YAAYzO,IAAI,kBAAkB,CAAC,CACzD,EACDqM,0DAAS,CAAC,CAAC,CAACsO,OAAO,EAAEsN,SAAS,EAAEK,YAAY,CAAC,KACzClP,2DAAa,CAAC;MACV3L,YAAY,EAAElB,qDAAW,CAAC,IAAI,CAACxa,IAAI,CAACy2B,WAAW,EAAE,CAACrxB,IAAI,CAAC;MACvDuW,UAAU,EAAEnB,qDAAW,CACnB8M,qDAAU,CACN,IAAI,CAACtnB,IAAI,CAACy2B,WAAW,EAAE,CAACrxB,IAAI,EAC5B,IAAI,CAACpF,IAAI,CAACy2B,WAAW,EAAE,CAACtyB,QAAQ,IAAI,EAAE,GAAG,EAAE,CAC9C,CACJ;MACD8J,IAAI,EAAE2a,OAAO,CAAC3a,IAAI;MAClBia,KAAK,EAAEU,OAAO,CAACN;KAClB,CAAC,CAACjN,IAAI,CACHxT,oDAAG,CAAEomB,QAAQ,IAAI;MACb,MAAMtoB,KAAK,GAAG,IAAI,CAAC3F,IAAI,CAACy2B,WAAW,EAAE,CAACrxB,IAAI;MAC1C,MAAMS,GAAG,GAAGyhB,qDAAU,CAClB3hB,KAAK,EACL,IAAI,CAAC3F,IAAI,CAACy2B,WAAW,EAAE,CAACtyB,QAAQ,CACnC,CAACkB,OAAO,EAAE;MACX,MAAMqxB,WAAW,GAAGH,YAAY,CAACtuB,IAAI,CAChC0X,CAAC,IACGha,KAAK,IAAIga,CAAC,CAACha,KAAK,IAAIA,KAAK,GAAGga,CAAC,CAAC9Z,GAAG,IACjCA,GAAG,IAAI8Z,CAAC,CAAC9Z,GAAG,IAAIA,GAAG,GAAG8Z,CAAC,CAACha,KAAM,CACtC;MACD,IAAI,CAAC4vB,aAAa,GAAG,EAAE;MACvBtH,QAAQ,CAACqI,OAAO,CACX3W,CAAC,IAAM,IAAI,CAAC4V,aAAa,CAAC5V,CAAC,CAAC2F,QAAQ,CAAC,GAAG3F,CAAC,CAACgX,SAAU,CACxD;MACD,OAAOT,SAAS,CAAC3uB,MAAM,CAClB0a,KAAK,IACF,CAAC,CAACyU,WAAW,IACT,CAACA,WAAW,CAACnU,MAAM,CAAC1V,QAAQ,CAACoV,KAAK,CAAC/a,EAAE,CAAC,MACzC,CAAC+a,KAAK,CAACrb,MAAM,EAAEoC,MAAM,IAClBiZ,KAAK,CAACrb,MAAM,CAACgwB,IAAI,CAAEvvB,GAAG,IAClB4N,4DAAW,EAAE,CAACrO,MAAM,CAACiG,QAAQ,CAACxF,GAAG,CAAC,CACrC,CAAC,IACN4a,KAAK,CAAC4U,QAAQ,KAAK,KAAK,KACvB,CAACjO,OAAO,CAACpoB,QAAQ,IACdooB,OAAO,CAACpoB,QAAQ,EAAEysB,KAAK,CAAEtN,CAAC,IACtBsC,KAAK,CAACzhB,QAAQ,CAACqM,QAAQ,CAAC8S,CAAC,CAAC,CAC7B,CAAC,KACL,CAACiJ,OAAO,CAACN,OAAO,IACbM,OAAO,CAACN,OAAO,KAAKrG,KAAK,CAACgG,IAAI,EAAE/gB,EAAE,IAClC0hB,OAAO,CAACN,OAAO,KAAKrG,KAAK,CAACgG,IAAI,EAAEqH,SAAS,CAAC,IAC9C,CAACrB,QAAQ,CAAChmB,IAAI,CACT6uB,GAAG,IACAA,GAAG,CAACxR,QAAQ,KAAKrD,KAAK,CAAC/a,EAAE,IACzB4vB,GAAG,CAACpG,MAAM,KAAK,UAAU,CAChC,CACR;IACL,CAAC,CAAC,CACL,CACJ,EACDxJ,oDAAG,CAAC,MAAM,IAAI,CAACS,QAAQ,CAACjL,IAAI,CAAC,EAAE,CAAC,CAAC,EACjCuK,4DAAW,CAAC,CAAC,CAAC,CACjB;IAEe,KAAA8P,oBAAoB,GAAG5S,oDAAa,CAAC,CACjD,IAAI,CAACyE,OAAO,EACZ,IAAI,CAAC4N,mBAAmB,CAC3B,CAAC,CAACnb,IAAI,CACHxT,oDAAG,CAAC,CAAC,CAAC+gB,OAAO,EAAEwN,QAAQ,CAAC,KAAI;MACxB,MAAMxvB,MAAM,GAAG,EAAE;MACjB,MAAMihB,UAAU,GAAG,CAAC,GAAGuO,QAAQ,CAAC,CAAC7N,IAAI,CAAC,CAACC,CAAC,EAAEnU,CAAC,KACvCmU,CAAC,CAACP,IAAI,EAAE/gB,EAAE,EAAEuhB,aAAa,CAACpU,CAAC,CAAC4T,IAAI,EAAE/gB,EAAE,CAAC,CACxC;MACD,MAAM8vB,OAAO,GAAGpO,OAAO,CAACoO,OAAO,EAAEhuB,MAAM,GACjC4f,OAAO,CAACoO,OAAO,GACf,CAAC/hB,4DAAW,EAAE,CAAC;MACrB,OAAO4S,UAAU,CAAC7e,MAAM,EAAE;QACtB,MAAM0W,KAAK,GAAG,EAAE;QAChB,IAAIuC,KAAK,GAAG4F,UAAU,CAACoP,GAAG,EAAE;QAC5B,OAAOvX,KAAK,CAAC1W,MAAM,GAAGguB,OAAO,CAAChuB,MAAM,EAAE;UAClC,IACI0W,KAAK,CAAC1W,MAAM,IACZ,CAAC0W,KAAK,CAACzX,IAAI,CAAE0X,CAAC,IAAKA,CAAC,CAACsI,IAAI,EAAE/gB,EAAE,KAAK+a,KAAK,CAACgG,IAAI,EAAE/gB,EAAE,CAAC,EACnD;YACE;;UAEJwY,KAAK,CAACzY,IAAI,CAACgb,KAAK,CAAC;UACjBA,KAAK,GAAG4F,UAAU,CAACoP,GAAG,EAAE;;QAE5B,IAAIvX,KAAK,CAAC1W,MAAM,GAAGguB,OAAO,CAAChuB,MAAM,EAAE;QACnCpC,MAAM,CAACK,IAAI,CAACyY,KAAK,CAAC;;MAEtB,OAAO9Y,MAAM;IACjB,CAAC,CAAC,CACL;IAyCG,IAAI,CAACkqB,YAAY,CACb,iBAAiB,EACjB,IAAI,CAAChd,OAAO,CAACjP,MAAM,CAACyW,SAAS,CAAE4S,OAAc,IAAI;MAC7C,IACIA,OAAO,YAAY6F,2DAAa,IAChC,CAACmB,YAAY,CAACjtB,IAAI,CAAE0X,CAAC,IAAKuO,OAAO,CAACra,GAAG,CAAChH,QAAQ,CAAC8S,CAAC,CAAC,CAAC,EACpD;QACE,IAAI,CAACuX,SAAS,EAAE;;IAExB,CAAC,CAAC,CACL;IACD,IAAI,CAACnjB,IAAI,CAACojB,WAAW,CAChB9b,IAAI,CAACqZ,sDAAK,CAAE/U,CAAC,IAAKA,CAAC,CAAC,CAAC,CACrBrE,SAAS,CAAC,MAAM,IAAI,CAACuG,UAAU,CAAC,EAAE,CAAC,CAAC;EAC7C;EAEOuV,OAAOA,CAAC3hB,KAAsB;IACjC,IAAI,CAAC4f,KAAK,CAAC3Y,IAAI,CAACjH,KAAK,CAAC;EAC1B;EAEOoM,UAAUA,CAACpM,KAAkC;IAChD,IAAI,CAACgS,QAAQ,CAAC/K,IAAI,CAAC;MAAE,GAAG,IAAI,CAAC+K,QAAQ,CAACK,QAAQ,EAAE;MAAE,GAAGrS;IAAK,CAAE,CAAC;EACjE;EAEO4hB,UAAUA,CAACC,OAAe,EAAEC,MAAe;IAC9C,IAAI,CAACD,OAAO,EAAEtuB,MAAM,EAAE;IACtB,MAAMxI,QAAQ,GAAG,IAAI,CAACinB,QAAQ,CAACK,QAAQ,EAAE,EAAEtnB,QAAQ,IAAI,EAAE;IACzD,IAAI+2B,MAAM,IAAI,CAAC/2B,QAAQ,CAACqM,QAAQ,CAACyqB,OAAO,CAAC,EAAE92B,QAAQ,CAACyG,IAAI,CAACqwB,OAAO,CAAC;IACjE,IAAI,CAACC,MAAM,IAAI/2B,QAAQ,CAACqM,QAAQ,CAACyqB,OAAO,CAAC,EACrC92B,QAAQ,CAACg3B,MAAM,CACXh3B,QAAQ,CAACi3B,SAAS,CAAE9uB,CAAC,IAAKA,CAAC,KAAK2uB,OAAO,CAAC,EACxC,CAAC,CACJ;IACL,IAAI,CAACzV,UAAU,CAAC;MAAErhB;IAAQ,CAAE,CAAC;EACjC;EAEOk3B,SAASA,CAAA;IACZ,MAAMxJ,OAAO,GAAG,IAAI,CAACiF,QAAQ,CAACrL,QAAQ,EAAE;IACxC,IAAI,CAAC9nB,IAAI,CAACy1B,KAAK,CAAC;MAAE9f,IAAI,EAAEV,4DAAW,EAAE;MAAE0iB,SAAS,EAAE1iB,4DAAW;IAAE,CAAE,CAAC;IAClE,IAAI,CAACjV,IAAI,CAAC0Z,UAAU,CAChBuR,+DAAW,CACP;MACI,IAAIiD,OAAO,IAAI,EAAE,CAAC;MAClB,IAAIA,OAAO,EAAEmB,cAAc,IAAI,EAAE;KACpC,EACD,CAAC,IAAI,EAAEvD,SAAS,EAAE,EAAE,CAAC,CACxB,CACJ;IACD,IAAI,CAACrE,QAAQ,CAAC/K,IAAI,CAAC;MAAEzO,IAAI,EAAE,IAAI,CAACwZ,QAAQ,CAACK,QAAQ,EAAE,CAAC7Z;IAAI,CAAE,CAAC;EAC/D;EAEOipB,SAASA,CAAA;IACZlB,cAAc,CAAC4B,UAAU,CAAC,sBAAsB,CAAC;IACjD5B,cAAc,CAAC4B,UAAU,CAAC,8BAA8B,CAAC;IACzD,IAAI,CAACpC,OAAO,EAAE;EAClB;EAEOG,SAASA,CAAA;IACZK,cAAc,CAAC6B,OAAO,CAClB,sBAAsB,EACtB/B,IAAI,CAACgC,SAAS,CAAC,IAAI,CAAC93B,IAAI,CAACy2B,WAAW,EAAE,IAAI,EAAE,CAAC,CAChD;IACDT,cAAc,CAAC6B,OAAO,CAClB,8BAA8B,EAC9B/B,IAAI,CAACgC,SAAS,CAAC,IAAI,CAACrQ,QAAQ,CAACK,QAAQ,EAAE,IAAI,EAAE,CAAC,CACjD;EACL;EAEOiQ,QAAQA,CAAA;IACX,IAAI,CAAC/3B,IAAI,CAACy1B,KAAK,CAAC;MAAE9f,IAAI,EAAEV,4DAAW,EAAE;MAAE0iB,SAAS,EAAE1iB,4DAAW;IAAE,CAAE,CAAC;IAClE,MAAM4I,IAAI,GAAGiY,IAAI,CAACC,KAAK,CACnBC,cAAc,CAACC,OAAO,CAAC,sBAAsB,CAAC,IAAI,IAAI,CACzD;IACD,MAAM/H,OAAO,GAAG,IAAI1C,mDAAO,CAAC3N,IAAI,CAAC;IACjC,IAAI,CAACsV,QAAQ,CAACzW,IAAI,CAACwR,OAAO,CAAC;IAC3B,MAAM8J,YAAY,GAAG/M,+DAAW,CAC5B;MACI,GAAGpN,IAAI;MACP,IAAIqQ,OAAO,IAAI,EAAE,CAAC;MAClB,IAAIA,OAAO,EAAEmB,cAAc,IAAI,EAAE;KACpC,EACD,CAAC,IAAI,EAAEvD,SAAS,EAAE,EAAE,CAAC,CACxB;IACD,IAAI,CAAC9rB,IAAI,CAAC0Z,UAAU,CAACse,YAAY,CAAC;IAClC,IAAI,CAACnW,UAAU,CAAC;MACZyG,OAAO,EAAE,IAAI,CAACvU,IAAI,CAACG,QAAQ,EAAEhN,EAAE;MAC/B,GAAG4uB,IAAI,CAACC,KAAK,CACTC,cAAc,CAACC,OAAO,CAAC,8BAA8B,CAAC,IAAI,IAAI;KAErE,CAAC;EACN;EAEOgC,aAAaA,CAAA;IAChBjC,cAAc,CAAC4B,UAAU,CAAC,6BAA6B,CAAC;IACxD,IAAI,CAAC/B,YAAY,GAAG,IAAIrK,mDAAO,EAAE;EACrC;EAEO0M,oBAAoBA,CAACC,KAAA,GAAiB,KAAK;IAC9C,IAAI,CAACn4B,IAAI,CAAC2Z,gBAAgB,EAAE;IAC5B,IAAI,CAAC,IAAI,CAAC3Z,IAAI,CAAC4Z,KAAK,IAAI,CAACue,KAAK,EAAE;IAChC,MAAMrwB,KAAK,GAAG,IAAI0jB,mDAAO,CAAC;MACtB,GAAG,IAAI,CAAC0C,OAAO;MACf,GAAG,IAAI,CAACluB,IAAI,CAACy2B,WAAW;KAC3B,CAAC;IACF,IAAI,CAAC9Y,OAAO,CAACyE,IAAI,CAAC6S,oFAAyB,EAAE;MAAEpX,IAAI,EAAE/V;IAAK,CAAE,CAAC;EACjE;EAEaswB,WAAWA,CAAA;IAAA,IAAA5c,KAAA;IAAA,OAAAC,wJAAA;MACpB,MAAMD,KAAI,CAAC6c,cAAc,EAAE;MAC3B,MAAMzP,OAAO,GAAGpN,KAAI,CAACiM,QAAQ,CAACK,QAAQ,EAAE;MACxC,MAAMrS,KAAK,GAAG+F,KAAI,CAACxb,IAAI,CAACy2B,WAAW,EAAE;MACrC,IAAI7tB,OAAO,GAAG,8BAA8BggB,OAAO,CAAC3a,IAAI,IACpDwH,KAAK,CAACga,UACV,QAAQtoB,qDAAM,CAACsO,KAAK,CAACrQ,IAAI,EAAE,aAAa,CAAC,GACrCqQ,KAAK,CAACtR,QAAQ,GAAG,EAAE,GAAG,EAAE,GAClB,MAAM,GAAGgD,qDAAM,CAACsO,KAAK,CAACrQ,IAAI,EAAE,QAAQ,CAAC,GACrC,EACV,EAAE;MACF,IAAIwjB,OAAO,CAAClJ,KAAK,EAAE;QACf9W,OAAO,GAAG,GAAGA,OAAO,0EAA0E;;MAElG,MAAM4Q,OAAO,SAAS0a,iEAAgB,CAClC;QACI/e,KAAK,EAAE,QAAQyT,OAAO,CAAC3a,IAAI,EAAE;QAC7BrF,OAAO;QACP0vB,IAAI,EAAE;UAAE1vB,OAAO,EAAE;QAAiB;OACrC,EACD4S,KAAI,CAACmC,OAAO,CACf;MACD,IAAInE,OAAO,EAAEK,MAAM,KAAK,MAAM,EAAE,MAAM,gBAAgB;MACtDL,OAAO,CAACtK,OAAO,CAAC,+BAA+B,CAAC;MAChD,IAAI0Z,OAAO,CAAClJ,KAAK,EAAE;QACf,MAAMlE,KAAI,CAAC+c,gBAAgB,EAAE,CAACpc,KAAK,CAAEwD,CAAC,IAAI;UACtCsU,4DAAW,CAAC6B,IAAI,CAACgC,SAAS,CAACnY,CAAC,CAAC,CAAC;UAC9BnG,OAAO,CAAC0J,KAAK,EAAE;UACf,MAAMvD,CAAC;QACX,CAAC,CAAC;OACL,MACG,MAAMnE,KAAI,CAACgd,QAAQ,EAAE,CAACrc,KAAK,CAAEwD,CAAC,IAAI;QAC9BsU,4DAAW,CAAC6B,IAAI,CAACgC,SAAS,CAACnY,CAAC,CAAC,CAAC;QAC9BnG,OAAO,CAAC0J,KAAK,EAAE;QACf,MAAMvD,CAAC;MACX,CAAC,CAAC;MACNnG,OAAO,CAAC0J,KAAK,EAAE;IAAC;EACpB;EAEasV,QAAQA,CAACC,YAAY,GAAG,KAAK;IAAA,IAAAC,MAAA;IAAA,OAAAjd,wJAAA;MACtC,IAAI,CAACid,MAAI,CAAC14B,IAAI,EAAE,MAAM,qBAAqB;MAC3C,IAAI,CAAC04B,MAAI,CAAC14B,IAAI,CAAC4Z,KAAK,EAChB,MAAM,kCAAkCoa,iEAAgB,CACpD0E,MAAI,CAAC14B,IAAI,CACZ,CAAC8lB,IAAI,CAAC,IAAI,CAAC,GAAG;MACnB4S,MAAI,CAAC14B,IAAI,CAAC0Z,UAAU,CAAC;QACjB6V,YAAY,EACRmJ,MAAI,CAAC14B,IAAI,CAACy2B,WAAW,EAAE,CAAClH,YAAY,IACpCmJ,MAAI,CAACjR,QAAQ,CAACK,QAAQ,EAAE,CAAC7Z;OAChC,CAAC;MACF,IAAIwH,KAAK,GAAGijB,MAAI,CAAC14B,IAAI,CAACy2B,WAAW,EAAE;MACnC,IAAIvI,OAAO,GAAGwK,MAAI,CAACvF,QAAQ,CAACrL,QAAQ,EAAE,IAAI,IAAI0D,mDAAO,EAAE;MACvD,IAAI,CAACiN,YAAY,EAAE;QACf,MAAMC,MAAI,CAACC,sBAAsB,CAC7BljB,KAAK,EACLijB,MAAI,CAACjR,QAAQ,CAACK,QAAQ,EAAE,CAAC7Z,IAAI,CAChC;;MAEL,IAAIwH,KAAK,CAACtR,QAAQ,IAAI,EAAE,GAAG,EAAE,IAAIsR,KAAK,CAAC6b,OAAO,EAAE;QAC5CoH,MAAI,CAAC14B,IAAI,CAAC0Z,UAAU,CAAC;UACjBtU,IAAI,EAAEkvB,qDAAG,CAAC7e,KAAK,CAACrQ,IAAI,EAAE;YAAEosB,KAAK,EAAE,EAAE;YAAE5a,OAAO,EAAE;UAAE,CAAE,CAAC,CAACvR,OAAO,EAAE;UAC3DlB,QAAQ,EAAE,EAAE,GAAG;SAClB,CAAC;QACFsR,KAAK,GAAGijB,MAAI,CAAC14B,IAAI,CAACy2B,WAAW,EAAE;;MAEnC,IAAIiC,MAAI,CAAC9C,SAAS,CAACgD,cAAc,EAAE;QAC/B,MAAMC,OAAO,SAASH,MAAI,CAAC9C,SAAS,CAACkD,WAAW,CAAC;UAC7C7qB,IAAI,EAAEyqB,MAAI,CAACjR,QAAQ,CAACK,QAAQ,EAAE,CAAC7Z,IAAI;UACnC8qB,aAAa,EAAEtjB,KAAK,CAACga,UAAU;UAC/BrqB,IAAI,EAAEqQ,KAAK,CAACrQ,IAAI;UAChBjB,QAAQ,EAAEsR,KAAK,CAACtR,QAAQ;UACxBmtB,OAAO,EAAE7b,KAAK,CAAC6b;SAClB,CAAC;QACF,IAAI,CAACuH,OAAO,EAAEG,OAAO,EAAE;QACtBvjB,KAAa,CAAC4Z,cAAc,GAAG;UAC5B4J,OAAO,EAAEJ,OAAO;UAChBK,UAAU,EAAEL,OAAO,CAACK;SACvB;;MAELR,MAAI,CAAC/Q,QAAQ,CAACjL,IAAI,CAAC,gBAAgB,CAAC;MACpC,MAAMd,MAAM,SAASiZ,yDAAW,CAC5B,IAAIrJ,mDAAO,CAAC;QACR,GAAGkN,MAAI,CAACjR,QAAQ,CAACK,QAAQ,EAAE;QAC3B,GAAGrS,KAAK;QACRnH,WAAW,EAAEmH,KAAK,CAACga,UAAU,IAAIha,KAAK,CAACnH,WAAW;QAClDqoB,SAAS,EAAElhB,KAAK,CAACE,IAAI,EAAE3Q,IAAI;QAC3Bm0B,OAAO,EACH,CAAC,CAAC1jB,KAAK,CAACE,IAAI,EAAEzO,EAAE,EAAE2F,QAAQ,CAAC,GAAG,CAAC,GAAG4I,KAAK,EAAEE,IAAI,EAAEzO,EAAE,GAAG,EAAE,KACtD+N,4DAAW,EAAE,EAAE/N,EAAE;QACrBmoB,cAAc,EAAE;UACZ,IAAK5Z,KAAa,CAAC4Z,cAAc,IAAI,EAAE,CAAC;UACxC+J,UAAU,EACN3jB,KAAK,CAACE,IAAI,EAAEyjB,UAAU,IAAInkB,4DAAW,EAAE,EAAEmkB;SAChD;QACDC,QAAQ,EAAE,CAAC,CAACX,MAAI,CAACnrB,SAAS,CAACC,GAAG,CAAC,0BAA0B;OAC5D,CAAC,CACL,CACI0O,SAAS,EAAE,CACXC,KAAK,CAAExT,CAAC,IAAI;QACT+vB,MAAI,CAAC/Q,QAAQ,CAACjL,IAAI,CAAC,EAAE,CAAC;QACtB,MAAM/T,CAAC,EAAEmW,KAAK,IAAInW,CAAC;MACvB,CAAC,CAAC;MACN,IAAI8M,KAAK,CAAC8M,MAAM,EAAEvZ,MAAM,IAAIklB,OAAO,CAACmB,cAAc,CAAC9M,MAAM,EAAEvZ,MAAM,EAAE;QAC/D,MAAMulB,8FAA8B,CAChC3S,MAAa,EACb;UACIxW,IAAI,EAAEqQ,KAAK,CAACrQ,IAAI;UAChBjB,QAAQ,EAAEsR,KAAK,CAACtR,QAAQ;UACxB2qB,IAAI,EAAErZ,KAAK,CAAC6jB;SACf,EACD7jB,KAAK,CAAC8M,MAAM,EACZ2L,OAAO,CAACmB,cAAc,CAAC9M,MAAM,CAChC;;MAELmW,MAAI,CAAC/Q,QAAQ,CAACjL,IAAI,CAAC,EAAE,CAAC;MACtB,MAAM;QAAE6S;MAAY,CAAE,GAAG9Z,KAAK;MAC9BijB,MAAI,CAACxB,SAAS,EAAE;MAChBwB,MAAI,CAAC14B,IAAI,EAAE0Z,UAAU,CAAC;QAAE6V;MAAY,CAAE,CAAC;MACvCmJ,MAAI,CAAC7C,YAAY,GAAGja,MAAM;MAC1Boa,cAAc,CAAC6B,OAAO,CAClB,6BAA6B,EAC7B/B,IAAI,CAACgC,SAAS,CAAClc,MAAM,CAAC,CACzB;MACD8c,MAAI,CAACtB,OAAO,CAAC,SAAS,CAAC;MACvB,OAAOxb,MAAM;IAAC;EAClB;EAEa2c,gBAAgBA,CAAA;IAAA,IAAAgB,MAAA;IAAA,OAAA9d,wJAAA;MACzB,MAAM;QAAEub,OAAO;QAAEtX,KAAK;QAAEzR;MAAI,CAAE,GAAGsrB,MAAI,CAAC9R,QAAQ,CAACK,QAAQ,EAAE;MACzD,IAAI,CAACpI,KAAK,EAAE,MAAM,gCAAgC;MAClD,MAAM8Z,aAAa,GAAGxC,OAAO,CAACzvB,MAAM,CAC/BoY,CAAC,IAAKA,CAAC,CAAC3D,KAAK,KAAK/G,4DAAW,EAAE,CAAC+G,KAAK,CACzC;MACD,IAAIwd,aAAa,CAACxwB,MAAM,IAAI,CAAC,EACzB,MAAM,uCAAuC;MACjD,MAAMhJ,IAAI,GAAGu5B,MAAI,CAACv5B,IAAI,CAACyV,KAAK;MAC5B,MAAMoS,UAAU,SAAS0R,MAAI,CAAC/C,mBAAmB,CAC5Cnb,IAAI,CAACsZ,qDAAI,CAAC,CAAC,CAAC,CAAC,CACbzY,SAAS,EAAE;MAChB,MAAMud,eAAe,GAAG5R,UAAU,CAAC5f,IAAI,CAClC0X,CAAC,IAAKA,CAAC,CAACzY,EAAE,KAAKlH,IAAI,CAACslB,QAAQ,IAAI3F,CAAC,CAAC8S,MAAM,KAAKzyB,IAAI,CAACslB,QAAQ,CAC9D;MACD,MAAM6L,KAAK,GAAGoI,MAAI,CAACxlB,IAAI,CAACqd,WAAW,CAAC,CAACqI,eAAe,CAACxR,IAAI,EAAE/gB,EAAE,CAAC,CAAC;MAC/D,MAAMgvB,SAAS,GAAG,CACduD,eAAe,EACf,UAAUF,MAAI,CAACG,mBAAmB,CAC9BvI,KAAK,CAACsB,MAAM,EACZzyB,IAAI,CAACslB,QAAQ,EACbuC,UAAU,EACV2R,aAAa,CAACxwB,MAAM,CACvB,CAAC,CACL;MACD,MAAM2wB,aAAa,GAAGxF,uDAAM,CACxB,CAAClf,4DAAW,EAAE,EAAE,GAAGukB,aAAa,CAAC,EACjC,OAAO,CACV;MACD,MAAM3d,OAAO,CAACC,GAAG,CACb6d,aAAa,CAAC9xB,GAAG,CAAC,CAAC8X,CAAC,EAAEia,GAAG,KACrBL,MAAI,CAACZ,sBAAsB,CACvB;QACI,GAAG34B,IAAI;QACPslB,QAAQ,EAAE4Q,SAAS,CAAC0D,GAAG,CAAC,CAACnH,MAAM,IAAIyD,SAAS,CAAC0D,GAAG,CAAC,CAAC1yB,EAAE;QACpDsoB,UAAU,EAAE7P,CAAC,CAAC3D;OACjB,EACD/N,IAAI,CACP,CACJ,CACJ;MACD,MAAM4rB,UAAU,GAAG,GAAG5kB,4DAAW,EAAE,CAAC+G,KAAK,IAAI7U,qDAAM,CAC/C8T,IAAI,CAAChV,GAAG,EAAE,EACV,YAAY,CACf,GAAG;MACJ,KAAK,IAAIuB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGmyB,aAAa,CAAC3wB,MAAM,EAAExB,CAAC,EAAE,EAAE;QAC3C,MAAMmO,IAAI,GAAGgkB,aAAa,CAACnyB,CAAC,CAAC;QAC7B,MAAMya,KAAK,GAAGiU,SAAS,CAAC1uB,CAAC,CAAC;QAC1B+xB,MAAI,CAACv5B,IAAI,CAAC0Z,UAAU,CAAC;UACjB,GAAG1Z,IAAI;UACP2V,IAAI,EAAEA,IAAW;UACjB6Z,UAAU,EAAE7Z,IAAI,CAACqG,KAAK;UACtBmd,OAAO,EAAExjB,IAAI,CAACzO,EAAE;UAChBoe,QAAQ,EAAErD,KAAK,EAAE/a,EAAE;UACnBuoB,UAAU,EAAExN,KAAK,CAACjd,IAAI;UACtBsJ,WAAW,EAAE2T,KAAK,CAACjd,IAAI;UACvBytB,MAAM,EAAExQ,KAAK,EAAEwQ,MAAM,IAAIxQ,KAAK,EAAE/a,EAAE;UAClCwY,KAAK,EAAEma,UAAU;UACjB3R,KAAK,EAAEjG,KAAK,CAACgG,IAAI,GACXkM,uDAAM,CAAC,CACHoF,MAAI,CAACxlB,IAAI,CAAC+lB,YAAY,CAAC5yB,EAAE,EACzB+a,KAAK,CAACgG,IAAI,EAAEqH,SAAS,EACrBrN,KAAK,CAACgG,IAAI,EAAE/gB,EAAE,CACjB,CAAC,GACF,CAACqyB,MAAI,CAACxlB,IAAI,CAAC+lB,YAAY,CAAC5yB,EAAE;SACnC,CAAC;QACF,MAAMqyB,MAAI,CAACf,QAAQ,CAAC,IAAI,CAAC;;IAC5B;EACL;EAEcH,cAAcA,CAAA;IAAA,IAAA0B,MAAA;IAAA,OAAAte,wJAAA;MACxB,IAAIse,MAAI,CAACxsB,SAAS,CAACC,GAAG,CAAC,4BAA4B,CAAC,KAAK,KAAK,EAAE;MAChE,MAAM2U,GAAG,GAAG4X,MAAI,CAACpc,OAAO,CAACyE,IAAI,CAAC0S,wFAA2B,CAAC;MAC1D,MAAMlZ,MAAM,SAASC,OAAO,CAACme,IAAI,CAAC,CAC9B7X,GAAG,CAACG,iBAAiB,CAACxa,KAAK,CACtBuT,IAAI,CAACqZ,sDAAK,CAAE/U,CAAC,IAAKA,CAAC,CAAC9F,MAAM,KAAK,MAAM,CAAC,CAAC,CACvCqC,SAAS,EAAE,EAChBiG,GAAG,CAACE,WAAW,EAAE,CAACnG,SAAS,EAAE,CAChC,CAAC;MACF,IAAIN,MAAM,EAAE/B,MAAM,KAAK,MAAM,EAAE,MAAM,gBAAgB;MACrD,MAAM7Z,IAAI,GAAGmiB,GAAG,CAACG,iBAAiB,CAACtiB,IAAI,CAACy2B,WAAW,EAAE;MACrD,KAAK,MAAMwD,GAAG,IAAIj6B,IAAI,EAAE;QACpB,IAAIA,IAAI,CAACi6B,GAAG,CAAC,EAAE,MAAM,0BAA0B;;MAEnD9X,GAAG,CAACe,KAAK,EAAE;IAAC;EAChB;EAEA;EACcyV,sBAAsBA,CAChC;IAAErT,QAAQ;IAAElgB,IAAI;IAAEjB,QAAQ;IAAEqrB,UAAU;IAAE8B;EAAO,CAAoB,EACnErjB,IAAiB;IAAA,IAAAisB,MAAA;IAAA,OAAAze,wJAAA;MAEjB,IAAI,CAAC+T,UAAU,EAAE,MAAM,kCAAkC;MACzDrrB,QAAQ,GAAGmtB,OAAO,GAAG,EAAE,GAAG,EAAE,GAAGntB,QAAQ,IAAI,EAAE;MAC7C,MAAM8pB,QAAQ,SAAS5G,2DAAa,CAAC;QACjC3L,YAAY,EAAElB,qDAAW,CAACpV,IAAI,CAAC;QAC/BuW,UAAU,EAAEnB,qDAAW,CAACpV,IAAI,GAAGjB,QAAQ,GAAG,EAAE,GAAG,IAAI,CAAC;QACpD8J;OACH,CAAC,CAACiO,SAAS,EAAE;MACd,IAAI+R,QAAQ,CAAChmB,IAAI,CAAE0X,CAAC,IAAKA,CAAC,CAAC2F,QAAQ,KAAKA,QAAQ,CAAC,EAAE;QAC/C,IAAIA,QAAQ,CAACzY,QAAQ,CAAC,GAAG,CAAC,EAAE;UACxB,MAAM,GAAGyY,QAAQ,8CAA8C;SAClE,MAAM;UACH,MAAM,GAAGA,QAAQ,wCAAwC;;;MAGjE,MAAM6U,gBAAgB,GAClBD,MAAI,CAAC3sB,SAAS,CAACC,GAAG,CAAC,6BAA6BS,IAAI,QAAQ,CAAC,IAAI,CAAC;MACtE,IACIksB,gBAAgB,GAAG,CAAC,IACpBlM,QAAQ,CAAC1mB,MAAM,CACVoY,CAAC,IACEA,CAAC,CAAC6P,UAAU,MAAMA,UAAU,IAAIva,4DAAW,EAAE,EAAE+G,KAAK,CAAC,IACrD2D,CAAC,CAAC+Q,MAAM,KAAK,UAAU,CAC9B,CAAC1nB,MAAM,IAAImxB,gBAAgB,EAC9B;QACE,MAAMC,OAAO,GAAG5K,UAAU,KAAKva,4DAAW,EAAE,EAAE+G,KAAK;QACnD,MAAM,GAAGoe,OAAO,GAAG,KAAK,GAAG5K,UAAU,YACjC4K,OAAO,GAAG,MAAM,GAAG,KACvB,MAAMnsB,IAAI,SAAS;;MAEvB,OAAO,IAAI;IAAC;EAChB;EAEOkoB,gBAAgBA,CAACloB,IAAiB;IACrC,OAAOmmB,qEAAiB,CAAC,IAAI,CAACrgB,IAAI,CAACG,QAAQ,CAAChN,EAAE,EAAE;MAC5ClC,IAAI,EAAEiJ;KACT,CAAC,CAACoN,IAAI,CACHxT,oDAAG,CAAEgW,IAAI,IACLgM,wDAAO,CACHhM,IAAI,CAAChW,GAAG,CAAE8X,CAAC,IACP,CAACA,CAAC,CAAC7F,QAAQ,CAAC7L,IAAI,CAAC,EAAEuL,OAAO,YAAY6c,KAAK,GACrC1W,CAAC,CAAC7F,QAAQ,CAAC7L,IAAI,CAAC,EAAEuL,OAAO,GACzB,EAAE,EACN3R,GAAG,CAAEwyB,CAAC,IACHpsB,IAAY,KAAK,SAAS,GACrB;MACI,GAAGosB,CAAC;MACJnzB,EAAE,EAAEmzB,CAAC,CAACnzB,EAAE,IAAImzB,CAAC,CAAC5H,MAAM;MACpBxK,IAAI,EAAEtI,CAAC,CAACsI;KACX,GACDoS,CAAC,CAACC,OAAO,EAAEzyB,GAAG,CAAE8X,CAAC,KAAM;MACnB,GAAGA,CAAC;MACJ4a,OAAO,EAAEF,CAAC,CAACnzB,EAAE;MACb+gB,IAAI,EAAEtI,CAAC,CAACsI;KACX,CAAC,CAAC,IAAI,EAAE,CAClB,CACJ,CACJ,CACJ,CACJ;EACL;EAEcyR,mBAAmBA,CAC7Bc,OAAe,EACftzB,EAAU,EACVgvB,SAAyB,EACzBnQ,KAAa;IAAA,OAAAtK,wJAAA;MAEb,MAAMgf,gBAAgB,GAAG,EAAE;MAC3B,IAAI5S,UAAU,GAAGqO,SAAS,CAAC3uB,MAAM,CAC5BoY,CAAC,IAAKA,CAAC,CAACzY,EAAE,KAAKA,EAAE,IAAIyY,CAAC,CAAC8S,MAAM,KAAKvrB,EAAE,CACxC;MACD,KAAK,IAAIM,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGue,KAAK,EAAEve,CAAC,EAAE,EAAE;QAC5B,MAAMiW,IAAI,SAASsX,qEAAiB,CAChCyF,OAAO,EACPtzB,EAAE,EACF2gB,UAAU,CAAChgB,GAAG,CAAE8X,CAAC,IAAKA,CAAC,CAAC8S,MAAM,IAAI9S,CAAC,CAACzY,EAAE,CAAC,CAC1C;QACD,IAAIuW,IAAI,EAAE;UACNgd,gBAAgB,CAACxzB,IAAI,CACjBivB,SAAS,CAACjuB,IAAI,CAAE0X,CAAC,IAAKA,CAAC,CAACzY,EAAE,KAAKuW,IAAI,IAAIkC,CAAC,CAAC8S,MAAM,KAAKhV,IAAI,CAAC,CAC5D;UACDoK,UAAU,GAAGA,UAAU,CAACtgB,MAAM,CACzBoY,CAAC,IAAKA,CAAC,CAACzY,EAAE,KAAKuW,IAAI,IAAIkC,CAAC,CAAC8S,MAAM,KAAKhV,IAAI,CAC5C;;;MAGT,OAAOgd,gBAAgB;IAAC;EAC5B;;AA7mBStF,kBAAmB;mBAAnBA,kBAAkB,EAAA91B,uDAAA,CAAAzC,oDAAA,GAAAyC,uDAAA,CAAAH,4DAAA,GAAAG,uDAAA,CAAAiV,+FAAA,GAAAjV,uDAAA,CAAAq7B,gEAAA,GAAAr7B,uDAAA,CAAAs7B,mFAAA;AAAA;AAAlBxF,kBAAmB;SAAnBA,kBAAkB;EAAArM,OAAA,EAAlBqM,kBAAkB,CAAApM,IAAA;EAAAC,UAAA,EAFf;AAAM;;;;;;;;;;;;;;;;;;;;;;;;AChGqC;AACY;AAK3B;AACF;;;;;;;;;AAE1C,MAmDaiM,yBAAyB;EASlC9vB,YACqC41B,MAAe,EACxCxtB,SAA0B;IADD,KAAAwtB,MAAM,GAANA,MAAM;IAC/B,KAAAxtB,SAAS,GAATA,SAAS;IAVL,KAAAytB,YAAY,GAAGF,iGAA6B,CACxD,IAAI,CAACC,MAAa,CACrB;IACe,KAAAE,WAAW,GAAGJ,8FAA0B,CACpD,IAAI,CAACE,MAAa,CACrB;IACe,KAAAG,SAAS,GAAGN,4FAAwB,CAAC,IAAI,CAACG,MAAa,CAAC;EAKrE;;AAZM9F,yBAAyB;mBAAzBA,yBAAyB,EAAA51B,+DAAA,CAUtBgZ,qEAAe,GAAAhZ,+DAAA,CAAAzC,iFAAA;AAAA;AAVlBq4B,yBAAyB;QAAzBA,yBAAyB;EAAA50B,SAAA;EAAAK,KAAA;EAAAC,IAAA;EAAAC,MAAA,WAAAA,CAAA;IAAA,IAAAC,MAAA;IAAA,WAAAC,iBAAA,oBAAAA,iBAAA;;;;;;;eArCXC,SAAA,kFAAiB;;;;;;;;;;eAWjBA,SAAA,0FAAyB;;;;;;;;;;eAWzBA,SAAA,mFAAkB;;;;;;MAjCrC1B,4DAAA,aAA6B;MAAAA,oDAAA,iCAA0B;MAAAA,0DAAA,EAAM;MAC7DA,4DAAA,aAA+D;;MASvDA,uDAAA,aAAkD;MAClDA,4DAAA,WAAW;MAAXA,oDAAA,MAAW;MAAiBA,0DAAA,EAAO;MAEvCA,4DAAA,WAOC;;MACGA,uDAAA,cAA+C;MAC/CA,4DAAA,YAAW;MAAXA,oDAAA,OAAW;MAAyBA,0DAAA,EAAO;MAE/CA,4DAAA,YAOC;;MACGA,4DAAA,mBAA0B;MAAAA,oDAAA,gBAAQ;MAAAA,0DAAA,EAAW;MAC7CA,4DAAA,YAAW;MAAXA,oDAAA,OAAW;MAAkBA,0DAAA,EAAO;MAG5CA,4DAAA,iBAA6D;MAC/CA,oDAAA,aAAK;MAAAA,0DAAA,EAAW;;;MA/BtBA,uDAAA,GAAuC;MAAvCA,wDAAA,SAAAA,yDAAA,OAAA8B,GAAA,CAAA65B,YAAA,UAAA37B,2DAAA,CAAuC;MAWvCA,uDAAA,GAAsC;MAAtCA,wDAAA,SAAAA,yDAAA,OAAA8B,GAAA,CAAA85B,WAAA,UAAA57B,2DAAA,CAAsC;MAWtCA,uDAAA,GAAgC;MAAhCA,wDAAA,SAAAA,yDAAA,QAAA8B,GAAA,CAAA+5B,SAAA,UAAA77B,2DAAA,CAAgC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzC2B;AAYzD;AAYlB,MAAMm8B,eAAe,GAAG,CAAC,MAAM,EAAE,WAAW,EAAE,WAAW,EAAE,QAAQ,EAAE,SAAS,CAAC;AAW9E;AAED;AACM,MAAOhQ,OAAO;EAsEhB,IAAW9L,KAAKA,CAAA;IACZ,OAAO,IAAI,CAAC2P,cAAc,CAAC3P,KAAK,IAAI,EAAE;EAC1C;EAEAva,YAAY0Y,IAAA,GAAiC,EAAE;IAC3C,IAAI,CAAC3W,EAAE,GAAG2W,IAAI,CAAC3W,EAAE,IAAI,EAAE;IACvB,IAAI,CAACoe,QAAQ,GAAGzH,IAAI,CAACyH,QAAQ,IAAI,EAAE;IACnC,IAAI,CAACmK,UAAU,GACX5R,IAAI,CAAC4R,UAAU,IACf5R,IAAI,CAACwR,cAAc,EAAEI,UAAU,IAC/B5R,IAAI,CAACwR,cAAc,EAAErqB,IAAI,IACzB6Y,IAAI,CAACvP,WAAW,IAChB,EAAE;IACN,IAAI,CAAC4Z,KAAK,GAAGrK,IAAI,CAACqK,KAAK,IAAI,EAAE;IAC7B,IAAI,CAAC+K,aAAa,GACd1sB,IAAI,CAACC,KAAK,CAACqX,IAAI,CAACzY,IAAI,GAAG,IAAI,CAAC,IAC5ByY,IAAI,CAACoV,aAAa,IAClBzY,oDAAW,CACP+gB,oDAAqB,CAACjU,oDAAU,CAACrM,IAAI,CAAChV,GAAG,EAAE,EAAE,CAAC,CAAC,EAAE;MAC7Cw1B,SAAS,EAAE;KACd,CAAC,CACL;IACL,IAAI,CAACvI,WAAW,GACZ3sB,IAAI,CAACC,KAAK,CAACqX,IAAI,CAACzY,IAAI,GAAG,IAAI,CAAC,GAAGyY,IAAI,CAAC1Z,QAAQ,GAAG,EAAE,IACjD0Z,IAAI,CAACqV,WAAW,IAChB1Y,oDAAW,CACP8M,oDAAU,CAAC,IAAI,CAAC2L,aAAa,GAAG,IAAI,EAAEpV,IAAI,CAAC1Z,QAAQ,IAAI,EAAE,CAAC,CAC7D;IACL,IAAI,CAACorB,YAAY,GAAG1R,IAAI,CAAC0R,YAAY,IAAI,GAAG;IAC5C,IAAI,CAACthB,IAAI,GAAG4P,IAAI,CAAC5P,IAAI,IAAI4P,IAAI,CAAC0R,YAAY,IAAI,SAAS;IACvD,IAAI,CAACnqB,IAAI,GAAGyY,IAAI,CAACzY,IAAI,IAAI,IAAI,CAAC6tB,aAAa,GAAG,IAAI,IAAIhY,IAAI,CAAChV,GAAG,EAAE;IAChE,IAAI,CAAC9B,QAAQ,GACT0Z,IAAI,CAAC1Z,QAAQ,IACboC,IAAI,CAACm1B,GAAG,CACJJ,oDAAmB,CACf,IAAI,CAACrI,aAAa,GAAG,IAAI,EACzB,IAAI,CAACC,WAAW,GAAG,IAAI,CAC1B,CACJ,IACD,EAAE;IACN,IAAI,CAACyI,QAAQ,GACT9d,IAAI,CAAC8d,QAAQ,IAAIC,IAAI,CAACC,cAAc,EAAE,CAACC,eAAe,EAAE,CAACC,QAAQ;IACrE,IAAI,CAACvM,UAAU,GAAG3R,IAAI,CAAC2R,UAAU,IAAI,EAAE;IACvC,IAAI,CAAC2J,OAAO,GAAGtb,IAAI,CAACsb,OAAO,IAAI,EAAE;IACjC,IAAI,CAACxC,SAAS,GAAG9Y,IAAI,CAAC8Y,SAAS,IAAI,EAAE;IACrC,IAAI,CAACxhB,KAAK,GACN0I,IAAI,CAAC1I,KAAK,KACT,IAAI,CAACoa,YAAY,GACZ,GAAG4L,sEAAqB,CAAC,IAAI,CAAC5L,YAAY,CAAC,UAAU,CAACyM,IAAI,EAAE,GAC5D,EAAE,CAAC;IACb,IAAI,CAAC1tB,WAAW,GAAGuP,IAAI,CAACvP,WAAW,IAAI,EAAE;IACzC,IAAI,CAAC2jB,UAAU,GAAG,CAAC,CAACpU,IAAI,CAACoU,UAAU;IACnC,IAAI,CAACgK,QAAQ,GAAG,CAAC,CAACpe,IAAI,CAACoe,QAAQ;IAC/B,IAAI,CAAC5C,QAAQ,GAAG,CAAC,CAACxb,IAAI,CAACwb,QAAQ;IAC/B,IAAI,CAAC6C,OAAO,GAAG,CAAC,CAACre,IAAI,CAACqe,OAAO;IAC7B,IAAI,CAACC,YAAY,GAAGte,IAAI,CAACse,YAAY,IAAI,EAAE;IAC3C,IAAI,CAACC,cAAc,GAAGve,IAAI,CAACue,cAAc,IAAI,EAAE;IAC/C,IAAI,CAAC9C,eAAe,GAAGzb,IAAI,CAACyb,eAAe,IAAI,EAAE;IACjD,IAAI,CAAC+C,WAAW,GAAGxe,IAAI,CAACwe,WAAW,IAAI,EAAE;IACzC,IAAI,CAACC,cAAc,GAAGze,IAAI,CAACye,cAAc,IAAI,EAAE;IAC/C,IAAI,CAACC,aAAa,GAAG1e,IAAI,CAAC0e,aAAa,IAAI,EAAE;IAC7C,IAAI,CAAClN,cAAc,GAAGxR,IAAI,CAACwR,cAAc,IAAI,EAAE;IAC/C,IAAI,CAACmN,MAAM,GAAG,CAAC,CAAC3e,IAAI,CAACwR,cAAc,EAAEmN,MAAM;IAC3C,IAAI,CAACrN,QAAQ,GAAGtR,IAAI,CAACsR,QAAQ;IAC7B,IAAI,CAAC/R,SAAS,GAAGS,IAAI,CAACT,SAAS,IAAIS,IAAI,CAACmZ,OAAO,IAAI,EAAE;IACrD,IAAI,CAAC1F,OAAO,GAAGzT,IAAI,CAACyT,OAAO,IAAI,IAAI,CAACntB,QAAQ,IAAI,EAAE,GAAG,EAAE;IACvD,IAAI,CAACs4B,cAAc,GAAG5e,IAAI,CAAC4e,cAAc;IACzC,IAAI,CAACC,YAAY,GAAG7e,IAAI,CAAC6e,YAAY,IAAI,IAAI;IAC7C,IAAI,CAAChM,MAAM,GACP,IAAI,CAAC+L,cAAc,GAAG,CAAC,GACjB,OAAO,GACP,IAAI,CAACR,QAAQ,GACb,UAAU,GACV,IAAI,CAAC5C,QAAQ,GACb,UAAU,GACV,WAAW;IACrB,KAAK,MAAMY,GAAG,IAAIpc,IAAI,EAAE;MACpB,IAAI,EAAEoc,GAAG,IAAI,IAAI,CAAC,IAAI,CAACuB,eAAe,CAAC3uB,QAAQ,CAACotB,GAAG,CAAC,IAAIpc,IAAI,CAACoc,GAAG,CAAC,EAAE;QAC/D,IAAI,CAAC5K,cAAc,CAAC4K,GAAG,CAAC,GACpBpc,IAAI,CAACoc,GAAG,CAAC,IAAI,IAAI,CAAC5K,cAAc,CAAC4K,GAAG,CAAC;;;EAGrD;EAEO0C,MAAMA,CAAA;IACT,MAAM9e,IAAI,GAAG;MAAE,GAAG;IAAI,CAAE;IACxB,IAAI,CAAC,IAAI,CAAC3W,EAAE,EAAE,OAAO2W,IAAI,CAAC3W,EAAE;IAC5B,OAAO2W,IAAI,CAACzY,IAAI;IAChB,OAAOyY,IAAI,CAAC1Z,QAAQ;IACpBi3B,kEAAiB,CAACvd,IAAI,CAAC;IACvB,OAAOA,IAAI;EACf;EAEA,IAAWqS,QAAQA,CAAA;IACf,OAAO,IAAI,CAAC5hB,WAAW;EAC3B;EAEA;EACA,IAAW4iB,QAAQA,CAAA;IACf,OAAOtB,oDAAS,CAAC,IAAI,CAACxqB,IAAI,EAAE,IAAI6V,IAAI,EAAE,CAAC;EAC3C;EAEA;EACA,IAAWwV,OAAOA,CAAA;IACd,MAAM9qB,KAAK,GAAG,IAAIsV,IAAI,EAAE;IACxB,MAAMpV,GAAG,GAAG,IAAI,CAACyrB,OAAO,GAClB+J,oDAAQ,CAAC,IAAI,CAACj2B,IAAI,EAAE,EAAE,CAAC,GACvBkiB,oDAAU,CAAC,IAAI,CAACliB,IAAI,EAAE,IAAI,CAACjB,QAAQ,CAAC;IAC1C,MAAMy4B,WAAW,GACb,CAAC,IAAI,CAACH,cAAc,IAAI,IAAI,CAACpN,cAAc,CAACoN,cAAc,IAAI,CAAC,IAC/D,IAAI;IACR,IAAI3yB,QAAQ,GAAGjE,GAAG,CAACg3B,OAAO,EAAE;IAC5B,IAAID,WAAW,IAAI3hB,IAAI,CAAChV,GAAG,EAAE,GAAG22B,WAAW,EAAE,OAAO,IAAI;IACxD,OAAOl1B,oDAAO,CAAC/B,KAAK,EAAE,IAAIsV,IAAI,CAACnR,QAAQ,CAAC,CAAC;EAC7C;EAEA;EACA,IAAWqc,KAAKA,CAAA;IAMZ,MAAMlgB,GAAG,GAAG,IAAIgV,IAAI,EAAE;IACtB,MAAM7V,IAAI,GAAG,IAAI,CAACA,IAAI;IACtB,IAAI4B,oDAAQ,CAACf,GAAG,EAAEE,oDAAG,CAACf,IAAI,EAAE;MAAEwR,OAAO,EAAE,CAAC;IAAE,CAAE,CAAC,CAAC,EAAE,OAAO,QAAQ;IAC/D,IAAI5P,oDAAQ,CAACf,GAAG,EAAEb,IAAI,CAAC,EAAE,OAAO,UAAU;IAC1C,IAAI4B,oDAAQ,CAACf,GAAG,EAAEE,oDAAG,CAACf,IAAI,EAAE;MAAEwR,OAAO,EAAE;IAAE,CAAE,CAAC,CAAC,EAAE,OAAO,SAAS;IAC/D,IAAI5P,oDAAQ,CAACf,GAAG,EAAEE,oDAAG,CAACf,IAAI,EAAE;MAAEwR,OAAO,EAAE,IAAI,CAACzS;IAAQ,CAAE,CAAC,CAAC,EACpD,OAAO,aAAa;IACxB,OAAO,MAAM;EACjB;;;;;;;;;;;;;;;;;;;;;;;;AC/OgE;AACtB;AAEe;AAMhC;AACa;AAEpC,SAAUywB,mBAAmBA,CAAC1G,OAAA,GAAmB,IAAI1C,mDAAO,EAAE;EAChE,MAAMxrB,IAAI,GAAG,IAAIb,qDAAS,CAAC;IACvB+H,EAAE,EAAE,IAAIiR,uDAAW,CAAC+V,OAAO,CAAChnB,EAAE,IAAI,EAAE,CAAC;IACrC9B,IAAI,EAAE,IAAI+S,uDAAW,CAAC+V,OAAO,CAAC9oB,IAAI,EAAE,CAACgT,+DAAmB,CAAC,CAAC;IAC1DkZ,OAAO,EAAE,IAAInZ,uDAAW,CAAC+V,OAAO,CAACoD,OAAO,IAAI,KAAK,CAAC;IAClDtsB,IAAI,EAAE,IAAImT,uDAAW,CACjB+V,OAAO,CAACmB,cAAc,CAACrqB,IAAI,IAAIkpB,OAAO,CAACuB,UAAU,IAAI,EAAE,CAC1D;IACDtrB,QAAQ,EAAE,IAAIgU,uDAAW,CAAC+V,OAAO,CAAC/pB,QAAQ,EAAE,CAAC24B,uEAAW,CAAC,CAAC;IAC1DvN,YAAY,EAAE,IAAIpX,uDAAW,CAAC+V,OAAO,CAACqB,YAAY,CAAC;IACnDrH,KAAK,EAAE,IAAI/P,uDAAW,CAAC+V,OAAO,CAAChG,KAAK,CAAC;IACrC/S,KAAK,EAAE,IAAIgD,uDAAW,CAAC+V,OAAO,CAAC/Y,KAAK,CAAC;IACrC7G,WAAW,EAAE,IAAI6J,uDAAW,CAAC+V,OAAO,CAAC5f,WAAW,CAAC;IACjD4uB,aAAa,EAAE,IAAI/kB,uDAAW,CAAC,IAAI,CAAC;IACpC+d,SAAS,EAAE,IAAI/d,uDAAW,CAAC,EAAE,CAAC;IAC9BglB,OAAO,EAAE,IAAIhlB,uDAAW,CAAC,EAAE,CAAC;IAC5BmN,QAAQ,EAAE,IAAInN,uDAAW,CAAC+V,OAAO,CAAC5I,QAAQ,EAAE,CAAClN,+DAAmB,CAAC,CAAC;IAClEqX,UAAU,EAAE,IAAItX,uDAAW,CAAC+V,OAAO,CAAC5f,WAAW,CAAC;IAChDiU,MAAM,EAAE,IAAIpK,uDAAW,CAAC+V,OAAO,CAACmB,cAAc,EAAE9M,MAAM,IAAI,EAAE,CAAC;IAC7DnF,SAAS,EAAE,IAAIjF,uDAAW,CAAC+V,OAAO,CAAC9Q,SAAS,IAAI,EAAE,CAAC;IACnDqV,MAAM,EAAE,IAAIta,uDAAW,CAAC+V,OAAO,CAACmB,cAAc,EAAEoD,MAAM,CAAC;IACvD9c,IAAI,EAAE,IAAIwC,uDAAW,CAAClD,4DAAW,EAAE,CAAC;IACpCkkB,OAAO,EAAE,IAAIhhB,uDAAW,CAAC+V,OAAO,CAACiL,OAAO,CAAC;IACzCzZ,KAAK,EAAE,IAAIvH,uDAAW,CAAC+V,OAAO,CAACxO,KAAK,CAAC;IACrC8P,UAAU,EAAE,IAAIrX,uDAAW,CAAC+V,OAAO,CAACsB,UAAU,CAAC;IAC/CmI,SAAS,EAAE,IAAIxf,uDAAW,CAAClD,4DAAW,EAAE,CAAC;IACzCknB,YAAY,EAAE,IAAIhkB,uDAAW,CAAC+V,OAAO,CAACiO,YAAY,CAAC;IACnD7C,eAAe,EAAE,IAAInhB,uDAAW,CAAC+V,OAAO,CAACoL,eAAe,CAAC;IACzD8D,kBAAkB,EAAE,IAAIjlB,uDAAW,CAC/B+V,OAAO,CAACmB,cAAc,EAAEgO,gBAAgB,IACpCnP,OAAO,CAACmB,cAAc,EAAE+N,kBAAkB;GAErD,CAAC;EACFp9B,IAAI,CAAC01B,YAAY,CAACpa,SAAS,CAAEgiB,CAAC,IAAI;IAC9B,MAAM3nB,IAAI,GAAG2nB,CAAC,CAAC3nB,IAAI;IACnB,MAAM4nB,MAAM,GAAGD,CAAC,CAAC3F,SAAS;IAC1B4F,MAAM,IAAI5nB,IAAI,GACR3V,IAAI,CAAC0Z,UAAU,CACX;MACIyf,OAAO,EAAExjB,IAAI,CAACzO,EAAE,IAAIq2B,MAAM,CAACr2B,EAAE;MAC7BsoB,UAAU,EAAE7Z,IAAI,CAACqG,KAAK,IAAIuhB,MAAM,CAACr2B,EAAE;MACnCi1B,YAAY,EAAEoB,MAAM,CAACr2B,EAAE;MACvBoyB,eAAe,EAAEiE,MAAM,CAACvhB;KAC3B,EACD;MAAEwhB,SAAS,EAAE;IAAK,CAAE,CACvB,GACD,EAAE;EACZ,CAAC,CAAC;EACFx9B,IAAI,CAACC,QAAQ,CAACqxB,OAAO,CAACoE,YAAY,CAACpa,SAAS,CAAEgW,OAAO,IAAI;IACrD,IAAIA,OAAO,EAAEtxB,IAAI,CAACC,QAAQ,CAACkE,QAAQ,CAACs5B,OAAO,EAAE,CAAC,KACzCz9B,IAAI,CAACC,QAAQ,CAACkE,QAAQ,CAACozB,MAAM,EAAE;EACxC,CAAC,CAAC;EACF,OAAOv3B,IAAI;AACf;AAEO,SAAe+0B,iBAAiBA,CAAA1Y,EAAA,EAAAmS,GAAA;EAAA,OAAAkP,kBAAA,CAAAphB,KAAA,OAAAC,SAAA;AAAA;AAkCtC,SAAAmhB,mBAAA;EAAAA,kBAAA,GAAAjiB,wJAAA,CAlCM,WACH+e,OAAe,EACfmD,WAA2B,EAC3BC,QAAA,GAAqB,EAAE;IAEvB,MAAMC,OAAO,GAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IAC7CF,OAAO,CAACG,KAAK,CAACC,QAAQ,GAAG,UAAU;IACnCJ,OAAO,CAACG,KAAK,CAACr0B,GAAG,GAAG,SAAS;IAC7Bk0B,OAAO,CAACG,KAAK,CAACv0B,KAAK,GAAG,QAAQ;IAC9Bo0B,OAAO,CAACG,KAAK,CAACp0B,MAAM,GAAG,QAAQ;IAC/Bk0B,QAAQ,CAAC1Q,IAAI,CAAC8Q,WAAW,CAACL,OAAO,CAAC;IAClC,MAAM32B,EAAE,SAAS61B,iEAAY,CAAC;MAC1BlpB,GAAG,EAAE2mB,OAAO;MACZqD;KACH,CAAC;IACF,MAAMM,MAAM,GAAGnB,8DAAS,CAAC91B,EAAE,CAAC;IAC5B,MAAMk3B,KAAK,GAAG,CAAC,OAAOT,WAAW,KAAK,QAAQ,GACxCQ,MAAM,CAACE,QAAQ,CAACV,WAAW,CAAC,GAC5BA,WAAW,KAAK;MAAE70B,CAAC,EAAE,GAAG;MAAEI,CAAC,EAAE;IAAG,CAAE;IACxC,IAAIo1B,IAAI,GAAG,EAAE;IACb,IAAIC,OAAO,GAAG,EAAE;IAChB,KAAK,MAAMC,IAAI,IAAIZ,QAAQ,EAAE;MACzB,MAAM;QAAE90B,CAAC;QAAEI;MAAC,CAAE,GAAGi1B,MAAM,CAACE,QAAQ,CAACG,IAAI,CAAC,IAAI;QAAE11B,CAAC,EAAE,CAAC;QAAEI,CAAC,EAAE;MAAC,CAAE;MACxD,MAAMmxB,CAAC,GAAG9zB,IAAI,CAACk4B,IAAI,CACf,CAAC31B,CAAC,GAAGs1B,KAAK,CAACt1B,CAAC,KAAKA,CAAC,GAAGs1B,KAAK,CAACt1B,CAAC,CAAC,GAAG,CAACI,CAAC,GAAGk1B,KAAK,CAACl1B,CAAC,KAAKA,CAAC,GAAGk1B,KAAK,CAACl1B,CAAC,CAAC,CAChE;MACD,IAAImxB,CAAC,GAAGiE,IAAI,EAAE;QACVA,IAAI,GAAGjE,CAAC;QACRkE,OAAO,GAAGC,IAAI;;;IAGtBV,QAAQ,CAAC1Q,IAAI,CAACsR,WAAW,CAACb,OAAO,CAAC;IAClCZ,iEAAY,CAAC/1B,EAAE,CAAC;IAChB,OAAOq3B,OAAO;EAClB,CAAC;EAAA,OAAAb,kBAAA,CAAAphB,KAAA,OAAAC,SAAA;AAAA;AAEK,SAAUoiB,2BAA2BA,CAAC72B,KAAoB;EAC5D,OAAO,IAAI0jB,mDAAO,CAAC;IACftkB,EAAE,EAAEY,KAAK,CAACZ,EAAE;IACZsoB,UAAU,EAAE1nB,KAAK,CAACgnB,IAAI;IACtBxJ,QAAQ,EAAExd,KAAK,CAAC82B,MAAM,EAAE13B,EAAE;IAC1BuoB,UAAU,EAAE3nB,KAAK,CAAC82B,MAAM,EAAEvN,YAAY,IAAIvpB,KAAK,CAAC82B,MAAM,EAAE55B,IAAI;IAC5DuqB,YAAY,EAAE,MAAM;IACpB8J,QAAQ,EAAEvxB,KAAK,CAAC4oB,MAAM,KAAK,UAAU;IACrCrB,cAAc,EAAE;MACZ,GAAGvnB;;GAEV,CAAC;AACN;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnHgE;AAC1B;AACW;AAEO;AACD;AACG;AACP;AAyBnD,MAAMi3B,iBAAiB,GAAG,wBAAwB;AAElD;;;;AAIM,SAAU1X,aAAaA,CAACuE,CAAsB;EAChD,MAAMD,KAAK,GAAGN,sEAAa,CAACO,CAAC,CAAC;EAC9B,OAAOpe,uDAAG,CAAC,GAAGuxB,iBAAiB,GAAGpT,KAAK,GAAG,GAAG,GAAGA,KAAK,GAAG,EAAE,EAAE,CAAC,CAACtQ,IAAI,CAC9DxT,mDAAG,CAAEue,IAAI,IAAKA,IAAI,CAACve,GAAG,CAAE4V,IAAI,IAAK,IAAI+N,mDAAO,CAAC/N,IAAI,CAAC,CAAC,CAAC,EACpDuJ,0DAAU,CAAErH,CAAC,IAAKoH,wCAAE,CAAC,EAAE,CAAC,CAAC,CAC5B;AACL;AAEA;;;;;AAKM,SAAUiY,WAAWA,CAAC93B,EAAU;EAClC,OAAOsG,uDAAG,CAAC,GAAGuxB,iBAAiB,IAAIE,kBAAkB,CAAC/3B,EAAE,CAAC,EAAE,CAAC,CAACmU,IAAI,CAC7DxT,mDAAG,CAAE4V,IAAI,IAAK,IAAI+N,mDAAO,CAAC/N,IAAI,CAAC,CAAC,CACnC;AACL;AAEA;;;;AAIM,SAAU6N,aAAaA,CAACzN,IAAsB,EAAG+N,CAA4C;EAC/F,MAAMD,KAAK,GAAGN,sEAAa,CAACO,CAAC,CAAC;EAC9B,OAAOT,wDAAI,CAAC,GAAG4T,iBAAiB,GAAGpT,KAAK,GAAG,GAAG,GAAGA,KAAK,GAAG,EAAE,EAAE,EAAE9N,IAAI,CAAC,CAACxC,IAAI,CACrExT,mDAAG,CAAE4V,IAAI,IAAK,IAAI+N,mDAAO,CAAC/N,IAAI,CAAC,CAAC,CACnC;AACL;AAEA;;;;;;AAMM,SAAUyhB,aAAaA,CACzBh4B,EAAU,EACV2W,IAAsB,EACtBshB,MAAA,GAA0B,OAAO;EAEjC,OAAO,CAACA,MAAM,KAAK,OAAO,GAAGN,qDAAK,GAAGzT,mDAAG,EACpC,GAAG2T,iBAAiB,IAAIE,kBAAkB,CAAC/3B,EAAE,CAAC,EAAE,EAChD2W,IAAI,CACP,CAACxC,IAAI,CAACxT,mDAAG,CAAE4V,IAAI,IAAK,IAAI+N,mDAAO,CAAC/N,IAAI,CAAC,CAAC,CAAC;AAC5C;AAEA;;;;;AAKO,MAAMoX,WAAW,GAAGA,CAAChX,IAAsB,EAAE+N,CAA4C,KAC5F/N,IAAI,CAAC3W,EAAE,GAAGg4B,aAAa,CAACrhB,IAAI,CAAC3W,EAAE,EAAE2W,IAAI,CAAC,GAAGyN,aAAa,CAACzN,IAAI,EAAE+N,CAAC,CAAC;AAEnE;;;;;AAKM,SAAUL,aAAaA,CAACrkB,EAAU;EACpC,OAAOgkB,uDAAG,CAAC,GAAG6T,iBAAiB,IAAIE,kBAAkB,CAAC/3B,EAAE,CAAC,EAAE,EAAE;IACzDk4B,aAAa,EAAE;GAClB,CAAC;AACN;AAEA;;;;;AAKM,SAAUC,cAAcA,CAACn4B,EAAU;EACrC,OAAOikB,wDAAI,CACP,GAAG4T,iBAAiB,IAAIE,kBAAkB,CAAC/3B,EAAE,CAAC,UAAU,EACxD,EAAE,CACL,CAACmU,IAAI,CAACxT,mDAAG,CAAE4V,IAAI,IAAK,IAAI+N,mDAAO,CAAC/N,IAAI,CAAC,CAAC,CAAC;AAC5C;AAEA;;;;;AAKM,SAAU6hB,aAAaA,CAACp4B,EAAU;EACpC,OAAOikB,wDAAI,CACP,GAAG4T,iBAAiB,IAAIE,kBAAkB,CAAC/3B,EAAE,CAAC,SAAS,EACvD,EAAE,CACL,CAACmU,IAAI,CAACxT,mDAAG,CAAE4V,IAAI,IAAK,IAAI+N,mDAAO,CAAC/N,IAAI,CAAC,CAAC,CAAC;AAC5C;AAEA;;;;;AAKM,SAAUuU,cAAcA,CAAC9qB,EAAU,EAAEif,KAAc;EACrD,MAAMwF,KAAK,GAAGN,sEAAa,CAAC;IAAElF;EAAK,CAAE,CAAC;EACtC,OAAOgF,wDAAI,CACP,GAAG4T,iBAAiB,IAAIE,kBAAkB,CAAC/3B,EAAE,CAAC,aAAaykB,KAAK,EAAE,EAClE,EAAE,CACL,CAACtQ,IAAI,CAACxT,mDAAG,CAAE4V,IAAI,IAAK,IAAI+N,mDAAO,CAAC/N,IAAI,CAAC,CAAC,CAAC;AAC5C;AAEA;;;;;AAKM,SAAU8hB,sBAAsBA,CAClCr4B,EAAU,EACV8U,KAAa,EACbmK,KAAc;EAEd,MAAMwF,KAAK,GAAGN,sEAAa,CAAC;IAAElF;EAAK,CAAE,CAAC;EACtC,OAAOgF,wDAAI,CACP,GAAG4T,iBAAiB,IAAIE,kBAAkB,CACtC/3B,EAAE,CACL,WAAW+3B,kBAAkB,CAACjjB,KAAK,CAAC,aAAa2P,KAAK,EAAE,EACzD,EAAE,CACL,CAACtQ,IAAI,CAACxT,mDAAG,CAAE4V,IAAI,IAAK,IAAIqhB,oEAAS,CAACrhB,IAAI,CAAC,CAAC,CAAC;AAC9C;AAEA;;;;;AAKM,SAAU+hB,yBAAyBA,CACrCrS,OAAiB,EACjBxnB,KAAa,EACbxB,QAAgB,EAChBikB,MAAe,EACfna,IAAA,GAAoB,MAAM;EAE1B,OAAOoZ,aAAa,CAAC;IACjBpZ,IAAI;IACJyN,YAAY,EAAElB,oDAAW,CAAC7U,KAAK,CAAC;IAChCgW,UAAU,EAAEnB,oDAAW,CAAC8M,oDAAU,CAAC3hB,KAAK,EAAExB,QAAQ,CAAC;GACtD,CAAC,CAACkX,IAAI,CACHxT,mDAAG,CAAE8X,CAAC,IACFwN,OAAO,CAACtlB,GAAG,CACNX,EAAE,IACC,CAACyY,CAAC,CAAC1X,IAAI,CACFoM,CAAC,IAAKA,CAAC,CAACiR,QAAQ,KAAKpe,EAAE,KAAK,CAACkhB,MAAM,IAAIA,MAAM,KAAK/T,CAAC,CAACnN,EAAE,CAAC,CAC3D,CACR,CACJ,CACJ;AACL;AAEM,SAAUu4B,mBAAmBA,CAC/Bv4B,EAAU,EACVvB,KAAa,EACbxB,QAAgB,EAChBikB,MAAe,EACfna,IAAA,GAAoB,MAAM;EAE1B,OAAOoZ,aAAa,CAAC;IACjBpZ,IAAI;IACJyN,YAAY,EAAElB,oDAAW,CAAC7U,KAAK,CAAC;IAChCgW,UAAU,EAAEnB,oDAAW,CAAC8M,oDAAU,CAAC3hB,KAAK,EAAExB,QAAQ,CAAC;GACtD,CAAC,CAACkX,IAAI,CACHxT,mDAAG,CACE8X,CAAC,IACEA,CAAC,CAACpY,MAAM,CAAEoY,CAAC,IAAKA,CAAC,CAAC2F,QAAQ,KAAKpe,EAAE,IAAIyY,CAAC,CAACzY,EAAE,KAAKkhB,MAAM,CAAC,CAACpf,MAAM,KAC5D,CAAC,CACR,CACJ;AACL;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9M+C;AAEmB;AACP;AACI;AAEI;AACR;AACO;AACT;AACqB;AACrB;AAEoB;AACE;AAEf;AACiB;AAEN;AACI;AACG;AACe;AACf;AACN;AACF;AACiB;AACd;AACmB;AACe;AACf;AACN;AACe;AACX;AACW;AACnB;AACjB;AACM;AACJ;AACd;AACK;AACD;AACoC;AACxB;AACe;AACe;AACZ;AACX;;AAEhF,MAAMyJ,UAAU,GAAG,CACfqiB,wFAA2B,EAC3B6K,oFAAyB,EACzBO,uFAA0B,EAC1BrQ,0FAA4B,EAC5Be,yEAAoB,EACpBqE,qFAAyB,EAEzBwL,mHAAgC,EAChCJ,0GAA4B,EAC5BD,yHAAmC,EACnCE,oGAAyB,EACzBC,mHAAgC,EAChCC,wGAA8B,EAC9BL,0GAA4B,EAC5BO,gGAA8B,EAE9BT,qGAAwB,EACxBL,2FAAoB,EACpBE,2FAAoB,EACpBD,0GAA2B,EAC3BE,qFAAiB,EACjBC,oFAAgB,EAChBW,+EAAsB,EAEtBC,wEAAmB,EACnBE,mFAAwB,EACxBD,2GAA0B,EAC1BE,kGAAsB,EACtBC,iHAA6B,EAC7BC,qGAAuB,EACvBC,0FAAkB,CACrB;AACD,MAuBaljC,oBAAoB;AAApBA,oBAAoB;mBAApBA,oBAAoB;AAAA;AAApBA,oBAAoB;QAApBA;AAAoB;AAApBA,oBAAoB;aAHlB,CAAC4S,gEAAmB,CAAC;EAAAjU,OAAA,GAjB5B+T,0DAAY,EACZzT,wDAAW,EACX2T,gEAAmB,EACnBoB,oEAAc,EACdT,oEAAc,EACdD,6EAAkB,EAClBouB,8EAAmB,EACnB5uB,sEAAe,EACfO,sEAAe,EACfG,yFAAwB,EACxBK,0EAAiB,EACjBhB,kFAAqB,EACrBG,yFAAgB,EAChBD,uFAAgB,EAChBY,oEAAe,EACfI,wEAAgB;AAAA;AAKS;;uHAApB/T,oBAAoB;IAAAiB,YAAA,GAvD7B61B,wFAA2B,EAC3B6K,oFAAyB,EACzBO,uFAA0B,EAC1BrQ,0FAA4B,EAC5Be,yEAAoB,EACpBqE,qFAAyB,EAEzBwL,mHAAgC,EAChCJ,0GAA4B,EAC5BD,yHAAmC,EACnCE,oGAAyB,EACzBC,mHAAgC,EAChCC,wGAA8B,EAC9BL,0GAA4B,EAC5BO,gGAA8B,EAE9BT,qGAAwB,EACxBL,2FAAoB,EACpBE,2FAAoB,EACpBD,0GAA2B,EAC3BE,qFAAiB,EACjBC,oFAAgB,EAChBW,+EAAsB,EAEtBC,wEAAmB,EACnBE,mFAAwB,EACxBD,2GAA0B,EAC1BE,kGAAsB,EACtBC,iHAA6B,EAC7BC,qGAAuB,EACvBC,0FAAkB;IAAAvkC,OAAA,GAKd+T,0DAAY,EACZzT,wDAAW,EACX2T,gEAAmB,EACnBoB,oEAAc,EACdT,oEAAc,EACdD,6EAAkB,EAClBouB,8EAAmB,EACnB5uB,sEAAe,EACfO,sEAAe,EACfG,yFAAwB,EACxBK,0EAAiB,EACjBhB,kFAAqB,EACrBG,yFAAgB,EAChBD,uFAAgB,EAChBY,oEAAe,EACfI,wEAAgB;IAAAlV,OAAA,GAlDpBi4B,wFAA2B,EAC3B6K,oFAAyB,EACzBO,uFAA0B,EAC1BrQ,0FAA4B,EAC5Be,yEAAoB,EACpBqE,qFAAyB,EAEzBwL,mHAAgC,EAChCJ,0GAA4B,EAC5BD,yHAAmC,EACnCE,oGAAyB,EACzBC,mHAAgC,EAChCC,wGAA8B,EAC9BL,0GAA4B,EAC5BO,gGAA8B,EAE9BT,qGAAwB,EACxBL,2FAAoB,EACpBE,2FAAoB,EACpBD,0GAA2B,EAC3BE,qFAAiB,EACjBC,oFAAgB,EAChBW,+EAAsB,EAEtBC,wEAAmB,EACnBE,mFAAwB,EACxBD,2GAA0B,EAC1BE,kGAAsB,EACtBC,iHAA6B,EAC7BC,qGAAuB,EACvBC,0FAAkB;EAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;AChFkD;AACb;AAEI;;;;;;;;;;;;;;IAqBnD7hC,4DAAA,gBAA+C;IACjBA,oDAAA,YAAK;IAAAA,0DAAA,EAAI;;;;;;IAKnCA,4DAAA,cAAqD;IACjDA,oDAAA,OAAY;IAAIA,0DAAA,EAAQ;IACxBA,4DAAA,8BAEC;IADGA,wDAAA,2BAAA8hC,qGAAAx2B,MAAA;MAAAtL,2DAAA,CAAA+wB,GAAA;MAAA,MAAArkB,MAAA,GAAA1M,2DAAA;MAAA,OAAAA,yDAAA,CAAA0M,MAAA,CAAA+iB,IAAA,GAAAnkB,MAAA;IAAA,EAAkB;IACrBtL,0DAAA,EAAsB;;;;IADnBA,uDAAA,GAAkB;IAAlBA,wDAAA,YAAA4E,MAAA,CAAA6qB,IAAA,CAAkB;;;;;IAKtBzvB,4DAAA,UAA2B;IACvBA,oDAAA,GACJ;;IAAAA,0DAAA,EAAM;;;;IADFA,uDAAA,GACJ;IADIA,gEAAA,MAAAA,yDAAA,OAAAqM,MAAA,CAAAtG,IAAA,qBACJ;;;;;;IACA/F,4DAAA,uBAGC;IADGA,wDAAA,2BAAA+hC,uGAAAz2B,MAAA;MAAAtL,2DAAA,CAAA+C,IAAA;MAAA,MAAAG,OAAA,GAAAlD,2DAAA;MAAA,OAAAA,yDAAA,CAAAkD,OAAA,CAAA6C,IAAA,GAAAuF,MAAA;IAAA,EAAkB;IACrBtL,0DAAA,EAAe;;;;IADZA,wDAAA,YAAAmU,MAAA,CAAApO,IAAA,CAAkB;;;;;;IAG1B/F,4DAAA,cAA4D;IACxDA,oDAAA,OAAY;IAAMA,0DAAA,EAAQ;IAC1BA,4DAAA,yBAAqC;IAG7BA,wDAAA,2BAAAgiC,uFAAA12B,MAAA;MAAAtL,2DAAA,CAAA+D,IAAA;MAAA,MAAAC,OAAA,GAAAhE,2DAAA;MAAA,OAAAA,yDAAA,CAAAgE,OAAA,CAAAwW,MAAA,GAAAlP,MAAA;IAAA,EAAoB;IAFxBtL,0DAAA,EAIE;;;;IAFEA,uDAAA,GAAoB;IAApBA,wDAAA,YAAAqU,MAAA,CAAAmG,MAAA,CAAoB;;;;;;IAvBxCxa,qEAAA,GAAgD;IAC5CA,4DAAA,cAAkB;IACdA,wDAAA,IAAAiiC,uDAAA,iBAKM;IACNjiC,4DAAA,aAAuB;IACnBA,oDAAA,OAAY;IAAIA,0DAAA,EAAQ;IACxBA,wDAAA,IAAAkiC,uDAAA,kBAEM;IACNliC,wDAAA,IAAAmiC,gEAAA,2BAGgB;IACpBniC,0DAAA,EAAM;IACNA,wDAAA,IAAAoiC,uDAAA,kBASM;IACNpiC,4DAAA,QAAQ;IAARA,oDAAA,QAAQ;IAIRA,0DAAA,EAAI;IAERA,4DAAA,kBAAqD;IAC3BA,wDAAA,mBAAAqiC,2EAAA;MAAAriC,2DAAA,CAAAilB,IAAA;MAAA,MAAA9gB,OAAA,GAAAnE,2DAAA;MAAA,OAASA,yDAAA,CAAAmE,OAAA,CAAAm+B,OAAA,EAAS;IAAA,EAAC;IAAzCtiC,oDAAA,QAA+C;IAAOA,0DAAA,EAAS;IAEvEA,mEAAA,EAAe;;;;IAnC0BA,uDAAA,GAAkB;IAAlBA,wDAAA,SAAA4N,MAAA,CAAA20B,YAAA,CAAkB;IAQzCviC,uDAAA,GAAmB;IAAnBA,wDAAA,UAAA4N,MAAA,CAAA40B,YAAA,CAAmB;IAIpBxiC,uDAAA,GAAkB;IAAlBA,wDAAA,SAAA4N,MAAA,CAAA40B,YAAA,CAAkB;IAIaxiC,uDAAA,GAAkB;IAAlBA,wDAAA,UAAA4N,MAAA,CAAA60B,WAAA,CAAkB;IAc1DziC,uDAAA,GAAI;IAAJA,uDAAA,CAAA4N,MAAA,CAAA80B,KAAA,CAAA/4B,MAAA,kBAAI,CAAAiE,MAAA,CAAA+0B,SAAA,GAAA/0B,MAAA,CAAAkkB,KAAA,kBAAAlkB,MAAA,CAAAkkB,KAAA,CAAAE,YAAA,MAAApkB,MAAA,CAAAkkB,KAAA,kBAAAlkB,MAAA,CAAAkkB,KAAA,CAAAnsB,IAAA;IAAJ3F,yDAAA,IAAI;;;;;IAORA,4DAAA,eAAkE;IAC9DA,uDAAA,sBAAwD;IACxDA,4DAAA,QAAG;IAAAA,oDAAA,GAAa;IAAAA,0DAAA,EAAI;;;;IADPA,uDAAA,GAAe;IAAfA,wDAAA,gBAAe;IACzBA,uDAAA,GAAa;IAAbA,+DAAA,CAAA0D,MAAA,CAAAmM,OAAA,CAAa;;;AAnDhC,MAgEaywB,yBAAyB;EAgBlC,IAAWqC,SAASA,CAAA;IAChB,OAAO,IAAI,CAACD,KAAK,CAACl6B,GAAG,CAAE8X,CAAC,IAAKA,CAAC,CAAC3a,IAAI,CAAC,CAAC8gB,IAAI,CAAC,IAAI,CAAC;EACnD;EAEA,IAAWgc,WAAWA,CAAA;IAClB,OAAO,CAAC,CAAC,IAAI,CAACv0B,SAAS,CAACC,GAAG,CAAC,uBAAuB,CAAC;EACxD;EAEA,IAAWo0B,YAAYA,CAAA;IACnB,OAAO,CAAC,CAAC,IAAI,CAACr0B,SAAS,CAACC,GAAG,CAAC,+BAA+B,CAAC;EAChE;EAEArI,YACqCoU,KAA2B,EACpDhM,SAA0B;IADD,KAAAgM,KAAK,GAALA,KAAK;IAC9B,KAAAhM,SAAS,GAATA,SAAS;IA7BJ,KAAAzF,KAAK,GAAG,IAAIvG,uDAAY,EAAe;IAExC,KAAAwgC,KAAK,GAAG,IAAI,CAACxoB,KAAK,CAACwoB,KAAK,IAAI,EAAE;IAEvC,KAAA38B,IAAI,GAAG,IAAI,CAACmU,KAAK,CAACnU,IAAI;IACtB,KAAA0pB,IAAI,GAAG,IAAI,CAACvV,KAAK,CAACuV,IAAI;IAEb,KAAA+S,YAAY,GAAG,IAAI,CAACtoB,KAAK,CAACsoB,YAAY;IAE/C,KAAAhoB,MAAM,GAAG,IAAI,CAACN,KAAK,CAACM,MAAM;IAEjB,KAAAsX,KAAK,GAAG,IAAI,CAAC5X,KAAK,CAAC4X,KAAK;EAmBrC;EAEIwQ,OAAOA,CAAA;IACV,IAAI,CAACzyB,OAAO,GAAG,4BAA4B;IAC3C,IAAI,CAACpH,KAAK,CAACY,IAAI,CAAC;MAAEmR,MAAM,EAAE;IAAM,CAAE,CAAC;EACvC;;AApCS8lB,yBAAyB;mBAAzBA,yBAAyB,EAAAtgC,+DAAA,CA6BtBgZ,qEAAe,GAAAhZ,+DAAA,CAAAzC,4DAAA;AAAA;AA7BlB+iC,yBAAyB;QAAzBA,yBAAyB;EAAAt/B,SAAA;EAAA0Z,OAAA;IAAAjS,KAAA;EAAA;EAAApH,KAAA;EAAAC,IAAA;EAAAC,MAAA,WAAAA,CAAA;IAAA,IAAAC,MAAA;IAAA,WAAAC,iBAAA,oBAAAA,iBAAA;;;;;;;eA5DjBC,SAAA,gFAAe;;;;;;;;;;eAeJA,SAAA,qEAAI;;;;;;;;;;;;;;;;;;;;eAmBZA,SAAA,4EACK,eAAmC,2BAC5C,eAAe,wBACf,eAAwC,oBAC5C;;;;;;;;;;eAG+CA,SAAA,wEAAO;;;;;;;;;;eAhCtCA,SAAA,qEAAI;;;;;;;;;;gBAgBJA,SAAA,uEAAM;;;;;;MA1B9B1B,4DAAA,aAAQ;MACJA,oDAAA,MAAS;MAAeA,0DAAA,EAAK;MAC7BA,uDAAA,aAA0B;MAC1BA,wDAAA,IAAA4iC,2CAAA,oBAES;MACb5iC,0DAAA,EAAS;MACTA,wDAAA,IAAA6iC,iDAAA,2BAqCe;MACf7iC,wDAAA,IAAA8iC,gDAAA,gCAAA9iC,oEAAA,CAKc;;;;MA/CqBA,uDAAA,GAAc;MAAdA,wDAAA,UAAA8B,GAAA,CAAA+N,OAAA,CAAc;MAIlC7P,uDAAA,GAAgB;MAAhBA,wDAAA,UAAA8B,GAAA,CAAA+N,OAAA,CAAgB,aAAApB,GAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5BsB;AACY;AACpB;AAEkB;AAKd;;;;;;;;;;;;;;;;;;;;IAgBjCzO,4DAAA,uBAKC;IAFGA,wDAAA,2BAAAgjC,iGAAA13B,MAAA;MAAA,MAAAzI,WAAA,GAAA7C,2DAAA,CAAA+wB,GAAA;MAAA,MAAAkS,MAAA,GAAApgC,WAAA,CAAAI,SAAA;MAAA,MAAAyJ,MAAA,GAAA1M,2DAAA;MAAA,OAAiBA,yDAAA,CAAA0M,MAAA,CAAAsrB,UAAA,CAAAiL,MAAA,EAAA33B,MAAA,CAAuB;IAAA,EAAC;IAGzCtL,oDAAA,GACJ;IAAAA,0DAAA,EAAe;;;;;IALXA,wDAAA,aAAAmU,MAAA,CAAA+uB,iBAAA,IAAAljC,6DAAA,IAAAsM,GAAA,GAAAkB,QAAA,CAAAy1B,MAAA,EAAmD,mBAAAjjC,6DAAA,IAAAuM,GAAA;IAInDvM,uDAAA,GACJ;IADIA,gEAAA,MAAAijC,MAAA,MACJ;;;;;IAVRjjC,4DAAA,cAAoD;IAC7BA,oDAAA,WAAI;IAAAA,0DAAA,EAAQ;IAC/BA,4DAAA,cAA4D;IACxDA,wDAAA,IAAAmjC,0DAAA,2BAOe;IACnBnjC,0DAAA,EAAM;;;;IAPkBA,uDAAA,GAAW;IAAXA,wDAAA,YAAA8T,MAAA,CAAA3S,QAAA,CAAW;;;;;IAYnCnB,uDAAA,cAIE;;;;IAFEA,wDAAA,QAAA6d,OAAA,CAAAgD,MAAA,KAAA7gB,2DAAA,CAAsB;;;;;IAItBA,uDAAA,cAGE;;;;;;IA9BdA,4DAAA,aAIC;IACGA,wDAAA,IAAAojC,2CAAA,iBAYM;IACNpjC,4DAAA,aAEC;IACGA,wDAAA,IAAAqjC,2CAAA,kBAIE;IACFrjC,wDAAA,IAAAsjC,mDAAA,iCAAAtjC,oEAAA,CAKc;IAClBA,0DAAA,EAAM;IACNA,4DAAA,cAA4B;IAEpBA,oDAAA,GACJ;IAAAA,0DAAA,EAAM;IACNA,4DAAA,cAAiD;IACbA,oDAAA,aAAK;IAAAA,0DAAA,EAAW;IAChDA,4DAAA,SAAG;IAAAA,oDAAA,IAAgD;IAAAA,0DAAA,EAAI;IAE3DA,4DAAA,eAEC;IAMOA,wDAAA,mBAAAujC,+DAAA;MAAA,MAAA1gC,WAAA,GAAA7C,2DAAA,CAAA0N,IAAA;MAAA,MAAAmQ,OAAA,GAAAhb,WAAA,CAAAI,SAAA;MAAA,MAAA0K,OAAA,GAAA3N,2DAAA;MAAA,OAASA,yDAAA,CAAA2N,OAAA,CAAA61B,eAAA,CAAA3lB,OAAA,CAAqB;IAAA,EAAC;IAE/B7d,4DAAA,eAA8C;IAA9CA,yDAAA,QAA8C;IAC1CA,uDAAA,gBAAyB;IAE7BA,uDAAA,EAAM;IAANA,0DAAA,EAAM;IAEVA,4DAAA,kBAMC;IADGA,wDAAA,mBAAAyjC,+DAAA;MAAA,MAAA5gC,WAAA,GAAA7C,2DAAA,CAAA0N,IAAA;MAAA,MAAAmQ,OAAA,GAAAhb,WAAA,CAAAI,SAAA;MAAA,MAAAswB,OAAA,GAAAvzB,2DAAA;MAAA,OAASA,yDAAA,CAAAuzB,OAAA,CAAAmQ,cAAA,CAAA7lB,OAAA,CAAoB;IAAA,EAAC;IAE9B7d,4DAAA,eAA8C;IAA9CA,yDAAA,QAA8C;IAC1CA,uDAAA,gBAA0B;IAE9BA,uDAAA,EAAM;IAANA,0DAAA,EAAM;IAIlBA,4DAAA,kBAOC;IADGA,wDAAA,mBAAA2jC,+DAAA;MAAA3jC,2DAAA,CAAA0N,IAAA;MAAA,MAAAvJ,OAAA,GAAAnE,2DAAA;MAAA,OAASA,yDAAA,CAAAmE,OAAA,CAAAmd,eAAA,CAAAnd,OAAA,CAAAye,KAAA,CAAsB;IAAA,EAAC;IAEhC5iB,4DAAA,gBAAU;IAAAA,oDAAA,IAIR;IAAAA,0DAAA,EAAW;;;;;;IA7EXA,uDAAA,GAAsB;IAAtBA,wDAAA,SAAAU,MAAA,CAAAS,QAAA,kBAAAT,MAAA,CAAAS,QAAA,CAAAwI,MAAA,CAAsB;IAiBnB3J,uDAAA,GAA2B;IAA3BA,wDAAA,SAAA6d,OAAA,CAAAgD,MAAA,kBAAAhD,OAAA,CAAAgD,MAAA,CAAAlX,MAAA,CAA2B,aAAAyH,GAAA;IAa5BpR,uDAAA,GACJ;IADIA,gEAAA,MAAA6d,OAAA,CAAAlY,IAAA,gBACJ;IAGO3F,uDAAA,GAAgD;IAAhDA,+DAAA,EAAA6d,OAAA,CAAA+K,IAAA,kBAAA/K,OAAA,CAAA+K,IAAA,CAAAoJ,YAAA,MAAAnU,OAAA,CAAA+K,IAAA,kBAAA/K,OAAA,CAAA+K,IAAA,CAAAjjB,IAAA,EAAgD;IAoCvD3F,uDAAA,IAAqD;IAArDA,yDAAA,kBAAAU,MAAA,CAAAkhB,SAAA,CAAApU,QAAA,CAAA9M,MAAA,CAAAkiB,KAAA,kBAAAliB,MAAA,CAAAkiB,KAAA,CAAA/a,EAAA,EAAqD;IAG3C7H,uDAAA,GAIR;IAJQA,+DAAA,CAAAU,MAAA,CAAAkhB,SAAA,CAAApU,QAAA,CAAA9M,MAAA,CAAAkiB,KAAA,kBAAAliB,MAAA,CAAAkiB,KAAA,CAAA/a,EAAA,mCAIR;;;AAxFtB,MAAMga,UAAU,GAAa,EAAE;AAE/B,MAmHayf,sBAAsB;EAU/B,IAAW1f,SAASA,CAAA;IAChB,OAAO,IAAI,CAAC1T,SAAS,CAACC,GAAG,CAAW40B,wFAAY,CAAC,IAAIlhB,UAAU;EACnE;EAEA/b,YACYoI,SAA0B,EAC1BoQ,OAAkB;IADlB,KAAApQ,SAAS,GAATA,SAAS;IACT,KAAAoQ,OAAO,GAAPA,OAAO;IAfH,KAAAnd,QAAQ,GAAa,EAAE;IAChC,KAAAyiC,SAAS,GAAG,CAAC;IACb,KAAA5hB,KAAK,GAAmB,EAAE;IAC1B,KAAA9K,QAAQ,GAAG,KAAK;IAChB,KAAAgsB,iBAAiB,GAAa,EAAE;IAmDvC;IACgB,KAAAhhB,gBAAgB,GAAIC,EAA+B,IAC9D,IAAI,CAACC,SAAS,GAAGD,EAAG;IACzB;IACgB,KAAAE,iBAAiB,GAAIF,EAA+B,IAC/D,IAAI,CAACG,QAAQ,GAAGH,EAAG;IACR,KAAAI,gBAAgB,GAAItS,CAAU,IAAM,IAAI,CAACiH,QAAQ,GAAGjH,CAAE;EA7CnE;EAEH;EACOuzB,eAAeA,CAAA;IAClB,MAAM1gB,GAAG,GAAG,IAAI,CAACxE,OAAO,CAACyE,IAAI,CAAC6d,oGAAwB,EAAE;MACpDpiB,IAAI,EAAE;QACFwD,KAAK,EAAE,IAAI,CAACA,KAAK;QACjBuH,OAAO,EAAE;UAAEsa,QAAQ,EAAE,IAAI,CAACD;QAAS;;KAE1C,CAAC;IACF9gB,GAAG,CAACE,WAAW,EAAE,CAAC/G,SAAS,CAAE+F,KAAsB,IAAI;MACnD,IAAI,CAACA,KAAK,EAAEA,KAAK,GAAGc,GAAG,CAACG,iBAAiB,CAAChB,QAAQ;MAClD,IAAI,CAACQ,QAAQ,CAACT,KAAK,CAAC;IACxB,CAAC,CAAC;EACN;EAEA;EACO0hB,cAAcA,CAACI,KAAmB;IACrC,IAAI,CAACrhB,QAAQ,CAAC,IAAI,CAACT,KAAK,CAAC9Z,MAAM,CAAEoY,CAAC,IAAKA,CAAC,CAACzY,EAAE,KAAKi8B,KAAK,CAACj8B,EAAE,CAAC,CAAC;EAC9D;EAEA;;;;EAIO4a,QAAQA,CAACC,SAAyB;IACrC,IAAI,CAACV,KAAK,GAAGU,SAAS;IACtB,IAAI,IAAI,CAACN,SAAS,EAAE,IAAI,CAACA,SAAS,CAAC,IAAI,CAACJ,KAAK,CAAC;EAClD;EAEA;EACA;;;;EAIOW,UAAUA,CAACvM,KAAqB;IACnC,IAAI,CAAC4L,KAAK,GAAG5L,KAAK,IAAI,EAAE;EAC5B;EAUOkL,eAAeA,CAACwiB,KAAmB;IACtC,MAAM1gB,QAAQ,GAAG,IAAI,CAACxB,SAAS;IAC/B,MAAMyB,SAAS,GAAG,CAACD,QAAQ,CAAC5V,QAAQ,CAACs2B,KAAK,CAACj8B,EAAE,CAAC;IAC9C,IAAIwb,SAAS,EAAE;MACX,IAAI,CAACnV,SAAS,CAACoV,eAAe,CAACyf,wFAAY,EAAE,CACzC,GAAG3f,QAAQ,EACX0gB,KAAK,CAACj8B,EAAE,CACX,CAAC;KACL,MAAM;MACH,IAAI,CAACqG,SAAS,CAACoV,eAAe,CAC1Byf,wFAAY,EACZ3f,QAAQ,CAAClb,MAAM,CAAEoY,CAAC,IAAKA,CAAC,KAAKwjB,KAAK,CAACj8B,EAAE,CAAC,CACzC;;EAET;;AA9ESy5B,sBAAsB;mBAAtBA,sBAAsB,EAAAthC,+DAAA,CAAAzC,iFAAA,GAAAyC,+DAAA,CAAAH,+DAAA;AAAA;AAAtByhC,sBAAsB;QAAtBA,sBAAsB;EAAAtgC,SAAA;EAAAC,MAAA;IAAAE,QAAA;EAAA;EAAAA,QAAA,GAAAnB,gEAAA,CARpB,CACP;IACIhB,OAAO,EAAEyhB,6DAAiB;IAC1B+C,WAAW,EAAEhD,yDAAU,CAAC,MAAM8gB,sBAAsB,CAAC;IACrD7d,KAAK,EAAE;GACV,CACJ;EAAApiB,KAAA;EAAAC,IAAA;EAAAC,MAAA,WAAAA,CAAA;IAAA,IAAAC,MAAA;IAAA,WAAAC,iBAAA,oBAAAA,iBAAA;;;;;;;eAdsBC,SAAA,yEAAQ;;;;;;;;;;;;;;;;;;eA3CHA,SAAA,kFAAU,2BAAI,kBAAW,8BAE7B;;;;;;;;;;;;;;;;;;eAUIA,SAAA,mFAAU,4BAAK,kBAAW,8BAE9B;;;;;;MAnEpB1B,4DAAA,aAA4B;MACxBA,wDAAA,IAAA+jC,qCAAA,kBAoFM;MACV/jC,0DAAA,EAAM;MACNA,4DAAA,gBAMC;MADGA,wDAAA,mBAAAgkC,wDAAA;QAAA,OAASliC,GAAA,CAAA0hC,eAAA,EAAiB;MAAA,EAAC;MAE3BxjC,4DAAA,aAAwD;MAC1CA,oDAAA,aAAM;MAAAA,0DAAA,EAAW;MAC3BA,4DAAA,WAAW;MAAXA,oDAAA,MAAW;MAAQA,0DAAA,EAAO;MAGlCA,4DAAA,aAA2D;MACvDA,uDAAA,aAAkD;MACtDA,0DAAA,EAAM;;;MAjGmBA,uDAAA,GAAQ;MAARA,wDAAA,YAAA8B,GAAA,CAAAkgB,KAAA,CAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;ACpB+B;AACJ;AACT;;;;;;;;;;IAKnDhiB,4DAAA,aAAwD;IACpDA,oDAAA,MAA6B;IAAsBA,0DAAA,EAAK;IACxDA,4DAAA,cAAqC;IAE7BA,yDAAA,MAAY;IAEHA,uDAAA,WAAc;IACvBA,uDAAA,EAAQ;IAARA,0DAAA,EAAQ;IACRA,4DAAA,yBAGC;IACoCA,oDAAA,WAAG;IAAAA,0DAAA,EAAmB;IACvDA,4DAAA,2BAAkC;IAAAA,oDAAA,UAAE;IAAAA,0DAAA,EAAmB;IAG/DA,4DAAA,cAAgC;IAC5BA,yDAAA,QAAY;IAECA,uDAAA,YAAc;IAC3BA,uDAAA,EAAQ;IAARA,0DAAA,EAAQ;IACRA,4DAAA,2BAA4D;IACvBA,oDAAA,WAAG;IAAAA,0DAAA,EAAmB;IACvDA,4DAAA,2BAAkC;IAAAA,oDAAA,UAAE;IAAAA,0DAAA,EAAmB;IAG/DA,4DAAA,eAA2B;IACvBA,yDAAA,QAAY;IAECA,uDAAA,YAAc;IAC3BA,uDAAA,EAAQ;IAARA,0DAAA,EAAQ;IACRA,4DAAA,2BAGC;IACoCA,oDAAA,WAAG;IAAAA,0DAAA,EAAmB;IACvDA,4DAAA,2BAAkC;IAAAA,oDAAA,UAAE;IAAAA,0DAAA,EAAmB;IAInEA,4DAAA,kBAAqD;IAC3BA,wDAAA,mBAAAkkC,oEAAA;MAAAlkC,2DAAA,CAAAoR,GAAA;MAAA,MAAA1N,MAAA,GAAA1D,2DAAA;MAAA,OAASA,yDAAA,CAAA0D,MAAA,CAAAygC,MAAA,EAAQ;IAAA,EAAC;IAAxCnkC,oDAAA,QAA8C;IAAMA,0DAAA,EAAS;IAEjEA,4DAAA,kBAA8C;IAChBA,oDAAA,aAAK;IAAAA,0DAAA,EAAI;;;;IA1CrBA,uDAAA,GAAkB;IAAlBA,wDAAA,cAAAU,MAAA,CAAAC,IAAA,CAAkB;IAUNX,uDAAA,GAAc;IAAdA,wDAAA,eAAc;IACdA,uDAAA,GAAe;IAAfA,wDAAA,gBAAe;IASfA,uDAAA,GAAc;IAAdA,wDAAA,eAAc;IACdA,uDAAA,GAAe;IAAfA,wDAAA,gBAAe;IAYfA,uDAAA,GAAc;IAAdA,wDAAA,eAAc;IACdA,uDAAA,GAAe;IAAfA,wDAAA,gBAAe;;;;;IAY7CA,4DAAA,eAAoC;IAChCA,oDAAA,OAAoB;IAKpBA,0DAAA,EAAI;IACJA,4DAAA,iBAA8C;IAChBA,oDAAA,YAAK;IAAAA,0DAAA,EAAI;;;AA3DvD,MA+Eay1B,2BAA2B;EA/ExC3vB,YAAA;IAgFqB,KAAA2C,KAAK,GAAG,IAAIvG,uDAAY,EAAe;IAEjD,KAAAvB,IAAI,GAAG,IAAIb,qDAAS,CAAC;MACxBskC,SAAS,EAAE,IAAItrB,uDAAW,CAAC,KAAK,CAAC;MACjCurB,MAAM,EAAE,IAAIvrB,uDAAW,CAAC,KAAK,CAAC;MAC9BwrB,OAAO,EAAE,IAAIxrB,uDAAW,CAAC,KAAK;KACjC,CAAC;;EAGKqrB,MAAMA,CAAA;IACT,IAAI,CAACxjC,IAAI,CAAC2Z,gBAAgB,EAAE;IAC5B,IACIpK,MAAM,CAACq0B,IAAI,CAAC,IAAI,CAAC5jC,IAAI,CAACyV,KAAK,CAAC,CAACxN,IAAI,CAC5BgyB,GAAG,IACA,IAAI,CAACj6B,IAAI,CAACyV,KAAK,CAACwkB,GAAG,CAAC,KAAK,IAAI,IAC7B,IAAI,CAACj6B,IAAI,CAACyV,KAAK,CAACwkB,GAAG,CAAC,KAAK,MAAM,CACtC,EACH;MACE,IAAI,CAAC4J,OAAO,GAAG,IAAI;MACnB;;IAEJ,IAAI,CAAC/7B,KAAK,CAACY,IAAI,CAAC;MAAEmR,MAAM,EAAE;IAAM,CAAE,CAAC;EACvC;;AAvBSib,2BAA2B;mBAA3BA,2BAA2B;AAAA;AAA3BA,2BAA2B;QAA3BA,2BAA2B;EAAAz0B,SAAA;EAAA0Z,OAAA;IAAAjS,KAAA;EAAA;EAAApH,KAAA;EAAAC,IAAA;EAAAC,MAAA,WAAAA,CAAA;IAAA,IAAAC,MAAA;IAAA,WAAAC,iBAAA,oBAAAA,iBAAA;;;;;;;eA3ECC,SAAA,sFAAsB;;;;;;;;;;;;;;;;;;eAG/BA,SAAA,uHAEH,gBAAM,oBAAC,iBAAO;;;;;;;;;;;;;;;;;;eAWXA,SAAA,gIAEC,iBAAM,oBAAC,kBAAO;;;;;;;;;;;;;;;;;;eAQfA,SAAA,2HAEC,iBAAM,oBAAC,kBAAO;;;;;;;;;;eAYeA,SAAA,sEAAM;;;;;;;;;;gBAQhCA,SAAA,6SAKpB;;;;;;MAtDR1B,wDAAA,IAAAykC,0CAAA,kBA8CM;MACNzkC,wDAAA,IAAA0kC,kDAAA,gCAAA1kC,oEAAA,CAYc;;;;MA3DRA,wDAAA,UAAA8B,GAAA,CAAA0iC,OAAA,CAAgB,aAAA5mB,GAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;ACDP;AAGqD;;;;;;;;;IA6B5D5d,uDAAA,yBAIkB;;;;IAHdA,wDAAA,WAAA0D,MAAA,CAAAy7B,IAAA,CAAAte,MAAA,CAAsB;;;;;IA6DtB7gB,4DAAA,cAGC;IACwCA,oDAAA,GAAU;IAAAA,0DAAA,EAAM;;;;IAAhBA,uDAAA,GAAU;IAAVA,+DAAA,CAAA2kC,OAAA,CAAU;;;;;;;;IAVvD3kC,4DAAA,kBAIC;IACGA,oDAAA,OAAqC;IAAUA,0DAAA,EAAK;IACpDA,wDAAA,IAAA4kC,6DAAA,kBAKM;IACV5kC,0DAAA,EAAU;;;;IALeA,uDAAA,GAAsB;IAAtBA,wDAAA,YAAA4E,MAAA,CAAAu6B,IAAA,CAAAh+B,QAAA,IAAAnB,6DAAA,IAAA6kC,GAAA,EAAsB;;;;;;;;;;;IAM/C7kC,4DAAA,kBAIC;IACGA,uDAAA,0BAKmB;IACvBA,0DAAA,EAAU;;;;IAJFA,uDAAA,GAAe;IAAfA,wDAAA,QAAAqM,MAAA,CAAA8uB,OAAA,CAAe,aAAA9uB,MAAA,CAAAlL,QAAA,aAAAnB,6DAAA,IAAAkR,GAAA;;;;;;IAtF/BlR,qEAAA,GAA4C;IACxCA,4DAAA,iBAQC;IACGA,wDAAA,IAAA8kC,6DAAA,4BAIkB;IAClB9kC,4DAAA,gBAMC;IAFGA,wDAAA,mBAAA+kC,qEAAA;MAAA/kC,2DAAA,CAAA+wB,GAAA;MAAA,MAAArkB,MAAA,GAAA1M,2DAAA;MAAA,OAASA,yDAAA,CAAA0M,MAAA,CAAAmX,KAAA,CAAAxa,IAAA,EAAY;IAAA,EAAC;IAGtBrJ,4DAAA,eAAU;IAAAA,oDAAA,iBAAU;IAAAA,0DAAA,EAAW;IAEnCA,4DAAA,gBAQC;IAFGA,wDAAA,mBAAAglC,qEAAA;MAAAhlC,2DAAA,CAAA+wB,GAAA;MAAA,MAAA7tB,OAAA,GAAAlD,2DAAA;MAAA,OAASA,yDAAA,CAAAkD,OAAA,CAAA6gB,SAAA,CAAA1a,IAAA,EAAgB;IAAA,EAAC;IAG1BrJ,4DAAA,eAAU;IAAAA,oDAAA,GAER;IAAAA,0DAAA,EAAW;IAGrBA,4DAAA,aAEC;IAGWA,oDAAA,IACJ;IAAAA,0DAAA,EAAK;IAETA,4DAAA,kBAGC;IACmCA,oDAAA,eAAO;IAAAA,0DAAA,EAAK;IAC5CA,4DAAA,eAAyC;IAC3BA,oDAAA,cAAM;IAAAA,0DAAA,EAAW;IAC3BA,4DAAA,SAAQ;IAARA,oDAAA,QAAQ;IAAWA,0DAAA,EAAI;IAE3BA,4DAAA,eAAyC;IAC3BA,oDAAA,YAAI;IAAAA,0DAAA,EAAW;IACzBA,4DAAA,SAAG;IACCA,oDAAA,IACJ;IAAAA,0DAAA,EAAI;IAERA,4DAAA,eAAyC;IAC3BA,oDAAA,aAAK;IAAAA,0DAAA,EAAW;IAC1BA,4DAAA,SAAG;IAAAA,oDAAA,IAAgD;IAAAA,0DAAA,EAAI;IAG/DA,wDAAA,KAAAilC,uDAAA,sBAYU;IACVjlC,wDAAA,KAAAklC,uDAAA,sBAWU;IACdllC,0DAAA,EAAM;IACNA,4DAAA,eAEC;IAOOA,wDAAA,mBAAAmlC,sEAAA;MAAAnlC,2DAAA,CAAA+wB,GAAA;MAAA,MAAApjB,OAAA,GAAA3N,2DAAA;MAAA2N,OAAA,CAAAwW,MAAA,IAAAxW,OAAA,CAAAwW,MAAA;MAAA,OAA2BnkB,yDAAA,CAAA2N,OAAA,CAAAyW,YAAA,CAAA/a,IAAA,CAAAsE,OAAA,CAAAwW,MAAA,CAAyB;IAAA,EAAC;IAErDnkB,4DAAA,eAA8C;IACfA,oDAAA,IAEzB;IAAAA,0DAAA,EAAW;IACbA,4DAAA,SAAQ;IAARA,oDAAA,QAAQ;IAGRA,0DAAA,EAAI;IAIpBA,mEAAA,EAAe;;;;IA9GPA,uDAAA,GAAqC;IAArCA,yDAAA,YAAAU,MAAA,CAAAy+B,IAAA,CAAAte,MAAA,kBAAAngB,MAAA,CAAAy+B,IAAA,CAAAte,MAAA,CAAAlX,MAAA,CAAqC,SAAAjJ,MAAA,CAAAy+B,IAAA,CAAAte,MAAA,kBAAAngB,MAAA,CAAAy+B,IAAA,CAAAte,MAAA,CAAAlX,MAAA,cAAAjJ,MAAA,CAAAy+B,IAAA,CAAAte,MAAA,kBAAAngB,MAAA,CAAAy+B,IAAA,CAAAte,MAAA,CAAAlX,MAAA,aAAAjJ,MAAA,CAAAy+B,IAAA,CAAAte,MAAA,kBAAAngB,MAAA,CAAAy+B,IAAA,CAAAte,MAAA,CAAAlX,MAAA,wBAAAjJ,MAAA,CAAAy+B,IAAA,CAAAte,MAAA,kBAAAngB,MAAA,CAAAy+B,IAAA,CAAAte,MAAA,CAAAlX,MAAA;IAQhC3J,uDAAA,GAAyB;IAAzBA,wDAAA,SAAAU,MAAA,CAAAy+B,IAAA,CAAAte,MAAA,kBAAAngB,MAAA,CAAAy+B,IAAA,CAAAte,MAAA,CAAAlX,MAAA,CAAyB;IAgB1B3J,uDAAA,GAAyB;IAAzBA,yDAAA,gBAAAU,MAAA,CAAA2jB,GAAA,CAAyB,kBAAA3jB,MAAA,CAAA2jB,GAAA;IAKfrkB,uDAAA,GAER;IAFQA,+DAAA,CAAAU,MAAA,CAAA2jB,GAAA,kCAER;IAQErkB,uDAAA,GACJ;IADIA,gEAAA,MAAAU,MAAA,CAAAy+B,IAAA,CAAAnN,YAAA,IAAAtxB,MAAA,CAAAy+B,IAAA,CAAAx5B,IAAA,IAAAjF,MAAA,CAAAy+B,IAAA,CAAAt3B,EAAA,MACJ;IAcQ7H,uDAAA,IACJ;IADIA,gEAAA,MAAAU,MAAA,CAAAy+B,IAAA,CAAAnN,YAAA,IAAAtxB,MAAA,CAAAy+B,IAAA,CAAAx5B,IAAA,IAAAjF,MAAA,CAAAy+B,IAAA,CAAAt3B,EAAA,MACJ;IAIG7H,uDAAA,GAAgD;IAAhDA,+DAAA,EAAAU,MAAA,CAAAy+B,IAAA,CAAAvW,IAAA,kBAAAloB,MAAA,CAAAy+B,IAAA,CAAAvW,IAAA,CAAAoJ,YAAA,MAAAtxB,MAAA,CAAAy+B,IAAA,CAAAvW,IAAA,kBAAAloB,MAAA,CAAAy+B,IAAA,CAAAvW,IAAA,CAAAjjB,IAAA,EAAgD;IAKtD3F,uDAAA,GAA2B;IAA3BA,wDAAA,SAAAU,MAAA,CAAAy+B,IAAA,CAAAh+B,QAAA,kBAAAT,MAAA,CAAAy+B,IAAA,CAAAh+B,QAAA,CAAAwI,MAAA,CAA2B;IAc3B3J,uDAAA,GAAe;IAAfA,wDAAA,UAAAU,MAAA,CAAAqzB,QAAA,CAAe;IAiBhB/zB,uDAAA,GAAwB;IAAxBA,yDAAA,YAAAU,MAAA,CAAAyjB,MAAA,CAAwB;IAKOnkB,uDAAA,GAEzB;IAFyBA,+DAAA,CAAAU,MAAA,CAAAyjB,MAAA,oBAEzB;IAIFnkB,uDAAA,GAAI;IAAJA,uDAAA,CAAAU,MAAA,CAAAyjB,MAAA,CAAI;IAAJnkB,yDAAA,IAAI;;;;;IAMhBA,4DAAA,cAGC;IACGA,oDAAA,OAAuC;IAEvCA,0DAAA,EAAI;;;AA1IpB,MA+IaugC,oBAAoB;EA/IjCz6B,YAAA;IAiJoB,KAAAue,GAAG,GAAY,KAAK;IACpB,KAAAF,MAAM,GAAY,KAAK;IACvB,KAAA4P,QAAQ,GAAY,KAAK;IAExB,KAAAlQ,KAAK,GAAG,IAAI3hB,uDAAY,EAAQ;IAChC,KAAA6hB,SAAS,GAAG,IAAI7hB,uDAAY,EAAQ;IACpC,KAAAkiB,YAAY,GAAG,IAAIliB,uDAAY,EAAQ;IAEjD,KAAAi5B,OAAO,GAAG,EAAE;IACZ,KAAAh6B,QAAQ,GAAoB,EAAE;;EAE9BkG,WAAWA,CAACC,OAAsB;IACrC,IAAIA,OAAO,CAAC63B,IAAI,IAAI,IAAI,CAACA,IAAI,EAAE;MAC3B,IAAI,CAACiG,aAAa,EAAE;;EAE5B;EAEQA,aAAaA,CAAA;IACjB,IAAI,CAACjK,OAAO,GAAG,IAAI,CAACgE,IAAI,CAACvW,IAAI,CAACwK,MAAM;IACpC,IAAI,CAACjyB,QAAQ,GAAG,CACZ;MACI0vB,QAAQ,EAAE,IAAI,CAACsO,IAAI,CAAC/L,MAAM,IAAI,IAAI,CAAC+L,IAAI,CAACt3B,EAAE;MAC1C0B,OAAO,EAAEmpB,sFAAeA;KAC3B,CACJ;EACL;;AA3BS6N,oBAAoB;mBAApBA,oBAAoB;AAAA;AAApBA,oBAAoB;QAApBA,oBAAoB;EAAAv/B,SAAA;EAAAC,MAAA;IAAAk+B,IAAA;IAAA9a,GAAA;IAAAF,MAAA;IAAA4P,QAAA;EAAA;EAAArZ,OAAA;IAAAmJ,KAAA;IAAAE,SAAA;IAAAK,YAAA;EAAA;EAAAjjB,QAAA,GAAAnB,kEAAA;EAAAqB,KAAA;EAAAC,IAAA;EAAAC,MAAA,WAAAA,CAAA;IAAA,IAAAC,MAAA;IAAA,WAAAC,iBAAA,oBAAAA,iBAAA;;;;;;;eA1EDC,SAAA,4EAAW;;;;;;;;;;eAuDfA,SAAA,0IACoB;;;;;;;;;;;;;;;;;;;eAFhBA,SAAA,mEACJ2jC,MACoB,QACxB;;;;;;;;;;eAvCiC3jC,SAAA,2EAAU;;;;;;;;;;gBAiDZA,SAAA,qGAEvC;;;;;;MA1HR1B,wDAAA,IAAAslC,4CAAA,4BAkHe;MACftlC,wDAAA,IAAAulC,2CAAA,gCAAAvlC,oEAAA,CASc;;;;MA5HCA,wDAAA,SAAA8B,GAAA,CAAAq9B,IAAA,CAAY,aAAAvhB,GAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5BoC;AACP;AACjB;AAEiB;AACH;AACzB;;;;;;;;;;IA0ExB5d,4DAAA,cAIC;IACMA,oDAAA,GAAU;IAAAA,0DAAA,EAAI;IACjBA,4DAAA,iBAMC;IADGA,wDAAA,mBAAAylC,oEAAA;MAAA,MAAA5iC,WAAA,GAAA7C,2DAAA,CAAAoR,GAAA;MAAA,MAAAs0B,OAAA,GAAA7iC,WAAA,CAAAI,SAAA;MAAA,MAAAS,MAAA,GAAA1D,2DAAA;MAAA,OAASA,yDAAA,CAAA0D,MAAA,CAAAs0B,UAAA,CAAA0N,OAAA,EAAiB,KAAK,CAAC;IAAA,EAAC;IAEjC1lC,4DAAA,eAAU;IAAAA,oDAAA,YAAK;IAAAA,0DAAA,EAAW;;;;IAR3BA,uDAAA,GAAU;IAAVA,+DAAA,CAAA0lC,OAAA,CAAU;;;;;;IAWjB1lC,4DAAA,cAAqD;IACjDA,oDAAA,OAAW;IAAeA,0DAAA,EAAO;IACjCA,4DAAA,iBAMC;IADGA,wDAAA,mBAAA2lC,oEAAA;MAAA3lC,2DAAA,CAAA4lC,GAAA;MAAA,MAAAv5B,MAAA,GAAArM,2DAAA;MAAA,OAASA,yDAAA,CAAAqM,MAAA,CAAAmW,UAAA;QAAAqjB,QAAA,EAAuB;MAAK,EAAG;IAAA,EAAC;IAEzC7lC,4DAAA,eAAU;IAAAA,oDAAA,YAAK;IAAAA,0DAAA,EAAW;;;;;;AAjG9C,MAuGawgC,2BAA4B,SAAQzgC,yDAAY;EAOzD,IAAWuG,KAAKA,CAAA;IACZ,OAAO,IAAI,CAACyb,MAAM,CAACphB,IAAI,CAACyV,KAAK,CAACrQ,IAAI;EACtC;EAEA,IAAWS,GAAGA,CAAA;IACV,MAAM;MAAET,IAAI;MAAEjB,QAAQ;MAAEmtB;IAAO,CAAE,GAAG,IAAI,CAAClQ,MAAM,CAACphB,IAAI,CAACyV,KAAK;IAC1D,IAAI6b,OAAO,EAAE,OAAO/W,oDAAQ,CAACnV,IAAI,CAAC;IAClC,OAAOA,IAAI,GAAGjB,QAAQ,GAAG,EAAE,GAAG,IAAI;EACtC;EAIAgB,YACYggC,OAAuB,EACvB/jB,MAA0B;IAElC,KAAK,EAAE;IAHC,KAAA+jB,OAAO,GAAPA,OAAO;IACP,KAAA/jB,MAAM,GAANA,MAAM;IApBF,KAAAgU,IAAI,GAAmB,MAAM;IAC5B,KAAAgQ,UAAU,GAAG,IAAI7jC,uDAAY,EAAkB;IAChD,KAAAqnB,OAAO,GAAG,IAAI,CAACxH,MAAM,CAACwH,OAAO;IAC7B,KAAA/G,UAAU,GAAIwjB,CAAC,IAAK,IAAI,CAACjkB,MAAM,CAACS,UAAU,CAACwjB,CAAC,CAAC;IAC7C,KAAAhO,UAAU,GAAG,CAACiO,CAAC,EAAE38B,CAAC,KAAK,IAAI,CAACyY,MAAM,CAACiW,UAAU,CAACiO,CAAC,EAAE38B,CAAC,CAAC;IAYnD,KAAA48B,UAAU,GAAG,MAAM,IAAI,CAACJ,OAAO,CAAC/iB,IAAI,CAAC0d,yEAAoB,CAAC;EAO1E;;AAxBSD,2BAA4B;mBAA5BA,2BAA2B,EAAAxgC,+DAAA,CAAAzC,0EAAA,GAAAyC,+DAAA,CAAAH,qEAAA;AAAA;AAA3B2gC,2BAA4B;QAA5BA,2BAA2B;EAAAx/B,SAAA;EAAAC,MAAA;IAAA80B,IAAA;EAAA;EAAArb,OAAA;IAAAqrB,UAAA;EAAA;EAAA5kC,QAAA,GAAAnB,wEAAA;EAAAqB,KAAA;EAAAC,IAAA;EAAAC,MAAA,WAAAA,CAAA;IAAA,IAAAC,MAAA;IAAA,WAAAC,iBAAA,oBAAAA,iBAAA;;;;;;;eAlE3BC,SAAA,0EAED;;;;;;;;;;eAUKA,SAAA,sEAED;;;;;;;;;;eASCA,SAAA,uEAED;;;;;;;;;;eA2BWA,SAAA,gFAAe;;;;;;MA/DlC1B,4DAAA,iBAGC;MAMOA,wDAAA,mBAAAmmC,6DAAA;QAAA,OAASrkC,GAAA,CAAAokC,UAAA,EAAY;MAAA,EAAC;MAL1BlmC,oDAAA,MAOC;MAEDA,0DAAA,EAAS;MACTA,4DAAA,aAA+B;MAOvBA,wDAAA,mBAAAomC,6DAAA;QAAAtkC,GAAA,CAAAi0B,IAAA,GAAgB,KAAK;QAAA,OAAEj0B,GAAA,CAAAikC,UAAA,CAAA18B,IAAA,CAAAvH,GAAA,CAAAi0B,IAAA,CAAqB;MAAA,EAAC;MANjD/1B,oDAAA,MAQC;MAEDA,0DAAA,EAAS;MACTA,4DAAA,gBAQC;MAFGA,wDAAA,mBAAAqmC,6DAAA;QAAAvkC,GAAA,CAAAi0B,IAAA,GAAgB,MAAM;QAAA,OAAEj0B,GAAA,CAAAikC,UAAA,CAAA18B,IAAA,CAAAvH,GAAA,CAAAi0B,IAAA,CAAqB;MAAA,EAAC;MANlD/1B,oDAAA,MAQC;MAEDA,0DAAA,EAAS;MAGjBA,4DAAA,iBAAyD;MAE/BA,oDAAA,IAAgC;;MAAAA,0DAAA,EAAM;MAC5DA,4DAAA,eAAsB;MAClBA,oDAAA,IAEJ;;;MAAAA,0DAAA,EAAM;MACNA,wDAAA,KAAAsmC,2CAAA,kBAeM;;MACNtmC,wDAAA,KAAAumC,2CAAA,kBAWM;;MACVvmC,0DAAA,EAAU;;;;;MAtDEA,uDAAA,GAAgC;MAAhCA,yDAAA,YAAA8B,GAAA,CAAAi0B,IAAA,WAAgC;MAWhC/1B,uDAAA,GAAiC;MAAjCA,yDAAA,YAAA8B,GAAA,CAAAi0B,IAAA,YAAiC;MAUnB/1B,uDAAA,GAAgC;MAAhCA,+DAAA,CAAAA,yDAAA,QAAA8B,GAAA,CAAAwE,KAAA,gBAAgC;MAElDtG,uDAAA,GAEJ;MAFIA,gEAAA,MAAAA,yDAAA,SAAA8B,GAAA,CAAAwE,KAAA,4BAAAtG,yDAAA,SAAA8B,GAAA,CAAA0E,GAAA,oBAEJ;MAIqBxG,uDAAA,GAAoC;MAApCA,wDAAA,cAAAmR,OAAA,GAAAnR,yDAAA,SAAA8B,GAAA,CAAAynB,OAAA,oBAAApY,OAAA,CAAAhQ,QAAA,KAAAnB,6DAAA,KAAA6kC,GAAA,EAAoC;MAavC7kC,uDAAA,GAAiC;MAAjCA,wDAAA,UAAAwmC,OAAA,GAAAxmC,yDAAA,SAAA8B,GAAA,CAAAynB,OAAA,oBAAAid,OAAA,CAAAX,QAAA,CAAiC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/FI;AACjB;AACL;AAEwC;AACxB;;;;;;;;;;;;;;;;;;;;IAmB7C7lC,4DAAA,iBAOC;IADGA,wDAAA,mBAAA2mC,+DAAA;MAAA3mC,2DAAA,CAAAihB,GAAA;MAAA,MAAA9M,MAAA,GAAAnU,2DAAA;MAAA,OAASA,yDAAA,CAAAmU,MAAA,CAAA0P,KAAA,EAAO;IAAA,EAAC;IAEjB7jB,4DAAA,eAAU;IAAAA,oDAAA,0BAAmB;IAAAA,0DAAA,EAAW;;;;;IA8BhCA,4DAAA,qBAGC;IACGA,oDAAA,GACJ;IAAAA,0DAAA,EAAa;;;;IAHTA,wDAAA,UAAA4mC,MAAA,CAAa;IAEb5mC,uDAAA,GACJ;IADIA,gEAAA,MAAA4mC,MAAA,CAAA5U,YAAA,IAAA4U,MAAA,CAAAjhC,IAAA,MACJ;;;;;;;;;;;IAtBZ3F,4DAAA,cAGC;IACGA,oDAAA,OAAY;IAAQA,0DAAA,EAAQ;IAC5BA,4DAAA,yBAAoD;IAI5CA,wDAAA,2BAAA6mC,yEAAAv7B,MAAA;MAAAtL,2DAAA,CAAA+C,IAAA;MAAA,MAAAG,OAAA,GAAAlD,2DAAA;MAAA,OAAAA,yDAAA,CAAAkD,OAAA,CAAA2R,QAAA,GAAAvJ,MAAA;IAAA,EAAsB,2BAAAu7B,yEAAAv7B,MAAA;MAAAtL,2DAAA,CAAA+C,IAAA;MAAA,MAAAiB,OAAA,GAAAhE,2DAAA;MAAA,OAG9BA,yDAAA,CAAAgE,OAAA,CAAAwe,UAAA;QAAAyG,OAAA,EAAA3d,MAAA,kBAAAA,MAAA,CAAAzD;MAAA,EAGlB;IAAA,EANgD;IAQtB7H,wDAAA,IAAA8mC,iDAAA,yBAKa;;IACjB9mC,0DAAA,EAAa;;;;IAdTA,uDAAA,GAAsB;IAAtBA,wDAAA,YAAA4N,MAAA,CAAAiH,QAAA,CAAsB,mBAAA7U,6DAAA,IAAA2M,IAAA;IASF3M,uDAAA,GAAoB;IAApBA,wDAAA,YAAAA,yDAAA,OAAA4N,MAAA,CAAA+G,SAAA,EAAoB;;;;;IA0BxC3U,4DAAA,qBAGC;IACGA,oDAAA,GACJ;IAAAA,0DAAA,EAAa;;;;IAHTA,wDAAA,UAAA+mC,OAAA,CAAAl/B,EAAA,CAAgB;IAEhB7H,uDAAA,GACJ;IADIA,gEAAA,MAAA+mC,OAAA,CAAA/U,YAAA,IAAA+U,OAAA,CAAAphC,IAAA,MACJ;;;;;;IAtBZ3F,4DAAA,cAGC;IACUA,oDAAA,YAAK;IAAAA,0DAAA,EAAQ;IACpBA,4DAAA,yBAAqC;IAK7BA,wDAAA,2BAAAgnC,yEAAA17B,MAAA;MAAAtL,2DAAA,CAAAyzB,IAAA;MAAA,MAAApvB,OAAA,GAAArE,2DAAA;MAAA,OAERA,yDAAA,CAAAqE,OAAA,CAAAme,UAAA;QAAAyG,OAAA,EAAA3d,MAAA,IAAAjH,OAAA,CAAAwQ,QAAA,CAAAhN;MAAA,EAGlB;IAAA,EAD2B;IAGD7H,wDAAA,IAAAinC,iDAAA,yBAKa;;IACjBjnC,0DAAA,EAAa;;;;IAdTA,uDAAA,GAAsB;IAAtBA,wDAAA,cAAA8T,MAAA,CAAAe,QAAA,CAAsB,mBAAA7U,6DAAA,IAAA2M,IAAA;IASF3M,uDAAA,GAAiB;IAAjBA,wDAAA,YAAAA,yDAAA,OAAA8T,MAAA,CAAAozB,MAAA,EAAiB;;;;;IA4CjDlnC,4DAAA,cAA+D;IAC3DA,oDAAA,OAA6C;IAE7CA,0DAAA,EAAe;;;;;;;;;IA0BnBA,4DAAA,cAGC;IACwCA,oDAAA,GAAU;IAAAA,0DAAA,EAAM;IACrDA,4DAAA,uBAMC;IAFGA,wDAAA,2BAAAmnC,qFAAA77B,MAAA;MAAA,MAAAzI,WAAA,GAAA7C,2DAAA,CAAAonC,IAAA;MAAA,MAAAC,QAAA,GAAAxkC,WAAA,CAAAI,SAAA;MAAA,MAAAqkC,OAAA,GAAAtnC,2DAAA;MAAA,OAAiBA,yDAAA,CAAAsnC,OAAA,CAAAtP,UAAA,CAAAqP,QAAA,EAAA/7B,MAAA,CAAwB;IAAA,EAAC;;IAE7CtL,0DAAA,EAAe;;;;;;IAPqBA,uDAAA,GAAU;IAAVA,+DAAA,CAAAqnC,QAAA,CAAU;IAE3CrnC,uDAAA,GAEC;IAFDA,wDAAA,eAAAunC,OAAA,GAAAvnC,yDAAA,OAAAyE,OAAA,CAAA8kB,OAAA,oBAAAge,OAAA,CAAApmC,QAAA,KAAAnB,6DAAA,IAAA2V,IAAA,GAAAnI,QAAA,CAAA65B,QAAA,EAEC,mBAAArnC,6DAAA,IAAA2M,IAAA;;;;;IAdb3M,4DAAA,kBAIC;IACGA,oDAAA,OAAqC;IAAIA,0DAAA,EAAK;IAC9CA,wDAAA,IAAAwnC,8CAAA,kBAYM;;IACVxnC,0DAAA,EAAU;;;;IAZeA,uDAAA,GAAmB;IAAnBA,wDAAA,YAAAA,yDAAA,OAAA4E,MAAA,CAAAzD,QAAA,EAAmB;;;;;;IAchDnB,4DAAA,cAGC;IAMOA,wDAAA,mBAAAynC,6DAAA;MAAAznC,2DAAA,CAAA0nC,IAAA;MAAA,MAAAC,OAAA,GAAA3nC,2DAAA;MAAA,OAASA,yDAAA,CAAA2nC,OAAA,CAAA9jB,KAAA,EAAO;IAAA,EAAC;IALrB7jB,oDAAA,OAOC;IAEDA,0DAAA,EAAS;;;AAxLrB,MA4LaygC,oBAAoB;EAQ7B,IAAW5rB,QAAQA,CAAA;IACf,OAAO,IAAI,CAACH,IAAI,CAACG,QAAQ;EAC7B;EACA,IAAWA,QAAQA,CAACmU,GAAG;IACnB,IAAI,CAACtU,IAAI,CAACG,QAAQ,GAAGmU,GAAG;EAC5B;EAOA,IAAW4e,kBAAkBA,CAAA;IACzB,OAAO,CAAC,CAAC,IAAI,CAAC15B,SAAS,CAACC,GAAG,CAAC,8BAA8B,CAAC;EAC/D;EACA,IAAW05B,aAAaA,CAAA;IACpB,OACI,IAAI,CAACD,kBAAkB,IACvB,CAAC,CAAC,IAAI,CAAC15B,SAAS,CAACC,GAAG,CAAC,yBAAyB,CAAC;EAEvD;EAEA,IAAW25B,QAAQA,CAAA;IACf,OAAO5sB,oDAAQ,CACXwrB,oDAAO,CACH9qB,IAAI,CAAChV,GAAG,EAAE,EACV,IAAI,CAACsH,SAAS,CAACC,GAAG,CAAC,4BAA4B,CAAC,IAAI,EAAE,CACzD,CACJ;EACL;EAEArI,YAEYiiC,WAAoD,EACpDhmB,MAA0B,EAC1BrN,IAAyB,EACzBxG,SAA0B;IAH1B,KAAA65B,WAAW,GAAXA,WAAW;IACX,KAAAhmB,MAAM,GAANA,MAAM;IACN,KAAArN,IAAI,GAAJA,IAAI;IACJ,KAAAxG,SAAS,GAATA,SAAS;IA3Cd,KAAA85B,SAAS,GAAG,KAAK;IACR,KAAAze,OAAO,GAAG,IAAI,CAACxH,MAAM,CAACwH,OAAO;IAC7B,KAAApoB,QAAQ,GAAG,IAAI,CAAC4gB,MAAM,CAAC5gB,QAAQ;IAC/B,KAAAwT,SAAS,GAAG,IAAI,CAACD,IAAI,CAACuzB,gBAAgB;IACtC,KAAAf,MAAM,GAAG,IAAI,CAACxyB,IAAI,CAACwzB,aAAa;IAChC,KAAAvnC,IAAI,GAAG,IAAI,CAACohB,MAAM,CAACphB,IAAI;IASvB,KAAAkjB,KAAK,GAAG,MAAM,IAAI,CAACkkB,WAAW,CAACI,OAAO,EAAE;IACxC,KAAA3lB,UAAU,GAAIwjB,CAAC,IAAK,IAAI,CAACjkB,MAAM,CAACS,UAAU,CAACwjB,CAAC,CAAC;IAC7C,KAAAhO,UAAU,GAAG,CAACiO,CAAC,EAAE38B,CAAC,KAAK,IAAI,CAACyY,MAAM,CAACiW,UAAU,CAACiO,CAAC,EAAE38B,CAAC,CAAC;IACnD,KAAA8+B,QAAQ,GAAIC,CAAC,IAAI,CAAE,CAAC;IA4BhC,IAAI,CAACL,SAAS,GAAG,CAAC,CAAC,IAAI,CAACD,WAAW;EACvC;;AA/CStH,oBAAoB;mBAApBA,oBAAoB,EAAAzgC,+DAAA,CAAAzC,8EAAA,MAAAyC,+DAAA,CAAAH,qEAAA,GAAAG,+DAAA,CAAAiV,+FAAA,GAAAjV,+DAAA,CAAAq7B,4DAAA;AAAA;AAApBoF,oBAAoB;QAApBA,oBAAoB;EAAAz/B,SAAA;EAAAK,KAAA;EAAAC,IAAA;EAAAC,MAAA,WAAAA,CAAA;IAAA,IAAAC,MAAA;IAAA,WAAAC,iBAAA,oBAAAA,iBAAA;;;;;;;eAhK2BC,SAAA,6EAAY;;;;;;;;;;eAQnBA,SAAA,wEAAO;;;;;;;;;;eA0D5BA,SAAA,qEAAI;;;;;;;;;;eAYAA,SAAA,2EAAU;;;;;;;;;;eASVA,SAAA,yEAAQ;;;;;;;;;;;;;;;;gBAmBSA,SAAA,mEACjC,eAAqC,kBACzC;;;;;;;;;;;;;;;;gBAE6CA,SAAA,mEACrC,eAAyC,kBAC7C;;;;;;;;;;gBAlGYA,SAAA,yEAAQ;;;;;;;;;;gBAsFyBA,SAAA,yEAE7C;;;;;;;;;;gBAyBiCA,SAAA,qEAAI;;;;;;;;;;gBA2B5CA,SAAA,gFAED;;;;;;MA3KJ1B,4DAAA,aAEC;MAEOA,wDAAA,IAAAsoC,sCAAA,oBASS;MACbtoC,0DAAA,EAAM;MACNA,4DAAA,YAAgD;MAAhDA,oDAAA,MAAgD;MAAYA,0DAAA,EAAK;MACjEA,uDAAA,aAA0B;MAC9BA,0DAAA,EAAM;MACNA,4DAAA,cAGC;MAEOA,oDAAA,MAAqC;MAAOA,0DAAA,EAAK;MAEjDA,wDAAA,KAAAuoC,oCAAA,kBAyBM;;MAENvoC,wDAAA,KAAAwoC,oCAAA,kBAyBM;;MAGNxoC,4DAAA,eAAkC;MAC9BA,oDAAA,QAAY;MAAIA,0DAAA,EAAQ;MACxBA,4DAAA,wBAIC;MACGA,oDAAA,IACJ;;MAAAA,0DAAA,EAAe;MAGnBA,4DAAA,eAAyC;MAEjCA,oDAAA,QAAY;MAAUA,0DAAA,EAAQ;MAC9BA,4DAAA,wBAKC;MAFGA,wDAAA,2BAAAyoC,qEAAAn9B,MAAA;QAAA,OAAiBxJ,GAAA,CAAAnB,IAAA,CAAA0Z,UAAA;UAAAtU,IAAA,EAAAuF;QAAA,EAAiC;MAAA,EAAC;MAEtDtL,0DAAA,EAAe;MAEpBA,4DAAA,eAA0B;MACtBA,oDAAA,QAAY;MAAQA,0DAAA,EAAQ;MAC5BA,uDAAA,4BAOmB;MACvBA,0DAAA,EAAM;MAGVA,wDAAA,KAAA0oC,oCAAA,kBAIM;MACV1oC,0DAAA,EAAU;MACVA,4DAAA,mBAAqC;MACjCA,oDAAA,QAAqC;;MAErCA,0DAAA,EAAK;MACLA,4DAAA,eAA+B;MAC3BA,oDAAA,QAAyC;;MAEzCA,0DAAA,EAAM;MACNA,4DAAA,wBAKC;MAFGA,wDAAA,2BAAA2oC,qEAAAr9B,MAAA;QAAA,OAAiBxJ,GAAA,CAAA0gB,UAAA;UAAAqjB,QAAA,EAAAv6B;QAAA,EAAgC;MAAA,EAAC;;MAGtDtL,0DAAA,EAAe;MAGvBA,wDAAA,KAAA4oC,wCAAA,sBAmBU;;MACd5oC,0DAAA,EAAO;MACPA,wDAAA,KAAA6oC,oCAAA,kBAcM;;;;;;;;MAnKO7oC,uDAAA,GAAe;MAAfA,wDAAA,SAAA8B,GAAA,CAAAkmC,SAAA,CAAe;MAWxBhoC,uDAAA,GAAkB;MAAlBA,wDAAA,cAAA8B,GAAA,CAAAnB,IAAA,CAAkB;MAMTX,uDAAA,GAAiC;MAAjCA,wDAAA,UAAAwhB,OAAA,GAAAxhB,yDAAA,SAAA8B,GAAA,CAAA6S,SAAA,oBAAA6M,OAAA,CAAA7X,MAAA,CAAiC;MA2BjC3J,uDAAA,GAAkC;MAAlCA,wDAAA,WAAA8oC,OAAA,GAAA9oC,yDAAA,SAAA8B,GAAA,CAAAolC,MAAA,oBAAA4B,OAAA,CAAAn/B,MAAA,MAAkC;MAgC/B3J,uDAAA,GAAe;MAAfA,wDAAA,OAAA8B,GAAA,CAAAgmC,QAAA,CAAe;MAEf9nC,uDAAA,GACJ;MADIA,gEAAA,MAAAA,yDAAA,iCACJ;MAQQA,uDAAA,GAA2B;MAA3BA,wDAAA,YAAA8B,GAAA,CAAAnB,IAAA,CAAAyV,KAAA,CAAArQ,IAAA,CAA2B,mBAAA/F,6DAAA,KAAA2M,IAAA;MAS3B3M,uDAAA,GAAgC;MAAhCA,wDAAA,UAAA+oC,OAAA,GAAAjnC,GAAA,CAAAnB,IAAA,CAAAwN,GAAA,2BAAA46B,OAAA,CAAA3yB,KAAA,CAAgC;MAStCpW,uDAAA,GAAmB;MAAnBA,wDAAA,SAAA8B,GAAA,CAAA+lC,aAAA,CAAmB;MASzB7nC,uDAAA,GAAK;MAALA,uDAAA,CAAAA,yDAAA,8BAAK;MAALA,yDAAA,IAAK;MAIDA,uDAAA,GAAM;MAANA,uDAAA,CAAAA,yDAAA,kCAAM;MAANA,yDAAA,IAAM;MAGFA,uDAAA,GAAuC;MAAvCA,wDAAA,aAAAgpC,QAAA,GAAAhpC,yDAAA,SAAA8B,GAAA,CAAAynB,OAAA,oBAAAyf,QAAA,CAAAnD,QAAA,CAAuC,mBAAA7lC,6DAAA,KAAA2M,IAAA;MAU9C3M,uDAAA,GAAgC;MAAhCA,wDAAA,UAAAipC,QAAA,GAAAjpC,yDAAA,SAAA8B,GAAA,CAAAX,QAAA,oBAAA8nC,QAAA,CAAAt/B,MAAA,CAAgC;MAoBpC3J,uDAAA,GAAe;MAAfA,wDAAA,SAAA8B,GAAA,CAAAkmC,SAAA,CAAe;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrL2C;AAClC;AACA;AACsC;;;;;;;;;IAwC/ChoC,4DAAA,cAGC;IACaA,oDAAA,WAAI;IAAAA,0DAAA,EAAW;;;;;IAE7BA,uDAAA,cAIE;;;;IADEA,wDAAA,QAAAkpC,OAAA,CAAAroB,MAAA,KAAA7gB,2DAAA,CAAsB;;;;;IAGtBA,uDAAA,cAGE;;;;;;IA9BlBA,4DAAA,aAKC;IAKOA,wDAAA,mBAAAmpC,4EAAA;MAAA,MAAAtmC,WAAA,GAAA7C,2DAAA,CAAAszB,IAAA;MAAA,MAAA4V,OAAA,GAAArmC,WAAA,CAAAI,SAAA;MAAA,MAAAswB,OAAA,GAAAvzB,2DAAA;MAAA,OAASA,yDAAA,CAAAuzB,OAAA,CAAA6V,UAAA,CAAAF,OAAA,CAAgB;IAAA,EAAC;IAE1BlpC,4DAAA,cAEC;IACGA,wDAAA,IAAAqpC,yDAAA,kBAKM;IACNrpC,wDAAA,IAAAspC,yDAAA,kBAIE;IACFtpC,wDAAA,IAAAupC,iEAAA,iCAAAvpC,oEAAA,CAKc;IAClBA,0DAAA,EAAM;IACNA,4DAAA,cAA6C;IAErCA,oDAAA,GACJ;IAAAA,0DAAA,EAAO;IACPA,4DAAA,eAAiD;IACbA,oDAAA,aAAK;IAAAA,0DAAA,EAAW;IAChDA,4DAAA,aAAmB;IACfA,oDAAA,IAKJ;IAAAA,0DAAA,EAAI;IAIhBA,4DAAA,kBAOC;IADGA,wDAAA,mBAAAwpC,6EAAA;MAAA,MAAA3mC,WAAA,GAAA7C,2DAAA,CAAAszB,IAAA;MAAA,MAAA4V,OAAA,GAAArmC,WAAA,CAAAI,SAAA;MAAA,MAAAoB,OAAA,GAAArE,2DAAA;MAAA,OAASA,yDAAA,CAAAqE,OAAA,CAAA0f,SAAA,CAAA1a,IAAA,CAAA6/B,OAAA,CAAoB;IAAA,EAAC;IAE9BlpC,4DAAA,gBAAU;IAAAA,oDAAA,IAIR;IAAAA,0DAAA,EAAW;;;;;;IAzDjBA,yDAAA,qBAAAmU,MAAA,CAAAgQ,MAAA,KAAA+kB,OAAA,CAAArhC,EAAA,CAA6C;IAahC7H,uDAAA,GAAgC;IAAhCA,wDAAA,SAAAmU,MAAA,CAAA8N,QAAA,CAAAzU,QAAA,CAAA07B,OAAA,CAAArhC,EAAA,EAAgC;IAKhC7H,uDAAA,GAA2B;IAA3BA,wDAAA,SAAAkpC,OAAA,CAAAroB,MAAA,kBAAAqoB,OAAA,CAAAroB,MAAA,CAAAlX,MAAA,CAA2B,aAAAmD,IAAA;IAa5B9M,uDAAA,GACJ;IADIA,gEAAA,MAAAkpC,OAAA,CAAAvjC,IAAA,IAAAujC,OAAA,CAAArhC,EAAA,gBACJ;IAIQ7H,uDAAA,GAKJ;IALIA,gEAAA,OAAAkpC,OAAA,CAAAtgB,IAAA,kBAAAsgB,OAAA,CAAAtgB,IAAA,CAAAoJ,YAAA,MAAAkX,OAAA,CAAAtgB,IAAA,kBAAAsgB,OAAA,CAAAtgB,IAAA,CAAAjjB,IAAA,uBAKJ;IASR3F,uDAAA,GAA4C;IAA5CA,yDAAA,kBAAAmU,MAAA,CAAAqR,WAAA,CAAA0jB,OAAA,CAAArhC,EAAA,EAA4C;IAGlC7H,uDAAA,GAIR;IAJQA,+DAAA,CAAAmU,MAAA,CAAAqR,WAAA,CAAA0jB,OAAA,CAAArhC,EAAA,mCAIR;;;;;IAjEd7H,4DAAA,YAGC;IACGA,wDAAA,IAAAypC,mDAAA,kBA+DK;;IACTzpC,0DAAA,EAAK;;;;IA9DoBA,uDAAA,GAAgB;IAAhBA,wDAAA,YAAAA,yDAAA,OAAAqM,MAAA,CAAAq2B,KAAA,EAAgB;;;;;IAP7C1iC,qEAAA,GAAkE;IAC9DA,wDAAA,IAAA0pC,8CAAA,gBAoEK;;IACT1pC,mEAAA,EAAe;;;;;;IAnENA,uDAAA,GAA+B;IAA/BA,wDAAA,UAAAyP,OAAA,GAAAzP,yDAAA,OAAAU,MAAA,CAAAgiC,KAAA,oBAAAjzB,OAAA,CAAA9F,MAAA,CAA+B,aAAA4X,GAAA;;;;;IAqEpCvhB,4DAAA,cAGC;IACGA,uDAAA,sBAA2C;IAC3CA,4DAAA,YAAsB;IAAAA,oDAAA,iCAA0B;IAAAA,0DAAA,EAAI;;;IADvCA,uDAAA,GAAe;IAAfA,wDAAA,gBAAe;;;;;IAKhCA,4DAAA,cAGC;IAEOA,oDAAA,2DACJ;IAAAA,0DAAA,EAAI;;;AAzGpB,MA8Ga0gC,iBAAiB;EAiB1B56B,YAAoBic,MAA0B;IAA1B,KAAAA,MAAM,GAANA,MAAM;IAhBV,KAAAoC,MAAM,GAAW,EAAE;IACnB,KAAAlC,QAAQ,GAAW,EAAE;IACrB,KAAAL,SAAS,GAAa,EAAE;IACvB,KAAAkE,QAAQ,GAAG,IAAI5jB,uDAAY,EAAgB;IAC3C,KAAA6hB,SAAS,GAAG,IAAI7hB,uDAAY,EAAgB;IAE7C,KAAAwgC,KAAK,GAAG5d,mDAAa,CAAC,CAClC,IAAI,CAAC/C,MAAM,CAACwH,OAAO,EACnB,IAAI,CAACxH,MAAM,CAACoV,mBAAmB,CAClC,CAAC,CAACnb,IAAI,CACHxT,mDAAG,CAAC,CAAC,CAAC;MAAEq9B;IAAQ,CAAE,EAAEvlB,CAAC,CAAC,KAClBA,CAAC,CAACpY,MAAM,CAAEC,CAAC,IAAK,CAAC09B,QAAQ,IAAI,IAAI,CAACrgB,WAAW,CAACrd,CAAC,CAACN,EAAE,CAAC,CAAC,CACvD,CACJ;IACe,KAAAgI,OAAO,GAAG,IAAI,CAACkS,MAAM,CAAClS,OAAO;EAEI;EAE1C2V,WAAWA,CAACmkB,OAAe;IAC9B,OAAO,IAAI,CAAC/nB,SAAS,CAACpU,QAAQ,CAACm8B,OAAO,CAAC;EAC3C;EAEOP,UAAUA,CAACjK,IAAkB;IAChC,IAAI,CAACrZ,QAAQ,CAACzc,IAAI,CAAC81B,IAAI,CAAC;EAC5B;;AAzBSuB,iBAAiB;mBAAjBA,iBAAiB,EAAA1gC,+DAAA,CAAAzC,qEAAA;AAAA;AAAjBmjC,iBAAiB;QAAjBA,iBAAiB;EAAA1/B,SAAA;EAAAC,MAAA;IAAAkjB,MAAA;IAAAlC,QAAA;IAAAL,SAAA;EAAA;EAAAlH,OAAA;IAAAoL,QAAA;IAAA/B,SAAA;EAAA;EAAA1iB,KAAA;EAAAC,IAAA;EAAAC,MAAA,WAAAA,CAAA;IAAA,IAAAC,MAAA;IAAA,WAAAC,iBAAA,oBAAAA,iBAAA;;;;;;;eAhGKC,SAAA,wEAAO;;;;;;;;;;;;;;;;eACYA,SAAA,mEAC1C,eAAkC,kCACtC;;;;;;MAHA1B,4DAAA,YAA2B;MAA3BA,oDAAA,MAA2B;MAAOA,0DAAA,EAAK;MACvCA,4DAAA,WAA8C;MAA9CA,oDAAA,MAA8C;;MAE9CA,0DAAA,EAAI;MACJA,wDAAA,IAAA4pC,yCAAA,0BAsEe;;MACf5pC,wDAAA,IAAA6pC,wCAAA,gCAAA7pC,oEAAA,CAQc;MACdA,wDAAA,IAAA8pC,wCAAA,gCAAA9pC,oEAAA,CASc;;;;;;MA1FdA,uDAAA,GAAI;MAAJA,uDAAA,GAAAyP,OAAA,GAAAzP,yDAAA,OAAA8B,GAAA,CAAA4gC,KAAA,oBAAAjzB,OAAA,CAAA9F,MAAA,OAAI;MAAJ3J,yDAAA,GAAI;MACWA,uDAAA,GAAkC;MAAlCA,wDAAA,YAAAunC,OAAA,GAAAvnC,yDAAA,OAAA8B,GAAA,CAAA+N,OAAA,oBAAA03B,OAAA,CAAA59B,MAAA,EAAkC,aAAAiU,GAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChBlC;AACiD;AACnC;AAEsC;AACrB;AACwB;AACc;;;;;;;;;;;;;IA8BxE5d,4DAAA,qBAGC;IACGA,oDAAA,GACJ;IAAAA,0DAAA,EAAa;;;;IAHTA,wDAAA,UAAAiqC,MAAA,CAAa;IAEbjqC,uDAAA,GACJ;IADIA,gEAAA,MAAAiqC,MAAA,CAAAjY,YAAA,IAAAiY,MAAA,CAAAtkC,IAAA,MACJ;;;;;;;;AAhCpB,MAgEag7B,gBAAiB,SAAQ5gC,yDAAY;EAgB9C,IAAWo7B,OAAOA,CAAA;IACd,OAAO,IAAI,CAACrJ,KAAK,EAAEsB,MAAM,IAAI,EAAE;EACnC;EAoEAttB,YACYic,MAA0B,EAC1B7T,SAA0B;IAElC,KAAK,EAAE;IAHC,KAAA6T,MAAM,GAANA,MAAM;IACN,KAAA7T,SAAS,GAATA,SAAS;IAvFL,KAAAg8B,YAAY,GAAY,KAAK;IAC7B,KAAA/lB,MAAM,GAAG,EAAE;IACV,KAAA2B,QAAQ,GAAG,IAAI5jB,uDAAY,EAAgB;IAE5C,KAAAwgC,KAAK,GAAG,IAAI,CAAC3gB,MAAM,CAACoV,mBAAmB;IACvC,KAAAtnB,OAAO,GAAG,IAAI,CAACkS,MAAM,CAAClS,OAAO;IAEtC,KAAAs6B,IAAI,GAAG,CAAC;IACR,KAAA3gC,MAAM,GAAG;MAAEC,CAAC,EAAE,GAAG;MAAEI,CAAC,EAAE;IAAG,CAAE;IAG1B,KAAAugC,OAAO,GAAG,IAAIrvB,iDAAe,CAAC,CAAC,CAAC;IAExB,KAAAyH,UAAU,GAAIwjB,CAAC,IAAK,IAAI,CAACjkB,MAAM,CAACS,UAAU,CAACwjB,CAAC,CAAC;IAM7C,KAAAkB,MAAM,GAAG,IAAI,CAACnlB,MAAM,CAACoV,mBAAmB,CAACnb,IAAI,CACzDxT,mDAAG,CAAEk6B,KAAK,IACN5N,uDAAM,CACF4N,KAAK,CAACl6B,GAAG,CAAE22B,IAAI,IAAKA,IAAI,CAACvW,IAA4B,CAAC,EACtD,IAAI,CACP,CACJ,CACJ;IAEe,KAAAyhB,OAAO,GAAG,IAAI,CAACtoB,MAAM,CAACoV,mBAAmB,CAACnb,IAAI,CAC1DxT,mDAAG,CAAEk6B,KAAK,IACNA,KAAK,CAACl6B,GAAG,CAAE22B,IAAI,KAAM;MACjBt3B,EAAE,EAAEs3B,IAAI,CAAC/L,MAAM,IAAI+L,IAAI,CAACt3B,EAAE;MAC1ByiC,MAAM,EAAE,CAAC,UAAU,EAAE,SAAS,CAAC;MAC/BC,QAAQ,EAAEA,CAAA,KAAM,IAAI,CAACnB,UAAU,CAACjK,IAAW;KAC9C,CAAC,CAAC,CACN,CACJ;IAEe,KAAAh+B,QAAQ,GAAG,IAAI,CAAC4gB,MAAM,CAAC8U,SAAS,CAAC7a,IAAI,CACjDxT,mDAAG,CAAEk6B,KAAK,IAAI;MACV,OAAO,IAAI,CAACx0B,SAAS,CAACC,GAAG,CAAC,qBAAqB,CAAC,GAC1C,EAAE,GACFu0B,KAAK,CAACl6B,GAAG,CAAE22B,IAAI,KAAM;QACjBtO,QAAQ,EAAEsO,IAAI,CAACt3B,EAAE;QACjB0B,OAAO,EAAEygC,sGAAwB;QACjCQ,SAAS,EAAE,IAAI;QACfC,QAAQ,EAAE,IAAI;QACdjsB,IAAI,EAAE;UACF3W,EAAE,EAAEs3B,IAAI,CAAC/L,MAAM,IAAI+L,IAAI,CAACt3B,EAAE;UAC1BurB,MAAM,EAAE+L,IAAI,CAACx5B,IAAI;UACjBA,IAAI,EAAEw5B,IAAI,CAACx5B,IAAI,IAAIw5B,IAAI,CAAC/L,MAAM;UAC9B9c,IAAI,EAAE,IAAI,CAACyL,MAAM,CAACkU,gBAAgB,CAACkJ,IAAI,CAACt3B,EAAE;SAC7C;QACD6iC,OAAO,EAAE;OACZ,CAAC,CAAC;IACb,CAAC,CAAC,CACL;IAEe,KAAAC,MAAM,GAAG7lB,mDAAa,CAAC,CACnC,IAAI,CAAC/C,MAAM,CAAC8U,SAAS,EACrB,IAAI,CAAC9U,MAAM,CAACoV,mBAAmB,EAC/B,IAAI,CAACiT,OAAO,CACf,CAAC,CAACpuB,IAAI,CACHxT,mDAAG,CAAC,CAAC,CAACk6B,KAAK,EAAEkI,UAAU,CAAC,KACpBlI,KAAK,CAAC/jB,MAAM,CAAC,CAACgsB,MAAM,EAAExL,IAAI,KAAI;MAC1B,MAAM0L,OAAO,GAAG,IAAI,CAAC38B,SAAS,CAACC,GAAG,CAAC,oBAAoB,CAAC,IAAI,EAAE;MAC9D,MAAMkjB,MAAM,GACR,IAAI,CAAClN,MAAM,KAAKgb,IAAI,CAACt3B,EAAE,GACjB,QAAQ,GACR+iC,UAAU,CAAChiC,IAAI,CAAE0X,CAAC,IAAKA,CAAC,CAACzY,EAAE,KAAKs3B,IAAI,CAACt3B,EAAE,CAAC,GACxC,MAAM,GACN,MAAM;MAChB8iC,MAAM,CAAC,IAAIxL,IAAI,CAAC/L,MAAM,IAAI+L,IAAI,CAACt3B,EAAE,EAAE,CAAC,GAAG;QACnCijC,IAAI,EACAzZ,MAAM,KAAK,QAAQ,GACb,SAAS,GACTwZ,OAAO,CAAC,QAAQxZ,MAAM,EAAE,CAAC,IACzBwZ,OAAO,CAAC,GAAGxZ,MAAM,EAAE,CAAC,IACpB0Y,wFAAe,CAAC,GAAG1Y,MAAM,EAAE;OACxC;MACD,OAAOsZ,MAAM;IACjB,CAAC,EAAE,EAAE,CAAC,CACT,CACJ;EAOD;EAEOtkC,QAAQA,CAAA;IACX,IAAI,CAACorB,YAAY,CACb,eAAe,EACf,IAAI,CAACyV,MAAM,CAACjrB,SAAS,CAAEirB,MAAM,IAAI;MAC7B,IAAI,CAACA,MAAM,CAACt+B,IAAI,CAAE0X,CAAC,IAAKA,CAAC,CAACzY,EAAE,KAAK,IAAI,CAACiqB,KAAK,EAAEjqB,EAAE,CAAC,EAAE;QAC9C,IAAI,CAACiqB,KAAK,GAAGoV,MAAM,CAAC,CAAC,CAAC;;IAE9B,CAAC,CAAC,CACL;EACL;EAEO7/B,WAAWA,CAACC,OAAsB;IACrC,IAAIA,OAAO,CAAC6c,MAAM,EAAE,IAAI,CAACimB,OAAO,CAAC/sB,IAAI,CAACzB,IAAI,CAAChV,GAAG,EAAE,CAAC;EACrD;EAEOwiC,UAAUA,CAACjK,IAAkB;IAChC,IAAI,CAACrZ,QAAQ,CAACzc,IAAI,CAAC81B,IAAI,CAAC;EAC5B;EAEO4L,OAAOA,CAACC,QAAgB;IAC3B,IAAI,CAACb,IAAI,GAAGjjC,IAAI,CAAC2D,GAAG,CAAC,GAAG,EAAE3D,IAAI,CAAC+jC,GAAG,CAAC,EAAE,EAAED,QAAQ,CAAC,CAAC;EACrD;EAEOE,QAAQA,CAAA;IACX,IAAI,CAACf,IAAI,GAAG,CAAC;IACb,IAAI,CAAC3gC,MAAM,GAAG;MAAEC,CAAC,EAAE,GAAG;MAAEI,CAAC,EAAE;IAAG,CAAE;EACpC;;AAvHS82B,gBAAiB;mBAAjBA,gBAAgB,EAAA3gC,+DAAA,CAAAzC,qEAAA,GAAAyC,+DAAA,CAAAH,4DAAA;AAAA;AAAhB8gC,gBAAiB;QAAjBA,gBAAgB;EAAA3/B,SAAA;EAAAC,MAAA;IAAAipC,YAAA;IAAA/lB,MAAA;EAAA;EAAAzJ,OAAA;IAAAoL,QAAA;EAAA;EAAA3kB,QAAA,GAAAnB,wEAAA,EAAAA,kEAAA;EAAAqB,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAiV,QAAA,WAAA20B,0BAAAngC,EAAA,EAAAlJ,GAAA;IAAA,IAAAkJ,EAAA;MA/CrBhL,4DAAA,aAA0D;MAO9CA,wDAAA,2BAAAorC,8DAAA9/B,MAAA;QAAA,OAAAxJ,GAAA,CAAAgwB,KAAA,GAAAxmB,MAAA;MAAA,EAAmB;MAGnBtL,wDAAA,IAAAqrC,sCAAA,wBAKa;;MACjBrrC,0DAAA,EAAa;MAGrBA,4DAAA,aAAoC;MAG5BA,wDAAA,wBAAAsrC,sDAAAhgC,MAAA;QAAA,OAAAxJ,GAAA,CAAAqoC,IAAA,GAAA7+B,MAAA;MAAA,EAAe,0BAAAigC,wDAAAjgC,MAAA;QAAA,OAAAxJ,GAAA,CAAA0H,MAAA,GAAA8B,MAAA;MAAA;;;;MAKlBtL,0DAAA,EAAQ;MAEbA,4DAAA,cAGC;MACkCA,wDAAA,mBAAAwrC,mDAAA;QAAA,OAAS1pC,GAAA,CAAAipC,OAAA,CAAAjpC,GAAA,CAAAqoC,IAAA,GAAe,GAAG,CAAC;MAAA,EAAC;MACxDnqC,4DAAA,gBAAU;MAAAA,oDAAA,eAAO;MAAAA,0DAAA,EAAW;MAEhCA,uDAAA,cAAmD;MACnDA,4DAAA,iBAAoE;MAApCA,wDAAA,mBAAAyrC,mDAAA;QAAA,OAAS3pC,GAAA,CAAAipC,OAAA,CAAAjpC,GAAA,CAAAqoC,IAAA,IAAgB,CAAC,GAAG,GAAG,EAAE;MAAA,EAAC;MAC/DnqC,4DAAA,gBAAU;MAAAA,oDAAA,gBAAQ;MAAAA,0DAAA,EAAW;MAEjCA,uDAAA,cAAmD;MACnDA,4DAAA,kBAAkD;MAArBA,wDAAA,mBAAA0rC,mDAAA;QAAA,OAAS5pC,GAAA,CAAAopC,QAAA,EAAU;MAAA,EAAC;MAC7ClrC,4DAAA,gBAAU;MAAAA,oDAAA,eAAO;MAAAA,0DAAA,EAAW;;;MAnCxBA,uDAAA,GAAmB;MAAnBA,wDAAA,YAAA8B,GAAA,CAAAgwB,KAAA,CAAmB,mBAAA9xB,6DAAA,KAAAyT,GAAA;MAICzT,uDAAA,GAAiB;MAAjBA,wDAAA,YAAAA,yDAAA,OAAA8B,GAAA,CAAAolC,MAAA,EAAiB;MAUzClnC,uDAAA,GAAe;MAAfA,wDAAA,QAAA8B,GAAA,CAAAq5B,OAAA,CAAe,SAAAr5B,GAAA,CAAAqoC,IAAA,YAAAroC,GAAA,CAAA0H,MAAA,cAAAxJ,yDAAA,QAAA8B,GAAA,CAAAX,QAAA,aAAAnB,yDAAA,QAAA8B,GAAA,CAAA6oC,MAAA,cAAA3qC,yDAAA,QAAA8B,GAAA,CAAAuoC,OAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtD0C;AACvB;AAKjB;;;;;;;;;;;;;;;;IAoDbrqC,4DAAA,oBAQC;IAHGA,wDAAA,uBAAA4rC,8EAAAtgC,MAAA;MAAAtL,2DAAA,CAAA6rC,GAAA;MAAA,MAAAjnC,MAAA,GAAA5E,2DAAA;MAAA,OAAaA,yDAAA,CAAA4E,MAAA,CAAA0c,eAAA,CAAAhW,MAAA,CAAuB;IAAA,EAAC,sBAAAwgC,6EAAAxgC,MAAA;MAAAtL,2DAAA,CAAA6rC,GAAA;MAAA,MAAA13B,MAAA,GAAAnU,2DAAA;MAAA,OAAAA,yDAAA,CAAAmU,MAAA,CAAAoS,SAAA,GAAAjb,MAAA;IAAA;IAGxCtL,0DAAA,EAAY;;;;IANTA,wDAAA,WAAAU,MAAA,CAAA6lB,SAAA,kBAAA7lB,MAAA,CAAA6lB,SAAA,CAAA1e,EAAA,CAAwB,aAAAnH,MAAA,CAAA8lB,YAAA,eAAA9lB,MAAA,CAAAkhB,SAAA;;;;;;IAwBhC5hB,4DAAA,iBAQC;IAFGA,wDAAA,mBAAA+rC,oEAAA;MAAA/rC,2DAAA,CAAAgsC,GAAA;MAAA,MAAA33B,MAAA,GAAArU,2DAAA;MAAA,OAAAA,yDAAA,CAAAqU,MAAA,CAAAkS,SAAA,GAAqB,IAAI;IAAA,EAAC;IAN9BvmB,oDAAA,OAQC;IAEDA,0DAAA,EAAS;;;;;;IAuDbA,4DAAA,mBAKC;IADGA,wDAAA,sBAAAisC,8EAAA3gC,MAAA;MAAAtL,2DAAA,CAAA8M,IAAA;MAAA,MAAAC,MAAA,GAAA/M,2DAAA;MAAA,OAAAA,yDAAA,CAAA+M,MAAA,CAAAwZ,SAAA,GAAAjb,MAAA;IAAA,EAA+B;IAEnCtL,0DAAA,EAAW;;;;IAJPA,wDAAA,mBAAA0D,MAAA,CAAA6iB,SAAA,CAA4B,WAAA7iB,MAAA,CAAA6iB,SAAA,kBAAA7iB,MAAA,CAAA6iB,SAAA,CAAA1e,EAAA;;;AA/IrC,MAAMk7B,YAAY,GAAG,iBAAiB;AAE7C,MAqJanC,wBAAwB;EAKjC,IAAWpa,YAAYA,CAAA;IACnB,OAAO,IAAI,CAACvE,QAAQ,CAACzZ,GAAG,CAAE8X,CAAC,IAAKA,CAAC,CAACzY,EAAE,CAAC,CAAC4e,IAAI,CAAC,GAAG,CAAC;EACnD;EAEA,IAAW7E,SAASA,CAAA;IAChB,OAAO,IAAI,CAAC1T,SAAS,CAACC,GAAG,CAAW40B,YAAY,CAAC,IAAI,EAAE;EAC3D;EAEAj9B,YACYomC,WAAmD,EACnDh+B,SAA0B,EAC1Bi+B,WAA+B,EAE/BjyB,KAGP;IAPO,KAAAgyB,WAAW,GAAXA,WAAW;IACX,KAAAh+B,SAAS,GAATA,SAAS;IACT,KAAAi+B,WAAW,GAAXA,WAAW;IAEX,KAAAjyB,KAAK,GAALA,KAAK;IAhBV,KAAA+H,QAAQ,GAAmB,EAAE;IAC7B,KAAA8T,IAAI,GAAG,MAAM;IAoBhB,IAAI,CAAC9T,QAAQ,GAAG,CAAC,IAAI/H,KAAK,CAAC8H,KAAK,IAAI,EAAE,CAAC,CAAC;IACxC,IAAI,CAACmqB,WAAW,CAAC3pB,UAAU,CAACtI,KAAK,CAACqP,OAAO,CAAC;EAC9C;EAEO5C,UAAUA,CAAC9e,EAAU;IACxB,OAAOA,EAAE,IAAI,IAAI,CAAC2e,YAAY,CAAChZ,QAAQ,CAAC3F,EAAE,CAAC;EAC/C;EAEOgf,WAAWA,CAACzI,IAAkB,EAAE0I,KAAc;IACjD,MAAMC,IAAI,GAAG,IAAI,CAAC9E,QAAQ,CAAC/Z,MAAM,CAAEoY,CAAC,IAAKA,CAAC,CAACzY,EAAE,KAAKuW,IAAI,CAACvW,EAAE,CAAC;IAC1D,IAAIif,KAAK,EAAEC,IAAI,CAACnf,IAAI,CAACwW,IAAI,CAAC;IAC1B,IAAI,CAAC6D,QAAQ,GAAG8E,IAAI;IACpB,IAAI,CAAC,IAAI,CAAC7M,KAAK,CAACqP,OAAO,CAAClJ,KAAK,IAAIyG,KAAK,EAAE,IAAI,CAAColB,WAAW,CAACroB,KAAK,CAAC,CAACzF,IAAI,CAAC,CAAC;EAC1E;EAEOkD,eAAeA,CAAClD,IAAkB;IACrC,MAAMgF,QAAQ,GAAG,IAAI,CAACxB,SAAS;IAC/B,MAAMyB,SAAS,GAAG,CAACD,QAAQ,CAAC5V,QAAQ,CAAC4Q,IAAI,CAACvW,EAAE,CAAC;IAC7C,IAAIwb,SAAS,EAAE;MACX,IAAI,CAACnV,SAAS,CAACoV,eAAe,CAACyf,YAAY,EAAE,CACzC,GAAG3f,QAAQ,EACXhF,IAAI,CAACvW,EAAE,CACV,CAAC;KACL,MAAM;MACH,IAAI,CAACqG,SAAS,CAACoV,eAAe,CAC1Byf,YAAY,EACZ3f,QAAQ,CAAClb,MAAM,CAAEoY,CAAC,IAAKA,CAAC,KAAKlC,IAAI,CAACvW,EAAE,CAAC,CACxC;;EAET;;AApDS+4B,wBAAwB;mBAAxBA,wBAAwB,EAAA5gC,+DAAA,CAAAzC,kEAAA,GAAAyC,+DAAA,CAAAH,4DAAA,GAAAG,+DAAA,CAAAiV,qEAAA,GAAAjV,+DAAA,CAiBrBgZ,qEAAe;AAAA;AAjBlB4nB,wBAAwB;QAAxBA,wBAAwB;EAAA5/B,SAAA;EAAAK,KAAA;EAAAC,IAAA;EAAAC,MAAA,WAAAA,CAAA;IAAA,IAAAC,MAAA;IAAA,WAAAC,iBAAA,oBAAAA,iBAAA;;;;;;;eA1IZC,SAAA,0EAAS;;;;;;;;;;eAkFjBA,SAAA,4EAED;;;;;;;;;;eAcyCA,SAAA,4EAAY;;;;;;;;;;;;;;;;eAGlBA,SAAA,mEAC/B,eAAqB,gCACzB;;;;;;;;;;;;;;;;eAa+BA,SAAA,mEACnB,eAIE,kBACN;;;;;;;;;;gBAnDPA,SAAA,sEAED;;;;;;MAhFR1B,4DAAA,aAEC;MAGqBA,oDAAA,YAAK;MAAAA,0DAAA,EAAW;MAE9BA,4DAAA,SAAS;MAATA,oDAAA,MAAS;MAASA,0DAAA,EAAK;MACvBA,4DAAA,aAA4D;MAOpDA,wDAAA,mBAAAosC,0DAAA;QAAA,OAAAtqC,GAAA,CAAAi0B,IAAA,GAAgB,KAAK;MAAA,EAAC;MAEtB/1B,oDAAA,YACJ;MAAAA,0DAAA,EAAS;MACTA,4DAAA,iBAOC;MADGA,wDAAA,mBAAAqsC,2DAAA;QAAA,OAAAvqC,GAAA,CAAAi0B,IAAA,GAAgB,MAAM;MAAA,EAAC;MAEvB/1B,oDAAA,cACJ;MAAAA,0DAAA,EAAS;MAGjBA,4DAAA,eAEC;MACGA,uDAAA,uBAEgB;MAChBA,4DAAA,cAEC;MAGOA,wDAAA,wBAAAssC,8EAAAhhC,MAAA;QAAA,OAAAxJ,GAAA,CAAAi0B,IAAA,GAAAzqB,MAAA;MAAA,EAAe;MAClBtL,0DAAA,EAAuB;MACxBA,wDAAA,KAAAusC,8CAAA,wBAQa;MACjBvsC,0DAAA,EAAM;MACNA,4DAAA,wBAWC;MAJGA,wDAAA,0BAAAwsC,wEAAAlhC,MAAA;QAAA,OAAgBxJ,GAAA,CAAA+kB,WAAA,CAAA/kB,GAAA,CAAAykB,SAAA,EAAAjb,MAAA,CAA8B;MAAA,EAAC,uBAAAmhC,qEAAA;QAAA,OAElC3qC,GAAA,CAAAwf,eAAA,CAAAxf,GAAA,CAAAykB,SAAA,CAA0B;MAAA,EAFQ,mBAAAmmB,iEAAA;QAAA,OAAA5qC,GAAA,CAAAykB,SAAA,GAG1B,IAAI;MAAA,EAHsB;MAIlDvmB,0DAAA,EAAe;MAEpBA,4DAAA,kBAEC;MACGA,wDAAA,KAAA2sC,2CAAA,qBAUS;MACT3sC,4DAAA,kBAQC;MARDA,oDAAA,QAQC;MAEDA,0DAAA,EAAS;MAEbA,4DAAA,kBAEC;MASqCA,oDAAA,kBAAU;MAAAA,0DAAA,EAAW;MAC/CA,4DAAA,eAAiC;MAAjCA,oDAAA,QAAiC;MAAYA,0DAAA,EAAM;MAG3DA,4DAAA,aAAmC;MAAnCA,oDAAA,QAAmC;MAEnCA,0DAAA,EAAI;MACJA,4DAAA,kBAOC;MADGA,wDAAA,mBAAA4sC,2DAAA;QAAA,OAAS9qC,GAAA,CAAA+kB,WAAA,CAAA/kB,GAAA,CAAAykB,SAAA,GAAwBzkB,GAAA,CAAA6kB,UAAA,CAAA7kB,GAAA,CAAAykB,SAAA,kBAAAzkB,GAAA,CAAAykB,SAAA,CAAA1e,EAAA,CAAyB,CAAC;MAAA,EAAC;MAE5D7H,4DAAA,eAA+B;MACDA,oDAAA,IAExB;MAAAA,0DAAA,EAAW;MACbA,4DAAA,eAAuB;MAAvBA,oDAAA,QAAuB;MAMvBA,0DAAA,EAAM;MAKtBA,wDAAA,KAAA6sC,gDAAA,iCAAA7sC,oEAAA,CAQc;;;;MAhIEA,uDAAA,GAAgC;MAAhCA,yDAAA,YAAA8B,GAAA,CAAAi0B,IAAA,WAAgC;MAUhC/1B,uDAAA,GAAiC;MAAjCA,yDAAA,YAAA8B,GAAA,CAAAi0B,IAAA,YAAiC;MAkBjC/1B,uDAAA,GAAe;MAAfA,wDAAA,SAAA8B,GAAA,CAAAi0B,IAAA,CAAe;MAGd/1B,uDAAA,GAAuB;MAAvBA,wDAAA,SAAA8B,GAAA,CAAAi0B,IAAA,YAAuB,aAAAtnB,GAAA;MAY5BzO,uDAAA,GAA2B;MAA3BA,yDAAA,YAAA8B,GAAA,CAAAykB,SAAA,CAA2B,YAAAzkB,GAAA,CAAAykB,SAAA;MAF3BvmB,wDAAA,SAAA8B,GAAA,CAAAykB,SAAA,CAAkB,WAAAzkB,GAAA,CAAA0kB,YAAA,CAAAhZ,QAAA,CAAA1L,GAAA,CAAAykB,SAAA,kBAAAzkB,GAAA,CAAAykB,SAAA,CAAA1e,EAAA,eAAA/F,GAAA,CAAAi0B,IAAA,mBAAAj0B,GAAA,CAAAykB,SAAA,IAAAzkB,GAAA,CAAA8f,SAAA,CAAApU,QAAA,CAAA1L,GAAA,CAAAykB,SAAA,kBAAAzkB,GAAA,CAAAykB,SAAA,CAAA1e,EAAA;MAoBjB7H,uDAAA,GAAe;MAAfA,wDAAA,SAAA8B,GAAA,CAAAykB,SAAA,CAAe;MAWhBvmB,uDAAA,GAAwB;MAAxBA,yDAAA,SAAA8B,GAAA,CAAAykB,SAAA,CAAwB;MADxBvmB,wDAAA,qBAAA8B,GAAA,CAAAmgB,QAAA,CAA6B;MAe7BjiB,uDAAA,GAA6B;MAA7BA,wDAAA,qBAAA8B,GAAA,CAAAmgB,QAAA,CAA6B;MAUjCjiB,uDAAA,GAAI;MAAJA,uDAAA,CAAA8B,GAAA,CAAAmgB,QAAA,CAAAtY,MAAA,CAAI;MAAJ3J,yDAAA,IAAI;MAMAA,uDAAA,GAA2C;MAA3CA,yDAAA,YAAA8B,GAAA,CAAA6kB,UAAA,CAAA7kB,GAAA,CAAAykB,SAAA,kBAAAzkB,GAAA,CAAAykB,SAAA,CAAA1e,EAAA,EAA2C;MAD3C7H,wDAAA,cAAA8B,GAAA,CAAAykB,SAAA,CAAuB;MAKOvmB,uDAAA,GAExB;MAFwBA,+DAAA,CAAA8B,GAAA,CAAA6kB,UAAA,CAAA7kB,GAAA,CAAAykB,SAAA,kBAAAzkB,GAAA,CAAAykB,SAAA,CAAA1e,EAAA,qBAExB;MAOF7H,uDAAA,GAAM;MAANA,uDAAA,CAAA8B,GAAA,CAAA6kB,UAAA,CAAA7kB,GAAA,CAAAykB,SAAA,kBAAAzkB,GAAA,CAAAykB,SAAA,CAAA1e,EAAA,6CAAM;MAAN7H,yDAAA,IAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/IqC;AAM1C;AACoC;AACjB;AAEyC;AAI1B;AACgB;AACI;;;;AAE/E,MAGa8sC,YAAY;EAIrBhnC,YACY4O,IAAyB,EACzB4J,OAAkB;IADlB,KAAA5J,IAAI,GAAJA,IAAI;IACJ,KAAA4J,OAAO,GAAPA,OAAO;IALZ,KAAAkkB,YAAY,GAAG,IAAI;IACnB,KAAAuK,aAAa,GAAG,IAAI;EAKxB;EAEUC,QAAQA,CAAC;IAClBtK,KAAK;IACLjT,IAAI;IACJjV,MAAM;IACNuD,SAAS;IACThY;EAAI,CAOP;IAAA,IAAAoW,KAAA;IAAA,OAAAC,wJAAA;MACG,IAAID,KAAI,CAAC4wB,aAAa,IAAI,CAACtd,IAAI,EAAE;QAC7B,OAAOmF,4DAAW,CAAC,2CAA2C,CAAC;OAClE,MAAM;QACHnF,IAAI,GAAGA,IAAI,IAAI7Z,4DAAW,EAAE;;MAEhC4E,MAAM,GAAGA,MAAM,IAAI,EAAE;MACrB,MAAMsX,KAAK,GAAG3V,KAAI,CAACzH,IAAI,CAACqd,WAAW,CAC/B2Q,KAAK,CAAC,CAAC,CAAC,CAAC9Z,IAAI,YAAYoO,KAAK,GAAG0L,KAAK,CAAC,CAAC,CAAC,CAAC9Z,IAAI,GAAG,CAAC8Z,KAAK,CAAC,CAAC,CAAC,CAAC9Z,IAAI,EAAE/gB,EAAE,CAAC,CACvE;MACD,IAAIib,GAAG,GAAsB3G,KAAI,CAACmC,OAAO,CAACyE,IAAI,CAC1C0S,wFAA2B,CAC9B;MACD,IAAIkE,OAAO,SAASnd,OAAO,CAACme,IAAI,CAAC,CAC7B7X,GAAG,CAACG,iBAAiB,CAACxa,KAAK,CACtBuT,IAAI,CAACqZ,qDAAK,CAAE/U,CAAc,IAAKA,CAAC,CAAC9F,MAAM,KAAK,MAAM,CAAC,CAAC,CACpDqC,SAAS,EAAE,EAChBiG,GAAG,CACEE,WAAW,EAAE,CACbhH,IAAI,CAACxT,mDAAG,CAAE8X,CAAC,IAAK,IAAI,CAAC,CAAC,CACtBzD,SAAS,EAAE,CACnB,CAAC;MACF,IAAI,CAAC8c,OAAO,EAAE;MACd7W,GAAG,CAACe,KAAK,EAAE;MACXf,GAAG,GAAG3G,KAAI,CAACmC,OAAO,CAACyE,IAAI,CAACud,oFAAyB,EAAE;QAC/C9hB,IAAI,EAAE;UACFiR,IAAI;UACJiT,KAAK;UACL38B,IAAI,EAAEA,IAAI,GAAG,IAAI6V,IAAI,CAAC7V,IAAI,CAAC,GAAG,IAAI6V,IAAI,EAAE;UACxCpB,MAAM;UACNsX,KAAK;UACL0Q,YAAY,EAAErmB,KAAI,CAACqmB;;OAE1B,CAAC;MACF7I,OAAO,SAASnd,OAAO,CAACme,IAAI,CAAC,CACzB7X,GAAG,CAACG,iBAAiB,CAACxa,KAAK,CACtBuT,IAAI,CAACqZ,qDAAK,CAAE/U,CAAc,IAAKA,CAAC,CAAC9F,MAAM,KAAK,MAAM,CAAC,CAAC,CACpDqC,SAAS,EAAE,EAChBiG,GAAG,CACEE,WAAW,EAAE,CACbhH,IAAI,CAACxT,mDAAG,CAAE8X,CAAC,IAAK,IAAI,CAAC,CAAC,CACtBzD,SAAS,EAAE,CACnB,CAAC;MACF,IAAI,CAAC8c,OAAO,EAAE;MACdlK,IAAI,GAAG3M,GAAG,CAACG,iBAAiB,CAACwM,IAAI,IAAIA,IAAI;MACzC1pB,IAAI,GAAG+c,GAAG,CAACG,iBAAiB,CAACld,IAAI,IAAIA,IAAI;MACzCyU,MAAM,GAAGsI,GAAG,CAACG,iBAAiB,CAACzI,MAAM,IAAIA,MAAM;MAC/C,IAAI,CAACiV,IAAI,EAAE;QACP3M,GAAG,CAACe,KAAK,EAAE;QACX,OAAO+Q,4DAAW,CAAC,4CAA4C,CAAC;;MAEpE9R,GAAG,CAACG,iBAAiB,CAACpT,OAAO,GACzB,wCAAwC;MAC5C,MAAM+e,QAAQ,SAAS5G,2DAAa,CAAC;QACjCpZ,IAAI,EAAE,MAAM;QACZyN,YAAY,EAAElB,oDAAW,CAACC,oDAAU,CAACrV,IAAI,IAAI,IAAI6V,IAAI,EAAE,CAAC,CAAC;QACzDU,UAAU,EAAEnB,oDAAW,CAACD,qDAAQ,CAACnV,IAAI,IAAI,IAAI6V,IAAI,EAAE,CAAC;OACvD,CAAC,CAACiB,SAAS,EAAE;MACd,MAAM8lB,SAAS,GAAG/T,QAAQ,CAAC1mB,MAAM,CAC5B8yB,CAAC,IAAKA,CAAC,CAAC7K,UAAU,CAAC9G,WAAW,EAAE,KAAKoG,IAAI,CAAC9S,KAAK,CAAC0M,WAAW,EAAE,CACjE;MACD,IAAIsZ,SAAS,EAAEh5B,MAAM,EAAE;QACnBmZ,GAAG,CAACe,KAAK,EAAE;QACX,OAAO+Q,4DAAW,CACd,iEAAiE,CACpE;;MAEL9R,GAAG,CAACG,iBAAiB,CAACpT,OAAO,GAAG,iBAAiB;MACjD,MAAMiM,KAAK,GAAG,CAAC2T,IAAI,EAAE,IAAI1R,SAAS,IAAI,EAAE,CAAC,CAAC;MAC1C,MAAMvB,OAAO,CAACC,GAAG,CAAC,CACdimB,KAAK,CAACl6B,GAAG,CAAC,CAAC22B,IAAI,EAAE5E,GAAG,KAChBpe,KAAI,CAAC8wB,eAAe,CAChB9N,IAAI,EACJ1P,IAAI,EACJ1pB,IAAI,CAACC,OAAO,EAAE,IAAI,IAAI4V,IAAI,EAAE,CAAC5V,OAAO,EAAE,EACtCwU,MAAM,EACNsB,KAAK,CAACye,GAAG,CAAC,CACb,CACJ,CACJ,CAAC;MACF/H,8DAAa,CAAC,0BAA0B,CAAC;MACzC1P,GAAG,CAACe,KAAK,EAAE;MACX,OAAO,IAAI;IAAC;EAChB;EAEcopB,eAAeA,CACzB9N,IAAU,EACV1P,IAAe,EACf1pB,IAAY,EACZyU,MAAc,EACd0yB,QAAA,GAAiB,IAAI;IAAA,IAAA7T,MAAA;IAAA,OAAAjd,wJAAA;MAErB,MAAMyU,QAAQ,GAAG,GAAGsO,IAAI,CAACvW,IAAI,EAAEjjB,IAAI,IAAIw5B,IAAI,CAACt3B,EAAE,EAAE;MAChD,MAAMiqB,KAAK,GAAGuH,MAAI,CAAC3kB,IAAI,CAACqd,WAAW,CAC/BoN,IAAI,CAACvW,IAAI,YAAYoO,KAAK,GAAGmI,IAAI,CAACvW,IAAI,GAAG,CAACuW,IAAI,CAACvW,IAAI,EAAE/gB,EAAE,CAAC,CAC3D;MACD,MAAMghB,KAAK,GAAGsW,IAAI,CAACvW,IAAI,EAAE/gB,EAAE,GACrB,CAACs3B,IAAI,CAACvW,IAAI,EAAE/gB,EAAE,EAAEiqB,KAAK,EAAE7B,SAAS,CAAC,GACjC,CAAC6B,KAAK,EAAE7B,SAAS,CAAC;MACxB,MAAM0I,YAAY,GAAG;QACjB/E,aAAa,EAAEzY,oDAAW,CAACC,oDAAU,CAACrV,IAAI,CAAC,CAAC;QAC5C+zB,OAAO,EAAEoT,QAAQ,EAAErlC,EAAE,IAAI4nB,IAAI,CAAC5nB,EAAE;QAChCyvB,SAAS,EAAE4V,QAAQ,EAAEvnC,IAAI,IAAI8pB,IAAI,CAAC9pB,IAAI;QACtCwqB,UAAU,EAAE+c,QAAQ,EAAEvwB,KAAK,IAAI8S,IAAI,CAAC9S,KAAK;QACzCkX,WAAW,EAAE3sB,IAAI,CAACC,KAAK,CAAC+T,qDAAQ,CAACnV,IAAI,CAAC,CAACC,OAAO,EAAE,GAAG,IAAI,CAAC;QACxDigB,QAAQ,EAAEkZ,IAAI,CAACt3B,EAAE;QACjBuoB,UAAU,EAAE+O,IAAI,CAACx5B,IAAI;QACrBmQ,KAAK,EAAE0E,MAAM;QACbvL,WAAW,EAAE4hB,QAAQ;QACrBhI,KAAK;QACLqH,YAAY,EAAE,MAAM;QACpBF,cAAc,EAAE;UACZoD,MAAM,EAAE+L,IAAI,EAAE/L,MAAM,IAAI+L,IAAI,EAAEt3B,EAAE;UAChCN,MAAM,EAAE43B,IAAI,CAAC53B,MAAM;UACnB2lC,QAAQ,EAAEA,QAAQ,EAAEvwB;;OAE3B;MACD,OAAO6Y,yDAAW,CAACmD,YAAmB,CAAC,CAAC9b,SAAS,EAAE;IAAC;EACxD;;AA3ISiwB,YAAY;mBAAZA,YAAY,EAAA9sC,uDAAA,CAAAzC,+FAAA,GAAAyC,uDAAA,CAAAH,gEAAA;AAAA;AAAZitC,YAAY;SAAZA,YAAY;EAAArjB,OAAA,EAAZqjB,YAAY,CAAApjB,IAAA;EAAAC,UAAA,EAFT;AAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpB0C;AACpB;AACL;AAEyB;AACA;AACa;AACQ;AACzB;AAEP;;;;;;;;;;;;;;;;;;;IA+BrB3pB,6DAAA,qBAGC;IACGA,qDAAA,GACJ;IAAAA,2DAAA,EAAa;;;;IAHTA,yDAAA,UAAAqtC,OAAA,CAAAxlC,EAAA,CAAgB;IAEhB7H,wDAAA,GACJ;IADIA,iEAAA,MAAAqtC,OAAA,CAAArb,YAAA,IAAAqb,OAAA,CAAA1nC,IAAA,MACJ;;;;;;;;;;;IApBZ3F,6DAAA,cAAyD;IACrDA,0DAAA,OACK;IAAQA,wDAAA,WAAc;IAAAA,wDAAA,EAC1B;IAD0BA,2DAAA,EAC1B;IACDA,6DAAA,yBAAqC;IAG7BA,yDAAA,2BAAAstC,0GAAAhiC,MAAA;MAAAtL,4DAAA,CAAAszB,IAAA;MAAA,MAAAC,OAAA,GAAAvzB,4DAAA;MAAA,OAEhCA,0DAAA,CAAAuzB,OAAA,CAAA5yB,IAAA,CAAA0Z,UAAA;QAAAwO,KAAA,GAAAvd,MAAA;MAAA,EACE;IAAA,EAD+B;IAMDtL,yDAAA,IAAAutC,kFAAA,yBAKa;;IACjBvtC,2DAAA,EAAa;;;;IAfTA,wDAAA,GAA+B;IAA/BA,yDAAA,YAAA+M,MAAA,CAAApM,IAAA,CAAAyV,KAAA,CAAAyS,KAAA,IAA+B,mBAAA7oB,8DAAA,IAAA2M,IAAA;IAUX3M,wDAAA,GAAoB;IAApBA,yDAAA,YAAAA,0DAAA,OAAA+M,MAAA,CAAA4H,SAAA,EAAoB;;;;;;IAsDxC3U,6DAAA,qBAIC;IADGA,yDAAA,mBAAAwtC,yHAAA;MAAA,MAAA3qC,WAAA,GAAA7C,4DAAA,CAAAytC,IAAA;MAAA,MAAAC,QAAA,GAAA7qC,WAAA,CAAAI,SAAA;MAAA,MAAA0qC,OAAA,GAAA3tC,4DAAA;MAAA,OAASA,0DAAA,CAAA2tC,OAAA,CAAAC,UAAA,CAAAF,QAAA,CAAgB;IAAA,EAAC;IAE1B1tC,6DAAA,cAAyC;IAChCA,qDAAA,GAAe;IAAAA,2DAAA,EAAM;IAC1BA,6DAAA,cAAgC;IAC5BA,qDAAA,GAMJ;IAAAA,2DAAA,EAAM;;;;IAZVA,yDAAA,UAAA0tC,QAAA,CAAA/nC,IAAA,CAAmB;IAIV3F,wDAAA,GAAe;IAAfA,gEAAA,CAAA0tC,QAAA,CAAA/nC,IAAA,CAAe;IAEhB3F,wDAAA,GAMJ;IANIA,iEAAA,MAAA0tC,QAAA,CAAA/wB,KAAA,OAAA+wB,QAAA,CAAA5P,OAAA,UAAA4P,QAAA,CAAA5P,OAAA,WAMJ;;;;;;IA0BR99B,6DAAA,qBAIC;IADGA,yDAAA,mBAAA6tC,0HAAA;MAAA,MAAAhrC,WAAA,GAAA7C,4DAAA,CAAAgF,IAAA;MAAA,MAAA8oC,QAAA,GAAAjrC,WAAA,CAAAI,SAAA;MAAA,MAAA8qC,OAAA,GAAA/tC,4DAAA;MAAA,OAASA,0DAAA,CAAA+tC,OAAA,CAAAH,UAAA,CAAAE,QAAA,CAAgB;IAAA,EAAC;IAE1B9tC,6DAAA,cAAyC;IAChCA,qDAAA,GAAe;IAAAA,2DAAA,EAAM;IAC1BA,6DAAA,cAAgC;IAC5BA,qDAAA,GAMJ;IAAAA,2DAAA,EAAM;;;;IAZVA,yDAAA,UAAA8tC,QAAA,CAAAnxB,KAAA,CAAoB;IAIX3c,wDAAA,GAAe;IAAfA,gEAAA,CAAA8tC,QAAA,CAAAnoC,IAAA,CAAe;IAEhB3F,wDAAA,GAMJ;IANIA,iEAAA,MAAA8tC,QAAA,CAAAnxB,KAAA,OAAAmxB,QAAA,CAAAhQ,OAAA,UAAAgQ,QAAA,CAAAhQ,OAAA,WAMJ;;;;;;IAxEpB99B,sEAAA,GAAkD;IAC9CA,6DAAA,cAA2B;IACvBA,0DAAA,OACK;IAAYA,wDAAA,WAAc;IAAAA,wDAAA,EAC9B;IAD8BA,2DAAA,EAC9B;IACDA,6DAAA,yBAAqC;IAM7BA,yDAAA,mBAAAguC,uGAAA;MAAAhuC,4DAAA,CAAAiuC,IAAA;MAAA,MAAAC,OAAA,GAAAluC,4DAAA;MAAA,OAEjCA,0DAAA,CAAAkuC,OAAA,CAAAC,cAAA,CAAAD,OAAA,CAAAvtC,IAAA,CAAAyV,KAAA,CAAAga,UAAA,CACD;IAAA,EADmC;IAPLpwB,2DAAA,EASE;IAENA,6DAAA,iCAA+C;IAC3CA,yDAAA,IAAAouC,4FAAA,yBAgBa;IACjBpuC,2DAAA,EAAmB;IAEvBA,6DAAA,eAA2B;IACvBA,0DAAA,QAAgC;IACfA,wDAAA,YAAc;IAC/BA,wDAAA,EAAQ;IAARA,2DAAA,EAAQ;IACRA,6DAAA,0BAAqC;IAO7BA,yDAAA,mBAAAquC,wGAAA;MAAAruC,4DAAA,CAAAiuC,IAAA;MAAA,MAAAK,OAAA,GAAAtuC,4DAAA;MAAA,OAE/BA,0DAAA,CAAAsuC,OAAA,CAAAH,cAAA,CAAAG,OAAA,CAAA3tC,IAAA,CAAAyV,KAAA,CAAA6P,QAAA,CACH;IAAA,EADmC;IARLjmB,2DAAA,EAUE;IACFA,6DAAA,iBACK;IADLA,qDAAA,QACK;IAAyBA,2DAAA,EAC7B;IAELA,6DAAA,kCAAgD;IAC5CA,yDAAA,KAAAuuC,6FAAA,yBAgBa;IACjBvuC,2DAAA,EAAmB;IAEvBA,6DAAA,eAA2B;IACvBA,qDAAA,QAA+B;IAAOA,2DAAA,EAAQ;IAC9CA,6DAAA,0BAAqC;IACjCA,wDAAA,iBAKE;IACNA,2DAAA,EAAiB;IAEzBA,oEAAA,EAAe;;;;;;IA1ECA,wDAAA,GAA6B;IAA7BA,yDAAA,oBAAAilB,IAAA,CAA6B;IAKZjlB,wDAAA,GAAoB;IAApBA,yDAAA,YAAAkD,OAAA,CAAAsrC,iBAAA,CAAoB;IAgCrCxuC,wDAAA,GAA8B;IAA9BA,yDAAA,oBAAAyuC,IAAA,CAA8B;IAQbzuC,wDAAA,GAAoB;IAApBA,yDAAA,YAAAkD,OAAA,CAAAsrC,iBAAA,CAAoB;;;;;IAhHzDxuC,6DAAA,eAAkD;IAC9CA,yDAAA,IAAA0uC,qEAAA,kBAuBM;IACN1uC,6DAAA,cAA2B;IACvBA,0DAAA,OAAuB;IAAIA,wDAAA,WAAc;IAAAA,wDAAA,EAAQ;IAARA,2DAAA,EAAQ;IACjDA,wDAAA,uBAGgB;IACpBA,2DAAA,EAAM;IACNA,6DAAA,cAAyC;IAEjCA,0DAAA,QAA6B;IACfA,wDAAA,YAAc;IAC5BA,wDAAA,EAAQ;IAARA,2DAAA,EAAQ;IACRA,wDAAA,wBAGgB;IACpBA,2DAAA,EAAM;IACNA,6DAAA,eAAwC;IACpCA,0DAAA,QACK;IAAQA,wDAAA,YAAc;IAAAA,wDAAA,EAC1B;IAD0BA,2DAAA,EAC1B;IACDA,wDAAA,4BAIoB;IACxBA,2DAAA,EAAM;IAEVA,yDAAA,KAAA2uC,+EAAA,2BAwFe;IACf3uC,6DAAA,eAA2B;IACvBA,qDAAA,QAAyB;IAAgBA,2DAAA,EAAQ;IACjDA,6DAAA,0BAAqC;IACjCA,wDAAA,iBAKE;IACNA,2DAAA,EAAiB;;;;;IAvJNA,yDAAA,cAAA0M,MAAA,CAAA/L,IAAA,CAAkB;IACLX,wDAAA,GAA2B;IAA3BA,yDAAA,UAAA0M,MAAA,CAAAiI,SAAA,kBAAAjI,MAAA,CAAAiI,SAAA,CAAAhL,MAAA,MAA2B;IAgD3C3J,wDAAA,IAAwB;IAAxBA,yDAAA,SAAA0M,MAAA,CAAA/L,IAAA,CAAAyV,KAAA,CAAArQ,IAAA,CAAwB;IAIrB/F,wDAAA,GAAiB;IAAjBA,yDAAA,UAAA0M,MAAA,CAAAkiC,QAAA,CAAiB,aAAA/C,GAAA;;;;;;IA9DxC7rC,6DAAA,aAGC;IAIOA,qDAAA,MAA0B;IAAcA,2DAAA,EAAK;IAEjDA,yDAAA,IAAA6uC,+DAAA,mBAyJO;IACP7uC,6DAAA,cAEC;IAMOA,yDAAA,mBAAA8uC,iFAAA;MAAA9uC,4DAAA,CAAA+uC,IAAA;MAAA,MAAAC,OAAA,GAAAhvC,4DAAA;MAAA,OAASA,0DAAA,CAAAgvC,OAAA,CAAAC,UAAA,EAAY;IAAA,EAAC;IAL1BjvC,qDAAA,OAOC;IAEDA,2DAAA,EAAS;;;;IAtKNA,wDAAA,GAAU;IAAVA,yDAAA,SAAAqU,MAAA,CAAA1T,IAAA,CAAU;;;;;IAVzBX,sEAAA,GAA6C;IACzCA,yDAAA,IAAAkvC,wDAAA,iBAiLM;;IACVlvC,oEAAA,EAAe;;;;;IAhLNA,wDAAA,GAA2C;IAA3CA,yDAAA,UAAAA,0DAAA,OAAAU,MAAA,CAAAmP,OAAA,MAAAnP,MAAA,CAAAyuC,YAAA,CAA2C,aAAA5tB,GAAA;;;;;;IAyLpCvhB,iEAAA,GAKe;;;;;;;;;;;;;IACfA,iEAAA,GAIe;;;;;;;;;;;;;IAMXA,iEAAA,GAKe;;;;;;;;;;;;;IACfA,iEAAA,GAIe;;;;;;;;;;;;;IAjC/BA,6DAAA,cAGC;IAEOA,0DAAA,OAA0B;IAEtBA,yDAAA,IAAAqvC,gEAAA,2BAKe;IACfrvC,yDAAA,IAAAsvC,gEAAA,2BAIe;IACnBtvC,wDAAA,EAAK;IAALA,2DAAA,EAAK;IACLA,wDAAA,cAAmD;IACnDA,6DAAA,QAAQ;IAARA,0DAAA,OAAQ;IAEJA,6DAAA,QAAG;IACCA,yDAAA,KAAAuvC,iEAAA,2BAKe;IACfvvC,yDAAA,KAAAwvC,iEAAA,2BAIe;IACnBxvC,2DAAA,EAAI;;;IAKRA,wDAAA,EAAI;IAAJA,2DAAA,EAAI;IAERA,6DAAA,eAEC;IAQWA,yDAAA,mBAAAyvC,2EAAA;MAAAzvC,4DAAA,CAAA0vC,IAAA;MAAA,MAAAC,OAAA,GAAA3vC,4DAAA;MAAA,OAASA,0DAAA,CAAA2vC,OAAA,CAAAC,MAAA,EAAQ;IAAA,EAAC;IAJtB5vC,qDAAA,QAMC;IAEDA,2DAAA,EAAS;IACTA,6DAAA,kBAMC;IAFGA,yDAAA,mBAAA6vC,2EAAA;MAAA7vC,4DAAA,CAAA0vC,IAAA;MAAA,MAAAI,OAAA,GAAA9vC,4DAAA;MAAA,OAAAA,0DAAA,CAAA8vC,OAAA,CAAAC,IAAA,GAAgB,KAAK;IAAA,EAAC;IAJ1B/vC,qDAAA,QAMC;IAEDA,2DAAA,EAAS;;;;IAzDMA,wDAAA,GAAe;IAAfA,yDAAA,UAAA8T,MAAA,CAAA86B,QAAA,CAAe;IAMf5uC,wDAAA,GAAc;IAAdA,yDAAA,SAAA8T,MAAA,CAAA86B,QAAA,CAAc;IAUV5uC,wDAAA,GAAe;IAAfA,yDAAA,UAAA8T,MAAA,CAAA86B,QAAA,CAAe;IAMf5uC,wDAAA,GAAc;IAAdA,yDAAA,SAAA8T,MAAA,CAAA86B,QAAA,CAAc;IAUrC5uC,wDAAA,GAAI;IAAJA,wDAAA,EAAA8T,MAAA,CAAAe,QAAA,kBAAAf,MAAA,CAAAe,QAAA,CAAAmd,YAAA,MAAAle,MAAA,CAAAe,QAAA,kBAAAf,MAAA,CAAAe,QAAA,CAAAlP,IAAA,EAAI,CAAA3F,0DAAA,QAAA8T,MAAA,CAAA0iB,YAAA,kBAAA1iB,MAAA,CAAA0iB,YAAA,CAAAzwB,IAAA,iBAAA/F,0DAAA,SAAA8T,MAAA,CAAA0iB,YAAA,kBAAA1iB,MAAA,CAAA0iB,YAAA,CAAAzwB,IAAA;IAAJ/F,0DAAA,GAAI;;;;;IA+BZA,6DAAA,cAGC;IACGA,wDAAA,sBAA2C;IAC3CA,6DAAA,QAAQ;IAARA,qDAAA,OAAQ;IAAqBA,2DAAA,EAAI;;;IADpBA,wDAAA,GAAe;IAAfA,yDAAA,gBAAe;;;;;IAKhCA,6DAAA,cAA8C;IAC1CA,0DAAA,OAA+B;IAAQA,wDAAA,WAAc;IAAAA,wDAAA,EAAQ;IAARA,2DAAA,EAAQ;IAC7DA,wDAAA,4BAGqB;IACzBA,2DAAA,EAAM;;;;IANqBA,yDAAA,cAAAmU,MAAA,CAAAxT,IAAA,CAAkB;IAIrCX,wDAAA,GAAoB;IAApBA,yDAAA,qBAAoB;;;AA3QxC,MAkRa6gC,0BAA2B,SAAQ9gC,yDAAY;EAaxD,IAAW6uC,QAAQA,CAAA;IACf,OAAO,IAAI,CAAC1gC,SAAS,CAACC,GAAG,CAAC,+BAA+B,CAAC;EAC9D;EAEA,IAAW0G,QAAQA,CAAA;IACf,OAAO,IAAI,CAACH,IAAI,CAACG,QAAQ;EAC7B;EAEA,IAAWlU,IAAIA,CAAA;IACX,OAAO,IAAI,CAACgP,QAAQ,CAAChP,IAAI;EAC7B;EAEAmF,YACY6J,QAA4B,EAC5BzB,SAA0B,EAC1BwG,IAAyB;IAEjC,KAAK,EAAE;IAJC,KAAA/E,QAAQ,GAARA,QAAQ;IACR,KAAAzB,SAAS,GAATA,SAAS;IACT,KAAAwG,IAAI,GAAJA,IAAI;IA3BC,KAAAs7B,IAAI,GAAG,IAAI9tC,wDAAY,EAAQ;IAEzC,KAAA6tC,IAAI,GAAG,KAAK;IAEH,KAAAlgC,OAAO,GAAG,IAAI,CAACF,QAAQ,CAACE,OAAO;IACxC,KAAAs/B,YAAY,GAAG,KAAK;IACX,KAAAx6B,SAAS,GAAG,IAAI,CAACD,IAAI,CAACuzB,gBAAgB;IAC/C,KAAAzR,YAAY,GAAG,IAAI,CAAC7mB,QAAQ,CAAC6mB,YAAY;IACzC,KAAAyZ,UAAU,GAAG,CAAC;IACd,KAAAC,QAAQ,GAAG,EAAE;IACb,KAAA1B,iBAAiB,GAAG,EAAE;EAoB7B;EAEanoC,QAAQA,CAAA;IAAA,IAAA8V,KAAA;IAAA,OAAAC,wJAAA;MACjBD,KAAI,CAAC4zB,IAAI,GAAG,KAAK;MACjB5zB,KAAI,CAACxM,QAAQ,CAACipB,aAAa,EAAE;MAC7B,MAAMzc,KAAI,CAACg0B,YAAY,EAAE;MACzBh0B,KAAI,CAACxb,IAAI,CACJwN,GAAG,CAAC,UAAU,CAAC,CACfiiC,aAAa,CAAC,CAACr3B,gEAAmB,EAAEA,6DAAgB,CAAC,CAAC;MAC3D,MAAMm3B,QAAQ,GAAG/zB,KAAI,CAACjO,SAAS,CAACC,GAAG,CAAC,kBAAkB,CAAC,IAAI,EAAE;MAC7D,KAAK,MAAMiQ,IAAI,IAAI8xB,QAAQ,EAAE;QACzB,MAAM,CAACvzB,KAAK,EAAEhX,IAAI,EAAEm4B,OAAO,CAAC,GAAG1f,IAAI,CAACpV,KAAK,CAAC,GAAG,CAAC;QAC9CmT,KAAI,CAAC+zB,QAAQ,CAACtoC,IAAI,CAAC;UAAE+U,KAAK;UAAEhX,IAAI;UAAEm4B;QAAO,CAAE,CAAC;;MAEhD3hB,KAAI,CAACgyB,cAAc,CAAC,EAAE,CAAC;MACvBhyB,KAAI,CAACsV,YAAY,CACb,OAAO,EACPtV,KAAI,CAACxb,IAAI,CACJwN,GAAG,CAAC,UAAU,CAAC,CACfkoB,YAAY,CAACpa,SAAS,CAAEqE,CAAC,IAAKnE,KAAI,CAACgyB,cAAc,CAAC7tB,CAAC,CAAC,CAAC,CAC7D;MACDnE,KAAI,CAACsV,YAAY,CACb,MAAM,EACNtV,KAAI,CAACxb,IAAI,CACJwN,GAAG,CAAC,YAAY,CAAC,CACjBkoB,YAAY,CAACpa,SAAS,CAAEqE,CAAC,IAAKnE,KAAI,CAACgyB,cAAc,CAAC7tB,CAAC,CAAC,CAAC,CAC7D;MACD,IAAInE,KAAI,CAACyyB,QAAQ,EACbzyB,KAAI,CAACxb,IAAI,CAAC0Z,UAAU,CAAC;QAAE4L,QAAQ,EAAE;MAAqB,CAAE,CAAC;IAAC;EAClE;EAEO2nB,UAAUA,CAACxvB,IAAI;IAClB,IAAI,CAACzd,IAAI,CAAC0Z,UAAU,CAAC;MACjB4L,QAAQ,EAAE7H,IAAI,CAACzB,KAAK;MACpByT,UAAU,EAAEhS,IAAI,CAACzY,IAAI;MACrBm4B,OAAO,EAAE1f,IAAI,CAAC0f;KACjB,CAAC;EACN;EAEOqQ,cAAcA,CAACjmC,MAAc;IAChC,MAAM+H,CAAC,GAAG,CAAC/H,MAAM,IAAI,EAAE,EAAEmhB,WAAW,EAAE;IACtC,IAAI,CAACmlB,iBAAiB,GAAG,IAAI,CAAC0B,QAAQ,CAAChoC,MAAM,CACzC,CAAC;MAAEyU,KAAK;MAAEhX,IAAI;MAAEm4B;IAAO,CAAE,KACrBnhB,KAAK,CAAC0M,WAAW,EAAE,CAAC7b,QAAQ,CAACyC,CAAC,CAAC,IAC/BtK,IAAI,CAAC0jB,WAAW,EAAE,CAAC7b,QAAQ,CAACyC,CAAC,CAAC,IAC9B6tB,OAAO,CAACzU,WAAW,EAAE,CAAC7b,QAAQ,CAACyC,CAAC,CAAC,CACxC;EACL;EAEO2/B,MAAMA,CAAA;IACT,IAAI,CAACI,IAAI,CAAC3mC,IAAI,EAAE;IAChB,IAAI,CAAC0mC,IAAI,GAAG,KAAK;EACrB;EAEad,UAAUA,CAAA;IAAA,IAAA5V,MAAA;IAAA,OAAAjd,wJAAA;MACnBid,MAAI,CAAC14B,IAAI,CAAC2Z,gBAAgB,EAAE;MAC5B,IACI,CAAC+e,MAAI,CAAC14B,IAAI,CAAC4Z,KAAK,IACf8e,MAAI,CAACuV,QAAQ,IAAI,CAACvV,MAAI,CAAC14B,IAAI,CAACyV,KAAK,CAAC8M,MAAM,CAACvZ,MAAO,EACnD;QACE,OAAOirB,8EAAW,CACd,6BACID,6EAAgB,CAAC0E,MAAI,CAAC14B,IAAI,CAAC,CAAC8lB,IAAI,CAAC,IAAI,CAAC,IAAI,UAC9C,GAAG,CACN;;MAEL,MAAM;QAAER,QAAQ;QAAEmK,UAAU;QAAE0N,OAAO;QAAE5a;MAAM,CAAE,GAAGmW,MAAI,CAAC14B,IAAI,CAACyV,KAAK;MACjE,MAAMi6B,eAAe,GAAG,GAAGpqB,QAAQ,IAAImK,UAAU,IAAI0N,OAAO,EAAE;MAC9D,MAAMwS,YAAY,GAAGjX,MAAI,CAACnrB,SAAS,CAACC,GAAG,CAAC,kBAAkB,CAAC,IAAI,EAAE;MACjEkrB,MAAI,CAACnrB,SAAS,CAACoV,eAAe,CAAC,kBAAkB,EAAE,CAC/C,GAAGgtB,YAAY,CAACpoC,MAAM,CAAEoY,CAAC,IAAK,CAACA,CAAC,CAAC9S,QAAQ,CAACyY,QAAQ,CAAC,CAAC,EACpDoqB,eAAe,CAClB,CAAC;MACF,MAAOhX,MAAI,CAACuV,QAAQ,GAAGvV,MAAI,CAACkX,YAAY,EAAE,GAAGlX,MAAI,CAACmX,WAAW,EAAE;MAC/DnX,MAAI,CAAC7C,YAAY,GAAG6C,MAAI,CAAC1pB,QAAQ,CAAC6mB,YAAY;MAC9C,MAAM6C,MAAI,CAAC8W,YAAY,EAAE;MACzB9W,MAAI,CAAC0W,IAAI,GAAG,IAAI;IAAC;EACrB;EAEcI,YAAYA,CAAA;IAAA,IAAAjW,MAAA;IAAA,OAAA9d,wJAAA;MACtB,MAAM8d,MAAI,CAACxlB,IAAI,CAACojB,WAAW,CAAC9b,IAAI,CAACqZ,sDAAK,CAAE/U,CAAC,IAAKA,CAAC,CAAC,CAAC,CAACzD,SAAS,EAAE;MAC7Dqd,MAAI,CAACvqB,QAAQ,CAAC6S,UAAU,CAAC;QAAE5T,IAAI,EAAE;MAAS,CAAE,CAAC;MAC7CsrB,MAAI,CAACv5B,IAAI,CAAC0Z,UAAU,CAAC;QACjB6V,YAAY,EAAE,SAAS;QACvBrH,KAAK,EAAE,CAACqR,MAAI,CAACxlB,IAAI,CAACG,QAAQ,EAAEhN,EAAE;OACjC,CAAC;IAAC;EACP;EAEc2oC,WAAWA,CAAA;IAAA,IAAA9V,MAAA;IAAA,OAAAte,wJAAA;MACrB,MAAMhG,KAAK,GAAGskB,MAAI,CAAC/5B,IAAI,CAACyV,KAAK;MAC7BskB,MAAI,CAAC/5B,IAAI,CAAC0Z,UAAU,CAAC;QACjB1U,IAAI,EAAEyQ,KAAK,CAACga,UAAU;QACtBrS,SAAS,EAAE,CACP,IAAIqvB,+DAAI,CAAC;UACLznC,IAAI,EAAEyQ,KAAK,CAACga,UAAU;UACtBzT,KAAK,EAAEvG,KAAK,CAAC6P,QAAQ;UACrBwU,YAAY,EAAErkB,KAAK,CAAC0nB;SACvB,CAAC;OAET,CAAC;MACF,MAAMpD,MAAI,CAAC/qB,QAAQ,CAACwpB,QAAQ,EAAE,CAACrc,KAAK,CAAExT,CAAC,IAAI;QACvCsrB,8EAAW,CAACtrB,CAAC,CAAC;QACd,MAAMA,CAAC;MACX,CAAC,CAAC;IAAC;EACP;EAEcinC,YAAYA,CAAA;IAAA,IAAA1V,MAAA;IAAA,OAAAze,wJAAA;MACtBye,MAAI,CAACsU,YAAY,GAAG,IAAI;MACxB,MAAM9uB,KAAK,GAAG,OAAO8sB,yEAAY,CAAC,CAAC,CAAC,EAAE;MACtC,MAAM/2B,KAAK,GAAGykB,MAAI,CAACl6B,IAAI,CAACyV,KAAK;MAC7B,MAAM8M,MAAM,GAAG9M,KAAK,CAAC8M,MAAM;MAC3B2X,MAAI,CAACoV,UAAU,GAAG/sB,MAAM,CAACvZ,MAAM;MAC/B,KAAK,MAAM2M,IAAI,IAAI4M,MAAM,EAAE;QACvB,IAAI,CAAC5M,IAAI,CAACqG,KAAK,EAAE;QACjBke,MAAI,CAACl6B,IAAI,CAAC0Z,UAAU,CAAC;UACjB,GAAGjE,KAAK;UACR8Z,YAAY,EAAE,SAAS;UACvBjK,QAAQ,EAAE3P,IAAI,CAACqG,KAAK;UACpByT,UAAU,EAAE9Z,IAAI,CAAC3Q,IAAI;UACrB2Q,IAAI,EAAEA,IAAI;UACVrH,WAAW,EAAEoR,KAAK;UAClB1a,IAAI,EAAE2Q,IAAI,CAAC3Q,IAAI;UACfud,MAAM,EAAE,EAAE;UACVnF,SAAS,EAAE,CACP,IAAIqvB,+DAAI,CAAC;YACLznC,IAAI,EAAE2Q,IAAI,CAAC3Q,IAAI;YACfgX,KAAK,EAAErG,IAAI,CAACqG,KAAK;YACjB8d,YAAY,EAAEnkB,IAAI,CAACwnB,OAAO,IAAIxnB,IAAI,CAACmkB;WACtC,CAAC;SAET,CAAC;QACF,MAAMI,MAAI,CAAClrB,QAAQ,CAACwpB,QAAQ,EAAE,CAACrc,KAAK,CAAExT,CAAC,IAAI;UACvCsrB,8EAAW,CAACtrB,CAAC,CAAC;UACd,MAAMA,CAAC;QACX,CAAC,CAAC;;MAENuxB,MAAI,CAACsU,YAAY,GAAG,KAAK;IAAC;EAC9B;;AAxKStO,0BAA2B;mBAA3BA,0BAA0B,EAAA7gC,gEAAA,CAAAzC,qEAAA,GAAAyC,gEAAA,CAAAH,4DAAA,GAAAG,gEAAA,CAAAiV,+FAAA;AAAA;AAA1B4rB,0BAA2B;QAA3BA,0BAA0B;EAAA7/B,SAAA;EAAA0Z,OAAA;IAAAs1B,IAAA;EAAA;EAAA7uC,QAAA,GAAAnB,yEAAA;EAAAqB,KAAA;EAAAC,IAAA;EAAAC,MAAA,WAAAA,CAAA;IAAA,IAAAC,MAAA;IAAA,WAAAC,iBAAA,oBAAAA,iBAAA;;;;;;;eAvQOC,SAAA,+EAAc;;;;;;;;;;eAsKvCA,SAAA,qFAED;;;;;;;;;;;;;;;;;;eA5I2BA,SAAA,sEAAI,gBAAM,oBAAC,iBAAO;;;;;;;;;;;;;;;;;;eAQRA,SAAA,4EACf,iBAAM,oBAAC,kBAAO;;;;;;;;;;;;;;;;;;eASvBA,SAAA,0EAAQ,iBAAM,oBAAC,kBAAO;;;;;;;;;;gBAmGNA,SAAA,gFAAgB;;;;;;;;;;;;;;;;;;gBA5IpCA,SAAA,0EAAQ,gBAAM,oBAAC,iBAAO;;;;;;;;;;gBAUNA,SAAA,gFAAe;;;;;;;;;;;;;;;;;;gBA2C3BA,SAAA,8EAAY,gBAAM,oBAAC,iBAAO;;;;;;;;;;;;;;;;;;gBAmCCA,SAAA,+EACf,iBAAM,oBAAC,kBAAO;;;;;;;;;;gBAetBA,SAAA,0FAAyB;;;;;;;;;;gBAwBHA,SAAA,wEAAO;;;;;;;;;;gBA6FzCA,SAAA,gFAED;;;;;;;;;;gBAOCA,SAAA,uFAED;;;;;;;;;;;;;;;;;;;;;;;;;;gBA3DsBA,SAAA,0FAEtB,kCAAgC,4BAC5B,iBAGE,mBACN,yEAAe,2BACf,kCAA+B,8BAC3B,iBAAgB,4BAAQ,iBAEtB,qBACN,yEAAe;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gBAGXA,SAAA,2FAEJ,gBAAG,sBACC,mCAAgC,4BAC5B,iBAGE,mBACN,2EAAe,2BACf,mCAA+B,8BAC3B,iBAAgB,4BAAQ,iBAEtB,qBACN,2EAAe,2BACnB,iBAAI,iCAEJ,eAA8C,0BAC9C,eAA6C,wBAC7C,eAA4C,oBAChD;;;;;;;;;;;gBAoCIA,SAAA,sFAAqB;;;;;;;;;;;;;;;;;;gBAKEA,SAAA,0EAAQ,gBAAM,oBAAC,iBAAO;;;;;;MArQ7D1B,yDAAA,IAAAywC,kDAAA,0BAmLe;MACfzwC,yDAAA,IAAA0wC,iDAAA,kCAAA1wC,qEAAA,CAqEc;MACdA,yDAAA,IAAA2wC,iDAAA,gCAAA3wC,qEAAA,CAQc;MACdA,yDAAA,IAAA4wC,iDAAA,gCAAA5wC,qEAAA,CAQc;;;;MA3QCA,yDAAA,UAAA8B,GAAA,CAAAiuC,IAAA,CAAa,aAAAnyB,GAAA;;;;;;;;;;;;;;;;;;;;;;;;;ACfmC;AAErB;AAC4B;;;;;;;;;IAalE5d,4DAAA,gBAeC;IADGA,wDAAA,mBAAA6wC,8DAAA;MAAA,MAAAhuC,WAAA,GAAA7C,2DAAA,CAAAuhB,GAAA;MAAA,MAAAuvB,SAAA,GAAAjuC,WAAA,CAAAI,SAAA;MAAA,MAAA6Q,MAAA,GAAA9T,2DAAA;MAAA,OAASA,yDAAA,CAAA8T,MAAA,CAAAi9B,OAAA,CAAA1nC,IAAA,CAAAynC,SAAA,CAAoB;IAAA,EAAC;IAE9B9wC,uDAAA,aAGO;IAaPA,4DAAA,aAEC;IACGA,oDAAA,GACJ;IAAAA,0DAAA,EAAM;IAENA,uDAAA,aAAsD;IAC1DA,0DAAA,EAAS;;;;;IAlCLA,yDAAA,sBAAA8wC,SAAA,CAAAlS,QAAA,QAAkD,mBAAAkS,SAAA,CAAAlS,QAAA,4BAAAkS,SAAA,CAAAlS,QAAA,OAAAkS,SAAA,CAAAE,IAAA,8BAAAtwC,MAAA,CAAA2wB,MAAA,CAAAyf,SAAA,mBAAAA,SAAA,CAAAlS,QAAA,OAAAkS,SAAA,CAAAE,IAAA;IADlDhxC,yDAAA,eAAAU,MAAA,CAAAuhB,QAAA,IAAAvhB,MAAA,CAAAuhB,QAAA,KAAA6uB,SAAA,CAAAjpC,EAAA,CAAuD;IAQvD7H,wDAAA,eAAA8wC,SAAA,CAAAnrC,IAAA,CAA0B,aAAAmrC,SAAA,CAAAtZ,QAAA;IAuBtBx3B,uDAAA,GACJ;IADIA,gEAAA,MAAA8wC,SAAA,CAAAnrC,IAAA,MACJ;;;;;;AA/ChB,MAoEa47B,mBAAmB;EAS5B,IAAW0P,OAAOA,CAAA;IACd,IAAIA,OAAO,GAAG,CAAC;IACf,KAAK,MAAMC,MAAM,IAAI,IAAI,CAACC,IAAI,EAAElW,OAAO,IAAI,EAAE,EAAE;MAC3C,MAAMxxB,CAAC,GAAGynC,MAAM,CAACtS,QAAQ,CAAC,CAAC,CAAC,GAAGsS,MAAM,CAACF,IAAI,CAAC,CAAC,CAAC;MAC7C,IAAIvnC,CAAC,GAAGwnC,OAAO,EAAEA,OAAO,GAAGxnC,CAAC;;IAEhC,OAAOwnC,OAAO;EAClB;EAEAnrC,YAAoBoI,SAA0B;IAA1B,KAAAA,SAAS,GAATA,SAAS;IAhBb,KAAAkjC,WAAW,GAA2B;MAClD,IAAI,EAAE,MAAM;MACZ,GAAG,EAAE;KACR;IACe,KAAAnvB,QAAQ,GAAG,EAAE;IACZ,KAAA8uB,OAAO,GAAG,IAAI7uC,uDAAY,EAAU;EAWJ;EAE1CmvB,MAAMA,CAAC6f,MAAc;IACxB,MAAMrG,OAAO,GAAG,IAAI,CAAC38B,SAAS,CAACC,GAAG,CAAC,oBAAoB,CAAC,IAAI,EAAE;IAC9D,MAAMiI,KAAK,GAAG,IAAI,CAACg7B,WAAW,CAACF,MAAM,CAACrpC,EAAE,CAAC,IAAI,MAAM;IACnD,OACIgjC,OAAO,CAAC,WAAWz0B,KAAK,EAAE,CAAC,IAC3By0B,OAAO,CAAC,GAAGz0B,KAAK,EAAE,CAAC,IACnB2zB,wFAAe,CAAC,GAAG3zB,KAAK,EAAE,CAAC;EAEnC;;AA5BSmrB,mBAAmB;mBAAnBA,mBAAmB,EAAAvhC,+DAAA,CAAAzC,4DAAA;AAAA;AAAnBgkC,mBAAmB;QAAnBA,mBAAmB;EAAAvgC,SAAA;EAAAC,MAAA;IAAAkwC,IAAA;IAAAC,WAAA;IAAAnvB,QAAA;EAAA;EAAAvH,OAAA;IAAAq2B,OAAA;EAAA;EAAA1vC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAiV,QAAA,WAAA66B,6BAAArmC,EAAA,EAAAlJ,GAAA;IAAA,IAAAkJ,EAAA;MAjExBhL,4DAAA,aAAqC;MACjCA,oDAAA,GACJ;MAAAA,0DAAA,EAAM;MACNA,4DAAA,aAIC;MACGA,wDAAA,IAAAsxC,qCAAA,qBAuCS;MACbtxC,0DAAA,EAAM;;;MA/CFA,uDAAA,GACJ;MADIA,gEAAA,MAAA8B,GAAA,CAAAqvC,IAAA,kBAAArvC,GAAA,CAAAqvC,IAAA,CAAAxrC,IAAA,MACJ;MAGI3F,uDAAA,GAA8D;MAA9DA,yDAAA,sCAAA8B,GAAA,CAAAmvC,OAAA,YAA8D,oCAAAnvC,GAAA,CAAAqvC,IAAA,kBAAArvC,GAAA,CAAAqvC,IAAA,CAAA5mC,MAAA;MAIvCvK,uDAAA,GAAsB;MAAtBA,wDAAA,aAAA8B,GAAA,CAAAqvC,IAAA,kBAAArvC,GAAA,CAAAqvC,IAAA,CAAAlW,OAAA,KAAAj7B,6DAAA,IAAAyT,GAAA,EAAsB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjBI;AACY;AACpB;AAEkB;AAKV;;;;;;;;;;;;;;;;;;;;IAgBrCzT,4DAAA,uBAKC;IAFGA,wDAAA,2BAAAwxC,mGAAAlmC,MAAA;MAAA,MAAAzI,WAAA,GAAA7C,2DAAA,CAAA8M,IAAA;MAAA,MAAA2kC,MAAA,GAAA5uC,WAAA,CAAAI,SAAA;MAAA,MAAA8J,MAAA,GAAA/M,2DAAA;MAAA,OAAiBA,yDAAA,CAAA+M,MAAA,CAAAirB,UAAA,CAAAyZ,MAAA,EAAAnmC,MAAA,CAAuB;IAAA,EAAC;IAGzCtL,oDAAA,GACJ;IAAAA,0DAAA,EAAe;;;;;IALXA,wDAAA,aAAAqU,MAAA,CAAA6uB,iBAAA,IAAAljC,6DAAA,IAAAsM,GAAA,GAAAkB,QAAA,CAAAikC,MAAA,EAAmD,mBAAAzxC,6DAAA,IAAAuM,GAAA;IAInDvM,uDAAA,GACJ;IADIA,gEAAA,MAAAyxC,MAAA,MACJ;;;;;IAVRzxC,4DAAA,cAAoD;IAC7BA,oDAAA,WAAI;IAAAA,0DAAA,EAAQ;IAC/BA,4DAAA,cAA4D;IACxDA,wDAAA,IAAA0xC,4DAAA,2BAOe;IACnB1xC,0DAAA,EAAM;;;;IAPkBA,uDAAA,GAAW;IAAXA,wDAAA,YAAA8T,MAAA,CAAA3S,QAAA,CAAW;;;;;IAYnCnB,uDAAA,cAIE;;;;IAFEA,wDAAA,QAAA6d,OAAA,CAAAgD,MAAA,KAAA7gB,2DAAA,CAAsB;;;;;IAItBA,uDAAA,cAGE;;;;;IAaNA,4DAAA,cAGC;IAEQA,oDAAA,iBAAU;IAAAA,0DAAA,EACd;IACDA,4DAAA,QAAG;IAAAA,oDAAA,4BAAqB;IAAAA,0DAAA,EAAI;;;;;;IAlDxCA,4DAAA,aAIC;IACGA,wDAAA,IAAA2xC,6CAAA,iBAYM;IACN3xC,4DAAA,aAEC;IACGA,wDAAA,IAAA4xC,6CAAA,kBAIE;IACF5xC,wDAAA,IAAA6xC,qDAAA,iCAAA7xC,oEAAA,CAKc;IAClBA,0DAAA,EAAM;IACNA,4DAAA,cAA4B;IAEpBA,oDAAA,GACJ;IAAAA,0DAAA,EAAM;IACNA,4DAAA,cAAiD;IAExCA,oDAAA,aAAK;IAAAA,0DAAA,EACT;IACDA,4DAAA,SAAG;IAAAA,oDAAA,IAAgD;IAAAA,0DAAA,EAAI;IAE3DA,wDAAA,KAAA8xC,8CAAA,kBAQM;IACN9xC,4DAAA,eAEC;IAMOA,wDAAA,mBAAA+xC,iEAAA;MAAA,MAAAlvC,WAAA,GAAA7C,2DAAA,CAAA+D,IAAA;MAAA,MAAA8Z,OAAA,GAAAhb,WAAA,CAAAI,SAAA;MAAA,MAAAe,OAAA,GAAAhE,2DAAA;MAAA,OAASA,yDAAA,CAAAgE,OAAA,CAAAw/B,eAAA,CAAA3lB,OAAA,CAAqB;IAAA,EAAC;IAE/B7d,4DAAA,eAA8C;IAA9CA,yDAAA,QAA8C;IAC1CA,uDAAA,gBAAyB;IAE7BA,uDAAA,EAAM;IAANA,0DAAA,EAAM;IAEVA,4DAAA,kBAMC;IADGA,wDAAA,mBAAAgyC,iEAAA;MAAA,MAAAnvC,WAAA,GAAA7C,2DAAA,CAAA+D,IAAA;MAAA,MAAA8Z,OAAA,GAAAhb,WAAA,CAAAI,SAAA;MAAA,MAAAkB,OAAA,GAAAnE,2DAAA;MAAA,OAASA,yDAAA,CAAAmE,OAAA,CAAAu/B,cAAA,CAAA7lB,OAAA,CAAoB;IAAA,EAAC;IAE9B7d,4DAAA,eAA8C;IAA9CA,yDAAA,QAA8C;IAC1CA,uDAAA,gBAA0B;IAE9BA,uDAAA,EAAM;IAANA,0DAAA,EAAM;IAIlBA,4DAAA,kBAOC;IADGA,wDAAA,mBAAAiyC,iEAAA;MAAAjyC,2DAAA,CAAA+D,IAAA;MAAA,MAAAM,OAAA,GAAArE,2DAAA;MAAA,OAASA,yDAAA,CAAAqE,OAAA,CAAAid,eAAA,CAAAjd,OAAA,CAAAue,KAAA,CAAsB;IAAA,EAAC;IAEhC5iB,4DAAA,gBAAU;IAAAA,oDAAA,IAIR;IAAAA,0DAAA,EAAW;;;;;;IAxFXA,uDAAA,GAAsB;IAAtBA,wDAAA,SAAAU,MAAA,CAAAS,QAAA,kBAAAT,MAAA,CAAAS,QAAA,CAAAwI,MAAA,CAAsB;IAiBnB3J,uDAAA,GAA2B;IAA3BA,wDAAA,SAAA6d,OAAA,CAAAgD,MAAA,kBAAAhD,OAAA,CAAAgD,MAAA,CAAAlX,MAAA,CAA2B,aAAAyH,GAAA;IAa5BpR,uDAAA,GACJ;IADIA,gEAAA,MAAA6d,OAAA,CAAAlY,IAAA,kBACJ;IAKO3F,uDAAA,GAAgD;IAAhDA,+DAAA,EAAA6d,OAAA,CAAA+K,IAAA,kBAAA/K,OAAA,CAAA+K,IAAA,CAAAoJ,YAAA,MAAAnU,OAAA,CAAA+K,IAAA,kBAAA/K,OAAA,CAAA+K,IAAA,CAAAjjB,IAAA,EAAgD;IAIlD3F,uDAAA,GAAqB;IAArBA,wDAAA,SAAA6d,OAAA,CAAAq0B,UAAA,CAAqB;IAyC1BlyC,uDAAA,IAAqD;IAArDA,yDAAA,kBAAAU,MAAA,CAAAkhB,SAAA,CAAApU,QAAA,CAAA9M,MAAA,CAAAkiB,KAAA,kBAAAliB,MAAA,CAAAkiB,KAAA,CAAA/a,EAAA,EAAqD;IAG3C7H,uDAAA,GAIR;IAJQA,+DAAA,CAAAU,MAAA,CAAAkhB,SAAA,CAAApU,QAAA,CAAA9M,MAAA,CAAAkiB,KAAA,kBAAAliB,MAAA,CAAAkiB,KAAA,CAAA/a,EAAA,mCAIR;;;AAnGtB,MAAMga,UAAU,GAAa,EAAE;AAE/B,MA8Ha4f,wBAAwB;EAUjC,IAAW7f,SAASA,CAAA;IAChB,OAAO,IAAI,CAAC1T,SAAS,CAACC,GAAG,CAAWojC,8FAAc,CAAC,IAAI1vB,UAAU;EACrE;EAEA/b,YACYoI,SAA0B,EAC1BoQ,OAAkB;IADlB,KAAApQ,SAAS,GAATA,SAAS;IACT,KAAAoQ,OAAO,GAAPA,OAAO;IAfH,KAAAnd,QAAQ,GAAa,EAAE;IAChC,KAAAyiC,SAAS,GAAG,CAAC;IACb,KAAA5hB,KAAK,GAAmB,EAAE;IAC1B,KAAA9K,QAAQ,GAAG,KAAK;IAChB,KAAAgsB,iBAAiB,GAAa,EAAE;IAmDvC;IACgB,KAAAhhB,gBAAgB,GAAIC,EAA+B,IAC9D,IAAI,CAACC,SAAS,GAAGD,EAAG;IACzB;IACgB,KAAAE,iBAAiB,GAAIF,EAA+B,IAC/D,IAAI,CAACG,QAAQ,GAAGH,EAAG;IACR,KAAAI,gBAAgB,GAAItS,CAAU,IAAM,IAAI,CAACiH,QAAQ,GAAGjH,CAAE;EA7CnE;EAEH;EACOuzB,eAAeA,CAAA;IAClB,MAAM1gB,GAAG,GAAG,IAAI,CAACxE,OAAO,CAACyE,IAAI,CAACye,0GAA0B,EAAE;MACtDhjB,IAAI,EAAE;QACFwD,KAAK,EAAE,IAAI,CAACA,KAAK;QACjBuH,OAAO,EAAE;UAAEsa,QAAQ,EAAE,IAAI,CAACD;QAAS;;KAE1C,CAAC;IACF9gB,GAAG,CAACE,WAAW,EAAE,CAAC/G,SAAS,CAAE+F,KAAsB,IAAI;MACnD,IAAI,CAACA,KAAK,EAAEA,KAAK,GAAGc,GAAG,CAACG,iBAAiB,CAAChB,QAAQ;MAClD,IAAI,CAACQ,QAAQ,CAACT,KAAK,CAAC;IACxB,CAAC,CAAC;EACN;EAEA;EACO0hB,cAAcA,CAACI,KAAmB;IACrC,IAAI,CAACrhB,QAAQ,CAAC,IAAI,CAACT,KAAK,CAAC9Z,MAAM,CAAEoY,CAAC,IAAKA,CAAC,CAACzY,EAAE,KAAKi8B,KAAK,CAACj8B,EAAE,CAAC,CAAC;EAC9D;EAEA;;;;EAIO4a,QAAQA,CAACC,SAAyB;IACrC,IAAI,CAACV,KAAK,GAAGU,SAAS;IACtB,IAAI,IAAI,CAACN,SAAS,EAAE,IAAI,CAACA,SAAS,CAAC,IAAI,CAACJ,KAAK,CAAC;EAClD;EAEA;EACA;;;;EAIOW,UAAUA,CAACvM,KAAqB;IACnC,IAAI,CAAC4L,KAAK,GAAG5L,KAAK,IAAI,EAAE;EAC5B;EAUOkL,eAAeA,CAACwiB,KAAmB;IACtC,MAAM1gB,QAAQ,GAAG,IAAI,CAACxB,SAAS;IAC/B,MAAMyB,SAAS,GAAG,CAACD,QAAQ,CAAC5V,QAAQ,CAACs2B,KAAK,CAACj8B,EAAE,CAAC;IAC9C,IAAIwb,SAAS,EAAE;MACX,IAAI,CAACnV,SAAS,CAACoV,eAAe,CAACiuB,8FAAc,EAAE,CAC3C,GAAGnuB,QAAQ,EACX0gB,KAAK,CAACj8B,EAAE,CACX,CAAC;KACL,MAAM;MACH,IAAI,CAACqG,SAAS,CAACoV,eAAe,CAC1BiuB,8FAAc,EACdnuB,QAAQ,CAAClb,MAAM,CAAEoY,CAAC,IAAKA,CAAC,KAAKwjB,KAAK,CAACj8B,EAAE,CAAC,CACzC;;EAET;;AA9ES45B,wBAAwB;mBAAxBA,wBAAwB,EAAAzhC,+DAAA,CAAAzC,iFAAA,GAAAyC,+DAAA,CAAAH,+DAAA;AAAA;AAAxB4hC,wBAAwB;QAAxBA,wBAAwB;EAAAzgC,SAAA;EAAAC,MAAA;IAAAE,QAAA;EAAA;EAAAA,QAAA,GAAAnB,gEAAA,CARtB,CACP;IACIhB,OAAO,EAAEyhB,6DAAiB;IAC1B+C,WAAW,EAAEhD,yDAAU,CAAC,MAAMihB,wBAAwB,CAAC;IACvDhe,KAAK,EAAE;GACV,CACJ;EAAApiB,KAAA;EAAAC,IAAA;EAAAC,MAAA,WAAAA,CAAA;IAAA,IAAAC,MAAA;IAAA,WAAAC,iBAAA,oBAAAA,iBAAA;;;;;;;eAdsBC,SAAA,2EAAU;;;;;;;;;;;;;;;;;;eA3CLA,SAAA,kFAAU,2BAAI,kBAAW,8BAE7B;;;;;;;;;;;;;;;;;;eAUIA,SAAA,mFAAU,4BAAK,kBAAW,8BAE9B;;;;;;MA9EpB1B,4DAAA,aAA4B;MACxBA,wDAAA,IAAAmyC,uCAAA,kBA+FM;MACVnyC,0DAAA,EAAM;MACNA,4DAAA,gBAMC;MADGA,wDAAA,mBAAAoyC,0DAAA;QAAA,OAAStwC,GAAA,CAAA0hC,eAAA,EAAiB;MAAA,EAAC;MAE3BxjC,4DAAA,aAAwD;MAC1CA,oDAAA,aAAM;MAAAA,0DAAA,EAAW;MAC3BA,4DAAA,WAAW;MAAXA,oDAAA,MAAW;MAAUA,0DAAA,EAAO;MAGpCA,4DAAA,aAA2D;MACvDA,uDAAA,aAAkD;MACtDA,0DAAA,EAAM;;;MA5GmBA,uDAAA,GAAQ;MAARA,wDAAA,YAAA8B,GAAA,CAAAkgB,KAAA,CAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpB8B;AAClC;AACK;AACiC;AACvB;;;;;;;;;;IAwCxBhiB,4DAAA,cAGC;IACaA,oDAAA,WAAI;IAAAA,0DAAA,EAAW;;;;;IAE7BA,uDAAA,cAOE;;;;IADEA,wDAAA,QAAAsyC,cAAA,CAAAzxB,MAAA,KAAA7gB,2DAAA,CAA6B;;;;;IAG7BA,uDAAA,cAGE;;;;;;IAjClBA,4DAAA,aAKC;IAKOA,wDAAA,mBAAAuyC,kFAAA;MAAA,MAAA1vC,WAAA,GAAA7C,2DAAA,CAAAszB,IAAA;MAAA,MAAAgf,cAAA,GAAAzvC,WAAA,CAAAI,SAAA;MAAA,MAAAswB,OAAA,GAAAvzB,2DAAA;MAAA,OAASA,yDAAA,CAAAuzB,OAAA,CAAAif,gBAAA,CAAAF,cAAA,CAA6B;IAAA,EAAC;IAEvCtyC,4DAAA,cAEC;IACGA,wDAAA,IAAAyyC,+DAAA,kBAKM;IACNzyC,wDAAA,IAAA0yC,+DAAA,kBAOE;IACF1yC,wDAAA,IAAA2yC,uEAAA,iCAAA3yC,oEAAA,CAKc;IAClBA,0DAAA,EAAM;IACNA,4DAAA,cAA6C;IAErCA,oDAAA,GAKJ;IAAAA,0DAAA,EAAO;IACPA,4DAAA,eAAiD;IACbA,oDAAA,aAAK;IAAAA,0DAAA,EAAW;IAChDA,4DAAA,aAAmB;IACfA,oDAAA,IAKJ;IAAAA,0DAAA,EAAI;IAERA,4DAAA,eAAiD;IAExCA,oDAAA,cAAM;IAAAA,0DAAA,EACV;IACDA,4DAAA,aAAmB;IACfA,oDAAA,IAGJ;IAAAA,0DAAA,EAAI;IAIhBA,4DAAA,kBAOC;IADGA,wDAAA,mBAAA4yC,mFAAA;MAAA,MAAA/vC,WAAA,GAAA7C,2DAAA,CAAAszB,IAAA;MAAA,MAAAgf,cAAA,GAAAzvC,WAAA,CAAAI,SAAA;MAAA,MAAAoB,OAAA,GAAArE,2DAAA;MAAA,OAASA,yDAAA,CAAAqE,OAAA,CAAA0f,SAAA,CAAA1a,IAAA,CAAAipC,cAAA,CAA2B;IAAA,EAAC;IAErCtyC,4DAAA,gBAAU;IAAAA,oDAAA,IAIR;IAAAA,0DAAA,EAAW;;;;;;IA1EjBA,yDAAA,qBAAAmU,MAAA,CAAAgQ,MAAA,KAAAmuB,cAAA,CAAAzqC,EAAA,CAAoD;IAavC7H,uDAAA,GAAuC;IAAvCA,wDAAA,SAAAmU,MAAA,CAAA8N,QAAA,CAAAzU,QAAA,CAAA8kC,cAAA,CAAAzqC,EAAA,EAAuC;IAKvC7H,uDAAA,GAGb;IAHaA,wDAAA,SAAAsyC,cAAA,CAAAzxB,MAAA,kBAAAyxB,cAAA,CAAAzxB,MAAA,CAAAlX,MAAA,CAGb,aAAAmD,IAAA;IAaY9M,uDAAA,GAKJ;IALIA,gEAAA,MAAAsyC,cAAA,CAAA3sC,IAAA,IAAA2sC,cAAA,CAAAzqC,EAAA,uBAKJ;IAIQ7H,uDAAA,GAKJ;IALIA,gEAAA,OAAAsyC,cAAA,CAAA1pB,IAAA,kBAAA0pB,cAAA,CAAA1pB,IAAA,CAAAoJ,YAAA,MAAAsgB,cAAA,CAAA1pB,IAAA,kBAAA0pB,cAAA,CAAA1pB,IAAA,CAAAjjB,IAAA,uBAKJ;IAOI3F,uDAAA,GAGJ;IAHIA,gEAAA,MAAAsyC,cAAA,CAAAO,SAAA,cAAAP,cAAA,CAAArX,OAAA,CAAAtxB,MAAA,qBAGJ;IASR3J,uDAAA,GAAmD;IAAnDA,yDAAA,kBAAAmU,MAAA,CAAAqR,WAAA,CAAA8sB,cAAA,CAAAzqC,EAAA,EAAmD;IAGzC7H,uDAAA,GAIR;IAJQA,+DAAA,CAAAmU,MAAA,CAAAqR,WAAA,CAAA8sB,cAAA,CAAAzqC,EAAA,mCAIR;;;;;IAlFd7H,4DAAA,YAGC;IACGA,wDAAA,IAAA8yC,yDAAA,kBAgFK;;IACT9yC,0DAAA,EAAK;;;;IA/E2BA,uDAAA,GAAuB;IAAvBA,wDAAA,YAAAA,yDAAA,OAAAqM,MAAA,CAAA0mC,YAAA,EAAuB;;;;;IAP3D/yC,qEAAA,GAAkE;IAC9DA,wDAAA,IAAAgzC,oDAAA,gBAqFK;;IACThzC,mEAAA,EAAe;;;;;;IApFNA,uDAAA,GAAsC;IAAtCA,wDAAA,UAAAyP,OAAA,GAAAzP,yDAAA,OAAAU,MAAA,CAAAqyC,YAAA,oBAAAtjC,OAAA,CAAA9F,MAAA,CAAsC,aAAA4X,GAAA;;;;;IAsF3CvhB,4DAAA,cAGC;IACGA,uDAAA,sBAA2C;IAC3CA,4DAAA,YAAsB;IAAAA,oDAAA,wCAAiC;IAAAA,0DAAA,EAAI;;;IAD9CA,uDAAA,GAAe;IAAfA,wDAAA,gBAAe;;;;;IAKhCA,4DAAA,cAGC;IAEOA,oDAAA,mEACJ;IAAAA,0DAAA,EAAI;;;AA1HpB,MA+Ha4hC,uBAAuB;EAiChC97B,YACYic,MAA0B,EAC1BkxB,QAAwB;IADxB,KAAAlxB,MAAM,GAANA,MAAM;IACN,KAAAkxB,QAAQ,GAARA,QAAQ;IAlCJ,KAAA9uB,MAAM,GAAW,EAAE;IACnB,KAAAlC,QAAQ,GAAW,EAAE;IACrB,KAAAL,SAAS,GAAa,EAAE;IACvB,KAAAkE,QAAQ,GAAG,IAAI5jB,uDAAY,EAAgB;IAC3C,KAAA6hB,SAAS,GAAG,IAAI7hB,uDAAY,EAAgB;IAE7C,KAAA6wC,YAAY,GAAGjuB,mDAAa,CAAC,CACzC,IAAI,CAAC/C,MAAM,CAACwH,OAAO,EACnB,IAAI,CAACxH,MAAM,CAACoV,mBAAmB,EAC/B,IAAI,CAAC8b,QAAQ,CAACC,cAAc,CAC/B,CAAC,CAACl3B,IAAI,CACHxT,mDAAG,CAAC,CAAC,CAAC;MAAEq9B;IAAQ,CAAE,EAAEhP,SAAS,EAAEsc,KAAK,CAAC,KAAI;MACrC,OAAOA,KAAK,CACPjrC,MAAM,CACFC,CAAC,IACE,CAAC,CAAC09B,QAAQ,IAAI,IAAI,CAACrgB,WAAW,CAACrd,CAAC,CAACN,EAAE,CAAC,KACpCgvB,SAAS,CAACjuB,IAAI,CAAE0X,CAAM,IAAKA,CAAC,CAAC4a,OAAO,KAAK/yB,CAAC,CAACN,EAAE,CAAC,CACrD,CACAW,GAAG,CAAE2oC,IAAI,KAAM;QACZ,GAAGA,IAAI;QACP0B,SAAS,EAAEhc,SAAS,CAAC3uB,MAAM,CACtBoY,CAAM,IAAKA,CAAC,CAAC4a,OAAO,KAAKiW,IAAI,CAACtpC,EAAE,CACpC,CAAC8B,MAAM;QACRsxB,OAAO,EAAEkW,IAAI,CAAClW,OAAO,CAACzyB,GAAG,CAAE8X,CAAC,KAAM;UAC9B,GAAGA,CAAC;UACJsI,IAAI,EAAEuoB,IAAI,CAACvoB;SACd,CAAC;OACL,CAAC,CAAC;IACX,CAAC,CAAC,CACL;IACe,KAAA/Y,OAAO,GAAG,IAAI,CAACkS,MAAM,CAAClS,OAAO;EAK1C;EAEI2V,WAAWA,CAAC4tB,cAAsB;IACrC,OAAO,IAAI,CAACxxB,SAAS,CAACpU,QAAQ,CAAC4lC,cAAc,CAAC;EAClD;EAEOZ,gBAAgBA,CAACa,WAAyB;IAC7C,IAAI,CAACvtB,QAAQ,CAACzc,IAAI,CAACgqC,WAAW,CAAC;EACnC;;AA5CSzR,uBAAuB;mBAAvBA,uBAAuB,EAAA5hC,+DAAA,CAAAzC,qEAAA,GAAAyC,+DAAA,CAAAH,4DAAA;AAAA;AAAvB+hC,uBAAuB;QAAvBA,uBAAuB;EAAA5gC,SAAA;EAAAC,MAAA;IAAAkjB,MAAA;IAAAlC,QAAA;IAAAL,SAAA;EAAA;EAAAlH,OAAA;IAAAoL,QAAA;IAAA/B,SAAA;EAAA;EAAA1iB,KAAA;EAAAC,IAAA;EAAAC,MAAA,WAAAA,CAAA;IAAA,IAAAC,MAAA;IAAA,WAAAC,iBAAA,oBAAAA,iBAAA;;;;;;;eAjHDC,SAAA,wEAAO;;;;;;;;;;;;;;;;eACYA,SAAA,mEAC1C,eAAyC,kCAC7C;;;;;;MAHA1B,4DAAA,YAA2B;MAA3BA,oDAAA,MAA2B;MAAOA,0DAAA,EAAK;MACvCA,4DAAA,WAA8C;MAA9CA,oDAAA,MAA8C;;MAE9CA,0DAAA,EAAI;MACJA,wDAAA,IAAAszC,+CAAA,0BAuFe;;MACftzC,wDAAA,IAAAuzC,8CAAA,gCAAAvzC,oEAAA,CAQc;MACdA,wDAAA,IAAAwzC,8CAAA,gCAAAxzC,oEAAA,CASc;;;;;;MA3GdA,uDAAA,GAAI;MAAJA,uDAAA,GAAAyP,OAAA,GAAAzP,yDAAA,OAAA8B,GAAA,CAAAixC,YAAA,oBAAAtjC,OAAA,CAAA9F,MAAA,OAAI;MAAJ3J,yDAAA,GAAI;MACWA,uDAAA,GAAkC;MAAlCA,wDAAA,YAAAunC,OAAA,GAAAvnC,yDAAA,OAAA8B,GAAA,CAAA+N,OAAA,oBAAA03B,OAAA,CAAA59B,MAAA,EAAkC,aAAAiU,GAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxBc;AACP;AACjB;AAEqB;AACP;AACzB;;;;;;;;;;IA0ExB5d,4DAAA,cAIC;IACMA,oDAAA,GAAU;IAAAA,0DAAA,EAAI;IACjBA,4DAAA,iBAMC;IADGA,wDAAA,mBAAAyzC,sEAAA;MAAA,MAAA5wC,WAAA,GAAA7C,2DAAA,CAAAoR,GAAA;MAAA,MAAAs0B,OAAA,GAAA7iC,WAAA,CAAAI,SAAA;MAAA,MAAAS,MAAA,GAAA1D,2DAAA;MAAA,OAASA,yDAAA,CAAA0D,MAAA,CAAAs0B,UAAA,CAAA0N,OAAA,EAAiB,KAAK,CAAC;IAAA,EAAC;IAEjC1lC,4DAAA,eAAU;IAAAA,oDAAA,YAAK;IAAAA,0DAAA,EAAW;;;;IAR3BA,uDAAA,GAAU;IAAVA,+DAAA,CAAA0lC,OAAA,CAAU;;;;;;IAWjB1lC,4DAAA,cAAqD;IACjDA,oDAAA,OAAW;IAAeA,0DAAA,EAAO;IACjCA,4DAAA,iBAMC;IADGA,wDAAA,mBAAA0zC,sEAAA;MAAA1zC,2DAAA,CAAA4lC,GAAA;MAAA,MAAAv5B,MAAA,GAAArM,2DAAA;MAAA,OAASA,yDAAA,CAAAqM,MAAA,CAAAmW,UAAA;QAAAqjB,QAAA,EAAuB;MAAK,EAAG;IAAA,EAAC;IAEzC7lC,4DAAA,eAAU;IAAAA,oDAAA,YAAK;IAAAA,0DAAA,EAAW;;;;;;AAjG9C,MAuGa2hC,6BAA8B,SAAQ5hC,yDAAY;EAO3D,IAAWuG,KAAKA,CAAA;IACZ,OAAO,IAAI,CAACyb,MAAM,CAACphB,IAAI,CAACyV,KAAK,CAACrQ,IAAI;EACtC;EAEA,IAAWS,GAAGA,CAAA;IACV,MAAM;MAAET,IAAI;MAAEjB,QAAQ;MAAEmtB;IAAO,CAAE,GAAG,IAAI,CAAClQ,MAAM,CAACphB,IAAI,CAACyV,KAAK;IAC1D,IAAI6b,OAAO,EAAE,OAAO/W,oDAAQ,CAACnV,IAAI,CAAC;IAClC,OAAOA,IAAI,GAAGjB,QAAQ,GAAG,EAAE,GAAG,IAAI;EACtC;EAKAgB,YACYggC,OAAuB,EACvB/jB,MAA0B;IAElC,KAAK,EAAE;IAHC,KAAA+jB,OAAO,GAAPA,OAAO;IACP,KAAA/jB,MAAM,GAANA,MAAM;IArBF,KAAAgU,IAAI,GAAmB,MAAM;IAC5B,KAAAgQ,UAAU,GAAG,IAAI7jC,uDAAY,EAAkB;IAChD,KAAAqnB,OAAO,GAAG,IAAI,CAACxH,MAAM,CAACwH,OAAO;IAC7B,KAAA/G,UAAU,GAAIwjB,CAAC,IAAK,IAAI,CAACjkB,MAAM,CAACS,UAAU,CAACwjB,CAAC,CAAC;IAC7C,KAAAhO,UAAU,GAAG,CAACiO,CAAC,EAAE38B,CAAC,KAAK,IAAI,CAACyY,MAAM,CAACiW,UAAU,CAACiO,CAAC,EAAE38B,CAAC,CAAC;IAYnD,KAAA48B,UAAU,GAAG,MACzB,IAAI,CAACJ,OAAO,CAAC/iB,IAAI,CAAC2e,6EAAsB,CAAC;EAO7C;;AAzBSC,6BAA8B;mBAA9BA,6BAA6B,EAAA3hC,+DAAA,CAAAzC,0EAAA,GAAAyC,+DAAA,CAAAH,qEAAA;AAAA;AAA7B8hC,6BAA8B;QAA9BA,6BAA6B;EAAA3gC,SAAA;EAAAC,MAAA;IAAA80B,IAAA;EAAA;EAAArb,OAAA;IAAAqrB,UAAA;EAAA;EAAA5kC,QAAA,GAAAnB,wEAAA;EAAAqB,KAAA;EAAAC,IAAA;EAAAC,MAAA,WAAAA,CAAA;IAAA,IAAAC,MAAA;IAAA,WAAAC,iBAAA,oBAAAA,iBAAA;;;;;;;eAlE7BC,SAAA,0EAED;;;;;;;;;;eAUKA,SAAA,sEAED;;;;;;;;;;eASCA,SAAA,uEAED;;;;;;;;;;eA2BWA,SAAA,gFAAe;;;;;;MA/DlC1B,4DAAA,iBAGC;MAMOA,wDAAA,mBAAA2zC,+DAAA;QAAA,OAAS7xC,GAAA,CAAAokC,UAAA,EAAY;MAAA,EAAC;MAL1BlmC,oDAAA,MAOC;MAEDA,0DAAA,EAAS;MACTA,4DAAA,aAA+B;MAOvBA,wDAAA,mBAAA4zC,+DAAA;QAAA9xC,GAAA,CAAAi0B,IAAA,GAAgB,KAAK;QAAA,OAAEj0B,GAAA,CAAAikC,UAAA,CAAA18B,IAAA,CAAAvH,GAAA,CAAAi0B,IAAA,CAAqB;MAAA,EAAC;MANjD/1B,oDAAA,MAQC;MAEDA,0DAAA,EAAS;MACTA,4DAAA,gBAQC;MAFGA,wDAAA,mBAAA6zC,+DAAA;QAAA/xC,GAAA,CAAAi0B,IAAA,GAAgB,MAAM;QAAA,OAAEj0B,GAAA,CAAAikC,UAAA,CAAA18B,IAAA,CAAAvH,GAAA,CAAAi0B,IAAA,CAAqB;MAAA,EAAC;MANlD/1B,oDAAA,MAQC;MAEDA,0DAAA,EAAS;MAGjBA,4DAAA,iBAAyD;MAE/BA,oDAAA,IAAgC;;MAAAA,0DAAA,EAAM;MAC5DA,4DAAA,eAAsB;MAClBA,oDAAA,IAEJ;;;MAAAA,0DAAA,EAAM;MACNA,wDAAA,KAAA8zC,6CAAA,kBAeM;;MACN9zC,wDAAA,KAAA+zC,6CAAA,kBAWM;;MACV/zC,0DAAA,EAAU;;;;;MAtDEA,uDAAA,GAAgC;MAAhCA,yDAAA,YAAA8B,GAAA,CAAAi0B,IAAA,WAAgC;MAWhC/1B,uDAAA,GAAiC;MAAjCA,yDAAA,YAAA8B,GAAA,CAAAi0B,IAAA,YAAiC;MAUnB/1B,uDAAA,GAAgC;MAAhCA,+DAAA,CAAAA,yDAAA,QAAA8B,GAAA,CAAAwE,KAAA,gBAAgC;MAElDtG,uDAAA,GAEJ;MAFIA,gEAAA,MAAAA,yDAAA,SAAA8B,GAAA,CAAAwE,KAAA,4BAAAtG,yDAAA,SAAA8B,GAAA,CAAA0E,GAAA,oBAEJ;MAIqBxG,uDAAA,GAAoC;MAApCA,wDAAA,cAAAmR,OAAA,GAAAnR,yDAAA,SAAA8B,GAAA,CAAAynB,OAAA,oBAAApY,OAAA,CAAAhQ,QAAA,KAAAnB,6DAAA,KAAA6kC,GAAA,EAAoC;MAavC7kC,uDAAA,GAAiC;MAAjCA,wDAAA,UAAAwmC,OAAA,GAAAxmC,yDAAA,SAAA8B,GAAA,CAAAynB,OAAA,oBAAAid,OAAA,CAAAX,QAAA,CAAiC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/FI;AACjB;AACL;AAEwC;AACxB;;;;;;;;;;;;;;;;;;;;IAmB7C7lC,4DAAA,iBAOC;IADGA,wDAAA,mBAAAg0C,iEAAA;MAAAh0C,2DAAA,CAAA4lC,GAAA;MAAA,MAAAv5B,MAAA,GAAArM,2DAAA;MAAA,OAASA,yDAAA,CAAAqM,MAAA,CAAAwX,KAAA,EAAO;IAAA,EAAC;IAEjB7jB,4DAAA,eAAU;IAAAA,oDAAA,0BAAmB;IAAAA,0DAAA,EAAW;;;;;IA8BhCA,4DAAA,qBAGC;IACGA,oDAAA,GACJ;IAAAA,0DAAA,EAAa;;;;IAHTA,wDAAA,UAAAi0C,MAAA,CAAa;IAEbj0C,uDAAA,GACJ;IADIA,gEAAA,MAAAi0C,MAAA,CAAAjiB,YAAA,IAAAiiB,MAAA,CAAAtuC,IAAA,MACJ;;;;;;;;;;;IAtBZ3F,4DAAA,cAGC;IACGA,oDAAA,OAAY;IAAQA,0DAAA,EAAQ;IAC5BA,4DAAA,yBAAoD;IAI5CA,wDAAA,2BAAAk0C,2EAAA5oC,MAAA;MAAAtL,2DAAA,CAAA8M,IAAA;MAAA,MAAAC,MAAA,GAAA/M,2DAAA;MAAA,OAAAA,yDAAA,CAAA+M,MAAA,CAAA8H,QAAA,GAAAvJ,MAAA;IAAA,EAAsB,2BAAA4oC,2EAAA5oC,MAAA;MAAAtL,2DAAA,CAAA8M,IAAA;MAAA,MAAAa,OAAA,GAAA3N,2DAAA;MAAA,OAG9BA,yDAAA,CAAA2N,OAAA,CAAA6U,UAAA;QAAAyG,OAAA,EAAA3d,MAAA,kBAAAA,MAAA,CAAAzD;MAAA,EAGlB;IAAA,EANgD;IAQtB7H,wDAAA,IAAAm0C,mDAAA,yBAKa;;IACjBn0C,0DAAA,EAAa;;;;IAdTA,uDAAA,GAAsB;IAAtBA,wDAAA,YAAA4N,MAAA,CAAAiH,QAAA,CAAsB,mBAAA7U,6DAAA,IAAA2M,IAAA;IASF3M,uDAAA,GAAoB;IAApBA,wDAAA,YAAAA,yDAAA,OAAA4N,MAAA,CAAA+G,SAAA,EAAoB;;;;;IA0BxC3U,4DAAA,qBAGC;IACGA,oDAAA,GACJ;IAAAA,0DAAA,EAAa;;;;IAHTA,wDAAA,UAAAo0C,OAAA,CAAAvsC,EAAA,CAAgB;IAEhB7H,uDAAA,GACJ;IADIA,gEAAA,MAAAo0C,OAAA,CAAApiB,YAAA,IAAAoiB,OAAA,CAAAzuC,IAAA,MACJ;;;;;;IAtBZ3F,4DAAA,cAGC;IACUA,oDAAA,YAAK;IAAAA,0DAAA,EAAQ;IACpBA,4DAAA,yBAAqC;IAK7BA,wDAAA,2BAAAq0C,2EAAA/oC,MAAA;MAAAtL,2DAAA,CAAAilB,IAAA;MAAA,MAAA9gB,OAAA,GAAAnE,2DAAA;MAAA,OAERA,yDAAA,CAAAmE,OAAA,CAAAqe,UAAA;QAAAyG,OAAA,EAAA3d,MAAA,IAAAnH,OAAA,CAAA0Q,QAAA,CAAAhN;MAAA,EAGlB;IAAA,EAD2B;IAGD7H,wDAAA,IAAAs0C,mDAAA,yBAKa;;IACjBt0C,0DAAA,EAAa;;;;IAdTA,uDAAA,GAAsB;IAAtBA,wDAAA,cAAA8T,MAAA,CAAAe,QAAA,CAAsB,mBAAA7U,6DAAA,IAAA2M,IAAA;IASF3M,uDAAA,GAAiB;IAAjBA,wDAAA,YAAAA,yDAAA,OAAA8T,MAAA,CAAAozB,MAAA,EAAiB;;;;;;;;;IAmEjDlnC,4DAAA,cAGC;IACwCA,oDAAA,GAAU;IAAAA,0DAAA,EAAM;IACrDA,4DAAA,uBAMC;IAFGA,wDAAA,2BAAAu0C,uFAAAjpC,MAAA;MAAA,MAAAzI,WAAA,GAAA7C,2DAAA,CAAAw0C,IAAA;MAAA,MAAAC,QAAA,GAAA5xC,WAAA,CAAAI,SAAA;MAAA,MAAA0B,OAAA,GAAA3E,2DAAA;MAAA,OAAiBA,yDAAA,CAAA2E,OAAA,CAAAqzB,UAAA,CAAAyc,QAAA,EAAAnpC,MAAA,CAAwB;IAAA,EAAC;;IAE7CtL,0DAAA,EAAe;;;;;;IAPqBA,uDAAA,GAAU;IAAVA,+DAAA,CAAAy0C,QAAA,CAAU;IAE3Cz0C,uDAAA,GAEC;IAFDA,wDAAA,eAAAunC,OAAA,GAAAvnC,yDAAA,OAAAuE,OAAA,CAAAglB,OAAA,oBAAAge,OAAA,CAAApmC,QAAA,KAAAnB,6DAAA,IAAAsU,IAAA,GAAA9G,QAAA,CAAAinC,QAAA,EAEC,mBAAAz0C,6DAAA,IAAA2M,IAAA;;;;;IAdb3M,4DAAA,kBAIC;IACGA,oDAAA,OAAqC;IAAIA,0DAAA,EAAK;IAC9CA,wDAAA,IAAA00C,gDAAA,kBAYM;;IACV10C,0DAAA,EAAU;;;;IAZeA,uDAAA,GAAmB;IAAnBA,wDAAA,YAAAA,yDAAA,OAAA0D,MAAA,CAAAvC,QAAA,EAAmB;;;;;;IAchDnB,4DAAA,cAGC;IAMOA,wDAAA,mBAAA20C,+DAAA;MAAA30C,2DAAA,CAAAytC,IAAA;MAAA,MAAAE,OAAA,GAAA3tC,2DAAA;MAAA,OAASA,yDAAA,CAAA2tC,OAAA,CAAA9pB,KAAA,EAAO;IAAA,EAAC;IALrB7jB,oDAAA,OAOC;IAEDA,0DAAA,EAAS;;;AAlLrB,MAsLa0hC,sBAAsB;EAQ/B,IAAW7sB,QAAQA,CAAA;IACf,OAAO,IAAI,CAACH,IAAI,CAACG,QAAQ;EAC7B;EACA,IAAWA,QAAQA,CAACmU,GAAG;IACnB,IAAI,CAACtU,IAAI,CAACG,QAAQ,GAAGmU,GAAG;EAC5B;EAOA,IAAW4e,kBAAkBA,CAAA;IACzB,OAAO,CAAC,CAAC,IAAI,CAAC15B,SAAS,CAACC,GAAG,CAAC,gCAAgC,CAAC;EACjE;EACA,IAAW05B,aAAaA,CAAA;IACpB,OACI,IAAI,CAACD,kBAAkB,IACvB,CAAC,CAAC,IAAI,CAAC15B,SAAS,CAACC,GAAG,CAAC,2BAA2B,CAAC;EAEzD;EAEA,IAAW25B,QAAQA,CAAA;IACf,OAAO5sB,oDAAQ,CACXwrB,oDAAO,CACH9qB,IAAI,CAAChV,GAAG,EAAE,EACV,IAAI,CAACsH,SAAS,CAACC,GAAG,CAAC,8BAA8B,CAAC,IAAI,EAAE,CAC3D,CACJ;EACL;EAEArI,YAEYiiC,WAAsD,EACtDhmB,MAA0B,EAC1BrN,IAAyB,EACzBxG,SAA0B;IAH1B,KAAA65B,WAAW,GAAXA,WAAW;IACX,KAAAhmB,MAAM,GAANA,MAAM;IACN,KAAArN,IAAI,GAAJA,IAAI;IACJ,KAAAxG,SAAS,GAATA,SAAS;IA3Cd,KAAA85B,SAAS,GAAG,KAAK;IACR,KAAAze,OAAO,GAAG,IAAI,CAACxH,MAAM,CAACwH,OAAO;IAC7B,KAAApoB,QAAQ,GAAG,IAAI,CAAC4gB,MAAM,CAAC5gB,QAAQ;IAC/B,KAAAwT,SAAS,GAAG,IAAI,CAACD,IAAI,CAACuzB,gBAAgB;IACtC,KAAAf,MAAM,GAAG,IAAI,CAACxyB,IAAI,CAACwzB,aAAa;IAChC,KAAAvnC,IAAI,GAAG,IAAI,CAACohB,MAAM,CAACphB,IAAI;IASvB,KAAAkjB,KAAK,GAAG,MAAM,IAAI,CAACkkB,WAAW,CAACI,OAAO,EAAE;IACxC,KAAA3lB,UAAU,GAAIwjB,CAAC,IAAK,IAAI,CAACjkB,MAAM,CAACS,UAAU,CAACwjB,CAAC,CAAC;IAC7C,KAAAhO,UAAU,GAAG,CAACiO,CAAC,EAAE38B,CAAC,KAAK,IAAI,CAACyY,MAAM,CAACiW,UAAU,CAACiO,CAAC,EAAE38B,CAAC,CAAC;IACnD,KAAA8+B,QAAQ,GAAIC,CAAC,IAAI,CAAE,CAAC;IA4BhC,IAAI,CAACL,SAAS,GAAG,CAAC,CAAC,IAAI,CAACD,WAAW;EACvC;;AA/CSrG,sBAAsB;mBAAtBA,sBAAsB,EAAA1hC,+DAAA,CAAAzC,8EAAA,MAAAyC,+DAAA,CAAAH,qEAAA,GAAAG,+DAAA,CAAAiV,+FAAA,GAAAjV,+DAAA,CAAAq7B,4DAAA;AAAA;AAAtBqG,sBAAsB;QAAtBA,sBAAsB;EAAA1gC,SAAA;EAAAK,KAAA;EAAAC,IAAA;EAAAC,MAAA,WAAAA,CAAA;IAAA,IAAAC,MAAA;IAAA,WAAAC,iBAAA,oBAAAA,iBAAA;;;;;;;eA1JyBC,SAAA,+EAAc;;;;;;;;;;eAQrBA,SAAA,wEAAO;;;;;;;;;;eA0D5BA,SAAA,qEAAI;;;;;;;;;;eAYAA,SAAA,2EAAU;;;;;;;;;;eASVA,SAAA,yEAAQ;;;;;;;;;;;;;;;;gBAaSA,SAAA,mEACjC,eAAqC,kBACzC;;;;;;;;;;;;;;;;gBAE6CA,SAAA,mEACrC,eAA2C,kBAC/C;;;;;;;;;;gBA5FYA,SAAA,yEAAQ;;;;;;;;;;gBA2GaA,SAAA,qEAAI;;;;;;;;;;gBA2B5CA,SAAA,gFAED;;;;;;MArKJ1B,4DAAA,aAEC;MAEOA,wDAAA,IAAA40C,wCAAA,oBASS;MACb50C,0DAAA,EAAM;MACNA,4DAAA,YAAgD;MAAhDA,oDAAA,MAAgD;MAAcA,0DAAA,EAAK;MACnEA,uDAAA,aAA0B;MAC9BA,0DAAA,EAAM;MACNA,4DAAA,cAGC;MAEOA,oDAAA,MAAqC;MAAOA,0DAAA,EAAK;MAEjDA,wDAAA,KAAA60C,sCAAA,kBAyBM;;MAEN70C,wDAAA,KAAA80C,sCAAA,kBAyBM;;MAGN90C,4DAAA,eAAkC;MAC9BA,oDAAA,QAAY;MAAIA,0DAAA,EAAQ;MACxBA,4DAAA,wBAIC;MACGA,oDAAA,IACJ;;MAAAA,0DAAA,EAAe;MAGnBA,4DAAA,eAAyC;MAEjCA,oDAAA,QAAY;MAAUA,0DAAA,EAAQ;MAC9BA,4DAAA,wBAKC;MAFGA,wDAAA,2BAAA+0C,uEAAAzpC,MAAA;QAAA,OAAiBxJ,GAAA,CAAAnB,IAAA,CAAA0Z,UAAA;UAAAtU,IAAA,EAAAuF;QAAA,EAAiC;MAAA,EAAC;MAEtDtL,0DAAA,EAAe;MAEpBA,4DAAA,eAA0B;MACtBA,oDAAA,QAAY;MAAQA,0DAAA,EAAQ;MAC5BA,uDAAA,4BAOmB;MACvBA,0DAAA,EAAM;MAGdA,4DAAA,mBAAqC;MACjCA,oDAAA,QAAqC;;MAErCA,0DAAA,EAAK;MACLA,4DAAA,eAA+B;MAC3BA,oDAAA,QAAyC;;MAEzCA,0DAAA,EAAM;MACNA,4DAAA,wBAKC;MAFGA,wDAAA,2BAAAg1C,uEAAA1pC,MAAA;QAAA,OAAiBxJ,GAAA,CAAA0gB,UAAA;UAAAqjB,QAAA,EAAAv6B;QAAA,EAAgC;MAAA,EAAC;;MAGtDtL,0DAAA,EAAe;MAGvBA,wDAAA,KAAAi1C,0CAAA,sBAmBU;;MACdj1C,0DAAA,EAAO;MACPA,wDAAA,KAAAk1C,sCAAA,kBAcM;;;;;;;;MA7JOl1C,uDAAA,GAAe;MAAfA,wDAAA,SAAA8B,GAAA,CAAAkmC,SAAA,CAAe;MAWxBhoC,uDAAA,GAAkB;MAAlBA,wDAAA,cAAA8B,GAAA,CAAAnB,IAAA,CAAkB;MAMTX,uDAAA,GAAiC;MAAjCA,wDAAA,UAAAwhB,OAAA,GAAAxhB,yDAAA,SAAA8B,GAAA,CAAA6S,SAAA,oBAAA6M,OAAA,CAAA7X,MAAA,CAAiC;MA2BjC3J,uDAAA,GAAkC;MAAlCA,wDAAA,WAAA8oC,OAAA,GAAA9oC,yDAAA,SAAA8B,GAAA,CAAAolC,MAAA,oBAAA4B,OAAA,CAAAn/B,MAAA,MAAkC;MAgC/B3J,uDAAA,GAAe;MAAfA,wDAAA,OAAA8B,GAAA,CAAAgmC,QAAA,CAAe;MAEf9nC,uDAAA,GACJ;MADIA,gEAAA,MAAAA,yDAAA,iCACJ;MAQQA,uDAAA,GAA2B;MAA3BA,wDAAA,YAAA8B,GAAA,CAAAnB,IAAA,CAAAyV,KAAA,CAAArQ,IAAA,CAA2B,mBAAA/F,6DAAA,KAAA2M,IAAA;MAS3B3M,uDAAA,GAAgC;MAAhCA,wDAAA,UAAA+oC,OAAA,GAAAjnC,GAAA,CAAAnB,IAAA,CAAAwN,GAAA,2BAAA46B,OAAA,CAAA3yB,KAAA,CAAgC;MAY5CpW,uDAAA,GAAK;MAALA,uDAAA,CAAAA,yDAAA,8BAAK;MAALA,yDAAA,IAAK;MAIDA,uDAAA,GAAM;MAANA,uDAAA,CAAAA,yDAAA,oCAAM;MAANA,yDAAA,IAAM;MAGFA,uDAAA,GAAuC;MAAvCA,wDAAA,aAAAm1C,QAAA,GAAAn1C,yDAAA,SAAA8B,GAAA,CAAAynB,OAAA,oBAAA4rB,QAAA,CAAAtP,QAAA,CAAuC,mBAAA7lC,6DAAA,KAAA2M,IAAA;MAU9C3M,uDAAA,GAAgC;MAAhCA,wDAAA,UAAAo1C,QAAA,GAAAp1C,yDAAA,SAAA8B,GAAA,CAAAX,QAAA,oBAAAi0C,QAAA,CAAAzrC,MAAA,CAAgC;MAoBpC3J,uDAAA,GAAe;MAAfA,wDAAA,SAAA8B,GAAA,CAAAkmC,SAAA,CAAe;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/KmD;AACP;AACnC;AAEsC;AACtC;AACyC;AAC2B;;;;;;;;;;;;;IAsCrFhoC,4DAAA,qBAGC;IACGA,oDAAA,GACJ;IAAAA,0DAAA,EAAa;;;;IAHTA,wDAAA,UAAAiqC,MAAA,CAAa;IAEbjqC,uDAAA,GACJ;IADIA,gEAAA,MAAAiqC,MAAA,CAAAjY,YAAA,IAAAiY,MAAA,CAAAtkC,IAAA,MACJ;;;;;;;;AAzCpB,MA+Dak8B,kBAAmB,SAAQ9hC,yDAAY;EAahD,IAAWo7B,OAAOA,CAAA;IACd,OAAO,IAAI,CAACrJ,KAAK,EAAEsB,MAAM,IAAI,EAAE;EACnC;EA8DAttB,YACYic,MAA0B,EAC1B7T,SAA0B;IAElC,KAAK,EAAE;IAHC,KAAA6T,MAAM,GAANA,MAAM;IACN,KAAA7T,SAAS,GAATA,SAAS;IA9EL,KAAAg8B,YAAY,GAAY,KAAK;IAC5B,KAAApkB,QAAQ,GAAG,IAAI5jB,uDAAY,EAAgB;IAE5C,KAAA+4B,OAAO,GAAG,IAAI,CAAClZ,MAAM,CAACoV,mBAAmB;IACzC,KAAAtnB,OAAO,GAAG,IAAI,CAACkS,MAAM,CAAClS,OAAO;IAEtC,KAAAs6B,IAAI,GAAG,CAAC;IACR,KAAA3gC,MAAM,GAAG;MAAEC,CAAC,EAAE,GAAG;MAAEI,CAAC,EAAE;IAAG,CAAE;IAGlB,KAAA2Y,UAAU,GAAIwjB,CAAC,IAAK,IAAI,CAACjkB,MAAM,CAACS,UAAU,CAACwjB,CAAC,CAAC;IAM7C,KAAAkB,MAAM,GAAG,IAAI,CAACnlB,MAAM,CAACoV,mBAAmB,CAACnb,IAAI,CACzDxT,mDAAG,CAAEyyB,OAAO,IACRnG,uDAAM,CACFmG,OAAO,CAACzyB,GAAG,CAAE0oC,MAAM,IAAKA,MAAM,CAACtoB,IAAI,CAAC,EACpC,IAAI,CACP,CACJ,CACJ;IAEe,KAAAyhB,OAAO,GAAG,IAAI,CAACtoB,MAAM,CAACoV,mBAAmB,CAACnb,IAAI,CAC1DxT,mDAAG,CAAEyyB,OAAO,IACRA,OAAO,CAACzyB,GAAG,CAAE0oC,MAAM,KAAM;MACrBrpC,EAAE,EAAEqpC,MAAM,CAAC9d,MAAM,IAAI8d,MAAM,CAACrpC,EAAE;MAC9ByiC,MAAM,EAAE,CAAC,UAAU,EAAE,SAAS,CAAC;MAC/BC,QAAQ,EAAEA,CAAA,KAAM,IAAI,CAAC+K,YAAY,CAACpE,MAAa;KAClD,CAAC,CAAC,CACN,CACJ;IAEe,KAAA/vC,QAAQ,GAAG,IAAI,CAAC4gB,MAAM,CAAC8U,SAAS,CAAC7a,IAAI,CACjDxT,mDAAG,CAAEyyB,OAAO,IAAI;MACZ,OAAO,IAAI,CAAC/sB,SAAS,CAACC,GAAG,CAAC,uBAAuB,CAAC,GAC5C,EAAE,GACF8sB,OAAO,CAACzyB,GAAG,CAAE0oC,MAAM,KAAM;QACrBrgB,QAAQ,EAAEqgB,MAAM,CAACrpC,EAAE;QACnB0B,OAAO,EAAE8rC,mHAA8B;QACvC7K,SAAS,EAAE,IAAI;QACfC,QAAQ,EAAE,IAAI;QACdjsB,IAAI,EAAE;UACF3W,EAAE,EAAEqpC,MAAM,CAAC9d,MAAM,IAAI8d,MAAM,CAACrpC,EAAE;UAC9BurB,MAAM,EAAE8d,MAAM,CAACvrC,IAAI;UACnBA,IAAI,EAAEurC,MAAM,CAACvrC,IAAI,IAAIurC,MAAM,CAAC9d,MAAM;UAClC9c,IAAI,EAAE,IAAI,CAACyL,MAAM,CAACkU,gBAAgB,CAACib,MAAM,CAACrpC,EAAE;SAC/C;QACD6iC,OAAO,EAAE;OACZ,CAAC,CAAC;IACb,CAAC,CAAC,CACL;IAEe,KAAAC,MAAM,GAAG7lB,mDAAa,CAAC,CACnC,IAAI,CAAC/C,MAAM,CAAC8U,SAAS,EACrB,IAAI,CAAC9U,MAAM,CAACoV,mBAAmB,CAClC,CAAC,CAACnb,IAAI,CACHxT,mDAAG,CAAC,CAAC,CAACyyB,OAAO,EAAEsa,YAAY,CAAC,KACxBta,OAAO,CAACtc,MAAM,CAAC,CAACgsB,MAAM,EAAEuG,MAAM,KAAI;MAC9B,MAAMrG,OAAO,GAAG,IAAI,CAAC38B,SAAS,CAACC,GAAG,CAAC,oBAAoB,CAAC,IAAI,EAAE;MAC9D,MAAMkjB,MAAM,GAAGkkB,YAAY,CAAC3sC,IAAI,CAAE0X,CAAC,IAAKA,CAAC,CAACzY,EAAE,KAAKqpC,MAAM,CAACrpC,EAAE,CAAC,GACrD,MAAM,GACN,MAAM;MACZ8iC,MAAM,CAAC,IAAIuG,MAAM,CAAC9d,MAAM,IAAI8d,MAAM,CAACrpC,EAAE,EAAE,CAAC,GAAG;QACvCijC,IAAI,EACAD,OAAO,CAAC,UAAUxZ,MAAM,EAAE,CAAC,IAC3BwZ,OAAO,CAAC,GAAGxZ,MAAM,EAAE,CAAC,IACpB0Y,wFAAe,CAAC,GAAG1Y,MAAM,EAAE;OAClC;MACD,OAAOsZ,MAAM;IACjB,CAAC,EAAE,EAAE,CAAC,CACT,CACJ;EAOD;EAEAtkC,QAAQA,CAAA;IACJ,IAAI,CAACorB,YAAY,CACb,eAAe,EACf,IAAI,CAACyV,MAAM,CAACjrB,SAAS,CAAEirB,MAAM,IAAI;MAC7B,IAAI,CAACA,MAAM,CAACt+B,IAAI,CAAE0X,CAAC,IAAKA,CAAC,CAACzY,EAAE,KAAK,IAAI,CAACiqB,KAAK,EAAEjqB,EAAE,CAAC,EAAE;QAC9C,IAAI,CAACiqB,KAAK,GAAGoV,MAAM,CAAC,CAAC,CAAC;;IAE9B,CAAC,CAAC,CACL;EACL;EAEOoO,YAAYA,CAACpE,MAAoB;IACpC,IAAI,CAACprB,QAAQ,CAACzc,IAAI,CAAC6nC,MAAM,CAAC;EAC9B;EAEOnG,OAAOA,CAACC,QAAgB;IAC3B,IAAI,CAACb,IAAI,GAAGjjC,IAAI,CAAC2D,GAAG,CAAC,GAAG,EAAE3D,IAAI,CAAC+jC,GAAG,CAAC,EAAE,EAAED,QAAQ,CAAC,CAAC;EACrD;EAEOE,QAAQA,CAAA;IACX,IAAI,CAACf,IAAI,GAAG,CAAC;IACb,IAAI,CAAC3gC,MAAM,GAAG;MAAEC,CAAC,EAAE,GAAG;MAAEI,CAAC,EAAE;IAAG,CAAE;EACpC;;AA1GSg4B,kBAAmB;mBAAnBA,kBAAkB,EAAA7hC,+DAAA,CAAAzC,qEAAA,GAAAyC,+DAAA,CAAAH,4DAAA;AAAA;AAAlBgiC,kBAAmB;QAAnBA,kBAAkB;EAAA7gC,SAAA;EAAAC,MAAA;IAAAipC,YAAA;EAAA;EAAAxvB,OAAA;IAAAoL,QAAA;EAAA;EAAA3kB,QAAA,GAAAnB,wEAAA;EAAAqB,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAiV,QAAA,WAAAg/B,4BAAAxqC,EAAA,EAAAlJ,GAAA;IAAA,IAAAkJ,EAAA;MA/CvBhL,4DAAA,eAOC;MALGA,wDAAA,wBAAAy1C,wDAAAnqC,MAAA;QAAA,OAAAxJ,GAAA,CAAAqoC,IAAA,GAAA7+B,MAAA;MAAA,EAAe,0BAAAoqC,0DAAApqC,MAAA;QAAA,OAAAxJ,GAAA,CAAA0H,MAAA,GAAA8B,MAAA;MAAA;;;;MAKlBtL,0DAAA,EAAQ;MACTA,4DAAA,aAEC;MAOWA,wDAAA,2BAAA21C,gEAAArqC,MAAA;QAAA,OAAAxJ,GAAA,CAAAgwB,KAAA,GAAAxmB,MAAA;MAAA,EAAmB;MAGnBtL,wDAAA,IAAA41C,wCAAA,wBAKa;;MACjB51C,0DAAA,EAAa;MAGrBA,4DAAA,aAGC;MACkCA,wDAAA,mBAAA61C,qDAAA;QAAA,OAAS/zC,GAAA,CAAAipC,OAAA,CAAAjpC,GAAA,CAAAqoC,IAAA,GAAe,GAAG,CAAC;MAAA,EAAC;MACxDnqC,4DAAA,gBAAU;MAAAA,oDAAA,eAAO;MAAAA,0DAAA,EAAW;MAEhCA,uDAAA,cAAmD;MACnDA,4DAAA,iBAAoE;MAApCA,wDAAA,mBAAA81C,qDAAA;QAAA,OAASh0C,GAAA,CAAAipC,OAAA,CAAAjpC,GAAA,CAAAqoC,IAAA,IAAgB,CAAC,GAAG,GAAG,EAAE;MAAA,EAAC;MAC/DnqC,4DAAA,gBAAU;MAAAA,oDAAA,gBAAQ;MAAAA,0DAAA,EAAW;MAEjCA,uDAAA,cAAmD;MACnDA,4DAAA,iBAAkD;MAArBA,wDAAA,mBAAA+1C,qDAAA;QAAA,OAASj0C,GAAA,CAAAopC,QAAA,EAAU;MAAA,EAAC;MAC7ClrC,4DAAA,gBAAU;MAAAA,oDAAA,eAAO;MAAAA,0DAAA,EAAW;;;MAzChCA,wDAAA,QAAA8B,GAAA,CAAAq5B,OAAA,CAAe,SAAAr5B,GAAA,CAAAqoC,IAAA,YAAAroC,GAAA,CAAA0H,MAAA,cAAAxJ,yDAAA,OAAA8B,GAAA,CAAAX,QAAA,aAAAnB,yDAAA,QAAA8B,GAAA,CAAA6oC,MAAA,cAAA3qC,yDAAA,QAAA8B,GAAA,CAAAuoC,OAAA;MAgBPrqC,uDAAA,GAAmB;MAAnBA,wDAAA,YAAA8B,GAAA,CAAAgwB,KAAA,CAAmB,mBAAA9xB,6DAAA,KAAAyT,GAAA;MAICzT,uDAAA,GAAiB;MAAjBA,wDAAA,YAAAA,yDAAA,QAAA8B,GAAA,CAAAolC,MAAA,EAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7CgB;AACvB;AAKjB;;;;;;;;;;;;;;;;IAsDTlnC,4DAAA,2BAQC;IAHGA,wDAAA,uBAAAg2C,6GAAA1qC,MAAA;MAAAtL,2DAAA,CAAA+wB,GAAA;MAAA,MAAArkB,MAAA,GAAA1M,2DAAA;MAAA,OAAaA,yDAAA,CAAA0M,MAAA,CAAA4U,eAAA,CAAAhW,MAAA,CAAuB;IAAA,EAAC,sBAAA2qC,4GAAA3qC,MAAA;MAAAtL,2DAAA,CAAA+wB,GAAA;MAAA,MAAA7tB,OAAA,GAAAlD,2DAAA;MAAA,OAAAA,yDAAA,CAAAkD,OAAA,CAAAiuC,IAAA,GAAA7lC,MAAA;IAAA;IAGxCtL,0DAAA,EAAmB;;;;IANhBA,wDAAA,WAAAqU,MAAA,CAAAkS,SAAA,kBAAAlS,MAAA,CAAAkS,SAAA,CAAA1e,EAAA,CAAwB,aAAAwM,MAAA,CAAAmS,YAAA,eAAAnS,MAAA,CAAAuN,SAAA;;;;;IAHhC5hB,qEAAA,GAA4C;IACxCA,wDAAA,IAAAk2C,sEAAA,+BAQoB;IACxBl2C,mEAAA,EAAe;;;;;IARNA,uDAAA,GAAuB;IAAvBA,wDAAA,SAAAU,MAAA,CAAAq1B,IAAA,YAAuB,aAAAxU,GAAA;;;;;;IAcpCvhB,4DAAA,iBAQC;IAFGA,wDAAA,mBAAAm2C,sEAAA;MAAAn2C,2DAAA,CAAA0N,IAAA;MAAA,MAAAC,OAAA,GAAA3N,2DAAA;MAAA,OAAAA,yDAAA,CAAA2N,OAAA,CAAA4Y,SAAA,GAAqB,IAAI;IAAA,EAAC;IAN9BvmB,oDAAA,OAQC;IAEDA,0DAAA,EAAS;;;;;;IAgCLA,4DAAA,iBAOC;IADGA,wDAAA,mBAAAo2C,sEAAA;MAAAp2C,2DAAA,CAAAszB,IAAA;MAAA,MAAAC,OAAA,GAAAvzB,2DAAA;MAAAuzB,OAAA,CAAA4d,IAAA,GAAgB,IAAI;MAAA,OAAAnxC,yDAAA,CAAAuzB,OAAA,CAAAhN,SAAA,GAAc,IAAI;IAAA,EAAC;IAEvCvmB,oDAAA,eACJ;IAAAA,0DAAA,EAAS;;;;;;IA4BjBA,4DAAA,qBAIC;IADGA,wDAAA,sBAAAq2C,kFAAA/qC,MAAA;MAAAtL,2DAAA,CAAAyzB,IAAA;MAAA,MAAApvB,OAAA,GAAArE,2DAAA;MAAA,OAAAA,yDAAA,CAAAqE,OAAA,CAAAkiB,SAAA,GAAAjb,MAAA;IAAA,EAA+B;IAEnCtL,0DAAA,EAAa;;;;IAHTA,wDAAA,mBAAA4E,MAAA,CAAA2hB,SAAA,CAA4B;;;;;;IAMhCvmB,4DAAA,sBAKC;IADGA,wDAAA,qBAAAs2C,kFAAAhrC,MAAA;MAAAtL,2DAAA,CAAAu2C,IAAA;MAAA,MAAA9xC,OAAA,GAAAzE,2DAAA;MAAA,OAAAA,yDAAA,CAAAyE,OAAA,CAAA8hB,SAAA,GAAAjb,MAAA;IAAA,EAA8B;IAElCtL,0DAAA,EAAc;;;;IAJVA,wDAAA,SAAAmU,MAAA,CAAAg9B,IAAA,CAAa,aAAAh9B,MAAA,CAAAoS,SAAA,kBAAApS,MAAA,CAAAoS,SAAA,CAAA1e,EAAA;;;AA3JtB,MAAM0pC,cAAc,GAAG,mBAAmB;AAEjD,MAiKa/P,0BAA0B;EAMnC,IAAWhb,YAAYA,CAAA;IACnB,OAAO,IAAI,CAACvE,QAAQ,CAACzZ,GAAG,CAAE8X,CAAC,IAAKA,CAAC,CAACzY,EAAE,CAAC,CAAC4e,IAAI,CAAC,GAAG,CAAC;EACnD;EAEA,IAAW7E,SAASA,CAAA;IAChB,OAAO,IAAI,CAAC1T,SAAS,CAACC,GAAG,CAAWojC,cAAc,CAAC,IAAI,EAAE;EAC7D;EAEAzrC,YACYomC,WAAqD,EACrDh+B,SAA0B,EAC1Bi+B,WAA+B,EAE/BjyB,KAGP;IAPO,KAAAgyB,WAAW,GAAXA,WAAW;IACX,KAAAh+B,SAAS,GAATA,SAAS;IACT,KAAAi+B,WAAW,GAAXA,WAAW;IAEX,KAAAjyB,KAAK,GAALA,KAAK;IAjBV,KAAA+H,QAAQ,GAAmB,EAAE;IAC7B,KAAA8T,IAAI,GAAG,MAAM;IACb,KAAAob,IAAI,GAAgB,IAAI;IAoB3B,IAAI,CAAClvB,QAAQ,GAAG,CAAC,IAAI/H,KAAK,CAAC8H,KAAK,IAAI,EAAE,CAAC,CAAC;IACxC,IAAI,CAACmqB,WAAW,CAAC3pB,UAAU,CAACtI,KAAK,CAACqP,OAAO,CAAC;EAC9C;EAEO5C,UAAUA,CAAC9e,EAAU;IACxB,OAAOA,EAAE,IAAI,IAAI,CAAC2e,YAAY,CAAChZ,QAAQ,CAAC3F,EAAE,CAAC;EAC/C;EAEOgf,WAAWA,CAACzI,IAAkB,EAAE0I,KAAc;IACjD,MAAMC,IAAI,GAAG,IAAI,CAAC9E,QAAQ,CAAC/Z,MAAM,CAAEoY,CAAC,IAAKA,CAAC,CAACzY,EAAE,KAAKuW,IAAI,CAACvW,EAAE,CAAC;IAC1D,IAAIif,KAAK,EAAEC,IAAI,CAACnf,IAAI,CAACwW,IAAI,CAAC;IAC1B,IAAI,CAAC6D,QAAQ,GAAG8E,IAAI;IACpB,IAAI,CAAC,IAAI,CAAC7M,KAAK,CAACqP,OAAO,CAAClJ,KAAK,IAAIyG,KAAK,EAAE,IAAI,CAAColB,WAAW,CAACroB,KAAK,CAAC,CAACzF,IAAI,CAAC,CAAC;EAC1E;EAEOkD,eAAeA,CAAClD,IAAkB;IACrC,MAAMgF,QAAQ,GAAG,IAAI,CAACxB,SAAS;IAC/B,MAAMyB,SAAS,GAAG,CAACD,QAAQ,CAAC5V,QAAQ,CAAC4Q,IAAI,CAACvW,EAAE,CAAC;IAC7C,IAAIwb,SAAS,EAAE;MACX,IAAI,CAACnV,SAAS,CAACoV,eAAe,CAACiuB,cAAc,EAAE,CAC3C,GAAGnuB,QAAQ,EACXhF,IAAI,CAACvW,EAAE,CACV,CAAC;KACL,MAAM;MACH,IAAI,CAACqG,SAAS,CAACoV,eAAe,CAC1BiuB,cAAc,EACdnuB,QAAQ,CAAClb,MAAM,CAAEoY,CAAC,IAAKA,CAAC,KAAKlC,IAAI,CAACvW,EAAE,CAAC,CACxC;;EAET;;AArDS25B,0BAA0B;mBAA1BA,0BAA0B,EAAAxhC,+DAAA,CAAAzC,kEAAA,GAAAyC,+DAAA,CAAAH,4DAAA,GAAAG,+DAAA,CAAAiV,qEAAA,GAAAjV,+DAAA,CAkBvBgZ,qEAAe;AAAA;AAlBlBwoB,0BAA0B;QAA1BA,0BAA0B;EAAAxgC,SAAA;EAAAK,KAAA;EAAAC,IAAA;EAAAC,MAAA,WAAAA,CAAA;IAAA,IAAAC,MAAA;IAAA,WAAAC,iBAAA,oBAAAA,iBAAA;;;;;;;eAtJdC,SAAA,4EAAW;;;;;;;;;;eAwEnBA,SAAA,4EAED;;;;;;;;;;eAcyCA,SAAA,4EAAY;;;;;;;;;;;;;;;;eAGNA,SAAA,mEAC3C,eAAqB,kCACzB;;;;;;;;;;;;;;;;eA0BmCA,SAAA,mEACnB,eAIE,kBACN;;;;;;;;;;gBAhEXA,SAAA,sEAED;;;;;;MAtER1B,4DAAA,aAEC;MAGqBA,oDAAA,YAAK;MAAAA,0DAAA,EAAW;MAE9BA,4DAAA,SAAS;MAATA,oDAAA,MAAS;MAAWA,0DAAA,EAAK;MACzBA,4DAAA,aAA4D;MAOpDA,wDAAA,mBAAAw2C,4DAAA;QAAA,OAAA10C,GAAA,CAAAi0B,IAAA,GAAgB,KAAK;MAAA,EAAC;MAEtB/1B,oDAAA,YACJ;MAAAA,0DAAA,EAAS;MACTA,4DAAA,iBAOC;MADGA,wDAAA,mBAAAy2C,6DAAA;QAAA,OAAA30C,GAAA,CAAAi0B,IAAA,GAAgB,MAAM;MAAA,EAAC;MAEvB/1B,oDAAA,cACJ;MAAAA,0DAAA,EAAS;MAGjBA,4DAAA,eAEC;MACGA,uDAAA,yBAEkB;MAClBA,4DAAA,cAEC;MAGOA,wDAAA,wBAAA02C,kFAAAprC,MAAA;QAAA,OAAAxJ,GAAA,CAAAi0B,IAAA,GAAAzqB,MAAA;MAAA,EAAe;MAClBtL,0DAAA,EAAyB;MAC1BA,wDAAA,KAAA22C,mDAAA,2BAUe;MACnB32C,0DAAA,EAAM;MAEVA,4DAAA,kBAEC;MACGA,wDAAA,KAAA42C,6CAAA,qBAUS;MACT52C,4DAAA,kBAQC;MARDA,oDAAA,QAQC;MAEDA,0DAAA,EAAS;MAEbA,4DAAA,kBAEC;MASqCA,oDAAA,kBAAU;MAAAA,0DAAA,EAAW;MAC/CA,4DAAA,eAAiC;MAAjCA,oDAAA,QAAiC;MAAYA,0DAAA,EAAM;MAG3DA,4DAAA,aAA+C;MAA/CA,oDAAA,QAA+C;MAE/CA,0DAAA,EAAI;MACJA,4DAAA,eAA+B;MAC3BA,wDAAA,KAAA62C,6CAAA,qBASS;MACT72C,4DAAA,kBASC;MAHGA,wDAAA,mBAAA82C,6DAAA;QAAA,OACiCh1C,GAAA,CAAA+kB,WAAA,CAAA/kB,GAAA,CAAAykB,SAAA,GACvDzkB,GAAA,CAAA6kB,UAAA,CAAA7kB,GAAA,CAAAykB,SAAA,kBAAAzkB,GAAA,CAAAykB,SAAA,CAAA1e,EAAA,CACD,CAAC;MAAA,EADuB;MAED7H,4DAAA,eAA+B;MACDA,oDAAA,IAExB;MAAAA,0DAAA,EAAW;MACbA,4DAAA,eAAuB;MAAvBA,oDAAA,QAAuB;MAMvBA,0DAAA,EAAM;MAM1BA,wDAAA,KAAA+2C,kDAAA,iCAAA/2C,oEAAA,CAOc;MACdA,wDAAA,KAAAg3C,kDAAA,iCAAAh3C,oEAAA,CAQc;;;;MA5IEA,uDAAA,GAAgC;MAAhCA,yDAAA,YAAA8B,GAAA,CAAAi0B,IAAA,WAAgC;MAUhC/1B,uDAAA,GAAiC;MAAjCA,yDAAA,YAAA8B,GAAA,CAAAi0B,IAAA,YAAiC;MAkBjC/1B,uDAAA,GAAe;MAAfA,wDAAA,SAAA8B,GAAA,CAAAi0B,IAAA,CAAe;MAEJ/1B,uDAAA,GAAa;MAAbA,wDAAA,UAAA8B,GAAA,CAAAqvC,IAAA,CAAa,aAAAtF,GAAA;MAqB3B7rC,uDAAA,GAAe;MAAfA,wDAAA,SAAA8B,GAAA,CAAAykB,SAAA,CAAe;MAWhBvmB,uDAAA,GAAwB;MAAxBA,yDAAA,SAAA8B,GAAA,CAAAykB,SAAA,CAAwB;MADxBvmB,wDAAA,qBAAA8B,GAAA,CAAAmgB,QAAA,CAA6B;MAe7BjiB,uDAAA,GAA6B;MAA7BA,wDAAA,qBAAA8B,GAAA,CAAAmgB,QAAA,CAA6B;MAUjCjiB,uDAAA,GAAI;MAAJA,uDAAA,CAAA8B,GAAA,CAAAmgB,QAAA,CAAAtY,MAAA,CAAI;MAAJ3J,yDAAA,IAAI;MAMKA,uDAAA,GAAU;MAAVA,wDAAA,SAAA8B,GAAA,CAAAqvC,IAAA,CAAU;MAWXnxC,uDAAA,GAA2C;MAA3CA,yDAAA,YAAA8B,GAAA,CAAA6kB,UAAA,CAAA7kB,GAAA,CAAAykB,SAAA,kBAAAzkB,GAAA,CAAAykB,SAAA,CAAA1e,EAAA,EAA2C;MAD3C7H,wDAAA,cAAA8B,GAAA,CAAAykB,SAAA,CAAuB;MAOOvmB,uDAAA,GAExB;MAFwBA,+DAAA,CAAA8B,GAAA,CAAA6kB,UAAA,CAAA7kB,GAAA,CAAAykB,SAAA,kBAAAzkB,GAAA,CAAAykB,SAAA,CAAA1e,EAAA,qBAExB;MAOF7H,uDAAA,GAAM;MAANA,uDAAA,CAAA8B,GAAA,CAAA6kB,UAAA,CAAA7kB,GAAA,CAAAykB,SAAA,kBAAAzkB,GAAA,CAAAykB,SAAA,CAAA1e,EAAA,6CAAM;MAAN7H,yDAAA,IAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnJQ;AAMd;AAC8B;AAOlC;AAE6D;;;AAqBrF,MAGaqyC,cAAc;EA0DhBjK,QAAQA,CAACtW,KAAa;IACzB,IAAI,CAACqlB,MAAM,CAAC95B,IAAI,CAACyU,KAAK,CAAC;EAC3B;EAEAhsB,YAAoB4O,IAAyB;IAAzB,KAAAA,IAAI,GAAJA,IAAI;IA7DhB,KAAAyiC,MAAM,GAAG,IAAIp8B,iDAAe,CAAC,EAAE,CAAC;IAChC,KAAAqvB,OAAO,GAAG,IAAIrvB,iDAAe,CAAC,CAAC,CAAC;IACxB,KAAAm4B,cAAc,GAAGpuB,mDAAa,CAAC,CAC3C,IAAI,CAACpQ,IAAI,CAACI,eAAe,EACzB,IAAI,CAACs1B,OAAO,CACf,CAAC,CAACpuB,IAAI,CACH9T,sDAAM,CAAC,CAAC,CAAC8gB,GAAG,CAAC,KAAK,CAAC,CAACA,GAAG,CAAC,EACxB/N,yDAAS,CAAC,CAAC,CAAC+N,GAAG,CAAC,KACZ+L,qEAAiB,CAAC/L,GAAG,CAACnhB,EAAE,EAAE;MAAElC,IAAI,EAAE;IAAS,CAAE,CAAC,CAACqW,IAAI,CAC/C2L,0DAAU,CAAC,MAAMD,wCAAE,CAAC,IAAIuvB,6DAAa,EAAE,CAAC,CAAC,CAC5C,CACJ,EACDzuC,oDAAG,CAAE8X,CAAsB,IACvBkK,wDAAO,CACHlK,CAAC,CAAC9X,GAAG,CAAE8X,CAAC,IACJA,CAAC,CAAC7F,QAAQ,CAACwgB,OAAO,EAAE9gB,OAAO,YAAY6c,KAAK,GACtC1W,CAAC,CAAC7F,QAAQ,CAACwgB,OAAO,EAAE9gB,OAAO,CAAC3R,GAAG,CAAE2oC,IAAI,KAAM;MACvC,GAAGA,IAAI;MACPvoB,IAAI,EAAEtI,CAAC,CAACsI;KACX,CAAC,CAAC,GACH,EAAE,CACX,CACJ,CACJ,EACDhB,4DAAW,CAAC,CAAC,CAAC,CACjB;IAEe,KAAAwvB,QAAQ,GAAG,IAAI,CAAClE,cAAc,CAACl3B,IAAI,CAC/CxT,oDAAG,CAAE6uC,SAAS,IAAI;MACd,MAAMpc,OAAO,GAAG,EAAE;MAClB,KAAK,MAAMkW,IAAI,IAAIkG,SAAS,EAAE;QAC1Bpc,OAAO,CAACrzB,IAAI,CACR,GAAGupC,IAAI,CAAClW,OAAO,CAACzyB,GAAG,CACd8X,CAAC,KACG;UACG,GAAGA,CAAC;UACJ4a,OAAO,EAAEiW,IAAI,CAACtpC,EAAE;UAChByvC,QAAQ,EAAEnG,IAAI,CAACvoB,IAAI,CAAC/gB;SACZ,EACnB,CACJ;;MAEL,OAAOozB,OAAO;IAClB,CAAC,CAAC,CACL;IAEe,KAAAsc,iBAAiB,GAAGzyB,mDAAa,CAAC,CAC9C,IAAI,CAACqyB,MAAM,EACX,IAAI,CAACC,QAAQ,CAChB,CAAC,CAACp7B,IAAI,CACHxT,oDAAG,CAAC,CAAC,CAACspB,KAAK,EAAEmJ,OAAO,CAAC,KACjBA,OAAO,CAAC/yB,MAAM,CACToY,CAAC,IAAK,CAAC,CAACwR,KAAK,IAAIxR,CAAC,CAACg3B,QAAQ,KAAKxlB,KAAK,KAAKxR,CAAC,CAACkX,QAAQ,CACxD,CACJ,CACJ;EAM+C;EAEnCggB,WAAWA,CAACvc,OAAqB;IAAA,IAAA9e,KAAA;IAAA,OAAAC,wJAAA;MAC1C,MAAM86B,kEAAc,CAAC/6B,KAAI,CAACzH,IAAI,CAACG,QAAQ,CAAChN,EAAE,EAAE;QACxClC,IAAI,EAAE,SAAS;QACfsJ,WAAW,EAAE,EAAE;QACfkL,OAAO,EAAE8gB;OACZ,CAAC;MACF9e,KAAI,CAACiuB,OAAO,CAAC/sB,IAAI,CAACzB,IAAI,CAAChV,GAAG,EAAE,CAAC;IAAC;EAClC;;AAvESyrC,cAAc;mBAAdA,cAAc,EAAAryC,uDAAA,CAAAzC,+FAAA;AAAA;AAAd80C,cAAc;SAAdA,cAAc;EAAA5oB,OAAA,EAAd4oB,cAAc,CAAA3oB,IAAA;EAAAC,UAAA,EAFX;AAAM;;;;;;;;;;;;;;;;;;;;;;;ACjCC;AAC+B;AACM;;;;;;;;;;IAiB5C3pB,uDAAA,yBAIkB;;;;IAHdA,wDAAA,WAAA0D,MAAA,CAAAogC,KAAA,CAAAjjB,MAAA,CAAuB;;;;;;;;;;;;IAXnC7gB,qEAAA,GAA8C;IAC1CA,4DAAA,iBAQC;IACGA,wDAAA,IAAAy3C,qEAAA,4BAIkB;IAClBz3C,4DAAA,gBAMC;IAFGA,wDAAA,mBAAA03C,6EAAA;MAAA13C,2DAAA,CAAA6rC,GAAA;MAAA,MAAAjnC,MAAA,GAAA5E,2DAAA;MAAA,OAASA,yDAAA,CAAA4E,MAAA,CAAAif,KAAA,CAAAxa,IAAA,EAAY;IAAA,EAAC;IAGtBrJ,4DAAA,eAAU;IAAAA,oDAAA,iBAAU;IAAAA,0DAAA,EAAW;IAEnCA,4DAAA,gBAQC;IAFGA,wDAAA,mBAAA23C,6EAAA;MAAA33C,2DAAA,CAAA6rC,GAAA;MAAA,MAAA13B,MAAA,GAAAnU,2DAAA;MAAA,OAASA,yDAAA,CAAAmU,MAAA,CAAA4P,SAAA,CAAA1a,IAAA,EAAgB;IAAA,EAAC;IAG1BrJ,4DAAA,eAAU;IAAAA,oDAAA,GAER;IAAAA,0DAAA,EAAW;IAGrBA,4DAAA,aAAsD;IAG1CA,oDAAA,IACJ;IAAAA,0DAAA,EAAK;IAETA,uDAAA,UAAM;IACNA,4DAAA,kBAAmC;IAC/BA,oDAAA,QAAqC;IAAOA,0DAAA,EAAK;IACjDA,4DAAA,eAAyC;IAC3BA,oDAAA,cAAM;IAAAA,0DAAA,EAAW;IAC3BA,4DAAA,SAAQ;IAARA,oDAAA,QAAQ;IAA2BA,0DAAA,EAAI;IAE3CA,4DAAA,eAAyC;IAC3BA,oDAAA,oBAAY;IAAAA,0DAAA,EAAW;IACjCA,4DAAA,SAAG;IACCA,oDAAA,IACJ;IAAAA,0DAAA,EAAI;IAERA,4DAAA,eAAyC;IAC3BA,oDAAA,aAAK;IAAAA,0DAAA,EAAW;IAC1BA,4DAAA,SAAG;IACCA,oDAAA,IAKJ;IAAAA,0DAAA,EAAI;IAGZA,uDAAA,UAAM;IACNA,4DAAA,mBAAsC;IAClCA,oDAAA,QAAqC;IAAeA,0DAAA,EAAK;IACzDA,4DAAA,eAAyC;IAC3BA,oDAAA,cAAM;IAAAA,0DAAA,EAAW;IAC3BA,4DAAA,SAAQ;IAARA,oDAAA,QAAQ;IAAcA,0DAAA,EAAI;IAE9BA,4DAAA,eAAyC;IAC3BA,oDAAA,kBAAU;IAAAA,0DAAA,EAAW;IAC/BA,4DAAA,SAAQ;IAARA,oDAAA,QAAQ;IAAkBA,0DAAA,EAAI;IAElCA,4DAAA,eAAyC;IAC3BA,oDAAA,YAAI;IAAAA,0DAAA,EAAW;IACzBA,4DAAA,SAAQ;IAARA,oDAAA,QAAQ;IAAUA,0DAAA,EAAI;IAG9BA,4DAAA,mBAGC;IACGA,uDAAA,2BAKmB;IACvBA,0DAAA,EAAU;IAEdA,4DAAA,eAA2D;IAMnDA,wDAAA,mBAAA43C,8EAAA;MAAA53C,2DAAA,CAAA6rC,GAAA;MAAA,MAAAx3B,MAAA,GAAArU,2DAAA;MAAAqU,MAAA,CAAA8P,MAAA,IAAA9P,MAAA,CAAA8P,MAAA;MAAA,OAA2BnkB,yDAAA,CAAAqU,MAAA,CAAA+P,YAAA,CAAA/a,IAAA,CAAAgL,MAAA,CAAA8P,MAAA,CAAyB;IAAA,EAAC;IAErDnkB,4DAAA,eAA8C;IACfA,oDAAA,IAEzB;IAAAA,0DAAA,EAAW;IACbA,4DAAA,SAAG;IACCA,oDAAA,IACJ;IAAAA,0DAAA,EAAI;IAIpBA,mEAAA,EAAe;;;;IA9GPA,uDAAA,GAAsC;IAAtCA,yDAAA,YAAAU,MAAA,CAAAojC,KAAA,CAAAjjB,MAAA,kBAAAngB,MAAA,CAAAojC,KAAA,CAAAjjB,MAAA,CAAAlX,MAAA,CAAsC,SAAAjJ,MAAA,CAAAojC,KAAA,CAAAjjB,MAAA,kBAAAngB,MAAA,CAAAojC,KAAA,CAAAjjB,MAAA,CAAAlX,MAAA,cAAAjJ,MAAA,CAAAojC,KAAA,CAAAjjB,MAAA,kBAAAngB,MAAA,CAAAojC,KAAA,CAAAjjB,MAAA,CAAAlX,MAAA,aAAAjJ,MAAA,CAAAojC,KAAA,CAAAjjB,MAAA,kBAAAngB,MAAA,CAAAojC,KAAA,CAAAjjB,MAAA,CAAAlX,MAAA,wBAAAjJ,MAAA,CAAAojC,KAAA,CAAAjjB,MAAA,kBAAAngB,MAAA,CAAAojC,KAAA,CAAAjjB,MAAA,CAAAlX,MAAA;IAQjC3J,uDAAA,GAA0B;IAA1BA,wDAAA,SAAAU,MAAA,CAAAojC,KAAA,CAAAjjB,MAAA,kBAAAngB,MAAA,CAAAojC,KAAA,CAAAjjB,MAAA,CAAAlX,MAAA,CAA0B;IAgB3B3J,uDAAA,GAAyB;IAAzBA,yDAAA,gBAAAU,MAAA,CAAA2jB,GAAA,CAAyB,kBAAA3jB,MAAA,CAAA2jB,GAAA;IAKfrkB,uDAAA,GAER;IAFQA,+DAAA,CAAAU,MAAA,CAAA2jB,GAAA,kCAER;IAMErkB,uDAAA,GACJ;IADIA,gEAAA,MAAAU,MAAA,CAAAojC,KAAA,CAAA9R,YAAA,IAAAtxB,MAAA,CAAAojC,KAAA,CAAAn+B,IAAA,MACJ;IAOuC3F,uDAAA,GAAI;IAAJA,uDAAA,CAAAU,MAAA,CAAAojC,KAAA,CAAAD,QAAA,CAAI;IAAJ7jC,yDAAA,IAAI;IAKnCA,uDAAA,GACJ;IADIA,gEAAA,OAAAU,MAAA,CAAAoxB,KAAA,kBAAApxB,MAAA,CAAAoxB,KAAA,CAAAE,YAAA,MAAAtxB,MAAA,CAAAoxB,KAAA,kBAAApxB,MAAA,CAAAoxB,KAAA,CAAAnsB,IAAA,OACJ;IAKI3F,uDAAA,GAKJ;IALIA,gEAAA,OAAAU,MAAA,CAAAmU,QAAA,kBAAAnU,MAAA,CAAAmU,QAAA,CAAA4f,OAAA,MAAA/zB,MAAA,CAAAmU,QAAA,kBAAAnU,MAAA,CAAAmU,QAAA,CAAAmd,YAAA,MAAAtxB,MAAA,CAAAmU,QAAA,kBAAAnU,MAAA,CAAAmU,QAAA,CAAAlP,IAAA,OAKJ;IAyBA3F,uDAAA,IAAe;IAAfA,wDAAA,QAAAU,MAAA,CAAAy6B,OAAA,CAAe,aAAAz6B,MAAA,CAAAS,QAAA,aAAAnB,6DAAA,KAAA63C,IAAA;IAUnB73C,uDAAA,GAAwB;IAAxBA,yDAAA,YAAAU,MAAA,CAAAyjB,MAAA,CAAwB;IAKOnkB,uDAAA,GAEzB;IAFyBA,+DAAA,CAAAU,MAAA,CAAAyjB,MAAA,oBAEzB;IAEEnkB,uDAAA,GACJ;IADIA,gEAAA,MAAAU,MAAA,CAAAyjB,MAAA,6CACJ;;;;;IAMZnkB,4DAAA,cAGC;IACGA,oDAAA,OAAuC;IAEvCA,0DAAA,EAAI;;;AA7HpB,MA8Ia8gC,4BAA4B;EAYrC,IAAWhP,KAAKA,CAAA;IACZ,OAAO,IAAI,CAACpd,IAAI,CAACqd,WAAW,CAAC,CAAC,IAAI,CAAC+R,KAAK,EAAElb,IAAI,CAAC/gB,EAAE,CAAC,CAAC,IAAI,IAAI,CAACi8B,KAAK,EAAElb,IAAI;EAC3E;EAEA,IAAW/T,QAAQA,CAAA;IACf,OAAO,IAAI,CAACH,IAAI,CAACC,SAAS,CAAC/L,IAAI,CAC1B0X,CAAC,IACE,IAAI,CAACwjB,KAAK,EAAElb,IAAI,CAAC/gB,EAAE,KAAKyY,CAAC,CAACzY,EAAE,IAC5B,IAAI,CAACi8B,KAAK,EAAElb,IAAI,CAACqH,SAAS,KAAK3P,CAAC,CAACzY,EAAE,CAC1C;EACL;EAEA/B,YAAoB4O,IAAyB;IAAzB,KAAAA,IAAI,GAAJA,IAAI;IAtBR,KAAA2P,GAAG,GAAY,KAAK;IACpB,KAAAF,MAAM,GAAY,KAAK;IAEtB,KAAAC,YAAY,GAAG,IAAIliB,uDAAY,EAAW;IAC1C,KAAA2hB,KAAK,GAAG,IAAI3hB,uDAAY,EAAQ;IAChC,KAAA6hB,SAAS,GAAG,IAAI7hB,uDAAY,EAAQ;IAE9C,KAAAi5B,OAAO,GAAG,EAAE;IACZ,KAAAh6B,QAAQ,GAAoB,EAAE;EAcW;EAEzCkG,WAAWA,CAACC,OAAsB;IACrC,IAAIA,OAAO,CAACw8B,KAAK,IAAI,IAAI,CAACA,KAAK,EAAE;MAC7B,IAAI,CAACgU,cAAc,EAAE;;EAE7B;EAEQA,cAAcA,CAAA;IAClB,IAAI,CAAC3c,OAAO,GAAG,IAAI,CAACrJ,KAAK,EAAEsB,MAAM;IACjC,IAAI,CAACjyB,QAAQ,GAAG,CACZ;MACI0vB,QAAQ,EAAE,IAAI,CAACiT,KAAK,EAAE1Q,MAAM;MAC5B7pB,OAAO,EAAEmpB,gEAAeA;KAC3B,CACJ;EACL;;AAxCSoO,4BAA4B;mBAA5BA,4BAA4B,EAAA9gC,+DAAA,CAAAzC,sEAAA;AAAA;AAA5BujC,4BAA4B;QAA5BA,4BAA4B;EAAA9/B,SAAA;EAAAC,MAAA;IAAA6iC,KAAA;IAAAzf,GAAA;IAAAF,MAAA;EAAA;EAAAzJ,OAAA;IAAA0J,YAAA;IAAAP,KAAA;IAAAE,SAAA;EAAA;EAAA5iB,QAAA,GAAAnB,kEAAA;EAAAqB,KAAA;EAAAC,IAAA;EAAAC,MAAA,WAAAA,CAAA;IAAA,IAAAC,MAAA;IAAA,WAAAC,iBAAA,oBAAAA,iBAAA;;;;;;;eA7FgBC,SAAA,wEAAO;;;;;;;;;;;;;;;;eAGhCA,SAAA,iFAAoB,wBAAO;;;;;;;;;;eAqBFA,SAAA,gFAAe;;;;;;;;;;eAGxCA,SAAA,+EAAc;;;;;;;;;;eAIdA,SAAA,mFAAkB;;;;;;;;;;gBAIlBA,SAAA,2EAAU;;;;;;;;;;gBAuCaA,SAAA,sGAEvC;;;;;;MA1HR1B,wDAAA,IAAA+3C,oDAAA,4BAkHe;MACf/3C,wDAAA,IAAAg4C,mDAAA,gCAAAh4C,oEAAA,CASc;;;;MA5HCA,wDAAA,SAAA8B,GAAA,CAAAgiC,KAAA,CAAa,aAAAlmB,GAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACfmC;AACP;AACjB;AACI;AACS;AACtB;AACqC;;;;;;;;;;IAuC/D5d,4DAAA,cAKC;IACGA,oDAAA,GACJ;IAAAA,0DAAA,EAAM;;;;IADFA,uDAAA,GACJ;IADIA,gEAAA,MAAAU,MAAA,CAAAmwB,QAAA,MACJ;;;;;;IAWA7wB,4DAAA,cAAkE;IAC3DA,oDAAA,GAAU;IAAAA,0DAAA,EAAI;IACjBA,4DAAA,iBAKC;IADGA,wDAAA,mBAAAk4C,4EAAA;MAAA,MAAAr1C,WAAA,GAAA7C,2DAAA,CAAAoR,GAAA;MAAA,MAAAs0B,OAAA,GAAA7iC,WAAA,CAAAI,SAAA;MAAA,MAAAS,MAAA,GAAA1D,2DAAA;MAAA,OAASA,yDAAA,CAAA0D,MAAA,CAAAy0C,aAAA,CAAAzS,OAAA,CAAmB;IAAA,EAAC;IAE7B1lC,4DAAA,eAAU;IAAAA,oDAAA,YAAK;IAAAA,0DAAA,EAAW;;;;IAP3BA,uDAAA,GAAU;IAAVA,+DAAA,CAAA0lC,OAAA,CAAU;;;AAxD7B,MA4Fa3E,mCAAoC,SAAQhhC,yDAAY;EAMjE,IAAWuG,KAAKA,CAAA;IACZ,OAAO,IAAI,CAAC6lC,WAAW,CAACxrC,IAAI,CAACyV,KAAK,CAACrQ,IAAI;EAC3C;EAEA,IAAWS,GAAGA,CAAA;IACV,MAAM;MAAET,IAAI;MAAEjB;IAAQ,CAAE,GAAG,IAAI,CAACqnC,WAAW,CAACxrC,IAAI,CAACyV,KAAK;IACtD,OAAOrQ,IAAI,GAAGjB,QAAQ,GAAG,EAAE,GAAG,IAAI;EACtC;EAKAgB,YACYggC,OAAuB,EACvBqG,WAA6B,EAC7Bz3B,IAAyB;IAEjC,KAAK,EAAE;IAJC,KAAAoxB,OAAO,GAAPA,OAAO;IACP,KAAAqG,WAAW,GAAXA,WAAW;IACX,KAAAz3B,IAAI,GAAJA,IAAI;IApBA,KAAAqhB,IAAI,GAAmB,MAAM;IAC5B,KAAAgQ,UAAU,GAAG,IAAI7jC,uDAAY,EAAkB;IAChD,KAAAqnB,OAAO,GAAG,IAAI,CAAC4iB,WAAW,CAAC5iB,OAAO;IAC3C,KAAAsH,QAAQ,GAAW,EAAE;IAWZ,KAAAunB,WAAW,GAAG,MAC1B,IAAI,CAACtS,OAAO,CAAC/iB,IAAI,CAACie,oFAA4B,CAAC;EAQnD;EAEO36B,QAAQA,CAAA;IACX,IAAI,CAACorB,YAAY,CACb,MAAM,EACN,IAAI,CAAClI,OAAO,CAACtN,SAAS,CAAC,CAAC;MAAEo8B;IAAQ,CAAE,KAChC,IAAI,CAACC,eAAe,CAACD,QAAQ,CAAC,CACjC,CACJ;EACL;EAEaF,aAAaA,CAACI,IAAY;IAAA,IAAAp8B,KAAA;IAAA,OAAAC,wJAAA;MACnC,MAAMhG,KAAK,SAAS+F,KAAI,CAACgwB,WAAW,CAAC5iB,OAAO,CAACvN,IAAI,CAACsZ,oDAAI,CAAC,CAAC,CAAC,CAAC,CAACzY,SAAS,EAAE;MACtEV,KAAI,CAACgwB,WAAW,CAAC3pB,UAAU,CAAC;QACxB,GAAGpM,KAAK;QACRjV,QAAQ,EAAE,CAACiV,KAAK,CAACjV,QAAQ,IAAI,EAAE,EAAE+G,MAAM,CAAEoY,CAAC,IAAKA,CAAC,KAAKi4B,IAAI;OAC5D,CAAC;IAAC;EACP;EAEQD,eAAeA,CAACD,QAAA,GAAqB,EAAE;IAC3C,MAAMvmB,KAAK,GAAG,IAAI,CAACpd,IAAI,CAACqd,WAAW,CAACsmB,QAAQ,CAAC;IAC7C,MAAMj6B,IAAI,GAAG0T,KAAK,IAAI,IAAI,CAACpd,IAAI,CAACG,QAAQ;IACxC,IAAI,CAACgc,QAAQ,GAAGzS,IAAI,EAAE4T,YAAY,IAAI5T,IAAI,EAAEzY,IAAI,IAAI,EAAE;EAC1D;;AA/CSo7B,mCAAoC;mBAApCA,mCAAmC,EAAA/gC,+DAAA,CAAAzC,0EAAA,GAAAyC,+DAAA,CAAAH,6DAAA,GAAAG,+DAAA,CAAAiV,sEAAA;AAAA;AAAnC8rB,mCAAoC;QAApCA,mCAAmC;EAAA//B,SAAA;EAAAC,MAAA;IAAA80B,IAAA;EAAA;EAAArb,OAAA;IAAAqrB,UAAA;EAAA;EAAA5kC,QAAA,GAAAnB,wEAAA;EAAAqB,KAAA;EAAAC,IAAA;EAAAC,MAAA,WAAAA,CAAA;IAAA,IAAAC,MAAA;IAAA,WAAAC,iBAAA,oBAAAA,iBAAA;;;;;;;eAlFnCC,SAAA,0EAED;;;;;;;;;;eASKA,SAAA,sEAED;;;;;;;;;;eAQCA,SAAA,uEAED;;;;;;;;;;;;;;;;eAmBwDA,SAAA,wEACnD,eAAsC,yBAC/C;;;;;;MAnDJ1B,4DAAA,iBAAmE;MAK3DA,wDAAA,mBAAAw4C,qEAAA;QAAA,OAAS12C,GAAA,CAAAs2C,WAAA,EAAa;MAAA,EAAC;MAJ3Bp4C,oDAAA,MAMC;MAEDA,0DAAA,EAAS;MACTA,4DAAA,aAA+B;MAMvBA,wDAAA,mBAAAy4C,qEAAA;QAAA32C,GAAA,CAAAi0B,IAAA,GAAgB,KAAK;QAAA,OAAEj0B,GAAA,CAAAikC,UAAA,CAAA18B,IAAA,CAAAvH,GAAA,CAAAi0B,IAAA,CAAqB;MAAA,EAAC;MALjD/1B,oDAAA,MAOC;MAEDA,0DAAA,EAAS;MACTA,4DAAA,gBAOC;MAFGA,wDAAA,mBAAA04C,qEAAA;QAAA52C,GAAA,CAAAi0B,IAAA,GAAgB,MAAM;QAAA,OAAEj0B,GAAA,CAAAikC,UAAA,CAAA18B,IAAA,CAAAvH,GAAA,CAAAi0B,IAAA,CAAqB;MAAA,EAAC;MALlD/1B,oDAAA,MAOC;MAEDA,0DAAA,EAAS;MAGjBA,4DAAA,iBAAyD;MACrDA,wDAAA,IAAA24C,kDAAA,iBAOM;MACN34C,4DAAA,eAAsD;MAClDA,oDAAA,IACJ;;MAAAA,0DAAA,EAAM;MACNA,4DAAA,eAAsD;MAClDA,oDAAA,IAEJ;;;MAAAA,0DAAA,EAAM;MACNA,4DAAA,eAA4D;MAA5DA,oDAAA,QAA4D;;MAE5DA,0DAAA,EAAM;MACNA,wDAAA,KAAA44C,mDAAA,kBAUM;;MACV54C,0DAAA,EAAU;;;;;MAhDEA,uDAAA,GAAgC;MAAhCA,yDAAA,YAAA8B,GAAA,CAAAi0B,IAAA,WAAgC;MAUhC/1B,uDAAA,GAAiC;MAAjCA,yDAAA,YAAA8B,GAAA,CAAAi0B,IAAA,YAAiC;MAapC/1B,uDAAA,GAAc;MAAdA,wDAAA,SAAA8B,GAAA,CAAA+uB,QAAA,CAAc;MAKf7wB,uDAAA,GACJ;MADIA,gEAAA,MAAAA,yDAAA,SAAA8B,GAAA,CAAAwE,KAAA,qBACJ;MAEItG,uDAAA,GAEJ;MAFIA,gEAAA,MAAAA,yDAAA,SAAA8B,GAAA,CAAAwE,KAAA,4BAAAtG,yDAAA,SAAA8B,GAAA,CAAA0E,GAAA,oBAEJ;MAGAxG,uDAAA,GAAM;MAANA,uDAAA,GAAAwmC,OAAA,GAAAxmC,yDAAA,SAAA8B,GAAA,CAAAynB,OAAA,oBAAAid,OAAA,CAAAqS,QAAA,OAAM;MAAN74C,yDAAA,IAAM;MAC4BA,uDAAA,GAA8B;MAA9BA,wDAAA,aAAA84C,OAAA,GAAA94C,yDAAA,SAAA8B,GAAA,CAAAynB,OAAA,oBAAAuvB,OAAA,CAAA33C,QAAA,CAA8B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9DT;AACjB;AACU;AACjB;AACkB;;;;;;;;;;;;;;;;;;;IAO7CnB,4DAAA,iBAMC;IADGA,wDAAA,mBAAA+4C,uEAAA;MAAA/4C,2DAAA,CAAA6rC,GAAA;MAAA,MAAAjnC,MAAA,GAAA5E,2DAAA;MAAA,OAASA,yDAAA,CAAA4E,MAAA,CAAAif,KAAA,EAAO;IAAA,EAAC;IAEjB7jB,4DAAA,eAAU;IAAAA,oDAAA,0BAAmB;IAAAA,0DAAA,EAAW;;;;;IAuBhCA,4DAAA,qBAGC;IACGA,oDAAA,GAEJ;IAAAA,0DAAA,EAAa;;;;IAJTA,wDAAA,UAAAg5C,MAAA,CAAAnxC,EAAA,CAAgB;IAEhB7H,uDAAA,GAEJ;IAFIA,gEAAA,MAAAg5C,MAAA,CAAAhwB,GAAA,QAAAgwB,MAAA,CAAAhnB,YAAA,IAAAgnB,MAAA,CAAArzC,IAAA,MAEJ;;;;;;;;;;;IAyDZ3F,4DAAA,cAGC;IACwCA,oDAAA,GAAU;IAAAA,0DAAA,EAAM;IACrDA,4DAAA,uBAKC;IAFGA,wDAAA,2BAAAi5C,6FAAA3tC,MAAA;MAAA,MAAAzI,WAAA,GAAA7C,2DAAA,CAAA8M,IAAA;MAAA,MAAAosC,OAAA,GAAAr2C,WAAA,CAAAI,SAAA;MAAA,MAAA8J,MAAA,GAAA/M,2DAAA;MAAA,OAAiBA,yDAAA,CAAA+M,MAAA,CAAAosC,aAAA,CAAAD,OAAA,EAAA5tC,MAAA,CAA2B;IAAA,EAAC;;IAEhDtL,0DAAA,EAAe;;;;;;IANqBA,uDAAA,GAAU;IAAVA,+DAAA,CAAAk5C,OAAA,CAAU;IAG3Cl5C,uDAAA,GAAuD;IAAvDA,wDAAA,aAAAunC,OAAA,GAAAvnC,yDAAA,OAAAqU,MAAA,CAAAkV,OAAA,oBAAAge,OAAA,CAAApmC,QAAA,kBAAAomC,OAAA,CAAApmC,QAAA,CAAAqM,QAAA,CAAA0rC,OAAA,EAAuD,mBAAAl5C,6DAAA,IAAAuU,IAAA;;;;;IAbnEvU,4DAAA,kBAIC;IACGA,oDAAA,OAAqC;IAAUA,0DAAA,EAAK;IACpDA,wDAAA,IAAAo5C,sDAAA,kBAWM;;IACVp5C,0DAAA,EAAU;;;;IAVeA,uDAAA,GAAmB;IAAnBA,wDAAA,YAAAA,yDAAA,OAAA8T,MAAA,CAAA3S,QAAA,EAAmB;;;;;;IAYhDnB,4DAAA,cAGC;IAC8CA,wDAAA,mBAAAq5C,qEAAA;MAAAr5C,2DAAA,CAAA0N,IAAA;MAAA,MAAAC,OAAA,GAAA3N,2DAAA;MAAA,OAASA,yDAAA,CAAA2N,OAAA,CAAAkW,KAAA,EAAO;IAAA,EAAC;IAA5D7jB,oDAAA,OAAkE;IAElEA,0DAAA,EAAS;;;AAtHrB,MAoIaghC,4BAA4B;EAoBrC,IAAWhY,GAAGA,CAAA;IACV,OAAO,IAAI,CAACtU,IAAI,CAACG,QAAQ;EAC7B;EAEA,IAAWlU,IAAIA,CAAA;IACX,OAAO,IAAI,CAAC24C,KAAK,CAAC34C,IAAI;EAC1B;EAEA,IAAW44C,YAAYA,CAAA;IACnB,OAAO,IAAI,CAACrrC,SAAS,CAACC,GAAG,CAAC,yBAAyB,CAAC,IAAI,GAAG;EAC/D;EAEArI,YAEYiiC,WAA4D,EAC5D75B,SAA0B,EAC1BorC,KAAyB,EACzB5kC,IAAyB;IAHzB,KAAAqzB,WAAW,GAAXA,WAAW;IACX,KAAA75B,SAAS,GAATA,SAAS;IACT,KAAAorC,KAAK,GAALA,KAAK;IACL,KAAA5kC,IAAI,GAAJA,IAAI;IApCT,KAAAszB,SAAS,GAAG,KAAK;IACR,KAAAze,OAAO,GAAG,IAAI,CAAC+vB,KAAK,CAAC/vB,OAAO;IAE5B,KAAA2d,MAAM,GAAG,IAAI,CAACxyB,IAAI,CAAC8kC,UAAU,CAACx9B,IAAI,CAC9CxT,mDAAG,CAAE6/B,CAAC,IAAI;MACN,KAAK,MAAMoR,GAAG,IAAIpR,CAAC,EAAE;QACjB,MAAMrf,GAAG,GAAG,IAAI,CAACtU,IAAI,CAACC,SAAS,CAAC/L,IAAI,CAC/B0X,CAAC,IAAKA,CAAC,CAACzY,EAAE,KAAK4xC,GAAG,CAACxpB,SAAS,CAChC;QACAwpB,GAAW,CAACzwB,GAAG,GAAGA,GAAG,EAAEgJ,YAAY,IAAIhJ,GAAG,EAAErjB,IAAI,IAAI,EAAE;;MAE3D,OAAO0iC,CAAC;IACZ,CAAC,CAAC,CACL;IACe,KAAAlnC,QAAQ,GAAG,IAAI,CAACm4C,KAAK,CAACn4C,QAAQ;IAE9B,KAAA0iB,KAAK,GAAG,MAAM,IAAI,CAACkkB,WAAW,CAACI,OAAO,EAAE;IACxC,KAAA3lB,UAAU,GAAIwjB,CAAC,IAAK,IAAI,CAACsT,KAAK,CAAC92B,UAAU,CAACwjB,CAAC,CAAC;IAqBxD,IAAI,CAACgC,SAAS,GAAG,CAAC,CAAC,IAAI,CAACD,WAAW;EACvC;EAEaoR,aAAaA,CAACZ,IAAY,EAAEzxB,KAAc;IAAA,IAAA3K,KAAA;IAAA,OAAAC,wJAAA;MACnD,MAAM;QAAEjb;MAAQ,CAAE,SAASgb,KAAI,CAACoN,OAAO,CAACvN,IAAI,CAACsZ,qDAAI,CAAC,CAAC,CAAC,CAAC,CAACzY,SAAS,EAAE;MACjE,MAAM68B,QAAQ,GAAG,CAACv4C,QAAQ,IAAI,EAAE,EAAE+G,MAAM,CAAEoY,CAAC,IAAKi4B,IAAI,KAAKj4B,CAAC,CAAC;MAC3D,IAAIwG,KAAK,EAAE4yB,QAAQ,CAAC9xC,IAAI,CAAC2wC,IAAI,CAAC;MAC9Bp8B,KAAI,CAACqG,UAAU,CAAC;QAAErhB,QAAQ,EAAEu4C;MAAQ,CAAE,CAAC;IAAC;EAC5C;;AA/CS1Y,4BAA4B;mBAA5BA,4BAA4B,EAAAhhC,+DAAA,CAAAzC,8EAAA,MAAAyC,+DAAA,CAAAH,4DAAA,GAAAG,+DAAA,CAAAiV,qEAAA,GAAAjV,+DAAA,CAAAq7B,sEAAA;AAAA;AAA5B2F,4BAA4B;QAA5BA,4BAA4B;EAAAhgC,SAAA;EAAAK,KAAA;EAAAC,IAAA;EAAAC,MAAA,WAAAA,CAAA;IAAA,IAAAC,MAAA;IAAA,WAAAC,iBAAA,oBAAAA,iBAAA;;;;;;;eArHmBC,SAAA,8EAAa;;;;;;;;;;eAQpBA,SAAA,wEAAO;;;;;;;;;;eAEbA,SAAA,wEAAQ;;;;;;;;;;;;;;;;;;eAqBZA,SAAA,sEAAI,iBAAM,oBAAC,kBAAO;;;;;;;;;;eACaA,SAAA,qGAEtD;;;;;;;;;;;;;;;;;;gBAKSA,SAAA,4EAAU,iBAAM,oBAAC,kBAAO;;;;;;;;;;;;;;;;;;gBAWxBA,SAAA,0EAAQ,iBAAM,oBAAC,kBAAO;;;;;;;;;;gBAaEA,SAAA,2EAAU;;;;;;;;;;gBAEFA,SAAA,4FAEzC;;;;;;;;;;gBAeiCA,SAAA,2EAAU;;;;;;;;;;gBAmBeA,SAAA,gFAElE;;;;;;MAnHJ1B,4DAAA,aAAuE;MAE/DA,wDAAA,IAAA25C,8CAAA,oBAQS;MACb35C,0DAAA,EAAM;MACNA,4DAAA,YAAgD;MAAhDA,oDAAA,MAAgD;MAAaA,0DAAA,EAAK;MAClEA,uDAAA,aAA0B;MAC9BA,0DAAA,EAAM;MACNA,4DAAA,cAGC;MAEOA,oDAAA,MAAqC;MAAOA,0DAAA,EAAK;MACjDA,4DAAA,eAAgD;MAC5CA,oDAAA,QAA2B;MAAQA,0DAAA,EAAQ;MAC3CA,4DAAA,0BAAoD;MAI5CA,wDAAA,2BAAA45C,2EAAAtuC,MAAA;QAAA,OAAiBxJ,GAAA,CAAA0gB,UAAA;UAAA61B,QAAA,EAAA/sC;QAAA,EAAgC;MAAA,EAAC;;MAKlDtL,wDAAA,KAAA65C,mDAAA,yBAMa;;MACjB75C,0DAAA,EAAa;MAGrBA,4DAAA,eAAkC;MAC9BA,yDAAA,QAAuB;MAAIA,uDAAA,YAAc;MAAAA,uDAAA,EAAQ;MAARA,0DAAA,EAAQ;MACjDA,4DAAA,wBAAsD;MAAtDA,oDAAA,QAAsD;MAEtDA,0DAAA,EAAe;MAEnBA,4DAAA,eAAyC;MAEjCA,yDAAA,QACK;MAAUA,uDAAA,YAAc;MAAAA,uDAAA,EAC5B;MAD4BA,0DAAA,EAC5B;MACDA,4DAAA,wBAKC;MAFGA,wDAAA,2BAAA85C,6EAAAxuC,MAAA;QAAA,OAAiBxJ,GAAA,CAAAnB,IAAA,CAAA0Z,UAAA;UAAAtU,IAAA,EAAAuF;QAAA,EAAiC;MAAA,EAAC;MAEtDtL,0DAAA,EAAe;MAEpBA,4DAAA,eAA0B;MACtBA,yDAAA,QACK;MAAQA,uDAAA,YAAc;MAAAA,uDAAA,EAC1B;MAD0BA,0DAAA,EAC1B;MACDA,uDAAA,4BAMmB;MACvBA,0DAAA,EAAM;MAGdA,4DAAA,mBAAqC;MACjCA,oDAAA,QAAqC;MAAUA,0DAAA,EAAK;MACpDA,4DAAA,eAA+B;MAC3BA,oDAAA,QAAyC;MAEzCA,0DAAA,EAAM;MACNA,4DAAA,wBAKC;MAFGA,wDAAA,2BAAA+5C,6EAAAzuC,MAAA;QAAA,OAAiBxJ,GAAA,CAAA0gB,UAAA;UAAAqjB,QAAA,EAAAv6B;QAAA,EAAgC;MAAA,EAAC;;MAGtDtL,0DAAA,EAAe;MAGvBA,wDAAA,KAAAg6C,gDAAA,sBAkBU;;MACdh6C,0DAAA,EAAO;MACPA,wDAAA,KAAAi6C,4CAAA,kBAOM;;;;;;MA9GOj6C,uDAAA,GAAe;MAAfA,wDAAA,SAAA8B,GAAA,CAAAkmC,SAAA,CAAe;MAWxBhoC,uDAAA,GAAkB;MAAlBA,wDAAA,cAAA8B,GAAA,CAAAnB,IAAA,CAAkB;MASFX,uDAAA,GAAuC;MAAvCA,wDAAA,aAAAwhB,OAAA,GAAAxhB,yDAAA,SAAA8B,GAAA,CAAAynB,OAAA,oBAAA/H,OAAA,CAAA62B,QAAA,CAAuC,mBAAAr4C,6DAAA,KAAAuU,IAAA,mBAAAzS,GAAA,CAAAknB,GAAA,kBAAAlnB,GAAA,CAAAknB,GAAA,CAAAgJ,YAAA,MAAAlwB,GAAA,CAAAknB,GAAA,kBAAAlnB,GAAA,CAAAknB,GAAA,CAAArjB,IAAA;MAOnB3F,uDAAA,GAAiB;MAAjBA,wDAAA,YAAAA,yDAAA,SAAA8B,GAAA,CAAAolC,MAAA,EAAiB;MAsBrClnC,uDAAA,IAA2B;MAA3BA,wDAAA,YAAA8B,GAAA,CAAAnB,IAAA,CAAAyV,KAAA,CAAArQ,IAAA,CAA2B,mBAAA/F,6DAAA,KAAAuU,IAAA;MAY3BvU,uDAAA,GAA0B;MAA1BA,wDAAA,SAAA8B,GAAA,CAAAnB,IAAA,kBAAAmB,GAAA,CAAAnB,IAAA,CAAAyV,KAAA,kBAAAtU,GAAA,CAAAnB,IAAA,CAAAyV,KAAA,CAAArQ,IAAA,CAA0B,QAAAjE,GAAA,CAAAy3C,YAAA;MAe9Bv5C,uDAAA,GAAuC;MAAvCA,wDAAA,aAAAk6C,QAAA,GAAAl6C,yDAAA,SAAA8B,GAAA,CAAAynB,OAAA,oBAAA2wB,QAAA,CAAArU,QAAA,CAAuC,mBAAA7lC,6DAAA,KAAAuU,IAAA;MAU9CvU,uDAAA,GAAgC;MAAhCA,wDAAA,UAAAm6C,QAAA,GAAAn6C,yDAAA,SAAA8B,GAAA,CAAAX,QAAA,oBAAAg5C,QAAA,CAAAxwC,MAAA,CAAgC;MAmBpC3J,uDAAA,GAAe;MAAfA,wDAAA,SAAA8B,GAAA,CAAAkmC,SAAA,CAAe;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzH2C;AAElC;AACA;AACsC;;;;;;;;;IA6B/ChoC,4DAAA,cAGC;IACaA,oDAAA,WAAI;IAAAA,0DAAA,EAAW;;;;;IAE7BA,uDAAA,cAIE;;;;IADEA,wDAAA,QAAAo6C,QAAA,CAAAv5B,MAAA,KAAA7gB,2DAAA,CAAuB;;;;;IAGvBA,uDAAA,cAGE;;;;;;IA9BlBA,4DAAA,aAKC;IAKOA,wDAAA,mBAAAq6C,oFAAA;MAAA,MAAAx3C,WAAA,GAAA7C,2DAAA,CAAAszB,IAAA;MAAA,MAAA8mB,QAAA,GAAAv3C,WAAA,CAAAI,SAAA;MAAA,MAAAswB,OAAA,GAAAvzB,2DAAA;MAAA,OAASA,yDAAA,CAAAuzB,OAAA,CAAA+mB,WAAA,CAAAF,QAAA,CAAkB;IAAA,EAAC;IAE5Bp6C,4DAAA,cAEC;IACGA,wDAAA,IAAAu6C,iEAAA,kBAKM;IACNv6C,wDAAA,IAAAw6C,iEAAA,kBAIE;IACFx6C,wDAAA,IAAAy6C,yEAAA,iCAAAz6C,oEAAA,CAKc;IAClBA,0DAAA,EAAM;IACNA,4DAAA,cAAuB;IAEfA,oDAAA,GACJ;IAAAA,0DAAA,EAAM;IACNA,4DAAA,eAAiD;IACbA,oDAAA,aAAK;IAAAA,0DAAA,EAAW;IAChDA,4DAAA,SAAG;IACCA,oDAAA,IAOJ;IAAAA,0DAAA,EAAI;IAERA,4DAAA,eAAiD;IAExCA,oDAAA,cAAM;IAAAA,0DAAA,EACV;IACDA,4DAAA,SAAQ;IAARA,oDAAA,QAAQ;IAKRA,0DAAA,EAAI;IAIhBA,4DAAA,kBAOC;IADGA,wDAAA,mBAAA06C,qFAAA;MAAA,MAAA73C,WAAA,GAAA7C,2DAAA,CAAAszB,IAAA;MAAA,MAAA8mB,QAAA,GAAAv3C,WAAA,CAAAI,SAAA;MAAA,MAAAoB,OAAA,GAAArE,2DAAA;MAAA,OAASA,yDAAA,CAAAqE,OAAA,CAAA0f,SAAA,CAAA1a,IAAA,CAAA+wC,QAAA,CAAqB;IAAA,EAAC;IAE/Bp6C,4DAAA,gBAAU;IAAAA,oDAAA,IAIR;IAAAA,0DAAA,EAAW;;;;;;IAvEjBA,yDAAA,qBAAAmU,MAAA,CAAAgQ,MAAA,KAAAi2B,QAAA,CAAAvyC,EAAA,CAA8C;IAcjC7H,uDAAA,GAAiC;IAAjCA,wDAAA,SAAAmU,MAAA,CAAA8N,QAAA,CAAAzU,QAAA,CAAA4sC,QAAA,CAAAvyC,EAAA,EAAiC;IAKjC7H,uDAAA,GAA4B;IAA5BA,wDAAA,SAAAo6C,QAAA,CAAAv5B,MAAA,kBAAAu5B,QAAA,CAAAv5B,MAAA,CAAAlX,MAAA,CAA4B,aAAAmD,IAAA;IAa7B9M,uDAAA,GACJ;IADIA,gEAAA,MAAAo6C,QAAA,CAAAz0C,IAAA,yBACJ;IAIQ3F,uDAAA,GAOJ;IAPIA,gEAAA,MAAAo6C,QAAA,CAAAvpB,QAAA,KAAAupB,QAAA,CAAAtoB,KAAA,kBAAAsoB,QAAA,CAAAtoB,KAAA,CAAAE,YAAA,MAAAooB,QAAA,CAAAtoB,KAAA,kBAAAsoB,QAAA,CAAAtoB,KAAA,CAAAnsB,IAAA,MAAAy0C,QAAA,CAAAxxB,IAAA,kBAAAwxB,QAAA,CAAAxxB,IAAA,CAAAoJ,YAAA,MAAAooB,QAAA,CAAAxxB,IAAA,kBAAAwxB,QAAA,CAAAxxB,IAAA,CAAAjjB,IAAA,OAOJ;IAWA3F,uDAAA,GAAI;IAAJA,uDAAA,CAAAo6C,QAAA,CAAAvW,QAAA,WAAAuW,QAAA,CAAAvW,QAAA,CAAI;IAAJ7jC,yDAAA,IAAI;IASZA,uDAAA,GAA6C;IAA7CA,yDAAA,kBAAAmU,MAAA,CAAAqR,WAAA,CAAA40B,QAAA,CAAAvyC,EAAA,EAA6C;IAGnC7H,uDAAA,GAIR;IAJQA,+DAAA,CAAAmU,MAAA,CAAAqR,WAAA,CAAA40B,QAAA,CAAAvyC,EAAA,mCAIR;;;;;IA9Ed7H,4DAAA,YAGC;IACGA,wDAAA,IAAA26C,2DAAA,kBA4EK;;IACT36C,0DAAA,EAAK;;;;IA3EqBA,uDAAA,GAAiB;IAAjBA,wDAAA,YAAAA,yDAAA,OAAAqM,MAAA,CAAA6W,MAAA,EAAiB;;;;;IAP/CljB,qEAAA,GAA0D;IACtDA,wDAAA,IAAA46C,sDAAA,gBAiFK;;IACT56C,mEAAA,EAAe;;;;;;IAhFNA,uDAAA,GAAgC;IAAhCA,wDAAA,UAAAyP,OAAA,GAAAzP,yDAAA,OAAAU,MAAA,CAAAwiB,MAAA,oBAAAzT,OAAA,CAAA9F,MAAA,CAAgC,aAAAiU,GAAA;;;;;IAkFrC5d,4DAAA,cAGC;IACGA,oDAAA,OAAuC;IAEvCA,0DAAA,EAAI;;;;;IAIRA,4DAAA,cAGC;IACGA,uDAAA,sBAA2C;IAC3CA,4DAAA,YAA2B;IAA3BA,oDAAA,OAA2B;IAA2BA,0DAAA,EAAI;;;IAD7CA,uDAAA,GAAe;IAAfA,wDAAA,gBAAe;;;AA1G5C,MA0HaihC,yBAAyB;EAiBlCn7B,YAAoBwzC,KAAyB;IAAzB,KAAAA,KAAK,GAALA,KAAK;IAhBT,KAAAn1B,MAAM,GAAW,EAAE;IACnB,KAAAlC,QAAQ,GAAW,EAAE;IACrB,KAAAL,SAAS,GAAa,EAAE;IACvB,KAAAkE,QAAQ,GAAG,IAAI5jB,uDAAY,EAAgB;IAC3C,KAAA6hB,SAAS,GAAG,IAAI7hB,uDAAY,EAAgB;IAE7C,KAAAghB,MAAM,GAAG4B,mDAAa,CAAC,CACnC,IAAI,CAACw0B,KAAK,CAAC/vB,OAAO,EAClB,IAAI,CAAC+vB,KAAK,CAACniB,mBAAmB,CACjC,CAAC,CAACnb,IAAI,CACHxT,mDAAG,CAAC,CAAC,CAAC;MAAEq9B;IAAQ,CAAE,EAAEvlB,CAAC,CAAC,KAClBA,CAAC,CAACpY,MAAM,CAAEC,CAAC,IAAK,CAAC09B,QAAQ,IAAI,IAAI,CAACrgB,WAAW,CAACrd,CAAC,CAACN,EAAE,CAAC,CAAC,CACvD,CACJ;IACe,KAAAgI,OAAO,GAAG,IAAI,CAACypC,KAAK,CAACzpC,OAAO;EAEI;EAEzC2V,WAAWA,CAACq1B,QAAgB;IAC/B,OAAO,IAAI,CAACj5B,SAAS,CAACpU,QAAQ,CAACqtC,QAAQ,CAAC;EAC5C;EAEOP,WAAWA,CAACxW,KAAmB;IAClC,IAAI,CAAChe,QAAQ,CAACzc,IAAI,CAACy6B,KAAK,CAAC;EAC7B;;AAzBS7C,yBAAyB;mBAAzBA,yBAAyB,EAAAjhC,+DAAA,CAAAzC,qEAAA;AAAA;AAAzB0jC,yBAAyB;QAAzBA,yBAAyB;EAAAjgC,SAAA;EAAAC,MAAA;IAAAkjB,MAAA;IAAAlC,QAAA;IAAAL,SAAA;EAAA;EAAAlH,OAAA;IAAAoL,QAAA;IAAA/B,SAAA;EAAA;EAAA1iB,KAAA;EAAAC,IAAA;EAAAC,MAAA,WAAAA,CAAA;IAAA,IAAAC,MAAA;IAAA,WAAAC,iBAAA,oBAAAA,iBAAA;;;;;;;eAvHHC,SAAA,wEAAO;;;;;;;;;;;;;;;;eACYA,SAAA,mEAC1C,eAAmC,kCACvC;;;;;;;;;;;;;;;;eA2DgCA,SAAA,mEACJ,eAEE,yBAEN;;;;;;;;;;eA0BuBA,SAAA,uHAEvC;;;;;;;;;;eAS2BA,SAAA,2FAA2B;;;;;;MAxG9D1B,4DAAA,YAA2B;MAA3BA,oDAAA,MAA2B;MAAOA,0DAAA,EAAK;MACvCA,4DAAA,WAA8C;MAA9CA,oDAAA,MAA8C;;MAE9CA,0DAAA,EAAI;MACJA,wDAAA,IAAA86C,iDAAA,0BAmFe;;MACf96C,wDAAA,IAAA+6C,gDAAA,gCAAA/6C,oEAAA,CASc;MACdA,wDAAA,IAAAg7C,gDAAA,gCAAAh7C,oEAAA,CAQc;;;;;MAvGdA,uDAAA,GAAI;MAAJA,uDAAA,GAAAyP,OAAA,GAAAzP,yDAAA,OAAA8B,GAAA,CAAAohB,MAAA,oBAAAzT,OAAA,CAAA9F,MAAA,OAAI;MAAJ3J,yDAAA,GAAI;MACWA,uDAAA,GAA0B;MAA1BA,wDAAA,UAAAA,yDAAA,OAAA8B,GAAA,CAAA+N,OAAA,EAA0B,aAAA0R,GAAA;;;;;;;;;;;;;;;;;;;;;;;;ACZM;;;;;;IAiEvCvhB,uDAAA,cAGO;;;;;IACPA,4DAAA,mBAAqE;IACjEA,oDAAA,aACJ;IAAAA,0DAAA,EAAW;;;AArE3B,MA2EakhC,gCAAgC;EACzC,IAAWjf,QAAQA,CAAA;IACf,OAAO,IAAI,CAAC/H,KAAK,CAAC+H,QAAQ,KAAK,IAAI;EACvC;EACAnc,YAA8CoU,KAAU;IAAV,KAAAA,KAAK,GAALA,KAAK;EAAQ;;AAJlDgnB,gCAAgC;mBAAhCA,gCAAgC,EAAAlhC,+DAAA,CAIrBi7C,iEAAgB;AAAA;AAJ3B/Z,gCAAgC;QAAhCA,gCAAgC;EAAAlgC,SAAA;EAAAK,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAiV,QAAA,WAAA0kC,0CAAAlwC,EAAA,EAAAlJ,GAAA;IAAA,IAAAkJ,EAAA;MAxErChL,4DAAA,aAAyD;MACrDA,4DAAA,EAMC;MANDA,4DAAA,aAMC;MAEOA,uDAAA,cAKE;MACNA,0DAAA,EAAI;MACJA,4DAAA,WAAM;MAUEA,uDAAA,iBAGE;MAyBNA,0DAAA,EAAS;MAGjBA,6DAAA,EAEC;MAFDA,4DAAA,eAEC;MACGA,wDAAA,KAAAm7C,gDAAA,kBAGO;MACPn7C,wDAAA,KAAAo7C,qDAAA,uBAEW;MACfp7C,0DAAA,EAAM;;;MALGA,uDAAA,IAAe;MAAfA,wDAAA,UAAA8B,GAAA,CAAAmgB,QAAA,CAAe;MAEiCjiB,uDAAA,GAAc;MAAdA,wDAAA,SAAA8B,GAAA,CAAAmgB,QAAA,CAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtEZ;AAChB;AACJ;AAEA;AAEiC;;;;;;;;;;;;;IAK5EjiB,4DAAA,gBAOC;IAFGA,wDAAA,wBAAAq7C,4EAAA/vC,MAAA;MAAAtL,2DAAA,CAAAuhB,GAAA;MAAA,MAAAzN,MAAA,GAAA9T,2DAAA;MAAA,OAAAA,yDAAA,CAAA8T,MAAA,CAAAq2B,IAAA,GAAA7+B,MAAA;IAAA,EAAe,0BAAAgwC,8EAAAhwC,MAAA;MAAAtL,2DAAA,CAAAuhB,GAAA;MAAA,MAAA3c,MAAA,GAAA5E,2DAAA;MAAA,OAAAA,yDAAA,CAAA4E,MAAA,CAAA4E,MAAA,GAAA8B,MAAA;IAAA;;;IAElBtL,0DAAA,EAAQ;;;;IALLA,wDAAA,QAAAU,MAAA,CAAAy6B,OAAA,CAAe,aAAAn7B,yDAAA,OAAAU,MAAA,CAAAS,QAAA,cAAAnB,yDAAA,OAAAU,MAAA,CAAA2pC,OAAA,WAAA3pC,MAAA,CAAAypC,IAAA,YAAAzpC,MAAA,CAAA8I,MAAA;;;;;IAePxJ,4DAAA,qBAGC;IACGA,oDAAA,GACJ;IAAAA,0DAAA,EAAa;;;;IAHTA,wDAAA,UAAAu7C,MAAA,CAAa;IAEbv7C,uDAAA,GACJ;IADIA,gEAAA,MAAAu7C,MAAA,CAAAvpB,YAAA,IAAAupB,MAAA,CAAA51C,IAAA,MACJ;;;AAzBpB,MA4Daw7B,8BAA+B,SAAQphC,yDAAY;EAW5D,IAAWo7B,OAAOA,CAAA;IACd,OAAO,IAAI,CAACrJ,KAAK,EAAEsB,MAAM,IAAI,EAAE;EACnC;EA8BAttB,YAAoBqmC,WAA6B;IAC7C,KAAK,EAAE;IADS,KAAAA,WAAW,GAAXA,WAAW;IA1Cf,KAAAlqB,QAAQ,GAAa,EAAE;IACvB,KAAAioB,YAAY,GAAY,KAAK;IAC5B,KAAApkB,QAAQ,GAAG,IAAI5jB,uDAAY,EAAgB;IAErD,KAAAioC,IAAI,GAAG,CAAC;IACR,KAAA3gC,MAAM,GAAG;MAAEC,CAAC,EAAE,GAAG;MAAEI,CAAC,EAAE;IAAG,CAAE;IAE1B,KAAA2xC,aAAa,GAAIvrC,CAAC,IAAK,MAAM,IAAI,CAAC6V,QAAQ,CAACzc,IAAI,CAAC4G,CAAC,CAAC;IACnD,KAAA6hB,KAAK,GAAkB,IAAI;IAMlB,KAAAoV,MAAM,GAAG,IAAI,CAACiF,WAAW,CAACsP,gBAAgB,CAACz/B,IAAI,CAC3DxT,mDAAG,CAAE8X,CAAC,IAAKwU,uDAAM,CAACxU,CAAC,CAAC9X,GAAG,CAAC,CAAC;MAAEspB;IAAK,CAAE,KAAKA,KAAK,CAAC,CAAC,CAAC,CAClD;IAEe,KAAA3wB,QAAQ,GAAG,IAAI,CAACgrC,WAAW,CAACsP,gBAAgB,CAACz/B,IAAI,CAC7DhB,4DAAY,CAAC,IAAI,CAAC,EAClBxS,mDAAG,CAAE6/B,CAAC,IACFA,CAAC,CAAC7/B,GAAG,CAAEs7B,KAAK,KAAM;MACdjT,QAAQ,EAAEiT,KAAK,CAAC1Q,MAAM;MACtB7pB,OAAO,EAAE23B,6FAAgC;MACzC1iB,IAAI,EAAE;QACF,GAAGslB,KAAK;QACR7hB,QAAQ,EAAE,IAAI,CAACA,QAAQ,CAACzU,QAAQ,CAACs2B,KAAK,CAACj8B,EAAE;;KAEhD,CAAC,CAAC,CACN,CACJ;IAEe,KAAAwiC,OAAO,GAAG,IAAI,CAAC8B,WAAW,CAACsP,gBAAgB,CAACz/B,IAAI,CAC5DxT,mDAAG,CAAE6/B,CAAC,IACFA,CAAC,CAAC7/B,GAAG,CAAEs7B,KAAK,KAAM;MACdj8B,EAAE,EAAEi8B,KAAK,CAAC1Q,MAAM;MAChBkX,MAAM,EAAE,CAAC,UAAU,EAAE,SAAS,CAAC;MAC/BC,QAAQ,EAAE,IAAI,CAACiR,aAAa,CAAC1X,KAAK;KACrC,CAAC,CAAC,CACN,CACJ;EAID;EAEOz9B,QAAQA,CAAA;IACX,IAAI,CAACorB,YAAY,CACb,QAAQ,EACR,IAAI,CAAC0a,WAAW,CAACsP,gBAAgB,CAACx/B,SAAS,CAAEqE,CAAC,IAAI;MAC9C,IAAI,CAAC,IAAI,CAACwR,KAAK,IAAIxR,CAAC,CAAC3W,MAAM,EAAE,IAAI,CAACmoB,KAAK,GAAGxR,CAAC,CAAC,CAAC,CAAC,CAACwR,KAAK;IACxD,CAAC,CAAC,CACL;EACL;EAEOiZ,OAAOA,CAACC,QAAgB;IAC3B,IAAI,CAACb,IAAI,GAAGjjC,IAAI,CAAC2D,GAAG,CAAC,GAAG,EAAE3D,IAAI,CAAC+jC,GAAG,CAAC,EAAE,EAAED,QAAQ,CAAC,CAAC;EACrD;EAEOE,QAAQA,CAAA;IACX,IAAI,CAACf,IAAI,GAAG,CAAC;IACb,IAAI,CAAC3gC,MAAM,GAAG;MAAEC,CAAC,EAAE,GAAG;MAAEI,CAAC,EAAE;IAAG,CAAE;EACpC;;AA/DSs3B,8BAA+B;mBAA/BA,8BAA8B,EAAAnhC,+DAAA,CAAAzC,6DAAA;AAAA;AAA9B4jC,8BAA+B;QAA/BA,8BAA8B;EAAAngC,SAAA;EAAAC,MAAA;IAAAghB,QAAA;IAAAioB,YAAA;EAAA;EAAAxvB,OAAA;IAAAoL,QAAA;EAAA;EAAA3kB,QAAA,GAAAnB,wEAAA;EAAAqB,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAiV,QAAA,WAAAklC,wCAAA1wC,EAAA,EAAAlJ,GAAA;IAAA,IAAAkJ,EAAA;MAzDnChL,wDAAA,IAAA27C,+CAAA,mBAOS;MACT37C,4DAAA,aAEC;MAMmBA,wDAAA,2BAAA47C,4EAAAtwC,MAAA;QAAA,OAAAxJ,GAAA,CAAAgwB,KAAA,GAAAxmB,MAAA;MAAA,EAAmB;MAC3BtL,wDAAA,IAAA67C,oDAAA,wBAKa;;MACjB77C,0DAAA,EAAa;MAGrBA,4DAAA,aAGC;MACkCA,wDAAA,mBAAA87C,gEAAA;QAAA,OAASh6C,GAAA,CAAAipC,OAAA,CAAAjpC,GAAA,CAAAqoC,IAAA,GAAe,GAAG,CAAC;MAAA,EAAC;MACxDnqC,4DAAA,eAAU;MAAAA,oDAAA,cAAO;MAAAA,0DAAA,EAAW;MAEhCA,uDAAA,cAAmD;MACnDA,4DAAA,iBAAoE;MAApCA,wDAAA,mBAAA+7C,iEAAA;QAAA,OAASj6C,GAAA,CAAAipC,OAAA,CAAAjpC,GAAA,CAAAqoC,IAAA,IAAgB,CAAC,GAAG,GAAG,EAAE;MAAA,EAAC;MAC/DnqC,4DAAA,gBAAU;MAAAA,oDAAA,gBAAQ;MAAAA,0DAAA,EAAW;MAEjCA,uDAAA,cAAmD;MACnDA,4DAAA,iBAAkD;MAArBA,wDAAA,mBAAAg8C,iEAAA;QAAA,OAASl6C,GAAA,CAAAopC,QAAA,EAAU;MAAA,EAAC;MAC7ClrC,4DAAA,gBAAU;MAAAA,oDAAA,eAAO;MAAAA,0DAAA,EAAW;;;MAtC/BA,wDAAA,UAAA8B,GAAA,CAAAooC,YAAA,CAAmB;MAeJlqC,uDAAA,GAAmB;MAAnBA,wDAAA,YAAA8B,GAAA,CAAAgwB,KAAA,CAAmB;MAEP9xB,uDAAA,GAAiB;MAAjBA,wDAAA,YAAAA,yDAAA,OAAA8B,GAAA,CAAAolC,MAAA,EAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5BgB;AACvB;AAKjB;;;;;;;;;;;;;;;;IA6BblnC,4DAAA,6BAQC;IAHGA,wDAAA,uBAAAi8C,wGAAA3wC,MAAA;MAAAtL,2DAAA,CAAA6rC,GAAA;MAAA,MAAAjnC,MAAA,GAAA5E,2DAAA;MAAA,OAAaA,yDAAA,CAAA4E,MAAA,CAAA0c,eAAA,CAAAhW,MAAA,CAAuB;IAAA,EAAC,sBAAA4wC,uGAAA5wC,MAAA;MAAAtL,2DAAA,CAAA6rC,GAAA;MAAA,MAAA13B,MAAA,GAAAnU,2DAAA;MAAA,OAAAA,yDAAA,CAAAmU,MAAA,CAAAoS,SAAA,GAAAjb,MAAA;IAAA;IAGxCtL,0DAAA,EAAqB;;;;IANlBA,wDAAA,WAAAU,MAAA,CAAA6lB,SAAA,kBAAA7lB,MAAA,CAAA6lB,SAAA,CAAA1e,EAAA,CAAwB,aAAAnH,MAAA,CAAA8lB,YAAA,eAAA9lB,MAAA,CAAAkhB,SAAA;;;;;;IAuBhC5hB,4DAAA,iBAQC;IAFGA,wDAAA,mBAAAm8C,4EAAA;MAAAn8C,2DAAA,CAAAgsC,GAAA;MAAA,MAAA33B,MAAA,GAAArU,2DAAA;MAAA,OAAAA,yDAAA,CAAAqU,MAAA,CAAAkS,SAAA,GAAqB,IAAI;IAAA,EAAC;IAN9BvmB,oDAAA,OAQC;IAEDA,0DAAA,EAAS;;;;;;IAqDbA,4DAAA,4BAKC;IADGA,wDAAA,sBAAAo8C,+FAAA9wC,MAAA;MAAAtL,2DAAA,CAAA8M,IAAA;MAAA,MAAAC,MAAA,GAAA/M,2DAAA;MAAA,OAAAA,yDAAA,CAAA+M,MAAA,CAAAwZ,SAAA,GAAAjb,MAAA;IAAA,EAA+B;IAEnCtL,0DAAA,EAAoB;;;;IAJhBA,wDAAA,aAAA0D,MAAA,CAAA8iB,YAAA,CAAyB,mBAAA9iB,MAAA,CAAA6iB,SAAA;;;AArHlC,MAAM81B,eAAe,GAAG,0BAA0B;AAEzD,MA4Hajb,gCAAgC;EAKzC,IAAW5a,YAAYA,CAAA;IACnB,OAAO,IAAI,CAACvE,QAAQ,CAACzZ,GAAG,CAAE8X,CAAC,IAAKA,CAAC,CAACzY,EAAE,CAAC,CAAC4e,IAAI,CAAC,GAAG,CAAC;EACnD;EAEA,IAAW7E,SAASA,CAAA;IAChB,OAAO,IAAI,CAAC1T,SAAS,CAACC,GAAG,CAAWkuC,eAAe,CAAC,IAAI,EAAE;EAC9D;EAEAv2C,YACYomC,WAA2D,EAC3Dh+B,SAA0B,EAC1Bi+B,WAA+B,EAE/BjyB,KAGP;IAPO,KAAAgyB,WAAW,GAAXA,WAAW;IACX,KAAAh+B,SAAS,GAATA,SAAS;IACT,KAAAi+B,WAAW,GAAXA,WAAW;IAEX,KAAAjyB,KAAK,GAALA,KAAK;IAhBV,KAAA+H,QAAQ,GAAmB,EAAE;IAC7B,KAAA8T,IAAI,GAAG,MAAM;IAoBhB,IAAI,CAAC9T,QAAQ,GAAG,CAAC,IAAI/H,KAAK,CAACoiC,MAAM,IAAI,EAAE,CAAC,CAAC;IACzC,IAAI,CAACnQ,WAAW,CAAC3pB,UAAU,CAACtI,KAAK,CAACqP,OAAO,CAAC;EAC9C;EAEO5C,UAAUA,CAAC9e,EAAU;IACxB,OAAOA,EAAE,IAAI,IAAI,CAAC2e,YAAY,CAAChZ,QAAQ,CAAC3F,EAAE,CAAC;EAC/C;EAEOgf,WAAWA,CAACzI,IAAkB,EAAE0I,KAAc;IACjD,MAAMC,IAAI,GAAG,IAAI,CAAC9E,QAAQ,CAAC/Z,MAAM,CAAEoY,CAAC,IAAKA,CAAC,CAACzY,EAAE,KAAKuW,IAAI,CAACvW,EAAE,CAAC;IAC1D,IAAIif,KAAK,EAAEC,IAAI,CAACnf,IAAI,CAACwW,IAAI,CAAC;IAC1B,IAAI,CAAC6D,QAAQ,GAAG8E,IAAI;IACpB,IAAI,CAAC,IAAI,CAAC7M,KAAK,CAACqP,OAAO,CAAClJ,KAAK,IAAIyG,KAAK,EAAE,IAAI,CAAColB,WAAW,CAACroB,KAAK,CAAC,CAACzF,IAAI,CAAC,CAAC;EAC1E;EAEOkD,eAAeA,CAAClD,IAAkB;IACrC,MAAMgF,QAAQ,GAAG,IAAI,CAACxB,SAAS;IAC/B,MAAMyB,SAAS,GAAG,CAACD,QAAQ,CAAC5V,QAAQ,CAAC4Q,IAAI,CAACvW,EAAE,CAAC;IAC7C,IAAIwb,SAAS,EAAE;MACX,IAAI,CAACnV,SAAS,CAACoV,eAAe,CAAC+4B,eAAe,EAAE,CAC5C,GAAGj5B,QAAQ,EACXhF,IAAI,CAACvW,EAAE,CACV,CAAC;KACL,MAAM;MACH,IAAI,CAACqG,SAAS,CAACoV,eAAe,CAC1B+4B,eAAe,EACfj5B,QAAQ,CAAClb,MAAM,CAAEoY,CAAC,IAAKA,CAAC,KAAKlC,IAAI,CAACvW,EAAE,CAAC,CACxC;;EAET;;AApDSu5B,gCAAgC;mBAAhCA,gCAAgC,EAAAphC,+DAAA,CAAAzC,kEAAA,GAAAyC,+DAAA,CAAAH,4DAAA,GAAAG,+DAAA,CAAAiV,qEAAA,GAAAjV,+DAAA,CAiB7BgZ,qEAAe;AAAA;AAjBlBooB,gCAAgC;QAAhCA,gCAAgC;EAAApgC,SAAA;EAAAK,KAAA;EAAAC,IAAA;EAAAC,MAAA,WAAAA,CAAA;IAAA,IAAAC,MAAA;IAAA,WAAAC,iBAAA,oBAAAA,iBAAA;;;;;;;eAlHpBC,SAAA,mFAAkB;;;;;;;;;;eA2D1BA,SAAA,4EAED;;;;;;;;;;eAayCA,SAAA,4EAAY;;;;;;;;;;;;;;;;eAGlBA,SAAA,mEAC/B,eAAqB,+BACzB;;;;;;;;;;eA/BCA,SAAA,sEAED;;;;;;MAzDR1B,4DAAA,aAEC;MAGqBA,oDAAA,YAAK;MAAAA,0DAAA,EAAW;MAE9BA,4DAAA,SAAS;MAATA,oDAAA,MAAS;MAAkBA,0DAAA,EAAK;MAEpCA,4DAAA,cAEC;MACGA,uDAAA,+BAEyB;MACzBA,4DAAA,aAEC;MAGOA,wDAAA,wBAAAu8C,+FAAAjxC,MAAA;QAAA,OAAAxJ,GAAA,CAAAi0B,IAAA,GAAAzqB,MAAA;MAAA,EAAe;MAClBtL,0DAAA,EAAgC;MACjCA,wDAAA,KAAAw8C,+DAAA,gCAQsB;MAC1Bx8C,0DAAA,EAAM;MACNA,4DAAA,gCAUC;MAJGA,wDAAA,0BAAAy8C,yFAAAnxC,MAAA;QAAA,OAAgBxJ,GAAA,CAAA+kB,WAAA,CAAA/kB,GAAA,CAAAykB,SAAA,EAAAjb,MAAA,CAA8B;MAAA,EAAC,uBAAAoxC,sFAAA;QAAA,OAElC56C,GAAA,CAAAwf,eAAA,CAAAxf,GAAA,CAAAykB,SAAA,CAA0B;MAAA,EAFQ,mBAAAo2B,kFAAA;QAAA,OAAA76C,GAAA,CAAAykB,SAAA,GAG1B,IAAI;MAAA,EAHsB;MAIlDvmB,0DAAA,EAAwB;MAE7BA,4DAAA,kBAEC;MACGA,wDAAA,KAAA48C,mDAAA,qBAUS;MACT58C,4DAAA,kBAQC;MARDA,oDAAA,QAQC;MAEDA,0DAAA,EAAS;MAEbA,4DAAA,kBAEC;MAQqCA,oDAAA,kBAAU;MAAAA,0DAAA,EAAW;MAC/CA,4DAAA,eAAiC;MAAjCA,oDAAA,QAAiC;MAAYA,0DAAA,EAAM;MAG3DA,4DAAA,aAAmC;MAAnCA,oDAAA,QAAmC;MAEnCA,0DAAA,EAAI;MACJA,4DAAA,kBAMC;MADGA,wDAAA,mBAAA68C,mEAAA;QAAA,OAAS/6C,GAAA,CAAA+kB,WAAA,CAAA/kB,GAAA,CAAAykB,SAAA,GAAwBzkB,GAAA,CAAA6kB,UAAA,CAAA7kB,GAAA,CAAAykB,SAAA,kBAAAzkB,GAAA,CAAAykB,SAAA,CAAA1e,EAAA,CAAyB,CAAC;MAAA,EAAC;MAE5D7H,4DAAA,eAA+B;MACDA,oDAAA,IAExB;MAAAA,0DAAA,EAAW;MACbA,4DAAA,eAAkB;MACdA,oDAAA,IAKJ;MAAAA,0DAAA,EAAM;MAKtBA,wDAAA,KAAA88C,wDAAA,iCAAA98C,oEAAA,CAQc;;;;MAjGEA,uDAAA,IAAe;MAAfA,wDAAA,SAAA8B,GAAA,CAAAi0B,IAAA,CAAe;MAGd/1B,uDAAA,GAAuB;MAAvBA,wDAAA,SAAA8B,GAAA,CAAAi0B,IAAA,YAAuB,aAAAtnB,GAAA;MAY5BzO,uDAAA,GAA2B;MAA3BA,yDAAA,YAAA8B,GAAA,CAAAykB,SAAA,CAA2B,YAAAzkB,GAAA,CAAAykB,SAAA;MAF3BvmB,wDAAA,UAAA8B,GAAA,CAAAykB,SAAA,CAAmB,WAAAzkB,GAAA,CAAA0kB,YAAA,CAAAhZ,QAAA,CAAA1L,GAAA,CAAAykB,SAAA,kBAAAzkB,GAAA,CAAAykB,SAAA,CAAA1e,EAAA,UAAA/F,GAAA,CAAAykB,SAAA,IAAAzkB,GAAA,CAAA8f,SAAA,CAAApU,QAAA,CAAA1L,GAAA,CAAAykB,SAAA,kBAAAzkB,GAAA,CAAAykB,SAAA,CAAA1e,EAAA;MAmBlB7H,uDAAA,GAAe;MAAfA,wDAAA,SAAA8B,GAAA,CAAAykB,SAAA,CAAe;MAWhBvmB,uDAAA,GAAwB;MAAxBA,yDAAA,SAAA8B,GAAA,CAAAykB,SAAA,CAAwB;MADxBvmB,wDAAA,qBAAA8B,GAAA,CAAAmgB,QAAA,CAA6B;MAc7BjiB,uDAAA,GAA6B;MAA7BA,wDAAA,qBAAA8B,GAAA,CAAAmgB,QAAA,CAA6B;MAUjCjiB,uDAAA,GAAI;MAAJA,uDAAA,CAAA8B,GAAA,CAAAmgB,QAAA,CAAAtY,MAAA,CAAI;MAAJ3J,yDAAA,IAAI;MAKAA,uDAAA,GAA2C;MAA3CA,yDAAA,YAAA8B,GAAA,CAAA6kB,UAAA,CAAA7kB,GAAA,CAAAykB,SAAA,kBAAAzkB,GAAA,CAAAykB,SAAA,CAAA1e,EAAA,EAA2C;MAD3C7H,wDAAA,cAAA8B,GAAA,CAAAykB,SAAA,CAAuB;MAKOvmB,uDAAA,GAExB;MAFwBA,+DAAA,CAAA8B,GAAA,CAAA6kB,UAAA,CAAA7kB,GAAA,CAAAykB,SAAA,kBAAAzkB,GAAA,CAAAykB,SAAA,CAAA1e,EAAA,qBAExB;MAEE7H,uDAAA,GAKJ;MALIA,gEAAA,MAAA8B,GAAA,CAAA6kB,UAAA,CAAA7kB,GAAA,CAAAykB,SAAA,kBAAAzkB,GAAA,CAAAykB,SAAA,CAAA1e,EAAA,kDAKJ;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtH8B;AACmB;AACpB;AAEkB;AAKR;;;;;;;;;IAgB3C7H,uDAAA,cAIE;;;;IADEA,wDAAA,QAAA+8C,QAAA,CAAAl8B,MAAA,KAAA7gB,2DAAA,CAAuB;;;;;IAGvBA,uDAAA,cAGE;;;;;;IAjBdA,4DAAA,aAIC;IAIOA,wDAAA,IAAAg9C,mDAAA,iBAIE;IACFh9C,wDAAA,IAAAi9C,2DAAA,iCAAAj9C,oEAAA,CAKc;IAClBA,0DAAA,EAAM;IACNA,4DAAA,cAA4B;IAEpBA,oDAAA,GACJ;IAAAA,0DAAA,EAAM;IACNA,4DAAA,cAAiD;IACbA,oDAAA,aAAK;IAAAA,0DAAA,EAAW;IAChDA,4DAAA,SAAG;IAAAA,oDAAA,IAAoB;IAAAA,0DAAA,EAAI;IAE/BA,4DAAA,eAAiD;IACbA,oDAAA,cAAM;IAAAA,0DAAA,EAAW;IACjDA,4DAAA,SAAQ;IAARA,oDAAA,QAAQ;IAIRA,0DAAA,EAAI;IAERA,4DAAA,eAEC;IAMOA,wDAAA,mBAAAk9C,uEAAA;MAAA,MAAAr6C,WAAA,GAAA7C,2DAAA,CAAAihB,GAAA;MAAA,MAAA87B,QAAA,GAAAl6C,WAAA,CAAAI,SAAA;MAAA,MAAAkR,MAAA,GAAAnU,2DAAA;MAAA,OAASA,yDAAA,CAAAmU,MAAA,CAAAqvB,eAAA,CAAAuZ,QAAA,CAAsB;IAAA,EAAC;IAEhC/8C,4DAAA,eAA8C;IAA9CA,yDAAA,QAA8C;IAC1CA,uDAAA,gBAAyB;IAE7BA,uDAAA,EAAM;IAANA,0DAAA,EAAM;IAEVA,4DAAA,kBAMC;IADGA,wDAAA,mBAAAm9C,uEAAA;MAAA,MAAAt6C,WAAA,GAAA7C,2DAAA,CAAAihB,GAAA;MAAA,MAAA87B,QAAA,GAAAl6C,WAAA,CAAAI,SAAA;MAAA,MAAAyJ,MAAA,GAAA1M,2DAAA;MAAA,OAASA,yDAAA,CAAA0M,MAAA,CAAAg3B,cAAA,CAAAqZ,QAAA,CAAqB;IAAA,EAAC;IAE/B/8C,4DAAA,eAA8C;IAA9CA,yDAAA,QAA8C;IAC1CA,uDAAA,gBAA0B;IAE9BA,uDAAA,EAAM;IAANA,0DAAA,EAAM;IAIlBA,4DAAA,kBAOC;IADGA,wDAAA,mBAAAo9C,uEAAA;MAAAp9C,2DAAA,CAAAihB,GAAA;MAAA,MAAAlU,MAAA,GAAA/M,2DAAA;MAAA,OAASA,yDAAA,CAAA+M,MAAA,CAAAuU,eAAA,CAAAvU,MAAA,CAAA6V,KAAA,CAAsB;IAAA,EAAC;IAEhC5iB,4DAAA,gBAAU;IAAAA,oDAAA,IAIR;IAAAA,0DAAA,EAAW;;;;;;IApERA,uDAAA,GAA4B;IAA5BA,wDAAA,SAAA+8C,QAAA,CAAAl8B,MAAA,kBAAAk8B,QAAA,CAAAl8B,MAAA,CAAAlX,MAAA,CAA4B,aAAA4X,GAAA;IAa7BvhB,uDAAA,GACJ;IADIA,gEAAA,MAAA+8C,QAAA,CAAAp3C,IAAA,4BACJ;IAGO3F,uDAAA,GAAoB;IAApBA,+DAAA,CAAA+8C,QAAA,CAAAlsB,QAAA,CAAoB;IAQvB7wB,uDAAA,GAAI;IAAJA,uDAAA,CAAA+8C,QAAA,CAAAlZ,QAAA,WAAAkZ,QAAA,CAAAlZ,QAAA,CAAI,CAAAkZ,QAAA,CAAAlZ,QAAA;IAAJ7jC,yDAAA,IAAI;IAoCRA,uDAAA,IAAqD;IAArDA,yDAAA,kBAAAU,MAAA,CAAAkhB,SAAA,CAAApU,QAAA,CAAA9M,MAAA,CAAAkiB,KAAA,kBAAAliB,MAAA,CAAAkiB,KAAA,CAAA/a,EAAA,EAAqD;IAG3C7H,uDAAA,GAIR;IAJQA,+DAAA,CAAAU,MAAA,CAAAkhB,SAAA,CAAApU,QAAA,CAAA9M,MAAA,CAAAkiB,KAAA,kBAAAliB,MAAA,CAAAkiB,KAAA,CAAA/a,EAAA,mCAIR;;;AAnFtB,MAAMga,UAAU,GAAa,EAAE;AAE/B,MA8Gawf,8BAA8B;EAQvC,IAAWzf,SAASA,CAAA;IAChB,OAAO,IAAI,CAAC1T,SAAS,CAACC,GAAG,CAAW,kBAAkB,CAAC,IAAI0T,UAAU;EACzE;EAEA/b,YACYoI,SAA0B,EAC1BoQ,OAAkB;IADlB,KAAApQ,SAAS,GAATA,SAAS;IACT,KAAAoQ,OAAO,GAAPA,OAAO;IAbZ,KAAAslB,SAAS,GAAG,CAAC;IACb,KAAA0Y,MAAM,GAAmB,EAAE;IAC3B,KAAAplC,QAAQ,GAAG,KAAK;IAmDvB;IACgB,KAAAgL,gBAAgB,GAAIC,EAA+B,IAC9D,IAAI,CAACC,SAAS,GAAGD,EAAG;IACzB;IACgB,KAAAE,iBAAiB,GAAIF,EAA+B,IAC/D,IAAI,CAACG,QAAQ,GAAGH,EAAG;IACR,KAAAI,gBAAgB,GAAItS,CAAU,IAAM,IAAI,CAACiH,QAAQ,GAAGjH,CAAE;EA7CnE;EAEH;EACOuzB,eAAeA,CAAA;IAClB,MAAM1gB,GAAG,GAAG,IAAI,CAACxE,OAAO,CAACyE,IAAI,CAACqe,kHAAgC,EAAE;MAC5D5iB,IAAI,EAAE;QACF89B,MAAM,EAAE,IAAI,CAACA,MAAM;QACnB/yB,OAAO,EAAE;UAAEsa,QAAQ,EAAE,IAAI,CAACD;QAAS;;KAE1C,CAAC;IACF9gB,GAAG,CAACE,WAAW,EAAE,CAAC/G,SAAS,CAAEqgC,MAAuB,IAAI;MACpD,IAAI,CAACA,MAAM,EAAE;MACb,IAAI,CAAC75B,QAAQ,CAAC65B,MAAM,CAAC;IACzB,CAAC,CAAC;EACN;EAEA;EACO5Y,cAAcA,CAACI,KAAmB;IACrC,IAAI,CAACrhB,QAAQ,CAAC,IAAI,CAAC65B,MAAM,CAACp0C,MAAM,CAAEoY,CAAC,IAAKA,CAAC,CAACzY,EAAE,KAAKi8B,KAAK,CAACj8B,EAAE,CAAC,CAAC;EAC/D;EAEA;;;;EAIO4a,QAAQA,CAACC,SAAyB;IACrC,IAAI,CAAC45B,MAAM,GAAG55B,SAAS;IACvB,IAAI,IAAI,CAACN,SAAS,EAAE,IAAI,CAACA,SAAS,CAAC,IAAI,CAACk6B,MAAM,CAAC;EACnD;EAEA;EACA;;;;EAIO35B,UAAUA,CAACvM,KAAqB;IACnC,IAAI,CAACkmC,MAAM,GAAGlmC,KAAK,IAAI,EAAE;EAC7B;EAUOkL,eAAeA,CAACwiB,KAAmB;IACtC,MAAM1gB,QAAQ,GAAG,IAAI,CAACxB,SAAS;IAC/B,MAAMyB,SAAS,GAAG,CAACD,QAAQ,CAAC5V,QAAQ,CAACs2B,KAAK,CAACj8B,EAAE,CAAC;IAC9C,IAAIwb,SAAS,EAAE;MACX,IAAI,CAACnV,SAAS,CAACoV,eAAe,CAAC+4B,iGAAe,EAAE,CAC5C,GAAGj5B,QAAQ,EACX0gB,KAAK,CAACj8B,EAAE,CACX,CAAC;KACL,MAAM;MACH,IAAI,CAACqG,SAAS,CAACoV,eAAe,CAC1B+4B,iGAAe,EACfj5B,QAAQ,CAAClb,MAAM,CAAEoY,CAAC,IAAKA,CAAC,KAAKwjB,KAAK,CAACj8B,EAAE,CAAC,CACzC;;EAET;;AA5ESw5B,8BAA8B;mBAA9BA,8BAA8B,EAAArhC,+DAAA,CAAAzC,iFAAA,GAAAyC,+DAAA,CAAAH,+DAAA;AAAA;AAA9BwhC,8BAA8B;QAA9BA,8BAA8B;EAAArgC,SAAA;EAAAG,QAAA,GAAAnB,gEAAA,CAR5B,CACP;IACIhB,OAAO,EAAEyhB,6DAAiB;IAC1B+C,WAAW,EAAEhD,yDAAU,CAAC,MAAM6gB,8BAA8B,CAAC;IAC7D5d,KAAK,EAAE;GACV,CACJ;EAAApiB,KAAA;EAAAC,IAAA;EAAAC,MAAA,WAAAA,CAAA;IAAA,IAAAC,MAAA;IAAA,WAAAC,iBAAA,oBAAAA,iBAAA;;;;;;;eAdsBC,SAAA,qFAAoB;;;;;;;;;;eA3D2BA,SAAA;+BAE3C;;;;;;;;;;;;;;;;;;;;;eAHCA,SAAA,kEACJ,eAA6C,mBAAC2jC,MAE3C,QACP;;;;;;;;;;;;;;;;;;eAaQ3jC,SAAA,kFAAU,2BAAI,kBAAW,8BAE7B;;;;;;;;;;;;;;;;;;eAUIA,SAAA,mFAAU,4BAAK,kBAAW,8BAE9B;;;;;;MA9DpB1B,4DAAA,aAA4B;MACxBA,wDAAA,IAAAq9C,6CAAA,kBA+EM;MACVr9C,0DAAA,EAAM;MACNA,4DAAA,gBAMC;MADGA,wDAAA,mBAAAs9C,gEAAA;QAAA,OAASx7C,GAAA,CAAA0hC,eAAA,EAAiB;MAAA,EAAC;MAE3BxjC,4DAAA,aAAwD;MAC1CA,oDAAA,aAAM;MAAAA,0DAAA,EAAW;MAC3BA,4DAAA,WAAW;MAAXA,oDAAA,MAAW;MAAoBA,0DAAA,EAAO;MAG9CA,4DAAA,aAA2D;MACvDA,uDAAA,aAAkD;MACtDA,0DAAA,EAAM;;;MA5FoBA,uDAAA,GAAS;MAATA,wDAAA,YAAA8B,GAAA,CAAAw6C,MAAA,CAAS;;;;;;;;;;;;;;;;;;;;;ACpBI;AAES;AAIlD,MAAOkB,QAAQ;EAkBjB13C,YAAY0Y,IAAA,GAA0B,EAAE;IACpC,IAAI,CAAC3W,EAAE,GAAG2W,IAAI,CAAC3W,EAAE,IAAI,EAAE;IACvB,IAAI,CAAClC,IAAI,GAAG6Y,IAAI,CAAC7Y,IAAI,IAAI,EAAE;IAC3B,IAAI,CAAC83C,OAAO,GAAG,CAAC,CAACj/B,IAAI,CAACi/B,OAAO;IAC7B,IAAI,CAACC,OAAO,GAAGl/B,IAAI,CAACk/B,OAAO,IAAI,EAAE;IACjC,IAAI,CAACC,QAAQ,GAAG,CAAC,CAACn/B,IAAI,CAACm/B,QAAQ;IAC/B,IAAI,CAAC5mB,QAAQ,GAAG,IAAIwmB,kEAAK,CAAC/+B,IAAI,CAACuY,QAAQ,IAAKvY,IAAY,CAAC+gB,MAAM,CAAC;IAChE,IAAI,CAACqe,YAAY,GAAG,CAACp/B,IAAI,CAACo/B,YAAY,IAAI,EAAE,EAAEp1C,GAAG,CAC7C,CAAC;MAAEq1C,SAAS;MAAEC,OAAO;MAAE/3C,IAAI;MAAEjB,QAAQ;MAAEusB;IAAM,CAAO,KAAI;MACpD,OAAO;QACHtrB,IAAI,EAAE,IAAI6V,IAAI,CAAC7V,IAAI,EAAE83C,SAAS,CAAC,CAAC73C,OAAO,EAAE;QACzClB,QAAQ,EACJA,QAAQ,IAAIm3B,oDAAmB,CAAC6hB,OAAO,EAAED,SAAS,CAAC;QACvDxsB,MAAM,EAAEA;OACX;IACL,CAAC,CACJ;IACD,IAAI,CAAC0sB,MAAM,GAAG,CAAC,CAACv/B,IAAI,CAACu/B,MAAM;EAC/B;;;;;;;;;;;;;;;;;;;;;;;;AC1CqC;AAEJ;AAEW;AAGQ;AACZ;AAG5C,MAAMC,iBAAiB,GAAG,yBAAyB;AAEnD;AACM,SAAUC,cAAcA,CAAA;EAC1B,OAAO9vC,uDAAG,CAAC6vC,iBAAiB,CAAC,CAAChiC,IAAI,CAC9BxT,mDAAG,CAAEL,CAAC,IAAKA,CAAC,CAACK,GAAG,CAAE01C,CAAC,IAAK,IAAIV,qDAAQ,CAACU,CAAC,CAAC,CAAC,CAAC,CAC5C;AACL;AAEA;AACM,SAAUC,yBAAyBA,CACrC5xB,CAAkC;EAElC,MAAMD,KAAK,GAAGN,8DAAa,CAACO,CAAC,CAAC;EAC9B,OAAOpe,uDAAG,CACN,GAAG6vC,iBAAiB,gBAAgB1xB,KAAK,GAAG,GAAG,GAAGA,KAAK,GAAG,EAAE,EAAE,CACjE,CAACtQ,IAAI,CAACxT,mDAAG,CAAEL,CAAC,IAAKA,CAAC,CAACK,GAAG,CAAE01C,CAAC,IAAK,IAAIV,qDAAQ,CAACU,CAAC,CAAC,CAAC,CAAC,CAAC;AACrD;AAEA,MAAME,iBAAiB,GAAIC,GAAI,IAC3B71C,mDAAG,CAAEue,IAAgB,IACjBA,IAAI,CACC7e,MAAM,CAAEo2C,GAAG,IAAK,CAAC,CAACA,GAAG,CAACvnB,QAAQ,CAAC,CAC/BvuB,GAAG,CACC81C,GAAG,IACA,IAAIf,kEAAK,CAAC;EACN,GAAGe,GAAG,CAACvnB,QAAQ;EACfjF,KAAK,EAAEusB,GAAG,EAAEtsB,WAAW,CAACusB,GAAG,CAACvnB,QAAQ,CAAClO,KAAK,CAAC;EAC3C+0B,YAAY,EAAEU,GAAG,CAACV;CACrB,CAAC,CACT,CACA11C,MAAM,CAAE47B,KAAK,IAAKA,KAAK,CAACtM,QAAQ,CAAC,CACzC;AAEL;AACM,SAAU+mB,8BAA8BA,CAC1ChyB,CAAkC,EAClC8xB,GAAyB;EAEzB,OAAOF,yBAAyB,CAAC5xB,CAAC,CAAC,CAACvQ,IAAI,CAACoiC,iBAAiB,CAACC,GAAG,CAAC,CAAC;AACpE;AAEM,SAAUG,iBAAiBA,CAACjyB,CAAkC;EAChE,MAAMD,KAAK,GAAGN,8DAAa,CAACO,CAAC,CAAC;EAC9B,OAAOpe,uDAAG,CACN,GAAG6vC,iBAAiB,aAAa1xB,KAAK,GAAG,GAAG,GAAGA,KAAK,GAAG,EAAE,EAAE,CAC9D,CAACtQ,IAAI,CAACxT,mDAAG,CAAEL,CAAC,IAAKA,CAAe,CAAC,CAAC;AACvC;AAEA;AACM,SAAUs2C,kBAAkBA,CAC9BlyB,CAAkC,EAClC8xB,GAAyB;EAEzB,MAAM/xB,KAAK,GAAGN,8DAAa,CAACO,CAAC,CAAC;EAC9B,OAAOpe,uDAAG,CACN,GAAG6vC,iBAAiB,aAAa1xB,KAAK,GAAG,GAAG,GAAGA,KAAK,GAAG,EAAE,EAAE,CAC9D,CAACtQ,IAAI,CACFxT,mDAAG,CAAEL,CAAC,IAAKA,CAAC,CAACK,GAAG,CAAE01C,CAAC,IAAK,IAAIV,qDAAQ,CAACU,CAAC,CAAC,CAAC,CAAC,EACzCE,iBAAiB,CAACC,GAAG,CAAC,CACzB;AACL;;;;;;;;;;;;;;ACtEM,MAAOK,YAAY;EAoCrB,IAAWC,SAASA,CAAA;IAChB,MAAMp1B,OAAO,GAAG,IAAI,CAACq1B,WAAW,CAACp2C,GAAG,CAAE8X,CAAC,IAAKA,CAAC,CAACzY,EAAE,CAAC,CAAC4e,IAAI,CAAC,GAAG,CAAC;IAC3D,OAAO,GAAG,IAAI,CAAC5e,EAAE,IAAI0hB,OAAO,IAAI,CAAC,IAAI,CAACs1B,QAAQ,GAAG,MAAM,GAAG,EAAE,EAAE;EAClE;EAEA/4C,YAAY0Y,IAAA,GAA8B,EAAE;IACxC,IAAI,CAAC3W,EAAE,GAAG2W,IAAI,CAAC3W,EAAE,IAAI,EAAE;IACvB,IAAI,CAAClC,IAAI,GAAG6Y,IAAI,CAAC7Y,IAAI,IAAI6Y,IAAI,CAAC3W,EAAE,IAAI,EAAE;IACtC,IAAI,CAAC0d,QAAQ,GAAG/G,IAAI,CAAC+G,QAAQ,IAAI,EAAE;IACnC,IAAI,CAACwF,UAAU,GAAGvM,IAAI,CAACuM,UAAU,IAAI,CAAC;IACtC,IAAI,CAAC9b,WAAW,GAAGuP,IAAI,CAACvP,WAAW,IAAI,EAAE;IACzC,IAAI,CAAC4P,QAAQ,GAAGL,IAAI,CAACK,QAAQ,IAAI,CAAC;IAClC,IAAI,CAACigC,YAAY,GAAGtgC,IAAI,CAACsgC,YAAY,IAAI,CAAC;IAC1C,IAAI,CAACC,aAAa,GAAG,CAAC,CAACvgC,IAAI,CAACugC,aAAa;IACzC,IAAI,CAACC,IAAI,GAAGxgC,IAAI,CAACwgC,IAAI,IAAI,EAAE;IAC3B,IAAI,CAACn+B,MAAM,GAAGrC,IAAI,CAACqC,MAAM,IAAI,EAAE;IAC/B,IAAI,CAAC0I,OAAO,GAAG/K,IAAI,CAAC+K,OAAO,IAAI,EAAE;IACjC,MAAM01B,WAAW,GAAG,IAAI,CAAC11B,OAAO,CAACgO,IAAI,CAAEjX,CAAC,IAAKA,CAAC,CAAC6D,MAAM,KAAK,IAAI,CAAC;IAC/D,IAAI,CAACy6B,WAAW,GACZ,CAACK,WAAW,GACN,IAAI,CAAC11B,OAAO,CAACrhB,MAAM,CAAEoY,CAAC,IAAKA,CAAC,CAAC6D,MAAM,KAAK,IAAI,CAAC,GAC7C3F,IAAI,CAACogC,WAAW,KAAK,EAAE;IACjC,IAAI,CAACM,cAAc,GAAG1gC,IAAI,CAAC0gC,cAAc,IAAI,EAAE;IAC/C,IAAI,CAACC,uBAAuB,GACxB,IAAI,CAACp0B,UAAU,GACf,IAAI,CAAC6zB,WAAW,CACXp2C,GAAG,CAAEL,CAAC,IAAKA,CAAC,CAAC4iB,UAAU,IAAI,CAAC,CAAC,CAC7BpM,MAAM,CAAC,CAACu/B,CAAC,EAAE/0B,CAAC,KAAK+0B,CAAC,GAAG/0B,CAAC,EAAE,CAAC,CAAC;IACnC,IAAI,CAACi2B,UAAU,GAAG,IAAI,CAACD,uBAAuB,GAAG,IAAI,CAACtgC,QAAQ;IAC9D,IAAI,CAACwgC,cAAc,GACf,IAAI,CAAC91B,OAAO,EACN/gB,GAAG,CAAE8X,CAAC,IAAKA,CAAC,CAACzY,EAAE,IAAI,EAAE,CAAC,CACvBqhB,IAAI,CAAC,CAACC,CAAC,EAAEnU,CAAC,KAAKmU,CAAC,CAACC,aAAa,CAACpU,CAAC,CAAC,CAAC,CAClCyR,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE;IACxB,IAAI,CAACo4B,QAAQ,GAAGrgC,IAAI,CAACqgC,QAAQ,IAAI,KAAK;EAC1C;;;;;;;;;;;;;;;;;ACzEwC;AAGS;AAG/C,MAAOU,aAAa;EA0BtBz5C,YAAY0Y,IAAA,GAA+B,EAAE;IACzC,IAAI,CAAC3W,EAAE,GAAG2W,IAAI,CAAC3W,EAAE,IAAI,SAASy3C,0DAAS,CAAC,OAAS,EAAE,OAAS,CAAC,EAAE;IAC/D,IAAI,CAACE,SAAS,GAAGhhC,IAAI,CAACghC,SAAS,IAAI,EAAE;IACrC,IAAI,CAAC1vB,QAAQ,GAAGtR,IAAI,CAACsR,QAAQ,IAAItR,IAAI,CAAC/V,KAAK,EAAEZ,EAAE,IAAI,EAAE;IACrD,IAAI,CAACma,KAAK,GAAG,CAACxD,IAAI,CAACwD,KAAK,IAAI,EAAE,EAAExZ,GAAG,CAAEL,CAAC,IAAK,IAAIu2C,8DAAY,CAACv2C,CAAC,CAAC,CAAC;IAC/D,IAAI,CAACs3C,UAAU,GAAG,IAAI,CAACz9B,KAAK,CAACrD,MAAM,CAC/B,CAAC+C,MAAM,EAAEtD,IAAI,KAAKsD,MAAM,GAAGtD,IAAI,CAACS,QAAQ,EACxC,CAAC,CACJ;IACD,IAAI,CAACugC,UAAU,GAAG,IAAI,CAACp9B,KAAK,CAACrD,MAAM,CAC/B,CAAC+C,MAAM,EAAEtD,IAAI,KAAKsD,MAAM,IAAItD,IAAI,CAACghC,UAAU,IAAI,CAAC,CAAC,EACjD,CAAC,CACJ;IACD,IAAI,CAACM,WAAW,GAAGlhC,IAAI,CAACkhC,WAAW,IAAI,EAAE;IACzC,IAAI,CAACruB,MAAM,GAAG7S,IAAI,CAAC6S,MAAM,IAAI,UAAU;IACvC,IAAI,CAACvG,cAAc,GAAGtM,IAAI,CAACsM,cAAc,IAAI,EAAE;IAC/C,IAAI,CAACriB,KAAK,GAAG+V,IAAI,CAAC/V,KAAK,IAAI,IAAI;IAC/B,IAAI,CAAC1G,KAAK,GAAGyc,IAAI,CAACzc,KAAK,IAAI,EAAE;IAC7B,IAAI,CAAC49C,UAAU,GACXnhC,IAAI,CAACmhC,UAAU,IACdnhC,IAAY,CAACzY,IAAI,IAClB,IAAI,CAAC0C,KAAK,EAAE1C,IAAI,IAChB6V,IAAI,CAAChV,GAAG,EAAE;EAClB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvDyB;AACiB;AACD;AACN;;;;;;;;;;;;;;;;;ACH0C;AAE1E,MAAMm5C,0BAA0B,GAAGH,4DAAO,CAAC,MAAM,EAAE,CACtDC,+DAAU,CAAC,QAAQ,EAAE,CACjBlhB,0DAAK,CAAC;EAAEqhB,OAAO,EAAE,CAAC;EAAEz1C,MAAM,EAAE;AAAC,CAAE,CAAC,EAChCu1C,4DAAO,CAAC,GAAG,EAAEnhB,0DAAK,CAAC;EAAEqhB,OAAO,EAAE,CAAC;EAAEz1C,MAAM,EAAE;AAAG,CAAE,CAAC,CAAC,CACnD,CAAC,EACFs1C,+DAAU,CAAC,QAAQ,EAAE,CACjBlhB,0DAAK,CAAC;EAAEqhB,OAAO,EAAE,CAAC;EAAEz1C,MAAM,EAAE;AAAG,CAAE,CAAC,EAClCu1C,4DAAO,CAAC,GAAG,EAAEnhB,0DAAK,CAAC;EAAEqhB,OAAO,EAAE,CAAC;EAAEz1C,MAAM,EAAE;AAAC,CAAE,CAAC,CAAC,CACjD,CAAC,CACL,CAAC;AAEK,MAAM01C,8BAA8B,GAAGL,4DAAO,CAAC,MAAM,EAAE,CAC1D94B,0DAAK,CAAC,MAAM,EAAE6X,0DAAK,CAAC;EAAEqhB,OAAO,EAAE,CAAC;EAAEz1C,MAAM,EAAE;AAAG,CAAE,CAAC,CAAC,EACjDuc,0DAAK,CAAC,MAAM,EAAE6X,0DAAK,CAAC;EAAEqhB,OAAO,EAAE,CAAC;EAAEz1C,MAAM,EAAE,CAAC;EAAE,gBAAgB,EAAE;AAAM,CAAE,CAAC,CAAC,EACzEs1C,+DAAU,CAAC,eAAe,EAAEC,4DAAO,CAAC,eAAe,CAAC,CAAC,CACxD,CAAC;;;;;;;;;;;;;;ACfF;;;;AAIM,SAAU9zB,aAAaA,CAACxjB,GAAY;EACtC,IAAI03C,GAAG,GAAG,EAAE;EACZ,IAAI13C,GAAG,EAAE;IACL,KAAK,MAAMoyB,GAAG,IAAIpyB,GAAG,EAAE;MACnB,IAAIoyB,GAAG,IAAIpyB,GAAG,IAAIA,GAAG,CAACoyB,GAAG,CAAC,KAAKnO,SAAS,IAAIjkB,GAAG,CAACoyB,GAAG,CAAC,KAAK,IAAI,EAAE;QAC3DslB,GAAG,IAAI,GAAIA,GAAG,GAAG,GAAG,GAAG,EAAG,GAAGtlB,GAAG,IAAIgF,kBAAkB,CAACp3B,GAAG,CAACoyB,GAAG,CAAC,CAAC,EAAE;;;;EAI9E,OAAOslB,GAAG;AACd;;;;;;;;;;;;;;;;;;;ACdgC;AACa;AAE7C,IAAIG,MAAc;AAElB;;;;;;AAMM,SAAUC,UAAUA,CACtBC,KAAe,EACf55C,QAAA,GAAmB,CAAC,GAAG,EAAE,GAAG,IAAI;EAEhC,IAAI45C,KAAK,CAACC,SAAS,EAAE;IACjB,IAAIH,MAAM,EAAEI,aAAa,CAACJ,MAAM,CAAC;IACjCA,MAAM,GAAQK,WAAW,CAAC,MAAK;MAC3BP,6CAAG,CAAC,OAAO,EAAE,yBAAyB,CAAC;MACvCQ,cAAc,CAACJ,KAAK,CAAC;IACzB,CAAC,EAAE55C,QAAQ,CAAC;;AAEpB;AAEM,SAAUi6C,eAAeA,CAAA;EAC3B,IAAIP,MAAM,EAAEI,aAAa,CAACJ,MAAM,CAAC;AACrC;AAEA;;;;AAAA,SAIeM,cAAcA,CAAA3jC,EAAA;EAAA,OAAA6jC,eAAA,CAAA5jC,KAAA,OAAAC,SAAA;AAAA;AAAA,SAAA2jC,gBAAA;EAAAA,eAAA,GAAAzkC,wJAAA,CAA7B,WAA8BmkC,KAAe;IACzC,IAAIA,KAAK,CAACC,SAAS,WAAUD,KAAK,CAACO,cAAc,EAAE,GAAE;MACjDX,6CAAG,CAAC,OAAO,EAAE,oCAAoC,CAAC;MAClD,IAAI,QAAOI,KAAK,CAACI,cAAc,EAAE,GAAE;MACnCP,0DAAU,CAAC,+CAA+C,EAAE,SAAS,EAAE,MACnEvvB,QAAQ,CAACkwB,MAAM,EAAE,CACpB;;EAET,CAAC;EAAA,OAAAF,eAAA,CAAA5jC,KAAA,OAAAC,SAAA;AAAA;;;;;;;;;;;;;;;;;ACzCoD;;AAIrD;;;;AAIA,MAGand,YAAY;EAHzB+F,YAAA;IAII;IACU,KAAAm7C,OAAO,GAA+B,EAAE;IAClD;IACU,KAAAC,UAAU,GAA+B,EAAE;IACrD;IACU,KAAAC,cAAc,GAEpB,EAAE;IACN;IACmB,KAAAC,YAAY,GAAG,IAAIrmC,iDAAe,CAAU,KAAK,CAAC;IACrE;IACgB,KAAA+c,WAAW,GAAG,IAAI,CAACspB,YAAY,CAAC74B,YAAY,EAAE;;EAE9D;EACA,IAAW84B,cAAcA,CAAA;IACrB,OAAO,IAAI,CAACD,YAAY,CAAC34B,QAAQ,EAAE;EACvC;EAEO64B,WAAWA,CAAA;IACd,IAAI,CAACC,OAAO,EAAE;EAClB;EAEUA,OAAOA,CAAA;IACb,KAAK,MAAM3mB,GAAG,IAAI,IAAI,CAACqmB,OAAO,EAAE;MAC5B,IAAIrmB,GAAG,IAAI,IAAI,CAACqmB,OAAO,EAAE;QACrB,IAAI,CAAC3wC,YAAY,CAACsqB,GAAG,CAAC;;;IAG9B,KAAK,MAAMA,GAAG,IAAI,IAAI,CAACsmB,UAAU,EAAE;MAC/B,IAAItmB,GAAG,IAAI,IAAI,CAACsmB,UAAU,EAAE;QACxB,IAAI,CAACT,aAAa,CAAC7lB,GAAG,CAAC;;;IAG/B,KAAK,MAAMA,GAAG,IAAI,IAAI,CAACumB,cAAc,EAAE;MACnC,IAAIvmB,GAAG,IAAI,IAAI,CAACumB,cAAc,EAAE;QAC5B,IAAI,CAACK,KAAK,CAAC5mB,GAAG,CAAC;;;EAG3B;EAEA;;;;;;EAMU5zB,OAAOA,CAACrB,IAAY,EAAEwc,EAAc,EAAEs/B,KAAA,GAAgB,GAAG;IAC/D,IAAI97C,IAAI,IAAIwc,EAAE,IAAIA,EAAE,YAAYu/B,QAAQ,EAAE;MACtC,IAAI,CAACpxC,YAAY,CAAC3K,IAAI,CAAC;MACvB,IAAI,CAACs7C,OAAO,CAACt7C,IAAI,CAAC,GAAQg8C,UAAU,CAAC,MAAK;QACtCx/B,EAAE,EAAE;QACJ,OAAO,IAAI,CAAC8+B,OAAO,CAACt7C,IAAI,CAAC;MAC7B,CAAC,EAAE87C,KAAK,CAAC;KACZ,MAAM;MACH,MAAM,IAAIG,KAAK,CACXj8C,IAAI,GACE,4CAA4C,GAC5C,4CAA4C,CACrD;;EAET;EAEA;;;;EAIU2K,YAAYA,CAAC3K,IAAY;IAC/B,IAAI,IAAI,CAACs7C,OAAO,CAACt7C,IAAI,CAAC,EAAE;MACpB2K,YAAY,CAAC,IAAI,CAAC2wC,OAAO,CAACt7C,IAAI,CAAC,CAAC;MAChC,OAAO,IAAI,CAACs7C,OAAO,CAACt7C,IAAI,CAAC;;EAEjC;EAEA;;;;;;EAMUgB,QAAQA,CAAChB,IAAY,EAAEwc,EAAc,EAAEs/B,KAAA,GAAgB,GAAG;IAChE,IAAI97C,IAAI,IAAIwc,EAAE,IAAIA,EAAE,YAAYu/B,QAAQ,EAAE;MACtC,IAAI,CAACjB,aAAa,CAAC96C,IAAI,CAAC;MACxB,IAAI,CAACu7C,UAAU,CAACv7C,IAAI,CAAC,GAAQ+6C,WAAW,CAAC,MAAMv+B,EAAE,EAAE,EAAEs/B,KAAK,CAAC;KAC9D,MAAM;MACH,MAAM,IAAIG,KAAK,CACXj8C,IAAI,GACE,6CAA6C,GAC7C,6CAA6C,CACtD;;EAET;EAEA;;;;EAIU86C,aAAaA,CAAC96C,IAAY;IAChC,IAAI,IAAI,CAACu7C,UAAU,CAACv7C,IAAI,CAAC,EAAE;MACvB86C,aAAa,CAAC,IAAI,CAACS,UAAU,CAACv7C,IAAI,CAAC,CAAC;MACpC,OAAO,IAAI,CAACu7C,UAAU,CAACv7C,IAAI,CAAC;;EAEpC;EAEA;;;;;EAKU8rB,YAAYA,CAAC9rB,IAAY,EAAE67C,KAA4B;IAC7D,IAAI,CAACA,KAAK,CAAC77C,IAAI,CAAC;IAChB,IAAI,CAACw7C,cAAc,CAACx7C,IAAI,CAAC,GAAG67C,KAAK;EACrC;EAEUK,eAAeA,CAACl8C,IAAY;IAClC,OACI,IAAI,CAACw7C,cAAc,CAACx7C,IAAI,CAAC,YAAYq7C,8CAAY,IACjD,CAAC,CAAC,IAAI,CAACG,cAAc,CAACx7C,IAAI,CAAC;EAEnC;EAEA;;;;EAIU67C,KAAKA,CAAC77C,IAAY;IACxB,IAAIA,IAAI,IAAI,IAAI,CAACw7C,cAAc,EAAE;MAC7B,IAAI,IAAI,CAACA,cAAc,CAACx7C,IAAI,CAAC,YAAYq7C,8CAAY,EAAE;QAClD,IAAI,CAACG,cAAc,CAACx7C,IAAI,CAAS,CAACm8C,WAAW,EAAE;OACnD,MAAM,IAAI,IAAI,CAACX,cAAc,CAACx7C,IAAI,CAAC,EAAE;QACjC,IAAI,CAACw7C,cAAc,CAACx7C,IAAI,CAAS,EAAE;;MAExC,OAAO,IAAI,CAACw7C,cAAc,CAACx7C,IAAI,CAAC;;EAExC;EAEA;EACUo8C,SAASA,CAACC,QAAgB;IAChC,MAAMC,IAAI,GAAG/xC,MAAM,CAACq0B,IAAI,CAAC,IAAI,CAAC4c,cAAc,CAAC,CAACj5C,MAAM,CAAEg6C,CAAC,IACnDA,CAAC,CAAC10C,QAAQ,CAACw0C,QAAQ,CAAC,CACvB;IACD,KAAK,MAAMpnB,GAAG,IAAIqnB,IAAI,EAAE;MACpB,IAAI,CAACT,KAAK,CAAC5mB,GAAG,CAAC;;EAEvB;;AAhJS76B,YAAY;mBAAZA,YAAY;AAAA;AAAZA,YAAY;SAAZA,YAAY;EAAA0pB,OAAA,EAAZ1pB,YAAY,CAAA2pB,IAAA;EAAAC,UAAA,EAFT;AAAM;;;;;;;;;;;;;;;;;;;;;;ACTwB;AACR;AACe;AAClB;AAoBnC,SAASy4B,SAASA,CAACr8C,IAAmB;EAClC,MAAMs8C,QAAQ,GAAGF,kEAAe,CAACp8C,IAAI,EAAE,KAAK,CAAC;EAC7C,OAAO,GAAG+B,oDAAM,CAACu6C,QAAQ,EAAE,UAAU,CAAC,IAAIv6C,oDAAM,CAACu6C,QAAQ,EAAE,QAAQ,CAAC,GAAG;AAC3E;AAEA,SAASC,YAAYA,CAACv8C,IAAmB;EACrC,OAAO,GAAG+B,oDAAM,CAAC/B,IAAI,EAAE,UAAU,CAAC,EAAE;AACxC;AAEM,SAAUw1B,wBAAwBA,CAAC9yB,KAAe;EACpD,MAAM85C,MAAM,GAAoB,EAAE;EAClC,MAAMtzC,WAAW,GAAGuzC,iBAAiB,CAAC,GAAG/5C,KAAK,CAACslB,IAAI,EAAE,CAAC;EACtD,MAAM8C,QAAQ,GAAG2xB,iBAAiB,CAAC,GAAG/5C,KAAK,CAACooB,QAAQ,EAAE,CAAC;EACvD0xB,MAAM,CAAC36C,IAAI,CAAC,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;EACnC26C,MAAM,CAAC36C,IAAI,CAAC,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;EAC/B26C,MAAM,CAAC36C,IAAI,CAAC,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;EAChC26C,MAAM,CAAC36C,IAAI,CAAC,CAAC,KAAK,EAAE,GAAGa,KAAK,CAACg6C,WAAW,EAAE,CAAC,CAAC;EAC5CF,MAAM,CAAC36C,IAAI,CAAC,CAAC,SAAS,EAAE,GAAG,IAAIgU,IAAI,CAACnT,KAAK,CAAC1C,IAAI,CAAC,CAAC28C,WAAW,EAAE,EAAE,CAAC,CAAC;EACjEH,MAAM,CAAC36C,IAAI,CAAC,CACR,OAAO,EACP,GAAGqgB,oDAAU,CAACxf,KAAK,CAAC1C,IAAI,EAAE0C,KAAK,CAAC3D,QAAQ,IAAI,EAAE,CAAC,CAAC49C,WAAW,EAAE,EAAE,CAClE,CAAC;EACFH,MAAM,CAAC36C,IAAI,CAAC,CAAC,SAAS,EAAE,GAAGa,KAAK,CAACqN,KAAK,EAAE,CAAC,CAAC;EAC1CysC,MAAM,CAAC36C,IAAI,CAAC,CAAC,aAAa,EAAEqH,WAAW,CAAC,CAAC;EACzCszC,MAAM,CAAC36C,IAAI,CAAC,CAAC,UAAU,EAAEipB,QAAQ,CAAC,CAAC;EACnC,MAAMpB,IAAI,GACNhnB,KAAK,CAAC5H,SAAS,EAAE8E,IAAI,IACrB8C,KAAK,CAACgnB,IAAI,EAAEzmB,KAAK,CAAC,GAAG,CAAC,IACtBP,KAAK,CAAC6uB,SAAS,IACf,MAAM;EACVirB,MAAM,CAAC36C,IAAI,CAAC,CACR,WAAW,EACX,MAAM6nB,IAAI,WAAWhnB,KAAK,CAACgnB,IAAI,IAAIhnB,KAAK,CAAC0nB,UAAU,EAAE,CACxD,CAAC;EACF,MAAMwyB,QAAQ,GAAGJ,MAAM,CAClB/5C,GAAG,CAAC,CAAC,CAACoyB,GAAG,EAAExkB,KAAK,CAAC,KAAK,GAAGwkB,GAAG,IAAIgF,kBAAkB,CAACxpB,KAAK,CAAC,EAAE,CAAC,CAC5DqQ,IAAI,CAAC,IAAI,CAAC;EACf,OAAO,mCAAmCk8B,QAAQ,EAAE;AACxD;AAEM,SAAUnnB,0BAA0BA,CAAC/yB,KAAe;EACtD,MAAMm6C,GAAG,GAAGn6C,KAAK,CAACwpB,OAAO,GAAGqwB,YAAY,GAAGF,SAAS;EACpD,MAAMjoC,OAAO,GAAQ;IACjBmwB,MAAM,EAAE,UAAU;IAClBjlC,IAAI,EAAEoD,KAAK,CAACqN,KAAK;IACjBqE,OAAO,EAAE1R,KAAK,CAACslB,IAAI;IACnB8C,QAAQ,EAAEpoB,KAAK,CAACooB,QAAQ;IACxBgyB,GAAG,EAAE,KAAK;IACVC,KAAK,EAAE,GAAGF,GAAG,CAACn6C,KAAK,CAAC1C,IAAI,CAAC,IAAI68C,GAAG,CAC5B36B,oDAAU,CAACxf,KAAK,CAAC1C,IAAI,EAAE0C,KAAK,CAAC3D,QAAQ,IAAI,EAAE,CAAC,CAC/C;GACJ;EACD,MAAMi+C,MAAM,GAAG,CAACt6C,KAAK,CAACsV,SAAS,IAAI,EAAE,EAAEvV,GAAG,CAAE8X,CAAM,IAAKA,CAAC,CAAC3D,KAAK,IAAI2D,CAAC,CAAC;EACpE,MAAMuW,SAAS,GAAG,CACd,CAACpuB,KAAK,CAACouB,SAAS,EAAEltB,MAAM,GAAGlB,KAAK,CAACouB,SAAS,GAAG,IAAI,KAAK,CAACpuB,KAAK,CAAC82B,MAAM,CAAC,EACtE/2B,GAAG,CAAE8X,CAAM,IAAKA,CAAC,EAAE3D,KAAK,IAAI2D,CAAC,CAAC;EAChC,IAAIyiC,MAAM,CAACp5C,MAAM,IAAIktB,SAAS,CAACltB,MAAM,EACjCwQ,OAAO,CAACrT,GAAG,GAAGguB,gDAAM,CAAC,CAAC,GAAGiuB,MAAM,EAAE,GAAGlsB,SAAS,CAAC,CAAC,CAACpQ,IAAI,EAAE;EAC1D,OAAO,+CAA+CuF,mDAAa,CAC/D7R,OAAO,CACV,EAAE;AACP;AAEM,SAAUshB,6BAA6BA,CACzChzB,KAAe,EACfmG,IAAA,GAA6B,SAAS;EAEtC,IAAI,CAACnG,KAAK,CAAC1C,IAAI,EAAE0C,KAAK,CAAC1C,IAAI,GAAG6V,IAAI,CAAChV,GAAG,EAAE;EACxC,MAAM4X,IAAI,GAAQ;IACdtiB,IAAI,EAAE,0BAA0B;IAChC8mD,GAAG,EAAE,UAAU;IACfC,OAAO,EAAE,IAAIrnC,IAAI,CAACnT,KAAK,CAAC1C,IAAI,CAAC,CAAC28C,WAAW,EAAE;IAC3CQ,KAAK,EAAEj7B,oDAAU,CAACxf,KAAK,CAAC1C,IAAI,EAAE0C,KAAK,CAAC3D,QAAQ,IAAI,EAAE,CAAC,CAAC49C,WAAW,EAAE;IACjES,OAAO,EAAE16C,KAAK,CAACqN,KAAK;IACpBiY,IAAI,EAAEtlB,KAAK,CAACslB,IAAI;IAChB8C,QAAQ,EAAEpoB,KAAK,CAACooB,QAAQ;IACxBuyB,MAAM,EAAE36C,KAAK,CAACwpB,OAAO,IAAI;GAC5B;EACD,MAAM8wB,MAAM,GAAG,CAACt6C,KAAK,CAACsV,SAAS,IAAI,EAAE,EAAEvV,GAAG,CAAE8X,CAAM,IAAKA,CAAC,CAAC3D,KAAK,IAAI2D,CAAC,CAAC;EACpE,MAAMuW,SAAS,GAAG,CACd,CAACpuB,KAAK,CAACouB,SAAS,EAAEltB,MAAM,GAAGlB,KAAK,CAACouB,SAAS,GAAG,IAAI,KAAK,CAACpuB,KAAK,CAAC82B,MAAM,CAAC,EACtE/2B,GAAG,CAAE8X,CAAM,IAAKA,CAAC,EAAE3D,KAAK,IAAI2D,CAAC,CAAC;EAChC,IAAIyiC,MAAM,CAACp5C,MAAM,IAAIktB,SAAS,CAACltB,MAAM,EACjC6U,IAAI,CAAC6kC,EAAE,GAAGvuB,gDAAM,CAAC,CAAC,GAAGiuB,MAAM,EAAE,GAAGlsB,SAAS,CAAC,CAAC,CAACpQ,IAAI,EAAE;EACtD,OAAO7X,IAAI,KAAK,QAAQ,GAClB,0DAA0Dod,mDAAa,CACnExN,IAAI,CACP,EAAE,GACH,wDAAwDwN,mDAAa,CACjExN,IAAI,CACP,EAAE;AACb;AAEA,SAASgkC,iBAAiBA,CAACtC,GAAW;EAClC,OAAOA,GAAG,CACLx3B,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CACnBA,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CACnBA,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,CACvBA,OAAO,CAAC,MAAM,EAAE,KAAK,CAAC,CACtBA,OAAO,CAAC,gBAAgB,EAAE,KAAK,CAAC;AACzC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5HqE;AACD;AACjB;AACE;AACJ;AACb;AAEC;AACf;AACQ;AACD;AACH;AACM;AACN;AACqB;AACpB;AACH;AACK;AACE;;;;;;;;;;;;;;;;;;;;;;;ACjBmB;AACX;AAEW;AACU;;;;;AAEtD,MAAgBg7B,kBAAkB;AAIxC,MAGaC,qBAAqB;EAC9B79C,YACY2O,OAAe,EACfvG,SAA0B,EAC1BwG,IAAyB;IAFzB,KAAAD,OAAO,GAAPA,OAAO;IACP,KAAAvG,SAAS,GAATA,SAAS;IACT,KAAAwG,IAAI,GAAJA,IAAI;EACb;EAEUtY,WAAWA,CAAA;IAAA,IAAA+f,KAAA;IAAA,OAAAC,wJAAA;MACpB,OAAOD,KAAI,CAACynC,YAAY,EAAE;IAAC;EAC/B;EAEavnD,OAAOA,CAAA;IAAA,IAAAg9B,MAAA;IAAA,OAAAjd,wJAAA;MAChB,OAAOid,MAAI,CAACuqB,YAAY,EAAE;IAAC;EAC/B;EAEcA,YAAYA,CAAA;IAAA,IAAA1pB,MAAA;IAAA,OAAA9d,wJAAA;MACtB,MAAM8d,MAAI,CAACxlB,IAAI,CAACojB,WAAW,CAAC9b,IAAI,CAACqZ,qDAAK,CAAE/U,CAAC,IAAKA,CAAC,CAAC,CAAC,CAACzD,SAAS,EAAE;MAC7D,MAAMqd,MAAI,CAAChsB,SAAS,CAAC4pB,WAAW,CAAC9b,IAAI,CAACqZ,qDAAK,CAAE/U,CAAC,IAAKA,CAAC,CAAC,CAAC,CAACzD,SAAS,EAAE;MAClE,MAAM1b,QAAQ,GAAG+4B,MAAI,CAAChsB,SAAS,CAACC,GAAG,CAAC,uBAAuB,CAAC,IAAI,EAAE;MAClE,MAAM01C,YAAY,GAAG,CAAC1iD,QAAQ,CAACyH,IAAI,CAAE0X,CAAC,IAClC4Z,MAAI,CAACzlB,OAAO,CAACD,GAAG,CAAChH,QAAQ,CAAC8S,CAAC,CAAC,CAC/B;MACD,IAAI,CAACujC,YAAY,EAAE;QACf3pB,MAAI,CAACzlB,OAAO,CAACuK,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;;MAEhC,OAAO,CAAC,CAAC6kC,YAAY;IAAC;EAC1B;;AA1BSF,qBAAqB;mBAArBA,qBAAqB,EAAA3jD,sDAAA,CAAAzC,mDAAA,GAAAyC,sDAAA,CAAAH,4DAAA,GAAAG,sDAAA,CAAAiV,sEAAA;AAAA;AAArB0uC,qBAAqB;SAArBA,qBAAqB;EAAAl6B,OAAA,EAArBk6B,qBAAqB,CAAAj6B,IAAA;EAAAC,UAAA,EAFlB;AAAM;;;;;;;;;;;;;;;;ACXY;AAI5B,SAAUm6B,gBAAgBA,CAAC3pC,OAA0B;EACvD,IAAIR,OAAO,GAAWQ,OAAO,CAACR,OAAO,IAAI,EAAE;EAC3CA,OAAO,GAAGA,OAAO,CAACoqC,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,EAAE,GAAGrqC,OAAO,CAACwJ,KAAK,CAAC,CAAC,CAAC;EAC5D,OAAOxJ,OAAO,GAAG,GAAGA,OAAO,UAAU7R,oDAAM,CAAC,IAAI8T,IAAI,CAACzB,OAAO,CAAC3T,GAAG,CAAC,EAAE,aAAa,CAAC,EAAE,GAAG,iBAAiB;AAC3G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACT2C;AAEJ;AAKsB;AAa7D,IAAI29C,SAAS,GAAG,KAAK;AAEf,SAAUC,UAAUA,CAACz+C,IAAY;EACnCw+C,SAAS,GAAGx+C,IAAI;AACpB;AAEA;;;;;;;;AAQM,SAAUw6C,GAAGA,CACfvxC,IAAY,EACZy1C,GAAW,EACXC,IAAU,EACVC,MAAA,GAAwB,OAAO,EAC/BzrB,KAAA,GAAiB,KAAK,EACtB0rB,QAAA,GAAmBL,SAAS;EAE5B,IAAIM,MAAM,CAACC,IAAI,EAAE;EACjB,IAAID,MAAM,CAACE,KAAK,IAAI7rB,KAAK,EAAE;IACvB,MAAM8rB,MAAM,GAAa,CACrB,gBAAgB,EAChB,gBAAgB,EAChB,gBAAgB,CACnB;IACD,IAAIN,IAAI,EAAE;MACN9kC,OAAO,CAAC+kC,MAAM,CAAC,CACX,MAAMC,QAAQ,OAAO51C,IAAI,OAAOy1C,GAAG,EAAE,EACrC,GAAGO,MAAM,EACTN,IAAI,CACP;KACJ,MAAM;MACH9kC,OAAO,CAAC+kC,MAAM,CAAC,CAAC,MAAMC,QAAQ,OAAO51C,IAAI,OAAOy1C,GAAG,EAAE,EAAE,GAAGO,MAAM,CAAC;;;AAG7E;AAEA;;;;;AAKM,SAAUC,eAAeA,CAACtgB,IAAc,EAAE/7B,GAAY;EACxD,MAAMoyB,GAAG,GAAG2J,IAAI,CAAC,CAAC,CAAC;EACnB,IAAI/7B,GAAG,IAAIoyB,GAAG,IAAIpyB,GAAG,EAAE;IACnB,OAAO+7B,IAAI,CAAC56B,MAAM,GAAG,CAAC,GAChBk7C,eAAe,CAACtgB,IAAI,CAACphB,KAAK,CAAC,CAAC,CAAC,EAAE3a,GAAG,CAACoyB,GAAG,CAAC,IAAI,EAAE,CAAC,GAC9CpyB,GAAG,CAACoyB,GAAG,CAAC;;EAElB,OAAO,IAAI;AACf;AAEA;;;;;AAKM,SAAU9F,MAAMA,CAAUgwB,KAAA,GAAa,EAAE,EAAElqB,GAAA,GAAc,EAAE;EAC7D,MAAM2J,IAAI,GAAG,EAAE;EACf,OAAOugB,KAAK,CAAC58C,MAAM,CAAE68C,EAAE,IAAI;IACvB,MAAMl9C,EAAE,GAAG+yB,GAAG,GAAGmqB,EAAE,CAACnqB,GAAG,CAAC,GAAGmqB,EAAE;IAC7B,MAAMC,MAAM,GAAGzgB,IAAI,CAAC/2B,QAAQ,CAAC3F,EAAE,CAAC;IAChC,IAAI,CAACm9C,MAAM,EAAEzgB,IAAI,CAAC38B,IAAI,CAACC,EAAE,CAAC;IAC1B,OAAO,CAACm9C,MAAM;EAClB,CAAC,CAAC;AACN;AAEA;;;;;AAKM,SAAU1F,SAASA,CAAC10C,IAAY,EAAEzD,KAAA,GAAgB,CAAC;EACrD,OAAOD,IAAI,CAACC,KAAK,CAACD,IAAI,CAAC+9C,MAAM,EAAE,IAAIr6C,IAAI,GAAGzD,KAAK,CAAC,CAAC,GAAGA,KAAK;AAC7D;AAEA;;;;;AAKM,SAAU+9C,SAASA,CAAChF,GAAoB,EAAEv2C,MAAA,GAAiB,CAAC;EAC9Du2C,GAAG,GAAG,GAAGA,GAAG,EAAE;EACd,OAAOA,GAAG,CAACv2C,MAAM,GAAGA,MAAM,EAAEu2C,GAAG,GAAG,IAAIA,GAAG,EAAE;EAC3C,OAAOA,GAAG;AACd;AAEA;;;;;AAKM,SAAU/S,YAAYA,CACxBxjC,MAAc,EACdw7C,KAAA,GAAgB,+DAA+D;EAE/E,IAAIjF,GAAG,GAAG,EAAE;EACZ,KAAK,IAAI/3C,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGwB,MAAM,EAAExB,CAAC,EAAE,EAAE;IAC7B+3C,GAAG,IAAIiF,KAAK,CAAC7F,SAAS,CAAC6F,KAAK,CAACx7C,MAAM,CAAC,CAAC;;EAEzC,OAAOu2C,GAAG;AACd;AAQO,SAAerrB,gBAAgBA,CAAA7X,EAAA,EAAAmS,GAAA;EAAA,OAAAi2B,iBAAA,CAAAnoC,KAAA,OAAAC,SAAA;AAAA;AAuBtC;;;;AAAA,SAAAkoC,kBAAA;EAAAA,iBAAA,GAAAhpC,wJAAA,CAvBO,WACHoC,IAAsB,EACtB6mC,MAAiB;IAEjB,MAAMviC,GAAG,GAAGuiC,MAAM,CAACtiC,IAAI,CACnBkhC,8FAAqB,EACrB;MACI,GAAGC,yFAAgB;MACnB1lC;KACH,CACJ;IACD,OAAO;MACH,UAAUhC,OAAO,CAACme,IAAI,CAAC,CACnB7X,GAAG,CAACG,iBAAiB,CAACxa,KAAK,CACtBuT,IAAI,CAACqZ,qDAAK,CAAE/U,CAAC,IAAKA,CAAC,CAAC9F,MAAM,KAAK,MAAM,CAAC,CAAC,CACvCqC,SAAS,EAAE,EAChBiG,GAAG,CAACE,WAAW,EAAE,CAACnG,SAAS,EAAE,CAChC,CAAC,CAAC;MACHhN,OAAO,EAAGI,CAAC,IAAM6S,GAAG,CAACG,iBAAiB,CAACpT,OAAO,GAAGI,CAAE;MACnD4T,KAAK,EAAEA,CAAA,KAAMf,GAAG,CAACe,KAAK;KACzB;EACL,CAAC;EAAA,OAAAuhC,iBAAA,CAAAnoC,KAAA,OAAAC,SAAA;AAAA;AAMK,SAAUooC,SAASA,CAACC,GAAW,EAAEC,SAAA,GAAoB,GAAG;EAC1D,MAAMC,UAAU,GAAG,IAAIC,MAAM,CACzB,8DAA8D,EAC9D,IAAI,CACP;EACD,IAAIC,UAAU,GAAG,IAAI;EACrB,MAAMC,OAAO,GAAG,CAAC,EAAE,CAAC;EACpB,OAAQD,UAAU,GAAGF,UAAU,CAACI,IAAI,CAACN,GAAG,CAAC,EAAG;IACxC,IAAII,UAAU,CAAC,CAAC,CAAC,CAACh8C,MAAM,IAAIg8C,UAAU,CAAC,CAAC,CAAC,KAAK,GAAG,EAAEC,OAAO,CAACh+C,IAAI,CAAC,EAAE,CAAC;IACnEg+C,OAAO,CAACA,OAAO,CAACj8C,MAAM,GAAG,CAAC,CAAC,CAAC/B,IAAI,CAC5B+9C,UAAU,CAAC,CAAC,CAAC,GACPA,UAAU,CAAC,CAAC,CAAC,CAACj9B,OAAO,CAAC,IAAIg9B,MAAM,CAAC,IAAI,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,GACjDC,UAAU,CAAC,CAAC,CAAC,CACtB;;EAEL,MAAMG,OAAO,GAAaF,OAAO,CAACztB,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EACjD,MAAM4tB,QAAQ,GAAGH,OAAO,CAACp9C,GAAG,CAAEw9C,GAAG,IAAI;IACjC,MAAMxnB,OAAO,GAAG,EAAE;IAClB,KAAK,IAAIr2B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG69C,GAAG,CAACr8C,MAAM,EAAExB,CAAC,EAAE,EAAE;MACjC,MAAMyyB,GAAG,GAAG,CAACkrB,OAAO,CAAC39C,CAAC,CAAC,IAAI,EAAE,EAAEa,KAAK,CAAC,GAAG,CAAC,CAACyd,IAAI,CAAC,GAAG,CAAC,CAAC4C,WAAW,EAAE;MACjE,IAAI;QACAmV,OAAO,CAAC5D,GAAG,CAAC,GAAGnE,IAAI,CAACC,KAAK,CAACsvB,GAAG,CAAC79C,CAAC,CAAC,CAACugB,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;OACtD,CAAC,OAAOpf,CAAC,EAAE;QACRk1B,OAAO,CAAC5D,GAAG,CAAC,GAAGorB,GAAG,CAAC79C,CAAC,CAAC,IAAI,EAAE;;MAE/B,IAAIq2B,OAAO,CAAC5D,GAAG,CAAC,KAAK,MAAM,IAAI4D,OAAO,CAAC5D,GAAG,CAAC,KAAK,OAAO,EACnD4D,OAAO,CAAC5D,GAAG,CAAC,GAAG4D,OAAO,CAAC5D,GAAG,CAAC,KAAK,MAAM;;IAE9C,OAAO4D,OAAO;EAClB,CAAC,CAAC;EACF,OAAOunB,QAAQ;AACnB;AAEM,SAAUE,0BAA0BA,CAACx9C,KAAiB;EACxD,OAAO,IAAI+T,OAAO,CAAS,CAAC0pC,OAAO,EAAEC,MAAM,KAAI;IAC3C;IACA,IAAI19C,KAAK,CAAC29C,MAAM,EAAE;MACd,MAAM5nB,OAAO,GAAG/1B,KAAK,CAAC29C,MAA0B;MAChD,MAAMC,IAAI,GAAG7nB,OAAO,CAAC8nB,KAAK,CAAC,CAAC,CAAC;MAC7B;MACA,IAAID,IAAI,EAAE;QACN,MAAME,MAAM,GAAG,IAAIC,UAAU,EAAE;QAC/BD,MAAM,CAACE,UAAU,CAACJ,IAAI,EAAE,OAAO,CAAC;QAChCE,MAAM,CAACG,gBAAgB,CAAC,MAAM,EAAGC,GAAG,IAAI;UACpCT,OAAO,CAAES,GAAG,CAACC,UAAkB,CAACrqC,MAAM,CAAC;UACvCiiB,OAAO,CAACpoB,KAAK,GAAG,EAAE;QACtB,CAAC,CAAC;QACFmwC,MAAM,CAACG,gBAAgB,CAAC,OAAO,EAAGpmC,CAAC,IAAI;UACnC,IAAI,CAACzQ,OAAO,GAAG,EAAE;UACjBs2C,MAAM,CAAC,CAAC,oBAAoB,EAAE7lC,CAAC,CAAC,CAAC;QACrC,CAAC,CAAC;;;EAGd,CAAC,CAAC;AACN;AAEA;;;;AAIM,SAAUumC,SAASA,CAACC,IAAe;EACrC,IAAIA,IAAI,YAAY9vB,KAAK,IAAI8vB,IAAI,CAACn9C,MAAM,GAAG,CAAC,EAAE;IAC1C,MAAM46B,IAAI,GAAGr0B,MAAM,CAACq0B,IAAI,CAACuiB,IAAI,CAAC,CAAC,CAAC,CAAC;IACjC,MAAMC,UAAU,GAAGxiB,IAAI,CAACr8B,MAAM,CAAE0yB,GAAG,IAAKA,GAAG,IAAIksB,IAAI,CAAC,CAAC,CAAC,CAAC;IACvD,OAAO,GAAGC,UAAU,CAACtgC,IAAI,CAAC,GAAG,CAAC,KAAKqgC,IAAI,CAClCt+C,GAAG,CAAE4V,IAAI,IACN2oC,UAAU,CACLv+C,GAAG,CAAEoyB,GAAG,IAAKnE,IAAI,CAACgC,SAAS,CAACra,IAAI,CAACwc,GAAG,CAAC,CAAC,CAAClS,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CACzDjC,IAAI,CAAC,GAAG,CAAC,CACjB,CACAA,IAAI,CAAC,IAAI,CAAC,EAAE;;EAErB,OAAO,EAAE;AACb;AAEA;;;;;AAKM,SAAUugC,YAAYA,CAACC,QAAgB,EAAEC,QAAgB;EAC3D,MAAM1oB,OAAO,GAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;EAC3CF,OAAO,CAAC2oB,YAAY,CAChB,MAAM,EACN,gCAAgC,GAAGvnB,kBAAkB,CAACsnB,QAAQ,CAAC,CAClE;EACD1oB,OAAO,CAAC2oB,YAAY,CAAC,UAAU,EAAEF,QAAQ,CAAC;EAE1CzoB,OAAO,CAACG,KAAK,CAAC52B,OAAO,GAAG,MAAM;EAC9B02B,QAAQ,CAAC1Q,IAAI,CAAC8Q,WAAW,CAACL,OAAO,CAAC;EAElCA,OAAO,CAAC4oB,KAAK,EAAE;EAEf3oB,QAAQ,CAAC1Q,IAAI,CAACsR,WAAW,CAACb,OAAO,CAAC;AACtC;AAEM,SAAU6oB,QAAQA,CAACC,KAAa;EAClC,MAAMC,SAAS,GAAGD,KAAK,CAACt+C,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EACrC,MAAMw+C,MAAM,GAAGD,SAAS,CAAC7+B,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAACA,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC;EAC9D,MAAM++B,WAAW,GAAGC,kBAAkB,CAClCC,IAAI,CAACH,MAAM,CAAC,CACPx+C,KAAK,CAAC,EAAE,CAAC,CACTR,GAAG,CAAE01C,CAAC,IAAI;IACP,OAAO,GAAG,GAAG,CAAC,IAAI,GAAGA,CAAC,CAAC0J,UAAU,CAAC,CAAC,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC,EAAE1kC,KAAK,CAAC,CAAC,CAAC,CAAC;EAChE,CAAC,CAAC,CACDsD,IAAI,CAAC,EAAE,CAAC,CAChB;EACD,OAAOgQ,IAAI,CAACC,KAAK,CAAC+wB,WAAW,CAAC;AAClC;AAEA;AACA;;;;AAIM,SAAUj9B,OAAOA,CAAUs9B,QAAe;EAC5C,MAAMC,KAAK,GAAG,CAAC,GAAGD,QAAQ,CAAC;EAC3B,MAAM5rC,GAAG,GAAG,EAAE;EACd,OAAO6rC,KAAK,CAACp+C,MAAM,EAAE;IACjB;IACA,MAAM0T,IAAI,GAAG0qC,KAAK,CAACnwB,GAAG,EAAE;IACxB,IAAIZ,KAAK,CAACgxB,OAAO,CAAC3qC,IAAI,CAAC,EAAE;MACrB;MACA0qC,KAAK,CAACngD,IAAI,CAAC,GAAGyV,IAAI,CAAC;KACtB,MAAM;MACHnB,GAAG,CAACtU,IAAI,CAACyV,IAAI,CAAC;;;EAGtB;EACA,OAAOnB,GAAG,CAAC+rC,OAAO,EAAE;AACxB;AAEA;;;;;;;AAOM,SAAUC,oBAAoBA,CAACC,MAAM,EAAEC,IAAI,EAAEC,MAAM,EAAEC,IAAI;EAC3D,OACKH,MAAM,IAAIE,MAAM,IAAIF,MAAM,GAAGG,IAAI,IACjCF,IAAI,GAAGC,MAAM,IAAID,IAAI,GAAGE,IAAK,IAC7BD,MAAM,IAAIF,MAAM,IAAIE,MAAM,GAAGD,IAAK,IAClCE,IAAI,GAAGH,MAAM,IAAIG,IAAI,IAAIF,IAAK;AAEvC;AAEA,MAAMG,IAAI,GAAGC,KAAK,CAAC,SAAS,CAAC;AAC7B,MAAMC,IAAI,GAAGC,KAAK,CAAC,UAAU,EAAE,UAAU,EAAE,UAAU,EAAEH,IAAI,EAAE,CAAC;AAExD,SAAUI,oBAAoBA,CAAC/9C,IAAA,GAAe,GAAG,EAAEzD,KAAA,GAAgB,CAAC;EACtE,OAAOD,IAAI,CAACC,KAAK,CAACshD,IAAI,EAAE,IAAI79C,IAAI,GAAGzD,KAAK,CAAC,CAAC,GAAGA,KAAK;AACtD;AAEA;AACA,SAASqhD,KAAKA,CAACtI,GAAG;EACd,IAAI0I,CAAC,GAAG,UAAU,GAAG1I,GAAG,CAACv2C,MAAM;EAC/B,KAAK,IAAIxB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG+3C,GAAG,CAACv2C,MAAM,EAAExB,CAAC,EAAE,EAC9BygD,CAAC,GAAG1hD,IAAI,CAAC2hD,IAAI,CAACD,CAAC,GAAG1I,GAAG,CAAC0H,UAAU,CAACz/C,CAAC,CAAC,EAAE,UAAU,CAAC,EAC5CygD,CAAC,GAAIA,CAAC,IAAI,EAAE,GAAKA,CAAC,KAAK,EAAI;EACpC,OAAO;IACHA,CAAC,GAAG1hD,IAAI,CAAC2hD,IAAI,CAACD,CAAC,GAAIA,CAAC,KAAK,EAAG,EAAE,UAAU,CAAC;IACzCA,CAAC,GAAG1hD,IAAI,CAAC2hD,IAAI,CAACD,CAAC,GAAIA,CAAC,KAAK,EAAG,EAAE,UAAU,CAAC;IACzC,OAAO,CAACA,CAAC,IAAIA,CAAC,KAAK,EAAE,MAAM,CAAC;EAChC,CAAC;AACL;AAEA,SAASF,KAAKA,CAACv/B,CAAC,EAAEnU,CAAC,EAAEkpC,CAAC,EAAEljB,CAAC;EACrB,OAAO;IACH7R,CAAC,MAAM,CAAC;IACRnU,CAAC,MAAM,CAAC;IACRkpC,CAAC,MAAM,CAAC;IACRljB,CAAC,MAAM,CAAC;IACR,IAAIj6B,CAAC,GAAIooB,CAAC,GAAGnU,CAAC,GAAI,CAAC;IACnBmU,CAAC,GAAGnU,CAAC,GAAIA,CAAC,KAAK,CAAE;IACjBA,CAAC,GAAIkpC,CAAC,IAAIA,CAAC,IAAI,CAAC,CAAC,GAAI,CAAC;IACtBA,CAAC,GAAIA,CAAC,IAAI,EAAE,GAAKA,CAAC,KAAK,EAAG;IAC1BljB,CAAC,GAAIA,CAAC,GAAG,CAAC,GAAI,CAAC;IACfj6B,CAAC,GAAIA,CAAC,GAAGi6B,CAAC,GAAI,CAAC;IACfkjB,CAAC,GAAIA,CAAC,GAAGn9C,CAAC,GAAI,CAAC;IACf,OAAO,CAACA,CAAC,KAAK,CAAC,IAAI,UAAU;EACjC,CAAC;AACL;AAEA;AACM,SAAU+nD,gBAAgBA,CAAA;EAC5B,OAAOC,YAAY,EAAE,GAAG,OAAO,GAAG,QAAQ;AAC9C;AAEA;AACM,SAAUA,YAAYA,CAAA;EACxB,MAAMhjD,IAAI,GAAG,IAAI6V,IAAI,EAAE;EACvB,MAAMotC,YAAY,GAAGjjD,IAAI,CACpBkjD,kBAAkB,CACfxqB,QAAQ,CAACyqB,aAAa,CAAC,MAAM,CAAC,CAACC,YAAY,CAAC,MAAM,CAAC,IAC/CC,SAAS,CAACC,QAAQ,CACzB,CACAhgC,WAAW,EAAE;EAClB,OAAO2/B,YAAY,CAACM,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,IAAIN,YAAY,CAACM,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC;AAC3E;AAEM,SAAU30B,gBAAgBA,CAACh0B,IAAe,EAAE4oD,MAAA,GAAiB,EAAE;EACjE,IAAIC,OAAO,GAAG,EAAE;EAChB,KAAK,MAAM5uB,GAAG,IAAIj6B,IAAI,CAACC,QAAQ,EAAE;IAC7B,IAAID,IAAI,CAACC,QAAQ,CAACg6B,GAAG,CAAC,YAAY96B,qDAAS,EAAE;MACzC0pD,OAAO,GAAG,CACN,GAAGA,OAAO,EACV,GAAG70B,gBAAgB,CAACh0B,IAAI,CAACC,QAAQ,CAACg6B,GAAG,CAAc,EAAE,GAAGA,GAAG,GAAG,CAAC,CAClE;KACJ,MAAM,IAAI,CAACj6B,IAAI,CAACC,QAAQ,CAACg6B,GAAG,CAAC,CAACrgB,KAAK,EAAE;MAClCivC,OAAO,CAAC5hD,IAAI,CAAC,GAAG2hD,MAAM,GAAG3uB,GAAG,EAAE,CAAC;;;EAGvC,OAAO4uB,OAAO;AAClB;AAEM,SAAUztB,iBAAiBA,CAAC0tB,GAAwB;EACtD,KAAK,MAAM7uB,GAAG,IAAI6uB,GAAG,EAAE;IACnB,IAAIA,GAAG,CAAC7uB,GAAG,CAAC,KAAKnO,SAAS,IAAIg9B,GAAG,CAAC7uB,GAAG,CAAC,KAAK,IAAI,IAAI6uB,GAAG,CAAC7uB,GAAG,CAAC,KAAK,EAAE,EAAE;MAChE,OAAO6uB,GAAG,CAAC7uB,GAAG,CAAC;;;AAG3B;AAEM,SAAUkB,qBAAqBA,CAAC4tB,IAAY;EAC9C,OAAO,GAAGA,IAAI,CAAC,CAAC,CAAC,CAAC1F,WAAW,EAAE,GAAG0F,IAAI,CAACC,SAAS,CAAC,CAAC,CAAC,EAAE;AACzD;AAEM,SAAUC,UAAUA,CACtB9E,KAAY,EACZ+E,aAAA,GAAuB,CAACp9B,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC;EAE5C,OAAOq4B,KAAK,CAAC58C,MAAM,CAAEoY,CAAC,IAAK,CAACupC,aAAa,CAACr8C,QAAQ,CAAC8S,CAAC,CAAC,CAAC;AAC1D;;;;;;;;;;;;;;;;;ACzYkD;AAClB;;;AAWhC,MAGagjC,sBAAsB;EAe/Bx9C,YAAoBgQ,KAAY;IAAZ,KAAAA,KAAK,GAALA,KAAK;IAVzB;IACO,KAAAvW,OAAO,GAAG,IAAI;IACrB;IACO,KAAAilD,QAAQ,GAAG,QAAQ;IAI1B;IACQ,KAAAuF,MAAM,GAA+B,EAAE;EAEZ;EAE5BC,IAAIA,CAACC,WAAA,GAAsB,EAAE;IAChC,IAAI,CAACxF,MAAM,CAACyF,IAAI,EAAE;MACdzF,MAAM,CAAC0F,SAAS,GAAG1F,MAAM,CAAC0F,SAAS,IAAI,EAAE;MACzC,CAAC,UAAUC,CAAC,EAAEpvB,CAAC,EAAE/qB,CAAC,EAAEo4B,CAAC,EAAElgC,CAAC;QACpBiiD,CAAC,CAAC/hB,CAAC,CAAC,GAAG+hB,CAAC,CAAC/hB,CAAC,CAAC,IAAI,EAAE;QACjB+hB,CAAC,CAAC/hB,CAAC,CAAC,CAACzgC,IAAI,CAAC;UACN,WAAW,EAAE,IAAIgU,IAAI,EAAE,CAAC4hB,OAAO,EAAE;UACjC/0B,KAAK,EAAE;SACV,CAAC;QACF,IAAIw9B,CAAC,GAAGjL,CAAC,CAACqvB,oBAAoB,CAACp6C,CAAC,CAAC,CAAC,CAAC,CAAC;UAChCq6C,CAAC,GAAGtvB,CAAC,CAAC0D,aAAa,CAACzuB,CAAC,CAAQ;UAC7Bs6C,EAAE,GAAGliB,CAAC,IAAI,WAAW,GAAG,KAAK,GAAGA,CAAC,GAAG,EAAE;QAC1CiiB,CAAC,CAACE,KAAK,GAAG,IAAI;QACdF,CAAC,CAACt0C,GAAG,GAAG,6CAA6C,GAAG7N,CAAC,GAAGoiD,EAAE;QAC9DtkB,CAAC,CAACwkB,UAAU,CAACC,YAAY,CAACJ,CAAC,EAAErkB,CAAC,CAAC;MACnC,CAAC,EAAEwe,MAAM,EAAEhmB,QAAQ,EAAE,QAAQ,EAAE,WAAW,EAAEwrB,WAAW,CAAC;MACxD9J,6CAAG,CAAC,WAAW,EAAE,SAAS,EAAE,qCAAqC,CAAC;;IAEtE,IAAI,CAACwK,OAAO,GAAGlG,MAAM,CAACyF,IAAI;EAC9B;EAEOtiD,IAAIA,CAAC6hD,GAAwB;IAChChF,MAAM,CAAC0F,SAAS,CAACviD,IAAI,CAAC6hD,GAAG,CAAC;EAC9B;EAEA;;;;EAIOmB,IAAIA,CAACX,WAAmB;IAC3B,IAAI,CAAC,IAAI,CAAC1qD,OAAO,EAAE;MACf,MAAM,IAAIqiD,KAAK,CACX,+DAA+D,CAClE;;IAEL,IAAI,CAAC,IAAI,CAAC+I,OAAO,EAAE;MACf,MAAM,IAAI/I,KAAK,CACX,qDAAqD,CACxD;;IAELzB,6CAAG,CAAC,WAAW,EAAE,SAAS,EAAE,2BAA2B8J,WAAW,EAAE,CAAC;IACrE,IAAI,CAACY,IAAI,CAAC,EAAE,CAAC;EACjB;EACA;;;;EAIOC,OAAOA,CAACjjD,EAAU;IACrB,IAAI,CAAC,IAAI,CAAC8iD,OAAO,EAAE;MACf,MAAM,IAAI/I,KAAK,CACX,qDAAqD,CACxD;;IAEL,IAAI,IAAI,CAACriD,OAAO,EAAE;MACd,IAAI,CAACyH,OAAO,CACR,QAAQa,EAAE,EAAE,EACZ,MAAK;QACDs4C,6CAAG,CAAC,WAAW,EAAE,SAAS,EAAE,gBAAgBt4C,EAAE,EAAE,CAAC;QACjD,IAAI,CAAC8iD,OAAO,CAAC,KAAK,EAAE,QAAQ,EAAE9iD,EAAE,CAAC;QACjC,IAAI,CAACY,KAAK,CAAC,gBAAgB,EAAE,mBAAmB,CAAC;MACrD,CAAC,EACD,GAAG,CACN;;EAET;EAEOsiD,IAAIA,CAACn8C,IAAY,EAAEwH,KAA0B;IAChD,IAAI,CAAC,IAAI,CAACu0C,OAAO,EAAE;MACf,MAAM,IAAI/I,KAAK,CACX,qDAAqD,CACxD;;IAEL,IAAI,IAAI,CAACriD,OAAO,EAAE;MACd,IAAI,CAACyH,OAAO,CAAC,OAAO4H,IAAI,EAAE,EAAE,MAAK;QAC7B,IAAI,CAAChH,IAAI,CAAC;UACN,GAAGwO,KAAK;UACR3N,KAAK,EAAE;SACV,CAAC;MACN,CAAC,CAAC;;EAEV;EAEA;;;;;;;EAOOA,KAAKA,CACR8c,QAAgB,EAChB+kB,MAAc,EACd0gB,KAAc,EACd50C,KAAc;IAEd,IAAI,CAAC,IAAI,CAACu0C,OAAO,EAAE;MACf,MAAM,IAAI/I,KAAK,CACX,qDAAqD,CACxD;;IAEL,IAAI,IAAI,CAACriD,OAAO,EAAE;MACd,IAAI,CAACyH,OAAO,CACR,SAASue,QAAQ,IAAI+kB,MAAM,IAAI0gB,KAAK,IAAI50C,KAAK,EAAE,EAC/C,MAAK;QACD,MAAMiyB,CAAC,GAAG2iB,KAAK,GAAG,IAAI,GAAGA,KAAK,GAAG,EAAE;QACnC7K,6CAAG,CACC,WAAW,EACX,SAAS,EACT,UAAU56B,QAAQ,KAAK+kB,MAAM,GAAGjC,CAAC,GAC7BjyB,KAAK,GAAG,IAAI,GAAGA,KAAK,GAAG,EAC3B,EAAE,CACL;QACD,MAAMmzC,MAAM,GAAG,IAAI,CAAC0B,UAAU,GAAG,IAAI,CAACA,UAAU,GAAG,GAAG,GAAG,EAAE;QAC3D,IAAI,CAACrjD,IAAI,CAAC;UACNa,KAAK,EAAE,OAAO;UACd8c,QAAQ,EAAEA,QAAQ;UAClB+kB,MAAM,EAAEA,MAAM;UACd0gB,KAAK,EAAEA;SACV,CAAC;MACN,CAAC,EACD,GAAG,CACN;;EAET;EAEA;;;;;EAKOE,MAAMA,CAACvlD,IAAY,EAAE6+C,QAAiB;IACzC,IAAI,CAAC,IAAI,CAACmG,OAAO,EAAE;MACf,MAAM,IAAI/I,KAAK,CACX,qDAAqD,CACxD;;IAEL,IAAIj8C,IAAI,IAAI,IAAI,CAACpG,OAAO,EAAE;MACtB,IAAI,CAACyH,OAAO,CACR,SAASrB,IAAI,IAAI6+C,QAAQ,IAAI,IAAI,CAACA,QAAQ,EAAE,EAC5C,MAAK;QACDrE,6CAAG,CACC,WAAW,EACX,SAAS,EACT,WAAWx6C,IAAI,GAAG6+C,QAAQ,GAAG,IAAI,GAAGA,QAAQ,GAAG,EAAE,EAAE,CACtD;QACD,IAAI,CAAC58C,IAAI,CAAC;UACNa,KAAK,EAAE,YAAY;UACnB0iD,OAAO,EAAE3G,QAAQ,IAAI,IAAI,CAACA,QAAQ;UAClC4G,UAAU,EAAEzlD;SACf,CAAC;MACN,CAAC,EACD,GAAG,CACN;;EAET;EAEA;;;;;EAKOklD,IAAIA,CAACQ,KAAa,EAAEC,MAAA,GAAkB,KAAK;IAC9C,IAAI,CAAC,IAAI,CAACX,OAAO,EAAE;MACf,MAAM,IAAI/I,KAAK,CACX,qDAAqD,CACxD;;IAEL,IAAI,IAAI,CAACriD,OAAO,EAAE;MACd,IAAI,CAACgsD,UAAU,GAAGF,KAAK,IAAI,GAAG;MAC9B,IAAI,CAACrkD,OAAO,CACR,QAAQqkD,KAAK,EAAE,EACf,MAAK;QACDlL,6CAAG,CAAC,WAAW,EAAE,SAAS,EAAE,SAASkL,KAAK,EAAE,CAAC;QAC7C,IAAI,CAACzjD,IAAI,CAAC;UACNa,KAAK,EAAE,UAAU;UACjB+L,GAAG,EAAE,GAAG82C,MAAM,GAAGz6B,QAAQ,CAACy6B,MAAM,GAAG,EAAE,GAAGD,KAAK;SAChD,CAAC;MACN,CAAC,EACD,GAAG,CACN;;EAET;EAEA;;;;;;;EAOOG,MAAMA,CACTjmC,QAAgB,EAChBkmC,QAAgB,EAChBr1C,KAAa,EACb40C,KAAc;IAEd,IAAI,CAAC,IAAI,CAACL,OAAO,EAAE;MACf,MAAM,IAAI/I,KAAK,CACX,qDAAqD,CACxD;;IAEL,IAAI,IAAI,CAACriD,OAAO,EAAE;MACd,IAAI,CAACyH,OAAO,CACR,QAAQue,QAAQ,IAAIkmC,QAAQ,IAAIr1C,KAAK,IAAI40C,KAAK,EAAE,EAChD,MAAK;QACD7K,6CAAG,CACC,WAAW,EACX,SAAS,EACT,WAAW56B,QAAQ,KAAKkmC,QAAQ,KAAKr1C,KAAK,GACtC40C,KAAK,GAAG,IAAI,GAAGA,KAAK,GAAG,EAC3B,EAAE,CACL;QACD,IAAI,CAACpjD,IAAI,CAAC;UACNa,KAAK,EAAE,QAAQ;UACf8c,QAAQ;UACRkmC,QAAQ;UACRr1C,KAAK;UACL40C;SACH,CAAC;MACN,CAAC,EACD,GAAG,CACN;;EAET;EAEA;;;;;;EAMQhkD,OAAOA,CAACrB,IAAY,EAAEwc,EAAc,EAAEs/B,KAAA,GAAgB,GAAG;IAC7D,IAAI,IAAI,CAACsI,MAAM,CAACpkD,IAAI,CAAC,EAAE;MACnB2K,YAAY,CAAC,IAAI,CAACy5C,MAAM,CAACpkD,IAAI,CAAC,CAAC;MAC/B,OAAO,IAAI,CAACokD,MAAM,CAACpkD,IAAI,CAAC;;IAE5B,IAAI,CAACokD,MAAM,CAACpkD,IAAI,CAAC,GAAQg8C,UAAU,CAAC,MAAK;MACrC,IAAIx/B,EAAE,YAAYu/B,QAAQ,EAAE;QACxBv/B,EAAE,EAAE;;MAER,OAAO,IAAI,CAAC4nC,MAAM,CAACpkD,IAAI,CAAC;IAC5B,CAAC,EAAE87C,KAAK,CAAC;EACb;;AAnQS6B,sBAAsB;mBAAtBA,sBAAsB,EAAAtjD,sDAAA,CAAAzC,4DAAA;AAAA;AAAtB+lD,sBAAsB;SAAtBA,sBAAsB;EAAA75B,OAAA,EAAtB65B,sBAAsB,CAAA55B,IAAA;EAAAC,UAAA,EAFnB;AAAM;;;;;;;;;;;;;;;;;;ACb2C;AAG9B;;AAEnC;AACA,MAAM+hC,uBAAuB,GAAa,CAAC,SAAS,EAAE,OAAO,EAAE,KAAK,EAAE,MAAM,EAAE,IAAI,CAAC;AAEnF,MAGanI,cAAc;EAcvBz9C,YAAA;IAbA;IACQ,KAAA6lD,cAAc,GAAqC,EAAE;IAC7D;IACQ,KAAAC,iBAAiB,GAAgC,EAAE;IAC3D;IACQ,KAAAC,SAAS,GAAa,EAAE;IAChC;IACQ,KAAAC,iBAAiB,GAAe,EAAE;IAC1C;IACQ,KAAAC,OAAO,GAAW,CAAC;IAKvBtH,MAAM,CAACiC,gBAAgB,CAAC,SAAS,EAAGj+C,KAAoB,IAAI;MACxD,MAAMujD,IAAI,GAAG,IAAI,CAACC,MAAM,CAAC,CAACxjD,KAAK,CAACujD,IAAI,IAAI,EAAE,EAAE3iC,WAAW,EAAE,CAAC;MAC1D,IAAI,IAAI,CAAC6iC,SAAS,KAAKF,IAAI,EAAE;QACzB,IAAI,CAAC,IAAI,CAACL,cAAc,CAACK,IAAI,CAAC,EAAE;UAC5B,IAAI,CAACL,cAAc,CAACK,IAAI,CAAC,GAAG,IAAIjxC,iDAAe,CAAC,IAAI,CAAC;UACrD,IAAI,CAAC6wC,iBAAiB,CAACI,IAAI,CAAC,GAAG,IAAI,CAACL,cAAc,CAACK,IAAI,CAAC,CAACzjC,YAAY,EAAE;;QAE3E,IAAI,CAACojC,cAAc,CAACK,IAAI,CAAC,CAAC3uC,IAAI,CAAC,EAAE,IAAI,CAAC0uC,OAAO,CAAC;QAC9C,IAAI,IAAI,CAACF,SAAS,CAACvC,OAAO,CAAC0C,IAAI,CAAC,IAAI,CAAC,EAAE;UACnCvjD,KAAK,CAAC0jD,cAAc,EAAE;;QAE1B,IAAI,CAACD,SAAS,GAAGF,IAAI;;IAE7B,CAAC,CAAC;IAEFvH,MAAM,CAACiC,gBAAgB,CAAC,OAAO,EAAGj+C,KAAoB,IAAI;MACtD,MAAMujD,IAAI,GAAG,IAAI,CAACC,MAAM,CAAC,CAACxjD,KAAK,CAACujD,IAAI,IAAI,EAAE,EAAE3iC,WAAW,EAAE,CAAC;MAC1D,IAAI,CAACsiC,cAAc,CAACK,IAAI,CAAC,CAAC3uC,IAAI,CAAC,IAAI,CAAC;MACpC,IAAI,IAAI,CAAC6uC,SAAS,KAAKF,IAAI,EAAE;QACzB,IAAI,CAACE,SAAS,GAAG,IAAI;;IAE7B,CAAC,CAAC;EACN;EAEA;;;;;EAKOE,MAAMA,CAACC,KAAwB,EAAEhvC,IAAgB;IACpDgvC,KAAK,GAAIA,KAAK,YAAYr1B,KAAK,GAAGq1B,KAAK,GAAGA,KAAK,CAACrjD,KAAK,CAAC,GAAG,CAAE;IAC3D,MAAMsjD,WAAW,GAAaD,KAAK,CAAC7jD,GAAG,CAACL,CAAC,IAAI,IAAI,CAAC8jD,MAAM,CAAC9jD,CAAC,CAACkhB,WAAW,EAAE,CAAC,CAAC;IAC1E,IAAIijC,WAAW,CAAC3iD,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC4iD,gBAAgB,CAACD,WAAW,CAAC,EAAE;MAC9D,IAAI,CAACR,iBAAiB,CAAClkD,IAAI,CAAC0kD,WAAW,CAAC;MACxC,MAAME,QAAQ,GAAGF,WAAW,CAACA,WAAW,CAAC3iD,MAAM,GAAG,CAAC,CAAC;MACpD,IAAI,CAAC,IAAI,CAACgiD,cAAc,CAACa,QAAQ,CAAC,EAAE;QAChC,IAAI,CAACb,cAAc,CAACa,QAAQ,CAAC,GAAG,IAAIzxC,iDAAe,CAAC,IAAI,CAAC;QACzD,IAAI,CAAC6wC,iBAAiB,CAACY,QAAQ,CAAC,GAAG,IAAI,CAACb,cAAc,CAACa,QAAQ,CAAC,CAACjkC,YAAY,EAAE;;MAEnF,IAAI,CAACkkC,wBAAwB,EAAE;MAC/B,OAAO,IAAI,CAACb,iBAAiB,CAACY,QAAQ,CAAC,CAACvwC,SAAS,CAAEyK,KAAK,IAAI;QACxD,IAAIA,KAAK,EAAE;UACP,MAAMgmC,OAAO,GAAa,EAAE;UAC5B,IAAIJ,WAAW,CAAC3iD,MAAM,GAAG,CAAC,EAAE;YACxB;YACA,KAAK,MAAMixB,GAAG,IAAI0xB,WAAW,EAAE;cAC3B,MAAMxlC,KAAK,GAAG,IAAI,CAAC6kC,cAAc,CAAC/wB,GAAG,CAAC;cACtC8xB,OAAO,CAAC9kD,IAAI,CAACkf,KAAK,GAAGA,KAAK,CAAC2B,QAAQ,EAAE,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;;YAErD;YACA,KAAK,IAAItgB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGmkD,WAAW,CAAC3iD,MAAM,GAAG,CAAC,EAAExB,CAAC,EAAE,EAAE;cAC7C,IAAIukD,OAAO,CAACvkD,CAAC,CAAC,GAAGukD,OAAO,CAACvkD,CAAC,GAAG,CAAC,CAAC,EAAE;gBAAE;;;;UAG3C,MAAMyW,KAAK,GAAG8tC,OAAO,CAAC/tC,MAAM,CAAC,CAACwK,CAAC,EAAE8U,CAAC,KAAK9U,CAAC,IAAI8U,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;UAC/D,IAAIrf,KAAK,IAAI0tC,WAAW,CAAC3iD,MAAM,EAAE;YAC7B0T,IAAI,EAAE;;;MAGlB,CAAC,CAAC;;IAEN,OAAO,IAAI;EACf;EAEA;;;;EAIQ4uC,MAAMA,CAACD,IAAY;IACvB,IAAIA,IAAI,CAAC1C,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI0C,IAAI,CAAC1C,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI0C,IAAI,CAAC1C,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;MACxF,OAAO0C,IAAI,CAACtjC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAACA,OAAO,CAAC,OAAO,EAAE,EAAE,CAAC;;IAExD,OAAOsjC,IAAI;EACf;EAEA;;;EAGQS,wBAAwBA,CAAA;IAC5B,MAAME,QAAQ,GAAG,EAAE;IACnB,KAAK,MAAMN,KAAK,IAAI,IAAI,CAACP,iBAAiB,EAAE;MACxC,IAAI,CAACD,SAAS,CAACjkD,IAAI,CAACykD,KAAK,CAACA,KAAK,CAAC1iD,MAAM,GAAG,CAAC,CAAC,CAAC;;IAEhD,IAAI,CAACkiD,SAAS,GAAG/2B,gDAAM,CAAC63B,QAAQ,CAAC;EACrC;EAEA;;;;EAIQJ,gBAAgBA,CAACF,KAAe;IACpC,IAAIO,QAAQ,GAAG,CAAC;IAChB,KAAK,MAAMhyB,GAAG,IAAIyxB,KAAK,EAAE;MACrB,IAAIX,uBAAuB,CAACpC,OAAO,CAAC1uB,GAAG,CAAC,GAAG,CAAC,EAAE;QAC1CgyB,QAAQ,EAAE;;;IAGlB,OAAOA,QAAQ,GAAG,CAAC;EACvB;;AAjHSrJ,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;SAAdA,cAAc;EAAA95B,OAAA,EAAd85B,cAAc,CAAA75B,IAAA;EAAAC,UAAA,EAFX;AAAM;;;;;;;;;;;;;;;;;;;;ACRtB,IAAIha,QAAqB;AACzB,IAAIk9C,gBAAgB,GAAG,KAAK;AAItB,SAAUC,eAAeA,CAC3BC,QAAqB,EACrBC,eAAe,GAAG,KAAK;EAEvBr9C,QAAQ,GAAGo9C,QAAQ;EACnBF,gBAAgB,GAAGG,eAAe;AACtC;AAEA;;;;;;;;AAQM,SAAUC,MAAMA,CAClBr+C,IAAY,EACZs+C,OAAe,EACf5iB,MAAA,GAAiB,IAAI,EACrB6iB,SAAsB,EACtBC,MAAA,GAAqC,EAAE;EAEvC,IAAI,CAACz9C,QAAQ,EAAE;IACX,OACI,CAACk9C,gBAAgB,IACjBrtC,OAAO,CAAC6tC,IAAI,CAAC,0CAA0C,CAAC;;EAGhE,MAAMC,YAAY,GAAG39C,QAAQ,CAACoT,IAAI,CAACmqC,OAAO,EAAE5iB,MAAM,EAAE;IAChDijB,UAAU,EAAE,CAAC3+C,IAAI,CAAC;IAClB9J,QAAQ,EAAE,IAAI;IACd,GAAGsoD;GACN,CAAC;EACF,IAAI9iB,MAAM,EAAE;IACR6iB,SAAS,GAAGA,SAAS,KAAK,MAAMG,YAAY,CAACnlB,OAAO,EAAE,CAAC;IACvDmlB,YAAY,CAACE,QAAQ,EAAE,CAACvxC,SAAS,CAAC,MAAMkxC,SAAS,EAAE,CAAC;;AAE5D;AAEA;;;;;;;AAOM,SAAU36B,aAAaA,CACzB6xB,GAAW,EACX/Z,MAAe,EACf6iB,SAAsB,EACtBC,MAAA,GAAqC,EAAE;EAEvC,CAACP,gBAAgB,IAAIrtC,OAAO,CAACmlC,KAAK,CAACN,GAAG,CAAC;EACvC,IAAI,OAAOA,GAAG,KAAK,QAAQ,EAAEA,GAAG,GAAG,SAAS;EAC5C4I,MAAM,CAAC,SAAS,EAAE5I,GAAG,EAAE/Z,MAAM,EAAE6iB,SAAS,EAAEC,MAAM,CAAC;AACrD;AAEA;;;;;;;AAOM,SAAUx4B,WAAWA,CACvByvB,GAAW,EACX/Z,MAAe,EACf6iB,SAAsB,EACtBC,MAAA,GAAqC,EAAE;EAEvC,CAACP,gBAAgB,IAAIrtC,OAAO,CAACC,KAAK,CAAC4kC,GAAG,CAAC;EACvC,IAAI,OAAOA,GAAG,KAAK,QAAQ,EACvBA,GAAG,GACEA,GAAW,EAAE5kC,KAAK,IAAK4kC,GAAW,EAAE6I,OAAO,IAAI,mBAAmB;EAC3ED,MAAM,CAAC,OAAO,EAAE5I,GAAG,EAAE/Z,MAAM,EAAE6iB,SAAS,EAAEC,MAAM,CAAC;AACnD;AAEA;;;;;;;AAOM,SAAUK,UAAUA,CACtBpJ,GAAW,EACX/Z,MAAe,EACf6iB,SAAsB,EACtBC,MAAA,GAAqC,EAAE;EAEvC,CAACP,gBAAgB,IAAIrtC,OAAO,CAAC6tC,IAAI,CAAChJ,GAAG,CAAC;EACtC4I,MAAM,CAAC,MAAM,EAAE5I,GAAG,EAAE/Z,MAAM,EAAE6iB,SAAS,EAAEC,MAAM,CAAC;AAClD;AAEA;;;;;;;AAOM,SAAUhN,UAAUA,CACtBiE,GAAW,EACX/Z,MAAe,EACf6iB,SAAsB,EACtBC,MAAA,GAAqC,EAAE;EAEvC,CAACP,gBAAgB,IAAIrtC,OAAO,CAACkuC,IAAI,CAACrJ,GAAG,CAAC;EACtC4I,MAAM,CAAC,MAAM,EAAE5I,GAAG,EAAE/Z,MAAM,EAAE6iB,SAAS,EAAEC,MAAM,CAAC;AAClD;;;;;;;;;;;;;;;;;;ACrH6D;AAChB;AAqB7C;;;AAGO,SAAeQ,UAAUA,CAAA5wC,EAAA;EAAA,OAAA6wC,WAAA,CAAA5wC,KAAA,OAAAC,SAAA;AAAA;AAkC/B,SAAA2wC,YAAA;EAAAA,WAAA,GAAAzxC,wJAAA,CAlCM,WAA0B0xC,QAAuB;IACpD,MAAMC,QAAQ,GAAGD,QAAQ,CAACC,QAAQ,IAAIl9B,QAAQ,CAACk9B,QAAQ;IACvD,MAAMt+B,IAAI,GAAGq+B,QAAQ,CAACE,MAAM,IAAIn9B,QAAQ,CAACo9B,QAAQ;IACjD,MAAMC,IAAI,GAAGJ,QAAQ,CAACI,IAAI,IAAIr9B,QAAQ,CAACq9B,IAAI;IAC3C,MAAM15C,GAAG,GAAGs5C,QAAQ,CAACK,UAAU,GACzB,GAAGJ,QAAQ,KAAKt+B,IAAI,IAAIy+B,IAAI,EAAE,GAC9Br9B,QAAQ,CAACy6B,MAAM;IACrB,MAAMD,KAAK,GAAG,CAACx6B,QAAQ,CAACu9B,QAAQ,GAAG,GAAG,EAAE1lC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC;IAC1D,MAAM2lC,IAAI,GACNP,QAAQ,CAACO,IAAI,IACbx9B,QAAQ,CAACy9B,IAAI,CAAC9gD,QAAQ,CAAC,WAAW,CAAC,IACnC+gD,YAAY,CAAC33B,OAAO,CAAC,MAAM,CAAC,KAAK,MAAM;IAC3C;IACA,MAAMw2B,MAAM,GAAqB;MAC7BoB,SAAS,EAAE,WAAW;MACtBC,KAAK,EAAE,QAAQ;MACfh/B,IAAI,EAAE,GAAGA,IAAI,GAAGy+B,IAAI,GAAG,GAAG,GAAGA,IAAI,GAAG,EAAE,EAAE;MACxCQ,QAAQ,EAAE,GAAGl6C,GAAG,uBAAuB;MACvCm6C,SAAS,EAAE,GAAGn6C,GAAG,mBAAmB;MACpCo6C,YAAY,EAAE,GAAG/9B,QAAQ,CAACy6B,MAAM,GAAGD,KAAK,iBAAiB;MACzDwD,YAAY,EAAE,CAACf,QAAQ,CAACgB,WAAW;MACnCC,UAAU,EAAE,IAAI;MAChBV;KACH;IACD,IAAIE,YAAY,EAAE;MACdA,YAAY,CAAC/1B,OAAO,CAChB,MAAM,EACN,GAAG,CAAC,CAAC61B,IAAI,IAAI,CAACx9B,QAAQ,CAACy9B,IAAI,CAAC9gD,QAAQ,CAAC,YAAY,CAAC,EAAE,CACvD;;IAEL,IAAI6gD,IAAI,EAAE;MACNjO,0DAAU,CAAC,2BAA2B,CAAC;;IAE3C,OAAOuN,yDAAK,CAACP,MAAM,CAAC;EACxB,CAAC;EAAA,OAAAS,WAAA,CAAA5wC,KAAA,OAAAC,SAAA;AAAA;;;;;;;;;;;;;;;AC3D2C;AAE5C;AACM,SAAU+xC,cAAcA,CAACjD,IAAY,EAAEkD,UAAU,GAAG,OAAO,EAAEC,SAAS,GAAG,MAAM;EACjF,MAAMC,EAAE,GAAG,IAAIJ,qDAAS,CAAC;IACrBx6C,GAAG,EAAEw3C,IAAI,IAAI,OAAO;IACpBhb,IAAI,EAAE,GAAG;IACTke,UAAU;IACVC,SAAS;IACTE,OAAO,EAAE,KAAK;IACdC,QAAQ,EAAE,CAAC;IACXC,QAAQ,EAAE,IAAI;IACdC,UAAU,EAAE;GACf,CAAC;EACF,OAAOJ,EAAE,EAAEK,OAAO,CAAC,SAAS,CAAC,EAAEz5C,GAAG;AACtC;;;;;;;;;;;;;;;;;;;;;;;;;;ACd+C;AACoB;AACE;AAEhB;AACf;;AAUtC,SAAS45C,UAAUA,CACfC,UAAa,EACbC,cAAiB,EACjBC,eAAyC;EAEzC,IAAIC,gBAAgB,GAAGH,UAAU,CAACC,cAAc,CAAC;EAChDD,UAAkB,CAACC,cAAc,CAAC,GAAG,CAAC,GAAGxL,IAAW,KAAI;IACrDyL,eAAe,CAACzL,IAAI,CAAC;IACpB0L,gBAAwB,CAACC,IAAI,CAACJ,UAAU,EAAE,GAAGvL,IAAI,CAAC;EACvD,CAAC;EACD,OAAO0L,gBAAgB;AAC3B;AAEA,MAGaE,oBAAqB,SAAQnwD,8DAAY;EAsBlD+F,YAAA;IACI,KAAK,EAAE;IAtBH,KAAAqqD,UAAU,GAAG,IAAIp1C,iDAAe,CAAS,EAAE,CAAC;IAC5C,KAAAq1C,OAAO,GAAG,IAAIT,yCAAO,EAAe;IAEpC,KAAAU,cAAc,GAAG,IAAI,CAACD,OAAO,CAACp0C,IAAI,CAAC4L,2DAAW,CAAC,IAAI,CAAC,CAAC;IAErD,KAAA0oC,iBAAiB,GAAG,IAAI,CAACH,UAAU,CAACn0C,IAAI,CAC5C9T,sDAAM,CAAEoY,CAAC,IAAK,CAAC,CAACA,CAAC,CAAC,EAClBrF,yDAAS,CAAEpT,EAAE,IAAKid,mDAAa,CAAC,CAAC4C,wCAAE,CAAC7f,EAAE,CAAC,EAAE,IAAI,CAAC0oD,OAAO,CAAC1oD,EAAE,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,EACvEK,sDAAM,CAAC,CAAC,CAACoY,CAAC,EAAE/gB,OAAO,CAAC,KAAK,CAAC,CAACA,OAAO,CAAC,EACnCiJ,oDAAG,CAAC,CAAC,CAACX,EAAE,CAAC,KACL,IAAI,CAAC4pB,YAAY,CACb,aAAa,EACb,IAAI,CAAC4+B,cAAc,CAACp0C,SAAS,CAAE+e,CAAC,IAC5B00B,6DAAS,CAAC7nD,EAAE,EAAE,QAAQ,CAAC,CAAC2oD,OAAO,CAAC,YAAY,EAAE,CAACx1B,CAAC,CAAC,CAAC,CACrD,CACJ,CACJ,CACJ;IAEe,KAAAy1B,OAAO,GAAG,IAAI,CAACJ,cAAc;IAIzC,IAAI,CAACK,oBAAoB,EAAE;IAC3B,IAAI,CAACJ,iBAAiB,CAACr0C,SAAS,EAAE;EACtC;EAEO00C,SAASA,CAAC9oD,EAAU;IACvB,IAAI,CAACsoD,UAAU,CAAC9yC,IAAI,CAACxV,EAAE,CAAC;EAC5B;EAEQ6oD,oBAAoBA,CAAA;IACxB,MAAME,KAAK,GAAsB,CAC7B,KAAK,EACL,OAAO,EACP,MAAM,EACN,MAAM,EACN,OAAO,CACV;IACD,KAAK,MAAMh2B,GAAG,IAAIg2B,KAAK,EAAE;MACrBhB,UAAU,CAACpwC,OAAO,EAAEob,GAAG,EAAE,CAAC,GAAG0pB,IAAI,KAAK,IAAI,CAACuM,YAAY,CAACj2B,GAAG,EAAE0pB,IAAI,CAAC,CAAC;;EAE3E;EAEQuM,YAAYA,CAACjiD,IAAY,EAAE4P,IAAS,EAAEsyC,UAAA,GAAkB,SAAS;IACrEtyC,IAAI,CAAC,CAAC,CAAC,GACH,OAAOA,IAAI,CAAC,CAAC,CAAC,KAAK,QAAQ,GAAGA,IAAI,CAAC,CAAC,CAAC,CAACkK,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,GAAGlK,IAAI,CAAC,CAAC,CAAC;IACtE,IAAI,CAAC4xC,OAAO,CAAC/yC,IAAI,CAAC;MACdxV,EAAE,EAAE,GAAGipD,UAAU,IAAIxR,mDAAS,CAAC,UAAW,CAAC,EAAE;MAC7C1wC,IAAI,EAAEkiD,UAAU;MAChBC,OAAO,EAAEniD,IAAI;MACb9F,SAAS,EAAE8S,IAAI,CAAChV,GAAG,EAAE;MACrB4X,IAAI,EAAEA,IAAI,CAACtW,MAAM,CACZoY,CAAC,IAAK,OAAOA,CAAC,KAAK,QAAQ,IAAI,CAACA,CAAC,CAAC0wC,UAAU,CAAC,QAAQ,CAAC;KAE9D,CAAC;EACN;EAEA;EACQT,OAAOA,CAAC1oD,EAAU,EAAElC,IAAY,EAAEsrD,GAAA,GAAc,QAAQ;IAC5D,MAAMC,MAAM,GAAGxB,6DAAS,CAAC7nD,EAAE,EAAEopD,GAAG,CAAC,CAACE,OAAO,CAACxrD,IAAI,CAAC;IAC/C,IAAI,CAAC8rB,YAAY,CAAC,QAAQ9rB,IAAI,EAAE,EAAEurD,MAAM,CAACE,IAAI,EAAE,CAAC;IAChD,OAAOF,MAAM,CAAC9E,MAAM,EAAE;EAC1B;;AAhES8D,oBAAqB;mBAArBA,oBAAoB;AAAA;AAApBA,oBAAqB;SAArBA,oBAAoB;EAAAzmC,OAAA,EAApBymC,oBAAoB,CAAAxmC,IAAA;EAAAC,UAAA,EAFjB;AAAM;;;;;;;;;;;;;;;;ACvBf,MAAM0nC,eAAe,GAAGA,CAACloC,CAAoB,EAAEnU,CAAoB,KAAuB;EAC7F,MAAMkpC,CAAC,GAAsB;IAAE,GAAG/0B,CAAC;IAAE,GAAGnU;EAAC,CAAE;EAC3C,OAAOkpC,CAAC;AACZ,CAAC;AAEM,MAAMoT,iBAAiB,GAAGA,CAC7BC,eAAA,GAAuC,EAAE,EACzCC,WAAA,GAAmC,EAAE,KAChB;EACrB,MAAMhpD,GAAG,GAAG,EAAE;EACd+oD,eAAe,CAACt6B,OAAO,CAAEgP,CAAC,IAAMz9B,GAAG,CAACy9B,CAAC,CAACp+B,EAAE,CAAC,GAAGo+B,CAAE,CAAC;EAC/C,MAAMwrB,MAAM,GAAwB,EAAE;EACtCD,WAAW,CAACv6B,OAAO,CAAEy6B,CAAC,IAAI;IACtB,IAAI,CAAC,CAAClpD,GAAG,CAACkpD,CAAC,CAAC7pD,EAAE,CAAC,EAAE;MACb4pD,MAAM,CAAC7pD,IAAI,CAACypD,eAAe,CAAC7oD,GAAG,CAACkpD,CAAC,CAAC7pD,EAAE,CAAC,EAAE6pD,CAAC,CAAC,CAAC;;EAElD,CAAC,CAAC;EACF,OAAOD,MAAM;AACjB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxBiD;AACC;AACe;AACrB;AACN;AAEsB;AACf;AAEO;AAEjB;AACqB;AACW;;;;AASpE,MAGazlD,eAAgB,SAAQjM,8DAAY;EAc7C;;;EAGA,IAAW8xD,SAASA,CAACz7C,KAAgB;IACjC,IAAI,CAAC07C,UAAU,CAACz0C,IAAI,CAACjH,KAAK,CAAC;IAC3B,IAAI,CAAC27C,kBAAkB,EAAE;EAC7B;EAEA;EACO3F,MAAMA,CAAUzmD,IAAY;IAC/B,IAAI,CAAC,IAAI,CAACqsD,YAAY,CAACrsD,IAAI,CAAC,EAAE;MAC1B,IAAI,CAACssD,SAAS,CAACtsD,IAAI,CAAC,GAAG,IAAIoV,iDAAe,CAAI,IAAI,CAAC;MACnD,IAAI,CAACi3C,YAAY,CAACrsD,IAAI,CAAC,GAAG,IAAI,CAACssD,SAAS,CAACtsD,IAAI,CAAC,CAAC4iB,YAAY,EAAE;;IAEjE,OAAO,IAAI,CAACypC,YAAY,CAACrsD,IAAI,CAAC;EAClC;EAEA;EACOmmB,IAAIA,CAAInmB,IAAY,EAAEyQ,KAAQ;IACjC,IAAI,CAAC,IAAI,CAAC47C,YAAY,CAACrsD,IAAI,CAAC,EAAE;MAC1B,IAAI,CAACssD,SAAS,CAACtsD,IAAI,CAAC,GAAG,IAAIoV,iDAAe,CAAI,IAAI,CAAC;MACnD,IAAI,CAACi3C,YAAY,CAACrsD,IAAI,CAAC,GAAG,IAAI,CAACssD,SAAS,CAACtsD,IAAI,CAAC,CAAC4iB,YAAY,EAAE;;IAEjE,IAAI,CAAC0pC,SAAS,CAACtsD,IAAI,CAAC,CAAC0X,IAAI,CAACjH,KAAK,CAAC;EACpC;EAEOA,KAAKA,CAAUzQ,IAAY;IAC9B,OAAO,CAAC,IAAI,CAACqsD,YAAY,CAACrsD,IAAI,CAAC,GACzB,IAAI,GACJ,IAAI,CAACssD,SAAS,CAACtsD,IAAI,CAAC,CAAC8iB,QAAQ,EAAE;EACzC;EAEA;EACA,IAAW3S,KAAKA,CAAA;IACZ,OAAO,IAAI,CAACo8C,MAAM,CAACC,QAAQ,EAAE;EACjC;EACA,IAAWr8C,KAAKA,CAACM,KAAa;IAC1B,IAAI,CAAC87C,MAAM,CAACE,QAAQ,CAChB,GAAGh8C,KAAK,MAAM,IAAI,CAACjI,GAAG,CAAC,UAAU,CAAC,IAAI,IAAI,CAACg2C,SAAS,EAAE,CACzD;IACD,MAAM8F,WAAW,GAAG,IAAI,CAAC97C,GAAG,CAAC,2BAA2B,CAAC;IACzD,IAAI,CAAC87C,WAAW,EAAE;IAClB,IAAI,CAACoI,UAAU,EAAEtH,IAAI,CAAC,UAAU,EAAE;MAAEj1C,KAAK,EAAEM;IAAK,CAAE,CAAC;EACvD;EAEAtQ,YACYosD,MAAa,EACDG,UAAkC;IAEtD,KAAK,EAAE;IAHC,KAAAH,MAAM,GAANA,MAAM;IACM,KAAAG,UAAU,GAAVA,UAAU;IA5DlC;IACQ,KAAAlO,SAAS,GAAG,SAAS;IAC7B;IACQ,KAAA2N,UAAU,GAAG,IAAI/2C,iDAAe,CAAY,EAAE,CAAC;IACvD;IACQ,KAAAu3C,cAAc,GAAG,IAAIv3C,iDAAe,CAAU,EAAE,CAAC;IACzD;IACQ,KAAAk3C,SAAS,GAAkC,EAAE;IACrD;IACQ,KAAAD,YAAY,GAA6B,EAAE;IACnD;IACQ,KAAAO,iBAAiB,GAAY,EAAE;IAoDnC,MAAM3rD,GAAG,GAAG,IAAIgV,IAAI,EAAE;IACtB,MAAMlU,IAAI,GAAG,IAAIkU,IAAI,CAAC6nC,kDAAY,CAAC;IACnC,MAAM+O,KAAK,GAAGjiC,oDAAS,CAAC3pB,GAAG,EAAEc,IAAI,CAAC,GAC5B,YAAYI,qDAAM,CAACJ,IAAI,EAAE,OAAO,CAAC,EAAE,GACnCI,qDAAM,CAACJ,IAAI,EAAE,oBAAoB,CAAC;IACxCy4C,6CAAG,CAAC,MAAM,EAAE,GAAGsD,oDAAc,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC;IACrDtD,6CAAG,CAAC,KAAK,EAAE,GAAGsD,kDAAY,aAAa+O,KAAK,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC;IACpE,IAAI,CAACxI,IAAI,EAAE;EACf;EAEA;;;EAGaA,IAAIA,CAAA;IAAA,IAAA7tC,KAAA;IAAA,OAAAC,wJAAA;MACbD,KAAI,CAACw2C,YAAY,EAAE;MACnB,IAAIx2C,KAAI,CAAChO,GAAG,CAAC,OAAO,CAAC,EAAEs2C,MAAM,CAACE,KAAK,GAAG,IAAI;MAC1C,IAAIxoC,KAAI,CAAChO,GAAG,CAAC,KAAK,CAAC,EAAExI,IAAI,EAAE;QACvBwW,KAAI,CAACgoC,SAAS,GAAGhoC,KAAI,CAAChO,GAAG,CAAC,KAAK,CAAC,CAACxI,IAAI;;MAEzCwW,KAAI,CAACgoC,SAAS,GACVtzB,QAAQ,CAACu9B,QAAQ,CAAC1lC,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC,CAACiU,IAAI,EAAE,IAAIxgB,KAAI,CAACgoC,SAAS;MACrEC,oDAAU,CAACjoC,KAAI,CAACgoC,SAAS,CAACn7C,KAAK,CAAC,GAAG,CAAC,CAACyd,IAAI,CAAC,GAAG,CAAC,CAACu9B,WAAW,EAAE,CAAC;MAC7D7D,6CAAG,CAAC,UAAU,EAAE,8BAA8B,CAAC;MAC/ChkC,KAAI,CAACilC,YAAY,CAAC/jC,IAAI,CAAC,IAAI,CAAC;MAC5B,IAAIonC,MAAM,CAACE,KAAK,EAAE;QACd,IAAI,CAACF,MAAM,CAACmO,WAAW,EAAEnO,MAAM,CAACmO,WAAW,GAAG,EAAE;QAChDnO,MAAM,CAACmO,WAAW,CAAC9E,QAAQ,GAAG3xC,KAAI;;MAEtCA,KAAI,CAACsV,YAAY,CACb,eAAe,EACftV,KAAI,CAACm2C,cAAc,CAACr2C,SAAS,CAAEqE,CAAC,IAAKnE,KAAI,CAAC02C,kBAAkB,CAACvyC,CAAC,CAAC,CAAC,CACnE;MACD,MAAMhK,IAAI,SAASs7C,0DAAiB,CAACv8B,sDAAK,CAAE/U,CAAC,IAAK,CAAC,CAACA,CAAC,CAAC,CAAC,CAACzD,SAAS,EAAE;MACnE,MAAM2B,IAAI,SAASwW,gEAAY,CAAC1e,IAAI,CAACzO,EAAE,EAAE,UAAU,CAAC,CAACgV,SAAS,EAAE;MAChEV,KAAI,CAACm2C,cAAc,CAACj1C,IAAI,CAACmB,IAAI,CAACrE,OAAO,IAAI,EAAE,CAAC;MAC5CgC,KAAI,CAACw2C,YAAY,EAAE;MACnBx2C,KAAI,CAAC22C,YAAY,EAAE;IAAC;EACxB;EAEA;EACA,IAAWtO,QAAQA,CAAA;IACf,OAAO,IAAI,CAACL,SAAS;EACzB;EAEA;;;;EAIOh2C,GAAGA,CAAUysB,GAAW;IAC3B,MAAM2J,IAAI,GAAG3J,GAAG,CAAC5xB,KAAK,CAAC,GAAG,CAAC;IAC3B,IAAIu7B,IAAI,CAAC,CAAC,CAAC,KAAK,KAAK,EAAE;MACnB,OACIsgB,yDAAe,CAACtgB,IAAI,EAAE,IAAI,CAACguB,iBAAiB,CAAC,IAC7C1N,yDAAe,CAACtgB,IAAI,EAAE,IAAI,CAAC+tB,cAAc,CAAC7pC,QAAQ,EAAE,CAAC,IACrDo8B,yDAAe,CAACtgB,IAAI,EAAEotB,uDAAgB,CAAC;;IAG/C,MAAMoB,iBAAiB,GAAG,CAAC,GAAG,IAAI,CAACjB,UAAU,CAACrpC,QAAQ,EAAE,CAAC;IACzD,KAAK,MAAMuqC,QAAQ,IAAID,iBAAiB,EAAE;MACtC,MAAM38C,KAAK,GAAGyuC,yDAAe,CAACtgB,IAAI,CAACphB,KAAK,CAAC,CAAC,CAAC,EAAE6vC,QAAQ,CAAC;MACtD,IAAI58C,KAAK,IAAI,IAAI,EAAE;QACf,OAAOA,KAAK;;;IAGpB,OAAOyuC,yDAAe,CAACtgB,IAAI,EAAEotB,uDAAgB,CAAC;EAClD;EAEOruC,eAAeA,CAAI3d,IAAY,EAAEyQ,KAAQ;IAC5C,IAAI,CAACm8C,iBAAiB,CAAC5sD,IAAI,CAAC,GAAGyQ,KAAK;IACpC,IAAIzQ,IAAI,KAAK,WAAW,EAAE,IAAI,CAACgtD,YAAY,EAAE;IAC7C,IAAIhtD,IAAI,KAAK,WAAW,EAAE,IAAI,CAACmtD,YAAY,EAAE;IAC7C,IAAI,CAAC9rD,OAAO,CAAC,eAAe,EAAE,MAAM,IAAI,CAACisD,mBAAmB,EAAE,EAAE,IAAI,CAAC;EACzE;EAEOC,mBAAmBA,CACtBt4B,GAAW,EACXxkB,KAAa,EACb+8C,SAAA,GAAqB,KAAK;IAE1B,IAAI30B,OAAO,GAAGC,QAAQ,CAAC20B,cAAc,CAAC,qBAAqBx4B,GAAG,EAAE,CAAC;IACjE,IAAI,CAAC4D,OAAO,EAAE;MACVA,OAAO,GAAGC,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;MACzCF,OAAO,CAAC32B,EAAE,GAAG,qBAAqB+yB,GAAG,EAAE;MACvC6D,QAAQ,CAAC40B,IAAI,CAACx0B,WAAW,CAACL,OAAO,CAAC;;IAEtCA,OAAO,CAAC80B,SAAS,GAAG,kBAAkB14B,GAAG,KAAKxkB,KAAK,IAC/C+8C,SAAS,GAAG,YAAY,GAAG,EAC/B,GAAG;EACP;EAEQpB,kBAAkBA,CAAA;IACtB,MAAMwB,YAAY,GAAG,IAAI,CAACplD,GAAG,CAAC,mBAAmB,CAAC,IAAI,EAAE;IACxD,IAAIqlD,UAAU,GAAG,SAAS;IAC1B,KAAK,MAAM54B,GAAG,IAAI24B,YAAY,EAAE;MAC5BC,UAAU,IAAI,KAAK54B,GAAG,KAAK24B,YAAY,CAAC34B,GAAG,CAAC,IAAI;;IAEpD44B,UAAU,IAAI,GAAG;IACjB,IAAIh1B,OAAO,GAAGC,QAAQ,CAAC20B,cAAc,CAAC,mBAAmB,CAAC;IAC1D,IAAI,CAAC50B,OAAO,EAAE;MACVA,OAAO,GAAGC,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;MACzCF,OAAO,CAAC32B,EAAE,GAAG,mBAAmB;MAChC42B,QAAQ,CAAC40B,IAAI,CAACx0B,WAAW,CAACL,OAAO,CAAC;;IAEtCA,OAAO,CAAC80B,SAAS,GAAGE,UAAU;EAClC;EAEcP,mBAAmBA,CAAA;IAAA,IAAA55B,MAAA;IAAA,OAAAjd,wJAAA;MAC7B,MAAM9F,IAAI,GAAGV,wDAAW,EAAE;MAC1B,IAAI,CAACU,IAAI,EAAEzO,EAAE,IAAI,CAACqI,MAAM,CAACq0B,IAAI,CAAClL,MAAI,CAACk5B,iBAAiB,CAAC,CAAC5oD,MAAM,EAAE;MAC9D,MAAMutC,kEAAc,CAAC5gC,IAAI,CAACzO,EAAE,EAAE;QAC1BlC,IAAI,EAAE,UAAU;QAChBsJ,WAAW,EAAE,EAAE;QACfkL,OAAO,EAAE;UACL,GAAGkf,MAAI,CAACi5B,cAAc,CAAC7pC,QAAQ,EAAE;UACjC,GAAG4Q,MAAI,CAACk5B;;OAEf,CAAC,CAAC11C,SAAS,EAAE;MACdwc,MAAI,CAACi5B,cAAc,CAACj1C,IAAI,CAAC;QACrB,GAAGgc,MAAI,CAACi5B,cAAc,CAAC7pC,QAAQ,EAAE;QACjC,GAAG4Q,MAAI,CAACk5B;OACX,CAAC;MACFl5B,MAAI,CAACk5B,iBAAiB,GAAG,EAAE;IAAC;EAChC;EAEcM,kBAAkBA,CAAC/E,QAAiB;IAAA,OAAA1xC,wJAAA;MAC9C,IAAI0xC,QAAQ,CAAC2F,SAAS,EAAE;IACvB;EACL;EAEQX,YAAYA,CAAA;IAChB,IAAI,CAAC,IAAI,CAAC3kD,GAAG,CAAC,WAAW,CAAC,EAAE;IAC5B,IAAI,CAAC+kD,mBAAmB,CAAC,WAAW,EAAE,GAAG,IAAI,CAAC/kD,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC;EACvE;EAEQwkD,YAAYA,CAAA;IAChB;IACA;IACA;IACA;IACA;IACA;EAAA;;AA5MK3mD,eAAgB;mBAAhBA,eAAe,EAAAhM,uDAAA,CAAAzC,6DAAA,GAAAyC,uDAAA,CAAAH,6EAAA;AAAA;AAAfmM,eAAgB;SAAhBA,eAAe;EAAAyd,OAAA,EAAfzd,eAAe,CAAA0d,IAAA;EAAAC,UAAA,EAFZ;AAAM;;;;;;;;;;;;;;;ACxBtB;;;AAGA,MAAM+pC,OAAO,GAAQ;EACjBC,MAAM,EAAE;IACJ9rD,EAAE,EAAE,GAAG;IACP+G,IAAI,EAAE,MAAM;IACZrF,OAAO,EAAE;GACZ;EACD8M,MAAM,EAAE,IAAI;EACZ9I,SAAS,EAAE;CACd;AACD;;;AAGA,MAAMqmD,IAAI,GAAQ,CACd;EACIjuD,IAAI,EAAE,eAAe;EACrBkuD,IAAI,EAAE,oCAAoC;EAC1C56B,IAAI,EAAE;IACFrqB,IAAI,EAAE,MAAM;IACZklD,KAAK,EAAE,gBAAgB;IACvBvqD,OAAO,EAAE;GACZ;EACDwqD,UAAU,EACN;CACP,EACD;EACIpuD,IAAI,EAAE,mBAAmB;EACzBkuD,IAAI,EAAE,6DAA6D;EACnE56B,IAAI,EAAE;IACFrqB,IAAI,EAAE,MAAM;IACZklD,KAAK,EAAE,gBAAgB;IACvBvqD,OAAO,EAAE;GACZ;EACDwqD,UAAU,EAAE;CACf,EACD;EACIpuD,IAAI,EAAE,iBAAiB;EACvBkuD,IAAI,EAAE,oCAAoC;EAC1C56B,IAAI,EAAE;IACFrqB,IAAI,EAAE,MAAM;IACZklD,KAAK,EAAE,gBAAgB;IACvBvqD,OAAO,EAAE;GACZ;EACDwqD,UAAU,EACN;CACP,EACD;EACIpuD,IAAI,EAAE,UAAU;EAChBkuD,IAAI,EAAE,2BAA2B;EACjC56B,IAAI,EAAE;IACFrqB,IAAI,EAAE,MAAM;IACZklD,KAAK,EAAE,gBAAgB;IACvBvqD,OAAO,EAAE;GACZ;EACDwqD,UAAU,EACN;CACP,CACJ;AACD;;;AAGA,MAAMvuD,MAAM,GAAQ;EAChBwuD,eAAe,EAAE,KAAK;EACtBC,UAAU,EAAE,CAAC;EACbC,SAAS,EAAE,EAAE;EACbC,mBAAmB,EAAE,KAAK;EAC1BC,YAAY,EAAE,IAAI;EAClBC,UAAU,EAAE,IAAI;EAChBC,gBAAgB,EAAE,QAAQ;EAC1BzsB,aAAa,EAAE,IAAI;EACnB0sB,UAAU,EAAE,KAAK;EACjBC,cAAc,EAAE,KAAK;EACrBC,cAAc,EAAE,EAAE;EAClBC,gBAAgB,EAAE,KAAK;EACvBC,mBAAmB,EAAE,KAAK;EAC1BC,eAAe,EAAE,IAAI;EACrBC,gBAAgB,EAAE;CACrB;AACD;;;AAGA,MAAMC,aAAa,GAAQ;EACvBC,WAAW,EAAE;CAChB;AACD;;;AAGA,MAAMC,SAAS,GAAQ;EACnBC,YAAY,EAAE,IAAI;EAClBC,iBAAiB,EAAE;CACtB;AACD;;;AAGA,MAAMC,QAAQ,GAAG;EACbC,aAAa,EAAE,KAAK;EACpBC,MAAM,EAAE,CACJ;IAAE1vD,IAAI,EAAE,UAAU;IAAE2vD,KAAK,EAAE;EAAS,CAAE,EACtC;IAAE3vD,IAAI,EAAE,SAAS;IAAE2vD,KAAK,EAAE;EAAS,CAAE,EACrC;IAAE3vD,IAAI,EAAE,UAAU;IAAE2vD,KAAK,EAAE;EAAS,CAAE;CAE7C;AACD;;;AAGA,MAAMC,OAAO,GAAQ;EACjB3Q,MAAM,EAAE;IACJ,YAAY,EAAE,SAAS;IACvB,eAAe,EAAE,SAAS;IAC1B,YAAY,EAAE,SAAS;IACvB,oBAAoB,EAAE,MAAM;IAC5B,eAAe,EAAE,MAAM;IACvB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,UAAU,EAAE,SAAS;IACrB,aAAa,EAAE,SAAS;IACxB,WAAW,EAAE;GAChB;EACD4Q,mBAAmB,EAAE,IAAI;EACzBC,uBAAuB,EAAE,IAAI;EAC7BC,WAAW,EAAE,IAAI;EACjBC,iBAAiB,EAAE,KAAK;EACxBC,uBAAuB,EAAE,KAAK;EAC9BP,MAAM,EAAE,CACJ,CAAC,WAAW,EAAE,SAAS,CAAC,EACxB,CAAC,QAAQ,EAAE,SAAS,CAAC,EACrB,CAAC,SAAS,EAAE,SAAS,CAAC,EACtB,CAAC,eAAe,EAAE,SAAS,CAAC;CAEnC;AACD;;;AAGA,MAAMQ,GAAG,GAAQ;EACblwD,IAAI,EAAE,WAAW;EACjBmQ,KAAK,EAAE,uBAAuB;EAC9B7G,WAAW,EAAE,qDAAqD;EAClE6mD,UAAU,EAAE,OAAO;EACnBC,UAAU,EAAE;IACRnnD,IAAI,EAAE,KAAK;IACXoH,GAAG,EAAE;GACR;EACDD,SAAS,EAAE;IACPnH,IAAI,EAAE,KAAK;IACXoH,GAAG,EAAE;GACR;EACDggD,OAAO,EAAE,CACL;IAAEnuD,EAAE,EAAE,IAAI;IAAElC,IAAI,EAAE,SAAS;IAAEswD,IAAI,EAAE;EAAM;EACzC;EAAA,CACH;;EACD90D,QAAQ,EAAE,CACN,QAAQ,EACR,OAAO,EACP,SAAS,EACT,SAAS,EACT,MAAM,EACN,UAAU,EACV,KAAK,EACL,SAAS,EACT,gBAAgB,CACnB;EACD+0D,QAAQ,EAAE,EAAE;EACZC,aAAa,EAAE,UAAU;EACzBC,eAAe,EAAE,KAAK;EACtBlqD,YAAY,EAAE,IAAI;EAClBmqD,WAAW,EAAE,IAAI;EACjBC,gBAAgB,EAAE,KAAK;EACvBC,iBAAiB,EAAE,KAAK;EACxBC,OAAO,EAAE,IAAI;EACb9C,OAAO;EACPE,IAAI;EACJpuD,MAAM;EACNsvD,aAAa;EACbE,SAAS;EACTO,OAAO;EACP3mC,QAAQ,EAAE;IACN6nC,WAAW,EAAE;GAChB;EACD5nC,OAAO,EAAE;IACL6nC,2BAA2B,EAAE,GAAG;IAChCC,iBAAiB,EAAE;GACtB;EACDj0B,KAAK,EAAE;IACHk0B,gBAAgB,EAAE,IAAI;IACtBzC,mBAAmB,EAAE,IAAI;IACzB0C,YAAY,EAAE,IAAI;IAClBjvB,kBAAkB,EAAE,IAAI;IACxBC,aAAa,EAAE,IAAI;IACnBivB,eAAe,EAAE,KAAK;IACtBC,mBAAmB,EAAE,IAAI;IACzBhjC,QAAQ,EAAE;GACb;EACDijC,SAAS,EAAE;IACPz3D,OAAO,EAAE,IAAI;IACb0qD,WAAW,EAAE;GAChB;EACDgN,aAAa,EAAE,KAAK;EACpB9B;CACH;AACD;;;AAGO,MAAMxD,gBAAgB,GAAQ;EACjChN,KAAK,EAAE,IAAI;EACXuS,QAAQ,EAAE;IACNlJ,MAAM,EAAE,EAAE;IACV3C,KAAK,EAAE,QAAQ;IACf0C,QAAQ,EAAE,EAAE;IACZG,IAAI,EAAE,EAAE;IACRC,UAAU,EAAE,KAAK;IACjBW,WAAW,EAAE;GAChB;EACD+G;CACH;;;;;;;;;;;;;;;;AC1NM,SAAesB,iBAAiBA,CAAAn6C,EAAA;EAAA,OAAAo6C,kBAAA,CAAAn6C,KAAA,OAAAC,SAAA;AAAA;AAItC,SAAAk6C,mBAAA;EAAAA,kBAAA,GAAAh7C,wJAAA,CAJM,WAAgDi7C,SAAuB;IAC1EA,SAAS,CAACC,aAAa,EAAE;IACzB,MAAMD,SAAS,CAACE,OAAO,CAACC,UAAU,EAAE;IACpCH,SAAS,CAACC,aAAa,EAAE;EAC7B,CAAC;EAAA,OAAAF,kBAAA,CAAAn6C,KAAA,OAAAC,SAAA;AAAA;;;;;;;;;;;;;;;;;;;ACP0C;AACK;AAGzC,MAAMy6C,cAAc,GAAGp7B,IAAI,EAAEC,cAAc,EAAE,EAAEC,eAAe,EAAE,EAAEC,QAAQ,IAAI,kBAAkB;AAEjG,SAAUylB,eAAeA,CAACp8C,IAAmB,EAAE6xD,EAAA,GAAaD,cAAc;EAC5E,MAAME,WAAW,GAAGH,8DAAiB,CAACE,EAAE,CAAC,GAAGF,8DAAiB,CAACC,cAAc,CAAC;EAC7E,OAAOF,oDAAe,CAAC1xD,IAAI,EAAE8xD,WAAW,CAAC,CAAC7xD,OAAO,EAAE;AACvD;AAEM,SAAU8xD,eAAeA,CAAC/xD,IAAmB,EAAE6xD,EAAA,GAAaD,cAAc;EAC5E,MAAME,WAAW,GAAGH,8DAAiB,CAACC,cAAc,CAAC,GAAGD,8DAAiB,CAACE,EAAE,CAAC;EAC7E,OAAOH,oDAAe,CAAC1xD,IAAI,EAAE8xD,WAAW,CAAC,CAAC7xD,OAAO,EAAE;AACvD;;;;;;;;;;;;;;;;ACd4C;AAErC,MAAM+xD,SAAS,GAAG,CACrB;EACE,OAAO,EAAE,wBAAwB;EACjC,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC,EAAE;EACb,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,0CAA0C;EAClD,KAAK,EAAE,CACL,YAAY;CAEf,EACD;EACE,OAAO,EAAE,QAAQ;EACjB,MAAM,EAAE,GAAG;EACX,QAAQ,EAAE,CAAC,EAAE;EACb,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,2CAA2C;EACnD,KAAK,EAAE,CACL,YAAY,EACZ,gBAAgB,EAChB,cAAc,EACd,mBAAmB;CAEtB,EACD;EACE,OAAO,EAAE,wBAAwB;EACjC,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC,EAAE;EACb,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,oBAAoB;EAC5B,KAAK,EAAE,CACL,YAAY,EACZ,kBAAkB,EAClB,kBAAkB,EAClB,mBAAmB,EACnB,gBAAgB;CAEnB,EACD;EACE,OAAO,EAAE,uBAAuB;EAChC,MAAM,EAAE,MAAM;EACd,QAAQ,EAAE,CAAC,CAAC;EACZ,OAAO,EAAE,IAAI;EACb,MAAM,EAAE,oBAAoB;EAC5B,KAAK,EAAE,CACL,mBAAmB,EACnB,gBAAgB,EAChB,cAAc,EACd,eAAe,EACf,iBAAiB;CAEpB,EACD;EACE,OAAO,EAAE,gCAAgC;EACzC,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC,CAAC;EACZ,OAAO,EAAE,IAAI;EACb,MAAM,EAAE,6BAA6B;EACrC,KAAK,EAAE,CACL,sBAAsB;CAEzB,EACD;EACE,OAAO,EAAE,uBAAuB;EAChC,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC,CAAC;EACZ,OAAO,EAAE,IAAI;EACb,MAAM,EAAE,wCAAwC;EAChD,KAAK,EAAE,CACL,gBAAgB,EAChB,qBAAqB,EACrB,iBAAiB,EACjB,mBAAmB,EACnB,oBAAoB;CAEvB,EACD;EACE,OAAO,EAAE,uBAAuB;EAChC,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC,CAAC;EACZ,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,wCAAwC;EAChD,KAAK,EAAE,CACL,gBAAgB,EAChB,qBAAqB,EACrB,iBAAiB,EACjB,mBAAmB,EACnB,oBAAoB,EACpB,SAAS;CAEZ,EACD;EACE,OAAO,EAAE,2BAA2B;EACpC,MAAM,EAAE,MAAM;EACd,QAAQ,EAAE,CAAC,CAAC;EACZ,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,qBAAqB;EAC7B,KAAK,EAAE,CACL,iBAAiB,EACjB,sBAAsB,EACtB,oBAAoB,EACpB,iBAAiB,EACjB,WAAW;CAEd,EACD;EACE,OAAO,EAAE,iCAAiC;EAC1C,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC,CAAC;EACZ,OAAO,EAAE,IAAI;EACb,MAAM,EAAE,yCAAyC;EACjD,KAAK,EAAE,CACL,mBAAmB,EACnB,kBAAkB;CAErB,EACD;EACE,OAAO,EAAE,wBAAwB;EACjC,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC,CAAC;EACZ,OAAO,EAAE,IAAI;EACb,MAAM,EAAE,yCAAyC;EACjD,KAAK,EAAE,CACL,eAAe,EACf,uBAAuB,EACvB,gBAAgB,EAChB,kBAAkB,EAClB,gBAAgB,EAChB,iBAAiB,EACjB,qBAAqB,EACrB,SAAS;CAEZ,EACD;EACE,OAAO,EAAE,+BAA+B;EACxC,MAAM,EAAE,MAAM;EACd,QAAQ,EAAE,CAAC,CAAC;EACZ,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,6BAA6B;EACrC,KAAK,EAAE,CACL,gBAAgB,EAChB,oBAAoB,EACpB,qBAAqB,EACrB,mBAAmB,EACnB,iBAAiB,EACjB,qBAAqB,EACrB,WAAW,EACX,mBAAmB;CAEtB,EACD;EACE,OAAO,EAAE,uBAAuB;EAChC,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC,CAAC;EACZ,OAAO,EAAE,IAAI;EACb,MAAM,EAAE,wCAAwC;EAChD,KAAK,EAAE,CACL,iBAAiB,EACjB,sBAAsB,EACtB,2BAA2B,EAC3B,mBAAmB,EACnB,mBAAmB,EACnB,6BAA6B,EAC7B,6BAA6B,EAC7B,gCAAgC,EAChC,qBAAqB,EACrB,sBAAsB,EACtB,kBAAkB,EAClB,kBAAkB,EAClB,SAAS;CAEZ,EACD;EACE,OAAO,EAAE,gCAAgC;EACzC,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC,CAAC;EACZ,OAAO,EAAE,IAAI;EACb,MAAM,EAAE,iDAAiD;EACzD,KAAK,EAAE,CACL,wBAAwB,EACxB,gBAAgB,EAChB,gBAAgB,EAChB,qBAAqB,EACrB,mBAAmB;CAEtB,EACD;EACE,OAAO,EAAE,8BAA8B;EACvC,MAAM,EAAE,MAAM;EACd,QAAQ,EAAE,CAAC,CAAC;EACZ,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,0BAA0B;EAClC,KAAK,EAAE,CACL,gBAAgB,EAChB,uBAAuB;CAE1B,EACD;EACE,OAAO,EAAE,0BAA0B;EACnC,MAAM,EAAE,MAAM;EACd,QAAQ,EAAE,CAAC,CAAC;EACZ,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,iCAAiC;EACzC,KAAK,EAAE,CACL,gBAAgB,EAChB,gBAAgB,EAChB,uBAAuB,EACvB,kBAAkB,EAClB,mBAAmB,EACnB,iBAAiB,EACjB,cAAc,EACd,gBAAgB,EAChB,oBAAoB,EACpB,WAAW;CAEd,EACD;EACE,OAAO,EAAE,uBAAuB;EAChC,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC,CAAC;EACZ,OAAO,EAAE,IAAI;EACb,MAAM,EAAE,wCAAwC;EAChD,KAAK,EAAE,CACL,iBAAiB,EACjB,gBAAgB,EAChB,4BAA4B,EAC5B,2BAA2B,EAC3B,yBAAyB,EACzB,iBAAiB,EACjB,6BAA6B,EAC7B,oBAAoB,EACpB,kBAAkB,EAClB,gBAAgB,EAChB,kBAAkB,EAClB,iBAAiB,EACjB,qBAAqB,EACrB,wBAAwB,EACxB,qBAAqB,EACrB,iBAAiB,EACjB,SAAS;CAEZ,EACD;EACE,OAAO,EAAE,0BAA0B;EACnC,MAAM,EAAE,MAAM;EACd,QAAQ,EAAE,CAAC,CAAC;EACZ,OAAO,EAAE,IAAI;EACb,MAAM,EAAE,4BAA4B;EACpC,KAAK,EAAE,CACL,yBAAyB,EACzB,uBAAuB,EACvB,sBAAsB;CAEzB,EACD;EACE,OAAO,EAAE,yBAAyB;EAClC,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC,GAAG;EACd,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,qBAAqB;EAC7B,KAAK,EAAE,CACL,iBAAiB;CAEpB,EACD;EACE,OAAO,EAAE,wBAAwB;EACjC,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC,CAAC;EACZ,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,sBAAsB;EAC9B,KAAK,EAAE,CACL,kBAAkB;CAErB,EACD;EACE,OAAO,EAAE,wBAAwB;EACjC,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC,CAAC;EACZ,OAAO,EAAE,IAAI;EACb,MAAM,EAAE,oCAAoC;EAC5C,KAAK,EAAE,CACL,mBAAmB,EACnB,mBAAmB,EACnB,iBAAiB,EACjB,iBAAiB,EACjB,eAAe,EACf,kBAAkB;CAErB,EACD;EACE,OAAO,EAAE,iCAAiC;EAC1C,MAAM,EAAE,MAAM;EACd,QAAQ,EAAE,CAAC,CAAC;EACZ,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,oBAAoB;EAC5B,KAAK,EAAE,CACL,sBAAsB,EACtB,gBAAgB;CAEnB,EACD;EACE,OAAO,EAAE,0BAA0B;EACnC,MAAM,EAAE,MAAM;EACd,QAAQ,EAAE,CAAC,CAAC;EACZ,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,kDAAkD;EAC1D,KAAK,EAAE,CACL,kBAAkB,EAClB,iBAAiB,EACjB,eAAe,EACf,kBAAkB,EAClB,sBAAsB,EACtB,mBAAmB,EACnB,iBAAiB,EACjB,kBAAkB,EAClB,oBAAoB,EACpB,iBAAiB,EACjB,oBAAoB,EACpB,gBAAgB,EAChB,oBAAoB,EACpB,gBAAgB,EAChB,uBAAuB,EACvB,gBAAgB,EAChB,iBAAiB,EACjB,oBAAoB,EACpB,oBAAoB,EACpB,uBAAuB,EACvB,qBAAqB,EACrB,qBAAqB,EACrB,uBAAuB,EACvB,uBAAuB,EACvB,kBAAkB,EAClB,kBAAkB,EAClB,mBAAmB,EACnB,oBAAoB,EACpB,iBAAiB,EACjB,WAAW;CAEd,EACD;EACE,OAAO,EAAE,0BAA0B;EACnC,MAAM,EAAE,MAAM;EACd,QAAQ,EAAE,CAAC,CAAC;EACZ,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,sBAAsB;EAC9B,KAAK,EAAE,CACL,kBAAkB,EAClB,mBAAmB;CAEtB,EACD;EACE,OAAO,EAAE,4BAA4B;EACrC,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC,GAAG;EACd,OAAO,EAAE,IAAI;EACb,MAAM,EAAE,0BAA0B;EAClC,KAAK,EAAE,CACL,kBAAkB;CAErB,EACD;EACE,OAAO,EAAE,gCAAgC;EACzC,MAAM,EAAE,OAAO;EACf,QAAQ,EAAE,CAAC,CAAC;EACZ,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,sBAAsB;EAC9B,KAAK,EAAE,CACL,mBAAmB;CAEtB,EACD;EACE,OAAO,EAAE,yBAAyB;EAClC,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC,CAAC;EACZ,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,0BAA0B;EAClC,KAAK,EAAE,CACL,4BAA4B,EAC5B,gCAAgC,EAChC,yBAAyB,EACzB,4BAA4B,EAC5B,4BAA4B,EAC5B,2BAA2B,EAC3B,2BAA2B,EAC3B,sBAAsB,EACtB,mBAAmB,EACnB,iBAAiB,EACjB,eAAe,EACf,iBAAiB;CAEpB,EACD;EACE,OAAO,EAAE,0BAA0B;EACnC,MAAM,EAAE,MAAM;EACd,QAAQ,EAAE,CAAC,CAAC;EACZ,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,gCAAgC;EACxC,KAAK,EAAE,CACL,mBAAmB,EACnB,eAAe,EACf,iBAAiB,EACjB,mBAAmB,EACnB,gBAAgB,EAChB,oBAAoB,EACpB,gBAAgB,EAChB,kBAAkB,EAClB,oBAAoB,EACpB,kBAAkB,EAClB,WAAW;CAEd,EACD;EACE,OAAO,EAAE,yBAAyB;EAClC,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC,CAAC;EACZ,OAAO,EAAE,IAAI;EACb,MAAM,EAAE,uBAAuB;EAC/B,KAAK,EAAE,CACL,iBAAiB;CAEpB,EACD;EACE,OAAO,EAAE,0BAA0B;EACnC,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC,CAAC;EACZ,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,wBAAwB;EAChC,KAAK,EAAE,CACL,oBAAoB;CAEvB,EACD;EACE,OAAO,EAAE,qBAAqB;EAC9B,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC,CAAC;EACZ,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,sBAAsB;EAC9B,KAAK,EAAE,CACL,eAAe;CAElB,EACD;EACE,OAAO,EAAE,QAAQ;EACjB,MAAM,EAAE,GAAG;EACX,QAAQ,EAAE,CAAC,CAAC;EACZ,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,2CAA2C;EACnD,KAAK,EAAE,CACL,iBAAiB,EACjB,wBAAwB,EACxB,WAAW;CAEd,EACD;EACE,OAAO,EAAE,4BAA4B;EACrC,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC,CAAC;EACZ,OAAO,EAAE,IAAI;EACb,MAAM,EAAE,gCAAgC;EACxC,KAAK,EAAE;CACR,EACD;EACE,OAAO,EAAE,sBAAsB;EAC/B,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,IAAI;EACb,MAAM,EAAE,oBAAoB;EAC5B,KAAK,EAAE,CACL,sBAAsB,EACtB,iBAAiB;CAEpB,EACD;EACE,OAAO,EAAE,0BAA0B;EACnC,MAAM,EAAE,MAAM;EACd,QAAQ,EAAE,CAAC,CAAC;EACZ,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,4BAA4B;EACpC,KAAK,EAAE,CACL,qBAAqB,EACrB,WAAW;CAEd,EACD;EACE,OAAO,EAAE,uBAAuB;EAChC,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,IAAI;EACb,MAAM,EAAE,kBAAkB;EAC1B,KAAK,EAAE,CACL,mBAAmB,EACnB,iBAAiB;CAEpB,EACD;EACE,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,kCAAkC;EAC1C,KAAK,EAAE,CACL,sBAAsB,EACtB,SAAS;CAEZ,EACD;EACE,OAAO,EAAE,mBAAmB;EAC5B,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,yBAAyB;EACjC,KAAK,EAAE,CACL,oBAAoB,EACpB,iBAAiB,EACjB,eAAe,EACf,eAAe;CAElB,EACD;EACE,OAAO,EAAE,qBAAqB;EAC9B,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,IAAI;EACb,MAAM,EAAE,+BAA+B;EACvC,KAAK,EAAE,CACL,oBAAoB,EACpB,iBAAiB,EACjB,eAAe,EACf,eAAe;CAElB,EACD;EACE,OAAO,EAAE,mBAAmB;EAC5B,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,IAAI;EACb,MAAM,EAAE,sBAAsB;EAC9B,KAAK,EAAE,CACL,iBAAiB,EACjB,iBAAiB,EACjB,kBAAkB,EAClB,eAAe,EACf,eAAe;CAElB,EACD;EACE,OAAO,EAAE,yBAAyB;EAClC,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,2BAA2B;EACnC,KAAK,EAAE,CACL,gBAAgB,EAChB,cAAc,EACd,eAAe,EACf,eAAe,EACf,eAAe,EACf,gBAAgB,EAChB,cAAc,EACd,iBAAiB,EACjB,aAAa,EACb,iBAAiB,EACjB,mBAAmB,EACnB,oBAAoB,EACpB,iBAAiB,EACjB,oBAAoB,EACpB,oBAAoB;CAEvB,EACD;EACE,OAAO,EAAE,yBAAyB;EAClC,MAAM,EAAE,MAAM;EACd,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,IAAI;EACb,MAAM,EAAE,8DAA8D;EACtE,KAAK,EAAE,CACL,qBAAqB,EACrB,kBAAkB,EAClB,gBAAgB,EAChB,eAAe,EACf,iBAAiB,EACjB,kBAAkB,EAClB,mBAAmB,EACnB,cAAc,EACd,eAAe,EACf,aAAa,EACb,aAAa,EACb,mBAAmB,EACnB,kBAAkB,EAClB,cAAc,EACd,gBAAgB,EAChB,eAAe,EACf,eAAe;CAElB,EACD;EACE,OAAO,EAAE,8BAA8B;EACvC,MAAM,EAAE,MAAM;EACd,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,IAAI;EACb,MAAM,EAAE,+DAA+D;EACvE,KAAK,EAAE,CACL,iBAAiB,EACjB,mBAAmB,EACnB,iBAAiB,EACjB,kBAAkB,EAClB,kBAAkB,EAClB,eAAe,EACf,eAAe;CAElB,EACD;EACE,OAAO,EAAE,uBAAuB;EAChC,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,IAAI;EACb,MAAM,EAAE,iDAAiD;EACzD,KAAK,EAAE,CACL,cAAc,EACd,iBAAiB,EACjB,mBAAmB,EACnB,eAAe,EACf,cAAc;CAEjB,EACD;EACE,OAAO,EAAE,gCAAgC;EACzC,MAAM,EAAE,MAAM;EACd,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,IAAI;EACb,MAAM,EAAE,8CAA8C;EACtD,KAAK,EAAE,CACL,iBAAiB,EACjB,eAAe,EACf,eAAe,EACf,eAAe;CAElB,EACD;EACE,OAAO,EAAE,iCAAiC;EAC1C,MAAM,EAAE,OAAO;EACf,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,iCAAiC;EACzC,KAAK,EAAE,CACL,gBAAgB,EAChB,eAAe,EACf,oBAAoB,EACpB,eAAe,EACf,iBAAiB,EACjB,cAAc,EACd,mBAAmB,EACnB,eAAe,EACf,eAAe,EACf,iBAAiB,EACjB,eAAe,EACf,mBAAmB,EACnB,cAAc,EACd,WAAW;CAEd,EACD;EACE,OAAO,EAAE,uBAAuB;EAChC,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,sBAAsB;EAC9B,KAAK,EAAE,CACL,iBAAiB;CAEpB,EACD;EACE,OAAO,EAAE,mBAAmB;EAC5B,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,IAAI;EACb,MAAM,EAAE,+BAA+B;EACvC,KAAK,EAAE,CACL,cAAc,EACd,eAAe,EACf,kBAAkB,EAClB,iBAAiB;CAEpB,EACD;EACE,OAAO,EAAE,2BAA2B;EACpC,MAAM,EAAE,MAAM;EACd,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,IAAI;EACb,MAAM,EAAE,oBAAoB;EAC5B,KAAK,EAAE,CACL,aAAa;CAEhB,EACD;EACE,OAAO,EAAE,qBAAqB;EAC9B,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,mBAAmB;EAC3B,KAAK,EAAE,CACL,cAAc;CAEjB,EACD;EACE,OAAO,EAAE,qBAAqB;EAC9B,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,IAAI;EACb,MAAM,EAAE,sBAAsB;EAC9B,KAAK,EAAE,CACL,eAAe;CAElB,EACD;EACE,OAAO,EAAE,yBAAyB;EAClC,MAAM,EAAE,MAAM;EACd,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,IAAI;EACb,MAAM,EAAE,uBAAuB;EAC/B,KAAK,EAAE,CACL,cAAc,EACd,eAAe,EACf,kBAAkB,EAClB,iBAAiB,EACjB,iBAAiB,EACjB,aAAa,EACb,kBAAkB,EAClB,gBAAgB,EAChB,aAAa,EACb,cAAc,EACd,gBAAgB,EAChB,iBAAiB,EACjB,gBAAgB,EAChB,mBAAmB;CAGtB,EACD;EACE,OAAO,EAAE,4BAA4B;EACrC,MAAM,EAAE,MAAM;EACd,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,8BAA8B;EACtC,KAAK,EAAE,CACL,iBAAiB,EACjB,kBAAkB,EAClB,iBAAiB,EACjB,eAAe,EACf,qBAAqB,EACrB,eAAe,EACf,mBAAmB,EACnB,eAAe,EACf,eAAe,EACf,eAAe,EACf,gBAAgB,EAChB,WAAW;CAEd,EACD;EACE,OAAO,EAAE,mBAAmB;EAC5B,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,IAAI;EACb,MAAM,EAAE,2DAA2D;EACnE,KAAK,EAAE,CACL,iBAAiB,EACjB,aAAa,EACb,kBAAkB,EAClB,aAAa,EACb,cAAc,EACd,gBAAgB,EAChB,iBAAiB,EACjB,gBAAgB,EAChB,mBAAmB;CAEtB,EACD;EACE,OAAO,EAAE,sBAAsB;EAC/B,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,sBAAsB;EAC9B,KAAK,EAAE,CACL,iBAAiB;CAEpB,EACD;EACE,OAAO,EAAE,sBAAsB;EAC/B,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,IAAI;EACb,MAAM,EAAE,uBAAuB;EAC/B,KAAK,EAAE,CACL,gBAAgB;CAEnB,EACD;EACE,OAAO,EAAE,qBAAqB;EAC9B,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,qBAAqB;EAC7B,KAAK,EAAE,CACL,gBAAgB;CAEnB,EACD;EACE,OAAO,EAAE,sBAAsB;EAC/B,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,mBAAmB;EAC3B,KAAK,EAAE,CACL,YAAY;CAEf,EACD;EACE,OAAO,EAAE,sBAAsB;EAC/B,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,qBAAqB;EAC7B,KAAK,EAAE,CACL,cAAc;CAEjB,EACD;EACE,OAAO,EAAE,2BAA2B;EACpC,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,yBAAyB;EACjC,KAAK,EAAE,CACL,oBAAoB;CAEvB,EACD;EACE,OAAO,EAAE,oBAAoB;EAC7B,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,4BAA4B;EACpC,KAAK,EAAE,CACL,WAAW,EACX,cAAc,EACd,aAAa,EACb,YAAY,EACZ,aAAa;CAEhB,EACD;EACE,OAAO,EAAE,yBAAyB;EAClC,MAAM,EAAE,MAAM;EACd,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,qBAAqB;EAC7B,KAAK,EAAE,CACL,oBAAoB,EACpB,eAAe,EACf,sBAAsB,EACtB,iBAAiB,EACjB,aAAa,EACb,gBAAgB,EAChB,iBAAiB,EACjB,kBAAkB,EAClB,gBAAgB,EAChB,kBAAkB,EAClB,WAAW,EACX,qBAAqB,EACrB,eAAe,EACf,gBAAgB;CAEnB,EACD;EACE,OAAO,EAAE,sBAAsB;EAC/B,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,sDAAsD;EAC9D,KAAK,EAAE,CACH,cAAc,EAChB,eAAe,EACf,mBAAmB,EACnB,kBAAkB,EAClB,cAAc;CAEjB,EACD;EACE,OAAO,EAAE,aAAa;EACtB,MAAM,EAAE,MAAM;EACd,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,wCAAwC;EAChD,KAAK,EAAE,CACH,kBAAkB,EACpB,eAAe,EACb,kBAAkB;CAEvB,EACD;EACE,OAAO,EAAE,oBAAoB;EAC7B,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,GAAG;EACb,OAAO,EAAE,IAAI;EACb,MAAM,EAAE,oBAAoB;EAC5B,KAAK,EAAE,CACL,aAAa;CAEhB,EACD;EACE,OAAO,EAAE,uBAAuB;EAChC,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,+BAA+B;EACvC,KAAK,EAAE,CACL,YAAY,EACZ,aAAa,EACb,WAAW;CAEd,EACD;EACE,OAAO,EAAE,0BAA0B;EACnC,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,IAAI;EACb,MAAM,EAAE,kBAAkB;EAC1B,KAAK,EAAE,CACL,WAAW;CAEd,EACD;EACE,OAAO,EAAE,yBAAyB;EAClC,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,wBAAwB;EAChC,KAAK,EAAE,CACL,aAAa,EACb,kBAAkB,EAClB,gBAAgB;CAEnB,EACD;EACE,OAAO,EAAE,wBAAwB;EACjC,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,qBAAqB;EAC7B,KAAK,EAAE,CACL,cAAc;CAEjB,EACD;EACE,OAAO,EAAE,wBAAwB;EACjC,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,qBAAqB;EAC7B,KAAK,EAAE,CACL,cAAc;CAEjB,EACD;EACE,OAAO,EAAE,2BAA2B;EACpC,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,GAAG;EACb,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,mBAAmB;EAC3B,KAAK,EAAE,CACL,YAAY;CAEf,EACD;EACE,OAAO,EAAE,yBAAyB;EAClC,MAAM,EAAE,MAAM;EACd,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,gCAAgC;EACxC,KAAK,EAAE,CACL,mBAAmB,EACnB,YAAY,EACZ,aAAa,EACb,eAAe,EACf,eAAe,EACf,WAAW,EACX,gBAAgB,EAChB,eAAe,EACf,WAAW,EACX,kBAAkB,EAClB,iBAAiB;CAEpB,EACD;EACE,OAAO,EAAE,oBAAoB;EAC7B,MAAM,EAAE,MAAM;EACd,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,2BAA2B;EACnC,KAAK,EAAE,CACL,oBAAoB;CAEvB,EACD;EACE,OAAO,EAAE,wBAAwB;EACjC,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,gCAAgC;EACxC,KAAK,EAAE,CACL,cAAc;CAEjB,EACD;EACE,OAAO,EAAE,qBAAqB;EAC9B,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,GAAG;EACb,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,iDAAiD;EACzD,KAAK,EAAE,CACL,cAAc;CAEjB,EACD;EACE,OAAO,EAAE,yBAAyB;EAClC,MAAM,EAAE,MAAM;EACd,QAAQ,EAAE,GAAG;EACb,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,iCAAiC;EACzC,KAAK,EAAE,CACL,cAAc;CAEjB,EACD;EACE,OAAO,EAAE,qBAAqB;EAC9B,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,IAAI;EACd,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,uBAAuB;EAC/B,KAAK,EAAE,CACL,gBAAgB;CAEnB,EACD;EACE,OAAO,EAAE,4BAA4B;EACrC,MAAM,EAAE,MAAM;EACd,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,iCAAiC;EACzC,KAAK,EAAE,CACL,mBAAmB,EACnB,aAAa,EACb,cAAc,EACd,gBAAgB,EAChB,aAAa,EACb,WAAW,EACX,eAAe;CAElB,EACD;EACE,OAAO,EAAE,0BAA0B;EACnC,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,mBAAmB;EAC3B,KAAK,EAAE,CACL,YAAY,EACZ,cAAc;CAEjB,EACD;EACE,OAAO,EAAE,uBAAuB;EAChC,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,GAAG;EACb,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,8BAA8B;EACtC,KAAK,EAAE,CACL,cAAc,EACd,cAAc;CAEjB,EACD;EACE,OAAO,EAAE,uBAAuB;EAChC,MAAM,EAAE,MAAM;EACd,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,qCAAqC;EAC7C,KAAK,EAAE,CACL,kBAAkB,EAClB,cAAc,EACd,WAAW,EACX,cAAc,EACd,iBAAiB,EACjB,gBAAgB,EAChB,aAAa,EACb,gBAAgB,EAChB,WAAW,EACX,kBAAkB;CAErB,EACD;EACE,OAAO,EAAE,+BAA+B;EACxC,MAAM,EAAE,OAAO;EACf,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,yBAAyB;EACjC,KAAK,EAAE,CACL,mBAAmB,EACnB,kBAAkB,EAClB,WAAW;CAEd,EACD;EACE,OAAO,EAAE,qBAAqB;EAC9B,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,mDAAmD;EAC3D,KAAK,EAAE,CACL,gBAAgB,EAChB,YAAY,EACZ,eAAe;CAElB,EACD;EACE,OAAO,EAAE,0BAA0B;EACnC,MAAM,EAAE,MAAM;EACd,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,yBAAyB;EACjC,KAAK,EAAE,CACL,kBAAkB;CAErB,EACD;EACE,OAAO,EAAE,yBAAyB;EAClC,MAAM,EAAE,MAAM;EACd,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,qCAAqC;EAC7C,KAAK,EAAE,CACL,aAAa,EACb,mBAAmB,EACnB,cAAc,EACd,eAAe,EACf,aAAa,EACb,gBAAgB,EAChB,WAAW;CAEd,EACD;EACE,OAAO,EAAE,4BAA4B;EACrC,MAAM,EAAE,MAAM;EACd,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,mBAAmB;EAC3B,KAAK,EAAE,CACL,kBAAkB,EAClB,iBAAiB;CAEpB,EACD;EACE,OAAO,EAAE,sBAAsB;EAC/B,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,oBAAoB;EAC5B,KAAK,EAAE,CACL,aAAa;CAEhB,EACD;EACE,OAAO,EAAE,2BAA2B;EACpC,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,yBAAyB;EACjC,KAAK,EAAE,CACL,iBAAiB,EACjB,kBAAkB;CAErB,EACD;EACE,OAAO,EAAE,+BAA+B;EACxC,MAAM,EAAE,OAAO;EACf,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,qBAAqB;EAC7B,KAAK,EAAE,CACL,cAAc;CAEjB,EACD;EACE,OAAO,EAAE,qBAAqB;EAC9B,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,mCAAmC;EAC3C,KAAK,EAAE,CACL,WAAW,EACX,eAAe,EACf,YAAY,EACZ,WAAW,EACX,eAAe;CAElB,EACD;EACE,OAAO,EAAE,qBAAqB;EAC9B,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,mBAAmB;EAC3B,KAAK,EAAE,CACL,gBAAgB,EAChB,YAAY;CAEf,EACD;EACE,OAAO,EAAE,8BAA8B;EACvC,MAAM,EAAE,MAAM;EACd,QAAQ,EAAE,GAAG;EACb,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,sBAAsB;EAC9B,KAAK,EAAE,CACL,oBAAoB,EACpB,uBAAuB;CAE1B,EACD;EACE,OAAO,EAAE,2BAA2B;EACpC,MAAM,EAAE,MAAM;EACd,QAAQ,EAAE,GAAG;EACb,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,oBAAoB;EAC5B,KAAK,EAAE,CACL,kBAAkB;CAErB,EACD;EACE,OAAO,EAAE,4BAA4B;EACrC,MAAM,EAAE,MAAM;EACd,QAAQ,EAAE,EAAE;EACZ,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,sBAAsB;EAC9B,KAAK,EAAE,CACL,oBAAoB,EACpB,oBAAoB;CAEvB,EACD;EACE,OAAO,EAAE,2BAA2B;EACpC,MAAM,EAAE,MAAM;EACd,QAAQ,EAAE,EAAE;EACZ,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,yCAAyC;EACjD,KAAK,EAAE,CACL,qBAAqB,EACrB,kBAAkB;CAErB,EACD;EACE,OAAO,EAAE,4BAA4B;EACrC,MAAM,EAAE,MAAM;EACd,QAAQ,EAAE,EAAE;EACZ,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,gCAAgC;EACxC,KAAK,EAAE,CACL,2BAA2B,EAC3B,YAAY,EACZ,cAAc,EACd,sBAAsB,EACtB,gBAAgB,EAChB,cAAc;CAEjB,EACD;EACE,OAAO,EAAE,wBAAwB;EACjC,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,EAAE;EACZ,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,oBAAoB;EAC5B,KAAK,EAAE,CACL,kBAAkB,EAClB,kBAAkB;CAErB,EACD;EACE,OAAO,EAAE,uBAAuB;EAChC,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,CAAC;EACX,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,qBAAqB;EAC7B,KAAK,EAAE,CACL,YAAY,EACZ,eAAe,EACf,cAAc;CAEjB,EACD;EACE,OAAO,EAAE,+BAA+B;EACxC,MAAM,EAAE,MAAM;EACd,QAAQ,EAAE,EAAE;EACZ,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,wCAAwC;EAChD,KAAK,EAAE,CACL,sBAAsB,EACtB,YAAY,EACZ,eAAe,EACf,qBAAqB,EACrB,gBAAgB,EAChB,gBAAgB,EAChB,gBAAgB;CAEnB,EACD;EACE,OAAO,EAAE,2BAA2B;EACpC,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,EAAE;EACZ,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,yBAAyB;EACjC,KAAK,EAAE,CACL,eAAe,EACf,eAAe,EACf,kBAAkB;CAErB,EACD;EACE,OAAO,EAAE,2BAA2B;EACpC,MAAM,EAAE,MAAM;EACd,QAAQ,EAAE,EAAE;EACZ,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,kCAAkC;EAC1C,KAAK,EAAE,CACL,oBAAoB,EACpB,kBAAkB;CAErB,EACD;EACE,OAAO,EAAE,QAAQ;EACjB,MAAM,EAAE,GAAG;EACX,QAAQ,EAAE,EAAE;EACZ,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,2CAA2C;EACnD,KAAK,EAAE,CACL,YAAY,EACZ,kBAAkB,EAClB,mBAAmB,EACnB,gBAAgB,EAChB,eAAe,EACf,gBAAgB,EAChB,cAAc,EACd,gBAAgB;CAEnB,EACD;EACE,OAAO,EAAE,oBAAoB;EAC7B,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,EAAE;EACZ,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,kBAAkB;EAC1B,KAAK,EAAE,CACL,cAAc;CAEjB,EACD;EACE,OAAO,EAAE,uBAAuB;EAChC,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,EAAE;EACZ,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,qBAAqB;EAC7B,KAAK,EAAE,CACL,aAAa,EACb,gBAAgB,EAChB,cAAc,EACd,oBAAoB;CAEvB,EACD;EACE,OAAO,EAAE,yBAAyB;EAClC,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,EAAE;EACZ,OAAO,EAAE,IAAI;EACb,MAAM,EAAE,4CAA4C;EACpD,KAAK,EAAE,CACL,gBAAgB;CAEnB,EACD;EACE,OAAO,EAAE,qBAAqB;EAC9B,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,EAAE;EACZ,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,wBAAwB;EAChC,KAAK,EAAE,CACL,YAAY,EACZ,mBAAmB,EACnB,iBAAiB,EACjB,mBAAmB;CAEtB,EACD;EACE,OAAO,EAAE,qBAAqB;EAC9B,MAAM,EAAE,KAAK;EACb,QAAQ,EAAE,EAAE;EACZ,OAAO,EAAE,KAAK;EACd,MAAM,EAAE,mBAAmB;EAC3B,KAAK,EAAE,CACL,cAAc;CAEjB,CACF;AAEI,MAAMC,cAAc,GAAGljC,gDAAM,CAACtK,iDAAO,CAACutC,SAAS,CAACvvD,GAAG,CAAC8X,CAAC,IAAIA,CAAC,CAAC23C,GAAG,CAAC,CAAC,CAAC,CAAC/uC,IAAI,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACt4Cf;AACD;;AAE/D,MAAMivC,YAAY,GAAG,CAAC,UAAU,EAAE,WAAW,EAAE,WAAW,EAAE,QAAQ,EAAE,OAAO,CAAC;AAE9E,MAGaC,mBAAmB;EAHhCtyD,YAAA;IAIY,KAAAuyD,YAAY,GAAG,IAAIt9C,iDAAe,CAACa,IAAI,CAAChV,GAAG,EAAE,CAAC;IAC9C,KAAA0xD,OAAO,GAAIhvD,CAAE,IAAK,IAAI,CAACivD,kBAAkB,EAAE;IAC3C,KAAAC,YAAY,GAAGL,YAAY;IAEnB,KAAAM,WAAW,GAAG3zC,mDAAa,CAAC,CACxC,IAAI,CAACuzC,YAAY,EACjB1xD,8CAAQ,CAAC,IAAI,CAAC,CACjB,CAAC,CAACqV,IAAI,CACHk8C,4DAAY,CAAC,GAAG,CAAC,EACjB1vD,mDAAG,CAAC,CAAC,CAACiwD,WAAW,CAAC,KAAKA,WAAW,CAAC,CACtC;IAEe,KAAAC,SAAS,GAAG,IAAI,CAACD,WAAW,CAACz8C,IAAI,CAC7CxT,mDAAG,CAAEd,IAAI,IAAKkU,IAAI,CAAChV,GAAG,EAAE,GAAGc,IAAI,CAAC,CACnC;;EAEO6wD,kBAAkBA,CAAA;IACtB,IAAI,CAACF,YAAY,CAACh7C,IAAI,CAACzB,IAAI,CAAChV,GAAG,EAAE,CAAC;EACtC;EAEO+xD,OAAOA,CAACC,OAAe;IAC1B,MAAMC,IAAI,GAAG,IAAI,CAACC,cAAc,EAAE;IAClC,OAAO,IAAI,CAACJ,SAAS,CAAC18C,IAAI,CACtBqZ,qDAAK,CAAEt0B,CAAC,IAAKA,CAAC,IAAI63D,OAAO,CAAC,EAC1B/wC,mDAAG,CAAC,MAAMgxC,IAAI,EAAE,CAAC,CACpB;EACL;EAEOC,cAAcA,CAAA;IACjB,IAAI,CAACT,YAAY,CAACh7C,IAAI,CAACzB,IAAI,CAAChV,GAAG,EAAE,CAAC;IAClC,KAAK,MAAMjB,IAAI,IAAI,IAAI,CAAC6yD,YAAY,EAAE;MAClC/5B,QAAQ,CAAC1Q,IAAI,CAAC24B,gBAAgB,CAAC/gD,IAAI,EAAE,IAAI,CAAC2yD,OAAO,CAAC;;IAEtD,OAAO,MAAM,IAAI,CAACS,aAAa,EAAE;EACrC;EAEOA,aAAaA,CAAA;IAChB,KAAK,MAAMpzD,IAAI,IAAI,IAAI,CAAC6yD,YAAY,EAAE;MAClC/5B,QAAQ,CAAC1Q,IAAI,CAACirC,mBAAmB,CAACrzD,IAAI,EAAE,IAAI,CAAC2yD,OAAO,CAAC;;EAE7D;;AAzCSF,mBAAmB;mBAAnBA,mBAAmB;AAAA;AAAnBA,mBAAmB;SAAnBA,mBAAmB;EAAA3uC,OAAA,EAAnB2uC,mBAAmB,CAAA1uC,IAAA;EAAAC,UAAA,EAFhB;AAAM;;;;;;;;;;;;;;;;;;;;;;ACPwB;AACP;AACY;AAEW;AAE9D,MAAMyvC,UAAU,GAAG,IAAID,gEAAS,EAAE;AAElC,MAAME,aAAa,GAAG,IAAIt+C,iDAAe,CAAY,IAAI,CAAC;AAEnD,MAAM62C,YAAY,GAAGyH,aAAa,CAAC9wC,YAAY,EAAE;AAIxDo5B,UAAU,CAAC,MAAK;EACZ,IAAI;IACA,IAAI+C,IAAI,EAAE;GACb,CAAC,MAAM;EACRuU,4DAAQ,CAAC,SAAS,CAAC,CACdj9C,IAAI,CACDylC,qDAAK,CAAC,IAAI,CAAC,EACXyX,qDAAK,CAAC,EAAE,CAAC,EACT1wD,mDAAG,CAAEL,CAAC,IAAK,IAAIgxD,gEAAS,CAAChxD,CAAC,CAAC,CAAC,CAC/B,CACA8T,SAAS,CAAE3F,IAAI,IAAK+iD,aAAa,CAACh8C,IAAI,CAAC/G,IAAI,CAAC,CAAC;AACtD,CAAC,EAAE,GAAG,CAAC;AAEP;AACM,SAAUV,WAAWA,CAAA;EACvB,OAAOyjD,aAAa,CAAC5wC,QAAQ,EAAE,IAAI2wC,UAAU;AACjD;;;;;;;;;;;;;;AC9BA;AACA;AACM,SAAUpK,SAASA,CAAC0C,CAAC;EAAE,IAAIpoD,CAAC,GAAC,IAAI;EAACooD,CAAC,GAAC,QAAQ,IAAE,OAAOA,CAAC,GAACA,CAAC,GAAC,EAAE,EAACpoD,CAAC,CAACgwD,QAAQ,GAAC,CAAC,EAAChwD,CAAC,CAACiwD,UAAU,GAAC;IAACC,GAAG,EAAC,WAAW;IAACC,GAAG,EAAC,WAAW;IAACC,IAAI,EAAC,YAAY;IAACC,GAAG,EAAC,WAAW;IAACC,GAAG,EAAC,WAAW;IAAC,SAAS,EAAC,eAAe;IAACC,IAAI,EAAC,YAAY;IAACC,IAAI,EAAC,YAAY;IAAC,QAAQ,EAAC;EAAc,CAAC,EAACxwD,CAAC,CAAC+lD,OAAO,GAACqC,CAAC,CAACrC,OAAO,EAAC/lD,CAAC,CAACywD,UAAU,GAACzwD,CAAC,CAAC+lD,OAAO,GAAC5wB,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC,GAACD,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC,EAACp1B,CAAC,CAACkL,GAAG,GAACk9C,CAAC,CAACl9C,GAAG,IAAE,EAAE,EAAClL,CAAC,CAAC0nC,IAAI,GAAC0gB,CAAC,CAAC1gB,IAAI,IAAE,GAAG,EAAC1nC,CAAC,CAAC0wD,GAAG,GAAC,CAAC,CAAC,EAAC1wD,CAAC,CAAC4lD,UAAU,GAACwC,CAAC,CAACxC,UAAU,IAAE,MAAM,EAAC5lD,CAAC,CAAC6lD,SAAS,GAACuC,CAAC,CAACvC,SAAS,IAAE,MAAM,EAAC7lD,CAAC,CAACgmD,QAAQ,GAACoC,CAAC,CAACpC,QAAQ,IAAE,CAAC,EAAChmD,CAAC,CAACimD,QAAQ,GAACmC,CAAC,CAACnC,QAAQ,EAACjmD,CAAC,CAACkmD,UAAU,GAACkC,CAAC,CAAClC,UAAU,IAAE,CAAC;EAAC,IAAIxpB,CAAC;IAAC7c,CAAC;IAACpoB,CAAC;IAACoH,CAAC;IAAC8xD,CAAC;IAAC5xB,CAAC;IAACpC,CAAC;IAACiY,CAAC,GAAC,EAAE;IAACjuC,CAAC,GAAC,EAAE;IAAC+qB,CAAC,GAAC,EAAE;IAACk/B,CAAC,GAAC,EAAE;IAACtR,CAAC,GAAC,EAAE;IAAC3qB,CAAC,GAAC,EAAE;IAACzhC,CAAC,GAAC,SAAAA,CAASk1D,CAAC,EAACpoD,CAAC;MAAE,IAAI08B,CAAC;MAAC0rB,CAAC,GAACpoD,CAAC,KAAG08B,CAAC,GAAC0rB,CAAC,EAACA,CAAC,GAACpoD,CAAC,EAACA,CAAC,GAAC08B,CAAC,CAAC,EAACA,CAAC,GAAC18B,CAAC,EAAC08B,CAAC,IAAE18B,CAAC,EAAC08B,CAAC,IAAE18B,CAAC,EAAC08B,CAAC,KAAG,CAAC,EAACk0B,CAAC,CAACl0B,CAAC,IAAE0rB,CAAC,CAAC,GAAC,CAAC;IAAA,CAAC;IAACyI,CAAC,GAAC,SAAAA,CAASzI,CAAC,EAACpoD,CAAC;MAAE,IAAI08B,CAAC;MAAC,KAAIhL,CAAC,CAAC02B,CAAC,GAAC3wD,CAAC,GAACuI,CAAC,CAAC,GAAC,CAAC,EAAC08B,CAAC,GAAC,CAAC,CAAC,EAACA,CAAC,GAAC,CAAC,EAACA,CAAC,EAAE,EAAChL,CAAC,CAAC02B,CAAC,GAAC1rB,CAAC,GAACjlC,CAAC,IAAEuI,CAAC,GAAC,CAAC,CAAC,CAAC,GAAC,CAAC,EAAC0xB,CAAC,CAAC02B,CAAC,GAAC,CAAC,GAAC3wD,CAAC,IAAEuI,CAAC,GAAC08B,CAAC,GAAC,CAAC,CAAC,CAAC,GAAC,CAAC,EAAChL,CAAC,CAAC02B,CAAC,GAAC,CAAC,GAAC3wD,CAAC,IAAEuI,CAAC,GAAC08B,CAAC,CAAC,CAAC,GAAC,CAAC,EAAChL,CAAC,CAAC02B,CAAC,GAAC1rB,CAAC,GAAC,CAAC,GAACjlC,CAAC,IAAEuI,CAAC,GAAC,CAAC,CAAC,CAAC,GAAC,CAAC;MAAC,KAAI08B,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC,CAAC,EAACA,CAAC,EAAE,EAACxpC,CAAC,CAACk1D,CAAC,GAAC,CAAC,EAACpoD,CAAC,GAAC08B,CAAC,CAAC,EAACxpC,CAAC,CAACk1D,CAAC,GAAC,CAAC,EAACpoD,CAAC,GAAC08B,CAAC,CAAC,EAACxpC,CAAC,CAACk1D,CAAC,GAAC1rB,CAAC,EAAC18B,CAAC,GAAC,CAAC,CAAC,EAAC9M,CAAC,CAACk1D,CAAC,GAAC1rB,CAAC,EAAC18B,CAAC,GAAC,CAAC,CAAC;IAAA,CAAC;IAAC8wD,CAAC,GAAC,SAAAA,CAAS1I,CAAC;MAAE,OAAKA,CAAC,IAAE,GAAG,GAAEA,CAAC,GAAC,CAAC,CAACA,CAAC,IAAE,GAAG,KAAG,CAAC,KAAG,GAAG,GAACA,CAAC,CAAC;MAAC,OAAOA,CAAC;IAAA,CAAC;IAAC18C,CAAC,GAAC,SAAAA,CAAS08C,CAAC,EAACpoD,CAAC,EAAC08B,CAAC,EAAC7c,CAAC;MAAE,IAAIpoB,CAAC;QAACoH,CAAC;QAAC8xD,CAAC;QAAC5xB,CAAC,GAAC2mB,SAAS,CAACqL,IAAI;QAACp0B,CAAC,GAAC+oB,SAAS,CAACsL,IAAI;MAAC,KAAIv5D,CAAC,GAAC,CAAC,EAACA,CAAC,GAACooB,CAAC,EAACpoB,CAAC,EAAE,EAACm9C,CAAC,CAAClY,CAAC,GAACjlC,CAAC,CAAC,GAAC,CAAC;MAAC,KAAIA,CAAC,GAAC,CAAC,EAACA,CAAC,GAACuI,CAAC,EAACvI,CAAC,EAAE,EAAC;QAAC,IAAG,GAAG,KAAGk5D,CAAC,GAACh0B,CAAC,CAACiY,CAAC,CAACwT,CAAC,GAAC3wD,CAAC,CAAC,GAACm9C,CAAC,CAAClY,CAAC,CAAC,CAAC,CAAC,EAAC,KAAI79B,CAAC,GAAC,CAAC,EAACA,CAAC,GAACghB,CAAC,EAAChhB,CAAC,EAAE,EAAC+1C,CAAC,CAAClY,CAAC,GAAC79B,CAAC,GAAC,CAAC,CAAC,GAAC+1C,CAAC,CAAClY,CAAC,GAAC79B,CAAC,CAAC,GAACkgC,CAAC,CAAC+xB,CAAC,CAACH,CAAC,GAACh8B,CAAC,CAAC9U,CAAC,GAAChhB,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,KAAIA,CAAC,GAAC69B,CAAC,EAAC79B,CAAC,GAAC69B,CAAC,GAAC7c,CAAC,EAAChhB,CAAC,EAAE,EAAC+1C,CAAC,CAAC/1C,CAAC,CAAC,GAAC+1C,CAAC,CAAC/1C,CAAC,GAAC,CAAC,CAAC;QAAC+1C,CAAC,CAAClY,CAAC,GAAC7c,CAAC,GAAC,CAAC,CAAC,GAAC,GAAG,IAAE8wC,CAAC,GAAC,CAAC,GAAC5xB,CAAC,CAAC+xB,CAAC,CAACH,CAAC,GAACh8B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;IAAC,CAAC;IAACs8B,CAAC,GAAC,SAAAA,CAAS7I,CAAC,EAACpoD,CAAC;MAAE,IAAI08B,CAAC;MAAC,OAAO0rB,CAAC,GAACpoD,CAAC,KAAG08B,CAAC,GAAC0rB,CAAC,EAACA,CAAC,GAACpoD,CAAC,EAACA,CAAC,GAAC08B,CAAC,CAAC,EAACA,CAAC,GAAC18B,CAAC,EAAC08B,CAAC,IAAE18B,CAAC,GAACA,CAAC,EAAC08B,CAAC,KAAG,CAAC,EAACk0B,CAAC,CAACl0B,CAAC,IAAE0rB,CAAC,CAAC;IAAA,CAAC;IAAC8I,CAAC,GAAC,SAAAA,CAAS9I,CAAC;MAAE,IAAIpoD,CAAC,EAAC08B,CAAC,EAAC7c,CAAC,EAAChhB,CAAC;MAAC,QAAOupD,CAAC;QAAE,KAAK,CAAC;UAAC,KAAI1rB,CAAC,GAAC,CAAC,EAACA,CAAC,GAACjlC,CAAC,EAACilC,CAAC,EAAE,EAAC,KAAI18B,CAAC,GAAC,CAAC,EAACA,CAAC,GAACvI,CAAC,EAACuI,CAAC,EAAE,EAACA,CAAC,GAAC08B,CAAC,GAAC,CAAC,IAAEu0B,CAAC,CAACjxD,CAAC,EAAC08B,CAAC,CAAC,KAAGhL,CAAC,CAAC1xB,CAAC,GAAC08B,CAAC,GAACjlC,CAAC,CAAC,IAAE,CAAC,CAAC;UAAC;QAAM,KAAK,CAAC;UAAC,KAAIilC,CAAC,GAAC,CAAC,EAACA,CAAC,GAACjlC,CAAC,EAACilC,CAAC,EAAE,EAAC,KAAI18B,CAAC,GAAC,CAAC,EAACA,CAAC,GAACvI,CAAC,EAACuI,CAAC,EAAE,EAAC,CAAC,GAAC08B,CAAC,IAAEu0B,CAAC,CAACjxD,CAAC,EAAC08B,CAAC,CAAC,KAAGhL,CAAC,CAAC1xB,CAAC,GAAC08B,CAAC,GAACjlC,CAAC,CAAC,IAAE,CAAC,CAAC;UAAC;QAAM,KAAK,CAAC;UAAC,KAAIilC,CAAC,GAAC,CAAC,EAACA,CAAC,GAACjlC,CAAC,EAACilC,CAAC,EAAE,EAAC,KAAI7c,CAAC,GAAC,CAAC,EAAC7f,CAAC,GAAC,CAAC,EAACA,CAAC,GAACvI,CAAC,EAACuI,CAAC,EAAE,EAAC6f,CAAC,EAAE,EAAC,CAAC,IAAEA,CAAC,KAAGA,CAAC,GAAC,CAAC,CAAC,EAACA,CAAC,IAAEoxC,CAAC,CAACjxD,CAAC,EAAC08B,CAAC,CAAC,KAAGhL,CAAC,CAAC1xB,CAAC,GAAC08B,CAAC,GAACjlC,CAAC,CAAC,IAAE,CAAC,CAAC;UAAC;QAAM,KAAK,CAAC;UAAC,KAAIoH,CAAC,GAAC,CAAC,EAAC69B,CAAC,GAAC,CAAC,EAACA,CAAC,GAACjlC,CAAC,EAACilC,CAAC,EAAE,EAAC79B,CAAC,EAAE,EAAC,KAAI,CAAC,IAAEA,CAAC,KAAGA,CAAC,GAAC,CAAC,CAAC,EAACghB,CAAC,GAAChhB,CAAC,EAACmB,CAAC,GAAC,CAAC,EAACA,CAAC,GAACvI,CAAC,EAACuI,CAAC,EAAE,EAAC6f,CAAC,EAAE,EAAC,CAAC,IAAEA,CAAC,KAAGA,CAAC,GAAC,CAAC,CAAC,EAACA,CAAC,IAAEoxC,CAAC,CAACjxD,CAAC,EAAC08B,CAAC,CAAC,KAAGhL,CAAC,CAAC1xB,CAAC,GAAC08B,CAAC,GAACjlC,CAAC,CAAC,IAAE,CAAC,CAAC;UAAC;QAAM,KAAK,CAAC;UAAC,KAAIilC,CAAC,GAAC,CAAC,EAACA,CAAC,GAACjlC,CAAC,EAACilC,CAAC,EAAE,EAAC,KAAI7c,CAAC,GAAC,CAAC,EAAChhB,CAAC,GAAC69B,CAAC,IAAE,CAAC,GAAC,CAAC,EAAC18B,CAAC,GAAC,CAAC,EAACA,CAAC,GAACvI,CAAC,EAACuI,CAAC,EAAE,EAAC6f,CAAC,EAAE,EAAC,CAAC,IAAEA,CAAC,KAAGA,CAAC,GAAC,CAAC,EAAChhB,CAAC,GAAC,CAACA,CAAC,CAAC,EAACA,CAAC,IAAEoyD,CAAC,CAACjxD,CAAC,EAAC08B,CAAC,CAAC,KAAGhL,CAAC,CAAC1xB,CAAC,GAAC08B,CAAC,GAACjlC,CAAC,CAAC,IAAE,CAAC,CAAC;UAAC;QAAM,KAAK,CAAC;UAAC,KAAIoH,CAAC,GAAC,CAAC,EAAC69B,CAAC,GAAC,CAAC,EAACA,CAAC,GAACjlC,CAAC,EAACilC,CAAC,EAAE,EAAC79B,CAAC,EAAE,EAAC,KAAI,CAAC,IAAEA,CAAC,KAAGA,CAAC,GAAC,CAAC,CAAC,EAACghB,CAAC,GAAC,CAAC,EAAC7f,CAAC,GAAC,CAAC,EAACA,CAAC,GAACvI,CAAC,EAACuI,CAAC,EAAE,EAAC6f,CAAC,EAAE,EAAC,CAAC,IAAEA,CAAC,KAAGA,CAAC,GAAC,CAAC,CAAC,EAAC,CAAC7f,CAAC,GAAC08B,CAAC,GAAC,CAAC,IAAE,EAAE,CAAC7c,CAAC,GAAC,CAAChhB,CAAC,CAAC,IAAEoyD,CAAC,CAACjxD,CAAC,EAAC08B,CAAC,CAAC,KAAGhL,CAAC,CAAC1xB,CAAC,GAAC08B,CAAC,GAACjlC,CAAC,CAAC,IAAE,CAAC,CAAC;UAAC;QAAM,KAAK,CAAC;UAAC,KAAIoH,CAAC,GAAC,CAAC,EAAC69B,CAAC,GAAC,CAAC,EAACA,CAAC,GAACjlC,CAAC,EAACilC,CAAC,EAAE,EAAC79B,CAAC,EAAE,EAAC,KAAI,CAAC,IAAEA,CAAC,KAAGA,CAAC,GAAC,CAAC,CAAC,EAACghB,CAAC,GAAC,CAAC,EAAC7f,CAAC,GAAC,CAAC,EAACA,CAAC,GAACvI,CAAC,EAACuI,CAAC,EAAE,EAAC6f,CAAC,EAAE,EAAC,CAAC,IAAEA,CAAC,KAAGA,CAAC,GAAC,CAAC,CAAC,EAAC,CAAC7f,CAAC,GAAC08B,CAAC,GAAC,CAAC,KAAG7c,CAAC,IAAEA,CAAC,IAAEhhB,CAAC,CAAC,GAAC,CAAC,IAAEoyD,CAAC,CAACjxD,CAAC,EAAC08B,CAAC,CAAC,KAAGhL,CAAC,CAAC1xB,CAAC,GAAC08B,CAAC,GAACjlC,CAAC,CAAC,IAAE,CAAC,CAAC;UAAC;QAAM,KAAK,CAAC;UAAC,KAAIoH,CAAC,GAAC,CAAC,EAAC69B,CAAC,GAAC,CAAC,EAACA,CAAC,GAACjlC,CAAC,EAACilC,CAAC,EAAE,EAAC79B,CAAC,EAAE,EAAC,KAAI,CAAC,IAAEA,CAAC,KAAGA,CAAC,GAAC,CAAC,CAAC,EAACghB,CAAC,GAAC,CAAC,EAAC7f,CAAC,GAAC,CAAC,EAACA,CAAC,GAACvI,CAAC,EAACuI,CAAC,EAAE,EAAC6f,CAAC,EAAE,EAAC,CAAC,IAAEA,CAAC,KAAGA,CAAC,GAAC,CAAC,CAAC,EAAC,CAACA,CAAC,IAAEA,CAAC,IAAEhhB,CAAC,KAAGmB,CAAC,GAAC08B,CAAC,GAAC,CAAC,CAAC,GAAC,CAAC,IAAEu0B,CAAC,CAACjxD,CAAC,EAAC08B,CAAC,CAAC,KAAGhL,CAAC,CAAC1xB,CAAC,GAAC08B,CAAC,GAACjlC,CAAC,CAAC,IAAE,CAAC,CAAC;;IAAC,CAAC;IAAC05D,CAAC,GAAC,SAAAA,CAAS/I,CAAC;MAAE,IAAIpoD,CAAC;QAAC08B,CAAC,GAAC,CAAC;MAAC,KAAI18B,CAAC,GAAC,CAAC,EAACA,CAAC,IAAEooD,CAAC,EAACpoD,CAAC,EAAE,EAACs/C,CAAC,CAACt/C,CAAC,CAAC,IAAE,CAAC,KAAG08B,CAAC,IAAEgpB,SAAS,CAAC0L,EAAE,GAAC9R,CAAC,CAACt/C,CAAC,CAAC,GAAC,CAAC,CAAC;MAAC,KAAIA,CAAC,GAAC,CAAC,EAACA,CAAC,GAACooD,CAAC,GAAC,CAAC,EAACpoD,CAAC,IAAE,CAAC,EAACs/C,CAAC,CAACt/C,CAAC,GAAC,CAAC,CAAC,IAAEs/C,CAAC,CAACt/C,CAAC,GAAC,CAAC,CAAC,IAAEs/C,CAAC,CAACt/C,CAAC,GAAC,CAAC,CAAC,IAAEs/C,CAAC,CAACt/C,CAAC,GAAC,CAAC,CAAC,IAAEs/C,CAAC,CAACt/C,CAAC,GAAC,CAAC,CAAC,IAAEs/C,CAAC,CAACt/C,CAAC,GAAC,CAAC,CAAC,IAAE,CAAC,GAACs/C,CAAC,CAACt/C,CAAC,GAAC,CAAC,CAAC,IAAEs/C,CAAC,CAACt/C,CAAC,CAAC,KAAG,CAAC,IAAEs/C,CAAC,CAACt/C,CAAC,GAAC,CAAC,CAAC,IAAEA,CAAC,GAAC,CAAC,GAACooD,CAAC,IAAE,CAAC,GAAC9I,CAAC,CAACt/C,CAAC,GAAC,CAAC,CAAC,IAAE,CAAC,GAACs/C,CAAC,CAACt/C,CAAC,CAAC,IAAE,CAAC,GAACs/C,CAAC,CAACt/C,CAAC,GAAC,CAAC,CAAC,IAAE,CAAC,GAACs/C,CAAC,CAACt/C,CAAC,CAAC,CAAC,KAAG08B,CAAC,IAAEgpB,SAAS,CAAC2L,EAAE,CAAC;MAAC,OAAO30B,CAAC;IAAA,CAAC;IAACkc,CAAC,GAAC,SAAAA,CAAA;MAAW,IAAIwP,CAAC;QAACpoD,CAAC;QAAC08B,CAAC;QAAC7c,CAAC;QAAChhB,CAAC;QAAC8xD,CAAC,GAAC,CAAC;QAAC5xB,CAAC,GAAC,CAAC;MAAC,KAAI/+B,CAAC,GAAC,CAAC,EAACA,CAAC,GAACvI,CAAC,GAAC,CAAC,EAACuI,CAAC,EAAE,EAAC,KAAIooD,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC3wD,CAAC,GAAC,CAAC,EAAC2wD,CAAC,EAAE,EAAC,CAAC12B,CAAC,CAAC02B,CAAC,GAAC3wD,CAAC,GAACuI,CAAC,CAAC,IAAE0xB,CAAC,CAAC02B,CAAC,GAAC,CAAC,GAAC3wD,CAAC,GAACuI,CAAC,CAAC,IAAE0xB,CAAC,CAAC02B,CAAC,GAAC3wD,CAAC,IAAEuI,CAAC,GAAC,CAAC,CAAC,CAAC,IAAE0xB,CAAC,CAAC02B,CAAC,GAAC,CAAC,GAAC3wD,CAAC,IAAEuI,CAAC,GAAC,CAAC,CAAC,CAAC,IAAE,EAAE0xB,CAAC,CAAC02B,CAAC,GAAC3wD,CAAC,GAACuI,CAAC,CAAC,IAAE0xB,CAAC,CAAC02B,CAAC,GAAC,CAAC,GAAC3wD,CAAC,GAACuI,CAAC,CAAC,IAAE0xB,CAAC,CAAC02B,CAAC,GAAC3wD,CAAC,IAAEuI,CAAC,GAAC,CAAC,CAAC,CAAC,IAAE0xB,CAAC,CAAC02B,CAAC,GAAC,CAAC,GAAC3wD,CAAC,IAAEuI,CAAC,GAAC,CAAC,CAAC,CAAC,CAAC,MAAI2wD,CAAC,IAAEjL,SAAS,CAAC4L,EAAE,CAAC;MAAC,KAAItxD,CAAC,GAAC,CAAC,EAACA,CAAC,GAACvI,CAAC,EAACuI,CAAC,EAAE,EAAC;QAAC,KAAIs/C,CAAC,CAAC,CAAC,CAAC,GAAC,CAAC,EAAC5iB,CAAC,GAAC7c,CAAC,GAACuoC,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC3wD,CAAC,EAAC2wD,CAAC,EAAE,EAAC,CAACvpD,CAAC,GAAC6yB,CAAC,CAAC02B,CAAC,GAAC3wD,CAAC,GAACuI,CAAC,CAAC,KAAG6f,CAAC,GAACy/B,CAAC,CAAC5iB,CAAC,CAAC,EAAE,GAAC4iB,CAAC,CAAC,EAAE5iB,CAAC,CAAC,GAAC,CAAC,EAACqC,CAAC,IAAE,CAAClf,CAAC,GAAChhB,CAAC,IAAE,CAAC,GAAC,CAAC,CAAC;QAAC8xD,CAAC,IAAEQ,CAAC,CAACz0B,CAAC,CAAC;;MAACqC,CAAC,GAAC,CAAC,KAAGA,CAAC,GAAC,CAACA,CAAC,CAAC;MAAC,IAAIpC,CAAC,GAACoC,CAAC;QAAC6V,CAAC,GAAC,CAAC;MAAC,KAAIjY,CAAC,IAAEA,CAAC,IAAE,CAAC,EAACA,CAAC,KAAG,CAAC,EAACA,CAAC,GAACllC,CAAC,GAACA,CAAC,GAAEklC,CAAC,IAAEllC,CAAC,GAACA,CAAC,EAACm9C,CAAC,EAAE;MAAC,KAAI+b,CAAC,IAAE/b,CAAC,GAAC8Q,SAAS,CAAC6L,EAAE,EAACnJ,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC3wD,CAAC,EAAC2wD,CAAC,EAAE,EAAC;QAAC,KAAI9I,CAAC,CAAC,CAAC,CAAC,GAAC,CAAC,EAAC5iB,CAAC,GAAC7c,CAAC,GAAC7f,CAAC,GAAC,CAAC,EAACA,CAAC,GAACvI,CAAC,EAACuI,CAAC,EAAE,EAAC,CAACnB,CAAC,GAAC6yB,CAAC,CAAC02B,CAAC,GAAC3wD,CAAC,GAACuI,CAAC,CAAC,KAAG6f,CAAC,GAACy/B,CAAC,CAAC5iB,CAAC,CAAC,EAAE,GAAC4iB,CAAC,CAAC,EAAE5iB,CAAC,CAAC,GAAC,CAAC,EAAC7c,CAAC,GAAChhB,CAAC;QAAC8xD,CAAC,IAAEQ,CAAC,CAACz0B,CAAC,CAAC;;MAAC,OAAOi0B,CAAC;IAAA,CAAC;EAAC3wD,CAAC,CAACwxD,QAAQ,GAAC,UAASpJ,CAAC;IAAE,IAAIpoD,CAAC;MAACs/C,CAAC;MAAC6R,CAAC;MAAChxD,CAAC;MAACsxD,CAAC;MAAC3Q,CAAC;MAAC4Q,CAAC;MAACC,CAAC;MAACC,CAAC,GAAClM,SAAS,CAACmM,SAAS;MAACtxD,CAAC,GAACmlD,SAAS,CAACqL,IAAI;MAACe,CAAC,GAACpM,SAAS,CAACsL,IAAI;IAAC7wD,CAAC,GAACioD,CAAC,CAAC/nD,MAAM,EAACwf,CAAC,GAAC,CAAC;IAAC,GAAE;MAAC,IAAGA,CAAC,EAAE,EAACsxC,CAAC,GAAC,CAAC,IAAEz0B,CAAC,GAAC,CAAC,CAAC,GAAC,EAAE,IAAE7c,CAAC,GAAC,CAAC,CAAC,EAAChhB,CAAC,GAAC+yD,CAAC,CAACT,CAAC,EAAE,CAAC,EAACR,CAAC,GAACiB,CAAC,CAACT,CAAC,EAAE,CAAC,EAACpyB,CAAC,GAAC6yB,CAAC,CAACT,CAAC,EAAE,CAAC,EAACx0B,CAAC,GAACi1B,CAAC,CAACT,CAAC,CAAC,EAAChxD,CAAC,KAAGgxD,CAAC,GAACpyB,CAAC,IAAElgC,CAAC,GAAC8xD,CAAC,CAAC,GAACA,CAAC,GAAC,CAAC,IAAE9wC,CAAC,IAAE,CAAC,CAAC,CAAC,EAAC;KAAM,QAAMA,CAAC,GAAC,EAAE;IAAE,KAAIpoB,CAAC,GAAC,EAAE,GAAC,CAAC,GAACooB,CAAC,EAAC4xC,CAAC,GAAC1yB,CAAC,GAAC,CAACA,CAAC,GAACpC,CAAC,KAAG99B,CAAC,GAAC8xD,CAAC,CAAC,GAACA,CAAC,EAACxwD,CAAC,GAAC,CAAC,EAACA,CAAC,GAACsxD,CAAC,EAACtxD,CAAC,EAAE,EAACwG,CAAC,CAACxG,CAAC,CAAC,GAAC,CAAC;IAAC,KAAIy0C,CAAC,GAACwT,CAAC,CAACvuC,KAAK,CAAC,CAAC,CAAC,EAAC1Z,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC1I,CAAC,GAACA,CAAC,EAAC0I,CAAC,EAAE,EAACuxB,CAAC,CAACvxB,CAAC,CAAC,GAAC,CAAC;IAAC,KAAIA,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC,CAAC1I,CAAC,IAAEA,CAAC,GAAC,CAAC,CAAC,GAAC,CAAC,IAAE,CAAC,EAAC0I,CAAC,EAAE,EAACywD,CAAC,CAACzwD,CAAC,CAAC,GAAC,CAAC;IAAC,KAAIA,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC,CAAC,EAACA,CAAC,EAAE,EAAC;MAAC,KAAIgxD,CAAC,GAAC,CAAC,EAAC7R,CAAC,GAAC,CAAC,EAAC,CAAC,IAAEn/C,CAAC,KAAGgxD,CAAC,GAAC15D,CAAC,GAAC,CAAC,CAAC,EAAC,CAAC,IAAE0I,CAAC,KAAGm/C,CAAC,GAAC7nD,CAAC,GAAC,CAAC,CAAC,EAACi6B,CAAC,CAAC4tB,CAAC,GAAC,CAAC,GAAC7nD,CAAC,IAAE05D,CAAC,GAAC,CAAC,CAAC,CAAC,GAAC,CAAC,EAACnxD,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC,CAAC,EAACA,CAAC,EAAE,EAAC0xB,CAAC,CAAC4tB,CAAC,GAACt/C,CAAC,GAACvI,CAAC,GAAC05D,CAAC,CAAC,GAAC,CAAC,EAACz/B,CAAC,CAAC4tB,CAAC,GAAC7nD,CAAC,IAAE05D,CAAC,GAACnxD,CAAC,GAAC,CAAC,CAAC,CAAC,GAAC,CAAC,EAAC0xB,CAAC,CAAC4tB,CAAC,GAAC,CAAC,GAAC7nD,CAAC,IAAE05D,CAAC,GAACnxD,CAAC,CAAC,CAAC,GAAC,CAAC,EAAC0xB,CAAC,CAAC4tB,CAAC,GAACt/C,CAAC,GAAC,CAAC,GAACvI,CAAC,IAAE05D,CAAC,GAAC,CAAC,CAAC,CAAC,GAAC,CAAC;MAAC,KAAInxD,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC,CAAC,EAACA,CAAC,EAAE,EAAC9M,CAAC,CAACosD,CAAC,GAACt/C,CAAC,EAACmxD,CAAC,GAAC,CAAC,CAAC,EAACj+D,CAAC,CAACosD,CAAC,GAAC,CAAC,EAAC6R,CAAC,GAACnxD,CAAC,GAAC,CAAC,CAAC,EAAC9M,CAAC,CAACosD,CAAC,GAAC,CAAC,EAAC6R,CAAC,GAACnxD,CAAC,CAAC,EAAC9M,CAAC,CAACosD,CAAC,GAACt/C,CAAC,GAAC,CAAC,EAACmxD,CAAC,GAAC,CAAC,CAAC;MAAC,KAAInxD,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC,CAAC,EAACA,CAAC,EAAE,EAAC0xB,CAAC,CAAC4tB,CAAC,GAACt/C,CAAC,GAACvI,CAAC,IAAE05D,CAAC,GAAC,CAAC,CAAC,CAAC,GAAC,CAAC,EAACz/B,CAAC,CAAC4tB,CAAC,GAAC,CAAC,GAAC7nD,CAAC,IAAE05D,CAAC,GAACnxD,CAAC,GAAC,CAAC,CAAC,CAAC,GAAC,CAAC,EAAC0xB,CAAC,CAAC4tB,CAAC,GAAC,CAAC,GAAC7nD,CAAC,IAAE05D,CAAC,GAACnxD,CAAC,CAAC,CAAC,GAAC,CAAC,EAAC0xB,CAAC,CAAC4tB,CAAC,GAACt/C,CAAC,GAAC,CAAC,GAACvI,CAAC,IAAE05D,CAAC,GAAC,CAAC,CAAC,CAAC,GAAC,CAAC;;IAAC,IAAGtxC,CAAC,GAAC,CAAC,EAAC,KAAI1f,CAAC,GAACulD,SAAS,CAACqM,MAAM,CAAClyC,CAAC,CAAC,EAACy/B,CAAC,GAAC7nD,CAAC,GAAC,CAAC,IAAG;MAAC,KAAIuI,CAAC,GAACvI,CAAC,GAAC,CAAC,EAACuI,CAAC,GAACG,CAAC,GAAC,CAAC,KAAG0wD,CAAC,CAAC7wD,CAAC,EAACs/C,CAAC,CAAC,EAAC,EAAEt/C,CAAC,GAACG,CAAC,CAAC,CAAC,GAAEH,CAAC,IAAEG,CAAC;MAAC,IAAGm/C,CAAC,IAAEn/C,CAAC,GAAC,CAAC,EAAC;MAAM0wD,CAAC,CAAC,CAAC,EAACvR,CAAC,IAAEn/C,CAAC,CAAC,EAAC0wD,CAAC,CAACvR,CAAC,EAAC,CAAC,CAAC;;IAAC,KAAI5tB,CAAC,CAAC,CAAC,GAACj6B,CAAC,IAAEA,CAAC,GAAC,CAAC,CAAC,CAAC,GAAC,CAAC,EAAC6nD,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC,CAAC,EAACA,CAAC,EAAE,EAACpsD,CAAC,CAAC,CAAC,EAACosD,CAAC,CAAC,EAACpsD,CAAC,CAACuE,CAAC,GAAC,CAAC,EAAC6nD,CAAC,CAAC,EAACpsD,CAAC,CAAC,CAAC,EAACosD,CAAC,GAAC7nD,CAAC,GAAC,CAAC,CAAC;IAAC,KAAIuI,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC,CAAC,EAACA,CAAC,EAAE,EAAC9M,CAAC,CAAC8M,CAAC,EAAC,CAAC,CAAC,EAAC9M,CAAC,CAAC8M,CAAC,GAACvI,CAAC,GAAC,CAAC,EAAC,CAAC,CAAC,EAACvE,CAAC,CAAC8M,CAAC,EAACvI,CAAC,GAAC,CAAC,CAAC;IAAC,KAAIuI,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC,CAAC,EAACA,CAAC,EAAE,EAAC9M,CAAC,CAAC8M,CAAC,EAAC,CAAC,CAAC;IAAC,KAAIA,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC,CAAC,EAACA,CAAC,EAAE,EAAC9M,CAAC,CAAC8M,CAAC,GAACvI,CAAC,GAAC,CAAC,EAAC,CAAC,CAAC,EAACvE,CAAC,CAAC,CAAC,EAAC8M,CAAC,CAAC;IAAC,KAAIs/C,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC,CAAC,EAACA,CAAC,EAAE,EAACpsD,CAAC,CAAC,CAAC,EAACosD,CAAC,GAAC7nD,CAAC,GAAC,CAAC,CAAC;IAAC,KAAIuI,CAAC,GAAC,CAAC,EAACA,CAAC,GAACvI,CAAC,GAAC,EAAE,EAACuI,CAAC,EAAE,EAAC,CAAC,GAACA,CAAC,IAAE9M,CAAC,CAAC,CAAC,GAAC8M,CAAC,EAAC,CAAC,CAAC,EAAC9M,CAAC,CAAC,CAAC,EAAC,CAAC,GAAC8M,CAAC,CAAC,KAAG0xB,CAAC,CAAC,CAAC,GAAC1xB,CAAC,GAAC,CAAC,GAACvI,CAAC,CAAC,GAAC,CAAC,EAACi6B,CAAC,CAAC,CAAC,GAACj6B,CAAC,IAAE,CAAC,GAACuI,CAAC,CAAC,CAAC,GAAC,CAAC,CAAC;IAAC,IAAG6f,CAAC,GAAC,CAAC,EAAC,KAAI1f,CAAC,GAACulD,SAAS,CAACsM,IAAI,CAACnyC,CAAC,GAAC,CAAC,CAAC,EAACsxC,CAAC,GAAC,EAAE,EAACnxD,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC,CAAC,EAACA,CAAC,EAAE,EAAC,KAAIs/C,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC,CAAC,EAACA,CAAC,EAAE,EAAC6R,CAAC,EAAE,EAAC,CAAC,IAAEA,CAAC,GAAC,EAAE,GAACtxC,CAAC,IAAEsxC,CAAC,GAAC,EAAE,GAAChxD,CAAC,IAAEgxD,CAAC,CAAC,IAAEz/B,CAAC,CAAC,CAAC,GAAC1xB,CAAC,GAACvI,CAAC,IAAE,CAAC,GAAC6nD,CAAC,GAAC7nD,CAAC,GAAC,EAAE,CAAC,CAAC,GAAC,CAAC,EAACi6B,CAAC,CAAC,CAAC,GAAC4tB,CAAC,GAAC7nD,CAAC,GAAC,EAAE,GAACA,CAAC,IAAE,CAAC,GAACuI,CAAC,CAAC,CAAC,GAAC,CAAC,KAAG9M,CAAC,CAAC,CAAC,GAAC8M,CAAC,EAAC,CAAC,GAACs/C,CAAC,GAAC7nD,CAAC,GAAC,EAAE,CAAC,EAACvE,CAAC,CAAC,CAAC,GAACosD,CAAC,GAAC7nD,CAAC,GAAC,EAAE,EAAC,CAAC,GAACuI,CAAC,CAAC,CAAC;IAAC,KAAIs/C,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC7nD,CAAC,EAAC6nD,CAAC,EAAE,EAAC,KAAIt/C,CAAC,GAAC,CAAC,EAACA,CAAC,IAAEs/C,CAAC,EAACt/C,CAAC,EAAE,EAAC0xB,CAAC,CAAC1xB,CAAC,GAACvI,CAAC,GAAC6nD,CAAC,CAAC,IAAEpsD,CAAC,CAAC8M,CAAC,EAACs/C,CAAC,CAAC;IAAC,KAAImS,CAAC,GAAC7c,CAAC,CAACv0C,MAAM,EAACygD,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC2Q,CAAC,EAAC3Q,CAAC,EAAE,EAACn6C,CAAC,CAACm6C,CAAC,CAAC,GAAClM,CAAC,CAAC0J,UAAU,CAACwC,CAAC,CAAC;IAAC,IAAGlM,CAAC,GAACjuC,CAAC,CAACkT,KAAK,CAAC,CAAC,CAAC,EAAC43C,CAAC,IAAE,CAACzxD,CAAC,GAAC++B,CAAC,IAAElgC,CAAC,GAAC8xD,CAAC,CAAC,GAACA,CAAC,IAAE,CAAC,KAAGc,CAAC,GAACzxD,CAAC,GAAC,CAAC,EAAC6f,CAAC,GAAC,CAAC,IAAE4xC,CAAC,EAAE,CAAC,EAAC3Q,CAAC,GAAC2Q,CAAC,EAAC5xC,CAAC,GAAC,CAAC,EAAC;MAAC,KAAI+0B,CAAC,CAACkM,CAAC,GAAC,CAAC,CAAC,GAAC,CAAC,EAAClM,CAAC,CAACkM,CAAC,GAAC,CAAC,CAAC,GAAC,CAAC,EAACA,CAAC,EAAE,GAAE3gD,CAAC,GAACy0C,CAAC,CAACkM,CAAC,CAAC,EAAClM,CAAC,CAACkM,CAAC,GAAC,CAAC,CAAC,IAAE,GAAG,GAAC3gD,CAAC,IAAE,CAAC,EAACy0C,CAAC,CAACkM,CAAC,GAAC,CAAC,CAAC,GAAC3gD,CAAC,IAAE,CAAC;MAACy0C,CAAC,CAAC,CAAC,CAAC,IAAE,GAAG,GAAC6c,CAAC,IAAE,CAAC,EAAC7c,CAAC,CAAC,CAAC,CAAC,GAAC6c,CAAC,IAAE,CAAC,EAAC7c,CAAC,CAAC,CAAC,CAAC,GAAC,EAAE,GAAC6c,CAAC,IAAE,EAAE;KAAC,MAAI;MAAC,KAAI7c,CAAC,CAACkM,CAAC,GAAC,CAAC,CAAC,GAAC,CAAC,EAAClM,CAAC,CAACkM,CAAC,GAAC,CAAC,CAAC,GAAC,CAAC,EAACA,CAAC,EAAE,GAAE3gD,CAAC,GAACy0C,CAAC,CAACkM,CAAC,CAAC,EAAClM,CAAC,CAACkM,CAAC,GAAC,CAAC,CAAC,IAAE,GAAG,GAAC3gD,CAAC,IAAE,CAAC,EAACy0C,CAAC,CAACkM,CAAC,GAAC,CAAC,CAAC,GAAC3gD,CAAC,IAAE,CAAC;MAACy0C,CAAC,CAAC,CAAC,CAAC,IAAE,GAAG,GAAC6c,CAAC,IAAE,CAAC,EAAC7c,CAAC,CAAC,CAAC,CAAC,GAAC,EAAE,GAAC6c,CAAC,IAAE,CAAC;;IAAC,KAAI3Q,CAAC,GAAC2Q,CAAC,GAAC,CAAC,IAAE5xC,CAAC,GAAC,EAAE,CAAC,EAACihC,CAAC,GAAC9gD,CAAC,GAAE40C,CAAC,CAACkM,CAAC,EAAE,CAAC,GAAC,GAAG,EAAClM,CAAC,CAACkM,CAAC,EAAE,CAAC,GAAC,EAAE;IAAC,KAAInsB,CAAC,CAAC,CAAC,CAAC,GAAC,CAAC,EAACmsB,CAAC,GAAC,CAAC,EAACA,CAAC,GAACnkB,CAAC,EAACmkB,CAAC,EAAE,EAAC;MAAC,KAAInsB,CAAC,CAACmsB,CAAC,GAAC,CAAC,CAAC,GAAC,CAAC,EAAC4Q,CAAC,GAAC5Q,CAAC,EAAC4Q,CAAC,GAAC,CAAC,EAACA,CAAC,EAAE,EAAC/8B,CAAC,CAAC+8B,CAAC,CAAC,GAAC/8B,CAAC,CAAC+8B,CAAC,CAAC,GAAC/8B,CAAC,CAAC+8B,CAAC,GAAC,CAAC,CAAC,GAACnxD,CAAC,CAACuwD,CAAC,CAACgB,CAAC,CAACn9B,CAAC,CAAC+8B,CAAC,CAAC,CAAC,GAAC5Q,CAAC,CAAC,CAAC,GAACnsB,CAAC,CAAC+8B,CAAC,GAAC,CAAC,CAAC;MAAC/8B,CAAC,CAAC,CAAC,CAAC,GAACp0B,CAAC,CAACuwD,CAAC,CAACgB,CAAC,CAACn9B,CAAC,CAAC,CAAC,CAAC,CAAC,GAACmsB,CAAC,CAAC,CAAC;;IAAC,KAAIA,CAAC,GAAC,CAAC,EAACA,CAAC,IAAEnkB,CAAC,EAACmkB,CAAC,EAAE,EAACnsB,CAAC,CAACmsB,CAAC,CAAC,GAACgR,CAAC,CAACn9B,CAAC,CAACmsB,CAAC,CAAC,CAAC;IAAC,KAAIqQ,CAAC,GAACnxD,CAAC,EAACs/C,CAAC,GAAC,CAAC,EAACwB,CAAC,GAAC,CAAC,EAACA,CAAC,GAACjiD,CAAC,EAACiiD,CAAC,EAAE,EAACp1C,CAAC,CAAC4zC,CAAC,EAACvgB,CAAC,EAACoyB,CAAC,EAACx0B,CAAC,CAAC,EAAC2iB,CAAC,IAAEvgB,CAAC,EAACoyB,CAAC,IAAEx0B,CAAC;IAAC,KAAImkB,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC6P,CAAC,EAAC7P,CAAC,EAAE,EAACp1C,CAAC,CAAC4zC,CAAC,EAACvgB,CAAC,GAAC,CAAC,EAACoyB,CAAC,EAACx0B,CAAC,CAAC,EAAC2iB,CAAC,IAAEvgB,CAAC,GAAC,CAAC,EAACoyB,CAAC,IAAEx0B,CAAC;IAAC,KAAI2iB,CAAC,GAAC,CAAC,EAACwB,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC/hB,CAAC,EAAC+hB,CAAC,EAAE,EAAC;MAAC,KAAI4Q,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC7yD,CAAC,EAAC6yD,CAAC,EAAE,EAAC/qD,CAAC,CAAC24C,CAAC,EAAE,CAAC,GAAC1K,CAAC,CAACkM,CAAC,GAAC4Q,CAAC,GAAC3yB,CAAC,CAAC;MAAC,KAAI2yB,CAAC,GAAC,CAAC,EAACA,CAAC,GAACf,CAAC,EAACe,CAAC,EAAE,EAAC/qD,CAAC,CAAC24C,CAAC,EAAE,CAAC,GAAC1K,CAAC,CAAC/1C,CAAC,GAACkgC,CAAC,GAAC+hB,CAAC,GAAC4Q,CAAC,IAAE3yB,CAAC,GAAC,CAAC,CAAC,CAAC;;IAAC,KAAI2yB,CAAC,GAAC,CAAC,EAACA,CAAC,GAACf,CAAC,EAACe,CAAC,EAAE,EAAC/qD,CAAC,CAAC24C,CAAC,EAAE,CAAC,GAAC1K,CAAC,CAAC/1C,CAAC,GAACkgC,CAAC,GAAC+hB,CAAC,GAAC4Q,CAAC,IAAE3yB,CAAC,GAAC,CAAC,CAAC,CAAC;IAAC,KAAI+hB,CAAC,GAAC,CAAC,EAACA,CAAC,GAACnkB,CAAC,EAACmkB,CAAC,EAAE,EAAC,KAAI4Q,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC7yD,CAAC,GAAC8xD,CAAC,EAACe,CAAC,EAAE,EAAC/qD,CAAC,CAAC24C,CAAC,EAAE,CAAC,GAAC1K,CAAC,CAAC50C,CAAC,GAAC8gD,CAAC,GAAC4Q,CAAC,GAAC/0B,CAAC,CAAC;IAAC,KAAIiY,CAAC,GAACjuC,CAAC,EAAC3G,CAAC,GAACs/C,CAAC,GAAC7nD,CAAC,GAAC,CAAC,EAAC05D,CAAC,GAACM,CAAC,GAAC,CAAC,EAACE,CAAC,GAAC,CAAC5yB,CAAC,GAACpC,CAAC,KAAG99B,CAAC,GAAC8xD,CAAC,CAAC,GAACA,CAAC,EAAC7P,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC6Q,CAAC,EAAC7Q,CAAC,EAAE,EAAC,KAAI3gD,CAAC,GAACy0C,CAAC,CAACkM,CAAC,CAAC,EAAC4Q,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC,CAAC,EAACA,CAAC,EAAE,EAACvxD,CAAC,KAAG,CAAC,EAAC;MAAC,GAAG,GAACA,CAAC,KAAGuxB,CAAC,CAAC1xB,CAAC,GAACvI,CAAC,GAAC6nD,CAAC,CAAC,GAAC,CAAC,CAAC;MAAC,GAAE;QAACmS,CAAC,GAACzxD,CAAC,EAAE,IAAEA,CAAC,EAAE,EAACmxD,CAAC,GAAC,CAAC,IAAE7R,CAAC,GAACA,CAAC,EAAE,IAAE6R,CAAC,GAAC,CAACA,CAAC,EAAC,CAAC,KAAGnxD,CAAC,IAAE,CAAC,CAAC,KAAGA,CAAC,EAAE,EAACs/C,CAAC,GAAC,CAAC,CAAC,CAAC,GAACA,CAAC,IAAE7nD,CAAC,GAAC,CAAC,GAAC6nD,CAAC,EAAE,IAAE6R,CAAC,GAAC,CAACA,CAAC,EAAC,CAAC,KAAGnxD,CAAC,IAAE,CAAC,CAAC,KAAGA,CAAC,EAAE,EAACs/C,CAAC,IAAE,CAAC,CAAC,CAAC,CAAC,EAACmS,CAAC,GAAC,CAACA,CAAC;OAAC,QAAMR,CAAC,CAACjxD,CAAC,EAACs/C,CAAC,CAAC;;IAAE,KAAI1K,CAAC,GAACljB,CAAC,CAAC7X,KAAK,CAAC,CAAC,CAAC,EAAC1Z,CAAC,GAAC,CAAC,EAACm/C,CAAC,GAAC,GAAG,EAAC6R,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC,CAAC,KAAGD,CAAC,CAACC,CAAC,CAAC,EAAC,CAACnxD,CAAC,GAAC44C,CAAC,EAAE,IAAE0G,CAAC,KAAGA,CAAC,GAACt/C,CAAC,EAACG,CAAC,GAACgxD,CAAC,CAAC,EAAC,CAAC,IAAEhxD,CAAC,CAAC,EAACgxD,CAAC,EAAE,EAACz/B,CAAC,GAACkjB,CAAC,CAAC/6B,KAAK,CAAC,CAAC,CAAC;IAAC,KAAI1Z,CAAC,IAAEgxD,CAAC,IAAED,CAAC,CAAC/wD,CAAC,CAAC,EAACm/C,CAAC,GAACoG,SAAS,CAACuM,OAAO,CAAC9xD,CAAC,IAAEu8B,CAAC,GAAC,CAAC,IAAE,CAAC,CAAC,CAAC,EAACy0B,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC,CAAC,EAACA,CAAC,EAAE,EAAC7R,CAAC,KAAG,CAAC,EAAC,CAAC,GAACA,CAAC,KAAG5tB,CAAC,CAACj6B,CAAC,GAAC,CAAC,GAAC05D,CAAC,GAAC,CAAC,GAAC15D,CAAC,CAAC,GAAC,CAAC,EAAC05D,CAAC,GAAC,CAAC,GAACz/B,CAAC,CAAC,CAAC,GAACj6B,CAAC,GAAC05D,CAAC,CAAC,GAAC,CAAC,GAACz/B,CAAC,CAAC,CAAC,GAACj6B,CAAC,IAAE05D,CAAC,GAAC,CAAC,CAAC,CAAC,GAAC,CAAC,CAAC;IAAC,KAAIA,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC,CAAC,EAACA,CAAC,EAAE,EAAC7R,CAAC,KAAG,CAAC,EAAC,CAAC,GAACA,CAAC,KAAG5tB,CAAC,CAAC,CAAC,GAACj6B,CAAC,IAAEA,CAAC,GAAC,CAAC,GAAC05D,CAAC,CAAC,CAAC,GAAC,CAAC,EAACA,CAAC,GAACz/B,CAAC,CAAC,CAAC,GAACy/B,CAAC,GAAC,CAAC,GAAC15D,CAAC,CAAC,GAAC,CAAC,GAACi6B,CAAC,CAAC,CAAC,GAAC,CAAC,GAACj6B,CAAC,CAAC,GAAC,CAAC,CAAC;IAAC,OAAOi6B,CAAC;EAAA,CAAC,EAAC1xB,CAAC,CAAC0gD,IAAI,GAAC;IAAWhkB,CAAC,GAAC18B,CAAC,CAACgmD,QAAQ;IAAC,IAAIoC,CAAC,GAACpoD,CAAC,CAACwxD,QAAQ,CAACxxD,CAAC,CAACkL,GAAG,CAAC;IAAClL,CAAC,CAAC+lD,OAAO,GAAC/lD,CAAC,CAACkyD,UAAU,CAAC9J,CAAC,EAAC3wD,CAAC,CAAC,GAACuI,CAAC,CAACmyD,WAAW,CAAC/J,CAAC,EAAC3wD,CAAC,CAAC;EAAA,CAAC,EAACuI,CAAC,CAAC0gD,IAAI,EAAE;AAAA;AAACgF,SAAS,CAAC0M,SAAS,GAAC;EAACD,WAAW,EAAC,SAAAA,CAAS/J,CAAC,EAACpoD,CAAC;IAAE,IAAG,CAAC,IAAI,CAAC0wD,GAAG,KAAG,IAAI,CAACA,GAAG,GAAC,IAAI,CAAC2B,UAAU,CAAC,IAAI,CAAC5B,UAAU,CAAC,EAAC,CAAC,IAAI,CAACC,GAAG,CAAC,EAAC,OAAO,IAAI,CAAC3K,OAAO,GAAC,CAAC,CAAC,EAAC,IAAI,CAAC0K,UAAU,GAACt7B,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC,EAAC,KAAK,IAAI,CAAC88B,UAAU,CAAC9J,CAAC,EAACpoD,CAAC,CAAC;IAAC,IAAI08B,CAAC,GAAC,IAAI,CAACgL,IAAI;MAAC7nB,CAAC,GAAC,IAAI,CAAC6wC,GAAG;IAAC7wC,CAAC,CAACyyC,SAAS,GAAC,CAAC;IAAC,IAAI76D,CAAC,GAACilC,CAAC;IAACjlC,CAAC,IAAEuI,CAAC,GAAC,EAAE,EAACvI,CAAC,GAACmG,IAAI,CAAC20D,KAAK,CAAC96D,CAAC,GAAC,EAAE,CAAC;IAAC,IAAIoH,CAAC,GAAC,CAAC;IAAC,IAAI,CAAConD,QAAQ,IAAEpmC,CAAC,CAAC2yC,MAAM,CAAC1xD,KAAK,GAAC+e,CAAC,CAAC2yC,MAAM,CAACvxD,MAAM,GAACxJ,CAAC,GAACuI,CAAC,EAACnB,CAAC,GAAC,CAAC,IAAEghB,CAAC,CAAC2yC,MAAM,CAAC1xD,KAAK,GAAC+e,CAAC,CAAC2yC,MAAM,CAACvxD,MAAM,GAACy7B,CAAC,EAAC7c,CAAC,CAAC4yC,SAAS,CAAC,CAAC,EAAC,CAAC,EAAC/1B,CAAC,EAACA,CAAC,CAAC,EAAC7c,CAAC,CAAC6yC,SAAS,GAAC,IAAI,CAAC9M,UAAU,EAAC/lC,CAAC,CAAC8yC,QAAQ,CAAC,CAAC,EAAC,CAAC,EAACl7D,CAAC,IAAEuI,CAAC,GAAC,CAAC,CAAC,EAACvI,CAAC,IAAEuI,CAAC,GAAC,CAAC,CAAC,CAAC,EAAC6f,CAAC,CAAC6yC,SAAS,GAAC,IAAI,CAAC7M,SAAS;IAAC,KAAI,IAAI8K,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC3wD,CAAC,EAAC2wD,CAAC,EAAE,EAAC,KAAI,IAAI5xB,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC/+B,CAAC,EAAC++B,CAAC,EAAE,EAACqpB,CAAC,CAACrpB,CAAC,GAAC/+B,CAAC,GAAC2wD,CAAC,CAAC,IAAE9wC,CAAC,CAAC8yC,QAAQ,CAACl7D,CAAC,IAAEoH,CAAC,GAAC8xD,CAAC,CAAC,EAACl5D,CAAC,IAAEoH,CAAC,GAACkgC,CAAC,CAAC,EAACtnC,CAAC,EAACA,CAAC,CAAC;EAAA,CAAC;EAACy6D,UAAU,EAAC,SAAAA,CAAS9J,CAAC,EAACpoD,CAAC;IAAE,IAAI08B,CAAC,GAAC,IAAI;MAAC7c,CAAC,GAACjiB,IAAI,CAAC20D,KAAK,CAAC,IAAI,CAAC7qB,IAAI,GAAC1nC,CAAC,GAAC,GAAG,CAAC,GAAC,IAAI;MAACvI,CAAC,GAACuI,CAAC,IAAE08B,CAAC,CAACupB,QAAQ,GAAC,CAAC,GAAC,CAAC,GAACvpB,CAAC,CAACwpB,UAAU,CAAC;MAACrnD,CAAC,GAAC69B,CAAC,CAACwpB,UAAU;MAACyK,CAAC,GAAC,QAAQ,GAAC9wC,CAAC,GAAC,UAAU,GAACA,CAAC,GAAC,GAAG;MAACkf,CAAC,GAACrC,CAAC,CAACkpB,UAAU;MAACjpB,CAAC,GAACD,CAAC,CAACmpB,SAAS;MAACjR,CAAC,GAACzf,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;IAACwf,CAAC,CAACvf,KAAK,CAACu9B,OAAO,GAAC,oCAAoC;IAAC,KAAI,IAAIjsD,CAAC,EAAC+qB,CAAC,GAACyD,QAAQ,CAACC,aAAa,CAAC,IAAI,CAAC,EAACw7B,CAAC,GAACz7B,QAAQ,CAACC,aAAa,CAAC,IAAI,CAAC,EAACkqB,CAAC,GAAC,SAAAA,CAAA;QAAW,OAAOsR,CAAC,CAACiC,SAAS,EAAE;MAAA,CAAC,EAACl+B,CAAC,GAAC,SAAAA,CAAA;QAAW,IAAIyzB,CAAC,GAAC9I,CAAC,EAAE;QAAC,OAAO8I,CAAC,CAAC/yB,KAAK,CAACu9B,OAAO,GAACjC,CAAC,GAAC,aAAa,GAAC5xB,CAAC,EAACqpB,CAAC;MAAA,CAAC,EAACl1D,CAAC,GAAC,SAAAA,CAASk1D,CAAC;QAAE,KAAI,IAAIpoD,CAAC,GAACooD,CAAC,CAAC0K,UAAU,EAACp2B,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC79B,CAAC,EAAC69B,CAAC,EAAE,EAAC0rB,CAAC,CAAChH,YAAY,CAACzsB,CAAC,EAAE,EAAC30B,CAAC,CAAC,EAACooD,CAAC,CAAC7yB,WAAW,CAACZ,CAAC,EAAE,CAAC;MAAA,CAAC,EAACk8B,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC7wD,CAAC,EAAC6wD,CAAC,EAAE,EAAC;MAAC,IAAIC,CAAC,GAACp/B,CAAC,CAACmhC,SAAS,EAAE;MAACje,CAAC,CAACrf,WAAW,CAACu7B,CAAC,CAAC;MAAC,KAAI,IAAIplD,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC1L,CAAC,EAAC0L,CAAC,EAAE,EAAC,IAAG,CAAC,KAAG08C,CAAC,CAACyI,CAAC,GAAC7wD,CAAC,GAAC0L,CAAC,CAAC,EAAC;QAAC,IAAIulD,CAAC,IAAEtqD,CAAC,GAAC,KAAK,CAAC,EAAC,CAACA,CAAC,GAAC24C,CAAC,EAAE,EAAEjqB,KAAK,CAACu9B,OAAO,GAACjC,CAAC,GAAC,aAAa,GAACh0B,CAAC,EAACh2B,CAAC,CAAC;QAACmqD,CAAC,CAACv7B,WAAW,CAAC07B,CAAC,CAAC;OAAC,MAAI;QAAC,IAAIC,CAAC,GAACv8B,CAAC,EAAE;QAACm8B,CAAC,CAACv7B,WAAW,CAAC27B,CAAC,CAAC;;MAACx0B,CAAC,CAACupB,QAAQ,IAAE/yD,CAAC,CAAC49D,CAAC,CAAC;;IAACp0B,CAAC,CAACupB,QAAQ,IAAE,UAASmC,CAAC;MAAE,KAAI,IAAIpoD,CAAC,GAACooD,CAAC,CAAC0K,UAAU,EAACjzC,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC6c,CAAC,CAACwpB,UAAU,EAACrmC,CAAC,EAAE,EAAC;QAAC,KAAI,IAAIhhB,CAAC,GAAC6yB,CAAC,CAACmhC,SAAS,EAAE,EAAClC,CAAC,GAAC,CAAC,EAACA,CAAC,GAACl5D,CAAC,EAACk5D,CAAC,EAAE,EAAC;UAAC,IAAI5xB,CAAC,GAACpK,CAAC,EAAE;UAAC91B,CAAC,CAAC02B,WAAW,CAACwJ,CAAC,CAAC;;QAACqpB,CAAC,CAAC7yB,WAAW,CAAC12B,CAAC,CAAC,EAACupD,CAAC,CAAChH,YAAY,CAACviD,CAAC,CAACg0D,SAAS,CAAC,CAAC,CAAC,CAAC,EAAC7yD,CAAC,CAAC;;IAAC,CAAC,CAAC40C,CAAC,CAAC,EAAClY,CAAC,CAAC+zB,UAAU,CAACsC,SAAS,GAAC,EAAE,EAACr2B,CAAC,CAAC+zB,UAAU,CAACl7B,WAAW,CAACqf,CAAC,CAAC;EAAA,CAAC;EAACyd,UAAU,EAAC,SAAAA,CAASjK,CAAC;IAAE,OAAOA,CAAC,CAACiK,UAAU,IAAEjK,CAAC,CAACiK,UAAU,CAAC,IAAI,CAAC,GAACjK,CAAC,CAACiK,UAAU,CAAC,IAAI,CAAC,IAAEn8C,OAAO,CAAC2gC,GAAG,CAAC,yCAAyC,CAAC,EAAC,CAAC,CAAC,CAAC;EAAA,CAAC;EAACsP,OAAO,EAAC,SAAAA,CAASiC,CAAC;IAAE,IAAG,IAAI,CAACsI,GAAG,EAAC;MAAC,IAAI1wD,CAAC,GAAC,IAAI,CAACiwD,UAAU,CAAC7H,CAAC,CAAC;MAAC,IAAG,CAACpoD,CAAC,EAAC,MAAM,IAAIs4C,KAAK,CAAC8P,CAAC,GAAC,6BAA6B,CAAC;MAAC,IAAI1rB,CAAC,GAAC,IAAIs2B,KAAK,CAAL,CAAK;MAAC,OAAOt2B,CAAC,CAAChwB,GAAG,GAAC,IAAI,CAAC+jD,UAAU,CAACwC,SAAS,CAACjzD,CAAC,CAAC,EAAC08B,CAAC;;EAAC;AAAC,CAAC,EAACgpB,SAAS,CAACqM,MAAM,GAAC,CAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,CAAC,EAACrM,SAAS,CAACsM,IAAI,GAAC,CAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,GAAG,EAAC,IAAI,EAAC,GAAG,EAAC,IAAI,EAAC,GAAG,EAAC,IAAI,EAAC,GAAG,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,CAAC,EAACtM,SAAS,CAACuM,OAAO,GAAC,CAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,IAAI,EAAC,IAAI,EAAC,KAAK,EAAC,KAAK,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,EAAC,GAAG,EAAC,IAAI,EAAC,IAAI,CAAC,EAACvM,SAAS,CAACmM,SAAS,GAAC,CAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,GAAG,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,GAAG,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,GAAG,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,GAAG,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,GAAG,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,GAAG,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,GAAG,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,GAAG,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,GAAG,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,GAAG,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,GAAG,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,CAAC,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,CAAC,EAACnM,SAAS,CAACsL,IAAI,GAAC,CAAC,GAAG,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,CAAC,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,CAAC,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,CAAC,EAAC,EAAE,EAAC,GAAG,EAAC,CAAC,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,CAAC,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,CAAC,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,CAAC,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,CAAC,EAACtL,SAAS,CAACqL,IAAI,GAAC,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,CAAC,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,CAAC,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,G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","sources":["./apps/workplace/src/app/app-routing.module.ts","./apps/workplace/src/app/app.module.ts","./apps/workplace/src/app/components/booking-form-modal.component.ts","./apps/workplace/src/app/components/event-timeline/event-timeline.component.ts","./apps/workplace/src/app/components/event-timeline/event-timeline.component.html","./apps/workplace/src/app/components/footer-menu.component.ts","./apps/workplace/src/app/components/global-search.component.ts","./apps/workplace/src/app/components/shared.module.ts","./apps/workplace/src/app/components/top-menu.component.ts","./apps/workplace/src/app/components/topbar.component.ts","./apps/workplace/src/app/components/vertical-timeline/vertical-timeline.component.ts","./apps/workplace/src/app/components/vertical-timeline/vertical-timeline.component.html","./apps/workplace/src/app/overlays/overlays.module.ts","./apps/workplace/src/app/overlays/recurrence-modal.component.ts","./apps/workplace/src/app/overlays/user-availability-modal/user-availability.modal.component.ts","./apps/workplace/src/app/overlays/user-availability-modal/user-availability.modal.component.html","./apps/workplace/src/app/overlays/view-attendees-modal/view-attendees-modal.component.ts","./apps/workplace/src/app/overlays/view-attendees-modal/view-attendees-modal.component.html","./apps/workplace/src/app/overlays/view-catering-modal/view-catering-modal.component.ts","./apps/workplace/src/app/overlays/view-catering-modal/view-catering-modal.component.html","./apps/workplace/src/environments/environment.ts","./apps/workplace/src/main.ts","./libs/assets/src/index.ts","./libs/assets/src/lib/asset-group.pipe.ts","./libs/assets/src/lib/asset-list-field.component.ts","./libs/assets/src/lib/asset-select-modal/asset-details.component.ts","./libs/assets/src/lib/asset-select-modal/asset-filters-display.component.ts","./libs/assets/src/lib/asset-select-modal/asset-filters.component.ts","./libs/assets/src/lib/asset-select-modal/asset-list.component.ts","./libs/assets/src/lib/asset-select-modal/asset-select-modal.component.ts","./libs/assets/src/lib/asset-state.service.ts","./libs/assets/src/lib/asset.class.ts","./libs/assets/src/lib/asset.utilities.ts","./libs/assets/src/lib/assets.fn.ts","./libs/assets/src/lib/assets.module.ts","./libs/bookings/src/index.ts","./libs/bookings/src/lib/booking-card.component.ts","./libs/bookings/src/lib/booking-details-modal.component.ts","./libs/bookings/src/lib/booking-form.service.ts","./libs/bookings/src/lib/booking-link-modal.component.ts","./libs/bookings/src/lib/booking.class.ts","./libs/bookings/src/lib/booking.utilities.ts","./libs/bookings/src/lib/bookings.fn.ts","./libs/bookings/src/lib/bookings.module.ts","./libs/bookings/src/lib/desk-confirm-modal.component.ts","./libs/bookings/src/lib/desk-list-field.component.ts","./libs/bookings/src/lib/desk-questions-modal.component.ts","./libs/bookings/src/lib/desk-select-modal/desk-details.component.ts","./libs/bookings/src/lib/desk-select-modal/desk-filters-display.component.ts","./libs/bookings/src/lib/desk-select-modal/desk-filters.component.ts","./libs/bookings/src/lib/desk-select-modal/desk-list.component.ts","./libs/bookings/src/lib/desk-select-modal/desk-map.component.ts","./libs/bookings/src/lib/desk-select-modal/desk-select-modal.component.ts","./libs/bookings/src/lib/desk.service.ts","./libs/bookings/src/lib/invite-visitor-form.component.ts","./libs/bookings/src/lib/locker-grid.component.ts","./libs/bookings/src/lib/locker-list-field.component.ts","./libs/bookings/src/lib/locker-select-modal/locker-bank-list.component.ts","./libs/bookings/src/lib/locker-select-modal/locker-filters-display.component.ts","./libs/bookings/src/lib/locker-select-modal/locker-filters.component.ts","./libs/bookings/src/lib/locker-select-modal/locker-map.component.ts","./libs/bookings/src/lib/locker-select-modal/locker-select-modal.component.ts","./libs/bookings/src/lib/lockers.service.ts","./libs/bookings/src/lib/parking-select-modal/parking-details.component.ts","./libs/bookings/src/lib/parking-select-modal/parking-filters-display.component.ts","./libs/bookings/src/lib/parking-select-modal/parking-filters.component.ts","./libs/bookings/src/lib/parking-select-modal/parking-list.component.ts","./libs/bookings/src/lib/parking-select-modal/parking-location-pin.component.ts","./libs/bookings/src/lib/parking-select-modal/parking-map.component.ts","./libs/bookings/src/lib/parking-select-modal/parking-select-modal.component.ts","./libs/bookings/src/lib/parking-space-list-field.component.ts","./libs/calendar/src/lib/calendar.class.ts","./libs/calendar/src/lib/calendar.fn.ts","./libs/catering/src/lib/catering-item.class.ts","./libs/catering/src/lib/catering-order.class.ts","./libs/common/src/index.ts","./libs/common/src/lib/angular-animations.ts","./libs/common/src/lib/api.ts","./libs/common/src/lib/application.ts","./libs/common/src/lib/async-handler.class.ts","./libs/common/src/lib/calendar-links.ts","./libs/common/src/lib/common.ts","./libs/common/src/lib/feature-available.guard.ts","./libs/common/src/lib/formatting.ts","./libs/common/src/lib/general.ts","./libs/common/src/lib/google-analytics.service.ts","./libs/common/src/lib/hotkeys.service.ts","./libs/common/src/lib/notifications.ts","./libs/common/src/lib/placeos.ts","./libs/common/src/lib/qr-code.ts","./libs/common/src/lib/remote-logging.service.ts","./libs/common/src/lib/room-configuration.interface.ts","./libs/common/src/lib/settings.service.ts","./apps/workplace/src/environments/settings.ts","./libs/common/src/lib/spec-helpers.ts","./libs/common/src/lib/timezone-helpers.ts","./libs/common/src/lib/timezones.ts","./libs/common/src/lib/user-idle-time.service.ts","./libs/common/src/lib/user-state.ts","./libs/common/src/lib/vanillaqr.min.ts","./libs/common/src/lib/version.ts","./libs/common/src/lib/vorlon.service.ts","./libs/components/src/index.ts","./libs/components/src/lib/accessibility-tooltip.component.ts","./libs/components/src/lib/action-icon.component.ts","./libs/components/src/lib/app.component.ts","./libs/components/src/lib/authorised-admin.guard.ts","./libs/components/src/lib/authorised-user.guard.ts","./libs/components/src/lib/binding.directive.ts","./libs/components/src/lib/building-select.component.ts","./libs/components/src/lib/building.pipe.ts","./libs/components/src/lib/changelog-modal.component.ts","./libs/components/src/lib/components.module.ts","./libs/components/src/lib/confirm-modal.component.ts","./libs/components/src/lib/custom-table.component.ts","./libs/components/src/lib/custom-tooltip.component.ts","./libs/components/src/lib/debug-console.component.ts","./libs/components/src/lib/duration.pipe.ts","./libs/components/src/lib/fixed.pipe.ts","./libs/components/src/lib/global-banner.component.ts","./libs/components/src/lib/global-loading.component.ts","./libs/components/src/lib/help-tooltip.component.ts","./libs/components/src/lib/icon.component.ts","./libs/components/src/lib/image-carousel.component.ts","./libs/components/src/lib/interactive-map.component.ts","./libs/components/src/lib/json-display.component.ts","./libs/components/src/lib/language-tooltip.component.ts","./libs/components/src/lib/level.pipe.ts","./libs/components/src/lib/login.component.ts","./libs/components/src/lib/map-locate-modal.component.ts","./libs/components/src/lib/map-pin.component.ts","./libs/components/src/lib/map-polygon.component.ts","./libs/components/src/lib/map-radius.component.ts","./libs/components/src/lib/misconfigured.component.ts","./libs/components/src/lib/popout-menu.component.ts","./libs/components/src/lib/redirect.component.ts","./libs/components/src/lib/region-select.component.ts","./libs/components/src/lib/safe.pipe.ts","./libs/components/src/lib/sanitise.pipe.ts","./libs/components/src/lib/status-overlay.component.ts","./libs/components/src/lib/support-ticket-modal.component.ts","./libs/components/src/lib/unauthorised.component.ts","./libs/components/src/lib/user-avatar.component.ts","./libs/components/src/lib/user-controls.component.ts","./libs/components/src/lib/virtual-keyboard.component.ts","./libs/events/src/index.ts","./libs/events/src/lib/attendee-list.component.ts","./libs/events/src/lib/event-card.component.ts","./libs/events/src/lib/event-details-modal.component.ts","./libs/events/src/lib/event-form.service.ts","./libs/events/src/lib/event-link-modal.component.ts","./libs/events/src/lib/event.class.ts","./libs/events/src/lib/events.fn.ts","./libs/events/src/lib/events.module.ts","./libs/events/src/lib/events.ts","./libs/events/src/lib/helpers.ts","./libs/events/src/lib/utilities.ts","./libs/events/src/lib/validators.ts","./libs/explore/src/index.ts","./libs/explore/src/lib/explore-book-qr.component.ts","./libs/explore/src/lib/explore-booking-modal.component.ts","./libs/explore/src/lib/explore-desk-info.component.ts","./libs/explore/src/lib/explore-desks.service.ts","./libs/explore/src/lib/explore-device-info.component.ts","./libs/explore/src/lib/explore-locker-bank-info.component.ts","./libs/explore/src/lib/explore-locker-bank-modal.component.ts","./libs/explore/src/lib/explore-lockers.service.ts","./libs/explore/src/lib/explore-map-control.component.ts","./libs/explore/src/lib/explore-map-view.component.ts","./libs/explore/src/lib/explore-parking.service.ts","./libs/explore/src/lib/explore-search.component.ts","./libs/explore/src/lib/explore-search.service.ts","./libs/explore/src/lib/explore-sensor-info.component.ts","./libs/explore/src/lib/explore-space-info.component.ts","./libs/explore/src/lib/explore-spaces.service.ts","./libs/explore/src/lib/explore-state.service.ts","./libs/explore/src/lib/explore-zones.service.ts","./libs/explore/src/lib/explore-zoom-control.component.ts","./libs/explore/src/lib/explore.module.ts","./libs/explore/src/lib/explore.ts","./libs/explore/src/lib/set-datetime-modal.component.ts","./libs/form-fields/src/index.ts","./libs/form-fields/src/lib/action-field.component.ts","./libs/form-fields/src/lib/counter.component.ts","./libs/form-fields/src/lib/date-field.component.ts","./libs/form-fields/src/lib/duration-field.component.ts","./libs/form-fields/src/lib/form-fields.module.ts","./libs/form-fields/src/lib/host-select-field.component.ts","./libs/form-fields/src/lib/image-list-field.component.ts","./libs/form-fields/src/lib/item-list-field.component.ts","./libs/form-fields/src/lib/recurrence-field.component.ts","./libs/form-fields/src/lib/recurrence-modal.component.ts","./libs/form-fields/src/lib/rich-text-input.component.ts","./libs/form-fields/src/lib/space-list-field.component.ts","./libs/form-fields/src/lib/time-field.component.ts","./libs/form-fields/src/lib/upload-file-field.component.ts","./libs/form-fields/src/lib/upload-list-field.component.ts","./libs/form-fields/src/lib/user-list-field.component.ts","./libs/form-fields/src/lib/user-search-field.component.ts","./libs/mocks/src/index.ts","./libs/mocks/src/lib/api/assets.data.ts","./libs/mocks/src/lib/api/assets.mock.ts","./libs/mocks/src/lib/api/bookings.data.ts","./libs/mocks/src/lib/api/bookings.mock.ts","./libs/mocks/src/lib/api/calendars.mock.ts","./libs/mocks/src/lib/api/catering.data.ts","./libs/mocks/src/lib/api/common.mock.ts","./libs/mocks/src/lib/api/events.data.ts","./libs/mocks/src/lib/api/events.mock.ts","./libs/mocks/src/lib/api/spaces.data.ts","./libs/mocks/src/lib/api/systems.mock.ts","./libs/mocks/src/lib/api/users.data.ts","./libs/mocks/src/lib/api/users.mock.ts","./libs/mocks/src/lib/api/zone.data.ts","./libs/mocks/src/lib/api/zones.mock.ts","./libs/mocks/src/lib/realtime/camera.ts","./libs/mocks/src/lib/realtime/capture.ts","./libs/mocks/src/lib/realtime/contact-tracing.ts","./libs/mocks/src/lib/realtime/control.ts","./libs/mocks/src/lib/realtime/desks.ts","./libs/mocks/src/lib/realtime/display.ts","./libs/mocks/src/lib/realtime/events.ts","./libs/mocks/src/lib/realtime/meeting.ts","./libs/mocks/src/lib/realtime/microphone.ts","./libs/mocks/src/lib/realtime/payments.ts","./libs/mocks/src/lib/realtime/video-conference.ts","./libs/mocks/src/lib/systems-bindings.mock.ts","./libs/mocks/src/mocks.ts","./libs/organisation/src/index.ts","./libs/organisation/src/lib/building.class.ts","./libs/organisation/src/lib/building.utilities.ts","./libs/organisation/src/lib/desk.class.ts","./libs/organisation/src/lib/level.class.ts","./libs/organisation/src/lib/organisation.class.ts","./libs/organisation/src/lib/organisation.service.ts","./libs/organisation/src/lib/organisation.utilities.ts","./libs/organisation/src/lib/region.class.ts","./libs/payments/src/index.ts","./libs/payments/src/lib/card-input-field.component.ts","./libs/payments/src/lib/payment-modal.component.ts","./libs/payments/src/lib/payments.module.ts","./libs/payments/src/lib/payments.service.ts","./libs/spaces/src/index.ts","./libs/spaces/src/lib/space-select-item.component.ts","./libs/spaces/src/lib/space-select-modal.component.ts","./libs/spaces/src/lib/space-select-modal/new-space-select-modal.component.ts","./libs/spaces/src/lib/space-select-modal/space-details.component.ts","./libs/spaces/src/lib/space-select-modal/space-filters-display.component.ts","./libs/spaces/src/lib/space-select-modal/space-filters.component.ts","./libs/spaces/src/lib/space-select-modal/space-list.component.ts","./libs/spaces/src/lib/space-select-modal/space-location-pin.component.ts","./libs/spaces/src/lib/space-select-modal/space-map.component.ts","./libs/spaces/src/lib/space.class.ts","./libs/spaces/src/lib/space.pipe.ts","./libs/spaces/src/lib/space.utilities.ts","./libs/spaces/src/lib/spaces.module.ts","./libs/spaces/src/lib/spaces.service.ts","./libs/spaces/src/lib/spaces.ts","./libs/users/src/index.ts","./libs/users/src/lib/find-availability-modal/find-availability-modal.component.ts","./libs/users/src/lib/find-availability-modal/user-availability.component.ts","./libs/users/src/lib/guests.fn.ts","./libs/users/src/lib/location.class.ts","./libs/users/src/lib/new-user-modal.component.ts","./libs/users/src/lib/staff.fn.ts","./libs/users/src/lib/user-form.component.ts","./libs/users/src/lib/user.class.ts","./libs/users/src/lib/user.pipe.ts","./libs/users/src/lib/user.utilities.ts","./libs/users/src/lib/users.module.ts","./libs/users/src/lib/wfh-settings-modal.component.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport {\n    AuthorisedUserGuard,\n    MisconfiguredComponent,\n    UnauthorisedComponent,\n    RedirectComponent\n} from '@placeos/components';\n\nconst routes: Routes = [\n    { path: '-', component: RedirectComponent },\n    { path: 'unauthorised', component: UnauthorisedComponent },\n    { path: 'misconfigured', component: MisconfiguredComponent },\n    {\n        path: 'dashboard',\n        canActivate: [AuthorisedUserGuard],\n        canLoad: [AuthorisedUserGuard],\n        loadChildren: () =>\n            import('./dashboard/dashboard.module').then(\n                (m) => m.DashboardModule\n            ),\n    },\n    {\n        path: 'landing',\n        canActivate: [AuthorisedUserGuard],\n        canLoad: [AuthorisedUserGuard],\n        loadChildren: () =>\n            import('./landing/landing.module').then(\n                (m) => m.AppLandingModule\n            ),\n    },\n    {\n        path: 'book',\n        canActivate: [AuthorisedUserGuard],\n        canLoad: [AuthorisedUserGuard],\n        loadChildren: () =>\n            import('./book/book.module').then((m) => m.BookModule),\n    },\n    {\n        path: 'explore',\n        canActivate: [AuthorisedUserGuard],\n        canLoad: [AuthorisedUserGuard],\n        loadChildren: () =>\n            import('./explore/explore.module').then((m) => m.ExploreModule),\n    },\n    {\n        path: 'control',\n        canActivate: [AuthorisedUserGuard],\n        canLoad: [AuthorisedUserGuard],\n        loadChildren: () =>\n            import('./control/control.module').then((m) => m.ControlModule),\n    },\n    {\n        path: 'directory',\n        canActivate: [AuthorisedUserGuard],\n        canLoad: [AuthorisedUserGuard],\n        loadChildren: () =>\n            import('./directory/directory.module').then(\n                (m) => m.DirectoryModule\n            ),\n    },\n    {\n        path: 'your-bookings',\n        canActivate: [AuthorisedUserGuard],\n        canLoad: [AuthorisedUserGuard],\n        loadChildren: () =>\n            import('./new-schedule/schedule.module').then(\n                (m) => m.AppScheduleModule\n            ),\n    },\n    {\n        path: 'schedule',\n        canActivate: [AuthorisedUserGuard],\n        canLoad: [AuthorisedUserGuard],\n        loadChildren: () =>\n            import('./schedule/schedule.module').then(\n                (m) => m.AppScheduleModule\n            ),\n    },\n    {\n        path: 'whats-on',\n        canActivate: [AuthorisedUserGuard],\n        canLoad: [AuthorisedUserGuard],\n        loadChildren: () =>\n            import('./whats-on/whats-on.module').then((m) => m.WhatsOnModule),\n    },\n    { path: '**', redirectTo: '-', pathMatch: 'full' },\n];\n\n@NgModule({\n    imports: [RouterModule.forRoot(routes, { useHash: true })],\n    exports: [RouterModule],\n})\nexport class AppRoutingModule {}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { ServiceWorkerModule } from '@angular/service-worker';\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\nimport { MatNativeDateModule } from '@angular/material/core';\n\nimport { HttpClientModule, HttpClient } from '@angular/common/http';\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\n\nimport {\n    MisconfiguredComponent,\n    UnauthorisedComponent,\n} from '@placeos/components';\nimport { AppComponent } from 'libs/components/src/lib/app.component';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { environment } from '../environments/environment';\nimport { SharedOverlaysModule } from './overlays/overlays.module';\n\nimport * as Sentry from '@sentry/angular-ivy';\n\nimport { SharedComponentModule } from './components/shared.module';\nimport { SharedBookingsModule } from '@placeos/bookings';\n\n// AoT requires an exported function for factories\nexport function HttpLoaderFactory(http: HttpClient) {\n    return new TranslateHttpLoader(http, './assets/locale/', '.json');\n}\n\n@NgModule({\n    declarations: [AppComponent, UnauthorisedComponent, MisconfiguredComponent],\n    imports: [\n        BrowserModule,\n        BrowserAnimationsModule,\n        AppRoutingModule,\n        ServiceWorkerModule.register('ngsw-worker.js', {\n            enabled: environment.production,\n        }),\n        HttpClientModule,\n        FormsModule,\n        SharedOverlaysModule,\n        SharedComponentModule,\n        MatNativeDateModule,\n        MatSnackBarModule,\n        SharedBookingsModule,\n        TranslateModule.forRoot({\n            defaultLanguage: 'en',\n            loader: {\n                provide: TranslateLoader,\n                useFactory: HttpLoaderFactory,\n                deps: [HttpClient],\n            },\n        }),\n    ],\n    providers: [\n        {\n            provide: ErrorHandler,\n            useValue: Sentry.createErrorHandler({\n                showDialog: false,\n            }),\n        },\n        {\n            provide: Sentry.TraceService,\n            deps: [Router],\n        },\n    ],\n    bootstrap: [AppComponent],\n})\nexport class AppModule {}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\n\nimport { AsyncHandler } from '@placeos/common';\n\n@Component({\n    selector: 'a-booking-form-modal',\n    template: `\n        <div class=\"booking-form\" [formGroup]=\"form\">\n            <div *ngIf=\"first_form\">\n                <div>\n                    <label i18n>\n                        <strong>Meeting Subject:<span>*</span></strong>\n                    </label>\n                    <mat-form-field appearance=\"outline\">\n                        <input\n                            matInput\n                            name=\"title\"\n                            placeholder=\"Enter here\"\n                            formControlName=\"title\"\n                        />\n                    </mat-form-field>\n                </div>\n                <div *ngIf=\"form.controls.organiser\">\n                    <label for=\"organiser\" i18n>\n                        <strong>Host:<span>*</span></strong>\n                    </label>\n                    <a-user-search-field\n                        name=\"organiser\"\n                        formControlName=\"organiser\"\n                    ></a-user-search-field>\n                </div>\n                <div>\n                    <label for=\"start-time\" i18n>\n                        <strong>Time:<span>*</span></strong>\n                    </label>\n                    <a-time-field\n                        name=\"start-time\"\n                        formControlName=\"date\"\n                    ></a-time-field>\n                </div>\n                <div style=\"margin-top: 1.5em;\">\n                    <label for=\"duration\" i18n>\n                        <strong>Duration:<span>*</span></strong>\n                    </label>\n                    <a-duration-field\n                        name=\"duration\"\n                        formControlName=\"duration\"\n                    ></a-duration-field>\n                </div>\n            </div>\n            <div [hidden]=\"first_form\">\n                <input\n                    *ngIf=\"form.controls.notes\"\n                    class=\"notes\"\n                    matInput\n                    name=\"notes\"\n                    placeholder=\"Add notes here...\"\n                    formControlName=\"notes\"\n                />\n                <div *ngIf=\"form.controls.head_count\">\n                    <label for=\"organiser\" i18n>\n                        <strong>Estimated Headcount:<span>*</span></strong>\n                    </label>\n                    <mat-form-field appearance=\"outline\">\n                        <input\n                            matInput\n                            name=\"headcount\"\n                            placeholder=\"Expected attendees here..\"\n                            formControlName=\"head_count\"\n                        />\n                    </mat-form-field>\n                </div>\n            </div>\n        </div>\n    `,\n    styles: [\n        `\n            .field {\n                display: flex;\n                flex-wrap: wrap;\n            }\n\n            .notes {\n                padding-bottom: 150px;\n                width: 100%;\n                background-color: lightgrey;\n                border: solid 1px rgba(black, 0.5);\n                margin-bottom: 50px;\n            }\n\n            mat-form-field {\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class BookingFormModalComponent extends AsyncHandler {\n    @Input() public first_form: boolean;\n    @Input() public form: FormGroup;\n}\n","import {\n    Component,\n    OnInit,\n    Input,\n    SimpleChanges,\n    OnChanges,\n    Output,\n    EventEmitter,\n    ViewChild,\n    ElementRef,\n} from '@angular/core';\nimport { AsyncHandler } from '@placeos/common';\n\nimport * as dayjs from 'dayjs';\n\nexport interface ITimelineEventGroup {\n    name?: string;\n    divider?: boolean;\n    can_toggle?: boolean;\n    disabled?: boolean;\n    required?: boolean;\n    events?: ITimelineEvent[];\n    blocks?: ITimelineBlock[];\n    remove?: () => void;\n}\n\nexport interface ITimelineEvent {\n    start: number;\n    duration: number;\n    text?: string;\n}\n\ninterface ITimelineBlock {\n    id: string;\n    display?: string;\n    short?: string;\n    hour?: boolean;\n    divider?: boolean;\n    unavailable?: boolean;\n    events?: ITimelineEvent[];\n}\n\n@Component({\n    selector: 'event-timeline',\n    templateUrl: './event-timeline.component.html',\n    styleUrls: ['./event-timeline.component.scss'],\n})\nexport class EventTimelineComponent\n    extends AsyncHandler\n    implements OnInit, OnChanges\n{\n    /** Groups and events */\n    @Input() public groups: ITimelineEventGroup[];\n    /** Selected date */\n    @Input() public date = dayjs().valueOf();\n    /** Selected duration in min */\n    @Input() public duration = 30;\n    /** Whether time can be changed */\n    @Input() public can_select = true;\n    @Input() public klass: string;\n\n    /** Output emitter */\n    @Output() public dateChange = new EventEmitter<number>();\n    @Output() public durationChange = new EventEmitter<number>();\n    @Output() public groupsChange = new EventEmitter<ITimelineEventGroup[]>();\n\n    public vertical = false;\n    public model: { [name: string]: any } = {};\n\n    @ViewChild('overlay', { static: false })\n    public content: ElementRef<HTMLDivElement>;\n\n    public ngOnInit(): void {\n        this.model.start = dayjs(this.date).hour(6).minute(30);\n        this.model.end = dayjs(this.date).hour(21).minute(30);\n        this.generateBlocks();\n        this.updateTime();\n        this.interval('timer', () => this.updateTime(), 60 * 1000);\n        const now = dayjs();\n        const tomorrow = dayjs().add(1, 'd').startOf('d');\n        this.timeout(\n            'update_date',\n            () => {\n                this.updateStartEnd();\n                this.interval(\n                    'update_date',\n                    () => this.updateStartEnd(),\n                    24 * 60 * 60 * 1000\n                );\n            },\n            Math.floor(tomorrow.diff(now, 's'))\n        );\n    }\n\n    public ngOnChanges(changes: SimpleChanges): void {\n        if (changes.groups) {\n            this.processGroups();\n        }\n        if (changes.date || changes.duration) {\n            this.updateStartEnd();\n        }\n    }\n\n    public updateStartEnd() {\n        this.model.start = dayjs(this.date).hour(6).minute(30);\n        this.model.end = dayjs(this.date).hour(21).minute(30);\n        this.updatePeriod();\n        this.updateTime();\n    }\n\n    public generateBlocks() {\n        const start = this.model.start;\n        const end = this.model.end;\n        const blocks: ITimelineBlock[] = [];\n        for (\n            let time = dayjs(start);\n            time.isBefore(end);\n            time = time.add(5, 'm')\n        ) {\n            blocks.push({\n                id: time.format('HH:mm'),\n                display: time.format('hh:00 a'),\n                short: time.format('hh a'),\n                hour: time.minute() === 0,\n                divider: time.minute() % 30 === 0,\n            });\n        }\n        this.model.blocks = blocks;\n    }\n\n    public processGroups() {\n        this.timeout(\n            'process',\n            () => {\n                this.model.groups = [];\n                const date = dayjs(this.model.start);\n                const end = this.model.end;\n                for (const grp of this.groups || []) {\n                    const blocks: ITimelineBlock[] = [];\n                    for (\n                        let time = dayjs(date);\n                        time.isBefore(end);\n                        time = time.add(5, 'm')\n                    ) {\n                        const blk_end = dayjs(time).add(5, 'm');\n                        let events = [];\n                        if (grp.events) {\n                            events = grp.events.filter((i) => {\n                                const event_time = dayjs(this.date)\n                                    .hour(Math.floor(i.start))\n                                    .minute(Math.floor((i.start * 60) % 60));\n                                return (\n                                    (event_time.isAfter(time, 'm') ||\n                                        event_time.isSame(time, 'm')) &&\n                                    event_time.isBefore(blk_end, 'm')\n                                );\n                            });\n                        }\n                        blocks.push({\n                            id: time.format('HH:mm'),\n                            events,\n                        });\n                    }\n                    this.model.groups.push({ ...grp, blocks });\n                }\n                this.checkInUseBlocks();\n            },\n            20\n        );\n    }\n\n    public checkInUseBlocks() {\n        if (!this.model.blocks) {\n            return;\n        }\n        const blocks: ITimelineBlock[] = this.model.blocks.map((i) => ({\n            ...i,\n            unavailable: false,\n        }));\n        for (const grp of this.model.groups) {\n            for (const event of grp.events || []) {\n                const start = this.hoursToDate(event.start);\n                const end = dayjs(start).add(event.duration, 'm');\n                for (\n                    let time = dayjs(start);\n                    time.isBefore(end);\n                    time = time.add(5, 'm')\n                ) {\n                    const display = time.format('HH:mm');\n                    const blk = blocks.find((i) => i.id === display);\n                    if (blk) {\n                        blk.unavailable = true;\n                    }\n                }\n            }\n        }\n        this.model.blocks = blocks;\n    }\n\n    public hoursToDate(time: number) {\n        let t = dayjs()\n            .startOf('d')\n            .hour(Math.floor(time))\n            .minute(Math.floor((time * 60) % 60));\n        t = t.minute(Math.floor(t.minute() / 5) * 5);\n        return t;\n    }\n\n    public timeToDate(timestamp: string) {\n        const parts = timestamp.split(':');\n        let t = dayjs()\n            .startOf('d')\n            .hour(+parts[0])\n            .minute(+parts[1]);\n        t = t.minute(Math.floor(t.minute() / 5) * 5);\n        return t;\n    }\n\n    public updatePeriod() {\n        const start = dayjs(this.date).startOf('m');\n        const period = this.model.end.diff(this.model.start, 'm') / 60;\n        this.model.start_time = start.diff(this.model.start, 'm') / 60 / period;\n        this.model.duration = this.duration / 60 / period;\n    }\n\n    public updateTime() {\n        const start = dayjs().startOf('m');\n        const period = this.model.end.diff(this.model.start, 'm') / 60;\n        this.model.today = start.diff(this.model.start, 'm') / 60 / period;\n    }\n\n    public resetMove() {\n        this.model.move = '';\n    }\n\n    public setMove(move: string) {\n        this.model.move = move;\n    }\n\n    public setTime(block: ITimelineBlock) {\n        if (!block) {\n            return;\n        }\n        const parts = block.id.split(':');\n        const time = dayjs(this.date)\n            .hour(+parts[0])\n            .minute(+parts[1]);\n        this.date = time.valueOf();\n        this.dateChange.emit(this.date);\n        this.updatePeriod();\n    }\n\n    public move(e) {\n        this.timeout(\n            'move',\n            () => {\n                if (this.model.move && this.content) {\n                    const center = {\n                        x:\n                            e.touches && e.touches.length > 0\n                                ? e.touches[0].clientX || e.clientX\n                                : e.clientX,\n                        y:\n                            e.touches && e.touches.length > 0\n                                ? e.touches[0].clientY || e.clientY\n                                : e.clientY,\n                    };\n                    const content_box =\n                        this.content.nativeElement.getBoundingClientRect();\n                    const percent_w =\n                        (center.x - content_box.left) / content_box.width;\n                    const percent_h =\n                        (center.y - content_box.top) / content_box.height;\n                    const percent = !this.vertical ? percent_w : percent_h;\n\n                    const start_time =\n                        this.model.start.hour() +\n                        this.model.start.minute() / 60;\n                    const end_time =\n                        this.model.end.hour() + this.model.end.minute() / 60;\n                    const diff_time = end_time - start_time;\n                    const block_size = 15;\n                    const hour =\n                        Math.ceil(\n                            (diff_time * percent + start_time) *\n                                (60 / block_size)\n                        ) /\n                        (60 / block_size);\n                    if (this.model.move === 'end') {\n                        let date = dayjs(this.date);\n                        const end = dayjs(this.date)\n                            .hour(Math.floor(hour))\n                            .minute(Math.floor((hour * 60) % 60));\n                        if (end.isSame(date, 'm') || end.isBefore(date, 'm')) {\n                            date = dayjs(end).add(-this.duration, 'm');\n                            this.date = date.valueOf();\n                        } else {\n                            const duration = Math.floor(end.diff(date, 'm'));\n                            this.duration = Math.max(\n                                60,\n                                duration || block_size\n                            );\n                            this.durationChange.emit(this.duration);\n                        }\n                    } else if (this.model.move === 'start') {\n                        const date = dayjs(this.date)\n                            .hour(Math.floor(hour))\n                            .minute(Math.floor((hour * 60) % 60));\n                        this.date = date.valueOf();\n                    }\n                    this.dateChange.emit(this.date);\n                    this.updatePeriod();\n                }\n            },\n            10\n        );\n    }\n}\n","<div [class]=\"'event-timeline' + (klass ? ' ' + klass : '')\">\n    <div class=\"times\" (window:mouseup)=\"resetMove()\" (window:touchend)=\"resetMove()\">\n        <div class=\"row divider\">\n            <div class=\"header\"></div>\n            <div class=\"line\">\n                <div class=\"mini-block\" *ngFor=\"let blk of model.blocks || []\">\n                    <div class=\"time\" *ngIf=\"blk.hour\">\n                        <span>{{ blk.short }}</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"content\">\n        <div class=\"overlay row\">\n            <div class=\"header\"></div>\n            <div class=\"line\" #overlay (mousemove)=\"move($event)\" (touchmove)=\"move($event)\">\n                <div\n                    class=\"mini-block\"\n                    *ngFor=\"let blk of model.blocks || []\"\n                    [class.unavailable]=\"blk.unavailable\"\n                    (click)=\"setTime(blk)\"\n                >\n                    <div class=\"bar\" [class.hour]=\"blk.hour\" [class.divider]=\"blk.divider\"></div>\n                </div>\n                <div\n                    class=\"current-time\"\n                    *ngIf=\"model.today > 0\"\n                    [style.left]=\"vertical ? '' : model.today * 100 + '%'\"\n                    [style.top]=\"vertical ? model.today * 100 + '%' : ''\"\n                ></div>\n                <div\n                    class=\"selected-time\"\n                    *ngIf=\"can_select\"\n                    [style.left]=\"vertical ? '' : model.start_time * 100 + '%'\"\n                    [style.top]=\"vertical ? model.start_time * 100 + '%' : ''\"\n                    [style.width]=\"vertical ? '' : model.duration * 100 + '%'\"\n                    [style.height]=\"vertical ? model.duration * 100 + '%' : ''\"\n                >\n                    <div\n                        class=\"inner\"\n                        (mousedown)=\"setMove('start')\"\n                        (touchstart)=\"setMove('start')\"\n                    ></div>\n                    <div\n                        class=\"knob start\"\n                        (mousedown)=\"setMove('start')\"\n                        (touchstart)=\"setMove('start')\"\n                    ></div>\n                    <div\n                        class=\"knob end\"\n                        (mousedown)=\"setMove('end')\"\n                        (touchstart)=\"setMove('end')\"\n                    ></div>\n                </div>\n            </div>\n        </div>\n        <div class=\"row\" *ngFor=\"let grp of this.model.groups || []\" [class.divider]=\"grp.divider\">\n            <div class=\"header\">\n                <div class=\"text\">{{ grp.name }}</div>\n                <div class=\"icon\" *ngIf=\"grp.remove\" (click)=\"grp.remove()\">\n                    <i class=\"material-icons\">close</i>\n                </div>\n            </div>\n            <div class=\"line\">\n                <div class=\"mini-block\" *ngFor=\"let blk of grp.blocks\">\n                    <div\n                        class=\"item\"\n                        *ngFor=\"let event of blk.events\"\n                        [style.width]=\"vertical ? '' : (event.duration / 5) * 100 + '%'\"\n                        [style.height]=\"vertical ? (event.duration / 5) * 100 + '%' : ''\"\n                    >\n                        <div class=\"text\">{{ event.text }}</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n","import { Component } from '@angular/core';\nimport { ApplicationLink, SettingsService } from '@placeos/common';\n\n@Component({\n    selector: 'footer-menu',\n    template: `\n        <div\n            class=\"fixed z-20 inset-0 bottom-16 bg-black/75 text-white\"\n            *ngIf=\"show_book_items\"\n            [attr.dark]=\"dark_mode\"\n            (click)=\"show_book_items = false\"\n        >\n            <div\n                class=\"absolute inset-x-0 bottom-0 flex flex-wrap items-end justify-center p-4\"\n            >\n                <a\n                    name=\"footer-nav-meeting\"\n                    matRipple\n                    [routerLink]=\"\n                        new_features\n                            ? ['/book', 'meeting']\n                            : ['/book', 'spaces']\n                    \"\n                    *ngIf=\"features.includes('spaces')\"\n                    routerLinkActive=\"active\"\n                    class=\"flex flex-col items-center justify-center space-y-2 text-base w-1/3 m-2\"\n                >\n                    <div\n                        class=\"bg-white rounded-full h-12 w-12 text-black text-2xl flex items-center justify-center\"\n                    >\n                        <app-icon filled class=\"text-neutral-500\"\n                            >meeting_room</app-icon\n                        >\n                        <app-icon outline className=\"material-icons-outlined\"\n                            >meeting_room</app-icon\n                        >\n                    </div>\n                    <div class=\"text-xs\" i18n>Book Meeting</div>\n                </a>\n                <a\n                    matRipple\n                    name=\"footer-nav-desks\"\n                    [routerLink]=\"\n                        new_features\n                            ? ['/book', 'new-desks']\n                            : ['/book', 'desks']\n                    \"\n                    routerLinkActive=\"active\"\n                    *ngIf=\"features.includes('desks')\"\n                    class=\"flex flex-col items-center justify-center space-y-2 text-base w-1/3 m-2\"\n                >\n                    <div\n                        class=\"bg-white rounded-full h-12 w-12 text-black text-2xl flex items-center justify-center\"\n                    >\n                        <app-icon filled class=\"text-neutral-500\"\n                            >desk</app-icon\n                        >\n                        <app-icon outline className=\"material-icons-outlined\"\n                            >desk</app-icon\n                        >\n                    </div>\n                    <div class=\"text-xs\" i18n>Book Desk</div>\n                </a>\n                <a\n                    matRipple\n                    name=\"footer-nav-parking\"\n                    [routerLink]=\"['/book', 'parking']\"\n                    routerLinkActive=\"active\"\n                    *ngIf=\"features.includes('parking')\"\n                    class=\"flex flex-col items-center justify-center space-y-2 text-base w-1/3 m-2\"\n                >\n                    <div\n                        class=\"bg-white rounded-full h-12 w-12 text-black text-2xl flex items-center justify-center\"\n                    >\n                        <app-icon filled class=\"text-neutral-500\"\n                            >directions_car</app-icon\n                        >\n                        <app-icon outline className=\"material-icons-outlined\"\n                            >directions_car</app-icon\n                        >\n                    </div>\n                    <div class=\"text-xs\" i18n>Book Car Space</div>\n                </a>\n                <a\n                    matRipple\n                    name=\"footer-nav-visitor-invite\"\n                    *ngIf=\"features.includes('visitor-invite')\"\n                    [routerLink]=\"['/book', 'visitor']\"\n                    routerLinkActive=\"active\"\n                    class=\"flex flex-col items-center justify-center space-y-2 text-base w-1/3 m-2\"\n                >\n                    <div\n                        class=\"bg-white rounded-full h-12 w-12 text-black text-2xl flex items-center justify-center\"\n                    >\n                        <app-icon filled class=\"text-neutral-500\"\n                            >person_add</app-icon\n                        >\n                        <app-icon outline className=\"material-icons-outlined\"\n                            >person_add</app-icon\n                        >\n                    </div>\n                    <div class=\"text-xs\" i18n>Invite Visitor</div>\n                </a>\n                <a\n                    matRipple\n                    name=\"footer-nav-my-day\"\n                    [routerLink]=\"\n                        new_features ? ['/your-bookings'] : ['/schedule']\n                    \"\n                    *ngIf=\"features.includes('schedule')\"\n                    routerLinkActive=\"active\"\n                    class=\"flex flex-col items-center justify-center space-y-2 text-base w-1/3  m-2\"\n                >\n                    <div\n                        class=\"bg-white rounded-full h-12 w-12 text-black text-2xl flex items-center justify-center\"\n                    >\n                        <app-icon filled class=\"text-neutral-500\"\n                            >today</app-icon\n                        >\n                        <app-icon outline className=\"material-icons-outlined\"\n                            >today</app-icon\n                        >\n                    </div>\n                    <div class=\"text-xs\" i18n>Your Bookings</div>\n                </a>\n            </div>\n        </div>\n        <div\n            class=\"flex items-center justify-center bg-white dark:bg-neutral-700 border-t border-gray-200 dark:border-neutral-500 shadow relative h-16 w-full sm:hidden z-40\"\n            *ngIf=\"features.length > 3; else simple_state\"\n            [attr.dark]=\"dark_mode\"\n        >\n            <a\n                matRipple\n                class=\"flex flex-col items-center justify-center relative flex-1\"\n                [routerLink]=\"[default_page]\"\n                name=\"footer-nav-home\"\n                routerLinkActive=\"text-primary active\"\n            >\n                <app-icon filled class=\"text-2xl\">home</app-icon>\n                <app-icon\n                    outline\n                    className=\"material-icons-outlined\"\n                    class=\"text-2xl !m-0\"\n                    >home</app-icon\n                >\n                <span class=\"text-sm\" i18n>Home</span>\n            </a>\n            <button\n                matRipple\n                class=\"flex items-center justify-center w-12 h-12 mb-4 rounded-full z-10 dark:bg-neutral-800\"\n                (click)=\"show_book_items = !show_book_items\"\n                [class.bg-primary]=\"show_book_items\"\n                [class.text-white]=\"show_book_items\"\n                [class.bg-gray-300]=\"!show_book_items\"\n            >\n                <app-icon class=\"text-2xl\">{{\n                    show_book_items ? 'close' : 'add'\n                }}</app-icon>\n            </button>\n            <a\n                matRipple\n                class=\"flex flex-col items-center justify-center relative flex-1\"\n                [routerLink]=\"['/explore']\"\n                routerLinkActive=\"text-primary active\"\n            >\n                <app-icon filled class=\"text-2xl\">place</app-icon>\n                <app-icon\n                    outline\n                    className=\"material-icons-outlined\"\n                    class=\"text-2xl !m-0\"\n                    >place</app-icon\n                >\n                <span class=\"text-sm\" i18n>Spaces</span>\n            </a>\n            <div\n                class=\"overflow-hidden absolute top-0 left-1/2 -translate-x-1/2 -translate-y-full w-24 h-2\"\n            >\n                <div\n                    class=\"w-16 h-16 rounded-full bg-white dark:bg-neutral-700 shadow mx-auto border-t border-gray-200 dark:border-neutral-500\"\n                ></div>\n            </div>\n        </div>\n        <ng-template #simple_state>\n            <div\n                class=\"flex items-center justify-center bg-white dark:bg-neutral-700 border-t border-gray-200 dark:border-neutral-500 shadow relative h-16 w-full sm:hidden z-40\"\n            >\n                <top-menu></top-menu>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            a.active app-icon {\n                color: var(--primary) !important;\n            }\n\n            a.active {\n                font-weight: 500;\n            }\n\n            a:not(.active) [filled],\n            a.active [outline] {\n                display: none;\n            }\n        `,\n    ],\n})\nexport class FooterMenuComponent {\n    public show_book_items = false;\n\n    public get default_page(): string {\n        return this._settings.get('app.default_route') || '/dashboard';\n    }\n\n    public get features(): string[] {\n        return this._settings.get('app.features') || [];\n    }\n\n    public get new_features(): boolean {\n        return !!this._settings.get('app.new_features');\n    }\n\n    public get dark_mode(): boolean {\n        return !!this._settings.get('dark_mode');\n    }\n\n    constructor(private _settings: SettingsService) {}\n}\n","import { Component, ElementRef, ViewChild } from '@angular/core';\nimport { AsyncHandler } from '@placeos/common';\n\nimport { ExploreSearchService } from '@placeos/explore';\n\n@Component({\n    selector: 'global-search',\n    template: `\n        <div class=\"h-full w-12 relative\">\n            <button\n                icon\n                name=\"global-search\"\n                matRipple\n                class=\"text-black h-10 w-10 rounded-full bg-gray-200 dark:bg-neutral-800 dark:text-white\"\n                (click)=\"showInput()\"\n            >\n                <app-icon class=\"text-2xl\">search</app-icon>\n            </button>\n            <div\n                search\n                class=\"flex items-center absolute top-1/2 right-2 -translate-y-1/2 max-w-[calc(100vw-4rem)] bg-white shadow h-12 px-2 text-black rounded-[24px] space-x-2 dark:bg-neutral-700 dark:text-white border-2 border-neutral-600 dark:border-neutral-300 z-50\"\n                [ngClass]=\"{\n                    'w-[32rem]': show,\n                    'w-px': !show,\n                    'opacity-100': show,\n                    'opacity-0': !show,\n                    'pointer-events-none': !show\n                }\"\n                (click)=\"showInput()\"\n            >\n                <app-icon class=\"text-2xl\">search</app-icon>\n                <input\n                    #input\n                    placeholder=\"Search for people or spaces...\"\n                    class=\"flex-1 w-1/2 py-2 outline-none\"\n                    [(ngModel)]=\"filter_str\"\n                    (ngModelChange)=\"setFilter($event)\"\n                    (blur)=\"hideInput()\"\n                />\n                <mat-spinner\n                    *ngIf=\"loading | async\"\n                    [diameter]=\"32\"\n                ></mat-spinner>\n            </div>\n            <div\n                search\n                class=\"flex flex-col items-center absolute bottom-0 right-2 translate-y-[calc(100%-1rem)] max-w-[calc(100vw-4rem)] bg-white shadow text-black rounded-b dark:bg-neutral-700 dark:text-white pt-4 overflow-hidden border border-neutral-200 dark:border-neutral-600\"\n                [ngClass]=\"{\n                    'w-[32rem]': show,\n                    'w-px': !show,\n                    'opacity-100': show,\n                    'opacity-0': !show,\n                    'pointer-events-none': !show\n                }\"\n            >\n                <div\n                    empty\n                    class=\"p-4 w-full text-center opacity-60\"\n                    *ngIf=\"\n                        !(results | async)?.length && filter_str;\n                        else empty_state\n                    \"\n                    i18n\n                >\n                    No matches found.\n                </div>\n                <ng-container *ngIf=\"!(loading | async) && filter_str\">\n                    <a\n                        matRipple\n                        *ngFor=\"let option of results | async | slice: 0:5\"\n                        [routerLink]=\"['/explore']\"\n                        [queryParams]=\"\n                            option.type === 'space'\n                                ? { space: option.id }\n                                : option.type === 'user'\n                                ? { user: option.id }\n                                : { locate: option.id, name: option.name }\n                        \"\n                        class=\"w-full h-full flex items-center leading-tight p-4 hover:bg-black/5 dark:hover:bg-white/5\"\n                    >\n                        <div class=\"flex-1 overflow-hidden\">\n                            <div class=\"truncate w-full\">\n                                {{ option.name }}\n                            </div>\n                            <div class=\"text-xs opacity-60\">\n                                {{ option.description }}\n                            </div>\n                        </div>\n                        <div\n                            class=\"text-xs font-medium p-2 capitalize text-white bg-gray-700 rounded\"\n                        >\n                            {{ option.type }}\n                        </div>\n                    </a>\n                </ng-container>\n            </div>\n        </div>\n        <ng-template #empty_state>\n            <div\n                empty\n                *ngIf=\"!(results | async)?.length\"\n                class=\"p-4 w-full text-center opacity-60\"\n                i18n\n            >\n                Start typing to search...\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            [search] {\n                transition: width 200ms, opacity 200ms;\n            }\n        `,\n    ],\n})\nexport class GlobalSearchComponent extends AsyncHandler {\n    public readonly results = this._service.search_results;\n    public readonly loading = this._service.loading;\n    public show = false;\n\n    public filter_str = '';\n\n    public readonly setFilter = (s) =>\n        s instanceof Object\n            ? (this.filter_str = '')\n            : this._service.setFilter(s);\n\n    @ViewChild('input') public _input_el: ElementRef<HTMLInputElement>;\n\n    constructor(private _service: ExploreSearchService) {\n        super();\n    }\n\n    public showInput() {\n        this.show = true;\n        this._input_el.nativeElement.focus();\n        this.clearTimeout('close');\n    }\n\n    public hideInput() {\n        this.timeout('close', () => (this.show = false));\n    }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\nimport { MatButtonModule } from '@angular/material/button';\nimport { RouterModule } from '@angular/router';\n\nimport { ComponentsModule } from '@placeos/components';\nimport { FormFieldsModule } from '@placeos/form-fields';\nimport { SharedEventsModule } from '@placeos/events';\nimport { SharedBookingsModule } from '@placeos/bookings';\nimport { SharedSpacesModule } from '@placeos/spaces';\nimport { PaymentsModule } from '@placeos/payments';\nimport { AssetsModule } from '@placeos/assets';\n\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatChipsModule } from '@angular/material/chips';\nimport { MatRippleModule } from '@angular/material/core';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatTabsModule } from '@angular/material/tabs';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatRadioModule } from '@angular/material/radio';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\nimport { MatExpansionModule } from '@angular/material/expansion';\nimport { MatBadgeModule } from '@angular/material/badge';\nimport { MatSliderModule } from '@angular/material/slider';\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\n\nimport { GlobalSearchComponent } from './global-search.component';\nimport { TopbarComponent } from './topbar.component';\nimport { BookingFormModalComponent } from './booking-form-modal.component';\nimport { EventTimelineComponent } from './event-timeline/event-timeline.component';\nimport { VerticalTimelineComponent } from './vertical-timeline/vertical-timeline.component';\nimport { TopMenuComponent } from './top-menu.component';\nimport { FooterMenuComponent } from './footer-menu.component';\n\nconst COMPONENTS: Type<any>[] = [\n    TopbarComponent,\n    GlobalSearchComponent,\n    BookingFormModalComponent,\n    VerticalTimelineComponent,\n    EventTimelineComponent,\n    TopMenuComponent,\n    FooterMenuComponent,\n];\n\nconst MATERIAL_MODULES: any[] = [\n    MatButtonModule,\n    MatSnackBarModule,\n    MatDialogModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatProgressSpinnerModule,\n    MatProgressBarModule,\n    MatAutocompleteModule,\n    MatSelectModule,\n    MatChipsModule,\n    MatRippleModule,\n    MatMenuModule,\n    MatCheckboxModule,\n    MatExpansionModule,\n    MatTabsModule,\n    MatBadgeModule,\n    MatTooltipModule,\n    MatRadioModule,\n    MatSlideToggleModule,\n    MatSliderModule,\n];\n\n@NgModule({\n    declarations: [...COMPONENTS],\n    imports: [\n        CommonModule,\n        RouterModule.forChild([]),\n        FormsModule,\n        ReactiveFormsModule,\n        ComponentsModule,\n        FormFieldsModule,\n        SharedEventsModule,\n        SharedBookingsModule,\n        SharedSpacesModule,\n        PaymentsModule,\n        ...MATERIAL_MODULES,\n    ],\n    exports: [\n        ...COMPONENTS,\n        ComponentsModule,\n        FormFieldsModule,\n        SharedEventsModule,\n        SharedBookingsModule,\n        SharedSpacesModule,\n        AssetsModule,\n        PaymentsModule,\n        ...MATERIAL_MODULES,\n    ],\n})\nexport class SharedComponentModule {}\n","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { SettingsService } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\n\n@Component({\n    selector: 'top-menu',\n    template: `\n        <div\n            menu\n            class=\"flex items-center justify-center h-full w-full overflow-hidden\"\n        >\n            <a\n                matRipple\n                name=\"nav-home\"\n                class=\"flex items-center justify-center space-x-2 relative px-8\"\n                [routerLink]=\"[default_page]\"\n                routerLinkActive=\"text-primary active\"\n                matTooltip=\"Home\"\n                matTooltipPosition=\"below\"\n            >\n                <app-icon filled class=\"text-xl\">home</app-icon>\n                <app-icon\n                    outline\n                    className=\"material-icons-outlined\"\n                    class=\"text-xl !m-0\"\n                    >home</app-icon\n                >\n                <span *ngIf=\"show_text\" class=\"truncate hidden xl:block\"\n                    >Home</span\n                >\n                <div\n                    bar\n                    class=\"absolute bottom-0 inset-x-0 h-0.5 bg-primary\"\n                ></div>\n            </a>\n            <a\n                matRipple\n                name=\"nav-meeting\"\n                class=\"flex items-center justify-center space-x-2 relative px-8\"\n                *ngIf=\"features.includes('spaces')\"\n                [routerLink]=\"\n                    new_features ? ['/book', 'meeting'] : ['/book', 'spaces']\n                \"\n                routerLinkActive=\"text-primary active\"\n                matTooltip=\"Book Room\"\n                matTooltipPosition=\"below\"\n            >\n                <app-icon filled class=\"text-xl\">meeting_room</app-icon>\n                <app-icon\n                    outline\n                    className=\"material-icons-outlined\"\n                    class=\"text-xl !m-0\"\n                    >meeting_room</app-icon\n                >\n                <span *ngIf=\"show_text\" class=\"truncate hidden xl:block\"\n                    >Book Room</span\n                >\n                <div\n                    bar\n                    class=\"absolute bottom-0 inset-x-0 h-0.5 bg-primary\"\n                ></div>\n            </a>\n            <a\n                matRipple\n                name=\"nav-desks\"\n                class=\"flex items-center justify-center space-x-2 relative px-8\"\n                *ngIf=\"features.includes('desks')\"\n                [routerLink]=\"\n                    new_features ? ['/book', 'new-desks'] : ['/book', 'desks']\n                \"\n                routerLinkActive=\"text-primary active\"\n                matTooltip=\"Book Desk\"\n                matTooltipPosition=\"below\"\n            >\n                <div>\n                    <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        width=\"22.106\"\n                        height=\"15.251\"\n                        viewBox=\"0 0 22.106 15.251\"\n                    >\n                        <path\n                            id=\"Desk_Name\"\n                            d=\"M21.809,82.031l-4.434-4.292a.85.85,0,0,0-.6-.239H5.246a.878.878,0,0,0-.6.239L.22,82.031a.838.838,0,0,0-.194.924.854.854,0,0,0,.791.526H2.293V91.9A.853.853,0,0,0,4,91.9V83.485H5.224v3.444a.853.853,0,0,0,1.706,0V83.485h8.178v3.444a.853.853,0,0,0,1.706,0V83.485h1.224V91.9a.853.853,0,0,0,1.706,0V83.485h1.476a.858.858,0,0,0,.791-.526A.874.874,0,0,0,21.809,82.031ZM5.595,79.193H16.434l2.683,2.6H2.912Z\"\n                            transform=\"translate(0.038 -77.5)\"\n                            fill=\"currentColor\"\n                        />\n                    </svg>\n                </div>\n                <span *ngIf=\"show_text\" class=\"truncate hidden xl:block\" i18n\n                    >Book Desk</span\n                >\n                <div\n                    bar\n                    class=\"absolute bottom-0 inset-x-0 h-0.5 bg-primary\"\n                ></div>\n            </a>\n            <a\n                matRipple\n                name=\"nav-meeting\"\n                class=\"flex items-center justify-center space-x-2 relative px-8\"\n                *ngIf=\"features.includes('lockers')\"\n                [routerLink]=\"['/book', 'locker']\"\n                routerLinkActive=\"text-primary active\"\n                matTooltip=\"Book Locker\"\n                matTooltipPosition=\"below\"\n            >\n                <app-icon filled class=\"text-xl\">lock</app-icon>\n                <app-icon\n                    outline\n                    className=\"material-icons-outlined\"\n                    class=\"text-xl !m-0\"\n                    >lock</app-icon\n                >\n                <span *ngIf=\"show_text\" class=\"truncate hidden xl:block\"\n                    >Book Locker</span\n                >\n                <div\n                    bar\n                    class=\"absolute bottom-0 inset-x-0 h-0.5 bg-primary\"\n                ></div>\n            </a>\n            <a\n                matRipple\n                name=\"nav-parking\"\n                class=\"flex items-center justify-center space-x-2 relative px-8\"\n                *ngIf=\"features.includes('parking')\"\n                [routerLink]=\"\n                    new_features\n                        ? ['/book', 'new-parking']\n                        : ['/book', 'parking']\n                \"\n                routerLinkActive=\"text-primary active\"\n                matTooltip=\"Book Car Space\"\n                matTooltipPosition=\"below\"\n            >\n                <app-icon filled class=\"text-xl\">directions_car</app-icon>\n                <app-icon\n                    outline\n                    className=\"material-icons-outlined\"\n                    class=\"text-xl !m-0\"\n                    >directions_car</app-icon\n                >\n                <span *ngIf=\"show_text\" class=\"truncate hidden xl:block\" i18n\n                    >Book Car Space</span\n                >\n                <div\n                    bar\n                    class=\"absolute bottom-0 inset-x-0 h-0.5 bg-primary\"\n                ></div>\n            </a>\n            <a\n                matRipple\n                name=\"nav-visitor-invite\"\n                class=\"flex items-center justify-center space-x-2 relative px-8\"\n                *ngIf=\"features.includes('visitor-invite')\"\n                [routerLink]=\"['/book', 'visitor']\"\n                routerLinkActive=\"text-primary active\"\n                matTooltip=\"Invite Visitor\"\n                matTooltipPosition=\"below\"\n            >\n                <app-icon filled class=\"text-xl\">person_add</app-icon>\n                <app-icon\n                    outline\n                    className=\"material-icons-outlined\"\n                    class=\"text-xl !m-0\"\n                    >person_add</app-icon\n                >\n                <span *ngIf=\"show_text\" class=\"truncate hidden xl:block\" i18n\n                    >Invite Visitor</span\n                >\n                <div\n                    bar\n                    class=\"absolute bottom-0 inset-x-0 h-0.5 bg-primary\"\n                ></div>\n            </a>\n            <a\n                matRipple\n                name=\"nav-explore\"\n                class=\"flex items-center justify-center space-x-2 relative px-8\"\n                *ngIf=\"features.includes('explore')\"\n                [routerLink]=\"['/explore']\"\n                routerLinkActive=\"text-primary active\"\n                matTooltip=\"Spaces\"\n                matTooltipPosition=\"below\"\n            >\n                <app-icon filled class=\"text-xl\">place</app-icon>\n                <app-icon\n                    outline\n                    className=\"material-icons-outlined\"\n                    class=\"text-xl !m-0\"\n                    >place</app-icon\n                >\n                <span *ngIf=\"show_text\" class=\"truncate hidden xl:block\" i18n\n                    >Spaces</span\n                >\n                <div\n                    bar\n                    class=\"absolute bottom-0 inset-x-0 h-0.5 bg-primary\"\n                ></div>\n            </a>\n            <a\n                matRipple\n                name=\"nav-my-day\"\n                class=\"flex items-center justify-center space-x-2 relative px-8\"\n                *ngIf=\"features.includes('schedule')\"\n                [routerLink]=\"new_features ? ['/your-bookings'] : ['/schedule']\"\n                routerLinkActive=\"text-primary active\"\n                matTooltip=\"Your Bookings\"\n                matTooltipPosition=\"below\"\n            >\n                <app-icon filled class=\"text-xl\">event</app-icon>\n                <app-icon\n                    outline\n                    className=\"material-icons-outlined\"\n                    class=\"text-xl !m-0\"\n                    >event</app-icon\n                >\n                <span *ngIf=\"show_text\" class=\"truncate hidden xl:block\" i18n\n                    >Your Bookings</span\n                >\n                <div\n                    bar\n                    class=\"absolute bottom-0 inset-x-0 h-0.5 bg-primary\"\n                ></div>\n            </a>\n        </div>\n    `,\n    styles: [\n        `\n            [menu] > * {\n                height: 3.5rem;\n                flex-shrink: 1;\n            }\n\n            [bar] {\n                display: none;\n            }\n\n            .active > [bar] {\n                display: block;\n            }\n\n            a:not(.active) > [filled],\n            a.active > [outline] {\n                display: none;\n            }\n        `,\n    ],\n})\nexport class TopMenuComponent {\n    public readonly buildings = this._org.building_list;\n    public readonly building = this._org.active_building;\n\n    public readonly setBuilding = (b) => (this._org.building = b);\n\n    public get show_text() {\n        return this.features.length <= 5;\n    }\n\n    public get features(): string[] {\n        return this._settings.get('app.features') || [];\n    }\n\n    public get default_page(): string {\n        return this._settings.get('app.default_route') || '/dashboard';\n    }\n\n    public get new_features(): boolean {\n        return !!this._settings.get('app.new_features');\n    }\n\n    public get type() {\n        const url = this._router.url;\n        if (url.includes('dashboard')) return 'home';\n        if (url.includes('book/spaces')) return 'spaces';\n        if (url.includes('book/desks')) return 'desks';\n        if (url.includes('book/locker')) return 'lockers';\n        if (url.includes('book/parking')) return 'parking';\n        if (url.includes('explore')) return 'explore';\n        if (url.includes('schedule')) return 'schedule';\n        return '';\n    }\n\n    constructor(\n        private _settings: SettingsService,\n        private _org: OrganisationService,\n        private _router: Router\n    ) {}\n}\n","import { Component } from '@angular/core';\nimport { ApplicationIcon, currentUser, SettingsService } from '@placeos/common';\nimport { UserControlsComponent } from '@placeos/components';\n\nconst EMPTY = [];\n\n@Component({\n    selector: 'topbar',\n    template: `\n        <div\n            topbar\n            class=\"flex items-center justify-between h-[3.5rem] bg-white border-b border-gray-200 dark:border-neutral-700 text-black z-50 shadow relative dark:bg-[#1F2021] dark:text-white\"\n        >\n            <a\n                name=\"nav-logo\"\n                class=\"p-2 h-full flex items-center flex-1\"\n                [routerLink]=\"['/-']\"\n            >\n                <img\n                    class=\"h-10 hidden dark:block sm:dark:block\"\n                    [class.dark:hidden]=\"title\"\n                    *ngIf=\"logo_dark\"\n                    [src]=\"logo_dark.src\"\n                />\n                <img\n                    class=\"h-10 dark:hidden sm:block\"\n                    [class.hidden]=\"title\"\n                    *ngIf=\"logo\"\n                    [src]=\"logo.src\"\n                />\n                <span *ngIf=\"title\">{{ title }}</span>\n            </a>\n            <div\n                class=\"flex-3 items-center justify-center h-full w-1/2 hidden sm:flex\"\n            >\n                <top-menu></top-menu>\n            </div>\n            <div class=\"flex-1 flex items-center justify-end\">\n                <global-search *ngIf=\"search\"></global-search>\n                <button\n                    icon\n                    matRipple\n                    avatar\n                    name=\"user-controls\"\n                    class=\"h-10 w-10 rounded-full mr-2 bg-gray-200 dark:bg-neutral-800 flex items-center justify-center\"\n                    customTooltip\n                    [content]=\"user_controls\"\n                >\n                    <app-icon class=\"text-2xl\">person</app-icon>\n                </button>\n            </div>\n        </div>\n    `,\n    styles: [\n        `\n            .flex-3 {\n                flex: 3 3 0%;\n            }\n        `,\n    ],\n})\nexport class TopbarComponent {\n    public show_menu: boolean;\n    public readonly user_controls = UserControlsComponent;\n\n    /** Application logo to display */\n    public get logo(): ApplicationIcon {\n        return this._settings.get('app.logo_light');\n    }\n    /** Application logo to display */\n    public get logo_dark(): ApplicationIcon {\n        return this._settings.get('app.logo_dark');\n    }\n    /** Text to display for page title */\n    public get title(): string {\n        return this._settings.value('page_title');\n    }\n\n    /** Text to display for page title */\n    public get search(): boolean {\n        return this._settings.get('app.general.search') !== false;\n    }\n\n    public get new_features(): boolean {\n        return !!this._settings.get('app.new_features');\n    }\n\n    public get user() {\n        return currentUser();\n    }\n\n    public get features(): string[] {\n        return this._settings.get('app.features') || EMPTY;\n    }\n\n    constructor(private _settings: SettingsService) {}\n}\n","import {\n    Component,\n    OnInit,\n    Input,\n    Output,\n    ViewChild,\n    ElementRef,\n    EventEmitter,\n    OnChanges,\n    SimpleChanges,\n} from '@angular/core';\nimport { formatDuration } from 'date-fns';\n\nimport { AsyncHandler } from '@placeos/common';\n\nimport { ITimelineEventGroup } from '../event-timeline/event-timeline.component';\n\nimport * as dayjs from 'dayjs';\n\n@Component({\n    selector: 'vertical-timeline',\n    templateUrl: './vertical-timeline.component.html',\n    styleUrls: ['./vertical-timeline.component.scss'],\n})\nexport class VerticalTimelineComponent\n    extends AsyncHandler\n    implements OnInit, OnChanges\n{\n    /** Active date */\n    @Input() public date: number;\n    /** Active duration */\n    @Input() public duration: number;\n    /** Groups and events */\n    @Input() public groups: ITimelineEventGroup[];\n    /** Blocks */\n    public blocks: any[];\n    /** Element to move */\n    public active_move: string;\n    /** Active start date */\n    public active_start: number;\n    /** Active duration */\n    public active_length: number;\n    /** Offset of time box */\n    public offset = { x: 0, y: 0 };\n\n    /** Output emitter */\n    @Output() public dateChange = new EventEmitter<number>();\n    @Output() public durationChange = new EventEmitter<number>();\n    @Output() public groupsChange = new EventEmitter<ITimelineEventGroup[]>();\n\n    @ViewChild('block') private block: ElementRef;\n    @ViewChild('time') private time: ElementRef;\n\n    public ngOnInit(): void {\n        this.generateBlocks();\n    }\n\n    public ngOnChanges(changes: SimpleChanges): void {\n        if (changes.groups) {\n            this.checkInUseBlocks();\n        }\n        if (changes.date || changes.duration) {\n            this.updateStartEnd();\n        }\n    }\n\n    /** Timeline start */\n    public get timeline_start() {\n        return dayjs(this.date).startOf('d');\n    }\n\n    /** Timeline end */\n    public get timeline_end() {\n        return dayjs(this.date).endOf('d');\n    }\n\n    public generateBlocks() {\n        this.blocks = [];\n        const start = this.timeline_start;\n        const end = this.timeline_end;\n        const now = dayjs();\n        for (\n            let time = start;\n            time.isBefore(end, 'm');\n            time = time.add(5, 'm')\n        ) {\n            this.blocks.push({\n                id: time.format('HH:mm'),\n                display: time.format('HH:mm'),\n                hour: time.minute() === 0,\n                show: time.minute() % 30 === 0,\n                disabled: time.isBefore(now, 'm'),\n            });\n        }\n        this.checkInUseBlocks();\n    }\n\n    public get display(): string {\n        const date = dayjs(this.date);\n        const end = dayjs(this.date).add(this.duration, 'm');\n        const duration = formatDuration({ minutes: this.duration });\n        return `${date.format('hh:mm A')} - ${end.format(\n            'hh:mm A'\n        )} (${duration})`;\n    }\n\n    public move(e) {\n        this.timeout(\n            'move',\n            () => {\n                if (this.active_move && this.block) {\n                    const center = {\n                        x:\n                            e.touches && e.touches.length > 0\n                                ? e.touches[0].clientX || e.clientX\n                                : e.clientX,\n                        y:\n                            e.touches && e.touches.length > 0\n                                ? e.touches[0].clientY || e.clientY\n                                : e.clientY,\n                    };\n                    const off =\n                        this.active_move === 'bottom'\n                            ? { x: 0, y: 0 }\n                            : this.offset;\n                    const content_box =\n                        this.block.nativeElement.getBoundingClientRect();\n                    const percent_w =\n                        (center.x - off.x - content_box.left) /\n                        content_box.width;\n                    const percent_h =\n                        (center.y - off.y - content_box.top) /\n                        content_box.height;\n                    const percent = percent_h;\n\n                    const start_time =\n                        this.timeline_start.hour() +\n                        this.timeline_start.minute() / 60;\n                    const end_time =\n                        this.timeline_end.hour() +\n                        this.timeline_end.minute() / 60;\n                    const diff_time = end_time - start_time;\n                    const block_size = 15;\n                    const hour =\n                        Math.ceil(\n                            (diff_time * percent + start_time) *\n                                (60 / block_size)\n                        ) /\n                        (60 / block_size);\n                    if (this.active_move === 'bottom') {\n                        let date = dayjs(this.date);\n                        const end = dayjs(this.date)\n                            .hour(Math.floor(hour))\n                            .minute(Math.floor((hour * 60) % 60));\n                        if (end.isSame(date, 'm') || end.isBefore(date, 'm')) {\n                            date = dayjs(end).add(-this.duration, 'm');\n                            this.date = date.valueOf();\n                        } else {\n                            const duration = Math.floor(end.diff(date, 'm'));\n                            this.duration = Math.max(\n                                60,\n                                duration || block_size\n                            );\n                            this.durationChange.emit(this.duration);\n                        }\n                    } else if (this.active_move === 'top') {\n                        const date = dayjs(this.date)\n                            .hour(Math.floor(hour))\n                            .minute(Math.floor((hour * 60) % 60));\n                        this.date = date.valueOf();\n                    }\n                    this.dateChange.emit(this.date);\n                    this.updateStartEnd();\n                }\n            },\n            10\n        );\n    }\n\n    // public setOffset(e) {\n    // if (this.time) {\n    //     const box = this.time.nativeElement.getBoundingClientRect();\n    //     this.offset = { x: e.center.x - box.left, y: e.center.y - box.top };\n    // }\n    // }\n\n    public setMove(move: string) {\n        this.active_move = move;\n    }\n\n    public checkInUseBlocks() {\n        if (!this.blocks || !this.groups) {\n            return;\n        }\n        const blocks = this.blocks.map((i) => ({\n            ...i,\n            unavailable: false,\n        }));\n        for (const grp of this.groups) {\n            for (const event of grp.events || []) {\n                const start = this.hoursToDate(event.start);\n                const end = dayjs(start).add(event.duration, 'm');\n                for (\n                    let time = dayjs(start);\n                    time.isBefore(end);\n                    time = time.add(5, 'm')\n                ) {\n                    const display = time.format('HH:mm');\n                    const blk = blocks.find((i) => i.id === display);\n                    if (blk) {\n                        blk.unavailable = true;\n                    }\n                }\n            }\n        }\n        this.blocks = blocks;\n    }\n\n    public hoursToDate(time: number) {\n        let t = dayjs()\n            .startOf('d')\n            .hour(Math.floor(time))\n            .minute(Math.floor((time * 60) % 60));\n        t = t.minute(Math.floor(t.minute() / 5) * 5);\n        return t;\n    }\n\n    public updateStartEnd() {\n        this.updatePeriod();\n    }\n\n    public resetMove() {\n        this.active_move = '';\n    }\n\n    public updatePeriod() {\n        const start = dayjs(this.date).startOf('m');\n        const period = this.timeline_end.diff(this.timeline_start, 'm') / 60;\n        this.active_start = start.diff(this.timeline_start, 'm') / 60 / period;\n        this.active_length = this.duration / 60 / period;\n    }\n}\n","<div class=\"timeline\" (window:mouseup)=\"resetMove()\" (window:touchend)=\"resetMove()\">\n    <div class=\"content\" (mousemove)=\"move($event)\" (touchmove)=\"move($event)\">\n        <div class=\"timeblocks\">\n            <div class=\"blk\" *ngFor=\"let item of blocks\">\n                <div class=\"text\" *ngIf=\"item.hour\">{{ item.display }}</div>\n            </div>\n        </div>\n        <div class=\"eventblocks\" #block>\n            <div\n                class=\"blk\"\n                *ngFor=\"let item of blocks\"\n                [class.shown-block]=\"item.show\"\n                [class.hour]=\"item.hour\"\n                [class.disabled]=\"item.disabled\"\n                [class.unavailable]=\"item.unavailable\"\n            ></div>\n            <div\n                class=\"selected-time\"\n                #time\n                [style.top]=\"active_start * 100 + '%'\"\n                [style.height]=\"active_length * 100 + '%'\"\n            >\n                <div class=\"inner\" (mousedown)=\"setMove('top')\" (touchstart)=\"setMove('top')\">\n                    {{ display }}\n                </div>\n                <div\n                    class=\"handle top\"\n                    (mousedown)=\"setMove('top')\"\n                    (touchstart)=\"setMove('top')\"\n                ></div>\n                <div\n                    class=\"handle bottom\"\n                    (mousedown)=\"setMove('bottom')\"\n                    (touchstart)=\"setMove('bottom')\"\n                ></div>\n            </div>\n        </div>\n    </div>\n</div>\n","import { NgModule, Type } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { ViewAttendeesModalComponent } from './view-attendees-modal/view-attendees-modal.component';\nimport { ViewCateringModalComponent } from './view-catering-modal/view-catering-modal.component';\nimport { RecurrenceModalComponent } from './recurrence-modal.component';\nimport { UserAvailabilityModalComponent } from './user-availability-modal/user-availability.modal.component';\nimport { SharedComponentModule } from '../components/shared.module';\n\nconst OVERLAYS: Type<any>[] = [\n    ViewAttendeesModalComponent,\n    ViewCateringModalComponent,\n    RecurrenceModalComponent,\n    UserAvailabilityModalComponent,\n];\n\n@NgModule({\n    declarations: [...OVERLAYS],\n    imports: [\n        CommonModule,\n        FormsModule,\n        ReactiveFormsModule,\n        SharedComponentModule,\n    ],\n    exports: [...OVERLAYS],\n})\nexport class SharedOverlaysModule {}\n","import { Component, OnInit, Output, EventEmitter, Inject } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\n\nimport { RecurrenceDetails } from '@placeos/events';\nimport { AsyncHandler, DialogEvent, Identity } from '@placeos/common';\n\nexport interface RecurrenceModalData {\n    /** Current recurrence details */\n    details: RecurrenceDetails;\n    /** Currently set date for the booking */\n    date: number;\n}\n\nexport const RECURRENCE_METADATA = {\n    height: 'auto',\n    width: '24em',\n    maxHeight: 'calc(100vh - 2em)',\n    maxWidth: 'calc(100vw - 2em)',\n};\n\n@Component({\n    selector: 'recurrence-modal',\n    template: `\n        <header>\n            <div class=\"heading\" mat-dialog-title>Booking Recurrence</div>\n            <button icon mat-dialog-close>\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <main class=\"p-4\" *ngIf=\"!loading; else load_state\">\n            <form *ngIf=\"form\" [formGroup]=\"form\">\n                <div\n                    class=\"flex flex-col\"\n                    *ngIf=\"form.controls.pattern && patterns.length > 1\"\n                >\n                    <label for=\"period\">Period: </label>\n                    <mat-form-field appearance=\"outline\" class=\"w-full\">\n                        <mat-select\n                            name=\"interval\"\n                            [(ngModel)]=\"selected_pattern\"\n                            (ngModelChange)=\"changePattern($event)\"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                            placeholder=\"None\"\n                        >\n                            <mat-option\n                                *ngFor=\"let type of patterns\"\n                                [value]=\"type\"\n                            >\n                                {{ type.name }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                </div>\n                <div class=\"flex flex-col\" *ngIf=\"form.controls.end\">\n                    <label\n                        class=\"mb\"\n                        for=\"end\"\n                        [class.error]=\"\n                            form.controls.end.errors &&\n                            form.controls.end.touched\n                        \"\n                    >\n                        End Date<span>*</span>:\n                    </label>\n                    <a-date-field\n                        name=\"end\"\n                        formControlName=\"end\"\n                        [from]=\"date\"\n                        class=\"w-full\"\n                    >\n                        End date needs to be in the future\n                    </a-date-field>\n                </div>\n            </form>\n        </main>\n        <footer *ngIf=\"!loading\">\n            <button btn matRipple class=\"w-32\" (click)=\"save()\">\n                Add to Booking\n            </button>\n        </footer>\n        <ng-template #load_state>\n            <main>\n                <div\n                    class=\"flex flex-col items-center justify-center space-y-2 p-8\"\n                >\n                    <mat-spinner diameter=\"32\"></mat-spinner>\n                    <p>{{ loading }}</p>\n                </div>\n            </main>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class RecurrenceModalComponent extends AsyncHandler implements OnInit {\n    /** Emitter for user action on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** Form fields for recurrence */\n    public form = new FormGroup({\n        pattern: new FormControl(this._data.details?.pattern),\n        interval: new FormControl(this._data.details?.interval),\n        end: new FormControl(this._data.details?.end || this._data.date, [\n            Validators.required,\n        ]),\n    });\n    /** Loading state */\n    public loading: string;\n    /** Current date of the booking */\n    public date: number;\n    /** Available recurrence patterns */\n    public patterns: Identity[] = [\n        { id: '', name: 'None' },\n        { id: 'daily', name: 'Daily', interval: 1, pattern: 'daily' },\n        { id: 'weekly', name: 'Weekly', interval: 1, pattern: 'weekly' },\n        {\n            id: 'monthly',\n            name: 'Every 4 weeks',\n            interval: 4,\n            pattern: 'weekly',\n        },\n    ];\n    /** Selected pattern */\n    public selected_pattern;\n\n    constructor(@Inject(MAT_DIALOG_DATA) private _data: RecurrenceModalData) {\n        super();\n    }\n\n    public ngOnInit(): void {\n        this.date = this._data.date;\n        const details = this._data.details;\n        this.selected_pattern = this.patterns.find(\n            (i) =>\n                i.interval === details?.interval &&\n                i.pattern === details?.pattern\n        );\n    }\n\n    public changePattern(event) {\n        this.form.patchValue({\n            pattern: event.pattern,\n            interval: event.interval,\n        });\n    }\n\n    /**\n     * User confirmation of the content of the modal\n     */\n    public save() {\n        this.form.markAllAsTouched();\n        /* istanbul ignore else */\n        if (this.form.valid) {\n            this.loading = 'Adding recurrence data to booking...';\n            this.event.emit({\n                reason: 'done',\n                metadata: { ...this._data.details, ...this.form.value },\n            });\n        }\n    }\n}\n","import { Component, OnInit, EventEmitter, Output, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { BehaviorSubject } from 'rxjs';\nimport { debounceTime, switchMap } from 'rxjs/operators';\nimport { endOfDay, getUnixTime, startOfDay } from 'date-fns';\n\nimport { AsyncHandler, DialogEvent } from '@placeos/common';\nimport { StaffUser } from '@placeos/users';\nimport { ITimelineEventGroup } from '../../components/event-timeline/event-timeline.component';\n\nimport * as dayjs from 'dayjs';\nimport { queryEvents } from '@placeos/events';\n\n@Component({\n    selector: 'app-user-availability-modal',\n    templateUrl: './user-availability.modal.component.html',\n    styleUrls: ['./user-availability.modal.component.scss'],\n})\nexport class UserAvailabilityModalComponent\n    extends AsyncHandler\n    implements OnInit\n{\n    /** Emitter for user action on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** List of Users to check availability */\n    public users: StaffUser[];\n    /** Whether the users events are being loaded */\n    public loading: boolean;\n    /** Selected date in unix ms */\n    public date: number = new Date().valueOf();\n    /** Groups */\n    public groups: ITimelineEventGroup[];\n    /** Duration */\n    public duration: number;\n    /** Date subject */\n    public date$ = new BehaviorSubject(this.date);\n\n    constructor(@Inject(MAT_DIALOG_DATA) private _data: any) {\n        super();\n    }\n\n    public ngOnInit(): void {\n        this.users = this._data.users;\n        this.date = this._data.date;\n        this.duration = this._data.duration;\n        this.loadAvailability();\n        this.date$\n            .pipe(\n                debounceTime(500),\n                switchMap(() => this.loadAvailability())\n            )\n            .subscribe((res) => (this.groups = res));\n    }\n\n    /** Load events for all attendees */\n    public async loadAvailability() {\n        this.loading = true;\n        const period_start = getUnixTime(startOfDay(this.date));\n        const period_end = getUnixTime(endOfDay(this.date));\n        const result: any[] = await Promise.all(\n            this.users.map(async (user) => {\n                if (!user.email) return [];\n                return {\n                    name: user.name,\n                    events: await queryEvents({\n                        period_start,\n                        period_end,\n                        calendars: user.email,\n                    })\n                        .toPromise()\n                        .then((res) =>\n                            res.map((i) => ({\n                                start: dayjs(i.date).hour(),\n                                duration: i.duration,\n                            }))\n                        )\n                        .catch((err) => []),\n                };\n            })\n        );\n        this.loading = false;\n        return result;\n    }\n\n    /** Change date keeping hours and minutes */\n    public changeDate(new_date: number) {\n        const date = dayjs(this.date);\n        this.date = dayjs(new_date)\n            .hour(date.hour())\n            .minute(date.minute())\n            .valueOf();\n        this.date$.next(this.date);\n    }\n\n    /** Whether date is in the past */\n    public get is_past(): boolean {\n        return dayjs(this.date).isBefore(dayjs());\n    }\n\n    public save() {\n        if (this.is_past) {\n            return;\n        }\n        this.event.emit({\n            reason: 'done',\n            metadata: { date: this.date, duration: this.duration },\n        });\n    }\n}\n","<header>\n    <div class=\"heading\" mat-dialog-title>Attendees Availability</div>\n    <button icon mat-dialog-close>\n        <app-icon\n            [icon]=\"{ type: 'icon', class: 'material-icons', content: 'close' }\"\n        ></app-icon>\n    </button>\n</header>\n<mat-dialog-content>\n    <main>\n        <div class=\"date\">\n            <a-date-field\n                name=\"date\"\n                [ngModel]=\"date\"\n                (ngModelChange)=\"changeDate($event)\"\n            ></a-date-field>\n        </div>\n        <ng-container *ngIf=\"!loading; else loader\">\n            <div class=\"mobile-only\">\n                <vertical-timeline\n                    [(date)]=\"date\"\n                    [(duration)]=\"duration\"\n                    [(groups)]=\"groups\"\n                ></vertical-timeline>\n            </div>\n            <div class=\"not-mobile\">\n                <event-timeline\n                    [(date)]=\"date\"\n                    [(duration)]=\"duration\"\n                    [(groups)]=\"groups\"\n                ></event-timeline>\n            </div>\n        </ng-container>\n    </main>\n</mat-dialog-content>\n<mat-dialog-actions>\n    <footer>\n        <button btn matRipple mat-dialog-close class=\"inverse\">Cancel</button>\n        <button\n            mat-flat-button\n            [disabled]=\"is_past\"\n            color=\"primary\"\n            (click)=\"save()\"\n        >\n            Save\n        </button>\n    </footer>\n</mat-dialog-actions>\n<ng-template #loader>\n    <div class=\"spinner\">\n        <mat-spinner diameter=\"32\"></mat-spinner>\n    </div>\n</ng-template>\n","import { Component, OnInit, OnChanges, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\n\nimport { AsyncHandler } from '@placeos/common';\nimport { User } from '@placeos/users';\n\n@Component({\n    selector: 'schedule-view-attendees',\n    templateUrl: './view-attendees-modal.component.html',\n    styleUrls: ['./view-attendees-modal.component.scss'],\n})\nexport class ViewAttendeesModalComponent\n    extends AsyncHandler\n    implements OnChanges, OnInit\n{\n    public attendees: User[];\n\n    constructor(@Inject(MAT_DIALOG_DATA) private _data: { attendees: User[] }) {\n        super();\n    }\n\n    public ngOnChanges() {}\n\n    public ngOnInit() {\n        this.attendees = this._data.attendees;\n    }\n}\n","<header>\n    <app-icon\n        [icon]=\"{\n            type: 'icon',\n            class: 'material-icons',\n            content: 'people_outline'\n        }\"\n    ></app-icon>\n    <h1>Attendees</h1>\n</header>\n<mat-dialog-content>\n    <div class=\"body\">\n        <div *ngFor=\"let item of attendees\">\n            <app-icon\n                [icon]=\"{\n                    type: 'icon',\n                    class: 'material-icons',\n                    content: 'perm_identity'\n                }\"\n            ></app-icon>\n            <label>{{ item.name }}</label>\n            <a href=\"mailto:{{ item.email }}\">{{ item.email }}</a>\n        </div>\n    </div>\n</mat-dialog-content>\n<mat-dialog-actions>\n    <footer>\n        <button btn matRipple class=\"inverse\" mat-dialog-close>Close</button>\n    </footer>\n</mat-dialog-actions>\n","import { Component, OnInit, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialog } from '@angular/material/dialog';\nimport { Router } from '@angular/router';\n\nimport { CateringItem } from '@placeos/catering';\nimport { AsyncHandler } from '@placeos/common';\n\n@Component({\n    selector: 'view-catering-modal',\n    templateUrl: './view-catering-modal.component.html',\n    styleUrls: ['./view-catering-modal.component.scss'],\n})\nexport class ViewCateringModalComponent extends AsyncHandler implements OnInit {\n    public catering: CateringItem[];\n    public catering_note: string;\n    public catering_items_total = 0;\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA)\n        private _data: { catering: CateringItem[]; catering_note: string },\n        private _router: Router,\n        private _dialog: MatDialog\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        const data = this._data;\n\n        if (data) {\n            this.catering = this._data.catering;\n            this.catering_note = this._data.catering_note;\n            this.catering_items_total = this.catering.reduce(\n                (total, item) => item.quantity + total,\n                0\n            );\n        }\n    }\n\n    /**\n     * TODO: this makes no sense. catering is not a route to be accessed like this\n     */\n    public edit() {\n        this._dialog.closeAll();\n        this._router.navigate(['/catering/']);\n    }\n}\n","<header>\n    <app-icon>room_service</app-icon>\n    <h1>Catering</h1>\n</header>\n<div class=\"body\">\n    <strong>Item</strong>\n    <strong class=\"qty\">Quantity</strong>\n    <ng-container *ngFor=\"let item of catering\">\n        <label>\n            {{ item.item }}\n        </label>\n        <label class=\"qty\">\n            {{ item.qty }}\n        </label>\n    </ng-container>\n    <strong class=\"total\">Total Items</strong>\n    <strong class=\"qty\">{{ catering_items_total }}</strong>\n    <strong class=\"note-label\"> Note: </strong>\n    <div class=\"note-box\">\n        {{ catering_note }}\n    </div>\n</div>\n<footer>\n    <button mat-dialog-close>Close</button>\n    <button class=\"black\" (click)=\"edit()\">Edit</button>\n</footer>\n","// This file can be replaced durinx build by using the `fileReplacements` array.\n// `nx build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic()\n  .bootstrapModule(AppModule)\n  .catch((err) => console.error(err));\n","export * from './lib/assets.module';\nexport * from './lib/asset.class';\nexport * from './lib/asset.utilities';\nexport * from './lib/assets.fn';\nexport * from './lib/asset-group.pipe';\n","import { Pipe } from '@angular/core';\n\nimport { AssetGroup } from './asset.class';\nimport { showAssetGroup } from './assets.fn';\n\nconst ASSET_GROUP_LIST: AssetGroup[] = [];\n\nconst EMPTY_ASSET_GROUP = new AssetGroup();\n\nexport function updateAssetGroupList(assetgroup_list: AssetGroup[]) {\n    for (const assetgroup of assetgroup_list) {\n        if (!ASSET_GROUP_LIST.find(({ id }) => id === assetgroup.id)) {\n            ASSET_GROUP_LIST.push(assetgroup);\n        }\n    }\n}\n\n@Pipe({\n    name: 'assetgroup',\n})\nexport class AssetGroupPipe {\n    /**\n     * Get details of the assetgroup with the given ID\n     * @param assetgroup_id ID or Email of the assetgroup\n     */\n    public async transform(group_id: string): Promise<AssetGroup> {\n        if (!group_id) return EMPTY_ASSET_GROUP;\n        let asset_group = ASSET_GROUP_LIST.find(({ id }) => id === group_id);\n        if (asset_group) return asset_group;\n        const group = await showAssetGroup(group_id)\n            .toPromise()\n            .catch((_) => null);\n        if (group) {\n            asset_group = { ...group };\n            ASSET_GROUP_LIST.push(asset_group);\n            return asset_group;\n        }\n        return EMPTY_ASSET_GROUP;\n    }\n\n    public updateAssetGroupList(assetgroup_list: AssetGroup[]) {\n        updateAssetGroupList(assetgroup_list);\n    }\n}\n","import { Component, Input, SimpleChanges, forwardRef } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { MatDialog } from '@angular/material/dialog';\nimport { SettingsService } from 'libs/common/src/lib/settings.service';\n\nimport { AssetSelectModalComponent } from 'libs/assets/src/lib/asset-select-modal/asset-select-modal.component';\nimport { AssetGroup } from 'libs/assets/src/lib/asset.class';\nimport { AssetStateService } from './asset-state.service';\n\nconst EMPTY_FAVS: string[] = [];\n\n@Component({\n    selector: `asset-list-field`,\n    template: `\n        <div list class=\"space-y-2\">\n            <div\n                space\n                class=\"relative p-2 rounded-lg w-full flex items-center shadow border border-gray-200\"\n                *ngFor=\"let asset of items\"\n            >\n                <div\n                    class=\"w-16 h-16 rounded-xl bg-black/20 mr-4 overflow-hidden flex items-center justify-center\"\n                >\n                    <img\n                        *ngIf=\"asset.images?.length; else placeholder\"\n                        [src]=\"asset.images[0]\"\n                        class=\"min-h-full object-cover\"\n                    />\n                    <ng-template #placeholder>\n                        <img\n                            class=\"m-auto\"\n                            src=\"assets/icons/asset-placeholder.svg\"\n                        />\n                    </ng-template>\n                </div>\n                <div class=\"pb-4\">\n                    <div class=\"font-medium\">\n                        {{\n                            (asset.id | assetgroup | async)?.name ||\n                                'AssetGroup'\n                        }}\n                    </div>\n                    <div i18n>{{ asset.amount }} requested</div>\n                    <div\n                        class=\"absolute bottom-0 right-0 flex items-center justify-end text-xs\"\n                    >\n                        <button\n                            btn\n                            matRipple\n                            edit-space\n                            class=\"clear\"\n                            (click)=\"addAssetGroups(asset)\"\n                        >\n                            <div class=\"flex items-center space-x-2\" i18n>\n                                <app-icon>edit</app-icon>\n                                Change\n                            </div>\n                        </button>\n                        <button\n                            btn\n                            matRipple\n                            remove-space\n                            class=\"clear\"\n                            (click)=\"removeAssetGroup(asset)\"\n                        >\n                            <div class=\"flex items-center space-x-2\" i18n>\n                                <app-icon>close</app-icon>\n                                Remove\n                            </div>\n                        </button>\n                    </div>\n                </div>\n                <button\n                    icon\n                    matRipple\n                    fav\n                    class=\"absolute top-1 right-1\"\n                    [class.text-blue-400]=\"favorites.includes(asset.id)\"\n                    (click)=\"toggleFavourite(asset)\"\n                >\n                    <app-icon>{{\n                        favorites.includes(asset.id)\n                            ? 'favorite'\n                            : 'favorite_border'\n                    }}</app-icon>\n                </button>\n            </div>\n        </div>\n        <button\n            btn\n            matRipple\n            add-space\n            class=\"w-full inverse mt-2\"\n            [disabled]=\"disabled\"\n            (click)=\"addAssetGroups()\"\n        >\n            <div class=\"flex items-center justify-center space-x-2\">\n                <app-icon>search</app-icon>\n                <span>Add Asset</span>\n            </div>\n        </button>\n    `,\n    styles: [``],\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            /* istanbul ignore next */\n            useExisting: forwardRef(() => AssetListFieldComponent),\n            multi: true,\n        },\n    ],\n})\nexport class AssetListFieldComponent implements ControlValueAccessor {\n    @Input() public date = Date.now();\n    @Input() public duration = 30;\n    public items: AssetGroup[] = [];\n    public disabled = false;\n\n    private _onChange: (_: AssetGroup[]) => void;\n    private _onTouch: (_: AssetGroup[]) => void;\n    public selected: AssetGroup[] = [];\n\n    public get favorites() {\n        return this._settings.get<string[]>('favourite_assets') || EMPTY_FAVS;\n    }\n\n    constructor(\n        private _settings: SettingsService,\n        private _dialog: MatDialog,\n        private _state: AssetStateService\n    ) {}\n\n    public ngOnChanges(changes: SimpleChanges) {\n        if (changes.date || changes.duration) {\n            this._state.setOptions({\n                date: this.date,\n                duration: this.duration,\n            });\n        }\n    }\n\n    /**\n     * Update the form field value\n     * @param new_value New value to set on the form field\n     */\n    public setValue(new_value: AssetGroup[]) {\n        this.items = new_value;\n        if (this._onChange) this._onChange(this.items);\n    }\n\n    /**\n     * Update local value when form control value is changed\n     * @param value The new value for the component\n     */\n    public writeValue(value: AssetGroup[]) {\n        this.items = value || [];\n    }\n\n    public readonly registerOnChange = (fn: (_: AssetGroup[]) => void) =>\n        (this._onChange = fn);\n    public readonly registerOnTouched = (fn: (_: AssetGroup[]) => void) =>\n        (this._onTouch = fn);\n    public readonly setDisabledState = (s: boolean) => (this.disabled = s);\n\n    public removeAssetGroup(asset: AssetGroup) {\n        const updated_list = this.items.filter((_) => _.id !== asset.id);\n        this.setValue(updated_list);\n    }\n\n    public addAssetGroups(asset?: AssetGroup) {\n        const ref = this._dialog.open(AssetSelectModalComponent, {\n            data: this.items,\n        });\n        ref.afterClosed().subscribe((items?: AssetGroup[]) => {\n            if (!items) items = ref.componentInstance.selected;\n            items = items.map((item) => ({ ...item }));\n            for (const item of items) {\n                item.assets = item.assets.slice(0, item.amount);\n            }\n            this.setValue(items);\n        });\n    }\n\n    public toggleFavourite(asset: AssetGroup) {\n        const fav_list = this.favorites;\n        const new_state = !fav_list.includes(asset.id);\n        if (new_state) {\n            this._settings.saveUserSetting('favourite_assets', [\n                ...fav_list,\n                asset.id,\n            ]);\n        } else {\n            this._settings.saveUserSetting(\n                'favourite_assets',\n                fav_list.filter((_) => _ !== asset.id)\n            );\n        }\n    }\n}\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n    SimpleChanges,\n} from '@angular/core';\nimport { AssetGroup } from '../asset.class';\nimport { flatten } from '@placeos/common';\n\n@Component({\n    selector: 'asset-details',\n    template: `\n        <ng-container *ngIf=\"item; else empty_state\">\n            <section image class=\"relative w-full h-64 sm:h-40 bg-black/20\">\n                <image-carousel\n                    [images]=\"item.images\"\n                    class=\"absolute inset-0\"\n                ></image-carousel>\n                <button\n                    icon\n                    matRipple\n                    close\n                    (click)=\"close.emit()\"\n                    class=\"absolute top-2 left-2 bg-black/40 sm:hidden text-white\"\n                >\n                    <app-icon>arrow_back</app-icon>\n                </button>\n                <button\n                    icon\n                    matRipple\n                    fav\n                    [class.text-white]=\"!fav\"\n                    [class.text-blue-400]=\"fav\"\n                    (click)=\"toggleFav.emit()\"\n                    class=\"absolute top-2 right-2 bg-black/40\"\n                >\n                    <app-icon>\n                        {{ fav ? 'favorite' : 'favorite_border' }}\n                    </app-icon>\n                </button>\n            </section>\n            <div class=\"p-2 space-y-2 flex-1 h-1/2 overflow-auto\">\n                <section actions class=\"z-0 flex items-center justify-between\">\n                    <div>\n                        <h2 class=\"text-xl font-medium mb-2 mt-4\">\n                            {{ item.name }}\n                        </h2>\n                        <p>{{ item.assets?.length || 0 }} Available</p>\n                    </div>\n                    <a-counter\n                        [(ngModel)]=\"item.amount\"\n                        (ngModelChange)=\"countChange.emit($event)\"\n                        [min]=\"1\"\n                        [max]=\"item.assets?.length || 1\"\n                    ></a-counter>\n                </section>\n                <hr />\n                <section details class=\"space-y-2\">\n                    <h2 class=\"text-xl font-medium\">Details</h2>\n                    <div class=\"flex items-center space-x-2\">\n                        <p>{{ item.description || 'No description' }}</p>\n                    </div>\n                </section>\n            </div>\n            <div class=\"p-2 border-t border-gray-200 shadow sm:hidden\">\n                <button\n                    btn\n                    matRipple\n                    select\n                    [class.inverse]=\"active\"\n                    class=\"w-full\"\n                    (click)=\"active = !active; activeChange.emit(active)\"\n                >\n                    <div class=\"flex items-center justify-center\">\n                        <app-icon class=\"text-2xl\">\n                            {{ active ? 'remove' : 'add' }}\n                        </app-icon>\n                        <p>\n                            {{\n                                active ? 'Remove this asset' : 'Add this asset'\n                            }}\n                        </p>\n                    </div>\n                </button>\n            </div>\n        </ng-container>\n        <ng-template #empty_state>\n            <div\n                empty\n                class=\"p-16 flex flex-col items-center justify-center space-y-2\"\n            >\n                <p class=\"opacity-30 text-center\">\n                    Select an asset to view it's details\n                </p>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                width: 30%;\n                min-width: 20rem;\n                height: 100%;\n                min-height: 65vh;\n            }\n        `,\n    ],\n})\nexport class AssetDetailsComponent {\n    @Input() public item?: AssetGroup;\n    @Input() public active: boolean = false;\n    @Input() public fav: boolean = false;\n\n    @Output() public toggleFav = new EventEmitter<void>();\n    @Output() public activeChange = new EventEmitter<boolean>();\n    @Output() public countChange = new EventEmitter<number>();\n    @Output() public close = new EventEmitter<void>();\n\n    public ngOnInit() {\n        if (this.item && !this.item.amount) this.item.amount = 1;\n    }\n\n    public ngOnChanges(changes: SimpleChanges) {\n        if (changes.item && this.item) {\n            if (!this.item.amount) this.item.amount = 1;\n        }\n    }\n}\n","import { Component } from \"@angular/core\";\n\n@Component({\n    selector: 'asset-filters-display',\n    template: ``,\n    styles: [``]\n})\nexport class AssetFiltersDisplayComponent {\n    \n}\n","import { Component } from \"@angular/core\";\n\n@Component({\n    selector: 'asset-filters',\n    template: ``,\n    styles: [``]\n})\nexport class AssetFiltersComponent {\n    \n}\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n    SimpleChanges,\n} from '@angular/core';\nimport { AssetStateService } from '../asset-state.service';\nimport { AssetGroup } from '../asset.class';\nimport { BehaviorSubject, combineLatest } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\n@Component({\n    selector: 'asset-list',\n    template: `\n        <div\n            class=\"w-full h-full overflow-auto py-2 bg-black/5 dark:bg-white/10 dark:border-neutral-500\"\n        >\n            <h3 class=\"font-bold px-2\">Results</h3>\n            <p count class=\"text-sm opacity-60 mb-4 px-2\">\n                {{ (assets | async)?.length || 0 }} result(s) found\n            </p>\n            <ng-container *ngIf=\"!(loading | async); else load_state\">\n                <ul\n                    class=\"list-style-none space-y-2 p-2\"\n                    *ngIf=\"(assets | async)?.length; else empty_state\"\n                >\n                    <li\n                        asset\n                        *ngFor=\"let asset of assets | async\"\n                        matRipple\n                        class=\"relative p-2 rounded-lg w-full shadow border bg-white dark:bg-neutral-700 border-gray-200 dark:border-neutral-500\"\n                    >\n                        <button\n                            select\n                            class=\"w-full h-full flex items-center pr-10\"\n                            (click)=\"selectAsset(asset)\"\n                        >\n                            <div\n                                class=\"relative w-16 h-16 rounded-xl bg-black/20 mr-4 flex items-center justify-center overflow-hidden border border-black/10\"\n                            >\n                                <div\n                                    class=\"absolute top-1 left-1 border border-white bg-black/50 rounded-full h-6 w-6 flex items-center justify-center text-white\"\n                                    *ngIf=\"selected.includes(asset.id)\"\n                                >\n                                    <span class=\"text-xs\">\n                                        {{ asset.amount || 1 }}\n                                    </span>\n                                </div>\n                                <img\n                                    *ngIf=\"\n                                        asset.images?.length;\n                                        else placeholder\n                                    \"\n                                    class=\"object-cover h-full\"\n                                    [src]=\"asset.images[0]\"\n                                />\n                                <ng-template #placeholder>\n                                    <img\n                                        class=\"m-auto\"\n                                        src=\"assets/icons/asset-placeholder.svg\"\n                                    />\n                                </ng-template>\n                            </div>\n                            <div class=\"space-y-2 text-left flex-1\">\n                                <div\n                                    class=\"font-medium flex items-center justify-between\"\n                                >\n                                    <div>{{ asset.name || 'Asset' }}</div>\n                                    <div class=\"opacity-60 text-xs\">\n                                        {{ asset.category }}\n                                    </div>\n                                </div>\n                                <div\n                                    class=\"flex items-center text-sm space-x-2\"\n                                >\n                                    <p>\n                                        {{ asset.assets?.length || '0' }}\n                                        Available\n                                    </p>\n                                </div>\n                            </div>\n                        </button>\n                        <button\n                            icon\n                            matRipple\n                            fav\n                            class=\"absolute top-1 right-1\"\n                            [class.text-blue-400]=\"isFavourite(asset.id)\"\n                            (click)=\"toggleFav.emit(asset)\"\n                        >\n                            <app-icon>{{\n                                isFavourite(asset.id)\n                                    ? 'favorite'\n                                    : 'favorite_border'\n                            }}</app-icon>\n                        </button>\n                    </li>\n                </ul>\n            </ng-container>\n        </div>\n        <ng-template #empty_state>\n            <div\n                empty\n                class=\"p-16 flex flex-col items-center justify-center space-y-2\"\n            >\n                <p class=\"opacity-30 text-center\">\n                    No available assets for selected time and/or filters\n                </p>\n            </div>\n        </ng-template>\n        <ng-template #load_state>\n            <div\n                loading\n                class=\"p-16 flex flex-col items-center justify-center space-y-2\"\n            >\n                <mat-spinner [diameter]=\"32\"></mat-spinner>\n                <p class=\"opacity-30\">Finding available assets...</p>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                width: 100%;\n                height: 100%;\n            }\n        `,\n    ],\n})\nexport class AssetListComponent {\n    @Input() public selected: string = '';\n    @Input() public favorites: string[] = [];\n    @Input() public selected_items: AssetGroup[] = [];\n    @Output() public toggleFav = new EventEmitter<AssetGroup>();\n    @Output() public onSelect = new EventEmitter<AssetGroup>();\n\n    public readonly counts = new BehaviorSubject<Record<string, number>>({});\n\n    public readonly loading = this._asset_state.loading;\n    public readonly assets = combineLatest([\n        this.counts,\n        this._asset_state.filtered_assets,\n    ]).pipe(\n        map(([counts, assets]) => {\n            for (const item of assets) {\n                item.amount = counts[item.id] || 0;\n                const selected = this.selected_items.find(\n                    (i) => i.id === item.id\n                );\n                if (selected) selected.assets = item.assets;\n            }\n            return assets;\n        })\n    );\n\n    constructor(private _asset_state: AssetStateService) {}\n\n    public ngOnChanges(changes: SimpleChanges) {\n        if (changes.selected_items && this.selected_items?.length) {\n            const counts = {};\n            for (const item of this.selected_items) {\n                counts[item.id] = item.amount;\n            }\n            this.counts.next(counts);\n        }\n    }\n\n    public isFavourite(asset_id: string) {\n        return this.favorites.includes(asset_id);\n    }\n\n    public selectAsset(asset: AssetGroup) {\n        this.onSelect.emit(asset);\n    }\n}\n","import { Component, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { SettingsService } from '@placeos/common';\nimport { Asset, AssetGroup } from '../asset.class';\n\nconst EMPTY_FAVS: string[] = [];\n\n@Component({\n    selector: 'asset-select-modal',\n    template: `\n        <div\n            class=\"w-[100vw] h-[100vh] sm:relative sm:w-auto sm:h-auto flex flex-col bg-white dark:bg-neutral-700\"\n        >\n            <header class=\"flex items-center space-x-4 w-full\">\n                <button icon mat-dialog-close class=\"bg-black/20\">\n                    <app-icon>close</app-icon>\n                </button>\n                <h3>Add Assets</h3>\n            </header>\n            <main\n                class=\"flex-1 flex items-center divide-x divide-gray-200 dark:divide-neutral-500 min-h-[65vh] h-[65vh] sm:max-h-[65vh] sm:max-w-[95vw] w-full overflow-hidden\"\n            >\n                <asset-filters class=\"h-full hidden sm:block\"></asset-filters>\n                <div\n                    class=\"flex flex-col items-center flex-1 w-1/2 h-full sm:min-w-[20rem] sm:h-[65vh]\"\n                >\n                    <asset-filters-display\n                        class=\"w-full border-b border-gray-200 dark:border-neutral-500 dark:bg-neutral-700\"\n                    ></asset-filters-display>\n                    <asset-list\n                        [selected]=\"selected_ids\"\n                        [favorites]=\"favorites\"\n                        [selected_items]=\"selected\"\n                        (toggleFav)=\"toggleFavourite($event)\"\n                        (onSelect)=\"displayed = $event\"\n                        class=\"flex-1 h-1/2 w-full overflow-hidden\"\n                    ></asset-list>\n                </div>\n                <asset-details\n                    [item]=\"displayed!\"\n                    class=\"h-full w-full sm:h-[65vh] absolute sm:relative sm:flex sm:max-w-[20rem] bg-white  dark:bg-neutral-700 z-20\"\n                    [class.hidden]=\"!displayed\"\n                    [class.inset-0]=\"displayed\"\n                    [active]=\"selected_ids.includes(displayed?.id || '')\"\n                    (activeChange)=\"setSelected(displayed!, $event)\"\n                    (countChange)=\"updateSelectedCount($event)\"\n                    [fav]=\"\n                        !!displayed &&\n                        this.favorites.includes(displayed?.id || '')\n                    \"\n                    (toggleFav)=\"toggleFavourite(displayed!)\"\n                    (close)=\"displayed = null\"\n                ></asset-details>\n            </main>\n            <footer\n                class=\"flex sm:hidden flex-col-reverse items-center justify-end p-2 border-t border-gray-200 dark:border-neutral-500w-full\"\n            >\n                <button\n                    btn\n                    matRipple\n                    back-btn\n                    class=\"inverse sm:hidden w-full sm:w-auto\"\n                    *ngIf=\"displayed\"\n                    (click)=\"displayed = null\"\n                >\n                    Back\n                </button>\n                <button\n                    btn\n                    matRipple\n                    save\n                    [mat-dialog-close]=\"selected\"\n                    [class.mb-2]=\"displayed\"\n                    class=\"w-full sm:w-auto sm:mb-0\"\n                >\n                    View List\n                </button>\n            </footer>\n            <footer\n                class=\"hidden sm:flex items-center justify-between p-2 border-t border-gray-200 dark:border-neutral-500 w-full\"\n            >\n                <button\n                    btn\n                    matRipple\n                    [mat-dialog-close]=\"selected\"\n                    class=\"clear text-primary\"\n                >\n                    <div class=\"flex items-center\">\n                        <app-icon class=\"text-xl\">arrow_back</app-icon>\n                        <div class=\"mr-1 underline\">Back to form</div>\n                    </div>\n                </button>\n                <p class=\"opacity-60 text-sm\">{{ count }} asset(s) added</p>\n                <button\n                    btn\n                    matRipple\n                    [disabled]=\"!displayed\"\n                    [class.inverse]=\"isSelected(displayed?.id)\"\n                    (click)=\"setSelected(displayed, !isSelected(displayed?.id))\"\n                >\n                    <div class=\"flex items-center\">\n                        <app-icon class=\"text-xl\">\n                            {{ isSelected(displayed?.id) ? 'remove' : 'add' }}\n                        </app-icon>\n                        <div class=\"mr-1\">\n                            {{\n                                isSelected(displayed?.id)\n                                    ? 'Remove from Booking'\n                                    : 'Add to booking'\n                            }}\n                        </div>\n                    </div>\n                </button>\n            </footer>\n        </div>\n    `,\n    styles: [``],\n})\nexport class AssetSelectModalComponent {\n    public displayed: AssetGroup | null = null;\n    public selected: AssetGroup[] = [...(this._items || [])];\n\n    public get favorites() {\n        return this._settings.get<string[]>('favourite_assets') || EMPTY_FAVS;\n    }\n\n    public get selected_ids() {\n        return this.selected.map((_) => _.id).join(',');\n    }\n\n    public get count() {\n        return this.selected.reduce((t, i: any) => t + i.amount, 0);\n    }\n\n    public isSelected(id: string) {\n        return id && this.selected_ids.includes(id);\n    }\n\n    constructor(\n        private _settings: SettingsService,\n        @Inject(MAT_DIALOG_DATA) private _items: AssetGroup[]\n    ) {}\n\n    public setSelected(group: AssetGroup, state: boolean) {\n        const list = this.selected.filter((_) => _.id !== group.id);\n        if (state) list.push(group);\n        this.selected = [...list];\n    }\n\n    public updateSelectedCount(count: number) {\n        if (!this.displayed) return;\n        const item = this.selected.find((_) => _.id === this.displayed.id);\n        if (item) item.amount = count;\n        item.assets = this.displayed.assets;\n    }\n\n    public toggleFavourite(asset: AssetGroup) {\n        const fav_list = this.favorites;\n        const new_state = !fav_list.includes(asset.id);\n        if (new_state) {\n            this._settings.saveUserSetting('favourite_assets', [\n                ...fav_list,\n                asset.id,\n            ]);\n        } else {\n            this._settings.saveUserSetting(\n                'favourite_assets',\n                fav_list.filter((_) => _ !== asset.id)\n            );\n        }\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, combineLatest, of } from 'rxjs';\nimport {\n    catchError,\n    debounceTime,\n    map,\n    shareReplay,\n    switchMap,\n    tap,\n} from 'rxjs/operators';\nimport { queryAssets, queryGroupAvailability } from './assets.fn';\nimport { queryBookings } from 'libs/bookings/src/lib/bookings.fn';\nimport {\n    addMinutes,\n    endOfDay,\n    endOfMinute,\n    getUnixTime,\n    startOfDay,\n    startOfMinute,\n} from 'date-fns';\nimport { AssetGroup } from './asset.class';\nimport { updateAssetGroupList } from './asset-group.pipe';\nimport { OrganisationService } from '@placeos/organisation';\n\nexport interface AssetOptions {\n    zone?: string;\n    date: number;\n    duration?: number;\n    ignore?: string[];\n}\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class AssetStateService {\n    private _options = new BehaviorSubject<AssetOptions>({ date: Date.now() });\n    private _search = new BehaviorSubject<string>('');\n    private _loading = new BehaviorSubject<string>('');\n\n    public readonly search = this._search.asObservable();\n    public readonly loading = this._loading.asObservable();\n\n    public readonly asset_list = of(0).pipe(\n        switchMap(() => {\n            this._loading.next(this._loading.getValue() + '[Assets]');\n            return queryAssets();\n        }),\n        tap((_) =>\n            this._loading.next(\n                this._loading.getValue().replace(/\\[Assets\\]/g, '')\n            )\n        ),\n        shareReplay(1)\n    );\n\n    public readonly asset_bookings = this._options.pipe(\n        debounceTime(300),\n        switchMap(({ zone, date }) => {\n            this._loading.next(this._loading.getValue() + '[Bookings]');\n            return queryBookings({\n                zones: zone || '',\n                period_start: getUnixTime(startOfDay(date)),\n                period_end: getUnixTime(endOfDay(date)),\n                type: 'asset-request',\n            });\n        }),\n        tap((_) =>\n            this._loading.next(\n                this._loading.getValue().replace(/\\[Bookings\\]/g, '')\n            )\n        ),\n        shareReplay(1)\n    );\n\n    public readonly available_groups = combineLatest([\n        this._options,\n        this._org.active_building,\n    ]).pipe(\n        debounceTime(300),\n        switchMap(([{ zone, date, duration, ignore }, bld]) => {\n            return queryGroupAvailability(\n                {\n                    zone_id: bld.id || zone || '',\n                    zones: zone || '',\n                    period_start: getUnixTime(startOfMinute(date)),\n                    period_end: getUnixTime(\n                        endOfMinute(addMinutes(date, duration || 30))\n                    ),\n                    type: 'asset-request',\n                } as any,\n                ignore\n            ).pipe(catchError(() => of([] as AssetGroup[])));\n        }),\n        map((list) => list.sort((a, b) => a.name.localeCompare(b.name))),\n        tap((_) => updateAssetGroupList(_)),\n        shareReplay(1)\n    );\n\n    public readonly filtered_assets = combineLatest([\n        this._search,\n        this.available_groups,\n    ]).pipe(\n        map(([search, assets]) => {\n            const s = search.toLowerCase();\n            return assets.filter(\n                (_) =>\n                    _.assets?.length &&\n                    (_.name.toLowerCase().includes(s) ||\n                        _.description.toLowerCase().includes(s))\n            );\n        }),\n        shareReplay(1)\n    );\n\n    constructor(private _org: OrganisationService) {}\n\n    public setSearch(value: string) {\n        this._search.next(`${value}`);\n    }\n\n    public setOptions(options: Partial<AssetOptions>) {\n        this._options.next({ ...this._options.value, ...options });\n    }\n}\n","export class AssetCategory {\n    id: string = '';\n    name: string = '';\n    description: string = '';\n    parent_category_id?: string = '';\n    created_at: number = Date.now();\n    updated_at: number = Date.now();\n\n    constructor(data?: Partial<AssetCategory>) {\n        Object.assign(this, data);\n    }\n}\n\nexport class AssetPurchaseOrder {\n    id: string;\n    order_number: string;\n    invoice_number: string;\n    purchase_date: number;\n    unit_price: number;\n    expected_service_start_date: number;\n    expected_service_end_date: number;\n    created_at: number;\n    updated_at: number;\n\n    constructor(data?: Partial<AssetPurchaseOrder>) {\n        Object.assign(this, data);\n    }\n}\n\nexport class AssetGroup {\n    id: string;\n    category_id: string;\n    brand: string;\n    name: string;\n    in_use: number;\n    description: string;\n    category?: AssetCategory;\n    assets?: Asset[];\n    images: string[] = [];\n    purchase_orders?: AssetPurchaseOrder[];\n    amount?: number;\n    zone_id: string;\n    created_at: number;\n    updated_at: number;\n\n    constructor(data?: Partial<AssetGroup>) {\n        Object.assign(this, data);\n    }\n}\n\nexport class Asset {\n    id: string = '';\n    type_id: string = '';\n    description: string = '';\n    serial_number: string = '';\n    identifier: string = '';\n    other_data: Record<string, any> = {};\n    purchase_order_id: string = '';\n    created_at: number = Date.now();\n    updated_at: number = Date.now();\n\n    constructor(data?: Partial<Asset>) {\n        Object.assign(this, data);\n    }\n}\n","import { FormGroup, FormControl, Validators } from '@angular/forms';\nimport {\n    Asset,\n    AssetCategory,\n    AssetGroup,\n    AssetPurchaseOrder,\n} from './asset.class';\nimport { addYears } from 'date-fns';\nimport { flatten } from '@placeos/common';\n\nexport function generateAssetCategoryForm(category: AssetCategory = {} as any) {\n    return new FormGroup({\n        id: new FormControl(category.id),\n        name: new FormControl(category.name || '', [Validators.required]),\n        parent_category_id: new FormControl(category.parent_category_id),\n    });\n}\n\nexport function generateAssetPurchaseOrderForm(\n    order: AssetPurchaseOrder = {} as any\n) {\n    return new FormGroup({\n        id: new FormControl(order.id),\n        order_number: new FormControl(\n            order.order_number || (order as any).purchase_order_number || '',\n            [Validators.required]\n        ),\n        invoice_number: new FormControl(order.invoice_number || ''),\n        unit_price: new FormControl(order.unit_price || 0),\n        purchase_date: new FormControl(order.purchase_date * 1000 || null),\n        expected_service_start_date: new FormControl(\n            order.expected_service_start_date * 1000 ||\n                (order as any).depreciation_start_date ||\n                null\n        ),\n        expected_service_end_date: new FormControl(\n            order.expected_service_end_date * 1000 ||\n                (order as any).depreciation_end_date ||\n                null\n        ),\n    });\n}\n\nexport function generateAssetGroupForm(group: AssetGroup = new AssetGroup()) {\n    return new FormGroup({\n        id: new FormControl(group.id),\n        category_id: new FormControl(group.category_id || '', [\n            Validators.required,\n        ]),\n        images: new FormControl(group.images || []),\n        brand: new FormControl(group.brand || ''),\n        name: new FormControl(group.name || '', [Validators.required]),\n        description: new FormControl(group.description || ''),\n    });\n}\n\nexport function generateAssetForm(asset: Asset = new Asset()) {\n    return new FormGroup({\n        id: new FormControl(asset.id),\n        type_id: new FormControl(asset.type_id || '', [Validators.required]),\n        description: new FormControl(asset.description || ''),\n        serial_number: new FormControl(asset.serial_number || ''),\n        identifier: new FormControl(asset.identifier || ''),\n        other_data: new FormControl(asset.other_data || {}),\n        purchase_order_id: new FormControl(asset.purchase_order_id),\n    });\n}\n\nexport function assetsToGroups(assets: Asset[]) {\n    const groups: AssetGroup[] = [];\n    for (const asset of assets) {\n        const group = groups.find((_) => _.id === (asset as any).asset_type_id);\n        if (group) {\n            group.assets.push(asset);\n        } else {\n            groups.push({\n                id: (asset as any).asset_type_id,\n                name: (asset as any).name,\n                assets: [asset],\n            } as AssetGroup);\n        }\n    }\n    for (const group of groups) {\n        group.amount = group.assets.length;\n    }\n    return groups;\n}\n\nexport function groupsToAssets(groups: AssetGroup[]) {\n    return flatten(\n        groups.map((_) =>\n            _.assets\n                .slice(0, (_ as any).amount)\n                .map((asset) => ({ ...asset, name: _.name }))\n        )\n    );\n}\n","import { cleanObject, del, get, post, put } from '@placeos/ts-client';\nimport { toQueryString } from 'libs/common/src/lib/api';\nimport { catchError, map } from 'rxjs/operators';\nimport {\n    Asset,\n    AssetCategory,\n    AssetGroup,\n    AssetPurchaseOrder,\n} from './asset.class';\nimport { combineLatest, of } from 'rxjs';\nimport { endOfDay, getUnixTime, startOfDay } from 'date-fns';\nimport {\n    BookingsQueryParams,\n    createBooking,\n    queryBookings,\n    removeBooking,\n} from 'libs/bookings/src/lib/bookings.fn';\nimport { Booking } from 'libs/bookings/src/lib/booking.class';\nimport { flatten } from '@placeos/common';\nimport { CalendarEvent } from 'libs/events/src/lib/event.class';\n\nconst BASE_ENDPOINT = '/api/engine/v2';\n\n////////////////////////////////\n////    Asset Categories    ////\n////////////////////////////////\n\nexport function queryAssetCategories(query: any = {}) {\n    const q = toQueryString(query);\n    return get(`${BASE_ENDPOINT}/asset_categories${q ? '?' + q : ''}`).pipe(\n        map((_) => _ as AssetCategory[])\n    );\n}\n\nexport function addAssetCategory(category: AssetCategory) {\n    return post(\n        `${BASE_ENDPOINT}/asset_categories`,\n        cleanObject(category, [undefined, null, ''])\n    ).pipe(map((_) => _ as AssetCategory));\n}\n\nexport function updateAssetCategory(\n    id: string,\n    category: Partial<AssetCategory>\n) {\n    return put(\n        `${BASE_ENDPOINT}/asset_categories/${id}`,\n        cleanObject(category, [undefined, null, ''])\n    ).pipe(map((_) => _ as AssetCategory));\n}\n\nexport function saveAssetCategory(category: AssetCategory) {\n    return category.id\n        ? updateAssetCategory(category.id, category)\n        : addAssetCategory(category);\n}\n\nexport function showAssetCategory(id: string) {\n    return get(`${BASE_ENDPOINT}/asset_categories/${id}`).pipe(\n        map((_) => _ as AssetCategory)\n    );\n}\n\nexport function deleteAssetCategory(id: string) {\n    return del(`${BASE_ENDPOINT}/asset_categories/${id}`);\n}\n\n//////////////////////////////\n////     Asset Groups     ////\n//////////////////////////////\n\nexport function queryAssetGroups(query: any = {}) {\n    const q = toQueryString(query);\n    return get(`${BASE_ENDPOINT}/asset_types${q ? '?' + q : ''}`).pipe(\n        map((_) => _ as AssetGroup[])\n    );\n}\n\nexport function addAssetGroup(product: AssetGroup) {\n    return post(\n        `${BASE_ENDPOINT}/asset_types`,\n        cleanObject(product, [undefined, null, ''])\n    ).pipe(map((_) => _ as AssetGroup));\n}\n\nexport function updateAssetGroup(id: string, product: Partial<AssetGroup>) {\n    return put(\n        `${BASE_ENDPOINT}/asset_types/${id}`,\n        cleanObject(product, [undefined, null, ''])\n    ).pipe(map((_) => _ as AssetGroup));\n}\n\nexport function saveAssetGroup(product: AssetGroup) {\n    return product.id\n        ? updateAssetGroup(product.id, product)\n        : addAssetGroup(product);\n}\n\nexport function showAssetGroup(id: string) {\n    return get(`${BASE_ENDPOINT}/asset_types/${id}`).pipe(\n        map((_) => _ as AssetGroup)\n    );\n}\n\nexport function deleteAssetGroup(id: string) {\n    return del(`${BASE_ENDPOINT}/asset_types/${id}`);\n}\n\n////////////////////////////////\n////          Assets        ////\n////////////////////////////////\n\nexport function queryAssets(query: any = {}) {\n    const q = toQueryString(query);\n    return get(`${BASE_ENDPOINT}/assets${q ? '?' + q : ''}`).pipe(\n        map((_) => _ as Asset[])\n    );\n}\n\nexport function addAsset(asset: Asset) {\n    return post(\n        `${BASE_ENDPOINT}/assets`,\n        cleanObject(asset, [undefined, null, ''])\n    ).pipe(map((_) => _ as Asset));\n}\n\nexport function updateAsset(id: string, asset: Partial<Asset>) {\n    return put(\n        `${BASE_ENDPOINT}/assets/${id}`,\n        cleanObject(asset, [undefined, null, ''])\n    ).pipe(map((_) => _ as Asset));\n}\n\nexport function saveAsset(asset: Asset) {\n    return asset.id\n        ? updateAsset(asset.id, {\n              ...asset,\n              asset_type_id: asset.type_id,\n          } as any)\n        : addAsset({ ...asset, asset_type_id: asset.type_id } as any);\n}\n\nexport function showAsset(id: string) {\n    return get(`${BASE_ENDPOINT}/assets/${id}`).pipe(map((_) => _ as Asset));\n}\n\nexport function deleteAsset(id: string) {\n    return del(`${BASE_ENDPOINT}/assets/${id}`);\n}\n\n////////////////////////////////\n////      Assets (Bulk)     ////\n////////////////////////////////\n\nexport function addAssetsInBulk(assets: Asset[]) {\n    assets.map((_: any) => (_.asset_type_id = _.type_id));\n    return post(\n        `${BASE_ENDPOINT}/assets/bulk`,\n        assets.map((_) => cleanObject(_, [undefined, null, '']))\n    ).pipe(map((_) => _ as Asset[]));\n}\n\nexport function updateAssetsInBulk(assets: Partial<Asset>[]) {\n    assets.map((_: any) => (_.asset_type_id = _.type_id));\n    return put(\n        `${BASE_ENDPOINT}/assets/bulk`,\n        assets.map((_) => cleanObject(_, [undefined, null, '']))\n    ).pipe(map((_) => _ as Asset[]));\n}\n\nexport function saveAssetsInBulk(assets: Asset[]) {\n    if (!assets?.length) return of([]);\n    return assets.every((item) => item?.id)\n        ? updateAssetsInBulk(assets)\n        : addAssetsInBulk(assets);\n}\n\nexport function deleteAssetsInBulk(id_list: string[]) {\n    return del(`${BASE_ENDPOINT}/assets/bulk`, { body: { id_list } });\n}\n\n/////////////////////////////////\n////  Asset Purchase Orders  ////\n/////////////////////////////////\n\nexport function queryAssetPurchaseOrders(query: any = {}) {\n    const q = toQueryString(query);\n    return get(\n        `${BASE_ENDPOINT}/asset_purchase_orders${q ? '?' + q : ''}`\n    ).pipe(map((_) => _ as AssetPurchaseOrder[]));\n}\n\nexport function addAssetPurchaseOrder(order: AssetPurchaseOrder) {\n    return post(\n        `${BASE_ENDPOINT}/asset_purchase_orders`,\n        cleanObject(order, [undefined, null, ''])\n    ).pipe(map((_) => _ as AssetPurchaseOrder));\n}\n\nexport function updateAssetPurchaseOrder(\n    id: string,\n    order: Partial<AssetPurchaseOrder>\n) {\n    return put(\n        `${BASE_ENDPOINT}/asset_purchase_orders/${id}`,\n        cleanObject(order, [undefined, null, ''])\n    ).pipe(map((_) => _ as AssetPurchaseOrder));\n}\n\nexport function saveAssetPurchaseOrder(order: AssetPurchaseOrder) {\n    return order.id\n        ? updateAssetPurchaseOrder(order.id, {\n              ...order,\n              purchase_order_number: order.order_number,\n          } as any)\n        : addAssetPurchaseOrder({\n              ...order,\n              purchase_order_number: order.order_number,\n          } as any);\n}\n\nexport function showAssetPurchaseOrder(id: string) {\n    return get(`${BASE_ENDPOINT}/asset_purchase_orders/${id}`).pipe(\n        map((_) => _ as AssetPurchaseOrder)\n    );\n}\n\nexport function deleteAssetPurchaseOrder(id: string) {\n    return del(`${BASE_ENDPOINT}/asset_purchase_orders/${id}`);\n}\n\n//////////////////////////////////////\n////     Asset Helper Methods     ////\n//////////////////////////////////////\n\nexport function getGroupsWithAssets(query: any = {}) {\n    return combineLatest([queryAssetGroups(query), queryAssets(query)]).pipe(\n        map(([products, assets]) => {\n            for (const product of products) {\n                product.assets = assets.filter(\n                    (asset) => (asset as any).asset_type_id === product.id\n                );\n            }\n            return products;\n        })\n    );\n}\n\nexport function showGroupFull(id: string, query: any = {}) {\n    return combineLatest([\n        showAssetGroup(id),\n        queryAssetCategories(),\n        queryAssets({ ...query, type_id: id }),\n        queryAssetPurchaseOrders(),\n    ]).pipe(\n        map(([product, categories, assets, purchase_orders]) => {\n            product.category = categories.find(\n                (category) => category.id === product.category_id\n            );\n            product.assets = assets.filter(\n                (asset) =>\n                    asset.type_id === product.id ||\n                    (asset as any).asset_type_id === product.id\n            );\n            for (const asset of product.assets) {\n                (asset as any).order_number = (purchase_orders as any).find(\n                    (_) => _.id === asset.purchase_order_id\n                )?.purchase_order_number;\n            }\n            product.purchase_orders = purchase_orders.filter((order) =>\n                product.assets.find(\n                    (asset) => asset.purchase_order_id === order.id\n                )\n            );\n            return product;\n        })\n    );\n}\n\nexport function queryAvailableAssets(\n    query: BookingsQueryParams,\n    ignore?: string[]\n) {\n    query.type = 'asset-request';\n    return combineLatest([queryAssets(query), queryBookings(query)]).pipe(\n        map(([assets, bookings]) =>\n            assets.filter(\n                (asset) =>\n                    ignore?.includes(asset.id) ||\n                    !bookings.find((booking) => booking.asset_id === asset.id)\n            )\n        )\n    );\n}\n\nexport function queryGroupAvailability(\n    query: BookingsQueryParams,\n    ignore?: string[]\n) {\n    return combineLatest([\n        queryAssetGroups(),\n        queryAvailableAssets(query, ignore),\n    ]).pipe(\n        map(([products, assets]) => {\n            for (const product of products) {\n                product.assets = assets.filter(\n                    (asset) =>\n                        asset.type_id === product.id ||\n                        (asset as any).asset_type_id === product.id\n                );\n            }\n            return products;\n        })\n    );\n}\n\nexport async function removeAssetRequests(id: string) {\n    const requests = await queryBookings({\n        period_start: getUnixTime(startOfDay(new Date())),\n        period_end: getUnixTime(endOfDay(new Date())),\n        type: 'asset-request',\n    }).toPromise();\n    return Promise.all(\n        requests\n            .filter((_) => _.asset_id === id)\n            .map((request) => removeBooking(request.id).toPromise())\n    );\n}\n\nexport async function updateAssetRequestsForResource(\n    { id, ical_uid }: Partial<CalendarEvent>,\n    {\n        date,\n        duration,\n        host,\n        location_name,\n        location_id,\n        zones,\n    }: {\n        date: number;\n        duration: number;\n        host: string;\n        location_name?: string;\n        location_id?: string;\n        zones?: string[];\n    },\n    new_assets: AssetGroup[],\n    old_assets: Asset[]\n) {\n    const assets: Asset[] = flatten(\n        new_assets.map((_) =>\n            _.assets\n                .slice(0, (_ as any).amount)\n                .map((asset) => ({ ...asset, name: _.name }))\n        )\n    );\n    const bookings = await queryBookings({\n        period_start: getUnixTime(startOfDay(date)),\n        period_end: getUnixTime(endOfDay(date)),\n        type: 'asset-request',\n        email: host,\n        event_id: id,\n        ical_uid,\n    }).toPromise();\n    const filtered = bookings.filter(\n        (item) =>\n            item.extension_data.parent_id === id &&\n            !assets.find((_) => _.id === item.asset_id)\n    );\n    await Promise.all(\n        filtered.map((item) => removeBooking(item.id).toPromise())\n    );\n    await Promise.all(\n        assets\n            .filter(({ id }) => !old_assets?.find((_) => _.id === id))\n            .map((item) =>\n                createBooking(\n                    new Booking({\n                        type: 'asset-request',\n                        booking_type: 'asset-request',\n                        date,\n                        duration,\n                        description: location_name,\n                        user_email: host,\n                        asset_id: item.id,\n                        asset_name: (item as any).name,\n                        title: (item as any).name,\n                        extension_data: { parent_id: id, location_id },\n                        zones: zones || [],\n                    }),\n                    { ical_uid, event_id: id }\n                ).toPromise()\n            )\n    );\n    return assets;\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ComponentsModule } from '@placeos/components';\nimport { FormFieldsModule } from '@placeos/form-fields';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { AssetSelectModalComponent } from './asset-select-modal/asset-select-modal.component';\nimport { AssetDetailsComponent } from './asset-select-modal/asset-details.component';\nimport { AssetFiltersComponent } from './asset-select-modal/asset-filters.component';\nimport { AssetFiltersDisplayComponent } from './asset-select-modal/asset-filters-display.component';\nimport { AssetListComponent } from './asset-select-modal/asset-list.component';\nimport { AssetGroupPipe } from './asset-group.pipe';\nimport { AssetListFieldComponent } from './asset-list-field.component';\n\nexport * from './asset-select-modal/asset-select-modal.component';\n\nconst COMPONENTS = [AssetSelectModalComponent, AssetListFieldComponent];\n\nconst MODULE_COMPONENTS = [\n    AssetDetailsComponent,\n    AssetFiltersComponent,\n    AssetFiltersDisplayComponent,\n    AssetListComponent,\n    AssetGroupPipe,\n];\n\n@NgModule({\n    declarations: [...COMPONENTS, ...MODULE_COMPONENTS],\n    imports: [\n        CommonModule,\n        FormFieldsModule,\n        FormsModule,\n        ReactiveFormsModule,\n        ComponentsModule,\n    ],\n    exports: [...COMPONENTS],\n})\nexport class AssetsModule {}\n","export * from './lib/bookings.module';\nexport * from './lib/booking-form.service';\nexport * from './lib/booking.class';\nexport * from './lib/booking.utilities';\nexport * from './lib/bookings.fn';\nexport * from './lib/bookings.module';\nexport * from './lib/desk.service';\nexport * from './lib/lockers.service';\nexport * from './lib/booking-details-modal.component';\nexport * from './lib/booking-card.component';\nexport * from './lib/parking-select-modal/parking-select-modal.component';\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { ActivatedRoute } from '@angular/router';\nimport { currentUser } from '@placeos/common';\nimport { addMinutes, format, formatDuration, isSameDay } from 'date-fns';\n\nimport { Booking } from './booking.class';\nimport { BookingDetailsModalComponent } from './booking-details-modal.component';\nimport { AsyncHandler } from 'libs/common/src/lib/async-handler.class';\nimport { OrganisationService } from 'libs/organisation/src/lib/organisation.service';\n\n@Component({\n    selector: 'booking-card',\n    template: `\n        <h4 class=\"mb-2 flex items-center\" *ngIf=\"booking\">\n            <span *ngIf=\"show_day\" day>{{ day }}, </span>\n            {{ booking?.date | date: 'h:mm a' }}\n            <span class=\"text-xs px-2\">({{ booking?.date | date: 'z' }})</span>\n        </h4>\n        <a\n            name=\"view-booking-details\"\n            class=\"w-full cursor-pointer overflow-hidden relative\"\n            [routerLink]=\"['./']\"\n            [queryParams]=\"{ booking: booking?.id }\"\n            (click)=\"viewDetails()\"\n            *ngIf=\"booking\"\n        >\n            <div\n                class=\"w-full bg-white dark:bg-[#1F2021] rounded-xl shadow py-4 relative\"\n            >\n                <h4 class=\"px-4 text-lg\">{{ booking?.title }}</h4>\n                <div class=\"flex mx-4 my-2\">\n                    <div\n                        class=\"flex items-center bg-opacity-30 rounded-2xl p-1 text-base space-x-2 pr-2 font-medium\"\n                        [class.bg-green-600]=\"\n                            !booking.is_done && booking?.status === 'approved'\n                        \"\n                        [class.bg-yellow-500]=\"\n                            !booking.is_done && booking?.status === 'tentative'\n                        \"\n                        [class.bg-red-600]=\"\n                            !booking.is_done && booking?.status === 'declined'\n                        \"\n                        [class.bg-gray-300]=\"booking.is_done\"\n                    >\n                        <div\n                            class=\"rounded-full h-5 w-5 flex items-center justify-center text-white\"\n                            [class.bg-success]=\"\n                                !booking.is_done &&\n                                booking?.status === 'approved'\n                            \"\n                            [class.text-pending]=\"\n                                !booking.is_done &&\n                                booking?.status === 'tentative'\n                            \"\n                            [class.bg-error]=\"\n                                !booking.is_done &&\n                                booking?.status === 'declined'\n                            \"\n                            [class.text-neutral-600]=\"booking.is_done\"\n                        >\n                            <app-icon>\n                                {{\n                                    booking.is_done\n                                        ? 'not_interested'\n                                        : booking?.status === 'approved'\n                                        ? 'done'\n                                        : booking?.status === 'tentative'\n                                        ? 'warning'\n                                        : 'close'\n                                }}\n                            </app-icon>\n                        </div>\n                        <div class=\"pr-1\">{{ period }}</div>\n                    </div>\n                </div>\n                <div\n                    class=\"flex flex-wrap flex-col sm:flex-row sm:divide-x divide-neutral-500 py-2 space-y-2 sm:space-y-0\"\n                >\n                    <div class=\"flex items-center px-4\">\n                        <app-icon *ngIf=\"type !== 'desk'; else desk_icon\">{{\n                            type\n                        }}</app-icon>\n                        <div class=\"mx-2 truncate\">\n                            {{ booking?.description || booking?.asset_id }}\n                        </div>\n                    </div>\n                    <div class=\"flex items-center px-4\" *ngIf=\"location\">\n                        <app-icon>place</app-icon>\n                        <div class=\"mx-2 truncate\">{{ location }}</div>\n                    </div>\n                </div>\n                <app-icon\n                    class=\"absolute top-1/2 right-1 text-4xl -translate-y-1/2\"\n                >\n                    chevron_right\n                </app-icon>\n                <div\n                    class=\"absolute top-2 right-2 bg-yellow-500/50 rounded-xl px-2 py-1 text-xs\"\n                    *ngIf=\"!for_current_user\"\n                >\n                    Associate\n                </div>\n            </div>\n        </a>\n        <ng-template #desk_icon>\n            <img src=\"assets/icons/desk-outline.svg\" class=\"w-5 h-5\" />\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                display: block;\n                width: 100%;\n                position: relative;\n            }\n        `,\n    ],\n})\nexport class BookingCardComponent extends AsyncHandler {\n    @Input() public booking: Booking;\n    @Input() public show_day: boolean = false;\n    @Output() public edit = new EventEmitter();\n    @Output() public remove = new EventEmitter();\n    @Output() public end = new EventEmitter();\n\n    public get for_current_user() {\n        return (\n            this.booking?.user_email.toLowerCase() ===\n            currentUser()?.email.toLowerCase()\n        );\n    }\n\n    constructor(\n        private _dialog: MatDialog,\n        private _route: ActivatedRoute,\n        private _org: OrganisationService\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((params) =>\n                params.has('booking') &&\n                this.booking?.id === params.get('event')\n                    ? this.viewDetails()\n                    : ''\n            )\n        );\n    }\n\n    public get type() {\n        if (this.booking?.type === 'desk') return 'desk';\n        if (this.booking?.type === 'parking') return 'drive_eta';\n        return 'book';\n    }\n\n    public get day() {\n        const date = this.booking?.date || Date.now();\n        const is_today = isSameDay(Date.now(), date);\n        return `${is_today ? 'Today' : format(date, 'EEEE')}`;\n    }\n\n    public get location() {\n        const level = this._org.levelWithID(this.booking?.zones || []);\n        return `${level?.display_name || level?.name || ''}`;\n    }\n\n    public get period() {\n        if (this.booking?.all_day) return 'All Day';\n        const start = this.booking?.date || Date.now();\n        const duration = this.booking?.duration || 60;\n        const end = addMinutes(start, duration);\n        const dur = formatDuration({\n            hours: Math.floor(duration / 60),\n            minutes: duration % 60,\n        })\n            .replace(' hour', 'hr')\n            .replace(' minute', 'min');\n        return `${format(start, 'h:mm a')} - ${format(end, 'h:mm a')} (${dur})`;\n    }\n\n    public viewDetails() {\n        if (!this.booking) return;\n        this.timeout('open', () => {\n            const ref = this._dialog.open(BookingDetailsModalComponent, {\n                data: this.booking,\n            });\n            this.subscription(\n                'edit',\n                ref.componentInstance.edit.subscribe(() => this.edit.emit())\n            );\n            this.subscription(\n                'remove',\n                ref.componentInstance.remove.subscribe(() => this.remove.emit())\n            );\n            this.subscription(\n                'end',\n                ref.componentInstance.end.subscribe(() => this.end.emit())\n            );\n        });\n    }\n}\n","import { Component, EventEmitter, Inject, Output } from '@angular/core';\nimport { MatDialog, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { notifySuccess, SettingsService } from '@placeos/common';\nimport { addMinutes, format, formatDuration } from 'date-fns';\n\nimport { MapLocateModalComponent } from 'libs/components/src/lib/map-locate-modal.component';\nimport { MapPinComponent } from 'libs/components/src/lib/map-pin.component';\nimport { OrganisationService } from 'libs/organisation/src/lib/organisation.service';\nimport { Booking } from './booking.class';\nimport { checkinBooking } from './bookings.fn';\n\n@Component({\n    selector: 'booking-details-modal',\n    template: `\n        <div\n            class=\"w-[100vw] h-[100vh] sm:relative sm:inset-auto sm:w-[51rem] sm:h-auto sm:max-h-[80vh] bg-white sm:bg-gray-100 sm:dark:bg-neutral-600 dark:bg-neutral-700 sm:rounded overflow-auto space-y-2 pb-2\"\n        >\n            <div\n                class=\"sm:flex flex-col items-center pb-4 max-h-screen sm:max-h-[80vh] sm:px-16 sm:border-b bg-white dark:bg-neutral-700 border-gray-300 dark:border-neutral-500\"\n            >\n                <div\n                    class=\"h-8 w-full sm:hidden block\"\n                    *ngIf=\"!booking?.extension_data?.images?.length\"\n                ></div>\n                <div\n                    class=\"bg-black/20 dark:bg-white/20 w-full h-64 sm:rounded-b overflow-hidden\"\n                    *ngIf=\"booking?.extension_data?.images?.length\"\n                >\n                    <image-carousel\n                        [images]=\"booking?.extension_data?.images\"\n                        class=\"w-full h-64\"\n                    ></image-carousel>\n                </div>\n                <h3\n                    title\n                    class=\"px-3 mt-2 text-xl font-medium w-full\"\n                    [class.pt-4]=\"!booking?.extension_data?.images\"\n                >\n                    {{ booking.title }}\n                </h3>\n                <div class=\"sm:flex items-center justify-between w-full\">\n                    <div class=\"flex m-2\">\n                        <div\n                            class=\"flex items-center bg-opacity-30 rounded-2xl p-1 text-sm space-x-2 pr-2 font-medium\"\n                            [class.bg-green-600]=\"\n                                !booking.is_done &&\n                                booking?.status === 'approved'\n                            \"\n                            [class.bg-yellow-500]=\"\n                                !booking.is_done &&\n                                booking?.status === 'tentative'\n                            \"\n                            [class.bg-red-600]=\"\n                                !booking.is_done &&\n                                booking?.status === 'declined'\n                            \"\n                            [class.bg-gray-300]=\"booking.is_done\"\n                        >\n                            <div\n                                class=\"rounded-full h-5 w-5 flex items-center justify-center text-white\"\n                                [class.bg-success]=\"\n                                    !booking.is_done &&\n                                    booking?.status === 'approved'\n                                \"\n                                [class.text-pending]=\"\n                                    !booking.is_done &&\n                                    booking?.status === 'tentative'\n                                \"\n                                [class.bg-error]=\"\n                                    !booking.is_done &&\n                                    booking?.status === 'declined'\n                                \"\n                                [class.text-neutral-600]=\"booking.is_done\"\n                            >\n                                <app-icon>\n                                    {{\n                                        booking.is_done\n                                            ? 'not_interested'\n                                            : booking?.status === 'approved'\n                                            ? 'done'\n                                            : booking?.status === 'tentative'\n                                            ? 'warning'\n                                            : 'close'\n                                    }}\n                                </app-icon>\n                            </div>\n                            <div class=\"pr-1\">{{ period }}</div>\n                        </div>\n                    </div>\n                    <div\n                        actions\n                        class=\"flex items-center space-x-2 px-2\"\n                        *ngIf=\"!booking.is_done\"\n                    >\n                        <button\n                            btn\n                            matRipple\n                            class=\"flex-1 h-10 border-none\"\n                            [class.bg-green-600]=\"booking.checked_in\"\n                            [disabled]=\"checking_in\"\n                            *ngIf=\"!auto_checkin\"\n                            (click)=\"toggleCheckedIn()\"\n                        >\n                            <div\n                                class=\"flex items-center space-x-2 justify-center\"\n                                *ngIf=\"!checking_in; else loading_state\"\n                            >\n                                <app-icon>{{\n                                    booking.checked_in ? 'done' : 'arrow_back'\n                                }}</app-icon>\n                                <div class=\"mr-4\">\n                                    {{\n                                        booking.checked_in\n                                            ? 'Checked in'\n                                            : 'Check in'\n                                    }}\n                                </div>\n                            </div>\n                            <ng-template #loading_state>\n                                <mat-spinner\n                                    class=\"mx-auto\"\n                                    [diameter]=\"32\"\n                                ></mat-spinner>\n                            </ng-template>\n                        </button>\n                        <button\n                            icon\n                            matRipple\n                            [matMenuTriggerFor]=\"menu\"\n                            class=\"bg-primary rounded text-white h-10 w-10\"\n                        >\n                            <app-icon>more_horiz</app-icon>\n                        </button>\n                    </div>\n                </div>\n            </div>\n            <div class=\"sm:flex flex-wrap sm:px-12\">\n                <div\n                    class=\"sm:p-4 sm:bg-white sm:dark:bg-neutral-700 rounded sm:m-2 sm:border border-gray-200 dark:border-neutral-500 flex-grow-[4] min-w-1/3 sm:w-[16rem]\"\n                >\n                    <h3 class=\"px-3 mt-2 text-lg font-medium mb-2\" i18n>\n                        Details\n                    </h3>\n                    <div class=\"flex items-center px-2 space-x-2\">\n                        <app-icon>event</app-icon>\n                        <div>{{ booking.date | date: 'EEEE, dd LLLL y' }}</div>\n                    </div>\n                    <div class=\"flex items-center px-2 space-x-2\">\n                        <app-icon>schedule</app-icon>\n                        <div>{{ period }}</div>\n                    </div>\n                    <div class=\"flex items-center px-2 space-x-2\">\n                        <app-icon>map</app-icon>\n                        <div>\n                            {{ level?.display_name || level?.name }},\n                            {{ booking.asset_name || booking.asset_id }}\n                        </div>\n                    </div>\n                    <div class=\"flex items-center px-2 space-x-2\">\n                        <app-icon>place</app-icon>\n                        <div>\n                            {{ building?.display_name || building?.name }}\n                            {{\n                                building?.address ? ', ' + building.address : ''\n                            }}\n                        </div>\n                    </div>\n                </div>\n                <button\n                    map\n                    class=\"mt-4 sm:my-2 h-64 sm:h-48 relative border border-gray-200 dark:border-neutral-500 overflow-hidden rounded sm:bg-white m-2 flex-grow-[3] min-w-1/3 w-[calc(100%-1rem)] p-2 sm:w-[16rem]\"\n                    (click)=\"viewLocation()\"\n                >\n                    <interactive-map\n                        *ngIf=\"!hide_map\"\n                        class=\"pointer-events-none\"\n                        [src]=\"level?.map_id\"\n                        [features]=\"features\"\n                        [options]=\"{ disable_pan: true, disable_zoom: true }\"\n                    ></interactive-map>\n                </button>\n            </div>\n            <button\n                icon\n                matRipple\n                mat-dialog-close\n                class=\"absolute top-0 left-2 bg-black/30 text-white\"\n            >\n                <app-icon>close</app-icon>\n            </button>\n        </div>\n        <mat-menu #menu=\"matMenu\" xPosition=\"before\">\n            <!-- <button mat-menu-item mat-dialog-close class=\"flex items-center space-x-2 text-base\" (click)=\"edit.emit()\">\n                <app-icon>edit</app-icon>\n                <div i18n>Edit booking</div>\n            </button> -->\n            <button\n                mat-menu-item\n                *ngIf=\"!is_in_progress\"\n                class=\"flex items-center space-x-2 text-base\"\n                (click)=\"remove.emit()\"\n            >\n                <app-icon>delete</app-icon>\n                <div i18n>Delete booking</div>\n            </button>\n            <button\n                mat-menu-item\n                *ngIf=\"is_in_progress\"\n                class=\"flex items-center space-x-2 text-base\"\n                (click)=\"end.emit()\"\n            >\n                <app-icon>delete</app-icon>\n                <div i18n>End booking</div>\n            </button>\n        </mat-menu>\n    `,\n    styles: [``],\n})\nexport class BookingDetailsModalComponent {\n    @Output() public edit = new EventEmitter();\n    @Output() public remove = new EventEmitter();\n    @Output() public end = new EventEmitter();\n    public readonly booking = this._booking;\n    public hide_map = false;\n    public checking_in = false;\n    public readonly features = [\n        {\n            location: this.booking?.asset_id,\n            content: MapPinComponent,\n        },\n    ];\n\n    public get level() {\n        return this._org.levelWithID(this.booking?.zones || []);\n    }\n\n    public get building() {\n        return this._org.buildings.find((bld) =>\n            (this.booking?.zones || []).includes(bld.id)\n        );\n    }\n\n    public get auto_checkin() {\n        return this._settings.get(\n            `app.${this.booking?.type || 'bookings'}.auto_checkin`\n        );\n    }\n\n    public get is_in_progress() {\n        const ts = Date.now();\n        const start = this.booking?.booking_start * 1000;\n        const end = this.booking?.booking_end * 1000;\n        if (this.booking?.all_day) return start <= ts;\n        return start <= ts && ts <= end;\n    }\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) private _booking: Booking,\n        private _settings: SettingsService,\n        private _org: OrganisationService,\n        private _dialog: MatDialog\n    ) {}\n\n    public get period() {\n        if (this.booking?.all_day) return 'All Day';\n        const start = this.booking?.date || Date.now();\n        const duration = this.booking?.duration || 60;\n        const end = addMinutes(start, duration);\n        const dur = formatDuration({\n            hours: Math.floor(duration / 60),\n            minutes: duration % 60,\n        })\n            .replace(' hour', 'hr')\n            .replace(' minute', 'min');\n        return `${format(start, 'h:mm a')} - ${format(end, 'h:mm a')} (${dur})`;\n    }\n\n    public async toggleCheckedIn() {\n        this.checking_in = true;\n        await checkinBooking(\n            this.booking.id,\n            !this.booking.checked_in\n        ).toPromise();\n        (this.booking as any).checked_in = !this.booking.checked_in;\n        notifySuccess(\n            `Successfully ${\n                this.booking.checked_in ? 'checked in' : 'ended booking'\n            }`\n        );\n        this.checking_in = false;\n    }\n\n    public viewLocation() {\n        this.hide_map = true;\n        const ref = this._dialog.open(MapLocateModalComponent, {\n            maxWidth: '95vw',\n            maxHeight: '95vh',\n            data: {\n                item: {\n                    id: this._booking.asset_id,\n                    name: this._booking.asset_name,\n                    map_id: this._booking.extension_data.map_id,\n                    level: this.level,\n                },\n            },\n        });\n        ref.afterClosed().subscribe(() => (this.hide_map = false));\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { Event, NavigationEnd, Router } from '@angular/router';\nimport {\n    AsyncHandler,\n    currentUser,\n    flatten,\n    getInvalidFields,\n    notifyError,\n    openConfirmModal,\n    SettingsService,\n    unique,\n} from '@placeos/common';\nimport {\n    cleanObject,\n    listChildMetadata,\n    PlaceZone,\n    showMetadata,\n} from '@placeos/ts-client';\nimport { format, getUnixTime, addMinutes, set } from 'date-fns';\nimport {\n    BehaviorSubject,\n    combineLatest,\n    merge,\n    Observable,\n    of,\n    timer,\n} from 'rxjs';\nimport {\n    catchError,\n    debounceTime,\n    distinctUntilKeyChanged,\n    filter,\n    first,\n    map,\n    shareReplay,\n    switchMap,\n    take,\n    tap,\n} from 'rxjs/operators';\n\nimport { OrganisationService } from 'libs/organisation/src/lib/organisation.service';\nimport { User } from 'libs/users/src/lib/user.class';\nimport { Booking, BookingType } from './booking.class';\nimport { generateBookingForm } from './booking.utilities';\nimport { queryBookings, saveBooking } from './bookings.fn';\nimport { DeskQuestionsModalComponent } from './desk-questions-modal.component';\nimport { findNearbyFeature } from './booking.utilities';\nimport { PaymentsService } from 'libs/payments/src/lib/payments.service';\nimport { BookingLinkModalComponent } from './booking-link-modal.component';\nimport { updateAssetRequestsForResource } from 'libs/assets/src/lib/assets.fn';\n\nexport type BookingFlowView = 'form' | 'map' | 'confirm' | 'success';\n\nconst BOOKING_URLS = [\n    'book/desks',\n    'book/parking',\n    'book/new-desks',\n    'book/new-parking',\n];\n\nexport interface BookingFlowOptions {\n    /** Type of booking being made */\n    type: BookingType;\n    /** Zone to check available */\n    zone_id?: string;\n    /** List of features that the asset should associate */\n    features?: string[];\n    /** Whether booking is for a group */\n    group?: boolean;\n    /** Recurrence Pattern */\n    pattern?: 'none' | 'daily' | 'weekly' | 'monthly';\n    /** Recurrence ending */\n    recurr_end?: number;\n    /** List of group members to book for */\n    members?: User[];\n    /** Whether to only show favourite rooms */\n    show_fav?: boolean;\n}\n\nexport interface BookingAsset {\n    id: string;\n    map_id: string;\n    name: string;\n    bookable: boolean;\n    zone?: PlaceZone;\n    groups?: string[];\n    features: string[];\n}\n\nexport interface AssetRestriction {\n    start: number;\n    end: number;\n    assets: string[];\n}\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class BookingFormService extends AsyncHandler {\n    private _view = new BehaviorSubject<BookingFlowView>('form');\n    private _options = new BehaviorSubject<BookingFlowOptions>({\n        type: 'desk',\n    });\n    private _booking = new BehaviorSubject<Booking>(null);\n    private _resource_use: Record<string, string> = {};\n    private _loading = new BehaviorSubject<string>('');\n\n    public last_success: Booking = new Booking(\n        JSON.parse(\n            sessionStorage.getItem('PLACEOS.last_booked_booking') || '{}'\n        )\n    );\n    public readonly loading = this._loading.asObservable();\n    public readonly options = this._options.pipe(shareReplay(1));\n    public readonly form = generateBookingForm();\n\n    public readonly resources: Observable<BookingAsset[]> = this.options.pipe(\n        debounceTime(300),\n        distinctUntilKeyChanged('type'),\n        switchMap(({ type }) => {\n            if (!this._org.building) return of([]);\n            switch (type) {\n                case 'desk':\n                    this._loading.next(`Loading desks...`);\n                    return this.loadResourceList('desks' as any);\n                case 'parking':\n                    this._loading.next(`Loading parking spaces...`);\n                    return this.loadResourceList('parking-spaces' as any);\n                case 'locker':\n                    this._loading.next(`Loading lockers...`);\n                    return this.loadResourceList('lockers' as any);\n            }\n            return of([]);\n        }),\n        tap(() => this._loading.next(``)),\n        shareReplay(1)\n    );\n\n    public readonly features: Observable<string[]> = this.resources.pipe(\n        map((resource) => {\n            const list: string[] = [];\n            for (const { features } of resource) {\n                features instanceof Array\n                    ? features.forEach((_) => list.push(_))\n                    : null;\n            }\n            return unique(list).sort((a, b) => a.localeCompare(b));\n        }),\n        shareReplay(1)\n    );\n\n    public readonly restrictions: Observable<AssetRestriction[]> =\n        this.options.pipe(\n            switchMap(({ type }) => {\n                return showMetadata(\n                    this._org.building.id,\n                    `${type}_restrictions`\n                ).pipe(catchError(() => of({ details: [] })));\n            }),\n            map((_) => (_.details instanceof Array ? _.details : [])),\n            shareReplay(1)\n        );\n\n    public readonly available_resources = combineLatest([\n        this.options,\n        this.resources,\n        this.restrictions,\n        merge(this.form.get('date').valueChanges, timer(1000)),\n        merge(this.form.get('duration').valueChanges, timer(1000)),\n    ]).pipe(\n        filter(\n            () =>\n                this.form.getRawValue().date > 0 &&\n                this.form.getRawValue().duration > 0\n        ),\n        debounceTime(500),\n        tap(([{ type }]) =>\n            this._loading.next(`Checking ${type} availability...`)\n        ),\n        switchMap(([options, resources, restrictions]) =>\n            queryBookings({\n                period_start: getUnixTime(this.form.getRawValue().date),\n                period_end: getUnixTime(\n                    addMinutes(\n                        this.form.getRawValue().date,\n                        this.form.getRawValue().duration || 24 * 60\n                    )\n                ),\n                type: options.type,\n                zones: options.zone_id,\n            }).pipe(\n                map((bookings) => {\n                    const start = this.form.getRawValue().date;\n                    const end = addMinutes(\n                        start,\n                        this.form.getRawValue().duration\n                    ).valueOf();\n                    const restriction = restrictions.find(\n                        (_) =>\n                            (start >= _.start && start < _.end) ||\n                            (end <= _.end && end > _.start)\n                    );\n                    this._resource_use = {};\n                    bookings.forEach(\n                        (_) => (this._resource_use[_.asset_id] = _.user_name)\n                    );\n                    return resources.filter(\n                        (asset) =>\n                            (!restriction ||\n                                !restriction.assets.includes(asset.id)) &&\n                            (!asset.groups?.length ||\n                                asset.groups.some((grp) =>\n                                    currentUser().groups.includes(grp)\n                                )) &&\n                            asset.bookable !== false &&\n                            (!options.features ||\n                                options.features?.every((_) =>\n                                    asset.features.includes(_)\n                                )) &&\n                            (!options.zone_id ||\n                                options.zone_id === asset.zone?.id ||\n                                options.zone_id === asset.zone?.parent_id) &&\n                            !bookings.find(\n                                (bkn) =>\n                                    bkn.asset_id === asset.id &&\n                                    bkn.status !== 'declined'\n                            )\n                    );\n                })\n            )\n        ),\n        tap(() => this._loading.next('')),\n        shareReplay(1)\n    );\n\n    public readonly grouped_availability = combineLatest([\n        this.options,\n        this.available_resources,\n    ]).pipe(\n        map(([options, resource]) => {\n            const groups = [];\n            const asset_list = [...resource].sort((a, b) =>\n                a.zone?.id?.localeCompare(b.zone?.id)\n            );\n            const members = options.members?.length\n                ? options.members\n                : [currentUser()];\n            while (asset_list.length) {\n                const group = [];\n                let asset = asset_list.pop();\n                while (group.length < members.length) {\n                    if (\n                        group.length &&\n                        !group.find((_) => _.zone?.id === asset.zone?.id)\n                    ) {\n                        break;\n                    }\n                    group.push(asset);\n                    asset = asset_list.pop();\n                }\n                if (group.length < members.length) continue;\n                groups.push(group);\n            }\n            return groups;\n        })\n    );\n\n    public get view() {\n        return this._view.getValue();\n    }\n\n    public get booking() {\n        return this._booking.getValue();\n    }\n\n    public resourceUserName(id: string) {\n        return this._resource_use[id];\n    }\n\n    public newForm(booking: Booking = new Booking()) {\n        this.form.reset();\n        this.form.patchValue(\n            cleanObject(\n                {\n                    ...booking,\n                    ...booking.extension_data,\n                },\n                [null, undefined, '']\n            )\n        );\n        this.subscription(\n            'form_change',\n            this.form.valueChanges.subscribe(() => this.storeForm())\n        );\n        this._booking.next(booking);\n        this._options.next({ type: this._options.getValue().type });\n    }\n\n    constructor(\n        private _router: Router,\n        private _settings: SettingsService,\n        private _org: OrganisationService,\n        private _dialog: MatDialog,\n        private _payments: PaymentsService\n    ) {\n        super();\n        this.subscription(\n            'router.bookings',\n            this._router.events.subscribe((booking: Event) => {\n                if (\n                    booking instanceof NavigationEnd &&\n                    !BOOKING_URLS.find((_) => booking.url.includes(_))\n                ) {\n                    this.clearForm();\n                }\n            })\n        );\n        this._org.initialised\n            .pipe(first((_) => _))\n            .subscribe(() => this.setOptions({}));\n    }\n\n    public setView(value: BookingFlowView) {\n        this._view.next(value);\n    }\n\n    public setOptions(value: Partial<BookingFlowOptions>) {\n        this._options.next({ ...this._options.getValue(), ...value });\n    }\n\n    public setFeature(feature: string, enable: boolean) {\n        if (!feature?.length) return;\n        const features = this._options.getValue()?.features || [];\n        if (enable && !features.includes(feature)) features.push(feature);\n        if (!enable && features.includes(feature))\n            features.splice(\n                features.findIndex((e) => e === feature),\n                1\n            );\n        this.setOptions({ features });\n    }\n\n    public resetForm() {\n        const booking = this._booking.getValue();\n        this.form.reset({ user: currentUser(), booked_by: currentUser() });\n        this.form.patchValue(\n            cleanObject(\n                {\n                    ...(booking || {}),\n                    ...(booking?.extension_data || {}),\n                },\n                [null, undefined, '']\n            )\n        );\n        this._options.next({ type: this._options.getValue().type });\n    }\n\n    public clearForm() {\n        sessionStorage.removeItem('PLACEOS.booking_form');\n        sessionStorage.removeItem('PLACEOS.booking_form_options');\n        this.newForm();\n    }\n\n    public storeForm() {\n        sessionStorage.setItem(\n            'PLACEOS.booking_form',\n            JSON.stringify(this.form.getRawValue() || {})\n        );\n        sessionStorage.setItem(\n            'PLACEOS.booking_form_filters',\n            JSON.stringify(this._options.getValue() || {})\n        );\n    }\n\n    public loadForm() {\n        this.form.reset({ user: currentUser(), booked_by: currentUser() });\n        const data = JSON.parse(\n            sessionStorage.getItem('PLACEOS.booking_form') || '{}'\n        );\n        const booking = new Booking(data);\n        this._booking.next(booking);\n        const booking_data = cleanObject(\n            {\n                ...data,\n                ...(booking || {}),\n                ...(booking?.extension_data || {}),\n            },\n            [null, undefined, '']\n        );\n        this.form.patchValue(booking_data);\n        this.setOptions({\n            zone_id: this._org.building?.id,\n            ...JSON.parse(\n                sessionStorage.getItem('PLACEOS.booking_form_filters') || '{}'\n            ),\n        });\n    }\n\n    public clearOldState() {\n        sessionStorage.removeItem('PLACEOS.last_booked_booking');\n        this.last_success = new Booking();\n    }\n\n    public openBookingLinkModal(force: boolean = false) {\n        this.form.markAllAsTouched();\n        if (!this.form.valid && !force) return;\n        const event = new Booking({\n            ...this.booking,\n            ...this.form.getRawValue(),\n        });\n        this._dialog.open(BookingLinkModalComponent, { data: event });\n    }\n\n    public async confirmPost() {\n        await this.checkQuestions();\n        const options = this._options.getValue();\n        const value = this.form.getRawValue();\n        let content = `Would you like to book the ${options.type} ${\n            value.asset_name\n        } for ${format(value.date, 'dd MMM yyyy')}${\n            value.duration < 12 * 60\n                ? ' at ' + format(value.date, 'h:mm a')\n                : ''\n        }`;\n        if (options.group) {\n            content = `${content}.<br>You group members will be assigned desks nearby your selected desk.`;\n        }\n        const details = await openConfirmModal(\n            {\n                title: `Book ${options.type}`,\n                content,\n                icon: { content: 'event_available' },\n            },\n            this._dialog\n        );\n        if (details?.reason !== 'done') throw 'User cancelled';\n        details.loading('Performing booking request...');\n        if (options.group) {\n            await this.postFormForGroup().catch((_) => {\n                notifyError(JSON.stringify(_));\n                details.close();\n                throw _;\n            });\n        } else\n            await this.postForm().catch((_) => {\n                notifyError(JSON.stringify(_));\n                details.close();\n                throw _;\n            });\n        details.close();\n    }\n\n    public async postForm(ignore_check = false) {\n        if (!this.form) throw 'No form for booking';\n        if (!this.form.valid)\n            throw `Some form fields are invalid. [${getInvalidFields(\n                this.form\n            ).join(', ')}]`;\n        this.form.patchValue({\n            booking_type:\n                this.form.getRawValue().booking_type ||\n                this._options.getValue().type,\n        });\n        let value = this.form.getRawValue();\n        let booking = this._booking.getValue() || new Booking();\n        if (!ignore_check) {\n            await this.checkResourceAvailable(\n                value,\n                this._options.getValue().type\n            );\n        }\n        if (value.duration >= 12 * 60 || value.all_day) {\n            this.form.patchValue({\n                date: set(value.date, { hours: 11, minutes: 59 }).valueOf(),\n                duration: 12 * 60,\n            });\n            value = this.form.getRawValue();\n        }\n        if (this._payments.payment_module) {\n            const receipt = await this._payments.makePayment({\n                type: this._options.getValue().type,\n                resource_name: value.asset_name,\n                date: value.date,\n                duration: value.duration,\n                all_day: value.all_day,\n            });\n            if (!receipt?.success) return;\n            (value as any).extension_data = {\n                invoice: receipt,\n                invoice_id: receipt.invoice_id,\n            };\n        }\n        this._loading.next('Saving booking');\n        const result = await saveBooking(\n            new Booking({\n                ...this._options.getValue(),\n                ...value,\n                description: value.asset_name || value.description,\n                user_name: value.user?.name,\n                user_id:\n                    (!value.user?.id?.includes('@') ? value?.user?.id : '') ||\n                    currentUser()?.id,\n                extension_data: {\n                    ...((value as any).extension_data || {}),\n                    department:\n                        value.user?.department || currentUser()?.department,\n                },\n                approved: !!this._settings.get('app.bookings.no_approval'),\n            })\n        )\n            .toPromise()\n            .catch((e) => {\n                this._loading.next('');\n                throw e?.error || e;\n            });\n        if (value.assets?.length || booking.extension_data.assets?.length) {\n            await updateAssetRequestsForResource(\n                result as any,\n                {\n                    date: value.date,\n                    duration: value.duration,\n                    host: value.booked_by_email,\n                },\n                value.assets,\n                booking.extension_data.assets\n            );\n        }\n        this._loading.next('');\n        const { booking_type } = value;\n        this.clearForm();\n        this.form?.patchValue({ booking_type });\n        this.last_success = result;\n        sessionStorage.setItem(\n            'PLACEOS.last_booked_booking',\n            JSON.stringify(result)\n        );\n        this.setView('success');\n        return result;\n    }\n\n    public async postFormForGroup() {\n        const { members, group, type } = this._options.getValue();\n        if (!group) throw 'No group available to book for';\n        const extra_members = members.filter(\n            (_) => _.email !== currentUser().email\n        );\n        if (extra_members.length <= 0)\n            throw 'No members in your group to book for.';\n        const form = this.form.value;\n        const asset_list = await this.available_resources\n            .pipe(take(1))\n            .toPromise();\n        const active_resource = asset_list.find(\n            (_) => _.id === form.asset_id || _.map_id === form.asset_id\n        );\n        const level = this._org.levelWithID([active_resource.zone?.id]);\n        const resources = [\n            active_resource,\n            ...(await this._getNearbyResources(\n                level.map_id,\n                form.asset_id,\n                asset_list,\n                extra_members.length\n            )),\n        ];\n        const group_members = unique(\n            [currentUser(), ...extra_members],\n            'email'\n        );\n        await Promise.all(\n            group_members.map((_, idx) =>\n                this.checkResourceAvailable(\n                    {\n                        ...form,\n                        asset_id: resources[idx].map_id || resources[idx].id,\n                        user_email: _.email,\n                    },\n                    type\n                )\n            )\n        );\n        const group_name = `${currentUser().email}[${format(\n            Date.now(),\n            'yyyy-MM-dd'\n        )}]`;\n        for (let i = 0; i < group_members.length; i++) {\n            const user = group_members[i];\n            const asset = resources[i];\n            this.form.patchValue({\n                ...form,\n                user: user as any,\n                user_email: user.email,\n                user_id: user.id,\n                asset_id: asset?.id,\n                asset_name: asset.name,\n                description: asset.name,\n                map_id: asset?.map_id || asset?.id,\n                group: group_name,\n                zones: asset.zone\n                    ? unique([\n                          this._org.organisation.id,\n                          asset.zone?.parent_id,\n                          asset.zone?.id,\n                      ])\n                    : [this._org.organisation.id],\n            });\n            await this.postForm(true);\n        }\n    }\n\n    private async checkQuestions() {\n        if (this._settings.get('app.desks.ignore_questions') !== false) return;\n        const ref = this._dialog.open(DeskQuestionsModalComponent);\n        const result = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_) => _.reason === 'done'))\n                .toPromise(),\n            ref.afterClosed().toPromise(),\n        ]);\n        if (result?.reason !== 'done') throw 'User cancelled';\n        const form = ref.componentInstance.form.getRawValue();\n        for (const key in form) {\n            if (form[key]) throw 'User failed questionaire';\n        }\n        ref.close();\n    }\n\n    /** Check if the given resource is available for the selected user to book */\n    private async checkResourceAvailable(\n        { asset_id, date, duration, user_email, all_day }: Partial<Booking>,\n        type: BookingType\n    ) {\n        if (!user_email) throw 'No user was selected to book for';\n        duration = all_day ? 12 * 60 : duration || 60;\n        const bookings = await queryBookings({\n            period_start: getUnixTime(date),\n            period_end: getUnixTime(date + duration * 60 * 1000),\n            type,\n        }).toPromise();\n        if (bookings.find((_) => _.asset_id === asset_id)) {\n            if (asset_id.includes('@')) {\n                throw `${asset_id} already has an invite for the selected time`;\n            } else {\n                throw `${asset_id} is not available at the selected time`;\n            }\n        }\n        const allowed_bookings =\n            this._settings.get(`app.booking.allowed_daily_${type}_count`) ?? 1;\n        if (\n            allowed_bookings > 0 &&\n            bookings.filter(\n                (_) =>\n                    _.user_email === (user_email || currentUser()?.email) &&\n                    _.status !== 'declined'\n            ).length >= allowed_bookings\n        ) {\n            const current = user_email === currentUser()?.email;\n            throw `${current ? 'You' : user_email} already ${\n                current ? 'have' : 'has'\n            } a ${type} booked`;\n        }\n        return true;\n    }\n\n    public loadResourceList(type: BookingType) {\n        return listChildMetadata(this._org.building.id, {\n            name: type,\n        }).pipe(\n            map((data) =>\n                flatten(\n                    data.map((_) =>\n                        (_.metadata[type]?.details instanceof Array\n                            ? _.metadata[type]?.details\n                            : []\n                        ).map((d) =>\n                            (type as any) !== 'lockers'\n                                ? {\n                                      ...d,\n                                      id: d.id || d.map_id,\n                                      zone: _.zone,\n                                  }\n                                : d.lockers?.map((_) => ({\n                                      ..._,\n                                      bank_id: d.id,\n                                      zone: _.zone,\n                                  })) || []\n                        )\n                    )\n                )\n            )\n        );\n    }\n\n    private async _getNearbyResources(\n        map_url: string,\n        id: string,\n        resources: BookingAsset[],\n        count: number\n    ): Promise<BookingAsset[]> {\n        const nearby_resources = [];\n        let asset_list = resources.filter(\n            (_) => _.id !== id && _.map_id !== id\n        );\n        for (let i = 0; i < count; i++) {\n            const item = await findNearbyFeature(\n                map_url,\n                id,\n                asset_list.map((_) => _.map_id || _.id)\n            );\n            if (item) {\n                nearby_resources.push(\n                    resources.find((_) => _.id === item || _.map_id === item)\n                );\n                asset_list = asset_list.filter(\n                    (_) => _.id !== item && _.map_id !== item\n                );\n            }\n        }\n        return nearby_resources;\n    }\n}\n","import { Component, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { SettingsService } from 'libs/common/src/lib/settings.service';\nimport {\n    generateCalendarFileLink,\n    generateGoogleCalendarLink,\n    generateMicrosoftCalendarLink,\n} from 'libs/common/src/lib/calendar-links';\nimport { Booking } from './booking.class';\n\n@Component({\n    selector: 'booking-link-modal',\n    template: `\n        <div class=\"p-4 w-full pb-2\">Add event to your calendar</div>\n        <div class=\"flex flex-col items-center space-y-4 p-4 relative\">\n            <a\n                button\n                matRipple\n                class=\"flex items-center p-2 space-x-2 pr-4 w-64 rounded inverse\"\n                [href]=\"outlook_link | sanitize: 'url'\"\n                target=\"_blank\"\n                rel=\"noopener noreferer\"\n            >\n                <img src=\"assets/icons/outlook.svg\" class=\"w-6\" />\n                <span i18n>Create in Outlook</span>\n            </a>\n            <a\n                button\n                matRipple\n                class=\"flex items-center p-2 space-x-2 pr-4 w-64 rounded inverse\"\n                [href]=\"google_link | sanitize: 'url'\"\n                target=\"_blank\"\n                rel=\"noopener noreferer\"\n            >\n                <img src=\"assets/icons/gcal.svg\" class=\"w-6\" />\n                <span i18n>Create in Google Calendar</span>\n            </a>\n            <a\n                button\n                matRipple\n                class=\"flex items-center p-2 space-x-2 pr-4 w-64 rounded inverse\"\n                [href]=\"ical_link | safe: 'url'\"\n                target=\"_blank\"\n                rel=\"noopener noreferer\"\n            >\n                <app-icon class=\"text-xl\">download</app-icon>\n                <span i18n>Download iCal File</span>\n            </a>\n        </div>\n        <button icon mat-dialog-close class=\"absolute top-2 right-0\">\n            <app-icon>close</app-icon>\n        </button>\n    `,\n    styles: [\n        `\n            :host {\n                position: relative;\n            }\n        `,\n    ],\n})\nexport class BookingLinkModalComponent {\n    public readonly outlook_link = generateMicrosoftCalendarLink(\n        this._event as any\n    );\n    public readonly google_link = generateGoogleCalendarLink(\n        this._event as any\n    );\n    public readonly ical_link = generateCalendarFileLink(this._event as any);\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) private _event: Booking,\n        private _settings: SettingsService\n    ) {}\n}\n","import { capitalizeFirstLetter, removeEmptyFields } from '@placeos/common';\nimport { User } from 'libs/users/src/lib/user.class';\nimport {\n    add,\n    addHours,\n    addMinutes,\n    differenceInMinutes,\n    getUnixTime,\n    isAfter,\n    isBefore,\n    isSameDay,\n    roundToNearestMinutes,\n} from 'date-fns';\n\nexport type BookingType =\n    | 'desk'\n    | 'parking'\n    | 'locker'\n    | 'room'\n    | 'visitor'\n    | 'asset-request'\n    | 'staff'\n    | 'wfh-setting'\n    | ' ';\nconst IGNORE_EXT_KEYS = ['user', 'booked_by', 'resources', 'assets', 'members'];\n\nexport interface BookingComplete extends Booking {\n    members?: User[];\n}\n\nexport interface LinkedCalendarEvent {\n    system_id: string, \n    resource_calendar: string, \n    event_id: string, \n    host_email: string\n};\n\n/** General purpose booking class */\nexport class Booking {\n    /** Unique Identifier of the object */\n    public readonly id: string;\n    /** Unix epoch for the start time of the booking in seconds */\n    public readonly booking_start: number;\n    /** Unix epoch for the start time of the booking in seconds */\n    public readonly booking_end: number;\n    /** ID of the user who owns the booking */\n    public readonly booked_by_id: string;\n    /** Email of the user who owns the booking */\n    public readonly booked_by_email: string;\n    /** Display name of the user who owns the booking */\n    public readonly booked_by_name: string;\n    /** ID of the user who owns the booking */\n    public readonly user_id: string;\n    /** Email of the user who owns the booking */\n    public readonly user_email: string;\n    /** Display name of the user who owns the booking */\n    public readonly user_name: string;\n    /** ID of an associated calendar event */\n    public readonly event_id?: string;\n    /** Identifier of the physical asset assocated with the booking */\n    public readonly asset_id: string;\n    /** Name of the physical asset assocated with the booking */\n    public readonly asset_name: string;\n    /** Zones associated with the asset ID */\n    public readonly zones: string[];\n    /** Type of booking */\n    public readonly booking_type: BookingType;\n    /** Start time of booking in ms */\n    public readonly date: number;\n    /** Duration of the event in minutes */\n    public readonly duration: number;\n    /** Whether it is an all day booking */\n    public readonly all_day: boolean;\n    /** Timezone of the booking */\n    public readonly timezone: string;\n    /** Title of the booking */\n    public readonly title: string;\n    /** Description */\n    public readonly description: string;\n    /** Whether user checked in */\n    public readonly checked_in: boolean;\n    /** Whether booking is rejected */\n    public readonly rejected: boolean;\n    /** Whether booking is approved */\n    public readonly approved: boolean;\n    /** Id of the approver */\n    public readonly approver_id: string;\n    /** Email of the approver */\n    public readonly approver_email: string;\n    /** Name of the approver */\n    public readonly approver_name: string;\n    /** Extra non-standard metadata associated with the booking */\n    public readonly extension_data: Record<string, any>;\n    /** Default type */\n    public readonly type: string;\n    /** Default type */\n    public readonly access: boolean;\n    /** Status of the booking */\n    public readonly status: 'declined' | 'approved' | 'tentative' | 'ended';\n    /** New deleted field */\n    public readonly deleted: boolean;\n    /** List of attendees for the booking */\n    public readonly attendees: User[];\n    /** Time  */\n    public readonly checked_out_at?: number;\n\n    public readonly linked_event?: LinkedCalendarEvent;\n\n    public get group() {\n        return this.extension_data.group || '';\n    }\n\n    constructor(data: Partial<BookingComplete> = {}) {\n        this.id = data.id || '';\n        this.asset_id = data.asset_id || '';\n        this.asset_name =\n            data.asset_name ||\n            data.extension_data?.asset_name ||\n            data.extension_data?.name ||\n            data.description ||\n            '';\n        this.zones = data.zones || [];\n        this.booking_start =\n            Math.floor(data.date / 1000) ||\n            data.booking_start ||\n            getUnixTime(\n                roundToNearestMinutes(addMinutes(Date.now(), 5), {\n                    nearestTo: 5,\n                })\n            );\n        this.booking_end =\n            Math.floor(data.date / 1000) + data.duration * 60 ||\n            data.booking_end ||\n            getUnixTime(\n                addMinutes(this.booking_start * 1000, data.duration || 60)\n            );\n        this.booking_type = data.booking_type || ' ';\n        this.type = data.type || data.booking_type || 'booking';\n        this.date = data.date || this.booking_start * 1000 || Date.now();\n        this.duration =\n            data.duration ||\n            Math.abs(\n                differenceInMinutes(\n                    this.booking_start * 1000,\n                    this.booking_end * 1000\n                )\n            ) ||\n            60;\n        this.timezone =\n            data.timezone || Intl.DateTimeFormat().resolvedOptions().timeZone;\n        this.user_email = data.user_email || '';\n        this.user_id = data.user_id || '';\n        this.user_name = data.user_name || '';\n        this.title =\n            data.title ??\n            (this.booking_type\n                ? `${capitalizeFirstLetter(this.booking_type)} Booking`.trim()\n                : '');\n        this.description = data.description || '';\n        this.checked_in = !!data.checked_in;\n        this.rejected = !!data.rejected;\n        this.approved = !!data.approved;\n        this.deleted = !!data.deleted;\n        this.booked_by_id = data.booked_by_id || '';\n        this.booked_by_name = data.booked_by_name || '';\n        this.booked_by_email = data.booked_by_email || '';\n        this.approver_id = data.approver_id || '';\n        this.approver_email = data.approver_email || '';\n        this.approver_name = data.approver_name || '';\n        this.extension_data = data.extension_data || {};\n        this.access = !!data.extension_data?.access;\n        this.event_id = data.event_id;\n        this.attendees = data.attendees || data.members || [];\n        this.all_day = data.all_day ?? this.duration >= 12 * 60;\n        this.checked_out_at = data.checked_out_at;\n        this.linked_event = data.linked_event || null;\n        this.status =\n            this.checked_out_at > 0\n                ? 'ended'\n                : this.rejected\n                ? 'declined'\n                : this.approved\n                ? 'approved'\n                : 'tentative';\n        for (const key in data) {\n            if (!(key in this) && !IGNORE_EXT_KEYS.includes(key) && data[key]) {\n                this.extension_data[key] =\n                    data[key] || this.extension_data[key];\n            }\n        }\n    }\n\n    public toJSON(this: Booking): Partial<Booking> {\n        const data = { ...this };\n        if (!this.id) delete data.id;\n        delete data.date;\n        delete data.duration;\n        removeEmptyFields(data);\n        return data;\n    }\n\n    public get location(): string {\n        return this.description;\n    }\n\n    /** Whether the booking occurs today */\n    public get is_today(): boolean {\n        return isSameDay(this.date, new Date());\n    }\n\n    /** Whether booking is done */\n    public get is_done(): boolean {\n        const start = new Date();\n        const end = this.all_day\n            ? addHours(this.date, 24)\n            : addMinutes(this.date, this.duration);\n        const checked_out =\n            (this.checked_out_at || this.extension_data.checked_out_at || 0) *\n            1000;\n        let end_time = end.getTime();\n        if (checked_out && Date.now() > checked_out) return true;\n        return isAfter(start, new Date(end_time));\n    }\n\n    /** Status of the booking */\n    public get state():\n        | 'future'\n        | 'upcoming'\n        | 'done'\n        | 'started'\n        | 'in_progress' {\n        const now = new Date();\n        const date = this.date;\n        if (isBefore(now, add(date, { minutes: -15 }))) return 'future';\n        if (isBefore(now, date)) return 'upcoming';\n        if (isBefore(now, add(date, { minutes: 15 }))) return 'started';\n        if (isBefore(now, add(date, { minutes: this.duration })))\n            return 'in_progress';\n        return 'done';\n    }\n}\n","import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { currentUser } from '@placeos/common';\nimport { CalendarEvent } from 'libs/events/src/lib/event.class';\nimport { endInFuture } from 'libs/events/src/lib/validators';\nimport {\n    createViewer,\n    getViewer,\n    Point,\n    removeViewer,\n} from '@placeos/svg-viewer';\nimport { Booking } from './booking.class';\n\nexport function generateBookingForm(booking: Booking = new Booking()) {\n    const form = new FormGroup({\n        id: new FormControl(booking.id || ''),\n        date: new FormControl(booking.date, [Validators.required]),\n        all_day: new FormControl(booking.all_day ?? false),\n        name: new FormControl(\n            booking.extension_data.name || booking.asset_name || ''\n        ),\n        duration: new FormControl(booking.duration, [endInFuture]),\n        booking_type: new FormControl(booking.booking_type),\n        zones: new FormControl(booking.zones),\n        title: new FormControl(booking.title),\n        description: new FormControl(booking.description),\n        booking_asset: new FormControl(null),\n        resources: new FormControl([]),\n        company: new FormControl(''),\n        asset_id: new FormControl(booking.asset_id, [Validators.required]),\n        asset_name: new FormControl(booking.description),\n        assets: new FormControl(booking.extension_data?.assets || []),\n        attendees: new FormControl(booking.attendees || []),\n        map_id: new FormControl(booking.extension_data?.map_id),\n        user: new FormControl(currentUser()),\n        user_id: new FormControl(booking.user_id),\n        group: new FormControl(booking.group),\n        user_email: new FormControl(booking.user_email),\n        booked_by: new FormControl(currentUser()),\n        booked_by_id: new FormControl(booking.booked_by_id),\n        booked_by_email: new FormControl(booking.booked_by_email),\n        secondary_resource: new FormControl(\n            booking.extension_data?.other_asset_type ||\n                booking.extension_data?.secondary_resource\n        ),\n    });\n    form.valueChanges.subscribe((v) => {\n        const user = v.user;\n        const booker = v.booked_by;\n        booker || user\n            ? form.patchValue(\n                  {\n                      user_id: user.id || booker.id,\n                      user_email: user.email || booker.id,\n                      booked_by_id: booker.id,\n                      booked_by_email: booker.email,\n                  },\n                  { emitEvent: false }\n              )\n            : '';\n    });\n    form.controls.all_day.valueChanges.subscribe((all_day) => {\n        if (all_day) form.controls.duration.disable();\n        else form.controls.duration.enable();\n    });\n    return form;\n}\n\nexport async function findNearbyFeature(\n    map_url: string,\n    centered_at: Point | string,\n    desk_ids: string[] = []\n): Promise<string> {\n    const element = document.createElement('div');\n    element.style.position = 'absolute';\n    element.style.top = '-9999px';\n    element.style.width = '1000px';\n    element.style.height = '1000px';\n    document.body.appendChild(element);\n    const id = await createViewer({\n        url: map_url,\n        element,\n    });\n    const viewer = getViewer(id);\n    const point = (typeof centered_at === 'string'\n        ? viewer.mappings[centered_at]\n        : centered_at) || { x: 0.5, y: 0.5 };\n    let dist = 10;\n    let closest = '';\n    for (const desk of desk_ids) {\n        const { x, y } = viewer.mappings[desk] || { x: 2, y: 2 };\n        const d = Math.sqrt(\n            (x - point.x) * (x - point.x) + (y - point.y) * (y - point.y)\n        );\n        if (d < dist) {\n            dist = d;\n            closest = desk;\n        }\n    }\n    document.body.removeChild(element);\n    removeViewer(id);\n    return closest;\n}\n\nexport function newBookingFromCalendarEvent(event: CalendarEvent) {\n    return new Booking({\n        id: event.id,\n        user_email: event.host,\n        asset_id: event.system?.id,\n        asset_name: event.system?.display_name || event.system?.name,\n        booking_type: 'room',\n        approved: event.status === 'approved',\n        extension_data: {\n            ...event,\n        },\n    });\n}\n","import { del, get, patch, post, put } from '@placeos/ts-client';\nimport { Observable, of } from 'rxjs';\nimport { catchError, map } from 'rxjs/operators';\n\nimport { toQueryString } from 'libs/common/src/lib/api';\nimport { Booking, BookingType } from './booking.class';\nimport { GuestUser } from 'libs/users/src/lib/user.class';\nimport { addMinutes, getUnixTime } from 'date-fns';\n\nexport interface BookingsQueryParams {\n    /** Comma seperated list of zone ids to check availability */\n    zones?: string;\n    /** User ID to filter bookings */\n    user?: string;\n    /** Email address to filter bookings */\n    email?: string;\n    /** Epoch in seconds for the start of the availability period */\n    period_start: number;\n    /** Epoch in seconds for the end of the availability period */\n    period_end: number;\n    /** Category of booking */\n    type: BookingType;\n    /** Include checked out bookings in the response */\n    include_checked_out?: boolean;\n    /** Include deleted bookings in the response */\n    deleted?: boolean;\n    /**  */\n    event_id?: string;\n    /**  */\n    ical_uid?: string;\n}\n\nconst BOOKINGS_ENDPOINT = `/api/staff/v1/bookings`;\n\n/**\n * List bookings\n * @param q Parameters to pass to the API request\n */\nexport function queryBookings(q: BookingsQueryParams): Observable<Booking[]> {\n    const query = toQueryString(q);\n    return get(`${BOOKINGS_ENDPOINT}${query ? '?' + query : ''}`).pipe(\n        map((list) => list.map((item) => new Booking(item))),\n        catchError((_) => of([]))\n    );\n}\n\n/**\n * Get booking details\n * @param id ID of the booking to grab\n * @param q Parameters to pass to the API request\n */\nexport function showBooking(id: string) {\n    return get(`${BOOKINGS_ENDPOINT}/${encodeURIComponent(id)}`).pipe(\n        map((item) => new Booking(item))\n    );\n}\n\n/**\n * Create new booking and add it to the database\n * @param data New booking fields\n */\nexport function createBooking(data: Partial<Booking>,  q?: { event_id?: string, ical_uid?: string }) {\n    const query = toQueryString(q);\n    return post(`${BOOKINGS_ENDPOINT}${query ? '?' + query : ''}`, data).pipe(\n        map((item) => new Booking(item))\n    );\n}\n\n/**\n * Update an existing booking\n * @param id ID of the booking to update\n * @param data New values for booking fields\n * @param method HTTP verb to use with API request\n */\nexport function updateBooking(\n    id: string,\n    data: Partial<Booking>,\n    method: 'put' | 'patch' = 'patch'\n) {\n    return (method === 'patch' ? patch : put)(\n        `${BOOKINGS_ENDPOINT}/${encodeURIComponent(id)}`,\n        data\n    ).pipe(map((item) => new Booking(item)));\n}\n\n/**\n * Save changes to or create a booking\n * @param data State of the booking\n * @param q Parameters to pass to the API request\n */\nexport const saveBooking = (data: Partial<Booking>, q?: { event_id?: string, ical_uid?: string }) =>\n    data.id ? updateBooking(data.id, data) : createBooking(data, q);\n\n/**\n * Remove booking from the database\n * @param id ID of the booking to remove\n * @param q Parameters to pass to the API request\n */\nexport function removeBooking(id: string) {\n    return del(`${BOOKINGS_ENDPOINT}/${encodeURIComponent(id)}`, {\n        response_type: 'void',\n    });\n}\n\n/**\n * Set the approval state of the booking to approved\n * @param id ID of the booking to approve\n * @param system_id Associated system to approve\n */\nexport function approveBooking(id: string) {\n    return post(\n        `${BOOKINGS_ENDPOINT}/${encodeURIComponent(id)}/approve`,\n        ''\n    ).pipe(map((item) => new Booking(item)));\n}\n\n/**\n * Set the approval state of the booking to rejected\n * @param id ID of the booking to reject\n * @param system_id Associated system to reject\n */\nexport function rejectBooking(id: string) {\n    return post(\n        `${BOOKINGS_ENDPOINT}/${encodeURIComponent(id)}/reject`,\n        ''\n    ).pipe(map((item) => new Booking(item)));\n}\n\n/**\n * Set the checkin state of a booking\n * @param id ID of the booking to grab\n * @param state New checkin state of the booking\n */\nexport function checkinBooking(id: string, state: boolean) {\n    const query = toQueryString({ state });\n    return post(\n        `${BOOKINGS_ENDPOINT}/${encodeURIComponent(id)}/check_in?${query}`,\n        ''\n    ).pipe(map((item) => new Booking(item)));\n}\n\n/**\n * Set the checkin state of a booking\n * @param id ID of the booking to grab\n * @param state New checkin state of the booking\n */\nexport function checkinBookingAttendee(\n    id: string,\n    email: string,\n    state: boolean\n) {\n    const query = toQueryString({ state });\n    return post(\n        `${BOOKINGS_ENDPOINT}/${encodeURIComponent(\n            id\n        )}/guests/${encodeURIComponent(email)}/check_in?${query}`,\n        ''\n    ).pipe(map((item) => new GuestUser(item)));\n}\n\n/**\n * Filter list of resources based of the bookings found in the given query\n * @param asset_id_list List of resource IDs\n * @param query Booking query\n */\nexport function queryResourceAvailability(\n    id_list: string[],\n    start: number,\n    duration: number,\n    ignore?: string,\n    type: BookingType = 'room'\n): Observable<boolean[]> {\n    return queryBookings({\n        type,\n        period_start: getUnixTime(start),\n        period_end: getUnixTime(addMinutes(start, duration)),\n    }).pipe(\n        map((_) =>\n            id_list.map(\n                (id) =>\n                    !_.find(\n                        (b) => b.asset_id === id && (!ignore || ignore !== b.id)\n                    )\n            )\n        )\n    );\n}\n\nexport function isResourceAvailable(\n    id: string,\n    start: number,\n    duration: number,\n    ignore?: string,\n    type: BookingType = 'room'\n) {\n    return queryBookings({\n        type,\n        period_start: getUnixTime(start),\n        period_end: getUnixTime(addMinutes(start, duration)),\n    }).pipe(\n        map(\n            (_) =>\n                _.filter((_) => _.asset_id === id && _.id !== ignore).length ===\n                0\n        )\n    );\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\n\nimport { MatDatepickerModule } from '@angular/material/datepicker';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { MatRadioModule } from '@angular/material/radio';\n\nimport { ComponentsModule } from 'libs/components/src/lib/components.module';\nimport { FormFieldsModule } from 'libs/form-fields/src/lib/form-fields.module';\n\nimport { BookingCardComponent } from './booking-card.component';\nimport { BookingDetailsModalComponent } from './booking-details-modal.component';\n\nimport { DeskConfirmModalComponent } from './desk-confirm-modal.component';\nimport { DeskQuestionsModalComponent } from './desk-questions-modal.component';\nimport { DeskDetailsComponent } from './desk-select-modal/desk-details.component';\nimport { DeskFiltersDisplayComponent } from './desk-select-modal/desk-filters-display.component';\nimport { DeskFiltersComponent } from './desk-select-modal/desk-filters.component';\nimport { DeskListComponent } from './desk-select-modal/desk-list.component';\nimport { DeskMapComponent } from './desk-select-modal/desk-map.component';\nimport { DeskSelectModalComponent } from './desk-select-modal/desk-select-modal.component';\nimport { InviteVisitorFormComponent } from './invite-visitor-form.component';\nimport { ParkingSpaceDetailsComponent } from './parking-select-modal/parking-details.component';\nimport { ParkingSpaceFiltersDisplayComponent } from './parking-select-modal/parking-filters-display.component';\nimport { ParkingSpaceFiltersComponent } from './parking-select-modal/parking-filters.component';\nimport { ParkingSpaceListComponent } from './parking-select-modal/parking-list.component';\nimport { ParkingSpaceLocationPinComponent } from './parking-select-modal/parking-location-pin.component';\nimport { ParkingSpaceSelectMapComponent } from './parking-select-modal/parking-map.component';\nimport { ParkingSpaceSelectModalComponent } from './parking-select-modal/parking-select-modal.component';\nimport { ParkingSpaceListFieldComponent } from './parking-space-list-field.component';\nimport { DeskListFieldComponent } from './desk-list-field.component';\nimport { BookingLinkModalComponent } from './booking-link-modal.component';\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\nimport { MatRippleModule } from '@angular/material/core';\nimport { LockerGridComponent } from './locker-grid.component';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { LockerSelectModalComponent } from './locker-select-modal/locker-select-modal.component';\nimport { LockerListFieldComponent } from './locker-list-field.component';\nimport { LockerFiltersComponent } from './locker-select-modal/locker-filters.component';\nimport { LockerFiltersDisplayComponent } from './locker-select-modal/locker-filters-display.component';\nimport { LockerBankListComponent } from './locker-select-modal/locker-bank-list.component';\nimport { LockerMapComponent } from './locker-select-modal/locker-map.component';\n\nconst COMPONENTS = [\n    DeskQuestionsModalComponent,\n    DeskConfirmModalComponent,\n    InviteVisitorFormComponent,\n    BookingDetailsModalComponent,\n    BookingCardComponent,\n    BookingLinkModalComponent,\n\n    ParkingSpaceSelectModalComponent,\n    ParkingSpaceFiltersComponent,\n    ParkingSpaceFiltersDisplayComponent,\n    ParkingSpaceListComponent,\n    ParkingSpaceLocationPinComponent,\n    ParkingSpaceSelectMapComponent,\n    ParkingSpaceDetailsComponent,\n    ParkingSpaceListFieldComponent,\n\n    DeskSelectModalComponent,\n    DeskDetailsComponent,\n    DeskFiltersComponent,\n    DeskFiltersDisplayComponent,\n    DeskListComponent,\n    DeskMapComponent,\n    DeskListFieldComponent,\n\n    LockerGridComponent,\n    LockerListFieldComponent,\n    LockerSelectModalComponent,\n    LockerFiltersComponent,\n    LockerFiltersDisplayComponent,\n    LockerBankListComponent,\n    LockerMapComponent,\n];\n@NgModule({\n    declarations: [...COMPONENTS],\n    imports: [\n        CommonModule,\n        FormsModule,\n        ReactiveFormsModule,\n        MatRadioModule,\n        MatInputModule,\n        MatFormFieldModule,\n        MatDatepickerModule,\n        MatButtonModule,\n        MatDialogModule,\n        MatProgressSpinnerModule,\n        MatCheckboxModule,\n        MatAutocompleteModule,\n        FormFieldsModule,\n        ComponentsModule,\n        MatRippleModule,\n        MatTooltipModule,\n    ],\n    providers: [ReactiveFormsModule],\n    exports: [...COMPONENTS],\n})\nexport class SharedBookingsModule {}\n","import { Component, EventEmitter, Inject, Output } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\n\nimport { DialogEvent, SettingsService } from '@placeos/common';\n\nimport { Desk } from 'libs/organisation/src/lib/desk.class';\nimport { BuildingLevel } from 'libs/organisation/src/lib/level.class';\nimport { User } from 'libs/users/src/lib/user.class';\n\nexport interface DeskConfirmModalData {\n    host: User;\n    desks: Desk[];\n    date: number;\n    reason: string;\n    level: BuildingLevel;\n    can_set_date: boolean;\n}\n\n@Component({\n    selector: 'desk-flow-confirm-modal-component',\n    template: `\n        <header>\n            <h2 i18n>Confirm Booking</h2>\n            <div class=\"flex-1\"></div>\n            <button icon mat-dialog-close *ngIf=\"!loading\">\n                <i class=\"material-icons\">close</i>\n            </button>\n        </header>\n        <ng-container *ngIf=\"!loading; else load_state\">\n            <main class=\"p-4\">\n                <div host class=\"flex flex-col\" *ngIf=\"can_set_host\">\n                    <label i18n>Host</label>\n                    <a-user-search-field\n                        [(ngModel)]=\"host\"\n                    ></a-user-search-field>\n                </div>\n                <div date class=\"mb-4\">\n                    <label i18n>Date</label>\n                    <div *ngIf=\"!can_set_date\">\n                        {{ date | date: 'mediumDate' }}\n                    </div>\n                    <a-date-field\n                        *ngIf=\"can_set_date\"\n                        [(ngModel)]=\"date\"\n                    ></a-date-field>\n                </div>\n                <div reason class=\"flex flex-col mb-4\" *ngIf=\"!hide_reason\">\n                    <label i18n>Reason</label>\n                    <mat-form-field appearance=\"outline\">\n                        <input\n                            matInput\n                            [(ngModel)]=\"reason\"\n                            placeholder=\"Reason\"\n                        />\n                    </mat-form-field>\n                </div>\n                <p i18n>\n                    Your desk{{ desks.length === 1 ? '' : 's' }} will be\n                    {{ desk_list }} on\n                    {{ level?.display_name || level?.name }}\n                </p>\n            </main>\n            <footer class=\"flex items-center justify-center p-2\">\n                <button btn matRipple (click)=\"confirm()\" i18n>Confirm</button>\n            </footer>\n        </ng-container>\n        <ng-template #load_state>\n            <main load class=\"flex flex-col p-12 items-center justify-center\">\n                <mat-spinner [diameter]=\"48\" class=\"mb-4\"></mat-spinner>\n                <p>{{ loading }}</p>\n            </main>\n        </ng-template>\n    `,\n    styles: [\n        `\n            main {\n                width: 24rem;\n                max-width: calc(100vw - 4.5rem);\n            }\n        `,\n    ],\n})\nexport class DeskConfirmModalComponent {\n    @Output() public event = new EventEmitter<DialogEvent>();\n\n    public readonly desks = this._data.desks || [];\n\n    public date = this._data.date;\n    public host = this._data.host;\n\n    public readonly can_set_date = this._data.can_set_date;\n\n    public reason = this._data.reason;\n\n    public readonly level = this._data.level;\n\n    public loading: string;\n\n    public get desk_list() {\n        return this.desks.map((_) => _.name).join(', ');\n    }\n\n    public get hide_reason() {\n        return !!this._settings.get('app.desks.hide_reason');\n    }\n\n    public get can_set_host() {\n        return !!this._settings.get('app.desks.can_book_for_others');\n    }\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) private _data: DeskConfirmModalData,\n        private _settings: SettingsService\n    ) {}\n\n    public confirm() {\n        this.loading = 'Requesting desk booking...';\n        this.event.emit({ reason: 'done' });\n    }\n}\n","import { Component, forwardRef, Input } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { MatDialog } from '@angular/material/dialog';\n\nimport { SettingsService } from 'libs/common/src/lib/settings.service';\nimport { BookingAsset } from './booking-form.service';\nimport {\n    DeskSelectModalComponent,\n    FAV_DESK_KEY,\n} from './desk-select-modal/desk-select-modal.component';\n\nconst EMPTY_FAVS: string[] = [];\n\n@Component({\n    selector: `desk-list-field`,\n    template: `\n        <div list class=\"space-y-2\">\n            <div\n                desk\n                class=\"relative p-2 rounded-lg w-full flex items-center shadow border border-gray-200\"\n                *ngFor=\"let item of items\"\n            >\n                <div *ngIf=\"features?.length\" class=\"flex flex-col\">\n                    <label for=\"title\">Type</label>\n                    <div features class=\"flex items-center flex-wrap space-x-2\">\n                        <mat-checkbox\n                            *ngFor=\"let opt of features\"\n                            [ngModel]=\"(selected_features || []).includes(opt)\"\n                            (ngModelChange)=\"setFeature(opt, $event)\"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                        >\n                            {{ opt }}\n                        </mat-checkbox>\n                    </div>\n                </div>\n                <div\n                    class=\"w-20 h-20 rounded-xl bg-black/20 mr-4 overflow-hidden flex items-center justify-center\"\n                >\n                    <img\n                        *ngIf=\"item.images?.length; else placeholder\"\n                        [src]=\"item.images[0]\"\n                        class=\"min-h-full object-cover\"\n                    />\n                    <ng-template #placeholder>\n                        <img\n                            class=\"m-auto\"\n                            src=\"assets/icons/desk-placeholder.svg\"\n                        />\n                    </ng-template>\n                </div>\n                <div class=\"space-y-2 pb-4\">\n                    <div class=\"font-medium\">\n                        {{ item.name || 'Desk' }}\n                    </div>\n                    <div class=\"flex items-center text-sm space-x-2\">\n                        <app-icon class=\"text-blue-500\">place</app-icon>\n                        <p>{{ item.zone?.display_name || item.zone?.name }}</p>\n                    </div>\n                    <div\n                        class=\"absolute bottom-0 right-0 flex items-center justify-end text-xs\"\n                    >\n                        <button\n                            btn\n                            matRipple\n                            name=\"edit-desk\"\n                            class=\"clear\"\n                            (click)=\"changeResources(item)\"\n                        >\n                            <div class=\"flex items-center space-x-2\" i18n>\n                                <app-icon>edit</app-icon>\n                                Change\n                            </div>\n                        </button>\n                        <button\n                            btn\n                            matRipple\n                            name=\"remove-desk\"\n                            class=\"clear\"\n                            (click)=\"removeResource(item)\"\n                        >\n                            <div class=\"flex items-center space-x-2\" i18n>\n                                <app-icon>close</app-icon>\n                                Remove\n                            </div>\n                        </button>\n                    </div>\n                </div>\n                <button\n                    icon\n                    matRipple\n                    name=\"toggle-desk-favourite\"\n                    class=\"absolute top-1 right-1\"\n                    [class.text-blue-400]=\"favorites.includes(asset?.id)\"\n                    (click)=\"toggleFavourite(asset)\"\n                >\n                    <app-icon>{{\n                        favorites.includes(asset?.id)\n                            ? 'favorite'\n                            : 'favorite_border'\n                    }}</app-icon>\n                </button>\n            </div>\n        </div>\n        <button\n            btn\n            matRipple\n            name=\"add-desk\"\n            class=\"w-full inverse mt-2\"\n            (click)=\"changeResources()\"\n        >\n            <div class=\"flex items-center justify-center space-x-2\">\n                <app-icon>search</app-icon>\n                <span i18n>Add Desk</span>\n            </div>\n        </button>\n        <div class=\"flex items-center flex-wrap sm:space-x-2 mb-2\">\n            <div class=\"flex-1 min-w-[256px] space-y-2\"></div>\n        </div>\n    `,\n    styles: [``],\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: forwardRef(() => DeskListFieldComponent),\n            multi: true,\n        },\n    ],\n})\nexport class DeskListFieldComponent implements ControlValueAccessor {\n    @Input() public features: string[] = [];\n    public room_size = 3;\n    public items: BookingAsset[] = [];\n    public disabled = false;\n    public selected_features: string[] = [];\n\n    private _onChange: (_: BookingAsset[]) => void;\n    private _onTouch: (_: BookingAsset[]) => void;\n\n    public get favorites() {\n        return this._settings.get<string[]>(FAV_DESK_KEY) || EMPTY_FAVS;\n    }\n\n    constructor(\n        private _settings: SettingsService,\n        private _dialog: MatDialog\n    ) {}\n\n    /** Add or edit selected items */\n    public changeResources() {\n        const ref = this._dialog.open(DeskSelectModalComponent, {\n            data: {\n                items: this.items,\n                options: { capacity: this.room_size },\n            },\n        });\n        ref.afterClosed().subscribe((items?: BookingAsset[]) => {\n            if (!items) items = ref.componentInstance.selected;\n            this.setValue(items);\n        });\n    }\n\n    /** Remove the selected space from the list */\n    public removeResource(space: BookingAsset) {\n        this.setValue(this.items.filter((_) => _.id !== space.id));\n    }\n\n    /**\n     * Update the form field value\n     * @param new_value New value to set on the form field\n     */\n    public setValue(new_value: BookingAsset[]) {\n        this.items = new_value;\n        if (this._onChange) this._onChange(this.items);\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Update local value when form control value is changed\n     * @param value The new value for the component\n     */\n    public writeValue(value: BookingAsset[]) {\n        this.items = value || [];\n    }\n\n    /* istanbul ignore next */\n    public readonly registerOnChange = (fn: (_: BookingAsset[]) => void) =>\n        (this._onChange = fn);\n    /* istanbul ignore next */\n    public readonly registerOnTouched = (fn: (_: BookingAsset[]) => void) =>\n        (this._onTouch = fn);\n    public readonly setDisabledState = (s: boolean) => (this.disabled = s);\n\n    public toggleFavourite(space: BookingAsset) {\n        const fav_list = this.favorites;\n        const new_state = !fav_list.includes(space.id);\n        if (new_state) {\n            this._settings.saveUserSetting(FAV_DESK_KEY, [\n                ...fav_list,\n                space.id,\n            ]);\n        } else {\n            this._settings.saveUserSetting(\n                FAV_DESK_KEY,\n                fav_list.filter((_) => _ !== space.id)\n            );\n        }\n    }\n}\n","import { Component, EventEmitter, OnInit, Output } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { DialogEvent, notifyError } from '@placeos/common';\n\n@Component({\n    selector: 'desk-question-modal',\n    template: `\n        <div *ngIf=\"!failure; else fail_state\" class=\"relative\">\n            <h2 class=\"p-4 text-xl\" i18n>COVID-19 Questionnaire</h2>\n            <main class=\"p-4\" [formGroup]=\"form\">\n                <div class=\"flex flex-col mb-4\">\n                    <label i18n>\n                        Have you travelled overseas within the last 14\n                        days?<span>*</span>\n                    </label>\n                    <mat-radio-group\n                        formControlName=\"travelled\"\n                        class=\"space-x-2\"\n                    >\n                        <mat-radio-button [value]=\"true\">Yes</mat-radio-button>\n                        <mat-radio-button [value]=\"false\">No</mat-radio-button>\n                    </mat-radio-group>\n                </div>\n                <div class=\"flex flex-col mb-4\">\n                    <label i18n>\n                        Are you unwell or experiencing any cold or flu-like\n                        symptoms?<span>*</span>\n                    </label>\n                    <mat-radio-group formControlName=\"unwell\" class=\"space-x-2\">\n                        <mat-radio-button [value]=\"true\">Yes</mat-radio-button>\n                        <mat-radio-button [value]=\"false\">No</mat-radio-button>\n                    </mat-radio-group>\n                </div>\n                <div class=\"flex flex-col\">\n                    <label i18n>\n                        Have you had contact with anyone with suspected\n                        COVID-19?<span>*</span>\n                    </label>\n                    <mat-radio-group\n                        formControlName=\"contact\"\n                        class=\"space-x-2\"\n                    >\n                        <mat-radio-button [value]=\"true\">Yes</mat-radio-button>\n                        <mat-radio-button [value]=\"false\">No</mat-radio-button>\n                    </mat-radio-group>\n                </div>\n            </main>\n            <footer class=\"flex justify-center items-center p-2\">\n                <button btn matRipple (click)=\"submit()\" i18n>Submit</button>\n            </footer>\n            <button close icon matRipple mat-dialog-close>\n                <i class=\"material-icons\">close</i>\n            </button>\n        </div>\n        <ng-template #fail_state>\n            <main failure class=\"pt-8 relative\">\n                <p class=\"p-4\" i18n>\n                    Your request to work from the office has been rejected based\n                    on your response to the compulsory Covid-19 questions.\n                    Please feel free to submit a new request when circumstances\n                    change in a way that changes your answer to the questions.\n                </p>\n                <button close icon matRipple mat-dialog-close>\n                    <i class=\"material-icons\">close</i>\n                </button>\n            </main>\n        </ng-template>\n    `,\n    styles: [\n        `\n            main {\n                width: 24rem;\n                max-width: calc(100vw - 4.5rem);\n            }\n\n            [close] {\n                position: absolute;\n                top: 0.5rem;\n                right: 0.5rem;\n            }\n        `,\n    ],\n})\nexport class DeskQuestionsModalComponent {\n    @Output() public event = new EventEmitter<DialogEvent>();\n\n    public form = new FormGroup({\n        travelled: new FormControl(false),\n        unwell: new FormControl(false),\n        contact: new FormControl(false),\n    });\n    public failure: boolean;\n\n    public submit() {\n        this.form.markAllAsTouched();\n        if (\n            Object.keys(this.form.value).find(\n                (key) =>\n                    this.form.value[key] === true ||\n                    this.form.value[key] === 'true'\n            )\n        ) {\n            this.failure = true;\n            return;\n        }\n        this.event.emit({ reason: 'done' });\n    }\n}\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n    SimpleChanges,\n} from '@angular/core';\nimport { ViewerFeature } from '@placeos/svg-viewer';\n\nimport { MapPinComponent } from 'libs/components/src/lib/map-pin.component';\nimport { BookingAsset } from '../booking-form.service';\n\n@Component({\n    selector: 'desk-details',\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                width: 30%;\n                min-width: 20rem;\n                height: 100%;\n                min-height: 65vh;\n                background: white;\n            }\n        `,\n    ],\n    template: `\n        <ng-container *ngIf=\"desk; else emptyState\">\n            <section\n                image\n                class=\"relative w-full bg-black/20\"\n                [class.sm:h-64]=\"desk.images?.length\"\n                [class.h-40]=\"desk.images?.length\"\n                [class.sm:h-0]=\"!desk.images?.length\"\n                [class.h-12]=\"!desk.images?.length\"\n                [class.!bg-transparent]=\"!desk.images?.length\"\n            >\n                <image-carousel\n                    [images]=\"desk.images\"\n                    *ngIf=\"desk.images?.length\"\n                    class=\"absolute inset-0\"\n                ></image-carousel>\n                <button\n                    icon\n                    matRipple\n                    name=\"close-desk-details\"\n                    (click)=\"close.emit()\"\n                    class=\"absolute top-2 left-2 bg-black/40 sm:hidden text-white\"\n                >\n                    <app-icon>arrow_back</app-icon>\n                </button>\n                <button\n                    icon\n                    matRipple\n                    name=\"toggle-desk-favourite-details\"\n                    [class.text-white]=\"!fav\"\n                    [class.text-blue-400]=\"fav\"\n                    (click)=\"toggleFav.emit()\"\n                    class=\"absolute top-2 right-2 bg-black/40\"\n                >\n                    <app-icon>{{\n                        fav ? 'favorite' : 'favorite_border'\n                    }}</app-icon>\n                </button>\n            </section>\n            <div\n                class=\"p-2 space-y-2 flex-1 h-[calc(100%-19.75rem)] overflow-auto\"\n            >\n                <section actions class=\"z-0 pb-2 border-b\">\n                    <h2 class=\"text-xl font-medium mb-2 mt-4\">\n                        {{ desk.display_name || desk.name || desk.id }}\n                    </h2>\n                </section>\n                <section\n                    details\n                    class=\"space-y-2 pb-2 border-b dark:border-neutral-500\"\n                >\n                    <h2 class=\"text-xl font-medium\">Details</h2>\n                    <div class=\"flex items-center space-x-2\">\n                        <app-icon>person</app-icon>\n                        <p i18n>Single desk</p>\n                    </div>\n                    <div class=\"flex items-center space-x-2\">\n                        <app-icon>desk</app-icon>\n                        <p>\n                            {{ desk.display_name || desk.name || desk.id }}\n                        </p>\n                    </div>\n                    <div class=\"flex items-center space-x-2\">\n                        <app-icon>place</app-icon>\n                        <p>{{ desk.zone?.display_name || desk.zone?.name }}</p>\n                    </div>\n                </section>\n                <section\n                    facilities\n                    *ngIf=\"desk.features?.length\"\n                    class=\"space-y-2 pb-2 border-b dark:border-neutral-500\"\n                >\n                    <h2 class=\"text-xl font-medium\" i18n>Facilities</h2>\n                    <div\n                        *ngFor=\"let feat of desk.features || []\"\n                        class=\"flex items-center flex-wrap space-x-2\"\n                    >\n                        <div for=\"feat\" class=\"flex-1 w-1/2\">{{ feat }}</div>\n                    </div>\n                </section>\n                <section\n                    map\n                    class=\"w-full mx-auto h-64 sm:h-48 relative border border-gray-200 dark:border-neutral-500 overflow-hidden rounded\"\n                    *ngIf=\"!hide_map\"\n                >\n                    <interactive-map\n                        class=\"pointer-events-none\"\n                        [src]=\"map_url\"\n                        [features]=\"features\"\n                        [options]=\"{ disable_pan: true, disable_zoom: true }\"\n                    ></interactive-map>\n                </section>\n            </div>\n            <div\n                class=\"px-2 pt-2 pb-[5.5rem] border-t border-gray-200 dark:border-neutral-500 shadow sm:hidden\"\n            >\n                <button\n                    btn\n                    matRipple\n                    name=\"toggle-desk-details\"\n                    [class.inverse]=\"active\"\n                    class=\"w-full\"\n                    (click)=\"active = !active; activeChange.emit(active)\"\n                >\n                    <div class=\"flex items-center justify-center\">\n                        <app-icon class=\"text-2xl\">{{\n                            active ? 'remove' : 'add'\n                        }}</app-icon>\n                        <p i18n>\n                            { active, select, true { Remove from booking } false\n                            { Add to booking } }\n                        </p>\n                    </div>\n                </button>\n            </div>\n        </ng-container>\n        <ng-template #emptyState>\n            <div\n                empty\n                class=\"p-16 flex flex-col items-center justify-center space-y-2\"\n            >\n                <p class=\"opacity-30 text-center\" i18n>\n                    Select a desk to view it's details\n                </p>\n            </div>\n        </ng-template>\n    `,\n})\nexport class DeskDetailsComponent {\n    @Input() public desk?: BookingAsset;\n    @Input() public fav: boolean = false;\n    @Input() public active: boolean = false;\n    @Input() public hide_map: boolean = false;\n\n    @Output() public close = new EventEmitter<void>();\n    @Output() public toggleFav = new EventEmitter<void>();\n    @Output() public activeChange = new EventEmitter<void>();\n\n    public map_url = '';\n    public features: ViewerFeature[] = [];\n\n    public ngOnChanges(changes: SimpleChanges) {\n        if (changes.desk && this.desk) {\n            this.updateFeature();\n        }\n    }\n\n    private updateFeature() {\n        this.map_url = this.desk.zone.map_id;\n        this.features = [\n            {\n                location: this.desk.map_id || this.desk.id,\n                content: MapPinComponent,\n            },\n        ];\n    }\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { MatBottomSheet } from '@angular/material/bottom-sheet';\nimport { AsyncHandler } from '@placeos/common';\n\nimport { DeskFiltersComponent } from './desk-filters.component';\nimport { BookingFormService } from '../booking-form.service';\nimport { endOfDay } from 'date-fns';\n\n@Component({\n    selector: 'desk-filters-display',\n    styles: [\n        `\n            [filter-item] {\n                display: flex;\n                align-items: center;\n                padding: 0 1rem;\n                height: 2rem;\n                font-size: 0.875rem;\n                border: 1px solid rgba(0, 0, 0, 0.2);\n                border-radius: 1.25rem;\n                margin-right: 0.5rem;\n                margin-bottom: 0.5rem;\n            }\n\n            [filter-item]:hover {\n                background: rgba(0, 0, 0, 0.1);\n            }\n\n            [filter-item] > * + * {\n                margin-left: 0.5rem;\n            }\n        `,\n    ],\n    template: `\n        <section\n            actions\n            class=\"sm:hidden space-x-2 flex flex-row items-center p-2\"\n        >\n            <button\n                btn\n                matRipple\n                name=\"edit-desk-filters\"\n                class=\"flex-1 w-1/2\"\n                (click)=\"editFilter()\"\n                i18n\n            >\n                Filters\n            </button>\n            <div class=\"flex items-center\">\n                <button\n                    btn\n                    matRipple\n                    name=\"view-desk-map\"\n                    class=\"rounded-l rounded-r-none\"\n                    [class.inverse]=\"view !== 'map'\"\n                    (click)=\"view = 'map'; viewChange.emit(view)\"\n                    i18n\n                >\n                    Map\n                </button>\n                <button\n                    btn\n                    matRipple\n                    name=\"view-desk-list\"\n                    class=\"rounded-r rounded-l-none\"\n                    [class.inverse]=\"view !== 'list'\"\n                    (click)=\"view = 'list'; viewChange.emit(view)\"\n                    i18n\n                >\n                    List\n                </button>\n            </div>\n        </section>\n        <section filters class=\"flex items-center flex-wrap p-2\">\n            <!-- TODO: filter chips -->\n            <div filter-item date>{{ start | date: 'mediumDate' }}</div>\n            <div filter-item time>\n                {{ start | date: 'shortTime' }} &mdash;\n                {{ end | date: 'shortTime' }}\n            </div>\n            <div\n                filter-item\n                features\n                *ngFor=\"let feat of (options | async)?.features || []\"\n            >\n                <p>{{ feat }}</p>\n                <button\n                    icon\n                    matRipple\n                    name=\"remove-desk-filter\"\n                    class=\"-mr-4\"\n                    (click)=\"setFeature(feat, false)\"\n                >\n                    <app-icon>close</app-icon>\n                </button>\n            </div>\n            <div filter-item *ngIf=\"(options | async)?.show_fav\">\n                <span i18n>Favourites Only</span>\n                <button\n                    icon\n                    matRipple\n                    name=\"remove-desk-favs-filter\"\n                    class=\"-mr-4\"\n                    (click)=\"setOptions({ show_fav: false })\"\n                >\n                    <app-icon>close</app-icon>\n                </button>\n            </div>\n        </section>\n    `,\n})\nexport class DeskFiltersDisplayComponent extends AsyncHandler {\n    @Input() public view: 'map' | 'list' = 'list';\n    @Output() public viewChange = new EventEmitter<'map' | 'list'>();\n    public readonly options = this._state.options;\n    public readonly setOptions = (o) => this._state.setOptions(o);\n    public readonly setFeature = (f, e) => this._state.setFeature(f, e);\n\n    public get start() {\n        return this._state.form.value.date;\n    }\n\n    public get end() {\n        const { date, duration, all_day } = this._state.form.value;\n        if (all_day) return endOfDay(date);\n        return date + duration * 60 * 1000;\n    }\n\n    public readonly editFilter = () => this._bsheet.open(DeskFiltersComponent);\n\n    constructor(\n        private _bsheet: MatBottomSheet,\n        private _state: BookingFormService\n    ) {\n        super();\n    }\n}\n","import { Component, Optional } from '@angular/core';\nimport { MatBottomSheetRef } from '@angular/material/bottom-sheet';\nimport { SettingsService } from '@placeos/common';\nimport { addDays, endOfDay } from 'date-fns';\n\nimport { OrganisationService } from 'libs/organisation/src/lib/organisation.service';\nimport { BookingFormService } from '../booking-form.service';\n\n@Component({\n    selector: 'desk-filters',\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                width: 100%;\n                max-width: 100vw;\n            }\n        `,\n    ],\n    template: `\n        <div\n            class=\"flex rounded-t-md items-center border-b border-gray-200 dark:border-neutral-500 pb-2 sm:p-4\"\n        >\n            <div class=\"flex-1 pl-2\">\n                <button\n                    icon\n                    matRipple\n                    name=\"close-desk-filters\"\n                    class=\"sm:hidden\"\n                    *ngIf=\"can_close\"\n                    (click)=\"close()\"\n                >\n                    <app-icon>keyboard_arrow_left</app-icon>\n                </button>\n            </div>\n            <h3 class=\"font-medium flex-2 text-center\" i18n>Desk Filters</h3>\n            <div class=\"flex-1\"></div>\n        </div>\n        <form\n            class=\"max-h-[65vh] p-2 overflow-y-auto overflow-x-hidden divide-y divide-gray-200 w-full max-w-[100vw] sm:max-w-[30vw]\"\n            [formGroup]=\"form\"\n        >\n            <section details>\n                <h2 class=\"text-lg font-medium\" i18n>Details</h2>\n                <!-- Building -->\n                <div\n                    *ngIf=\"(buildings | async)?.length\"\n                    class=\"flex-1 min-w-[256px] flex flex-col\"\n                >\n                    <label i18n>Building</label>\n                    <mat-form-field appearance=\"outline\" class=\"w-full\">\n                        <mat-select\n                            name=\"building\"\n                            placeholder=\"Select building\"\n                            [(ngModel)]=\"building\"\n                            (ngModelChange)=\"\n                                setOptions({\n                                    zone_id: $event?.id\n                                })\n                            \"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                        >\n                            <mat-option\n                                *ngFor=\"let bld of buildings | async\"\n                                [value]=\"bld\"\n                            >\n                                {{ bld.display_name || bld.name }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                </div>\n                <!-- level -->\n                <div\n                    *ngIf=\"(levels | async)?.length > 1\"\n                    class=\"flex-1 min-w-[256px] flex flex-col\"\n                >\n                    <label>Level</label>\n                    <mat-form-field appearance=\"outline\">\n                        <mat-select\n                            placeholder=\"Any Level\"\n                            ngModel\n                            [disabled]=\"!building\"\n                            (ngModelChange)=\"\n                                setOptions({\n                                    zone_id: $event || building.id\n                                })\n                            \"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                        >\n                            <mat-option\n                                *ngFor=\"let lvl of levels | async\"\n                                [value]=\"lvl.id\"\n                            >\n                                {{ lvl.display_name || lvl.name }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                </div>\n\n                <!-- Date -->\n                <div class=\"flex-1 min-w-[256px]\">\n                    <label i18n>Date</label>\n                    <a-date-field\n                        name=\"date\"\n                        formControlName=\"date\"\n                        [to]=\"end_date\"\n                    >\n                        {{ 'FORM.DATE_ERROR' | translate }}\n                    </a-date-field>\n                </div>\n                <!-- Start End -->\n                <div class=\"flex items-center space-x-2\">\n                    <div class=\"flex-1 w-1/3\">\n                        <label i18n>Start Time</label>\n                        <a-time-field\n                            name=\"start-time\"\n                            [ngModel]=\"form.value.date\"\n                            (ngModelChange)=\"form.patchValue({ date: $event })\"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                        ></a-time-field>\n                    </div>\n                    <div class=\"flex-1 w-1/3\">\n                        <label i18n>End Time</label>\n                        <a-duration-field\n                            formControlName=\"duration\"\n                            [time]=\"form.get('date')?.value\"\n                            [max]=\"12 * 60\"\n                            [min]=\"60\"\n                            [step]=\"60\"\n                        >\n                        </a-duration-field>\n                    </div>\n                </div>\n                <!-- All Day -->\n                <div *ngIf=\"allow_all_day\" class=\"flex justify-end -mt-2 mb-2\">\n                    <mat-checkbox formControlName=\"all_day\" i18n>\n                        All Day\n                    </mat-checkbox>\n                </div>\n            </section>\n            <section favs class=\"space-y-2 pb-4\">\n                <h2 class=\"text-lg font-medium\" i18n>\n                    {{ 'COMMON.FAVOURITES' | translate }}\n                </h2>\n                <div class=\"flex items-center\">\n                    <div for=\"fav\" class=\"flex-1 w-1/2\" i18n>\n                        {{ 'DESKS.SHOW_FAVOURITES' | translate }}\n                    </div>\n                    <mat-checkbox\n                        name=\"fav\"\n                        [ngModel]=\"(options | async)?.show_fav\"\n                        (ngModelChange)=\"setOptions({ show_fav: $event })\"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                    >\n                    </mat-checkbox>\n                </div>\n            </section>\n            <section\n                class=\"space-y-2\"\n                features\n                *ngIf=\"(features | async)?.length\"\n            >\n                <h2 class=\"text-lg font-medium\" i18n>Type</h2>\n                <div\n                    *ngFor=\"let feat of features | async\"\n                    class=\"flex items-center flex-wrap space-x-2\"\n                >\n                    <div for=\"feat\" class=\"flex-1 w-1/2\">{{ feat }}</div>\n                    <mat-checkbox\n                        [ngModel]=\"\n                            ((options | async)?.features || []).includes(feat)\n                        \"\n                        (ngModelChange)=\"setFeature(feat, $event)\"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                    ></mat-checkbox>\n                </div>\n            </section>\n        </form>\n        <div\n            class=\"px-2 py-2 w-full border-t border-gray-200\"\n            *ngIf=\"can_close\"\n        >\n            <button\n                btn\n                matRipple\n                name=\"apply-desk-filters\"\n                class=\"w-full\"\n                (click)=\"close()\"\n                i18n\n            >\n                Apply Filters\n            </button>\n        </div>\n    `,\n})\nexport class DeskFiltersComponent {\n    public can_close = false;\n    public readonly options = this._state.options;\n    public readonly features = this._state.features;\n    public readonly buildings = this._org.active_buildings;\n    public readonly levels = this._org.active_levels;\n    public readonly form = this._state.form;\n\n    public get building() {\n        return this._org.building;\n    }\n    public set building(bld) {\n        this._org.building = bld;\n    }\n\n    public readonly close = () => this._bsheet_ref.dismiss();\n    public readonly setOptions = (o) => this._state.setOptions(o);\n    public readonly setFeature = (f, e) => this._state.setFeature(f, e);\n    public readonly setLevel = (l) => {};\n\n    public get allow_time_changes() {\n        return !!this._settings.get('app.desks.allow_time_changes');\n    }\n    public get allow_all_day() {\n        return (\n            this.allow_time_changes &&\n            !!this._settings.get('app.desks.allow_all_day')\n        );\n    }\n\n    public get end_date() {\n        return endOfDay(\n            addDays(\n                Date.now(),\n                this._settings.get('app.desks.available_period') || 90\n            )\n        );\n    }\n\n    constructor(\n        @Optional()\n        private _bsheet_ref: MatBottomSheetRef<DeskFiltersComponent>,\n        private _state: BookingFormService,\n        private _org: OrganisationService,\n        private _settings: SettingsService\n    ) {\n        this.can_close = !!this._bsheet_ref;\n    }\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { combineLatest } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { BookingFormService, BookingAsset } from '../booking-form.service';\n\n@Component({\n    selector: 'desk-list',\n    styles: [\n        `\n            :host {\n                width: 100%;\n                height: 100%;\n                padding: 0.5rem;\n                background: rgba(0, 0, 0, 0.05);\n                overflow-y: auto;\n            }\n        `,\n    ],\n    template: `\n        <h3 class=\"font-bold\" i18n>Results</h3>\n        <p count class=\"text-sm opacity-60 mb-4\" i18n>\n            {{ (desks | async)?.length || 0 }} result(s) found\n        </p>\n        <ng-container *ngIf=\"!(loading | async)?.length; else load_state\">\n            <ul\n                class=\"list-style-none space-y-2\"\n                *ngIf=\"(desks | async)?.length; else empty_state\"\n            >\n                <li\n                    desk\n                    *ngFor=\"let desk of desks | async\"\n                    class=\"relative rounded-lg w-full shadow border bg-white dark:bg-neutral-600 border-gray-200 dark:border-neutral-500 overflow-hidden\"\n                    [class.!border-blue-400]=\"active === desk.id\"\n                >\n                    <button\n                        name=\"select-desk\"\n                        matRipple\n                        class=\"w-full h-full flex p-2\"\n                        (click)=\"selectDesk(desk)\"\n                    >\n                        <div\n                            class=\"relative w-20 h-20 rounded-xl bg-black/20 mr-4 flex items-center justify-center\"\n                        >\n                            <div\n                                class=\"absolute top-1 left-1 border border-white bg-black/50 rounded-full h-6 w-6 flex items-center justify-center text-white\"\n                                *ngIf=\"selected.includes(desk.id)\"\n                            >\n                                <app-icon>done</app-icon>\n                            </div>\n                            <img\n                                *ngIf=\"desk.images?.length; else placeholder\"\n                                class=\"object-cover h-full\"\n                                [src]=\"desk.images[0]\"\n                            />\n                            <ng-template #placeholder>\n                                <img\n                                    class=\"m-auto\"\n                                    src=\"assets/icons/desk-placeholder.svg\"\n                                />\n                            </ng-template>\n                        </div>\n                        <div class=\"space-y-2 pt-2 flex-1 text-left\">\n                            <span class=\"font-medium\">\n                                {{ desk.name || desk.id || 'Desk' }}\n                            </span>\n                            <div class=\"flex items-center text-sm space-x-2\">\n                                <app-icon class=\"text-blue-500\">place</app-icon>\n                                <p class=\"text-xs\">\n                                    {{\n                                        desk.zone?.display_name ||\n                                            desk.zone?.name ||\n                                            '&lt;No Level&gt;'\n                                    }}\n                                </p>\n                            </div>\n                        </div>\n                    </button>\n                    <button\n                        icon\n                        matRipple\n                        name=\"toggle-desk-favourite\"\n                        class=\"absolute top-1 right-1\"\n                        [class.text-blue-400]=\"isFavourite(desk.id)\"\n                        (click)=\"toggleFav.emit(desk)\"\n                    >\n                        <app-icon>{{\n                            isFavourite(desk.id)\n                                ? 'favorite'\n                                : 'favorite_border'\n                        }}</app-icon>\n                    </button>\n                </li>\n            </ul>\n        </ng-container>\n        <ng-template #load_state>\n            <div\n                loading\n                class=\"p-16 flex flex-col items-center justify-center space-y-2\"\n            >\n                <mat-spinner [diameter]=\"32\"></mat-spinner>\n                <p class=\"opacity-30\">Finding available desks...</p>\n            </div>\n        </ng-template>\n        <ng-template #empty_state>\n            <div\n                empty\n                class=\"p-16 flex flex-col items-center justify-center space-y-2\"\n            >\n                <p class=\"opacity-30 text-center\">\n                    No available desk for selected time and/or filters\n                </p>\n            </div>\n        </ng-template>\n    `,\n})\nexport class DeskListComponent {\n    @Input() public active: string = '';\n    @Input() public selected: string = '';\n    @Input() public favorites: string[] = [];\n    @Output() public onSelect = new EventEmitter<BookingAsset>();\n    @Output() public toggleFav = new EventEmitter<BookingAsset>();\n\n    public readonly desks = combineLatest([\n        this._state.options,\n        this._state.available_resources,\n    ]).pipe(\n        map(([{ show_fav }, _]) =>\n            _.filter((i) => !show_fav || this.isFavourite(i.id))\n        )\n    );\n    public readonly loading = this._state.loading;\n\n    constructor(private _state: BookingFormService) {}\n\n    public isFavourite(desk_id: string) {\n        return this.favorites.includes(desk_id);\n    }\n\n    public selectDesk(desk: BookingAsset) {\n        this.onSelect.emit(desk);\n    }\n}\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    OnInit,\n    Output,\n    SimpleChanges,\n} from '@angular/core';\nimport { AsyncHandler, SettingsService, unique } from '@placeos/common';\nimport { map } from 'rxjs/operators';\n\nimport { BookingAsset, BookingFormService } from '../booking-form.service';\nimport { BehaviorSubject, combineLatest } from 'rxjs';\nimport { DEFAULT_COLOURS } from 'libs/explore/src/lib/explore-spaces.service';\nimport { ExploreDeskInfoComponent } from 'libs/explore/src/lib/explore-desk-info.component';\nimport { BuildingLevel } from 'libs/organisation/src/lib/level.class';\n\n@Component({\n    selector: 'desk-map',\n    styles: [\n        `\n            :host {\n                position: relative;\n                background: rgba(0, 0, 0, 0.05);\n                display: flex;\n                flex-direction: column;\n            }\n\n            button {\n                border-radius: 0;\n            }\n        `,\n    ],\n    template: `\n        <div class=\"bg-white p-2 border-b border-gray-200 w-full\">\n            <mat-form-field\n                levels\n                appearance=\"outline\"\n                class=\"w-full h-[3.25rem]\"\n            >\n                <mat-select\n                    [(ngModel)]=\"level\"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    <mat-option\n                        *ngFor=\"let lvl of levels | async\"\n                        [value]=\"lvl\"\n                    >\n                        {{ lvl.display_name || lvl.name }}\n                    </mat-option>\n                </mat-select>\n            </mat-form-field>\n        </div>\n        <div class=\"relative flex-1 w-full\">\n            <i-map\n                [src]=\"map_url\"\n                [(zoom)]=\"zoom\"\n                [(center)]=\"center\"\n                [features]=\"features | async\"\n                [styles]=\"styles | async\"\n                [actions]=\"actions | async\"\n            ></i-map>\n        </div>\n        <div\n            zoom\n            class=\"absolute bottom-2 right-2 rounded-lg border border-gray-200 bg-white flex flex-col overflow-hidden\"\n        >\n            <button zoom-in icon matRipple (click)=\"setZoom(zoom * 1.1)\">\n                <app-icon>zoom_in</app-icon>\n            </button>\n            <div class=\"border-t border-gray-200 w-full\"></div>\n            <button zoom-out icon matRipple (click)=\"setZoom(zoom * (1 / 1.1))\">\n                <app-icon>zoom_out</app-icon>\n            </button>\n            <div class=\"border-t border-gray-200 w-full\"></div>\n            <button reset icon matRipple (click)=\"resetMap()\">\n                <app-icon>refresh</app-icon>\n            </button>\n        </div>\n    `,\n})\nexport class DeskMapComponent extends AsyncHandler implements OnInit {\n    @Input() public is_displayed: boolean = false;\n    @Input() public active = '';\n    @Output() public onSelect = new EventEmitter<BookingAsset>();\n\n    public readonly desks = this._state.available_resources;\n    public readonly loading = this._state.loading;\n\n    public zoom = 1;\n    public center = { x: 0.5, y: 0.5 };\n    public level?: BuildingLevel;\n\n    private _change = new BehaviorSubject(0);\n\n    public readonly setOptions = (o) => this._state.setOptions(o);\n\n    public get map_url() {\n        return this.level?.map_id || '';\n    }\n\n    public readonly levels = this._state.available_resources.pipe(\n        map((desks) =>\n            unique(\n                desks.map((desk) => desk.zone as any as BuildingLevel),\n                'id'\n            )\n        )\n    );\n\n    public readonly actions = this._state.available_resources.pipe(\n        map((desks) =>\n            desks.map((desk) => ({\n                id: desk.map_id || desk.id,\n                action: ['touchend', 'mouseup'],\n                callback: () => this.selectDesk(desk as any),\n            }))\n        )\n    );\n\n    public readonly features = this._state.resources.pipe(\n        map((desks) => {\n            return this._settings.get('app.desks.hide_user')\n                ? []\n                : desks.map((desk) => ({\n                      location: desk.id,\n                      content: ExploreDeskInfoComponent,\n                      full_size: true,\n                      no_scale: true,\n                      data: {\n                          id: desk.map_id || desk.id,\n                          map_id: desk.name,\n                          name: desk.name || desk.map_id,\n                          user: this._state.resourceUserName(desk.id),\n                      },\n                      z_index: 20,\n                  }));\n        })\n    );\n\n    public readonly styles = combineLatest([\n        this._state.resources,\n        this._state.available_resources,\n        this._change,\n    ]).pipe(\n        map(([desks, free_desks]) =>\n            desks.reduce((styles, desk) => {\n                const colours = this._settings.get('app.explore.colors') || {};\n                const status =\n                    this.active === desk.id\n                        ? 'active'\n                        : free_desks.find((_) => _.id === desk.id)\n                        ? 'free'\n                        : 'busy';\n                styles[`#${desk.map_id || desk.id}`] = {\n                    fill:\n                        status === 'active'\n                            ? '#512DA8'\n                            : colours[`desk-${status}`] ||\n                              colours[`${status}`] ||\n                              DEFAULT_COLOURS[`${status}`],\n                };\n                return styles;\n            }, {})\n        )\n    );\n\n    constructor(\n        private _state: BookingFormService,\n        private _settings: SettingsService\n    ) {\n        super();\n    }\n\n    public ngOnInit(): void {\n        this.subscription(\n            'levels_update',\n            this.levels.subscribe((levels) => {\n                if (!levels.find((_) => _.id === this.level?.id)) {\n                    this.level = levels[0];\n                }\n            })\n        );\n    }\n\n    public ngOnChanges(changes: SimpleChanges): void {\n        if (changes.active) this._change.next(Date.now());\n    }\n\n    public selectDesk(desk: BookingAsset) {\n        this.onSelect.emit(desk);\n    }\n\n    public setZoom(new_zoom: number) {\n        this.zoom = Math.max(0.5, Math.min(10, new_zoom));\n    }\n\n    public resetMap() {\n        this.zoom = 1;\n        this.center = { x: 0.5, y: 0.5 };\n    }\n}\n","import { Component, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { SettingsService } from '@placeos/common';\nimport {\n    BookingAsset,\n    BookingFlowOptions,\n    BookingFormService,\n} from '../booking-form.service';\n\nexport const FAV_DESK_KEY = 'favourite_desks';\n\n@Component({\n    selector: 'desk-select-modal',\n    styles: [],\n    template: `\n        <div\n            class=\"w-[100vw] h-[100vh] sm:relative sm:w-auto sm:h-auto flex flex-col bg-white dark:bg-neutral-700\"\n        >\n            <header class=\"flex items-center space-x-4 w-full\">\n                <button icon mat-dialog-close class=\"bg-black/20\">\n                    <app-icon>close</app-icon>\n                </button>\n                <h3 i18n>Find Desk</h3>\n                <div class=\"hidden sm:flex items-center justify-end flex-1\">\n                    <button\n                        btn\n                        matRipple\n                        name=\"view-desk-map\"\n                        class=\"rounded-l rounded-r-none\"\n                        [class.inverse]=\"view !== 'map'\"\n                        (click)=\"view = 'map'\"\n                    >\n                        Map\n                    </button>\n                    <button\n                        btn\n                        matRipple\n                        name=\"view-desk-list\"\n                        class=\"rounded-r rounded-l-none\"\n                        [class.inverse]=\"view !== 'list'\"\n                        (click)=\"view = 'list'\"\n                    >\n                        List\n                    </button>\n                </div>\n            </header>\n            <main\n                class=\"flex items-center divide-x divide-gray-200 dark:divide-neutral-500 h-[65vh] w-[calc(100vw-4rem)] overflow-hidden\"\n            >\n                <desk-filters\n                    class=\"h-full hidden sm:flex max-w-[20rem] sm:h-[65vh] sm:max-h-full\"\n                ></desk-filters>\n                <div\n                    class=\"flex flex-col items-center flex-1 w-1/2 h-full sm:h-[65vh]\"\n                >\n                    <desk-filters-display\n                        class=\"w-full border-b border-gray-200 dark:border-neutral-500\"\n                        [(view)]=\"view\"\n                    ></desk-filters-display>\n                    <desk-list\n                        *ngIf=\"view === 'list'; else map_view\"\n                        [active]=\"displayed?.id\"\n                        [selected]=\"selected_ids\"\n                        [favorites]=\"favorites\"\n                        (toggleFav)=\"toggleFavourite($event)\"\n                        (onSelect)=\"displayed = $event\"\n                        class=\"flex-1 h-1/2 bg-black/5 dark:bg-white/10\"\n                    ></desk-list>\n                </div>\n                <desk-details\n                    [desk]=\"displayed\"\n                    class=\"h-full w-full sm:h-[65vh] absolute sm:relative sm:flex sm:max-w-[20rem] z-20 bg-white dark:bg-neutral-600 block\"\n                    [class.hidden]=\"!displayed\"\n                    [class.inset-0]=\"displayed\"\n                    [active]=\"selected_ids.includes(displayed?.id)\"\n                    [hide_map]=\"view === 'map'\"\n                    (activeChange)=\"setSelected(displayed, $event)\"\n                    [fav]=\"displayed && this.favorites.includes(displayed?.id)\"\n                    (toggleFav)=\"toggleFavourite(displayed)\"\n                    (close)=\"displayed = null\"\n                ></desk-details>\n            </main>\n            <footer\n                class=\"flex sm:hidden flex-col-reverse items-center justify-end px-2 pt-2 pb-[5.5rem] border-t border-gray-200 dark:border-neutral-500 w-full\"\n            >\n                <button\n                    btn\n                    matRipple\n                    name=\"desk-return\"\n                    class=\"inverse sm:hidden w-full\"\n                    *ngIf=\"displayed\"\n                    (click)=\"displayed = null\"\n                    i18n\n                >\n                    Back\n                </button>\n                <button\n                    btn\n                    matRipple\n                    name=\"save-desks\"\n                    [mat-dialog-close]=\"selected\"\n                    [class.mb-2]=\"displayed\"\n                    class=\"w-full sm:w-32 sm:mb-0\"\n                    i18n\n                >\n                    View List\n                </button>\n            </footer>\n            <footer\n                class=\"hidden sm:flex items-center justify-between p-2 border-t border-gray-200 dark:border-neutral-500 w-full\"\n            >\n                <button\n                    btn\n                    matRipple\n                    name=\"desk-return\"\n                    [mat-dialog-close]=\"selected\"\n                    class=\"clear text-primary\"\n                >\n                    <div class=\"flex items-center\">\n                        <app-icon class=\"text-xl\">arrow_back</app-icon>\n                        <div class=\"mr-1 underline\" i18n>Back to form</div>\n                    </div>\n                </button>\n                <p class=\"opacity-60 text-sm\" i18n>\n                    {{ selected.length }} desk(s) added\n                </p>\n                <button\n                    btn\n                    matRipple\n                    name=\"toggle-desk\"\n                    [disabled]=\"!displayed\"\n                    [class.inverse]=\"isSelected(displayed?.id)\"\n                    (click)=\"setSelected(displayed, !isSelected(displayed?.id))\"\n                >\n                    <div class=\"flex items-center\">\n                        <app-icon class=\"text-xl\">{{\n                            isSelected(displayed?.id) ? 'remove' : 'add'\n                        }}</app-icon>\n                        <div class=\"mr-1\" i18n>\n                            {{\n                                isSelected(displayed?.id)\n                                    ? 'Remove from Booking'\n                                    : 'Add to booking'\n                            }}\n                        </div>\n                    </div>\n                </button>\n            </footer>\n        </div>\n        <ng-template #map_view>\n            <desk-map\n                class=\"flex-1 h-1/2 w-full\"\n                [is_displayed]=\"!!displayed\"\n                [active]=\"displayed?.id\"\n                (onSelect)=\"displayed = $event\"\n            >\n            </desk-map>\n        </ng-template>\n    `,\n})\nexport class DeskSelectModalComponent {\n    public displayed?: BookingAsset;\n    public selected: BookingAsset[] = [];\n    public view = 'list';\n\n    public get selected_ids() {\n        return this.selected.map((_) => _.id).join(',');\n    }\n\n    public get favorites() {\n        return this._settings.get<string[]>(FAV_DESK_KEY) || [];\n    }\n\n    constructor(\n        private _dialog_ref: MatDialogRef<DeskSelectModalComponent>,\n        private _settings: SettingsService,\n        private _event_form: BookingFormService,\n        @Inject(MAT_DIALOG_DATA)\n        private _data: {\n            items: BookingAsset[];\n            options: Partial<BookingFlowOptions>;\n        }\n    ) {\n        this.selected = [...(_data.items || [])];\n        this._event_form.setOptions(_data.options);\n    }\n\n    public isSelected(id: string) {\n        return id && this.selected_ids.includes(id);\n    }\n\n    public setSelected(item: BookingAsset, state: boolean) {\n        const list = this.selected.filter((_) => _.id !== item.id);\n        if (state) list.push(item);\n        this.selected = list;\n        if (!this._data.options.group && state) this._dialog_ref.close([item]);\n    }\n\n    public toggleFavourite(item: BookingAsset) {\n        const fav_list = this.favorites;\n        const new_state = !fav_list.includes(item.id);\n        if (new_state) {\n            this._settings.saveUserSetting(FAV_DESK_KEY, [\n                ...fav_list,\n                item.id,\n            ]);\n        } else {\n            this._settings.saveUserSetting(\n                FAV_DESK_KEY,\n                fav_list.filter((_) => _ !== item.id)\n            );\n        }\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\nimport {\n    currentUser,\n    DialogEvent,\n    notifyError,\n    notifySuccess,\n} from '@placeos/common';\nimport { endOfDay, getUnixTime, startOfDay } from 'date-fns';\nimport { first, map } from 'rxjs/operators';\n\nimport { OrganisationService } from 'libs/organisation/src/lib/organisation.service';\nimport { Desk } from 'libs/organisation/src/lib/desk.class';\nimport { StaffUser, User } from 'libs/users/src/lib/user.class';\n\nimport { queryBookings, saveBooking } from './bookings.fn';\nimport { DeskConfirmModalComponent } from './desk-confirm-modal.component';\nimport { DeskQuestionsModalComponent } from './desk-questions-modal.component';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class DesksService {\n    public can_set_date = true;\n    public error_on_host = true;\n\n    constructor(\n        private _org: OrganisationService,\n        private _dialog: MatDialog\n    ) {}\n\n    public async bookDesk({\n        desks,\n        host,\n        reason,\n        attendees,\n        date,\n    }: {\n        desks: Desk[];\n        host?: StaffUser;\n        attendees?: User[];\n        reason?: string;\n        date?: Date;\n    }) {\n        if (this.error_on_host && !host) {\n            return notifyError('You need to select a host to book a desk.');\n        } else {\n            host = host || currentUser();\n        }\n        reason = reason || '';\n        const level = this._org.levelWithID(\n            desks[0].zone instanceof Array ? desks[0].zone : [desks[0].zone?.id]\n        );\n        let ref: MatDialogRef<any> = this._dialog.open(\n            DeskQuestionsModalComponent\n        );\n        let success = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_: DialogEvent) => _.reason === 'done'))\n                .toPromise(),\n            ref\n                .afterClosed()\n                .pipe(map((_) => null))\n                .toPromise(),\n        ]);\n        if (!success) return;\n        ref.close();\n        ref = this._dialog.open(DeskConfirmModalComponent, {\n            data: {\n                host,\n                desks,\n                date: date ? new Date(date) : new Date(),\n                reason,\n                level,\n                can_set_date: this.can_set_date,\n            },\n        });\n        success = await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_: DialogEvent) => _.reason === 'done'))\n                .toPromise(),\n            ref\n                .afterClosed()\n                .pipe(map((_) => null))\n                .toPromise(),\n        ]);\n        if (!success) return;\n        host = ref.componentInstance.host || host;\n        date = ref.componentInstance.date || date;\n        reason = ref.componentInstance.reason || reason;\n        if (!host) {\n            ref.close();\n            return notifyError('You need to select a host to book a desk. ');\n        }\n        ref.componentInstance.loading =\n            'Checking for existing desk bookings...';\n        const bookings = await queryBookings({\n            type: 'desk',\n            period_start: getUnixTime(startOfDay(date || new Date())),\n            period_end: getUnixTime(endOfDay(date || new Date())),\n        }).toPromise();\n        const desk_list = bookings.filter(\n            (d) => d.user_email.toLowerCase() === host.email.toLowerCase()\n        );\n        if (desk_list?.length) {\n            ref.close();\n            return notifyError(\n                'You currently already have a desk booked for the selected date.'\n            );\n        }\n        ref.componentInstance.loading = 'Booking desk...';\n        const users = [host, ...(attendees || [])];\n        await Promise.all([\n            desks.map((desk, idx) =>\n                this.makeDeskBooking(\n                    desk,\n                    host,\n                    date.valueOf() || new Date().valueOf(),\n                    reason,\n                    users[idx]\n                )\n            ),\n        ]);\n        notifySuccess('Successfully booked desk');\n        ref.close();\n        return true;\n    }\n\n    private async makeDeskBooking(\n        desk: Desk,\n        host: StaffUser,\n        date: number,\n        reason: string,\n        for_user: User = null\n    ) {\n        const location = `${desk.zone?.name}-${desk.id}`;\n        const level = this._org.levelWithID(\n            desk.zone instanceof Array ? desk.zone : [desk.zone?.id]\n        );\n        const zones = desk.zone?.id\n            ? [desk.zone?.id, level?.parent_id]\n            : [level?.parent_id];\n        const booking_data = {\n            booking_start: getUnixTime(startOfDay(date)),\n            user_id: for_user?.id || host.id,\n            user_name: for_user?.name || host.name,\n            user_email: for_user?.email || host.email,\n            booking_end: Math.floor(endOfDay(date).valueOf() / 1000),\n            asset_id: desk.id,\n            asset_name: desk.name,\n            title: reason,\n            description: location,\n            zones,\n            booking_type: 'desk',\n            extension_data: {\n                map_id: desk?.map_id || desk?.id,\n                groups: desk.groups,\n                for_user: for_user?.email,\n            },\n        };\n        return saveBooking(booking_data as any).toPromise();\n    }\n}\n","import { Component, EventEmitter, Output } from '@angular/core';\nimport { Validators } from '@angular/forms';\nimport { first } from 'rxjs/operators';\n\nimport { AsyncHandler, SettingsService } from '@placeos/common';\nimport { notifyError } from 'libs/common/src/lib/notifications';\nimport { getInvalidFields, randomString } from 'libs/common/src/lib/general';\nimport { OrganisationService } from 'libs/organisation/src/lib/organisation.service';\nimport { BookingFormService } from './booking-form.service';\nimport { Booking } from './booking.class';\nimport { User } from 'libs/users/src/lib/user.class';\n\n@Component({\n    selector: `invite-visitor-form`,\n    template: `\n        <ng-container *ngIf=\"!sent; else send_state\">\n            <div\n                class=\"relative flex flex-col bg-white dark:bg-neutral-700 overflow-auto max-h-full\"\n                *ngIf=\"!(loading | async) && !loading_many; else load_state\"\n            >\n                <div\n                    class=\"w-full border-b border-gray-200 dark:border-neutral-500 px-4 py-2\"\n                >\n                    <h2 class=\"text-2xl\" i18n>Invite Visitor</h2>\n                </div>\n                <form *ngIf=\"form\" [formGroup]=\"form\" class=\"p-4\">\n                    <div class=\"flex flex-col\" *ngIf=\"buildings?.length > 1\">\n                        <label for=\"building\" i18n\n                            >Building<span>*</span></label\n                        >\n                        <mat-form-field appearance=\"outline\">\n                            <mat-select\n                                [ngModel]=\"form.value.zones[0]\"\n                                (ngModelChange)=\"\n                                    form.patchValue({ zones: [$event] })\n                                \"\n                                [ngModelOptions]=\"{ standalone: true }\"\n                                name=\"building\"\n                                placeholder=\"Select building\"\n                                i18n-placeholder\n                            >\n                                <mat-option\n                                    *ngFor=\"let bld of buildings | async\"\n                                    [value]=\"bld.id\"\n                                >\n                                    {{ bld.display_name || bld.name }}\n                                </mat-option>\n                            </mat-select>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"flex flex-col\">\n                        <label for=\"date\" i18n>Date<span>*</span></label>\n                        <a-date-field\n                            name=\"date\"\n                            formControlName=\"date\"\n                        ></a-date-field>\n                    </div>\n                    <div class=\"flex items-center space-x-2\">\n                        <div class=\"flex-1 flex flex-col w-1/3\">\n                            <label for=\"start-time\" i18n>\n                                Start Time<span>*</span>\n                            </label>\n                            <a-time-field\n                                name=\"start-time\"\n                                formControlName=\"date\"\n                            ></a-time-field>\n                        </div>\n                        <div class=\"flex-1 flex flex-col w-1/3\">\n                            <label for=\"end-time\" i18n\n                                >End Time<span>*</span></label\n                            >\n                            <a-duration-field\n                                name=\"end-time\"\n                                formControlName=\"duration\"\n                                [time]=\"form.value.date\"\n                            ></a-duration-field>\n                        </div>\n                    </div>\n                    <ng-container *ngIf=\"!multiple; else multi_state\">\n                        <div class=\"flex flex-col\">\n                            <label for=\"visitor-name\" i18n\n                                >Visitor Name<span>*</span></label\n                            >\n                            <mat-form-field appearance=\"outline\">\n                                <input\n                                    matInput\n                                    name=\"visitor-name\"\n                                    formControlName=\"asset_name\"\n                                    placeholder=\"Name of the visitor\"\n                                    (focus)=\"\n                                        filterVisitors(form.value.asset_name)\n                                    \"\n                                    [matAutocomplete]=\"name_auto\"\n                                />\n                            </mat-form-field>\n                            <mat-autocomplete #name_auto=\"matAutocomplete\">\n                                <mat-option\n                                    *ngFor=\"let item of filtered_visitors\"\n                                    [value]=\"item.name\"\n                                    (click)=\"setVisitor(item)\"\n                                >\n                                    <div class=\"flex flex-col leading-tight\">\n                                        <div>{{ item.name }}</div>\n                                        <div class=\"text-xs opacity-60\">\n                                            {{ item.email }}\n                                            {{\n                                                item.company\n                                                    ? '| ' + item.company\n                                                    : ''\n                                            }}\n                                        </div>\n                                    </div>\n                                </mat-option>\n                            </mat-autocomplete>\n                        </div>\n                        <div class=\"flex flex-col\">\n                            <label for=\"visitor-email\" i18n>\n                                Visitor Email<span>*</span>\n                            </label>\n                            <mat-form-field appearance=\"outline\">\n                                <input\n                                    matInput\n                                    name=\"visitor-email\"\n                                    type=\"email\"\n                                    formControlName=\"asset_id\"\n                                    placeholder=\"Email of the visitor\"\n                                    (focus)=\"\n                                        filterVisitors(form.value.asset_id)\n                                    \"\n                                    [matAutocomplete]=\"email_auto\"\n                                />\n                                <mat-error i18n\n                                    >A valid email is required</mat-error\n                                >\n                            </mat-form-field>\n                            <mat-autocomplete #email_auto=\"matAutocomplete\">\n                                <mat-option\n                                    *ngFor=\"let item of filtered_visitors\"\n                                    [value]=\"item.email\"\n                                    (click)=\"setVisitor(item)\"\n                                >\n                                    <div class=\"flex flex-col leading-tight\">\n                                        <div>{{ item.name }}</div>\n                                        <div class=\"text-xs opacity-60\">\n                                            {{ item.email }}\n                                            {{\n                                                item.company\n                                                    ? '| ' + item.company\n                                                    : ''\n                                            }}\n                                        </div>\n                                    </div>\n                                </mat-option>\n                            </mat-autocomplete>\n                        </div>\n                        <div class=\"flex flex-col\">\n                            <label for=\"visitor-name\" i18n>Company</label>\n                            <mat-form-field appearance=\"outline\">\n                                <input\n                                    matInput\n                                    name=\"company\"\n                                    formControlName=\"company\"\n                                    placeholder=\"Company of the visitor\"\n                                />\n                            </mat-form-field>\n                        </div>\n                    </ng-container>\n                    <div class=\"flex flex-col\">\n                        <label for=\"reason\" i18n>Reason for visit</label>\n                        <mat-form-field appearance=\"outline\">\n                            <input\n                                name=\"reason\"\n                                matInput\n                                formControlName=\"description\"\n                                placeholder=\"e.g. Meeting Catchup\"\n                            />\n                        </mat-form-field>\n                    </div>\n                </form>\n                <div\n                    class=\"sticky p-4 border-t bg-white border-gray-200 dark:border-neutral-500 bottom-0\"\n                >\n                    <button\n                        btn\n                        matRipple\n                        send\n                        class=\"w-full sm:w-auto\"\n                        (click)=\"sendInvite()\"\n                        i18n\n                    >\n                        Send Visitor Invite\n                    </button>\n                </div>\n            </div>\n        </ng-container>\n        <ng-template #send_state>\n            <div\n                sent\n                class=\"absolute inset-0 bg-white dark:bg-neutral-700 flex flex-col items-center justify-center text-center\"\n            >\n                <div class=\"w-full max-w-[32rem] flex-1 h-1/2 space-y-2 m-8\">\n                    <h2 class=\"text-3xl\" i18n>\n                        Visitor invite sent to\n                        <ng-container *ngIf=\"!multiple\">\n                            {{\n                                last_success?.asset_name ||\n                                    last_success?.asset_id\n                            }}\n                        </ng-container>\n                        <ng-container *ngIf=\"multiple\">\n                            {{ last_count }} visitor{{\n                                last_count == 1 ? '' : 's'\n                            }}\n                        </ng-container>\n                    </h2>\n                    <img class=\"mx-auto\" src=\"assets/icons/sent.svg\" />\n                    <p i18n>\n                        Invite has been sent to\n                        <i>\n                            <ng-container *ngIf=\"!multiple\">\n                                {{\n                                    last_success?.asset_name ||\n                                        last_success?.asset_id\n                                }}\n                            </ng-container>\n                            <ng-container *ngIf=\"multiple\">\n                                {{ last_count }} visitor{{\n                                    last_count == 1 ? '' : 's'\n                                }}\n                            </ng-container>\n                        </i>\n                        to attend\n                        {{ building?.display_name || building?.name }} from\n                        {{ last_success?.date | date: 'mediumDate' }} at\n                        {{ last_success?.date | date: 'shortTime' }}\n                    </p>\n                </div>\n                <div\n                    class=\"w-full p-2 border-t border-gray-200 dark:border-neutral-500\"\n                >\n                    <div\n                        class=\"mx-auto flex items-center space-x-2 w-full max-w-[32rem]\"\n                    >\n                        <button\n                            btn\n                            matRipple\n                            class=\"flex-1\"\n                            (click)=\"onDone()\"\n                            i18n\n                        >\n                            Great, thanks\n                        </button>\n                        <button\n                            btn\n                            matRipple\n                            class=\"flex-1\"\n                            (click)=\"sent = false\"\n                            i18n\n                        >\n                            Book Another Visitor\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </ng-template>\n        <ng-template #load_state>\n            <div\n                loading\n                class=\"relative flex flex-col items-center justify-center rounded overflow-hidden w-full h-full min-h-[18rem]\"\n            >\n                <mat-spinner [diameter]=\"32\"></mat-spinner>\n                <p i18n>Sending invitation...</p>\n            </div>\n        </ng-template>\n        <ng-template #multi_state>\n            <div class=\"flex flex-col\" [formGroup]=\"form\">\n                <label for=\"visitor-name\" i18n>Visitors<span>*</span></label>\n                <a-user-list-field\n                    formControlName=\"assets\"\n                    [guests_only]=\"true\"\n                ></a-user-list-field>\n            </div>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class InviteVisitorFormComponent extends AsyncHandler {\n    @Output() public done = new EventEmitter<void>();\n\n    public sent = false;\n    public booking?: Booking;\n    public readonly loading = this._service.loading;\n    public loading_many = false;\n    public readonly buildings = this._org.active_buildings;\n    public last_success = this._service.last_success;\n    public last_count = 0;\n    public visitors = [];\n    public filtered_visitors = [];\n\n    public get multiple() {\n        return this._settings.get('app.booking.multiple_visitors');\n    }\n\n    public get building() {\n        return this._org.building;\n    }\n\n    public get form() {\n        return this._service.form;\n    }\n\n    constructor(\n        private _service: BookingFormService,\n        private _settings: SettingsService,\n        private _org: OrganisationService\n    ) {\n        super();\n    }\n\n    public async ngOnInit() {\n        this.sent = false;\n        this._service.clearOldState();\n        await this.initFormZone();\n        this.form\n            .get('asset_id')\n            .setValidators([Validators.required, Validators.email]);\n        const visitors = this._settings.get('visitor-invitees') || [];\n        for (const item of visitors) {\n            const [email, name, company] = item.split('|');\n            this.visitors.push({ email, name, company });\n        }\n        this.filterVisitors('');\n        this.subscription(\n            'email',\n            this.form\n                .get('asset_id')\n                .valueChanges.subscribe((_) => this.filterVisitors(_))\n        );\n        this.subscription(\n            'name',\n            this.form\n                .get('asset_name')\n                .valueChanges.subscribe((_) => this.filterVisitors(_))\n        );\n        if (this.multiple)\n            this.form.patchValue({ asset_id: 'multiple@place.tech' });\n    }\n\n    public setVisitor(item) {\n        this.form.patchValue({\n            asset_id: item.email,\n            asset_name: item.name,\n            company: item.company,\n        });\n    }\n\n    public filterVisitors(filter: string) {\n        const s = (filter || '').toLowerCase();\n        this.filtered_visitors = this.visitors.filter(\n            ({ email, name, company }) =>\n                email.toLowerCase().includes(s) ||\n                name.toLowerCase().includes(s) ||\n                company.toLowerCase().includes(s)\n        );\n    }\n\n    public onDone() {\n        this.done.emit();\n        this.sent = false;\n    }\n\n    public async sendInvite() {\n        this.form.markAllAsTouched();\n        if (\n            !this.form.valid ||\n            (this.multiple && !this.form.value.assets.length)\n        ) {\n            return notifyError(\n                `Some fields are invalid. [${\n                    getInvalidFields(this.form).join(', ') || 'visitors'\n                }]`\n            );\n        }\n        const { asset_id, asset_name, company, assets } = this.form.value;\n        const visitor_details = `${asset_id}|${asset_name}|${company}`;\n        const old_visitors = this._settings.get('visitor-invitees') || [];\n        this._settings.saveUserSetting('visitor-invitees', [\n            ...old_visitors.filter((_) => !_.includes(asset_id)),\n            visitor_details,\n        ]);\n        await (this.multiple ? this._bookForMany() : this._bookForOne());\n        this.last_success = this._service.last_success;\n        await this.initFormZone();\n        this.sent = true;\n    }\n\n    private async initFormZone() {\n        await this._org.initialised.pipe(first((_) => _)).toPromise();\n        this._service.setOptions({ type: 'visitor' });\n        this.form.patchValue({\n            booking_type: 'visitor',\n            zones: [this._org.building?.id],\n        });\n    }\n\n    private async _bookForOne() {\n        const value = this.form.value;\n        this.form.patchValue({\n            name: value.asset_name,\n            attendees: [\n                new User({\n                    name: value.asset_name,\n                    email: value.asset_id,\n                    organisation: value.company,\n                }),\n            ],\n        });\n        await this._service.postForm().catch((e) => {\n            notifyError(e);\n            throw e;\n        });\n    }\n\n    private async _bookForMany() {\n        this.loading_many = true;\n        const group = `grp-${randomString(8)}`;\n        const value = this.form.value;\n        const assets = value.assets;\n        this.last_count = assets.length;\n        for (const user of assets) {\n            if (!user.email) continue;\n            this.form.patchValue({\n                ...value,\n                booking_type: 'visitor',\n                asset_id: user.email,\n                asset_name: user.name,\n                user: user,\n                description: group,\n                name: user.name,\n                assets: [],\n                attendees: [\n                    new User({\n                        name: user.name,\n                        email: user.email,\n                        organisation: user.company || user.organisation,\n                    }),\n                ],\n            });\n            await this._service.postForm().catch((e) => {\n                notifyError(e);\n                throw e;\n            });\n        }\n        this.loading_many = false;\n    }\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { Locker, LockerBank } from './lockers.service';\nimport { SettingsService } from '@placeos/common';\nimport { DEFAULT_COLOURS } from 'libs/explore/src/lib/explore-spaces.service';\n\n@Component({\n    selector: 'locker-grid',\n    template: `\n        <div class=\"p-4 text-xl font-medium\">\n            {{ bank?.name }}\n        </div>\n        <div\n            class=\"flex-1 grid gap-2 overflow-hidden max-h-full h-[75vh] min-w-[60vw] p-2\"\n            [style.grid-template-columns]=\"'repeat(' + columns + ', 1fr)'\"\n            [style.grid-template-rows]=\"'repeat(' + bank?.height + ', 1fr)'\"\n        >\n            <button\n                *ngFor=\"let locker of bank?.lockers || []\"\n                matRipple\n                class=\"relative border border-black/20 rounded bg-teal-300 overflow-hidden\"\n                [class.opacity-60]=\"selected && selected !== locker.id\"\n                [style.grid-column-start]=\"locker.position[0] + 1\"\n                [style.grid-row-start]=\"locker.position[1] + 1\"\n                [style.grid-column-end]=\"\n                    locker.position[0] + (locker.size[0] + 1)\n                \"\n                [style.background-color]=\"status(locker)\"\n                [style.grid-row-end]=\"locker.position[1] + (locker.size[1] + 1)\"\n                [matTooltip]=\"locker.name\"\n                [disabled]=\"locker.bookable === false\"\n                (click)=\"clicked.emit(locker)\"\n            >\n                <div\n                    handle\n                    class=\"absolute top-1/2 -translate-y-1/2 left-2 w-1 h-6 bg-black/20 rounded\"\n                ></div>\n                <div\n                    vent\n                    class=\"absolute left-1/2 -translate-x-1/2 top-2 w-3/5 h-1 bg-black/20 rounded-t\"\n                ></div>\n                <div\n                    vent\n                    class=\"absolute left-1/2 -translate-x-1/2 top-4 w-3/5 h-1 bg-black/20 rounded-t\"\n                ></div>\n                <div\n                    vent\n                    class=\"absolute left-1/2 -translate-x-1/2 top-6 w-3/5 h-1 bg-black/20 rounded-t\"\n                ></div>\n                <div\n                    class=\"absolute left-1/2 -translate-x-1/2 top-8 text-[0.6rem] font-medium text-black/60\"\n                >\n                    {{ locker.name }}\n                </div>\n\n                <div class=\"absolute inset-0 hover:bg-black/10\"></div>\n            </button>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                height: 100%;\n            }\n            button[disabled] {\n                pointer-events: none;\n                opacity: 0.75;\n                background-color: #ccc !important;\n            }\n        `,\n    ],\n})\nexport class LockerGridComponent {\n    @Input() public bank: LockerBank;\n    @Input() public bank_status: Record<string, string> = {\n        '10': 'busy',\n        '7': 'pending',\n    };\n    @Input() public selected = '';\n    @Output() public clicked = new EventEmitter<Locker>();\n\n    public get columns() {\n        let columns = 1;\n        for (const locker of this.bank?.lockers || []) {\n            const x = locker.position[0] + locker.size[0];\n            if (x > columns) columns = x;\n        }\n        return columns;\n    }\n\n    constructor(private _settings: SettingsService) {}\n\n    public status(locker: Locker) {\n        const colours = this._settings.get('app.explore.colors') || {};\n        const value = this.bank_status[locker.id] || 'free';\n        return (\n            colours[`lockers-${value}`] ||\n            colours[`${value}`] ||\n            DEFAULT_COLOURS[`${value}`]\n        );\n    }\n}\n","import { Component, forwardRef, Input } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { MatDialog } from '@angular/material/dialog';\n\nimport { SettingsService } from 'libs/common/src/lib/settings.service';\nimport { BookingAsset } from './booking-form.service';\nimport {\n    LockerSelectModalComponent,\n    FAV_LOCKER_KEY,\n} from './locker-select-modal/locker-select-modal.component';\n\nconst EMPTY_FAVS: string[] = [];\n\n@Component({\n    selector: `locker-list-field`,\n    template: `\n        <div list class=\"space-y-2\">\n            <div\n                locker\n                class=\"relative p-2 rounded-lg w-full flex items-center shadow border border-gray-200\"\n                *ngFor=\"let item of items\"\n            >\n                <div *ngIf=\"features?.length\" class=\"flex flex-col\">\n                    <label for=\"title\">Type</label>\n                    <div features class=\"flex items-center flex-wrap space-x-2\">\n                        <mat-checkbox\n                            *ngFor=\"let opt of features\"\n                            [ngModel]=\"(selected_features || []).includes(opt)\"\n                            (ngModelChange)=\"setFeature(opt, $event)\"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                        >\n                            {{ opt }}\n                        </mat-checkbox>\n                    </div>\n                </div>\n                <div\n                    class=\"w-20 h-20 rounded-xl bg-black/20 mr-4 overflow-hidden flex items-center justify-center\"\n                >\n                    <img\n                        *ngIf=\"item.images?.length; else placeholder\"\n                        [src]=\"item.images[0]\"\n                        class=\"min-h-full object-cover\"\n                    />\n                    <ng-template #placeholder>\n                        <img\n                            class=\"m-auto\"\n                            src=\"assets/icons/locker-placeholder.svg\"\n                        />\n                    </ng-template>\n                </div>\n                <div class=\"space-y-2 pb-4\">\n                    <div class=\"font-medium\">\n                        {{ item.name || 'Locker' }}\n                    </div>\n                    <div class=\"flex items-center text-sm space-x-2\">\n                        <app-icon class=\"text-blue-500 text-base\"\n                            >place</app-icon\n                        >\n                        <p>{{ item.zone?.display_name || item.zone?.name }}</p>\n                    </div>\n                    <div\n                        class=\"flex items-center text-sm space-x-2\"\n                        *ngIf=\"item.accessible\"\n                    >\n                        <app-icon class=\"text-blue-500 text-base\"\n                            >accessible</app-icon\n                        >\n                        <p>Disability Accessible</p>\n                    </div>\n                    <div\n                        class=\"absolute bottom-0 right-0 flex items-center justify-end text-xs\"\n                    >\n                        <button\n                            btn\n                            matRipple\n                            name=\"edit-locker\"\n                            class=\"clear\"\n                            (click)=\"changeResources(item)\"\n                        >\n                            <div class=\"flex items-center space-x-2\" i18n>\n                                <app-icon>edit</app-icon>\n                                Change\n                            </div>\n                        </button>\n                        <button\n                            btn\n                            matRipple\n                            name=\"remove-locker\"\n                            class=\"clear\"\n                            (click)=\"removeResource(item)\"\n                        >\n                            <div class=\"flex items-center space-x-2\" i18n>\n                                <app-icon>close</app-icon>\n                                Remove\n                            </div>\n                        </button>\n                    </div>\n                </div>\n                <button\n                    icon\n                    matRipple\n                    name=\"toggle-locker-favourite\"\n                    class=\"absolute top-1 right-1\"\n                    [class.text-blue-400]=\"favorites.includes(asset?.id)\"\n                    (click)=\"toggleFavourite(asset)\"\n                >\n                    <app-icon>{{\n                        favorites.includes(asset?.id)\n                            ? 'favorite'\n                            : 'favorite_border'\n                    }}</app-icon>\n                </button>\n            </div>\n        </div>\n        <button\n            btn\n            matRipple\n            name=\"add-locker\"\n            class=\"w-full inverse mt-2\"\n            (click)=\"changeResources()\"\n        >\n            <div class=\"flex items-center justify-center space-x-2\">\n                <app-icon>search</app-icon>\n                <span i18n>Add Locker</span>\n            </div>\n        </button>\n        <div class=\"flex items-center flex-wrap sm:space-x-2 mb-2\">\n            <div class=\"flex-1 min-w-[256px] space-y-2\"></div>\n        </div>\n    `,\n    styles: [``],\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: forwardRef(() => LockerListFieldComponent),\n            multi: true,\n        },\n    ],\n})\nexport class LockerListFieldComponent implements ControlValueAccessor {\n    @Input() public features: string[] = [];\n    public room_size = 3;\n    public items: BookingAsset[] = [];\n    public disabled = false;\n    public selected_features: string[] = [];\n\n    private _onChange: (_: BookingAsset[]) => void;\n    private _onTouch: (_: BookingAsset[]) => void;\n\n    public get favorites() {\n        return this._settings.get<string[]>(FAV_LOCKER_KEY) || EMPTY_FAVS;\n    }\n\n    constructor(\n        private _settings: SettingsService,\n        private _dialog: MatDialog\n    ) {}\n\n    /** Add or edit selected items */\n    public changeResources() {\n        const ref = this._dialog.open(LockerSelectModalComponent, {\n            data: {\n                items: this.items,\n                options: { capacity: this.room_size },\n            },\n        });\n        ref.afterClosed().subscribe((items?: BookingAsset[]) => {\n            if (!items) items = ref.componentInstance.selected;\n            this.setValue(items);\n        });\n    }\n\n    /** Remove the selected space from the list */\n    public removeResource(space: BookingAsset) {\n        this.setValue(this.items.filter((_) => _.id !== space.id));\n    }\n\n    /**\n     * Update the form field value\n     * @param new_value New value to set on the form field\n     */\n    public setValue(new_value: BookingAsset[]) {\n        this.items = new_value;\n        if (this._onChange) this._onChange(this.items);\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Update local value when form control value is changed\n     * @param value The new value for the component\n     */\n    public writeValue(value: BookingAsset[]) {\n        this.items = value || [];\n    }\n\n    /* istanbul ignore next */\n    public readonly registerOnChange = (fn: (_: BookingAsset[]) => void) =>\n        (this._onChange = fn);\n    /* istanbul ignore next */\n    public readonly registerOnTouched = (fn: (_: BookingAsset[]) => void) =>\n        (this._onTouch = fn);\n    public readonly setDisabledState = (s: boolean) => (this.disabled = s);\n\n    public toggleFavourite(space: BookingAsset) {\n        const fav_list = this.favorites;\n        const new_state = !fav_list.includes(space.id);\n        if (new_state) {\n            this._settings.saveUserSetting(FAV_LOCKER_KEY, [\n                ...fav_list,\n                space.id,\n            ]);\n        } else {\n            this._settings.saveUserSetting(\n                FAV_LOCKER_KEY,\n                fav_list.filter((_) => _ !== space.id)\n            );\n        }\n    }\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { combineLatest } from 'rxjs';\nimport { map, tap } from 'rxjs/operators';\nimport { BookingFormService, BookingAsset } from '../booking-form.service';\nimport { LockersService } from '../lockers.service';\n\n@Component({\n    selector: 'locker-bank-list',\n    styles: [\n        `\n            :host {\n                width: 100%;\n                height: 100%;\n                padding: 0.5rem;\n                background: rgba(0, 0, 0, 0.05);\n                overflow-y: auto;\n            }\n        `,\n    ],\n    template: `\n        <h3 class=\"font-bold\" i18n>Results</h3>\n        <p count class=\"text-sm opacity-60 mb-4\" i18n>\n            {{ (locker_banks | async)?.length || 0 }} result(s) found\n        </p>\n        <ng-container *ngIf=\"!(loading | async)?.length; else load_state\">\n            <ul\n                class=\"list-style-none space-y-2 min-w-[50vh]\"\n                *ngIf=\"(locker_banks | async)?.length; else empty_state\"\n            >\n                <li\n                    locker_bank\n                    *ngFor=\"let locker_bank of locker_banks | async\"\n                    class=\"relative rounded-lg w-full shadow border bg-white dark:bg-neutral-600 border-gray-200 dark:border-neutral-500 overflow-hidden\"\n                    [class.!border-blue-400]=\"active === locker_bank.id\"\n                >\n                    <button\n                        name=\"select-locker_bank\"\n                        matRipple\n                        class=\"w-full h-full flex p-2\"\n                        (click)=\"selectLockerBank(locker_bank)\"\n                    >\n                        <div\n                            class=\"relative w-20 h-20 rounded-xl bg-black/20 mr-4 flex items-center justify-center\"\n                        >\n                            <div\n                                class=\"absolute top-1 left-1 border border-white bg-black/50 rounded-full h-6 w-6 flex items-center justify-center text-white\"\n                                *ngIf=\"selected.includes(locker_bank.id)\"\n                            >\n                                <app-icon>done</app-icon>\n                            </div>\n                            <img\n                                *ngIf=\"\n                                    locker_bank.images?.length;\n                                    else placeholder\n                                \"\n                                class=\"object-cover h-full\"\n                                [src]=\"locker_bank.images[0]\"\n                            />\n                            <ng-template #placeholder>\n                                <img\n                                    class=\"m-auto\"\n                                    src=\"assets/icons/locker-placeholder.svg\"\n                                />\n                            </ng-template>\n                        </div>\n                        <div class=\"space-y-2 pt-2 flex-1 text-left\">\n                            <span class=\"font-medium\">\n                                {{\n                                    locker_bank.name ||\n                                        locker_bank.id ||\n                                        'Locker_bank'\n                                }}\n                            </span>\n                            <div class=\"flex items-center text-sm space-x-2\">\n                                <app-icon class=\"text-blue-500\">place</app-icon>\n                                <p class=\"text-xs\">\n                                    {{\n                                        locker_bank.zone?.display_name ||\n                                            locker_bank.zone?.name ||\n                                            '&lt;No Level&gt;'\n                                    }}\n                                </p>\n                            </div>\n                            <div class=\"flex items-center text-sm space-x-2\">\n                                <app-icon class=\"text-blue-500\"\n                                    >people</app-icon\n                                >\n                                <p class=\"text-xs\">\n                                    {{ locker_bank.available || 0 }} /\n                                    {{ locker_bank.lockers.length || 1 }}\n                                    Available\n                                </p>\n                            </div>\n                        </div>\n                    </button>\n                    <button\n                        icon\n                        matRipple\n                        name=\"toggle-locker_bank-favourite\"\n                        class=\"absolute top-1 right-1\"\n                        [class.text-blue-400]=\"isFavourite(locker_bank.id)\"\n                        (click)=\"toggleFav.emit(locker_bank)\"\n                    >\n                        <app-icon>{{\n                            isFavourite(locker_bank.id)\n                                ? 'favorite'\n                                : 'favorite_border'\n                        }}</app-icon>\n                    </button>\n                </li>\n            </ul>\n        </ng-container>\n        <ng-template #load_state>\n            <div\n                loading\n                class=\"p-16 flex flex-col items-center justify-center space-y-2\"\n            >\n                <mat-spinner [diameter]=\"32\"></mat-spinner>\n                <p class=\"opacity-30\">Finding available locker banks...</p>\n            </div>\n        </ng-template>\n        <ng-template #empty_state>\n            <div\n                empty\n                class=\"p-16 flex flex-col items-center justify-center space-y-2\"\n            >\n                <p class=\"opacity-30 text-center\">\n                    No available locker banks for selected time and/or filters\n                </p>\n            </div>\n        </ng-template>\n    `,\n})\nexport class LockerBankListComponent {\n    @Input() public active: string = '';\n    @Input() public selected: string = '';\n    @Input() public favorites: string[] = [];\n    @Output() public onSelect = new EventEmitter<BookingAsset>();\n    @Output() public toggleFav = new EventEmitter<BookingAsset>();\n\n    public readonly locker_banks = combineLatest([\n        this._state.options,\n        this._state.available_resources,\n        this._lockers.lockers_banks$,\n    ]).pipe(\n        map(([{ show_fav }, resources, banks]) => {\n            return banks\n                .filter(\n                    (i) =>\n                        (!show_fav || this.isFavourite(i.id)) &&\n                        resources.find((_: any) => _.bank_id === i.id)\n                )\n                .map((bank) => ({\n                    ...bank,\n                    available: resources.filter(\n                        (_: any) => _.bank_id === bank.id\n                    ).length,\n                    lockers: bank.lockers.map((_) => ({\n                        ..._,\n                        zone: bank.zone,\n                    })),\n                }));\n        })\n    );\n    public readonly loading = this._state.loading;\n\n    constructor(\n        private _state: BookingFormService,\n        private _lockers: LockersService\n    ) {}\n\n    public isFavourite(locker_bank_id: string) {\n        return this.favorites.includes(locker_bank_id);\n    }\n\n    public selectLockerBank(locker_bank: BookingAsset) {\n        this.onSelect.emit(locker_bank);\n    }\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { MatBottomSheet } from '@angular/material/bottom-sheet';\nimport { AsyncHandler } from '@placeos/common';\n\nimport { LockerFiltersComponent } from './locker-filters.component';\nimport { BookingFormService } from '../booking-form.service';\nimport { endOfDay } from 'date-fns';\n\n@Component({\n    selector: 'locker-filters-display',\n    styles: [\n        `\n            [filter-item] {\n                display: flex;\n                align-items: center;\n                padding: 0 1rem;\n                height: 2rem;\n                font-size: 0.875rem;\n                border: 1px solid rgba(0, 0, 0, 0.2);\n                border-radius: 1.25rem;\n                margin-right: 0.5rem;\n                margin-bottom: 0.5rem;\n            }\n\n            [filter-item]:hover {\n                background: rgba(0, 0, 0, 0.1);\n            }\n\n            [filter-item] > * + * {\n                margin-left: 0.5rem;\n            }\n        `,\n    ],\n    template: `\n        <section\n            actions\n            class=\"sm:hidden space-x-2 flex flex-row items-center p-2\"\n        >\n            <button\n                btn\n                matRipple\n                name=\"edit-locker-filters\"\n                class=\"flex-1 w-1/2\"\n                (click)=\"editFilter()\"\n                i18n\n            >\n                Filters\n            </button>\n            <div class=\"flex items-center\">\n                <button\n                    btn\n                    matRipple\n                    name=\"view-locker-map\"\n                    class=\"rounded-l rounded-r-none\"\n                    [class.inverse]=\"view !== 'map'\"\n                    (click)=\"view = 'map'; viewChange.emit(view)\"\n                    i18n\n                >\n                    Map\n                </button>\n                <button\n                    btn\n                    matRipple\n                    name=\"view-locker-list\"\n                    class=\"rounded-r rounded-l-none\"\n                    [class.inverse]=\"view !== 'list'\"\n                    (click)=\"view = 'list'; viewChange.emit(view)\"\n                    i18n\n                >\n                    List\n                </button>\n            </div>\n        </section>\n        <section filters class=\"flex items-center flex-wrap p-2\">\n            <!-- TODO: filter chips -->\n            <div filter-item date>{{ start | date: 'mediumDate' }}</div>\n            <div filter-item time>\n                {{ start | date: 'shortTime' }} &mdash;\n                {{ end | date: 'shortTime' }}\n            </div>\n            <div\n                filter-item\n                features\n                *ngFor=\"let feat of (options | async)?.features || []\"\n            >\n                <p>{{ feat }}</p>\n                <button\n                    icon\n                    matRipple\n                    name=\"remove-locker-filter\"\n                    class=\"-mr-4\"\n                    (click)=\"setFeature(feat, false)\"\n                >\n                    <app-icon>close</app-icon>\n                </button>\n            </div>\n            <div filter-item *ngIf=\"(options | async)?.show_fav\">\n                <span i18n>Favourites Only</span>\n                <button\n                    icon\n                    matRipple\n                    name=\"remove-locker-favs-filter\"\n                    class=\"-mr-4\"\n                    (click)=\"setOptions({ show_fav: false })\"\n                >\n                    <app-icon>close</app-icon>\n                </button>\n            </div>\n        </section>\n    `,\n})\nexport class LockerFiltersDisplayComponent extends AsyncHandler {\n    @Input() public view: 'map' | 'list' = 'list';\n    @Output() public viewChange = new EventEmitter<'map' | 'list'>();\n    public readonly options = this._state.options;\n    public readonly setOptions = (o) => this._state.setOptions(o);\n    public readonly setFeature = (f, e) => this._state.setFeature(f, e);\n\n    public get start() {\n        return this._state.form.value.date;\n    }\n\n    public get end() {\n        const { date, duration, all_day } = this._state.form.value;\n        if (all_day) return endOfDay(date);\n        return date + duration * 60 * 1000;\n    }\n\n    public readonly editFilter = () =>\n        this._bsheet.open(LockerFiltersComponent);\n\n    constructor(\n        private _bsheet: MatBottomSheet,\n        private _state: BookingFormService\n    ) {\n        super();\n    }\n}\n","import { Component, Optional } from '@angular/core';\nimport { MatBottomSheetRef } from '@angular/material/bottom-sheet';\nimport { SettingsService } from '@placeos/common';\nimport { addDays, endOfDay } from 'date-fns';\n\nimport { OrganisationService } from 'libs/organisation/src/lib/organisation.service';\nimport { BookingFormService } from '../booking-form.service';\n\n@Component({\n    selector: 'locker-filters',\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                width: 100%;\n                max-width: 100vw;\n            }\n        `,\n    ],\n    template: `\n        <div\n            class=\"flex rounded-t-md items-center border-b border-gray-200 dark:border-neutral-500 pb-2 sm:p-4\"\n        >\n            <div class=\"flex-1 pl-2\">\n                <button\n                    icon\n                    matRipple\n                    name=\"close-locker-filters\"\n                    class=\"sm:hidden\"\n                    *ngIf=\"can_close\"\n                    (click)=\"close()\"\n                >\n                    <app-icon>keyboard_arrow_left</app-icon>\n                </button>\n            </div>\n            <h3 class=\"font-medium flex-2 text-center\" i18n>Locker Filters</h3>\n            <div class=\"flex-1\"></div>\n        </div>\n        <form\n            class=\"max-h-[65vh] p-2 overflow-y-auto overflow-x-hidden divide-y divide-gray-200 w-full max-w-[100vw] sm:max-w-[30vw]\"\n            [formGroup]=\"form\"\n        >\n            <section details>\n                <h2 class=\"text-lg font-medium\" i18n>Details</h2>\n                <!-- Building -->\n                <div\n                    *ngIf=\"(buildings | async)?.length\"\n                    class=\"flex-1 min-w-[256px] flex flex-col\"\n                >\n                    <label i18n>Building</label>\n                    <mat-form-field appearance=\"outline\" class=\"w-full\">\n                        <mat-select\n                            name=\"building\"\n                            placeholder=\"Select building\"\n                            [(ngModel)]=\"building\"\n                            (ngModelChange)=\"\n                                setOptions({\n                                    zone_id: $event?.id\n                                })\n                            \"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                        >\n                            <mat-option\n                                *ngFor=\"let bld of buildings | async\"\n                                [value]=\"bld\"\n                            >\n                                {{ bld.display_name || bld.name }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                </div>\n                <!-- level -->\n                <div\n                    *ngIf=\"(levels | async)?.length > 1\"\n                    class=\"flex-1 min-w-[256px] flex flex-col\"\n                >\n                    <label>Level</label>\n                    <mat-form-field appearance=\"outline\">\n                        <mat-select\n                            placeholder=\"Any Level\"\n                            ngModel\n                            [disabled]=\"!building\"\n                            (ngModelChange)=\"\n                                setOptions({\n                                    zone_id: $event || building.id\n                                })\n                            \"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                        >\n                            <mat-option\n                                *ngFor=\"let lvl of levels | async\"\n                                [value]=\"lvl.id\"\n                            >\n                                {{ lvl.display_name || lvl.name }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                </div>\n\n                <!-- Date -->\n                <div class=\"flex-1 min-w-[256px]\">\n                    <label i18n>Date</label>\n                    <a-date-field\n                        name=\"date\"\n                        formControlName=\"date\"\n                        [to]=\"end_date\"\n                    >\n                        {{ 'FORM.DATE_ERROR' | translate }}\n                    </a-date-field>\n                </div>\n                <!-- Start End -->\n                <div class=\"flex items-center space-x-2\">\n                    <div class=\"flex-1 w-1/3\">\n                        <label i18n>Start Time</label>\n                        <a-time-field\n                            name=\"start-time\"\n                            [ngModel]=\"form.value.date\"\n                            (ngModelChange)=\"form.patchValue({ date: $event })\"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                        ></a-time-field>\n                    </div>\n                    <div class=\"flex-1 w-1/3\">\n                        <label i18n>End Time</label>\n                        <a-duration-field\n                            formControlName=\"duration\"\n                            [time]=\"form.get('date')?.value\"\n                            [max]=\"12 * 60\"\n                            [min]=\"60\"\n                            [step]=\"60\"\n                        >\n                        </a-duration-field>\n                    </div>\n                </div>\n            </section>\n            <section favs class=\"space-y-2 pb-4\">\n                <h2 class=\"text-lg font-medium\" i18n>\n                    {{ 'COMMON.FAVOURITES' | translate }}\n                </h2>\n                <div class=\"flex items-center\">\n                    <div for=\"fav\" class=\"flex-1 w-1/2\" i18n>\n                        {{ 'LOCKERS.SHOW_FAVOURITES' | translate }}\n                    </div>\n                    <mat-checkbox\n                        name=\"fav\"\n                        [ngModel]=\"(options | async)?.show_fav\"\n                        (ngModelChange)=\"setOptions({ show_fav: $event })\"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                    >\n                    </mat-checkbox>\n                </div>\n            </section>\n            <section\n                class=\"space-y-2\"\n                features\n                *ngIf=\"(features | async)?.length\"\n            >\n                <h2 class=\"text-lg font-medium\" i18n>Type</h2>\n                <div\n                    *ngFor=\"let feat of features | async\"\n                    class=\"flex items-center flex-wrap space-x-2\"\n                >\n                    <div for=\"feat\" class=\"flex-1 w-1/2\">{{ feat }}</div>\n                    <mat-checkbox\n                        [ngModel]=\"\n                            ((options | async)?.features || []).includes(feat)\n                        \"\n                        (ngModelChange)=\"setFeature(feat, $event)\"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                    ></mat-checkbox>\n                </div>\n            </section>\n        </form>\n        <div\n            class=\"px-2 py-2 w-full border-t border-gray-200\"\n            *ngIf=\"can_close\"\n        >\n            <button\n                btn\n                matRipple\n                name=\"apply-locker-filters\"\n                class=\"w-full\"\n                (click)=\"close()\"\n                i18n\n            >\n                Apply Filters\n            </button>\n        </div>\n    `,\n})\nexport class LockerFiltersComponent {\n    public can_close = false;\n    public readonly options = this._state.options;\n    public readonly features = this._state.features;\n    public readonly buildings = this._org.active_buildings;\n    public readonly levels = this._org.active_levels;\n    public readonly form = this._state.form;\n\n    public get building() {\n        return this._org.building;\n    }\n    public set building(bld) {\n        this._org.building = bld;\n    }\n\n    public readonly close = () => this._bsheet_ref.dismiss();\n    public readonly setOptions = (o) => this._state.setOptions(o);\n    public readonly setFeature = (f, e) => this._state.setFeature(f, e);\n    public readonly setLevel = (l) => {};\n\n    public get allow_time_changes() {\n        return !!this._settings.get('app.lockers.allow_time_changes');\n    }\n    public get allow_all_day() {\n        return (\n            this.allow_time_changes &&\n            !!this._settings.get('app.lockers.allow_all_day')\n        );\n    }\n\n    public get end_date() {\n        return endOfDay(\n            addDays(\n                Date.now(),\n                this._settings.get('app.lockers.available_period') || 90\n            )\n        );\n    }\n\n    constructor(\n        @Optional()\n        private _bsheet_ref: MatBottomSheetRef<LockerFiltersComponent>,\n        private _state: BookingFormService,\n        private _org: OrganisationService,\n        private _settings: SettingsService\n    ) {\n        this.can_close = !!this._bsheet_ref;\n    }\n}\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { AsyncHandler, SettingsService, unique } from '@placeos/common';\nimport { map } from 'rxjs/operators';\n\nimport { BookingAsset, BookingFormService } from '../booking-form.service';\nimport { combineLatest } from 'rxjs';\nimport { DEFAULT_COLOURS } from 'libs/explore/src/lib/explore-spaces.service';\nimport { ExploreLockerBankInfoComponent } from 'libs/explore/src/lib/explore-locker-bank-info.component';\n\n@Component({\n    selector: 'locker-map',\n    styles: [\n        `\n            :host {\n                position: relative;\n                background: rgba(0, 0, 0, 0.05);\n                padding-top: 4rem;\n            }\n\n            button {\n                border-radius: 0;\n            }\n        `,\n    ],\n    template: `\n        <i-map\n            [src]=\"map_url\"\n            [(zoom)]=\"zoom\"\n            [(center)]=\"center\"\n            [features]=\"features | async\"\n            [styles]=\"styles | async\"\n            [actions]=\"actions | async\"\n        ></i-map>\n        <div\n            class=\"absolute inset-x-0 top-0 bg-white p-2 border-b border-gray-200\"\n        >\n            <mat-form-field\n                levels\n                appearance=\"outline\"\n                class=\"w-full h-[3.25rem]\"\n            >\n                <mat-select\n                    [(ngModel)]=\"level\"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    <mat-option\n                        *ngFor=\"let lvl of levels | async\"\n                        [value]=\"lvl\"\n                    >\n                        {{ lvl.display_name || lvl.name }}\n                    </mat-option>\n                </mat-select>\n            </mat-form-field>\n        </div>\n        <div\n            zoom\n            class=\"absolute bottom-2 right-2 rounded-lg border border-gray-200 bg-white flex flex-col overflow-hidden\"\n        >\n            <button zoom-in icon matRipple (click)=\"setZoom(zoom * 1.1)\">\n                <app-icon>zoom_in</app-icon>\n            </button>\n            <div class=\"border-t border-gray-200 w-full\"></div>\n            <button zoom-out icon matRipple (click)=\"setZoom(zoom * (1 / 1.1))\">\n                <app-icon>zoom_out</app-icon>\n            </button>\n            <div class=\"border-t border-gray-200 w-full\"></div>\n            <button reset icon matRipple (click)=\"resetMap()\">\n                <app-icon>refresh</app-icon>\n            </button>\n        </div>\n    `,\n})\nexport class LockerMapComponent extends AsyncHandler implements OnInit {\n    @Input() public is_displayed: boolean = false;\n    @Output() public onSelect = new EventEmitter<BookingAsset>();\n\n    public readonly lockers = this._state.available_resources;\n    public readonly loading = this._state.loading;\n\n    public zoom = 1;\n    public center = { x: 0.5, y: 0.5 };\n    public level;\n\n    public readonly setOptions = (o) => this._state.setOptions(o);\n\n    public get map_url() {\n        return this.level?.map_id || '';\n    }\n\n    public readonly levels = this._state.available_resources.pipe(\n        map((lockers) =>\n            unique(\n                lockers.map((locker) => locker.zone),\n                'id'\n            )\n        )\n    );\n\n    public readonly actions = this._state.available_resources.pipe(\n        map((lockers) =>\n            lockers.map((locker) => ({\n                id: locker.map_id || locker.id,\n                action: ['touchend', 'mouseup'],\n                callback: () => this.selectLocker(locker as any),\n            }))\n        )\n    );\n\n    public readonly features = this._state.resources.pipe(\n        map((lockers) => {\n            return this._settings.get('app.lockers.hide_user')\n                ? []\n                : lockers.map((locker) => ({\n                      location: locker.id,\n                      content: ExploreLockerBankInfoComponent,\n                      full_size: true,\n                      no_scale: true,\n                      data: {\n                          id: locker.map_id || locker.id,\n                          map_id: locker.name,\n                          name: locker.name || locker.map_id,\n                          user: this._state.resourceUserName(locker.id),\n                      },\n                      z_index: 20,\n                  }));\n        })\n    );\n\n    public readonly styles = combineLatest([\n        this._state.resources,\n        this._state.available_resources,\n    ]).pipe(\n        map(([lockers, free_lockers]) =>\n            lockers.reduce((styles, locker) => {\n                const colours = this._settings.get('app.explore.colors') || {};\n                const status = free_lockers.find((_) => _.id === locker.id)\n                    ? 'free'\n                    : 'busy';\n                styles[`#${locker.map_id || locker.id}`] = {\n                    fill:\n                        colours[`locker-${status}`] ||\n                        colours[`${status}`] ||\n                        DEFAULT_COLOURS[`${status}`],\n                };\n                return styles;\n            }, {})\n        )\n    );\n\n    constructor(\n        private _state: BookingFormService,\n        private _settings: SettingsService\n    ) {\n        super();\n    }\n\n    ngOnInit(): void {\n        this.subscription(\n            'levels_update',\n            this.levels.subscribe((levels) => {\n                if (!levels.find((_) => _.id === this.level?.id)) {\n                    this.level = levels[0];\n                }\n            })\n        );\n    }\n\n    public selectLocker(locker: BookingAsset) {\n        this.onSelect.emit(locker);\n    }\n\n    public setZoom(new_zoom: number) {\n        this.zoom = Math.max(0.5, Math.min(10, new_zoom));\n    }\n\n    public resetMap() {\n        this.zoom = 1;\n        this.center = { x: 0.5, y: 0.5 };\n    }\n}\n","import { Component, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { SettingsService } from '@placeos/common';\nimport {\n    BookingAsset,\n    BookingFlowOptions,\n    BookingFormService,\n} from '../booking-form.service';\nimport { LockerBank } from '../lockers.service';\n\nexport const FAV_LOCKER_KEY = 'favourite_lockers';\n\n@Component({\n    selector: 'locker-select-modal',\n    styles: [],\n    template: `\n        <div\n            class=\"w-[100vw] h-[100vh] sm:relative sm:w-auto sm:h-auto flex flex-col bg-white dark:bg-neutral-700\"\n        >\n            <header class=\"flex items-center space-x-4 w-full\">\n                <button icon mat-dialog-close class=\"bg-black/20\">\n                    <app-icon>close</app-icon>\n                </button>\n                <h3 i18n>Find Locker</h3>\n                <div class=\"hidden sm:flex items-center justify-end flex-1\">\n                    <button\n                        btn\n                        matRipple\n                        name=\"view-locker-map\"\n                        class=\"rounded-l rounded-r-none\"\n                        [class.inverse]=\"view !== 'map'\"\n                        (click)=\"view = 'map'\"\n                    >\n                        Map\n                    </button>\n                    <button\n                        btn\n                        matRipple\n                        name=\"view-locker-list\"\n                        class=\"rounded-r rounded-l-none\"\n                        [class.inverse]=\"view !== 'list'\"\n                        (click)=\"view = 'list'\"\n                    >\n                        List\n                    </button>\n                </div>\n            </header>\n            <main\n                class=\"flex-1 flex items-center divide-x divide-gray-200 dark:divide-neutral-500 min-h-[65vh] h-[65vh] sm:max-h-[65vh] sm:max-w-[95vw] w-full overflow-hidden\"\n            >\n                <locker-filters\n                    class=\"h-full hidden sm:flex max-w-[20rem] sm:h-[65vh] sm:max-h-full\"\n                ></locker-filters>\n                <div\n                    class=\"flex flex-col items-center flex-1 w-1/2 h-full sm:h-[65vh]\"\n                >\n                    <locker-filters-display\n                        class=\"w-full border-b border-gray-200 dark:border-neutral-500\"\n                        [(view)]=\"view\"\n                    ></locker-filters-display>\n                    <ng-container *ngIf=\"!bank; else bank_view\">\n                        <locker-bank-list\n                            *ngIf=\"view === 'list'; else map_view\"\n                            [active]=\"displayed?.id\"\n                            [selected]=\"selected_ids\"\n                            [favorites]=\"favorites\"\n                            (toggleFav)=\"toggleFavourite($event)\"\n                            (onSelect)=\"bank = $event\"\n                            class=\"flex-1 h-1/2 bg-black/5 dark:bg-white/10\"\n                        ></locker-bank-list>\n                    </ng-container>\n                </div>\n            </main>\n            <footer\n                class=\"flex sm:hidden flex-col-reverse items-center justify-end px-2 pt-2 pb-[5.5rem] border-t border-gray-200 dark:border-neutral-500 w-full\"\n            >\n                <button\n                    btn\n                    matRipple\n                    name=\"locker-return\"\n                    class=\"inverse sm:hidden w-full\"\n                    *ngIf=\"displayed\"\n                    (click)=\"displayed = null\"\n                    i18n\n                >\n                    Back\n                </button>\n                <button\n                    btn\n                    matRipple\n                    name=\"save-lockers\"\n                    [mat-dialog-close]=\"selected\"\n                    [class.mb-2]=\"displayed\"\n                    class=\"w-full sm:w-32 sm:mb-0\"\n                    i18n\n                >\n                    View List\n                </button>\n            </footer>\n            <footer\n                class=\"hidden sm:flex items-center justify-between p-2 border-t border-gray-200 dark:border-neutral-500 w-full\"\n            >\n                <button\n                    btn\n                    matRipple\n                    name=\"locker-return\"\n                    [mat-dialog-close]=\"selected\"\n                    class=\"clear text-primary\"\n                >\n                    <div class=\"flex items-center\">\n                        <app-icon class=\"text-xl\">arrow_back</app-icon>\n                        <div class=\"mr-1 underline\" i18n>Back to form</div>\n                    </div>\n                </button>\n                <p class=\"opacity-60 text-sm text-center\" i18n>\n                    {{ selected.length }} locker(s) added\n                </p>\n                <div class=\"flex items-center\">\n                    <button\n                        btn\n                        matRipple\n                        name=\"clear-bank\"\n                        *ngIf=\"bank\"\n                        class=\"inverse mr-2 w-32\"\n                        (click)=\"bank = null; displayed = null\"\n                    >\n                        Return\n                    </button>\n                    <button\n                        btn\n                        matRipple\n                        name=\"toggle-locker\"\n                        [disabled]=\"!displayed\"\n                        [class.inverse]=\"isSelected(displayed?.id)\"\n                        (click)=\"\n                            setSelected(displayed, !isSelected(displayed?.id))\n                        \"\n                    >\n                        <div class=\"flex items-center\">\n                            <app-icon class=\"text-xl\">{{\n                                isSelected(displayed?.id) ? 'remove' : 'add'\n                            }}</app-icon>\n                            <div class=\"mr-1\" i18n>\n                                {{\n                                    isSelected(displayed?.id)\n                                        ? 'Remove from Booking'\n                                        : 'Add to booking'\n                                }}\n                            </div>\n                        </div>\n                    </button>\n                </div>\n            </footer>\n        </div>\n        <ng-template #map_view>\n            <locker-map\n                class=\"flex-1 h-1/2 w-full\"\n                [is_displayed]=\"!!displayed\"\n                (onSelect)=\"displayed = $event\"\n            >\n            </locker-map>\n        </ng-template>\n        <ng-template #bank_view>\n            <locker-grid\n                class=\"flex-1 h-1/2 bg-black/5 dark:bg-white/10\"\n                [bank]=\"bank\"\n                [selected]=\"displayed?.id\"\n                (clicked)=\"displayed = $event\"\n            >\n            </locker-grid>\n        </ng-template>\n    `,\n})\nexport class LockerSelectModalComponent {\n    public displayed?: BookingAsset;\n    public selected: BookingAsset[] = [];\n    public view = 'list';\n    public bank?: LockerBank = null;\n\n    public get selected_ids() {\n        return this.selected.map((_) => _.id).join(',');\n    }\n\n    public get favorites() {\n        return this._settings.get<string[]>(FAV_LOCKER_KEY) || [];\n    }\n\n    constructor(\n        private _dialog_ref: MatDialogRef<LockerSelectModalComponent>,\n        private _settings: SettingsService,\n        private _event_form: BookingFormService,\n        @Inject(MAT_DIALOG_DATA)\n        private _data: {\n            items: BookingAsset[];\n            options: Partial<BookingFlowOptions>;\n        }\n    ) {\n        this.selected = [...(_data.items || [])];\n        this._event_form.setOptions(_data.options);\n    }\n\n    public isSelected(id: string) {\n        return id && this.selected_ids.includes(id);\n    }\n\n    public setSelected(item: BookingAsset, state: boolean) {\n        const list = this.selected.filter((_) => _.id !== item.id);\n        if (state) list.push(item);\n        this.selected = list;\n        if (!this._data.options.group && state) this._dialog_ref.close([item]);\n    }\n\n    public toggleFavourite(item: BookingAsset) {\n        const fav_list = this.favorites;\n        const new_state = !fav_list.includes(item.id);\n        if (new_state) {\n            this._settings.saveUserSetting(FAV_LOCKER_KEY, [\n                ...fav_list,\n                item.id,\n            ]);\n        } else {\n            this._settings.saveUserSetting(\n                FAV_LOCKER_KEY,\n                fav_list.filter((_) => _ !== item.id)\n            );\n        }\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { flatten } from '@placeos/common';\nimport {\n    PlaceMetadata,\n    PlaceZoneMetadata,\n    listChildMetadata,\n    updateMetadata,\n} from '@placeos/ts-client';\nimport { BehaviorSubject, combineLatest, of } from 'rxjs';\nimport {\n    catchError,\n    filter,\n    map,\n    shareReplay,\n    switchMap,\n} from 'rxjs/operators';\n\nimport { OrganisationService } from 'libs/organisation/src/lib/organisation.service';\n\nexport interface LockerBank {\n    id: string;\n    map_id: string;\n    level_id: string;\n    name: string;\n    height: number;\n    lockers: Locker[];\n}\n\nexport interface Locker {\n    id: string;\n    bank_id: string;\n    name: string;\n    accessible: boolean;\n    bookable: boolean;\n    position: [number, number];\n    size: [number, number];\n}\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class LockersService {\n    private _level = new BehaviorSubject('');\n    private _change = new BehaviorSubject(0);\n    public readonly lockers_banks$ = combineLatest([\n        this._org.active_building,\n        this._change,\n    ]).pipe(\n        filter(([bld]) => !!bld),\n        switchMap(([bld]) =>\n            listChildMetadata(bld.id, { name: 'lockers' }).pipe(\n                catchError(() => of(new PlaceMetadata()))\n            )\n        ),\n        map((_: PlaceZoneMetadata[]) =>\n            flatten(\n                _.map((_) =>\n                    _.metadata.lockers?.details instanceof Array\n                        ? _.metadata.lockers?.details.map((bank) => ({\n                              ...bank,\n                              zone: _.zone,\n                          }))\n                        : []\n                )\n            )\n        ),\n        shareReplay(1)\n    );\n\n    public readonly lockers$ = this.lockers_banks$.pipe(\n        map((bank_list) => {\n            const lockers = [];\n            for (const bank of bank_list) {\n                lockers.push(\n                    ...bank.lockers.map(\n                        (_) =>\n                            ({\n                                ..._,\n                                bank_id: bank.id,\n                                level_id: bank.zone.id,\n                            } as Locker)\n                    )\n                );\n            }\n            return lockers;\n        })\n    );\n\n    public readonly filtered_lockers$ = combineLatest([\n        this._level,\n        this.lockers$,\n    ]).pipe(\n        map(([level, lockers]) =>\n            lockers.filter(\n                (_) => (!level || _.level_id === level) && _.bookable\n            )\n        )\n    );\n\n    public setLevel(level: string) {\n        this._level.next(level);\n    }\n\n    constructor(private _org: OrganisationService) {}\n\n    public async saveLockers(lockers: LockerBank[]) {\n        await updateMetadata(this._org.building.id, {\n            name: 'lockers',\n            description: '',\n            details: lockers,\n        });\n        this._change.next(Date.now());\n    }\n}\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n    SimpleChanges,\n} from '@angular/core';\nimport { MapPinComponent } from '@placeos/components';\nimport { OrganisationService } from '@placeos/organisation';\nimport { ViewerFeature } from '@placeos/svg-viewer';\nimport { BookingAsset } from '../booking-form.service';\n\n@Component({\n    selector: `parking-space-details`,\n    template: `\n        <ng-container *ngIf=\"space; else empty_state\">\n            <section\n                image\n                class=\"relative w-full bg-black/20\"\n                [class.sm:h-40]=\"space.images?.length\"\n                [class.h-64]=\"space.images?.length\"\n                [class.sm:h-0]=\"!space.images?.length\"\n                [class.h-12]=\"!space.images?.length\"\n                [class.!bg-transparent]=\"!space.images?.length\"\n            >\n                <image-carousel\n                    [images]=\"space.images\"\n                    *ngIf=\"space.images?.length\"\n                    class=\"absolute inset-0\"\n                ></image-carousel>\n                <button\n                    icon\n                    matRipple\n                    close\n                    (click)=\"close.emit()\"\n                    class=\"absolute top-2 left-2 bg-black/40 sm:hidden text-white\"\n                >\n                    <app-icon>arrow_back</app-icon>\n                </button>\n                <button\n                    icon\n                    matRipple\n                    fav\n                    [class.text-white]=\"!fav\"\n                    [class.text-blue-400]=\"fav\"\n                    (click)=\"toggleFav.emit()\"\n                    class=\"absolute top-2 right-2 bg-black/40\"\n                >\n                    <app-icon>{{\n                        fav ? 'favorite' : 'favorite_border'\n                    }}</app-icon>\n                </button>\n            </section>\n            <div class=\"p-2 space-y-2 flex-1 h-1/2 overflow-auto\">\n                <section actions class=\"z-0\">\n                    <h2 class=\"text-xl font-medium mb-2 mt-4\">\n                        {{ space.display_name || space.name }}\n                    </h2>\n                </section>\n                <hr />\n                <section details class=\"space-y-2\">\n                    <h2 class=\"text-xl font-medium\" i18n>Details</h2>\n                    <div class=\"flex items-center space-x-2\">\n                        <app-icon>people</app-icon>\n                        <p i18n>{{ space.capacity }} People</p>\n                    </div>\n                    <div class=\"flex items-center space-x-2\">\n                        <app-icon>meeting_room</app-icon>\n                        <p>\n                            {{ level?.display_name || level?.name }}\n                        </p>\n                    </div>\n                    <div class=\"flex items-center space-x-2\">\n                        <app-icon>place</app-icon>\n                        <p>\n                            {{\n                                building?.address ||\n                                    building?.display_name ||\n                                    building?.name\n                            }}\n                        </p>\n                    </div>\n                </section>\n                <hr />\n                <section facilities class=\"space-y-2\">\n                    <h2 class=\"text-xl font-medium\" i18n>Room Facilities</h2>\n                    <div class=\"flex items-center space-x-2\">\n                        <app-icon>people</app-icon>\n                        <p i18n>WiFi Available</p>\n                    </div>\n                    <div class=\"flex items-center space-x-2\">\n                        <app-icon>restaurant</app-icon>\n                        <p i18n>Catering Available</p>\n                    </div>\n                    <div class=\"flex items-center space-x-2\">\n                        <app-icon>edit</app-icon>\n                        <p i18n>Whiteboard</p>\n                    </div>\n                </section>\n                <section\n                    map\n                    class=\"w-full mx-auto h-64 sm:h-48 relative border border-gray-200 overflow-hidden rounded\"\n                >\n                    <interactive-map\n                        class=\"pointer-events-none\"\n                        [src]=\"map_url\"\n                        [features]=\"features\"\n                        [options]=\"{ disable_pan: true, disable_zoom: true }\"\n                    ></interactive-map>\n                </section>\n            </div>\n            <div class=\"p-2 border-t border-gray-200 shadow sm:hidden\">\n                <button\n                    btn\n                    matRipple\n                    [class.inverse]=\"active\"\n                    class=\"w-full\"\n                    (click)=\"active = !active; activeChange.emit(active)\"\n                >\n                    <div class=\"flex items-center justify-center\">\n                        <app-icon class=\"text-2xl\">{{\n                            active ? 'remove' : 'add'\n                        }}</app-icon>\n                        <p>\n                            {{ active ? 'Remove this room' : 'Add this room' }}\n                        </p>\n                    </div>\n                </button>\n            </div>\n        </ng-container>\n        <ng-template #empty_state>\n            <div\n                empty\n                class=\"p-16 flex flex-col items-center justify-center space-y-2\"\n            >\n                <p class=\"opacity-30 text-center\" i18n>\n                    Select a space to view it's details\n                </p>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                width: 30%;\n                min-width: 20rem;\n                height: 100%;\n                min-height: 65vh;\n            }\n        `,\n    ],\n})\nexport class ParkingSpaceDetailsComponent {\n    @Input() public space?: BookingAsset;\n    @Input() public fav: boolean = false;\n    @Input() public active: boolean = false;\n\n    @Output() public activeChange = new EventEmitter<boolean>();\n    @Output() public close = new EventEmitter<void>();\n    @Output() public toggleFav = new EventEmitter<void>();\n\n    public map_url = '';\n    public features: ViewerFeature[] = [];\n\n    public get level() {\n        return this._org.levelWithID([this.space?.zone.id]) || this.space?.zone;\n    }\n\n    public get building() {\n        return this._org.buildings.find(\n            (_) =>\n                this.space?.zone.id === _.id ||\n                this.space?.zone.parent_id === _.id\n        );\n    }\n\n    constructor(private _org: OrganisationService) {}\n\n    public ngOnChanges(changes: SimpleChanges) {\n        if (changes.space && this.space) {\n            this._updateFeature();\n        }\n    }\n\n    private _updateFeature() {\n        this.map_url = this.level?.map_id;\n        this.features = [\n            {\n                location: this.space?.map_id,\n                content: MapPinComponent,\n            },\n        ];\n    }\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { MatBottomSheet } from '@angular/material/bottom-sheet';\nimport { AsyncHandler } from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\nimport { OrganisationService } from '@placeos/organisation';\nimport { take } from 'rxjs/operators';\nimport { ParkingSpaceFiltersComponent } from './parking-filters.component';\n\n@Component({\n    selector: `parking-space-filters-display`,\n    template: `\n        <section actions class=\"sm:hidden space-x-2 flex items-center p-2\">\n            <button\n                matRipple\n                filters\n                class=\"flex-1 w-1/2\"\n                (click)=\"editFilters()\"\n                i18n\n            >\n                Filters\n            </button>\n            <div class=\"flex items-center\">\n                <button\n                    matRipple\n                    map\n                    class=\"rounded-l rounded-r-none\"\n                    [class.inverse]=\"view !== 'map'\"\n                    (click)=\"view = 'map'; viewChange.emit(view)\"\n                    i18n\n                >\n                    Map\n                </button>\n                <button\n                    matRipple\n                    list\n                    class=\"rounded-r rounded-l-none\"\n                    [class.inverse]=\"view !== 'list'\"\n                    (click)=\"view = 'list'; viewChange.emit(view)\"\n                    i18n\n                >\n                    List\n                </button>\n            </div>\n        </section>\n        <section filters class=\"flex items-center flex-wrap p-2\">\n            <div\n                filter-item\n                zone\n                class=\"dark:border-neutral-500\"\n                *ngIf=\"location\"\n            >\n                {{ location }}\n            </div>\n            <div filter-item date class=\"dark:border-neutral-500\">\n                {{ start | date: 'mediumDate' }}\n            </div>\n            <div filter-item time class=\"dark:border-neutral-500\">\n                {{ start | date: 'shortTime' }} &mdash;\n                {{ end | date: 'shortTime' }}\n            </div>\n            <div filter-item count class=\"dark:border-neutral-500\" i18n>\n                Min. {{ (options | async)?.capcaity || 2 }} People\n            </div>\n            <div filter-item *ngFor=\"let feat of (options | async)?.features\">\n                <p>{{ feat }}</p>\n                <button\n                    icon\n                    matRipple\n                    class=\"-mr-4 dark:border-neutral-500\"\n                    (click)=\"removeFeature(feat)\"\n                >\n                    <app-icon>close</app-icon>\n                </button>\n            </div>\n        </section>\n    `,\n    styles: [\n        `\n            [filter-item] {\n                display: flex;\n                align-items: center;\n                padding: 0 1rem;\n                height: 2rem;\n                font-size: 0.875rem;\n                border: 1px solid rgba(0, 0, 0, 0.2);\n                border-radius: 1.25rem;\n                margin-right: 0.5rem;\n                margin-bottom: 0.5rem;\n            }\n\n            [filter-item]:hover {\n                background: rgba(0, 0, 0, 0.1);\n            }\n\n            [filter-item] > * + * {\n                margin-left: 0.5rem;\n            }\n        `,\n    ],\n})\nexport class ParkingSpaceFiltersDisplayComponent extends AsyncHandler {\n    @Input() public view: 'map' | 'list' = 'list';\n    @Output() public viewChange = new EventEmitter<'map' | 'list'>();\n    public readonly options = this._event_form.options;\n    public location: string = '';\n\n    public get start() {\n        return this._event_form.form.value.date;\n    }\n\n    public get end() {\n        const { date, duration } = this._event_form.form.value;\n        return date + duration * 60 * 1000;\n    }\n\n    public readonly editFilters = () =>\n        this._bsheet.open(ParkingSpaceFiltersComponent);\n\n    constructor(\n        private _bsheet: MatBottomSheet,\n        private _event_form: EventFormService,\n        private _org: OrganisationService\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.subscription(\n            'opts',\n            this.options.subscribe(({ zone_ids }) =>\n                this._updateLocation(zone_ids)\n            )\n        );\n    }\n\n    public async removeFeature(feat: string) {\n        const value = await this._event_form.options.pipe(take(1)).toPromise();\n        this._event_form.setOptions({\n            ...value,\n            features: (value.features || []).filter((_) => _ !== feat),\n        });\n    }\n\n    private _updateLocation(zone_ids: string[] = []) {\n        const level = this._org.levelWithID(zone_ids);\n        const item = level || this._org.building;\n        this.location = item?.display_name || item?.name || '';\n    }\n}\n","import { Component, Optional } from '@angular/core';\nimport { MatBottomSheetRef } from '@angular/material/bottom-sheet';\nimport { SettingsService } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { map, take } from 'rxjs/operators';\nimport { BookingFormService } from '../booking-form.service';\n\n@Component({\n    selector: `parking-space-filters`,\n    template: `\n        <div class=\"flex items-center border-b border-gray-200 pb-2 sm:hidden\">\n            <div class=\"flex-1 pl-2\">\n                <button\n                    icon\n                    matRipple\n                    close\n                    *ngIf=\"can_close\"\n                    (click)=\"close()\"\n                >\n                    <app-icon>keyboard_arrow_left</app-icon>\n                </button>\n            </div>\n            <h3 class=\"font-medium flex-2 text-center\" i18n>Space Filters</h3>\n            <div class=\"flex-1\"></div>\n        </div>\n        <form\n            class=\"max-h-[65vh] p-2 overflow-y-auto overflow-x-hidden divide-y divide-gray-200 w-full max-w-[100vw]\"\n            [formGroup]=\"form\"\n        >\n            <section details>\n                <h2 class=\"text-lg font-medium\" i18n>Details</h2>\n                <div class=\"flex-1 min-w-[256px] flex flex-col\">\n                    <label for=\"location\" i18n>Location</label>\n                    <mat-form-field appearance=\"outline\" class=\"w-full\">\n                        <mat-select\n                            name=\"location\"\n                            [ngModel]=\"(options | async)?.zone_ids\"\n                            (ngModelChange)=\"setOptions({ zone_ids: $event })\"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                            [placeholder]=\"bld?.display_name || bld?.name\"\n                            [multiple]=\"true\"\n                        >\n                            <mat-option\n                                *ngFor=\"let lvl of levels | async\"\n                                [value]=\"lvl.id\"\n                            >\n                                {{ lvl.bld }},\n                                {{ lvl.display_name || lvl.name }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                </div>\n                <div class=\"flex-1 min-w-[256px]\">\n                    <label for=\"date\" i18n>Date<span>*</span></label>\n                    <a-date-field name=\"date\" formControlName=\"date\" i18n>\n                        Date and time must be in the future\n                    </a-date-field>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <div class=\"flex-1 w-1/3\">\n                        <label for=\"start-time\" i18n\n                            >Start Time<span>*</span></label\n                        >\n                        <a-time-field\n                            name=\"start-time\"\n                            [ngModel]=\"form.value.date\"\n                            (ngModelChange)=\"form.patchValue({ date: $event })\"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                        ></a-time-field>\n                    </div>\n                    <div class=\"flex-1 w-1/3\">\n                        <label for=\"end-time\" i18n\n                            >End Time<span>*</span></label\n                        >\n                        <a-duration-field\n                            name=\"end-time\"\n                            formControlName=\"duration\"\n                            [time]=\"form?.value?.date\"\n                            [max]=\"max_duration\"\n                        >\n                        </a-duration-field>\n                    </div>\n                </div>\n            </section>\n            <section favs class=\"space-y-2 pb-4\">\n                <h2 class=\"text-lg font-medium\" i18n>Favourites</h2>\n                <div class=\"flex items-center\">\n                    <div for=\"fav\" class=\"flex-1 w-1/2\" i18n>\n                        Only show favourite spaces\n                    </div>\n                    <mat-checkbox\n                        name=\"fav\"\n                        [ngModel]=\"(options | async)?.show_fav\"\n                        (ngModelChange)=\"setOptions({ show_fav: $event })\"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                    >\n                    </mat-checkbox>\n                </div>\n            </section>\n            <section\n                features\n                class=\"space-y-2\"\n                *ngIf=\"(features | async)?.length\"\n            >\n                <h2 class=\"text-lg font-medium\" i18n>Facilities</h2>\n                <div\n                    class=\"flex items-center\"\n                    *ngFor=\"let feat of features | async\"\n                >\n                    <div for=\"feat\" class=\"flex-1 w-1/2\">{{ feat }}</div>\n                    <mat-checkbox\n                        name=\"feat\"\n                        [ngModel]=\"(options | async)?.features?.includes(feat)\"\n                        (ngModelChange)=\"toggleFeature(feat, $event)\"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                    ></mat-checkbox>\n                </div>\n            </section>\n        </form>\n        <div\n            class=\"px-2 pt-2 w-full border-t border-gray-200\"\n            *ngIf=\"can_close\"\n        >\n            <button btn matRipple close class=\"w-full\" (click)=\"close()\" i18n>\n                Apply Filters\n            </button>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                width: 100%;\n                max-width: 100vw;\n            }\n        `,\n    ],\n})\nexport class ParkingSpaceFiltersComponent {\n    public can_close = false;\n    public readonly options = this._form.options;\n\n    public readonly levels = this._org.level_list.pipe(\n        map((l) => {\n            for (const lvl of l) {\n                const bld = this._org.buildings.find(\n                    (_) => _.id === lvl.parent_id\n                );\n                (lvl as any).bld = bld?.display_name || bld?.name || '';\n            }\n            return l;\n        })\n    );\n    public readonly features = this._form.features;\n\n    public readonly close = () => this._bsheet_ref.dismiss();\n    public readonly setOptions = (o) => this._form.setOptions(o);\n\n    public get bld() {\n        return this._org.building;\n    }\n\n    public get form() {\n        return this._form.form;\n    }\n\n    public get max_duration() {\n        return this._settings.get('app.events.max_duration') || 480;\n    }\n\n    constructor(\n        @Optional()\n        private _bsheet_ref: MatBottomSheetRef<ParkingSpaceFiltersComponent>,\n        private _settings: SettingsService,\n        private _form: BookingFormService,\n        private _org: OrganisationService\n    ) {\n        this.can_close = !!this._bsheet_ref;\n    }\n\n    public async toggleFeature(feat: string, state: boolean) {\n        const { features } = await this.options.pipe(take(1)).toPromise();\n        const new_list = (features || []).filter((_) => feat !== _);\n        if (state) new_list.push(feat);\n        this.setOptions({ features: new_list });\n    }\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { EventFormService } from '@placeos/events';\nimport { combineLatest } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { BookingAsset, BookingFormService } from '../booking-form.service';\n\n@Component({\n    selector: `parking-space-list`,\n    template: `\n        <h3 class=\"font-bold\" i18n>Results</h3>\n        <p count class=\"text-sm opacity-60 mb-4\" i18n>\n            {{ (assets | async)?.length || 0 }} result(s) found\n        </p>\n        <ng-container *ngIf=\"!(loading | async); else load_state\">\n            <ul\n                class=\"list-style-none space-y-2\"\n                *ngIf=\"(assets | async)?.length; else empty_state\"\n            >\n                <li\n                    space\n                    *ngFor=\"let space of assets | async\"\n                    [class.!border-blue-400]=\"active === space.id\"\n                    class=\"relative p-2 rounded-lg w-full shadow border bg-white dark:bg-neutral-700 border-gray-200 dark:border-neutral-500\"\n                >\n                    <button\n                        matRipple\n                        select\n                        class=\"w-full h-full flex items-center\"\n                        (click)=\"selectSpace(space)\"\n                    >\n                        <div\n                            class=\"relative w-20 h-20 rounded-xl bg-black/20 dark:bg-white/30 mr-4 overflow-hidden flex items-center justify-center\"\n                        >\n                            <div\n                                class=\"absolute top-1 left-1 border border-white bg-black/50 rounded-full h-6 w-6 flex items-center justify-center text-white\"\n                                *ngIf=\"selected.includes(space.id)\"\n                            >\n                                <app-icon>done</app-icon>\n                            </div>\n                            <img\n                                *ngIf=\"space.images?.length; else placeholder\"\n                                class=\"object-cover h-full\"\n                                [src]=\"space.images[0]\"\n                            />\n                            <ng-template #placeholder>\n                                <img\n                                    class=\"m-auto\"\n                                    src=\"assets/icons/car-placeholder.svg\"\n                                />\n                            </ng-template>\n                        </div>\n                        <div class=\"space-y-2\">\n                            <div class=\"font-medium truncate mr-10\">\n                                {{ space.name || 'Meeting Space' }}\n                            </div>\n                            <div class=\"flex items-center text-sm space-x-2\">\n                                <app-icon class=\"text-blue-500\">place</app-icon>\n                                <p>\n                                    {{\n                                        space.location ||\n                                            space.level?.display_name ||\n                                            space.level?.name ||\n                                            space.zone?.display_name ||\n                                            space.zone?.name\n                                    }}\n                                </p>\n                            </div>\n                            <div class=\"flex items-center text-sm space-x-2\">\n                                <app-icon class=\"text-blue-500\"\n                                    >people</app-icon\n                                >\n                                <p i18n>\n                                    {{\n                                        space.capacity < 1 ? 2 : space.capacity\n                                    }}\n                                    People\n                                </p>\n                            </div>\n                        </div>\n                    </button>\n                    <button\n                        icon\n                        matRipple\n                        fav\n                        class=\"absolute top-1 right-1\"\n                        [class.text-blue-400]=\"isFavourite(space.id)\"\n                        (click)=\"toggleFav.emit(space)\"\n                    >\n                        <app-icon>{{\n                            isFavourite(space.id)\n                                ? 'favorite'\n                                : 'favorite_border'\n                        }}</app-icon>\n                    </button>\n                </li>\n            </ul>\n        </ng-container>\n        <ng-template #empty_state>\n            <div\n                empty\n                class=\"p-16 flex flex-col items-center justify-center space-y-2\"\n            >\n                <p class=\"opacity-30 text-center\" i18n>\n                    No available spaces for selected time and/or filters\n                </p>\n            </div>\n        </ng-template>\n        <ng-template #load_state>\n            <div\n                loading\n                class=\"p-16 flex flex-col items-center justify-center space-y-2\"\n            >\n                <mat-spinner [diameter]=\"32\"></mat-spinner>\n                <p class=\"opacity-30\" i18n>Finding available spaces...</p>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                width: 100%;\n                height: 100%;\n                padding: 0.5rem;\n                overflow: auto;\n            }\n        `,\n    ],\n})\nexport class ParkingSpaceListComponent {\n    @Input() public active: string = '';\n    @Input() public selected: string = '';\n    @Input() public favorites: string[] = [];\n    @Output() public onSelect = new EventEmitter<BookingAsset>();\n    @Output() public toggleFav = new EventEmitter<BookingAsset>();\n\n    public readonly assets = combineLatest([\n        this._form.options,\n        this._form.available_resources,\n    ]).pipe(\n        map(([{ show_fav }, _]) =>\n            _.filter((i) => !show_fav || this.isFavourite(i.id))\n        )\n    );\n    public readonly loading = this._form.loading;\n\n    constructor(private _form: BookingFormService) {}\n\n    public isFavourite(space_id: string) {\n        return this.favorites.includes(space_id);\n    }\n\n    public selectSpace(space: BookingAsset) {\n        this.onSelect.emit(space);\n    }\n}\n","import { Component, Inject } from '@angular/core';\nimport { MAP_FEATURE_DATA } from '@placeos/components';\n\n@Component({\n    selector: 'parking-space-location-pin',\n    template: `\n        <div class=\"absolute bottom-0 left-1/2 -translate-x-1/2\">\n            <svg\n                width=\"66\"\n                height=\"80\"\n                viewBox=\"0 0 66 80\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n            >\n                <g filter=\"url(#filter0_d_1065_10313)\">\n                    <path\n                        d=\"M19.724 53.0408C25.0871 60.3435 30.5582 65.8583 31.0184 66.3178C31.4558 66.755 32.0489 67.0007 32.6674 67.0008H32.6678C33.2863 67.0007 33.8795 66.755 34.3169 66.3178C34.7771 65.8583 40.2481 60.3435 45.6112 53.0408C48.2928 49.3894 50.963 45.2701 52.9663 41.0957C54.9629 36.935 56.3331 32.6459 56.3342 28.6724C56.364 25.5564 55.7725 22.4657 54.5941 19.5809C53.415 16.6946 51.6722 14.0724 49.4675 11.8677C47.2629 9.66308 44.6407 7.92024 41.7544 6.74121C38.8711 5.5634 35.782 4.97184 32.6676 5.00103C29.5533 4.97184 26.4642 5.5634 23.5809 6.74121C20.6946 7.92024 18.0724 9.66308 15.8677 11.8677C13.6631 14.0724 11.9202 16.6946 10.7412 19.5809C9.56278 22.4657 8.97122 25.5565 9.00108 28.6726C9.0022 32.646 10.3724 36.9351 12.369 41.0957C14.3723 45.2701 17.0425 49.3894 19.724 53.0408Z\"\n                        fill=\"#309251\"\n                        stroke=\"#0B421D\"\n                        stroke-width=\"2\"\n                    />\n                </g>\n                <defs>\n                    <filter\n                        id=\"filter0_d_1065_10313\"\n                        x=\"0\"\n                        y=\"0\"\n                        width=\"65.3353\"\n                        height=\"80.001\"\n                        filterUnits=\"userSpaceOnUse\"\n                        color-interpolation-filters=\"sRGB\"\n                    >\n                        <feFlood\n                            flood-opacity=\"0\"\n                            result=\"BackgroundImageFix\"\n                        />\n                        <feColorMatrix\n                            in=\"SourceAlpha\"\n                            type=\"matrix\"\n                            values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n                            result=\"hardAlpha\"\n                        />\n                        <feOffset dy=\"4\" />\n                        <feGaussianBlur stdDeviation=\"4\" />\n                        <feComposite in2=\"hardAlpha\" operator=\"out\" />\n                        <feColorMatrix\n                            type=\"matrix\"\n                            values=\"0 0 0 0 0.0196078 0 0 0 0 0.109804 0 0 0 0 0.172549 0 0 0 0.2 0\"\n                        />\n                        <feBlend\n                            mode=\"normal\"\n                            in2=\"BackgroundImageFix\"\n                            result=\"effect1_dropShadow_1065_10313\"\n                        />\n                        <feBlend\n                            mode=\"normal\"\n                            in=\"SourceGraphic\"\n                            in2=\"effect1_dropShadow_1065_10313\"\n                            result=\"shape\"\n                        />\n                    </filter>\n                </defs>\n            </svg>\n            <div\n                class=\"absolute top-0 left-0 w-full h-3/4 flex items-center justify-center\"\n            >\n                <div\n                    class=\"relative z-10 h-4 w-4 rounded-full bg-white border-2 border-[#0B421D]\"\n                    *ngIf=\"!selected\"\n                ></div>\n                <app-icon class=\"relative text-white z-10 text-2xl\" *ngIf=\"selected\">\n                    done\n                </app-icon>\n            </div>\n        </div>\n    `,\n    styles: [],\n})\nexport class ParkingSpaceLocationPinComponent {\n    public get selected() {\n        return this._data.selected === true;\n    }\n    constructor(@Inject(MAP_FEATURE_DATA) private _data: any) {}\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { AsyncHandler, unique } from '@placeos/common';\nimport { EventFormService } from '@placeos/events';\nimport { BuildingLevel } from '@placeos/organisation';\nimport { debounceTime, map } from 'rxjs/operators';\nimport { BookingAsset } from '../booking-form.service';\nimport { ParkingSpaceLocationPinComponent } from './parking-location-pin.component';\n\n@Component({\n    selector: `parking-space-map`,\n    template: `\n        <i-map\n            *ngIf=\"!is_displayed\"\n            [src]=\"map_url\"\n            [features]=\"features | async\"\n            [actions]=\"actions | async\"\n            [(zoom)]=\"zoom\"\n            [(center)]=\"center\"\n        ></i-map>\n        <div\n            class=\"absolute inset-x-0 top-0 bg-white p-2 border-b border-gray-200\"\n        >\n            <mat-form-field\n                levels\n                appearance=\"outline\"\n                class=\"w-full h-[3.25rem]\"\n            >\n                <mat-select [(ngModel)]=\"level\">\n                    <mat-option\n                        *ngFor=\"let opt of levels | async\"\n                        [value]=\"opt\"\n                    >\n                        {{ opt.display_name || opt.name }}\n                    </mat-option>\n                </mat-select>\n            </mat-form-field>\n        </div>\n        <div\n            zoom\n            class=\"absolute bottom-2 right-2 rounded-lg border border-gray-200 bg-white flex flex-col overflow-hidden\"\n        >\n            <button zoom-in icon matRipple (click)=\"setZoom(zoom * 1.1)\">\n                <app-icon>zoom_in</app-icon>\n            </button>\n            <div class=\"border-t border-gray-200 w-full\"></div>\n            <button zoom-out icon matRipple (click)=\"setZoom(zoom * (1 / 1.1))\">\n                <app-icon>zoom_out</app-icon>\n            </button>\n            <div class=\"border-t border-gray-200 w-full\"></div>\n            <button reset icon matRipple (click)=\"resetMap()\">\n                <app-icon>refresh</app-icon>\n            </button>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                position: relative;\n                background: rgba(0, 0, 0, 0.05);\n                padding-top: 4rem;\n            }\n\n            button {\n                border-radius: 0;\n            }\n        `,\n    ],\n})\nexport class ParkingSpaceSelectMapComponent extends AsyncHandler {\n    @Input() public selected: string[] = [];\n    @Input() public is_displayed: boolean = false;\n    @Output() public onSelect = new EventEmitter<BookingAsset>();\n\n    public zoom = 1;\n    public center = { x: 0.5, y: 0.5 };\n\n    private _seletedSpace = (s) => () => this.onSelect.emit(s);\n    public level: BuildingLevel = null;\n\n    public get map_url() {\n        return this.level?.map_id || '';\n    }\n\n    public readonly levels = this._event_form.available_spaces.pipe(\n        map((_) => unique(_.map(({ level }) => level)))\n    );\n\n    public readonly features = this._event_form.available_spaces.pipe(\n        debounceTime(1000),\n        map((l) =>\n            l.map((space) => ({\n                location: space.map_id,\n                content: ParkingSpaceLocationPinComponent,\n                data: {\n                    ...space,\n                    selected: this.selected.includes(space.id),\n                },\n            }))\n        )\n    );\n\n    public readonly actions = this._event_form.available_spaces.pipe(\n        map((l) =>\n            l.map((space) => ({\n                id: space.map_id,\n                action: ['touchend', 'mouseup'],\n                callback: this._seletedSpace(space),\n            }))\n        )\n    );\n\n    constructor(private _event_form: EventFormService) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.subscription(\n            'spaces',\n            this._event_form.available_spaces.subscribe((_) => {\n                if (!this.level && _.length) this.level = _[0].level;\n            })\n        );\n    }\n\n    public setZoom(new_zoom: number) {\n        this.zoom = Math.max(0.5, Math.min(10, new_zoom));\n    }\n\n    public resetMap() {\n        this.zoom = 1;\n        this.center = { x: 0.5, y: 0.5 };\n    }\n}\n","import { Component, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { SettingsService } from '@placeos/common';\nimport {\n    BookingAsset,\n    BookingFlowOptions,\n    BookingFormService,\n} from '../booking-form.service';\n\nexport const FAV_PARKING_KEY = 'favourite_parking_spaces';\n\n@Component({\n    selector: 'parking-space-select-modal',\n    template: `\n        <div\n            class=\"w-[100vw] h-[100vh] sm:relative sm:w-auto sm:h-auto flex flex-col bg-white dark:bg-neutral-700\"\n        >\n            <header class=\"flex items-center space-x-4 w-full\">\n                <button icon matRipple mat-dialog-close class=\"bg-black/20\">\n                    <app-icon>close</app-icon>\n                </button>\n                <h3 i18n>Find Parking Space</h3>\n            </header>\n            <main\n                class=\"flex-1 flex items-center divide-x divide-gray-200 dark:divide-neutral-500 min-h-[65vh] h-[65vh] sm:max-h-[65vh] sm:max-w-[95vw] w-full overflow-hidden\"\n            >\n                <parking-space-filters\n                    class=\"h-full hidden sm:flex max-w-[20rem] sm:h-[65vh] sm:max-h-full\"\n                ></parking-space-filters>\n                <div\n                    class=\"flex flex-col items-center flex-1 w-1/2 h-full sm:h-[65vh]\"\n                >\n                    <parking-space-filters-display\n                        class=\"w-full border-b border-gray-200 dark:border-neutral-500\"\n                        [(view)]=\"view\"\n                    ></parking-space-filters-display>\n                    <parking-space-list\n                        *ngIf=\"view === 'list'; else map_view\"\n                        [active]=\"displayed?.id\"\n                        [selected]=\"selected_ids\"\n                        [favorites]=\"favorites\"\n                        (toggleFav)=\"toggleFavourite($event)\"\n                        (onSelect)=\"displayed = $event\"\n                        class=\"flex-1 h-1/2 bg-black/5 dark:bg-white/10\"\n                    ></parking-space-list>\n                </div>\n                <parking-space-details\n                    [space]=\"displayed\"\n                    class=\"h-full w-full sm:h-[65vh] absolute sm:relative sm:flex sm:max-w-[20rem] z-20 bg-white dark:bg-neutral-600 block\"\n                    [class.hidden]=\"!displayed\"\n                    [class.inset-0]=\"displayed\"\n                    [active]=\"selected_ids.includes(displayed?.id)\"\n                    (activeChange)=\"setSelected(displayed, $event)\"\n                    [fav]=\"displayed && this.favorites.includes(displayed?.id)\"\n                    (toggleFav)=\"toggleFavourite(displayed)\"\n                    (close)=\"displayed = null\"\n                ></parking-space-details>\n            </main>\n            <footer\n                class=\"flex sm:hidden flex-col-reverse items-center justify-end p-2 border-t border-gray-200 dark:border-neutral-500 w-full\"\n            >\n                <button\n                    btn\n                    matRipple\n                    return\n                    class=\"inverse sm:hidden w-full\"\n                    *ngIf=\"displayed\"\n                    (click)=\"displayed = null\"\n                    i18n\n                >\n                    Back\n                </button>\n                <button\n                    btn\n                    matRipple\n                    save\n                    [mat-dialog-close]=\"selected\"\n                    [class.mb-2]=\"displayed\"\n                    class=\"w-full sm:w-32 sm:mb-0\"\n                    i18n\n                >\n                    View List\n                </button>\n            </footer>\n            <footer\n                class=\"hidden sm:flex items-center justify-between p-2 border-t border-gray-200 dark:border-neutral-500 w-full\"\n            >\n                <button\n                    btn\n                    matRipple\n                    [mat-dialog-close]=\"selected\"\n                    class=\"clear text-primary\"\n                >\n                    <div class=\"flex items-center\">\n                        <app-icon class=\"text-xl\">arrow_back</app-icon>\n                        <div class=\"mr-1 underline\" i18n>Back to form</div>\n                    </div>\n                </button>\n                <p class=\"opacity-60 text-sm\" i18n>\n                    {{ selected.length }} bay(s) added\n                </p>\n                <button\n                    btn\n                    matRipple\n                    [disabled]=\"!displayed\"\n                    [class.inverse]=\"isSelected(displayed?.id)\"\n                    (click)=\"setSelected(displayed, !isSelected(displayed?.id))\"\n                >\n                    <div class=\"flex items-center\">\n                        <app-icon class=\"text-xl\">{{\n                            isSelected(displayed?.id) ? 'remove' : 'add'\n                        }}</app-icon>\n                        <div class=\"mr-1\">\n                            {{\n                                isSelected(displayed?.id)\n                                    ? 'Remove from Booking'\n                                    : 'Add to booking'\n                            }}\n                        </div>\n                    </div>\n                </button>\n            </footer>\n        </div>\n        <ng-template #map_view>\n            <parking-space-map\n                class=\"flex-1 h-1/2 w-full\"\n                [selected]=\"selected_ids\"\n                [is_displayed]=\"!!displayed\"\n                (onSelect)=\"displayed = $event\"\n            >\n            </parking-space-map>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class ParkingSpaceSelectModalComponent {\n    public displayed?: BookingAsset;\n    public selected: BookingAsset[] = [];\n    public view = 'list';\n\n    public get selected_ids() {\n        return this.selected.map((_) => _.id).join(',');\n    }\n\n    public get favorites() {\n        return this._settings.get<string[]>(FAV_PARKING_KEY) || [];\n    }\n\n    constructor(\n        private _dialog_ref: MatDialogRef<ParkingSpaceSelectModalComponent>,\n        private _settings: SettingsService,\n        private _event_form: BookingFormService,\n        @Inject(MAT_DIALOG_DATA)\n        private _data: {\n            spaces: BookingAsset[];\n            options: Partial<BookingFlowOptions>;\n        }\n    ) {\n        this.selected = [...(_data.spaces || [])];\n        this._event_form.setOptions(_data.options);\n    }\n\n    public isSelected(id: string) {\n        return id && this.selected_ids.includes(id);\n    }\n\n    public setSelected(item: BookingAsset, state: boolean) {\n        const list = this.selected.filter((_) => _.id !== item.id);\n        if (state) list.push(item);\n        this.selected = list;\n        if (!this._data.options.group && state) this._dialog_ref.close([item]);\n    }\n\n    public toggleFavourite(item: BookingAsset) {\n        const fav_list = this.favorites;\n        const new_state = !fav_list.includes(item.id);\n        if (new_state) {\n            this._settings.saveUserSetting(FAV_PARKING_KEY, [\n                ...fav_list,\n                item.id,\n            ]);\n        } else {\n            this._settings.saveUserSetting(\n                FAV_PARKING_KEY,\n                fav_list.filter((_) => _ !== item.id)\n            );\n        }\n    }\n}\n","import { Component, forwardRef } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { MatDialog } from '@angular/material/dialog';\n\nimport { SettingsService } from 'libs/common/src/lib/settings.service';\nimport { BookingAsset } from './booking-form.service';\nimport {\n    FAV_PARKING_KEY,\n    ParkingSpaceSelectModalComponent,\n} from './parking-select-modal/parking-select-modal.component';\n\nconst EMPTY_FAVS: string[] = [];\n\n@Component({\n    selector: `parking-space-list-field`,\n    template: `\n        <div list class=\"space-y-2\">\n            <div\n                space\n                class=\"relative p-2 rounded-lg w-full flex items-center shadow border border-gray-200\"\n                *ngFor=\"let space of spaces\"\n            >\n                <div\n                    class=\"w-24 h-24 rounded-xl bg-black/20 mr-4 overflow-hidden flex items-center justify-center\"\n                >\n                    <img\n                        *ngIf=\"space.images?.length; else placeholder\"\n                        class=\"object-cover h-full\"\n                        [src]=\"space.images[0]\"\n                    />\n                    <ng-template #placeholder>\n                        <img\n                            class=\"m-auto\"\n                            src=\"assets/icons/car-placeholder.svg\"\n                        />\n                    </ng-template>\n                </div>\n                <div class=\"space-y-2 pb-4\">\n                    <div class=\"font-medium\">\n                        {{ space.name || 'Meeting Resource' }}\n                    </div>\n                    <div class=\"flex items-center text-sm space-x-2\">\n                        <app-icon class=\"text-blue-500\">place</app-icon>\n                        <p>{{ space.location }}</p>\n                    </div>\n                    <div class=\"flex items-center text-sm space-x-2\">\n                        <app-icon class=\"text-blue-500\">people</app-icon>\n                        <p i18n>\n                            {{ space.capacity < 1 ? 2 : space.capacity }} {\n                            space.capacity, plural, =1 { Person } other { People\n                            } }\n                        </p>\n                    </div>\n                    <div\n                        class=\"absolute bottom-0 right-0 flex items-center justify-end text-xs\"\n                    >\n                        <button\n                            btn\n                            matRipple\n                            edit-space\n                            class=\"clear\"\n                            (click)=\"changeResources(space)\"\n                        >\n                            <div class=\"flex items-center space-x-2\" i18n>\n                                <app-icon>edit</app-icon>\n                                Change\n                            </div>\n                        </button>\n                        <button\n                            btn\n                            matRipple\n                            remove-space\n                            class=\"clear\"\n                            (click)=\"removeResource(space)\"\n                        >\n                            <div class=\"flex items-center space-x-2\" i18n>\n                                <app-icon>close</app-icon>\n                                Remove\n                            </div>\n                        </button>\n                    </div>\n                </div>\n                <button\n                    icon\n                    matRipple\n                    fav\n                    class=\"absolute top-1 right-1\"\n                    [class.text-blue-400]=\"favorites.includes(asset?.id)\"\n                    (click)=\"toggleFavourite(asset)\"\n                >\n                    <app-icon>{{\n                        favorites.includes(asset?.id)\n                            ? 'favorite'\n                            : 'favorite_border'\n                    }}</app-icon>\n                </button>\n            </div>\n        </div>\n        <button\n            btn\n            matRipple\n            add-space\n            class=\"w-full inverse mt-2\"\n            (click)=\"changeResources()\"\n        >\n            <div class=\"flex items-center justify-center space-x-2\">\n                <app-icon>search</app-icon>\n                <span i18n>Add Parking Resource</span>\n            </div>\n        </button>\n        <div class=\"flex items-center flex-wrap sm:space-x-2 mb-2\">\n            <div class=\"flex-1 min-w-[256px] space-y-2\"></div>\n        </div>\n    `,\n    styles: [``],\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: forwardRef(() => ParkingSpaceListFieldComponent),\n            multi: true,\n        },\n    ],\n})\nexport class ParkingSpaceListFieldComponent implements ControlValueAccessor {\n    public room_size = 3;\n    public spaces: BookingAsset[] = [];\n    public disabled = false;\n\n    private _onChange: (_: BookingAsset[]) => void;\n    private _onTouch: (_: BookingAsset[]) => void;\n\n    public get favorites() {\n        return this._settings.get<string[]>('favourite_spaces') || EMPTY_FAVS;\n    }\n\n    constructor(\n        private _settings: SettingsService,\n        private _dialog: MatDialog\n    ) {}\n\n    /** Add or edit selected spaces */\n    public changeResources() {\n        const ref = this._dialog.open(ParkingSpaceSelectModalComponent, {\n            data: {\n                spaces: this.spaces,\n                options: { capacity: this.room_size },\n            },\n        });\n        ref.afterClosed().subscribe((spaces?: BookingAsset[]) => {\n            if (!spaces) return;\n            this.setValue(spaces);\n        });\n    }\n\n    /** Remove the selected space from the list */\n    public removeResource(space: BookingAsset) {\n        this.setValue(this.spaces.filter((_) => _.id !== space.id));\n    }\n\n    /**\n     * Update the form field value\n     * @param new_value New value to set on the form field\n     */\n    public setValue(new_value: BookingAsset[]) {\n        this.spaces = new_value;\n        if (this._onChange) this._onChange(this.spaces);\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Update local value when form control value is changed\n     * @param value The new value for the component\n     */\n    public writeValue(value: BookingAsset[]) {\n        this.spaces = value || [];\n    }\n\n    /* istanbul ignore next */\n    public readonly registerOnChange = (fn: (_: BookingAsset[]) => void) =>\n        (this._onChange = fn);\n    /* istanbul ignore next */\n    public readonly registerOnTouched = (fn: (_: BookingAsset[]) => void) =>\n        (this._onTouch = fn);\n    public readonly setDisabledState = (s: boolean) => (this.disabled = s);\n\n    public toggleFavourite(space: BookingAsset) {\n        const fav_list = this.favorites;\n        const new_state = !fav_list.includes(space.id);\n        if (new_state) {\n            this._settings.saveUserSetting(FAV_PARKING_KEY, [\n                ...fav_list,\n                space.id,\n            ]);\n        } else {\n            this._settings.saveUserSetting(\n                FAV_PARKING_KEY,\n                fav_list.filter((_) => _ !== space.id)\n            );\n        }\n    }\n}\n","import { differenceInMinutes } from 'date-fns';\n\nimport { Space } from 'libs/spaces/src/lib/space.class';\n\nimport { CalendarAvailability } from './calendar.interfaces';\n\nexport class Calendar {\n    /** ID of the calendar */\n    public readonly id: string;\n    /** Name of the calendar */\n    public readonly name: string;\n    /** System associated with the calendar */\n    public readonly resource: Space;\n    /** Primary calendar of the user */\n    public readonly primary: boolean;\n    /** Summary */\n    public readonly summary: string;\n    /** Whether the user can edit events associated to this calendar */\n    public readonly can_edit: boolean;\n    /** Availability */\n    public readonly availability: CalendarAvailability[];\n    /** Whether calendar should be hidden from the user */\n    public readonly hidden: boolean;\n\n    constructor(data: Partial<Calendar> = {}) {\n        this.id = data.id || '';\n        this.name = data.name || '';\n        this.primary = !!data.primary;\n        this.summary = data.summary || '';\n        this.can_edit = !!data.can_edit;\n        this.resource = new Space(data.resource || (data as any).system);\n        this.availability = (data.availability || []).map(\n            ({ starts_at, ends_at, date, duration, status }: any) => {\n                return {\n                    date: new Date(date, starts_at).valueOf(),\n                    duration:\n                        duration || differenceInMinutes(ends_at, starts_at),\n                    status: status,\n                };\n            }\n        );\n        this.hidden = !!data.hidden;\n    }\n}\n","import { get } from '@placeos/ts-client';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nimport { toQueryString } from '@placeos/common';\nimport { OrganisationService } from 'libs/organisation/src/lib/organisation.service';\n\nimport { Space } from 'libs/spaces/src/lib/space.class';\nimport { Calendar } from './calendar.class';\nimport { CalendarAvailabilityQueryParams } from './calendar.interfaces';\n\nconst CALENDAR_ENDPOINT = '/api/staff/v1/calendars';\n\n/** List calendars associated with the logged in user */\nexport function queryCalendars(): Observable<Calendar[]> {\n    return get(CALENDAR_ENDPOINT).pipe(\n        map((i) => i.map((c) => new Calendar(c)))\n    );\n}\n\n/** List room calendars for available spaces based on the given query */\nexport function queryCalendarAvailability(\n    q: CalendarAvailabilityQueryParams\n): Observable<Calendar[]> {\n    const query = toQueryString(q);\n    return get(\n        `${CALENDAR_ENDPOINT}/availability${query ? '?' + query : ''}`\n    ).pipe(map((i) => i.map((c) => new Calendar(c))));\n}\n\nconst calendarsToSpaces = (org?) =>\n    map((list: Calendar[]) =>\n        list\n            .filter((cal) => !!cal.resource)\n            .map(\n                (cal) =>\n                    new Space({\n                        ...cal.resource,\n                        level: org?.levelWithID(cal.resource.zones),\n                        availability: cal.availability,\n                    })\n            )\n            .filter((space) => space.bookable)\n    );\n\n/** List available spaces based on the given query */\nexport function querySpaceCalendarAvailability(\n    q: CalendarAvailabilityQueryParams,\n    org?: OrganisationService\n): Observable<Space[]> {\n    return queryCalendarAvailability(q).pipe(calendarsToSpaces(org));\n}\n\nexport function queryUserFreeBusy(q: CalendarAvailabilityQueryParams) {\n    const query = toQueryString(q);\n    return get(\n        `${CALENDAR_ENDPOINT}/free_busy${query ? '?' + query : ''}`\n    ).pipe(map((i) => i as Calendar[]));\n}\n\n/** List room calendars for available spaces based on the given query */\nexport function querySpaceFreeBusy(\n    q: CalendarAvailabilityQueryParams,\n    org?: OrganisationService\n): Observable<Space[]> {\n    const query = toQueryString(q);\n    return get(\n        `${CALENDAR_ENDPOINT}/free_busy${query ? '?' + query : ''}`\n    ).pipe(\n        map((i) => i.map((c) => new Calendar(c))),\n        calendarsToSpaces(org)\n    );\n}\n","import { CateringOption } from './catering.interfaces';\n\nexport class CateringItem {\n    /** ID of the catering item */\n    public readonly id: string;\n    /** Display name for the catering item */\n    public readonly name: string;\n    /** Category that this item is associated */\n    public readonly category: string;\n    /** Description of the contents of the catering item */\n    public readonly description: string;\n    /** Unit price in cents for the catering item */\n    public readonly unit_price: number;\n    /** Number of item in the associated order */\n    public readonly quantity: number;\n    /** List of options for the catering item */\n    public readonly options: CateringOption[];\n    /** List of attributes assoicated with the catering item */\n    public readonly tags: string[];\n    /** Whether catering items can be purchased using points */\n    public readonly accept_points: boolean;\n    /** Max percentage of the cost that can be covered using points */\n    public readonly discount_cap: number;\n    /** Total cost for the item */\n    public readonly total_cost: number;\n    /** String list of available options */\n    public readonly options_string: string;\n    /** List of images for the catering item */\n    public readonly images: string[];\n    /** List of active options for the item */\n    public readonly option_list: CateringOption[];\n    /** Price per unit with selected options */\n    public readonly unit_price_with_options: number;\n    /** Zones in which this item is not allow to be ordered in */\n    public readonly hide_for_zones: string[];\n    /** Whether item in part of an order */\n    public readonly in_order: boolean;\n\n    public get custom_id() {\n        const options = this.option_list.map((_) => _.id).join('+');\n        return `${this.id}[${options}]${!this.in_order ? 'menu' : ''}`;\n    }\n\n    constructor(data: Partial<CateringItem> = {}) {\n        this.id = data.id || '';\n        this.name = data.name || data.id || '';\n        this.category = data.category || '';\n        this.unit_price = data.unit_price || 0;\n        this.description = data.description || '';\n        this.quantity = data.quantity || 0;\n        this.discount_cap = data.discount_cap || 0;\n        this.accept_points = !!data.accept_points;\n        this.tags = data.tags || [];\n        this.images = data.images || [];\n        this.options = data.options || [];\n        const has_options = this.options.some((_) => _.active === true);\n        this.option_list =\n            (has_options\n                ? this.options.filter((_) => _.active === true)\n                : data.option_list) || [];\n        this.hide_for_zones = data.hide_for_zones || [];\n        this.unit_price_with_options =\n            this.unit_price +\n            this.option_list\n                .map((i) => i.unit_price || 0)\n                .reduce((c, a) => c + a, 0);\n        this.total_cost = this.unit_price_with_options * this.quantity;\n        this.options_string =\n            this.options\n                ?.map((_) => _.id || '')\n                .sort((a, b) => a.localeCompare(b))\n                .join(',') || '';\n        this.in_order = data.in_order ?? false;\n    }\n}\n","import { randomInt } from '@placeos/common';\nimport { CalendarEvent } from '@placeos/events';\n\nimport { CateringItem } from './catering-item.class';\nimport { CateringOrderStatus } from './catering.interfaces';\n\nexport class CateringOrder {\n    /** ID of the order */\n    public readonly id: string;\n    /** ID of the space the order is associated */\n    public readonly system_id: string;\n    /** ID of the event the order is associated */\n    public readonly event_id: string;\n    /** List of items associated with the order */\n    public readonly items: readonly CateringItem[];\n    /** Number of items in the order */\n    public readonly item_count: number;\n    /** Total cost of order */\n    public readonly total_cost: number;\n    /** Invoice number associated with the order */\n    public readonly invoice_number: string;\n    /** Charge code for the order */\n    public readonly charge_code: string;\n    /** Unix epoch in seconds of order delivery time */\n    public readonly deliver_at: number;\n    /** Notes associated with the order */\n    public readonly notes: string;\n    /** Current status of the order */\n    public readonly status: CateringOrderStatus;\n    /** Event associated with the order */\n    public readonly event: CalendarEvent | null;\n\n    constructor(data: Partial<CateringOrder> = {}) {\n        this.id = data.id || `order-${randomInt(9_999_999, 1_000_000)}`;\n        this.system_id = data.system_id || '';\n        this.event_id = data.event_id || data.event?.id || '';\n        this.items = (data.items || []).map((i) => new CateringItem(i));\n        this.item_count = this.items.reduce(\n            (amount, item) => amount + item.quantity,\n            0\n        );\n        this.total_cost = this.items.reduce(\n            (amount, item) => amount + (item.total_cost || 0),\n            0\n        );\n        this.charge_code = data.charge_code || '';\n        this.status = data.status || 'accepted';\n        this.invoice_number = data.invoice_number || '';\n        this.event = data.event || null;\n        this.notes = data.notes || '';\n        this.deliver_at =\n            data.deliver_at ||\n            (data as any).date ||\n            this.event?.date ||\n            Date.now();\n    }\n}\n","export * from './lib/common';\nexport * from './lib/feature-available.guard';\nexport * from './lib/remote-logging.service';\nexport * from './lib/timezone-helpers';\nexport * from './lib/user-idle-time.service';\n","import { trigger, transition, style, animate, state } from '@angular/animations';\n\nexport const ANIMATION_SHOW_ENTER_LEAVE = trigger('show', [\n    transition(':enter', [\n        style({ opacity: 0, height: 0 }),\n        animate(300, style({ opacity: 1, height: '*' }))\n    ]),\n    transition(':leave', [\n        style({ opacity: 1, height: '*' }),\n        animate(300, style({ opacity: 0, height: 0 }))\n    ])\n]);\n\nexport const ANIMATION_SHOW_CONTRACT_EXPAND = trigger('show', [\n    state('show', style({ opacity: 1, height: '*' })),\n    state('hide', style({ opacity: 0, height: 0, 'pointer-events': 'none' })),\n    transition('show <=> hide', animate('200ms ease-in'))\n]);\n","import { HashMap } from \"./types\";\n\n/**\n * Convert map into a query string\n * @param map Key value pairs to convert\n */\nexport function toQueryString(map: HashMap) {\n    let str = '';\n    if (map) {\n        for (const key in map) {\n            if (key in map && map[key] !== undefined && map[key] !== null) {\n                str += `${(str ? '&' : '')}${key}=${encodeURIComponent(map[key])}`;\n            }\n        }\n    }\n    return str;\n}\n","import { SwUpdate } from '@angular/service-worker';\n\nimport { log } from './general';\nimport { notifyInfo } from './notifications';\n\nlet _timer: number;\n\n/**\n * Setup handler for cache change events\n * @param cache Angular Service worker service\n * @param notify Function to call on changes to the cache\n * @param interval Time interval to check the cache for changes\n */\nexport function setupCache(\n    cache: SwUpdate,\n    interval: number = 5 * 60 * 1000\n) {\n    if (cache.isEnabled) {\n        if (_timer) clearInterval(_timer);\n        _timer = <any>setInterval(() => {\n            log('CACHE', `Checking for updates...`);\n            activateUpdate(cache);\n        }, interval);\n    }\n}\n\nexport function clearCacheCheck() {\n    if (_timer) clearInterval(_timer);\n}\n\n/**\n * Update the cache and reload the page\n *\n */\nasync function activateUpdate(cache: SwUpdate) {\n    if (cache.isEnabled && await cache.checkForUpdate()) {\n        log('CACHE', `Activating changes to the cache...`);\n        if (!await cache.activateUpdate()) return;\n        notifyInfo('Newer version of the application is available', 'Refresh', () =>\n            location.reload()\n        );\n    }\n}\n","import { Injectable, OnDestroy } from '@angular/core';\nimport { Subscription, BehaviorSubject } from 'rxjs';\n\ntype VoidFn = () => void;\n\n/**\n * Class for handling cleanup of async methods when components are destroyed.\n * Async methods include Subscriptions, Timeouts and Intervals\n */\n@Injectable({\n    providedIn: 'root',\n})\nexport class AsyncHandler implements OnDestroy {\n    /** Store for named timers */\n    protected _timers: { [name: string]: number } = {};\n    /** Store for named intervals */\n    protected _intervals: { [name: string]: number } = {};\n    /** Store for named subscription unsub callbacks */\n    protected _subscriptions: {\n        [name: string]: Subscription | VoidFn;\n    } = {};\n    /** Subject which stores the initialised state of the object */\n    protected readonly _initialised = new BehaviorSubject<boolean>(false);\n    /** Observable of the initialised state of the object */\n    public readonly initialised = this._initialised.asObservable();\n\n    /** Whether the object has been initialised */\n    public get is_initialised(): boolean {\n        return this._initialised.getValue();\n    }\n\n    public ngOnDestroy(): void {\n        this.destroy();\n    }\n\n    protected destroy() {\n        for (const key in this._timers) {\n            if (key in this._timers) {\n                this.clearTimeout(key);\n            }\n        }\n        for (const key in this._intervals) {\n            if (key in this._intervals) {\n                this.clearInterval(key);\n            }\n        }\n        for (const key in this._subscriptions) {\n            if (key in this._subscriptions) {\n                this.unsub(key);\n            }\n        }\n    }\n\n    /**\n     * Creates a named timer\n     * @param name Name of the timer\n     * @param fn Callback function for the timer\n     * @param delay Callback delay\n     */\n    protected timeout(name: string, fn: () => void, delay: number = 300) {\n        if (name && fn && fn instanceof Function) {\n            this.clearTimeout(name);\n            this._timers[name] = <any>setTimeout(() => {\n                fn();\n                delete this._timers[name];\n            }, delay);\n        } else {\n            throw new Error(\n                name\n                    ? 'Cannot create named timeout without a name'\n                    : 'Cannot create a timeout without a callback'\n            );\n        }\n    }\n\n    /**\n     * Clears the named timer\n     * @param name Timer name\n     */\n    protected clearTimeout(name: string) {\n        if (this._timers[name]) {\n            clearTimeout(this._timers[name]);\n            delete this._timers[name];\n        }\n    }\n\n    /**\n     * Creates a named interval\n     * @param name Name of the interval\n     * @param fn Callback function for the interval\n     * @param delay Callback delay\n     */\n    protected interval(name: string, fn: () => void, delay: number = 300) {\n        if (name && fn && fn instanceof Function) {\n            this.clearInterval(name);\n            this._intervals[name] = <any>setInterval(() => fn(), delay);\n        } else {\n            throw new Error(\n                name\n                    ? 'Cannot create named interval without a name'\n                    : 'Cannot create a interval without a callback'\n            );\n        }\n    }\n\n    /**\n     * Clears the named interval\n     * @param name Timer name\n     */\n    protected clearInterval(name: string) {\n        if (this._intervals[name]) {\n            clearInterval(this._intervals[name]);\n            delete this._intervals[name];\n        }\n    }\n\n    /**\n     * Store named subscription\n     * @param name Name of the subscription\n     * @param unsub Unsubscribe callback or Subscription object\n     */\n    protected subscription(name: string, unsub: Subscription | VoidFn) {\n        this.unsub(name);\n        this._subscriptions[name] = unsub;\n    }\n\n    protected hasSubscription(name: string) {\n        return (\n            this._subscriptions[name] instanceof Subscription ||\n            !!this._subscriptions[name]\n        );\n    }\n\n    /**\n     * Call unsubscribe callback with the given name\n     * @param name\n     */\n    protected unsub(name: string) {\n        if (name in this._subscriptions) {\n            if (this._subscriptions[name] instanceof Subscription) {\n                (this._subscriptions[name] as any).unsubscribe();\n            } else if (this._subscriptions[name]) {\n                (this._subscriptions[name] as any)();\n            }\n            delete this._subscriptions[name];\n        }\n    }\n\n    /** Unsubscribe to the items with names containing the given string */\n    protected unsubWith(contains: string) {\n        const subs = Object.keys(this._subscriptions).filter((k) =>\n            k.includes(contains)\n        );\n        for (const key of subs) {\n            this.unsub(key);\n        }\n    }\n}\n","import { User } from 'libs/users/src/lib/user.class';\nimport { addMinutes, format } from 'date-fns';\nimport { toQueryString } from './api';\nimport { localToTimezone } from './timezone-helpers';\nimport { unique } from './general';\nimport { PlaceSystem } from '@placeos/ts-client';\n\nexport interface CalEvent {\n    title: string;\n    date: number;\n    duration: number;\n    all_day: boolean;\n    body: string;\n    location: string;\n    host: string;\n    organiser: User;\n    user_name?: string;\n    user_email?: string;\n    attendees: string[];\n    resources?: string[];\n    meeting_url?: string;\n    system?: PlaceSystem;\n}\n\nfunction formatUTC(date: Date | number) {\n    const utc_date = localToTimezone(date, 'UTC');\n    return `${format(utc_date, 'yyyyMMdd')}T${format(utc_date, 'HHmmss')}Z`;\n}\n\nfunction formatAllDay(date: Date | number) {\n    return `${format(date, 'yyyyMMdd')}`;\n}\n\nexport function generateCalendarFileLink(event: CalEvent): string {\n    const chunks: [string, any][] = [];\n    const description = formatCalFileText(`${event.body}`);\n    const location = formatCalFileText(`${event.location}`);\n    chunks.push(['BEGIN', 'VCALENDAR']);\n    chunks.push(['VERSION', '2.0']);\n    chunks.push(['BEGIN', 'VEVENT']);\n    chunks.push(['URL', `${event.meeting_url}`]);\n    chunks.push(['DTSTART', `${new Date(event.date).toISOString()}`]);\n    chunks.push([\n        'DTEND',\n        `${addMinutes(event.date, event.duration ?? 60).toISOString()}`,\n    ]);\n    chunks.push(['SUMMARY', `${event.title}`]);\n    chunks.push(['DESCRIPTION', description]);\n    chunks.push(['LOCATION', location]);\n    const host =\n        event.organiser?.name ||\n        event.host?.split('@') ||\n        event.user_name ||\n        'User';\n    chunks.push([\n        'ORGANIZER',\n        `CN=${host}:MAILTO:${event.host || event.user_email}`,\n    ]);\n    const url_data = chunks\n        .map(([key, value]) => `${key}:${encodeURIComponent(value)}`)\n        .join('\\n');\n    return `data:text/calendar;charset=utf8,${url_data}`;\n}\n\nexport function generateGoogleCalendarLink(event: CalEvent): string {\n    const fmt = event.all_day ? formatAllDay : formatUTC;\n    const details: any = {\n        action: 'TEMPLATE',\n        text: event.title,\n        details: event.body,\n        location: event.location,\n        trp: false,\n        dates: `${fmt(event.date)}/${fmt(\n            addMinutes(event.date, event.duration ?? 60)\n        )}`,\n    };\n    const emails = (event.attendees || []).map((_: any) => _.email || _);\n    const resources = (\n        (event.resources?.length ? event.resources : null) || [event.system]\n    ).map((_: any) => _?.email || _);\n    if (emails.length || resources.length)\n        details.add = unique([...emails, ...resources]).join();\n    return `https://calendar.google.com/calendar/render?${toQueryString(\n        details\n    )}`;\n}\n\nexport function generateMicrosoftCalendarLink(\n    event: CalEvent,\n    type: 'outlook' | 'office' = 'outlook'\n): string {\n    if (!event.date) event.date = Date.now();\n    const data: any = {\n        path: '/calendar/action/compose',\n        rru: 'addevent',\n        startdt: new Date(event.date).toISOString(),\n        enddt: addMinutes(event.date, event.duration ?? 60).toISOString(),\n        subject: event.title,\n        body: event.body,\n        location: event.location,\n        allday: event.all_day ?? false,\n    };\n    const emails = (event.attendees || []).map((_: any) => _.email || _);\n    const resources = (\n        (event.resources?.length ? event.resources : null) || [event.system]\n    ).map((_: any) => _?.email || _);\n    if (emails.length || resources.length)\n        data.to = unique([...emails, ...resources]).join();\n    return type === 'office'\n        ? `https://outlook.office.com/calendar/0/deeplink/compose?${toQueryString(\n              data\n          )}`\n        : `https://outlook.live.com/calendar/0/deeplink/compose?${toQueryString(\n              data\n          )}`;\n}\n\nfunction formatCalFileText(str: string) {\n    return str\n        .replace(/,/gm, ',')\n        .replace(/;/gm, ';')\n        .replace(/\\r\\n/gm, '\\n')\n        .replace(/\\n/gm, '\\\\n')\n        .replace(/(\\\\n)[\\s\\t]+/gm, '\\\\n');\n}\n","export { AsyncHandler as AsyncHandler } from './async-handler.class';\nexport { GoogleAnalyticsService } from './google-analytics.service';\nexport { HotkeysService } from './hotkeys.service';\nexport { SettingsService } from './settings.service';\nexport { VorlonService } from './vorlon.service';\nexport { VERSION } from './version';\n\nexport * from './angular-animations';\nexport * from './api';\nexport * from './application';\nexport * from './formatting';\nexport * from './general';\nexport * from './notifications';\nexport * from './placeos';\nexport * from './room-configuration.interface';\nexport * from './settings';\nexport * from './types';\nexport * from './user-state';\nexport * from './spec-helpers';\nexport * from './timezones';\n","import { Injectable } from '@angular/core';\nimport { UrlTree, Router } from '@angular/router';\nimport { first } from 'rxjs/operators';\n\nimport { SettingsService } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\n\nexport abstract class PLACEOS_APP_ACCESS {\n    public readonly group: string;\n}\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class FeatureAvailableGuard  {\n    constructor(\n        private _router: Router,\n        private _settings: SettingsService,\n        private _org: OrganisationService\n    ) {}\n\n    public async canActivate(): Promise<boolean | UrlTree> {\n        return this.checkFeature();\n    }\n\n    public async canLoad(): Promise<boolean> {\n        return this.checkFeature();\n    }\n\n    private async checkFeature() {\n        await this._org.initialised.pipe(first((_) => _)).toPromise();\n        await this._settings.initialised.pipe(first((_) => _)).toPromise();\n        const features = this._settings.get('app.disabled_features') || [];\n        const can_activate = !features.find((_) =>\n            this._router.url.includes(_)\n        );\n        if (!can_activate) {\n            this._router.navigate(['/']);\n        }\n        return !!can_activate;\n    }\n}\n","\nimport { format } from 'date-fns';\n\nimport { RecurrenceDetails } from '@placeos/events';\n\nexport function formatRecurrence(details: RecurrenceDetails): string {\n    let pattern: string = details.pattern || '';\n    pattern = pattern.charAt(0).toUpperCase() + pattern.slice(1);\n    return pattern ? `${pattern} until ${format(new Date(details.end), 'do MMM yyyy')}` : '<No Recurrence>';\n}\n","import { FormGroup } from '@angular/forms';\nimport { MatDialog } from '@angular/material/dialog';\nimport { first } from 'rxjs/operators';\nimport {\n    ConfirmModalComponent,\n    ConfirmModalData,\n    CONFIRM_METADATA,\n} from '../../../components/src/lib/confirm-modal.component';\nimport { HashMap } from './types';\n\n/** Available console output streams. */\nexport type ConsoleStream = 'debug' | 'warn' | 'log' | 'error';\n\ndeclare global {\n    interface Window {\n        debug: boolean;\n        jest: any;\n    }\n}\n\nlet _app_name = 'APP';\n\nexport function setAppName(name: string) {\n    _app_name = name;\n}\n\n/**\n * Log data to the browser console\n * @param type Type of message\n * @param msg Message body\n * @param args array of argments to log to the console\n * @param stream Stream to emit the console on. 'debug', 'log', 'warn' or 'error'\n * @param force Whether to force message to be emitted when debug is disabled\n */\nexport function log(\n    type: string,\n    msg: string,\n    args?: any,\n    stream: ConsoleStream = 'debug',\n    force: boolean = false,\n    app_name: string = _app_name\n) {\n    if (window.jest) return;\n    if (window.debug || force) {\n        const colors: string[] = [\n            'color: #E91E63',\n            'color: #3F51B5',\n            'color: default',\n        ];\n        if (args) {\n            console[stream](\n                `%c[${app_name}]%c[${type}] %c${msg}`,\n                ...colors,\n                args\n            );\n        } else {\n            console[stream](`%c[${app_name}]%c[${type}] %c${msg}`, ...colors);\n        }\n    }\n}\n\n/**\n * Get item from the nested object\n * @param keys List of sub-keys to search for\n * @param map Object to search\n */\nexport function getItemWithKeys(keys: string[], map: HashMap) {\n    const key = keys[0];\n    if (map && key in map) {\n        return keys.length > 1\n            ? getItemWithKeys(keys.slice(1), map[key] || {})\n            : map[key];\n    }\n    return null;\n}\n\n/**\n * Remove duplicates from the given array\n * @param array List of items to remove duplicates from\n * @param key Key on array objects to compare for uniqueness\n */\nexport function unique<T = any>(array: T[] = [], key: string = ''): T[] {\n    const keys = [];\n    return array.filter((el) => {\n        const id = key ? el[key] : el;\n        const exists = keys.includes(id);\n        if (!exists) keys.push(id);\n        return !exists;\n    });\n}\n\n/**\n * Generate a random number\n * @param ceil Biggest value to generate not inclusive\n * @param floor Smallest value to generate. Defaults to 0\n */\nexport function randomInt(ceil: number, floor: number = 0) {\n    return Math.floor(Math.random() * (ceil - floor)) + floor;\n}\n\n/**\n * Pad string to the given length\n * @param str Base string\n * @param length Length to pad the string\n */\nexport function padString(str: string | number, length: number = 5) {\n    str = `${str}`;\n    while (str.length < length) str = `0${str}`;\n    return str;\n}\n\n/**\n * Generate a random string\n * @param length Length of the string\n * @param chars Available characters to use in the string\n */\nexport function randomString(\n    length: number,\n    chars: string = 'abcdefghijklmnopqrstwvxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'\n) {\n    let str = '';\n    for (let i = 0; i < length; i++) {\n        str += chars[randomInt(chars.length)];\n    }\n    return str;\n}\n\nexport interface ConfirmRepsonse {\n    reason: 'done' | '' | null;\n    loading: (_: string) => void;\n    close: () => void;\n}\n\nexport async function openConfirmModal(\n    data: ConfirmModalData,\n    dialog: MatDialog\n): Promise<ConfirmRepsonse> {\n    const ref = dialog.open<ConfirmModalComponent, ConfirmModalData>(\n        ConfirmModalComponent,\n        {\n            ...CONFIRM_METADATA,\n            data,\n        }\n    );\n    return {\n        ...(await Promise.race([\n            ref.componentInstance.event\n                .pipe(first((_) => _.reason === 'done'))\n                .toPromise(),\n            ref.afterClosed().toPromise(),\n        ])),\n        loading: (s) => (ref.componentInstance.loading = s),\n        close: () => ref.close(),\n    };\n}\n\n/**\n * Parse raw CSV data into a JSON object\n * @param csv CSV data to parse\n */\nexport function csvToJson(csv: string, delimiter: string = ','): HashMap[] {\n    const objPattern = new RegExp(\n        '(\\\\,|\\\\r?\\\\n|\\\\r|^)(?:\"([^\"]*(?:\"\"[^\"]*)*)\"|([^\\\\,\\\\r\\\\n]*))',\n        'gi'\n    );\n    let arrMatches = null;\n    const arrData = [[]];\n    while ((arrMatches = objPattern.exec(csv))) {\n        if (arrMatches[1].length && arrMatches[1] !== ',') arrData.push([]);\n        arrData[arrData.length - 1].push(\n            arrMatches[2]\n                ? arrMatches[2].replace(new RegExp('\"\"', 'g'), '\"')\n                : arrMatches[3]\n        );\n    }\n    const headers: string[] = arrData.splice(0, 1)[0];\n    const elements = arrData.map((row) => {\n        const element = {};\n        for (let i = 0; i < row.length; i++) {\n            const key = (headers[i] || '').split(' ').join('_').toLowerCase();\n            try {\n                element[key] = JSON.parse(row[i].replace('|', ','));\n            } catch (e) {\n                element[key] = row[i] || '';\n            }\n            if (element[key] === 'TRUE' || element[key] === 'FALSE')\n                element[key] = element[key] === 'TRUE';\n        }\n        return element;\n    });\n    return elements;\n}\n\nexport function loadTextFileFromInputEvent(event: InputEvent) {\n    return new Promise<string>((resolve, reject) => {\n        /* istanbul ignore else */\n        if (event.target) {\n            const element = event.target as HTMLInputElement;\n            const file = element.files[0];\n            /* istanbul ignore else */\n            if (file) {\n                const reader = new FileReader();\n                reader.readAsText(file, 'UTF-8');\n                reader.addEventListener('load', (evt) => {\n                    resolve((evt.srcElement as any).result);\n                    element.value = '';\n                });\n                reader.addEventListener('error', (_) => {\n                    this.loading = '';\n                    reject(['Error loading file', _]);\n                });\n            }\n        }\n    });\n}\n\n/**\n * Convert javascript array to CSV string\n * @param json Javascript array to convert\n */\nexport function jsonToCsv(json: HashMap[]) {\n    if (json instanceof Array && json.length > 0) {\n        const keys = Object.keys(json[0]);\n        const valid_keys = keys.filter((key) => key in json[0]);\n        return `${valid_keys.join(',')}\\n${json\n            .map((item) =>\n                valid_keys\n                    .map((key) => JSON.stringify(item[key]).replace(',', '|'))\n                    .join(',')\n            )\n            .join('\\n')}`;\n    }\n    return '';\n}\n\n/**\n * Downloads a file to the users computer with the given filename and contents\n * @param filename Name of the file to download\n * @param contents Contents of the file to download\n */\nexport function downloadFile(filename: string, contents: string) {\n    const element = document.createElement('a');\n    element.setAttribute(\n        'href',\n        'data:text/plain;charset=utf-8,' + encodeURIComponent(contents)\n    );\n    element.setAttribute('download', filename);\n\n    element.style.display = 'none';\n    document.body.appendChild(element);\n\n    element.click();\n\n    document.body.removeChild(element);\n}\n\nexport function parseJWT(token: string) {\n    const base64Url = token.split('.')[1];\n    const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n    const jsonPayload = decodeURIComponent(\n        atob(base64)\n            .split('')\n            .map((c) => {\n                return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n            })\n            .join('')\n    );\n    return JSON.parse(jsonPayload);\n}\n\n/* istanbul ignore next */\n/**\n * Flatten nested array\n * @param an_array Array to flatten\n */\nexport function flatten<T = any>(an_array: any[]): T[] {\n    const stack = [...an_array];\n    const res = [];\n    while (stack.length) {\n        // pop value from stack\n        const next = stack.pop();\n        if (Array.isArray(next)) {\n            // push back array items, won't modify the original input\n            stack.push(...next);\n        } else {\n            res.push(next);\n        }\n    }\n    // reverse to restore input order\n    return res.reverse();\n}\n\n/**\n * Check whether two time periods intersect with each other\n * @param start1 Unix epoch in ms of the first period's start time\n * @param end1 Unix epoch in ms of the first period's end time\n * @param start2 Unix epoch in ms of the second period's start time\n * @param end2 Unix epoch in ms of the second period's end time\n */\nexport function timePeriodsIntersect(start1, end1, start2, end2) {\n    return (\n        (start1 >= start2 && start1 < end2) ||\n        (end1 > start2 && end1 < end2) ||\n        (start2 >= start1 && start2 < end1) ||\n        (end2 > start1 && end2 <= end1)\n    );\n}\n\nconst seed = xmur3('PlaceOS');\nconst rand = sfc32(0x9e3779b9, 0x243f6a88, 0xb7e15162, seed());\n\nexport function predictableRandomInt(ceil: number = 100, floor: number = 0) {\n    return Math.floor(rand() * (ceil - floor)) + floor;\n}\n\n// https://stackoverflow.com/questions/521295/seeding-the-random-number-generator-in-javascript\nfunction xmur3(str) {\n    let h = 1779033703 ^ str.length;\n    for (let i = 0; i < str.length; i++)\n        (h = Math.imul(h ^ str.charCodeAt(i), 3432918353)),\n            (h = (h << 13) | (h >>> 19));\n    return function () {\n        h = Math.imul(h ^ (h >>> 16), 2246822507);\n        h = Math.imul(h ^ (h >>> 13), 3266489909);\n        return (h ^= h >>> 16) >>> 0;\n    };\n}\n\nfunction sfc32(a, b, c, d) {\n    return function () {\n        a >>>= 0;\n        b >>>= 0;\n        c >>>= 0;\n        d >>>= 0;\n        let t = (a + b) | 0;\n        a = b ^ (b >>> 9);\n        b = (c + (c << 3)) | 0;\n        c = (c << 21) | (c >>> 11);\n        d = (d + 1) | 0;\n        t = (t + d) | 0;\n        c = (c + t) | 0;\n        return (t >>> 0) / 4294967296;\n    };\n}\n\n/** Get time format string for locale */\nexport function timeFormatString(): string {\n    return is24HourTime() ? 'HH:mm' : 'h:mm a';\n}\n\n/** Whether locale string is displayed in 24 hour time */\nexport function is24HourTime(): boolean {\n    const date = new Date();\n    const localeString = date\n        .toLocaleTimeString(\n            document.querySelector('html').getAttribute('lang') ||\n                navigator.language\n        )\n        .toLowerCase();\n    return localeString.indexOf('am') < 0 && localeString.indexOf('pm') < 0;\n}\n\nexport function getInvalidFields(form: FormGroup, prefix: string = '') {\n    let invalid = [];\n    for (const key in form.controls) {\n        if (form.controls[key] instanceof FormGroup) {\n            invalid = [\n                ...invalid,\n                ...getInvalidFields(form.controls[key] as FormGroup, `${key}.`),\n            ];\n        } else if (!form.controls[key].valid) {\n            invalid.push(`${prefix}${key}`);\n        }\n    }\n    return invalid;\n}\n\nexport function removeEmptyFields(obj: Record<string, any>) {\n    for (const key in obj) {\n        if (obj[key] === undefined || obj[key] === null || obj[key] === '') {\n            delete obj[key];\n        }\n    }\n}\n\nexport function capitalizeFirstLetter(word: string): string {\n    return `${word[0].toUpperCase()}${word.substring(1)}`;\n}\n\nexport function cleanArray(\n    array: any[],\n    removal_items: any[] = [undefined, null, '']\n) {\n    return array.filter((_) => !removal_items.includes(_));\n}\n","import { Injectable } from '@angular/core';\nimport { Title } from '@angular/platform-browser';\nimport { log } from './general';\n\ndeclare global {\n    interface Window {\n        ga: any;\n        gtag: any;\n        dataLayer: any[];\n        debug: boolean;\n    }\n}\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class GoogleAnalyticsService {\n    /** Google Analytics API object */\n    private service: any;\n    /** Application prefix to add to event categories */\n    public app_prefix: string;\n    /** Whether posting analytics events is enabled */\n    public enabled = true;\n    /** Name of the application */\n    public app_name = 'GA_APP';\n\n    /** Last route posted to the API */\n    private last_route: string;\n    /** Store for timer ids */\n    private timers: { [name: string]: number } = {};\n\n    constructor(private title: Title) {}\n\n    public init(tracking_id: string = '') {\n        if (!window.gtag) {\n            window.dataLayer = window.dataLayer || [];\n            (function (w, d, s, l, i) {\n                w[l] = w[l] || [];\n                w[l].push({\n                    'gtm.start': new Date().getTime(),\n                    event: 'gtm.js',\n                });\n                var f = d.getElementsByTagName(s)[0],\n                    j = d.createElement(s) as any,\n                    dl = l != 'dataLayer' ? '&l=' + l : '';\n                j.async = true;\n                j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;\n                f.parentNode.insertBefore(j, f);\n            })(window, document, 'script', 'dataLayer', tracking_id);\n            log('Analytics', 'Service', 'Injected Google Analytics into page');\n        }\n        this.service = window.gtag;\n    }\n\n    public push(obj: Record<string, any>) {\n        window.dataLayer.push(obj);\n    }\n\n    /**\n     * Initialise Google Analytics\n     * @param tracking_id GA Tracking ID\n     */\n    public load(tracking_id: string) {\n        if (!this.enabled) {\n            throw new Error(\n                'Google Analytics needs to be enabled before being initialised'\n            );\n        }\n        if (!this.service) {\n            throw new Error(\n                \"Google Analytics hasn't been installed on this page\"\n            );\n        }\n        log('Analytics', 'Service', `Setup with tracking ID: ${tracking_id}`);\n        this.page('');\n    }\n    /**\n     * Set User ID for the Google Analytics session\n     * @param id Identifier of the User\n     */\n    public setUser(id: string) {\n        if (!this.service) {\n            throw new Error(\n                \"Google Analytics hasn't been installed on this page\"\n            );\n        }\n        if (this.enabled) {\n            this.timeout(\n                `user|${id}`,\n                () => {\n                    log('Analytics', 'Service', `Set user ID: ${id}`);\n                    this.service('set', 'userId', id);\n                    this.event('authentication', 'user-id available');\n                },\n                100\n            );\n        }\n    }\n\n    public send(type: string, value: Record<string, any>) {\n        if (!this.service) {\n            throw new Error(\n                \"Google Analytics hasn't been installed on this page\"\n            );\n        }\n        if (this.enabled) {\n            this.timeout(`end|${type}`, () => {\n                this.push({\n                    ...value,\n                    event: 'event',\n                });\n            });\n        }\n    }\n\n    /**\n     * Post event to Google Analytics API\n     * @param category Event Category\n     * @param action Event Action\n     * @param label Event Label\n     * @param value Event Value\n     */\n    public event(\n        category: string,\n        action: string,\n        label?: string,\n        value?: string\n    ) {\n        if (!this.service) {\n            throw new Error(\n                \"Google Analytics hasn't been installed on this page\"\n            );\n        }\n        if (this.enabled) {\n            this.timeout(\n                `event|${category}|${action}|${label}|${value}`,\n                () => {\n                    const l = label ? ', ' + label : '';\n                    log(\n                        'Analytics',\n                        'Service',\n                        `Event: ${category}, ${action}${l}${\n                            value ? ', ' + value : ''\n                        }`\n                    );\n                    const prefix = this.app_prefix ? this.app_prefix + '_' : '';\n                    this.push({\n                        event: 'event',\n                        category: category,\n                        action: action,\n                        label: label,\n                    });\n                },\n                100\n            );\n        }\n    }\n\n    /**\n     * Post screen change event to Google Analytics API\n     * @param name\n     * @param app_name\n     */\n    public screen(name: string, app_name?: string) {\n        if (!this.service) {\n            throw new Error(\n                \"Google Analytics hasn't been installed on this page\"\n            );\n        }\n        if (name && this.enabled) {\n            this.timeout(\n                `event|${name}|${app_name || this.app_name}`,\n                () => {\n                    log(\n                        'Analytics',\n                        'Service',\n                        `Screen: ${name}${app_name ? ', ' + app_name : ''}`\n                    );\n                    this.push({\n                        event: 'screenview',\n                        appName: app_name || this.app_name,\n                        screenName: name,\n                    });\n                },\n                100\n            );\n        }\n    }\n\n    /**\n     * Post routing event to Google Analytics API\n     * @param route Activated route\n     * @param origin Add origin to routh path\n     */\n    public page(route: string, origin: boolean = false) {\n        if (!this.service) {\n            throw new Error(\n                \"Google Analytics hasn't been installed on this page\"\n            );\n        }\n        if (this.enabled) {\n            this.last_route = route || '/';\n            this.timeout(\n                `page|${route}`,\n                () => {\n                    log('Analytics', 'Service', `Page: ${route}`);\n                    this.push({\n                        event: 'pageview',\n                        url: `${origin ? location.origin : ''}${route}`,\n                    });\n                },\n                100\n            );\n        }\n    }\n\n    /**\n     * Post timing event to Google Analytics API\n     * @param category\n     * @param variable\n     * @param value\n     * @param label\n     */\n    public timing(\n        category: string,\n        variable: string,\n        value: string,\n        label?: string\n    ) {\n        if (!this.service) {\n            throw new Error(\n                \"Google Analytics hasn't been installed on this page\"\n            );\n        }\n        if (this.enabled) {\n            this.timeout(\n                `page|${category}|${variable}|${value}|${label}`,\n                () => {\n                    log(\n                        'Analytics',\n                        'Service',\n                        `Timing: ${category}, ${variable}, ${value}${\n                            label ? ', ' + label : ''\n                        }`\n                    );\n                    this.push({\n                        event: 'timing',\n                        category,\n                        variable,\n                        value,\n                        label,\n                    });\n                },\n                100\n            );\n        }\n    }\n\n    /**\n     * Creates a timeout for the given name used for preventing duplicate events in quick succession\n     * @param name Name of timer\n     * @param fn Timer callback\n     * @param delay Timer delay\n     */\n    private timeout(name: string, fn: () => void, delay: number = 300) {\n        if (this.timers[name]) {\n            clearTimeout(this.timers[name]);\n            delete this.timers[name];\n        }\n        this.timers[name] = <any>setTimeout(() => {\n            if (fn instanceof Function) {\n                fn();\n            }\n            delete this.timers[name];\n        }, delay);\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable, Subscription } from 'rxjs';\n\nimport { HashMap } from './types';\nimport { unique } from './general';\n\n/** List of keys that cannot be in a combination by themselves or with each other */\nconst INVALID_STANDALONE_KEYS: string[] = ['control', 'shift', 'alt', 'meta', 'os'];\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class HotkeysService {\n    /** Map of subjects which store press states of keys */\n    private keydown_states: HashMap<BehaviorSubject<number>> = {};\n    /** Map of obserers for key state subjects */\n    private keydown_observers: HashMap<Observable<number>> = {};\n    /** List of keys at the end of a combination */\n    private combo_end: string[] = [];\n    /** List of registered hotkey combinations */\n    private registered_combos: string[][] = [];\n    /** Counter for the number of keydown events. Used for checking order of key presses */\n    private counter: number = 0;\n    /** Last key code to be pressed */\n    private last_down: string;\n\n    constructor() {\n        window.addEventListener('keydown', (event: KeyboardEvent) => {\n            const code = this.mapKey((event.code || '').toLowerCase());\n            if (this.last_down !== code) {\n                if (!this.keydown_states[code]) {\n                    this.keydown_states[code] = new BehaviorSubject(null);\n                    this.keydown_observers[code] = this.keydown_states[code].asObservable();\n                }\n                this.keydown_states[code].next(++this.counter);\n                if (this.combo_end.indexOf(code) >= 0) {\n                    event.preventDefault();\n                }\n                this.last_down = code;\n            }\n        });\n\n        window.addEventListener('keyup', (event: KeyboardEvent) => {\n            const code = this.mapKey((event.code || '').toLowerCase());\n            this.keydown_states[code].next(null);\n            if (this.last_down === code) {\n                this.last_down = null;\n            }\n        });\n    }\n\n    /**\n     * Listen to the given key combination\n     * @param combo Array of key codes to listen to or a hotkey string e.g. `Alt+Shift+KeyK`\n     * @param next Callback for combination presses\n     */\n    public listen(combo: string | string[], next: () => void): Subscription {\n        combo = (combo instanceof Array ? combo : combo.split('+'));\n        const combination: string[] = combo.map(i => this.mapKey(i.toLowerCase()));\n        if (combination.length > 0 && this.validCombination(combination)) {\n            this.registered_combos.push(combination);\n            const last_key = combination[combination.length - 1];\n            if (!this.keydown_states[last_key]) {\n                this.keydown_states[last_key] = new BehaviorSubject(null);\n                this.keydown_observers[last_key] = this.keydown_states[last_key].asObservable();\n            }\n            this.updateCombinationEndList();\n            return this.keydown_observers[last_key].subscribe((count) => {\n                if (count) {\n                    const presses: number[] = [];\n                    if (combination.length > 0) {\n                        // Check that keys are pressed\n                        for (const key of combination) {\n                            const state = this.keydown_states[key];\n                            presses.push(state ? state.getValue() || -1 : -1);\n                        }\n                        // Check that keys are pressed in the correct order\n                        for (let i = 0; i < combination.length - 1; i++) {\n                            if (presses[i] > presses[i + 1]) { return; }\n                        }\n                    }\n                    const total = presses.reduce((a, v) => a + (v > 0 ? 1 : -1), 0);\n                    if (total >= combination.length) {\n                        next();\n                    }\n                }\n            });\n        }\n        return null;\n    }\n\n    /**\n     * Map key codes with multiple versions to simple form\n     * @param code Code to transform\n     */\n    private mapKey(code: string): string {\n        if (code.indexOf('alt') >= 0 || code.indexOf('shift') >= 0 || code.indexOf('control') >= 0) {\n            return code.replace('left', '').replace('right', '');\n        }\n        return code;\n    }\n\n    /**\n     * Update the list of the last keys in combinations to allow for prevent default actions on pre-existing hotkeys\n     */\n    private updateCombinationEndList(): void {\n        const key_list = [];\n        for (const combo of this.registered_combos) {\n            this.combo_end.push(combo[combo.length - 1]);\n        }\n        this.combo_end = unique(key_list);\n    }\n\n    /**\n     * Checks if the given hotkey combination is allowed and valid\n     * @param combo Array of key codes\n     */\n    private validCombination(combo: string[]): boolean {\n        let non_meta = 0;\n        for (const key of combo) {\n            if (INVALID_STANDALONE_KEYS.indexOf(key) < 0) {\n                non_meta++;\n            }\n        }\n        return non_meta > 0;\n    }\n}\n","import { MatSnackBar, MatSnackBarConfig } from '@angular/material/snack-bar';\n\nlet _service: MatSnackBar;\nlet _disable_logging = false;\n\ndeclare let jest: any;\n\nexport function setNotifyOutlet(\n    snackbar: MatSnackBar,\n    disable_logging = false\n) {\n    _service = snackbar;\n    _disable_logging = disable_logging;\n}\n\n/**\n * Create notification popup\n * @param type CSS Class to add to the notification\n * @param message Message to display on the notificaiton\n * @param action Display text for the callback action\n * @param on_action Callback of action on the notification\n * @param config Configuration details to pass to the snackbar\n */\nexport function notify(\n    type: string,\n    message: string,\n    action: string = 'OK',\n    on_action?: () => void,\n    config: Partial<MatSnackBarConfig> = {}\n): void {\n    if (!_service) {\n        return (\n            !_disable_logging &&\n            console.warn(\"Snackbar service hasn't been initialised\")\n        );\n    }\n    const snackbar_ref = _service.open(message, action, {\n        panelClass: [type],\n        duration: 5000,\n        ...config,\n    });\n    if (action) {\n        on_action = on_action || (() => snackbar_ref.dismiss());\n        snackbar_ref.onAction().subscribe(() => on_action());\n    }\n}\n\n/**\n * Create success notification popup\n * @param msg Message to display on the notificaiton\n * @param action Display text for the callback action\n * @param on_action Callback of action on the notification\n * @param config Configuration details to pass to the snackbar\n */\nexport function notifySuccess(\n    msg: string,\n    action?: string,\n    on_action?: () => void,\n    config: Partial<MatSnackBarConfig> = {}\n): void {\n    !_disable_logging && console.debug(msg);\n    if (typeof msg !== 'string') msg = 'Success';\n    notify('success', msg, action, on_action, config);\n}\n\n/**\n * Create error notification popup\n * @param msg Message to display on the notificaiton\n * @param action Display text for the callback action\n * @param on_action Callback of action on the notification\n * @param config Configuration details to pass to the snackbar\n */\nexport function notifyError(\n    msg: string,\n    action?: string,\n    on_action?: () => void,\n    config: Partial<MatSnackBarConfig> = {}\n): void {\n    !_disable_logging && console.error(msg);\n    if (typeof msg !== 'string')\n        msg =\n            (msg as any)?.error || (msg as any)?.message || 'An error occurred';\n    notify('error', msg, action, on_action, config);\n}\n\n/**\n * Create warning notification popup\n * @param msg Message to display on the notificaiton\n * @param action Display text for the callback action\n * @param on_action Callback of action on the notification\n * @param config Configuration details to pass to the snackbar\n */\nexport function notifyWarn(\n    msg: string,\n    action?: string,\n    on_action?: () => void,\n    config: Partial<MatSnackBarConfig> = {}\n): void {\n    !_disable_logging && console.warn(msg);\n    notify('warn', msg, action, on_action, config);\n}\n\n/**\n * Create info notification popup\n * @param msg Message to display on the notificaiton\n * @param action Display text for the callback action\n * @param on_action Callback of action on the notification\n * @param config Configuration details to pass to the snackbar\n */\nexport function notifyInfo(\n    msg: string,\n    action?: string,\n    on_action?: () => void,\n    config: Partial<MatSnackBarConfig> = {}\n): void {\n    !_disable_logging && console.info(msg);\n    notify('info', msg, action, on_action, config);\n}\n","import { PlaceAuthOptions, setup } from '@placeos/ts-client';\nimport { notifyInfo } from './notifications';\n\nexport interface PlaceSettings {\n    /** Protocol used by the application server */\n    protocol: 'http:' | 'https:';\n    /** Domain that the API server lies  */\n    domain: string;\n    /** Port number of the API server */\n    port: number;\n    /** Route on domain application rests */\n    route: string;\n    /** Whether to use the settings domain for auth */\n    use_domain: boolean;\n    /** Whether login is handled locally by the application */\n    local_login: boolean;\n    /** Whether application should mock out API requests */\n    mock: boolean;\n\n    storage?: 'session' | 'local';\n}\n\n/**\n * Initialise the PlaceOS API library\n */\nexport async function setupPlace(settings: PlaceSettings): Promise<void> {\n    const protocol = settings.protocol || location.protocol;\n    const host = settings.domain || location.hostname;\n    const port = settings.port || location.port;\n    const url = settings.use_domain\n        ? `${protocol}//${host}:${port}`\n        : location.origin;\n    const route = (location.pathname + '/').replace('//', '/');\n    const mock =\n        settings.mock ||\n        location.href.includes('mock=true') ||\n        localStorage.getItem('mock') === 'true';\n    // Generate configuration object\n    const config: PlaceAuthOptions = {\n        auth_type: 'auth_code',\n        scope: 'public',\n        host: `${host}${port ? ':' + port : ''}`,\n        auth_uri: `${url}/auth/oauth/authorize`,\n        token_uri: `${url}/auth/oauth/token`,\n        redirect_uri: `${location.origin}${route}oauth-resp.html`,\n        handle_login: !settings.local_login,\n        use_iframe: true,\n        mock,\n    };\n    if (localStorage) {\n        localStorage.setItem(\n            'mock',\n            `${!!mock && !location.href.includes('mock=false')}`\n        );\n    }\n    if (mock) {\n        notifyInfo('Application in mock mode.');\n    }\n    return setup(config);\n}\n","import { VanillaQR } from './vanillaqr.min';\n\n/** Generates a DataURL for QR code image */\nexport function generateQRCode(code: string, colorLight = '#fff0', colorDark = '#000') {\n    const qr = new VanillaQR({\n        url: code || 'Hello',\n        size: 360,\n        colorLight,\n        colorDark,\n        toTable: false,\n        ecclevel: 1,\n        noBorder: true,\n        borderSize: 0,\n    });\n    return qr?.toImage('svg+xml')?.src;\n}\n","import { Injectable } from '@angular/core';\nimport { getModule } from '@placeos/ts-client';\nimport { BehaviorSubject, combineLatest, of, Subject } from 'rxjs';\nimport { filter, map, shareReplay, switchMap } from 'rxjs/operators';\n\nimport { AsyncHandler } from './async-handler.class';\nimport { randomInt } from './general';\n\nexport interface ClientEvent {\n    id: string;\n    type: 'network' | 'console' | 'dom';\n    subtype: string;\n    timestamp: number;\n    data: any;\n}\n\nfunction hookMethod<T, K extends keyof T>(\n    rootObject: T,\n    functionToHook: K,\n    hookingFunction: (...args: any[]) => void\n): T[K] {\n    var previousFunction = rootObject[functionToHook];\n    (rootObject as any)[functionToHook] = (...args: any[]) => {\n        hookingFunction(args);\n        (previousFunction as any).call(rootObject, ...args);\n    };\n    return previousFunction;\n}\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class RemoteLoggingService extends AsyncHandler {\n    private _system_id = new BehaviorSubject<string>('');\n    private _events = new Subject<ClientEvent>();\n\n    private _event_history = this._events.pipe(shareReplay(1000));\n\n    private _logging_bindings = this._system_id.pipe(\n        filter((_) => !!_),\n        switchMap((id) => combineLatest([of(id), this._bindTo(id, 'enabled')])),\n        filter(([_, enabled]) => !!enabled),\n        map(([id]) =>\n            this.subscription(\n                'post_events',\n                this._event_history.subscribe((d) =>\n                    getModule(id, 'Logger').execute('post_event', [d])\n                )\n            )\n        )\n    );\n\n    public readonly history = this._event_history;\n\n    constructor() {\n        super();\n        this._patchConsoleMethods();\n        this._logging_bindings.subscribe();\n    }\n\n    public setSystem(id: string) {\n        this._system_id.next(id);\n    }\n\n    private _patchConsoleMethods() {\n        const types: (keyof Console)[] = [\n            'log',\n            'debug',\n            'info',\n            'warn',\n            'error',\n        ];\n        for (const key of types) {\n            hookMethod(console, key, (...args) => this._handleEvent(key, args));\n        }\n    }\n\n    private _handleEvent(type: string, data: any, event_type: any = 'console') {\n        data[0] =\n            typeof data[0] === 'string' ? data[0].replace(/%c/g, '') : data[0];\n        this._events.next({\n            id: `${event_type}-${randomInt(99999_99999)}`,\n            type: event_type,\n            subtype: type,\n            timestamp: Date.now(),\n            data: data.filter(\n                (_) => typeof _ !== 'string' || !_.startsWith('color:')\n            ),\n        });\n    }\n\n    /** List to binding */\n    private _bindTo(id: string, name: string, mod: string = 'Logger') {\n        const module = getModule(id, mod).binding(name);\n        this.subscription(`bind:${name}`, module.bind());\n        return module.listen();\n    }\n}\n","export interface RoomConfiguration {\n    id: string;\n    name?: string;\n    description?: string;\n    capacity?: number;\n}\n\nexport const mergeRoomConfig = (a: RoomConfiguration, b: RoomConfiguration): RoomConfiguration => {\n    const c: RoomConfiguration = { ...a, ...b };\n    return c;\n};\n\nexport const roomConfigBuilder = (\n    buildingConfigs: RoomConfiguration[] = [],\n    roomConfigs: RoomConfiguration[] = []\n): RoomConfiguration[] => {\n    const map = {};\n    buildingConfigs.forEach((f) => (map[f.id] = f));\n    const output: RoomConfiguration[] = [];\n    roomConfigs.forEach((r) => {\n        if (!!map[r.id]) {\n            output.push(mergeRoomConfig(map[r.id], r));\n        }\n    });\n    return output;\n};\n","import { Injectable, Optional } from '@angular/core';\nimport { Title } from '@angular/platform-browser';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { showMetadata, updateMetadata } from '@placeos/ts-client';\nimport { format, isSameDay } from 'date-fns';\nimport { first } from 'rxjs/operators';\n\nimport { log, getItemWithKeys, setAppName } from './general';\nimport { DEFAULT_SETTINGS } from './settings';\nimport { HashMap } from './types';\nimport { AsyncHandler } from './async-handler.class';\n\nimport { VERSION } from './version';\nimport { currentUser, current_user } from './user-state';\nimport { GoogleAnalyticsService } from './google-analytics.service';\n\ndeclare global {\n    interface Window {\n        debug: boolean;\n        application: HashMap;\n    }\n}\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class SettingsService extends AsyncHandler {\n    /** Name of the application */\n    private _app_name = 'PlaceOS';\n    /** List of override settings in order of priority */\n    private _overrides = new BehaviorSubject<HashMap[]>([]);\n    /** User's personal settings */\n    private _user_settings = new BehaviorSubject<HashMap>({});\n    /** Mapping of behaviour subjects */\n    private _subjects: HashMap<BehaviorSubject<any>> = {};\n    /** Mapping of observables */\n    private _observables: HashMap<Observable<any>> = {};\n    /** Mapping of pending settings */\n    private _pending_settings: HashMap = {};\n\n    /**\n     * @hidden\n     */\n    public set overrides(value: HashMap[]) {\n        this._overrides.next(value);\n        this._applyCssVariables();\n    }\n\n    /** Get observable for key */\n    public listen<T = any>(name: string): Observable<T> {\n        if (!this._observables[name]) {\n            this._subjects[name] = new BehaviorSubject<T>(null);\n            this._observables[name] = this._subjects[name].asObservable();\n        }\n        return this._observables[name];\n    }\n\n    /** Update observable value for key */\n    public post<T>(name: string, value: T): void {\n        if (!this._observables[name]) {\n            this._subjects[name] = new BehaviorSubject<T>(null);\n            this._observables[name] = this._subjects[name].asObservable();\n        }\n        this._subjects[name].next(value);\n    }\n\n    public value<T = any>(name: string): T {\n        return !this._observables[name]\n            ? null\n            : this._subjects[name].getValue();\n    }\n\n    /** Page title */\n    public get title() {\n        return this._title.getTitle();\n    }\n    public set title(value: string) {\n        this._title.setTitle(\n            `${value} | ${this.get('app.name') || this._app_name}`\n        );\n        const tracking_id = this.get('app.analytics.tracking_id');\n        if (!tracking_id) return;\n        this._analytics?.send('pagename', { title: value });\n    }\n\n    constructor(\n        private _title: Title,\n        @Optional() private _analytics: GoogleAnalyticsService\n    ) {\n        super();\n        const now = new Date();\n        const time = new Date(VERSION.time);\n        const built = isSameDay(now, time)\n            ? `Today at ${format(time, 'h:mma')}`\n            : format(time, 'do MMM yyyy, h:mma');\n        log('CORE', `${VERSION.semver}`, null, 'debug', true);\n        log('APP', `${VERSION.hash} | Built: ${built}`, null, 'debug', true);\n        this.init();\n    }\n\n    /**\n     * Initialise the settings\n     */\n    public async init() {\n        this._setDarkMode();\n        if (this.get('debug')) window.debug = true;\n        if (this.get('app')?.name) {\n            this._app_name = this.get('app').name;\n        }\n        this._app_name =\n            location.pathname.replace(/[\\\\\\/]/g, '').trim() || this._app_name;\n        setAppName(this._app_name.split('-').join('_').toUpperCase());\n        log('Settings', 'Successfully loaded settings');\n        this._initialised.next(true);\n        if (window.debug) {\n            if (!window.application) window.application = {};\n            window.application.settings = this;\n        }\n        this.subscription(\n            'user_settings',\n            this._user_settings.subscribe((_) => this._applyUserSettings(_))\n        );\n        const user = await current_user.pipe(first((_) => !!_)).toPromise();\n        const data = await showMetadata(user.id, 'settings').toPromise();\n        this._user_settings.next(data.details || {});\n        this._setDarkMode();\n        this._setFontSize();\n    }\n\n    /** Whether settings service has initialised */\n    public get app_name() {\n        return this._app_name;\n    }\n\n    /**\n     * Get a setting\n     * @param key Name of the setting. i.e. nested items can be grabbed using `.` to seperate key names\n     */\n    public get<T = any>(key: string): T {\n        const keys = key.split('.');\n        if (keys[0] !== 'app') {\n            return (\n                getItemWithKeys(keys, this._pending_settings) ??\n                getItemWithKeys(keys, this._user_settings.getValue()) ??\n                getItemWithKeys(keys, DEFAULT_SETTINGS)\n            );\n        }\n        const override_settings = [...this._overrides.getValue()];\n        for (const override of override_settings) {\n            const value = getItemWithKeys(keys.slice(1), override);\n            if (value != null) {\n                return value;\n            }\n        }\n        return getItemWithKeys(keys, DEFAULT_SETTINGS);\n    }\n\n    public saveUserSetting<T>(name: string, value: T) {\n        this._pending_settings[name] = value;\n        if (name === 'dark_mode') this._setDarkMode();\n        if (name === 'font_size') this._setFontSize();\n        this.timeout('save_settings', () => this._savePendingChanges(), 5000);\n    }\n\n    public overrideCssVariable(\n        key: string,\n        value: string,\n        important: boolean = false\n    ) {\n        let element = document.getElementById(`css-var-overrides+${key}`);\n        if (!element) {\n            element = document.createElement('style');\n            element.id = `css-var-overrides+${key}`;\n            document.head.appendChild(element);\n        }\n        element.innerText = `html, body { --${key}: ${value} ${\n            important ? '!important' : ''\n        }}`;\n    }\n\n    private _applyCssVariables() {\n        const variable_map = this.get('app.css_variables') || {};\n        let css_string = 'body { ';\n        for (const key in variable_map) {\n            css_string += `--${key}: ${variable_map[key]}; `;\n        }\n        css_string += '}';\n        let element = document.getElementById('css-var-overrides');\n        if (!element) {\n            element = document.createElement('style');\n            element.id = 'css-var-overrides';\n            document.head.appendChild(element);\n        }\n        element.innerText = css_string;\n    }\n\n    private async _savePendingChanges() {\n        const user = currentUser();\n        if (!user?.id || !Object.keys(this._pending_settings).length) return;\n        await updateMetadata(user.id, {\n            name: 'settings',\n            description: '',\n            details: {\n                ...this._user_settings.getValue(),\n                ...this._pending_settings,\n            },\n        }).toPromise();\n        this._user_settings.next({\n            ...this._user_settings.getValue(),\n            ...this._pending_settings,\n        });\n        this._pending_settings = {};\n    }\n\n    private async _applyUserSettings(settings: HashMap) {\n        if (settings.font_size) {\n        }\n    }\n\n    private _setFontSize() {\n        if (!this.get('font_size')) return;\n        this.overrideCssVariable('font-size', `${this.get('font_size')}px`);\n    }\n\n    private _setDarkMode() {\n        // const os_dark = false; // window?.matchMedia ? window?.matchMedia('(prefers-color-scheme: dark)')?.matches : false;\n        // if (this.get('dark_mode') ?? os_dark) {\n        //     document.body.classList.add('dark');\n        // } else {\n        //     document.body.classList.remove('dark');\n        // }\n    }\n}\n","/**\n * GENERAL APPLICATION SETTINGS\n */\nconst general: any = {\n    banner: {\n        id: '2',\n        type: 'info',\n        content: ``,\n    },\n    search: true,\n    dark_mode: false,\n};\n/**\n * HELP/SUPPORT SETTINGS\n */\nconst help: any = [\n    {\n        name: 'About PlaceOS',\n        link: 'https://place.technology/resources',\n        icon: {\n            type: 'icon',\n            class: 'material-icons',\n            content: 'dns',\n        },\n        background:\n            'https://static1.squarespace.com/static/52142586e4b0c09536a144ad/5c8ed203a4222fa1927bbab3/5cb7cba66e9a7f63584b4d39/1555549341622/too-many-buttons.jpg?format=2500w',\n    },\n    {\n        name: 'General Enquiries',\n        link: 'mailto:equiries@place.technology?subject=Staff%20App%20Demo',\n        icon: {\n            type: 'icon',\n            class: 'material-icons',\n            content: 'mail',\n        },\n        background: 'assets/img/it-banner.jpg',\n    },\n    {\n        name: 'Contact PlaceOS',\n        link: 'https://place.technology/contact-1',\n        icon: {\n            type: 'icon',\n            class: 'material-icons',\n            content: 'call',\n        },\n        background:\n            'https://images.squarespace-cdn.com/content/v1/52142586e4b0c09536a144ad/1569984759306-M6ZOKD64OG009U68MYUL/ke17ZwdGBToddI8pDm48kCX-V5vw-8h9IBXN10-_8XN7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0p4Wyba38KfG317vYluk45_zZdtnDCZTLKcP2mivxmYi50xvY5saIGKMgOza9mH4XA/image-asset.jpeg?format=2500w',\n    },\n    {\n        name: 'About Us',\n        link: 'https://place.technology/',\n        icon: {\n            type: 'icon',\n            class: 'material-icons',\n            content: 'business',\n        },\n        background:\n            'https://images.squarespace-cdn.com/content/v1/52142586e4b0c09536a144ad/1569985184499-QF839PTJ2EV30KIZF59X/ke17ZwdGBToddI8pDm48kLkXF2pIyv_F2eUT9F60jBl7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0iyqMbMesKd95J-X4EagrgU9L3Sa3U8cogeb0tjXbfawd0urKshkc5MgdBeJmALQKw/image-asset.jpeg?format=2500w',\n    },\n];\n/**\n * BOOKING FLOW SETTINGS\n */\nconst events: any = {\n    multiple_spaces: false,\n    desk_start: 9,\n    breakdown: 15,\n    can_book_for_others: false,\n    has_catering: true,\n    has_assets: true,\n    catering_enabled: 'bld-01',\n    allow_all_day: true,\n    hide_notes: false,\n    hide_attendees: false,\n    features_label: '',\n    features_on_form: false,\n    booking_unavailable: false,\n    allow_externals: true,\n    allow_recurrence: false,\n};\n/*===========================*\\\n||  SPACE LISTING SETTINGS   ||\n\\*===========================*/\nconst space_display: any = {\n    show_images: false,\n};\n/*===========================*\\\n||  USER DIRECTORY SETTINGS  ||\n\\*===========================*/\nconst directory: any = {\n    show_avatars: true,\n    min_search_length: 3,\n};\n/*===========================*\\\n||    SCHEULDE SETTINGS   ||\n\\*===========================*/\nconst schedule = {\n    use_websocket: false,\n    legend: [\n        { name: 'Accepted', color: '#21A453' },\n        { name: 'Pending', color: '#ffbf1f' },\n        { name: 'Rejected', color: '#f44336' },\n    ],\n};\n/*===========================*\\\n||    EXPLORE MAP SETTINGS   ||\n\\*===========================*/\nconst explore: any = {\n    colors: {\n        'space-free': '#43a047',\n        'space-pending': '#ffb300',\n        'space-busy': '#e53935',\n        'space-not-bookable': '#ccc',\n        'space-unknown': '#000',\n        // 'desk-available': '#43a047',\n        // 'desk-available-stroke': '#1b5e20',\n        // 'desk-unavailable': '#e53935',\n        // 'desk-unavailable-stroke': '#b71c1c',\n        // 'desk-reserved': '#ffb300',\n        // 'desk-reserved-stroke': '#ff6f00',\n        // 'desk-not-bookable': '#fff',\n        // 'desk-not-bookable-stroke': '#ccc',\n        'zone-low': '#43a047',\n        'zone-medium': '#ffb300',\n        'zone-high': '#e53935',\n    },\n    can_select_building: true,\n    show_legend_group_names: true,\n    show_legend: true,\n    use_zone_polygons: false,\n    show_simple_sensor_info: false,\n    legend: [\n        ['Available', '#43a047'],\n        ['In Use', '#e53935'],\n        ['Pending', '#ffb300'],\n        ['Signs of Life', '#1565c0'],\n    ],\n};\n/**\n * ROOT APPLICATION SETTINGS\n */\nconst app: any = {\n    name: 'Workplace',\n    title: 'Workplace Application',\n    description: 'PlaceOS Workplace UI written with Angular Framework',\n    short_name: 'STAFF',\n    logo_light: {\n        type: 'img',\n        src: 'assets/logo-light.svg',\n    },\n    logo_dark: {\n        type: 'img',\n        src: 'assets/logo-dark.svg',\n    },\n    locales: [\n        { id: 'en', name: 'English', flag: '🇦🇺' },\n        // { id: 'fr', name: 'French', flag: '🇫🇷' },\n    ],\n    features: [\n        'spaces',\n        'desks',\n        'explore',\n        'parking',\n        'help',\n        'schedule',\n        'wfh',\n        'lockers',\n        'visitor-invite',\n    ],\n    currency: '',\n    default_route: '/landing',\n    use_geolocation: false,\n    new_features: true,\n    can_deliver: true,\n    no_user_calendar: false,\n    basic_user_search: false,\n    no_maps: true,\n    general,\n    help,\n    events,\n    space_display,\n    directory,\n    explore,\n    bookings: {\n        no_approval: false,\n    },\n    booking: {\n        allowed_daily_visitor_count: 100,\n        multiple_visitors: true,\n    },\n    desks: {\n        can_book_lockers: true,\n        can_book_for_others: true,\n        allow_groups: true,\n        allow_time_changes: true,\n        allow_all_day: true,\n        auto_allocation: false,\n        show_calendar_links: true,\n        hide_map: false,\n    },\n    analytics: {\n        enabled: true,\n        tracking_id: '',\n    },\n    hide_contacts: false,\n    schedule,\n};\n/**\n * ROOT SETTIGNS\n */\nexport const DEFAULT_SETTINGS: any = {\n    debug: true,\n    composer: {\n        domain: '',\n        route: '/staff',\n        protocol: '',\n        port: '',\n        use_domain: false,\n        local_login: false,\n    },\n    app,\n};\n","import { Type } from '@angular/core';\nimport { Spectator } from '@ngneat/spectator/jest';\n\nexport async function whenChangesStable<T = Type<any>>(spectator: Spectator<T>) {\n    spectator.detectChanges();\n    await spectator.fixture.whenStable()\n    spectator.detectChanges();\n}\n","import { addMilliseconds } from 'date-fns';\nimport { getTimezoneOffset } from 'date-fns-tz';\n\n\nexport const LOCAL_TIMEZONE = Intl?.DateTimeFormat()?.resolvedOptions()?.timeZone || 'Australia/Sydney';\n\nexport function localToTimezone(date: Date | number, tz: string = LOCAL_TIMEZONE) {\n    const offset_diff = getTimezoneOffset(tz) - getTimezoneOffset(LOCAL_TIMEZONE);\n    return addMilliseconds(date, offset_diff).valueOf();\n}\n\nexport function timezoneToLocal(date: Date | number, tz: string = LOCAL_TIMEZONE) {\n    const offset_diff = getTimezoneOffset(LOCAL_TIMEZONE) - getTimezoneOffset(tz);\n    return addMilliseconds(date, offset_diff).valueOf();\n}\n","import { flatten, unique } from \"./general\";\n\nexport const TIMEZONES = [\n    {\n      \"value\": \"Dateline Standard Time\",\n      \"abbr\": \"DST\",\n      \"offset\": -12,\n      \"isdst\": false,\n      \"text\": \"(UTC-12:00) International Date Line West\",\n      \"utc\": [\n        \"Etc/GMT+12\"\n      ]\n    },\n    {\n      \"value\": \"UTC-11\",\n      \"abbr\": \"U\",\n      \"offset\": -11,\n      \"isdst\": false,\n      \"text\": \"(UTC-11:00) Coordinated Universal Time-11\",\n      \"utc\": [\n        \"Etc/GMT+11\",\n        \"Pacific/Midway\",\n        \"Pacific/Niue\",\n        \"Pacific/Pago_Pago\"\n      ]\n    },\n    {\n      \"value\": \"Hawaiian Standard Time\",\n      \"abbr\": \"HST\",\n      \"offset\": -10,\n      \"isdst\": false,\n      \"text\": \"(UTC-10:00) Hawaii\",\n      \"utc\": [\n        \"Etc/GMT+10\",\n        \"Pacific/Honolulu\",\n        \"Pacific/Johnston\",\n        \"Pacific/Rarotonga\",\n        \"Pacific/Tahiti\"\n      ]\n    },\n    {\n      \"value\": \"Alaskan Standard Time\",\n      \"abbr\": \"AKDT\",\n      \"offset\": -8,\n      \"isdst\": true,\n      \"text\": \"(UTC-09:00) Alaska\",\n      \"utc\": [\n        \"America/Anchorage\",\n        \"America/Juneau\",\n        \"America/Nome\",\n        \"America/Sitka\",\n        \"America/Yakutat\"\n      ]\n    },\n    {\n      \"value\": \"Pacific Standard Time (Mexico)\",\n      \"abbr\": \"PDT\",\n      \"offset\": -7,\n      \"isdst\": true,\n      \"text\": \"(UTC-08:00) Baja California\",\n      \"utc\": [\n        \"America/Santa_Isabel\"\n      ]\n    },\n    {\n      \"value\": \"Pacific Daylight Time\",\n      \"abbr\": \"PDT\",\n      \"offset\": -7,\n      \"isdst\": true,\n      \"text\": \"(UTC-07:00) Pacific Time (US & Canada)\",\n      \"utc\": [\n        \"America/Dawson\",\n        \"America/Los_Angeles\",\n        \"America/Tijuana\",\n        \"America/Vancouver\",\n        \"America/Whitehorse\"\n      ]\n    },\n    {\n      \"value\": \"Pacific Standard Time\",\n      \"abbr\": \"PST\",\n      \"offset\": -8,\n      \"isdst\": false,\n      \"text\": \"(UTC-08:00) Pacific Time (US & Canada)\",\n      \"utc\": [\n        \"America/Dawson\",\n        \"America/Los_Angeles\",\n        \"America/Tijuana\",\n        \"America/Vancouver\",\n        \"America/Whitehorse\",\n        \"PST8PDT\"\n      ]\n    },\n    {\n      \"value\": \"US Mountain Standard Time\",\n      \"abbr\": \"UMST\",\n      \"offset\": -7,\n      \"isdst\": false,\n      \"text\": \"(UTC-07:00) Arizona\",\n      \"utc\": [\n        \"America/Creston\",\n        \"America/Dawson_Creek\",\n        \"America/Hermosillo\",\n        \"America/Phoenix\",\n        \"Etc/GMT+7\"\n      ]\n    },\n    {\n      \"value\": \"Mountain Standard Time (Mexico)\",\n      \"abbr\": \"MDT\",\n      \"offset\": -6,\n      \"isdst\": true,\n      \"text\": \"(UTC-07:00) Chihuahua, La Paz, Mazatlan\",\n      \"utc\": [\n        \"America/Chihuahua\",\n        \"America/Mazatlan\"\n      ]\n    },\n    {\n      \"value\": \"Mountain Standard Time\",\n      \"abbr\": \"MDT\",\n      \"offset\": -6,\n      \"isdst\": true,\n      \"text\": \"(UTC-07:00) Mountain Time (US & Canada)\",\n      \"utc\": [\n        \"America/Boise\",\n        \"America/Cambridge_Bay\",\n        \"America/Denver\",\n        \"America/Edmonton\",\n        \"America/Inuvik\",\n        \"America/Ojinaga\",\n        \"America/Yellowknife\",\n        \"MST7MDT\"\n      ]\n    },\n    {\n      \"value\": \"Central America Standard Time\",\n      \"abbr\": \"CAST\",\n      \"offset\": -6,\n      \"isdst\": false,\n      \"text\": \"(UTC-06:00) Central America\",\n      \"utc\": [\n        \"America/Belize\",\n        \"America/Costa_Rica\",\n        \"America/El_Salvador\",\n        \"America/Guatemala\",\n        \"America/Managua\",\n        \"America/Tegucigalpa\",\n        \"Etc/GMT+6\",\n        \"Pacific/Galapagos\"\n      ]\n    },\n    {\n      \"value\": \"Central Standard Time\",\n      \"abbr\": \"CDT\",\n      \"offset\": -5,\n      \"isdst\": true,\n      \"text\": \"(UTC-06:00) Central Time (US & Canada)\",\n      \"utc\": [\n        \"America/Chicago\",\n        \"America/Indiana/Knox\",\n        \"America/Indiana/Tell_City\",\n        \"America/Matamoros\",\n        \"America/Menominee\",\n        \"America/North_Dakota/Beulah\",\n        \"America/North_Dakota/Center\",\n        \"America/North_Dakota/New_Salem\",\n        \"America/Rainy_River\",\n        \"America/Rankin_Inlet\",\n        \"America/Resolute\",\n        \"America/Winnipeg\",\n        \"CST6CDT\"\n      ]\n    },\n    {\n      \"value\": \"Central Standard Time (Mexico)\",\n      \"abbr\": \"CDT\",\n      \"offset\": -5,\n      \"isdst\": true,\n      \"text\": \"(UTC-06:00) Guadalajara, Mexico City, Monterrey\",\n      \"utc\": [\n        \"America/Bahia_Banderas\",\n        \"America/Cancun\",\n        \"America/Merida\",\n        \"America/Mexico_City\",\n        \"America/Monterrey\"\n      ]\n    },\n    {\n      \"value\": \"Canada Central Standard Time\",\n      \"abbr\": \"CCST\",\n      \"offset\": -6,\n      \"isdst\": false,\n      \"text\": \"(UTC-06:00) Saskatchewan\",\n      \"utc\": [\n        \"America/Regina\",\n        \"America/Swift_Current\"\n      ]\n    },\n    {\n      \"value\": \"SA Pacific Standard Time\",\n      \"abbr\": \"SPST\",\n      \"offset\": -5,\n      \"isdst\": false,\n      \"text\": \"(UTC-05:00) Bogota, Lima, Quito\",\n      \"utc\": [\n        \"America/Bogota\",\n        \"America/Cayman\",\n        \"America/Coral_Harbour\",\n        \"America/Eirunepe\",\n        \"America/Guayaquil\",\n        \"America/Jamaica\",\n        \"America/Lima\",\n        \"America/Panama\",\n        \"America/Rio_Branco\",\n        \"Etc/GMT+5\"\n      ]\n    },\n    {\n      \"value\": \"Eastern Standard Time\",\n      \"abbr\": \"EDT\",\n      \"offset\": -4,\n      \"isdst\": true,\n      \"text\": \"(UTC-05:00) Eastern Time (US & Canada)\",\n      \"utc\": [\n        \"America/Detroit\",\n        \"America/Havana\",\n        \"America/Indiana/Petersburg\",\n        \"America/Indiana/Vincennes\",\n        \"America/Indiana/Winamac\",\n        \"America/Iqaluit\",\n        \"America/Kentucky/Monticello\",\n        \"America/Louisville\",\n        \"America/Montreal\",\n        \"America/Nassau\",\n        \"America/New_York\",\n        \"America/Nipigon\",\n        \"America/Pangnirtung\",\n        \"America/Port-au-Prince\",\n        \"America/Thunder_Bay\",\n        \"America/Toronto\",\n        \"EST5EDT\"\n      ]\n    },\n    {\n      \"value\": \"US Eastern Standard Time\",\n      \"abbr\": \"UEDT\",\n      \"offset\": -4,\n      \"isdst\": true,\n      \"text\": \"(UTC-05:00) Indiana (East)\",\n      \"utc\": [\n        \"America/Indiana/Marengo\",\n        \"America/Indiana/Vevay\",\n        \"America/Indianapolis\"\n      ]\n    },\n    {\n      \"value\": \"Venezuela Standard Time\",\n      \"abbr\": \"VST\",\n      \"offset\": -4.5,\n      \"isdst\": false,\n      \"text\": \"(UTC-04:30) Caracas\",\n      \"utc\": [\n        \"America/Caracas\"\n      ]\n    },\n    {\n      \"value\": \"Paraguay Standard Time\",\n      \"abbr\": \"PYT\",\n      \"offset\": -4,\n      \"isdst\": false,\n      \"text\": \"(UTC-04:00) Asuncion\",\n      \"utc\": [\n        \"America/Asuncion\"\n      ]\n    },\n    {\n      \"value\": \"Atlantic Standard Time\",\n      \"abbr\": \"ADT\",\n      \"offset\": -3,\n      \"isdst\": true,\n      \"text\": \"(UTC-04:00) Atlantic Time (Canada)\",\n      \"utc\": [\n        \"America/Glace_Bay\",\n        \"America/Goose_Bay\",\n        \"America/Halifax\",\n        \"America/Moncton\",\n        \"America/Thule\",\n        \"Atlantic/Bermuda\"\n      ]\n    },\n    {\n      \"value\": \"Central Brazilian Standard Time\",\n      \"abbr\": \"CBST\",\n      \"offset\": -4,\n      \"isdst\": false,\n      \"text\": \"(UTC-04:00) Cuiaba\",\n      \"utc\": [\n        \"America/Campo_Grande\",\n        \"America/Cuiaba\"\n      ]\n    },\n    {\n      \"value\": \"SA Western Standard Time\",\n      \"abbr\": \"SWST\",\n      \"offset\": -4,\n      \"isdst\": false,\n      \"text\": \"(UTC-04:00) Georgetown, La Paz, Manaus, San Juan\",\n      \"utc\": [\n        \"America/Anguilla\",\n        \"America/Antigua\",\n        \"America/Aruba\",\n        \"America/Barbados\",\n        \"America/Blanc-Sablon\",\n        \"America/Boa_Vista\",\n        \"America/Curacao\",\n        \"America/Dominica\",\n        \"America/Grand_Turk\",\n        \"America/Grenada\",\n        \"America/Guadeloupe\",\n        \"America/Guyana\",\n        \"America/Kralendijk\",\n        \"America/La_Paz\",\n        \"America/Lower_Princes\",\n        \"America/Manaus\",\n        \"America/Marigot\",\n        \"America/Martinique\",\n        \"America/Montserrat\",\n        \"America/Port_of_Spain\",\n        \"America/Porto_Velho\",\n        \"America/Puerto_Rico\",\n        \"America/Santo_Domingo\",\n        \"America/St_Barthelemy\",\n        \"America/St_Kitts\",\n        \"America/St_Lucia\",\n        \"America/St_Thomas\",\n        \"America/St_Vincent\",\n        \"America/Tortola\",\n        \"Etc/GMT+4\"\n      ]\n    },\n    {\n      \"value\": \"Pacific SA Standard Time\",\n      \"abbr\": \"PSST\",\n      \"offset\": -4,\n      \"isdst\": false,\n      \"text\": \"(UTC-04:00) Santiago\",\n      \"utc\": [\n        \"America/Santiago\",\n        \"Antarctica/Palmer\"\n      ]\n    },\n    {\n      \"value\": \"Newfoundland Standard Time\",\n      \"abbr\": \"NDT\",\n      \"offset\": -2.5,\n      \"isdst\": true,\n      \"text\": \"(UTC-03:30) Newfoundland\",\n      \"utc\": [\n        \"America/St_Johns\"\n      ]\n    },\n    {\n      \"value\": \"E. South America Standard Time\",\n      \"abbr\": \"ESAST\",\n      \"offset\": -3,\n      \"isdst\": false,\n      \"text\": \"(UTC-03:00) Brasilia\",\n      \"utc\": [\n        \"America/Sao_Paulo\"\n      ]\n    },\n    {\n      \"value\": \"Argentina Standard Time\",\n      \"abbr\": \"AST\",\n      \"offset\": -3,\n      \"isdst\": false,\n      \"text\": \"(UTC-03:00) Buenos Aires\",\n      \"utc\": [\n        \"America/Argentina/La_Rioja\",\n        \"America/Argentina/Rio_Gallegos\",\n        \"America/Argentina/Salta\",\n        \"America/Argentina/San_Juan\",\n        \"America/Argentina/San_Luis\",\n        \"America/Argentina/Tucuman\",\n        \"America/Argentina/Ushuaia\",\n        \"America/Buenos_Aires\",\n        \"America/Catamarca\",\n        \"America/Cordoba\",\n        \"America/Jujuy\",\n        \"America/Mendoza\"\n      ]\n    },\n    {\n      \"value\": \"SA Eastern Standard Time\",\n      \"abbr\": \"SEST\",\n      \"offset\": -3,\n      \"isdst\": false,\n      \"text\": \"(UTC-03:00) Cayenne, Fortaleza\",\n      \"utc\": [\n        \"America/Araguaina\",\n        \"America/Belem\",\n        \"America/Cayenne\",\n        \"America/Fortaleza\",\n        \"America/Maceio\",\n        \"America/Paramaribo\",\n        \"America/Recife\",\n        \"America/Santarem\",\n        \"Antarctica/Rothera\",\n        \"Atlantic/Stanley\",\n        \"Etc/GMT+3\"\n      ]\n    },\n    {\n      \"value\": \"Greenland Standard Time\",\n      \"abbr\": \"GDT\",\n      \"offset\": -3,\n      \"isdst\": true,\n      \"text\": \"(UTC-03:00) Greenland\",\n      \"utc\": [\n        \"America/Godthab\"\n      ]\n    },\n    {\n      \"value\": \"Montevideo Standard Time\",\n      \"abbr\": \"MST\",\n      \"offset\": -3,\n      \"isdst\": false,\n      \"text\": \"(UTC-03:00) Montevideo\",\n      \"utc\": [\n        \"America/Montevideo\"\n      ]\n    },\n    {\n      \"value\": \"Bahia Standard Time\",\n      \"abbr\": \"BST\",\n      \"offset\": -3,\n      \"isdst\": false,\n      \"text\": \"(UTC-03:00) Salvador\",\n      \"utc\": [\n        \"America/Bahia\"\n      ]\n    },\n    {\n      \"value\": \"UTC-02\",\n      \"abbr\": \"U\",\n      \"offset\": -2,\n      \"isdst\": false,\n      \"text\": \"(UTC-02:00) Coordinated Universal Time-02\",\n      \"utc\": [\n        \"America/Noronha\",\n        \"Atlantic/South_Georgia\",\n        \"Etc/GMT+2\"\n      ]\n    },\n    {\n      \"value\": \"Mid-Atlantic Standard Time\",\n      \"abbr\": \"MDT\",\n      \"offset\": -1,\n      \"isdst\": true,\n      \"text\": \"(UTC-02:00) Mid-Atlantic - Old\",\n      \"utc\": []\n    },\n    {\n      \"value\": \"Azores Standard Time\",\n      \"abbr\": \"ADT\",\n      \"offset\": 0,\n      \"isdst\": true,\n      \"text\": \"(UTC-01:00) Azores\",\n      \"utc\": [\n        \"America/Scoresbysund\",\n        \"Atlantic/Azores\"\n      ]\n    },\n    {\n      \"value\": \"Cape Verde Standard Time\",\n      \"abbr\": \"CVST\",\n      \"offset\": -1,\n      \"isdst\": false,\n      \"text\": \"(UTC-01:00) Cape Verde Is.\",\n      \"utc\": [\n        \"Atlantic/Cape_Verde\",\n        \"Etc/GMT+1\"\n      ]\n    },\n    {\n      \"value\": \"Morocco Standard Time\",\n      \"abbr\": \"MDT\",\n      \"offset\": 1,\n      \"isdst\": true,\n      \"text\": \"(UTC) Casablanca\",\n      \"utc\": [\n        \"Africa/Casablanca\",\n        \"Africa/El_Aaiun\"\n      ]\n    },\n    {\n      \"value\": \"UTC\",\n      \"abbr\": \"UTC\",\n      \"offset\": 0,\n      \"isdst\": false,\n      \"text\": \"(UTC) Coordinated Universal Time\",\n      \"utc\": [\n        \"America/Danmarkshavn\",\n        \"Etc/GMT\"\n      ]\n    },\n    {\n      \"value\": \"GMT Standard Time\",\n      \"abbr\": \"GMT\",\n      \"offset\": 0,\n      \"isdst\": false,\n      \"text\": \"(UTC) Edinburgh, London\",\n      \"utc\": [\n        \"Europe/Isle_of_Man\",\n        \"Europe/Guernsey\",\n        \"Europe/Jersey\",\n        \"Europe/London\"\n      ]\n    },\n    {\n      \"value\": \"British Summer Time\",\n      \"abbr\": \"BST\",\n      \"offset\": 1,\n      \"isdst\": true,\n      \"text\": \"(UTC+01:00) Edinburgh, London\",\n      \"utc\": [\n        \"Europe/Isle_of_Man\",\n        \"Europe/Guernsey\",\n        \"Europe/Jersey\",\n        \"Europe/London\"\n      ]\n    },\n    {\n      \"value\": \"GMT Standard Time\",\n      \"abbr\": \"GDT\",\n      \"offset\": 1,\n      \"isdst\": true,\n      \"text\": \"(UTC) Dublin, Lisbon\",\n      \"utc\": [\n        \"Atlantic/Canary\",\n        \"Atlantic/Faeroe\",\n        \"Atlantic/Madeira\",\n        \"Europe/Dublin\",\n        \"Europe/Lisbon\"\n      ]\n    },\n    {\n      \"value\": \"Greenwich Standard Time\",\n      \"abbr\": \"GST\",\n      \"offset\": 0,\n      \"isdst\": false,\n      \"text\": \"(UTC) Monrovia, Reykjavik\",\n      \"utc\": [\n        \"Africa/Abidjan\",\n        \"Africa/Accra\",\n        \"Africa/Bamako\",\n        \"Africa/Banjul\",\n        \"Africa/Bissau\",\n        \"Africa/Conakry\",\n        \"Africa/Dakar\",\n        \"Africa/Freetown\",\n        \"Africa/Lome\",\n        \"Africa/Monrovia\",\n        \"Africa/Nouakchott\",\n        \"Africa/Ouagadougou\",\n        \"Africa/Sao_Tome\",\n        \"Atlantic/Reykjavik\",\n        \"Atlantic/St_Helena\"\n      ]\n    },\n    {\n      \"value\": \"W. Europe Standard Time\",\n      \"abbr\": \"WEDT\",\n      \"offset\": 2,\n      \"isdst\": true,\n      \"text\": \"(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna\",\n      \"utc\": [\n        \"Arctic/Longyearbyen\",\n        \"Europe/Amsterdam\",\n        \"Europe/Andorra\",\n        \"Europe/Berlin\",\n        \"Europe/Busingen\",\n        \"Europe/Gibraltar\",\n        \"Europe/Luxembourg\",\n        \"Europe/Malta\",\n        \"Europe/Monaco\",\n        \"Europe/Oslo\",\n        \"Europe/Rome\",\n        \"Europe/San_Marino\",\n        \"Europe/Stockholm\",\n        \"Europe/Vaduz\",\n        \"Europe/Vatican\",\n        \"Europe/Vienna\",\n        \"Europe/Zurich\"\n      ]\n    },\n    {\n      \"value\": \"Central Europe Standard Time\",\n      \"abbr\": \"CEDT\",\n      \"offset\": 2,\n      \"isdst\": true,\n      \"text\": \"(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague\",\n      \"utc\": [\n        \"Europe/Belgrade\",\n        \"Europe/Bratislava\",\n        \"Europe/Budapest\",\n        \"Europe/Ljubljana\",\n        \"Europe/Podgorica\",\n        \"Europe/Prague\",\n        \"Europe/Tirane\"\n      ]\n    },\n    {\n      \"value\": \"Romance Standard Time\",\n      \"abbr\": \"RDT\",\n      \"offset\": 2,\n      \"isdst\": true,\n      \"text\": \"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris\",\n      \"utc\": [\n        \"Africa/Ceuta\",\n        \"Europe/Brussels\",\n        \"Europe/Copenhagen\",\n        \"Europe/Madrid\",\n        \"Europe/Paris\"\n      ]\n    },\n    {\n      \"value\": \"Central European Standard Time\",\n      \"abbr\": \"CEDT\",\n      \"offset\": 2,\n      \"isdst\": true,\n      \"text\": \"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb\",\n      \"utc\": [\n        \"Europe/Sarajevo\",\n        \"Europe/Skopje\",\n        \"Europe/Warsaw\",\n        \"Europe/Zagreb\"\n      ]\n    },\n    {\n      \"value\": \"W. Central Africa Standard Time\",\n      \"abbr\": \"WCAST\",\n      \"offset\": 1,\n      \"isdst\": false,\n      \"text\": \"(UTC+01:00) West Central Africa\",\n      \"utc\": [\n        \"Africa/Algiers\",\n        \"Africa/Bangui\",\n        \"Africa/Brazzaville\",\n        \"Africa/Douala\",\n        \"Africa/Kinshasa\",\n        \"Africa/Lagos\",\n        \"Africa/Libreville\",\n        \"Africa/Luanda\",\n        \"Africa/Malabo\",\n        \"Africa/Ndjamena\",\n        \"Africa/Niamey\",\n        \"Africa/Porto-Novo\",\n        \"Africa/Tunis\",\n        \"Etc/GMT-1\"\n      ]\n    },\n    {\n      \"value\": \"Namibia Standard Time\",\n      \"abbr\": \"NST\",\n      \"offset\": 1,\n      \"isdst\": false,\n      \"text\": \"(UTC+01:00) Windhoek\",\n      \"utc\": [\n        \"Africa/Windhoek\"\n      ]\n    },\n    {\n      \"value\": \"GTB Standard Time\",\n      \"abbr\": \"GDT\",\n      \"offset\": 3,\n      \"isdst\": true,\n      \"text\": \"(UTC+02:00) Athens, Bucharest\",\n      \"utc\": [\n        \"Asia/Nicosia\",\n        \"Europe/Athens\",\n        \"Europe/Bucharest\",\n        \"Europe/Chisinau\"\n      ]\n    },\n    {\n      \"value\": \"Middle East Standard Time\",\n      \"abbr\": \"MEDT\",\n      \"offset\": 3,\n      \"isdst\": true,\n      \"text\": \"(UTC+02:00) Beirut\",\n      \"utc\": [\n        \"Asia/Beirut\"\n      ]\n    },\n    {\n      \"value\": \"Egypt Standard Time\",\n      \"abbr\": \"EST\",\n      \"offset\": 2,\n      \"isdst\": false,\n      \"text\": \"(UTC+02:00) Cairo\",\n      \"utc\": [\n        \"Africa/Cairo\"\n      ]\n    },\n    {\n      \"value\": \"Syria Standard Time\",\n      \"abbr\": \"SDT\",\n      \"offset\": 3,\n      \"isdst\": true,\n      \"text\": \"(UTC+02:00) Damascus\",\n      \"utc\": [\n        \"Asia/Damascus\"\n      ]\n    },\n    {\n      \"value\": \"E. Europe Standard Time\",\n      \"abbr\": \"EEDT\",\n      \"offset\": 3,\n      \"isdst\": true,\n      \"text\": \"(UTC+02:00) E. Europe\",\n      \"utc\": [\n        \"Asia/Nicosia\",\n        \"Europe/Athens\",\n        \"Europe/Bucharest\",\n        \"Europe/Chisinau\",\n        \"Europe/Helsinki\",\n        \"Europe/Kiev\",\n        \"Europe/Mariehamn\",\n        \"Europe/Nicosia\",\n        \"Europe/Riga\",\n        \"Europe/Sofia\",\n        \"Europe/Tallinn\",\n        \"Europe/Uzhgorod\",\n        \"Europe/Vilnius\",\n        \"Europe/Zaporozhye\"\n\n      ]\n    },\n    {\n      \"value\": \"South Africa Standard Time\",\n      \"abbr\": \"SAST\",\n      \"offset\": 2,\n      \"isdst\": false,\n      \"text\": \"(UTC+02:00) Harare, Pretoria\",\n      \"utc\": [\n        \"Africa/Blantyre\",\n        \"Africa/Bujumbura\",\n        \"Africa/Gaborone\",\n        \"Africa/Harare\",\n        \"Africa/Johannesburg\",\n        \"Africa/Kigali\",\n        \"Africa/Lubumbashi\",\n        \"Africa/Lusaka\",\n        \"Africa/Maputo\",\n        \"Africa/Maseru\",\n        \"Africa/Mbabane\",\n        \"Etc/GMT-2\"\n      ]\n    },\n    {\n      \"value\": \"FLE Standard Time\",\n      \"abbr\": \"FDT\",\n      \"offset\": 3,\n      \"isdst\": true,\n      \"text\": \"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius\",\n      \"utc\": [\n        \"Europe/Helsinki\",\n        \"Europe/Kiev\",\n        \"Europe/Mariehamn\",\n        \"Europe/Riga\",\n        \"Europe/Sofia\",\n        \"Europe/Tallinn\",\n        \"Europe/Uzhgorod\",\n        \"Europe/Vilnius\",\n        \"Europe/Zaporozhye\"\n      ]\n    },\n    {\n      \"value\": \"Turkey Standard Time\",\n      \"abbr\": \"TDT\",\n      \"offset\": 3,\n      \"isdst\": false,\n      \"text\": \"(UTC+03:00) Istanbul\",\n      \"utc\": [\n        \"Europe/Istanbul\"\n      ]\n    },\n    {\n      \"value\": \"Israel Standard Time\",\n      \"abbr\": \"JDT\",\n      \"offset\": 3,\n      \"isdst\": true,\n      \"text\": \"(UTC+02:00) Jerusalem\",\n      \"utc\": [\n        \"Asia/Jerusalem\"\n      ]\n    },\n    {\n      \"value\": \"Libya Standard Time\",\n      \"abbr\": \"LST\",\n      \"offset\": 2,\n      \"isdst\": false,\n      \"text\": \"(UTC+02:00) Tripoli\",\n      \"utc\": [\n        \"Africa/Tripoli\"\n      ]\n    },\n    {\n      \"value\": \"Jordan Standard Time\",\n      \"abbr\": \"JST\",\n      \"offset\": 3,\n      \"isdst\": false,\n      \"text\": \"(UTC+03:00) Amman\",\n      \"utc\": [\n        \"Asia/Amman\"\n      ]\n    },\n    {\n      \"value\": \"Arabic Standard Time\",\n      \"abbr\": \"AST\",\n      \"offset\": 3,\n      \"isdst\": false,\n      \"text\": \"(UTC+03:00) Baghdad\",\n      \"utc\": [\n        \"Asia/Baghdad\"\n      ]\n    },\n    {\n      \"value\": \"Kaliningrad Standard Time\",\n      \"abbr\": \"KST\",\n      \"offset\": 3,\n      \"isdst\": false,\n      \"text\": \"(UTC+02:00) Kaliningrad\",\n      \"utc\": [\n        \"Europe/Kaliningrad\"\n      ]\n    },\n    {\n      \"value\": \"Arab Standard Time\",\n      \"abbr\": \"AST\",\n      \"offset\": 3,\n      \"isdst\": false,\n      \"text\": \"(UTC+03:00) Kuwait, Riyadh\",\n      \"utc\": [\n        \"Asia/Aden\",\n        \"Asia/Bahrain\",\n        \"Asia/Kuwait\",\n        \"Asia/Qatar\",\n        \"Asia/Riyadh\"\n      ]\n    },\n    {\n      \"value\": \"E. Africa Standard Time\",\n      \"abbr\": \"EAST\",\n      \"offset\": 3,\n      \"isdst\": false,\n      \"text\": \"(UTC+03:00) Nairobi\",\n      \"utc\": [\n        \"Africa/Addis_Ababa\",\n        \"Africa/Asmera\",\n        \"Africa/Dar_es_Salaam\",\n        \"Africa/Djibouti\",\n        \"Africa/Juba\",\n        \"Africa/Kampala\",\n        \"Africa/Khartoum\",\n        \"Africa/Mogadishu\",\n        \"Africa/Nairobi\",\n        \"Antarctica/Syowa\",\n        \"Etc/GMT-3\",\n        \"Indian/Antananarivo\",\n        \"Indian/Comoro\",\n        \"Indian/Mayotte\"\n      ]\n    },\n    {\n      \"value\": \"Moscow Standard Time\",\n      \"abbr\": \"MSK\",\n      \"offset\": 3,\n      \"isdst\": false,\n      \"text\": \"(UTC+03:00) Moscow, St. Petersburg, Volgograd, Minsk\",\n      \"utc\": [\n          \"Europe/Kirov\",\n        \"Europe/Moscow\",\n        \"Europe/Simferopol\",\n        \"Europe/Volgograd\",\n        \"Europe/Minsk\"\n      ]\n    },\n    {\n      \"value\": \"Samara Time\",\n      \"abbr\": \"SAMT\",\n      \"offset\": 4,\n      \"isdst\": false,\n      \"text\": \"(UTC+04:00) Samara, Ulyanovsk, Saratov\",\n      \"utc\": [\n          \"Europe/Astrakhan\",\n        \"Europe/Samara\",\n          \"Europe/Ulyanovsk\"\n      ]\n    },\n    {\n      \"value\": \"Iran Standard Time\",\n      \"abbr\": \"IDT\",\n      \"offset\": 4.5,\n      \"isdst\": true,\n      \"text\": \"(UTC+03:30) Tehran\",\n      \"utc\": [\n        \"Asia/Tehran\"\n      ]\n    },\n    {\n      \"value\": \"Arabian Standard Time\",\n      \"abbr\": \"AST\",\n      \"offset\": 4,\n      \"isdst\": false,\n      \"text\": \"(UTC+04:00) Abu Dhabi, Muscat\",\n      \"utc\": [\n        \"Asia/Dubai\",\n        \"Asia/Muscat\",\n        \"Etc/GMT-4\"\n      ]\n    },\n    {\n      \"value\": \"Azerbaijan Standard Time\",\n      \"abbr\": \"ADT\",\n      \"offset\": 5,\n      \"isdst\": true,\n      \"text\": \"(UTC+04:00) Baku\",\n      \"utc\": [\n        \"Asia/Baku\"\n      ]\n    },\n    {\n      \"value\": \"Mauritius Standard Time\",\n      \"abbr\": \"MST\",\n      \"offset\": 4,\n      \"isdst\": false,\n      \"text\": \"(UTC+04:00) Port Louis\",\n      \"utc\": [\n        \"Indian/Mahe\",\n        \"Indian/Mauritius\",\n        \"Indian/Reunion\"\n      ]\n    },\n    {\n      \"value\": \"Georgian Standard Time\",\n      \"abbr\": \"GET\",\n      \"offset\": 4,\n      \"isdst\": false,\n      \"text\": \"(UTC+04:00) Tbilisi\",\n      \"utc\": [\n        \"Asia/Tbilisi\"\n      ]\n    },\n    {\n      \"value\": \"Caucasus Standard Time\",\n      \"abbr\": \"CST\",\n      \"offset\": 4,\n      \"isdst\": false,\n      \"text\": \"(UTC+04:00) Yerevan\",\n      \"utc\": [\n        \"Asia/Yerevan\"\n      ]\n    },\n    {\n      \"value\": \"Afghanistan Standard Time\",\n      \"abbr\": \"AST\",\n      \"offset\": 4.5,\n      \"isdst\": false,\n      \"text\": \"(UTC+04:30) Kabul\",\n      \"utc\": [\n        \"Asia/Kabul\"\n      ]\n    },\n    {\n      \"value\": \"West Asia Standard Time\",\n      \"abbr\": \"WAST\",\n      \"offset\": 5,\n      \"isdst\": false,\n      \"text\": \"(UTC+05:00) Ashgabat, Tashkent\",\n      \"utc\": [\n        \"Antarctica/Mawson\",\n        \"Asia/Aqtau\",\n        \"Asia/Aqtobe\",\n        \"Asia/Ashgabat\",\n        \"Asia/Dushanbe\",\n        \"Asia/Oral\",\n        \"Asia/Samarkand\",\n        \"Asia/Tashkent\",\n        \"Etc/GMT-5\",\n        \"Indian/Kerguelen\",\n        \"Indian/Maldives\"\n      ]\n    },\n    {\n      \"value\": \"Yekaterinburg Time\",\n      \"abbr\": \"YEKT\",\n      \"offset\": 5,\n      \"isdst\": false,\n      \"text\": \"(UTC+05:00) Yekaterinburg\",\n      \"utc\": [\n        \"Asia/Yekaterinburg\"\n      ]\n    },\n    {\n      \"value\": \"Pakistan Standard Time\",\n      \"abbr\": \"PKT\",\n      \"offset\": 5,\n      \"isdst\": false,\n      \"text\": \"(UTC+05:00) Islamabad, Karachi\",\n      \"utc\": [\n        \"Asia/Karachi\"\n      ]\n    },\n    {\n      \"value\": \"India Standard Time\",\n      \"abbr\": \"IST\",\n      \"offset\": 5.5,\n      \"isdst\": false,\n      \"text\": \"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi\",\n      \"utc\": [\n        \"Asia/Kolkata\"\n      ]\n    },\n    {\n      \"value\": \"Sri Lanka Standard Time\",\n      \"abbr\": \"SLST\",\n      \"offset\": 5.5,\n      \"isdst\": false,\n      \"text\": \"(UTC+05:30) Sri Jayawardenepura\",\n      \"utc\": [\n        \"Asia/Colombo\"\n      ]\n    },\n    {\n      \"value\": \"Nepal Standard Time\",\n      \"abbr\": \"NST\",\n      \"offset\": 5.75,\n      \"isdst\": false,\n      \"text\": \"(UTC+05:45) Kathmandu\",\n      \"utc\": [\n        \"Asia/Kathmandu\"\n      ]\n    },\n    {\n      \"value\": \"Central Asia Standard Time\",\n      \"abbr\": \"CAST\",\n      \"offset\": 6,\n      \"isdst\": false,\n      \"text\": \"(UTC+06:00) Nur-Sultan (Astana)\",\n      \"utc\": [\n        \"Antarctica/Vostok\",\n        \"Asia/Almaty\",\n        \"Asia/Bishkek\",\n        \"Asia/Qyzylorda\",\n        \"Asia/Urumqi\",\n        \"Etc/GMT-6\",\n        \"Indian/Chagos\"\n      ]\n    },\n    {\n      \"value\": \"Bangladesh Standard Time\",\n      \"abbr\": \"BST\",\n      \"offset\": 6,\n      \"isdst\": false,\n      \"text\": \"(UTC+06:00) Dhaka\",\n      \"utc\": [\n        \"Asia/Dhaka\",\n        \"Asia/Thimphu\"\n      ]\n    },\n    {\n      \"value\": \"Myanmar Standard Time\",\n      \"abbr\": \"MST\",\n      \"offset\": 6.5,\n      \"isdst\": false,\n      \"text\": \"(UTC+06:30) Yangon (Rangoon)\",\n      \"utc\": [\n        \"Asia/Rangoon\",\n        \"Indian/Cocos\"\n      ]\n    },\n    {\n      \"value\": \"SE Asia Standard Time\",\n      \"abbr\": \"SAST\",\n      \"offset\": 7,\n      \"isdst\": false,\n      \"text\": \"(UTC+07:00) Bangkok, Hanoi, Jakarta\",\n      \"utc\": [\n        \"Antarctica/Davis\",\n        \"Asia/Bangkok\",\n        \"Asia/Hovd\",\n        \"Asia/Jakarta\",\n        \"Asia/Phnom_Penh\",\n        \"Asia/Pontianak\",\n        \"Asia/Saigon\",\n        \"Asia/Vientiane\",\n        \"Etc/GMT-7\",\n        \"Indian/Christmas\"\n      ]\n    },\n    {\n      \"value\": \"N. Central Asia Standard Time\",\n      \"abbr\": \"NCAST\",\n      \"offset\": 7,\n      \"isdst\": false,\n      \"text\": \"(UTC+07:00) Novosibirsk\",\n      \"utc\": [\n        \"Asia/Novokuznetsk\",\n        \"Asia/Novosibirsk\",\n        \"Asia/Omsk\"\n      ]\n    },\n    {\n      \"value\": \"China Standard Time\",\n      \"abbr\": \"CST\",\n      \"offset\": 8,\n      \"isdst\": false,\n      \"text\": \"(UTC+08:00) Beijing, Chongqing, Hong Kong, Urumqi\",\n      \"utc\": [\n        \"Asia/Hong_Kong\",\n        \"Asia/Macau\",\n        \"Asia/Shanghai\"\n      ]\n    },\n    {\n      \"value\": \"North Asia Standard Time\",\n      \"abbr\": \"NAST\",\n      \"offset\": 8,\n      \"isdst\": false,\n      \"text\": \"(UTC+08:00) Krasnoyarsk\",\n      \"utc\": [\n        \"Asia/Krasnoyarsk\"\n      ]\n    },\n    {\n      \"value\": \"Singapore Standard Time\",\n      \"abbr\": \"MPST\",\n      \"offset\": 8,\n      \"isdst\": false,\n      \"text\": \"(UTC+08:00) Kuala Lumpur, Singapore\",\n      \"utc\": [\n        \"Asia/Brunei\",\n        \"Asia/Kuala_Lumpur\",\n        \"Asia/Kuching\",\n        \"Asia/Makassar\",\n        \"Asia/Manila\",\n        \"Asia/Singapore\",\n        \"Etc/GMT-8\"\n      ]\n    },\n    {\n      \"value\": \"W. Australia Standard Time\",\n      \"abbr\": \"WAST\",\n      \"offset\": 8,\n      \"isdst\": false,\n      \"text\": \"(UTC+08:00) Perth\",\n      \"utc\": [\n        \"Antarctica/Casey\",\n        \"Australia/Perth\"\n      ]\n    },\n    {\n      \"value\": \"Taipei Standard Time\",\n      \"abbr\": \"TST\",\n      \"offset\": 8,\n      \"isdst\": false,\n      \"text\": \"(UTC+08:00) Taipei\",\n      \"utc\": [\n        \"Asia/Taipei\"\n      ]\n    },\n    {\n      \"value\": \"Ulaanbaatar Standard Time\",\n      \"abbr\": \"UST\",\n      \"offset\": 8,\n      \"isdst\": false,\n      \"text\": \"(UTC+08:00) Ulaanbaatar\",\n      \"utc\": [\n        \"Asia/Choibalsan\",\n        \"Asia/Ulaanbaatar\"\n      ]\n    },\n    {\n      \"value\": \"North Asia East Standard Time\",\n      \"abbr\": \"NAEST\",\n      \"offset\": 8,\n      \"isdst\": false,\n      \"text\": \"(UTC+08:00) Irkutsk\",\n      \"utc\": [\n        \"Asia/Irkutsk\"\n      ]\n    },\n    {\n      \"value\": \"Japan Standard Time\",\n      \"abbr\": \"JST\",\n      \"offset\": 9,\n      \"isdst\": false,\n      \"text\": \"(UTC+09:00) Osaka, Sapporo, Tokyo\",\n      \"utc\": [\n        \"Asia/Dili\",\n        \"Asia/Jayapura\",\n        \"Asia/Tokyo\",\n        \"Etc/GMT-9\",\n        \"Pacific/Palau\"\n      ]\n    },\n    {\n      \"value\": \"Korea Standard Time\",\n      \"abbr\": \"KST\",\n      \"offset\": 9,\n      \"isdst\": false,\n      \"text\": \"(UTC+09:00) Seoul\",\n      \"utc\": [\n        \"Asia/Pyongyang\",\n        \"Asia/Seoul\"\n      ]\n    },\n    {\n      \"value\": \"Cen. Australia Standard Time\",\n      \"abbr\": \"CAST\",\n      \"offset\": 9.5,\n      \"isdst\": false,\n      \"text\": \"(UTC+09:30) Adelaide\",\n      \"utc\": [\n        \"Australia/Adelaide\",\n        \"Australia/Broken_Hill\"\n      ]\n    },\n    {\n      \"value\": \"AUS Central Standard Time\",\n      \"abbr\": \"ACST\",\n      \"offset\": 9.5,\n      \"isdst\": false,\n      \"text\": \"(UTC+09:30) Darwin\",\n      \"utc\": [\n        \"Australia/Darwin\"\n      ]\n    },\n    {\n      \"value\": \"E. Australia Standard Time\",\n      \"abbr\": \"EAST\",\n      \"offset\": 10,\n      \"isdst\": false,\n      \"text\": \"(UTC+10:00) Brisbane\",\n      \"utc\": [\n        \"Australia/Brisbane\",\n        \"Australia/Lindeman\"\n      ]\n    },\n    {\n      \"value\": \"AUS Eastern Standard Time\",\n      \"abbr\": \"AEST\",\n      \"offset\": 10,\n      \"isdst\": false,\n      \"text\": \"(UTC+10:00) Canberra, Melbourne, Sydney\",\n      \"utc\": [\n        \"Australia/Melbourne\",\n        \"Australia/Sydney\"\n      ]\n    },\n    {\n      \"value\": \"West Pacific Standard Time\",\n      \"abbr\": \"WPST\",\n      \"offset\": 10,\n      \"isdst\": false,\n      \"text\": \"(UTC+10:00) Guam, Port Moresby\",\n      \"utc\": [\n        \"Antarctica/DumontDUrville\",\n        \"Etc/GMT-10\",\n        \"Pacific/Guam\",\n        \"Pacific/Port_Moresby\",\n        \"Pacific/Saipan\",\n        \"Pacific/Truk\"\n      ]\n    },\n    {\n      \"value\": \"Tasmania Standard Time\",\n      \"abbr\": \"TST\",\n      \"offset\": 10,\n      \"isdst\": false,\n      \"text\": \"(UTC+10:00) Hobart\",\n      \"utc\": [\n        \"Australia/Currie\",\n        \"Australia/Hobart\"\n      ]\n    },\n    {\n      \"value\": \"Yakutsk Standard Time\",\n      \"abbr\": \"YST\",\n      \"offset\": 9,\n      \"isdst\": false,\n      \"text\": \"(UTC+09:00) Yakutsk\",\n      \"utc\": [\n        \"Asia/Chita\",\n        \"Asia/Khandyga\",\n        \"Asia/Yakutsk\"\n      ]\n    },\n    {\n      \"value\": \"Central Pacific Standard Time\",\n      \"abbr\": \"CPST\",\n      \"offset\": 11,\n      \"isdst\": false,\n      \"text\": \"(UTC+11:00) Solomon Is., New Caledonia\",\n      \"utc\": [\n        \"Antarctica/Macquarie\",\n        \"Etc/GMT-11\",\n        \"Pacific/Efate\",\n        \"Pacific/Guadalcanal\",\n        \"Pacific/Kosrae\",\n        \"Pacific/Noumea\",\n        \"Pacific/Ponape\"\n      ]\n    },\n    {\n      \"value\": \"Vladivostok Standard Time\",\n      \"abbr\": \"VST\",\n      \"offset\": 11,\n      \"isdst\": false,\n      \"text\": \"(UTC+11:00) Vladivostok\",\n      \"utc\": [\n        \"Asia/Sakhalin\",\n        \"Asia/Ust-Nera\",\n        \"Asia/Vladivostok\"\n      ]\n    },\n    {\n      \"value\": \"New Zealand Standard Time\",\n      \"abbr\": \"NZST\",\n      \"offset\": 12,\n      \"isdst\": false,\n      \"text\": \"(UTC+12:00) Auckland, Wellington\",\n      \"utc\": [\n        \"Antarctica/McMurdo\",\n        \"Pacific/Auckland\"\n      ]\n    },\n    {\n      \"value\": \"UTC+12\",\n      \"abbr\": \"U\",\n      \"offset\": 12,\n      \"isdst\": false,\n      \"text\": \"(UTC+12:00) Coordinated Universal Time+12\",\n      \"utc\": [\n        \"Etc/GMT-12\",\n        \"Pacific/Funafuti\",\n        \"Pacific/Kwajalein\",\n        \"Pacific/Majuro\",\n        \"Pacific/Nauru\",\n        \"Pacific/Tarawa\",\n        \"Pacific/Wake\",\n        \"Pacific/Wallis\"\n      ]\n    },\n    {\n      \"value\": \"Fiji Standard Time\",\n      \"abbr\": \"FST\",\n      \"offset\": 12,\n      \"isdst\": false,\n      \"text\": \"(UTC+12:00) Fiji\",\n      \"utc\": [\n        \"Pacific/Fiji\"\n      ]\n    },\n    {\n      \"value\": \"Magadan Standard Time\",\n      \"abbr\": \"MST\",\n      \"offset\": 12,\n      \"isdst\": false,\n      \"text\": \"(UTC+12:00) Magadan\",\n      \"utc\": [\n        \"Asia/Anadyr\",\n        \"Asia/Kamchatka\",\n        \"Asia/Magadan\",\n        \"Asia/Srednekolymsk\"\n      ]\n    },\n    {\n      \"value\": \"Kamchatka Standard Time\",\n      \"abbr\": \"KDT\",\n      \"offset\": 13,\n      \"isdst\": true,\n      \"text\": \"(UTC+12:00) Petropavlovsk-Kamchatsky - Old\",\n      \"utc\": [\n        \"Asia/Kamchatka\"\n      ]\n    },\n    {\n      \"value\": \"Tonga Standard Time\",\n      \"abbr\": \"TST\",\n      \"offset\": 13,\n      \"isdst\": false,\n      \"text\": \"(UTC+13:00) Nuku'alofa\",\n      \"utc\": [\n        \"Etc/GMT-13\",\n        \"Pacific/Enderbury\",\n        \"Pacific/Fakaofo\",\n        \"Pacific/Tongatapu\"\n      ]\n    },\n    {\n      \"value\": \"Samoa Standard Time\",\n      \"abbr\": \"SST\",\n      \"offset\": 13,\n      \"isdst\": false,\n      \"text\": \"(UTC+13:00) Samoa\",\n      \"utc\": [\n        \"Pacific/Apia\"\n      ]\n    }\n  ];\n\nexport const TIMEZONES_IANA = unique(flatten(TIMEZONES.map(_ => _.utc))).sort();\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, combineLatest, interval } from 'rxjs';\nimport { first, map, tap, throttleTime } from 'rxjs/operators';\n\nconst EVENTS_NAMES = ['keypress', 'mousemove', 'touchmove', 'scroll', 'wheel'];\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class UserIdleTimeService {\n    private _last_action = new BehaviorSubject(Date.now());\n    private _update = (e?) => this._onUserInteraction();\n    private _event_names = EVENTS_NAMES;\n\n    public readonly last_action = combineLatest([\n        this._last_action,\n        interval(1000),\n    ]).pipe(\n        throttleTime(300),\n        map(([last_action]) => last_action)\n    );\n\n    public readonly idle_time = this.last_action.pipe(\n        map((time) => Date.now() - time)\n    );\n\n    private _onUserInteraction() {\n        this._last_action.next(Date.now());\n    }\n\n    public idleFor(time_ms: number) {\n        const stop = this.startListening();\n        return this.idle_time.pipe(\n            first((t) => t >= time_ms),\n            tap(() => stop())\n        );\n    }\n\n    public startListening() {\n        this._last_action.next(Date.now());\n        for (const name of this._event_names) {\n            document.body.addEventListener(name, this._update);\n        }\n        return () => this.stopListening();\n    }\n\n    public stopListening() {\n        for (const name of this._event_names) {\n            document.body.removeEventListener(name, this._update);\n        }\n    }\n}\n","import { showUser } from '@placeos/ts-client';\nimport { BehaviorSubject } from 'rxjs';\nimport { delay, map, retry } from 'rxjs/operators';\n\nimport { StaffUser } from '../../../users/src/lib/user.class';\n\nconst EMPTY_USER = new StaffUser();\n\nconst _current_user = new BehaviorSubject<StaffUser>(null);\n\nexport const current_user = _current_user.asObservable();\n\ndeclare let jest;\n\nsetTimeout(() => {\n    try {\n        if (jest) return;\n    } catch {}\n    showUser('current')\n        .pipe(\n            delay(1000),\n            retry(10),\n            map((i) => new StaffUser(i))\n        )\n        .subscribe((user) => _current_user.next(user));\n}, 300);\n\n/** Get the current user details */\nexport function currentUser() {\n    return _current_user.getValue() || EMPTY_USER;\n}\n","// @ts-nocheck\n/** From https://github.com/chuckfairy/VanillaQR.js */\nexport function VanillaQR(r){var e=this;r=\"object\"==typeof r?r:{},e.revision=3,e.imageTypes={bmp:\"image/bmp\",gif:\"image/gif\",jpeg:\"image/jpeg\",jpg:\"image/jpg\",png:\"image/png\",\"svg+xml\":\"image/svg+xml\",tiff:\"image/tiff\",webp:\"image/webp\",\"x-icon\":\"image/x-icon\"},e.toTable=r.toTable,e.domElement=e.toTable?document.createElement(\"div\"):document.createElement(\"canvas\"),e.url=r.url||\"\",e.size=r.size||280,e.qrc=!1,e.colorLight=r.colorLight||\"#fff\",e.colorDark=r.colorDark||\"#000\",e.ecclevel=r.ecclevel||1,e.noBorder=r.noBorder,e.borderSize=r.borderSize||4;var o,a,t,i,n,l,f,c=[],s=[],d=[],g=[],h=[],v=[],m=function(r,e){var o;r>e&&(o=r,r=e,e=o),o=e,o*=e,o+=e,o>>=1,g[o+=r]=1},u=function(r,e){var o;for(d[r+t*e]=1,o=-2;o<2;o++)d[r+o+t*(e-2)]=1,d[r-2+t*(e+o+1)]=1,d[r+2+t*(e+o)]=1,d[r+o+1+t*(e+2)]=1;for(o=0;o<2;o++)m(r-1,e+o),m(r+1,e-o),m(r-o,e-1),m(r+o,e+1)},p=function(r){for(;r>=255;)r=((r-=255)>>8)+(255&r);return r},b=function(r,e,o,a){var t,i,n,l=VanillaQR.gexp,f=VanillaQR.glog;for(t=0;t<a;t++)c[o+t]=0;for(t=0;t<e;t++){if(255!=(n=f[c[r+t]^c[o]]))for(i=1;i<a;i++)c[o+i-1]=c[o+i]^l[p(n+v[a-i])];else for(i=o;i<o+a;i++)c[i]=c[i+1];c[o+a-1]=255==n?0:l[p(n+v[0])]}},R=function(r,e){var o;return r>e&&(o=r,r=e,e=o),o=e,o+=e*e,o>>=1,g[o+=r]},Q=function(r){var e,o,a,i;switch(r){case 0:for(o=0;o<t;o++)for(e=0;e<t;e++)e+o&1||R(e,o)||(d[e+o*t]^=1);break;case 1:for(o=0;o<t;o++)for(e=0;e<t;e++)1&o||R(e,o)||(d[e+o*t]^=1);break;case 2:for(o=0;o<t;o++)for(a=0,e=0;e<t;e++,a++)3==a&&(a=0),a||R(e,o)||(d[e+o*t]^=1);break;case 3:for(i=0,o=0;o<t;o++,i++)for(3==i&&(i=0),a=i,e=0;e<t;e++,a++)3==a&&(a=0),a||R(e,o)||(d[e+o*t]^=1);break;case 4:for(o=0;o<t;o++)for(a=0,i=o>>1&1,e=0;e<t;e++,a++)3==a&&(a=0,i=!i),i||R(e,o)||(d[e+o*t]^=1);break;case 5:for(i=0,o=0;o<t;o++,i++)for(3==i&&(i=0),a=0,e=0;e<t;e++,a++)3==a&&(a=0),(e&o&1)+!(!a|!i)||R(e,o)||(d[e+o*t]^=1);break;case 6:for(i=0,o=0;o<t;o++,i++)for(3==i&&(i=0),a=0,e=0;e<t;e++,a++)3==a&&(a=0),(e&o&1)+(a&&a==i)&1||R(e,o)||(d[e+o*t]^=1);break;case 7:for(i=0,o=0;o<t;o++,i++)for(3==i&&(i=0),a=0,e=0;e<t;e++,a++)3==a&&(a=0),(a&&a==i)+(e+o&1)&1||R(e,o)||(d[e+o*t]^=1)}},V=function(r){var e,o=0;for(e=0;e<=r;e++)h[e]>=5&&(o+=VanillaQR.N1+h[e]-5);for(e=3;e<r-1;e+=2)h[e-2]==h[e+2]&&h[e+2]==h[e-1]&&h[e-1]==h[e+1]&&3*h[e-1]==h[e]&&(0==h[e-3]||e+3>r||3*h[e-3]>=4*h[e]||3*h[e+3]>=4*h[e])&&(o+=VanillaQR.N3);return o},k=function(){var r,e,o,a,i,n=0,l=0;for(e=0;e<t-1;e++)for(r=0;r<t-1;r++)(d[r+t*e]&&d[r+1+t*e]&&d[r+t*(e+1)]&&d[r+1+t*(e+1)]||!(d[r+t*e]||d[r+1+t*e]||d[r+t*(e+1)]||d[r+1+t*(e+1)]))&&(n+=VanillaQR.N2);for(e=0;e<t;e++){for(h[0]=0,o=a=r=0;r<t;r++)(i=d[r+t*e])==a?h[o]++:h[++o]=1,l+=(a=i)?1:-1;n+=V(o)}l<0&&(l=-l);var f=l,c=0;for(f+=f<<2,f<<=1;f>t*t;)f-=t*t,c++;for(n+=c*VanillaQR.N4,r=0;r<t;r++){for(h[0]=0,o=a=e=0;e<t;e++)(i=d[r+t*e])==a?h[o]++:h[++o]=1,a=i;n+=V(o)}return n};e.genframe=function(r){var e,h,V,x,C,w,E,N,T=VanillaQR.eccblocks,y=VanillaQR.gexp,z=VanillaQR.glog;x=r.length,a=0;do{if(a++,V=4*(o-1)+16*(a-1),i=T[V++],n=T[V++],l=T[V++],f=T[V],x<=(V=l*(i+n)+n-3+(a<=9)))break}while(a<40);for(t=17+4*a,C=l+(l+f)*(i+n)+n,x=0;x<C;x++)s[x]=0;for(c=r.slice(0),x=0;x<t*t;x++)d[x]=0;for(x=0;x<(t*(t+1)+1)/2;x++)g[x]=0;for(x=0;x<3;x++){for(V=0,h=0,1==x&&(V=t-7),2==x&&(h=t-7),d[h+3+t*(V+3)]=1,e=0;e<6;e++)d[h+e+t*V]=1,d[h+t*(V+e+1)]=1,d[h+6+t*(V+e)]=1,d[h+e+1+t*(V+6)]=1;for(e=1;e<5;e++)m(h+e,V+1),m(h+1,V+e+1),m(h+5,V+e),m(h+e+1,V+5);for(e=2;e<4;e++)d[h+e+t*(V+2)]=1,d[h+2+t*(V+e+1)]=1,d[h+4+t*(V+e)]=1,d[h+e+1+t*(V+4)]=1}if(a>1)for(x=VanillaQR.adelta[a],h=t-7;;){for(e=t-7;e>x-3&&(u(e,h),!(e<x));)e-=x;if(h<=x+9)break;u(6,h-=x),u(h,6)}for(d[8+t*(t-8)]=1,h=0;h<7;h++)m(7,h),m(t-8,h),m(7,h+t-7);for(e=0;e<8;e++)m(e,7),m(e+t-8,7),m(e,t-8);for(e=0;e<9;e++)m(e,8);for(e=0;e<8;e++)m(e+t-8,8),m(8,e);for(h=0;h<7;h++)m(8,h+t-7);for(e=0;e<t-14;e++)1&e?(m(8+e,6),m(6,8+e)):(d[8+e+6*t]=1,d[6+t*(8+e)]=1);if(a>6)for(x=VanillaQR.vpat[a-7],V=17,e=0;e<6;e++)for(h=0;h<3;h++,V--)1&(V>11?a>>V-12:x>>V)?(d[5-e+t*(2-h+t-11)]=1,d[2-h+t-11+t*(5-e)]=1):(m(5-e,2-h+t-11),m(2-h+t-11,5-e));for(h=0;h<t;h++)for(e=0;e<=h;e++)d[e+t*h]&&m(e,h);for(C=c.length,w=0;w<C;w++)s[w]=c.charCodeAt(w);if(c=s.slice(0),C>=(e=l*(i+n)+n)-2&&(C=e-2,a>9&&C--),w=C,a>9){for(c[w+2]=0,c[w+3]=0;w--;)x=c[w],c[w+3]|=255&x<<4,c[w+2]=x>>4;c[2]|=255&C<<4,c[1]=C>>4,c[0]=64|C>>12}else{for(c[w+1]=0,c[w+2]=0;w--;)x=c[w],c[w+2]|=255&x<<4,c[w+1]=x>>4;c[1]|=255&C<<4,c[0]=64|C>>4}for(w=C+3-(a<10);w<e;)c[w++]=236,c[w++]=17;for(v[0]=1,w=0;w<f;w++){for(v[w+1]=1,E=w;E>0;E--)v[E]=v[E]?v[E-1]^y[p(z[v[E]]+w)]:v[E-1];v[0]=y[p(z[v[0]]+w)]}for(w=0;w<=f;w++)v[w]=z[v[w]];for(V=e,h=0,w=0;w<i;w++)b(h,l,V,f),h+=l,V+=f;for(w=0;w<n;w++)b(h,l+1,V,f),h+=l+1,V+=f;for(h=0,w=0;w<l;w++){for(E=0;E<i;E++)s[h++]=c[w+E*l];for(E=0;E<n;E++)s[h++]=c[i*l+w+E*(l+1)]}for(E=0;E<n;E++)s[h++]=c[i*l+w+E*(l+1)];for(w=0;w<f;w++)for(E=0;E<i+n;E++)s[h++]=c[e+w+E*f];for(c=s,e=h=t-1,V=C=1,N=(l+f)*(i+n)+n,w=0;w<N;w++)for(x=c[w],E=0;E<8;E++,x<<=1){128&x&&(d[e+t*h]=1);do{C?e--:(e++,V?0!=h?h--:(V=!V,6==(e-=2)&&(e--,h=9)):h!=t-1?h++:(V=!V,6==(e-=2)&&(e--,h-=8))),C=!C}while(R(e,h))}for(c=d.slice(0),x=0,h=3e4,V=0;V<8&&(Q(V),(e=k())<h&&(h=e,x=V),7!=x);V++)d=c.slice(0);for(x!=V&&Q(x),h=VanillaQR.fmtword[x+(o-1<<3)],V=0;V<8;V++,h>>=1)1&h&&(d[t-1-V+8*t]=1,V<6?d[8+t*V]=1:d[8+t*(V+1)]=1);for(V=0;V<7;V++,h>>=1)1&h&&(d[8+t*(t-7+V)]=1,V?d[6-V+8*t]=1:d[7+8*t]=1);return d},e.init=function(){o=e.ecclevel;var r=e.genframe(e.url);e.toTable?e.tableWrite(r,t):e.canvasWrite(r,t)},e.init()}VanillaQR.prototype={canvasWrite:function(r,e){if(!this.qrc&&(this.qrc=this.getContext(this.domElement),!this.qrc))return this.toTable=!0,this.domElement=document.createElement(\"div\"),void this.tableWrite(r,e);var o=this.size,a=this.qrc;a.lineWidth=1;var t=o;t/=e+10,t=Math.round(t-.5);var i=4;this.noBorder?(a.canvas.width=a.canvas.height=t*e,i=0):a.canvas.width=a.canvas.height=o,a.clearRect(0,0,o,o),a.fillStyle=this.colorLight,a.fillRect(0,0,t*(e+8),t*(e+8)),a.fillStyle=this.colorDark;for(var n=0;n<e;n++)for(var l=0;l<e;l++)r[l*e+n]&&a.fillRect(t*(i+n),t*(i+l),t,t)},tableWrite:function(r,e){var o=this,a=Math.round(this.size/e-3.5)+\"px\",t=e+(o.noBorder?0:2*o.borderSize),i=o.borderSize,n=\"width:\"+a+\";height:\"+a+\";\",l=o.colorLight,f=o.colorDark,c=document.createElement(\"table\");c.style.cssText=\"border:0;border-collapse:collapse;\";for(var s,d=document.createElement(\"tr\"),g=document.createElement(\"td\"),h=function(){return g.cloneNode()},v=function(){var r=h();return r.style.cssText=n+\"background:\"+l,r},m=function(r){for(var e=r.firstChild,o=0;o<i;o++)r.insertBefore(v(),e),r.appendChild(v())},u=0;u<e;u++){var p=d.cloneNode();c.appendChild(p);for(var b=0;b<e;b++)if(1===r[u*e+b]){var R=(s=void 0,(s=h()).style.cssText=n+\"background:\"+f,s);p.appendChild(R)}else{var Q=v();p.appendChild(Q)}o.noBorder||m(p)}o.noBorder||function(r){for(var e=r.firstChild,a=0;a<o.borderSize;a++){for(var i=d.cloneNode(),n=0;n<t;n++){var l=v();i.appendChild(l)}r.appendChild(i),r.insertBefore(i.cloneNode(!0),e)}}(c),o.domElement.innerHTML=\"\",o.domElement.appendChild(c)},getContext:function(r){return r.getContext&&r.getContext(\"2d\")?r.getContext(\"2d\"):(console.log(\"Browser does not have 2d Canvas support\"),!1)},toImage:function(r){if(this.qrc){var e=this.imageTypes[r];if(!e)throw new Error(r+\" is not a valid image type \");var o=new Image;return o.src=this.domElement.toDataURL(e),o}}},VanillaQR.adelta=[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28],VanillaQR.vpat=[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177],VanillaQR.fmtword=[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],VanillaQR.eccblocks=[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],VanillaQR.glog=[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175],VanillaQR.gexp=[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],VanillaQR.N1=3,VanillaQR.N2=3,VanillaQR.N3=40,VanillaQR.N4=10;\n","// IMPORTANT: THIS FILE IS AUTO GENERATED! DO NOT MANUALLY EDIT OR CHECKIN!\n/* tslint:disable */\nexport const VERSION = {\n    \"dirty\": false,\n    \"raw\": \"v1.12.0-915-g3f5b04b12\",\n    \"hash\": \"g3f5b04b12\",\n    \"distance\": 915,\n    \"tag\": \"v1.12.0\",\n    \"semver\": {\n        \"options\": {\n            \"loose\": false,\n            \"includePrerelease\": false\n        },\n        \"loose\": false,\n        \"raw\": \"v1.12.0\",\n        \"major\": 1,\n        \"minor\": 12,\n        \"patch\": 0,\n        \"prerelease\": [],\n        \"build\": [],\n        \"version\": \"1.12.0\"\n    },\n    \"suffix\": \"915-g3f5b04b12\",\n    \"semverString\": \"1.12.0+915.g3f5b04b12\",\n    \"version\": \"1.12.0\",\n    \"time\": 1686612595398\n};\n/* tslint:enable */\n","import { Injectable } from '@angular/core';\nimport { getModule } from '@placeos/ts-client';\n\nimport { AsyncHandler } from './async-handler.class';\nimport { SettingsService } from './settings.service';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class VorlonService extends AsyncHandler {\n    /** DOM Element containing the Vorlon Script */\n    private _script: HTMLScriptElement;\n\n    constructor(private _settings: SettingsService) {\n        super();\n        this.load();\n    }\n\n    private async load() {\n        const system = this._settings.get('app.vorlon.system');\n        if (system) {\n            const module = getModule(system, 'Vorlon');\n            if (module) {\n                const binding = module.binding('enabled');\n                this.subscription('binding', binding.bind());\n                this.subscription(\n                    'binding_value',\n                    binding.listen().subscribe((state) => {\n                        state\n                            ? this.injectVorlonScript()\n                            : this.removeVorlonScript();\n                    })\n                );\n            }\n        }\n    }\n\n    private injectVorlonScript() {\n        this.removeVorlonScript();\n        this._script = document.createElement('script');\n        const url = this._settings.get('app.vorlon.url');\n        this._script.src = url || `./assets/vorlon.js`;\n        document.head.appendChild(this._script);\n    }\n\n    private removeVorlonScript() {\n        if (this._script) {\n            this._script.parentNode.removeChild(this._script);\n            delete this._script;\n            this._script = null;\n        }\n    }\n}\n","export * from './lib/components.module';\n\nexport * from './lib/action-icon.component';\nexport * from './lib/binding.directive';\nexport * from './lib/confirm-modal.component';\nexport * from './lib/icon.component';\nexport * from './lib/login.component';\nexport * from './lib/popout-menu.component';\nexport * from './lib/unauthorised.component';\nexport * from './lib/user-avatar.component';\nexport * from './lib/interactive-map.component';\nexport * from './lib/map-pin.component';\nexport * from './lib/map-radius.component';\nexport * from './lib/misconfigured.component';\nexport * from './lib/status-overlay.component';\nexport * from './lib/custom-table.component';\nexport * from './lib/custom-tooltip.component';\nexport * from './lib/fixed.pipe';\nexport * from './lib/safe.pipe';\nexport * from './lib/sanitise.pipe';\nexport * from './lib/virtual-keyboard.component';\nexport * from './lib/global-loading.component';\nexport * from './lib/map-locate-modal.component';\nexport * from './lib/image-carousel.component';\nexport * from './lib/redirect.component';\nexport * from './lib/changelog-modal.component';\nexport * from './lib/user-controls.component';\n\nexport * from './lib/authorised-admin.guard';\nexport * from './lib/authorised-user.guard';\n","import { Component, Inject } from '@angular/core';\nimport { AsyncHandler, SettingsService } from '@placeos/common';\nimport { CustomTooltipData } from '@placeos/components';\n\n@Component({\n    selector: 'accessibility-tooltip',\n    template: `\n        <div\n            class=\"flex flex-col w-[18.5rem] rounded bg-white shadow relative -top-12 -right-1 overflow-hidden dark:bg-neutral-700 dark:text-white\"\n        >\n            <div class=\"flex items-center space-x-2 p-2\" (click)=\"close()\">\n                <app-icon class=\"text-2xl\">arrow_back</app-icon>\n                <div class=\"\" i18n>Display & Accessibility</div>\n            </div>\n            <div\n                action\n                *ngIf=\"can_change_dark_mode\"\n                class=\"flex items-center space-x-2 w-full text-left h-auto px-4\"\n            >\n                <div\n                    class=\"flex items-center justify-center rounded-full w-8 h-8 bg-gray-200 dark:bg-neutral-800 my-2\"\n                >\n                    <app-icon class=\"text-xl\">mode_night</app-icon>\n                </div>\n                <div class=\"flex-1 text-sm\" i18n>Dark Mode</div>\n                <mat-slide-toggle\n                    [ngModel]=\"dark_mode\"\n                    (ngModelChange)=\"applySetting('dark_mode', $event)\"\n                ></mat-slide-toggle>\n            </div>\n            <div\n                action\n                class=\"flex items-center space-x-2 w-full text-left h-auto px-4\"\n            >\n                <div\n                    class=\"flex items-center justify-center rounded-full w-8 h-8 bg-gray-200 dark:bg-neutral-800 my-2\"\n                >\n                    <app-icon class=\"text-xl\">playlist_add</app-icon>\n                </div>\n                <div class=\"flex-1 text-sm\" i18n>Large Accessibility Sizes</div>\n                <mat-slide-toggle\n                    [ngModel]=\"accessible\"\n                    (ngModelChange)=\"applySetting('accessible', $event)\"\n                ></mat-slide-toggle>\n            </div>\n            <ng-container *ngIf=\"accessible\">\n                <div\n                    class=\"px-8 py-4 bg-gray-200 dark:bg-neutral-600 text-center\"\n                    i18n\n                >\n                    Adjust your preferred reading size below.\n                </div>\n                <div class=\"flex items-center px-4 space-x-4\">\n                    <span class=\"text-sm\">A</span>\n                    <mat-slider\n                        class=\"flex-1 w-1/2 text-[16px]\"\n                        [min]=\"10\"\n                        [max]=\"24\"\n                        [step]=\"2\"\n                    >\n                        <input\n                            matSliderThumb\n                            class=\"text-[16px]\"\n                            [ngModel]=\"font_size\"\n                            (ngModelChange)=\"applySetting('font_size', $event)\"\n                        />\n                    </mat-slider>\n                    <span class=\"text-2xl\">A</span>\n                    <span\n                        class=\"text-base py-1 px-2 rounded bg-gray-700 text-white my-2\"\n                    >\n                        {{ font_size }}px\n                    </span>\n                </div>\n            </ng-container>\n        </div>\n    `,\n    styles: [\n        `\n            :host > div > [action] {\n                border-top: 1px solid #ccc;\n            }\n        `,\n    ],\n})\nexport class AccessibilityTooltipComponent extends AsyncHandler {\n    public get dark_mode() {\n        return !!this._settings.get('dark_mode');\n    }\n\n    public get can_change_dark_mode() {\n        return !!this._settings.get('app.general.dark_mode');\n    }\n\n    public get accessible() {\n        return !!this._settings.get('accessible');\n    }\n\n    public get font_size() {\n        return this._settings.get('font_size') || 16;\n    }\n\n    public readonly applySetting = (n, v) =>\n        this.timeout(\n            'apply_setting',\n            () => this._settings.saveUserSetting(n, v),\n            1000\n        );\n\n    public readonly close = () => this._data?.close();\n\n    constructor(\n        @Inject(CustomTooltipData) private _data: any,\n        private _settings: SettingsService\n    ) {\n        super();\n    }\n}\n","import { Component, Input } from '@angular/core';\nimport { ApplicationIcon } from 'libs/common/src/lib/types';\n\n@Component({\n    selector: 'action-icon',\n    template: `\n        <button\n            icon\n            matRipple\n            class=\"relative\"\n            [class.success]=\"state === 'success'\"\n            [disabled]=\"loading || disabled\"\n            title=\"\"\n        >\n            <app-icon root [className]=\"className\" [icon]=\"icon\">\n                {{ content }}\n                <ng-content></ng-content>\n            </app-icon>\n            <div [class]=\"'state center ' + state\" *ngIf=\"!loading && state\">\n                <app-icon>\n                    {{ state === 'success' ? 'done' : 'close' }}\n                </app-icon>\n            </div>\n            <div class=\"loader center\" *ngIf=\"loading\">\n                <mat-spinner [diameter]=\"16\"></mat-spinner>\n            </div>\n        </button>\n    `,\n    styles: [\n        `\n            .action-icon.fade > app-icon {\n                opacity: 0.35;\n            }\n\n            .success {\n                pointer-events: none;\n            }\n\n            .success app-icon[root] {\n                opacity: 0.2;\n            }\n\n            .state.success {\n                color: #388e3c;\n            }\n\n            .state.error {\n                color: #e53935;\n            }\n        `,\n    ],\n})\nexport class ActionIconComponent {\n    /** Icon to display */\n    @Input() public icon: ApplicationIcon;\n    /** Icon to display */\n    @Input() public className: string = 'material-icons';\n    /** Icon to display */\n    @Input() public content: string;\n    /** Whether action is being processed */\n    @Input() public loading: boolean;\n    /** Whether action is being processed */\n    @Input() public disabled: boolean;\n    /** State of the action */\n    @Input() public state: 'success' | 'error' | '' = '';\n}\n","import { Component, OnInit, Optional, Renderer2 } from '@angular/core';\nimport { SwUpdate } from '@angular/service-worker';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { Clipboard } from '@angular/cdk/clipboard';\nimport { first } from 'rxjs/operators';\nimport {\n    clientId,\n    invalidateToken,\n    isMock,\n    refreshToken,\n    setAPI_Key,\n    token,\n} from '@placeos/ts-client';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { addHours } from 'date-fns';\n\nimport {\n    AsyncHandler,\n    current_user,\n    currentUser,\n    HotkeysService,\n    notifySuccess,\n    setAppName,\n    setNotifyOutlet,\n    SettingsService,\n    setupCache,\n    setupPlace,\n    log,\n    GoogleAnalyticsService,\n} from '@placeos/common';\nimport { OrganisationService } from 'libs/organisation/src/lib/organisation.service';\nimport { setInternalUserDomain } from 'libs/users/src/lib/user.utilities';\n\nimport { setDefaultCreator } from 'libs/events/src/lib/event.class';\n\nimport * as Sentry from '@sentry/angular-ivy';\nimport { MOCKS } from '@placeos/mocks';\nimport {\n    Amazon,\n    Azure,\n    Google,\n    initialiseUploadService,\n    OpenStack,\n} from '@placeos/cloud-uploads';\nimport { TranslateService } from '@ngx-translate/core';\n\nimport { StylesManager } from 'survey-core';\n\n//SurveyJS styling\nStylesManager.applyTheme('modern');\n\nexport function initSentry(dsn: string, sample_rate: number = 0.2) {\n    if (!dsn) return;\n    Sentry.init({\n        dsn,\n        tracesSampleRate: sample_rate,\n    });\n}\n\n(window as any).global = window;\n\n@Component({\n    selector: 'app-root',\n    template: `\n        <global-banner></global-banner>\n        <div class=\"flex-1 w-full relative h-1/2\">\n            <router-outlet></router-outlet>\n        </div>\n        <global-loading></global-loading>\n        <debug-console *ngIf=\"debug\"></debug-console>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                height: 100%;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class AppComponent extends AsyncHandler implements OnInit {\n    public get debug() {\n        return window.debug;\n    }\n\n    constructor(\n        private _analytics: GoogleAnalyticsService,\n        private _settings: SettingsService,\n        private _org: OrganisationService, // For init\n        private _cache: SwUpdate,\n        private _snackbar: MatSnackBar,\n        private _hotkey: HotkeysService,\n        private _clipboard: Clipboard,\n        private _route: ActivatedRoute,\n        private _renderer: Renderer2,\n        private _router: Router,\n        @Optional() private _translate: TranslateService\n    ) {\n        super();\n    }\n\n    public async ngOnInit() {\n        log('APP', 'MOCKS:', MOCKS);\n        this._hotkey.listen(['Control', 'Alt', 'Shift', 'KeyM'], () => {\n            localStorage.setItem(\n                'mock',\n                `${localStorage.getItem('mock') !== 'true'}`\n            );\n            location.reload();\n        });\n        this._hotkey.listen(['Control', 'Alt', 'Shift', 'KeyD'], () => {\n            this._settings.saveUserSetting(\n                'dark_mode',\n                !this._settings.get('dark_mode')\n            );\n            notifySuccess('Toggled dark mode.');\n        });\n        this._hotkey.listen(['Control', 'Alt', 'Shift', 'KeyC'], () => {\n            this._clipboard.copy(`${token()}|${refreshToken()}`);\n            notifySuccess('Successfully copied token.');\n        });\n        this._hotkey.listen(['Control', 'Alt', 'Shift', 'KeyV'], () => {\n            navigator.clipboard\n                ?.readText()\n                .then((tkn) => this._pasteToken(tkn));\n        });\n        (window as any).pasteToken = (t) => this._pasteToken(t);\n        this._route.queryParamMap.subscribe((params) => {\n            if (params.has('hide_nav'))\n                localStorage.setItem('PlaceOS.hide_nav', 'true');\n            if (params.has('lang')) {\n                const locale = params.get('lang');\n                this._translate?.use(locale);\n                localStorage.setItem('PLACEOS.locale', locale);\n            }\n            if (params.has('x-api-key')) {\n                setAPI_Key(params.get('x-api-key'));\n            }\n        });\n        setNotifyOutlet(this._snackbar);\n        /** Wait for settings to initialise */\n        await this._settings.initialised.pipe(first((_) => _)).toPromise();\n        setAppName(this._settings.get('app.short_name'));\n        const settings = this._settings.get('composer') || {};\n        settings.mock =\n            !!this._settings.get('mock') ||\n            location.origin.includes('demo.place.tech');\n        /** Wait for authentication details to load */\n        await setupPlace(settings).catch((_) => console.error(_));\n        await this._org.initialised.pipe(first((_) => _)).toPromise();\n        setupCache(this._cache);\n        if (!settings.local_login) {\n            this.timeout('wait_for_user', () => this.onInitError(), 30 * 1000);\n        }\n        await current_user.pipe(first((_) => !!_)).toPromise();\n        this.clearTimeout('wait_for_user');\n        setDefaultCreator(currentUser());\n        this._initLocale();\n        setInternalUserDomain(\n            this._settings.get('app.general.internal_user_domain') ||\n                `@${currentUser()?.email?.split('@')[1]}`\n        );\n        this._initAnalytics();\n        initSentry(this._settings.get('app.sentry_dsn'));\n        if (this._settings.get('app.has_uploads')) {\n            this.timeout('init_uploads', () => {\n                initialiseUploadService({\n                    auto_start: true,\n                    token: token(),\n                    endpoint: '/api/files/v1/uploads',\n                    worker_url: 'assets/md5_worker.js',\n                    providers: [Amazon, Azure, Google, OpenStack] as any,\n                });\n            });\n        }\n    }\n\n    private onInitError() {\n        if (isMock() || currentUser()?.is_logged_in) return;\n\n        invalidateToken();\n        location.reload();\n    }\n\n    private _initAnalytics() {\n        const tracking_id = this._settings.get('app.analytics.tracking_id');\n        if (!tracking_id) return;\n        this._analytics.init(tracking_id);\n        this._analytics.load(tracking_id);\n        this._analytics.setUser(currentUser().id);\n    }\n\n    private _initLocale() {\n        try {\n            let locale = localStorage.getItem('PLACEOS.locale');\n            const locales = this._settings.get('app.locales') || [];\n            this._translate?.addLangs(locales.map((_) => _.id));\n            if (locale) {\n                this._translate?.use(locale);\n            } else {\n                const list = navigator.languages;\n                for (const lang of list) {\n                    locale = locales.find((_) => _.id === lang);\n                    if (!locale)\n                        locale = locales.find((_) => lang.includes(_.id));\n                    if (locale) {\n                        this._translate?.use(lang);\n                        localStorage.setItem('PLACEOS.locale', lang);\n                        break;\n                    }\n                }\n            }\n        } catch {}\n    }\n\n    private _pasteToken(tkn: string) {\n        const parts = tkn.split('|');\n        const id = clientId();\n        localStorage.setItem(`${id}_access_token`, `${parts[0]}`);\n        localStorage.setItem(`${id}_refresh_token`, `${parts[1]}`);\n        localStorage.setItem(\n            `${id}_expires_at`,\n            `${addHours(new Date(), 6).valueOf()}`\n        );\n        notifySuccess('Successfully pasted token.');\n        setTimeout(() => location.reload(), 2000);\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { Route, UrlSegment, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, Router } from '@angular/router';\nimport { onlineState } from '@placeos/ts-client';\nimport { current_user } from '@placeos/common';\nimport { first } from 'rxjs/operators';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class AuthorisedAdminGuard  {\n    constructor(private _router: Router) {}\n\n    public async canActivate(\n        next?: ActivatedRouteSnapshot,\n        state?: RouterStateSnapshot\n    ): Promise<boolean | UrlTree> {\n        return this.checkUser();\n    }\n\n    public async canLoad(\n        route?: Route,\n        segments?: UrlSegment[]\n    ): Promise<boolean> {\n        return this.checkUser();\n    }\n\n    private async checkUser() {\n        await onlineState()\n            .pipe(first((_) => _))\n            .toPromise();\n        const user = await current_user.pipe(first((_) => !!_)).toPromise();\n        const can_activate = user && user.groups.includes('placeos_admin');\n        if (!can_activate) {\n            this._router.navigate(['/unauthorised']);\n        }\n        return can_activate;\n    }\n}\n","import { Injectable, Optional } from '@angular/core';\nimport { Route, UrlSegment, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, Router } from '@angular/router';\nimport { onlineState } from '@placeos/ts-client';\nimport { current_user } from '@placeos/common';\nimport { first } from 'rxjs/operators';\n\nimport { StaffUser } from '../../../users/src/lib/user.class';\n\nexport abstract class PLACEOS_APP_ACCESS {\n    public readonly group: string;\n}\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class AuthorisedUserGuard  {\n    constructor(\n        private _router: Router,\n        @Optional() private _access: PLACEOS_APP_ACCESS\n    ) {}\n\n    public async canActivate(\n        next?: ActivatedRouteSnapshot,\n        state?: RouterStateSnapshot\n    ): Promise<boolean | UrlTree> {\n        return this.checkUser();\n    }\n\n    public async canLoad(\n        route?: Route,\n        segments?: UrlSegment[]\n    ): Promise<boolean> {\n        return this.checkUser();\n    }\n\n    private async checkUser() {\n        await onlineState()\n            .pipe(first((_) => _))\n            .toPromise();\n        const user: StaffUser = await current_user\n            .pipe(first((_) => !!_))\n            .toPromise();\n        const can_activate = !!(\n            user &&\n            (!this._access?.group || user.groups.includes(this._access.group))\n        );\n        if (!can_activate) {\n            this._router.navigate(['/unauthorised']);\n        }\n        return !!can_activate;\n    }\n}\n","import {\n    Directive,\n    Input,\n    SimpleChanges,\n    OnInit,\n    OnChanges,\n    OnDestroy,\n    ElementRef,\n    Renderer2,\n    EventEmitter,\n    Output,\n} from '@angular/core';\nimport { onlineState, authority, getModule } from '@placeos/ts-client';\n\nimport { AsyncHandler } from '@placeos/common';\nimport { filter, first } from 'rxjs/operators';\n\n@Directive({\n    selector: 'i[bind], [binding], co-bind',\n})\nexport class BindingDirective<T = any>\n    extends AsyncHandler\n    implements OnInit, OnChanges, OnDestroy\n{\n    /** ID of the system to bind */\n    @Input() public sys: string = '';\n    /** Class name of the module to bind */\n    @Input() public mod: string = '';\n    /** Index of the system to bind */\n    @Input() public index = 1;\n    /** Status variable to bind to */\n    @Input() public bind: string = '';\n    /** Method to execute */\n    @Input() public exec: string = '';\n    /** Method to execute */\n    @Input() public delay: number = 100;\n    /** Event to listen for on the parent */\n    @Input('onEvent') public on_event: string = '';\n    /** ID of the system to bind to */\n    @Input() public params: any[] = null;\n    @Input() public ignore: boolean = false;\n    /** Current value of the binding */\n    @Input() public model: T | null = null;\n    /** Emitter for changes to the value of the binding */\n    @Output() public modelChange = new EventEmitter<T | null>();\n\n    private _binding = false;\n    private _old_model: T | null = null;\n\n    constructor(\n        private _element: ElementRef<HTMLElement>,\n        private _renderer: Renderer2\n    ) {\n        super();\n    }\n\n    public ngOnInit(): void {\n        onlineState()\n            ?.pipe(first((_) => _))\n            .subscribe((_) => this.bindVariable());\n    }\n\n    public ngOnChanges(changes: SimpleChanges): void {\n        if (changes.sys || changes.mod || changes.bind) {\n            this.bindVariable();\n        }\n        if (\n            changes.model &&\n            this._old_model !== this.model &&\n            this.model != null\n        ) {\n            this._old_model = this.model;\n            this.execute();\n        }\n        if (changes.on_event && this.on_event) {\n            this.subscription(\n                'on_event',\n                this._renderer.listen(\n                    this._element.nativeElement,\n                    this.on_event,\n                    () => this.execute()\n                )\n            );\n        }\n    }\n\n    /** Bind to set status variable */\n    private bindVariable() {\n        if (\n            authority() &&\n            this.bind &&\n            this.sys &&\n            this.mod &&\n            !this._binding\n        ) {\n            this.timeout(\n                'bind',\n                () => {\n                    const module = getModule(this.sys, this.mod, this.index);\n                    const binding = module.binding(this.bind);\n                    this._binding = true;\n                    this.subscription('binding', binding.bind());\n                    this.subscription(\n                        'on_changes',\n                        binding\n                            .listen()\n                            .pipe(filter((_) => _ != null))\n                            .subscribe((value) => {\n                                setTimeout(() => {\n                                    this._binding = false;\n                                    this.clearTimeout('bound');\n                                    if (this.ignore) return;\n                                    this.model = value;\n                                    this._old_model = this.model;\n                                    this.modelChange.emit(this.model);\n                                }, 10);\n                            })\n                    );\n                    this.timeout('bound', () => (this._binding = false), 200);\n                },\n                20\n            );\n        }\n    }\n\n    /** Excute the set method on the module */\n    private execute() {\n        if (\n            authority() &&\n            this.exec &&\n            this.sys &&\n            this.mod &&\n            !this._timers['execute']\n        ) {\n            this.timeout(\n                'execute',\n                () => {\n                    const module = getModule(this.sys, this.mod, this.index);\n                    let params = this.params;\n                    if (this.bind) params = this.params || [this.model];\n                    module.execute(this.exec, params || []).then((result) => {\n                        // Emit exec result if not bound to status variable\n                        if (!this.bind) {\n                            this.model = result;\n                            this._old_model = this.model;\n                            this.modelChange.emit(this.model);\n                        }\n                    });\n                },\n                this.delay\n            );\n        }\n    }\n}\n","import { Component, Inject } from '@angular/core';\nimport { CustomTooltipData } from '@placeos/components';\nimport { OrganisationService } from '@placeos/organisation';\n\n@Component({\n    selector: 'building-select',\n    template: `\n        <div\n            class=\"flex flex-col w-[18.5rem] rounded bg-white shadow p-2 relative -top-12 -right-1 dark:bg-neutral-700 dark:text-white\"\n            (click)=\"close()\"\n        >\n            <div class=\"flex items-center space-x-2\">\n                <app-icon class=\"text-2xl\">arrow_back</app-icon>\n                <div class=\"\">\n                    {{\n                        (building | async)?.display_name ||\n                            (building | async)?.name\n                    }}\n                </div>\n            </div>\n            <div class=\"text-xs opacity-60 mb-4 px-2\" i18n>\n                Select a building location\n            </div>\n            <mat-radio-group\n                [ngModel]=\"(building | async)?.id\"\n                class=\"flex flex-col space-y-2 px-2\"\n            >\n                <mat-radio-button\n                    *ngFor=\"let bld of buildings | async\"\n                    [value]=\"bld.id\"\n                    (click)=\"setBuilding(bld)\"\n                >\n                    {{ bld.display_name || bld.name }}\n                </mat-radio-button>\n            </mat-radio-group>\n        </div>\n    `,\n    styles: [``],\n})\nexport class BuildingSelectComponent {\n    public readonly buildings = this._org.active_buildings;\n    public readonly building = this._org.active_building;\n\n    public readonly setBuilding = (b) => {\n        this._org.building = b;\n        this._data?.close();\n    };\n\n    public readonly close = () => this._data?.close();\n\n    constructor(\n        @Inject(CustomTooltipData) private _data: any,\n        private _org: OrganisationService\n    ) {}\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { Building, OrganisationService } from '@placeos/organisation';\n\n@Pipe({\n    name: 'building',\n})\nexport class BuildingPipe implements PipeTransform {\n    constructor(private _org: OrganisationService) {}\n\n    public transform(id: string | string[]): Building {\n        return this._org.buildings.find((bld) =>\n            id instanceof Array ? id.includes(bld.id) : bld.id === id\n        );\n    }\n}\n","import { Component, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\n\nimport { marked } from 'marked';\n\nexport interface ChangelogModalData {\n    changelog: string;\n}\n\n@Component({\n    selector: 'changelog-modal',\n    template: `\n        <header>\n            <h3 mat-dialog-title>Changelog</h3>\n            <button icon mat-dialog-close>\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <main\n            class=\"p-4 markdown max-h-[65vh] max-w-[80vw] overflow-auto\"\n            *ngIf=\"changelog; else empty_state\"\n            [innerHTML]=\"changelog | safe: 'html'\"\n        ></main>\n        <ng-template #empty_state>\n            <div class=\"flex items-center justify-center flex-col space-y-2\">\n                <app-icon class=\"text-3xl\">close</app-icon>\n                <div class=\"text\">No changelog</div>\n            </div>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class ChangelogModalComponent {\n    /** Whether the changelog is loading */\n    public loading: boolean;\n\n    constructor(@Inject(MAT_DIALOG_DATA) private _data: ChangelogModalData) {}\n\n    /** HTML string for rendering the change log */\n    public get changelog(): string {\n        return marked(this._data.changelog || '');\n    }\n}\n","import { NgModule, Type } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\nimport { MatDatepickerModule } from '@angular/material/datepicker';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatChipsModule } from '@angular/material/chips';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { ClipboardModule } from '@angular/cdk/clipboard';\nimport { MatRippleModule } from '@angular/material/core';\nimport { MatPaginatorModule } from '@angular/material/paginator';\nimport { CdkTableModule } from '@angular/cdk/table';\nimport { PortalModule } from '@angular/cdk/portal';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatRadioModule } from '@angular/material/radio';\nimport { MatSliderModule } from '@angular/material/slider';\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\n\nimport { HttpClientModule } from '@angular/common/http';\nimport { TranslateModule } from '@ngx-translate/core';\n\nimport { BindingDirective } from './binding.directive';\nimport { ActionIconComponent } from './action-icon.component';\nimport { IconComponent } from './icon.component';\nimport { PopoutMenuComponent } from './popout-menu.component';\nimport { UserAvatarComponent } from './user-avatar.component';\n\nimport { ConfirmModalComponent } from './confirm-modal.component';\nimport {\n    InteractiveMapComponent,\n    MAP_FEATURE_DATA,\n} from './interactive-map.component';\nimport { MapPinComponent } from './map-pin.component';\nimport { MapRadiusComponent } from './map-radius.component';\nimport { StatusOverlayComponent } from './status-overlay.component';\nimport { FixedPipe } from './fixed.pipe';\nimport { SafePipe } from './safe.pipe';\nimport { SanitizePipe } from './sanitise.pipe';\nimport { CustomTableComponent } from './custom-table.component';\nimport { CustomTooltipComponent } from './custom-tooltip.component';\nimport { VirtualKeyboardComponent } from './virtual-keyboard.component';\nimport { GlobalLoadingComponent } from './global-loading.component';\nimport { MatSortModule } from '@angular/material/sort';\nimport { MapPolygonComponent } from './map-polygon.component';\nimport { GlobalBannerComponent } from './global-banner.component';\nimport { MapLocateModalComponent } from './map-locate-modal.component';\nimport { ImageCarouselComponent } from './image-carousel.component';\nimport { DurationPipe } from './duration.pipe';\nimport { RedirectComponent } from './redirect.component';\nimport { DebugConsoleComponent } from './debug-console.component';\nimport { ScrollingModule } from '@angular/cdk/scrolling';\nimport { JsonDisplayComponent } from './json-display.component';\nimport { ChangelogModalComponent } from './changelog-modal.component';\nimport { LevelPipe } from './level.pipe';\nimport { BuildingPipe } from './building.pipe';\nimport { UserControlsComponent } from './user-controls.component';\nimport { BuildingSelectComponent } from './building-select.component';\nimport { RegionSelectComponent } from './region-select.component';\nimport { HelpTooltipComponent } from './help-tooltip.component';\nimport { AccessibilityTooltipComponent } from './accessibility-tooltip.component';\nimport { SupportTicketModalComponent } from './support-ticket-modal.component';\nimport { LanguageSelectComponent } from './language-tooltip.component';\n\nconst MAT_MODULES: any[] = [\n    MatAutocompleteModule,\n    MatMenuModule,\n    MatFormFieldModule,\n    MatSelectModule,\n    MatRippleModule,\n    MatAutocompleteModule,\n    MatSelectModule,\n    MatDialogModule,\n    MatDatepickerModule,\n    MatInputModule,\n    ClipboardModule,\n    MatProgressSpinnerModule,\n    MatChipsModule,\n    MatPaginatorModule,\n    CdkTableModule,\n    PortalModule,\n    MatSortModule,\n    ScrollingModule,\n    MatTooltipModule,\n    MatCheckboxModule,\n    MatRadioModule,\n    MatSliderModule,\n    MatSlideToggleModule,\n];\n\nconst COMPONENTS: Type<any>[] = [\n    ActionIconComponent,\n    IconComponent,\n    PopoutMenuComponent,\n    UserAvatarComponent,\n\n    ConfirmModalComponent,\n    InteractiveMapComponent,\n    MapPinComponent,\n    MapRadiusComponent,\n    MapPolygonComponent,\n    StatusOverlayComponent,\n    CustomTableComponent,\n    CustomTooltipComponent,\n    VirtualKeyboardComponent,\n    GlobalLoadingComponent,\n    GlobalBannerComponent,\n    MapLocateModalComponent,\n    ImageCarouselComponent,\n    RedirectComponent,\n    DebugConsoleComponent,\n    JsonDisplayComponent,\n    ChangelogModalComponent,\n\n    FixedPipe,\n    SafePipe,\n    SanitizePipe,\n    DurationPipe,\n    LevelPipe,\n    BuildingPipe,\n\n    UserControlsComponent,\n    BuildingSelectComponent,\n    RegionSelectComponent,\n    HelpTooltipComponent,\n    AccessibilityTooltipComponent,\n    SupportTicketModalComponent,\n    LanguageSelectComponent,\n];\n\nconst DIRECTIVES: Type<any>[] = [BindingDirective];\n\n@NgModule({\n    declarations: [...COMPONENTS, ...DIRECTIVES],\n    imports: [\n        CommonModule,\n        FormsModule,\n        ReactiveFormsModule,\n        HttpClientModule,\n        TranslateModule.forChild(),\n        ...MAT_MODULES,\n    ],\n    providers: [{ provide: MAP_FEATURE_DATA, useValue: {} }],\n    exports: [...COMPONENTS, ...DIRECTIVES, ...MAT_MODULES, TranslateModule],\n})\nexport class ComponentsModule {}\n","import { Component, Output, EventEmitter, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\n\nimport { ApplicationIcon, DialogEvent } from 'libs/common/src/lib/types';\n\nexport interface ConfirmModalData {\n    /** Title of the modal */\n    title: string;\n    /** Contents of the modal */\n    content: string;\n    /** Text displaed on the confirmation button */\n    confirm_text?: string;\n    /** Text displaed on the confirmation button */\n    cancel_text?: string;\n    /** Icon to display on the modal */\n    icon: ApplicationIcon;\n}\n\nexport const CONFIRM_METADATA = {\n    height: 'auto',\n    width: '24em',\n    maxHeight: 'calc(100vh - 2em)',\n    maxWidth: 'calc(100vw - 2em)',\n};\n\n@Component({\n    selector: 'confirm-modal',\n    template: `\n        <header>\n            <h3>{{ title }}</h3>\n        </header>\n        <main\n            *ngIf=\"!loading; else load_state\"\n            class=\"flex flex-col items-center space-y-2 p-4\"\n        >\n            <app-icon [icon]=\"icon\" class=\"text-5xl\"></app-icon>\n            <p\n                content\n                class=\"text-center text-sm w-[22rem]\"\n                [innerHTML]=\"content\"\n            ></p>\n        </main>\n        <footer\n            class=\"flex items-center justify-center p-2 space-x-2\"\n            *ngIf=\"!loading\"\n        >\n            <button btn matRipple class=\"inverse w-32\" mat-dialog-close>\n                {{ cancel_text }}\n            </button>\n            <button\n                btn\n                matRipple\n                name=\"accept\"\n                class=\"w-32\"\n                (click)=\"onConfirm()\"\n            >\n                {{ confirm_text }}\n            </button>\n        </footer>\n        <ng-template #load_state>\n            <main loading>\n                <div\n                    class=\"w-full h-48 flex flex-col items-center justify-center space-y-2\"\n                >\n                    <mat-spinner diameter=\"32\"></mat-spinner>\n                    <p>{{ loading }}</p>\n                </div>\n            </main>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class ConfirmModalComponent {\n    /** Loading state */\n    public loading: string;\n    /** Emitter for user action on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** Title of the confirm modal */\n    public readonly title: string = this._data.title || 'Confirm';\n    /** Body of the confirm modal */\n    public readonly content: string = this._data.content || 'Are you sure?';\n    /** Display text on the confirm button */\n    public readonly confirm_text: string = this._data.confirm_text || 'Accept';\n    /** Display text on the cancel button */\n    public readonly cancel_text: string = this._data.cancel_text || 'Cancel';\n    /** Display icon properties */\n    public readonly icon: ApplicationIcon = this._data.icon || {\n        class: 'material-icons',\n        content: 'done',\n    };\n    /** Prevent user from closing the modal */\n    public readonly disableClose = () => (this._dialog_ref.disableClose = true);\n    /** Allow the user to close the modal */\n    public readonly enableClose = () => (this._dialog_ref.disableClose = false);\n\n    constructor(\n        private _dialog_ref: MatDialogRef<ConfirmModalComponent>,\n        @Inject(MAT_DIALOG_DATA) private _data: ConfirmModalData\n    ) {}\n\n    /** User confirmation of the content of the modal */\n    public onConfirm() {\n        this.event.emit({ reason: 'done' });\n    }\n}\n","import {\n    AfterViewInit,\n    Component,\n    EventEmitter,\n    Input,\n    OnChanges,\n    Output,\n    SimpleChanges,\n    TemplateRef,\n    ViewChild,\n} from '@angular/core';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { MatSort } from '@angular/material/sort';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { AsyncHandler } from '@placeos/common';\nimport { Observable } from 'rxjs';\n\n@Component({\n    selector: 'custom-table',\n    template: `\n        <cdk-table [dataSource]=\"data_source\" matSort>\n            <ng-container *ngFor=\"let column of columns; let i = index\">\n                <ng-container [cdkColumnDef]=\"column\">\n                    <div\n                        cdk-header-cell\n                        class=\"capitalize p-2\"\n                        [style.width]=\"(column_size[i] || '8') + 'em'\"\n                        [style.flex]=\"column_size[i] === 'flex' ? '1' : ''\"\n                        *cdkHeaderCellDef\n                        mat-sort-header\n                    >\n                        {{ display_column[i] || column }}\n                    </div>\n                    <div\n                        cdk-cell\n                        class=\"p-2 truncate flex items-center\"\n                        [style.width]=\"(column_size[i] || '8') + 'em'\"\n                        [style.flex]=\"column_size[i] === 'flex' ? '1' : ''\"\n                        *cdkCellDef=\"let row\"\n                        [title]=\"row[column]\"\n                    >\n                        <ng-container\n                            *ngIf=\"!template[column]; else cell_outlet\"\n                            >{{ row[column] }}</ng-container\n                        >\n                        <ng-template #cell_outlet>\n                            <ng-container\n                                *ngTemplateOutlet=\"\n                                    template[column];\n                                    context: {\n                                        data: row[column],\n                                        row: row,\n                                        key: column\n                                    }\n                                \"\n                            ></ng-container>\n                        </ng-template>\n                    </div>\n                </ng-container>\n            </ng-container>\n\n            <cdk-header-row\n                class=\"sticky flex items-center bg-white dark:bg-neutral-700 top-0 z-10 border-b border-gray-300 dark:border-neutral-400\"\n                *cdkHeaderRowDef=\"columns\"\n            ></cdk-header-row>\n            <cdk-row\n                row\n                class=\"flex z-0 relative hover:bg-black/5 dark:hover:bg-white/5 border-b border-gray-200 dark:border-neutral-500\"\n                (click)=\"row_clicked.emit(row)\"\n                *cdkRowDef=\"let row; columns: columns\"\n            ></cdk-row>\n            <ng-template cdkNoDataRow>\n                <p class=\"w-full p-4 text-center opacity-30\">\n                    {{ empty || 'No data to display' }}\n                </p>\n            </ng-template>\n        </cdk-table>\n        <div footer [hidden]=\"!pagination\">\n            <mat-paginator\n                [pageSize]=\"page_size\"\n                [hidePageSize]=\"true\"\n                [showFirstLastButtons]=\"true\"\n            >\n            </mat-paginator>\n        </div>\n    `,\n    styles: [\n        `\n            cdk-header-row {\n                font-weight: 500;\n                text-transform: capitalize;\n                min-height: 3rem;\n            }\n        `,\n    ],\n})\nexport class CustomTableComponent<T extends {} = any>\n    extends AsyncHandler\n    implements AfterViewInit, OnChanges\n{\n    /** Data source to render in the table */\n    @Input() public dataSource: T[] | Observable<T[]>;\n    /** Whether table should use pagination */\n    @Input() public pagination = false;\n    /** Number of items to display on pagination pages */\n    @Input() public page_size = 7;\n    /** Filter string to apply to table listings */\n    @Input() public filter: string;\n    /** Values to display for column headers */\n    @Input() public display_column: string[];\n    /** List of columns to display in the table */\n    @Input() public columns: string[];\n    /** Size of the columns in em or flex for a flexible size */\n    @Input() public column_size: string[] = [];\n    /** Displayed value when the table is empty */\n    @Input() public empty: string;\n    /** Displayed value when the table is empty */\n    @Input() public template: Record<string, TemplateRef<any>> = {};\n\n    @Output() public row_clicked = new EventEmitter<T>();\n\n    public readonly data_source: MatTableDataSource<T> = new MatTableDataSource(\n        []\n    );\n\n    @ViewChild(MatPaginator) private _paginator: MatPaginator;\n    @ViewChild(MatSort) private _sort: MatSort;\n\n    public ngAfterViewInit() {\n        this.data_source.sort = this._sort;\n        this.data_source.paginator = this.pagination ? this._paginator : null;\n        this.data_source.filterPredicate = (i: any, s) => {\n            for (const key in i) {\n                if (\n                    typeof i[key] === 'string' &&\n                    i[key].toLowerCase().includes(s.toLowerCase())\n                ) {\n                    return true;\n                } else if (i[key] === s) {\n                    return true;\n                }\n            }\n            return false;\n        };\n    }\n\n    public ngOnChanges(changes: SimpleChanges) {\n        if (changes.dataSource && this.dataSource) {\n            if (this.dataSource instanceof Observable) {\n                this.subscription(\n                    'data',\n                    this.dataSource.subscribe(\n                        (data) => (this.data_source.data = data)\n                    )\n                );\n            } else {\n                this.data_source.data = this.dataSource;\n            }\n        }\n        if (changes.pagination) {\n            this.data_source.paginator = this.pagination\n                ? this._paginator\n                : null;\n        }\n        if (changes.filter) {\n            this.data_source.filter = (this.filter || '').trim().toLowerCase();\n        }\n        if (changes.columns && this.columns) {\n            this.display_column = this.columns.map(\n                (_, idx) =>\n                    (this.display_column || [])[idx] || _.split('_').join(' ')\n            );\n        }\n        if (!this.column_size) {\n            this.column_size = [];\n        }\n    }\n}\n","import { Overlay, OverlayRef } from '@angular/cdk/overlay';\nimport { CdkPortal } from '@angular/cdk/portal';\nimport {\n    Component,\n    ElementRef,\n    HostListener,\n    Injectable,\n    Injector,\n    Input,\n    OnChanges,\n    OnDestroy,\n    SimpleChanges,\n    TemplateRef,\n    Type,\n    ViewChild,\n} from '@angular/core';\nimport { AsyncHandler } from '@placeos/common';\n\n@Injectable()\nexport class CustomTooltipData<T = any> {\n    data: T;\n    close: () => void;\n    constructor(d) {\n        this.data = d.data;\n        this.close = d.close || (() => null);\n    }\n}\n\n@Component({\n    selector: '[customTooltip]',\n    template: `\n        <ng-content></ng-content>\n\n        <ng-template cdk-portal>\n            <div custom-tooltip class=\"relative\" [ngSwitch]=\"type\">\n                <ng-container *ngSwitchCase=\"'component'\">\n                    <ng-container\n                        *ngComponentOutlet=\"content; injector: injector\"\n                    ></ng-container>\n                </ng-container>\n                <ng-container *ngSwitchCase=\"'html'\">\n                    <div [innerHTML]=\"content | sanitize\"></div>\n                </ng-container>\n                <ng-container *ngSwitchDefault>\n                    <ng-container\n                        *ngTemplateOutlet=\"content; context: data\"\n                    ></ng-container>\n                </ng-container>\n            </div>\n        </ng-template>\n    `,\n})\nexport class CustomTooltipComponent<T = any>\n    extends AsyncHandler\n    implements OnChanges, OnDestroy\n{\n    /** Horizontal position of the rendered overlay */\n    @Input('xPosition') public x_pos: 'start' | 'center' | 'end';\n    /** Vertical position of the rendered overlay */\n    @Input('yPosition') public y_pos: 'top' | 'center' | 'bottom';\n    /** Content to render in the tooltip */\n    @Input() public content: TemplateRef<any> | Type<any> | string;\n    /** Data associated with the tooltip content */\n    @Input() public data: T;\n    /** Whether tooltip has a backdrop */\n    @Input() public backdrop = true;\n    /** Whether tooltip has a backdrop */\n    @Input() public hover = false;\n    /** Delay time in milliseconds to close after hover */\n    @Input() public delay = 0;\n    /** Type of content to render */\n    public type: 'template' | 'component' | 'html' = 'template';\n\n    public injector: Injector;\n\n    private _overlay_ref: OverlayRef = null;\n\n    @ViewChild(CdkPortal) private _portal: CdkPortal;\n\n    @HostListener('click') public readonly onClick = () => this.open();\n    @HostListener('touchend') public readonly onTouch = () => this.open();\n    @HostListener('mouseenter') public readonly onEnter = () =>\n        this.hover ? this.open() : '';\n    @HostListener('mouseleave') public readonly onLeave = () =>\n        this.hover ? this.close() : '';\n\n    constructor(\n        private _element: ElementRef<HTMLElement>,\n        private _overlay: Overlay,\n        private _injector: Injector\n    ) {\n        super();\n    }\n\n    public ngOnChanges(changes: SimpleChanges): void {\n        this._updateInjector();\n        if (\n            this._overlay_ref &&\n            (changes.x_pos || changes.y_pos || changes.content)\n        ) {\n            this.open();\n        }\n    }\n\n    public ngOnDestroy() {\n        super.ngOnDestroy();\n        this.close();\n    }\n\n    public open() {\n        if (!this.content) return;\n        this.timeout(\n            'open',\n            () => {\n                if (this.hover && this.delay) {\n                    this.timeout('onclose', () => this.close(), this.delay);\n                }\n                this._updateType();\n                if (this._overlay_ref) this.close();\n                if (!this._portal) return;\n                const pos = this._element.nativeElement.getBoundingClientRect();\n                const default_x = 'end';\n                const default_y = 'top';\n                this._overlay_ref = this._overlay.create({\n                    hasBackdrop: !!this.backdrop,\n                    positionStrategy: this._overlay\n                        .position()\n                        .flexibleConnectedTo(this._element)\n                        .withPositions([\n                            {\n                                originX: this.x_pos || default_x,\n                                originY:\n                                    (this.y_pos === 'top'\n                                        ? 'bottom'\n                                        : this.y_pos == 'bottom'\n                                        ? 'top'\n                                        : this.y_pos) || default_y,\n                                overlayX: this.x_pos || default_x,\n                                overlayY: this.y_pos || default_y,\n                            },\n                        ]),\n                });\n                this._overlay_ref.attach(this._portal);\n                if (this.backdrop) {\n                    this.subscription(\n                        'backdrop',\n                        this._overlay_ref\n                            .backdropClick()\n                            .subscribe(() => this.close())\n                    );\n                }\n            },\n            50\n        );\n    }\n\n    public close() {\n        this.clearTimeout('open');\n        if (this._overlay_ref) {\n            this._overlay_ref.dispose();\n            this._overlay_ref = null;\n        }\n    }\n\n    private _updateType() {\n        this.type =\n            typeof this.content === 'string'\n                ? 'html'\n                : this.content instanceof TemplateRef\n                ? 'template'\n                : 'component';\n    }\n\n    private _updateInjector() {\n        this.injector = Injector.create({\n            providers: [\n                {\n                    provide: CustomTooltipData,\n                    useValue: { data: this.data, close: () => this.close() },\n                },\n            ],\n            parent: this._injector,\n        });\n    }\n}\n","import { Component, Input } from '@angular/core';\nimport { BehaviorSubject, combineLatest } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nimport { HotkeysService } from 'libs/common/src/lib/hotkeys.service';\nimport { AsyncHandler } from 'libs/common/src/lib/async-handler.class';\nimport {\n    ClientEvent,\n    RemoteLoggingService,\n} from 'libs/common/src/lib/remote-logging.service';\nimport { JsonDisplayComponent } from './json-display.component';\n\nconst COLOR_MAP = {\n    console: 'bg-purple-600/30',\n    network: 'bg-green-600/30',\n    dom: 'bg-indigo-600/30',\n\n    log: `bg-cyan-600/50`,\n    info: `bg-blue-600/50`,\n    warn: `bg-orange-600/50`,\n    debug: `bg-gray-600/50`,\n    error: `bg-red-600/50`,\n};\n\nconst URL_STARTS = [\n    'tel:',\n    'mailto:',\n    'http:',\n    'https:',\n    'ftp:',\n    'ws:',\n    'wss:',\n];\n\n@Component({\n    selector: `debug-console`,\n    template: `\n        <div\n            class=\"absolute bottom-2 inset-x-2 bg-black/80 text-white shadow rounded overflow-hidden h-[32rem] max-h-65vh flex flex-col z-[998]\"\n            *ngIf=\"show\"\n        >\n            <cdk-virtual-scroll-viewport\n                itemSize=\"32\"\n                class=\"flex-1 h-[30rem] max-h-full w-full\"\n            >\n                <div\n                    class=\"font-mono h-8 truncate p-2 text-sm flex items-center max-w-full hover:bg-white/10 space-x-1\"\n                    *cdkVirtualFor=\"\n                        let log of filtered_logs | async;\n                        trackBy: trackByFn\n                    \"\n                >\n                    <div\n                        class=\"uppercase text-xs p-1 bg-white/10 rounded font-mono\"\n                    >\n                        {{ log.timestamp | date: 'MMM d HH:mm:ss' }}\n                    </div>\n                    <div\n                        [class]=\"\n                            'uppercase text-xs p-1 ' +\n                            colors[log.type] +\n                            ' rounded font-mono'\n                        \"\n                    >\n                        {{ log.type }}\n                    </div>\n                    <div\n                        [class]=\"\n                            'capitalize text-xs p-1 ' +\n                            colors[log.subtype] +\n                            ' rounded font-mono w-16 text-center'\n                        \"\n                    >\n                        {{ log.subtype }}\n                    </div>\n                    <div\n                        class=\"font-mono\"\n                        *ngFor=\"let obj of log.data\"\n                        [attr.data-type]=\"type(obj)\"\n                    >\n                        <ng-container [ngSwitch]=\"type(obj)\">\n                            <ng-container *ngSwitchCase=\"'link'\">\n                                <a\n                                    class=\"font-mono\"\n                                    [href]=\"obj | sanitize\"\n                                    target=\"_blank\"\n                                    rel=\"noopener noreferer\"\n                                    >{{ obj }}</a\n                                >\n                            </ng-container>\n                            <ng-container *ngSwitchCase=\"'object'\">\n                                [<span\n                                    class=\"underline font-mono hover:text-blue-500\"\n                                    customTooltip\n                                    xPosition=\"center\"\n                                    yPosition=\"bottom\"\n                                    [content]=\"json_tooltip\"\n                                    [data]=\"obj\"\n                                    [hover]=\"true\"\n                                    [backdrop]=\"false\"\n                                    >Object</span\n                                >]\n                            </ng-container>\n                            <ng-container *ngSwitchDefault>{{\n                                obj\n                            }}</ng-container>\n                        </ng-container>\n                    </div>\n                </div>\n            </cdk-virtual-scroll-viewport>\n            <div\n                class=\"absolute bottom-0 right-2 rounded-t-lg bg-black/90 p-2 flex items-center space-x-2 w-[20rem]\"\n            >\n                <input\n                    #search_input\n                    name=\"log-filter\"\n                    [ngModel]=\"filter | async\"\n                    (ngModelChange)=\"filter.next($event)\"\n                    placeholder=\"Filter logs...\"\n                    class=\"border-none bg-white/10 flex-1 text-sm px-2 py-1 font-mono rounded\"\n                />\n                <div class=\"font-mono text-xs px-2 text-center\">\n                    <span class=\"font-mono\" *ngIf=\"(filter | async)?.length\">\n                        {{ (filtered_logs | async)?.length || '0' }} of\n                    </span>\n                    {{ (logs | async)?.length }}\n                </div>\n            </div>\n        </div>\n    `,\n    styles: [``],\n})\nexport class DebugConsoleComponent extends AsyncHandler {\n    @Input() public show = false;\n    public readonly colors = COLOR_MAP;\n    public readonly json_tooltip = JsonDisplayComponent;\n    public readonly filter = new BehaviorSubject<string>('');\n    public readonly logs = new BehaviorSubject<ClientEvent[]>([]);\n    public readonly filtered_logs = combineLatest([\n        this.filter,\n        this.logs,\n    ]).pipe(\n        map(([s, logs]) =>\n            logs.filter(\n                (_) =>\n                    _.type.toLowerCase().includes(s.toLowerCase()) ||\n                    _.subtype.toLowerCase().includes(s.toLowerCase()) ||\n                    `${_.data}`.toLowerCase().includes(s.toLowerCase())\n            )\n        )\n    );\n\n    constructor(\n        private _logs: RemoteLoggingService,\n        private _hotkey: HotkeysService\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.subscription(\n            'logs',\n            this._logs.history.subscribe((event) =>\n                this.logs.next([...this.logs.getValue(), event])\n            )\n        );\n        this.subscription(\n            'toggle',\n            this._hotkey.listen(\n                ['Control', 'Backquote'],\n                () => (this.show = !this.show)\n            )\n        );\n    }\n\n    public type(item: any) {\n        if (\n            typeof item === 'string' &&\n            URL_STARTS.find((start) => item.startsWith(start))\n        ) {\n            return 'link';\n        } else if (item instanceof Object) {\n            return 'object';\n        }\n        return 'string';\n    }\n\n    public trackByFn(_: number, item: ClientEvent) {\n        return item?.timestamp;\n    }\n}\n","import { Pipe } from \"@angular/core\";\nimport { formatDuration } from \"date-fns\";\n\n@Pipe({\n    name: 'duration'\n})\nexport class DurationPipe {\n\n    /**\n     * Format the duration value\n     * @param length Duration to format in minutes\n     * @param shorten Whether to shorten the period names e.g. `hours` as `h`\n     */\n    public transform(length: number, shorten: boolean = false): string {\n        let duration = formatDuration({ hours: Math.floor(length / 60), minutes: length % 60 });\n        if (shorten) {\n            duration = duration.replace('hour', 'h').replace('minute', 'm').replace(/s/gi, '');\n        }\n        return duration;\n    }\n}","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n    name: 'toFixed',\n})\nexport class FixedPipe implements PipeTransform {\n\n    /**\n     * Fixed a number to x decimal places\n     * @param value number to convert\n     * @param places Number of decimal places to convert\n     */\n    public transform(value: number, places: number = 2): string {\n        return value.toFixed(places);\n    }\n}\n","import { Component } from '@angular/core';\nimport { SettingsService } from '@placeos/common';\n\nexport interface BannerDetails {\n    id: string;\n    type?: 'info' | 'warn' | 'error';\n    content: string;\n}\n\n@Component({\n    selector: 'global-banner',\n    template: `\n        <div\n            class=\"flex items-center w-full text-white p-4 space-x-4\"\n            [class.bg-blue-600]=\"banner.type === 'info' || !banner.type\"\n            [class.bg-pending]=\"banner.type === 'warn'\"\n            [class.bg-error]=\"banner.type === 'error'\"\n            *ngIf=\"!has_viewed\"\n        >\n            <div class=\"flex-1\">{{ banner?.content }}</div>\n            <button icon (click)=\"close()\">\n                <app-icon>close</app-icon>\n            </button>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                display: block;\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class GlobalBannerComponent {\n    public get has_viewed() {\n        return (\n            !this.banner?.content ||\n            localStorage.getItem('PLACE.last_banner') === this.banner.id\n        );\n    }\n\n    public get banner(): BannerDetails {\n        return this._settings.get('app.general.banner');\n    }\n\n    constructor(private _settings: SettingsService) {}\n\n    public close() {\n        localStorage.setItem('PLACE.last_banner', this.banner?.id || '');\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { first } from 'rxjs/operators';\nimport { isOnline, token } from '@placeos/ts-client';\nimport { AsyncHandler, SettingsService } from '@placeos/common';\n\nimport { OrganisationService } from 'libs/organisation/src/lib/organisation.service';\n\n@Component({\n    selector: 'global-loading',\n    template: `\n        <div\n            *ngIf=\"!online\"\n            class=\"fixed bottom-2 left-1/2 -translate-x-1/2 shadow rounded-3xl px-4 py-2 bg-error text-white text-xs\"\n        >\n            Unable to reach server... Some features may not work.\n        </div>\n        <div\n            *ngIf=\"loading\"\n            loader\n            class=\"fixed inset-0 flex items-center justify-center pointer-events-auto bg-white dark:bg-neutral-600\"\n        >\n            <mat-spinner [diameter]=\"64\"></mat-spinner>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                pointer-events: none;\n            }\n\n            :host > [loader] {\n                z-index: 997;\n                background-image: url(\"data:image/svg+xml,%3Csvg width='36' height='36' viewBox='0 0 36 36' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M36 0H0v36h36V0zM15.126 2H2v13.126c.367.094.714.24 1.032.428L15.554 3.032c-.188-.318-.334-.665-.428-1.032zM18 4.874V18H4.874c-.094-.367-.24-.714-.428-1.032L16.968 4.446c.318.188.665.334 1.032.428zM22.874 2h11.712L20 16.586V4.874c1.406-.362 2.512-1.468 2.874-2.874zm10.252 18H20v13.126c.367.094.714.24 1.032.428l12.522-12.522c-.188-.318-.334-.665-.428-1.032zM36 22.874V36H22.874c-.094-.367-.24-.714-.428-1.032l12.522-12.522c.318.188.665.334 1.032.428zm0-7.748V3.414L21.414 18h11.712c.362-1.406 1.468-2.512 2.874-2.874zm-18 18V21.414L3.414 36h11.712c.362-1.406 1.468-2.512 2.874-2.874zM4.874 20h11.712L2 34.586V22.874c1.406-.362 2.512-1.468 2.874-2.874z' fill='%23000000' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E\");\n            }\n        `,\n    ],\n})\nexport class GlobalLoadingComponent extends AsyncHandler implements OnInit {\n    public loading: boolean;\n\n    public get online() {\n        return isOnline();\n    }\n\n    constructor(\n        private _org: OrganisationService,\n        private _settings: SettingsService\n    ) {\n        super();\n    }\n\n    public async ngOnInit() {\n        this.loading = true;\n        await this._org.initialised.pipe(first((_) => _)).toPromise();\n        await this._settings.initialised.pipe(first((_) => _)).toPromise();\n        this.interval(\n            'has_token',\n            () => {\n                if (token()) {\n                    this.loading = false;\n                    this.clearInterval('has_token');\n                }\n            },\n            1000\n        );\n    }\n}\n","import { Component, Inject } from '@angular/core';\nimport { ApplicationLink, SettingsService } from '@placeos/common';\nimport { CustomTooltipData } from '@placeos/components';\n\n@Component({\n    selector: 'help-tooltip',\n    template: `\n        <div\n            class=\"flex flex-col w-[18.5rem] rounded bg-white shadow relative -top-12 -right-1 dark:bg-neutral-700 dark:text-white divide-y divide-gray-300 dark:divide-neutral-500\"\n            (click)=\"close()\"\n        >\n            <div\n                class=\"flex items-center space-x-2 p-2 border-b dark:border-neutral-500\"\n            >\n                <app-icon class=\"text-2xl\">arrow_back</app-icon>\n                <div class=\"\" i18n>Help & Support</div>\n            </div>\n            <a\n                btn\n                matRipple\n                *ngFor=\"let tile of tiles\"\n                class=\"clear w-full text-left h-auto\"\n                target=\"_blank\"\n                ref=\"noreferer noopener\"\n                [href]=\"tile.link\"\n            >\n                <div\n                    class=\"flex items-center space-x-2 dark:text-white py-2 w-full\"\n                >\n                    <div\n                        class=\"flex items-center justify-center rounded-full w-8 h-8 bg-gray-200 dark:bg-neutral-800\"\n                    >\n                        <app-icon class=\"text-xl\" [icon]=\"tile.icon\"></app-icon>\n                    </div>\n                    <div class=\"flex-1\">{{ tile.name }}</div>\n                </div>\n            </a>\n        </div>\n    `,\n    styles: [\n        `\n            a:not(:last-child) {\n                border-bottom-width: 1px !important;\n                border-bottom-style: solid !important;\n                border-radius: 0;\n            }\n        `,\n    ],\n})\nexport class HelpTooltipComponent {\n    /** Tiles to display on the help page */\n    public get tiles(): ApplicationLink[] {\n        return this._settings.get('app.help') || [];\n    }\n\n    public readonly close = () => {\n        this._data?.close();\n    };\n\n    constructor(\n        @Inject(CustomTooltipData) private _data: any,\n        private _settings: SettingsService\n    ) {}\n}\n","import { Component, Input } from '@angular/core';\nimport { ApplicationIcon } from 'libs/common/src/lib/types';\n\n@Component({\n    selector: 'app-icon,icon',\n    template: `\n        <div class=\"flex items-center justify-center h-[1.25em] w-[1.25em]\">\n            <i\n                *ngIf=\"!icon || icon.type !== 'img'\"\n                [class]=\"icon?.class || className\"\n            >\n                {{ icon?.content }}\n                <ng-content></ng-content>\n            </i>\n            <img\n                class=\"h-[1em] w-[1em]\"\n                *ngIf=\"icon && icon.type === 'img'\"\n                [src]=\"icon.src | safe: 'resource'\"\n            />\n        </div>\n    `,\n    styles: [\n        `\n            i {\n                font-size: 1em;\n            }\n        `,\n    ],\n})\nexport class IconComponent {\n    @Input() public className: string = 'material-icons';\n    /** Icon details */\n    @Input() public icon: ApplicationIcon;\n}\n","import { Component, Input } from '@angular/core';\n\n@Component({\n    selector: 'image-carousel',\n    template: `\n        <div class=\"h-full w-full relative overflow-hidden flex\">\n            <div\n                image\n                class=\"h-full min-w-full relative flex items-center justify-center overflow-hidden\"\n                *ngFor=\"let image of images\"\n                [style.transform]=\"'translateX(-' + offset * 100 + '%)'\"\n            >\n                <img\n                    class=\"h-full object-contain\"\n                    *ngIf=\"image\"\n                    [src]=\"image.url || image\"\n                />\n            </div>\n            <div\n                class=\"h-full w-full relative flex flex-col items-center justify-center opacity-30 space-y-2\"\n                *ngIf=\"!images?.length\"\n            >\n                <app-icon class=\"text-5xl\">image_not_supported</app-icon>\n                <p>No images</p>\n            </div>\n            <button\n                matRipple\n                *ngIf=\"images?.length\"\n                class=\"opacity-0 hover:opacity-30 flex items-center justify-center absolute left-0 inset-y-0 w-1/3 bg-black/60 text-white\"\n                [disabled]=\"offset === 0\"\n                (click)=\"offset = offset - 1\"\n            >\n                <app-icon class=\"text-4xl\">chevron_left</app-icon>\n            </button>\n            <button\n                matRipple\n                *ngIf=\"images?.length\"\n                class=\"opacity-0 hover:opacity-30 flex items-center justify-center absolute right-0 inset-y-0 w-1/3 bg-black/60 text-white\"\n                [disabled]=\"offset >= images?.length - 1\"\n                (click)=\"offset = offset + 1\"\n            >\n                <app-icon class=\"text-4xl\">chevron_right</app-icon>\n            </button>\n            <div\n                class=\"absolute bottom-1 left-1/2 -translate-x-1/2 text-sm opacity-30 space-x-2\"\n                *ngIf=\"images?.length\"\n            >\n                <button\n                    matRipple\n                    [class.!bg-white]=\"offset === i\"\n                    *ngFor=\"let img of images; let i = index\"\n                    class=\"h-4 w-4 rounded-full bg-gray-400 shadow\"\n                ></button>\n            </div>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                display: block;\n                height: 100%;\n                width: 100%;\n            }\n\n            [image] {\n                transition: transform 300ms;\n            }\n        `,\n    ],\n})\nexport class ImageCarouselComponent {\n    @Input() public images: string[] = [];\n\n    public offset = 0;\n}\n","import {\n    AfterViewInit,\n    Component,\n    ElementRef,\n    EventEmitter,\n    HostListener,\n    InjectionToken,\n    Injector,\n    Input,\n    OnChanges,\n    OnDestroy,\n    OnInit,\n    Output,\n    QueryList,\n    SimpleChanges,\n    TemplateRef,\n    Type,\n    ViewChild,\n    ViewChildren,\n} from '@angular/core';\nimport { AsyncHandler } from '@placeos/common';\n\nimport {\n    applyGlobalStyles,\n    createViewer,\n    getViewer,\n    Point,\n    Viewer,\n    removeViewer,\n    updateViewer,\n    ViewAction,\n    ViewerFeature,\n    ViewerLabel,\n    ViewerStyles,\n    listenToViewerChanges,\n} from '@placeos/svg-viewer';\nimport { BehaviorSubject } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nexport const MAP_FEATURE_DATA = new InjectionToken<any>(\n    'Data for Map Features'\n);\n\nfunction isSamePoint(p1: Point, p2: Point): boolean {\n    return p1.x === p2.x && p1.y === p2.y;\n}\n\n@Component({\n    selector: `i-map,interactive-map`,\n    template: `\n        <div\n            #outlet\n            tabindex=\"0\"\n            role=\"map\"\n            class=\"absolute inset-0\"\n            [class.hidden]=\"!src\"\n        ></div>\n        <ng-container *ngIf=\"src; else empty_state\">\n            <mat-spinner\n                *ngIf=\"!viewer || loading\"\n                class=\"absolute\"\n                [diameter]=\"48\"\n            ></mat-spinner>\n        </ng-container>\n        <div hidden *ngIf=\"injectors?.length\">\n            <ng-container\n                *ngFor=\"\n                    let element of features;\n                    let i = index;\n                    trackBy: trackByFn\n                \"\n            >\n                <div *ngIf=\"element\">\n                    <div\n                        #feature\n                        class=\"pointer-events-none\"\n                        [attr.no-scale]=\"element.no_scale\"\n                        [attr.el-id]=\"element.location\"\n                        [attr.track-id]=\"element.track_id\"\n                        [attr.view-id]=\"viewer\"\n                        [ngSwitch]=\"type(element.content)\"\n                    >\n                        <ng-container *ngSwitchCase=\"'component'\">\n                            <ng-container\n                                *ngComponentOutlet=\"\n                                    element.content;\n                                    injector: injectors[i]\n                                \"\n                            ></ng-container>\n                        </ng-container>\n                        <ng-container *ngSwitchCase=\"'html'\">\n                            <div [innerHTML]=\"element.content | sanitize\"></div>\n                        </ng-container>\n                        <ng-container *ngSwitchDefault>\n                            <ng-container\n                                *ngTemplateOutlet=\"\n                                    element.content;\n                                    context: element.data\n                                \"\n                            ></ng-container>\n                        </ng-container>\n                    </div>\n                </div>\n            </ng-container>\n        </div>\n        <ng-template #empty_state>\n            <div class=\"absolute inset-0 flex items-center justify-center\">\n                <div class=\"opacity-30\">No map</div>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n            }\n\n            mat-spinner {\n                top: 50%;\n                left: 50%;\n                transform: translate(-50%, -50%);\n            }\n        `,\n    ],\n})\nexport class InteractiveMapComponent\n    extends AsyncHandler\n    implements AfterViewInit, OnChanges, OnInit, OnDestroy\n{\n    /** URL to the SVG file */\n    @Input() public src: string;\n    /** Custom CSS styles to apply to the SVG file */\n    @Input() public styles: ViewerStyles;\n    /** Zoom level to apply to the SVG */\n    @Input() public zoom = 1;\n    /** Zoom level to apply to the SVG */\n    @Input() public center: Point = { x: 0.5, y: 0.5 };\n    /** List of features to renderer over the SVG */\n    @Input() public features: ViewerFeature[];\n    /** List of labels to renderer over the SVG */\n    @Input() public labels: ViewerLabel[];\n    /** List of available user actions for the SVG */\n    @Input() public actions: ViewAction[];\n\n    @Input() public options: any;\n\n    @Input() public focus: string;\n\n    @Output() public zoomChange = new EventEmitter<number>();\n\n    @Output() public centerChange = new EventEmitter<Point>();\n\n    public loading: boolean;\n\n    public injectors: Injector[] = [];\n\n    public feature_list: ViewerFeature[] = [];\n\n    /** ID of the active SVG Viewer */\n    public viewer: string;\n    /** Observable for changes on the SVG viewer */\n    private _on_changes: BehaviorSubject<Viewer> = new BehaviorSubject(null);\n\n    private _extra_data = {\n        ratio$: this._on_changes.pipe(map((_) => _.ratio)),\n        svg_ratio$: this._on_changes.pipe(map((_) => _.svg_ratio)),\n        zoom$: this._on_changes.pipe(map((_) => _.zoom)),\n        position: this._on_changes.pipe(map((_) => _.center)),\n    };\n\n    @ViewChild('outlet') private _outlet_el: ElementRef<HTMLDivElement>;\n    @ViewChildren('feature') private _feature_list: QueryList<\n        ElementRef<HTMLDivElement>\n    >;\n\n    @HostListener('window:resize') public onResize() {\n        this.zoom = 1;\n        this.center = { x: 0.5, y: 0.5 };\n        this.updateDisplay();\n    }\n\n    public type(\n        content: string | TemplateRef<any> | Type<any>\n    ): 'html' | 'template' | 'component' {\n        return typeof content === 'string'\n            ? 'html'\n            : content instanceof TemplateRef\n            ? 'template'\n            : 'component';\n    }\n\n    constructor(private _injector: Injector) {\n        super();\n    }\n\n    public ngOnInit() {\n        applyGlobalStyles();\n    }\n\n    public ngOnDestroy(): void {\n        if (this.viewer) {\n            removeViewer(this.viewer);\n        }\n    }\n\n    public ngOnChanges(changes: SimpleChanges): void {\n        if (changes.src && this.src) {\n            this.createView().catch((e) => console.warn(e));\n        }\n        if (changes.features) {\n            this.updateInjectors();\n        }\n        if (this.viewer) {\n            if (changes.focus && this.focus) {\n                this.focusOn(this.focus);\n            } else if (\n                (changes.zoom &&\n                    changes.zoom.previousValue != changes.zoom.currentValue) ||\n                (changes.center &&\n                    !isSamePoint(\n                        changes.center.previousValue,\n                        changes.center.currentValue\n                    ))\n            ) {\n                this.updateDisplay();\n            }\n            if (\n                changes.styles ||\n                changes.features ||\n                changes.labels ||\n                changes.actions\n            ) {\n                this.timeout('update_view', () => this.updateView());\n            }\n        }\n    }\n\n    public ngAfterViewInit() {\n        this.createView().catch((e) => console.warn(e));\n    }\n\n    /** Update overlays, styles and actions of viewer */\n    private updateView() {\n        try {\n            if (!getViewer(this.viewer) || this.loading) {\n                return this.timeout('update_view', () => this.updateView());\n            }\n            this.updateFeatureList();\n            updateViewer(this.viewer, {\n                styles: this.styles,\n                features: this.feature_list,\n                labels: this.labels,\n                actions: this.actions,\n                options: this.options,\n            });\n        } catch (e) {}\n    }\n\n    /** Update zoom and center position of viewer */\n    private updateDisplay() {\n        try {\n            updateViewer(this.viewer, {\n                zoom: this.zoom,\n                desired_zoom: this.zoom,\n                center: this.center,\n                desired_center: this.center,\n                options: this.options,\n            });\n        } catch (e) {}\n    }\n\n    private async createView() {\n        if (this.src && this._outlet_el?.nativeElement && !this.loading) {\n            this.loading = true;\n            if (this.viewer) {\n                updateViewer(this.viewer, {\n                    styles: this.styles,\n                    features: [],\n                    labels: this.labels,\n                    actions: this.actions,\n                    options: this.options,\n                });\n                removeViewer(this.viewer);\n            }\n            this.updateFeatureList();\n            this.viewer = await createViewer({\n                element: this._outlet_el?.nativeElement,\n                url: this.src,\n                styles: this.styles,\n                zoom: this.zoom,\n                desired_zoom: this.zoom,\n                center: this.center,\n                features: this.feature_list,\n                labels: this.labels,\n                actions: this.actions,\n                options: this.options,\n            });\n            this.loading = false;\n            this.subscription(\n                'view_changes',\n                listenToViewerChanges(this.viewer)?.subscribe((v) => {\n                    const box =\n                        this._outlet_el.nativeElement.getBoundingClientRect();\n                    this._on_changes.next({ ...v } as any);\n                    this.zoomChange.emit(v.zoom);\n                    this.centerChange.emit(v.center);\n                })\n            );\n            if (this.focus) this.focusOn(this.focus);\n        } else if (\n            (this.src && !this._outlet_el?.nativeElement) ||\n            this.loading\n        ) {\n            this.timeout('create_view', () =>\n                this.createView().catch((e) => console.warn(e))\n            );\n        }\n    }\n\n    private focusOn(id: string) {\n        if (!id || !this.viewer) return;\n        const viewer: Viewer = getViewer(this.viewer);\n        if (!viewer) return;\n        const rect = viewer.mappings[id];\n        if (!rect) return;\n        this.center = {\n            x: 1 - (rect.x + rect.w / 2),\n            y: 1 - (rect.y + rect.h / 4),\n        };\n        this.updateDisplay();\n    }\n\n    /* istanbul ignore next */\n    public trackByFn(index: number, feature: ViewerFeature) {\n        return feature?.track_id;\n    }\n\n    private updateFeatureList() {\n        this.feature_list = (this.features || [])\n            .map((f, idx) => ({\n                ...f,\n                content: this._feature_list.toArray()[idx]?.nativeElement,\n            }))\n            .filter((f) => f.content);\n    }\n\n    private updateInjectors() {\n        const old_injectors = this.injectors || [];\n        this.injectors = (this.features || []).map(\n            (f: any) =>\n                old_injectors.find(\n                    (_) =>\n                        _.get(MAP_FEATURE_DATA)?.track_id &&\n                        _.get(MAP_FEATURE_DATA)?.track_id === f.track_id\n                ) ||\n                Injector.create({\n                    providers: [\n                        {\n                            provide: MAP_FEATURE_DATA,\n                            useValue: {\n                                track_id: f.track_id,\n                                ...f.data,\n                                ...this._extra_data,\n                            },\n                        },\n                    ],\n                    parent: this._injector,\n                })\n        );\n    }\n}\n","import { Component, Input, Optional, SimpleChanges } from \"@angular/core\";\nimport { CustomTooltipData } from \"./custom-tooltip.component\";\n\n@Component({\n    selector: 'json-display',\n    template: `\n        <div class=\"bg-white dark:bg-neutral-600 shadow rounded overflow-auto max-w-[80vw] max-h-[80vh] p-2\">\n            <pre class=\"font-mono text-sm bg-black/10 p-2\">{{ formatted_json }}</pre>\n        </div>\n    `\n})\nexport class JsonDisplayComponent {\n    @Input() public json: Object;\n\n    public formatted_json: string;\n\n    constructor(@Optional() _data: CustomTooltipData) {\n        this.json = _data?.data || '';\n        this._updateFormatting();\n    }\n\n    public ngOnChanges(changes: SimpleChanges) {\n        if (changes.json) {\n            this._updateFormatting();\n        }\n    }\n\n    private _updateFormatting() {\n        this.formatted_json = JSON.stringify(this.json, undefined, 4);\n    }\n}\n","import { Component, Inject } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { SettingsService } from '@placeos/common';\nimport { CustomTooltipData } from '@placeos/components';\n\n@Component({\n    selector: 'language-select',\n    template: `\n        <div\n            class=\"flex flex-col w-[18.5rem] rounded bg-white shadow relative -top-12 -right-1 dark:bg-neutral-700 dark:text-white\"\n            (click)=\"close()\"\n        >\n            <div class=\"flex items-center space-x-2  p-2\">\n                <app-icon class=\"text-2xl\">arrow_back</app-icon>\n                <div class=\"\">{{ 'COMMON.LANGUAGE' | translate }}</div>\n            </div>\n            <div class=\"text-xs opacity-60 mb-4 px-2 p-4\">\n                {{ 'COMMON.LANGUAGE_SELECT' | translate }}\n            </div>\n            <button\n                *ngFor=\"let lang of locales\"\n                class=\"w-full p-4 border-t border-gray-200 dark:border-neutral-500 text-left\"\n                (click)=\"setLocale(lang.id)\"\n            >\n                {{ lang.name }} - {{ lang.flag }}\n            </button>\n        </div>\n    `,\n    styles: [``],\n})\nexport class LanguageSelectComponent {\n    public readonly setLocale = (code: string) => {\n        this._translation.use(code);\n        localStorage.setItem('PLACEOS.locale', code);\n    };\n\n    public get locales() {\n        return this._settings.get('app.locales') || [];\n    }\n\n    public readonly close = () => this._data?.close();\n\n    constructor(\n        @Inject(CustomTooltipData) private _data: any,\n        private _settings: SettingsService,\n        private _translation: TranslateService\n    ) {}\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { BuildingLevel, OrganisationService } from '@placeos/organisation';\n\n@Pipe({\n    name: 'level',\n})\nexport class LevelPipe implements PipeTransform {\n    constructor(private _org: OrganisationService) {}\n\n    public transform(id: string | string[]): BuildingLevel {\n        return this._org.levelWithID(id instanceof Array ? id : [id]);\n    }\n}\n","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { ApplicationIcon, SettingsService } from '@placeos/common';\nimport { first } from 'rxjs/operators';\n\n@Component({\n    selector: 'app-login',\n    template: `\n        <div class=\"fixed inset-0 overflow-auto\">\n            <form\n                class=\"flex flex-col items-center overflow-hidden mx-auto my-4 bg-white rounded shadow p-4\"\n            >\n                <div\n                    class=\"flex items-center justify-center\"\n                    [style.background-color]=\"logo?.background\"\n                >\n                    <i *ngIf=\"logo?.type === 'icon'\" [class]=\"logo.class\">\n                        {{ logo.content }}\n                    </i>\n                    <img\n                        *ngIf=\"logo?.type === 'img'\"\n                        [src]=\"logo.src | safe: 'resource'\"\n                    />\n                </div>\n                <div class=\"w-full relative h-1/3 flex-1\">\n                    <ng-container *ngIf=\"!loading; else loading_state\">\n                        <div class=\"flex flex-col\">\n                            <label\n                                for=\"username\"\n                                [class.focused]=\"\n                                    username || focus === 'username'\n                                \"\n                                [class.in-focus]=\"focus === 'username'\"\n                            >\n                                Username\n                            </label>\n                            <mat-form-field appearance=\"outline\">\n                                <input\n                                    #username\n                                    formControlName=\"username\"\n                                    (keyup.enter)=\"toPassword()\"\n                                />\n                            </mat-form-field>\n                        </div>\n                        <div class=\"flex flex-col\">\n                            <label for=\"password\">Password</label>\n                            <mat-form-field appearance=\"outline\">\n                                <input\n                                    #pass_field\n                                    formControlName=\"password\"\n                                    (keyup.enter)=\"login()\"\n                                />\n                                <mat-error\n                                    >Invalid username or password</mat-error\n                                >\n                            </mat-form-field>\n                        </div>\n                    </ng-container>\n                </div>\n                <div\n                    class=\"flex items-center justify-center w-full\"\n                    *ngIf=\"!loading\"\n                >\n                    <button btn matRipple color=\"primary\" (click)=\"login()\">\n                        Login\n                    </button>\n                </div>\n            </form>\n        </div>\n        <ng-template #loading_state>\n            <div\n                class=\"absolute inset-0 flex flex-col items-center justify-center space-y-2\"\n            >\n                <mat-spinner diameter=\"64\"></mat-spinner>\n                <p>Checking user credentials...</p>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host > div {\n                background-color: #f0f0f0;\n                background-image: url(\"data:image/svg+xml,%3Csvg width='64' height='64' viewBox='0 0 64 64' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8 16c4.418 0 8-3.582 8-8s-3.582-8-8-8-8 3.582-8 8 3.582 8 8 8zm0-2c3.314 0 6-2.686 6-6s-2.686-6-6-6-6 2.686-6 6 2.686 6 6 6zm33.414-6l5.95-5.95L45.95.636 40 6.586 34.05.636 32.636 2.05 38.586 8l-5.95 5.95 1.414 1.414L40 9.414l5.95 5.95 1.414-1.414L41.414 8zM40 48c4.418 0 8-3.582 8-8s-3.582-8-8-8-8 3.582-8 8 3.582 8 8 8zm0-2c3.314 0 6-2.686 6-6s-2.686-6-6-6-6 2.686-6 6 2.686 6 6 6zM9.414 40l5.95-5.95-1.414-1.414L8 38.586l-5.95-5.95L.636 34.05 6.586 40l-5.95 5.95 1.414 1.414L8 41.414l5.95 5.95 1.414-1.414L9.414 40z' fill='%23ad1457' fill-opacity='0.2' fill-rule='evenodd'/%3E%3C/svg%3E\");\n            }\n\n            form {\n                width: 20rem;\n                max-width: calc(100vw - 2rem);\n            }\n\n            img {\n                max-height: 3.75rem;\n                max-width: 15rem;\n            }\n        `,\n    ],\n})\nexport class LoginComponent implements OnInit {\n    /** Whether the user credentials are being checked */\n    public loading: boolean;\n\n    public readonly form = new FormGroup({\n        username: new FormControl('', [Validators.required]),\n        password: new FormControl('', [Validators.required]),\n    });\n\n    /** Password field element */\n    @ViewChild('pass_field', { static: true })\n    private pwd_field: ElementRef<HTMLInputElement>;\n\n    /** Logo of the application organisation */\n    public get logo(): ApplicationIcon {\n        return this._settings.get('app.logo_dark') || { type: 'icon' };\n    }\n\n    constructor(private _settings: SettingsService) {}\n\n    public async ngOnInit() {\n        this.loading = true;\n        await this._settings.initialised.pipe(first((_) => _)).toPromise();\n        this.loading = false;\n    }\n\n    /** Focus on the password field */\n    public toPassword() {\n        if (this.pwd_field && this.pwd_field.nativeElement) {\n            this.pwd_field.nativeElement.focus();\n        }\n    }\n\n    /** Perform user login */\n    public login() {\n        this.loading = true;\n        // this._users.login({\n        //     username: this.username,\n        //     password: this.password\n        // }, { form: true }).then(() => {\n        //     this.loading = false;\n        // }, () => {\n        //     this.loading = false;\n        //     this.error = true;\n        // });\n        this.form.setErrors({ password: 'Invalid username or password' });\n    }\n}\n","import { Component, OnInit, Output, EventEmitter, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { ViewerFeature, ViewerStyles } from '@placeos/svg-viewer';\n\nimport { AsyncHandler } from '@placeos/common';\nimport { OrganisationService } from 'libs/organisation/src/lib/organisation.service';\nimport { BuildingLevel } from 'libs/organisation/src/lib/level.class';\nimport { MapPinComponent } from './map-pin.component';\n\nexport interface Locatable {\n    id: string;\n    name: string;\n    map_id: string;\n    level: BuildingLevel;\n    zones?: string[];\n}\n\n@Component({\n    selector: 'map-locate-modal',\n    template: `\n        <div class=\"h-[calc(100vh-4rem)] w-screen sm:h-auto sm:w-auto\">\n            <header class=\"p-4\">\n                <app-icon class=\"text-2xl\">place</app-icon>\n                <h1 class=\"ml-2 text-xl font-medium\">{{ item.name }}</h1>\n            </header>\n            <div\n                body\n                class=\"relative overflow-hidden h-[65vh] w-full sm:max-h-[65vh]\"\n                *ngIf=\"level\"\n            >\n                <i-map\n                    [src]=\"level.map_id\"\n                    [styles]=\"style_map\"\n                    [features]=\"features\"\n                >\n                    <mat-spinner diameter=\"64\"></mat-spinner>\n                </i-map>\n                <div\n                    class=\"absolute top-2 right-2 py-2 px-4 bg-white rounded-3xl shadow border border-gray-200\"\n                >\n                    {{ level?.name }}\n                </div>\n            </div>\n            <footer\n                class=\"w-full border-t border-gray-200 flex items-center justify-center p-2\"\n            >\n                <button btn matRipple class=\"inverse w-32\" mat-dialog-close>\n                    Close\n                </button>\n            </footer>\n        </div>\n    `,\n    styles: [\n        `\n            [body] {\n                min-width: 80vw !important;\n            }\n        `,\n    ],\n})\nexport class MapLocateModalComponent extends AsyncHandler implements OnInit {\n    /** Emitter for user action on the modal */\n    @Output() public event = new EventEmitter();\n    /** Space to show the location of on the map */\n    public item: Locatable = this._data.item;\n    /** Features of the map */\n    public features: ViewerFeature[];\n    /** Mapping of elements to CSS styles */\n    public style_map: ViewerStyles = {};\n\n    public get level(): BuildingLevel {\n        return this.item.level || this._org.levelWithID(this.item.zones || []);\n    }\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) private _data: { item: Locatable },\n        private _org: OrganisationService\n    ) {\n        super();\n        if (!this.item.level?.id) {\n            delete this.item.level;\n        }\n    }\n\n    public ngOnInit(): void {\n        this.timeout(\n            'init',\n            () => {\n                this.processFeature();\n                this.processStyles();\n            },\n            1000\n        );\n    }\n\n    public processStyles(): void {\n        const styles: ViewerStyles = {};\n        if (this.item?.map_id) {\n            styles[`#zones`] = { display: 'none' };\n            styles[`#Zones`] = { display: 'none' };\n        }\n        this.style_map = styles;\n    }\n\n    /** Point on map to focus on */\n    public processFeature(): void {\n        if (!this.item) return null;\n        const focus = {\n            location: this.item.map_id,\n            track_id: `focus_item`,\n            content: MapPinComponent,\n            data: {\n                name: this.item.name,\n            },\n            z_index: 99,\n            zoom: 100,\n        };\n        this.features = [focus];\n    }\n}\n","import { Component, Inject, OnInit } from '@angular/core';\nimport { MAP_FEATURE_DATA } from './interactive-map.component';\n\nexport interface MapPinData {\n    message: string;\n    fill: string;\n    stroke: string;\n    action?: () => void;\n}\n\n@Component({\n    selector: '[map-pin]',\n    template: `\n        <div\n            name=\"message\"\n            *ngIf=\"message && show_message\"\n            class=\"p-2 m-2 rounded bg-white text-gray-700 shadow\"\n        >\n            {{ message }}\n        </div>\n        <svg\n            *ngIf=\"show\"\n            name=\"pin\"\n            viewBox=\"0 0 380 560\"\n            [class.action]=\"action\"\n            (click)=\"action()\"\n        >\n            <g>\n                <path\n                    [style.fill]=\"fill\"\n                    [style.stroke]=\"stroke\"\n                    stroke-width=\"25\"\n                    d=\"M182.9,551.7c0,0.1,0.2,0.3,0.2,0.3S358.3,283,358.3,194.6c0-130.1-88.8-186.7-175.4-186.9\n            C96.3,7.9,7.5,64.5,7.5,194.6c0,88.4,175.3,357.4,175.3,357.4S182.9,551.7,182.9,551.7z M122.2,187.2c0-33.6,27.2-60.8,60.8-60.8\n            c33.6,0,60.8,27.2,60.8,60.8S216.5,248,182.9,248C149.4,248,122.2,220.8,122.2,187.2z\"\n                />\n            </g>\n        </svg>\n    `,\n    styles: [\n        `\n            :host {\n                position: absolute;\n                bottom: 0;\n                left: 50%;\n                width: 24rem;\n                display: flex;\n                flex-direction: column;\n                align-items: center;\n                transform: translateX(-50%);\n                z-index: -1;\n            }\n\n            div {\n                animation: fade-in-top 1s;\n            }\n\n            .action {\n                pointer-events: auto;\n            }\n\n            svg {\n                width: 2rem;\n                animation: fade-in-top 1s;\n            }\n\n            @keyframes fade-in-top {\n                0% {\n                    opacity: 0;\n                    transform: translateY(-100%);\n                }\n                100% {\n                    opacity: 1;\n                    transform: translateY(0%);\n                }\n            }\n        `,\n    ],\n})\nexport class MapPinComponent implements OnInit {\n    /** Message to display above the pin */\n    public readonly message = this._details.message;\n    /** Fill colour for the pin SVG */\n    public readonly fill = this._details.fill || '#e53935';\n    /** Stroke colour for the pin SVG */\n    public readonly stroke = this._details.stroke || '#fff';\n    /** Action to perform when clicking pin */\n    public readonly action = this._details.action || null;\n\n    public show: boolean;\n    public show_message: boolean;\n\n    constructor(@Inject(MAP_FEATURE_DATA) private _details: MapPinData) {}\n\n    public ngOnInit() {\n        setTimeout(() => (this.show = true), 300);\n        setTimeout(() => (this.show_message = true), 1000);\n    }\n}\n","import { ChangeDetectorRef, Component, Inject, OnInit } from '@angular/core';\nimport { AsyncHandler } from '@placeos/common';\nimport { Observable } from 'rxjs';\nimport { MAP_FEATURE_DATA } from './interactive-map.component';\n\nexport interface MapPolygonData {\n    /** Name of the region */\n    name: string;\n    /** Color to display region in on overlay */\n    color: string;\n    /** Array of points that define the shape of the region */\n    points: [number, number][];\n    /**  */\n    ratio?: number;\n    svg_ratio?: number;\n    zoom_value?: number;\n    ratio$?: Observable<number>;\n    svg_ratio$?: Observable<number>;\n    zoom$?: Observable<number>;\n    data$?: Observable<MapPolygonData>;\n}\n\n@Component({\n    selector: '[map-polygon]',\n    template: `\n        <div\n            polygon\n            class=\"absolute w-full h-full transform -translate-x-1/2 -translate-y-1/2 -top-1 -left-1\"\n            [style.transform]=\"'scale(' + scale * zoom + ')'\"\n        >\n            <div\n                class=\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2\"\n                [style.width]=\"width + '%'\"\n                [style.height]=\"height + '%'\"\n            >\n                <svg\n                    [attr.viewBox]=\"\n                        '0 0 ' +\n                        (this.width / 20 || 1) +\n                        ' ' +\n                        (this.height / 20 || 1)\n                    \"\n                    preserveAspectRatio=\"none\"\n                    class=\"relative w-full h-full\"\n                >\n                    <polygon\n                        [attr.points]=\"points\"\n                        [style.fill]=\"fill\"\n                        [style.stroke]=\"stroke\"\n                    />\n                    <!-- <circle\n                        *ngFor=\"let point of point_list\"\n                        [attr.cx]=\"point[0] || 0\"\n                        [attr.cy]=\"point[1] || 0\"\n                        [attr.r]=\"4\"\n                        [style.stroke]=\"'#000'\"\n                        [style.fill]=\"'#fffd'\"\n                    /> -->\n                </svg>\n            </div>\n        </div>\n        <div\n            text\n            class=\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-shadow text-white text-xl text-center whitespace-pre-line\"\n        >\n            {{ name }}\n        </div>\n    `,\n    styles: [\n        `\n            [polygon] {\n                will-change: transform;\n            }\n\n            polygon {\n                stroke-width: 2;\n            }\n            circle {\n                stroke-width: 2;\n            }\n\n            [text] {\n                width: 32rem;\n                max-width: 65vw;\n            }\n        `,\n    ],\n})\nexport class MapPolygonComponent extends AsyncHandler implements OnInit {\n    /** Message to display above the pin */\n    public name = this._details.name;\n    /** Fill colour for the pin SVG */\n    public fill = `${this._details.color || '#e53935'}88`;\n    /** Stroke colour for the pin SVG */\n    public stroke = this._details.color || '#e53935';\n    public padding = 32;\n    public width = 1;\n    public height = 1;\n    public readonly svg_scale = 20;\n\n    public get scale() {\n        return this._details.svg_ratio || 1;\n    }\n\n    public get zoom() {\n        return this._details.zoom_value || 1;\n    }\n\n    /** List of points for drawing the polygon */\n    public points = `0,0 0,${this.height} ${this.width},${this.height} ${this.width},0`;\n\n    public point_list: [number, number][] = [];\n\n    constructor(\n        @Inject(MAP_FEATURE_DATA) private _details: MapPolygonData,\n        private _cdr: ChangeDetectorRef\n    ) {\n        super();\n    }\n\n    public ngOnInit(): void {\n        if (this._details.data$) {\n            this.subscription(\n                'data',\n                this._details.data$.subscribe((_) => {\n                    this.name = _.name;\n                    this.fill = `${_.color || '#e53935'}88`;\n                    this.stroke = _.color || '#e53935';\n                    this.processPoints(_.points);\n                })\n            );\n        }\n        this.subscription(\n            'ratio',\n            this._details.ratio$?.subscribe((_) => {\n                this._details.ratio = _;\n                this.processPoints(this._details.points);\n            })\n        );\n        this.subscription(\n            'zoom',\n            this._details.zoom$?.subscribe(\n                (_) => (this._details.zoom_value = _)\n            )\n        );\n        this.subscription(\n            'svg_ratio',\n            this._details.svg_ratio$?.subscribe(\n                (_) => (this._details.svg_ratio = _)\n            )\n        );\n        this.processPoints(this._details.points);\n    }\n\n    public processPoints(points: [number, number][]) {\n        const diff: Record<string, number> = points.reduce(\n            (m, [x, y]) => ({\n                x_min: x < m.x_min ? x : m.x_min,\n                x_max: x > m.x_max ? x : m.x_max,\n                y_min: y < m.y_min ? y : m.y_min,\n                y_max: y > m.y_max ? y : m.y_max,\n            }),\n            {\n                x_min: 100,\n                x_max: -100,\n                y_min: 100,\n                y_max: -100,\n            }\n        );\n        const range = {\n            x: diff.x_max - diff.x_min,\n            y: diff.y_max - diff.y_min,\n        };\n        const { ratio } = this._details;\n        this.width = range.x * 100;\n        this.height = range.y * 100 * (ratio || 1);\n        this.width = Math.floor(this.width * 100);\n        this.height = Math.floor(this.height * 100);\n        this.points = points\n            .reduce(\n                (s, [x, y]) =>\n                    `${s}${s ? ' ' : ''}${\n                        (((x - diff.x_min) / range.x) * this.width) / 20\n                    },${(((y - diff.y_min) / range.y) * this.height) / 20}`,\n                ''\n            )\n            .replace(/NaN/g, '0');\n        this.point_list = points.map(([x, y]) => [\n            (((x - diff.x_min) / range.x) * this.width) / 20,\n            (((y - diff.y_min) / range.y) * this.height) / 20,\n        ]);\n        this._cdr.detectChanges();\n    }\n}\n","import { Component, ElementRef, Inject, OnInit } from '@angular/core';\nimport { formatDistanceToNow } from 'date-fns';\nimport { Observable } from 'rxjs';\nimport { MAP_FEATURE_DATA } from './interactive-map.component';\n\nexport interface MapRadiusData {\n    message: string;\n    radius: number;\n    fill: string;\n    stroke: string;\n    last_seen?: number;\n    zoom$: Observable<number>;\n}\n\n@Component({\n    selector: '[map-radius]',\n    template: `\n        <ng-container *ngIf=\"show && radius\" (window:resize)=\"updateRadius()\">\n            <div\n                radius\n                class=\"center border-4 rounded-full border-dashed\"\n                [style.border-color]=\"stroke\"\n                [style.background-color]=\"fill + '40'\"\n                [style.width]=\"radius * zoom + 'px'\"\n                [style.height]=\"radius * zoom + 'px'\"\n            ></div>\n            <div\n                *ngIf=\"message && show_message\"\n                message\n                [style.top]=\"'-' + (radius / 2) * zoom + 'px'\"\n                class=\"p-2 m-2 rounded bg-white text-gray-700 shadow absolute top-0 whitespace-no-wrap flex flex-col w-64\"\n            >\n                {{ message }}\n                <span *ngIf=\"last_seen\" class=\"text-xs\">\n                    Last updated: {{ last_seen_at }}\n                </span>\n            </div>\n        </ng-container>\n    `,\n    styles: [\n        `\n            :host {\n                position: absolute;\n                height: 100%;\n                width: 100%;\n            }\n\n            [message] {\n                transform: translate(-50%, -120%);\n                animation: fade-in-top 1s;\n            }\n\n            @keyframes fade-in-top {\n                0% {\n                    opacity: 0;\n                    transform: translate(-50%, -220%);\n                }\n                100% {\n                    opacity: 1;\n                    transform: translate(-50%, -120%);\n                }\n            }\n        `,\n    ],\n})\nexport class MapRadiusComponent implements OnInit {\n    public zoom = 1;\n    /** Size of the area marked by this component */\n    public radius = this._details.radius || 10;\n    /** Message to display above the pin */\n    public readonly message = this._details.message;\n    /** Fill colour for the pin SVG */\n    public readonly fill = this._details.fill || '#e53935';\n    /** Stroke colour for the pin SVG */\n    public readonly stroke = this._details.stroke || '#e53935';\n\n    public readonly last_seen: number = this._details.last_seen || 0;\n\n    public get last_seen_at() {\n        return formatDistanceToNow(this.last_seen * 1000) + ' ago';\n    }\n\n    public show: boolean;\n    public show_message: boolean;\n\n    constructor(\n        @Inject(MAP_FEATURE_DATA) private _details: MapRadiusData,\n        private _el: ElementRef<HTMLElement>\n    ) {\n        this._details.zoom$?.subscribe((v) =>\n            Math.max(0.5, (this.zoom = v || 1))\n        );\n    }\n\n    public ngOnInit() {\n        setTimeout(() => (this.show = true), 300);\n        setTimeout(() => (this.show_message = true), 1000);\n    }\n\n    public ngAfterViewInit() {\n        this.updateRadius();\n    }\n\n    public updateRadius() {\n        const box = this._el.nativeElement.getBoundingClientRect();\n        if (!box.width) return setTimeout(() => this.updateRadius(), 300);\n        this.radius = Math.max(\n            64,\n            (this._details.radius || 10) * (box.width || 10)\n        );\n    }\n}\n","import { Component } from '@angular/core';\n\n@Component({\n    selector: 'app-misconfigured',\n    template: `\n        <div\n            content\n            class=\"rounded m-4 text-center bg-white text-black border border-gray-400 p-4 shadow\"\n        >\n            <h3 class=\"text-2xl\" i18n=\"@@forbiddenLabel\">\n                Application Misconfigured.\n            </h3>\n            <p class=\"py-4\" i18n=\"@@invalidPermissionLabel\">\n                This application requires a zone of type org, building and level\n                to operate.\n            </p>\n            <p i18n=\"@@contactAdminLabel\">\n                If this issue persists please contact your administrator.\n            </p>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                align-items: center;\n                justify-content: center;\n            }\n\n            [content] {\n                width: 28em;\n                max-width: calc(100vw - 1rem);\n            }\n\n            @media (prefers-color-scheme: dark) {\n                [content] {\n                    background-color: #262626;\n                    color: #fff;\n                }\n            }\n        `,\n    ],\n})\nexport class MisconfiguredComponent {}\n","import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { ApplicationIcon, AsyncHandler } from '@placeos/common';\n\nexport interface PopoutAction extends ApplicationIcon {\n    /** ID of the action */\n    id: string;\n}\n\n@Component({\n    selector: 'a-popout-menu',\n    template: `\n        <button\n            icon\n            matRipple\n            class=\"small absolute text-base center shadow\"\n            *ngFor=\"let item of actions; let i = index\"\n            [style.top]=\"show ? -110 * i - 60 + '%' : ''\"\n            (click)=\"action.emit(item.id); show = false\"\n        >\n            <app-icon [icon]=\"item\"></app-icon>\n        </button>\n        <button\n            name=\"root\"\n            icon\n            matRipple\n            [class.show]=\"show\"\n            (click)=\"show = !show\"\n            (window:click)=\"show ? close() : ''\"\n        >\n            <app-icon>{{ show ? 'add' : 'more_vert' }}</app-icon>\n        </button>\n    `,\n    styles: [\n        `\n            :host {\n                position: relative;\n            }\n\n            app-icon {\n                transition: transform 200ms;\n            }\n\n            button {\n                background-color: #fff;\n                color: rgba(#000, 0.85);\n                font-size: 1.25rem;\n                height: 2.5em;\n                width: 2.5em;\n            }\n\n            button.show app-icon {\n                transform: rotate(45deg);\n            }\n\n            button.small {\n                transition: top 200ms, left 200ms;\n            }\n        `,\n    ],\n})\nexport class PopoutMenuComponent extends AsyncHandler {\n    /** List of available actions */\n    @Input() public actions: PopoutAction[] = [];\n    /** Emitter for user actions */\n    @Output() public action = new EventEmitter<string>();\n    /** Whether actions should show */\n    public show: boolean;\n\n    public close() {\n        this.timeout('close', () => (this.show = false));\n    }\n}\n","import { Component, OnInit } from \"@angular/core\";\nimport { Router } from \"@angular/router\";\nimport { first } from \"rxjs/operators\";\n\nimport { SettingsService } from \"@placeos/common\";\nimport { OrganisationService } from \"libs/organisation/src/lib/organisation.service\";\n\n@Component({\n    selector: 'page-redirect',\n    template: ``,\n    styles: [``]\n})\nexport class RedirectComponent implements OnInit {\n    constructor(private _settings: SettingsService, private _org: OrganisationService, private _router: Router) {}\n\n    public async ngOnInit() {\n        await this._settings.initialised.pipe(first(_ => _)).toPromise();\n        await this._org.initialised.pipe(first(_ => _)).toPromise();\n        if (!this._settings.get('app.default_route')) return;\n        this._router.navigate(this._settings.get('app.default_route').split('/'));\n    }\n}\n","import { Component, Inject } from '@angular/core';\nimport { CustomTooltipData } from '@placeos/components';\nimport { OrganisationService } from '@placeos/organisation';\n\n@Component({\n    selector: 'region-select',\n    template: `\n        <div\n            class=\"flex flex-col w-[18.5rem] rounded bg-white shadow p-2 relative -top-12 -right-1 dark:bg-neutral-700 dark:text-white\"\n            (click)=\"close()\"\n        >\n            <div class=\"flex items-center space-x-2\">\n                <app-icon class=\"text-2xl\">arrow_back</app-icon>\n                <div class=\"\">\n                    {{\n                        (region | async)?.display_name ||\n                            (region | async)?.name\n                    }}\n                </div>\n            </div>\n            <div class=\"text-xs opacity-60 mb-4 px-2\" i18n>\n                Select a region\n            </div>\n            <mat-radio-group\n                [ngModel]=\"(region | async)?.id\"\n                class=\"flex flex-col space-y-2 px-2\"\n            >\n                <mat-radio-button\n                    *ngFor=\"let item of regions | async\"\n                    [value]=\"item.id\"\n                    (click)=\"setRegion(item)\"\n                >\n                    {{ item.display_name || item.name }}\n                </mat-radio-button>\n            </mat-radio-group>\n        </div>\n    `,\n    styles: [``],\n})\nexport class RegionSelectComponent {\n    public readonly regions = this._org.region_list;\n    public readonly region = this._org.active_region;\n\n    public readonly setRegion = (i) => {\n        this._org.region = i;\n        this._data?.close();\n    };\n\n    public readonly close = () => this._data?.close();\n\n    constructor(\n        @Inject(CustomTooltipData) private _data: any,\n        private _org: OrganisationService\n    ) {}\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer, SafeHtml, SafeResourceUrl, SafeScript, SafeStyle } from '@angular/platform-browser';\n\n@Pipe({\n    name: 'safe'\n})\nexport class SafePipe implements PipeTransform {\n    constructor(private sanitizer: DomSanitizer) {}\n\n    /**\n     * Sanitizes the string allowing it to be injected into a template\n     * @param value String to sanitize\n     * @param type Type of value to sanitise. `resource`, `url`, `script`, `style` or `html`\n     */\n    public transform(\n        value: string,\n        type: 'resource' | 'url' | 'script' | 'style' | 'html' = 'html'\n    ): SafeHtml | SafeResourceUrl | SafeScript | SafeStyle {\n        switch (type) {\n            case 'resource':\n                return this.sanitizer.bypassSecurityTrustResourceUrl(value);\n            case 'url':\n                return this.sanitizer.bypassSecurityTrustUrl(value);\n            case 'script':\n                return this.sanitizer.bypassSecurityTrustScript(value);\n            case 'style':\n                return this.sanitizer.bypassSecurityTrustStyle(value);\n            default:\n                return this.sanitizer.bypassSecurityTrustHtml(value);\n        }\n    }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer, SafeHtml, SafeResourceUrl, SafeScript, SafeStyle } from '@angular/platform-browser';\n\nenum SecurityContext {\n    NONE = 0,\n    HTML = 1,\n    STYLE = 2,\n    SCRIPT = 3,\n    URL = 4,\n    RESOURCE_URL = 5\n}\n\n@Pipe({\n    name: 'sanitize'\n})\nexport class SanitizePipe implements PipeTransform {\n    constructor(private sanitizer: DomSanitizer) {}\n\n    transform(\n        value: any,\n        type: 'resource' | 'url' | 'script' | 'style' | 'html' = 'html'\n    ): SafeHtml | SafeResourceUrl | SafeScript | SafeStyle {\n        switch (type) {\n            case 'resource':\n                return this.sanitizer.sanitize(SecurityContext.RESOURCE_URL, value);\n            case 'url':\n                return this.sanitizer.sanitize(SecurityContext.URL, value);\n            case 'script':\n                return this.sanitizer.sanitize(SecurityContext.SCRIPT, value);\n            case 'style':\n                return this.sanitizer.sanitize(SecurityContext.STYLE, value);\n            default:\n                return this.sanitizer.sanitize(SecurityContext.HTML, value);\n        }\n    }\n}\n","import { Component, Input } from '@angular/core';\nimport { ApplicationLink } from '@placeos/common';\n\n@Component({\n    selector: 'status-overlay',\n    template: `\n        <div\n            status-overlay\n            class=\"fixed inset-0 flex flex-col bg-secondary items-center justify-center z-50 text-white\"\n        >\n            <ng-container *ngIf=\"!loading; else load_state\">\n                <div\n                    class=\"text-4xl rounded-full bg-white mb-4\"\n                    [class.text-success]=\"!error\"\n                    [class.text-error]=\"error\"\n                >\n                    <app-icon>{{ error ? 'close' : 'done' }}</app-icon>\n                </div>\n                <div class=\"text-center text-lg mb-4\">\n                    <ng-container *ngIf=\"!error; else error_msg\">\n                        <ng-content></ng-content>\n                    </ng-container>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <a\n                        button\n                        btn\n                        matRipple\n                        class=\"w-32\"\n                        *ngFor=\"let link of links\"\n                        [routerLink]=\"[link.route]\"\n                    >\n                        {{ link.name }}\n                    </a>\n                </div>\n            </ng-container>\n        </div>\n        <ng-template #error_msg\n            ><p error>{{ error }}</p></ng-template\n        >\n        <ng-template #load_state>\n            <mat-spinner [diameter]=\"32\" class=\"mb-4\"></mat-spinner>\n            <p loading class=\"text-center text-lg\">{{ loading }}</p>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class StatusOverlayComponent {\n    /** Whether overlay is loading */\n    @Input() public loading: string = '';\n    /** Details about any errors that have occurred */\n    @Input() public error: string = '';\n    /** Links to display on success */\n    @Input() public links: ApplicationLink[] = [];\n}\n","import { Component } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { MatDialogRef } from '@angular/material/dialog';\nimport {\n    currentUser,\n    notifyError,\n    notifySuccess,\n    SettingsService,\n} from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { getModule } from '@placeos/ts-client';\n\n@Component({\n    selector: 'support-ticket-modal',\n    template: `\n        <header class=\"flex items-center justify-between\">\n            <h2 i18n>Raise a support ticket</h2>\n            <button icon mat-dialog-close>\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <main class=\"w-[32rem] max-w-[85vw]\" *ngIf=\"!loading; else load_state\">\n            <form class=\"p-2\" [formGroup]=\"form\">\n                <div class=\"flex items-center sm:space-x-2 flex-wrap\">\n                    <div class=\"flex flex-col flex-1\">\n                        <label i18n>Name<span>*</span></label>\n                        <mat-form-field appearance=\"outline\">\n                            <input\n                                matInput\n                                placeholder=\"Name\"\n                                formControlName=\"name\"\n                            />\n                            <mat-error i18n>Name is required</mat-error>\n                        </mat-form-field>\n                    </div>\n                    <div class=\"flex flex-col flex-1\">\n                        <label i18n>Email<span>*</span></label>\n                        <mat-form-field appearance=\"outline\">\n                            <input\n                                matInput\n                                placeholder=\"Email\"\n                                formControlName=\"email\"\n                            />\n                            <mat-error i18n>Email is required</mat-error>\n                        </mat-form-field>\n                    </div>\n                </div>\n                <div class=\"flex flex-col\">\n                    <label i18n>Location</label>\n                    <mat-form-field appearance=\"outline\" class=\"w-full\">\n                        <mat-select\n                            placeholder=\"Location\"\n                            formControlName=\"location\"\n                        >\n                            <mat-option\n                                *ngFor=\"let bld of buildings | async\"\n                                [value]=\"bld.display_name || bld.name\"\n                            >\n                                {{ bld.display_name || bld.name }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                </div>\n                <div>\n                    <label class=\"mb-4\" i18n\n                        >Issue Description<span>*</span></label\n                    >\n                    <rich-text-input\n                        placeholder=\"Issue Description\"\n                        formControlName=\"description\"\n                    ></rich-text-input>\n                    <mat-error class=\"text-xs my-2\" *ngIf=\"desc_error\" i18n>\n                        Description is required\n                    </mat-error>\n                </div>\n            </form>\n            <div class=\"italic text-center text-xs mb-2\" i18n>\n                Completing this form will raise an incident in your support\n                management platform\n            </div>\n        </main>\n        <footer\n            class=\"p-2 border-t border-gray-200 flex items-center justify-center\"\n            *ngIf=\"!loading\"\n        >\n            <button btn matRipple class=\"w-32\" (click)=\"submit()\" i18n>\n                Submit\n            </button>\n        </footer>\n        <ng-template #load_state>\n            <main\n                class=\"w-[32rem] min-h-[24rem] max-w-[100vw] flex flex-col items-center justify-center space-y-2\"\n            >\n                <mat-spinner [diameter]=\"32\"></mat-spinner>\n                <p>Sending support ticket...</p>\n            </main>\n        </ng-template>\n    `,\n    styles: [\n        `\n            mat-form-field {\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class SupportTicketModalComponent {\n    public loading = false;\n    public readonly form = new FormGroup({\n        name: new FormControl('', [Validators.required]),\n        email: new FormControl('', [Validators.required]),\n        location: new FormControl(''),\n        description: new FormControl('', [Validators.required]),\n    });\n\n    public get desc_error() {\n        return (\n            !this.form.controls.description.valid &&\n            this.form.controls.description.touched\n        );\n    }\n\n    public get support_email() {\n        return this._settings.get('app.support_email') || 'support@place.tech';\n    }\n\n    public readonly buildings = this._org.building_list;\n\n    constructor(\n        private _dialog_ref: MatDialogRef<SupportTicketModalComponent>,\n        private _org: OrganisationService,\n        private _settings: SettingsService\n    ) {}\n\n    public ngOnInit() {\n        const user = currentUser();\n        if (user) {\n            this.form.patchValue({\n                name: user.name,\n                email: user.email,\n            });\n        }\n        if (this._org.building) {\n            this.form.patchValue({\n                location:\n                    this._org.building.display_name || this._org.building.name,\n            });\n        }\n    }\n\n    public async submit() {\n        this.loading = true;\n        this.form.markAllAsTouched();\n        this.form.updateValueAndValidity();\n        if (this.form.valid) {\n            const stmp_system = this._org.binding('smtp');\n            if (!stmp_system) {\n                return notifyError(\n                    'Mailing system not configured for application.'\n                );\n            }\n            const mod = getModule(stmp_system, 'Mailer');\n            const { name, email, location, description } = this.form.value;\n            await mod.execute('send_mail', [\n                this.support_email,\n                `Support Ticket from Workplace Application`,\n                `${name}\\n\\n${location}\\n\\n${description}`,\n                null,\n                [],\n                [],\n                [],\n                [],\n                `${email}`,\n            ]);\n            this._dialog_ref.close();\n            this.loading = false;\n            notifySuccess('Successfully submitted support ticket');\n        }\n    }\n}\n","import { Component } from '@angular/core';\n\n@Component({\n    selector: 'app-unauthorised',\n    template: `\n        <div\n            class=\"unauthorised rounded m-4 text-center bg-white text-black border border-gray-400 p-4 shadow\"\n        >\n            <h1 class=\"text-4xl\">403</h1>\n            <h3 class=\"text-2xl\" i18n>Access forbidden.</h3>\n            <p class=\"py-4\" i18n>\n                You do not have permission to view this page and your access\n                attempt has been recorded.\n            </p>\n            <p i18n>\n                Contact your Administrator if you feel that you should have\n                access.\n            </p>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                align-items: center;\n                justify-content: center;\n            }\n\n            .unauthorised {\n                width: 28em;\n                max-width: calc(100vw - 1rem);\n            }\n\n            @media (prefers-color-scheme: dark) {\n                .unauthorised {\n                    background-color: #262626;\n                    color: #fff;\n                }\n            }\n        `,\n    ],\n})\nexport class UnauthorisedComponent {}\n","import { Component, Input } from '@angular/core';\nimport { User } from 'libs/users/src/lib/user.class';\n\n@Component({\n    selector: 'a-user-avatar',\n    template: `\n        <div\n            class=\"flex items-center justify-center rounded-full overflow-hidden border-2 border-white\"\n            *ngIf=\"user\"\n            [attr.user-id]=\"user.id\"\n        >\n            <div\n                initials\n                class=\"text-white text-opacity-80 uppercase\"\n                *ngIf=\"!user.photo; else image_state\"\n            >\n                {{ initials }}\n            </div>\n        </div>\n        <ng-template #image_state>\n            <img class=\"h-full w-full\" [src]=\"user.photo | safe: 'resource'\" />\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host > div {\n                height: 2.5em;\n                width: 2.5em;\n                background-color: var(--secondary);\n                overflow: hidden;\n                border: 2px solid white;\n            }\n\n            .initials {\n                font-size: 1em;\n            }\n        `,\n    ],\n})\nexport class UserAvatarComponent {\n    /** User to display avatar for */\n    @Input() public user: User;\n\n    public get initials(): string {\n        if (!this.user) return 'NA';\n        const name = this.user.name || '';\n        const parts = name.replace(/[()[\\]\\-+=\\\\/]+/gi, '').split(' ');\n        return parts.length > 1\n            ? `${parts[0][0]}${parts[parts.length - 1][0]}`\n            : name.slice(0, 2);\n    }\n}\n","import { Component } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { currentUser, SettingsService, VERSION } from '@placeos/common';\nimport { ChangelogModalComponent } from '@placeos/components';\nimport { OrganisationService } from '@placeos/organisation';\nimport { logout } from '@placeos/ts-client';\nimport { WFHSettingsModalComponent } from 'libs/users/src/lib/wfh-settings-modal.component';\nimport { AccessibilityTooltipComponent } from './accessibility-tooltip.component';\nimport { BuildingSelectComponent } from './building-select.component';\nimport { HelpTooltipComponent } from './help-tooltip.component';\nimport { LanguageSelectComponent } from './language-tooltip.component';\nimport { RegionSelectComponent } from './region-select.component';\nimport { SupportTicketModalComponent } from './support-ticket-modal.component';\n\nexport interface AppLocale {\n    id: string;\n    name: string;\n    flag: string;\n}\n\n@Component({\n    selector: 'user-controls',\n    template: `\n        <div\n            class=\"rounded bg-white dark:bg-neutral-700 dark:text-white shadow mt-1 flex flex-col relative divide-y divide-gray-300 dark:divide-neutral-500\"\n        >\n            <div avatar class=\"flex flex-col items-center p-2 w-[18rem]\">\n                <a-user-avatar\n                    class=\"text-2xl\"\n                    [user]=\"user\"\n                    [matTooltip]=\"groups\"\n                ></a-user-avatar>\n                <div class=\"\">{{ user?.name }}</div>\n                <div class=\"text-xs opacity-60 truncate\">{{ user?.email }}</div>\n            </div>\n            <div\n                customTooltip\n                *ngIf=\"(regions | async).length\"\n                [content]=\"region_select\"\n                class=\"relative\"\n            >\n                <button btn matRipple class=\"clear w-full text-left h-[3.5rem]\">\n                    <div\n                        class=\"w-full flex items-center space-x-2 dark:text-white\"\n                    >\n                        <div\n                            class=\"flex items-center justify-center rounded-full w-8 h-8 bg-gray-200 dark:bg-neutral-800\"\n                        >\n                            <app-icon>layers</app-icon>\n                        </div>\n                        <div class=\"flex-1 truncate w-px\">\n                            {{\n                                (region | async)?.display_name ||\n                                    (region | async)?.name\n                            }}\n                        </div>\n                        <app-icon class=\"opacity-60 text-2xl\">\n                            chevron_right\n                        </app-icon>\n                    </div>\n                </button>\n            </div>\n            <div customTooltip [content]=\"building_select\" class=\"relative\">\n                <button btn matRipple class=\"clear w-full text-left h-[3.5rem]\">\n                    <div\n                        class=\"w-full flex items-center space-x-2 dark:text-white\"\n                    >\n                        <div\n                            class=\"flex items-center justify-center rounded-full w-8 h-8 bg-gray-200 dark:bg-neutral-800\"\n                        >\n                            <app-icon>business</app-icon>\n                        </div>\n                        <div class=\"flex-1 truncate w-px\">\n                            {{\n                                (building | async)?.display_name ||\n                                    (building | async)?.name\n                            }}\n                        </div>\n                        <app-icon class=\"opacity-60 text-2xl\">\n                            chevron_right\n                        </app-icon>\n                    </div>\n                </button>\n            </div>\n            <div\n                customTooltip\n                [content]=\"help_tooltip\"\n                *ngIf=\"features.includes('help')\"\n            >\n                <button btn matRipple class=\"clear w-full text-left h-[3.5rem]\">\n                    <div\n                        class=\"w-full flex items-center space-x-2 dark:text-white\"\n                    >\n                        <div\n                            class=\"flex items-center justify-center rounded-full w-8 h-8 bg-gray-200 dark:bg-neutral-800\"\n                        >\n                            <app-icon>help</app-icon>\n                        </div>\n                        <div class=\"flex-1\" i18n>Help & Support</div>\n                        <app-icon class=\"opacity-60 text-2xl\"\n                            >chevron_right</app-icon\n                        >\n                    </div>\n                </button>\n            </div>\n            <div *ngIf=\"features.includes('wfh')\">\n                <button\n                    btn\n                    matRipple\n                    class=\"clear w-full text-left h-[3.5rem]\"\n                    (click)=\"openWfhModal()\"\n                >\n                    <div\n                        class=\"w-full flex items-center space-x-2 dark:text-white\"\n                    >\n                        <div\n                            class=\"flex items-center justify-center rounded-full w-8 h-8 bg-gray-200 dark:bg-neutral-800\"\n                        >\n                            <app-icon>share_location</app-icon>\n                        </div>\n                        <div class=\"flex-1\" i18n>Work Location Settings</div>\n                        <app-icon class=\"opacity-60 text-2xl\"\n                            >chevron_right</app-icon\n                        >\n                    </div>\n                </button>\n            </div>\n            <div\n                customTooltip\n                [content]=\"accessibility_tooltip\"\n                [class.!border-b]=\"!locales?.length\"\n            >\n                <button btn matRipple class=\"clear w-full text-left h-[3.5rem]\">\n                    <div\n                        class=\"w-full flex items-center space-x-2 dark:text-white\"\n                    >\n                        <div\n                            class=\"flex items-center justify-center rounded-full w-8 h-8 bg-gray-200 dark:bg-neutral-800\"\n                        >\n                            <app-icon>mode_night</app-icon>\n                        </div>\n                        <div class=\"flex-1\" i18n>Display & Accessibility</div>\n                        <app-icon class=\"opacity-60 text-2xl\"\n                            >chevron_right</app-icon\n                        >\n                    </div>\n                </button>\n            </div>\n            <div\n                customTooltip\n                [content]=\"language_tooltip\"\n                *ngIf=\"locales?.length\"\n                class=\"!border-b\"\n            >\n                <button btn matRipple class=\"clear w-full text-left h-[3.5rem]\">\n                    <div\n                        class=\"w-full flex items-center space-x-2 dark:text-white\"\n                    >\n                        <div\n                            class=\"flex items-center justify-center rounded-full w-8 h-8 bg-gray-200 dark:bg-neutral-800\"\n                        >\n                            <app-icon>mode_night</app-icon>\n                        </div>\n                        <div class=\"flex-1\" i18n>\n                            {{ 'COMMON.LANGUAGE_LABEL' | translate }}:\n                            {{ 'COMMON.LANGUAGE' | translate }}\n                        </div>\n                        <app-icon class=\"opacity-60 text-2xl\"\n                            >chevron_right</app-icon\n                        >\n                    </div>\n                </button>\n            </div>\n            <button\n                btn\n                matRipple\n                class=\"clear w-full text-left h-[3.5rem]\"\n                (click)=\"newSupportTicket()\"\n            >\n                <div class=\"w-full flex items-center space-x-2 dark:text-white\">\n                    <div\n                        class=\"flex items-center justify-center rounded-full w-8 h-8 bg-gray-200 dark:bg-neutral-800\"\n                    >\n                        <app-icon>support_agent</app-icon>\n                    </div>\n                    <div class=\"flex-1\" i18n>Raise a support ticket</div>\n                </div>\n            </button>\n            <div class=\"flex flex-col items-center p-4\">\n                <button\n                    btn\n                    matRipple\n                    i18n\n                    class=\"inverse mb-4\"\n                    (click)=\"logout()\"\n                >\n                    Sign Out\n                </button>\n                <div class=\"text-xs opacity-60 w-full\">\n                    <ng-container i18n>Version: </ng-container>\n                    <button\n                        class=\"underline p-0 m-0 bg-none border-none text-xs\"\n                        (click)=\"viewChangelog()\"\n                    >\n                        {{ version.hash }}\n                    </button>\n                </div>\n                <div class=\"text-xs opacity-60 w-full\">\n                    {{ version.time | date: 'longDate' }}\n                    ({{ version.time | date: 'shortTime' }})\n                </div>\n            </div>\n        </div>\n    `,\n    styles: [``],\n})\nexport class UserControlsComponent {\n    public readonly building = this._org.active_building;\n    public readonly region = this._org.active_region;\n    public readonly regions = this._org.region_list;\n\n    public readonly region_select = RegionSelectComponent;\n    public readonly building_select = BuildingSelectComponent;\n    public readonly help_tooltip = HelpTooltipComponent;\n    public readonly accessibility_tooltip = AccessibilityTooltipComponent;\n    public readonly language_tooltip = LanguageSelectComponent;\n\n    public get user() {\n        return currentUser();\n    }\n\n    public get groups() {\n        return this.user.groups.join('\\n');\n    }\n\n    public get version() {\n        return VERSION;\n    }\n\n    public get features(): string[] {\n        return this._settings.get('app.features') || [];\n    }\n\n    public get locales(): [] {\n        return this._settings.get('app.locales') || [];\n    }\n\n    constructor(\n        private _settings: SettingsService,\n        private _org: OrganisationService,\n        private _dialog: MatDialog\n    ) {}\n\n    public logout() {\n        logout();\n    }\n\n    public newSupportTicket() {\n        if (this._settings.get('app.external_support_url')) {\n            window.open(\n                this._settings.get('app.external_support_url'),\n                '_blank'\n            );\n        } else {\n            this._dialog.open(SupportTicketModalComponent);\n        }\n    }\n\n    public openWfhModal() {\n        this._dialog.open(WFHSettingsModalComponent);\n    }\n\n    public async viewChangelog() {\n        const changelog = await (\n            await fetch(\n                'https://raw.githubusercontent.com/PlaceOS/user-interfaces/develop/CHANGELOG.md'\n            )\n        ).text();\n        this._dialog.open(ChangelogModalComponent, { data: { changelog } });\n    }\n}\n","import { Overlay, OverlayRef } from '@angular/cdk/overlay';\nimport { CdkPortal } from '@angular/cdk/portal';\nimport {\n    Component,\n    ElementRef,\n    HostListener,\n    Input,\n    OnDestroy,\n    ViewChild,\n} from '@angular/core';\nimport { AsyncHandler } from '@placeos/common';\n\nconst DEFAULT_KEYS = [\n    '0123456789'.split(''),\n    'qwertyuiop'.split(''),\n    'asdfghjkl'.split(''),\n    'zxcvbnm'.split(''),\n    ['{caps}', '{space}', '{backspace}'],\n];\n\n@Component({\n    selector: 'input[keyboard],textarea[keyboard]',\n    template: `\n        <ng-content></ng-content>\n        <ng-template cdk-portal>\n            <div\n                keyboard-view\n                class=\"w-screen flex flex-col space-y-4 bg-gray-200 p-2 border-t border-gray-400\"\n            >\n                <div\n                    row\n                    class=\"flex items-center justify-center space-x-2\"\n                    *ngFor=\"let row of keyset\"\n                >\n                    <ng-container *ngFor=\"let key of row\">\n                        <div\n                            [attr.key]=\"key\"\n                            tabindex=\"0\"\n                            class=\"rounded-xl p-2 border border-gray-300 relative cursor-pointer bg-white\"\n                            [class.special]=\"key[0] === '{' && key.length > 1\"\n                            [class.space]=\"key === '{space}'\"\n                            (focus)=\"focusInput()\"\n                            (click)=\"handleKeyPress(key)\"\n                        >\n                            {{\n                                key === '{space}'\n                                    ? 'Space'\n                                    : key === '{caps}'\n                                    ? 'Caps Lock'\n                                    : key === '{backspace}'\n                                    ? 'Backspace'\n                                    : key\n                            }}\n                            <div\n                                *ngIf=\"key === '{caps}'\"\n                                dot\n                                class=\"absolute top-2 right-2 h-2 w-2 rounded-full bg-gray-300\"\n                                [class.bg-success]=\"state === 'shift'\"\n                            ></div>\n                        </div>\n                    </ng-container>\n                </div>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            [key] {\n                height: 3.5rem;\n                width: 4rem;\n                transition: box-shadow 200ms, top 200ms;\n                box-shadow: 0 4px 0 0.04px rgba(0, 0, 0, 0.1);\n            }\n\n            [key].special {\n                width: 10rem;\n            }\n\n            [key].space {\n                flex: 1;\n                min-width: 10rem;\n                max-width: 25rem;\n            }\n\n            [key]:hover {\n                top: 2px;\n                box-shadow: 0 2px 0 0.04px rgba(0, 0, 0, 0.1);\n            }\n\n            [key]:active {\n                top: 4px;\n                box-shadow: 0 0 0 0.04px rgba(0, 0, 0, 0.1);\n            }\n        `,\n    ],\n})\nexport class VirtualKeyboardComponent\n    extends AsyncHandler\n    implements OnDestroy\n{\n    /** Whether virtual keyboard should activate */\n    public static enabled: boolean;\n    /** List of rows of keys to display on the keyboard */\n    @Input() public keyset = DEFAULT_KEYS;\n    /** Current state of the displayed keyset */\n    public state: 'normal' | 'caps' | 'shift' = 'normal';\n    /** References to the overlay containing the keyboard */\n    private _overlay_ref: OverlayRef = null;\n    /** Portal with the keyboard contents */\n    @ViewChild(CdkPortal) private _portal: CdkPortal;\n\n    @HostListener('focus') public onFocus = () => {\n        if (!VirtualKeyboardComponent.enabled) return;\n        this.open();\n        this.clearTimeout('blur');\n    };\n    @HostListener('blur') public onBlur = () =>\n        this.timeout('blur', () => this.close());\n\n    constructor(\n        private _element: ElementRef<HTMLInputElement | HTMLTextAreaElement>,\n        private _overlay: Overlay\n    ) {\n        super();\n    }\n\n    public ngOnDestroy() {\n        super.ngOnDestroy();\n        this.close();\n    }\n\n    public focusInput() {\n        this._element?.nativeElement?.blur();\n        this._element?.nativeElement?.focus();\n    }\n\n    public open() {\n        if (this._overlay_ref) return;\n        if (!this._portal) return;\n        this._overlay_ref = this._overlay.create({\n            positionStrategy: this._overlay\n                .position()\n                .global()\n                .bottom()\n                .centerHorizontally(),\n        });\n        this._overlay_ref.attach(this._portal);\n    }\n\n    public close() {\n        if (this._overlay_ref) {\n            this._overlay_ref.dispose();\n            this._overlay_ref = null;\n        }\n    }\n\n    public handleKeyPress(key: string) {\n        let cursor_pos = this._element.nativeElement.selectionStart;\n        const str = this._element.nativeElement.value || '';\n        switch (key.toLowerCase()) {\n            case '{caps}':\n            case '{shift}':\n                this.state = 'shift';\n                break;\n            case '{backspace}':\n                this._element.nativeElement.value = `${str.substr(\n                    0,\n                    cursor_pos - 1\n                )}${str.substr(cursor_pos, str.length)}`;\n                cursor_pos = Math.max(0, cursor_pos - 1);\n                break;\n            case '{space}':\n                this._element.nativeElement.value = `${str.substr(\n                    0,\n                    cursor_pos\n                )}${' '}${str.substr(cursor_pos, str.length)}`;\n                cursor_pos += 1;\n                break;\n            default:\n                if (this.state === 'shift') this.state = 'normal';\n                this._element.nativeElement.value = `${str.substr(\n                    0,\n                    cursor_pos\n                )}${key}${str.substr(cursor_pos, str.length)}`;\n                cursor_pos += 1;\n        }\n        this._element.nativeElement.dispatchEvent(new InputEvent('input'));\n        this.updateKeyState();\n        this.timeout(\n            'focus',\n            () => {\n                this.focusInput();\n                this._element.nativeElement.selectionStart = cursor_pos;\n                this._element.nativeElement.selectionEnd = cursor_pos;\n            },\n            50\n        );\n    }\n\n    public updateKeyState() {\n        this.keyset = this.keyset.map((_) =>\n            _.map((k) =>\n                k.length > 1\n                    ? k\n                    : k[\n                          this.state !== 'normal'\n                              ? 'toUpperCase'\n                              : 'toLowerCase'\n                      ]()\n            )\n        );\n    }\n}\n","export * from './lib/events';\nexport * from './lib/events.module';\nexport * from './lib/event-details-modal.component';\nexport * from './lib/event-card.component';","import { Component, EventEmitter, Input, Output } from '@angular/core';\n\n@Component({\n    selector: 'attendee-list',\n    template: `\n        <div\n            class=\"w-full h-full overflow-hidden flex flex-col bg-white dark:bg-neutral-700\"\n        >\n            <div\n                class=\"flex items-center border-b border-gray-200 dark:border-neutral-500 p-2\"\n            >\n                <button close icon matRipple (click)=\"close.emit()\">\n                    <app-icon>arrow_back</app-icon>\n                </button>\n                <div class=\"flex-1 text-center pr-12 font-medium\" i18n>\n                    {{ list.length }} { list.length, plural, =1 { Attendee }\n                    other { Attendees } }\n                </div>\n            </div>\n            <div class=\"flex-1 w-full overflow-auto\">\n                <div\n                    attendee\n                    class=\"flex items-center p-2 space-x-2\"\n                    *ngFor=\"let user of list\"\n                >\n                    <a-user-avatar [user]=\"user\"></a-user-avatar>\n                    <div class=\"\">\n                        <div>{{ user.name }}</div>\n                        <div class=\"opacity-60\">\n                            <span *ngIf=\"host === user.email\" i18n>Host</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    `,\n    styles: [``],\n})\nexport class AttendeeListComponent {\n    @Input() public host: string = '';\n    @Input() public list: any[] = [];\n    @Output() public close = new EventEmitter();\n}\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n    SimpleChanges,\n} from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { ActivatedRoute } from '@angular/router';\nimport { addMinutes, format, formatDuration, isSameDay } from 'date-fns';\nimport { AsyncHandler } from '@placeos/common';\n\nimport { CalendarEvent } from './event.class';\nimport { EventDetailsModalComponent } from './event-details-modal.component';\nimport { OrganisationService } from 'libs/organisation/src/lib/organisation.service';\nimport { SpacePipe } from 'libs/spaces/src/lib/space.pipe';\n\n@Component({\n    selector: 'event-card',\n    template: `\n        <h4 class=\"mb-2 flex items-center\" *ngIf=\"event\" date>\n            <span *ngIf=\"show_day\" day>{{ day }}, </span>\n            {{ event?.date | date: 'h:mm a' }}\n            <span class=\"text-xs px-2\">({{ event?.date | date: 'z' }})</span>\n        </h4>\n        <a\n            name=\"view-event-details\"\n            class=\"w-full cursor-pointer relative\"\n            [routerLink]=\"['./']\"\n            [queryParams]=\"{ event: event?.id }\"\n            (click)=\"viewDetails()\"\n            *ngIf=\"event\"\n        >\n            <div\n                class=\"w-full bg-white dark:bg-[#1F2021] rounded-xl shadow py-4 relative\"\n            >\n                <h4 class=\"px-4 text-lg\">{{ event?.title }}</h4>\n                <div class=\"flex mx-4 my-2\">\n                    <div\n                        class=\"flex items-center bg-opacity-30 rounded-2xl p-1 text-base space-x-2 pr-2 font-medium\"\n                        [class.bg-green-600]=\"\n                            event.state !== 'done' &&\n                            event?.status === 'approved'\n                        \"\n                        [class.bg-yellow-500]=\"\n                            event.state !== 'done' &&\n                            event?.status === 'tentative'\n                        \"\n                        [class.bg-red-600]=\"\n                            event.state !== 'done' &&\n                            event?.status === 'declined'\n                        \"\n                        [class.bg-gray-300]=\"event.state === 'done'\"\n                    >\n                        <div\n                            class=\"rounded-full h-5 w-5 flex items-center justify-center text-white\"\n                            [class.bg-success]=\"\n                                event.state !== 'done' &&\n                                event?.status === 'approved'\n                            \"\n                            [class.text-pending]=\"\n                                event.state !== 'done' &&\n                                event?.status === 'tentative'\n                            \"\n                            [class.bg-error]=\"\n                                event.state !== 'done' &&\n                                event?.status === 'declined'\n                            \"\n                            [class.text-neutral-600]=\"event.state === 'done'\"\n                        >\n                            <app-icon>\n                                {{\n                                    event.state === 'done'\n                                        ? 'not_interested'\n                                        : event?.status === 'approved'\n                                        ? 'done'\n                                        : event?.status === 'tentative'\n                                        ? 'warning'\n                                        : 'close'\n                                }}\n                            </app-icon>\n                        </div>\n                        <div class=\"pr-1\">{{ period }}</div>\n                    </div>\n                </div>\n                <div\n                    class=\"flex flex-wrap flex-col sm:flex-row sm:divide-x divide-neutral-500 py-2 space-y-2 sm:space-y-0\"\n                >\n                    <div class=\"flex items-center px-4\">\n                        <app-icon>meeting_room</app-icon>\n                        <div class=\"mx-2 truncate\">\n                            {{ location }}\n                        </div>\n                    </div>\n                    <div class=\"flex items-center px-4\">\n                        <app-icon>person_outline</app-icon>\n                        <div class=\"mx-2\">\n                            {{\n                                event?.organiser?.name ||\n                                    event?.organiser?.email\n                            }}\n                        </div>\n                    </div>\n                    <div\n                        class=\"flex items-center px-4\"\n                        *ngIf=\"event?.ext('catering')?.length\"\n                    >\n                        <app-icon>restaurant</app-icon>\n                        <div class=\"mx-2\">Catered</div>\n                    </div>\n                    <div class=\"flex items-center px-4\">\n                        <app-icon>people</app-icon>\n                        <div class=\"mx-2\">\n                            {{ event?.attendees?.length }}\n                            {{\n                                event?.attendees?.length === 1\n                                    ? 'Person'\n                                    : 'People'\n                            }}\n                        </div>\n                    </div>\n                </div>\n                <app-icon\n                    class=\"absolute top-1/2 right-1 text-4xl -translate-y-1/2\"\n                >\n                    chevron_right\n                </app-icon>\n                <div\n                    class=\"absolute bottom-2 right-2 sm:bottom-auto sm:top-2 text-sm sm:text-base flex items-center pr-4\"\n                    *ngIf=\"event?.attendees?.length\"\n                >\n                    <div\n                        class=\"h-10 w-6\"\n                        *ngFor=\"\n                            let user of event?.attendees\n                                | slice\n                                    : 0\n                                    : (event?.attendees?.length === 6 ? 6 : 5)\n                        \"\n                    >\n                        <a-user-avatar [user]=\"user\"></a-user-avatar>\n                    </div>\n                    <div class=\"h-10 w-6\" *ngIf=\"event?.attendees?.length > 6\">\n                        <div\n                            class=\"bg-secondary rounded-full h-10 w-10 border-2 border-white flex items-center justify-center text-white\"\n                        >\n                            +{{ event?.attendees?.length - 5 }}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </a>\n    `,\n    styles: [\n        `\n            :host {\n                display: block;\n                width: 100%;\n            }\n        `,\n    ],\n    providers: [SpacePipe],\n})\nexport class EventCardComponent extends AsyncHandler {\n    @Input() public event: CalendarEvent;\n    @Input() public show_day: boolean = false;\n    @Output() public edit = new EventEmitter();\n    @Output() public remove = new EventEmitter();\n\n    public location = '';\n\n    constructor(\n        private _dialog: MatDialog,\n        private _route: ActivatedRoute,\n        private _org: OrganisationService,\n        private _space_pipe: SpacePipe\n    ) {\n        super();\n    }\n\n    public async ngOnInit() {\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((params) =>\n                params.has('event') && this.event?.id === params.get('event')\n                    ? this.viewDetails()\n                    : ''\n            )\n        );\n        this.location = await this.getLocationString();\n    }\n\n    public async ngOnChanges(changes: SimpleChanges) {\n        if (changes.event && this.event) {\n            this.location = await this.getLocationString();\n        }\n    }\n\n    public get day() {\n        const date = this.event?.date || Date.now();\n        const is_today = isSameDay(Date.now(), date);\n        return `${is_today ? 'Today' : format(date, 'EEEE')}`;\n    }\n\n    public async getLocationString() {\n        const system =\n            this.event?.resources[0] ||\n            this.event?.system ||\n            this.event?.space ||\n            ({} as any);\n        const space = await this._space_pipe.transform(\n            system.id || system.email\n        );\n        const zone_list = space?.zones || [];\n        const zone =\n            this._org.levelWithID(zone_list) ||\n            this._org.buildings.find((_) => zone_list.includes(_.id));\n        return `${zone ? (zone.display_name || zone.name) + ', ' : ''} ${\n            space?.display_name || space?.name\n        }`;\n    }\n\n    public get period() {\n        if (this.event?.all_day) return 'All Day';\n        const start = this.event?.date || Date.now();\n        const duration = this.event?.duration || 60;\n        const end = addMinutes(start, duration);\n        const dur = formatDuration({\n            hours: Math.floor(duration / 60),\n            minutes: duration % 60,\n        })\n            .replace(' hour', 'hr')\n            .replace(' minute', 'min');\n        return `${format(start, 'h:mm a')} - ${format(end, 'h:mm a')} (${dur})`;\n    }\n\n    public viewDetails() {\n        if (!this.event) return;\n        this.timeout('open', () => {\n            const ref = this._dialog.open(EventDetailsModalComponent, {\n                data: this.event,\n            });\n            this.subscription(\n                'edit',\n                ref.componentInstance.edit.subscribe(() => this.edit.emit())\n            );\n            this.subscription(\n                'remove',\n                ref.componentInstance.remove.subscribe(() => this.remove.emit())\n            );\n        });\n    }\n}\n","import { Component, EventEmitter, Inject, Output } from '@angular/core';\nimport { MatDialog, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { addMinutes, format, formatDuration, getUnixTime } from 'date-fns';\n\nimport { CalendarEvent } from './event.class';\nimport { MapPinComponent } from 'libs/components/src/lib/map-pin.component';\nimport { OrganisationService } from 'libs/organisation/src/lib/organisation.service';\nimport { SpacePipe } from 'libs/spaces/src/lib/space.pipe';\nimport { Building } from 'libs/organisation/src/lib/building.class';\nimport { BuildingLevel } from 'libs/organisation/src/lib/level.class';\nimport { notifyError, SettingsService } from '@placeos/common';\nimport { Space } from 'libs/spaces/src/lib/space.class';\nimport { getModule } from '@placeos/ts-client';\nimport { MapLocateModalComponent } from 'libs/components/src/lib/map-locate-modal.component';\n\n@Component({\n    selector: 'event-details-modal',\n    template: `\n        <div\n            class=\"w-[100vw] h-[100vh] sm:relative sm:inset-auto sm:w-[51rem] sm:h-auto sm:max-h-[80vh] bg-white sm:bg-gray-100 sm:dark:bg-neutral-600 dark:bg-neutral-700 sm:rounded overflow-auto space-y-2 pb-2\"\n        >\n            <div\n                class=\"sm:flex flex-col items-center pb-4 max-h-screen sm:max-h-[80vh] sm:px-16 sm:border-b bg-white dark:bg-neutral-700 border-gray-300 dark:border-neutral-500\"\n            >\n                <i\n                    binding\n                    [(model)]=\"room_status\"\n                    [sys]=\"event.system?.id\"\n                    mod=\"Bookings\"\n                    bind=\"status\"\n                ></i>\n                <div\n                    class=\"h-8 w-full sm:hidden block\"\n                    *ngIf=\"!event?.system?.images?.length\"\n                ></div>\n                <div\n                    class=\"bg-black/20 dark:bg-white/20 w-full h-64 sm:rounded-b overflow-hidden\"\n                    *ngIf=\"event?.system?.images?.length\"\n                >\n                    <image-carousel\n                        [images]=\"event?.system?.images\"\n                        class=\"w-full h-64\"\n                    ></image-carousel>\n                </div>\n                <h3\n                    title\n                    class=\"px-3 mt-2 text-xl font-medium w-full\"\n                    [class.pt-4]=\"!event?.system?.images?.length\"\n                >\n                    {{ event.title }}\n                </h3>\n                <div class=\"sm:flex items-center justify-between w-full\">\n                    <div class=\"flex m-2\">\n                        <div\n                            class=\"flex items-center bg-opacity-30 rounded-2xl p-1 text-sm space-x-2 pr-2 font-medium\"\n                            [class.bg-green-600]=\"\n                                event.state !== 'done' &&\n                                event?.status === 'approved'\n                            \"\n                            [class.bg-yellow-500]=\"\n                                event.state !== 'done' &&\n                                event?.status === 'tentative'\n                            \"\n                            [class.bg-red-600]=\"\n                                event.state !== 'done' &&\n                                event?.status === 'declined'\n                            \"\n                            [class.bg-gray-300]=\"event.state === 'done'\"\n                        >\n                            <div\n                                class=\"rounded-full h-5 w-5 flex items-center justify-center text-white\"\n                                [class.bg-success]=\"\n                                    event.state !== 'done' &&\n                                    event?.status === 'approved'\n                                \"\n                                [class.text-pending]=\"\n                                    event.state !== 'done' &&\n                                    event?.status === 'tentative'\n                                \"\n                                [class.bg-error]=\"\n                                    event.state !== 'done' &&\n                                    event?.status === 'declined'\n                                \"\n                                [class.text-neutral-600]=\"\n                                    event.state === 'done'\n                                \"\n                            >\n                                <app-icon>\n                                    {{\n                                        event.state === 'done'\n                                            ? 'not_interested'\n                                            : event?.status === 'approved'\n                                            ? 'done'\n                                            : event?.status === 'tentative'\n                                            ? 'warning'\n                                            : 'close'\n                                    }}\n                                </app-icon>\n                            </div>\n                            <div class=\"pr-1\">{{ period }}</div>\n                        </div>\n                    </div>\n                    <div\n                        actions\n                        class=\"flex items-center space-x-2 px-2\"\n                        *ngIf=\"event.state !== 'done'\"\n                    >\n                        <button\n                            btn\n                            matRipple\n                            class=\"flex-1 h-10\"\n                            *ngIf=\"\n                                room_status &&\n                                event?.can_check_in &&\n                                room_status !== 'free'\n                            \"\n                            [class.bg-green-600]=\"room_status !== 'pending'\"\n                            [class.border-none]=\"room_status !== 'pending'\"\n                            [class.pointer-events-none]=\"\n                                room_status !== 'pending'\n                            \"\n                            (click)=\"checkin()\"\n                        >\n                            <div\n                                class=\"flex items-center space-x-2 justify-center\"\n                            >\n                                <app-icon>{{\n                                    room_status === 'pending'\n                                        ? 'arrow_back'\n                                        : 'done'\n                                }}</app-icon>\n                                <div class=\"mr-4\" i18n>\n                                    {{\n                                        room_status === 'pending'\n                                            ? 'Check in'\n                                            : 'Checked in'\n                                    }}\n                                </div>\n                            </div>\n                        </button>\n                        <button\n                            icon\n                            matRipple\n                            [matMenuTriggerFor]=\"menu\"\n                            class=\"bg-primary rounded text-white h-10 w-10\"\n                            *ngIf=\"allow_edit\"\n                        >\n                            <app-icon>more_horiz</app-icon>\n                        </button>\n                    </div>\n                </div>\n            </div>\n            <div class=\"sm:flex flex-wrap sm:px-12\">\n                <div\n                    class=\"sm:p-4 sm:bg-white sm:dark:bg-neutral-700 rounded sm:m-2 sm:border border-gray-200 dark:border-neutral-500 flex-grow-[3] min-w-1/3 sm:w-[16rem] space-y-2\"\n                >\n                    <h3 class=\"px-3 mt-2 text-lg font-medium mb-2\" i18n>\n                        Details\n                    </h3>\n                    <div class=\"flex items-center px-2 space-x-2\">\n                        <app-icon>event</app-icon>\n                        <div>{{ event.date | date: 'EEEE, dd LLLL y' }}</div>\n                    </div>\n                    <div class=\"flex items-center px-2 space-x-2\">\n                        <app-icon>schedule</app-icon>\n                        <div>{{ period }}</div>\n                    </div>\n                    <div class=\"flex items-center px-2 space-x-2\">\n                        <app-icon>map</app-icon>\n                        <div>\n                            <ng-container *ngIf=\"level\">\n                                {{ level?.display_name || level?.name }},\n                            </ng-container>\n                            {{\n                                event?.system?.display_name ||\n                                    event?.system?.name ||\n                                    event?.location\n                            }}\n                        </div>\n                    </div>\n                    <div\n                        class=\"flex items-center px-2 space-x-2\"\n                        *ngIf=\"building\"\n                    >\n                        <app-icon>place</app-icon>\n                        <div>\n                            {{ building?.display_name || building?.name }},\n                            {{ building?.address }}\n                        </div>\n                    </div>\n                </div>\n                <div\n                    class=\"mt-4 sm:p-4 sm:bg-white sm:dark:bg-neutral-700 rounded sm:m-2 sm:border border-gray-200 dark:border-neutral-500 flex-grow-[3] min-w-1/3 sm:w-[16rem]\"\n                >\n                    <div\n                        class=\"mx-3 border-t border-gray-300 sm:border-none dark:border-neutral-500 flex items-center justify-between\"\n                    >\n                        <h3 class=\"text-lg font-medium\" i18n>Attendees</h3>\n                        <button\n                            matRipple\n                            show-attendees\n                            class=\"clear text-xs underline\"\n                            (click)=\"show_attendees = true\"\n                            i18n\n                        >\n                            See All\n                        </button>\n                    </div>\n                    <div class=\"flex items-center p-1\">\n                        <div\n                            class=\"flex flex-col flex-1 items-center justify-center space-y-1\"\n                        >\n                            <div class=\"text-lg\">{{ accept_count || 0 }}</div>\n                            <div class=\"text-sm uppercase\" i18n>Yes</div>\n                        </div>\n                        <div\n                            class=\"flex flex-col flex-1 items-center justify-center space-y-1\"\n                        >\n                            <div class=\"text-lg\">{{ declined_count || 0 }}</div>\n                            <div class=\"text-sm uppercase\" i18n>No</div>\n                        </div>\n                        <div\n                            class=\"flex flex-col flex-1 items-center justify-center space-y-1\"\n                        >\n                            <div class=\"text-lg\">{{ pending_count || 0 }}</div>\n                            <div class=\"text-sm uppercase\" i18n>Pending</div>\n                        </div>\n                    </div>\n                    <h3\n                        class=\"mx-3 mt-2 pt-2 text-lg font-medium border-t border-gray-300 dark:border-neutral-500\"\n                        i18n\n                    >\n                        Host\n                    </h3>\n                    <div class=\"px-2 flex items-center space-x-2\" host>\n                        <a-user-avatar [user]=\"event.organiser\"></a-user-avatar>\n                        <div class=\"text-sm flex-1 w-px\">\n                            <div>{{ event.organiser?.name }}</div>\n                            <div\n                                class=\"opacity-60 truncate w-full\"\n                                [title]=\"event.host\"\n                            >\n                                {{ event.host }}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <ng-container *ngIf=\"has_catering\">\n                    <div\n                        class=\"mt-4 sm:p-4 sm:bg-white sm:dark:bg-neutral-700 rounded sm:m-2 sm:border border-gray-200 dark:border-neutral-500 flex-grow-[3] min-w-1/3 sm:w-[16rem]\"\n                    >\n                        <h3\n                            class=\"mx-3 mt-2 pt-2 text-lg font-medium border-t border-gray-300 dark:border-neutral-500\"\n                            i18n\n                        >\n                            Catering\n                        </h3>\n                        <div class=\"flex flex-col px-4 space-y-2\">\n                            <div\n                                catering-item\n                                class=\"flex space-x-2\"\n                                *ngFor=\"\n                                    let item of event.ext('catering')[0].items\n                                \"\n                            >\n                                <div\n                                    count\n                                    class=\"flex items-center justify-center h-6 w-6 rounded-full bg-gray-200 text-sm font-medium\"\n                                >\n                                    {{ item.quantity }}\n                                </div>\n                                <div details class=\"pt-0.5\">\n                                    <div class=\"text-sm\">{{ item.name }}</div>\n                                    <div\n                                        class=\"text-xs opacity-40\"\n                                        *ngFor=\"let opt of item.options\"\n                                    >\n                                        {{ opt.name }}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </ng-container>\n                <button\n                    map\n                    class=\"mt-4 sm:mt-2 h-64 sm:h-48 relative border border-gray-200 dark:border-neutral-500 overflow-hidden rounded sm:bg-white sm:dark:bg-neutral-700 m-2 flex-grow-[3] min-w-1/3 p-2 w-[calc(100%-1rem)] sm:w-[16rem]\"\n                    (click)=\"viewLocation()\"\n                >\n                    <interactive-map\n                        *ngIf=\"!hide_map\"\n                        class=\"pointer-events-none\"\n                        [src]=\"level?.map_id\"\n                        [features]=\"features\"\n                        [options]=\"{ disable_pan: true, disable_zoom: true }\"\n                    ></interactive-map>\n                </button>\n                <div\n                    class=\"mt-4 sm:p-4 sm:bg-white sm:dark:bg-neutral-700 rounded sm:m-2 sm:border border-gray-200 dark:border-neutral-500 flex-grow-[3] min-w-1/3 sm:w-[16rem]\"\n                    *ngIf=\"event.body\"\n                >\n                    <h3\n                        class=\"mx-3 text-lg font-medium border-t sm:border-none border-gray-300 dark:border-neutral-500\"\n                        i18n\n                    >\n                        Notes\n                    </h3>\n                    <div\n                        notes\n                        class=\"mx-4 overflow-hidden max-w-full\"\n                        *ngIf=\"event.body\"\n                        [innerHTML]=\"\n                            (event.body | sanitize) ||\n                            'Unable to sanitize notes contents'\n                        \"\n                    ></div>\n                </div>\n                <ng-container *ngIf=\"has_assets\">\n                    <div\n                        class=\"mt-4 sm:p-4 sm:bg-white sm:dark:bg-neutral-700 rounded sm:m-2 sm:border border-gray-200 dark:border-neutral-500 flex-grow-[3] min-w-1/3 sm:w-[16rem]\"\n                    >\n                        <h3\n                            class=\"mx-3 pt-2 text-lg font-medium dark:border-neutral-500\"\n                            i18n\n                        >\n                            Assets ({{\n                                event.extension_data.assets?.length || 0\n                            }})\n                        </h3>\n                        <div class=\"flex flex-col px-4 space-y-2\">\n                            <div\n                                asset\n                                class=\"flex space-x-2\"\n                                *ngFor=\"\n                                    let item of event.extension_data.assets ||\n                                        []\n                                \"\n                            >\n                                <div details class=\"pt-0.5\">\n                                    <div class=\"text-sm\">\n                                        {{ item.name }}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </ng-container>\n                <button\n                    icon\n                    matRipple\n                    mat-dialog-close\n                    class=\"absolute top-2 left-2 bg-black/30 text-white\"\n                >\n                    <app-icon>close</app-icon>\n                </button>\n                <div class=\"absolute inset-0 z-50\" *ngIf=\"show_attendees\">\n                    <attendee-list\n                        [list]=\"event.attendees\"\n                        [host]=\"event.host\"\n                        (click)=\"show_attendees = false\"\n                    ></attendee-list>\n                </div>\n            </div>\n            <mat-menu #menu=\"matMenu\" xPosition=\"before\">\n                <button\n                    mat-menu-item\n                    mat-dialog-close\n                    class=\"flex items-center space-x-2 text-base\"\n                    (click)=\"edit.emit(space)\"\n                >\n                    <app-icon>edit</app-icon>\n                    <div i18n>Edit event</div>\n                </button>\n                <button\n                    mat-menu-item\n                    class=\"flex items-center space-x-2 text-base\"\n                    (click)=\"remove.emit()\"\n                >\n                    <app-icon>delete</app-icon>\n                    <div i18n>Delete event</div>\n                </button>\n            </mat-menu>\n        </div>\n    `,\n    styles: [``],\n    providers: [SpacePipe],\n})\nexport class EventDetailsModalComponent {\n    @Output() public edit = new EventEmitter();\n    @Output() public remove = new EventEmitter();\n\n    public room_status = '';\n    public hide_map = false;\n    public show_attendees: boolean = false;\n    public readonly event = this._event;\n    public features = [\n        {\n            location: this.event?.system?.map_id,\n            content: MapPinComponent,\n        },\n    ];\n\n    public readonly has_catering = this.event?.ext('catering')?.length > 0;\n    public readonly has_assets = !!this.event?.linked_bookings?.find(\n        (_) => _.booking_type === 'asset-request'\n    );\n\n    public level: BuildingLevel = new BuildingLevel();\n    public building: Building = new Building();\n    public space: Space = new Space();\n\n    public accept_count = this._event.attendees.reduce(\n        (count, user) => (count += user.response_status === 'accepted' ? 1 : 0),\n        0\n    );\n    public declined_count = this._event.attendees.reduce(\n        (count, user) => (count += user.response_status === 'declined' ? 1 : 0),\n        0\n    );\n    public pending_count = this._event.attendees.reduce(\n        (count, user) =>\n            (count +=\n                user.response_status === 'tentative' ||\n                user.response_status === 'needsAction'\n                    ? 1\n                    : 0),\n        0\n    );\n\n    public get allow_edit() {\n        return !this._settings.get('app.events.booking_unavailable');\n    }\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) private _event: CalendarEvent,\n        private _org: OrganisationService,\n        private _space_pipe: SpacePipe,\n        private _settings: SettingsService,\n        private _dialog: MatDialog\n    ) {\n        this._load().then();\n    }\n\n    public get period() {\n        if (this.event?.all_day) return 'All Day';\n        const start = this.event?.date || Date.now();\n        const duration = this.event?.duration || 60;\n        const end = addMinutes(start, duration);\n        const dur = formatDuration({\n            hours: Math.floor(duration / 60),\n            minutes: duration % 60,\n        })\n            .replace(' hour', 'hr')\n            .replace(' minute', 'min');\n        return `${format(start, 'h:mm a')} - ${format(end, 'h:mm a')} (${dur})`;\n    }\n\n    public async checkin() {\n        const mod = getModule(this.space?.id, 'Bookings');\n        if (!mod) return;\n        await mod\n            .execute('checkin', [getUnixTime(this.event.date)])\n            .catch((e) => notifyError(`Error checking in booking. ${e}`));\n    }\n\n    private async _load() {\n        this.space = await this._space_pipe.transform(\n            this._event.system?.id || this._event.system?.email\n        );\n        this.level = this._org.levelWithID(this.space.zones);\n        this.building = this._org.buildings.find((bld) =>\n            this.space.zones.includes(bld.id)\n        );\n        this.features = [\n            {\n                location: this.space.map_id,\n                content: MapPinComponent,\n            },\n        ];\n    }\n\n    public viewLocation() {\n        this.hide_map = true;\n        const ref = this._dialog.open(MapLocateModalComponent, {\n            maxWidth: '95vw',\n            maxHeight: '95vh',\n            data: { item: this.space },\n        });\n        ref.afterClosed().subscribe(() => (this.hide_map = false));\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { Event, NavigationEnd, Router } from '@angular/router';\nimport { getModule } from '@placeos/ts-client';\nimport {\n    BehaviorSubject,\n    combineLatest,\n    forkJoin,\n    merge,\n    Observable,\n    of,\n    timer,\n} from 'rxjs';\nimport {\n    catchError,\n    debounceTime,\n    distinctUntilChanged,\n    distinctUntilKeyChanged,\n    filter,\n    map,\n    shareReplay,\n    switchMap,\n    tap,\n} from 'rxjs/operators';\nimport { differenceInDays, getUnixTime, isBefore, startOfDay } from 'date-fns';\nimport {\n    AsyncHandler,\n    currentUser,\n    flatten,\n    getInvalidFields,\n    SettingsService,\n    unique,\n} from '@placeos/common';\n\nimport { OrganisationService } from 'libs/organisation/src/lib/organisation.service';\nimport { Space } from 'libs/spaces/src/lib/space.class';\nimport {\n    queryResourceAvailability,\n    saveBooking,\n} from 'libs/bookings/src/lib/bookings.fn';\nimport { CalendarEvent } from './event.class';\nimport { querySpaceAvailability, saveEvent } from './events.fn';\nimport { generateEventForm, newCalendarEventFromBooking } from './utilities';\nimport { newBookingFromCalendarEvent } from 'libs/bookings/src/lib/booking.utilities';\nimport { PaymentsService } from 'libs/payments/src/lib/payments.service';\nimport { CateringOrder } from 'libs/catering/src/lib/catering-order.class';\nimport { MatDialog } from '@angular/material/dialog';\nimport { EventLinkModalComponent } from './event-link-modal.component';\nimport { requestSpacesForZone } from 'libs/spaces/src/lib/space.utilities';\nimport { periodInFreeTimeSlot } from './helpers';\nimport { SpacePipe } from 'libs/spaces/src/lib/space.pipe';\nimport { Validators } from '@angular/forms';\nimport { updateAssetRequestsForResource } from 'libs/assets/src/lib/assets.fn';\nimport { filterSpacesFromRules } from './helpers';\nimport {\n    assetsToGroups,\n    groupsToAssets,\n} from 'libs/assets/src/lib/asset.utilities';\nimport { User } from 'libs/users/src/lib/user.class';\nimport { AssetStateService } from 'libs/assets/src/lib/asset-state.service';\nimport { removeEvent } from './events.fn';\n\nconst BOOKING_URLS = [\n    'book/spaces',\n    'book/meeting',\n    'schedule/view',\n    'confirm/success',\n    'upcoming',\n];\n\nconst MINUTES = 60 * 1000;\n\nexport type EventFlowView =\n    | 'form'\n    | 'find'\n    | 'catering'\n    | 'confirm'\n    | 'success';\n\nexport interface EventFlowOptions {\n    /** Calendar to associate event with */\n    calendar_id?: string;\n    /** List of features to filter spaces on */\n    features: string[];\n    /** List of zones to filter spaces on */\n    zone_ids?: string[];\n    /** Minimum number of attendees to filter space on */\n    capacity?: number;\n    /** Whether to only show favourite rooms */\n    show_fav?: boolean;\n}\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class EventFormService extends AsyncHandler {\n    private _view = new BehaviorSubject<EventFlowView>('form');\n    private _options = new BehaviorSubject<EventFlowOptions>({\n        zone_ids: [],\n        features: [],\n    });\n    private _form = generateEventForm();\n    private _date = new BehaviorSubject(Date.now());\n    private _event = new BehaviorSubject<CalendarEvent>(null);\n    private _loading = new BehaviorSubject<string>('');\n    private _space_pipe: SpacePipe;\n\n    public last_success: CalendarEvent = new CalendarEvent(\n        JSON.parse(sessionStorage.getItem('PLACEOS.last_booked_event') || '{}')\n    );\n    public readonly loading = this._loading.asObservable();\n    public readonly options = this._options.asObservable();\n\n    public readonly spaces: Observable<Space[]> = combineLatest([\n        this._options.pipe(distinctUntilKeyChanged('zone_ids')),\n        this._org.active_building.pipe(\n            filter((_) => !!_),\n            distinctUntilKeyChanged('id')\n        ),\n    ]).pipe(\n        debounceTime(300),\n        tap((_) => this.unsubWith('bind:')),\n        switchMap(([{ zone_ids }]) => {\n            this._loading.next('Loading space list for location...');\n            if (!zone_ids?.length) zone_ids = [this._org.building?.id];\n            return forkJoin(zone_ids.map((id) => requestSpacesForZone(id)));\n        }),\n        map((l) => flatten(l)),\n        tap((_) => this._loading.next('')),\n        shareReplay(1)\n    );\n\n    public readonly features = this.spaces.pipe(\n        map((l) => unique(flatten(l.map((_) => _.features))))\n    );\n\n    public readonly filtered_spaces = combineLatest([\n        this.spaces,\n        this.options,\n    ]).pipe(\n        map(([spaces, { show_fav, features, capacity }]) =>\n            spaces\n                .filter((s: Space) => {\n                    const domain = (currentUser()?.email || '@').split('@')[1];\n                    const zone = (this._settings.get(\n                        'app.events.restrict_spaces'\n                    ) || {})[domain];\n                    const limit_map =\n                        this._settings.get('app.events.limit_spaces') || {};\n                    const limited_zones = Object.keys(limit_map);\n                    const zone_limit = s.zones.find((_) =>\n                        limited_zones.includes(_)\n                    );\n                    return (\n                        s.bookable &&\n                        (!zone || s.zones.includes(zone)) &&\n                        (!zone_limit || limit_map[zone_limit] === domain) &&\n                        (!show_fav || this.favorite_spaces.includes(s.id)) &&\n                        features.every((f) => s.features.includes(f)) &&\n                        s.capacity >= Math.max(0, capacity || 0)\n                    );\n                })\n                .slice(0, Math.min(100, spaces.length))\n        ),\n        shareReplay(1)\n    );\n\n    private _space_bookings = combineLatest([\n        this.spaces,\n        this.filtered_spaces,\n    ]).pipe(\n        distinctUntilChanged(([s1], [s2]) => s1 !== s2),\n        switchMap(([_, list]) => {\n            return combineLatest(\n                (list || []).map((_) => {\n                    const binding = getModule(_.id, 'Bookings').binding(\n                        'bookings'\n                    );\n                    const obs = binding\n                        .listen()\n                        .pipe(\n                            map((_) =>\n                                (_ || []).map((i) => new CalendarEvent(i))\n                            )\n                        );\n                    if (!this.hasSubscription(`bind:${_.id}`)) {\n                        this.subscription(`bind:${_.id}`, binding.bind());\n                    }\n                    return obs;\n                })\n            );\n        }),\n        shareReplay(1)\n    );\n\n    public readonly current_available_spaces = combineLatest([\n        this.filtered_spaces,\n        this._space_bookings,\n        merge(this.form.valueChanges, timer(1000)),\n    ]).pipe(\n        map(([list, bookings]) => {\n            this._loading.next('Updating available spaces...');\n            let { date, duration, all_day } = this._form.getRawValue();\n            if (all_day) {\n                date = startOfDay(date).valueOf();\n                duration = 24 * 60 - 1;\n            }\n            list = filterSpacesFromRules(\n                list,\n                { date, duration, space: null, host: currentUser() },\n                this._org.building.booking_rules\n            );\n            return (list || [])\n                .filter((_, idx) =>\n                    periodInFreeTimeSlot(\n                        date,\n                        date + duration * MINUTES,\n                        bookings[idx] || []\n                    )\n                )\n                .sort((a, b) => a.capacity - b.capacity);\n        }),\n        tap((_) => this._loading.next('')),\n        shareReplay(1)\n    );\n\n    public readonly future_available_spaces: Observable<Space[]> =\n        combineLatest([this.filtered_spaces]).pipe(\n            filter(() => !this._loading.getValue()),\n            debounceTime(300),\n            switchMap(([spaces]) => {\n                if (!spaces.length) return of([]);\n                this._loading.next('Retrieving available spaces...');\n                let { date, duration, all_day } = this._form.getRawValue();\n                const availability_method = this.has_calendar\n                    ? querySpaceAvailability\n                    : queryResourceAvailability;\n                if (all_day) {\n                    date = startOfDay(date).valueOf();\n                    duration = 24 * 60 - 1;\n                }\n                return availability_method(\n                    spaces.map(({ id }) => id),\n                    date,\n                    duration,\n                    this.event?.id || undefined\n                ).pipe(\n                    map((availability) => {\n                        var list = spaces.filter((_, i) => availability[i]);\n                        list = filterSpacesFromRules(\n                            list,\n                            {\n                                date,\n                                duration,\n                                space: null,\n                                host: currentUser(),\n                            },\n                            this._org.building.booking_rules\n                        );\n                        return list;\n                    }),\n                    catchError((_) => [])\n                );\n            }),\n            tap((_) => this._loading.next('')),\n            shareReplay(1)\n        );\n\n    public readonly available_spaces = this._date.pipe(\n        switchMap((d) => {\n            const diff = Math.abs(differenceInDays(d, Date.now()));\n            return diff < 14\n                ? this.current_available_spaces\n                : this.future_available_spaces;\n        })\n    );\n\n    public get view() {\n        return this._view.getValue();\n    }\n    public get form() {\n        return this._form;\n    }\n    public get event() {\n        return this._event.getValue();\n    }\n\n    public get favorite_spaces() {\n        return this._settings.get<string[]>('favourite_spaces') || [];\n    }\n\n    public get has_calendar() {\n        return this._settings.get('app.events.use_bookings') !== true;\n    }\n\n    constructor(\n        private _org: OrganisationService,\n        private _router: Router,\n        private _payments: PaymentsService,\n        private _settings: SettingsService,\n        private _assets: AssetStateService,\n        private _dialog: MatDialog\n    ) {\n        super();\n        this._space_pipe = new SpacePipe(this._org);\n        this.subscription(\n            'router.events',\n            this._router.events.subscribe((event: Event) => {\n                if (\n                    event instanceof NavigationEnd &&\n                    !BOOKING_URLS.some((_) => event.url.includes(_))\n                ) {\n                    this.clearForm();\n                }\n            })\n        );\n        this.subscription(\n            'form_change',\n            this._form.valueChanges.subscribe(({ date, catering, assets }) => {\n                if (date && date !== this._date.getValue())\n                    this._date.next(date);\n                this.storeForm();\n            })\n        );\n        let count = 0;\n        this.interval(\n            'catering',\n            () => {\n                const catering = this._form.value.catering;\n                if (count === catering?.length) return;\n                count = catering?.length;\n                if (\n                    catering?.length &&\n                    (this._settings.get('app.events.catering_notes_required') ||\n                        this._settings.value('require_catering_notes'))\n                ) {\n                    this._form\n                        .get('catering_notes')\n                        ?.setValidators([Validators.required]);\n                    this._form\n                        .get('catering_notes')\n                        .patchValue(this._form.value.catering_notes);\n                } else {\n                    this._form.get('catering_notes')?.clearValidators();\n                    this._form.get('catering_notes').setErrors(null);\n                }\n                this._form.updateValueAndValidity();\n            },\n            500\n        );\n    }\n\n    public listenForStatusChanges() {\n        this.subscription('status:rooms', this.available_spaces.subscribe());\n    }\n\n    public setView(value: EventFlowView) {\n        this._view.next(value);\n    }\n\n    public setOptions(value: Partial<EventFlowOptions>) {\n        this._options.next({ ...this._options.getValue(), ...value });\n    }\n\n    public async newForm(event: CalendarEvent = new CalendarEvent()) {\n        this._event.next(event);\n        this._assets.setOptions({\n            ignore: event.extension_data.assets?.map((_) => _.id),\n        });\n        for (const idx in event.resources) {\n            const space = event.resources[idx];\n            event.resources[idx] = await this._space_pipe.transform(\n                space.id || space.email\n            );\n        }\n        this._date.next(event.date);\n        this.resetForm();\n    }\n\n    public resetForm() {\n        this._form.reset();\n        const event =\n            this._event.getValue() ||\n            ({ extension_data: {} } as Partial<CalendarEvent>);\n\n        this._assets.setOptions({\n            ignore: event.extension_data.assets?.map((_) => _.id),\n        });\n        const has_catering = !!event.extension_data.catering[0];\n        this._form.patchValue({\n            ...event,\n            ...event.extension_data,\n            date:\n                !event.id && isBefore(event.date || 0, Date.now())\n                    ? Date.now()\n                    : event.date,\n            host: event?.host || currentUser().email,\n            organiser:\n                event?.organiser ||\n                currentUser() ||\n                new User({ email: event?.host }),\n            catering: event.extension_data.catering[0]?.items || [],\n            catering_charge_code:\n                event.extension_data.catering[0]?.charge_code ||\n                (event.id && has_catering ? ' ' : ''),\n            assets: assetsToGroups(event.extension_data.assets || []),\n        });\n        this._options.next({ features: [] });\n        this.storeForm();\n    }\n\n    public clearForm() {\n        sessionStorage.removeItem('PLACEOS.event_form');\n        this.unsubWith('status:');\n        this.unsubWith('bind:');\n        this.newForm();\n    }\n\n    public storeForm() {\n        sessionStorage.setItem(\n            'PLACEOS.event_form',\n            JSON.stringify(this._form.getRawValue() || {})\n        );\n    }\n\n    public loadForm() {\n        if (!this._form) this.newForm();\n        const form_data = JSON.parse(\n            sessionStorage.getItem('PLACEOS.event_form') || '{}'\n        );\n        this._form.patchValue({\n            ...form_data,\n            assets:\n                (form_data.assets?.length && form_data.assets[0].type_id\n                    ? assetsToGroups(form_data.assets)\n                    : form_data.assets) || [],\n        });\n    }\n\n    public readonly cancelPostForm = () => this.unsub('post-event-form');\n\n    public openEventLinkModal(force: boolean = false) {\n        const form = this._form;\n        form.markAllAsTouched();\n        if (!form.valid && !force) return;\n        const event = new CalendarEvent({ ...form.getRawValue(), assets: [] });\n        const ref = this._dialog.open(EventLinkModalComponent, { data: event });\n        ref.afterClosed().subscribe((d) =>\n            d ? this._router.navigate(['/']) : ''\n        );\n    }\n\n    public postForm(force: boolean = false) {\n        return new Promise<CalendarEvent>(async (resolve, reject) => {\n            this._loading.next('Creating event...');\n            const form = this._form;\n            form.markAllAsTouched();\n            const event = this.event || new CalendarEvent();\n            if (!form.valid && !force) {\n                this._loading.next('');\n                return reject(\n                    `Some form fields are invalid. [${getInvalidFields(\n                        form\n                    ).join(', ')}]`\n                );\n            }\n            const ical_uid = this.event?.ical_uid;\n            let {\n                id,\n                host,\n                date,\n                duration,\n                creator,\n                all_day,\n                assets,\n                recurrence,\n            } = form.getRawValue();\n            const spaces = form.get('resources')?.value || [];\n            let catering = form.get('catering')?.value || [];\n            if (all_day) {\n                date = startOfDay(date).valueOf();\n                duration = 24 * 60 - 1;\n            }\n            if (recurrence?._pattern && recurrence?._pattern !== 'none') {\n                this.form.patchValue({ recurring: true });\n            }\n            if (\n                (!id || date !== event.date || duration !== event.duration) &&\n                spaces.length\n            ) {\n                const start = getUnixTime(event.date);\n                await this.checkSelectedSpacesAreAvailable(\n                    spaces,\n                    date,\n                    duration,\n                    id\n                        ? { start, end: start + event.duration * 60 }\n                        : undefined,\n                    ical_uid || id || ''\n                ).catch((_) => {\n                    this._loading.next('');\n                    reject(_);\n                    throw _;\n                });\n            }\n            const is_owner =\n                host === currentUser()?.email ||\n                creator === currentUser()?.email;\n            const space_id = spaces[0]?.id;\n            const query: any = id\n                ? {\n                      system_id:\n                          this.event?.resources[0]?.id ||\n                          this.event?.system?.id ||\n                          space_id,\n                  }\n                : {};\n            if (is_owner) query.calendar = host || creator;\n            const value = this._form.getRawValue();\n            console.log(\n                'Payments:',\n                this._payments.payment_module,\n                spaces.length\n            );\n            if (this._payments.payment_module && spaces.length) {\n                console.log('Make Payment...');\n                const receipt = await this._payments.makePayment({\n                    type: 'space',\n                    resource_name: spaces[0].display_name || spaces[0].name,\n                    date,\n                    duration,\n                    all_day,\n                });\n                if (!receipt?.success) return this._loading.next('');\n                (value as any).extension_data = {\n                    invoice: receipt,\n                    invoice_id: receipt.invoice_id,\n                };\n                console.log('Payment success.', receipt);\n            }\n            const d = value.all_day\n                ? startOfDay(value.date).valueOf()\n                : value.date;\n            if (catering.length && !('items' in catering[0])) {\n                const items = catering.map((_) => ({\n                    ..._,\n                    options: _.options.map((o) => ({ ...o, active: false })),\n                }));\n                catering = [\n                    new CateringOrder({\n                        deliver_at: d,\n                        items,\n                        notes: value.catering_notes,\n                        charge_code: value.catering_charge_code,\n                    }),\n                ];\n            } else {\n                catering.notes = value.catering_notes;\n                catering.charge_code = value.catering_charge_code;\n            }\n            const attendees = unique(\n                [...value.attendees, value.organiser || currentUser()],\n                'email'\n            );\n            const result = await this._makeBooking(\n                new CalendarEvent({\n                    ...value,\n                    old_system: this.event?.system,\n                    host:\n                        this._settings.get('app.events.force_host') ||\n                        (this._settings.get('app.events.room_as_host')\n                            ? value.resources[0].email\n                            : '') ||\n                        value.host,\n                    title: value.title || 'Space Booking',\n                    attendees,\n                    date: d,\n                    catering,\n                    assets: groupsToAssets(assets),\n                    extension_data:\n                        this._settings.get('app.events.force_host') ||\n                        this._settings.get('app.events.room_as_host')\n                            ? {\n                                  host_override: value.host,\n                                  department:\n                                      value.organiser?.department ||\n                                      currentUser()?.department,\n                              }\n                            : {\n                                  department:\n                                      value.organiser?.department ||\n                                      currentUser()?.department,\n                              },\n                }),\n                query\n            ).catch((e) => {\n                reject(e);\n                this._loading.next('');\n                throw e;\n            });\n            if (assets?.length || event.extension_data.assets?.length) {\n                await updateAssetRequestsForResource(\n                    result,\n                    {\n                        date,\n                        duration,\n                        host,\n                        location_name:\n                            spaces[0]?.display_name || spaces[0]?.name || '',\n                        location_id: spaces[0]?.id || '',\n                        zones: spaces[0]?.zones || [\n                            this._org.building?.id,\n                            this._org.building?.parent_id,\n                        ],\n                    },\n                    assets,\n                    event.extension_data.assets\n                ).catch(async (e) => {\n                    if (!this.form.value.id) {\n                        await removeEvent(result.id).toPromise();\n                    }\n                    throw e;\n                });\n            }\n            this.clearForm();\n            this.last_success = result;\n            sessionStorage.setItem(\n                'PLACEOS.last_booked_event',\n                JSON.stringify(result)\n            );\n            this.setView('success');\n            resolve(result);\n            this._loading.next('');\n        });\n    }\n\n    private async _makeBooking(\n        event: CalendarEvent,\n        query: Record<string, any>\n    ) {\n        return (\n            !this.has_calendar\n                ? saveBooking(\n                      newBookingFromCalendarEvent({\n                          ...event.toJSON(),\n                          status: this._settings.get('app.bookings.no_approval')\n                              ? 'approved'\n                              : 'tentative',\n                      } as any)\n                  ).pipe(map((_) => newCalendarEventFromBooking(_)))\n                : saveEvent(event.toJSON(), query)\n        ).toPromise();\n    }\n\n    private async checkSelectedSpacesAreAvailable(\n        spaces: Space[],\n        date: number,\n        duration: number,\n        exclude?: { start: number; end: number },\n        ignore?: string\n    ) {\n        const space_ids = (\n            await Promise.all(\n                spaces.map((_) => this._space_pipe.transform(_.id || _.email))\n            )\n        ).map((_) => _.id);\n        const query: any = {\n            period_start: getUnixTime(date),\n            period_end: getUnixTime(date + (duration * 60 * 1000 || 30 * 1000)),\n        };\n        if (exclude) query.exclude_range = `${exclude.start}...${exclude.end}`;\n        const availability_method = this.has_calendar\n            ? querySpaceAvailability\n            : queryResourceAvailability;\n        let availability: boolean[] = await availability_method(\n            spaces.map((_) => _.id),\n            date,\n            duration,\n            ignore\n        ).toPromise();\n        if (!availability.every((_) => _))\n            throw `${\n                availability.filter((_) => _).length\n            } space(s) are not available at the selected time`;\n        return true;\n    }\n}\n","import { Component, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { SettingsService } from 'libs/common/src/lib/settings.service';\nimport {\n    generateCalendarFileLink,\n    generateGoogleCalendarLink,\n    generateMicrosoftCalendarLink,\n} from 'libs/common/src/lib/calendar-links';\nimport { CalendarEvent } from './event.class';\nimport { notifyError } from '@placeos/common';\n\n@Component({\n    selector: 'event-link-modal',\n    template: `\n        <div class=\"p-4 w-full pb-2\" i18n>Add event to your calendar</div>\n        <div class=\"flex flex-col items-center space-y-4 p-4 relative\">\n            <a\n                button\n                matRipple\n                class=\"flex items-center p-2 space-x-2 pr-4 w-64 rounded inverse\"\n                [href]=\"outlook_link | sanitize: 'url'\"\n                target=\"_blank\"\n                rel=\"noopener noreferer\"\n                (click)=\"has_actioned = true\"\n            >\n                <img src=\"assets/icons/outlook.svg\" class=\"w-6\" />\n                <span i18n>Create in Outlook</span>\n            </a>\n            <a\n                button\n                matRipple\n                class=\"flex items-center p-2 space-x-2 pr-4 w-64 rounded inverse\"\n                [href]=\"google_link | sanitize: 'url'\"\n                target=\"_blank\"\n                rel=\"noopener noreferer\"\n                (click)=\"has_actioned = true\"\n            >\n                <img src=\"assets/icons/gcal.svg\" class=\"w-6\" />\n                <span i18n>Create in Google Calendar</span>\n            </a>\n            <a\n                button\n                matRipple\n                class=\"flex items-center p-2 space-x-2 pr-4 w-64 rounded inverse\"\n                [href]=\"ical_link | safe: 'url'\"\n                target=\"_blank\"\n                rel=\"noopener noreferer\"\n                (click)=\"has_actioned = true\"\n            >\n                <app-icon class=\"text-xl\">download</app-icon>\n                <span i18n>Download iCal File</span>\n            </a>\n            <button class=\"w-64\" btn matRipple (click)=\"close()\" i18n>\n                Close\n            </button>\n        </div>\n        <button\n            icon\n            matRipple\n            [mat-dialog-close]=\"has_actioned\"\n            class=\"absolute top-2 right-0\"\n        >\n            <app-icon>close</app-icon>\n        </button>\n    `,\n    styles: [\n        `\n            :host {\n                position: relative;\n            }\n        `,\n    ],\n})\nexport class EventLinkModalComponent {\n    public readonly outlook_link = generateMicrosoftCalendarLink(\n        this._event as any\n    );\n    public readonly google_link = generateGoogleCalendarLink(\n        this._event as any\n    );\n    public readonly ical_link = generateCalendarFileLink(this._event as any);\n\n    public has_actioned = false;\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) private _event: CalendarEvent,\n        private _dialog: MatDialogRef<EventLinkModalComponent>\n    ) {}\n\n    public close() {\n        if (!this.has_actioned) {\n            return notifyError(\n                'You need to select a calendar option to finish creating this booking'\n            );\n        }\n        this._dialog.close(true);\n    }\n}\n","import { Identity, removeEmptyFields, unique } from '@placeos/common';\nimport { PlaceSystem } from '@placeos/ts-client';\nimport {\n    add,\n    addMinutes,\n    differenceInMinutes,\n    endOfDay,\n    getUnixTime,\n    isAfter,\n    isBefore,\n    isSameDay,\n    roundToNearestMinutes,\n    set,\n} from 'date-fns';\nimport { CateringOrder } from 'libs/catering/src/lib/catering-order.class';\nimport { Space } from 'libs/spaces/src/lib/space.class';\nimport { GuestUser, User } from 'libs/users/src/lib/user.class';\nimport {\n    EventExtensionData,\n    FileDetails,\n    RecurrenceDetails,\n} from './event.interfaces';\nimport { eventStatus } from './helpers';\n\nlet _default_user: Identity = { id: 'default', name: 'Default User' };\n\nexport function setDefaultCreator(user: Identity) {\n    if (user) _default_user = user;\n}\n\nconst DAYS_OF_WEEK = [\n    'sunday',\n    'monday',\n    'tuesday',\n    'wednesday',\n    'thursday',\n    'friday',\n    'saturday',\n];\n\nexport interface LinkedBooking {\n    id: string;\n    asset_id: string;\n    asset_name: string;\n    user_id: string;\n    user_name: string;\n    description: string;\n    booking_type: string;\n}\n\ntype CalendarEventExtended = CalendarEvent & EventExtensionData;\n\n/** User's calendar event/booking */\nexport class CalendarEvent {\n    /** ID of the calendar event */\n    public readonly id: string;\n    /** Status of the event */\n    public readonly status: 'approved' | 'tentative' | 'declined' | 'none';\n    /** Email address of the host */\n    public readonly host: string;\n    /** ID of the calendar associated with the event */\n    public readonly calendar: string;\n    /** Email address of the event creator */\n    public readonly creator: string;\n    /** List of attendees of the event */\n    public readonly attendees: User[];\n    /** List of attendees of the event */\n    public readonly resources: Space[];\n    /** Summary of the event details */\n    public readonly title: string;\n    /** Extended details of the event */\n    public readonly body: string;\n    /** Unix epoch in seconds of the start time of the event */\n    public readonly event_start: number;\n    /** Unix epoch in seconds of the end time of the event */\n    public readonly event_end: number;\n    /** Whether event occurs over the full day */\n    public readonly all_day: boolean;\n    /** Unix epoch of the start time of the event */\n    public readonly date: number;\n    /** Duration of the event in minutes */\n    public readonly duration: number;\n    /** IANA timezone string for the event location */\n    public readonly timezone: string;\n    /** Location details for the event */\n    public readonly location: string;\n    /** URL of the associated meeting */\n    public readonly meeting_url: string;\n    /** URL of the associated meeting */\n    public readonly meeting_id: string;\n    /** URL of the associated meeting */\n    public readonly meeting_provider: string;\n    /** Whether this event is recurring */\n    public readonly recurring: boolean;\n    /** Details about the event's recurrence */\n    public readonly recurrence: RecurrenceDetails;\n    /** ID of the parent recurring event */\n    public readonly recurring_master_id: string;\n    /** Whether event details should be private */\n    public readonly private: boolean;\n    /** File attachements for the event */\n    public readonly attachments: FileDetails[];\n    /** Extra data associated with the event */\n    public readonly extension_data: Partial<EventExtensionData>;\n    /** System associated with the event */\n    public readonly system: PlaceSystem;\n    /** Previous system associated with the event */\n    public readonly old_system: PlaceSystem;\n    /** Host user details of the event */\n    public readonly organiser: User;\n    /** Type of event */\n    public readonly type: 'cancelled' | 'external' | 'internal';\n    /** Whether this event was from a PlaceOS booking instead of a user calendar */\n    public readonly from_bookings: boolean;\n    /** Master event */\n    public master?: CalendarEvent;\n    /** Unique identifier of the event */\n    public readonly ical_uid: string;\n    /** Mailbox email address of the event */\n    public readonly mailbox: string;\n\n    public readonly linked_bookings: LinkedBooking[];\n\n    /** Get field from extension data */\n    public ext<K extends keyof EventExtensionData>(key: K) {\n        return this.extension_data[key];\n    }\n\n    constructor(data: Partial<CalendarEventExtended> = {}) {\n        this.id = data.id || '';\n        this.event_start =\n            data.event_start ||\n            getUnixTime(\n                data.date ||\n                    roundToNearestMinutes(addMinutes(new Date(), 3), {\n                        nearestTo: 5,\n                    })\n            );\n        this.event_end =\n            data.event_end ||\n            getUnixTime(\n                addMinutes(this.event_start * 1000, data.duration || 30)\n            );\n        this.calendar = data.calendar || '';\n        this.creator =\n            (data.creator || _default_user.email)?.toLowerCase() || '';\n        this.host = (\n            data.host ||\n            this.creator ||\n            _default_user.email ||\n            ''\n        ).toLowerCase();\n        const attendees = data.attendees || [];\n        this.attendees = attendees\n            .filter((user: any) => !user.resource)\n            .map((u) => new User(u));\n        this.resources =\n            unique(\n                data.resources ||\n                    attendees\n                        .filter((user) => (user as any).resource)\n                        .map((s) => new Space(s as any)),\n                'email'\n            ) || [];\n        this.title = data.title;\n        this.body = data.body || '';\n        this.private = !!data.private;\n        this.all_day = !!data.all_day;\n        this.date = this.event_start * 1000 || this.date;\n        this.duration = this.all_day\n            ? 24 * 60\n            : data.duration ||\n              differenceInMinutes(data.event_end * 1000, this.date) ||\n              30;\n        this.timezone =\n            data.timezone || Intl.DateTimeFormat().resolvedOptions().timeZone;\n        this.meeting_url = data.meeting_url || data.online_meeting_url || '';\n        this.meeting_id = data.meeting_id || data.online_meeting_id || '';\n        this.meeting_provider =\n            data.meeting_provider || data.online_meeting_provider || '';\n        this.recurring = !!data.recurring;\n        this.recurring_master_id = data.recurring_master_id || '';\n        this.organiser = this.attendees.find(\n            (user) => user.email === this.host\n        );\n        this.from_bookings = data.from_bookings ?? false;\n        this.master = data.master ? new CalendarEvent(data.master) : null;\n        this.mailbox = data.mailbox || '';\n        this.ical_uid = data.ical_uid;\n        this.linked_bookings = data.linked_bookings || [];\n        if (data.recurring) {\n            this.recurrence = {\n                start:\n                    this.event_start * 1000 ||\n                    new Date(\n                        (data.recurrence as any).range_start * 1000\n                    ).valueOf(),\n                end:\n                    data.recurrence.end ||\n                    new Date(\n                        (data.recurrence as any).range_end * 1000\n                    ).valueOf(),\n                interval: data.recurrence.interval,\n                pattern: data.recurrence.pattern,\n                days_of_week:\n                    data.recurrence.days_of_week?.map((_) =>\n                        typeof _ === 'number' ? _ : DAYS_OF_WEEK.indexOf(_)\n                    ) || [],\n            };\n        } else {\n            this.recurrence = {} as any;\n        }\n        const system = data.system;\n        if (\n            system?.email &&\n            !this.resources.find((_) => _.email === system.email)\n        ) {\n            this.resources.push(new Space(system as any));\n        }\n        this.system = system || (this.resources[0] as any) || null;\n        this.old_system = data.old_system || data.system;\n        this.attachments = data.attachments || [];\n        this.extension_data = data.extension_data || {};\n        this.status = eventStatus({ ...data, ...this }) || 'none';\n        this.location =\n            data.location || this.space?.display_name || this.space?.name || '';\n        this.type =\n            this.status === 'declined'\n                ? 'cancelled'\n                : this.attendees.find((_) => _.is_external)\n                ? 'external'\n                : 'internal';\n        for (const key in data) {\n            if (!(key in this)) {\n                this.extension_data[key] =\n                    data[key] || this.extension_data[key];\n            }\n        }\n        this.extension_data.catering = (this.extension_data.catering || []).map(\n            (i) =>\n                new CateringOrder({ ...i, event: this, date: this.date } as any)\n        );\n    }\n\n    /** List of external attendees associated with the event */\n    public get guests() {\n        return this.attendees.filter((f) => !!f.is_external) as GuestUser[];\n    }\n    /** Primary space associated with the booking */\n    public get space() {\n        return this.resources[0] || null;\n    }\n    public get is_today(): boolean {\n        return isSameDay(new Date(this.date), new Date());\n    }\n\n    /**\n     * Convert class data to simple JSON object\n     */\n    public toJSON(): Record<string, any> {\n        const obj: Record<string, any> = { ...this };\n        const end = getUnixTime(addMinutes(this.date, this.duration));\n        const date = this.all_day ? set(this.date, { hours: 12 }) : this.date;\n        obj.event_start = getUnixTime(date);\n        obj.event_end = end;\n        const attendees = this.attendees;\n        (this as any).recurring =\n            this.recurrence?.pattern && this.recurrence._pattern !== 'none';\n        if (this.recurring) {\n            obj.recurrence = {\n                ...this.recurrence,\n                range_start: obj.event_start,\n                range_end: getUnixTime(endOfDay(this.recurrence.end)),\n                days_of_week: this.recurrence.days_of_week.map(\n                    (_) => DAYS_OF_WEEK[_]\n                ),\n            };\n            delete obj.recurrence.start;\n            delete obj.recurrence.end;\n        }\n        obj.recurrence = obj.recurrence\n            ? Object.keys(obj.recurrence).length\n                ? obj.recurrence\n                : null\n            : null;\n        obj.attendees = unique(\n            [\n                ...attendees,\n                ...this.resources.map((_) => ({ ..._, resource: true })),\n            ],\n            'email'\n        );\n        if (!this.all_day) {\n            obj.extension_data.breakdown = 15;\n        }\n        obj.extension_data.catering = obj.extension_data.catering.map(\n            (i) => new CateringOrder({ ...i, event: null })\n        );\n        obj.system_id = this.system?.id;\n        delete obj.catering;\n        delete obj.date;\n        delete obj.duration;\n        delete obj.status;\n        removeEmptyFields(obj);\n        return obj;\n    }\n\n    /** Status of the booking */\n    public get state():\n        | 'future'\n        | 'upcoming'\n        | 'done'\n        | 'started'\n        | 'in_progress' {\n        const now = new Date();\n        const date = this.date;\n        if (isBefore(now, add(date, { minutes: -15 }))) return 'future';\n        if (isBefore(now, date)) return 'upcoming';\n        if (isBefore(now, add(date, { minutes: 15 }))) return 'started';\n        if (isBefore(now, add(date, { minutes: this.duration })))\n            return 'in_progress';\n        return 'done';\n    }\n\n    public get can_check_in(): boolean {\n        const now = new Date();\n        return (\n            this.is_today ||\n            (isAfter(now, this.date) &&\n                isBefore(now, addMinutes(this.date, this.duration)))\n        );\n    }\n}\n","import { del, get, patch, post, put } from '@placeos/ts-client';\nimport { Observable, of } from 'rxjs';\nimport { catchError, map } from 'rxjs/operators';\n\nimport { toQueryString } from 'libs/common/src/lib/api';\nimport { GuestUser } from 'libs/users/src/lib/user.class';\n\nimport { CalendarEvent } from './event.class';\nimport { addMinutes, getUnixTime } from 'date-fns';\n\nexport interface CalendarEventQueryParams {\n    /** Comma seperated list of zone ids to check availability */\n    zone_ids?: string;\n    /** Comma seperated list of system(space) ids to check availability */\n    system_ids?: string;\n    /** Comma seperated list of calendar ids to check availability */\n    calendars?: string;\n    /** Epoch in seconds for the start of the availability period */\n    period_start: number;\n    /** Epoch in seconds for the end of the availability period */\n    period_end: number;\n    /** Whether to include cancelled events in the returned list */\n    include_cancelled?: boolean;\n    /** ical UID associated with the booking */\n    ical_uid?: string;\n}\n\nexport interface CalendarEventShowParams {\n    /** ID of the personal calendar to grab the events details from */\n    calendar?: string;\n    /** ID of the system/space to get the associated calendar ID */\n    system_id?: string;\n}\n\nconst EVENTS_ENDPOINT = `/api/staff/v1/events`;\n\n/**\n * List events\n * @param q Parameters to pass to the API request\n */\nexport function queryEvents(\n    q: CalendarEventQueryParams\n): Observable<CalendarEvent[]> {\n    const query = toQueryString(q);\n    return get(`${EVENTS_ENDPOINT}${query ? '?' + query : ''}`).pipe(\n        map((list) => list.map((e) => new CalendarEvent(e))),\n        catchError((_) => of([]))\n    );\n}\n\n/**\n * Get event details\n * @param id ID of the event to grab\n * @param q Parameters to pass to the API request\n */\nexport function showEvent(id: string, q: CalendarEventShowParams = {}) {\n    const query = toQueryString(q);\n    return get(\n        `${EVENTS_ENDPOINT}/${encodeURIComponent(id)}${\n            query ? '?' + query : ''\n        }`\n    ).pipe(map((item) => new CalendarEvent(item)));\n}\n\n/**\n * Create new calendar event and add it to the database\n * @param data New calendar event fields\n */\nexport function createEvent(data: Partial<CalendarEvent>) {\n    return post(`${EVENTS_ENDPOINT}`, new CalendarEvent(data).toJSON()).pipe(\n        map((item) => new CalendarEvent(item))\n    );\n}\n\n/**\n * Update an existing calendar event\n * @param id ID of the event to update\n * @param data New values for event fields\n * @param q Parameters to pass to the API request\n * @param method HTTP verb to use with API request\n */\nexport function updateEvent(\n    id: string,\n    data: Partial<CalendarEvent>,\n    q: CalendarEventShowParams = {},\n    method: 'put' | 'patch' = 'patch'\n) {\n    const query = toQueryString(q);\n    return (method === 'patch' ? patch : put)(\n        `${EVENTS_ENDPOINT}/${encodeURIComponent(id)}${\n            query ? '?' + query : ''\n        }`,\n        method === 'patch' ? data : new CalendarEvent(data).toJSON()\n    ).pipe(map((item) => new CalendarEvent(item)));\n}\n\n/**\n * Save changes to or create a calendar event\n * @param data State of the calendar event\n * @param q Parameters to pass to the API request\n */\nexport const saveEvent = (\n    data: Partial<CalendarEvent>,\n    q?: CalendarEventShowParams\n) => {\n    delete (data as any)?.status;\n    return data.id ? updateEvent(data.id, data, q) : createEvent(data);\n};\n\n/**\n * Remove calendar event from the database\n * @param id ID of the event to remove\n * @param q Parameters to pass to the API request\n */\nexport function removeEvent(id: string, q: CalendarEventShowParams = {}) {\n    const query = toQueryString(q);\n    return del(\n        `${EVENTS_ENDPOINT}/${encodeURIComponent(id)}${\n            query ? '?' + query : ''\n        }`,\n        {\n            response_type: 'void',\n        }\n    );\n}\n\n/**\n * Set the approval state of the event to approved\n * @param id ID of the event to approve\n * @param system_id Associated system to approve\n */\nexport function approveEvent(id: string, system_id: string) {\n    return post(\n        `${EVENTS_ENDPOINT}/${encodeURIComponent(\n            id\n        )}/approve?system_id=${encodeURIComponent(system_id)}`,\n        ''\n    ).pipe(map((item) => new CalendarEvent(item)));\n}\n\n/**\n * Set the approval state of the event to rejected\n * @param id ID of the event to reject\n * @param system_id Associated system to reject\n */\nexport function rejectEvent(id: string, system_id: string) {\n    return post(\n        `${EVENTS_ENDPOINT}/${encodeURIComponent(\n            id\n        )}/reject?system_id=${encodeURIComponent(system_id)}`,\n        ''\n    ).pipe(map((item) => new CalendarEvent(item)));\n}\n\n/**\n * List guests for event\n * @param id ID of the event to grab\n * @param q Parameters to pass to the API request\n */\nexport function queryEventGuests(\n    id: string,\n    q: CalendarEventShowParams = {}\n): Observable<GuestUser[]> {\n    const query = toQueryString(q);\n    return get(\n        `${EVENTS_ENDPOINT}/${encodeURIComponent(id)}/guests${\n            query ? '?' + query : ''\n        }`\n    ).pipe(map((list) => list.map((item) => new GuestUser(item))));\n}\n\n/**\n * Set the checkin state of an event guest\n * @param id ID of the event to grab\n * @param guest_id ID of the guest to update\n * @param state New checkin state of the guest\n * @param q Parameters to pass to the API request\n */\nexport function checkinEventGuest(\n    id: string,\n    guest_id: string,\n    state: boolean,\n    q: CalendarEventShowParams = {}\n) {\n    const query = toQueryString({ ...q, state });\n    return post(\n        `${EVENTS_ENDPOINT}/${encodeURIComponent(\n            id\n        )}/guests/${guest_id}/checkin${query ? '?' + query : ''}`,\n        ''\n    ).pipe(map((item) => new GuestUser(item)));\n}\n\n/**\n * Check whether a selected space is available\n * @param id ID of the space to check\n * @param start Start of the availability period to check\n * @param duration Duration of the availability block in minutes\n * @param ignore ID of a booking to ignore when checking availability\n */\nexport function isSpaceAvailable(\n    id: string,\n    start: number,\n    duration: number,\n    ignore?: string\n) {\n    return queryEvents({\n        system_ids: id,\n        period_start: getUnixTime(start),\n        period_end: getUnixTime(addMinutes(start, duration)),\n    }).pipe(map((_) => _.filter((_) => _.id !== ignore).length === 0));\n}\n\n/**\n * Check whether a list of spaces are available\n * @param id_list List of space IDs to check\n * @param start Start of the availability period to check\n * @param duration Duration of the availability block in minutes\n * @param ignore ID of a booking to ignore when checking availability\n */\nexport function querySpaceAvailability(\n    id_list: string[],\n    start: number,\n    duration: number,\n    ignore?: string\n) {\n    return queryEvents({\n        system_ids: id_list.join(),\n        period_start: getUnixTime(start),\n        period_end: getUnixTime(addMinutes(start, duration)),\n    }).pipe(\n        map((_) =>\n            id_list.map(\n                (id) =>\n                    _.filter(\n                        (b) =>\n                            b.resources?.find((s) => s.id === id) &&\n                            b.id !== ignore &&\n                            b.ical_uid !== ignore\n                    ).length === 0\n            )\n        )\n    );\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatButtonModule } from '@angular/material/button';\n\nimport { MatDatepickerModule } from '@angular/material/datepicker';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { MatRadioModule } from '@angular/material/radio';\n\nimport { FormFieldsModule } from 'libs/form-fields/src/lib/form-fields.module';\nimport { ComponentsModule } from 'libs/components/src/lib/components.module';\n\nimport { AttendeeListComponent } from './attendee-list.component';\nimport { EventCardComponent } from './event-card.component';\nimport { EventDetailsModalComponent } from './event-details-modal.component';\nimport { EventLinkModalComponent } from './event-link-modal.component';\nimport { MatRippleModule } from '@angular/material/core';\n\nconst COMPONENTS = [\n    EventDetailsModalComponent,\n    AttendeeListComponent,\n    EventCardComponent,\n    EventLinkModalComponent,\n];\n\n@NgModule({\n    declarations: [...COMPONENTS],\n    imports: [\n        CommonModule,\n        FormsModule,\n        ReactiveFormsModule,\n        MatRadioModule,\n        MatInputModule,\n        MatFormFieldModule,\n        MatDatepickerModule,\n        MatButtonModule,\n        MatDialogModule,\n        MatProgressSpinnerModule,\n        FormFieldsModule,\n        ComponentsModule,\n        MatRippleModule,\n    ],\n    providers: [ReactiveFormsModule],\n    exports: [...COMPONENTS],\n})\nexport class SharedEventsModule {}\n","export * from './event-form.service';\nexport * from './event.class';\nexport * from './event.interfaces';\nexport * from './events.fn';\nexport * from './helpers';\nexport * from './utilities';\nexport * from './validators';\n","import { HashMap } from '@placeos/common';\nimport {\n    addMinutes,\n    addSeconds,\n    differenceInMinutes,\n    format,\n    isAfter,\n    isBefore,\n    isSameMinute,\n    startOfMinute,\n} from 'date-fns';\nimport { Space } from 'libs/spaces/src/lib/space.class';\nimport {\n    BookingRuleDetails,\n    BookingRules,\n    BookingRuleset,\n    BookingRulesmap,\n    RecurrenceDetails,\n    TimeBlock,\n    TimePeriod,\n} from './event.interfaces';\n\nexport function eventStatus(\n    details: HashMap\n): 'approved' | 'tentative' | 'declined' {\n    if (details.resources?.length) {\n        if (\n            details.resources.every(\n                (i) => i.response_status === 'accepted' || details.approved\n            )\n        ) {\n            return 'approved';\n        } else if (\n            details.resources.some(\n                (i) =>\n                    i.response_status === 'tentative' ||\n                    i.response_status === 'needsAction'\n            )\n        ) {\n            return 'tentative';\n        }\n        return 'declined';\n    }\n    return 'approved';\n}\n\nexport function formatRecurrence({\n    interval,\n    pattern,\n    end,\n}: RecurrenceDetails) {\n    let details = '';\n    if (interval) {\n        switch (pattern) {\n            case 'daily':\n                details = details.concat(\n                    interval > 1 ? `Every ${interval} days` : 'Daily'\n                );\n                break;\n            case 'weekly':\n                details = details.concat(\n                    interval > 1 ? `Every ${interval} weeks` : 'Weekly'\n                );\n                break;\n            case 'monthly':\n                details = details.concat(\n                    interval > 1 ? `Every ${interval} months` : 'Monthly'\n                );\n                break;\n        }\n        details = details.concat(`, until ${format(end, 'MMM do, yyyy')}`);\n    }\n    return details;\n}\n\n/**\n * Generate a list of free time slots between the given bookings\n * @param list List of bookings to find slots between\n * @param min_size Minimum length of a free slot in minutes\n */\nexport function getFreeTimeSlots(\n    list: TimePeriod[],\n    min_size: number = 30\n): TimeBlock[] {\n    let start = new Date(0);\n    const slots: TimeBlock[] = [];\n    list.sort((a, b) => a.date - b.date);\n    for (const booking of list) {\n        const bkn_start = new Date(booking.date);\n        const bkn_end = addMinutes(booking.date, booking.duration);\n        if (isAfter(booking.date, start)) {\n            const diff = Math.abs(differenceInMinutes(bkn_start, start));\n            if (diff >= min_size) {\n                slots.push({\n                    start: start.valueOf(),\n                    end: booking.date,\n                });\n            }\n            start = bkn_end;\n        } else if (isSameMinute(start, booking.date)) {\n            start = bkn_end;\n        }\n    }\n    const s = start.valueOf();\n    slots.push({\n        start: s,\n        end: (s ? s : Date.now()) * 10,\n    });\n    return slots;\n}\n\nexport function periodInFreeTimeSlot(\n    start: number,\n    end: number,\n    list: TimePeriod[],\n    min_size: number = 30\n) {\n    const blocks = getFreeTimeSlots(list, min_size);\n    for (const blk of blocks) {\n        if (\n            start >= blk.start &&\n            start < blk.end &&\n            end > blk.start &&\n            end <= blk.end\n        ) {\n            return true;\n        }\n    }\n    return false;\n}\n\n/**\n * Get the next free time slot from the given bookings\n * @param list List of bookings to find the next slot\n * @param date Date to find next slot after in ms since UTC epoch\n * @param min_size Minimum length of the free slot in minutes\n */\nexport function getNextFreeTimeSlot(\n    list: TimePeriod[],\n    date: number = new Date().valueOf(),\n    min_size: number = 30\n): TimeBlock {\n    const slots = getFreeTimeSlots(list, min_size);\n    const time = addSeconds(startOfMinute(date), 1);\n    for (const block of slots) {\n        if (isAfter(block.start, time)) {\n            return block;\n        } else if (isBefore(time, block.end)) {\n            const duration = differenceInMinutes(block.end, time);\n            if (duration >= min_size) return block;\n        }\n    }\n    return slots[slots.length - 1];\n}\n\nconst MINUTE = 1;\nconst HOUR = 60;\nconst DAY = 24 * HOUR;\nconst WEEK = 7 * DAY;\nconst MONTH = 30 * DAY;\n\nconst DURATION_MAP: { [duration: string]: number } = {\n    month: MONTH,\n    months: MONTH,\n    week: WEEK,\n    weeks: WEEK,\n    day: DAY,\n    days: DAY,\n    hour: HOUR,\n    hours: HOUR,\n    minute: MINUTE,\n    minutes: MINUTE,\n};\n\nconst DEFAULT_RULES: BookingRules = {\n    auto_approve: true,\n    hidden: false,\n};\n\n/**\n * Conver time string into minutes\n * @param str timestring e.g. `'1 day'`, `'15 minutes'`, `'2 weeks'`\n */\nexport function stringToMinutes(str: string): number {\n    const parts = (str || '').split(' ');\n    return parts.length > 1 ? +parts[0] * DURATION_MAP[parts[1]] : 0;\n}\n\nexport function addToDate(add: string, date: Date | number = new Date()) {\n    return addMinutes(date, stringToMinutes(add));\n}\n\nexport function filterSpacesFromRules(\n    spaces: Space[],\n    details: BookingRuleDetails,\n    rulemap: BookingRulesmap\n) {\n    return spaces.filter(\n        (_) => !rulesForSpace({ ...details, space: _ }, rulemap)?.hidden\n    );\n}\n\nexport function rulesForSpace(\n    details: BookingRuleDetails,\n    rulemap: BookingRulesmap\n): BookingRules {\n    const { space } = details;\n    for (const zone of space.zones) {\n        if (rulemap[zone]?.length) {\n            for (const ruleset of rulemap[zone]) {\n                if (ruleset && checkRulesMatch(details, ruleset))\n                    return { ...DEFAULT_RULES, ...ruleset.rules };\n            }\n        }\n    }\n    return DEFAULT_RULES;\n}\n\nexport function checkRulesMatch(\n    { date, duration, host }: BookingRuleDetails,\n    ruleset: BookingRuleset\n): boolean {\n    let matches = 0;\n    const { conditions } = ruleset;\n    if (!conditions) return true;\n    if (\n        conditions.groups instanceof Array &&\n        conditions.groups.every((_) => host?.groups?.includes(_))\n    )\n        matches += 1;\n    if (\n        conditions.is_before &&\n        isBefore(addMinutes(date, duration), addToDate(conditions.is_before))\n    )\n        matches += 1;\n    if (conditions.is_after && isAfter(date, addToDate(conditions.is_after)))\n        matches += 1;\n    if (\n        conditions.min_length &&\n        stringToMinutes(conditions.min_length) <= duration\n    )\n        matches += 1;\n    if (\n        conditions.max_length &&\n        stringToMinutes(conditions.max_length) >= duration\n    )\n        matches += 1;\n    return matches >= Object.keys(conditions).length;\n}\n","import {\n    FormGroup,\n    FormControl,\n    Validators,\n    AbstractControl,\n} from '@angular/forms';\nimport {\n    add,\n    formatDuration,\n    differenceInMinutes,\n    getTime,\n    isSameDay,\n    format,\n    startOfMinute,\n    setHours,\n    setMinutes,\n    addMinutes,\n} from 'date-fns';\nimport { currentUser, timePeriodsIntersect, unique } from '@placeos/common';\n\nimport { CalendarEvent } from './event.class';\nimport { endInFuture } from './validators';\nimport { getNextFreeTimeSlot } from './helpers';\nimport { User } from 'libs/users/src/lib/user.class';\nimport { Booking } from 'libs/bookings/src/lib/booking.class';\nimport { assetsToGroups } from 'libs/assets/src/lib/asset.utilities';\n\nlet BOOKING_DATE = add(setMinutes(setHours(new Date(), 6), 0), { days: -1 });\n\nconst validateCateringField =\n    (catering_control: AbstractControl) => (control: AbstractControl) => {\n        if (catering_control.value?.length && !control.value) {\n            return { catering_field: 'Catering sub-fields are required' };\n        }\n        return null;\n    };\n\nexport function generateEventForm(event: CalendarEvent = new CalendarEvent()) {\n    if (!event) event = new CalendarEvent();\n    const form = new FormGroup({\n        id: new FormControl(event.id),\n        host: new FormControl(\n            event.host || event.organiser?.email || currentUser()?.email || '',\n            [Validators.required]\n        ),\n        organiser: new FormControl(\n            event.organiser || new User({ email: event.host || '' })\n        ),\n        creator: new FormControl(event.creator || currentUser()?.email),\n        calendar: new FormControl(event.calendar),\n        attendees: new FormControl(event.attendees || []),\n        resources: new FormControl(event.resources || []),\n        title: new FormControl(event.title),\n        body: new FormControl(event.body),\n        private: new FormControl(event.private),\n        date: new FormControl(event.date, [Validators.required]),\n        duration: new FormControl(event.duration, [endInFuture]),\n        all_day: new FormControl(event.all_day),\n        recurring: new FormControl(event.recurring),\n        recurrence: new FormControl(event.recurrence),\n        recurring_master_id: new FormControl(event.recurring_master_id),\n        master: new FormControl(event.master),\n        attachments: new FormControl(event.attachments),\n        catering: new FormControl(\n            (event.extension_data?.catering[0]?.items || []) as any\n        ),\n        catering_notes: new FormControl(\n            event.extension_data?.catering[0]?.notes || ''\n        ),\n        catering_charge_code: new FormControl(\n            event.extension_data?.catering[0]?.charge_code || ''\n        ),\n        assets: new FormControl(\n            assetsToGroups(event.extension_data?.assets || [])\n        ),\n        // has_catering: new FormControl(event.has_catering || false),\n        visitor_type: new FormControl(event.extension_data?.visitor_type),\n        location: new FormControl(event.location),\n        needs_space: new FormControl(true),\n        needs_parking: new FormControl(\n            event.extension_data?.needs_parking || false\n        ),\n        system: new FormControl<any>(event.system),\n    });\n    form.get('organiser').valueChanges.subscribe((o) =>\n        form.controls.host.setValue(o?.email)\n    );\n    form.get('resources').valueChanges.subscribe((l) => {\n        form.controls.system.setValue(l?.length ? (l[0] as any) : null);\n        form.controls.assets[l?.length ? 'enable' : 'disable']();\n    });\n    form.get('date').valueChanges.subscribe(() =>\n        form.get('duration').updateValueAndValidity()\n    );\n    form.controls.all_day.valueChanges.subscribe((all_day) => {\n        if (all_day) form.controls.duration.disable();\n        else form.controls.duration.enable();\n    });\n    form.get('catering_charge_code').setValidators([\n        validateCateringField(form.get('catering')),\n    ]);\n    if (event.id) {\n        form.get('host').disable();\n        form.get('organiser').disable();\n    }\n    if (event.state === 'started') form.get('date').disable();\n    return form;\n}\n\n/**\n * Set the initial time used for generating mock bookings\n * @param time New initial time as ms from UTC epoch\n */\nexport function setMockBookingStartDatetime(time: number) {\n    BOOKING_DATE = startOfMinute(new Date(time));\n}\n\n/**\n * Get current status within bookings\n * @param bookings List of bookings\n * @param host Host of the new event\n * @param date Datetime of the new event\n */\nexport function statusFromBookings(\n    bookings: CalendarEvent[],\n    bookable: boolean,\n    requestable: boolean,\n    date: number = getTime(new Date())\n) {\n    const now = new Date(date);\n    const next_free_slot = getNextFreeTimeSlot(bookings, date, 5);\n    const start = new Date(next_free_slot.start);\n    const end = new Date(next_free_slot.end);\n    const currently_free = timePeriodsIntersect(\n        date,\n        date,\n        next_free_slot.start,\n        next_free_slot.end\n    );\n    const time_until_next_block = formatDuration({\n        minutes: currently_free\n            ? differenceInMinutes(end, now)\n            : differenceInMinutes(start, now),\n    });\n    const free_tomorrow = !currently_free && !isSameDay(start, now);\n    const free_today = currently_free && !isSameDay(end, now);\n    return {\n        status: !bookable\n            ? 'Not Bookable'\n            : currently_free\n            ? requestable\n                ? 'Available by Request'\n                : 'Available'\n            : 'Meeting in Progress',\n        available_until: free_today\n            ? 'No meetings today'\n            : currently_free\n            ? `Free until ${format(end, 'h:mm B')}(${time_until_next_block})`\n            : free_tomorrow\n            ? 'Unavailable today'\n            : `Free at ${format(start, 'h:mm B')}(${time_until_next_block})`,\n    };\n}\n\nexport function replaceBookings(\n    list: CalendarEvent[],\n    new_bookings: CalendarEvent[],\n    filter_options: { space: string; from: number; to: number }\n) {\n    const from = filter_options.from;\n    const to = filter_options.to;\n    const filtered_list = list.filter((booking) => {\n        const start = new Date(booking.date);\n        const end = addMinutes(start, booking.duration);\n        return (\n            !booking.resources.find(\n                (space) => space.email === filter_options.space\n            ) || !timePeriodsIntersect(from, to, start.valueOf(), end.valueOf())\n        );\n    });\n    const updated_list = filtered_list.concat(new_bookings);\n    updated_list.sort((a, b) => a.date - b.date);\n    return unique(updated_list, 'id');\n}\n\nexport function newCalendarEventFromBooking(booking: Booking) {\n    let attendees = [\n        {\n            id: booking.user_id,\n            name: booking.user_name,\n            email: booking.user_email,\n            organizer: true,\n        },\n    ];\n    if (booking.booking_type === 'visitor') {\n        attendees.push(\n            new User({\n                name: booking.asset_name || booking.description,\n                email: booking.asset_id,\n            })\n        );\n    }\n    attendees = attendees.concat(booking.attendees);\n    return new CalendarEvent({\n        ...booking,\n        ...booking.extension_data,\n        attendees,\n        id: booking.id || booking.extension_data.id,\n        host: booking.user_email,\n        from_bookings: true,\n    } as any);\n}\n","import { AbstractControl } from '@angular/forms';\nimport { addMinutes, isAfter, isBefore } from 'date-fns';\n\nexport const endInFuture = (control: AbstractControl) => {\n    const date = control.parent?.get('date');\n    if (date && isAfter(Date.now(), addMinutes(date.value, control.value))) {\n        return { duration: true };\n    }\n    return null;\n};\n\n/** Check that date in unix ms is in the future */\nexport function isFuture(\n    control: AbstractControl\n): { [key: string]: boolean } | null {\n    return control.value && isBefore(control.value, new Date())\n        ? { is_future: true }\n        : null;\n}\n","export * from './lib/explore.module';\nexport * from './lib/explore';\n","import { Component, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\n\nimport { SettingsService } from 'libs/common/src/lib/settings.service';\nimport { Space } from 'libs/spaces/src/lib/space.class';\nimport { generateQRCode } from 'libs/common/src/lib/qr-code';\n\nconst DEFAULT_PATH = `workplace/#/explore?space={{id}}`;\n\n@Component({\n    selector: 'explore-book-qr',\n    template: `\n        <header>\n            <h2 class=\"truncate\" i18n>Book - {{ space?.name }}</h2>\n            <div class=\"flex-1\"></div>\n            <button icon mat-dialog-close>\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <main class=\"p-4\">\n            <img class=\"w-64 h-64 m-auto\" [src]=\"qr_code\" />\n        </main>\n    `,\n    styles: [``],\n})\nexport class ExploreBookQrComponent {\n    public readonly space = this._data.space;\n    public readonly qr_code = generateQRCode(\n        `${location.origin}${(\n            this._settings.get('app.booking_qr_path') || DEFAULT_PATH\n        ).replace('{{id}}', this._data.space?.email)}`\n    );\n    constructor(\n        @Inject(MAT_DIALOG_DATA) public _data: { space: Space },\n        private _settings: SettingsService\n    ) {}\n}\n","import { Component, Inject, OnInit } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { currentUser, notifySuccess, SettingsService } from '@placeos/common';\n\nimport { Space } from 'libs/spaces/src/lib/space.class';\nimport { EventFormService } from 'libs/events/src/lib/event-form.service';\nimport { Router } from '@angular/router';\n\nexport interface ExploreBookingModalData {\n    space: Space;\n}\n\n@Component({\n    selector: 'explore-booking-modal',\n    template: `\n        <header>\n            <h2 i18n>New Booking</h2>\n            <div class=\"flex-1\"></div>\n            <button *ngIf=\"!(loading | async)\" icon matRipple mat-dialog-close>\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <ng-container *ngIf=\"!(loading | async); else load_state\">\n            <main *ngIf=\"form\" [formGroup]=\"form\" class=\"p-4 max-w-[85vw]\">\n                <div class=\"flex flex-col\">\n                    <label for=\"title\">Title<span>*</span>:</label>\n                    <mat-form-field appearance=\"outline\">\n                        <input\n                            matInput\n                            name=\"title\"\n                            formControlName=\"title\"\n                            placeholder=\"Booking Title\"\n                            i18n-placeholder\n                        />\n                        <mat-error i18n>Booking title is required</mat-error>\n                    </mat-form-field>\n                </div>\n                <div class=\"flex flex-col\" *ngIf=\"can_book_for_others\">\n                    <label for=\"host\">Host<span>*</span>:</label>\n                    <a-user-search-field\n                        name=\"host\"\n                        formControlName=\"organiser\"\n                    ></a-user-search-field>\n                </div>\n                <div class=\"flex flex-col\">\n                    <label i18n>Space:</label>\n                    <div name=\"space\" class=\"sm:mt-4 mb-4\">\n                        {{\n                            form.controls.resources?.value[0]?.display_name ||\n                                form.controls.resources?.value[0]?.name\n                        }}\n                    </div>\n                </div>\n                <div class=\"flex sm:space-x-4 flex-wrap\">\n                    <div class=\"flex flex-col\" *ngIf=\"form.controls.date\">\n                        <label i18n>Date:</label>\n                        <div class=\"sm:mt-4 mb-4\">\n                            {{ form.controls.date?.value | date: 'medium' }}\n                        </div>\n                    </div>\n                    <div\n                        class=\"flex flex-col w-full sm:w-auto\"\n                        *ngIf=\"form.controls.duration\"\n                    >\n                        <label i18n>Duration:</label>\n                        <a-duration-field\n                            formControlName=\"duration\"\n                            [time]=\"form.value.date\"\n                            [max]=\"max_duration\"\n                            class=\"w-full\"\n                        ></a-duration-field>\n                    </div>\n                </div>\n            </main>\n            <footer class=\"flex justify-center p-2 border-t border-gray-200\">\n                <button btn matRipple class=\"w-32\" (click)=\"save()\" i18n>\n                    Save\n                </button>\n            </footer>\n        </ng-container>\n        <ng-template #load_state>\n            <div load class=\"h-64 flex flex-col items-center justify-center\">\n                <mat-spinner class=\"m-4\" [diameter]=\"48\"></mat-spinner>\n                <p>{{ loading | async }}</p>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            header {\n                max-width: calc(100vw + 100%);\n            }\n\n            [load] {\n                width: 32rem;\n                max-width: calc(100vw - 2rem);\n            }\n        `,\n    ],\n})\nexport class ExploreBookingModalComponent implements OnInit {\n    public readonly loading = this._event_form.loading;\n\n    public get form() {\n        return this._event_form.form;\n    }\n\n    public get max_duration() {\n        return this._settings.get('app.events.max_duration') || 4 * 60;\n    }\n\n    public get can_book_for_others() {\n        return this._settings.get('app.events.can_book_for_others');\n    }\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) private _data: ExploreBookingModalData,\n        private _settings: SettingsService,\n        private _event_form: EventFormService,\n        private _dialog_ref: MatDialogRef<ExploreBookingModalComponent>,\n        private _router: Router\n    ) {}\n\n    public ngOnInit() {\n        this._event_form.newForm();\n        this.form.patchValue({\n            resources: [this._data.space],\n            host: currentUser().email,\n            organiser: currentUser(),\n        });\n    }\n\n    public async save() {\n        await this._event_form.postForm();\n        if (this._settings.app_name.toLowerCase().includes('workplace')) {\n            this._router.navigate(['/book', 'meeting', 'success']);\n        } else {\n            notifySuccess('Succefully booked room.');\n        }\n        this._dialog_ref.close();\n    }\n}\n","import { Component, ElementRef, Inject, OnInit } from '@angular/core';\nimport { SettingsService } from '@placeos/common';\n\nimport { MAP_FEATURE_DATA } from 'libs/components/src/lib/interactive-map.component';\n\nexport interface DeskInfoData {\n    id: string;\n    map_id: string;\n    user: string;\n    name: string;\n    start?: number;\n    end?: number;\n    department?: string;\n    status: 'free' | 'busy' | 'pending' | 'reserved' | 'unknown' | '';\n}\n\n@Component({\n    selector: 'explore-desk-info',\n    template: `\n        <div\n            customTooltip\n            [content]=\"desk_tooltip\"\n            [backdrop]=\"false\"\n            [xPosition]=\"'center'\"\n            [yPosition]=\"'center'\"\n            [hover]=\"true\"\n            [delay]=\"3000\"\n            class=\"h-full w-full pointer-events-auto relative\"\n            [class.hidden]=\"status === 'free'\"\n            [attr.id]=\"id\"\n            [attr.map_id]=\"map_id\"\n        ></div>\n        <ng-template #desk_tooltip>\n            <div\n                name=\"space-info\"\n                [id]=\"map_id\"\n                [class]=\"\n                    'absolute rounded bg-white dark:bg-neutral-800 p-4 top-0 left-0 shadow pointer-events-none ' +\n                    x_pos +\n                    ' ' +\n                    y_pos\n                \"\n            >\n                <div class=\"arrow\"></div>\n                <div class=\"details\">\n                    <h4 map-id class=\"m-0 font-medium\">\n                        {{ name || map_id || id }}\n                    </h4>\n                    <p user class=\"mt-2 text-sm\" *ngIf=\"user\">{{ user }}</p>\n                    <p user class=\"mt-1 text-sm\" *ngIf=\"user && department\">\n                        {{ department }}\n                    </p>\n                    <p start class=\"mt-1 text-sm\" *ngIf=\"start\">\n                        {{ start | date: 'shortTime' }} &ndash;\n                        {{ end | date: 'shortTime' }}\n                    </p>\n                </div>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            [name='space-info'] {\n                width: 16rem;\n            }\n\n            [name='status'] {\n                background-color: #43a047;\n                font-weight: 500;\n            }\n\n            [name='status'].busy {\n                background-color: #e53935;\n            }\n\n            [name='status'].pending {\n                background-color: #ffb300;\n            }\n\n            [name='status'].not-bookable {\n                background-color: #757575;\n            }\n        `,\n    ],\n})\nexport class ExploreDeskInfoComponent implements OnInit {\n    /** Space to display details for */\n    public readonly id = this._details.id;\n    public readonly map_id = this._details.map_id;\n    public readonly name = this._details.name;\n    public readonly user = this._details.user;\n    public readonly start = this._details.start;\n    public readonly end = this._details.end;\n    public readonly status = this._details.status;\n    public readonly department = this._details.department;\n\n    public y_pos: 'top' | 'bottom';\n\n    public x_pos: 'left' | 'right';\n\n    constructor(\n        @Inject(MAP_FEATURE_DATA) private _details: DeskInfoData,\n        private _element: ElementRef<HTMLElement>\n    ) {}\n\n    public ngOnInit(tries: number = 0) {\n        if (tries > 10) return;\n        setTimeout(() => {\n            const parent =\n                this._element.nativeElement.parentElement?.parentElement;\n            if (!parent) return this.ngOnInit(++tries);\n            const position = {\n                y: parseInt(parent.style.top, 10) / 100,\n                x: parseInt(parent.style.left, 10) / 100,\n            };\n            this.y_pos = position.y >= 0.5 ? 'bottom' : 'top';\n            this.x_pos = position.x >= 0.5 ? 'right' : 'left';\n        }, 200);\n    }\n\n    public get available_until() {\n        return '';\n    }\n}\n","import { Injectable, OnDestroy } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { getModule, showMetadata } from '@placeos/ts-client';\nimport {\n    addDays,\n    addMinutes,\n    endOfDay,\n    getUnixTime,\n    startOfMinute,\n} from 'date-fns';\nimport { BehaviorSubject, combineLatest, of } from 'rxjs';\nimport {\n    catchError,\n    debounceTime,\n    distinctUntilChanged,\n    filter,\n    first,\n    map,\n    shareReplay,\n    switchMap,\n    tap,\n} from 'rxjs/operators';\n\nimport { BookingFormService } from 'libs/bookings/src/lib/booking-form.service';\nimport { queryBookings } from 'libs/bookings/src/lib/bookings.fn';\nimport {\n    AsyncHandler,\n    currentUser,\n    notifyError,\n    notifySuccess,\n    SettingsService,\n} from '@placeos/common';\nimport { OrganisationService } from 'libs/organisation/src/lib/organisation.service';\nimport { Desk } from 'libs/organisation/src/lib/desk.class';\nimport { StaffUser } from 'libs/users/src/lib/user.class';\n\nimport { SetDatetimeModalComponent } from 'libs/explore/src/lib/set-datetime-modal.component';\nimport { ExploreDeskInfoComponent } from './explore-desk-info.component';\nimport { ExploreDeviceInfoComponent } from './explore-device-info.component';\nimport { DEFAULT_COLOURS } from './explore-spaces.service';\nimport { ExploreStateService } from './explore-state.service';\nimport { Booking } from 'libs/bookings/src/lib/booking.class';\n\nexport interface DeskOptions {\n    enable_booking?: boolean;\n    date?: number | Date;\n    zones?: string[];\n    host?: StaffUser;\n    custom?: boolean;\n}\nexport interface DesksStats {\n    free: number;\n    occupied: number;\n    total: number;\n}\n\n@Injectable()\nexport class ExploreDesksService extends AsyncHandler implements OnDestroy {\n    private _in_use = new BehaviorSubject<string[]>([]);\n    private _options = new BehaviorSubject<DeskOptions>({});\n    private _presence = new BehaviorSubject<string[]>([]);\n    private _signs_of_life = new BehaviorSubject<string[]>([]);\n    private _statuses: Record<string, string> = {};\n    private _users: Record<string, string> = {};\n    private _departments: Record<string, string> = {};\n    private _poll = new BehaviorSubject<number>(0);\n\n    private _checked_in = new BehaviorSubject<string[]>([]);\n\n    private _desk_bookings = combineLatest([\n        this._state.level,\n        this._options,\n        this._poll,\n    ]).pipe(\n        filter(([lvl]) => !!lvl),\n        debounceTime(600),\n        switchMap(([lvl, { date }]) =>\n            queryBookings({\n                period_start: getUnixTime(startOfMinute(date || Date.now())),\n                period_end: getUnixTime(addMinutes(date || Date.now(), 60)),\n                type: 'desk',\n                zones: lvl.id,\n            }).pipe(catchError(() => of([] as Booking[])))\n        ),\n        tap((l) => {\n            this._users = {};\n            this._departments = {};\n            l.forEach((b) => {\n                const departments =\n                    this._settings.get('app.department_map') || {};\n                this._users[b.asset_id] = b.user_name;\n                this._departments[b.asset_id] =\n                    departments[b.extension_data.department] || '';\n            });\n        }),\n        shareReplay(1)\n    );\n\n    public readonly desk_list = this._state.level.pipe(\n        switchMap((lvl) =>\n            showMetadata(lvl.id, 'desks').pipe(\n                map((i) =>\n                    (i.details instanceof Array ? i.details : []).map(\n                        (j: Record<string, any>) =>\n                            new Desk({ ...j, zone: lvl as any })\n                    )\n                )\n            )\n        ),\n        catchError((e) => []),\n        shareReplay(1)\n    );\n\n    private _bind = this._state.level.pipe(\n        map((lvl) => {\n            this._statuses = {};\n            this.unsubWith('lvl');\n            if (!lvl) return;\n            const system_id = this._org.binding('area_management');\n            if (!system_id) return;\n            let binding = getModule(system_id, 'AreaManagement')?.binding(\n                lvl.id\n            );\n            if (!binding) return;\n            this.subscription(\n                `lvl-in_use`,\n                binding\n                    .listen()\n                    .subscribe((d) =>\n                        this.processBindingChange(d || {}, system_id)\n                    )\n            );\n            this.subscription('lvl-in_use_bind', binding.bind());\n        })\n    );\n\n    private _state_change = combineLatest([\n        this.desk_list,\n        this._in_use,\n        this._presence,\n        this._checked_in,\n        this._signs_of_life,\n        this._options,\n    ]).pipe(\n        // debounceTime(50),\n        map(([desks, in_use, presence, checked_in, signs]) => {\n            this._statuses = {};\n            for (const { id, bookable } of desks) {\n                const is_used = in_use.some((i) => id === i);\n                const has_presence = presence.some((i) => id === i);\n                const has_signs = signs.some((i) => id === i);\n                const is_checked_in = checked_in.some((i) => id === i);\n                this._statuses[id] = bookable\n                    ? !is_used && !has_presence && !is_checked_in\n                        ? has_signs\n                            ? 'signs-of-life'\n                            : 'free'\n                        : !has_presence && !is_checked_in\n                        ? 'pending'\n                        : 'busy'\n                    : 'not-bookable';\n            }\n            this.processDesks(desks);\n        })\n    );\n\n    constructor(\n        private _state: ExploreStateService,\n        private _org: OrganisationService,\n        private _settings: SettingsService,\n        private _bookings: BookingFormService,\n        private _dialog: MatDialog\n    ) {\n        super();\n        this.init();\n    }\n\n    public async init() {\n        await this._org.initialised.pipe(first((_) => _)).toPromise();\n        this.setOptions({\n            enable_booking:\n                this._settings.get('app.desks.enable_maps') !== false,\n        });\n        this.subscription('bind', this._bind.subscribe());\n        this.subscription('changes', this._state_change.subscribe());\n        this.subscription(\n            'desks',\n            this.desk_list.subscribe((desks) => this.processDesks(desks))\n        );\n    }\n\n    public startPolling(delay: number = 10 * 1000) {\n        this.subscription(\n            'desks_in_use_bookings',\n            this._desk_bookings.subscribe((_) => {\n                const actives = _.filter(\n                    (e) =>\n                        !(\n                            e.rejected ||\n                            e.deleted ||\n                            e.extension_data.current_state === 'ended' ||\n                            e.is_done\n                        )\n                );\n                this._in_use.next(actives.map((i) => i.asset_id));\n                this._checked_in.next(\n                    actives.filter((e) => e.checked_in).map((i) => i.asset_id)\n                );\n            })\n        );\n        this._poll.next(Date.now());\n        this.interval('poll', () => this._poll.next(Date.now()), delay);\n        return () => this.stopPolling();\n    }\n\n    public stopPolling() {\n        this.clearInterval('poll');\n    }\n\n    public setOptions(options: DeskOptions) {\n        this._options.next({ ...this._options.getValue(), ...options });\n        if (options.date) this._poll.next(Date.now());\n    }\n\n    public processBindingChange(\n        { value }: { value: any[] },\n        system_id: string\n    ) {\n        const devices = (value || []).filter(\n            (v) => !['desk', 'booking'].includes(v.location)\n        );\n        const desks = (value || []).filter(\n            (v) =>\n                v.location === 'desk' ||\n                (v.location === 'booking' && v.type === 'desk')\n        );\n        // this._in_use.next(desks.map((v) => v.map_id || v.asset_id));\n        this._presence.next(\n            desks\n                .filter((v) => v.at_location)\n                .map((v) => v.map_id || v.asset_id)\n        );\n        this._signs_of_life.next(\n            desks\n                .filter((v) => v.signs_of_life)\n                .map((v) => v.map_id || v.asset_id)\n        );\n        const departments = this._settings.get('app.department_map') || {};\n        for (const desk of desks) {\n            this._users[desk.map_id] = desk.staff_name;\n            this._departments[desk.map_id] = departments[desk.department] || '';\n        }\n        this.processDevices(devices, system_id);\n        this.timeout('update', () => this.updateStatus(), 100);\n    }\n\n    private updateStatus() {\n        const style_map = {};\n        const colours = this._settings.get('app.explore.colors') || {};\n        for (const desk_id in this._statuses) {\n            if (!this._statuses[desk_id]) continue;\n            style_map[`#${desk_id}`] = {\n                fill:\n                    colours[`desk-${this._statuses[desk_id]}`] ||\n                    colours[`${this._statuses[desk_id]}`] ||\n                    DEFAULT_COLOURS[`${this._statuses[desk_id]}`],\n            };\n        }\n        this._state.setStyles('desks', style_map);\n    }\n\n    private processDevices(devices: Record<string, any>[], system_id: string) {\n        const list = [];\n        for (const device of devices) {\n            const x = device.x / device.map_width;\n            const y = device.y / device.map_height;\n            list.push({\n                track_id: `device:hover:${x},${y}`,\n                location: {\n                    x: device.coordinates_from?.includes('right') ? 1 - x : x,\n                    y: device.coordinates_from?.includes('bottom') ? 1 - y : y,\n                },\n                content: ExploreDeviceInfoComponent,\n                z_index: 20,\n                data: { ...device, system: system_id },\n            });\n        }\n        this._state.setFeatures('devices', list);\n    }\n\n    private processDesks(desks: Desk[]) {\n        const list = [];\n        const actions = [];\n        const options = this._options.getValue();\n        for (const desk of desks) {\n            list.push({\n                track_id: `desk:hover:${desk.map_id || desk.id}`,\n                location: desk.id,\n                content: ExploreDeskInfoComponent,\n                full_size: true,\n                no_scale: true,\n                data: {\n                    id: desk.map_id || desk.id,\n                    map_id: desk.name,\n                    name: desk.name || desk.map_id,\n                    user: this._users[desk.map_id] || desk.staff_name,\n                    status: this._statuses[desk.map_id],\n                    department: this._departments[desk.map_id] || '',\n                },\n                z_index: 20,\n            });\n            if (!desk.bookable) continue;\n            const book_fn = async () => {\n                if (this._statuses[desk.id] !== 'free') {\n                    return notifyError(\n                        `${desk.name} is unavailable at this time.`\n                    );\n                }\n                if (\n                    desk.groups?.length &&\n                    !desk.groups.find((_) => currentUser().groups.includes(_))\n                ) {\n                    return notifyError(\n                        `You are not allowed to book ${desk.name}.`\n                    );\n                }\n                this._bookings.newForm();\n                this._bookings.setOptions({ type: 'desk' });\n                let { date, duration, user } = await this._setBookingTime(\n                    this._bookings.form.value.date,\n                    this._bookings.form.value.duration,\n                    this._options.getValue()?.custom ?? false,\n                    desk as any\n                );\n                user = user || options.host || currentUser();\n                const user_email = user?.email;\n                this._bookings.form.patchValue({\n                    asset_id: desk.id,\n                    asset_name: desk.name,\n                    date,\n                    duration,\n                    map_id: desk?.map_id || desk?.id,\n                    description: desk.name,\n                    user,\n                    user_email,\n                    booking_type: 'desk',\n                    zones: desk.zone\n                        ? [desk.zone?.parent_id, desk.zone?.id]\n                        : [],\n                });\n                await this._bookings.confirmPost();\n                this._users[desk.map_id] = (\n                    options.host || currentUser()\n                )?.name;\n                notifySuccess(\n                    `Successfully booked desk ${desk.name || desk.id}`\n                );\n            };\n            actions.push({\n                id: desk.id,\n                action: 'click',\n                callback: book_fn,\n            });\n            actions.push({\n                id: desk.id,\n                action: 'touchend',\n                callback: book_fn,\n            });\n        }\n        this._state.setActions(\n            'desks',\n            this._options.getValue().enable_booking ? actions : []\n        );\n        this._state.setFeatures('desks', list);\n        this.timeout('update', () => this.updateStatus(), 100);\n    }\n\n    private async _setBookingTime(\n        date: number,\n        duration: number,\n        host: boolean = false,\n        resource: Desk = null\n    ) {\n        let user = null;\n        if (!!this._settings.get('app.desks.allow_time_changes')) {\n            const until = endOfDay(\n                addDays(\n                    Date.now(),\n                    this._settings.get('app.desks.available_period') || 90\n                )\n            );\n            const ref = this._dialog.open(SetDatetimeModalComponent, {\n                data: { date, duration, until, host, resource },\n            });\n            const details = await ref.afterClosed().toPromise();\n            if (!details) throw 'User cancelled';\n            date = details.date;\n            duration = details.duration;\n            user = details.user;\n        }\n        return { date, duration, user };\n    }\n}\n","import { Component, ElementRef, Inject, OnInit } from '@angular/core';\nimport { getModule } from '@placeos/ts-client';\nimport { differenceInMinutes, formatDistanceToNow } from 'date-fns';\nimport { Observable } from 'rxjs';\n\nimport { AsyncHandler, SettingsService } from '@placeos/common';\n\nimport { MAP_FEATURE_DATA } from 'libs/components/src/lib/interactive-map.component';\n\nexport interface DeviceInfoData {\n    mac: string;\n    variance: number;\n    last_seen: number;\n    system: string;\n    manufacturer?: string;\n    os?: string;\n    ssid?: string;\n    user?: any;\n    bg_color?: string;\n    zoom$?: Observable<number>;\n}\n\nconst EMPTY = [];\n\n@Component({\n    selector: '[explore-device-info]',\n    template: `\n        <div\n            name=\"radius\"\n            class=\"radius absolute center bg-blue-600 bg-opacity-25 border-8 border-dashed border-blue-600 rounded-full\"\n            [style]=\"'height: ' + diameter + '%; width: ' + diameter + '%;'\"\n        ></div>\n        <div\n            shadow\n            class=\"absolute center bg-black/40 h-8 w-8 rounded-full\"\n        ></div>\n        <div\n            name=\"dot\"\n            #dot\n            class=\"h-3 w-3 absolute center rounded-full shadow border-2 border-white\"\n            [style.background-color]=\"bg_color\"\n        ></div>\n        <div\n            customTooltip\n            [content]=\"device_tooltip\"\n            [backdrop]=\"false\"\n            [xPosition]=\"x_pos\"\n            [yPosition]=\"y_pos\"\n            [hover]=\"true\"\n            (mouseenter)=\"loadUser()\"\n            class=\"absolute inset-0 pointer-events-auto\"\n        ></div>\n\n        <ng-template #device_tooltip>\n            <div\n                name=\"device-info\"\n                class=\"w-64 rounded bg-white dark:bg-neutral-800 p-4 top-0 left-0 shadow pointer-events-none mx-2\"\n                (mouseleave)=\"close()\"\n            >\n                <div class=\"arrow\"></div>\n                <div class=\"details\">\n                    <p\n                        class=\"break-words\"\n                        *ngIf=\"mac && !hide_fields.includes('mac')\"\n                    >\n                        <label i18n>MAC:</label> {{ mac }}\n                    </p>\n                    <p><label i18n>Accuracy:</label> {{ variance }}m</p>\n                    <p><label i18n>Last Seen:</label> {{ last_seen }}</p>\n                    <p\n                        type\n                        *ngIf=\"\n                            manufacturer &&\n                            !hide_fields.includes('manufacturer')\n                        \"\n                    >\n                        <label i18n>Manufacturer:</label> {{ manufacturer }}\n                    </p>\n                    <p os *ngIf=\"os && !hide_fields.includes('os')\">\n                        <label i18n>OS:</label> {{ os }}\n                    </p>\n                    <p ssid *ngIf=\"ssid && !hide_fields.includes('ssid')\">\n                        <label i18n>SSID:</label> {{ ssid }}\n                    </p>\n                    <p\n                        username\n                        *ngIf=\"username && !hide_fields.includes('username')\"\n                    >\n                        <label i18n>Username:</label>\n                        {{ user?.name || user?.username || username }}\n                    </p>\n                    <p user *ngIf=\"user && !hide_fields.includes('user')\">\n                        <label i18n>Type:</label> {{ user.type }}\n                    </p>\n                </div>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                pointer-events: auto;\n            }\n\n            :host > [name='dot'] {\n                background-color: #616161;\n            }\n\n            :host:hover > [name='radius'] {\n                opacity: 1;\n            }\n\n            [name='radius'] {\n                opacity: 0;\n                transition: opacity 200ms;\n                pointer-events: none;\n            }\n        `,\n    ],\n})\nexport class ExploreDeviceInfoComponent extends AsyncHandler implements OnInit {\n    /** Name of the user associated with the mac address */\n    public username = '';\n    /** User details associated with device */\n    public readonly user = this._details.user;\n    /** Mac Address of the device */\n    public readonly mac = this._details.mac;\n    /** Mac Address of the device */\n    public readonly manufacturer = this._details.manufacturer;\n    /** Mac Address of the device */\n    public readonly os = this._details.os;\n    /** Mac Address of the device */\n    public readonly ssid = this._details.ssid;\n    /** Accuracy of the location data */\n    public readonly variance = this._details.variance?.toFixed(2);\n    /** Background color for the dot */\n    public readonly bg_color = this._details.bg_color || this.distance_color;\n\n    public zoom = 1;\n\n    public get hide_fields() {\n        return this._settings.get('app.explore.hide_device_fields') || EMPTY;\n    }\n\n    /** Time of the last update */\n    public get last_seen() {\n        return formatDistanceToNow((this._details.last_seen || 0) * 1000, {\n            addSuffix: true,\n        });\n    }\n\n    public y_pos: 'top' | 'bottom';\n\n    public x_pos: 'end' | 'start';\n    /** Diameter of the radius circle */\n    public get diameter() {\n        return this._details.variance * 100 * this.zoom;\n    }\n\n    public get distance() {\n        return Math.abs(\n            differenceInMinutes(\n                (this._details.last_seen || 0) * 1000,\n                new Date()\n            )\n        );\n    }\n\n    public get distance_color() {\n        return this.distance < 10\n            ? '#43a047'\n            : this.distance < 20\n            ? '#ffb300'\n            : '#e53935';\n    }\n\n    constructor(\n        @Inject(MAP_FEATURE_DATA) private _details: DeviceInfoData,\n        private _settings: SettingsService,\n        private _element: ElementRef<HTMLElement>\n    ) {\n        super();\n    }\n\n    public ngOnInit(tries: number = 0) {\n        if (tries > 10) return;\n        setTimeout(() => {\n            const parent =\n                this._element.nativeElement.parentElement?.parentElement;\n            if (!parent) return this.ngOnInit(++tries);\n            const position = {\n                y: parseInt(parent.style.top, 10) / 100,\n                x: parseInt(parent.style.left, 10) / 100,\n            };\n            this.y_pos = position.y >= 0.5 ? 'bottom' : 'top';\n            this.x_pos = position.x >= 0.5 ? 'end' : 'start';\n            this.subscription(\n                'zoom',\n                this._details.zoom$.subscribe((_) => (this.zoom = _))\n            );\n        }, 200);\n    }\n\n    public async loadUser() {\n        if (this.username) return;\n        const mod = getModule(this._details.system, 'LocationServices');\n        if (!mod) return;\n        this.username = 'Loading...';\n        const details = await mod\n            .execute('check_ownership_of', [this.mac])\n            .catch((_) => null);\n        this.username =\n            details && details.assigned_to ? details.assigned_to : '';\n    }\n}\n","import { Component, ElementRef, Inject } from '@angular/core';\nimport { MAP_FEATURE_DATA } from '@placeos/components';\nimport { Locker, LockerBank } from 'libs/bookings/src/lib/lockers.service';\nimport { ExploreLockerBankModalComponent } from './explore-locker-bank-modal.component';\nimport { MatDialog } from '@angular/material/dialog';\n\nexport interface LockerBankInfoData {\n    bank: LockerBank;\n    lockers: Locker[];\n    in_use_count: number;\n    locker_count: number;\n}\n\n@Component({\n    selector: 'explore-locker-bank-info',\n    template: `\n        <button\n            class=\"h-full w-full pointer-events-auto relative\"\n            (click)=\"openBankModal()\"\n        >\n            <div\n                customTooltip\n                [content]=\"desk_tooltip\"\n                [backdrop]=\"false\"\n                [xPosition]=\"'center'\"\n                [yPosition]=\"'center'\"\n                [hover]=\"true\"\n                [delay]=\"3000\"\n                class=\"h-full w-full pointer-events-auto relative\"\n            ></div>\n        </button>\n        <ng-template #desk_tooltip>\n            <div\n                name=\"space-info\"\n                [id]=\"map_id\"\n                [class]=\"\n                    'absolute rounded bg-white dark:bg-neutral-800 p-4 top-0 left-0 shadow pointer-events-none ' +\n                    x_pos +\n                    ' ' +\n                    y_pos\n                \"\n            >\n                <h3 class=\"font-medium\">{{ bank.name }}</h3>\n                <p class=\"whitespace-nowrap text-sm\">\n                    {{ in_use_count }} lockers in use of\n                    {{ bank.lockers.length || 1 }}\n                </p>\n            </div></ng-template\n        >\n    `,\n    styles: [``],\n})\nexport class ExploreLockerBankInfoComponent {\n    public bank: LockerBank = this._details.bank;\n    public in_use_count: number = this._details.in_use_count;\n    public y_pos: 'top' | 'bottom';\n    public x_pos: 'left' | 'right';\n\n    constructor(\n        @Inject(MAP_FEATURE_DATA) private _details: LockerBankInfoData,\n        private _element: ElementRef<HTMLElement>,\n        private _dialog: MatDialog\n    ) {}\n\n    public ngOnInit(tries: number = 0) {\n        if (tries > 10) return;\n        setTimeout(() => {\n            const parent =\n                this._element.nativeElement.parentElement?.parentElement;\n            if (!parent) return this.ngOnInit(++tries);\n            const position = {\n                y: parseInt(parent.style.top, 10) / 100,\n                x: parseInt(parent.style.left, 10) / 100,\n            };\n            this.y_pos = position.y >= 0.5 ? 'bottom' : 'top';\n            this.x_pos = position.x >= 0.5 ? 'right' : 'left';\n        }, 200);\n    }\n\n    public openBankModal() {\n        this._dialog.open(ExploreLockerBankModalComponent, {\n            data: { ...this._details },\n        });\n    }\n}\n","import { Component, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport {\n    Locker,\n    LockerBank,\n    LockersService,\n} from 'libs/bookings/src/lib/lockers.service';\n\nexport interface LockerBankModalData {\n    bank: LockerBank;\n    lockers: Locker[];\n}\n\n@Component({\n    selector: 'explore-locker-bank-modal',\n    template: `\n        <header>\n            <h2 class=\"text-xl font-medium\">{{ bank.name }}</h2>\n            <button btn icon matRipple mat-dialog-close>\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <main class=\"h-[65vh] overflow-hidden\">\n            <locker-grid [bank]=\"bank\" [bank_status]=\"lockers\"></locker-grid>\n        </main>\n    `,\n    styles: [``],\n})\nexport class ExploreLockerBankModalComponent {\n    public readonly bank = this._data.bank;\n    public readonly lockers = this._data.lockers.reduce((map, l) => {\n        map[l.id] = 'busy';\n        return map;\n    }, {});\n\n    constructor(@Inject(MAT_DIALOG_DATA) private _data: LockerBankModalData) {}\n}\n","import { Injectable } from '@angular/core';\nimport { LockersService } from 'libs/bookings/src/lib/lockers.service';\nimport { ExploreStateService } from './explore-state.service';\nimport { AsyncHandler, SettingsService, unique } from '@placeos/common';\nimport { filter, map } from 'rxjs/operators';\nimport { BehaviorSubject, combineLatest, of } from 'rxjs';\nimport { getModule } from '@placeos/ts-client';\nimport { OrganisationService } from '@placeos/organisation';\nimport { ExploreLockerBankInfoComponent } from './explore-locker-bank-info.component';\nimport { DEFAULT_COLOURS } from './explore-spaces.service';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class ExploreLockersService extends AsyncHandler {\n    private _status = new BehaviorSubject([]);\n    public readonly lockers$ = this._lockers.filtered_lockers$;\n    public readonly status = combineLatest([\n        this._org.active_building,\n        this._explore.level,\n    ]).pipe(\n        map(([_, lvl]) => {\n            if (!lvl) return [];\n            const sys_id = this._org.binding('area_management');\n            if (!sys_id) return of({});\n            let binding = getModule(sys_id, 'AreaManagement').binding(lvl.id);\n            this.subscription(\n                `lvl-in_use`,\n                binding\n                    .listen()\n                    .subscribe(({ value }) =>\n                        this._status.next(\n                            value?.filter((_) => _.location === 'locker') || []\n                        )\n                    )\n            );\n            this.subscription('lvl-in_use_bind', binding.bind());\n        })\n    );\n\n    public readonly locker_status = combineLatest([\n        this._explore.level,\n        this._lockers.lockers_banks$,\n        this.lockers$,\n        this._status,\n    ]).pipe(\n        map(([lvl, locker_banks, lockers, status]) => {\n            const features = [];\n            const map_status = {};\n            const colours = this._settings.get('app.explore.colors') || {};\n            const banks = unique(\n                locker_banks\n                    .filter((_) => _.level_id === lvl.id)\n                    .map((_) => _.id)\n            );\n            for (const bank of banks) {\n                const bank_lockers = lockers.filter((_) => _.bank_id === bank);\n                let in_use_count = 0;\n                for (const locker of bank_lockers) {\n                    const in_use = status.find(\n                        (_) => _.locker_id === locker.id && _.allocated\n                    );\n                    in_use_count += in_use ? 1 : 0;\n                }\n                const bank_info = locker_banks.find((_) => _.id === bank);\n                features.push({\n                    location: bank_info.map_id,\n                    content: ExploreLockerBankInfoComponent,\n                    full_size: true,\n                    no_scale: true,\n                    z_index: 20,\n                    data: {\n                        bank: bank_info,\n                        lockers,\n                        in_use_count,\n                        locker_count: bank_lockers.length,\n                        system: this._org.binding('area_management'),\n                    },\n                });\n                const in_use_percent = in_use_count / bank_lockers.length;\n                const value =\n                    in_use_percent > 0.8\n                        ? 'busy'\n                        : in_use_percent > 0.3\n                        ? 'pending'\n                        : 'free';\n                map_status[`#${bank_info.map_id}`] = {\n                    fill:\n                        colours[`lockers-${value}`] ||\n                        colours[`${value}`] ||\n                        DEFAULT_COLOURS[`${value}`],\n                };\n            }\n            this._explore.setStyles('lockers', map_status);\n            this._explore.setFeatures('lockers', features);\n        })\n    );\n\n    constructor(\n        private _lockers: LockersService,\n        private _explore: ExploreStateService,\n        private _org: OrganisationService,\n        private _settings: SettingsService\n    ) {\n        super();\n        this.subscription(\n            'level',\n            this._explore.level\n                .pipe(filter((_) => !!_))\n                .subscribe((level) => this._lockers.setLevel(level.id))\n        );\n        this.subscription('status', this.status.subscribe());\n        this.subscription('locker_status', this.locker_status.subscribe());\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AsyncHandler } from '@placeos/common';\nimport { first } from 'rxjs/operators';\n\nimport { OrganisationService } from 'libs/organisation/src/lib/organisation.service';\nimport { ExploreStateService } from './explore-state.service';\n\n@Component({\n    selector: 'explore-map-controls',\n    template: `\n        <div class=\"flex space-x-2 w-full\">\n            <mat-form-field\n                overlay\n                buildings\n                class=\"flex-1 min-w-[10.5rem]\"\n                has-bld=\"true\"\n                *ngIf=\"(buildings | async)?.length > 1\"\n                appearance=\"outline\"\n            >\n                <mat-select\n                    placeholder=\"Select Building...\"\n                    i18n-placeholder\n                    [ngModel]=\"building | async\"\n                    (ngModelChange)=\"setBuilding($event)\"\n                >\n                    <mat-option\n                        *ngFor=\"let bld of buildings | async\"\n                        [value]=\"bld\"\n                    >\n                        {{ bld.display_name || bld.name }}\n                    </mat-option>\n                </mat-select>\n            </mat-form-field>\n            <mat-form-field\n                overlay\n                levels\n                class=\"flex-1 min-w-[10.25rem]\"\n                [attr.has-bld]=\"(buildings | async)?.length > 1\"\n                *ngIf=\"(levels | async)?.length\"\n                appearance=\"outline\"\n            >\n                <mat-select\n                    placeholder=\"Select Level...\"\n                    i18n-placeholder\n                    [ngModel]=\"level | async\"\n                    (ngModelChange)=\"setLevel($event)\"\n                >\n                    <mat-option\n                        *ngFor=\"let lvl of levels | async\"\n                        [value]=\"lvl\"\n                    >\n                        {{ lvl.display_name || lvl.name }}\n                    </mat-option>\n                </mat-select>\n            </mat-form-field>\n        </div>\n    `,\n    styles: [\n        `\n            mat-form-field {\n                height: 3.5rem;\n            }\n\n            mat-form-field[has-bld='true'] {\n                max-width: calc(50vw - 2.5rem);\n            }\n\n            :host[full] mat-form-field {\n                max-width: calc(50% - 2.5rem);\n            }\n        `,\n    ],\n})\nexport class ExploreMapControlComponent extends AsyncHandler implements OnInit {\n    /** List of available buildings */\n    public readonly buildings = this._org.active_buildings;\n    /** Currently active building */\n    public readonly building = this._org.active_building;\n    /** List of availabel levels */\n    public readonly levels = this._org.active_levels;\n    /** Currently active level */\n    public readonly level = this._state.level;\n    /** Set the currently active level */\n    public readonly setLevel = (lvl) => {\n        this._state.setFeatures('_located', []);\n        this.timeout(\n            'set_level',\n            () =>\n                this._router.navigate([], {\n                    relativeTo: this._route,\n                    queryParams: { zone: lvl.id },\n                }),\n            201\n        );\n    };\n    /** Set the currenly active building */\n    public readonly setBuilding = (bld) => (this._org.building = bld);\n\n    constructor(\n        private _org: OrganisationService,\n        private _state: ExploreStateService,\n        private _router: Router,\n        private _route: ActivatedRoute\n    ) {\n        super();\n    }\n\n    public async ngOnInit() {\n        await this._org.initialised.pipe(first((_) => _)).toPromise();\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe((params) =>\n                params.has('zone')\n                    ? this._state.setLevel(params.get('zone'))\n                    : ''\n            )\n        );\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { getModule } from '@placeos/ts-client';\nimport { Point } from '@placeos/svg-viewer';\nimport { first, take } from 'rxjs/operators';\n\nimport {\n    AsyncHandler,\n    notifyError,\n    SettingsService,\n    unique,\n} from '@placeos/common';\nimport { MapLocation, showStaff, User } from '@placeos/users';\n\nimport { SpacesService } from 'libs/spaces/src/lib/spaces.service';\nimport { MapPinComponent } from 'libs/components/src/lib/map-pin.component';\nimport { MapRadiusComponent } from 'libs/components/src/lib/map-radius.component';\nimport { OrganisationService } from 'libs/organisation/src/lib/organisation.service';\nimport { SpacePipe } from 'libs/spaces/src/lib/space.pipe';\nimport { ExploreStateService } from './explore-state.service';\nimport { ExploreSpacesService } from './explore-spaces.service';\nimport { ExploreZonesService } from './explore-zones.service';\nimport { ExploreDesksService } from './explore-desks.service';\nimport { ExploreParkingService } from './explore-parking.service';\nimport { ExploreLockersService } from './explore-lockers.service';\n\nconst EMPTY = [];\n\n@Component({\n    selector: 'explore-map-view',\n    template: `\n        <i-map\n            [src]=\"url | async\"\n            [zoom]=\"(positions | async)?.zoom\"\n            [center]=\"(positions | async)?.center\"\n            (zoomChange)=\"updateZoom($event)\"\n            (centerChange)=\"updateCenter($event)\"\n            [styles]=\"styles | async\"\n            [features]=\"features | async\"\n            [actions]=\"actions | async\"\n            [labels]=\"labels | async\"\n        ></i-map>\n        <explore-zoom-controls\n            class=\"absolute bottom-2 right-2\"\n        ></explore-zoom-controls>\n        <div\n            controls\n            class=\"absolute top-2 left-2 max-w-[calc(100vw-1rem)] bg-white dark:bg-neutral-800 border border-gray-200 dark:border-neutral-500 rounded p-2 space-y-2 overflow-hidden\"\n        >\n            <explore-map-controls></explore-map-controls>\n            <div class=\"flex items-center space-x-2\">\n                <mat-slide-toggle\n                    name=\"zones\"\n                    class=\"ml-2\"\n                    [ngModel]=\"!(options | async)?.disable?.includes('zones')\"\n                    (ngModelChange)=\"toggleZones($event)\"\n                ></mat-slide-toggle>\n                <label for=\"zones\" class=\"mb-0\" i18n>Zones</label>\n            </div>\n        </div>\n        <div\n            legend\n            *ngIf=\"show_legend && legend.length\"\n            class=\"absolute bottom-2 left-2 p-2 rounded bg-white dark:bg-neutral-800 border border-gray-300\"\n        >\n            <h3 class=\"mb-2 font-medium\" i18n>Legend</h3>\n            <div\n                class=\"flex items-center space-x-2\"\n                *ngFor=\"let pair of legend\"\n            >\n                <div\n                    class=\"w-3 h-3 rounded-full border border-gray-400\"\n                    [style.background-color]=\"pair[1]\"\n                ></div>\n                <div class=\"text-sm\">{{ pair[0] }}</div>\n            </div>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                height: 100%;\n                width: 100%;\n            }\n\n            [zones] {\n                top: 3.5rem;\n            }\n        `,\n    ],\n    providers: [\n        ExploreSpacesService,\n        ExploreDesksService,\n        ExploreZonesService,\n        ExploreParkingService,\n        ExploreLockersService,\n        SpacePipe,\n    ],\n})\nexport class ExploreMapViewComponent extends AsyncHandler implements OnInit {\n    /** Observable for the active map */\n    public readonly url = this._state.map_url;\n    /** Observable for the active map */\n    public readonly styles = this._state.map_styles;\n    /** Observable for the active map */\n    public readonly positions = this._state.map_positions;\n    /** Observable for the active map */\n    public readonly features = this._state.map_features;\n    /** Observable for the active map */\n    public readonly actions = this._state.map_actions;\n    /** Observable for the labels map */\n    public readonly labels = this._state.map_labels;\n    /** Observable for the active map */\n    public readonly options = this._state.options;\n    /** Observable for user messages */\n    public readonly message = this._state.message;\n\n    public readonly setOptions = (o) => this._state.setOptions(o);\n\n    public async toggleZones(enabled: boolean) {\n        const options = await this.options.pipe(take(1)).toPromise();\n        const disable = !enabled\n            ? unique([...(options.disable || []), 'zones', 'devices'])\n            : options.disable?.filter(\n                  (_) => _ !== 'zones' && _ !== 'devices'\n              ) || [];\n        this.setOptions({ disable });\n    }\n\n    public get show_legend() {\n        return !!this._settings.get('app.explore.show_legend');\n    }\n\n    public get legend(): [string, string][] {\n        return this._settings.get('app.explore.legend') || EMPTY;\n    }\n\n    constructor(\n        private _state: ExploreStateService,\n        private _s: ExploreSpacesService,\n        private _desks: ExploreDesksService,\n        private _zones: ExploreZonesService,\n        private _parking: ExploreParkingService,\n        private _lockers: ExploreLockersService,\n        private _route: ActivatedRoute,\n        private _router: Router,\n        private _spaces: SpacesService,\n        private _org: OrganisationService,\n        private _settings: SettingsService,\n        private _space_pipe: SpacePipe\n    ) {\n        super();\n    }\n\n    public async ngOnInit() {\n        this._state.reset();\n        await this._spaces.initialised.pipe(first((_) => _)).toPromise();\n        this.toggleZones(false);\n        this.subscription('desks', this._desks.startPolling());\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe(async (params) => {\n                if (params.has('level')) {\n                    this._state.setLevel(params.get('level'));\n                }\n                this._state.setFeatures('_located', []);\n                if (params.has('space')) {\n                    this.locateSpace(params.get('space'));\n                } else if (params.has('user')) {\n                    let user = this._settings.value('last_search');\n                    if (!user || params.get('user') !== user.email) {\n                        user = null;\n                        user = await showStaff(params.get('user')).toPromise();\n                    }\n                    if (!user)\n                        return notifyError(\n                            `Unable to user details for ${params.get('user')}`\n                        );\n                    this.locateUser(\n                        user instanceof Array ? user[0] : user\n                    ).catch((_) => {\n                        console.error(_);\n                        notifyError(`Unable to locate ${params.get('user')}`);\n                        this._router.navigate([], {\n                            relativeTo: this._route,\n                            queryParams: {},\n                        });\n                    });\n                } else if (params.has('locate')) {\n                    this._locateFeature(\n                        params.get('locate'),\n                        params.get('name')\n                    );\n                } else {\n                    this.timeout('update_location', () => {\n                        this._state.setFeatures('_located', []);\n                    });\n                }\n            })\n        );\n    }\n\n    public updateZoom(zoom: number) {\n        this._state.setPositions(zoom, this._state.positions.center);\n    }\n\n    public updateCenter(center: Point) {\n        this._state.setPositions(this._state.positions.zoom, center);\n    }\n\n    private _locateFeature(id: string, name = '') {\n        const has_coordinates = id.includes(',');\n        const parts = id.split(',');\n        const feature: any = {\n            track_id: `locate-${id}`,\n            location: has_coordinates\n                ? { x: parseFloat(parts[0]), y: parseFloat(parts[1]) }\n                : id,\n            content: MapPinComponent,\n            z_index: 99,\n            data: { message: name },\n        };\n        this.timeout('update_location', () =>\n            this._state.setFeatures('_located', [feature])\n        );\n    }\n\n    private async locateSpace(id: string) {\n        const space = await this._space_pipe.transform(id);\n        if (!space) return notifyError('Unable to load space details.');\n        this._state.setLevel(this._org.levelWithID(space.zones)?.id);\n        const feature: any = {\n            track_id: `locate-${space.id}`,\n            location: space.map_id,\n            content: MapPinComponent,\n            z_index: 99,\n            data: {\n                message: `${space.display_name || space.name} is here`,\n            },\n        };\n        this.timeout('update_location', () =>\n            this._state.setFeatures('_located', [feature])\n        );\n    }\n\n    private async locateUser(user: User) {\n        let locate_details: any = this._org.binding('location_services');\n        if (!locate_details)\n            throw 'Location services is not setup for this application.';\n        if (typeof locate_details === 'string') {\n            locate_details = {\n                system_id: locate_details,\n                module: 'LocationServices',\n                priority: [],\n            };\n        }\n        const mod = getModule(locate_details.system_id, locate_details.module);\n        const locations: MapLocation[] = (\n            await mod.execute('locate_user', [\n                user.email,\n                user.username || user.id,\n            ])\n        ).map((i) => new MapLocation(i));\n        locations.sort(\n            (a, b) =>\n                locate_details.priority.indexOf(a.type) -\n                locate_details.priority.indexOf(b.type)\n        );\n        if (!locations?.length) {\n            throw 'No locations for the given user';\n        }\n        this._state.setLevel(this._org.levelWithID([locations[0]?.level])?.id);\n        const pos: any = locations[0].position;\n        const { coordinates_from } = locations[0];\n        const feature: any = {\n            track_id: `locate-${user.id}`,\n            location:\n                locations[0].type === 'wireless'\n                    ? {\n                          x: coordinates_from?.includes('right')\n                              ? 1 - pos.x\n                              : pos.x,\n                          y: coordinates_from?.includes('bottom')\n                              ? 1 - pos.y\n                              : pos.y,\n                      }\n                    : pos,\n            content:\n                locations[0].type === 'wireless'\n                    ? MapRadiusComponent\n                    : MapPinComponent,\n            z_index: 99,\n            data: {\n                message: `${user.name} is here`,\n                radius: locations[0].variance,\n                last_seen: locations[0].last_seen,\n            },\n        };\n        this.timeout('update_location', () => {\n            this._state.setFeatures('_located', [feature]);\n        });\n    }\n}\n","import { Injectable } from '@angular/core';\nimport {\n    AsyncHandler,\n    currentUser,\n    flatten,\n    SettingsService,\n} from '@placeos/common';\nimport { showMetadata } from '@placeos/ts-client';\nimport {\n    addDays,\n    endOfDay,\n    getUnixTime,\n    isSameDay,\n    startOfDay,\n} from 'date-fns';\nimport { BehaviorSubject, combineLatest, forkJoin } from 'rxjs';\nimport { map, shareReplay, switchMap } from 'rxjs/operators';\n\nimport { OrganisationService } from 'libs/organisation/src/lib/organisation.service';\nimport { queryBookings } from 'libs/bookings/src/lib/bookings.fn';\nimport { ExploreStateService } from './explore-state.service';\nimport { DEFAULT_COLOURS } from './explore-spaces.service';\n\nexport interface ExploreParkingOptions {\n    date: number;\n    user?: string;\n}\n\n@Injectable()\nexport class ExploreParkingService extends AsyncHandler {\n    private _options = new BehaviorSubject<ExploreParkingOptions>({\n        date: startOfDay(Date.now()).valueOf(),\n    });\n    private _poll = new BehaviorSubject<number>(0);\n\n    public readonly options = this._options.asObservable();\n\n    /** List of available parking levels for the active building */\n    public readonly levels = this._org.active_levels.pipe(\n        map((l) => l.filter((_) => _.tags.includes('parking')))\n    );\n\n    /** List of current bookings for the current building */\n    public readonly events = combineLatest([\n        this._org.active_building,\n        this._options,\n        this._poll,\n    ]).pipe(\n        switchMap(([bld, _]) =>\n            queryBookings({\n                period_start: getUnixTime(startOfDay(_.date)),\n                period_end: getUnixTime(endOfDay(_.date)),\n                type: 'parking',\n                zones: bld?.id,\n            })\n        ),\n        shareReplay(1)\n    );\n    /** Any event that the selected user has for the current date */\n    public readonly existing_event = combineLatest([this._options]).pipe(\n        switchMap(([_]) =>\n            queryBookings({\n                period_start: getUnixTime(startOfDay(_.date)),\n                period_end: getUnixTime(endOfDay(_.date)),\n                type: 'parking',\n                email: _?.user || currentUser()?.email,\n            })\n        ),\n        shareReplay(1)\n    );\n\n    /** List of current bookings for the current building */\n    public readonly week_events = combineLatest([\n        this._org.active_building,\n        this._options,\n    ]).pipe(\n        switchMap(([bld, _]) =>\n            queryBookings({\n                period_start: getUnixTime(startOfDay(_.date)),\n                period_end: getUnixTime(addDays(endOfDay(_.date), 6)),\n                type: 'parking',\n                zones: bld?.id,\n            })\n        ),\n        shareReplay(1)\n    );\n\n    /** List of parking spaces for the active building */\n    public readonly spaces = this.levels.pipe(\n        switchMap((_) =>\n            forkJoin(\n                _.map((l) =>\n                    showMetadata(l.id, 'parking-spaces').pipe(\n                        map((d) =>\n                            d.details.map((s) => ({ ...s, zone_id: l.id }))\n                        )\n                    )\n                )\n            )\n        ),\n        map((_) => flatten(_)),\n        shareReplay(1)\n    );\n\n    /** Available parking spaces for the current level and date */\n    public readonly available_spaces = combineLatest([\n        this.events,\n        this.spaces,\n        this._state.level,\n    ]).pipe(\n        map(([events, spaces, level]) =>\n            spaces.filter(\n                (_) =>\n                    _.zone_id === level?.id &&\n                    !events.find((e) => e.asset_id === _.id)\n            )\n        )\n    );\n\n    public readonly week_availablility = combineLatest([\n        this.week_events,\n        this.spaces,\n        this._options,\n    ]).pipe(\n        map(([events, spaces, { date }]) => {\n            const availability = {};\n            for (let i = 0; i < 7; i++) {\n                const day = addDays(date, i);\n                const day_events = events.filter((_) => isSameDay(day, _.date));\n                availability[day.valueOf()] = spaces.filter(\n                    (_) => !day_events.find((e) => e.asset_id === _.id)\n                ).length;\n            }\n            return availability;\n        })\n    );\n\n    constructor(\n        private _org: OrganisationService,\n        private _state: ExploreStateService,\n        private _settings: SettingsService\n    ) {\n        super();\n        this.subscription(\n            'spaces',\n            combineLatest([this.spaces, this.available_spaces]).subscribe(\n                ([spaces, available]) =>\n                    this._updateParkingSpaces(spaces, available)\n            )\n        );\n        this.interval('poll', () => this._poll.next(Date.now()), 10 * 1000);\n    }\n\n    public setOptions(options: Partial<ExploreParkingOptions>) {\n        this._options.next({ ...this._options.getValue(), ...options });\n    }\n\n    private _updateParkingSpaces(spaces, available) {\n        const styles = {};\n        const labels = [];\n        const colours = this._settings.get('app.explore.colors') || {};\n        for (const space of spaces) {\n            const can_book = !!available.find((_) => _.id === space.id);\n            const status = can_book ? 'free' : 'busy';\n            styles[`#${space.map_id}`] = {\n                fill:\n                    colours[`parking-${status}`] ||\n                    colours[`${status}`] ||\n                    DEFAULT_COLOURS[`${status}`],\n                opacity: 0.6,\n            };\n            if (can_book) {\n                labels.push({\n                    zoom_level: 2,\n                    location: `${space.map_id}`,\n                    content: `${space.name}\\nFree`,\n                });\n            }\n        }\n        this._state.setStyles('parking', styles);\n        this._state.setLabels('parking', labels);\n    }\n}\n","import { Component, ElementRef, HostListener, ViewChild } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AsyncHandler } from '@placeos/common';\n\nimport { ExploreSearchService, SearchResult } from './explore-search.service';\n\n@Component({\n    selector: 'explore-search',\n    template: `\n        <div\n            role=\"search\"\n            tabindex=\"0\"\n            matRipple\n            class=\"bg-white m-2 flex items-center z-10 relative overflow-hidden outline-none\"\n            [class.show]=\"show || search_str\"\n        >\n            <app-icon\n                class=\"text-2xl outline-none\"\n                tabindex=\"0\"\n                (click)=\"show ? closeSearch($event) : showSearch()\"\n            >\n                {{ show || search_str ? 'close' : 'search' }}\n            </app-icon>\n            <input\n                #input\n                keyboard\n                class=\"flex-1 text-base border-none outline-none\"\n                [(ngModel)]=\"search_str\"\n                (ngModelChange)=\"setItem($event)\"\n                placeholder=\"Search for...\"\n                i18n-placeholder\n                (blur)=\"show = !!search_str\"\n                [matAutocomplete]=\"auto\"\n                [matAutocompleteConnectedTo]=\"origin\"\n            />\n            <mat-spinner\n                *ngIf=\"loading | async\"\n                class=\"mr-2\"\n                [diameter]=\"32\"\n            ></mat-spinner>\n            <div\n                class=\"absolute bottom-0 left-8 right-8 min-w-[20rem]\"\n                matAutocompleteOrigin\n                #origin=\"matAutocompleteOrigin\"\n            ></div>\n        </div>\n        <mat-autocomplete #auto=\"matAutocomplete\">\n            <ng-container\n                *ngIf=\"(loading | async) !== true && (show || search_str)\"\n            >\n                <mat-option\n                    *ngIf=\"!(results | async)?.length\"\n                    class=\"pointer-events-none\"\n                    i18n\n                >\n                    No matches found\n                </mat-option>\n                <mat-option\n                    *ngFor=\"let option of results | async | slice: 0:5\"\n                    [value]=\"option\"\n                >\n                    <div\n                        class=\"flex items-center leading-tight w-[26rem] max-w-[calc(100vw-2rem)]\"\n                    >\n                        <div class=\"flex-1 w-1/2 overflow-hidden\">\n                            <div class=\"truncate w-full\">{{ option.name }}</div>\n                            <div class=\"text-xs\">{{ option.description }}</div>\n                        </div>\n                        <div\n                            class=\"text-xs font-bold p-2 capitalize text-white bg-gray-500 rounded\"\n                        >\n                            {{ option.type }}\n                        </div>\n                    </div>\n                </mat-option>\n            </ng-container>\n        </mat-autocomplete>\n    `,\n    styles: [\n        `\n            :host {\n                z-index: 99;\n            }\n\n            [role='search'] {\n                height: 3.125rem;\n                width: 3.125rem;\n                border-radius: 1.5rem;\n                border: 1px solid #ccc;\n                transition: width 200ms;\n            }\n\n            app-icon {\n                margin: 0.55rem;\n            }\n\n            [role='search'].show {\n                width: 32rem;\n                max-width: calc(100vw - 1rem);\n                border-color: #1e88e5;\n            }\n        `,\n    ],\n})\nexport class ExploreSearchComponent extends AsyncHandler {\n    public show = false;\n    public search_str = '';\n    public readonly results = this._search.search_results;\n    public readonly loading = this._search.loading;\n    public readonly setFilter = (s) => this._search.setFilter(s);\n    public readonly setItem = (i) =>\n        i instanceof Object ? this.select(i) : this.setFilter(i);\n\n    @ViewChild('input') private _input_el: ElementRef<HTMLInputElement>;\n\n    @HostListener('document:click', ['$event'])\n    public checkClick(event) {\n        if (!this._el?.nativeElement?.contains(event.target)) {\n            this.show = false;\n            this._input_el?.nativeElement?.blur();\n        }\n    }\n\n    @HostListener('document:touchstart', ['$event']) public onTouch = (e) =>\n        this.checkClick(e);\n\n    constructor(\n        private _el: ElementRef<HTMLElement>,\n        private _search: ExploreSearchService,\n        private _router: Router,\n        private _route: ActivatedRoute\n    ) {\n        super();\n    }\n\n    public showSearch() {\n        this.show = true;\n        if (this._input_el?.nativeElement) {\n            this.timeout(\n                'focus',\n                () => this._input_el.nativeElement.focus(),\n                300\n            );\n        }\n    }\n\n    public closeSearch(e?: any) {\n        this.show = false;\n        this.search_str = '';\n        this.setFilter('');\n        if (this._input_el?.nativeElement) {\n            this._input_el.nativeElement.focus();\n            this._input_el.nativeElement.blur();\n        }\n    }\n\n    public select(item: SearchResult) {\n        this.search_str = item.name;\n        const query: any = {};\n        const type =\n            item.type === 'space'\n                ? 'space'\n                : item.type === 'feature'\n                ? 'feature'\n                : 'user';\n        query[type] = item.id;\n        this._router.navigate([], {\n            relativeTo: this._route,\n            queryParams: query,\n        });\n    }\n}\n","import { Injectable } from '@angular/core';\nimport {\n    PlaceZoneMetadata,\n    authority,\n    listChildMetadata,\n    querySystems,\n    queryUsers,\n} from '@placeos/ts-client';\nimport { SettingsService, unique } from '@placeos/common';\nimport { BehaviorSubject, combineLatest, Observable, of } from 'rxjs';\nimport {\n    catchError,\n    debounceTime,\n    filter,\n    first,\n    map,\n    shareReplay,\n    switchMap,\n    tap,\n} from 'rxjs/operators';\n\nimport { Space } from 'libs/spaces/src/lib/space.class';\nimport { StaffUser, User } from 'libs/users/src/lib/user.class';\nimport { searchStaff } from 'libs/users/src/lib/staff.fn';\nimport { OrganisationService } from 'libs/organisation/src/lib/organisation.service';\nimport { moduleFromMetadata } from '@placeos/organisation';\n\nexport interface SearchResult {\n    /** Unique ID of the result item */\n    id: string;\n    /** Type of the item being displayed */\n    type: 'space' | 'user' | 'contact' | 'feature';\n    /** Main display string for the item */\n    name: string;\n    /** Secondary display string for the item. e.g. email, location, coordinates */\n    description: string;\n}\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class ExploreSearchService {\n    /** Current search results for staff users */\n    private _emergency_contacts = new BehaviorSubject<User[]>([]);\n    /** Filter string for results */\n    private _filter = new BehaviorSubject<string>('');\n    /** Whether results are being loaded */\n    private _loading = new BehaviorSubject<boolean>(false);\n\n    public readonly emergency_contacts =\n        this._emergency_contacts.asObservable();\n\n    private _user_search: Observable<StaffUser[]> = this._filter.pipe(\n        debounceTime(400),\n        tap(() => this._loading.next(true)),\n        switchMap((q) =>\n            q?.length > 2\n                ? (this.search_fn(q) as any as Observable<StaffUser[]>).pipe(\n                      catchError(() => of([] as StaffUser[]))\n                  )\n                : of([] as StaffUser[])\n        ),\n        shareReplay(1)\n    );\n\n    private _space_search: Observable<Space[]> = this._filter.pipe(\n        debounceTime(400),\n        tap(() => this._loading.next(true)),\n        switchMap((q) =>\n            q?.length > 2\n                ? querySystems({ q, zone_id: this._org.organisation.id }).pipe(\n                      map(({ data }) =>\n                          data\n                              .filter((_) => _.map_id)\n                              .map(\n                                  (_) =>\n                                      new Space({\n                                          ..._,\n                                          level: this._org.levelWithID(\n                                              _.zones as any\n                                          ),\n                                      } as any)\n                              )\n                      )\n                  )\n                : of([])\n        ),\n        catchError(() => [])\n    );\n\n    private _points_of_interest: Observable<SearchResult[]> =\n        this._org.active_building.pipe(\n            filter((bld) => !!bld),\n            switchMap(() =>\n                listChildMetadata(this._org.building.id, {\n                    name: 'points_of_interest',\n                }).pipe(catchError(() => of({ details: [] })))\n            ),\n            map((data: PlaceZoneMetadata[]) => {\n                const list = [];\n                for (const item of data) {\n                    const metadata = item.metadata.points_of_interest;\n                    if (!metadata) continue;\n                    for (const poi of metadata.details as any[]) {\n                        list.push({\n                            id: poi.id,\n                            type: 'feature',\n                            name: poi.name,\n                            description: '',\n                            zone: item.zone,\n                        });\n                    }\n                }\n                return list;\n            })\n        );\n\n    public readonly search_results: Observable<SearchResult[]> = combineLatest([\n        this._filter,\n        this._space_search,\n        this._user_search,\n        this._emergency_contacts,\n        this._points_of_interest,\n    ]).pipe(\n        map(([filter, spaces, users, contacts, features]) => {\n            const search = filter.toLowerCase();\n            const results = unique(\n                [\n                    ...spaces\n                        .filter(\n                            (_) =>\n                                _.email.toLowerCase().includes(search) ||\n                                _.name.toLowerCase().includes(search) ||\n                                _.display_name.toLowerCase().includes(search)\n                        )\n                        .map((s) => ({\n                            id: s.id,\n                            type: 'space',\n                            name: s.display_name || s.name,\n                            description: `Capacity: ${s.capacity} `,\n                        })),\n                    ...contacts\n                        .map((u) => ({\n                            id: u.email,\n                            type: (u as any).type || 'contact',\n                            name: u.name,\n                            description: u.email,\n                        }))\n                        .filter(\n                            (_) =>\n                                _.name.toLowerCase().includes(search) ||\n                                _.description.toLowerCase().includes(search) ||\n                                _.type.toLowerCase().includes(search)\n                        ),\n                    ...users.map((u) => ({\n                        id: u.email,\n                        type: 'user',\n                        name: u.name,\n                        description: u.email,\n                    })),\n                    ...features\n                        .filter((_) => _.name.toLowerCase().includes(search))\n                        .map((s) => ({\n                            id: s.id,\n                            type: 'feature',\n                            name: s.name,\n                            description: '',\n                        })),\n                ],\n                'id'\n            );\n            results.sort((a, b) => a.name.localeCompare(b.name));\n            return results;\n        }),\n        tap(() => this._loading.next(false)),\n        shareReplay(1)\n    );\n    /** Obverable for whether results are being loaded */\n    public readonly loading = this._loading.asObservable();\n    /** Function used to query for users */\n    public search_fn = (q: string) =>\n        this._settings.get('app.basic_user_search')\n            ? queryUsers({ q, authority_id: authority()?.id }).pipe(\n                  map((_) => _.data)\n              )\n            : searchStaff(q);\n\n    constructor(\n        private _org: OrganisationService,\n        private _settings: SettingsService\n    ) {\n        this.search_results.subscribe();\n        this.init();\n    }\n\n    public async init() {\n        await this._org.initialised.pipe(first((_) => _)).toPromise();\n        const mod = moduleFromMetadata(\n            this._org.binding('location_services'),\n            'LocationServices'\n        );\n        console.log(\n            'Init Search:',\n            mod,\n            this._org.binding('location_services')\n        );\n        if (mod) {\n            const binding = mod.binding('emergency_contacts');\n            binding.listen().subscribe((contacts_map) => {\n                const list = [];\n                for (const type in contacts_map) {\n                    for (const user of contacts_map[type]) {\n                        list.push({ ...user, type });\n                    }\n                }\n                this._emergency_contacts.next(list);\n            });\n            binding.bind();\n        }\n    }\n\n    public setFilter(str: string) {\n        this._filter.next(str);\n    }\n}\n","import { Component, Inject } from '@angular/core';\nimport { MAP_FEATURE_DATA } from '@placeos/components';\n\nexport interface SensorInfoData {\n    temp: number;\n    humidity: number;\n}\n\n@Component({\n    selector: 'explore-sensor-info',\n    template: `\n        <div\n            class=\"absolute center bg-white rounded-lg border border-gray-300 p-2 text-xl\"\n        >\n            <div\n                class=\"flex items-center space-x-2 whitespace-nowrap pr-2\"\n                *ngIf=\"temp\"\n            >\n                <app-icon>thermostat</app-icon>\n                <div class=\"\">{{ temp }}˚F</div>\n            </div>\n            <div\n                class=\"flex items-center space-x-2 whitespace-nowrap pr-2\"\n                *ngIf=\"humidity\"\n            >\n                <app-icon>opacity</app-icon>\n                <div class=\"\">{{ humidity }}%</div>\n            </div>\n            <div\n                *ngIf=\"temp > 82\"\n                class=\"absolute top-0 right-0 rounded-full translate-x-1/2 -translate-y-1/2 bg-white border border-gray-300\"\n            >\n                <app-icon class=\"text-error text-xl\">error</app-icon>\n            </div>\n        </div>\n    `,\n    styles: [``],\n})\nexport class ExploreSensorInfoComponent {\n    public readonly temp = this._details.temp || 0;\n    public readonly humidity = this._details.humidity || 0;\n\n    constructor(@Inject(MAP_FEATURE_DATA) private _details: SensorInfoData) {}\n}\n","import { Component, ElementRef, Inject, OnInit } from '@angular/core';\nimport { SettingsService } from 'libs/common/src/lib/settings.service';\nimport { MAP_FEATURE_DATA } from 'libs/components/src/lib/interactive-map.component';\nimport { CalendarEvent } from 'libs/events/src/lib/event.class';\nimport { Space } from 'libs/spaces/src/lib/space.class';\n\nexport interface SpaceInfoData {\n    space: Space;\n    events: CalendarEvent[];\n    status:\n        | 'free'\n        | 'busy'\n        | 'pending'\n        | 'reserved'\n        | 'not-bookable'\n        | 'unknown'\n        | '';\n}\n\n@Component({\n    selector: 'explore-space-info',\n    template: `\n        <div\n            #tooltip\n            customTooltip\n            [content]=\"space_tooltip\"\n            [backdrop]=\"false\"\n            [xPosition]=\"'center'\"\n            [yPosition]=\"'center'\"\n            [hover]=\"true\"\n            [delay]=\"3000\"\n            [attr.id]=\"space?.map_id || space?.id\"\n            (mouseenter)=\"updateOffset()\"\n            class=\"h-full w-full pointer-events-auto relative hidden sm:block cursor-pointer\"\n        ></div>\n        <ng-template #space_tooltip>\n            <div\n                name=\"space-info\"\n                [id]=\"space?.id\"\n                class=\"\n                    absolute rounded bg-white dark:bg-neutral-800 top-0 left-0 transform shadow pointer-events-none overflow-hidden\n                \"\n                [class.-translate-x-full]=\"x_pos === 'end'\"\n                [class.-translate-y-full]=\"y_pos === 'bottom'\"\n            >\n                <div class=\"arrow\"></div>\n                <div class=\"relative\">\n                    <div\n                        class=\"w-full overflow-hidden flex items-center justify-center relative bg-opacity-20\"\n                        [class.bg-black]=\"space.images[0]\"\n                        [class.h-32]=\"space.images[0]\"\n                        [class.h-8]=\"!space.images[0]\"\n                    >\n                        <img\n                            *ngIf=\"space.images[0]\"\n                            [src]=\"space.images[0]\"\n                            class=\"object-cover min-h-full min-w-full\"\n                        />\n                        <div\n                            class=\"absolute inset-0 bg-black/30\"\n                            *ngIf=\"space.images[0]\"\n                        ></div>\n                    </div>\n                    <div class=\"absolute top-2 left-2 flex flex-wrap text-sm \">\n                        <div\n                            status\n                            [class]=\"\n                                'capitalize rounded p-1 px-2 text-light border border-white shadow ' +\n                                status\n                            \"\n                        >\n                            { status, select, free { Free } busy { Busy }\n                            pending { Pending } reserved { Reserved } other {\n                            Not Bookable } }\n                        </div>\n                        <div available-until *ngIf=\"status !== 'not-bookable'\">\n                            {{ available_until }}\n                        </div>\n                    </div>\n                    <div class=\"flex flex-col py-4 px-2\">\n                        <h4 class=\"font-medium text-xl mb-2 px-2\">\n                            {{ space.display_name || space.name }}\n                        </h4>\n                        <div\n                            capacity\n                            class=\"text-base px-2 mb-2\"\n                            *ngIf=\"space.capacity >= 0\"\n                        >\n                            <span i18n>Capacity: </span>{{ space.capacity }}\n                            {{ space.capacity === 1 ? 'person' : 'people' }}\n                        </div>\n                        <ul\n                            class=\"flex flex-wrap\"\n                            *ngIf=\"space.features?.length > 0 && show_features\"\n                        >\n                            <li\n                                class=\"text-xs px-2 py-1 m-1 rounded-2xl bg-gray-200 dark:bg-neutral-600 font-medium\"\n                                *ngFor=\"let feature of space.features\"\n                            >\n                                {{ feature }}\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            [name='space-info'] {\n                width: 16rem;\n            }\n\n            [status] {\n                background-color: #43a047;\n                font-weight: 500;\n            }\n\n            [status].busy {\n                background-color: #e53935;\n            }\n\n            [status].pending {\n                background-color: #ffb300;\n            }\n\n            [status].not-bookable {\n                background-color: #757575;\n            }\n        `,\n    ],\n})\nexport class ExploreSpaceInfoComponent implements OnInit {\n    /** Space to display details for */\n    public readonly space = this._details.space;\n    /** List of upcoming events for space */\n    public readonly events = this._details.events;\n    /** Current status of the space */\n    public readonly status = this._details.status;\n\n    public y_pos: 'top' | 'bottom';\n\n    public x_pos: 'start' | 'end';\n\n    public get show_features() {\n        return !this._settings.get('app.spaces.hide_features');\n    }\n\n    constructor(\n        @Inject(MAP_FEATURE_DATA) private _details: SpaceInfoData,\n        private _settings: SettingsService,\n        private _element: ElementRef<HTMLElement>\n    ) {}\n\n    public ngOnInit() {\n        setTimeout(() => this.updateOffset(), 200);\n    }\n\n    public updateOffset() {\n        const pos = this._element.nativeElement.getBoundingClientRect();\n        this.x_pos = pos.x < document.body.clientWidth / 2 ? 'start' : 'end';\n        this.y_pos = pos.y < document.body.clientHeight / 2 ? 'top' : 'bottom';\n    }\n\n    public get available_until() {\n        return '';\n    }\n}\n","import { Injectable, OnDestroy } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { getModule } from '@placeos/ts-client';\nimport { ViewAction, ViewerFeature } from '@placeos/svg-viewer';\nimport { map } from 'rxjs/operators';\n\nimport {\n    AsyncHandler,\n    currentUser,\n    HashMap,\n    SettingsService,\n} from '@placeos/common';\nimport { notifyError } from 'libs/common/src/lib/notifications';\nimport { Space } from 'libs/spaces/src/lib/space.class';\nimport { CalendarEvent } from 'libs/events/src/lib/event.class';\nimport { EventFormService } from 'libs/events/src/lib/event-form.service';\nimport { rulesForSpace } from 'libs/events/src/lib/helpers';\nimport { OrganisationService } from 'libs/organisation/src/lib/organisation.service';\n\nimport { ExploreStateService } from './explore-state.service';\nimport { ExploreSpaceInfoComponent } from './explore-space-info.component';\nimport { ExploreBookingModalComponent } from './explore-booking-modal.component';\nimport { ExploreBookQrComponent } from './explore-book-qr.component';\n\nexport const DEFAULT_COLOURS = {\n    free: '#43a047',\n    pending: '#ffb300',\n    reserved: '#e65100',\n    busy: '#e53935',\n    'signs-of-life': '#1565c0',\n    'not-bookable': '#757575',\n    unknown: '#757575',\n};\n\n@Injectable()\nexport class ExploreSpacesService extends AsyncHandler implements OnDestroy {\n    private _bookings: HashMap<CalendarEvent[]> = {};\n    private _statuses: HashMap<string> = {};\n\n    private _bind = this._state.spaces.pipe(\n        map((list) => {\n            this.unsubWith('b-');\n            this.unsubWith('s-');\n            this._statuses = {};\n            if (!list?.length) return;\n            for (const space of list) {\n                const mod = getModule(space.id, 'Bookings');\n                let binding = mod.binding('bookings');\n                this.subscription(\n                    `b-${space.id}`,\n                    binding\n                        .listen()\n                        .subscribe((d) =>\n                            this.handleBookingsChange(list, space, d)\n                        )\n                );\n                this.subscription(`b-bind-${space.id}`, binding.bind());\n                binding = mod.binding('status');\n                this.subscription(\n                    `s-${space.id}`,\n                    binding\n                        .listen()\n                        .subscribe((d) =>\n                            this.handleStatusChange(list, space, d)\n                        )\n                );\n                this.subscription(`s-bind-${space.id}`, binding.bind());\n            }\n            this.updateActions(list);\n            this.updateHoverElements(list);\n        })\n    );\n\n    constructor(\n        private _state: ExploreStateService,\n        private _settings: SettingsService,\n        private _event_form: EventFormService,\n        private _dialog: MatDialog,\n        private _org: OrganisationService\n    ) {\n        super();\n        this.subscription('spaces', this._bind.subscribe());\n    }\n\n    public bookSpace(space: Space) {\n        const { hidden } =\n            rulesForSpace(\n                { date: Date.now(), duration: 60, space, host: currentUser() },\n                this._org.building.booking_rules\n            ) || {};\n        if (hidden)\n            return notifyError(\n                'You do not have permission to book this space at this time.'\n            );\n        if (this._statuses[space.id] !== 'free' || !space.bookable) {\n            return notifyError(\n                `${\n                    space.display_name || space.name\n                } is unavailable at the current time`\n            );\n        }\n        this._event_form.newForm();\n        this._event_form.form.patchValue({\n            host: currentUser()?.email,\n            resources: [space],\n        });\n        if (this._settings.get('app.events.booking_unavailable')) {\n            return this._event_form.openEventLinkModal();\n        }\n        this._dialog.open(\n            (this._settings.get('app.explore.show_booking_qr')\n                ? ExploreBookQrComponent\n                : ExploreBookingModalComponent) as any,\n            {\n                data: { space },\n            }\n        );\n    }\n\n    public handleBookingsChange(\n        spaces: Space[],\n        space: Space,\n        bookings: HashMap[]\n    ) {\n        if (!bookings) return;\n        this._bookings[space.id] = bookings.map((i) => new CalendarEvent(i));\n        this.timeout(\n            'update_hover_els',\n            () => this.updateHoverElements(spaces),\n            100\n        );\n    }\n\n    public handleStatusChange(spaces: Space[], space: Space, status: string) {\n        this._statuses[space.id] = space.bookable\n            ? status || 'free'\n            : 'not-bookable';\n        this.timeout(\n            'update_statuses',\n            () => {\n                this.clearTimeout('update_hover_els');\n                this.updateStatus(spaces);\n                this.updateHoverElements(spaces);\n            },\n            100\n        );\n    }\n\n    private updateStatus(spaces: Space[]) {\n        const style_map = {};\n        const colours = this._settings.get('app.explore.colors') || {};\n        for (const space of spaces) {\n            const status = this._statuses[space.id] || 'not-bookable';\n            style_map[`#${space.map_id}`] = {\n                fill:\n                    colours[`space-${status}`] ||\n                    colours[`${status}`] ||\n                    DEFAULT_COLOURS[`${status}`],\n                opacity: 0.6,\n            };\n        }\n        this._state.setStyles('spaces', style_map);\n    }\n\n    private updateHoverElements(spaces: Space[]) {\n        const features: ViewerFeature[] = [];\n        for (const space of spaces) {\n            if (!space.map_id) continue;\n            features.push({\n                location: space.map_id,\n                full_size: true,\n                no_scale: true,\n                content: ExploreSpaceInfoComponent,\n                data: {\n                    space: new Space(space),\n                    events: this._bookings[space.id],\n                    status: this._statuses[space.id],\n                },\n            } as any);\n        }\n        this._state.setFeatures('spaces', features);\n    }\n\n    private updateActions(spaces: Space[]) {\n        const actions: ViewAction[] = [];\n        for (const space of spaces) {\n            if (!space.map_id) continue;\n            actions.push({\n                id: space.map_id,\n                action: 'click',\n                callback: () => this.bookSpace(space),\n            });\n            actions.push({\n                id: space.map_id,\n                action: 'touchend',\n                callback: () => this.bookSpace(space),\n            });\n        }\n        this.timeout(\n            'set-actions',\n            () => this._state.setActions('spaces', actions),\n            50\n        );\n    }\n}\n","import { Injectable } from '@angular/core';\nimport {\n    Point,\n    ViewAction,\n    ViewerFeature,\n    ViewerLabel,\n    ViewerStyles,\n} from '@placeos/svg-viewer';\nimport { querySystems } from '@placeos/ts-client';\nimport { BehaviorSubject, combineLatest, of } from 'rxjs';\nimport {\n    catchError,\n    debounceTime,\n    filter,\n    first,\n    map,\n    shareReplay,\n    switchMap,\n} from 'rxjs/operators';\n\nimport {\n    AsyncHandler,\n    HashMap,\n    SettingsService,\n    unique,\n} from '@placeos/common';\nimport { BuildingLevel } from 'libs/organisation/src/lib/level.class';\nimport { OrganisationService } from 'libs/organisation/src/lib/organisation.service';\nimport { Space } from 'libs/spaces/src/lib/space.class';\nimport { SpacesService } from 'libs/spaces/src/lib/spaces.service';\n\nexport interface MapOptions {\n    /** List of keys to ignore for any map resource */\n    disable?: string[];\n    /** List of keys to ignore for map labels */\n    disable_labels?: string[];\n    /** List of keys to ignore for map actions */\n    disable_actions?: string[];\n    /** List of keys to ignore for map features */\n    disable_features?: string[];\n    /** List of keys to ignore for map styles */\n    disable_styles?: string[];\n}\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class ExploreStateService extends AsyncHandler {\n    /** Currently active level */\n    private _level = new BehaviorSubject<BuildingLevel>(null);\n    /** Currently active level */\n    private _positions = new BehaviorSubject<{ zoom: number; center: Point }>({\n        zoom: 1,\n        center: { x: 0.5, y: 0.5 },\n    });\n    /** Mapping of groups to their styles */\n    private _styles = new BehaviorSubject<HashMap<ViewerStyles>>({});\n    /** Mapping of groups to their features */\n    private _features = new BehaviorSubject<HashMap<ViewerFeature[]>>({});\n    /** Mapping of groups to their actions */\n    private _actions = new BehaviorSubject<HashMap<ViewAction[]>>({});\n    /** Mapping of groups to their actions */\n    private _labels = new BehaviorSubject<HashMap<ViewerLabel[]>>({});\n\n    private _options = new BehaviorSubject<MapOptions>({\n        disable: ['zones', 'devices'],\n    });\n\n    private _message = new BehaviorSubject<string>('');\n\n    /** Currently active level */\n    public readonly level = this._level.asObservable();\n    /** Currently active level */\n    public readonly message = this._message.asObservable();\n    /** Spaces associated with the active level */\n    public readonly spaces = this._level.pipe(\n        switchMap((level) =>\n            querySystems({ zone_id: level?.id, limit: 50 }).pipe(\n                map(({ data }) => data.map((_) => new Space(_ as any))),\n                catchError((_) => of([] as Space[]))\n            )\n        ),\n        shareReplay(1)\n    );\n    /** Currently shown space's map URL */\n    public readonly map_url = this._level.pipe(\n        map((lvl) => (lvl ? lvl.map_id : '') || '')\n    );\n    /** Currently center and zoom positions for map */\n    public readonly map_positions = this._positions.asObservable();\n    /** Currently center and zoom positions for map */\n    public readonly map_features = combineLatest([\n        this._features,\n        this._options,\n    ]).pipe(\n        debounceTime(200),\n        map(([features, options]) => {\n            let list = [];\n            for (const key in features) {\n                if (\n                    options.disable?.includes(key) ||\n                    options.disable_features?.includes(key)\n                )\n                    continue;\n                list = list.concat(features[key]);\n            }\n            return list;\n        })\n    );\n    /** Currently center and zoom positions for map */\n    public readonly map_actions = combineLatest([\n        this._actions,\n        this._options,\n    ]).pipe(\n        debounceTime(200),\n        map(([actions, options]) => {\n            let list = [];\n            for (const key in actions) {\n                if (\n                    options.disable?.includes(key) ||\n                    options.disable_actions?.includes(key)\n                )\n                    continue;\n                list = list.concat(actions[key]);\n            }\n            return list;\n        })\n    );\n    /** Currently center and zoom positions for map */\n    public readonly map_labels = combineLatest([\n        this._labels,\n        this._options,\n    ]).pipe(\n        debounceTime(200),\n        map(([labels, options]) => {\n            let list = [];\n            for (const key in labels) {\n                if (\n                    options.disable?.includes(key) ||\n                    options.disable_labels?.includes(key)\n                )\n                    continue;\n                list = list.concat(labels[key]);\n            }\n            return list;\n        })\n    );\n    /** Current map styles */\n    public readonly map_styles = combineLatest([\n        this._styles,\n        this._options,\n    ]).pipe(\n        debounceTime(200),\n        map(([styles, options]) => {\n            let style_mappings = { text: { display: 'none' } };\n            for (const key in styles) {\n                if (\n                    options.disable?.includes(key) ||\n                    options.disable_styles?.includes(key)\n                )\n                    continue;\n                style_mappings = { ...style_mappings, ...styles[key] };\n            }\n            if (options.disable?.includes('zones')) {\n                style_mappings['#zones'] = { display: 'none' };\n                style_mappings['#Zones'] = { display: 'none' };\n            }\n            return style_mappings;\n        })\n    );\n\n    public readonly options = this._options.asObservable();\n\n    public get positions() {\n        return this._positions.getValue();\n    }\n\n    public get active_level() {\n        return this._level.getValue();\n    }\n\n    constructor(\n        private _org: OrganisationService,\n        private _spaces: SpacesService,\n        private _settings: SettingsService\n    ) {\n        super();\n        this.init();\n    }\n\n    public async init() {\n        await this._org.initialised.pipe(first((_) => _)).toPromise();\n        this._org.active_building.pipe(filter((_) => !!_)).subscribe((bld) => {\n            const level = this._level.getValue();\n            const level_list = this._org.levelsForBuilding(bld);\n            const has_level = level_list.find((lvl) => level?.id === lvl.id);\n            if (!has_level && level_list.length) {\n                this.setLevel(level_list[0].id);\n            }\n            if (this._settings.get('app.explore.disable_actions')) {\n                this.setOptions({\n                    disable_actions: this._settings.get(\n                        'app.explore.disable_actions'\n                    ),\n                });\n            }\n            if (this._settings.get('app.explore.disable_labels')) {\n                this.setOptions({\n                    disable_labels: this._settings.get(\n                        'app.explore.disable_labels'\n                    ),\n                });\n            }\n            if (this._settings.get('app.explore.disable_features')) {\n                this.setOptions({\n                    disable_features: this._settings.get(\n                        'app.explore.disable_features'\n                    ),\n                });\n            }\n            if (this._settings.get('app.explore.disable_styles')) {\n                this.setOptions({\n                    disable_styles: this._settings.get(\n                        'app.explore.disable_styles'\n                    ),\n                });\n            }\n        });\n    }\n\n    public setOptions(options: MapOptions) {\n        const old_options = this._options.getValue();\n        const disable = unique([\n            ...(options.disable || old_options.disable),\n            ...(this._settings.get('app.explore.disable') || []),\n        ]);\n        this._options.next({\n            ...this._options.getValue(),\n            ...options,\n            disable,\n        });\n    }\n\n    public reset() {\n        this._styles.next({});\n        this._features.next({});\n        this._labels.next({});\n        this._actions.next({});\n        this.setPositions(1, { x: 0.5, y: 0.5 });\n    }\n\n    public setLevel(zone_id: string) {\n        const lvl = this._org.levelWithID([zone_id]);\n        if (lvl) this._level.next(lvl);\n    }\n\n    public setStyles(name: string, styles: ViewerStyles) {\n        const style_map = this._styles.getValue();\n        style_map[name] = styles;\n        this._styles.next(style_map);\n    }\n\n    public setFeatures(name: string, features: ViewerFeature[]) {\n        const feature_map = this._features.getValue();\n        feature_map[name] = features;\n        this._features.next(feature_map);\n    }\n\n    public setActions(name: string, actions: ViewAction[]) {\n        const actions_map = this._actions.getValue();\n        actions_map[name] = actions;\n        this._actions.next(actions_map);\n    }\n\n    public setLabels(name: string, labels: ViewerLabel[]) {\n        const labels_map = this._labels.getValue();\n        labels_map[name] = labels;\n        this._labels.next(labels_map);\n    }\n\n    public setPositions(zoom: number, center: Point) {\n        this._positions.next({ zoom, center });\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { getModule, showMetadata } from '@placeos/ts-client';\nimport { ViewerLabel, Point, ViewerFeature } from '@placeos/svg-viewer';\nimport { first, map } from 'rxjs/operators';\n\nimport { AsyncHandler, HashMap, SettingsService } from '@placeos/common';\nimport { OrganisationService } from 'libs/organisation/src/lib/organisation.service';\n\nimport { ExploreStateService } from './explore-state.service';\nimport { DEFAULT_COLOURS } from './explore-spaces.service';\nimport { MapPolygonComponent } from 'libs/components/src/lib/map-polygon.component';\nimport { ExploreSensorInfoComponent } from './explore-sensor-info.component';\n\nconst EMPTY_LABEL = { location: { x: -10, y: -10 }, content: '0% Usage' };\n\nexport interface ZoneData {\n    /** ID of the zone */\n    area_id: string;\n    /** Number of devices in the zone */\n    count: number;\n\n    temperature: number;\n    people_count: number;\n    people_count_sum: number;\n    humidity: number;\n    queue_size: number;\n    counter: number;\n}\n\n@Injectable()\nexport class ExploreZonesService extends AsyncHandler {\n    private _statuses: HashMap<string> = {};\n    private _location: HashMap<Point> = {};\n    private _capacity: HashMap<number> = {};\n    private _draw: HashMap<boolean> = {};\n    private _points: HashMap<[number, number][]> = {};\n    private _features: ViewerFeature[] = [];\n\n    private _bind = this._state.level.pipe(\n        map((lvl) => {\n            if (!lvl) return;\n            this._statuses = {};\n            let system_id: any = this._org.binding('area_management');\n            if (!system_id) return;\n            const binding = getModule(system_id, 'AreaManagement').binding(\n                `${lvl.id}:areas`\n            );\n            this.subscription(\n                `zones`,\n                binding.listen().subscribe((d) => this.parseData(d))\n            );\n            this.subscription('binding', binding.bind());\n        })\n    );\n\n    constructor(\n        private _state: ExploreStateService,\n        private _org: OrganisationService,\n        private _settings: SettingsService\n    ) {\n        super();\n        this.init();\n    }\n\n    public async init() {\n        await this._org.initialised.pipe(first((_) => _)).toPromise();\n        const zone_metadata = await Promise.all(\n            this._org.levels.map((bld) =>\n                showMetadata(bld.id, 'map_regions').toPromise()\n            )\n        );\n        for (const zone of zone_metadata) {\n            const areas = (zone?.details as any)?.areas;\n            if (!areas) continue;\n            for (const area of areas) {\n                const { capacity, hide_label, label_location, draw_polygon } =\n                    area.properties || {};\n                const { coordinates } = area.geometry || {};\n                this._capacity[area.id] = capacity || 100;\n                this._location[area.id] =\n                    hide_label === false\n                        ? label_location ||\n                          (coordinates?.length\n                              ? getCenterPoint(coordinates)\n                              : null)\n                        : null;\n                this._draw[area.id] =\n                    !!draw_polygon ||\n                    this._settings.get('app.explore.use_zone_polygons');\n                this._points[area.id] = coordinates || [];\n            }\n        }\n        this.updateStatus();\n        this.subscription('bind', this._bind.subscribe());\n    }\n\n    public parseData(data?: { value: ZoneData[] }) {\n        const value = data?.value || [];\n        const labels = [];\n        const features = [];\n        for (const zone of value) {\n            const filled = zone.count / (this._capacity[zone.area_id] || 100);\n            this._statuses[zone.area_id] =\n                filled < 0.4 ? 'free' : filled < 0.75 ? 'pending' : 'busy';\n            if (!this._location[zone.area_id]) continue;\n            let content = '';\n            if (zone.count) {\n                content += `${zone.count || 0} User Device${\n                    zone.count === 1 ? '' : 's'\n                }\\n`;\n            }\n            if (zone.temperature)\n                content += `Temperature: ${zone.temperature} ˚C\\n`;\n            if (zone.people_count > 0)\n                content += `${zone.people_count_sum} ${\n                    zone.people_count_sum === 1 ? 'Person' : 'People'\n                }\\n`;\n            if (zone.humidity) content += `Humidity: ${zone.humidity}%\\n`;\n            if (zone.queue_size) content += `Queue Size: ${zone.queue_size}%\\n`;\n            if (zone.counter) content += `Count: ${zone.counter}\\n`;\n            labels.push({\n                location: this._location[zone.area_id],\n                content,\n                z_index: 100,\n            });\n            if (\n                this._settings.get('app.explore.show_simple_sensor_info') &&\n                (zone.temperature || zone.humidity)\n            ) {\n                features.push({\n                    location: this._location[zone.area_id],\n                    content: ExploreSensorInfoComponent,\n                    data: { temp: zone.temperature, humidity: zone.humidity },\n                    z_index: 98,\n                });\n            }\n        }\n        this._features = features;\n        if (!this._settings.get('app.explore.show_simple_sensor_info')) {\n            this._state.setLabels('zones', labels);\n        }\n        this.updateStatus();\n    }\n\n    private updateStatus() {\n        const style_map = {};\n        const features = [];\n        const colours = this._settings.get('app.explore.colors') || {};\n        for (const zone_id in this._statuses) {\n            const colour =\n                colours[`zone-${this._statuses[zone_id]}`] ||\n                colours[`${this._statuses[zone_id]}`] ||\n                DEFAULT_COLOURS[`${this._statuses[zone_id]}`];\n            if (this._draw[zone_id]) {\n                features.push({\n                    track_id: `zone:${zone_id}`,\n                    location: getCenterPoint(this._points[zone_id]),\n                    content: MapPolygonComponent,\n                    data: {\n                        color: colour,\n                        points: this._points[zone_id],\n                    },\n                    z_index: 10,\n                });\n            } else {\n                style_map[`#${zone_id}`] = {\n                    fill: colour,\n                    opacity: 0.6,\n                };\n            }\n        }\n        this._state.setFeatures('zones', [...features, this._features]);\n        this._state.setStyles('zones', style_map);\n    }\n}\n\nfunction getCenterPoint(points: [number, number][]) {\n    const diff: HashMap<number> = (points || []).reduce(\n        (m, [x, y]) => ({\n            x_min: x < m.x_min ? x : m.x_min,\n            x_max: x > m.x_max ? x : m.x_max,\n            y_min: y < m.y_min ? y : m.y_min,\n            y_max: y > m.y_max ? y : m.y_max,\n        }),\n        {\n            x_min: 100,\n            x_max: -100,\n            y_min: 100,\n            y_max: -100,\n        }\n    );\n    return {\n        x: diff.x_min + (diff.x_max - diff.x_min) / 2,\n        y: diff.y_min + (diff.y_max - diff.y_min) / 2,\n    };\n}\n","import { Component } from '@angular/core';\nimport { ExploreStateService } from './explore-state.service';\n\n@Component({\n    selector: `explore-zoom-controls`,\n    template: `\n        <button\n            z-in\n            icon\n            matRipple\n            class=\"bg-white dark:bg-neutral-800\"\n            (click)=\"zoomIn()\"\n            matTooltip=\"Zoom In\"\n            i18n-matTooltip\n        >\n            <app-icon>add</app-icon>\n        </button>\n        <button\n            z-out\n            icon\n            matRipple\n            class=\"bg-white dark:bg-neutral-800\"\n            (click)=\"zoomOut()\"\n            matTooltip=\"Zoom Out\"\n            i18n-matTooltip\n        >\n            <app-icon>remove</app-icon>\n        </button>\n        <button\n            reset\n            icon\n            matRipple\n            class=\"bg-white dark:bg-neutral-800\"\n            (click)=\"reset()\"\n            matTooltip=\"Reset Zoom & Center\"\n            i18n-matTooltip\n        >\n            <app-icon>autorenew</app-icon>\n        </button>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n            }\n\n            button {\n                border: 1px solid #9998;\n                border-radius: 0;\n            }\n\n            button:first-child {\n                border-radius: 0.25rem 0.25rem 0 0;\n                border-bottom: none;\n            }\n\n            button:last-child {\n                border-radius: 0 0 0.25rem 0.25rem;\n                border-top: none;\n            }\n        `,\n    ],\n})\nexport class ExploreZoomControlComponent {\n    public readonly zoomIn = () =>\n        this._state.setPositions(\n            Math.min(10, this._state.positions.zoom * 1.2),\n            this._state.positions.center\n        );\n    public readonly zoomOut = () =>\n        this._state.setPositions(\n            Math.max(1, this._state.positions.zoom * (1 / 1.2)),\n            this._state.positions.center\n        );\n    public readonly reset = () =>\n        this._state.setPositions(1, { x: 0.5, y: 0.5 });\n\n    constructor(private _state: ExploreStateService) {}\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { ComponentsModule } from '@placeos/components';\n\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\nimport { OverlayModule } from '@angular/cdk/overlay';\nimport { PortalModule } from '@angular/cdk/portal';\n\nimport { FormFieldsModule } from 'libs/form-fields/src/lib/form-fields.module';\nimport { SharedBookingsModule } from 'libs/bookings/src/lib/bookings.module';\n\nimport { ExploreMapControlComponent } from './explore-map-control.component';\nimport { ExploreMapViewComponent } from './explore-map-view.component';\nimport { ExploreSearchComponent } from './explore-search.component';\nimport { ExploreSpaceInfoComponent } from './explore-space-info.component';\nimport { ExploreZoomControlComponent } from './explore-zoom-control.component';\nimport { ExploreDeviceInfoComponent } from './explore-device-info.component';\nimport { ExploreBookingModalComponent } from './explore-booking-modal.component';\nimport { ExploreDeskInfoComponent } from './explore-desk-info.component';\nimport { SetDatetimeModalComponent } from './set-datetime-modal.component';\nimport { ExploreBookQrComponent } from './explore-book-qr.component';\nimport { ExploreSensorInfoComponent } from './explore-sensor-info.component';\nimport { ExploreLockerBankInfoComponent } from './explore-locker-bank-info.component';\nimport { ExploreLockerBankModalComponent } from './explore-locker-bank-modal.component';\n\nconst COMPONENTS: Type<any>[] = [\n    ExploreMapControlComponent,\n    ExploreMapViewComponent,\n    ExploreSearchComponent,\n    ExploreSpaceInfoComponent,\n    ExploreDeviceInfoComponent,\n    ExploreDeskInfoComponent,\n    ExploreZoomControlComponent,\n    ExploreBookingModalComponent,\n    SetDatetimeModalComponent,\n    ExploreBookQrComponent,\n    ExploreSensorInfoComponent,\n    ExploreLockerBankInfoComponent,\n    ExploreLockerBankModalComponent,\n];\n\n@NgModule({\n    declarations: [...COMPONENTS],\n    imports: [\n        CommonModule,\n        ComponentsModule,\n        FormsModule,\n        ReactiveFormsModule,\n        MatSlideToggleModule,\n        OverlayModule,\n        PortalModule,\n        FormFieldsModule,\n        SharedBookingsModule,\n    ],\n    exports: [...COMPONENTS],\n})\nexport class SharedExploreModule {}\n","\nexport * from './explore-desks.service';\nexport * from './explore-map-control.component';\nexport * from './explore-map-view.component';\nexport * from './explore-search.component';\nexport * from './explore-search.service';\nexport * from './explore-space-info.component';\nexport * from './explore-spaces.service';\nexport * from './explore-state.service';\nexport * from './explore-zones.service';\nexport * from './explore-zoom-control.component';\nexport * from './explore-parking.service';\nexport * from './explore.module';\n","import { Component, Inject } from '@angular/core';\nimport { FormControl, FormGroup } from '@angular/forms';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { BookingAsset } from 'libs/bookings/src/lib/booking-form.service';\nimport { User } from 'libs/users/src/lib/user.class';\n\n@Component({\n    selector: 'set-datetime-modal',\n    template: `\n        <header classs=\"flex items-center justify-between\">\n            <h2>Set date and time</h2>\n            <button icon mat-dialog-close>\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <main\n            *ngIf=\"form\"\n            [formGroup]=\"form\"\n            class=\"w-[24rem] max-w-[85vw] pt-4\"\n        >\n            <div\n                *ngIf=\"resource\"\n                class=\"flex flex-col sm:flex-row space-x-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n            >\n                <div class=\"flex flex-col flex-1 w-full sm:w-1/4 mb-4\">\n                    <label>Resource:</label>\n                    <p class=\"p-4\">\n                        {{\n                            resource.name ||\n                                resource.map_id ||\n                                'Unknown Resource'\n                        }}\n                    </p>\n                </div>\n            </div>\n            <div\n                *ngIf=\"host\"\n                class=\"flex flex-col sm:flex-row space-x-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n            >\n                <div class=\"flex flex-col flex-1 w-full sm:w-1/4\">\n                    <label>Host</label>\n                    <a-user-search-field\n                        formControlName=\"user\"\n                    ></a-user-search-field>\n                </div>\n            </div>\n            <div\n                class=\"flex flex-col sm:flex-row space-x-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n            >\n                <div class=\"flex flex-col flex-1 w-full sm:w-1/4\">\n                    <label>Date</label>\n                    <a-date-field [to]=\"book_until\" formControlName=\"date\">\n                        Date and time must be in the future\n                    </a-date-field>\n                </div>\n            </div>\n            <div\n                class=\"flex flex-col sm:flex-row space-x-0 sm:space-x-2 w-[640px] max-w-[calc(100%-2rem)] mx-auto\"\n            >\n                <div class=\"flex flex-col flex-1 w-full sm:w-1/3\">\n                    <label>Start Time</label>\n                    <a-time-field\n                        [ngModel]=\"form.value.date\"\n                        (ngModelChange)=\"form.patchValue({ date: $event })\"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                    ></a-time-field>\n                </div>\n                <div class=\"flex flex-col flex-1 w-full sm:w-1/3\">\n                    <label>End Time</label>\n                    <a-duration-field\n                        formControlName=\"duration\"\n                        [time]=\"form.get('date')?.value\"\n                        [max]=\"12 * 60\"\n                        [min]=\"60\"\n                        [step]=\"60\"\n                    >\n                    </a-duration-field>\n                </div>\n            </div>\n        </main>\n        <footer\n            class=\"w-full p-2 border-t border-gray-200 flex items-center justify-center\"\n        >\n            <button btn matRipple [mat-dialog-close]=\"form.value\" class=\"w-32\">\n                Continue\n            </button>\n        </footer>\n    `,\n    styles: [``],\n})\nexport class SetDatetimeModalComponent {\n    public host = this._data.host;\n    public form = new FormGroup({\n        user: new FormControl(this._data.user),\n        date: new FormControl(this._data.date),\n        duration: new FormControl(this._data.duration),\n    });\n\n    public readonly book_until = this._data.until;\n    public readonly resource = this._data.resource;\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA)\n        private _data: {\n            date: number;\n            duration: number;\n            until: number;\n            host: boolean;\n            user?: User;\n            resource: BookingAsset;\n        }\n    ) {}\n}\n","export * from './lib/form-fields.module';\n\nexport * from './lib/action-field.component';\nexport * from './lib/counter.component';\nexport * from './lib/date-field.component';\nexport * from './lib/duration-field.component';\nexport * from './lib/time-field.component';\nexport * from './lib/user-list-field.component';\nexport * from './lib/user-search-field.component';\nexport * from './lib/image-list-field.component';","import { Component, Input, Output, EventEmitter } from '@angular/core';\n\n@Component({\n    selector: 'an-action-field',\n    template: `\n        <button\n            class=\"flex items-center rounded p-2 border border-gray-300 hover:border-black w-full\"\n            type=\"button\"\n            role=\"button\"\n            [attr.disabled]=\"disabled\"\n            [attr.name]=\"name\"\n            form-field\n            tabindex=\"0\"\n            (keydown.enter)=\"performAction()\"\n        >\n            <div\n                placeholder\n                class=\"flex-1 w-0 truncate\"\n                (click)=\"performAction()\"\n            >\n                <ng-content></ng-content>\n            </div>\n            <app-icon class=\"text-xl\" (click)=\"performAction()\">\n                arrow_drop_{{ show_tooltip ? 'up' : 'down' }}\n            </app-icon>\n        </button>\n    `,\n    styles: [\n        `\n            :host > div:hover {\n                box-shadow: inset 0 0 0 1px #000;\n            }\n        `,\n    ],\n})\nexport class ActionFieldComponent {\n    /** Name of the field */\n    @Input() public name: string;\n    /** Whether form field is disabled */\n    @Input() public disabled: boolean;\n    /** Emitter for user interaction events */\n    @Output('onAction') public on_action = new EventEmitter();\n    /** Whether to show tooltip */\n    public show_tooltip = false;\n\n    /**\n     * Emit that the user has performed an action on the field\n     */\n    public performAction() {\n        this.show_tooltip = !this.show_tooltip;\n        this.on_action.emit();\n    }\n}\n","import { Component, forwardRef, Input } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\n@Component({\n    selector: 'a-counter',\n    template: `\n        <div\n            counter\n            class=\"flex items-center text-base\"\n            (window:keydown.shift)=\"shift_key = true\"\n            (window:keydown.control)=\"ctrl_key = true\"\n            (window:keydown.meta)=\"ctrl_key = true\"\n            (window:keyup.shift)=\"shift_key = false\"\n            (window:keyup.control)=\"ctrl_key = false\"\n            (window:keyup.meta)=\"ctrl_key = false\"\n        >\n            <button\n                icon\n                matRipple\n                name=\"remove\"\n                type=\"button\"\n                [disabled]=\"!value || value === min\"\n                (click)=\"remove()\"\n            >\n                <app-icon>remove</app-icon>\n            </button>\n            <div value class=\"p-1 text-center\">\n                {{ (render_fn ? render_fn(value) : value) || '0' }}\n            </div>\n            <button\n                icon\n                matRipple\n                name=\"add\"\n                type=\"button\"\n                [disabled]=\"value === max\"\n                (click)=\"add()\"\n            >\n                <app-icon>add</app-icon>\n            </button>\n        </div>\n    `,\n    styles: [\n        `\n            [value] {\n                min-width: 3em;\n            }\n        `,\n    ],\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            /* istanbul ignore next */\n            useExisting: forwardRef(() => CounterComponent),\n            multi: true,\n        },\n    ],\n})\nexport class CounterComponent implements ControlValueAccessor {\n    /** Size of a single step */\n    @Input() public step = 1;\n    /** Maximum amount for the counter */\n    @Input() public max = 10;\n    /** Minimum amount for the counter */\n    @Input() public min = 0;\n    /** Custom function for rendering the counter value */\n    @Input() public render_fn: (v: number) => string;\n    /** Current value of the counter */\n    public value: number;\n    /** Whether shift key is being held by the user */\n    public shift_key: boolean;\n    /** Whether control key is being held by the user */\n    public ctrl_key: boolean;\n\n    /** Form control on change handler */\n    private _onChange: (_: number) => void;\n    /** Form control on touch handler */\n    private _onTouch: (_: number) => void;\n\n    /**\n     * Add the `step` to the current value\n     */\n    public add() {\n        if (!this.value) {\n            this.value = this.min || 0;\n        }\n        const step = this.ctrl_key\n            ? 100 * this.step\n            : this.shift_key\n            ? 10 * this.step\n            : this.step || 1;\n        this.value += step;\n        if (this.value > this.max) {\n            this.value = this.max || 10;\n        }\n        this.setValue(this.value);\n    }\n\n    /** Remove the `step` from the current value */\n    public remove() {\n        if (!this.value) {\n            this.value = this.min || 0;\n        }\n        const step = this.ctrl_key\n            ? 100 * this.step\n            : this.shift_key\n            ? 10 * this.step\n            : this.step || 1;\n        this.value -= step;\n        if (this.value < this.min) {\n            this.value = this.min || 0;\n        }\n        this.setValue(this.value);\n    }\n\n    /**\n     * Update the form field value\n     * @param new_value New value to set on the form field\n     */\n    public setValue(new_value: number): void {\n        this.value = new_value;\n        /* istanbul ignore else */\n        if (this._onChange) {\n            this._onChange(new_value);\n        }\n    }\n\n    /**\n     * Update local value when form control value is changed\n     * @param value The new value for the component\n     */\n    public writeValue(value: number) {\n        this.value = value;\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Registers a callback function that is called when the control's value changes in the UI.\n     * @param fn The callback function to register\n     */\n    public registerOnChange(fn: (_: number) => void): void {\n        this._onChange = fn;\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Registers a callback function is called by the forms API on initialization to update the form model on blur.\n     * @param fn The callback function to register\n     */\n    public registerOnTouched(fn: (_: number) => void): void {\n        this._onTouch = fn;\n    }\n}\n","import {\n    Component,\n    forwardRef,\n    Injectable,\n    Input,\n    OnInit,\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport {\n    DateAdapter,\n    MatDateFormats,\n    MAT_DATE_FORMATS,\n    NativeDateAdapter,\n} from '@angular/material/core';\nimport {\n    addYears,\n    endOfDay,\n    format,\n    formatISO,\n    set,\n    startOfDay,\n} from 'date-fns';\nimport { AsyncHandler } from 'libs/common/src/lib/async-handler.class';\nimport { HashMap } from 'libs/common/src/lib/types';\n\n@Injectable()\nclass FieldDateAdapter extends NativeDateAdapter {\n    format(date: Date, displayFormat: HashMap | string): string {\n        if (displayFormat === 'input') {\n            return format(date, 'MMMM d, yyyy');\n        }\n        return format(date, 'MMM yyyy');\n    }\n}\nconst FIELD_DATE_FORMATS: MatDateFormats = {\n    parse: {\n        dateInput: 'LL',\n    },\n    display: {\n        dateInput: 'input',\n        monthYearLabel: 'MMM YYYY',\n        dateA11yLabel: 'LL',\n        monthYearA11yLabel: 'MMMM YYYY',\n    },\n};\n\n@Component({\n    selector: 'a-date-field',\n    template: `\n        <mat-form-field appearance=\"outline\" (click)=\"picker.open()\">\n            <input\n                matInput\n                [ngModel]=\"date\"\n                [disabled]=\"disabled\"\n                [min]=\"from\"\n                [max]=\"until\"\n                (ngModelChange)=\"setValue($event)\"\n                [matDatepicker]=\"picker\"\n            />\n            <mat-datepicker-toggle\n                matSuffix\n                [for]=\"picker\"\n            ></mat-datepicker-toggle>\n            <mat-datepicker #picker></mat-datepicker>\n            <mat-error><ng-content></ng-content></mat-error>\n        </mat-form-field>\n    `,\n    styles: [\n        `\n            mat-form-field {\n                width: 100%;\n            }\n        `,\n    ],\n    providers: [\n        { provide: DateAdapter, useClass: FieldDateAdapter },\n        { provide: MAT_DATE_FORMATS, useValue: FIELD_DATE_FORMATS },\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: forwardRef(() => DateFieldComponent),\n            multi: true,\n        },\n    ],\n})\nexport class DateFieldComponent\n    extends AsyncHandler\n    implements OnInit, ControlValueAccessor\n{\n    /** Earliest date available the user is allowed to pick */\n    @Input('from') public _from: number = new Date().valueOf();\n    /** Latest date available the user is allowed to pick */\n    @Input('to') public _to: number;\n    /** Position of the tooltip */\n    @Input() public position: 'right' | 'left' = 'right';\n    /** Offset of the tooltip */\n    @Input() public offset: 'top' | 'bottom' = 'bottom';\n    /** Whether form control is disabled */\n    @Input() public disabled: boolean;\n    /** Whether to show the calendar tooltip */\n    public show_tooltip: boolean;\n    /** Currently selected date */\n    public date: string;\n\n    /** Form control on change handler */\n    private _onChange: (_: number) => void;\n    /** Form control on touch handler */\n    private _onTouch: (_: number) => void;\n\n    /** First allowed date on the calendar */\n    public get from(): Date {\n        return new Date(this._from) || startOfDay(new Date());\n    }\n    /** Current date value */\n    public get until(): Date {\n        return new Date(this._to) || addYears(endOfDay(new Date()), 1);\n    }\n    /** Display value for the current date */\n    public get date_string(): string {\n        return format(new Date(this.date), 'DD MMM YYYY');\n    }\n\n    public ngOnInit() {\n        this.date = new Date().toISOString();\n    }\n\n    /**\n     * Update the form field value\n     * @param new_value New value to set on the form field\n     */\n    public setValue(new_value: number) {\n        // Keep hours and minutes of the old date\n        const old_date = new Date(this.date);\n        let new_date = set(new_value, {\n            hours: old_date.getHours(),\n            minutes: old_date.getMinutes(),\n        }).valueOf();\n        // Check that new date is before from\n        if (new_date < this.from.valueOf()) {\n            new_date = this.from.valueOf();\n        }\n        this.date = formatISO(new_date || new Date());\n        if (this._onChange) {\n            this._onChange(new_date);\n        }\n        this.show_tooltip = false;\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Update local value when form control value is changed\n     * @param value The new value for the component\n     */\n    public writeValue(value: number) {\n        this.date = formatISO(value || new Date());\n        this.show_tooltip = false;\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Registers a callback function that is called when the control's value changes in the UI.\n     * @param fn The callback function to register\n     */\n    public registerOnChange(fn: (_: number) => void): void {\n        this._onChange = fn;\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Registers a callback function is called by the forms API on initialization to update the form model on blur.\n     * @param fn The callback function to register\n     */\n    public registerOnTouched(fn: (_: number) => void): void {\n        this._onTouch = fn;\n    }\n\n    public setDisabledState(disabled: boolean) {\n        this.disabled = disabled;\n    }\n}\n","import {\n    Component,\n    forwardRef,\n    Input,\n    OnChanges,\n    OnInit,\n    SimpleChanges,\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { addMinutes, formatDuration } from 'date-fns';\n\nexport interface DurationOption {\n    id: number;\n    name: string;\n    date?: number;\n}\n\n@Component({\n    selector: 'a-duration-field',\n    template: `\n        <div class=\"duration-field\" [attr.disabled]=\"disabled\">\n            <mat-form-field appearance=\"outline\">\n                <mat-select\n                    #select\n                    [value]=\"duration\"\n                    [disabled]=\"disabled\"\n                    [placeholder]=\"duration + ' minutes'\"\n                    (valueChange)=\"setValue($event)\"\n                >\n                    <mat-option\n                        *ngFor=\"let option of duration_options\"\n                        [value]=\"option.id\"\n                    >\n                        {{\n                            option.date\n                                ? (option.date\n                                      | date\n                                          : (option.id >= 24 * 60\n                                                ? 'mediumDate'\n                                                : 'h : mm a')) + ' ('\n                                : ''\n                        }}{{ option.name }}{{ option.date ? ')' : '' }}\n                    </mat-option>\n                </mat-select>\n                <mat-error><ng-content></ng-content></mat-error>\n            </mat-form-field>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                width: 100%;\n            }\n\n            mat-form-field {\n                width: 100%;\n            }\n        `,\n    ],\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: forwardRef(() => DurationFieldComponent),\n            multi: true,\n        },\n    ],\n})\nexport class DurationFieldComponent\n    implements OnInit, OnChanges, ControlValueAccessor\n{\n    /** Maximum duration option available */\n    @Input() public max = 240;\n    /** Minimum duration option available */\n    @Input() public min = 30;\n    /** Step value between options */\n    @Input() public step = 15;\n    /** Reference time for displaying next to durations */\n    @Input() public time: number;\n    /** Whether form field is disabled */\n    @Input() public disabled: boolean;\n    /** Special case prepopulation i.e. out of step options */\n    @Input() public custom_options: number[] = [];\n\n    public duration = 60;\n    /** List of available duration options */\n    public duration_options: DurationOption[] = [];\n\n    /** Form control on change handler */\n    private _onChange: (_: number) => void;\n    /** Form control on touch handler */\n    private _onTouch: (_: number) => void;\n\n    public ngOnInit(): void {\n        this.duration_options = this.generateDurationOptions(\n            this.max,\n            this.min,\n            this.step\n        );\n        this._updateOption();\n    }\n\n    public ngOnChanges(changes: SimpleChanges): void {\n        /* istanbul ignore else */\n        if (\n            changes.max ||\n            changes.min ||\n            changes.step ||\n            changes.time ||\n            changes.custom_options\n        ) {\n            this.duration_options = this.generateDurationOptions(\n                this.max,\n                this.min,\n                this.step\n            );\n            this._updateOption();\n        }\n    }\n\n    /**\n     * Update the form field value\n     * @param new_value New value to set on the form field\n     */\n    public setValue(new_value: number): void {\n        this.duration = new_value;\n        /* istanbul ignore else */\n        if (this._onChange) {\n            this._onChange(+new_value);\n        }\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Update local value when form control value is changed\n     * @param value The new value for the component\n     */\n    public writeValue(value: number) {\n        this.duration = value;\n        this._updateOption();\n    }\n\n    public setDisabledState(disabled: boolean) {\n        this.disabled = disabled;\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Registers a callback function that is called when the control's value changes in the UI.\n     * @param fn The callback function to register\n     */\n    public registerOnChange(fn: (_: number) => void): void {\n        this._onChange = fn;\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Registers a callback function is called by the forms API on initialization to update the form model on blur.\n     * @param fn The callback function to register\n     */\n    public registerOnTouched(fn: (_: number) => void): void {\n        this._onTouch = fn;\n    }\n\n    private generateDurationOptions(max: number, min: number, step: number) {\n        const blocks: DurationOption[] = [];\n        let time = min;\n        const date = this.time ? this.time : null;\n\n        // Add special cases\n        for (const option of this.custom_options) {\n            blocks.push({\n                id: option,\n                date: date ? addMinutes(date, option).valueOf() : undefined,\n                name:\n                    option >= 24 * 60\n                        ? `${formatDuration({\n                              days: Math.floor(option / (24 * 60)),\n                          })}`\n                        : `${formatDuration({\n                              hours: Math.floor(option / 60),\n                              minutes: option % 60,\n                          })}`,\n            });\n        }\n\n        while (time <= max) {\n            blocks.push({\n                id: time,\n                date: date ? addMinutes(date, time).valueOf() : undefined,\n                name:\n                    time >= 24 * 60\n                        ? `${formatDuration({\n                              days: Math.floor(time / (24 * 60)),\n                          })}`\n                        : `${formatDuration({\n                              hours: Math.floor(time / 60),\n                              minutes: time % 60,\n                          })}`,\n            });\n            time += step;\n        }\n        blocks.sort((a, b) => a.id - b.id);\n        return blocks;\n    }\n\n    private _updateOption() {\n        if (!this.duration_options?.length) return;\n        const idx = this.duration_options.findIndex(\n            (_) => _.id === this.duration\n        );\n        if (idx < 0) this.setValue(this.min);\n    }\n}\n","import { NgModule, Type } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { ClipboardModule } from '@angular/cdk/clipboard';\nimport { MatChipsModule } from '@angular/material/chips';\nimport { MatRippleModule } from '@angular/material/core';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatRadioModule } from '@angular/material/radio';\n\nimport { ComponentsModule } from 'libs/components/src/lib/components.module';\n\nimport { ActionFieldComponent } from './action-field.component';\nimport { CounterComponent } from './counter.component';\nimport { DateFieldComponent } from './date-field.component';\nimport { DurationFieldComponent } from './duration-field.component';\nimport { TimeFieldComponent } from './time-field.component';\nimport { UserListFieldComponent } from './user-list-field.component';\nimport { UserSearchFieldComponent } from './user-search-field.component';\nimport { ItemListFieldComponent } from './item-list-field.component';\nimport { UploadListFieldComponent } from './upload-list-field.component';\nimport { UploadFileFieldComponent } from './upload-file-field.component';\nimport { SpaceListFieldComponent } from './space-list-field.component';\nimport { RichTextInputComponent } from './rich-text-input.component';\nimport { HostSelectFieldComponent } from './host-select-field.component';\nimport { ImageListFieldComponent } from './image-list-field.component';\nimport { RecurrenceFieldComponent } from './recurrence-field.component';\nimport { RecurrenceModalComponent } from './recurrence-modal.component';\n\nconst COMPONENTS: Type<any>[] = [\n    ActionFieldComponent,\n    CounterComponent,\n    DateFieldComponent,\n    DurationFieldComponent,\n    TimeFieldComponent,\n    UserListFieldComponent,\n    UserSearchFieldComponent,\n    ItemListFieldComponent,\n    UploadListFieldComponent,\n    UploadFileFieldComponent,\n    SpaceListFieldComponent,\n    RichTextInputComponent,\n    HostSelectFieldComponent,\n    ImageListFieldComponent,\n\n    RecurrenceFieldComponent,\n    RecurrenceModalComponent,\n];\n\n@NgModule({\n    declarations: [...COMPONENTS],\n    imports: [\n        CommonModule,\n        FormsModule,\n        MatRippleModule,\n        ReactiveFormsModule,\n        MatFormFieldModule,\n        MatInputModule,\n        MatSelectModule,\n        MatAutocompleteModule,\n        MatTooltipModule,\n        MatCheckboxModule,\n        MatRadioModule,\n        MatChipsModule,\n        ClipboardModule,\n        ComponentsModule,\n    ],\n    exports: [...COMPONENTS],\n})\nexport class FormFieldsModule {}\n","import { Component, forwardRef } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { currentUser, unique } from '@placeos/common';\nimport { showStaff } from 'libs/users/src/lib/staff.fn';\nimport { User } from 'libs/users/src/lib/user.class';\nimport { Calendar } from 'libs/calendar/src/lib/calendar.class';\nimport { queryCalendars } from 'libs/calendar/src/lib/calendar.fn';\nimport { of, zip } from 'rxjs';\nimport { catchError, map, shareReplay, switchMap, take } from 'rxjs/operators';\n\n@Component({\n    selector: 'host-select-field',\n    template: `\n        <mat-form-field appearance=\"outline\" class=\"w-full\">\n            <mat-select\n                [ngModel]=\"this.item?.email\"\n                (ngModelChange)=\"setValue($event)\"\n                [disabled]=\"disabled\"\n                [placeholder]=\"\n                    item?.email ? item.name || item.email : 'Select host'\n                \"\n                i18n-placeholder\n            >\n                <mat-option\n                    *ngFor=\"let user of users | async\"\n                    [value]=\"user?.email\"\n                    class=\"leading-tight\"\n                >\n                    <div class=\"flex flex-col\">\n                        <div>{{ user.name }}</div>\n                        <span class=\"hidden\">&nbsp;|&nbsp;</span>\n                        <div class=\"text-xs opacity-60\">{{ user?.email }}</div>\n                    </div>\n                </mat-option>\n            </mat-select>\n            <mat-error i18n>Host is required</mat-error>\n        </mat-form-field>\n        <ng-container *ngIf=\"users | async\"></ng-container>\n    `,\n    styles: [``],\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: forwardRef(() => HostSelectFieldComponent),\n            multi: true,\n        },\n    ],\n})\nexport class HostSelectFieldComponent implements ControlValueAccessor {\n    public item?: User;\n    public readonly users = of(1).pipe(\n        switchMap(() =>\n            queryCalendars().pipe(catchError((_) => of([] as Calendar[])))\n        ),\n        switchMap((list) =>\n            zip(\n                ...list.map((_) =>\n                    showStaff(_.id).pipe(catchError((_) => of(null)))\n                )\n            )\n        ),\n        map((_) => unique([currentUser(), ..._], 'email')),\n        shareReplay(1)\n    );\n    public disabled = false;\n\n    private _onChange: (_: User) => void;\n    private _onTouch: (_: User) => void;\n\n    /**\n     * Update the form field value\n     * @param new_value New value to set on the form field\n     */\n    public async setValue(email: string) {\n        const users = await this.users.pipe(take(1)).toPromise();\n        this.item = users?.find((_) => _.email === email);\n        if (!this.item) this.item = new User({ email });\n        if (this._onChange) this._onChange(this.item);\n    }\n\n    /**\n     * Update local value when form control value is changed\n     * @param value The new value for the component\n     */\n    public writeValue(value: User) {\n        this.item = value;\n        if (!value?.email) this.item = currentUser();\n    }\n\n    public readonly registerOnChange = (fn: (_: User) => void) =>\n        (this._onChange = fn);\n    public readonly registerOnTouched = (fn: (_: User) => void) =>\n        (this._onTouch = fn);\n    public readonly setDisabledState = (s: boolean) => (this.disabled = s);\n}\n","import { COMMA, ENTER } from '@angular/cdk/keycodes';\nimport { Component, ElementRef, forwardRef, ViewChild } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { MatChipInputEvent } from '@angular/material/chips';\nimport { Clipboard } from '@angular/cdk/clipboard';\nimport {\n    humanReadableByteCount,\n    Upload,\n    uploadFiles,\n} from '@placeos/cloud-uploads';\nimport { AsyncHandler, notifyInfo, randomInt, unique } from '@placeos/common';\n\nimport { BehaviorSubject, combineLatest, Observable } from 'rxjs';\nimport { filter, map, takeWhile } from 'rxjs/operators';\n\nimport * as blobUtil from 'blob-util';\n\nexport interface UploadDetails {\n    /** Unique ID for the upload */\n    id: number;\n    /** Name of the file uploaded */\n    name: string;\n    /** Progress of the file upload */\n    progress: number;\n    /** Link to the uploaded file */\n    link: string;\n    /** Formatted file size */\n    formatted_size: string;\n    /** Size of the file being uploaded */\n    size: number;\n    /** Error with upload request */\n    error?: string;\n    /** Upload object associated with the file */\n    upload: Upload;\n}\n/**\n * Upload the given file to the cloud\n * @param file File to upload\n */\nexport function uploadFile(file: File): Observable<UploadDetails> {\n    return new Observable((observer) => {\n        const fileReader = new FileReader();\n        fileReader.addEventListener('loadend', (e: any) => {\n            const arrayBuffer = e.target.result;\n            const upload_details: UploadDetails = {\n                id: randomInt(9999_9999_9999),\n                name: file.name,\n                progress: 0,\n                link: '',\n                formatted_size: humanReadableByteCount(file.size),\n                size: file.size,\n                upload: null,\n            };\n            const blob = blobUtil.arrayBufferToBlob(arrayBuffer, file.type);\n            const upload_list = uploadFiles([blob], { file_name: file.name });\n            const upload = upload_list[0];\n            upload_details.upload = upload;\n            upload.status\n                .pipe(takeWhile((_) => _.status !== 'complete', true))\n                .subscribe(\n                    (state) => {\n                        if (upload.access_url)\n                            upload_details.link = upload.access_url;\n                        upload_details.progress = state.progress;\n                        observer.next(upload_details);\n                        if (state.status === 'error')\n                            observer.error({\n                                ...upload_details,\n                                error: state.error,\n                            });\n                        if (state.status === 'complete') observer.complete();\n                    },\n                    (e) => (upload_details.error = e)\n                );\n            observer.next(upload_details);\n        });\n        fileReader.readAsArrayBuffer(file);\n    });\n}\n\n@Component({\n    selector: 'image-list-field',\n    template: `\n        <div\n            images\n            #image_list\n            class=\"space-x-2 py-2 overflow-hidden mb-2 w-full flex items-center relative\"\n            (window:resize)=\"ngAfterViewInit()\"\n        >\n            <div\n                image\n                class=\"relative rounded border-2 border-gray-200 dark:border-neutral-500 border-dashed flex-shrink-0 flex flex-col items-center justify-center h-32 w-36 hover:bg-black/10 dark:hover:bg-white/10 cursor-pointer\"\n                [style.transform]=\"'translate(-' + offset + '00%)'\"\n            >\n                <app-icon class=\"text-4xl opacity-60\">add</app-icon>\n                <p class=\"opacity-60\" i18n>Upload Image(s)</p>\n                <input\n                    type=\"file\"\n                    class=\"absolute inset-0 opacity-0 h-32 w-32 cursor-pointer\"\n                    (change)=\"uploadImages($event)\"\n                />\n            </div>\n            <div\n                image\n                *ngFor=\"let url of list; let i = index\"\n                class=\"bg-center bg-cover h-32 w-36 relative rounded overflow-hidden flex-shrink-0\"\n                [style.transform]=\"'translate(-' + offset + '00%)'\"\n                [style.background-image]=\"'url(' + url + ')'\"\n            >\n                <div\n                    overlay\n                    class=\"absolute inset-0 hover:bg-black/50 text-white\"\n                >\n                    <div\n                        actions\n                        class=\"absolute top-0 left-0 right-0 flex items-center justify-center space-x-2 opacity-0\"\n                    >\n                        <button icon (click)=\"copyLink(url)\">\n                            <app-icon>link</app-icon>\n                        </button>\n                        <button icon (click)=\"viewImage(url)\">\n                            <app-icon>visibility</app-icon>\n                        </button>\n                        <button icon (click)=\"removeImage(url)\">\n                            <app-icon>close</app-icon>\n                        </button>\n                    </div>\n                </div>\n            </div>\n            <div\n                image\n                *ngFor=\"let item of uploads | async; let i = index\"\n                class=\"bg-center bg-cover h-32 w-36 rounded border bg-black/10 dark:bg-white/5 border-gray-200 dark:border-neutral-500 flex items-center justify-center flex-shrink-0\"\n                [style.transform]=\"'translate(-' + offset + '00%)'\"\n                [matTooltip]=\"item.error\"\n                (click)=\"retryUpload(item)\"\n            >\n                <mat-progress-spinner\n                    *ngIf=\"!item.error\"\n                    [value]=\"item.progress\"\n                    [diameter]=\"64\"\n                    mode=\"determinate\"\n                ></mat-progress-spinner>\n                <app-icon *ngIf=\"item.error\" class=\"text-error text-6xl\"\n                    >warning</app-icon\n                >\n                <div\n                    overlay\n                    *ngIf=\"item.error\"\n                    class=\"absolute inset-0 hover:bg-black hover:bg-opacity-50 text-white flex items-center justify-center\"\n                >\n                    <app-icon class=\"text-3xl opacity-0\">retry</app-icon>\n                </div>\n            </div>\n            <button\n                icon\n                matRipple\n                *ngIf=\"length > view_space\"\n                [disabled]=\"offset === 0\"\n                class=\"absolute top-1/2 left-0 transform -translate-y-1/2 bg-white\"\n                (click)=\"offset = offset - 1\"\n            >\n                <app-icon>chevron_left</app-icon>\n            </button>\n            <button\n                icon\n                matRipple\n                *ngIf=\"length > view_space\"\n                [disabled]=\"offset >= length - view_space\"\n                class=\"absolute top-1/2 right-0 transform -translate-y-1/2 bg-white\"\n                (click)=\"offset = offset + 1\"\n            >\n                <app-icon>chevron_right</app-icon>\n            </button>\n        </div>\n        <mat-form-field appearance=\"outline\" class=\"w-full\">\n            <mat-chip-grid #chipList aria-label=\"Image List\">\n                <mat-chip-row\n                    *ngFor=\"let item of list\"\n                    (removed)=\"removeItem(item)\"\n                >\n                    <div class=\"truncate max-w-md\">{{ item }}</div>\n                    <button matChipRemove [attr.aria-label]=\"'Remove ' + item\">\n                        <app-icon>cancel</app-icon>\n                    </button>\n                </mat-chip-row>\n            </mat-chip-grid>\n            <input\n                placeholder=\"Add image via URL\"\n                i18n-placeholder\n                [matChipInputFor]=\"chipList\"\n                [matChipInputSeparatorKeyCodes]=\"separators\"\n                [matChipInputAddOnBlur]=\"true\"\n                (matChipInputTokenEnd)=\"addImage($event)\"\n            />\n        </mat-form-field>\n    `,\n    styles: [\n        `\n            :host {\n                width: 100%;\n            }\n\n            [overlay] {\n                transition: background 200ms;\n            }\n\n            [overlay]:hover [actions],\n            [overlay]:hover > app-icon {\n                opacity: 1 !important;\n            }\n\n            [actions],\n            [overlay] > app-icon {\n                transition: opacity 200ms;\n            }\n\n            [image] {\n                transition: transform 200ms;\n            }\n        `,\n    ],\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: forwardRef(() => ImageListFieldComponent),\n            multi: true,\n        },\n    ],\n})\nexport class ImageListFieldComponent extends AsyncHandler {\n    /** List of images */\n    public list: string[] = [];\n    /** List of images */\n    public upload_ids = new BehaviorSubject<number[]>([]);\n    private _upload_list = new BehaviorSubject<UploadDetails[]>([]);\n    public readonly upload_list = this._upload_list.asObservable();\n    public offset: number = 0;\n\n    public view_space: number = 0;\n\n    public readonly separators = [COMMA, ENTER];\n\n    public readonly uploads = combineLatest([\n        this.upload_list,\n        this.upload_ids,\n    ]).pipe(map(([list, ids]) => list.filter((i) => ids.includes(i.id))));\n\n    public get length() {\n        return this.list.length + this._upload_list.getValue().length + 1;\n    }\n\n    @ViewChild('image_list') private _list_el: ElementRef<HTMLDivElement>;\n\n    constructor(private _clipboard: Clipboard) {\n        super();\n    }\n\n    /** Form control on change handler */\n    private _onChange: (_: string[]) => void;\n    /** Form control on touch handler */\n    private _onTouch: (_: string[]) => void;\n\n    public ngAfterViewInit() {\n        const box = this._list_el.nativeElement.getBoundingClientRect();\n        this.view_space = Math.floor(box.width / 152);\n        this.subscription(\n            'upload_changes',\n            this.upload_list.subscribe((list) => {\n                const id_list = this.upload_ids.getValue();\n                for (const id of id_list) {\n                    const item = list.find((_) => _.id === id);\n                    if (item && item.progress >= 100) {\n                        this.addImageUrl(item.link);\n                        this.upload_ids.next(\n                            this.upload_ids.getValue().filter((_) => _ !== id)\n                        );\n                    }\n                }\n            })\n        );\n    }\n\n    public copyLink(url: string) {\n        this._clipboard.copy(url);\n        notifyInfo('Copied image URL to clipboard');\n    }\n\n    public viewImage(url: string) {}\n\n    public removeImage(url: string) {\n        this.setValue(this.list.filter((_) => _ !== url));\n    }\n\n    public addImage(event: MatChipInputEvent) {\n        if (!event.value) return;\n        this.setValue(unique([...this.list, event.value]));\n        event.chipInput.inputElement.value = '';\n    }\n\n    public addImageUrl(url: string) {\n        this.setValue(unique([...this.list, url]));\n    }\n\n    public async uploadImages(event) {\n        const element: HTMLInputElement = event.target as any;\n        /* istanbul ignore else */\n        if (element?.files) {\n            const files: FileList = element.files;\n            /* istanbul ignore else */\n            if (files.length) {\n                for (let i = 0; i < files.length; i++) {\n                    const id = await this.uploadFile(files[i]);\n                    this.upload_ids.next([...this.upload_ids.getValue(), id]);\n                }\n            }\n        }\n    }\n\n    public setValue(value: string[]) {\n        this.list = value;\n        if (this._onChange) this._onChange(value);\n    }\n\n    /**\n     * Update local value when form control value is changed\n     * @param value The new value for the component\n     */\n    public writeValue(value: string[]) {\n        this.list = value;\n    }\n\n    public readonly registerOnChange = (fn: (_: string[]) => void) =>\n        (this._onChange = fn);\n    public readonly registerOnTouched = (fn: (_: string[]) => void) =>\n        (this._onTouch = fn);\n\n    public uploadFile(file: File) {\n        return new Promise<number>((resolve) => {\n            let resolved = false;\n            const update_fn = (details) => {\n                if (!resolved) {\n                    resolve(details.id);\n                    resolved = true;\n                }\n                this._upload_list.next([\n                    ...this._upload_list\n                        .getValue()\n                        .filter((_) => _.id !== details.id),\n                    details,\n                ]);\n            };\n            uploadFile(file).subscribe(update_fn, update_fn, () => {\n                this._updateUploadHistory();\n            });\n        });\n    }\n\n    private _updateUploadHistory() {\n        const done_list = this._upload_list\n            .getValue()\n            .filter((file) => file.progress >= 100);\n        done_list.forEach((i) => delete i.upload);\n        if (localStorage) {\n            localStorage.setItem(\n                'CONCIERGE.uploads',\n                JSON.stringify(done_list)\n            );\n        }\n    }\n}\n","import { Component, forwardRef, Input } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { FormControl } from '@angular/forms';\nimport { MatChipInputEvent } from '@angular/material/chips';\nimport { COMMA, ENTER, SPACE } from '@angular/cdk/keycodes';\n\n/**\n * Add a tag to the list of tags for the item\n * @param event Input event\n */\nexport function addChipItem<T = string>(\n    control: FormControl<T[]>,\n    event: MatChipInputEvent\n): void {\n    if (!control) return;\n    const input = event.input;\n    const value = event.value as any;\n    const item_list = control.value;\n    if ((value || '').trim()) {\n        item_list.push(value);\n        control.setValue(item_list);\n    }\n\n    // Reset the input value\n    if (input) {\n        input.value = '';\n    }\n}\n\n/**\n * Remove tag from the list\n * @param existing_tag Tag to remove\n */\nexport function removeChipItem<T = string>(\n    control: FormControl<T[]>,\n    item: T\n): void {\n    if (!control) {\n        return;\n    }\n    const item_list = control.value;\n    const index = item_list.indexOf(item);\n\n    if (index >= 0) {\n        item_list.splice(index, 1);\n        control.setValue(item_list);\n    }\n}\n\n@Component({\n    selector: 'item-list-field',\n    template: `\n        <mat-form-field appearance=\"outline\" class=\"w-full\">\n            <mat-chip-grid #chipList aria-label=\"Zone Tags\">\n                <mat-chip-row\n                    *ngFor=\"let item of value\"\n                    (removed)=\"remove(item)\"\n                >\n                    <span class=\"truncate max-w-md\">{{ item }}</span>\n                    <button matChipRemove [attr.aria-label]=\"'Remove ' + item\">\n                        <app-icon>cancel</app-icon>\n                    </button>\n                </mat-chip-row>\n            </mat-chip-grid>\n            <input\n                [placeholder]=\"placeholder || 'User groups...'\"\n                i18n-placeholder=\"@@userGroupsPlaceholder\"\n                [matChipInputFor]=\"chipList\"\n                [matChipInputSeparatorKeyCodes]=\"separators\"\n                [matChipInputAddOnBlur]=\"true\"\n                (matChipInputTokenEnd)=\"add($event)\"\n            />\n        </mat-form-field>\n    `,\n    styles: [``],\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            /* istanbul ignore next */\n            useExisting: forwardRef(() => ItemListFieldComponent),\n            multi: true,\n        },\n    ],\n})\nexport class ItemListFieldComponent<T = any> implements ControlValueAccessor {\n    @Input() public separators: number[] = [ENTER, COMMA, SPACE];\n\n    @Input() public placeholder = '';\n    /** List of items stored */\n    public value: T[] = [];\n\n    /** Form control on change handler */\n    private _onChange: (_: T[]) => void;\n    /** Form control on touch handler */\n    private _onTouch: (_: T[]) => void;\n\n    /**\n     * Add the `step` to the current value\n     */\n    public readonly add = (e: MatChipInputEvent) =>\n        addChipItem(\n            { value: this.value, setValue: (i) => this.setValue(i) } as any,\n            e\n        );\n\n    /** Remove the `step` from the current value */\n    public readonly remove = (item: T) =>\n        removeChipItem(\n            { value: this.value, setValue: (i) => this.setValue(i) } as any,\n            item\n        );\n\n    /**\n     * Update the form field value\n     * @param new_value New value to set on the form field\n     */\n    public setValue(new_value: T[]): void {\n        this.value = new_value;\n        /* istanbul ignore else */\n        if (this._onChange) {\n            this._onChange(new_value);\n        }\n    }\n\n    /**\n     * Update local value when form control value is changed\n     * @param value The new value for the component\n     */\n    public writeValue(value: T[]) {\n        this.value = value;\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Registers a callback function that is called when the control's value changes in the UI.\n     * @param fn The callback function to register\n     */\n    public registerOnChange(fn: (_: T[]) => void): void {\n        this._onChange = fn;\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Registers a callback function is called by the forms API on initialization to update the form model on blur.\n     * @param fn The callback function to register\n     */\n    public registerOnTouched(fn: (_: T[]) => void): void {\n        this._onTouch = fn;\n    }\n}\n","import { Component, forwardRef, Input, SimpleChanges } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { MatDialog } from '@angular/material/dialog';\n\nimport { RecurrenceDetails } from 'libs/events/src/lib/event.interfaces';\nimport { formatRecurrence } from 'libs/events/src/lib/helpers';\nimport { RecurrenceModalComponent } from './recurrence-modal.component';\nimport { addYears } from 'date-fns';\n\n@Component({\n    selector: 'recurrence-field',\n    template: `\n        <mat-form-field appearance=\"outline\" class=\"w-full\">\n            <mat-select\n                [ngModel]=\"value._pattern\"\n                (ngModelChange)=\"setSimple($event)\"\n                placeholder=\"Doesn't repeat\"\n            >\n                <mat-option value=\"none\">Doesn't repeat</mat-option>\n                <mat-option value=\"daily\">Daily</mat-option>\n                <mat-option value=\"weekly\">\n                    Weekly on {{ date | date: 'EEEE' }}\n                </mat-option>\n                <mat-option value=\"monthly\">\n                    Last {{ date | date: 'EEEE' }} of Month\n                </mat-option>\n                <mat-option value=\"yearly\">\n                    Anually on {{ date | date: 'LLLL dd' }}\n                </mat-option>\n                <mat-option\n                    *ngIf=\"value._pattern === 'custom_display'\"\n                    value=\"custom_display\"\n                >\n                    {{ formattedValue() }}\n                </mat-option>\n                <mat-option\n                    value=\"custom\"\n                    (click)=\"openCustomRecurrenceModal()\"\n                >\n                    Custom...\n                </mat-option>\n            </mat-select>\n        </mat-form-field>\n    `,\n    styles: [\n        `\n            [value] {\n                min-width: 3em;\n            }\n        `,\n    ],\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            /* istanbul ignore next */\n            useExisting: forwardRef(() => RecurrenceFieldComponent),\n            multi: true,\n        },\n    ],\n})\nexport class RecurrenceFieldComponent implements ControlValueAccessor {\n    /** Size of a single step */\n    @Input() public date = Date.now();\n\n    public value: RecurrenceDetails = { pattern: 'none' } as any;\n\n    /** Form control on change handler */\n    private _onChange: (_: RecurrenceDetails) => void;\n    /** Form control on touch handler */\n    private _onTouch: (_: RecurrenceDetails) => void;\n\n    constructor(private _dialog: MatDialog) {}\n\n    public ngOnChanges(changes: SimpleChanges) {\n        if (changes.date && this.date) {\n            this.value.start = this.date;\n            if (!this.value.pattern) {\n                this.value.days_of_week = [new Date(this.date).getDay()];\n            }\n        }\n    }\n\n    public readonly formattedValue = () => formatRecurrence(this.value);\n\n    /**\n     * Update the form field value\n     * @param new_value New value to set on the form field\n     */\n    public setValue(new_value: RecurrenceDetails): void {\n        this.value = new_value;\n        /* istanbul ignore else */\n        if (this._onChange) {\n            this._onChange(new_value);\n        }\n    }\n\n    /**\n     * Update local value when form control value is changed\n     * @param value The new value for the component\n     */\n    public writeValue(value: RecurrenceDetails) {\n        this.value = value || ({} as any);\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Registers a callback function that is called when the control's value changes in the UI.\n     * @param fn The callback function to register\n     */\n    public registerOnChange(fn: (_: RecurrenceDetails) => void): void {\n        this._onChange = fn;\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Registers a callback function is called by the forms API on initialization to update the form model on blur.\n     * @param fn The callback function to register\n     */\n    public registerOnTouched(fn: (_: RecurrenceDetails) => void): void {\n        this._onTouch = fn;\n    }\n\n    public openCustomRecurrenceModal() {\n        if (!this.value.pattern) {\n            this.value.days_of_week = [new Date(this.date).getDay()];\n        }\n        const ref = this._dialog.open(RecurrenceModalComponent, {\n            data: { value: this.value },\n        });\n        ref.afterClosed().subscribe((data?: RecurrenceDetails) => {\n            if (data) this.setValue({ ...data, _pattern: 'custom_display' });\n        });\n    }\n\n    public setSimple(pattern: string) {\n        const day_of_week = new Date(this.date).getDay();\n        if (pattern === 'none') {\n            this.setValue({\n                pattern: null,\n                days_of_week: [day_of_week],\n            } as any);\n        } else if (pattern === 'daily') {\n            this.setValue({\n                pattern,\n                start: this.date,\n                end: addYears(this.date, 1).valueOf(),\n                days_of_week: [day_of_week],\n                interval: 1,\n            });\n        } else if (pattern === 'weekly') {\n            this.setValue({\n                pattern,\n                start: this.date,\n                end: addYears(this.date, 1).valueOf(),\n                days_of_week: [day_of_week],\n                interval: 1,\n            });\n        } else if (pattern === 'monthly') {\n            this.setValue({\n                pattern,\n                start: this.date,\n                end: addYears(this.date, 3).valueOf(),\n                days_of_week: [day_of_week],\n                interval: 1,\n            });\n        } else if (pattern === 'yearly') {\n            this.setValue({\n                pattern,\n                start: this.date,\n                end: addYears(this.date, 7).valueOf(),\n                days_of_week: [day_of_week],\n                interval: 1,\n            });\n        }\n    }\n}\n","import { Component, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { addDays } from 'date-fns';\n\nimport { RecurrenceDetails } from 'libs/events/src/lib/event.interfaces';\n\n@Component({\n    selector: 'recurrence-modal',\n    template: `\n        <header>\n            <h2>Custom Recurrence</h2>\n            <button btn icon mat-dialog-close matRipple>\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <main class=\"p-4\">\n            <div class=\"flex items-center space-x-2 mb-4\">\n                <div>Repeat every</div>\n                <mat-form-field appearance=\"outline\" class=\"w-16\">\n                    <input matInput type=\"number\" [(ngModel)]=\"data.interval\" />\n                </mat-form-field>\n                <mat-form-field appearance=\"outline\">\n                    <mat-select [(ngModel)]=\"data.pattern\">\n                        <mat-option value=\"daily\">\n                            day{{ data.interval === 1 ? 's' : '' }}\n                        </mat-option>\n                        <mat-option value=\"weekly\">\n                            week{{ data.interval === 1 ? 's' : '' }}\n                        </mat-option>\n                        <mat-option value=\"monthly\">\n                            month{{ data.interval === 1 ? 's' : '' }}\n                        </mat-option>\n                        <mat-option value=\"yearly\">\n                            year{{ data.interval === 1 ? 's' : '' }}\n                        </mat-option>\n                    </mat-select>\n                </mat-form-field>\n            </div>\n            <h2 for=\"repeat-on\" class=\"mb-2\">Repeat on</h2>\n            <div class=\"flex items-center space-x-2 mb-4\" name=\"repeat-on\">\n                <button\n                    btn\n                    matRipple\n                    class=\"w-12\"\n                    [class.inverse]=\"!data.days_of_week?.includes(0)\"\n                    (click)=\"toggleDayOfWeek(0)\"\n                >\n                    S\n                </button>\n                <button\n                    btn\n                    matRipple\n                    class=\"w-12\"\n                    [class.inverse]=\"!data.days_of_week?.includes(1)\"\n                    (click)=\"toggleDayOfWeek(1)\"\n                >\n                    M\n                </button>\n                <button\n                    btn\n                    matRipple\n                    class=\"w-12\"\n                    [class.inverse]=\"!data.days_of_week?.includes(2)\"\n                    (click)=\"toggleDayOfWeek(2)\"\n                >\n                    T\n                </button>\n                <button\n                    btn\n                    matRipple\n                    class=\"w-12\"\n                    [class.inverse]=\"!data.days_of_week?.includes(3)\"\n                    (click)=\"toggleDayOfWeek(3)\"\n                >\n                    W\n                </button>\n                <button\n                    btn\n                    matRipple\n                    class=\"w-12\"\n                    [class.inverse]=\"!data.days_of_week?.includes(4)\"\n                    (click)=\"toggleDayOfWeek(4)\"\n                >\n                    T\n                </button>\n                <button\n                    btn\n                    matRipple\n                    class=\"w-12\"\n                    [class.inverse]=\"!data.days_of_week?.includes(5)\"\n                    (click)=\"toggleDayOfWeek(5)\"\n                >\n                    F\n                </button>\n                <button\n                    btn\n                    matRipple\n                    class=\"w-12\"\n                    [class.inverse]=\"!data.days_of_week?.includes(6)\"\n                    (click)=\"toggleDayOfWeek(6)\"\n                >\n                    S\n                </button>\n            </div>\n            <h2 for=\"ends-at\">Ends</h2>\n            <mat-radio-group name=\"ends-at\" [(ngModel)]=\"ends_key\">\n                <div class=\"flex items-center\">\n                    <mat-radio-button value=\"never\">Never</mat-radio-button>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <mat-radio-button value=\"on\">On</mat-radio-button>\n                    <a-date-field\n                        [(ngModel)]=\"data.end\"\n                        [disabled]=\"ends_key !== 'on'\"\n                    ></a-date-field>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <mat-radio-button value=\"after\">After</mat-radio-button>\n                    <mat-form-field appearance=\"outline\">\n                        <input\n                            matInput\n                            type=\"number\"\n                            [(ngModel)]=\"data.occurrences\"\n                            [disabled]=\"ends_key !== 'after'\"\n                        />\n                        <span matSuffix>occurences</span>\n                    </mat-form-field>\n                </div>\n            </mat-radio-group>\n        </main>\n        <footer\n            class=\"px-4 py-2 flex items-center justify-end border-t border-gray-200\"\n        >\n            <button btn class=\"w-32\" matRipple [mat-dialog-close]=\"data\">\n                Save\n            </button>\n        </footer>\n    `,\n    styles: [\n        `\n            mat-form-field,\n            a-date-field {\n                height: 3.25rem;\n            }\n\n            mat-radio-button {\n                width: 8rem;\n            }\n        `,\n    ],\n})\nexport class RecurrenceModalComponent {\n    public data: RecurrenceDetails = {\n        ...this._data.value,\n        end: this._data.value.end || addDays(new Date(), 7).valueOf(),\n        interval: this._data.value.interval || 1,\n        pattern: this._data.value.pattern ? this._data.value.pattern : 'weekly',\n        occurrences: this._data.value.occurrences || 13,\n    };\n    public ends_key = 'never';\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) private _data: { value: RecurrenceDetails }\n    ) {}\n\n    public toggleDayOfWeek(day: number) {\n        if (!this.data.days_of_week) this.data.days_of_week = [];\n        if (this.data.days_of_week.includes(day)) {\n            this.data.days_of_week = this.data.days_of_week.filter(\n                (d) => d !== day\n            );\n        } else this.data.days_of_week.push(day);\n    }\n}\n","import {\n    AfterViewInit,\n    Component,\n    ElementRef,\n    forwardRef,\n    Input,\n    OnChanges,\n    SimpleChanges,\n    ViewChild,\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { AsyncHandler } from '@placeos/common';\nimport * as Quill from 'quill';\n\n@Component({\n    selector: 'rich-text-input',\n    template: `\n        <div #container>\n            <div #editor></div>\n        </div>\n    `,\n    styles: [``],\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            /* istanbul ignore next */\n            useExisting: forwardRef(() => RichTextInputComponent),\n            multi: true,\n        },\n    ],\n})\nexport class RichTextInputComponent\n    extends AsyncHandler\n    implements ControlValueAccessor, OnChanges, AfterViewInit\n{\n    @Input() public placeholder = '';\n    @Input() public readonly = false;\n\n    @ViewChild('container') private _container_el: ElementRef<HTMLDivElement>;\n    @ViewChild('editor') private _editor_el: ElementRef<HTMLDivElement>;\n\n    private _editor: any;\n    private _updateFn = () => this.setValue(this._editor.root.innerHTML);\n\n    private _onChange: (\n        _: string\n    ) => void; /** Form control on change handler */\n    private _onTouch: (\n        _: string\n    ) => void; /** Form control on touched handler */\n\n    public readonly registerOnChange = (fn: (_: string) => void) =>\n        (this._onChange = fn);\n    public readonly registerOnTouched = (fn: (_: string) => void) =>\n        (this._onTouch = fn);\n\n    public ngOnChanges(changes: SimpleChanges) {}\n\n    public ngAfterViewInit() {\n        this._initialiseEditor();\n    }\n\n    /**\n     * Update the form field value\n     * @param new_value New value to set on the form field\n     */\n    public setValue(new_value: string): void {\n        /* istanbul ignore else */\n        if (this._onChange) {\n            this._onChange(new_value);\n        }\n    }\n\n    /**\n     * Update local value when form control value is changed\n     * @param value The new value for the component\n     */\n    public writeValue(value: string) {\n        if (this._editor) {\n            const delta = this._editor.clipboard.convert(value);\n            this._editor.setContents(delta, 'silent');\n        } else {\n            this.timeout('write', () => this.writeValue(value));\n        }\n    }\n\n    private _initialiseEditor() {\n        this._editor = new Quill(this._editor_el.nativeElement, {\n            bounds: this._container_el.nativeElement,\n            placeholder: this.placeholder,\n            modules: {\n                toolbar: [\n                    [{ size: ['small', false, 'large', 'huge'] }],\n                    ['bold', 'italic', 'underline'],\n                    [{ list: 'ordered' }, { list: 'bullet' }],\n                ],\n            },\n            readOnly: this.readonly,\n            theme: 'snow',\n        });\n        this._editor.on('text-change', this._updateFn);\n        this.subscription('changes', () =>\n            this._editor.off('text-change', this._updateFn)\n        );\n    }\n}\n","import { Component, forwardRef } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { MatDialog } from '@angular/material/dialog';\n\nimport { SettingsService } from 'libs/common/src/lib/settings.service';\nimport { Space } from 'libs/spaces/src/lib/space.class';\nimport { NewSpaceSelectModalComponent } from 'libs/spaces/src/lib/space-select-modal/new-space-select-modal.component';\nimport { OrganisationService } from '@placeos/organisation';\n\nconst EMPTY_FAVS: string[] = [];\n\n@Component({\n    selector: `space-list-field`,\n    template: `\n        <div>\n            <div class=\"flex items-center flex-wrap sm:space-x-2 mb-2\">\n                <div class=\"flex-1 min-w-[256px] space-y-2\">\n                    <label i18n>Select Room Size<span>*</span></label>\n                    <div class=\"flex items-center\">\n                        <mat-radio-group\n                            aria-label=\"Select Room Size\"\n                            class=\"space-x-4\"\n                            [(ngModel)]=\"room_size\"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                        >\n                            <mat-radio-button [value]=\"1\" i18n>\n                                Min. 2 People\n                            </mat-radio-button>\n                            <mat-radio-button [value]=\"4\" i18n>\n                                Min. 4 People\n                            </mat-radio-button>\n                            <mat-radio-button [value]=\"10\" i18n>\n                                Min. 10 People\n                            </mat-radio-button>\n                        </mat-radio-group>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div list class=\"space-y-2\">\n            <div\n                space\n                class=\"relative p-2 rounded-lg w-full flex items-center shadow border border-gray-200\"\n                *ngFor=\"let space of spaces\"\n            >\n                <div\n                    class=\"w-24 h-24 rounded-xl bg-black/20 mr-4 overflow-hidden flex items-center justify-center\"\n                >\n                    <img\n                        *ngIf=\"space.images?.length; else placeholder\"\n                        [src]=\"space.images[0]\"\n                        class=\"min-h-full object-cover\"\n                    />\n                    <ng-template #placeholder>\n                        <img\n                            class=\"m-auto\"\n                            src=\"assets/icons/room-placeholder.svg\"\n                        />\n                    </ng-template>\n                </div>\n                <div class=\"sm:space-y-2 pb-4\">\n                    <div class=\"font-medium\">\n                        {{\n                            space.display_name || space.name || 'Meeting Space'\n                        }}\n                    </div>\n                    <div class=\"flex items-center text-sm space-x-2\">\n                        <app-icon class=\"text-blue-500\">place</app-icon>\n                        <p>\n                            {{\n                                space.location ||\n                                    level(space.zones)?.display_name ||\n                                    level(space.zones)?.name\n                            }}\n                        </p>\n                    </div>\n                    <div class=\"flex items-center text-sm space-x-2\">\n                        <app-icon class=\"text-blue-500\">people</app-icon>\n                        <p i18n>\n                            {{ space.capacity < 1 ? 2 : space.capacity }} {\n                            space.capacity, plural, =1 { Person } other { People\n                            } }\n                        </p>\n                    </div>\n                    <div\n                        class=\"absolute bottom-0 right-0 flex items-center justify-end text-xs\"\n                    >\n                        <button\n                            btn\n                            matRipple\n                            name=\"edit-space\"\n                            class=\"clear\"\n                            (click)=\"changeSpaces(space)\"\n                        >\n                            <div class=\"flex items-center space-x-2\" i18n>\n                                <app-icon>edit</app-icon>\n                                Change\n                            </div>\n                        </button>\n                        <button\n                            btn\n                            matRipple\n                            name=\"remove-space\"\n                            class=\"clear\"\n                            (click)=\"removeSpace(space)\"\n                        >\n                            <div class=\"flex items-center space-x-2\" i18n>\n                                <app-icon>close</app-icon>\n                                Remove\n                            </div>\n                        </button>\n                    </div>\n                </div>\n                <button\n                    icon\n                    matRipple\n                    name=\"toggle-space-favourite\"\n                    class=\"absolute top-1 right-1\"\n                    [class.text-blue-400]=\"favorites.includes(asset?.id)\"\n                    (click)=\"toggleFavourite(asset)\"\n                >\n                    <app-icon>{{\n                        favorites.includes(asset?.id)\n                            ? 'favorite'\n                            : 'favorite_border'\n                    }}</app-icon>\n                </button>\n            </div>\n        </div>\n        <button\n            btn\n            matRipple\n            name=\"add-space\"\n            class=\"w-full inverse mt-2\"\n            (click)=\"changeSpaces()\"\n        >\n            <div class=\"flex items-center justify-center space-x-2\">\n                <app-icon>search</app-icon>\n                <span i18n>Add Space</span>\n            </div>\n        </button>\n    `,\n    styles: [``],\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: forwardRef(() => SpaceListFieldComponent),\n            multi: true,\n        },\n    ],\n})\nexport class SpaceListFieldComponent implements ControlValueAccessor {\n    public room_size = 4;\n    public spaces: Space[] = [];\n    public disabled = false;\n\n    private _onChange: (_: Space[]) => void;\n    private _onTouch: (_: Space[]) => void;\n\n    public get favorites() {\n        return this._settings.get<string[]>('favourite_spaces') || EMPTY_FAVS;\n    }\n\n    constructor(\n        private _settings: SettingsService,\n        private _org: OrganisationService,\n        private _dialog: MatDialog\n    ) {}\n\n    public level(zones: string[]) {\n        return this._org.levelWithID(zones);\n    }\n\n    /** Add or edit selected spaces */\n    public changeSpaces() {\n        const ref = this._dialog.open(NewSpaceSelectModalComponent, {\n            data: {\n                spaces: this.spaces,\n                options: { capacity: this.room_size },\n            },\n        });\n        ref.afterClosed().subscribe((spaces?: Space[]) => {\n            if (!spaces) spaces = ref.componentInstance.selected;\n            this.setValue(spaces);\n        });\n    }\n\n    /** Remove the selected space from the list */\n    public removeSpace(space: Space) {\n        this.setValue(this.spaces.filter((_) => _.id !== space.id));\n    }\n\n    /**\n     * Update the form field value\n     * @param new_value New value to set on the form field\n     */\n    public setValue(new_value: Space[]) {\n        this.spaces = new_value;\n        if (this._onChange) this._onChange(this.spaces);\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Update local value when form control value is changed\n     * @param value The new value for the component\n     */\n    public writeValue(value: Space[]) {\n        this.spaces = value || [];\n    }\n\n    /* istanbul ignore next */\n    public readonly registerOnChange = (fn: (_: Space[]) => void) =>\n        (this._onChange = fn);\n    /* istanbul ignore next */\n    public readonly registerOnTouched = (fn: (_: Space[]) => void) =>\n        (this._onTouch = fn);\n    public readonly setDisabledState = (s: boolean) => (this.disabled = s);\n\n    public toggleFavourite(space: Space) {\n        const fav_list = this.favorites;\n        const new_state = !fav_list.includes(space.id);\n        if (new_state) {\n            this._settings.saveUserSetting('favourite_spaces', [\n                ...fav_list,\n                space.id,\n            ]);\n        } else {\n            this._settings.saveUserSetting(\n                'favourite_spaces',\n                fav_list.filter((_) => _ !== space.id)\n            );\n        }\n    }\n}\n","import {\n    Component,\n    forwardRef,\n    Input,\n    OnChanges,\n    OnInit,\n    SimpleChanges,\n    ViewChild,\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { MatSelect } from '@angular/material/select';\nimport { AsyncHandler, Identity, timeFormatString } from '@placeos/common';\nimport {\n    addMinutes,\n    endOfDay,\n    format,\n    isAfter,\n    isSameDay,\n    roundToNearestMinutes,\n    set,\n    startOfDay,\n    startOfMinute,\n} from 'date-fns';\n\n@Component({\n    selector: 'a-time-field',\n    template: `\n        <mat-form-field appearance=\"outline\">\n            <mat-select\n                #select\n                [value]=\"time\"\n                [disabled]=\"disabled\"\n                (valueChange)=\"setValue($event)\"\n            >\n                <mat-option\n                    *ngFor=\"let option of time_options\"\n                    [value]=\"option.id\"\n                >\n                    {{ option.date | date: 'h : mm a' }}\n                </mat-option>\n            </mat-select>\n        </mat-form-field>\n    `,\n    styles: [\n        `\n            mat-form-field {\n                width: 100%;\n            }\n        `,\n    ],\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: forwardRef(() => TimeFieldComponent),\n            multi: true,\n        },\n    ],\n})\nexport class TimeFieldComponent\n    extends AsyncHandler\n    implements OnInit, OnChanges, ControlValueAccessor\n{\n    /** Time step between each allowed time option */\n    @Input() public step = 15;\n    /** Whether form field is disabled */\n    @Input() public disabled: boolean;\n    /** Whether past times are allowed */\n    @Input() public no_past_times = true;\n    /** String representing the currently set time */\n    public date: number = new Date().valueOf();\n    /** String representing the currently set time */\n    public time: string = format(new Date(), 'HH:mm');\n    /** Available time blocks for the selected date */\n    public _time_options: any[];\n    /** Whether select field should be shown */\n    public show_select: boolean;\n    /** Form control on change handler */\n    private _onChange: (_: number) => void;\n    /** Form control on touch handler */\n    private _onTouch: (_: number) => void;\n\n    /** Select field for selecting the time */\n    @ViewChild('select') private select_field: MatSelect;\n\n    public ngOnInit(): void {\n        this.show_select = true;\n        this._time_options = this.generateAvailableTimes(\n            this.date,\n            !this.no_past_times,\n            this.step\n        );\n        this.timeout('hide', () => (this.show_select = false));\n    }\n\n    public ngOnChanges(changes: SimpleChanges): void {\n        if (changes.no_past_times || changes.step) {\n            this._time_options = this.generateAvailableTimes(\n                this.date,\n                !this.no_past_times,\n                this.step\n            );\n        }\n    }\n\n    /** Available time blocks for the selected date */\n    public get time_options() {\n        const time = (this.time || '00:00').split(':');\n        const date = set(this.date, { hours: +time[0], minutes: +time[1] });\n        if (\n            date.getMinutes() % 15 !== 0 &&\n            !this._time_options.find(\n                (time) => time.id === format(date, 'HH:mm')\n            )\n        ) {\n            this._time_options.push({\n                date,\n                id: format(date, 'HH:mm'),\n            });\n            this._time_options.sort((a, b) =>\n                `${a.id}`.localeCompare(`${b.id}`)\n            );\n        }\n        return this._time_options;\n    }\n\n    /**\n     * Update the form field value\n     * @param new_value New value to set on the form field\n     */\n    public setValue(new_value: string): void {\n        this.time = new_value;\n        if (this._onChange) {\n            const time = (this.time || '00:00').split(':');\n            const date = startOfMinute(\n                set(this.date, { hours: +time[0], minutes: +time[1] })\n            );\n            this._onChange(date.valueOf());\n        }\n    }\n\n    /**\n     * Update local value when form control value is changed\n     * @param value The new value for the component\n     */\n    public writeValue(value: number) {\n        this.date = value || this.date;\n        let date = startOfMinute(this.date);\n        date = roundToNearestMinutes(date, { nearestTo: 5 });\n        this.time = format(date, 'HH:mm');\n        this._time_options = this.generateAvailableTimes(\n            this.date,\n            !this.no_past_times,\n            this.step\n        );\n    }\n\n    public setDisabledState(disabled: boolean) {\n        this.disabled = disabled;\n    }\n\n    /**\n     * Registers a callback function that is called when the control's value changes in the UI.\n     * @param fn The callback function to register\n     */\n    public registerOnChange(fn: (_: number) => void): void {\n        this._onChange = fn;\n    }\n\n    /**\n     * Registers a callback function is called by the forms API on initialization to update the form model on blur.\n     * @param fn The callback function to register\n     */\n    public registerOnTouched(fn: (_: number) => void): void {\n        this._onTouch = fn;\n    }\n\n    /**\n     * Show select field for time options\n     */\n    public showSelect() {\n        this.show_select = true;\n        this.timeout('on_shown', () => {\n            if (this.select_field) {\n                this.select_field.focus();\n                this.select_field.open();\n                this.subscription(\n                    'listen_close',\n                    this.select_field.openedChange.subscribe((state) => {\n                        if (!state) {\n                            this.show_select = false;\n                        }\n                    })\n                );\n            }\n        });\n    }\n\n    /**\n     * Generate a list of time options for the given date\n     * @param datestamp Date to generate options for\n     * @param show_past Whether past times should be options\n     */\n    private generateAvailableTimes(\n        datestamp: number,\n        show_past: boolean,\n        step: number = 15\n    ): Identity[] {\n        const now = new Date();\n        let date = new Date(datestamp);\n        const blocks = [];\n        if (show_past || (!isSameDay(date, now) && isAfter(date, now))) {\n            date = startOfDay(date);\n        } else if (isAfter(date, now)) {\n            date = now;\n        }\n        date = roundToNearestMinutes(date, { nearestTo: step });\n        const end = endOfDay(date);\n        // Add options for the rest of the day\n        while (isAfter(end, date)) {\n            blocks.push({\n                date: date.valueOf(),\n                id: format(date, 'HH:mm'),\n            });\n            date = addMinutes(date, step);\n        }\n        return blocks;\n    }\n}\n","import { Component, forwardRef } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { randomInt } from '@placeos/common';\nimport { Attachment } from '@placeos/users';\nimport { takeWhile } from 'rxjs/operators';\n\nimport * as blobUtil from 'blob-util';\nimport { uploadFiles } from '@placeos/cloud-uploads';\n\n@Component({\n    selector: 'upload-file',\n    template: `\n        <div\n            class=\"bg-gray-50 hover:bg-gray-100 cursor-pointer p-2 rounded border border-gray-200 w-full relative\"\n        >\n            <input\n                type=\"file\"\n                class=\"absolute inset-0 opacity-0 max-w-full z-10\"\n                (change)=\"onFileEvent($event)\"\n            />\n            <div\n                item\n                *ngIf=\"item; else empty_state\"\n                class=\"w-full flex items-center border border-gray-200 rounded bg-white hover:bg-gray-100 relative z-50\"\n                [class.!bg-red-600]=\"item.progress < 1\"\n                [class.!bg-opacity-20]=\"item.progress < 1\"\n            >\n                <div class=\"flex-1 w-px font-mono truncate px-2 text-sm\">\n                    {{ item.name }}\n                </div>\n                <ng-container *ngIf=\"item.progress >= 0 && item.progress < 100\">\n                    <div class=\"relative mx-1\">\n                        <mat-progress-spinner\n                            [diameter]=\"32\"\n                            mode=\"determinate\"\n                            [value]=\"item.progress\"\n                        ></mat-progress-spinner>\n\n                        <div\n                            class=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-sm font-bold\"\n                        >\n                            {{ item.progress }}\n                        </div>\n                    </div>\n                </ng-container>\n                <a\n                    [href]=\"item.url\"\n                    icon\n                    matRipple\n                    *ngIf=\"item.progress >= 100\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                >\n                    <app-icon>link</app-icon>\n                </a>\n                <button icon (click)=\"writeValue(null)\">\n                    <app-icon>close</app-icon>\n                </button>\n            </div>\n        </div>\n        <ng-template #empty_state>\n            <div\n                class=\"h-full w-full flex flex-col justify-center items-center z-0\"\n            >\n                <p class=\"opacity-30\" i18n>Drop file or click to upload file</p>\n            </div>\n        </ng-template>\n    `,\n    styles: [``],\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: forwardRef(() => UploadFileFieldComponent),\n            multi: true,\n        },\n    ],\n})\nexport class UploadFileFieldComponent implements ControlValueAccessor {\n    public item: Attachment;\n    /** Form control on change handler */\n    private _onChange: (_: Attachment) => void;\n    /** Form control on touch handler */\n    private _onTouch: (_: Attachment) => void;\n\n    public readonly registerOnChange = (fn) => (this._onChange = fn);\n    public readonly registerOnTouched = (fn) => (this._onTouch = fn);\n\n    /**\n     * Update the form field value\n     * @param new_value New value to set on the form field\n     */\n    public setValue(new_value: Attachment): void {\n        this.item = new_value;\n        if (this._onChange) this._onChange(this.item);\n    }\n\n    /**\n     * Update local value when form control value is changed\n     * @param value The new value for the component\n     */\n    public writeValue(value: Attachment) {\n        this.item = value;\n    }\n\n    public onFileEvent(event) {\n        const element: HTMLInputElement = event.target as any;\n        /* istanbul ignore else */\n        if (!element?.files?.length) return;\n        const files: FileList = element.files;\n        const on_change = (item) => {\n            this.item = item;\n            this.setValue(this.item);\n        };\n        this._uploadFile(files[0], on_change);\n    }\n\n    private _uploadFile(file: File, on_change: (item: Attachment) => void) {\n        const fileReader = new FileReader();\n        fileReader.addEventListener('loadend', (e: any) => {\n            const arrayBuffer = e.target.result;\n            const blob = blobUtil.arrayBufferToBlob(arrayBuffer, file.type);\n            const upload_list = uploadFiles([blob], { file_name: file.name });\n            const upload = upload_list[0];\n            const upload_details: Attachment = {\n                id: `${randomInt(9999_9999_9999)}`,\n                name: file.name,\n                progress: 0,\n                size: file.size,\n                created_at: Date.now(),\n                url: '',\n            };\n            upload.status\n                .pipe(takeWhile((_) => _.status !== 'complete', true))\n                .subscribe((state) => {\n                    if (upload.access_url)\n                        upload_details.url = upload.access_url;\n                    upload_details.progress = state.progress;\n                    if (state.status === 'error') upload_details.progress = -1;\n                    on_change(upload_details);\n                });\n            on_change(upload_details);\n        });\n        fileReader.readAsArrayBuffer(file);\n    }\n}\n","import { Component, forwardRef } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { randomInt } from '@placeos/common';\nimport { Attachment } from '@placeos/users';\nimport { takeWhile } from 'rxjs/operators';\n\nimport * as blobUtil from 'blob-util';\nimport { uploadFiles } from '@placeos/cloud-uploads';\n\n@Component({\n    selector: 'upload-list',\n    template: `\n        <div class=\"flex items-center space-x-2\">\n            <div\n                class=\"w-52 h-48 relative border-2 border-dashed border-gray-300 flex flex-col items-center justify-center rounded hover:bg-black/5 cursor-pointer\"\n            >\n                <app-icon class=\"text-3xl mb-2\">upload_file</app-icon>\n                <p class=\"text-center\" i18n>Drop files</p>\n                <p class=\"text-center text-xs my-1\" i18n>or</p>\n                <button btn matRipple class=\"w-28\" i18n>Browse</button>\n                <input\n                    multiple=\"true\"\n                    type=\"file\"\n                    class=\"absolute inset-0 opacity-0 max-w-full\"\n                    (change)=\"onFileEvent($event)\"\n                />\n            </div>\n            <div class=\"w-1/2 h-48 flex-1 flex flex-col items-center\">\n                <div\n                    list\n                    class=\"space-y-2 w-full h-full overflow-auto\"\n                    *ngIf=\"list?.length; else empty_state\"\n                >\n                    <div\n                        item\n                        *ngFor=\"let item of list\"\n                        class=\"w-full flex items-center border border-gray-200 rounded bg-white hover:bg-gray-100\"\n                        [class.!bg-red-600]=\"item.progress < 1\"\n                        [class.!bg-opacity-20]=\"item.progress < 1\"\n                    >\n                        <div\n                            class=\"flex-1 w-px font-mono truncate px-2 text-sm\"\n                        >\n                            {{ item.name }}\n                        </div>\n                        <ng-container\n                            *ngIf=\"item.progress >= 0 && item.progress < 100\"\n                        >\n                            <div class=\"relative mx-1\">\n                                <mat-progress-spinner\n                                    [diameter]=\"32\"\n                                    mode=\"determinate\"\n                                    [value]=\"item.progress\"\n                                ></mat-progress-spinner>\n\n                                <div\n                                    class=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-sm font-bold\"\n                                >\n                                    {{ item.progress }}\n                                </div>\n                            </div>\n                        </ng-container>\n                        <a\n                            [href]=\"item.url\"\n                            icon\n                            matRipple\n                            *ngIf=\"item.progress >= 100\"\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                        >\n                            <app-icon>link</app-icon>\n                        </a>\n                        <button icon (click)=\"removeFile(item)\">\n                            <app-icon>close</app-icon>\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <ng-template #empty_state>\n            <div\n                class=\"h-full w-full flex flex-col justify-center items-center\"\n            >\n                <p class=\"opacity-30\" i18n>No uploaded files</p>\n            </div>\n        </ng-template>\n    `,\n    styles: [``],\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: forwardRef(() => UploadListFieldComponent),\n            multi: true,\n        },\n    ],\n})\nexport class UploadListFieldComponent implements ControlValueAccessor {\n    public list: Attachment[] = [];\n    /** Form control on change handler */\n    private _onChange: (_: Attachment[]) => void;\n    /** Form control on touch handler */\n    private _onTouch: (_: Attachment[]) => void;\n\n    public readonly registerOnChange = (fn) => (this._onChange = fn);\n    public readonly registerOnTouched = (fn) => (this._onTouch = fn);\n\n    /**\n     * Update the form field value\n     * @param new_value New value to set on the form field\n     */\n    public setValue(new_value: Attachment[]): void {\n        this.list = new_value.filter((_) => _.url && _.progress >= 100);\n        if (this._onChange) this._onChange(this.list);\n    }\n\n    /**\n     * Update local value when form control value is changed\n     * @param value The new value for the component\n     */\n    public writeValue(value: Attachment[]) {\n        this.list = value.map((_) => ({\n            id: `file-${randomInt(999_999_999)}`,\n            ..._,\n        }));\n    }\n\n    public removeFile(item: Attachment) {\n        this.list = this.list.filter((_) => _.id !== item.id);\n    }\n\n    public onFileEvent(event) {\n        const element: HTMLInputElement = event.target as any;\n        /* istanbul ignore else */\n        if (!element?.files?.length) return;\n        const files: FileList = element.files;\n        const on_change = (item) => {\n            this.list = [\n                ...(this.list || []).filter((_) => _.id !== item.id),\n            ].sort((a, b) => a.created_at - b.created_at);\n            this.setValue(this.list);\n        };\n        for (let i = 0; i < files.length; i++) {\n            this._uploadFile(files[i], on_change);\n        }\n    }\n\n    private _uploadFile(file: File, on_change: (item: Attachment) => void) {\n        const fileReader = new FileReader();\n        fileReader.addEventListener('loadend', (e: any) => {\n            const arrayBuffer = e.target.result;\n            const blob = blobUtil.arrayBufferToBlob(arrayBuffer, file.type);\n            const upload_list = uploadFiles([blob], { file_name: file.name });\n            const upload = upload_list[0];\n            const upload_details: Attachment = {\n                id: `${randomInt(9999_9999_9999)}`,\n                name: file.name,\n                progress: 0,\n                size: file.size,\n                created_at: Date.now(),\n                url: '',\n            };\n            upload.status\n                .pipe(takeWhile((_) => _.status !== 'complete', true))\n                .subscribe((state) => {\n                    if (upload.access_url)\n                        upload_details.url = upload.access_url;\n                    upload_details.progress = state.progress;\n                    if (state.status === 'error') upload_details.progress = -1;\n                    on_change(upload_details);\n                });\n            on_change(upload_details);\n        });\n        fileReader.readAsArrayBuffer(file);\n    }\n}\n","import {\n    Component,\n    forwardRef,\n    Output,\n    EventEmitter,\n    Input,\n    ViewChild,\n    ElementRef,\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport {\n    AsyncHandler,\n    csvToJson,\n    currentUser,\n    downloadFile,\n    notifyError,\n    SettingsService,\n    unique,\n} from '@placeos/common';\nimport {\n    catchError,\n    debounceTime,\n    first,\n    map,\n    switchMap,\n    tap,\n} from 'rxjs/operators';\nimport { MatDialog } from '@angular/material/dialog';\nimport { COMMA, ENTER } from '@angular/cdk/keycodes';\nimport { BehaviorSubject, combineLatest, of, zip } from 'rxjs';\n\nimport { NewUserModalComponent } from 'libs/users/src/lib/new-user-modal.component';\nimport { searchGuests } from 'libs/users/src/lib/guests.fn';\nimport { searchStaff } from 'libs/users/src/lib/staff.fn';\nimport { User } from 'libs/users/src/lib/user.class';\nimport { USER_DOMAIN } from 'libs/users/src/lib/user.utilities';\nimport { authority, queryUsers } from '@placeos/ts-client';\n\nfunction validateEmail(email) {\n    const re =\n        /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(email);\n}\n\n@Component({\n    selector: 'a-user-list-field',\n    template: `\n        <div class=\"mb-4\" form-field [attr.disabled]=\"disabled\">\n            <div search>\n                <mat-form-field\n                    class=\"w-full\"\n                    appearance=\"outline\"\n                    matAutocompleteOrigin\n                    #origin=\"matAutocompleteOrigin\"\n                >\n                    <mat-chip-grid #chipList aria-label=\"User Seleciom\">\n                        <mat-chip-row\n                            user\n                            *ngFor=\"let item of active_list\"\n                            [class.bg-yellow-300]=\"item.is_external\"\n                            (removed)=\"removeUser(item)\"\n                        >\n                            {{ item.name || item.email }}\n                            <button\n                                matChipRemove\n                                remove\n                                [attr.aria-label]=\"\n                                    'Remove ' + (item.name || item.email)\n                                \"\n                            >\n                                <app-icon>cancel</app-icon>\n                            </button>\n                        </mat-chip-row>\n                    </mat-chip-grid>\n                    <input\n                        #search_field\n                        placeholder=\"Type a name or email\"\n                        i18n-placeholder\n                        name=\"user_email\"\n                        [ngModel]=\"search$ | async\"\n                        (ngModelChange)=\"updateSearch($event)\"\n                        [matAutocomplete]=\"auto\"\n                        [matChipInputFor]=\"chipList\"\n                        [matChipInputSeparatorKeyCodes]=\"separatorKeysCodes\"\n                        (matChipInputTokenEnd)=\"addUserFromEmail($event.value)\"\n                    />\n                    <mat-spinner\n                        *ngIf=\"loading\"\n                        diameter=\"24\"\n                        matSuffix\n                    ></mat-spinner>\n                </mat-form-field>\n                <mat-autocomplete #auto=\"matAutocomplete\">\n                    <mat-option\n                        *ngIf=\"search_valid_email\"\n                        (click)=\"addUserFromEmail()\"\n                        i18n\n                    >\n                        Add external user with email \"{{ search$.getValue() }}\"\n                    </mat-option>\n                    <mat-option\n                        *ngFor=\"let user of user_list$ | async\"\n                        (click)=\"addUser(user)\"\n                        class=\"leading-tight\"\n                    >\n                        {{ user.name }}<br />\n                        <span class=\"text-xs\">{{ user.email }}</span>\n                    </mat-option>\n                </mat-autocomplete>\n            </div>\n            <div\n                class=\"flex items-center space-x-2 -mt-4\"\n                actions\n                *ngIf=\"!hide_actions\"\n            >\n                <button\n                    btn\n                    matRipple\n                    type=\"button\"\n                    name=\"new-contact\"\n                    class=\"inverse flex-1 sm:flex-none\"\n                    (click)=\"openNewUserModal()\"\n                    i18n=\"Add new external attendee\"\n                >\n                    <div class=\"flex items-center justify-center\">\n                        Add&nbsp;<span class=\"hidden sm:inline\">External</span>\n                    </div>\n                </button>\n                <button\n                    btn\n                    matRipple\n                    type=\"button\"\n                    name=\"upload-csv\"\n                    class=\"relative inverse flex-1 sm:flex-none\"\n                    i18n=\"Upload attendee list from CSV file\"\n                >\n                    <div class=\"flex items-center justify-center\">\n                        Upload&nbsp;<span class=\"hidden sm:inline\">CSV</span>\n                    </div>\n                    <input\n                        class=\"opacity-0 absolute inset-0\"\n                        type=\"file\"\n                        (change)=\"addUsersFromFile($event)\"\n                    />\n                </button>\n                <button\n                    btn\n                    matRipple\n                    type=\"button\"\n                    name=\"download-template\"\n                    class=\"inverse flex-1 sm:flex-none\"\n                    (click)=\"downloadCSVTemplate(); download.emit()\"\n                    i18n=\"Download template CSV file\"\n                >\n                    <div class=\"flex items-center justify-center\">\n                        <span class=\"hidden sm:inline\">CSV</span>&nbsp;Template\n                    </div>\n                </button>\n            </div>\n        </div>\n    `,\n    styles: [\n        `\n            [search] {\n            }\n        `,\n    ],\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: forwardRef(() => UserListFieldComponent),\n            multi: true,\n        },\n    ],\n})\nexport class UserListFieldComponent\n    extends AsyncHandler\n    implements ControlValueAccessor\n{\n    /** Whether form field is disabled */\n    @Input() public disabled: boolean;\n    /** Number of characters needed before a search will start */\n    @Input() public limit = 3;\n    /** Whether guests should also show when searching for users */\n    @Input() public guests = false;\n    /** Whether guests should also show when searching for users */\n    @Input() public guests_only = false;\n    /** Whether optional actions should be shown */\n    @Input('hideActions') public hide_actions = false;\n    /** Whether as custom template will be provided outside the component */\n    @Input() public custom_template = false;\n    /** Function for filtering the results of the user list */\n    @Input() public filter: (_: any) => boolean;\n    /** Emitter for action to make a new user */\n    @Output() public new_user = new EventEmitter<void>();\n    /** Whether user should download the CSV template */\n    @Output() public download = new EventEmitter<void>();\n\n    readonly separatorKeysCodes = [ENTER, COMMA] as const;\n\n    /** Whether user list is loading */\n    public loading = false;\n    public readonly search$ = new BehaviorSubject('');\n\n    @ViewChild('search_field') private _search_el: ElementRef<HTMLInputElement>;\n\n    private searchStaff(q: string) {\n        return this._settings.get('app.basic_user_search')\n            ? queryUsers({ q, authority_id: authority()?.id }).pipe(\n                  map((_) => _.data.map((u) => new User(u)))\n              )\n            : searchStaff(q);\n    }\n\n    /** User list to display */\n    public user_list$ = this.search$.pipe(\n        debounceTime(300),\n        switchMap((_) => {\n            this.loading = true;\n            return (\n                _\n                    ? this.guests\n                        ? combineLatest([\n                              this.searchStaff(_),\n                              searchGuests(_),\n                          ]).pipe(\n                              map(([staff, guests]) => {\n                                  if (this.guests_only) staff = [];\n                                  const visitors_list = [];\n                                  const visitors =\n                                      this._settings.get('visitor-invitees') ||\n                                      [];\n                                  for (const item of visitors) {\n                                      const [email, name, company] =\n                                          item.split('|');\n                                      visitors_list.push({\n                                          email,\n                                          name,\n                                          company,\n                                      });\n                                  }\n                                  return unique(\n                                      (staff as any)\n                                          .concat(guests)\n                                          .concat(visitors_list),\n                                      'email'\n                                  );\n                              })\n                          )\n                        : this.searchStaff(_)\n                    : of([])\n            ).pipe(catchError((_) => of([])));\n        }),\n        tap((_) => (this.loading = false))\n    );\n    /** List of active selected users on the list */\n    public active_list: User[] = [];\n\n    /** Form control on change handler */\n    private _onChange: (_: User[]) => void;\n    /** Form control on touch handler */\n    private _onTouch: (_: User[]) => void;\n\n    public readonly validFn = (s) => validateEmail(s);\n    public readonly emptyClick = () => this.openNewUserModal(new User());\n\n    public get search_valid_email() {\n        return validateEmail(this.search$.getValue());\n    }\n\n    constructor(\n        private _dialog: MatDialog,\n        private _settings: SettingsService\n    ) {\n        super();\n    }\n\n    public updateSearch(new_value: string = '') {\n        this.timeout('search', () => this.search$.next(new_value));\n    }\n\n    public addUserFromEmail(email: string = '') {\n        if (!email) email = this.search$.getValue();\n        if (!validateEmail(email)) return;\n        const user = new User({ id: email, email, name: email.split('@')[0] });\n        this.addUser(user);\n        const { name, organisation } = user;\n        const visitor_details = `${email}|${name}|${organisation}`;\n        const old_visitors = this._settings.get('visitor-invitees') || [];\n        this._settings.saveUserSetting('visitor-invitees', [\n            ...old_visitors.filter((_) => !_.includes(email)),\n            visitor_details,\n        ]);\n        this.timeout(\n            'clear_search',\n            () => {\n                this.search$.next('');\n                this._search_el.nativeElement.value = '';\n            },\n            100\n        );\n    }\n\n    /**\n     * Add user to the user list\n     * @param user\n     */\n    public addUser(user: User) {\n        const list = this.active_list?.filter((_) => _.id !== user.id) || [];\n        this.setValue([\n            ...list,\n            new User({\n                ...user,\n                id: user.id || user.email,\n                visit_expected:\n                    (!user.id && user.is_external !== true\n                        ? user.visit_expected\n                        : null) ?? true,\n            }),\n        ]);\n        this.timeout(\n            'clear_search',\n            () => {\n                this.search$.next('');\n                this._search_el.nativeElement.value = '';\n            },\n            100\n        );\n    }\n\n    /**\n     * Remove user from the user list\n     * @param user\n     */\n    public removeUser(user: User) {\n        const list = this.active_list.filter((a_user) => a_user.id !== user.id);\n        this.setValue(list);\n    }\n\n    /**\n     * Load CSV file and populate the user list with the contents\n     * @param event File input field event\n     */\n    public addUsersFromFile(event) {\n        /* istanbul ignore else */\n        if (event.target) {\n            const file = event.target.files[0];\n            /* istanbul ignore else */\n            if (file) {\n                const reader = new FileReader();\n                reader.readAsText(file, 'UTF-8');\n                reader.addEventListener('load', (evt) => {\n                    this.processCsvData((evt.srcElement as any).result);\n                    event.target.value = '';\n                });\n                reader.addEventListener('error', (_) =>\n                    notifyError('Error reading file.')\n                );\n            }\n        }\n    }\n\n    /**\n     * Process raw CSV data and save user data to attendee list\n     * @param data CSV data\n     */\n    private processCsvData(data: string) {\n        const list = csvToJson(data) || [];\n        const id = currentUser()?.staff_id || 'unknown';\n        for (const el of list) {\n            el.name = el.name || `${el.first_name} ${el.last_name}`;\n            const display = (\n                el.name || `${Math.floor(Math.random() * 9999_9999)}`\n            )\n                .split(' ')\n                .join('_')\n                .toLowerCase();\n            /* istanbul ignore else */\n            if (!el.email) {\n                el.email = `${display}+${id}@guest.${USER_DOMAIN}`;\n            }\n            const internal_emails = this._settings.get(\n                'app.booking.internal_emails'\n            ) || ['place.tech'];\n            el.visit_expected =\n                el.visit_expected ??\n                !internal_emails.find((_) => el.email.endsWith(_));\n\n            /** Convert phone to string. PWCME-544 */\n            el.phone = '' + el.phone;\n\n            this.addUser(new User(el));\n        }\n    }\n\n    /* istanbul ignore next */\n    /** Download template CSV file */\n    public downloadCSVTemplate() {\n        if (this.custom_template) return;\n        const template = `Organisation,First Name,Last Name,Email,Phone,Assistance Required,Visit Expected\\nFake Org,John,Smith,john.smith@example.com,01234567898,false,true`;\n        downloadFile('template.csv', template);\n    }\n\n    /**\n     * Update the form field value\n     * @param new_value New value to set on the form field\n     */\n    public setValue(new_value: User[]): void {\n        this.active_list = new_value;\n        if (this._onChange) {\n            this._onChange(new_value);\n        }\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Update local value when form control value is changed\n     * @param value The new value for the component\n     */\n    public writeValue(value: User[]) {\n        this.active_list = value;\n    }\n\n    public setDisabledState(disabled: boolean) {\n        this.disabled = disabled;\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Registers a callback function that is called when the control's value changes in the UI.\n     * @param fn The callback function to register\n     */\n    public registerOnChange(fn: (_: User[]) => void): void {\n        this._onChange = fn;\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Registers a callback function is called by the forms API on initialization to update the form model on blur.\n     * @param fn The callback function to register\n     */\n    public registerOnTouched(fn: (_: User[]) => void): void {\n        this._onTouch = fn;\n    }\n\n    public displayFn(item): string {\n        return item?.name || '';\n    }\n\n    /**\n     * Open modal to add or update user details\n     */\n    public openNewUserModal(user: User = new User()) {\n        const ref = this._dialog.open<NewUserModalComponent>(\n            NewUserModalComponent,\n            {\n                width: 'auto',\n                height: 'auto',\n                data: { user },\n            }\n        );\n        ref.componentInstance?.event\n            .pipe(first((_) => _.reason === 'done'))\n            .subscribe((event) => {\n                this.addUser(event.metadata);\n                ref.close();\n            });\n    }\n}\n","/* eslint-disable @typescript-eslint/member-ordering */\nimport {\n    Component,\n    OnInit,\n    forwardRef,\n    Input,\n    ViewChild,\n    ElementRef,\n} from '@angular/core';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\nimport { Subject, Observable, of, forkJoin } from 'rxjs';\nimport {\n    switchMap,\n    debounceTime,\n    distinctUntilChanged,\n    map,\n    catchError,\n} from 'rxjs/operators';\n\nimport { AsyncHandler, flatten, SettingsService } from '@placeos/common';\nimport { searchGuests } from 'libs/users/src/lib/guests.fn';\nimport { searchStaff } from 'libs/users/src/lib/staff.fn';\nimport { User } from 'libs/users/src/lib/user.class';\nimport { authority, queryUsers } from '@placeos/ts-client';\n\n@Component({\n    selector: 'a-user-search-field',\n    template: `\n        <div class=\"user-search-field\" form-field>\n            <mat-form-field appearance=\"outline\">\n                <input\n                    #input\n                    matInput\n                    keyboard\n                    name=\"user-search\"\n                    [(ngModel)]=\"search_str\"\n                    (ngModelChange)=\"search$.next($event || '')\"\n                    [disabled]=\"disabled\"\n                    [placeholder]=\"placeholder || 'Search for user...'\"\n                    [matAutocomplete]=\"auto\"\n                    (keyup.enter)=\"\n                        validate && validate(search_str)\n                            ? setValue(search_str)\n                            : ''\n                    \"\n                    (blur)=\"resetSearchString()\"\n                    (focus)=\"cancelReset()\"\n                />\n                <app-icon matPrefix class=\"text-2xl relative\">search</app-icon>\n                <mat-spinner\n                    *ngIf=\"loading\"\n                    matSuffix\n                    diameter=\"16\"\n                ></mat-spinner>\n            </mat-form-field>\n            <mat-autocomplete\n                #auto=\"matAutocomplete\"\n                (optionSelected)=\"setValue($event.option.value)\"\n            >\n                <mat-option\n                    *ngFor=\"let option of user_list\"\n                    (click)=\"setValue(option); blurInput()\"\n                >\n                    <div class=\"leading-tight\">{{ option.name }}</div>\n                    <div class=\"text-xs opacity-60\">\n                        {{ option.email }}\n                    </div>\n                </mat-option>\n                <mat-option\n                    *ngIf=\"search_str && validate && validate(search_str)\"\n                    class=\"relative pointer-events-none\"\n                >\n                    <div\n                        class=\"absolute inset-0 px-4 pointer-events-auto\"\n                        (mousedown)=\"\n                            $event.stopPropagation(); $event.preventDefault()\n                        \"\n                        (touchstart)=\"\n                            $event.stopPropagation(); $event.preventDefault()\n                        \"\n                        (click)=\"\n                            setValue(search_str);\n                            $event.stopPropagation();\n                            $event.preventDefault()\n                        \"\n                    >\n                        <div class=\"pointer-events-none\" i18n>\n                            Add external attendee \"{{ search_str }}\"\n                        </div>\n                    </div>\n                </mat-option>\n                <mat-option\n                    *ngIf=\"!user_list?.length && (search_str || error)\"\n                    [disabled]=\"!empty_fn\"\n                    (click)=\"empty_fn()\"\n                >\n                    {{ search_str ? 'No users found.' : '' }} {{ error }}\n                </mat-option>\n            </mat-autocomplete>\n        </div>\n    `,\n    styles: [\n        `\n            :host,\n            mat-form-field {\n                width: 100%;\n            }\n\n            app-icon {\n                top: 0.15em;\n                left: -0.15em;\n            }\n        `,\n    ],\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: forwardRef(() => UserSearchFieldComponent),\n            multi: true,\n        },\n    ],\n})\nexport class UserSearchFieldComponent\n    extends AsyncHandler\n    implements OnInit, ControlValueAccessor\n{\n    /** Whether form field is disabled */\n    @Input() public disabled: boolean;\n    /** Placeholder text to display */\n    @Input() public placeholder: string;\n    /** Limit available options to these */\n    @Input() public options: User[];\n    /** Whether guests should also show when searching for users */\n    @Input() public guests: boolean;\n    /** Message to display when no user matches have been found */\n    @Input() public error = '';\n    /** Function to validate the search string */\n    @Input() public validate: (s: string) => boolean;\n    /** Function to call when empty list option is clicked */\n    @Input() public empty_fn: () => void;\n    /** Function for filtering the results of the user list */\n    @Input() public filter: (_: any, s?: string) => boolean;\n\n    @Input() public query_fn: (_: string) => Observable<User[]> = (q) =>\n        this._settings.get('app.basic_user_search')\n            ? queryUsers({ q, authority_id: authority()?.id }).pipe(\n                  map((_) => _.data.map((_) => new User(_)))\n              )\n            : searchStaff(q);\n    /** Currently selected user */\n    public active_user: User;\n    /** User list to display */\n    public user_list: User[];\n    /** Whether user list is loading */\n    public loading: boolean;\n    /** Current display value of the search input field  */\n    public search_str: string;\n    /** Subject holding the value of the search */\n    public search$ = new Subject<string>();\n    /** List of users from an API search */\n    public search_results$: Observable<User[]> = this.search$.pipe(\n        debounceTime(400),\n        distinctUntilChanged(),\n        switchMap((query) => {\n            this.loading = true;\n            return this.options && this.options.length > 0\n                ? of(this.options)\n                : query.length >= 3\n                ? !this.guests\n                    ? this.query_fn(query)\n                    : forkJoin([searchStaff(query), searchGuests(query)])\n                : of([]);\n        }),\n        catchError((_) => of([])),\n        map((list: User[]) => {\n            this.loading = false;\n            list = flatten(list);\n            const search = (this.search_str || '').toLowerCase();\n            return list.filter(\n                (item) => !this.filter || this.filter(item, search)\n            );\n        })\n    );\n\n    constructor(private _settings: SettingsService) {\n        super();\n    }\n\n    /** Form control on change handler */\n    private _onChange: (_: User) => void;\n    /** Form control on touch handler */\n    private _onTouch: (_: User) => void;\n\n    @ViewChild('input', { read: ElementRef })\n    private _input_el: ElementRef<HTMLInputElement>;\n\n    public cancelReset = () => this.clearTimeout('reset');\n\n    public blurInput = () => {\n        this.timeout('blur', () => this._input_el?.nativeElement?.blur());\n    };\n\n    public ngOnInit(): void {\n        // Process API results\n        this.subscription(\n            'search_results',\n            this.search_results$.subscribe((list) => (this.user_list = list))\n        );\n        this.resetSearchString();\n    }\n\n    /**\n     * Reset the search string back to the name of the active user\n     */\n    public resetSearchString() {\n        this.timeout(\n            'reset',\n            () => (this.search_str = this.active_user?.name || ''),\n            100\n        );\n    }\n\n    /**\n     * Update the form field value\n     * @param new_value New value to set on the form field\n     */\n    public setValue(new_value: User | string, email?: string): void {\n        if (\n            typeof new_value === 'string' &&\n            (new_value as any) === this.search_str\n        ) {\n            new_value = new User({\n                name: (this.search_str || email || '').split('@')[0],\n                email: this.search_str || email || '',\n            });\n        }\n        if (!(new_value instanceof User)) return;\n        this.active_user = new_value;\n        if (this._onChange) {\n            this._onChange(new_value);\n        }\n        this.resetSearchString();\n    }\n\n    /**\n     * Update local value when form control value is changed\n     * @param value The new value for the component\n     */\n    public writeValue(value: User) {\n        this.active_user = value;\n        this.resetSearchString();\n    }\n\n    public setDisabledState(disabled: boolean) {\n        this.disabled = disabled;\n    }\n\n    /**\n     * Registers a callback function that is called when the control's value changes in the UI.\n     * @param fn The callback function to register\n     */\n    public registerOnChange(fn: (_: User) => void): void {\n        this._onChange = fn;\n    }\n\n    /**\n     * Registers a callback function is called by the forms API on initialization to update the form model on blur.\n     * @param fn The callback function to register\n     */\n    public registerOnTouched(fn: (_: User) => void): void {\n        this._onTouch = fn;\n    }\n}\n","\nexport * as MOCKS from './mocks';\n","import { getUnixTime } from 'date-fns';\nimport { Asset } from 'libs/assets/src/lib/asset.class';\n\nexport const MOCK_CATEGORIES = [\n    { id: '1', name: 'Technology' },\n    { id: '2', name: 'Furniture' },\n    { id: '3', name: 'Stationary' },\n    { id: '4', name: 'Other' },\n];\n\nexport const MOCK_PRODUCTS = [\n    { id: '1', name: 'iPad', category_id: '1', brand: 'Apple', barcode: '123' },\n    {\n        id: '2',\n        name: 'iPhone',\n        category_id: '1',\n        brand: 'Apple',\n        barcode: '456',\n        images: [],\n    },\n    {\n        id: '3',\n        name: 'iWatch',\n        category_id: '1',\n        brand: 'Apple',\n        barcode: '789',\n    },\n    {\n        id: '4',\n        name: 'Chair',\n        category_id: '2',\n        brand: 'Herman Miller',\n        barcode: '101',\n    },\n    {\n        id: '5',\n        name: 'Lounge',\n        category_id: '2',\n        brand: 'Ikea',\n        barcode: '102',\n    },\n    { id: '6', name: 'Table', category_id: '2', brand: 'Ikea', barcode: '103' },\n    { id: '7', name: 'Couch', category_id: '2', brand: 'Ikea', barcode: '104' },\n    {\n        id: '8',\n        name: 'Test Item',\n        category_id: '4',\n        brand: 'Test Brand',\n        barcode: '105',\n    },\n    {\n        id: '9',\n        name: 'Notepad',\n        category_id: '3',\n        brand: 'J.Burrows',\n        barcode: '106',\n    },\n    {\n        id: '10',\n        name: 'Whiteboard Markers',\n        category_id: '3',\n        brand: 'Artline',\n        barcode: '107',\n    },\n    {\n        id: '11',\n        name: 'Whiteboard',\n        category_id: '2',\n        brand: 'Ikea',\n        barcode: '108',\n    },\n];\n\nexport const MOCK_ASSETS: Partial<Asset>[] = Array(100)\n    .fill(null)\n    .map((_, i) => ({\n        id: `asset-${i}`,\n        name: `Asset ${i}`,\n        type_id: MOCK_PRODUCTS[i % MOCK_PRODUCTS.length].id,\n        description: `This is asset ${i}`,\n        model_number: `Model ${i}`,\n        serial_number: `Serial ${i}`,\n        identifier: `Identifier ${i}`,\n        other_data: {},\n        purchase_order_id: `purchase-order-${i}`,\n    }));\n\nexport const MOCK_PURCHASE_ORDERS = Array(100)\n    .fill(null)\n    .map((_, i) => ({\n        id: `purchase-order-${i}`,\n        order_number: `Order ${i}`,\n        invoice_number: `Invoice ${i}`,\n        purchase_date: getUnixTime(Date.now()),\n        expected_service_start_date: getUnixTime(Date.now()),\n        expected_service_end_date: getUnixTime(Date.now() + 1000000000),\n    }));\n","import { predictableRandomInt } from '@placeos/common';\nimport { registerMockEndpoint } from '@placeos/ts-client';\nimport {\n    MOCK_ASSETS,\n    MOCK_CATEGORIES,\n    MOCK_PRODUCTS,\n    MOCK_PURCHASE_ORDERS,\n} from './assets.data';\n\nconst BASE_PATH = '/api/engine/v2';\n\nexport const ASSET_MOCKS = registerMocks();\n\nconst update = (dataset) => (id, data) => {\n    const index = dataset.findIndex((e) => e.id === id);\n    if (index < 0)\n        throw {\n            status: 404,\n            message: `Unable to find booking with ID ${id}`,\n        };\n    const new_event = { ...data };\n    dataset.splice(index, 1, new_event);\n    return new_event;\n};\n\nfunction registerMocks() {\n    registerMockEndpoint({\n        path: `${BASE_PATH}/asset_categories`,\n        metadata: {},\n        method: 'GET',\n        callback: (_) => {\n            const events = MOCK_CATEGORIES;\n            return events;\n        },\n    });\n\n    registerMockEndpoint({\n        path: `${BASE_PATH}/asset_categories/:id`,\n        metadata: {},\n        method: 'GET',\n        callback: (_) => {\n            const event = MOCK_CATEGORIES.find(\n                (e) => e.id === _.route_params.id\n            );\n            if (!event)\n                throw {\n                    status: 404,\n                    message: `Unable to find booking with ID ${_.route_params.id}`,\n                };\n            return event;\n        },\n    });\n\n    registerMockEndpoint({\n        path: `${BASE_PATH}/asset_categories`,\n        metadata: {},\n        method: 'POST',\n        callback: (request) => {\n            const new_event = {\n                ...request.body,\n                id: `-category-${predictableRandomInt(999)}`,\n            };\n            MOCK_CATEGORIES.push(new_event);\n            return new_event;\n        },\n    });\n\n    registerMockEndpoint({\n        path: `${BASE_PATH}/asset_categories/:id`,\n        metadata: {},\n        method: 'PUT',\n        callback: (req) =>\n            update(MOCK_CATEGORIES)(req.route_params.id, { ...req.body }),\n    });\n\n    registerMockEndpoint({\n        path: `${BASE_PATH}/asset_categories/:id`,\n        metadata: {},\n        method: 'DELETE',\n        callback: (req) => {\n            const index = MOCK_CATEGORIES.findIndex(\n                (e) => e.id === req.route_params.id\n            );\n            if (index < 0)\n                throw {\n                    status: 404,\n                    message: `Unable to find booking with ID ${req.route_params.id}`,\n                };\n            MOCK_CATEGORIES.splice(index, 1);\n            return;\n        },\n    });\n\n    registerMockEndpoint({\n        path: `${BASE_PATH}/asset_types`,\n        metadata: {},\n        method: 'GET',\n        callback: (_) => {\n            const events = MOCK_PRODUCTS;\n            return events;\n        },\n    });\n\n    registerMockEndpoint({\n        path: `${BASE_PATH}/asset_types/:id`,\n        metadata: {},\n        method: 'GET',\n        callback: (_) => {\n            const event = MOCK_PRODUCTS.find((e) => e.id === _.route_params.id);\n            if (!event)\n                throw {\n                    status: 404,\n                    message: `Unable to find booking with ID ${_.route_params.id}`,\n                };\n            return event;\n        },\n    });\n\n    registerMockEndpoint({\n        path: `${BASE_PATH}/asset_types`,\n        metadata: {},\n        method: 'POST',\n        callback: (request) => {\n            const new_event = {\n                ...request.body,\n                id: `-product-${predictableRandomInt(999)}`,\n            };\n            MOCK_PRODUCTS.push(new_event);\n            return new_event;\n        },\n    });\n\n    registerMockEndpoint({\n        path: `${BASE_PATH}/asset_types/:id`,\n        metadata: {},\n        method: 'PUT',\n        callback: (req) =>\n            update(MOCK_PRODUCTS)(req.route_params.id, { ...req.body }),\n    });\n\n    registerMockEndpoint({\n        path: `${BASE_PATH}/asset_types/:id`,\n        metadata: {},\n        method: 'DELETE',\n        callback: (req) => {\n            const index = MOCK_PRODUCTS.findIndex(\n                (e) => e.id === req.route_params.id\n            );\n            if (index < 0)\n                throw {\n                    status: 404,\n                    message: `Unable to find booking with ID ${req.route_params.id}`,\n                };\n            MOCK_PRODUCTS.splice(index, 1);\n            return;\n        },\n    });\n\n    registerMockEndpoint({\n        path: `${BASE_PATH}/asset_purchase_orders`,\n        metadata: {},\n        method: 'GET',\n        callback: (_) => {\n            const events = MOCK_PURCHASE_ORDERS;\n            return events;\n        },\n    });\n\n    registerMockEndpoint({\n        path: `${BASE_PATH}/asset_purchase_orders/:id`,\n        metadata: {},\n        method: 'GET',\n        callback: (_) => {\n            const event = MOCK_PURCHASE_ORDERS.find(\n                (e) => e.id === _.route_params.id\n            );\n            if (!event)\n                throw {\n                    status: 404,\n                    message: `Unable to find booking with ID ${_.route_params.id}`,\n                };\n            return event;\n        },\n    });\n\n    registerMockEndpoint({\n        path: `${BASE_PATH}/asset_purchase_orders`,\n        metadata: {},\n        method: 'POST',\n        callback: (request) => {\n            const new_event = {\n                ...request.body,\n                id: `-purchase-order-${predictableRandomInt(999)}`,\n            };\n            MOCK_PURCHASE_ORDERS.push(new_event);\n            return new_event;\n        },\n    });\n\n    registerMockEndpoint({\n        path: `${BASE_PATH}/asset_purchase_orders/:id`,\n        metadata: {},\n        method: 'PUT',\n        callback: (req) =>\n            update(MOCK_PURCHASE_ORDERS)(req.route_params.id, { ...req.body }),\n    });\n\n    registerMockEndpoint({\n        path: `${BASE_PATH}/asset_purchase_orders/:id`,\n        metadata: {},\n        method: 'DELETE',\n        callback: (req) => {\n            const index = MOCK_PURCHASE_ORDERS.findIndex(\n                (e) => e.id === req.route_params.id\n            );\n            if (index < 0)\n                throw {\n                    status: 404,\n                    message: `Unable to find purchase order with ID ${req.route_params.id}`,\n                };\n            MOCK_PURCHASE_ORDERS.splice(index, 1);\n            return;\n        },\n    });\n\n    registerMockEndpoint({\n        path: `${BASE_PATH}/assets`,\n        metadata: {},\n        method: 'GET',\n        callback: (_) => {\n            const events = MOCK_ASSETS;\n            return events;\n        },\n    });\n\n    registerMockEndpoint({\n        path: `${BASE_PATH}/assets/:id`,\n        metadata: {},\n        method: 'GET',\n        callback: (_) => {\n            const event = MOCK_ASSETS.find((e) => e.id === _.route_params.id);\n            if (!event)\n                throw {\n                    status: 404,\n                    message: `Unable to find booking with ID ${_.route_params.id}`,\n                };\n            return event;\n        },\n    });\n\n    registerMockEndpoint({\n        path: `${BASE_PATH}/assets`,\n        metadata: {},\n        method: 'POST',\n        callback: (request) => {\n            const new_event = {\n                ...request.body,\n                id: `-asset-${predictableRandomInt(999)}`,\n            };\n            MOCK_ASSETS.push(new_event);\n            return new_event;\n        },\n    });\n\n    registerMockEndpoint({\n        path: `${BASE_PATH}/assets/:id`,\n        metadata: {},\n        method: 'PUT',\n        callback: (req) =>\n            update(MOCK_ASSETS)(req.route_params.id, { ...req.body }),\n    });\n\n    registerMockEndpoint({\n        path: `${BASE_PATH}/assets/:id`,\n        metadata: {},\n        method: 'DELETE',\n        callback: (req) => {\n            const index = MOCK_ASSETS.findIndex(\n                (e) => e.id === req.route_params.id\n            );\n            if (index < 0)\n                throw {\n                    status: 404,\n                    message: `Unable to find booking with ID ${req.route_params.id}`,\n                };\n            MOCK_ASSETS.splice(index, 1);\n            return;\n        },\n    });\n}\n","import {\n    capitalizeFirstLetter,\n    padString,\n    predictableRandomInt,\n    randomString,\n} from '@placeos/common';\nimport { addMinutes, getUnixTime, set, subDays } from 'date-fns';\nimport { MOCK_ASSETS } from './assets.data';\nimport { MOCK_SPACES } from './spaces.data';\n\nimport { MOCK_GUESTS, MOCK_STAFF } from './users.data';\nimport { MOCK_BUILDINGS, MOCK_LEVELS } from './zone.data';\nimport { PARKING_SPACES } from './zones.mock';\n\nlet EVENT_TIME = set(subDays(Date.now(), 3), {\n    hours: 7,\n    minutes: 0,\n    seconds: 0,\n    milliseconds: 0,\n});\n\nconst nextEventTime = (save = false): number => {\n    const next = addMinutes(EVENT_TIME, (predictableRandomInt(8) + 1) * 15);\n    if (save) EVENT_TIME = addMinutes(next, 60);\n    return getUnixTime(next);\n};\n\nconst TYPES = ['desk', 'parking', 'asset-request', 'visitor', 'locker'];\nconst TRACKING = ['in_storage', 'in_transit', 'at_location'];\n\nexport const MOCK_BOOKINGS = new Array(200).fill(0).map((_, index) => {\n    const throw_away = predictableRandomInt(999999) % 3 === 0;\n    const user =\n        MOCK_STAFF[predictableRandomInt(MOCK_STAFF.length)] || ({} as any);\n    const type = TYPES[predictableRandomInt(TYPES.length)];\n    const bld = MOCK_BUILDINGS[predictableRandomInt(MOCK_BUILDINGS.length)];\n    const lvls = MOCK_LEVELS.filter((_) => _.parent_id === bld?.id);\n    const lvl = lvls[predictableRandomInt(lvls.length)];\n    const lvl_spaces =\n        MOCK_SPACES.filter((_) => _.zones.includes(lvl?.id)) || [];\n    const approved = predictableRandomInt(999999) % 4;\n    const approver = MOCK_STAFF[predictableRandomInt(MOCK_STAFF.length)];\n    const guest = MOCK_GUESTS[predictableRandomInt(MOCK_GUESTS.length)];\n    const asset_count = predictableRandomInt(3, 1);\n    const position = padString(\n        (index % 18) + 1 + Math.floor(index / 18) * 100,\n        3\n    );\n    return {\n        id: `booking-${index}`,\n        booking_start: nextEventTime(true),\n        booking_end: nextEventTime(),\n        user_id: user.id,\n        user_name: user.name,\n        user_email: user.email,\n        booked_by_name: user.name,\n        booked_by_email: user.email,\n        asset_id:\n            type === 'visitor'\n                ? guest.email\n                : type === 'parking'\n                ? `park-${position}`\n                : `desk-${lvl?.id}-${index}`,\n        asset_name:\n            type === 'visitor'\n                ? guest.name\n                : type === 'parking'\n                ? position\n                : `${lvl?.id}-${index}`,\n        description:\n            type === 'visitor'\n                ? guest.name\n                : type === 'parking'\n                ? position\n                : `Desk ${index}`,\n        title: `${capitalizeFirstLetter(type)} Booking ${index}`,\n        type,\n        booking_type: type,\n        checked_in: predictableRandomInt(999999) % 3 === 0,\n        access: predictableRandomInt(999999) % 3 === 0,\n        approved: approved === 0,\n        rejected: approved === 1,\n        approver_id: approved === 0 ? approver.id : '',\n        approver_name: approved === 0 ? approver.name : '',\n        approver_email: approved === 0 ? approver.email : '',\n        zones: [bld?.id, lvl?.id],\n        extension_data: {\n            map_id: `table-10.00${index}`,\n            plate_number: randomString(\n                8,\n                'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'\n            ),\n            assets: new Array(asset_count).fill(0).map((_) => ({\n                ...MOCK_ASSETS[predictableRandomInt(asset_count)],\n                amount: predictableRandomInt(5, 1),\n            })),\n            tracking:\n                approved === 0\n                    ? TRACKING[predictableRandomInt(TRACKING.length)]\n                    : 'in_storage',\n            space_id: lvl_spaces[predictableRandomInt(lvl_spaces.length)]?.id,\n        },\n    };\n});\n","import { predictableRandomInt, timePeriodsIntersect } from '@placeos/common';\nimport { registerMockEndpoint } from '@placeos/ts-client';\n\nimport { MOCK_BOOKINGS } from './bookings.data';\n\nexport const BOOKING_MOCKS = registerMocks();\n\nfunction registerMocks() {\n    registerMockEndpoint({\n        path: '/api/staff/v1/bookings',\n        metadata: {},\n        method: 'GET',\n        callback: (_) => {\n            const events = MOCK_BOOKINGS.filter(\n                (event) =>\n                    timePeriodsIntersect(\n                        _.query_params.period_start,\n                        _.query_params.period_end,\n                        event.booking_start,\n                        event.booking_end\n                    ) && (event.type === _.query_params.type || event.booking_type === _.query_params.type)\n            );\n            return events;\n        },\n    });\n\n    registerMockEndpoint({\n        path: '/api/staff/v1/bookings/:id',\n        metadata: {},\n        method: 'GET',\n        callback: (_) => {\n            const event = MOCK_BOOKINGS.find((e) => e.id === _.route_params.id);\n            if (!event)\n                throw {\n                    status: 404,\n                    message: `Unable to find booking with ID ${_.route_params.id}`,\n                };\n            return event;\n        },\n    });\n\n    registerMockEndpoint({\n        path: '/api/staff/v1/bookings',\n        metadata: {},\n        method: 'POST',\n        callback: (request) => {\n            const new_event = {\n                ...request.body,\n                id: `-booking-${predictableRandomInt(999)}`,\n            };\n            MOCK_BOOKINGS.push(new_event);\n            return new_event;\n        },\n    });\n\n    const updateBooking = (id, data) => {\n        const index = MOCK_BOOKINGS.findIndex((e) => e.id === id);\n        if (index < 0)\n            throw {\n                status: 404,\n                message: `Unable to find booking with ID ${id}`,\n            };\n        const new_event = { ...data };\n        const removed = MOCK_BOOKINGS.splice(index, 1, new_event);\n        return new_event;\n    };\n\n    registerMockEndpoint({\n        path: '/api/staff/v1/bookings/:id',\n        metadata: {},\n        method: 'PUT',\n        callback: (req) => updateBooking(req.route_params.id, { ...req.body }),\n    });\n\n    registerMockEndpoint({\n        path: '/api/staff/v1/bookings/:id',\n        metadata: {},\n        method: 'PATCH',\n        callback: (req) => updateBooking(req.route_params.id, { ...req.body }),\n    });\n\n    registerMockEndpoint({\n        path: '/api/staff/v1/bookings/:id/approve',\n        metadata: {},\n        method: 'POST',\n        callback: (req) =>\n            updateBooking(req.route_params.id, {\n                ...req.body,\n                approved: true,\n                rejected: false,\n            }),\n    });\n\n    registerMockEndpoint({\n        path: '/api/staff/v1/bookings/:id/reject',\n        metadata: {},\n        method: 'POST',\n        callback: (req) =>\n            updateBooking(req.route_params.id, {\n                ...req.body,\n                approved: false,\n                rejected: true,\n            }),\n    });\n\n    registerMockEndpoint({\n        path: '/api/staff/v1/bookings/:id/check_in',\n        metadata: {},\n        method: 'POST',\n        callback: (req) =>\n            updateBooking(req.route_params.id, {\n                ...req.body,\n                checked_in: req.query_params.state === 'true',\n            }),\n    });\n\n    registerMockEndpoint({\n        path: '/api/staff/v1/bookings/:id',\n        metadata: {},\n        method: 'DELETE',\n        callback: (req) => {\n            const index = MOCK_BOOKINGS.findIndex(\n                (e) => e.id === req.route_params.id\n            );\n            if (index < 0)\n                throw {\n                    status: 404,\n                    message: `Unable to find booking with ID ${req.route_params.id}`,\n                };\n            MOCK_BOOKINGS.splice(index, 1);\n            return;\n        },\n    });\n}\n","import { registerMockEndpoint } from '@placeos/ts-client';\n\nimport { MOCK_EVENTS } from './events.data';\nimport { MOCK_SPACES } from './spaces.data';\n\nimport { predictableRandomInt, timePeriodsIntersect } from '@placeos/common';\nimport { ACTIVE_USER, MOCK_STAFF } from './users.data';\n\nexport const CALENDAR_MOCKS = registerMocks();\n\nfunction registerMocks() {\n    registerMockEndpoint({\n        path: '/api/staff/v1/calendars',\n        metadata: {},\n        method: 'GET',\n        callback: (request) => {\n            const user = MOCK_STAFF[predictableRandomInt(MOCK_STAFF.length)];\n            const user2 = MOCK_STAFF[predictableRandomInt(MOCK_STAFF.length)];\n            const user3 = MOCK_STAFF[predictableRandomInt(MOCK_STAFF.length)];\n            return [\n                {\n                    id: ACTIVE_USER.email,\n                    summary: ACTIVE_USER.name,\n                    primary: true,\n                    can_edit: true,\n                    hidden: false,\n                },\n                {\n                    id: user.email,\n                    summary: user.name,\n                    primary: false,\n                    can_edit: true,\n                    hidden: false,\n                },\n                {\n                    id: user2.email,\n                    summary: user2.name,\n                    primary: false,\n                    can_edit: false,\n                    hidden: false,\n                },\n                {\n                    id: user3.email,\n                    summary: user3.name,\n                    primary: false,\n                    can_edit: false,\n                    hidden: true,\n                },\n            ];\n        },\n    });\n\n    const handleSpaceAvailability = (request) => {\n        const start = +request.query_params.period_start;\n        const end = +request.query_params.period_end;\n        const zones = (request.query_params.zone_ids || '')\n            .split(',')\n            .filter((i) => !!i);\n        const systems = (request.query_params.system_ids || '')\n            .split(',')\n            .filter((i) => !!i);\n\n        const spaces = MOCK_SPACES.filter((space) =>\n            zones.length\n                ? zones.reduce(\n                      (has, zone) => has && space.zones.includes(zone),\n                      true\n                  )\n                : systems.length\n                ? systems.includes(space.id)\n                : true\n        ).filter((space) => {\n            const bookings = MOCK_EVENTS.filter((event) =>\n                event.attendees.find((user) => user.id === space.id)\n            );\n            for (const event of bookings) {\n                if (\n                    timePeriodsIntersect(\n                        start,\n                        end,\n                        event.event_start,\n                        event.event_end\n                    )\n                )\n                    return false;\n            }\n            return true;\n        });\n        return spaces;\n    };\n\n    registerMockEndpoint({\n        path: '/api/staff/v1/calendars/availability',\n        metadata: {},\n        method: 'GET',\n        callback: (request) =>\n            handleSpaceAvailability(request).map((_) => ({\n                resource: _,\n            })),\n    });\n\n    registerMockEndpoint({\n        path: '/api/staff/v1/calendars/free_busy',\n        metadata: {},\n        method: 'GET',\n        callback: (request) =>\n            handleSpaceAvailability(request).map((_) => ({\n                resource: _,\n            })),\n    });\n}\n","import { HashMap, predictableRandomInt } from '@placeos/common';\nimport { addMinutes, differenceInMinutes } from 'date-fns';\n\nexport const MOCK_MENU = [\n    {\n        id: 'item-1',\n        name: 'Coffee',\n        unit_price: 200,\n        category: 'Drinks',\n        tags: ['drink', 'Contains Nuts', 'Contains Dairy'],\n        options: [\n            { id: 'opt-1', name: 'Cappacino', group: 'type' },\n            { id: 'opt-2', name: 'Latte', group: 'type' },\n            { id: 'opt-3', name: '1 Sugar', group: 'sugars', unit_price: 20 },\n            { id: 'opt-4', name: '2 Sugar', group: 'sugars', unit_price: 20 },\n            { id: 'opt-5', name: '3 Sugar', group: 'sugars', unit_price: 20 },\n            { id: 'opt-6', name: '4 Sugar', group: 'sugars', unit_price: 20 },\n        ],\n    },\n    {\n        id: 'item-2',\n        name: 'Soda',\n        unit_price: 160,\n        category: 'Drinks',\n        tags: ['drink'],\n        options: [\n            { id: 'opt-1', name: 'Pepsi', group: 'type' },\n            { id: 'opt-2', name: 'Sunkist', group: 'type' },\n            { id: 'opt-3', name: 'Solo', group: 'type' },\n            { id: 'opt-4', name: 'Dr Pepper', group: 'type' },\n        ],\n    },\n    { id: 'item-3', name: 'Water', unit_price: 100, category: 'Drinks' },\n    {\n        id: 'item-4',\n        name: 'Muffin',\n        unit_price: 160,\n        category: 'Snacks',\n        options: [\n            { id: 'opt-1', name: 'Choc Chip', group: 'type' },\n            { id: 'opt-2', name: 'Banana', group: 'type' },\n            { id: 'opt-3', name: 'Blueberry', group: 'type' },\n        ],\n    },\n    {\n        id: 'item-5',\n        name: 'Cookies',\n        unit_price: 400,\n        category: 'Snacks',\n        options: [\n            { id: 'opt-1', name: 'Choc Chip', group: 'type' },\n            { id: 'opt-2', name: 'Macadamia', group: 'type' },\n            { id: 'opt-3', name: 'Dark Choc', group: 'type' },\n        ],\n    },\n    {\n        id: 'item-6',\n        name: 'Fish & Chips',\n        unit_price: 250,\n        category: 'Simple Meals',\n        options: [\n            {\n                id: 'opt-1',\n                name: 'Tomato Sauce',\n                group: 'sauce',\n                unit_price: 30,\n            },\n            { id: 'opt-2', name: 'BBQ Sauce', group: 'sauce', unit_price: 35 },\n            {\n                id: 'opt-3',\n                name: 'Tartare Sause',\n                group: 'sauce',\n                unit_price: 40,\n            },\n            {\n                id: 'opt-4',\n                name: 'Garlic Aoili Sauce',\n                group: 'sauce',\n                unit_price: 50,\n            },\n        ],\n    },\n    {\n        id: 'item-7',\n        name: 'Sandwich',\n        unit_price: 300,\n        category: 'Simple Meals',\n        options: [\n            { id: 'opt-1', name: 'Ham & Cheese', group: 'type' },\n            { id: 'opt-2', name: 'Chicken', group: 'type' },\n            { id: 'opt-3', name: 'Fairy Bread', group: 'type' },\n        ],\n    },\n];\n\nexport function generateCateringOrder(event: HashMap) {\n    const duration = differenceInMinutes(event.event_start, event.event_end);\n    const mx = predictableRandomInt(MOCK_MENU.length);\n    return {\n        id: `order-${predictableRandomInt(999_999)}`,\n        event_id: event.id,\n        invoice_number: `I${predictableRandomInt(999_999)}`,\n        charge_code: `C${predictableRandomInt(9_999)}`,\n        deliver_at: addMinutes(\n            event.event_start * 1000,\n            predictableRandomInt(Math.floor(duration / 5)) * 5\n        ),\n        notes: predictableRandomInt(9999_9999) % 2 === 0 ? 'Test notes' : '',\n        items: new Array(3).fill(0).map((_, idx) => ({\n            ...MOCK_MENU[(mx * idx) % MOCK_MENU.length],\n            options: [],\n            quantity: predictableRandomInt(10, 1),\n        })),\n    };\n}\n","/** Domain of the organisation */\nexport const DOMAIN = 'place.tech';\n/** Endpoint where the staff API is located */\nexport const API = '/api/staff/v1';\n","import { predictableRandomInt, unique } from '@placeos/common';\nimport * as dayjs from 'dayjs';\nimport { generateCateringOrder } from './catering.data';\nimport { MOCK_SPACES } from './spaces.data';\nimport { ACTIVE_USER, MOCK_GUESTS, MOCK_STAFF } from './users.data';\n\nlet EVENT_TIME = dayjs().startOf('d').hour(7);\n\nconst nextEventTime = (save = false): number => {\n    const next = EVENT_TIME.add((predictableRandomInt(8) + 1) * 15, 'm');\n    if (save) {\n        EVENT_TIME = next;\n    }\n    return next.unix();\n};\n\nconst event_status = ['tentative', 'confirmed', 'cancelled'];\nconst randomStatus = (): string => {\n    const rnd = predictableRandomInt(10);\n    return rnd < 2\n        ? event_status[2]\n        : rnd < 5\n        ? event_status[0]\n        : event_status[1];\n};\n\nexport const MOCK_EVENTS = new Array(200).fill(0).map((_, index) => {\n    const PEOPLE = MOCK_STAFF.concat(MOCK_GUESTS);\n    let attendees: any[] = new Array(predictableRandomInt(8, 1))\n        .fill(0)\n        .map(() => PEOPLE[predictableRandomInt(PEOPLE.length)]);\n    attendees.sort(\n        (a, b) => (a.visit_expected ? 0 : -1) - (b.visit_expected ? 0 : -1)\n    );\n    const space = MOCK_SPACES[predictableRandomInt(MOCK_SPACES.length)];\n    attendees = attendees.concat({ ...space, resource: true });\n    if (predictableRandomInt(9999) % 2 === 0) attendees.unshift(ACTIVE_USER);\n    else attendees.unshift(MOCK_STAFF[predictableRandomInt(MOCK_STAFF.length)]);\n    attendees = unique(attendees, 'email') || [{}];\n    const event_start = nextEventTime(true);\n    const event_end = nextEventTime();\n    const meeting_url =\n        predictableRandomInt(9999) % 3 === 0 ? 'https://meet.place.tech' : '';\n    return {\n        id: `cal-event-${index}`,\n        status: randomStatus(),\n        host: attendees[0].email,\n        calendar: 'calendar_id',\n        creator: 'optional@fake.com',\n        attendees: (unique(attendees, 'email') || []).map((_, idx) => ({\n            ..._,\n            organizer: idx === 0,\n            checked_in: predictableRandomInt(99999) % 2 === 0,\n            response_status:\n                predictableRandomInt(99999) % 2 === 0\n                    ? 'accepted'\n                    : predictableRandomInt(99999) % 6 === 0\n                    ? 'declined'\n                    : 'tentative',\n        })),\n        title: `Some Meeting ${index}`,\n        body: `A Description`,\n        private: false,\n        event_start,\n        event_end,\n        timezone: 'Australia/Sydney',\n        all_day: false,\n        location: `${space?.name}`,\n        recurring: false,\n        recurrence: {},\n        attachments: {},\n        system: space,\n        meeting_url,\n        meeting_id: meeting_url ? `m${predictableRandomInt(9999)}` : '',\n        meeting_provider: meeting_url ? 'PlaceOS' : '',\n        extension_data: {\n            catering:\n                predictableRandomInt(99999) % 4 === 0\n                    ? [\n                          generateCateringOrder({\n                              id: `cal-event-${index}`,\n                              event_start,\n                              event_end,\n                          }),\n                      ]\n                    : [],\n            setup: predictableRandomInt(4) * 5,\n            breakdown: predictableRandomInt(4) * 5,\n        },\n    };\n});\n\nconst event_spaces = {};\nMOCK_EVENTS.forEach((event) => {\n    if (!event_spaces[event.system?.id]) {\n        event_spaces[event.system?.id] = [];\n    }\n    event_spaces[event.system?.id].push(event);\n});\n","import { predictableRandomInt, timePeriodsIntersect } from '@placeos/common';\nimport { mockSystem, registerMockEndpoint } from '@placeos/ts-client';\nimport { MOCK_EVENTS } from './events.data';\nimport { ACTIVE_USER, MOCK_STAFF } from './users.data';\n\nexport const EVENT_MOCKS = registerMocks();\n\nfunction registerMocks() {\n    registerMockEndpoint({\n        path: '/api/staff/v1/events',\n        metadata: {},\n        method: 'GET',\n        callback: (_) => {\n            let events = MOCK_EVENTS;\n            if (!_.query_params.zone_ids) {\n                events = events.filter(\n                    (event) =>\n                        !!event.attendees.find(\n                            (user) => user.email === ACTIVE_USER.email\n                        )\n                );\n            }\n            if (_.query_params.period_start) {\n                events = events.filter((e) =>\n                    timePeriodsIntersect(\n                        _.query_params.period_start,\n                        _.query_params.period_end,\n                        e.event_start,\n                        e.event_end\n                    )\n                );\n            }\n            return events;\n        },\n    });\n\n    registerMockEndpoint({\n        path: '/api/staff/v1/events',\n        metadata: {},\n        method: 'POST',\n        callback: (request) => {\n            const new_event = {\n                ...request.body,\n                id: `-cal-event-${predictableRandomInt(999)}`,\n            };\n            new_event.attendees = [\n                MOCK_STAFF.find((_) => _.email === new_event.host),\n                ...(new_event.attendees || []),\n            ];\n            new_event.attendees.forEach((user) => {\n                if (user.zones) user.resource = true;\n            });\n\n            if (new_event.system) {\n                new_event.attendees = [\n                    ...(new_event.attendees || []),\n                    { ...new_event.system, resource: true },\n                ];\n            }\n            MOCK_EVENTS.push(new_event);\n\n            const system = mockSystem(new_event.system?.id);\n            system?.Bookings[0]?.$poll_bookings();\n            return new_event;\n        },\n    });\n\n    registerMockEndpoint({\n        path: '/api/staff/v1/events/:id',\n        metadata: {},\n        method: 'GET',\n        callback: (request) => {\n            const item = MOCK_EVENTS.find(\n                (event) => event.id === request.route_params.id\n            );\n            if (item) {\n                return item;\n            }\n            throw { status: 404, message: 'Event not found' };\n        },\n    });\n\n    registerMockEndpoint({\n        path: '/api/staff/v1/events/:id',\n        metadata: {},\n        method: 'DELETE',\n        callback: (request) => {\n            const index = MOCK_EVENTS.findIndex(\n                (event) => event.id === request.route_params.id\n            );\n            if (index > 0) {\n                if (MOCK_EVENTS[index].host === ACTIVE_USER.email) {\n                    MOCK_EVENTS.splice(index, 1);\n                } else {\n                    const user = MOCK_EVENTS[index].attendees.find(\n                        (_) => _.email === ACTIVE_USER.email\n                    );\n                    user.response_status = 'declined';\n                }\n                return;\n            }\n            throw { status: 404, message: 'Event not found' };\n        },\n    });\n\n    registerMockEndpoint({\n        path: '/api/staff/v1/events/:id',\n        metadata: {},\n        method: 'PATCH',\n        callback: (request) => {\n            const index = MOCK_EVENTS.findIndex(\n                (event) => event.id === request.route_params.id\n            );\n            if (index >= 0) {\n                return MOCK_EVENTS.splice(index, 1, request.body);\n            }\n            throw { status: 404, message: 'Event not found' };\n        },\n    });\n\n    registerMockEndpoint({\n        path: '/api/staff/v1/events/:id/guests/:email/checkin',\n        metadata: {},\n        method: 'POST',\n        callback: (request) => {\n            const event = MOCK_EVENTS.find(\n                (event) => event.id === request.route_params.id\n            );\n            if (event) {\n                const checked_in =\n                    (event.extension_data as any).checked_in || [];\n                (event.extension_data as any).checked_in = checked_in.concat([\n                    request.route_params.email,\n                ]);\n                return event;\n            }\n            throw { status: 404, message: 'Guest not found' };\n        },\n    });\n}\n","import { predictableRandomInt } from '@placeos/common';\nimport { generateMockSpace } from '@placeos/spaces';\n\nconst randomSpaceFeatures = () => {\n    const f = ['Whiteboard', 'VidConf', 'Projector', 'Views'];\n    const numFeatures = predictableRandomInt(f.length + 1);\n    const res = [];\n    for (let i = 0; i < numFeatures; i++) {\n        res.push(f[predictableRandomInt(f.length)]);\n    }\n    return res.filter((el, i, r) => r.indexOf(el) === i);\n};\n\nexport const MOCK_SPACES = [\n    {\n        name: '1.01 Operations Room',\n        map_id: 'area-1.01-status',\n        zones: ['bld-01', 'bld-01_lvl-1'],\n    },\n    {\n        name: '1.03 Sydney Boardroom',\n        map_id: 'area-1.03-status',\n        zones: ['bld-01', 'bld-01_lvl-1'],\n    },\n    {\n        name: '1.04 The Studio',\n        map_id: 'area-1.04-status',\n        zones: ['bld-01', 'bld-01_lvl-1'],\n    },\n    {\n        name: 'Jam Board',\n        map_id: 'area-1.02-status',\n        zones: ['bld-01', 'bld-01_lvl-1'],\n    },\n    {\n        name: 'G.01 Cisco Room',\n        map_id: 'area-G.01-status',\n        zones: ['bld-01', 'bld-01_lvl-1'],\n    },\n    {\n        name: 'G.02 The Lab',\n        map_id: 'area-G.02-status',\n        zones: ['bld-01', 'bld-01_lvl-1'],\n    },\n    {\n        name: 'Conference Room 2.01',\n        map_id: 'area-2.01-status',\n        zones: ['bld-02', 'bld-02_lvl-2'],\n    },\n    {\n        name: 'Conference Room 2.02',\n        map_id: 'area-2.02-status',\n        zones: ['bld-02', 'bld-02_lvl-2'],\n    },\n    {\n        name: 'Conference Room 3.01',\n        map_id: 'area-3.01-status',\n        zones: ['bld-02', 'bld-02_lvl-3'],\n    },\n    {\n        name: 'Conference Room 3.02',\n        map_id: 'area-3.02-status',\n        zones: ['bld-02', 'bld-02_lvl-3'],\n    },\n    {\n        name: 'Conference Room 3.03',\n        map_id: 'area-3.03-status',\n        zones: ['bld-02', 'bld-02_lvl-3'],\n    },\n].map((d) => generateMockSpace({ ...d, features: randomSpaceFeatures(), images: ['https://webcdn.executivecentre.com/wp-content/uploads/sites/39/2020/10/img-meetingroomrental_hire.jpg'] }));\n","import { registerMockEndpoint } from '@placeos/ts-client';\n\nimport { createSystem } from '../systems-bindings.mock';\nimport { MOCK_SPACES } from './spaces.data';\n\nexport const SYSTEM_MOCKS = registerMocks();\n\nfunction registerMocks() {\n    MOCK_SPACES.forEach((space: any, index) => createSystem(space));\n\n    registerMockEndpoint({\n        path: '/api/engine/v2/systems',\n        metadata: {},\n        method: 'GET',\n        callback: (request) => {\n            return request.query_params?.zone_id\n                ? MOCK_SPACES.filter((_) =>\n                      _.zones.includes(request.query_params.zone_id)\n                  )\n                : MOCK_SPACES;\n        },\n    });\n\n    registerMockEndpoint({\n        path: '/api/engine/v2/systems/:id',\n        metadata: {},\n        method: 'GET',\n        callback: (request) => {\n            const space = MOCK_SPACES.find(_ => _.id === request.route_params.id);\n            if (!space) throw { status: 404 };\n            return space;\n        },\n    });\n}\n","import { predictableRandomInt } from '@placeos/common';\nimport { DOMAIN } from './common.mock';\n\nconst PREDEF_USERS = [\n    'Jonathan McFarlane',\n    'Alex Sorafumo',\n    'Jim Doe',\n    'Cristina Boston',\n    'Jeremy West',\n    'Viv Briffa',\n    'Candy Russo',\n    'Jeff Wiz',\n    'Sravani Kotha',\n    'Kim Burgess',\n    'Caspian Baska',\n    'Stephen Von Takach',\n    'Cameron Reeves',\n    'Shane Boseley',\n];\n\nexport const ACTIVE_USER = {\n    id: 'current',\n    name: 'PlaceOS - Mock User',\n    email: 'dev@place.tech',\n    groups: ['deals', 'user'],\n};\n\nexport const MOCK_STAFF = PREDEF_USERS.map((name, i) => ({\n    id: `user-${i + 1}`,\n    name: `${name} (PlaceOS)`,\n    email: `${name.split(' ').join('.').toLowerCase()}@${DOMAIN}`,\n})).concat([ACTIVE_USER]);\n\nexport const MOCK_GUESTS = PREDEF_USERS.map((name, i) => ({\n    id: `guest-${i + 1}`,\n    name: `${name} (External)`,\n    email: `${name.split(' ').join('.').toLowerCase()}@guest.${DOMAIN}`,\n    visit_expected: predictableRandomInt(99999) % 2 === 0,\n    extension_data: predictableRandomInt(99999) % 3 === 0 ? {\n        vaccination_proof: { url: 'https://fonts.gstatic.com/s/i/materialicons/verified/v11/24px.svg' },\n        id_data: { url: 'https://fonts.gstatic.com/s/i/materialicons/fingerprint/v12/24px.svg' } \n    } : {}\n}));\n","import { registerMockEndpoint } from '@placeos/ts-client';\n\nimport { HashMap, predictableRandomInt } from '@placeos/common';\nimport { ACTIVE_USER, MOCK_GUESTS, MOCK_STAFF } from './users.data';\nimport { MOCK_LEVELS } from './zone.data';\nimport { MOCK_SPACES } from './spaces.data';\n\nimport * as dayjs from 'dayjs';\nimport { MOCK_EVENTS } from './events.data';\n\nexport const USER_MOCKS = registerMocks();\n\nfunction registerMocks() {\n    registerMockEndpoint({\n        path: '/api/engine/v2/users/:id',\n        metadata: {},\n        method: 'GET',\n        callback: (request) => {\n            if (request.route_params.id === 'current') {\n                return ACTIVE_USER;\n            }\n            const person = MOCK_STAFF.find(\n                (user) => user.email === request.route_params.id\n            );\n            if (person) {\n                return person;\n            }\n            throw { status: 404, message: 'User not found' };\n        },\n    });\n\n    registerMockEndpoint({\n        path: '/api/staff/v1/people',\n        metadata: {},\n        method: 'GET',\n        callback: (request) => {\n            if (request.query_params.q) {\n                const search = request.query_params.q.toLowerCase();\n                return MOCK_STAFF.filter(\n                    (user) =>\n                        user.name.toLowerCase().includes(search) ||\n                        user.email.toLowerCase().includes(search)\n                );\n            }\n            return MOCK_STAFF;\n        },\n    });\n\n    registerMockEndpoint({\n        path: '/api/staff/v1/people/:id',\n        metadata: {},\n        method: 'GET',\n        callback: (request) => {\n            const id = decodeURIComponent(request.route_params.id);\n            const person = MOCK_STAFF.find((user) => user.email === id);\n            if (person) {\n                return {\n                    ...person,\n                    location: generateLocation(),\n                };\n            }\n            throw { status: 404, message: 'User not found' };\n        },\n    });\n\n    registerMockEndpoint({\n        path: '/api/staff/v1/guests',\n        metadata: {},\n        method: 'GET',\n        callback: (request) => {\n            if (request.query_params.q) {\n                const search = request.query_params.q.toLowerCase();\n                return MOCK_GUESTS.filter(\n                    (user) =>\n                        user.name.toLowerCase().includes(search) ||\n                        user.email.toLowerCase().includes(search)\n                );\n            }\n            return MOCK_STAFF;\n        },\n    });\n\n    registerMockEndpoint({\n        path: '/api/staff/v1/guests/:email',\n        metadata: {},\n        method: 'GET',\n        callback: (request) => {\n            const email = decodeURIComponent(request.route_params.email);\n            const person = MOCK_GUESTS.find((user) => user.email === email);\n            if (person) {\n                return person;\n            }\n            throw { status: 404, message: 'Guest not found' };\n        },\n    });\n\n    registerMockEndpoint({\n        path: '/api/staff/v1/guests/:email/meetings',\n        metadata: {},\n        method: 'GET',\n        callback: (request) => {\n            if (request.route_params.email) {\n                const email = request.route_params.email.toLowerCase();\n                const events = MOCK_EVENTS.filter((event) =>\n                    event.attendees.find(\n                        (user) => user.email.toLowerCase() === email\n                    )\n                );\n                return events;\n            }\n            throw {\n                status: 404,\n                message: `Unable to find meetings with guest with email ${request.route_params.email}`,\n            };\n        },\n    });\n\n    const LOCATION_TYPES = [\n        'meeting',\n        'desk_id',\n        'laptop',\n        'mobile',\n        'geo',\n        'none',\n    ];\n\n    function generateLocation() {\n        const type =\n            LOCATION_TYPES[predictableRandomInt(LOCATION_TYPES.length)];\n        const level = MOCK_LEVELS[predictableRandomInt(MOCK_LEVELS.length)];\n        const level_spaces = MOCK_SPACES.filter((s) =>\n            s.zones.includes(level.id)\n        );\n        const space =\n            level_spaces[predictableRandomInt(level_spaces.length)] || {};\n        const location: HashMap = {};\n        switch (type) {\n            case 'meeting':\n                location.meeting = {\n                    building: level.parent_id,\n                    level: level.id,\n                    system: space.id,\n                    map_id: space.map_id,\n                    event_id: '',\n                };\n                break;\n            case 'desk_id':\n                location.meeting = {\n                    building: level.parent_id,\n                    level: level.id,\n                    map_id: space.map_id,\n                    checked_in: dayjs().unix(),\n                };\n                break;\n            case 'laptop':\n            case 'mobile':\n                location[type] = {\n                    building: level.parent_id,\n                    level: level.id,\n                    x: +predictableRandomInt(10000),\n                    y: +predictableRandomInt(5000),\n                    last_seen: dayjs()\n                        .subtract(predictableRandomInt(60), 'm')\n                        .unix(),\n                };\n                break;\n            case 'geo':\n                location.geo = {\n                    lat: predictableRandomInt(180) - 90,\n                    lon: predictableRandomInt(360) - 180,\n                    last_seen: dayjs()\n                        .subtract(predictableRandomInt(60), 'm')\n                        .unix(),\n                };\n                break;\n        }\n        return location;\n    }\n}\n","export const MOCK_ORGS = [\n    {\n        created_at: 1587057070,\n        updated_at: 1587692680,\n        name: 'PlaceOS',\n        description: '',\n        tags: 'org',\n        count: 0,\n        capacity: 0,\n        parent_id: '',\n        triggers: [],\n        id: 'zone-EmWFTjuYExK',\n    },\n];\n\nexport const MOCK_BUILDINGS = [\n    {\n        name: 'Sydney',\n        description: '',\n        tags: 'building',\n        count: 0,\n        capacity: 0,\n        parent_id: 'zone-EmWFTjuYExK',\n        triggers: [],\n        id: 'bld-01',\n        levels: ['lvl-G', 'lvl-1'],\n    },\n    {\n        name: 'Brisbane',\n        description: '',\n        tags: 'building',\n        count: 0,\n        capacity: 0,\n        parent_id: 'zone-EmWFTjuYExK',\n        triggers: [],\n        id: 'bld-02',\n        levels: ['lvl-2', 'lvl-3'],\n    },\n];\n\nconst mockLevel = (\n    id: string,\n    idx: number,\n    building: any,\n    num: string = '10'\n): any => {\n    let map_id = id.substr(4);\n    map_id = `assets/maps/level_${num}.svg`;\n    return {\n        id: `${building.id}_${id}`,\n        name: `Level ${id.endsWith('00') ? 'G' : id.split('-')[1]}`,\n        parent_id: building.id,\n        description: '',\n        tags: 'level',\n        map_id,\n        code: 'level code 12',\n        type: 'staff floor',\n        count: 5,\n        capacity: 30,\n        location: 'optional lat,long',\n        display_name: '',\n    };\n};\n\nexport const MOCK_LEVELS = MOCK_BUILDINGS.map((bld) =>\n    bld.levels.map((level, idx) =>\n        mockLevel(level, idx, bld, level.split('-')[1])\n    )\n).reduce((p, c) => p.concat(c), [\n    // {\n    //     id: 'test',\n    //     parent_id: 'bld-01',\n    //     name: 'Test',\n    //     map_id: 'assets/maps/test.svg',\n    // },\n    {\n        id: 'level-p1',\n        parent_id: 'bld-01',\n        name: 'Level P1',\n        tags: ['level', 'parking'],\n        map_id: 'assets/maps/level_P1.svg',\n    },\n]);\n","import { padString, predictableRandomInt } from '@placeos/common';\nimport { registerMockEndpoint } from '@placeos/ts-client';\nimport { MOCK_MENU } from './catering.data';\nimport { MOCK_STAFF } from './users.data';\nimport { MOCK_ORGS, MOCK_LEVELS, MOCK_BUILDINGS } from './zone.data';\n\nconst MOCK_METADATA = {\n    current: {\n        contacts: {\n            name: 'contacts',\n            description: '',\n            details: [\n                {\n                    id: 'user-1',\n                    name: 'Jonathan McFarlane (PlaceOS)',\n                    email: 'jon@place.tech',\n                    first_name: 'Jonathan',\n                    last_name: 'McFarlane',\n                },\n                {\n                    id: 'user-1',\n                    name: 'Alex Sorafumo (PlaceOS)',\n                    email: 'alex@place.tech',\n                    first_name: 'Alex',\n                    last_name: 'Sorafumo',\n                },\n            ],\n        },\n    },\n};\n\nexport const PARKING_SPACES = {};\n\nexport const ZONE_MOCKS = registerMocks();\n\nfunction registerMocks() {\n    registerMockEndpoint({\n        path: '/api/engine/v2/zones',\n        metadata: {},\n        method: 'GET',\n        callback: (request) => {\n            if (request.query_params.tags === 'org') {\n                return MOCK_ORGS;\n            } else if (request.query_params.tags === 'region') {\n                return [];\n            } else if (request.query_params.tags === 'building') {\n                return MOCK_BUILDINGS;\n            } else if (request.query_params.tags === 'level') {\n                return MOCK_LEVELS;\n            }\n            throw { status: 404, message: 'Zones not found' };\n        },\n    });\n\n    registerMockEndpoint({\n        path: '/api/engine/v2/metadata/:id',\n        metadata: {},\n        method: 'GET',\n        callback: (request) => {\n            if (request.query_params.name === 'bindings') {\n                return {\n                    bindings: {\n                        details: {\n                            area_management: 'space-0',\n                            location_services: 'space-0',\n                            contact_tracing: 'space-0',\n                            // payments: 'space-0',\n                        },\n                    },\n                };\n            }\n            if (request.query_params.name === 'catering') {\n                return {\n                    catering: {\n                        details: MOCK_MENU,\n                    },\n                };\n            }\n            if (request.query_params.name === 'desks') {\n                const parts = request.route_params.id.split('-');\n                const id = parts[parts.length - 1];\n                return generateMockDeskMetadata(id);\n            }\n            if (request.query_params.name === 'parking-spaces') {\n                const parts = request.route_params.id.split('-');\n                const id = parts[parts.length - 1];\n                return generateParkingSpaces(id);\n            }\n            if (request.query_params.name === 'charge_codes') {\n                const parts = request.route_params.id.split('-');\n                const id = parts[parts.length - 1];\n                return {\n                    charge_codes: {\n                        details: new Array(30)\n                            .fill(0)\n                            .map((_, idx) => `C-${idx}`),\n                    },\n                };\n            }\n            if (request.query_params.name === 'map_regions') {\n                return {\n                    map_regions: {\n                        details: {\n                            areas: [\n                                {\n                                    id: 'zone-10.A',\n                                    properties: {\n                                        capacity: 100,\n                                        label_location: { x: 0.36, y: 0.33 },\n                                        // draw_polygon: true\n                                    },\n                                    geometry: {\n                                        coordinates: [\n                                            [0.0, 0.0],\n                                            [0.0, 0.5],\n                                            [0.5, 0.5],\n                                            [0.5, 0.0],\n                                        ],\n                                    },\n                                },\n                                {\n                                    id: 'zone-10.B',\n                                    properties: {\n                                        capacity: 100,\n                                        label_location: { x: 0.76, y: 0.33 },\n                                    },\n                                },\n                                {\n                                    id: 'zone-10.C',\n                                    properties: {\n                                        capacity: 100,\n                                        label_location: { x: 0.63, y: 0.77 },\n                                    },\n                                },\n                            ],\n                        },\n                    },\n                };\n            }\n            if (\n                MOCK_METADATA[request.route_params.id] &&\n                MOCK_METADATA[request.route_params.id][\n                    request.query_params.name\n                ]\n            ) {\n                return MOCK_METADATA[request.route_params.id];\n            } else if (\n                MOCK_METADATA[request.route_params.id] &&\n                !request.query_params.name\n            ) {\n                return MOCK_METADATA[request.route_params.id] || {};\n            }\n            return {};\n        },\n    });\n\n    registerMockEndpoint({\n        path: '/api/engine/v2/metadata/:id',\n        metadata: {},\n        method: 'PATCH',\n        callback: (request) => {\n            if (!MOCK_METADATA[request.route_params.id])\n                MOCK_METADATA[request.route_params.id] = {};\n            MOCK_METADATA[request.route_params.id][request.body.name] =\n                request.body;\n        },\n    });\n\n    const DESK_FEATURES = ['sit_to_stand', 'single_monitor', 'dual_monitor'];\n\n    function generateMockDeskMetadata(id: string) {\n        return {\n            desks: {\n                details: new Array(30).fill(0).map((_, idx) => ({\n                    id: `table-${padString(id, 2)}.${padString(idx + 1, 3)}`,\n                    name: `Desk ${id}.${padString(idx + 1, 3)}`,\n                    bookable: predictableRandomInt(9999) % 4 !== 0,\n                    groups:\n                        predictableRandomInt(9999) % 4 === 0 ? ['test-1'] : [],\n                    features: DESK_FEATURES.filter(\n                        (_) => predictableRandomInt(99999) % 3 === 0\n                    ),\n                })),\n            },\n        };\n    }\n\n    function generateParkingSpaces(id: string) {\n        if (!PARKING_SPACES[id]) {\n            PARKING_SPACES[id] = {\n                'parking-spaces': {\n                    details: new Array(18 * 6).fill(0).map((_, idx) => {\n                        const position = padString(\n                            (idx % 18) + Math.floor(idx / 18) * 100,\n                            3\n                        );\n                        const assignee =\n                            predictableRandomInt(9999) % 4 === 0\n                                ? MOCK_STAFF[\n                                      predictableRandomInt(MOCK_STAFF.length)\n                                  ]\n                                : ({} as any);\n                        return {\n                            id: `park-${position}`,\n                            map_id: `park-${position}`,\n                            name: `${position}`,\n                            bookable: predictableRandomInt(9999) % 4 !== 0,\n                            assigned_to: assignee.email || '',\n                            assigned_name: assignee.name || '',\n                        };\n                    }),\n                },\n            };\n        }\n        return PARKING_SPACES[id];\n    }\n\n    registerMockEndpoint({\n        path: '/api/engine/v2/metadata/:id/children',\n        metadata: {},\n        method: 'GET',\n        callback: (request) => {\n            const zone = MOCK_BUILDINGS.find(\n                (_) => _.id === request.route_params.id\n            );\n            if (!zone)\n                throw {\n                    status: 404,\n                    message: `Unable to find zone with id \"${request.route_params.id}\"`,\n                };\n            return MOCK_LEVELS.filter((_) => _.parent_id === zone.id).map(\n                (lvl) => {\n                    const parts = lvl.id.split('-');\n                    const id = parts[parts.length - 1];\n                    return {\n                        zone: lvl,\n                        metadata: generateMockDeskMetadata(id),\n                    };\n                }\n            );\n        },\n    });\n}\n","import { HashMap } from '@placeos/common';\n\nexport enum CameraTilt {\n    Down,\n    Up,\n    Stop,\n}\n\nexport enum CameraPan {\n    Left,\n    Right,\n    Stop,\n}\n\nclass CameraModule {\n    pan: number;\n    tilt: number;\n    zoom: number;\n\n    pan_speed: number;\n    tilt_speed: number;\n    zoom_speed: number;\n\n    presets: string[];\n\n    constructor(_) {\n        this.presets = ['Preset One', 'Preset 2', 'Preset Three'];\n    }\n\n    $pan(dir: CameraPan) {}\n\n    $tilt(tilt: CameraTilt) {}\n\n    $recall(name: string) {}\n\n    $save_preset(name: string) {}\n}\n\nexport const createCameraModule = (space: HashMap, overrides: HashMap = {}) =>\n    new CameraModule({ ...space, ...overrides });\n","import { HashMap, randomInt } from \"@placeos/common\";\n\nlet interval;\n\nexport class CaptureModule {\n\n    status: 'playing' | 'stopped' | 'paused' = 'stopped';\n    title: string;\n    live: boolean = false;\n    remaining: number;\n    current: number;\n    next: number;\n\n    constructor(_) {\n        this.remaining = randomInt(24 * 60 * 60);\n    }\n\n    $start() {\n        this.status = 'playing';\n        interval = setInterval(() => {\n            if (this.remaining < 1) clearInterval(interval);\n            this.remaining = this.remaining - 1;\n            this.current = this.current + 1;\n        }, 3000);\n    }\n\n    $pause() {\n        this.status = 'paused';\n        clearInterval(interval);\n    }\n\n    $resume() {\n        this.$start();\n    }\n\n    $stop() {\n        this.status = 'stopped';\n        this.current = 0;\n        clearInterval(interval);\n    }\n\n}\n\nexport const createCaptureModule = (space: HashMap, overrides: HashMap = {}) =>\n    new CaptureModule({ ...space, ...overrides });\n","import {\n    HashMap,\n    randomInt,\n    randomString,\n    timePeriodsIntersect,\n} from '@placeos/common';\nimport { addDays, getUnixTime, isBefore, setHours } from 'date-fns';\nimport { MOCK_STAFF } from '../api/users.data';\n\nconst CONTACT_EVENTS = {};\n\nconst filterFn = (start, end) => (itm) => {\n    return timePeriodsIntersect(start, end, itm.contact_time, itm.contact_time);\n};\n\nclass ContactTracingModule {\n    constructor(_) {}\n\n    $close_contacts(email: string, user: string, start: number, end: number) {\n        if (!CONTACT_EVENTS[email]) CONTACT_EVENTS[email] = [];\n        if (CONTACT_EVENTS[email].length)\n            return CONTACT_EVENTS[email].filter(filterFn(start, end));\n        const events = [];\n        const beginning = addDays(start * 1000, -10);\n        const ending = addDays(end * 1000, 10);\n        let date = new Date(beginning);\n        while (isBefore(date, ending)) {\n            new Array(randomInt(4))\n                .fill(0)\n                .map((_) => ({\n                    mac_address: randomString(10),\n                    contact_time: getUnixTime(\n                        setHours(date, randomInt(11) + 7)\n                    ),\n                    duration: randomInt(60) * 60,\n                    username: MOCK_STAFF[randomInt(MOCK_STAFF.length)].email,\n                }))\n                .forEach((e) => events.push(e));\n            date = addDays(date, 1);\n        }\n        CONTACT_EVENTS[email] = events;\n        return CONTACT_EVENTS[email].filter(filterFn(start, end));\n    }\n}\n\nexport const createContactTracingModule = (\n    space: HashMap,\n    overrides: HashMap = {}\n) => new ContactTracingModule({ ...space, ...overrides });\n","import { HashMap, unique } from '@placeos/common';\n\nexport interface EnvironmentSource {\n    id?: string;\n    name: string;\n    type?: 'lights' | 'blinds' | 'screen';\n    state: string | number;\n    states: string[];\n}\n\nexport interface RoomInput {\n    id?: string;\n    ref: string;\n    name: string;\n    type: string;\n    mod: string;\n    mute: boolean;\n    locked: boolean;\n    routes: string[];\n    outputs: string[];\n}\n\nexport interface RoomOutput {\n    id?: string;\n    ref: string;\n    name: string;\n    type: string;\n    mod: string;\n    mute: boolean;\n    locked: boolean;\n    source: string;\n    inputs: string[];\n    following: string;\n}\n\nclass RoomModule {\n    public readonly name: string;\n    public readonly connected: boolean;\n    public active: boolean;\n\n    public readonly input_list: HashMap<RoomInput>;\n    public readonly output_list: HashMap<RoomOutput>;\n    public readonly env_sources: EnvironmentSource[];\n\n    public readonly inputs;\n    public readonly outputs;\n    public readonly available_outputs;\n    public readonly environment;\n\n    public readonly help = {\n        help: {\n            title: 'Help',\n            content: `\n# Using the asset browser\n\n## Activating the menu\nThe 5 finger touch can be actvated by placing 4 fingers and your thumb on the screen, or quickly double-tapping the screen. Activation through double tap will leave the menu on-screen. To close tap the ‘X’.\n\n## Selecting a menu item\nLeaving at least one finger on the screen, drag your finger to the icon to select.\n\n## Home Menu\nThe home menu allows you to access files and navigate to content and presentations via the Launcher.\n\n## Connect and stream your laptop or access the CMS to add files\nPlug your laptop into the HDMI to stream it to the screen, or access the CMS to add your own content and create custom presentations.\n\n<video></video>\n\n1. Test1\n2. Test2\n3. Test3\n            `,\n        },\n        'laptop-help': {\n            icon: 'web_asset',\n            title: 'Asset Browser',\n            content: `# Test 2`,\n        },\n    };\n\n    public tabs = [\n        {\n            icon: 'laptop',\n            name: 'Laptop',\n            type: 'Laptop',\n        },\n        {\n            icon: 'call',\n            name: 'VC',\n            inputs: ['VidConf_1'],\n            help: 'vidconf-help',\n            controls: 'vidconf-controls',\n        },\n    ];\n\n    public volume = 0;\n\n    constructor(_data: Partial<RoomModule>) {\n        this.name = _data.name || 'Test Module';\n        this.connected = _data.connected ?? true;\n        this.active = _data.active || false;\n        this.input_list = _data.input_list;\n        this.output_list = _data.output_list;\n        this.env_sources = _data.env_sources || [];\n        this.inputs = Object.keys(this.input_list || {}) || [];\n        this.outputs = Object.keys(this.output_list || {}) || [];\n        this.available_outputs = this.outputs;\n        const types = unique(this.env_sources.map((_) => _.type)) || [];\n        types.forEach(\n            (t) =>\n                (this[`${t}`] = this.env_sources\n                    .filter((_) => _.type === t)\n                    .map((_) => _.id))\n        );\n        this.env_sources.forEach(\n            (source) => (this[`${source.type}/${source.id}`] = source)\n        );\n        this.inputs.forEach(\n            (key) => (this[`input/${key}`] = this.input_list[key])\n        );\n        this.outputs.forEach(\n            (key) => (this[`output/${key}`] = this.output_list[key])\n        );\n    }\n\n    $power(state = true) {\n        this.active = state;\n    }\n    /** Shares a signal source with the room and any connected remote participants. */\n    $share() {}\n    /**\n     * Connect a signal source to a signal output, or set of outputs. Any intermediate\n     * device interactions are handled internally. For example, on a system using a small\n     * presentation switcher and a display, routing a laptop input will select the\n     * appropriate input on the switcher, and select the appropriate input on the display.\n     *\n     * This includes all routable signal types - in addition to the above example, this may\n     * be interacting with an audio DSP to add a microphone feed to an output zone, or\n     * connecting a USB HID input device with a specific output.\n     **/\n    $route(input: string, output: string) {\n        if (this.inputs.includes(input) && this.outputs.includes(output)) {\n            this.$updateState(input, {\n                routes: unique([\n                    ...(this.input_list[input].routes || []),\n                    output,\n                ]),\n            });\n            this.$updateState(output, {\n                source: input,\n                following: input,\n            });\n        }\n    }\n    /**\n     * Remove a signal source from a signal output.\n     * Predominantly intended for outputs that support more than one simultaneous input source\n     * (mixed audio zone, or display capable of compositing multiple video sources).\n     **/\n    $unroute() {}\n    /**\n     * Establish a call (either phone or video) with a remote participant.\n     * This may be a peer-to-peer connection or a wider group via an external bridging service.\n     **/\n    $connect() {}\n    /** End a call with a remote participant. */\n    $disconnect() {}\n    /**\n     * Bind the current system to another PlaceOS controlled space, relinquishing local control.\n     * This may be used for an education pod that pairs with a wider classroom or a room being\n     * used as an overflow from a primary event space.\n     **/\n    $link() {}\n    /**\n     * Join the current system with another PlaceOS controlled space, sharing control and signal IO.\n     * Examples of usage would be a set of rooms with moveable walls. N-way merges supported.\n     **/\n    $merge() {}\n    /** Separate from a linked or merged system. */\n    $split() {}\n    /**\n     * Display an alert visible to participants in the space. This may occur as a screen overlay,\n     * on a control interface, a bot post in a chat space associated with the current meeting or\n     * other modalities depending on hardware capability.\n     **/\n    $notify() {}\n    /**\n     * Place the room into a predefined operation mode. This may include executing an arbitrary\n     * set of device interactions, changing metadata associated with the system itself (changing\n     * available input or output nodes), or other configurable actions designed to transition\n     * the space to a specific state.\n     **/\n    $preset() {}\n    /**\n     * Set the volume for a signal node in the space. This can include outputs as well as inputs\n     * where supported (e.g. microphone). If unspecified, default is to interact with a ‘primary’\n     * output node.\n     **/\n    $volume(value: number, source: string = 'all') {\n        if (source === 'all') {\n            this.volume = value;\n        }\n    }\n    /** Interact with audio muting on supporting signal nodes within the space. */\n    $mute(state: boolean = true, source: string = 'all') {\n        this.$updateState(source, { mute: state });\n    }\n    /**\n     * Activates or deactivates a signal mute for the associated IO. If this is not possible,\n     * (e.g. unsupported by the device) an error is returned.\n     **/\n    $unmute(source: string = 'all') {\n        this.$mute(false, source);\n    }\n    /**\n     * Wrapper for an arbitrary set of control points defined in system configuration.\n     * Each of these may map to control options available on a sibling module and take one of two forms:\n     *  - Continuous value within a range (temperature set point 16.0...28.0 degrees, lighting level 0...100)\n     *  - Set of possible states (lighting high/med/low, blind up/down, electrochromic glass clear/opaque)\n     *\n     * System state provides the ability to introspect configured points for both control limits and current value.\n     **/\n    $environment(id: string, state: string | number) {\n        const source = this.env_sources.find((_) => _.id === id);\n        if (source) {\n            this[`${source.type}/${source.id}`] = { ...source, state };\n        }\n    }\n    /** Locks an IO node. Prevents any route changes that include this until unlocked. */\n    $lock(source: string) {\n        this.$updateState(source, { locked: true });\n    }\n    /** Unlocks an IO node. */\n    $unlock(source: string) {\n        this.$updateState(source, { locked: false });\n    }\n\n    $updateState(source: string, data: HashMap) {\n        if (this[`input/${source}`]) {\n            this[`input/${source}`] = { ...this[`input/${source}`], ...data };\n            this.input_list[source] = { ...this[`input/${source}`], ...data };\n        } else if (this[`output/${source}`]) {\n            this[`output/${source}`] = { ...this[`output/${source}`], ...data };\n            this.output_list[source] = { ...this[`output/${source}`], ...data };\n        }\n    }\n}\n\nconst input_list: HashMap = {\n    Mic1: {\n        name: 'Lectern Mic',\n        type: 'Microphone',\n        mod: 'Microphone_1',\n    },\n    Mic2: {\n        name: 'Lapel Mic',\n        type: 'Microphone',\n        mod: 'Microphone_2',\n    },\n    Mic3: {\n        name: 'Handheld Mic',\n        type: 'Microphone',\n        mod: 'Microphone_3',\n    },\n    PC1: {\n        name: 'PC-1',\n        type: 'PC',\n    },\n    PC2: {\n        name: 'PC-2',\n        type: 'PC',\n    },\n    PC3: {\n        name: 'PC-3',\n        type: 'PC',\n    },\n    PC4: {\n        name: 'PC-4',\n        type: 'PC',\n    },\n    HDMI: {\n        name: 'Laptop HDMI',\n        type: 'Laptop',\n    },\n    VGA: {\n        name: 'Laptop VGA',\n        type: 'Laptop',\n    },\n    Camera1: {\n        name: 'Camera Rear',\n        type: 'Camera',\n        mod: 'Camera_1',\n    },\n    Camera2: {\n        name: 'Camera Front',\n        type: 'Camera',\n        mod: 'Camera_2',\n    },\n    Camera3: {\n        name: 'Camera Rear 2',\n        type: 'Camera',\n        mod: 'Camera_3',\n    },\n    Camera4: {\n        name: 'Camera Front 2',\n        type: 'Camera',\n        mod: 'Camera_4',\n    },\n    TV1: {\n        name: 'IPTV 1',\n        type: 'TV',\n        mod: 'IPTV_1',\n    },\n    VC1: {\n        name: 'Video Conference 1',\n        type: 'VC',\n        mod: 'VidConf_1',\n    },\n};\n\nconst output_list: HashMap = {\n    Display1: {\n        name: 'Screen 1',\n        type: 'Display',\n        source: 'PC1',\n        mod: 'Display_1',\n    },\n    Display2: {\n        name: 'Screen 2',\n        type: 'Display',\n        mod: 'Display_2',\n    },\n    Display5: {\n        name: 'TV 1',\n        type: 'Display',\n        mod: 'Display_5',\n        source: 'TV1',\n    },\n};\n\nconst env_sources: any[] = [\n    {\n        id: 'light1',\n        name: 'Lighting',\n        type: 'lights',\n        states: ['Off', 'Presentation', 'Meeting', 'Full'],\n        state: 'Off',\n    },\n    {\n        id: 'blind1',\n        name: 'Blinds',\n        type: 'blinds',\n        states: ['Off', 'Presentation', 'Meeting'],\n        state: 'Off',\n    },\n    {\n        id: 'screen1',\n        name: 'Screen',\n        type: 'screen',\n        states: ['Up', 'Down'],\n        state: 'Down',\n    },\n];\n\nexport const createSystemModule = (space: HashMap, overrides: HashMap = {}) =>\n    new RoomModule({\n        ...space,\n        input_list,\n        output_list,\n        env_sources,\n        ...overrides,\n    });\n","import { Md5 } from 'ts-md5';\nimport { HashMap, predictableRandomInt, randomInt } from '@placeos/common';\nimport { MOCK_LEVELS } from '../api/zone.data';\nimport { MOCK_STAFF } from '../api/users.data';\n\nexport interface ZoneOverview {\n    /** Desk count based on `desks` metadata in the zone\n     falls back to the zone.count field otherwise */\n    desk_count: number;\n\n    desk_usage: number;\n    /** Capacity of the space, set in zone.capacity field */\n    device_capacity: number;\n    /** Raw device count */\n    device_count: number;\n    /** This is the adjusted count based on the duplication factor */\n    estimated_people: number;\n\n    percentage_use: number;\n    /** The higher the recommendation number the better for recommending */\n    recommendation: number;\n}\n\nexport class MockAreaManagementModule implements HashMap {\n    /** Overview of the zones */\n    overview: HashMap<ZoneOverview> = {};\n\n    emergency_contacts = {\n        'First Aid': MOCK_STAFF.filter(\n            (_) => predictableRandomInt(9999) % 5 === 0\n        ),\n        'Fire Warden': MOCK_STAFF.filter(\n            (_) => predictableRandomInt(9999) % 5 === 0\n        ),\n    };\n\n    $locate_user(email: string, username: string) {}\n\n    $update() {\n        updateLocations(this, MOCK_LEVELS);\n    }\n}\n\nconst MAC_LOOKUP = {};\n\nexport class MockLocationServicesModule implements HashMap {\n    $check_ownership_of(mac_address: string) {\n        if (!MAC_LOOKUP[mac_address]) {\n            const staff =\n                randomInt(999_999) % 3 === 0\n                    ? MOCK_STAFF[randomInt(MOCK_STAFF.length)]\n                    : { name: '' };\n            MAC_LOOKUP[mac_address] = { assigned_to: staff.name };\n        }\n        return MAC_LOOKUP[mac_address];\n    }\n\n    $locate_user(email: string, username: string) {\n        return [{\n            type: 'wireless',\n            position: { x: 0.5, y: 0.5 },\n            level: MOCK_LEVELS[randomInt(MOCK_LEVELS.length)].id,\n            priority: 0\n        }]\n    }\n}\n\nfunction padZero(no: number, len: number = 3) {\n    let str = `${no}`;\n    while (str.length < len) {\n        str = '0' + str;\n    }\n    return str;\n}\n\nexport function createAreaManagementModule(\n    space: HashMap,\n    overrides: HashMap = {}\n) {\n    const mod = new MockAreaManagementModule();\n    for (const lvl of MOCK_LEVELS) {\n        mod.overview[lvl.id] = {\n            desk_count: 100,\n            desk_usage: 0,\n            device_capacity: 100,\n            device_count: 0,\n            estimated_people: 0,\n            percentage_use: 0,\n            recommendation: 10000,\n        };\n        mod[`${lvl.id}:desk_ids`] = new Array(mod.overview[lvl.id].desk_count)\n            .fill(0)\n            .map((_, idx) => `table-${lvl.number}.${padZero(idx)}`);\n        mod[`${lvl.id}`] = { value: [] };\n        mod[`${lvl.id}:areas`] = {\n            value: [\n                {\n                    area_id: 'zone-10.B',\n                    count: randomInt(100),\n                    name: '.L1 IFS IT',\n                },\n                {\n                    area_id: 'zone-10.A',\n                    count: randomInt(100),\n                    name: '.L1 IFS IT',\n                },\n                {\n                    area_id: 'zone-10.C',\n                    count: randomInt(50),\n                    name: '.L1 IFS IT',\n                },\n                {\n                    area_id: 'zone-02.D',\n                    count: randomInt(100),\n                    name: 'Quite Work',\n                },\n                {\n                    area_id: 'zone-02.B',\n                    count: randomInt(100),\n                    name: 'Meeting Area A',\n                },\n                {\n                    area_id: 'zone-02.A',\n                    count: randomInt(100),\n                    name: 'Meeting Area B',\n                },\n                {\n                    area_id: 'zone-02.C',\n                    count: randomInt(50),\n                    name: 'Casual Work',\n                },\n            ],\n        };\n    }\n    return mod;\n}\n\nexport function updateLocations(\n    mod: MockAreaManagementModule,\n    levels: HashMap[]\n) {\n    for (const lvl of levels) {\n        mod[lvl.id] = {\n            value: new Array(predictableRandomInt(20))\n                .fill(0)\n                .map(() => generateLocation(lvl, mod[`${lvl.id}:desk_ids`])),\n        };\n        for (const area of mod[`${lvl.id}:areas`].value) {\n            area.count = randomInt(100);\n        }\n        mod[`${lvl.id}:areas`] = { ...mod[`${lvl.id}:areas`] };\n    }\n}\n\nexport function generateLocation(\n    lvl: HashMap,\n    desks: string[],\n    users = MOCK_STAFF\n) {\n    const fixed = predictableRandomInt(9999) % 3 === 0;\n    const usr = (users || [])[predictableRandomInt((users || [])?.length)]?.email;\n    return fixed\n        ? {\n              location: 'desk',\n              at_location: predictableRandomInt(9999) % 2 !== 0,\n              map_id: desks[predictableRandomInt(desks.length)],\n              mac: Md5?.hashStr(usr || ''),\n              level: lvl.id,\n              building: lvl.parent_id,\n          }\n        : {\n              location: 'wireless',\n              coordinates_from: 'bottom-left',\n              x: predictableRandomInt(1000) / 10,\n              y: predictableRandomInt(1000) / 10,\n              lon: 55.27476066828535,\n              lat: 25.20106100633537,\n              s2_cell_id: '3e5f4281459c',\n              mac: Md5?.hashStr(usr || ''),\n              variance: 9.62534032222287,\n              last_seen: Math.floor(new Date().valueOf() / 1000),\n              map_width: 100,\n              map_height: 100,\n          };\n}\n","import { HashMap, randomInt } from '@placeos/common';\n\nclass DisplayModule {\n    mute: boolean;\n    volume: number;\n\n    $mute(state: boolean = true) {\n        this.mute = state;\n    }\n\n    $volume(value: number) {\n        this.volume = value;\n    }\n\n    constructor(_) {\n        this.volume = randomInt(100);\n    }\n}\n\nexport const createDisplayModule = (space: HashMap, overrides: HashMap = {}) =>\n    new DisplayModule({ ...space, ...overrides });\n","import { addSeconds, format, isBefore, subSeconds } from 'date-fns';\n\nimport { HashMap, timePeriodsIntersect } from '@placeos/common';\nimport { MOCK_EVENTS } from '../api/events.data';\n\nexport class MockBookingModule {\n    /** Timezone the associated space resided */\n    time_zone = 'Australia/Sydney';\n    /** Whether booking is disabled */\n    disable_book_now = false;\n    /** Whether ending current meeting is disabled */\n    disable_end_meeting = false;\n    /** List of current and upcoming bookings for space */\n    bookings: HashMap[] = [];\n    pending_period = 0;\n    pending_before = 0;\n    /** Control UI associated with the space */\n    control_ui = '';\n    /** Catering UI associated with the space */\n    catering_ui = '';\n    /** Time of the last booking started by a user */\n    last_booking_started = 0;\n    current_booking = null;\n    next_booking = null;\n    /** Current status of the space */\n    room_image = 'assets/boardroom.jpg'\n    status = 'free';\n    _space = null;\n\n    constructor(space, _data: Partial<MockBookingModule>) { this._space = space }\n\n    /** Start the meeting at the given time */\n    $start_meeting(t: number) {\n        this.last_booking_started = t;\n    }\n    /** End the meeting at the given time */\n    $end_meeting(t: number) {}\n    /** Book meeting for the current time */\n    $book_now(len: number, t?: string, o?: string) {}\n\n    $poll_bookings() {\n        updateBookings(this._space, this);\n    }\n}\n\nexport const createBookingsModule = (\n    space: HashMap,\n    overrides: Partial<MockBookingModule> = {}\n) => new MockBookingModule(space, overrides);\n\nfunction updateBookings(space: HashMap, mod: HashMap) {\n    const bookings =\n        MOCK_EVENTS.filter((event) =>\n            event.attendees?.find(\n                (u) =>\n                    u.email === space.email ||\n                    u.id === space.id ||\n                    event.system?.id === space.id\n            )\n        ) || [];\n    bookings.sort((a, b) => a.event_start - b.event_start);\n    mod.bookings = bookings;\n    mod.current_booking = bookings.find((_) =>\n        timePeriodsIntersect(\n            Date.now(),\n            Date.now(),\n            _.event_start * 1000,\n            _.event_end * 1000\n        )\n    );\n    mod.next_booking = bookings.find((_) => _.event_start * 1000 > Date.now());\n    const date = new Date();\n    const { current_booking, next_booking } = mod;\n    const start = new Date((current_booking || next_booking)?.event_start);\n    const pending = timePeriodsIntersect(\n        date,\n        date,\n        subSeconds(start, mod.pending_before),\n        addSeconds(start, mod.pending_period)\n    );\n    mod.status = space?.bookable\n        ? current_booking\n            ? 'busy'\n            : pending\n            ? 'pending'\n            : 'free'\n        : 'not-bookable';\n}\n","import { HashMap } from '@placeos/common';\n\nclass MeetingPushModule {\n    public supported_meeting_url = 'https://meet.';\n\n    constructor(data: any) {}\n\n    $econtrol(...args: any[]) {}\n}\n\nexport const createMeetingPushModule = (\n    details?: HashMap,\n    overrides: HashMap = {}\n) =>\n    new MeetingPushModule({\n        ...details,\n        ...overrides,\n    });\n","import { HashMap, randomInt } from '@placeos/common';\n\nclass MicrophoneModule {\n    mute: boolean;\n    volume: number;\n\n    $mute(state: boolean = true) {\n        this.mute = state;\n    }\n\n    $volume(value: number) {\n        this.volume = value;\n    }\n\n    constructor(_) {\n        this.volume = randomInt(100);\n    }\n}\n\nexport const createMicrophoneModule = (\n    space: HashMap,\n    overrides: HashMap = {}\n) => new MicrophoneModule({ ...space, ...overrides });\n","import { HashMap, randomInt, randomString } from '@placeos/common';\n\nclass PaymentsModule {\n    \n    $list_payment_methods(type: string) {\n        \n    }\n\n    $add_payment_method(type: string, details: any) {\n\n    }\n\n    $get_product_prices(id: string, period) {\n        return [12000, 60];\n    }\n\n    $create_payment_intent(amount: number, source: string) {\n        return randomString(12);\n    }\n\n    $confirm_payment_intent(id: string) {\n\n    }\n\n    $cancel_payment_intent(id: string) {\n    }\n\n    $create_customer(...args: any) {\n        return `stripe-${randomInt(9_999_999, 1_000_000)}`;\n    }\n\n    constructor(_) {}\n}\n\nexport const createPaymentsModule = (space: HashMap, overrides: HashMap = {}) =>\n    new PaymentsModule({ ...space, ...overrides });\n","import { HashMap } from '@placeos/common';\n\nexport type VideoLayout = 'Auto' | 'Equal' | 'Overlay' | 'Prominent' | 'Single';\nexport type CallStatus =\n    | 'Idle'\n    | 'Dialling'\n    | 'Ringing'\n    | 'Connecting'\n    | 'Connected'\n    | 'Disconnecting'\n    | 'OnHold'\n    | 'EarlyMedia'\n    | 'Preserved'\n    | 'RemotePreserved';\n\nexport interface VideoCallDetails {\n    AnswerState: string;\n    CallType: string;\n    CallbackNumber: string;\n    DeviceType: string;\n    Direction: string;\n    DisplayName: number;\n    Duration: number;\n    'Encryption/Type': string;\n    FacilityServiceId: number;\n    HoldReason: string;\n    PlacedOnHold: boolean;\n    Protocol: string;\n    ReceiveCallRate: number;\n    RemoteNumber: string;\n    Status: CallStatus;\n    TransmitCallRate: number;\n    Ice: string;\n}\n\nclass VideoConferenceModule {\n    mic_mute: boolean = false;\n    selfview: boolean = false;\n    video_layout: VideoLayout = 'Auto';\n    presentation_mode: 'None' | 'Local' | 'Remote' = 'None';\n    presentation: false | 'Sending';\n    calls: Record<string, VideoCallDetails> = {\n        test: {\n            Status: 'Connected',\n        },\n    } as any;\n\n    $show_camera_pip(visible: boolean) {\n        this.selfview = visible;\n    }\n\n    $mic_mute(visible: boolean) {\n        this.mic_mute = visible;\n    }\n    $presentation_mode(state: 'None' | 'Local' | 'Remote') {\n        this.presentation_mode = state;\n    }\n    $hangup() {}\n    $call_place_on_hold() {\n        for (const key in this.calls) {\n            if (this.calls[key].Status) {\n                this.calls[key].Status = 'OnHold';\n                this.calls = { ...this.calls };\n                return;\n            }\n        }\n    }\n    $call_resume() {\n        for (const key in this.calls) {\n            if (this.calls[key].Status) {\n                this.calls[key].Status = 'Idle';\n                this.calls = { ...this.calls };\n                return;\n            }\n        }\n    }\n    $video_layout(layout: VideoLayout) {\n        this.video_layout = layout;\n    }\n    $dtmf_send(digit: string) {}\n    $dial(dial_number: string) {\n        return new Promise<void>((r) => setTimeout(() => r(), 1000));\n    }\n\n    constructor(_) {}\n}\n\nexport const createVideoConferenceModule = (\n    space: HashMap = {},\n    overrides: HashMap = {}\n) => new VideoConferenceModule({ ...space, ...overrides });\n","import { mockSystem, registerSystem } from '@placeos/ts-client';\nimport { HashMap } from '@placeos/common';\n\nimport { createSystemModule } from './realtime/control';\nimport { createBookingsModule } from './realtime/events';\nimport { createAreaManagementModule, MockLocationServicesModule } from './realtime/desks';\nimport { createCameraModule } from './realtime/camera';\nimport { createDisplayModule } from './realtime/display';\nimport { createMicrophoneModule } from './realtime/microphone';\nimport { createCaptureModule } from './realtime/capture';\nimport { createMeetingPushModule } from './realtime/meeting';\nimport { createVideoConferenceModule } from './realtime/video-conference';\nimport { createContactTracingModule } from './realtime/contact-tracing';\nimport { createPaymentsModule } from './realtime/payments';\n\nexport function createSystem(space: HashMap) {\n    registerSystem(space.id, {\n        System: [createSystemModule(space)],\n        Bookings: [createBookingsModule(space)],\n        ContactTracing: [createContactTracingModule(space)],\n        AreaManagement: [createAreaManagementModule(space)],\n        LocationServices: [new MockLocationServicesModule()],\n        Camera: new Array(10).fill(0).map((_) => createCameraModule(space)),\n        Display: new Array(10).fill(0).map((_) => createDisplayModule(space)),\n        Microphone: new Array(10)\n            .fill(0)\n            .map((_) => createMicrophoneModule(space)),\n        Capture: [createCaptureModule(space)],\n        MeetingPush: [createMeetingPushModule()],\n        VidConf: [createVideoConferenceModule()],\n        Payment: [createPaymentsModule(space)]\n    });\n\n    const system = mockSystem(space.id);\n\n    system.Bookings[0].$poll_bookings();\n    setInterval(() => system.Bookings[0].$poll_bookings(), 30 * 1000);\n\n    system.AreaManagement[0].$update();\n    setInterval(() => system.AreaManagement[0].$update(), 30 * 1000);\n}\n","\nimport { log } from '@placeos/common';\n\nimport { ZONE_MOCKS } from './lib/api/zones.mock';\nimport { USER_MOCKS } from './lib/api/users.mock';\nimport { SYSTEM_MOCKS } from './lib/api/systems.mock';\nimport { EVENT_MOCKS } from './lib/api/events.mock';\nimport { CALENDAR_MOCKS } from './lib/api/calendars.mock';\nimport { BOOKING_MOCKS } from './lib/api/bookings.mock';\nimport { ASSET_MOCKS } from './lib/api/assets.mock';\n\nexport default {\n    ZONE_MOCKS,\n    USER_MOCKS,\n    SYSTEM_MOCKS,\n    EVENT_MOCKS,\n    CALENDAR_MOCKS,\n    BOOKING_MOCKS,\n    ASSET_MOCKS\n};\n\nlog('MOCKS', 'Mocks included with application.');\n","export * from './lib/building.class';\nexport * from './lib/building.utilities';\nexport * from './lib/level.class';\nexport * from './lib/organisation.class';\nexport * from './lib/organisation.service';\nexport * from './lib/organisation.utilities';\nexport * from './lib/desk.class';\n","import { BookingRulesmap } from 'libs/events/src/lib/event.interfaces';\n\nimport { BuildingLevel } from './level.class';\n\ninterface Identity {\n    id: string;\n    name: string;\n}\ninterface RoomConfiguration {\n    id: string;\n    name?: string;\n    description?: string;\n    capacity?: number;\n}\n\nexport interface IBuildingRoleUser {\n    name: string;\n    email: string;\n    phone: string;\n}\n\nexport interface LockerMap {\n    [zone: string]: {\n        [area: string]: {\n            [type: string]: (string | boolean)[][];\n        };\n    };\n}\n\nexport interface ICoordinates {\n    longitude: number;\n    latitude: number;\n}\n\nexport interface LevelFeature {\n    id: string;\n    level_id: string;\n    name: string;\n}\n\nexport interface BookingRuleDetails {\n    /** List of booking rules details for the building */\n    readonly rules: readonly string[];\n    /** Custom booking rules for the map */\n    readonly map_rules?: readonly string[];\n    /** Contact email address for the building */\n    readonly contact?: string;\n    /** Information string to display before the rule listings */\n    readonly info?: string;\n}\n\nexport interface BuildingComplete extends Building {\n    settings: Record<string, any>;\n    locker_structure: Record<string, any>;\n    roles: Record<string, any>;\n    zone: string;\n    location: string;\n    neighbourhoods: Record<string, any>;\n}\n\nexport class Building {\n    /** PlaceOS zone id of the building */\n    public readonly id: string;\n    /** PlaceOS zone id of the building */\n    public readonly parent_id: string;\n    /** Name of the building zone */\n    public readonly name: string;\n    /** Name to display */\n    public readonly display_name: string;\n    /** Engine Zone ID for the building */\n    public readonly zone_id: string;\n    /** Organisation Code for the building */\n    public readonly code: string;\n    /** Geographical address of the building */\n    public readonly address: string;\n    /** IANA timezone string for building */\n    public readonly timezone: string;\n    /** ID of space that temporarily holds new meetings */\n    public readonly holding_bay: string;\n    /** ID of the space for assigning new visitor bookings to */\n    public readonly visitor_space: string;\n    /** Details about the booking rules for the building */\n    public readonly booking_details: BookingRuleDetails;\n    /** Details about the booking rules for the building */\n    public readonly booking_rules: BookingRulesmap;\n    /** Number of hour before a booking catering is restricted */\n    public readonly catering_restricted_from: number;\n    /** Currency code for the country assoicated with the building */\n    public readonly currency: string;\n    /** List of available extras for the building */\n    public readonly extras: readonly Identity[];\n    /** List of available extra equipment for loan at the building */\n    public readonly loan_items: readonly Identity[];\n    /** List of available levels for the building */\n    public readonly levels: readonly BuildingLevel[];\n    /** List of zones associated with the building */\n    public readonly zones: readonly string[];\n    /** Searchable map features */\n    public readonly searchables: readonly LevelFeature[];\n    /** List of available room configurations for the building */\n    public readonly room_configurations: readonly RoomConfiguration[];\n    /** Start and end hours catering can be delivered */\n    public readonly catering_hours: { start: number; end: number };\n    /** PlaceOS bindings for applications */\n    public readonly bindings: Record<string, string>;\n    /** List of image URLs for the building */\n    public readonly images: string[];\n\n    public readonly orientations: Record<string, number>;\n    public readonly attributes: readonly Identity[];\n    /** Globe coordiates for the build */\n    public location: string;\n    /** Map of roles and list of the associated users */\n    private _roles: Record<string, IBuildingRoleUser[]>;\n    /** Map of the locker ID arrays */\n    private _lockers: LockerMap;\n    /** Map of important system ids for the building */\n    private _systems: Record<string, string>;\n    /** Map of important phone numbers for the building */\n    private _phone_numbers: Record<string, string>;\n\n    constructor(raw_data: Partial<BuildingComplete> = {}) {\n        this.id = raw_data.id || '';\n        this.parent_id = raw_data.parent_id || '';\n        this.name = raw_data.name || '';\n        const settings = raw_data.settings || {};\n        this.display_name = raw_data.display_name;\n        this.images = this.images || [];\n        const disc_info = settings.discovery_info || settings;\n        this.zone_id = raw_data.zone_id || raw_data.zone;\n        this.extras = (raw_data.extras || disc_info.extras || []).map((i) => ({\n            id: i.extra_id || i.id,\n            name: i.extra_name || i.name,\n        }));\n        this.loan_items = (\n            raw_data.loan_items ||\n            disc_info.loan_items ||\n            []\n        ).map((i) => ({\n            id: i.extra_id || i.id,\n            name: i.extra_name || i.name,\n        }));\n        this.levels = (raw_data.levels || disc_info.levels || []).map(\n            (i) => new BuildingLevel({ ...i, building_id: this.id })\n        );\n        this._roles = raw_data.roles || disc_info.roles || {};\n        this._lockers =\n            raw_data.lockers ||\n            raw_data.locker_structure ||\n            disc_info.locker_structure ||\n            {};\n        this._systems = raw_data.systems || disc_info.systems || {};\n        this._phone_numbers =\n            raw_data.phone_numbers || disc_info.phone_numbers || {};\n        this.location = raw_data.location || disc_info.location || '0,0';\n        this.room_configurations =\n            raw_data.room_configurations || disc_info.room_configurations || [];\n        this.attributes = raw_data.attributes || disc_info.attributes || [];\n        const searchables = [];\n        if (raw_data.neighbourhoods) {\n            for (const lvl in raw_data.neighbourhoods) {\n                if (lvl in raw_data.neighbourhoods) {\n                    const lvl_features = raw_data.neighbourhoods[lvl] || {};\n                    for (const feature in lvl_features) {\n                        if (feature in lvl_features) {\n                            searchables.push({\n                                id: lvl_features[feature],\n                                name: feature,\n                                level_id: lvl,\n                            });\n                        }\n                    }\n                }\n            }\n        }\n        this.bindings = raw_data.bindings || {};\n        this.searchables = searchables;\n        this.timezone =\n            raw_data.timezone || disc_info.timezone || settings.timezone || '';\n        this.catering_hours = raw_data.catering_hours ||\n            disc_info.catering_hours ||\n            settings.catering_hours || { start: 7, end: 20 };\n        this.visitor_space =\n            raw_data.visitor_space ||\n            disc_info.visitor_space ||\n            settings.visitor_space ||\n            '';\n        this.holding_bay =\n            raw_data.holding_bay ||\n            disc_info.holding_bay ||\n            settings.holding_bay ||\n            '';\n        this.code = raw_data.code || disc_info.code || settings.code || '';\n        this.address =\n            raw_data.address || disc_info.address || settings.address || '';\n        this.orientations =\n            raw_data.orientations ||\n            disc_info.orientations ||\n            settings.orientations ||\n            {};\n        this.booking_details =\n            raw_data.booking_details ||\n            disc_info.booking_details ||\n            settings.booking_details ||\n            null;\n        this.booking_rules =\n            raw_data.booking_rules ||\n            disc_info.booking_rules ||\n            settings.booking_rules ||\n            {};\n        this.catering_restricted_from =\n            raw_data.catering_restricted_from ||\n            disc_info.catering_restricted_from ||\n            settings.catering_restricted_from ||\n            -1440;\n        this.currency =\n            raw_data.currency ||\n            disc_info.currency ||\n            settings.currency ||\n            'USD';\n    }\n\n    /**\n     * Get list of users with the associated role\n     * @param name Role to find users for\n     */\n    public role(name: string): IBuildingRoleUser[] {\n        return [...(this._roles[name] || [])];\n    }\n    /**\n     * Get list of the names of available user role lists\n     */\n    public get role_names(): string[] {\n        return Object.keys(this._roles).filter((i) => i in this._roles);\n    }\n    /** Map of the locker ID arrays */\n    public get lockers(): LockerMap {\n        return { ...(this._lockers || {}) };\n    }\n    /** Map of important system ids for the building */\n    public get systems(): Record<string, string> {\n        return { ...(this._systems || {}) };\n    }\n    /** Map of important phone numbers for the building */\n    public get phone_numbers(): Record<string, string> {\n        return { ...(this._phone_numbers || {}) };\n    }\n\n    /**\n     * Get search map feature for the given level ID\n     * @param level_id ID of level to grab features for\n     */\n    public featuresForLevel(level_id: string): LevelFeature[] {\n        return (this.searchables || []).filter((i) => i.level_id === level_id);\n    }\n}\n","\nlet BLD_COUNT = 0;\nlet LVL_COUNT = 0;\n\n/* istanbul ignore next */\n/**\n * Generate raw mock data for creating a building\n * @param id Forced ID for the mock\n */\nexport function generateMockBuilding(id?: string): Record<string, any> {\n    if (!id) {\n        id = `zone_bld-${BLD_COUNT++}`;\n    }\n    const levels = Array(10)\n        .fill(0)\n        .map((i) => generateMockLevel());\n    const features: any = {};\n    for (const lvl of levels) {\n        const count = Math.floor(Math.random() * 3 + 2);\n        features[lvl.level_id] = {};\n        for (let i = 0; i < count; i++) {\n            features[lvl.level_id][`A Feature ${i + 1}`] = `feature-${i + 1}`;\n        }\n    }\n    return {\n        id,\n        zone_id: id,\n        extras: Array(10)\n            .fill(0)\n            .map((_, idx) => {\n                const name = `Property ${idx + 1}`;\n                return {\n                    extra_id: name.split(' ').join('-').toLowerCase(),\n                    extra_name: name,\n                };\n            }),\n        loan_items: Array(10)\n            .fill(0)\n            .map((_, idx) => {\n                const name = `Property ${idx + 1}`;\n                return {\n                    extra_id: name.split(' ').join('-').toLowerCase(),\n                    extra_name: name,\n                };\n            }),\n        levels,\n        roles: {\n            'first-aiders': Array(10)\n                .fill(0)\n                .map((i) => ({ name: 'Test' })),\n        },\n        neighbourhoods: features,\n        settings: {\n            test: {\n                nested: {\n                    level2: true,\n                    org: false,\n                },\n            },\n        },\n        room_configurations: [\n            {\n                id: 'boardroom',\n                name: 'Boardroom',\n                description: 'A boardroom setting',\n            },\n            {\n                id: 'cocktail',\n                name: 'Cocktail',\n                description: 'A cocktail setting',\n            },\n        ],\n    };\n}\n\n/* istanbul ignore next */\n/**\n * Generate raw mock data for a building level\n * @param id Forced ID for the mock\n * @param map_url Map URL for the level\n */\nexport function generateMockLevel(id?: string, map_url?: string): Record<string, any> {\n    if (!id) {\n        id = `zone_lvl-${LVL_COUNT++}`;\n    }\n    return {\n        level_id: id,\n        level_name: `Level ${LVL_COUNT}`,\n        map_url,\n    };\n}\n","import { PlaceZone, cleanObject } from '@placeos/ts-client';\n\nconst IGNORE_KEYS = ['zone', 'qr_code', 'toJSON'];\n\nexport class Desk implements Record<string, any> {\n    /** ID of the desk also map_id */\n    public readonly id: string;\n    /** ID of the desk on the associated map */\n    public readonly map_id: string;\n    /** Name of the desk */\n    public readonly name: string;\n    /** Whether desk is available / bookable */\n    public readonly bookable: boolean;\n    /** Zone/Level of the desk */\n    public readonly zone: PlaceZone;\n    /** Group/Department allocated to the desk */\n    public readonly groups: string[];\n    /** QR code image data */\n    public readonly qr_code: string;\n    /** List of features associated with the desk */\n    public readonly features: string[];\n    /** List of URLs to images */\n    public readonly images: string[];\n\n    public staff_name?: string;\n\n    constructor(data: Partial<Desk> = {}) {\n        this.id = data.id || '';\n        this.map_id = data.map_id || data.id || '';\n        this.name = data.name || '';\n        this.bookable = data.bookable ?? false;\n        this.zone = data.zone || new PlaceZone();\n        this.groups = data.groups || [];\n        this.qr_code = data.qr_code || '';\n        this.features = data.features || [];\n        this.images = data.images || [];\n        for (const key in data) {\n            if (!(key in this)) this[key] = data[key];\n        }\n    }\n\n    public format() {\n        const data = { ...this };\n        for (const key of IGNORE_KEYS) {\n            delete data[key];\n        }\n        cleanObject(data, [undefined, null, []]);\n        return data;\n    }\n\n    public readonly toJSON = () => this.format();\n}\n","\n/** Building Level data */\nexport class BuildingLevel {\n    /** ID of the building level zone */\n    public readonly id: string;\n    /** ID of the building zone associated with the level */\n    public readonly parent_id: string;\n    /** Name of the level */\n    public readonly name: string;\n    /** Display name */\n    public readonly display_name: string;\n    /** Capacity for the level */\n    public readonly capacity: number;\n    /** Number or letter representing the level */\n    public readonly number: string;\n    /** URL of the map associated with the level */\n    public readonly map_id: string;\n    /** URL of the map associated with the level */\n    public readonly tags: string[];\n    /** Settings overrides associated with the level */\n    public readonly settings: Record<string, any> = {};\n    /** List of image URLs for the level */\n    public readonly images: string[];\n    /** List of points of interest for the level */\n    public readonly locations: readonly { id: string, name: string }[];\n\n    constructor(_data: Partial<BuildingLevel> = {}) {\n        this.id = _data.id || '';\n        this.parent_id = _data.parent_id || '';\n        this.name = _data.name || '';\n        this.display_name = _data.display_name || '';\n        this.map_id = _data.map_id || '';\n        this.capacity = _data.capacity || 0;\n        this.locations = _data.locations || [];\n        this.tags = _data.tags || [];\n        this.images = _data.images || [];\n        const parts = this.display_name.split(' ');\n        this.number =\n            (parts.length >= 2\n                ? parts[parts.length - 1]\n                : this.display_name[0]\n            )?.toUpperCase() || '';\n    }\n}\n","import { getItemWithKeys } from 'libs/common/src/lib/general';\n\nexport interface OrganisationComplete extends Organisation {\n    settings?: Record<string, any>;\n}\n\nexport class Organisation {\n    /** PlaceOS zone id of the building */\n    public readonly id: string;\n    /** Name of the building zone */\n    public readonly name: string;\n    /** Description for the Organisation */\n    public readonly description: string;\n    /** Tags for the Organisation */\n    public readonly tags: string[];\n    /** Count for the Organisation */\n    public readonly count: number;\n    /** Capacity for the Organisation */\n    public readonly capacity: number;\n    /** PlaceOS bindings for applications */\n    public readonly bindings: Record<string, string>;\n    /** Map of custom settings for the building */\n    private _settings: Record<string, any>;\n\n    constructor(raw_data: Partial<OrganisationComplete> = {}) {\n        this.id = raw_data.id || '';\n        this.name = raw_data.name || '';\n        this.description = raw_data.description || '';\n        this.tags = raw_data.tags || [];\n        this.count = raw_data.count || 0;\n        this.capacity = raw_data.capacity || 0;\n        this.bindings = raw_data.bindings || {};\n        this._settings = raw_data.settings || {};\n    }\n\n    /**\n     * Get a custom organisation setting\n     * @param key Name of the setting. i.e. nested items can be grabbed using `.` to seperate key names\n     */\n    public setting(key: string): any {\n        const keys = key.split('.');\n        const value = getItemWithKeys(keys, this._settings);\n        return value;\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\nimport {\n    authority,\n    isMock,\n    onlineState,\n    queryZones,\n    showMetadata,\n} from '@placeos/ts-client';\nimport { BehaviorSubject, combineLatest, of } from 'rxjs';\nimport { catchError, first, map } from 'rxjs/operators';\n\nimport { notifyError } from 'libs/common/src/lib/notifications';\nimport { SettingsService } from 'libs/common/src/lib/settings.service';\nimport { RoomConfiguration } from 'libs/common/src/lib/room-configuration.interface';\n\nimport { Building } from './building.class';\nimport { BuildingLevel } from './level.class';\nimport { Organisation } from './organisation.class';\nimport { Region } from './region.class';\nimport { flatten, log, unique } from '@placeos/common';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class OrganisationService {\n    /** Subject which stores the initialised state of the object */\n    protected readonly _initialised = new BehaviorSubject<boolean>(false);\n    /** Observable of the initialised state of the object */\n    public readonly initialised = this._initialised.asObservable();\n    private readonly _regions = new BehaviorSubject<Region[]>([]);\n    private readonly _active_region = new BehaviorSubject<Region>(null);\n    private readonly _buildings = new BehaviorSubject<Building[]>([]);\n    private readonly _active_building = new BehaviorSubject<Building>(null);\n    private readonly _levels = new BehaviorSubject<BuildingLevel[]>([]);\n    private readonly _loaded_data: string[] = [];\n\n    public readonly app_key = `${(\n        this._service.app_name || 'workplace'\n    ).toLowerCase()}_app`;\n    /** Observable for the list of regions */\n    public readonly region_list = this._regions.asObservable();\n    /** Observable for the list of buildings */\n    public readonly building_list = this._buildings.asObservable();\n    /** Observable for the list of levels */\n    public readonly level_list = this._levels.asObservable();\n    /** Observable for the currently active region */\n    public readonly active_region = this._active_region.asObservable();\n    /** Observable for the currently active building */\n    public readonly active_building = this._active_building.asObservable();\n    /** Observable for the buildings associated with the currently active region */\n    public readonly active_buildings = combineLatest([\n        this._buildings,\n        this._active_region,\n    ]).pipe(\n        map(([_, region]) =>\n            region ? this.buildingsForRegion(region) : this.buildings\n        )\n    );\n    /** Observable for the levels associated with the currently active building */\n    public readonly active_levels = combineLatest([\n        this._levels,\n        this._active_building,\n    ]).pipe(map(([_, bld]) => (bld ? this.levelsForBuilding(bld) : [])));\n    /** Organisation data for the application */\n    private _organisation: Organisation;\n    /** Mapping of organisation settings overrides */\n    private _settings: Record<string, any>[] = [];\n    /** Mapping of regions to settings overrides */\n    private _region_settings: Record<string, Record<string, any>> = {};\n    /** Mapping of buildings to settings overrides */\n    private _building_settings: Record<string, Record<string, any>> = {};\n\n    /** Mapping of organisation settings overrides */\n    public get settings() {\n        return this._settings;\n    }\n\n    /** Mapping of regions to settings overrides */\n    public get region_settings() {\n        return this._region_settings;\n    }\n\n    /** Mapping of buildings to settings overrides */\n    public get building_settings() {\n        return this._building_settings;\n    }\n\n    /** Mapping region settings overrides */\n    public regionSettings(id: string = ''): Record<string, any> {\n        const region = this._active_region.getValue();\n        if (!id && region) id = region?.id;\n        return this._region_settings ? this._region_settings[id] || {} : {};\n    }\n\n    /** Mapping building settings overrides */\n    public buildingSettings(bld_id: string = ''): Record<string, any> {\n        if (!bld_id && this.building) {\n            bld_id = this.building?.id;\n        }\n        return this._building_settings\n            ? this._building_settings[bld_id] || {}\n            : {};\n    }\n\n    /** Organisation data for the application */\n    public get organisation(): Organisation {\n        return this._organisation;\n    }\n\n    /** List of available regions */\n    public get regions(): Region[] {\n        return this._regions.getValue();\n    }\n\n    /** Currently active region */\n    public get region(): Region {\n        return this._active_region.getValue();\n    }\n    public set region(item: Region) {\n        if (!item) return;\n        this._active_region.next(item);\n        this.loadRegionData(item).then(() => {\n            if (\n                this.building?.parent_id !== item.id &&\n                this.buildingsForRegion(item).length\n            ) {\n                this.building = this.buildingsForRegion(item)[0];\n            } else this._updateSettingOverrides();\n        });\n    }\n\n    /** List of available buildings */\n    public get buildings(): Building[] {\n        return this._buildings.getValue() || [];\n    }\n\n    /** Currently active building */\n    public get building(): Building {\n        return this._active_building.getValue();\n    }\n    public set building(bld: Building) {\n        this._active_building.next(bld);\n        this.loadBuildingData(bld).then(() => this._updateSettingOverrides());\n        if (this.regions.length && this.region?.id !== bld.parent_id) {\n            this.region = this.regions.find(\n                (_) => _.id === this.building.parent_id\n            );\n        }\n    }\n\n    public get timezone() {\n        return Intl.DateTimeFormat().resolvedOptions().timeZone;\n    }\n\n    public get currency_code(): string {\n        return (\n            this._service.get('app.currency') ||\n            this.building?.currency ||\n            'USD'\n        );\n    }\n\n    /** Get binding value from the building/organisation */\n    public binding(name: string) {\n        return (\n            this.building?.bindings[name] || this._organisation?.bindings[name]\n        );\n    }\n\n    /** Get building by id */\n    public find(id: string) {\n        return this.buildings.find((i) => i.id === id);\n    }\n\n    /** List of available levels */\n    public get levels(): BuildingLevel[] {\n        return this._levels.getValue();\n    }\n\n    constructor(private _service: SettingsService, private _router: Router) {\n        onlineState()\n            .pipe(first((_) => _))\n            .subscribe(() => setTimeout(() => this.init(), 1000));\n        this.active_building.subscribe((bld) => {\n            if (bld) {\n                this._service.overrides = [\n                    ...this._settings,\n                    this.buildingSettings(bld.id),\n                ];\n            }\n        });\n    }\n\n    /**\n     * Get level with a matching ID\n     * @param id_list List of IDs to find a match\n     */\n    public levelWithID(id_list: string[]): BuildingLevel {\n        return this.levels.find((lvl) => id_list?.includes(lvl.id));\n    }\n\n    /**\n     * Get list of levels for the given building\n     * @param bld Building to list levels for\n     */\n    public levelsForBuilding(bld: Building = this.building): BuildingLevel[] {\n        return this.levels.filter((lvl) => lvl.parent_id === bld?.id);\n    }\n\n    /**\n     * Get list of buildings for the given region\n     * @param region Region to list buildings for\n     */\n    public buildingsForRegion(region: Region = this.region): Building[] {\n        return this.buildings.filter((bld) => bld.parent_id === region?.id);\n    }\n\n    private async init(tries: number = 0) {\n        this._initialised.next(false);\n        await this.load().catch((err) => {\n            notifyError('Error loading organisation data. Retrying...');\n            setTimeout(() => this.init(tries), Math.min(10_000, 300 * ++tries));\n            throw err;\n        });\n        this._initialised.next(true);\n        if (window.debug) {\n            if (!window.application) window.application = {};\n            window.application.orgs = this;\n        }\n    }\n\n    /**\n     * Initialise service data\n     */\n    private async load(): Promise<void> {\n        await this.loadOrganisation();\n        await this.loadRegions();\n        if (!this._regions.getValue().length) {\n            this._buildings.next(await this.loadBuildings());\n        } else {\n            for (const region of this._regions.getValue()) {\n                const blds = await this.loadBuildings(region.id);\n                if (blds.length) {\n                    this._buildings.next(blds);\n                    break;\n                }\n            }\n        }\n        await this.loadSettings();\n        if (!this._buildings.getValue()?.length) {\n            log('ORG', 'Unable to find any building zones');\n            this._router.navigate(['/misconfigured']);\n        }\n        await this.loadLevels();\n    }\n\n    /**\n     * Load organisation data for application\n     */\n    public async loadOrganisation(): Promise<void> {\n        const org_list = await queryZones({ tags: 'org' })\n            .pipe(map((i) => i.data))\n            .toPromise();\n        if (org_list.length) {\n            const auth = authority();\n            const org =\n                org_list.find(\n                    (list) => isMock() || list.id === auth?.config?.org_zone\n                ) || org_list[0];\n            const bindings: Record<string, any> = (\n                await showMetadata(org.id, 'bindings').toPromise()\n            )?.details;\n            this._organisation = new Organisation({ ...org, bindings });\n        } else {\n            log('ORG', 'Unable to find organisation');\n            this._router.navigate(['/misconfigured']);\n        }\n    }\n\n    /**\n     * Load region data for the organisation\n     */\n    public async loadRegions(): Promise<void> {\n        const list = await queryZones({\n            tags: 'region',\n            parent_id: this._organisation?.id || '',\n            limit: 500,\n        } as any)\n            .pipe(\n                map((i) => i.data.map((_) => new Region(_))),\n                catchError(() => of([]))\n            )\n            .toPromise();\n        this._regions.next(list);\n    }\n\n    public async loadRegionData(region: Region): Promise<void> {\n        if (this._loaded_data[region.id]) return;\n        const [settings, bindings, buildings]: any = await Promise.all([\n            showMetadata(region.id, this.app_key)\n                .pipe(map((_) => _?.details))\n                .toPromise(),\n            showMetadata(region.id, 'bindings')\n                .pipe(map((_) => _?.details))\n                .toPromise(),\n            this.loadBuildings(region.id),\n        ]);\n        this._buildings.next(\n            unique([...this._buildings.getValue(), ...buildings], 'id')\n        );\n        this._loaded_data[region.id] = true;\n        (region as any).bindings = bindings;\n        this._region_settings[region.id] = settings;\n    }\n\n    /**\n     * Load buildings data for the organisation\n     */\n    public async loadBuildings(\n        parent_id: string = this._organisation?.id\n    ): Promise<Building[]> {\n        const building_list = await queryZones({\n            tags: 'building',\n            parent_id,\n            limit: 500,\n        } as any)\n            .pipe(map((i) => i.data.map((_) => new Building(_))))\n            .toPromise();\n        return building_list;\n    }\n\n    public async loadBuildingData(bld: Building) {\n        if (this._loaded_data[bld.id]) return;\n        const [settings, bindings, booking_rules]: any = await Promise.all([\n            showMetadata(bld.id, this.app_key)\n                .pipe(map((_) => _?.details))\n                .toPromise(),\n            showMetadata(bld.id, 'bindings')\n                .pipe(map((_) => _?.details))\n                .toPromise(),\n            showMetadata(bld.id, 'booking_rules')\n                .pipe(map((_) => _?.details))\n                .toPromise(),\n        ]);\n        this._building_settings[bld.id] = settings || {};\n        (bld as any).bindings = bindings;\n        (bld as any).booking_rules = booking_rules;\n        this._loaded_data[bld.id] = true;\n    }\n\n    /**\n     * Load levels data for the buildings\n     */\n    public async loadLevels(): Promise<void> {\n        const level_list = await queryZones({\n            tags: 'level',\n            limit: 2500,\n        } as any)\n            .pipe(map((i) => i.data))\n            .toPromise();\n\n        if (!level_list?.length) {\n            this._router.navigate(['/misconfigured']);\n        }\n        const levels = level_list\n            .filter(\n                (lvl) =>\n                    !!this.buildings.find((bld) => bld.id === lvl.parent_id)\n            )\n            .map((lvl) => new BuildingLevel(lvl));\n        levels.sort((a, b) => (a.name || '').localeCompare(b.name || ''));\n        this._levels.next(levels);\n    }\n\n    public get available_room_configs(): RoomConfiguration[] {\n        return this.buildings\n            .map((m) => [...m.room_configurations])\n            .reduce((prev, curr) => prev.concat(curr), [])\n            .sort((a, b) => a.name.localeCompare(b.name));\n    }\n\n    public async loadSettings() {\n        if (!this._organisation) return;\n        const app_settings = (\n            await showMetadata(this._organisation?.id, this.app_key).toPromise()\n        )?.details;\n        const global_settings = (\n            await showMetadata(this._organisation?.id, 'settings').toPromise()\n        )?.details;\n        this._settings = [global_settings, app_settings];\n        this._service.overrides = [...this._settings];\n        await this._initialiseActiveBuilding();\n        this._updateSettingOverrides();\n    }\n\n    /** Save building selection */\n    public saveBuilding(id: string) {\n        localStorage.setItem(`PLACEOS.building`, id);\n    }\n\n    private _initialiseActiveBuilding() {\n        return new Promise<void>((resolve) => {\n            const id = localStorage.getItem(`PLACEOS.building`);\n            if (id && this.buildings.find((bld) => bld.id === id)) {\n                this._active_building.next(\n                    this.buildings.find((bld) => bld.id === id)\n                );\n                return resolve();\n            }\n            const use_location = !!this._service.get('app.use_geolocation');\n            if (use_location && 'geolocation' in navigator) {\n                navigator.geolocation.getCurrentPosition(\n                    (position) => {\n                        const { latitude, longitude } = position.coords;\n                        let closest_bld = null;\n                        for (const bld of this.buildings) {\n                            if (!bld.location || bld.location === '0,0')\n                                continue;\n                            if (!closest_bld) closest_bld = bld;\n                            else {\n                                const [c_lat, c_long] = (\n                                    closest_bld.location || '0,0'\n                                ).split(',');\n                                const [b_lat, b_long] = (\n                                    bld.location || '0,0'\n                                ).split(',');\n                                const b_dist = Math.sqrt(\n                                    Math.pow(latitude - +b_lat, 2) +\n                                        Math.pow(longitude - +b_long, 2)\n                                );\n                                const c_dist = Math.sqrt(\n                                    Math.pow(latitude - +c_lat, 2) +\n                                        Math.pow(longitude - +c_long, 2)\n                                );\n                                if (b_dist < c_dist) closest_bld = bld;\n                            }\n                        }\n                        if (closest_bld) this.building = closest_bld;\n                        if (!this.building?.id) this._setDefaultBuilding();\n                        resolve();\n                    },\n                    () => {\n                        if (!this.building?.id) this._setDefaultBuilding();\n                        resolve();\n                    }\n                );\n            } else if (!this.building?.id) {\n                this._setDefaultBuilding();\n                resolve();\n            }\n        });\n    }\n\n    private _setDefaultBuilding() {\n        if (!this.buildings.length) return;\n        const bld_id = this._service.get('app.default_building');\n        if (bld_id) {\n            this.building = this.buildings.find(({ id }) => id === bld_id);\n        } else {\n            const timezone = this.timezone;\n            for (const bld of this.buildings) {\n                if (bld.timezone === timezone) {\n                    this.building = bld;\n                    break;\n                }\n            }\n            if (this.building) return;\n            const tz_start = timezone.split('/')[0];\n            for (const bld of this.buildings) {\n                if (bld.timezone.startsWith(tz_start)) {\n                    this.building = bld;\n                    break;\n                }\n            }\n        }\n        if (!this.building) this.building = this.buildings[0];\n    }\n\n    private _updateSettingOverrides() {\n        this._service.overrides = [\n            this.buildingSettings(this.building?.id),\n            this.regionSettings(this.region?.id),\n            ...this._settings,\n        ];\n    }\n}\n","import { getModule } from '@placeos/ts-client';\nimport { generateMockBuilding } from './building.utilities';\n\nlet ORG_COUNT = 0;\n\nexport function generateMockOrganisation(): Record<string, any> {\n    return {\n        id: `zone_org-${ORG_COUNT++}`,\n        name: `Organisation ${ORG_COUNT}`,\n        buildings: Array(3)\n            .fill(0)\n            .map((i) => generateMockBuilding()),\n        settings: {\n            test: {\n                nested: {\n                    org: true,\n                },\n            },\n        },\n    };\n}\n\nexport type ModuleBindingMetadata =\n    | string\n    | { system_id: string; module?: string };\n\nexport function moduleFromMetadata(\n    value?: ModuleBindingMetadata,\n    default_module?: string\n) {\n    if (!value) return null;\n    return value instanceof Object\n        ? getModule(value.system_id, value.module || default_module)\n        : getModule(value, default_module);\n}\n","\nexport class Region {\n    /** PlaceOS zone id of the building */\n    public readonly id: string;\n    /** Name of the building zone */\n    public readonly name: string;\n    /** Name to display */\n    public readonly display_name: string;\n    /** IANA timezone string for building */\n    public readonly timezone: string;\n    /** List of image URLs for the building */\n    public readonly images: string[];\n    /** PlaceOS bindings for applications */\n    public readonly bindings: Record<string, string>;\n\n    constructor(_data: Partial<Region>) {\n        this.id = _data.id || '';\n        this.name = _data.name || '';\n        this.display_name = _data.display_name || '';\n        this.timezone = _data.timezone || '';\n        this.images = _data.images || [];\n        this.bindings = _data.bindings || {};\n    }\n}\n","export * from './lib/payments.module';\nexport * from './lib/payments.service';\nexport * from './lib/card-input-field.component';","import { DatePipe } from '@angular/common';\nimport { Component, ElementRef, forwardRef, ViewChild } from '@angular/core';\nimport {\n    ControlValueAccessor,\n    FormControl,\n    FormGroup,\n    NG_VALUE_ACCESSOR,\n    Validators,\n} from '@angular/forms';\nimport { AsyncHandler } from '@placeos/common';\nimport { addYears, setMonth } from 'date-fns';\n\nexport interface PaymentCardDetails {\n    card_number: string;\n    cardholder: string;\n    cvv: string;\n    exp_month: string;\n    exp_year: string;\n}\n\nconst BLANK_CARD = { card_number: '                ', cardholder: '', cvv: '' };\nconst DATE_PIPE = new DatePipe('en-us', '');\n\n@Component({\n    selector: 'card-input-field',\n    template: `\n        <form [formGroup]=\"details\" (window:keyup)=\"onInput($event)\">\n            <div class=\"flex flex-col\">\n                <label for=\"card-number\" i18n>Card Number</label>\n                <div\n                    tabindex=\"0\"\n                    class=\"border border-gray-200 p-2 h-12 mb-4 focus-within:shadow focus-within:border-black flex items-center font-mono w-full rounded relative\"\n                    (focus)=\"focusInput()\"\n                >\n                    <pre class=\"flex-1\">{{ card_display }}</pre>\n                    <input\n                        #input\n                        class=\"hidden absolute\"\n                        type=\"tel\"\n                        [value]=\"details.value.card_number?.trim()\"\n                        (keydown)=\"(false)\"\n                        maxlength=\"17\"\n                    />\n                    <img\n                        *ngIf=\"card_type\"\n                        [src]=\"'assets/icons/' + card_type + '.svg'\"\n                        class=\"h-8\"\n                    />\n                </div>\n            </div>\n            <div class=\"flex flex-col flex-1\">\n                <label for=\"cardholder\" i18n>Name on Card</label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        name=\"cardholder\"\n                        matInput\n                        placeholder=\"Mr John Smith\"\n                        formControlName=\"cardholder\"\n                    />\n                    <mat-error i18n>Cardholder name is required</mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"flex items-center space-x-2\">\n                <div class=\"flex flex-col flex-1 w-1/4\">\n                    <label for=\"cardholder\" i18n>Expiry Month</label>\n                    <mat-form-field appearance=\"outline\">\n                        <mat-select\n                            placeholder=\"MM\"\n                            formControlName=\"exp_month\"\n                        >\n                            <mat-option\n                                *ngFor=\"let item of months\"\n                                [value]=\"item[0]\"\n                            >\n                                {{ item[1] }} ({{ item[0] }})\n                            </mat-option>\n                        </mat-select>\n                        <mat-error i18n>Expiry month is required</mat-error>\n                    </mat-form-field>\n                </div>\n                <div class=\"flex flex-col flex-1 w-1/4\">\n                    <label for=\"cardholder\">Expiry Year</label>\n                    <mat-form-field appearance=\"outline\">\n                        <mat-select\n                            placeholder=\"YYYY\"\n                            formControlName=\"exp_year\"\n                        >\n                            <mat-option\n                                *ngFor=\"let item of years\"\n                                [value]=\"item\"\n                                >{{ item }}</mat-option\n                            >\n                        </mat-select>\n                        <mat-error i18n>Expiry year is required</mat-error>\n                    </mat-form-field>\n                </div>\n                <div class=\"flex flex-col\">\n                    <label for=\"cvv\">CVV</label>\n                    <mat-form-field appearance=\"outline\" class=\"w-20\">\n                        <input\n                            name=\"cvv\"\n                            matInput\n                            formControlName=\"cvv\"\n                            maxlength=\"4\"\n                        />\n                        <mat-error i18n>Invalid security code</mat-error>\n                    </mat-form-field>\n                </div>\n            </div>\n        </form>\n    `,\n    styles: [\n        `\n            mat-form-field {\n                height: 3.25rem;\n            }\n        `,\n    ],\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            /* istanbul ignore next */\n            useExisting: forwardRef(() => CardInputFieldComponent),\n            multi: true,\n        },\n    ],\n})\nexport class CardInputFieldComponent\n    extends AsyncHandler\n    implements ControlValueAccessor\n{\n    public details = new FormGroup({\n        card_number: new FormControl(Array(16).fill('X').join()),\n        cardholder: new FormControl(''),\n        exp_month: new FormControl(''),\n        exp_year: new FormControl(''),\n        cvv: new FormControl('', [\n            Validators.minLength(3),\n            Validators.maxLength(4),\n        ]),\n    });\n    public disabled = false;\n\n    public readonly months = Array(12)\n        .fill(0)\n        .map((_, idx) => [\n            DATE_PIPE.transform(setMonth(Date.now(), idx), 'MM'),\n            DATE_PIPE.transform(setMonth(Date.now(), idx), 'MMM'),\n        ]);\n    public readonly years = Array(12)\n        .fill(0)\n        .map((_, idx) =>\n            DATE_PIPE.transform(addYears(Date.now(), idx), 'yyyy')\n        );\n    public readonly digits = Array(16).fill(0);\n    private _index = 0;\n\n    @ViewChild('input', { static: true })\n    private _input_el!: ElementRef<HTMLInputElement>;\n\n    private _onChange?: (_: PaymentCardDetails) => void;\n    private _onTouch?: (_: PaymentCardDetails) => void;\n\n    public get is_amex() {\n        const no = this.details.value?.card_number || '';\n        return no.startsWith('3');\n    }\n\n    public get card_type() {\n        const no = this.details.value?.card_number || '';\n        if (no.startsWith('3')) return 'amex';\n        if (no.startsWith('4')) return 'visa';\n        if (no.startsWith('5')) return 'mastercard';\n        return '';\n    }\n\n    public get card_display() {\n        let no = this.details.value?.card_number || '';\n        if (this.card_focused)\n            no =\n                no.substring(0, this._index) +\n                '⯐' +\n                no.substring(this._index + 1);\n        return this.is_amex\n            ? `${no.substring(0, 4)}-${no.substring(4, 10)}-${no.substring(10)}`\n            : `${no.substring(0, 4)}-${no.substring(4, 8)}-${no.substring(\n                  8,\n                  12\n              )}-${no.substring(12)}`;\n    }\n\n    public get card_focused() {\n        return (\n            document.activeElement === this._input_el.nativeElement ||\n            document.activeElement ===\n                this._input_el.nativeElement.parentElement\n        );\n    }\n\n    public ngOnInit() {\n        this.subscription(\n            'changes',\n            this.details.valueChanges.subscribe((v) =>\n                this.timeout('update', () =>\n                    this.setValue(this.details.getRawValue())\n                )\n            )\n        );\n    }\n\n    public focusInput() {\n        this._input_el.nativeElement.focus();\n        this._index = this._input_el.nativeElement.selectionStart || 0;\n    }\n\n    public onInput(event: KeyboardEvent) {\n        if (!event || !this.card_focused) return;\n        const idx = this._index;\n        if (idx < 0 || idx > 16) return;\n        let card_number = this.details.value.card_number!;\n        if (\n            (event.code.startsWith('Digit') ||\n                event.code.startsWith('Numpad')) &&\n            idx < (this.is_amex ? 15 : 16)\n        ) {\n            card_number =\n                card_number.substring(0, idx) +\n                event.key +\n                card_number.substring(idx + 1);\n            this.details.patchValue({ card_number });\n            this._focusChange(idx, 1);\n        } else if (event.code === 'Backspace' && idx > 0) {\n            let card_number = this.details.value.card_number!;\n            card_number =\n                card_number.substring(0, idx) +\n                ' ' +\n                card_number.substring(idx + 1);\n            this.details.patchValue({ card_number });\n            this._focusChange(idx, -1);\n        } else if (event.code === 'ArrowLeft') {\n            this._focusChange(idx, -1);\n        } else if (event.code === 'ArrowRight' && card_number[idx] !== ' ') {\n            this._focusChange(idx, 1);\n        }\n    }\n\n    private _focusChange(idx: number, dir: 1 | -1) {\n        this._index = Math.min(16, Math.max(0, idx + dir));\n    }\n\n    /**\n     * Update the form field value\n     * @param new_value New value to set on the form field\n     */\n    public setValue(new_value: PaymentCardDetails) {\n        if (this._onChange) this._onChange(new_value);\n    }\n\n    /**\n     * Update local value when form control value is changed\n     * @param value The new value for the component\n     */\n    public writeValue(value?: PaymentCardDetails) {\n        this.details.patchValue(value || BLANK_CARD);\n    }\n\n    public readonly registerOnChange = (fn: (_: PaymentCardDetails) => void) =>\n        (this._onChange = fn);\n    public readonly registerOnTouched = (fn: (_: PaymentCardDetails) => void) =>\n        (this._onTouch = fn);\n    public readonly setDisabledState = (s: boolean) => (this.disabled = s);\n}\n","import { Component, EventEmitter, Inject, Output } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { OrganisationService } from 'libs/organisation/src/lib/organisation.service';\nimport { Observable } from 'rxjs';\nimport { PaymentCardDetails } from './card-input-field.component';\n\nexport interface PaymentData {\n    type: string; // Resource Type\n    resource_name: string;\n    date: number;\n    duration: number;\n    all_day: boolean;\n    has_payment_method: boolean;\n    rate: string;\n    amount: number; // Number in cents\n    loading: Observable<string>;\n    makePayment: (_?: PaymentCardDetails) => Promise<void>;\n}\n\n@Component({\n    selector: 'payment-modal',\n    template: `\n        <div\n            class=\"relative max-h-[100vh] overflow-auto\"\n            *ngIf=\"!(loading | async); else load_state\"\n        >\n            <ng-container *ngIf=\"!success; else success_state\">\n                <main\n                    class=\"px-4 pt-8 w-[24rem] space-y-2 flex flex-col items-center relative\"\n                >\n                    <h2 class=\"text-2xl font-medium\" i18n>Booking Payment</h2>\n                    <img src=\"assets/icons/cost.svg\" class=\"w-1/2\" />\n                    <p class=\"text-sm text-center pb-2\" i18n>\n                        You are requesting a {{ details.type }} booking in\n                        {{ details.resource_name }} for\n                        {{ details.date | date: 'mediumDate' }}\n                        <ng-container *ngIf=\"!details.all_day\">\n                            between {{ details.date | date: 'shortTime' }} and\n                            {{\n                                details.date + details.duration * 60 * 1000\n                                    | date: 'shortTime'\n                            }}\n                        </ng-container>\n                    </p>\n                    <p class=\"text-sm\" i18n>You booking will cost:</p>\n                    <p class=\"text-lg font-medium text-center\">\n                        <strong>{{\n                            details.amount / 100 | currency: code\n                        }}</strong>\n                    </p>\n                    <card-input-field\n                        class=\"w-full\"\n                        [(ngModel)]=\"card_details\"\n                    ></card-input-field>\n                </main>\n                <footer class=\"p-4\">\n                    <button\n                        matRipple\n                        class=\"w-full\"\n                        (click)=\"processPayment()\"\n                        i18n\n                    >\n                        Make Payment\n                    </button>\n                </footer>\n                <button\n                    icon\n                    matRipple\n                    mat-dialog-close\n                    class=\"absolute top-1 left-1\"\n                >\n                    <i class=\"material-icons text-2xl\">close</i>\n                </button>\n            </ng-container>\n        </div>\n        <ng-template #load_state>\n            <div\n                class=\"w-full h-full flex flex-col items-center justify-center p-8\"\n            >\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p>{{ loading | async }}</p>\n            </div>\n        </ng-template>\n        <ng-template #success_state>\n            <main class=\"px-8 pt-8 w-[24rem] flex flex-col relative\">\n                <h2 class=\"text-2xl font-medium\" i18n>Payment Successful</h2>\n                <h3 class=\"text-xl font-medium mb-2\">\n                    Ref #{{ transaction_id }}\n                </h3>\n                <p i18n>{{ details.amount / 100 | currency: code }} paid.</p>\n                <p i18n>{{ details.resource_name }} booked.</p>\n                <p>{{ details.date | date: 'mediumDate' }}</p>\n                <p i18n>\n                    {{ details.date | date: 'shortTime' }} and\n                    {{\n                        details.date + details.duration * 60 * 1000\n                            | date: 'shortTime'\n                    }}\n                </p>\n            </main>\n            <img src=\"assets/icons/payment-confirmed.svg\" class=\"w-full\" />\n            <footer class=\"p-4 border-t border-gray-200\">\n                <button btn matRipple mat-dialog-close class=\"w-full\" i18n>\n                    Great, thanks.\n                </button>\n            </footer>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class PaymentModalComponent {\n    @Output() public readonly event = new EventEmitter();\n    public readonly details = this._data;\n    public readonly loading = this._data.loading;\n    public card_details?: PaymentCardDetails;\n    public success = false;\n    public transaction_id = '12345678';\n\n    public get code() {\n        return this._org.currency_code;\n    }\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) private _data: PaymentData,\n        private _org: OrganisationService\n    ) {}\n\n    public async processPayment() {\n        if (!this.card_details || !this._validCardDetails()) return;\n        this.event.emit(this.card_details);\n        await this._data.makePayment(this.card_details);\n        this.success = true;\n    }\n\n    private _validCardDetails() {\n        return (\n            (this.card_details?.cardholder.length || 0) > 0 &&\n            (this.card_details?.cvv.length || 0) >= 3\n        );\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatSelectModule } from '@angular/material/select';\n\nimport { PaymentModalComponent } from './payment-modal.component';\nimport { CardInputFieldComponent } from './card-input-field.component';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\n\nconst COMPONENTS = [PaymentModalComponent, CardInputFieldComponent];\n\n@NgModule({\n    declarations: [...COMPONENTS],\n    imports: [\n        CommonModule,\n        MatFormFieldModule,\n        MatInputModule,\n        MatDialogModule,\n        FormsModule,\n        ReactiveFormsModule,\n        MatButtonModule,\n        MatSelectModule,\n        MatProgressSpinnerModule,\n    ],\n    exports: [...COMPONENTS],\n})\nexport class PaymentsModule {}\n","import { Injectable } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { currentUser, SettingsService } from '@placeos/common';\nimport { OrganisationService } from '@placeos/organisation';\nimport { getModule } from '@placeos/ts-client';\nimport { BehaviorSubject, of } from 'rxjs';\nimport { shareReplay, switchMap, tap } from 'rxjs/operators';\nimport { PaymentCardDetails } from './card-input-field.component';\nimport { PaymentModalComponent } from './payment-modal.component';\n\nexport interface PaymentDetails {\n    type: string; // Resource Type\n    resource_name: string;\n    date: number;\n    duration: number;\n    all_day: boolean;\n}\n\nexport interface PaymentResult {\n    success: boolean;\n    state: 'processing' | 'pending' | 'approved';\n    invoice_id: string;\n    amount: number;\n    created_at: number;\n    updated_at: number;\n}\n\nexport const STRIPE_ID_TOKEN = 'STRIPE+customer_id';\nconst STRIPE_MODULE = 'Payment';\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class PaymentsService {\n    private _loading = new BehaviorSubject('');\n    private _active_card = new BehaviorSubject('');\n\n    public readonly loading = this._loading.asObservable();\n\n    public readonly payment_sources = of(1).pipe(\n        switchMap(() => {\n            const mod = getModule(this.payment_module, STRIPE_MODULE);\n            if (!mod) return of([]);\n            return mod.execute('list_payment_methods', ['card']);\n        }),\n        tap((_) => (_[0] ? this._active_card.next(_[0].id) : '')),\n        shareReplay(1)\n    );\n\n    public get payment_module() {\n        return this._org.binding('payments');\n    }\n\n    constructor(\n        private _org: OrganisationService,\n        private _settings: SettingsService,\n        private _dialog: MatDialog\n    ) {}\n\n    public async makePayment(\n        details: PaymentDetails\n    ): Promise<PaymentResult | undefined> {\n        if (!this.payment_module) throw 'Payments not enabled';\n        const [cost, period] = await this._getCostOfProduct(\n            details?.type\n        ).catch((_) => [0, 60]);\n        console.log('Cost:', cost, period);\n        if (cost <= 0) return;\n        let customer_id = this._settings.get('STRIPE_Customer_ID');\n        if (!customer_id) customer_id = await this._newCustomerID();\n        this._settings.saveUserSetting('STRIPE_Customer_ID', customer_id);\n        const amount = cost * (details.duration / period);\n        let result = undefined;\n        const makePayment = async (c: any) => {\n            result = await this._processPayment(amount, customer_id, c).catch(\n                (e) => {\n                    this._loading.next('');\n                    throw e;\n                }\n            );\n        };\n        const data = {\n            ...details,\n            rate: `$${(cost / 100).toFixed(2)} per hour`,\n            amount,\n            makePayment,\n            loading: this.loading,\n        };\n        const ref = this._dialog.open(PaymentModalComponent, { data });\n        await ref.afterClosed().toPromise();\n        return result;\n    }\n\n    private async _addPaymentMethod(card: PaymentCardDetails): Promise<string> {\n        const mod = getModule(this.payment_module, STRIPE_MODULE);\n        if (!mod) throw 'Unable to load module';\n        const payment_method = await mod.execute('add_payment_method', [\n            'card',\n            null,\n            null,\n            null,\n            null,\n            null,\n            null,\n            null,\n            null,\n            null,\n            null,\n            null,\n            card,\n        ]);\n        return payment_method.id || payment_method;\n    }\n\n    private async _getCostOfProduct(type: string) {\n        let price: [number, number] = [0, 60];\n        const mod = getModule(this.payment_module, STRIPE_MODULE);\n        if (!mod) return price;\n        const product_list = await mod.execute('get_product_prices', [\n            null,\n            null,\n            type,\n        ]);\n        if (!product_list.length) return price;\n        return product_list;\n    }\n\n    private async _processPayment(\n        amount: number,\n        customer_id: string,\n        card_details?: PaymentCardDetails\n    ) {\n        this._loading.next('Checking payment method...');\n        console.log('Getting payment method...');\n        const source = card_details\n            ? await this._addPaymentMethod(card_details)\n            : this._active_card.getValue();\n        if (!source) throw 'No payment source selected';\n        this._loading.next('Processing payment...');\n        console.log('Processing payment...');\n        const mod = getModule(this.payment_module, STRIPE_MODULE);\n        if (!mod) throw 'Unable to load module';\n        const id = await mod.execute<string>('create_payment_intent', [\n            amount,\n            this._org.building.currency || 'USD',\n            null,\n            null,\n            customer_id,\n            null,\n            null,\n            null,\n            currentUser()?.email,\n        ]);\n        if (!id) throw 'Failed to create payment';\n        console.log('Confirming payment...');\n        await mod.execute('confirm_payment_intent', [id, source]);\n        this._loading.next('');\n        return {\n            success: true,\n            state: 'approved',\n            invoice_id: id,\n            amount: amount,\n            created_at: Date.now(),\n            updated_at: Date.now(),\n        };\n    }\n\n    private async _newCustomerID() {\n        const mod = getModule(this.payment_module, STRIPE_MODULE);\n        if (!mod) throw 'Unable to load module';\n        const user = currentUser();\n        const id = await mod.execute<string>('create_customer', [\n            0,\n            null,\n            null,\n            null,\n            `${user.id}|${user.name}|FromPlaceOS`,\n            user.email,\n        ]);\n        return id;\n    }\n}\n","export * from './lib/spaces.module';\nexport * from './lib/spaces';\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { Space } from './space.class';\n\n@Component({\n    selector: 'a-space-select-item',\n    template: `\n        <div\n            space\n            class=\"w-full flex items-center p-2 space-x-2 border-b border-gray-100\"\n            *ngIf=\"space\"\n        >\n            <div class=\"flex-1 w-1/2\">\n                <div class=\"text-base truncate\">{{ space.name }}</div>\n                <div class=\"text-xs\">\n                    {{ space.level?.display_name || space.level?.name }}\n                </div>\n            </div>\n            <div class=\"flex items-center\" *ngIf=\"space.capacity !== -1\">\n                <app-icon>account_circle</app-icon>\n                <div>{{ space.capacity }}</div>\n            </div>\n            <button\n                icon\n                matRipple\n                *ngIf=\"multiple; else single_button\"\n                (click)=\"action.emit()\"\n            >\n                <app-icon>{{\n                    type === 'available' ? 'add' : 'close'\n                }}</app-icon>\n            </button>\n        </div>\n        <ng-template #single_button>\n            <button\n                btn\n                matRipple\n                class=\"w-32\"\n                [class.request]=\"space.by_request\"\n            >\n                {{ space.by_request ? 'Request' : 'Book' }}\n            </button>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class SpaceSelectItemComponent {\n    /** Space to display the details */\n    @Input() public space: Space;\n    /** Selected state for the space */\n    @Input() public type: 'available' | 'selected';\n    /** Whether user is allowed to select multiple spaces */\n    @Input() public multiple: boolean;\n    /** Emitter for selection actions */\n    @Output() public action = new EventEmitter();\n}\n","import { Component, Inject, Output, EventEmitter } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { BehaviorSubject, combineLatest } from 'rxjs';\nimport { map, shareReplay, switchMap, tap } from 'rxjs/operators';\nimport { addMinutes, getUnixTime } from 'date-fns';\n\nimport {\n    AsyncHandler,\n    currentUser,\n    DialogEvent,\n    HashMap,\n    Identity,\n    SettingsService,\n} from '@placeos/common';\nimport { Building, OrganisationService } from '@placeos/organisation';\n\nimport { filterSpacesFromRules } from 'libs/events/src/lib/helpers';\nimport { querySpaceCalendarAvailability } from 'libs/calendar/src/lib/calendar.fn';\nimport { Space } from './space.class';\n\nexport interface SpaceSelectModalData {\n    /** List of currently selected spaces */\n    readonly spaces: Space[];\n    /** Selected date to check space availability */\n    readonly date: number;\n    /** Duration of the availability that is desired */\n    readonly duration: number;\n    all_day?: boolean;\n    visitor_type?: string;\n}\n\n@Component({\n    selector: 'a-space-select-modal',\n    template: `\n        <header>\n            <app-icon class=\"text-3xl\">place</app-icon>\n            <div class=\"text-xl font-semibold flex-1\">\n                Select space{{ multiple ? 's' : '' }}\n            </div>\n            <button icon mat-dialog-close>\n                <app-icon class=\"text-3xl\">close</app-icon>\n            </button>\n        </header>\n        <main>\n            <mat-form-field\n                appearance=\"outline\"\n                *ngIf=\"buildings && buildings.length > 1\"\n            >\n                <mat-select\n                    name=\"booking-type\"\n                    [ngModel]=\"building.getValue()\"\n                    (ngModelChange)=\"building.next($event)\"\n                    placeholder=\"Select building\"\n                >\n                    <mat-option *ngFor=\"let bld of buildings\" [value]=\"bld\">\n                        {{ bld.display_name || bld.name }}\n                    </mat-option>\n                </mat-select>\n            </mat-form-field>\n            <mat-form-field\n                appearance=\"outline\"\n                *ngIf=\"space_types && space_types.length > 1\"\n            >\n                <mat-select\n                    name=\"booking-type\"\n                    [(ngModel)]=\"type\"\n                    placeholder=\"Any space type\"\n                >\n                    <mat-option\n                        *ngFor=\"let type of space_types\"\n                        [value]=\"type.id\"\n                    >\n                        {{ type.name }}\n                    </mat-option>\n                </mat-select>\n            </mat-form-field>\n            <div class=\"body\" style=\"width: 32rem\">\n                <ng-container *ngIf=\"!loading; else load_state\">\n                    <ng-container\n                        *ngIf=\"\n                            (filtered_spaces | async)?.length;\n                            else empty_state\n                        \"\n                    >\n                        <ng-container\n                            *ngFor=\"let space of filtered_spaces | async\"\n                        >\n                            <a-space-select-item\n                                *ngIf=\"!space_map[space.id]\"\n                                [space]=\"space\"\n                                [multiple]=\"multiple\"\n                                type=\"available\"\n                                (click)=\"spaceSelected(space)\"\n                            ></a-space-select-item>\n                        </ng-container>\n                    </ng-container>\n                </ng-container>\n                <div\n                    class=\"space-list\"\n                    *ngIf=\"multiple\"\n                    [class.show]=\"show_selected\"\n                >\n                    <ng-container\n                        *ngIf=\"spaces && spaces.length; else empty_state\"\n                    >\n                        <a-space-select-item\n                            *ngFor=\"let space of spaces\"\n                            [space]=\"space\"\n                            [multiple]=\"multiple\"\n                            type=\"selected\"\n                        ></a-space-select-item>\n                    </ng-container>\n                </div>\n            </div>\n            <footer *ngIf=\"multiple\">\n                <button btn matRipple (click)=\"save()\">\n                    Save selected spaces({{ spaces.length || '0' }})\n                </button>\n            </footer>\n            <ng-template #empty_state>\n                <div empty class=\"p-16 flex flex-col items-center space-y-2\">\n                    <app-icon class=\"text-3xl\">close</app-icon>\n                    <p>No spaces</p>\n                </div>\n            </ng-template>\n            <ng-template #load_state>\n                <div load class=\"p-16 flex flex-col items-center space-y-2\">\n                    <mat-spinner diameter=\"48\"></mat-spinner>\n                    <p>Finding available spaces...</p>\n                </div>\n            </ng-template>\n        </main>\n    `,\n    styles: [\n        `\n            mat-form-field {\n                height: 3.5em;\n                width: 100%;\n                padding: 0 0.25em;\n            }\n\n            .body {\n                min-width: 20rem;\n                max-width: calc(100vw - 2rem);\n                max-height: 65vh;\n                overflow: auto;\n            }\n        `,\n    ],\n})\nexport class SpaceSelectModalComponent extends AsyncHandler {\n    /** Emitter for user action on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** List of selected spaces */\n    public spaces: Space[] = [...(this._data.spaces || [])];\n    /** Building to filter available spaces */\n    public building = new BehaviorSubject<Building>(null);\n    /** Whether to show selected spaces */\n    public show_selected: boolean;\n    /** List of available space types */\n    public space_types: Identity[] = [];\n    /** ID of the space type to filter available spaces on */\n    public type: string;\n    /** Whether the available spaces are being loaded */\n    public loading: boolean;\n\n    public readonly available_spaces = combineLatest([this.building]).pipe(\n        switchMap(([bld]) => {\n            this.loading = true;\n            return querySpaceCalendarAvailability({\n                zone_ids: bld?.id,\n                period_start: getUnixTime(this._data.date),\n                period_end: getUnixTime(\n                    addMinutes(this._data.date, this._data.duration)\n                ),\n            });\n        }),\n        shareReplay(1)\n    );\n\n    public readonly filtered_spaces = this.available_spaces.pipe(\n        map((list) =>\n            filterSpacesFromRules(\n                list,\n                { ...this._data, host: currentUser() } as any,\n                this._org.building.booking_rules\n            )\n        ),\n        tap(() => (this.loading = false))\n    );\n\n    public get buildings(): Building[] {\n        return this._org.buildings;\n    }\n\n    /** Whether multiple spaces can be selected */\n    public get multiple(): boolean {\n        return !!this._settings.get('app.events.multiple_spaces');\n    }\n\n    /** Mapping of spaces to whether they are selected */\n    public get space_map(): HashMap<boolean> {\n        const spaces = {};\n        this.spaces.forEach((space) => (spaces[space.id] = true));\n        return spaces;\n    }\n\n    constructor(\n        private _org: OrganisationService,\n        private _settings: SettingsService,\n        @Inject(MAT_DIALOG_DATA) private _data: SpaceSelectModalData\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.building.next(this._org.building || this.buildings[0]);\n        this.subscription(\n            'spaces',\n            this.filtered_spaces.subscribe((_) => _)\n        );\n    }\n\n    public spaceSelected(space: Space) {\n        if (this.multiple) {\n            if (!this.space_map[space.id]) {\n                this.spaces.push(space);\n            }\n        } else {\n            this.spaces = [space];\n            this.save();\n        }\n    }\n\n    public save() {\n        this.event.emit({ reason: 'done', metadata: this.spaces });\n    }\n}\n","import { Component, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { SettingsService } from '@placeos/common';\nimport {\n    EventFlowOptions,\n    EventFormService,\n} from 'libs/events/src/lib/event-form.service';\nimport { Space } from '../space.class';\n\n@Component({\n    selector: 'new-space-select-modal',\n    template: `\n        <div\n            class=\"w-[100vw] h-[100vh] sm:relative sm:w-auto sm:h-auto flex flex-col bg-white dark:bg-neutral-700\"\n        >\n            <header class=\"flex items-center space-x-4 w-full\">\n                <button icon matRipple mat-dialog-close class=\"bg-black/20\">\n                    <app-icon>close</app-icon>\n                </button>\n                <h3 i18n>Find Space</h3>\n                <div class=\"hidden sm:flex items-center justify-end flex-1\">\n                    <button\n                        btn\n                        matRipple\n                        map\n                        class=\"rounded-l rounded-r-none\"\n                        [class.inverse]=\"view !== 'map'\"\n                        (click)=\"view = 'map'\"\n                    >\n                        Map\n                    </button>\n                    <button\n                        btn\n                        matRipple\n                        list\n                        class=\"rounded-r rounded-l-none\"\n                        [class.inverse]=\"view !== 'list'\"\n                        (click)=\"view = 'list'\"\n                    >\n                        List\n                    </button>\n                </div>\n            </header>\n            <main\n                class=\"flex-1 flex items-center divide-x divide-gray-200 dark:divide-neutral-500 min-h-[65vh] h-[65vh] sm:max-h-[65vh] sm:max-w-[95vw] w-full overflow-hidden\"\n            >\n                <space-filters\n                    class=\"h-full hidden sm:flex max-w-[20rem] sm:h-[65vh] sm:max-h-full\"\n                ></space-filters>\n                <div\n                    class=\"flex flex-col items-center flex-1 w-1/2 h-full sm:h-[65vh]\"\n                >\n                    <space-filters-display\n                        class=\"w-full border-b border-gray-200 dark:border-neutral-500\"\n                        [(view)]=\"view\"\n                    ></space-filters-display>\n                    <space-list\n                        *ngIf=\"view === 'list'; else map_view\"\n                        [active]=\"displayed?.id\"\n                        [selected]=\"selected_ids\"\n                        [favorites]=\"favorites\"\n                        (toggleFav)=\"toggleFavourite($event)\"\n                        (onSelect)=\"displayed = $event\"\n                        class=\"flex-1 h-1/2 bg-black/5 dark:bg-white/10\"\n                    ></space-list>\n                </div>\n                <space-details\n                    [space]=\"displayed\"\n                    class=\"h-full w-full sm:h-[65vh] absolute sm:relative flex sm:max-w-[20rem] z-20 bg-white dark:bg-neutral-600 sm:block\"\n                    [class.hidden]=\"!displayed\"\n                    [class.inset-0]=\"displayed\"\n                    [hide_map]=\"view === 'map'\"\n                    [active]=\"selected_ids.includes(displayed?.id)\"\n                    (activeChange)=\"setSelected(displayed, $event)\"\n                    [fav]=\"displayed && this.favorites.includes(displayed?.id)\"\n                    (toggleFav)=\"toggleFavourite(displayed)\"\n                    (close)=\"displayed = null\"\n                ></space-details>\n            </main>\n            <footer\n                class=\"flex sm:hidden flex-col-reverse items-center justify-end px-2 pt-2 pb-[5.5rem] border-t border-gray-200 dark:border-neutral-500 w-full\"\n            >\n                <button\n                    btn\n                    matRipple\n                    name=\"spaces-return\"\n                    class=\"inverse sm:hidden w-full\"\n                    *ngIf=\"displayed\"\n                    (click)=\"displayed = null\"\n                    i18n\n                >\n                    Back\n                </button>\n                <button\n                    btn\n                    matRipple\n                    name=\"save-spaces\"\n                    [mat-dialog-close]=\"selected\"\n                    [class.mb-2]=\"displayed\"\n                    class=\"w-full sm:w-32 sm:mb-0\"\n                    i18n\n                >\n                    View List\n                </button>\n            </footer>\n            <footer\n                class=\"hidden sm:flex items-center justify-between p-2 border-t border-gray-200 dark:border-neutral-500 w-full\"\n            >\n                <button\n                    btn\n                    matRipple\n                    name=\"spaces-return\"\n                    [mat-dialog-close]=\"selected\"\n                    class=\"clear text-primary\"\n                >\n                    <div class=\"flex items-center\">\n                        <app-icon class=\"text-xl\">arrow_back</app-icon>\n                        <div class=\"mr-1 underline\" i18n>Back to form</div>\n                    </div>\n                </button>\n                <p class=\"opacity-60 text-sm\" i18n>\n                    {{ selected.length }} room(s) added\n                </p>\n                <button\n                    btn\n                    matRipple\n                    name=\"toggle-space\"\n                    [disabled]=\"!displayed\"\n                    [class.inverse]=\"isSelected(displayed?.id)\"\n                    (click)=\"setSelected(displayed, !isSelected(displayed?.id))\"\n                >\n                    <div class=\"flex items-center\">\n                        <app-icon class=\"text-xl\">{{\n                            isSelected(displayed?.id) ? 'remove' : 'add'\n                        }}</app-icon>\n                        <div class=\"mr-1\">\n                            {{\n                                isSelected(displayed?.id)\n                                    ? 'Remove from Booking'\n                                    : 'Add to booking'\n                            }}\n                        </div>\n                    </div>\n                </button>\n            </footer>\n        </div>\n        <ng-template #map_view>\n            <space-map\n                class=\"flex-1 h-1/2 w-full\"\n                [selected]=\"selected_ids\"\n                [is_displayed]=\"!!displayed\"\n                [active]=\"displayed?.id\"\n                (onSelect)=\"displayed = $event\"\n            >\n            </space-map>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class NewSpaceSelectModalComponent {\n    public displayed?: Space;\n    public selected: Space[] = [];\n    public view = 'list';\n\n    public get selected_ids() {\n        return this.selected.map((_) => _.id).join(',');\n    }\n\n    public get favorites() {\n        return this._settings.get<string[]>('favourite_spaces') || [];\n    }\n\n    constructor(\n        private _dialog_ref: MatDialogRef<NewSpaceSelectModalComponent>,\n        private _settings: SettingsService,\n        private _event_form: EventFormService,\n        @Inject(MAT_DIALOG_DATA)\n        _data: { spaces: Space[]; options: Partial<EventFlowOptions> }\n    ) {\n        this.selected = [...(_data.spaces || [])];\n        this._event_form.setOptions(_data.options);\n    }\n\n    public isSelected(id: string) {\n        return id && this.selected_ids.includes(id);\n    }\n\n    public setSelected(item: Space, state: boolean) {\n        const list = this.selected.filter((_) => _.id !== item.id);\n        if (state) list.push(item);\n        this.selected = list;\n        if (!this._settings.get('app.events.allow_multiple_spaces') && state) {\n            this._dialog_ref.close([item]);\n        }\n    }\n\n    public toggleFavourite(item: Space) {\n        const fav_list = this.favorites;\n        const new_state = !fav_list.includes(item.id);\n        if (new_state) {\n            this._settings.saveUserSetting('favourite_spaces', [\n                ...fav_list,\n                item.id,\n            ]);\n        } else {\n            this._settings.saveUserSetting(\n                'favourite_spaces',\n                fav_list.filter((_) => _ !== item.id)\n            );\n        }\n    }\n}\n","import {\n    Component,\n    EventEmitter,\n    Input,\n    Output,\n    SimpleChanges,\n} from '@angular/core';\nimport { MapPinComponent } from 'libs/components/src/lib/map-pin.component';\nimport { OrganisationService } from 'libs/organisation/src/lib/organisation.service';\nimport { ViewerFeature } from '@placeos/svg-viewer';\nimport { Space } from '../space.class';\n\n@Component({\n    selector: `space-details`,\n    template: `\n        <ng-container *ngIf=\"space; else empty_state\">\n            <section\n                image\n                class=\"relative w-full bg-black/20\"\n                [class.sm:h-64]=\"space.images?.length\"\n                [class.h-40]=\"space.images?.length\"\n                [class.sm:h-0]=\"!space.images?.length\"\n                [class.h-12]=\"!space.images?.length\"\n                [class.!bg-transparent]=\"!space.images?.length\"\n            >\n                <image-carousel\n                    [images]=\"space.images\"\n                    *ngIf=\"space.images?.length\"\n                    class=\"absolute inset-0\"\n                ></image-carousel>\n                <button\n                    icon\n                    matRipple\n                    name=\"close-space-details\"\n                    (click)=\"close.emit()\"\n                    class=\"absolute top-2 left-2 bg-black/40 sm:hidden text-white\"\n                >\n                    <app-icon>arrow_back</app-icon>\n                </button>\n                <button\n                    icon\n                    matRipple\n                    name=\"toggle-space-favourite-details\"\n                    [class.text-white]=\"!fav\"\n                    [class.text-blue-400]=\"fav\"\n                    (click)=\"toggleFav.emit()\"\n                    class=\"absolute top-2 right-2 bg-black/40\"\n                >\n                    <app-icon>{{\n                        fav ? 'favorite' : 'favorite_border'\n                    }}</app-icon>\n                </button>\n            </section>\n            <div class=\"p-2 space-y-2 flex-1 h-1/2 overflow-auto\">\n                <section actions class=\"z-0\">\n                    <h2 class=\"text-xl font-medium mb-2 mt-4\">\n                        {{ space.display_name || space.name }}\n                    </h2>\n                </section>\n                <hr />\n                <section details class=\"space-y-2\">\n                    <h2 class=\"text-xl font-medium\" i18n>Details</h2>\n                    <div class=\"flex items-center space-x-2\">\n                        <app-icon>people</app-icon>\n                        <p i18n>{{ space.capacity }} People</p>\n                    </div>\n                    <div class=\"flex items-center space-x-2\">\n                        <app-icon>meeting_room</app-icon>\n                        <p>\n                            {{ level?.display_name || level?.name }}\n                        </p>\n                    </div>\n                    <div class=\"flex items-center space-x-2\">\n                        <app-icon>place</app-icon>\n                        <p>\n                            {{\n                                building?.address ||\n                                    building?.display_name ||\n                                    building?.name\n                            }}\n                        </p>\n                    </div>\n                </section>\n                <hr />\n                <section\n                    facilities\n                    class=\"space-y-2\"\n                    *ngIf=\"space.features?.length\"\n                >\n                    <h2 class=\"text-xl font-medium\" i18n>Room Facilities</h2>\n                    <div\n                        class=\"flex items-center space-x-2\"\n                        *ngFor=\"let feature of space.features\"\n                    >\n                        <!-- <app-icon>people</app-icon> -->\n                        <p i18n>{{ feature }}</p>\n                    </div>\n                </section>\n                <section\n                    map\n                    class=\"w-full mx-auto h-64 sm:h-48 relative border border-gray-200 overflow-hidden rounded\"\n                    *ngIf=\"!hide_map\"\n                >\n                    <interactive-map\n                        class=\"pointer-events-none\"\n                        [src]=\"map_url\"\n                        [features]=\"features\"\n                        [options]=\"{ disable_pan: true, disable_zoom: true }\"\n                    ></interactive-map>\n                </section>\n            </div>\n            <div\n                class=\"px-2 pt-2 pb-[5.5rem] border-t border-gray-200 shadow sm:hidden\"\n            >\n                <button\n                    btn\n                    matRipple\n                    name=\"toggle-space-details\"\n                    [class.inverse]=\"active\"\n                    class=\"w-full\"\n                    (click)=\"active = !active; activeChange.emit(active)\"\n                >\n                    <div class=\"flex items-center justify-center\">\n                        <app-icon class=\"text-2xl\">{{\n                            active ? 'remove' : 'add'\n                        }}</app-icon>\n                        <p>\n                            {{ active ? 'Remove this room' : 'Add this room' }}\n                        </p>\n                    </div>\n                </button>\n            </div>\n        </ng-container>\n        <ng-template #empty_state>\n            <div\n                empty\n                class=\"p-16 flex flex-col items-center justify-center space-y-2\"\n            >\n                <p class=\"opacity-30 text-center\" i18n>\n                    Select a room to view it's details\n                </p>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                position: relative;\n                display: flex;\n                flex-direction: column;\n                width: 30%;\n                min-width: 20rem;\n                height: 100%;\n                min-height: 65vh;\n            }\n        `,\n    ],\n})\nexport class SpaceDetailsComponent {\n    @Input() public space?: Space;\n    @Input() public fav: boolean = false;\n    @Input() public active: boolean = false;\n    @Input() public hide_map: boolean = false;\n\n    @Output() public activeChange = new EventEmitter<boolean>();\n    @Output() public close = new EventEmitter<void>();\n    @Output() public toggleFav = new EventEmitter<void>();\n\n    public map_url = '';\n    public features: ViewerFeature[] = [];\n\n    public get level() {\n        return this._org.levelWithID(this.space?.zones) || this.space?.level;\n    }\n\n    public get building() {\n        return this._org.buildings.find((_) =>\n            this.space?.zones.includes(_.id)\n        );\n    }\n\n    constructor(private _org: OrganisationService) {}\n\n    public ngOnChanges(changes: SimpleChanges) {\n        if (changes.space && this.space) {\n            this._updateFeature();\n        }\n    }\n\n    private _updateFeature() {\n        this.map_url = this.level?.map_id;\n        this.features = [\n            {\n                location: this.space?.map_id,\n                content: MapPinComponent,\n            },\n        ];\n    }\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { MatBottomSheet } from '@angular/material/bottom-sheet';\nimport { AsyncHandler } from '@placeos/common';\nimport { EventFormService } from 'libs/events/src/lib/event-form.service';\nimport { OrganisationService } from 'libs/organisation/src/lib/organisation.service';\nimport { take } from 'rxjs/operators';\nimport { SpaceFiltersComponent } from './space-filters.component';\n\n@Component({\n    selector: `space-filters-display`,\n    template: `\n        <section actions class=\"sm:hidden space-x-2 flex items-center p-2\">\n            <button\n                btn\n                matRipple\n                name=\"edit-space-filters\"\n                class=\"flex-1 w-1/2\"\n                (click)=\"editFilters()\"\n                i18n\n            >\n                Filters\n            </button>\n            <div class=\"flex items-center\">\n                <button\n                    btn\n                    matRipple\n                    name=\"view-space-map\"\n                    class=\"rounded-l rounded-r-none\"\n                    [class.inverse]=\"view !== 'map'\"\n                    (click)=\"view = 'map'; viewChange.emit(view)\"\n                    i18n\n                >\n                    Map\n                </button>\n                <button\n                    btn\n                    matRipple\n                    name=\"view-space-list\"\n                    class=\"rounded-r rounded-l-none\"\n                    [class.inverse]=\"view !== 'list'\"\n                    (click)=\"view = 'list'; viewChange.emit(view)\"\n                    i18n\n                >\n                    List\n                </button>\n            </div>\n        </section>\n        <section\n            filters\n            class=\"flex items-center flex-wrap p-2 sm:max-w-[50vw]\"\n        >\n            <button\n                btn\n                matRipple\n                name=\"clear-space-filters\"\n                class=\"min-h-[2rem] mb-2 mr-2\"\n                *ngIf=\"(options | async)?.features?.length > 1\"\n                (click)=\"removeAllFeatures()\"\n            >\n                Clear Filters\n            </button>\n            <div\n                filter-item\n                zone\n                class=\"dark:border-neutral-500\"\n                *ngIf=\"location\"\n            >\n                {{ location }}\n            </div>\n            <div filter-item date class=\"dark:border-neutral-500\">\n                {{ start | date: 'mediumDate' }}\n            </div>\n            <div filter-item time class=\"dark:border-neutral-500\">\n                {{ start | date: 'shortTime' }} &mdash;\n                {{ end | date: 'shortTime' }}\n            </div>\n            <div filter-item count class=\"dark:border-neutral-500\" i18n>\n                Min. {{ (options | async)?.capacity || 2 }} People\n            </div>\n            <div filter-item *ngFor=\"let feat of (options | async)?.features\">\n                <p class=\"truncate\">{{ feat }}</p>\n                <button\n                    icon\n                    matRipple\n                    name=\"remove-space-filter\"\n                    class=\"-mr-4 dark:border-neutral-500\"\n                    (click)=\"removeFeature(feat)\"\n                >\n                    <app-icon>close</app-icon>\n                </button>\n            </div>\n        </section>\n    `,\n    styles: [\n        `\n            [filter-item] {\n                display: flex;\n                align-items: center;\n                padding: 0 1rem;\n                min-height: 2rem;\n                font-size: 0.875rem;\n                border: 1px solid rgba(0, 0, 0, 0.2);\n                border-radius: 1.25rem;\n                margin-right: 0.5rem;\n                margin-bottom: 0.5rem;\n                max-width: 100%;\n                text-align: center;\n            }\n\n            [filter-item]:hover {\n                background: rgba(0, 0, 0, 0.1);\n            }\n\n            [filter-item] > * + * {\n                margin-left: 0.5rem;\n            }\n        `,\n    ],\n})\nexport class SpaceFiltersDisplayComponent extends AsyncHandler {\n    @Input() public view: 'map' | 'list' = 'list';\n    @Output() public viewChange = new EventEmitter<'map' | 'list'>();\n    public readonly options = this._event_form.options;\n    public location: string = '';\n\n    public get start() {\n        return this._event_form.form.value.date;\n    }\n\n    public get end() {\n        const { date, duration } = this._event_form.form.value;\n        return date + duration * 60 * 1000;\n    }\n\n    public readonly editFilters = () =>\n        this._bsheet.open(SpaceFiltersComponent);\n\n    constructor(\n        private _bsheet: MatBottomSheet,\n        private _event_form: EventFormService,\n        private _org: OrganisationService\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.subscription(\n            'opts',\n            this.options.subscribe(({ zone_ids }) =>\n                this._updateLocation(zone_ids)\n            )\n        );\n    }\n\n    public async removeFeature(feat: string) {\n        const value = await this._event_form.options.pipe(take(1)).toPromise();\n        this._event_form.setOptions({\n            ...value,\n            features: (value.features || []).filter((_) => _ !== feat),\n        });\n    }\n\n    public async removeAllFeatures() {\n        const value = await this._event_form.options.pipe(take(1)).toPromise();\n        this._event_form.setOptions({\n            ...value,\n            features: [],\n        });\n    }\n\n    private _updateLocation(zone_ids: string[] = []) {\n        const level = this._org.levelWithID(zone_ids);\n        const item = level || this._org.building;\n        this.location = item?.display_name || item?.name || '';\n    }\n}\n","import { Component, Optional } from '@angular/core';\nimport { MatBottomSheetRef } from '@angular/material/bottom-sheet';\nimport { flatten, SettingsService, unique } from '@placeos/common';\nimport { addDays, endOfDay } from 'date-fns';\nimport { combineLatest } from 'rxjs';\nimport { map, take } from 'rxjs/operators';\n\nimport { EventFormService } from 'libs/events/src/lib/event-form.service';\nimport { OrganisationService } from 'libs/organisation/src/lib/organisation.service';\nimport { Building } from 'libs/organisation/src/lib/building.class';\nimport { SpacesService } from '../spaces.service';\n\n@Component({\n    selector: `space-filters`,\n    template: `\n        <div class=\"flex items-center border-b border-gray-200 pb-2 sm:hidden\">\n            <div class=\"flex-1 pl-2\">\n                <button\n                    icon\n                    matRipple\n                    name=\"close-space-filters\"\n                    *ngIf=\"can_close\"\n                    (click)=\"close()\"\n                >\n                    <app-icon>keyboard_arrow_left</app-icon>\n                </button>\n            </div>\n            <h3 class=\"font-medium flex-2 text-center\" i18n>Space Filters</h3>\n            <div class=\"flex-1\"></div>\n        </div>\n        <form\n            class=\"max-h-[65vh] p-2 overflow-y-auto overflow-x-hidden divide-y divide-gray-200 w-full max-w-[100vw]\"\n            [formGroup]=\"form\"\n        >\n            <section details>\n                <h2 class=\"text-lg font-medium\" i18n>Details</h2>\n                <div class=\"flex-1 min-w-[256px] flex flex-col\">\n                    <label for=\"location\" i18n>Location</label>\n                    <mat-form-field\n                        appearance=\"outline\"\n                        class=\"w-full\"\n                        *ngIf=\"(buildings | async)?.length > 1\"\n                    >\n                        <mat-select\n                            name=\"building\"\n                            [ngModel]=\"building | async\"\n                            (ngModelChange)=\"setBuilding($event)\"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                            [placeholder]=\"\n                                (building | async)?.display_name ||\n                                (building | async)?.name\n                            \"\n                        >\n                            <mat-option\n                                *ngFor=\"let bld of buildings | async\"\n                                [value]=\"bld\"\n                            >\n                                {{ bld.display_name || bld.name }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                    <mat-form-field appearance=\"outline\" class=\"w-full\">\n                        <mat-select\n                            name=\"location\"\n                            [ngModel]=\"(options | async)?.zone_ids\"\n                            (ngModelChange)=\"setOptions({ zone_ids: $event })\"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                            placeholder=\"Any Level\"\n                            i18n-placeholder\n                            [multiple]=\"true\"\n                        >\n                            <mat-option\n                                *ngFor=\"let lvl of levels | async\"\n                                [value]=\"lvl.id\"\n                            >\n                                {{ lvl.display_name || lvl.name }}\n                            </mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                </div>\n                <div class=\"flex-1 min-w-[256px]\">\n                    <label for=\"date\" i18n>Date<span>*</span></label>\n                    <a-date-field\n                        name=\"date\"\n                        formControlName=\"date\"\n                        i18n\n                        [to]=\"end_date\"\n                    >\n                        {{ 'FORM.DATE_ERROR' | translate }}\n                    </a-date-field>\n                </div>\n                <div class=\"flex items-center space-x-2\">\n                    <div class=\"flex-1 w-1/3\">\n                        <label for=\"start-time\" i18n\n                            >Start Time<span>*</span></label\n                        >\n                        <a-time-field\n                            name=\"start-time\"\n                            [ngModel]=\"form.value.date\"\n                            (ngModelChange)=\"form.patchValue({ date: $event })\"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                        ></a-time-field>\n                    </div>\n                    <div class=\"flex-1 w-1/3\">\n                        <label for=\"end-time\" i18n\n                            >End Time<span>*</span></label\n                        >\n                        <a-duration-field\n                            name=\"end-time\"\n                            formControlName=\"duration\"\n                            [time]=\"form?.value?.date\"\n                            [max]=\"max_duration\"\n                        >\n                        </a-duration-field>\n                    </div>\n                </div>\n            </section>\n            <section favs class=\"space-y-2 pb-4\">\n                <h2 class=\"text-lg font-medium\" i18n>\n                    {{ 'COMMON.FAVOURITES' | translate }}\n                </h2>\n                <div class=\"flex items-center\">\n                    <div for=\"fav\" class=\"flex-1 w-1/2\" i18n>\n                        {{ 'ROOMS.SHOW_FAVOURITES' | translate }}\n                    </div>\n                    <mat-checkbox\n                        name=\"fav\"\n                        [ngModel]=\"(options | async)?.show_fav\"\n                        (ngModelChange)=\"setOptions({ show_fav: $event })\"\n                        [ngModelOptions]=\"{ standalone: true }\"\n                    >\n                    </mat-checkbox>\n                </div>\n            </section>\n            <section\n                features\n                class=\"space-y-2\"\n                *ngIf=\"(features | async)?.length\"\n            >\n                <h2 class=\"text-lg font-medium\" i18n>Facilities</h2>\n                <ng-container *ngFor=\"let feat of features | async\">\n                    <div\n                        class=\"flex items-center\"\n                        *ngIf=\"!hide_features.includes(feat)\"\n                    >\n                        <div for=\"feat\" class=\"flex-1 w-1/2\">\n                            {{ feature_display[feat] || feat }}\n                        </div>\n                        <mat-checkbox\n                            name=\"feat\"\n                            [ngModel]=\"\n                                (options | async)?.features?.includes(feat)\n                            \"\n                            (ngModelChange)=\"toggleFeature(feat, $event)\"\n                            [ngModelOptions]=\"{ standalone: true }\"\n                        ></mat-checkbox>\n                    </div>\n                </ng-container>\n            </section>\n        </form>\n        <div\n            class=\"px-2 pt-2 w-full border-t border-gray-200\"\n            *ngIf=\"can_close\"\n        >\n            <button\n                btn\n                matRipple\n                class=\"w-full\"\n                name=\"apply-space-filters\"\n                (click)=\"close()\"\n                i18n\n            >\n                Apply Filters\n            </button>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                display: flex;\n                flex-direction: column;\n                width: 100%;\n                max-width: 100vw;\n            }\n        `,\n    ],\n})\nexport class SpaceFiltersComponent {\n    public can_close = false;\n    public readonly options = this._event_form.options;\n\n    public readonly building = this._org.active_building;\n    public readonly buildings = this._org.active_buildings;\n    public readonly levels = this._org.active_levels;\n    public readonly features = combineLatest([\n        this._spaces.features,\n        this._event_form.available_spaces,\n    ]).pipe(\n        map(([features, spaces]) =>\n            unique(features.concat(flatten(spaces.map((_) => _.features))))\n        )\n    );\n\n    public readonly close = () => this._bsheet_ref.dismiss();\n    public readonly setOptions = (o) => this._event_form.setOptions(o);\n\n    public get bld() {\n        return this._org.building;\n    }\n\n    public get form() {\n        return this._event_form.form;\n    }\n\n    public get max_duration() {\n        return this._settings.get('app.events.max_duration') || 480;\n    }\n\n    public get feature_display() {\n        return this._settings.get('app.events.feature_decriptions') || {};\n    }\n\n    public get hide_features() {\n        return this._settings.get('app.events.hide_features') || [];\n    }\n\n    public get end_date() {\n        return endOfDay(\n            addDays(\n                Date.now(),\n                this._settings.get('app.events.allowed_future_days') || 180\n            )\n        );\n    }\n\n    constructor(\n        @Optional()\n        private _bsheet_ref: MatBottomSheetRef<SpaceFiltersComponent>,\n        private _settings: SettingsService,\n        private _event_form: EventFormService,\n        private _org: OrganisationService,\n        private _spaces: SpacesService\n    ) {\n        this.can_close = !!this._bsheet_ref;\n    }\n\n    public setBuilding(bld: Building) {\n        this._org.building = bld;\n    }\n\n    public async toggleFeature(feat: string, state: boolean) {\n        const { features } = await this.options.pipe(take(1)).toPromise();\n        const new_list = (features || []).filter((_) => feat !== _);\n        if (state) new_list.push(feat);\n        this.setOptions({ features: new_list });\n    }\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { EventFormService } from 'libs/events/src/lib/event-form.service';\nimport { OrganisationService } from 'libs/organisation/src/lib/organisation.service';\n\nimport { Space } from '../space.class';\n\n@Component({\n    selector: `space-list`,\n    template: `\n        <h3 class=\"font-bold\">Results</h3>\n        <p count class=\"text-sm opacity-60 mb-4\" i18n>\n            {{ (available_spaces | async)?.length || 0 }} result(s) found\n        </p>\n        <ng-container *ngIf=\"!(loading | async); else load_state\">\n            <ul\n                class=\"list-style-none space-y-2\"\n                *ngIf=\"(available_spaces | async)?.length; else empty_state\"\n            >\n                <li\n                    space\n                    *ngFor=\"let space of available_spaces | async\"\n                    [class.!border-blue-400]=\"active === space.id\"\n                    class=\"relative p-2 rounded-lg w-full shadow border bg-white dark:bg-neutral-700 border-gray-200 dark:border-neutral-500\"\n                >\n                    <button\n                        matRipple\n                        name=\"select-space\"\n                        class=\"w-full h-full flex items-center\"\n                        (click)=\"selectSpace(space)\"\n                    >\n                        <div\n                            class=\"relative min-w-[5rem] w-20 h-20 rounded-xl bg-black/20 dark:bg-white/30 mr-4 overflow-hidden flex items-center justify-center\"\n                        >\n                            <div\n                                class=\"absolute top-1 left-1 border border-white bg-black/50 rounded-full h-6 w-6 flex items-center justify-center text-white\"\n                                *ngIf=\"selected.includes(space.id)\"\n                            >\n                                <app-icon>done</app-icon>\n                            </div>\n                            <img\n                                *ngIf=\"\n                                    space.images?.length;\n                                    else space_placeholder\n                                \"\n                                class=\"object-cover h-full\"\n                                [src]=\"space.images[0]\"\n                            />\n                            <ng-template #space_placeholder>\n                                <img\n                                    class=\"m-auto\"\n                                    src=\"assets/icons/room-placeholder.svg\"\n                                />\n                            </ng-template>\n                        </div>\n                        <div class=\"space-y-2\">\n                            <div class=\"font-medium truncate mr-10\">\n                                {{\n                                    space.display_name ||\n                                        space.name ||\n                                        'Meeting Space'\n                                }}\n                            </div>\n                            <div class=\"flex items-center text-sm space-x-2\">\n                                <app-icon class=\"text-blue-500\">place</app-icon>\n                                <p class=\"truncate\">\n                                    {{\n                                        space.location ||\n                                            level(space.zones)?.display_name ||\n                                            level(space.zones)?.name\n                                    }}\n                                </p>\n                            </div>\n                            <div class=\"flex items-center text-sm space-x-2\">\n                                <app-icon class=\"text-blue-500\"\n                                    >people</app-icon\n                                >\n                                <p i18n>\n                                    {{\n                                        space.capacity < 1 ? 2 : space.capacity\n                                    }}\n                                    People\n                                </p>\n                            </div>\n                        </div>\n                    </button>\n                    <button\n                        icon\n                        matRipple\n                        name=\"toggle-space-favourite\"\n                        class=\"absolute top-1 right-1\"\n                        [class.text-blue-400]=\"isFavourite(space.id)\"\n                        (click)=\"toggleFav.emit(space)\"\n                    >\n                        <app-icon>{{\n                            isFavourite(space.id)\n                                ? 'favorite'\n                                : 'favorite_border'\n                        }}</app-icon>\n                    </button>\n                </li>\n            </ul>\n        </ng-container>\n        <ng-template #empty_state>\n            <div\n                empty\n                class=\"p-16 flex flex-col items-center justify-center space-y-2\"\n            >\n                <p class=\"opacity-30 text-center\" i18n>\n                    No available spaces for selected time and/or filters\n                </p>\n            </div>\n        </ng-template>\n        <ng-template #load_state>\n            <div\n                loading\n                class=\"p-16 flex flex-col items-center justify-center space-y-2\"\n            >\n                <mat-spinner [diameter]=\"32\"></mat-spinner>\n                <p class=\"opacity-30\" i18n>Finding available spaces...</p>\n            </div>\n        </ng-template>\n    `,\n    styles: [\n        `\n            :host {\n                width: 100%;\n                height: 100%;\n                padding: 0.5rem;\n                overflow: auto;\n            }\n        `,\n    ],\n})\nexport class SpaceListComponent {\n    @Input() public active: string = '';\n    @Input() public selected: string = '';\n    @Input() public favorites: string[] = [];\n    @Output() public onSelect = new EventEmitter<Space>();\n    @Output() public toggleFav = new EventEmitter<Space>();\n    public readonly loading = this._event_form.loading;\n\n    public readonly available_spaces = this._event_form.available_spaces;\n\n    constructor(\n        private _event_form: EventFormService,\n        private _org: OrganisationService\n    ) {}\n\n    public level(zones: string[]) {\n        return this._org.levelWithID(zones);\n    }\n\n    public ngOnInit() {\n        this._event_form.setView('find');\n    }\n\n    public isFavourite(space_id: string) {\n        return this.favorites.includes(space_id);\n    }\n\n    public selectSpace(space: Space) {\n        this.onSelect.emit(space);\n    }\n}\n","import { Component, Inject } from '@angular/core';\nimport { MAP_FEATURE_DATA } from '@placeos/components';\n\n@Component({\n    selector: 'space-location-pin',\n    template: `\n        <div class=\"absolute bottom-0 left-1/2 -translate-x-1/2\">\n            <svg\n                width=\"44\"\n                height=\"60\"\n                viewBox=\"0 0 66 80\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n            >\n                <g filter=\"url(#filter0_d_1065_10313)\">\n                    <path\n                        d=\"M19.724 53.0408C25.0871 60.3435 30.5582 65.8583 31.0184 66.3178C31.4558 66.755 32.0489 67.0007 32.6674 67.0008H32.6678C33.2863 67.0007 33.8795 66.755 34.3169 66.3178C34.7771 65.8583 40.2481 60.3435 45.6112 53.0408C48.2928 49.3894 50.963 45.2701 52.9663 41.0957C54.9629 36.935 56.3331 32.6459 56.3342 28.6724C56.364 25.5564 55.7725 22.4657 54.5941 19.5809C53.415 16.6946 51.6722 14.0724 49.4675 11.8677C47.2629 9.66308 44.6407 7.92024 41.7544 6.74121C38.8711 5.5634 35.782 4.97184 32.6676 5.00103C29.5533 4.97184 26.4642 5.5634 23.5809 6.74121C20.6946 7.92024 18.0724 9.66308 15.8677 11.8677C13.6631 14.0724 11.9202 16.6946 10.7412 19.5809C9.56278 22.4657 8.97122 25.5565 9.00108 28.6726C9.0022 32.646 10.3724 36.9351 12.369 41.0957C14.3723 45.2701 17.0425 49.3894 19.724 53.0408Z\"\n                        [attr.fill]=\"color\"\n                        stroke=\"#0B421D\"\n                        stroke-width=\"2\"\n                    />\n                </g>\n                <defs>\n                    <filter\n                        id=\"filter0_d_1065_10313\"\n                        x=\"0\"\n                        y=\"0\"\n                        width=\"65.3353\"\n                        height=\"80.001\"\n                        filterUnits=\"userSpaceOnUse\"\n                        color-interpolation-filters=\"sRGB\"\n                    >\n                        <feFlood\n                            flood-opacity=\"0\"\n                            result=\"BackgroundImageFix\"\n                        />\n                        <feColorMatrix\n                            in=\"SourceAlpha\"\n                            type=\"matrix\"\n                            values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n                            result=\"hardAlpha\"\n                        />\n                        <feOffset dy=\"4\" />\n                        <feGaussianBlur stdDeviation=\"4\" />\n                        <feComposite in2=\"hardAlpha\" operator=\"out\" />\n                        <feColorMatrix\n                            type=\"matrix\"\n                            values=\"0 0 0 0 0.0196078 0 0 0 0 0.109804 0 0 0 0 0.172549 0 0 0 0.2 0\"\n                        />\n                        <feBlend\n                            mode=\"normal\"\n                            in2=\"BackgroundImageFix\"\n                            result=\"effect1_dropShadow_1065_10313\"\n                        />\n                        <feBlend\n                            mode=\"normal\"\n                            in=\"SourceGraphic\"\n                            in2=\"effect1_dropShadow_1065_10313\"\n                            result=\"shape\"\n                        />\n                    </filter>\n                </defs>\n            </svg>\n            <div\n                class=\"absolute top-0 left-0 w-full h-3/4 flex items-center justify-center\"\n            >\n                <div\n                    class=\"relative z-10 h-4 w-4 rounded-full bg-white border-2 border-[#0B421D]\"\n                    *ngIf=\"!selected\"\n                ></div>\n                <app-icon\n                    class=\"relative text-white z-10 text-2xl\"\n                    *ngIf=\"selected\"\n                >\n                    done\n                </app-icon>\n            </div>\n        </div>\n    `,\n    styles: [],\n})\nexport class SpaceLocationPinComponent {\n    public readonly selected = this._data.selected === true;\n    public readonly active = this._data.active === true;\n\n    public get color() {\n        return this.active ? '#F4511E' : this.selected ? '#D32F2F' : '#309251';\n    }\n    constructor(@Inject(MAP_FEATURE_DATA) private _data: any) {}\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { AsyncHandler, unique } from '@placeos/common';\nimport { BehaviorSubject, combineLatest } from 'rxjs';\nimport { debounceTime, map, tap } from 'rxjs/operators';\n\nimport { EventFormService } from 'libs/events/src/lib/event-form.service';\nimport { OrganisationService } from 'libs/organisation/src/lib/organisation.service';\nimport { BuildingLevel } from 'libs/organisation/src/lib/level.class';\nimport { SpaceLocationPinComponent } from './space-location-pin.component';\nimport { Space } from '../space.class';\n\n@Component({\n    selector: `space-map`,\n    template: `\n        <div class=\"bg-white p-2 border-b border-gray-200 w-full\">\n            <mat-form-field\n                levels\n                appearance=\"outline\"\n                class=\"w-full h-[3.25rem]\"\n            >\n                <mat-select\n                    [(ngModel)]=\"level\"\n                    [ngModelOptions]=\"{ standalone: true }\"\n                >\n                    <mat-option\n                        *ngFor=\"let lvl of levels | async\"\n                        [value]=\"lvl\"\n                    >\n                        {{ lvl.display_name || lvl.name }}\n                    </mat-option>\n                </mat-select>\n            </mat-form-field>\n        </div>\n        <div class=\"relative flex-1 w-full\">\n            <i-map\n                [src]=\"map_url\"\n                [(zoom)]=\"zoom\"\n                [(center)]=\"center\"\n                [features]=\"features | async\"\n                [actions]=\"actions | async\"\n            ></i-map>\n        </div>\n        <div\n            zoom\n            class=\"absolute bottom-2 right-2 rounded-lg border border-gray-200 bg-white flex flex-col overflow-hidden\"\n        >\n            <button\n                icon\n                matRipple\n                name=\"space-map-zoom-in\"\n                (click)=\"setZoom(zoom * 1.1)\"\n            >\n                <app-icon>zoom_in</app-icon>\n            </button>\n            <div class=\"border-t border-gray-200 w-full\"></div>\n            <button\n                icon\n                matRipple\n                name=\"space-map-zoom-out\"\n                (click)=\"setZoom(zoom * (1 / 1.1))\"\n            >\n                <app-icon>zoom_out</app-icon>\n            </button>\n            <div class=\"border-t border-gray-200 w-full\"></div>\n            <button icon matRipple name=\"space-map-reset\" (click)=\"resetMap()\">\n                <app-icon>refresh</app-icon>\n            </button>\n        </div>\n    `,\n    styles: [\n        `\n            :host {\n                position: relative;\n                background: rgba(0, 0, 0, 0.05);\n                display: flex;\n                flex-direction: column;\n            }\n\n            button {\n                border-radius: 0;\n            }\n        `,\n    ],\n})\nexport class SpaceSelectMapComponent extends AsyncHandler {\n    @Input() public selected: string[] = [];\n    @Input() public active: string;\n    @Input() public is_displayed: boolean = false;\n    @Output() public onSelect = new EventEmitter<Space>();\n\n    public zoom = 1;\n    public center = { x: 0.5, y: 0.5 };\n\n    private _seletedSpace = (s) => () => {\n        this.onSelect.emit(s);\n        this._change.next(Date.now());\n    };\n    public level: BuildingLevel = null;\n    private _change = new BehaviorSubject(0);\n\n    public get map_url() {\n        return this.level?.map_id || '';\n    }\n\n    public readonly levels = this._event_form.available_spaces.pipe(\n        map((_) =>\n            unique(\n                _.map(({ zones }) => this._org.levelWithID(zones)),\n                'id'\n            )\n        ),\n        tap((_) => (this.level = this.level ? this.level : _[0]))\n    );\n\n    public readonly features = combineLatest([\n        this._event_form.available_spaces,\n        this._change,\n    ]).pipe(\n        debounceTime(300),\n        map(([l]) =>\n            l.map((space) => ({\n                location: space.map_id,\n                content: SpaceLocationPinComponent,\n                data: {\n                    ...space,\n                    active: this.active === space.id,\n                    selected: this.selected.includes(space.id),\n                },\n            }))\n        )\n    );\n\n    public readonly actions = this._event_form.available_spaces.pipe(\n        map((l) =>\n            l.map((space) => ({\n                id: space.map_id,\n                action: ['touchend', 'mouseup'],\n                callback: this._seletedSpace(space),\n            }))\n        )\n    );\n\n    constructor(\n        private _event_form: EventFormService,\n        private _org: OrganisationService\n    ) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.subscription(\n            'levels_update',\n            this.levels.subscribe((levels) => {\n                if (!levels.find((_) => _.id === this.level?.id)) {\n                    this.level = levels[0];\n                }\n            })\n        );\n    }\n\n    public setZoom(new_zoom: number) {\n        this.zoom = Math.max(0.5, Math.min(10, new_zoom));\n    }\n\n    public resetMap() {\n        this.zoom = 1;\n        this.center = { x: 0.5, y: 0.5 };\n    }\n}\n","import { RoomConfiguration } from '@placeos/common';\nimport { BuildingLevel } from 'libs/organisation/src/lib/level.class';\n\nimport { CalendarAvailability } from 'libs/calendar/src/lib/calendar.interfaces';\n\nexport type ResourceResponseStatus =\n    | 'needsAction'\n    | 'declined'\n    | 'tentative'\n    | 'accepted';\n\nexport class Space {\n    /** ID of the space resource */\n    public readonly id: string;\n    /** Display name of the space resource */\n    public readonly name: string;\n    /** Name to display */\n    public readonly display_name: string;\n    /** Email address of the resource associated with space */\n    public readonly email: string;\n    /** Capacity of the space resource */\n    public readonly capacity: number;\n    /** List of features available at the space resource  */\n    public readonly feature_list: string[];\n    /** URL to a supporting site for space */\n    public readonly support_url: string;\n    /** ID of the space on the associated map */\n    public readonly map_id: string;\n    /** Whether resource is bookable */\n    public readonly bookable: boolean;\n    /** List of zones the spaces is associated with */\n    public readonly zones: string[];\n    /** List of available room configurations for this room */\n    public readonly configurations: readonly RoomConfiguration[];\n    /** Image url */\n    public readonly images: string[];\n    /** Status of the resource */\n    public readonly response_status: ResourceResponseStatus;\n    /** Level Assoicated with the space */\n    public readonly level: BuildingLevel;\n    /** List of features associated with the space */\n    public readonly features: string[];\n\n    public readonly availability: CalendarAvailability[];\n\n    constructor(data: Partial<Space> = {}) {\n        this.id = data.id || '';\n        this.name = data.name || '';\n        this.display_name = data.display_name || '';\n        this.email = (data.email || '').toLowerCase();\n        this.capacity = data.capacity || -1;\n        this.feature_list = data.feature_list || (data.features as any) || [];\n        this.bookable = !!data.bookable;\n        this.zones = data.zones || [];\n        this.support_url = data.support_url || '';\n        this.map_id = data.map_id || '';\n        this.images = data.images || [];\n        this.configurations = data.configurations || [];\n        this.features = data.features || [];\n        this.response_status = data.response_status;\n        this.level = data.level || new BuildingLevel();\n        this.availability = data.availability || [];\n    }\n}\n","import { Optional, Pipe } from '@angular/core';\nimport { showSystem, querySystemsWithEmails } from '@placeos/ts-client';\n\nimport { OrganisationService } from 'libs/organisation/src/lib/organisation.service';\nimport { Space } from './space.class';\nimport { first } from 'rxjs/operators';\n\nconst SPACE_LIST: Space[] = [];\n\nconst EMPTY_SPACE = new Space({ email: 'empty.space@place.os' });\n\nexport function updateSpaceList(space_list: Space[]) {\n    for (const space of space_list) {\n        if (!SPACE_LIST.find(({ id }) => id === space.id)) {\n            SPACE_LIST.push(space);\n        }\n    }\n}\n\n@Pipe({\n    name: 'space',\n})\nexport class SpacePipe {\n    constructor(@Optional() private _org?: OrganisationService) {}\n    /**\n     * Get details of the space with the given ID\n     * @param space_id ID or Email of the space\n     */\n    public async transform(space_id: string): Promise<Space> {\n        if (this._org) {\n            await this._org.initialised.pipe(first((_) => _)).toPromise();\n        }\n        const is_email = space_id?.includes('@');\n        if (!space_id) return EMPTY_SPACE;\n        let space = SPACE_LIST.find(\n            ({ id, email }) => id === space_id || email === space_id\n        );\n        if (space) return space;\n        if (!is_email) {\n            const system = await showSystem(space_id)\n                .toPromise()\n                .catch((_) => null);\n            if (system) {\n                space = new Space({\n                    ...(system as any),\n                    level: this._org?.levelWithID([...system.zones]),\n                });\n                SPACE_LIST.push(space);\n                return space;\n            }\n        }\n        const systems = (\n            await querySystemsWithEmails({ in: space_id }).toPromise()\n        ).data;\n        if (systems.length === 1) {\n            space = new Space({\n                ...(systems[0] as any),\n                level: this._org?.levelWithID([...systems[0].zones]),\n            });\n            SPACE_LIST.push(space);\n            return space;\n        }\n        return EMPTY_SPACE;\n    }\n\n    public updateSpaceList(space_list: Space[]) {\n        updateSpaceList(space_list);\n    }\n}\n","import { HashMap, predictableRandomInt } from '@placeos/common';\nimport { PlaceSystem, PlaceZone, querySystems } from '@placeos/ts-client';\nimport { Observable } from 'rxjs';\nimport { map, shareReplay, tap } from 'rxjs/operators';\nimport { USER_DOMAIN } from '../../../users/src/lib/user.utilities';\nimport { Space } from './space.class';\nimport { updateSpaceList } from './space.pipe';\nimport {\n    AbstractControl,\n    FormControl,\n    FormGroup,\n    Validators,\n} from '@angular/forms';\n\nconst SPACE_LIST_REQUESTS: Record<string, Observable<Space[]>> = {};\n\nexport const isValidUrl = (url) => {\n    if (!url) return true;\n    try {\n        new URL(url);\n    } catch (e) {\n        return false;\n    }\n    return true;\n};\n\nexport const validateURL = (ctrl: AbstractControl) =>\n    isValidUrl(ctrl?.value) ? null : { url: 'invalid' };\n\nexport function generateSystemsFormFields(system?: PlaceSystem) {\n    const fields = {\n        id: new FormControl(system?.id || ''),\n        name: new FormControl(system.name || '', [Validators.required]),\n        display_name: new FormControl(system.display_name || ''),\n        email: new FormControl(system.email || '', [Validators.email]),\n        code: new FormControl(system.code || ''),\n        support_url: new FormControl(system.support_url || '', [validateURL]),\n        installed_ui_devices: new FormControl(\n            system.installed_ui_devices || 0,\n            [Validators.pattern('[0-9]*')]\n        ),\n        features: new FormControl(\n            (typeof system.features === 'string'\n                ? (system.features as any).split(' ')\n                : system.features) || []\n        ),\n        capacity: new FormControl(system.capacity || 0, [\n            Validators.pattern('[0-9]*'),\n        ]),\n        bookable: new FormControl(system.bookable || false),\n        public: new FormControl(system.public || false),\n        description: new FormControl(system.description || ''),\n        images: new FormControl(system.images || []),\n        map_id: new FormControl(system.map_id || ''),\n        timezone: new FormControl(system.timezone || ''),\n        zone: new FormControl<PlaceZone | null>(null, [Validators.required]),\n        zones: new FormControl(system.zones, [Validators.required]),\n        version: new FormControl(system.version),\n    };\n    if (!system.id) {\n        fields.zone.valueChanges.subscribe((value: PlaceZone) =>\n            fields.zones.setValue([value.id])\n        );\n    } else delete fields.zone;\n    return new FormGroup(fields);\n}\n\nexport function requestSpacesForZone(id: string) {\n    if (SPACE_LIST_REQUESTS[id]) return SPACE_LIST_REQUESTS[id];\n    SPACE_LIST_REQUESTS[id] = querySystems({ zone_id: id, limit: 500 }).pipe(\n        map((_) => (_.data || []).map((_) => new Space(_ as any))),\n        tap((_) => updateSpaceList(_)),\n        shareReplay(1)\n    );\n    return SPACE_LIST_REQUESTS[id];\n}\n\nlet SPACE_COUNT: number = 0;\n/* istanbul ignore next */\nexport function generateMockSpace(overrides: HashMap = {}): HashMap {\n    const id = `space-${SPACE_COUNT++}`;\n    const name = `Test Space ${SPACE_COUNT}`;\n    const linked = predictableRandomInt(99999) % 2 === 0 && SPACE_COUNT > 1;\n    const space = {\n        id,\n        name,\n        long_name: `${name} with an long name`,\n        map_id: `${SPACE_COUNT}`,\n        capacity: predictableRandomInt(21, 1) * 2,\n        email: `${name.toLowerCase().split(' ').join('.')}@${USER_DOMAIN}`,\n        type: '',\n        searchable: predictableRandomInt(99999) % 2 === 0,\n        controlable: predictableRandomInt(99999) % 2 === 0,\n        bookable: predictableRandomInt(99999) % 2 === 0,\n        cost_hour: predictableRandomInt(300) * 100,\n        setup: predictableRandomInt(6) * 5,\n        breakdown: predictableRandomInt(6) * 5,\n        zones: ['zone_lvl-0'],\n        support_url: `/control/#/panel/${id}`,\n        bookings: [], //Array(10).fill(0).map(i => generateMockBooking()),\n        linked_rooms: linked\n            ? [`space-${predictableRandomInt(SPACE_COUNT - 1)}`]\n            : [],\n        image: '',\n        ...overrides,\n    };\n    if (space['configurations'] && space['configurations'].length > 0) {\n        space['configurations'].forEach(\n            (config) =>\n                (config.capacity = predictableRandomInt(space.capacity) + 1)\n        );\n        space['configurations'][0].capacity = space.capacity;\n    }\n    return space;\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule, Type } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatBottomSheetModule } from '@angular/material/bottom-sheet';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\n\nimport { ComponentsModule } from 'libs/components/src/lib/components.module';\nimport { FormFieldsModule } from 'libs/form-fields/src/lib/form-fields.module';\nimport { NewSpaceSelectModalComponent } from './space-select-modal/new-space-select-modal.component';\n\nimport { SpaceSelectItemComponent } from './space-select-item.component';\nimport { SpaceSelectModalComponent } from './space-select-modal.component';\nimport { SpaceDetailsComponent } from './space-select-modal/space-details.component';\nimport { SpaceListComponent } from './space-select-modal/space-list.component';\nimport { SpaceFiltersComponent } from './space-select-modal/space-filters.component';\nimport { SpaceFiltersDisplayComponent } from './space-select-modal/space-filters-display.component';\nimport { SpaceSelectMapComponent } from './space-select-modal/space-map.component';\n\nimport { SpaceLocationPinComponent } from './space-select-modal/space-location-pin.component';\nimport { SpacePipe } from './space.pipe';\n\nconst COMPONENTS: Type<any>[] = [\n    SpaceSelectModalComponent,\n    SpaceSelectItemComponent,\n    NewSpaceSelectModalComponent,\n\n    SpaceDetailsComponent,\n    SpaceListComponent,\n    SpaceFiltersComponent,\n    SpaceFiltersDisplayComponent,\n    SpaceSelectMapComponent,\n    SpaceLocationPinComponent,\n\n    SpacePipe,\n];\n\n@NgModule({\n    declarations: [...COMPONENTS],\n    imports: [\n        CommonModule,\n        MatDialogModule,\n        ComponentsModule,\n        FormFieldsModule,\n        MatBottomSheetModule,\n        MatCheckboxModule,\n        FormsModule,\n        ReactiveFormsModule,\n    ],\n    providers: [],\n    exports: [...COMPONENTS],\n})\nexport class SharedSpacesModule {}\n","import { Injectable } from '@angular/core';\nimport { querySystems, showSystem } from '@placeos/ts-client';\nimport { first, map } from 'rxjs/operators';\nimport { BehaviorSubject } from 'rxjs';\n\nimport { OrganisationService } from 'libs/organisation/src/lib/organisation.service';\n\nimport { Space } from './space.class';\nimport { flatten, SettingsService, unique } from '@placeos/common';\nimport { SpacePipe } from './space.pipe';\n\nlet SPACE_PIPE: SpacePipe;\n\n@Injectable({\n    providedIn: 'root',\n})\nexport class SpacesService {\n    /** Subject to store list of spaces */\n    private _list = new BehaviorSubject<Space[]>([]);\n    /** Subject which stores the initialised state of the object */\n    protected readonly _initialised = new BehaviorSubject<boolean>(false);\n    /** Observable of the initialised state of the object */\n    public readonly initialised = this._initialised.asObservable();\n    /** Observable for list of spaces */\n    public readonly list = this._list.asObservable();\n    /** List of available features */\n    public readonly features = this.list.pipe(\n        map((_) => unique(flatten(_.map((i) => i.features))))\n    );\n    /** Default predicate for filter method */\n    protected _compare = (space: Space) =>\n        space.zones.includes(this._org.building.id);\n\n    /** List of available spaces */\n    public get space_list(): Space[] {\n        return this._list.getValue();\n    }\n\n    constructor(\n        private _org: OrganisationService,\n        private _settings: SettingsService\n    ) {\n        SPACE_PIPE = new SpacePipe(_org);\n        this._init();\n    }\n\n    private async _init() {\n        await this._org.initialised.pipe(first((_) => _)).toPromise();\n        if (!this._settings.get('app.prevent_space_init')) this.loadSpaces();\n        else this._initialised.next(true);\n    }\n\n    /**\n     * Get a filtered list of the available spaces\n     * @param predicate Predicate for filtering spaces\n     */\n    public filter(predicate: (_: Space) => boolean = this._compare) {\n        return this._list.getValue().filter((_) => predicate(_));\n    }\n\n    public async loadSpace(space_id: string) {\n        const system = await showSystem(space_id).toPromise();\n        const space = new Space({\n            ...(system as any),\n            level: this._org.levelWithID([...system.zones]),\n        });\n        SPACE_PIPE.updateSpaceList([space]);\n    }\n\n    /**\n     * Find space with given id/email\n     * @param space_id ID/Email address associated with the space\n     */\n    public find(space_id: string) {\n        return this._list.getValue().find(({ id }) => space_id === id);\n    }\n\n    private async loadSpaces(): Promise<void> {\n        const systems = await querySystems({\n            zone_id: this._org.organisation.id,\n            limit: 5000,\n        })\n            .pipe(map((i) => i.data))\n            .toPromise();\n        const space_list = systems.map(\n            (sys) =>\n                new Space({\n                    ...(sys as any),\n                    level: this._org.levelWithID([...sys.zones]),\n                })\n        );\n        // Remove spaces without a map ID\n        const valid_spaces = space_list.filter((space) => space.map_id);\n        this._list.next(valid_spaces);\n        SPACE_PIPE.updateSpaceList(valid_spaces);\n        this._initialised.next(true);\n    }\n}\n","export * from './space-select-item.component';\nexport * from './space-select-modal.component';\nexport * from './space.class';\nexport * from './space.utilities';\nexport * from './spaces.module';\nexport * from './spaces.service';\nexport * from './space-select-modal/new-space-select-modal.component';\n","export * from './lib/users.module';\nexport * from './lib/new-user-modal.component';\nexport * from './lib/find-availability-modal/find-availability-modal.component';\nexport * from './lib/user-form.component';\nexport * from './lib/location.class';\nexport * from './lib/user.class';\nexport * from './lib/user.utilities';\nexport * from './lib/users.module';\nexport * from './lib/guests.fn';\nexport * from './lib/staff.fn';\n","import {\n    Component,\n    ElementRef,\n    Inject,\n    Renderer2,\n    ViewChild,\n} from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { AsyncHandler } from '@placeos/common';\nimport {\n    addMinutes,\n    differenceInMinutes,\n    endOfDay,\n    fromUnixTime,\n    getUnixTime,\n    isSameDay,\n    startOfDay,\n} from 'date-fns';\nimport { queryUserFreeBusy } from 'libs/calendar/src/lib/calendar.fn';\nimport { BehaviorSubject, of } from 'rxjs';\nimport {\n    catchError,\n    debounceTime,\n    defaultIfEmpty,\n    map,\n    shareReplay,\n    switchMap,\n} from 'rxjs/operators';\nimport { User } from '../user.class';\nimport { AvailabilityBlock } from './user-availability.component';\n\nexport interface FindAvailabilityData {\n    host: User;\n    users: User[];\n    date: number;\n    duration: number;\n}\n\n@Component({\n    selector: 'find-availability-modal',\n    template: `\n        <header class=\"relative flex items-center justify-center p-4\">\n            <h2 class=\"text-center\">Find Availability</h2>\n            <button\n                icon\n                matRipple\n                mat-dialog-close\n                class=\"absolute top-1/2 left-1 -translate-y-1/2\"\n            >\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <main\n            class=\"flex flex-col h-[calc(100vh-7rem)] sm:h-[65vh]\"\n            (window:resize)=\"updateWidth()\"\n        >\n            <div\n                class=\"w-full flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2 p-2\"\n            >\n                <a-date-field\n                    [(ngModel)]=\"date\"\n                    class=\"max-h-[3.25rem] flex-1\"\n                ></a-date-field>\n                <a-user-search-field\n                    [(ngModel)]=\"user\"\n                    (ngModelChange)=\"addUser($event)\"\n                    class=\"max-h-[3.25rem] flex-1\"\n                ></a-user-search-field>\n            </div>\n            <div\n                #container\n                class=\"flex flex-1 h-1/2 w-full border-t border-gray-300 dark:border-neutral-500 relative overflow-auto divide-x divide-gray-300 dark:divide-neutral-500 max-w-[100vw] sm:max-w-[80vw]\"\n                (scroll)=\"updateScroll()\"\n            >\n                <div\n                    users\n                    class=\"sticky left-0 min-h-full bg-white dark:bg-neutral-700 border-r border-gray-300 dark:border-neutral-500 z-30\"\n                >\n                    <div\n                        header\n                        class=\"h-10 w-[6rem] border-b border-gray-300 dark:border-neutral-500\"\n                    ></div>\n                    <div\n                        host\n                        class=\"flex flex-col items-center justify-center h-32 w-[6rem] relative border-b border-gray-300 dark:border-neutral-500 py-2\"\n                    >\n                        <a-user-avatar\n                            class=\"text-2xl\"\n                            [user]=\"host\"\n                        ></a-user-avatar>\n                        <div\n                            class=\"text-xs break-words overflow-hidden max-w-full px-2 text-center\"\n                        >\n                            {{ host.name || host.email }}\n                        </div>\n                        <user-availability-list\n                            class=\"absolute top-0 -bottom-px left-full pointer-events-none\"\n                            [user]=\"host\"\n                            [date]=\"date\"\n                            [offset]=\"offset\"\n                            [availability]=\"\n                                (availability | async)\n                                    ? (availability | async)[host.email]\n                                    : []\n                            \"\n                            [width]=\"width\"\n                        ></user-availability-list>\n                    </div>\n                    <div\n                        person\n                        class=\"flex flex-col items-center justify-center h-32 w-[6rem] relative border-b border-gray-300 dark:border-neutral-500 py-2\"\n                        *ngFor=\"let user of users | async\"\n                    >\n                        <a-user-avatar\n                            class=\"text-2xl\"\n                            [user]=\"user\"\n                        ></a-user-avatar>\n                        <div\n                            class=\"text-xs break-words max-w-full px-2 text-center\"\n                        >\n                            {{ user.name || host.email }}\n                        </div>\n                        <button\n                            icon\n                            class=\"absolute -top-1 -left-1\"\n                            (click)=\"removeUser(user)\"\n                        >\n                            <app-icon>close</app-icon>\n                        </button>\n                        <user-availability-list\n                            class=\"absolute top-0 -bottom-px left-full pointer-events-none\"\n                            [user]=\"user\"\n                            [availability]=\"\n                                (availability | async)\n                                    ? (availability | async)[user.email]\n                                    : []\n                            \"\n                            [date]=\"date\"\n                            [offset]=\"offset\"\n                            [width]=\"width\"\n                        ></user-availability-list>\n                    </div>\n                </div>\n                <div\n                    [attr.hour]=\"i\"\n                    class=\"min-w-[5rem] bg-gray-50 dark:bg-neutral-600 min-h-full pointer-events-none\"\n                    [attr.disabled]=\"today && i < current_hour\"\n                    *ngFor=\"let h of hours; let i = index\"\n                >\n                    <div\n                        header\n                        class=\"h-10 border-b border-gray-300 dark:border-neutral-500 p-2\"\n                    >\n                        {{ i % 12 ? i % 12 : '12' }}{{ i >= 12 ? 'pm' : 'am' }}\n                    </div>\n                </div>\n                <div\n                    selection\n                    class=\"absolute top-10 bottom-0 !border-x-2 !border-blue-500 bg-blue-500/30 z-20 cursor-grab active:cursor-grabbing\"\n                    [style.left]=\"selection_left + 'rem'\"\n                    [style.width]=\"selection_width + 'rem'\"\n                    (mousedown)=\"startMovePeriod($event)\"\n                    (touchstart)=\"startMovePeriod($event)\"\n                >\n                    <div\n                        handle\n                        class=\"absolute top-1/2 -left-px -translate-x-1/2 -translate-y-1/2 h-3 w-3 rounded-full bg-blue-500\"\n                    ></div>\n                    <div\n                        handle\n                        class=\"absolute top-1/2 -right-px translate-x-1/2 -translate-y-1/2 h-3 w-3 rounded-full bg-blue-500 hover:h-4 hover:w-4 active:bg-primary\"\n                        (mousedown)=\"startMoveDuration($event)\"\n                        (touchstart)=\"startMoveDuration($event)\"\n                    ></div>\n                    <div\n                        class=\"bg-white dark:bg-neutral-600 border border-gray-300 dark:border-neutral-500 p-2 absolute top-2 left-1/2 -translate-x-1/2 shadow text-xs whitespace-nowrap rounded\"\n                    >\n                        {{ duration | duration }}\n                    </div>\n                    <div\n                        *ngIf=\"move_time\"\n                        class=\"bg-white dark:bg-neutral-600 border border-gray-300 dark:border-neutral-500 p-2 absolute top-12 left-1/2 -translate-x-1/2 shadow text-xs whitespace-nowrap rounded\"\n                    >\n                        {{ date | date: 'shortTime' }}\n                    </div>\n                </div>\n            </div>\n        </main>\n        <footer\n            class=\"flex items-center justify-between p-2 border-t border-gray-200 dark:border-neutral-500 w-full\"\n        >\n            <button\n                matRipple\n                [mat-dialog-close]=\"true\"\n                class=\"clear text-primary\"\n            >\n                <div class=\"flex items-center\">\n                    <app-icon class=\"text-xl\">arrow_back</app-icon>\n                    <div class=\"mr-1 underline\">Back to form</div>\n                </div>\n            </button>\n        </footer>\n    `,\n    styles: [\n        `\n            [disabled='true'] {\n                background: rgba(0, 0, 0, 0.05) !important;\n                pointer-events: none;\n            }\n            [disabled='true'] > * {\n                color: rgba(0, 0, 0, 0.3);\n            }\n        `,\n    ],\n})\nexport class FindAvailabilityModalComponent extends AsyncHandler {\n    public readonly users = new BehaviorSubject([]);\n    public search = '';\n    public date = this._data.date || Date.now();\n    public duration = this._data.duration || 60;\n    public user?: User;\n    public offset = 0;\n    public width = 0;\n\n    public readonly host = this._data.host;\n    public readonly hours = new Array(24).fill(0);\n\n    public readonly availability = this.users.pipe(\n        debounceTime(300),\n        switchMap((users) => {\n            if (!users.length) return of([]);\n            return queryUserFreeBusy({\n                calendars: [this.host.email, ...users.map((_) => _.email)].join(\n                    ','\n                ),\n                period_start: getUnixTime(startOfDay(this.date)),\n                period_end: getUnixTime(endOfDay(this.date)),\n            }).pipe(catchError(() => of([])));\n        }),\n        map((availability_list) => {\n            const availability_map: Record<string, AvailabilityBlock[]> = {};\n            for (const item of availability_list) {\n                availability_map[item.id] = item.availability\n                    .filter((_) => _.status === 'busy')\n                    .map((block) => {\n                        const date = fromUnixTime(block.starts_at);\n                        const duration = differenceInMinutes(\n                            fromUnixTime(block.ends_at),\n                            fromUnixTime(block.starts_at)\n                        );\n                        return {\n                            date,\n                            duration,\n                            start:\n                                ((date.getHours() + date.getMinutes() / 60) /\n                                    24) *\n                                100,\n                            size: (duration / 60 / 24) * 100,\n                        };\n                    });\n            }\n            return availability_map;\n        }),\n        defaultIfEmpty({}),\n        shareReplay(1)\n    );\n\n    @ViewChild('container', { static: true })\n    private _container_el!: ElementRef<HTMLDivElement>;\n\n    public get today() {\n        return isSameDay(this.date, Date.now());\n    }\n\n    public get current_hour() {\n        return new Date().getHours();\n    }\n\n    public get selection_left() {\n        const date = new Date(this.date);\n        return (date.getHours() + date.getMinutes() / 60) * 5 + 6;\n    }\n\n    public get selection_width() {\n        return (this.duration / 60) * 5;\n    }\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) private _data: FindAvailabilityData,\n        private _renderer: Renderer2,\n        private _dialog_ref: MatDialogRef<FindAvailabilityModalComponent>\n    ) {\n        super();\n        this.users.next([...this._data.users]);\n    }\n\n    public addUser(user: User) {\n        this.users.next([\n            ...this.users.getValue().filter((u) => u.email !== user.email),\n            user,\n        ]);\n        this.user = null;\n    }\n\n    public removeUser(user: User) {\n        this.users.next(\n            this.users.getValue().filter((u) => u.email !== user.email)\n        );\n        this.user = null;\n    }\n\n    public closeAndUpdate() {\n        this._dialog_ref.close(true);\n    }\n\n    public ngAfterViewInit() {\n        const date = new Date(this.date);\n        this.timeout(\n            'init',\n            () => {\n                const el = this._container_el.nativeElement.querySelector(\n                    `[hour=\"${date.getHours()}\"]`\n                );\n                if (el) {\n                    const rect =\n                        this._container_el.nativeElement.getBoundingClientRect();\n                    const el_rect = el.getBoundingClientRect();\n                    this._container_el.nativeElement.scrollTo(\n                        el_rect.left - 128 - rect.left,\n                        0\n                    );\n                }\n                this.updateWidth();\n                this.updateScroll();\n            },\n            300\n        );\n    }\n\n    public updateWidth() {\n        const container_size =\n            this._container_el.nativeElement.getBoundingClientRect().width;\n        const user_list_size = this._container_el.nativeElement\n            .querySelector('[users]')\n            .getBoundingClientRect().width;\n        this.width = Math.floor(container_size - user_list_size);\n        this._move_size =\n            this._container_el.nativeElement\n                .querySelector('[hour]')\n                .getBoundingClientRect().width * 24;\n    }\n\n    public updateScroll() {\n        this.offset = this._container_el.nativeElement.scrollLeft;\n    }\n\n    public move_time = false;\n    private _start_time = 0;\n    private _move_last = 0;\n    private _move_size = 0;\n\n    public startMovePeriod(event: MouseEvent | TouchEvent) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.updateWidth();\n        this._move_last =\n            event instanceof MouseEvent\n                ? event.clientX\n                : event.touches[0].clientX;\n        this.move_time = true;\n        this._start_time = this.date;\n        event instanceof MouseEvent\n            ? this.subscription(\n                  'on_move',\n                  this._renderer.listen('window', 'mousemove', (e) =>\n                      this._onMovePeriod(e)\n                  )\n              )\n            : this.subscription(\n                  'on_move',\n                  this._renderer.listen('window', 'touchmove', (e) =>\n                      this._onMovePeriod(e)\n                  )\n              );\n        event instanceof MouseEvent\n            ? this.subscription(\n                  'on_move_end',\n                  this._renderer.listen('window', 'mouseup', () =>\n                      this._onMoveEnd()\n                  )\n              )\n            : this.subscription(\n                  'on_move_end',\n                  this._renderer.listen('window', 'touchend', () =>\n                      this._onMoveEnd()\n                  )\n              );\n    }\n\n    public startMoveDuration(event: MouseEvent | TouchEvent) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.updateWidth();\n        this._move_last =\n            event instanceof MouseEvent\n                ? event.clientX\n                : event.touches[0].clientX;\n        this._start_time = this.duration;\n        event instanceof MouseEvent\n            ? this.subscription(\n                  'on_move',\n                  this._renderer.listen('window', 'mousemove', (e) =>\n                      this._onMoveDuration(e)\n                  )\n              )\n            : this.subscription(\n                  'on_move',\n                  this._renderer.listen('window', 'touchmove', (e) =>\n                      this._onMoveDuration(e)\n                  )\n              );\n        event instanceof MouseEvent\n            ? this.subscription(\n                  'on_move_end',\n                  this._renderer.listen('window', 'mouseup', () =>\n                      this._onMoveEnd()\n                  )\n              )\n            : this.subscription(\n                  'on_move_end',\n                  this._renderer.listen('window', 'touchend', () =>\n                      this._onMoveEnd()\n                  )\n              );\n    }\n\n    private _onMovePeriod(event: MouseEvent | TouchEvent) {\n        const change_px =\n            this._move_last -\n            (event instanceof MouseEvent\n                ? event.clientX\n                : event.touches[0].clientX);\n        const dir = change_px > 0 ? -1 : 1;\n        const change_min =\n            dir *\n            Math.floor(Math.abs((change_px / this._move_size) * 24 * 60) / 5) *\n            5;\n        if (change_min) {\n            const old_date = this.date;\n            this.date = addMinutes(this._start_time, change_min).valueOf();\n            if (this.date < Date.now()) this.date = old_date;\n        }\n    }\n\n    private _onMoveDuration(event: MouseEvent | TouchEvent) {\n        const change_px =\n            this._move_last -\n            (event instanceof MouseEvent\n                ? event.clientX\n                : event.touches[0].clientX);\n        const dir = change_px > 0 ? -1 : 1;\n        const change_min =\n            dir *\n            Math.floor(Math.abs((change_px / this._move_size) * 24 * 60) / 5) *\n            5;\n        if (change_min) {\n            this.duration = Math.max(30, this._start_time + change_min);\n        }\n    }\n\n    private _onMoveEnd() {\n        this.unsub('on_move');\n        this.unsub('on_move_end');\n        this._move_last = 0;\n        this.move_time = false;\n    }\n}\n","import { Component, Input } from '@angular/core';\n\nimport { User } from '../user.class';\n\nexport interface AvailabilityBlock {\n    date: number;\n    duration: number;\n    start: number;\n    size: number;\n}\n\n@Component({\n    selector: 'user-availability-list',\n    template: `\n        <div\n            class=\"overflow-hidden relative border-b border-gray-300 dark:border-neutral-500 h-full pointer-events-none\"\n            [style.width]=\"width + 'px'\"\n        >\n            <div\n                class=\"absolute w-[120rem] h-full inset-y-0\"\n                [style.left]=\"-offset + 'px'\"\n            >\n                <div\n                    event\n                    *ngFor=\"let event of availability\"\n                    class=\"absolute inset-y-0 bg-primary text-white p-2 overflow-hidden border border-white rounded\"\n                    [style.left]=\"event.start + '%'\"\n                    [style.width]=\"event.size + '%'\"\n                >\n                    <div class=\"text-xs\">Unavailable</div>\n                    <div class=\"text-xs max-w-full\">\n                        {{ event.date | date: 'shortTime' }} -\n                        {{\n                            event.date.valueOf() + event.duration * 60 * 1000\n                                | date: 'shortTime'\n                        }}\n                    </div>\n                </div>\n            </div>\n        </div>\n    `,\n    styles: [``],\n})\nexport class UserAvailabilityComponent {\n    @Input() public user: User;\n    @Input() public availability: AvailabilityBlock[] = [];\n    @Input() public date: number = Date.now();\n    @Input() public offset = 0;\n    @Input() public width = 0;\n}\n","import { del, get, patch } from '@placeos/ts-client';\nimport { map } from 'rxjs/operators';\n\nimport { CalendarEvent } from '../../../events/src/lib/event.class';\nimport { toQueryString } from 'libs/common/src/lib/api';\nimport { GuestUser } from './user.class';\nimport { Observable } from 'rxjs';\n\nconst GUEST_ENDPOINT = '/api/staff/v1/guests';\n\nexport interface GuestsQueryParams {\n    /** Comma seperated list of zone ids to check availability */\n    zone_ids?: string;\n    /** Comma seperated list of system(space) ids to check availability */\n    system_ids?: string;\n    /** Epoch in seconds for the start of the availability period */\n    period_start: number;\n    /** Epoch in seconds for the end of the availability period */\n    period_end: number;\n}\n\n/**\n * Search guests\n * @param q Search string for filtering guests\n */\nexport function searchGuests(q: string): Observable<GuestUser[]> {\n    const query = toQueryString({ q });\n    return get(`${GUEST_ENDPOINT}${q ? '?' + query : ''}`).pipe(\n        map((list) => list.map((item) => new GuestUser(item)))\n    );\n}\n\n/**\n * List guests\n * @param q Parameters to pass to the API request\n */\nexport function queryGuests(q: GuestsQueryParams): Observable<GuestUser[]> {\n    const query = toQueryString({ ...q });\n    return get(`${GUEST_ENDPOINT}${query ? '?' + query : ''}`).pipe(\n        map((list) => list.map((item) => new GuestUser(item)))\n    );\n}\n\n/**\n * Get guest details\n * @param id ID of the guest\n */\nexport function showGuest(id: string) {\n    return get(`${GUEST_ENDPOINT}/${encodeURIComponent(id)}`).pipe(\n        map((item) => new GuestUser(item))\n    );\n}\n\n/**\n * Update guest metadata\n * @param id ID of the guest\n * @param data New metadata state\n */\nexport function updateGuest(id: string, data: Partial<GuestUser>) {\n    return patch(`${GUEST_ENDPOINT}/${encodeURIComponent(id)}`, data).pipe(\n        map((item) => new GuestUser(item))\n    );\n}\n\n/**\n * Remove a guest\n * @param id ID of the guest to remove\n */\nexport function removeGuest(id: string) {\n    return del(`${GUEST_ENDPOINT}/${encodeURIComponent(id)}`, {\n        response_type: 'void',\n    });\n}\n\n/**\n * List upcoming meetings for a guest\n * @param id ID of the guest\n */\nexport function listGuestMeetings(id: string) {\n    return get(`${GUEST_ENDPOINT}/${encodeURIComponent(id)}/meetings`).pipe(\n        map((list) => list.map((item) => new CalendarEvent(item)))\n    );\n}\n","import { HashMap } from '@placeos/common';\nimport { getUnixTime } from 'date-fns';\n\nexport class MapLocation {\n    /** Source that the location was generated */\n    public type: 'desk' | 'wireless' | 'meeting' | 'other';\n    /** Details of the location */\n    public position: string | { x: number, y: number };\n    /** Accuracy of the location data */\n    public variance: number;\n    /** Unix epoch in seconds that the data was last updated */\n    public last_seen: number;\n    /** ID of the level associated with the location */\n    public level: string;\n    /** ID of the building associated with the location */\n    public building: string;\n    /** Whether user is currently at the location if fixed */\n    public at_location: boolean;\n    /**  */\n    public coordinates_from:\n        | 'top-left'\n        | 'top-right'\n        | 'bottom-left'\n        | 'bottom-right';\n\n    constructor(_data: HashMap = {}) {\n        this.type = _data.type || _data.location || 'other';\n        this.position = _data.position ||\n            _data.map_id || _data.asset_id || {\n                x: _data.x / _data.map_width || 0,\n                y: _data.y / _data.map_height || 0,\n            };\n        this.variance = _data.variance || 0;\n        this.last_seen = _data.last_seen || getUnixTime(new Date());\n        this.level = _data.level;\n        this.building = _data.building;\n        this.at_location = !!_data.at_location;\n        this.coordinates_from = _data.coordinates_from || 'top-left';\n    }\n}\n","import { Component, OnInit, Output, EventEmitter, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { AsyncHandler, DialogEvent } from '@placeos/common';\n\nimport { User } from './user.class';\nimport { generateUserForm } from './user.utilities';\n\n@Component({\n    selector: 'new-user-modal',\n    template: `\n        <header>\n            <div class=\"heading\" mat-dialog-title>\n                {{ user?.id ? 'Edit' : 'Add' }} External Attendee\n            </div>\n            <div class=\"flex-1\"></div>\n            <button icon mat-dialog-close>\n                <app-icon>close</app-icon>\n            </button>\n        </header>\n        <main\n            class=\"flex flex-col items-center w-full p-2\"\n            *ngIf=\"!loading; else load_state\"\n        >\n            <user-form [form]=\"form\"></user-form>\n        </main>\n        <footer\n            class=\"flex items-center justify-center w-full p-2 border-t border-gray-300 space-x-2\"\n            *ngIf=\"!loading\"\n        >\n            <button btn matRipple class=\"inverse\" mat-dialog-close>\n                Cancel\n            </button>\n            <button btn matRipple (click)=\"saveChanges()\">Save</button>\n        </footer>\n        <ng-template #load_state>\n            <main class=\"flex flex-col items-center w-full p-2 space-y-2\">\n                <mat-spinner diameter=\"32\"></mat-spinner>\n                <p>Saving attendee...</p>\n            </main>\n        </ng-template>\n    `,\n    styles: [\n        `\n            main {\n                min-height: 20em !important;\n                width: 100%;\n            }\n\n            footer button {\n                min-width: 8em;\n            }\n        `,\n    ],\n})\nexport class NewUserModalComponent extends AsyncHandler implements OnInit {\n    /** Emitter for user action on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** Form fields for the new user */\n    public form = generateUserForm(this.user || new User());\n    /** New user data store */\n    public user?: User;\n    /** Whether user details are being saved */\n    public loading = false;\n\n    constructor(@Inject(MAT_DIALOG_DATA) private _data: any) {\n        super();\n        this.user = this._data.user || {};\n        this.form = generateUserForm(this.user);\n    }\n\n    public ngOnInit(): void {}\n\n    public saveChanges() {\n        if (!this.form) return;\n        this.form.markAllAsTouched();\n        if (this.form.valid) {\n            const new_user = new User({\n                ...this.form.value,\n                is_external: true,\n            });\n            this.event.emit({ reason: 'done', metadata: new_user });\n        }\n    }\n}\n","import { get } from '@placeos/ts-client';\nimport { toQueryString } from 'libs/common/src/lib/api';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { StaffUser } from './user.class';\n\nconst STAFF_ENDPOINT = '/api/staff/v1/people';\n\n/**\n * Search staff members\n * @param q Search string for filtering staff\n */\nexport function searchStaff(q: string): Observable<StaffUser[]> {\n    const query = toQueryString({ q });\n    return get(`${STAFF_ENDPOINT}${q ? '?' + query : ''}`).pipe(\n        map((list) =>\n            list.map((item: Record<string, any>) => new StaffUser(item))\n        )\n    );\n}\n\n/**\n * Get user details\n * @param id User ID or email\n */\nexport function showStaff(id: string) {\n    return get(`${STAFF_ENDPOINT}/${encodeURIComponent(id)}`).pipe(\n        map((item) => new StaffUser(item))\n    );\n}\n\n/**\n * Get user with their location details\n * @param email User email\n */\nexport function locateStaff(email: string) {\n    return get(`${STAFF_ENDPOINT}/${email}`).pipe(\n        map((item) => new StaffUser(item))\n    );\n}\n","import { Component, Input } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\n\n@Component({\n    selector: 'user-form',\n    template: `\n        <form user-form *ngIf=\"form\" [formGroup]=\"form\" class=\"w-full\">\n            <div class=\"flex flex-col w-full\" *ngIf=\"form.controls.name\">\n                <label for=\"name\" [class.error]=\"hasError('name')\">\n                    Name<span>*</span>:\n                </label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        name=\"name\"\n                        placeholder=\"Name\"\n                        formControlName=\"name\"\n                    />\n                    <mat-error>Name is required</mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"flex flex-col w-full\" *ngIf=\"form.controls.email\">\n                <label for=\"email\" [class.error]=\"hasError('email')\">\n                    Email<span>*</span>:\n                </label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        name=\"email\"\n                        placeholder=\"Email Address\"\n                        formControlName=\"email\"\n                    />\n                    <mat-error>A valid email is required</mat-error>\n                </mat-form-field>\n            </div>\n            <div\n                class=\"flex flex-col w-full\"\n                *ngIf=\"form.controls.organisation\"\n            >\n                <label for=\"org\" [class.error]=\"hasError('organisation')\">\n                    {{ 'COMMON.ORGANISATION' | translate }}<span>*</span>:\n                </label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        name=\"org\"\n                        placeholder=\"e.g. Conteso\"\n                        formControlName=\"organisation\"\n                    />\n                    <mat-error>\n                        {{ 'COMMON.ORGANISATION' | translate }} is required\n                    </mat-error>\n                </mat-form-field>\n            </div>\n            <div class=\"flex flex-col w-full\" *ngIf=\"form.controls.phone\">\n                <label for=\"phone\" [class.error]=\"hasError('phone')\">\n                    Phone:\n                </label>\n                <mat-form-field appearance=\"outline\">\n                    <input\n                        matInput\n                        name=\"phone\"\n                        type=\"tel\"\n                        placeholder=\"Phone\"\n                        formControlName=\"phone\"\n                    />\n                    <mat-error>Phone format is invalid</mat-error>\n                </mat-form-field>\n            </div>\n            <div\n                class=\"flex flex-col w-full\"\n                *ngIf=\"form.controls.assistance_required\"\n            >\n                <mat-checkbox\n                    name=\"assistance-required\"\n                    color=\"primary\"\n                    formControlName=\"assistance_required\"\n                >\n                    Assistance required\n                </mat-checkbox>\n            </div>\n            <div\n                class=\"flex flex-col w-full\"\n                *ngIf=\"form.controls.visit_expected\"\n            >\n                <mat-checkbox\n                    name=\"visit-expected\"\n                    color=\"primary\"\n                    formControlName=\"visit_expected\"\n                >\n                    Visit expected\n                </mat-checkbox>\n            </div>\n        </form>\n    `,\n    styles: [\n        `\n            :host,\n            mat-form-field {\n                width: 100%;\n            }\n        `,\n    ],\n})\nexport class UserFormComponent {\n    /** Group of form fields used for creating the system */\n    @Input() public form?: FormGroup;\n\n    public hasError(name: string) {\n        const { invalid, touched } = this.form?.controls[name] || {};\n        return invalid && touched;\n    }\n}\n","import { randomString } from 'libs/common/src/lib/general';\nimport { MapLocation } from './location.class';\nimport { USER_DOMAIN } from './user.utilities';\n\nexport interface Attachment {\n    id?: string;\n    name: string;\n    url: string;\n    size?: number;\n    created_at?: number;\n    progress?: number;\n}\n\nexport interface UserComplete extends User {\n    sys_admin?: boolean;\n    support?: boolean;\n}\n\nexport type EventResponseStatus =\n    | 'needsAction'\n    | 'declined'\n    | 'tentative'\n    | 'accepted'\n    | '';\n\nexport class User {\n    /** ID of the user */\n    public readonly id: string;\n    /** Display name of the user */\n    public readonly name: string;\n    /** Email address of the user */\n    public readonly email: string;\n    /** First name of the user */\n    public readonly first_name: string;\n    /** Last name of the user */\n    public readonly last_name: string;\n    /** Username of the user */\n    public readonly username: string;\n    /** Phone number of the user */\n    public readonly phone: string;\n    /** Organisation associated with the user */\n    public readonly organisation: string;\n    /** Details about the user */\n    public readonly notes: string;\n    /** Organisation department of the user */\n    public readonly department: string;\n    /** URL to the user's photo */\n    public readonly photo: string;\n    /** Whether user attendance is required */\n    public readonly required: boolean;\n    /** Whether user is the event organiser */\n    public readonly organizer: boolean;\n    /** Whether the users is expected for an event */\n    public readonly response_status: EventResponseStatus;\n    /** Whether the users is expected for an event */\n    public visit_expected: boolean;\n    /** Whether user has been checked in */\n    public readonly checked_in: boolean;\n    /** Organisational groups that the user belongs */\n    public readonly groups: string[];\n    /** Extra metadata associated with the user */\n    public readonly extension_data: Record<string, any>;\n    /** Whether user is external from the organisation */\n    public readonly is_external: boolean;\n    /** Whether user needs assistance when attending an event */\n    public readonly assistance_required: boolean;\n    /** Whether user is a resource */\n    public readonly resource: boolean;\n\n    constructor(data: Partial<UserComplete> = {}) {\n        this.id = data.id || data.email || `USER::${randomString(8)}`;\n        this.name = data.name || '';\n        this.email = data.email || '';\n        this.first_name = data.first_name || data.name || '';\n        this.last_name = data.last_name || '';\n        this.phone = data.phone || '';\n        this.organisation = data.organisation || '';\n        this.notes = data.notes || '';\n        this.photo = data.photo || '';\n        this.username = data.username || '';\n        this.organizer = !!data.organizer;\n        this.checked_in = !!data.checked_in;\n        this.required = data.required ?? true;\n        this.resource = data.resource ?? false;\n        this.response_status = data.response_status || '';\n        const groups = data.groups || [];\n        this.department = data.department ?? '';\n        if (data.sys_admin) groups.push('placeos_admin');\n        if (data.support) groups.push('placeos_support');\n        if (data.department) groups.push(data.department);\n        this.groups = groups;\n        this.extension_data = data.extension_data || {};\n        this.extension_data.assistance_required =\n            data.assistance_required || this.extension_data.assistance_required;\n        this.is_external = !this.email?.endsWith(`${USER_DOMAIN}`);\n        this.visit_expected = data.visit_expected ?? true;\n        this.assistance_required = !!this.extension_data?.assistance_required;\n        for (const key in data) {\n            if (!(key in this)) this.extension_data[key] = data[key] as any;\n        }\n    }\n}\n\nexport class GuestUser extends User {\n    /** Preferred beverage of the guest */\n    public readonly preferred_beverage: string;\n    /** Whether guest has accepted the terms and conditions */\n    public readonly accepted_terms_conditions: boolean;\n    /** List of links to associated attachments */\n    public readonly attachments: Attachment[];\n    /** Status of the guest attendance */\n    public readonly status: 'pending' | 'approved' | 'declined';\n\n    constructor(data: Partial<GuestUser> = {}) {\n        super(data);\n        this.preferred_beverage = data.preferred_beverage || '';\n        this.accepted_terms_conditions =\n            data.accepted_terms_conditions || false;\n        this.attachments =\n            data.extension_data?.attachments || data.attachments || [];\n        this.status = data.extension_data?.status || data.status || 'pending';\n    }\n}\n\nexport class StaffUser extends User {\n    /** Number associated with the user's access card */\n    public readonly card_number: string;\n    /** ID of the user */\n    public readonly staff_id: string;\n    /** Whether user is logged in */\n    public readonly is_logged_in: boolean;\n    /** Location of the user */\n    public readonly location: Record<string, MapLocation>;\n\n    constructor(data: Partial<StaffUser> = {}) {\n        super(data);\n        this.card_number = data.card_number || '';\n        this.staff_id = data.staff_id || '';\n        this.location = data.location || {};\n        this.is_logged_in = !!data.is_logged_in;\n    }\n}\n","import { Pipe } from \"@angular/core\";\nimport { showGuest } from \"./guests.fn\";\nimport { showStaff } from \"./staff.fn\";\nimport { User } from \"./user.class\";\n\nconst USER_LIST: User[] = [];\n\nconst EMPTY_USER = new User();\n\n@Pipe({\n    name: 'user'\n})\nexport class UserPipe {\n    /**\n     * Get details of the user with the given ID\n     * @param user_id ID or Email of the user\n     */\n    public async transform(user_id: string): Promise<User> {\n        if (!user_id) return EMPTY_USER;\n        let user = USER_LIST.find(({ id, email }) => id === user_id || email === user_id);\n        if (user) return user;\n        user = await showStaff(user_id).toPromise();\n        if (user) {\n            USER_LIST.push(user);\n            return user;\n        }\n        user = await showGuest(user_id).toPromise();\n        if (user) {\n            USER_LIST.push(user);\n            return user;\n        }\n        return EMPTY_USER;\n    }\n}\n","import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { predictableRandomInt, unique } from '../../../common/src/lib/general';\n\nimport { GuestUser, User } from './user.class';\n\nlet USER_COUNT = 0;\n\ntype HashMap<T = any> = Record<string, T>;\n\nexport let USER_DOMAIN = '@place.tech';\n\nexport function setInternalUserDomain(domain: string) {\n    USER_DOMAIN = domain;\n}\n\nconst USER_EMAILS: string[] = [];\n/* istanbul ignore next */\n/**\n * Generate raw mock data for a user\n * @param id Forced ID for the mock\n * @param name Forced name for the user\n * @param external Whether user is external of the organisation\n */\nexport function generateMockUser(\n    id?: string,\n    name?: string,\n    external?: boolean\n): HashMap {\n    if (!id) {\n        id = `user-${USER_COUNT++}`;\n    }\n    if (!name) {\n        name = `User ${USER_COUNT}`;\n    }\n    if (external === undefined) {\n        external = !(predictableRandomInt(99999) % 2);\n    }\n    const organisation = external ? `Fake Co.` : USER_DOMAIN.split('.')[0];\n    let delegates: string[] = [];\n    const delegate_count = Math.min(\n        predictableRandomInt(4) + 1,\n        USER_EMAILS.length\n    );\n    for (let i = 0; i < delegate_count; i++) {\n        delegates.push(USER_EMAILS[predictableRandomInt(USER_EMAILS.length)]);\n    }\n    delegates = unique(delegates);\n    const email = `${name.split(' ').join('.').toLowerCase()}@${\n        external ? 'not-' : ''\n    }${USER_DOMAIN}`;\n    USER_EMAILS.push(email);\n    return {\n        id,\n        name,\n        first_name: name.split(' ')[0],\n        last_name: name.split(' ')[1],\n        email,\n        phone: `(02) 4567 8901`,\n        visitor: external,\n        organisation: {\n            id: organisation.split(' ').join('.').toLowerCase(),\n            name: organisation,\n        },\n        department: `Department ${predictableRandomInt(10)}`,\n        staff_code: predictableRandomInt(999_999),\n        delegates,\n        image: `${id}.png`,\n    };\n}\n\n/**\n * Generate form fields for the given user\n * @param user User to generate form for\n */\nexport function generateUserForm(user?: User) {\n    if (!user) {\n        throw Error('No user passed');\n    }\n\n    const fields = {\n        name: new FormControl(user.name || '', [Validators.required]),\n        email: new FormControl(user.email || '', [\n            Validators.email,\n            Validators.required,\n        ]),\n        organisation: new FormControl(\n            user.organisation || '',\n            Validators.required\n        ),\n        phone: new FormControl(\n            user.phone || '',\n            Validators.pattern(/[+\\-()0-9]{1,24}/g)\n        ),\n        assistance_required: new FormControl(user.assistance_required || false),\n        visit_expected: new FormControl(user.visit_expected ?? true),\n    };\n\n    // Generate form group for the user\n    const form = new FormGroup(fields);\n    return form;\n}\n\nexport function generateGuestForm(\n    user: GuestUser = new GuestUser(),\n    host: string = ''\n) {\n    const fields = {\n        name: new FormControl(user.name || ''),\n        email: new FormControl(user.email || '', [\n            Validators.email,\n            Validators.required,\n        ]),\n        organisation: new FormControl(\n            user.organisation || '',\n            Validators.required\n        ),\n        phone: new FormControl(user.phone || ''),\n        host: new FormControl(host || '', [Validators.required]),\n    };\n    // Generate form group for the guest\n    const form = new FormGroup(fields);\n    return form;\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\n\nimport { ComponentsModule } from 'libs/components/src/lib/components.module';\nimport { FormFieldsModule } from 'libs/form-fields/src/lib/form-fields.module';\n\nimport { NewUserModalComponent } from './new-user-modal.component';\nimport { UserFormComponent } from './user-form.component';\nimport { UserPipe } from './user.pipe';\nimport { WFHSettingsModalComponent } from './wfh-settings-modal.component';\nimport { FindAvailabilityModalComponent } from './find-availability-modal/find-availability-modal.component';\nimport { UserAvailabilityComponent } from './find-availability-modal/user-availability.component';\n\nconst COMPONENTS = [\n    NewUserModalComponent,\n    UserFormComponent,\n    WFHSettingsModalComponent,\n    UserPipe,\n    FindAvailabilityModalComponent,\n    UserAvailabilityComponent,\n];\n\n@NgModule({\n    declarations: [...COMPONENTS],\n    imports: [\n        CommonModule,\n        FormsModule,\n        ReactiveFormsModule,\n        MatDialogModule,\n        FormFieldsModule,\n        ComponentsModule,\n        MatCheckboxModule,\n        MatProgressSpinnerModule,\n        MatMenuModule,\n    ],\n    exports: [...COMPONENTS],\n})\nexport class SharedUsersModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { MatDialogRef } from '@angular/material/dialog';\nimport { currentUser, SettingsService } from '@placeos/common';\nimport { endOfDay, getUnixTime, setDay, startOfDay } from 'date-fns';\nimport { Booking } from 'libs/bookings/src/lib/booking.class';\nimport { queryBookings, saveBooking } from 'libs/bookings/src/lib/bookings.fn';\n\nconst WFH_SETTING_KEY = 'wfh-days';\n\n@Component({\n    selector: `wfh-settings-modal`,\n    template: `\n        <div\n            class=\"relative flex flex-col rounded overflow-hidden w-[18rem]\"\n            *ngIf=\"!loading; else load_state\"\n        >\n            <div\n                class=\"w-full px-4 py-8 flex flex-col items-center border-b border-gray-200\"\n            >\n                <a-user-avatar [user]=\"user\"></a-user-avatar>\n                <div>{{ user.name }}</div>\n                <div class=\"text-xs opacity-30\">{{ user.email }}</div>\n                <div class=\"text-xs opacity-30\">{{ user.phone }}</div>\n            </div>\n            <div class=\"w-full p-4 flex flex-col  border-b border-gray-200\">\n                <h3 class=\"-mt-2 mb-2 text-sm font-medium\">\n                    Today's Working Location\n                </h3>\n                <button\n                    btn\n                    matRipple\n                    today-location\n                    class=\"inverse rounded-3xl w-auto\"\n                    [matMenuTriggerFor]=\"menu\"\n                >\n                    <div class=\"flex items-center justify-between w-full\">\n                        <div class=\"uppercase flex-1 w-1/2\">{{ option }}</div>\n                        <app-icon class=\"text-2xl\">arrow_drop_down</app-icon>\n                    </div>\n                </button>\n                <div class=\"flex items-center pt-4 space-x-2\">\n                    <div\n                        class=\"h-8 w-8 rounded-full bg-gray-300 dark:bg-neutral-800 flex items-center justify-center\"\n                    >\n                        <app-icon>home</app-icon>\n                    </div>\n                    <div class=\"flex-1 w-1/2 text-sm\">\n                        Today is a working from home day. Available for online\n                        meetings.\n                    </div>\n                </div>\n            </div>\n            <div class=\"w-full p-4 flex flex-col\">\n                <h3 class=\"-mt-2 mb-2 text-sm font-medium\">\n                    Default Office Days\n                </h3>\n                <div\n                    class=\"border border-gray-200 rounded flex items-center justify-between px-2 pt-2\"\n                >\n                    <div\n                        class=\"flex flex-col items-center flex-1 w-px\"\n                        *ngFor=\"let day of weekdays; let i = index\"\n                    >\n                        <div class=\"text-sm font-light\">\n                            {{ day | date: 'EEE' }}\n                        </div>\n                        <div class=\"h-8 w-8 flex items-center justify-center\">\n                            <mat-checkbox\n                                [(ngModel)]=\"settings[available_weekdays[i]]\"\n                                (ngModelChange)=\"changed = true\"\n                            ></mat-checkbox>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"flex items-center justify-end px-4 pb-4\">\n                <button\n                    btn\n                    matRipple\n                    save\n                    [disabled]=\"!changed\"\n                    (click)=\"saveChanges()\"\n                >\n                    Update\n                </button>\n            </div>\n            <button\n                icon\n                matRipple\n                mat-dialog-close\n                class=\"absolute top-0 left-0\"\n            >\n                <app-icon>close</app-icon>\n            </button>\n        </div>\n        <mat-menu #menu=\"matMenu\">\n            <button\n                mat-menu-item\n                *ngFor=\"let type of options\"\n                [attr.id]=\"type.id\"\n                (click)=\"option = type.id; changed = true\"\n            >\n                {{ type.name }}\n            </button>\n        </mat-menu>\n        <ng-template #load_state>\n            <div\n                loading\n                class=\"relative bg-white flex flex-col justify-center items-center rounded overflow-hidden w-[18rem] h-[18rem]\"\n            >\n                <mat-spinner [diameter]=\"32\"></mat-spinner>\n                <p>Saving changes to work location settings...</p>\n            </div>\n        </ng-template>\n    `,\n    styles: [``],\n})\nexport class WFHSettingsModalComponent implements OnInit {\n    public readonly options = [\n        { id: 'wfo', name: 'Work from office (WFO)' },\n        { id: 'wfh', name: 'Work from home (WFH)' },\n        { id: 'aol', name: 'Away on Leave (AOL)' },\n    ];\n    public option = this.options[0].id;\n    public settings = [true, true, true, true, true, true, true];\n    public weekdays = [];\n    public changed = false;\n    public loading = false;\n    public readonly available_weekdays = [1, 2, 3, 4, 5];\n\n    private _booking: Booking = new Booking({\n        type: 'wfh-settings',\n        asset_id: this.options[0].id,\n    });\n\n    constructor(\n        private _settings: SettingsService,\n        private _dialog_ref: MatDialogRef<WFHSettingsModalComponent>\n    ) {}\n\n    public ngOnInit() {\n        this.settings = this._settings.get(WFH_SETTING_KEY) || [\n            true,\n            true,\n            true,\n            true,\n            true,\n            true,\n            true,\n        ];\n        this._initWeekdays();\n        this._loadOptionForToday();\n    }\n\n    public get user() {\n        return currentUser();\n    }\n\n    public async saveChanges() {\n        this.loading = true;\n        this._dialog_ref.disableClose = true;\n        if (\n            this.option !== this.options[0].id &&\n            this.option !== this._booking.asset_id\n        ) {\n            await saveBooking(\n                new Booking({ ...this._booking, asset_id: this.option })\n            )\n                .toPromise()\n                .catch((e) => {\n                    this._dialog_ref.disableClose = false;\n                    this.loading = false;\n                    throw e;\n                });\n        }\n        this._settings.saveUserSetting(WFH_SETTING_KEY, this.settings);\n        this.loading = false;\n        this._dialog_ref.close();\n    }\n\n    private _initWeekdays() {\n        let day = new Date();\n        this.weekdays = this.available_weekdays.map((_) =>\n            setDay(day, _).valueOf()\n        );\n    }\n\n    private async _loadOptionForToday() {\n        const list = await queryBookings({\n            type: 'wfh-setting',\n            period_start: getUnixTime(startOfDay(Date.now())),\n            period_end: getUnixTime(endOfDay(Date.now())),\n        }).toPromise();\n        if (list.length) {\n            this.option = list[0].asset_id;\n            this._booking = list[0];\n        }\n    }\n}\n"],"names":["RouterModule","AuthorisedUserGuard","MisconfiguredComponent","UnauthorisedComponent","RedirectComponent","routes","path","component","canActivate","canLoad","loadChildren","then","m","DashboardModule","AppLandingModule","BookModule","ExploreModule","ControlModule","DirectoryModule","AppScheduleModule","WhatsOnModule","redirectTo","pathMatch","AppRoutingModule","forRoot","useHash","imports","i1","exports","BrowserModule","BrowserAnimationsModule","ErrorHandler","FormsModule","Router","ServiceWorkerModule","MatSnackBarModule","MatNativeDateModule","HttpClientModule","HttpClient","TranslateModule","TranslateLoader","TranslateHttpLoader","AppComponent","environment","SharedOverlaysModule","Sentry","SharedComponentModule","SharedBookingsModule","HttpLoaderFactory","http","AppModule","bootstrap","provide","useValue","createErrorHandler","showDialog","TraceService","deps","register","enabled","production","defaultLanguage","loader","useFactory","declarations","i2","FormGroup","AsyncHandler","i0","ɵɵelementStart","ɵɵi18nStart","ɵɵelement","ɵɵelementEnd","ɵɵi18nEnd","ɵɵtemplate","BookingFormModalComponent_div_1_div_8_Template","ɵɵadvance","ɵɵproperty","ctx_r0","form","controls","organiser","BookingFormModalComponent","t","selectors","inputs","first_form","features","ɵɵInheritDefinitionFeature","decls","vars","consts","i18n_0","ngI18nClosureMode","$localize","BookingFormModalComponent_div_1_Template","BookingFormModalComponent_input_3_Template","BookingFormModalComponent_div_4_Template","ctx","notes","head_count","SimpleChanges","EventEmitter","ElementRef","dayjs","ɵɵtext","ɵɵtextInterpolate","blk_r6","short","EventTimelineComponent_div_5_div_1_Template","hour","ɵɵlistener","EventTimelineComponent_div_11_Template_div_click_0_listener","restoredCtx","ɵɵrestoreView","_r11","blk_r9","$implicit","ctx_r10","ɵɵnextContext","ɵɵresetView","setTime","ɵɵclassProp","unavailable","divider","ɵɵstyleProp","ctx_r3","vertical","model","today","EventTimelineComponent_div_13_Template_div_mousedown_1_listener","_r13","ctx_r12","setMove","EventTimelineComponent_div_13_Template_div_touchstart_1_listener","ctx_r14","EventTimelineComponent_div_13_Template_div_mousedown_2_listener","ctx_r15","EventTimelineComponent_div_13_Template_div_touchstart_2_listener","ctx_r16","EventTimelineComponent_div_13_Template_div_mousedown_3_listener","ctx_r17","EventTimelineComponent_div_13_Template_div_touchstart_3_listener","ctx_r18","ctx_r4","start_time","duration","EventTimelineComponent_div_14_div_4_Template_div_click_0_listener","_r24","grp_r19","remove","ctx_r26","event_r27","text","EventTimelineComponent_div_14_div_6_div_1_Template","blk_r25","events","EventTimelineComponent_div_14_div_4_Template","EventTimelineComponent_div_14_div_6_Template","name","blocks","EventTimelineComponent","constructor","date","valueOf","can_select","dateChange","durationChange","groupsChange","ngOnInit","start","minute","end","generateBlocks","updateTime","interval","now","tomorrow","add","startOf","timeout","updateStartEnd","Math","floor","diff","ngOnChanges","changes","groups","processGroups","updatePeriod","time","isBefore","push","id","format","display","grp","blk_end","filter","i","event_time","isAfter","isSame","checkInUseBlocks","map","event","hoursToDate","blk","find","timeToDate","timestamp","parts","split","period","resetMove","move","block","emit","e","content","center","x","touches","length","clientX","y","clientY","content_box","nativeElement","getBoundingClientRect","percent_w","left","width","percent_h","top","height","percent","end_time","diff_time","block_size","ceil","max","viewQuery","EventTimelineComponent_Query","rf","EventTimelineComponent_Template_div_mouseup_1_listener","ɵɵresolveWindow","EventTimelineComponent_Template_div_touchend_1_listener","EventTimelineComponent_div_5_Template","EventTimelineComponent_Template_div_mousemove_9_listener","$event","EventTimelineComponent_Template_div_touchmove_9_listener","EventTimelineComponent_div_11_Template","EventTimelineComponent_div_12_Template","EventTimelineComponent_div_13_Template","EventTimelineComponent_div_14_Template","ɵɵclassMap","klass","ɵɵpureFunction0","_c1","SettingsService","ɵɵi18n","new_features","_c2","_c3","ctx_r5","_c6","_c7","_c10","_c13","ctx_r8","_c16","_c17","FooterMenuComponent_div_0_Template_div_click_0_listener","_r10","ctx_r9","show_book_items","FooterMenuComponent_div_0_a_2_Template","FooterMenuComponent_div_0_a_3_Template","FooterMenuComponent_div_0_a_4_Template","FooterMenuComponent_div_0_a_5_Template","FooterMenuComponent_div_0_a_6_Template","ɵɵattribute","dark_mode","includes","FooterMenuComponent_div_1_Template_button_click_8_listener","_r12","ctx_r11","ctx_r1","ɵɵpureFunction1","_c22","default_page","_c23","FooterMenuComponent","_settings","get","ɵɵdirectiveInject","FooterMenuComponent_div_0_Template","FooterMenuComponent_div_1_Template","FooterMenuComponent_ng_template_2_Template","ɵɵtemplateRefExtractor","_r2","ExploreSearchService","option_r7","type","_c4","_c5","ɵɵpureFunction2","ɵɵtextInterpolate1","description","ɵɵelementContainerStart","GlobalSearchComponent_ng_container_14_a_1_Template","ɵɵelementContainerEnd","ɵɵpipeBind3","ɵɵpipeBind1","results","GlobalSearchComponent_ng_template_16_div_0_Template","tmp_0_0","GlobalSearchComponent","_service","search_results","loading","show","filter_str","setFilter","s","Object","showInput","_input_el","focus","clearTimeout","hideInput","GlobalSearchComponent_Query","GlobalSearchComponent_Template_button_click_1_listener","GlobalSearchComponent_Template_div_click_4_listener","GlobalSearchComponent_Template_input_ngModelChange_7_listener","GlobalSearchComponent_Template_input_blur_7_listener","GlobalSearchComponent_mat_spinner_9_Template","GlobalSearchComponent_div_12_Template","GlobalSearchComponent_ng_container_14_Template","GlobalSearchComponent_ng_template_16_Template","ɵɵpureFunction5","_c9","tmp_4_0","_r4","CommonModule","Type","ReactiveFormsModule","MatAutocompleteModule","MatButtonModule","ComponentsModule","FormFieldsModule","SharedEventsModule","SharedSpacesModule","PaymentsModule","AssetsModule","MatDialogModule","MatFormFieldModule","MatInputModule","MatProgressSpinnerModule","MatSelectModule","MatChipsModule","MatRippleModule","MatMenuModule","MatCheckboxModule","MatTabsModule","MatTooltipModule","MatRadioModule","MatProgressBarModule","MatExpansionModule","MatBadgeModule","MatSliderModule","MatSlideToggleModule","TopbarComponent","VerticalTimelineComponent","TopMenuComponent","COMPONENTS","MATERIAL_MODULES","forChild","OrganisationService","TopMenuComponent_a_8_span_5_Template","_c0","show_text","ɵɵnamespaceHTML","ɵɵnamespaceSVG","TopMenuComponent_a_9_span_4_Template","ctx_r2","TopMenuComponent_a_10_span_5_Template","TopMenuComponent_a_11_span_5_Template","TopMenuComponent_a_12_span_5_Template","TopMenuComponent_a_13_span_5_Template","ctx_r6","TopMenuComponent_a_14_span_5_Template","ctx_r7","_c19","_c20","url","_router","_org","buildings","building_list","building","active_building","setBuilding","b","i3","i18n_2","TopMenuComponent_span_6_Template","TopMenuComponent_a_8_Template","TopMenuComponent_a_9_Template","TopMenuComponent_a_10_Template","TopMenuComponent_a_11_Template","TopMenuComponent_a_12_Template","TopMenuComponent_a_13_Template","TopMenuComponent_a_14_Template","_c21","currentUser","UserControlsComponent","title","logo_dark","src","ɵɵsanitizeUrl","logo","EMPTY","value","search","user","user_controls","template","TopbarComponent_Template","TopbarComponent_img_2_Template","TopbarComponent_img_3_Template","TopbarComponent_span_4_Template","TopbarComponent_global_search_8_Template","formatDuration","item_r4","VerticalTimelineComponent_div_3_div_1_Template","item_r7","disabled","offset","timeline_start","timeline_end","endOf","minutes","active_move","off","active_start","active_length","VerticalTimelineComponent_Query","VerticalTimelineComponent_Template_div_mouseup_0_listener","VerticalTimelineComponent_Template_div_touchend_0_listener","VerticalTimelineComponent_Template_div_mousemove_1_listener","VerticalTimelineComponent_Template_div_touchmove_1_listener","VerticalTimelineComponent_div_3_Template","VerticalTimelineComponent_div_6_Template","VerticalTimelineComponent_Template_div_mousedown_9_listener","VerticalTimelineComponent_Template_div_touchstart_9_listener","VerticalTimelineComponent_Template_div_mousedown_11_listener","VerticalTimelineComponent_Template_div_touchstart_11_listener","VerticalTimelineComponent_Template_div_mousedown_12_listener","VerticalTimelineComponent_Template_div_touchstart_12_listener","ViewAttendeesModalComponent","ViewCateringModalComponent","RecurrenceModalComponent","UserAvailabilityModalComponent","OVERLAYS","FormControl","Validators","MAT_DIALOG_DATA","type_r8","RecurrenceModalComponent_main_6_form_1_div_1_Template_mat_select_ngModelChange_4_listener","selected_pattern","changePattern","RecurrenceModalComponent_main_6_form_1_div_1_mat_option_5_Template","patterns","errors","touched","RecurrenceModalComponent_main_6_form_1_div_1_Template","RecurrenceModalComponent_main_6_form_1_div_2_Template","pattern","RecurrenceModalComponent_main_6_form_1_Template","RecurrenceModalComponent_footer_7_Template_button_click_1_listener","save","RECURRENCE_METADATA","maxHeight","maxWidth","_data","details","required","patchValue","markAllAsTouched","valid","reason","metadata","outputs","RecurrenceModalComponent_Template","RecurrenceModalComponent_main_6_Template","RecurrenceModalComponent_footer_7_Template","RecurrenceModalComponent_ng_template_8_Template","BehaviorSubject","debounceTime","switchMap","endOfDay","getUnixTime","startOfDay","queryEvents","UserAvailabilityModalComponent_ng_container_9_Template_vertical_timeline_dateChange_2_listener","UserAvailabilityModalComponent_ng_container_9_Template_vertical_timeline_durationChange_2_listener","UserAvailabilityModalComponent_ng_container_9_Template_vertical_timeline_groupsChange_2_listener","UserAvailabilityModalComponent_ng_container_9_Template_event_timeline_dateChange_4_listener","UserAvailabilityModalComponent_ng_container_9_Template_event_timeline_durationChange_4_listener","UserAvailabilityModalComponent_ng_container_9_Template_event_timeline_groupsChange_4_listener","Date","date$","users","loadAvailability","pipe","subscribe","res","_this","_asyncToGenerator","period_start","period_end","result","Promise","all","_ref","email","calendars","toPromise","catch","err","_x","apply","arguments","changeDate","new_date","next","is_past","UserAvailabilityModalComponent_Template","UserAvailabilityModalComponent_Template_a_date_field_ngModelChange_8_listener","UserAvailabilityModalComponent_ng_container_9_Template","UserAvailabilityModalComponent_Template_button_click_14_listener","UserAvailabilityModalComponent_ng_template_16_Template","_r1","item_r1","ɵɵpropertyInterpolate1","attendees","ɵɵNgOnChangesFeature","ViewAttendeesModalComponent_Template","ViewAttendeesModalComponent_div_6_Template","MatDialog","item","qty","_dialog","catering_items_total","data","catering","catering_note","reduce","total","quantity","edit","closeAll","navigate","ViewCateringModalComponent_Template","ViewCateringModalComponent_ng_container_10_Template","ViewCateringModalComponent_Template_button_click_22_listener","enableProdMode","__NgCli_bootstrap_1","platformBrowser","bootstrapModule","console","error","AssetGroup","showAssetGroup","ASSET_GROUP_LIST","EMPTY_ASSET_GROUP","updateAssetGroupList","assetgroup_list","assetgroup","AssetGroupPipe","transform","group_id","asset_group","group","_","pure","forwardRef","NG_VALUE_ACCESSOR","AssetSelectModalComponent","AssetStateService","asset_r1","images","AssetListFieldComponent_div_1_img_2_Template","AssetListFieldComponent_div_1_ng_template_3_Template","AssetListFieldComponent_div_1_Template_button_click_13_listener","_r7","addAssetGroups","AssetListFieldComponent_div_1_Template_button_click_17_listener","removeAssetGroup","AssetListFieldComponent_div_1_Template_button_click_21_listener","toggleFavourite","_r3","tmp_2_0","ɵɵi18nExp","amount","ɵɵi18nApply","favorites","EMPTY_FAVS","AssetListFieldComponent","_state","items","selected","registerOnChange","fn","_onChange","registerOnTouched","_onTouch","setDisabledState","setOptions","setValue","new_value","writeValue","asset","updated_list","ref","open","afterClosed","componentInstance","assets","slice","fav_list","new_state","saveUserSetting","ɵɵProvidersFeature","useExisting","multi","AssetListFieldComponent_div_1_Template","AssetListFieldComponent_Template_button_click_2_listener","AssetDetailsComponent_ng_container_0_Template_button_click_3_listener","close","AssetDetailsComponent_ng_container_0_Template_button_click_6_listener","toggleFav","AssetDetailsComponent_ng_container_0_Template_a_counter_ngModelChange_16_listener","countChange","AssetDetailsComponent_ng_container_0_Template_button_click_25_listener","active","activeChange","fav","AssetDetailsComponent","AssetDetailsComponent_Template","AssetDetailsComponent_ng_container_0_Template","AssetDetailsComponent_ng_template_1_Template","AssetFiltersDisplayComponent","AssetFiltersDisplayComponent_Template","AssetFiltersComponent","AssetFiltersComponent_Template","combineLatest","asset_r7","AssetListComponent_ng_container_6_ul_1_li_1_Template_button_click_1_listener","_r15","selectAsset","AssetListComponent_ng_container_6_ul_1_li_1_div_3_Template","AssetListComponent_ng_container_6_ul_1_li_1_img_4_Template","AssetListComponent_ng_container_6_ul_1_li_1_ng_template_5_Template","AssetListComponent_ng_container_6_ul_1_li_1_Template_button_click_16_listener","category","isFavourite","AssetListComponent_ng_container_6_ul_1_li_1_Template","AssetListComponent_ng_container_6_ul_1_Template","AssetListComponent","_asset_state","selected_items","onSelect","counts","filtered_assets","asset_id","AssetListComponent_Template","AssetListComponent_ng_container_6_Template","AssetListComponent_ng_template_8_Template","AssetListComponent_ng_template_10_Template","AssetSelectModalComponent_button_14_Template_button_click_0_listener","displayed","selected_ids","join","count","isSelected","_items","setSelected","state","list","updateSelectedCount","AssetSelectModalComponent_Template","AssetSelectModalComponent_Template_asset_list_toggleFav_11_listener","AssetSelectModalComponent_Template_asset_list_onSelect_11_listener","AssetSelectModalComponent_Template_asset_details_activeChange_12_listener","AssetSelectModalComponent_Template_asset_details_countChange_12_listener","AssetSelectModalComponent_Template_asset_details_toggleFav_12_listener","AssetSelectModalComponent_Template_asset_details_close_12_listener","AssetSelectModalComponent_button_14_Template","AssetSelectModalComponent_Template_button_click_26_listener","of","catchError","shareReplay","tap","queryAssets","queryGroupAvailability","queryBookings","addMinutes","endOfMinute","startOfMinute","_options","_search","_loading","asObservable","asset_list","getValue","replace","asset_bookings","zone","zones","available_groups","ignore","bld","zone_id","sort","a","localeCompare","toLowerCase","setSearch","options","ɵɵinject","factory","ɵfac","providedIn","AssetCategory","parent_category_id","created_at","updated_at","assign","AssetPurchaseOrder","Asset","type_id","serial_number","identifier","other_data","purchase_order_id","flatten","generateAssetCategoryForm","generateAssetPurchaseOrderForm","order","order_number","purchase_order_number","invoice_number","unit_price","purchase_date","expected_service_start_date","depreciation_start_date","expected_service_end_date","depreciation_end_date","generateAssetGroupForm","category_id","brand","generateAssetForm","assetsToGroups","asset_type_id","groupsToAssets","cleanObject","del","post","put","toQueryString","createBooking","removeBooking","Booking","BASE_ENDPOINT","queryAssetCategories","query","q","addAssetCategory","undefined","updateAssetCategory","saveAssetCategory","showAssetCategory","deleteAssetCategory","queryAssetGroups","addAssetGroup","product","updateAssetGroup","saveAssetGroup","deleteAssetGroup","addAsset","updateAsset","saveAsset","showAsset","deleteAsset","addAssetsInBulk","updateAssetsInBulk","saveAssetsInBulk","every","deleteAssetsInBulk","id_list","body","queryAssetPurchaseOrders","addAssetPurchaseOrder","updateAssetPurchaseOrder","saveAssetPurchaseOrder","showAssetPurchaseOrder","deleteAssetPurchaseOrder","getGroupsWithAssets","products","showGroupFull","categories","purchase_orders","queryAvailableAssets","bookings","booking","removeAssetRequests","_removeAssetRequests","requests","request","updateAssetRequestsForResource","_x2","_x3","_x4","_x5","_updateAssetRequestsForResource","ical_uid","host","location_name","location_id","new_assets","old_assets","event_id","filtered","extension_data","parent_id","booking_type","user_email","asset_name","MODULE_COMPONENTS","ActivatedRoute","isSameDay","BookingDetailsModalComponent","day","BookingCardComponent_h4_0_span_1_Template","show_day","ɵɵpipeBind2","location","BookingCardComponent_a_1_Template_a_click_0_listener","_r9","viewDetails","BookingCardComponent_a_1_app_icon_13_Template","BookingCardComponent_a_1_div_16_Template","BookingCardComponent_a_1_div_19_Template","is_done","status","for_current_user","BookingCardComponent","_route","subscription","queryParamMap","params","has","is_today","level","levelWithID","display_name","all_day","dur","hours","BookingCardComponent_Template","BookingCardComponent_h4_0_Template","BookingCardComponent_a_1_Template","BookingCardComponent_ng_template_2_Template","notifySuccess","MapLocateModalComponent","MapPinComponent","checkinBooking","checked_in","BookingDetailsModalComponent_div_14_button_1_Template_button_click_0_listener","toggleCheckedIn","BookingDetailsModalComponent_div_14_button_1_div_1_Template","BookingDetailsModalComponent_div_14_button_1_ng_template_2_Template","checking_in","BookingDetailsModalComponent_div_14_button_1_Template","auto_checkin","map_id","BookingDetailsModalComponent_button_47_Template_button_click_0_listener","_r14","ctx_r13","BookingDetailsModalComponent_button_48_Template_button_click_0_listener","_r16","is_in_progress","ts","booking_start","booking_end","_booking","hide_map","viewLocation","BookingDetailsModalComponent_div_2_Template","BookingDetailsModalComponent_div_3_Template","BookingDetailsModalComponent_div_14_Template","BookingDetailsModalComponent_Template_button_click_40_listener","BookingDetailsModalComponent_interactive_map_41_Template","BookingDetailsModalComponent_button_47_Template","BookingDetailsModalComponent_button_48_Template","ɵɵtextInterpolate2","address","NavigationEnd","getInvalidFields","notifyError","openConfirmModal","unique","listChildMetadata","showMetadata","set","merge","timer","distinctUntilKeyChanged","first","take","generateBookingForm","saveBooking","DeskQuestionsModalComponent","findNearbyFeature","PaymentsService","BookingLinkModalComponent","BOOKING_URLS","BookingFormService","view","_view","resourceUserName","_resource_use","newForm","reset","valueChanges","storeForm","_payments","last_success","JSON","parse","sessionStorage","getItem","resources","loadResourceList","resource","Array","forEach","restrictions","available_resources","getRawValue","restriction","user_name","some","bookable","bkn","grouped_availability","members","pop","clearForm","initialised","setView","setFeature","feature","enable","splice","findIndex","resetForm","booked_by","removeItem","setItem","stringify","loadForm","booking_data","clearOldState","openBookingLinkModal","force","confirmPost","checkQuestions","icon","postFormForGroup","postForm","ignore_check","_this2","checkResourceAvailable","payment_module","receipt","makePayment","resource_name","success","invoice","invoice_id","user_id","department","approved","booked_by_email","_this3","extra_members","active_resource","_getNearbyResources","group_members","idx","group_name","organisation","_this4","race","key","_this5","allowed_bookings","current","d","lockers","bank_id","map_url","nearby_resources","i4","i5","generateCalendarFileLink","generateGoogleCalendarLink","generateMicrosoftCalendarLink","_event","outlook_link","google_link","ical_link","capitalizeFirstLetter","removeEmptyFields","addHours","differenceInMinutes","roundToNearestMinutes","IGNORE_EXT_KEYS","nearestTo","abs","timezone","Intl","DateTimeFormat","resolvedOptions","timeZone","trim","rejected","deleted","booked_by_id","booked_by_name","approver_id","approver_email","approver_name","access","checked_out_at","linked_event","toJSON","checked_out","getTime","endInFuture","createViewer","getViewer","removeViewer","booking_asset","company","secondary_resource","other_asset_type","v","booker","emitEvent","disable","_findNearbyFeature","centered_at","desk_ids","element","document","createElement","style","position","appendChild","viewer","point","mappings","dist","closest","desk","sqrt","removeChild","newBookingFromCalendarEvent","system","patch","GuestUser","BOOKINGS_ENDPOINT","showBooking","encodeURIComponent","updateBooking","method","response_type","approveBooking","rejectBooking","checkinBookingAttendee","queryResourceAvailability","isResourceAvailable","MatDatepickerModule","DeskConfirmModalComponent","DeskDetailsComponent","DeskFiltersDisplayComponent","DeskFiltersComponent","DeskListComponent","DeskMapComponent","DeskSelectModalComponent","InviteVisitorFormComponent","ParkingSpaceDetailsComponent","ParkingSpaceFiltersDisplayComponent","ParkingSpaceFiltersComponent","ParkingSpaceListComponent","ParkingSpaceLocationPinComponent","ParkingSpaceSelectMapComponent","ParkingSpaceSelectModalComponent","ParkingSpaceListFieldComponent","DeskListFieldComponent","LockerGridComponent","LockerSelectModalComponent","LockerListFieldComponent","LockerFiltersComponent","LockerFiltersDisplayComponent","LockerBankListComponent","LockerMapComponent","DeskConfirmModalComponent_ng_container_5_div_2_Template_a_user_search_field_ngModelChange_3_listener","DeskConfirmModalComponent_ng_container_5_a_date_field_7_Template_a_date_field_ngModelChange_0_listener","DeskConfirmModalComponent_ng_container_5_div_8_Template_input_ngModelChange_4_listener","DeskConfirmModalComponent_ng_container_5_div_2_Template","DeskConfirmModalComponent_ng_container_5_div_6_Template","DeskConfirmModalComponent_ng_container_5_a_date_field_7_Template","DeskConfirmModalComponent_ng_container_5_div_8_Template","DeskConfirmModalComponent_ng_container_5_Template_button_click_12_listener","confirm","can_set_host","can_set_date","hide_reason","desks","desk_list","DeskConfirmModalComponent_button_4_Template","DeskConfirmModalComponent_ng_container_5_Template","DeskConfirmModalComponent_ng_template_6_Template","FAV_DESK_KEY","DeskListFieldComponent_div_1_div_1_mat_checkbox_4_Template_mat_checkbox_ngModelChange_0_listener","opt_r7","selected_features","DeskListFieldComponent_div_1_div_1_mat_checkbox_4_Template","DeskListFieldComponent_div_1_div_1_Template","DeskListFieldComponent_div_1_img_3_Template","DeskListFieldComponent_div_1_ng_template_4_Template","DeskListFieldComponent_div_1_Template_button_click_15_listener","changeResources","DeskListFieldComponent_div_1_Template_button_click_19_listener","removeResource","DeskListFieldComponent_div_1_Template_button_click_23_listener","room_size","capacity","space","DeskListFieldComponent_div_1_Template","DeskListFieldComponent_Template_button_click_2_listener","DialogEvent","DeskQuestionsModalComponent_div_0_Template_button_click_32_listener","submit","travelled","unwell","contact","keys","failure","DeskQuestionsModalComponent_div_0_Template","DeskQuestionsModalComponent_ng_template_1_Template","feat_r7","DeskDetailsComponent_ng_container_0_section_31_div_3_Template","_c8","DeskDetailsComponent_ng_container_0_image_carousel_2_Template","DeskDetailsComponent_ng_container_0_Template_button_click_3_listener","DeskDetailsComponent_ng_container_0_Template_button_click_6_listener","DeskDetailsComponent_ng_container_0_section_31_Template","DeskDetailsComponent_ng_container_0_section_32_Template","DeskDetailsComponent_ng_container_0_Template_button_click_34_listener","updateFeature","i18n_3","DeskDetailsComponent_ng_container_0_Template","DeskDetailsComponent_ng_template_1_Template","MatBottomSheet","DeskFiltersDisplayComponent_div_16_Template_button_click_3_listener","feat_r2","DeskFiltersDisplayComponent_div_18_Template_button_click_3_listener","_r6","show_fav","_bsheet","viewChange","o","f","editFilter","DeskFiltersDisplayComponent_Template_button_click_1_listener","DeskFiltersDisplayComponent_Template_button_click_4_listener","DeskFiltersDisplayComponent_Template_button_click_6_listener","DeskFiltersDisplayComponent_div_16_Template","DeskFiltersDisplayComponent_div_18_Template","tmp_5_0","MatBottomSheetRef","addDays","DeskFiltersComponent_button_2_Template_button_click_0_listener","bld_r9","DeskFiltersComponent_div_10_Template_mat_select_ngModelChange_4_listener","DeskFiltersComponent_div_10_mat_option_5_Template","lvl_r14","DeskFiltersComponent_div_12_Template_mat_select_ngModelChange_4_listener","DeskFiltersComponent_div_12_mat_option_5_Template","levels","DeskFiltersComponent_section_40_div_3_Template_mat_checkbox_ngModelChange_3_listener","_r20","feat_r18","ctx_r19","tmp_1_0","DeskFiltersComponent_section_40_div_3_Template","DeskFiltersComponent_div_42_Template_button_click_1_listener","_r22","ctx_r21","allow_time_changes","allow_all_day","end_date","_bsheet_ref","can_close","active_buildings","active_levels","dismiss","setLevel","l","DeskFiltersComponent_button_2_Template","DeskFiltersComponent_div_10_Template","DeskFiltersComponent_div_12_Template","DeskFiltersComponent_Template_a_time_field_ngModelChange_24_listener","DeskFiltersComponent_div_29_Template","DeskFiltersComponent_Template_mat_checkbox_ngModelChange_38_listener","DeskFiltersComponent_section_40_Template","DeskFiltersComponent_div_42_Template","tmp_3_0","tmp_8_0","tmp_15_0","tmp_17_0","desk_r7","DeskListComponent_ng_container_5_ul_1_li_1_Template_button_click_1_listener","selectDesk","DeskListComponent_ng_container_5_ul_1_li_1_div_3_Template","DeskListComponent_ng_container_5_ul_1_li_1_img_4_Template","DeskListComponent_ng_container_5_ul_1_li_1_ng_template_5_Template","DeskListComponent_ng_container_5_ul_1_li_1_Template_button_click_15_listener","DeskListComponent_ng_container_5_ul_1_li_1_Template","DeskListComponent_ng_container_5_ul_1_Template","desk_id","DeskListComponent_ng_container_5_Template","DeskListComponent_ng_template_7_Template","DeskListComponent_ng_template_9_Template","DEFAULT_COLOURS","ExploreDeskInfoComponent","lvl_r1","is_displayed","zoom","_change","actions","action","callback","full_size","no_scale","z_index","styles","free_desks","colours","fill","setZoom","new_zoom","min","resetMap","DeskMapComponent_Template","DeskMapComponent_Template_mat_select_ngModelChange_2_listener","DeskMapComponent_mat_option_3_Template","DeskMapComponent_Template_i_map_zoomChange_6_listener","DeskMapComponent_Template_i_map_centerChange_6_listener","DeskMapComponent_Template_button_click_11_listener","DeskMapComponent_Template_button_click_15_listener","DeskMapComponent_Template_button_click_19_listener","MatDialogRef","DeskSelectModalComponent_desk_list_16_Template_desk_list_toggleFav_0_listener","_r5","DeskSelectModalComponent_desk_list_16_Template_desk_list_onSelect_0_listener","DeskSelectModalComponent_button_19_Template_button_click_0_listener","_r8","DeskSelectModalComponent_ng_template_37_Template_desk_map_onSelect_0_listener","_dialog_ref","_event_form","DeskSelectModalComponent_Template_button_click_8_listener","DeskSelectModalComponent_Template_button_click_10_listener","DeskSelectModalComponent_Template_desk_filters_display_viewChange_15_listener","DeskSelectModalComponent_desk_list_16_Template","DeskSelectModalComponent_Template_desk_details_activeChange_17_listener","DeskSelectModalComponent_Template_desk_details_toggleFav_17_listener","DeskSelectModalComponent_Template_desk_details_close_17_listener","DeskSelectModalComponent_button_19_Template","DeskSelectModalComponent_Template_button_click_31_listener","DeskSelectModalComponent_ng_template_37_Template","DesksService","error_on_host","bookDesk","makeDeskBooking","for_user","randomString","User","bld_r12","InviteVisitorFormComponent_ng_container_0_div_1_form_4_div_1_Template_mat_select_ngModelChange_5_listener","InviteVisitorFormComponent_ng_container_0_div_1_form_4_div_1_mat_option_6_Template","InviteVisitorFormComponent_ng_container_0_div_1_form_4_ng_container_18_mat_option_9_Template_mat_option_click_0_listener","_r21","item_r19","ctx_r20","setVisitor","InviteVisitorFormComponent_ng_container_0_div_1_form_4_ng_container_18_mat_option_20_Template_mat_option_click_0_listener","item_r22","ctx_r23","InviteVisitorFormComponent_ng_container_0_div_1_form_4_ng_container_18_Template_input_focus_6_listener","_r26","ctx_r25","filterVisitors","InviteVisitorFormComponent_ng_container_0_div_1_form_4_ng_container_18_mat_option_9_Template","InviteVisitorFormComponent_ng_container_0_div_1_form_4_ng_container_18_Template_input_focus_15_listener","ctx_r27","InviteVisitorFormComponent_ng_container_0_div_1_form_4_ng_container_18_mat_option_20_Template","filtered_visitors","_r17","InviteVisitorFormComponent_ng_container_0_div_1_form_4_div_1_Template","InviteVisitorFormComponent_ng_container_0_div_1_form_4_ng_container_18_Template","multiple","InviteVisitorFormComponent_ng_container_0_div_1_form_4_Template","InviteVisitorFormComponent_ng_container_0_div_1_Template_button_click_6_listener","_r29","ctx_r28","sendInvite","InviteVisitorFormComponent_ng_container_0_div_1_Template","loading_many","ɵɵelementContainer","InviteVisitorFormComponent_ng_template_1_ng_container_4_Template","InviteVisitorFormComponent_ng_template_1_ng_container_5_Template","InviteVisitorFormComponent_ng_template_1_ng_container_10_Template","InviteVisitorFormComponent_ng_template_1_ng_container_11_Template","InviteVisitorFormComponent_ng_template_1_Template_button_click_16_listener","_r35","ctx_r34","onDone","InviteVisitorFormComponent_ng_template_1_Template_button_click_18_listener","ctx_r36","sent","done","last_count","visitors","initFormZone","setValidators","visitor_details","old_visitors","_bookForMany","_bookForOne","InviteVisitorFormComponent_ng_container_0_Template","InviteVisitorFormComponent_ng_template_1_Template","InviteVisitorFormComponent_ng_template_3_Template","InviteVisitorFormComponent_ng_template_5_Template","LockerGridComponent_button_3_Template_button_click_0_listener","locker_r1","clicked","size","columns","locker","bank","bank_status","LockerGridComponent_Template","LockerGridComponent_button_3_Template","FAV_LOCKER_KEY","LockerListFieldComponent_div_1_div_1_mat_checkbox_4_Template_mat_checkbox_ngModelChange_0_listener","opt_r8","LockerListFieldComponent_div_1_div_1_mat_checkbox_4_Template","LockerListFieldComponent_div_1_div_1_Template","LockerListFieldComponent_div_1_img_3_Template","LockerListFieldComponent_div_1_ng_template_4_Template","LockerListFieldComponent_div_1_div_14_Template","LockerListFieldComponent_div_1_Template_button_click_16_listener","LockerListFieldComponent_div_1_Template_button_click_20_listener","LockerListFieldComponent_div_1_Template_button_click_24_listener","accessible","LockerListFieldComponent_div_1_Template","LockerListFieldComponent_Template_button_click_2_listener","LockersService","locker_bank_r7","LockerBankListComponent_ng_container_5_ul_1_li_1_Template_button_click_1_listener","selectLockerBank","LockerBankListComponent_ng_container_5_ul_1_li_1_div_3_Template","LockerBankListComponent_ng_container_5_ul_1_li_1_img_4_Template","LockerBankListComponent_ng_container_5_ul_1_li_1_ng_template_5_Template","LockerBankListComponent_ng_container_5_ul_1_li_1_Template_button_click_20_listener","available","LockerBankListComponent_ng_container_5_ul_1_li_1_Template","locker_banks","LockerBankListComponent_ng_container_5_ul_1_Template","_lockers","lockers_banks$","banks","locker_bank_id","locker_bank","LockerBankListComponent_ng_container_5_Template","LockerBankListComponent_ng_template_7_Template","LockerBankListComponent_ng_template_9_Template","LockerFiltersDisplayComponent_div_16_Template_button_click_3_listener","LockerFiltersDisplayComponent_div_18_Template_button_click_3_listener","LockerFiltersDisplayComponent_Template_button_click_1_listener","LockerFiltersDisplayComponent_Template_button_click_4_listener","LockerFiltersDisplayComponent_Template_button_click_6_listener","LockerFiltersDisplayComponent_div_16_Template","LockerFiltersDisplayComponent_div_18_Template","LockerFiltersComponent_button_2_Template_button_click_0_listener","bld_r8","LockerFiltersComponent_div_10_Template_mat_select_ngModelChange_4_listener","LockerFiltersComponent_div_10_mat_option_5_Template","lvl_r13","LockerFiltersComponent_div_12_Template_mat_select_ngModelChange_4_listener","LockerFiltersComponent_div_12_mat_option_5_Template","LockerFiltersComponent_section_39_div_3_Template_mat_checkbox_ngModelChange_3_listener","_r19","feat_r17","LockerFiltersComponent_section_39_div_3_Template","LockerFiltersComponent_div_41_Template_button_click_1_listener","LockerFiltersComponent_button_2_Template","LockerFiltersComponent_div_10_Template","LockerFiltersComponent_div_12_Template","LockerFiltersComponent_Template_a_time_field_ngModelChange_24_listener","LockerFiltersComponent_Template_mat_checkbox_ngModelChange_37_listener","LockerFiltersComponent_section_39_Template","LockerFiltersComponent_div_41_Template","tmp_14_0","tmp_16_0","ExploreLockerBankInfoComponent","selectLocker","free_lockers","LockerMapComponent_Template","LockerMapComponent_Template_i_map_zoomChange_0_listener","LockerMapComponent_Template_i_map_centerChange_0_listener","LockerMapComponent_Template_mat_select_ngModelChange_6_listener","LockerMapComponent_mat_option_7_Template","LockerMapComponent_Template_button_click_10_listener","LockerMapComponent_Template_button_click_14_listener","LockerMapComponent_Template_button_click_18_listener","LockerSelectModalComponent_ng_container_16_locker_bank_list_1_Template_locker_bank_list_toggleFav_0_listener","LockerSelectModalComponent_ng_container_16_locker_bank_list_1_Template_locker_bank_list_onSelect_0_listener","LockerSelectModalComponent_ng_container_16_locker_bank_list_1_Template","LockerSelectModalComponent_button_18_Template_button_click_0_listener","LockerSelectModalComponent_button_31_Template_button_click_0_listener","LockerSelectModalComponent_ng_template_38_Template_locker_map_onSelect_0_listener","LockerSelectModalComponent_ng_template_40_Template_locker_grid_clicked_0_listener","_r18","LockerSelectModalComponent_Template_button_click_8_listener","LockerSelectModalComponent_Template_button_click_10_listener","LockerSelectModalComponent_Template_locker_filters_display_viewChange_15_listener","LockerSelectModalComponent_ng_container_16_Template","LockerSelectModalComponent_button_18_Template","LockerSelectModalComponent_button_31_Template","LockerSelectModalComponent_Template_button_click_32_listener","LockerSelectModalComponent_ng_template_38_Template","LockerSelectModalComponent_ng_template_40_Template","PlaceMetadata","updateMetadata","_level","lockers$","bank_list","level_id","filtered_lockers$","saveLockers","ParkingSpaceDetailsComponent_ng_container_0_image_carousel_2_Template","ParkingSpaceDetailsComponent_ng_container_0_Template_button_click_3_listener","ParkingSpaceDetailsComponent_ng_container_0_Template_button_click_6_listener","ParkingSpaceDetailsComponent_ng_container_0_Template_button_click_54_listener","_c12","_updateFeature","ParkingSpaceDetailsComponent_ng_container_0_Template","ParkingSpaceDetailsComponent_ng_template_1_Template","EventFormService","ParkingSpaceFiltersDisplayComponent_div_20_Template_button_click_3_listener","removeFeature","editFilters","zone_ids","_updateLocation","feat","ParkingSpaceFiltersDisplayComponent_Template_button_click_1_listener","ParkingSpaceFiltersDisplayComponent_Template_button_click_4_listener","ParkingSpaceFiltersDisplayComponent_Template_button_click_6_listener","ParkingSpaceFiltersDisplayComponent_div_9_Template","ParkingSpaceFiltersDisplayComponent_div_20_Template","capcaity","tmp_6_0","ParkingSpaceFiltersComponent_button_2_Template_button_click_0_listener","lvl_r6","ParkingSpaceFiltersComponent_section_43_div_3_Template_mat_checkbox_ngModelChange_3_listener","feat_r8","toggleFeature","ParkingSpaceFiltersComponent_section_43_div_3_Template","ParkingSpaceFiltersComponent_div_45_Template_button_click_1_listener","_form","max_duration","level_list","lvl","new_list","ParkingSpaceFiltersComponent_button_2_Template","ParkingSpaceFiltersComponent_Template_mat_select_ngModelChange_14_listener","ParkingSpaceFiltersComponent_mat_option_16_Template","ParkingSpaceFiltersComponent_Template_a_time_field_ngModelChange_29_listener","ParkingSpaceFiltersComponent_Template_mat_checkbox_ngModelChange_41_listener","ParkingSpaceFiltersComponent_section_43_Template","ParkingSpaceFiltersComponent_div_45_Template","tmp_11_0","tmp_13_0","space_r7","ParkingSpaceListComponent_ng_container_5_ul_1_li_1_Template_button_click_1_listener","selectSpace","ParkingSpaceListComponent_ng_container_5_ul_1_li_1_div_3_Template","ParkingSpaceListComponent_ng_container_5_ul_1_li_1_img_4_Template","ParkingSpaceListComponent_ng_container_5_ul_1_li_1_ng_template_5_Template","ParkingSpaceListComponent_ng_container_5_ul_1_li_1_Template_button_click_20_listener","ParkingSpaceListComponent_ng_container_5_ul_1_li_1_Template","ParkingSpaceListComponent_ng_container_5_ul_1_Template","space_id","ParkingSpaceListComponent_ng_container_5_Template","ParkingSpaceListComponent_ng_template_7_Template","ParkingSpaceListComponent_ng_template_9_Template","MAP_FEATURE_DATA","ParkingSpaceLocationPinComponent_Template","ParkingSpaceLocationPinComponent_div_15_Template","ParkingSpaceLocationPinComponent_app_icon_16_Template","ParkingSpaceSelectMapComponent_i_map_0_Template_i_map_zoomChange_0_listener","ParkingSpaceSelectMapComponent_i_map_0_Template_i_map_centerChange_0_listener","opt_r5","_seletedSpace","available_spaces","ParkingSpaceSelectMapComponent_Template","ParkingSpaceSelectMapComponent_i_map_0_Template","ParkingSpaceSelectMapComponent_Template_mat_select_ngModelChange_3_listener","ParkingSpaceSelectMapComponent_mat_option_4_Template","ParkingSpaceSelectMapComponent_Template_button_click_7_listener","ParkingSpaceSelectMapComponent_Template_button_click_11_listener","ParkingSpaceSelectMapComponent_Template_button_click_15_listener","ParkingSpaceSelectModalComponent_parking_space_list_11_Template_parking_space_list_toggleFav_0_listener","ParkingSpaceSelectModalComponent_parking_space_list_11_Template_parking_space_list_onSelect_0_listener","ParkingSpaceSelectModalComponent_button_14_Template_button_click_0_listener","ParkingSpaceSelectModalComponent_ng_template_32_Template_parking_space_map_onSelect_0_listener","FAV_PARKING_KEY","spaces","ParkingSpaceSelectModalComponent_Template_parking_space_filters_display_viewChange_10_listener","ParkingSpaceSelectModalComponent_parking_space_list_11_Template","ParkingSpaceSelectModalComponent_Template_parking_space_details_activeChange_12_listener","ParkingSpaceSelectModalComponent_Template_parking_space_details_toggleFav_12_listener","ParkingSpaceSelectModalComponent_Template_parking_space_details_close_12_listener","ParkingSpaceSelectModalComponent_button_14_Template","ParkingSpaceSelectModalComponent_Template_button_click_26_listener","ParkingSpaceSelectModalComponent_ng_template_32_Template","space_r1","ParkingSpaceListFieldComponent_div_1_img_2_Template","ParkingSpaceListFieldComponent_div_1_ng_template_3_Template","ParkingSpaceListFieldComponent_div_1_Template_button_click_19_listener","ParkingSpaceListFieldComponent_div_1_Template_button_click_23_listener","ParkingSpaceListFieldComponent_div_1_Template_button_click_27_listener","ParkingSpaceListFieldComponent_div_1_Template","ParkingSpaceListFieldComponent_Template_button_click_2_listener","Space","Calendar","primary","summary","can_edit","availability","starts_at","ends_at","hidden","CALENDAR_ENDPOINT","queryCalendars","c","queryCalendarAvailability","calendarsToSpaces","org","cal","querySpaceCalendarAvailability","queryUserFreeBusy","querySpaceFreeBusy","CateringItem","custom_id","option_list","in_order","discount_cap","accept_points","tags","has_options","hide_for_zones","unit_price_with_options","total_cost","options_string","randomInt","CateringOrder","system_id","item_count","charge_code","deliver_at","trigger","transition","animate","ANIMATION_SHOW_ENTER_LEAVE","opacity","ANIMATION_SHOW_CONTRACT_EXPAND","str","log","notifyInfo","_timer","setupCache","cache","isEnabled","clearInterval","setInterval","activateUpdate","clearCacheCheck","_activateUpdate","checkForUpdate","reload","Subscription","_timers","_intervals","_subscriptions","_initialised","is_initialised","ngOnDestroy","destroy","unsub","delay","Function","setTimeout","Error","hasSubscription","unsubscribe","unsubWith","contains","subs","k","localToTimezone","formatUTC","utc_date","formatAllDay","chunks","formatCalFileText","meeting_url","toISOString","url_data","fmt","trp","dates","emails","rru","startdt","enddt","subject","allday","to","GoogleAnalyticsService","HotkeysService","VorlonService","VERSION","PLACEOS_APP_ACCESS","FeatureAvailableGuard","checkFeature","can_activate","formatRecurrence","charAt","toUpperCase","ConfirmModalComponent","CONFIRM_METADATA","_app_name","setAppName","msg","args","stream","app_name","window","jest","debug","colors","getItemWithKeys","array","el","exists","random","padString","chars","_openConfirmModal","dialog","csvToJson","csv","delimiter","objPattern","RegExp","arrMatches","arrData","exec","headers","elements","row","loadTextFileFromInputEvent","resolve","reject","target","file","files","reader","FileReader","readAsText","addEventListener","evt","srcElement","jsonToCsv","json","valid_keys","downloadFile","filename","contents","setAttribute","click","parseJWT","token","base64Url","base64","jsonPayload","decodeURIComponent","atob","charCodeAt","toString","an_array","stack","isArray","reverse","timePeriodsIntersect","start1","end1","start2","end2","seed","xmur3","rand","sfc32","predictableRandomInt","h","imul","timeFormatString","is24HourTime","localeString","toLocaleTimeString","querySelector","getAttribute","navigator","language","indexOf","prefix","invalid","obj","word","substring","cleanArray","removal_items","Title","timers","init","tracking_id","gtag","dataLayer","w","getElementsByTagName","j","dl","async","parentNode","insertBefore","service","load","page","setUser","send","label","app_prefix","screen","appName","screenName","route","origin","last_route","timing","variable","INVALID_STANDALONE_KEYS","keydown_states","keydown_observers","combo_end","registered_combos","counter","code","mapKey","last_down","preventDefault","listen","combo","combination","validCombination","last_key","updateCombinationEndList","presses","key_list","non_meta","_disable_logging","setNotifyOutlet","snackbar","disable_logging","notify","message","on_action","config","warn","snackbar_ref","panelClass","onAction","notifyWarn","info","setup","setupPlace","_setupPlace","settings","protocol","domain","hostname","port","use_domain","pathname","mock","href","localStorage","auth_type","scope","auth_uri","token_uri","redirect_uri","handle_login","local_login","use_iframe","VanillaQR","generateQRCode","colorLight","colorDark","qr","toTable","ecclevel","noBorder","borderSize","toImage","getModule","Subject","hookMethod","rootObject","functionToHook","hookingFunction","previousFunction","call","RemoteLoggingService","_system_id","_events","_event_history","_logging_bindings","_bindTo","execute","history","_patchConsoleMethods","setSystem","types","_handleEvent","event_type","subtype","startsWith","mod","module","binding","bind","mergeRoomConfig","roomConfigBuilder","buildingConfigs","roomConfigs","output","r","DEFAULT_SETTINGS","current_user","overrides","_overrides","_applyCssVariables","_observables","_subjects","_title","getTitle","setTitle","_analytics","_user_settings","_pending_settings","built","semver","hash","_setDarkMode","application","_applyUserSettings","_setFontSize","override_settings","override","_savePendingChanges","overrideCssVariable","important","getElementById","head","innerText","variable_map","css_string","font_size","general","banner","help","link","class","background","multiple_spaces","desk_start","breakdown","can_book_for_others","has_catering","has_assets","catering_enabled","hide_notes","hide_attendees","features_label","features_on_form","booking_unavailable","allow_externals","allow_recurrence","space_display","show_images","directory","show_avatars","min_search_length","schedule","use_websocket","legend","color","explore","can_select_building","show_legend_group_names","show_legend","use_zone_polygons","show_simple_sensor_info","app","short_name","logo_light","locales","flag","currency","default_route","use_geolocation","can_deliver","no_user_calendar","basic_user_search","no_maps","no_approval","allowed_daily_visitor_count","multiple_visitors","can_book_lockers","allow_groups","auto_allocation","show_calendar_links","analytics","hide_contacts","composer","whenChangesStable","_whenChangesStable","spectator","detectChanges","fixture","whenStable","addMilliseconds","getTimezoneOffset","LOCAL_TIMEZONE","tz","offset_diff","timezoneToLocal","TIMEZONES","TIMEZONES_IANA","utc","throttleTime","EVENTS_NAMES","UserIdleTimeService","_last_action","_update","_onUserInteraction","_event_names","last_action","idle_time","idleFor","time_ms","stop","startListening","stopListening","removeEventListener","showUser","retry","StaffUser","EMPTY_USER","_current_user","revision","imageTypes","bmp","gif","jpeg","jpg","png","tiff","webp","domElement","qrc","n","g","u","p","gexp","glog","R","Q","V","N1","N3","N2","N4","genframe","C","E","N","T","eccblocks","z","adelta","vpat","fmtword","tableWrite","canvasWrite","prototype","getContext","lineWidth","round","canvas","clearRect","fillStyle","fillRect","cssText","cloneNode","firstChild","innerHTML","Image","toDataURL","injectVorlonScript","removeVorlonScript","_script","CustomTooltipData","AccessibilityTooltipComponent_div_6_Template_mat_slide_toggle_ngModelChange_6_listener","applySetting","AccessibilityTooltipComponent_ng_container_14_Template_input_ngModelChange_7_listener","AccessibilityTooltipComponent","can_change_dark_mode","AccessibilityTooltipComponent_Template_div_click_1_listener","AccessibilityTooltipComponent_div_6_Template","AccessibilityTooltipComponent_Template_mat_slide_toggle_ngModelChange_13_listener","AccessibilityTooltipComponent_ng_container_14_Template","ActionIconComponent","className","ngContentSelectors","ActionIconComponent_Template","ɵɵprojection","ActionIconComponent_div_4_Template","ActionIconComponent_div_5_Template","Renderer2","SwUpdate","MatSnackBar","Clipboard","clientId","invalidateToken","isMock","refreshToken","setAPI_Key","setInternalUserDomain","setDefaultCreator","MOCKS","Amazon","Azure","Google","initialiseUploadService","OpenStack","TranslateService","StylesManager","applyTheme","initSentry","dsn","sample_rate","tracesSampleRate","global","_cache","_snackbar","_hotkey","_clipboard","_renderer","_translate","copy","clipboard","readText","tkn","_pasteToken","pasteToken","locale","use","onInitError","_initLocale","_initAnalytics","auto_start","endpoint","worker_url","providers","is_logged_in","addLangs","languages","lang","i6","i7","AppComponent_Template","AppComponent_debug_console_4_Template","onlineState","AuthorisedAdminGuard","checkUser","segments","_access","authority","BindingDirective","_element","sys","index","on_event","modelChange","_binding","_old_model","bindVariable","BuildingSelectComponent_mat_radio_button_12_Template_mat_radio_button_click_0_listener","bld_r1","BuildingSelectComponent","BuildingSelectComponent_Template_div_click_0_listener","BuildingSelectComponent_mat_radio_button_12_Template","BuildingPipe","marked","changelog","ɵɵsanitizeHtml","ChangelogModalComponent","ChangelogModalComponent_Template","ChangelogModalComponent_main_6_Template","ChangelogModalComponent_ng_template_7_Template","ClipboardModule","MatPaginatorModule","CdkTableModule","PortalModule","IconComponent","PopoutMenuComponent","UserAvatarComponent","InteractiveMapComponent","MapRadiusComponent","StatusOverlayComponent","FixedPipe","SafePipe","SanitizePipe","CustomTableComponent","CustomTooltipComponent","VirtualKeyboardComponent","GlobalLoadingComponent","MatSortModule","MapPolygonComponent","GlobalBannerComponent","ImageCarouselComponent","DurationPipe","DebugConsoleComponent","ScrollingModule","JsonDisplayComponent","LevelPipe","RegionSelectComponent","HelpTooltipComponent","SupportTicketModalComponent","LanguageSelectComponent","MAT_MODULES","DIRECTIVES","NgIf","MatRipple","MatDialogClose","MatProgressSpinner","NgForOf","NgSwitch","NgSwitchCase","NgSwitchDefault","DefaultValueAccessor","NgControlStatus","NgModel","CdkFixedSizeVirtualScroll","CdkVirtualForOf","CdkVirtualScrollViewport","AsyncPipe","DatePipe","i8","MatTooltip","TranslatePipe","ConfirmModalComponent_footer_4_Template_button_click_3_listener","onConfirm","cancel_text","confirm_text","disableClose","enableClose","ConfirmModalComponent_Template","ConfirmModalComponent_main_3_Template","ConfirmModalComponent_footer_4_Template","ConfirmModalComponent_ng_template_5_Template","TemplateRef","MatPaginator","MatSort","MatTableDataSource","Observable","column_size","i_r5","display_column","column_r4","row_r9","CustomTableComponent_ng_container_1_div_3_ng_template_2_ng_container_0_Template","ɵɵpureFunction3","CustomTableComponent_ng_container_1_div_3_ng_container_1_Template","CustomTableComponent_ng_container_1_div_3_ng_template_2_Template","CustomTableComponent_ng_container_1_div_2_Template","CustomTableComponent_ng_container_1_div_3_Template","CustomTableComponent_cdk_row_3_Template_cdk_row_click_0_listener","row_r19","row_clicked","empty","pagination","page_size","data_source","ngAfterViewInit","_sort","paginator","_paginator","filterPredicate","dataSource","CustomTableComponent_Query","CustomTableComponent_ng_container_1_Template","CustomTableComponent_cdk_header_row_2_Template","CustomTableComponent_cdk_row_3_Template","CustomTableComponent_ng_template_4_Template","Overlay","CdkPortal","Injector","CustomTooltipComponent_ng_template_1_ng_container_1_ng_container_1_Template","injector","CustomTooltipComponent_ng_template_1_ng_container_3_ng_container_1_Template","CustomTooltipComponent_ng_template_1_ng_container_1_Template","CustomTooltipComponent_ng_template_1_ng_container_2_Template","CustomTooltipComponent_ng_template_1_ng_container_3_Template","_overlay","_injector","backdrop","hover","_overlay_ref","onClick","onTouch","onEnter","onLeave","_updateInjector","x_pos","y_pos","_updateType","_portal","pos","default_x","default_y","create","hasBackdrop","positionStrategy","flexibleConnectedTo","withPositions","originX","originY","overlayX","overlayY","attach","backdropClick","dispose","parent","CustomTooltipComponent_Query","CustomTooltipComponent_touchend_HostBindingHandler","CustomTooltipComponent_mouseenter_HostBindingHandler","CustomTooltipComponent_mouseleave_HostBindingHandler","CustomTooltipComponent_ng_template_1_Template","obj_r6","json_tooltip","DebugConsoleComponent_div_0_div_2_div_8_ng_container_2_Template","DebugConsoleComponent_div_0_div_2_div_8_ng_container_3_Template","DebugConsoleComponent_div_0_div_2_div_8_ng_container_4_Template","DebugConsoleComponent_div_0_div_2_div_8_Template","log_r4","filtered_logs","DebugConsoleComponent_div_0_div_2_Template","DebugConsoleComponent_div_0_Template_input_ngModelChange_5_listener","DebugConsoleComponent_div_0_span_9_Template","trackByFn","logs","COLOR_MAP","network","dom","URL_STARTS","_logs","DebugConsoleComponent_Template","DebugConsoleComponent_div_0_Template","shorten","places","toFixed","GlobalBannerComponent_div_0_Template_button_click_3_listener","has_viewed","GlobalBannerComponent_Template","GlobalBannerComponent_div_0_Template","isOnline","online","GlobalLoadingComponent_Template","GlobalLoadingComponent_div_0_Template","GlobalLoadingComponent_div_1_Template","tile_r1","tiles","HelpTooltipComponent_Template_div_click_0_listener","HelpTooltipComponent_a_6_Template","IconComponent_Template","IconComponent_i_1_Template","IconComponent_img_2_Template","image_r5","ImageCarouselComponent_div_1_img_1_Template","ImageCarouselComponent_button_3_Template_button_click_0_listener","ImageCarouselComponent_button_4_Template_button_click_0_listener","i_r14","ImageCarouselComponent_div_5_button_1_Template","ImageCarouselComponent_Template","ImageCarouselComponent_div_1_Template","ImageCarouselComponent_div_2_Template","ImageCarouselComponent_button_3_Template","ImageCarouselComponent_button_4_Template","ImageCarouselComponent_div_5_Template","InjectionToken","QueryList","applyGlobalStyles","updateViewer","listenToViewerChanges","InteractiveMapComponent_ng_container_2_mat_spinner_1_Template","InteractiveMapComponent_div_3_ng_container_1_div_1_ng_container_3_ng_container_1_Template","element_r7","injectors","i_r8","InteractiveMapComponent_div_3_ng_container_1_div_1_ng_container_5_ng_container_1_Template","InteractiveMapComponent_div_3_ng_container_1_div_1_ng_container_3_Template","InteractiveMapComponent_div_3_ng_container_1_div_1_ng_container_4_Template","InteractiveMapComponent_div_3_ng_container_1_div_1_ng_container_5_Template","track_id","InteractiveMapComponent_div_3_ng_container_1_div_1_Template","InteractiveMapComponent_div_3_ng_container_1_Template","isSamePoint","p1","p2","onResize","updateDisplay","zoomChange","centerChange","feature_list","_on_changes","_extra_data","ratio$","ratio","svg_ratio$","svg_ratio","zoom$","createView","updateInjectors","focusOn","previousValue","currentValue","labels","updateView","updateFeatureList","desired_zoom","desired_center","_outlet_el","box","rect","_feature_list","toArray","old_injectors","InteractiveMapComponent_Query","InteractiveMapComponent_ng_container_2_Template","InteractiveMapComponent_div_3_Template","InteractiveMapComponent_ng_template_4_Template","_updateFormatting","formatted_json","JsonDisplayComponent_Template","LanguageSelectComponent_button_10_Template_button_click_0_listener","lang_r1","setLocale","_translation","LanguageSelectComponent_Template","LanguageSelectComponent_Template_div_click_0_listener","LanguageSelectComponent_button_10_Template","LoginComponent_ng_container_6_Template_input_keyup_enter_5_listener","toPassword","LoginComponent_ng_container_6_Template_input_keyup_enter_11_listener","login","LoginComponent_div_7_Template_button_click_1_listener","LoginComponent","username","password","pwd_field","setErrors","LoginComponent_Query","LoginComponent_i_3_Template","LoginComponent_img_4_Template","LoginComponent_ng_container_6_Template","LoginComponent_div_7_Template","LoginComponent_ng_template_8_Template","style_map","processFeature","processStyles","MapLocateModalComponent_Template","MapLocateModalComponent_div_6_Template","MapPinComponent__svg_svg_1_Template__svg_svg_click_0_listener","stroke","_details","show_message","attrs","MapPinComponent_Template","MapPinComponent_div_0_Template","MapPinComponent__svg_svg_1_Template","ChangeDetectorRef","scale","zoom_value","_cdr","padding","svg_scale","points","point_list","data$","processPoints","x_min","x_max","y_min","y_max","range","MapPolygonComponent_Template","formatDistanceToNow","last_seen_at","MapRadiusComponent_ng_container_0_div_2_span_2_Template","radius","last_seen","MapRadiusComponent_ng_container_0_Template_ng_container_resize_0_listener","updateRadius","MapRadiusComponent_ng_container_0_div_2_Template","_el","MapRadiusComponent_Template","MapRadiusComponent_ng_container_0_Template","PopoutMenuComponent_button_0_Template_button_click_0_listener","i_r2","PopoutMenuComponent_Template","PopoutMenuComponent_button_0_Template","PopoutMenuComponent_Template_button_click_1_listener","RedirectComponent_Template","RegionSelectComponent_mat_radio_button_12_Template_mat_radio_button_click_0_listener","setRegion","regions","region_list","region","active_region","RegionSelectComponent_Template_div_click_0_listener","RegionSelectComponent_mat_radio_button_12_Template","DomSanitizer","sanitizer","bypassSecurityTrustResourceUrl","bypassSecurityTrustUrl","bypassSecurityTrustScript","bypassSecurityTrustStyle","bypassSecurityTrustHtml","SecurityContext","sanitize","RESOURCE_URL","URL","SCRIPT","STYLE","HTML","link_r7","StatusOverlayComponent_ng_container_1_ng_container_5_Template","StatusOverlayComponent_ng_container_1_a_7_Template","links","StatusOverlayComponent_Template","StatusOverlayComponent_ng_container_1_Template","StatusOverlayComponent_ng_template_2_Template","StatusOverlayComponent_ng_template_4_Template","bld_r6","SupportTicketModalComponent_main_6_mat_option_24_Template","SupportTicketModalComponent_main_6_mat_error_31_Template","desc_error","SupportTicketModalComponent_footer_7_Template_button_click_1_listener","support_email","updateValueAndValidity","stmp_system","SupportTicketModalComponent_main_6_Template","SupportTicketModalComponent_footer_7_Template","SupportTicketModalComponent_ng_template_8_Template","initials","UserAvatarComponent_div_0_div_1_Template","photo","UserAvatarComponent_Template","UserAvatarComponent_div_0_Template","UserAvatarComponent_ng_template_1_Template","logout","WFHSettingsModalComponent","region_select","help_tooltip","UserControlsComponent_div_22_Template_button_click_1_listener","openWfhModal","language_tooltip","version","building_select","accessibility_tooltip","newSupportTicket","viewChangelog","fetch","UserControlsComponent_div_7_Template","UserControlsComponent_div_21_Template","UserControlsComponent_div_22_Template","UserControlsComponent_div_33_Template","UserControlsComponent_Template_button_click_34_listener","UserControlsComponent_Template_button_click_42_listener","UserControlsComponent_Template_button_click_47_listener","VirtualKeyboardComponent_ng_template_1_div_1_ng_container_1_Template_div_focus_1_listener","focusInput","VirtualKeyboardComponent_ng_template_1_div_1_ng_container_1_Template_div_click_1_listener","key_r4","handleKeyPress","VirtualKeyboardComponent_ng_template_1_div_1_ng_container_1_div_3_Template","VirtualKeyboardComponent_ng_template_1_div_1_ng_container_1_Template","row_r2","VirtualKeyboardComponent_ng_template_1_div_1_Template","keyset","DEFAULT_KEYS","onFocus","onBlur","blur","bottom","centerHorizontally","cursor_pos","selectionStart","substr","dispatchEvent","InputEvent","updateKeyState","selectionEnd","VirtualKeyboardComponent_Query","VirtualKeyboardComponent_blur_HostBindingHandler","VirtualKeyboardComponent_ng_template_1_Template","AttendeeListComponent_div_8_span_6_Template","user_r1","AttendeeListComponent","i18n_1","AttendeeListComponent_Template_button_click_2_listener","AttendeeListComponent_div_8_Template","CalendarEvent","EventDetailsModalComponent","SpacePipe","EventCardComponent_h4_0_span_1_Template","user_r7","EventCardComponent_a_1_div_30_div_1_Template","EventCardComponent_a_1_div_30_div_3_Template","EventCardComponent_a_1_Template_a_click_0_listener","EventCardComponent_a_1_div_22_Template","EventCardComponent_a_1_div_30_Template","ext","EventCardComponent","_space_pipe","getLocationString","zone_list","EventCardComponent_Template","EventCardComponent_h4_0_Template","EventCardComponent_a_1_Template","Building","BuildingLevel","EventDetailsModalComponent_div_15_button_1_Template_button_click_0_listener","checkin","room_status","EventDetailsModalComponent_div_15_button_1_Template","EventDetailsModalComponent_div_15_button_2_Template","can_check_in","allow_edit","opt_r18","EventDetailsModalComponent_ng_container_69_div_5_div_6_Template","item_r16","EventDetailsModalComponent_ng_container_69_div_5_Template","EventDetailsModalComponent_div_72_div_3_Template","item_r21","EventDetailsModalComponent_ng_container_73_div_5_Template","_c27","EventDetailsModalComponent_div_77_Template_attendee_list_click_1_listener","_r23","ctx_r22","show_attendees","linked_bookings","accept_count","response_status","declined_count","pending_count","_load","EventDetailsModalComponent_Template_i_modelChange_2_listener","EventDetailsModalComponent_div_3_Template","EventDetailsModalComponent_div_4_Template","EventDetailsModalComponent_div_15_Template","EventDetailsModalComponent_ng_container_35_Template","EventDetailsModalComponent_div_37_Template","EventDetailsModalComponent_Template_button_click_42_listener","EventDetailsModalComponent_ng_container_69_Template","EventDetailsModalComponent_Template_button_click_70_listener","EventDetailsModalComponent_interactive_map_71_Template","EventDetailsModalComponent_div_72_Template","EventDetailsModalComponent_ng_container_73_Template","EventDetailsModalComponent_div_77_Template","EventDetailsModalComponent_Template_button_click_80_listener","EventDetailsModalComponent_Template_button_click_85_listener","forkJoin","distinctUntilChanged","differenceInDays","querySpaceAvailability","saveEvent","generateEventForm","newCalendarEventFromBooking","EventLinkModalComponent","requestSpacesForZone","periodInFreeTimeSlot","filterSpacesFromRules","removeEvent","MINUTES","favorite_spaces","has_calendar","_assets","_date","filtered_spaces","limit_map","limited_zones","zone_limit","_space_bookings","s1","s2","obs","current_available_spaces","booking_rules","future_available_spaces","availability_method","cancelPostForm","catering_notes","clearValidators","listenForStatusChanges","catering_charge_code","form_data","openEventLinkModal","creator","recurrence","_pattern","recurring","checkSelectedSpacesAreAvailable","is_owner","calendar","_makeBooking","old_system","host_override","_ref2","exclude","space_ids","exclude_range","has_actioned","EventLinkModalComponent_Template_a_click_3_listener","EventLinkModalComponent_Template_a_click_8_listener","EventLinkModalComponent_Template_a_click_13_listener","EventLinkModalComponent_Template_button_click_19_listener","eventStatus","_default_user","DAYS_OF_WEEK","event_start","event_end","private","online_meeting_url","meeting_id","online_meeting_id","meeting_provider","online_meeting_provider","recurring_master_id","from_bookings","master","mailbox","range_start","range_end","days_of_week","attachments","is_external","guests","EVENTS_ENDPOINT","showEvent","createEvent","updateEvent","approveEvent","rejectEvent","queryEventGuests","checkinEventGuest","guest_id","isSpaceAvailable","system_ids","MatMenu","MatMenuItem","MatMenuTrigger","i9","i10","SlicePipe","addSeconds","isSameMinute","concat","getFreeTimeSlots","min_size","slots","bkn_start","bkn_end","getNextFreeTimeSlot","MINUTE","HOUR","DAY","WEEK","MONTH","DURATION_MAP","month","months","week","weeks","days","DEFAULT_RULES","auto_approve","stringToMinutes","addToDate","rulemap","rulesForSpace","ruleset","checkRulesMatch","rules","matches","conditions","is_before","is_after","min_length","max_length","setHours","setMinutes","BOOKING_DATE","validateCateringField","catering_control","control","catering_field","visitor_type","needs_space","needs_parking","setMockBookingStartDatetime","statusFromBookings","requestable","next_free_slot","currently_free","time_until_next_block","free_tomorrow","free_today","available_until","replaceBookings","new_bookings","filter_options","from","filtered_list","organizer","isFuture","is_future","DEFAULT_PATH","ExploreBookQrComponent","qr_code","ExploreBookingModalComponent_ng_container_6_main_1_div_11_Template","ExploreBookingModalComponent_ng_container_6_main_1_div_18_Template","ExploreBookingModalComponent_ng_container_6_main_1_div_19_Template","ExploreBookingModalComponent_ng_container_6_main_1_Template","ExploreBookingModalComponent_ng_container_6_Template_button_click_3_listener","ExploreBookingModalComponent","ExploreBookingModalComponent_button_4_Template","ExploreBookingModalComponent_ng_container_6_Template","ExploreBookingModalComponent_ng_template_8_Template","ExploreDeskInfoComponent_ng_template_1_p_5_Template","ExploreDeskInfoComponent_ng_template_1_p_6_Template","ExploreDeskInfoComponent_ng_template_1_p_7_Template","tries","parentElement","parseInt","ExploreDeskInfoComponent_Template","ExploreDeskInfoComponent_ng_template_1_Template","_r0","Desk","SetDatetimeModalComponent","ExploreDeviceInfoComponent","ExploreStateService","ExploreDesksService","_bookings","_in_use","_presence","_signs_of_life","_statuses","_users","_departments","_poll","_checked_in","_desk_bookings","departments","_bind","processBindingChange","_state_change","in_use","presence","signs","is_used","has_presence","has_signs","is_checked_in","processDesks","enable_booking","startPolling","actives","current_state","stopPolling","devices","at_location","signs_of_life","staff_name","processDevices","updateStatus","setStyles","device","map_width","map_height","coordinates_from","setFeatures","book_fn","_setBookingTime","custom","setActions","until","mac","manufacturer","os","ssid","ExploreDeviceInfoComponent_ng_template_5_Template_div_mouseleave_0_listener","ExploreDeviceInfoComponent_ng_template_5_p_3_Template","ExploreDeviceInfoComponent_ng_template_5_p_12_Template","ExploreDeviceInfoComponent_ng_template_5_p_13_Template","ExploreDeviceInfoComponent_ng_template_5_p_14_Template","ExploreDeviceInfoComponent_ng_template_5_p_15_Template","ExploreDeviceInfoComponent_ng_template_5_p_16_Template","hide_fields","variance","addSuffix","diameter","distance","distance_color","bg_color","loadUser","assigned_to","ExploreDeviceInfoComponent_Template_div_mouseenter_4_listener","ExploreDeviceInfoComponent_ng_template_5_Template","ɵɵstyleMap","ExploreLockerBankModalComponent","in_use_count","openBankModal","ExploreLockerBankInfoComponent_Template","ExploreLockerBankInfoComponent_Template_button_click_0_listener","ExploreLockerBankInfoComponent_ng_template_2_Template","Locker","LockerBank","ExploreLockerBankModalComponent_Template","ExploreLockersService","_explore","_status","sys_id","locker_status","map_status","bank_lockers","locker_id","allocated","bank_info","locker_count","in_use_percent","bld_r3","ExploreMapControlComponent_mat_form_field_1_Template_mat_select_ngModelChange_1_listener","ExploreMapControlComponent_mat_form_field_1_mat_option_3_Template","lvl_r7","ExploreMapControlComponent_mat_form_field_3_Template_mat_select_ngModelChange_2_listener","ExploreMapControlComponent_mat_form_field_3_mat_option_4_Template","ExploreMapControlComponent","relativeTo","queryParams","ExploreMapControlComponent_mat_form_field_1_Template","ExploreMapControlComponent_mat_form_field_3_Template","MapLocation","showStaff","SpacesService","ExploreSpacesService","ExploreZonesService","ExploreParkingService","pair_r2","ExploreMapViewComponent_div_16_div_3_Template","ExploreMapViewComponent","toggleZones","_s","_desks","_zones","_parking","_spaces","map_styles","positions","map_positions","map_features","map_actions","map_labels","locateSpace","locateUser","_locateFeature","updateZoom","setPositions","updateCenter","has_coordinates","parseFloat","locate_details","priority","locations","i11","ExploreMapViewComponent_Template_i_map_zoomChange_0_listener","ExploreMapViewComponent_Template_i_map_centerChange_0_listener","ExploreMapViewComponent_Template_mat_slide_toggle_ngModelChange_12_listener","ExploreMapViewComponent_div_16_Template","tmp_7_0","existing_event","week_events","week_availablility","day_events","_updateParkingSpaces","can_book","zoom_level","setLabels","ExploreSearchComponent_ng_container_11_mat_option_1_Template","ExploreSearchComponent_ng_container_11_mat_option_3_Template","ExploreSearchComponent","checkClick","search_str","select","showSearch","closeSearch","ExploreSearchComponent_Query","ɵɵresolveDocument","ExploreSearchComponent_touchstart_HostBindingHandler","ExploreSearchComponent_Template_app_icon_click_1_listener","ExploreSearchComponent_Template_input_ngModelChange_3_listener","ExploreSearchComponent_Template_input_blur_3_listener","ExploreSearchComponent_mat_spinner_5_Template","ExploreSearchComponent_ng_container_11_Template","querySystems","queryUsers","searchStaff","moduleFromMetadata","_emergency_contacts","_filter","emergency_contacts","_user_search","search_fn","_space_search","_points_of_interest","points_of_interest","poi","contacts","authority_id","contacts_map","temp","humidity","ExploreSensorInfoComponent","ExploreSensorInfoComponent_Template","ExploreSensorInfoComponent_div_1_Template","ExploreSensorInfoComponent_div_2_Template","ExploreSensorInfoComponent_div_3_Template","feature_r9","ExploreSpaceInfoComponent_ng_template_2_ul_16_li_1_Template","ExploreSpaceInfoComponent_ng_template_2_img_4_Template","ExploreSpaceInfoComponent_ng_template_2_div_5_Template","ExploreSpaceInfoComponent_ng_template_2_div_11_Template","ExploreSpaceInfoComponent_ng_template_2_div_15_Template","ExploreSpaceInfoComponent_ng_template_2_ul_16_Template","show_features","ExploreSpaceInfoComponent","updateOffset","clientWidth","clientHeight","ExploreSpaceInfoComponent_Template_div_mouseenter_0_listener","ExploreSpaceInfoComponent_ng_template_2_Template","free","pending","reserved","busy","unknown","handleBookingsChange","handleStatusChange","updateActions","updateHoverElements","bookSpace","_positions","active_level","_styles","_features","_actions","_labels","_message","limit","disable_features","disable_actions","disable_labels","style_mappings","disable_styles","levelsForBuilding","has_level","old_options","feature_map","actions_map","labels_map","Point","ViewerFeature","EMPTY_LABEL","_location","_capacity","_draw","_points","parseData","zone_metadata","areas","area","hide_label","label_location","draw_polygon","properties","coordinates","geometry","getCenterPoint","filled","area_id","temperature","people_count","people_count_sum","queue_size","colour","ExploreZoomControlComponent","zoomIn","zoomOut","ExploreZoomControlComponent_Template_button_click_0_listener","ExploreZoomControlComponent_Template_button_click_3_listener","ExploreZoomControlComponent_Template_button_click_6_listener","OverlayModule","SharedExploreModule","SetDatetimeModalComponent_main_6_div_1_Template","SetDatetimeModalComponent_main_6_div_2_Template","SetDatetimeModalComponent_main_6_Template_a_time_field_ngModelChange_13_listener","book_until","SetDatetimeModalComponent_Template","SetDatetimeModalComponent_main_6_Template","ActionFieldComponent","show_tooltip","performAction","ActionFieldComponent_Template","ActionFieldComponent_Template_button_keydown_enter_0_listener","ActionFieldComponent_Template_div_click_1_listener","ActionFieldComponent_Template_app_icon_click_3_listener","CounterComponent","step","ctrl_key","shift_key","render_fn","CounterComponent_Template","CounterComponent_Template_div_keydown_shift_0_listener","CounterComponent_Template_div_keydown_control_0_listener","CounterComponent_Template_div_keydown_meta_0_listener","CounterComponent_Template_div_keyup_shift_0_listener","CounterComponent_Template_div_keyup_control_0_listener","CounterComponent_Template_div_keyup_meta_0_listener","CounterComponent_Template_button_click_1_listener","CounterComponent_Template_button_click_6_listener","DateAdapter","MAT_DATE_FORMATS","NativeDateAdapter","addYears","formatISO","FieldDateAdapter","displayFormat","FIELD_DATE_FORMATS","dateInput","monthYearLabel","dateA11yLabel","monthYearA11yLabel","DateFieldComponent","_from","_to","date_string","old_date","getHours","getMinutes","useClass","DateFieldComponent_Template","DateFieldComponent_Template_mat_form_field_click_0_listener","ɵɵreference","DateFieldComponent_Template_input_ngModelChange_1_listener","option_r2","ɵɵtextInterpolate3","DurationFieldComponent","custom_options","duration_options","generateDurationOptions","_updateOption","option","DurationFieldComponent_Template","DurationFieldComponent_Template_mat_select_valueChange_2_listener","DurationFieldComponent_mat_option_4_Template","TimeFieldComponent","UserListFieldComponent","UserSearchFieldComponent","ItemListFieldComponent","UploadListFieldComponent","UploadFileFieldComponent","SpaceListFieldComponent","RichTextInputComponent","HostSelectFieldComponent","ImageListFieldComponent","RecurrenceFieldComponent","MatFormField","MatPrefix","MatSuffix","MatInput","MatOption","MatAutocomplete","MatAutocompleteTrigger","zip","user_r2","HostSelectFieldComponent_Template_mat_select_ngModelChange_1_listener","HostSelectFieldComponent_mat_option_2_Template","HostSelectFieldComponent_ng_container_6_Template","COMMA","ENTER","humanReadableByteCount","uploadFiles","takeWhile","blobUtil","ImageListFieldComponent_div_8_Template_button_click_3_listener","url_r7","copyLink","ImageListFieldComponent_div_8_Template_button_click_6_listener","viewImage","ImageListFieldComponent_div_8_Template_button_click_9_listener","removeImage","item_r13","progress","ImageListFieldComponent_div_9_Template_div_click_0_listener","retryUpload","ImageListFieldComponent_div_9_mat_progress_spinner_1_Template","ImageListFieldComponent_div_9_app_icon_2_Template","ImageListFieldComponent_div_9_div_3_Template","ImageListFieldComponent_button_11_Template_button_click_0_listener","ImageListFieldComponent_button_12_Template_button_click_0_listener","view_space","ImageListFieldComponent_mat_chip_row_16_Template_mat_chip_row_removed_0_listener","_r27","item_r25","uploadFile","observer","fileReader","arrayBuffer","upload_details","formatted_size","upload","blob","arrayBufferToBlob","upload_list","file_name","access_url","complete","readAsArrayBuffer","_upload_list","upload_ids","separators","uploads","ids","_list_el","addImageUrl","addImage","chipInput","inputElement","uploadImages","resolved","update_fn","_updateUploadHistory","done_list","ImageListFieldComponent_Query","ImageListFieldComponent_Template_div_resize_0_listener","ImageListFieldComponent_Template_input_change_7_listener","ImageListFieldComponent_div_8_Template","ImageListFieldComponent_div_9_Template","ImageListFieldComponent_button_11_Template","ImageListFieldComponent_button_12_Template","ImageListFieldComponent_mat_chip_row_16_Template","ImageListFieldComponent_Template_input_matChipInputTokenEnd_17_listener","SPACE","ItemListFieldComponent_mat_chip_row_3_Template_mat_chip_row_removed_0_listener","item_r2","addChipItem","input","item_list","removeChipItem","placeholder","ItemListFieldComponent_Template","ItemListFieldComponent_mat_chip_row_3_Template","ItemListFieldComponent_Template_input_matChipInputTokenEnd_4_listener","formattedValue","getDay","openCustomRecurrenceModal","setSimple","day_of_week","RecurrenceFieldComponent_Template","RecurrenceFieldComponent_Template_mat_select_ngModelChange_1_listener","RecurrenceFieldComponent_mat_option_15_Template","RecurrenceFieldComponent_Template_mat_option_click_16_listener","occurrences","ends_key","toggleDayOfWeek","RecurrenceModalComponent_Template_input_ngModelChange_11_listener","RecurrenceModalComponent_Template_mat_select_ngModelChange_13_listener","RecurrenceModalComponent_Template_button_click_25_listener","RecurrenceModalComponent_Template_button_click_27_listener","RecurrenceModalComponent_Template_button_click_29_listener","RecurrenceModalComponent_Template_button_click_31_listener","RecurrenceModalComponent_Template_button_click_33_listener","RecurrenceModalComponent_Template_button_click_35_listener","RecurrenceModalComponent_Template_button_click_37_listener","RecurrenceModalComponent_Template_mat_radio_group_ngModelChange_41_listener","RecurrenceModalComponent_Template_a_date_field_ngModelChange_48_listener","RecurrenceModalComponent_Template_input_ngModelChange_53_listener","Quill","readonly","_updateFn","_editor","root","_initialiseEditor","delta","convert","setContents","_editor_el","bounds","_container_el","modules","toolbar","readOnly","theme","on","RichTextInputComponent_Query","RichTextInputComponent_Template","NewSpaceSelectModalComponent","SpaceListFieldComponent_div_15_img_2_Template","SpaceListFieldComponent_div_15_ng_template_3_Template","SpaceListFieldComponent_div_15_Template_button_click_19_listener","changeSpaces","SpaceListFieldComponent_div_15_Template_button_click_23_listener","removeSpace","SpaceListFieldComponent_div_15_Template_button_click_27_listener","i18n_11","SpaceListFieldComponent_Template_mat_radio_group_ngModelChange_7_listener","SpaceListFieldComponent_div_15_Template","SpaceListFieldComponent_Template_button_click_16_listener","_c18","MatSelect","Identity","no_past_times","show_select","_time_options","generateAvailableTimes","time_options","showSelect","select_field","openedChange","datestamp","show_past","TimeFieldComponent_Query","TimeFieldComponent_Template","TimeFieldComponent_Template_mat_select_valueChange_1_listener","TimeFieldComponent_mat_option_3_Template","UploadFileFieldComponent_div_2_ng_container_3_Template","UploadFileFieldComponent_div_2_a_4_Template","UploadFileFieldComponent_div_2_Template_button_click_5_listener","onFileEvent","on_change","_uploadFile","UploadFileFieldComponent_Template_input_change_1_listener","UploadFileFieldComponent_div_2_Template","UploadFileFieldComponent_ng_template_3_Template","UploadListFieldComponent_div_12_div_1_ng_container_3_Template","UploadListFieldComponent_div_12_div_1_a_4_Template","UploadListFieldComponent_div_12_div_1_Template_button_click_5_listener","removeFile","UploadListFieldComponent_div_12_div_1_Template","UploadListFieldComponent_Template_input_change_10_listener","UploadListFieldComponent_div_12_Template","UploadListFieldComponent_ng_template_13_Template","NewUserModalComponent","searchGuests","USER_DOMAIN","UserListFieldComponent_mat_chip_row_6_Template_mat_chip_row_removed_0_listener","item_r9","removeUser","UserListFieldComponent_mat_option_13_Template_mat_option_click_0_listener","addUserFromEmail","search$","UserListFieldComponent_mat_option_14_Template_mat_option_click_0_listener","user_r14","addUser","UserListFieldComponent_div_16_Template_button_click_1_listener","openNewUserModal","UserListFieldComponent_div_16_Template_input_change_9_listener","addUsersFromFile","UserListFieldComponent_div_16_Template_button_click_10_listener","downloadCSVTemplate","download","validateEmail","re","test","search_valid_email","guests_only","hide_actions","custom_template","new_user","separatorKeysCodes","user_list$","staff","visitors_list","active_list","validFn","emptyClick","updateSearch","_search_el","visit_expected","a_user","processCsvData","staff_id","first_name","last_name","internal_emails","endsWith","phone","displayFn","UserListFieldComponent_Query","UserListFieldComponent_mat_chip_row_6_Template","UserListFieldComponent_Template_input_ngModelChange_7_listener","UserListFieldComponent_Template_input_matChipInputTokenEnd_7_listener","UserListFieldComponent_mat_spinner_10_Template","UserListFieldComponent_mat_option_13_Template","UserListFieldComponent_mat_option_14_Template","UserListFieldComponent_div_16_Template","UserSearchFieldComponent_mat_option_9_Template_mat_option_click_0_listener","option_r6","blurInput","UserSearchFieldComponent_mat_option_10_Template_div_mousedown_1_listener","stopPropagation","UserSearchFieldComponent_mat_option_10_Template_div_touchstart_1_listener","UserSearchFieldComponent_mat_option_10_Template_div_click_1_listener","UserSearchFieldComponent_mat_option_11_Template_mat_option_click_0_listener","empty_fn","query_fn","search_results$","cancelReset","user_list","resetSearchString","active_user","UserSearchFieldComponent_Query","UserSearchFieldComponent_Template_input_ngModelChange_2_listener","UserSearchFieldComponent_Template_input_keyup_enter_2_listener","validate","UserSearchFieldComponent_Template_input_blur_2_listener","UserSearchFieldComponent_Template_input_focus_2_listener","UserSearchFieldComponent_mat_spinner_6_Template","UserSearchFieldComponent_Template_mat_autocomplete_optionSelected_7_listener","UserSearchFieldComponent_mat_option_9_Template","UserSearchFieldComponent_mat_option_10_Template","UserSearchFieldComponent_mat_option_11_Template","_MOCKS","MOCK_CATEGORIES","MOCK_PRODUCTS","barcode","MOCK_ASSETS","model_number","MOCK_PURCHASE_ORDERS","registerMockEndpoint","BASE_PATH","ASSET_MOCKS","registerMocks","update","dataset","new_event","route_params","req","subDays","MOCK_SPACES","MOCK_GUESTS","MOCK_STAFF","MOCK_BUILDINGS","MOCK_LEVELS","EVENT_TIME","seconds","milliseconds","nextEventTime","TYPES","TRACKING","MOCK_BOOKINGS","throw_away","lvls","lvl_spaces","approver","guest","asset_count","plate_number","tracking","BOOKING_MOCKS","query_params","removed","MOCK_EVENTS","ACTIVE_USER","CALENDAR_MOCKS","user2","user3","handleSpaceAvailability","systems","MOCK_MENU","generateCateringOrder","mx","DOMAIN","API","unix","event_status","randomStatus","rnd","PEOPLE","unshift","event_spaces","mockSystem","EVENT_MOCKS","Bookings","$poll_bookings","generateMockSpace","randomSpaceFeatures","numFeatures","createSystem","SYSTEM_MOCKS","PREDEF_USERS","vaccination_proof","id_data","USER_MOCKS","person","generateLocation","LOCATION_TYPES","level_spaces","meeting","subtract","geo","lat","lon","MOCK_ORGS","triggers","mockLevel","num","MOCK_METADATA","PARKING_SPACES","ZONE_MOCKS","bindings","area_management","location_services","contact_tracing","generateMockDeskMetadata","generateParkingSpaces","charge_codes","map_regions","DESK_FEATURES","assignee","assigned_name","CameraTilt","CameraPan","CameraModule","presets","$pan","dir","$tilt","tilt","$recall","$save_preset","createCameraModule","CaptureModule","live","remaining","$start","$pause","$resume","$stop","createCaptureModule","CONTACT_EVENTS","filterFn","itm","contact_time","ContactTracingModule","$close_contacts","beginning","ending","mac_address","createContactTracingModule","RoomModule","tabs","volume","connected","input_list","output_list","env_sources","available_outputs","source","$power","$share","$route","$updateState","following","$unroute","$connect","$disconnect","$link","$merge","$split","$notify","$preset","$volume","$mute","mute","$unmute","$environment","$lock","locked","$unlock","Mic1","Mic2","Mic3","PC1","PC2","PC3","PC4","HDMI","VGA","Camera1","Camera2","Camera3","Camera4","TV1","VC1","Display1","Display2","Display5","states","createSystemModule","Md5","MockAreaManagementModule","overview","$locate_user","$update","updateLocations","MAC_LOOKUP","MockLocationServicesModule","$check_ownership_of","padZero","no","len","createAreaManagementModule","desk_count","desk_usage","device_capacity","device_count","estimated_people","percentage_use","recommendation","number","fixed","usr","hashStr","s2_cell_id","DisplayModule","createDisplayModule","subSeconds","MockBookingModule","time_zone","disable_book_now","disable_end_meeting","pending_period","pending_before","control_ui","catering_ui","last_booking_started","current_booking","next_booking","room_image","_space","$start_meeting","$end_meeting","$book_now","updateBookings","createBookingsModule","MeetingPushModule","supported_meeting_url","$econtrol","createMeetingPushModule","MicrophoneModule","createMicrophoneModule","$list_payment_methods","$add_payment_method","$get_product_prices","$create_payment_intent","$confirm_payment_intent","$cancel_payment_intent","$create_customer","createPaymentsModule","VideoConferenceModule","$show_camera_pip","visible","selfview","$mic_mute","mic_mute","$presentation_mode","presentation_mode","$hangup","$call_place_on_hold","calls","Status","$call_resume","$video_layout","layout","video_layout","$dtmf_send","digit","$dial","dial_number","createVideoConferenceModule","registerSystem","System","ContactTracing","AreaManagement","LocationServices","Camera","Display","Microphone","Capture","MeetingPush","VidConf","Payment","raw_data","disc_info","discovery_info","extras","extra_id","extra_name","loan_items","building_id","_roles","roles","locker_structure","_systems","_phone_numbers","phone_numbers","room_configurations","attributes","searchables","neighbourhoods","lvl_features","catering_hours","visitor_space","holding_bay","orientations","booking_details","catering_restricted_from","role","role_names","featuresForLevel","BLD_COUNT","LVL_COUNT","generateMockBuilding","generateMockLevel","nested","level2","level_name","PlaceZone","IGNORE_KEYS","Organisation","setting","queryZones","Region","region_settings","_region_settings","building_settings","_building_settings","regionSettings","_active_region","buildingSettings","bld_id","_organisation","_regions","loadRegionData","buildingsForRegion","_updateSettingOverrides","_buildings","_active_building","loadBuildingData","currency_code","_levels","_loaded_data","app_key","orgs","loadOrganisation","loadRegions","loadBuildings","blds","loadSettings","loadLevels","org_list","auth","org_zone","_this6","_this7","available_room_configs","prev","curr","_this8","app_settings","global_settings","_initialiseActiveBuilding","saveBuilding","use_location","geolocation","getCurrentPosition","latitude","longitude","coords","closest_bld","c_lat","c_long","b_lat","b_long","b_dist","pow","c_dist","_setDefaultBuilding","tz_start","ORG_COUNT","generateMockOrganisation","default_module","setMonth","card_type","item_r5","BLANK_CARD","card_number","cardholder","cvv","DATE_PIPE","CardInputFieldComponent","exp_month","exp_year","minLength","maxLength","years","digits","_index","is_amex","card_display","card_focused","activeElement","onInput","_focusChange","CardInputFieldComponent_Query","CardInputFieldComponent_Template_form_keyup_0_listener","CardInputFieldComponent_Template_div_focus_4_listener","CardInputFieldComponent_Template_input_keydown_7_listener","CardInputFieldComponent_img_9_Template","CardInputFieldComponent_mat_option_23_Template","CardInputFieldComponent_mat_option_31_Template","PaymentModalComponent_div_0_ng_container_1_ng_container_8_Template","PaymentModalComponent_div_0_ng_container_1_Template_card_input_field_ngModelChange_15_listener","card_details","PaymentModalComponent_div_0_ng_container_1_Template_button_click_17_listener","processPayment","PaymentModalComponent_div_0_ng_container_1_Template","transaction_id","PaymentModalComponent","_validCardDetails","PaymentModalComponent_div_0_Template","PaymentModalComponent_ng_template_2_Template","PaymentModalComponent_ng_template_4_Template","CurrencyPipe","STRIPE_ID_TOKEN","STRIPE_MODULE","_active_card","payment_sources","cost","_getCostOfProduct","customer_id","_newCustomerID","_processPayment","rate","_addPaymentMethod","card","payment_method","price","product_list","SpaceSelectItemComponent_div_0_button_7_Template_button_click_0_listener","SpaceSelectItemComponent_div_0_div_6_Template","SpaceSelectItemComponent_div_0_button_7_Template","by_request","SpaceSelectItemComponent","SpaceSelectItemComponent_Template","SpaceSelectItemComponent_div_0_Template","SpaceSelectItemComponent_ng_template_1_Template","bld_r10","SpaceSelectModalComponent_mat_form_field_9_Template_mat_select_ngModelChange_1_listener","SpaceSelectModalComponent_mat_form_field_9_mat_option_2_Template","type_r14","SpaceSelectModalComponent_mat_form_field_10_Template_mat_select_ngModelChange_1_listener","SpaceSelectModalComponent_mat_form_field_10_mat_option_2_Template","space_types","SpaceSelectModalComponent_ng_container_12_ng_container_1_ng_container_1_a_space_select_item_1_Template_a_space_select_item_click_0_listener","space_r19","spaceSelected","SpaceSelectModalComponent_ng_container_12_ng_container_1_ng_container_1_a_space_select_item_1_Template","space_map","SpaceSelectModalComponent_ng_container_12_ng_container_1_ng_container_1_Template","SpaceSelectModalComponent_ng_container_12_ng_container_1_Template","space_r27","SpaceSelectModalComponent_div_13_ng_container_1_a_space_select_item_1_Template","SpaceSelectModalComponent_div_13_ng_container_1_Template","show_selected","SpaceSelectModalComponent_footer_14_Template_button_click_1_listener","SpaceSelectModalComponent","SpaceSelectModalComponent_Template","SpaceSelectModalComponent_mat_form_field_9_Template","SpaceSelectModalComponent_mat_form_field_10_Template","SpaceSelectModalComponent_ng_container_12_Template","SpaceSelectModalComponent_div_13_Template","SpaceSelectModalComponent_footer_14_Template","SpaceSelectModalComponent_ng_template_15_Template","SpaceSelectModalComponent_ng_template_17_Template","NewSpaceSelectModalComponent_space_list_16_Template_space_list_toggleFav_0_listener","NewSpaceSelectModalComponent_space_list_16_Template_space_list_onSelect_0_listener","NewSpaceSelectModalComponent_button_19_Template_button_click_0_listener","NewSpaceSelectModalComponent_ng_template_37_Template_space_map_onSelect_0_listener","NewSpaceSelectModalComponent_Template_button_click_8_listener","NewSpaceSelectModalComponent_Template_button_click_10_listener","NewSpaceSelectModalComponent_Template_space_filters_display_viewChange_15_listener","NewSpaceSelectModalComponent_space_list_16_Template","NewSpaceSelectModalComponent_Template_space_details_activeChange_17_listener","NewSpaceSelectModalComponent_Template_space_details_toggleFav_17_listener","NewSpaceSelectModalComponent_Template_space_details_close_17_listener","NewSpaceSelectModalComponent_button_19_Template","NewSpaceSelectModalComponent_Template_button_click_31_listener","NewSpaceSelectModalComponent_ng_template_37_Template","feature_r7","SpaceDetailsComponent_ng_container_0_section_33_div_3_Template","SpaceDetailsComponent_ng_container_0_image_carousel_2_Template","SpaceDetailsComponent_ng_container_0_Template_button_click_3_listener","SpaceDetailsComponent_ng_container_0_Template_button_click_6_listener","SpaceDetailsComponent_ng_container_0_section_33_Template","SpaceDetailsComponent_ng_container_0_section_34_Template","SpaceDetailsComponent_ng_container_0_Template_button_click_36_listener","SpaceDetailsComponent","SpaceDetailsComponent_ng_container_0_Template","SpaceDetailsComponent_ng_template_1_Template","SpaceFiltersComponent","SpaceFiltersDisplayComponent_button_9_Template_button_click_0_listener","removeAllFeatures","SpaceFiltersDisplayComponent_div_22_Template_button_click_3_listener","feat_r5","SpaceFiltersDisplayComponent","SpaceFiltersDisplayComponent_Template_button_click_1_listener","SpaceFiltersDisplayComponent_Template_button_click_4_listener","SpaceFiltersDisplayComponent_Template_button_click_6_listener","SpaceFiltersDisplayComponent_button_9_Template","SpaceFiltersDisplayComponent_div_11_Template","SpaceFiltersDisplayComponent_div_22_Template","SpaceFiltersComponent_button_2_Template_button_click_0_listener","SpaceFiltersComponent_mat_form_field_13_Template_mat_select_ngModelChange_1_listener","SpaceFiltersComponent_mat_form_field_13_mat_option_5_Template","lvl_r11","SpaceFiltersComponent_section_48_ng_container_3_div_1_Template_mat_checkbox_ngModelChange_3_listener","feat_r13","feature_display","SpaceFiltersComponent_section_48_ng_container_3_div_1_Template","hide_features","SpaceFiltersComponent_section_48_ng_container_3_Template","SpaceFiltersComponent_div_50_Template_button_click_1_listener","SpaceFiltersComponent_button_2_Template","SpaceFiltersComponent_mat_form_field_13_Template","SpaceFiltersComponent_Template_mat_select_ngModelChange_16_listener","SpaceFiltersComponent_mat_option_18_Template","SpaceFiltersComponent_Template_a_time_field_ngModelChange_32_listener","SpaceFiltersComponent_Template_mat_checkbox_ngModelChange_46_listener","SpaceFiltersComponent_section_48_Template","SpaceFiltersComponent_div_50_Template","SpaceListComponent_ng_container_5_ul_1_li_1_Template_button_click_1_listener","SpaceListComponent_ng_container_5_ul_1_li_1_div_3_Template","SpaceListComponent_ng_container_5_ul_1_li_1_img_4_Template","SpaceListComponent_ng_container_5_ul_1_li_1_ng_template_5_Template","SpaceListComponent_ng_container_5_ul_1_li_1_Template_button_click_20_listener","SpaceListComponent_ng_container_5_ul_1_li_1_Template","SpaceListComponent_ng_container_5_ul_1_Template","SpaceListComponent","SpaceListComponent_ng_container_5_Template","SpaceListComponent_ng_template_7_Template","SpaceListComponent_ng_template_9_Template","SpaceLocationPinComponent","SpaceLocationPinComponent_Template","SpaceLocationPinComponent_div_15_Template","SpaceLocationPinComponent_app_icon_16_Template","SpaceSelectMapComponent","SpaceSelectMapComponent_Template","SpaceSelectMapComponent_Template_mat_select_ngModelChange_2_listener","SpaceSelectMapComponent_mat_option_3_Template","SpaceSelectMapComponent_Template_i_map_zoomChange_6_listener","SpaceSelectMapComponent_Template_i_map_centerChange_6_listener","SpaceSelectMapComponent_Template_button_click_10_listener","SpaceSelectMapComponent_Template_button_click_14_listener","SpaceSelectMapComponent_Template_button_click_18_listener","support_url","configurations","showSystem","querySystemsWithEmails","SPACE_LIST","EMPTY_SPACE","updateSpaceList","space_list","is_email","in","SPACE_LIST_REQUESTS","isValidUrl","validateURL","ctrl","generateSystemsFormFields","fields","installed_ui_devices","public","SPACE_COUNT","linked","long_name","searchable","controlable","cost_hour","linked_rooms","image","MatBottomSheetModule","SPACE_PIPE","_list","_compare","_init","loadSpaces","predicate","loadSpace","valid_spaces","fromUnixTime","defaultIfEmpty","FindAvailabilityModalComponent_div_21_Template_button_click_4_listener","user_r4","current_hour","FindAvailabilityModalComponent","selection_left","selection_width","availability_list","availability_map","move_time","_start_time","_move_last","_move_size","closeAndUpdate","el_rect","scrollTo","updateWidth","updateScroll","container_size","user_list_size","scrollLeft","startMovePeriod","MouseEvent","_onMovePeriod","_onMoveEnd","startMoveDuration","_onMoveDuration","change_px","change_min","FindAvailabilityModalComponent_Query","FindAvailabilityModalComponent_Template_main_resize_6_listener","FindAvailabilityModalComponent_Template_a_date_field_ngModelChange_8_listener","FindAvailabilityModalComponent_Template_a_user_search_field_ngModelChange_9_listener","FindAvailabilityModalComponent_Template_div_scroll_10_listener","FindAvailabilityModalComponent_div_21_Template","FindAvailabilityModalComponent_div_23_Template","FindAvailabilityModalComponent_Template_div_mousedown_24_listener","FindAvailabilityModalComponent_Template_div_touchstart_24_listener","FindAvailabilityModalComponent_Template_div_mousedown_26_listener","FindAvailabilityModalComponent_Template_div_touchstart_26_listener","FindAvailabilityModalComponent_div_30_Template","event_r1","UserAvailabilityComponent","UserAvailabilityComponent_Template","UserAvailabilityComponent_div_2_Template","GUEST_ENDPOINT","queryGuests","showGuest","updateGuest","removeGuest","listGuestMeetings","generateUserForm","NewUserModalComponent_footer_8_Template_button_click_3_listener","saveChanges","NewUserModalComponent_Template","NewUserModalComponent_main_7_Template","NewUserModalComponent_footer_8_Template","NewUserModalComponent_ng_template_9_Template","STAFF_ENDPOINT","locateStaff","hasError","UserFormComponent_form_0_div_1_Template","UserFormComponent_form_0_div_2_Template","UserFormComponent_form_0_div_3_Template","UserFormComponent_form_0_div_4_Template","UserFormComponent_form_0_div_5_Template","UserFormComponent_form_0_div_6_Template","assistance_required","UserFormComponent","UserFormComponent_Template","UserFormComponent_form_0_Template","sys_admin","support","preferred_beverage","accepted_terms_conditions","USER_LIST","UserPipe","USER_COUNT","USER_EMAILS","generateMockUser","external","delegates","delegate_count","visitor","staff_code","generateGuestForm","SharedUsersModule","MatCheckbox","i12","setDay","WFHSettingsModalComponent_div_0_div_28_Template_mat_checkbox_ngModelChange_5_listener","i_r7","available_weekdays","changed","day_r6","WFHSettingsModalComponent_div_0_div_28_Template","WFHSettingsModalComponent_div_0_Template_button_click_30_listener","weekdays","WFHSettingsModalComponent_button_3_Template_button_click_0_listener","type_r13","WFH_SETTING_KEY","_initWeekdays","_loadOptionForToday","WFHSettingsModalComponent_Template","WFHSettingsModalComponent_div_0_Template","WFHSettingsModalComponent_button_3_Template","WFHSettingsModalComponent_ng_template_4_Template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}